const _0x15d57d=_0x344c;(function(_0x33ef10,_0x504d6a){const _0x392178=_0x344c,_0x491fb0=_0x33ef10();while(!![]){try{const _0x5c864f=-parseInt(_0x392178(0x34c))/0x1*(-parseInt(_0x392178(0x3be))/0x2)+-parseInt(_0x392178(0xb8a))/0x3+-parseInt(_0x392178(0xcc8))/0x4+parseInt(_0x392178(0x68f))/0x5+-parseInt(_0x392178(0x26d))/0x6+-parseInt(_0x392178(0xbb7))/0x7*(-parseInt(_0x392178(0x399))/0x8)+-parseInt(_0x392178(0x760))/0x9*(-parseInt(_0x392178(0x35c))/0xa);if(_0x5c864f===_0x504d6a)break;else _0x491fb0['push'](_0x491fb0['shift']());}catch(_0x2e0576){_0x491fb0['push'](_0x491fb0['shift']());}}}(_0x76b6,0x3bda2));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x15d57d(0xb27),_0x15d57d(0x7c6),'เทพทรู',_0x15d57d(0x967),'นกฮูกกลางวัน',_0x15d57d(0x837),_0x15d57d(0x2b4),_0x15d57d(0x17b),_0x15d57d(0x8ae),_0x15d57d(0x41c),_0x15d57d(0xa40),_0x15d57d(0xc1e),_0x15d57d(0x1ac),_0x15d57d(0xc3d),'อัศวินรัตติกาล','จอมเวทย์ขนมหวาน',_0x15d57d(0x65b),'ซามูไรสายเดี่ยว',_0x15d57d(0x258),_0x15d57d(0xb88),_0x15d57d(0x214),_0x15d57d(0x246),'ปลาทูคะนอง',_0x15d57d(0x388),_0x15d57d(0x3bc),_0x15d57d(0x641),_0x15d57d(0x139),_0x15d57d(0x40b),_0x15d57d(0xb85),'หนอนหนังสือ','ยอดนักสืบ',_0x15d57d(0x470),'คนดีศรีสยาม',_0x15d57d(0x6a3),_0x15d57d(0x8e6),_0x15d57d(0x661),'เศรษฐีดูไบ','อินฟลูเอนเซอร์',_0x15d57d(0xa7c),'ดาวสภา',_0x15d57d(0x6c5),_0x15d57d(0x816),_0x15d57d(0xb75),'พิซซ่าหน้าทุเรียน',_0x15d57d(0x794),_0x15d57d(0xa5e),_0x15d57d(0xa88),_0x15d57d(0x8ce),_0x15d57d(0x1d4),_0x15d57d(0x406),'สายตาสั้น',_0x15d57d(0x616),_0x15d57d(0x1a5),_0x15d57d(0x56d),_0x15d57d(0xc70),'แบตหมด','เน็ตช้า',_0x15d57d(0x191),'404\x20Not\x20Found',_0x15d57d(0x15f),'จันทร์เจ้า',_0x15d57d(0x5c5),_0x15d57d(0x28a),_0x15d57d(0x27a),'ดวงดาว',_0x15d57d(0x2cf),'ทะเล','ภูเขา',_0x15d57d(0x24f),_0x15d57d(0xae1),_0x15d57d(0x8fb),_0x15d57d(0x181),_0x15d57d(0x1b0),'ศิลปิน',_0x15d57d(0x592),_0x15d57d(0x385),'นักวิทยาศาสตร์',_0x15d57d(0x61e),'นักกีฬา',_0x15d57d(0x623),'พลังคลื่นเต่า',_0x15d57d(0x747),_0x15d57d(0x1cf),_0x15d57d(0xb5b),_0x15d57d(0x54d),_0x15d57d(0xc24),_0x15d57d(0x94c),_0x15d57d(0xaff),'กัปตัน','ฮัลค์',_0x15d57d(0xa76),_0x15d57d(0x20f),'แอบชอบ',_0x15d57d(0x5c7),_0x15d57d(0xa1d),_0x15d57d(0x2a5),_0x15d57d(0xc34),'คนคุย',_0x15d57d(0x4aa),_0x15d57d(0x4a3)];let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x15d57d(0xbfe),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x1cd514=_0x15d57d;if(_0x1cd514(0xc49)in navigator)try{wakeLock=await navigator[_0x1cd514(0xc49)]['request'](_0x1cd514(0x555)),console['log'](_0x1cd514(0x485)),wakeLock['addEventListener'](_0x1cd514(0x1ff),()=>{const _0x5d9c69=_0x1cd514;console['log'](_0x5d9c69(0x26f));});}catch(_0x42ab3a){console[_0x1cd514(0x1c0)](_0x1cd514(0x284)+_0x42ab3a['name']+',\x20'+_0x42ab3a[_0x1cd514(0xce4)]);}else console[_0x1cd514(0xa97)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x5386c7=_0x15d57d;wakeLock!==null&&(await wakeLock[_0x5386c7(0x1ff)](),wakeLock=null,console['log'](_0x5386c7(0x672)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x3013b6=_0x15d57d;if(!document[_0x3013b6(0x99e)]['classList']['contains']('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x44b259=_0x3013b6;document['body']['classList'][_0x44b259(0xa54)](_0x44b259(0x6e3)),console[_0x44b259(0xb0b)](_0x44b259(0x9e1));},inactivityTime);}}function wakeUpScreen(_0x536ed8){const _0x24c5e5=_0x15d57d;_0x536ed8&&(_0x536ed8[_0x24c5e5(0x3e9)](),_0x536ed8[_0x24c5e5(0xccb)]());document['body'][_0x24c5e5(0xcbe)][_0x24c5e5(0xa49)](_0x24c5e5(0x6e3));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x4d3eeb=_0x24c5e5;document[_0x4d3eeb(0x99e)][_0x4d3eeb(0xcbe)][_0x4d3eeb(0xa54)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x225776=_0x15d57d;if(dimTimer)clearTimeout(dimTimer);document[_0x225776(0x99e)][_0x225776(0xcbe)][_0x225776(0xa49)](_0x225776(0x6e3)),window['removeEventListener'](_0x225776(0x2a6),resetDimTimer),window[_0x225776(0x9f3)]('mousedown',resetDimTimer),window[_0x225776(0x9f3)](_0x225776(0x32d),resetDimTimer),window['removeEventListener'](_0x225776(0x9c1),resetDimTimer),console[_0x225776(0xb0b)](_0x225776(0x6a4));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x56f970,_0x17c562=![]){const _0x2db637=_0x15d57d,_0x1101bc=allQuizzes[_0x2db637(0x52d)](_0x3539fa=>_0x3539fa['id']===_0x56f970)||allQuizzesGlobal[_0x2db637(0x52d)](_0x414a5f=>_0x414a5f['id']===_0x56f970);if(!_0x1101bc){showMessage(_0x2db637(0x4a9));return;}currentQuizData=getShuffledQuiz(_0x1101bc);const _0x21ae43=Math[_0x2db637(0x423)](0x3e8+Math[_0x2db637(0x2e8)]()*0x2328)[_0x2db637(0x771)]();try{const _0x4fe155=await addDoc(collection(db,_0x2db637(0xc02)+appId+_0x2db637(0x228)),{'quizId':_0x1101bc['id'],'projectId':_0x1101bc['projectId'],'status':'lobby','pin':_0x21ae43,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x17c562});currentTeamQuizId=_0x4fe155['id'],showView(_0x2db637(0x686)),renderAdminTeamQuizDashboard(_0x21ae43,_0x1101bc[_0x2db637(0x294)]),listenForTeamQuizUpdates();}catch(_0x3af366){console['error']('Error\x20starting\x20team\x20quiz:',_0x3af366),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x392a96,_0x492b51,_0x2bf10b=_0x15d57d(0x415)){const _0x1ff769=_0x15d57d,_0x55bd68=_0x2bf10b===_0x1ff769(0xac7)?'Group\x20Mode':_0x1ff769(0x718);liveGameView[_0x1ff769(0x632)]=_0x1ff769(0x77f)+_0x55bd68+':\x20'+_0x492b51+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x392a96+_0x1ff769(0x5b6),document[_0x1ff769(0x9c3)](_0x1ff769(0xac5))['addEventListener'](_0x1ff769(0xba1),async()=>{const _0x54daf4=_0x1ff769;showConfirmation(_0x54daf4(0x4fd),async()=>{const _0x3da94f=_0x54daf4;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+_0x3da94f(0x228),currentTeamQuizId)),showView(_0x3da94f(0x5fd));});});}function listenForTeamQuizUpdates(){const _0x380df5=_0x15d57d;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x1f446e=doc(db,_0x380df5(0xc02)+appId+_0x380df5(0x228),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x1f446e,_0x3da725=>{const _0x25ac38=_0x380df5;if(!_0x3da725[_0x25ac38(0x6b5)]()){sessionStorage[_0x25ac38(0x1bf)](_0x25ac38(0x6c3));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x25ac38(0x4b9));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x25ac38(0x5fd)):showView('student');return;}const _0x2f0e1b=_0x3da725[_0x25ac38(0xc5f)]();if(currentMode===_0x25ac38(0x5eb)){if(_0x2f0e1b[_0x25ac38(0x18f)]==='group'&&_0x2f0e1b['status']!==_0x25ac38(0xb35)&&_0x2f0e1b['status']!==_0x25ac38(0xa14)){const _0x4b7bd6=Object[_0x25ac38(0x234)](_0x2f0e1b[_0x25ac38(0xa7a)]||{});if(_0x4b7bd6['length']>0x0){const _0x28d468=_0x4b7bd6[_0x25ac38(0x68a)](_0x32fb20=>_0x32fb20[_0x25ac38(0x5c3)]===!![]);_0x28d468&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x2f0e1b);}else{if(_0x2f0e1b[_0x25ac38(0xc6c)]===_0x25ac38(0xb35)||_0x2f0e1b['status']===_0x25ac38(0xa14)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x2f0e1b[_0x25ac38(0x18f)]===_0x25ac38(0xac7)){const _0x1a1702=_0x2f0e1b[_0x25ac38(0xa7a)][userId];(!_0x1a1702||!_0x1a1702[_0x25ac38(0x5c3)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x4d5767){const _0x4dcbf7=_0x15d57d;console[_0x4dcbf7(0xb0b)](_0x4dcbf7(0x865));const _0x1e3923=doc(db,_0x4dcbf7(0xc02)+appId+'/public/data/teamQuizzes',_0x4d5767);try{const _0x732845=await getDoc(_0x1e3923);if(_0x732845[_0x4dcbf7(0x6b5)]()){const _0x15b910=_0x732845['data']();_0x15b910['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x15b910);}await updateDoc(_0x1e3923,{'status':_0x4dcbf7(0xb35)});}catch(_0x43e4b6){console['error']('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x43e4b6);}}function updateAdminTeamDashboard(_0x122467){const _0x52ce0a=_0x15d57d,_0xc5b83=document[_0x52ce0a(0x9c3)]('team-player-status-grid');if(!_0xc5b83)return;const _0x400201=_0x122467[_0x52ce0a(0x18f)]||_0x52ce0a(0x415),_0x50d89b=currentQuizData[_0x52ce0a(0xca5)]['length'];if(_0x400201==='group'){const _0x4af095=Object[_0x52ce0a(0x234)](_0x122467[_0x52ce0a(0xa7a)]||{});if(_0x4af095[_0x52ce0a(0x768)]===0x0){_0xc5b83[_0x52ce0a(0x632)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x5a2e2d=[..._0x4af095][_0x52ce0a(0x65c)]((_0x521c56,_0x3f8502)=>_0x3f8502[_0x52ce0a(0xaec)]-_0x521c56[_0x52ce0a(0xaec)]),_0x551f8a=_0x5a2e2d['map']((_0x2492e6,_0x58a7a8)=>{const _0x4f0c9f=_0x52ce0a,_0x3d262f=_0x2492e6['answers']?.[_0x4f0c9f(0x768)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x58a7a8+0x1)+_0x4f0c9f(0x5ae)+_0x2492e6['members'][_0x4f0c9f(0xb2d)](',\x20')+_0x4f0c9f(0x4fe)+_0x3d262f+'/'+_0x50d89b+_0x4f0c9f(0x71e)+_0x2492e6[_0x4f0c9f(0xaec)]+_0x4f0c9f(0xc09);})[_0x52ce0a(0xb2d)](''),_0x55ac99=currentQuizData[_0x52ce0a(0xca5)]['map']((_0x33dee2,_0x1c2fea)=>{const _0x46e52f=_0x52ce0a;let _0x3125e9=0x0,_0x51f440=0x0;_0x4af095[_0x46e52f(0x326)](_0x5b926d=>{const _0x233369=_0x46e52f,_0x5f2070=_0x5b926d[_0x233369(0x493)]?.[_0x233369(0x52d)](_0x1694fa=>_0x1694fa[_0x233369(0x9a5)]===_0x1c2fea);if(_0x5f2070){_0x51f440++;if(_0x5f2070[_0x233369(0xc0f)])_0x3125e9++;}});const _0x4651f6=_0x51f440>0x0&&_0x51f440===_0x4af095[_0x46e52f(0x768)],_0x47db4d=_0x4651f6?_0x46e52f(0x866):_0x46e52f(0x50c),_0x15b3c9=_0x4651f6?_0x46e52f(0x883):'';return _0x46e52f(0x282)+_0x47db4d+_0x46e52f(0x2af)+(_0x1c2fea+0x1)+_0x46e52f(0x51a)+_0x15b3c9+_0x46e52f(0x963)+_0x3125e9+'/'+_0x4af095[_0x46e52f(0x768)]+_0x46e52f(0x3c6);})[_0x52ce0a(0xb2d)]('');_0xc5b83[_0x52ce0a(0x632)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x551f8a+_0x52ce0a(0x242)+_0x55ac99+'</div></div></div>';return;}const _0xf62eed=_0x122467[_0x52ce0a(0x8e5)]||{},_0xb67387=Object[_0x52ce0a(0x906)](_0xf62eed);if(_0xb67387[_0x52ce0a(0x768)]===0x0){_0xc5b83[_0x52ce0a(0x632)]=_0x52ce0a(0x6ae);return;}const _0x35025c=_0xb67387[_0x52ce0a(0x929)](_0x2c621d=>({'name':_0x2c621d,'score':_0xf62eed[_0x2c621d][_0x52ce0a(0xaec)]||0x0}))[_0x52ce0a(0x65c)]((_0x198055,_0xd7924d)=>_0xd7924d[_0x52ce0a(0xaec)]-_0x198055[_0x52ce0a(0xaec)]),_0x1f3366=_0x35025c[_0x52ce0a(0x929)](_0x4302c1=>{const _0x8d6367=_0x52ce0a,_0x106ed7=_0xf62eed[_0x4302c1['name']]?.[_0x8d6367(0x493)]?.[_0x8d6367(0x768)]||0x0,_0x48d740=Math['ceil'](_0x50d89b/_0xb67387[_0x8d6367(0x768)]);return _0x8d6367(0x855)+_0x4302c1[_0x8d6367(0x5e1)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x106ed7+'/'+_0x48d740+_0x8d6367(0xbbf)+_0x4302c1[_0x8d6367(0xaec)]+_0x8d6367(0x591);})[_0x52ce0a(0xb2d)](''),_0x5df112=_0xb67387[_0x52ce0a(0x4f4)]((_0x404152,_0x34bb68)=>_0x404152+(_0xf62eed[_0x34bb68]['answers']?.[_0x52ce0a(0x768)]||0x0),0x0),_0x6fe42=currentQuizData['questions'][_0x52ce0a(0x929)]((_0x45f440,_0xfb5d8b)=>{const _0x2d6c36=_0x52ce0a;let _0x12b718=null,_0x587f03=null;for(const _0x4b4ca1 of _0xb67387){const _0x1a4da7=_0xf62eed[_0x4b4ca1]['answers']?.[_0x2d6c36(0x52d)](_0xde0558=>_0xde0558[_0x2d6c36(0x9a5)]===_0xfb5d8b);if(_0x1a4da7){_0x12b718=_0x1a4da7,_0x587f03=_0x4b4ca1;break;}}const _0x37a9a4=!!_0x12b718,_0x1b8097=_0x37a9a4&&_0x12b718[_0x2d6c36(0xc0f)],_0x1d2780=(Math[_0x2d6c36(0x423)](_0xfb5d8b/_0xb67387['length'])+0x1)*_0xb67387[_0x2d6c36(0x768)],_0x3b3407=_0x5df112>=_0x1d2780,_0xfb2821=_0x3b3407?_0x2d6c36(0x61f):'bg-black/10',_0x524794=_0x3b3407?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x2bce00='รอ...';return _0x37a9a4&&(_0x2bce00=_0x587f03+_0x2d6c36(0x333)+(_0x1b8097?_0x2d6c36(0x310):_0x2d6c36(0x8f6))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0xfb2821+_0x2d6c36(0x2af)+(_0xfb5d8b+0x1)+':</span><span>'+_0x524794+_0x2d6c36(0xd44)+_0x2bce00+'</p></div>';})['join']('');_0xc5b83[_0x52ce0a(0x632)]=_0x52ce0a(0x420)+_0x1f3366+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x6fe42+_0x52ce0a(0x892);}async function handleJoinTeamQuiz(){const _0x2e3999=_0x15d57d,_0x65875e=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x65875e||_0x65875e[_0x2e3999(0xa93)]()[_0x2e3999(0x768)]!==0x4){showMessage(_0x2e3999(0x41e));return;}try{const _0x52d4e0=collection(db,_0x2e3999(0xc02)+appId+_0x2e3999(0x228)),_0x5e5fc4=query(_0x52d4e0,where(_0x2e3999(0x7ca),'==',_0x65875e[_0x2e3999(0xa93)]()),where('status','==',_0x2e3999(0x833))),_0x3316ef=await getDocs(_0x5e5fc4);if(_0x3316ef[_0x2e3999(0x9dc)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x50bc74=_0x3316ef[_0x2e3999(0x293)][0x0];currentTeamQuizId=_0x50bc74['id'];const _0xd9f293=_0x50bc74[_0x2e3999(0xc5f)](),_0x5d2de7=doc(db,_0x2e3999(0xc02)+appId+'/public/data/projects',_0xd9f293[_0x2e3999(0x257)]),_0x1dc8ee=doc(db,'artifacts/'+appId+_0x2e3999(0x21e),_0xd9f293['quizId']),[_0x17da6e,_0x46483f]=await Promise[_0x2e3999(0xbfe)]([getDoc(_0x5d2de7),getDoc(_0x1dc8ee)]);if(!_0x17da6e[_0x2e3999(0x6b5)]()||!_0x46483f[_0x2e3999(0x6b5)]())throw new Error(_0x2e3999(0x26b));currentQuizData=getShuffledQuiz({'id':_0x46483f['id'],..._0x46483f[_0x2e3999(0xc5f)]()});const _0xeab13c=_0x17da6e[_0x2e3999(0xc5f)]();showTeamPlayerSelection(_0xeab13c[_0x2e3999(0x535)],currentQuizData['topic']);}catch(_0x75c80b){console[_0x2e3999(0x1c0)](_0x2e3999(0x7e2),_0x75c80b),showMessage(_0x2e3999(0x5a0)+_0x75c80b[_0x2e3999(0xce4)]);}}async function handleJoinGroupActivity(){const _0x5a87e9=_0x15d57d,_0x4a1f31=prompt(_0x5a87e9(0x765));if(!_0x4a1f31||_0x4a1f31[_0x5a87e9(0xa93)]()[_0x5a87e9(0x768)]!==0x4){showMessage(_0x5a87e9(0x481));return;}const _0x51be4e=_0x4a1f31[_0x5a87e9(0xa93)]();showMessage(_0x5a87e9(0xbac));try{const _0x16ae02=collection(db,_0x5a87e9(0xc02)+appId+_0x5a87e9(0x228)),_0x3b8ea6=query(_0x16ae02,where(_0x5a87e9(0x7ca),'==',_0x51be4e),where('status','==',_0x5a87e9(0x833))),_0x28dd18=await getDocs(_0x3b8ea6);if(!_0x28dd18['empty']){console[_0x5a87e9(0xb0b)](_0x5a87e9(0xb8b)),await proceedWithTeamQuizJoin(_0x28dd18[_0x5a87e9(0x293)][0x0]);return;}const _0xaebda6=collection(db,_0x5a87e9(0xc02)+appId+_0x5a87e9(0x37d)),_0x5b317e=query(_0xaebda6,where(_0x5a87e9(0x7ca),'==',_0x51be4e),where(_0x5a87e9(0xc6c),'==',_0x5a87e9(0x833))),_0x542da7=await getDocs(_0x5b317e);if(!_0x542da7['empty']){console[_0x5a87e9(0xb0b)](_0x5a87e9(0x566)),await proceedWithSyncQuizJoin(_0x542da7[_0x5a87e9(0x293)][0x0]);return;}showMessage(_0x5a87e9(0x564));}catch(_0x71bfd8){console[_0x5a87e9(0x1c0)](_0x5a87e9(0x8d9),_0x71bfd8),showMessage(_0x5a87e9(0x831)+_0x71bfd8[_0x5a87e9(0xce4)]);}}async function proceedWithTeamQuizJoin(_0x52a48c){const _0x4bc62c=_0x15d57d;currentTeamQuizId=_0x52a48c['id'];const _0x1f9b6e=_0x52a48c[_0x4bc62c(0xc5f)](),_0x3ef66d=doc(db,'artifacts/'+appId+_0x4bc62c(0x47e),_0x1f9b6e[_0x4bc62c(0x257)]),_0x2646db=doc(db,'artifacts/'+appId+_0x4bc62c(0x21e),_0x1f9b6e[_0x4bc62c(0x8c4)]),[_0x1b2eb1,_0x474d0f]=await Promise['all']([getDoc(_0x3ef66d),getDoc(_0x2646db)]);if(!_0x1b2eb1[_0x4bc62c(0x6b5)]()||!_0x474d0f[_0x4bc62c(0x6b5)]())throw new Error(_0x4bc62c(0x26b));currentQuizData=getShuffledQuiz({'id':_0x474d0f['id'],..._0x474d0f[_0x4bc62c(0xc5f)]()}),showTeamPlayerSelection(_0x1b2eb1[_0x4bc62c(0xc5f)]()[_0x4bc62c(0x535)],currentQuizData[_0x4bc62c(0x294)],_0x1f9b6e['mode']||_0x4bc62c(0x415)),messageModal[_0x4bc62c(0xcbe)][_0x4bc62c(0xa54)](_0x4bc62c(0x8e4));}async function proceedWithSyncQuizJoin(_0x5b0a0f){const _0x169c9a=_0x15d57d;currentLiveGameId=_0x5b0a0f['id'];const _0xf921bb=_0x5b0a0f[_0x169c9a(0xc5f)](),_0x13c870=doc(db,_0x169c9a(0xc02)+appId+'/public/data/quizzes',_0xf921bb[_0x169c9a(0x8c4)]),_0x2f46ea=await getDoc(_0x13c870);if(!_0x2f46ea[_0x169c9a(0x6b5)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x2a5c56=_0x2f46ea['data'](),_0x1aa902=doc(db,_0x169c9a(0xc02)+appId+_0x169c9a(0x47e),_0x2a5c56[_0x169c9a(0x257)]),_0xbea3b0=await getDoc(_0x1aa902);if(!_0xbea3b0[_0x169c9a(0x6b5)]())throw new Error(_0x169c9a(0x3b1));currentQuizData=_0xf921bb[_0x169c9a(0x4b5)],showView(_0x169c9a(0x34b)),showTeamPlayerSelection(_0xbea3b0[_0x169c9a(0xc5f)]()[_0x169c9a(0x535)],_0x2a5c56[_0x169c9a(0x294)],_0x169c9a(0x862)),document[_0x169c9a(0x9c3)]('confirm-team-players-btn')['onclick']=confirmAndJoinSyncGame,messageModal[_0x169c9a(0xcbe)][_0x169c9a(0xa54)](_0x169c9a(0x8e4));}function getCleanApplicationHTML(){const _0x57e06b=_0x15d57d,_0x3abbe9=document[_0x57e06b(0x9c3)]('applicationContent');if(!_0x3abbe9)return'';const _0x5e98f5=_0x3abbe9[_0x57e06b(0x60f)](!![]);return _0x5e98f5[_0x57e06b(0xc76)](_0x57e06b(0x80d))[_0x57e06b(0x326)](_0x39574b=>{const _0xbc250d=_0x57e06b;_0x39574b[_0xbc250d(0xcbe)][_0xbc250d(0xa49)](_0xbc250d(0x40d),_0xbc250d(0x736)),_0x39574b['disabled']=![];}),_0x5e98f5[_0x57e06b(0x632)];}function showTeamPlayerSelection(_0x6e440a,_0x519bb0,_0x554e3e=_0x15d57d(0x415)){const _0x288710=_0x15d57d;studentInitialView[_0x288710(0xcbe)]['add'](_0x288710(0x8e4)),studentJoinGameView[_0x288710(0xcbe)][_0x288710(0xa54)](_0x288710(0x8e4)),document[_0x288710(0x9c3)](_0x288710(0x914))[_0x288710(0xcbe)]['remove']('hidden');let _0x734b61='Team\x20Quiz';if(_0x554e3e===_0x288710(0xac7))_0x734b61=_0x288710(0x5f5);else _0x554e3e===_0x288710(0x862)&&(_0x734b61='Sync\x20Mode');document[_0x288710(0x9c3)](_0x288710(0x800))['textContent']=_0x734b61+':\x20'+_0x519bb0;const _0x3caa26=document[_0x288710(0x9c3)](_0x288710(0x83d));if(!_0x6e440a||_0x6e440a['length']===0x0){_0x3caa26['innerHTML']=_0x288710(0xb06),document['getElementById'](_0x288710(0x725))[_0x288710(0x704)]=!![];return;}_0x3caa26[_0x288710(0x632)]=_0x6e440a[_0x288710(0x929)](_0x4510d0=>_0x288710(0x3d3)+_0x4510d0+_0x288710(0x3e3)+_0x4510d0+_0x288710(0x99d))[_0x288710(0xb2d)](''),document[_0x288710(0x9c3)]('confirm-team-players-btn')[_0x288710(0x704)]=![];}async function confirmAndStartTeamQuiz(){const _0x3cc8ba=_0x15d57d,_0x183901=Array['from'](document['querySelectorAll'](_0x3cc8ba(0x502)))['map'](_0x4e3c4e=>_0x4e3c4e[_0x3cc8ba(0x3bb)]);if(_0x183901[_0x3cc8ba(0x768)]===0x0){showMessage(_0x3cc8ba(0x66e));return;}localTeamPlayers=_0x183901,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x261dd6=doc(db,'artifacts/'+appId+_0x3cc8ba(0x228),currentTeamQuizId);try{const _0x2f5489=await getDoc(_0x261dd6);if(!_0x2f5489[_0x3cc8ba(0x6b5)]())throw new Error(_0x3cc8ba(0x6a2));const _0x309a34=_0x2f5489[_0x3cc8ba(0xc5f)]();if(_0x309a34['mode']===_0x3cc8ba(0xac7)){const _0x2f79c1={[_0x3cc8ba(0x62d)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x261dd6,_0x2f79c1);}else{const _0x552496=_0x309a34[_0x3cc8ba(0x8e5)]||{};localTeamPlayers[_0x3cc8ba(0x326)](_0x276d66=>{!_0x552496[_0x276d66]&&(_0x552496[_0x276d66]={'score':0x0,'answers':[]});}),await updateDoc(_0x261dd6,{'responses':_0x552496});}document['getElementById'](_0x3cc8ba(0x914))[_0x3cc8ba(0xcbe)]['add'](_0x3cc8ba(0x8e4)),renderTeamQuizQuestion();const _0x326c15={'gameId':currentTeamQuizId,'mode':_0x309a34[_0x3cc8ba(0x18f)]||_0x3cc8ba(0x415),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3cc8ba(0x56f)](_0x3cc8ba(0x6c3),JSON[_0x3cc8ba(0x933)](_0x326c15)),listenForTeamQuizUpdates();}catch(_0x29e500){console['error'](_0x3cc8ba(0x9a1),_0x29e500),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x45db79=_0x15d57d;if(localQuestionIndex>=currentQuizData['questions'][_0x45db79(0x768)]){displayTeamQuizFinalResults();return;}const _0x26981e=currentQuizData['questions'][localQuestionIndex],_0x348e4f=localTeamPlayers[localPlayerIndex],_0x4b1189=_0x26981e[_0x45db79(0xc6a)]||currentQuizData[_0x45db79(0x434)];let _0x1c498e=_0x26981e['stem']||_0x26981e[_0x45db79(0xb0e)],_0x1ba9a9='';switch(_0x4b1189){case _0x45db79(0x3ee):case _0x45db79(0x1d1):_0x1ba9a9=_0x26981e[_0x45db79(0x78a)][_0x45db79(0x929)]((_0x3051db,_0x7c04c4)=>_0x45db79(0x976)+_0x7c04c4+_0x45db79(0x8ab)+_0x7c04c4+_0x45db79(0x7a1)+_0x7c04c4+'\x22>'+_0x3051db+_0x45db79(0x8d6))[_0x45db79(0xb2d)]('');break;case _0x45db79(0x160):_0x1ba9a9=_0x45db79(0xae7);break;case'short_answer':case _0x45db79(0xbb0):_0x1ba9a9=_0x45db79(0xa77);break;case _0x45db79(0xb59):_0x1ba9a9=_0x45db79(0xb22)+_0x26981e['allResponses'][_0x45db79(0x929)](_0x3cb312=>_0x45db79(0x1dc)+_0x3cb312+'\x22>'+_0x3cb312+_0x45db79(0x9ea))[_0x45db79(0xb2d)]('')+_0x45db79(0xc8f);break;default:_0x1ba9a9=_0x45db79(0x229);break;}studentQuizArea[_0x45db79(0x632)]=_0x45db79(0xaad)+(localQuestionIndex+0x1)+_0x45db79(0x782)+currentQuizData['questions'][_0x45db79(0x768)]+_0x45db79(0x556)+_0x348e4f+_0x45db79(0xd25)+(localQuestionIndex+0x1)+'.\x20'+_0x1c498e+_0x45db79(0x978)+(_0x26981e[_0x45db79(0x7bc)]?_0x45db79(0x50a)+_0x26981e[_0x45db79(0x7bc)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x1ba9a9+_0x45db79(0x208),studentQuizArea[_0x45db79(0xcbe)]['remove']('hidden');if(window[_0x45db79(0x1b4)])MathJax[_0x45db79(0xc2c)]([studentQuizArea]);document['getElementById']('submit-team-answer-btn')[_0x45db79(0x762)](_0x45db79(0xba1),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x46b17f=_0x15d57d,_0x437713=currentQuizData[_0x46b17f(0xca5)][localQuestionIndex],_0x5901da=_0x437713[_0x46b17f(0xc6a)]||currentQuizData[_0x46b17f(0x434)];let _0x4dfeb0=null,_0x53e5af=![];if(_0x5901da===_0x46b17f(0x31e)||_0x5901da===_0x46b17f(0xbb0)){const _0x324268=document['querySelector']('textarea[name=\x22team_answer\x22]');if(!_0x324268||!_0x324268['value'][_0x46b17f(0xa93)]()){showMessage(_0x46b17f(0xc23));return;}_0x4dfeb0=_0x324268[_0x46b17f(0x3bb)]['trim'](),_0x53e5af=await gradeShortAnswer(_0x4dfeb0,_0x437713);}else{const _0x50c4be=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x50c4be||_0x50c4be[_0x46b17f(0x3bb)]===''){showMessage(_0x46b17f(0x6b0));return;}_0x4dfeb0=_0x50c4be['value'];switch(_0x5901da){case _0x46b17f(0x160):_0x53e5af=_0x4dfeb0==='true'===_0x437713[_0x46b17f(0xa79)];break;case _0x46b17f(0xb59):_0x53e5af=_0x4dfeb0===_0x437713['correctResponse'];break;default:_0x53e5af=parseInt(_0x4dfeb0)===_0x437713[_0x46b17f(0xa02)];break;}}const _0x228aab={'questionIndex':localQuestionIndex,'isCorrect':_0x53e5af},_0x436c55=userId,_0x171193={['groups.'+_0x436c55+_0x46b17f(0xb79)]:arrayUnion(_0x228aab)};_0x53e5af&&(_0x171193[_0x46b17f(0x62d)+_0x436c55+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x46b17f(0xc02)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x171193),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x46b17f(0xca5)][_0x46b17f(0x768)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x5d0935){console[_0x46b17f(0x1c0)](_0x46b17f(0xaef),_0x5d0935),showMessage(_0x46b17f(0xd2e));}}async function handleTeamAnswerSubmit(){const _0x5b59bd=_0x15d57d,_0x38ed0c=await getDoc(doc(db,_0x5b59bd(0xc02)+appId+_0x5b59bd(0x228),currentTeamQuizId));if(!_0x38ed0c[_0x5b59bd(0x6b5)]())return;const _0x59617b=_0x38ed0c[_0x5b59bd(0xc5f)]();if(_0x59617b[_0x5b59bd(0x18f)]===_0x5b59bd(0xac7)){handleGroupAnswerSubmit();return;}const _0x16d81d=localTeamPlayers[localPlayerIndex],_0x581d6f=currentQuizData[_0x5b59bd(0xca5)][localQuestionIndex],_0x151c5c=_0x581d6f['questionType']||currentQuizData[_0x5b59bd(0x434)];let _0x46b2f1=null,_0x26432a=![];if(_0x151c5c===_0x5b59bd(0x31e)||_0x151c5c===_0x5b59bd(0xbb0)){const _0x5a067a=document['querySelector'](_0x5b59bd(0x19c));if(!_0x5a067a||!_0x5a067a[_0x5b59bd(0x3bb)][_0x5b59bd(0xa93)]()){showMessage(_0x5b59bd(0x617));return;}_0x46b2f1=_0x5a067a['value'][_0x5b59bd(0xa93)](),_0x26432a=await gradeShortAnswer(_0x46b2f1,_0x581d6f);}else{const _0x4bcf24=document[_0x5b59bd(0x8da)](_0x5b59bd(0x97f));if(!_0x4bcf24||_0x4bcf24['value']===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x46b2f1=_0x4bcf24[_0x5b59bd(0x3bb)];switch(_0x151c5c){case _0x5b59bd(0x160):_0x26432a=_0x46b2f1===_0x5b59bd(0x596)===_0x581d6f[_0x5b59bd(0xa79)];break;case _0x5b59bd(0xb59):_0x26432a=_0x46b2f1===_0x581d6f['correctResponse'];break;default:_0x26432a=parseInt(_0x46b2f1)===_0x581d6f[_0x5b59bd(0xa02)];break;}}const _0x505af4={'questionIndex':localQuestionIndex,'isCorrect':_0x26432a,'answerValue':_0x46b2f1},_0x53ead4={[_0x5b59bd(0xc99)+_0x16d81d+_0x5b59bd(0xb79)]:arrayUnion(_0x505af4)};_0x26432a&&(_0x53ead4[_0x5b59bd(0xc99)+_0x16d81d+_0x5b59bd(0x72e)]=increment(0x1));try{await updateDoc(doc(db,_0x5b59bd(0xc02)+appId+_0x5b59bd(0x228),currentTeamQuizId),_0x53ead4),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x5b59bd(0x768)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x3c2d90){console['error'](_0x5b59bd(0x7ec),_0x3c2d90),showMessage(_0x5b59bd(0xd2e));}}async function displayTeamQuizFinalResults(){const _0x597e71=_0x15d57d;studentQuizArea['classList'][_0x597e71(0xa54)](_0x597e71(0x8e4)),studentResultArea[_0x597e71(0xcbe)][_0x597e71(0xa49)]('hidden');const _0x4dee03=doc(db,'artifacts/'+appId+_0x597e71(0x228),currentTeamQuizId),_0x287e9f=await getDoc(_0x4dee03);if(!_0x287e9f[_0x597e71(0x6b5)]()){studentResultArea[_0x597e71(0x632)]=_0x597e71(0xc22);return;}const _0x4bdd42=_0x287e9f[_0x597e71(0xc5f)]();let _0x24ff53=[];const _0x163aa6=_0x4bdd42['mode']||_0x597e71(0x415);if(_0x163aa6===_0x597e71(0xac7)){const _0x3af805=_0x4bdd42[_0x597e71(0xa7a)][userId];_0x3af805?_0x24ff53=[{'name':_0x597e71(0x264)+localTeamPlayers['join'](',\x20'),'score':_0x3af805[_0x597e71(0xaec)]||0x0}]:_0x24ff53=[{'name':_0x597e71(0xb48),'score':_0x597e71(0x7d9)}];}else _0x24ff53=localTeamPlayers[_0x597e71(0x929)](_0x23aaf0=>({'name':_0x23aaf0,'score':_0x4bdd42['responses'][_0x23aaf0]?.[_0x597e71(0xaec)]||0x0}))[_0x597e71(0x65c)]((_0x3aaac0,_0x34e34c)=>_0x34e34c['score']-_0x3aaac0[_0x597e71(0xaec)]);studentResultArea[_0x597e71(0x632)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24ff53[_0x597e71(0x929)](_0x554b0f=>_0x597e71(0xcfe)+_0x554b0f[_0x597e71(0x5e1)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x554b0f['score']+_0x597e71(0x49f))[_0x597e71(0xb2d)]('')+_0x597e71(0x733),sessionStorage['removeItem']('activeGameSession'),currentMode===_0x597e71(0x5eb)&&currentTeamQuizId&&setTimeout(()=>{const _0x58cc24=_0x597e71;deleteDoc(doc(db,_0x58cc24(0xc02)+appId+_0x58cc24(0x228),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x15d57d(0x224),'pinnedProjects':[],'projectView':_0x15d57d(0xb18)};const allMathTopics=[{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0xb54)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x8c2)},{'category':'จำนวนและการดำเนินการ','name':_0x15d57d(0x9a2)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x301)},{'category':'จำนวนและการดำเนินการ','name':_0x15d57d(0x626)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x5da)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0xc68)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x1a8)},{'category':_0x15d57d(0xa1a),'name':'จำนวนเต็มบวก'},{'category':_0x15d57d(0xa1a),'name':'จำนวนเต็มลบ'},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0xb67)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0xb15)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x2db)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x5a2)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x5d9)},{'category':'จำนวนและการดำเนินการ','name':_0x15d57d(0xd0e)},{'category':_0x15d57d(0xa1a),'name':'อัตราส่วนและสัดส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x15d57d(0x48e)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x41a)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0xc4a)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x6fc)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0xb28)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x9a6)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0xa1e)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x173)},{'category':'จำนวนและการดำเนินการ','name':_0x15d57d(0x95b)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x168)},{'category':'จำนวนและการดำเนินการ','name':_0x15d57d(0xb42)},{'category':_0x15d57d(0xa1a),'name':'การหารทศนิยม'},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x69e)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0xc6f)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x8f0)},{'category':_0x15d57d(0xa1a),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x15d57d(0xa1a),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0xd0f)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x7ad)},{'category':_0x15d57d(0xa1a),'name':_0x15d57d(0x80f)},{'category':_0x15d57d(0x796),'name':_0x15d57d(0x440)},{'category':_0x15d57d(0x796),'name':_0x15d57d(0x3fc)},{'category':_0x15d57d(0x796),'name':_0x15d57d(0x8cd)},{'category':_0x15d57d(0x796),'name':'ปริมาตร/ความจุและการแปลง'},{'category':'การวัด','name':_0x15d57d(0x3f3)},{'category':'การวัด','name':'เส้นรอบรูป'},{'category':'การวัด','name':_0x15d57d(0xacb)},{'category':_0x15d57d(0x796),'name':_0x15d57d(0x6fa)},{'category':_0x15d57d(0x796),'name':_0x15d57d(0x25e)},{'category':_0x15d57d(0x796),'name':_0x15d57d(0x8b6)},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x15d57d(0x796),'name':_0x15d57d(0x87b)},{'category':_0x15d57d(0x796),'name':_0x15d57d(0xb78)},{'category':'การวัด','name':_0x15d57d(0xbc9)},{'category':_0x15d57d(0x391),'name':_0x15d57d(0x520)},{'category':_0x15d57d(0x391),'name':_0x15d57d(0x91c)},{'category':_0x15d57d(0x391),'name':_0x15d57d(0x3e8)},{'category':_0x15d57d(0x391),'name':_0x15d57d(0x6fa)},{'category':_0x15d57d(0x391),'name':_0x15d57d(0xbf8)},{'category':'เรขาคณิต','name':'ความคล้ายของรูป'},{'category':'เรขาคณิต','name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':'เรขาคณิต','name':_0x15d57d(0x74b)},{'category':_0x15d57d(0x391),'name':_0x15d57d(0x1d9)},{'category':'เรขาคณิต','name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x15d57d(0x391),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x15d57d(0x391),'name':_0x15d57d(0x70c)},{'category':_0x15d57d(0x391),'name':_0x15d57d(0xc7a)},{'category':_0x15d57d(0x391),'name':_0x15d57d(0x267)},{'category':_0x15d57d(0x391),'name':_0x15d57d(0x953)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0xa18)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x47d)},{'category':_0x15d57d(0x98b),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15d57d(0x7d5)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x5f0)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x600)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15d57d(0xb39)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15d57d(0xd14)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15d57d(0xc1b)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0xaf7)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x2ba)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x89a)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x2da)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x58c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15d57d(0x801)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15d57d(0xd55)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x54a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15d57d(0x275)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x2e6)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0xcd4)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0xb0d)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x8ee)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันพหุนาม'},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x31b)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันราก\x20(root)'},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x9c6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15d57d(0x94f)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x5c9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15d57d(0x5aa)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0xa39)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x943)},{'category':_0x15d57d(0x98b),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x15d57d(0xaaa)},{'category':_0x15d57d(0x98b),'name':_0x15d57d(0x999)},{'category':_0x15d57d(0x404),'name':_0x15d57d(0x944)},{'category':_0x15d57d(0x404),'name':_0x15d57d(0x305)},{'category':_0x15d57d(0x404),'name':_0x15d57d(0x308)},{'category':_0x15d57d(0x404),'name':_0x15d57d(0x66a)},{'category':_0x15d57d(0x404),'name':_0x15d57d(0x3cf)},{'category':_0x15d57d(0x404),'name':_0x15d57d(0x846)},{'category':_0x15d57d(0x404),'name':'พาราโบลา'},{'category':_0x15d57d(0x404),'name':_0x15d57d(0xbec)},{'category':_0x15d57d(0x404),'name':_0x15d57d(0xa99)},{'category':'ตรีโกณมิติ','name':_0x15d57d(0xcdd)},{'category':_0x15d57d(0x610),'name':_0x15d57d(0xbf3)},{'category':_0x15d57d(0x610),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x15d57d(0x610),'name':_0x15d57d(0x8d0)},{'category':_0x15d57d(0x610),'name':_0x15d57d(0x59e)},{'category':_0x15d57d(0x610),'name':_0x15d57d(0x19e)},{'category':_0x15d57d(0x610),'name':_0x15d57d(0xa83)},{'category':'ตรีโกณมิติ','name':'การแปลงรูปอัตลักษณ์'},{'category':_0x15d57d(0x610),'name':_0x15d57d(0x24d)},{'category':_0x15d57d(0x610),'name':_0x15d57d(0x53c)},{'category':_0x15d57d(0x610),'name':_0x15d57d(0x5d4)},{'category':_0x15d57d(0x1e7),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x798)},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x1f7)},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x5bd)},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x8eb)},{'category':_0x15d57d(0x1e7),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x27b)},{'category':'สถิติและความน่าจะเป็น','name':_0x15d57d(0x5a1)},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0xb2b)},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x87a)},{'category':_0x15d57d(0x1e7),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x15d57d(0x1e7),'name':'ความแปรปรวน'},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x4de)},{'category':'สถิติและความน่าจะเป็น','name':_0x15d57d(0xa82)},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x1f0)},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x2f7)},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0xc84)},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x804)},{'category':'สถิติและความน่าจะเป็น','name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x8a1)},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0x2e4)},{'category':_0x15d57d(0x1e7),'name':_0x15d57d(0xc0d)},{'category':_0x15d57d(0x1e7),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x15d57d(0xab5),'name':_0x15d57d(0x3b8)},{'category':_0x15d57d(0xab5),'name':_0x15d57d(0x1cd)},{'category':_0x15d57d(0xab5),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x15d57d(0xab5),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x15d57d(0xab5),'name':_0x15d57d(0xb98)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x15d57d(0xab5),'name':_0x15d57d(0xd21)},{'category':'แคลคูลัสเบื้องต้น','name':_0x15d57d(0x936)},{'category':_0x15d57d(0xab5),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x15d57d(0xab5),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x15d57d(0xab5),'name':_0x15d57d(0x7aa)},{'category':_0x15d57d(0xab5),'name':_0x15d57d(0x135)},{'category':'แคลคูลัสเบื้องต้น','name':_0x15d57d(0x351)},{'category':_0x15d57d(0x4e2),'name':_0x15d57d(0xad0)},{'category':_0x15d57d(0x4e2),'name':'ดอทโปรดักต์\x20(dot)'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x15d57d(0x445)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x15d57d(0x698)},{'category':_0x15d57d(0x4e2),'name':_0x15d57d(0x8f7)},{'category':_0x15d57d(0x4e2),'name':_0x15d57d(0x98c)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x15d57d(0x25b),'name':_0x15d57d(0xb99)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x15d57d(0x45b)},{'category':_0x15d57d(0x25b),'name':_0x15d57d(0x2d0)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x15d57d(0x980)},{'category':_0x15d57d(0x25b),'name':_0x15d57d(0x9e5)},{'category':_0x15d57d(0xb3e),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x15d57d(0x2ca)},{'category':_0x15d57d(0xb3e),'name':_0x15d57d(0xc63)}];function renderTopicCheckboxes(){const _0x40979e=_0x15d57d,_0x214238=document['getElementById'](_0x40979e(0x1f6));if(!_0x214238)return;const _0x4b769d=allMathTopics,_0x33c60b=customMathTopics[_0x40979e(0x929)](_0xe62d0d=>({'id':_0xe62d0d['id'],'category':_0x40979e(0x525),'name':_0xe62d0d[_0x40979e(0x5e1)]})),_0xa117ab=[..._0x4b769d,..._0x33c60b],_0x3194c6=_0xa117ab[_0x40979e(0x4f4)]((_0x20f03c,_0x276956)=>{const _0x52a3ca=_0x40979e;return!_0x20f03c[_0x276956[_0x52a3ca(0x3cd)]]&&(_0x20f03c[_0x276956[_0x52a3ca(0x3cd)]]=[]),_0x20f03c[_0x276956[_0x52a3ca(0x3cd)]][_0x52a3ca(0xa6d)](_0x276956),_0x20f03c;},{});let _0x26be00='';const _0x7e2a26=[_0x40979e(0x525),...Object[_0x40979e(0x906)](_0x3194c6)[_0x40979e(0x23a)](_0x883a1=>_0x883a1!==_0x40979e(0x525))];for(const _0x448d10 of _0x7e2a26){if(_0x3194c6[_0x448d10]){const _0x551ccd=_0x448d10===_0x40979e(0x525),_0x5e7bf7=_0x551ccd?_0x40979e(0x3d1):_0x40979e(0x380),_0x5132ee=_0x551ccd?_0x40979e(0xb03):_0x40979e(0x1f5);_0x26be00+=_0x40979e(0xcf3),_0x26be00+=_0x40979e(0xb96)+_0x5132ee+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x5e7bf7+_0x40979e(0x9fe)+_0x448d10+_0x40979e(0x708),_0x3194c6[_0x448d10][_0x40979e(0x326)](_0x1dbaf5=>{const _0x117866=_0x40979e,_0x2f7ac7=!!_0x1dbaf5['id'],_0xc3d67c=_0x2f7ac7?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1dbaf5['id']+_0x117866(0x5e9)+_0x1dbaf5['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1dbaf5['id']+_0x117866(0x4d4)+_0x1dbaf5['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x26be00+=_0x117866(0xcd6)+(_0x1dbaf5['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x1dbaf5[_0x117866(0x5e1)]+_0x117866(0x98d)+_0x1dbaf5[_0x117866(0x5e1)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2f7ac7?_0x117866(0xad9)+_0x1dbaf5[_0x117866(0x5e1)]+'\x22>':'')+_0x117866(0x152)+_0xc3d67c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x26be00+=_0x40979e(0x175);}}_0x214238[_0x40979e(0x632)]=_0x26be00||_0x40979e(0x427),_0x214238[_0x40979e(0x9f3)](_0x40979e(0x557),updateSelectedTopicsCount),_0x214238[_0x40979e(0x762)](_0x40979e(0x557),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x24a743,_0x5ee039){const _0x58d695=_0x15d57d;if(!_0x24a743||!_0x5ee039[_0x58d695(0xa93)]()){showMessage(_0x58d695(0x2de));return;}try{const _0x26db7c=doc(db,_0x58d695(0xc02)+appId+_0x58d695(0x8e3),_0x24a743);await updateDoc(_0x26db7c,{'name':_0x5ee039[_0x58d695(0xa93)]()}),showMessage(_0x58d695(0xb69));}catch(_0x2ea6d9){console[_0x58d695(0x1c0)](_0x58d695(0x23b),_0x2ea6d9),showMessage(_0x58d695(0x268));}}function toggleTopicEditMode(_0x31a4ce,_0x4c0631){const _0x135964=_0x15d57d;if(!_0x31a4ce)return;const _0x2fbfff=_0x31a4ce['querySelector']('.topic-name-display'),_0x1822b1=_0x31a4ce[_0x135964(0x8da)](_0x135964(0x5a7)),_0x5a25fd=_0x31a4ce[_0x135964(0x8da)](_0x135964(0xcfa)),_0x427cc4=_0x31a4ce[_0x135964(0x8da)](_0x135964(0x4b2));_0x2fbfff[_0x135964(0xcbe)]['toggle']('hidden',_0x4c0631),_0x1822b1['classList'][_0x135964(0xd50)](_0x135964(0x8e4),!_0x4c0631),_0x5a25fd[_0x135964(0xcbe)][_0x135964(0xd50)](_0x135964(0x8e4),_0x4c0631),_0x427cc4[_0x135964(0xcbe)]['toggle'](_0x135964(0x8e4),!_0x4c0631),_0x4c0631&&(_0x1822b1[_0x135964(0xb37)](),_0x1822b1[_0x135964(0x169)]());}async function handleStartLiveRace(_0x2b2ae7){const _0x5c14d0=_0x15d57d;let _0x5b6ffa=allQuizzes[_0x5c14d0(0x52d)](_0x4d4247=>_0x4d4247['id']===_0x2b2ae7);if(!_0x5b6ffa){const _0x21ed57=doc(db,'artifacts/'+appId+_0x5c14d0(0x21e),_0x2b2ae7),_0x3e6062=await getDoc(_0x21ed57);if(!_0x3e6062[_0x5c14d0(0x6b5)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x5b6ffa={'id':_0x3e6062['id'],..._0x3e6062['data']()};}const _0x44508a=getShuffledQuiz(_0x5b6ffa);currentQuizData=_0x44508a;const _0x40c620=_0x5b6ffa[_0x5c14d0(0x257)]||currentProjectId||null,_0x4c82c7=Math[_0x5c14d0(0x423)](0x3e8+Math[_0x5c14d0(0x2e8)]()*0x2328)['toString']();currentLiveGamePin=_0x4c82c7;try{const _0x29132c=await addDoc(collection(db,_0x5c14d0(0xc02)+appId+_0x5c14d0(0x41f)),{'quizId':_0x2b2ae7,'projectId':_0x40c620,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4c82c7,'createdAt':serverTimestamp(),'shuffledQuiz':_0x44508a});currentLiveGameId=_0x29132c['id'],showAdminLobbyView(_0x4c82c7,_0x5b6ffa['topic']),listenForLiveGameUpdates();}catch(_0x40f399){console[_0x5c14d0(0x1c0)](_0x5c14d0(0x584),_0x40f399),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x51f1b1=_0x15d57d,_0x626ff1=document[_0x51f1b1(0x9c3)](_0x51f1b1(0x1f6)),_0x3d4088=_0x626ff1['querySelectorAll'](_0x51f1b1(0xc62))[_0x51f1b1(0x768)],_0x9bae4d=document[_0x51f1b1(0x9c3)](_0x51f1b1(0x237));_0x3d4088>0x0?_0x9bae4d['textContent']=_0x51f1b1(0x8e9)+_0x3d4088+_0x51f1b1(0x2dd):_0x9bae4d[_0x51f1b1(0xafb)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x15d57d(0x939),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x15d57d(0x6e6),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x15d57d(0x47b),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x15d57d(0x534),scratchpadPenColor=_0x15d57d(0x87c),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x23cb49,_0x4822da){const _0x28f657=_0x15d57d;return Math['sqrt'](Math[_0x28f657(0x17d)](_0x23cb49['x']-_0x4822da['x'],0x2)+Math[_0x28f657(0x17d)](_0x23cb49['y']-_0x4822da['y'],0x2));}function getMidpoint(_0x159d72,_0x48f147){return{'x':(_0x159d72['x']+_0x48f147['x'])/0x2,'y':(_0x159d72['y']+_0x48f147['y'])/0x2};}function getTransformedPoint(_0x553c99,_0x252ec9){return{'x':(_0x553c99-scratchpadOffset['x'])/scratchpadScale,'y':(_0x252ec9-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x55dfda=_0x15d57d;if(!scratchpadCtx)return;const _0x94bbc9=scratchpadCtx[_0x55dfda(0x7ff)],_0x3d0d58=window[_0x55dfda(0x774)]||0x1,_0x423f69=document['getElementById'](_0x55dfda(0x3d8));_0x423f69&&(_0x423f69[_0x55dfda(0x827)][_0x55dfda(0x770)]=_0x55dfda(0x2a7),_0x423f69['style'][_0x55dfda(0x4e4)]=_0x55dfda(0xc50)+scratchpadOffset['x']+_0x55dfda(0x253)+scratchpadOffset['y']+_0x55dfda(0x3ce)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x55dfda(0xa4e)](_0x3d0d58,0x0,0x0,_0x3d0d58,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x94bbc9['width'],_0x94bbc9['height']),scratchpadCtx[_0x55dfda(0x76a)](),scratchpadCtx[_0x55dfda(0x701)](),scratchpadCtx[_0x55dfda(0x4ee)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x55dfda(0xaf9)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x1a353e=>{drawStroke(_0x1a353e);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x55dfda(0x76a)]();}function renderGroupModeQuestion(){const _0x87eb78=_0x15d57d;if(localQuestionIndex>=currentQuizData['questions'][_0x87eb78(0x768)]){displayTeamQuizFinalResults();return;}const _0x135f93=currentQuizData[_0x87eb78(0xca5)][localQuestionIndex],_0x339ab2=_0x135f93[_0x87eb78(0xc6a)]||currentQuizData[_0x87eb78(0x434)];let _0x2c0815=_0x135f93[_0x87eb78(0x176)]||_0x135f93[_0x87eb78(0xb0e)],_0x306e0f='';switch(_0x339ab2){case _0x87eb78(0x3ee):case _0x87eb78(0x1d1):_0x306e0f=_0x135f93['options'][_0x87eb78(0x929)]((_0xd81bd7,_0x527def)=>_0x87eb78(0x976)+_0x527def+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x527def+_0x87eb78(0x7a1)+_0x527def+'\x22>'+_0xd81bd7+_0x87eb78(0x8d6))[_0x87eb78(0xb2d)]('');break;case'true_false':_0x306e0f=_0x87eb78(0xae7);break;case _0x87eb78(0x31e):case _0x87eb78(0xbb0):_0x306e0f=_0x87eb78(0x509);break;case'matching_item':_0x306e0f=_0x87eb78(0xb22)+_0x135f93[_0x87eb78(0x472)][_0x87eb78(0x929)](_0x3504f6=>'<option\x20value=\x22'+_0x3504f6+'\x22>'+_0x3504f6+'</option>')[_0x87eb78(0xb2d)]('')+'</select>';break;default:_0x306e0f='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x87eb78(0x632)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x87eb78(0x782)+currentQuizData[_0x87eb78(0xca5)][_0x87eb78(0x768)]+_0x87eb78(0x655)+localTeamPlayers[_0x87eb78(0xb2d)](',\x20')+_0x87eb78(0xd25)+(localQuestionIndex+0x1)+'.\x20'+_0x2c0815+_0x87eb78(0x978)+(_0x135f93['imageCode']?_0x87eb78(0x50a)+_0x135f93[_0x87eb78(0x7bc)]+'</div>':'')+_0x87eb78(0x825)+_0x306e0f+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x87eb78(0xcbe)][_0x87eb78(0xa49)](_0x87eb78(0x8e4));if(window['MathJax'])MathJax[_0x87eb78(0xc2c)]([studentQuizArea]);document[_0x87eb78(0x9c3)](_0x87eb78(0x522))['addEventListener'](_0x87eb78(0xba1),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x12c1d1,_0x5c6f7c=null,_0x483d4c,_0x248659=null,_0x8a6008=![],_0x179154=null){const _0x4e713b=_0x15d57d,_0x3f3deb=document[_0x4e713b(0x9c3)](_0x4e713b(0x7d3));_0x3f3deb&&_0x3f3deb[_0x4e713b(0x6bf)]({'behavior':_0x4e713b(0x2eb),'block':'center'}),generateQuiz(_0x12c1d1,_0x5c6f7c,null,_0x179154,!![],_0x483d4c,_0x248659,_0x8a6008);}function handleGenerateAndShowLesson(_0x4984e8,_0x24ec01){const _0x298e3a=_0x15d57d,_0x4c6ffb=document[_0x298e3a(0x9c3)]('lesson-view-modal'),_0x3dba4f=document[_0x298e3a(0x9c3)](_0x298e3a(0x941)),_0x2850f9=document[_0x298e3a(0x9c3)](_0x298e3a(0xa81)),_0x51050c=document[_0x298e3a(0x9c3)](_0x298e3a(0x80a));[_0x298e3a(0x6c9),_0x298e3a(0xaf2),'applicationContent',_0x298e3a(0x983)][_0x298e3a(0x326)](_0x47c40e=>{const _0x39713c=_0x298e3a,_0x4b3398=document[_0x39713c(0x9c3)](_0x47c40e)[_0x39713c(0xcb7)];_0x4b3398&&(_0x4b3398['style'][_0x39713c(0x417)]='block');}),_0x3dba4f[_0x298e3a(0xafb)]=_0x298e3a(0x857)+_0x4984e8,_0x51050c[_0x298e3a(0xcbe)][_0x298e3a(0xa54)]('hidden'),_0x2850f9[_0x298e3a(0xcbe)][_0x298e3a(0xa49)](_0x298e3a(0x8e4)),_0x4c6ffb['classList']['remove'](_0x298e3a(0x8e4)),generateLesson(_0x4984e8,_0x24ec01)[_0x298e3a(0x6f5)](_0x95264a=>{const _0x3738a1=_0x298e3a;console[_0x3738a1(0x1c0)](_0x3738a1(0x60e),_0x95264a),showMessage(_0x3738a1(0x847)),_0x4c6ffb['classList'][_0x3738a1(0xa54)](_0x3738a1(0x8e4));});}function handlePointerDown(_0x38a245){const _0x29bb13=_0x15d57d;_0x38a245[_0x29bb13(0xccb)]();const _0x400871=scratchpadCtx['canvas'],_0x508cf4=_0x400871[_0x29bb13(0xb73)](),_0x3b174b=_0x38a245['pointerType']||(_0x38a245[_0x29bb13(0x4ab)]?_0x29bb13(0x90b):_0x29bb13(0x21c));if(_0x3b174b==='pen'||_0x3b174b==='mouse'){if(_0x38a245[_0x29bb13(0x887)]===_0x29bb13(0x21c)&&_0x38a245[_0x29bb13(0x882)]!==0x0){_0x38a245[_0x29bb13(0x882)]===0x1&&(isMousePanning=!![],panStart={'x':_0x38a245[_0x29bb13(0x66d)],'y':_0x38a245[_0x29bb13(0x6ac)]},_0x400871[_0x29bb13(0x827)][_0x29bb13(0x72d)]='grabbing');return;}activeTool===_0x29bb13(0x85d)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x34508a=getTransformedPoint(_0x38a245['clientX']-_0x508cf4[_0x29bb13(0x9d2)],_0x38a245['clientY']-_0x508cf4[_0x29bb13(0xbe8)]);let _0x5d7193={'tool':activeTool,'points':[_0x34508a]};if(activeTool===_0x29bb13(0x534))_0x5d7193[_0x29bb13(0x6a1)]=scratchpadPenColor,_0x5d7193[_0x29bb13(0x78b)]=scratchpadPenSize;else{if(activeTool===_0x29bb13(0x2b2))_0x5d7193['color']=scratchpadPenColor,_0x5d7193[_0x29bb13(0x78b)]=scratchpadEraserSize;else{if(activeTool===_0x29bb13(0xb68))_0x5d7193[_0x29bb13(0x6a1)]=scratchpadHighlighterColor,_0x5d7193[_0x29bb13(0x78b)]=scratchpadHighlighterSize;else activeTool==='trail'&&(_0x5d7193[_0x29bb13(0x6a1)]=scratchpadPenColor,_0x5d7193['size']=scratchpadPenSize);}}currentStroke=_0x5d7193;}else _0x38a245[_0x29bb13(0x4ab)]&&(_0x38a245[_0x29bb13(0x4ab)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x38a245[_0x29bb13(0x4ab)][0x0][_0x29bb13(0x66d)],'y':_0x38a245['touches'][0x0]['clientY']},{'x':_0x38a245[_0x29bb13(0x4ab)][0x1][_0x29bb13(0x66d)],'y':_0x38a245[_0x29bb13(0x4ab)][0x1][_0x29bb13(0x6ac)]}),initialPinchDistance=getDistance({'x':_0x38a245[_0x29bb13(0x4ab)][0x0][_0x29bb13(0x66d)],'y':_0x38a245[_0x29bb13(0x4ab)][0x0]['clientY']},{'x':_0x38a245['touches'][0x1]['clientX'],'y':_0x38a245['touches'][0x1][_0x29bb13(0x6ac)]})));}function animateTrail(){const _0x32ba27=_0x15d57d,_0x5840bb=Date[_0x32ba27(0xce2)]();let _0x8de61=![];for(let _0x1480e4=strokes[_0x32ba27(0x768)]-0x1;_0x1480e4>=0x0;_0x1480e4--){const _0x17fef0=strokes[_0x1480e4];if(_0x17fef0[_0x32ba27(0x1e1)]===_0x32ba27(0x85d)&&_0x17fef0['fadeStartTime']){const _0xb83bc3=_0x5840bb-_0x17fef0[_0x32ba27(0x649)];_0xb83bc3>=TRAIL_DURATION?strokes[_0x32ba27(0x96b)](_0x1480e4,0x1):(_0x17fef0[_0x32ba27(0x5f1)]=0x1-_0xb83bc3/TRAIL_DURATION,_0x8de61=!![]);}}redrawScratchpad(),_0x8de61?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x4a7439){const _0x1229e0=_0x15d57d;if(!_0x4a7439||_0x4a7439['points'][_0x1229e0(0x768)]<0x1)return;scratchpadCtx[_0x1229e0(0x701)](),scratchpadCtx['lineJoin']='round',scratchpadCtx['lineCap']=_0x1229e0(0xb3c);if(_0x4a7439[_0x1229e0(0x1e1)]===_0x1229e0(0x85d)){const _0x5c155a=_0x4a7439['size']/scratchpadScale;scratchpadCtx['globalAlpha']=_0x4a7439[_0x1229e0(0x5f1)]??0x1,scratchpadCtx[_0x1229e0(0xc9b)]=_0x1229e0(0x7b4),scratchpadCtx[_0x1229e0(0x951)]=_0x5c155a*0x3,scratchpadCtx['strokeStyle']=_0x1229e0(0x90d),scratchpadCtx['lineWidth']=_0x5c155a*2.5,scratchpadCtx[_0x1229e0(0x33f)](),scratchpadCtx['moveTo'](_0x4a7439[_0x1229e0(0xc48)][0x0]['x'],_0x4a7439[_0x1229e0(0xc48)][0x0]['y']);for(let _0x3c022b=0x1;_0x3c022b<_0x4a7439[_0x1229e0(0xc48)][_0x1229e0(0x768)]-0x1;_0x3c022b++){const _0x7a8629=getMidpoint(_0x4a7439[_0x1229e0(0xc48)][_0x3c022b],_0x4a7439[_0x1229e0(0xc48)][_0x3c022b+0x1]);scratchpadCtx[_0x1229e0(0x4c8)](_0x4a7439[_0x1229e0(0xc48)][_0x3c022b]['x'],_0x4a7439[_0x1229e0(0xc48)][_0x3c022b]['y'],_0x7a8629['x'],_0x7a8629['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x1229e0(0xc9b)]=_0x1229e0(0xafd),scratchpadCtx[_0x1229e0(0x951)]=0x0,scratchpadCtx['strokeStyle']='#FFFFFF',scratchpadCtx['lineWidth']=_0x5c155a,scratchpadCtx[_0x1229e0(0xba7)](),scratchpadCtx[_0x1229e0(0xbe2)]();}else{if(_0x4a7439[_0x1229e0(0x1e1)]===_0x1229e0(0xb68)){scratchpadCtx[_0x1229e0(0x858)]=_0x1229e0(0xca8),scratchpadCtx['strokeStyle']=_0x4a7439[_0x1229e0(0x6a1)],scratchpadCtx[_0x1229e0(0x211)]=_0x4a7439[_0x1229e0(0x78b)],scratchpadCtx[_0x1229e0(0x33f)](),scratchpadCtx[_0x1229e0(0x730)](_0x4a7439['points'][0x0]['x'],_0x4a7439['points'][0x0]['y']);for(let _0x2f8d22=0x1;_0x2f8d22<_0x4a7439[_0x1229e0(0xc48)][_0x1229e0(0x768)]-0x1;_0x2f8d22++){const _0x2613e5=getMidpoint(_0x4a7439[_0x1229e0(0xc48)][_0x2f8d22],_0x4a7439[_0x1229e0(0xc48)][_0x2f8d22+0x1]);scratchpadCtx[_0x1229e0(0x4c8)](_0x4a7439[_0x1229e0(0xc48)][_0x2f8d22]['x'],_0x4a7439[_0x1229e0(0xc48)][_0x2f8d22]['y'],_0x2613e5['x'],_0x2613e5['y']);}scratchpadCtx[_0x1229e0(0xba7)](),scratchpadCtx[_0x1229e0(0xbe2)]();}else{scratchpadCtx[_0x1229e0(0x858)]=_0x4a7439[_0x1229e0(0x1e1)]===_0x1229e0(0x2b2)?_0x1229e0(0x9f6):_0x1229e0(0xd48),scratchpadCtx[_0x1229e0(0x5e0)]=_0x4a7439[_0x1229e0(0x6a1)],scratchpadCtx[_0x1229e0(0x211)]=_0x4a7439[_0x1229e0(0x78b)],scratchpadCtx[_0x1229e0(0x33f)](),scratchpadCtx['moveTo'](_0x4a7439[_0x1229e0(0xc48)][0x0]['x'],_0x4a7439[_0x1229e0(0xc48)][0x0]['y']);for(let _0x51bf5a=0x1;_0x51bf5a<_0x4a7439[_0x1229e0(0xc48)][_0x1229e0(0x768)]-0x1;_0x51bf5a++){const _0x49dcd2=getMidpoint(_0x4a7439[_0x1229e0(0xc48)][_0x51bf5a],_0x4a7439[_0x1229e0(0xc48)][_0x51bf5a+0x1]);scratchpadCtx['quadraticCurveTo'](_0x4a7439[_0x1229e0(0xc48)][_0x51bf5a]['x'],_0x4a7439[_0x1229e0(0xc48)][_0x51bf5a]['y'],_0x49dcd2['x'],_0x49dcd2['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x1229e0(0x76a)]();}function handlePointerMove(_0x4ed1e4){const _0x478e8f=_0x15d57d;_0x4ed1e4['preventDefault']();const _0x5bf496=scratchpadCtx[_0x478e8f(0x7ff)],_0x382f40=_0x5bf496['getBoundingClientRect']();if(_0x4ed1e4[_0x478e8f(0x4ab)]){if(_0x4ed1e4[_0x478e8f(0x4ab)]['length']===0x1&&isDrawingOnScratchpad){const _0x506be4=getTransformedPoint(_0x4ed1e4[_0x478e8f(0x4ab)][0x0][_0x478e8f(0x66d)]-_0x382f40[_0x478e8f(0x9d2)],_0x4ed1e4[_0x478e8f(0x4ab)][0x0]['clientY']-_0x382f40[_0x478e8f(0xbe8)]);currentStroke['points'][_0x478e8f(0xa6d)](_0x506be4),redrawScratchpad();}else{if(_0x4ed1e4[_0x478e8f(0x4ab)]['length']===0x2&&isPanning){const _0x54a346=getDistance({'x':_0x4ed1e4[_0x478e8f(0x4ab)][0x0][_0x478e8f(0x66d)],'y':_0x4ed1e4[_0x478e8f(0x4ab)][0x0][_0x478e8f(0x6ac)]},{'x':_0x4ed1e4[_0x478e8f(0x4ab)][0x1][_0x478e8f(0x66d)],'y':_0x4ed1e4[_0x478e8f(0x4ab)][0x1][_0x478e8f(0x6ac)]}),_0x955e34=getMidpoint({'x':_0x4ed1e4[_0x478e8f(0x4ab)][0x0][_0x478e8f(0x66d)],'y':_0x4ed1e4[_0x478e8f(0x4ab)][0x0][_0x478e8f(0x6ac)]},{'x':_0x4ed1e4[_0x478e8f(0x4ab)][0x1]['clientX'],'y':_0x4ed1e4['touches'][0x1][_0x478e8f(0x6ac)]}),_0x1baf5c=_0x54a346/ initialPinchDistance,_0x2732b0=Math[_0x478e8f(0x8bf)](Math[_0x478e8f(0x35d)](scratchpadScale*_0x1baf5c,MIN_SCALE),MAX_SCALE),_0x517700=_0x955e34['x']-panStart['x'],_0x4316f8=_0x955e34['y']-panStart['y'];scratchpadOffset['x']=_0x955e34['x']-(_0x955e34['x']-scratchpadOffset['x'])*(_0x2732b0/scratchpadScale),scratchpadOffset['y']=_0x955e34['y']-(_0x955e34['y']-scratchpadOffset['y'])*(_0x2732b0/scratchpadScale),scratchpadOffset['x']+=_0x517700,scratchpadOffset['y']+=_0x4316f8,scratchpadScale=_0x2732b0,initialPinchDistance=_0x54a346,panStart=_0x955e34,redrawScratchpad();}}}else{if(isMousePanning){const _0x43c6f9=_0x4ed1e4[_0x478e8f(0x66d)]-panStart['x'],_0x38a1ca=_0x4ed1e4[_0x478e8f(0x6ac)]-panStart['y'];scratchpadOffset['x']+=_0x43c6f9,scratchpadOffset['y']+=_0x38a1ca,panStart={'x':_0x4ed1e4[_0x478e8f(0x66d)],'y':_0x4ed1e4[_0x478e8f(0x6ac)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x3bae23=getTransformedPoint(_0x4ed1e4['clientX']-_0x382f40[_0x478e8f(0x9d2)],_0x4ed1e4[_0x478e8f(0x6ac)]-_0x382f40[_0x478e8f(0xbe8)]);currentStroke[_0x478e8f(0xc48)][_0x478e8f(0xa6d)](_0x3bae23),redrawScratchpad();}}}}function handlePointerUp(_0x27ef11){const _0x224ed9=_0x15d57d;_0x27ef11[_0x224ed9(0xccb)]();const _0xf811c8=scratchpadCtx[_0x224ed9(0x7ff)];isMousePanning&&(isMousePanning=![],_0xf811c8['style']['cursor']='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x224ed9(0xc48)][_0x224ed9(0x768)]>0x1&&(strokes[_0x224ed9(0xa6d)](currentStroke),currentStroke[_0x224ed9(0x1e1)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0xfa4a4f=_0x224ed9,_0x20408a=strokes['filter'](_0x388210=>_0x388210['tool']===_0xfa4a4f(0x85d)&&!_0x388210[_0xfa4a4f(0x649)]);if(_0x20408a[_0xfa4a4f(0x768)]>0x0){const _0x39825c=Date[_0xfa4a4f(0xce2)]();_0x20408a[_0xfa4a4f(0x326)](_0x48237e=>_0x48237e[_0xfa4a4f(0x649)]=_0x39825c),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x299cc4){const _0x5a9e34=_0x15d57d;_0x299cc4[_0x5a9e34(0xccb)]();const _0x34000e=_0x299cc4['deltaY']*-0.005,_0x2b0b9c=Math['min'](Math[_0x5a9e34(0x35d)](scratchpadScale+_0x34000e,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x299cc4[_0x5a9e34(0x66d)]-(_0x299cc4[_0x5a9e34(0x66d)]-scratchpadOffset['x'])*(_0x2b0b9c/scratchpadScale),scratchpadOffset['y']=_0x299cc4['clientY']-(_0x299cc4[_0x5a9e34(0x6ac)]-scratchpadOffset['y'])*(_0x2b0b9c/scratchpadScale),scratchpadScale=_0x2b0b9c,redrawScratchpad();}function undo(){const _0x41408c=_0x15d57d;strokes[_0x41408c(0x768)]>0x0&&(redoStrokes['push'](strokes[_0x41408c(0x3d9)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x450bc2=_0x15d57d;redoStrokes[_0x450bc2(0x768)]>0x0&&(strokes[_0x450bc2(0xa6d)](redoStrokes[_0x450bc2(0x3d9)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x15144d=_0x15d57d;document['getElementById']('undo-btn')[_0x15144d(0x704)]=strokes['length']===0x0,document['getElementById'](_0x15144d(0x377))[_0x15144d(0x704)]=redoStrokes[_0x15144d(0x768)]===0x0;}function openScratchpad(_0x594596,_0x404a10){const _0x372ba4=_0x15d57d,_0x536806=document[_0x372ba4(0x9c3)]('scratchpad-modal'),_0x1ec3e7=document['getElementById'](_0x372ba4(0xaba)),_0x2cd2fd=document[_0x372ba4(0x9c3)]('scratchpad-options'),_0x4f85a1=document[_0x372ba4(0x9c3)](_0x372ba4(0xc74));_0x1ec3e7[_0x372ba4(0x632)]=_0x594596[_0x372ba4(0x176)]||_0x594596['questionText'],_0x2cd2fd['innerHTML']=_0x404a10['map']((_0x2e0dad,_0x2cc769)=>_0x372ba4(0x3a9)+String[_0x372ba4(0x7e3)](0x41+_0x2cc769)+'.\x20'+_0x2e0dad+_0x372ba4(0x175))[_0x372ba4(0xb2d)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x536806['classList'][_0x372ba4(0xa49)](_0x372ba4(0x8e4)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x372ba4(0x1b4)])MathJax['typesetPromise']([_0x1ec3e7,_0x2cd2fd]);}function openBlueprintQuizSettings(){const _0x4631f8=_0x15d57d,_0xb9b0a4=document[_0x4631f8(0x9c3)](_0x4631f8(0xb00)),_0x1724d1=blueprintPageSettings||(currentProjectData?currentProjectData[_0x4631f8(0x58b)]:{})||{};document[_0x4631f8(0x9c3)](_0x4631f8(0xb09))[_0x4631f8(0x3bb)]=_0x1724d1[_0x4631f8(0x434)]||document[_0x4631f8(0x9c3)](_0x4631f8(0xc9d))[_0x4631f8(0x3bb)],document[_0x4631f8(0x9c3)](_0x4631f8(0x1be))[_0x4631f8(0x632)]=document[_0x4631f8(0x9c3)](_0x4631f8(0xc17))[_0x4631f8(0x632)],document['getElementById']('bp-modal-difficulty-level-select')[_0x4631f8(0x3bb)]=_0x1724d1[_0x4631f8(0x1b5)]||document[_0x4631f8(0x9c3)](_0x4631f8(0xc17))[_0x4631f8(0x3bb)],document[_0x4631f8(0x9c3)](_0x4631f8(0x903))[_0x4631f8(0x632)]=document[_0x4631f8(0x9c3)](_0x4631f8(0x84f))[_0x4631f8(0x632)],document[_0x4631f8(0x9c3)](_0x4631f8(0x903))[_0x4631f8(0x3bb)]=_0x1724d1[_0x4631f8(0x91e)]||document[_0x4631f8(0x9c3)](_0x4631f8(0x84f))[_0x4631f8(0x3bb)],document[_0x4631f8(0x9c3)](_0x4631f8(0xba8))[_0x4631f8(0x3bb)]=_0x1724d1[_0x4631f8(0xa01)]||document[_0x4631f8(0x9c3)]('num-questions')['value'],document[_0x4631f8(0x9c3)](_0x4631f8(0x5a5))['value']=_0x1724d1[_0x4631f8(0x675)]||document[_0x4631f8(0x9c3)](_0x4631f8(0x26e))[_0x4631f8(0x3bb)],document[_0x4631f8(0x9c3)](_0x4631f8(0x3c4))[_0x4631f8(0x3bb)]=_0x1724d1[_0x4631f8(0xc46)]||document['getElementById'](_0x4631f8(0x726))[_0x4631f8(0x3bb)],document[_0x4631f8(0x9c3)](_0x4631f8(0x38e))[_0x4631f8(0x3bb)]=_0x1724d1[_0x4631f8(0x476)]||document['getElementById'](_0x4631f8(0xa90))[_0x4631f8(0x3bb)],document[_0x4631f8(0x9c3)]('bp-modal-include-images-checkbox')[_0x4631f8(0x57b)]=_0x1724d1[_0x4631f8(0x389)]||document[_0x4631f8(0x9c3)]('include-images-checkbox')[_0x4631f8(0x57b)],_0xb9b0a4[_0x4631f8(0xcbe)]['remove']('hidden');}function handleSaveBlueprintPageSettings(){const _0x1d7bdc=_0x15d57d;blueprintPageSettings={'quizType':document['getElementById'](_0x1d7bdc(0xb09))[_0x1d7bdc(0x3bb)],'difficultyValue':document['getElementById'](_0x1d7bdc(0x1be))['value'],'complexityValue':document[_0x1d7bdc(0x9c3)]('bp-modal-question-complexity-select')[_0x1d7bdc(0x3bb)],'numQuestions':document['getElementById']('bp-modal-num-questions')[_0x1d7bdc(0x3bb)],'passingScore':document[_0x1d7bdc(0x9c3)](_0x1d7bdc(0x5a5))[_0x1d7bdc(0x3bb)],'numChoices':document['getElementById'](_0x1d7bdc(0x3c4))[_0x1d7bdc(0x3bb)],'shuffle':document[_0x1d7bdc(0x9c3)]('bp-modal-shuffle-setting-select')[_0x1d7bdc(0x3bb)],'includeImages':document[_0x1d7bdc(0x9c3)]('bp-modal-include-images-checkbox')['checked']},showMessage(_0x1d7bdc(0xaaf)),document[_0x1d7bdc(0x9c3)](_0x1d7bdc(0xb00))[_0x1d7bdc(0xcbe)]['add'](_0x1d7bdc(0x8e4));}function listenForParallelTestShortcuts(){const _0x53ed41=_0x15d57d,_0x345c96=doc(db,_0x53ed41(0x510),'parallelTestShortcutsConfig');onSnapshot(_0x345c96,_0x332c75=>{const _0x299a4e=_0x53ed41;let _0x245fdb=[],_0x4bc74d=[],_0x480906={};if(_0x332c75[_0x299a4e(0x6b5)]()){const _0x3731e4=_0x332c75[_0x299a4e(0xc5f)]();_0x245fdb=_0x3731e4[_0x299a4e(0x39f)]||[],_0x4bc74d=_0x3731e4[_0x299a4e(0x3ea)]||[],_0x480906=_0x3731e4['parallelShortcutOrder']||{};}!_0x4bc74d['find'](_0x261767=>_0x261767['id']==='all')&&_0x4bc74d[_0x299a4e(0xc2a)]({'id':_0x299a4e(0xbfe),'name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x245fdb['find'](_0x2808b9=>_0x2808b9['id']===_0x299a4e(0x131))&&_0x245fdb[_0x299a4e(0xc2a)]({'id':_0x299a4e(0x131),'name':_0x299a4e(0x1fb),'url':'','isDefault':!![]}),!_0x245fdb['find'](_0x473eb0=>_0x473eb0['id']===_0x299a4e(0x354))&&_0x245fdb['unshift']({'id':_0x299a4e(0x354),'name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x245fdb,parallelShortcutTabs=_0x4bc74d,parallelShortcutOrder=_0x480906,renderParallelTestShortcuts(),!document['getElementById']('additional-parallel-shortcuts-modal')[_0x299a4e(0xcbe)][_0x299a4e(0xab4)](_0x299a4e(0x8e4))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x2046ec=_0x15d57d,_0x54fd5e=doc(db,'globalSettings',_0x2046ec(0x993));try{await setDoc(_0x54fd5e,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x1b0b71){console[_0x2046ec(0x1c0)](_0x2046ec(0x3cc),_0x1b0b71);}}function renderAdditionalParallelShortcutsModal(){const _0x4b0f9e=_0x15d57d,_0x248140=document['getElementById'](_0x4b0f9e(0x21a)),_0x4fe706=document[_0x4b0f9e(0x9c3)]('additional-parallel-shortcuts-list');if(!_0x248140||!_0x4fe706)return;_0x248140[_0x4b0f9e(0x632)]=parallelShortcutTabs[_0x4b0f9e(0x929)](_0x529136=>{const _0x180a71=_0x4b0f9e,_0x225d55=_0x529136['id']===activeParallelShortcutTabId;return _0x180a71(0x97d)+_0x529136['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x225d55?'border-indigo-500\x20text-indigo-600':_0x180a71(0x245))+_0x180a71(0x523)+_0x529136[_0x180a71(0x5e1)]+_0x180a71(0xd04)+_0x529136['name']+_0x180a71(0xa2a)+(!_0x529136['isDefault']?'<button\x20data-tab-id=\x22'+_0x529136['id']+_0x180a71(0x888):'')+_0x180a71(0x9fd);})[_0x4b0f9e(0xb2d)]('');const _0x28b06f=parallelShortcutTabs[_0x4b0f9e(0x52d)](_0x36c988=>_0x36c988['id']===activeParallelShortcutTabId);let _0x3780b6=_0x28b06f?.[_0x4b0f9e(0xd34)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x3de27d=>(_0x28b06f?.['shortcutIds']||[])[_0x4b0f9e(0x436)](_0x3de27d['id']));const _0x21e94f=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x3780b6[_0x4b0f9e(0x65c)]((_0x1d3765,_0x5c0fa0)=>{const _0x69fbef=_0x4b0f9e,_0x58478e=_0x21e94f[_0x69fbef(0x3fd)](_0x1d3765['id']),_0x722d26=_0x21e94f[_0x69fbef(0x3fd)](_0x5c0fa0['id']);return(_0x58478e===-0x1?Infinity:_0x58478e)-(_0x722d26===-0x1?Infinity:_0x722d26);}),_0x4fe706[_0x4b0f9e(0x632)]=_0x3780b6['map'](_0x2f6d8a=>{const _0x5ae8e9=_0x4b0f9e,_0x455e5e=_0x2f6d8a[_0x5ae8e9(0x5cc)]?'🔁':'🔗',_0x13d559=parallelShortcutTabs[_0x5ae8e9(0x23a)](_0x20aee1=>!_0x20aee1[_0x5ae8e9(0xd34)]),_0x122d43=_0x28b06f[_0x5ae8e9(0xd34)]&&_0x13d559[_0x5ae8e9(0x768)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13d559[_0x5ae8e9(0x929)](_0xafb458=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x2f6d8a['id']+'\x22\x20data-target-tab-id=\x22'+_0xafb458['id']+'\x22>'+_0xafb458['name']+_0x5ae8e9(0x230))[_0x5ae8e9(0xb2d)]('')+_0x5ae8e9(0x876):'';return _0x5ae8e9(0x844)+_0x2f6d8a['id']+_0x5ae8e9(0x5d6)+_0x455e5e+'\x20'+_0x2f6d8a[_0x5ae8e9(0x5e1)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2f6d8a['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2f6d8a['id']+_0x5ae8e9(0x1c1)+(!_0x2f6d8a[_0x5ae8e9(0xd34)]?_0x5ae8e9(0xbf4)+_0x2f6d8a['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x28b06f[_0x5ae8e9(0xd34)]?_0x5ae8e9(0x2e7)+_0x2f6d8a['id']+_0x5ae8e9(0x852):'')+_0x5ae8e9(0xd17)+_0x122d43+_0x5ae8e9(0x9d9);})['join']('')||_0x4b0f9e(0xb12),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x108f43=_0x15d57d;document['querySelectorAll']('.parallel-shortcut-tab-btn')['forEach'](_0x1808f6=>{const _0x3fb7cc=_0x344c;_0x1808f6[_0x3fb7cc(0xd41)]=_0x5a985a=>{const _0x5601ac=_0x3fb7cc;activeParallelShortcutTabId=_0x5a985a[_0x5601ac(0xb70)][_0x5601ac(0x870)][_0x5601ac(0x73a)],renderAdditionalParallelShortcutsModal();},_0x1808f6[_0x3fb7cc(0xb0c)]=_0x45a7e9=>{const _0x5bf0fd=_0x3fb7cc,_0x2ca1f4=_0x45a7e9[_0x5bf0fd(0xb70)]['querySelector'](_0x5bf0fd(0xc11));_0x45a7e9[_0x5bf0fd(0xb70)][_0x5bf0fd(0x8da)](_0x5bf0fd(0x248))[_0x5bf0fd(0xcbe)][_0x5bf0fd(0xa54)](_0x5bf0fd(0x8e4)),_0x2ca1f4['classList'][_0x5bf0fd(0xa49)]('hidden'),_0x2ca1f4[_0x5bf0fd(0xb37)](),_0x2ca1f4['select']();};}),document[_0x108f43(0xc76)](_0x108f43(0x5af))[_0x108f43(0x326)](_0x404053=>{const _0x4462df=_0x108f43,_0x195df9=()=>{const _0x5af7ce=_0x344c,_0x33ed82=_0x404053[_0x5af7ce(0x2fb)]('.parallel-shortcut-tab-btn')[_0x5af7ce(0x870)][_0x5af7ce(0x73a)],_0x289397=parallelShortcutTabs[_0x5af7ce(0x52d)](_0x590e9e=>_0x590e9e['id']===_0x33ed82);_0x289397&&(_0x289397[_0x5af7ce(0x5e1)]=_0x404053[_0x5af7ce(0x3bb)]['trim']()||_0x289397['name'],saveParallelShortcutConfig());};_0x404053[_0x4462df(0x4d0)]=_0x195df9,_0x404053[_0x4462df(0x36a)]=_0x441e45=>{const _0xef2c47=_0x4462df;if(_0x441e45[_0xef2c47(0x27e)]===_0xef2c47(0xa71))_0x404053[_0xef2c47(0x590)]();};}),document[_0x108f43(0xc76)](_0x108f43(0xbca))[_0x108f43(0x326)](_0x10c7d4=>_0x10c7d4[_0x108f43(0xd41)]=_0x4f76ef=>{const _0xa0f46=_0x108f43,_0x1c86fb=_0x4f76ef['currentTarget'][_0xa0f46(0x870)][_0xa0f46(0x73a)];showConfirmation(_0xa0f46(0x32f),()=>{parallelShortcutTabs=parallelShortcutTabs['filter'](_0x43adf2=>_0x43adf2['id']!==_0x1c86fb),delete parallelShortcutOrder[_0x1c86fb];if(activeParallelShortcutTabId===_0x1c86fb)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x108f43(0xc76)](_0x108f43(0x488))[_0x108f43(0x326)](_0x3e8bb5=>_0x3e8bb5[_0x108f43(0xd41)]=_0xd08b2c=>{const _0x32e6de=_0x108f43;_0xd08b2c[_0x32e6de(0xccb)]();const {shortcutId:_0x3510e4,targetTabId:_0x5422fa}=_0xd08b2c[_0x32e6de(0xb70)][_0x32e6de(0x870)],_0x1ad00c=parallelShortcutTabs[_0x32e6de(0x52d)](_0x52c528=>_0x52c528['id']===_0x5422fa);_0x1ad00c&&!_0x1ad00c['shortcutIds'][_0x32e6de(0x436)](_0x3510e4)&&(_0x1ad00c[_0x32e6de(0x92f)][_0x32e6de(0xa6d)](_0x3510e4),saveParallelShortcutConfig());}),document[_0x108f43(0xc76)]('.remove-parallel-shortcut-from-tab-btn')[_0x108f43(0x326)](_0x532686=>_0x532686['onclick']=_0x498be1=>{const _0x61d0f6=_0x108f43,_0x99c23b=_0x498be1[_0x61d0f6(0xb70)]['dataset'][_0x61d0f6(0x727)],_0x4471f9=parallelShortcutTabs[_0x61d0f6(0x52d)](_0x40560b=>_0x40560b['id']===activeParallelShortcutTabId);_0x4471f9&&!_0x4471f9[_0x61d0f6(0xd34)]&&(_0x4471f9[_0x61d0f6(0x92f)]=_0x4471f9['shortcutIds'][_0x61d0f6(0x23a)](_0x153b42=>_0x153b42!==_0x99c23b),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x108f43(0x87e))['forEach'](_0x1ebc85=>_0x1ebc85[_0x108f43(0xd41)]=_0x1757d2=>{const _0xf9337b=_0x108f43;_0x1757d2[_0xf9337b(0x3e9)]();const _0x5f206a=_0x1757d2[_0xf9337b(0xb70)]['nextElementSibling'];document[_0xf9337b(0xc76)](_0xf9337b(0xd1c))[_0xf9337b(0x326)](_0x28ae84=>_0x28ae84[_0xf9337b(0xcbe)]['add']('hidden')),_0x5f206a['classList'][_0xf9337b(0xa49)](_0xf9337b(0x8e4));});const _0x210f69=document['getElementById'](_0x108f43(0x46b));let _0x2742dc=null;_0x210f69[_0x108f43(0xc5a)]=_0xf10e92=>{const _0x414560=_0x108f43;_0x2742dc=_0xf10e92[_0x414560(0x24a)]['closest'](_0x414560(0x407));if(_0x2742dc)setTimeout(()=>_0x2742dc[_0x414560(0xcbe)][_0x414560(0xa54)]('opacity-50'),0x0);},_0x210f69[_0x108f43(0x5b8)]=()=>{const _0x56af05=_0x108f43;_0x2742dc&&(_0x2742dc[_0x56af05(0xcbe)][_0x56af05(0xa49)](_0x56af05(0xa0b)),_0x2742dc=null);},_0x210f69['ondragover']=_0x2172b=>{_0x2172b['preventDefault']();},_0x210f69['ondrop']=_0x5463f4=>{const _0x3ba8ff=_0x108f43;_0x5463f4[_0x3ba8ff(0xccb)]();if(_0x2742dc){const _0x2947b5=[..._0x210f69[_0x3ba8ff(0xc76)](_0x3ba8ff(0x4c0))]['reduce']((_0x2bfbd8,_0x587bf0)=>{const _0x3d75f4=_0x3ba8ff,_0x181bf6=_0x587bf0[_0x3d75f4(0xb73)](),_0x33a338=_0x5463f4[_0x3d75f4(0x6ac)]-_0x181bf6['top']-_0x181bf6[_0x3d75f4(0xbb2)]/0x2;return _0x33a338<0x0&&_0x33a338>_0x2bfbd8[_0x3d75f4(0x375)]?{'offset':_0x33a338,'element':_0x587bf0}:_0x2bfbd8;},{'offset':Number[_0x3ba8ff(0x3c3)]})['element'];_0x2947b5==null?_0x210f69[_0x3ba8ff(0x86e)](_0x2742dc):_0x210f69['insertBefore'](_0x2742dc,_0x2947b5);const _0x1c328a=[..._0x210f69[_0x3ba8ff(0xc76)](_0x3ba8ff(0x407))][_0x3ba8ff(0x929)](_0xebec9=>_0xebec9[_0x3ba8ff(0x870)][_0x3ba8ff(0x727)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x1c328a,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x79b74e=_0x15d57d,_0xdc7786=prompt(_0x79b74e(0xcfc),'แท็บใหม่');_0xdc7786&&_0xdc7786[_0x79b74e(0xa93)]()&&(parallelShortcutTabs[_0x79b74e(0xa6d)]({'id':_0x79b74e(0x74c)+Date[_0x79b74e(0xce2)](),'name':_0xdc7786[_0x79b74e(0xa93)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x3895ff=_0x15d57d,_0x201769=document[_0x3895ff(0x9c3)](_0x3895ff(0x80e)),_0x3ab22c=document['getElementById']('additional-parallel-shortcuts-list'),_0x40047b=document['getElementById']('parallel-shortcuts-loading-msg');if(_0x40047b)_0x40047b[_0x3895ff(0xcbe)][_0x3895ff(0xa54)](_0x3895ff(0x8e4));if(!_0x201769||!_0x3ab22c)return;const _0x1332be=parallelTestShortcuts['slice'](0x0,0x4),_0x2740aa=parallelTestShortcuts[_0x3895ff(0x411)](0x4);_0x201769['innerHTML']=_0x1332be['map'](_0x91a0b2=>{const _0x26f60a=_0x3895ff,_0x586a5c=_0x91a0b2[_0x26f60a(0x5cc)]&&_0x91a0b2[_0x26f60a(0x5cc)][_0x26f60a(0xa93)]()!=='',_0x4f6dc5=_0x586a5c?_0x26f60a(0x8a7):_0x26f60a(0x8b7),_0x2fa145=_0x586a5c?'🔁':'🔗',_0x2165a2=!_0x91a0b2[_0x26f60a(0xd34)]?'<button\x20data-id=\x22'+_0x91a0b2['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x26f60a(0xc61)+_0x91a0b2['id']+_0x26f60a(0x44f)+_0x4f6dc5+_0x26f60a(0xadd)+_0x2fa145+'\x20'+_0x91a0b2[_0x26f60a(0x5e1)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x91a0b2['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2165a2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3895ff(0xb2d)](''),_0x2740aa[_0x3895ff(0x768)]>0x0&&(_0x201769[_0x3895ff(0x632)]+=_0x3895ff(0x504)),_0x2740aa[_0x3895ff(0x768)]>0x0?_0x3ab22c[_0x3895ff(0x632)]=_0x2740aa[_0x3895ff(0x929)](_0x148ded=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x148ded[_0x3895ff(0x5cc)]?'🔁':'🔗')+'\x20'+_0x148ded['name']+_0x3895ff(0xd3c)+_0x148ded['id']+_0x3895ff(0xca7)+_0x148ded['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x148ded[_0x3895ff(0xd34)]?'<button\x20data-id=\x22'+_0x148ded['id']+_0x3895ff(0x4a4):'')+_0x3895ff(0x14c))[_0x3895ff(0xb2d)](''):_0x3ab22c[_0x3895ff(0x632)]=_0x3895ff(0xa3d);}function openParallelTestShortcutEditor(_0x15c13e=null){const _0x130f33=_0x15d57d,_0x45715b=document[_0x130f33(0x9c3)](_0x130f33(0x8fc)),_0x1076c8=document[_0x130f33(0x9c3)]('parallel-shortcut-modal-title'),_0x4e1bbd=document['getElementById'](_0x130f33(0xb2f)),_0x1af70d=document[_0x130f33(0x9c3)]('parallel-shortcut-name-input'),_0x4a0c9f=document[_0x130f33(0x9c3)](_0x130f33(0x826));if(_0x15c13e){const _0x560c80=parallelTestShortcuts['find'](_0x50d3c4=>_0x50d3c4['id']===_0x15c13e);if(!_0x560c80)return;_0x1076c8[_0x130f33(0xafb)]='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x4e1bbd[_0x130f33(0x3bb)]=_0x560c80['id'],_0x1af70d[_0x130f33(0x3bb)]=_0x560c80['name'],_0x4a0c9f['value']=_0x560c80[_0x130f33(0x5cc)]||'';}else _0x1076c8['textContent']=_0x130f33(0x53d),_0x4e1bbd[_0x130f33(0x3bb)]='',_0x1af70d['value']='',_0x4a0c9f['value']='';_0x45715b['classList'][_0x130f33(0xa49)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x5b81f8=_0x15d57d,_0x38b8b4=document['getElementById'](_0x5b81f8(0xb2f))[_0x5b81f8(0x3bb)],_0x4a8bf=document[_0x5b81f8(0x9c3)](_0x5b81f8(0xca2))['value'][_0x5b81f8(0xa93)](),_0x44e934=document['getElementById'](_0x5b81f8(0x826))[_0x5b81f8(0x3bb)][_0x5b81f8(0xa93)]();if(!_0x4a8bf){showMessage(_0x5b81f8(0x167));return;}const _0x252319={'id':_0x38b8b4||_0x5b81f8(0x4d9)+Date[_0x5b81f8(0xce2)](),'name':_0x4a8bf,'url':_0x44e934,'isDefault':_0x38b8b4[_0x5b81f8(0x845)](_0x5b81f8(0x19a))};let _0x1b34df;_0x38b8b4?_0x1b34df=parallelTestShortcuts[_0x5b81f8(0x929)](_0x57b12c=>_0x57b12c['id']===_0x38b8b4?_0x252319:_0x57b12c):_0x1b34df=[...parallelTestShortcuts,_0x252319];try{const _0x3a0e6f=doc(db,_0x5b81f8(0x510),_0x5b81f8(0x993));await setDoc(_0x3a0e6f,{'shortcuts':_0x1b34df},{'merge':!![]}),document[_0x5b81f8(0x9c3)](_0x5b81f8(0x8fc))[_0x5b81f8(0xcbe)][_0x5b81f8(0xa54)](_0x5b81f8(0x8e4));}catch(_0x35cba8){console[_0x5b81f8(0x1c0)](_0x5b81f8(0x618),_0x35cba8),showMessage(_0x5b81f8(0xd31));}}async function handleParallelTestShortcutClick(_0x323fe4){const _0x308a15=_0x15d57d,_0x4ea73e=parallelTestShortcuts[_0x308a15(0x52d)](_0x367412=>_0x367412['id']===_0x323fe4);if(!_0x4ea73e)return;if(!_0x4ea73e[_0x308a15(0x5cc)]||_0x4ea73e[_0x308a15(0x5cc)][_0x308a15(0xa93)]()===''){openParallelTestShortcutEditor(_0x323fe4);return;}const _0x3c8c33=document[_0x308a15(0x9c3)](_0x308a15(0x482)),_0x5c760e=document[_0x308a15(0x9c3)](_0x308a15(0x4a2));document['getElementById'](_0x308a15(0x7d3))[_0x308a15(0xcbe)][_0x308a15(0xa49)](_0x308a15(0x8e4)),document['getElementById'](_0x308a15(0x137))['innerHTML']='',_0x3c8c33[_0x308a15(0xcbe)][_0x308a15(0xa49)](_0x308a15(0x8e4)),_0x5c760e[_0x308a15(0xafb)]=_0x308a15(0x2b3);try{let _0xe42bdb;_0x4ea73e['url'][_0x308a15(0x630)]()[_0x308a15(0x436)](_0x308a15(0x533))?_0xe42bdb=_0x308a15(0x467):_0xe42bdb=_0x308a15(0x897);const _0x43660a=await fetchFileFromUrl(_0x4ea73e['url'],_0xe42bdb);await handleGenerateParallelTest(_0x43660a);}catch(_0x11b215){console[_0x308a15(0x1c0)]('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x11b215),showMessage('เกิดข้อผิดพลาด:\x20'+_0x11b215[_0x308a15(0xce4)]),_0x3c8c33[_0x308a15(0xcbe)][_0x308a15(0xa54)](_0x308a15(0x8e4));}}function initializeScratchpadCanvas(){const _0x322447=_0x15d57d,_0x30921a=document['getElementById']('scratchpad-canvas'),_0x2de8d9=document['querySelector'](_0x322447(0x424));if(!_0x30921a||!_0x2de8d9)return;scratchpadCtx=_0x30921a[_0x322447(0x35f)]('2d',{'willReadFrequently':!![]});const _0x286a43=window[_0x322447(0x774)]||0x1,_0x19e1ef=_0x2de8d9[_0x322447(0xb73)]();_0x30921a[_0x322447(0xb9b)]=_0x19e1ef[_0x322447(0xb9b)]*_0x286a43,_0x30921a['height']=_0x19e1ef[_0x322447(0xbb2)]*_0x286a43,_0x30921a[_0x322447(0x827)][_0x322447(0xb9b)]=_0x19e1ef[_0x322447(0xb9b)]+'px',_0x30921a[_0x322447(0x827)]['height']=_0x19e1ef[_0x322447(0xbb2)]+'px',scratchpadCtx[_0x322447(0xaf9)](_0x286a43,_0x286a43),scratchpadCtx[_0x322447(0x7f9)]=_0x322447(0xb3c),scratchpadCtx[_0x322447(0xa7e)]=_0x322447(0xb3c),_0x30921a[_0x322447(0x9f3)]('pointerdown',handlePointerDown),_0x30921a[_0x322447(0x9f3)]('pointermove',handlePointerMove),_0x30921a['removeEventListener'](_0x322447(0xd0a),handlePointerUp),_0x30921a[_0x322447(0x9f3)](_0x322447(0x752),handlePointerUp),_0x30921a['removeEventListener'](_0x322447(0x136),handleWheel),_0x30921a[_0x322447(0x9f3)](_0x322447(0x32d),handlePointerDown),_0x30921a[_0x322447(0x9f3)](_0x322447(0x5a9),handlePointerMove),_0x30921a[_0x322447(0x9f3)](_0x322447(0x697),handlePointerUp),_0x30921a[_0x322447(0x762)](_0x322447(0x8f5),handlePointerDown),_0x30921a[_0x322447(0x762)](_0x322447(0x69a),handlePointerMove),_0x30921a[_0x322447(0x762)](_0x322447(0xd0a),handlePointerUp),_0x30921a[_0x322447(0x762)](_0x322447(0x752),handlePointerUp),_0x30921a[_0x322447(0x762)](_0x322447(0x136),handleWheel,{'passive':![]}),_0x30921a[_0x322447(0x762)](_0x322447(0x32d),handlePointerDown,{'passive':![]}),_0x30921a[_0x322447(0x762)](_0x322447(0x5a9),handlePointerMove,{'passive':![]}),_0x30921a[_0x322447(0x762)](_0x322447(0x697),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x506b90=_0x15d57d,_0x4309ad=document[_0x506b90(0x9c3)](_0x506b90(0xd1f)),_0x2da119=document[_0x506b90(0x9c3)](_0x506b90(0xc74));_0x2da119['innerHTML']=_0x506b90(0x88b)+scratchpadHighlighterSize+_0x506b90(0x4c1);const _0x3ba2b4=document['getElementById'](_0x506b90(0x8ba)),_0x56685b=document[_0x506b90(0x9c3)](_0x506b90(0x42d)),_0x55b57c=document['getElementById']('trail-tool-btn'),_0x2aec72=document[_0x506b90(0x9c3)](_0x506b90(0xada)),_0x3aa1da=document[_0x506b90(0x9c3)](_0x506b90(0xa0e)),_0x118400=document['getElementById']('highlighter-tools-group'),_0x1d5165=document[_0x506b90(0x9c3)](_0x506b90(0x5b2)),_0x235e0f=[_0x3ba2b4,_0x56685b,_0x55b57c,_0x2aec72];document[_0x506b90(0x9c3)](_0x506b90(0x859))[_0x506b90(0x762)](_0x506b90(0xba1),()=>_0x4309ad[_0x506b90(0xcbe)][_0x506b90(0xa54)]('hidden')),document[_0x506b90(0x9c3)]('reset-view-btn')[_0x506b90(0x762)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x506b90(0x9c3)](_0x506b90(0x8ca))[_0x506b90(0x762)](_0x506b90(0xba1),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x506b90(0x9c3)](_0x506b90(0xc4b))[_0x506b90(0x762)](_0x506b90(0xba1),undo),document[_0x506b90(0x9c3)]('redo-btn')['addEventListener'](_0x506b90(0xba1),redo);const _0x2e43fd=_0x3ff972=>{const _0x40c4ef=_0x506b90;_0x235e0f[_0x40c4ef(0x326)](_0x225a49=>_0x225a49['classList'][_0x40c4ef(0xa49)](_0x40c4ef(0x471))),_0x3ff972[_0x40c4ef(0xcbe)]['add'](_0x40c4ef(0x471)),_0x3aa1da[_0x40c4ef(0xcbe)]['add'](_0x40c4ef(0x8e4)),_0x118400[_0x40c4ef(0xcbe)][_0x40c4ef(0xa54)]('hidden'),_0x1d5165[_0x40c4ef(0xcbe)][_0x40c4ef(0xa54)]('hidden');if(activeTool==='pen'||activeTool===_0x40c4ef(0x85d))_0x3aa1da[_0x40c4ef(0xcbe)][_0x40c4ef(0xa49)]('hidden');else{if(activeTool===_0x40c4ef(0xb68))_0x118400[_0x40c4ef(0xcbe)]['remove'](_0x40c4ef(0x8e4));else activeTool==='eraser'&&_0x1d5165['classList']['remove'](_0x40c4ef(0x8e4));}};_0x3ba2b4[_0x506b90(0x762)]('click',()=>{activeTool='pen',_0x2e43fd(_0x3ba2b4);}),_0x56685b[_0x506b90(0x762)](_0x506b90(0xba1),()=>{activeTool='eraser',_0x2e43fd(_0x56685b);}),_0x55b57c[_0x506b90(0x762)](_0x506b90(0xba1),()=>{activeTool='trail',_0x2e43fd(_0x55b57c);}),_0x2aec72[_0x506b90(0x762)](_0x506b90(0xba1),()=>{activeTool='highlighter',_0x2e43fd(_0x2aec72);}),_0x3aa1da[_0x506b90(0xc76)](_0x506b90(0x974))[_0x506b90(0x326)](_0x22bc66=>{const _0x1bb150=_0x506b90;_0x22bc66['addEventListener'](_0x1bb150(0xba1),_0x2a7268=>{const _0x42b44f=_0x1bb150;scratchpadPenSize=parseInt(_0x2a7268['target'][_0x42b44f(0x870)][_0x42b44f(0x78b)],0xa),_0x3aa1da[_0x42b44f(0xc76)](_0x42b44f(0x974))[_0x42b44f(0x326)](_0x5c5867=>_0x5c5867[_0x42b44f(0xcbe)][_0x42b44f(0xa49)](_0x42b44f(0x471))),_0x2a7268['target'][_0x42b44f(0xcbe)][_0x42b44f(0xa54)](_0x42b44f(0x471));});}),_0x1d5165['querySelectorAll'](_0x506b90(0x744))['forEach'](_0x1a8c02=>{_0x1a8c02['addEventListener']('click',_0x2fa585=>{const _0x49b7b0=_0x344c,_0x118769=_0x2fa585[_0x49b7b0(0xb70)];scratchpadEraserSize=parseInt(_0x118769[_0x49b7b0(0x870)][_0x49b7b0(0x78b)],0xa),_0x1d5165[_0x49b7b0(0xc76)](_0x49b7b0(0x744))[_0x49b7b0(0x326)](_0x3771b7=>_0x3771b7[_0x49b7b0(0xcbe)][_0x49b7b0(0xa49)](_0x49b7b0(0x471))),_0x118769[_0x49b7b0(0xcbe)][_0x49b7b0(0xa54)](_0x49b7b0(0x471));});}),_0x3aa1da[_0x506b90(0xc76)](_0x506b90(0x8d8))['forEach'](_0x52e07f=>{const _0x4f2e1c=_0x506b90;_0x52e07f[_0x4f2e1c(0x762)](_0x4f2e1c(0xba1),_0x27ea1c=>{const _0x598244=_0x4f2e1c;scratchpadPenColor=_0x27ea1c[_0x598244(0x24a)][_0x598244(0x870)][_0x598244(0x6a1)],_0x3aa1da[_0x598244(0xc76)](_0x598244(0x8d8))[_0x598244(0x326)](_0x410341=>_0x410341['classList'][_0x598244(0xa49)](_0x598244(0x471))),_0x27ea1c['target'][_0x598244(0xcbe)][_0x598244(0xa54)](_0x598244(0x471));});}),_0x118400['querySelectorAll'](_0x506b90(0x7ac))[_0x506b90(0x326)](_0x112f4f=>{_0x112f4f['addEventListener']('click',_0x3b840d=>{const _0x52f23f=_0x344c;scratchpadHighlighterColor=_0x3b840d['target'][_0x52f23f(0x870)]['color'],_0x118400[_0x52f23f(0xc76)](_0x52f23f(0x7ac))[_0x52f23f(0x326)](_0x7c86ae=>_0x7c86ae[_0x52f23f(0xcbe)][_0x52f23f(0xa49)](_0x52f23f(0x471))),_0x3b840d[_0x52f23f(0x24a)]['classList'][_0x52f23f(0xa54)]('active');});});const _0xe50eaa=document[_0x506b90(0x9c3)](_0x506b90(0x1c9)),_0x2819bc=document[_0x506b90(0x9c3)]('highlighter-size-value');_0xe50eaa[_0x506b90(0x762)](_0x506b90(0x693),_0x26848d=>{const _0x551fdb=_0x506b90,_0xcffa7f=parseInt(_0x26848d[_0x551fdb(0x24a)][_0x551fdb(0x3bb)],0xa);scratchpadHighlighterSize=_0xcffa7f,_0x2819bc[_0x551fdb(0xafb)]=_0xcffa7f;}),window[_0x506b90(0x762)](_0x506b90(0xa44),()=>{const _0x22b187=_0x506b90;!_0x4309ad['classList']['contains'](_0x22b187(0x8e4))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x15d57d(0x6b9),'description':_0x15d57d(0x76b),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x15d57d(0x250),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x15d57d(0x9dd)},'ON_FIRE':{'id':'on_fire','name':_0x15d57d(0x309),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x15d57d(0x684),'name':_0x15d57d(0xa86),'description':_0x15d57d(0x7a9),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x15d57d(0x244),'name':_0x15d57d(0x917),'description':_0x15d57d(0x532),'icon':_0x15d57d(0x3a8)},'SPECIALIST':{'id':_0x15d57d(0x3db),'name':_0x15d57d(0x61c),'description':_0x15d57d(0x497),'icon':_0x15d57d(0xafc)},'PERSEVERANCE':{'id':_0x15d57d(0xb86),'name':'ผู้ไม่ยอมแพ้','description':_0x15d57d(0xbcc),'icon':_0x15d57d(0xcf2)}},firebaseConfig={'apiKey':_0x15d57d(0x387),'authDomain':_0x15d57d(0xab7),'projectId':_0x15d57d(0x162),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x15d57d(0x435),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x15d57d(0x4d7)},appId=typeof __app_id!==_0x15d57d(0xb13)?__app_id:_0x15d57d(0x75c),adminView=document['getElementById'](_0x15d57d(0x466)),studentView=document[_0x15d57d(0x9c3)]('student-view'),projectDashboardView=document[_0x15d57d(0x9c3)](_0x15d57d(0x4f3)),projectDetailView=document['getElementById'](_0x15d57d(0x1c5)),quizResultsView=document['getElementById'](_0x15d57d(0x1ca)),projectList=document[_0x15d57d(0x9c3)](_0x15d57d(0x42e)),noProjectsMsg=document[_0x15d57d(0x9c3)]('no-projects-msg'),projectTitle=document[_0x15d57d(0x9c3)](_0x15d57d(0x457)),projectIdDisplay=document[_0x15d57d(0x9c3)](_0x15d57d(0x3e5)),studentList=document['getElementById'](_0x15d57d(0xac4)),messageModal=document[_0x15d57d(0x9c3)](_0x15d57d(0x9da)),modalMessage=document[_0x15d57d(0x9c3)](_0x15d57d(0x7c5)),createProjectModal=document[_0x15d57d(0x9c3)](_0x15d57d(0x60d)),adminPasswordModal=document[_0x15d57d(0x9c3)](_0x15d57d(0x38f)),confirmationModal=document['getElementById'](_0x15d57d(0x210)),userIdDisplay=document['getElementById'](_0x15d57d(0x172)),topicTab=document[_0x15d57d(0x9c3)](_0x15d57d(0x551)),textTab=document['getElementById'](_0x15d57d(0x6ec)),topicInputArea=document['getElementById'](_0x15d57d(0x7dc)),textInputArea=document[_0x15d57d(0x9c3)](_0x15d57d(0x1b9)),manageTab=document['getElementById'](_0x15d57d(0xc92)),resultsTab=document[_0x15d57d(0x9c3)](_0x15d57d(0xcee)),leaderboardTab=document['getElementById'](_0x15d57d(0x156)),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document['getElementById'](_0x15d57d(0xa11)),leaderboardTabContent=document[_0x15d57d(0x9c3)](_0x15d57d(0x734)),projectQuizzesList=document[_0x15d57d(0x9c3)]('project-quizzes-list'),fileTab=document[_0x15d57d(0x9c3)](_0x15d57d(0x317)),fileInputArea=document[_0x15d57d(0x9c3)](_0x15d57d(0x916)),fileUploadInput=document[_0x15d57d(0x9c3)](_0x15d57d(0x931)),worksheetTab=document[_0x15d57d(0x9c3)](_0x15d57d(0x9b7)),worksheetInputArea=document[_0x15d57d(0x9c3)]('worksheet-input-area'),generateWorksheetBtn=document['getElementById'](_0x15d57d(0xa8f)),studentInitialView=document[_0x15d57d(0x9c3)]('student-initial-view'),studentNameSelectionView=document[_0x15d57d(0x9c3)](_0x15d57d(0x780)),studentQuizArea=document[_0x15d57d(0x9c3)](_0x15d57d(0x91b)),studentResultArea=document['getElementById'](_0x15d57d(0x9c8)),studentReadingArea=document[_0x15d57d(0x9c3)](_0x15d57d(0x195)),loadQuizBtn=document[_0x15d57d(0x9c3)]('load-quiz-btn'),startQuizBtn=document[_0x15d57d(0x9c3)](_0x15d57d(0x180)),studentJoinGameView=document['getElementById'](_0x15d57d(0x39b)),presentationModal=document[_0x15d57d(0x9c3)]('presentation-modal'),renameQuizModal=document[_0x15d57d(0x9c3)](_0x15d57d(0x948)),moveQuizModal=document[_0x15d57d(0x9c3)](_0x15d57d(0x433)),quizSettingsModal=document[_0x15d57d(0x9c3)](_0x15d57d(0x46d)),quizStatusModal=document[_0x15d57d(0x9c3)](_0x15d57d(0x2dc)),liveGameView=document['getElementById']('live-game-view');function handleFixLessonLatex(){const _0x4f7e6b=_0x15d57d,_0x281623=document['getElementById']('lesson-view-content');if(!_0x281623){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x51c4c2=_0x281623[_0x4f7e6b(0xc76)](['.ai-content\x20p',_0x4f7e6b(0x67d),'.ai-content\x20blockquote',_0x4f7e6b(0xcea),_0x4f7e6b(0x4be)][_0x4f7e6b(0xb2d)](','));let _0x744a91=0x0;const _0x262064=_0x443bbb=>_0x443bbb[_0x4f7e6b(0xafb)]||'',_0x106c08=(_0x2f6ce0,_0x385d2b)=>{const _0x392dd3=_0x4f7e6b;if(_0x2f6ce0['querySelector']&&_0x2f6ce0[_0x392dd3(0x8da)](_0x392dd3(0xb7d)))return;_0x2f6ce0[_0x392dd3(0xafb)]=_0x385d2b;},_0x43d6bd=_0xea2130=>_0xea2130[_0x4f7e6b(0x3d0)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x4f7e6b(0x3d0)](/\r\n?/g,'\x0a'),_0x222b23=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x6a31f8=_0x417ae4=>{const _0x8b8686=_0x4f7e6b;let _0xcf3147=_0x417ae4[_0x8b8686(0xa93)]();const _0x5b34bb=['frac','dfrac',_0x8b8686(0x958),_0x8b8686(0x13b),_0x8b8686(0xcde),_0x8b8686(0x927),'cdot','div',_0x8b8686(0x1f2),'geq','le','ge',_0x8b8686(0x6f1),'pm',_0x8b8686(0xccf),'sin',_0x8b8686(0xc86),'tan',_0x8b8686(0xb0b),'ln',_0x8b8686(0xadb),_0x8b8686(0xc26),'binom','left','right',_0x8b8686(0x92c),_0x8b8686(0x4ec),'circ',_0x8b8686(0x8bb)];_0x5b34bb[_0x8b8686(0x326)](_0x589b52=>{const _0x3c8af0=_0x8b8686;_0xcf3147=_0xcf3147[_0x3c8af0(0x3d0)](new RegExp(_0x3c8af0(0x34f)+_0x589b52+'\x5cb','g'),(_0x538e3b,_0x128cf2)=>_0x128cf2+'\x5c'+_0x589b52);});const _0x1029c6=[[/×/g,'\x5ctimes'],[/·/g,_0x8b8686(0xcc2)],[/÷/g,_0x8b8686(0x57f)],[/≤/g,_0x8b8686(0xaa9)],[/≥/g,'\x5cge'],[/≠/g,_0x8b8686(0x15a)],[/±/g,'\x5cpm'],[/∑/g,_0x8b8686(0x615)],[/−/g,'-']];return _0x1029c6[_0x8b8686(0x326)](([_0x411748,_0x420f14])=>{const _0x4fff65=_0x8b8686;_0xcf3147=_0xcf3147[_0x4fff65(0x3d0)](_0x411748,_0x420f14);}),_0xcf3147=_0xcf3147[_0x8b8686(0x3d0)](/√\s*([A-Za-z0-9]+)/g,_0x8b8686(0x498)),_0xcf3147=_0xcf3147[_0x8b8686(0x3d0)](/(\d+)\s*%/g,_0x8b8686(0x703)),_0xcf3147;},_0x3734e3=_0x14ffea=>{const _0x1ea476=_0x4f7e6b;if(/\$|\\\(|\\\[/[_0x1ea476(0x495)](_0x14ffea))return _0x14ffea;if(!_0x222b23[_0x1ea476(0x495)](_0x14ffea))return _0x14ffea;const _0x1e915a=_0x14ffea[_0x1ea476(0x972)](/^\s*/)[0x0],_0x19b069=_0x14ffea[_0x1ea476(0x972)](/\s*$/)[0x0],_0x45eaa8=_0x14ffea[_0x1ea476(0xa93)]();return _0x1e915a+'$'+_0x6a31f8(_0x45eaa8)+'$'+_0x19b069;};_0x51c4c2[_0x4f7e6b(0x326)](_0x37f52e=>{const _0x2db32e=_0x4f7e6b,_0x1d83af=_0x262064(_0x37f52e);let _0x598b86=_0x43d6bd(_0x1d83af);_0x598b86=_0x598b86[_0x2db32e(0x3d0)](/\$([^$]*?)\$/g,(_0x7a42ad,_0x266c02)=>'$'+_0x6a31f8(_0x266c02)+'$');const _0x574863=_0x598b86['split'](/(\s+)/),_0x4f9257=_0x574863[_0x2db32e(0x929)](_0x4ac05d=>{const _0x92f44f=_0x2db32e;if(/\s+/[_0x92f44f(0x495)](_0x4ac05d))return _0x4ac05d;return _0x3734e3(_0x4ac05d);});_0x598b86=_0x4f9257[_0x2db32e(0xb2d)](''),_0x598b86!==_0x1d83af&&(_0x106c08(_0x37f52e,_0x598b86),_0x744a91++);});if(_0x744a91>0x0){showMessage(_0x4f7e6b(0x50e)+_0x744a91+_0x4f7e6b(0x53e));try{window[_0x4f7e6b(0x1b4)]&&MathJax[_0x4f7e6b(0xc2c)]&&MathJax['typesetPromise']([_0x281623]);}catch(_0xd0716b){console[_0x4f7e6b(0x1c0)](_0x4f7e6b(0x74d),_0xd0716b);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x5a1bed=_0x15d57d,_0x57a7ff=document['getElementById'](_0x5a1bed(0x3f4))||document,_0x31d83d=_0x57a7ff[_0x5a1bed(0xc76)](_0x5a1bed(0x84d));let _0x7b39f9=0x0;const _0x4a9df8=_0x33a54e=>_0x5a1bed(0x3bb)in _0x33a54e?String(_0x33a54e[_0x5a1bed(0x3bb)]):_0x33a54e['innerText']!==undefined?_0x33a54e[_0x5a1bed(0x263)]:_0x33a54e['textContent']||'',_0x5bb635=(_0x5cd6d3,_0x351bdf)=>{const _0x533d4b=_0x5a1bed;if(_0x533d4b(0x3bb)in _0x5cd6d3){_0x5cd6d3['value']=_0x351bdf;return;}if(_0x5cd6d3[_0x533d4b(0x8da)]&&_0x5cd6d3[_0x533d4b(0x8da)](_0x533d4b(0xb7d)))return;if(_0x5cd6d3[_0x533d4b(0x263)]!==undefined)_0x5cd6d3[_0x533d4b(0x263)]=_0x351bdf;else _0x5cd6d3[_0x533d4b(0xafb)]=_0x351bdf;},_0x525591=_0x2b6fdf=>_0x2b6fdf[_0x5a1bed(0x3d0)](/\u00A0/g,'\x20')[_0x5a1bed(0x3d0)](/\u200B/g,'')[_0x5a1bed(0x3d0)](/\r\n?/g,'\x0a'),_0x1908cb=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x3ebb1e=_0x370749=>{const _0x395aa1=_0x5a1bed;let _0x3a2353=_0x370749['trim']();_0x3a2353=_0x3a2353[_0x395aa1(0x3d0)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x395aa1(0xc53)),_0x3a2353=_0x3a2353['replace'](/\bfrac(\d)(\d)/g,_0x395aa1(0xc53));const _0x90bb10=[_0x395aa1(0x773),_0x395aa1(0x13b),'times',_0x395aa1(0xd3e),_0x395aa1(0xa53),_0x395aa1(0x1f2),_0x395aa1(0x783),_0x395aa1(0x6f1),'pm','sin',_0x395aa1(0xc86),_0x395aa1(0x6cf),_0x395aa1(0xb0b),'ln'];_0x90bb10[_0x395aa1(0x326)](_0x130332=>{const _0x5dff46=_0x395aa1;_0x3a2353=_0x3a2353[_0x5dff46(0x3d0)](new RegExp(_0x5dff46(0x34f)+_0x130332+'\x5cb','g'),(_0x4cf671,_0x5f4906)=>_0x5f4906+'\x5c'+_0x130332);});const _0x318628=[[/×/g,'\x5ctimes'],[/·/g,_0x395aa1(0xcc2)],[/÷/g,'\x5cdiv'],[/≤/g,_0x395aa1(0xaa9)],[/≥/g,'\x5cge'],[/≠/g,_0x395aa1(0x15a)],[/±/g,_0x395aa1(0xa5b)]];return _0x318628[_0x395aa1(0x326)](([_0xfc61e6,_0x440f98])=>{const _0x4561ef=_0x395aa1;_0x3a2353=_0x3a2353[_0x4561ef(0x3d0)](_0xfc61e6,_0x440f98);}),_0x3a2353;},_0x3c0108=_0x228497=>{const _0x4c09c7=_0x5a1bed;if(/\$|\\\(|\\\[/['test'](_0x228497))return _0x228497;if(!_0x1908cb[_0x4c09c7(0x495)](_0x228497))return _0x228497;const _0x46b642=_0x228497[_0x4c09c7(0x972)](/^\s*/)[0x0],_0x127636=_0x228497[_0x4c09c7(0x972)](/\s*$/)[0x0],_0x13e403=_0x228497[_0x4c09c7(0xa93)]();return _0x46b642+'$'+_0x3ebb1e(_0x13e403)+'$'+_0x127636;};_0x31d83d[_0x5a1bed(0x326)](_0x29c133=>{const _0x29ef48=_0x5a1bed,_0x1f4f16=_0x4a9df8(_0x29c133);let _0x149277=_0x525591(_0x1f4f16);_0x149277=_0x149277[_0x29ef48(0x3d0)](/\$([^$]*?)\$/g,(_0x34847d,_0x305fb7)=>'$'+_0x3ebb1e(_0x305fb7)+'$');const _0x5d94c6=_0x149277[_0x29ef48(0x260)](/(\s+)/),_0x44062d=_0x5d94c6['map'](_0x656264=>/\s+/[_0x29ef48(0x495)](_0x656264)?_0x656264:_0x3c0108(_0x656264));_0x149277=_0x44062d[_0x29ef48(0xb2d)](''),_0x149277!==_0x1f4f16&&(_0x5bb635(_0x29c133,_0x149277),_0x7b39f9++);});if(_0x7b39f9>0x0){showMessage(_0x5a1bed(0xbff)+_0x7b39f9+_0x5a1bed(0x79c));try{if(window[_0x5a1bed(0x1b4)]&&MathJax[_0x5a1bed(0xc2c)])MathJax[_0x5a1bed(0xc2c)]();}catch(_0x1ebd97){}}else showMessage(_0x5a1bed(0xcdf));}async function listenForCustomMathTopics(){const _0x527806=_0x15d57d,_0x298fae=collection(db,_0x527806(0xc02)+appId+_0x527806(0x8e3));onSnapshot(_0x298fae,_0x5ed0d7=>{const _0x4db662=_0x527806;customMathTopics=_0x5ed0d7['docs'][_0x4db662(0x929)](_0x1dc1fc=>({'id':_0x1dc1fc['id'],..._0x1dc1fc['data']()})),renderTopicCheckboxes();},_0x3678cf=>{const _0x6ef48a=_0x527806;console['error'](_0x6ef48a(0x499),_0x3678cf);});}function handleSelectAllTopics(){const _0x2f8adf=_0x15d57d,_0x3ae24f=document[_0x2f8adf(0x9c3)](_0x2f8adf(0x1f6)),_0x4042ab=_0x3ae24f[_0x2f8adf(0xc76)]('input[type=\x22checkbox\x22]');_0x4042ab[_0x2f8adf(0x326)](_0x31797f=>{const _0x57fc56=_0x2f8adf;_0x31797f[_0x57fc56(0x57b)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x15be0c=_0x15d57d,_0x2147bd=document[_0x15be0c(0x9c3)](_0x15be0c(0x1f6)),_0x14f94b=_0x2147bd[_0x15be0c(0xc76)](_0x15be0c(0x2b8));_0x14f94b[_0x15be0c(0x326)](_0x4e25d1=>{_0x4e25d1['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4317b2){const _0x3b267a=_0x15d57d;if(!_0x4317b2)return;try{const _0x5bb83=doc(db,_0x3b267a(0xc02)+appId+_0x3b267a(0x8e3),_0x4317b2);await deleteDoc(_0x5bb83),showMessage(_0x3b267a(0x23c));}catch(_0x596ba5){console['error']('Error\x20deleting\x20custom\x20topic:',_0x596ba5),showMessage(_0x3b267a(0x578));}}async function handleAddCustomMathTopic(){const _0x1a8b4d=_0x15d57d,_0x1cfb19=document['getElementById'](_0x1a8b4d(0x3d5)),_0x5ef980=_0x1cfb19['value'][_0x1a8b4d(0xa93)]();if(!_0x5ef980){showMessage(_0x1a8b4d(0x751));return;}if(!userId){showMessage(_0x1a8b4d(0x22e));return;}try{const _0x55001c=collection(db,_0x1a8b4d(0xc02)+appId+_0x1a8b4d(0x8e3));await addDoc(_0x55001c,{'name':_0x5ef980,'createdAt':serverTimestamp()}),_0x1cfb19[_0x1a8b4d(0x3bb)]='',showMessage(_0x1a8b4d(0x860)+_0x5ef980+_0x1a8b4d(0x215));}catch(_0x418029){console[_0x1a8b4d(0x1c0)](_0x1a8b4d(0x4ac),_0x418029),showMessage(_0x1a8b4d(0xa9e));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x3dcbbd=_0x344c,_0x34808b=document[_0x3dcbbd(0x9c3)](_0x3dcbbd(0x482)),_0x46953a=document[_0x3dcbbd(0x9c3)](_0x3dcbbd(0x4a2)),_0x556ec3=_0x46953a[_0x3dcbbd(0xafb)];_0x34808b[_0x3dcbbd(0xcbe)]['remove'](_0x3dcbbd(0x8e4)),_0x46953a[_0x3dcbbd(0xafb)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x5dcc49=collection(db,_0x3dcbbd(0xc02)+appId+_0x3dcbbd(0x21e)),_0x89f7c3=await getDocs(_0x5dcc49);if(_0x89f7c3['empty']){showMessage(_0x3dcbbd(0xa05));return;}const _0x569c23=writeBatch(db);let _0x3a53ec=0x0;_0x89f7c3[_0x3dcbbd(0x326)](_0x88af0d=>{const _0x5a3baf=_0x3dcbbd,_0x3f03e8=_0x88af0d['data'](),_0xc75749=_0x88af0d['id'];if(_0x3f03e8[_0x5a3baf(0xca5)]&&_0x3f03e8['questions']['length']>0x0&&!_0x3f03e8[_0x5a3baf(0xca5)][0x0][_0x5a3baf(0x344)]('id')){console[_0x5a3baf(0xb0b)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0xc75749+'\x20('+_0x3f03e8[_0x5a3baf(0x294)]+')'),_0x3a53ec++;const _0x3c34be=_0x3f03e8[_0x5a3baf(0xca5)][_0x5a3baf(0x929)]((_0x198b3e,_0x293fef)=>{const _0x57afa8=_0x5a3baf;return{..._0x198b3e,'id':_0x198b3e['id']||'q_'+Date[_0x57afa8(0xce2)]()+'_'+_0xc75749+'_'+_0x293fef};}),_0x25bdc2=doc(db,_0x5a3baf(0xc02)+appId+'/public/data/quizzes',_0xc75749);_0x569c23[_0x5a3baf(0xae8)](_0x25bdc2,{'questions':_0x3c34be});}}),_0x3a53ec>0x0?(_0x46953a[_0x3dcbbd(0xafb)]=_0x3dcbbd(0x539)+_0x3a53ec+_0x3dcbbd(0xa2d),await _0x569c23[_0x3dcbbd(0x281)](),showMessage(_0x3dcbbd(0x18b)+_0x3a53ec+_0x3dcbbd(0x2fc))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x17026e){console[_0x3dcbbd(0x1c0)](_0x3dcbbd(0x813),_0x17026e),showMessage(_0x3dcbbd(0xc6b)+_0x17026e[_0x3dcbbd(0xce4)]);}finally{_0x34808b[_0x3dcbbd(0xcbe)][_0x3dcbbd(0xa54)](_0x3dcbbd(0x8e4)),_0x46953a['textContent']=_0x556ec3;}});}async function handleBulkUpdateQuizSettings(){const _0x176619=_0x15d57d,_0x1b92ae={'shuffle':document['getElementById'](_0x176619(0xa41))[_0x176619(0x3bb)],'resultsDisplay':document[_0x176619(0x9c3)](_0x176619(0xc2e))[_0x176619(0x3bb)],'loopUntilPass':document[_0x176619(0x9c3)](_0x176619(0xc9a))['checked'],'isConfidenceScoringEnabled':document['getElementById']('bulk-confidence-scoring-checkbox')[_0x176619(0x57b)],'confidenceMode':document[_0x176619(0x9c3)]('bulk-confidence-mode-select')[_0x176619(0x3bb)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x156b80=await getDocs(collection(db,_0x176619(0xc02)+appId+_0x176619(0x21e))),_0x352cfa=_0x156b80['docs'][_0x176619(0x929)](_0x10fef6=>({'id':_0x10fef6['id'],'data':_0x10fef6[_0x176619(0xc5f)]()})),_0x3bdf22=_0x352cfa['length'];showConfirmation(_0x176619(0xbfb)+_0x3bdf22+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x46e53f=_0x176619,_0x5c18e9=document['getElementById'](_0x46e53f(0x8f9));_0x5c18e9[_0x46e53f(0x704)]=!![],_0x5c18e9[_0x46e53f(0x632)]=_0x46e53f(0x452);try{const _0xe5e950=writeBatch(db);_0x352cfa[_0x46e53f(0x326)](_0x4ac5cb=>{const _0x376eb4=_0x46e53f,_0x557ecf=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4ac5cb['id']),_0x5e3228={..._0x4ac5cb[_0x376eb4(0xc5f)]['settings']||{},..._0x1b92ae};_0xe5e950[_0x376eb4(0xae8)](_0x557ecf,{'settings':_0x5e3228});}),await _0xe5e950[_0x46e53f(0x281)](),document['getElementById']('bulk-quiz-settings-modal')[_0x46e53f(0xcbe)][_0x46e53f(0xa54)]('hidden'),showMessage(_0x46e53f(0x1e9)+_0x3bdf22+_0x46e53f(0x731));}catch(_0x120ff3){console[_0x46e53f(0x1c0)](_0x46e53f(0x8aa),_0x120ff3),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x5c18e9[_0x46e53f(0x704)]=![],_0x5c18e9[_0x46e53f(0x632)]=_0x46e53f(0x8e1);}});}catch(_0x2a6c89){console[_0x176619(0x1c0)](_0x176619(0x4c2),_0x2a6c89),showMessage(_0x176619(0x1a7));}}async function handleSaveProjectName(){const _0x40fb36=_0x15d57d,_0x33d083=document[_0x40fb36(0x9c3)](_0x40fb36(0x457)),_0x2ad0b1=document[_0x40fb36(0x9c3)](_0x40fb36(0x49a)),_0x5cd457=_0x33d083[_0x40fb36(0xafb)][_0x40fb36(0xa93)]();if(!_0x5cd457||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x33d083[_0x40fb36(0xafb)]=currentProjectData['projectName'];return;}_0x2ad0b1[_0x40fb36(0x704)]=!![],_0x2ad0b1[_0x40fb36(0x632)]=_0x40fb36(0xbab);try{const _0x40f3f1=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x40f3f1,{'projectName':_0x5cd457}),currentProjectData&&(currentProjectData[_0x40fb36(0x5fc)]=_0x5cd457),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x540682){console[_0x40fb36(0x1c0)]('Error\x20updating\x20project\x20name:',_0x540682),showMessage(_0x40fb36(0xd31)),_0x33d083[_0x40fb36(0xafb)]=currentProjectData[_0x40fb36(0x5fc)];}finally{_0x2ad0b1['classList']['add']('hidden'),_0x2ad0b1[_0x40fb36(0x704)]=![],_0x2ad0b1[_0x40fb36(0x632)]=_0x40fb36(0x38a);}}function handleGeneratePracticeTest(_0x2da33b,_0x27b2e7){const _0xdd2aee=_0x15d57d,_0x2c44a5=document[_0xdd2aee(0x9c3)](_0xdd2aee(0x94e)),_0x3fdbc5=document['getElementById'](_0xdd2aee(0x941)),_0xf57898=document['getElementById'](_0xdd2aee(0xa81)),_0xae37fd=document[_0xdd2aee(0x9c3)](_0xdd2aee(0x80a));_0x3fdbc5[_0xdd2aee(0xafb)]=_0xdd2aee(0x372)+_0x2da33b,_0xae37fd['classList'][_0xdd2aee(0xa54)]('hidden'),_0xf57898['classList']['remove'](_0xdd2aee(0x8e4)),_0x2c44a5[_0xdd2aee(0xcbe)][_0xdd2aee(0xa49)](_0xdd2aee(0x8e4)),generatePracticeTest(_0x2da33b,_0x27b2e7)[_0xdd2aee(0x6f5)](_0x3f7b91=>{const _0x39eec1=_0xdd2aee;console[_0x39eec1(0x1c0)](_0x39eec1(0xb77),_0x3f7b91),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x2c44a5[_0x39eec1(0xcbe)]['add'](_0x39eec1(0x8e4));});}async function generatePracticeTest(_0x4106a9,_0x458fff){const _0x1d8029=_0x15d57d;[_0x1d8029(0x6c9),_0x1d8029(0xaf2),_0x1d8029(0xb1e),'summaryContent']['forEach'](_0x3aa49a=>{const _0x3421d1=_0x1d8029,_0x481005=document[_0x3421d1(0x9c3)](_0x3aa49a)[_0x3421d1(0xcb7)];_0x481005&&(_0x481005[_0x3421d1(0x827)][_0x3421d1(0x417)]=_0x3421d1(0x8be));});try{const _0x4284a7='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x1a63c8=_0x1d8029(0xa51)+_0x458fff+_0x1d8029(0x977)+_0x4106a9+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x4b1eeb=await callGemini(_0x1a63c8,!![]),_0x12dee2=document[_0x1d8029(0x9c3)]('lesson-view-title'),_0x160060=document[_0x1d8029(0x9c3)]('lesson-loader'),_0x6ef2dc=document[_0x1d8029(0x9c3)]('lesson-sections-container'),_0x21cd56=document[_0x1d8029(0x9c3)](_0x1d8029(0xb1e))[_0x1d8029(0xcb7)];_0x12dee2[_0x1d8029(0x263)]=_0x1d8029(0xcbf)+_0x4106a9[_0x1d8029(0x3d0)](/•\s/g,'')+_0x1d8029(0x67a)+_0x458fff+')',currentApplicationData=JSON[_0x1d8029(0xacd)](_0x4b1eeb);const _0x275e09=document[_0x1d8029(0x9c3)](_0x1d8029(0xb1e));_0x275e09['innerHTML']=currentApplicationData[_0x1d8029(0x929)]((_0x38d0c3,_0x1e9afa)=>_0x1d8029(0x75d)+(_0x1e9afa+0x1)+'.\x20'+marked['parseInline'](_0x38d0c3[_0x1d8029(0x327)])+_0x1d8029(0xbaf)+_0x1e9afa+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38d0c3[_0x1d8029(0x78a)][_0x1d8029(0x929)]((_0x253a7e,_0x3b58b3)=>_0x1d8029(0x528)+_0x1e9afa+',\x20'+_0x3b58b3+_0x1d8029(0x76c)+String[_0x1d8029(0x7e3)](0x61+_0x3b58b3)+'.\x20'+marked[_0x1d8029(0x8cb)](_0x253a7e)+_0x1d8029(0x572))[_0x1d8029(0xb2d)]('')+_0x1d8029(0x14c))[_0x1d8029(0xb2d)](''),window[_0x1d8029(0x1b4)]&&MathJax[_0x1d8029(0xc2c)]([_0x275e09]),_0x21cd56&&(_0x21cd56[_0x1d8029(0x827)][_0x1d8029(0x417)]=_0x1d8029(0x3c2)),_0x160060['classList'][_0x1d8029(0xa54)](_0x1d8029(0x8e4)),_0x6ef2dc[_0x1d8029(0xcbe)][_0x1d8029(0xa49)](_0x1d8029(0x8e4));}catch(_0x3e3a11){console['error'](_0x3e3a11);throw _0x3e3a11;}}async function callGemini(_0x159ccd,_0x425049=![]){const _0xa04478=_0x15d57d,_0x34fbc6='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x586d33='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x34fbc6,_0x5b3288={'contents':[{'parts':[{'text':_0x159ccd}]}]};_0x425049&&(_0x5b3288[_0xa04478(0x5ee)]={'responseMimeType':_0xa04478(0x507)},_0x159ccd[_0xa04478(0x436)]('Test\x20Blueprint')?_0x5b3288[_0xa04478(0x5ee)][_0xa04478(0xc32)]={'type':_0xa04478(0x5e7),'properties':{'gradeLevel':{'type':_0xa04478(0x239)},'curriculum':{'type':_0xa04478(0x922),'items':{'type':_0xa04478(0x5e7),'properties':{'sara':{'type':_0xa04478(0x239)},'mainTopics':{'type':'ARRAY','items':{'type':_0xa04478(0x5e7),'properties':{'topicName':{'type':_0xa04478(0x239)},'subTopics':{'type':_0xa04478(0x922),'items':{'type':_0xa04478(0x239)}}},'required':[_0xa04478(0x16d),'subTopics']}}},'required':['sara',_0xa04478(0xb61)]}}},'required':['gradeLevel','curriculum']}:_0x5b3288[_0xa04478(0x5ee)][_0xa04478(0xc32)]={'type':'ARRAY','items':{'type':_0xa04478(0x5e7),'properties':{'question':{'type':_0xa04478(0x239)},'options':{'type':'ARRAY','items':{'type':_0xa04478(0x239)}},'answer':{'type':'NUMBER'}},'required':[_0xa04478(0x327),_0xa04478(0x78a),'answer']}});try{const _0x3769f0=await fetch(_0x586d33,{'method':_0xa04478(0xa31),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x5b3288)});if(!_0x3769f0['ok']){const _0x27eacd=await _0x3769f0[_0xa04478(0xcde)]();console[_0xa04478(0x1c0)]('API\x20Error\x20Body:',_0x27eacd);throw new Error(_0xa04478(0x1b7)+_0x3769f0[_0xa04478(0xc6c)]);}const _0x543004=await _0x3769f0[_0xa04478(0x303)]();if(_0x543004[_0xa04478(0x7c7)]&&_0x543004['candidates'][0x0][_0xa04478(0xa30)]&&_0x543004['candidates'][0x0][_0xa04478(0xa30)][_0xa04478(0x447)][0x0])return _0x543004['candidates'][0x0]['content'][_0xa04478(0x447)][0x0][_0xa04478(0xcde)];else{console['error'](_0xa04478(0x41b),_0x543004);if(_0x543004[_0xa04478(0x7c7)]&&_0x543004[_0xa04478(0x7c7)][0x0][_0xa04478(0xa70)]===_0xa04478(0x220))return JSON['stringify']({'error':'เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย'});throw new Error(_0xa04478(0x8c0));}}catch(_0x4d968d){console[_0xa04478(0x1c0)]('Error\x20calling\x20Gemini\x20API:',_0x4d968d);throw _0x4d968d;}}async function generateLesson(_0x11857c=null,_0x200d9b=null){const _0x30506a=_0x15d57d,_0x5a1164=_0x11857c,_0x3fb219=_0x200d9b||'ไม่ระบุ',_0x410773=document[_0x30506a(0x9c3)](_0x30506a(0xa81)),_0x22d187=document[_0x30506a(0x9c3)](_0x30506a(0xbb9));_0x22d187[_0x30506a(0xafb)]=_0x30506a(0x7f0)+_0x5a1164+'\x22...';try{let _0x4d4461=[];const _0x485b72=document['getElementById'](_0x30506a(0x538))?.[_0x30506a(0x3bb)]['trim']();if(_0x485b72)try{_0x22d187[_0x30506a(0xafb)]=_0x30506a(0xc0a);const _0x154326=await fetchFileFromUrl(_0x485b72,_0x30506a(0x442)),_0x5a28cd=await new Promise((_0x21d7a5,_0x36c210)=>{const _0x5c6370=_0x30506a,_0x55fcd8=new FileReader();_0x55fcd8[_0x5c6370(0x3dd)](_0x154326),_0x55fcd8[_0x5c6370(0x696)]=()=>_0x21d7a5(_0x55fcd8[_0x5c6370(0x719)][_0x5c6370(0x260)](',')[0x1]),_0x55fcd8[_0x5c6370(0x1d8)]=_0x36c210;});_0x4d4461[_0x30506a(0xa6d)]({'inlineData':{'mimeType':_0x154326['type'],'data':_0x5a28cd}});}catch(_0x2bfdab){console[_0x30506a(0x1c0)](_0x30506a(0x55b),_0x2bfdab),showMessage(_0x30506a(0x45d));}const _0x8929f1=_0x30506a(0x140)+_0x5a1164+_0x30506a(0xcef)+_0x5a1164+_0x30506a(0x487);_0x22d187[_0x30506a(0xafb)]=_0x30506a(0x7f0)+_0x5a1164+'\x22...';const _0x222442='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x3fb219+_0x30506a(0x977)+_0x5a1164+_0x30506a(0xaf8)+_0x8929f1+_0x30506a(0x545),_0x25b342=_0x30506a(0xc75)+_0x5a1164+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x3fb219+_0x30506a(0xa3f)+_0x8929f1+_0x30506a(0x4bf),_0x237fe=_0x30506a(0xa51)+_0x3fb219+_0x30506a(0x977)+_0x5a1164+_0x30506a(0x541)+_0x8929f1+_0x30506a(0x821),_0x50dd49='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x5a1164+_0x30506a(0x569)+_0x3fb219+_0x30506a(0xbcb)+_0x8929f1+_0x30506a(0x930),_0x2a0622={'type':_0x30506a(0x922),'items':{'type':_0x30506a(0x5e7),'properties':{'question':{'type':_0x30506a(0x239)},'options':{'type':'ARRAY','items':{'type':_0x30506a(0x239)}},'answer':{'type':_0x30506a(0x7a3)}},'required':[_0x30506a(0x327),_0x30506a(0x78a),_0x30506a(0xb80)]}},[_0x47bb25,_0x4a233f,_0x1ac05e,_0x5945ae]=await Promise[_0x30506a(0xbfe)]([handleApiCall([{'text':_0x222442},..._0x4d4461],_0x30506a(0xc38),null,null,![]),handleApiCall([{'text':_0x25b342},..._0x4d4461],'...',null,null,![]),handleApiCall([{'text':_0x237fe},..._0x4d4461],_0x30506a(0xc38),_0x2a0622,null,![]),handleApiCall([{'text':_0x50dd49},..._0x4d4461],_0x30506a(0xc38),null,null,![])]),_0x564579=JSON['stringify'](_0x1ac05e||[]),_0x4168ac=document['getElementById'](_0x30506a(0x941)),_0x57e5b5=document[_0x30506a(0x9c3)](_0x30506a(0x80a));_0x4168ac[_0x30506a(0x263)]=_0x30506a(0x4a5)+_0x5a1164[_0x30506a(0x3d0)](/•\\s/g,'')+_0x30506a(0x67a)+_0x3fb219+')',[_0x30506a(0x6c9),_0x30506a(0xaf2),_0x30506a(0x983)][_0x30506a(0x326)](_0x2c0736=>{const _0x433d6e=_0x30506a;document[_0x433d6e(0x9c3)](_0x2c0736)[_0x433d6e(0x632)]='';}),document[_0x30506a(0x9c3)]('pointContent')[_0x30506a(0x632)]=_0x47bb25?marked[_0x30506a(0xacd)](_0x47bb25):_0x30506a(0x19b),document[_0x30506a(0x9c3)](_0x30506a(0xaf2))[_0x30506a(0x632)]=_0x4a233f?marked[_0x30506a(0xacd)](_0x4a233f):_0x30506a(0x19b),document[_0x30506a(0x9c3)](_0x30506a(0x983))[_0x30506a(0x632)]=_0x5945ae?marked[_0x30506a(0xacd)](_0x5945ae):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON['parse'](_0x564579);const _0x183fa9=document[_0x30506a(0x9c3)]('applicationContent');_0x183fa9[_0x30506a(0x632)]=(currentApplicationData||[])['map']((_0x1e9ea3,_0x242a1e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x242a1e+0x1)+'.\x20'+marked[_0x30506a(0x8cb)](_0x1e9ea3[_0x30506a(0x327)]||'')+_0x30506a(0xbaf)+_0x242a1e+_0x30506a(0x291)+(_0x1e9ea3[_0x30506a(0x78a)]||[])[_0x30506a(0x929)]((_0x275ef1,_0x31c85d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x242a1e+',\x20'+_0x31c85d+_0x30506a(0x76c)+String[_0x30506a(0x7e3)](0x61+_0x31c85d)+'.\x20'+marked[_0x30506a(0x8cb)](_0x275ef1||'')+_0x30506a(0x572))[_0x30506a(0xb2d)]('')+_0x30506a(0x14c))[_0x30506a(0xb2d)]('')||_0x30506a(0xcf9),window[_0x30506a(0x1b4)]&&MathJax[_0x30506a(0xc2c)]([_0x57e5b5]),_0x410773['classList'][_0x30506a(0xa54)]('hidden'),_0x57e5b5[_0x30506a(0xcbe)][_0x30506a(0xa49)](_0x30506a(0x8e4));}catch(_0x2bac2b){console[_0x30506a(0x1c0)](_0x2bac2b);throw _0x2bac2b;}}function checkAnswer(_0x45e433,_0x59976b){const _0x400649=_0x15d57d,_0x33ff21=currentApplicationData[_0x45e433],_0x471154=document['getElementById']('q'+_0x45e433+_0x400649(0x87f)),_0x5b5f45=_0x471154[_0x400649(0x998)](_0x400649(0x882));for(let _0xc7322e of _0x5b5f45){_0xc7322e['disabled']=!![];}_0x59976b===_0x33ff21[_0x400649(0xb80)]?_0x5b5f45[_0x59976b]['classList'][_0x400649(0xa54)](_0x400649(0x40d)):(_0x5b5f45[_0x59976b]['classList']['add'](_0x400649(0x736)),_0x5b5f45[_0x33ff21['answer']][_0x400649(0xcbe)][_0x400649(0xa54)](_0x400649(0x40d)));}window[_0x15d57d(0x454)]=handleGenerateAndShowLesson,window[_0x15d57d(0x2a0)]=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window[_0x15d57d(0xb8c)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x55ab5b=_0x15d57d;try{const _0x3e9ae6=initializeApp(firebaseConfig);db=getFirestore(_0x3e9ae6),auth=getAuth(_0x3e9ae6),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x30ad8b){console[_0x55ab5b(0x1c0)](_0x55ab5b(0x29d),_0x30ad8b),showMessage(_0x55ab5b(0xc3a));}}async function handleVerifyAnswersInEditor(){const _0x419e1e=_0x15d57d,_0x45003e=document['getElementById'](_0x419e1e(0xac9));if(!_0x45003e)return;const _0x5a0a58=document['getElementById'](_0x419e1e(0xbb8));_0x5a0a58[_0x419e1e(0x704)]=!![],_0x5a0a58[_0x419e1e(0x632)]=_0x419e1e(0x96d);try{const _0x1fb1fe=_0x45003e[_0x419e1e(0xc76)](_0x419e1e(0xc7c)),_0x92bc8b=Array['from'](_0x1fb1fe)[_0x419e1e(0x929)]((_0x5b933a,_0x2c6b06)=>{const _0x334af3=_0x419e1e,_0x254e19=_0x5b933a[_0x334af3(0x870)][_0x334af3(0x81e)],_0x1df1e8=_0x5b933a['querySelector'](_0x334af3(0xd15))[_0x334af3(0x3bb)];let _0x2987c1=null,_0x22615e='';switch(_0x254e19){case _0x334af3(0x3ee):const _0x49b2fa=_0x5b933a[_0x334af3(0xc76)](_0x334af3(0x25c));_0x2987c1=Array[_0x334af3(0x657)](_0x49b2fa)[_0x334af3(0x929)](_0x2c2d34=>_0x2c2d34[_0x334af3(0x3bb)]);const _0x5b675f=_0x5b933a['querySelector'](_0x334af3(0x57c));_0x5b675f&&(_0x22615e=_0x2987c1[parseInt(_0x5b675f[_0x334af3(0x3bb)])]);break;case _0x334af3(0x31e):_0x2987c1=[],_0x22615e=_0x5b933a[_0x334af3(0x8da)](_0x334af3(0x501))[_0x334af3(0x3bb)];break;case'true_false':_0x2987c1=[_0x334af3(0x596),_0x334af3(0x18d)];const _0x4f10c0=_0x5b933a[_0x334af3(0x8da)]('input[type=\x22radio\x22]:checked');_0x22615e=_0x4f10c0?_0x4f10c0['value']:'';break;case'matching_item':_0x2987c1=[],_0x22615e=_0x5b933a['querySelector'](_0x334af3(0x39d))[_0x334af3(0x3bb)];break;}return{'question':_0x1df1e8,'options':_0x2987c1,'proposedAnswer':_0x22615e};}),_0xa0392f=_0x419e1e(0xc79)+JSON[_0x419e1e(0x933)](_0x92bc8b)+_0x419e1e(0xb56),_0x480d9f={'type':_0x419e1e(0x922),'items':{'type':_0x419e1e(0x5e7),'properties':{'questionIndex':{'type':_0x419e1e(0x7a3)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x419e1e(0x239)},'correctOptionExists':{'type':_0x419e1e(0x63a)},'suggestedAnswer':{'type':_0x419e1e(0x239)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':'ARRAY','items':{'type':_0x419e1e(0x239)}},'newCorrectIndex':{'type':'NUMBER'}}}},'required':[_0x419e1e(0x9a5),_0x419e1e(0xc0f),'justification']}},_0x597789=await callAnalysisApi(_0xa0392f,{'type':_0x419e1e(0x5e7),'properties':{'result':_0x480d9f},'required':[_0x419e1e(0x719)]});displayVerificationResultsInEditor(_0x597789['result']);}catch(_0x423a6d){console[_0x419e1e(0x1c0)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x423a6d),showMessage(_0x419e1e(0x89d));}finally{_0x5a0a58[_0x419e1e(0x704)]=![],_0x5a0a58[_0x419e1e(0x632)]=_0x419e1e(0x88e);}}function displayVerificationResultsInEditor(_0x4a4fb9){const _0x46e472=_0x15d57d;_0x4a4fb9[_0x46e472(0x326)](_0x3c2888=>{const _0x5596cc=_0x46e472,_0x41ac6e=document[_0x5596cc(0x8da)](_0x5596cc(0xad7)+_0x3c2888['questionIndex']+'\x22]');if(!_0x41ac6e)return;const _0x3c1a38=_0x41ac6e[_0x5596cc(0x8da)](_0x5596cc(0x315));if(_0x3c1a38)_0x3c1a38['remove']();let _0x4c19fc='';if(_0x3c2888[_0x5596cc(0xb6b)]&&_0x3c2888[_0x5596cc(0xb6b)][_0x5596cc(0xcda)]){const _0x2c4500=_0x3c2888[_0x5596cc(0xb6b)][_0x5596cc(0xcda)],_0x3e91cc=_0x3c2888[_0x5596cc(0xb6b)][_0x5596cc(0x637)],_0x573722=_0x41ac6e[_0x5596cc(0x870)]['qType'];if(_0x573722===_0x5596cc(0x3ee)){const _0xe4676a=_0x41ac6e[_0x5596cc(0xc76)](_0x5596cc(0x25c));_0xe4676a['forEach']((_0x337ebb,_0x1857c0)=>{const _0x280b28=_0x5596cc;_0x2c4500[_0x1857c0]?_0x337ebb[_0x280b28(0x3bb)]=_0x2c4500[_0x1857c0]:_0x337ebb[_0x280b28(0x3bb)]=_0x280b28(0xc93);});const _0x58ad35=_0x41ac6e['querySelector'](_0x5596cc(0x5f9)+_0x3e91cc+'\x22]');_0x58ad35&&(_0x58ad35[_0x5596cc(0x57b)]=!![]),_0x4c19fc=_0x5596cc(0x43a),_0x41ac6e[_0x5596cc(0xcbe)]['add']('bg-yellow-200',_0x5596cc(0xbc6),_0x5596cc(0x71c)),setTimeout(()=>{const _0x1baefd=_0x5596cc;_0x41ac6e[_0x1baefd(0xcbe)][_0x1baefd(0xa49)](_0x1baefd(0x563));},0x9c4);}}else{if(!_0x3c2888[_0x5596cc(0xc0f)]&&_0x3c2888[_0x5596cc(0xa50)]){const _0x5117ae=_0x3c2888[_0x5596cc(0xa50)]?_0x5596cc(0x2b9):'';_0x4c19fc=_0x5596cc(0x201)+_0x5117ae+_0x5596cc(0x2d2)+_0x3c2888['justification']+_0x5596cc(0x54f)+(_0x3c2888[_0x5596cc(0xa50)]?_0x5596cc(0x3d2)+_0x3c2888['suggestedAnswer']+'</p>':'')+_0x5596cc(0x6e0);const _0x27c092=_0x41ac6e[_0x5596cc(0x870)]['qType'],_0x570347=_0x272492=>{const _0x11bd87=_0x5596cc;if(!_0x272492)return;_0x272492['classList'][_0x11bd87(0xa54)](_0x11bd87(0x55e),_0x11bd87(0xbc6),_0x11bd87(0x71c)),setTimeout(()=>{_0x272492['classList']['remove']('bg-green-200');},0x9c4);};if(_0x27c092===_0x5596cc(0x3ee)){const _0x252652=Array[_0x5596cc(0x657)](_0x41ac6e[_0x5596cc(0xc76)](_0x5596cc(0x25c))),_0x2ceee3=_0x252652['findIndex'](_0x5ed915=>_0x5ed915[_0x5596cc(0x3bb)][_0x5596cc(0xa93)]()[_0x5596cc(0x630)]()===_0x3c2888[_0x5596cc(0xa50)][_0x5596cc(0xa93)]()['toLowerCase']());if(_0x2ceee3!==-0x1){const _0x174cf6=_0x41ac6e[_0x5596cc(0x8da)](_0x5596cc(0x5f9)+_0x2ceee3+'\x22]');_0x174cf6&&(_0x174cf6[_0x5596cc(0x57b)]=!![],_0x570347(_0x174cf6[_0x5596cc(0x2fb)]('div')));}}else{if(_0x27c092===_0x5596cc(0x31e)||_0x27c092==='matching_item'){const _0x3c392=_0x41ac6e[_0x5596cc(0x8da)](_0x5596cc(0x579));_0x3c392&&(_0x3c392['value']=_0x3c2888[_0x5596cc(0xa50)],_0x570347(_0x3c392));}else{if(_0x27c092===_0x5596cc(0x160)){const _0x201557=_0x3c2888[_0x5596cc(0xa50)]['trim']()[_0x5596cc(0x630)](),_0x467577=_0x41ac6e[_0x5596cc(0x8da)](_0x5596cc(0x5f9)+_0x201557+'\x22]');_0x467577&&(_0x467577[_0x5596cc(0x57b)]=!![],_0x570347(_0x467577['closest']('div')));}}}}else _0x3c2888[_0x5596cc(0xc0f)]&&(_0x4c19fc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x41ac6e[_0x5596cc(0x478)](_0x5596cc(0xaf4),_0x4c19fc);}),showMessage(_0x46e472(0x83f));}async function handleVerifyAnswers(){const _0x2b8f59=_0x15d57d;if(!currentQuizData||!currentQuizData[_0x2b8f59(0xca5)]){showMessage(_0x2b8f59(0x735));return;}const _0x2507dc=document[_0x2b8f59(0x9c3)](_0x2b8f59(0x4d3));_0x2507dc[_0x2b8f59(0x704)]=!![],_0x2507dc[_0x2b8f59(0x632)]=_0x2b8f59(0x96d);try{const _0xebcf01=currentQuizData['questions'][_0x2b8f59(0x929)]((_0x2b8626,_0x1b08f1)=>{const _0xf6d6fc=_0x2b8f59;let _0x209477='';const _0x1f0c11=_0x2b8626[_0xf6d6fc(0xc6a)]||currentQuizData[_0xf6d6fc(0x434)];switch(_0x1f0c11){case _0xf6d6fc(0x3ee):_0x209477=_0x2b8626['options'][_0x2b8626[_0xf6d6fc(0xa02)]];break;case'short_answer':_0x209477=_0x2b8626['idealAnswer'];break;case _0xf6d6fc(0x160):_0x209477=_0x2b8626[_0xf6d6fc(0xa79)]['toString']();break;case'matching_item':_0x209477=_0x2b8626[_0xf6d6fc(0xbfc)];break;}return{'question':_0x2b8626[_0xf6d6fc(0x176)]||_0x2b8626[_0xf6d6fc(0xb0e)],'options':_0x2b8626['options']||null,'proposedAnswer':_0x209477};}),_0x953986=_0x2b8f59(0x479)+JSON['stringify'](_0xebcf01)+_0x2b8f59(0xc41),_0x304455={'type':_0x2b8f59(0x922),'items':{'type':_0x2b8f59(0x5e7),'properties':{'questionIndex':{'type':_0x2b8f59(0x7a3)},'isCorrect':{'type':_0x2b8f59(0x63a)},'justification':{'type':_0x2b8f59(0x239)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x2b8f59(0x9a5),_0x2b8f59(0xc0f),_0x2b8f59(0xcc6)]}},_0x339130=await callAnalysisApi(_0x953986,{'type':_0x2b8f59(0x5e7),'properties':{'result':_0x304455},'required':[_0x2b8f59(0x719)]});displayVerificationResults(_0x339130[_0x2b8f59(0x719)]);}catch(_0x313208){console[_0x2b8f59(0x1c0)](_0x2b8f59(0x4f8),_0x313208),showMessage(_0x2b8f59(0x89d));}finally{_0x2507dc['disabled']=![],_0x2507dc['innerHTML']=_0x2b8f59(0x9ef);}}function displayVerificationResults(_0x106f62){const _0x44c5cd=_0x15d57d;_0x106f62[_0x44c5cd(0x326)](_0x6af30e=>{const _0x4a5e9f=_0x44c5cd,_0x8a7dae=document['querySelector'](_0x4a5e9f(0x157)+_0x6af30e['questionIndex']+'\x22]');if(_0x8a7dae){const _0x3958e7=_0x8a7dae[_0x4a5e9f(0x8da)]('.verification-result');if(_0x3958e7)_0x3958e7[_0x4a5e9f(0xa49)]();let _0xa02347='';_0x6af30e[_0x4a5e9f(0xc0f)]?_0xa02347=_0x4a5e9f(0x9e0):_0xa02347=_0x4a5e9f(0xd27)+_0x6af30e[_0x4a5e9f(0xcc6)]+_0x4a5e9f(0x194)+(_0x6af30e[_0x4a5e9f(0xa50)]?_0x4a5e9f(0x3d2)+_0x6af30e['suggestedAnswer']+_0x4a5e9f(0x708):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x8a7dae[_0x4a5e9f(0x478)](_0x4a5e9f(0xaf4),_0xa02347);}}),showMessage(_0x44c5cd(0x83f));}function compareNumericalAnswers(_0xbf085f,_0x491340){const _0x571528=_0x15d57d,_0x1f30c5=String(_0xbf085f)[_0x571528(0x3d0)](',','.')[_0x571528(0x3d0)](/[^\d.-]/g,'')[_0x571528(0xa93)](),_0x44660e=String(_0x491340)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x571528(0xa93)]();if(_0x1f30c5===''||_0x44660e==='')return![];const _0x278ca0=parseFloat(_0x1f30c5),_0x5674cb=parseFloat(_0x44660e);if(isNaN(_0x278ca0)||isNaN(_0x5674cb))return![];return Math['abs'](_0x278ca0-_0x5674cb)<0.001;}function isPotentiallyNumeric(_0x3c87a6){const _0x19b300=_0x15d57d;if(typeof _0x3c87a6!=='string'&&typeof _0x3c87a6!==_0x19b300(0x642))return![];const _0xa4595e=String(_0x3c87a6)['replace'](',','.')[_0x19b300(0xa93)]();return _0xa4595e!==''&&!isNaN(parseFloat(_0xa4595e))&&isFinite(_0xa4595e);}async function gradeShortAnswer(_0x3b857f,_0x122466){const _0x15f7a1=_0x15d57d,_0x157aee=_0x122466['idealAnswer'],_0x26f21a=String(_0x3b857f)[_0x15f7a1(0x3d0)](/\$/g,'')[_0x15f7a1(0xa93)](),_0x3ce584=String(_0x157aee)[_0x15f7a1(0x3d0)](/\$/g,'')[_0x15f7a1(0xa93)]();if(_0x26f21a['toLowerCase']()===_0x3ce584[_0x15f7a1(0x630)]())return!![];if(isPotentiallyNumeric(_0x26f21a)&&isPotentiallyNumeric(_0x3ce584)){if(compareNumericalAnswers(_0x26f21a,_0x3ce584))return!![];}return console[_0x15f7a1(0xb0b)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x3b857f,_0x157aee);}async function revealAnswerForAdmin(_0x414c42,_0x2dfa01){const _0x5710e8=_0x15d57d,_0x3d4fcc=doc(db,_0x5710e8(0xc02)+appId+_0x5710e8(0x41f),currentLiveGameId);await updateDoc(_0x3d4fcc,{'questionStatus':_0x5710e8(0x830)});}function showTop5LeaderboardView(_0x468d0e){const _0x27c118=_0x15d57d,_0x2cdc11=Object[_0x27c118(0x234)](_0x468d0e['players']||{})[_0x27c118(0x23a)](_0x1e23f2=>_0x1e23f2[_0x27c118(0xc6c)]===_0x27c118(0x471));_0x2cdc11[_0x27c118(0x65c)]((_0x43abad,_0x5e3572)=>_0x5e3572[_0x27c118(0xaec)]-_0x43abad[_0x27c118(0xaec)]);const _0x5954bb=_0x2cdc11[_0x27c118(0x411)](0x0,0x5),_0x5ac13c=_0x27c118(0x3fe)+_0x5954bb[_0x27c118(0x929)]((_0x3d8870,_0x4f2b52)=>_0x27c118(0x3ca)+(_0x4f2b52+0x1)+'.\x20'+(_0x3d8870[_0x27c118(0x5e1)]||Object[_0x27c118(0x906)](_0x468d0e[_0x27c118(0x54b)])['find'](_0x4c738a=>_0x468d0e[_0x27c118(0x54b)][_0x4c738a]===_0x3d8870))+_0x27c118(0x4ae)+_0x3d8870['score']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x27c118(0xb2d)]('')+_0x27c118(0xc88)+(_0x468d0e[_0x27c118(0x819)]+0x1===currentQuizData[_0x27c118(0xca5)][_0x27c118(0x768)]?_0x27c118(0x1e5):_0x27c118(0x2aa))+_0x27c118(0x966);liveGameView[_0x27c118(0x632)]=_0x5ac13c,document[_0x27c118(0x9c3)](_0x27c118(0x4f9))[_0x27c118(0x762)](_0x27c118(0xba1),async()=>{const _0x2edf2a=_0x27c118,_0x5211df=doc(db,'artifacts/'+appId+_0x2edf2a(0x41f),currentLiveGameId),_0x2d10a3=_0x468d0e[_0x2edf2a(0x819)]+0x1;if(_0x2d10a3<currentQuizData[_0x2edf2a(0xca5)][_0x2edf2a(0x768)]){const _0x58f610={'currentQuestionIndex':_0x2d10a3,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x2edf2a(0x906)](_0x468d0e['players'])[_0x2edf2a(0x326)](_0x2cdf27=>{const _0x51a342=_0x2edf2a;_0x58f610[_0x51a342(0x52e)+_0x2cdf27+_0x51a342(0x658)]=![];}),await updateDoc(_0x5211df,_0x58f610);}else await updateDoc(_0x5211df,{'status':_0x2edf2a(0xb35)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x118f2f=>{const _0x527141=_0x344c;if(_0x118f2f){userId=_0x118f2f['uid'],userIdDisplay['textContent']=userId;const _0x4d66cd=await loadUserPreferences();_0x4d66cd['projectSortOrder']&&(document[_0x527141(0x9c3)](_0x527141(0x77e))[_0x527141(0x3bb)]=_0x4d66cd[_0x527141(0x874)]);globalDashboardSettings['projectView']=_0x4d66cd['projectView']||_0x527141(0xb18);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x377a23,_0x267f4f){const _0x357dd5=_0x15d57d;if(!userId)return;try{const _0xe9c3a2=doc(db,_0x357dd5(0xc02)+appId+_0x357dd5(0xbb4)+userId+_0x357dd5(0xab8)),_0x34d2e6={};_0x34d2e6[_0x377a23]=_0x267f4f,await setDoc(_0xe9c3a2,_0x34d2e6,{'merge':!![]});}catch(_0x347b9a){console[_0x357dd5(0x1c0)](_0x357dd5(0x289),_0x347b9a);}}async function loadUserPreferences(){const _0x578e99=_0x15d57d;if(!userId)return{};try{const _0x49db6d=doc(db,'artifacts/'+appId+_0x578e99(0xbb4)+userId+_0x578e99(0xab8)),_0x379928=await getDoc(_0x49db6d);if(_0x379928[_0x578e99(0x6b5)]())return _0x379928[_0x578e99(0xc5f)]();return{};}catch(_0x430395){return console['error']('Error\x20loading\x20user\x20preferences:',_0x430395),{};}}function parseIndentedBlueprint(_0x1a926c){const _0x4d1bdf=_0x15d57d,_0x5363b1=_0x1a926c['split']('\x0a')[_0x4d1bdf(0x23a)](_0x312cc5=>_0x312cc5[_0x4d1bdf(0xa93)]()!==''),_0x13e7d4=[];let _0x6d06ef=null,_0x2f343e=null;return _0x5363b1[_0x4d1bdf(0x326)](_0x44c557=>{const _0x404773=_0x4d1bdf,_0x292634=_0x44c557[_0x404773(0x972)](/^\s*/)[0x0][_0x404773(0x768)],_0x396a71=_0x44c557[_0x404773(0xa93)]();if(_0x292634===0x0)_0x6d06ef={'sara':_0x396a71,'mainTopics':[]},_0x13e7d4[_0x404773(0xa6d)](_0x6d06ef),_0x2f343e=null;else{if(_0x292634>0x0&&_0x292634<0x8&&_0x6d06ef)_0x2f343e={'topicName':_0x396a71,'subTopics':[]},_0x6d06ef[_0x404773(0xb61)][_0x404773(0xa6d)](_0x2f343e);else _0x292634>=0x8&&_0x2f343e&&_0x2f343e[_0x404773(0x973)][_0x404773(0xa6d)](_0x396a71);}}),{'curriculum':_0x13e7d4};}async function handleManualBlueprintSave(){const _0x3759d0=_0x15d57d,_0x42bb94=document[_0x3759d0(0x9c3)](_0x3759d0(0x2b6))[_0x3759d0(0x3bb)][_0x3759d0(0xa93)](),_0x2319c2=document[_0x3759d0(0x9c3)](_0x3759d0(0x1fd))[_0x3759d0(0x3bb)][_0x3759d0(0xa93)](),_0x2d1470=document[_0x3759d0(0x9c3)](_0x3759d0(0x702))[_0x3759d0(0x3bb)];if(!_0x42bb94||!_0x2319c2||!_0x2d1470){showMessage(_0x3759d0(0x705));return;}const _0x445b4f=parseIndentedBlueprint(_0x2d1470);if(!_0x445b4f['curriculum']||_0x445b4f[_0x3759d0(0xaac)][_0x3759d0(0x768)]===0x0){showMessage(_0x3759d0(0xaa8));return;}const _0x2ac990={};let _0x153078=0x0;_0x445b4f[_0x3759d0(0xaac)][_0x3759d0(0x326)](_0x4d12a9=>{const _0x371bf7=_0x3759d0;_0x4d12a9['mainTopics'][_0x371bf7(0x326)](_0x24f1bb=>{const _0x5514a4=_0x371bf7;_0x24f1bb['subTopics'][_0x5514a4(0x326)](_0x5d880e=>{const _0x18e940=_0x5514a4,_0x45d7ba=_0x18e940(0x550)+Date['now']()+Math['random']()[_0x18e940(0x771)](0x24)['substr'](0x2,0x9);_0x2ac990[_0x45d7ba]={'sara':_0x4d12a9[_0x18e940(0x2d9)],'mainTopic':_0x24f1bb[_0x18e940(0x16d)],'subTopic':_0x5d880e,'status':_0x18e940(0x5d3),'lessonContent':null,'order':_0x153078++};});});});try{const _0x208b34=collection(db,_0x3759d0(0xc02)+appId+_0x3759d0(0x2ed));await addDoc(_0x208b34,{'projectName':_0x42bb94,'gradeLevel':_0x2319c2,'topics':_0x2ac990,'createdAt':serverTimestamp()}),showMessage(_0x3759d0(0x7b0)+_0x42bb94+_0x3759d0(0xa3e)),document[_0x3759d0(0x9c3)]('manual-blueprint-modal')[_0x3759d0(0xcbe)][_0x3759d0(0xa54)](_0x3759d0(0x8e4));}catch(_0xcdcd97){console[_0x3759d0(0x1c0)](_0x3759d0(0xa91),_0xcdcd97),showMessage(_0x3759d0(0x2ab));}}function handleClearAllLinksForTopic(_0x1fada0){const _0x49f054=_0x15d57d;showConfirmation(_0x49f054(0x1ae),async()=>{const _0x2cae7e=_0x49f054;try{const _0x6cbe61=doc(db,_0x2cae7e(0xc02)+appId+_0x2cae7e(0x2ed),currentBlueprintProjectId);await updateDoc(_0x6cbe61,{[_0x2cae7e(0x5fb)+_0x1fada0+'.linkedQuizIds']:[]}),showMessage(_0x2cae7e(0x2ee)),openTopicQuizBank(_0x1fada0),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xeecc41){console[_0x2cae7e(0x1c0)](_0x2cae7e(0x1fa),_0xeecc41),showMessage(_0x2cae7e(0x9aa));}});}function showPodiumView(_0x12ee56,_0x152b33=_0x15d57d(0x7ee)){const _0x4353af=_0x15d57d,_0x31e843=Object[_0x4353af(0xa43)](_0x12ee56)['map'](([_0x42532f,_0x266642])=>({'name':_0x42532f,'score':_0x266642['score']||0x0,'badges':_0x266642[_0x4353af(0x678)]||[],'hasPerfectScoreBonus':_0x266642['hasPerfectScoreBonus']||![]}));_0x31e843[_0x4353af(0x65c)]((_0x234ffb,_0x1b8e3d)=>{const _0x5d9d3a=_0x4353af,_0x462c30=_0x1b8e3d['score']-_0x234ffb['score'];if(_0x462c30!==0x0)return _0x462c30;return(_0x1b8e3d[_0x5d9d3a(0x678)][_0x5d9d3a(0x768)]||0x0)-(_0x234ffb[_0x5d9d3a(0x678)][_0x5d9d3a(0x768)]||0x0);});const _0x4f73a4=_0x224f77=>{const _0x126965=_0x4353af;if(!_0x224f77||_0x224f77[_0x126965(0x768)]===0x0)return'';const _0x1fbbc7={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x224f77[_0x126965(0x929)](_0x139ad9=>_0x1fbbc7[_0x139ad9]||'')['join']('')+_0x126965(0x175);},_0x44e8b0=_0x31e843[_0x4353af(0x411)](0x3),_0x4d28d9=_0x44e8b0[_0x4353af(0x768)]>0x0?_0x4353af(0x619)+_0x44e8b0['map']((_0x4a224b,_0x11a8ff)=>{const _0x3de396=_0x4353af,_0x116ee6=_0x4a224b[_0x3de396(0x86b)]?_0x3de396(0x9f2):'';return _0x3de396(0x76e)+(_0x11a8ff+0x4)+_0x3de396(0x40f)+_0x4a224b[_0x3de396(0x5e1)]+_0x3de396(0x342)+_0x4a224b[_0x3de396(0xaec)]+_0x3de396(0x3cb)+_0x116ee6+_0x3de396(0x6a0);})[_0x4353af(0xb2d)]('')+_0x4353af(0x35a):'',_0x31d7a8=_0x4353af(0x266)+(_0x31e843[0x1]?_0x4353af(0x9f5)+_0x31e843[0x1]['name']+_0x4353af(0x708)+_0x4f73a4(_0x31e843[0x1][_0x4353af(0x678)])+_0x4353af(0xcf7)+_0x31e843[0x1][_0x4353af(0xaec)]+_0x4353af(0x3cb)+(_0x31e843[0x1]['hasPerfectScoreBonus']?_0x4353af(0xd3b):'')+_0x4353af(0xc9f):'<div\x20class=\x22flex-1\x22></div>')+_0x4353af(0xb56)+(_0x31e843[0x0]?_0x4353af(0x867)+_0x31e843[0x0][_0x4353af(0x5e1)]+_0x4353af(0x708)+_0x4f73a4(_0x31e843[0x0][_0x4353af(0x678)])+_0x4353af(0x629)+_0x31e843[0x0][_0x4353af(0xaec)]+_0x4353af(0x3cb)+(_0x31e843[0x0][_0x4353af(0x86b)]?_0x4353af(0xd3b):'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':'<div\x20class=\x22flex-1\x22></div>')+_0x4353af(0xb56)+(_0x31e843[0x2]?_0x4353af(0xa35)+_0x31e843[0x2][_0x4353af(0x5e1)]+_0x4353af(0x708)+_0x4f73a4(_0x31e843[0x2][_0x4353af(0x678)])+'<p\x20class=\x22text-xl\x22>'+_0x31e843[0x2][_0x4353af(0xaec)]+_0x4353af(0x3cb)+(_0x31e843[0x2][_0x4353af(0x86b)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x4353af(0x81a):_0x4353af(0xc8b))+_0x4353af(0x1eb)+_0x4d28d9+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin'?_0x4353af(0xad2):_0x4353af(0x72a))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x4353af(0x632)]=_0x31d7a8,currentMode===_0x4353af(0x5eb)&&document[_0x4353af(0x9c3)](_0x4353af(0x222))[_0x4353af(0x762)](_0x4353af(0xba1),async()=>{const _0x154105=_0x4353af;let _0x39e6ed;_0x152b33===_0x154105(0x862)?_0x39e6ed=doc(db,'artifacts/'+appId+_0x154105(0x37d),currentLiveGameId):_0x39e6ed=doc(db,_0x154105(0xc02)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x39e6ed);});}function renderSyncSummaryView(_0x4b3a2e,_0x1e2fbe,_0x13923d){const _0x327c41=_0x15d57d,_0x4e7dda=_0x4b3a2e[_0x327c41(0x1ea)]||_0x327c41(0x685),_0x5c3e9e=_0x4e7dda===_0x327c41(0x328)&&_0x4b3a2e[_0x327c41(0x166)]===![],_0x215b97=Object[_0x327c41(0x234)](_0x4b3a2e[_0x327c41(0x54b)]||{}),_0x594edc=_0x4b3a2e[_0x327c41(0x4b5)][_0x327c41(0xca5)],_0x2684bb=_0x1e2fbe['questionType']||_0x4b3a2e['shuffledQuiz'][_0x327c41(0x434)];let _0x31face=[];_0x2684bb===_0x327c41(0x160)?_0x31face=[_0x327c41(0x8f1),'ไม่ใช่\x20/\x20ผิด']:_0x31face=_0x1e2fbe[_0x327c41(0x78a)]||[];const _0x4125b4=new Array(_0x31face[_0x327c41(0x768)])[_0x327c41(0x5c2)](0x0),_0x521700={};_0x31face[_0x327c41(0x326)]((_0x290a37,_0x356e4a)=>{_0x521700[_0x356e4a]=[];}),Object[_0x327c41(0xa43)](_0x4b3a2e['players']||{})['forEach'](([_0x5eb3c5,_0x245831])=>{const _0x582ae2=_0x327c41;if(_0x245831[_0x582ae2(0xc6c)]!=='inactive'&&_0x245831['lastAnswerIndex']!==undefined&&_0x245831['lastAnswerIndex']!==null){const _0xcf4fdf=_0x245831[_0x582ae2(0x37a)];if(_0x521700[_0xcf4fdf]!==undefined){const _0x2ca404=_0x5c3e9e?_0x4b3a2e[_0x582ae2(0x988)][_0x5eb3c5]||'???':_0x5eb3c5;_0x521700[_0xcf4fdf][_0x582ae2(0xa6d)](_0x2ca404),_0x4125b4[_0xcf4fdf]++;}}});let _0x28ae7e='';const _0x1d9c20=_0x4b3a2e[_0x327c41(0x819)]>=_0x594edc[_0x327c41(0x768)]-0x1;_0x13923d?_0x4e7dda===_0x327c41(0xae4)?_0x1d9c20?_0x28ae7e=_0x327c41(0x165):_0x28ae7e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>':_0x28ae7e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4e7dda===_0x327c41(0xae4)?_0x28ae7e=_0x327c41(0x29e):_0x28ae7e=_0x327c41(0x9c2);const _0x49ae5d=_0x327c41(0x408)+_0x1e2fbe[_0x327c41(0xb0e)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4125b4['map']((_0x483b7e,_0x52f6b8)=>{const _0x4ec65e=_0x327c41,_0x3b8b2e=_0x521700[_0x52f6b8][_0x4ec65e(0x768)]>0x0?_0x521700[_0x52f6b8][_0x4ec65e(0xb2d)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x45a863=_0x4ec65e(0x15c);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x483b7e+_0x4ec65e(0x240)+_0x45a863+_0x4ec65e(0xc19)+_0x52f6b8+_0x4ec65e(0x307)+_0x31face[_0x52f6b8]+_0x4ec65e(0x92d)+_0x52f6b8+_0x4ec65e(0xce9)+_0x3b8b2e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x327c41(0xb2d)]('')+_0x327c41(0xbb5)+_0x28ae7e+_0x327c41(0x64f);liveGameView[_0x327c41(0x632)]=_0x49ae5d;if(window[_0x327c41(0x1b4)])MathJax[_0x327c41(0xc2c)]();if(_0x13923d){const _0xd70423=doc(db,'artifacts/'+appId+_0x327c41(0x37d),currentLiveGameId);document[_0x327c41(0x9c3)](_0x327c41(0x526))?.[_0x327c41(0x762)](_0x327c41(0xba1),async()=>{const _0xe238ad=_0x327c41;await updateDoc(_0xd70423,{'status':_0xe238ad(0x76d)});}),document['getElementById'](_0x327c41(0x4e0))?.[_0x327c41(0x762)](_0x327c41(0xba1),()=>{openScratchpad(_0x1e2fbe,_0x31face);}),document[_0x327c41(0x9c3)](_0x327c41(0x515))?.['addEventListener']('click',async()=>{const _0xad64d0=_0x327c41,_0x12f74d=_0x4b3a2e[_0xad64d0(0x819)]+0x1,_0x592d73={};Object[_0xad64d0(0x906)](_0x4b3a2e['players'])['forEach'](_0x3d5bf7=>{const _0x30c746=_0xad64d0;_0x592d73[_0x30c746(0x52e)+_0x3d5bf7+_0x30c746(0x68d)]=![],_0x592d73['players.'+_0x3d5bf7+_0x30c746(0x8b2)]=null;}),await updateDoc(_0xd70423,{..._0x592d73,'status':_0xad64d0(0x327),'currentQuestionIndex':_0x12f74d,'questionDisplayedAt':serverTimestamp()});}),document[_0x327c41(0x9c3)](_0x327c41(0x530))?.[_0x327c41(0x762)](_0x327c41(0xba1),async()=>{await updateDoc(_0xd70423,{'status':'results','reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x2f457b){const _0x2baa2e=_0x15d57d,_0x48a9d0=_0x2f457b[_0x2baa2e(0x819)]>=_0x2f457b[_0x2baa2e(0x4b5)]['questions'][_0x2baa2e(0x768)]-0x1;let _0x44caf5='';if(_0x2f457b[_0x2baa2e(0x166)]===!![]){const _0x5803d0=_0x2f457b[_0x2baa2e(0x54b)][localTeamPlayers[0x0]],_0x31873f=_0x5803d0[_0x2baa2e(0x5e1)],_0x4c6971=_0x5803d0[_0x2baa2e(0xaec)];_0x44caf5=_0x2baa2e(0xb02)+_0x31873f+_0x2baa2e(0x787)+_0x4c6971+_0x2baa2e(0x628);}else _0x44caf5=_0x2baa2e(0x6aa)+(_0x48a9d0?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':_0x2baa2e(0x717))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x603865=_0x2baa2e(0xced)+_0x44caf5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2baa2e(0x632)]=_0x603865;}async function handleShowStudentRankings(){const _0xd9e345=_0x15d57d,_0x566eff=document[_0xd9e345(0x8da)](_0xd9e345(0x608));_0x566eff&&(_0x566eff[_0xd9e345(0x632)]=_0xd9e345(0xa42));const _0x68a445=document[_0xd9e345(0x8da)](_0xd9e345(0x223));_0x68a445&&(_0x68a445['innerHTML']=_0xd9e345(0x233));const _0x174840=document[_0xd9e345(0x9c3)](_0xd9e345(0x793));_0x174840[_0xd9e345(0xcbe)][_0xd9e345(0xa49)](_0xd9e345(0x8e4)),document['getElementById'](_0xd9e345(0x7fd))[_0xd9e345(0xd41)]=()=>_0x174840['classList'][_0xd9e345(0xa54)](_0xd9e345(0x8e4));const _0x5c7832=document[_0xd9e345(0x9c3)](_0xd9e345(0xc28)),_0x36b267=document[_0xd9e345(0x9c3)](_0xd9e345(0x358)),_0x25e325=document[_0xd9e345(0x9c3)]('student-quiz-leaderboard-content'),_0x31f00b=document[_0xd9e345(0x9c3)](_0xd9e345(0x6b6));_0x5c7832[_0xd9e345(0xd41)]=()=>{const _0x4b680b=_0xd9e345;_0x5c7832[_0x4b680b(0xcbe)][_0x4b680b(0xa54)]('active'),_0x36b267[_0x4b680b(0xcbe)][_0x4b680b(0xa49)](_0x4b680b(0x471)),_0x25e325[_0x4b680b(0xcbe)][_0x4b680b(0xa49)](_0x4b680b(0x8e4)),_0x31f00b[_0x4b680b(0xcbe)][_0x4b680b(0xa54)](_0x4b680b(0x8e4));},_0x36b267[_0xd9e345(0xd41)]=()=>{const _0x9d9f82=_0xd9e345;_0x36b267[_0x9d9f82(0xcbe)][_0x9d9f82(0xa54)](_0x9d9f82(0x471)),_0x5c7832[_0x9d9f82(0xcbe)]['remove'](_0x9d9f82(0x471)),_0x31f00b[_0x9d9f82(0xcbe)][_0x9d9f82(0xa49)](_0x9d9f82(0x8e4)),_0x25e325[_0x9d9f82(0xcbe)][_0x9d9f82(0xa54)]('hidden');};try{const _0x1cf8b5=collection(db,_0xd9e345(0xc02)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0xd9e345(0x959)),_0x3eadd8=await getDocs(_0x1cf8b5),_0x2c37fc=_0x3eadd8[_0xd9e345(0x293)][_0xd9e345(0x929)](_0x1b8ea4=>_0x1b8ea4[_0xd9e345(0xc5f)]());renderQuizLeaderboard(_0x2c37fc,currentQuizData,_0xd9e345(0x60c));const _0x4e5c6e=collection(db,_0xd9e345(0xc02)+appId+'/public/data/projects/'+currentQuizData[_0xd9e345(0x257)]+'/studentProfiles'),_0x39fec5=await getDocs(_0x4e5c6e),_0x519625=_0x39fec5['docs'][_0xd9e345(0x929)](_0x483c96=>_0x483c96['data']());renderLeaderboard(_0x519625,_0xd9e345(0x58a));}catch(_0x4b30fa){console['error'](_0xd9e345(0xbf2),_0x4b30fa),showMessage(_0xd9e345(0xb4c));}}async function handleSaveToBank(_0x467683){const _0x1f03fd=_0x15d57d,_0x36d09a=_0x467683[_0x1f03fd(0xb70)],_0xd43110=_0x36d09a['dataset'][_0x1f03fd(0x79b)],_0x312b18=currentQuizData[_0x1f03fd(0xca5)][_0xd43110];if(!userId){showMessage(_0x1f03fd(0x75e));return;}try{const _0x4d1092={..._0x312b18,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x239d84=collection(db,_0x1f03fd(0xc02)+appId+_0x1f03fd(0xbb4)+userId+_0x1f03fd(0x1d6));await addDoc(_0x239d84,_0x4d1092),showMessage(_0x1f03fd(0x163)),_0x36d09a['classList'][_0x1f03fd(0xa49)](_0x1f03fd(0xad8)),_0x36d09a[_0x1f03fd(0xcbe)][_0x1f03fd(0xa54)](_0x1f03fd(0x70f)),_0x36d09a[_0x1f03fd(0x704)]=!![];}catch(_0x2bb3c){console[_0x1f03fd(0x1c0)](_0x1f03fd(0x70e),_0x2bb3c),showMessage(_0x1f03fd(0xd31));}}async function selectProjectAndGenerateBlueprintQuiz(_0x353833,_0x453299=null,_0x4b2b51=null,_0x551973=![]){const _0x25b0e3=_0x15d57d;cameFromBlueprint=!![];const _0x50892a=document[_0x25b0e3(0x9c3)](_0x25b0e3(0x538))?.['value'][_0x25b0e3(0xa93)]();let _0x230fe0=null;if(_0x50892a){showMessage(_0x25b0e3(0xc0a));try{const _0x118af2=await fetchFileFromUrl(_0x50892a,'reference_onet.pdf'),_0x3186b3=await new Promise((_0x261514,_0x3e8d67)=>{const _0x2d5a56=_0x25b0e3,_0x441238=new FileReader();_0x441238['readAsDataURL'](_0x118af2),_0x441238[_0x2d5a56(0x696)]=()=>_0x261514(_0x441238['result'][_0x2d5a56(0x260)](',')[0x1]),_0x441238[_0x2d5a56(0x1d8)]=_0x3e8d67;});_0x230fe0=[{'inlineData':{'mimeType':_0x118af2[_0x25b0e3(0x1d3)],'data':_0x3186b3}}],messageModal[_0x25b0e3(0xcbe)][_0x25b0e3(0xa54)](_0x25b0e3(0x8e4));}catch(_0x4d430e){console[_0x25b0e3(0x1c0)]('Could\x20not\x20fetch\x20reference\x20file:',_0x4d430e),showMessage(_0x25b0e3(0x692));}}const _0x733e6f=document['getElementById'](_0x25b0e3(0x433)),_0x8de158=document['getElementById'](_0x25b0e3(0x9ae)),_0x4e89d2=_0x733e6f['querySelector']('h3'),_0x21eff8=document[_0x25b0e3(0x9c3)]('confirm-move-quiz-btn'),_0x24ccef=document['getElementById'](_0x25b0e3(0xd53));_0x4e89d2['textContent']='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x21eff8[_0x25b0e3(0xafb)]=_0x25b0e3(0x8b4),_0x21eff8['disabled']=!![];allProjects['length']===0x0?_0x8de158[_0x25b0e3(0x632)]=_0x25b0e3(0x70d):(_0x8de158[_0x25b0e3(0x632)]=_0x25b0e3(0x84e)+allProjects[_0x25b0e3(0x929)](_0x43f5f1=>_0x25b0e3(0x1dc)+_0x43f5f1['id']+'\x22>'+_0x43f5f1[_0x25b0e3(0x5fc)]+_0x25b0e3(0x9ea))['join'](''),_0x21eff8[_0x25b0e3(0x704)]=![]);_0x733e6f[_0x25b0e3(0xcbe)][_0x25b0e3(0xa49)](_0x25b0e3(0x8e4));const _0x56e7b4=async()=>{const _0x1c63b4=_0x25b0e3,_0x1e3d46=_0x8de158[_0x1c63b4(0x3bb)];if(!_0x1e3d46){showMessage(_0x1c63b4(0x4b6));return;}_0x733e6f[_0x1c63b4(0xcbe)][_0x1c63b4(0xa54)](_0x1c63b4(0x8e4)),document['getElementById']('blueprint-project-manager-view')[_0x1c63b4(0xcbe)][_0x1c63b4(0xa54)](_0x1c63b4(0x8e4)),await loadProjectDetails(_0x1e3d46),showView(_0x1c63b4(0x5fd)),handleGenerateQuizFromBlueprintTopic(_0x353833,_0x453299,_0x1e3d46,_0x4b2b51,_0x551973,_0x230fe0),_0x16a240();},_0x16a240=()=>{const _0xbdf399=_0x25b0e3;_0x4e89d2[_0xbdf399(0xafb)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x21eff8[_0xbdf399(0xafb)]='ย้าย',_0x21eff8['removeEventListener'](_0xbdf399(0xba1),_0x56e7b4),_0x24ccef[_0xbdf399(0x9f3)](_0xbdf399(0xba1),_0x16a240),_0x21eff8[_0xbdf399(0x762)](_0xbdf399(0xba1),confirmMoveQuiz);};_0x21eff8[_0x25b0e3(0x9f3)]('click',confirmMoveQuiz),_0x21eff8[_0x25b0e3(0x762)](_0x25b0e3(0xba1),_0x56e7b4),_0x24ccef[_0x25b0e3(0x762)](_0x25b0e3(0xba1),_0x16a240);}function listenForStarredQuizzes(){const _0x5423e6=_0x15d57d;if(!userId)return;const _0x15d553=collection(db,_0x5423e6(0xc02)+appId+_0x5423e6(0x21e)),_0x52a3ad=query(_0x15d553,where(_0x5423e6(0x742),'==',!![]));onSnapshot(_0x52a3ad,_0x221295=>{const _0x3d133d=_0x5423e6;starredQuizzes=_0x221295[_0x3d133d(0x293)][_0x3d133d(0x929)](_0x1f1829=>({'id':_0x1f1829['id'],..._0x1f1829['data']()})),currentProjectId===_0x3d133d(0x297)?renderQuizzes():renderProjects();},_0x4744ab=>{const _0x206d9b=_0x5423e6;console[_0x206d9b(0x1c0)](_0x206d9b(0x4d1),_0x4744ab);});}function listenForFileShortcuts(){const _0x45d1de=_0x15d57d,_0x1a6e16=doc(db,'globalSettings',_0x45d1de(0x171));onSnapshot(_0x1a6e16,_0x189542=>{const _0x469249=_0x45d1de;let _0x3ef138=[],_0x3ec851=[],_0x4ad89b={};if(_0x189542[_0x469249(0x6b5)]()){const _0x5e02a5=_0x189542[_0x469249(0xc5f)]();_0x3ef138=_0x5e02a5[_0x469249(0x39f)]||[],_0x3ec851=_0x5e02a5[_0x469249(0x2bc)]||[],_0x4ad89b=_0x5e02a5[_0x469249(0x443)]||{};}!_0x3ec851[_0x469249(0x52d)](_0xbac5da=>_0xbac5da['id']===_0x469249(0xbfe))&&_0x3ec851[_0x469249(0xc2a)]({'id':'all','name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x3ef138[_0x469249(0x52d)](_0x1f46c5=>_0x1f46c5['id']===_0x469249(0xa65))&&_0x3ef138[_0x469249(0xc2a)]({'id':_0x469249(0xa65),'name':_0x469249(0x932),'url':'','isDefault':!![]}),!_0x3ef138[_0x469249(0x52d)](_0x1b2f39=>_0x1b2f39['id']==='file-default-2')&&_0x3ef138['unshift']({'id':_0x469249(0x5b5),'name':_0x469249(0x74e),'url':'','isDefault':!![]}),fileShortcuts=_0x3ef138,fileShortcutTabs=_0x3ec851,fileShortcutOrder=_0x4ad89b,renderFileShortcuts(),!document[_0x469249(0x9c3)]('additional-file-shortcuts-modal')[_0x469249(0xcbe)][_0x469249(0xab4)](_0x469249(0x8e4))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x384b11=_0x15d57d,_0x2ec94b=doc(db,_0x384b11(0x510),'fileShortcutsConfig');try{await setDoc(_0x2ec94b,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x29ec2c){console['error'](_0x384b11(0xd2a),_0x29ec2c);}}function renderAdditionalFileShortcutsModal(){const _0x5d203a=_0x15d57d,_0x5e0b00=document[_0x5d203a(0x9c3)](_0x5d203a(0xc51)),_0x4f786c=document['getElementById'](_0x5d203a(0xc0e));if(!_0x5e0b00||!_0x4f786c)return;_0x5e0b00[_0x5d203a(0x632)]=fileShortcutTabs[_0x5d203a(0x929)](_0x4c5e22=>{const _0x31c56f=_0x5d203a,_0x4c55fe=_0x4c5e22['id']===activeFileShortcutTabId;return _0x31c56f(0x97d)+_0x4c5e22['id']+_0x31c56f(0x422)+(_0x4c55fe?'border-indigo-500\x20text-indigo-600':'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x31c56f(0x523)+_0x4c5e22['name']+_0x31c56f(0xd04)+_0x4c5e22[_0x31c56f(0x5e1)]+_0x31c56f(0xa2a)+(!_0x4c5e22[_0x31c56f(0xd34)]?_0x31c56f(0x3e7)+_0x4c5e22['id']+_0x31c56f(0xa3b):'')+_0x31c56f(0x9fd);})[_0x5d203a(0xb2d)]('');const _0x34b9eb=fileShortcutTabs['find'](_0x59db38=>_0x59db38['id']===activeFileShortcutTabId);let _0x565642=_0x34b9eb?.[_0x5d203a(0xd34)]?[...fileShortcuts]:fileShortcuts[_0x5d203a(0x23a)](_0x48d754=>(_0x34b9eb?.[_0x5d203a(0x92f)]||[])[_0x5d203a(0x436)](_0x48d754['id']));const _0x4b3145=fileShortcutOrder[activeFileShortcutTabId]||[];_0x565642[_0x5d203a(0x65c)]((_0x33525e,_0xf5bf3)=>{const _0xc41a4=_0x5d203a,_0x4d70bb=_0x4b3145['indexOf'](_0x33525e['id']),_0x1e1f79=_0x4b3145[_0xc41a4(0x3fd)](_0xf5bf3['id']);return(_0x4d70bb===-0x1?Infinity:_0x4d70bb)-(_0x1e1f79===-0x1?Infinity:_0x1e1f79);}),_0x4f786c['innerHTML']=_0x565642[_0x5d203a(0x929)](_0x3ad4fd=>{const _0x54318b=_0x5d203a,_0x1b0040=_0x3ad4fd['url']?'📄':'🔗',_0x35358b=fileShortcutTabs[_0x54318b(0x23a)](_0x315f52=>!_0x315f52[_0x54318b(0xd34)]),_0x3d64db=_0x34b9eb[_0x54318b(0xd34)]&&_0x35358b[_0x54318b(0x768)]>0x0?_0x54318b(0x44e)+_0x35358b[_0x54318b(0x929)](_0x485f6b=>_0x54318b(0xba6)+_0x3ad4fd['id']+_0x54318b(0x48a)+_0x485f6b['id']+'\x22>'+_0x485f6b['name']+_0x54318b(0x230))[_0x54318b(0xb2d)]('')+_0x54318b(0x876):'';return _0x54318b(0x844)+_0x3ad4fd['id']+_0x54318b(0x5b3)+_0x1b0040+'\x20'+_0x3ad4fd['name']+_0x54318b(0x393)+_0x3ad4fd['id']+_0x54318b(0x738)+_0x3ad4fd['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3ad4fd[_0x54318b(0xd34)]?_0x54318b(0xbf4)+_0x3ad4fd['id']+_0x54318b(0x562):'')+_0x54318b(0xd17)+(!_0x34b9eb[_0x54318b(0xd34)]?_0x54318b(0x2e7)+_0x3ad4fd['id']+_0x54318b(0x3b7):'')+_0x54318b(0xd17)+_0x3d64db+_0x54318b(0x9d9);})[_0x5d203a(0xb2d)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x36a90a=_0x15d57d;document[_0x36a90a(0xc76)](_0x36a90a(0x5ed))[_0x36a90a(0x326)](_0xcb3f20=>{const _0xc68702=_0x36a90a;_0xcb3f20['onclick']=_0x32c5a1=>{const _0x364243=_0x344c;activeFileShortcutTabId=_0x32c5a1['currentTarget'][_0x364243(0x870)]['tabId'],renderAdditionalFileShortcutsModal();},_0xcb3f20[_0xc68702(0xb0c)]=_0x10a2ef=>{const _0x39f398=_0xc68702,_0x198979=_0x10a2ef[_0x39f398(0xb70)][_0x39f398(0x8da)](_0x39f398(0xc11));_0x10a2ef['currentTarget'][_0x39f398(0x8da)](_0x39f398(0x248))[_0x39f398(0xcbe)][_0x39f398(0xa54)](_0x39f398(0x8e4)),_0x198979[_0x39f398(0xcbe)][_0x39f398(0xa49)](_0x39f398(0x8e4)),_0x198979[_0x39f398(0xb37)](),_0x198979[_0x39f398(0x169)]();};}),document[_0x36a90a(0xc76)](_0x36a90a(0x60a))[_0x36a90a(0x326)](_0x41fc86=>{const _0x1726f8=_0x36a90a,_0x22d0b4=()=>{const _0x10832e=_0x344c,_0x3ccd6f=_0x41fc86[_0x10832e(0x2fb)](_0x10832e(0x5ed))[_0x10832e(0x870)][_0x10832e(0x73a)],_0x2b05d1=fileShortcutTabs[_0x10832e(0x52d)](_0xe9f352=>_0xe9f352['id']===_0x3ccd6f);_0x2b05d1&&(_0x2b05d1[_0x10832e(0x5e1)]=_0x41fc86['value'][_0x10832e(0xa93)]()||_0x2b05d1['name'],saveFileShortcutConfig());};_0x41fc86['onblur']=_0x22d0b4,_0x41fc86[_0x1726f8(0x36a)]=_0x12bf22=>{const _0x4d7ac6=_0x1726f8;if(_0x12bf22[_0x4d7ac6(0x27e)]==='Enter')_0x41fc86['blur']();};}),document[_0x36a90a(0xc76)]('.delete-file-shortcut-tab-btn')[_0x36a90a(0x326)](_0x2c5456=>_0x2c5456[_0x36a90a(0xd41)]=_0x57c020=>{const _0x29168f=_0x36a90a,_0x188d61=_0x57c020[_0x29168f(0xb70)][_0x29168f(0x870)][_0x29168f(0x73a)];showConfirmation(_0x29168f(0x32f),()=>{const _0x72d314=_0x29168f;fileShortcutTabs=fileShortcutTabs[_0x72d314(0x23a)](_0xc7d9b5=>_0xc7d9b5['id']!==_0x188d61),delete fileShortcutOrder[_0x188d61];if(activeFileShortcutTabId===_0x188d61)activeFileShortcutTabId=_0x72d314(0xbfe);saveFileShortcutConfig();});}),document[_0x36a90a(0xc76)]('.move-file-shortcut-item')[_0x36a90a(0x326)](_0x4b6f85=>_0x4b6f85['onclick']=_0x375841=>{const _0x21ab9c=_0x36a90a;_0x375841['preventDefault']();const {shortcutId:_0x313f9c,targetTabId:_0x1d6c8f}=_0x375841[_0x21ab9c(0xb70)][_0x21ab9c(0x870)],_0x34f8a1=fileShortcutTabs[_0x21ab9c(0x52d)](_0x5021ac=>_0x5021ac['id']===_0x1d6c8f);_0x34f8a1&&!_0x34f8a1['shortcutIds'][_0x21ab9c(0x436)](_0x313f9c)&&(_0x34f8a1['shortcutIds'][_0x21ab9c(0xa6d)](_0x313f9c),saveFileShortcutConfig());}),document[_0x36a90a(0xc76)](_0x36a90a(0x193))[_0x36a90a(0x326)](_0x25f1e6=>_0x25f1e6[_0x36a90a(0xd41)]=_0x4ccc89=>{const _0x46246e=_0x36a90a,_0x4a597d=_0x4ccc89['currentTarget'][_0x46246e(0x870)]['shortcutId'],_0x10d6b4=fileShortcutTabs[_0x46246e(0x52d)](_0xe2d071=>_0xe2d071['id']===activeFileShortcutTabId);_0x10d6b4&&!_0x10d6b4[_0x46246e(0xd34)]&&(_0x10d6b4['shortcutIds']=_0x10d6b4[_0x46246e(0x92f)][_0x46246e(0x23a)](_0x282730=>_0x282730!==_0x4a597d),saveFileShortcutConfig());}),document['querySelectorAll'](_0x36a90a(0xaca))[_0x36a90a(0x326)](_0x484995=>_0x484995['onclick']=_0x5b88a4=>{const _0x157f01=_0x36a90a;_0x5b88a4['stopPropagation']();const _0x111686=_0x5b88a4['currentTarget'][_0x157f01(0x7e7)];document[_0x157f01(0xc76)](_0x157f01(0xa0c))[_0x157f01(0x326)](_0xc26729=>_0xc26729[_0x157f01(0xcbe)][_0x157f01(0xa54)]('hidden')),_0x111686['classList']['remove'](_0x157f01(0x8e4));});const _0x211a73=document['getElementById']('additional-file-shortcuts-list');let _0x1fa669=null;_0x211a73[_0x36a90a(0xc5a)]=_0x27088c=>{const _0x437187=_0x36a90a;_0x1fa669=_0x27088c[_0x437187(0x24a)][_0x437187(0x2fb)](_0x437187(0x407));if(_0x1fa669)setTimeout(()=>_0x1fa669[_0x437187(0xcbe)]['add'](_0x437187(0xa0b)),0x0);},_0x211a73[_0x36a90a(0x5b8)]=()=>{const _0x418b66=_0x36a90a;_0x1fa669&&(_0x1fa669['classList'][_0x418b66(0xa49)]('opacity-50'),_0x1fa669=null);},_0x211a73[_0x36a90a(0x631)]=_0x4e5417=>{const _0x277a99=_0x36a90a;_0x4e5417[_0x277a99(0xccb)]();},_0x211a73[_0x36a90a(0xbcf)]=_0x3afd61=>{const _0x42fdc0=_0x36a90a;_0x3afd61[_0x42fdc0(0xccb)]();if(_0x1fa669){const _0x241f95=[..._0x211a73[_0x42fdc0(0xc76)](_0x42fdc0(0x4c0))]['reduce']((_0x554efd,_0x5b9634)=>{const _0x5715a1=_0x42fdc0,_0x4943a2=_0x5b9634['getBoundingClientRect'](),_0xdb71d6=_0x3afd61[_0x5715a1(0x6ac)]-_0x4943a2[_0x5715a1(0xbe8)]-_0x4943a2[_0x5715a1(0xbb2)]/0x2;return _0xdb71d6<0x0&&_0xdb71d6>_0x554efd[_0x5715a1(0x375)]?{'offset':_0xdb71d6,'element':_0x5b9634}:_0x554efd;},{'offset':Number[_0x42fdc0(0x3c3)]})[_0x42fdc0(0xa5c)];_0x241f95==null?_0x211a73[_0x42fdc0(0x86e)](_0x1fa669):_0x211a73[_0x42fdc0(0x7c0)](_0x1fa669,_0x241f95);const _0x28dda8=[..._0x211a73[_0x42fdc0(0xc76)](_0x42fdc0(0x407))][_0x42fdc0(0x929)](_0x23f306=>_0x23f306[_0x42fdc0(0x870)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x28dda8,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x13da8e=_0x15d57d,_0x544a03=prompt(_0x13da8e(0xcfc),_0x13da8e(0xd29));_0x544a03&&_0x544a03[_0x13da8e(0xa93)]()&&(fileShortcutTabs[_0x13da8e(0xa6d)]({'id':_0x13da8e(0x74c)+Date[_0x13da8e(0xce2)](),'name':_0x544a03['trim'](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x5bd79e=_0x15d57d,_0x3cc109=document['getElementById'](_0x5bd79e(0xb21)),_0x4a16a7=document[_0x5bd79e(0x9c3)](_0x5bd79e(0xc0e)),_0xd92d89=document['getElementById'](_0x5bd79e(0x313));if(_0xd92d89)_0xd92d89[_0x5bd79e(0xcbe)]['add']('hidden');if(!_0x3cc109||!_0x4a16a7)return;const _0x4cb312=fileShortcuts['slice'](0x0,0x4),_0x288707=fileShortcuts[_0x5bd79e(0x411)](0x4);_0x3cc109[_0x5bd79e(0x632)]=_0x4cb312[_0x5bd79e(0x929)](_0x51ef0b=>{const _0xead0f7=_0x5bd79e,_0x1ce901=_0x51ef0b[_0xead0f7(0x5cc)]&&_0x51ef0b['url'][_0xead0f7(0xa93)]()!=='',_0x2f9079=selectedFile&&selectedFile['shortcutId']===_0x51ef0b['id'];let _0x40cd43='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x51c965='🔗';if(_0x2f9079)_0x40cd43='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x51c965=_0xead0f7(0x218);else _0x1ce901&&(_0x40cd43=_0xead0f7(0x4ad),_0x51c965='📄');const _0xec0942=!_0x51ef0b[_0xead0f7(0xd34)]?_0xead0f7(0xbf4)+_0x51ef0b['id']+_0xead0f7(0xbce):'';return _0xead0f7(0xc61)+_0x51ef0b['id']+_0xead0f7(0x759)+_0x40cd43+_0xead0f7(0x8df)+_0x51c965+_0xead0f7(0x37b)+_0x51ef0b[_0xead0f7(0x5e1)]+_0xead0f7(0x3a4)+_0x51ef0b['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xec0942+_0xead0f7(0x2fe);})['join'](''),_0x288707[_0x5bd79e(0x768)]>0x0&&(_0x3cc109['innerHTML']+=_0x5bd79e(0x23d)),_0x288707[_0x5bd79e(0x768)]>0x0?_0x4a16a7[_0x5bd79e(0x632)]=_0x288707[_0x5bd79e(0x929)](_0x3b04de=>_0x5bd79e(0xd3a)+(_0x3b04de[_0x5bd79e(0x5cc)]?'📄':'🔗')+'\x20'+_0x3b04de['name']+_0x5bd79e(0xd3c)+_0x3b04de['id']+_0x5bd79e(0x2c7)+_0x3b04de['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3b04de[_0x5bd79e(0xd34)]?_0x5bd79e(0xbf4)+_0x3b04de['id']+_0x5bd79e(0x562):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x4a16a7['innerHTML']=_0x5bd79e(0xa3d);}function openFileShortcutEditor(_0x10f760=null){const _0x5aa074=_0x15d57d,_0x526f6a=document[_0x5aa074(0x9c3)](_0x5aa074(0x77c)),_0x5cd5fc=document[_0x5aa074(0x9c3)](_0x5aa074(0x7cb)),_0x14c404=document[_0x5aa074(0x9c3)](_0x5aa074(0xbfd)),_0x2ee473=document[_0x5aa074(0x9c3)](_0x5aa074(0xcf5)),_0x4a6970=document[_0x5aa074(0x9c3)](_0x5aa074(0xac8));if(_0x10f760){const _0x7346d=fileShortcuts[_0x5aa074(0x52d)](_0x3714e2=>_0x3714e2['id']===_0x10f760);if(!_0x7346d)return;_0x5cd5fc[_0x5aa074(0xafb)]=_0x5aa074(0x586),_0x14c404['value']=_0x7346d['id'],_0x2ee473[_0x5aa074(0x3bb)]=_0x7346d[_0x5aa074(0x5e1)],_0x4a6970[_0x5aa074(0x3bb)]=_0x7346d[_0x5aa074(0x5cc)]||'';}else _0x5cd5fc['textContent']=_0x5aa074(0x1dd),_0x14c404[_0x5aa074(0x3bb)]='',_0x2ee473['value']='',_0x4a6970[_0x5aa074(0x3bb)]='';_0x526f6a[_0x5aa074(0xcbe)][_0x5aa074(0xa49)](_0x5aa074(0x8e4));}async function saveFileShortcutChanges(){const _0x2df0eb=_0x15d57d,_0x13d3c5=document[_0x2df0eb(0x9c3)]('file-shortcut-id-input')[_0x2df0eb(0x3bb)],_0x4f13be=document[_0x2df0eb(0x9c3)](_0x2df0eb(0xcf5))[_0x2df0eb(0x3bb)][_0x2df0eb(0xa93)](),_0x35791f=document[_0x2df0eb(0x9c3)](_0x2df0eb(0xac8))[_0x2df0eb(0x3bb)][_0x2df0eb(0xa93)]();if(!_0x4f13be){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x23b108={'id':_0x13d3c5||_0x2df0eb(0x548)+Date['now'](),'name':_0x4f13be,'url':_0x35791f,'isDefault':_0x13d3c5[_0x2df0eb(0x845)](_0x2df0eb(0x2e2))};let _0x49bf6d;_0x13d3c5?_0x49bf6d=fileShortcuts[_0x2df0eb(0x929)](_0x4faa87=>_0x4faa87['id']===_0x13d3c5?_0x23b108:_0x4faa87):_0x49bf6d=[...fileShortcuts,_0x23b108];try{const _0x908958=doc(db,'globalSettings',_0x2df0eb(0x171));await setDoc(_0x908958,{'shortcuts':_0x49bf6d},{'merge':!![]}),document['getElementById'](_0x2df0eb(0x77c))[_0x2df0eb(0xcbe)][_0x2df0eb(0xa54)](_0x2df0eb(0x8e4));}catch(_0x3751c5){console['error'](_0x2df0eb(0xa06),_0x3751c5),showMessage(_0x2df0eb(0xd31));}}async function handleFileShortcutClick(_0x3f9312){const _0x3a404d=_0x15d57d,_0x11f201=fileShortcuts[_0x3a404d(0x52d)](_0x9258d0=>_0x9258d0['id']===_0x3f9312);if(!_0x11f201)return;if(!_0x11f201['url']||_0x11f201[_0x3a404d(0x5cc)][_0x3a404d(0xa93)]()===''){openFileShortcutEditor(_0x3f9312);return;}const _0x1db64b=document[_0x3a404d(0x8da)]('.file-shortcut-btn[data-id=\x22'+_0x3f9312+'\x22]');if(_0x1db64b){const _0x4cdc83=_0x1db64b[_0x3a404d(0x632)];_0x1db64b[_0x3a404d(0x632)]=_0x3a404d(0x9bc),_0x1db64b[_0x3a404d(0x704)]=!![];}document[_0x3a404d(0xc76)](_0x3a404d(0x6eb))['forEach'](_0x3ec69e=>{const _0x3fddf2=_0x3a404d;if(_0x3ec69e['dataset']['id']!==_0x3f9312)_0x3ec69e[_0x3fddf2(0xcbe)][_0x3fddf2(0xa54)](_0x3fddf2(0xa0b),_0x3fddf2(0xb71));});try{const _0x4b4b6b=new URL(_0x11f201[_0x3a404d(0x5cc)])['pathname'],_0xc6e77f=_0x4b4b6b[_0x3a404d(0x45e)](_0x4b4b6b[_0x3a404d(0x7ce)]('/')+0x1)||(_0x11f201[_0x3a404d(0x5cc)][_0x3a404d(0x436)]('.txt')?_0x3a404d(0x1a0):_0x3a404d(0x7df)),_0x4d4f23=await fetchFileFromUrl(_0x11f201[_0x3a404d(0x5cc)],_0xc6e77f);_0x4d4f23[_0x3a404d(0x727)]=_0x3f9312,selectedFile=_0x4d4f23,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x3a404d(0x9c3)](_0x3a404d(0x916))['scrollIntoView']({'behavior':'smooth','block':_0x3a404d(0x653)});}catch(_0x2cb613){console['error']('Error\x20processing\x20file\x20shortcut\x20click:',_0x2cb613),showMessage('เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20'+_0x2cb613['message']),renderFileShortcuts();}finally{document['querySelectorAll'](_0x3a404d(0x6eb))['forEach'](_0x45ee90=>{const _0x3001be=_0x3a404d;_0x45ee90[_0x3001be(0xcbe)][_0x3001be(0xa49)](_0x3001be(0xa0b),_0x3001be(0xb71)),_0x45ee90[_0x3001be(0x704)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x2716ed=_0x15d57d;if(allQuizzesGlobal[_0x2716ed(0x768)]>0x0)return;console[_0x2716ed(0xb0b)](_0x2716ed(0xaf5)),showMessage(_0x2716ed(0x451));try{const _0x89852a=await getDocs(collection(db,'artifacts/'+appId+_0x2716ed(0x21e)));allQuizzesGlobal=_0x89852a[_0x2716ed(0x293)][_0x2716ed(0x929)](_0x117723=>({'id':_0x117723['id'],..._0x117723[_0x2716ed(0xc5f)]()})),console[_0x2716ed(0xb0b)](_0x2716ed(0x38d)+allQuizzesGlobal[_0x2716ed(0x768)]+_0x2716ed(0x840)),messageModal['classList'][_0x2716ed(0xa54)](_0x2716ed(0x8e4));}catch(_0x5eb1f4){console[_0x2716ed(0x1c0)](_0x2716ed(0xaeb),_0x5eb1f4),messageModal[_0x2716ed(0xcbe)]['add'](_0x2716ed(0x8e4));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0xd9fddf=_0x15d57d;if(!currentQuizData||!currentQuizData[_0xd9fddf(0xca5)]){showMessage(_0xd9fddf(0x4d6));return;}const _0x597e42=currentQuizData,_0x9d58b9=window[_0xd9fddf(0x9d4)]('',_0xd9fddf(0x9de)),_0x46c2fe=_0x2cda3e=>String[_0xd9fddf(0x7e3)](0x41+_0x2cda3e),_0x191f45=_0xd9fddf(0x322)+_0x597e42[_0xd9fddf(0x294)]+_0xd9fddf(0xbd3)+_0x597e42['topic']+_0xd9fddf(0x4e3)+_0x597e42[_0xd9fddf(0xca5)][_0xd9fddf(0x929)]((_0x4b909b,_0x44a081)=>{const _0x1e4b82=_0xd9fddf;let _0x27940='';const _0x2af68d=_0x4b909b['questionType']||_0x597e42[_0x1e4b82(0x434)];switch(_0x2af68d){case _0x1e4b82(0x3ee):case _0x1e4b82(0x1d1):_0x27940=_0x1e4b82(0xcba)+_0x4b909b[_0x1e4b82(0x78a)][_0x1e4b82(0x929)]((_0x535c0f,_0x24bd01)=>_0x1e4b82(0x785)+_0x46c2fe(_0x24bd01)+'.\x20'+_0x535c0f+_0x1e4b82(0x996))[_0x1e4b82(0xb2d)](_0x1e4b82(0x8b1))+_0x1e4b82(0x175);break;case'true_false':_0x27940=_0x1e4b82(0xc5e);break;default:_0x27940='<div\x20class=\x22answer-space\x22></div>';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x44a081+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x4b909b[_0x1e4b82(0x176)]||_0x4b909b[_0x1e4b82(0xb0e)])+_0x1e4b82(0x8bd)+(_0x4b909b[_0x1e4b82(0x7bc)]?_0x1e4b82(0x346)+_0x4b909b[_0x1e4b82(0x7bc)]+_0x1e4b82(0x175):'')+_0x1e4b82(0x6cd)+_0x27940+_0x1e4b82(0x594);})[_0xd9fddf(0xb2d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x9d58b9['document'][_0xd9fddf(0x491)](_0x191f45),_0x9d58b9[_0xd9fddf(0x83a)][_0xd9fddf(0xa13)](),_0x9d58b9[_0xd9fddf(0x696)]=function(){setTimeout(()=>{const _0x4d48e1=_0x344c;_0x9d58b9[_0x4d48e1(0x8cf)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x50491d=_0x15d57d;if(!currentQuizData||!currentQuizData[_0x50491d(0xca5)]){showMessage(_0x50491d(0x4d6));return;}const _0x5027bc=currentQuizData,_0x5e2d84=window[_0x50491d(0x9d4)]('',_0x50491d(0x9de)),_0x3458b1=_0x247986=>String['fromCharCode'](0x41+_0x247986),_0x293aa3=_0x50491d(0xd26)+_0x5027bc['topic']+_0x50491d(0x5ff)+_0x5027bc[_0x50491d(0xca5)][_0x50491d(0x929)]((_0x1324ec,_0x1f0d8c)=>{const _0x1b9370=_0x50491d;let _0x4c84f5='';const _0x1485e6=_0x1324ec[_0x1b9370(0xc6a)]||_0x5027bc[_0x1b9370(0x434)];switch(_0x1485e6){case _0x1b9370(0x3ee):case'fill_in_with_choices':_0x4c84f5='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x1324ec[_0x1b9370(0x78a)][_0x1b9370(0x929)]((_0x9d7bf9,_0xe89b88)=>_0x1b9370(0x732)+_0x3458b1(_0xe89b88)+'.\x20'+_0x9d7bf9+_0x1b9370(0x14b))[_0x1b9370(0xb2d)](_0x1b9370(0x8b1))+_0x1b9370(0x6e0);break;case'true_false':_0x4c84f5=_0x1b9370(0xd1a);break;default:_0x4c84f5='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x5027bc['topic']+_0x1b9370(0x926)+(_0x1f0d8c+0x1)+_0x1b9370(0xc4e)+(_0x1324ec[_0x1b9370(0x176)]||_0x1324ec['questionText'])+_0x1b9370(0x8bd)+(_0x1324ec['imageCode']?_0x1b9370(0x95e)+_0x1324ec[_0x1b9370(0x7bc)]+'</div>':'')+_0x1b9370(0x6cd)+_0x4c84f5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x50491d(0xb2d)]('')+_0x50491d(0xbaa);_0x5e2d84[_0x50491d(0x83a)][_0x50491d(0x491)](_0x293aa3),_0x5e2d84[_0x50491d(0x83a)][_0x50491d(0xa13)](),_0x5e2d84[_0x50491d(0x696)]=function(){setTimeout(()=>{const _0x37b796=_0x344c;_0x5e2d84[_0x37b796(0x8cf)]();},0x5dc);};}async function handleToggleStarQuiz(_0x509039){const _0x10db1b=_0x15d57d,_0x82a6e5=doc(db,'artifacts/'+appId+_0x10db1b(0x21e),_0x509039);try{const _0x324dd6=await getDoc(_0x82a6e5);if(_0x324dd6[_0x10db1b(0x6b5)]()){const _0x39782e=_0x324dd6['data']()[_0x10db1b(0x742)]||![];await updateDoc(_0x82a6e5,{'isStarred':!_0x39782e});}}catch(_0x3a7cc0){console[_0x10db1b(0x1c0)](_0x10db1b(0x236),_0x3a7cc0),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x5dcaad=_0x15d57d,_0x5acae5=document['getElementById'](_0x5dcaad(0x1d2));_0x5acae5[_0x5dcaad(0x632)]=_0x5dcaad(0x5c1);try{const _0x21cd41=collection(db,_0x5dcaad(0xc02)+appId+_0x5dcaad(0xbb4)+userId+'/questionBank'),_0x36ed46=query(_0x21cd41),_0x55c468=await getDocs(_0x36ed46);if(_0x55c468[_0x5dcaad(0x9dc)]){_0x5acae5[_0x5dcaad(0x632)]=_0x5dcaad(0xbe0);return;}let _0x1aeff2=_0x55c468[_0x5dcaad(0x293)]['map'](_0x534548=>{const _0x4dfb54=_0x5dcaad,_0x5c082c=_0x534548[_0x4dfb54(0xc5f)](),_0x544c59=_0x534548['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x4dfb54(0x933)](_0x5c082c)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5c082c[_0x4dfb54(0xb0e)]||_0x5c082c['stem'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x5c082c[_0x4dfb54(0x44c)]+_0x4dfb54(0xc85);})[_0x5dcaad(0xb2d)]('');_0x5acae5['innerHTML']=_0x5dcaad(0x3b5)+_0x1aeff2+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x5dcaad(0x9c3)]('create-from-bank-btn')[_0x5dcaad(0x762)](_0x5dcaad(0xba1),createQuizFromBank);}catch(_0x4fdcbf){console[_0x5dcaad(0x1c0)](_0x5dcaad(0x16e),_0x4fdcbf),_0x5acae5['innerHTML']=_0x5dcaad(0x397);}}async function handleExportLessonToPDF(){const _0xa6e573=_0x15d57d,_0x3f3d17=document[_0xa6e573(0x9c3)](_0xa6e573(0x80a)),_0x1c4ce1=document['getElementById']('lesson-view-title')[_0xa6e573(0xafb)]||'บทเรียน';if(!_0x3f3d17){showMessage(_0xa6e573(0xc1a));return;}const _0x4591dd=window[_0xa6e573(0x9d4)]('',_0xa6e573(0x9de)),_0x5bf728=_0xa6e573(0xa28)+_0x1c4ce1+_0xa6e573(0x3aa)+_0x1c4ce1+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f3d17[_0xa6e573(0x632)]+_0xa6e573(0x184);_0x4591dd['document']['write'](_0x5bf728),_0x4591dd[_0xa6e573(0x83a)][_0xa6e573(0xa13)](),_0x4591dd[_0xa6e573(0x696)]=function(){setTimeout(()=>{_0x4591dd['print']();},0x7d0);};}function showAdminLiveQuestionView(_0xfa8ff2,_0x4f1373,_0x594cb2){const _0x3d7b1a=_0x15d57d,_0x1d3e7d=_0xfa8ff2[_0x3d7b1a(0xc6a)]||currentQuizData[_0x3d7b1a(0x434)];let _0x459146='';if(_0x1d3e7d===_0x3d7b1a(0x3ee)||_0x1d3e7d===_0x3d7b1a(0x160)){const _0x457386=_0x1d3e7d===_0x3d7b1a(0x160)?['ใช่',_0x3d7b1a(0x5ab)]:_0xfa8ff2[_0x3d7b1a(0x78a)],_0x2151e6=_0x1d3e7d===_0x3d7b1a(0x160)?_0xfa8ff2[_0x3d7b1a(0xa79)]?0x0:0x1:_0xfa8ff2[_0x3d7b1a(0xa02)];_0x459146=_0x457386[_0x3d7b1a(0x929)]((_0x3706d8,_0x21462b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x21462b===_0x2151e6)+_0x3d7b1a(0x587)+_0x3706d8+_0x3d7b1a(0x2fe))[_0x3d7b1a(0xb2d)]('');}else{if(_0x1d3e7d===_0x3d7b1a(0xb59)){const _0x5ee6de=_0xfa8ff2[_0x3d7b1a(0x472)]||[];_0x459146=_0x5ee6de[_0x3d7b1a(0x929)](_0x1c21e3=>_0x3d7b1a(0x6cb)+(_0x1c21e3===_0xfa8ff2[_0x3d7b1a(0xbfc)])+_0x3d7b1a(0x587)+_0x1c21e3+_0x3d7b1a(0x2fe))[_0x3d7b1a(0xb2d)]('');}}const _0x2a0638=_0xfa8ff2[_0x3d7b1a(0x176)]||_0xfa8ff2[_0x3d7b1a(0xb0e)],_0xbad5fd=_0x3d7b1a(0x694)+(_0x4f1373+0x1)+'\x20/\x20'+_0x594cb2+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x2a0638+_0x3d7b1a(0x86c)+_0x459146+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3d7b1a(0x632)]=_0xbad5fd,window[_0x3d7b1a(0x1b4)]&&MathJax[_0x3d7b1a(0xc2c)]&&MathJax[_0x3d7b1a(0xc2c)]([liveGameView]),document[_0x3d7b1a(0x9c3)]('reveal-answer-btn')[_0x3d7b1a(0x762)](_0x3d7b1a(0xba1),()=>revealAnswerForAdmin(_0x4f1373,_0x594cb2)),document['getElementById']('end-game-btn')['addEventListener']('click',async()=>{const _0x41805a=_0x3d7b1a;showConfirmation(_0x41805a(0x896),async()=>{const _0x3a1b42=_0x41805a,_0x3b0bac=doc(db,_0x3a1b42(0xc02)+appId+_0x3a1b42(0x41f),currentLiveGameId);await updateDoc(_0x3b0bac,{'status':_0x3a1b42(0xb35)});});}),document[_0x3d7b1a(0x9c3)]('manage-players-btn')[_0x3d7b1a(0x762)]('click',()=>{const _0x10e3fd=_0x3d7b1a;document['getElementById'](_0x10e3fd(0xb30))[_0x10e3fd(0xcbe)][_0x10e3fd(0xd50)]('hidden');});}function promptForProjectBeforeGenerating(_0x6c6980){const _0x2b927b=_0x15d57d,_0x5c78ed=document['getElementById'](_0x2b927b(0x433)),_0x17a43a=document['getElementById'](_0x2b927b(0x9ae)),_0x3d1de0=_0x5c78ed['querySelector']('h3'),_0x593285=document['getElementById']('confirm-move-quiz-btn'),_0x5c2b99=document[_0x2b927b(0x9c3)](_0x2b927b(0xd53));_0x3d1de0[_0x2b927b(0xafb)]=_0x2b927b(0x321),_0x593285[_0x2b927b(0xafb)]=_0x2b927b(0x8b4),_0x593285[_0x2b927b(0x704)]=!![];allProjects[_0x2b927b(0x768)]===0x0?_0x17a43a[_0x2b927b(0x632)]=_0x2b927b(0x70d):(_0x17a43a[_0x2b927b(0x632)]=_0x2b927b(0x84e)+allProjects[_0x2b927b(0x929)](_0x574ba1=>_0x2b927b(0x1dc)+_0x574ba1['id']+'\x22>'+_0x574ba1['projectName']+_0x2b927b(0x9ea))['join'](''),_0x593285[_0x2b927b(0x704)]=![]);_0x5c78ed[_0x2b927b(0xcbe)][_0x2b927b(0xa49)](_0x2b927b(0x8e4));const _0xe0f94b=async()=>{const _0x54ba0c=_0x2b927b,_0x5f4dd7=_0x17a43a[_0x54ba0c(0x3bb)];if(!_0x5f4dd7){showMessage(_0x54ba0c(0x4b6));return;}_0x5c78ed[_0x54ba0c(0xcbe)][_0x54ba0c(0xa54)](_0x54ba0c(0x8e4)),await loadProjectDetails(_0x5f4dd7),showView(_0x54ba0c(0x5fd)),handleGenerateQuizFromBlueprintTopic(_0x6c6980),_0x2e1149();},_0x2e1149=()=>{const _0x53e607=_0x2b927b;_0x3d1de0[_0x53e607(0xafb)]=_0x53e607(0x506),_0x593285[_0x53e607(0xafb)]=_0x53e607(0x2c0),_0x593285[_0x53e607(0x9f3)](_0x53e607(0xba1),_0xe0f94b),_0x5c2b99[_0x53e607(0x9f3)](_0x53e607(0xba1),_0x2e1149),_0x593285[_0x53e607(0x762)](_0x53e607(0xba1),confirmMoveQuiz);};_0x593285['removeEventListener'](_0x2b927b(0xba1),confirmMoveQuiz),_0x593285[_0x2b927b(0x762)](_0x2b927b(0xba1),_0xe0f94b),_0x5c2b99[_0x2b927b(0x762)](_0x2b927b(0xba1),_0x2e1149);}function showStudentLiveQuestionView(_0x2a2789,_0x528fe0,_0x5d80bf){const _0x224637=_0x15d57d,_0x399b5c=_0x2a2789[_0x224637(0xc6a)]||currentQuizData[_0x224637(0x434)];let _0x26b230='';if(_0x399b5c===_0x224637(0x3ee)||_0x399b5c==='true_false'){const _0x2593ef=_0x399b5c==='true_false'?[_0x224637(0x486),'ไม่ใช่']:_0x2a2789[_0x224637(0x78a)];_0x26b230=_0x2593ef[_0x224637(0x929)]((_0x10b921,_0x43927d)=>_0x224637(0x893)+_0x43927d+_0x224637(0x3eb)+_0x10b921+_0x224637(0x856))['join']('');}else{if(_0x399b5c==='matching_item'){const _0x18f70a=_0x2a2789[_0x224637(0x472)]||[];_0x26b230=_0x18f70a[_0x224637(0x929)]((_0x3a2e05,_0x268636)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x268636+_0x224637(0x3eb)+_0x3a2e05+_0x224637(0x856))[_0x224637(0xb2d)]('');}else _0x399b5c==='short_answer'&&(_0x26b230='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0xf65426=_0x2a2789[_0x224637(0x176)]||_0x2a2789[_0x224637(0xb0e)],_0x50830a=_0x224637(0x73b)+(_0x528fe0+0x1)+'\x20/\x20'+_0x5d80bf+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0xf65426+_0x224637(0x1b8)+_0x26b230+_0x224637(0x204);liveGameView[_0x224637(0x632)]=_0x50830a;window[_0x224637(0x1b4)]&&MathJax[_0x224637(0xc2c)]&&MathJax['typesetPromise']([liveGameView]);const _0x6b7fe2=document[_0x224637(0x9c3)](_0x224637(0x30b));_0x6b7fe2&&_0x6b7fe2[_0x224637(0x762)](_0x224637(0xba1),()=>{const _0x100012=_0x224637,_0x111b9f=document[_0x100012(0x9c3)]('live-short-answer-input')['value'];handleLiveAnswer(_0x111b9f,_0x2a2789);}),document[_0x224637(0x9c3)](_0x224637(0x56c))[_0x224637(0x762)](_0x224637(0xba1),_0x2b5ece=>{const _0x5d79d5=_0x224637,_0x1dda60=_0x2b5ece[_0x5d79d5(0x24a)][_0x5d79d5(0x2fb)]('.live-answer-btn');if(_0x1dda60){const _0x374d52=parseInt(_0x1dda60[_0x5d79d5(0x870)][_0x5d79d5(0x79b)]);handleLiveAnswer(_0x374d52,_0x2a2789);}});}function listenForBlueprintShortcuts(){const _0x7091bf=_0x15d57d,_0x4b26f6=doc(db,_0x7091bf(0x510),'dashboardConfig');onSnapshot(_0x4b26f6,_0x586a27=>{const _0xb2af8c=_0x7091bf;let _0x3c1beb=[],_0x394812=[],_0x2b5a30={};if(_0x586a27[_0xb2af8c(0x6b5)]()){const _0x11fe23=_0x586a27[_0xb2af8c(0xc5f)]();_0x3c1beb=_0x11fe23[_0xb2af8c(0x92a)]||[],_0x394812=_0x11fe23[_0xb2af8c(0x524)]||[],_0x2b5a30=_0x11fe23[_0xb2af8c(0xa32)]||{};}!_0x394812[_0xb2af8c(0x52d)](_0x268940=>_0x268940['id']===_0xb2af8c(0xbfe))&&_0x394812['unshift']({'id':_0xb2af8c(0xbfe),'name':_0xb2af8c(0x439),'isDefault':!![]}),!_0x3c1beb['find'](_0x428741=>_0x428741['id']==='default-1')&&_0x3c1beb['unshift']({'id':'default-1','name':_0xb2af8c(0xbd4),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x3c1beb['find'](_0x5a9bc6=>_0x5a9bc6['id']==='default-2')&&_0x3c1beb['unshift']({'id':_0xb2af8c(0x9d3),'name':_0xb2af8c(0xa1b),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x3c1beb,shortcutTabs=_0x394812,shortcutOrder=_0x2b5a30,renderBlueprintShortcuts(),!document[_0xb2af8c(0x9c3)](_0xb2af8c(0x3e2))[_0xb2af8c(0xcbe)]['contains'](_0xb2af8c(0x8e4))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x3c73a6=_0x15d57d,_0x520d35=document[_0x3c73a6(0x9c3)](_0x3c73a6(0xc90)),_0x1133b1=document[_0x3c73a6(0x9c3)](_0x3c73a6(0x5ce));if(!_0x520d35||!_0x1133b1)return;_0x520d35['innerHTML']=shortcutTabs[_0x3c73a6(0x929)](_0x136286=>{const _0x172928=_0x3c73a6,_0x3729f6=_0x136286['id']===activeShortcutTabId,_0x511c00='border-indigo-500\x20text-indigo-600',_0x3ffcbb=_0x172928(0x245);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x136286['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x3729f6?_0x511c00:_0x3ffcbb)+_0x172928(0xc3b)+_0x136286[_0x172928(0x5e1)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x136286['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x136286['isDefault']?_0x172928(0x401)+_0x136286['id']+_0x172928(0x1c3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3c73a6(0xb2d)]('');const _0x41906c=shortcutTabs[_0x3c73a6(0x52d)](_0x233f13=>_0x233f13['id']===activeShortcutTabId);let _0x46a393=[];if(_0x41906c){if(_0x41906c[_0x3c73a6(0xd34)])_0x46a393=[...blueprintShortcuts];else{const _0x1e5e85=_0x41906c[_0x3c73a6(0x92f)]||[];_0x46a393=blueprintShortcuts[_0x3c73a6(0x23a)](_0x42ecf8=>_0x1e5e85[_0x3c73a6(0x436)](_0x42ecf8['id']));}}const _0x9a3c94=shortcutOrder[activeShortcutTabId]||[];_0x46a393[_0x3c73a6(0x65c)]((_0x5daa88,_0x157c46)=>{const _0x5f2c71=_0x3c73a6,_0x366d1a=_0x9a3c94['indexOf'](_0x5daa88['id']),_0x285712=_0x9a3c94[_0x5f2c71(0x3fd)](_0x157c46['id']);if(_0x366d1a===-0x1)return 0x1;if(_0x285712===-0x1)return-0x1;return _0x366d1a-_0x285712;}),_0x1133b1['innerHTML']=_0x46a393[_0x3c73a6(0x768)]>0x0?_0x46a393['map'](_0xd0d352=>{const _0x438bcb=_0x3c73a6;let _0x29f85c='🧩';if(_0xd0d352['blueprintUrl']&&_0xd0d352[_0x438bcb(0xbc0)])_0x29f85c='📗';else{if(_0xd0d352[_0x438bcb(0x7b3)])_0x29f85c='📘';}const _0x1ef75f=shortcutTabs['filter'](_0x1788b7=>!_0x1788b7[_0x438bcb(0xd34)]),_0x1d0f18=_0x41906c[_0x438bcb(0xd34)]&&_0x1ef75f['length']>0x0?_0x438bcb(0x93c)+_0x1ef75f['map'](_0x5d40dc=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0xd0d352['id']+_0x438bcb(0x48a)+_0x5d40dc['id']+'\x22>'+_0x5d40dc['name']+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x438bcb(0xb2d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0x438bcb(0x5cd)+_0xd0d352['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x29f85c+'\x20'+_0xd0d352[_0x438bcb(0x5e1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xd0d352['id']+_0x438bcb(0x20c)+_0xd0d352['id']+_0x438bcb(0xb87)+(!_0xd0d352[_0x438bcb(0xd34)]?_0x438bcb(0xbf4)+_0xd0d352['id']+_0x438bcb(0x329):'')+_0x438bcb(0x4f7)+(!_0x41906c['isDefault']?'<button\x20data-shortcut-id=\x22'+_0xd0d352['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d0f18+_0x438bcb(0xbbb);})[_0x3c73a6(0xb2d)](''):_0x3c73a6(0xb12),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x5bb002=_0x15d57d;document[_0x5bb002(0xc76)](_0x5bb002(0x413))[_0x5bb002(0x326)](_0x4c0232=>{const _0x332e85=_0x5bb002;_0x4c0232[_0x332e85(0x762)](_0x332e85(0xba1),_0x1d8eaa=>{const _0x1009a0=_0x332e85;activeShortcutTabId=_0x1d8eaa[_0x1009a0(0xb70)][_0x1009a0(0x870)]['tabId'],renderAdditionalShortcutsModal();}),_0x4c0232['addEventListener'](_0x332e85(0x71b),_0x4ac8ad=>{const _0x42024b=_0x332e85,_0x38c010=_0x4ac8ad[_0x42024b(0xb70)];_0x38c010[_0x42024b(0x8da)](_0x42024b(0x248))[_0x42024b(0xcbe)]['add']('hidden');const _0x1d936a=_0x38c010[_0x42024b(0x8da)](_0x42024b(0xc11));_0x1d936a['classList'][_0x42024b(0xa49)](_0x42024b(0x8e4)),_0x1d936a[_0x42024b(0xb37)](),_0x1d936a[_0x42024b(0x169)]();});}),document['querySelectorAll'](_0x5bb002(0xc11))[_0x5bb002(0x326)](_0x58fa7c=>{const _0x5a1712=_0x5bb002,_0x10d9eb=()=>{const _0x54088d=_0x344c,_0x255d8e=_0x58fa7c[_0x54088d(0x2fb)](_0x54088d(0x413))[_0x54088d(0x870)]['tabId'];handleRenameShortcutTab(_0x255d8e,_0x58fa7c[_0x54088d(0x3bb)]);};_0x58fa7c[_0x5a1712(0x762)](_0x5a1712(0x590),_0x10d9eb),_0x58fa7c[_0x5a1712(0x762)](_0x5a1712(0x9c1),_0x18529c=>{const _0x324473=_0x5a1712;if(_0x18529c[_0x324473(0x27e)]===_0x324473(0xa71))_0x58fa7c[_0x324473(0x590)]();});}),document['querySelectorAll'](_0x5bb002(0x668))[_0x5bb002(0x326)](_0x5c438c=>{const _0x4d24f2=_0x5bb002;_0x5c438c[_0x4d24f2(0x762)](_0x4d24f2(0xba1),_0x52b3f6=>handleDeleteShortcutTab(_0x52b3f6['currentTarget'][_0x4d24f2(0x870)][_0x4d24f2(0x73a)]));}),document['querySelectorAll']('.move-shortcut-item')[_0x5bb002(0x326)](_0x4ac5e2=>{const _0x111082=_0x5bb002;_0x4ac5e2[_0x111082(0x762)](_0x111082(0xba1),_0x185c48=>{const _0x2186ba=_0x111082;_0x185c48['preventDefault']();const {shortcutId:_0x3242b9,targetTabId:_0x2d7592}=_0x185c48[_0x2186ba(0xb70)]['dataset'];handleMoveShortcutToTab(_0x3242b9,_0x2d7592);});}),document[_0x5bb002(0xc76)](_0x5bb002(0x6da))[_0x5bb002(0x326)](_0xcd8ab7=>{const _0x457f27=_0x5bb002;_0xcd8ab7[_0x457f27(0x762)](_0x457f27(0xba1),_0x3fde98=>{const _0xf4594a=_0x457f27;handleRemoveShortcutFromTab(_0x3fde98[_0xf4594a(0xb70)][_0xf4594a(0x870)]['shortcutId'],activeShortcutTabId);});});const _0x15deaa=document[_0x5bb002(0x9c3)]('additional-shortcuts-list');_0x15deaa[_0x5bb002(0xc76)](_0x5bb002(0xbe1))[_0x5bb002(0x326)](_0x55ad02=>{const _0x5cdae5=_0x5bb002;_0x55ad02['addEventListener'](_0x5cdae5(0xba1),()=>{const _0x2dccbc=_0x5cdae5;document[_0x2dccbc(0x9c3)](_0x2dccbc(0x3e2))[_0x2dccbc(0xcbe)]['add'](_0x2dccbc(0x8e4)),handleShortcutClick(_0x55ad02[_0x2dccbc(0x870)]['id']);});});let _0x4aaf29=null;_0x15deaa[_0x5bb002(0x762)](_0x5bb002(0x206),_0x2c1319=>{const _0x51ffee=_0x5bb002;_0x4aaf29=_0x2c1319[_0x51ffee(0x24a)][_0x51ffee(0x2fb)](_0x51ffee(0x407)),_0x4aaf29&&setTimeout(()=>_0x4aaf29[_0x51ffee(0xcbe)][_0x51ffee(0xa54)]('opacity-50'),0x0);}),_0x15deaa[_0x5bb002(0x762)](_0x5bb002(0x39a),()=>{const _0x45a30d=_0x5bb002;_0x4aaf29&&(_0x4aaf29[_0x45a30d(0xcbe)][_0x45a30d(0xa49)](_0x45a30d(0xa0b)),_0x4aaf29=null);}),_0x15deaa[_0x5bb002(0x762)](_0x5bb002(0x3f1),_0x23e790=>{const _0x18f908=_0x5bb002;_0x23e790[_0x18f908(0xccb)]();const _0x443d0e=[..._0x15deaa[_0x18f908(0xc76)](_0x18f908(0x4c0))][_0x18f908(0x4f4)]((_0x4724bd,_0x30b6e4)=>{const _0xa517ff=_0x18f908,_0x20d4d4=_0x30b6e4[_0xa517ff(0xb73)](),_0x5319b8=_0x23e790[_0xa517ff(0x6ac)]-_0x20d4d4[_0xa517ff(0xbe8)]-_0x20d4d4['height']/0x2;return _0x5319b8<0x0&&_0x5319b8>_0x4724bd[_0xa517ff(0x375)]?{'offset':_0x5319b8,'element':_0x30b6e4}:_0x4724bd;},{'offset':Number[_0x18f908(0x3c3)]})[_0x18f908(0xa5c)];_0x443d0e==null?_0x15deaa['appendChild'](_0x4aaf29):_0x15deaa['insertBefore'](_0x4aaf29,_0x443d0e);}),_0x15deaa['addEventListener']('drop',_0x4ed5ac=>{const _0x2faf1e=_0x5bb002;_0x4ed5ac[_0x2faf1e(0xccb)]();if(_0x4aaf29){const _0xe550af=[..._0x15deaa[_0x2faf1e(0xc76)]('.shortcut-list-item')][_0x2faf1e(0x929)](_0x555524=>_0x555524['dataset'][_0x2faf1e(0x727)]);handleShortcutOrderChange(activeShortcutTabId,_0xe550af);}}),document['querySelectorAll'](_0x5bb002(0x65d))[_0x5bb002(0x326)](_0x26f5ee=>{const _0x2b4dad=_0x5bb002;_0x26f5ee[_0x2b4dad(0x762)](_0x2b4dad(0xba1),_0x770179=>{const _0x4ca317=_0x2b4dad;_0x770179[_0x4ca317(0x3e9)]();const _0x5ab7b3=_0x770179[_0x4ca317(0xb70)][_0x4ca317(0x7e7)],_0x559f63=_0x5ab7b3[_0x4ca317(0xcbe)][_0x4ca317(0xab4)](_0x4ca317(0x8e4));document['querySelectorAll'](_0x4ca317(0x473))[_0x4ca317(0x326)](_0x36d890=>_0x36d890[_0x4ca317(0xcbe)]['add'](_0x4ca317(0x8e4))),_0x559f63&&_0x5ab7b3['classList']['remove'](_0x4ca317(0x8e4));});});}document[_0x15d57d(0x762)](_0x15d57d(0xba1),_0x48c15c=>{const _0x27df5b=_0x15d57d;!_0x48c15c[_0x27df5b(0x24a)][_0x27df5b(0x2fb)]('.group\x5c/dropdown')&&document[_0x27df5b(0xc76)](_0x27df5b(0x473))[_0x27df5b(0x326)](_0x1bb76f=>_0x1bb76f['classList'][_0x27df5b(0xa54)](_0x27df5b(0x8e4)));});async function saveShortcutConfig(){const _0x541b56=_0x15d57d,_0x1902e4=doc(db,_0x541b56(0x510),'dashboardConfig');try{await setDoc(_0x1902e4,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x55ab1e){console['error'](_0x541b56(0x58d),_0x55ab1e);}}async function handleAddShortcutTab(){const _0x24b5f6=_0x15d57d,_0x433f2c=prompt(_0x24b5f6(0xcfc),_0x24b5f6(0xd29));if(!_0x433f2c||_0x433f2c[_0x24b5f6(0xa93)]()==='')return;shortcutTabs['push']({'id':_0x24b5f6(0x74c)+Date[_0x24b5f6(0xce2)](),'name':_0x433f2c[_0x24b5f6(0xa93)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x25fbe0,_0x3b6982){const _0x24f8d9=_0x15d57d,_0x48e5e7=shortcutTabs[_0x24f8d9(0x52d)](_0x3cb0f9=>_0x3cb0f9['id']===_0x25fbe0);_0x48e5e7&&_0x3b6982[_0x24f8d9(0xa93)]()!==''&&(_0x48e5e7['name']=_0x3b6982[_0x24f8d9(0xa93)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x1c493d){const _0x2b394c=_0x15d57d,_0xf15f82=shortcutTabs[_0x2b394c(0x52d)](_0x6f442b=>_0x6f442b['id']===_0x1c493d);_0xf15f82&&!_0xf15f82[_0x2b394c(0xd34)]&&showConfirmation(_0x2b394c(0x134)+_0xf15f82['name']+_0x2b394c(0x2c4),async()=>{const _0x358a1c=_0x2b394c;shortcutTabs=shortcutTabs[_0x358a1c(0x23a)](_0x473727=>_0x473727['id']!==_0x1c493d),delete shortcutOrder[_0x1c493d];if(activeShortcutTabId===_0x1c493d)activeShortcutTabId=_0x358a1c(0xbfe);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x723e74,_0xf09e46){const _0x554675=_0x15d57d,_0xb03315=shortcutTabs[_0x554675(0x52d)](_0x485f8a=>_0x485f8a['id']===_0xf09e46);_0xb03315&&!_0xb03315[_0x554675(0x92f)][_0x554675(0x436)](_0x723e74)&&(_0xb03315[_0x554675(0x92f)][_0x554675(0xa6d)](_0x723e74),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x55f758,_0x384419){const _0x91e7c1=_0x15d57d,_0x3d4985=shortcutTabs[_0x91e7c1(0x52d)](_0x1aedb9=>_0x1aedb9['id']===_0x384419);_0x3d4985&&!_0x3d4985['isDefault']&&(_0x3d4985[_0x91e7c1(0x92f)]=_0x3d4985[_0x91e7c1(0x92f)][_0x91e7c1(0x23a)](_0x5be518=>_0x5be518!==_0x55f758),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x31e92a,_0x566c0f){shortcutOrder[_0x31e92a]=_0x566c0f,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x95ad3a=_0x15d57d,_0x47f616=document[_0x95ad3a(0x9c3)](_0x95ad3a(0xcd2)),_0x12591c=document[_0x95ad3a(0x9c3)](_0x95ad3a(0x5ce)),_0x5acad5=document[_0x95ad3a(0x9c3)](_0x95ad3a(0x26a));_0x5acad5&&_0x5acad5[_0x95ad3a(0xcbe)][_0x95ad3a(0xa54)](_0x95ad3a(0x8e4));if(!_0x47f616||!_0x12591c)return;const _0x2494a7=blueprintShortcuts[_0x95ad3a(0x411)](0x0,0x4),_0x5e0215=blueprintShortcuts[_0x95ad3a(0x411)](0x4);_0x47f616[_0x95ad3a(0x632)]=_0x2494a7[_0x95ad3a(0x929)](_0x3f09cc=>{const _0x3898c2=_0x95ad3a;let _0x1b54ad=_0x3898c2(0x8b7),_0x27e0c8='🧩';if(_0x3f09cc[_0x3898c2(0x7b3)]&&_0x3f09cc['referenceUrl'])_0x1b54ad=_0x3898c2(0xa6c),_0x27e0c8='📗';else _0x3f09cc['blueprintUrl']&&(_0x1b54ad=_0x3898c2(0x4ad),_0x27e0c8='📘');const _0x2b26fc=!_0x3f09cc['isDefault']?_0x3898c2(0xbf4)+_0x3f09cc['id']+_0x3898c2(0x9b3):'';return _0x3898c2(0xc61)+_0x3f09cc['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x1b54ad+_0x3898c2(0xadd)+_0x27e0c8+'\x20'+_0x3f09cc[_0x3898c2(0x5e1)]+_0x3898c2(0xce5)+_0x3f09cc['id']+_0x3898c2(0x5e4)+_0x2b26fc+_0x3898c2(0x2fe);})[_0x95ad3a(0xb2d)](''),_0x5e0215[_0x95ad3a(0x768)]>0x0&&(_0x47f616[_0x95ad3a(0x632)]+=_0x95ad3a(0x337)),_0x5e0215['length']>0x0?_0x12591c[_0x95ad3a(0x632)]=_0x5e0215[_0x95ad3a(0x929)](_0x503794=>{const _0x4fae67=_0x95ad3a;let _0xe4422e='🧩';if(_0x503794[_0x4fae67(0x7b3)]&&_0x503794[_0x4fae67(0xbc0)])_0xe4422e='📗';else _0x503794[_0x4fae67(0x7b3)]&&(_0xe4422e='📘');return _0x4fae67(0x567)+_0xe4422e+'\x20'+_0x503794[_0x4fae67(0x5e1)]+_0x4fae67(0x69c)+_0x503794['id']+_0x4fae67(0x20c)+_0x503794['id']+_0x4fae67(0xb87)+(!_0x503794['isDefault']?_0x4fae67(0xbf4)+_0x503794['id']+_0x4fae67(0x329):'')+_0x4fae67(0xb95);})[_0x95ad3a(0xb2d)](''):_0x12591c[_0x95ad3a(0x632)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x94f11e){const _0x56d0a6=_0x15d57d,_0xe28276=_0x94f11e[_0x56d0a6(0x260)]('.')[_0x56d0a6(0x3d9)]()[_0x56d0a6(0x630)]();switch(_0xe28276){case _0x56d0a6(0x318):return'application/pdf';case _0x56d0a6(0x8b3):return'text/plain';default:return _0x56d0a6(0x788);}}function openShortcutEditor(_0x20e23e=null){const _0x5a8eea=_0x15d57d,_0x43a3d6=document[_0x5a8eea(0x9c3)](_0x5a8eea(0x4e5)),_0x1c4dd2=document[_0x5a8eea(0x9c3)](_0x5a8eea(0x2d7)),_0x17ed63=document[_0x5a8eea(0x9c3)](_0x5a8eea(0x88c)),_0x34967f=document['getElementById']('shortcut-name-input'),_0x3b3e4c=document[_0x5a8eea(0x9c3)](_0x5a8eea(0x147)),_0x4b685d=document[_0x5a8eea(0x9c3)]('shortcut-reference-url-input');if(_0x20e23e){const _0x3ff938=blueprintShortcuts['find'](_0x5a8f05=>_0x5a8f05['id']===_0x20e23e);if(!_0x3ff938)return;_0x1c4dd2['textContent']=_0x5a8eea(0x93a),_0x17ed63[_0x5a8eea(0x3bb)]=_0x3ff938['id'],_0x34967f[_0x5a8eea(0x3bb)]=_0x3ff938[_0x5a8eea(0x5e1)],_0x3b3e4c['value']=_0x3ff938[_0x5a8eea(0x7b3)]||'',_0x4b685d[_0x5a8eea(0x3bb)]=_0x3ff938[_0x5a8eea(0xbc0)]||'';}else _0x1c4dd2['textContent']=_0x5a8eea(0x9a3),_0x17ed63[_0x5a8eea(0x3bb)]='',_0x34967f[_0x5a8eea(0x3bb)]='',_0x3b3e4c['value']='',_0x4b685d[_0x5a8eea(0x3bb)]='';_0x43a3d6[_0x5a8eea(0xcbe)][_0x5a8eea(0xa49)](_0x5a8eea(0x8e4));}async function saveShortcutChanges(){const _0x351d01=_0x15d57d,_0x2f98f7=document[_0x351d01(0x9c3)](_0x351d01(0x88c))[_0x351d01(0x3bb)],_0x43c02d=document[_0x351d01(0x9c3)](_0x351d01(0x4f0))['value'][_0x351d01(0xa93)](),_0x3abc35=document['getElementById']('shortcut-blueprint-url-input')[_0x351d01(0x3bb)][_0x351d01(0xa93)]();if(!_0x43c02d||!_0x3abc35){showMessage(_0x351d01(0x748));return;}const _0x17de62={'id':_0x2f98f7||_0x351d01(0xa24)+Date[_0x351d01(0xce2)](),'name':_0x43c02d,'blueprintUrl':_0x3abc35,'referenceUrl':document[_0x351d01(0x9c3)](_0x351d01(0xb46))['value'][_0x351d01(0xa93)](),'isDefault':_0x2f98f7['startsWith'](_0x351d01(0x84c))};let _0x399475;_0x2f98f7?_0x399475=blueprintShortcuts['map'](_0x3462ca=>_0x3462ca['id']===_0x2f98f7?_0x17de62:_0x3462ca):_0x399475=[...blueprintShortcuts,_0x17de62];try{const _0x4e5c01=doc(db,'globalSettings',_0x351d01(0xac1));await setDoc(_0x4e5c01,{'blueprintShortcuts':_0x399475},{'merge':!![]}),document[_0x351d01(0x9c3)](_0x351d01(0x4e5))[_0x351d01(0xcbe)][_0x351d01(0xa54)](_0x351d01(0x8e4));}catch(_0x12b004){console[_0x351d01(0x1c0)](_0x351d01(0x985),_0x12b004),showMessage(_0x351d01(0xd31));}}async function handleShortcutClick(_0x54b256){const _0x1fdc78=_0x15d57d,_0x21279a=blueprintShortcuts['find'](_0x10d4b6=>_0x10d4b6['id']===_0x54b256);if(!_0x21279a||!_0x21279a[_0x1fdc78(0x7b3)])return;document[_0x1fdc78(0x9c3)](_0x1fdc78(0x1da))['classList'][_0x1fdc78(0xa54)]('hidden'),document[_0x1fdc78(0x9c3)](_0x1fdc78(0xa09))['disabled']=!![];const _0x1d649e=document[_0x1fdc78(0x9c3)](_0x1fdc78(0x482)),_0x27ee2b=document[_0x1fdc78(0x9c3)]('loader-text');document[_0x1fdc78(0x9c3)](_0x1fdc78(0x7d3))[_0x1fdc78(0xcbe)][_0x1fdc78(0xa49)](_0x1fdc78(0x8e4)),document[_0x1fdc78(0x9c3)](_0x1fdc78(0x137))[_0x1fdc78(0x632)]='',_0x1d649e[_0x1fdc78(0xcbe)][_0x1fdc78(0xa49)](_0x1fdc78(0x8e4));try{_0x27ee2b[_0x1fdc78(0xafb)]=_0x1fdc78(0x8d3);const _0x2ccbf0=await fetchFileFromUrl(_0x21279a['blueprintUrl'],_0x1fdc78(0x500));let _0xc209ae=null;if(_0x21279a[_0x1fdc78(0xbc0)]){_0x27ee2b['textContent']=_0x1fdc78(0xc29);const _0xfe9a2e=_0x21279a[_0x1fdc78(0xbc0)][_0x1fdc78(0x630)]()[_0x1fdc78(0xd38)](_0x1fdc78(0x533))?_0x1fdc78(0xc87):_0x1fdc78(0x6ad);_0xc209ae=await fetchFileFromUrl(_0x21279a[_0x1fdc78(0xbc0)],_0xfe9a2e);}await handleGenerateFromBlueprintWithFiles(_0x2ccbf0,_0xc209ae);}catch(_0x3298bf){console[_0x1fdc78(0x1c0)](_0x1fdc78(0x54c),_0x3298bf),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3298bf[_0x1fdc78(0xce4)]),_0x1d649e[_0x1fdc78(0xcbe)][_0x1fdc78(0xa54)](_0x1fdc78(0x8e4));}}function getDirectDownloadUrl(_0x3da136){const _0x4b44f6=_0x15d57d,_0x150533=_0x3da136[_0x4b44f6(0x972)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x150533&&_0x150533[0x1])return _0x4b44f6(0xa7b)+_0x150533[0x1];return _0x3da136;}async function fetchFileFromUrl(_0x233838,_0x360c5b){const _0x4f418f=_0x15d57d,_0xf5fb43=getDirectDownloadUrl(_0x233838),_0x48108e=_0x4f418f(0xc71)+encodeURIComponent(_0xf5fb43),_0x5ca7a3=await fetch(_0x48108e);if(!_0x5ca7a3['ok'])throw new Error(_0x4f418f(0xbed)+_0x5ca7a3[_0x4f418f(0xc6c)]+')');const _0x550b42=await _0x5ca7a3[_0x4f418f(0x45f)](),_0x100596=await new Promise((_0x382ac1,_0x4260d2)=>{const _0x4b8da7=_0x4f418f,_0x56182a=new FileReader();_0x56182a['onloadend']=()=>_0x382ac1(new Uint8Array(_0x56182a[_0x4b8da7(0x719)])),_0x56182a[_0x4b8da7(0x1d8)]=_0x4260d2,_0x56182a[_0x4b8da7(0x9b4)](_0x550b42[_0x4b8da7(0x411)](0x0,0x4));});let _0x2d5a2e='';const _0x76382b=new TextDecoder()[_0x4f418f(0xc95)](_0x100596);return _0x76382b===_0x4f418f(0xafe)?(_0x2d5a2e=_0x4f418f(0x788),console[_0x4f418f(0xb0b)](_0x4f418f(0x347))):(_0x2d5a2e='text/plain',console['log'](_0x4f418f(0xae3))),new File([_0x550b42],_0x360c5b,{'type':_0x2d5a2e});}async function handleGenerateFromBlueprintWithFiles(_0x135c22,_0x52f6a2=null){const _0x5ea110=_0x15d57d;if(!_0x135c22){showMessage(_0x5ea110(0x527));return;}const _0x360fc0=document['getElementById'](_0x5ea110(0x482)),_0x2c6c16=document[_0x5ea110(0x9c3)](_0x5ea110(0x4a2));_0x360fc0['classList']['remove'](_0x5ea110(0x8e4)),document['getElementById']('quiz-generation-area')[_0x5ea110(0xcbe)]['remove'](_0x5ea110(0x8e4)),document[_0x5ea110(0x9c3)](_0x5ea110(0x137))['innerHTML']='';try{_0x2c6c16[_0x5ea110(0xafb)]=_0x5ea110(0x419);const _0x32cd55=await new Promise((_0x3fb626,_0x4dce3f)=>{const _0xe7a468=_0x5ea110,_0x5f5176=new FileReader();_0x5f5176['readAsDataURL'](_0x135c22),_0x5f5176[_0xe7a468(0x696)]=()=>_0x3fb626(_0x5f5176['result'][_0xe7a468(0x260)](',')[0x1]),_0x5f5176[_0xe7a468(0x1d8)]=_0x4dce3f;}),_0xc87884=[];if(_0x52f6a2){_0x2c6c16[_0x5ea110(0xafb)]=_0x5ea110(0xbe3);const _0xf5c69c=await _0x52f6a2[_0x5ea110(0xcde)]();_0xc87884['push']({'text':_0x5ea110(0x65f)+_0xf5c69c});}const _0x5584ab=[{'text':_0x5ea110(0xc38)},{'inlineData':{'mimeType':_0x135c22['type'],'data':_0x32cd55}},..._0xc87884];await handleGenerateFromBlueprint(_0x5584ab);}catch(_0x23c050){console[_0x5ea110(0x1c0)]('Error\x20in\x20generating\x20from\x20files:',_0x23c050),showMessage(_0x5ea110(0x5a0)+_0x23c050[_0x5ea110(0xce4)]),_0x360fc0[_0x5ea110(0xcbe)][_0x5ea110(0xa54)](_0x5ea110(0x8e4));}}async function handleLiveAnswer(_0x27b302,_0x3c5070){const _0x4af673=_0x15d57d;document['querySelectorAll']('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x4af673(0x326)](_0x1edd70=>_0x1edd70[_0x4af673(0x704)]=!![]);const _0x2b14e6=_0x3c5070['questionType']||currentQuizData[_0x4af673(0x434)];let _0x58a87c=![],_0x57509e=_0x27b302;if(_0x2b14e6===_0x4af673(0x31e)){const _0x113619=(_0x27b302||'')['toString']();_0x58a87c=await gradeShortAnswer(_0x113619,_0x3c5070);}else{if(_0x2b14e6==='multiple_choice')_0x58a87c=_0x27b302===_0x3c5070[_0x4af673(0xa02)];else{if(_0x2b14e6===_0x4af673(0x160)){const _0x26bb43=_0x3c5070['correctAnswer'];_0x58a87c=_0x27b302===0x0&&_0x26bb43||_0x27b302===0x1&&!_0x26bb43;}else{if(_0x2b14e6===_0x4af673(0xb59)){const _0x35dd47=_0x3c5070[_0x4af673(0x472)][_0x27b302];_0x58a87c=_0x35dd47===_0x3c5070[_0x4af673(0xbfc)],_0x57509e=_0x35dd47;}}}}const _0x7ae52a=doc(db,_0x4af673(0xc02)+appId+_0x4af673(0x41f),currentLiveGameId),_0x28072b={};_0x28072b[_0x4af673(0x52e)+currentStudentName+_0x4af673(0x658)]=!![],_0x28072b['players.'+currentStudentName+_0x4af673(0x519)]=_0x58a87c,_0x28072b[_0x4af673(0x52e)+currentStudentName+'.lastAnswerIndex']=_0x2b14e6===_0x4af673(0x31e)||_0x2b14e6===_0x4af673(0xb59)?null:_0x27b302,_0x28072b[_0x4af673(0x52e)+currentStudentName+_0x4af673(0xaa3)]=_0x57509e,_0x28072b[_0x4af673(0x52e)+currentStudentName+_0x4af673(0x984)]=serverTimestamp(),_0x28072b[_0x4af673(0x52e)+currentStudentName+'.isScored']=![],await updateDoc(_0x7ae52a,_0x28072b),liveGameView['innerHTML']=_0x4af673(0xacf);}function showAdminSummaryView(_0x18f8cf,_0x40bdaf){const _0x350455=_0x15d57d,_0x5a8341=Object[_0x350455(0x234)](_0x18f8cf[_0x350455(0x54b)]||{}),_0x34f1bc=_0x40bdaf[_0x350455(0xc6a)]||currentQuizData[_0x350455(0x434)],_0x4a0ceb=_0x34f1bc===_0x350455(0x160)?[_0x350455(0x486),_0x350455(0x5ab)]:_0x40bdaf['options']||_0x40bdaf['allResponses']||[],_0x4105cb={},_0x2222d2=new Array(_0x4a0ceb[_0x350455(0x768)])[_0x350455(0x5c2)](0x0);_0x4a0ceb[_0x350455(0x326)]((_0x5ebeae,_0x2fee63)=>{_0x4105cb[_0x2fee63]=[];}),Object[_0x350455(0xa43)](_0x18f8cf[_0x350455(0x54b)]||{})[_0x350455(0x326)](([_0x5a7a84,_0x511273])=>{const _0x586efc=_0x350455;if(_0x511273['status']==='active'&&_0x511273[_0x586efc(0x37a)]!==undefined){const _0x563667=_0x511273['lastAnswerIndex'];_0x4105cb[_0x563667]&&(_0x4105cb[_0x563667][_0x586efc(0xa6d)](_0x5a7a84),_0x2222d2[_0x563667]++);}});const _0x1bde13=Math[_0x350455(0x35d)](..._0x2222d2,0x1),_0x582af5=_0x350455(0x243)+(_0x40bdaf['stem']||_0x40bdaf[_0x350455(0xb0e)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2222d2['map']((_0x35c166,_0x384987)=>{const _0x359b8c=_0x350455,_0x536b9c=_0x4105cb[_0x384987]['length']>0x0?_0x4105cb[_0x384987]['join'](',\x20'):_0x359b8c(0xc77);let _0x1e09ab=![];if(_0x34f1bc==='multiple_choice')_0x1e09ab=_0x384987===_0x40bdaf[_0x359b8c(0xa02)];else{if(_0x34f1bc==='true_false'){const _0x5b1233=_0x40bdaf['correctAnswer'];_0x1e09ab=_0x5b1233&&_0x384987===0x0||!_0x5b1233&&_0x384987===0x1;}else _0x34f1bc==='matching_item'&&(_0x1e09ab=_0x4a0ceb[_0x384987]===_0x40bdaf['correctResponse']);}const _0x385019=_0x1e09ab?_0x359b8c(0x513):_0x359b8c(0x235);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x35c166+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x385019+_0x359b8c(0xc19)+_0x384987+_0x359b8c(0x1b6)+_0x4a0ceb[_0x384987]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x384987+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x536b9c+_0x359b8c(0x8a4);})[_0x350455(0xb2d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x350455(0x632)]=_0x582af5;if(window['MathJax'])MathJax['typesetPromise']();document['getElementById'](_0x350455(0xb7b))[_0x350455(0x762)]('click',async()=>{const _0x457f04=_0x350455,_0x180f01=doc(db,_0x457f04(0xc02)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x180f01,{'questionStatus':_0x457f04(0x3bd)});}),document[_0x350455(0x9c3)](_0x350455(0x54e))['addEventListener'](_0x350455(0xba1),()=>{openScratchpad(_0x40bdaf,_0x4a0ceb);});}function showPlayerSummaryView(_0x4d4db8,_0x154139){const _0x2c8735=_0x15d57d,_0x3e5db0=Object[_0x2c8735(0x234)](_0x4d4db8['players']||{}),_0x1898f5=_0x4d4db8[_0x2c8735(0x54b)][_0x154139],_0x4db90d=_0x3e5db0[_0x2c8735(0x23a)](_0x9f0e4c=>_0x9f0e4c[_0x2c8735(0xc6c)]===_0x2c8735(0x471))[_0x2c8735(0x65c)]((_0x561c46,_0x104f57)=>_0x104f57[_0x2c8735(0xaec)]-_0x561c46['score']),_0x3dd2fd=_0x4db90d[_0x2c8735(0xcae)](_0x1b2021=>_0x1b2021===_0x1898f5)+0x1,_0x2910a3=_0x1898f5[_0x2c8735(0x4a6)]?'ถูกต้อง!':_0x2c8735(0x8f6),_0x542b99=_0x1898f5[_0x2c8735(0x4a6)]?'bg-green-500':_0x2c8735(0x3bf),_0x5938fb=_0x1898f5['pointsLastQuestion']||0x0,_0x5a6829=_0x2c8735(0x85f),_0x3cb724=_0x2c8735(0x219)+_0x5a6829+_0x2c8735(0x323)+_0x542b99+_0x2c8735(0xa3c)+_0x2910a3+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x5938fb+_0x2c8735(0xbf0)+(_0x3dd2fd>0x0?_0x3dd2fd:'-')+_0x2c8735(0x88f);liveGameView[_0x2c8735(0x632)]=_0x3cb724;}function createQuizFromBank(){const _0x4a66eb=_0x15d57d,_0x25558e=document[_0x4a66eb(0xc76)](_0x4a66eb(0x829));if(_0x25558e[_0x4a66eb(0x768)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x1cfb7b=[];_0x25558e[_0x4a66eb(0x326)](_0x3b02f7=>{const _0x97390a=_0x4a66eb;_0x1cfb7b[_0x97390a(0xa6d)](JSON['parse'](_0x3b02f7[_0x97390a(0x3bb)]));});const _0x551005={'topic':_0x4a66eb(0x469),'questions':_0x1cfb7b};displayGeneratedQuiz(_0x551005);}function showAdminLobbyView(_0x418811,_0x3b8969){const _0xac8d4e=_0x15d57d;showView('live-game');const _0x5861dc=_0xac8d4e(0x410)+_0x3b8969+_0xac8d4e(0x769)+_0x418811+_0xac8d4e(0x6ee);liveGameView[_0xac8d4e(0x632)]=_0x5861dc,document[_0xac8d4e(0x9c3)](_0xac8d4e(0xaf3))['addEventListener'](_0xac8d4e(0xba1),async()=>{const _0x451e39=_0xac8d4e;if(!currentQuizData||!currentQuizData[_0x451e39(0xca5)]||currentQuizData[_0x451e39(0xca5)]['length']===0x0){showMessage(_0x451e39(0x1aa));return;}try{const _0x4dd60a=doc(db,'artifacts/'+appId+_0x451e39(0x41f),currentLiveGameId);await updateDoc(_0x4dd60a,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0xfef0ed=currentQuizData[_0x451e39(0xca5)][0x0],_0x1ffc66=currentQuizData[_0x451e39(0xca5)][_0x451e39(0x768)];showAdminLiveQuestionView(_0xfef0ed,0x0,_0x1ffc66);}catch(_0x36c02f){console[_0x451e39(0x1c0)](_0x451e39(0xb9d),_0x36c02f),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x27f003=_0x15d57d;if(allQuizzesGlobal[_0x27f003(0x768)]===0x0){const _0x29ec35=await getDocs(collection(db,_0x27f003(0xc02)+appId+_0x27f003(0x21e)));allQuizzesGlobal=_0x29ec35['docs'][_0x27f003(0x929)](_0x5d73ed=>({'id':_0x5d73ed['id'],..._0x5d73ed[_0x27f003(0xc5f)]()}));}renderQuizBankList(''),document['getElementById']('quiz-bank-modal')[_0x27f003(0xcbe)][_0x27f003(0xa49)](_0x27f003(0x8e4));}function renderQuizBankList(_0x1ba043='',_0x4f1e84=![]){const _0x28a652=_0x15d57d,_0x4e0c7f=document[_0x28a652(0x9c3)](_0x28a652(0x296)),_0x41af56=_0x1ba043[_0x28a652(0x630)]()[_0x28a652(0xa93)](),_0x4dbad8=allQuizzesGlobal[_0x28a652(0x929)](_0x4c2b70=>({..._0x4c2b70,'projectName':allProjects['find'](_0x26e767=>_0x26e767['id']===_0x4c2b70[_0x28a652(0x257)])?.[_0x28a652(0x5fc)]||'N/A'}))[_0x28a652(0x23a)](_0x4be1ae=>(_0x4be1ae[_0x28a652(0x294)]||'')[_0x28a652(0x630)]()[_0x28a652(0x436)](_0x41af56)||(_0x4be1ae[_0x28a652(0x5fc)]||'')[_0x28a652(0x630)]()[_0x28a652(0x436)](_0x41af56)||_0x4be1ae['id'][_0x28a652(0x771)]()[_0x28a652(0x436)](_0x41af56));document[_0x28a652(0x9c3)]('quiz-bank-count')['textContent']='('+_0x4dbad8[_0x28a652(0x768)]+_0x28a652(0x4bb),_0x4e0c7f['innerHTML']=_0x4dbad8['length']?_0x4dbad8['map'](_0xf05ac5=>{const _0x27cbf8=_0x28a652,_0x4c3e26=!_0x4f1e84?_0x27cbf8(0x676)+_0xf05ac5['id']+_0x27cbf8(0x3fb)+_0xf05ac5['id']+_0x27cbf8(0xcac)+_0xf05ac5['id']+_0x27cbf8(0x3ba)+_0xf05ac5['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xf05ac5['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xf05ac5['id']+_0x27cbf8(0xcd1)+_0xf05ac5[_0x27cbf8(0x294)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x27cbf8(0x4a0)+_0xf05ac5['id']+_0x27cbf8(0x247)+(_0xf05ac5[_0x27cbf8(0x294)]||_0x27cbf8(0x95f))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0xf05ac5[_0x27cbf8(0xca5)]?.[_0x27cbf8(0x768)]||0x0)+_0x27cbf8(0x35e)+_0xf05ac5['projectName']+_0x27cbf8(0xcd8)+_0xf05ac5['id']+_0x27cbf8(0x78c)+_0x4c3e26+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x28a652(0xb2d)](''):_0x28a652(0x85a),!_0x4f1e84&&(_0x4e0c7f[_0x28a652(0xc76)]('.quiz-bank-item')[_0x28a652(0x326)](_0x8610fc=>{const _0x147365=_0x28a652;_0x8610fc[_0x147365(0x762)](_0x147365(0xba1),()=>{const _0x29f02a=_0x147365,_0x2c3d4f=_0x8610fc[_0x29f02a(0x870)]['id'];document[_0x29f02a(0x9c3)](_0x29f02a(0x84b))['classList'][_0x29f02a(0xa54)]('hidden'),showQuizDetailView(_0x2c3d4f);});}),_0x4e0c7f[_0x28a652(0xc76)](_0x28a652(0x950))['forEach'](_0x163190=>{const _0x4956dc=_0x28a652;_0x163190[_0x4956dc(0x762)](_0x4956dc(0xba1),_0x8d1d69=>{const _0x36e7ee=_0x4956dc;_0x8d1d69[_0x36e7ee(0x3e9)]();const _0x226d19=_0x163190['dataset']['id'],_0x2119cc=allQuizzesGlobal[_0x36e7ee(0x52d)](_0x5ce0b7=>_0x5ce0b7['id']===_0x226d19);_0x2119cc?(currentQuizData=_0x2119cc,document[_0x36e7ee(0x9c3)]('quiz-bank-modal')['classList']['add'](_0x36e7ee(0x8e4)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x4e0c7f[_0x28a652(0xc76)](_0x28a652(0x792))['forEach'](_0x7420a4=>{const _0x2a47a8=_0x28a652;_0x7420a4[_0x2a47a8(0x762)](_0x2a47a8(0xba1),_0x2d1f02=>{const _0x1b0644=_0x2a47a8;_0x2d1f02['stopPropagation']();const _0x1f63cc=_0x7420a4[_0x1b0644(0x870)]['id'],_0x25b805=allQuizzesGlobal[_0x1b0644(0x52d)](_0x57855d=>_0x57855d['id']===_0x1f63cc);_0x25b805?(document[_0x1b0644(0x9c3)](_0x1b0644(0x84b))[_0x1b0644(0xcbe)][_0x1b0644(0xa54)](_0x1b0644(0x8e4)),handleGenerateParallelFromBank(_0x25b805)):showMessage(_0x1b0644(0x4a9));});}),_0x4e0c7f[_0x28a652(0xc76)](_0x28a652(0x3da))[_0x28a652(0x326)](_0x1d96b1=>{const _0x25cc9b=_0x28a652;_0x1d96b1['addEventListener'](_0x25cc9b(0xba1),_0x3b1cff=>{const _0x3faacf=_0x25cc9b;_0x3b1cff[_0x3faacf(0x3e9)]();const _0x25970a=_0x1d96b1[_0x3faacf(0x870)]['id'],_0x7c1c7c=allQuizzesGlobal[_0x3faacf(0x52d)](_0x3b2c63=>_0x3b2c63['id']===_0x25970a);_0x7c1c7c?(document[_0x3faacf(0x9c3)]('quiz-bank-modal')['classList'][_0x3faacf(0xa54)](_0x3faacf(0x8e4)),startPresentation(_0x7c1c7c)):showMessage(_0x3faacf(0x4a9));});}),_0x4e0c7f[_0x28a652(0xc76)](_0x28a652(0x73e))['forEach'](_0x535d27=>{const _0x43d0ba=_0x28a652;_0x535d27['addEventListener'](_0x43d0ba(0xba1),_0x5c4364=>{const _0x16bfc4=_0x43d0ba;_0x5c4364[_0x16bfc4(0x3e9)]();const _0x2ca813=_0x535d27[_0x16bfc4(0x870)]['id'];document[_0x16bfc4(0x9c3)](_0x16bfc4(0x84b))['classList'][_0x16bfc4(0xa54)](_0x16bfc4(0x8e4)),handleMoveQuiz(_0x2ca813);});}),_0x4e0c7f['querySelectorAll'](_0x28a652(0x850))[_0x28a652(0x326)](_0x5a5b54=>{const _0x390fcb=_0x28a652;_0x5a5b54[_0x390fcb(0x762)](_0x390fcb(0xba1),_0x45254d=>{const _0xd23734=_0x390fcb;_0x45254d[_0xd23734(0x3e9)]();const _0x305e39=_0x5a5b54[_0xd23734(0x870)]['id'];document[_0xd23734(0x9c3)]('quiz-bank-modal')[_0xd23734(0xcbe)][_0xd23734(0xa54)](_0xd23734(0x8e4)),handleQuizSettings(_0x305e39);});}),_0x4e0c7f[_0x28a652(0xc76)](_0x28a652(0x5f8))[_0x28a652(0x326)](_0x3c191=>{_0x3c191['addEventListener']('click',_0x503cd0=>{const _0x38a46d=_0x344c;_0x503cd0[_0x38a46d(0x3e9)]();const _0x444071=_0x3c191[_0x38a46d(0x870)]['id'],_0x15ef83=_0x3c191[_0x38a46d(0x870)]['topic'];showConfirmation(_0x38a46d(0xb89)+_0x15ef83+_0x38a46d(0x52a),()=>handleDeleteQuiz(_0x444071));});}));}async function handleCompareResults(_0x590a0c,_0x147b65){const _0x2d007e=_0x15d57d,_0x102f91=document[_0x2d007e(0x9c3)]('comparison-modal'),_0x245f8d=document[_0x2d007e(0x9c3)]('comparison-overall-content'),_0x13ad10=document['getElementById'](_0x2d007e(0xbde));document[_0x2d007e(0x9c3)](_0x2d007e(0x30e))['classList'][_0x2d007e(0xa54)](_0x2d007e(0x471)),document[_0x2d007e(0x9c3)](_0x2d007e(0x5dc))[_0x2d007e(0xcbe)][_0x2d007e(0xa49)]('active'),_0x245f8d[_0x2d007e(0xcbe)][_0x2d007e(0xa49)](_0x2d007e(0x8e4)),_0x13ad10[_0x2d007e(0xcbe)]['add']('hidden'),_0x245f8d[_0x2d007e(0x632)]=_0x2d007e(0x5c1),_0x13ad10[_0x2d007e(0x632)]='',_0x102f91['classList']['remove'](_0x2d007e(0x8e4));try{const _0x1d8212=doc(db,'artifacts/'+appId+_0x2d007e(0x21e),_0x590a0c),_0x424cb8=await getDoc(_0x1d8212);if(!_0x424cb8[_0x2d007e(0x6b5)]())throw new Error(_0x2d007e(0xd33));const _0x305f99=_0x424cb8[_0x2d007e(0xc5f)](),_0x3b679e=_0x305f99['questions'][_0x2d007e(0x768)],_0x471bd3=collection(db,_0x2d007e(0xc02)+appId+_0x2d007e(0x884)+_0x147b65+_0x2d007e(0x959)),_0xbfe76c=collection(db,'artifacts/'+appId+_0x2d007e(0x884)+_0x590a0c+'/submissions'),[_0x6d1655,_0x255aa9]=await Promise[_0x2d007e(0xbfe)]([getDocs(_0x471bd3),getDocs(_0xbfe76c)]),_0x6506e6=_0x6d1655[_0x2d007e(0x293)]['map'](_0x4fb57f=>_0x4fb57f[_0x2d007e(0xc5f)]()),_0x5708ca=_0x255aa9[_0x2d007e(0x293)]['map'](_0x5d21d9=>_0x5d21d9[_0x2d007e(0xc5f)]()),_0x548724=_0x6506e6['map'](_0x535ccf=>_0x535ccf['latestScore']),_0x5d01e3=_0x5708ca[_0x2d007e(0x929)](_0x664698=>_0x664698[_0x2d007e(0x879)]),_0x26d130=calculateMeanAndStdDev(_0x548724),_0x25c2c0=calculateMeanAndStdDev(_0x5d01e3),_0x3b546b=_0x26d130[_0x2d007e(0x1a3)],_0x4b9c66=_0x25c2c0[_0x2d007e(0x1a3)],_0x57c8c2=_0x4b9c66-_0x3b546b;let _0x2a6261=_0x2d007e(0x9b0)+_0x3b546b[_0x2d007e(0x7f1)](0x2)+_0x2d007e(0x6ab)+_0x4b9c66['toFixed'](0x2)+_0x2d007e(0xad5)+(_0x57c8c2>=0x0?_0x2d007e(0x83c):_0x2d007e(0x49e))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x57c8c2>=0x0?'text-emerald-800':_0x2d007e(0xa7d))+_0x2d007e(0x9a7)+(_0x57c8c2>=0x0?_0x2d007e(0x529):_0x2d007e(0x78f))+'\x22>'+(_0x57c8c2>=0x0?'+':'')+_0x57c8c2['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x245f8d[_0x2d007e(0x632)]=_0x2a6261;const _0x2e65e1=document[_0x2d007e(0x9c3)](_0x2d007e(0x942))[_0x2d007e(0x35f)]('2d');if(chartInstances[_0x2d007e(0x6d8)])chartInstances[_0x2d007e(0x6d8)][_0x2d007e(0xaee)]();chartInstances[_0x2d007e(0x6d8)]=new Chart(_0x2e65e1,{'type':_0x2d007e(0x4da),'data':{'labels':[_0x2d007e(0x42c)],'datasets':[{'label':_0x2d007e(0x9cb),'data':[_0x3b546b],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x2d007e(0x93e),'data':[_0x4b9c66],'backgroundColor':_0x2d007e(0xb29)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x3b679e}}}});const _0x1c1d6a=currentProjectData[_0x2d007e(0x535)]||[],_0x4c4271=_0x1c1d6a[_0x2d007e(0x929)](_0x1c0e96=>{const _0x27ecd0=_0x2d007e,_0x3be5ac=_0x6506e6[_0x27ecd0(0x52d)](_0x3d1340=>_0x3d1340['studentName']===_0x1c0e96),_0x2bcbd9=_0x5708ca[_0x27ecd0(0x52d)](_0x135b05=>_0x135b05['studentName']===_0x1c0e96),_0x479c0d=_0x3be5ac?_0x3be5ac[_0x27ecd0(0x879)]:null,_0x2739fe=_0x2bcbd9?_0x2bcbd9[_0x27ecd0(0x879)]:null,_0x39e176=_0x479c0d!==null&&_0x2739fe!==null?_0x2739fe-_0x479c0d:null,_0x1fde09=_0x479c0d!==null?calculateZScore(_0x479c0d,_0x26d130[_0x27ecd0(0x1a3)],_0x26d130[_0x27ecd0(0xce3)]):null,_0x47a880=_0x2739fe!==null?calculateZScore(_0x2739fe,_0x25c2c0[_0x27ecd0(0x1a3)],_0x25c2c0[_0x27ecd0(0xce3)]):null,_0x1b9d00=_0x1fde09!==null?calculateTScore(_0x1fde09):null,_0xdb4486=_0x47a880!==null?calculateTScore(_0x47a880):null,_0x1a9b25=_0x1b9d00!==null&&_0xdb4486!==null?_0xdb4486-_0x1b9d00:null;return{'name':_0x1c0e96,'preScore':_0x479c0d,'postScore':_0x2739fe,'gain':_0x39e176,'preTScore':_0x1b9d00,'postTScore':_0xdb4486,'tGain':_0x1a9b25};});renderIndividualComparisonTable(_0x4c4271,_0x13ad10);}catch(_0x5be476){console[_0x2d007e(0x1c0)](_0x2d007e(0x94b),_0x5be476),_0x245f8d['innerHTML']=_0x2d007e(0xc64);}}async function saveBlueprintProject(){const _0x38fc8b=_0x15d57d;if(!extractedBlueprintData||!extractedBlueprintData[_0x38fc8b(0xaac)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x352d18=prompt(_0x38fc8b(0xbba),_0x38fc8b(0x213));if(!_0x352d18||_0x352d18[_0x38fc8b(0xa93)]()==='')return;const _0x509338={};extractedBlueprintData['curriculum'][_0x38fc8b(0x326)](_0x5d7a9e=>{_0x5d7a9e['mainTopics']['forEach'](_0xa90be8=>{const _0x518900=_0x344c;_0xa90be8[_0x518900(0x973)][_0x518900(0x326)](_0x3191b2=>{const _0x182fc1=_0x518900,_0x5613f9=_0x182fc1(0x550)+Date['now']()+Math[_0x182fc1(0x2e8)]()[_0x182fc1(0x771)](0x24)[_0x182fc1(0xa19)](0x2,0x9);_0x509338[_0x5613f9]={'sara':_0x5d7a9e[_0x182fc1(0x2d9)],'mainTopic':_0xa90be8[_0x182fc1(0x16d)],'subTopic':_0x3191b2,'status':_0x182fc1(0x5d3),'lessonContent':null};});});});try{const _0x44ca4a=collection(db,_0x38fc8b(0xc02)+appId+_0x38fc8b(0x2ed));await addDoc(_0x44ca4a,{'projectName':_0x352d18['trim'](),'gradeLevel':extractedBlueprintData[_0x38fc8b(0x7b2)],'topics':_0x509338,'createdAt':serverTimestamp()}),showMessage(_0x38fc8b(0x7b0)+_0x352d18['trim']()+_0x38fc8b(0xa3e)),document[_0x38fc8b(0x9c3)](_0x38fc8b(0x606))[_0x38fc8b(0xcbe)]['add'](_0x38fc8b(0x8e4));}catch(_0x5a9141){console[_0x38fc8b(0x1c0)](_0x38fc8b(0xabf),_0x5a9141),showMessage(_0x38fc8b(0x2ab));}}async function showBlueprintProjects(){const _0x38e89d=_0x15d57d,_0x33a545=document[_0x38e89d(0x9c3)](_0x38e89d(0x75a)),_0x534fb8=document[_0x38e89d(0x9c3)]('blueprint-project-list');_0x534fb8['innerHTML']=_0x38e89d(0x75b),_0x33a545[_0x38e89d(0xcbe)][_0x38e89d(0xa49)](_0x38e89d(0x8e4));try{const _0x44472a=collection(db,'artifacts/'+appId+_0x38e89d(0x2ed)),_0x6e790f=await getDocs(_0x44472a);if(_0x6e790f[_0x38e89d(0x9dc)]){_0x534fb8[_0x38e89d(0x632)]=_0x38e89d(0xb5c);return;}const _0x2fa87d=_0x6e790f[_0x38e89d(0x293)][_0x38e89d(0x929)](_0x515fb9=>({'id':_0x515fb9['id'],..._0x515fb9[_0x38e89d(0xc5f)]()}));_0x2fa87d['sort']((_0x3a7f43,_0x17c800)=>_0x3a7f43['projectName'][_0x38e89d(0x49c)](_0x17c800[_0x38e89d(0x5fc)],'th')),_0x534fb8[_0x38e89d(0x632)]=_0x2fa87d[_0x38e89d(0x929)](_0x28967c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x28967c[_0x38e89d(0x5fc)]+_0x38e89d(0x8e2)+_0x28967c[_0x38e89d(0x7b2)]+_0x38e89d(0x349)+Object[_0x38e89d(0x906)](_0x28967c[_0x38e89d(0x2d3)])['length']+_0x38e89d(0x312)+_0x28967c['id']+_0x38e89d(0xbef)+_0x28967c['id']+_0x38e89d(0xabc))['join']('');}catch(_0x134196){console[_0x38e89d(0x1c0)](_0x38e89d(0x69d),_0x134196),_0x534fb8[_0x38e89d(0x632)]=_0x38e89d(0x923);}}async function displayBlueprintProjectManager(_0x4cdf62){const _0x5f1011=_0x15d57d;currentBlueprintProjectId=_0x4cdf62,document['getElementById'](_0x5f1011(0x75a))['classList'][_0x5f1011(0xa54)](_0x5f1011(0x8e4)),showView(_0x5f1011(0x964)),projectDashboardView[_0x5f1011(0xcbe)][_0x5f1011(0xa54)](_0x5f1011(0x8e4));const _0x3e20b5=document[_0x5f1011(0x9c3)](_0x5f1011(0x7b5));_0x3e20b5[_0x5f1011(0xcbe)][_0x5f1011(0xa49)](_0x5f1011(0x8e4)),document[_0x5f1011(0x9c3)](_0x5f1011(0xcd3))[_0x5f1011(0x632)]=_0x5f1011(0x5c1);try{const _0x3d3d9f=doc(db,_0x5f1011(0xc02)+appId+_0x5f1011(0x2ed),_0x4cdf62),_0x35feb0=await getDoc(_0x3d3d9f);if(!_0x35feb0['exists']())throw new Error(_0x5f1011(0x1cb));const _0x134132={'id':_0x35feb0['id'],..._0x35feb0[_0x5f1011(0xc5f)]()};document['getElementById'](_0x5f1011(0x711))[_0x5f1011(0xafb)]=_0x134132[_0x5f1011(0x5fc)],document[_0x5f1011(0x9c3)](_0x5f1011(0x538))[_0x5f1011(0x3bb)]=_0x134132[_0x5f1011(0x577)]||'',renderBlueprintTopicManager(_0x134132);}catch(_0x222589){console['error'](_0x5f1011(0x6d1),_0x222589),showMessage(_0x222589[_0x5f1011(0xce4)]),showView(_0x5f1011(0x964));}}function renderBlueprintTopicManager(_0x9f4990){const _0x44e712=_0x15d57d,_0x3b65ec=document['getElementById'](_0x44e712(0xcd3)),_0x4abd58=_0x9f4990[_0x44e712(0x2d3)]||{};if(Object[_0x44e712(0x906)](_0x4abd58)['length']===0x0){_0x3b65ec[_0x44e712(0x632)]=_0x44e712(0x7f4);return;}const _0x1f0606=Object['entries'](_0x4abd58)['map'](([_0x4f5298,_0x438a31])=>({'id':_0x4f5298,..._0x438a31}))[_0x44e712(0x65c)]((_0x3fcefd,_0x4036f2)=>(_0x3fcefd[_0x44e712(0x314)]??Infinity)-(_0x4036f2[_0x44e712(0x314)]??Infinity)),_0x2e3916={};_0x1f0606[_0x44e712(0x326)](_0xbd6c9c=>{const {sara:_0x24b1a1,mainTopic:_0x48318a}=_0xbd6c9c;!_0x2e3916[_0x24b1a1]&&(_0x2e3916[_0x24b1a1]={}),!_0x2e3916[_0x24b1a1][_0x48318a]&&(_0x2e3916[_0x24b1a1][_0x48318a]=[]),_0x2e3916[_0x24b1a1][_0x48318a]['push'](_0xbd6c9c);});let _0x5fbb07='';for(const _0x463922 in _0x2e3916){_0x5fbb07+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x463922+'</h4>';for(const _0x4f5df4 in _0x2e3916[_0x463922]){_0x5fbb07+=_0x44e712(0x16b)+_0x4f5df4+_0x44e712(0x455),_0x2e3916[_0x463922][_0x4f5df4][_0x44e712(0x326)](_0x24a621=>{const _0x743d96=_0x44e712,_0x2a294d=_0x24a621['id'],_0xa43b0=_0x24a621[_0x743d96(0x8ea)]||[],_0x2cebaf=_0xa43b0[_0x743d96(0x768)]>0x0,_0x402efa=_0x24a621['status']===_0x743d96(0xb81);let _0x311cc8='';_0x2cebaf?_0x311cc8=_0x743d96(0x9d7)+_0xa43b0[_0x743d96(0x768)]+_0x743d96(0x580):_0x311cc8=_0x743d96(0x981)+(_0x402efa?_0x743d96(0xb9e):_0x743d96(0x636))+'\x22>'+(_0x402efa?_0x743d96(0xb83):_0x743d96(0x3ac))+'</span>';const _0x9fa9bd=!_0x402efa?_0x743d96(0x5ba):'',_0x305be6=!_0x402efa?_0x743d96(0x489):'';let _0x575e65=_0x402efa?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':_0x743d96(0xa07);_0x5fbb07+=_0x743d96(0x51d)+_0x2a294d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x24a621[_0x743d96(0x667)]+_0x743d96(0xd09)+_0x311cc8+_0x743d96(0x1e2)+_0x9fa9bd+_0x743d96(0x85e)+_0x305be6+_0x743d96(0xce8)+_0x575e65+_0x743d96(0xd0d);}),_0x5fbb07+=_0x44e712(0x789);}_0x5fbb07+=_0x44e712(0x175);}_0x3b65ec[_0x44e712(0x632)]=_0x5fbb07;}async function handleDeepDeleteBlueprintProject(_0x1e69cd){const _0x5cdc0f=_0x15d57d,_0x3c8fe7=doc(db,'artifacts/'+appId+_0x5cdc0f(0x2ed),_0x1e69cd),_0x427a10=await getDoc(_0x3c8fe7);if(!_0x427a10[_0x5cdc0f(0x6b5)]()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x56040f=_0x427a10[_0x5cdc0f(0xc5f)]()[_0x5cdc0f(0x5fc)];showConfirmation(_0x5cdc0f(0xcd0)+_0x56040f+_0x5cdc0f(0x290),async()=>{const _0x429612=_0x5cdc0f;showMessage(_0x429612(0x22f));try{const _0x29a52e=writeBatch(db),_0x1d0f47=_0x427a10[_0x429612(0xc5f)](),_0x1b41ef=_0x1d0f47[_0x429612(0x2d3)]||{};for(const _0x3ffd77 in _0x1b41ef){const _0x2891fe=doc(db,'artifacts/'+appId+_0x429612(0x3c7)+_0x1e69cd+_0x429612(0xb6c),_0x3ffd77);_0x29a52e[_0x429612(0xa33)](_0x2891fe);}const _0x28a87a=new Set();for(const _0x387312 in _0x1b41ef){_0x1b41ef[_0x387312][_0x429612(0x8ea)]&&_0x1b41ef[_0x387312][_0x429612(0x8ea)]['forEach'](_0x15f535=>_0x28a87a[_0x429612(0xa54)](_0x15f535));}for(const _0x42a351 of _0x28a87a){await handleDeleteQuiz(_0x42a351,![]);}_0x29a52e['delete'](_0x3c8fe7),await _0x29a52e[_0x429612(0x281)](),showMessage(_0x429612(0x37e)+_0x56040f+_0x429612(0x32b)),showBlueprintProjects();}catch(_0x5eb788){console[_0x429612(0x1c0)](_0x429612(0xceb),_0x5eb788),showMessage(_0x429612(0x384));}});}async function openTopicQuizBank(_0xef1a18){const _0x59c261=_0x15d57d,_0x4d06be=document[_0x59c261(0x9c3)](_0x59c261(0x6f6)),_0x55b039=document[_0x59c261(0x9c3)](_0x59c261(0xa48)),_0x2071e3=document['getElementById'](_0x59c261(0x450));try{await ensureGlobalQuizzesLoaded();const _0x453b84=doc(db,_0x59c261(0xc02)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x50fd23=await getDoc(_0x453b84);if(!_0x50fd23[_0x59c261(0x6b5)]())return;const _0x4dd067=_0x50fd23['data'](),_0x3b2773=_0x4dd067[_0x59c261(0x2d3)][_0xef1a18];document[_0x59c261(0x9c3)](_0x59c261(0x31d))[_0x59c261(0xafb)]=_0x3b2773[_0x59c261(0x667)];const _0x5893dd=_0x3b2773[_0x59c261(0x8ea)]||[];_0x2071e3[_0x59c261(0xcbe)][_0x59c261(0xd50)](_0x59c261(0x8e4),_0x5893dd[_0x59c261(0x768)]===0x0),_0x2071e3[_0x59c261(0xd41)]=()=>handleClearAllLinksForTopic(_0xef1a18);if(_0x5893dd[_0x59c261(0x768)]===0x0)_0x55b039[_0x59c261(0x632)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x157b91=allQuizzesGlobal[_0x59c261(0x23a)](_0x1b3224=>_0x5893dd['includes'](_0x1b3224['id']));_0x55b039[_0x59c261(0x632)]=_0x157b91[_0x59c261(0x929)](_0x20d4f0=>_0x59c261(0x31a)+_0x20d4f0['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0x20d4f0['topic']+_0x59c261(0xb9f)+_0x20d4f0['id']+_0x59c261(0x349)+_0x20d4f0[_0x59c261(0xca5)]['length']+_0x59c261(0x5d2)+_0x20d4f0['id']+_0x59c261(0x2a8)+_0x20d4f0['id']+_0x59c261(0x554)+_0x20d4f0['id']+_0x59c261(0x878)+_0x20d4f0['id']+_0x59c261(0x4bc)+_0x20d4f0['id']+_0x59c261(0x416)+_0x20d4f0['id']+_0x59c261(0x261)+_0xef1a18+'\x22\x20data-quiz-id=\x22'+_0x20d4f0['id']+_0x59c261(0xcbc))[_0x59c261(0xb2d)]('');}document[_0x59c261(0x9c3)]('add-from-global-bank-btn')['onclick']=()=>{openQuizSelectorForBlueprint(_0xef1a18);},document[_0x59c261(0x9c3)](_0x59c261(0x749))[_0x59c261(0xd41)]=()=>_0x4d06be[_0x59c261(0xcbe)][_0x59c261(0xa54)](_0x59c261(0x8e4)),_0x4d06be[_0x59c261(0xcbe)]['remove'](_0x59c261(0x8e4));}catch(_0x4ce6b6){showMessage(_0x4ce6b6[_0x59c261(0xce4)]);}}async function openQuizSelectorForBlueprint(_0x46ab3e){const _0x5b9fc8=_0x15d57d,_0x2ff06d=document[_0x5b9fc8(0x9c3)](_0x5b9fc8(0x84b)),_0x3113bd=document['getElementById'](_0x5b9fc8(0x6f6));_0x3113bd[_0x5b9fc8(0xcbe)][_0x5b9fc8(0xa54)](_0x5b9fc8(0x8e4)),document[_0x5b9fc8(0x9c3)]('confirm-link-quiz-btn')?.[_0x5b9fc8(0xa49)]();const _0x187bbc=document[_0x5b9fc8(0x2d5)](_0x5b9fc8(0x882));_0x187bbc['id']=_0x5b9fc8(0x66c),_0x187bbc[_0x5b9fc8(0x405)]=_0x5b9fc8(0x81f),_0x187bbc[_0x5b9fc8(0xafb)]='เพิ่มรายการที่เลือก',_0x187bbc[_0x5b9fc8(0x704)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x2ff06d[_0x5b9fc8(0xcbe)][_0x5b9fc8(0xa49)](_0x5b9fc8(0x8e4)),renderQuizBankListForMultiSelect(''),document[_0x5b9fc8(0x9c3)](_0x5b9fc8(0x19d))[_0x5b9fc8(0x827)]['display']=_0x5b9fc8(0x8be),_0x2ff06d[_0x5b9fc8(0x8da)]('.flex.justify-between.items-center')[_0x5b9fc8(0x86e)](_0x187bbc);const _0x5ad2de=(_0x234ab4=![])=>{const _0x229b02=_0x5b9fc8;_0x2ff06d[_0x229b02(0xcbe)]['add'](_0x229b02(0x8e4)),document[_0x229b02(0x9c3)](_0x229b02(0x19d))[_0x229b02(0x827)][_0x229b02(0x417)]='flex',_0x187bbc[_0x229b02(0xa49)](),_0x234ab4&&openTopicQuizBank(_0x46ab3e);};_0x187bbc[_0x5b9fc8(0xd41)]=async()=>{const _0x266995=_0x5b9fc8,_0x353201=Array[_0x266995(0x657)](document['querySelectorAll']('.quiz-bank-checkbox:checked'))[_0x266995(0x929)](_0x34396f=>_0x34396f['value']);if(_0x353201['length']===0x0)return;try{const _0x4a3272=doc(db,_0x266995(0xc02)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x2f90d1=(await getDoc(_0x4a3272))[_0x266995(0xc5f)](),_0x194c2f=_0x2f90d1[_0x266995(0x2d3)][_0x46ab3e][_0x266995(0x8ea)]||[],_0x455a77=[...new Set([..._0x194c2f,..._0x353201])];await updateDoc(_0x4a3272,{[_0x266995(0x5fb)+_0x46ab3e+'.linkedQuizIds']:_0x455a77}),showMessage('เพิ่ม\x20'+_0x353201[_0x266995(0x768)]+_0x266995(0x7bb)),_0x5ad2de(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x43523f){console[_0x266995(0x1c0)](_0x266995(0x607),_0x43523f);}},document[_0x5b9fc8(0x9c3)](_0x5b9fc8(0x9ee))[_0x5b9fc8(0xd41)]=()=>_0x5ad2de(!![]);}catch(_0xa1922b){showMessage(_0xa1922b['message']),_0x3113bd[_0x5b9fc8(0xcbe)][_0x5b9fc8(0xa49)]('hidden');}}function handleClearLinkedQuiz(_0x23aa05){const _0x194158=_0x15d57d;showConfirmation(_0x194158(0x7cf),async()=>{const _0x183dbb=_0x194158;try{const _0xf42982=doc(db,'artifacts/'+appId+_0x183dbb(0x2ed),currentBlueprintProjectId);await updateDoc(_0xf42982,{[_0x183dbb(0x5fb)+_0x23aa05+_0x183dbb(0x1c6)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x490594){console[_0x183dbb(0x1c0)](_0x183dbb(0x9cf),_0x490594),showMessage(_0x183dbb(0x570));}});}async function addTopicToProject(){const _0x43b727=_0x15d57d,_0x59b9fe=prompt(_0x43b727(0x78d));if(!_0x59b9fe||_0x59b9fe[_0x43b727(0xa93)]()==='')return;const _0x394c99=prompt(_0x43b727(0x67e),_0x43b727(0x33e)),_0x2e962b=prompt(_0x43b727(0x62f),_0x43b727(0x462)),_0xf69111=_0x43b727(0x550)+Date[_0x43b727(0xce2)]()+Math['random']()[_0x43b727(0x771)](0x24)['substr'](0x2,0x9),_0x368980={'sara':_0x394c99,'mainTopic':_0x2e962b,'subTopic':_0x59b9fe[_0x43b727(0xa93)](),'status':_0x43b727(0x5d3),'lessonContent':null};try{const _0x484494=doc(db,_0x43b727(0xc02)+appId+_0x43b727(0x2ed),currentBlueprintProjectId);await updateDoc(_0x484494,{[_0x43b727(0x5fb)+_0xf69111]:_0x368980}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xf95e6d){console[_0x43b727(0x1c0)](_0x43b727(0xa9d),_0xf95e6d),showMessage(_0x43b727(0xa98));}}async function editTopicInProject(_0x358304){const _0x32a7e7=_0x15d57d,_0x518dd1=document['querySelector']('[data-topic-id=\x22'+_0x358304+'\x22]'),_0x3a5d00=_0x518dd1[_0x32a7e7(0x8da)](_0x32a7e7(0x366)),_0x34278e=_0x3a5d00['textContent'],_0x1559c6=prompt(_0x32a7e7(0x873),_0x34278e);if(!_0x1559c6||_0x1559c6[_0x32a7e7(0xa93)]()===''||_0x1559c6['trim']()===_0x34278e)return;try{const _0x181bab=doc(db,'artifacts/'+appId+_0x32a7e7(0x2ed),currentBlueprintProjectId);await updateDoc(_0x181bab,{['topics.'+_0x358304+'.subTopic']:_0x1559c6[_0x32a7e7(0xa93)]()}),_0x3a5d00[_0x32a7e7(0xafb)]=_0x1559c6[_0x32a7e7(0xa93)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x2dc0ca){console['error'](_0x32a7e7(0x595),_0x2dc0ca),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x67c84d){const _0x30fabf=_0x15d57d;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x2796b5=doc(db,_0x30fabf(0xc02)+appId+_0x30fabf(0x2ed),currentBlueprintProjectId);await updateDoc(_0x2796b5,{['topics.'+_0x67c84d]:deleteField()}),document[_0x30fabf(0x8da)]('[data-topic-id=\x22'+_0x67c84d+'\x22]')[_0x30fabf(0xa49)](),showMessage(_0x30fabf(0x23c));}catch(_0x4e4b67){console[_0x30fabf(0x1c0)](_0x30fabf(0x164),_0x4e4b67),showMessage(_0x30fabf(0x885));}}async function generateAndSaveLessonForBlueprint(_0x508a01,_0x43e1fc,_0x2203bc){handleGenerateAndShowLesson(_0x43e1fc,_0x2203bc);const _0x156dbc=setInterval(async()=>{const _0x31919a=_0x344c,_0x5b9959=document[_0x31919a(0x9c3)](_0x31919a(0x94e)),_0x40601f=_0x5b9959[_0x31919a(0xcbe)][_0x31919a(0xab4)](_0x31919a(0x8e4));if(_0x40601f){clearInterval(_0x156dbc);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x6c5c86={'point':document['getElementById'](_0x31919a(0x6c9))[_0x31919a(0x632)],'memory':document[_0x31919a(0x9c3)]('memoryContent')['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x31919a(0x9c3)](_0x31919a(0x983))[_0x31919a(0x632)]};try{const _0x298e03=doc(db,_0x31919a(0xc02)+appId+_0x31919a(0x2ed),currentBlueprintProjectId),_0x1f6bb5=doc(db,_0x31919a(0xc02)+appId+_0x31919a(0x3c7)+currentBlueprintProjectId+_0x31919a(0xb6c),_0x508a01),_0x39e490=writeBatch(db);_0x39e490[_0x31919a(0x62c)](_0x1f6bb5,{'content':_0x6c5c86}),_0x39e490[_0x31919a(0xae8)](_0x298e03,{[_0x31919a(0x5fb)+_0x508a01+'.status']:'generated'}),await _0x39e490[_0x31919a(0x281)](),console['log'](_0x31919a(0x200)+_0x508a01+_0x31919a(0x17f)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2dd037){console[_0x31919a(0x1c0)](_0x31919a(0x189),_0x2dd037);}}}},0x3e8);}function displayHalfMarkResult(_0x45ad55,_0x31e46c){const _0x2a4e03=_0x15d57d,_0x320fa5=_0x45ad55>=_0x31e46c/0x2,_0x1d6874=_0x320fa5?_0x2a4e03(0x7c3):_0x2a4e03(0x49e),_0x365969=_0x320fa5?_0x2a4e03(0xccd):_0x2a4e03(0x679),_0x20ac36=_0x320fa5?_0x2a4e03(0x512):'text-red-800',_0x38a366=_0x320fa5?'ทำคะแนนได้เกินครึ่ง':_0x2a4e03(0x864),_0x48fc62=_0x320fa5?_0x2a4e03(0x3f2):_0x2a4e03(0xad6);let _0x3db069='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x1d6874+_0x2a4e03(0x9c0)+_0x365969+_0x2a4e03(0xae0)+_0x20ac36+_0x2a4e03(0x99f)+_0x38a366+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x48fc62+_0x2a4e03(0xd47);studentResultArea[_0x2a4e03(0x632)]=_0x3db069,studentResultArea[_0x2a4e03(0xcbe)]['remove'](_0x2a4e03(0x8e4)),studentQuizArea['classList'][_0x2a4e03(0xa54)](_0x2a4e03(0x8e4)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x320fa5});}function displayPerfectScoreResult(_0x5a3786,_0xdbe6c4){const _0x5ea466=_0x15d57d,_0x1f8a63=_0x5a3786===_0xdbe6c4,_0x3857a4=_0x1f8a63?_0x5ea466(0x42f):_0x5ea466(0x63e),_0x5013e2=_0x1f8a63?_0x5ea466(0x872):_0x5ea466(0x9fa),_0x29adde=_0x1f8a63?_0x5ea466(0x14e):_0x5ea466(0x8db),_0x54c425=_0x1f8a63?_0x5ea466(0x633):_0x5ea466(0x511),_0x3d077d=_0x1f8a63?_0x5ea466(0x997):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x3b2e40='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x3857a4+_0x5ea466(0x9c0)+_0x5013e2+_0x5ea466(0xae0)+_0x29adde+_0x5ea466(0x99f)+_0x54c425+_0x5ea466(0x2b0)+_0x3d077d+_0x5ea466(0xd47);studentResultArea[_0x5ea466(0x632)]=_0x3b2e40,studentResultArea[_0x5ea466(0xcbe)][_0x5ea466(0xa49)](_0x5ea466(0x8e4)),studentQuizArea['classList'][_0x5ea466(0xa54)](_0x5ea466(0x8e4)),setupResultScreenBackButton({'showRankings':![],'score':_0x5a3786,'totalQuestions':_0xdbe6c4});}function renderIndividualComparisonTable(_0x58db27,_0x1b32d7){const _0x2912ae=_0x15d57d;_0x58db27[_0x2912ae(0x65c)]((_0x4a0b91,_0x3f5708)=>(_0x3f5708['tGain']??-Infinity)-(_0x4a0b91[_0x2912ae(0xaea)]??-Infinity));let _0x1d9f19=_0x2912ae(0x52b);_0x58db27['length']===0x0?_0x1d9f19+=_0x2912ae(0x4b7):_0x58db27['forEach']((_0x578534,_0x3f8d42)=>{const _0x3862bb=_0x2912ae;let _0x104ee2='-',_0x2c1ea9='';if(_0x578534[_0x3862bb(0x899)]!==null){const _0x4edb87=_0x578534[_0x3862bb(0x899)]>0x0?_0x3862bb(0x70f):_0x578534[_0x3862bb(0x899)]<0x0?_0x3862bb(0xa68):_0x3862bb(0x1c8),_0x53efcd=_0x578534[_0x3862bb(0x899)]>0x0?'+':'';_0x104ee2=_0x3862bb(0x378)+_0x4edb87+'\x22>'+_0x53efcd+_0x578534['gain']+'</span>';if(_0x578534[_0x3862bb(0x899)]>0x0)_0x2c1ea9='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x578534[_0x3862bb(0x899)]<0x0?_0x2c1ea9=_0x3862bb(0x2ec):_0x2c1ea9=_0x3862bb(0x88a);}let _0x33de35='-';if(_0x578534[_0x3862bb(0xaea)]!==null){const _0xb20d41=_0x578534[_0x3862bb(0xaea)]>0x0?'text-green-600':_0x578534[_0x3862bb(0xaea)]<0x0?_0x3862bb(0xa68):'text-gray-500',_0x2ade78=_0x578534[_0x3862bb(0xaea)]>0x0?'+':'';_0x33de35=_0x3862bb(0x378)+_0xb20d41+'\x22>'+_0x2ade78+_0x578534[_0x3862bb(0xaea)][_0x3862bb(0x7f1)](0x2)+_0x3862bb(0x14b);}_0x1d9f19+=_0x3862bb(0x36c)+(_0x3f8d42+0x1)+_0x3862bb(0xc3c)+_0x578534[_0x3862bb(0x5e1)]+_0x3862bb(0x8c7)+(_0x578534['preScore']??'-')+_0x3862bb(0xbdf)+(_0x578534[_0x3862bb(0xc01)]??'-')+_0x3862bb(0x8c7)+_0x104ee2+_0x3862bb(0x1e0)+_0x2c1ea9+_0x3862bb(0x961)+(_0x578534[_0x3862bb(0xc97)]?.[_0x3862bb(0x7f1)](0x2)??'-')+_0x3862bb(0x3c8)+(_0x578534[_0x3862bb(0xd40)]?.[_0x3862bb(0x7f1)](0x2)??'-')+_0x3862bb(0x8c7)+_0x33de35+_0x3862bb(0x49d);}),_0x1d9f19+=_0x2912ae(0xcb5),_0x1b32d7['innerHTML']=_0x1d9f19;}function handleRenameQuiz(_0x17072f,_0x717f07){const _0x18aa90=_0x15d57d;actionTargetId=_0x17072f,document[_0x18aa90(0x9c3)](_0x18aa90(0xd02))[_0x18aa90(0x3bb)]=_0x717f07,renameQuizModal[_0x18aa90(0xcbe)][_0x18aa90(0xa49)]('hidden');}function setupComparisonModalTabs(){const _0x2a4229=_0x15d57d,_0x4de506=document[_0x2a4229(0x9c3)](_0x2a4229(0x30e)),_0x5424fd=document[_0x2a4229(0x9c3)](_0x2a4229(0x5dc)),_0x1199cd=document[_0x2a4229(0x9c3)](_0x2a4229(0xb0f)),_0x3d221e=document[_0x2a4229(0x9c3)](_0x2a4229(0xbde));_0x4de506[_0x2a4229(0x762)](_0x2a4229(0xba1),()=>{const _0x27c907=_0x2a4229;_0x4de506[_0x27c907(0xcbe)]['add'](_0x27c907(0x471)),_0x5424fd[_0x27c907(0xcbe)][_0x27c907(0xa49)](_0x27c907(0x471)),_0x1199cd['classList'][_0x27c907(0xa49)](_0x27c907(0x8e4)),_0x3d221e[_0x27c907(0xcbe)][_0x27c907(0xa54)](_0x27c907(0x8e4));}),_0x5424fd['addEventListener'](_0x2a4229(0xba1),()=>{const _0x2d11b9=_0x2a4229;_0x5424fd[_0x2d11b9(0xcbe)][_0x2d11b9(0xa54)]('active'),_0x4de506[_0x2d11b9(0xcbe)][_0x2d11b9(0xa49)](_0x2d11b9(0x471)),_0x3d221e[_0x2d11b9(0xcbe)][_0x2d11b9(0xa49)](_0x2d11b9(0x8e4)),_0x1199cd[_0x2d11b9(0xcbe)][_0x2d11b9(0xa54)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x3212de=_0x15d57d;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x323d13=doc(db,_0x3212de(0xc02)+appId+_0x3212de(0x41f),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x323d13,_0x3ab6fb=>{const _0x514065=_0x3212de;if(!_0x3ab6fb[_0x514065(0x6b5)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x514065(0x5eb)?showView(_0x514065(0x5fd)):showView(_0x514065(0x939));return;}const _0x36d5d1=_0x3ab6fb[_0x514065(0xc5f)]();_0x36d5d1[_0x514065(0x4b5)]&&(currentQuizData=_0x36d5d1[_0x514065(0x4b5)]);!currentQuizData&&_0x36d5d1['quizId']&&((async()=>{const _0x21201c=_0x514065;try{const _0x380589=doc(db,'artifacts/'+appId+_0x21201c(0x21e),_0x36d5d1[_0x21201c(0x8c4)]),_0x235005=await getDoc(_0x380589);_0x235005[_0x21201c(0x6b5)]()&&(currentQuizData={'id':_0x235005['id'],..._0x235005[_0x21201c(0xc5f)]()});}catch(_0x49311f){console[_0x21201c(0x1c0)](_0x21201c(0x374),_0x49311f);}})());switch(_0x36d5d1[_0x514065(0xc6c)]){case'lobby':if(currentMode===_0x514065(0x5eb)){const _0x34060b=_0x36d5d1['players']?Object['entries'](_0x36d5d1[_0x514065(0x54b)]):[],_0x5500c5=_0x34060b['filter'](([_0x1b189e,_0x232a7b])=>_0x232a7b[_0x514065(0xc6c)]===_0x514065(0x471)),_0x32ad5a=document[_0x514065(0x9c3)](_0x514065(0x276));if(_0x32ad5a)_0x32ad5a[_0x514065(0xafb)]=_0x5500c5[_0x514065(0x768)];const _0x1ac5ab=document[_0x514065(0x9c3)](_0x514065(0x437));_0x1ac5ab&&(_0x1ac5ab[_0x514065(0x632)]=_0x5500c5[_0x514065(0x929)](([_0x59877b,_0x1787b7])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x59877b+_0x514065(0x71f)+_0x59877b+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x1ccc38=document[_0x514065(0x9c3)](_0x514065(0xaf3));_0x1ccc38&&(_0x1ccc38[_0x514065(0x704)]=_0x5500c5[_0x514065(0x768)]===0x0);}else showView(_0x514065(0x686)),liveGameView[_0x514065(0x632)]=_0x514065(0x40e)+currentStudentName+_0x514065(0xc30);break;case _0x514065(0x327):const _0x4c4ee3=_0x36d5d1[_0x514065(0x819)];if(currentQuizData&&currentQuizData[_0x514065(0xca5)][_0x4c4ee3]){const _0x1f011c=currentQuizData[_0x514065(0xca5)][_0x4c4ee3],_0x39a2c3=_0x36d5d1[_0x514065(0xa64)]||_0x514065(0xd4a);switch(_0x39a2c3){case _0x514065(0x830):currentMode===_0x514065(0x5eb)?showAdminSummaryView(_0x36d5d1,_0x1f011c):showPlayerSummaryView(_0x36d5d1,currentStudentName);break;case _0x514065(0x3bd):currentMode==='admin'&&showTop5LeaderboardView(_0x36d5d1);break;case _0x514065(0xd4a):default:if(currentMode==='admin'){const _0x3d2c48=writeBatch(db);let _0x3af0b5=![];Object[_0x514065(0xa43)](_0x36d5d1[_0x514065(0x54b)])[_0x514065(0x326)](([_0x69abea,_0x324bc1])=>{const _0xedc3c2=_0x514065;if(_0x324bc1['status']===_0xedc3c2(0x471)&&_0x324bc1[_0xedc3c2(0x320)]&&!_0x324bc1[_0xedc3c2(0x37f)]){_0x3af0b5=!![];const _0x598d27=_0x324bc1[_0xedc3c2(0x320)][_0xedc3c2(0xbe5)]()-_0x36d5d1[_0xedc3c2(0x540)][_0xedc3c2(0xbe5)]();let _0x5da9d4=0x0;if(_0x324bc1['lastAnswerCorrect']){const _0x33dabd=0x3e8,_0x1d4ce9=0x1f4,_0x4c0944=0x4e20;let _0x192938=_0x598d27/_0x4c0944;if(_0x192938>0x1)_0x192938=0x1;const _0x4cfb52=Math[_0xedc3c2(0xb3c)](_0x192938*_0x1d4ce9);_0x5da9d4=_0x33dabd-_0x4cfb52;}const _0x5de3d0=doc(db,'artifacts/'+appId+_0xedc3c2(0x41f),currentLiveGameId);_0x3d2c48[_0xedc3c2(0xae8)](_0x5de3d0,{[_0xedc3c2(0x52e)+_0x69abea+_0xedc3c2(0x72e)]:increment(_0x5da9d4),['players.'+_0x69abea+_0xedc3c2(0x1f4)]:_0x5da9d4,[_0xedc3c2(0x52e)+_0x69abea+_0xedc3c2(0x790)]:!![]});}});_0x3af0b5&&_0x3d2c48[_0x514065(0x281)]()[_0x514065(0x6f5)](_0x40b984=>console[_0x514065(0x1c0)]('Error\x20committing\x20score\x20updates:',_0x40b984));lastRenderedAdminQuestionIndex!==_0x4c4ee3&&(showAdminLiveQuestionView(_0x1f011c,_0x4c4ee3,currentQuizData[_0x514065(0xca5)][_0x514065(0x768)]),lastRenderedAdminQuestionIndex=_0x4c4ee3);const _0x279630=_0x36d5d1[_0x514065(0x54b)]||{},_0x4211f6=Object['values'](_0x279630)[_0x514065(0x23a)](_0x28808c=>_0x28808c[_0x514065(0xc6c)]===_0x514065(0x471)),_0x18dc7a=_0x4211f6[_0x514065(0x768)],_0x351dad=_0x4211f6[_0x514065(0x23a)](_0x36feee=>_0x36feee[_0x514065(0xc25)]===!![])[_0x514065(0x768)],_0x21f727=document['getElementById'](_0x514065(0x421));if(_0x21f727)_0x21f727[_0x514065(0xafb)]=_0x351dad+'/'+_0x18dc7a;const _0x1ec3ac=document['getElementById'](_0x514065(0xab3));if(_0x1ec3ac){let _0x308be1=Object[_0x514065(0xa43)](_0x279630)[_0x514065(0x23a)](([_0x2d92fb,_0x3c9a13])=>_0x3c9a13[_0x514065(0xc6c)]===_0x514065(0x471))[_0x514065(0x929)](([_0x59b965,_0x3f8e3d])=>{const _0x39a043=_0x514065,_0x5cf2dd=_0x3f8e3d[_0x39a043(0xc25)]===!![],_0x53d50d=_0x5cf2dd?_0x39a043(0x43b):_0x39a043(0xa73),_0x515a13=_0x5cf2dd?_0x39a043(0x218):_0x39a043(0x5d5);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x53d50d+_0x39a043(0x484)+_0x515a13+_0x39a043(0x1c4)+_0x59b965+_0x39a043(0x1f3)+_0x59b965+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x514065(0xb2d)]('');_0x1ec3ac['innerHTML']=_0x308be1||_0x514065(0x9ed);}_0x18dc7a>0x0&&_0x351dad===_0x18dc7a&&revealAnswerForAdmin(_0x4c4ee3,currentQuizData['questions'][_0x514065(0x768)]);}else{const _0x4215f0=_0x36d5d1[_0x514065(0x54b)][currentStudentName];_0x4215f0&&!_0x4215f0['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x1f011c,_0x4c4ee3,currentQuizData[_0x514065(0xca5)][_0x514065(0x768)]);}break;}}break;case _0x514065(0xb35):showPodiumView(_0x36d5d1[_0x514065(0x54b)],'live-race');break;}});}async function openGlobalActivityModal(){const _0x1323ca=_0x15d57d;if(allQuizzesGlobal[_0x1323ca(0x768)]===0x0){const _0x279bc1=await getDocs(collection(db,_0x1323ca(0xc02)+appId+_0x1323ca(0x21e)));allQuizzesGlobal=_0x279bc1[_0x1323ca(0x293)][_0x1323ca(0x929)](_0x2038bc=>({'id':_0x2038bc['id'],..._0x2038bc['data']()}));}renderGlobalActivityList(''),document[_0x1323ca(0x9c3)]('global-activity-modal')['classList'][_0x1323ca(0xa49)](_0x1323ca(0x8e4));}function renderGlobalActivityList(_0xd96675=''){const _0x4b50fd=_0x15d57d,_0x23a914=document['getElementById']('global-activity-quiz-list'),_0x481163=_0xd96675[_0x4b50fd(0x630)]()['trim'](),_0x52d20f=allQuizzesGlobal[_0x4b50fd(0x929)](_0x158447=>({..._0x158447,'projectName':allProjects[_0x4b50fd(0x52d)](_0x2b2705=>_0x2b2705['id']===_0x158447[_0x4b50fd(0x257)])?.[_0x4b50fd(0x5fc)]||_0x4b50fd(0x7d9)}))[_0x4b50fd(0x23a)](_0x46df31=>(_0x46df31[_0x4b50fd(0x294)]||'')[_0x4b50fd(0x630)]()[_0x4b50fd(0x436)](_0x481163)||(_0x46df31['projectName']||'')['toLowerCase']()['includes'](_0x481163));document[_0x4b50fd(0x9c3)]('global-quiz-count')[_0x4b50fd(0xafb)]='('+_0x52d20f['length']+_0x4b50fd(0x4bb),_0x23a914[_0x4b50fd(0x632)]=_0x52d20f[_0x4b50fd(0x768)]?_0x52d20f[_0x4b50fd(0x929)](_0x2dfc03=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x2dfc03['topic']||_0x4b50fd(0x95f))+_0x4b50fd(0xa8b)+(_0x2dfc03['questions']?.['length']||0x0)+_0x4b50fd(0x62b)+_0x2dfc03[_0x4b50fd(0x5fc)]+_0x4b50fd(0x96a)+_0x2dfc03['id']+_0x4b50fd(0x7a2)+_0x2dfc03['id']+_0x4b50fd(0x9e7)+_0x2dfc03['id']+_0x4b50fd(0xc89)+_0x2dfc03['id']+_0x4b50fd(0x7b7))[_0x4b50fd(0xb2d)](''):_0x4b50fd(0x85a);}async function handleKickPlayer(_0x3ee7b1){const _0x446f3d=_0x15d57d;if(!currentLiveGameId||!_0x3ee7b1)return;const _0x54fab5=doc(db,_0x446f3d(0xc02)+appId+'/public/data/liveGames',currentLiveGameId),_0x126642={};_0x126642[_0x446f3d(0x52e)+_0x3ee7b1+_0x446f3d(0x547)]=_0x446f3d(0xc08);try{await updateDoc(_0x54fab5,_0x126642);}catch(_0x45ab7e){console[_0x446f3d(0x1c0)]('Failed\x20to\x20kick\x20player\x20'+_0x3ee7b1+':',_0x45ab7e),showMessage(_0x446f3d(0xcc5));}}async function authenticateUser(){const _0x5c05a1=_0x15d57d;try{typeof __initial_auth_token!==_0x5c05a1(0xb13)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x244056){console[_0x5c05a1(0x1c0)](_0x5c05a1(0x81b),_0x244056),showMessage(_0x5c05a1(0x251));}}function showView(_0x27dedc){const _0x37bdf7=_0x15d57d;adminView[_0x37bdf7(0xcbe)][_0x37bdf7(0xa54)]('hidden'),studentView[_0x37bdf7(0xcbe)]['add'](_0x37bdf7(0x8e4)),projectDashboardView['classList']['add'](_0x37bdf7(0x8e4)),projectDetailView['classList'][_0x37bdf7(0xa54)](_0x37bdf7(0x8e4)),quizResultsView[_0x37bdf7(0xcbe)]['add'](_0x37bdf7(0x8e4)),liveGameView[_0x37bdf7(0xcbe)]['add'](_0x37bdf7(0x8e4)),document[_0x37bdf7(0x9c3)](_0x37bdf7(0x7b5))[_0x37bdf7(0xcbe)][_0x37bdf7(0xa54)](_0x37bdf7(0x8e4)),studentInitialView[_0x37bdf7(0xcbe)]['add'](_0x37bdf7(0x8e4)),studentJoinGameView['classList']['add'](_0x37bdf7(0x8e4)),studentNameSelectionView['classList'][_0x37bdf7(0xa54)](_0x37bdf7(0x8e4)),studentQuizArea[_0x37bdf7(0xcbe)][_0x37bdf7(0xa54)](_0x37bdf7(0x8e4)),studentResultArea[_0x37bdf7(0xcbe)][_0x37bdf7(0xa54)](_0x37bdf7(0x8e4)),studentReadingArea[_0x37bdf7(0xcbe)][_0x37bdf7(0xa54)]('hidden');const _0xc47f5f=document[_0x37bdf7(0x9c3)](_0x37bdf7(0x914)),_0x1ca89f=document[_0x37bdf7(0x9c3)](_0x37bdf7(0xc9e));if(_0xc47f5f)_0xc47f5f['classList'][_0x37bdf7(0xa54)](_0x37bdf7(0x8e4));if(_0x1ca89f)_0x1ca89f[_0x37bdf7(0xcbe)]['add']('hidden');switch(_0x27dedc){case _0x37bdf7(0x964):adminView[_0x37bdf7(0xcbe)][_0x37bdf7(0xa49)](_0x37bdf7(0x8e4)),projectDashboardView[_0x37bdf7(0xcbe)][_0x37bdf7(0xa49)](_0x37bdf7(0x8e4));break;case _0x37bdf7(0x5fd):adminView['classList'][_0x37bdf7(0xa49)]('hidden'),projectDetailView[_0x37bdf7(0xcbe)][_0x37bdf7(0xa49)]('hidden');break;case _0x37bdf7(0x5ad):adminView[_0x37bdf7(0xcbe)]['remove'](_0x37bdf7(0x8e4)),quizResultsView[_0x37bdf7(0xcbe)]['remove'](_0x37bdf7(0x8e4));break;case _0x37bdf7(0x939):studentView[_0x37bdf7(0xcbe)][_0x37bdf7(0xa49)](_0x37bdf7(0x8e4)),studentInitialView[_0x37bdf7(0xcbe)][_0x37bdf7(0xa49)](_0x37bdf7(0x8e4));break;case _0x37bdf7(0x686):liveGameView[_0x37bdf7(0xcbe)]['remove'](_0x37bdf7(0x8e4));break;case _0x37bdf7(0x34b):studentView['classList'][_0x37bdf7(0xa49)](_0x37bdf7(0x8e4));if(_0xc47f5f)_0xc47f5f[_0x37bdf7(0xcbe)][_0x37bdf7(0xa49)](_0x37bdf7(0x8e4));break;case _0x37bdf7(0xc13):studentView[_0x37bdf7(0xcbe)][_0x37bdf7(0xa49)](_0x37bdf7(0x8e4));if(_0x1ca89f)_0x1ca89f[_0x37bdf7(0xcbe)][_0x37bdf7(0xa49)](_0x37bdf7(0x8e4));break;default:studentView['classList']['remove'](_0x37bdf7(0x8e4)),studentInitialView['classList'][_0x37bdf7(0xa49)]('hidden');break;}}function showJoinGameView(){const _0x1ec734=_0x15d57d;studentInitialView[_0x1ec734(0xcbe)]['add']('hidden'),studentJoinGameView[_0x1ec734(0xcbe)]['remove']('hidden');}async function handleSaveVisibilitySettings(){const _0x3ec6d2=_0x15d57d;if(!currentProjectId)return;const _0x5e9d41=doc(db,_0x3ec6d2(0xc02)+appId+_0x3ec6d2(0x47e),currentProjectId);try{await updateDoc(_0x5e9d41,{'settings.showInStudentDashboard':document[_0x3ec6d2(0x9c3)](_0x3ec6d2(0x9f0))[_0x3ec6d2(0x57b)],'settings.isPasscodeEnabled':document['getElementById']('enable-passcode-checkbox')[_0x3ec6d2(0x57b)],'settings.passcode':document[_0x3ec6d2(0x9c3)](_0x3ec6d2(0xabd))[_0x3ec6d2(0x3bb)][_0x3ec6d2(0xa93)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x422266){console[_0x3ec6d2(0x1c0)](_0x3ec6d2(0xbd8),_0x422266),showMessage(_0x3ec6d2(0xd31));}}function setupEventListeners(){const _0xa2cdc1=_0x15d57d,_0x2ae2d6=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x426));_0x2ae2d6&&(_0x2ae2d6['addEventListener'](_0xa2cdc1(0xd42),wakeUpScreen),_0x2ae2d6[_0xa2cdc1(0x762)]('touchstart',wakeUpScreen));document['getElementById'](_0xa2cdc1(0x2d6))['addEventListener'](_0xa2cdc1(0xba1),async()=>{const _0x52a855=_0xa2cdc1;if(!currentBlueprintProjectId)return;const _0x237b6b=document[_0x52a855(0x9c3)](_0x52a855(0x538))[_0x52a855(0x3bb)][_0x52a855(0xa93)](),_0x2f82a4=doc(db,_0x52a855(0xc02)+appId+_0x52a855(0x2ed),currentBlueprintProjectId);try{await updateDoc(_0x2f82a4,{'referenceFileUrl':_0x237b6b}),showMessage(_0x52a855(0x853));}catch(_0x41c778){console['error'](_0x52a855(0x646),_0x41c778),showMessage(_0x52a855(0xd31));}}),document['getElementById']('add-parallel-shortcut-tab-btn')['addEventListener'](_0xa2cdc1(0xba1),handleAddParallelShortcutTab),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x6ed))['addEventListener'](_0xa2cdc1(0xba1),_0x566ae9=>{const _0x49f09a=_0xa2cdc1;_0x566ae9[_0x49f09a(0x24a)][_0x49f09a(0x2fb)](_0x49f09a(0x94d))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x49f09a(0x9c3)](_0x49f09a(0x7d6))[_0x49f09a(0xcbe)][_0x49f09a(0xa49)](_0x49f09a(0x8e4)));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x7a0))['addEventListener'](_0xa2cdc1(0xba1),()=>{const _0x1e03e6=_0xa2cdc1;document[_0x1e03e6(0x9c3)](_0x1e03e6(0x7d6))[_0x1e03e6(0xcbe)][_0x1e03e6(0xa54)](_0x1e03e6(0x8e4));}),document['addEventListener'](_0xa2cdc1(0xba1),_0x5008ea=>{const _0x4d3b87=_0xa2cdc1;!_0x5008ea[_0x4d3b87(0x24a)][_0x4d3b87(0x2fb)](_0x4d3b87(0xa61))&&document[_0x4d3b87(0xc76)](_0x4d3b87(0xd1c))[_0x4d3b87(0x326)](_0x329fcc=>_0x329fcc[_0x4d3b87(0xcbe)][_0x4d3b87(0xa54)](_0x4d3b87(0x8e4)));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x659))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleAddFileShortcutTab),document[_0xa2cdc1(0x9c3)]('file-input-area')['addEventListener'](_0xa2cdc1(0xba1),_0x27b2a1=>{const _0x40b4cf=_0xa2cdc1;_0x27b2a1[_0x40b4cf(0x24a)][_0x40b4cf(0x2fb)](_0x40b4cf(0x24c))&&(activeFileShortcutTabId=_0x40b4cf(0xbfe),renderAdditionalFileShortcutsModal(),document['getElementById'](_0x40b4cf(0x6e1))['classList'][_0x40b4cf(0xa49)](_0x40b4cf(0x8e4)));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xad1))['addEventListener'](_0xa2cdc1(0xba1),()=>{const _0x2eacf9=_0xa2cdc1;document['getElementById']('additional-file-shortcuts-modal')[_0x2eacf9(0xcbe)][_0x2eacf9(0xa54)](_0x2eacf9(0x8e4));}),document[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x18af30=>{const _0x5a111a=_0xa2cdc1;!_0x18af30[_0x5a111a(0x24a)]['closest']('.group\x5c/dropdown-file')&&document[_0x5a111a(0xc76)]('.move-file-shortcut-dropdown')[_0x5a111a(0x326)](_0x2b32af=>_0x2b32af[_0x5a111a(0xcbe)][_0x5a111a(0xa54)](_0x5a111a(0x8e4)));}),document[_0xa2cdc1(0x9c3)]('add-shortcut-tab-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleAddShortcutTab),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x80e))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x17ad15=>{const _0x5cf205=_0xa2cdc1,_0x306544=_0x17ad15[_0x5cf205(0x24a)][_0x5cf205(0x2fb)](_0x5cf205(0xcec)),_0x3c364a=_0x17ad15[_0x5cf205(0x24a)]['closest'](_0x5cf205(0x292)),_0x12306c=_0x17ad15[_0x5cf205(0x24a)][_0x5cf205(0x2fb)]('.delete-parallel-shortcut-btn');if(_0x3c364a)openParallelTestShortcutEditor(_0x3c364a[_0x5cf205(0x870)]['id']);else{if(_0x12306c){const _0x1d0e14=_0x12306c['dataset']['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x1fb94e=_0x5cf205,_0x5e86fe=parallelTestShortcuts['filter'](_0x2d15cf=>_0x2d15cf['id']!==_0x1d0e14),_0x39b07e=doc(db,_0x1fb94e(0x510),_0x1fb94e(0x993));await setDoc(_0x39b07e,{'shortcuts':_0x5e86fe},{'merge':!![]});});}else _0x306544&&handleParallelTestShortcutClick(_0x306544[_0x5cf205(0x870)]['id']);}}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x863))['addEventListener'](_0xa2cdc1(0xba1),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0xa2cdc1(0x652))['addEventListener'](_0xa2cdc1(0xba1),()=>{const _0x2b0536=_0xa2cdc1;document[_0x2b0536(0x9c3)](_0x2b0536(0x8fc))['classList'][_0x2b0536(0xa54)](_0x2b0536(0x8e4));}),document[_0xa2cdc1(0x9c3)]('save-parallel-shortcut-btn')[_0xa2cdc1(0x762)]('click',saveParallelTestShortcutChanges),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x6ed))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x1244a0=>{const _0x14847a=_0xa2cdc1;_0x1244a0[_0x14847a(0x24a)][_0x14847a(0x2fb)](_0x14847a(0x94d))&&document[_0x14847a(0x9c3)](_0x14847a(0x7d6))[_0x14847a(0xcbe)][_0x14847a(0xa49)]('hidden');}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x7a0))[_0xa2cdc1(0x762)]('click',()=>{const _0x2d3318=_0xa2cdc1;document[_0x2d3318(0x9c3)]('additional-parallel-shortcuts-modal')['classList'][_0x2d3318(0xa54)]('hidden');}),document['getElementById']('additional-parallel-shortcuts-list')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x3c6074=>{const _0x343bf9=_0xa2cdc1,_0x1f7639=document[_0x343bf9(0x9c3)](_0x343bf9(0x7d6)),_0x3e123f=_0x3c6074['target'][_0x343bf9(0x2fb)](_0x343bf9(0xa27)),_0x5acc36=_0x3c6074[_0x343bf9(0x24a)][_0x343bf9(0x2fb)]('.edit-hidden-parallel-shortcut-btn'),_0x3fb010=_0x3c6074[_0x343bf9(0x24a)][_0x343bf9(0x2fb)](_0x343bf9(0x881));if(_0x3e123f)_0x1f7639['classList'][_0x343bf9(0xa54)](_0x343bf9(0x8e4)),handleParallelTestShortcutClick(_0x3e123f[_0x343bf9(0x870)]['id']);else{if(_0x5acc36)_0x1f7639[_0x343bf9(0xcbe)][_0x343bf9(0xa54)](_0x343bf9(0x8e4)),openParallelTestShortcutEditor(_0x5acc36[_0x343bf9(0x870)]['id']);else{if(_0x3fb010){const _0x91570a=_0x3fb010[_0x343bf9(0x870)]['id'];showConfirmation(_0x343bf9(0x740),async()=>{const _0x216e8a=_0x343bf9,_0xa32d90=parallelTestShortcuts['filter'](_0x50374c=>_0x50374c['id']!==_0x91570a),_0x17dfb1=doc(db,'globalSettings',_0x216e8a(0x993));await setDoc(_0x17dfb1,{'shortcuts':_0xa32d90},{'merge':!![]});});}}}}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xb21))['addEventListener'](_0xa2cdc1(0xba1),_0x2e3c02=>{const _0xb1d115=_0xa2cdc1,_0x1e8bf2=_0x2e3c02[_0xb1d115(0x24a)][_0xb1d115(0x2fb)](_0xb1d115(0x6eb)),_0x4a865b=_0x2e3c02[_0xb1d115(0x24a)][_0xb1d115(0x2fb)](_0xb1d115(0x745)),_0x11744a=_0x2e3c02[_0xb1d115(0x24a)][_0xb1d115(0x2fb)]('.delete-file-shortcut-btn');if(_0x4a865b)openFileShortcutEditor(_0x4a865b[_0xb1d115(0x870)]['id']);else{if(_0x11744a){const _0x44fe43=_0x11744a[_0xb1d115(0x870)]['id'];showConfirmation(_0xb1d115(0x740),async()=>{const _0x3276ea=_0xb1d115,_0xc8b3b8=fileShortcuts['filter'](_0x465bb1=>_0x465bb1['id']!==_0x44fe43),_0x3ace3a=doc(db,'globalSettings',_0x3276ea(0x171));await setDoc(_0x3ace3a,{'shortcuts':_0xc8b3b8},{'merge':!![]});});}else _0x1e8bf2&&handleFileShortcutClick(_0x1e8bf2[_0xb1d115(0x870)]['id']);}}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x5fa))[_0xa2cdc1(0x762)]('click',()=>openFileShortcutEditor(null)),document['getElementById']('cancel-file-shortcut-edit-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x294439=_0xa2cdc1;document[_0x294439(0x9c3)](_0x294439(0x77c))[_0x294439(0xcbe)][_0x294439(0xa54)](_0x294439(0x8e4));}),document['getElementById']('save-file-shortcut-btn')['addEventListener'](_0xa2cdc1(0xba1),saveFileShortcutChanges),document['getElementById'](_0xa2cdc1(0x916))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x38903f=>{const _0x39d430=_0xa2cdc1;_0x38903f[_0x39d430(0x24a)][_0x39d430(0x2fb)](_0x39d430(0x24c))&&document[_0x39d430(0x9c3)](_0x39d430(0x6e1))[_0x39d430(0xcbe)][_0x39d430(0xa49)](_0x39d430(0x8e4));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xad1))[_0xa2cdc1(0x762)]('click',()=>{const _0x5c9a95=_0xa2cdc1;document[_0x5c9a95(0x9c3)]('additional-file-shortcuts-modal')['classList'][_0x5c9a95(0xa54)](_0x5c9a95(0x8e4));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xc0e))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x413956=>{const _0x239d47=_0xa2cdc1,_0x10b76c=document[_0x239d47(0x9c3)](_0x239d47(0x6e1)),_0x298833=_0x413956['target'][_0x239d47(0x2fb)]('.use-hidden-file-shortcut-btn'),_0x570425=_0x413956[_0x239d47(0x24a)][_0x239d47(0x2fb)](_0x239d47(0xcaa)),_0x1a8197=_0x413956[_0x239d47(0x24a)][_0x239d47(0x2fb)](_0x239d47(0xc12));if(_0x298833)_0x10b76c['classList']['add'](_0x239d47(0x8e4)),handleFileShortcutClick(_0x298833[_0x239d47(0x870)]['id']);else{if(_0x570425)_0x10b76c['classList']['add'](_0x239d47(0x8e4)),openFileShortcutEditor(_0x570425[_0x239d47(0x870)]['id']);else{if(_0x1a8197){const _0x4d6891=_0x1a8197[_0x239d47(0x870)]['id'];showConfirmation(_0x239d47(0x740),async()=>{const _0x615497=_0x239d47,_0x1cb7a5=fileShortcuts[_0x615497(0x23a)](_0x31e66f=>_0x31e66f['id']!==_0x4d6891),_0x48342f=doc(db,_0x615497(0x510),'fileShortcutsConfig');await setDoc(_0x48342f,{'shortcuts':_0x1cb7a5},{'merge':!![]});});}}}}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x681))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x2bcabe=>{const _0x5e0699=_0xa2cdc1;_0x2bcabe[_0x5e0699(0x24a)][_0x5e0699(0x2fb)](_0x5e0699(0xa9f))&&(activeShortcutTabId=_0x5e0699(0xbfe),renderAdditionalShortcutsModal(),document[_0x5e0699(0x9c3)](_0x5e0699(0x3e2))[_0x5e0699(0xcbe)][_0x5e0699(0xa49)](_0x5e0699(0x8e4)));}),document['getElementById']('close-additional-shortcuts-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x1b7315=_0xa2cdc1;document[_0x1b7315(0x9c3)](_0x1b7315(0x3e2))[_0x1b7315(0xcbe)][_0x1b7315(0xa54)](_0x1b7315(0x8e4));}),document['getElementById'](_0xa2cdc1(0x5ce))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0xad8cca=>{const _0x5897d6=_0xa2cdc1,_0xc9d1=_0xad8cca[_0x5897d6(0x24a)][_0x5897d6(0x2fb)]('.use-hidden-shortcut-btn'),_0x33f7bb=_0xad8cca['target']['closest']('.edit-hidden-shortcut-btn'),_0x4455d3=_0xad8cca[_0x5897d6(0x24a)][_0x5897d6(0x2fb)]('.delete-hidden-shortcut-btn'),_0x39107e=document[_0x5897d6(0x9c3)](_0x5897d6(0x3e2));if(_0xc9d1)_0x39107e[_0x5897d6(0xcbe)]['add'](_0x5897d6(0x8e4)),handleShortcutClick(_0xc9d1[_0x5897d6(0x870)]['id']);else{if(_0x33f7bb)_0x39107e['classList'][_0x5897d6(0xa54)](_0x5897d6(0x8e4)),openShortcutEditor(_0x33f7bb[_0x5897d6(0x870)]['id']);else{if(_0x4455d3){const _0x2bba28=_0x4455d3[_0x5897d6(0x870)]['id'],_0x5cfc57=blueprintShortcuts[_0x5897d6(0x52d)](_0x39e595=>_0x39e595['id']===_0x2bba28)?.[_0x5897d6(0x5e1)];showConfirmation(_0x5897d6(0x3ae)+_0x5cfc57+'\x22?',async()=>{const _0x9780a6=_0x5897d6,_0x584cd5=blueprintShortcuts[_0x9780a6(0x23a)](_0x3e349e=>_0x3e349e['id']!==_0x2bba28);try{const _0x180c59=doc(db,_0x9780a6(0x510),_0x9780a6(0xac1));await setDoc(_0x180c59,{'blueprintShortcuts':_0x584cd5},{'merge':!![]});}catch(_0x416b3b){console[_0x9780a6(0x1c0)]('Error\x20deleting\x20shortcut:',_0x416b3b);}});}}}}),document[_0xa2cdc1(0x9c3)]('blueprint-shortcut-container')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x56f541=>{const _0x40db22=_0xa2cdc1,_0x139da3=_0x56f541[_0x40db22(0x24a)][_0x40db22(0x2fb)](_0x40db22(0x412)),_0x1dfca2=_0x56f541[_0x40db22(0x24a)][_0x40db22(0x2fb)](_0x40db22(0xa12)),_0x415c15=_0x56f541[_0x40db22(0x24a)]['closest'](_0x40db22(0x6b1));if(_0x1dfca2)openShortcutEditor(_0x1dfca2[_0x40db22(0x870)]['id']);else{if(_0x415c15){const _0x1798e8=_0x415c15[_0x40db22(0x870)]['id'],_0x313c8f=blueprintShortcuts['find'](_0x41f566=>_0x41f566['id']===_0x1798e8)?.[_0x40db22(0x5e1)];showConfirmation(_0x40db22(0x3ae)+_0x313c8f+'\x22?',async()=>{const _0x54a717=_0x40db22,_0xba68bc=blueprintShortcuts['filter'](_0x4c419d=>_0x4c419d['id']!==_0x1798e8);try{const _0x29abd7=doc(db,_0x54a717(0x510),_0x54a717(0xac1));await setDoc(_0x29abd7,{'blueprintShortcuts':_0xba68bc},{'merge':!![]});}catch(_0x55470f){console[_0x54a717(0x1c0)](_0x54a717(0x8cc),_0x55470f);}});}else _0x139da3&&handleShortcutClick(_0x139da3[_0x40db22(0x870)]['id']);}}),document[_0xa2cdc1(0x9c3)]('add-shortcut-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>openShortcutEditor(null)),document['getElementById'](_0xa2cdc1(0x975))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x3f0646=_0xa2cdc1;document[_0x3f0646(0x9c3)](_0x3f0646(0x4e5))[_0x3f0646(0xcbe)]['add'](_0x3f0646(0x8e4));}),document['getElementById'](_0xa2cdc1(0x9d8))[_0xa2cdc1(0x762)]('click',saveShortcutChanges),document['getElementById'](_0xa2cdc1(0xa09))[_0xa2cdc1(0x762)]('click',async()=>{const _0x3dbdfe=_0xa2cdc1,_0x2faff3=document[_0x3dbdfe(0x9c3)](_0x3dbdfe(0x36b)),_0xdb4079=document[_0x3dbdfe(0x9c3)](_0x3dbdfe(0x90a));_0x2faff3[_0x3dbdfe(0xbe9)][_0x3dbdfe(0x768)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x2faff3[_0x3dbdfe(0xbe9)][0x0],_0xdb4079[_0x3dbdfe(0xbe9)][0x0]||null):showMessage(_0x3dbdfe(0x6f2));}),document[_0xa2cdc1(0x9c3)]('topic-quiz-bank-modal')[_0xa2cdc1(0x762)]('click',async _0x41291=>{const _0x1ab7be=_0xa2cdc1,_0x11a36a=document[_0x1ab7be(0x9c3)](_0x1ab7be(0x6f6)),_0x2dad7b=_0x41291['target'][_0x1ab7be(0x2fb)](_0x1ab7be(0xc47)),_0x1cf28d=_0x41291[_0x1ab7be(0x24a)][_0x1ab7be(0x2fb)](_0x1ab7be(0x350)),_0x35f1a4=_0x41291['target']['closest'](_0x1ab7be(0xb5f)),_0x41358a=_0x41291['target']['closest'](_0x1ab7be(0x568)),_0x2902f8=_0x41291[_0x1ab7be(0x24a)][_0x1ab7be(0x2fb)](_0x1ab7be(0x364)),_0x5ec798=_0x41291[_0x1ab7be(0x24a)][_0x1ab7be(0x2fb)]('.bp-game-btn');if(_0x2dad7b){cameFromBlueprint=!![];const _0x573842=_0x2dad7b['dataset']['quizId'];showQuizDetailView(_0x573842),_0x11a36a[_0x1ab7be(0xcbe)][_0x1ab7be(0xa54)](_0x1ab7be(0x8e4));}else{if(_0x1cf28d){const _0x23bbc2=_0x1cf28d[_0x1ab7be(0x870)]['topicId'],_0x3a2668=_0x1cf28d[_0x1ab7be(0x870)][_0x1ab7be(0x8c4)],_0xae709a=allQuizzesGlobal['find'](_0xef3e41=>_0xef3e41['id']===_0x3a2668),_0x409485=_0xae709a?_0xae709a[_0x1ab7be(0x294)]:_0x1ab7be(0x7fc);showConfirmation(_0x1ab7be(0x8b5)+_0x409485+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x1f3ca0=_0x1ab7be;try{const _0x5a8b47=doc(db,_0x1f3ca0(0xc02)+appId+_0x1f3ca0(0x2ed),currentBlueprintProjectId);await updateDoc(_0x5a8b47,{[_0x1f3ca0(0x5fb)+_0x23bbc2+_0x1f3ca0(0xd45)]:arrayRemove(_0x3a2668)}),showMessage(_0x1f3ca0(0x316)),openTopicQuizBank(_0x23bbc2),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5e47f4){console[_0x1f3ca0(0x1c0)](_0x1f3ca0(0xc72),_0x5e47f4),showMessage(_0x1f3ca0(0x398));}});}else{if(_0x35f1a4){cameFromBlueprint=!![];const _0x33e39b=_0x35f1a4[_0x1ab7be(0x870)]['quizId'],_0x227c59=allQuizzesGlobal[_0x1ab7be(0x52d)](_0x1310dd=>_0x1310dd['id']===_0x33e39b);_0x227c59&&(startPresentation(_0x227c59),_0x11a36a['classList']['add'](_0x1ab7be(0x8e4)));}else{if(_0x41358a){cameFromBlueprint=!![];const _0x2ff01f=_0x41358a[_0x1ab7be(0x870)]['quizId'],_0x31f894=allQuizzesGlobal[_0x1ab7be(0x52d)](_0x4a0ecf=>_0x4a0ecf['id']===_0x2ff01f);_0x31f894&&(currentQuizData=_0x31f894,startAdminTest(),_0x11a36a[_0x1ab7be(0xcbe)][_0x1ab7be(0xa54)](_0x1ab7be(0x8e4)));}else{if(_0x2902f8)cameFromBlueprint=!![],handleStartLiveRace(_0x2902f8[_0x1ab7be(0x870)][_0x1ab7be(0x8c4)]),_0x11a36a['classList'][_0x1ab7be(0xa54)](_0x1ab7be(0x8e4));else{if(_0x5ec798){cameFromBlueprint=!![];const _0x296010=_0x5ec798[_0x1ab7be(0x870)][_0x1ab7be(0x8c4)],_0x49de14=_0x5ec798[_0x1ab7be(0x870)][_0x1ab7be(0x18f)],_0x184b28=allQuizzesGlobal[_0x1ab7be(0x52d)](_0x341c7a=>_0x341c7a['id']===_0x296010);_0x184b28&&(showGameStartConfirmationModal(_0x296010,_0x49de14,_0x184b28['topic']),_0x11a36a['classList'][_0x1ab7be(0xa54)](_0x1ab7be(0x8e4)));}}}}}}}),document['getElementById'](_0xa2cdc1(0x25f))[_0xa2cdc1(0x762)]('click',()=>{const _0x474fab=_0xa2cdc1;document['getElementById'](_0x474fab(0x99c))[_0x474fab(0xcbe)][_0x474fab(0xa49)](_0x474fab(0x8e4)),document['getElementById'](_0x474fab(0x2b6))[_0x474fab(0x3bb)]='',document['getElementById'](_0x474fab(0x1fd))[_0x474fab(0x3bb)]='',document[_0x474fab(0x9c3)](_0x474fab(0x702))[_0x474fab(0x3bb)]='';}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x480))['addEventListener'](_0xa2cdc1(0xba1),()=>{const _0x271f0b=_0xa2cdc1;document[_0x271f0b(0x9c3)]('manual-blueprint-modal')['classList'][_0x271f0b(0xa54)](_0x271f0b(0x8e4));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x2f8))['addEventListener']('click',handleManualBlueprintSave),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x17a))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xb00))[_0xa2cdc1(0xcbe)][_0xa2cdc1(0xa54)]('hidden')),document['getElementById']('save-bp-settings-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleSaveBlueprintPageSettings),document[_0xa2cdc1(0x9c3)]('bp-quiz-settings-btn')['addEventListener'](_0xa2cdc1(0xba1),openBlueprintQuizSettings),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x606))[_0xa2cdc1(0x762)]('click',saveBlueprintProject),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x145))['addEventListener'](_0xa2cdc1(0xba1),showBlueprintProjects),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x707))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x1c1d66=_0xa2cdc1;document[_0x1c1d66(0x9c3)](_0x1c1d66(0x75a))['classList'][_0x1c1d66(0xa54)](_0x1c1d66(0x8e4));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xbd5))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x252ced=>{const _0x37c643=_0xa2cdc1,_0x4b7966=_0x252ced[_0x37c643(0x24a)]['closest'](_0x37c643(0xd28)),_0x503470=_0x252ced[_0x37c643(0x24a)][_0x37c643(0x2fb)](_0x37c643(0x737));if(_0x4b7966)displayBlueprintProjectManager(_0x4b7966[_0x37c643(0x870)]['id']);else _0x503470&&handleDeepDeleteBlueprintProject(_0x503470[_0x37c643(0x870)]['id']);}),document['getElementById']('back-to-dashboard-from-bp-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x1c08b1=_0xa2cdc1;currentBlueprintProjectId=null,currentProjectId=null,document[_0x1c08b1(0x9c3)](_0x1c08b1(0x7b5))['classList'][_0x1c08b1(0xa54)]('hidden'),showView(_0x1c08b1(0x964));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x5f4))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),addTopicToProject),document[_0xa2cdc1(0x9c3)]('bp-topic-list-container')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),async _0x4b4c30=>{const _0x5655f3=_0xa2cdc1,_0x4f547c=_0x4b4c30[_0x5655f3(0x24a)][_0x5655f3(0x2fb)](_0x5655f3(0x589));if(!_0x4f547c)return;const _0x4d53ae=_0x4f547c[_0x5655f3(0x870)]['topicId'],_0x5b74b7=_0x4b4c30[_0x5655f3(0x24a)][_0x5655f3(0x2fb)](_0x5655f3(0xc94)),_0x1e3704=_0x4b4c30[_0x5655f3(0x24a)]['closest']('.bp-create-content-quiz-btn'),_0x132c60=_0x4b4c30[_0x5655f3(0x24a)][_0x5655f3(0x2fb)](_0x5655f3(0x75f)),_0x21d5be=_0x4b4c30[_0x5655f3(0x24a)]['closest'](_0x5655f3(0x1b1)),_0x2f49e4=_0x4b4c30['target'][_0x5655f3(0x2fb)](_0x5655f3(0x807)),_0x407ea4=_0x4b4c30[_0x5655f3(0x24a)][_0x5655f3(0x2fb)]('.bp-generate-lesson-btn'),_0x2b0e4d=_0x4b4c30[_0x5655f3(0x24a)]['closest'](_0x5655f3(0x298)),_0xf2ca2a=_0x4b4c30[_0x5655f3(0x24a)][_0x5655f3(0x2fb)](_0x5655f3(0x877)),_0x450c43=_0x26b84a=>{const _0xa11ecb=_0x5655f3,_0xa41e5b=_0x26b84a[_0xa11ecb(0x8da)](_0xa11ecb(0x366))[_0xa11ecb(0xafb)][_0xa11ecb(0xa93)](),_0x140db9=_0x26b84a[_0xa11ecb(0x2fb)](_0xa11ecb(0x3d4))[_0xa11ecb(0xc06)],_0x1c53ac=_0x140db9?_0x140db9[_0xa11ecb(0xafb)][_0xa11ecb(0xa93)]():'';return _0x1c53ac+':\x20'+_0xa41e5b;};if(_0x21d5be)openTopicQuizBank(_0x4d53ae);else{if(_0x5b74b7){const _0x3eb4e1=_0x450c43(_0x4f547c);selectProjectAndGenerateBlueprintQuiz(_0x3eb4e1,null,_0x4d53ae,!![]);}else{if(_0x1e3704){const _0x8b6d3f=_0x450c43(_0x4f547c);try{const _0x1dab3a=doc(db,_0x5655f3(0xc02)+appId+_0x5655f3(0x3c7)+currentBlueprintProjectId+_0x5655f3(0xb6c),_0x4d53ae),_0x5a0093=await getDoc(_0x1dab3a);if(_0x5a0093[_0x5655f3(0x6b5)]()){const _0x8f6397=_0x5a0093[_0x5655f3(0xc5f)]()[_0x5655f3(0xa30)],_0x362bc2=document['createElement'](_0x5655f3(0xa53)),_0x425a06=_0x519e17=>{const _0x39c876=_0x5655f3;if(!_0x519e17)return'';return _0x362bc2[_0x39c876(0x632)]=_0x519e17,_0x362bc2[_0x39c876(0xafb)]||_0x362bc2[_0x39c876(0x263)]||'';},_0x48c65b=(_0x425a06(_0x8f6397[_0x5655f3(0x3ef)])+'\x20'+_0x425a06(_0x8f6397[_0x5655f3(0xb7e)])+'\x20'+_0x425a06(_0x8f6397[_0x5655f3(0x8a2)]))[_0x5655f3(0xa93)]();selectProjectAndGenerateBlueprintQuiz(_0x8b6d3f,_0x48c65b,_0x4d53ae,![]);}else showMessage(_0x5655f3(0xa75));}catch(_0x2e2b75){console['error'](_0x5655f3(0xa60),_0x2e2b75),showMessage(_0x5655f3(0x177));}}else{if(_0x132c60){const _0xb25ee4=_0x450c43(_0x4f547c);selectProjectAndGenerateBlueprintQuiz(_0xb25ee4,null,_0x4d53ae,![]);}else{if(_0x2f49e4){const _0x4e4a3b=doc(db,_0x5655f3(0xc02)+appId+_0x5655f3(0x2ed),currentBlueprintProjectId),_0x12cc2b=await getDoc(_0x4e4a3b);if(_0x12cc2b['exists']()){const _0x77d5e=_0x12cc2b['data'](),_0x2267ec=_0x77d5e[_0x5655f3(0x2d3)][_0x4d53ae];if(_0x2267ec&&_0x2267ec['status']===_0x5655f3(0xb81))try{const _0x13813c=doc(db,_0x5655f3(0xc02)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x5655f3(0xb6c),_0x4d53ae),_0x151f72=await getDoc(_0x13813c);if(_0x151f72[_0x5655f3(0x6b5)]()){const _0x41aebc=_0x151f72[_0x5655f3(0xc5f)]()[_0x5655f3(0xa30)];document[_0x5655f3(0x9c3)](_0x5655f3(0x941))[_0x5655f3(0xafb)]=_0x5655f3(0x4a5)+_0x450c43(_0x4f547c),document['getElementById'](_0x5655f3(0x6c9))[_0x5655f3(0x632)]=_0x41aebc['point'],document[_0x5655f3(0x9c3)](_0x5655f3(0xaf2))['innerHTML']=_0x41aebc[_0x5655f3(0xb7e)],document[_0x5655f3(0x9c3)]('summaryContent')[_0x5655f3(0x632)]=_0x41aebc['summary'];const _0x11812e=document[_0x5655f3(0x9c3)](_0x5655f3(0xb1e));_0x41aebc['applicationData']?(currentApplicationData=_0x41aebc[_0x5655f3(0x3e1)],_0x11812e[_0x5655f3(0x632)]=currentApplicationData['map']((_0x5834b4,_0x35b7c5)=>_0x5655f3(0x28d)+(_0x35b7c5+0x1)+'.\x20'+marked[_0x5655f3(0x8cb)](_0x5834b4['question'])+_0x5655f3(0x3d6)+_0x35b7c5+_0x5655f3(0x9f1)+_0x5834b4[_0x5655f3(0x78a)][_0x5655f3(0x929)]((_0x3e4047,_0x1f8d6b)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x35b7c5+',\x20'+_0x1f8d6b+_0x5655f3(0x76c)+String[_0x5655f3(0x7e3)](0x61+_0x1f8d6b)+'.\x20'+marked[_0x5655f3(0x8cb)](_0x3e4047)+_0x5655f3(0xa36))[_0x5655f3(0xb2d)]('')+'</div></div>')['join']('')):(currentApplicationData=[],_0x11812e[_0x5655f3(0x632)]=_0x41aebc[_0x5655f3(0xb17)]||_0x41aebc[_0x5655f3(0x51e)]),document[_0x5655f3(0x9c3)](_0x5655f3(0xa81))[_0x5655f3(0xcbe)][_0x5655f3(0xa54)](_0x5655f3(0x8e4)),document[_0x5655f3(0x9c3)](_0x5655f3(0x80a))['classList']['remove'](_0x5655f3(0x8e4)),document[_0x5655f3(0x9c3)](_0x5655f3(0x94e))[_0x5655f3(0xcbe)][_0x5655f3(0xa49)](_0x5655f3(0x8e4)),window[_0x5655f3(0x1b4)]&&MathJax[_0x5655f3(0xc2c)]([document[_0x5655f3(0x9c3)](_0x5655f3(0x252))]);}else showMessage(_0x5655f3(0x3a0));}catch(_0x46137b){console[_0x5655f3(0x1c0)](_0x5655f3(0xd2d),_0x46137b),showMessage(_0x5655f3(0x464));}else showMessage(_0x5655f3(0x3b2));}}else{if(_0x407ea4){const _0x54c0fc=_0x450c43(_0x4f547c),_0x4b815c=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x3bd931=await getDoc(_0x4b815c);if(_0x3bd931['exists']()){const _0x50da7e=_0x3bd931[_0x5655f3(0xc5f)]();generateAndSaveLessonForBlueprint(_0x4d53ae,_0x54c0fc,_0x50da7e[_0x5655f3(0x7b2)]);}}else{if(_0x2b0e4d)editTopicInProject(_0x4d53ae);else _0xf2ca2a&&deleteTopicFromProject(_0x4d53ae);}}}}}}}),document['getElementById'](_0xa2cdc1(0x207))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleFixLessonLatex),document['getElementById'](_0xa2cdc1(0x3b0))[_0xa2cdc1(0x762)]('click',handleExportLessonToPDF),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x960))['addEventListener']('click',()=>{const _0x507df7=_0xa2cdc1;document[_0x507df7(0x9c3)](_0x507df7(0x94e))[_0x507df7(0xcbe)][_0x507df7(0xa54)](_0x507df7(0x8e4));});const _0x152e9a=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xcfd)),_0x2a0cf4=document['getElementById'](_0xa2cdc1(0x651));_0x152e9a[_0xa2cdc1(0x762)](_0xa2cdc1(0x557),()=>{const _0x4990a3=_0xa2cdc1;_0x2a0cf4[_0x4990a3(0xcbe)][_0x4990a3(0xd50)](_0x4990a3(0x8e4),!_0x152e9a[_0x4990a3(0x57b)]);});const _0x5dc62f=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xb32)),_0x34ead5=document['getElementById']('confidence-mode-container');_0x5dc62f['addEventListener'](_0xa2cdc1(0x557),()=>{const _0x5a58e1=_0xa2cdc1;_0x34ead5['classList'][_0x5a58e1(0xd50)](_0x5a58e1(0x8e4),!_0x5dc62f[_0x5a58e1(0x57b)]);});const _0x345faa=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x77a)),_0x3f4719=document[_0xa2cdc1(0x9c3)]('modal-confidence-mode-container');_0x345faa['addEventListener']('change',()=>{const _0x246f8d=_0xa2cdc1;_0x3f4719['classList'][_0x246f8d(0xd50)](_0x246f8d(0x8e4),!_0x345faa[_0x246f8d(0x57b)]);});const _0x5cc174=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xcf4)),_0xc85d96=async _0x39f6de=>{const _0x775e76=_0xa2cdc1,_0x33836e=document[_0x775e76(0x9c3)]('confidence-modal'),_0xe6c0ba=_0x33836e['dataset'][_0x775e76(0x6d0)],_0x59335a=document[_0x775e76(0x9c3)](_0x775e76(0xbd0));_0x33836e[_0x775e76(0xcbe)][_0x775e76(0xa54)](_0x775e76(0x8e4));if(_0xe6c0ba===_0x775e76(0x7f2)){const _0x38cd5e=_0x59335a[_0x775e76(0x3bb)],_0x39fcc5={'answer':_0x38cd5e,'wasConfident':_0x39f6de};proceedToNextQuestion(_0x39fcc5);}else{if(_0xe6c0ba===_0x775e76(0x862)){const _0x14e8e1=_0x59335a[_0x775e76(0x870)][_0x775e76(0xc39)],_0x1cfa51=JSON[_0x775e76(0xacd)](_0x59335a['dataset'][_0x775e76(0x327)]),_0xa43af=JSON['parse'](_0x59335a[_0x775e76(0x870)]['gameData']),_0x56afe1=_0x59335a['dataset'][_0x775e76(0xd36)];handleSyncAnswerSubmit(_0x14e8e1,_0x1cfa51,_0xa43af,_0x56afe1,_0x39f6de);}}_0x33836e[_0x775e76(0x870)][_0x775e76(0x6d0)]='';};document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x848))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>_0xc85d96(!![])),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x4df))['addEventListener'](_0xa2cdc1(0xba1),()=>_0xc85d96(![])),liveGameView[_0xa2cdc1(0x762)]('click',_0x4f0cc4=>{const _0x1c7e78=_0xa2cdc1,_0x341c30=_0x4f0cc4[_0x1c7e78(0x24a)][_0x1c7e78(0x2fb)](_0x1c7e78(0x700));if(_0x341c30){const _0xfb4665=_0x341c30[_0x1c7e78(0x870)][_0x1c7e78(0xd36)];_0xfb4665&&handleKickPlayerSync(_0xfb4665);}});const _0x10c6ec=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x795)),_0x33c50f=document['getElementById'](_0xa2cdc1(0xa67));_0x33c50f[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x2d9b2e=_0xa2cdc1;document[_0x2d9b2e(0x9c3)](_0x2d9b2e(0xac0))[_0x2d9b2e(0xcbe)][_0x2d9b2e(0xa54)]('hidden');}),_0x10c6ec[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x1a8840=_0xa2cdc1,_0x321c0b=document['getElementById'](_0x1a8840(0x444))[_0x1a8840(0x3bb)],_0x3d73e0=document[_0x1a8840(0x9c3)](_0x1a8840(0x93d))[_0x1a8840(0x3bb)],_0x338b7b=document['getElementById']('save-game-results-checkbox')[_0x1a8840(0x57b)];document[_0x1a8840(0x9c3)]('confirm-game-start-modal')[_0x1a8840(0xcbe)][_0x1a8840(0xa54)](_0x1a8840(0x8e4));switch(_0x3d73e0){case _0x1a8840(0x7ee):handleStartLiveRace(_0x321c0b,_0x338b7b);break;case _0x1a8840(0x415):handleStartTeamQuiz(_0x321c0b,_0x338b7b);break;case _0x1a8840(0xac7):handleStartGroupMode(_0x321c0b,_0x338b7b);break;case'sync':const _0x303776=document[_0x1a8840(0x8da)](_0x1a8840(0x9b6))['value']||_0x1a8840(0x685);handleStartSyncMode(_0x321c0b,_0x338b7b,_0x303776);break;}}),document['getElementById'](_0xa2cdc1(0x21d))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleJoinGroupActivity),liveGameView['addEventListener']('click',_0x4dd8b4=>{const _0x1cc1ad=_0xa2cdc1,_0x763dc7=_0x4dd8b4['target']['closest'](_0x1cc1ad(0x142));document[_0x1cc1ad(0xc76)](_0x1cc1ad(0x814))['forEach'](_0x1d9390=>{const _0x4bafab=_0x1cc1ad;(!_0x763dc7||_0x1d9390['id']!==_0x763dc7[_0x4bafab(0x870)][_0x4bafab(0x20e)])&&_0x1d9390[_0x4bafab(0xcbe)][_0x4bafab(0xa49)](_0x4bafab(0x945));});if(!_0x763dc7)return;const _0xcdcc80=_0x763dc7[_0x1cc1ad(0x870)]['tooltipTarget'],_0x113d33=document['getElementById'](_0xcdcc80);_0x113d33&&_0x113d33['classList']['toggle'](_0x1cc1ad(0x945));}),liveGameView['addEventListener']('click',_0x50d44c=>{const _0x2c5990=_0xa2cdc1;if(_0x50d44c['target'][_0x2c5990(0xcbe)]['contains'](_0x2c5990(0x68b))){const _0x27f0e7=_0x50d44c[_0x2c5990(0x24a)][_0x2c5990(0x870)][_0x2c5990(0xd36)];_0x27f0e7&&handleKickPlayer(_0x27f0e7);}}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x457))[_0xa2cdc1(0x762)]('focus',()=>document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x49a))[_0xa2cdc1(0xcbe)][_0xa2cdc1(0xa49)](_0xa2cdc1(0x8e4))),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x49a))['addEventListener']('click',handleSaveProjectName),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x457))[_0xa2cdc1(0x762)](_0xa2cdc1(0x9c1),_0x234837=>{const _0x10fd6e=_0xa2cdc1;_0x234837['key']==='Enter'&&(_0x234837['preventDefault'](),_0x234837['target'][_0x10fd6e(0x590)](),handleSaveProjectName());}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x19d))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x51c77e=_0xa2cdc1;document['getElementById'](_0x51c77e(0x82f))[_0x51c77e(0xcbe)][_0x51c77e(0xa49)]('hidden');}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x67c))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x36bfa9=_0xa2cdc1;document[_0x36bfa9(0x9c3)](_0x36bfa9(0x82f))[_0x36bfa9(0xcbe)][_0x36bfa9(0xa54)](_0x36bfa9(0x8e4));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x8f9))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleBulkUpdateQuizSettings),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xa34))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleModeSwitch),document['getElementById']('update-old-quizzes-btn')['addEventListener'](_0xa2cdc1(0xba1),handleUpdateOldQuizzes),document[_0xa2cdc1(0x9c3)]('reset-project-order-btn')['addEventListener'](_0xa2cdc1(0xba1),handleResetProjectOrder),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x575))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleSaveVisibilitySettings),document[_0xa2cdc1(0x9c3)]('add-custom-math-topic-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleAddCustomMathTopic),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x571))[_0xa2cdc1(0x762)]('click',handleSelectAllTopics),document['getElementById'](_0xa2cdc1(0xaa5))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleDeselectAllTopics),document[_0xa2cdc1(0x9c3)]('back-to-dashboard-btn')[_0xa2cdc1(0x762)]('click',()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document['getElementById'](_0xa2cdc1(0x55f))[_0xa2cdc1(0x762)]('click',()=>{const _0x158d1f=_0xa2cdc1;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x158d1f(0x5fd));}}),document['getElementById'](_0xa2cdc1(0x7e5))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x51e71a=_0xa2cdc1;showView(_0x51e71a(0x964));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x9ca))[_0xa2cdc1(0x762)]('click',()=>{const _0x444ee2=_0xa2cdc1;messageModal[_0x444ee2(0xcbe)][_0x444ee2(0xa54)](_0x444ee2(0x8e4)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x2e0))['addEventListener'](_0xa2cdc1(0xba1),()=>createProjectModal[_0xa2cdc1(0xcbe)]['remove'](_0xa2cdc1(0x8e4))),document['getElementById'](_0xa2cdc1(0x3ad))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>createProjectModal['classList']['add']('hidden')),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x132))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>adminPasswordModal[_0xa2cdc1(0xcbe)][_0xa2cdc1(0xa54)](_0xa2cdc1(0x8e4))),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xc3e))[_0xa2cdc1(0x762)]('click',handleAdminLogin),document['getElementById'](_0xa2cdc1(0xade))[_0xa2cdc1(0x762)](_0xa2cdc1(0xc6e),_0x312071=>{const _0x11b525=_0xa2cdc1;if(_0x312071[_0x11b525(0x27e)]===_0x11b525(0xa71))handleAdminLogin();}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x6f7))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x340591=_0xa2cdc1;confirmationModal['classList'][_0x340591(0xa54)](_0x340591(0x8e4)),confirmAction=null;}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x6ca))['addEventListener'](_0xa2cdc1(0xba1),()=>{const _0x1caea6=_0xa2cdc1;confirmAction&&confirmAction(),confirmationModal[_0x1caea6(0xcbe)][_0x1caea6(0xa54)]('hidden'),confirmAction=null;}),document['getElementById'](_0xa2cdc1(0x6c0))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>renameQuizModal[_0xa2cdc1(0xcbe)][_0xa2cdc1(0xa54)]('hidden')),document[_0xa2cdc1(0x9c3)]('confirm-rename-quiz-btn')['addEventListener'](_0xa2cdc1(0xba1),confirmRenameQuiz),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xd53))['addEventListener']('click',()=>moveQuizModal['classList'][_0xa2cdc1(0xa54)](_0xa2cdc1(0x8e4))),document[_0xa2cdc1(0x9c3)]('confirm-move-quiz-btn')[_0xa2cdc1(0x762)]('click',confirmMoveQuiz),document[_0xa2cdc1(0x9c3)]('cancel-quiz-settings-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>quizSettingsModal[_0xa2cdc1(0xcbe)][_0xa2cdc1(0xa54)]('hidden')),document['getElementById'](_0xa2cdc1(0x7ea))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),confirmQuizSettings),document[_0xa2cdc1(0x9c3)]('cancel-quiz-status-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>quizStatusModal[_0xa2cdc1(0xcbe)][_0xa2cdc1(0xa54)]('hidden')),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xb34))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),confirmQuizStatus);const _0x4bce0f=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xb57));document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xcb0))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x1a6c9a=_0xa2cdc1;_0x4bce0f[_0x1a6c9a(0xcbe)][_0x1a6c9a(0xa54)]('hidden');}),document[_0xa2cdc1(0x9c3)]('export-compact-pdf-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),async()=>{const _0x3a7e6e=_0xa2cdc1,_0x5aff02=allQuizzes[_0x3a7e6e(0x52d)](_0x2ec662=>_0x2ec662['id']===actionTargetId);_0x5aff02?(currentQuizData=_0x5aff02,exportQuizAsWorksheetPDF()):showMessage(_0x3a7e6e(0x4a9)),_0x4bce0f[_0x3a7e6e(0xcbe)][_0x3a7e6e(0xa54)](_0x3a7e6e(0x8e4));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x979))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),async()=>{const _0x4a4989=_0xa2cdc1,_0x582fc5=allQuizzes[_0x4a4989(0x52d)](_0x4e99b3=>_0x4e99b3['id']===actionTargetId);_0x582fc5?(currentQuizData=_0x582fc5,exportQuizAsTutorPDF()):showMessage(_0x4a4989(0x4a9)),_0x4bce0f[_0x4a4989(0xcbe)][_0x4a4989(0xa54)]('hidden');});const _0x477a07=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x65e));_0x477a07['innerHTML']='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x477a07['addEventListener']('click',openGlobalActivityModal),document['getElementById']('cancel-global-activity-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x242a94=_0xa2cdc1;document[_0x242a94(0x9c3)](_0x242a94(0x9e8))[_0x242a94(0xcbe)]['add'](_0x242a94(0x8e4));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x98e))[_0xa2cdc1(0x762)]('input',_0x70ca76=>{const _0x582554=_0xa2cdc1;renderGlobalActivityList(_0x70ca76[_0x582554(0x24a)][_0x582554(0x3bb)]);}),document[_0xa2cdc1(0x9c3)]('global-activity-quiz-list')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x1a740c=>{const _0x96167f=_0xa2cdc1,_0x17f861=_0x1a740c['target'][_0x96167f(0x2fb)](_0x96167f(0xa85));if(!_0x17f861)return;const _0x1d5290=_0x17f861[_0x96167f(0x870)]['id'],_0x2b299a=_0x17f861[_0x96167f(0x870)]['mode'],_0x4a04a3=allQuizzesGlobal[_0x96167f(0x52d)](_0x3c6699=>_0x3c6699['id']===_0x1d5290);_0x4a04a3&&(document[_0x96167f(0x9c3)]('global-activity-modal')[_0x96167f(0xcbe)]['add'](_0x96167f(0x8e4)),_0x2b299a===_0x96167f(0x7ee)?handleStartLiveRace(_0x1d5290):showGameStartConfirmationModal(_0x1d5290,_0x2b299a,_0x4a04a3[_0x96167f(0x294)]));}),document[_0xa2cdc1(0x9c3)]('project-search-input')[_0xa2cdc1(0x762)](_0xa2cdc1(0x693),renderProjects),document['getElementById'](_0xa2cdc1(0x77e))['addEventListener'](_0xa2cdc1(0x557),async()=>{const _0x370c3b=_0xa2cdc1,_0x45e853=document[_0x370c3b(0x9c3)](_0x370c3b(0x77e))[_0x370c3b(0x3bb)],_0x2c6d42=doc(db,_0x370c3b(0x510),_0x370c3b(0xac1));try{await setDoc(_0x2c6d42,{'projectSort':_0x45e853},{'merge':!![]});}catch(_0x17b4ff){console[_0x370c3b(0x1c0)](_0x370c3b(0xab9),_0x17b4ff),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x613))[_0xa2cdc1(0x762)]('input',renderQuizzes),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xca6))['addEventListener'](_0xa2cdc1(0xba1),()=>{const _0x26a315=_0xa2cdc1;globalDashboardSettings[_0x26a315(0x982)]=_0x26a315(0xb18),saveUserPreference('projectView',_0x26a315(0xb18)),renderProjects();}),document[_0xa2cdc1(0x9c3)]('list-view-btn')['addEventListener']('click',()=>{const _0x5ca673=_0xa2cdc1;globalDashboardSettings[_0x5ca673(0x982)]=_0x5ca673(0xc52),saveUserPreference(_0x5ca673(0x982),_0x5ca673(0xc52)),renderProjects();}),manageTab['addEventListener'](_0xa2cdc1(0xba1),()=>switchProjectTab('manage')),resultsTab[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>switchProjectTab(_0xa2cdc1(0x76d))),leaderboardTab[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>switchProjectTab(_0xa2cdc1(0x3bd))),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x87d))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>switchQuizDetailTab(_0xa2cdc1(0xb66))),document[_0xa2cdc1(0x9c3)]('scores-tab-btn')[_0xa2cdc1(0x762)]('click',()=>switchQuizDetailTab(_0xa2cdc1(0xaae))),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x508))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x25a))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>switchQuizDetailTab(_0xa2cdc1(0x713))),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x5be))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleAnalyzeClass),generateWorksheetBtn[_0xa2cdc1(0x762)]('click',generateWorksheet);const _0x5bb410=document[_0xa2cdc1(0x9c3)]('link-tab'),_0x21a284=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xd49)),_0x568a5a=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xc4c)),_0x39f70c=document['getElementById'](_0xa2cdc1(0x681)),_0x1ff1cd=document['getElementById'](_0xa2cdc1(0x968)),_0x3aeb39=document['getElementById'](_0xa2cdc1(0x6ed));topicTab[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x59bf02=_0xa2cdc1;topicTab[_0x59bf02(0xcbe)]['add']('active'),textTab[_0x59bf02(0xcbe)]['remove'](_0x59bf02(0x471)),fileTab[_0x59bf02(0xcbe)][_0x59bf02(0xa49)](_0x59bf02(0x471)),worksheetTab['classList'][_0x59bf02(0xa49)](_0x59bf02(0x471));if(_0x5bb410)_0x5bb410[_0x59bf02(0xcbe)][_0x59bf02(0xa49)](_0x59bf02(0x471));if(_0x568a5a)_0x568a5a[_0x59bf02(0xcbe)][_0x59bf02(0xa49)](_0x59bf02(0x471));if(_0x1ff1cd)_0x1ff1cd['classList'][_0x59bf02(0xa49)](_0x59bf02(0x471));topicInputArea[_0x59bf02(0xcbe)][_0x59bf02(0xa49)](_0x59bf02(0x8e4)),textInputArea[_0x59bf02(0xcbe)]['add'](_0x59bf02(0x8e4)),fileInputArea[_0x59bf02(0xcbe)]['add'](_0x59bf02(0x8e4)),worksheetInputArea[_0x59bf02(0xcbe)]['add'](_0x59bf02(0x8e4));if(_0x21a284)_0x21a284[_0x59bf02(0xcbe)][_0x59bf02(0xa54)]('hidden');if(_0x39f70c)_0x39f70c[_0x59bf02(0xcbe)]['add'](_0x59bf02(0x8e4));if(_0x3aeb39)_0x3aeb39['classList'][_0x59bf02(0xa54)](_0x59bf02(0x8e4));}),textTab[_0xa2cdc1(0x762)]('click',()=>{const _0xdf461=_0xa2cdc1;textTab[_0xdf461(0xcbe)][_0xdf461(0xa54)](_0xdf461(0x471)),topicTab[_0xdf461(0xcbe)][_0xdf461(0xa49)](_0xdf461(0x471)),fileTab[_0xdf461(0xcbe)]['remove'](_0xdf461(0x471)),worksheetTab[_0xdf461(0xcbe)]['remove'](_0xdf461(0x471));if(_0x5bb410)_0x5bb410[_0xdf461(0xcbe)]['remove'](_0xdf461(0x471));if(_0x568a5a)_0x568a5a['classList'][_0xdf461(0xa49)](_0xdf461(0x471));if(_0x1ff1cd)_0x1ff1cd[_0xdf461(0xcbe)][_0xdf461(0xa49)]('active');textInputArea[_0xdf461(0xcbe)][_0xdf461(0xa49)](_0xdf461(0x8e4)),topicInputArea['classList'][_0xdf461(0xa54)]('hidden'),fileInputArea['classList'][_0xdf461(0xa54)]('hidden'),worksheetInputArea[_0xdf461(0xcbe)]['add']('hidden');if(_0x21a284)_0x21a284['classList'][_0xdf461(0xa54)](_0xdf461(0x8e4));if(_0x39f70c)_0x39f70c[_0xdf461(0xcbe)]['add'](_0xdf461(0x8e4));if(_0x3aeb39)_0x3aeb39[_0xdf461(0xcbe)][_0xdf461(0xa54)]('hidden');}),fileTab[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x44c1df=_0xa2cdc1;fileTab['classList'][_0x44c1df(0xa54)](_0x44c1df(0x471)),topicTab[_0x44c1df(0xcbe)][_0x44c1df(0xa49)]('active'),textTab['classList'][_0x44c1df(0xa49)](_0x44c1df(0x471)),worksheetTab[_0x44c1df(0xcbe)][_0x44c1df(0xa49)](_0x44c1df(0x471));if(_0x5bb410)_0x5bb410['classList'][_0x44c1df(0xa49)](_0x44c1df(0x471));if(_0x568a5a)_0x568a5a[_0x44c1df(0xcbe)]['remove'](_0x44c1df(0x471));if(_0x1ff1cd)_0x1ff1cd[_0x44c1df(0xcbe)][_0x44c1df(0xa49)](_0x44c1df(0x471));fileInputArea[_0x44c1df(0xcbe)][_0x44c1df(0xa49)](_0x44c1df(0x8e4)),topicInputArea[_0x44c1df(0xcbe)][_0x44c1df(0xa54)](_0x44c1df(0x8e4)),textInputArea['classList']['add'](_0x44c1df(0x8e4)),worksheetInputArea[_0x44c1df(0xcbe)][_0x44c1df(0xa54)](_0x44c1df(0x8e4));if(_0x21a284)_0x21a284[_0x44c1df(0xcbe)][_0x44c1df(0xa54)]('hidden');if(_0x39f70c)_0x39f70c['classList'][_0x44c1df(0xa54)](_0x44c1df(0x8e4));if(_0x3aeb39)_0x3aeb39[_0x44c1df(0xcbe)][_0x44c1df(0xa54)](_0x44c1df(0x8e4));}),worksheetTab[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x22c8a6=_0xa2cdc1;worksheetTab[_0x22c8a6(0xcbe)]['add'](_0x22c8a6(0x471)),topicTab['classList']['remove'](_0x22c8a6(0x471)),textTab[_0x22c8a6(0xcbe)]['remove'](_0x22c8a6(0x471)),fileTab['classList'][_0x22c8a6(0xa49)]('active');if(_0x5bb410)_0x5bb410['classList'][_0x22c8a6(0xa49)](_0x22c8a6(0x471));if(_0x568a5a)_0x568a5a[_0x22c8a6(0xcbe)][_0x22c8a6(0xa49)]('active');if(_0x1ff1cd)_0x1ff1cd[_0x22c8a6(0xcbe)][_0x22c8a6(0xa49)](_0x22c8a6(0x471));worksheetInputArea[_0x22c8a6(0xcbe)]['remove'](_0x22c8a6(0x8e4)),topicInputArea[_0x22c8a6(0xcbe)][_0x22c8a6(0xa54)](_0x22c8a6(0x8e4)),textInputArea[_0x22c8a6(0xcbe)][_0x22c8a6(0xa54)]('hidden'),fileInputArea[_0x22c8a6(0xcbe)][_0x22c8a6(0xa54)]('hidden');if(_0x21a284)_0x21a284[_0x22c8a6(0xcbe)][_0x22c8a6(0xa54)]('hidden');if(_0x39f70c)_0x39f70c[_0x22c8a6(0xcbe)][_0x22c8a6(0xa54)](_0x22c8a6(0x8e4));if(_0x3aeb39)_0x3aeb39['classList'][_0x22c8a6(0xa54)]('hidden');});const _0x9c66ca=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x151)),_0x14a0aa=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x1d2));_0x9c66ca&&_0x9c66ca[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x2a6ff4=_0xa2cdc1;topicTab[_0x2a6ff4(0xcbe)]['remove'](_0x2a6ff4(0x471)),textTab[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa49)](_0x2a6ff4(0x471)),fileTab[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa49)](_0x2a6ff4(0x471)),worksheetTab[_0x2a6ff4(0xcbe)]['remove'](_0x2a6ff4(0x471));if(_0x5bb410)_0x5bb410[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa49)]('active');if(_0x568a5a)_0x568a5a['classList']['remove'](_0x2a6ff4(0x471));if(_0x1ff1cd)_0x1ff1cd[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa49)](_0x2a6ff4(0x471));_0x9c66ca[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa54)](_0x2a6ff4(0x471)),topicInputArea[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa54)](_0x2a6ff4(0x8e4)),textInputArea[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa54)](_0x2a6ff4(0x8e4)),fileInputArea[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa54)](_0x2a6ff4(0x8e4)),worksheetInputArea[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa54)](_0x2a6ff4(0x8e4));if(_0x21a284)_0x21a284[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa54)](_0x2a6ff4(0x8e4));if(_0x39f70c)_0x39f70c[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa54)](_0x2a6ff4(0x8e4));if(_0x3aeb39)_0x3aeb39[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa54)](_0x2a6ff4(0x8e4));_0x14a0aa[_0x2a6ff4(0xcbe)][_0x2a6ff4(0xa49)](_0x2a6ff4(0x8e4)),displayQuestionBank();});_0x5bb410&&(_0x5bb410['addEventListener'](_0xa2cdc1(0xba1),()=>{const _0x344734=_0xa2cdc1;_0x5bb410[_0x344734(0xcbe)]['add'](_0x344734(0x471)),topicTab['classList'][_0x344734(0xa49)]('active'),textTab['classList']['remove']('active'),fileTab[_0x344734(0xcbe)][_0x344734(0xa49)](_0x344734(0x471)),worksheetTab[_0x344734(0xcbe)][_0x344734(0xa49)](_0x344734(0x471));if(_0x568a5a)_0x568a5a[_0x344734(0xcbe)][_0x344734(0xa49)](_0x344734(0x471));if(_0x1ff1cd)_0x1ff1cd[_0x344734(0xcbe)][_0x344734(0xa49)](_0x344734(0x471));_0x21a284[_0x344734(0xcbe)][_0x344734(0xa49)](_0x344734(0x8e4)),topicInputArea[_0x344734(0xcbe)][_0x344734(0xa54)](_0x344734(0x8e4)),textInputArea[_0x344734(0xcbe)][_0x344734(0xa54)](_0x344734(0x8e4)),fileInputArea['classList'][_0x344734(0xa54)]('hidden'),worksheetInputArea['classList'][_0x344734(0xa54)]('hidden');if(_0x39f70c)_0x39f70c[_0x344734(0xcbe)]['add'](_0x344734(0x8e4));if(_0x3aeb39)_0x3aeb39[_0x344734(0xcbe)][_0x344734(0xa54)](_0x344734(0x8e4));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xc33))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleGenerateFromLink));_0x568a5a&&_0x568a5a[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x22df65=_0xa2cdc1;_0x568a5a[_0x22df65(0xcbe)][_0x22df65(0xa54)](_0x22df65(0x471)),topicTab[_0x22df65(0xcbe)]['remove'](_0x22df65(0x471)),textTab[_0x22df65(0xcbe)][_0x22df65(0xa49)](_0x22df65(0x471)),fileTab[_0x22df65(0xcbe)][_0x22df65(0xa49)](_0x22df65(0x471)),worksheetTab[_0x22df65(0xcbe)][_0x22df65(0xa49)](_0x22df65(0x471));if(_0x5bb410)_0x5bb410[_0x22df65(0xcbe)][_0x22df65(0xa49)](_0x22df65(0x471));if(_0x9c66ca)_0x9c66ca[_0x22df65(0xcbe)][_0x22df65(0xa49)]('active');if(_0x1ff1cd)_0x1ff1cd['classList'][_0x22df65(0xa49)]('active');_0x39f70c['classList'][_0x22df65(0xa49)]('hidden'),topicInputArea[_0x22df65(0xcbe)]['add'](_0x22df65(0x8e4)),textInputArea[_0x22df65(0xcbe)]['add'](_0x22df65(0x8e4)),fileInputArea[_0x22df65(0xcbe)][_0x22df65(0xa54)](_0x22df65(0x8e4)),worksheetInputArea[_0x22df65(0xcbe)][_0x22df65(0xa54)](_0x22df65(0x8e4));if(_0x21a284)_0x21a284[_0x22df65(0xcbe)][_0x22df65(0xa54)](_0x22df65(0x8e4));if(_0x14a0aa)_0x14a0aa[_0x22df65(0xcbe)][_0x22df65(0xa54)](_0x22df65(0x8e4));if(_0x3aeb39)_0x3aeb39[_0x22df65(0xcbe)]['add']('hidden');});_0x1ff1cd&&_0x1ff1cd['addEventListener'](_0xa2cdc1(0xba1),()=>{const _0x267b2f=_0xa2cdc1;_0x1ff1cd[_0x267b2f(0xcbe)]['add'](_0x267b2f(0x471)),topicTab['classList']['remove']('active'),textTab[_0x267b2f(0xcbe)][_0x267b2f(0xa49)](_0x267b2f(0x471)),fileTab[_0x267b2f(0xcbe)]['remove'](_0x267b2f(0x471)),worksheetTab['classList']['remove'](_0x267b2f(0x471));if(_0x5bb410)_0x5bb410[_0x267b2f(0xcbe)]['remove'](_0x267b2f(0x471));if(_0x568a5a)_0x568a5a[_0x267b2f(0xcbe)][_0x267b2f(0xa49)]('active');if(_0x9c66ca)_0x9c66ca[_0x267b2f(0xcbe)][_0x267b2f(0xa49)]('active');_0x3aeb39[_0x267b2f(0xcbe)][_0x267b2f(0xa49)]('hidden'),topicInputArea['classList'][_0x267b2f(0xa54)]('hidden'),textInputArea[_0x267b2f(0xcbe)][_0x267b2f(0xa54)]('hidden'),fileInputArea[_0x267b2f(0xcbe)][_0x267b2f(0xa54)](_0x267b2f(0x8e4)),worksheetInputArea['classList'][_0x267b2f(0xa54)](_0x267b2f(0x8e4));if(_0x21a284)_0x21a284['classList'][_0x267b2f(0xa54)]('hidden');if(_0x39f70c)_0x39f70c[_0x267b2f(0xcbe)][_0x267b2f(0xa54)](_0x267b2f(0x8e4));if(_0x14a0aa)_0x14a0aa[_0x267b2f(0xcbe)][_0x267b2f(0xa54)](_0x267b2f(0x8e4));});const _0xbb45e7=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x36b)),_0x124460=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xa09));if(_0xbb45e7){const _0x2a6a6c=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x36b)),_0x33999e=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xa09)),_0x3f85c1=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x1da)),_0x55b744=document[_0xa2cdc1(0x9c3)]('separate-by-content-checkbox'),_0x2186f9=document['getElementById'](_0xa2cdc1(0xbf6)),_0x541190=document[_0xa2cdc1(0x9c3)]('blueprint-topics-list');_0x2a6a6c&&_0x2a6a6c['addEventListener'](_0xa2cdc1(0x557),async _0x191acb=>{const _0x3b3c18=_0xa2cdc1;_0x3f85c1[_0x3b3c18(0xcbe)][_0x3b3c18(0xa54)](_0x3b3c18(0x8e4)),_0x2186f9[_0x3b3c18(0xcbe)][_0x3b3c18(0xa54)]('hidden'),_0x55b744['checked']=![],_0x33999e[_0x3b3c18(0x704)]=!![];const _0x2537e7=_0x191acb[_0x3b3c18(0x24a)][_0x3b3c18(0xbe9)][0x0];if(_0x2537e7){_0x33999e[_0x3b3c18(0x704)]=![];try{const _0x31e8f3=await extractTextFromPdf(_0x2537e7);await analyzeBlueprintForTopics(_0x31e8f3);}catch(_0x303b1b){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x3f85c1['classList'][_0x3b3c18(0xa54)](_0x3b3c18(0x8e4));}}}),_0x55b744&&_0x55b744['addEventListener'](_0xa2cdc1(0x557),_0x2dc4fc=>{const _0x539d62=_0xa2cdc1,_0x4154c0=_0x2dc4fc[_0x539d62(0x24a)][_0x539d62(0x57b)];_0x2186f9[_0x539d62(0xcbe)]['toggle'](_0x539d62(0x8e4),!_0x4154c0),_0x33999e['disabled']=_0x4154c0;}),_0x541190&&(_0x541190&&_0x541190[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x51bfda=>{const _0x5bc17a=_0xa2cdc1,_0x293d53=_0x51bfda[_0x5bc17a(0x24a)]['closest']('.topic-selection-btn'),_0x4c56dd=_0x51bfda[_0x5bc17a(0x24a)][_0x5bc17a(0x2fb)](_0x5bc17a(0x392));if(_0x293d53){const _0xe39292=unescape(_0x293d53['dataset'][_0x5bc17a(0x294)]);generateQuizForSingleTopic(_0xe39292);}else{if(_0x4c56dd){const _0x13872c=unescape(_0x4c56dd[_0x5bc17a(0x870)]['topic']);handleGenerateTeachingContent(_0x13872c);}}}));}_0x124460&&_0x124460[_0xa2cdc1(0x762)]('click',handleGenerateFromBlueprint);const _0x3e0b8c=document[_0xa2cdc1(0x9c3)]('parallel-test-upload-input'),_0x51b424=document[_0xa2cdc1(0x9c3)]('generate-from-parallel-test-btn');_0x3e0b8c&&_0x3e0b8c[_0xa2cdc1(0x762)]('change',_0x40744a=>{const _0x2a667f=_0xa2cdc1;_0x51b424[_0x2a667f(0x704)]=_0x40744a[_0x2a667f(0x24a)][_0x2a667f(0xbe9)][_0x2a667f(0x768)]===0x0;});_0x51b424&&_0x51b424[_0xa2cdc1(0x762)]('click',()=>{handleGenerateParallelTest();});loadQuizBtn[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleLoadQuiz),startQuizBtn[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),async()=>{const _0x10f047=_0xa2cdc1,_0x3a1fac=document[_0x10f047(0x9c3)](_0x10f047(0x9ff));currentStudentName=_0x3a1fac[_0x10f047(0x3bb)];if(!currentStudentName){showMessage(_0x10f047(0x2fa));return;}try{const _0xe1c750=currentQuizData['id'],_0x359052=doc(db,_0x10f047(0xc02)+appId+_0x10f047(0x884)+_0xe1c750+_0x10f047(0x959),currentStudentName),_0x2d9489=await getDoc(_0x359052);!_0x2d9489[_0x10f047(0x6b5)]()?await setDoc(_0x359052,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x359052,{'startedAt':new Date()[_0x10f047(0xbb3)]()});}catch(_0x5c48c6){console['error']('Failed\x20to\x20create/update\x20submission\x20record:',_0x5c48c6),showMessage(_0x10f047(0xae9));return;}studentNameSelectionView['classList'][_0x10f047(0xa54)](_0x10f047(0x8e4)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xa2cdc1(0x9c3)]('join-live-game-btn')[_0xa2cdc1(0x762)]('click',showJoinGameView),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x183))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleJoinLiveGame),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x8d5))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>showView(_0xa2cdc1(0x939)));const _0x156f33=()=>{const _0x60bb6b=_0xa2cdc1,_0x491b4a=document['getElementById'](_0x60bb6b(0xcc3))[_0x60bb6b(0xafb)][_0x60bb6b(0x3d0)](/[^a-z0-9]/gi,'_')[_0x60bb6b(0x630)]();return'results_'+(_0x491b4a||_0x60bb6b(0xabe));},_0x53d40d=document[_0xa2cdc1(0x9c3)]('math-topic-search-input');_0x53d40d&&_0x53d40d[_0xa2cdc1(0x762)](_0xa2cdc1(0x693),_0x340da8=>{const _0x5579f7=_0xa2cdc1,_0x579718=_0x340da8[_0x5579f7(0x24a)][_0x5579f7(0x3bb)][_0x5579f7(0x630)]()[_0x5579f7(0xa93)](),_0x51d50c=document[_0x5579f7(0x9c3)](_0x5579f7(0x1f6)),_0x48afe2=_0x51d50c[_0x5579f7(0xc76)]('.topic-category');_0x48afe2[_0x5579f7(0x326)](_0x364c30=>{const _0x5b5c11=_0x5579f7;let _0x397c53=![];const _0x29c6a0=_0x364c30[_0x5b5c11(0xc76)](_0x5b5c11(0x2ad));_0x29c6a0[_0x5b5c11(0x326)](_0x236650=>{const _0x529ef3=_0x5b5c11,_0x2dbb03=_0x236650[_0x529ef3(0x8da)](_0x529ef3(0x6b8))[_0x529ef3(0xafb)][_0x529ef3(0x630)]();_0x2dbb03[_0x529ef3(0x436)](_0x579718)?(_0x236650[_0x529ef3(0x827)]['display']='flex',_0x397c53=!![]):_0x236650['style'][_0x529ef3(0x417)]=_0x529ef3(0x8be);}),_0x397c53?_0x364c30[_0x5b5c11(0x827)][_0x5b5c11(0x417)]=_0x5b5c11(0x3c2):_0x364c30[_0x5b5c11(0x827)][_0x5b5c11(0x417)]='none';});});document['getElementById']('export-image-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>exportTableAsImage(_0xa2cdc1(0x799),_0x156f33())),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xd39))[_0xa2cdc1(0x762)]('click',()=>exportTableAsPDF('results-table',_0x156f33())),document[_0xa2cdc1(0x9c3)]('export-word-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>exportTableAsWord(_0xa2cdc1(0x799),_0x156f33())),document['getElementById'](_0xa2cdc1(0x687))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>exportTableAsExcel(_0xa2cdc1(0xa22),_0x156f33()));const _0xf69c96=()=>{const _0x5f4d9f=_0xa2cdc1,_0x3e59cb=document['getElementById'](_0x5f4d9f(0xcc3))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x5f4d9f(0x630)]();return'leaderboard_'+(_0x3e59cb||'quiz');};document['getElementById']('export-leaderboard-image-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>exportTableAsImage('quiz-leaderboard-table-container',_0xf69c96())),document[_0xa2cdc1(0x9c3)]('export-leaderboard-pdf-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>exportTableAsPDF(_0xa2cdc1(0x97a),_0xf69c96())),document['getElementById']('export-leaderboard-word-btn')[_0xa2cdc1(0x762)]('click',()=>exportTableAsWord(_0xa2cdc1(0x645),_0xf69c96())),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x531))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>exportTableAsExcel(_0xa2cdc1(0x97a),_0xf69c96())),projectQuizzesList[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),async _0x950540=>{const _0x1a0ac6=_0xa2cdc1,_0x134eb7=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)]('.quiz-result-card'),_0x354195=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)](_0x1a0ac6(0xd43)),_0x2c788f=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)](_0x1a0ac6(0x259)),_0x30ca48=_0x950540['target'][_0x1a0ac6(0x2fb)](_0x1a0ac6(0x302)),_0x4c8e05=_0x950540[_0x1a0ac6(0x24a)]['closest']('.star-quiz-btn'),_0x20a191=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)]('.copy-quiz-id-list-btn'),_0x279d3b=_0x950540[_0x1a0ac6(0x24a)]['closest'](_0x1a0ac6(0x764)),_0x1e88d0=_0x950540['target'][_0x1a0ac6(0x2fb)]('.quiz-settings-btn'),_0x961bf8=_0x950540['target'][_0x1a0ac6(0x2fb)](_0x1a0ac6(0xcfb)),_0x358879=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)]('.rename-quiz-btn'),_0x5668d3=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)](_0x1a0ac6(0xbc3)),_0x7eda60=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)](_0x1a0ac6(0x6e7)),_0x10fb31=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)]('.pair-quiz-btn'),_0xcd100b=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)](_0x1a0ac6(0x6db)),_0x45b023=_0x950540['target'][_0x1a0ac6(0x2fb)]('.start-presentation-list-btn'),_0x4ace0e=_0x950540['target'][_0x1a0ac6(0x2fb)]('.admin-try-quiz-list-btn'),_0x5cbac1=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)](_0x1a0ac6(0x957)),_0x59cddf=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)](_0x1a0ac6(0x53b)),_0x678fea=_0x950540[_0x1a0ac6(0x24a)]['closest'](_0x1a0ac6(0x947)),_0x41aa1c=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)](_0x1a0ac6(0x2c6)),_0x2b43c0=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)](_0x1a0ac6(0x1ed)),_0x5b3207=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)](_0x1a0ac6(0xc83)),_0x47e7ff=_0x950540[_0x1a0ac6(0x24a)][_0x1a0ac6(0x2fb)]('.start-live-race-btn');if(_0x5b3207){const _0x440ea8=_0x5b3207[_0x1a0ac6(0x870)]['quizId'],_0x490025=_0x5b3207['dataset']['mode'],_0x483ede=allQuizzes[_0x1a0ac6(0x52d)](_0x59ee1=>_0x59ee1['id']===_0x440ea8);_0x483ede&&showGameStartConfirmationModal(_0x440ea8,_0x490025,_0x483ede['topic']);}else{if(_0x47e7ff){const _0x163bbb=_0x47e7ff['dataset']['quizId'];handleStartLiveRace(_0x163bbb);}else{if(_0x41aa1c){const _0x5a6ed1=_0x41aa1c[_0x1a0ac6(0x870)]['quizId'],_0x5cf426=document[_0x1a0ac6(0x9c3)](_0x1a0ac6(0x295)+_0x5a6ed1);_0x5cf426&&_0x5cf426[_0x1a0ac6(0xcbe)][_0x1a0ac6(0xd50)]('hidden');}else{if(_0x354195){const _0x455090=_0x354195[_0x1a0ac6(0x870)][_0x1a0ac6(0x8c4)],_0x4bd98c=allQuizzes[_0x1a0ac6(0x52d)](_0x4ed1ff=>_0x4ed1ff['id']===_0x455090);_0x4bd98c&&handleGenerateParallelPostTest(_0x4bd98c);}else{if(_0x2c788f)handleCompareResults(_0x2c788f[_0x1a0ac6(0x870)]['quizId'],_0x2c788f['dataset'][_0x1a0ac6(0x241)]);else{if(_0x30ca48){const _0xd29686=_0x30ca48[_0x1a0ac6(0x870)]['quizId'],_0x88659b=allQuizzes[_0x1a0ac6(0x52d)](_0x50a1dd=>_0x50a1dd['id']===_0xd29686);_0x88659b&&_0x88659b[_0x1a0ac6(0x178)]?(displayLessonPlan(_0x88659b[_0x1a0ac6(0x178)],_0x88659b),showConfirmation(_0x1a0ac6(0x95d),()=>handleGenerateLessonPlan(_0xd29686)),document[_0x1a0ac6(0x9c3)](_0x1a0ac6(0x210))[_0x1a0ac6(0x8da)]('h3')[_0x1a0ac6(0xafb)]=_0x1a0ac6(0xadf),document['getElementById'](_0x1a0ac6(0x6ca))[_0x1a0ac6(0xafb)]=_0x1a0ac6(0x352)):handleGenerateLessonPlan(_0xd29686);}else{if(_0x4c8e05)handleToggleStarQuiz(_0x4c8e05[_0x1a0ac6(0x870)][_0x1a0ac6(0x8c4)]);else{if(_0x20a191)copyTextToClipboard(_0x20a191['dataset'][_0x1a0ac6(0x8c4)],_0x1a0ac6(0x1ab));else{if(_0x279d3b)handleOpenQuizEditor(_0x279d3b['dataset'][_0x1a0ac6(0x8c4)]);else{if(_0x1e88d0)handleQuizSettings(_0x1e88d0[_0x1a0ac6(0x870)][_0x1a0ac6(0x8c4)]);else{if(_0x961bf8)handleDuplicateQuiz(_0x961bf8[_0x1a0ac6(0x870)][_0x1a0ac6(0x8c4)]);else{if(_0x358879)handleRenameQuiz(_0x358879[_0x1a0ac6(0x870)][_0x1a0ac6(0x8c4)],_0x358879['dataset'][_0x1a0ac6(0x294)]);else{if(_0x5668d3){const _0x351171=_0x5668d3['dataset'][_0x1a0ac6(0x8c4)],_0x1e7ae4=allQuizzes[_0x1a0ac6(0x52d)](_0x10376c=>_0x10376c['id']===_0x351171);_0x1e7ae4&&handleGenerateParallelFromBank(_0x1e7ae4);}else{if(_0x7eda60)handleMoveQuiz(_0x7eda60[_0x1a0ac6(0x870)]['quizId']);else{if(_0x10fb31)handleManualQuizPairing(_0x10fb31['dataset'][_0x1a0ac6(0x8c4)]);else{if(_0xcd100b)handleUnpairQuiz(_0xcd100b['dataset']['quizId']);else{if(_0x45b023){const _0x515cc8=_0x45b023[_0x1a0ac6(0x870)]['quizId'],_0x22394d=allQuizzes['find'](_0x1be94a=>_0x1be94a['id']===_0x515cc8);if(_0x22394d)startPresentation(_0x22394d);}else{if(_0x4ace0e){const _0x9d9d59=_0x4ace0e['dataset']['quizId'],_0x517503=allQuizzes[_0x1a0ac6(0x52d)](_0xa6e464=>_0xa6e464['id']===_0x9d9d59);_0x517503&&(currentQuizData=_0x517503,startAdminTest());}else{if(_0x5cbac1)actionTargetId=_0x5cbac1['dataset']['quizId'],document[_0x1a0ac6(0x9c3)](_0x1a0ac6(0xb57))[_0x1a0ac6(0xcbe)][_0x1a0ac6(0xa49)](_0x1a0ac6(0x8e4));else{if(_0x59cddf)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x59cddf[_0x1a0ac6(0x870)][_0x1a0ac6(0x294)]+_0x1a0ac6(0x1a9),()=>handleDeleteQuiz(_0x59cddf[_0x1a0ac6(0x870)]['quizId']));else{if(_0x678fea)handleQuizStatus(_0x678fea[_0x1a0ac6(0x870)]['quizId']);else{if(_0x2b43c0)handleGenerateEasyVersionQuiz(_0x2b43c0[_0x1a0ac6(0x870)]['quizId']);else _0x134eb7&&showQuizDetailView(_0x134eb7[_0x1a0ac6(0x870)][_0x1a0ac6(0x8c4)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0xa2cdc1(0x2ea))['addEventListener'](_0xa2cdc1(0xba1),()=>showView('student')),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x725))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),confirmAndStartTeamQuiz),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x97a))[_0xa2cdc1(0x8da)]('thead')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x2e191f=>{const _0x1d0336=_0xa2cdc1,_0x550b68=_0x2e191f[_0x1d0336(0x24a)][_0x1d0336(0x2fb)](_0x1d0336(0x895));if(!_0x550b68||!_0x550b68[_0x1d0336(0x870)][_0x1d0336(0x65c)])return;const _0x32f51f=_0x550b68[_0x1d0336(0x870)][_0x1d0336(0x65c)];if(quizLeaderboardSortBy===_0x32f51f)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x1d0336(0x6e6):_0x1d0336(0x46e);else{quizLeaderboardSortBy=_0x32f51f;const _0x12f7c3=[_0x1d0336(0x552)];quizLeaderboardSortOrder=_0x12f7c3[_0x1d0336(0x436)](_0x32f51f)?_0x1d0336(0x46e):_0x1d0336(0x6e6);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x1d0336(0xb50));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x28c))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),closePresentation),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x365))['addEventListener'](_0xa2cdc1(0xba1),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0xa2cdc1(0xa2f))['addEventListener'](_0xa2cdc1(0xba1),()=>{const _0x7d2fa8=_0xa2cdc1;currentQuizData[_0x7d2fa8(0xca5)]&&currentPresentationSlide<currentQuizData[_0x7d2fa8(0xca5)][_0x7d2fa8(0x768)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0xa2cdc1(0x50f),()=>{const _0x52b6e5=_0xa2cdc1;!document[_0x52b6e5(0x86a)]&&(presentationModal[_0x52b6e5(0x827)]['display']=_0x52b6e5(0x8be));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x986))['addEventListener'](_0xa2cdc1(0xba1),handleDeleteAllStudents),studentList['addEventListener'](_0xa2cdc1(0xba1),_0x5b36bf=>{const _0x4536b5=_0xa2cdc1,_0x47f2e6=_0x5b36bf[_0x4536b5(0x24a)][_0x4536b5(0x2fb)](_0x4536b5(0x4e1));if(_0x47f2e6){const _0x4f1067=_0x47f2e6[_0x4536b5(0x870)][_0x4536b5(0x552)];handleDeleteStudent(_0x4f1067);}}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xaa2))['addEventListener'](_0xa2cdc1(0xba1),handleGenerateFromFileClick),fileUploadInput[_0xa2cdc1(0x762)](_0xa2cdc1(0x557),_0x554a79=>{const _0x1918a9=_0xa2cdc1,_0x557905=_0x554a79[_0x1918a9(0x24a)][_0x1918a9(0xbe9)][0x0],_0x12f9c9=document[_0x1918a9(0x9c3)](_0x1918a9(0xaa2)),_0x4963b4=document['getElementById'](_0x1918a9(0x283)),_0x8fe08c=document[_0x1918a9(0x9c3)](_0x1918a9(0x2bd));_0x557905?(selectedFile=_0x557905,_0x8fe08c[_0x1918a9(0x57b)]?(_0x12f9c9['disabled']=!![],analyzeFileForTopics(_0x557905)):(_0x12f9c9[_0x1918a9(0x704)]=![],_0x4963b4[_0x1918a9(0xcbe)][_0x1918a9(0xa54)]('hidden'))):(selectedFile=null,_0x12f9c9['disabled']=!![],_0x4963b4[_0x1918a9(0xcbe)][_0x1918a9(0xa54)](_0x1918a9(0x8e4)));}),document['getElementById']('separate-by-content-from-file-checkbox')[_0xa2cdc1(0x762)]('change',_0x36d6ce=>{const _0x5a7ee2=_0xa2cdc1,_0x2cfc36=_0x36d6ce['target'][_0x5a7ee2(0x57b)],_0x5943ff=document[_0x5a7ee2(0x9c3)](_0x5a7ee2(0xaa2)),_0x306b13=document[_0x5a7ee2(0x9c3)](_0x5a7ee2(0x283));_0x2cfc36?(_0x5943ff[_0x5a7ee2(0x704)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x306b13[_0x5a7ee2(0xcbe)]['remove'](_0x5a7ee2(0x8e4)),document[_0x5a7ee2(0x9c3)](_0x5a7ee2(0x66b))['innerHTML']='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x306b13['classList'][_0x5a7ee2(0xa54)](_0x5a7ee2(0x8e4)),_0x5943ff[_0x5a7ee2(0x704)]=!selectedFile);}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x283))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x312290=>{const _0x2c8c2b=_0xa2cdc1,_0x49784b=_0x312290[_0x2c8c2b(0x24a)][_0x2c8c2b(0x2fb)](_0x2c8c2b(0x32c)),_0x486d0d=_0x312290[_0x2c8c2b(0x24a)][_0x2c8c2b(0x2fb)](_0x2c8c2b(0x392));if(_0x49784b){const _0x494929=unescape(_0x49784b[_0x2c8c2b(0x870)]['topic']);generateHybridQuizForTopic(_0x494929);}else{if(_0x486d0d){const _0x538541=unescape(_0x486d0d[_0x2c8c2b(0x870)][_0x2c8c2b(0x294)]),_0x29ee82=document[_0x2c8c2b(0x9c3)]('difficulty-level-select')[_0x2c8c2b(0x3bb)];handleGenerateAndShowLesson(_0x538541,_0x29ee82);}}}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x605))[_0xa2cdc1(0x762)](_0xa2cdc1(0x557),_0x3f171c=>{const _0x5314f8=_0xa2cdc1,_0x431ffc=document[_0x5314f8(0x9c3)]('timer-duration-container'),_0x4b7431=document[_0x5314f8(0x9c3)](_0x5314f8(0xcd7)),_0x4efd22=document[_0x5314f8(0x9c3)](_0x5314f8(0xc27));_0x3f171c['target']['value']===_0x5314f8(0x8be)?_0x431ffc['classList'][_0x5314f8(0xa54)]('hidden'):(_0x431ffc['classList']['remove'](_0x5314f8(0x8e4)),_0x3f171c[_0x5314f8(0x24a)]['value']===_0x5314f8(0xa4b)?(_0x4b7431[_0x5314f8(0xafb)]=_0x5314f8(0xb3a),_0x4efd22[_0x5314f8(0x3bb)]='10'):(_0x4b7431['textContent']=_0x5314f8(0x781),_0x4efd22['value']='30'));}),document['getElementById'](_0xa2cdc1(0xc9d))[_0xa2cdc1(0x762)](_0xa2cdc1(0x557),_0xbfaa88=>{const _0x3e9a65=_0xa2cdc1,_0x18fc37=document[_0x3e9a65(0x9c3)](_0x3e9a65(0x1e3)),_0x1a9476=_0xbfaa88[_0x3e9a65(0x24a)][_0x3e9a65(0x3bb)],_0x5e98a4=document[_0x3e9a65(0x8da)](_0x3e9a65(0x2a3)),_0x19251c=document[_0x3e9a65(0x9c3)](_0x3e9a65(0x26e)),_0x387f30=document[_0x3e9a65(0x9c3)](_0x3e9a65(0x683));_0x1a9476===_0x3e9a65(0x4c7)?_0x5e98a4[_0x3e9a65(0xafb)]='จำนวนคู่:':_0x5e98a4[_0x3e9a65(0xafb)]='จำนวนข้อ:',_0x1a9476===_0x3e9a65(0x3ee)||_0x1a9476===_0x3e9a65(0x1d1)||_0x1a9476==='mixed'?_0x18fc37[_0x3e9a65(0xcbe)][_0x3e9a65(0xa49)](_0x3e9a65(0x8e4)):_0x18fc37[_0x3e9a65(0xcbe)][_0x3e9a65(0xa54)](_0x3e9a65(0x8e4)),_0x19251c[_0x3e9a65(0x35d)]=_0x387f30[_0x3e9a65(0x3bb)];}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x683))[_0xa2cdc1(0x762)](_0xa2cdc1(0x693),_0x335bd9=>{const _0x47f316=_0xa2cdc1;document[_0x47f316(0x9c3)]('passing-score-input')[_0x47f316(0x35d)]=_0x335bd9[_0x47f316(0x24a)][_0x47f316(0x3bb)];}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x6ef))['addEventListener'](_0xa2cdc1(0x557),_0xe18036=>{const _0x23c8b6=_0xa2cdc1,_0x1d8fbb=document['getElementById'](_0x23c8b6(0x97e)),_0x5e6d05=document[_0x23c8b6(0x9c3)](_0x23c8b6(0x274)),_0x4fb8db=document[_0x23c8b6(0x9c3)](_0x23c8b6(0xa15));_0xe18036[_0x23c8b6(0x24a)]['value']===_0x23c8b6(0x8be)?_0x1d8fbb[_0x23c8b6(0xcbe)][_0x23c8b6(0xa54)]('hidden'):(_0x1d8fbb[_0x23c8b6(0xcbe)][_0x23c8b6(0xa49)](_0x23c8b6(0x8e4)),_0xe18036['target'][_0x23c8b6(0x3bb)]===_0x23c8b6(0xa4b)?_0x5e6d05[_0x23c8b6(0xafb)]='ระยะเวลา\x20(นาที):':_0x5e6d05[_0x23c8b6(0xafb)]='ระยะเวลา\x20(วินาที):');}),document['getElementById']('cancel-quiz-edits-btn')[_0xa2cdc1(0x762)]('click',()=>{const _0x254fae=_0xa2cdc1;document[_0x254fae(0x9c3)](_0x254fae(0xac9))[_0x254fae(0xcbe)][_0x254fae(0xa54)]('hidden');}),document['getElementById'](_0xa2cdc1(0x753))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0xc08280=_0xa2cdc1;document[_0xc08280(0x9c3)](_0xc08280(0xac9))['classList'][_0xc08280(0xa54)]('hidden');}),document[_0xa2cdc1(0x9c3)]('verify-answers-editor-btn')['addEventListener'](_0xa2cdc1(0xba1),handleVerifyAnswersInEditor),document['getElementById']('save-quiz-edits-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x49881f=_0xa2cdc1;document[_0x49881f(0x9c3)](_0x49881f(0xac9))['classList']['add'](_0x49881f(0x8e4)),showConfirmation(_0x49881f(0x4ba),handleSaveChanges);}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x722))['addEventListener']('click',handleAutoFixLatex);const _0x4c181a=document['getElementById'](_0xa2cdc1(0x3f4));_0x4c181a&&_0x4c181a['addEventListener'](_0xa2cdc1(0xba1),_0x2b83b6=>{const _0x282224=_0xa2cdc1,_0x23c905=_0x2b83b6['target']['closest'](_0x282224(0x934));if(_0x23c905){const _0x48a821=_0x23c905[_0x282224(0x2fb)](_0x282224(0xc7c)),_0x1285a9=parseInt(_0x48a821[_0x282224(0x870)][_0x282224(0xa84)],0xa);handleRegenerateQuestionInEditor(_0x1285a9);return;}const _0x172b79=_0x2b83b6['target']['closest']('.delete-question-editor-btn');if(_0x172b79){const _0x28133c=_0x172b79[_0x282224(0x2fb)](_0x282224(0xc7c)),_0x371554=parseInt(_0x28133c[_0x282224(0x870)][_0x282224(0xa84)],0xa);handleDeleteQuestionInEditor(_0x371554);return;}const _0x45e311=_0x2b83b6['target'][_0x282224(0x2fb)](_0x282224(0x7c8));if(_0x45e311){handleAddQuestionInEditor();return;}});document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xd10))[_0xa2cdc1(0x762)]('click',openQuizBankModal),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x9ee))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x1e25e4=_0xa2cdc1;document[_0x1e25e4(0x9c3)](_0x1e25e4(0x84b))['classList'][_0x1e25e4(0xa54)](_0x1e25e4(0x8e4));}),document[_0xa2cdc1(0x9c3)]('bank-quiz-search-input')[_0xa2cdc1(0x762)](_0xa2cdc1(0x693),_0x14694b=>renderQuizBankList(_0x14694b[_0xa2cdc1(0x24a)][_0xa2cdc1(0x3bb)]));const _0x48ee61=document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x1f6));if(_0x48ee61){let _0x53a814=null;_0x48ee61[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),_0x165370=>{const _0x5641c0=_0xa2cdc1,_0x1c78bd=_0x165370[_0x5641c0(0x24a)],_0x35a04d=_0x1c78bd['closest'](_0x5641c0(0xc43)),_0x3b2b62=_0x1c78bd['closest'](_0x5641c0(0x59b)),_0x296e90=_0x1c78bd[_0x5641c0(0x2fb)]('.save-custom-topic-btn'),_0x56cbd4=_0x1c78bd[_0x5641c0(0x2fb)](_0x5641c0(0x970));if(_0x3b2b62){_0x165370[_0x5641c0(0xccb)]();const _0x205eb3=_0x3b2b62[_0x5641c0(0x870)]['id'],_0xbe3b7f=_0x3b2b62[_0x5641c0(0x2fb)]('.group')[_0x5641c0(0x8da)](_0x5641c0(0x6b8))['textContent'];showConfirmation(_0x5641c0(0x869)+_0xbe3b7f+'\x22?',()=>handleDeleteCustomTopic(_0x205eb3));}else{if(_0x35a04d){_0x165370['preventDefault']();_0x53a814&&toggleTopicEditMode(_0x53a814,![]);const _0x2afff1=_0x35a04d['closest'](_0x5641c0(0x39c));_0x53a814=_0x2afff1,toggleTopicEditMode(_0x2afff1,!![]);}else{if(_0x296e90){_0x165370[_0x5641c0(0xccb)]();const _0x1823c3=_0x296e90[_0x5641c0(0x870)]['id'],_0x9a80c3=_0x296e90[_0x5641c0(0x2fb)](_0x5641c0(0x39c)),_0x10884d=_0x9a80c3[_0x5641c0(0x8da)](_0x5641c0(0x5a7))[_0x5641c0(0x3bb)];handleUpdateCustomTopic(_0x1823c3,_0x10884d),_0x53a814=null;}else{if(_0x56cbd4){_0x165370[_0x5641c0(0xccb)]();const _0x56d04c=_0x56cbd4[_0x5641c0(0x2fb)](_0x5641c0(0x39c));toggleTopicEditMode(_0x56d04c,![]),_0x53a814=null;}}}}}),document[_0xa2cdc1(0x9c3)]('close-lesson-plan-modal-btn')[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x56a8ce=_0xa2cdc1;document[_0x56a8ce(0x9c3)](_0x56a8ce(0x8a8))[_0x56a8ce(0xcbe)][_0x56a8ce(0xa54)](_0x56a8ce(0x8e4));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0xa6a))[_0xa2cdc1(0x762)]('click',()=>{const _0x7a8a58=_0xa2cdc1;document[_0x7a8a58(0x9c3)](_0x7a8a58(0x8a8))[_0x7a8a58(0xcbe)]['add'](_0x7a8a58(0x8e4));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x4dd))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),handleExportLessonPDF);}document['getElementById'](_0xa2cdc1(0xab2))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x411526=_0xa2cdc1;document[_0x411526(0x9c3)]('comparison-modal')[_0x411526(0xcbe)][_0x411526(0xa54)](_0x411526(0x8e4));}),document[_0xa2cdc1(0x9c3)](_0xa2cdc1(0x17e))[_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),()=>{const _0x2dbf16=_0xa2cdc1;document[_0x2dbf16(0x9c3)]('comparison-modal')[_0x2dbf16(0xcbe)][_0x2dbf16(0xa54)](_0x2dbf16(0x8e4));}),setupComparisonModalTabs(),document[_0xa2cdc1(0x99e)][_0xa2cdc1(0x762)](_0xa2cdc1(0xba1),function(_0x1e80df){const _0x445db4=_0xa2cdc1;if(_0x1e80df[_0x445db4(0x24a)]['classList']['contains'](_0x445db4(0x935))){const _0x3d6b4d=unescape(_0x1e80df['target'][_0x445db4(0x870)][_0x445db4(0x294)]);startSkillPractice(_0x3d6b4d);}}),document['getElementById'](_0xa2cdc1(0xce6))['addEventListener']('click',_0x567d6e=>{const _0xeb09a7=_0xa2cdc1,_0x5c41db=_0x567d6e[_0xeb09a7(0x24a)][_0xeb09a7(0x2fb)](_0xeb09a7(0x8ef));if(_0x5c41db){const _0x1da4b8=_0x5c41db[_0xeb09a7(0x870)][_0xeb09a7(0x552)];handleDeleteSubmission(_0x1da4b8);}});}async function handleStartGroupMode(_0x7b641,_0xf3b156=![]){const _0x271c50=_0x15d57d,_0x3ff483=allQuizzes[_0x271c50(0x52d)](_0x3f3520=>_0x3f3520['id']===_0x7b641)||allQuizzesGlobal[_0x271c50(0x52d)](_0xaf3f2b=>_0xaf3f2b['id']===_0x7b641);if(!_0x3ff483){showMessage(_0x271c50(0x4a9));return;}currentQuizData=getShuffledQuiz(_0x3ff483);const _0x31116f=Math['floor'](0x3e8+Math[_0x271c50(0x2e8)]()*0x2328)[_0x271c50(0x771)]();try{const _0x442050=await addDoc(collection(db,_0x271c50(0xc02)+appId+_0x271c50(0x228)),{'quizId':_0x3ff483['id'],'projectId':_0x3ff483[_0x271c50(0x257)],'status':_0x271c50(0x833),'pin':_0x31116f,'mode':_0x271c50(0xac7),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xf3b156});currentTeamQuizId=_0x442050['id'],showView(_0x271c50(0x686)),renderAdminTeamQuizDashboard(_0x31116f,_0x3ff483[_0x271c50(0x294)],_0x271c50(0xac7)),listenForTeamQuizUpdates();}catch(_0x2569f7){console[_0x271c50(0x1c0)](_0x271c50(0x918),_0x2569f7),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x465cf0=_0x15d57d;studentInitialView['classList'][_0x465cf0(0xa54)](_0x465cf0(0x8e4)),document['getElementById'](_0x465cf0(0xc9e))['classList'][_0x465cf0(0xa49)]('hidden');const _0x16964d=document[_0x465cf0(0x9c3)]('progress-project-select'),_0x1d90f0=document[_0x465cf0(0x9c3)](_0x465cf0(0xbd9)),_0x58d287=document[_0x465cf0(0x9c3)]('student-progress-content');_0x58d287['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x1d90f0[_0x465cf0(0x632)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x1d90f0['disabled']=!![],_0x16964d['innerHTML']=_0x465cf0(0x209);if(allProjects[_0x465cf0(0x768)]===0x0){const _0x784805=collection(db,_0x465cf0(0xc02)+appId+_0x465cf0(0x47e)),_0x132cdd=await getDocs(_0x784805);allProjects=_0x132cdd[_0x465cf0(0x293)]['map'](_0x226700=>({'id':_0x226700['id'],..._0x226700[_0x465cf0(0xc5f)]()}));}const _0x2a4721=allProjects[_0x465cf0(0x23a)](_0x50cf41=>_0x50cf41['settings']?.[_0x465cf0(0xcc0)]!==![]);_0x2a4721[_0x465cf0(0x65c)]((_0x85603b,_0x369243)=>_0x85603b[_0x465cf0(0x5fc)]['localeCompare'](_0x369243[_0x465cf0(0x5fc)],'th')),_0x16964d[_0x465cf0(0x632)]=_0x465cf0(0x84e)+_0x2a4721[_0x465cf0(0x929)](_0x3880b0=>_0x465cf0(0x1dc)+_0x3880b0['id']+'\x22>'+_0x3880b0['projectName']+_0x465cf0(0x9ea))[_0x465cf0(0xb2d)](''),_0x16964d[_0x465cf0(0x746)]=()=>{const _0x54f0a6=_0x465cf0,_0x5c0b0c=_0x1d90f0[_0x54f0a6(0x3bb)],_0x36b784=_0x16964d[_0x54f0a6(0x3bb)];_0x1d90f0[_0x54f0a6(0x704)]=!![],_0x1d90f0[_0x54f0a6(0x632)]=_0x54f0a6(0xc81),_0x58d287[_0x54f0a6(0x632)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x36b784)return;const _0x5639bc=allProjects[_0x54f0a6(0x52d)](_0x4bffa4=>_0x4bffa4['id']===_0x36b784);if(!_0x5639bc||!_0x5639bc['students'])return;const _0x417f06=()=>{const _0x3e23c0=_0x54f0a6;_0x1d90f0['innerHTML']=_0x3e23c0(0xc81)+_0x5639bc[_0x3e23c0(0x535)][_0x3e23c0(0x929)](_0x42a653=>_0x3e23c0(0x1dc)+_0x42a653+'\x22>'+_0x42a653+_0x3e23c0(0x9ea))[_0x3e23c0(0xb2d)](''),_0x1d90f0[_0x3e23c0(0x704)]=![];const _0x45b18a=Array['from'](_0x1d90f0[_0x3e23c0(0x78a)])['map'](_0x548bb5=>_0x548bb5[_0x3e23c0(0x3bb)]);if(_0x5c0b0c&&_0x45b18a[_0x3e23c0(0x436)](_0x5c0b0c))_0x1d90f0['value']=_0x5c0b0c,_0x1d90f0['dispatchEvent'](new Event(_0x3e23c0(0x557)));else _0x5639bc[_0x3e23c0(0x535)]['length']===0x1&&(_0x1d90f0[_0x3e23c0(0x3bb)]=_0x5639bc[_0x3e23c0(0x535)][0x0],_0x1d90f0[_0x3e23c0(0x52f)](new Event(_0x3e23c0(0x557))));};if(_0x5639bc[_0x54f0a6(0x58b)]?.[_0x54f0a6(0x994)]){if(sessionStorage[_0x54f0a6(0xbe4)]('authed_project_'+_0x36b784)===_0x54f0a6(0x596)){_0x417f06();return;}const _0x143f92=document[_0x54f0a6(0x9c3)]('project-passcode-modal'),_0x5b9379=document[_0x54f0a6(0x9c3)](_0x54f0a6(0x4fa)),_0xafd8d0=document['getElementById'](_0x54f0a6(0x44d)),_0x4220ee=document[_0x54f0a6(0x9c3)](_0x54f0a6(0x517)),_0x5eb377=document[_0x54f0a6(0x9c3)]('passcode-error-msg');document[_0x54f0a6(0x9c3)](_0x54f0a6(0x68c))[_0x54f0a6(0xafb)]=_0x54f0a6(0x812)+_0x5639bc[_0x54f0a6(0x5fc)],_0x4220ee['value']='',_0x5eb377[_0x54f0a6(0xcbe)][_0x54f0a6(0xa54)](_0x54f0a6(0x8e4)),_0x143f92[_0x54f0a6(0xcbe)]['remove']('hidden');const _0x1732f6=()=>{const _0x5ca6e3=_0x54f0a6,_0x1ef145=_0x4220ee['value']['trim']();_0x1ef145===_0x5639bc[_0x5ca6e3(0x58b)][_0x5ca6e3(0x809)]?(sessionStorage[_0x5ca6e3(0x56f)](_0x5ca6e3(0x46c)+_0x36b784,'true'),_0x143f92['classList'][_0x5ca6e3(0xa54)](_0x5ca6e3(0x8e4)),_0x417f06(),_0x5b9379['removeEventListener'](_0x5ca6e3(0xba1),_0x1732f6)):_0x5eb377[_0x5ca6e3(0xcbe)][_0x5ca6e3(0xa49)](_0x5ca6e3(0x8e4));};_0x5b9379[_0x54f0a6(0xd41)]=_0x1732f6,_0xafd8d0[_0x54f0a6(0xd41)]=()=>{const _0x1bad41=_0x54f0a6;_0x143f92[_0x1bad41(0xcbe)][_0x1bad41(0xa54)]('hidden'),_0x16964d[_0x1bad41(0x3bb)]='',_0x5b9379[_0x1bad41(0x9f3)](_0x1bad41(0xba1),_0x1732f6);};}else _0x417f06();},_0x1d90f0[_0x465cf0(0x746)]=()=>{const _0x2773ab=_0x465cf0,_0x455e13=_0x16964d[_0x2773ab(0x3bb)],_0x4759d0=_0x1d90f0[_0x2773ab(0x3bb)];_0x455e13&&_0x4759d0&&renderStudentProgressDashboard(_0x455e13,_0x4759d0);};}async function confirmAndJoinSyncGame(){const _0x11223e=_0x15d57d,_0x5b5ada=Array[_0x11223e(0x657)](document['querySelectorAll']('input[name=\x22team_player\x22]:checked'))[_0x11223e(0x929)](_0xc87fdc=>_0xc87fdc[_0x11223e(0x3bb)]);if(_0x5b5ada[_0x11223e(0x768)]===0x0){showMessage(_0x11223e(0x66e));return;}localTeamPlayers=_0x5b5ada,localPlayerTurnIndex=0x0;const _0x4ab509=doc(db,_0x11223e(0xc02)+appId+_0x11223e(0x37d),currentLiveGameId);try{const _0x314ad5={};_0x5b5ada[_0x11223e(0x326)](_0x2d3251=>{const _0x20af34=_0x11223e;_0x314ad5['players.'+_0x2d3251]={'name':_0x2d3251,'score':0x0,'answered':![],'status':_0x20af34(0x471)};}),await updateDoc(_0x4ab509,_0x314ad5),document[_0x11223e(0x9c3)]('student-team-selection-view')[_0x11223e(0xcbe)][_0x11223e(0xa54)](_0x11223e(0x8e4)),currentStudentName=_0x5b5ada[0x0],listenForSyncGameUpdates();const _0x28234f={'gameId':currentLiveGameId,'mode':_0x11223e(0x862),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x11223e(0x56f)](_0x11223e(0x6c3),JSON['stringify'](_0x28234f)),currentMode!==_0x11223e(0x6d3)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x11223e(0x762)](_0x11223e(0x50f),handleFullscreenChange),document[_0x11223e(0x762)](_0x11223e(0x73d),handleVisibilityChange),enterFullscreen(),window[_0x11223e(0x762)]('mousemove',resetDimTimer),window[_0x11223e(0x762)]('mousedown',resetDimTimer),window[_0x11223e(0x762)](_0x11223e(0x32d),resetDimTimer),window['addEventListener'](_0x11223e(0x9c1),resetDimTimer),resetDimTimer());}catch(_0x7acb2f){console['error'](_0x11223e(0x625),_0x7acb2f),showMessage(_0x11223e(0x32e));}}async function resumeActiveGameSession(){const _0x6b88cd=_0x15d57d,_0x375527=sessionStorage[_0x6b88cd(0xbe4)](_0x6b88cd(0x6c3));if(!_0x375527)return;const _0x442d4f=JSON['parse'](_0x375527),{gameId:_0x230fb6,mode:_0x40b4ef,players:_0x408d46,turnIndex:_0x5253d9}=_0x442d4f;try{let _0x9904c3,_0x41ec3b;_0x40b4ef===_0x6b88cd(0x862)?_0x9904c3=doc(db,_0x6b88cd(0xc02)+appId+_0x6b88cd(0x37d),_0x230fb6):_0x9904c3=doc(db,_0x6b88cd(0xc02)+appId+_0x6b88cd(0x228),_0x230fb6);_0x41ec3b=await getDoc(_0x9904c3);if(!_0x41ec3b[_0x6b88cd(0x6b5)]()||_0x41ec3b[_0x6b88cd(0xc5f)]()[_0x6b88cd(0xc6c)]===_0x6b88cd(0xa14)||_0x41ec3b[_0x6b88cd(0xc5f)]()[_0x6b88cd(0xc6c)]==='podium'){sessionStorage[_0x6b88cd(0x1bf)](_0x6b88cd(0x6c3));return;}console['log'](_0x6b88cd(0x9fc)+_0x40b4ef+_0x6b88cd(0x757)+_0x230fb6+')'),localTeamPlayers=_0x408d46,localPlayerTurnIndex=_0x5253d9;if(_0x40b4ef===_0x6b88cd(0x862))currentLiveGameId=_0x230fb6,currentStudentName=_0x408d46[0x0],showView(_0x6b88cd(0x686)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x230fb6;const _0x339dd8=_0x41ec3b['data'](),_0x3130ab=doc(db,_0x6b88cd(0xc02)+appId+_0x6b88cd(0x21e),_0x339dd8[_0x6b88cd(0x8c4)]),_0x40f4a1=await getDoc(_0x3130ab);_0x40f4a1[_0x6b88cd(0x6b5)]()&&(currentQuizData=getShuffledQuiz({'id':_0x40f4a1['id'],..._0x40f4a1[_0x6b88cd(0xc5f)]()}),showView(_0x6b88cd(0x939)),studentInitialView['classList'][_0x6b88cd(0xa54)](_0x6b88cd(0x8e4)),renderTeamQuizQuestion());}}catch(_0x2496bc){console[_0x6b88cd(0x1c0)](_0x6b88cd(0xbad),_0x2496bc),sessionStorage['removeItem'](_0x6b88cd(0x6c3));}}function activateFileInputAreaWithLoadedFile(){const _0x55efc8=_0x15d57d,_0x434dc5=document[_0x55efc8(0x9c3)](_0x55efc8(0xaa2)),_0x134f5a=document['getElementById']('file-topics-list-container'),_0x1e8455=document[_0x55efc8(0x9c3)](_0x55efc8(0x2bd));selectedFile?_0x1e8455[_0x55efc8(0x57b)]?(_0x434dc5[_0x55efc8(0x704)]=!![],analyzeFileForTopics(selectedFile)):(_0x434dc5[_0x55efc8(0x704)]=![],_0x134f5a[_0x55efc8(0xcbe)][_0x55efc8(0xa54)](_0x55efc8(0x8e4))):(_0x434dc5[_0x55efc8(0x704)]=!![],_0x134f5a[_0x55efc8(0xcbe)]['add']('hidden'));}async function handleKickPlayerSync(_0x34039f){const _0xf5ffb7=_0x15d57d;if(!currentLiveGameId||!_0x34039f)return;const _0x516e5b=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x528f2e={};_0x528f2e[_0xf5ffb7(0x52e)+_0x34039f+_0xf5ffb7(0x547)]=_0xf5ffb7(0xc08);try{await updateDoc(_0x516e5b,_0x528f2e);}catch(_0x570c97){console[_0xf5ffb7(0x1c0)](_0xf5ffb7(0x18e)+_0x34039f+_0xf5ffb7(0x35b),_0x570c97),showMessage(_0xf5ffb7(0xcc5));}}async function renderStudentProgressDashboard(_0x3e1a62,_0x1b3a3e){const _0x1452cc=_0x15d57d,_0x955405=document['getElementById'](_0x1452cc(0xad4));_0x955405[_0x1452cc(0x632)]=_0x1452cc(0x5c1);try{const _0x4dbc6c=collection(db,_0x1452cc(0xc02)+appId+'/public/data/quizzes'),_0x2f6d97=query(_0x4dbc6c,where('projectId','==',_0x3e1a62)),_0xc6aae5=await getDocs(_0x2f6d97),_0x88c311=_0xc6aae5[_0x1452cc(0x293)][_0x1452cc(0x929)](_0x1cb2f8=>({'id':_0x1cb2f8['id'],..._0x1cb2f8['data']()})),_0x3eaaaf=_0x88c311[_0x1452cc(0x929)](_0x2a2b96=>getDoc(doc(db,'artifacts/'+appId+_0x1452cc(0x884)+_0x2a2b96['id']+'/submissions',_0x1b3a3e))),_0x248863=await Promise[_0x1452cc(0xbfe)](_0x3eaaaf),_0x11410a=_0x248863[_0x1452cc(0x23a)](_0x11ea0c=>_0x11ea0c[_0x1452cc(0x6b5)]())[_0x1452cc(0x929)](_0x4d4be5=>({'quizId':_0x4d4be5['ref']['parent'][_0x1452cc(0x9b8)]['id'],..._0x4d4be5[_0x1452cc(0xc5f)]()}));if(_0x11410a[_0x1452cc(0x768)]===0x0){_0x955405[_0x1452cc(0x632)]=_0x1452cc(0x7dd);return;}let _0x114780=_0x1452cc(0x886);_0x11410a[_0x1452cc(0x326)](_0x1ce0cc=>{const _0x45d3bd=_0x1452cc,_0x294ec3=_0x88c311[_0x45d3bd(0x52d)](_0x1787e1=>_0x1787e1['id']===_0x1ce0cc[_0x45d3bd(0x8c4)]),_0x3d90fe=_0x294ec3[_0x45d3bd(0x58b)]?.['resultsDisplay']||_0x45d3bd(0x477),_0x504019=_0x294ec3[_0x45d3bd(0x58b)]?.[_0x45d3bd(0x675)]??0x0,_0x2c8d1d=_0x1ce0cc['bestScore']>=_0x504019;let _0x4f7277='',_0x13c655=_0x45d3bd(0x8ac);switch(_0x3d90fe){case _0x45d3bd(0x477):case _0x45d3bd(0x6b4):_0x13c655=_0x2c8d1d?'bg-green-50':'bg-red-50',_0x4f7277='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x2c8d1d?'text-green-700':_0x45d3bd(0x805))+'\x22>'+_0x1ce0cc[_0x45d3bd(0x33d)]+_0x45d3bd(0x782)+_0x1ce0cc['totalQuestions']+_0x45d3bd(0x19f)+(_0x2c8d1d?_0x45d3bd(0xb9e):'bg-red-200\x20text-red-800')+'\x22>'+(_0x2c8d1d?_0x45d3bd(0x22d):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x45d3bd(0x271):_0x13c655=_0x2c8d1d?_0x45d3bd(0xc7f):'bg-red-50',_0x4f7277=_0x45d3bd(0x723)+(_0x2c8d1d?_0x45d3bd(0xb9e):_0x45d3bd(0x559))+'\x22>'+(_0x2c8d1d?'ผ่าน':'ไม่ผ่าน')+_0x45d3bd(0x978);break;case _0x45d3bd(0x8e7):_0x13c655=_0x45d3bd(0x26c),_0x4f7277=_0x45d3bd(0x9ec);break;}_0x114780+=_0x45d3bd(0x370)+_0x13c655+_0x45d3bd(0x51f)+_0x294ec3[_0x45d3bd(0x294)]+_0x45d3bd(0x620)+_0x1ce0cc[_0x45d3bd(0xa20)][_0x45d3bd(0x768)]+_0x45d3bd(0xc8e)+new Date(_0x1ce0cc['latestSubmittedAt'])[_0x45d3bd(0x456)]('th-TH')+_0x45d3bd(0x6be)+_0x4f7277+_0x45d3bd(0x9b1);}),_0x114780+=_0x1452cc(0x175),_0x955405[_0x1452cc(0x632)]=_0x114780;}catch(_0x316ce0){console[_0x1452cc(0x1c0)]('Error\x20rendering\x20student\x20progress:',_0x316ce0),_0x955405[_0x1452cc(0x632)]=_0x1452cc(0x335);}}function renderQuizBankListForMultiSelect(_0x4a7ad7=''){const _0x1f3558=_0x15d57d,_0x216eff=document[_0x1f3558(0x9c3)](_0x1f3558(0x296)),_0x22966b=_0x4a7ad7[_0x1f3558(0x630)]()['trim'](),_0x1bbf6a=allQuizzesGlobal['map'](_0x4823bf=>({..._0x4823bf,'projectName':allProjects[_0x1f3558(0x52d)](_0x53caa4=>_0x53caa4['id']===_0x4823bf[_0x1f3558(0x257)])?.[_0x1f3558(0x5fc)]||_0x1f3558(0x7d9)}))[_0x1f3558(0x23a)](_0x4d68e1=>(_0x4d68e1['topic']||'')[_0x1f3558(0x630)]()[_0x1f3558(0x436)](_0x22966b)||(_0x4d68e1['projectName']||'')[_0x1f3558(0x630)]()[_0x1f3558(0x436)](_0x22966b)||_0x4d68e1['id'][_0x1f3558(0x771)]()[_0x1f3558(0x436)](_0x22966b));_0x216eff[_0x1f3558(0x632)]=_0x1bbf6a[_0x1f3558(0x768)]?_0x1bbf6a[_0x1f3558(0x929)](_0x5aa720=>_0x1f3558(0x83b)+_0x5aa720['id']+_0x1f3558(0x238)+(_0x5aa720[_0x1f3558(0x294)]||_0x1f3558(0x95f))+_0x1f3558(0x46f)+_0x5aa720[_0x1f3558(0x5fc)]+_0x1f3558(0xaed)+_0x5aa720['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x1f3558(0xb2d)](''):_0x1f3558(0x85a),_0x216eff[_0x1f3558(0x746)]=()=>{const _0x1d2c0d=_0x1f3558,_0x5d5158=document[_0x1d2c0d(0x8da)](_0x1d2c0d(0xc2d));document[_0x1d2c0d(0x9c3)](_0x1d2c0d(0x66c))[_0x1d2c0d(0x704)]=!_0x5d5158;};}function setupStudentProgressListeners(){const _0xc997f5=_0x15d57d;document[_0xc997f5(0x9c3)](_0xc997f5(0x8f4))[_0xc997f5(0x762)](_0xc997f5(0xba1),showStudentProgressView),document[_0xc997f5(0x9c3)](_0xc997f5(0xb2c))[_0xc997f5(0x762)](_0xc997f5(0xba1),()=>{const _0x42132d=_0xc997f5;document[_0x42132d(0x9c3)]('student-progress-view')[_0x42132d(0xcbe)]['add']('hidden'),document[_0x42132d(0x9c3)](_0x42132d(0x74a))[_0x42132d(0xcbe)]['remove']('hidden');});}async function startSkillPractice(_0x20dcfb){const _0x349334=_0x15d57d;studentResultArea['classList']['add'](_0x349334(0x8e4)),studentQuizArea[_0x349334(0x632)]=_0x349334(0x81c),studentQuizArea[_0x349334(0xcbe)][_0x349334(0xa49)](_0x349334(0x8e4));try{const _0x23d2ae=await getStandardizedTopic(_0x20dcfb);console[_0x349334(0xb0b)](_0x349334(0x31f)+_0x20dcfb+_0x349334(0x904)+_0x23d2ae+'\x22'),studentQuizArea[_0x349334(0x8da)]('p')[_0x349334(0xafb)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x23d2ae+_0x349334(0x5bf);const _0xa14d17=collection(db,_0x349334(0xc02)+appId+_0x349334(0xc2b)),_0x3960b7=query(_0xa14d17,where(_0x349334(0x294),'==',_0x23d2ae)),_0x39c1d3=await getDocs(_0x3960b7);if(_0x39c1d3[_0x349334(0x293)][_0x349334(0x768)]>=0x3){console[_0x349334(0xb0b)](_0x349334(0xafa)+_0x39c1d3['docs']['length']+_0x349334(0xb62)+_0x23d2ae+_0x349334(0x338));let _0x1cfc50=_0x39c1d3[_0x349334(0x293)][_0x349334(0x929)](_0x468330=>_0x468330[_0x349334(0xc5f)]());shuffleArray(_0x1cfc50);const _0x5475e7={'topic':_0x23d2ae,'questions':_0x1cfc50['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x5475e7);}else{console['log'](_0x349334(0xa57)+_0x23d2ae+_0x349334(0xb4d));const _0x4f09e4=await generatePracticeQuestions(_0x23d2ae);await saveDrillToPracticeBank(_0x4f09e4,_0x23d2ae),displaySkillPracticeDrill(_0x4f09e4);}}catch(_0xc8590a){console['error'](_0x349334(0x99b),_0xc8590a),showMessage(_0x349334(0x44b)),studentQuizArea[_0x349334(0xcbe)][_0x349334(0xa54)](_0x349334(0x8e4)),studentResultArea[_0x349334(0xcbe)][_0x349334(0xa49)](_0x349334(0x8e4));}}async function saveDrillToPracticeBank(_0x36a30b,_0x5b3090){const _0x3d7c23=_0x15d57d,_0x2ae147=collection(db,'artifacts/'+appId+_0x3d7c23(0xc2b)),_0x1de33c=writeBatch(db);_0x36a30b['questions'][_0x3d7c23(0x326)](_0xb98edf=>{const _0xb392cd=_0x3d7c23,_0x8134a9=doc(_0x2ae147);_0x1de33c[_0xb392cd(0x62c)](_0x8134a9,{'topic':_0x5b3090,'questionText':_0xb98edf[_0xb392cd(0xb0e)],'options':_0xb98edf[_0xb392cd(0x78a)],'correctAnswerIndex':_0xb98edf[_0xb392cd(0xa02)],'explanation':_0xb98edf['explanation'],'createdAt':serverTimestamp()});});try{await _0x1de33c[_0x3d7c23(0x281)](),console[_0x3d7c23(0xb0b)](_0x3d7c23(0x409)+_0x36a30b[_0x3d7c23(0xca5)][_0x3d7c23(0x768)]+_0x3d7c23(0x824));}catch(_0x542f3c){console[_0x3d7c23(0x1c0)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x542f3c);}}async function getStandardizedTopic(_0x11ca98){const _0x2b35e4=_0x15d57d,_0xbf21b=_0x2b35e4(0x949)+_0x11ca98+_0x2b35e4(0x8ed),_0x4a1127={'type':_0x2b35e4(0x5e7),'properties':{'standardTopic':{'type':'STRING'}},'required':[_0x2b35e4(0x40a)]};try{const _0x5edb7b=await callAnalysisApi(_0xbf21b,_0x4a1127);return _0x5edb7b['standardTopic'];}catch(_0x2f0fc2){return console[_0x2b35e4(0x1c0)](_0x2b35e4(0xbc4),_0x2f0fc2),_0x11ca98;}}async function handleGenerateEasyVersionQuiz(_0xacd22c){const _0x366cdf=_0x15d57d,_0x247cea=document[_0x366cdf(0x9c3)]('results-tab-content'),_0x123490=document[_0x366cdf(0x9c3)]('project-quizzes-list');_0x123490[_0x366cdf(0xcbe)][_0x366cdf(0xa54)](_0x366cdf(0x8e4));const _0x3d8f00=_0x366cdf(0x1ce);_0x247cea['insertAdjacentHTML'](_0x366cdf(0xaf4),_0x3d8f00);try{const _0x1de503=allQuizzes[_0x366cdf(0x52d)](_0x3b9080=>_0x3b9080['id']===_0xacd22c);if(!_0x1de503)throw new Error(_0x366cdf(0x30c));const _0x1044d9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON['stringify'](_0x1de503[_0x366cdf(0xca5)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x26c7f7={'type':_0x366cdf(0x5e7),'properties':{'questionText':{'type':_0x366cdf(0x239)},'questionType':{'type':_0x366cdf(0x239)},'options':{'type':_0x366cdf(0x922),'items':{'type':_0x366cdf(0x239)}},'correctAnswerIndex':{'type':_0x366cdf(0x7a3)},'idealAnswer':{'type':_0x366cdf(0x239)},'explanation':{'type':_0x366cdf(0x239)},'imageCode':{'type':'STRING'}},'required':[_0x366cdf(0xb0e),_0x366cdf(0xc6a),_0x366cdf(0xb10)]},_0x2fc54e={'type':_0x366cdf(0x5e7),'properties':{'questions':{'type':'ARRAY','items':_0x26c7f7}},'required':[_0x366cdf(0xca5)]},_0x2a5757=await callAnalysisApi(_0x1044d9,_0x2fc54e);_0x2a5757&&_0x2a5757[_0x366cdf(0xca5)]&&_0x2a5757[_0x366cdf(0xca5)][_0x366cdf(0x326)](_0x28af6c=>{const _0xf9cdb0=_0x366cdf;if(_0x28af6c['hasOwnProperty'](_0xf9cdb0(0x7bc))){const _0x168032=String(_0x28af6c[_0xf9cdb0(0x7bc)])[_0xf9cdb0(0xa93)]();(_0x168032===''||_0x168032[_0xf9cdb0(0x630)]()===_0xf9cdb0(0x9ce)||!_0x168032['startsWith'](_0xf9cdb0(0xace)))&&delete _0x28af6c[_0xf9cdb0(0x7bc)];}});if(!_0x2a5757||!_0x2a5757[_0x366cdf(0xca5)]||_0x2a5757[_0x366cdf(0xca5)][_0x366cdf(0x768)]===0x0)throw new Error(_0x366cdf(0x1de));const _0x33623a=_0x2a5757[_0x366cdf(0xca5)][_0x366cdf(0x929)]((_0x409a03,_0x25489a)=>({..._0x409a03,'id':'q_'+Date[_0x366cdf(0xce2)]()+'_'+_0x25489a})),_0x38e7a4={'projectId':_0x1de503['projectId'],'quizType':_0x1de503[_0x366cdf(0x434)],'settings':_0x1de503[_0x366cdf(0x58b)],'createdBy':_0x1de503[_0x366cdf(0x225)],'status':_0x366cdf(0x471),'topic':_0x366cdf(0xbf5)+_0x1de503[_0x366cdf(0x294)],'questions':_0x33623a,'createdAt':new Date()[_0x366cdf(0xbb3)](),'quizMode':'standard','pairedQuizId':null};let _0x2441db;while(!![]){_0x2441db=Math[_0x366cdf(0x423)](0x3e8+Math[_0x366cdf(0x2e8)]()*0x2328)[_0x366cdf(0x771)]();const _0x21ad8f=await getDoc(doc(db,_0x366cdf(0xc02)+appId+_0x366cdf(0x21e),_0x2441db));if(!_0x21ad8f[_0x366cdf(0x6b5)]())break;}await setDoc(doc(db,_0x366cdf(0xc02)+appId+'/public/data/quizzes',_0x2441db),_0x38e7a4),showMessage(_0x366cdf(0xb1c));}catch(_0x48d3f3){console['error'](_0x366cdf(0xc1c),_0x48d3f3),showMessage('เกิดข้อผิดพลาด:\x20'+_0x48d3f3['message']);}finally{const _0x36a666=document[_0x366cdf(0x9c3)](_0x366cdf(0xb4e));_0x36a666&&_0x36a666[_0x366cdf(0xa49)](),_0x123490['classList'][_0x366cdf(0xa49)]('hidden');}}async function generatePracticeQuestions(_0x22fc28){const _0x4bbc3f=_0x15d57d,_0x1efae7=_0x4bbc3f(0x14d)+_0x22fc28+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x5d42f6={'type':_0x4bbc3f(0x5e7),'properties':{'questionText':{'type':_0x4bbc3f(0x239)},'options':{'type':_0x4bbc3f(0x922),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4bbc3f(0x7a3)},'explanation':{'type':_0x4bbc3f(0x239)}},'required':[_0x4bbc3f(0xb0e),_0x4bbc3f(0x78a),_0x4bbc3f(0xa02),_0x4bbc3f(0xb10)]},_0x1e0df2={'type':_0x4bbc3f(0x5e7),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x5d42f6}},'required':['topic',_0x4bbc3f(0xca5)]};return await callAnalysisApi(_0x1efae7,_0x1e0df2);}function displayLessonPlan(_0x3661d5,_0x36de3b){const _0x1b2231=_0x15d57d,_0x4aaf70=_0x1b2231(0x8e8)+_0x36de3b[_0x1b2231(0x294)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x3661d5[_0x1b2231(0x5f7)][_0x1b2231(0x929)](_0x30ef0d=>'<li>'+_0x30ef0d+_0x1b2231(0x5b0))['join']('')+_0x1b2231(0xcc9)+_0x3661d5['teachingContent']+_0x1b2231(0x2e3)+_0x3661d5[_0x1b2231(0xb4f)][_0x1b2231(0x929)](_0x51cf96=>_0x1b2231(0x715)+_0x51cf96[_0x1b2231(0x327)]+_0x1b2231(0xd51)+_0x51cf96[_0x1b2231(0xcc1)]+'</p></div>')[_0x1b2231(0xb2d)]('')+_0x1b2231(0x7f3);document[_0x1b2231(0x9c3)](_0x1b2231(0x750))['textContent']=_0x1b2231(0x582)+_0x36de3b[_0x1b2231(0x294)],document['getElementById'](_0x1b2231(0x565))['innerHTML']=_0x4aaf70,document[_0x1b2231(0x9c3)](_0x1b2231(0x8a8))[_0x1b2231(0xcbe)][_0x1b2231(0xa49)](_0x1b2231(0x8e4));if(window['MathJax'])MathJax[_0x1b2231(0xc2c)]();}function displaySkillPracticeDrill(_0x322fa9){const _0x43c59f=_0x15d57d;let _0x5ce2a3=0x0;const _0x2f983c=_0x322fa9[_0x43c59f(0xca5)],_0x4fd4a0=()=>{const _0xab7b22=_0x43c59f,_0x30fa8b=_0x2f983c[_0x5ce2a3],_0x12fd3d=_0xab7b22(0xca4)+(_0x5ce2a3+0x1)+_0xab7b22(0x782)+_0x2f983c[_0xab7b22(0x768)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x30fa8b['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30fa8b[_0xab7b22(0x78a)][_0xab7b22(0x929)]((_0x46ede5,_0x4341cc)=>_0xab7b22(0xb23)+_0x4341cc+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x4341cc+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x4341cc+'\x22>'+_0x46ede5+_0xab7b22(0x611))[_0xab7b22(0xb2d)]('')+_0xab7b22(0x47a);studentQuizArea['innerHTML']=_0x12fd3d;if(window[_0xab7b22(0x1b4)])MathJax[_0xab7b22(0xc2c)]([studentQuizArea]);document[_0xab7b22(0x9c3)]('hint-btn')[_0xab7b22(0x762)](_0xab7b22(0xba1),async()=>{const _0x8716b8=_0xab7b22,_0x7e0500=await getHintForQuestion(_0x30fa8b[_0x8716b8(0xb0e)]);showMessage(_0x7e0500);}),document['getElementById'](_0xab7b22(0x7ba))['addEventListener'](_0xab7b22(0xba1),()=>{const _0x2e742e=_0xab7b22,_0xbb7c36=document[_0x2e742e(0x8da)](_0x2e742e(0x249));if(!_0xbb7c36){showMessage(_0x2e742e(0x9b9));return;}const _0x49f612=document[_0x2e742e(0x9c3)](_0x2e742e(0x868)),_0x5e4505=parseInt(_0xbb7c36['value'])===_0x30fa8b[_0x2e742e(0xa02)];_0x5e4505?(_0x49f612['className']='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x49f612['innerHTML']='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x30fa8b[_0x2e742e(0xb10)]):(_0x49f612[_0x2e742e(0x405)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x49f612['innerHTML']=_0x2e742e(0x27f)+_0x30fa8b[_0x2e742e(0xb10)]);_0x49f612[_0x2e742e(0xcbe)][_0x2e742e(0xa49)](_0x2e742e(0x8e4));if(window[_0x2e742e(0x1b4)])MathJax['typesetPromise']([_0x49f612]);document[_0x2e742e(0x9c3)]('check-answer-btn')['classList'][_0x2e742e(0xa54)](_0x2e742e(0x8e4)),document[_0x2e742e(0x9c3)](_0x2e742e(0x6c1))['classList'][_0x2e742e(0xa54)](_0x2e742e(0x8e4)),document[_0x2e742e(0x9c3)](_0x2e742e(0x576))['classList'][_0x2e742e(0xa49)](_0x2e742e(0x8e4));}),document[_0xab7b22(0x9c3)](_0xab7b22(0x576))[_0xab7b22(0x762)](_0xab7b22(0xba1),()=>{const _0x144d32=_0xab7b22;_0x5ce2a3++,_0x5ce2a3<_0x2f983c[_0x144d32(0x768)]?_0x4fd4a0():(studentQuizArea[_0x144d32(0x632)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x144d32(0x9c3)](_0x144d32(0x4eb))['addEventListener'](_0x144d32(0xba1),()=>{const _0x2885fa=_0x144d32;studentQuizArea[_0x2885fa(0xcbe)][_0x2885fa(0xa54)](_0x2885fa(0x8e4)),studentResultArea[_0x2885fa(0xcbe)]['remove'](_0x2885fa(0x8e4));}));});};_0x4fd4a0();}async function getHintForQuestion(_0x404678){const _0x3878fd=_0x15d57d,_0x3f22e2=_0x3878fd(0xc5d)+_0x404678+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x5dd52e={'type':_0x3878fd(0x5e7),'properties':{'hint':{'type':_0x3878fd(0x239)}},'required':['hint']};try{const _0x84c0b0=await callAnalysisApi(_0x3f22e2,_0x5dd52e);return _0x84c0b0[_0x3878fd(0x45c)];}catch(_0x1d8476){return console[_0x3878fd(0x1c0)]('Failed\x20to\x20get\x20hint:',_0x1d8476),_0x3878fd(0x9e9);}}async function extractTextFromPdf(_0x2bf117){const _0x2bb3aa=_0x15d57d;pdfjsLib[_0x2bb3aa(0x5df)][_0x2bb3aa(0xbf1)]=_0x2bb3aa(0x91d);const _0x5c2d18=await _0x2bf117['arrayBuffer'](),_0x12b258=await pdfjsLib[_0x2bb3aa(0xd2c)](_0x5c2d18)[_0x2bb3aa(0x9f7)],_0x257a93=_0x12b258[_0x2bb3aa(0x40c)];let _0x4db4aa='';for(let _0x1259ba=0x1;_0x1259ba<=_0x257a93;_0x1259ba++){const _0x95503=await _0x12b258[_0x2bb3aa(0x79e)](_0x1259ba),_0xdd407e=await _0x95503[_0x2bb3aa(0xbda)](),_0x559437=_0xdd407e['items'][_0x2bb3aa(0x929)](_0x5f32ff=>_0x5f32ff[_0x2bb3aa(0x357)])[_0x2bb3aa(0xb2d)]('\x20');_0x4db4aa+=_0x559437+'\x0a\x0a';}return _0x4db4aa;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0xbb53b0){const _0x5d4c0d=_0x15d57d,_0x379f4d=document['getElementById'](_0x5d4c0d(0x1da)),_0x47a6eb=document[_0x5d4c0d(0x9c3)](_0x5d4c0d(0x154)),_0x97a105=document[_0x5d4c0d(0x9c3)](_0x5d4c0d(0x606));_0x379f4d[_0x5d4c0d(0xcbe)]['remove']('hidden'),_0x47a6eb['innerHTML']=_0x5d4c0d(0x763),_0x97a105[_0x5d4c0d(0xcbe)][_0x5d4c0d(0xa54)](_0x5d4c0d(0x8e4));try{const _0x14e396=_0x5d4c0d(0x490)+_0xbb53b0+_0x5d4c0d(0x3a5),_0x1f39db={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x5d4c0d(0x239)},'curriculum':{'type':_0x5d4c0d(0x922),'items':{'type':_0x5d4c0d(0x5e7),'properties':{'sara':{'type':_0x5d4c0d(0x239)},'mainTopics':{'type':_0x5d4c0d(0x922),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x5d4c0d(0x239)},'subTopics':{'type':_0x5d4c0d(0x922),'items':{'type':_0x5d4c0d(0x239)}}},'required':[_0x5d4c0d(0x16d),_0x5d4c0d(0x973)]}}},'required':[_0x5d4c0d(0x2d9),'mainTopics']}}},'required':[_0x5d4c0d(0x7b2),_0x5d4c0d(0xaac)]},_0x70d2e0=await callAnalysisApi(_0x14e396,_0x1f39db);if(_0x70d2e0&&_0x70d2e0[_0x5d4c0d(0xaac)])extractedBlueprintData=_0x70d2e0,renderBlueprintTopics(_0x70d2e0),_0x97a105['classList']['remove'](_0x5d4c0d(0x8e4));else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0xb03fc1){console[_0x5d4c0d(0x1c0)](_0x5d4c0d(0x465),_0xb03fc1),_0x47a6eb[_0x5d4c0d(0x632)]=_0x5d4c0d(0x7fa);}}function renderBlueprintTopics(_0xe8d480){const _0x3a893d=_0x15d57d,_0x2ff5a7=document[_0x3a893d(0x9c3)](_0x3a893d(0x154)),_0x45b3b9=_0xe8d480[_0x3a893d(0x7b2)],_0xd9eb85=_0x3a893d(0x80c)+_0x45b3b9+_0x3a893d(0x43e);let _0x5478cf='';_0xe8d480[_0x3a893d(0xaac)]['forEach'](_0x49fd84=>{const _0x18a393=_0x3a893d;_0x5478cf+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x49fd84[_0x18a393(0x2d9)]+_0x18a393(0x682),_0x49fd84[_0x18a393(0xb61)]['forEach'](_0x13c52b=>{const _0x907824=_0x18a393;_0x5478cf+=_0x907824(0xc8a)+_0x13c52b[_0x907824(0x16d)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x13c52b[_0x907824(0x973)][_0x907824(0x326)](_0x1c06cb=>{const _0x2621fc=_0x907824;_0x5478cf+=_0x2621fc(0xd30)+_0x1c06cb[_0x2621fc(0x3d0)](/'/g,'\x5c\x27')+_0x2621fc(0x39e)+_0x45b3b9[_0x2621fc(0x3d0)](/'/g,'\x5c\x27')+_0x2621fc(0x7eb)+_0x1c06cb+_0x2621fc(0x7a5)+_0x1c06cb[_0x2621fc(0x3d0)](/'/g,'\x5c\x27')+_0x2621fc(0x340);}),_0x5478cf+=_0x907824(0x789);}),_0x5478cf+=_0x18a393(0x175);}),_0x2ff5a7[_0x3a893d(0x632)]=_0xd9eb85+_0x5478cf;}async function handleGenerateTeachingContent(_0x49e793){const _0x246ae1=_0x15d57d,_0x20c556=document[_0x246ae1(0x9c3)](_0x246ae1(0x8a8)),_0x35814a=document[_0x246ae1(0x9c3)](_0x246ae1(0x565));document[_0x246ae1(0x9c3)](_0x246ae1(0x750))[_0x246ae1(0xafb)]=_0x246ae1(0x69b)+_0x49e793,_0x35814a[_0x246ae1(0x632)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x20c556['classList'][_0x246ae1(0xa49)]('hidden');try{const _0x100e76=_0x246ae1(0x3df)+_0x49e793+_0x246ae1(0xbbd),_0x4b3cd5={'type':_0x246ae1(0x5e7),'properties':{'keyConcepts':{'type':_0x246ae1(0x922),'items':{'type':'STRING'}},'commonMistakes':{'type':_0x246ae1(0x922),'items':{'type':_0x246ae1(0x239)}},'stepByStepExamples':{'type':_0x246ae1(0x922),'items':{'type':_0x246ae1(0x5e7),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x246ae1(0x239)}},'required':[_0x246ae1(0x327),_0x246ae1(0xcc1)]}},'teacherTips':{'type':'ARRAY','items':{'type':_0x246ae1(0x239)}}},'required':[_0x246ae1(0x4a1),'commonMistakes',_0x246ae1(0x13a),_0x246ae1(0x9e6)]},_0x434d2e=await callAnalysisApi(_0x100e76,_0x4b3cd5);displayTeachingContent(_0x434d2e,_0x49e793);}catch(_0x27e0c9){console[_0x246ae1(0x1c0)]('Error\x20generating\x20teaching\x20content:',_0x27e0c9),_0x35814a[_0x246ae1(0x632)]=_0x246ae1(0x47c)+_0x27e0c9[_0x246ae1(0xce4)]+'</p>';}}function displayTeachingContent(_0x1b3bc2,_0xd78986){const _0x323d8f=_0x15d57d,_0x42675f=document[_0x323d8f(0x9c3)]('lesson-plan-content');document[_0x323d8f(0x9c3)](_0x323d8f(0x750))[_0x323d8f(0xafb)]='เนื้อหาสำหรับสอน:\x20'+_0xd78986;const _0x2b57f6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x1b3bc2[_0x323d8f(0x4a1)][_0x323d8f(0x929)](_0x34a0d0=>'<li>'+_0x34a0d0+'</li>')[_0x323d8f(0xb2d)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x1b3bc2[_0x323d8f(0x4b4)]['map'](_0x193c52=>_0x323d8f(0x938)+_0x193c52+_0x323d8f(0x5b0))[_0x323d8f(0xb2d)]('')+_0x323d8f(0x542)+_0x1b3bc2[_0x323d8f(0x13a)]['map'](_0x3badb2=>_0x323d8f(0x4bd)+_0x3badb2[_0x323d8f(0x327)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x3badb2[_0x323d8f(0xcc1)]+_0x323d8f(0x5d8))[_0x323d8f(0xb2d)]('')+_0x323d8f(0xbc5)+_0x1b3bc2[_0x323d8f(0x9e6)][_0x323d8f(0x929)](_0x3b7cb7=>'<li>'+_0x3b7cb7+_0x323d8f(0x5b0))['join']('')+_0x323d8f(0x2bb);_0x42675f['innerHTML']=_0x2b57f6;if(window[_0x323d8f(0x1b4)])MathJax['typesetPromise']([_0x42675f]);}function _0x344c(_0x15786c,_0x2fa6c1){const _0x76b62a=_0x76b6();return _0x344c=function(_0x344c13,_0x354839){_0x344c13=_0x344c13-0x131;let _0x282db8=_0x76b62a[_0x344c13];return _0x282db8;},_0x344c(_0x15786c,_0x2fa6c1);}async function generateQuizForSingleTopic(_0xb20d18){const _0x5e0de8=_0x15d57d;console[_0x5e0de8(0xb0b)](_0x5e0de8(0x1f8)+_0xb20d18+'\x22');const _0x23f330=document[_0x5e0de8(0x9c3)](_0x5e0de8(0x90a)),_0x309194=_0x23f330[_0x5e0de8(0xbe9)][_0x5e0de8(0x768)]>0x0?_0x23f330[_0x5e0de8(0xbe9)][0x0]:null;let _0x183428=null;if(_0x309194)try{const _0x54635f=new FileReader();_0x54635f[_0x5e0de8(0x3dd)](_0x309194);const _0x521d29=await new Promise((_0x543d18,_0x230e2)=>{const _0x28a23b=_0x5e0de8;_0x54635f['onload']=()=>_0x543d18(_0x54635f[_0x28a23b(0x719)][_0x28a23b(0x260)](',')[0x1]),_0x54635f[_0x28a23b(0x1d8)]=_0x328d7c=>_0x230e2(_0x328d7c);});_0x183428=[{'inlineData':{'mimeType':_0x309194['type'],'data':_0x521d29}}];}catch(_0x31ee0c){console['error'](_0x5e0de8(0xa62),_0x31ee0c),showMessage(_0x5e0de8(0x72c));return;}generateQuiz(_0xb20d18,null,null,_0x183428,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x3334d3=null){const _0x91df33=_0x15d57d,_0x5581b2=document[_0x91df33(0x9c3)](_0x91df33(0x482)),_0x425172=document[_0x91df33(0x9c3)]('loader-text');let _0x51ce8e,_0x3399d9=[];if(_0x3334d3)_0x51ce8e=_0x3334d3,_0x3399d9=_0x51ce8e['slice'](0x2);else{const _0x38f483=document[_0x91df33(0x9c3)](_0x91df33(0x36b)),_0x28100f=document[_0x91df33(0x9c3)](_0x91df33(0x90a)),_0x2b8b0a=_0x38f483[_0x91df33(0xbe9)][0x0];if(!_0x2b8b0a){showMessage(_0x91df33(0x159));return;}_0x425172[_0x91df33(0xafb)]=_0x91df33(0x3f5);const _0x376073=await new Promise((_0x1e02d5,_0x41906e)=>{const _0x251257=_0x91df33,_0x5e05ac=new FileReader();_0x5e05ac[_0x251257(0x3dd)](_0x2b8b0a),_0x5e05ac[_0x251257(0x696)]=()=>_0x1e02d5(_0x5e05ac[_0x251257(0x719)][_0x251257(0x260)](',')[0x1]),_0x5e05ac[_0x251257(0x1d8)]=_0x41906e;});_0x51ce8e=[{'text':_0x91df33(0x24b)},{'inlineData':{'mimeType':_0x2b8b0a[_0x91df33(0x1d3)],'data':_0x376073}}];if(_0x28100f[_0x91df33(0xbe9)][_0x91df33(0x768)]>0x0){const _0xae7d32=_0x28100f[_0x91df33(0xbe9)][0x0];_0x425172['textContent']=_0x91df33(0xb6a);const _0x30499e=await new Promise((_0x5aa8ab,_0x26fd9a)=>{const _0x397f1b=_0x91df33,_0x52a249=new FileReader();_0x52a249['readAsDataURL'](_0xae7d32),_0x52a249[_0x397f1b(0x696)]=()=>_0x5aa8ab(_0x52a249[_0x397f1b(0x719)][_0x397f1b(0x260)](',')[0x1]),_0x52a249['onerror']=_0x26fd9a;}),_0x542a5d={'inlineData':{'mimeType':_0xae7d32[_0x91df33(0x1d3)],'data':_0x30499e}};_0x51ce8e['push'](_0x542a5d),_0x3399d9['push'](_0x542a5d);}}const _0x2424cf=_0x91df33(0xb1d),_0x7fa5fe=_0x91df33(0x7e4);let _0xb52318='';_0x3399d9&&_0x3399d9[_0x91df33(0x768)]>0x0?_0xb52318=_0x2424cf:_0xb52318=_0x7fa5fe;const _0x23543e=_0x91df33(0x766)+_0xb52318+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x157a84={'type':_0x91df33(0x5e7),'properties':{'questionText':{'type':_0x91df33(0x239)},'questionType':{'type':_0x91df33(0x239),'enum':[_0x91df33(0x3ee),_0x91df33(0x31e),_0x91df33(0x160),_0x91df33(0xb59)]},'options':{'type':_0x91df33(0x922),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x91df33(0x7a3)},'idealAnswer':{'type':_0x91df33(0x239)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x91df33(0x239)},'imageCode':{'type':_0x91df33(0x239)}},'required':[_0x91df33(0xc6a),_0x91df33(0xb10)]},_0x20ce15={'type':_0x91df33(0x5e7),'properties':{'topic':{'type':_0x91df33(0x239)},'questions':{'type':_0x91df33(0x922),'items':_0x157a84}},'required':[_0x91df33(0x294),'questions']};_0x51ce8e[0x0][_0x91df33(0xcde)]=_0x23543e,await handleApiCall(_0x51ce8e,_0x91df33(0x9cc),_0x20ce15);}function proceedToNextQuestion(_0x29eb7a){const _0x31c40a=_0x15d57d;studentAnswersPerQuestion[_0x31c40a(0xa6d)](_0x29eb7a),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x31c40a(0xca5)][_0x31c40a(0x768)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x41d575,_0x2b5559,_0x41c34c){const _0x3b4cac=_0x15d57d,_0x4bae6e=Object[_0x3b4cac(0x234)](_0x41d575['players']||{}),_0x1e4d2f=_0x4bae6e[_0x3b4cac(0x768)],_0x587b0e=[..._0x4bae6e][_0x3b4cac(0x65c)]((_0x22e150,_0x266886)=>_0x266886[_0x3b4cac(0xaec)]-_0x22e150['score']),_0x1349fe=_0x41c34c,_0x3bd8fd=_0x41d575['gameVariant']||_0x3b4cac(0x685),_0x1c0bf3=_0x3bd8fd===_0x3b4cac(0x328)&&_0x41d575['isAnonymousRevealed']===![];let _0x191432='';const _0x48db96=_0x41d575[_0x3b4cac(0x4b5)][_0x3b4cac(0xca5)],_0x4eec8c=_0x48db96[_0x1349fe],_0x88c76b=_0x4da093=>String[_0x3b4cac(0x7e3)](0x41+_0x4da093);let _0x261dcd='',_0x3e8d46='';if(_0x4eec8c){const _0x461878=_0x4eec8c[_0x3b4cac(0xc6a)]||_0x41d575[_0x3b4cac(0x4b5)][_0x3b4cac(0x434)];if(_0x461878==='multiple_choice'&&_0x4eec8c[_0x3b4cac(0x78a)]&&_0x4eec8c['correctAnswerIndex']!==undefined){const _0x34e47b=_0x4eec8c[_0x3b4cac(0xa02)];_0x261dcd=_0x4eec8c['options'][_0x34e47b],_0x3e8d46=_0x88c76b(_0x34e47b)+'.';}else{if(_0x461878==='true_false'){const _0x58a5d8=_0x4eec8c['correctAnswer']===!![]||String(_0x4eec8c[_0x3b4cac(0xa79)])[_0x3b4cac(0x630)]()===_0x3b4cac(0x596);_0x58a5d8?(_0x261dcd=_0x3b4cac(0x8f1),_0x3e8d46='ก.'):(_0x261dcd='ไม่ใช่\x20/\x20ผิด',_0x3e8d46='ข.');}else{if(_0x461878===_0x3b4cac(0xb59))_0x261dcd=_0x4eec8c[_0x3b4cac(0xbfc)]||'-',_0x3e8d46='';else _0x461878===_0x3b4cac(0x31e)&&(_0x261dcd=_0x4eec8c[_0x3b4cac(0x59a)]||'-',_0x3e8d46='');}}}_0x261dcd&&(_0x191432=_0x3b4cac(0x64b)+(_0x1349fe+0x1)+_0x3b4cac(0xa1c)+_0x3e8d46+'\x20'+_0x261dcd+_0x3b4cac(0xc80));const _0x5996c1=_0x587b0e[_0x3b4cac(0x929)](_0xa9a71=>{const _0x521860=_0x3b4cac;let _0x34de01=_0xa9a71[_0x521860(0xaec)];if(_0x3bd8fd===_0x521860(0xae4)){const _0x5f2d12=(_0xa9a71[_0x521860(0x493)]||[])[_0x521860(0x23a)](_0x1a2dc1=>_0x1a2dc1['questionIndex']<=_0x1349fe);_0x34de01=_0x5f2d12[_0x521860(0x23a)](_0x18191c=>_0x18191c[_0x521860(0xc0f)])[_0x521860(0x768)];}const _0x3a5871=(_0xa9a71['answers']||[])[_0x521860(0x52d)](_0x880391=>_0x880391[_0x521860(0x9a5)]===_0x1349fe),_0x574673=_0x3a5871?_0x3a5871[_0x521860(0xc0f)]:![],_0x43ee73=_0x3a5871?_0x3a5871['wasConfident']===!![]||_0x3a5871[_0x521860(0x273)]==='confident':![];let _0x1f915c='';if(_0x43ee73&&_0x574673)_0x1f915c=_0x521860(0x7d7);else{if(_0x43ee73&&!_0x574673)_0x1f915c=_0x521860(0xb58);else!_0x43ee73&&_0x574673?_0x1f915c=_0x521860(0x7b9):_0x1f915c=_0x521860(0x8dd);}const _0x3a526f=_0x1c0bf3?_0x41d575['playerNicknames'][_0xa9a71[_0x521860(0x5e1)]]||_0x521860(0xd07):_0xa9a71['name'];return _0x521860(0xccc)+_0x1f915c+_0x521860(0x57a)+_0x3a526f+'</span><span\x20class=\x22font-bold\x22>'+_0x34de01+'\x20คะแนน</span></div>';})[_0x3b4cac(0xb2d)](''),_0x21f42e=_0x48db96[_0x3b4cac(0x929)]((_0x5cccb4,_0x3eb2d8)=>{const _0x4e149d=_0x3b4cac;if(_0x3bd8fd===_0x4e149d(0xae4)&&_0x3eb2d8>_0x1349fe)return'';const _0x56c155=_0x4bae6e[_0x4e149d(0x23a)](_0x535827=>_0x535827['answers']&&_0x535827[_0x4e149d(0x493)]['find'](_0x73aa6c=>_0x73aa6c['questionIndex']===_0x3eb2d8&&_0x73aa6c[_0x4e149d(0xc0f)]))['length'],_0xaa9884=_0x3eb2d8===_0x1349fe,_0x1bbfad=_0xaa9884?_0x4e149d(0x431):'p-2\x20bg-black/10\x20rounded-md';return _0x4e149d(0x689)+_0x1bbfad+_0x4e149d(0x900)+(_0x3eb2d8+0x1)+_0x4e149d(0x2f2)+_0x56c155+_0x4e149d(0x782)+_0x1e4d2f+_0x4e149d(0x56b);})[_0x3b4cac(0xb2d)]('');let _0x2040f3='',_0x188ec6='';if(_0x2b5559){const _0x59b4c8=_0x3bd8fd===_0x3b4cac(0x685)&&_0x41d575['currentQuestionIndex']>=_0x48db96[_0x3b4cac(0x768)]-0x1,_0x44c651=_0x3bd8fd===_0x3b4cac(0xae4)&&_0x41d575['reviewQuestionIndex']>=_0x48db96[_0x3b4cac(0x768)]-0x1,_0x59c397=_0x3bd8fd==='anonymous'&&_0x41d575[_0x3b4cac(0x819)]>=_0x48db96[_0x3b4cac(0x768)]-0x1;_0x59b4c8||_0x44c651||_0x59c397?_0x3bd8fd===_0x3b4cac(0x328)&&_0x41d575[_0x3b4cac(0x166)]===![]?_0x2040f3=_0x3b4cac(0x706):_0x2040f3=_0x3b4cac(0x287):_0x2040f3=_0x3b4cac(0xac3),_0x188ec6='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x4059ba='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x41d575['shuffledQuiz'][_0x3b4cac(0x294)]+_0x3b4cac(0x6e8)+_0x188ec6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x191432+_0x3b4cac(0x1ec)+(_0x5996c1||_0x3b4cac(0x741))+_0x3b4cac(0xa9a)+_0x21f42e+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2b5559?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x2040f3+_0x3b4cac(0x175):'')+_0x3b4cac(0x5d0);liveGameView[_0x3b4cac(0x632)]=_0x4059ba;if(window[_0x3b4cac(0x1b4)]){const _0x47b3a1=document[_0x3b4cac(0x9c3)](_0x3b4cac(0x148));_0x47b3a1&&MathJax['typesetPromise']([_0x47b3a1]);}if(_0x2b5559){document['getElementById'](_0x3b4cac(0x515))['onclick']=async()=>{const _0x5e6fe7=_0x3b4cac,_0xc53253=doc(db,'artifacts/'+appId+_0x5e6fe7(0x37d),currentLiveGameId),_0x697a48=_0x3bd8fd===_0x5e6fe7(0x685)&&_0x41d575[_0x5e6fe7(0x819)]>=_0x48db96['length']-0x1,_0x48109b=_0x3bd8fd===_0x5e6fe7(0xae4)&&_0x41d575[_0x5e6fe7(0x724)]>=_0x48db96[_0x5e6fe7(0x768)]-0x1,_0x268a50=_0x3bd8fd==='anonymous'&&_0x41d575['currentQuestionIndex']>=_0x48db96[_0x5e6fe7(0x768)]-0x1;if(_0x3bd8fd===_0x5e6fe7(0xae4))!_0x48109b?await updateDoc(_0xc53253,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0xc53253,{'status':_0x5e6fe7(0xb35)});else{if(!_0x697a48&&!_0x268a50){const _0xcc62cc=_0x41d575[_0x5e6fe7(0x819)]+0x1,_0x4ef40d={};Object['keys'](_0x41d575['players'])[_0x5e6fe7(0x326)](_0x53d900=>{const _0x2bf08b=_0x5e6fe7;_0x4ef40d[_0x2bf08b(0x52e)+_0x53d900+'.answered']=![],_0x4ef40d[_0x2bf08b(0x52e)+_0x53d900+_0x2bf08b(0x8b2)]=null;}),await updateDoc(_0xc53253,{..._0x4ef40d,'status':_0x5e6fe7(0x327),'currentQuestionIndex':_0xcc62cc,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0xc53253,{'status':_0x5e6fe7(0xb35)});}},document[_0x3b4cac(0x9c3)](_0x3b4cac(0x3de))?.[_0x3b4cac(0x762)](_0x3b4cac(0xba1),async()=>{const _0x551d72=_0x3b4cac,_0x2cddb5=doc(db,_0x551d72(0xc02)+appId+_0x551d72(0x37d),currentLiveGameId);await updateDoc(_0x2cddb5,{'isAnonymousRevealed':!![]});});const _0xd62551=document[_0x3b4cac(0x9c3)](_0x3b4cac(0x7f7));_0xd62551&&(_0xd62551[_0x3b4cac(0xd41)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x2b2463=_0x344c,_0xb6141b=doc(db,_0x2b2463(0xc02)+appId+_0x2b2463(0x37d),currentLiveGameId);await updateDoc(_0xb6141b,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x3b5367){const _0x5aebfc=_0x15d57d,_0x318637=document[_0x5aebfc(0x9c3)](_0x5aebfc(0xa11)),_0x40b015=document[_0x5aebfc(0x9c3)]('project-quizzes-list');_0x40b015['classList']['add'](_0x5aebfc(0x8e4));const _0x5dce4d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x3b5367[_0x5aebfc(0x294)]+_0x5aebfc(0x144);_0x318637[_0x5aebfc(0x478)]('beforeend',_0x5dce4d);const _0x5a0b11=document['getElementById'](_0x5aebfc(0x1a6));try{const _0x3e2732=_0x3b5367[_0x5aebfc(0xca5)][_0x5aebfc(0x929)]((_0xc61476,_0x59882a)=>{const _0x99267c=_0x5aebfc;let _0x52e73d=_0x59882a+0x1+'.\x20'+(_0xc61476[_0x99267c(0xb0e)]||_0xc61476[_0x99267c(0x176)])+'\x0a';if(_0xc61476[_0x99267c(0x78a)])_0x52e73d+=_0xc61476[_0x99267c(0x78a)][_0x99267c(0x929)]((_0x5358e1,_0x5300e9)=>_0x99267c(0xcbb)+(_0x5300e9===_0xc61476['correctAnswerIndex']?_0x99267c(0xbbe):'')+'\x20'+_0x5358e1)[_0x99267c(0xb2d)]('\x0a');else _0xc61476[_0x99267c(0x59a)]&&(_0x52e73d+='\x20\x20\x20-\x20คำตอบ:\x20'+_0xc61476[_0x99267c(0x59a)]);return _0x52e73d;})[_0x5aebfc(0xb2d)]('\x0a\x0a');_0x5a0b11[_0x5aebfc(0xafb)]=_0x5aebfc(0x63d);const _0x90e37=_0x5aebfc(0x815)+_0x3b5367[_0x5aebfc(0x294)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e2732+_0x5aebfc(0x5f2)+simpleMathPrompt+_0x5aebfc(0x660),_0x5a006b={'type':_0x5aebfc(0x5e7),'properties':{'questionText':{'type':_0x5aebfc(0x239)},'questionType':{'type':_0x5aebfc(0x239),'enum':['multiple_choice',_0x5aebfc(0x31e),_0x5aebfc(0x160),_0x5aebfc(0xb59)]},'options':{'type':_0x5aebfc(0x922),'items':{'type':_0x5aebfc(0x239)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x5aebfc(0x63a)},'stem':{'type':_0x5aebfc(0x239)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5aebfc(0x922),'items':{'type':'STRING'}},'explanation':{'type':_0x5aebfc(0x239)},'imageCode':{'type':'STRING'}},'required':[_0x5aebfc(0xc6a),_0x5aebfc(0xb10)]},_0xcc4ba7={'type':_0x5aebfc(0x5e7),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5aebfc(0x922),'items':_0x5a006b}},'required':[_0x5aebfc(0x294),'questions']},_0x1a9434=await callAnalysisApi(_0x90e37,_0xcc4ba7),_0x20f030=_0x1a9434['questions'][_0x5aebfc(0x929)]((_0x582b49,_0x4cea24)=>({..._0x582b49,'id':'q_'+Date[_0x5aebfc(0xce2)]()+'_'+_0x4cea24})),_0x50eada='(คู่ขนาน)\x20'+_0x3b5367['topic'],_0x3e41d1={'topic':_0x50eada,'questions':_0x20f030,'quizType':_0x3b5367['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5aebfc(0xbb3)](),'status':_0x5aebfc(0x471),'settings':_0x3b5367[_0x5aebfc(0x58b)],'quizMode':_0x5aebfc(0xb84),'pairedQuizId':null,'lessonPlan':null};let _0x56795f;while(!![]){_0x56795f=Math[_0x5aebfc(0x423)](0x3e8+Math[_0x5aebfc(0x2e8)]()*0x2328)[_0x5aebfc(0x771)]();const _0x4296a3=await getDoc(doc(db,_0x5aebfc(0xc02)+appId+_0x5aebfc(0x21e),_0x56795f));if(!_0x4296a3[_0x5aebfc(0x6b5)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5aebfc(0x21e),_0x56795f),_0x3e41d1),showMessage(_0x5aebfc(0xb65));}catch(_0x29d9a0){console[_0x5aebfc(0x1c0)](_0x5aebfc(0xc31),_0x29d9a0),showMessage(_0x5aebfc(0x5a0)+_0x29d9a0[_0x5aebfc(0xce4)]);}finally{const _0xd3c8e6=document[_0x5aebfc(0x9c3)](_0x5aebfc(0xb4e));_0xd3c8e6&&_0xd3c8e6[_0x5aebfc(0xa49)](),_0x40b015[_0x5aebfc(0xcbe)][_0x5aebfc(0xa49)]('hidden');}}async function handleGenerateParallelPostTest(_0x31f795){const _0x2eaf8b=_0x15d57d,_0x3e1741=document[_0x2eaf8b(0x9c3)]('results-tab-content'),_0x184a1e=document['getElementById']('project-quizzes-list');_0x184a1e[_0x2eaf8b(0xcbe)][_0x2eaf8b(0xa54)](_0x2eaf8b(0x8e4));const _0xbb97e5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3e1741[_0x2eaf8b(0x478)](_0x2eaf8b(0xaf4),_0xbb97e5);try{const _0x3c9225=_0x31f795[_0x2eaf8b(0xca5)]['map']((_0x28e43c,_0x8e53d9)=>{const _0x27d603=_0x2eaf8b;let _0x7ad47f=_0x8e53d9+0x1+'.\x20'+(_0x28e43c['questionText']||_0x28e43c[_0x27d603(0x176)]);if(_0x28e43c[_0x27d603(0x78a)])_0x7ad47f+=_0x27d603(0x1e4)+_0x28e43c[_0x27d603(0x78a)]['join'](',\x20');return _0x7ad47f;})[_0x2eaf8b(0xb2d)]('\x0a\x0a'),_0x18d130='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x31f795[_0x2eaf8b(0x294)]+_0x2eaf8b(0x969)+_0x3c9225+_0x2eaf8b(0xa26)+simpleMathPrompt+_0x2eaf8b(0x660),_0x28b266={'type':_0x2eaf8b(0x5e7),'properties':{'topic':{'type':_0x2eaf8b(0x239)},'questions':{'type':'ARRAY','items':{'type':_0x2eaf8b(0x5e7),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2eaf8b(0x239)},'options':{'type':_0x2eaf8b(0x922),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2eaf8b(0x239)},'explanation':{'type':'STRING'}},'required':[_0x2eaf8b(0xb0e),'explanation']}}},'required':[_0x2eaf8b(0x294),'questions']},_0x3f0a96=await callAnalysisApi(_0x18d130,_0x28b266),_0x33dd7f=_0x31f795[_0x2eaf8b(0x294)][_0x2eaf8b(0x3d0)]('(ก่อนเรียน)','')[_0x2eaf8b(0xa93)](),_0x195172=_0x2eaf8b(0x9ba)+_0x33dd7f,_0x53fd95={..._0x3f0a96,'topic':_0x195172,'quizType':_0x31f795[_0x2eaf8b(0x434)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2eaf8b(0xbb3)](),'status':'active','settings':_0x31f795[_0x2eaf8b(0x58b)],'quizMode':_0x2eaf8b(0xb2a),'pairedQuizId':_0x31f795['id']};let _0x438aea;while(!![]){_0x438aea=Math[_0x2eaf8b(0x423)](0x3e8+Math[_0x2eaf8b(0x2e8)]()*0x2328)['toString']();const _0x75b15c=await getDoc(doc(db,_0x2eaf8b(0xc02)+appId+_0x2eaf8b(0x21e),_0x438aea));if(!_0x75b15c[_0x2eaf8b(0x6b5)]())break;}await setDoc(doc(db,_0x2eaf8b(0xc02)+appId+_0x2eaf8b(0x21e),_0x438aea),_0x53fd95);const _0x4689b9=doc(db,'artifacts/'+appId+_0x2eaf8b(0x21e),_0x31f795['id']);await updateDoc(_0x4689b9,{'pairedQuizId':_0x438aea}),showMessage(_0x2eaf8b(0x382));}catch(_0x2393c0){console[_0x2eaf8b(0x1c0)](_0x2eaf8b(0xb6d),_0x2393c0),showMessage(_0x2eaf8b(0x5a0)+_0x2393c0[_0x2eaf8b(0xce4)]);}finally{const _0x177267=document[_0x2eaf8b(0x9c3)](_0x2eaf8b(0xb4e));if(_0x177267)_0x177267[_0x2eaf8b(0xa49)]();_0x184a1e[_0x2eaf8b(0xcbe)][_0x2eaf8b(0xa49)](_0x2eaf8b(0x8e4));}}async function handleGenerateParallelTest(_0x2c3d37=null){const _0x48f7a9=_0x15d57d;let _0x2abc91=_0x2c3d37;if(!_0x2abc91){const _0x8facee=document[_0x48f7a9(0x9c3)](_0x48f7a9(0x73f));_0x8facee[_0x48f7a9(0xbe9)][_0x48f7a9(0x768)]>0x0&&(_0x2abc91=_0x8facee[_0x48f7a9(0xbe9)][0x0]);}if(!_0x2abc91){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x33852c=document[_0x48f7a9(0x9c3)]('loader'),_0x43b37d=document[_0x48f7a9(0x9c3)](_0x48f7a9(0x4a2)),_0x2041ac=document['getElementById'](_0x48f7a9(0x137)),_0x423340=document[_0x48f7a9(0x9c3)](_0x48f7a9(0x5ca));_0x423340[_0x48f7a9(0x704)]=!![],document[_0x48f7a9(0x9c3)](_0x48f7a9(0x7d3))['classList']['remove'](_0x48f7a9(0x8e4)),_0x2041ac[_0x48f7a9(0x632)]='',_0x33852c[_0x48f7a9(0xcbe)]['remove']('hidden'),_0x43b37d[_0x48f7a9(0xafb)]='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0x123813=new FileReader();_0x123813['readAsDataURL'](_0x2abc91),_0x123813['onload']=async()=>{const _0x1c8b36=_0x48f7a9;try{const _0x2f34fe=_0x123813[_0x1c8b36(0x719)][_0x1c8b36(0x260)](',')[0x1],_0x49f6f8=_0x2abc91[_0x1c8b36(0x1d3)];_0x43b37d[_0x1c8b36(0xafb)]=_0x1c8b36(0x13f);const _0x1c6399=document[_0x1c8b36(0x9c3)](_0x1c8b36(0x355))[_0x1c8b36(0x57b)],_0x5793b2=_0x1c6399?_0x1c8b36(0x7fb):'',_0xd482ec=_0x1c8b36(0x991),_0x371bb5={'type':_0x1c8b36(0x5e7),'properties':{'questionText':{'type':_0x1c8b36(0x239)},'questionType':{'type':_0x1c8b36(0x239),'enum':['multiple_choice',_0x1c8b36(0x31e)]},'options':{'type':_0x1c8b36(0x922),'items':{'type':_0x1c8b36(0x239)}},'correctAnswerIndex':{'type':_0x1c8b36(0x7a3)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x1c8b36(0x239)},'imageCode':{'type':_0x1c8b36(0x239)}},'required':[_0x1c8b36(0xb0e),_0x1c8b36(0xc6a),_0x1c8b36(0xb10)]},_0x5f52cb={'type':_0x1c8b36(0x5e7),'properties':{'topic':{'type':_0x1c8b36(0x239)},'questions':{'type':_0x1c8b36(0x922),'items':_0x371bb5}},'required':['topic',_0x1c8b36(0xca5)]},_0x125673=[{'text':_0xd482ec},{'inlineData':{'mimeType':_0x49f6f8,'data':_0x2f34fe}}];await handleApiCall(_0x125673,_0x1c8b36(0x62e),_0x5f52cb);}catch(_0x1b4bc0){console[_0x1c8b36(0x1c0)](_0x1c8b36(0x8f3),_0x1b4bc0),showMessage(_0x1c8b36(0x5a0)+_0x1b4bc0['message']),_0x2041ac[_0x1c8b36(0x632)]=_0x1c8b36(0x6e5);}finally{_0x33852c['classList'][_0x1c8b36(0xa54)]('hidden'),_0x423340[_0x1c8b36(0x704)]=![];}},_0x123813['onerror']=_0x5bb7b3=>{const _0x5a80d6=_0x48f7a9;console[_0x5a80d6(0x1c0)](_0x5a80d6(0xb5d),_0x5bb7b3),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x33852c['classList'][_0x5a80d6(0xa54)](_0x5a80d6(0x8e4)),_0x423340[_0x5a80d6(0x704)]=![];};}async function handleRegenerateQuestionInEditor(_0x459ef1){const _0x1e4a2b=_0x15d57d;if(currentEditingQuizData===null)return;const _0x1bb710=document[_0x1e4a2b(0x8da)](_0x1e4a2b(0xad7)+_0x459ef1+'\x22]');_0x1bb710&&(_0x1bb710[_0x1e4a2b(0x632)]=_0x1e4a2b(0x4d5));const _0x2bb439=currentEditingQuizData[_0x1e4a2b(0xca5)][_0x459ef1],_0x18c147=currentEditingQuizData[_0x1e4a2b(0x294)],_0x32e61f=_0x2bb439[_0x1e4a2b(0xc6a)],_0x419e3a={'type':_0x1e4a2b(0x5e7),'properties':{'questionText':{'type':_0x1e4a2b(0x239)},'options':{'type':_0x1e4a2b(0x922),'items':{'type':_0x1e4a2b(0x239)}},'correctAnswerIndex':{'type':_0x1e4a2b(0x7a3)},'explanation':{'type':_0x1e4a2b(0x239)}},'required':['questionText',_0x1e4a2b(0x78a),_0x1e4a2b(0xa02),_0x1e4a2b(0xb10)]},_0x1f4bde={'type':_0x1e4a2b(0x5e7),'properties':{'questionText':{'type':_0x1e4a2b(0x239)},'idealAnswer':{'type':_0x1e4a2b(0x239)},'explanation':{'type':_0x1e4a2b(0x239)}},'required':[_0x1e4a2b(0xb0e),_0x1e4a2b(0x59a),_0x1e4a2b(0xb10)]};let _0x3d056e,_0x415d11='';_0x32e61f===_0x1e4a2b(0x3ee)?(_0x3d056e=_0x419e3a,_0x415d11='แบบปรนัย\x204\x20ตัวเลือก'):(_0x3d056e=_0x1f4bde,_0x415d11=_0x1e4a2b(0x82b));const _0xcd3a3e=_0x1e4a2b(0x15d)+_0x18c147+_0x1e4a2b(0xaa6)+_0x415d11+_0x1e4a2b(0xb33)+(_0x2bb439[_0x1e4a2b(0xb0e)]||_0x2bb439[_0x1e4a2b(0x176)])+_0x1e4a2b(0x57d)+simpleMathPrompt;try{const _0x40faa3=await callAnalysisApi(_0xcd3a3e,_0x3d056e);currentEditingQuizData[_0x1e4a2b(0xca5)][_0x459ef1]={..._0x2bb439,..._0x40faa3},renderQuizEditor(currentEditingQuizData);}catch(_0x5b5bde){console['error']('Error\x20regenerating\x20question\x20in\x20editor:',_0x5b5bde),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x42bc79=_0x15d57d,_0x4c7818=document['getElementById'](_0x42bc79(0xa34));currentMode==='student'?(currentMode=_0x42bc79(0x5eb),_0x4c7818[_0x42bc79(0x632)]=_0x42bc79(0xa92),_0x4c7818[_0x42bc79(0xb6e)]='สลับไปโหมดนักเรียน',showView(_0x42bc79(0x964))):(currentMode=_0x42bc79(0x939),_0x4c7818[_0x42bc79(0x632)]=_0x42bc79(0x400),_0x4c7818[_0x42bc79(0xb6e)]=_0x42bc79(0x179),showView(_0x42bc79(0x939)));}function handleAdminLogin(){const _0x3d7f82=_0x15d57d,_0x2177f6=document[_0x3d7f82(0x9c3)](_0x3d7f82(0xade)),_0x89e11b=document[_0x3d7f82(0x9c3)](_0x3d7f82(0x79d));if(_0x2177f6[_0x3d7f82(0x3bb)]===_0x3d7f82(0x890)){adminPasswordModal[_0x3d7f82(0xcbe)][_0x3d7f82(0xa54)](_0x3d7f82(0x8e4)),_0x2177f6[_0x3d7f82(0x3bb)]='',_0x89e11b[_0x3d7f82(0xcbe)][_0x3d7f82(0xa54)](_0x3d7f82(0x8e4)),currentMode=_0x3d7f82(0x5eb);const _0x858955=document[_0x3d7f82(0x9c3)](_0x3d7f82(0xa34));_0x858955[_0x3d7f82(0x632)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x858955[_0x3d7f82(0xb6e)]=_0x3d7f82(0x4cb),showView(_0x3d7f82(0x964));}else _0x89e11b[_0x3d7f82(0xcbe)][_0x3d7f82(0xa49)](_0x3d7f82(0x8e4)),_0x2177f6[_0x3d7f82(0x3bb)]='';}function switchProjectTab(_0x3f823d){const _0x234780=_0x15d57d;[_0x234780(0xa8c),_0x234780(0x76d),_0x234780(0x3bd)][_0x234780(0x326)](_0x116fec=>{const _0x327330=_0x234780;document[_0x327330(0x9c3)](_0x116fec+'-tab')[_0x327330(0xcbe)][_0x327330(0xa49)](_0x327330(0x471)),document[_0x327330(0x9c3)](_0x116fec+_0x327330(0xc5b))[_0x327330(0xcbe)][_0x327330(0xa54)](_0x327330(0x8e4));}),document[_0x234780(0x9c3)](_0x3f823d+_0x234780(0x63c))['classList'][_0x234780(0xa54)](_0x234780(0x471)),document[_0x234780(0x9c3)](_0x3f823d+_0x234780(0xc5b))[_0x234780(0xcbe)][_0x234780(0xa49)]('hidden');}function switchQuizDetailTab(_0x701462){const _0xaceb76=_0x15d57d,_0xba871d={'analytics':{'btn':_0xaceb76(0x87d),'content':_0xaceb76(0x2f9)},'scores':{'btn':_0xaceb76(0x332),'content':_0xaceb76(0xce6)},'leaderboard-quiz':{'btn':_0xaceb76(0x508),'content':_0xaceb76(0xb0a)},'behavior-log':{'btn':_0xaceb76(0x25a),'content':_0xaceb76(0xc00)}};for(const _0x18f626 in _0xba871d){document[_0xaceb76(0x9c3)](_0xba871d[_0x18f626][_0xaceb76(0x3f9)])['classList'][_0xaceb76(0xa49)](_0xaceb76(0x471)),document[_0xaceb76(0x9c3)](_0xba871d[_0x18f626][_0xaceb76(0xa30)])[_0xaceb76(0xcbe)][_0xaceb76(0xa54)]('hidden');}document[_0xaceb76(0x9c3)](_0xba871d[_0x701462][_0xaceb76(0x3f9)])[_0xaceb76(0xcbe)][_0xaceb76(0xa54)](_0xaceb76(0x471)),document['getElementById'](_0xba871d[_0x701462][_0xaceb76(0xa30)])[_0xaceb76(0xcbe)][_0xaceb76(0xa49)](_0xaceb76(0x8e4));}function showMessage(_0x165730,_0x4eefb9=null){const _0x5c53fd=_0x15d57d;modalMessage[_0x5c53fd(0xafb)]=_0x165730,modalConfirmAction=_0x4eefb9,messageModal[_0x5c53fd(0xcbe)][_0x5c53fd(0xa49)](_0x5c53fd(0x8e4));}function showConfirmation(_0x5b8356,_0xf22b94){const _0xb09d0d=_0x15d57d;document[_0xb09d0d(0x9c3)]('confirmation-message')[_0xb09d0d(0xafb)]=_0x5b8356,document[_0xb09d0d(0x9c3)](_0xb09d0d(0x210))[_0xb09d0d(0x8da)]('h3')[_0xb09d0d(0xafb)]=_0xb09d0d(0x854),confirmAction=_0xf22b94,confirmationModal[_0xb09d0d(0xcbe)]['remove'](_0xb09d0d(0x8e4));}function listenForProjects(){const _0x1e35f0=_0x15d57d,_0x5414a4=doc(db,_0x1e35f0(0x510),_0x1e35f0(0xac1));onSnapshot(_0x5414a4,_0x5f4cfb=>{const _0x16bd62=_0x1e35f0;if(_0x5f4cfb[_0x16bd62(0x6b5)]()){const _0x499749=_0x5f4cfb[_0x16bd62(0xc5f)]();globalDashboardSettings['projectSort']=_0x499749[_0x16bd62(0x2fd)]||'date_desc',globalDashboardSettings['pinnedProjects']=_0x499749[_0x16bd62(0x5c0)]||[],globalDashboardSettings[_0x16bd62(0xd06)]=_0x499749[_0x16bd62(0xd06)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x41955b=collection(db,_0x1e35f0(0xc02)+appId+_0x1e35f0(0x47e));unsubscribeProjectsListener=onSnapshot(_0x41955b,_0x4b447e=>{const _0x2b5fdb=_0x1e35f0;allProjects=_0x4b447e[_0x2b5fdb(0x293)][_0x2b5fdb(0x929)](_0x56e328=>({'id':_0x56e328['id'],..._0x56e328[_0x2b5fdb(0xc5f)]()})),renderProjects();},_0xcc2f03=>{const _0x13a8e8=_0x1e35f0;console[_0x13a8e8(0x1c0)](_0x13a8e8(0x9f4),_0xcc2f03),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x1893c8,_0xd941d2){const _0x36dfa2=_0x15d57d;document[_0x36dfa2(0xc76)](_0x36dfa2(0x5d7))['forEach'](_0x1c444d=>_0x1c444d['remove']());const _0x5cee6a=[_0x36dfa2(0xb44),'#FEE2E2',_0x36dfa2(0x325),_0x36dfa2(0x599),_0x36dfa2(0x5b1),_0x36dfa2(0xc73),'#F3E8FF',_0x36dfa2(0xa03),_0x36dfa2(0x9eb)],_0x34dc08=document[_0x36dfa2(0x2d5)](_0x36dfa2(0xa53));_0x34dc08['className']=_0x36dfa2(0x561),_0x5cee6a['forEach'](_0x234808=>{const _0x3706a1=_0x36dfa2,_0x4d6edf=document[_0x3706a1(0x2d5)]('div');_0x4d6edf[_0x3706a1(0x405)]=_0x3706a1(0xc4f),_0x4d6edf[_0x3706a1(0x827)][_0x3706a1(0x4d8)]=_0x234808,_0x4d6edf['addEventListener'](_0x3706a1(0xba1),()=>{const _0x25ecea=_0x3706a1;handleProjectColorChange(_0xd941d2,_0x234808),_0x34dc08[_0x25ecea(0xa49)]();}),_0x34dc08['appendChild'](_0x4d6edf);}),document[_0x36dfa2(0x99e)][_0x36dfa2(0x86e)](_0x34dc08);const _0x1d6931=_0x1893c8[_0x36dfa2(0xb73)]();_0x34dc08[_0x36dfa2(0x827)]['top']=_0x1d6931['bottom']+window[_0x36dfa2(0x187)]+'px',_0x34dc08[_0x36dfa2(0x827)][_0x36dfa2(0x9d2)]=_0x1d6931[_0x36dfa2(0x9d2)]+window[_0x36dfa2(0x503)]-_0x34dc08[_0x36dfa2(0xa74)]/0x2+'px';}async function handleProjectColorChange(_0x5487d4,_0xd8ddd1){const _0x29f2cf=_0x15d57d,_0x198b4a=doc(db,'artifacts/'+appId+'/public/data/projects',_0x5487d4);try{await updateDoc(_0x198b4a,{'color':_0xd8ddd1});}catch(_0xdd3ad6){console['error'](_0x29f2cf(0x9bd),_0xdd3ad6),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x2c4869=_0x15d57d,_0x1854be=globalDashboardSettings['projectSort']||_0x2c4869(0x224),_0x26fc95=new Set(globalDashboardSettings[_0x2c4869(0x5c0)]||[]),_0x514109=globalDashboardSettings[_0x2c4869(0x982)]||'grid',_0x42ff64=document[_0x2c4869(0x9c3)](_0x2c4869(0xca6)),_0x202a80=document[_0x2c4869(0x9c3)]('list-view-btn');_0x42ff64['classList'][_0x2c4869(0xd50)]('active',_0x514109===_0x2c4869(0xb18)),_0x202a80[_0x2c4869(0xcbe)][_0x2c4869(0xd50)]('active',_0x514109===_0x2c4869(0xc52)),document[_0x2c4869(0x9c3)](_0x2c4869(0x77e))[_0x2c4869(0x3bb)]=_0x1854be;const _0x174ff1=document[_0x2c4869(0x9c3)]('project-search-input')['value']['toLowerCase']();let _0x4facd8=allProjects['filter'](_0x4e4940=>_0x4e4940[_0x2c4869(0x5fc)][_0x2c4869(0x630)]()['includes'](_0x174ff1));const _0x5ebb6b=_0x4facd8[_0x2c4869(0x23a)](_0x4d58a8=>_0x26fc95[_0x2c4869(0x9d0)](_0x4d58a8['id'])),_0x22097e=_0x4facd8['filter'](_0x15d577=>!_0x26fc95[_0x2c4869(0x9d0)](_0x15d577['id'])),_0x2c66eb=(_0x31a642,_0x54b7ac)=>{const _0x4fb466=_0x2c4869;switch(_0x1854be){case _0x4fb466(0x664):return _0x31a642['projectName']['localeCompare'](_0x54b7ac[_0x4fb466(0x5fc)],'th');case _0x4fb466(0x992):return _0x54b7ac[_0x4fb466(0x5fc)][_0x4fb466(0x49c)](_0x31a642[_0x4fb466(0x5fc)],'th');case _0x4fb466(0x359):return new Date(_0x31a642[_0x4fb466(0x460)])-new Date(_0x54b7ac['createdAt']);default:return new Date(_0x54b7ac[_0x4fb466(0x460)])-new Date(_0x31a642[_0x4fb466(0x460)]);}};_0x5ebb6b[_0x2c4869(0x65c)](_0x2c66eb),_0x22097e[_0x2c4869(0x65c)](_0x2c66eb);const _0x105a6a=[..._0x5ebb6b,..._0x22097e],_0x2c7c6d=globalDashboardSettings['projectOrder']||[];_0x2c7c6d[_0x2c4869(0x768)]>0x0&&_0x514109===_0x2c4869(0xb18)&&_0x105a6a['sort']((_0xaaa828,_0x36bb61)=>{const _0x46c3c5=_0x2c4869,_0x5237fa=_0x2c7c6d[_0x46c3c5(0x3fd)](_0xaaa828['id']),_0x4996ec=_0x2c7c6d[_0x46c3c5(0x3fd)](_0x36bb61['id']);if(_0x5237fa===-0x1)return 0x1;if(_0x4996ec===-0x1)return-0x1;return _0x5237fa-_0x4996ec;});const _0x217693={};await Promise[_0x2c4869(0xbfe)](_0x105a6a['map'](async _0x44c0c4=>{const _0x2ff7e8=_0x2c4869,_0x19321b=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x2ff7e8(0x257),'==',_0x44c0c4['id'])),_0x271254=await getDocs(_0x19321b);_0x217693[_0x44c0c4['id']]=_0x271254['size'];}));const _0xaea1f2=document[_0x2c4869(0x9c3)](_0x2c4869(0x42e));let _0x138b6e='';if(_0x514109==='grid'){_0xaea1f2[_0x2c4869(0x405)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x2c4869(0x768)]>0x0&&_0x174ff1===''){const _0x879603=starredQuizzes[_0x2c4869(0x929)](_0x2f3730=>{const _0x51ec75=_0x2c4869,_0x223c87=allProjects[_0x51ec75(0x52d)](_0x2a83cc=>_0x2a83cc['id']===_0x2f3730['projectId']);return{..._0x2f3730,'projectName':_0x223c87?_0x223c87['projectName']:'N/A'};});_0x138b6e+=_0x2c4869(0x38b)+_0x879603[_0x2c4869(0x929)](_0x12c7a0=>_0x2c4869(0xd0c)+_0x12c7a0[_0x2c4869(0x294)]+'\x22>'+_0x12c7a0[_0x2c4869(0x294)]+_0x2c4869(0x7e9)+_0x12c7a0[_0x2c4869(0x5fc)]+'\x22>จาก:\x20'+_0x12c7a0['projectName']+_0x2c4869(0x7de))[_0x2c4869(0xb2d)]('')+_0x2c4869(0x2f3)+starredQuizzes[_0x2c4869(0x768)]+_0x2c4869(0x714);}_0x105a6a[_0x2c4869(0x326)](_0x30a66a=>{const _0x476cad=_0x2c4869,_0x3c03ff=_0x217693[_0x30a66a['id']]??0x0,_0xdfa737=_0x26fc95['has'](_0x30a66a['id']),_0x26d7e4=_0x30a66a[_0x476cad(0x6a1)]||_0x476cad(0xb44),_0x3af3f1=parseInt(_0x26d7e4[_0x476cad(0x45e)](0x1,0x3),0x10)*0.299+parseInt(_0x26d7e4[_0x476cad(0x45e)](0x3,0x5),0x10)*0.587+parseInt(_0x26d7e4[_0x476cad(0x45e)](0x5,0x7),0x10)*0.114<0xba,_0x43b34d=_0x3af3f1?_0x476cad(0x2e9):'text-indigo-800',_0x50117b=_0x3af3f1?_0x476cad(0x514):_0x476cad(0x1c8);_0x138b6e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0xdfa737?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x476cad(0x376))+_0x476cad(0xa10)+_0x26d7e4+';\x22\x20data-id=\x22'+_0x30a66a['id']+_0x476cad(0x2c9)+_0x30a66a['id']+_0x476cad(0x1c2)+(_0x3af3f1?_0x476cad(0x92e):'text-gray-400\x20hover:text-indigo-600')+_0x476cad(0x58f)+_0x30a66a['id']+_0x476cad(0x2b1)+(_0x3af3f1?_0x476cad(0x92e):'text-gray-400\x20hover:text-indigo-600')+_0x476cad(0x9c9)+(_0xdfa737?_0x3af3f1?'text-yellow-300':'text-indigo-600':'')+_0x476cad(0x286)+_0x30a66a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x43b34d+_0x476cad(0x97b)+_0x30a66a[_0x476cad(0x5fc)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x50117b+_0x476cad(0x5a4)+new Date(_0x30a66a['createdAt'])[_0x476cad(0x456)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x3af3f1?_0x476cad(0x627):_0x476cad(0x3ec))+_0x476cad(0xa52)+_0x3c03ff+_0x476cad(0xa0a)+_0x30a66a['id']+'\x22\x20data-name=\x22'+_0x30a66a[_0x476cad(0x5fc)]+_0x476cad(0x901)+(_0x3af3f1?'text-red-300\x20hover:text-red-100':_0x476cad(0x1a2))+_0x476cad(0x4e6);});}else _0xaea1f2[_0x2c4869(0x405)]=_0x2c4869(0xbc1),starredQuizzes['length']>0x0&&_0x174ff1===''&&(_0x138b6e+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x2c4869(0x768)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x138b6e+=_0x2c4869(0xb1b),_0x105a6a[_0x2c4869(0x326)](_0x559dbe=>{const _0x138328=_0x2c4869,_0x9bd8fe=_0x217693[_0x559dbe['id']]??0x0,_0x53f993=_0x26fc95[_0x138328(0x9d0)](_0x559dbe['id']);_0x138b6e+=_0x138328(0x21b)+(_0x559dbe[_0x138328(0x6a1)]||'#E5E7EB')+_0x138328(0x516)+_0x559dbe['id']+_0x138328(0x2cc)+_0x559dbe[_0x138328(0x5fc)]+_0x138328(0x2cd)+_0x9bd8fe+_0x138328(0x802)+new Date(_0x559dbe[_0x138328(0x460)])[_0x138328(0x270)]('th-TH')+_0x138328(0x6dd)+_0x559dbe['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x53f993?_0x138328(0xcb9):'')+_0x138328(0x6a5)+_0x559dbe['id']+_0x138328(0x909)+_0x559dbe[_0x138328(0x5fc)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x2c4869(0x632)]=_0x138b6e,noProjectsMsg[_0x2c4869(0xcbe)][_0x2c4869(0xd50)](_0x2c4869(0x8e4),_0x138b6e[_0x2c4869(0x768)]>0x0);}document[_0x15d57d(0x9c3)](_0x15d57d(0xb2e))[_0x15d57d(0x762)](_0x15d57d(0xba1),async()=>{const _0x3bc132=_0x15d57d,_0x31cb40=document['getElementById'](_0x3bc132(0x7ef)),_0x215d9c=_0x31cb40[_0x3bc132(0x3bb)][_0x3bc132(0xa93)]();if(!_0x215d9c){showMessage(_0x3bc132(0x63f));return;}try{const _0x33d753=doc(collection(db,_0x3bc132(0xc02)+appId+_0x3bc132(0x47e)));await setDoc(_0x33d753,{'projectName':_0x215d9c,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x3bc132(0x8be),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3bc132(0x8be),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x3bc132(0xbb3)]()}),_0x31cb40[_0x3bc132(0x3bb)]='',createProjectModal[_0x3bc132(0xcbe)][_0x3bc132(0xa54)]('hidden'),showMessage(_0x3bc132(0x6e9));}catch(_0x5881ac){console['error'](_0x3bc132(0xb05),_0x5881ac),showMessage(_0x3bc132(0x6f8));}}),projectList[_0x15d57d(0x762)](_0x15d57d(0xba1),async _0x176ad7=>{const _0x13fe3c=_0x15d57d,_0x3233d1=_0x176ad7['target']['closest'](_0x13fe3c(0x2a1)),_0x1325ad=_0x176ad7[_0x13fe3c(0x24a)]['closest'](_0x13fe3c(0x367)),_0x17a24b=_0x176ad7['target'][_0x13fe3c(0x2fb)]('.pin-project-btn'),_0x15ea7f=_0x176ad7[_0x13fe3c(0x24a)][_0x13fe3c(0x2fb)](_0x13fe3c(0xbdc));if(_0x17a24b){const _0x403b8b=_0x17a24b['dataset']['id'],_0x581f2e=doc(db,_0x13fe3c(0x510),_0x13fe3c(0xac1)),_0x315e36=globalDashboardSettings[_0x13fe3c(0x5c0)];let _0x4f4556;_0x315e36[_0x13fe3c(0x436)](_0x403b8b)?_0x4f4556=_0x315e36[_0x13fe3c(0x23a)](_0x118143=>_0x118143!==_0x403b8b):_0x4f4556=[..._0x315e36,_0x403b8b];try{await setDoc(_0x581f2e,{'pinnedProjects':_0x4f4556},{'merge':!![]});}catch(_0x513093){console[_0x13fe3c(0x1c0)]('Error\x20updating\x20pin\x20status:',_0x513093),showMessage(_0x13fe3c(0x343));}}else{if(_0x15ea7f){const _0x3446fd=_0x15ea7f[_0x13fe3c(0x870)]['id'];showColorPalette(_0x15ea7f,_0x3446fd);}else{if(_0x3233d1){const _0x24408d=_0x3233d1[_0x13fe3c(0x870)]['id'];_0x24408d===_0x13fe3c(0x91a)?showStarredProjectView():(currentProjectId=_0x24408d,await loadProjectDetails(currentProjectId),showView(_0x13fe3c(0x5fd)));}else{if(_0x1325ad){const _0x5cb4fd=_0x1325ad[_0x13fe3c(0x870)]['id'],_0x21f7ce=_0x1325ad['dataset']['name'];showConfirmation(_0x13fe3c(0x79f)+_0x21f7ce+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x5cb4fd));}}}}}),projectList[_0x15d57d(0x762)](_0x15d57d(0x206),_0x33a9bd=>{const _0x4f1463=_0x15d57d,_0x4c8317=_0x33a9bd[_0x4f1463(0x24a)][_0x4f1463(0x2fb)](_0x4f1463(0x7d2));_0x4c8317&&_0x4c8317['classList'][_0x4f1463(0xa54)](_0x4f1463(0xa0b));}),projectList[_0x15d57d(0x762)]('dragend',_0x42bd4c=>{const _0x4f4b34=_0x15d57d,_0x3c9aba=_0x42bd4c[_0x4f4b34(0x24a)][_0x4f4b34(0x2fb)](_0x4f4b34(0x7d2));_0x3c9aba&&_0x3c9aba[_0x4f4b34(0xcbe)][_0x4f4b34(0xa49)](_0x4f4b34(0xa0b));}),projectList[_0x15d57d(0x762)]('dragover',_0x5bca77=>{const _0x342eb9=_0x15d57d;_0x5bca77[_0x342eb9(0xccb)]();const _0x34e1ad=document[_0x342eb9(0x8da)](_0x342eb9(0xb51));if(!_0x34e1ad)return;const _0x52f7d0=getDragAfterElement(projectList,_0x5bca77['clientY']);_0x52f7d0==null?projectList[_0x342eb9(0x86e)](_0x34e1ad):projectList[_0x342eb9(0x7c0)](_0x34e1ad,_0x52f7d0);}),projectList[_0x15d57d(0x762)](_0x15d57d(0x9cd),_0x229e4d=>{const _0x180e28=_0x15d57d;_0x229e4d[_0x180e28(0xccb)]();const _0x51827c=[...projectList[_0x180e28(0xc76)](_0x180e28(0xd4b))][_0x180e28(0x929)](_0x1525c4=>_0x1525c4[_0x180e28(0x870)]['id']);saveProjectOrder(_0x51827c);});function renderBehaviorLog(_0x2e1ead){const _0x4ace6=_0x15d57d,_0x174ad9=document[_0x4ace6(0x9c3)](_0x4ace6(0x13c));if(!_0x174ad9)return;const _0x3fe25e=_0x2e1ead[_0x4ace6(0x23a)](_0x59d689=>_0x59d689[_0x4ace6(0x797)]&&_0x59d689[_0x4ace6(0x797)][_0x4ace6(0x768)]>0x0);if(_0x3fe25e[_0x4ace6(0x768)]===0x0){_0x174ad9[_0x4ace6(0x632)]=_0x4ace6(0xb49);return;}let _0x16a30d='';_0x3fe25e[_0x4ace6(0x326)](_0x4fb865=>{const _0x1366c7=_0x4ace6;_0x16a30d+=_0x1366c7(0x345)+_0x4fb865[_0x1366c7(0x552)]+_0x1366c7(0x4fb),_0x4fb865[_0x1366c7(0x797)]['sort']((_0x191d80,_0x1f8819)=>new Date(_0x1f8819[_0x1366c7(0x60b)])-new Date(_0x191d80['timestamp']))[_0x1366c7(0x326)](_0x52c4c1=>{const _0x47243b=_0x1366c7,_0x32ed1d=new Date(_0x52c4c1['timestamp'])[_0x47243b(0x270)](_0x47243b(0xc7e),{'dateStyle':_0x47243b(0x9e3),'timeStyle':'medium'});_0x16a30d+=_0x47243b(0x197)+_0x52c4c1['attemptNumber']+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x32ed1d+_0x47243b(0x70b);}),_0x16a30d+=_0x1366c7(0x14c);}),_0x174ad9[_0x4ace6(0x632)]=_0x16a30d;}function getDragAfterElement(_0x63fbcb,_0x9261b1){const _0x4e2e7e=_0x15d57d,_0x367042=[..._0x63fbcb[_0x4e2e7e(0xc76)](_0x4e2e7e(0x85b))];return _0x367042[_0x4e2e7e(0x4f4)]((_0x286e5f,_0x48ecd4)=>{const _0x42cfc7=_0x4e2e7e,_0x26bdb8=_0x48ecd4[_0x42cfc7(0xb73)](),_0x21bec3=_0x9261b1-_0x26bdb8[_0x42cfc7(0xbe8)]-_0x26bdb8[_0x42cfc7(0xbb2)]/0x2;return _0x21bec3<0x0&&_0x21bec3>_0x286e5f[_0x42cfc7(0x375)]?{'offset':_0x21bec3,'element':_0x48ecd4}:_0x286e5f;},{'offset':Number['NEGATIVE_INFINITY']})['element'];}async function saveProjectOrder(_0x2caa59){const _0x3b12cc=_0x15d57d,_0x4ff5d3=doc(db,_0x3b12cc(0x510),_0x3b12cc(0xac1));try{await setDoc(_0x4ff5d3,{'projectOrder':_0x2caa59},{'merge':!![]});}catch(_0x16b851){console[_0x3b12cc(0x1c0)]('Error\x20saving\x20project\x20order:',_0x16b851),showMessage(_0x3b12cc(0x20d));}}async function logBehaviorEvent(_0x2bc07a,_0xcfe7bf={}){const _0x47928d=_0x15d57d;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x47928d(0xa97)](_0x47928d(0x64a));return;}const _0x421ef0=doc(db,_0x47928d(0xc02)+appId+_0x47928d(0x884)+currentQuizData['id']+_0x47928d(0x959),currentStudentName),_0x2f8542={'event':_0x2bc07a,'timestamp':new Date()['toISOString'](),..._0xcfe7bf};try{await updateDoc(_0x421ef0,{'behaviorLog':arrayUnion(_0x2f8542)}),console[_0x47928d(0xb0b)](_0x47928d(0xab0)+currentStudentName+_0x47928d(0x17f));}catch(_0x114365){_0x114365['code']===_0x47928d(0x5db)?console[_0x47928d(0xa97)](_0x47928d(0xc1f)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x47928d(0x1c0)](_0x47928d(0xb7f),_0x114365);}}function calculateMeanAndStdDev(_0x3e2a92){const _0x2eb56e=_0x15d57d;if(_0x3e2a92['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x407e8e=_0x3e2a92[_0x2eb56e(0x4f4)]((_0x4ddc60,_0xabc8b3)=>_0x4ddc60+_0xabc8b3,0x0)/_0x3e2a92[_0x2eb56e(0x768)];if(_0x3e2a92['length']===0x1)return{'mean':_0x407e8e,'stdDev':0x0};const _0x25a856=Math['sqrt'](_0x3e2a92[_0x2eb56e(0x929)](_0x1ddf55=>Math[_0x2eb56e(0x17d)](_0x1ddf55-_0x407e8e,0x2))[_0x2eb56e(0x4f4)]((_0x162fc2,_0x42dab7)=>_0x162fc2+_0x42dab7,0x0)/(_0x3e2a92['length']-0x1));return{'mean':_0x407e8e,'stdDev':_0x25a856};}function calculateZScore(_0x979b14,_0x2c52c8,_0xb7161d){if(_0xb7161d===0x0)return 0x0;return(_0x979b14-_0x2c52c8)/_0xb7161d;}function calculateTScore(_0x3c8d24){return 0xa*_0x3c8d24+0x32;}function showStarredProjectView(){const _0x552ffe=_0x15d57d;currentProjectId=_0x552ffe(0x297),currentProjectData=null,projectTitle['textContent']='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x552ffe(0xafb)]='pinned-items',showView('project-detail'),manageTab[_0x552ffe(0xcbe)][_0x552ffe(0xa54)](_0x552ffe(0x8e4)),leaderboardTab[_0x552ffe(0xcbe)][_0x552ffe(0xa54)](_0x552ffe(0x8e4)),switchProjectTab(_0x552ffe(0x76d)),renderQuizzes();}async function loadProjectDetails(_0x5ca368){const _0x1a8734=_0x15d57d,_0x53b4fb=doc(db,_0x1a8734(0xc02)+appId+_0x1a8734(0x47e),_0x5ca368),_0x2caf32=await getDoc(_0x53b4fb);if(_0x2caf32[_0x1a8734(0x6b5)]()){manageTab[_0x1a8734(0xcbe)][_0x1a8734(0xa49)](_0x1a8734(0x8e4)),leaderboardTab['classList'][_0x1a8734(0xa49)](_0x1a8734(0x8e4)),currentProjectData=_0x2caf32[_0x1a8734(0xc5f)](),projectTitle['textContent']=currentProjectData[_0x1a8734(0x5fc)],projectIdDisplay[_0x1a8734(0xafb)]=_0x5ca368;const _0x2d814c=currentProjectData[_0x1a8734(0x58b)]||{};document[_0x1a8734(0x9c3)](_0x1a8734(0xa90))['value']=_0x2d814c[_0x1a8734(0x835)]||_0x1a8734(0x8be);const _0x5d0e57=document[_0x1a8734(0x9c3)](_0x1a8734(0x9f0));_0x5d0e57[_0x1a8734(0x57b)]=_0x2d814c[_0x1a8734(0xcc0)]!==![];const _0xe5e1d5=document[_0x1a8734(0x9c3)](_0x1a8734(0xb55)),_0xaeaba5=document[_0x1a8734(0x9c3)](_0x1a8734(0x16f)),_0x275fe2=document[_0x1a8734(0x9c3)](_0x1a8734(0xabd)),_0x34108f=_0x2d814c[_0x1a8734(0x994)]||![];_0xe5e1d5['checked']=_0x34108f,_0x275fe2[_0x1a8734(0x3bb)]=_0x2d814c['passcode']||'',_0xaeaba5[_0x1a8734(0xcbe)]['toggle'](_0x1a8734(0x8e4),!_0x34108f),_0xe5e1d5[_0x1a8734(0x746)]=()=>{const _0x51633d=_0x1a8734;_0xaeaba5[_0x51633d(0xcbe)][_0x51633d(0xd50)](_0x51633d(0x8e4),!_0xe5e1d5[_0x51633d(0x57b)]);},document[_0x1a8734(0x9c3)]('confidence-scoring-checkbox')[_0x1a8734(0x57b)]=_0x2d814c[_0x1a8734(0x602)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5ca368),listenForProjectQuizzes(_0x5ca368),listenForStudentProfiles(_0x5ca368);}else showMessage(_0x1a8734(0x1cb)),showView(_0x1a8734(0x964));}async function handleResetProjectOrder(){const _0x442a93=_0x15d57d,_0x34e5c3=doc(db,_0x442a93(0x510),_0x442a93(0xac1));try{await setDoc(_0x34e5c3,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x442a93(0x192));}catch(_0x36ece9){console[_0x442a93(0x1c0)](_0x442a93(0xb1a),_0x36ece9),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x2071e0){const _0x4b0da6=_0x15d57d;if(!_0x2071e0)return;const _0x557dec=doc(db,_0x4b0da6(0xc02)+appId+'/public/data/projects',_0x2071e0);try{const _0x1f7895=await getDoc(_0x557dec);if(_0x1f7895[_0x4b0da6(0x6b5)]()){const _0xe58666=_0x1f7895['data']()[_0x4b0da6(0x911)]||![];await updateDoc(_0x557dec,{'isPinned':!_0xe58666});}}catch(_0x134fa7){console[_0x4b0da6(0x1c0)](_0x4b0da6(0x182),_0x134fa7),showMessage(_0x4b0da6(0x343));}}async function handleDeleteProject(_0xa57de){const _0x244181=_0x15d57d;try{const _0x102c16=writeBatch(db),_0x1cc066=collection(db,_0x244181(0xc02)+appId+'/public/data/quizzes'),_0x1884a2=query(_0x1cc066,where(_0x244181(0x257),'==',_0xa57de)),_0x747880=await getDocs(_0x1884a2);for(const _0x54003c of _0x747880['docs']){const _0x447af2=collection(db,_0x244181(0xc02)+appId+_0x244181(0x884)+_0x54003c['id']+_0x244181(0x959)),_0x5a6c00=await getDocs(_0x447af2);_0x5a6c00[_0x244181(0x326)](_0x5da4bf=>{const _0xf84679=_0x244181;_0x102c16['delete'](_0x5da4bf[_0xf84679(0x25d)]);}),_0x102c16[_0x244181(0xa33)](_0x54003c[_0x244181(0x25d)]);}const _0x4c5674=collection(db,_0x244181(0xc02)+appId+_0x244181(0x3a3)+_0xa57de+_0x244181(0x5c6)),_0xcfce36=await getDocs(_0x4c5674);_0xcfce36['forEach'](_0x324822=>{const _0x15e282=_0x244181;_0x102c16[_0x15e282(0xa33)](_0x324822[_0x15e282(0x25d)]);});const _0x3ccd4e=doc(db,_0x244181(0xc02)+appId+_0x244181(0x47e),_0xa57de);_0x102c16[_0x244181(0xa33)](_0x3ccd4e),await _0x102c16['commit'](),showMessage(_0x244181(0x55d)),showView('admin-dashboard');}catch(_0x31730f){console[_0x244181(0x1c0)](_0x244181(0xbb1),_0x31730f),showMessage(_0x244181(0xc40));}}document[_0x15d57d(0x9c3)]('save-settings-btn')[_0x15d57d(0x762)]('click',async()=>{const _0x1e90df=_0x15d57d;if(!currentProjectId)return;const _0x2a019a={'defaultNumQuestions':parseInt(document['getElementById'](_0x1e90df(0x683))['value']),'defaultNumChoices':parseInt(document[_0x1e90df(0x9c3)](_0x1e90df(0x726))[_0x1e90df(0x3bb)]),'defaultPassingScore':parseInt(document[_0x1e90df(0x9c3)](_0x1e90df(0x26e))[_0x1e90df(0x3bb)]),'resultsDisplay':document['getElementById'](_0x1e90df(0x921))[_0x1e90df(0x3bb)],'shuffleSetting':document[_0x1e90df(0x9c3)](_0x1e90df(0xa90))[_0x1e90df(0x3bb)],'timerMode':document[_0x1e90df(0x9c3)](_0x1e90df(0x605))['value'],'timerDuration':parseInt(document[_0x1e90df(0x9c3)](_0x1e90df(0xc27))[_0x1e90df(0x3bb)]),'isConfidenceScoringEnabled':document[_0x1e90df(0x9c3)](_0x1e90df(0xb32))[_0x1e90df(0x57b)],'confidenceMode':document[_0x1e90df(0x9c3)]('confidence-mode-select')[_0x1e90df(0x3bb)]};try{const _0x4bea28=doc(db,_0x1e90df(0xc02)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x4bea28,{'settings':_0x2a019a}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x371637){console[_0x1e90df(0x1c0)](_0x1e90df(0x28b),_0x371637),showMessage(_0x1e90df(0x414));}});function listenForStudents(_0x2e80bb){const _0x125cf0=_0x15d57d,_0x17ced1=doc(db,_0x125cf0(0xc02)+appId+'/public/data/projects',_0x2e80bb);unsubscribeStudentsListener=onSnapshot(_0x17ced1,_0x5c07a3=>{const _0x4b9496=_0x125cf0;if(_0x5c07a3[_0x4b9496(0x6b5)]()){const _0x1d6feb=_0x5c07a3[_0x4b9496(0xc5f)]();currentProjectData=_0x1d6feb,renderStudentList(_0x1d6feb[_0x4b9496(0x535)]||[]);}});}function renderStudentList(_0x2f2f83){const _0x93dab=_0x15d57d,_0x1c3700=document[_0x93dab(0x9c3)]('delete-all-students-btn');_0x2f2f83['length']===0x0?(studentList[_0x93dab(0x632)]=_0x93dab(0xbd1),_0x1c3700[_0x93dab(0xcbe)]['add']('hidden')):(studentList[_0x93dab(0x632)]=_0x2f2f83[_0x93dab(0x929)](_0x4c8077=>_0x93dab(0x7ab)+_0x4c8077+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x4c8077+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x93dab(0xb2d)](''),_0x1c3700[_0x93dab(0xcbe)][_0x93dab(0xa49)]('hidden'));}function _0x76b6(){const _0x434e9a=['generate-from-link-btn','แฟนทิพย์','game-start-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','หมดเวลาสำหรับข้อนี้!','...','answerValue','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','สายลมแห่งโชคชะตา','confirm-admin-login-btn','screen_exit','เกิดข้อผิดพลาดในการลบโปรเจค','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contents','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','numChoices','.bp-view-analysis-btn','points','wakeLock','การบวกเศษส่วน','undo-btn','blueprint-tab','overallGroups','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','translate(','file-shortcut-tabs-nav','list','\x5cfrac{$1}{$2}','\x20จาก\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','rgba(79,\x2070,\x20229,\x200.8)','promptFeedback','msExitFullscreen','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ondragstart','-tab-content','msRequestFullscreen','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','data','.ai-fix-formula-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','input[type=\x22checkbox\x22]:checked','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','ไม่มีคำอธิบาย','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','การคูณ','AI\x20request\x20was\x20blocked.\x20Reason:\x20','questionType','เกิดข้อผิดพลาดในการอัปเดต:\x20','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','keyup','ร้อยละพื้นฐาน','ติดซีรีส์','https://corsproxy.io/?','Error\x20unlinking\x20quiz:','#E0E7FF','scratchpad-controls','สำหรับหัวข้อ\x20\x27','querySelectorAll','ไม่มีผู้ตอบตัวเลือกนี้','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','สมมาตร\x20(แกน/จุด)','project-quizzes-list','.question-editor-item','startTime','th-TH','bg-green-50','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','.start-game-btn','กฎบวกและกฎคูณ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cos','reference.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','<div\x20class=\x22flex-1\x22></div>','jspdf','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','</select>','shortcut-tabs-nav','ไม่มี','manage-tab','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','.bp-create-onet-quiz-btn','decode','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','preTScore','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','responses.','bulk-loop-until-pass-checkbox','shadowColor','Attempting\x20to\x20save\x20game\x20results...','quiz-type-select','student-progress-view','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','questionId','ข้อ\x20','parallel-shortcut-name-input','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','questions','grid-view-btn','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','multiply','raw','.edit-hidden-file-shortcut-btn','sync-player-list','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','findIndex','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','cancel-export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','Error\x20deleting\x20quiz:','results_','getBBox','</tbody></table></div>','badgesCount','parentElement','<button\x20data-quiz-id=\x22','text-indigo-600','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x20\x20\x20-\x20','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classList','แบบทดสอบฝึกฝนเรื่อง:\x20','showInStudentDashboard','solution','\x5ccdot','results-quiz-title','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการนำผู้เล่นออก','justification','text-green-700\x20bg-green-100','1603500eyTwuJ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','force-math-checkbox','preventDefault','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','approx','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x22\x20data-topic=\x22','blueprint-shortcut-container','bp-topic-list-container','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','timer-duration-label','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','quick_thinker','newOptions','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','quiz-id-input','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','text','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','now','stdDev','message','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scores-tab-content','targetId','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20td','Error\x20during\x20deep\x20delete:','.parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','fa-dumbbell\x20text-gray-700','<div\x20class=\x22mb-3\x20topic-category\x22>','confidence-modal','file-shortcut-name-input','PERFECT_SCORE','<p\x20class=\x22text-xl\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','.topic-actions-view','.duplicate-quiz-btn','กรุณาตั้งชื่อแท็บใหม่:','bulk-confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','rename-quiz-input','generate-from-topic-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','projectOrder','???','ไม่พบตารางสำหรับ\x20Export','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerup','viewBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค.ร.น.\x20(LCM)','รากที่สองและที่สาม','open-quiz-bank-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','exitFullscreen','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','สมการค่าสัมบูรณ์','textarea','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','original-mode-checkbox','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>ใช่</p>','.move-parallel-shortcut-dropdown','Successfully\x20removed\x20','presentation-explanation','scratchpad-modal','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','ความชันเส้นสัมผัส','mandatory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numeric','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.open-bp-project-btn','แท็บใหม่','Error\x20saving\x20file\x20shortcut\x20config:','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','getDocument','Error\x20fetching\x20lesson\x20content:','เกิดข้อผิดพลาดในการส่งคำตอบ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','เกิดข้อผิดพลาดในการบันทึก','</div>\x0a</div>\x0a','ไม่พบข้อมูลข้อสอบหลังเรียน','isDefault','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','playerName','-\x20ข้อ\x20','endsWith','export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cdot','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','postTScore','onclick','mousedown','.generate-post-test-btn','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','.linkedQuizIds','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','source-over','link-input-area','answering','.project-card-container[data-id]','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toggle','</p><p><strong>เฉลย:</strong>\x20','scheduled','cancel-move-quiz-btn','\x20คู่\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','เกิดข้อผิดพลาดในการลบผลสอบ','2-digit','parallel-default-1','cancel-admin-login-btn','#results-table\x20thead\x20tr','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','ทฤษฎีบทพื้นฐานของแคลคูลัส','wheel','generated-quiz-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กระต่ายตื่นตูม','stepByStepExamples','sqrt','behavior-log-container','\x22><i\x20class=\x22fas\x20','both','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','Error\x20analyzing\x20file\x20for\x20topics:','.summary-bar-item','modal-shuffle-select','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','open-blueprint-projects-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-blueprint-url-input','main-correct-answer-display','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','default','</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','text-yellow-800','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','STOP','bank-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20','blueprint-topics-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','leaderboard-tab','div[data-question-index=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x5cneq','fas\x20fa-star\x20text-yellow-500','#6366F1','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','endTime','กองดอง','true_false','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','ai-quiz-app-aefee','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','Error\x20deleting\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','isAnonymousRevealed','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','การลบทศนิยม','select','คณิตศาสตร์','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','topicName','Error\x20displaying\x20question\x20bank:','passcode-input-container','<i\x20class=\x22fas\x20fa-magic\x22></i>','fileShortcutsConfig','user-id-display','ทศนิยม\x20(ค่าประจำหลัก)','baseVal','</div>','stem','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','lessonPlan','สลับไปโหมดผู้ควบคุม','cancel-bp-settings-btn','สิงโตยิ้ม','Error\x20opening\x20quiz\x20editor:','pow','close-comparison-modal-footer-btn','\x20สำเร็จ','start-quiz-btn','ช่างภาพ','Error\x20toggling\x20pin\x20status:','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','copy','s;\x22\x20title=\x22','scrollY','pairedQuizId','Error\x20saving\x20lesson\x20to\x20project:','ยอดเยี่ยม','อัปเดตแบบทดสอบเก่า\x20','perfect_score_status','false','Failed\x20to\x20kick\x20player\x20','mode','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','โหลดนาน','รีเซ็ตลำดับโปรเจคแล้ว','.remove-file-shortcut-from-tab-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-reading-area',',\x20r=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','afterend','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','parallel-default-','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','textarea[name=\x22team_answer\x22]','bulk-quiz-settings-btn','กฎของโคไซน์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','file.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','text-red-500\x20hover:text-red-700','mean','#ffffff','ออฟฟิศซินโดรม','temp-loader-text-results','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','การหาร','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','คัดลอกรหัสแล้ว!','เงาปริศนา','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','เกมเมอร์','.bp-open-topic-bank-btn','Error\x20adding\x20students:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','MathJax','difficultyValue','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','API\x20call\x20failed\x20with\x20status:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-input-area','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','per-q-countdown','bp-modal-difficulty-level-select','removeItem','error','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22color-palette-btn\x20','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','project-detail-view','.linkedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','text-gray-500','highlighter-size-slider','quiz-results-view','ไม่พบโปรเจค','</tbody></table>','ความต่อเนื่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แปลงร่าง','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','fill_in_with_choices','bank-input-area','type','ชีสเค้ก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/questionBank','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','onerror','วงกลม:\x20คอร์ดและเส้นสัมผัส','blueprint-options-container','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','<option\x20value=\x22','เพิ่มปุ่มลัดจากไฟล์ใหม่','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','touchcancel','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','tool','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','num-choices-container','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','สรุปผลสุดท้าย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สถิติและความน่าจะเป็น','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','อัปเดตการตั้งค่าของแบบทดสอบ\x20','gameVariant','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','.generate-easy-version-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','sync-submit-btn','leq','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','.pointsLastQuestion','text-indigo-700','math-topics-checkbox-container','ตารางความถี่','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20clearing\x20all\x20links:','ต้นฉบับ\x201','link-topic-input','manual-bp-grade-level','อัปเดตสถานะสำเร็จ','release','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','scheduled_pending','ยังไม่ส่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','dragstart','fix-lesson-latex-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','classStrengths','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการบันทึกลำดับ','tooltipTarget','คนโสด','confirmation-modal','lineWidth','data:application/vnd.ms-word;charset=utf-8,','Blueprint\x20O-NET\x20ป.6','หมีขั้วโลกใต้','\x22\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','parallel-shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','mouse','join-group-activity-btn','/public/data/quizzes','svg','SAFETY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','close-game-final-btn','#student-project-leaderboard-content\x20thead','date_desc','createdBy','after','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','/public/data/teamQuizzes','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','text-green-600\x20font-bold','บันทึกการแก้ไข','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','ผ่าน','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','</a>','AI\x20แก้ไขคำถามสำเร็จ!','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','values','#e21b3c','Error\x20toggling\x20star\x20status:','selected-topics-count','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','STRING','filter','Error\x20updating\x20custom\x20topic:','ลบหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','preTestId','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','comeback_king','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','แมวเก้าชีวิต','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.tab-name-display','input[name=\x22drill_answer\x22]:checked','target','PROMPT_PLACEHOLDER','#open-additional-file-shortcuts-btn','สมการตรีโกณมิติ','score-distribution-chart','ป่าไม้','เซียนสมองไว','การยืนยันตัวตนล้มเหลว','lesson-view-content','px,\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','เกิดข้อผิดพลาดในการเข้าร่วมเกม','Error\x20joining\x20sync\x20game:','projectId','โจรสลัดอวกาศ','.compare-results-btn','behavior-log-tab-btn','คณิตการเงิน/บูรณาการ','input[type=\x22text\x22]','ref','พื้นที่วงกลม/ส่วนของวงกลม','manual-create-blueprint-btn','split','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','</p><div>','innerText','กลุ่ม:\x20','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การสร้างรูปด้วยวงเวียน–สันตรง','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','<tr>','shortcuts-loading-msg','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','bg-yellow-50','2215980dmKUwR','passing-score-input','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','toLocaleString','show_pass_fail_only','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','wasConfident','modal-timer-duration-label','องค์ประกอบของฟังก์ชัน','player-count','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','ก้อนเมฆ','ค่าเฉลี่ย','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','copy-quiz-id-btn','key','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','commit','<div\x20class=\x22p-2\x20rounded-md\x20','file-topics-list-container','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','earned-badges-container','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','Error\x20fetching\x20quiz\x20settings:','Error\x20saving\x20user\x20preference:','สายหมอก','Error\x20saving\x20settings:','close-presentation-btn','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','answerText','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-parallel-shortcut-btn','docs','topic','actions-container-','bank-quiz-list','starred','.bp-edit-topic-btn','editable-text-','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','#confidence-input-','text-content-input','Firebase\x20initialization\x20failed:','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','checkAnswer','.project-card-content','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','label[for=\x22num-questions\x22]','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','คู่จิ้น','mousemove','0\x200','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','ข้อต่อไป','เกิดข้อผิดพลาดในการบันทึกโปรเจค','<div\x20class=\x22','.topic-row','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x22\x20class=\x22pin-project-btn\x20','eraser','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','โลมาบิน','กรุณาป้อนหัวข้อสำหรับใบงาน','manual-bp-project-name','shouldSaveResults','input[type=\x22checkbox\x22]','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','สมการยกกำลัง','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fileShortcutTabs','separate-by-content-from-file-checkbox','then','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','ย้าย','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','choices_only','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','.toggle-actions-btn','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','รูปแบบการให้เหตุผล','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','เลือกโปรเจคเพื่อบันทึก','ท้องฟ้า','เงินงวด\x20(อนุกรมเงินงวด)','leaderboard-table-body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','topics','ไม่พบข้อมูลการจับคู่','createElement','save-bp-reference-btn','shortcut-modal-title','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','sara','อสมการเชิงเส้น','เส้นจำนวน','quiz-status-modal','\x20หัวข้อ)','ชื่อหัวข้อห้ามว่าง','\x22><p\x20class=\x22font-semibold\x22>','create-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-default-','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','ฟังก์ชันผกผัน','<button\x20data-shortcut-id=\x22','random','text-white','cancel-team-selection-btn','smooth','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','/public/data/blueprintProjects','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.draggable-text','<h1></h1>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันการจับคู่','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','confirm-manual-bp-btn','analytics-tab-content','กรุณาเลือกชื่อของคุณ','closest','\x20รายการสำเร็จ!','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ลำดับการดำเนินการ\x20(PEMDAS)','.generate-lesson-btn','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ความชันและเส้นตรง','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','เส้นตรง:\x20รูปแบบสมการ','ท็อปฟอร์ม','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','live-submit-short-answer-btn','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','red','comparison-overall-tab','_opt1\x22>ไม่ใช่</label></div>','ถูก','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','file-shortcuts-loading-msg','order','.verification-result-editor','นำแบบทดสอบออกจากคลังนี้แล้ว','file-tab','pdf','จำนวนนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','ฟังก์ชันสัมพัทธ์\x20(rational)','Copy\x20command\x20failed','topic-bank-subtopic-name','short_answer','คำถามดิบ:\x20\x22','submittedAt','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','#FEF3C7','forEach','question','anonymous','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','.file-topic-selection-btn','touchstart','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-btn','\x20ตอบ','fixedData','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','bg-green-100\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','Error\x20loading\x20quiz\x20for\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','question-analytics-container','bestScore','สาระที่\x201','beginPath','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','```json','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','เกิดข้อผิดพลาดในการปักหมุด','hasOwnProperty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','<div\x20class=\x22my-2\x22>','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','กรุณาวาง\x20URL\x20ของบทความก่อน','\x20|\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','student-team-join','53191JSquHb','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','scrollHeight','(^|[^\x5c\x5c])\x5cb','.bp-unlink-quiz-btn','พื้นที่ใต้กราฟ/ระหว่างกราฟ','สร้างใหม่','QUICK_THINKER','parallel-default-2','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','str','student-project-leaderboard-tab','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20from\x20sync\x20game:','10JFuPDI','max','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','getContext','quiz-results-table-body','Error\x20during\x20blueprint\x20link\x20cleanup:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','.bp-live-btn','prev-question-btn','[data-field=\x22subTopic\x22]','.delete-project-btn','schedule','ไม่สามารถโหลดรายการโปรเจคได้','onkeydown','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','ตัวเลือก\x20ค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','far\x20fa-star','กำลังสร้างแบบทดสอบ:\x20','#results-table','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','offset','border-gray-200','redo-btn','<span\x20class=\x22font-bold\x20','</span></p>','lastAnswerIndex','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','/public/data/syncGames','ลบโปรเจค\x20\x22','isScored','fas\x20fa-bookmark','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','นักเขียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','ไก่ฟ้าพญาลอ','includeImages','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perQuestionStats','Loaded\x20','bp-modal-shuffle-setting-select','admin-password-modal','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','เรขาคณิต','.generate-content-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','8evbWSX','dragend','student-join-game-view','[data-topic-container-id]','.correct-response-input','\x27,\x20\x27','shortcuts','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','option','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','/public/data/projects/','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x20mx-1\x20text-lg\x22></i></span>','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','fa-shield-alt\x20text-gray-600','<div>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','_opt','ยังไม่สร้าง','cancel-create-project-btn','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','export-lesson-to-pdf-btn','ไม่พบข้อมูลโปรเจค','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','upperGroupResponders','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','ลิมิต','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','value','กุ้งเต้นแร้งกา','leaderboard','4ZOxGJW','bg-red-500','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','block','NEGATIVE_INFINITY','bp-modal-num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20กลุ่ม</p></div>','/public/data/blueprintProjects/','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','\x20คะแนน\x20','Error\x20saving\x20parallel\x20shortcut\x20config:','category','px)\x20scale(','ระยะจากจุดถึงเส้นตรง','replace','fas\x20fa-user-edit','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','.space-y-1.pl-4','custom-math-topic-input','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','confidence-scoring-description','scratchpad-header','pop','.quiz-bank-present-btn','specialist','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','readAsDataURL','reveal-names-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','back-from-results-btn','applicationData','additional-shortcuts-modal','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','per-question-text','project-id-display','.sort-indicator','<button\x20data-tab-id=\x22','สามเหลี่ยม\x20(ชนิด/สมบัติ)','stopPropagation','parallelShortcutTabs','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-700','cancel-test-btn','multiple_choice','point','<p><strong>คำตอบของคุณ:</strong>\x20','dragover','ยอดเยี่ยม!','อุณหภูมิและการแปลง','quiz-editor-questions-container','กำลังเตรียมไฟล์...','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','Error\x20generating\x20worksheet:','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','หน่วยมวล/น้ำหนักและการแปลง','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupNames','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x20(p=','.regenerate-question-btn','เรขาคณิตวิเคราะห์','className','ลาเต้ไม่หวาน','.shortcut-list-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','บันทึกคำถามใหม่\x20','standardTopic','เสือซ่อนเล็บ','numPages','correct','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','slice','.shortcut-btn','.shortcut-tab-btn','ไม่สามารถบันทึกการตั้งค่าได้','team','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','display','contentEditable','กำลังอ่านไฟล์\x20Test\x20Blueprint...','เศษส่วน\x20(ย่อ/ขยาย)','Unexpected\x20API\x20response\x20structure:','จิงโจ้สโลว์ไลฟ์','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','รหัสไม่ถูกต้อง','/public/data/liveGames','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','answer-counter','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','floor','.scratchpad-content-wrapper','</div><div\x20class=\x22space-y-2\x22>','dim-overlay','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','confirm-move-quiz-btn','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','autoTable','คะแนนเฉลี่ย','eraser-tool-btn','project-list','bg-yellow-100','Error\x20processing\x20file\x20for\x20AI:','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','mouseleave','move-quiz-modal','quizType','274192258111','includes','player-list-lobby','quizMode','ปุ่มลัดทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-green-500','.live-answer-btn,\x20#sync-submit-btn','startedAt','</h3>','isNormalTopic','หน่วยความยาวและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reference_onet.pdf','fileShortcutOrder','game-start-quiz-id','การประยุกต์เวกเตอร์พื้นฐาน','quiz-end-time','parts','rows','กรุณาเลือกไฟล์ก่อน','position','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','originalTopic','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','clear-all-links-btn','กำลังโหลดคลังข้อสอบทั้งหมด...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x20</div>\x0a\x20\x20\x20\x20','handleGenerateAndShowLesson','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','toLocaleDateString','project-title','เกิดข้อผิดพลาดในการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างชุดคำถามจับคู่','ดอกเบี้ยทบต้น','hint','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','substring','blob','createdAt','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','หัวข้อหลักใหม่','.presentation-option','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','Error\x20analyzing\x20blueprint\x20topics:','admin-view','source_document.txt','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','แบบทดสอบจากคลังส่วนตัว','คำอธิบาย...','additional-parallel-shortcuts-list','authed_project_','quiz-settings-modal','asc','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','สายลับจับบ้านเล็ก','active','allResponses','.move-shortcut-dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','shuffle','show_results_and_answers','insertAdjacentHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(255,\x20255,\x200,\x200.5)','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','การกระจายและการจัดหมู่','/public/data/projects','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-manual-bp-btn','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','loader','ไม่ใช่\x20/\x20ผิด','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','ใช่','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.move-parallel-shortcut-item','กรุณาสร้างบทเรียนก่อน','\x22\x20data-target-tab-id=\x22','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','เปิด\x20(จับเวลา)','อัตราและอัตราหน่วย','.pdf','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','write','teachingContent','answers','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','test','total','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x5csqrt{$1}','Error\x20listening\x20for\x20custom\x20math\x20topics:','save-project-name-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','localeCompare','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','keyConcepts','loader-text','มูเตลู','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','บทเรียนเรื่อง:\x20','lastAnswerCorrect','\x22\x20value=\x22','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','ไม่พบข้อมูลแบบทดสอบ','สถานะไม่ชัดเจน','touches','Error\x20adding\x20custom\x20topic:','bg-blue-500\x20hover:bg-blue-600\x20text-white','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เลือกและบันทึก','pre-test-checkbox','.topic-actions-edit','จัดการ','commonMistakes','shuffledQuiz','กรุณาเลือกโปรเจคก่อน','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','border-green-300\x20bg-green-50','กิจกรรมสิ้นสุดลงแล้ว','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x20ชุด)','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','.ai-content\x20h3','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','.shortcut-list-item:not(.opacity-50)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','Error\x20generating\x20lesson\x20plan:','confidence_single','<button\x20id=\x22','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','matching','quadraticCurveTo','removeChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดนักเรียน','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','fill_in_the_blank','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','onblur','Error\x20listening\x20for\x20starred\x20quizzes:','แก้ไขข้อนี้','verify-answers-btn','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','G-V90KRM0L63','backgroundColor','parallel-shortcut_','bar','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','.doc','export-lesson-pdf-btn','ส่วนเบี่ยงเบนมาตรฐาน','confirm-not-confident','open-sync-scratchpad-btn','.delete-student-btn','เวกเตอร์และเมทริกซ์\x20(เสริม)','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transform','shortcut-editor-modal','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','confident','sync-manage-players-btn','back-to-results-btn','underline','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','translate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','shortcut-name-input','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','ส่งคำตอบ','project-dashboard-view','reduce','slide-counter','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20verifying\x20answers:','goto-next-question-btn','confirm-passcode-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','modal-results-display-select','blueprint.pdf','.ideal-answer-input','input[name=\x22team_player\x22]:checked','scrollX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','ย้ายแบบทดสอบไปโปรเจคอื่น','application/json','leaderboard-quiz-tab-btn','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/10','confidence-choice-btn','แก้ไขสูตรคณิตศาสตร์\x20','fullscreenchange','globalSettings','ยังไม่เต็มนะ','text-green-800','#26890c','text-gray-200','next-sync-question-btn','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','student-passcode-input','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','.lastAnswerCorrect',':</span><span>','blockReason','text-blue-700\x20bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','application','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','จุด\x20เส้น\x20ระนาบ','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','submit-group-answer-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','shortcutTabs','หัวข้อที่สร้างเอง','show-results-btn','ไม่พบไฟล์\x20Test\x20Blueprint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','text-emerald-900','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','ตรวจพบการออกจากหน้าจอครบ\x20','find','players.','dispatchEvent','show-final-results-btn','export-leaderboard-excel-btn','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','.txt','pen','students','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','bp-reference-file-url','กำลังอัปเดตแบบทดสอบ\x20','webkitExitFullscreen','.delete-quiz-btn','กราฟฟังก์ชันตรีโกณ','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','\x20จุดเรียบร้อยแล้ว','timerMode','questionDisplayedAt','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','nickname-input','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','<i\x20class=\x22fas\x20fa-save\x22></i>','.status','file-shortcut_','instructions','โดเมนและเรนจ์','players','Error\x20processing\x20shortcut\x20click:','ดาบพิฆาตอสูร','open-scratchpad-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic_','topic-tab','studentName','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','screen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','change','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','bg-red-200\x20text-red-800','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบโปรเจคสำเร็จแล้ว','bg-green-200','back-to-project-btn','คะแนน','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','bg-yellow-200','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','lesson-plan-content','พบ\x20Sync\x20Game!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','.bp-try-btn','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','live-options-container','นอนไม่พอ','loopUntilPass','setItem','เกิดข้อผิดพลาด','select-all-topics-btn','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-visibility-settings-btn','next-drill-btn','referenceFileUrl','เกิดข้อผิดพลาดในการลบหัวข้อ','.ideal-answer-input,\x20.correct-response-input','\x22><span>','checked','input[type=\x22radio\x22]:checked','\x22.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x5cdiv','\x20ชุด)</span>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','Error\x20starting\x20live\x20race:','class','แก้ไขปุ่มลัดจากไฟล์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn','[data-topic-id]','student-project-leaderboard-table-body','settings','อสมการค่าสัมบูรณ์','Error\x20saving\x20shortcut\x20config:','.question-editor-item:last-of-type','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','blur','\x20คะแนน</span></div>','นักดนตรี','student-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20editing\x20topic:','true','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','move','#D1FAE5','idealAnswer','.delete-custom-topic-btn','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กฎของไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','เกิดข้อผิดพลาด:\x20','มัธยฐาน','ตัวประกอบและตัวประกอบเฉพาะ','bg-blue-100\x20text-blue-800','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','bp-modal-passing-score-input','strength-weakness-analysis-container','.topic-name-input','\x22,\x20','touchmove','ฟังก์ชันลอการิทึม','ไม่ใช่','normal','quiz-results','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','#parallel-shortcut-tabs-nav\x20.tab-name-input','</li>','#DBEAFE','eraser-tools-group','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','totalQuestions','file-default-2','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','No\x20player\x20data\x20to\x20save.','ondragend','timerDuration','disabled\x20bg-gray-400\x20cursor-not-allowed','fix\x20the\x20option','Error\x20starting\x20sync\x20game:','กราฟแท่ง\x20กราฟเส้น','analyze-strengths-btn','\x22...','pinnedProjects','<div\x20class=\x22loader\x20mx-auto\x22></div>','fill','isFinished','</body></html>','ตะวันฉาย','/studentProfiles','อกหัก','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','ฟังก์ชันยกกำลัง','generate-from-parallel-test-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','additional-shortcuts-list','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','not_generated','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','.color-palette-popup','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ห.ร.ม.\x20(GCD)','การลบ','not-found','comparison-individual-tab','ที่พิมพ์ได้\x20จำนวน\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','GlobalWorkerOptions','strokeStyle','name','AI\x20did\x20not\x20return\x20any\x20content.','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<option>กำลังโหลดโปรเจค...</option>','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กำลังดึงข้อมูลจากลิงก์...','admin','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.file-shortcut-tab-btn','generationConfig','สอบปกติ','สมการเชิงเส้นตัวแปรเดียว','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','bp-add-topic-btn','Group\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','learningGaps','.quiz-bank-delete-btn','input[type=\x22radio\x22][value=\x22','add-file-shortcut-btn','topics.','projectName','project-detail','totalPoints','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','isConfidenceScoringEnabled','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','Error\x20generating\x20hybrid\x20quiz:','timer-mode-select','save-blueprint-as-project-btn','Error\x20linking\x20quizzes:','#student-quiz-leaderboard-content\x20thead','some','#file-shortcut-tabs-nav\x20.tab-name-input','timestamp','student-quiz-leaderboard-table-body','create-project-modal','Failed\x20to\x20generate\x20lesson:','cloneNode','ตรีโกณมิติ','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-adaptive-quiz-checkbox','quiz-search-input','lowerGroupResponders','\x5csum','ปวดหลัง','กรุณาพิมพ์คำตอบ','Error\x20saving\x20parallel\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้เชี่ยวชาญ','button[type=\x22submit\x22]','นักประดิษฐ์','bg-green-200\x20text-green-900','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','ครูใหญ่','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','Error\x20confirming\x20players\x20for\x20sync\x20game:','การบวก','text-gray-100','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','set','groups.','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','อยู่ในหัวข้อหลักใด:','toLowerCase','ondragover','innerHTML','คะแนนเต็ม!','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','bg-gray-200\x20text-gray-700','newCorrectIndex','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN','teacherSuggestions','-tab','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','bg-blue-100','กรุณาใส่ชื่อโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','หมาป่าเดียวดาย','number','AI\x20ไม่สามารถประมวลผลข้อมูลได้','flex','quiz-leaderboard-table-container','Error\x20saving\x20reference\x20URL:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','showRankings','fadeStartTime','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','removeAttribute','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','Error\x20updating\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','bulk-confidence-mode-container','cancel-parallel-shortcut-edit-btn','center','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','from','.answeredCurrentQuestion','add-file-shortcut-tab-btn','text-red-700\x20bg-red-100','นินจาชาเขียว','sort','.move-shortcut-menu-btn','open-global-live-btn','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','CEOพันล้าน','resultsDisplay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name_asc','input[name=\x22syncVariant\x22][value=\x22classic\x22]','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','subTopic','.delete-shortcut-tab-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','เส้นตรง:\x20ขนาน/ตั้งฉาก','file-topics-list','confirm-link-quiz-btn','clientX','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','เกิดข้อผิดพลาดในการสร้างใบงาน',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<textarea\x20name=\x22question','badges','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x20(สำหรับ\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','cancel-bulk-quiz-settings-btn','.ai-content\x20li','อยู่ในสาระการเรียนรู้ใด:','บันทึกการตั้งค่าสำเร็จ','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','blueprint-input-area','</h4>','num-questions','first_try_ace','classic','live-game','export-excel-btn','upperGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','every','kick-player-btn','passcode-prompt-message','.answered','ไม่ได้ตอบ','745900xUJzYC','<tr><td\x20colspan=\x22','isRemedial','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','onload','touchend','เมทริกซ์:\x20บวก/คูณ','font-bold\x20text-red-700\x20line-through','pointermove','กำลังสร้างเนื้อหา:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20loading\x20blueprint\x20projects:','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color','ไม่พบข้อมูลเกม','ดาวTikTok','หยุดระบบจับเวลาหรี่หน้าจอ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','Error\x20saving\x20submission:','</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','clientY','reference.pdf','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','กรุณาเลือกคำตอบของกลุ่ม','.delete-shortcut-btn','</span></div>','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','show_results_only','exists','student-project-leaderboard-content','mixed','.topic-name-display','คะแนนเต็ม','answered','Error\x20pairing\x20quizzes:','กำลังสร้างรูปภาพ...','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollIntoView','cancel-rename-quiz-btn','hint-btn','_opt0\x22\x20name=\x22question','activeGameSession','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','กาแฟขม','\x20ข้อ...','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','confidence-input-','pointContent','confirm-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20in\x20handleApiCall:','tan','currentMode','Error\x20displaying\x20blueprint\x20project:','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','admin-testing','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','จับคู่แบบทดสอบสำเร็จ!','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','comparison','เกี่ยวกับหัวข้อ\x20\x22','.remove-shortcut-from-tab-btn','.unpair-quiz-btn','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่ผ่าน','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','additional-file-shortcuts-modal','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','dimmed','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','desc','.move-quiz-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างโปรเจคสำเร็จ!','next-question-timed-btn','.file-shortcut-btn','text-tab','parallel-test-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-timer-mode-select','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','neq','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','label','catch','topic-quiz-bank-modal','cancel-delete-btn','ไม่สามารถสร้างโปรเจคได้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','การลบเศษส่วน','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','border-red-300\x20bg-red-50','.kick-player-btn-sync','save','manual-bp-content','$1\x5c%','disabled','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-blueprint-projects-btn','</p>','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','Error\x20saving\x20to\x20question\x20bank:','text-green-600','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','bp-project-title','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','behavior-log','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','<li\x20class=\x22','รอผู้ควบคุมไปข้อต่อไป...','Team\x20Quiz','result','Error\x20listening\x20for\x20student\x20profiles:','dblclick','duration-300','สรุปผลการวิเคราะห์:\x5cn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','visibilityState','confidence-scoring-toggle','auto-fix-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','reviewQuestionIndex','confirm-team-players-btn','num-choices','shortcutId','delete-svg-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','save-quiz-btn','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','cursor','.score','สร้างแบบทดสอบ','moveTo','\x20ชุดสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','leaderboard-tab-content','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','incorrect','.delete-bp-project-btn','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lower_group_count','tabId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','getAttributeNS','visibilitychange','.quiz-bank-move-btn','parallel-test-upload-input','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','.eraser-size-btn','.edit-file-shortcut-btn','onchange','ปล่อยพลัง','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','close-topic-bank-btn','student-initial-view','รูปหลายเหลี่ยมและมุมภายใน','tab_','MathJax\x20re-render\x20failed:','ไฟล์ลัด\x202','helvetica','lesson-plan-title','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','pointercancel','cancel-quiz-edits-btn-footer','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x20(ID:\x20','_new','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','blueprint-projects-modal','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','ai-quiz-generator-v3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ไม่พบข้อมูลผู้ใช้','.bp-create-topic-quiz-btn','8796078IgUOZv','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','addEventListener','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','.edit-quiz-btn','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','restore','ตอบถูกทุกข้อในแบบทดสอบนี้',')\x22>','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','transformOrigin','toString','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','frac','devicePixelRatio','not_confident','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','กำลังสร้างแบบทดสอบจากหัวข้อ...','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','modal-confidence-scoring-checkbox','\x20link(s)\x20for\x20quiz\x20ID:\x20','file-shortcut-editor-modal','ยกเลิกการจับคู่สำเร็จ','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','student-name-selection-view','ระยะเวลา\x20(วินาที):','\x20/\x20','geq','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','application/pdf','</div></div>','options','size','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','<p>','text-red-900','.isScored','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','.quiz-bank-parallel-btn','student-rankings-modal','ไอติมทอด','confirm-game-start-btn','การวัด','behaviorLog','การจัดกลุ่มข้อมูล','results-table-container','.delete-svg-btn','index','\x20จุด','password-error-msg','getPage','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','close-additional-parallel-shortcuts-btn','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','NUMBER','createObjectURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20text-green-800','ทำคะแนนเต็มในการทำครั้งแรก','ปริพันธ์จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.highlighter-color-btn','รูปสแควร์รูท\x20(surd)','loop-until-pass-checkbox','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','บันทึกโปรเจค\x20\x22','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','gradeLevel','blueprintUrl','rgba(239,\x2068,\x2068,\x200.9)','blueprint-project-manager-view','AI\x20grading\x20failed:','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x0a---\x0a','bg-[#DCFCE7]\x20text-green-900','check-answer-btn','\x20แบบทดสอบลงในคลังสำเร็จ!','imageCode','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x22\x20name=\x22question_single\x22\x20value=\x22','ดีมาก','insertBefore','isArray','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-message','บักแตงโม','candidates','#add-question-editor-btn','presentation-scratchpad-btn','pin','file-shortcut-modal-title','กำลังจับคู่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','lastIndexOf','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','sync-short-answer-input','ส่งแล้ว','.project-card-container','quiz-generation-area','retake-quiz-loop-btn','การแยกตัวประกอบ','additional-parallel-shortcuts-modal','bg-[#4ADE80]\x20text-green-900\x20font-bold','Error\x20saving\x20quiz\x20edits:','N/A','questions_only','description','topic-input-area','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file.pdf','กำลังสร้างคำถามข้อ\x20','q-text-','Error\x20joining\x20team\x20quiz:','fromCharCode','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','back-to-dashboard-from-results-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','nextElementSibling','ownerSVGElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','confirm-quiz-settings-btn','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','Error\x20submitting\x20team\x20answer:','คำถามถัดไป','live-race','project-name-input','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','toFixed','timed','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','end-sync-game-btn','isLooping','lineJoin','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','รายการนี้','close-student-rankings-btn','\x20\x0a\x20\x20\x20\x20','canvas','team-quiz-topic','ระบบอสมการ','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','แผนภาพเวนน์','text-red-700','thead','.view-bp-lesson-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','passcode','lesson-sections-container','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','.application-options\x20button','parallel-shortcut-container','สัญกรณ์วิทยาศาสตร์','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','MathJax\x20typeset\x20error\x20(analytics):','สำหรับโปรเจค:\x20','Error\x20updating\x20old\x20quizzes:','.live-summary-tooltip.visible','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','ชาไข่มุก','\x22\x20name=\x22confidence','Error\x20joining\x20live\x20game:','currentQuestionIndex','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','Authentication\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','qType','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','documentElement','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','modal-confidence-mode-select','\x20ครั้ง)</span></td>','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','parallel-shortcut-url-input','style','submission-status-chart','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','แบบเติมคำตอบ','td,\x20th','<span\x20class=\x22sort-indicator\x20ml-2\x22>','modal-loop-until-pass-checkbox','bulk-quiz-settings-modal','summary_chart','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','Error\x20saving\x20game\x20results:','lobby','จากไฟล์ที่แนบมานี้,\x20','shuffleSetting','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เต่าสายฟ้า','พิมพ์ตอบ','confidence','document','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','bg-emerald-100','team-student-list','</tr>','ตรวจทานเฉลยเสร็จสิ้น!','\x20quizzes\x20into\x20global\x20cache.','results-quiz-id-display','gameData','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','startsWith','วงกลม:\x20สมการและสมบัติ','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','confirm-confident','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','sync-matching-select','quiz-bank-modal','default-','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','question-complexity-select','.quiz-bank-settings-btn','กรุณาใส่ชื่อนักเรียน','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','ยืนยันการกระทำ','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างบทเรียน:\x20','globalCompositeOperation','scratchpad-close-btn','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','.project-card-container:not(.opacity-50)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','trail','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','เพิ่มหัวข้อ\x20\x22','```','sync','add-parallel-shortcut-btn','คะแนนยังไม่ถึงครึ่ง','All\x20groups\x20have\x20finished.\x20Ending\x20game.','bg-green-200\x20text-green-900\x20font-bold','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','drill-feedback','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','fullscreenElement','hasPerfectScoreBonus','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-green-700','appendChild','คัดลอกไม่สำเร็จ','dataset','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','แก้ไขชื่อหัวข้อย่อย:','projectSortOrder','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.bp-delete-topic-btn','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','latestScore','พิสัย','มุมและการวัดมุม','#000000','analytics-tab-btn','.move-parallel-shortcut-menu-btn','-options','%</span>','.delete-hidden-parallel-shortcut-btn','button','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','/public/data/quizzes/','เกิดข้อผิดพลาดในการลบ','<div\x20class=\x22space-y-4\x22>','pointerType','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','shortcut-id-input','get','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</div></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','pre-test','.sortable-header','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','source_document.pdf','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gain','สมการลอการิทึม','จากเนื้อหาต่อไปนี้:\x20\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-500\x20text-white\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ความเป็นอิสระของเหตุการณ์','summary','แบบทดสอบนี้ปิดใช้งานอยู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','upper_group_count','classWeaknesses','bg-teal-500\x20hover:bg-teal-600\x20text-white','lesson-plan-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','\x22\x20name=\x22team_answer\x22\x20value=\x22','bg-gray-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','เพนกวินไฟ','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','game-pin-input','<br>','.lastAnswerIndex','txt','เลือกและเริ่มสร้าง','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','พื้นที่ผิวรูปทรงสามมิติ','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','Error\x20duplicating\x20quiz:','pen-tool-btn','deg','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','min','Invalid\x20response\x20structure\x20from\x20API.','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','ระบบเลขและค่าประจำหลัก','sync-variant-selector','quizId','circle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x5ctimes','scratchpad-clear-btn','parseInline','Error\x20deleting\x20shortcut:','หน่วยเวลาและการคำนวณเวลา','ครัวซองต์','print','เรเดียนและการแปลงหน่วย','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','back-to-student-initial-btn','</label></div>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','.pen-color-btn','Error\x20joining\x20activity:','querySelector','text-blue-800','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','bg-black/20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','<span\x20title=\x22','ยืนยันและอัปเดตทั้งหมด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','/public/data/customMathTopics','hidden','responses','ยูทูปเบอร์ฝึกหัด','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','(เลือกแล้ว\x20','linkedQuizIds','ฮิสโตแกรม','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','ฟังก์ชันกำลังสองและกราฟ','.delete-submission-btn','ปรับเพิ่ม/ลดเป็นร้อยละ','ใช่\x20/\x20ถูก','setAttribute','Error\x20generating\x20from\x20parallel\x20test\x20file:','view-my-progress-btn','pointerdown','ผิด','อินเวอร์สของเมทริกซ์','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','confirm-bulk-quiz-settings-btn','API\x20call\x20failed','นักเดินทาง','parallel-shortcut-editor-modal','ยังไม่มีนักเรียนส่งงาน','100px','\x20(\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','\x22\x20class=\x22delete-project-btn\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','bp-modal-question-complexity-select','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','add-student-btn','keys','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','text/html','\x22\x20data-name=\x22','reference-pdf-upload','touch','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','rgba(239,\x2068,\x2068,\x200.7)','Error\x20fetching\x20projects\x20for\x20move:','setFont','กรุณาป้อนรหัสแบบทดสอบ','isPinned','\x20to\x20blueprint\x20topic\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','student-team-selection-view','minHeight','file-input-area','ราชาคัมแบ็ก','Error\x20starting\x20group\x20quiz:','modal-passing-score-input','starred-project','student-quiz-area','ความสัมพันธ์ของมุม','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','complexityValue','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-display-select','ARRAY','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','webkitRequestFullscreen','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','times','แบบทดสอบ:\x20','map','blueprintShortcuts','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','overline','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','text-gray-300\x20hover:text-white','shortcutIds','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','file-upload-input','ไฟล์ลัด\x201','stringify','.regenerate-question-editor-btn','practice-topic-btn','อัตราการเปลี่ยนแปลงทันที','q-explanation-','<li>','student','แก้ไขปุ่มลัด','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-mode','หลังเรียน','save-quiz-edits-btn','half_mark_status','lesson-view-title','comparison-chart','ลำดับเรขาคณิต\x20(GP)','ระยะทางและจุดกึ่งกลาง','visible','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','.quiz-status-btn','rename-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','editor-quiz-topic','Error\x20comparing\x20results:','ธอร์ค้อนบิน','#open-additional-parallel-shortcuts-btn','lesson-view-modal','ฟังก์ชันแบบชิ้นส่วน','.quiz-bank-try-btn','shadowBlur','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','ทฤษฎีบทพีทาโกรัสและการประยุกต์','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','.export-pdf-list-btn','tfrac','/submissions','latestSubmittedAt','การบวกทศนิยม','interesting-stats-wrapper','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','<div\x20class=\x22my-6\x22>','(ไม่มีชื่อ)','close-lesson-view-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','</span><span\x20class=\x22font-bold\x22>','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','admin-dashboard','ปิดใช้งาน','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เหมียวขี้เซา','parallel-test-tab','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','splice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','topic-input','.cancel-edit-topic-btn','Error\x20during\x20class\x20analysis:','match','subTopics','.pen-size-btn','cancel-shortcut-edit-btn','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x27\x20ในหัวข้อ\x20\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-tutor-pdf-btn','quiz-leaderboard-table','\x20pointer-events-none\x22>','ดูผลสรุปสุดท้าย','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','modal-timer-duration-container','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','ค่าเสื่อมราคา','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','projectView','summaryContent','.submittedAt','Error\x20saving\x20shortcut:','delete-all-students-btn','(คัดลอก)\x20','playerNicknames','http://www.w3.org/2000/svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','พีชคณิตและฟังก์ชัน','ดีเทอร์มิแนนต์','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','global-quiz-search-input','\x20in\x20all\x20blueprint\x20projects.','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','name_desc','parallelTestShortcutsConfig','isPasscodeEnabled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สุดยอด!\x20ตอบถูกทุกข้อ','getElementsByTagName','จำนวนเชิงซ้อน\x20(เสริม)','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','manual-blueprint-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','body','\x20mb-2\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','Error\x20confirming\x20players:','การปัดเศษและประมาณค่า','เพิ่มปุ่มลัดใหม่','เกิดข้อผิดพลาดในการลบนักเรียน','questionIndex','การหารเศษส่วน','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','generate-from-text-btn','modal-confidence-mode-container','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','move-quiz-project-select','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElementNS','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','readAsArrayBuffer','rgba(79,\x2070,\x20229,\x201)','input[name=\x22syncVariant\x22]:checked','worksheet-tab','parent','กรุณาเลือกคำตอบก่อนครับ','(หลังเรียน)\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','Error\x20updating\x20project\x20color:','กำลังอ่านและเตรียมไฟล์...','mouseup','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keydown','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','getElementById','setAttributeNS','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ฟังก์ชันค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','student-result-area','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','modal-close-btn','ก่อนเรียน','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','drop','null','Error\x20clearing\x20linked\x20quiz:','has','$1\x20\x5cfrac','left','default-2','open','<i\x20class=\x22fas\x20fa-pen\x22></i>','toDataURL','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','save-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','message-modal','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','empty','fa-bolt\x20text-blue-500','_blank','กรุณาเลือกโปรเจคปลายทาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','short','\x22.\x20Ideal\x20Answer:\x20\x22','ร้อยละประยุกต์','teacherTips','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','global-activity-modal','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','</option>','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','cancel-quiz-bank-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','show-in-student-dashboard-checkbox','-options\x22>','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','removeEventListener','Error\x20listening\x20for\x20projects:','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','destination-out','promise','selectedTopicNames','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังกลับเข้าสู่เกม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20mr-2\x22></i>','student-name-select','input[name=\x22question_single\x22]:checked','numQuestions','correctAnswerIndex','#FCE7F3','members','ไม่พบแบบทดสอบในระบบเลย','Error\x20saving\x20file\x20shortcut:','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','<div\x20id=\x22q-image-container-','generate-from-blueprint-btn','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','opacity-50','.move-file-shortcut-dropdown','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','pen-tools-group','Remedial\x20quiz\x20generation\x20failed:','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','results-tab-content','.edit-shortcut-btn','close','finished','modal-timer-duration-input','image/png','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวแปรและนิพจน์','substr','จำนวนและการดำเนินการ','Blueprint\x202','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','เพื่อนสนิท','จำนวนคละ','doughnut','attempts','.mb-6.p-4','results-table','AI\x20Formula\x20Fix\x20Error:','shortcut_','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.use-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','quiz-form','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parseFromString','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','\x20รายการ...','\x20ตัวเลือก)','next-question-btn','content','POST','shortcutOrder','delete','mode-switcher-btn','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','</button>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','แบบทดสอบซ่อมเสริม','ลำดับเลขคณิต\x20(AP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','\x22\x20สำเร็จ!','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','ผู้พิชิตดาว','bulk-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','entries','resize','sync-player-management','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','topic-bank-list','remove','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','whole_quiz','bg-amber-100\x20text-amber-800','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','setTransform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','suggestedAnswer','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','div','add','ข้อที่\x20','#retake-for-improvement-btn','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','border-red-700','Error\x20deleting\x20submission:','สร้างคำถามแบบใช่/ไม่ใช่','\x5cpm','element','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','ข้าวมันไก่พิเศษ','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','Error\x20preparing\x20content\x20quiz:','.group\x5c/dropdown-parallel','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','per-question-options','questionStatus','file-default-1','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-game-start-btn','text-red-600','per-question-timer-container','close-lesson-plan-modal-footer-btn','เริ่มกิจกรรม:\x20','bg-green-500\x20hover:bg-green-600\x20text-white','push','</p></div>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','finishReason','Enter','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-500','offsetWidth','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','รักแรกพบ','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','correctAnswer','groups','https://drive.google.com/uc?export=download&id=','เน็ตไอดอล','text-red-800','lineCap','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','สร้างคำถามแบบเติมคำในช่องว่าง','lesson-loader','การแจกแจงปกติและ\x20z-score','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','qIndex','.game-start-btn','ผ่านฉลุย','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','หมูกระทะจะเยียวยาทุกสิ่ง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','manage','รอเปิด','/public/data/learnedFixes','generate-worksheet-btn','shuffle-setting-select','Error\x20saving\x20manual\x20blueprint\x20project:','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','trim','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','warn','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','ไฮเพอร์โบลา','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','Error\x20adding\x20topic:','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','#open-additional-shortcuts-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','auto','generate-from-file-btn','.lastAnswerValue','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','deselect-all-topics-btn','\x22\x20ให้เป็นคำถามประเภท\x20\x22','dataIndex','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','\x5cle','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','curriculum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','scores','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','อัปเดตพฤติกรรมสำหรับ\x20','string','close-comparison-modal-btn','live-player-list','contains','แคลคูลัสเบื้องต้น','Error\x20unpairing\x20quizzes:','ai-quiz-app-aefee.firebaseapp.com','/preferences/main','Error\x20updating\x20sort\x20preference:','scratchpad-question','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-input','quiz','Error\x20saving\x20blueprint\x20project:','confirm-game-start-modal','dashboardConfig','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','student-list','end-team-quiz-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','group','file-shortcut-url-input','quiz-editor-modal','.move-file-shortcut-menu-btn','พื้นที่สี่เหลี่ยม','เปิดใช้งาน','parse','<svg','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','close-additional-file-shortcuts-btn','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','student-progress-content','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','สู้ๆ\x20ลองอีกครั้งนะ','.question-editor-item[data-q-index=\x22','text-purple-600','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','highlighter-tool-btn','sum','answer-grid-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','admin-password-input','แผนการสอน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','แม่น้ำ','submission','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','reveal_at_end','overflowY','perfect_score','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','update','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','tGain','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','score','\x20|\x20ID:\x20','destroy','Error\x20submitting\x20group\x20answer:','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','หมดเวลา!\x20กำลังส่งคำตอบ...','memoryContent','start-game-btn','beforeend','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','สมการราก\x20(radical)','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','scale','พบข้อสอบ\x20','textContent','fa-user-astronaut\x20text-blue-700','transparent','%PDF','ไอรอนแมน','blueprint-settings-modal','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','text-blue-700','.csv','Error\x20creating\x20project:','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','href','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','bp-modal-quiz-type-select','leaderboard-quiz-tab-content','log','ondblclick','ฟังก์ชันเชิงเส้นและกราฟ','questionText','comparison-overall-content','explanation','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าสัมบูรณ์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','applicationHTML','grid','bg-red-100\x20text-red-800','Error\x20resetting\x20project\x20order:','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','applicationContent','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PERSEVERANCE','file-shortcut-container','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','#math-topics-checkbox-container\x20input:checked','Re-grade\x20process\x20failed:','\x0a\x20\x20\x20\x20','นักล่าฝัน','การคูณเศษส่วน','rgba(16,\x20185,\x20129,\x200.7)','post-test','ฐานนิยม','back-to-student-home-btn','join','confirm-create-project-btn','parallel-shortcut-id-input','live-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','confidence-scoring-checkbox','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','confirm-quiz-status-btn','podium','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','focus','แบบทดสอบนี้หมดเวลาแล้ว','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','ระยะเวลา\x20(นาที):','\x22\x5cn','round','คัดลอกแบบทดสอบสำเร็จ','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','Original\x20quiz\x20not\x20found','download','checkbox','การคูณทศนิยม','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','#FFFFFF','isAdaptive','shortcut-reference-url-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','กลุ่มของคุณ','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','start-live-race-generated-btn','ไม่สามารถโหลดข้อมูลอันดับได้','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','temp-loader-results','practiceProblems','quiz-leaderboard-table-body','.project-card-container.opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Leaderboard\x20update\x20transaction\x20failed:\x20','การนับ','enable-passcode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-pdf-modal','bg-[#EF4444]\x20text-white\x20font-bold','matching_item','---\x20[คำถามใหม่]\x20---','ตัวแทนแห่งดวงจันทร์','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','FileReader\x20error:','\x20รายการ\x20สำเร็จ!','.bp-present-btn','analytics-summary-cards','mainTopics','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','line-through\x20text-red-700','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','analytics','ศูนย์','highlighter','แก้ไขหัวข้อสำเร็จ','กำลังเตรียมไฟล์อ้างอิง...','newOptionsPayload','/lessons','Error\x20generating\x20parallel\x20post-test:','title','ย้ายแบบทดสอบสำเร็จ','currentTarget','pointer-events-none','getScreenCTM','getBoundingClientRect','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','ส้มตำปูปลาร้า','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20generate\x20practice\x20test:','สเกลและแผนที่','.answers','table','show-leaderboard-btn','adaptive-quiz-checkbox','mjx-container','memory','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','answer','generated','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','สร้างแล้ว','standard','ม้าดีดกะโหลก','perseverance','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มังกรกินจุ','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','968388oWRpkF','พบ\x20Team\x20Quiz!','handleGenerateQuizFromBlueprintTopic','</form>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','confidenceMode','Error\x20deleting\x20student:','ON_FIRE','บันทึกแบบทดสอบสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-bold\x20text-sm\x20','กำลังวิเคราะห์หัวข้อ...','อนุพันธ์:\x20ผลคูณ/ผลหาร','ดอกเบี้ยอย่างง่าย','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','width','กรุณาเลือกสถานะ','Error\x20starting\x20game:','bg-green-200\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','requestFullscreen','click','ลบแบบทดสอบสำเร็จแล้ว','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','stroke','bp-modal-num-questions','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','กำลังค้นหากิจกรรม...','Failed\x20to\x20resume\x20game\x20session:','.ai-fix-question-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','fill_in_no_choices','Error\x20deleting\x20project:','height','toISOString','/users/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','736757tjxciO','verify-answers-editor-btn','lesson-loader-text','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','[*]','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','referenceUrl','flex\x20flex-col\x20gap-2','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','.parallel-quiz-btn','Failed\x20to\x20get\x20standardized\x20topic:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','transition-all',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','ค่าคลาดเคลื่อนของการวัด','.delete-parallel-shortcut-tab-btn','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x22\x20data-pre-test-id=\x22','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ondrop','selected-answer-index-hidden','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','Blueprint\x201','blueprint-project-list','link-url-input','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','Error\x20saving\x20visibility\x20settings:','progress-student-select','getTextContent','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','.color-palette-btn','generated-quiz-actions','comparison-individual-content','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','.use-hidden-shortcut-btn','closePath','กำลังอ่านไฟล์อ้างอิง...','getItem','toDate','originalQuestionText','save-game-results-checkbox','top','files','</strong></p>','พอใช้','วงรี','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','workerSrc','Error\x20fetching\x20student\x20rankings:','มุมพิเศษ\x2030°-60°-90°','<button\x20data-id=\x22','(ฉบับง่าย)\x20','blueprint-topics-list-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','ความเท่ากันทุกประการของสามเหลี่ยม','.\x20แต่ละข้อมี\x20','icon','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','correctResponse','file-shortcut-id-input','all','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','behavior-log-tab-content','postScore','artifacts/','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','presentation-slide-container','quiz-start-time','previousElementSibling','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','inactive','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','):\x20','draggable-text','การจัดหมู่\x20(Combination)','additional-file-shortcuts-list','isCorrect','</td>','.tab-name-input','.delete-hidden-file-shortcut-btn','student-progress','submissions','outerHTML','คำเตือน\x20(','difficulty-level-select','Error\x20deleting\x20all\x20students:',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','สมการเหตุผล\x20(rational)','Error\x20generating\x20easy\x20version\x20quiz:','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','มือปราบสายรุ้ง','ไม่พบเอกสารการส่งงานของ\x20','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','.confidence-choice-btn','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','กรุณาพิมพ์คำตอบของกลุ่ม','คาถาแยกเงาพันร่าง','answeredCurrentQuestion','prod','timer-duration-input','student-quiz-leaderboard-tab','กำลังดึงไฟล์อ้างอิงจากลิงก์...','unshift','/public/data/practiceBank','typesetPromise','.quiz-bank-checkbox:checked','bulk-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','responseSchema'];_0x76b6=function(){return _0x434e9a;};return _0x76b6();}document[_0x15d57d(0x9c3)](_0x15d57d(0x905))[_0x15d57d(0x762)]('click',async()=>{const _0x444e40=_0x15d57d;if(!currentProjectId)return;const _0x38f637=document['getElementById']('student-name-input'),_0x887b90=_0x38f637[_0x444e40(0x3bb)][_0x444e40(0xa93)]();if(!_0x887b90){showMessage(_0x444e40(0x851));return;}const _0x1ad549=_0x887b90[_0x444e40(0x260)]('\x0a')['map'](_0x214bd7=>_0x214bd7[_0x444e40(0xa93)]())[_0x444e40(0x23a)](_0x36ecaa=>_0x36ecaa);if(_0x1ad549['length']===0x0)return;try{const _0x1b453d=doc(db,_0x444e40(0xc02)+appId+_0x444e40(0x47e),currentProjectId),_0x18c510=await getDoc(_0x1b453d);if(_0x18c510[_0x444e40(0x6b5)]()){const _0x187ad7=_0x18c510[_0x444e40(0xc5f)]()[_0x444e40(0x535)]||[],_0x31c09d=[...new Set([..._0x187ad7,..._0x1ad549])];await updateDoc(_0x1b453d,{'students':_0x31c09d}),_0x38f637[_0x444e40(0x3bb)]='';}}catch(_0x402217){console[_0x444e40(0x1c0)](_0x444e40(0x1b2),_0x402217),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x8d80e9){const _0x1bf815=_0x15d57d,_0x1a9b96=document[_0x1bf815(0x9c3)](_0x1bf815(0x433)),_0x193608=document[_0x1bf815(0x9c3)](_0x1bf815(0x9ae)),_0x8f9ee3=_0x1a9b96[_0x1bf815(0x8da)]('h3'),_0x3ae2a7=document[_0x1bf815(0x9c3)](_0x1bf815(0x428)),_0x2a9dfe=document[_0x1bf815(0x9c3)]('cancel-move-quiz-btn');_0x8f9ee3[_0x1bf815(0xafb)]='จับคู่เพื่อเปรียบเทียบผล',_0x193608[_0x1bf815(0x632)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x3ae2a7['textContent']=_0x1bf815(0x2f6),_0x1a9b96[_0x1bf815(0xcbe)][_0x1bf815(0xa49)]('hidden');const _0x42cd24=allQuizzes[_0x1bf815(0x23a)](_0x1ba867=>_0x1ba867['id']!==_0x8d80e9);_0x42cd24[_0x1bf815(0x768)]===0x0?(_0x193608[_0x1bf815(0x632)]=_0x1bf815(0xa5f),_0x3ae2a7[_0x1bf815(0x704)]=!![]):(_0x193608[_0x1bf815(0x632)]=_0x1bf815(0x5cf)+_0x42cd24[_0x1bf815(0x929)](_0x2b68af=>_0x1bf815(0x1dc)+_0x2b68af['id']+'\x22>'+_0x2b68af[_0x1bf815(0x294)]+_0x1bf815(0x9ea))[_0x1bf815(0xb2d)](''),_0x3ae2a7[_0x1bf815(0x704)]=![]);const _0x1de713=async()=>{const _0x597bb2=_0x1bf815,_0x3d72c0=_0x193608['value'];if(!_0x3d72c0){showMessage(_0x597bb2(0x3a7));return;}_0x3ae2a7[_0x597bb2(0x704)]=!![],_0x3ae2a7['textContent']=_0x597bb2(0x7cc);try{const _0x5275fc=doc(db,'artifacts/'+appId+_0x597bb2(0x21e),_0x8d80e9),_0x3b8121=doc(db,_0x597bb2(0xc02)+appId+_0x597bb2(0x21e),_0x3d72c0),_0x1fc9f5=writeBatch(db);_0x1fc9f5[_0x597bb2(0xae8)](_0x5275fc,{'pairedQuizId':_0x3d72c0}),_0x1fc9f5[_0x597bb2(0xae8)](_0x3b8121,{'pairedQuizId':_0x8d80e9}),await _0x1fc9f5[_0x597bb2(0x281)](),showMessage(_0x597bb2(0x6d6)),_0x1a9b96[_0x597bb2(0xcbe)]['add'](_0x597bb2(0x8e4));}catch(_0x3437a5){console[_0x597bb2(0x1c0)](_0x597bb2(0x6bb),_0x3437a5),showMessage(_0x597bb2(0x458));}finally{_0x8f9ee3[_0x597bb2(0xafb)]=_0x597bb2(0x506),_0x3ae2a7['textContent']=_0x597bb2(0x2c0),_0x3ae2a7[_0x597bb2(0x704)]=![],_0x3ae2a7['removeEventListener'](_0x597bb2(0xba1),_0x1de713),_0x2a9dfe[_0x597bb2(0x9f3)]('click',_0x59ab51);}},_0x59ab51=()=>{const _0xb2c1e4=_0x1bf815;_0x1a9b96[_0xb2c1e4(0xcbe)][_0xb2c1e4(0xa54)](_0xb2c1e4(0x8e4)),_0x8f9ee3[_0xb2c1e4(0xafb)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3ae2a7[_0xb2c1e4(0xafb)]=_0xb2c1e4(0x2c0),_0x3ae2a7[_0xb2c1e4(0x9f3)](_0xb2c1e4(0xba1),_0x1de713),_0x2a9dfe[_0xb2c1e4(0x9f3)](_0xb2c1e4(0xba1),_0x59ab51);};_0x3ae2a7[_0x1bf815(0x762)]('click',_0x1de713),_0x2a9dfe['addEventListener']('click',_0x59ab51);}function handleDeleteStudent(_0x2c76b4){const _0x670916=_0x15d57d;showConfirmation(_0x670916(0x6e2)+_0x2c76b4+_0x670916(0x55a),async()=>{const _0x2b2c05=_0x670916;if(!currentProjectId||!currentProjectData)return;const _0xd9750c=currentProjectData['students']['filter'](_0x47a455=>_0x47a455!==_0x2c76b4);try{const _0xe7c421=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x2224d9=doc(db,_0x2b2c05(0xc02)+appId+_0x2b2c05(0x3a3)+currentProjectId+_0x2b2c05(0x5c6),_0x2c76b4),_0x70110b=writeBatch(db);_0x70110b[_0x2b2c05(0xae8)](_0xe7c421,{'students':_0xd9750c}),_0x70110b['delete'](_0x2224d9),await _0x70110b[_0x2b2c05(0x281)]();}catch(_0x357fca){console[_0x2b2c05(0x1c0)](_0x2b2c05(0xb92),_0x357fca),showMessage(_0x2b2c05(0x9a4));}});}function handleDeleteAllStudents(){const _0xd8c479=_0x15d57d;showConfirmation(_0xd8c479(0x89c),async()=>{const _0x252131=_0xd8c479;if(!currentProjectId)return;try{const _0x42b13e=doc(db,_0x252131(0xc02)+appId+_0x252131(0x47e),currentProjectId),_0x547c0c=collection(db,'artifacts/'+appId+_0x252131(0x3a3)+currentProjectId+_0x252131(0x5c6)),_0x2eb617=await getDocs(_0x547c0c),_0x5927da=writeBatch(db);_0x5927da['update'](_0x42b13e,{'students':[]}),_0x2eb617[_0x252131(0x326)](_0x1fbdef=>_0x5927da[_0x252131(0xa33)](_0x1fbdef[_0x252131(0x25d)])),await _0x5927da[_0x252131(0x281)]();}catch(_0x239443){console[_0x252131(0x1c0)](_0x252131(0xc18),_0x239443),showMessage(_0x252131(0x597));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x3bedcf){const _0xf3f630=_0x15d57d,_0x4b2e01=document[_0xf3f630(0x9c3)]('file-topics-list-container'),_0x4d350=document[_0xf3f630(0x9c3)]('file-topics-list');_0x4b2e01[_0xf3f630(0xcbe)]['remove'](_0xf3f630(0x8e4)),_0x4d350[_0xf3f630(0x632)]='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x4ba1e5=new FileReader();_0x4ba1e5[_0xf3f630(0x3dd)](_0x3bedcf),await new Promise((_0x2b9cf6,_0x5e316f)=>{const _0x10a842=_0xf3f630;_0x4ba1e5['onload']=()=>{const _0x13af0b=_0x344c;fileDataBase64=_0x4ba1e5['result'][_0x13af0b(0x260)](',')[0x1],fileMimeType=_0x3bedcf['type'],_0x2b9cf6();},_0x4ba1e5[_0x10a842(0x1d8)]=_0x571f64=>_0x5e316f(_0x571f64);});if(!fileDataBase64)throw new Error(_0xf3f630(0xc96));const _0x5f5d0f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x557a35={'type':_0xf3f630(0x5e7),'properties':{'topics':{'type':_0xf3f630(0x922),'items':{'type':'STRING'}}},'required':[_0xf3f630(0x2d3)]},_0xf03c0d=[{'text':_0x5f5d0f},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x499111=await handleApiCall(_0xf03c0d,_0xf3f630(0xb97),_0x557a35,null,![]);if(_0x499111&&_0x499111['topics'])extractedFileTopics=_0x499111[_0xf3f630(0x2d3)],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x4e3ca8){console['error'](_0xf3f630(0x141),_0x4e3ca8),_0x4d350[_0xf3f630(0x632)]=_0xf3f630(0x277)+_0x4e3ca8['message']+'</p>';}}function renderFileTopics(){const _0x54226c=_0x15d57d,_0x4c6dc9=document[_0x54226c(0x9c3)](_0x54226c(0x66b));if(extractedFileTopics[_0x54226c(0x768)]===0x0){_0x4c6dc9[_0x54226c(0x632)]=_0x54226c(0xcff);return;}_0x4c6dc9[_0x54226c(0x632)]=extractedFileTopics[_0x54226c(0x929)](_0x170d8c=>_0x54226c(0x7cd)+_0x170d8c+_0x54226c(0x62a)+escape(_0x170d8c)+_0x54226c(0xa37)+escape(_0x170d8c)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join']('');}async function generateHybridQuizForTopic(_0x5bf130){const _0x3d94fb=_0x15d57d,_0x191160=parseInt(document['getElementById']('num-questions')[_0x3d94fb(0x3bb)],0xa),_0x3e5522=document[_0x3d94fb(0x9c3)](_0x3d94fb(0xc9d))[_0x3d94fb(0x3bb)],_0x4a87ce=document['getElementById']('num-choices')['value'],_0x4b856f=document[_0x3d94fb(0x9c3)](_0x3d94fb(0x355))[_0x3d94fb(0x57b)],_0x32373b=_0x4b856f?_0x3d94fb(0x20b):_0x3d94fb(0x635);let _0x2abaef='',_0x4b59fc;const _0x2cf9af={'type':_0x3d94fb(0x5e7),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3d94fb(0x922),'items':{'type':_0x3d94fb(0x239)}},'correctAnswerIndex':{'type':_0x3d94fb(0x7a3)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3d94fb(0x239)}},'required':[_0x3d94fb(0xb0e),_0x3d94fb(0x78a),_0x3d94fb(0xa02),_0x3d94fb(0xb10)]},_0x33e233={'type':'OBJECT','properties':{'questionText':{'type':_0x3d94fb(0x239)},'correctAnswer':{'type':_0x3d94fb(0x63a)},'explanation':{'type':_0x3d94fb(0x239)},'imageCode':{'type':_0x3d94fb(0x239)}},'required':[_0x3d94fb(0xb0e),_0x3d94fb(0xa79),'explanation']},_0x47c54a={'type':_0x3d94fb(0x5e7),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x3d94fb(0x239)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3d94fb(0x239)}},'required':[_0x3d94fb(0xb0e),_0x3d94fb(0x59a),_0x3d94fb(0xb10)]},_0x48042f={'type':_0x3d94fb(0x5e7),'properties':{'questionType':{'type':'STRING','enum':[_0x3d94fb(0xb59)]},'stem':{'type':_0x3d94fb(0x239)},'correctResponse':{'type':_0x3d94fb(0x239)},'allResponses':{'type':'ARRAY','items':{'type':_0x3d94fb(0x239)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionType','stem','correctResponse',_0x3d94fb(0x472),_0x3d94fb(0xb10)]};switch(_0x3e5522){case'multiple_choice':_0x2abaef=_0x3d94fb(0xa4d)+_0x4a87ce+_0x3d94fb(0xa2e),_0x4b59fc=_0x2cf9af;break;case _0x3d94fb(0x160):_0x2abaef=_0x3d94fb(0xa78),_0x4b59fc=_0x33e233;break;case _0x3d94fb(0xbb0):_0x2abaef=_0x3d94fb(0x149),_0x4b59fc=_0x47c54a;break;case _0x3d94fb(0x4c7):_0x2abaef='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x4b59fc=_0x48042f;break;case'fill_in_with_choices':_0x2abaef=_0x3d94fb(0x5c8)+_0x4a87ce+_0x3d94fb(0xa2e),_0x4b59fc=_0x2cf9af;break;default:_0x2abaef=_0x3d94fb(0xa4d)+_0x4a87ce+_0x3d94fb(0xa2e),_0x4b59fc=_0x2cf9af;break;}const _0x37a7f1='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x5bb934=document[_0x3d94fb(0x9c3)](_0x3d94fb(0x482)),_0x24f0b4=document[_0x3d94fb(0x9c3)](_0x3d94fb(0x4a2)),_0x171df1=document[_0x3d94fb(0x9c3)](_0x3d94fb(0x137));document['getElementById'](_0x3d94fb(0x7d3))[_0x3d94fb(0xcbe)][_0x3d94fb(0xa49)](_0x3d94fb(0x8e4)),_0x171df1[_0x3d94fb(0x632)]='',_0x5bb934[_0x3d94fb(0xcbe)][_0x3d94fb(0xa49)](_0x3d94fb(0x8e4)),_0x24f0b4[_0x3d94fb(0xafb)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x5bf130+'\x22\x20จำนวน\x20'+_0x191160+_0x3d94fb(0x6c6);try{const _0x5c959e=_0x3d94fb(0x650),_0xd0c2c7=_0x3d94fb(0x66f)+_0x5bf130+_0x3d94fb(0xa8a)+_0x191160+_0x3d94fb(0xb11)+_0x5bf130+_0x3d94fb(0xcf0)+_0x191160+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x32373b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20'+_0x2abaef+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x37a7f1+_0x3d94fb(0x28f)+_0x5c959e+_0x3d94fb(0x663)+simpleMathPrompt+_0x3d94fb(0x660),_0x254532={'type':_0x3d94fb(0x5e7),'properties':{'topic':{'type':_0x3d94fb(0x239)},'questions':{'type':_0x3d94fb(0x922),'items':_0x4b59fc}},'required':['topic',_0x3d94fb(0xca5)]},_0x42df0f=[{'text':_0xd0c2c7},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x42df0f,'กำลังสร้างแบบทดสอบ\x20\x22'+_0x5bf130+_0x3d94fb(0x5bf),_0x254532);}catch(_0x1ae581){console['error'](_0x3d94fb(0x604),_0x1ae581),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1ae581[_0x3d94fb(0xce4)]),_0x171df1[_0x3d94fb(0x632)]=_0x3d94fb(0xa7f);}finally{_0x5bb934[_0x3d94fb(0xcbe)][_0x3d94fb(0xa54)]('hidden');}}async function handleGenerateFromFileClick(){const _0x35fa6e=_0x15d57d;if(!selectedFile){showMessage(_0x35fa6e(0x449));return;}const _0x5ab204=document['getElementById'](_0x35fa6e(0x482)),_0x46b42c=document[_0x35fa6e(0x9c3)]('loader-text'),_0x2911df=document['getElementById'](_0x35fa6e(0x137)),_0x27e6d0=document[_0x35fa6e(0x9c3)](_0x35fa6e(0xaa2));_0x27e6d0[_0x35fa6e(0x704)]=!![],document[_0x35fa6e(0x9c3)]('quiz-generation-area')[_0x35fa6e(0xcbe)][_0x35fa6e(0xa49)](_0x35fa6e(0x8e4)),_0x2911df[_0x35fa6e(0x632)]='',_0x5ab204[_0x35fa6e(0xcbe)][_0x35fa6e(0xa49)]('hidden'),_0x46b42c['textContent']=_0x35fa6e(0x9be);try{const _0x396a8c=await new Promise((_0x41c0fc,_0x5b44b4)=>{const _0x3f25e3=_0x35fa6e,_0x1501fb=new FileReader();_0x1501fb['readAsDataURL'](selectedFile),_0x1501fb[_0x3f25e3(0x696)]=()=>_0x41c0fc(_0x1501fb[_0x3f25e3(0x719)][_0x3f25e3(0x260)](',')[0x1]),_0x1501fb['onerror']=_0x40fc40=>_0x5b44b4(_0x40fc40);});await generateQuizFromFile(selectedFile['type'],_0x396a8c);}catch(_0x54ebc8){console['error'](_0x35fa6e(0x430),_0x54ebc8),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x54ebc8[_0x35fa6e(0xce4)]),_0x5ab204[_0x35fa6e(0xcbe)][_0x35fa6e(0xa54)](_0x35fa6e(0x8e4)),_0x27e6d0[_0x35fa6e(0x704)]=![];}}function autoFormatMath(_0x3e9aa3){const _0x329f1d=_0x15d57d;if(typeof _0x3e9aa3!==_0x329f1d(0xab1)||!_0x3e9aa3)return _0x3e9aa3;const _0x33a947=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x568888=_0x3e9aa3[_0x329f1d(0x3d0)](_0x33a947,_0x4f5193=>{return'$'+_0x4f5193['trim']()+'$';});return _0x568888;}function sanitizeQuizData(_0x6f6a71){const _0xace968=_0x15d57d;if(!_0x6f6a71||!_0x6f6a71['questions'])return _0x6f6a71;const _0xf8a07e={'imes':'\x5ctimes','div':_0xace968(0x57f)},_0x3387aa=_0x363a9a=>{const _0x549a1c=_0xace968;if(typeof _0x363a9a!==_0x549a1c(0xab1))return _0x363a9a;let _0x42e250=_0x363a9a;for(const [_0x203b83,_0x13e5e3]of Object[_0x549a1c(0xa43)](_0xf8a07e)){const _0x3ee994=new RegExp('\x5cb'+_0x203b83+'\x5cb','g');_0x42e250=_0x42e250[_0x549a1c(0x3d0)](_0x3ee994,_0x13e5e3);}return _0x42e250=_0x42e250[_0x549a1c(0x3d0)](/\\\//g,_0x549a1c(0x57f)),_0x42e250=_0x42e250[_0x549a1c(0x3d0)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x549a1c(0x57f))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x549a1c(0x8c9))['replace'](/÷/g,'\x5cdiv')[_0x549a1c(0x3d0)](/×/g,_0x549a1c(0x8c9)),_0x42e250=_0x42e250[_0x549a1c(0x3d0)](/(\d)(\\frac)/g,_0x549a1c(0x9d1)),_0x42e250=autoFormatMath(_0x42e250),_0x42e250;};return _0x6f6a71[_0xace968(0x294)]&&(_0x6f6a71[_0xace968(0x294)]=_0x3387aa(_0x6f6a71['topic'])),_0x6f6a71[_0xace968(0xca5)][_0xace968(0x326)](_0x3b3bc3=>{const _0x5ba87c=_0xace968;_0x3b3bc3[_0x5ba87c(0xb0e)]=_0x3387aa(_0x3b3bc3[_0x5ba87c(0xb0e)]),_0x3b3bc3[_0x5ba87c(0x78a)]&&(_0x3b3bc3['options']=_0x3b3bc3[_0x5ba87c(0x78a)][_0x5ba87c(0x929)](_0x3387aa)),_0x3b3bc3[_0x5ba87c(0xb10)]&&(_0x3b3bc3[_0x5ba87c(0xb10)]=_0x3387aa(_0x3b3bc3['explanation'])),_0x3b3bc3['stem']&&(_0x3b3bc3[_0x5ba87c(0x176)]=_0x3387aa(_0x3b3bc3[_0x5ba87c(0x176)])),_0x3b3bc3[_0x5ba87c(0xbfc)]&&(_0x3b3bc3[_0x5ba87c(0xbfc)]=_0x3387aa(_0x3b3bc3[_0x5ba87c(0xbfc)])),_0x3b3bc3[_0x5ba87c(0x472)]&&(_0x3b3bc3['allResponses']=_0x3b3bc3[_0x5ba87c(0x472)][_0x5ba87c(0x929)](_0x3387aa));}),_0x6f6a71;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x2ffff4=_0x15d57d,_0x19b925=document[_0x2ffff4(0x9c3)](_0x2ffff4(0xbd6)),_0x199c92=document['getElementById'](_0x2ffff4(0x1fc)),_0x506fae=_0x19b925['value'][_0x2ffff4(0xa93)](),_0x466341=_0x199c92['value'][_0x2ffff4(0xa93)]();if(!_0x506fae){showMessage(_0x2ffff4(0x348));return;}const _0x17f05e=document['getElementById'](_0x2ffff4(0x482)),_0x460888=document[_0x2ffff4(0x9c3)](_0x2ffff4(0x4a2)),_0x3533e0=document[_0x2ffff4(0x9c3)](_0x2ffff4(0x137)),_0x2590df=document[_0x2ffff4(0x9c3)](_0x2ffff4(0xc33));document[_0x2ffff4(0x9c3)]('quiz-generation-area')[_0x2ffff4(0xcbe)][_0x2ffff4(0xa49)](_0x2ffff4(0x8e4)),_0x3533e0['innerHTML']='',_0x17f05e[_0x2ffff4(0xcbe)][_0x2ffff4(0xa49)]('hidden'),_0x460888[_0x2ffff4(0xafb)]=_0x2ffff4(0x5ea),_0x2590df[_0x2ffff4(0x704)]=!![];try{const _0x1c01d5='https://corsproxy.io/?'+encodeURIComponent(_0x506fae),_0x44c33c=await fetch(_0x1c01d5);if(!_0x44c33c['ok'])throw new Error(_0x2ffff4(0x6d7)+_0x44c33c[_0x2ffff4(0xc6c)]+')');const _0x267251=await _0x44c33c['text'](),_0x169bdc=extractTextFromHtml(_0x267251);if(!_0x169bdc||_0x169bdc[_0x2ffff4(0x768)]<0x64)throw new Error(_0x2ffff4(0x254));await generateQuiz(_0x466341,_0x169bdc);}catch(_0x552048){console[_0x2ffff4(0x1c0)]('Error\x20generating\x20from\x20link:',_0x552048),showMessage(_0x2ffff4(0x5a0)+_0x552048[_0x2ffff4(0xce4)]),_0x3533e0['innerHTML']=_0x2ffff4(0x32a);}finally{_0x17f05e[_0x2ffff4(0xcbe)][_0x2ffff4(0xa54)](_0x2ffff4(0x8e4)),_0x2590df['disabled']=![];}}function extractTextFromHtml(_0x32cbfd){const _0x30eefc=_0x15d57d,_0x474eb3=new DOMParser()[_0x30eefc(0xa2b)](_0x32cbfd,_0x30eefc(0x908));return _0x474eb3[_0x30eefc(0xc76)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x30eefc(0x326)](_0x2c851f=>_0x2c851f[_0x30eefc(0xa49)]()),_0x474eb3['body'][_0x30eefc(0xafb)]||'';}document[_0x15d57d(0x9c3)]('generate-from-topic-btn')['addEventListener'](_0x15d57d(0xba1),()=>{const _0x2aeaf5=_0x15d57d,_0x32f25e=document[_0x2aeaf5(0x9c3)](_0x2aeaf5(0x96f))[_0x2aeaf5(0x3bb)]['trim']();generateQuiz(_0x32f25e,null);}),document[_0x15d57d(0x9c3)](_0x15d57d(0x9ab))[_0x15d57d(0x762)]('click',()=>{const _0x12a0b9=_0x15d57d,_0x4ce3df=document[_0x12a0b9(0x9c3)](_0x12a0b9(0x29c))['value']['trim']();if(!_0x4ce3df){showMessage(_0x12a0b9(0x4db));return;}const _0x735e11=document[_0x12a0b9(0x9c3)](_0x12a0b9(0x96f))[_0x12a0b9(0x3bb)][_0x12a0b9(0xa93)]();generateQuiz(_0x735e11,_0x4ce3df);});async function generateQuiz(_0x3cf88d,_0x4f3c67,_0x1f5396=null,_0x147445=null,_0x385204=![],_0x2e1011=null,_0xc3399a=null,_0x4d4e5c=![]){const _0x3375d8=_0x15d57d;let _0x44d2c2={};if(_0x385204&&blueprintPageSettings)_0x44d2c2=blueprintPageSettings;else{const _0x2d9bd7=document['querySelectorAll'](_0x3375d8(0xb24));_0x44d2c2={'quizType':document[_0x3375d8(0x9c3)](_0x3375d8(0xc9d))['value'],'numQuestions':document[_0x3375d8(0x9c3)](_0x3375d8(0x683))[_0x3375d8(0x3bb)],'numChoices':document[_0x3375d8(0x9c3)](_0x3375d8(0x726))['value'],'includeImages':document['getElementById'](_0x3375d8(0x355))[_0x3375d8(0x57b)],'isNormalTopic':document[_0x3375d8(0x9c3)](_0x3375d8(0xcca))[_0x3375d8(0x57b)],'difficultyValue':document['getElementById'](_0x3375d8(0xc17))[_0x3375d8(0x3bb)],'complexityValue':document[_0x3375d8(0x9c3)]('question-complexity-select')[_0x3375d8(0x3bb)],'selectedTopicNames':Array[_0x3375d8(0x657)](_0x2d9bd7)[_0x3375d8(0x929)](_0x3b80ea=>_0x3b80ea['value'])};}const _0x223640=_0x44d2c2[_0x3375d8(0x43f)]?'':'คณิตศาสตร์',_0x4d2d9e=_0x44d2c2['difficultyValue']!==_0x3375d8(0xaa1)?_0x3375d8(0x803)+_0x44d2c2[_0x3375d8(0x1b5)]+'\x22':'',_0x29ad83=_0x44d2c2['complexityValue']!==_0x3375d8(0x6b7)?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x44d2c2['complexityValue']+_0x3375d8(0x80b):'';let _0x505ea8='';_0x44d2c2[_0x3375d8(0x9f8)]&&_0x44d2c2[_0x3375d8(0x9f8)][_0x3375d8(0x768)]>0x0&&(_0x505ea8=_0x3375d8(0x2c1)+_0x44d2c2[_0x3375d8(0x9f8)][_0x3375d8(0xb2d)](',\x20')+'.');let _0x40e006='';_0x147445&&(_0x40e006=_0x3375d8(0x2f5));let _0x3937a6='',_0x41740c='',_0x22de1e,_0x426786='เกี่ยวกับหัวข้อ\x20\x22'+_0x3cf88d+'\x22';if(!_0x3cf88d&&_0x4f3c67)_0x426786=_0x3375d8(0x2c5);else!_0x3cf88d&&!_0x4f3c67&&(_0x426786=_0x3375d8(0x8d1));const _0x20fd07={'type':'OBJECT','properties':{'questionText':{'type':_0x3375d8(0x239)},'options':{'type':_0x3375d8(0x922),'items':{'type':_0x3375d8(0x239)}},'correctAnswerIndex':{'type':_0x3375d8(0x7a3)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3375d8(0x239)}},'required':[_0x3375d8(0xb0e),_0x3375d8(0x78a),'correctAnswerIndex',_0x3375d8(0xb10)]},_0x1726f0={'type':_0x3375d8(0x5e7),'properties':{'questionText':{'type':_0x3375d8(0x239)},'idealAnswer':{'type':_0x3375d8(0x239)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3375d8(0x239)}},'required':['questionText','idealAnswer','explanation']},_0x424e0d={'type':'OBJECT','properties':{'questionText':{'type':_0x3375d8(0x239)},'questionType':{'type':_0x3375d8(0x239),'enum':[_0x3375d8(0x3ee),_0x3375d8(0x31e)]},'options':{'type':_0x3375d8(0x922),'items':{'type':_0x3375d8(0x239)}},'correctAnswerIndex':{'type':_0x3375d8(0x7a3)},'idealAnswer':{'type':_0x3375d8(0x239)},'explanation':{'type':_0x3375d8(0x239)},'imageCode':{'type':_0x3375d8(0x239)}},'required':['questionText','questionType',_0x3375d8(0xb10)]},_0x30fba8={'type':_0x3375d8(0x5e7),'properties':{'questionText':{'type':_0x3375d8(0x239)},'correctAnswer':{'type':_0x3375d8(0x63a)},'explanation':{'type':_0x3375d8(0x239)},'imageCode':{'type':_0x3375d8(0x239)}},'required':[_0x3375d8(0xb0e),_0x3375d8(0xa79),_0x3375d8(0xb10)]},_0x54e90a={'type':_0x3375d8(0x5e7),'properties':{'questionType':{'type':_0x3375d8(0x239),'enum':[_0x3375d8(0xb59)]},'stem':{'type':_0x3375d8(0x239)},'correctResponse':{'type':_0x3375d8(0x239)},'allResponses':{'type':_0x3375d8(0x922),'items':{'type':_0x3375d8(0x239)}},'explanation':{'type':_0x3375d8(0x239)},'imageCode':{'type':_0x3375d8(0x239)}},'required':[_0x3375d8(0xc6a),_0x3375d8(0x176),_0x3375d8(0xbfc),_0x3375d8(0x472),_0x3375d8(0xb10)]};let _0x2786be;if(_0x1f5396!==null){const _0x42b7f0=currentQuizData[_0x3375d8(0xca5)][_0x1f5396][_0x3375d8(0xc6a)],_0x2e8b23=_0x44d2c2[_0x3375d8(0x389)]?_0x3375d8(0x8c1):'';_0x3937a6=_0x3375d8(0x6a7)+_0x426786+'\x20'+_0x505ea8+'\x20'+_0x4d2d9e+_0x3375d8(0x324)+_0x2e8b23+'\x20'+simpleMathPrompt;if(_0x42b7f0===_0x3375d8(0x3ee))_0x22de1e=_0x20fd07;else{if(_0x42b7f0===_0x3375d8(0xb59))_0x22de1e={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x3375d8(0xb59)]},'stem':{'type':_0x3375d8(0x239)},'correctResponse':{'type':_0x3375d8(0x239)},'explanation':{'type':_0x3375d8(0x239)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x3375d8(0x176),'correctResponse',_0x3375d8(0xb10)]};else _0x22de1e=_0x1726f0;}_0x2786be=_0x22de1e;}else{const _0x5512c6=_0x44d2c2[_0x3375d8(0x389)]?_0x3375d8(0x544):'';switch(_0x44d2c2['quizType']){case _0x3375d8(0x3ee):_0x3937a6='สร้างแบบทดสอบปรนัย'+_0x223640+'\x20'+_0x44d2c2[_0x3375d8(0xa01)]+_0x3375d8(0x153)+_0x426786+'\x20'+_0x505ea8+'\x20'+_0x4d2d9e+'\x20'+_0x29ad83+'\x20'+_0x40e006+_0x3375d8(0xbf9)+_0x44d2c2['numChoices']+_0x3375d8(0x7c2)+_0x5512c6+'\x20'+simpleMathPrompt,_0x22de1e=_0x20fd07;break;case _0x3375d8(0x1d1):_0x3937a6=_0x3375d8(0xa80)+_0x223640+'\x20'+_0x44d2c2['numQuestions']+'\x20ข้อ\x20'+_0x426786+'\x20'+_0x505ea8+'\x20'+_0x4d2d9e+'\x20'+_0x29ad83+'\x20'+_0x40e006+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x44d2c2[_0x3375d8(0xc46)]+_0x3375d8(0x1d0)+_0x5512c6+'\x20'+simpleMathPrompt,_0x22de1e=_0x20fd07;break;case _0x3375d8(0xbb0):_0x3937a6=_0x3375d8(0xa80)+_0x223640+'\x20'+_0x44d2c2[_0x3375d8(0xa01)]+_0x3375d8(0x153)+_0x426786+'\x20'+_0x505ea8+'\x20'+_0x4d2d9e+'\x20'+_0x29ad83+'\x20'+_0x40e006+_0x3375d8(0x461)+_0x5512c6+'\x20'+simpleMathPrompt,_0x22de1e=_0x1726f0;break;case'mixed':_0x3937a6=_0x3375d8(0x72f)+_0x223640+'\x20'+_0x44d2c2[_0x3375d8(0xa01)]+_0x3375d8(0x153)+_0x426786+'\x20'+_0x505ea8+'\x20'+_0x4d2d9e+'\x20'+_0x29ad83+'\x20'+_0x40e006+_0x3375d8(0xbc7)+_0x44d2c2[_0x3375d8(0xc46)]+'\x20ตัวเลือก.\x20'+_0x5512c6+'\x20'+simpleMathPrompt+'.',_0x22de1e=_0x424e0d;break;case _0x3375d8(0x160):_0x3937a6=_0x3375d8(0xa5a)+_0x223640+'\x20'+_0x44d2c2[_0x3375d8(0xa01)]+_0x3375d8(0x153)+_0x426786+'\x20'+_0x505ea8+'\x20'+_0x4d2d9e+'\x20'+_0x29ad83+'\x20'+_0x40e006+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x5512c6+'\x20'+simpleMathPrompt,_0x22de1e=_0x30fba8;break;case _0x3375d8(0x4c7):_0x3937a6='สร้างชุดคำถามจับคู่'+_0x223640+'\x20'+_0x44d2c2['numQuestions']+_0x3375d8(0xd54)+_0x426786+'\x20'+_0x505ea8+'\x20'+_0x4d2d9e+'\x20'+_0x29ad83+'\x20'+_0x40e006+_0x3375d8(0xb8f)+_0x5512c6+'\x20'+simpleMathPrompt,_0x22de1e=_0x54e90a;break;}_0x2786be={'type':_0x3375d8(0x5e7),'properties':{'topic':{'type':_0x3375d8(0x239)},'questions':{'type':_0x3375d8(0x922),'items':_0x22de1e}},'required':['topic','questions']};}const _0x4c87a7=_0x3375d8(0xb1d);_0x4f3c67?(_0x4d4e5c?_0x3937a6=_0x3375d8(0x89b)+_0x4f3c67+_0x3375d8(0x5a8)+_0x3937a6+_0x4c87a7:_0x3937a6=_0x3375d8(0x89b)+_0x4f3c67+'\x22,\x20'+_0x3937a6,_0x41740c=_0x3375d8(0x776)):(_0x4d4e5c&&(_0x3937a6+=_0x4c87a7),_0x41740c=_0x3375d8(0x778));let _0x5a121f;return _0x147445?(_0x5a121f=[{'text':_0x3937a6},..._0x147445],_0x41740c='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x5a121f=_0x3937a6,handleApiCall(_0x5a121f,_0x41740c,_0x2786be,_0x1f5396,!![],_0x2e1011,_0xc3399a);}async function generateQuizFromFile(_0x52a854,_0x4a249b){const _0x2c8782=_0x15d57d,_0x236025=document[_0x2c8782(0x9c3)]('file-topic-input')['value'][_0x2c8782(0xa93)](),_0x551178=document[_0x2c8782(0x9c3)](_0x2c8782(0xc9d))['value'],_0x8f31d9=document[_0x2c8782(0x9c3)](_0x2c8782(0x683))['value'],_0x65a1c2=document[_0x2c8782(0x9c3)](_0x2c8782(0x726))[_0x2c8782(0x3bb)],_0x582505=document[_0x2c8782(0x9c3)]('include-images-checkbox')[_0x2c8782(0x57b)],_0x272c97=document[_0x2c8782(0x9c3)](_0x2c8782(0xcca))[_0x2c8782(0x57b)],_0x322ac3=_0x272c97?'':_0x2c8782(0x16a),_0x15c40b=document[_0x2c8782(0x9c3)](_0x2c8782(0xd19))[_0x2c8782(0x57b)];let _0x46874e='',_0x11bf9d;const _0x2c5c9e=_0x582505?_0x2c8782(0x544):'';if(_0x15c40b)_0x46874e='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x2c5c9e+'\x0a'+simpleMathPrompt+'\x0a',_0x11bf9d={'type':_0x2c8782(0x5e7),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x2c8782(0x3ee),'short_answer','true_false',_0x2c8782(0xb59)]},'options':{'type':_0x2c8782(0x922),'items':{'type':_0x2c8782(0x239)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2c8782(0x239)},'correctAnswer':{'type':_0x2c8782(0x63a)},'stem':{'type':_0x2c8782(0x239)},'correctResponse':{'type':_0x2c8782(0x239)},'allResponses':{'type':'ARRAY','items':{'type':_0x2c8782(0x239)}},'explanation':{'type':_0x2c8782(0x239)},'imageCode':{'type':_0x2c8782(0x239)}},'required':['questionType','explanation']};else{let _0x5091a8=_0x2c8782(0x6d9)+_0x236025+'\x22';!_0x236025&&(_0x5091a8=_0x2c8782(0x396));switch(_0x551178){case _0x2c8782(0x3ee):_0x46874e='สร้างแบบทดสอบปรนัย'+_0x322ac3+'\x20'+_0x8f31d9+_0x2c8782(0x153)+_0x5091a8+_0x2c8782(0xbf9)+_0x65a1c2+_0x2c8782(0x7c2)+_0x2c5c9e+'\x20'+simpleMathPrompt,_0x11bf9d={'type':_0x2c8782(0x5e7),'properties':{'questionText':{'type':_0x2c8782(0x239)},'options':{'type':'ARRAY','items':{'type':_0x2c8782(0x239)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2c8782(0x239)},'imageCode':{'type':'STRING'}},'required':[_0x2c8782(0xb0e),_0x2c8782(0x78a),_0x2c8782(0xa02),'explanation']};break;case _0x2c8782(0x1d1):_0x46874e=_0x2c8782(0xa80)+_0x322ac3+'\x20'+_0x8f31d9+_0x2c8782(0x153)+_0x5091a8+_0x2c8782(0x64d)+_0x65a1c2+_0x2c8782(0x1d0)+_0x2c5c9e+'\x20'+simpleMathPrompt,_0x11bf9d={'type':_0x2c8782(0x5e7),'properties':{'questionText':{'type':_0x2c8782(0x239)},'options':{'type':_0x2c8782(0x922),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2c8782(0x7a3)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c8782(0x239)}},'required':[_0x2c8782(0xb0e),_0x2c8782(0x78a),'correctAnswerIndex',_0x2c8782(0xb10)]};break;case _0x2c8782(0xbb0):_0x46874e=_0x2c8782(0xa80)+_0x322ac3+'\x20'+_0x8f31d9+_0x2c8782(0x153)+_0x5091a8+_0x2c8782(0x695)+_0x2c5c9e+'\x20'+simpleMathPrompt,_0x11bf9d={'type':_0x2c8782(0x5e7),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x2c8782(0x239)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c8782(0x239)}},'required':[_0x2c8782(0xb0e),_0x2c8782(0x59a),_0x2c8782(0xb10)]};break;case _0x2c8782(0x6b7):_0x46874e='สร้างแบบทดสอบ'+_0x322ac3+'\x20'+_0x8f31d9+_0x2c8782(0x153)+_0x5091a8+_0x2c8782(0x674)+_0x65a1c2+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x2c5c9e+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x11bf9d={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2c8782(0x239),'enum':[_0x2c8782(0x3ee),_0x2c8782(0x31e)]},'options':{'type':_0x2c8782(0x922),'items':{'type':_0x2c8782(0x239)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2c8782(0x239)},'explanation':{'type':_0x2c8782(0x239)},'imageCode':{'type':'STRING'}},'required':[_0x2c8782(0xb0e),_0x2c8782(0xc6a),_0x2c8782(0xb10)]};break;case _0x2c8782(0x160):_0x46874e=_0x2c8782(0xa5a)+_0x322ac3+'\x20'+_0x8f31d9+_0x2c8782(0x153)+_0x5091a8+_0x2c8782(0x6cc)+_0x2c5c9e+'\x20'+simpleMathPrompt,_0x11bf9d={'type':_0x2c8782(0x5e7),'properties':{'questionText':{'type':_0x2c8782(0x239)},'correctAnswer':{'type':_0x2c8782(0x63a)},'explanation':{'type':_0x2c8782(0x239)},'imageCode':{'type':_0x2c8782(0x239)}},'required':[_0x2c8782(0xb0e),_0x2c8782(0xa79),_0x2c8782(0xb10)]};break;case'matching':_0x46874e=_0x2c8782(0x45a)+_0x322ac3+'\x20'+_0x8f31d9+_0x2c8782(0xd54)+_0x5091a8+_0x2c8782(0x603)+_0x8f31d9+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x2c5c9e+'\x20'+simpleMathPrompt,_0x11bf9d={'type':'OBJECT','properties':{'questionType':{'type':_0x2c8782(0x239),'enum':[_0x2c8782(0xb59)]},'stem':{'type':_0x2c8782(0x239)},'correctResponse':{'type':_0x2c8782(0x239)},'allResponses':{'type':_0x2c8782(0x922),'items':{'type':'STRING'}},'explanation':{'type':_0x2c8782(0x239)},'imageCode':{'type':_0x2c8782(0x239)}},'required':[_0x2c8782(0xc6a),_0x2c8782(0x176),'correctResponse','allResponses',_0x2c8782(0xb10)]};break;}}const _0x398b21={'type':_0x2c8782(0x5e7),'properties':{'topic':{'type':_0x2c8782(0x239)},'questions':{'type':'ARRAY','items':_0x11bf9d}},'required':['topic',_0x2c8782(0xca5)]},_0x5ce7a8=_0x2c8782(0x834)+_0x46874e,_0x1c1bbd={'contents':[{'parts':[{'text':_0x5ce7a8},{'inlineData':{'mimeType':_0x52a854,'data':_0x4a249b}}]}],'generationConfig':{'responseMimeType':_0x2c8782(0x507),'responseSchema':_0x398b21}};return handleApiCall(_0x1c1bbd[_0x2c8782(0xc42)][0x0][_0x2c8782(0x447)],_0x2c8782(0x710),_0x398b21);}async function handleApiCall(_0x2eaaf4,_0x9cbea5,_0xed42ca,_0x471007=null,_0x49e22d=!![],_0x25c822=null,_0x139fbe=null){const _0x4e4a1b=_0x15d57d,_0x1d693d=document[_0x4e4a1b(0x9c3)](_0x4e4a1b(0x7d3)),_0x440080=document[_0x4e4a1b(0x9c3)](_0x4e4a1b(0x482)),_0x14f5ac=document[_0x4e4a1b(0x9c3)]('loader-text'),_0x2a7af2=document[_0x4e4a1b(0x9c3)](_0x4e4a1b(0x137));_0x1d693d[_0x4e4a1b(0xcbe)][_0x4e4a1b(0xa49)]('hidden');_0x471007===null&&_0x49e22d&&(_0x2a7af2[_0x4e4a1b(0x632)]='');_0x440080[_0x4e4a1b(0xcbe)][_0x4e4a1b(0xa49)](_0x4e4a1b(0x8e4)),_0x14f5ac[_0x4e4a1b(0xafb)]=_0x9cbea5,document[_0x4e4a1b(0x9c3)](_0x4e4a1b(0xd03))[_0x4e4a1b(0x704)]=!![],document['getElementById'](_0x4e4a1b(0x9ab))[_0x4e4a1b(0x704)]=!![],document['getElementById'](_0x4e4a1b(0xc33))[_0x4e4a1b(0x704)]=!![];const _0x97e4a1=document[_0x4e4a1b(0x9c3)](_0x4e4a1b(0xaa2));if(_0x97e4a1)_0x97e4a1[_0x4e4a1b(0x704)]=!![];const _0x5cfd14=document[_0x4e4a1b(0x9c3)]('generate-from-blueprint-btn');if(_0x5cfd14)_0x5cfd14[_0x4e4a1b(0x704)]=!![];const _0x2b1cda=document[_0x4e4a1b(0x9c3)](_0x4e4a1b(0x5ca));if(_0x2b1cda)_0x2b1cda[_0x4e4a1b(0x704)]=!![];try{const _0x5a3ee9=Array['isArray'](_0x2eaaf4)?_0x2eaaf4:[{'text':_0x2eaaf4}],_0x53e250={'contents':[{'role':'user','parts':_0x5a3ee9}]};_0xed42ca&&(_0x53e250[_0x4e4a1b(0x5ee)]={'responseMimeType':_0x4e4a1b(0x507),'responseSchema':_0xed42ca});const _0x151997=_0x4e4a1b(0xc20),_0xfd1fd2=_0x4e4a1b(0x913)+_0x151997,_0x49bcfd=await fetch(_0xfd1fd2,{'method':_0x4e4a1b(0xa31),'headers':{'Content-Type':_0x4e4a1b(0x507)},'body':JSON['stringify'](_0x53e250)});if(!_0x49bcfd['ok']){const _0x431266=await _0x49bcfd[_0x4e4a1b(0xcde)]();console[_0x4e4a1b(0x1c0)]('API\x20Error\x20Response:',_0x431266);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x49bcfd[_0x4e4a1b(0xc6c)]);}const _0x4eb80d=await _0x49bcfd[_0x4e4a1b(0x303)]();if(!_0x4eb80d[_0x4e4a1b(0x7c7)]||_0x4eb80d['candidates'][_0x4e4a1b(0x768)]===0x0){let _0x463d3=_0x4e4a1b(0x5e2);return _0x4eb80d[_0x4e4a1b(0xc57)]?.[_0x4e4a1b(0x51b)]&&(_0x463d3=_0x4e4a1b(0x91f)+_0x4eb80d[_0x4e4a1b(0xc57)][_0x4e4a1b(0x51b)]+'.'),console['error'](_0x463d3,JSON[_0x4e4a1b(0x933)](_0x4eb80d)),null;}const _0x172600=_0x4eb80d['candidates'][0x0][_0x4e4a1b(0xa30)][_0x4e4a1b(0x447)][0x0]['text'];if(_0xed42ca){let _0x40263c=_0x172600;if(_0x40263c['startsWith'](_0x4e4a1b(0x341)))_0x40263c=_0x40263c[_0x4e4a1b(0x45e)](0x7,_0x40263c[_0x4e4a1b(0x768)]-0x3)[_0x4e4a1b(0xa93)]();else _0x40263c['startsWith'](_0x4e4a1b(0x861))&&(_0x40263c=_0x40263c[_0x4e4a1b(0x45e)](0x3,_0x40263c[_0x4e4a1b(0x768)]-0x3)[_0x4e4a1b(0xa93)]());let _0x5bb2c1=JSON[_0x4e4a1b(0xacd)](_0x40263c);if(_0x49e22d){if(_0x471007!==null){}else currentQuizData=_0x5bb2c1,displayGeneratedQuiz(currentQuizData,_0x25c822,_0x139fbe);}return _0x5bb2c1;}else return _0x172600;}catch(_0x10b9e7){console['error'](_0x4e4a1b(0x6ce),_0x10b9e7),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x10b9e7[_0x4e4a1b(0xce4)]);_0x49e22d&&(_0x2a7af2[_0x4e4a1b(0x632)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x10b9e7;}finally{_0x440080[_0x4e4a1b(0xcbe)][_0x4e4a1b(0xa54)](_0x4e4a1b(0x8e4)),document['getElementById']('generate-from-topic-btn')[_0x4e4a1b(0x704)]=![],document[_0x4e4a1b(0x9c3)](_0x4e4a1b(0x9ab))[_0x4e4a1b(0x704)]=![],document[_0x4e4a1b(0x9c3)]('generate-from-link-btn')[_0x4e4a1b(0x704)]=![];if(_0x97e4a1)_0x97e4a1[_0x4e4a1b(0x704)]=![];if(_0x5cfd14)_0x5cfd14[_0x4e4a1b(0x704)]=![];if(_0x2b1cda)_0x2b1cda[_0x4e4a1b(0x704)]=![];}}function exitFullscreen(){const _0x5adc61=_0x15d57d;if(document[_0x5adc61(0xd12)])document[_0x5adc61(0xd12)]()[_0x5adc61(0x6f5)](_0x136ffe=>console[_0x5adc61(0x1c0)](_0x136ffe));else{if(document[_0x5adc61(0x53a)])document['webkitExitFullscreen']();else document[_0x5adc61(0xc58)]&&document[_0x5adc61(0xc58)]();}}function enterFullscreen(){const _0x58b0f2=_0x15d57d,_0x152bf6=document[_0x58b0f2(0x820)];if(_0x152bf6[_0x58b0f2(0xba0)])_0x152bf6['requestFullscreen']()[_0x58b0f2(0x6f5)](_0xd944bc=>{const _0xf15d62=_0x58b0f2;console['error'](_0xf15d62(0x41d)+_0xd944bc[_0xf15d62(0xce4)]+'\x20('+_0xd944bc[_0xf15d62(0x5e1)]+')');});else{if(_0x152bf6[_0x58b0f2(0x924)])_0x152bf6['webkitRequestFullscreen']();else _0x152bf6[_0x58b0f2(0xc5c)]&&_0x152bf6[_0x58b0f2(0xc5c)]();}}function handleCheatingEvent(){const _0x4a9f46=_0x15d57d;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x4a9f46(0xc3f),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x4a9f46(0x52c)+maxCheatAttempts+_0x4a9f46(0x5d1)),document['getElementById'](_0x4a9f46(0xa29))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x4a9f46(0x9f3)](_0x4a9f46(0x73d),handleVisibilityChange),document[_0x4a9f46(0x9f3)](_0x4a9f46(0x50f),handleFullscreenChange)):showMessage(_0x4a9f46(0xc16)+cheatAttempts+'/'+maxCheatAttempts+_0x4a9f46(0x779),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x69db77=_0x15d57d;if(currentMode===_0x69db77(0x6d3)||!isQuizActive)return;if(document[_0x69db77(0x720)]==='hidden')handleCheatingEvent();else document['visibilityState']==='visible'&&(console[_0x69db77(0xb0b)](_0x69db77(0x48c)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x152870=_0x15d57d;if(currentMode===_0x152870(0x6d3)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x132a45,_0x3d5145=null,_0x44ba3a=null){const _0x11e0bf=_0x15d57d,_0x4e56f9=document[_0x11e0bf(0x9c3)](_0x11e0bf(0x137));let _0x12c0b8=_0x11e0bf(0xd20)+_0x132a45[_0x11e0bf(0x294)]+'</h3>';_0x132a45['questions']['forEach']((_0x7c89d7,_0x4140cb)=>{const _0x117036=_0x11e0bf;!_0x7c89d7['id']&&(_0x7c89d7['id']='q_'+Date[_0x117036(0xce2)]()+'_'+_0x4140cb);const _0x3bd05a=_0x7c89d7['questionType']||_0x132a45[_0x117036(0x434)];_0x12c0b8+=_0x117036(0x791)+_0x4140cb+_0x117036(0x9c5)+_0x4140cb+_0x117036(0x2a4)+_0x4140cb+_0x117036(0x4f6);switch(_0x3bd05a){case _0x117036(0xb59):_0x12c0b8+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x4140cb+'\x22>'+(_0x4140cb+0x1)+'.\x20'+_0x7c89d7[_0x117036(0x176)]+'</p>';_0x7c89d7[_0x117036(0x7bc)]&&(_0x12c0b8+=_0x117036(0xa08)+_0x4140cb+_0x117036(0x553)+_0x7c89d7['imageCode']+_0x117036(0x175));_0x12c0b8+=_0x117036(0x190)+_0x4140cb+'\x22>'+_0x7c89d7[_0x117036(0xbfc)]+_0x117036(0x6b2),_0x12c0b8+=_0x117036(0xc98)+_0x4140cb+'\x22>'+_0x7c89d7[_0x117036(0xb10)]+_0x117036(0x6b2);break;case _0x117036(0x31e):_0x12c0b8+=_0x117036(0x272)+_0x4140cb+'\x22>'+(_0x4140cb+0x1)+'.\x20'+_0x7c89d7[_0x117036(0xb0e)]+_0x117036(0x708);_0x7c89d7[_0x117036(0x7bc)]&&(_0x12c0b8+=_0x117036(0xa08)+_0x4140cb+_0x117036(0x553)+_0x7c89d7[_0x117036(0x7bc)]+'</div>');_0x12c0b8+=_0x117036(0x6d5)+_0x4140cb+'\x22>'+_0x7c89d7[_0x117036(0x59a)]+_0x117036(0x6b2),_0x12c0b8+=_0x117036(0xc98)+_0x4140cb+'\x22>'+_0x7c89d7[_0x117036(0xb10)]+'</span></div>';break;case _0x117036(0x160):_0x12c0b8+=_0x117036(0x272)+_0x4140cb+'\x22>'+(_0x4140cb+0x1)+'.\x20'+_0x7c89d7[_0x117036(0xb0e)]+_0x117036(0x708);_0x7c89d7['imageCode']&&(_0x12c0b8+='<div\x20id=\x22q-image-container-'+_0x4140cb+_0x117036(0x553)+_0x7c89d7['imageCode']+_0x117036(0x175));_0x12c0b8+=_0x117036(0x70a)+(_0x7c89d7[_0x117036(0xa79)]===!![]?_0x117036(0x22a):'')+_0x117036(0x4cc)+(_0x7c89d7[_0x117036(0xa79)]===![]?_0x117036(0x22a):'')+_0x117036(0x6f0),_0x12c0b8+=_0x117036(0xc98)+_0x4140cb+'\x22>'+_0x7c89d7[_0x117036(0xb10)]+'</span></div>';break;case _0x117036(0x4cd):case _0x117036(0x3ee):default:_0x12c0b8+=_0x117036(0x272)+_0x4140cb+'\x22>'+(_0x4140cb+0x1)+'.\x20'+_0x7c89d7[_0x117036(0xb0e)]+_0x117036(0x708);_0x7c89d7[_0x117036(0x7bc)]&&(_0x12c0b8+=_0x117036(0xa08)+_0x4140cb+_0x117036(0x553)+_0x7c89d7[_0x117036(0x7bc)]+_0x117036(0x175));_0x12c0b8+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x4140cb+_0x117036(0xd4f)+(_0x7c89d7[_0x117036(0x78a)]||[])[_0x117036(0x929)]((_0x3fcc4f,_0x2cd714)=>_0x117036(0x716)+(_0x2cd714===_0x7c89d7[_0x117036(0xa02)]?_0x117036(0x22a):'')+'\x22>'+_0x3fcc4f+_0x117036(0x5b0))[_0x117036(0xb2d)]('')+_0x117036(0x755),_0x12c0b8+=_0x117036(0xc98)+_0x4140cb+'\x22>'+_0x7c89d7['explanation']+_0x117036(0x6b2);break;}_0x12c0b8+=_0x117036(0x175);}),_0x12c0b8+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x4e56f9[_0x11e0bf(0x632)]=_0x12c0b8,document[_0x11e0bf(0xc76)]('.edit-question-btn')[_0x11e0bf(0x326)](_0x1bf374=>_0x1bf374[_0x11e0bf(0x762)](_0x11e0bf(0xba1),handleEditQuestion)),document[_0x11e0bf(0xc76)](_0x11e0bf(0x403))[_0x11e0bf(0x326)](_0x3614d7=>_0x3614d7[_0x11e0bf(0x762)](_0x11e0bf(0xba1),handleRegenerateQuestion)),document[_0x11e0bf(0x9c3)]('export-worksheet-pdf-btn')[_0x11e0bf(0x762)](_0x11e0bf(0xba1),exportQuizAsWorksheetPDF),document[_0x11e0bf(0x9c3)]('verify-answers-btn')[_0x11e0bf(0x762)](_0x11e0bf(0xba1),handleVerifyAnswers);const _0x1e97db=document[_0x11e0bf(0x9c3)](_0x11e0bf(0x72b));if(_0x1e97db){const _0x437d6b=_0x3d5145||currentProjectId;_0x1e97db['addEventListener'](_0x11e0bf(0xba1),()=>saveQuiz(_0x437d6b,_0x44ba3a));}if(window[_0x11e0bf(0x1b4)])window[_0x11e0bf(0x1b4)][_0x11e0bf(0xc2c)]([_0x4e56f9]);}function handleRegenerateQuestion(_0x357720){const _0x103c92=_0x15d57d,_0x22c1bc=_0x357720['currentTarget'][_0x103c92(0x870)]['index'],_0x2fbb39=currentQuizData[_0x103c92(0x294)];showMessage(_0x103c92(0x7e0)+(parseInt(_0x22c1bc)+0x1)+'\x20ใหม่...'),generateQuiz(_0x2fbb39,null,parseInt(_0x22c1bc));}function getPointerPosition(_0xce57fa,_0x5e0879){const _0xfda6d=_0x15d57d,_0x3b693d=_0xce57fa[_0xfda6d(0xb72)]();let _0x1cd6ed,_0x17349b;return _0x5e0879[_0xfda6d(0x4ab)]&&_0x5e0879['touches']['length']>0x0?(_0x1cd6ed=_0x5e0879[_0xfda6d(0x4ab)][0x0][_0xfda6d(0x66d)],_0x17349b=_0x5e0879[_0xfda6d(0x4ab)][0x0]['clientY']):(_0x1cd6ed=_0x5e0879[_0xfda6d(0x66d)],_0x17349b=_0x5e0879[_0xfda6d(0x6ac)]),{'x':(_0x1cd6ed-_0x3b693d['e'])/_0x3b693d['a'],'y':(_0x17349b-_0x3b693d['f'])/_0x3b693d['d']};}function startDrag(_0x223fad){const _0x5797fd=_0x15d57d;_0x223fad[_0x5797fd(0x1d3)]===_0x5797fd(0x32d)&&_0x223fad[_0x5797fd(0xccb)]();const _0x2ea657=_0x223fad['target'][_0x5797fd(0x2fb)](_0x5797fd(0x2f0));if(_0x2ea657){draggedSvgElement=_0x2ea657;const _0x1b7f55=draggedSvgElement[_0x5797fd(0x7e8)],_0x3b54d4=getPointerPosition(_0x1b7f55,_0x223fad);svgOffset['x']=_0x3b54d4['x']-parseFloat(draggedSvgElement[_0x5797fd(0x73c)](null,'x')),svgOffset['y']=_0x3b54d4['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x28cd24,_0x20514c){const _0x401a3c=_0x15d57d,_0x576009={};if(_0x20514c['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xdd274a=[..._0x20514c]['sort']((_0x3f1cf9,_0x2a61e5)=>{const _0x48b23d=_0x344c,_0x20149f=_0x2a61e5[_0x48b23d(0x879)]-_0x3f1cf9[_0x48b23d(0x879)];if(_0x20149f!==0x0)return _0x20149f;const _0x461d6a=_0x3f1cf9['attempts']?.[_0x48b23d(0x768)]||0x1,_0x8cd1cb=_0x2a61e5['attempts']?.['length']||0x1,_0x52037d=_0x461d6a-_0x8cd1cb;if(_0x52037d!==0x0)return _0x52037d;const _0x8f36ca=new Date(_0x3f1cf9['latestSubmittedAt']),_0x410af8=new Date(_0x2a61e5[_0x48b23d(0x95a)]),_0x17d3c1=_0x8f36ca-_0x410af8;if(_0x17d3c1!==0x0)return _0x17d3c1;return _0x3f1cf9[_0x48b23d(0x552)][_0x48b23d(0x49c)](_0x2a61e5[_0x48b23d(0x552)],'th');}),_0x317a32=_0xdd274a[_0x401a3c(0x768)],_0x44b2f4=Math[_0x401a3c(0x35d)](0x1,Math[_0x401a3c(0x423)](_0x317a32*0.33));if(_0x44b2f4===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x14d0d0=_0xdd274a[_0x401a3c(0x411)](0x0,_0x44b2f4),_0x5e0e2f=_0xdd274a[_0x401a3c(0x411)](-_0x44b2f4),_0x22b6a3=_0x14d0d0[_0x401a3c(0x929)](_0x5dda48=>_0x5dda48[_0x401a3c(0x552)]),_0x1abed8=_0x5e0e2f[_0x401a3c(0x929)](_0x2c974c=>_0x2c974c[_0x401a3c(0x552)]);return _0x28cd24[_0x401a3c(0xca5)][_0x401a3c(0x326)]((_0x3baab6,_0x12a2d4)=>{const _0x3778e8=_0x401a3c,_0xcf7e59=_0x3baab6[_0x3778e8(0x176)]||_0x3baab6['questionText'];let _0x33fd13=0x0,_0x14ff79=0x0,_0x4e2a3b=0x0;const _0x3c2b00=[],_0x2b83ff=[];_0x14d0d0[_0x3778e8(0x326)](_0xd55097=>{const _0x351955=_0x3778e8,_0x4262be=_0xd55097[_0x351955(0xa20)][_0xd55097['attempts']['length']-0x1],_0x32654a=_0x4262be[_0x351955(0x493)]['find'](_0x3006a8=>_0x3006a8['originalQuestionText']===_0xcf7e59);_0x3c2b00[_0x351955(0xa6d)]({'name':_0xd55097[_0x351955(0x552)],'isCorrect':_0x32654a?_0x32654a['isCorrect']:![]}),_0x32654a&&_0x32654a[_0x351955(0xc0f)]&&_0x14ff79++;}),_0x5e0e2f[_0x3778e8(0x326)](_0x3f2934=>{const _0x1821e3=_0x3778e8,_0x15702a=_0x3f2934[_0x1821e3(0xa20)][_0x3f2934[_0x1821e3(0xa20)][_0x1821e3(0x768)]-0x1],_0x48d090=_0x15702a[_0x1821e3(0x493)]['find'](_0x4840db=>_0x4840db[_0x1821e3(0xbe6)]===_0xcf7e59);_0x2b83ff[_0x1821e3(0xa6d)]({'name':_0x3f2934[_0x1821e3(0x552)],'isCorrect':_0x48d090?_0x48d090[_0x1821e3(0xc0f)]:![]}),_0x48d090&&_0x48d090[_0x1821e3(0xc0f)]&&_0x4e2a3b++;}),_0x20514c[_0x3778e8(0x326)](_0xc32ea6=>{const _0x12784c=_0x3778e8,_0x3655dc=_0xc32ea6['attempts'][_0xc32ea6['attempts'][_0x12784c(0x768)]-0x1],_0x5ae998=_0x3655dc[_0x12784c(0x493)][_0x12784c(0x52d)](_0x48defe=>_0x48defe['originalQuestionText']===_0xcf7e59);_0x5ae998&&_0x5ae998[_0x12784c(0xc0f)]&&_0x33fd13++;});const _0xc40c3b=_0x317a32>0x0?_0x33fd13/_0x317a32:0x0,_0x39f6cf=_0x44b2f4>0x0?_0x14ff79/_0x44b2f4-_0x4e2a3b/_0x44b2f4:0x0;_0x576009[_0x12a2d4]={'p':_0xc40c3b,'r':_0x39f6cf,'upperGroupResponders':_0x3c2b00,'lowerGroupResponders':_0x2b83ff};}),{'perQuestionStats':_0x576009,'overallGroups':{'upperGroupNames':_0x22b6a3,'lowerGroupNames':_0x1abed8}};}function drag(_0x5e3dcd){const _0x1eea54=_0x15d57d;if(draggedSvgElement){_0x5e3dcd[_0x1eea54(0xccb)]();const _0x37d72e=draggedSvgElement['ownerSVGElement'],_0x45d5c5=getPointerPosition(_0x37d72e,_0x5e3dcd),_0x31bf3b=_0x37d72e[_0x1eea54(0xd0b)][_0x1eea54(0x174)];let _0x5b6755=_0x45d5c5['x']-svgOffset['x'],_0x4b2094=_0x45d5c5['y']-svgOffset['y'];const _0x26d45c=draggedSvgElement['getBBox']();_0x5b6755=Math[_0x1eea54(0x35d)](_0x31bf3b['x'],Math['min'](_0x5b6755,_0x31bf3b['x']+_0x31bf3b['width']-_0x26d45c[_0x1eea54(0xb9b)])),_0x4b2094=Math[_0x1eea54(0x35d)](_0x31bf3b['y'],Math[_0x1eea54(0x8bf)](_0x4b2094,_0x31bf3b['y']+_0x31bf3b[_0x1eea54(0xbb2)]-_0x26d45c['height'])),draggedSvgElement[_0x1eea54(0x9c4)](null,'x',_0x5b6755),draggedSvgElement['setAttributeNS'](null,'y',_0x4b2094);}}function endDrag(_0x5cbeea){draggedSvgElement=null;}function handleSvgEditClick(_0x14a7f8){const _0x3076f6=_0x15d57d;if(_0x14a7f8[_0x3076f6(0x24a)][_0x3076f6(0xcbe)]['contains']('delete-svg-btn')){const _0x1feb84=_0x14a7f8[_0x3076f6(0x24a)][_0x3076f6(0x870)]['targetId'],_0x5249af=_0x14a7f8[_0x3076f6(0xb70)],_0x4ccf6f=_0x5249af[_0x3076f6(0x8da)]('#'+_0x1feb84);_0x4ccf6f&&_0x4ccf6f['remove'](),_0x14a7f8['target'][_0x3076f6(0xa49)]();}}function handleEditQuestion(_0x166bac){const _0x1e0d55=_0x15d57d,_0x1002ba=_0x166bac['currentTarget'],_0x987b47=_0x1002ba[_0x1e0d55(0x870)][_0x1e0d55(0x79b)],_0x518ca3=currentQuizData[_0x1e0d55(0xca5)][_0x987b47],_0xad27ca=document[_0x1e0d55(0x9c3)](_0x1e0d55(0x7e1)+_0x987b47),_0x5caf71=document['getElementById'](_0x1e0d55(0x937)+_0x987b47),_0x13dc27=document[_0x1e0d55(0x9c3)]('q-image-container-'+_0x987b47);if(_0x1002ba[_0x1e0d55(0x632)][_0x1e0d55(0x436)]('fa-pen')){_0x1002ba[_0x1e0d55(0x632)]=_0x1e0d55(0x546),_0x1002ba[_0x1e0d55(0xb6e)]=_0x1e0d55(0x22b);if(_0xad27ca)_0xad27ca[_0x1e0d55(0x418)]=!![];if(_0x5caf71)_0x5caf71[_0x1e0d55(0x418)]=!![];if(_0x13dc27){const _0x4b465b=_0x13dc27[_0x1e0d55(0x8da)](_0x1e0d55(0x21f));if(_0x4b465b){const _0x2d5e5f=_0x4b465b[_0x1e0d55(0xc76)]('text');_0x2d5e5f[_0x1e0d55(0x326)]((_0x24cd0f,_0x8bf127)=>{const _0x442810=_0x1e0d55,_0x5adf27=_0x442810(0x299)+_0x987b47+'-'+_0x8bf127;_0x24cd0f['id']=_0x5adf27,_0x24cd0f[_0x442810(0xcbe)]['add'](_0x442810(0xc0c)),_0x24cd0f['style']['cursor']=_0x442810(0x598);const _0xb69511=document[_0x442810(0x9b2)](_0x442810(0x989),_0x442810(0x8c5)),_0x21e8e2=_0x24cd0f[_0x442810(0xcb4)]();_0xb69511['setAttribute']('cx',String(_0x21e8e2['x']+_0x21e8e2[_0x442810(0xb9b)]+0x5)),_0xb69511[_0x442810(0x8f2)]('cy',String(_0x21e8e2['y']+_0x21e8e2['height']/0x2-0x5)),_0xb69511['setAttribute']('r','5'),_0xb69511[_0x442810(0x8f2)](_0x442810(0x5c2),_0x442810(0x30d)),_0xb69511[_0x442810(0x8f2)](_0x442810(0x585),_0x442810(0x728)),_0xb69511[_0x442810(0x870)][_0x442810(0xce7)]=_0x5adf27,_0x24cd0f[_0x442810(0x226)](_0xb69511);}),_0x4b465b[_0x1e0d55(0x762)](_0x1e0d55(0xd42),startDrag),_0x4b465b['addEventListener'](_0x1e0d55(0x2a6),drag),_0x4b465b['addEventListener'](_0x1e0d55(0x9bf),endDrag),_0x4b465b[_0x1e0d55(0x762)]('mouseleave',endDrag),_0x4b465b[_0x1e0d55(0x762)](_0x1e0d55(0x32d),startDrag,{'passive':![]}),_0x4b465b['addEventListener'](_0x1e0d55(0x5a9),drag,{'passive':![]}),_0x4b465b[_0x1e0d55(0x762)](_0x1e0d55(0x697),endDrag),_0x4b465b[_0x1e0d55(0x762)](_0x1e0d55(0x1df),endDrag),_0x4b465b['addEventListener']('click',handleSvgEditClick);}}if(_0xad27ca)_0xad27ca[_0x1e0d55(0xb37)]();}else{_0x1002ba['innerHTML']=_0x1e0d55(0x9d5),_0x1002ba[_0x1e0d55(0xb6e)]=_0x1e0d55(0x4d2);if(_0xad27ca){_0xad27ca[_0x1e0d55(0x418)]=![];const _0x417912=_0x518ca3['questionType']||currentQuizData['quizType'];_0x417912===_0x1e0d55(0xb59)?_0x518ca3[_0x1e0d55(0x176)]=_0xad27ca['innerText'][_0x1e0d55(0x45e)](_0xad27ca[_0x1e0d55(0x263)][_0x1e0d55(0x3fd)]('.')+0x2)[_0x1e0d55(0xa93)]():_0x518ca3[_0x1e0d55(0xb0e)]=_0xad27ca[_0x1e0d55(0x263)][_0x1e0d55(0x45e)](_0xad27ca['innerText'][_0x1e0d55(0x3fd)]('.')+0x2)['trim']();}_0x5caf71&&(_0x5caf71[_0x1e0d55(0x418)]=![],_0x518ca3[_0x1e0d55(0xb10)]=_0x5caf71[_0x1e0d55(0x263)]);if(_0x13dc27){const _0x370985=_0x13dc27['querySelector'](_0x1e0d55(0x21f));if(_0x370985){const _0x86d5e2=_0x370985[_0x1e0d55(0x60f)](!![]);_0x86d5e2[_0x1e0d55(0xc76)]('.delete-svg-btn')[_0x1e0d55(0x326)](_0x5aac04=>_0x5aac04[_0x1e0d55(0xa49)]()),_0x86d5e2[_0x1e0d55(0xc76)](_0x1e0d55(0x2f0))[_0x1e0d55(0x326)](_0x3c08b9=>{const _0x55333f=_0x1e0d55;_0x3c08b9[_0x55333f(0xcbe)][_0x55333f(0xa49)]('draggable-text'),_0x3c08b9[_0x55333f(0x827)][_0x55333f(0x72d)]=_0x55333f(0x14a),_0x3c08b9[_0x55333f(0x64c)]('id');}),_0x518ca3[_0x1e0d55(0x7bc)]=_0x86d5e2[_0x1e0d55(0xc15)],_0x370985[_0x1e0d55(0x9f3)]('mousedown',startDrag),_0x370985['removeEventListener'](_0x1e0d55(0x2a6),drag),_0x370985[_0x1e0d55(0x9f3)](_0x1e0d55(0x9bf),endDrag),_0x370985[_0x1e0d55(0x9f3)](_0x1e0d55(0x432),endDrag),_0x370985['removeEventListener'](_0x1e0d55(0x32d),startDrag),_0x370985[_0x1e0d55(0x9f3)](_0x1e0d55(0x5a9),drag),_0x370985['removeEventListener'](_0x1e0d55(0x697),endDrag),_0x370985[_0x1e0d55(0x9f3)](_0x1e0d55(0x1df),endDrag),_0x370985[_0x1e0d55(0x9f3)](_0x1e0d55(0xba1),handleSvgEditClick),_0x370985[_0x1e0d55(0xc76)](_0x1e0d55(0x79a))[_0x1e0d55(0x326)](_0x116117=>_0x116117['remove']()),_0x370985[_0x1e0d55(0xc76)](_0x1e0d55(0x2f0))['forEach'](_0xbf8efc=>{const _0x2f8331=_0x1e0d55;_0xbf8efc[_0x2f8331(0xcbe)][_0x2f8331(0xa49)](_0x2f8331(0xc0c)),_0xbf8efc[_0x2f8331(0x827)][_0x2f8331(0x72d)]=_0x2f8331(0x14a);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xebbf95){const _0xd5ba03=_0x15d57d,_0x179d36=document[_0xd5ba03(0x9c3)](_0xd5ba03(0xac9)),_0x5b83da=document[_0xd5ba03(0x9c3)](_0xd5ba03(0x3f4));_0x5b83da[_0xd5ba03(0x632)]=_0xd5ba03(0x5c1),_0x179d36[_0xd5ba03(0xcbe)]['remove']('hidden');try{const _0x2494da=doc(db,_0xd5ba03(0xc02)+appId+_0xd5ba03(0x21e),_0xebbf95),_0x71e11b=await getDoc(_0x2494da);if(!_0x71e11b['exists']())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0xebbf95,..._0x71e11b['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x4bcd91){console[_0xd5ba03(0x1c0)](_0xd5ba03(0x17c),_0x4bcd91),showMessage(_0xd5ba03(0x2ff)),_0x179d36[_0xd5ba03(0xcbe)][_0xd5ba03(0xa54)](_0xd5ba03(0x8e4));}}function renderQuizEditor(_0x5c5ba9){const _0x503dbb=_0x15d57d;document[_0x503dbb(0x9c3)](_0x503dbb(0x94a))['value']=_0x5c5ba9[_0x503dbb(0x294)];const _0x27907c=document[_0x503dbb(0x9c3)]('quiz-editor-questions-container');let _0x5a7762=_0x5c5ba9[_0x503dbb(0xca5)][_0x503dbb(0x929)]((_0x3a1d01,_0x28d1a4)=>{const _0x5c5035=_0x503dbb;let _0x4c3dfe='';const _0x406f05=_0x3a1d01[_0x5c5035(0xc6a)]||_0x5c5ba9[_0x5c5035(0x434)];switch(_0x406f05){case _0x5c5035(0x3ee):const _0x413b8d=(_0x3a1d01['options']||[])[_0x5c5035(0x929)]((_0x3db834,_0x420b69)=>_0x5c5035(0x537)+_0x28d1a4+_0x5c5035(0x4a7)+_0x420b69+'\x22\x20'+(_0x420b69===_0x3a1d01[_0x5c5035(0xa02)]?_0x5c5035(0x57b):'')+_0x5c5035(0x199)+_0x3db834+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5c5035(0xb2d)]('');_0x4c3dfe=_0x5c5035(0xc82)+_0x413b8d+_0x5c5035(0x666);break;case _0x5c5035(0x31e):_0x4c3dfe=_0x5c5035(0x9c7)+(_0x3a1d01[_0x5c5035(0x59a)]||'')+_0x5c5035(0x581);break;case _0x5c5035(0x160):_0x4c3dfe=_0x5c5035(0x304)+_0x28d1a4+'\x22\x20value=\x22true\x22\x20'+(_0x3a1d01[_0x5c5035(0xa79)]===!![]?_0x5c5035(0x57b):'')+_0x5c5035(0x810)+_0x28d1a4+'\x22\x20value=\x22false\x22\x20'+(_0x3a1d01[_0x5c5035(0xa79)]===![]?'checked':'')+_0x5c5035(0xcbd);break;case _0x5c5035(0xb59):_0x4c3dfe=_0x5c5035(0xc36)+(_0x3a1d01['correctResponse']||'')+_0x5c5035(0xc59);break;}let _0x478b46=_0x3a1d01['questionText']||_0x3a1d01[_0x5c5035(0x176)]||'';return _0x478b46=_0x478b46[_0x5c5035(0x3d0)](/<br\s*\/?>/gi,'\x0a'),_0x5c5035(0x849)+_0x28d1a4+'\x22\x20data-q-type=\x22'+_0x406f05+_0x5c5035(0x8de)+(_0x28d1a4+0x1)+'\x20('+_0x406f05+'):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0x478b46+'</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x4c3dfe+_0x5c5035(0xd32);})[_0x503dbb(0xb2d)]('');_0x27907c[_0x503dbb(0x632)]=_0x5a7762;const _0x5e4a76=_0x503dbb(0x89e);_0x27907c['insertAdjacentHTML']('beforeend',_0x5e4a76),_0x27907c[_0x503dbb(0xc76)]('.auto-resize-textarea')[_0x503dbb(0x326)](_0x45d4e1=>{const _0xb28562=_0x503dbb;_0x45d4e1['style'][_0xb28562(0xae5)]=_0xb28562(0x8e4),_0x45d4e1[_0xb28562(0x827)][_0xb28562(0x915)]=_0xb28562(0x8fe),_0x45d4e1[_0xb28562(0x448)]=0x4;const _0x3cce7f=()=>{const _0xed76b7=_0xb28562;_0x45d4e1[_0xed76b7(0x827)]['height']='auto',_0x45d4e1[_0xed76b7(0x827)][_0xed76b7(0xbb2)]=_0x45d4e1[_0xed76b7(0x34e)]+'px';};_0x45d4e1['addEventListener']('input',_0x3cce7f),_0x3cce7f();}),_0x27907c[_0x503dbb(0xc76)](_0x503dbb(0xbae))[_0x503dbb(0x326)](_0x45e32b=>{const _0x16788f=_0x503dbb;_0x45e32b['addEventListener'](_0x16788f(0xba1),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x48196c){const _0x1dbd9b=_0x15d57d;if(!currentEditingQuizData||!currentEditingQuizData[_0x1dbd9b(0xca5)][_0x48196c])return;const _0xaae925=currentEditingQuizData['questions'][_0x48196c][_0x1dbd9b(0xb0e)]||currentEditingQuizData['questions'][_0x48196c][_0x1dbd9b(0x176)];showConfirmation(_0x1dbd9b(0x7f6)+(_0x48196c+0x1)+_0x1dbd9b(0x8ff)+_0xaae925[_0x1dbd9b(0x45e)](0x0,0x14)+'...\x22)?',()=>{const _0x450fea=_0x1dbd9b;currentEditingQuizData[_0x450fea(0xca5)][_0x450fea(0x96b)](_0x48196c,0x1),renderQuizEditor(currentEditingQuizData),showMessage('ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)');});}function handleAddQuestionInEditor(){const _0x297eca=_0x15d57d;if(!currentEditingQuizData)return;const _0x36cc19={'id':'q_'+Date['now']()+_0x297eca(0x758),'questionType':_0x297eca(0x3ee),'questionText':_0x297eca(0xb5a),'options':['ตัวเลือก\x20ก','ตัวเลือก\x20ข',_0x297eca(0x36d),'ตัวเลือก\x20ง'],'correctAnswerIndex':0x0,'explanation':_0x297eca(0x46a)};currentEditingQuizData[_0x297eca(0xca5)][_0x297eca(0xa6d)](_0x36cc19),renderQuizEditor(currentEditingQuizData);const _0x511a5f=document[_0x297eca(0x8da)](_0x297eca(0x58e));_0x511a5f&&(_0x511a5f[_0x297eca(0x6bf)]({'behavior':_0x297eca(0x2eb),'block':_0x297eca(0x653)}),_0x511a5f[_0x297eca(0x8da)](_0x297eca(0xd15))['focus']());}async function handleAiFixQuestion(_0x956bd8){const _0x46fae0=_0x15d57d,_0x1857f3=_0x956bd8[_0x46fae0(0xb70)],_0x52a777=_0x1857f3['closest'](_0x46fae0(0xc7c));if(!_0x52a777)return;const _0x4a5b8b=parseInt(_0x52a777[_0x46fae0(0x870)][_0x46fae0(0xa84)],0xa);if(isNaN(_0x4a5b8b)||!currentEditingQuizData[_0x46fae0(0xca5)][_0x4a5b8b]){showMessage(_0x46fae0(0x22c));return;}const _0x4b66db=currentEditingQuizData['questions'][_0x4a5b8b];_0x1857f3[_0x46fae0(0x632)]=_0x46fae0(0xbab),_0x1857f3[_0x46fae0(0x704)]=!![];const _0x1b4ec5=_0x46fae0(0x161)+JSON['stringify'](_0x4b66db)+_0x46fae0(0x85c);let _0x46d99a;const _0x25b5aa=_0x4b66db[_0x46fae0(0xc6a)]||currentEditingQuizData['quizType'];switch(_0x25b5aa){case _0x46fae0(0x31e):_0x46d99a={'type':_0x46fae0(0x5e7),'properties':{'questionText':{'type':_0x46fae0(0x239)},'idealAnswer':{'type':_0x46fae0(0x239)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x46fae0(0x239)}},'required':[_0x46fae0(0xb0e),_0x46fae0(0x59a),_0x46fae0(0xb10)]};break;case _0x46fae0(0x3ee):default:_0x46d99a={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x46fae0(0x922),'items':{'type':_0x46fae0(0x239)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x46fae0(0x239)},'imageCode':{'type':_0x46fae0(0x239)}},'required':[_0x46fae0(0xb0e),_0x46fae0(0x78a),_0x46fae0(0xa02),'explanation']};break;}try{let _0x571d1a=await callAnalysisApi(_0x1b4ec5,_0x46d99a);_0x571d1a[_0x46fae0(0x78a)]&&Array[_0x46fae0(0x7c1)](_0x571d1a[_0x46fae0(0x78a)])&&(_0x571d1a[_0x46fae0(0x78a)]=_0x571d1a[_0x46fae0(0x78a)][_0x46fae0(0x929)](_0xff171c=>typeof _0xff171c===_0x46fae0(0xab1)?_0xff171c[_0x46fae0(0x3d0)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0xff171c)),_0x4b66db[_0x46fae0(0x7bc)]&&_0x4b66db[_0x46fae0(0x7bc)][_0x46fae0(0x436)](_0x46fae0(0x5bb))&&(_0x571d1a['imageCode']=''),currentEditingQuizData[_0x46fae0(0xca5)][_0x4a5b8b]={..._0x4b66db,..._0x571d1a},renderQuizEditor(currentEditingQuizData),showMessage(_0x46fae0(0x231));}catch(_0x34a2f0){console['error']('AI\x20Fix\x20Error:',_0x34a2f0),showMessage(_0x46fae0(0x1e8)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x47690f=_0x15d57d,_0x2d1e4b=document['getElementById'](_0x47690f(0x93f));_0x2d1e4b[_0x47690f(0x704)]=!![],_0x2d1e4b[_0x47690f(0x632)]=_0x47690f(0x2c8);try{const _0x5cfe87=document[_0x47690f(0x9c3)](_0x47690f(0x94a))[_0x47690f(0x3bb)],_0x443029=document[_0x47690f(0xc76)](_0x47690f(0xc7c));let _0x4ca2de=[];const _0x247b4c=Array[_0x47690f(0x657)](_0x443029)['map']((_0x88274,_0x522225)=>{const _0x326650=_0x47690f,_0x1d05ab=_0x88274[_0x326650(0x870)]['qType'],_0x168d90=_0x88274[_0x326650(0x8da)]('textarea')['value']['replace'](/\n/g,_0x326650(0x8b1));let _0x4a6f1e={'questionType':_0x1d05ab};const _0x27dd9a=currentEditingQuizData[_0x326650(0xca5)][_0x522225];switch(_0x1d05ab){case _0x326650(0x3ee):_0x4a6f1e['questionText']=_0x168d90;const _0x5484a4=_0x88274['querySelectorAll'](_0x326650(0x25c));_0x4a6f1e[_0x326650(0x78a)]=Array['from'](_0x5484a4)[_0x326650(0x929)](_0x238f29=>_0x238f29['value']);const _0x30084e=_0x88274['querySelector'](_0x326650(0x57c));_0x4a6f1e['correctAnswerIndex']=_0x30084e?parseInt(_0x30084e[_0x326650(0x3bb)]):0x0;break;case _0x326650(0x31e):_0x4a6f1e[_0x326650(0xb0e)]=_0x168d90,_0x4a6f1e['idealAnswer']=_0x88274[_0x326650(0x8da)](_0x326650(0x501))[_0x326650(0x3bb)];break;case _0x326650(0x160):_0x4a6f1e[_0x326650(0xb0e)]=_0x168d90;const _0x25db59=_0x88274[_0x326650(0x8da)](_0x326650(0x57c));_0x4a6f1e[_0x326650(0xa79)]=_0x25db59?_0x25db59[_0x326650(0x3bb)]===_0x326650(0x596):!![];break;case _0x326650(0xb59):_0x4a6f1e[_0x326650(0x176)]=_0x168d90;const _0x5d8021=_0x88274[_0x326650(0x8da)](_0x326650(0x39d));_0x4a6f1e[_0x326650(0xbfc)]=_0x5d8021?_0x5d8021['value']:'',_0x4ca2de[_0x326650(0xa6d)](_0x4a6f1e[_0x326650(0xbfc)]);break;default:_0x4a6f1e[_0x326650(0xb0e)]=_0x168d90;break;}return{..._0x27dd9a,..._0x4a6f1e};});_0x4ca2de[_0x47690f(0x768)]>0x0&&_0x247b4c[_0x47690f(0x326)](_0x52be69=>{const _0x3096b3=_0x47690f;_0x52be69[_0x3096b3(0xc6a)]===_0x3096b3(0xb59)&&(_0x52be69[_0x3096b3(0x472)]=_0x4ca2de);});const _0x15f832=currentEditingQuizData['id'],_0x2f8f8b=doc(db,_0x47690f(0xc02)+appId+_0x47690f(0x21e),_0x15f832);await updateDoc(_0x2f8f8b,{'topic':_0x5cfe87,'questions':_0x247b4c}),document[_0x47690f(0x9c3)]('quiz-editor-modal')['classList'][_0x47690f(0xa54)](_0x47690f(0x8e4)),showMessage(_0x47690f(0x952),()=>initiateReGradeProcess(_0x15f832));}catch(_0x3ccb81){console[_0x47690f(0x1c0)](_0x47690f(0x7d8),_0x3ccb81),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x2d1e4b[_0x47690f(0x704)]=![],_0x2d1e4b[_0x47690f(0x632)]=_0x47690f(0x4ce);}}async function initiateReGradeProcess(_0x1df5df){const _0x47e623=_0x15d57d;showMessage(_0x47e623(0x468));try{const _0x32539e=doc(db,_0x47e623(0xc02)+appId+_0x47e623(0x21e),_0x1df5df),_0x56ab25=await getDoc(_0x32539e);if(!_0x56ab25[_0x47e623(0x6b5)]())throw new Error(_0x47e623(0x4a9));const _0x177a74={'id':_0x1df5df,..._0x56ab25[_0x47e623(0xc5f)]()},_0x4af41e=collection(db,_0x47e623(0xc02)+appId+_0x47e623(0x21e),_0x1df5df,_0x47e623(0xc14)),_0x502a46=await getDocs(_0x4af41e);if(_0x502a46['empty']){showMessage(_0x47e623(0x9af));return;}const _0x47771c=_0x502a46[_0x47e623(0x293)][_0x47e623(0x929)](_0x5d9b06=>reGradeSingleSubmission(_0x5d9b06,_0x177a74));await Promise[_0x47e623(0xbfe)](_0x47771c);if(_0x177a74['projectId']){const _0x4bb759=doc(db,_0x47e623(0xc02)+appId+_0x47e623(0x47e),_0x177a74[_0x47e623(0x257)]),_0x3a3819=await getDoc(_0x4bb759);if(_0x3a3819[_0x47e623(0x6b5)]()&&_0x3a3819['data']()[_0x47e623(0x535)]){const _0x1ab5ef=_0x3a3819[_0x47e623(0xc5f)]()[_0x47e623(0x535)]['map'](_0x3bae25=>updateStudentProfile(_0x177a74[_0x47e623(0x257)],_0x3bae25));await Promise[_0x47e623(0xbfe)](_0x1ab5ef);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x502a46['size']+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0xd8c3ee){console['error'](_0x47e623(0xb25),_0xd8c3ee),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0xd8c3ee[_0x47e623(0xce4)]);}}async function reGradeSingleSubmission(_0x2a75d9,_0x18b5c2){const _0x104d18=_0x15d57d,_0x4eee28=_0x2a75d9[_0x104d18(0xc5f)](),_0x1dab5f=_0x4eee28[_0x104d18(0x552)],_0x498a70=_0x4eee28[_0x104d18(0xa20)]||[],_0x6a2d3=[];for(const _0x103d28 of _0x498a70){let _0x2c230b=0x0,_0x2730a7=[],_0x33bd36=0x0;const _0x1b71ab=[];for(const _0x49e1a9 of _0x103d28[_0x104d18(0x493)]){let _0x675d6d;_0x49e1a9[_0x104d18(0xca0)]&&(_0x675d6d=_0x18b5c2[_0x104d18(0xca5)][_0x104d18(0x52d)](_0x426db0=>_0x426db0['id']===_0x49e1a9[_0x104d18(0xca0)]));!_0x675d6d&&_0x49e1a9[_0x104d18(0xbe6)]&&(_0x675d6d=_0x18b5c2[_0x104d18(0xca5)][_0x104d18(0x52d)](_0x1aa71b=>(_0x1aa71b['stem']||_0x1aa71b['questionText'])===_0x49e1a9[_0x104d18(0xbe6)]));let _0x100706=![];if(_0x675d6d){const _0xcd77ea=_0x675d6d[_0x104d18(0xc6a)]||_0x18b5c2['quizType'];switch(_0xcd77ea){case'multiple_choice':if(_0x675d6d[_0x104d18(0x78a)]&&_0x675d6d[_0x104d18(0xa02)]<_0x675d6d[_0x104d18(0x78a)][_0x104d18(0x768)]){const _0x250be1=_0x675d6d[_0x104d18(0x78a)][_0x675d6d[_0x104d18(0xa02)]];_0x100706=_0x49e1a9['answerText']===_0x250be1;}break;case'true_false':const _0x2c675d=_0x49e1a9['answer']===!![]||_0x49e1a9[_0x104d18(0xb80)]===_0x104d18(0x596);_0x100706=_0x2c675d===_0x675d6d[_0x104d18(0xa79)];break;case _0x104d18(0xb59):_0x100706=_0x49e1a9[_0x104d18(0xb80)]===_0x675d6d[_0x104d18(0xbfc)];break;case _0x104d18(0x31e):_0x100706=await gradeShortAnswer(_0x49e1a9[_0x104d18(0xb80)],_0x675d6d);break;default:_0x100706=_0x49e1a9[_0x104d18(0xc0f)];break;}}if(_0x100706){_0x2c230b++,_0x33bd36++;if(_0x33bd36===0x3)_0x2730a7[_0x104d18(0xa6d)](BADGES[_0x104d18(0xb93)]['id']);}else _0x33bd36=0x0;_0x1b71ab['push']({..._0x49e1a9,'isCorrect':_0x100706});}let _0x45cdd0=_0x2c230b*0xa;_0x2c230b===_0x18b5c2[_0x104d18(0xca5)][_0x104d18(0x768)]&&(_0x45cdd0+=0x32,_0x2730a7[_0x104d18(0xa6d)](BADGES['PERFECT_SCORE']['id'])),_0x6a2d3['push']({..._0x103d28,'score':_0x2c230b,'points':_0x45cdd0,'badges':Array['from'](new Set(_0x2730a7)),'answers':_0x1b71ab});}const _0xb86d66=_0x6a2d3[_0x104d18(0x768)]>0x0?_0x6a2d3[0x0]['score']:0x0,_0x3df274=Math[_0x104d18(0x35d)](..._0x6a2d3[_0x104d18(0x929)](_0x463621=>_0x463621[_0x104d18(0xaec)])),_0x1b9222=_0x6a2d3[_0x104d18(0x768)]>0x0?_0x6a2d3[_0x6a2d3[_0x104d18(0x768)]-0x1][_0x104d18(0xaec)]:0x0,_0xde8d10=_0x6a2d3[_0x104d18(0x768)]>0x0?_0x6a2d3[_0x6a2d3[_0x104d18(0x768)]-0x1][_0x104d18(0xc48)]:0x0,_0x31c6e0=doc(db,_0x104d18(0xc02)+appId+_0x104d18(0x884)+_0x18b5c2['id']+_0x104d18(0x959),_0x1dab5f);await updateDoc(_0x31c6e0,{'attempts':_0x6a2d3,'firstScore':_0xb86d66,'bestScore':_0x3df274,'latestScore':_0x1b9222,'points':_0xde8d10});}function cleanupQuizOptions(_0x25a852){const _0x236565=_0x15d57d,_0x17697b=(_0x5dc00f,_0x2f66e6)=>_0x2f66e6===0x0?_0x5dc00f:_0x17697b(_0x2f66e6,_0x5dc00f%_0x2f66e6),_0x51c9d9=_0x2fe555=>{const _0x35e3e3=_0x344c;if(typeof _0x2fe555!==_0x35e3e3(0xab1))return null;_0x2fe555=_0x2fe555['trim']();const _0x3bf5d4=_0x2fe555[_0x35e3e3(0x260)](/[ /]/)[_0x35e3e3(0x23a)](_0x29f6a7=>_0x29f6a7!=='');if(_0x3bf5d4[_0x35e3e3(0x768)]===0x3)return parseInt(_0x3bf5d4[0x0])+parseInt(_0x3bf5d4[0x1])/parseInt(_0x3bf5d4[0x2]);else{if(_0x3bf5d4[_0x35e3e3(0x768)]===0x2)return parseInt(_0x3bf5d4[0x0])/parseInt(_0x3bf5d4[0x1]);else{if(_0x3bf5d4[_0x35e3e3(0x768)]===0x1&&!isNaN(_0x3bf5d4[0x0]))return parseFloat(_0x3bf5d4[0x0]);}}return null;},_0x1e0f1d=_0x5cbc04=>{const _0x112020=_0x344c;if(typeof _0x5cbc04!==_0x112020(0xab1))return _0x5cbc04;const _0xc029c7=_0x5cbc04[_0x112020(0x972)](/(\d+)\s+(\d+)\/(\d+)/);if(_0xc029c7){const _0x6733de=parseInt(_0xc029c7[0x1]);let _0x54bcac=parseInt(_0xc029c7[0x2]),_0x369043=parseInt(_0xc029c7[0x3]);const _0x1281ac=_0x17697b(_0x54bcac,_0x369043);_0x54bcac/=_0x1281ac,_0x369043/=_0x1281ac;if(_0x369043===0x1)return(_0x6733de+_0x54bcac)[_0x112020(0x771)]();return _0x6733de+'\x20'+_0x54bcac+'/'+_0x369043;}return _0x5cbc04;};return _0x25a852&&_0x25a852[_0x236565(0xca5)]&&_0x25a852['questions']['forEach'](_0x3d0d16=>{const _0xad061=_0x236565;if(_0x3d0d16[_0xad061(0xc6a)]===_0xad061(0x3ee)&&_0x3d0d16[_0xad061(0x78a)]){const _0x1a02dc=new Map(),_0x513cb4=_0x3d0d16[_0xad061(0x78a)][_0x3d0d16[_0xad061(0xa02)]];_0x3d0d16[_0xad061(0x78a)][_0xad061(0x326)](_0x33d70f=>{const _0xd96b20=_0xad061,_0x91bf5c=_0x1e0f1d(_0x33d70f),_0x39c12d=_0x51c9d9(_0x91bf5c);_0x39c12d!==null&&!_0x1a02dc[_0xd96b20(0x9d0)](_0x39c12d)&&_0x1a02dc[_0xd96b20(0x62c)](_0x39c12d,_0x91bf5c);}),_0x3d0d16[_0xad061(0x78a)]=Array[_0xad061(0x657)](_0x1a02dc[_0xad061(0x234)]());const _0x15f339=_0x3d0d16[_0xad061(0x78a)][_0xad061(0xcae)](_0x2e3521=>_0x2e3521===_0x1e0f1d(_0x513cb4));_0x3d0d16[_0xad061(0xa02)]=_0x15f339!==-0x1?_0x15f339:0x0;}}),_0x25a852;}function showGameStartConfirmationModal(_0x15779d,_0x48c0fc,_0x2fe881){const _0x262bfd=_0x15d57d,_0x1fe62a=document[_0x262bfd(0x9c3)]('confirm-game-start-modal');document[_0x262bfd(0x9c3)](_0x262bfd(0xc35))[_0x262bfd(0xafb)]=_0x262bfd(0xa6b)+_0x2fe881,document[_0x262bfd(0x9c3)](_0x262bfd(0x444))[_0x262bfd(0x3bb)]=_0x15779d,document[_0x262bfd(0x9c3)](_0x262bfd(0x93d))[_0x262bfd(0x3bb)]=_0x48c0fc,document[_0x262bfd(0x9c3)](_0x262bfd(0xbe7))[_0x262bfd(0x57b)]=!![];const _0x5896c8=document[_0x262bfd(0x9c3)](_0x262bfd(0x8c3));_0x48c0fc===_0x262bfd(0x862)?(_0x5896c8[_0x262bfd(0xcbe)][_0x262bfd(0xa49)](_0x262bfd(0x8e4)),document['querySelector'](_0x262bfd(0x665))[_0x262bfd(0x57b)]=!![]):_0x5896c8[_0x262bfd(0xcbe)][_0x262bfd(0xa54)]('hidden'),_0x1fe62a['classList'][_0x262bfd(0xa49)](_0x262bfd(0x8e4));}async function saveGameResultsAsSubmissions(_0x233ed8){const _0x5a9343=_0x15d57d;console['log'](_0x5a9343(0xc9c),_0x233ed8);const _0x570a2c=_0x233ed8[_0x5a9343(0x8c4)];let _0x184011=[];if(_0x233ed8['players'])_0x184011=Object[_0x5a9343(0xa43)](_0x233ed8[_0x5a9343(0x54b)])['map'](([_0x470e0c,_0x18e8a1])=>({'name':_0x470e0c,..._0x18e8a1}));else{if(_0x233ed8[_0x5a9343(0xa7a)])Object['values'](_0x233ed8[_0x5a9343(0xa7a)])[_0x5a9343(0x326)](_0xcaa43e=>{const _0x4c2a83=_0x5a9343;_0xcaa43e[_0x4c2a83(0xa04)][_0x4c2a83(0x326)](_0x2b51ea=>{const _0x36b7ca=_0x4c2a83;_0x184011['push']({'name':_0x2b51ea,'score':_0xcaa43e[_0x36b7ca(0xaec)],'answers':_0xcaa43e[_0x36b7ca(0x493)]});});});else _0x233ed8[_0x5a9343(0x8e5)]&&Object[_0x5a9343(0xa43)](_0x233ed8[_0x5a9343(0x8e5)])[_0x5a9343(0x326)](([_0x33ba64,_0x5f7a7c])=>{_0x184011['push']({'name':_0x33ba64,..._0x5f7a7c});});}if(_0x184011[_0x5a9343(0x768)]===0x0){console[_0x5a9343(0xb0b)](_0x5a9343(0x5b7));return;}const _0x49a416=_0x233ed8[_0x5a9343(0x4b5)]?.[_0x5a9343(0xca5)][_0x5a9343(0x768)]||currentQuizData[_0x5a9343(0xca5)][_0x5a9343(0x768)],_0x145ac6=writeBatch(db);for(const _0x11844f of _0x184011){const _0x3440d6=doc(db,_0x5a9343(0xc02)+appId+_0x5a9343(0x884)+_0x570a2c+_0x5a9343(0x959),_0x11844f[_0x5a9343(0x5e1)]),_0x13e7d3=(_0x11844f['answers']||[])['filter'](_0x5990a9=>_0x5990a9[_0x5a9343(0xc0f)])[_0x5a9343(0x768)];let _0x4d3882=_0x13e7d3;_0x233ed8['isConfidenceScoringEnabled']&&_0x11844f[_0x5a9343(0x493)]&&_0x11844f[_0x5a9343(0x493)][_0x5a9343(0x326)](_0x2f8a71=>{const _0x3025ac=_0x5a9343;if(_0x2f8a71[_0x3025ac(0xc0f)]&&(_0x2f8a71['wasConfident']===!![]||_0x2f8a71[_0x3025ac(0x273)]===_0x3025ac(0x4e9)))_0x4d3882+=0x1;else!_0x2f8a71[_0x3025ac(0xc0f)]&&(_0x2f8a71['wasConfident']===!![]||_0x2f8a71['wasConfident']===_0x3025ac(0x4e9))&&(_0x4d3882-=0x1);});_0x49a416>0x0&&_0x13e7d3===_0x49a416&&(_0x4d3882+=0x1);const _0x10f293={'score':_0x13e7d3,'points':_0x4d3882,'badges':_0x11844f[_0x5a9343(0x678)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x11844f[_0x5a9343(0x493)]||[])[_0x5a9343(0x929)](_0x7efbda=>({'questionId':_0x7efbda[_0x5a9343(0xca0)],'answer':_0x7efbda[_0x5a9343(0xb80)],'answerText':_0x7efbda[_0x5a9343(0x28e)],'isCorrect':_0x7efbda['isCorrect'],'originalQuestionText':_0x7efbda[_0x5a9343(0xbe6)],'wasConfident':_0x7efbda[_0x5a9343(0x273)]}))},_0xa726ab=await getDoc(_0x3440d6),_0x7b45d9=_0xa726ab[_0x5a9343(0x6b5)]()?_0xa726ab['data']():{},_0x5ea826=_0x7b45d9[_0x5a9343(0x33d)]||0x0,_0x33c6d6=_0x7b45d9[_0x5a9343(0xa20)]||[],_0x26e060={'studentName':_0x11844f[_0x5a9343(0x5e1)],'totalQuestions':_0x49a416,'attempts':arrayUnion(_0x10f293),'latestScore':_0x13e7d3,'points':_0x4d3882,'latestSubmittedAt':_0x10f293['submittedAt'],'bestScore':Math[_0x5a9343(0x35d)](_0x5ea826,_0x13e7d3),'firstScore':_0x33c6d6[_0x5a9343(0x768)]===0x0?_0x13e7d3:_0x7b45d9[_0x5a9343(0x5f3)]||0x0};_0x145ac6[_0x5a9343(0x62c)](_0x3440d6,_0x26e060,{'merge':!![]});}try{await _0x145ac6['commit'](),showMessage('บันทึกผลการเล่นเกมของ\x20'+_0x184011[_0x5a9343(0x768)]+_0x5a9343(0xb5e));const _0x481fea=_0x233ed8[_0x5a9343(0x4b5)]?.['projectId']||currentQuizData?.[_0x5a9343(0x257)]||currentProjectId;if(_0x481fea){const _0xf09115=[...new Set(_0x184011['map'](_0x38e3c0=>_0x38e3c0[_0x5a9343(0x5e1)]))];for(const _0x1e86ac of _0xf09115){await updateStudentProfile(_0x481fea,_0x1e86ac);}}}catch(_0x1e9e2c){console[_0x5a9343(0x1c0)](_0x5a9343(0x832),_0x1e9e2c),showMessage(_0x5a9343(0xbd2));}}async function saveQuiz(_0x21d7d4=null,_0x439031=null){const _0x2de84f=_0x15d57d,_0xcad2e3=_0x21d7d4||currentProjectId;if(!_0xcad2e3){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2de84f(0xca5)]||!userId){showMessage(_0x2de84f(0xbdb));return;}const _0x3c0a50=document[_0x2de84f(0x9c3)](_0x2de84f(0x72b));_0x3c0a50[_0x2de84f(0x704)]=!![],_0x3c0a50[_0x2de84f(0x632)]=_0x2de84f(0x2c8);const _0x53e312=document[_0x2de84f(0x9c3)](_0x2de84f(0x4b1))[_0x2de84f(0x57b)];let _0x36cd30=document['getElementById']('editable-quiz-topic')[_0x2de84f(0x263)]['trim']();_0x53e312&&!_0x36cd30[_0x2de84f(0x845)](_0x2de84f(0x23f))&&(_0x36cd30='(ก่อนเรียน)\x20'+_0x36cd30);try{const _0x2c5513={'resultsDisplay':document[_0x2de84f(0x9c3)](_0x2de84f(0x921))[_0x2de84f(0x3bb)],'shuffle':document[_0x2de84f(0x9c3)]('shuffle-setting-select')[_0x2de84f(0x3bb)],'timerMode':document['getElementById']('timer-mode-select')[_0x2de84f(0x3bb)],'timerDuration':parseInt(document[_0x2de84f(0x9c3)](_0x2de84f(0xc27))['value'])||0xa,'passingScore':parseInt(document[_0x2de84f(0x9c3)]('passing-score-input')[_0x2de84f(0x3bb)])||0x0,'isAdaptive':document[_0x2de84f(0x9c3)](_0x2de84f(0xb7c))[_0x2de84f(0x57b)],'loopUntilPass':document[_0x2de84f(0x9c3)](_0x2de84f(0x7ae))['checked']},_0x272d31=(currentQuizData['questions']||[])[_0x2de84f(0x929)]((_0x4178b4,_0x96d67d)=>{const _0x5e6994=_0x2de84f,_0x51896b=document[_0x5e6994(0x9c3)]('quiz-type-select')[_0x5e6994(0x3bb)],_0x251e30={'id':'q_'+Date[_0x5e6994(0xce2)]()+'_'+_0x96d67d,'questionText':_0x4178b4[_0x5e6994(0xb0e)]||'','explanation':_0x4178b4[_0x5e6994(0xb10)]||'ไม่มีคำอธิบาย','questionType':_0x4178b4[_0x5e6994(0xc6a)]||_0x51896b,'imageCode':_0x4178b4[_0x5e6994(0x7bc)]||null};return(_0x251e30['questionType']==='multiple_choice'||_0x251e30['questionType']===_0x5e6994(0x1d1)||_0x251e30[_0x5e6994(0xc6a)]===_0x5e6994(0x6b7)&&_0x4178b4['options'])&&(_0x251e30[_0x5e6994(0x78a)]=_0x4178b4[_0x5e6994(0x78a)]||[],_0x251e30[_0x5e6994(0xa02)]=_0x4178b4['correctAnswerIndex']!==undefined?_0x4178b4[_0x5e6994(0xa02)]:0x0),(_0x251e30[_0x5e6994(0xc6a)]===_0x5e6994(0x31e)||_0x251e30[_0x5e6994(0xc6a)]==='fill_in_no_choices'||_0x251e30[_0x5e6994(0xc6a)]===_0x5e6994(0x6b7)&&_0x4178b4['idealAnswer'])&&(_0x251e30[_0x5e6994(0x59a)]=_0x4178b4[_0x5e6994(0x59a)]||''),_0x251e30[_0x5e6994(0xc6a)]===_0x5e6994(0x160)&&(_0x251e30['correctAnswer']=_0x4178b4['correctAnswer']===!![]),_0x251e30[_0x5e6994(0xc6a)]===_0x5e6994(0xb59)&&(_0x251e30[_0x5e6994(0x176)]=_0x4178b4['stem']||'',_0x251e30['correctResponse']=_0x4178b4[_0x5e6994(0xbfc)]||'',_0x251e30[_0x5e6994(0x472)]=_0x4178b4[_0x5e6994(0x472)]||[]),_0x251e30;}),_0x52644d={'topic':_0x36cd30,'quizType':currentQuizData[_0x2de84f(0x434)]||'multiple_choice','questions':_0x272d31,'projectId':_0xcad2e3,'createdBy':userId,'createdAt':new Date()[_0x2de84f(0xbb3)](),'status':_0x2de84f(0x471),'settings':_0x2c5513,'quizMode':_0x53e312?_0x2de84f(0x894):'standard','pairedQuizId':null,'lessonPlan':null};let _0x59f0a9;while(!![]){_0x59f0a9=Math[_0x2de84f(0x423)](0x3e8+Math[_0x2de84f(0x2e8)]()*0x2328)['toString']();const _0x331cd5=await getDoc(doc(db,_0x2de84f(0xc02)+appId+_0x2de84f(0x21e),_0x59f0a9));if(!_0x331cd5[_0x2de84f(0x6b5)]())break;}await setDoc(doc(db,_0x2de84f(0xc02)+appId+_0x2de84f(0x21e),_0x59f0a9),_0x52644d);if(_0x439031&&currentBlueprintProjectId){console[_0x2de84f(0xb0b)]('Auto-linking\x20new\x20quiz\x20'+_0x59f0a9+_0x2de84f(0x912)+_0x439031);try{const _0x372e01=doc(db,_0x2de84f(0xc02)+appId+_0x2de84f(0x2ed),currentBlueprintProjectId);await updateDoc(_0x372e01,{['topics.'+_0x439031+_0x2de84f(0xd45)]:arrayUnion(_0x59f0a9)});}catch(_0x5055f7){console['error'](_0x2de84f(0xac2),_0x5055f7);}}currentQuizData[_0x2de84f(0x58b)]=_0x2c5513,currentQuizData['id']=_0x59f0a9;const _0x3cedc6=document[_0x2de84f(0x9c3)](_0x2de84f(0xbdd));_0x3cedc6[_0x2de84f(0x632)]=_0x2de84f(0x743)+_0x59f0a9+_0x2de84f(0x6f3),document[_0x2de84f(0x9c3)](_0x2de84f(0x27d))[_0x2de84f(0x762)](_0x2de84f(0xba1),()=>copyTextToClipboard(_0x59f0a9,_0x2de84f(0x1ab))),document['getElementById'](_0x2de84f(0xb4b))['addEventListener']('click',()=>handleStartLiveRace(_0x59f0a9)),document[_0x2de84f(0x9c3)]('start-presentation-btn')['addEventListener'](_0x2de84f(0xba1),()=>startPresentation(currentQuizData)),document[_0x2de84f(0x9c3)]('admin-try-quiz-btn')['addEventListener']('click',startAdminTest),showMessage(_0x2de84f(0xb94));}catch(_0x722956){console[_0x2de84f(0x1c0)]('Error\x20saving\x20quiz:',_0x722956),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x3c0a50[_0x2de84f(0x704)]=![],_0x3c0a50[_0x2de84f(0x632)]=_0x2de84f(0xcce);}}function promptForProjectAndSave(){const _0x4e54c0=_0x15d57d,_0xd86ce1=document[_0x4e54c0(0x9c3)](_0x4e54c0(0x433)),_0xeb0028=document[_0x4e54c0(0x9c3)](_0x4e54c0(0x9ae)),_0x595f79=_0xd86ce1[_0x4e54c0(0x8da)]('h3'),_0x49ad2f=document[_0x4e54c0(0x9c3)](_0x4e54c0(0x428));_0x595f79['textContent']=_0x4e54c0(0x2ce),_0x49ad2f[_0x4e54c0(0xafb)]=_0x4e54c0(0x4b0);allProjects[_0x4e54c0(0x768)]===0x0?(_0xeb0028[_0x4e54c0(0x632)]=_0x4e54c0(0x280),_0x49ad2f[_0x4e54c0(0x704)]=!![]):(_0xeb0028[_0x4e54c0(0x632)]=allProjects[_0x4e54c0(0x929)](_0x1c5c4f=>'<option\x20value=\x22'+_0x1c5c4f['id']+'\x22>'+_0x1c5c4f[_0x4e54c0(0x5fc)]+'</option>')[_0x4e54c0(0xb2d)](''),_0x49ad2f[_0x4e54c0(0x704)]=![]);_0xd86ce1[_0x4e54c0(0xcbe)]['remove']('hidden');const _0x2dfc5e=()=>{const _0x1eb56d=_0x4e54c0,_0x203227=_0xeb0028[_0x1eb56d(0x3bb)];_0x203227?(currentProjectId=_0x203227,_0xd86ce1['classList'][_0x1eb56d(0xa54)](_0x1eb56d(0x8e4)),saveQuiz(),_0x595f79[_0x1eb56d(0xafb)]=_0x1eb56d(0x506),_0x49ad2f[_0x1eb56d(0xafb)]=_0x1eb56d(0x2c0),_0x49ad2f['removeEventListener'](_0x1eb56d(0xba1),_0x2dfc5e),_0x49ad2f[_0x1eb56d(0x762)](_0x1eb56d(0xba1),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x49ad2f[_0x4e54c0(0x9f3)]('click',confirmMoveQuiz),_0x49ad2f['addEventListener'](_0x4e54c0(0xba1),_0x2dfc5e);}function copyTextToClipboard(_0x371955,_0x3c0652){const _0x38ed89=_0x15d57d,_0xf8c885=document[_0x38ed89(0x2d5)](_0x38ed89(0xd15));_0xf8c885[_0x38ed89(0x3bb)]=_0x371955,_0xf8c885[_0x38ed89(0x827)][_0x38ed89(0x44a)]='fixed',_0xf8c885['style'][_0x38ed89(0x5f1)]='0',document['body'][_0x38ed89(0x86e)](_0xf8c885),_0xf8c885['focus'](),_0xf8c885['select']();try{const _0x27485b=document['execCommand'](_0x38ed89(0x185));showMessage(_0x27485b?_0x3c0652:_0x38ed89(0x86f));}catch(_0x54eb57){showMessage(_0x38ed89(0x86f)),console[_0x38ed89(0x1c0)](_0x38ed89(0x31c),_0x54eb57);}document[_0x38ed89(0x99e)][_0x38ed89(0x4c9)](_0xf8c885);}function listenForProjectQuizzes(_0x41542d){const _0x1512c2=_0x15d57d,_0x54bab1=collection(db,_0x1512c2(0xc02)+appId+_0x1512c2(0x21e)),_0x4f3ec8=query(_0x54bab1,where(_0x1512c2(0x257),'==',_0x41542d));unsubscribeQuizzesListener=onSnapshot(_0x4f3ec8,async _0x3b8b5a=>{const _0x57acf3=_0x1512c2;allQuizzes=_0x3b8b5a[_0x57acf3(0x293)][_0x57acf3(0x929)](_0x810a19=>({'id':_0x810a19['id'],..._0x810a19[_0x57acf3(0xc5f)]()})),renderQuizzes();},_0x2353ed=>{const _0x42c25c=_0x1512c2;console[_0x42c25c(0x1c0)]('Error\x20fetching\x20project\x20quizzes:',_0x2353ed),document[_0x42c25c(0x9c3)]('project-quizzes-list')[_0x42c25c(0x632)]=_0x42c25c(0x16c);});}async function renderQuizzes(){const _0x220c64=_0x15d57d,_0x471c85=document[_0x220c64(0x9c3)](_0x220c64(0xc7b)),_0xbecfd2=document[_0x220c64(0x9c3)](_0x220c64(0x613))['value']['toLowerCase']();let _0x40e2be;currentProjectId===_0x220c64(0x297)?_0x40e2be=starredQuizzes:_0x40e2be=allQuizzes;let _0x5844ad=_0x40e2be[_0x220c64(0x23a)](_0x295da2=>_0x295da2[_0x220c64(0x294)][_0x220c64(0x630)]()[_0x220c64(0x436)](_0xbecfd2));_0x5844ad[_0x220c64(0x65c)]((_0x2dc89f,_0x3bec0d)=>new Date(_0x3bec0d[_0x220c64(0x460)])-new Date(_0x2dc89f[_0x220c64(0x460)]));if(_0x5844ad[_0x220c64(0x768)]===0x0){_0x471c85[_0x220c64(0x632)]=_0x220c64(0x558);return;}const _0x4b9f78={},_0x58c9d6=_0x5844ad['map'](async _0x4c34c6=>{const _0x13e6f5=_0x220c64,_0x293a29=collection(db,_0x13e6f5(0xc02)+appId+_0x13e6f5(0x884)+_0x4c34c6['id']+_0x13e6f5(0x959)),_0x181bbd=await getDocs(_0x293a29);_0x4b9f78[_0x4c34c6['id']]=_0x181bbd['size'];});await Promise[_0x220c64(0xbfe)](_0x58c9d6);let _0x4190a0='';_0x5844ad['forEach'](_0x1560bf=>{const _0xbfc434=_0x220c64,_0x9e2441=_0x4b9f78[_0x1560bf['id']]||0x0,_0x40b610=_0x1560bf[_0xbfc434(0xc6c)]||'active',_0x4d3282=_0x1560bf['settings']?.[_0xbfc434(0x53f)]||'none';let _0x268a69='',_0x4edc91='';const _0x1e77b6=new Date();let _0x3d4f85=_0x40b610;if(_0x40b610===_0xbfc434(0xd52)){const _0x1efc69=_0x1560bf['startTime']?new Date(_0x1560bf[_0xbfc434(0xc7d)]):null,_0x22619a=_0x1560bf['endTime']?new Date(_0x1560bf[_0xbfc434(0x15e)]):null;if(_0x22619a&&_0x1e77b6>_0x22619a)_0x3d4f85=_0xbfc434(0xc08);else _0x1efc69&&_0x1e77b6<_0x1efc69?_0x3d4f85='scheduled_pending':_0x3d4f85=_0xbfc434(0x471);}switch(_0x3d4f85){case _0xbfc434(0xc08):_0x268a69=_0xbfc434(0x965),_0x4edc91=_0xbfc434(0x65a);break;case _0xbfc434(0x202):_0x268a69=_0xbfc434(0xa8d),_0x4edc91=_0xbfc434(0x51c);break;case'active':_0x268a69=_0x4d3282!==_0xbfc434(0x8be)?_0xbfc434(0x48d):_0xbfc434(0xacc),_0x4edc91=_0xbfc434(0xcc7);break;default:_0x268a69='ตั้งเวลา\x20(เปิด)',_0x4edc91=_0xbfc434(0xcc7);break;}let _0xde1680='';const _0x5e94bf={'day':_0xbfc434(0xd57),'month':_0xbfc434(0xd57),'year':_0xbfc434(0xd24),'hour':_0xbfc434(0xd57),'minute':_0xbfc434(0xd57),'hour12':![]};if(_0x40b610===_0xbfc434(0xd52)){if(_0x1560bf[_0xbfc434(0xc7d)])_0xde1680+=_0xbfc434(0x955)+new Date(_0x1560bf['startTime'])[_0xbfc434(0x270)](_0xbfc434(0xc7e),_0x5e94bf)+_0xbfc434(0x708);if(_0x1560bf['endTime'])_0xde1680+=_0xbfc434(0x6df)+new Date(_0x1560bf[_0xbfc434(0x15e)])[_0xbfc434(0x270)](_0xbfc434(0xc7e),_0x5e94bf)+_0xbfc434(0x708);}let _0x57b074='';if(_0x1560bf[_0xbfc434(0x188)]){const _0x5bc1f6=allQuizzes[_0xbfc434(0x52d)](_0x1c98f3=>_0x1c98f3['id']===_0x1560bf[_0xbfc434(0x188)]);if(_0x5bc1f6){let _0x37dbc6,_0x16e7d3;new Date(_0x1560bf[_0xbfc434(0x460)])<new Date(_0x5bc1f6[_0xbfc434(0x460)])?(_0x37dbc6=_0x1560bf['id'],_0x16e7d3=_0x5bc1f6['id']):(_0x37dbc6=_0x5bc1f6['id'],_0x16e7d3=_0x1560bf['id']),_0x57b074+=_0xbfc434(0x3fa)+_0x16e7d3+_0xbfc434(0xbcd)+_0x37dbc6+_0xbfc434(0xa17);}}else _0x1560bf['quizMode']===_0xbfc434(0x894)&&(_0x57b074+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1560bf['id']+_0xbfc434(0x8ec));if(_0x1560bf[_0xbfc434(0x438)]==='pre-test'&&_0x9e2441>0x0)_0x57b074+=_0xbfc434(0x8a0)+_0x1560bf['id']+_0xbfc434(0x61b);else!_0x1560bf[_0xbfc434(0x188)]&&_0x1560bf['quizMode']!==_0xbfc434(0x894)&&_0x9e2441>0x0&&(_0x57b074+=_0xbfc434(0x8a0)+_0x1560bf['id']+_0xbfc434(0xce0));let _0x28d4c6='';_0x1560bf['pairedQuizId']?_0x28d4c6='<button\x20data-quiz-id=\x22'+_0x1560bf['id']+_0xbfc434(0x6c7):_0x28d4c6=_0xbfc434(0xcb8)+_0x1560bf['id']+_0xbfc434(0xa95),_0x4190a0+=_0xbfc434(0xc6d)+_0x1560bf['id']+_0xbfc434(0x278)+_0x1560bf['topic']+_0xbfc434(0x4c6)+_0x1560bf[_0xbfc434(0xca5)][_0xbfc434(0x768)]+_0xbfc434(0x232)+new Date(_0x1560bf[_0xbfc434(0x460)])[_0xbfc434(0x270)](_0xbfc434(0xc7e))+_0xbfc434(0x647)+_0x9e2441+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xde1680+_0xbfc434(0x4fc)+_0x4edc91+'\x22>'+_0x268a69+_0xbfc434(0xcc4)+_0x1560bf['id']+_0xbfc434(0xba5)+_0x1560bf['id']+_0xbfc434(0x907)+(_0x1560bf['isStarred']?_0xbfc434(0x15b):_0xbfc434(0x371))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57b074+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1560bf['id']+_0xbfc434(0xb90)+_0x1560bf['id']+_0xbfc434(0xaa4)+_0x1560bf['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1560bf['id']+_0xbfc434(0x6b3)+_0x1560bf['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1560bf['id']+_0xbfc434(0x761)+_0x1560bf['id']+_0xbfc434(0xcd1)+_0x1560bf['topic']+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1560bf['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1560bf['id']+_0xbfc434(0x311)+_0x28d4c6+_0xbfc434(0x96c)+_0x1560bf['id']+_0xbfc434(0x69f)+_0x1560bf['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1560bf['id']+_0xbfc434(0x330)+_0x1560bf['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1560bf['id']+_0xbfc434(0xd3d)+_0x1560bf['id']+_0xbfc434(0xc55)+_0x1560bf['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1560bf['id']+_0xbfc434(0xcd1)+_0x1560bf[_0xbfc434(0x294)]+_0xbfc434(0x227)+_0x1560bf['id']+_0xbfc434(0x4ed);}),_0x471c85[_0x220c64(0x632)]=_0x4190a0,document[_0x220c64(0xc76)]('.quiz-result-card')[_0x220c64(0x326)](_0x4d8d4f=>{const _0x1b3a05=_0x220c64;_0x4d8d4f['addEventListener'](_0x1b3a05(0xba1),()=>{const _0x3f454b=_0x1b3a05,_0x5a24b4=_0x4d8d4f['dataset'][_0x3f454b(0x8c4)];showQuizDetailView(_0x5a24b4);});});}async function handleUnpairQuiz(_0x32c36a){const _0x197684=_0x15d57d,_0x1eddd7=allQuizzes[_0x197684(0x52d)](_0x1bc46a=>_0x1bc46a['id']===_0x32c36a);if(!_0x1eddd7||!_0x1eddd7[_0x197684(0x188)]){showMessage(_0x197684(0x2d4));return;}showConfirmation(_0x197684(0x8f8),async()=>{const _0x30ab8c=_0x197684;try{const _0x2305fd=doc(db,_0x30ab8c(0xc02)+appId+'/public/data/quizzes',_0x32c36a),_0x4a0fd1=doc(db,_0x30ab8c(0xc02)+appId+_0x30ab8c(0x21e),_0x1eddd7[_0x30ab8c(0x188)]),_0x5ef4e4=writeBatch(db);_0x5ef4e4[_0x30ab8c(0xae8)](_0x2305fd,{'pairedQuizId':null}),_0x5ef4e4['update'](_0x4a0fd1,{'pairedQuizId':null}),await _0x5ef4e4[_0x30ab8c(0x281)](),showMessage(_0x30ab8c(0x77d));}catch(_0x29065d){console['error'](_0x30ab8c(0xab6),_0x29065d),showMessage(_0x30ab8c(0xc03));}});}function formatAndPrintLessonPlan(_0x117675,_0x4d126a){const _0xd53afe=_0x15d57d,_0x556262=window[_0xd53afe(0x9d4)]('',_0xd53afe(0x9de)),_0x1d3799=_0xd53afe(0xb4a)+_0x4d126a[_0xd53afe(0x294)]+_0xd53afe(0x5cb)+_0x4d126a[_0xd53afe(0x294)]+_0xd53afe(0xa66)+_0x117675[_0xd53afe(0x5f7)][_0xd53afe(0x929)](_0x535485=>_0xd53afe(0x938)+_0x535485+'</li>')['join']('')+_0xd53afe(0x3c1)+_0x117675[_0xd53afe(0x492)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x117675[_0xd53afe(0xb4f)][_0xd53afe(0x929)](_0x25fd93=>_0xd53afe(0x891)+_0x25fd93[_0xd53afe(0x327)]+_0xd53afe(0xa47)+_0x25fd93['solution']+_0xd53afe(0x2e1))[_0xd53afe(0xb2d)]('')+_0xd53afe(0x356);_0x556262[_0xd53afe(0x83a)][_0xd53afe(0x491)](_0x1d3799),_0x556262['document'][_0xd53afe(0xa13)](),_0x556262['onload']=function(){setTimeout(()=>{const _0x3d1e44=_0x344c;_0x556262[_0x3d1e44(0x8cf)]();},0x3e8);};}async function handleAiFixFormula(_0x3677b7){const _0x5e756c=_0x15d57d,_0x314fca=document[_0x5e756c(0x8da)](_0x5e756c(0xad7)+_0x3677b7+'\x22]');if(!_0x314fca)return;const _0x334fe1=_0x314fca['dataset'][_0x5e756c(0x81e)],_0xc27443=_0x314fca[_0x5e756c(0x8da)](_0x5e756c(0xc60));let _0x43adc3={'question':_0x314fca[_0x5e756c(0x8da)](_0x5e756c(0xd15))[_0x5e756c(0x3bb)]};switch(_0x334fe1){case _0x5e756c(0x3ee):_0x43adc3[_0x5e756c(0x78a)]=Array[_0x5e756c(0x657)](_0x314fca[_0x5e756c(0xc76)]('input[type=\x22text\x22]'))[_0x5e756c(0x929)](_0x169509=>_0x169509['value']);break;case _0x5e756c(0x31e):_0x43adc3[_0x5e756c(0x59a)]=_0x314fca[_0x5e756c(0x8da)](_0x5e756c(0x501))[_0x5e756c(0x3bb)];break;case'matching_item':_0x43adc3[_0x5e756c(0xbfc)]=_0x314fca[_0x5e756c(0x8da)]('.correct-response-input')['value'];break;}_0xc27443[_0x5e756c(0x632)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0xc27443[_0x5e756c(0x704)]=!![];try{const _0x4a1dba=_0x5e756c(0x4ef)+JSON[_0x5e756c(0x933)](_0x43adc3)+_0x5e756c(0x158),_0xc8de48={'type':_0x5e756c(0x5e7),'properties':{'fixedData':{'type':_0x5e756c(0x5e7),'properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x5e756c(0x239)}},'idealAnswer':{'type':_0x5e756c(0x239)},'correctResponse':{'type':_0x5e756c(0x239)}},'required':[_0x5e756c(0x327)]}},'required':[_0x5e756c(0x334)]},_0x962afb=await callAnalysisApi(_0x4a1dba,_0xc8de48);if(_0x962afb&&_0x962afb[_0x5e756c(0x334)]){const _0x4f381b=_0x962afb[_0x5e756c(0x334)];_0x314fca[_0x5e756c(0x8da)](_0x5e756c(0xd15))[_0x5e756c(0x3bb)]=_0x4f381b[_0x5e756c(0x327)]||_0x43adc3[_0x5e756c(0x327)];switch(_0x334fe1){case _0x5e756c(0x3ee):_0x4f381b['options']&&_0x4f381b['options'][_0x5e756c(0x768)]>0x0&&_0x314fca[_0x5e756c(0xc76)](_0x5e756c(0x25c))['forEach']((_0x5cb46a,_0x3e9e98)=>{const _0x37ad79=_0x5e756c;_0x5cb46a[_0x37ad79(0x3bb)]=_0x4f381b[_0x37ad79(0x78a)][_0x3e9e98]||_0x43adc3[_0x37ad79(0x78a)][_0x3e9e98];});break;case _0x5e756c(0x31e):_0x314fca[_0x5e756c(0x8da)](_0x5e756c(0x501))[_0x5e756c(0x3bb)]=_0x4f381b['idealAnswer']||_0x43adc3[_0x5e756c(0x59a)];break;case _0x5e756c(0xb59):_0x314fca[_0x5e756c(0x8da)](_0x5e756c(0x39d))[_0x5e756c(0x3bb)]=_0x4f381b[_0x5e756c(0xbfc)]||_0x43adc3['correctResponse'];break;}if(_0x43adc3[_0x5e756c(0x327)]!==_0x4f381b[_0x5e756c(0x327)])try{const _0xef0554=collection(db,_0x5e756c(0xc02)+appId+_0x5e756c(0xa8e));await addDoc(_0xef0554,{'broken':_0x43adc3['question'],'fixed':_0x4f381b[_0x5e756c(0x327)],'createdAt':serverTimestamp()});}catch(_0x5cf1ae){console[_0x5e756c(0x1c0)](_0x5e756c(0x2e5),_0x5cf1ae);}showMessage(_0x5e756c(0x8af));}else throw new Error(_0x5e756c(0x643));}catch(_0x143a9c){console[_0x5e756c(0x1c0)](_0x5e756c(0xa23),_0x143a9c),showMessage(_0x5e756c(0x76f));}finally{_0xc27443[_0x5e756c(0x632)]=_0x5e756c(0x170),_0xc27443[_0x5e756c(0x704)]=![];}}async function handleGenerateLessonPlan(_0x1f0244){const _0x25003f=_0x15d57d;showMessage(_0x25003f(0x573));try{const _0x509590=doc(db,_0x25003f(0xc02)+appId+'/public/data/quizzes',_0x1f0244),_0xb26184=await getDoc(_0x509590);if(!_0xb26184[_0x25003f(0x6b5)]())throw new Error(_0x25003f(0x4a9));const _0x5d5e84={'id':_0x1f0244,..._0xb26184[_0x25003f(0xc5f)]()},_0x302e17=collection(db,_0x25003f(0xc02)+appId+_0x25003f(0x21e),_0x1f0244,_0x25003f(0xc14)),_0x4df1b8=await getDocs(_0x302e17),_0xfc1ae0=_0x4df1b8[_0x25003f(0x293)][_0x25003f(0x929)](_0x4b3df6=>_0x4b3df6[_0x25003f(0xc5f)]());if(_0xfc1ae0[_0x25003f(0x768)]===0x0)throw new Error(_0x25003f(0x8fd));const _0x621fcc=calculateItemAnalysis(_0x5d5e84,_0xfc1ae0)[_0x25003f(0x38c)],_0x3a17da=calculateDistractorAnalysis(_0x5d5e84,_0xfc1ae0),_0x4df3e1=_0x44835a=>{const _0x51ca73=_0x25003f;if(!_0x44835a)return'';return _0x44835a[_0x51ca73(0x3d0)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x51ca73(0x3d0)](/\n/g,'\x5cn');};let _0x5a4800=_0x25003f(0x71d);_0x5d5e84[_0x25003f(0xca5)][_0x25003f(0x326)]((_0x28c72d,_0x3ca676)=>{const _0x2828db=_0x25003f,_0x4a20f5=_0x621fcc[_0x3ca676]?.['p'][_0x2828db(0x7f1)](0x2)||_0x2828db(0x7d9),_0xeaac8f=_0x621fcc[_0x3ca676]?.['r'][_0x2828db(0x7f1)](0x2)||_0x2828db(0x7d9),_0x18faa0=_0x4df3e1(_0x28c72d[_0x2828db(0xb0e)]||_0x28c72d[_0x2828db(0x176)]);_0x5a4800+=_0x2828db(0xd37)+(_0x3ca676+0x1)+_0x2828db(0x402)+_0x4a20f5+_0x2828db(0x196)+_0xeaac8f+_0x2828db(0xc0b)+_0x18faa0+'\x5cn';if(_0x28c72d['questionType']===_0x2828db(0x3ee)&&_0x3a17da[_0x3ca676]){const _0x235102=_0x3a17da[_0x3ca676],_0x1c7502=Object[_0x2828db(0x906)](_0x235102)[_0x2828db(0x23a)](_0x504245=>parseInt(_0x504245)!==_0x28c72d[_0x2828db(0xa02)])[_0x2828db(0x65c)]((_0x35c8de,_0x5d9afa)=>_0x235102[_0x5d9afa][_0x2828db(0x496)]-_0x235102[_0x35c8de]['total'])[0x0];if(_0x1c7502&&_0x235102[_0x1c7502][_0x2828db(0x496)]>0x0){const _0x5d2bd8=_0x4df3e1(_0x235102[_0x1c7502]['text']);_0x5a4800+=_0x2828db(0xad3)+_0x5d2bd8+_0x2828db(0xb3b);}}});const _0xc04a8b=_0x25003f(0x216)+_0x5d5e84[_0x25003f(0x294)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a4800+_0x25003f(0x441),_0x1a2b43={'type':_0x25003f(0x5e7),'properties':{'learningGaps':{'type':_0x25003f(0x922),'items':{'type':'STRING'}},'teachingContent':{'type':_0x25003f(0x239)},'practiceProblems':{'type':_0x25003f(0x922),'items':{'type':'OBJECT','properties':{'question':{'type':_0x25003f(0x239)},'solution':{'type':_0x25003f(0x239)}}}}},'required':['learningGaps',_0x25003f(0x492),_0x25003f(0xb4f)]},_0x19f64d=await callAnalysisApi(_0xc04a8b,_0x1a2b43);await updateDoc(_0x509590,{'lessonPlan':_0x19f64d});const _0x122784=_0x25003f(0x29f)+_0x5d5e84[_0x25003f(0x294)]+_0x25003f(0xcad)+_0x19f64d[_0x25003f(0x5f7)][_0x25003f(0x929)](_0x25401e=>_0x25003f(0x938)+_0x25401e+_0x25003f(0x5b0))['join']('')+_0x25003f(0xa25)+_0x19f64d[_0x25003f(0x492)]+_0x25003f(0xbbc)+_0x19f64d[_0x25003f(0xb4f)]['map'](_0x1b8490=>_0x25003f(0x715)+_0x1b8490[_0x25003f(0x327)]+_0x25003f(0xd51)+_0x1b8490[_0x25003f(0xcc1)]+_0x25003f(0xa6e))[_0x25003f(0xb2d)]('')+_0x25003f(0xd11);document[_0x25003f(0x9c3)](_0x25003f(0x750))['textContent']=_0x25003f(0x582)+_0x5d5e84[_0x25003f(0x294)],document[_0x25003f(0x9c3)](_0x25003f(0x565))[_0x25003f(0x632)]=_0x122784,document['getElementById'](_0x25003f(0x8a8))[_0x25003f(0xcbe)][_0x25003f(0xa49)](_0x25003f(0x8e4));if(window[_0x25003f(0x1b4)])MathJax[_0x25003f(0xc2c)]();messageModal[_0x25003f(0xcbe)][_0x25003f(0xa54)]('hidden');}catch(_0x4e4f66){console[_0x25003f(0x1c0)](_0x25003f(0x4c3),_0x4e4f66),showMessage(_0x25003f(0x5a0)+_0x4e4f66[_0x25003f(0xce4)]);}}async function handleDuplicateQuiz(_0x7f26fa){const _0x4079d0=_0x15d57d;try{const _0x46f02f=doc(db,_0x4079d0(0xc02)+appId+_0x4079d0(0x21e),_0x7f26fa),_0x92bbcd=await getDoc(_0x46f02f);if(_0x92bbcd[_0x4079d0(0x6b5)]()){const _0xfec9c4=_0x92bbcd[_0x4079d0(0xc5f)]();let _0x34f341='',_0xb1102b=_0x4079d0(0xb84),_0x449de1=null;if(_0xfec9c4[_0x4079d0(0x438)]===_0x4079d0(0x894)){let _0x34d544=_0xfec9c4[_0x4079d0(0x294)][_0x4079d0(0x3d0)]('(ก่อนเรียน)','')[_0x4079d0(0xa93)]();_0x34f341='(หลังเรียน)\x20'+_0x34d544,_0xb1102b='post-test',_0x449de1=_0x7f26fa;}else _0x34f341=_0x4079d0(0x987)+_0xfec9c4[_0x4079d0(0x294)];const _0x39ccd3={..._0xfec9c4,'topic':_0x34f341,'createdAt':new Date()[_0x4079d0(0xbb3)](),'quizMode':_0xb1102b,'pairedQuizId':_0x449de1};let _0x4c6404;while(!![]){_0x4c6404=Math['floor'](0x3e8+Math[_0x4079d0(0x2e8)]()*0x2328)[_0x4079d0(0x771)]();const _0x493c17=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4c6404));if(!_0x493c17[_0x4079d0(0x6b5)]())break;}const _0x59c9d6=doc(db,_0x4079d0(0xc02)+appId+_0x4079d0(0x21e),_0x4c6404);await setDoc(_0x59c9d6,_0x39ccd3),_0x39ccd3['quizMode']===_0x4079d0(0xb2a)&&await updateDoc(_0x46f02f,{'pairedQuizId':_0x4c6404}),showMessage(_0x4079d0(0xb3d));}else throw new Error(_0x4079d0(0xb3f));}catch(_0x2aa837){console[_0x4079d0(0x1c0)](_0x4079d0(0x8b9),_0x2aa837),showMessage(_0x4079d0(0x8dc));}}async function handleDeleteQuiz(_0x438504,_0x12e7de=!![]){const _0x411f09=_0x15d57d;try{const _0x4ec674=writeBatch(db),_0x1d4d6c=collection(db,_0x411f09(0xc02)+appId+_0x411f09(0x884)+_0x438504+_0x411f09(0x959)),_0x55bed8=await getDocs(_0x1d4d6c);_0x55bed8[_0x411f09(0x326)](_0x20498b=>{const _0x41161f=_0x411f09;_0x4ec674[_0x41161f(0xa33)](doc(_0x1d4d6c,_0x20498b['id']));});const _0x4b69c8=doc(db,_0x411f09(0xc02)+appId+_0x411f09(0x21e),_0x438504);_0x4ec674['delete'](_0x4b69c8),await _0x4ec674['commit']();try{console['log'](_0x411f09(0x990)+_0x438504+_0x411f09(0x98f));const _0x6734d=collection(db,_0x411f09(0xc02)+appId+'/public/data/blueprintProjects'),_0x23f729=await getDocs(_0x6734d),_0x1ac1c6=[];_0x23f729[_0x411f09(0x326)](_0x3aabd7=>{const _0x101773=_0x411f09,_0x560cbf=_0x3aabd7[_0x101773(0xc5f)](),_0x59cec2=_0x560cbf[_0x101773(0x2d3)]||{};let _0x2967c1=![];for(const _0x3990d4 in _0x59cec2){const _0x5db61a=_0x59cec2[_0x3990d4];if(_0x5db61a[_0x101773(0x8ea)]&&_0x5db61a[_0x101773(0x8ea)][_0x101773(0x436)](_0x438504)){_0x2967c1=!![];const _0x4bc1fe=doc(db,_0x101773(0xc02)+appId+'/public/data/blueprintProjects',_0x3aabd7['id']),_0x1014e7=updateDoc(_0x4bc1fe,{[_0x101773(0x5fb)+_0x3990d4+_0x101773(0xd45)]:arrayRemove(_0x438504)});_0x1ac1c6['push'](_0x1014e7);}}}),_0x1ac1c6[_0x411f09(0x768)]>0x0&&(await Promise[_0x411f09(0xbfe)](_0x1ac1c6),console[_0x411f09(0xb0b)](_0x411f09(0xd1d)+_0x1ac1c6[_0x411f09(0x768)]+_0x411f09(0x77b)+_0x438504+'.'));}catch(_0x45f4a4){console[_0x411f09(0x1c0)](_0x411f09(0x361),_0x45f4a4);}_0x12e7de&&showMessage(_0x411f09(0xba2));}catch(_0x3e259b){console[_0x411f09(0x1c0)](_0x411f09(0xcb2),_0x3e259b),_0x12e7de&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x5b1449){const _0x237184=_0x15d57d;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x237184(0xb66));try{const _0x5dddfb=doc(db,_0x237184(0xc02)+appId+_0x237184(0x21e),_0x5b1449),_0x14fecc=await getDoc(_0x5dddfb);if(!_0x14fecc[_0x237184(0x6b5)]()){showMessage(_0x237184(0x4a9));return;}const _0xaafe3={'id':_0x14fecc['id'],..._0x14fecc[_0x237184(0xc5f)]()};currentQuizData=_0xaafe3;const _0x266f64=doc(db,'artifacts/'+appId+_0x237184(0x47e),_0xaafe3['projectId']),_0x111e41=await getDoc(_0x266f64);_0x111e41[_0x237184(0x6b5)]()?(currentProjectData=_0x111e41[_0x237184(0xc5f)](),currentProjectId=_0xaafe3[_0x237184(0x257)]):(currentProjectData={'students':[]},currentProjectId=_0xaafe3[_0x237184(0x257)]);document['getElementById'](_0x237184(0xcc3))[_0x237184(0xafb)]=_0xaafe3[_0x237184(0x294)],document[_0x237184(0x9c3)](_0x237184(0x841))['textContent']=_0x5b1449;const _0x334021=collection(db,_0x237184(0xc02)+appId+_0x237184(0x21e),_0x5b1449,_0x237184(0xc14));unsubscribeSubmissionsListener=onSnapshot(_0x334021,_0x243305=>{const _0x3e1e6d=_0x237184,_0x12d201=_0x243305['docs']['map'](_0x5d15c8=>({'id':_0x5d15c8['id'],..._0x5d15c8[_0x3e1e6d(0xc5f)]()}));currentSubmissions=_0x12d201;const _0x1bbad7=_0x12d201[_0x3e1e6d(0x23a)](_0x4638f9=>_0x4638f9[_0x3e1e6d(0xa20)]&&_0x4638f9[_0x3e1e6d(0xa20)][_0x3e1e6d(0x768)]>0x0);renderBehaviorLog(_0x12d201),renderAnswerGrid(currentProjectData[_0x3e1e6d(0x535)],_0x1bbad7,_0xaafe3),renderAnalytics(_0xaafe3,_0x1bbad7),renderQuizResultsTable(currentProjectData[_0x3e1e6d(0x535)],_0x12d201,_0xaafe3),renderQuizLeaderboard(_0x1bbad7,_0xaafe3,_0x3e1e6d(0xb50));}),showView(_0x237184(0x5ad));}catch(_0x2efec4){console[_0x237184(0x1c0)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x2efec4),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x465b56,_0x2b555b,_0x1cfc86){const _0x4e4437=_0x15d57d,_0x497949=document[_0x4e4437(0x9c3)](_0x4e4437(0xadc));if(!_0x497949)return;if(!_0x465b56||_0x465b56[_0x4e4437(0x768)]===0x0){_0x497949[_0x4e4437(0x632)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x2bfae5=_0x1cfc86[_0x4e4437(0xca5)],_0xbf17ae=_0x2b555b[_0x4e4437(0x4f4)]((_0x49454e,_0x51f715)=>{const _0x4d23d1=_0x4e4437;return _0x49454e[_0x51f715[_0x4d23d1(0x552)]]=_0x51f715,_0x49454e;},{}),_0x36f7d6=_0x77293a=>String[_0x4e4437(0x7e3)](0x41+_0x77293a),_0x6b7c94=_0x321013=>{const _0x4f8c2e=_0x4e4437,_0x3152e1=_0x321013[_0x4f8c2e(0xc6a)]||_0x1cfc86[_0x4f8c2e(0x434)];switch(_0x3152e1){case'multiple_choice':return _0x321013[_0x4f8c2e(0x78a)]&&_0x321013[_0x4f8c2e(0x78a)][_0x4f8c2e(0x768)]>_0x321013['correctAnswerIndex']?_0x36f7d6(_0x321013['correctAnswerIndex']):'-';case _0x4f8c2e(0x160):const _0x2632f2=_0x321013[_0x4f8c2e(0xa79)]===!![]||String(_0x321013[_0x4f8c2e(0xa79)])[_0x4f8c2e(0x630)]()===_0x4f8c2e(0x596);return _0x2632f2?_0x4f8c2e(0x486):_0x4f8c2e(0x5ab);case _0x4f8c2e(0xb59):return _0x321013['correctResponse']||'-';case _0x4f8c2e(0x31e):return _0x4f8c2e(0x838);default:return'-';}},_0x2719e2=(_0x38ae73,_0xeabae6)=>{const _0xa8a117=_0x4e4437;if(_0xeabae6[_0xa8a117(0xb80)]===null||_0xeabae6[_0xa8a117(0xb80)]===undefined)return'-';const _0x44ac3e=_0x38ae73[_0xa8a117(0xc6a)]||_0x1cfc86['quizType'];switch(_0x44ac3e){case _0xa8a117(0x3ee):const _0x11d3b9=_0x38ae73[_0xa8a117(0x78a)][_0xa8a117(0xcae)](_0x2d4e07=>_0x2d4e07===_0xeabae6[_0xa8a117(0x28e)]);return _0x11d3b9!==-0x1?_0x36f7d6(_0x11d3b9):_0xeabae6[_0xa8a117(0x28e)]||'-';case _0xa8a117(0x160):if(_0xeabae6[_0xa8a117(0xb80)]=='0'||_0xeabae6[_0xa8a117(0xb80)]===!![]||_0xeabae6['answer']==='true')return'ใช่';return'ไม่ใช่';default:return _0xeabae6[_0xa8a117(0xb80)];}};let _0x2733f0=_0x4e4437(0x3c5)+_0x2bfae5['map']((_0x560b41,_0x216167)=>_0x4e4437(0xd3f)+(_0x216167+0x1)+'</th>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2bfae5[_0x4e4437(0x929)](_0x4a2817=>_0x4e4437(0x4a8)+_0x6b7c94(_0x4a2817)+_0x4e4437(0xc10))[_0x4e4437(0xb2d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x465b56[_0x4e4437(0x326)](_0x41c446=>{const _0x3ce9a6=_0x4e4437;_0x2733f0+=_0x3ce9a6(0x269),_0x2733f0+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x41c446+_0x3ce9a6(0xc10);const _0x49f644=_0xbf17ae[_0x41c446];if(_0x49f644){const _0x57bf0f=_0x49f644[_0x3ce9a6(0xa20)][_0x49f644[_0x3ce9a6(0xa20)]['length']-0x1];_0x2bfae5[_0x3ce9a6(0x326)]((_0x5c9b66,_0x4d4bf4)=>{const _0x31709e=_0x3ce9a6,_0x5200d0=_0x57bf0f['answers'][_0x31709e(0x52d)](_0x138677=>_0x138677[_0x31709e(0xca0)]===_0x5c9b66['id']);if(_0x5200d0){let _0x722346='';const _0x44d083=_0x5200d0['isCorrect']===!![],_0x4b9f8b=_0x5200d0['wasConfident']===!![]||_0x5200d0[_0x31709e(0x273)]==='confident';_0x4b9f8b?_0x722346=_0x44d083?'bg-green-400\x20text-white\x20font-bold':_0x31709e(0x89f):_0x722346=_0x44d083?_0x31709e(0x7c3):_0x31709e(0x49e),_0x2733f0+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x722346+'\x22>'+_0x2719e2(_0x5c9b66,_0x5200d0)+_0x31709e(0xc10);}else _0x2733f0+=_0x31709e(0x669);});}else _0x2733f0+=_0x2bfae5[_0x3ce9a6(0x929)](()=>_0x3ce9a6(0x8b8))[_0x3ce9a6(0xb2d)]('');_0x2733f0+=_0x3ce9a6(0x83e);}),_0x2733f0+=_0x4e4437(0x1cc),_0x497949[_0x4e4437(0x632)]=_0x2733f0;}function renderQuizResultsTable(_0x5537b2,_0x1a1be9,_0x4293d1){const _0x19a670=_0x15d57d,_0x16a107=_0x1a1be9[_0x19a670(0x4f4)]((_0x46bcd0,_0x5aedae)=>{const _0x209b7f=_0x19a670;return _0x46bcd0[_0x5aedae[_0x209b7f(0x552)]]=_0x5aedae,_0x46bcd0;},{}),_0x581fb4=document[_0x19a670(0x8da)](_0x19a670(0x133));_0x581fb4&&!_0x581fb4[_0x19a670(0x632)][_0x19a670(0x436)](_0x19a670(0x4b3))&&(_0x581fb4['innerHTML']+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x113454=document[_0x19a670(0x9c3)](_0x19a670(0x360));if(!_0x5537b2||_0x5537b2[_0x19a670(0x768)]===0x0){_0x113454[_0x19a670(0x632)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x11315c=_0x4293d1[_0x19a670(0x691)]===!![],_0x18d012=_0x4293d1['settings']?.[_0x19a670(0x675)]??-0x1;let _0x361f8e='';_0x5537b2[_0x19a670(0x326)](_0x54301d=>{const _0x2c136e=_0x19a670,_0xd78995=_0x16a107[_0x54301d];let _0xdb1c62='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x11315c?_0x2c136e(0xa4c):_0x2c136e(0x5a3))+'\x22>'+(_0x11315c?'สอบซ่อม':_0x2c136e(0x5ef))+_0x2c136e(0x6a9);if(_0xd78995){if(_0xd78995[_0x2c136e(0xa20)]&&_0xd78995[_0x2c136e(0xa20)][_0x2c136e(0x768)]>0x0){let _0x2617d2=_0x11315c?_0xd78995[_0x2c136e(0x33d)]===_0xd78995[_0x2c136e(0x5b4)]:_0x18d012!==-0x1&&_0xd78995['bestScore']>=_0x18d012;const _0x574eee=_0x2617d2?_0x2c136e(0x7a8):_0x2c136e(0xb19),_0x449b32=_0x2617d2?_0x2c136e(0x22d):_0x2c136e(0x6de),_0xc7f0d9='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x574eee+'\x22>'+_0x449b32+_0x2c136e(0x6a9),_0x4682aa='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0xd78995[_0x2c136e(0xa20)]?.[_0x2c136e(0x768)]||0x1)+_0x2c136e(0x823);_0x361f8e+=_0x2c136e(0x4af)+_0x54301d+_0x2c136e(0xa89)+_0xd78995[_0x2c136e(0x33d)]+_0x2c136e(0x782)+_0xd78995['totalQuestions']+_0x2c136e(0x6f9)+_0xc7f0d9+_0x2c136e(0x4ca)+_0xdb1c62+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0xd78995['firstScore']+'\x20/\x20'+_0xd78995[_0x2c136e(0x5b4)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0xd78995['latestScore']+'\x20/\x20'+_0xd78995[_0x2c136e(0x5b4)]+_0x2c136e(0xa9b)+(_0xd78995[_0x2c136e(0xc48)]||0x0)+_0x2c136e(0x6f9)+_0x4682aa+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0xd78995['latestSubmittedAt'])[_0x2c136e(0x270)](_0x2c136e(0xc7e))+_0x2c136e(0x656)+_0x54301d+_0x2c136e(0xd4d);}else{const _0x413fd9=_0x2c136e(0x7bd);_0x361f8e+=_0x2c136e(0x6fb)+_0x54301d+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xdb1c62+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x413fd9+_0x2c136e(0x8c6)+new Date(_0xd78995[_0x2c136e(0x43d)])[_0x2c136e(0x270)]('th-TH')+_0x2c136e(0x221)+_0x54301d+_0x2c136e(0xd4d);}}else{const _0x1d9756=_0x2c136e(0x889);_0x361f8e+=_0x2c136e(0x1f9)+_0x54301d+_0x2c136e(0x6a6)+_0xdb1c62+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d9756+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x113454[_0x19a670(0x632)]=_0x361f8e;}async function confirmRenameQuiz(){const _0x217ded=_0x15d57d,_0x1d9954=document[_0x217ded(0x9c3)](_0x217ded(0xd02))[_0x217ded(0x3bb)][_0x217ded(0xa93)]();if(!_0x1d9954){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x52eae1=doc(db,_0x217ded(0xc02)+appId+_0x217ded(0x21e),actionTargetId);try{await updateDoc(_0x52eae1,{'topic':_0x1d9954}),showMessage(_0x217ded(0x429)),renameQuizModal[_0x217ded(0xcbe)]['add'](_0x217ded(0x8e4)),actionTargetId=null;}catch(_0x3601fd){console[_0x217ded(0x1c0)]('Error\x20renaming\x20quiz:',_0x3601fd),showMessage(_0x217ded(0xd13));}}async function handleMoveQuiz(_0x19d19d){const _0x25ae45=_0x15d57d;actionTargetId=_0x19d19d;const _0x16505a=document['getElementById'](_0x25ae45(0x9ae));_0x16505a['innerHTML']=_0x25ae45(0x5e6),moveQuizModal['classList']['remove'](_0x25ae45(0x8e4));try{const _0x347e12=collection(db,'artifacts/'+appId+_0x25ae45(0x47e)),_0x38e62b=await getDocs(_0x347e12),_0x3e375d=_0x38e62b[_0x25ae45(0x293)][_0x25ae45(0x929)](_0x4a65f2=>({'id':_0x4a65f2['id'],..._0x4a65f2[_0x25ae45(0xc5f)]()})),_0x1b3917=_0x3e375d[_0x25ae45(0x23a)](_0x2db07d=>_0x2db07d['id']!==currentProjectId);if(_0x1b3917[_0x25ae45(0x768)]===0x0){_0x16505a[_0x25ae45(0x632)]=_0x25ae45(0x48b),document[_0x25ae45(0x9c3)]('confirm-move-quiz-btn')[_0x25ae45(0x704)]=!![];return;}_0x16505a['innerHTML']=_0x1b3917[_0x25ae45(0x929)](_0x2c1a35=>_0x25ae45(0x1dc)+_0x2c1a35['id']+'\x22>'+_0x2c1a35['projectName']+_0x25ae45(0x9ea))[_0x25ae45(0xb2d)](''),document[_0x25ae45(0x9c3)](_0x25ae45(0x428))[_0x25ae45(0x704)]=![];}catch(_0x2ea7d7){console['error'](_0x25ae45(0x90e),_0x2ea7d7),showMessage(_0x25ae45(0x369)),moveQuizModal[_0x25ae45(0xcbe)][_0x25ae45(0xa54)]('hidden');}}async function confirmMoveQuiz(){const _0x5e7dd2=_0x15d57d,_0x37c963=document[_0x5e7dd2(0x9c3)](_0x5e7dd2(0x9ae))[_0x5e7dd2(0x3bb)];if(!_0x37c963){showMessage(_0x5e7dd2(0x9df));return;}if(!actionTargetId)return;const _0x2a62aa=doc(db,_0x5e7dd2(0xc02)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x2a62aa,{'projectId':_0x37c963}),showMessage(_0x5e7dd2(0xb6f)),moveQuizModal[_0x5e7dd2(0xcbe)][_0x5e7dd2(0xa54)]('hidden'),actionTargetId=null;}catch(_0x2088e5){console[_0x5e7dd2(0x1c0)](_0x5e7dd2(0xc45),_0x2088e5),showMessage(_0x5e7dd2(0x1d7));}}async function handleQuizSettings(_0x94727e){const _0x3bd78a=_0x15d57d;actionTargetId=_0x94727e;const _0x33fa1f=doc(db,_0x3bd78a(0xc02)+appId+'/public/data/quizzes',_0x94727e);try{const _0x4e4c10=await getDoc(_0x33fa1f);if(_0x4e4c10[_0x3bd78a(0x6b5)]()){const _0xa2f462=_0x4e4c10['data'](),_0x51c38c=_0xa2f462[_0x3bd78a(0x58b)]||{},_0x59ea92=_0xa2f462['questions'][_0x3bd78a(0x768)];document[_0x3bd78a(0x9c3)](_0x3bd78a(0x143))[_0x3bd78a(0x3bb)]=_0x51c38c[_0x3bd78a(0x476)]||_0x3bd78a(0x8be),document[_0x3bd78a(0x9c3)](_0x3bd78a(0x4ff))[_0x3bd78a(0x3bb)]=_0x51c38c[_0x3bd78a(0x662)]||_0x3bd78a(0x477),document[_0x3bd78a(0x9c3)](_0x3bd78a(0x6ef))[_0x3bd78a(0x3bb)]=_0x51c38c[_0x3bd78a(0x53f)]||_0x3bd78a(0x8be),document[_0x3bd78a(0x9c3)](_0x3bd78a(0xa15))[_0x3bd78a(0x3bb)]=_0x51c38c[_0x3bd78a(0x5b9)]||0xa,document['getElementById'](_0x3bd78a(0x919))[_0x3bd78a(0x3bb)]=_0x51c38c[_0x3bd78a(0x675)]||Math[_0x3bd78a(0x423)](_0x59ea92/0x2),document['getElementById'](_0x3bd78a(0x919))[_0x3bd78a(0x35d)]=_0x59ea92,document[_0x3bd78a(0x9c3)](_0x3bd78a(0x612))[_0x3bd78a(0x57b)]=_0x51c38c[_0x3bd78a(0xb45)]||![],document[_0x3bd78a(0x9c3)](_0x3bd78a(0x82e))[_0x3bd78a(0x57b)]=_0x51c38c[_0x3bd78a(0x56e)]||![];const _0x49629c=_0x51c38c[_0x3bd78a(0x602)]||![];document[_0x3bd78a(0x9c3)]('modal-confidence-scoring-checkbox')[_0x3bd78a(0x57b)]=_0x49629c,document[_0x3bd78a(0x9c3)](_0x3bd78a(0x822))[_0x3bd78a(0x3bb)]=_0x51c38c[_0x3bd78a(0xb91)]||'checkbox';const _0x3b1a83=document[_0x3bd78a(0x9c3)](_0x3bd78a(0x9ac));_0x3b1a83[_0x3bd78a(0xcbe)][_0x3bd78a(0xd50)]('hidden',!_0x49629c),document['getElementById']('modal-timer-mode-select')['dispatchEvent'](new Event(_0x3bd78a(0x557))),quizSettingsModal[_0x3bd78a(0xcbe)][_0x3bd78a(0xa49)](_0x3bd78a(0x8e4));}else showMessage(_0x3bd78a(0x4a9));}catch(_0x40fe48){console['error'](_0x3bd78a(0x288),_0x40fe48),showMessage(_0x3bd78a(0x622));}}async function confirmQuizSettings(){const _0x11316e=_0x15d57d;if(!actionTargetId)return;const _0x3aca2e=doc(db,_0x11316e(0xc02)+appId+_0x11316e(0x21e),actionTargetId),_0x214c52={'shuffle':document[_0x11316e(0x9c3)](_0x11316e(0x143))[_0x11316e(0x3bb)],'resultsDisplay':document[_0x11316e(0x9c3)]('modal-results-display-select')[_0x11316e(0x3bb)],'timerMode':document[_0x11316e(0x9c3)](_0x11316e(0x6ef))[_0x11316e(0x3bb)],'timerDuration':parseInt(document[_0x11316e(0x9c3)](_0x11316e(0xa15))[_0x11316e(0x3bb)])||0xa,'passingScore':parseInt(document[_0x11316e(0x9c3)](_0x11316e(0x919))['value'])||0x0,'isAdaptive':document[_0x11316e(0x9c3)](_0x11316e(0x612))[_0x11316e(0x57b)],'loopUntilPass':document[_0x11316e(0x9c3)](_0x11316e(0x82e))[_0x11316e(0x57b)],'isConfidenceScoringEnabled':document[_0x11316e(0x9c3)]('modal-confidence-scoring-checkbox')[_0x11316e(0x57b)],'confidenceMode':document[_0x11316e(0x9c3)](_0x11316e(0x822))['value']};try{await updateDoc(_0x3aca2e,{'settings':_0x214c52}),showMessage(_0x11316e(0x67f)),quizSettingsModal[_0x11316e(0xcbe)][_0x11316e(0xa54)]('hidden'),actionTargetId=null;}catch(_0x2adedd){console['error'](_0x11316e(0x64e),_0x2adedd),showMessage(_0x11316e(0xd31));}}async function confirmQuizStatus(){const _0x57093a=_0x15d57d;if(!actionTargetId)return;const _0x4a578e=doc(db,_0x57093a(0xc02)+appId+_0x57093a(0x21e),actionTargetId),_0x508956=document[_0x57093a(0x8da)]('input[name=\x22status-option\x22]:checked');if(!_0x508956){showMessage(_0x57093a(0xb9c));return;}const _0x441c55=_0x508956['value'];let _0x550f82={};if(_0x441c55==='active'||_0x441c55===_0x57093a(0xc08))_0x550f82={'status':_0x441c55,'startTime':null,'endTime':null};else{if(_0x441c55===_0x57093a(0x368)){const _0x8163b7=document[_0x57093a(0x9c3)](_0x57093a(0xc05))['value'],_0x2e6536=document['getElementById'](_0x57093a(0x446))[_0x57093a(0x3bb)];if(!_0x8163b7&&!_0x2e6536){showMessage(_0x57093a(0x946));return;}_0x550f82={'status':'scheduled','startTime':_0x8163b7?new Date(_0x8163b7)[_0x57093a(0xbb3)]():null,'endTime':_0x2e6536?new Date(_0x2e6536)['toISOString']():null};}}try{await updateDoc(_0x4a578e,_0x550f82),showMessage(_0x57093a(0x1fe)),quizStatusModal['classList'][_0x57093a(0xa54)](_0x57093a(0x8e4)),actionTargetId=null;}catch(_0x25c0e5){console[_0x57093a(0x1c0)]('Error\x20updating\x20quiz\x20status:',_0x25c0e5),showMessage(_0x57093a(0x279));}}function listenForStudentProfiles(_0x284cf2){const _0xe5aac6=_0x15d57d,_0xe7c42c=collection(db,_0xe5aac6(0xc02)+appId+'/public/data/projects/'+_0x284cf2+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0xe7c42c,_0x403653=>{const _0xd57d9c=_0xe5aac6,_0x51b44f=_0x403653[_0xd57d9c(0x293)][_0xd57d9c(0x929)](_0x38bd00=>_0x38bd00[_0xd57d9c(0xc5f)]());renderLeaderboard(_0x51b44f,'leaderboard-table-body');},_0x257c64=>{const _0x81567f=_0xe5aac6;console[_0x81567f(0x1c0)](_0x81567f(0x71a),_0x257c64),document[_0x81567f(0x9c3)](_0x81567f(0x2d1))[_0x81567f(0x632)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x275dec,_0x5478f3){const _0x898323=_0x15d57d,_0x191ecb=document[_0x898323(0x9c3)](_0x5478f3);if(!_0x275dec||_0x275dec['length']===0x0){_0x191ecb[_0x898323(0x632)]=_0x898323(0x1af);return;}_0x275dec[_0x898323(0x65c)]((_0x286539,_0x5ceb25)=>{const _0x534297=_0x898323,_0x1ba1fc=(_0x5ceb25[_0x534297(0x5fe)]||0x0)-(_0x286539['totalPoints']||0x0);if(_0x1ba1fc!==0x0)return _0x1ba1fc;const _0x1bb414=(_0x5ceb25[_0x534297(0xcb6)]?.[_0x534297(0x3db)]||0x0)-(_0x286539['badgesCount']?.['specialist']||0x0);if(_0x1bb414!==0x0)return _0x1bb414;const _0x4481f3=(_0x5ceb25[_0x534297(0xcb6)]?.[_0x534297(0x684)]||0x0)-(_0x286539[_0x534297(0xcb6)]?.[_0x534297(0x684)]||0x0);if(_0x4481f3!==0x0)return _0x4481f3;const _0x3c6a8f=(_0x5ceb25['badgesCount']?.[_0x534297(0xae6)]||0x0)-(_0x286539[_0x534297(0xcb6)]?.[_0x534297(0xae6)]||0x0);if(_0x3c6a8f!==0x0)return _0x3c6a8f;const _0x476a4d=(_0x5ceb25[_0x534297(0xcb6)]?.[_0x534297(0xcd9)]||0x0)-(_0x286539[_0x534297(0xcb6)]?.[_0x534297(0xcd9)]||0x0);if(_0x476a4d!==0x0)return _0x476a4d;return _0x286539['studentName'][_0x534297(0x49c)](_0x5ceb25[_0x534297(0x552)],'th');});let _0x5332de='';_0x275dec[_0x898323(0x326)]((_0x121605,_0x37c114)=>{const _0x41270f=_0x898323,_0x4215fb=_0x37c114+0x1,_0x49d4c3=_0x121605[_0x41270f(0xcb6)]||{};let _0x117959='';const _0x4f6ee7=['specialist','perfect_score',_0x41270f(0x684),_0x41270f(0xcd9)];_0x4f6ee7['forEach'](_0x56b9f0=>{const _0x5da7ca=_0x41270f;if(_0x49d4c3[_0x56b9f0]>0x0){const _0xa3d5d5=Object[_0x5da7ca(0x234)](BADGES)[_0x5da7ca(0x52d)](_0x384861=>_0x384861['id']===_0x56b9f0);_0xa3d5d5&&(_0x56b9f0===_0x5da7ca(0x3db)?_0x117959+=_0x5da7ca(0x1c7)+_0xa3d5d5['name']+_0x5da7ca(0x8d2)+_0xa3d5d5[_0x5da7ca(0xbfa)]+_0x5da7ca(0x925):_0x117959+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0xa3d5d5[_0x5da7ca(0x5e1)]+'\x20('+_0x49d4c3[_0x56b9f0]+_0x5da7ca(0x836)+_0xa3d5d5[_0x5da7ca(0xbfa)]+_0x5da7ca(0x339)+_0x49d4c3[_0x56b9f0]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x5332de+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x4215fb+_0x41270f(0x2a2)+_0x121605['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x121605[_0x41270f(0x5fe)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x117959||'-')+_0x41270f(0x898);}),_0x191ecb[_0x898323(0x632)]=_0x5332de;}function displayLoopScreen(_0x494869,_0x5ee374,_0x324a51){const _0x44a75b=_0x15d57d;let _0x468908='';_0x324a51!=='show_pass_fail_only'&&(_0x468908=_0x44a75b(0xd4c)+_0x494869+_0x44a75b(0x782)+_0x5ee374+_0x44a75b(0xbea));const _0x2b5613='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x468908+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x44a75b(0x632)]=_0x2b5613,studentResultArea['classList'][_0x44a75b(0xa49)](_0x44a75b(0x8e4)),studentQuizArea[_0x44a75b(0xcbe)][_0x44a75b(0xa54)](_0x44a75b(0x8e4)),document[_0x44a75b(0x9c3)](_0x44a75b(0x7d4))['addEventListener'](_0x44a75b(0xba1),()=>{const _0x4abfbe=_0x44a75b;studentResultArea[_0x4abfbe(0xcbe)][_0x4abfbe(0xa54)](_0x4abfbe(0x8e4)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0xbe985c,_0x510079,_0x5220ed){const _0x1c2d99=_0x15d57d,_0x1f6426=document[_0x1c2d99(0x9c3)](_0x5220ed),_0x342b6f=_0x5220ed==='student-quiz-leaderboard-table-body',_0x1d9415=_0x510079[_0x1c2d99(0xca5)][_0x1c2d99(0x768)],_0x31e6af=document['getElementById'](_0x5220ed)[_0x1c2d99(0x2fb)](_0x1c2d99(0xb7a));if(_0x31e6af&&!_0x342b6f){const _0x29f904=_0x31e6af[_0x1c2d99(0x8da)](_0x1c2d99(0x806));_0x29f904['innerHTML']=_0x1c2d99(0x50b);}if(!_0xbe985c||_0xbe985c[_0x1c2d99(0x768)]===0x0){_0x1f6426[_0x1c2d99(0x632)]=_0x1c2d99(0x690)+(_0x342b6f?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0xe2b7=[..._0xbe985c];_0xe2b7[_0x1c2d99(0x65c)]((_0x12f6db,_0x48e572)=>{const _0x27d7b3=_0x1c2d99;let _0x294f32,_0xfef47f;switch(quizLeaderboardSortBy){case _0x27d7b3(0x552):_0x294f32=_0x12f6db['studentName']||'',_0xfef47f=_0x48e572[_0x27d7b3(0x552)]||'';return quizLeaderboardSortOrder===_0x27d7b3(0x46e)?_0x294f32['localeCompare'](_0xfef47f,'th'):_0xfef47f[_0x27d7b3(0x49c)](_0x294f32,'th');case _0x27d7b3(0xc48):_0x294f32=_0x12f6db[_0x27d7b3(0xc48)]||0x0,_0xfef47f=_0x48e572[_0x27d7b3(0xc48)]||0x0;break;case _0x27d7b3(0xa20):_0x294f32=_0x12f6db[_0x27d7b3(0xa20)]?.['length']||0x1,_0xfef47f=_0x48e572['attempts']?.[_0x27d7b3(0x768)]||0x1;break;case _0x27d7b3(0x95a):_0x294f32=new Date(_0x12f6db[_0x27d7b3(0x95a)]),_0xfef47f=new Date(_0x48e572[_0x27d7b3(0x95a)]);break;case _0x27d7b3(0x33d):default:_0x294f32=_0x12f6db[_0x27d7b3(0x33d)],_0xfef47f=_0x48e572[_0x27d7b3(0x33d)];break;}if(_0x294f32<_0xfef47f)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x294f32>_0xfef47f)return quizLeaderboardSortOrder===_0x27d7b3(0x46e)?0x1:-0x1;return 0x0;});const _0x413e4a=_0x510079[_0x1c2d99(0x691)]===!![],_0x13df85=_0x510079[_0x1c2d99(0x58b)]?.[_0x1c2d99(0x675)]??-0x1;let _0x144e67='';_0xe2b7[_0x1c2d99(0x326)]((_0x5365be,_0x29c4f1)=>{const _0x34aab2=_0x1c2d99,_0x308498=_0x29c4f1+0x1;let _0x2960eb=_0x34aab2(0xac6);if(_0x413e4a||_0x13df85!==-0x1){let _0x50cc96=_0x413e4a?_0x5365be['bestScore']===_0x1d9415:_0x5365be[_0x34aab2(0x33d)]>=_0x13df85;const _0x36f293=_0x50cc96?_0x34aab2(0x7a8):'bg-red-100\x20text-red-800',_0x4de440=_0x50cc96?_0x34aab2(0x22d):'ไม่ผ่าน';_0x2960eb=_0x34aab2(0xc67)+_0x36f293+'\x22>'+_0x4de440+_0x34aab2(0x6a9);}const _0x24df65=_0x5365be['attempts'][_0x5365be[_0x34aab2(0xa20)][_0x34aab2(0x768)]-0x1],_0x190fc1=(_0x24df65['badges']||[])['map'](_0x461512=>{const _0x30cbe1=_0x34aab2,_0x4ac5ba=Object[_0x30cbe1(0x234)](BADGES)['find'](_0x4b72f9=>_0x4b72f9['id']===_0x461512);return _0x4ac5ba?_0x30cbe1(0x8e0)+_0x4ac5ba[_0x30cbe1(0x5e1)]+_0x30cbe1(0x13d)+_0x4ac5ba[_0x30cbe1(0xbfa)]+_0x30cbe1(0x3a6):'';})[_0x34aab2(0xb2d)]('');_0x144e67+=_0x34aab2(0xc2f)+_0x308498+_0x34aab2(0x9bb)+_0x5365be[_0x34aab2(0x552)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x5365be['bestScore']+_0x34aab2(0x782)+_0x1d9415+_0x34aab2(0x3c0)+_0x2960eb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x5365be['points']||0x0)+_0x34aab2(0x3c0)+(_0x342b6f?'':_0x34aab2(0xb47)+(_0x5365be[_0x34aab2(0xa20)]?.['length']||0x1)+_0x34aab2(0xc10))+_0x34aab2(0xb56)+(_0x342b6f?'':_0x34aab2(0x772)+new Date(_0x5365be[_0x34aab2(0x95a)])['toLocaleString'](_0x34aab2(0xc7e))+_0x34aab2(0xc10))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x190fc1||'-')+_0x34aab2(0xc07);}),_0x1f6426['innerHTML']=_0x144e67,_0x31e6af&&!_0x342b6f&&_0x31e6af[_0x1c2d99(0xc76)]('thead\x20.sortable-header')[_0x1c2d99(0x326)](_0x16ab99=>{const _0x4a807e=_0x1c2d99,_0x50088f=_0x16ab99['querySelector'](_0x4a807e(0x3e6));if(_0x50088f)_0x50088f[_0x4a807e(0xa49)]();_0x16ab99[_0x4a807e(0x870)][_0x4a807e(0x65c)]===quizLeaderboardSortBy&&(_0x16ab99['innerHTML']+=_0x4a807e(0x82d)+(quizLeaderboardSortOrder===_0x4a807e(0x46e)?'▲':'▼')+_0x4a807e(0x14b));});}async function handleDeleteSubmission(_0x1e264e){const _0x121b19=_0x15d57d;if(!currentQuizData||!currentQuizData['id']||!_0x1e264e){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x121b19(0x306)+_0x1e264e+_0x121b19(0x34a),async()=>{const _0x547147=_0x121b19,_0x28ca06=currentQuizData['id'],_0x55ffe5=doc(db,'artifacts/'+appId+_0x547147(0x884)+_0x28ca06+_0x547147(0x959),_0x1e264e);try{await deleteDoc(_0x55ffe5),showMessage('ลบผลสอบของ\x20'+_0x1e264e+_0x547147(0x17f));}catch(_0x55e3bf){console['error'](_0x547147(0xa59),_0x55e3bf),showMessage(_0x547147(0xd56));}});}async function handleLoadQuiz(){const _0x4fd88e=_0x15d57d,_0x47944c=document[_0x4fd88e(0x9c3)]('quiz-id-input'),_0x42fe72=_0x47944c[_0x4fd88e(0x3bb)][_0x4fd88e(0xa93)]();if(!_0x42fe72){showMessage(_0x4fd88e(0x910));return;}loadQuizBtn[_0x4fd88e(0x704)]=!![],loadQuizBtn[_0x4fd88e(0x632)]=_0x4fd88e(0x729);try{const _0x37f32d=doc(db,_0x4fd88e(0xc02)+appId+_0x4fd88e(0x21e),_0x42fe72),_0x25690a=await getDoc(_0x37f32d);if(!_0x25690a[_0x4fd88e(0x6b5)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x25690a['id'],..._0x25690a[_0x4fd88e(0xc5f)]()};const _0x496e5d=currentQuizData[_0x4fd88e(0xc6c)]||'active',_0x4171d8=new Date();if(_0x496e5d===_0x4fd88e(0xc08)){showMessage(_0x4fd88e(0x8a3));return;}if(_0x496e5d===_0x4fd88e(0xd52)){const _0x60d0e8=currentQuizData[_0x4fd88e(0xc7d)]?new Date(currentQuizData['startTime']):null,_0x43ea9a=currentQuizData[_0x4fd88e(0x15e)]?new Date(currentQuizData[_0x4fd88e(0x15e)]):null;if(_0x60d0e8&&_0x4171d8<_0x60d0e8){showMessage(_0x4fd88e(0x3b9)+_0x60d0e8[_0x4fd88e(0x270)]('th-TH',{'hour12':![]}));return;}if(_0x43ea9a&&_0x4171d8>_0x43ea9a){showMessage(_0x4fd88e(0xb38));return;}}const _0x201322=currentQuizData['projectId'];currentProjectId=_0x201322;const _0x424eb1=doc(db,_0x4fd88e(0xc02)+appId+_0x4fd88e(0x47e),_0x201322),_0x30427f=await getDoc(_0x424eb1);if(!_0x30427f['exists']()){showMessage(_0x4fd88e(0x654));return;}const _0x320d97=_0x30427f[_0x4fd88e(0xc5f)]();currentStudentProjectData=_0x320d97,displayStudentNameSelector(_0x320d97[_0x4fd88e(0x535)],currentQuizData['topic']);}catch(_0x99ad75){console[_0x4fd88e(0x1c0)](_0x4fd88e(0x33a),_0x99ad75),showMessage(_0x4fd88e(0xabb));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x4fd88e(0x632)]=_0x4fd88e(0xd46);}}async function handleJoinLiveGame(){const _0x28373b=_0x15d57d,_0x1fd998=document[_0x28373b(0x9c3)](_0x28373b(0x8b0)),_0x1042be=document[_0x28373b(0x9c3)](_0x28373b(0x543)),_0x2cc52e=document[_0x28373b(0x9c3)](_0x28373b(0x183)),_0xc16a1=_0x1fd998[_0x28373b(0x3bb)][_0x28373b(0xa93)](),_0xe6cff5=_0x1042be[_0x28373b(0x3bb)][_0x28373b(0xa93)]();if(!_0xc16a1||!_0xe6cff5){showMessage(_0x28373b(0xd16));return;}_0x2cc52e[_0x28373b(0x704)]=!![],_0x2cc52e[_0x28373b(0x632)]=_0x28373b(0x7e6);try{const _0x2e66c0=collection(db,_0x28373b(0xc02)+appId+_0x28373b(0x41f)),_0x1eee38=query(_0x2e66c0,where('gamePin','==',_0xc16a1),where(_0x28373b(0xc6c),'in',[_0x28373b(0x833),_0x28373b(0x327)])),_0x113601=await getDocs(_0x1eee38);if(_0x113601[_0x28373b(0x9dc)]){showMessage(_0x28373b(0x217));return;}const _0x36f3fc=_0x113601[_0x28373b(0x293)][0x0],_0x343eb7=_0x36f3fc[_0x28373b(0xc5f)]();currentLiveGameId=_0x36f3fc['id'];const _0x55deac=_0x343eb7[_0x28373b(0x8c4)],_0x1f9888=doc(db,'artifacts/'+appId+_0x28373b(0x21e),_0x55deac),_0x404724=await getDoc(_0x1f9888);if(!_0x404724[_0x28373b(0x6b5)]()){showMessage(_0x28373b(0xcf8));return;}currentQuizData={'id':_0x404724['id'],..._0x404724[_0x28373b(0xc5f)]()};if(_0x343eb7[_0x28373b(0x54b)]&&_0x343eb7[_0x28373b(0x54b)][_0xe6cff5]){const _0x10e8a4=_0x343eb7[_0x28373b(0x54b)][_0xe6cff5];if(_0x10e8a4[_0x28373b(0xc6c)]===_0x28373b(0xc08)){_0x2cc52e[_0x28373b(0x632)]=_0x28373b(0xb16);const _0x4fe112={};_0x4fe112[_0x28373b(0x52e)+_0xe6cff5+_0x28373b(0x547)]=_0x28373b(0x471),await updateDoc(doc(db,_0x28373b(0xc02)+appId+_0x28373b(0x41f),currentLiveGameId),_0x4fe112),showView(_0x28373b(0x686)),currentStudentName=_0xe6cff5,listenForLiveGameUpdates();return;}else{showMessage(_0x28373b(0x777));return;}}if(_0x343eb7[_0x28373b(0xc6c)]!==_0x28373b(0x833)){showMessage(_0x28373b(0x709));return;}_0x2cc52e[_0x28373b(0x632)]=_0x28373b(0xd01);const _0x31112a={};_0x31112a[_0x28373b(0x52e)+_0xe6cff5]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x28373b(0x471)},await updateDoc(doc(db,_0x28373b(0xc02)+appId+'/public/data/liveGames',currentLiveGameId),_0x31112a),currentStudentName=_0xe6cff5,listenForLiveGameUpdates();}catch(_0x242b00){console[_0x28373b(0x1c0)](_0x28373b(0x818),_0x242b00),showMessage(_0x28373b(0x255));}finally{_0x2cc52e['disabled']=![],_0x2cc52e[_0x28373b(0x632)]=_0x28373b(0x59c);}}function displayStudentNameSelector(_0x4618df,_0x30273d){const _0x859039=_0x15d57d,_0x53c206=document['getElementById'](_0x859039(0x9ff));document['getElementById'](_0x859039(0x593))[_0x859039(0xafb)]=_0x859039(0x928)+_0x30273d,!_0x4618df||_0x4618df[_0x859039(0x768)]===0x0?(_0x53c206[_0x859039(0x632)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x859039(0x704)]=!![]):(_0x53c206['innerHTML']=_0x859039(0x3f6),_0x4618df[_0x859039(0x326)](_0x7585f7=>{const _0x31b543=_0x859039,_0x20057e=document['createElement'](_0x31b543(0x3a1));_0x20057e[_0x31b543(0x3bb)]=_0x7585f7,_0x20057e[_0x31b543(0xafb)]=_0x7585f7,_0x53c206[_0x31b543(0x86e)](_0x20057e);}),startQuizBtn[_0x859039(0x704)]=![]),studentInitialView[_0x859039(0xcbe)]['add'](_0x859039(0x8e4)),studentNameSelectionView['classList'][_0x859039(0xa49)]('hidden');}function shuffleArray(_0x206e38){const _0x59b93d=_0x15d57d;for(let _0x47a555=_0x206e38[_0x59b93d(0x768)]-0x1;_0x47a555>0x0;_0x47a555--){const _0xa62c1d=Math[_0x59b93d(0x423)](Math['random']()*(_0x47a555+0x1));[_0x206e38[_0x47a555],_0x206e38[_0xa62c1d]]=[_0x206e38[_0xa62c1d],_0x206e38[_0x47a555]];}}function getShuffledQuiz(_0x3b7bb2){const _0x4c971b=_0x15d57d;let _0x4a3c34=JSON[_0x4c971b(0xacd)](JSON[_0x4c971b(0x933)](_0x3b7bb2));const _0x3aa741=_0x4a3c34[_0x4c971b(0x58b)]?.[_0x4c971b(0x476)]||_0x4c971b(0x8be);if(_0x3aa741===_0x4c971b(0x8be))return _0x4a3c34;return(_0x3aa741===_0x4c971b(0x7da)||_0x3aa741==='both')&&shuffleArray(_0x4a3c34['questions']),(_0x3aa741===_0x4c971b(0x2c2)||_0x3aa741===_0x4c971b(0x13e))&&_0x4a3c34[_0x4c971b(0xca5)][_0x4c971b(0x326)](_0x337c67=>{const _0x2269c7=_0x4c971b,_0x3ec4af=_0x337c67[_0x2269c7(0xc6a)]||_0x4a3c34[_0x2269c7(0x434)];if(_0x337c67[_0x2269c7(0x78a)]){let _0x1fd7f1=_0x337c67['options']['map']((_0x306779,_0x5c9ab1)=>({'text':_0x306779,'isCorrect':_0x5c9ab1===_0x337c67[_0x2269c7(0xa02)]}));shuffleArray(_0x1fd7f1),_0x337c67['options']=_0x1fd7f1[_0x2269c7(0x929)](_0x574527=>_0x574527[_0x2269c7(0xcde)]),_0x337c67[_0x2269c7(0xa02)]=_0x1fd7f1[_0x2269c7(0xcae)](_0x1b5e8d=>_0x1b5e8d['isCorrect']);}_0x3ec4af===_0x2269c7(0xb59)&&_0x337c67[_0x2269c7(0x472)]&&shuffleArray(_0x337c67['allResponses']);}),_0x4a3c34;}function displayQuizForStudent(_0x4553c7){const _0x140157=_0x15d57d;studentQuizArea[_0x140157(0xcbe)][_0x140157(0xa49)](_0x140157(0x8e4)),currentDisplayedQuiz=getShuffledQuiz(_0x4553c7);currentMode!==_0x140157(0x6d3)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document[_0x140157(0x762)](_0x140157(0x73d),handleVisibilityChange),enterFullscreen(),window[_0x140157(0x762)](_0x140157(0x2a6),resetDimTimer),window[_0x140157(0x762)]('mousedown',resetDimTimer),window[_0x140157(0x762)](_0x140157(0x32d),resetDimTimer),window[_0x140157(0x762)](_0x140157(0x9c1),resetDimTimer),resetDimTimer());const _0x1c1663=currentDisplayedQuiz['settings']?.[_0x140157(0x53f)]||_0x140157(0x8be);if(_0x1c1663===_0x140157(0xa4b))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x140157(0x58b)]['timerDuration']);else _0x1c1663==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x15b747=_0x15d57d,_0x582d06=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x3ec43f=currentDisplayedQuiz[_0x15b747(0x58b)]?.['confidenceMode']||'checkbox';let _0x4aa831=_0x15b747(0x4e8)+currentDisplayedQuiz[_0x15b747(0x294)]+_0x15b747(0x146)+(currentMode===_0x15b747(0x6d3)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x15b747(0x583);currentDisplayedQuiz[_0x15b747(0xca5)][_0x15b747(0x326)]((_0x5996e0,_0x488e2b)=>{const _0x19ac12=_0x15b747,_0x28e648=_0x5996e0[_0x19ac12(0xc6a)]||currentDisplayedQuiz[_0x19ac12(0x434)];_0x4aa831+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x28e648==='matching_item'){}else _0x4aa831+=_0x19ac12(0x78e)+(_0x488e2b+0x1)+'.\x20'+(_0x5996e0['instructions']||_0x5996e0[_0x19ac12(0xb0e)])+_0x19ac12(0x708),_0x5996e0[_0x19ac12(0x7bc)]&&(_0x4aa831+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5996e0[_0x19ac12(0x7bc)]+'</div>');_0x4aa831+=_0x19ac12(0x425);switch(_0x28e648){case _0x19ac12(0x31e):_0x4aa831+=_0x19ac12(0x677)+_0x488e2b+_0x19ac12(0xa46);break;case _0x19ac12(0x160):_0x4aa831+=_0x19ac12(0x3c9)+_0x488e2b+_0x19ac12(0x6c2)+_0x488e2b+_0x19ac12(0x14f)+_0x488e2b+_0x19ac12(0xd18),_0x4aa831+=_0x19ac12(0x3c9)+_0x488e2b+'_opt1\x22\x20name=\x22question'+_0x488e2b+_0x19ac12(0x34d)+_0x488e2b+_0x19ac12(0x30f);break;case'matching_item':_0x4aa831+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0x5996e0['stem']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x488e2b+_0x19ac12(0x42a)+_0x5996e0[_0x19ac12(0x472)][_0x19ac12(0x929)](_0x2537a9=>_0x19ac12(0x1dc)+_0x2537a9+'\x22>'+_0x2537a9+'</option>')[_0x19ac12(0xb2d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x4aa831+=_0x5996e0[_0x19ac12(0x78a)][_0x19ac12(0x929)]((_0x45b281,_0x32773e)=>_0x19ac12(0x1a1)+_0x488e2b+'_opt'+_0x32773e+'\x22\x20name=\x22question'+_0x488e2b+_0x19ac12(0x4a7)+_0x32773e+_0x19ac12(0xd00)+_0x488e2b+_0x19ac12(0x3ab)+_0x32773e+'\x22>'+_0x45b281+_0x19ac12(0x394))[_0x19ac12(0xb2d)]('');break;}_0x4aa831+=_0x19ac12(0x175),_0x582d06&&(_0x4aa831+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x3ec43f==='mandatory'?_0x4aa831+=_0x19ac12(0x474)+_0x488e2b+_0x19ac12(0x817)+_0x488e2b+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x488e2b+_0x19ac12(0xcf1)+_0x488e2b+_0x19ac12(0x920):_0x4aa831+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x488e2b+_0x19ac12(0x817)+_0x488e2b+_0x19ac12(0x9a0)+_0x488e2b+_0x19ac12(0x639),_0x4aa831+=_0x19ac12(0x175)),_0x4aa831+=_0x19ac12(0x175);}),_0x4aa831+=_0x15b747(0x8d7),_0x4aa831+=_0x15b747(0xb8d),studentQuizArea[_0x15b747(0x632)]=_0x4aa831;if(currentMode==='admin-testing'){const _0x4c2393=document[_0x15b747(0x9c3)](_0x15b747(0x3ed));if(_0x4c2393)_0x4c2393[_0x15b747(0x762)](_0x15b747(0xba1),cancelAdminTest);}const _0x31e7bb=document[_0x15b747(0x9c3)](_0x15b747(0xa29));_0x31e7bb&&(_0x31e7bb[_0x15b747(0x762)]('submit',handleSubmitQuiz),_0x31e7bb[_0x15b747(0x762)](_0x15b747(0xba1),_0x273ce1=>{const _0x485c11=_0x15b747;if(_0x273ce1[_0x485c11(0x24a)][_0x485c11(0xcbe)][_0x485c11(0xab4)](_0x485c11(0x50d))){const _0xa23d8=_0x273ce1[_0x485c11(0x24a)],_0x5f271e=_0xa23d8[_0x485c11(0x870)]['questionIndex'],_0x8c7145=_0xa23d8[_0x485c11(0x870)][_0x485c11(0x3bb)];document[_0x485c11(0x9c3)](_0x485c11(0x6c8)+_0x5f271e)[_0x485c11(0x3bb)]=_0x8c7145;const _0x1a9d52=_0xa23d8['parentElement'];_0x1a9d52['querySelectorAll'](_0x485c11(0xc21))[_0x485c11(0x326)](_0x448722=>_0x448722[_0x485c11(0xcbe)][_0x485c11(0xa49)](_0x485c11(0x471))),_0xa23d8[_0x485c11(0xcbe)]['add']('active');}}));if(window[_0x15b747(0x1b4)])window[_0x15b747(0x1b4)][_0x15b747(0xc2c)]([studentQuizArea]);}async function handleSubmitQuiz(_0x3869aa){const _0x81c509=_0x15d57d;if(_0x3869aa)_0x3869aa['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x415d22=document[_0x81c509(0x9c3)](_0x81c509(0xa29));if(!_0x415d22)return;const _0x339f4f=currentDisplayedQuiz[_0x81c509(0x58b)]?.[_0x81c509(0x602)]===!![],_0x5d6e51=currentDisplayedQuiz['settings']?.[_0x81c509(0xb91)]||_0x81c509(0xb41);if(_0x339f4f&&_0x5d6e51===_0x81c509(0xd22)){let _0x56d0a9=!![];for(let _0x6f2a8f=0x0;_0x6f2a8f<currentDisplayedQuiz[_0x81c509(0xca5)][_0x81c509(0x768)];_0x6f2a8f++){const _0x1bd5f9=_0x415d22['querySelector'](_0x81c509(0x29b)+_0x6f2a8f);if(!_0x1bd5f9||_0x1bd5f9['value']===''){_0x56d0a9=![];break;}}if(!_0x56d0a9){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x33ba8c=_0x415d22[_0x81c509(0x8da)](_0x81c509(0x61d)),_0x193c23=currentDisplayedQuiz['questions']['some'](_0x234e44=>_0x234e44[_0x81c509(0xc6a)]===_0x81c509(0x31e));_0x33ba8c&&(_0x33ba8c['disabled']=!![],_0x33ba8c[_0x81c509(0x632)]=_0x193c23?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x81c509(0x4cf));const _0x34922c=new FormData(_0x415d22),_0x183498=currentDisplayedQuiz['questions']['map']((_0x1a150c,_0x537f02)=>{const _0x5e7ea3=_0x81c509,_0x52951a=_0x34922c['get'](_0x5e7ea3(0x327)+_0x537f02);let _0x145ba1;_0x5d6e51===_0x5e7ea3(0xd22)?_0x145ba1=_0x34922c[_0x5e7ea3(0x88d)](_0x5e7ea3(0x839)+_0x537f02):_0x145ba1=_0x34922c[_0x5e7ea3(0x88d)](_0x5e7ea3(0x839)+_0x537f02)==='on';let _0x2c24a1=null;if(_0x52951a!==null&&_0x52951a!==undefined){const _0x2124fb=_0x1a150c['questionType']||currentDisplayedQuiz['quizType'];_0x2124fb==='multiple_choice'||_0x2124fb===_0x5e7ea3(0x4cd)?_0x2c24a1=parseInt(_0x52951a):_0x2c24a1=_0x52951a;}return{'answer':_0x2c24a1,'wasConfident':_0x145ba1};}),_0x101ae9=currentQuizData['id'],_0x164ec2=doc(db,_0x81c509(0xc02)+appId+_0x81c509(0x884)+_0x101ae9+_0x81c509(0x959),currentStudentName),_0x225b85=await getDoc(_0x164ec2),_0x9b78f3=_0x225b85[_0x81c509(0x6b5)]()?_0x225b85[_0x81c509(0xc5f)]():{},_0x1e324f=_0x9b78f3[_0x81c509(0xa20)]||[];await processAndSubmitAnswers(_0x183498,_0x1e324f);}async function gradeShortAnswerWithAI(_0x244f45,_0x52d3eb){const _0x35ca82=_0x15d57d;if(!_0x244f45||!_0x52d3eb)return![];try{const _0x275093=_0x35ca82(0xbd7)+_0x244f45+_0x35ca82(0x9e4)+_0x52d3eb+_0x35ca82(0x5e3),_0x55fc40={'contents':[{'role':_0x35ca82(0xb01),'parts':[{'text':_0x275093}]}]},_0xe4836a=_0x35ca82(0xc20),_0x4cf3f5='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0xe4836a,_0x50ee9b=await fetch(_0x4cf3f5,{'method':_0x35ca82(0xa31),'headers':{'Content-Type':_0x35ca82(0x507)},'body':JSON['stringify'](_0x55fc40)});if(!_0x50ee9b['ok'])throw new Error(_0x35ca82(0x8fa));const _0x5ce879=await _0x50ee9b[_0x35ca82(0x303)](),_0x3c0c33=_0x5ce879['candidates'][0x0]['content']['parts'][0x0][_0x35ca82(0xcde)][_0x35ca82(0xa93)]()[_0x35ca82(0x630)]();return _0x3c0c33===_0x35ca82(0x596);}catch(_0x55ff6a){return console['error'](_0x35ca82(0x7b6),_0x55ff6a),![];}}async function processAndSubmitAnswers(_0x3798a7,_0x242dca){const _0x2eb95f=_0x15d57d;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x2eb95f(0x9f3)](_0x2eb95f(0x50f),handleFullscreenChange),document['removeEventListener'](_0x2eb95f(0x73d),handleVisibilityChange);let _0x2942ab=0x0;const _0x58dbe7=[],_0x5e2623=currentDisplayedQuiz[_0x2eb95f(0xca5)][_0x2eb95f(0x768)];let _0x16fe10=0x0,_0x5cd3bb=[];const _0x1a713f=currentDisplayedQuiz[_0x2eb95f(0xca5)];for(let _0x44b021=0x0;_0x44b021<_0x1a713f[_0x2eb95f(0x768)];_0x44b021++){const _0x2566f6=_0x1a713f[_0x44b021],_0x17c229=_0x3798a7[_0x44b021],_0x57e33b=_0x17c229?_0x17c229[_0x2eb95f(0xb80)]:null,_0x5c87c5=_0x17c229?_0x17c229[_0x2eb95f(0x273)]:null;let _0x51c6da=![],_0x3c2463=0x0;if(_0x57e33b!==null&&_0x57e33b!==''){const _0x31caa7=_0x2566f6[_0x2eb95f(0xc6a)]||currentDisplayedQuiz['quizType'];switch(_0x31caa7){case _0x2eb95f(0xb59):_0x51c6da=_0x57e33b===_0x2566f6['correctResponse'];break;case _0x2eb95f(0x160):const _0x3641df=_0x57e33b===!![]||_0x57e33b==='true';_0x51c6da=_0x3641df===_0x2566f6[_0x2eb95f(0xa79)];break;case'short_answer':_0x51c6da=await gradeShortAnswer(_0x57e33b,_0x2566f6);break;case _0x2eb95f(0x3ee):default:_0x51c6da=Number(_0x57e33b)===_0x2566f6[_0x2eb95f(0xa02)];break;}}if(currentDisplayedQuiz[_0x2eb95f(0x58b)]?.[_0x2eb95f(0x602)]){const _0x17720=_0x17c229?_0x17c229[_0x2eb95f(0x273)]:null;if(_0x51c6da&&(_0x17720===!![]||_0x17720===_0x2eb95f(0x4e9)))_0x3c2463=0x2;else{if(_0x51c6da)_0x3c2463=0x1;else{if(!_0x51c6da&&(_0x17720===![]||_0x17720===_0x2eb95f(0x775)||_0x17720===null))_0x3c2463=0x0;else!_0x51c6da&&(_0x17720===!![]||_0x17720==='confident')&&(_0x3c2463=-0x1);}}}else _0x3c2463=_0x51c6da?0x1:0x0;_0x2942ab+=_0x3c2463;if(_0x51c6da){_0x16fe10++;if(_0x16fe10===0x3)_0x5cd3bb['push'](BADGES[_0x2eb95f(0xb93)]['id']);}else _0x16fe10=0x0;let _0x3b7d27=null;_0x2566f6[_0x2eb95f(0x78a)]&&_0x57e33b!==null&&(_0x3b7d27=_0x2566f6[_0x2eb95f(0x78a)][_0x57e33b]),_0x58dbe7[_0x2eb95f(0xa6d)]({'questionId':_0x2566f6['id'],'answer':_0x57e33b,'answerText':_0x3b7d27,'isCorrect':_0x51c6da,'wasConfident':_0x5c87c5,'pointsAwarded':_0x3c2463,'originalQuestionText':_0x2566f6[_0x2eb95f(0x176)]||_0x2566f6[_0x2eb95f(0xb0e)]});}const _0x3d3f7e=_0x58dbe7[_0x2eb95f(0x23a)](_0x411e6d=>_0x411e6d[_0x2eb95f(0xc0f)])[_0x2eb95f(0x768)],_0x32af9e=currentDisplayedQuiz[_0x2eb95f(0x58b)]?.[_0x2eb95f(0x675)]??Math[_0x2eb95f(0x423)](_0x5e2623/0x2);_0x3d3f7e===_0x5e2623&&_0x5e2623>0x0&&!currentDisplayedQuiz[_0x2eb95f(0x691)]&&_0x5cd3bb[_0x2eb95f(0xa6d)](BADGES[_0x2eb95f(0xcf6)]['id']);const _0x9e89d5=currentDisplayedQuiz[_0x2eb95f(0x58b)]?.['timerMode'];if(_0x9e89d5===_0x2eb95f(0xa4b)&&quizStartTime){const _0x38988f=(new Date()-quizStartTime)/0x3e8,_0x12af99=currentDisplayedQuiz[_0x2eb95f(0x58b)]['timerDuration']*0x3c;_0x3d3f7e>=_0x32af9e&&_0x38988f<_0x12af99/0x2&&_0x5cd3bb[_0x2eb95f(0xa6d)](BADGES[_0x2eb95f(0x353)]['id']);}_0x242dca[_0x2eb95f(0x768)]===0x0&&_0x3d3f7e===_0x5e2623&&_0x5e2623>0x0&&_0x5cd3bb[_0x2eb95f(0xa6d)](BADGES['FIRST_TRY_ACE']['id']);if(_0x242dca[_0x2eb95f(0x768)]>0x0){const _0x1a3ca4=_0x242dca[0x0]['score'];if(_0x1a3ca4<_0x32af9e&&_0x3d3f7e>=_0x32af9e){const _0x13a0f1=_0x242dca['some'](_0x4c7b2a=>(_0x4c7b2a[_0x2eb95f(0x678)]||[])[_0x2eb95f(0x436)](BADGES[_0x2eb95f(0x265)]['id']));!_0x13a0f1&&_0x5cd3bb[_0x2eb95f(0xa6d)](BADGES[_0x2eb95f(0x265)]['id']);}}_0x242dca['length']===0x4&&_0x5cd3bb['push'](BADGES[_0x2eb95f(0xb20)]['id']);const _0xaaa27b=currentDisplayedQuiz[_0x2eb95f(0x58b)][_0x2eb95f(0x662)];if(currentMode===_0x2eb95f(0x6d3)){handleResultDisplay(_0xaaa27b,_0x3d3f7e,_0x2942ab,_0x5cd3bb,_0x58dbe7,_0x5e2623);return;}const _0x215f64=currentQuizData['id'],_0xc27a26=doc(db,_0x2eb95f(0xc02)+appId+_0x2eb95f(0x884)+_0x215f64+'/submissions',currentStudentName);try{const _0x40cc3e=[..._0x242dca],_0x5f2f73={'score':_0x3d3f7e,'points':_0x2942ab,'badges':Array[_0x2eb95f(0x657)](new Set(_0x5cd3bb)),'submittedAt':new Date()['toISOString'](),'answers':_0x58dbe7};_0x40cc3e[_0x2eb95f(0xa6d)](_0x5f2f73);const _0x3c436f=_0x242dca[_0x2eb95f(0x768)]===0x0?_0x3d3f7e:_0x242dca[0x0]['score']||0x0,_0x4dcd7a=Math[_0x2eb95f(0x35d)](..._0x40cc3e[_0x2eb95f(0x929)](_0x439073=>_0x439073['score']));await setDoc(_0xc27a26,{'studentName':currentStudentName,'totalQuestions':_0x5e2623,'attempts':_0x40cc3e,'firstScore':_0x3c436f,'bestScore':_0x4dcd7a,'latestScore':_0x3d3f7e,'points':_0x2942ab,'latestSubmittedAt':_0x5f2f73[_0x2eb95f(0x320)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x2eb95f(0x257)],currentStudentName),handleResultDisplay(_0xaaa27b,_0x3d3f7e,_0x2942ab,_0x5cd3bb,_0x58dbe7,_0x5e2623);}catch(_0x5b438d){console[_0x2eb95f(0x1c0)](_0x2eb95f(0x6a8),_0x5b438d),showMessage(_0x2eb95f(0xce1));}}async function updateStudentProfile(_0x2a9248,_0x142fa3){const _0x570cd8=_0x15d57d,_0x1d0d0e=doc(db,'artifacts/'+appId+_0x570cd8(0x3a3)+_0x2a9248+_0x570cd8(0x5c6),_0x142fa3);try{const _0xf1bcc8=query(collection(db,_0x570cd8(0xc02)+appId+'/public/data/quizzes'),where(_0x570cd8(0x257),'==',_0x2a9248)),_0x125fb1=await getDocs(_0xf1bcc8),_0x2162e9=new Map(_0x125fb1['docs'][_0x570cd8(0x929)](_0xbc838d=>[_0xbc838d['id'],_0xbc838d[_0x570cd8(0xc5f)]()])),_0x1c12e6=Array[_0x570cd8(0x657)](_0x2162e9[_0x570cd8(0x906)]());await runTransaction(db,async _0x42ef2f=>{const _0x5c6de7=_0x570cd8;let _0x43697c=0x0;const _0x14de63={};let _0x1f0843=!![],_0x3abae6=0x0,_0x34df10=0x0;for(const _0x1156a3 of _0x1c12e6){const _0x316b06=_0x2162e9['get'](_0x1156a3),_0x3543da=doc(db,_0x5c6de7(0xc02)+appId+_0x5c6de7(0x884)+_0x1156a3+'/submissions',_0x142fa3),_0x442419=await _0x42ef2f[_0x5c6de7(0x88d)](_0x3543da);if(_0x442419[_0x5c6de7(0x6b5)]()){const _0x3e3561=_0x442419[_0x5c6de7(0xc5f)](),_0x111054=_0x3e3561[_0x5c6de7(0xa20)]||[];if(_0x111054[_0x5c6de7(0x768)]>0x0){const _0x96e4c=_0x111054['reduce']((_0x479177,_0x190034)=>{const _0x591af9=_0x5c6de7;if(_0x190034[_0x591af9(0xaec)]>_0x479177[_0x591af9(0xaec)])return _0x190034;if(_0x190034[_0x591af9(0xaec)]===_0x479177['score'])return(_0x190034[_0x591af9(0xc48)]||0x0)>(_0x479177[_0x591af9(0xc48)]||0x0)?_0x190034:_0x479177;return _0x479177;},{'score':-0x1,'points':-0x1});_0x96e4c[_0x5c6de7(0xaec)]>-0x1&&(_0x43697c+=_0x96e4c[_0x5c6de7(0xc48)]||0x0,(_0x96e4c[_0x5c6de7(0x678)]||[])[_0x5c6de7(0x326)](_0x22d4b3=>{_0x14de63[_0x22d4b3]=(_0x14de63[_0x22d4b3]||0x0)+0x1;}));}}if(_0x316b06[_0x5c6de7(0x294)]!==_0x5c6de7(0xa38)){_0x34df10++;if(_0x442419[_0x5c6de7(0x6b5)]()){_0x3abae6++;const _0x3222f2=_0x442419[_0x5c6de7(0xc5f)]();_0x3222f2[_0x5c6de7(0x33d)]!==_0x3222f2[_0x5c6de7(0x5b4)]&&(_0x1f0843=![]);}else _0x1f0843=![];}}_0x34df10>0x0&&_0x3abae6===_0x34df10&&_0x1f0843?_0x14de63[_0x5c6de7(0x3db)]=0x1:_0x14de63['specialist']=0x0,_0x42ef2f[_0x5c6de7(0x62c)](_0x1d0d0e,{'studentName':_0x142fa3,'totalPoints':_0x43697c,'unlockedBadges':Object[_0x5c6de7(0x906)](_0x14de63)[_0x5c6de7(0x23a)](_0x997a69=>_0x14de63[_0x997a69]>0x0),'badgesCount':_0x14de63},{'merge':!![]});});}catch(_0x575999){console[_0x570cd8(0x1c0)](_0x570cd8(0xb53),_0x575999),showMessage(_0x570cd8(0xaf0));}}function startAdminTest(){const _0x5481ea=_0x15d57d;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x5d54df=JSON['parse'](JSON[_0x5481ea(0x933)](currentQuizData));currentMode=_0x5481ea(0x6d3),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x5481ea(0xcbe)][_0x5481ea(0xa54)](_0x5481ea(0x8e4)),studentView[_0x5481ea(0xcbe)][_0x5481ea(0xa49)]('hidden'),studentInitialView[_0x5481ea(0xcbe)][_0x5481ea(0xa54)]('hidden'),studentNameSelectionView['classList'][_0x5481ea(0xa54)]('hidden'),studentResultArea[_0x5481ea(0xcbe)][_0x5481ea(0xa54)](_0x5481ea(0x8e4)),studentQuizArea[_0x5481ea(0xcbe)][_0x5481ea(0xa49)](_0x5481ea(0x8e4)),quizStartTime=new Date(),displayQuizForStudent(_0x5d54df);}function handleResultDisplay(_0x39dbc5,_0x784aeb,_0xdcae4d,_0xb39f6,_0x2d7921,_0x33dad5){const _0x4ebe02=_0x15d57d;if(_0x39dbc5===_0x4ebe02(0x8e7)){displaySubmissionConfirmation();return;}const _0x31f238=currentDisplayedQuiz[_0x4ebe02(0x58b)]?.['passingScore']??Math[_0x4ebe02(0x423)](_0x33dad5/0x2),_0x143925=currentDisplayedQuiz[_0x4ebe02(0x58b)]?.[_0x4ebe02(0xb45)]??![],_0x38eec2=currentDisplayedQuiz[_0x4ebe02(0x58b)]?.[_0x4ebe02(0x56e)]===!![],_0xc80ab7=_0x784aeb<_0x31f238,_0x3c30c1=_0x39dbc5===_0x4ebe02(0x940)||_0x39dbc5==='perfect_score_status';if(_0x38eec2&&_0xc80ab7&&!_0x3c30c1){_0x39dbc5===_0x4ebe02(0x477)?displayResultsWithAnswers(_0x784aeb,_0xdcae4d,_0xb39f6,_0x2d7921,_0x33dad5,!![]):displayLoopScreen(_0x784aeb,_0x33dad5,_0x39dbc5);return;}if(_0x143925&&_0xc80ab7){startAdaptiveFlow(_0x2d7921,_0x784aeb,_0x33dad5);return;}switch(_0x39dbc5){case _0x4ebe02(0x477):displayResultsWithAnswers(_0x784aeb,_0xdcae4d,_0xb39f6,_0x2d7921,_0x33dad5);break;case _0x4ebe02(0x6b4):displayResultsScoreOnly(_0x784aeb,_0xdcae4d,_0xb39f6,_0x33dad5);break;case'show_pass_fail_only':displayPassFailOnly(_0x784aeb,_0x33dad5);break;case'half_mark_status':displayHalfMarkResult(_0x784aeb,_0x33dad5);break;case _0x4ebe02(0x18c):displayPerfectScoreResult(_0x784aeb,_0x33dad5);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2e9d4e){const _0xf76a90=_0x15d57d;studentReadingArea[_0xf76a90(0x632)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x207f24=_0xf76a90(0x459)+_0x2e9d4e+_0xf76a90(0x1b3)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x48b78d={'type':_0xf76a90(0x5e7),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0xf76a90(0x239)}},'correctAnswerIndex':{'type':_0xf76a90(0x7a3)},'explanation':{'type':_0xf76a90(0x239)}},'required':[_0xf76a90(0xb0e),_0xf76a90(0x78a),_0xf76a90(0xa02),_0xf76a90(0xb10)]},_0x5ba548={'type':'OBJECT','properties':{'topic':{'type':_0xf76a90(0x239)},'questions':{'type':_0xf76a90(0x922),'items':_0x48b78d}},'required':[_0xf76a90(0x294),_0xf76a90(0xca5)]};try{const _0x3b6ba3=await callAnalysisApi(_0x207f24,_0x5ba548);_0x3b6ba3[_0xf76a90(0x691)]=!![],studentReadingArea[_0xf76a90(0xcbe)][_0xf76a90(0xa54)](_0xf76a90(0x8e4));const _0x2dc919={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x3b6ba3[_0xf76a90(0x58b)]=_0x2dc919,displayQuizForStudent(_0x3b6ba3);}catch(_0x431805){console[_0xf76a90(0x1c0)](_0xf76a90(0xa0f),_0x431805),showMessage(_0xf76a90(0x4f1)),showView(_0xf76a90(0x939));}}function displayPassFailOnly(_0x5782fe,_0x5df0fc){const _0x18d665=_0x15d57d,_0x34235a=currentDisplayedQuiz[_0x18d665(0x58b)]?.[_0x18d665(0x675)]??-0x1,_0x38a9d1=currentDisplayedQuiz[_0x18d665(0x691)]===!![];let _0x5a40e9='',_0x1ec748=![];if(_0x38a9d1||_0x34235a!==-0x1){_0x1ec748=_0x38a9d1?_0x5782fe===_0x5df0fc:_0x5782fe>=_0x34235a;const _0x40630d=_0x1ec748?_0x18d665(0x7a8):_0x18d665(0xb19),_0x465167=_0x1ec748?_0x18d665(0x22d):_0x18d665(0x6de);_0x5a40e9=_0x18d665(0xba9)+_0x40630d+'\x22>'+_0x465167+_0x18d665(0x6b2);}else _0x5a40e9=_0x18d665(0xa6f);let _0x3c5b4d=_0x18d665(0x5f6)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a40e9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x18d665(0x632)]=_0x3c5b4d,studentResultArea['classList'][_0x18d665(0xa49)](_0x18d665(0x8e4)),studentQuizArea['classList'][_0x18d665(0xa54)](_0x18d665(0x8e4)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x1ec748});}function cancelAdminTest(){const _0x51a205=_0x15d57d;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x51a205(0x50f),handleFullscreenChange),document[_0x51a205(0x9f3)](_0x51a205(0x73d),handleVisibilityChange),currentMode=_0x51a205(0x5eb),studentView[_0x51a205(0xcbe)][_0x51a205(0xa54)](_0x51a205(0x8e4)),adminView['classList']['remove']('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x51a205(0x5fd));}function setupResultScreenBackButton(_0x48c2cb){const _0x4b7e5a=_0x15d57d,_0x1d697b={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x48c2cb};if(_0x1d697b[_0x4b7e5a(0x7f8)]){const _0x7b68c9=_0x4b7e5a(0xb14);studentResultArea[_0x4b7e5a(0x478)](_0x4b7e5a(0xaf4),_0x7b68c9),document[_0x4b7e5a(0x9c3)](_0x4b7e5a(0x7d4))[_0x4b7e5a(0x762)](_0x4b7e5a(0xba1),()=>{const _0x14e811=_0x4b7e5a;studentResultArea[_0x14e811(0xcbe)]['add'](_0x14e811(0x8e4)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4b6529=_0x4b7e5a(0x3e0),_0x859fbf=currentMode===_0x4b7e5a(0x6d3),_0x27bdcc=_0x859fbf?_0x4b7e5a(0x82a):_0x4b7e5a(0x634);let _0x3e1bca='';_0x1d697b[_0x4b7e5a(0x648)]&&(_0x3e1bca+=_0x4b7e5a(0x8c8));let _0x46a0c1=_0x1d697b['showImproveButton'];_0x46a0c1===undefined&&(_0x46a0c1=_0x1d697b['score']<_0x1d697b[_0x4b7e5a(0x5b4)]);_0x46a0c1&&(_0x3e1bca+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x3e1bca+=_0x4b7e5a(0x4c5)+_0x4b6529+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x27bdcc+_0x4b7e5a(0xa36);const _0x125641=_0x4b7e5a(0xa9c)+_0x3e1bca+_0x4b7e5a(0x175);studentResultArea[_0x4b7e5a(0x478)]('beforeend',_0x125641),studentResultArea[_0x4b7e5a(0x8da)]('#view-rankings-btn')?.[_0x4b7e5a(0x762)](_0x4b7e5a(0xba1),handleShowStudentRankings);const _0x4bcc13=studentResultArea[_0x4b7e5a(0x8da)](_0x4b7e5a(0xa56));_0x4bcc13&&_0x4bcc13[_0x4b7e5a(0x762)](_0x4b7e5a(0xba1),()=>{const _0x7cc39f=_0x4b7e5a;studentResultArea['classList'][_0x7cc39f(0xa54)](_0x7cc39f(0x8e4)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4b7e5a(0x9c3)](_0x4b6529)['addEventListener'](_0x4b7e5a(0xba1),()=>{const _0x445871=_0x4b7e5a;_0x859fbf?(currentMode=_0x445871(0x5eb),studentView[_0x445871(0xcbe)][_0x445871(0xa54)]('hidden'),adminView[_0x445871(0xcbe)]['remove'](_0x445871(0x8e4)),showView('project-detail')):(showView(_0x445871(0x939)),document[_0x445871(0x9c3)](_0x445871(0xcdc))[_0x445871(0x3bb)]='');});}function displayResultsWithAnswers(_0x564e23,_0x9e837f,_0x198a29,_0x17d071,_0x3e8134,_0x3f739c=![]){const _0x71302b=_0x15d57d,_0x5dbe05=_0x3e8134>0x0?_0x564e23/_0x3e8134*0x64:0x0,_0x7e69a=currentDisplayedQuiz[_0x71302b(0x58b)]?.[_0x71302b(0x675)]??-0x1,_0x463f75=currentDisplayedQuiz[_0x71302b(0x691)]===!![];let _0x2c608e='';if(_0x463f75||_0x7e69a!==-0x1){let _0x541cfc=_0x463f75?_0x564e23===_0x3e8134:_0x564e23>=_0x7e69a;const _0x1a5bb6=_0x541cfc?'bg-green-100\x20text-green-800':_0x71302b(0xb19),_0x95ecd8=_0x541cfc?_0x71302b(0x22d):_0x71302b(0x6de);_0x2c608e='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x1a5bb6+'\x22>'+_0x95ecd8+_0x71302b(0x708);}let _0x5838c3=_0x71302b(0x8ad)+currentStudentName+_0x71302b(0xa87)+_0x564e23+_0x71302b(0x6dc)+_0x3e8134+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c608e+_0x71302b(0xaab)+_0x9e837f+_0x71302b(0xbee)+_0x5dbe05[_0x71302b(0x7f1)](0x0)+_0x71302b(0xba3);currentDisplayedQuiz[_0x71302b(0xca5)][_0x71302b(0x326)]((_0x125167,_0x3cd7ed)=>{const _0x6f228f=_0x71302b,_0xee6db7=_0x17d071[_0x3cd7ed],_0x10a258=_0xee6db7[_0x6f228f(0xb80)],_0x3e934d=_0xee6db7['isCorrect'],_0x556c25=_0x125167[_0x6f228f(0xc6a)]||currentDisplayedQuiz[_0x6f228f(0x434)];_0x5838c3+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x3e934d?_0x6f228f(0x4b8):_0x6f228f(0x6ff))+_0x6f228f(0x2df)+(_0x3cd7ed+0x1)+'.\x20'+(_0x125167[_0x6f228f(0x176)]||_0x125167['questionText'])+_0x6f228f(0x390);switch(_0x556c25){case'matching_item':const _0x1ffb8e=_0x10a258||'ไม่ได้ตอบ',_0x240049=_0x125167[_0x6f228f(0xbfc)];_0x5838c3+=_0x6f228f(0x670)+(!_0x3e934d?_0x6f228f(0xb63):'')+'\x22>'+_0x1ffb8e+_0x6f228f(0x379);!_0x3e934d&&(_0x5838c3+=_0x6f228f(0x3dc)+_0x240049+_0x6f228f(0x708));break;case _0x6f228f(0x31e):_0x5838c3+=_0x6f228f(0x3f0)+(_0x10a258||_0x6f228f(0x68e))+_0x6f228f(0x708),_0x5838c3+=_0x6f228f(0x2a9)+_0x125167[_0x6f228f(0x59a)]+_0x6f228f(0x708);break;case'true_false':_0x5838c3+='<p\x20class=\x22'+(_0x125167[_0x6f228f(0xa79)]===!![]?_0x6f228f(0x86d):'')+'\x20'+(_0x10a258===_0x6f228f(0x596)&&!_0x3e934d?_0x6f228f(0xb63):'')+_0x6f228f(0xd1b),_0x5838c3+=_0x6f228f(0x395)+(_0x125167[_0x6f228f(0xa79)]===![]?_0x6f228f(0x86d):'')+'\x20'+(_0x10a258===_0x6f228f(0x18d)&&!_0x3e934d?_0x6f228f(0xb63):'')+'\x22>ไม่ใช่</p>';break;default:_0x5838c3+=_0x125167[_0x6f228f(0x78a)][_0x6f228f(0x929)]((_0x5470d6,_0x365668)=>{const _0x39293e=_0x6f228f;let _0xe0fe00='',_0x260732='';if(_0x365668===_0x125167[_0x39293e(0xa02)])_0xe0fe00='font-bold\x20text-green-700',_0x260732=_0x39293e(0x6fe);else _0x365668===_0x10a258&&(_0xe0fe00=_0x39293e(0x699),_0x260732=_0x39293e(0x3f7));return _0x39293e(0x2ac)+_0xe0fe00+'\x22>'+_0x260732+_0x5470d6+_0x39293e(0x175);})['join']('');break;}_0x5838c3+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x125167[_0x6f228f(0xb10)]||'ไม่มีคำอธิบาย')+_0x6f228f(0x175);if(!_0x3e934d){const _0x4c6a10=_0x125167[_0x6f228f(0x176)]||_0x125167[_0x6f228f(0xb0e)];_0x5838c3+=_0x6f228f(0xb36)+escape(_0x4c6a10)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x5838c3+=_0x6f228f(0x175);}),studentResultArea[_0x71302b(0x632)]=_0x5838c3,renderEarnedBadges(_0x198a29,_0x71302b(0x285)),studentResultArea[_0x71302b(0xcbe)][_0x71302b(0xa49)](_0x71302b(0x8e4)),studentQuizArea[_0x71302b(0xcbe)][_0x71302b(0xa54)](_0x71302b(0x8e4)),setupResultScreenBackButton({'isLooping':_0x3f739c,'score':_0x564e23,'totalQuestions':_0x3e8134,'showRankings':!![]});if(window[_0x71302b(0x1b4)])window[_0x71302b(0x1b4)][_0x71302b(0xc2c)]([studentResultArea]);}function displayResultsScoreOnly(_0x155bd3,_0x151451,_0x27fcd9,_0x5907c8){const _0x5c8bcb=_0x15d57d,_0xa8979f=_0x5907c8>0x0?_0x155bd3/_0x5907c8*0x64:0x0,_0x3aa6d6=currentDisplayedQuiz[_0x5c8bcb(0x58b)]?.[_0x5c8bcb(0x675)]??-0x1,_0x148896=currentDisplayedQuiz[_0x5c8bcb(0x691)]===!![];let _0x3e519c='';if(_0x148896||_0x3aa6d6!==-0x1){let _0x1a5a9c=_0x148896?_0x155bd3===_0x5907c8:_0x155bd3>=_0x3aa6d6;const _0x5c602b=_0x1a5a9c?_0x5c8bcb(0x7a8):_0x5c8bcb(0xb19),_0x3a41d6=_0x1a5a9c?'ผ่าน':_0x5c8bcb(0x6de);_0x3e519c=_0x5c8bcb(0xcaf)+_0x5c602b+'\x22>'+_0x3a41d6+_0x5c8bcb(0x708);}let _0x464a04=_0x5c8bcb(0x5f6)+currentStudentName+_0x5c8bcb(0xcdb)+_0x155bd3+_0x5c8bcb(0xa0d)+_0x5907c8+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e519c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x151451+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0xa8979f[_0x5c8bcb(0x7f1)](0x0)+_0x5c8bcb(0x6bd);studentResultArea[_0x5c8bcb(0x632)]=_0x464a04,renderEarnedBadges(_0x27fcd9,'earned-badges-container'),studentResultArea[_0x5c8bcb(0xcbe)][_0x5c8bcb(0xa49)](_0x5c8bcb(0x8e4)),studentQuizArea[_0x5c8bcb(0xcbe)][_0x5c8bcb(0xa54)]('hidden'),setupResultScreenBackButton({'score':_0x155bd3,'totalQuestions':_0x5907c8,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x533ae8=_0x15d57d;let _0x1a250f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x533ae8(0x632)]=_0x1a250f,studentResultArea[_0x533ae8(0xcbe)][_0x533ae8(0xa49)](_0x533ae8(0x8e4)),studentQuizArea[_0x533ae8(0xcbe)]['add'](_0x533ae8(0x8e4)),document[_0x533ae8(0x9c3)]('back-to-home-manual-release')[_0x533ae8(0x762)](_0x533ae8(0xba1),()=>{const _0xebb8f2=_0x533ae8;showView(_0xebb8f2(0x939)),document[_0xebb8f2(0x9c3)](_0xebb8f2(0xcdc))[_0xebb8f2(0x3bb)]='';});}function renderEarnedBadges(_0x285a59,_0x485788){const _0x49e781=_0x15d57d,_0x668e9=document[_0x49e781(0x9c3)](_0x485788);if(!_0x668e9||!_0x285a59||_0x285a59[_0x49e781(0x768)]===0x0)return;let _0x42a5ad='';_0x285a59['forEach']((_0x482990,_0xf509e0)=>{const _0x348769=_0x49e781,_0x44cc2e=Object[_0x348769(0x234)](BADGES)[_0x348769(0x52d)](_0x109be9=>_0x109be9['id']===_0x482990);_0x44cc2e&&(_0x42a5ad+=_0x348769(0x59f)+_0xf509e0*0.2+_0x348769(0x186)+_0x44cc2e[_0x348769(0x7db)]+_0x348769(0x90c)+_0x44cc2e['icon']+_0x348769(0x518)+_0x44cc2e[_0x348769(0x5e1)]+_0x348769(0xa94));}),_0x668e9[_0x49e781(0x632)]=_0x42a5ad;}function startPresentation(_0x548596){const _0x18f29a=_0x15d57d;currentQuizData=getShuffledQuiz(_0x548596),currentPresentationSlide=0x0,presentationModal[_0x18f29a(0x827)][_0x18f29a(0x417)]=_0x18f29a(0x644),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2902a2=_0x15d57d;document[_0x2902a2(0x86a)]&&document['exitFullscreen'](),presentationModal[_0x2902a2(0x827)][_0x2902a2(0x417)]='none';}function renderPresentationSlide(_0x49608a){const _0x17fb4a=_0x15d57d,_0x1d6c12=document[_0x17fb4a(0x9c3)](_0x17fb4a(0xc04));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x17fb4a(0xca5)][_0x49608a]){_0x1d6c12[_0x17fb4a(0x632)]=_0x17fb4a(0x9f9);return;}const _0x95ea17=currentQuizData[_0x17fb4a(0xca5)][_0x49608a],_0xdd5774=_0x95ea17[_0x17fb4a(0xc6a)]||currentQuizData[_0x17fb4a(0x434)];_0x1d6c12[_0x17fb4a(0x632)]='';let _0x940d6=_0x17fb4a(0x5e8)+(_0x95ea17[_0x17fb4a(0x7bc)]?_0x17fb4a(0x50a)+_0x95ea17[_0x17fb4a(0x7bc)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x49608a+0x1)+'.\x20'+(_0x95ea17[_0x17fb4a(0x176)]||_0x95ea17[_0x17fb4a(0xb0e)])+_0x17fb4a(0xb76);switch(_0xdd5774){case _0x17fb4a(0xb59):_0x940d6+=_0x95ea17[_0x17fb4a(0x472)][_0x17fb4a(0x929)](_0x12b569=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12b569+_0x17fb4a(0x381))[_0x17fb4a(0xb2d)]('');break;case _0x17fb4a(0x160):_0x940d6+=_0x17fb4a(0x9e2),_0x940d6+=_0x17fb4a(0xb8e);break;case'fill_in_no_choices':case'short_answer':_0x940d6+=_0x17fb4a(0x23e);break;case _0x17fb4a(0x4cd):case _0x17fb4a(0x3ee):default:_0x940d6+=_0x95ea17[_0x17fb4a(0x78a)][_0x17fb4a(0x929)]((_0x6b8498,_0xe4c0b7)=>_0x17fb4a(0xa3a)+_0xe4c0b7+_0x17fb4a(0x875)+_0x6b8498+_0x17fb4a(0x381))[_0x17fb4a(0xb2d)]('');break;}_0x940d6+=_0x17fb4a(0x81d)+(_0x95ea17[_0x17fb4a(0xb10)]||_0x17fb4a(0xc66))+_0x17fb4a(0x9b1),_0x1d6c12[_0x17fb4a(0x632)]=_0x940d6;if(window['MathJax'])window[_0x17fb4a(0x1b4)][_0x17fb4a(0xc2c)]([_0x1d6c12]);let _0x1a7a0e=[];switch(_0xdd5774){case _0x17fb4a(0xb59):_0x1a7a0e=_0x95ea17[_0x17fb4a(0x472)]||[];break;case _0x17fb4a(0x160):_0x1a7a0e=[_0x17fb4a(0x486),'ไม่ใช่'];break;default:_0x1a7a0e=_0x95ea17[_0x17fb4a(0x78a)]||[];break;}const _0x623ab0=document['getElementById'](_0x17fb4a(0x7c9));_0x623ab0&&(_0x623ab0['onclick']=()=>{openScratchpad(_0x95ea17,_0x1a7a0e);});document['querySelectorAll'](_0x17fb4a(0x463))[_0x17fb4a(0x326)](_0x15f378=>{const _0x4c63e8=_0x17fb4a;_0x15f378[_0x4c63e8(0x762)](_0x4c63e8(0xba1),_0x13098c=>revealAnswerForPresentation(_0x49608a,_0x13098c['currentTarget']));});const _0x2eb303=document[_0x17fb4a(0x9c3)](_0x17fb4a(0xbb6));_0x2eb303&&_0x2eb303[_0x17fb4a(0x762)]('click',()=>checkShortAnswerForPresentation(_0x49608a)),document[_0x17fb4a(0x9c3)](_0x17fb4a(0x4f5))[_0x17fb4a(0xafb)]=_0x17fb4a(0xa55)+(_0x49608a+0x1)+_0x17fb4a(0x782)+currentQuizData[_0x17fb4a(0xca5)]['length'],document['getElementById']('prev-question-btn')[_0x17fb4a(0x704)]=_0x49608a===0x0,document[_0x17fb4a(0x9c3)](_0x17fb4a(0xa2f))[_0x17fb4a(0x704)]=_0x49608a===currentQuizData[_0x17fb4a(0xca5)][_0x17fb4a(0x768)]-0x1;}async function checkShortAnswerForPresentation(_0x373e88){const _0x15edfb=_0x15d57d,_0x284333=currentQuizData[_0x15edfb(0xca5)][_0x373e88],_0x4f4c19=document['getElementById']('presentation-short-answer-input'),_0x4af5f8=document[_0x15edfb(0x9c3)](_0x15edfb(0xbb6)),_0x287b28=document[_0x15edfb(0x9c3)]('presentation-ai-result'),_0x30fca0=document[_0x15edfb(0x9c3)]('presentation-explanation');if(!_0x4f4c19||!_0x4af5f8||!_0x287b28||!_0x30fca0)return;const _0x3e1b94=_0x4f4c19[_0x15edfb(0x3bb)][_0x15edfb(0xa93)]();if(_0x3e1b94==='')return;_0x4af5f8[_0x15edfb(0x704)]=!![],_0x4af5f8[_0x15edfb(0x632)]=_0x15edfb(0x8bc),_0x4f4c19[_0x15edfb(0x704)]=!![];const _0xf215c5=await gradeShortAnswer(_0x3e1b94,_0x284333);_0xf215c5?_0x287b28['innerHTML']=_0x15edfb(0xba4):_0x287b28[_0x15edfb(0x632)]=_0x15edfb(0x67b)+_0x284333[_0x15edfb(0x59a)]+')',_0x287b28['classList']['remove'](_0x15edfb(0x8e4)),_0x30fca0[_0x15edfb(0xcbe)][_0x15edfb(0xa49)](_0x15edfb(0x8e4)),_0x4af5f8[_0x15edfb(0xcbe)][_0x15edfb(0xa54)]('hidden');}function revealAnswerForPresentation(_0x2161ea,_0x4e8e98){const _0x37fa68=_0x15d57d,_0x5088e3=currentQuizData['questions'][_0x2161ea],_0x346100=_0x5088e3['questionType']||currentQuizData[_0x37fa68(0x434)];document[_0x37fa68(0xc76)](_0x37fa68(0x463))[_0x37fa68(0x326)](_0x5ef19c=>{const _0x1fdb85=_0x37fa68;_0x5ef19c[_0x1fdb85(0x704)]=!![],_0x5ef19c[_0x1fdb85(0xcbe)][_0x1fdb85(0xa49)]('hover:bg-indigo-100');let _0x1a0908=![];if(_0x346100==='multiple_choice'||_0x346100==='fill_in_the_blank'){const _0x43c226=parseInt(_0x5ef19c['dataset'][_0x1fdb85(0x79b)]);_0x1a0908=_0x43c226===_0x5088e3[_0x1fdb85(0xa02)];}else{if(_0x346100===_0x1fdb85(0x160)){const _0x5e064e=_0x5ef19c[_0x1fdb85(0x870)][_0x1fdb85(0xb80)]===_0x1fdb85(0x596);_0x1a0908=_0x5e064e===_0x5088e3[_0x1fdb85(0xa79)];}else _0x346100===_0x1fdb85(0xb59)&&(_0x1a0908=_0x5ef19c[_0x1fdb85(0xafb)][_0x1fdb85(0xa93)]()===_0x5088e3[_0x1fdb85(0xbfc)]);}_0x1a0908?_0x5ef19c[_0x1fdb85(0xcbe)][_0x1fdb85(0xa54)](_0x1fdb85(0x43b),_0x1fdb85(0x2e9),'border-green-700'):_0x5ef19c[_0x1fdb85(0xcbe)][_0x1fdb85(0xa54)](_0x1fdb85(0xa0b));}),_0x4e8e98[_0x37fa68(0xcbe)][_0x37fa68(0xa49)](_0x37fa68(0xa0b));let _0x5fe9b2=![];if(_0x346100===_0x37fa68(0x3ee))_0x5fe9b2=parseInt(_0x4e8e98[_0x37fa68(0x870)]['index'])===_0x5088e3['correctAnswerIndex'];else{if(_0x346100===_0x37fa68(0x160))_0x5fe9b2=_0x4e8e98['dataset']['answer']==='true'===_0x5088e3['correctAnswer'];else _0x346100===_0x37fa68(0xb59)&&(_0x5fe9b2=_0x4e8e98[_0x37fa68(0xafb)][_0x37fa68(0xa93)]()===_0x5088e3['correctResponse']);}!_0x5fe9b2&&_0x4e8e98[_0x37fa68(0xcbe)][_0x37fa68(0xa54)](_0x37fa68(0x3bf),_0x37fa68(0x2e9),_0x37fa68(0xa58)),document[_0x37fa68(0x9c3)](_0x37fa68(0xd1e))[_0x37fa68(0xcbe)]['remove'](_0x37fa68(0x8e4));}function startWholeQuizTimer(_0x46496c){const _0x1f3ea2=_0x15d57d,_0x490020=document[_0x1f3ea2(0x9c3)]('timer-container');if(!_0x490020)return;const _0x2f2424=Date[_0x1f3ea2(0xce2)]()+_0x46496c*0x3c*0x3e8;_0x490020[_0x1f3ea2(0x632)]=_0x1f3ea2(0x7c4);const _0x97ed4d=document[_0x1f3ea2(0x9c3)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x57c049=_0x1f3ea2,_0x5d29a3=_0x2f2424-Date[_0x57c049(0xce2)]();if(_0x5d29a3<=0x0)clearInterval(quizTimerInterval),_0x97ed4d[_0x57c049(0xafb)]='00:00',showMessage(_0x57c049(0xaf1)),handleSubmitQuiz(null);else{const _0x5c451e=Math[_0x57c049(0x423)](_0x5d29a3/0x3e8/0x3c%0x3c)[_0x57c049(0x771)]()['padStart'](0x2,'0'),_0x4bc91f=Math[_0x57c049(0x423)](_0x5d29a3/0x3e8%0x3c)[_0x57c049(0x771)]()['padStart'](0x2,'0');_0x97ed4d[_0x57c049(0xafb)]=_0x5c451e+':'+_0x4bc91f;}},0x3e8);}function renderPerQuestionView(){const _0x18fe1d=_0x15d57d;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x40ebd7=currentDisplayedQuiz[_0x18fe1d(0xca5)][currentQuestionIndex],_0x3363ee=_0x40ebd7[_0x18fe1d(0xc6a)]||currentDisplayedQuiz['quizType'],_0x5365e7=currentDisplayedQuiz[_0x18fe1d(0x58b)]?.['isConfidenceScoringEnabled']===!![];let _0x41b2c0=_0x18fe1d(0xbf7)+(currentQuestionIndex+0x1)+_0x18fe1d(0xc54)+currentDisplayedQuiz[_0x18fe1d(0xca5)][_0x18fe1d(0x768)]+_0x18fe1d(0x1e6)+(currentMode===_0x18fe1d(0x6d3)?_0x18fe1d(0x1ba):'')+_0x18fe1d(0x386)+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x18fe1d(0x632)]=_0x41b2c0;let _0x53039c=_0x40ebd7[_0x18fe1d(0x176)]||_0x40ebd7[_0x18fe1d(0xb0e)];_0x40ebd7[_0x18fe1d(0x7bc)]&&(_0x53039c+=_0x18fe1d(0x50a)+_0x40ebd7['imageCode']+_0x18fe1d(0x175));let _0x19f3c1='';switch(_0x3363ee){case _0x18fe1d(0x31e):case _0x18fe1d(0xbb0):_0x19f3c1=_0x18fe1d(0xb64);break;case _0x18fe1d(0x160):_0x19f3c1=_0x18fe1d(0x3a2);break;case _0x18fe1d(0xb59):_0x19f3c1=_0x18fe1d(0x55c)+(_0x40ebd7[_0x18fe1d(0x472)]||[])[_0x18fe1d(0x929)](_0x51b5c5=>_0x18fe1d(0x1dc)+_0x51b5c5+'\x22>'+_0x51b5c5+_0x18fe1d(0x9ea))[_0x18fe1d(0xb2d)]('')+_0x18fe1d(0x2f4);break;default:_0x40ebd7['options']&&(_0x19f3c1=_0x40ebd7[_0x18fe1d(0x78a)][_0x18fe1d(0x929)]((_0x14a3d9,_0x49307f)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x49307f+_0x18fe1d(0x7be)+_0x49307f+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x49307f+'\x22>'+_0x14a3d9+_0x18fe1d(0x8d6))[_0x18fe1d(0xb2d)](''));break;}document[_0x18fe1d(0x9c3)](_0x18fe1d(0x3e4))[_0x18fe1d(0x632)]=_0x53039c,document[_0x18fe1d(0x9c3)](_0x18fe1d(0xa63))['innerHTML']=_0x19f3c1;const _0x54587a=currentDisplayedQuiz['settings']?.[_0x18fe1d(0x602)]===!![],_0x505bb4=currentDisplayedQuiz['settings']?.[_0x18fe1d(0xb91)]||_0x18fe1d(0xb41);if(_0x54587a&&_0x505bb4===_0x18fe1d(0xb41)){const _0x406b72=_0x18fe1d(0x61a);studentQuizArea[_0x18fe1d(0x8da)](_0x18fe1d(0xa21))[_0x18fe1d(0x478)](_0x18fe1d(0xaf4),_0x406b72);}studentQuizArea[_0x18fe1d(0x478)](_0x18fe1d(0xaf4),_0x18fe1d(0x671)+(currentQuestionIndex===currentDisplayedQuiz[_0x18fe1d(0xca5)][_0x18fe1d(0x768)]-0x1?_0x18fe1d(0x4f2):_0x18fe1d(0x7ed))+_0x18fe1d(0xb31));currentMode===_0x18fe1d(0x6d3)&&document[_0x18fe1d(0x9c3)]('cancel-test-btn')?.[_0x18fe1d(0x762)](_0x18fe1d(0xba1),cancelAdminTest);document['getElementById'](_0x18fe1d(0x6ea))['addEventListener'](_0x18fe1d(0xba1),()=>handleNextQuestionInTimedMode(![]));if(window[_0x18fe1d(0x1b4)])window['MathJax'][_0x18fe1d(0xc2c)]([studentQuizArea]);currentDisplayedQuiz[_0x18fe1d(0x58b)]?.['timerMode']==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x49da29=_0x15d57d,_0x8f7dd0=currentDisplayedQuiz[_0x49da29(0x58b)][_0x49da29(0x5b9)],_0xa348c7=document[_0x49da29(0x9c3)](_0x49da29(0xa69));if(!_0xa348c7)return;let _0x24c91b=_0x8f7dd0;_0xa348c7[_0x49da29(0x632)]=_0x49da29(0x36e)+_0x24c91b+_0x49da29(0xa72);const _0x5c3c8f=document['getElementById']('timer-bar'),_0x59c42b=document[_0x49da29(0x9c3)](_0x49da29(0x1bd));perQuestionTimerInterval=setInterval(()=>{const _0x45da80=_0x49da29;_0x24c91b--;const _0x4c1184=_0x24c91b/_0x8f7dd0*0x64;_0x5c3c8f['style'][_0x45da80(0xb9b)]=_0x4c1184+'%',_0x59c42b[_0x45da80(0xafb)]=_0x24c91b,_0x24c91b<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x45da80(0xc37)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x1b46e7=![]){const _0x2839af=_0x15d57d;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1050fe=null,_0x30a99f=![];if(!_0x1b46e7){const _0x4c532a=currentDisplayedQuiz[_0x2839af(0xca5)][currentQuestionIndex],_0x4fd69f=_0x4c532a[_0x2839af(0xc6a)]||currentDisplayedQuiz[_0x2839af(0x434)];if(_0x4fd69f==='short_answer'||_0x4fd69f===_0x2839af(0xbb0))_0x1050fe=document[_0x2839af(0x8da)]('textarea[name=\x22question_single\x22]')?.['value'][_0x2839af(0xa93)]()??'';else{if(_0x4fd69f===_0x2839af(0xb59))_0x1050fe=document['querySelector']('select[name=\x22question_single\x22]')?.[_0x2839af(0x3bb)]??'';else{const _0x547893=document['querySelector'](_0x2839af(0xa00));_0x547893&&(_0x1050fe=_0x547893['value']);}}if(_0x1050fe===null||_0x1050fe===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x3ba42c=currentDisplayedQuiz[_0x2839af(0x58b)]?.[_0x2839af(0x602)]===!![],_0x3ac43c=currentDisplayedQuiz[_0x2839af(0x58b)]?.[_0x2839af(0xb91)]||_0x2839af(0xb41);if(_0x3ba42c&&_0x3ac43c==='mandatory'){document[_0x2839af(0x9c3)](_0x2839af(0xcf4))[_0x2839af(0x870)][_0x2839af(0x6d0)]=_0x2839af(0x7f2),document[_0x2839af(0x9c3)]('selected-answer-index-hidden')[_0x2839af(0x3bb)]=_0x1050fe,document[_0x2839af(0x9c3)]('confidence-modal')[_0x2839af(0xcbe)][_0x2839af(0xa49)]('hidden');return;}const _0x2f5c6b=document['getElementById'](_0x2839af(0x4c4));_0x2f5c6b&&(_0x30a99f=_0x2f5c6b[_0x2839af(0x57b)]);}const _0x1c777b={'answer':_0x1050fe,'wasConfident':_0x30a99f};proceedToNextQuestion(_0x1c777b);}async function finalizePerQuestionQuiz(){const _0xdd86fd=_0x15d57d,_0x479e38=currentDisplayedQuiz['questions'][_0xdd86fd(0x609)](_0x3807aa=>_0x3807aa[_0xdd86fd(0xc6a)]===_0xdd86fd(0x31e));_0x479e38?showMessage(_0xdd86fd(0x96e)):showMessage(_0xdd86fd(0xd2b));const _0x1f7697=currentQuizData['id'],_0x1840e3=doc(db,_0xdd86fd(0xc02)+appId+_0xdd86fd(0x884)+_0x1f7697+_0xdd86fd(0x959),currentStudentName),_0x340f5c=await getDoc(_0x1840e3),_0x1b1b85=_0x340f5c[_0xdd86fd(0x6b5)]()?_0x340f5c[_0xdd86fd(0xc5f)]():{},_0x283e21=_0x1b1b85[_0xdd86fd(0xa20)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x283e21);}function getResultsFilename(){const _0x1e095d=_0x15d57d,_0x2e601d=document[_0x1e095d(0x9c3)]('results-quiz-title')[_0x1e095d(0xafb)]['replace'](/[^a-z0-9]/gi,'_')[_0x1e095d(0x630)]();return _0x1e095d(0xcb3)+(_0x2e601d||_0x1e095d(0xabe));}function exportResultsAsImage(){const _0x1cb8d7=_0x15d57d,_0x2c9129=document[_0x1cb8d7(0x9c3)]('results-table-container');showMessage(_0x1cb8d7(0x6bc)),html2canvas(_0x2c9129)[_0x1cb8d7(0x2be)](_0x5115d5=>{const _0x500306=_0x1cb8d7,_0x5aefd8=document['createElement']('a');_0x5aefd8[_0x500306(0xb40)]=getResultsFilename()+'.png',_0x5aefd8['href']=_0x5115d5[_0x500306(0x9d6)](_0x500306(0xa16)),_0x5aefd8[_0x500306(0xba1)](),messageModal['classList'][_0x500306(0xa54)](_0x500306(0x8e4));});}function exportResultsAsPDF(){const _0x30ab20=_0x15d57d,{jsPDF:_0x345566}=window[_0x30ab20(0xc8c)],_0x478069=new _0x345566();_0x478069['setFont'](_0x30ab20(0x74f),_0x30ab20(0x5ac)),_0x478069[_0x30ab20(0x42b)]({'html':_0x30ab20(0x373)}),_0x478069[_0x30ab20(0x701)](getResultsFilename()+_0x30ab20(0x48f));}function exportResultsAsWord(){const _0xec3be7=_0x15d57d,_0x181988=_0xec3be7(0x7b1)+_0xec3be7(0x954)+_0xec3be7(0x383)+_0xec3be7(0x6af),_0x2f5474=_0xec3be7(0x5c4),_0x54bc10=_0x181988+document[_0xec3be7(0x9c3)]('results-table-container')[_0xec3be7(0x632)]+_0x2f5474,_0x438f4f=_0xec3be7(0x212)+encodeURIComponent(_0x54bc10),_0x280caa=document[_0xec3be7(0x2d5)]('a');document[_0xec3be7(0x99e)][_0xec3be7(0x86e)](_0x280caa),_0x280caa['href']=_0x438f4f,_0x280caa['download']=getResultsFilename()+'.doc',_0x280caa[_0xec3be7(0xba1)](),document['body'][_0xec3be7(0x4c9)](_0x280caa);}function exportResultsAsExcel(){const _0x4d8bd8=_0x15d57d,_0xfaaf14=document[_0x4d8bd8(0x9c3)](_0x4d8bd8(0xa22));let _0x189c51=[];for(let _0x45e3c4=0x0;_0x45e3c4<_0xfaaf14['rows'][_0x4d8bd8(0x768)];_0x45e3c4++){let _0xa9886a=[],_0x4b9fba=_0xfaaf14[_0x4d8bd8(0x448)][_0x45e3c4][_0x4d8bd8(0xc76)]('td,\x20th');for(let _0x50f8a1=0x0;_0x50f8a1<_0x4b9fba['length'];_0x50f8a1++){_0xa9886a[_0x4d8bd8(0xa6d)]('\x22'+_0x4b9fba[_0x50f8a1]['innerText'][_0x4d8bd8(0x3d0)](/"/g,'\x22\x22')+'\x22');}_0x189c51[_0x4d8bd8(0xa6d)](_0xa9886a['join'](','));}const _0x4395b9=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x189c51[_0x4d8bd8(0xb2d)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x1470a3=document['createElement']('a');_0x1470a3[_0x4d8bd8(0xb07)]=URL[_0x4d8bd8(0x7a4)](_0x4395b9),_0x1470a3['download']=getResultsFilename()+_0x4d8bd8(0xb04),_0x1470a3[_0x4d8bd8(0xba1)]();}function exportTableAsImage(_0x5f27d5,_0x532b3e){const _0x20398e=_0x15d57d,_0x4d5bd2=document['getElementById'](_0x5f27d5);if(!_0x4d5bd2){showMessage(_0x20398e(0xd08));return;}showMessage(_0x20398e(0x6bc)),html2canvas(_0x4d5bd2)[_0x20398e(0x2be)](_0x3a169e=>{const _0x4ab14e=_0x20398e,_0x1766a8=document['createElement']('a');_0x1766a8[_0x4ab14e(0xb40)]=_0x532b3e+'.png',_0x1766a8[_0x4ab14e(0xb07)]=_0x3a169e[_0x4ab14e(0x9d6)](_0x4ab14e(0xa16)),_0x1766a8[_0x4ab14e(0xba1)](),messageModal[_0x4ab14e(0xcbe)]['add'](_0x4ab14e(0x8e4));});}function exportTableAsPDF(_0x49e765,_0x40d274){const _0x57d69a=_0x15d57d,{jsPDF:_0x3807ee}=window[_0x57d69a(0xc8c)],_0x26d3b2=new _0x3807ee();_0x26d3b2[_0x57d69a(0x90f)](_0x57d69a(0x74f),_0x57d69a(0x5ac)),_0x26d3b2[_0x57d69a(0x42b)]({'html':'#'+_0x49e765}),_0x26d3b2[_0x57d69a(0x701)](_0x40d274+_0x57d69a(0x48f));}function exportTableAsWord(_0x3fa367,_0x436839){const _0x519806=_0x15d57d,_0x2c8f92=document[_0x519806(0x9c3)](_0x3fa367);if(!_0x2c8f92){showMessage(_0x519806(0xd08));return;}const _0x5e8543='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x519806(0x383)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0xba42=_0x519806(0x5c4),_0x41d624=_0x5e8543+_0x2c8f92[_0x519806(0x632)]+_0xba42,_0x555384=_0x519806(0x212)+encodeURIComponent(_0x41d624),_0x498043=document[_0x519806(0x2d5)]('a');document['body'][_0x519806(0x86e)](_0x498043),_0x498043[_0x519806(0xb07)]=_0x555384,_0x498043['download']=_0x436839+_0x519806(0x4dc),_0x498043[_0x519806(0xba1)](),document[_0x519806(0x99e)][_0x519806(0x4c9)](_0x498043);}function exportTableAsExcel(_0x5b3554,_0x449005){const _0x51c786=_0x15d57d,_0x457a99=document[_0x51c786(0x9c3)](_0x5b3554);if(!_0x457a99){showMessage(_0x51c786(0xd08));return;}let _0x37532d=[];for(let _0x5e42aa=0x0;_0x5e42aa<_0x457a99[_0x51c786(0x448)][_0x51c786(0x768)];_0x5e42aa++){let _0x8c815d=[],_0x227d44=_0x457a99['rows'][_0x5e42aa][_0x51c786(0xc76)](_0x51c786(0x82c));for(let _0x48efe6=0x0;_0x48efe6<_0x227d44[_0x51c786(0x768)];_0x48efe6++){_0x8c815d[_0x51c786(0xa6d)]('\x22'+_0x227d44[_0x48efe6][_0x51c786(0x263)][_0x51c786(0x3d0)](/"/g,'\x22\x22')+'\x22');}_0x37532d[_0x51c786(0xa6d)](_0x8c815d[_0x51c786(0xb2d)](','));}const _0xa9975e=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x37532d[_0x51c786(0xb2d)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x141203=document[_0x51c786(0x2d5)]('a');_0x141203[_0x51c786(0xb07)]=URL[_0x51c786(0x7a4)](_0xa9975e),_0x141203[_0x51c786(0xb40)]=_0x449005+_0x51c786(0xb04),_0x141203['click']();}function renderAnalytics(_0x1b6a9e,_0x419e8a){const _0x1992aa=_0x15d57d,_0xe9a724=_0x419e8a[_0x1992aa(0x23a)](_0x43be76=>_0x43be76[_0x1992aa(0x879)]!==undefined),_0x365375=currentProjectData['students']['length'],_0x6d7d4=_0xe9a724[_0x1992aa(0x768)],_0x298896=_0x365375-_0x6d7d4,_0x58fde4=_0x365375>0x0?_0x6d7d4/_0x365375*0x64:0x0,_0x16ad8d=_0xe9a724[_0x1992aa(0x929)](_0x3885d5=>_0x3885d5[_0x1992aa(0x879)]),_0x5e2b6c=_0x16ad8d[_0x1992aa(0x768)]>0x0?_0x16ad8d[_0x1992aa(0x4f4)]((_0xf54cd8,_0x3e333f)=>_0xf54cd8+_0x3e333f,0x0)/_0x16ad8d[_0x1992aa(0x768)]:0x0,_0x2ac578=_0x1b6a9e[_0x1992aa(0xca5)][_0x1992aa(0x768)],_0x7e7d22=_0x2ac578>0x0?_0x5e2b6c/_0x2ac578*0x64:0x0,_0x12705d=calculateItemAnalysis(_0x1b6a9e,_0xe9a724),_0x1cb33d=calculateReliabilityKR20(_0x1b6a9e,_0xe9a724,_0x12705d[_0x1992aa(0x38c)]);let _0x4aa81='';if(_0x1cb33d!==null){let _0x5a620e='';if(_0x1cb33d>=0.9)_0x5a620e=_0x1992aa(0x18a);else{if(_0x1cb33d>=0.8)_0x5a620e=_0x1992aa(0x7bf);else{if(_0x1cb33d>=0.7)_0x5a620e='ดี';else{if(_0x1cb33d>=0.6)_0x5a620e=_0x1992aa(0xbeb);else _0x5a620e='ควรปรับปรุง';}}}_0x4aa81='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x1cb33d[_0x1992aa(0x7f1)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x5a620e+_0x1992aa(0x1ee);}const _0x4e6815=document[_0x1992aa(0x9c3)](_0x1992aa(0xb60));_0x4e6815[_0x1992aa(0x632)]=_0x1992aa(0x362)+_0x58fde4[_0x1992aa(0x7f1)](0x0)+_0x1992aa(0x205)+_0x6d7d4+'/'+_0x365375+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x5e2b6c[_0x1992aa(0x7f1)](0x2)+_0x1992aa(0x6d4)+_0x7e7d22[_0x1992aa(0x7f1)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x16ad8d[_0x1992aa(0x768)]>0x0?Math[_0x1992aa(0x35d)](..._0x16ad8d):'N/A')+_0x1992aa(0x36f)+(_0x16ad8d[_0x1992aa(0x768)]>0x0?Math[_0x1992aa(0x8bf)](..._0x16ad8d):_0x1992aa(0x7d9))+_0x1992aa(0x78c)+_0x4aa81+_0x1992aa(0xb26);const _0x29bf8e=document[_0x1992aa(0x9c3)](_0x1992aa(0x95c));_0x29bf8e&&_0x29bf8e['remove']();const _0x1cd3b3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4e6815[_0x1992aa(0x478)](_0x1992aa(0x198),_0x1cd3b3);const _0x1f0eb2=currentProjectData[_0x1992aa(0x535)]||[];renderSubmissionChart(_0x6d7d4,_0x298896,_0xe9a724,_0x1f0eb2),renderScoreDistributionChart(_0xe9a724,_0x2ac578),renderQuestionAnalytics(_0x1b6a9e,_0xe9a724,_0x1f0eb2),renderInterestingStats(_0x1b6a9e,_0xe9a724);}async function handleExportLessonPDF(){const _0x306d38=_0x15d57d,_0x27ef02=document['getElementById'](_0x306d38(0x565)),_0x5ba2cc=document[_0x306d38(0x9c3)]('lesson-plan-title')[_0x306d38(0xafb)],_0x307fe2=window[_0x306d38(0x9d4)]('',_0x306d38(0x9de)),_0x285eab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x5ba2cc+_0x306d38(0xb1f)+_0x27ef02[_0x306d38(0x632)]+_0x306d38(0x712);_0x307fe2[_0x306d38(0x83a)][_0x306d38(0x491)](_0x285eab),_0x307fe2['document'][_0x306d38(0xa13)](),_0x307fe2[_0x306d38(0x696)]=function(){setTimeout(()=>{_0x307fe2['print']();},0x5dc);};}function renderInterestingStats(_0x3fa2c0,_0x4ecf3c){const _0x33edfd=_0x15d57d,_0x5879eb=document[_0x33edfd(0x9c3)]('interesting-stats-container');if(!_0x5879eb)return;if(_0x4ecf3c[_0x33edfd(0x768)]===0x0){_0x5879eb[_0x33edfd(0x632)]=_0x33edfd(0x6c4);return;}const _0x501726=_0x3fa2c0['questions'][_0x33edfd(0x929)]((_0x423157,_0x14adf1)=>({'index':_0x14adf1+0x1,'text':_0x423157['questionText']||_0x423157['stem'],'correct':0x0}));_0x4ecf3c[_0x33edfd(0x326)](_0x218c70=>{const _0x24189c=_0x33edfd,_0x35fb0f=_0x218c70[_0x24189c(0xa20)][_0x218c70[_0x24189c(0xa20)][_0x24189c(0x768)]-0x1];_0x35fb0f&&_0x35fb0f[_0x24189c(0x493)]&&_0x35fb0f[_0x24189c(0x493)][_0x24189c(0x326)](_0x5af1d7=>{const _0x2ec900=_0x24189c,_0x235a73=_0x501726[_0x2ec900(0x52d)](_0x45de4b=>_0x45de4b['text']===_0x5af1d7[_0x2ec900(0xbe6)]);_0x5af1d7[_0x2ec900(0xc0f)]&&_0x235a73&&_0x235a73[_0x2ec900(0x40d)]++;});});const _0x13dfb8=_0x4ecf3c[_0x33edfd(0x768)],_0x37a60c=Math[_0x33edfd(0x35d)](..._0x501726['map'](_0x2ba595=>_0x2ba595[_0x33edfd(0x40d)])),_0x1a5225=Math['min'](..._0x501726['map'](_0x452934=>_0x452934[_0x33edfd(0x40d)])),_0x17d39c=_0x501726['filter'](_0x3f7f57=>_0x3f7f57['correct']===_0x37a60c)[_0x33edfd(0x929)](_0x3c707e=>_0x33edfd(0xca1)+_0x3c707e[_0x33edfd(0x79b)]),_0x4635e6=_0x501726[_0x33edfd(0x23a)](_0x4ec1c5=>_0x4ec1c5[_0x33edfd(0x40d)]===_0x1a5225)[_0x33edfd(0x929)](_0x5bcad7=>_0x33edfd(0xca1)+_0x5bcad7['index']),_0xa35d8a=_0x4ecf3c[_0x33edfd(0x65c)]((_0x600d17,_0x282274)=>_0x282274[_0x33edfd(0x879)]-_0x600d17['latestScore'])['filter']((_0x21ccce,_0x13a91c,_0x4b2049)=>_0x21ccce[_0x33edfd(0x879)]===_0x4b2049[0x0][_0x33edfd(0x879)]),_0x1537e6=_0x4ecf3c[_0x33edfd(0x65c)]((_0x13d1d4,_0x32f3f2)=>_0x13d1d4[_0x33edfd(0x879)]-_0x32f3f2[_0x33edfd(0x879)])[_0x33edfd(0x23a)]((_0x3bc242,_0x354dca,_0x5de7fe)=>_0x3bc242[_0x33edfd(0x879)]===_0x5de7fe[0x0][_0x33edfd(0x879)]),_0x390519=_0x33edfd(0x786)+_0x17d39c[_0x33edfd(0xb2d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x37a60c+'\x20/\x20'+_0x13dfb8+_0x33edfd(0x5de)+_0x4635e6[_0x33edfd(0xb2d)](',\x20')+_0x33edfd(0xc65)+(_0x13dfb8-_0x1a5225)+_0x33edfd(0x782)+_0x13dfb8+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0xa35d8a['map'](_0x1b1fc3=>_0x1b1fc3['studentName'])[_0x33edfd(0xb2d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0xa35d8a[0x0][_0x33edfd(0x879)]+_0x33edfd(0xaa0)+_0x1537e6[_0x33edfd(0x929)](_0x3bfafb=>_0x3bfafb[_0x33edfd(0x552)])[_0x33edfd(0xb2d)](',\x20')+_0x33edfd(0x995)+_0x1537e6[0x0][_0x33edfd(0x879)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5879eb[_0x33edfd(0x632)]=_0x390519;}function renderSubmissionChart(_0xf3243e,_0x259df2,_0x390150,_0x18d143){const _0x5bbead=_0x15d57d,_0x395742=document[_0x5bbead(0x9c3)](_0x5bbead(0x828))[_0x5bbead(0x35f)]('2d'),_0x3b583d=_0x390150[_0x5bbead(0x929)](_0x287947=>_0x287947['studentName']),_0x5bbacf=_0x18d143[_0x5bbead(0x23a)](_0x2ac9ec=>!_0x3b583d[_0x5bbead(0x436)](_0x2ac9ec));chartInstances[_0x5bbead(0xae2)]&&chartInstances[_0x5bbead(0xae2)][_0x5bbead(0xaee)](),chartInstances[_0x5bbead(0xae2)]=new Chart(_0x395742,{'type':_0x5bbead(0xa1f),'data':{'labels':[_0x5bbead(0x7d1),_0x5bbead(0x203)],'datasets':[{'data':[_0xf3243e,_0x259df2],'backgroundColor':['#10B981','#F59E0B'],'borderColor':[_0x5bbead(0x1a4),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x29a5fe){const _0x5ac13d=_0x5bbead;let _0x3b2fc0=_0x29a5fe['label']||'';return _0x3b2fc0&&(_0x3b2fc0+=':\x20'),_0x3b2fc0+=_0x29a5fe[_0x5ac13d(0xca9)],_0x3b2fc0;},'afterLabel':function(_0x184718){const _0xedefd7=_0x5bbead;let _0x1e8ec5;return _0x184718[_0xedefd7(0xaa7)]===0x0?_0x1e8ec5=_0x3b583d:_0x1e8ec5=_0x5bbacf,_0x1e8ec5['length']>0x0?_0x1e8ec5[_0xedefd7(0xb2d)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x48aac3,_0x3c6d9b){const _0x249ffb=_0x15d57d,_0x1efa4b=document['getElementById'](_0x249ffb(0x24e))['getContext']('2d'),_0x2f0c72={};for(let _0x5ec2c6=0x0;_0x5ec2c6<=_0x3c6d9b;_0x5ec2c6++){_0x2f0c72[_0x5ec2c6]=0x0;}_0x48aac3[_0x249ffb(0x326)](_0x4f2497=>{_0x2f0c72[_0x4f2497['latestScore']]!==undefined&&_0x2f0c72[_0x4f2497['latestScore']]++;}),chartInstances['score']&&chartInstances[_0x249ffb(0xaec)]['destroy'](),chartInstances[_0x249ffb(0xaec)]=new Chart(_0x1efa4b,{'type':'bar','data':{'labels':Object[_0x249ffb(0x906)](_0x2f0c72),'datasets':[{'label':_0x249ffb(0x319),'data':Object['values'](_0x2f0c72),'backgroundColor':_0x249ffb(0xc56),'borderColor':_0x249ffb(0x9b5),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x249ffb(0x560)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x3a4a5b){const _0x4097b7=_0x249ffb,_0x36171b=_0x3a4a5b[_0x4097b7(0x6f4)],_0x27e277=_0x48aac3[_0x4097b7(0x23a)](_0x35b778=>_0x35b778[_0x4097b7(0x879)]==_0x36171b)[_0x4097b7(0x929)](_0xd3963f=>_0xd3963f[_0x4097b7(0x552)]);return _0x27e277[_0x4097b7(0x768)]>0x0?_0x27e277[_0x4097b7(0xb2d)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x4a275a,_0x5cd363,_0x157998){const _0x1d166b=_0x15d57d,_0x2acb79=document['getElementById'](_0x1d166b(0x33c));if(_0x157998[_0x1d166b(0x768)]===0x0){_0x2acb79[_0x1d166b(0x632)]=_0x1d166b(0x808);return;}const _0x4a3735=calculateItemAnalysis(_0x4a275a,_0x5cd363),_0x55f4ec=calculateDistractorAnalysis(_0x4a275a,_0x5cd363);let _0x4c4f09='';_0x4a3735[_0x1d166b(0xc4d)]&&(_0x4c4f09=_0x1d166b(0xcd5)+_0x4a3735[_0x1d166b(0xc4d)][_0x1d166b(0x688)][_0x1d166b(0x768)]+_0x1d166b(0x2ae)+_0x4a3735['overallGroups'][_0x1d166b(0x688)][_0x1d166b(0x929)](_0x336f84=>_0x1d166b(0x938)+_0x336f84+_0x1d166b(0x5b0))[_0x1d166b(0xb2d)]('')+_0x1d166b(0x640)+_0x4a3735[_0x1d166b(0xc4d)][_0x1d166b(0x3ff)]['length']+_0x1d166b(0x2ae)+_0x4a3735['overallGroups']['lowerGroupNames'][_0x1d166b(0x929)](_0x3155b4=>_0x1d166b(0x938)+_0x3155b4+'</li>')[_0x1d166b(0xb2d)]('')+_0x1d166b(0x5e5));let _0x578ac3='';const _0x1adc61=_0x5cd363[_0x1d166b(0x929)](_0x19617b=>_0x19617b[_0x1d166b(0x552)]),_0x2731dc=_0x1b1062=>{const _0x44c762=_0x1d166b;if(_0x1b1062>=0.8)return _0x44c762(0x521);if(_0x1b1062>=0.6)return _0x44c762(0x680);if(_0x1b1062>=0.4)return _0x44c762(0x37c);if(_0x1b1062>=0.2)return _0x44c762(0x49b);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x56cf4f=_0x13e919=>{const _0x418aac=_0x1d166b;if(_0x13e919<0x0)return _0x418aac(0xc8d);if(_0x13e919>=0.4)return _0x418aac(0x1ef);if(_0x13e919>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x13e919>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x418aac(0x30a);},_0x3a4510=_0x25299e=>{const _0x32d579=_0x1d166b,_0x5b46d6=_0x25299e[_0x32d579(0x7f1)](0x0);if(parseFloat(_0x5b46d6)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x5b46d6+'%</span>';if(_0x25299e>=0x32)return _0x32d579(0x56a)+_0x5b46d6+_0x32d579(0x880);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x5b46d6+_0x32d579(0x880);};_0x4a275a['questions'][_0x1d166b(0x326)]((_0x8e92ba,_0x5ed545)=>{const _0x49e4df=_0x1d166b,_0x5255ab=_0x4a3735['perQuestionStats'][_0x5ed545],_0x29f39f=_0x55f4ec[_0x5ed545],_0x26a52e=_0x8e92ba[_0x49e4df(0x176)]||_0x8e92ba[_0x49e4df(0xb0e)]||_0x8e92ba[_0x49e4df(0x549)];let _0xc16046=0x0;const _0xe23ae5=[],_0x51e1a2=[];_0x5cd363[_0x49e4df(0x326)](_0x5dc200=>{const _0x15b489=_0x49e4df,_0x36ad82=_0x5dc200[_0x15b489(0xa20)][_0x5dc200[_0x15b489(0xa20)][_0x15b489(0x768)]-0x1];if(_0x36ad82&&_0x36ad82[_0x15b489(0x493)]){const _0x33d4cd=_0x36ad82[_0x15b489(0x493)]['find'](_0x338399=>_0x338399[_0x15b489(0xbe6)]===_0x26a52e)??_0x36ad82[_0x15b489(0x493)][_0x5ed545]??null;_0x33d4cd&&(_0x33d4cd[_0x15b489(0xc0f)]?(_0xc16046++,_0xe23ae5[_0x15b489(0xa6d)](_0x5dc200['studentName'])):_0x51e1a2[_0x15b489(0xa6d)](_0x5dc200[_0x15b489(0x552)]));}});const _0x158c9e=_0x5cd363[_0x49e4df(0x768)]>0x0?_0xc16046/_0x5cd363['length']*0x64:0x0,_0x3cddba=_0x157998[_0x49e4df(0x23a)](_0x30c65d=>!_0x1adc61[_0x49e4df(0x436)](_0x30c65d)),_0x4bc7d4=_0x5255ab?_0x49e4df(0xcb1)+_0x5255ab['p']['toFixed'](0x2)+_0x49e4df(0x262)+_0x2731dc(_0x5255ab['p'])+_0x49e4df(0x902)+_0x5255ab['r'][_0x49e4df(0x7f1)](0x2)+_0x49e4df(0x262)+_0x56cf4f(_0x5255ab['r'])+_0x49e4df(0x754)+_0x3a4510(_0x158c9e)+_0x49e4df(0x300):'';let _0x40cd8b='';_0x29f39f&&(_0x40cd8b=_0x49e4df(0x363)+Object[_0x49e4df(0x906)](_0x29f39f)[_0x49e4df(0x929)](_0x592da4=>{const _0x36f98e=_0x49e4df,_0x4a7d57=_0x29f39f[_0x592da4],_0x426fa5=parseInt(_0x592da4)===_0x8e92ba[_0x36f98e(0xa02)],_0x42282f=!_0x426fa5&&_0x4a7d57['lower_group_count']>_0x4a7d57[_0x36f98e(0x8a5)];return'<tr\x20class=\x22'+(_0x426fa5?_0x36f98e(0x336):'')+_0x36f98e(0x29a)+(_0x426fa5?'✔\x20':'')+_0x4a7d57[_0x36f98e(0xcde)]+_0x36f98e(0x4e7)+_0x4a7d57[_0x36f98e(0x8a5)]+_0x36f98e(0x4e7)+_0x4a7d57[_0x36f98e(0x739)]+'\x20'+(_0x42282f?'👍':'')+_0x36f98e(0x4e7)+_0x4a7d57[_0x36f98e(0x496)]+_0x36f98e(0x3b3);})[_0x49e4df(0xb2d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x2bfea4='';_0x5255ab&&_0x5255ab['upperGroupResponders']&&(_0x2bfea4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x5255ab['upperGroupResponders'][_0x49e4df(0x768)]+_0x49e4df(0x505)+_0x5255ab[_0x49e4df(0x3b6)][_0x49e4df(0x929)](_0x2bffc4=>_0x49e4df(0x938)+(_0x2bffc4['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x49e4df(0x1db))+'\x20'+_0x2bffc4[_0x49e4df(0x5e1)]+'</li>')[_0x49e4df(0xb2d)]('')+_0x49e4df(0x756)+_0x5255ab[_0x49e4df(0x614)][_0x49e4df(0x768)]+_0x49e4df(0x505)+_0x5255ab[_0x49e4df(0x614)][_0x49e4df(0x929)](_0x5104b3=>_0x49e4df(0x938)+(_0x5104b3[_0x49e4df(0xc0f)]?_0x49e4df(0x1bc):_0x49e4df(0x1db))+'\x20'+_0x5104b3['name']+_0x49e4df(0x5b0))['join']('')+_0x49e4df(0x638)),_0x578ac3+=_0x49e4df(0xbc8)+(_0x5ed545+0x1)+':\x20'+_0x26a52e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x4bc7d4+_0x49e4df(0xd4e)+_0x26a52e+_0x49e4df(0x2cb)+_0xc16046+_0x49e4df(0xc54)+_0x5cd363[_0x49e4df(0x768)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x158c9e[_0x49e4df(0x7f1)](0x0)+_0x49e4df(0x536)+_0xe23ae5[_0x49e4df(0x768)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0xe23ae5[_0x49e4df(0x768)]>0x0?_0xe23ae5[_0x49e4df(0xb2d)](',\x20'):'ไม่มี')+_0x49e4df(0x956)+_0x51e1a2['length']+_0x49e4df(0x93b)+(_0x51e1a2[_0x49e4df(0x768)]>0x0?_0x51e1a2[_0x49e4df(0xb2d)](',\x20'):_0x49e4df(0xc91))+_0x49e4df(0x8d4)+_0x3cddba['length']+_0x49e4df(0x93b)+(_0x3cddba[_0x49e4df(0x768)]>0x0?_0x3cddba[_0x49e4df(0xb2d)](',\x20'):_0x49e4df(0xc91))+_0x49e4df(0x6e4)+_0x40cd8b+_0x49e4df(0x4f7)+_0x2bfea4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2acb79[_0x1d166b(0x632)]=_0x4c4f09+_0x578ac3;try{window[_0x1d166b(0x1b4)]&&MathJax[_0x1d166b(0xc2c)]&&MathJax[_0x1d166b(0xc2c)]([_0x2acb79]);}catch(_0x1db200){console[_0x1d166b(0x1c0)](_0x1d166b(0x811),_0x1db200);}}function calculateDistractorAnalysis(_0x1efeec,_0xd8046){const _0x3b9bc8=_0x15d57d,_0x2b8e82={};if(_0xd8046[_0x3b9bc8(0x768)]<0x2)return _0x2b8e82;const _0x44d7f3=[..._0xd8046][_0x3b9bc8(0x65c)]((_0x52a617,_0x452919)=>{const _0x455f1b=_0x3b9bc8,_0x4dca11=_0x452919[_0x455f1b(0x879)]-_0x52a617[_0x455f1b(0x879)];if(_0x4dca11!==0x0)return _0x4dca11;const _0x3dbed1=_0x52a617['attempts']?.[_0x455f1b(0x768)]||0x1,_0x57d6a8=_0x452919[_0x455f1b(0xa20)]?.[_0x455f1b(0x768)]||0x1,_0x3147e6=_0x3dbed1-_0x57d6a8;if(_0x3147e6!==0x0)return _0x3147e6;const _0xea624=new Date(_0x52a617[_0x455f1b(0x95a)]),_0x1f32eb=new Date(_0x452919['latestSubmittedAt']),_0x4e8681=_0xea624-_0x1f32eb;if(_0x4e8681!==0x0)return _0x4e8681;return _0x52a617[_0x455f1b(0x552)]['localeCompare'](_0x452919[_0x455f1b(0x552)],'th');}),_0x356daa=_0x44d7f3[_0x3b9bc8(0x768)],_0x517e93=Math['max'](0x1,Math[_0x3b9bc8(0x423)](_0x356daa*0.33)),_0x5730da=_0x44d7f3[_0x3b9bc8(0x411)](0x0,_0x517e93),_0x1d8453=_0x44d7f3[_0x3b9bc8(0x411)](-_0x517e93);return _0x1efeec[_0x3b9bc8(0xca5)][_0x3b9bc8(0x326)]((_0x2501f7,_0x49eb28)=>{const _0x33bb93=_0x3b9bc8;if(_0x2501f7[_0x33bb93(0xc6a)]!==_0x33bb93(0x3ee)||!_0x2501f7['options'])return;const _0xde0c14=_0x2501f7[_0x33bb93(0xb0e)],_0x1d5b9d={};_0x2501f7['options'][_0x33bb93(0x326)]((_0x1495dc,_0x3f3703)=>{_0x1d5b9d[_0x3f3703]={'text':_0x1495dc,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x44d7f3[_0x33bb93(0x326)](_0x33f6ad=>{const _0x107c17=_0x33bb93,_0x522f05=_0x33f6ad[_0x107c17(0xa20)][_0x33f6ad[_0x107c17(0xa20)][_0x107c17(0x768)]-0x1],_0x519875=_0x522f05[_0x107c17(0x493)][_0x107c17(0x52d)](_0x29f905=>_0x29f905['originalQuestionText']===_0xde0c14);if(_0x519875&&_0x519875['answer']!==null){const _0x437b1a=_0x2501f7['options'][_0x107c17(0xcae)](_0x1f259=>_0x1f259===_0x519875[_0x107c17(0x28e)]);_0x437b1a!==-0x1&&_0x1d5b9d[_0x437b1a]&&(_0x1d5b9d[_0x437b1a][_0x107c17(0x496)]++,_0x5730da['includes'](_0x33f6ad)&&_0x1d5b9d[_0x437b1a][_0x107c17(0x8a5)]++,_0x1d8453[_0x107c17(0x436)](_0x33f6ad)&&_0x1d5b9d[_0x437b1a][_0x107c17(0x739)]++);}}),_0x2b8e82[_0x49eb28]=_0x1d5b9d;}),_0x2b8e82;}function calculateReliabilityKR20(_0x452a26,_0x440972,_0x519afa){const _0x3cd135=_0x15d57d,_0x485532=_0x452a26[_0x3cd135(0xca5)][_0x3cd135(0x768)];if(_0x485532<0x2||_0x440972['length']<0x2)return null;const _0xdc9537=_0x440972[_0x3cd135(0x929)](_0x4e8d6f=>_0x4e8d6f[_0x3cd135(0x879)]),_0x2f98e4=_0xdc9537[_0x3cd135(0x4f4)]((_0x118d7d,_0x235d58)=>_0x118d7d+_0x235d58,0x0)/_0xdc9537['length'],_0x13a539=_0xdc9537[_0x3cd135(0x929)](_0x4b8c44=>Math[_0x3cd135(0x17d)](_0x4b8c44-_0x2f98e4,0x2))[_0x3cd135(0x4f4)]((_0x589760,_0x450ee9)=>_0x589760+_0x450ee9,0x0)/_0xdc9537['length'];if(_0x13a539===0x0)return null;let _0x4760fa=0x0;for(let _0x444b13=0x0;_0x444b13<_0x485532;_0x444b13++){const _0x4f5068=_0x519afa[_0x444b13]?.['p'];if(_0x4f5068===undefined)continue;const _0x430ccc=0x1-_0x4f5068;_0x4760fa+=_0x4f5068*_0x430ccc;}if(_0x4760fa===0x0)return null;const _0x565b8e=_0x485532/(_0x485532-0x1)*(0x1-_0x4760fa/_0x13a539);if(_0x565b8e>0x1)return null;return _0x565b8e;}async function handleAnalyzeClass(){const _0x2f7428=_0x15d57d;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x2f7428(0x6fd));return;}const _0x213291=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x2f7428(0x959)),_0x2efdcf=await getDocs(_0x213291),_0x3df5a7=_0x2efdcf[_0x2f7428(0x293)]['map'](_0x4307e6=>_0x4307e6['data']());if(_0x3df5a7[_0x2f7428(0x768)]<0x2){showMessage(_0x2f7428(0x27c));return;}const _0x3af42a=document[_0x2f7428(0x9c3)](_0x2f7428(0x5a6));_0x3af42a[_0x2f7428(0x632)]=_0x2f7428(0x57e),document['getElementById']('analyze-strengths-btn')[_0x2f7428(0x704)]=!![];const _0x15107e=_0x3df5a7[_0x2f7428(0x929)]((_0xbaf2ee,_0x2a972a)=>{const _0x46ef35=_0x2f7428,_0x334804=_0xbaf2ee[_0x46ef35(0xa20)][_0xbaf2ee['attempts'][_0x46ef35(0x768)]-0x1];if(!_0x334804)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x2a972a+0x1)+'\x20('+_0xbaf2ee[_0x46ef35(0x552)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x334804[_0x46ef35(0xaec)]+'/'+_0xbaf2ee[_0x46ef35(0x5b4)]+_0x46ef35(0x9a9)+JSON[_0x46ef35(0x933)](_0x334804[_0x46ef35(0x493)])+_0x46ef35(0x660);})[_0x2f7428(0xb2d)](_0x2f7428(0x7b8)),_0x1f7b30=_0x2f7428(0xa5d)+currentQuizData[_0x2f7428(0x294)]+_0x2f7428(0x843)+JSON['stringify'](currentQuizData[_0x2f7428(0xca5)])+_0x2f7428(0x5ec)+_0x15107e+_0x2f7428(0x2c3),_0x429204={'type':_0x2f7428(0x5e7),'properties':{'classStrengths':{'type':_0x2f7428(0x922),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x2f7428(0x922),'items':{'type':_0x2f7428(0x239)}},'teacherSuggestions':{'type':_0x2f7428(0x922),'items':{'type':_0x2f7428(0x239)}}},'required':[_0x2f7428(0x20a),_0x2f7428(0x8a6),_0x2f7428(0x63b)]};try{const _0x47ac5f=await callAnalysisApi(_0x1f7b30,_0x429204);displayClassAnalysis(_0x47ac5f);}catch(_0x3ff05a){console[_0x2f7428(0x1c0)](_0x2f7428(0x971),_0x3ff05a),_0x3af42a[_0x2f7428(0x632)]=_0x2f7428(0xbc2)+_0x3ff05a[_0x2f7428(0xce4)]+_0x2f7428(0xa6e);}finally{document[_0x2f7428(0x9c3)](_0x2f7428(0x5be))['disabled']=![];}}function displayClassAnalysis(_0x303968){const _0x1fb127=_0x15d57d,_0x2a72de=document[_0x1fb127(0x9c3)](_0x1fb127(0x5a6));if(!_0x303968){_0x2a72de['innerHTML']=_0x1fb127(0x6d2);return;}_0x2a72de[_0x1fb127(0x632)]=_0x1fb127(0xc44)+_0x303968[_0x1fb127(0x20a)]['map'](_0x39c791=>_0x1fb127(0x938)+_0x39c791+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x303968[_0x1fb127(0x8a6)][_0x1fb127(0x929)](_0x5a3c4d=>'<li>'+_0x5a3c4d+_0x1fb127(0x5b0))[_0x1fb127(0xb2d)]('')+_0x1fb127(0x3b4)+_0x303968[_0x1fb127(0x63b)][_0x1fb127(0x929)](_0x4d00db=>_0x1fb127(0x938)+_0x4d00db+'</li>')[_0x1fb127(0xb2d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x1d8f8f,_0x89328a){const _0x299a49=_0x15d57d,_0x26a7c3=_0x299a49(0x7f5)+_0x1d8f8f['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x1d8f8f[_0x299a49(0x294)]+_0x299a49(0x494)+_0x1d8f8f['questions']['map']((_0x44b065,_0x26a298)=>_0x299a49(0x98a)+(_0x26a298+0x1)+'.\x20'+_0x44b065[_0x299a49(0xb0e)]+_0x299a49(0x7a6)+(_0x44b065[_0x299a49(0x7bc)]?_0x299a49(0x475)+_0x44b065[_0x299a49(0x7bc)]+_0x299a49(0x175):'')+_0x299a49(0x331))[_0x299a49(0xb2d)]('')+_0x299a49(0x184);_0x89328a[_0x299a49(0x83a)]['write'](_0x26a7c3),_0x89328a[_0x299a49(0x83a)][_0x299a49(0xa13)](),_0x89328a[_0x299a49(0x696)]=function(){setTimeout(()=>{const _0x517890=_0x344c;_0x89328a[_0x517890(0x8cf)]();},0x3e8);};}async function generateWorksheet(){const _0x1e2395=_0x15d57d,_0x363c09=document[_0x1e2395(0x9c3)]('worksheet-topic-input')[_0x1e2395(0x3bb)][_0x1e2395(0xa93)]();if(!_0x363c09){showMessage(_0x1e2395(0x2b5));return;}const _0x12da74=document['getElementById'](_0x1e2395(0xcca))['checked'],_0x15bef1=_0x12da74?'':_0x1e2395(0x16a),_0x15fc5e=window[_0x1e2395(0x9d4)]('',_0x1e2395(0x9de));_0x15fc5e[_0x1e2395(0x83a)][_0x1e2395(0x491)](_0x1e2395(0x2f1));const _0x792198=parseInt(document[_0x1e2395(0x9c3)](_0x1e2395(0x683))[_0x1e2395(0x3bb)]),_0x286e43=document[_0x1e2395(0x9c3)]('include-images-checkbox')[_0x1e2395(0x57b)],_0x3b6220=_0x286e43?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x4f82a2=_0x1e2395(0x33b)+_0x15bef1+_0x1e2395(0x5dd)+_0x792198+_0x1e2395(0x601)+_0x363c09+_0x1e2395(0x59d)+_0x3b6220+_0x1e2395(0x2ef)+simpleMathPrompt+_0x1e2395(0x7fe),_0x43a7f8={'type':_0x1e2395(0x5e7),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1e2395(0x922),'items':{'type':_0x1e2395(0x5e7),'properties':{'questionText':{'type':_0x1e2395(0x239)},'imageCode':{'type':_0x1e2395(0x239)}},'required':[_0x1e2395(0xb0e)]}}},'required':[_0x1e2395(0x294),_0x1e2395(0xca5)]};document[_0x1e2395(0x9c3)](_0x1e2395(0x4a2))[_0x1e2395(0xafb)]='',document[_0x1e2395(0x9c3)](_0x1e2395(0x482))['classList'][_0x1e2395(0xa49)]('hidden'),document[_0x1e2395(0x9c3)](_0x1e2395(0x7d3))['classList'][_0x1e2395(0xa49)](_0x1e2395(0x8e4)),generateWorksheetBtn[_0x1e2395(0x704)]=!![];try{const _0x5cdc61=await callAnalysisApi(_0x4f82a2,_0x43a7f8);formatAndPrintWorksheet(_0x5cdc61,_0x15fc5e);}catch(_0xcfadc0){console['error'](_0x1e2395(0x3f8),_0xcfadc0);if(_0x15fc5e)_0x15fc5e[_0x1e2395(0xa13)]();showMessage(_0x1e2395(0x673));}finally{document[_0x1e2395(0x9c3)](_0x1e2395(0x482))[_0x1e2395(0xcbe)][_0x1e2395(0xa54)](_0x1e2395(0x8e4)),document[_0x1e2395(0x9c3)](_0x1e2395(0x7d3))[_0x1e2395(0xcbe)][_0x1e2395(0xa54)](_0x1e2395(0x8e4)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x24d6fa,_0x10aac2){const _0x25cdc5=_0x15d57d,_0x5a242a={'contents':[{'role':'user','parts':[{'text':_0x24d6fa}]}],'generationConfig':{'responseMimeType':_0x25cdc5(0x507),'responseSchema':_0x10aac2}},_0x271ab0=_0x25cdc5(0xc20),_0x4e4d9a='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x271ab0,_0x1738f9=await fetch(_0x4e4d9a,{'method':_0x25cdc5(0xa31),'headers':{'Content-Type':'application/json'},'body':JSON[_0x25cdc5(0x933)](_0x5a242a)});if(!_0x1738f9['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x1738f9[_0x25cdc5(0xc6c)]);const _0x54491e=await _0x1738f9['json']();if(_0x54491e[_0x25cdc5(0x7c7)]?.[0x0]?.[_0x25cdc5(0xa30)]?.[_0x25cdc5(0x447)]?.[0x0])return JSON['parse'](_0x54491e[_0x25cdc5(0x7c7)][0x0][_0x25cdc5(0xa30)][_0x25cdc5(0x447)][0x0][_0x25cdc5(0xcde)]);else{let _0x7a36d3='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x54491e[_0x25cdc5(0xc57)]?.[_0x25cdc5(0x51b)])_0x7a36d3=_0x25cdc5(0xc69)+_0x54491e['promptFeedback'][_0x25cdc5(0x51b)]+'.';else _0x54491e['candidates']?.[0x0]?.['finishReason']&&_0x54491e[_0x25cdc5(0x7c7)][0x0]['finishReason']!==_0x25cdc5(0x150)&&(_0x7a36d3='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x54491e[_0x25cdc5(0x7c7)][0x0]['finishReason']+'.');console[_0x25cdc5(0x1c0)](_0x7a36d3,JSON['stringify'](_0x54491e));throw new Error(_0x7a36d3);}}async function handleStartSyncMode(_0x17dd0b,_0x2dd755=![],_0x410cd0='classic'){const _0x1f4244=_0x15d57d,_0x1ee905=allQuizzes[_0x1f4244(0x52d)](_0x4314bc=>_0x4314bc['id']===_0x17dd0b)||allQuizzesGlobal['find'](_0x22cc76=>_0x22cc76['id']===_0x17dd0b);if(!_0x1ee905){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x1ee905);const _0x53f168=Math[_0x1f4244(0x423)](0x3e8+Math[_0x1f4244(0x2e8)]()*0x2328)['toString'](),_0x410ba3=doc(db,'artifacts/'+appId+_0x1f4244(0x47e),_0x1ee905[_0x1f4244(0x257)]),_0x525bc4=await getDoc(_0x410ba3);if(!_0x525bc4[_0x1f4244(0x6b5)]()){showMessage(_0x1f4244(0x7af));return;}const _0x2c881a=_0x525bc4['data']()['students']||[],_0xfef990={};if(_0x410cd0===_0x1f4244(0x328)){const _0x1a0622=[...ANONYMOUS_NAMES][_0x1f4244(0x65c)](()=>0.5-Math[_0x1f4244(0x2e8)]());_0x2c881a[_0x1f4244(0x326)]((_0x21b156,_0x1a13bd)=>{_0xfef990[_0x21b156]=_0x1a0622[_0x1a13bd]||'ผู้เล่น\x20'+(_0x1a13bd+0x1);});}try{const _0x50bd5d=await addDoc(collection(db,_0x1f4244(0xc02)+appId+'/public/data/syncGames'),{'quizId':_0x1ee905['id'],'pin':_0x53f168,'status':_0x1f4244(0x833),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2dd755,'players':{},'gameVariant':_0x410cd0,'reviewQuestionIndex':0x0,'playerNicknames':_0xfef990,'isAnonymousRevealed':![]});currentLiveGameId=_0x50bd5d['id'],showView(_0x1f4244(0x686)),renderSyncLobbyView(_0x53f168,_0x1ee905[_0x1f4244(0x294)]),listenForSyncGameUpdates();}catch(_0x4881bd){console[_0x1f4244(0x1c0)](_0x1f4244(0x5bc),_0x4881bd),showMessage(_0x1f4244(0x2bf));}}function calculateFinalPodiumScores(_0x5f37d2){const _0x50f94b=_0x15d57d;if(!_0x5f37d2||!_0x5f37d2[_0x50f94b(0x4b5)]||!_0x5f37d2['players'])return _0x5f37d2[_0x50f94b(0x54b)]||{};const _0x5cfe91=_0x5f37d2[_0x50f94b(0x4b5)][_0x50f94b(0xca5)][_0x50f94b(0x768)],_0x105db3=JSON[_0x50f94b(0xacd)](JSON[_0x50f94b(0x933)](_0x5f37d2[_0x50f94b(0x54b)]));return Object[_0x50f94b(0x234)](_0x105db3)['forEach'](_0x16ec75=>{const _0x491acf=_0x50f94b,_0x2726d4=_0x16ec75[_0x491acf(0xaec)];let _0x5bbbcd=_0x2726d4,_0x1d1e13=0x0;_0x5f37d2['isConfidenceScoringEnabled']&&_0x16ec75[_0x491acf(0x493)]&&_0x16ec75[_0x491acf(0x493)]['forEach'](_0x45ca81=>{const _0x44d807=_0x491acf;if(_0x45ca81['isCorrect']&&(_0x45ca81[_0x44d807(0x273)]===!![]||_0x45ca81[_0x44d807(0x273)]===_0x44d807(0x4e9)))_0x1d1e13+=0x1;else!_0x45ca81['isCorrect']&&(_0x45ca81[_0x44d807(0x273)]===!![]||_0x45ca81[_0x44d807(0x273)]==='confident')&&(_0x1d1e13-=0x1);}),_0x5bbbcd+=_0x1d1e13,_0x5cfe91>0x0&&_0x2726d4===_0x5cfe91&&(_0x5bbbcd+=0x1,_0x16ec75[_0x491acf(0x86b)]=!![]),_0x16ec75[_0x491acf(0xaec)]=_0x5bbbcd;}),_0x105db3;}function listenForSyncGameUpdates(){const _0x32a73d=_0x15d57d;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x564763=doc(db,'artifacts/'+appId+_0x32a73d(0x37d),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x564763,_0x24d612=>{const _0x44c78b=_0x32a73d;if(!_0x24d612['exists']()){sessionStorage['removeItem'](_0x44c78b(0x6c3));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView(_0x44c78b(0x939));return;}const _0x4dc5ab=_0x24d612[_0x44c78b(0xc5f)]();currentMode===_0x44c78b(0x5eb)?updateAdminSyncView(_0x4dc5ab):updateStudentSyncView(_0x4dc5ab);});}function renderSyncLobbyView(_0x3396b2,_0x1149e8){const _0x3446e6=_0x15d57d;liveGameView[_0x3446e6(0x632)]=_0x3446e6(0x1bb)+_0x1149e8+_0x3446e6(0x769)+_0x3396b2+_0x3446e6(0x138);const _0x5b8ee9=document[_0x3446e6(0x9c3)]('confidence-scoring-toggle'),_0x36de0c=document[_0x3446e6(0x9c3)](_0x3446e6(0x3d7));_0x5b8ee9[_0x3446e6(0x762)](_0x3446e6(0x557),()=>{const _0x28d818=_0x3446e6;_0x36de0c[_0x28d818(0x827)][_0x28d818(0x417)]=_0x5b8ee9[_0x28d818(0x57b)]?_0x28d818(0x3c2):'none';}),document['getElementById']('start-sync-game-btn')['addEventListener'](_0x3446e6(0xba1),async()=>{const _0x442fa9=_0x3446e6,_0x4d295b=doc(db,_0x442fa9(0xc02)+appId+_0x442fa9(0x37d),currentLiveGameId),_0x228e93=document['getElementById'](_0x442fa9(0x721))['checked'];await updateDoc(_0x4d295b,{'status':_0x442fa9(0x327),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x228e93});});}function updateAdminSyncView(_0x2f5065){const _0x2826cd=_0x15d57d;switch(_0x2f5065[_0x2826cd(0xc6c)]){case'lobby':renderSyncLobbyView(_0x2f5065[_0x2826cd(0x7ca)],_0x2f5065[_0x2826cd(0x4b5)][_0x2826cd(0x294)]);const _0x3b94d4=Object[_0x2826cd(0xa43)](_0x2f5065[_0x2826cd(0x54b)]||{})[_0x2826cd(0x23a)](([_0x1d2a21,_0x4bc9b8])=>_0x4bc9b8[_0x2826cd(0xc6c)]!=='inactive');document['getElementById']('player-count')[_0x2826cd(0xafb)]=_0x3b94d4[_0x2826cd(0x768)],document[_0x2826cd(0x9c3)](_0x2826cd(0x437))[_0x2826cd(0x632)]=_0x3b94d4[_0x2826cd(0x929)](([_0x4f7e88,_0xa68cf2])=>_0x2826cd(0xb52)+_0x4f7e88+_0x2826cd(0xd05)+_0x4f7e88+_0x2826cd(0x871))[_0x2826cd(0xb2d)]('')||_0x2826cd(0xb9a),document[_0x2826cd(0x9c3)]('start-sync-game-btn')[_0x2826cd(0x704)]=_0x3b94d4['length']===0x0;break;case _0x2826cd(0x327):const _0x452e38=Object[_0x2826cd(0x234)](_0x2f5065[_0x2826cd(0x54b)]||{})[_0x2826cd(0x23a)](_0xc6536=>_0xc6536[_0x2826cd(0xc6c)]!==_0x2826cd(0xc08)),_0x1d13e5=_0x452e38[_0x2826cd(0x23a)](_0x39fceb=>_0x39fceb['answered'])[_0x2826cd(0x768)],_0x3f27eb=_0x1d13e5===_0x452e38[_0x2826cd(0x768)]&&_0x452e38[_0x2826cd(0x768)]>0x0;if(_0x3f27eb&&_0x2f5065['status']===_0x2826cd(0x327)){const _0x3912e1=doc(db,_0x2826cd(0xc02)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x3912e1,{'status':_0x2826cd(0x8a2)});}else{if(document[_0x2826cd(0x9c3)](_0x2826cd(0xa45))===null)renderAdminSyncQuestionView(_0x2f5065);else{const _0x1b80a9=document['getElementById']('answer-counter');_0x1b80a9&&(_0x1b80a9['textContent']=_0x1d13e5+'/'+_0x452e38[_0x2826cd(0x768)]);const _0x39a1e8=document['getElementById'](_0x2826cd(0xcab));_0x39a1e8&&(_0x39a1e8[_0x2826cd(0x632)]=_0x452e38[_0x2826cd(0x929)](_0x1ef792=>{const _0x116569=_0x2826cd,_0x2ecc96=_0x1ef792[_0x116569(0x6ba)]?_0x116569(0x43b):_0x116569(0xa73),_0x278356=_0x1ef792[_0x116569(0x6ba)]?_0x116569(0x218):_0x116569(0x5d5);return _0x116569(0xa4f)+_0x2ecc96+_0x116569(0x1d5)+_0x278356+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1ef792[_0x116569(0x5e1)]+_0x116569(0x8a9)+_0x1ef792[_0x116569(0x5e1)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''));}}break;case _0x2826cd(0x8a2):const _0x105dac=_0x2f5065[_0x2826cd(0x819)],_0x22676c=_0x2f5065[_0x2826cd(0x4b5)][_0x2826cd(0xca5)][_0x105dac];renderSyncSummaryView(_0x2f5065,_0x22676c,!![]);break;case _0x2826cd(0x76d):const _0x35ff8e=_0x2f5065['gameVariant']||_0x2826cd(0x685);_0x35ff8e===_0x2826cd(0xae4)?renderAdminSyncDashboard(_0x2f5065,!![],_0x2f5065[_0x2826cd(0x724)]):renderAdminSyncDashboard(_0x2f5065,!![],_0x2f5065[_0x2826cd(0x819)]);break;case _0x2826cd(0xb35):_0x2f5065[_0x2826cd(0x2b7)]&&saveGameResultsAsSubmissions(_0x2f5065);sessionStorage[_0x2826cd(0x1bf)](_0x2826cd(0x6c3));const _0x97874e=calculateFinalPodiumScores(_0x2f5065);showPodiumView(_0x97874e,_0x2826cd(0x862));break;}}function renderAdminSyncQuestionView(_0xbb09b6){const _0x103277=_0x15d57d,_0x36dc08=_0xbb09b6['currentQuestionIndex'],_0x43844e=_0xbb09b6['shuffledQuiz'][_0x103277(0xca5)][_0x36dc08],_0x3251b7=_0xbb09b6['shuffledQuiz']['questions'][_0x103277(0x768)],_0x1e91b4=Object['values'](_0xbb09b6['players']||{})['filter'](_0x2ff14f=>_0x2ff14f['status']!==_0x103277(0xc08)),_0x3d69f4=_0x1e91b4[_0x103277(0x23a)](_0x47c7d4=>_0x47c7d4['answered'])[_0x103277(0x768)],_0x2377d5=_0x3d69f4===_0x1e91b4['length']&&_0x1e91b4[_0x103277(0x768)]>0x0,_0x40d418=(_0x43844e[_0x103277(0x78a)]||[])[_0x103277(0x929)](_0x43be47=>_0x103277(0xa4a)+_0x43be47+'</div>')[_0x103277(0xb2d)]('');liveGameView[_0x103277(0x632)]=_0x103277(0xaf6)+(_0x36dc08+0x1)+'\x20/\x20'+_0x3251b7+_0x103277(0x784)+_0x3d69f4+'/'+_0x1e91b4[_0x103277(0x768)]+_0x103277(0x1ad)+_0x43844e['questionText']+_0x103277(0xd2f)+_0x40d418+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x2377d5?_0x103277(0x704):'')+_0x103277(0x47f);if(window[_0x103277(0x1b4)])MathJax[_0x103277(0xc2c)]();document['getElementById'](_0x103277(0x526))[_0x103277(0x762)](_0x103277(0xba1),async()=>{const _0x36b338=_0x103277,_0x37582d=doc(db,_0x36b338(0xc02)+appId+_0x36b338(0x37d),currentLiveGameId);await updateDoc(_0x37582d,{'status':_0x36b338(0x76d)});}),document['getElementById']('open-sync-scratchpad-btn')[_0x103277(0xd41)]=()=>{const _0x4ca1c3=_0x103277;openScratchpad(_0x43844e,_0x43844e[_0x4ca1c3(0x78a)]||[]);},document[_0x103277(0x9c3)](_0x103277(0x4ea))[_0x103277(0x762)](_0x103277(0xba1),()=>{const _0x53cb3c=_0x103277;document[_0x53cb3c(0x9c3)](_0x53cb3c(0xa45))['classList'][_0x53cb3c(0xd50)](_0x53cb3c(0x8e4));});}function renderSyncLeaderboardView(_0x26a39b,_0x3b327b){const _0x25ca05=_0x15d57d,_0x1ec59a=Object[_0x25ca05(0x234)](_0x26a39b[_0x25ca05(0x54b)]||{});_0x1ec59a[_0x25ca05(0x65c)]((_0x3b898c,_0x14e6b3)=>_0x14e6b3[_0x25ca05(0xaec)]-_0x3b898c['score']);const _0x115732=_0x1ec59a[_0x25ca05(0x411)](0x0,0x5);let _0x31693='';if(_0x3b327b){const _0x4ae26d=_0x26a39b[_0x25ca05(0x819)]>=_0x26a39b[_0x25ca05(0x4b5)][_0x25ca05(0xca5)][_0x25ca05(0x768)]-0x1;_0x31693=_0x25ca05(0xc78)+(_0x4ae26d?_0x25ca05(0x97c):_0x25ca05(0x2aa))+_0x25ca05(0xd35);}else _0x31693=_0x25ca05(0xb43);liveGameView[_0x25ca05(0x632)]=_0x25ca05(0x155)+_0x115732[_0x25ca05(0x929)]((_0x256f2f,_0x43e1c6)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x43e1c6+0x1)+'.\x20'+_0x256f2f['name']+_0x25ca05(0x962)+_0x256f2f[_0x25ca05(0xaec)]+_0x25ca05(0x6b2))[_0x25ca05(0xb2d)]('')+_0x25ca05(0x621)+_0x31693+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x3b327b&&document[_0x25ca05(0x9c3)]('next-sync-question-btn')[_0x25ca05(0x762)](_0x25ca05(0xba1),async()=>{const _0x29ca99=_0x25ca05,_0x1afb45=doc(db,_0x29ca99(0xc02)+appId+'/public/data/syncGames',currentLiveGameId),_0x510fcf=_0x26a39b['currentQuestionIndex']+0x1;if(_0x510fcf<_0x26a39b[_0x29ca99(0x4b5)][_0x29ca99(0xca5)][_0x29ca99(0x768)]){const _0x5ef837={};Object[_0x29ca99(0x906)](_0x26a39b[_0x29ca99(0x54b)])[_0x29ca99(0x326)](_0x19c477=>{const _0x423fe9=_0x29ca99;_0x5ef837[_0x423fe9(0x52e)+_0x19c477+_0x423fe9(0x68d)]=![];}),await updateDoc(_0x1afb45,{..._0x5ef837,'status':_0x29ca99(0x327),'currentQuestionIndex':_0x510fcf,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1afb45,{'status':_0x29ca99(0xb35)});});}async function handleJoinSyncGame(){const _0x176d06=_0x15d57d,_0x51964f=prompt(_0x176d06(0x9ad));if(!_0x51964f||_0x51964f[_0x176d06(0xa93)]()[_0x176d06(0x768)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x429989=collection(db,'artifacts/'+appId+_0x176d06(0x37d)),_0x1f7e62=query(_0x429989,where(_0x176d06(0x7ca),'==',_0x51964f[_0x176d06(0xa93)]()),where(_0x176d06(0xc6c),'==',_0x176d06(0x833))),_0x41719b=await getDocs(_0x1f7e62);if(_0x41719b['empty']){showMessage(_0x176d06(0x99a));return;}const _0x20fcd6=_0x41719b[_0x176d06(0x293)][0x0];currentLiveGameId=_0x20fcd6['id'];const _0x412b7a=_0x20fcd6[_0x176d06(0xc5f)](),_0x57e3de=doc(db,_0x176d06(0xc02)+appId+_0x176d06(0x21e),_0x412b7a[_0x176d06(0x8c4)]),_0x37f7e1=await getDoc(_0x57e3de);if(!_0x37f7e1[_0x176d06(0x6b5)]())throw new Error(_0x176d06(0x2d8));const _0x67341b=_0x37f7e1[_0x176d06(0xc5f)](),_0x337cdb=doc(db,_0x176d06(0xc02)+appId+_0x176d06(0x47e),_0x67341b[_0x176d06(0x257)]),_0x1f3bfb=await getDoc(_0x337cdb);if(!_0x1f3bfb[_0x176d06(0x6b5)]())throw new Error(_0x176d06(0x3b1));currentQuizData=_0x412b7a[_0x176d06(0x4b5)];const _0x31950d=_0x1f3bfb[_0x176d06(0xc5f)]();showView(_0x176d06(0x34b)),showTeamPlayerSelection(_0x31950d[_0x176d06(0x535)],_0x67341b[_0x176d06(0x294)]);const _0x1e5eec=document[_0x176d06(0x9c3)](_0x176d06(0x725));_0x1e5eec[_0x176d06(0xd41)]=confirmAndJoinSyncGame;}catch(_0x35c941){console[_0x176d06(0x1c0)](_0x176d06(0x256),_0x35c941),showMessage(_0x176d06(0x5a0)+_0x35c941['message']);}}function updateStudentSyncView(_0x578750){const _0x51f8d0=_0x15d57d,_0x2b954c=_0x578750[_0x51f8d0(0x54b)][localTeamPlayers[0x0]];switch(_0x578750[_0x51f8d0(0xc6c)]){case _0x51f8d0(0x833):showView(_0x51f8d0(0x686)),liveGameView['innerHTML']=_0x51f8d0(0xa2c);break;case _0x51f8d0(0x327):localPlayerTurnIndex=0x0;const _0x49ce9d=localTeamPlayers['every'](_0x1d5d2c=>_0x578750['players'][_0x1d5d2c]?.[_0x51f8d0(0x6ba)]===!![]);_0x49ce9d?liveGameView[_0x51f8d0(0x632)]=_0x51f8d0(0xb82):renderStudentSyncQuestionView(_0x578750);break;case _0x51f8d0(0x8a2):liveGameView[_0x51f8d0(0x632)]=_0x51f8d0(0x7a7);break;case'results':localPlayerTurnIndex=0x0;const _0x2b6f65=_0x578750[_0x51f8d0(0x1ea)]||'classic';if(_0x2b6f65==='reveal_at_end')renderAdminSyncDashboard(_0x578750,![],_0x578750[_0x51f8d0(0x724)]);else _0x2b6f65==='anonymous'?renderAnonymousStudentResultsView(_0x578750):renderStudentSyncResultsView(_0x578750);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x51f8d0(0x50f),handleFullscreenChange),document[_0x51f8d0(0x9f3)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x51f8d0(0x1bf)]('activeGameSession');const _0x157f8f=calculateFinalPodiumScores(_0x578750);showPodiumView(_0x157f8f,'sync');break;}}function renderStudentSyncResultsView(_0x3f80bf){const _0x220e13=_0x15d57d,_0x4bbefa=localTeamPlayers[_0x220e13(0x929)](_0x16d72a=>_0x3f80bf['players'][_0x16d72a])[_0x220e13(0x23a)](Boolean);_0x4bbefa[_0x220e13(0x65c)]((_0x44e99f,_0x277285)=>(_0x277285[_0x220e13(0xaec)]||0x0)-(_0x44e99f['score']||0x0));const _0xcb2db6=_0x3f80bf['gameVariant']||_0x220e13(0x685),_0x5abba8=_0x3f80bf['shuffledQuiz'][_0x220e13(0xca5)];let _0x3cf468='';if(_0xcb2db6===_0x220e13(0xae4)){const _0x5b68b7=_0x3f80bf[_0x220e13(0x724)]>=_0x5abba8['length']-0x1;_0x5b68b7?_0x3cf468=_0x220e13(0xb74):_0x3cf468=_0x220e13(0xca3);}else{const _0x456446=_0x3f80bf[_0x220e13(0x819)]>=_0x5abba8[_0x220e13(0x768)]-0x1;_0x456446?_0x3cf468=_0x220e13(0xb74):_0x3cf468='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';}const _0x447b3c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4bbefa[_0x220e13(0x929)]((_0x24ff99,_0x3385f4)=>_0x220e13(0x3af)+(_0x3385f4+0x1)+_0x220e13(0x9a8)+_0x24ff99['name']+_0x220e13(0x342)+_0x24ff99[_0x220e13(0xaec)]+_0x220e13(0x49f))[_0x220e13(0xb2d)]('')+_0x220e13(0x1eb)+_0x3cf468+_0x220e13(0x453);liveGameView[_0x220e13(0x632)]=_0x447b3c;}function renderStudentSyncQuestionView(_0x5e84bb){const _0x5a7a41=_0x15d57d,_0x492866=localTeamPlayers[_0x5a7a41(0x52d)](_0x27b636=>_0x5e84bb['players'][_0x27b636]&&_0x5e84bb[_0x5a7a41(0x54b)][_0x27b636][_0x5a7a41(0x6ba)]===![]);if(!_0x492866){console['log'](_0x5a7a41(0x9db));return;}const _0x57b844=_0x5e84bb[_0x5a7a41(0x819)],_0x56e7ca=_0x5e84bb['shuffledQuiz'][_0x5a7a41(0xca5)][_0x5a7a41(0x768)],_0x9c4cf0=_0x5e84bb[_0x5a7a41(0x4b5)]['questions'][_0x57b844],_0xdb5126=_0x9c4cf0[_0x5a7a41(0xc6a)]||_0x5e84bb['shuffledQuiz'][_0x5a7a41(0x434)];let _0x16f069='',_0x2cc280=![];switch(_0xdb5126){case _0x5a7a41(0x160):_0x16f069=_0x5a7a41(0x767);break;case _0x5a7a41(0x31e):case _0x5a7a41(0xbb0):_0x2cc280=!![],_0x16f069=_0x5a7a41(0x9fb);break;case _0x5a7a41(0xb59):_0x2cc280=!![],_0x16f069=_0x5a7a41(0xd23)+(_0x9c4cf0['allResponses']||[])[_0x5a7a41(0x929)](_0x434fa3=>_0x5a7a41(0x1dc)+_0x434fa3+'\x22>'+_0x434fa3+_0x5a7a41(0x9ea))[_0x5a7a41(0xb2d)]('')+_0x5a7a41(0x574);break;case'multiple_choice':default:_0x16f069=(_0x9c4cf0['options']||[])[_0x5a7a41(0x929)]((_0x4358e2,_0x276431)=>'<button\x20data-value=\x22'+_0x276431+_0x5a7a41(0x624)+_0x4358e2+'</button>')[_0x5a7a41(0xb2d)]('');break;}liveGameView[_0x5a7a41(0x632)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x57b844+0x1)+_0x5a7a41(0x782)+_0x56e7ca+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x492866+_0x5a7a41(0x92b)+(_0x9c4cf0[_0x5a7a41(0xb0e)]||_0x9c4cf0['stem'])+_0x5a7a41(0xb08)+_0x16f069+_0x5a7a41(0xa96);if(window[_0x5a7a41(0x1b4)])MathJax[_0x5a7a41(0xc2c)]();function _0x4ac5f4(_0x2958c1,_0x24b3c4,_0x3a63d6,_0x584ef0){const _0x36ed9a=_0x5a7a41,_0x35d324=_0x3a63d6[_0x36ed9a(0x602)]===!![];if(_0x35d324){document['getElementById'](_0x36ed9a(0xcf4))['dataset'][_0x36ed9a(0x6d0)]=_0x36ed9a(0x862);const _0x17603d=document['getElementById']('selected-answer-index-hidden');_0x17603d[_0x36ed9a(0x870)][_0x36ed9a(0xc39)]=_0x2958c1,_0x17603d[_0x36ed9a(0x870)][_0x36ed9a(0x327)]=JSON[_0x36ed9a(0x933)](_0x24b3c4),_0x17603d[_0x36ed9a(0x870)][_0x36ed9a(0x842)]=JSON['stringify'](_0x3a63d6),_0x17603d[_0x36ed9a(0x870)][_0x36ed9a(0xd36)]=_0x584ef0,document['getElementById'](_0x36ed9a(0xcf4))[_0x36ed9a(0xcbe)][_0x36ed9a(0xa49)](_0x36ed9a(0x8e4));}else handleSyncAnswerSubmit(_0x2958c1,_0x24b3c4,_0x3a63d6,_0x584ef0,![]);}_0x2cc280?document[_0x5a7a41(0x9c3)](_0x5a7a41(0x1f1))[_0x5a7a41(0x762)](_0x5a7a41(0xba1),()=>{const _0x172428=_0x5a7a41,_0x3ff3ff=document[_0x172428(0x9c3)](_0x172428(0x7d0))||document[_0x172428(0x9c3)](_0x172428(0x84a));if(_0x3ff3ff['value'][_0x172428(0xa93)]()===''){showMessage(_0x172428(0xc1d));return;}_0x4ac5f4(_0x3ff3ff['value'],_0x9c4cf0,_0x5e84bb,_0x492866);}):document['querySelectorAll'](_0x5a7a41(0x588))[_0x5a7a41(0x326)](_0x101901=>{_0x101901['addEventListener']('click',()=>{const _0x231575=_0x344c;_0x4ac5f4(_0x101901[_0x231575(0x870)][_0x231575(0x3bb)],_0x9c4cf0,_0x5e84bb,_0x492866);});});}async function handleSyncAnswerSubmit(_0x183d55,_0x59bfe4,_0x29120,_0x12a5f0,_0x35260b){const _0x3f814e=_0x15d57d;document['querySelectorAll'](_0x3f814e(0x43c))['forEach'](_0x5267f1=>_0x5267f1[_0x3f814e(0x704)]=!![]);const _0x4b21a2=_0x59bfe4[_0x3f814e(0xc6a)]||_0x29120[_0x3f814e(0x4b5)][_0x3f814e(0x434)];let _0x2fc307=![],_0x1a1e81=_0x183d55;switch(_0x4b21a2){case _0x3f814e(0x160):const _0xbe2927=parseInt(_0x183d55),_0x57e22e=_0x59bfe4['correctAnswer']===!![]||String(_0x59bfe4['correctAnswer'])[_0x3f814e(0x630)]()==='true';_0x2fc307=_0xbe2927===0x0&&_0x57e22e||_0xbe2927===0x1&&!_0x57e22e,_0x1a1e81=_0xbe2927===0x0?_0x3f814e(0x8f1):_0x3f814e(0x483);break;case _0x3f814e(0x31e):case'fill_in_no_choices':_0x2fc307=await gradeShortAnswer(_0x183d55,_0x59bfe4);break;case'matching_item':_0x2fc307=_0x183d55===_0x59bfe4[_0x3f814e(0xbfc)];break;case _0x3f814e(0x3ee):default:const _0x4cde38=parseInt(_0x183d55);_0x2fc307=_0x4cde38===_0x59bfe4['correctAnswerIndex'];_0x59bfe4[_0x3f814e(0x78a)]&&_0x59bfe4[_0x3f814e(0x78a)][_0x4cde38]&&(_0x1a1e81=_0x59bfe4[_0x3f814e(0x78a)][_0x4cde38]);break;}const _0x2dedc6=_0x2fc307?0x1:0x0,_0x46f87a=doc(db,_0x3f814e(0xc02)+appId+_0x3f814e(0x37d),currentLiveGameId),_0x3e66a6={};_0x3e66a6[_0x3f814e(0x52e)+_0x12a5f0+_0x3f814e(0x72e)]=increment(_0x2dedc6),_0x3e66a6[_0x3f814e(0x52e)+_0x12a5f0+'.answered']=!![];let _0x18b110=null;(_0x4b21a2==='multiple_choice'||_0x4b21a2==='true_false'||_0x4b21a2===_0x3f814e(0x1d1))&&(_0x18b110=parseInt(_0x183d55));_0x3e66a6['players.'+_0x12a5f0+_0x3f814e(0x8b2)]=_0x18b110;const _0x28f2b5={'questionIndex':_0x29120[_0x3f814e(0x819)],'questionId':_0x59bfe4['id'],'answer':_0x183d55,'answerText':_0x1a1e81,'isCorrect':_0x2fc307,'originalQuestionText':_0x59bfe4[_0x3f814e(0xb0e)]||_0x59bfe4['stem'],'wasConfident':_0x35260b};_0x3e66a6[_0x3f814e(0x52e)+_0x12a5f0+_0x3f814e(0xb79)]=arrayUnion(_0x28f2b5),await updateDoc(_0x46f87a,_0x3e66a6);}initialize();
