const _0x527e23=_0x2f9e;(function(_0x427e96,_0x1ac55f){const _0x349b47=_0x2f9e,_0x477e7d=_0x427e96();while(!![]){try{const _0x450160=parseInt(_0x349b47(0x927))/0x1+-parseInt(_0x349b47(0x688))/0x2+parseInt(_0x349b47(0x8da))/0x3*(parseInt(_0x349b47(0x8df))/0x4)+-parseInt(_0x349b47(0x565))/0x5+parseInt(_0x349b47(0x341))/0x6+-parseInt(_0x349b47(0x266))/0x7+-parseInt(_0x349b47(0x1eb))/0x8*(-parseInt(_0x349b47(0x7cd))/0x9);if(_0x450160===_0x1ac55f)break;else _0x477e7d['push'](_0x477e7d['shift']());}catch(_0x361225){_0x477e7d['push'](_0x477e7d['shift']());}}}(_0x5173,0x7a866));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let modalConfirmAction=null,cheatAttempts=0x0;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x527e23(0x69a)};const allMathTopics=[{'category':_0x527e23(0x601),'name':_0x527e23(0x357)},{'category':_0x527e23(0x601),'name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x527e23(0x601),'name':_0x527e23(0x39c)},{'category':_0x527e23(0x601),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':'จำนวนและการดำเนินการ','name':_0x527e23(0x36d)},{'category':_0x527e23(0x601),'name':'การลบ'},{'category':_0x527e23(0x601),'name':_0x527e23(0x7fe)},{'category':_0x527e23(0x601),'name':'การหาร'},{'category':_0x527e23(0x601),'name':_0x527e23(0x3ca)},{'category':_0x527e23(0x601),'name':'จำนวนเต็มลบ'},{'category':_0x527e23(0x601),'name':_0x527e23(0x29a)},{'category':'จำนวนและการดำเนินการ','name':_0x527e23(0x568)},{'category':_0x527e23(0x601),'name':_0x527e23(0x791)},{'category':_0x527e23(0x601),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x527e23(0x601),'name':_0x527e23(0x2e1)},{'category':_0x527e23(0x601),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x527e23(0x601),'name':_0x527e23(0x20e)},{'category':_0x527e23(0x601),'name':_0x527e23(0x394)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x527e23(0x601),'name':_0x527e23(0x28a)},{'category':_0x527e23(0x601),'name':_0x527e23(0x5ee)},{'category':_0x527e23(0x601),'name':_0x527e23(0x60c)},{'category':_0x527e23(0x601),'name':'การหารเศษส่วน'},{'category':_0x527e23(0x601),'name':_0x527e23(0x667)},{'category':'จำนวนและการดำเนินการ','name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x527e23(0x601),'name':_0x527e23(0x3ab)},{'category':_0x527e23(0x601),'name':_0x527e23(0x236)},{'category':_0x527e23(0x601),'name':_0x527e23(0x3b4)},{'category':_0x527e23(0x601),'name':_0x527e23(0x5f4)},{'category':_0x527e23(0x601),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x527e23(0x601),'name':_0x527e23(0x901)},{'category':_0x527e23(0x601),'name':_0x527e23(0x584)},{'category':_0x527e23(0x601),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x527e23(0x601),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x527e23(0x601),'name':_0x527e23(0x7b7)},{'category':_0x527e23(0x601),'name':_0x527e23(0x497)},{'category':_0x527e23(0x601),'name':_0x527e23(0x595)},{'category':_0x527e23(0x5e7),'name':_0x527e23(0x826)},{'category':_0x527e23(0x5e7),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x527e23(0x5e7),'name':_0x527e23(0x292)},{'category':_0x527e23(0x5e7),'name':_0x527e23(0x309)},{'category':_0x527e23(0x5e7),'name':_0x527e23(0x674)},{'category':_0x527e23(0x5e7),'name':'เส้นรอบรูป'},{'category':_0x527e23(0x5e7),'name':_0x527e23(0x8bd)},{'category':_0x527e23(0x5e7),'name':_0x527e23(0x7db)},{'category':_0x527e23(0x5e7),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x527e23(0x5e7),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x527e23(0x5e7),'name':_0x527e23(0x698)},{'category':_0x527e23(0x5e7),'name':_0x527e23(0x298)},{'category':_0x527e23(0x5e7),'name':'สเกลและแผนที่'},{'category':_0x527e23(0x5e7),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x527e23(0x508),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':'เรขาคณิต','name':'ความสัมพันธ์ของมุม'},{'category':_0x527e23(0x508),'name':_0x527e23(0x26a)},{'category':'เรขาคณิต','name':_0x527e23(0x7db)},{'category':'เรขาคณิต','name':_0x527e23(0x41a)},{'category':_0x527e23(0x508),'name':_0x527e23(0x4ea)},{'category':_0x527e23(0x508),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x527e23(0x508),'name':_0x527e23(0x7c1)},{'category':_0x527e23(0x508),'name':_0x527e23(0x428)},{'category':_0x527e23(0x508),'name':_0x527e23(0x243)},{'category':_0x527e23(0x508),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x527e23(0x508),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x527e23(0x508),'name':_0x527e23(0x275)},{'category':'เรขาคณิต','name':_0x527e23(0x4df)},{'category':_0x527e23(0x508),'name':_0x527e23(0x65b)},{'category':_0x527e23(0x567),'name':_0x527e23(0x762)},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x527e23(0x567),'name':_0x527e23(0x5c1)},{'category':_0x527e23(0x567),'name':_0x527e23(0x2e5)},{'category':_0x527e23(0x567),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x527e23(0x567),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x527e23(0x567),'name':_0x527e23(0x817)},{'category':_0x527e23(0x567),'name':_0x527e23(0x2e6)},{'category':_0x527e23(0x567),'name':_0x527e23(0x1c9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x527e23(0x761)},{'category':_0x527e23(0x567),'name':_0x527e23(0x6bb)},{'category':_0x527e23(0x567),'name':_0x527e23(0x66e)},{'category':_0x527e23(0x567),'name':'สมการลอการิทึม'},{'category':_0x527e23(0x567),'name':_0x527e23(0x3dc)},{'category':_0x527e23(0x567),'name':_0x527e23(0x87e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x527e23(0x8bf)},{'category':_0x527e23(0x567),'name':_0x527e23(0x1b7)},{'category':_0x527e23(0x567),'name':_0x527e23(0x2e2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x527e23(0x52c)},{'category':_0x527e23(0x567),'name':'ฟังก์ชันผกผัน'},{'category':_0x527e23(0x567),'name':_0x527e23(0x7af)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x527e23(0x628)},{'category':_0x527e23(0x567),'name':_0x527e23(0x625)},{'category':_0x527e23(0x567),'name':_0x527e23(0x6f0)},{'category':_0x527e23(0x567),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x527e23(0x567),'name':_0x527e23(0x30a)},{'category':_0x527e23(0x567),'name':_0x527e23(0x837)},{'category':_0x527e23(0x567),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x527e23(0x567),'name':_0x527e23(0x801)},{'category':_0x527e23(0x567),'name':_0x527e23(0x4a8)},{'category':_0x527e23(0x567),'name':_0x527e23(0x2d6)},{'category':_0x527e23(0x567),'name':_0x527e23(0x54d)},{'category':_0x527e23(0x567),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x527e23(0x567),'name':_0x527e23(0x24c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x527e23(0x61d)},{'category':_0x527e23(0x1ec),'name':_0x527e23(0x2b9)},{'category':_0x527e23(0x1ec),'name':_0x527e23(0x3ef)},{'category':'เรขาคณิตวิเคราะห์','name':_0x527e23(0x573)},{'category':_0x527e23(0x1ec),'name':_0x527e23(0x849)},{'category':_0x527e23(0x1ec),'name':_0x527e23(0x547)},{'category':_0x527e23(0x1ec),'name':_0x527e23(0x494)},{'category':_0x527e23(0x1ec),'name':'พาราโบลา'},{'category':_0x527e23(0x1ec),'name':_0x527e23(0x73c)},{'category':_0x527e23(0x1ec),'name':_0x527e23(0x6ab)},{'category':'ตรีโกณมิติ','name':_0x527e23(0x23a)},{'category':'ตรีโกณมิติ','name':_0x527e23(0x724)},{'category':_0x527e23(0x4de),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x527e23(0x4de),'name':_0x527e23(0x795)},{'category':'ตรีโกณมิติ','name':_0x527e23(0x1d4)},{'category':_0x527e23(0x4de),'name':_0x527e23(0x47f)},{'category':_0x527e23(0x4de),'name':_0x527e23(0x500)},{'category':'ตรีโกณมิติ','name':_0x527e23(0x242)},{'category':_0x527e23(0x4de),'name':_0x527e23(0x410)},{'category':_0x527e23(0x4de),'name':_0x527e23(0x771)},{'category':_0x527e23(0x4de),'name':_0x527e23(0x6c5)},{'category':_0x527e23(0x4f3),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x8a2)},{'category':'สถิติและความน่าจะเป็น','name':_0x527e23(0x5dd)},{'category':_0x527e23(0x4f3),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x7e9)},{'category':_0x527e23(0x4f3),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x6eb)},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x913)},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x26c)},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x3c3)},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x864)},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x429)},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x784)},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x63e)},{'category':'สถิติและความน่าจะเป็น','name':_0x527e23(0x59e)},{'category':'สถิติและความน่าจะเป็น','name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x893)},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x31a)},{'category':'สถิติและความน่าจะเป็น','name':_0x527e23(0x2ba)},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x71c)},{'category':_0x527e23(0x4f3),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x527e23(0x4f3),'name':_0x527e23(0x487)},{'category':'สถิติและความน่าจะเป็น','name':_0x527e23(0x3d2)},{'category':'สถิติและความน่าจะเป็น','name':_0x527e23(0x49d)},{'category':_0x527e23(0x57a),'name':_0x527e23(0x5ca)},{'category':_0x527e23(0x57a),'name':_0x527e23(0x542)},{'category':_0x527e23(0x57a),'name':_0x527e23(0x3bf)},{'category':_0x527e23(0x57a),'name':_0x527e23(0x3be)},{'category':_0x527e23(0x57a),'name':_0x527e23(0x622)},{'category':_0x527e23(0x57a),'name':_0x527e23(0x6a7)},{'category':'แคลคูลัสเบื้องต้น','name':'ความชันเส้นสัมผัส'},{'category':_0x527e23(0x57a),'name':_0x527e23(0x47e)},{'category':_0x527e23(0x57a),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x527e23(0x57a),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์จำกัด'},{'category':_0x527e23(0x57a),'name':_0x527e23(0x7bb)},{'category':_0x527e23(0x57a),'name':_0x527e23(0x2b3)},{'category':_0x527e23(0x6bf),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x527e23(0x6bf),'name':_0x527e23(0x235)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x527e23(0x2ff)},{'category':_0x527e23(0x6bf),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x527e23(0x6bf),'name':_0x527e23(0x753)},{'category':_0x527e23(0x6bf),'name':'ดีเทอร์มิแนนต์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x527e23(0x1ea)},{'category':_0x527e23(0x61f),'name':_0x527e23(0x27e)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x527e23(0x5aa)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x527e23(0x354)},{'category':_0x527e23(0x61f),'name':_0x527e23(0x2c6)},{'category':_0x527e23(0x61f),'name':_0x527e23(0x8c5)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x527e23(0x37e)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x527e23(0x794)},{'category':_0x527e23(0x32c),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x56204a=_0x527e23,_0x511137=document[_0x56204a(0x536)](_0x56204a(0x1a9));if(!_0x511137)return;const _0x42516c=allMathTopics,_0x4a9471=customMathTopics[_0x56204a(0x421)](_0x5a75bc=>({'id':_0x5a75bc['id'],'category':_0x56204a(0x5b0),'name':_0x5a75bc['name']})),_0x3e34e7=[..._0x42516c,..._0x4a9471],_0x59c3a8=_0x3e34e7[_0x56204a(0x768)]((_0x202269,_0x491291)=>{const _0x53ca9d=_0x56204a;return!_0x202269[_0x491291[_0x53ca9d(0x439)]]&&(_0x202269[_0x491291[_0x53ca9d(0x439)]]=[]),_0x202269[_0x491291[_0x53ca9d(0x439)]][_0x53ca9d(0x3eb)](_0x491291),_0x202269;},{});let _0x1f8fa4='';const _0x2b6d5e=[_0x56204a(0x5b0),...Object[_0x56204a(0x623)](_0x59c3a8)[_0x56204a(0x8fe)](_0x11026d=>_0x11026d!==_0x56204a(0x5b0))];for(const _0x4a410a of _0x2b6d5e){if(_0x59c3a8[_0x4a410a]){const _0x27ab09=_0x4a410a==='หัวข้อที่สร้างเอง',_0x281da1=_0x27ab09?'fas\x20fa-user-edit':'fas\x20fa-bookmark',_0xbcc622=_0x27ab09?_0x56204a(0x485):_0x56204a(0x785);_0x1f8fa4+=_0x56204a(0x3b8),_0x1f8fa4+=_0x56204a(0x863)+_0xbcc622+_0x56204a(0x650)+_0x281da1+_0x56204a(0x363)+_0x4a410a+_0x56204a(0x7d5),_0x59c3a8[_0x4a410a][_0x56204a(0x5b6)](_0x3ca0c5=>{const _0x2f5f11=_0x56204a,_0x4204eb=!!_0x3ca0c5['id'],_0x383f07=_0x4204eb?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ca0c5['id']+_0x2f5f11(0x706)+_0x3ca0c5['id']+_0x2f5f11(0x3f3)+_0x3ca0c5['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ca0c5['id']+_0x2f5f11(0x6cd):'';_0x1f8fa4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x3ca0c5['id']||'')+_0x2f5f11(0x56b)+_0x3ca0c5['name']+_0x2f5f11(0x64d)+_0x3ca0c5[_0x2f5f11(0x882)]+_0x2f5f11(0x93a)+(_0x4204eb?_0x2f5f11(0x24f)+_0x3ca0c5['name']+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x383f07+_0x2f5f11(0x40c);}),_0x1f8fa4+=_0x56204a(0x3b7);}}_0x511137['innerHTML']=_0x1f8fa4||_0x56204a(0x3ed),_0x511137[_0x56204a(0x5be)](_0x56204a(0x337),updateSelectedTopicsCount),_0x511137[_0x56204a(0x2a3)](_0x56204a(0x337),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x22b69a,_0x5005a6){const _0x4f10fe=_0x527e23;if(!_0x22b69a||!_0x5005a6['trim']()){showMessage(_0x4f10fe(0x39e));return;}try{const _0x273386=doc(db,_0x4f10fe(0x51d)+appId+_0x4f10fe(0x2d4),_0x22b69a);await updateDoc(_0x273386,{'name':_0x5005a6[_0x4f10fe(0x2a6)]()}),showMessage(_0x4f10fe(0x313));}catch(_0xb27242){console[_0x4f10fe(0x52f)](_0x4f10fe(0x775),_0xb27242),showMessage(_0x4f10fe(0x297));}}function toggleTopicEditMode(_0x203adc,_0x3e4647){const _0x5bee9e=_0x527e23;if(!_0x203adc)return;const _0x2956b0=_0x203adc[_0x5bee9e(0x1ed)](_0x5bee9e(0x6de)),_0x3e177a=_0x203adc['querySelector'](_0x5bee9e(0x33e)),_0x7c2dc8=_0x203adc[_0x5bee9e(0x1ed)](_0x5bee9e(0x6dd)),_0x4e2629=_0x203adc['querySelector'](_0x5bee9e(0x71b));_0x2956b0[_0x5bee9e(0x932)][_0x5bee9e(0x4f0)](_0x5bee9e(0x933),_0x3e4647),_0x3e177a[_0x5bee9e(0x932)][_0x5bee9e(0x4f0)](_0x5bee9e(0x933),!_0x3e4647),_0x7c2dc8[_0x5bee9e(0x932)][_0x5bee9e(0x4f0)](_0x5bee9e(0x933),_0x3e4647),_0x4e2629[_0x5bee9e(0x932)][_0x5bee9e(0x4f0)]('hidden',!_0x3e4647),_0x3e4647&&(_0x3e177a[_0x5bee9e(0x916)](),_0x3e177a[_0x5bee9e(0x603)]());}function updateSelectedTopicsCount(){const _0x319b63=_0x527e23,_0x1b4a33=document[_0x319b63(0x536)](_0x319b63(0x1a9)),_0x183ddf=_0x1b4a33[_0x319b63(0x7d8)](_0x319b63(0x221))[_0x319b63(0x334)],_0x17d2fc=document[_0x319b63(0x536)](_0x319b63(0x81e));_0x183ddf>0x0?_0x17d2fc[_0x319b63(0x69f)]='(เลือกแล้ว\x20'+_0x183ddf+_0x319b63(0x585):_0x17d2fc[_0x319b63(0x69f)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x527e23(0x880),quizLeaderboardSortOrder=_0x527e23(0x3c6),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x527e23(0x3f0),'name':_0x527e23(0x648),'description':_0x527e23(0x479),'icon':_0x527e23(0x66c)},'QUICK_THINKER':{'id':_0x527e23(0x5af),'name':_0x527e23(0x846),'description':_0x527e23(0x1ee),'icon':_0x527e23(0x8a1)},'ON_FIRE':{'id':_0x527e23(0x507),'name':_0x527e23(0x680),'description':_0x527e23(0x8cc),'icon':_0x527e23(0x2f1)},'FIRST_TRY_ACE':{'id':_0x527e23(0x545),'name':_0x527e23(0x88f),'description':_0x527e23(0x284),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':'comeback_king','name':_0x527e23(0x1ef),'description':_0x527e23(0x812),'icon':_0x527e23(0x76b)},'SPECIALIST':{'id':_0x527e23(0x586),'name':_0x527e23(0x73f),'description':_0x527e23(0x8f6),'icon':_0x527e23(0x58f)},'PERSEVERANCE':{'id':_0x527e23(0x345),'name':_0x527e23(0x505),'description':_0x527e23(0x630),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x527e23(0x1fe),'authDomain':_0x527e23(0x4a2),'projectId':_0x527e23(0x3e6),'storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':'274192258111','appId':_0x527e23(0x1f0),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x527e23(0x552)?__app_id:_0x527e23(0x22e),adminView=document[_0x527e23(0x536)](_0x527e23(0x47b)),studentView=document[_0x527e23(0x536)]('student-view'),projectDashboardView=document[_0x527e23(0x536)](_0x527e23(0x34d)),projectDetailView=document['getElementById'](_0x527e23(0x312)),quizResultsView=document['getElementById'](_0x527e23(0x3ee)),projectList=document['getElementById'](_0x527e23(0x3da)),noProjectsMsg=document['getElementById']('no-projects-msg'),projectTitle=document[_0x527e23(0x536)](_0x527e23(0x7a1)),projectIdDisplay=document[_0x527e23(0x536)](_0x527e23(0x2f7)),studentList=document[_0x527e23(0x536)](_0x527e23(0x1d5)),messageModal=document[_0x527e23(0x536)](_0x527e23(0x8dc)),modalMessage=document[_0x527e23(0x536)](_0x527e23(0x380)),createProjectModal=document[_0x527e23(0x536)](_0x527e23(0x92f)),adminPasswordModal=document[_0x527e23(0x536)]('admin-password-modal'),confirmationModal=document['getElementById'](_0x527e23(0x4b3)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x527e23(0x536)](_0x527e23(0x6ff)),textTab=document['getElementById'](_0x527e23(0x240)),topicInputArea=document[_0x527e23(0x536)](_0x527e23(0x861)),textInputArea=document['getElementById'](_0x527e23(0x531)),manageTab=document[_0x527e23(0x536)]('manage-tab'),resultsTab=document[_0x527e23(0x536)](_0x527e23(0x26d)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document[_0x527e23(0x536)]('manage-tab-content'),resultsTabContent=document['getElementById'](_0x527e23(0x26e)),leaderboardTabContent=document[_0x527e23(0x536)]('leaderboard-tab-content'),projectQuizzesList=document[_0x527e23(0x536)](_0x527e23(0x4fc)),fileTab=document['getElementById'](_0x527e23(0x807)),fileInputArea=document[_0x527e23(0x536)]('file-input-area'),fileUploadInput=document[_0x527e23(0x536)](_0x527e23(0x76d)),worksheetTab=document[_0x527e23(0x536)]('worksheet-tab'),worksheetInputArea=document[_0x527e23(0x536)]('worksheet-input-area'),generateWorksheetBtn=document[_0x527e23(0x536)](_0x527e23(0x2a8)),studentInitialView=document['getElementById'](_0x527e23(0x2d3)),studentNameSelectionView=document[_0x527e23(0x536)](_0x527e23(0x70f)),studentQuizArea=document[_0x527e23(0x536)](_0x527e23(0x748)),studentResultArea=document['getElementById']('student-result-area'),studentReadingArea=document['getElementById'](_0x527e23(0x5db)),loadQuizBtn=document[_0x527e23(0x536)]('load-quiz-btn'),startQuizBtn=document[_0x527e23(0x536)](_0x527e23(0x31f)),studentJoinGameView=document['getElementById'](_0x527e23(0x7f0)),presentationModal=document[_0x527e23(0x536)]('presentation-modal'),renameQuizModal=document[_0x527e23(0x536)](_0x527e23(0x2d9)),moveQuizModal=document[_0x527e23(0x536)]('move-quiz-modal'),quizSettingsModal=document['getElementById'](_0x527e23(0x934)),quizStatusModal=document[_0x527e23(0x536)]('quiz-status-modal'),liveGameView=document['getElementById'](_0x527e23(0x539));function handleAutoFixLatex(){const _0x407449=_0x527e23,_0x531457=document['getElementById'](_0x407449(0x6f1))||document,_0x2f8fae=_0x531457['querySelectorAll'](['textarea',_0x407449(0x3bc),_0x407449(0x2c9),_0x407449(0x5bd),_0x407449(0x661),_0x407449(0x89a),'.choice-text',_0x407449(0x8f7),'.answer-text'][_0x407449(0x55b)](','));let _0x2a7336=0x0;const _0x38ccc8=_0x1ff8e2=>_0x407449(0x4bd)in _0x1ff8e2?String(_0x1ff8e2[_0x407449(0x4bd)]):_0x1ff8e2[_0x407449(0x3ad)]!==undefined?_0x1ff8e2[_0x407449(0x3ad)]:_0x1ff8e2['textContent']||'',_0x4fc45a=(_0x5ec683,_0x4b18ff)=>{const _0x29c0b7=_0x407449;if(_0x29c0b7(0x4bd)in _0x5ec683){_0x5ec683[_0x29c0b7(0x4bd)]=_0x4b18ff;return;}if(_0x5ec683['querySelector']&&_0x5ec683[_0x29c0b7(0x1ed)]('mjx-container'))return;if(_0x5ec683[_0x29c0b7(0x3ad)]!==undefined)_0x5ec683[_0x29c0b7(0x3ad)]=_0x4b18ff;else _0x5ec683['textContent']=_0x4b18ff;},_0x4b061a=_0xd7b586=>_0xd7b586[_0x407449(0x72f)](/\u00A0/g,'\x20')[_0x407449(0x72f)](/\u200B/g,'')[_0x407449(0x72f)](/\r\n?/g,'\x0a'),_0x3902e2=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x2da669=_0x169508=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x407449(0x39a)](_0x169508),_0x26e043=_0x2dd11d=>{const _0x125c1f=_0x407449,_0x514acc=(_0x2dd11d[_0x125c1f(0x4b9)](/\{/g)||[])[_0x125c1f(0x334)],_0x1858d9=(_0x2dd11d['match'](/\}/g)||[])[_0x125c1f(0x334)];if(_0x514acc>_0x1858d9)_0x2dd11d=_0x2dd11d+'}'[_0x125c1f(0x2f5)](_0x514acc-_0x1858d9);return _0x2dd11d;},_0x5c7fef=_0x5dde5c=>{const _0x10e8e8=_0x407449;let _0x20ff82=_0x5dde5c['trim']();const _0x3ddffd=[_0x10e8e8(0x59b),'dfrac',_0x10e8e8(0x4b7),_0x10e8e8(0x540),'text',_0x10e8e8(0x4bc),'cdot',_0x10e8e8(0x483),'leq',_0x10e8e8(0x68f),'le','ge',_0x10e8e8(0x533),'pm',_0x10e8e8(0x906),_0x10e8e8(0x594),_0x10e8e8(0x37b),_0x10e8e8(0x602),_0x10e8e8(0x8e8),'ln',_0x10e8e8(0x7f3),_0x10e8e8(0x3d9),_0x10e8e8(0x54f),_0x10e8e8(0x40f),_0x10e8e8(0x4dc),_0x10e8e8(0x260),_0x10e8e8(0x3cf),'circ',_0x10e8e8(0x600)];_0x20ff82=_0x20ff82[_0x10e8e8(0x72f)](new RegExp(_0x10e8e8(0x71d)+_0x3ddffd[_0x10e8e8(0x55b)]('|')+_0x10e8e8(0x287),'g'),'\x5c'),_0x3ddffd['forEach'](_0x380e3f=>{const _0x4870ee=_0x10e8e8;_0x20ff82=_0x20ff82[_0x4870ee(0x72f)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x380e3f+'\x5cb','g'),(_0x56684f,_0x117699)=>_0x117699+'\x5c'+_0x380e3f);});const _0x2aa902=[[/×/g,_0x10e8e8(0x5d3)],[/·/g,_0x10e8e8(0x67d)],[/÷/g,_0x10e8e8(0x60a)],[/≤/g,_0x10e8e8(0x909)],[/≥/g,_0x10e8e8(0x672)],[/≠/g,_0x10e8e8(0x7a8)],[/±/g,_0x10e8e8(0x2d2)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x2aa902['forEach'](([_0x3ef556,_0x31529e])=>{_0x20ff82=_0x20ff82['replace'](_0x3ef556,_0x31529e);}),_0x20ff82=_0x20ff82[_0x10e8e8(0x72f)](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x20ff82=_0x20ff82[_0x10e8e8(0x72f)](/√\s*([A-Za-z0-9]+)/g,_0x10e8e8(0x8b5)),_0x20ff82=_0x20ff82[_0x10e8e8(0x72f)](/(^|[^\\])\bimes\b/g,_0x10e8e8(0x8f4))['replace'](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x10e8e8(0x8bc))[_0x10e8e8(0x72f)](/(^|[^\\])ext\{/g,_0x10e8e8(0x4be))['replace'](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x10e8e8(0x72f)](/\\text\(([^)]*)\)/g,_0x10e8e8(0x642))[_0x10e8e8(0x72f)](/\s\\frac/g,_0x10e8e8(0x460)),_0x20ff82=_0x20ff82[_0x10e8e8(0x72f)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x3b30af,_0xa1dba9,_0x3ae532,_0x45dd12)=>_0xa1dba9+_0x10e8e8(0x923)+_0x3ae532+'}{'+_0x45dd12+'}'),_0x20ff82=_0x20ff82[_0x10e8e8(0x72f)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,'\x5cfrac{$1}{$2}')['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x10e8e8(0x5a0)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x10e8e8(0x87c)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x10e8e8(0x87c)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x10e8e8(0x87c)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x10e8e8(0x87c)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x10e8e8(0x87c)],[/(\d+)\s*°\s*C/g,_0x10e8e8(0x87c)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']]['forEach'](([_0x1d3373,_0x3ff98f])=>{_0x20ff82=_0x20ff82['replace'](_0x1d3373,_0x3ff98f);}),_0x20ff82=_0x20ff82[_0x10e8e8(0x72f)](/(\d+)\s*%/g,'$1\x5c%'),_0x20ff82=_0x20ff82[_0x10e8e8(0x72f)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x10e8e8(0x72f)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x10e8e8(0x3cb))['replace'](/\{\{([^\{\}]+)\}\}/g,_0x10e8e8(0x2d0)),[_0x10e8e8(0x594),_0x10e8e8(0x37b),_0x10e8e8(0x602),_0x10e8e8(0x8e8),'ln']['forEach'](_0x2fbd7b=>{const _0x42ae3d=_0x10e8e8;_0x20ff82=_0x20ff82['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x2fbd7b+_0x42ae3d(0x53e),'g'),(_0x462d5b,_0x43b387)=>_0x43b387+'\x5c'+_0x2fbd7b+'(');});const _0x2c9757=(_0x20ff82['match'](/\\left\b/g)||[])[_0x10e8e8(0x334)],_0x216c86=(_0x20ff82[_0x10e8e8(0x4b9)](/\\right\b/g)||[])[_0x10e8e8(0x334)];if(_0x2c9757!==_0x216c86)_0x20ff82=_0x20ff82[_0x10e8e8(0x72f)](/\\left\b/g,'')[_0x10e8e8(0x72f)](/\\right\b/g,'');return _0x20ff82=_0x26e043(_0x20ff82),_0x20ff82;},_0x30e1ce=_0x3aa7b5=>{const _0x103bd4=_0x407449;if(/\$|\\\(|\\\[/[_0x103bd4(0x39a)](_0x3aa7b5))return _0x3aa7b5;if(!_0x3902e2['test'](_0x3aa7b5))return _0x3aa7b5;const _0x35e2bf=_0x3aa7b5[_0x103bd4(0x4b9)](/^\s*/)[0x0],_0x5784bf=_0x3aa7b5[_0x103bd4(0x4b9)](/\s*$/)[0x0],_0x5a5137=_0x3aa7b5[_0x103bd4(0x2a6)]();return _0x35e2bf+'$'+_0x5c7fef(_0x5a5137)+'$'+_0x5784bf;},_0x51fecb=_0x554552=>_0x554552['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x2f8fae[_0x407449(0x5b6)](_0x3548b2=>{const _0x557ed6=_0x407449;if(_0x3548b2[_0x557ed6(0x1ed)]&&_0x3548b2[_0x557ed6(0x1ed)](_0x557ed6(0x8e5)))return;const _0x45412e=_0x38ccc8(_0x3548b2);let _0x2144f1=_0x4b061a(_0x45412e);_0x2144f1=_0x2144f1['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x13bceb,_0x354924)=>'$$'+_0x5c7fef(_0x354924)+'$$')[_0x557ed6(0x72f)](/\$([^$]*?)\$/g,(_0x49edeb,_0x50cc32)=>'$'+_0x5c7fef(_0x50cc32)+'$')[_0x557ed6(0x72f)](/\\\(([\s\S]*?)\\\)/g,(_0x51fc2e,_0x445ab5)=>'\x5c('+_0x5c7fef(_0x445ab5)+'\x5c)')[_0x557ed6(0x72f)](/\\\[([\s\S]*?)\\\]/g,(_0x44075d,_0x22157a)=>'\x5c['+_0x5c7fef(_0x22157a)+'\x5c]');let _0x23730d=_0x2144f1,_0x171bf9=0x0;const _0x413d26=_0x22765b=>_0x22765b[_0x557ed6(0x72f)](/S([^S]{0,2000}?)S/g,(_0x2aa5d4,_0xadf3c4)=>_0x3902e2[_0x557ed6(0x39a)](_0xadf3c4)?'$'+_0x5c7fef(_0xadf3c4)+'$':_0x2aa5d4);while(_0x171bf9++<0x14){const _0x6bea87=_0x413d26(_0x23730d);if(_0x6bea87===_0x23730d)break;_0x23730d=_0x6bea87;}_0x2144f1=_0x23730d,_0x2144f1=_0x2144f1['split']('\x0a')[_0x557ed6(0x421)](_0x217118=>{const _0x5017ca=_0x557ed6;if(!(/[,\u3001，;；]/[_0x5017ca(0x39a)](_0x217118)||/\s(?:และ|หรือ)\s/[_0x5017ca(0x39a)](_0x217118))||!_0x3902e2[_0x5017ca(0x39a)](_0x217118))return _0x217118;return _0x51fecb(_0x217118)[_0x5017ca(0x421)](_0x172f2e=>{const _0x1cdea7=_0x5017ca;if(/^\s(?:และ|หรือ)\s$/[_0x1cdea7(0x39a)](_0x172f2e)||/^[,\u3001，;；]$/[_0x1cdea7(0x39a)](_0x172f2e))return _0x172f2e;return _0x30e1ce(_0x172f2e);})[_0x5017ca(0x55b)]('');})['join']('\x0a'),_0x2144f1=_0x2144f1[_0x557ed6(0x207)]('\x0a')['map'](_0x33be30=>{const _0x383801=_0x557ed6,_0x1c04a7=_0x33be30[_0x383801(0x2a6)]();if(!_0x1c04a7)return _0x33be30;const _0x280314=/\$|\\\(|\\\[/[_0x383801(0x39a)](_0x1c04a7),_0x3e9af2=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x383801(0x39a)](_0x1c04a7);if(_0x280314||!_0x3e9af2||_0x2da669(_0x1c04a7))return _0x33be30;return _0x33be30['replace'](_0x1c04a7,'$'+_0x5c7fef(_0x1c04a7)+'$');})[_0x557ed6(0x55b)]('\x0a'),_0x2144f1=_0x2144f1['replace'](/(\d+)\s*°\s*C\b/g,(_0x392a9f,_0x32cd2a,_0xbc4441,_0x1e166b)=>{const _0x17cc76=_0x557ed6,_0x325467=_0x1e166b[_0xbc4441-0x1];if(_0x325467==='$'||_0x325467==='S'||_0x325467==='\x5c')return _0x392a9f;return'$'+_0x32cd2a+_0x17cc76(0x55d);})[_0x557ed6(0x72f)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x1da2b4,_0x4f5277,_0x41ed89,_0x398c0f)=>{const _0x1bedf5=_0x398c0f[_0x41ed89-0x1];if(_0x1bedf5==='$'||_0x1bedf5==='S'||_0x1bedf5==='\x5c')return _0x1da2b4;return'$'+_0x4f5277+'^{\x5ccirc}\x5ctext{C}$';})[_0x557ed6(0x72f)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x4b5255,_0xad817f,_0x13a00a,_0x32d392)=>{const _0x6707a7=_0x557ed6,_0x5cad39=_0x32d392[_0x13a00a-0x1];if(_0x5cad39==='$'||_0x5cad39==='S'||_0x5cad39==='\x5c')return _0x4b5255;return'$'+_0xad817f+_0x6707a7(0x55d);}),_0x2144f1=_0x2144f1['replace'](/\$\s*\$/g,'$$'),_0x2144f1!==_0x45412e&&(_0x4fc45a(_0x3548b2,_0x2144f1),_0x2a7336++);});if(_0x2a7336>0x0){showMessage(_0x407449(0x7a7)+_0x2a7336+'\x20ช่อง');try{if(window[_0x407449(0x450)]&&MathJax[_0x407449(0x7cc)])MathJax[_0x407449(0x7cc)]();window[_0x407449(0x4aa)]&&typeof renderMathInElement===_0x407449(0x664)&&renderMathInElement(_0x531457,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x1cd01b){}}else showMessage(_0x407449(0x6d7));}async function listenForCustomMathTopics(){const _0x5ea12c=_0x527e23,_0x27a4a9=collection(db,'artifacts/'+appId+_0x5ea12c(0x2d4));onSnapshot(_0x27a4a9,_0x4fba42=>{const _0x2bdf2e=_0x5ea12c;customMathTopics=_0x4fba42[_0x2bdf2e(0x34b)][_0x2bdf2e(0x421)](_0x15a2aa=>({'id':_0x15a2aa['id'],..._0x15a2aa[_0x2bdf2e(0x3b3)]()})),renderTopicCheckboxes();},_0x4612ad=>{const _0x2b30f6=_0x5ea12c;console[_0x2b30f6(0x52f)](_0x2b30f6(0x796),_0x4612ad);});}function handleSelectAllTopics(){const _0x1af477=_0x527e23,_0x44654e=document[_0x1af477(0x536)](_0x1af477(0x1a9)),_0x5d302d=_0x44654e[_0x1af477(0x7d8)]('input[type=\x22checkbox\x22]');_0x5d302d[_0x1af477(0x5b6)](_0x3bb22b=>{_0x3bb22b['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x7511fc=_0x527e23,_0x2777c7=document[_0x7511fc(0x536)]('math-topics-checkbox-container'),_0x259238=_0x2777c7[_0x7511fc(0x7d8)]('input[type=\x22checkbox\x22]');_0x259238[_0x7511fc(0x5b6)](_0x3606f1=>{const _0x43fa03=_0x7511fc;_0x3606f1[_0x43fa03(0x40b)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3f79a0){const _0x44aa41=_0x527e23;if(!_0x3f79a0)return;try{const _0xd7bece=doc(db,_0x44aa41(0x51d)+appId+_0x44aa41(0x2d4),_0x3f79a0);await deleteDoc(_0xd7bece),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x5def28){console[_0x44aa41(0x52f)]('Error\x20deleting\x20custom\x20topic:',_0x5def28),showMessage(_0x44aa41(0x69e));}}async function handleAddCustomMathTopic(){const _0x5fa6f1=_0x527e23,_0x2183c6=document[_0x5fa6f1(0x536)](_0x5fa6f1(0x2dc)),_0xbffd0=_0x2183c6['value'][_0x5fa6f1(0x2a6)]();if(!_0xbffd0){showMessage(_0x5fa6f1(0x353));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x4d1835=collection(db,_0x5fa6f1(0x51d)+appId+'/public/data/customMathTopics');await addDoc(_0x4d1835,{'name':_0xbffd0,'createdAt':serverTimestamp()}),_0x2183c6[_0x5fa6f1(0x4bd)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0xbffd0+'\x22\x20สำเร็จ');}catch(_0x45d9f6){console[_0x5fa6f1(0x52f)](_0x5fa6f1(0x3a7),_0x45d9f6),showMessage(_0x5fa6f1(0x268));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x14e2ed=_0x2f9e,_0x34ef66=document[_0x14e2ed(0x536)](_0x14e2ed(0x897)),_0x94bb74=document['getElementById'](_0x14e2ed(0x4c3)),_0x22ca13=_0x94bb74[_0x14e2ed(0x69f)];_0x34ef66[_0x14e2ed(0x932)]['remove'](_0x14e2ed(0x933)),_0x94bb74[_0x14e2ed(0x69f)]=_0x14e2ed(0x6fb);try{const _0xf33cc1=collection(db,'artifacts/'+appId+_0x14e2ed(0x300)),_0x391ebe=await getDocs(_0xf33cc1);if(_0x391ebe[_0x14e2ed(0x774)]){showMessage(_0x14e2ed(0x28c));return;}const _0x2ad98d=writeBatch(db);let _0xb0fc42=0x0;_0x391ebe[_0x14e2ed(0x5b6)](_0x582e31=>{const _0x553474=_0x14e2ed,_0x2663e3=_0x582e31[_0x553474(0x3b3)](),_0x4a349d=_0x582e31['id'];if(_0x2663e3[_0x553474(0x7cf)]&&_0x2663e3[_0x553474(0x7cf)][_0x553474(0x334)]>0x0&&!_0x2663e3['questions'][0x0][_0x553474(0x48c)]('id')){console['log']('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x4a349d+'\x20('+_0x2663e3[_0x553474(0x652)]+')'),_0xb0fc42++;const _0x5e6fb7=_0x2663e3['questions'][_0x553474(0x421)]((_0x1916fc,_0x1a03a1)=>{const _0x195c2a=_0x553474;return{..._0x1916fc,'id':_0x1916fc['id']||'q_'+Date[_0x195c2a(0x91e)]()+'_'+_0x4a349d+'_'+_0x1a03a1};}),_0x42d4aa=doc(db,_0x553474(0x51d)+appId+'/public/data/quizzes',_0x4a349d);_0x2ad98d[_0x553474(0x548)](_0x42d4aa,{'questions':_0x5e6fb7});}}),_0xb0fc42>0x0?(_0x94bb74[_0x14e2ed(0x69f)]=_0x14e2ed(0x5ff)+_0xb0fc42+_0x14e2ed(0x6ac),await _0x2ad98d['commit'](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0xb0fc42+_0x14e2ed(0x277))):showMessage(_0x14e2ed(0x4d4));}catch(_0x3796ea){console[_0x14e2ed(0x52f)](_0x14e2ed(0x1dc),_0x3796ea),showMessage(_0x14e2ed(0x3af)+_0x3796ea['message']);}finally{_0x34ef66[_0x14e2ed(0x932)][_0x14e2ed(0x596)]('hidden'),_0x94bb74['textContent']=_0x22ca13;}});}async function initialize(){const _0x1df531=_0x527e23;try{const _0x283125=initializeApp(firebaseConfig);db=getFirestore(_0x283125),auth=getAuth(_0x283125),setupAuthListener(),setupEventListeners(),showView(_0x1df531(0x490)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x4e814f){console[_0x1df531(0x52f)](_0x1df531(0x715),_0x4e814f),showMessage(_0x1df531(0x31b));}}async function handleVerifyAnswersInEditor(){const _0x3ae9dd=_0x527e23,_0x4aaf8b=document[_0x3ae9dd(0x536)](_0x3ae9dd(0x462));if(!_0x4aaf8b)return;const _0x4ee378=document[_0x3ae9dd(0x536)](_0x3ae9dd(0x3d6));_0x4ee378['disabled']=!![],_0x4ee378[_0x3ae9dd(0x343)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x33f09f=_0x4aaf8b[_0x3ae9dd(0x7d8)](_0x3ae9dd(0x33d)),_0x592841=Array[_0x3ae9dd(0x7f8)](_0x33f09f)['map']((_0x578820,_0x235d05)=>{const _0x3132de=_0x3ae9dd,_0xec5d57=_0x578820['dataset'][_0x3132de(0x20a)],_0x27f889=_0x578820[_0x3132de(0x1ed)](_0x3132de(0x350))[_0x3132de(0x4bd)];let _0x51c3e8=null,_0x230531='';switch(_0xec5d57){case _0x3132de(0x465):const _0x493661=_0x578820['querySelectorAll'](_0x3132de(0x3bc));_0x51c3e8=Array['from'](_0x493661)[_0x3132de(0x421)](_0x419e3b=>_0x419e3b[_0x3132de(0x4bd)]);const _0x45f58e=_0x578820['querySelector'](_0x3132de(0x541));_0x45f58e&&(_0x230531=_0x51c3e8[parseInt(_0x45f58e[_0x3132de(0x4bd)])]);break;case _0x3132de(0x5b8):_0x230531=_0x578820['querySelector'](_0x3132de(0x8a0))['value'];break;case _0x3132de(0x79f):const _0x210964=_0x578820[_0x3132de(0x1ed)](_0x3132de(0x541));_0x230531=_0x210964?_0x210964['value']:'';break;case _0x3132de(0x30b):_0x230531=_0x578820[_0x3132de(0x1ed)](_0x3132de(0x71f))[_0x3132de(0x4bd)];break;}return{'question':_0x27f889,'options':_0x51c3e8,'proposedAnswer':_0x230531};}),_0x19b914=_0x3ae9dd(0x4b0)+JSON[_0x3ae9dd(0x1fb)](_0x592841)+_0x3ae9dd(0x3dd),_0x346f46={'type':_0x3ae9dd(0x1d1),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x3ae9dd(0x914)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x3ae9dd(0x62b)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x3ae9dd(0x3f4),_0x3ae9dd(0x614),_0x3ae9dd(0x2ad)]}},_0x32e395=await callAnalysisApi(_0x19b914,{'type':_0x3ae9dd(0x7e3),'properties':{'result':_0x346f46},'required':[_0x3ae9dd(0x5ef)]});displayVerificationResultsInEditor(_0x32e395[_0x3ae9dd(0x5ef)]);}catch(_0x40a4c0){console[_0x3ae9dd(0x52f)](_0x3ae9dd(0x339),_0x40a4c0),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x4ee378[_0x3ae9dd(0x315)]=![],_0x4ee378[_0x3ae9dd(0x343)]=_0x3ae9dd(0x5a8);}}function displayVerificationResultsInEditor(_0x359495){const _0x4d63bc=_0x527e23;_0x359495['forEach'](_0x2ab288=>{const _0x27ade7=_0x2f9e,_0x33945e=document[_0x27ade7(0x1ed)](_0x27ade7(0x87d)+_0x2ab288['questionIndex']+'\x22]');if(_0x33945e){const _0x3624dd=_0x33945e[_0x27ade7(0x1ed)](_0x27ade7(0x4c9));if(_0x3624dd)_0x3624dd[_0x27ade7(0x89c)]();let _0x534cd9='';_0x2ab288['isCorrect']?_0x534cd9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':_0x534cd9=_0x27ade7(0x86e)+_0x2ab288['justification']+_0x27ade7(0x558)+(_0x2ab288[_0x27ade7(0x6fc)]?_0x27ade7(0x61c)+_0x2ab288[_0x27ade7(0x6fc)]+_0x27ade7(0x7d5):'')+_0x27ade7(0x1de),_0x33945e[_0x27ade7(0x286)](_0x27ade7(0x84d),_0x534cd9);}}),showMessage(_0x4d63bc(0x404));}async function handleVerifyAnswers(){const _0x549f42=_0x527e23;if(!currentQuizData||!currentQuizData[_0x549f42(0x7cf)]){showMessage(_0x549f42(0x608));return;}const _0x3ab120=document['getElementById'](_0x549f42(0x2b0));_0x3ab120['disabled']=!![],_0x3ab120[_0x549f42(0x343)]=_0x549f42(0x6b2);try{const _0x56e467=currentQuizData[_0x549f42(0x7cf)][_0x549f42(0x421)]((_0x31bf2b,_0x29321c)=>{const _0x3aaeb7=_0x549f42;let _0x3f938f='';const _0x32e2d4=_0x31bf2b[_0x3aaeb7(0x307)]||currentQuizData[_0x3aaeb7(0x62c)];switch(_0x32e2d4){case _0x3aaeb7(0x465):_0x3f938f=_0x31bf2b[_0x3aaeb7(0x23c)][_0x31bf2b[_0x3aaeb7(0x378)]];break;case _0x3aaeb7(0x5b8):_0x3f938f=_0x31bf2b[_0x3aaeb7(0x8c0)];break;case _0x3aaeb7(0x79f):_0x3f938f=_0x31bf2b[_0x3aaeb7(0x823)][_0x3aaeb7(0x793)]();break;case'matching_item':_0x3f938f=_0x31bf2b[_0x3aaeb7(0x413)];break;}return{'question':_0x31bf2b['stem']||_0x31bf2b[_0x3aaeb7(0x7fc)],'options':_0x31bf2b[_0x3aaeb7(0x23c)]||null,'proposedAnswer':_0x3f938f};}),_0x3971c2=_0x549f42(0x92c)+JSON[_0x549f42(0x1fb)](_0x56e467)+_0x549f42(0x810),_0x566350={'type':_0x549f42(0x1d1),'items':{'type':_0x549f42(0x7e3),'properties':{'questionIndex':{'type':_0x549f42(0x914)},'isCorrect':{'type':_0x549f42(0x1d3)},'justification':{'type':_0x549f42(0x62b)},'suggestedAnswer':{'type':_0x549f42(0x62b)}},'required':[_0x549f42(0x3f4),_0x549f42(0x614),_0x549f42(0x2ad)]}},_0x23608d=await callAnalysisApi(_0x3971c2,{'type':'OBJECT','properties':{'result':_0x566350},'required':[_0x549f42(0x5ef)]});displayVerificationResults(_0x23608d[_0x549f42(0x5ef)]);}catch(_0x1516ca){console[_0x549f42(0x52f)](_0x549f42(0x5a4),_0x1516ca),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3ab120[_0x549f42(0x315)]=![],_0x3ab120[_0x549f42(0x343)]=_0x549f42(0x8f9);}}function displayVerificationResults(_0x355fa8){const _0x493827=_0x527e23;_0x355fa8[_0x493827(0x5b6)](_0x4a23b0=>{const _0x4e77b2=_0x493827,_0x2debed=document[_0x4e77b2(0x1ed)](_0x4e77b2(0x4a6)+_0x4a23b0['questionIndex']+'\x22]');if(_0x2debed){const _0x27d6cc=_0x2debed[_0x4e77b2(0x1ed)](_0x4e77b2(0x3e8));if(_0x27d6cc)_0x27d6cc['remove']();let _0x554918='';_0x4a23b0[_0x4e77b2(0x614)]?_0x554918='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x554918=_0x4e77b2(0x267)+_0x4a23b0[_0x4e77b2(0x2ad)]+_0x4e77b2(0x558)+(_0x4a23b0[_0x4e77b2(0x6fc)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x4a23b0[_0x4e77b2(0x6fc)]+'</p>':'')+_0x4e77b2(0x57e),_0x2debed[_0x4e77b2(0x286)]('beforeend',_0x554918);}}),showMessage(_0x493827(0x404));}function compareNumericalAnswers(_0xe8b170,_0x51469c){const _0xff171a=_0x527e23,_0x4a2449=String(_0xe8b170)['replace'](',','.')[_0xff171a(0x72f)](/[^\d.-]/g,'')['trim'](),_0x3f8198=String(_0x51469c)['replace'](',','.')[_0xff171a(0x72f)](/[^\d.-]/g,'')[_0xff171a(0x2a6)]();if(_0x4a2449===''||_0x3f8198==='')return![];const _0x9858b3=parseFloat(_0x4a2449),_0x429172=parseFloat(_0x3f8198);if(isNaN(_0x9858b3)||isNaN(_0x429172))return![];return Math[_0xff171a(0x34a)](_0x9858b3-_0x429172)<0.001;}async function gradeShortAnswer(_0x2f00d8,_0x577ce3){const _0x1793ce=_0x527e23,_0x55d8bf=_0x577ce3['idealAnswer'];if(String(_0x2f00d8)[_0x1793ce(0x2a6)]()[_0x1793ce(0x76f)]()===String(_0x55d8bf)[_0x1793ce(0x2a6)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x2f00d8,_0x55d8bf))return!![];return console['log'](_0x1793ce(0x1d2)),await gradeShortAnswerWithAI(_0x2f00d8,_0x55d8bf);}async function revealAnswerForAdmin(_0x21f4d9,_0x2ab03f){const _0x1ddb6c=_0x527e23;if(document[_0x1ddb6c(0x536)](_0x1ddb6c(0x5c7)))return;const _0x24157a=doc(db,_0x1ddb6c(0x51d)+appId+_0x1ddb6c(0x1fc),currentLiveGameId);await updateDoc(_0x24157a,{'questionStatus':_0x1ddb6c(0x1db)});const _0x46c3d9=liveGameView['querySelector'](_0x1ddb6c(0x205));_0x46c3d9&&(_0x46c3d9['classList']['remove'](_0x1ddb6c(0x415)),_0x46c3d9[_0x1ddb6c(0x932)][_0x1ddb6c(0x596)](_0x1ddb6c(0x746),_0x1ddb6c(0x22d),'font-bold',_0x1ddb6c(0x3cc),'border-green-500'),_0x46c3d9['innerHTML']=_0x1ddb6c(0x1e9)+_0x46c3d9[_0x1ddb6c(0x343)]);const _0x497adf=document[_0x1ddb6c(0x536)](_0x1ddb6c(0x898));_0x497adf&&(_0x497adf[_0x1ddb6c(0x343)]=_0x1ddb6c(0x7ba)+(_0x21f4d9+0x1===_0x2ab03f?'ดูสรุปผล':_0x1ddb6c(0x890))+_0x1ddb6c(0x21d),document[_0x1ddb6c(0x536)](_0x1ddb6c(0x5c7))[_0x1ddb6c(0x2a3)]('click',async()=>{const _0x26bb03=_0x1ddb6c,_0x3458d2=doc(db,_0x26bb03(0x51d)+appId+_0x26bb03(0x1fc),currentLiveGameId),_0x4efd97=await getDoc(_0x3458d2);if(!_0x4efd97[_0x26bb03(0x798)]())return;const _0x4f2ac3=_0x4efd97['data'](),_0xd558b4={};if(_0x4f2ac3[_0x26bb03(0x937)])for(const _0x25ab2e in _0x4f2ac3[_0x26bb03(0x937)]){_0xd558b4[_0x26bb03(0x93e)+_0x25ab2e+_0x26bb03(0x2ab)]=![];}const _0x3bad23=_0x21f4d9+0x1;_0x3bad23<_0x2ab03f?(_0xd558b4[_0x26bb03(0x213)]=_0x3bad23,_0xd558b4[_0x26bb03(0x72d)]=serverTimestamp(),_0xd558b4[_0x26bb03(0x43a)]='answering',await updateDoc(_0x3458d2,_0xd558b4)):await updateDoc(_0x3458d2,{'status':'podium'});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x3b80c1=>{const _0x4b69ec=_0x2f9e;if(_0x3b80c1){userId=_0x3b80c1[_0x4b69ec(0x280)],userIdDisplay[_0x4b69ec(0x69f)]=userId;const _0x11a41d=await loadUserPreferences();_0x11a41d[_0x4b69ec(0x220)]&&(document[_0x4b69ec(0x536)](_0x4b69ec(0x874))[_0x4b69ec(0x4bd)]=_0x11a41d[_0x4b69ec(0x220)]);globalDashboardSettings[_0x4b69ec(0x780)]=_0x11a41d[_0x4b69ec(0x780)]||_0x4b69ec(0x69a);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x13860c,_0x34239e){const _0x1a1eb9=_0x527e23;if(!userId)return;try{const _0x37afaf=doc(db,_0x1a1eb9(0x51d)+appId+_0x1a1eb9(0x351)+userId+'/preferences/main'),_0x309f7d={};_0x309f7d[_0x13860c]=_0x34239e,await setDoc(_0x37afaf,_0x309f7d,{'merge':!![]});}catch(_0x3513a6){console[_0x1a1eb9(0x52f)](_0x1a1eb9(0x5b3),_0x3513a6);}}async function loadUserPreferences(){const _0x2216cc=_0x527e23;if(!userId)return{};try{const _0x12c808=doc(db,'artifacts/'+appId+_0x2216cc(0x351)+userId+_0x2216cc(0x721)),_0x15ab1d=await getDoc(_0x12c808);if(_0x15ab1d['exists']())return _0x15ab1d[_0x2216cc(0x3b3)]();return{};}catch(_0x17e2e2){return console[_0x2216cc(0x52f)]('Error\x20loading\x20user\x20preferences:',_0x17e2e2),{};}}function showPodiumView(_0x40bea3){const _0x23174b=_0x527e23,_0x4c6c08=Object[_0x23174b(0x56c)](_0x40bea3)['map'](([_0x28d5af,_0x3ff8f5])=>({'name':_0x28d5af,'score':_0x3ff8f5['score']||0x0,'badges':_0x3ff8f5[_0x23174b(0x4ce)]||[]}));_0x4c6c08[_0x23174b(0x34f)]((_0x5d17ff,_0x5d211b)=>{const _0xa2d395=_0x23174b,_0x5ce435=_0x5d211b[_0xa2d395(0x90e)]-_0x5d17ff[_0xa2d395(0x90e)];if(_0x5ce435!==0x0)return _0x5ce435;return(_0x5d211b[_0xa2d395(0x4ce)]['length']||0x0)-(_0x5d17ff[_0xa2d395(0x4ce)][_0xa2d395(0x334)]||0x0);});const _0x7e6ece=_0x42a515=>{const _0x1073fe=_0x23174b;if(!_0x42a515||_0x42a515['length']===0x0)return'';const _0x54efc2={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x1073fe(0x5b2)+_0x42a515[_0x1073fe(0x421)](_0x186e0e=>_0x54efc2[_0x186e0e]||'')['join']('')+'</div>';},_0x589dd5=_0x4c6c08[_0x23174b(0x7a4)](0x3),_0x2988e5=_0x589dd5[_0x23174b(0x334)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x589dd5['map']((_0x5843fb,_0x31ffe0)=>_0x23174b(0x1af)+(_0x31ffe0+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5843fb[_0x23174b(0x882)]+_0x23174b(0x45e)+_0x5843fb[_0x23174b(0x90e)]+_0x23174b(0x5c6))[_0x23174b(0x55b)]('')+_0x23174b(0x6ca):'',_0x3c39a3=_0x23174b(0x8fa)+(_0x4c6c08[0x1]?_0x23174b(0x435)+_0x4c6c08[0x1][_0x23174b(0x882)]+_0x23174b(0x5ec)+_0x7e6ece(_0x4c6c08[0x1][_0x23174b(0x4ce)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x4c6c08[0x1]['score']+_0x23174b(0x92e):_0x23174b(0x3ce))+_0x23174b(0x382)+(_0x4c6c08[0x0]?_0x23174b(0x1b4)+_0x4c6c08[0x0][_0x23174b(0x882)]+_0x23174b(0x5ec)+_0x7e6ece(_0x4c6c08[0x0]['badges'])+_0x23174b(0x833)+_0x4c6c08[0x0]['score']+_0x23174b(0x580):_0x23174b(0x3ce))+_0x23174b(0x382)+(_0x4c6c08[0x2]?_0x23174b(0x3ec)+_0x4c6c08[0x2][_0x23174b(0x882)]+_0x23174b(0x5ec)+_0x7e6ece(_0x4c6c08[0x2][_0x23174b(0x4ce)])+_0x23174b(0x455)+_0x4c6c08[0x2]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'<div\x20class=\x22flex-1\x22></div>')+_0x23174b(0x1ba)+_0x2988e5+_0x23174b(0x908)+(currentMode===_0x23174b(0x511)?_0x23174b(0x832):_0x23174b(0x5d1))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x3c39a3,currentMode===_0x23174b(0x511)&&document[_0x23174b(0x536)](_0x23174b(0x423))[_0x23174b(0x2a3)]('click',async()=>{const _0x3a15ed=_0x23174b,_0x10ad3c=doc(db,_0x3a15ed(0x51d)+appId+_0x3a15ed(0x1fc),currentLiveGameId);await deleteDoc(_0x10ad3c),showView(_0x3a15ed(0x33a));});}async function handleStartLiveRace(_0x2e7fe4){const _0x4c8b21=_0x527e23;let _0xbdeb37=allQuizzes[_0x4c8b21(0x389)](_0x55b97b=>_0x55b97b['id']===_0x2e7fe4);if(!_0xbdeb37){const _0x5012ca=doc(db,_0x4c8b21(0x51d)+appId+_0x4c8b21(0x300),_0x2e7fe4),_0x17fd5a=await getDoc(_0x5012ca);if(!_0x17fd5a[_0x4c8b21(0x798)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0xbdeb37={'id':_0x17fd5a['id'],..._0x17fd5a[_0x4c8b21(0x3b3)]()};}currentQuizData=getShuffledQuiz(_0xbdeb37);const _0x2e090d=_0xbdeb37['projectId']||currentProjectId||null,_0x2390fe=Math[_0x4c8b21(0x3b5)](0x3e8+Math[_0x4c8b21(0x8b6)]()*0x2328)[_0x4c8b21(0x793)]();currentLiveGamePin=_0x2390fe;try{const _0x35df68=await addDoc(collection(db,_0x4c8b21(0x51d)+appId+_0x4c8b21(0x1fc)),{'quizId':_0x2e7fe4,'projectId':_0x2e090d,'status':_0x4c8b21(0x306),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2390fe,'createdAt':serverTimestamp()});currentLiveGameId=_0x35df68['id'],showAdminLobbyView(_0x2390fe,_0xbdeb37['topic']),listenForLiveGameUpdates();}catch(_0x294b6e){console[_0x4c8b21(0x52f)]('Error\x20starting\x20live\x20race:',_0x294b6e),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x41a9a0=_0x527e23,_0x53922c=document[_0x41a9a0(0x1ed)](_0x41a9a0(0x520));_0x53922c&&(_0x53922c[_0x41a9a0(0x343)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x1259f4=document[_0x41a9a0(0x1ed)]('#student-project-leaderboard-content\x20thead');_0x1259f4&&(_0x1259f4['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x55abe6=document[_0x41a9a0(0x536)](_0x41a9a0(0x430));_0x55abe6['classList'][_0x41a9a0(0x89c)](_0x41a9a0(0x933)),document[_0x41a9a0(0x536)](_0x41a9a0(0x7a5))[_0x41a9a0(0x857)]=()=>_0x55abe6[_0x41a9a0(0x932)][_0x41a9a0(0x596)](_0x41a9a0(0x933));const _0x143225=document[_0x41a9a0(0x536)](_0x41a9a0(0x58a)),_0x13804b=document['getElementById'](_0x41a9a0(0x47a)),_0x1280be=document['getElementById']('student-quiz-leaderboard-content'),_0x32ef57=document[_0x41a9a0(0x536)](_0x41a9a0(0x254));_0x143225[_0x41a9a0(0x857)]=()=>{const _0x365287=_0x41a9a0;_0x143225[_0x365287(0x932)][_0x365287(0x596)](_0x365287(0x553)),_0x13804b[_0x365287(0x932)][_0x365287(0x89c)]('active'),_0x1280be[_0x365287(0x932)][_0x365287(0x89c)](_0x365287(0x933)),_0x32ef57[_0x365287(0x932)]['add'](_0x365287(0x933));},_0x13804b['onclick']=()=>{const _0x3782a8=_0x41a9a0;_0x13804b[_0x3782a8(0x932)][_0x3782a8(0x596)]('active'),_0x143225[_0x3782a8(0x932)][_0x3782a8(0x89c)](_0x3782a8(0x553)),_0x32ef57['classList'][_0x3782a8(0x89c)]('hidden'),_0x1280be[_0x3782a8(0x932)][_0x3782a8(0x596)](_0x3782a8(0x933));};try{const _0x1a72de=collection(db,_0x41a9a0(0x51d)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x41a9a0(0x6a1)),_0x4c20b5=await getDocs(_0x1a72de),_0x214f75=_0x4c20b5[_0x41a9a0(0x34b)][_0x41a9a0(0x421)](_0x1ef161=>_0x1ef161[_0x41a9a0(0x3b3)]());renderQuizLeaderboard(_0x214f75,currentQuizData,_0x41a9a0(0x583));const _0x4049dd=collection(db,_0x41a9a0(0x51d)+appId+'/public/data/projects/'+currentQuizData[_0x41a9a0(0x282)]+'/studentProfiles'),_0x539715=await getDocs(_0x4049dd),_0x5a905a=_0x539715['docs']['map'](_0x14dd6f=>_0x14dd6f['data']());renderLeaderboard(_0x5a905a,'student-project-leaderboard-table-body');}catch(_0x315ef2){console[_0x41a9a0(0x52f)](_0x41a9a0(0x820),_0x315ef2),showMessage(_0x41a9a0(0x3ae));}}async function handleSaveToBank(_0x49effa){const _0x3cb1d0=_0x527e23,_0x2d6316=_0x49effa[_0x3cb1d0(0x20b)],_0x1100e3=_0x2d6316[_0x3cb1d0(0x424)][_0x3cb1d0(0x5a9)],_0x41b306=currentQuizData['questions'][_0x1100e3];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0xfa6010={..._0x41b306,'originalTopic':currentQuizData[_0x3cb1d0(0x652)],'savedAt':serverTimestamp()},_0x2235b0=collection(db,_0x3cb1d0(0x51d)+appId+_0x3cb1d0(0x351)+userId+_0x3cb1d0(0x7aa));await addDoc(_0x2235b0,_0xfa6010),showMessage(_0x3cb1d0(0x58c)),_0x2d6316[_0x3cb1d0(0x932)][_0x3cb1d0(0x89c)]('text-purple-600'),_0x2d6316['classList'][_0x3cb1d0(0x596)](_0x3cb1d0(0x538)),_0x2d6316[_0x3cb1d0(0x315)]=!![];}catch(_0x50164f){console[_0x3cb1d0(0x52f)](_0x3cb1d0(0x620),_0x50164f),showMessage(_0x3cb1d0(0x813));}}function listenForStarredQuizzes(){const _0x55c670=_0x527e23;if(!userId)return;const _0x4ee157=collection(db,_0x55c670(0x51d)+appId+_0x55c670(0x300)),_0x1a6a8a=query(_0x4ee157,where('isStarred','==',!![]));onSnapshot(_0x1a6a8a,_0x48cba0=>{const _0x56216a=_0x55c670;starredQuizzes=_0x48cba0[_0x56216a(0x34b)][_0x56216a(0x421)](_0x9061a0=>({'id':_0x9061a0['id'],..._0x9061a0[_0x56216a(0x3b3)]()})),currentProjectId===_0x56216a(0x8c1)?renderQuizzes():renderProjects();},_0x1f0db8=>{const _0x4e1403=_0x55c670;console[_0x4e1403(0x52f)](_0x4e1403(0x537),_0x1f0db8);});}function exportQuizAsWorksheetPDF(){const _0x508844=_0x527e23;if(!currentQuizData||!currentQuizData[_0x508844(0x7cf)]){showMessage(_0x508844(0x904));return;}const _0x1f4af5=currentQuizData,_0x4ee173=window[_0x508844(0x758)]('',_0x508844(0x269)),_0x469bef=_0x33bb7a=>String['fromCharCode'](0x41+_0x33bb7a),_0x68a224='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x1f4af5['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x1f4af5[_0x508844(0x652)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f4af5['questions'][_0x508844(0x421)]((_0x500490,_0x4b060d)=>{const _0x14b2e6=_0x508844;let _0x1c5169='';const _0x550630=_0x500490[_0x14b2e6(0x307)]||_0x1f4af5[_0x14b2e6(0x62c)];switch(_0x550630){case _0x14b2e6(0x465):case _0x14b2e6(0x5bf):_0x1c5169=_0x14b2e6(0x939)+_0x500490[_0x14b2e6(0x23c)][_0x14b2e6(0x421)]((_0x3930fd,_0x455e2f)=>_0x14b2e6(0x80c)+_0x469bef(_0x455e2f)+'.\x20'+_0x3930fd+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x14b2e6(0x55b)](_0x14b2e6(0x347))+_0x14b2e6(0x3b7);break;case'true_false':_0x1c5169=_0x14b2e6(0x333);break;default:_0x1c5169=_0x14b2e6(0x42e);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x4b060d+0x1)+_0x14b2e6(0x6fe)+(_0x500490[_0x14b2e6(0x50c)]||_0x500490[_0x14b2e6(0x7fc)])+_0x14b2e6(0x3d4)+(_0x500490[_0x14b2e6(0x399)]?_0x14b2e6(0x841)+_0x500490[_0x14b2e6(0x399)]+_0x14b2e6(0x3b7):'')+_0x14b2e6(0x5f9)+_0x1c5169+_0x14b2e6(0x4fe);})[_0x508844(0x55b)]('')+_0x508844(0x6ea);_0x4ee173['document']['write'](_0x68a224),_0x4ee173['document'][_0x508844(0x815)](),_0x4ee173[_0x508844(0x8a3)]=function(){setTimeout(()=>{const _0x4cfe52=_0x2f9e;_0x4ee173[_0x4cfe52(0x711)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x21bbb2=_0x527e23;if(!currentQuizData||!currentQuizData[_0x21bbb2(0x7cf)]){showMessage(_0x21bbb2(0x904));return;}const _0x560e90=currentQuizData,_0x458ac0=window['open']('','_blank'),_0x2ec8ba=_0x1ee4c6=>String['fromCharCode'](0x41+_0x1ee4c6),_0x23543e=_0x21bbb2(0x211)+_0x560e90[_0x21bbb2(0x652)]+_0x21bbb2(0x65e)+_0x560e90[_0x21bbb2(0x7cf)]['map']((_0x47991a,_0x984907)=>{const _0xd18108=_0x21bbb2;let _0x312614='';const _0x513e99=_0x47991a[_0xd18108(0x307)]||_0x560e90[_0xd18108(0x62c)];switch(_0x513e99){case'multiple_choice':case _0xd18108(0x5bf):_0x312614=_0xd18108(0x915)+_0x47991a['options'][_0xd18108(0x421)]((_0x54725e,_0x2a7036)=>_0xd18108(0x7bc)+_0x2ec8ba(_0x2a7036)+'.\x20'+_0x54725e+'</span>')['join']('<br>')+_0xd18108(0x8cf);break;case _0xd18108(0x79f):_0x312614=_0xd18108(0x215);break;default:_0x312614='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x560e90[_0xd18108(0x652)]+_0xd18108(0x212)+(_0x984907+0x1)+_0xd18108(0x64c)+(_0x47991a[_0xd18108(0x50c)]||_0x47991a['questionText'])+_0xd18108(0x3d4)+(_0x47991a[_0xd18108(0x399)]?_0xd18108(0x23b)+_0x47991a[_0xd18108(0x399)]+_0xd18108(0x3b7):'')+_0xd18108(0x5f9)+_0x312614+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0x21bbb2(0x8ea);_0x458ac0['document'][_0x21bbb2(0x4c8)](_0x23543e),_0x458ac0[_0x21bbb2(0x5d0)][_0x21bbb2(0x815)](),_0x458ac0[_0x21bbb2(0x8a3)]=function(){setTimeout(()=>{_0x458ac0['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x1f8ea2){const _0x52dc8f=_0x527e23,_0x24984e=doc(db,_0x52dc8f(0x51d)+appId+_0x52dc8f(0x300),_0x1f8ea2);try{const _0x19fa80=await getDoc(_0x24984e);if(_0x19fa80[_0x52dc8f(0x798)]()){const _0x308293=_0x19fa80['data']()['isStarred']||![];await updateDoc(_0x24984e,{'isStarred':!_0x308293});}}catch(_0x135f34){console[_0x52dc8f(0x52f)]('Error\x20toggling\x20star\x20status:',_0x135f34),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x533ba2=_0x527e23,_0x2fd25e=document[_0x533ba2(0x536)](_0x533ba2(0x330));_0x2fd25e[_0x533ba2(0x343)]=_0x533ba2(0x256);try{const _0x19eab3=collection(db,_0x533ba2(0x51d)+appId+_0x533ba2(0x351)+userId+_0x533ba2(0x7aa)),_0x1b5887=query(_0x19eab3),_0x35f58b=await getDocs(_0x1b5887);if(_0x35f58b[_0x533ba2(0x774)]){_0x2fd25e['innerHTML']=_0x533ba2(0x342);return;}let _0x104e49=_0x35f58b['docs'][_0x533ba2(0x421)](_0x35859a=>{const _0x1af365=_0x533ba2,_0x349229=_0x35859a[_0x1af365(0x3b3)](),_0x5e3b7a=_0x35859a['id'];return _0x1af365(0x63c)+JSON[_0x1af365(0x1fb)](_0x349229)+_0x1af365(0x68c)+(_0x349229[_0x1af365(0x7fc)]||_0x349229[_0x1af365(0x50c)])+_0x1af365(0x52b)+_0x349229[_0x1af365(0x2a2)]+_0x1af365(0x400);})[_0x533ba2(0x55b)]('');_0x2fd25e['innerHTML']=_0x533ba2(0x452)+_0x104e49+_0x533ba2(0x296),document[_0x533ba2(0x536)](_0x533ba2(0x1b1))[_0x533ba2(0x2a3)](_0x533ba2(0x311),createQuizFromBank);}catch(_0x5959ac){console[_0x533ba2(0x52f)](_0x533ba2(0x463),_0x5959ac),_0x2fd25e[_0x533ba2(0x343)]=_0x533ba2(0x4da);}}function showAdminLiveQuestionView(_0x1d70e6,_0x2e0e94,_0x5b0657){const _0x41590e=_0x527e23,_0x2d4cac=_0x1d70e6[_0x41590e(0x307)]||currentQuizData[_0x41590e(0x62c)];let _0x3d3f97='';if(_0x2d4cac===_0x41590e(0x465)||_0x2d4cac==='true_false'){const _0x15e228=_0x2d4cac==='true_false'?['ใช่','ไม่ใช่']:_0x1d70e6['options'],_0x96a219=_0x2d4cac===_0x41590e(0x79f)?_0x1d70e6[_0x41590e(0x823)]?0x0:0x1:_0x1d70e6['correctAnswerIndex'];_0x3d3f97=_0x15e228[_0x41590e(0x421)]((_0x47e753,_0x21416c)=>_0x41590e(0x375)+(_0x21416c===_0x96a219)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47e753+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x41590e(0x55b)]('');}else{if(_0x2d4cac===_0x41590e(0x30b)){const _0x1f6b4b=_0x1d70e6['allResponses']||[];_0x3d3f97=_0x1f6b4b[_0x41590e(0x421)](_0x25514f=>_0x41590e(0x375)+(_0x25514f===_0x1d70e6[_0x41590e(0x413)])+_0x41590e(0x8e0)+_0x25514f+_0x41590e(0x730))[_0x41590e(0x55b)]('');}}const _0x4ab161=_0x1d70e6['stem']||_0x1d70e6[_0x41590e(0x7fc)],_0x27a3e3=_0x41590e(0x8d6)+(_0x2e0e94+0x1)+_0x41590e(0x739)+_0x5b0657+_0x41590e(0x502)+_0x4ab161+_0x41590e(0x63b)+_0x3d3f97+_0x41590e(0x84b);liveGameView[_0x41590e(0x343)]=_0x27a3e3;window[_0x41590e(0x450)]&&MathJax[_0x41590e(0x7cc)]&&MathJax[_0x41590e(0x7cc)]([liveGameView]);const _0x52957f=document[_0x41590e(0x536)](_0x41590e(0x898));document[_0x41590e(0x536)](_0x41590e(0x566))['addEventListener']('click',async()=>{const _0x46a388=_0x41590e,_0x43ec83=doc(db,_0x46a388(0x51d)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x43ec83,{'questionStatus':_0x46a388(0x1db)});const _0x1ba6e9=liveGameView[_0x46a388(0x1ed)](_0x46a388(0x205));_0x1ba6e9&&(_0x1ba6e9[_0x46a388(0x932)]['remove'](_0x46a388(0x415)),_0x1ba6e9[_0x46a388(0x932)][_0x46a388(0x596)]('bg-green-300',_0x46a388(0x22d),_0x46a388(0x499),_0x46a388(0x3cc),_0x46a388(0x8af)),_0x1ba6e9['innerHTML']=_0x46a388(0x1e9)+_0x1ba6e9[_0x46a388(0x343)]),_0x52957f[_0x46a388(0x343)]=_0x46a388(0x7ba)+(_0x2e0e94+0x1===_0x5b0657?_0x46a388(0x265):'ข้อต่อไป')+_0x46a388(0x21d),document[_0x46a388(0x536)](_0x46a388(0x5c7))[_0x46a388(0x2a3)](_0x46a388(0x311),async()=>{const _0xfc8c2d=_0x46a388,_0x3533f2=doc(db,_0xfc8c2d(0x51d)+appId+_0xfc8c2d(0x1fc),currentLiveGameId),_0x313d13=await getDoc(_0x3533f2);if(!_0x313d13['exists']())return;const _0x3f9e9a=_0x313d13['data'](),_0x573664={};if(_0x3f9e9a[_0xfc8c2d(0x937)])for(const _0x2bf073 in _0x3f9e9a['players']){_0x573664[_0xfc8c2d(0x93e)+_0x2bf073+_0xfc8c2d(0x2ab)]=![];}const _0x4e1b05=_0x2e0e94+0x1;_0x4e1b05<_0x5b0657?(_0x573664[_0xfc8c2d(0x213)]=_0x4e1b05,_0x573664[_0xfc8c2d(0x72d)]=serverTimestamp(),_0x573664['questionStatus']='answering',await updateDoc(_0x3533f2,_0x573664)):await updateDoc(_0x3533f2,{'status':_0xfc8c2d(0x4d3)});});}),document[_0x41590e(0x536)](_0x41590e(0x78b))[_0x41590e(0x2a3)](_0x41590e(0x311),async()=>{const _0x4ea7db=_0x41590e,_0x5562e0=doc(db,'artifacts/'+appId+_0x4ea7db(0x1fc),currentLiveGameId);await deleteDoc(_0x5562e0),showView(_0x4ea7db(0x33a));});}function showStudentLiveQuestionView(_0x3a694b,_0xd00a43,_0x2b7dfe){const _0x4ef180=_0x527e23,_0x439f9d=_0x3a694b[_0x4ef180(0x307)]||currentQuizData['quizType'];let _0x2b69ad='';if(_0x439f9d==='multiple_choice'||_0x439f9d==='true_false'){const _0x12bb54=_0x439f9d==='true_false'?[_0x4ef180(0x59d),_0x4ef180(0x1f3)]:_0x3a694b['options'];_0x2b69ad=_0x12bb54['map']((_0xdeda46,_0x44a91a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x44a91a+_0x4ef180(0x2a5)+_0xdeda46+_0x4ef180(0x74f))[_0x4ef180(0x55b)]('');}else{if(_0x439f9d===_0x4ef180(0x30b)){const _0x4da5f6=_0x3a694b[_0x4ef180(0x81a)]||[];_0x2b69ad=_0x4da5f6[_0x4ef180(0x421)]((_0xe7d8b4,_0x46a94b)=>_0x4ef180(0x1f2)+_0x46a94b+_0x4ef180(0x2a5)+_0xe7d8b4+_0x4ef180(0x74f))[_0x4ef180(0x55b)]('');}else _0x439f9d===_0x4ef180(0x5b8)&&(_0x2b69ad='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x39c3b4=_0x3a694b[_0x4ef180(0x50c)]||_0x3a694b[_0x4ef180(0x7fc)],_0x453e37='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0xd00a43+0x1)+_0x4ef180(0x739)+_0x2b7dfe+_0x4ef180(0x82c)+_0x39c3b4+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b69ad+_0x4ef180(0x458);liveGameView[_0x4ef180(0x343)]=_0x453e37;window[_0x4ef180(0x450)]&&MathJax['typesetPromise']&&MathJax[_0x4ef180(0x7cc)]([liveGameView]);const _0x25f8f6=document[_0x4ef180(0x536)](_0x4ef180(0x918));_0x25f8f6&&_0x25f8f6['addEventListener'](_0x4ef180(0x311),()=>{const _0x542537=_0x4ef180,_0xd4866d=document[_0x542537(0x536)](_0x542537(0x1e6))[_0x542537(0x4bd)];handleLiveAnswer(_0xd4866d,_0x3a694b);}),document[_0x4ef180(0x536)](_0x4ef180(0x225))[_0x4ef180(0x2a3)](_0x4ef180(0x311),_0x635a80=>{const _0x37f6e9=_0x4ef180,_0x31ff81=_0x635a80[_0x37f6e9(0x911)][_0x37f6e9(0x87f)](_0x37f6e9(0x5ed));if(_0x31ff81){const _0x138d9d=parseInt(_0x31ff81[_0x37f6e9(0x424)]['index']);handleLiveAnswer(_0x138d9d,_0x3a694b);}});}async function handleLiveAnswer(_0x26fb1a,_0x12e252){const _0x45af0b=_0x527e23;document['querySelectorAll']('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x45af0b(0x5b6)](_0xf49400=>_0xf49400['disabled']=!![]);const _0x487728=_0x12e252['questionType']||currentQuizData[_0x45af0b(0x62c)];let _0x10dd8b=![];if(_0x487728==='short_answer'){const _0x1c6591=(_0x26fb1a||'')[_0x45af0b(0x793)]();_0x10dd8b=await gradeShortAnswer(_0x1c6591,_0x12e252);}else{if(_0x487728==='multiple_choice')_0x10dd8b=_0x26fb1a===_0x12e252[_0x45af0b(0x378)];else{if(_0x487728===_0x45af0b(0x79f)){const _0x13438f=_0x12e252[_0x45af0b(0x823)];_0x10dd8b=_0x26fb1a===0x0&&_0x13438f||_0x26fb1a===0x1&&!_0x13438f;}else{if(_0x487728==='matching_item'){const _0x3868de=_0x12e252[_0x45af0b(0x81a)][_0x26fb1a];_0x10dd8b=_0x3868de===_0x12e252[_0x45af0b(0x413)];}}}}const _0x76953f=doc(db,_0x45af0b(0x51d)+appId+_0x45af0b(0x1fc),currentLiveGameId),_0x1ac89e=await getDoc(_0x76953f);if(!_0x1ac89e[_0x45af0b(0x798)]())return;const _0x50d238=_0x1ac89e['data'](),_0x40b285=_0x50d238[_0x45af0b(0x937)][currentStudentName];let _0xc514dc=_0x40b285[_0x45af0b(0x4ce)]||[],_0x324eab=_0x40b285[_0x45af0b(0x696)]||0x0;const _0x489044={};let _0x4ec989=0x0;if(_0x50d238[_0x45af0b(0x72d)]){const _0x31085b=_0x50d238[_0x45af0b(0x72d)][_0x45af0b(0x7c0)](),_0x33e86f=new Date()-_0x31085b;if(_0x10dd8b){const _0x106cf8=0x3e8,_0x33e59f=0x1f4,_0x3d569e=0x4e20;let _0x42d401=_0x33e86f/_0x3d569e;if(_0x42d401>0x1)_0x42d401=0x1;const _0x51ddae=Math[_0x45af0b(0x82e)](_0x42d401*_0x33e59f);_0x4ec989=_0x106cf8-_0x51ddae,_0x33e86f<=0x1388&&!_0xc514dc[_0x45af0b(0x809)]('quick_thinker')&&_0xc514dc[_0x45af0b(0x3eb)](_0x45af0b(0x5af));}}_0x10dd8b?(_0x324eab++,_0x324eab===0x3&&!_0xc514dc[_0x45af0b(0x809)]('on_fire')&&(_0xc514dc[_0x45af0b(0x3eb)](_0x45af0b(0x507)),_0x324eab=0x0)):_0x324eab=0x0,_0x10dd8b&&(_0x489044['players.'+currentStudentName+'.score']=increment(_0x4ec989)),_0x489044[_0x45af0b(0x93e)+currentStudentName+_0x45af0b(0x386)]=_0xc514dc,_0x489044[_0x45af0b(0x93e)+currentStudentName+_0x45af0b(0x633)]=_0x324eab,_0x489044[_0x45af0b(0x93e)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x489044[_0x45af0b(0x93e)+currentStudentName+_0x45af0b(0x5e0)]=_0x10dd8b,_0x489044[_0x45af0b(0x93e)+currentStudentName+_0x45af0b(0x86f)]=_0x4ec989,await updateDoc(_0x76953f,_0x489044),liveGameView['innerHTML']=_0x45af0b(0x331);}function createQuizFromBank(){const _0x5cd109=_0x527e23,_0x404778=document[_0x5cd109(0x7d8)](_0x5cd109(0x369));if(_0x404778[_0x5cd109(0x334)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x57d21f=[];_0x404778[_0x5cd109(0x5b6)](_0x332ca4=>{const _0x4d0d51=_0x5cd109;_0x57d21f[_0x4d0d51(0x3eb)](JSON[_0x4d0d51(0x676)](_0x332ca4[_0x4d0d51(0x4bd)]));});const _0x3dcc33={'topic':_0x5cd109(0x55e),'questions':_0x57d21f};displayGeneratedQuiz(_0x3dcc33);}function showAdminLobbyView(_0x1fd2be,_0x42b0c6){const _0xa25c7a=_0x527e23;showView(_0xa25c7a(0x792));const _0x2b8c14=_0xa25c7a(0x6f6)+_0x42b0c6+_0xa25c7a(0x28f)+_0x1fd2be+_0xa25c7a(0x35b);liveGameView[_0xa25c7a(0x343)]=_0x2b8c14,document[_0xa25c7a(0x536)]('start-game-btn')[_0xa25c7a(0x2a3)](_0xa25c7a(0x311),async()=>{const _0x192543=_0xa25c7a;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x192543(0x7cf)]['length']===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x5ee9b6=doc(db,_0x192543(0x51d)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5ee9b6,{'status':_0x192543(0x29b),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5bbbb9=currentQuizData[_0x192543(0x7cf)][0x0],_0xd820d9=currentQuizData[_0x192543(0x7cf)]['length'];showAdminLiveQuestionView(_0x5bbbb9,0x0,_0xd820d9);}catch(_0x2d0626){console['error'](_0x192543(0x289),_0x2d0626),showMessage(_0x192543(0x24a));}});}async function openGlobalLiveModal(){const _0x16348b=_0x527e23;if(allQuizzesGlobal['length']===0x0){const _0x2b9f4e=await getDocs(collection(db,_0x16348b(0x51d)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x2b9f4e[_0x16348b(0x34b)][_0x16348b(0x421)](_0x47eedb=>({'id':_0x47eedb['id'],..._0x47eedb['data']()}));}renderGlobalQuizList(''),document['getElementById']('global-live-game-modal')[_0x16348b(0x932)][_0x16348b(0x89c)]('hidden');}async function openQuizBankModal(){const _0x26160f=_0x527e23;if(allQuizzesGlobal['length']===0x0){const _0x3a0fbd=await getDocs(collection(db,_0x26160f(0x51d)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x3a0fbd['docs']['map'](_0x2787bb=>({'id':_0x2787bb['id'],..._0x2787bb['data']()}));}renderQuizBankList(''),document['getElementById'](_0x26160f(0x624))['classList']['remove'](_0x26160f(0x933));}function renderQuizBankList(_0x18edcf=''){const _0xade934=_0x527e23,_0x15364f=document[_0xade934(0x536)]('bank-quiz-list'),_0xdf4761=_0x18edcf[_0xade934(0x76f)]()[_0xade934(0x2a6)](),_0x12e271=allQuizzesGlobal[_0xade934(0x421)](_0x247e62=>({..._0x247e62,'projectName':allProjects[_0xade934(0x389)](_0x33241e=>_0x33241e['id']===_0x247e62['projectId'])?.[_0xade934(0x3a2)]||'N/A'}))[_0xade934(0x8fe)](_0x4a48e3=>(_0x4a48e3['topic']||'')[_0xade934(0x76f)]()[_0xade934(0x809)](_0xdf4761)||(_0x4a48e3['projectName']||'')[_0xade934(0x76f)]()['includes'](_0xdf4761)||_0x4a48e3['id'][_0xade934(0x793)]()['includes'](_0xdf4761));document['getElementById'](_0xade934(0x8a4))[_0xade934(0x69f)]='('+_0x12e271[_0xade934(0x334)]+_0xade934(0x647),_0x15364f[_0xade934(0x343)]=_0x12e271[_0xade934(0x334)]?_0x12e271[_0xade934(0x421)](_0x1546d9=>_0xade934(0x707)+_0x1546d9['id']+_0xade934(0x2fa)+(_0x1546d9[_0xade934(0x652)]||_0xade934(0x74c))+_0xade934(0x62d)+(_0x1546d9['questions']?.[_0xade934(0x334)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x1546d9['projectName']+_0xade934(0x1f5)+_0x1546d9['id']+_0xade934(0x80e)+_0x1546d9['id']+_0xade934(0x84f)+_0x1546d9['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1546d9['id']+_0xade934(0x8d2))[_0xade934(0x55b)](''):_0xade934(0x468),_0x15364f['querySelectorAll']('.quiz-bank-item')[_0xade934(0x5b6)](_0xd1b7c7=>{const _0x336115=_0xade934;_0xd1b7c7[_0x336115(0x2a3)](_0x336115(0x311),()=>{const _0x3dc269=_0x336115,_0x98a25b=_0xd1b7c7[_0x3dc269(0x424)]['id'];document[_0x3dc269(0x536)](_0x3dc269(0x624))[_0x3dc269(0x932)][_0x3dc269(0x596)](_0x3dc269(0x933)),showQuizDetailView(_0x98a25b);});}),_0x15364f['querySelectorAll']('.quiz-bank-try-btn')['forEach'](_0x3c4a1d=>{const _0x59ec0c=_0xade934;_0x3c4a1d['addEventListener'](_0x59ec0c(0x311),_0x2f1cce=>{const _0xe147d6=_0x59ec0c;_0x2f1cce['stopPropagation']();const _0x5bdf4d=_0x3c4a1d['dataset']['id'],_0x1dce10=allQuizzesGlobal['find'](_0x141472=>_0x141472['id']===_0x5bdf4d);_0x1dce10?(currentQuizData=_0x1dce10,document[_0xe147d6(0x536)](_0xe147d6(0x624))[_0xe147d6(0x932)]['add']('hidden'),startAdminTest()):showMessage(_0xe147d6(0x6d1));});}),_0x15364f[_0xade934(0x7d8)](_0xade934(0x3aa))[_0xade934(0x5b6)](_0x2ee687=>{const _0x434d16=_0xade934;_0x2ee687[_0x434d16(0x2a3)](_0x434d16(0x311),_0x4ac229=>{const _0x251d25=_0x434d16;_0x4ac229[_0x251d25(0x3a3)]();const _0x3b4499=_0x2ee687[_0x251d25(0x424)]['id'],_0x3c2678=allQuizzesGlobal['find'](_0x34f671=>_0x34f671['id']===_0x3b4499);_0x3c2678?(document['getElementById']('quiz-bank-modal')['classList'][_0x251d25(0x596)](_0x251d25(0x933)),handleGenerateParallelFromBank(_0x3c2678)):showMessage(_0x251d25(0x6d1));});}),_0x15364f[_0xade934(0x7d8)](_0xade934(0x8c2))['forEach'](_0x4cd059=>{const _0x2af737=_0xade934;_0x4cd059['addEventListener'](_0x2af737(0x311),_0x3aa46a=>{const _0x5b4413=_0x2af737;_0x3aa46a['stopPropagation']();const _0x2b0519=_0x4cd059['dataset']['id'],_0x225cd7=allQuizzesGlobal[_0x5b4413(0x389)](_0x4645fe=>_0x4645fe['id']===_0x2b0519);_0x225cd7?(document[_0x5b4413(0x536)]('quiz-bank-modal')[_0x5b4413(0x932)][_0x5b4413(0x596)](_0x5b4413(0x933)),startPresentation(_0x225cd7)):showMessage(_0x5b4413(0x6d1));});});}async function handleCompareResults(_0x568065,_0x5652db){const _0x5f0297=_0x527e23,_0x12babe=document[_0x5f0297(0x536)](_0x5f0297(0x392)),_0x414844=document[_0x5f0297(0x536)](_0x5f0297(0x5bc)),_0x5caf61=document[_0x5f0297(0x536)](_0x5f0297(0x2d8));document[_0x5f0297(0x536)](_0x5f0297(0x201))[_0x5f0297(0x932)][_0x5f0297(0x596)](_0x5f0297(0x553)),document['getElementById'](_0x5f0297(0x1d7))['classList'][_0x5f0297(0x89c)]('active'),_0x414844[_0x5f0297(0x932)][_0x5f0297(0x89c)](_0x5f0297(0x933)),_0x5caf61[_0x5f0297(0x932)][_0x5f0297(0x596)]('hidden'),_0x414844[_0x5f0297(0x343)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x5caf61[_0x5f0297(0x343)]='',_0x12babe[_0x5f0297(0x932)]['remove']('hidden');try{const _0x5403ca=doc(db,_0x5f0297(0x51d)+appId+_0x5f0297(0x300),_0x568065),_0x50821b=await getDoc(_0x5403ca);if(!_0x50821b[_0x5f0297(0x798)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x5cc0a1=_0x50821b[_0x5f0297(0x3b3)](),_0x4de2cd=_0x5cc0a1[_0x5f0297(0x7cf)][_0x5f0297(0x334)],_0x4a5f07=collection(db,_0x5f0297(0x51d)+appId+_0x5f0297(0x8ef)+_0x5652db+'/submissions'),_0x22350b=collection(db,_0x5f0297(0x51d)+appId+'/public/data/quizzes/'+_0x568065+_0x5f0297(0x6a1)),[_0x5acea0,_0x281d60]=await Promise['all']([getDocs(_0x4a5f07),getDocs(_0x22350b)]),_0x5b8263=_0x5acea0[_0x5f0297(0x34b)][_0x5f0297(0x421)](_0x24d4fa=>_0x24d4fa[_0x5f0297(0x3b3)]()),_0x27cadb=_0x281d60[_0x5f0297(0x34b)][_0x5f0297(0x421)](_0x10d579=>_0x10d579[_0x5f0297(0x3b3)]()),_0x965d48=_0x5b8263[_0x5f0297(0x421)](_0x1b9a6c=>_0x1b9a6c['latestScore']),_0x5136bf=_0x27cadb[_0x5f0297(0x421)](_0x27a2d6=>_0x27a2d6[_0x5f0297(0x470)]),_0x97181d=calculateMeanAndStdDev(_0x965d48),_0x4568e6=calculateMeanAndStdDev(_0x5136bf),_0x12f815=_0x97181d[_0x5f0297(0x2fb)],_0x2647be=_0x4568e6[_0x5f0297(0x2fb)],_0x3b162b=_0x2647be-_0x12f815;let _0x352d3f=_0x5f0297(0x669)+_0x12f815[_0x5f0297(0x6d3)](0x2)+_0x5f0297(0x4e1)+_0x2647be[_0x5f0297(0x6d3)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x3b162b>=0x0?_0x5f0297(0x210):_0x5f0297(0x3e5))+_0x5f0297(0x805)+(_0x3b162b>=0x0?'text-emerald-800':_0x5f0297(0x75f))+_0x5f0297(0x88d)+(_0x3b162b>=0x0?'text-emerald-900':_0x5f0297(0x358))+'\x22>'+(_0x3b162b>=0x0?'+':'')+_0x3b162b[_0x5f0297(0x6d3)](0x2)+_0x5f0297(0x742);_0x414844['innerHTML']=_0x352d3f;const _0x2954c3=document[_0x5f0297(0x536)](_0x5f0297(0x6b9))['getContext']('2d');if(chartInstances[_0x5f0297(0x46a)])chartInstances[_0x5f0297(0x46a)][_0x5f0297(0x649)]();chartInstances['comparison']=new Chart(_0x2954c3,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x5f0297(0x8fd),'data':[_0x12f815],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0x2647be],'backgroundColor':_0x5f0297(0x328)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4de2cd}}}});const _0x1ca3d9=currentProjectData[_0x5f0297(0x1e2)]||[],_0xe66964=_0x1ca3d9['map'](_0x1b8a7b=>{const _0x3ff478=_0x5f0297,_0x25286d=_0x5b8263['find'](_0x6e7524=>_0x6e7524[_0x3ff478(0x7e1)]===_0x1b8a7b),_0x1e59ad=_0x27cadb[_0x3ff478(0x389)](_0x302844=>_0x302844['studentName']===_0x1b8a7b),_0x731d05=_0x25286d?_0x25286d[_0x3ff478(0x470)]:null,_0x295e49=_0x1e59ad?_0x1e59ad['latestScore']:null,_0x46105d=_0x731d05!==null&&_0x295e49!==null?_0x295e49-_0x731d05:null,_0x14cec5=_0x731d05!==null?calculateZScore(_0x731d05,_0x97181d[_0x3ff478(0x2fb)],_0x97181d[_0x3ff478(0x38e)]):null,_0x44811e=_0x295e49!==null?calculateZScore(_0x295e49,_0x4568e6[_0x3ff478(0x2fb)],_0x4568e6[_0x3ff478(0x38e)]):null,_0x3752b5=_0x14cec5!==null?calculateTScore(_0x14cec5):null,_0x261561=_0x44811e!==null?calculateTScore(_0x44811e):null,_0x495de2=_0x3752b5!==null&&_0x261561!==null?_0x261561-_0x3752b5:null;return{'name':_0x1b8a7b,'preScore':_0x731d05,'postScore':_0x295e49,'gain':_0x46105d,'preTScore':_0x3752b5,'postTScore':_0x261561,'tGain':_0x495de2};});renderIndividualComparisonTable(_0xe66964,_0x5caf61);}catch(_0x1169e7){console[_0x5f0297(0x52f)]('Error\x20comparing\x20results:',_0x1169e7),_0x414844[_0x5f0297(0x343)]=_0x5f0297(0x811);}}function renderIndividualComparisonTable(_0x17ec9a,_0x299018){const _0xa95ce4=_0x527e23;_0x17ec9a['sort']((_0x238fec,_0x3171cd)=>(_0x3171cd[_0xa95ce4(0x571)]??-Infinity)-(_0x238fec[_0xa95ce4(0x571)]??-Infinity));let _0x4e1898='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x17ec9a[_0xa95ce4(0x334)]===0x0?_0x4e1898+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x17ec9a[_0xa95ce4(0x5b6)]((_0x68c03d,_0x1f7ae9)=>{const _0x47b4a8=_0xa95ce4;let _0x2e9319='-',_0x193eea='';if(_0x68c03d[_0x47b4a8(0x686)]!==null){const _0x5b7480=_0x68c03d[_0x47b4a8(0x686)]>0x0?_0x47b4a8(0x538):_0x68c03d[_0x47b4a8(0x686)]<0x0?_0x47b4a8(0x45d):_0x47b4a8(0x5e9),_0x563f4f=_0x68c03d['gain']>0x0?'+':'';_0x2e9319=_0x47b4a8(0x8e7)+_0x5b7480+'\x22>'+_0x563f4f+_0x68c03d[_0x47b4a8(0x686)]+'</span>';if(_0x68c03d[_0x47b4a8(0x686)]>0x0)_0x193eea='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x68c03d[_0x47b4a8(0x686)]<0x0?_0x193eea='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x193eea=_0x47b4a8(0x731);}let _0x224b13='-';if(_0x68c03d['tGain']!==null){const _0x537b87=_0x68c03d['tGain']>0x0?_0x47b4a8(0x538):_0x68c03d[_0x47b4a8(0x571)]<0x0?'text-red-600':'text-gray-500',_0x29f444=_0x68c03d['tGain']>0x0?'+':'';_0x224b13=_0x47b4a8(0x8e7)+_0x537b87+'\x22>'+_0x29f444+_0x68c03d['tGain'][_0x47b4a8(0x6d3)](0x2)+_0x47b4a8(0x60b);}_0x4e1898+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x1f7ae9+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x68c03d[_0x47b4a8(0x882)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x68c03d[_0x47b4a8(0x2dd)]??'-')+_0x47b4a8(0x218)+(_0x68c03d[_0x47b4a8(0x84a)]??'-')+_0x47b4a8(0x6b1)+_0x2e9319+_0x47b4a8(0x2a7)+_0x193eea+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x68c03d['preTScore']?.[_0x47b4a8(0x6d3)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x68c03d[_0x47b4a8(0x506)]?.[_0x47b4a8(0x6d3)](0x2)??'-')+_0x47b4a8(0x6b1)+_0x224b13+_0x47b4a8(0x7bd);}),_0x4e1898+=_0xa95ce4(0x6f7),_0x299018[_0xa95ce4(0x343)]=_0x4e1898;}function handleRenameQuiz(_0x1d008c,_0x2e3ef5){const _0x470a48=_0x527e23;actionTargetId=_0x1d008c,document['getElementById']('rename-quiz-input')[_0x470a48(0x4bd)]=_0x2e3ef5,renameQuizModal[_0x470a48(0x932)][_0x470a48(0x89c)](_0x470a48(0x933));}function setupComparisonModalTabs(){const _0x3bc81f=_0x527e23,_0x511940=document[_0x3bc81f(0x536)](_0x3bc81f(0x201)),_0x376afb=document[_0x3bc81f(0x536)](_0x3bc81f(0x1d7)),_0x333324=document[_0x3bc81f(0x536)](_0x3bc81f(0x5bc)),_0x35c9b7=document[_0x3bc81f(0x536)](_0x3bc81f(0x2d8));_0x511940[_0x3bc81f(0x2a3)](_0x3bc81f(0x311),()=>{const _0x58c392=_0x3bc81f;_0x511940[_0x58c392(0x932)][_0x58c392(0x596)](_0x58c392(0x553)),_0x376afb['classList'][_0x58c392(0x89c)](_0x58c392(0x553)),_0x333324[_0x58c392(0x932)][_0x58c392(0x89c)](_0x58c392(0x933)),_0x35c9b7[_0x58c392(0x932)][_0x58c392(0x596)](_0x58c392(0x933));}),_0x376afb[_0x3bc81f(0x2a3)](_0x3bc81f(0x311),()=>{const _0x16edc2=_0x3bc81f;_0x376afb[_0x16edc2(0x932)][_0x16edc2(0x596)](_0x16edc2(0x553)),_0x511940['classList']['remove'](_0x16edc2(0x553)),_0x35c9b7[_0x16edc2(0x932)][_0x16edc2(0x89c)](_0x16edc2(0x933)),_0x333324[_0x16edc2(0x932)][_0x16edc2(0x596)](_0x16edc2(0x933));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x35a62b=''){const _0x4482de=_0x527e23,_0x1ed959=document[_0x4482de(0x536)](_0x4482de(0x6c1)),_0x3db890=_0x35a62b[_0x4482de(0x76f)]()['trim'](),_0x51c33b=allQuizzesGlobal[_0x4482de(0x421)](_0x2e609a=>({..._0x2e609a,'projectName':allProjects[_0x4482de(0x389)](_0x431135=>_0x431135['id']===_0x2e609a[_0x4482de(0x282)])?.[_0x4482de(0x3a2)]||_0x2e609a[_0x4482de(0x282)]}))[_0x4482de(0x8fe)](_0x19490f=>(_0x19490f['topic']||'')[_0x4482de(0x76f)]()[_0x4482de(0x809)](_0x3db890)||(_0x19490f['projectName']||'')[_0x4482de(0x76f)]()[_0x4482de(0x809)](_0x3db890));document[_0x4482de(0x536)](_0x4482de(0x3e2))[_0x4482de(0x69f)]='('+_0x51c33b[_0x4482de(0x334)]+'\x20ชุด)',_0x1ed959[_0x4482de(0x343)]=_0x51c33b[_0x4482de(0x334)]?_0x51c33b[_0x4482de(0x421)](_0x2a4311=>_0x4482de(0x73d)+_0x2a4311['id']+_0x4482de(0x850)+(_0x2a4311['topic']||_0x4482de(0x74c))+_0x4482de(0x4fd)+(_0x2a4311['questions']?.['length']||0x0)+_0x4482de(0x4db)+_0x2a4311[_0x4482de(0x3a2)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x4482de(0x55b)](''):_0x4482de(0x472),selectedGlobalQuizId=null,document['getElementById'](_0x4482de(0x7ac))[_0x4482de(0x315)]=!![],_0x1ed959['querySelectorAll'](_0x4482de(0x2c8))[_0x4482de(0x5b6)](_0x1b7762=>{const _0x14bb6d=_0x4482de;_0x1b7762[_0x14bb6d(0x2a3)](_0x14bb6d(0x311),()=>{const _0x48abe6=_0x14bb6d;selectedGlobalQuizId=_0x1b7762[_0x48abe6(0x424)]['id'],_0x1ed959['querySelectorAll'](_0x48abe6(0x408))[_0x48abe6(0x5b6)](_0x4557d4=>_0x4557d4[_0x48abe6(0x932)][_0x48abe6(0x89c)](_0x48abe6(0x4b6),_0x48abe6(0x279),_0x48abe6(0x27c))),_0x1b7762['classList']['add'](_0x48abe6(0x4b6),_0x48abe6(0x279),_0x48abe6(0x27c)),document[_0x48abe6(0x536)](_0x48abe6(0x7ac))['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x8d2e3=_0x527e23;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5b010c=doc(db,_0x8d2e3(0x51d)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5b010c,_0x452f92=>{const _0x5b0cda=_0x8d2e3;if(!_0x452f92[_0x5b0cda(0x798)]()){showMessage(_0x5b0cda(0x3c5)),showView(currentMode);return;}const _0x5cd42e=_0x452f92[_0x5b0cda(0x3b3)]();!currentQuizData&&_0x5cd42e[_0x5b0cda(0x22a)]&&((async()=>{const _0x1720fa=_0x5b0cda;try{const _0x3ea490=doc(db,_0x1720fa(0x51d)+appId+_0x1720fa(0x300),_0x5cd42e[_0x1720fa(0x22a)]),_0x13cf65=await getDoc(_0x3ea490);_0x13cf65[_0x1720fa(0x798)]()&&(currentQuizData={'id':_0x13cf65['id'],..._0x13cf65[_0x1720fa(0x3b3)]()});}catch(_0x263954){console[_0x1720fa(0x52f)](_0x1720fa(0x274),_0x263954);}})());switch(_0x5cd42e['status']){case _0x5b0cda(0x306):if(currentMode===_0x5b0cda(0x511)){const _0x145d1e=_0x5cd42e[_0x5b0cda(0x937)]?Object[_0x5b0cda(0x623)](_0x5cd42e[_0x5b0cda(0x937)]):[];document[_0x5b0cda(0x536)]('player-count')[_0x5b0cda(0x69f)]=_0x145d1e[_0x5b0cda(0x334)],document['getElementById']('player-list-lobby')[_0x5b0cda(0x343)]=_0x145d1e['map'](_0x1831fe=>_0x5b0cda(0x752)+_0x1831fe+'</span>')[_0x5b0cda(0x55b)]('');const _0x1f7694=document[_0x5b0cda(0x536)](_0x5b0cda(0x271));_0x1f7694&&(_0x1f7694[_0x5b0cda(0x315)]=_0x145d1e[_0x5b0cda(0x334)]===0x0);}else showView(_0x5b0cda(0x792)),liveGameView[_0x5b0cda(0x343)]=_0x5b0cda(0x318)+currentStudentName+_0x5b0cda(0x43e);break;case _0x5b0cda(0x29b):const _0x30c97a=_0x5cd42e[_0x5b0cda(0x213)];if(currentQuizData&&currentQuizData[_0x5b0cda(0x7cf)][_0x30c97a]){const _0x14e653=currentQuizData['questions'][_0x30c97a],_0x154bcd=currentQuizData[_0x5b0cda(0x7cf)][_0x5b0cda(0x334)];if(currentMode===_0x5b0cda(0x511)){lastRenderedAdminQuestionIndex!==_0x30c97a&&(showAdminLiveQuestionView(_0x14e653,_0x30c97a,_0x154bcd),lastRenderedAdminQuestionIndex=_0x30c97a);const _0x67e253=document[_0x5b0cda(0x536)]('answer-counter');if(_0x67e253&&_0x5cd42e[_0x5b0cda(0x937)]){const _0x2904a5=Object[_0x5b0cda(0x623)](_0x5cd42e['players'])[_0x5b0cda(0x334)],_0x18e488=Object[_0x5b0cda(0x367)](_0x5cd42e[_0x5b0cda(0x937)])['filter'](_0x533843=>_0x533843[_0x5b0cda(0x25a)]===!![])[_0x5b0cda(0x334)];_0x67e253[_0x5b0cda(0x69f)]=_0x18e488+'/'+_0x2904a5,_0x2904a5>0x0&&_0x18e488===_0x2904a5&&_0x5cd42e[_0x5b0cda(0x43a)]!==_0x5b0cda(0x1db)&&revealAnswerForAdmin(_0x30c97a,_0x154bcd);}}else{const _0x49a751=_0x5cd42e[_0x5b0cda(0x937)][currentStudentName];if(_0x5cd42e[_0x5b0cda(0x43a)]===_0x5b0cda(0x1db)){if(_0x49a751[_0x5b0cda(0x25a)]){const _0x33f993=_0x49a751['lastAnswerCorrect'],_0x2c6102=_0x49a751['pointsLastQuestion']||0x0,_0x506457=_0x33f993?_0x5b0cda(0x498)+_0x2c6102+'\x20คะแนน':_0x5b0cda(0x5cb);liveGameView['innerHTML']=_0x5b0cda(0x6d9)+_0x506457+_0x5b0cda(0x81f);}else liveGameView[_0x5b0cda(0x343)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else!_0x49a751[_0x5b0cda(0x25a)]&&showStudentLiveQuestionView(_0x14e653,_0x30c97a,_0x154bcd);}}break;case _0x5b0cda(0x4d3):showPodiumView(_0x5cd42e[_0x5b0cda(0x937)]);break;}});}async function authenticateUser(){const _0x597da5=_0x527e23;try{typeof __initial_auth_token!==_0x597da5(0x552)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x13d1d4){console['error'](_0x597da5(0x431),_0x13d1d4),showMessage(_0x597da5(0x555));}}function showView(_0x118335){const _0x12a055=_0x527e23,_0x3c998f=[_0x12a055(0x47b),_0x12a055(0x4f1),_0x12a055(0x34d),_0x12a055(0x312),_0x12a055(0x3ee),_0x12a055(0x539),_0x12a055(0x777)];_0x3c998f[_0x12a055(0x5b6)](_0x5b0a00=>document[_0x12a055(0x536)](_0x5b0a00)?.[_0x12a055(0x932)][_0x12a055(0x596)](_0x12a055(0x933)));if(_0x118335===_0x12a055(0x33a))adminView['classList'][_0x12a055(0x89c)](_0x12a055(0x933)),projectDashboardView[_0x12a055(0x932)][_0x12a055(0x89c)](_0x12a055(0x933));else{if(_0x118335==='student')studentView[_0x12a055(0x932)][_0x12a055(0x89c)](_0x12a055(0x933)),studentInitialView[_0x12a055(0x932)]['remove'](_0x12a055(0x933)),studentNameSelectionView[_0x12a055(0x932)][_0x12a055(0x596)](_0x12a055(0x933)),studentQuizArea[_0x12a055(0x932)][_0x12a055(0x596)](_0x12a055(0x933)),studentResultArea['classList'][_0x12a055(0x596)](_0x12a055(0x933)),studentReadingArea[_0x12a055(0x932)]['add'](_0x12a055(0x933)),studentJoinGameView[_0x12a055(0x932)][_0x12a055(0x596)](_0x12a055(0x933));else{if(_0x118335===_0x12a055(0x4af))adminView[_0x12a055(0x932)]['remove'](_0x12a055(0x933)),projectDetailView['classList']['remove']('hidden');else{if(_0x118335===_0x12a055(0x3ff))adminView[_0x12a055(0x932)][_0x12a055(0x89c)]('hidden'),quizResultsView['classList'][_0x12a055(0x89c)](_0x12a055(0x933));else _0x118335===_0x12a055(0x792)&&liveGameView[_0x12a055(0x932)]['remove']('hidden');}}}}function showJoinGameView(){const _0x20c96a=_0x527e23;studentInitialView[_0x20c96a(0x932)]['add'](_0x20c96a(0x933)),studentJoinGameView['classList'][_0x20c96a(0x89c)](_0x20c96a(0x933));}async function handleSaveVisibilitySettings(){const _0xdbda7e=_0x527e23;if(!currentProjectId)return;const _0xe8737e=doc(db,'artifacts/'+appId+_0xdbda7e(0x379),currentProjectId);try{await updateDoc(_0xe8737e,{'settings.showInStudentDashboard':document[_0xdbda7e(0x536)]('show-in-student-dashboard-checkbox')[_0xdbda7e(0x40b)],'settings.isPasscodeEnabled':document[_0xdbda7e(0x536)](_0xdbda7e(0x5d5))[_0xdbda7e(0x40b)],'settings.passcode':document[_0xdbda7e(0x536)]('project-passcode-input')[_0xdbda7e(0x4bd)][_0xdbda7e(0x2a6)]()}),showMessage(_0xdbda7e(0x295));}catch(_0x383419){console[_0xdbda7e(0x52f)](_0xdbda7e(0x247),_0x383419),showMessage(_0xdbda7e(0x813));}}function setupEventListeners(){const _0x4aea84=_0x527e23;document[_0x4aea84(0x536)](_0x4aea84(0x5df))[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleModeSwitch),document[_0x4aea84(0x536)]('update-old-quizzes-btn')[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleUpdateOldQuizzes),document[_0x4aea84(0x536)]('reset-project-order-btn')[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleResetProjectOrder),document[_0x4aea84(0x536)](_0x4aea84(0x6a5))['addEventListener']('click',handleSaveVisibilitySettings),document[_0x4aea84(0x536)](_0x4aea84(0x5e8))[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleAddCustomMathTopic),document[_0x4aea84(0x536)](_0x4aea84(0x209))['addEventListener'](_0x4aea84(0x311),handleSelectAllTopics),document[_0x4aea84(0x536)](_0x4aea84(0x2a4))[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleDeselectAllTopics),document['getElementById'](_0x4aea84(0x877))[_0x4aea84(0x2a3)]('click',()=>{const _0x29eb91=_0x4aea84;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x29eb91(0x33a));}),document['getElementById'](_0x4aea84(0x587))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x2121de=_0x4aea84;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x2121de(0x4af));}),document['getElementById'](_0x4aea84(0x384))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{showView('admin-dashboard');}),document[_0x4aea84(0x536)](_0x4aea84(0x3fd))[_0x4aea84(0x2a3)]('click',()=>{const _0x41064d=_0x4aea84;messageModal[_0x41064d(0x932)][_0x41064d(0x596)]('hidden'),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x4aea84(0x536)](_0x4aea84(0x4c2))['addEventListener']('click',()=>createProjectModal[_0x4aea84(0x932)]['remove'](_0x4aea84(0x933))),document[_0x4aea84(0x536)](_0x4aea84(0x2ed))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>createProjectModal[_0x4aea84(0x932)][_0x4aea84(0x596)](_0x4aea84(0x933))),document['getElementById'](_0x4aea84(0x75e))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>adminPasswordModal[_0x4aea84(0x932)]['add']('hidden')),document[_0x4aea84(0x536)](_0x4aea84(0x53f))[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleAdminLogin),document[_0x4aea84(0x536)]('admin-password-input')[_0x4aea84(0x2a3)]('keyup',_0x5b9c62=>{const _0x9159ea=_0x4aea84;if(_0x5b9c62[_0x9159ea(0x824)]===_0x9159ea(0x2bf))handleAdminLogin();}),document[_0x4aea84(0x536)](_0x4aea84(0x228))['addEventListener'](_0x4aea84(0x311),()=>{const _0x3f0463=_0x4aea84;confirmationModal['classList'][_0x3f0463(0x596)](_0x3f0463(0x933)),confirmAction=null;}),document[_0x4aea84(0x536)](_0x4aea84(0x30e))[_0x4aea84(0x2a3)]('click',()=>{const _0x9f69fc=_0x4aea84;confirmAction&&confirmAction(),confirmationModal['classList'][_0x9f69fc(0x596)](_0x9f69fc(0x933)),confirmAction=null;}),document[_0x4aea84(0x536)](_0x4aea84(0x55a))['addEventListener'](_0x4aea84(0x311),()=>renameQuizModal[_0x4aea84(0x932)][_0x4aea84(0x596)]('hidden')),document['getElementById'](_0x4aea84(0x7a0))[_0x4aea84(0x2a3)]('click',confirmRenameQuiz),document[_0x4aea84(0x536)](_0x4aea84(0x773))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>moveQuizModal[_0x4aea84(0x932)][_0x4aea84(0x596)](_0x4aea84(0x933))),document[_0x4aea84(0x536)]('confirm-move-quiz-btn')[_0x4aea84(0x2a3)](_0x4aea84(0x311),confirmMoveQuiz),document[_0x4aea84(0x536)](_0x4aea84(0x447))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>quizSettingsModal['classList']['add'](_0x4aea84(0x933))),document[_0x4aea84(0x536)](_0x4aea84(0x27f))[_0x4aea84(0x2a3)](_0x4aea84(0x311),confirmQuizSettings),document[_0x4aea84(0x536)](_0x4aea84(0x8a7))['addEventListener'](_0x4aea84(0x311),()=>quizStatusModal[_0x4aea84(0x932)][_0x4aea84(0x596)]('hidden')),document[_0x4aea84(0x536)](_0x4aea84(0x842))[_0x4aea84(0x2a3)](_0x4aea84(0x311),confirmQuizStatus);const _0x6c4dd9=document[_0x4aea84(0x536)](_0x4aea84(0x2b6));document[_0x4aea84(0x536)](_0x4aea84(0x5f8))['addEventListener'](_0x4aea84(0x311),()=>{const _0x43b5b7=_0x4aea84;_0x6c4dd9[_0x43b5b7(0x932)]['add']('hidden');}),document[_0x4aea84(0x536)]('export-compact-pdf-btn')['addEventListener'](_0x4aea84(0x311),async()=>{const _0x43af02=_0x4aea84,_0xe93b16=allQuizzes[_0x43af02(0x389)](_0x38c16b=>_0x38c16b['id']===actionTargetId);_0xe93b16?(currentQuizData=_0xe93b16,exportQuizAsWorksheetPDF()):showMessage(_0x43af02(0x6d1)),_0x6c4dd9[_0x43af02(0x932)][_0x43af02(0x596)](_0x43af02(0x933));}),document[_0x4aea84(0x536)]('export-tutor-pdf-btn')[_0x4aea84(0x2a3)]('click',async()=>{const _0x45461e=_0x4aea84,_0x5a4a60=allQuizzes[_0x45461e(0x389)](_0x4d32c8=>_0x4d32c8['id']===actionTargetId);_0x5a4a60?(currentQuizData=_0x5a4a60,exportQuizAsTutorPDF()):showMessage(_0x45461e(0x6d1)),_0x6c4dd9[_0x45461e(0x932)][_0x45461e(0x596)](_0x45461e(0x933));}),document['getElementById']('open-global-live-btn')[_0x4aea84(0x2a3)](_0x4aea84(0x311),openGlobalLiveModal),document[_0x4aea84(0x536)]('cancel-global-live-btn')[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x44418d=_0x4aea84;document[_0x44418d(0x536)](_0x44418d(0x6ed))[_0x44418d(0x932)][_0x44418d(0x596)]('hidden'),selectedGlobalQuizId=null;}),document['getElementById']('global-quiz-search-input')[_0x4aea84(0x2a3)](_0x4aea84(0x448),_0x454673=>renderGlobalQuizList(_0x454673[_0x4aea84(0x911)][_0x4aea84(0x4bd)])),document[_0x4aea84(0x536)](_0x4aea84(0x7ac))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x5e6903=_0x4aea84,_0x4cd8f4=selectedGlobalQuizId;if(!_0x4cd8f4)return;document[_0x5e6903(0x536)]('global-live-game-modal')[_0x5e6903(0x932)][_0x5e6903(0x596)]('hidden'),handleStartLiveRace(_0x4cd8f4);}),document[_0x4aea84(0x536)](_0x4aea84(0x403))[_0x4aea84(0x2a3)](_0x4aea84(0x448),renderProjects),document[_0x4aea84(0x536)](_0x4aea84(0x874))[_0x4aea84(0x2a3)](_0x4aea84(0x337),async()=>{const _0x47478f=_0x4aea84,_0x3dfed5=document['getElementById']('project-sort-select')[_0x47478f(0x4bd)],_0x186fc2=doc(db,_0x47478f(0x78e),_0x47478f(0x6fd));try{await setDoc(_0x186fc2,{'projectSort':_0x3dfed5},{'merge':!![]});}catch(_0x57d20e){console[_0x47478f(0x52f)](_0x47478f(0x1c2),_0x57d20e),showMessage(_0x47478f(0x276));}}),document['getElementById'](_0x4aea84(0x35a))[_0x4aea84(0x2a3)](_0x4aea84(0x448),renderQuizzes),document[_0x4aea84(0x536)](_0x4aea84(0x691))['addEventListener']('click',()=>{const _0x55b18b=_0x4aea84;globalDashboardSettings['projectView']=_0x55b18b(0x69a),saveUserPreference(_0x55b18b(0x780),_0x55b18b(0x69a)),renderProjects();}),document[_0x4aea84(0x536)](_0x4aea84(0x6cf))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x4b98b1=_0x4aea84;globalDashboardSettings[_0x4b98b1(0x780)]='list',saveUserPreference(_0x4b98b1(0x780),'list'),renderProjects();}),manageTab[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>switchProjectTab(_0x4aea84(0x4e5))),resultsTab[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>switchProjectTab(_0x4aea84(0x5d2))),leaderboardTab['addEventListener'](_0x4aea84(0x311),()=>switchProjectTab(_0x4aea84(0x4ed))),document[_0x4aea84(0x536)](_0x4aea84(0x23d))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>switchQuizDetailTab(_0x4aea84(0x78f))),document[_0x4aea84(0x536)](_0x4aea84(0x90a))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>switchQuizDetailTab(_0x4aea84(0x91a))),document['getElementById'](_0x4aea84(0x69b))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>switchQuizDetailTab(_0x4aea84(0x749))),document[_0x4aea84(0x536)](_0x4aea84(0x5b7))['addEventListener'](_0x4aea84(0x311),()=>switchQuizDetailTab(_0x4aea84(0x61b))),document[_0x4aea84(0x536)](_0x4aea84(0x3ac))[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleAnalyzeClass),generateWorksheetBtn[_0x4aea84(0x2a3)](_0x4aea84(0x311),generateWorksheet);const _0x4752aa=document[_0x4aea84(0x536)](_0x4aea84(0x7ca)),_0x4c3397=document['getElementById'](_0x4aea84(0x528)),_0x270a4a=document['getElementById'](_0x4aea84(0x91b)),_0x48ebdf=document[_0x4aea84(0x536)]('blueprint-input-area'),_0x10c14c=document['getElementById']('parallel-test-tab'),_0x5ce152=document[_0x4aea84(0x536)](_0x4aea84(0x8d0));topicTab[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x59d293=_0x4aea84;topicTab[_0x59d293(0x932)][_0x59d293(0x596)](_0x59d293(0x553)),textTab[_0x59d293(0x932)][_0x59d293(0x89c)](_0x59d293(0x553)),fileTab[_0x59d293(0x932)]['remove'](_0x59d293(0x553)),worksheetTab[_0x59d293(0x932)][_0x59d293(0x89c)](_0x59d293(0x553));if(_0x4752aa)_0x4752aa[_0x59d293(0x932)][_0x59d293(0x89c)](_0x59d293(0x553));if(_0x270a4a)_0x270a4a['classList'][_0x59d293(0x89c)](_0x59d293(0x553));if(_0x10c14c)_0x10c14c[_0x59d293(0x932)][_0x59d293(0x89c)](_0x59d293(0x553));topicInputArea['classList']['remove'](_0x59d293(0x933)),textInputArea[_0x59d293(0x932)][_0x59d293(0x596)]('hidden'),fileInputArea[_0x59d293(0x932)][_0x59d293(0x596)](_0x59d293(0x933)),worksheetInputArea[_0x59d293(0x932)][_0x59d293(0x596)](_0x59d293(0x933));if(_0x4c3397)_0x4c3397['classList'][_0x59d293(0x596)](_0x59d293(0x933));if(_0x48ebdf)_0x48ebdf[_0x59d293(0x932)]['add'](_0x59d293(0x933));if(_0x5ce152)_0x5ce152[_0x59d293(0x932)][_0x59d293(0x596)](_0x59d293(0x933));}),textTab[_0x4aea84(0x2a3)]('click',()=>{const _0x6f642b=_0x4aea84;textTab[_0x6f642b(0x932)][_0x6f642b(0x596)](_0x6f642b(0x553)),topicTab[_0x6f642b(0x932)][_0x6f642b(0x89c)](_0x6f642b(0x553)),fileTab[_0x6f642b(0x932)]['remove'](_0x6f642b(0x553)),worksheetTab[_0x6f642b(0x932)]['remove'](_0x6f642b(0x553));if(_0x4752aa)_0x4752aa[_0x6f642b(0x932)]['remove'](_0x6f642b(0x553));if(_0x270a4a)_0x270a4a[_0x6f642b(0x932)][_0x6f642b(0x89c)]('active');if(_0x10c14c)_0x10c14c[_0x6f642b(0x932)][_0x6f642b(0x89c)](_0x6f642b(0x553));textInputArea[_0x6f642b(0x932)][_0x6f642b(0x89c)](_0x6f642b(0x933)),topicInputArea['classList'][_0x6f642b(0x596)]('hidden'),fileInputArea[_0x6f642b(0x932)][_0x6f642b(0x596)]('hidden'),worksheetInputArea['classList'][_0x6f642b(0x596)](_0x6f642b(0x933));if(_0x4c3397)_0x4c3397[_0x6f642b(0x932)]['add'](_0x6f642b(0x933));if(_0x48ebdf)_0x48ebdf['classList'][_0x6f642b(0x596)](_0x6f642b(0x933));if(_0x5ce152)_0x5ce152[_0x6f642b(0x932)][_0x6f642b(0x596)](_0x6f642b(0x933));}),fileTab[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x254d84=_0x4aea84;fileTab[_0x254d84(0x932)][_0x254d84(0x596)](_0x254d84(0x553)),topicTab[_0x254d84(0x932)][_0x254d84(0x89c)]('active'),textTab[_0x254d84(0x932)][_0x254d84(0x89c)](_0x254d84(0x553)),worksheetTab['classList'][_0x254d84(0x89c)](_0x254d84(0x553));if(_0x4752aa)_0x4752aa[_0x254d84(0x932)][_0x254d84(0x89c)](_0x254d84(0x553));if(_0x270a4a)_0x270a4a[_0x254d84(0x932)][_0x254d84(0x89c)](_0x254d84(0x553));if(_0x10c14c)_0x10c14c[_0x254d84(0x932)][_0x254d84(0x89c)](_0x254d84(0x553));fileInputArea[_0x254d84(0x932)]['remove']('hidden'),topicInputArea['classList'][_0x254d84(0x596)](_0x254d84(0x933)),textInputArea[_0x254d84(0x932)][_0x254d84(0x596)](_0x254d84(0x933)),worksheetInputArea[_0x254d84(0x932)][_0x254d84(0x596)]('hidden');if(_0x4c3397)_0x4c3397[_0x254d84(0x932)][_0x254d84(0x596)](_0x254d84(0x933));if(_0x48ebdf)_0x48ebdf[_0x254d84(0x932)][_0x254d84(0x596)](_0x254d84(0x933));if(_0x5ce152)_0x5ce152[_0x254d84(0x932)][_0x254d84(0x596)]('hidden');}),worksheetTab[_0x4aea84(0x2a3)]('click',()=>{const _0x541ba1=_0x4aea84;worksheetTab[_0x541ba1(0x932)]['add']('active'),topicTab[_0x541ba1(0x932)][_0x541ba1(0x89c)](_0x541ba1(0x553)),textTab[_0x541ba1(0x932)]['remove'](_0x541ba1(0x553)),fileTab[_0x541ba1(0x932)]['remove'](_0x541ba1(0x553));if(_0x4752aa)_0x4752aa['classList'][_0x541ba1(0x89c)](_0x541ba1(0x553));if(_0x270a4a)_0x270a4a['classList']['remove']('active');if(_0x10c14c)_0x10c14c['classList'][_0x541ba1(0x89c)]('active');worksheetInputArea[_0x541ba1(0x932)]['remove'](_0x541ba1(0x933)),topicInputArea[_0x541ba1(0x932)][_0x541ba1(0x596)](_0x541ba1(0x933)),textInputArea[_0x541ba1(0x932)][_0x541ba1(0x596)](_0x541ba1(0x933)),fileInputArea[_0x541ba1(0x932)][_0x541ba1(0x596)]('hidden');if(_0x4c3397)_0x4c3397[_0x541ba1(0x932)][_0x541ba1(0x596)]('hidden');if(_0x48ebdf)_0x48ebdf[_0x541ba1(0x932)][_0x541ba1(0x596)](_0x541ba1(0x933));if(_0x5ce152)_0x5ce152[_0x541ba1(0x932)][_0x541ba1(0x596)]('hidden');});const _0x5dafb7=document['getElementById']('bank-tab'),_0x63c5c6=document['getElementById'](_0x4aea84(0x330));_0x5dafb7&&_0x5dafb7[_0x4aea84(0x2a3)]('click',()=>{const _0x242bf8=_0x4aea84;topicTab[_0x242bf8(0x932)]['remove']('active'),textTab[_0x242bf8(0x932)][_0x242bf8(0x89c)](_0x242bf8(0x553)),fileTab['classList'][_0x242bf8(0x89c)]('active'),worksheetTab[_0x242bf8(0x932)][_0x242bf8(0x89c)](_0x242bf8(0x553));if(_0x4752aa)_0x4752aa[_0x242bf8(0x932)][_0x242bf8(0x89c)](_0x242bf8(0x553));if(_0x270a4a)_0x270a4a['classList']['remove']('active');if(_0x10c14c)_0x10c14c['classList']['remove'](_0x242bf8(0x553));_0x5dafb7['classList'][_0x242bf8(0x596)](_0x242bf8(0x553)),topicInputArea[_0x242bf8(0x932)]['add'](_0x242bf8(0x933)),textInputArea['classList'][_0x242bf8(0x596)](_0x242bf8(0x933)),fileInputArea['classList'][_0x242bf8(0x596)](_0x242bf8(0x933)),worksheetInputArea[_0x242bf8(0x932)][_0x242bf8(0x596)](_0x242bf8(0x933));if(_0x4c3397)_0x4c3397[_0x242bf8(0x932)][_0x242bf8(0x596)](_0x242bf8(0x933));if(_0x48ebdf)_0x48ebdf[_0x242bf8(0x932)][_0x242bf8(0x596)](_0x242bf8(0x933));if(_0x5ce152)_0x5ce152[_0x242bf8(0x932)][_0x242bf8(0x596)](_0x242bf8(0x933));_0x63c5c6[_0x242bf8(0x932)][_0x242bf8(0x89c)](_0x242bf8(0x933)),displayQuestionBank();});_0x4752aa&&(_0x4752aa[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x266ee2=_0x4aea84;_0x4752aa[_0x266ee2(0x932)][_0x266ee2(0x596)](_0x266ee2(0x553)),topicTab[_0x266ee2(0x932)][_0x266ee2(0x89c)](_0x266ee2(0x553)),textTab['classList'][_0x266ee2(0x89c)](_0x266ee2(0x553)),fileTab[_0x266ee2(0x932)][_0x266ee2(0x89c)](_0x266ee2(0x553)),worksheetTab[_0x266ee2(0x932)][_0x266ee2(0x89c)](_0x266ee2(0x553));if(_0x270a4a)_0x270a4a[_0x266ee2(0x932)]['remove']('active');if(_0x10c14c)_0x10c14c[_0x266ee2(0x932)][_0x266ee2(0x89c)](_0x266ee2(0x553));_0x4c3397[_0x266ee2(0x932)][_0x266ee2(0x89c)](_0x266ee2(0x933)),topicInputArea[_0x266ee2(0x932)]['add'](_0x266ee2(0x933)),textInputArea['classList']['add'](_0x266ee2(0x933)),fileInputArea[_0x266ee2(0x932)][_0x266ee2(0x596)](_0x266ee2(0x933)),worksheetInputArea[_0x266ee2(0x932)][_0x266ee2(0x596)](_0x266ee2(0x933));if(_0x48ebdf)_0x48ebdf[_0x266ee2(0x932)][_0x266ee2(0x596)](_0x266ee2(0x933));if(_0x5ce152)_0x5ce152['classList']['add']('hidden');}),document[_0x4aea84(0x536)](_0x4aea84(0x6cc))[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleGenerateFromLink));_0x270a4a&&_0x270a4a[_0x4aea84(0x2a3)]('click',()=>{const _0x353f5f=_0x4aea84;_0x270a4a[_0x353f5f(0x932)][_0x353f5f(0x596)]('active'),topicTab['classList'][_0x353f5f(0x89c)]('active'),textTab['classList'][_0x353f5f(0x89c)](_0x353f5f(0x553)),fileTab['classList'][_0x353f5f(0x89c)](_0x353f5f(0x553)),worksheetTab[_0x353f5f(0x932)]['remove'](_0x353f5f(0x553));if(_0x4752aa)_0x4752aa[_0x353f5f(0x932)][_0x353f5f(0x89c)]('active');if(_0x5dafb7)_0x5dafb7[_0x353f5f(0x932)][_0x353f5f(0x89c)](_0x353f5f(0x553));if(_0x10c14c)_0x10c14c[_0x353f5f(0x932)][_0x353f5f(0x89c)]('active');_0x48ebdf['classList'][_0x353f5f(0x89c)]('hidden'),topicInputArea[_0x353f5f(0x932)][_0x353f5f(0x596)](_0x353f5f(0x933)),textInputArea[_0x353f5f(0x932)]['add'](_0x353f5f(0x933)),fileInputArea[_0x353f5f(0x932)][_0x353f5f(0x596)](_0x353f5f(0x933)),worksheetInputArea[_0x353f5f(0x932)][_0x353f5f(0x596)](_0x353f5f(0x933));if(_0x4c3397)_0x4c3397[_0x353f5f(0x932)][_0x353f5f(0x596)]('hidden');if(_0x63c5c6)_0x63c5c6['classList'][_0x353f5f(0x596)]('hidden');if(_0x5ce152)_0x5ce152['classList'][_0x353f5f(0x596)]('hidden');});_0x10c14c&&_0x10c14c['addEventListener'](_0x4aea84(0x311),()=>{const _0x2c219d=_0x4aea84;_0x10c14c[_0x2c219d(0x932)][_0x2c219d(0x596)](_0x2c219d(0x553)),topicTab[_0x2c219d(0x932)][_0x2c219d(0x89c)]('active'),textTab[_0x2c219d(0x932)][_0x2c219d(0x89c)]('active'),fileTab[_0x2c219d(0x932)][_0x2c219d(0x89c)](_0x2c219d(0x553)),worksheetTab['classList']['remove'](_0x2c219d(0x553));if(_0x4752aa)_0x4752aa[_0x2c219d(0x932)][_0x2c219d(0x89c)](_0x2c219d(0x553));if(_0x270a4a)_0x270a4a[_0x2c219d(0x932)][_0x2c219d(0x89c)](_0x2c219d(0x553));if(_0x5dafb7)_0x5dafb7[_0x2c219d(0x932)]['remove'](_0x2c219d(0x553));_0x5ce152[_0x2c219d(0x932)][_0x2c219d(0x89c)](_0x2c219d(0x933)),topicInputArea[_0x2c219d(0x932)][_0x2c219d(0x596)](_0x2c219d(0x933)),textInputArea['classList'][_0x2c219d(0x596)](_0x2c219d(0x933)),fileInputArea[_0x2c219d(0x932)][_0x2c219d(0x596)](_0x2c219d(0x933)),worksheetInputArea['classList'][_0x2c219d(0x596)](_0x2c219d(0x933));if(_0x4c3397)_0x4c3397[_0x2c219d(0x932)][_0x2c219d(0x596)](_0x2c219d(0x933));if(_0x48ebdf)_0x48ebdf['classList'][_0x2c219d(0x596)](_0x2c219d(0x933));if(_0x63c5c6)_0x63c5c6[_0x2c219d(0x932)][_0x2c219d(0x596)](_0x2c219d(0x933));});const _0x4d7eff=document[_0x4aea84(0x536)](_0x4aea84(0x70b)),_0x4ff2dc=document[_0x4aea84(0x536)](_0x4aea84(0x261));_0x4d7eff&&_0x4d7eff[_0x4aea84(0x2a3)]('change',_0x4d228a=>{const _0x23972e=_0x4aea84;_0x4d228a['target'][_0x23972e(0x2e8)]['length']>0x0?_0x4ff2dc['disabled']=![]:_0x4ff2dc[_0x23972e(0x315)]=!![];});_0x4ff2dc&&_0x4ff2dc[_0x4aea84(0x2a3)]('click',handleGenerateFromBlueprint);const _0x42e0a6=document[_0x4aea84(0x536)]('parallel-test-upload-input'),_0x45f963=document[_0x4aea84(0x536)](_0x4aea84(0x935));_0x42e0a6&&_0x42e0a6[_0x4aea84(0x2a3)](_0x4aea84(0x337),_0x4dc4df=>{const _0x12ac79=_0x4aea84;_0x45f963['disabled']=_0x4dc4df[_0x12ac79(0x911)]['files'][_0x12ac79(0x334)]===0x0;});_0x45f963&&_0x45f963[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleGenerateParallelTest);loadQuizBtn[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleLoadQuiz),startQuizBtn[_0x4aea84(0x2a3)]('click',()=>{const _0x371577=_0x4aea84,_0x51337e=document['getElementById'](_0x371577(0x23e));currentStudentName=_0x51337e[_0x371577(0x4bd)];if(!currentStudentName){showMessage(_0x371577(0x2b1));return;}studentNameSelectionView['classList'][_0x371577(0x596)](_0x371577(0x933)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4aea84(0x536)](_0x4aea84(0x709))[_0x4aea84(0x2a3)](_0x4aea84(0x311),showJoinGameView),document[_0x4aea84(0x536)](_0x4aea84(0x522))['addEventListener'](_0x4aea84(0x311),handleJoinLiveGame),document['getElementById'](_0x4aea84(0x2e4))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>showView(_0x4aea84(0x490)));const _0xf7bea3=()=>{const _0x505d7e=_0x4aea84,_0x4271a1=document[_0x505d7e(0x536)](_0x505d7e(0x6e9))[_0x505d7e(0x69f)][_0x505d7e(0x72f)](/[^a-z0-9]/gi,'_')[_0x505d7e(0x76f)]();return _0x505d7e(0x61e)+(_0x4271a1||_0x505d7e(0x827));},_0x340cb2=document[_0x4aea84(0x536)](_0x4aea84(0x921));_0x340cb2&&_0x340cb2[_0x4aea84(0x2a3)](_0x4aea84(0x448),_0x54ff10=>{const _0x24de35=_0x4aea84,_0x310c49=_0x54ff10['target'][_0x24de35(0x4bd)]['toLowerCase']()[_0x24de35(0x2a6)](),_0x5438ba=document[_0x24de35(0x536)](_0x24de35(0x1a9)),_0x5eec0e=_0x5438ba[_0x24de35(0x7d8)]('.topic-category');_0x5eec0e[_0x24de35(0x5b6)](_0x465189=>{const _0x2cbd68=_0x24de35;let _0x2056c6=![];const _0x3fb96f=_0x465189[_0x2cbd68(0x7d8)](_0x2cbd68(0x5c9));_0x3fb96f[_0x2cbd68(0x5b6)](_0x1ad821=>{const _0x48c921=_0x2cbd68,_0x325c63=_0x1ad821['querySelector'](_0x48c921(0x6de))[_0x48c921(0x69f)][_0x48c921(0x76f)]();_0x325c63[_0x48c921(0x809)](_0x310c49)?(_0x1ad821[_0x48c921(0x6e2)][_0x48c921(0x75a)]='flex',_0x2056c6=!![]):_0x1ad821[_0x48c921(0x6e2)][_0x48c921(0x75a)]=_0x48c921(0x607);}),_0x2056c6?_0x465189['style'][_0x2cbd68(0x75a)]=_0x2cbd68(0x524):_0x465189[_0x2cbd68(0x6e2)][_0x2cbd68(0x75a)]=_0x2cbd68(0x607);});});document['getElementById'](_0x4aea84(0x705))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>exportTableAsImage('results-table-container',_0xf7bea3())),document[_0x4aea84(0x536)](_0x4aea84(0x245))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>exportTableAsPDF(_0x4aea84(0x58b),_0xf7bea3())),document[_0x4aea84(0x536)](_0x4aea84(0x488))['addEventListener'](_0x4aea84(0x311),()=>exportTableAsWord(_0x4aea84(0x6c0),_0xf7bea3())),document[_0x4aea84(0x536)](_0x4aea84(0x931))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>exportTableAsExcel(_0x4aea84(0x58b),_0xf7bea3()));const _0xaeda6d=()=>{const _0x3445df=_0x4aea84,_0x285839=document[_0x3445df(0x536)]('results-quiz-title')[_0x3445df(0x69f)][_0x3445df(0x72f)](/[^a-z0-9]/gi,'_')[_0x3445df(0x76f)]();return _0x3445df(0x53d)+(_0x285839||_0x3445df(0x827));};document[_0x4aea84(0x536)](_0x4aea84(0x930))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>exportTableAsImage(_0x4aea84(0x304),_0xaeda6d())),document['getElementById'](_0x4aea84(0x838))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>exportTableAsPDF(_0x4aea84(0x879),_0xaeda6d())),document[_0x4aea84(0x536)](_0x4aea84(0x86a))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>exportTableAsWord(_0x4aea84(0x304),_0xaeda6d())),document['getElementById'](_0x4aea84(0x2c3))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>exportTableAsExcel(_0x4aea84(0x879),_0xaeda6d())),projectQuizzesList[_0x4aea84(0x2a3)]('click',async _0x18a96d=>{const _0x5753fa=_0x4aea84,_0x289380=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)]('.quiz-result-card'),_0x313dda=_0x18a96d['target'][_0x5753fa(0x87f)](_0x5753fa(0x39d)),_0x316079=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)]('.compare-results-btn'),_0x5e78e3=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)]('.generate-lesson-btn'),_0x637663=_0x18a96d['target'][_0x5753fa(0x87f)](_0x5753fa(0x639)),_0x3527c2=_0x18a96d['target'][_0x5753fa(0x87f)]('.copy-quiz-id-list-btn'),_0x5913dc=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)](_0x5753fa(0x82b)),_0x2146d1=_0x18a96d['target'][_0x5753fa(0x87f)](_0x5753fa(0x6b7)),_0x3bf157=_0x18a96d['target'][_0x5753fa(0x87f)](_0x5753fa(0x5b4)),_0x495303=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)](_0x5753fa(0x800)),_0x3af32d=_0x18a96d[_0x5753fa(0x911)]['closest'](_0x5753fa(0x525)),_0x4f8fe2=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)]('.move-quiz-btn'),_0x4370ae=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)](_0x5753fa(0x323)),_0x4222a3=_0x18a96d[_0x5753fa(0x911)]['closest'](_0x5753fa(0x2b2)),_0x5e25a4=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)](_0x5753fa(0x1c5)),_0x16c5f9=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)](_0x5753fa(0x29e)),_0x5672df=_0x18a96d['target']['closest'](_0x5753fa(0x50e)),_0x54abc5=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)](_0x5753fa(0x495)),_0x3824b0=_0x18a96d['target'][_0x5753fa(0x87f)]('.delete-quiz-btn'),_0xa0a9bb=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)]('.quiz-status-btn'),_0x296f5a=_0x18a96d[_0x5753fa(0x911)][_0x5753fa(0x87f)](_0x5753fa(0x8f0));if(_0x296f5a){const _0x22bfd5=_0x296f5a['dataset'][_0x5753fa(0x22a)],_0x53862f=document['getElementById'](_0x5753fa(0x4ba)+_0x22bfd5);_0x53862f&&_0x53862f[_0x5753fa(0x932)][_0x5753fa(0x4f0)](_0x5753fa(0x933));}else{if(_0x313dda){const _0x268b59=_0x313dda[_0x5753fa(0x424)][_0x5753fa(0x22a)],_0x35b8bb=allQuizzes[_0x5753fa(0x389)](_0x668db7=>_0x668db7['id']===_0x268b59);_0x35b8bb&&handleGenerateParallelPostTest(_0x35b8bb);}else{if(_0x316079)handleCompareResults(_0x316079[_0x5753fa(0x424)][_0x5753fa(0x22a)],_0x316079['dataset']['preTestId']);else{if(_0x5e78e3){const _0xf2d12f=_0x5e78e3[_0x5753fa(0x424)][_0x5753fa(0x22a)],_0x32ea83=allQuizzes[_0x5753fa(0x389)](_0x102262=>_0x102262['id']===_0xf2d12f);_0x32ea83&&_0x32ea83[_0x5753fa(0x2f2)]?(displayLessonPlan(_0x32ea83[_0x5753fa(0x2f2)],_0x32ea83),showConfirmation(_0x5753fa(0x293),()=>handleGenerateLessonPlan(_0xf2d12f)),document[_0x5753fa(0x536)](_0x5753fa(0x4b3))[_0x5753fa(0x1ed)]('h3')[_0x5753fa(0x69f)]=_0x5753fa(0x703),document[_0x5753fa(0x536)]('confirm-delete-btn')[_0x5753fa(0x69f)]=_0x5753fa(0x4c7)):handleGenerateLessonPlan(_0xf2d12f);}else{if(_0x637663)handleToggleStarQuiz(_0x637663[_0x5753fa(0x424)][_0x5753fa(0x22a)]);else{if(_0x3527c2)copyTextToClipboard(_0x3527c2['dataset'][_0x5753fa(0x22a)],_0x5753fa(0x40e));else{if(_0x5913dc)handleOpenQuizEditor(_0x5913dc[_0x5753fa(0x424)][_0x5753fa(0x22a)]);else{if(_0x2146d1)handleQuizSettings(_0x2146d1[_0x5753fa(0x424)][_0x5753fa(0x22a)]);else{if(_0x3bf157)handleDuplicateQuiz(_0x3bf157[_0x5753fa(0x424)][_0x5753fa(0x22a)]);else{if(_0x495303)handleRenameQuiz(_0x495303['dataset'][_0x5753fa(0x22a)],_0x495303['dataset'][_0x5753fa(0x652)]);else{if(_0x3af32d){const _0x1e4697=_0x3af32d[_0x5753fa(0x424)][_0x5753fa(0x22a)],_0x28fd14=allQuizzes[_0x5753fa(0x389)](_0x56c10a=>_0x56c10a['id']===_0x1e4697);_0x28fd14&&handleGenerateParallelFromBank(_0x28fd14);}else{if(_0x4f8fe2)handleMoveQuiz(_0x4f8fe2[_0x5753fa(0x424)][_0x5753fa(0x22a)]);else{if(_0x4370ae)handleManualQuizPairing(_0x4370ae[_0x5753fa(0x424)][_0x5753fa(0x22a)]);else{if(_0x4222a3)handleUnpairQuiz(_0x4222a3[_0x5753fa(0x424)][_0x5753fa(0x22a)]);else{if(_0x5e25a4){const _0x318282=_0x5e25a4['dataset'][_0x5753fa(0x22a)],_0x1cc67f=allQuizzes[_0x5753fa(0x389)](_0x134a8f=>_0x134a8f['id']===_0x318282);if(_0x1cc67f)startPresentation(_0x1cc67f);}else{if(_0x16c5f9){const _0x435601=_0x16c5f9[_0x5753fa(0x424)][_0x5753fa(0x22a)],_0x34f30b=allQuizzes[_0x5753fa(0x389)](_0x11fcd7=>_0x11fcd7['id']===_0x435601);_0x34f30b&&(currentQuizData=_0x34f30b,startAdminTest());}else{if(_0x5672df)handleStartLiveRace(_0x5672df[_0x5753fa(0x424)]['quizId']);else{if(_0x54abc5)actionTargetId=_0x54abc5[_0x5753fa(0x424)][_0x5753fa(0x22a)],document[_0x5753fa(0x536)](_0x5753fa(0x2b6))[_0x5753fa(0x932)]['remove']('hidden');else{if(_0x3824b0)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x3824b0[_0x5753fa(0x424)][_0x5753fa(0x652)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x3824b0[_0x5753fa(0x424)][_0x5753fa(0x22a)]));else{if(_0xa0a9bb)handleQuizStatus(_0xa0a9bb['dataset']['quizId']);else _0x289380&&showQuizDetailView(_0x289380[_0x5753fa(0x424)][_0x5753fa(0x22a)]);}}}}}}}}}}}}}}}}}}}}),document[_0x4aea84(0x536)]('quiz-leaderboard-table')['querySelector'](_0x4aea84(0x2e0))['addEventListener'](_0x4aea84(0x311),_0xe148dd=>{const _0x981b84=_0x4aea84,_0x431d81=_0xe148dd['target'][_0x981b84(0x87f)]('.sortable-header');if(!_0x431d81||!_0x431d81[_0x981b84(0x424)][_0x981b84(0x34f)])return;const _0x118b52=_0x431d81['dataset']['sort'];if(quizLeaderboardSortBy===_0x118b52)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x981b84(0x1aa)?'desc':_0x981b84(0x1aa);else{quizLeaderboardSortBy=_0x118b52;const _0x37ed57=['studentName'];quizLeaderboardSortOrder=_0x37ed57['includes'](_0x118b52)?'asc':_0x981b84(0x3c6);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x981b84(0x5cd));}),document[_0x4aea84(0x536)](_0x4aea84(0x2c1))[_0x4aea84(0x2a3)](_0x4aea84(0x311),closePresentation),document['getElementById'](_0x4aea84(0x239))[_0x4aea84(0x2a3)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x4aea84(0x536)]('next-question-btn')[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x352067=_0x4aea84;currentQuizData['questions']&&currentPresentationSlide<currentQuizData['questions'][_0x352067(0x334)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x4aea84(0x2a3)](_0x4aea84(0x35d),()=>{const _0x17f225=_0x4aea84;!document['fullscreenElement']&&(presentationModal[_0x17f225(0x6e2)][_0x17f225(0x75a)]=_0x17f225(0x607));}),document[_0x4aea84(0x536)](_0x4aea84(0x8be))['addEventListener']('click',handleDeleteAllStudents),studentList[_0x4aea84(0x2a3)]('click',_0x21660d=>{const _0x2ae71b=_0x4aea84,_0x359ab2=_0x21660d[_0x2ae71b(0x911)][_0x2ae71b(0x87f)]('.delete-student-btn');if(_0x359ab2){const _0x38685b=_0x359ab2['dataset'][_0x2ae71b(0x7e1)];handleDeleteStudent(_0x38685b);}}),document[_0x4aea84(0x536)](_0x4aea84(0x726))[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x4aea84(0x337),_0x4b33da=>{const _0x4fd85c=_0x4aea84,_0x32ac26=_0x4b33da['target'][_0x4fd85c(0x2e8)][0x0],_0xc34c1c=document[_0x4fd85c(0x536)](_0x4fd85c(0x726));_0x32ac26?(selectedFile=_0x32ac26,_0xc34c1c['disabled']=![]):(selectedFile=null,_0xc34c1c[_0x4fd85c(0x315)]=!![]);}),document[_0x4aea84(0x536)](_0x4aea84(0x745))[_0x4aea84(0x2a3)]('change',_0x5b78d6=>{const _0x5d5630=_0x4aea84,_0x44f3b1=document[_0x5d5630(0x536)](_0x5d5630(0x68d)),_0x5de071=document['getElementById'](_0x5d5630(0x51c)),_0x14a3aa=document['getElementById'](_0x5d5630(0x47d));_0x5b78d6['target'][_0x5d5630(0x4bd)]===_0x5d5630(0x607)?_0x44f3b1['classList']['add'](_0x5d5630(0x933)):(_0x44f3b1[_0x5d5630(0x932)]['remove'](_0x5d5630(0x933)),_0x5b78d6[_0x5d5630(0x911)][_0x5d5630(0x4bd)]===_0x5d5630(0x2ee)?(_0x5de071[_0x5d5630(0x69f)]='ระยะเวลา\x20(นาที):',_0x14a3aa[_0x5d5630(0x4bd)]='10'):(_0x5de071[_0x5d5630(0x69f)]='ระยะเวลา\x20(วินาที):',_0x14a3aa[_0x5d5630(0x4bd)]='30'));}),document[_0x4aea84(0x536)](_0x4aea84(0x7d3))[_0x4aea84(0x2a3)](_0x4aea84(0x337),_0x32fc28=>{const _0x7dcc34=_0x4aea84,_0x40e8cb=document[_0x7dcc34(0x536)](_0x7dcc34(0x845)),_0x5cb553=_0x32fc28[_0x7dcc34(0x911)]['value'],_0x4b9eb5=document[_0x7dcc34(0x1ed)](_0x7dcc34(0x885)),_0x3fb8bc=document[_0x7dcc34(0x536)]('passing-score-input'),_0x17f6a5=document['getElementById'](_0x7dcc34(0x679));_0x5cb553===_0x7dcc34(0x427)?_0x4b9eb5[_0x7dcc34(0x69f)]=_0x7dcc34(0x442):_0x4b9eb5['textContent']='จำนวนข้อ:',_0x5cb553===_0x7dcc34(0x465)||_0x5cb553===_0x7dcc34(0x5bf)||_0x5cb553===_0x7dcc34(0x8dd)?_0x40e8cb['classList'][_0x7dcc34(0x89c)](_0x7dcc34(0x933)):_0x40e8cb[_0x7dcc34(0x932)][_0x7dcc34(0x596)](_0x7dcc34(0x933)),_0x3fb8bc[_0x7dcc34(0x924)]=_0x17f6a5[_0x7dcc34(0x4bd)];}),document[_0x4aea84(0x536)](_0x4aea84(0x679))[_0x4aea84(0x2a3)](_0x4aea84(0x448),_0x3bd09b=>{const _0x177155=_0x4aea84;document['getElementById'](_0x177155(0x54a))['max']=_0x3bd09b[_0x177155(0x911)][_0x177155(0x4bd)];}),document[_0x4aea84(0x536)](_0x4aea84(0x57c))['addEventListener'](_0x4aea84(0x337),_0x34014d=>{const _0x5091cf=_0x4aea84,_0x5f37f3=document[_0x5091cf(0x536)](_0x5091cf(0x514)),_0x30da31=document[_0x5091cf(0x536)]('modal-timer-duration-label'),_0x42f28d=document[_0x5091cf(0x536)]('modal-timer-duration-input');_0x34014d[_0x5091cf(0x911)][_0x5091cf(0x4bd)]==='none'?_0x5f37f3['classList']['add'](_0x5091cf(0x933)):(_0x5f37f3[_0x5091cf(0x932)]['remove'](_0x5091cf(0x933)),_0x34014d[_0x5091cf(0x911)]['value']==='whole_quiz'?_0x30da31[_0x5091cf(0x69f)]='ระยะเวลา\x20(นาที):':_0x30da31[_0x5091cf(0x69f)]=_0x5091cf(0x6cb));}),document[_0x4aea84(0x536)](_0x4aea84(0x6b0))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x1d9ab9=_0x4aea84;document[_0x1d9ab9(0x536)]('quiz-editor-modal')[_0x1d9ab9(0x932)]['add'](_0x1d9ab9(0x933));}),document[_0x4aea84(0x536)]('cancel-quiz-edits-btn-footer')[_0x4aea84(0x2a3)]('click',()=>{const _0x1d1588=_0x4aea84;document[_0x1d1588(0x536)](_0x1d1588(0x462))[_0x1d1588(0x932)]['add'](_0x1d1588(0x933));}),document[_0x4aea84(0x536)](_0x4aea84(0x3d6))['addEventListener'](_0x4aea84(0x311),handleVerifyAnswersInEditor),document['getElementById'](_0x4aea84(0x43f))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x22f3ad=_0x4aea84;document[_0x22f3ad(0x536)](_0x22f3ad(0x462))['classList'][_0x22f3ad(0x596)]('hidden'),showConfirmation(_0x22f3ad(0x402),handleSaveChanges);}),document['getElementById'](_0x4aea84(0x77d))['addEventListener'](_0x4aea84(0x311),handleAutoFixLatex);const _0x24e9d0=document[_0x4aea84(0x536)]('quiz-editor-questions-container');_0x24e9d0&&_0x24e9d0[_0x4aea84(0x2a3)](_0x4aea84(0x311),_0x48b0c2=>{const _0x4db48b=_0x4aea84,_0x4a5fda=_0x48b0c2[_0x4db48b(0x911)]['closest'](_0x4db48b(0x231));if(_0x4a5fda){const _0x48d6f0=_0x4a5fda['closest'](_0x4db48b(0x33d)),_0xc6fdb5=parseInt(_0x48d6f0['dataset']['qIndex'],0xa);handleRegenerateQuestionInEditor(_0xc6fdb5);}});document[_0x4aea84(0x536)]('open-quiz-bank-btn')[_0x4aea84(0x2a3)](_0x4aea84(0x311),openQuizBankModal),document[_0x4aea84(0x536)](_0x4aea84(0x8c3))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x26e19d=_0x4aea84;document[_0x26e19d(0x536)](_0x26e19d(0x624))[_0x26e19d(0x932)][_0x26e19d(0x596)]('hidden');}),document[_0x4aea84(0x536)](_0x4aea84(0x675))[_0x4aea84(0x2a3)]('input',_0x4e930c=>renderQuizBankList(_0x4e930c[_0x4aea84(0x911)][_0x4aea84(0x4bd)]));const _0x4f37ca=document[_0x4aea84(0x536)](_0x4aea84(0x1a9));if(_0x4f37ca){let _0x5763c3=null;_0x4f37ca['addEventListener'](_0x4aea84(0x311),_0x1301d4=>{const _0x31cc7c=_0x4aea84,_0x194243=_0x1301d4['target'],_0xbe50cb=_0x194243[_0x31cc7c(0x87f)](_0x31cc7c(0x492)),_0x2f10f3=_0x194243[_0x31cc7c(0x87f)](_0x31cc7c(0x449)),_0x4468d6=_0x194243[_0x31cc7c(0x87f)]('.save-custom-topic-btn'),_0x44b5dc=_0x194243[_0x31cc7c(0x87f)]('.cancel-edit-topic-btn');if(_0x2f10f3){_0x1301d4['preventDefault']();const _0x40f419=_0x2f10f3[_0x31cc7c(0x424)]['id'],_0x5c0a2e=_0x2f10f3[_0x31cc7c(0x87f)](_0x31cc7c(0x489))[_0x31cc7c(0x1ed)]('.topic-name-display')[_0x31cc7c(0x69f)];showConfirmation(_0x31cc7c(0x7b4)+_0x5c0a2e+'\x22?',()=>handleDeleteCustomTopic(_0x40f419));}else{if(_0xbe50cb){_0x1301d4['preventDefault']();_0x5763c3&&toggleTopicEditMode(_0x5763c3,![]);const _0x6c6af2=_0xbe50cb['closest'](_0x31cc7c(0x873));_0x5763c3=_0x6c6af2,toggleTopicEditMode(_0x6c6af2,!![]);}else{if(_0x4468d6){_0x1301d4[_0x31cc7c(0x8c8)]();const _0x5d08d9=_0x4468d6['dataset']['id'],_0x6b6a77=_0x4468d6[_0x31cc7c(0x87f)](_0x31cc7c(0x873)),_0x580880=_0x6b6a77['querySelector']('.topic-name-input')[_0x31cc7c(0x4bd)];handleUpdateCustomTopic(_0x5d08d9,_0x580880),_0x5763c3=null;}else{if(_0x44b5dc){_0x1301d4[_0x31cc7c(0x8c8)]();const _0x5084f9=_0x44b5dc[_0x31cc7c(0x87f)](_0x31cc7c(0x873));toggleTopicEditMode(_0x5084f9,![]),_0x5763c3=null;}}}}}),document[_0x4aea84(0x536)](_0x4aea84(0x50d))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x844a6b=_0x4aea84;document['getElementById']('lesson-plan-modal')['classList'][_0x844a6b(0x596)](_0x844a6b(0x933));}),document[_0x4aea84(0x536)](_0x4aea84(0x2cc))[_0x4aea84(0x2a3)]('click',()=>{const _0x4c8e4b=_0x4aea84;document[_0x4c8e4b(0x536)](_0x4c8e4b(0x662))[_0x4c8e4b(0x932)][_0x4c8e4b(0x596)](_0x4c8e4b(0x933));}),document[_0x4aea84(0x536)](_0x4aea84(0x516))[_0x4aea84(0x2a3)](_0x4aea84(0x311),handleExportLessonPDF);}document['getElementById'](_0x4aea84(0x64a))['addEventListener'](_0x4aea84(0x311),()=>{const _0x44d362=_0x4aea84;document['getElementById'](_0x44d362(0x392))[_0x44d362(0x932)]['add'](_0x44d362(0x933));}),document[_0x4aea84(0x536)](_0x4aea84(0x754))[_0x4aea84(0x2a3)](_0x4aea84(0x311),()=>{const _0x570448=_0x4aea84;document['getElementById']('comparison-modal')[_0x570448(0x932)][_0x570448(0x596)](_0x570448(0x933));}),setupComparisonModalTabs(),document[_0x4aea84(0x294)][_0x4aea84(0x2a3)](_0x4aea84(0x311),function(_0x5e8e54){const _0x24bd52=_0x4aea84;if(_0x5e8e54[_0x24bd52(0x911)][_0x24bd52(0x932)]['contains'](_0x24bd52(0x21e))){const _0x19b648=unescape(_0x5e8e54[_0x24bd52(0x911)][_0x24bd52(0x424)]['topic']);startSkillPractice(_0x19b648);}}),document['getElementById'](_0x4aea84(0x76c))[_0x4aea84(0x2a3)]('click',_0x46fc5c=>{const _0x3834dc=_0x4aea84,_0x52379f=_0x46fc5c[_0x3834dc(0x911)][_0x3834dc(0x87f)](_0x3834dc(0x33b));if(_0x52379f){const _0x207972=_0x52379f[_0x3834dc(0x424)]['studentName'];handleDeleteSubmission(_0x207972);}});}async function showStudentProgressView(){const _0x5d501f=_0x527e23;studentInitialView['classList'][_0x5d501f(0x596)]('hidden'),document['getElementById'](_0x5d501f(0x777))[_0x5d501f(0x932)][_0x5d501f(0x89c)](_0x5d501f(0x933));const _0xbedeb0=document['getElementById'](_0x5d501f(0x940)),_0x30bd94=document[_0x5d501f(0x536)]('progress-student-select'),_0x150563=document[_0x5d501f(0x536)](_0x5d501f(0x368));_0x150563[_0x5d501f(0x343)]=_0x5d501f(0x570),_0x30bd94[_0x5d501f(0x343)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x30bd94[_0x5d501f(0x315)]=!![],_0xbedeb0['innerHTML']='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x5d501f(0x334)]===0x0){const _0x12cb4c=collection(db,_0x5d501f(0x51d)+appId+_0x5d501f(0x379)),_0x1a45a0=await getDocs(_0x12cb4c);allProjects=_0x1a45a0['docs']['map'](_0x79d973=>({'id':_0x79d973['id'],..._0x79d973[_0x5d501f(0x3b3)]()}));}const _0x11d9a4=allProjects[_0x5d501f(0x8fe)](_0x5045f1=>_0x5045f1[_0x5d501f(0x943)]?.['showInStudentDashboard']!==![]);_0x11d9a4[_0x5d501f(0x34f)]((_0x3a9891,_0x466e39)=>_0x3a9891[_0x5d501f(0x3a2)]['localeCompare'](_0x466e39[_0x5d501f(0x3a2)],'th')),_0xbedeb0[_0x5d501f(0x343)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x11d9a4[_0x5d501f(0x421)](_0x3315e0=>_0x5d501f(0x77e)+_0x3315e0['id']+'\x22>'+_0x3315e0['projectName']+_0x5d501f(0x8de))[_0x5d501f(0x55b)](''),_0xbedeb0[_0x5d501f(0x486)]=()=>{const _0x2d3459=_0x5d501f,_0x4e0c7c=_0x30bd94[_0x2d3459(0x4bd)],_0x407d87=_0xbedeb0[_0x2d3459(0x4bd)];_0x30bd94[_0x2d3459(0x315)]=!![],_0x30bd94[_0x2d3459(0x343)]=_0x2d3459(0x847),_0x150563[_0x2d3459(0x343)]=_0x2d3459(0x8ab);if(!_0x407d87)return;const _0xb1b337=allProjects[_0x2d3459(0x389)](_0x386344=>_0x386344['id']===_0x407d87);if(!_0xb1b337||!_0xb1b337[_0x2d3459(0x1e2)])return;const _0x156877=()=>{const _0xd5670b=_0x2d3459;_0x30bd94[_0xd5670b(0x343)]=_0xd5670b(0x847)+_0xb1b337['students'][_0xd5670b(0x421)](_0x2f7f13=>_0xd5670b(0x77e)+_0x2f7f13+'\x22>'+_0x2f7f13+'</option>')[_0xd5670b(0x55b)](''),_0x30bd94[_0xd5670b(0x315)]=![];const _0x5b6791=Array[_0xd5670b(0x7f8)](_0x30bd94[_0xd5670b(0x23c)])['map'](_0x5a9a81=>_0x5a9a81[_0xd5670b(0x4bd)]);if(_0x4e0c7c&&_0x5b6791['includes'](_0x4e0c7c))_0x30bd94[_0xd5670b(0x4bd)]=_0x4e0c7c,_0x30bd94['dispatchEvent'](new Event(_0xd5670b(0x337)));else _0xb1b337[_0xd5670b(0x1e2)][_0xd5670b(0x334)]===0x1&&(_0x30bd94['value']=_0xb1b337['students'][0x0],_0x30bd94[_0xd5670b(0x79a)](new Event(_0xd5670b(0x337))));};if(_0xb1b337[_0x2d3459(0x943)]?.['isPasscodeEnabled']){if(sessionStorage['getItem'](_0x2d3459(0x1d6)+_0x407d87)===_0x2d3459(0x2df)){_0x156877();return;}const _0x4a8986=document[_0x2d3459(0x536)]('project-passcode-modal'),_0x54b9d6=document[_0x2d3459(0x536)](_0x2d3459(0x356)),_0x1fc1c8=document[_0x2d3459(0x536)](_0x2d3459(0x8a9)),_0x25e813=document['getElementById'](_0x2d3459(0x1d0)),_0x54c426=document[_0x2d3459(0x536)](_0x2d3459(0x85c));document[_0x2d3459(0x536)]('passcode-prompt-message')[_0x2d3459(0x69f)]=_0x2d3459(0x682)+_0xb1b337[_0x2d3459(0x3a2)],_0x25e813['value']='',_0x54c426['classList']['add'](_0x2d3459(0x933)),_0x4a8986[_0x2d3459(0x932)][_0x2d3459(0x89c)](_0x2d3459(0x933));const _0x2381f2=()=>{const _0x197676=_0x2d3459,_0x5f18ff=_0x25e813[_0x197676(0x4bd)][_0x197676(0x2a6)]();_0x5f18ff===_0xb1b337[_0x197676(0x943)][_0x197676(0x723)]?(sessionStorage[_0x197676(0x420)](_0x197676(0x1d6)+_0x407d87,_0x197676(0x2df)),_0x4a8986[_0x197676(0x932)][_0x197676(0x596)](_0x197676(0x933)),_0x156877(),_0x54b9d6['removeEventListener'](_0x197676(0x311),_0x2381f2)):_0x54c426['classList']['remove'](_0x197676(0x933));};_0x54b9d6['onclick']=_0x2381f2,_0x1fc1c8[_0x2d3459(0x857)]=()=>{const _0xc0e7b1=_0x2d3459;_0x4a8986['classList'][_0xc0e7b1(0x596)](_0xc0e7b1(0x933)),_0xbedeb0['value']='',_0x54b9d6[_0xc0e7b1(0x5be)](_0xc0e7b1(0x311),_0x2381f2);};}else _0x156877();},_0x30bd94[_0x5d501f(0x486)]=()=>{const _0x4c9169=_0x5d501f,_0x294ee5=_0xbedeb0[_0x4c9169(0x4bd)],_0x5d6984=_0x30bd94['value'];_0x294ee5&&_0x5d6984&&renderStudentProgressDashboard(_0x294ee5,_0x5d6984);};}async function renderStudentProgressDashboard(_0x48855b,_0x21d042){const _0x3e33dc=_0x527e23,_0x309fcc=document[_0x3e33dc(0x536)](_0x3e33dc(0x368));_0x309fcc[_0x3e33dc(0x343)]=_0x3e33dc(0x256);try{const _0x2db886=collection(db,_0x3e33dc(0x51d)+appId+_0x3e33dc(0x300)),_0x1cdb5e=query(_0x2db886,where(_0x3e33dc(0x282),'==',_0x48855b)),_0x381fd7=await getDocs(_0x1cdb5e),_0x5c5685=_0x381fd7['docs'][_0x3e33dc(0x421)](_0x527283=>({'id':_0x527283['id'],..._0x527283['data']()})),_0x69aa34=_0x5c5685[_0x3e33dc(0x421)](_0x5382e6=>getDoc(doc(db,_0x3e33dc(0x51d)+appId+'/public/data/quizzes/'+_0x5382e6['id']+_0x3e33dc(0x6a1),_0x21d042))),_0x35e4e1=await Promise[_0x3e33dc(0x3b0)](_0x69aa34),_0x34083a=_0x35e4e1[_0x3e33dc(0x8fe)](_0x312372=>_0x312372['exists']())[_0x3e33dc(0x421)](_0x3b506d=>({'quizId':_0x3b506d['ref'][_0x3e33dc(0x556)]['parent']['id'],..._0x3b506d[_0x3e33dc(0x3b3)]()}));if(_0x34083a['length']===0x0){_0x309fcc[_0x3e33dc(0x343)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x5a3c10=_0x3e33dc(0x589);_0x34083a['forEach'](_0x3db4e8=>{const _0x49342b=_0x3e33dc,_0x500016=_0x5c5685[_0x49342b(0x389)](_0x4a0790=>_0x4a0790['id']===_0x3db4e8['quizId']),_0x29c057=_0x500016[_0x49342b(0x943)]?.[_0x49342b(0x59f)]||_0x49342b(0x7b1),_0x246a3d=_0x500016[_0x49342b(0x943)]?.[_0x49342b(0x5c8)]??0x0,_0x2e8bb5=_0x3db4e8['bestScore']>=_0x246a3d;let _0x267019='',_0x34c3c5=_0x49342b(0x3f5);switch(_0x29c057){case'show_results_and_answers':case _0x49342b(0x7d7):_0x34c3c5=_0x2e8bb5?_0x49342b(0x4d9):_0x49342b(0x867),_0x267019=_0x49342b(0x743)+(_0x2e8bb5?_0x49342b(0x862):_0x49342b(0x5fb))+'\x22>'+_0x3db4e8[_0x49342b(0x880)]+_0x49342b(0x739)+_0x3db4e8[_0x49342b(0x535)]+_0x49342b(0x4cc)+(_0x2e8bb5?_0x49342b(0x30d):_0x49342b(0x8bb))+'\x22>'+(_0x2e8bb5?_0x49342b(0x35e):_0x49342b(0x2e7))+_0x49342b(0x411);break;case _0x49342b(0x73b):_0x34c3c5=_0x2e8bb5?_0x49342b(0x4d9):_0x49342b(0x867),_0x267019=_0x49342b(0x37d)+(_0x2e8bb5?'bg-green-200\x20text-green-800':_0x49342b(0x8bb))+'\x22>'+(_0x2e8bb5?_0x49342b(0x35e):_0x49342b(0x2e7))+_0x49342b(0x411);break;case _0x49342b(0x4d0):_0x34c3c5=_0x49342b(0x512),_0x267019='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x5a3c10+=_0x49342b(0x2d1)+_0x34c3c5+_0x49342b(0x74e)+_0x500016[_0x49342b(0x652)]+_0x49342b(0x7da)+_0x3db4e8[_0x49342b(0x72a)][_0x49342b(0x334)]+_0x49342b(0x8ce)+new Date(_0x3db4e8['latestSubmittedAt'])[_0x49342b(0x484)]('th-TH')+_0x49342b(0x51f)+_0x267019+_0x49342b(0x6ca);}),_0x5a3c10+=_0x3e33dc(0x3b7),_0x309fcc[_0x3e33dc(0x343)]=_0x5a3c10;}catch(_0x39e4b1){console['error'](_0x3e33dc(0x737),_0x39e4b1),_0x309fcc[_0x3e33dc(0x343)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function setupStudentProgressListeners(){const _0x1052d7=_0x527e23;document[_0x1052d7(0x536)](_0x1052d7(0x49f))[_0x1052d7(0x2a3)](_0x1052d7(0x311),showStudentProgressView),document[_0x1052d7(0x536)](_0x1052d7(0x49e))[_0x1052d7(0x2a3)](_0x1052d7(0x311),()=>{const _0x5f5267=_0x1052d7;document[_0x5f5267(0x536)](_0x5f5267(0x777))[_0x5f5267(0x932)][_0x5f5267(0x596)](_0x5f5267(0x933)),document[_0x5f5267(0x536)](_0x5f5267(0x2d3))['classList'][_0x5f5267(0x89c)]('hidden');});}async function startSkillPractice(_0x318996){const _0x2345cb=_0x527e23;studentResultArea[_0x2345cb(0x932)][_0x2345cb(0x596)](_0x2345cb(0x933)),studentQuizArea[_0x2345cb(0x343)]=_0x2345cb(0x839),studentQuizArea[_0x2345cb(0x932)][_0x2345cb(0x89c)](_0x2345cb(0x933));try{const _0x1a5f3f=await getStandardizedTopic(_0x318996);console[_0x2345cb(0x8e8)](_0x2345cb(0x829)+_0x318996+_0x2345cb(0x21c)+_0x1a5f3f+'\x22'),studentQuizArea[_0x2345cb(0x1ed)]('p')['textContent']=_0x2345cb(0x204)+_0x1a5f3f+_0x2345cb(0x638);const _0xe4ae2=collection(db,_0x2345cb(0x51d)+appId+_0x2345cb(0x7ee)),_0x28f580=query(_0xe4ae2,where('topic','==',_0x1a5f3f)),_0x3d3ef7=await getDocs(_0x28f580);if(_0x3d3ef7['docs'][_0x2345cb(0x334)]>=0x3){console[_0x2345cb(0x8e8)](_0x2345cb(0x905)+_0x3d3ef7[_0x2345cb(0x34b)][_0x2345cb(0x334)]+_0x2345cb(0x89e)+_0x1a5f3f+_0x2345cb(0x1b8));let _0x51b5fd=_0x3d3ef7[_0x2345cb(0x34b)]['map'](_0x315da5=>_0x315da5[_0x2345cb(0x3b3)]());shuffleArray(_0x51b5fd);const _0x2863ba={'topic':_0x1a5f3f,'questions':_0x51b5fd[_0x2345cb(0x7a4)](0x0,0x3)};displaySkillPracticeDrill(_0x2863ba);}else{console[_0x2345cb(0x8e8)](_0x2345cb(0x559)+_0x1a5f3f+_0x2345cb(0x60d));const _0x45ca1e=await generatePracticeQuestions(_0x1a5f3f);await saveDrillToPracticeBank(_0x45ca1e,_0x1a5f3f),displaySkillPracticeDrill(_0x45ca1e);}}catch(_0xb9ff7c){console[_0x2345cb(0x52f)](_0x2345cb(0x844),_0xb9ff7c),showMessage(_0x2345cb(0x327)),studentQuizArea['classList']['add'](_0x2345cb(0x933)),studentResultArea[_0x2345cb(0x932)][_0x2345cb(0x89c)](_0x2345cb(0x933));}}async function saveDrillToPracticeBank(_0x30ff4f,_0x4bcd30){const _0x5a148d=_0x527e23,_0x3808b2=collection(db,_0x5a148d(0x51d)+appId+'/public/data/practiceBank'),_0x478c2a=writeBatch(db);_0x30ff4f[_0x5a148d(0x7cf)][_0x5a148d(0x5b6)](_0x57b11a=>{const _0xb61c5=_0x5a148d,_0x20f591=doc(_0x3808b2);_0x478c2a[_0xb61c5(0x374)](_0x20f591,{'topic':_0x4bcd30,'questionText':_0x57b11a[_0xb61c5(0x7fc)],'options':_0x57b11a[_0xb61c5(0x23c)],'correctAnswerIndex':_0x57b11a['correctAnswerIndex'],'explanation':_0x57b11a[_0xb61c5(0x852)],'createdAt':serverTimestamp()});});try{await _0x478c2a[_0x5a148d(0x618)](),console[_0x5a148d(0x8e8)](_0x5a148d(0x20c)+_0x30ff4f['questions'][_0x5a148d(0x334)]+_0x5a148d(0x310));}catch(_0x43ea8f){console[_0x5a148d(0x52f)](_0x5a148d(0x234),_0x43ea8f);}}async function getStandardizedTopic(_0x25e10c){const _0x3d9e46=_0x527e23,_0x41a491=_0x3d9e46(0x6f4)+_0x25e10c+_0x3d9e46(0x216),_0x5cf4fa={'type':_0x3d9e46(0x7e3),'properties':{'standardTopic':{'type':_0x3d9e46(0x62b)}},'required':[_0x3d9e46(0x2de)]};try{const _0x3074c5=await callAnalysisApi(_0x41a491,_0x5cf4fa);return _0x3074c5[_0x3d9e46(0x2de)];}catch(_0x2e4f8e){return console[_0x3d9e46(0x52f)](_0x3d9e46(0x346),_0x2e4f8e),_0x25e10c;}}async function generatePracticeQuestions(_0x127fd4){const _0x1324b3=_0x527e23,_0x1dd200=_0x1324b3(0x20d)+_0x127fd4+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x1324b3(0x1ff),_0xda2a60={'type':_0x1324b3(0x7e3),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1324b3(0x1d1),'items':{'type':_0x1324b3(0x62b)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1324b3(0x62b)}},'required':[_0x1324b3(0x7fc),'options',_0x1324b3(0x378),'explanation']},_0xc8f977={'type':_0x1324b3(0x7e3),'properties':{'topic':{'type':_0x1324b3(0x62b)},'questions':{'type':'ARRAY','items':_0xda2a60}},'required':[_0x1324b3(0x652),_0x1324b3(0x7cf)]};return await callAnalysisApi(_0x1dd200,_0xc8f977);}function displayLessonPlan(_0x4a6b1e,_0x449496){const _0x57d525=_0x527e23,_0x2d82c9=_0x57d525(0x8c4)+_0x449496[_0x57d525(0x652)]+_0x57d525(0x582)+_0x4a6b1e[_0x57d525(0x819)][_0x57d525(0x421)](_0x381565=>'<li>'+_0x381565+_0x57d525(0x3d0))[_0x57d525(0x55b)]('')+_0x57d525(0x84e)+_0x4a6b1e[_0x57d525(0x6d8)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x4a6b1e[_0x57d525(0x206)][_0x57d525(0x421)](_0x471a03=>_0x57d525(0x886)+_0x471a03[_0x57d525(0x29b)]+_0x57d525(0x8ae)+_0x471a03[_0x57d525(0x214)]+'</p></div>')[_0x57d525(0x55b)]('')+_0x57d525(0x248);document[_0x57d525(0x536)](_0x57d525(0x719))[_0x57d525(0x69f)]=_0x57d525(0x87a)+_0x449496[_0x57d525(0x652)],document[_0x57d525(0x536)](_0x57d525(0x725))['innerHTML']=_0x2d82c9,document[_0x57d525(0x536)](_0x57d525(0x662))['classList'][_0x57d525(0x89c)]('hidden');if(window[_0x57d525(0x450)])MathJax[_0x57d525(0x7cc)]();}function displaySkillPracticeDrill(_0x30867a){const _0x344094=_0x527e23;let _0x22138d=0x0;const _0x1d7cbc=_0x30867a[_0x344094(0x7cf)],_0x29a9ce=()=>{const _0x4f272b=_0x344094,_0xa07038=_0x1d7cbc[_0x22138d],_0x39884a=_0x4f272b(0x34e)+(_0x22138d+0x1)+_0x4f272b(0x739)+_0x1d7cbc['length']+_0x4f272b(0x700)+_0xa07038[_0x4f272b(0x7fc)]+_0x4f272b(0x70a)+_0xa07038[_0x4f272b(0x23c)]['map']((_0x273232,_0x14865d)=>_0x4f272b(0x6dc)+_0x14865d+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x14865d+_0x4f272b(0x6f5)+_0x14865d+'\x22>'+_0x273232+_0x4f272b(0x629))['join']('')+_0x4f272b(0x2ae);studentQuizArea[_0x4f272b(0x343)]=_0x39884a;if(window[_0x4f272b(0x450)])MathJax[_0x4f272b(0x7cc)]([studentQuizArea]);document[_0x4f272b(0x536)]('hint-btn')[_0x4f272b(0x2a3)]('click',async()=>{const _0x90f66=_0x4f272b,_0x371bb2=await getHintForQuestion(_0xa07038[_0x90f66(0x7fc)]);showMessage(_0x371bb2);}),document[_0x4f272b(0x536)](_0x4f272b(0x7df))['addEventListener'](_0x4f272b(0x311),()=>{const _0x5a32a2=_0x4f272b,_0x308e9a=document[_0x5a32a2(0x1ed)](_0x5a32a2(0x8f3));if(!_0x308e9a){showMessage(_0x5a32a2(0x592));return;}const _0x3c28c6=document['getElementById'](_0x5a32a2(0x5ae)),_0x207588=parseInt(_0x308e9a[_0x5a32a2(0x4bd)])===_0xa07038[_0x5a32a2(0x378)];_0x207588?(_0x3c28c6['className']=_0x5a32a2(0x425),_0x3c28c6[_0x5a32a2(0x343)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0xa07038[_0x5a32a2(0x852)]):(_0x3c28c6[_0x5a32a2(0x59a)]=_0x5a32a2(0x30f),_0x3c28c6[_0x5a32a2(0x343)]=_0x5a32a2(0x778)+_0xa07038[_0x5a32a2(0x852)]);_0x3c28c6['classList']['remove'](_0x5a32a2(0x933));if(window['MathJax'])MathJax[_0x5a32a2(0x7cc)]([_0x3c28c6]);document[_0x5a32a2(0x536)]('check-answer-btn')[_0x5a32a2(0x932)][_0x5a32a2(0x596)](_0x5a32a2(0x933)),document[_0x5a32a2(0x536)](_0x5a32a2(0x2cd))[_0x5a32a2(0x932)]['add'](_0x5a32a2(0x933)),document[_0x5a32a2(0x536)](_0x5a32a2(0x2b7))[_0x5a32a2(0x932)]['remove'](_0x5a32a2(0x933));}),document[_0x4f272b(0x536)](_0x4f272b(0x2b7))['addEventListener'](_0x4f272b(0x311),()=>{const _0x475269=_0x4f272b;_0x22138d++,_0x22138d<_0x1d7cbc[_0x475269(0x334)]?_0x29a9ce():(studentQuizArea[_0x475269(0x343)]=_0x475269(0x543),document[_0x475269(0x536)](_0x475269(0x787))[_0x475269(0x2a3)](_0x475269(0x311),()=>{const _0x24fe7f=_0x475269;studentQuizArea[_0x24fe7f(0x932)][_0x24fe7f(0x596)]('hidden'),studentResultArea[_0x24fe7f(0x932)][_0x24fe7f(0x89c)]('hidden');}));});};_0x29a9ce();}async function getHintForQuestion(_0x4ab5bc){const _0x6134ab=_0x527e23,_0x4c6587=_0x6134ab(0x81b)+_0x4ab5bc+_0x6134ab(0x6aa),_0x2b0bfe={'type':'OBJECT','properties':{'hint':{'type':_0x6134ab(0x62b)}},'required':[_0x6134ab(0x385)]};try{const _0x3c1e41=await callAnalysisApi(_0x4c6587,_0x2b0bfe);return _0x3c1e41[_0x6134ab(0x385)];}catch(_0x1d8c99){return console[_0x6134ab(0x52f)](_0x6134ab(0x67e),_0x1d8c99),_0x6134ab(0x2f4);}}async function extractTextFromPdf(_0x197649){const _0x5db520=_0x527e23;pdfjsLib[_0x5db520(0x635)][_0x5db520(0x6c7)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x1d9359=await _0x197649[_0x5db520(0x203)](),_0x3deca4=await pdfjsLib[_0x5db520(0x6ae)](_0x1d9359)['promise'],_0x58262a=_0x3deca4['numPages'];let _0x4f82ea='';for(let _0x173a83=0x1;_0x173a83<=_0x58262a;_0x173a83++){const _0x1ba41d=await _0x3deca4[_0x5db520(0x53b)](_0x173a83),_0x4e286b=await _0x1ba41d[_0x5db520(0x40a)](),_0x13df02=_0x4e286b['items'][_0x5db520(0x421)](_0x4837a6=>_0x4837a6[_0x5db520(0x1f1)])[_0x5db520(0x55b)]('\x20');_0x4f82ea+=_0x13df02+'\x0a\x0a';}return _0x4f82ea;}async function handleGenerateFromBlueprint(){const _0x2c0eb8=_0x527e23,_0x1c7927=document[_0x2c0eb8(0x536)](_0x2c0eb8(0x70b)),_0xf213bd=document[_0x2c0eb8(0x536)](_0x2c0eb8(0x7dd)),_0x93c7cd=_0x1c7927[_0x2c0eb8(0x2e8)][0x0],_0x4918cb=_0xf213bd[_0x2c0eb8(0x2e8)][_0x2c0eb8(0x334)]>0x0?_0xf213bd[_0x2c0eb8(0x2e8)][0x0]:null;if(!_0x93c7cd){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x5b260b=document[_0x2c0eb8(0x536)]('loader'),_0x59256f=document[_0x2c0eb8(0x536)](_0x2c0eb8(0x4c3)),_0x155053=document[_0x2c0eb8(0x536)](_0x2c0eb8(0x90d)),_0x2c4e3e=document[_0x2c0eb8(0x536)](_0x2c0eb8(0x261));_0x2c4e3e[_0x2c0eb8(0x315)]=!![],document[_0x2c0eb8(0x536)](_0x2c0eb8(0x5f5))[_0x2c0eb8(0x932)][_0x2c0eb8(0x89c)](_0x2c0eb8(0x933)),_0x155053[_0x2c0eb8(0x343)]='',_0x5b260b[_0x2c0eb8(0x932)][_0x2c0eb8(0x89c)](_0x2c0eb8(0x933));try{_0x59256f[_0x2c0eb8(0x69f)]=_0x2c0eb8(0x712);const _0x441587=await extractTextFromPdf(_0x93c7cd);if(!_0x441587['trim']())throw new Error(_0x2c0eb8(0x4a4));let _0x57b096='';_0x4918cb&&(_0x59256f[_0x2c0eb8(0x69f)]='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x57b096=await extractTextFromPdf(_0x4918cb));_0x59256f[_0x2c0eb8(0x69f)]=_0x2c0eb8(0x69d);const _0x3e93a5=document[_0x2c0eb8(0x536)](_0x2c0eb8(0x38b))[_0x2c0eb8(0x40b)],_0x28f1c2=_0x3e93a5?_0x2c0eb8(0x3e7):'',_0x36761d=_0x57b096?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57b096+_0x2c0eb8(0x590):'',_0x53ab23=_0x2c0eb8(0x288)+(_0x57b096?_0x2c0eb8(0x515):'')+_0x2c0eb8(0x37a)+_0x441587+_0x2c0eb8(0x590)+_0x36761d+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28f1c2+_0x2c0eb8(0x49a)+simpleMathPrompt+_0x2c0eb8(0x305),_0x439e1e={'type':_0x2c0eb8(0x7e3),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2c0eb8(0x62b),'enum':[_0x2c0eb8(0x465),_0x2c0eb8(0x5b8)]},'options':{'type':_0x2c0eb8(0x1d1),'items':{'type':_0x2c0eb8(0x62b)}},'correctAnswerIndex':{'type':_0x2c0eb8(0x914)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2c0eb8(0x62b)},'imageCode':{'type':_0x2c0eb8(0x62b)}},'required':[_0x2c0eb8(0x7fc),'questionType',_0x2c0eb8(0x852)]},_0x260f76={'type':_0x2c0eb8(0x7e3),'properties':{'topic':{'type':_0x2c0eb8(0x62b)},'questions':{'type':_0x2c0eb8(0x1d1),'items':_0x439e1e}},'required':[_0x2c0eb8(0x652),_0x2c0eb8(0x7cf)]};await handleApiCall(_0x53ab23,_0x2c0eb8(0x717),_0x260f76);}catch(_0x281ec7){console[_0x2c0eb8(0x52f)]('Error\x20generating\x20from\x20blueprint:',_0x281ec7),showMessage(_0x2c0eb8(0x91c)+_0x281ec7[_0x2c0eb8(0x34c)]),_0x155053['innerHTML']=_0x2c0eb8(0x523);}finally{_0x5b260b[_0x2c0eb8(0x932)][_0x2c0eb8(0x596)](_0x2c0eb8(0x933)),_0x2c4e3e[_0x2c0eb8(0x315)]=![];}}async function handleGenerateParallelFromBank(_0x4deefe){const _0x147032=_0x527e23;switchProjectTab(_0x147032(0x4e5));const _0x223b84=document['getElementById']('loader'),_0x48a7b2=document['getElementById']('loader-text'),_0x4235d8=document[_0x147032(0x536)]('generated-quiz-container');document[_0x147032(0x536)](_0x147032(0x5f5))[_0x147032(0x932)][_0x147032(0x89c)]('hidden'),_0x4235d8[_0x147032(0x343)]='',_0x223b84[_0x147032(0x932)][_0x147032(0x89c)](_0x147032(0x933)),_0x48a7b2[_0x147032(0x69f)]='กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x4deefe[_0x147032(0x652)]+'\x22\x20เพื่อสร้างชุดคู่ขนาน...';try{const _0x548438=_0x4deefe[_0x147032(0x7cf)][_0x147032(0x421)]((_0x3bfb70,_0x1946ed)=>{const _0x1845f3=_0x147032;let _0x573018=_0x1946ed+0x1+'.\x20'+(_0x3bfb70[_0x1845f3(0x7fc)]||_0x3bfb70[_0x1845f3(0x50c)])+'\x0a';if(_0x3bfb70[_0x1845f3(0x23c)])_0x573018+=_0x3bfb70['options'][_0x1845f3(0x421)]((_0x4e09d4,_0x48dbd2)=>_0x1845f3(0x45a)+(_0x48dbd2===_0x3bfb70['correctAnswerIndex']?_0x1845f3(0x644):'')+'\x20'+_0x4e09d4)['join']('\x0a');else _0x3bfb70[_0x1845f3(0x8c0)]&&(_0x573018+=_0x1845f3(0x887)+_0x3bfb70[_0x1845f3(0x8c0)]);return _0x573018;})[_0x147032(0x55b)]('\x0a\x0a');_0x48a7b2[_0x147032(0x69f)]=_0x147032(0x588);const _0x1b2007=_0x147032(0x684)+_0x4deefe[_0x147032(0x652)]+_0x147032(0x605)+_0x548438+_0x147032(0x3fa)+simpleMathPrompt+_0x147032(0x305),_0x1a3a7b={'type':_0x147032(0x7e3),'properties':{'questionText':{'type':_0x147032(0x62b)},'questionType':{'type':_0x147032(0x62b),'enum':[_0x147032(0x465),'short_answer',_0x147032(0x79f),_0x147032(0x30b)]},'options':{'type':_0x147032(0x1d1),'items':{'type':_0x147032(0x62b)}},'correctAnswerIndex':{'type':_0x147032(0x914)},'idealAnswer':{'type':_0x147032(0x62b)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x147032(0x62b)},'correctResponse':{'type':_0x147032(0x62b)},'allResponses':{'type':_0x147032(0x1d1),'items':{'type':'STRING'}},'explanation':{'type':_0x147032(0x62b)},'imageCode':{'type':_0x147032(0x62b)}},'required':[_0x147032(0x7fc),_0x147032(0x307),_0x147032(0x23c),_0x147032(0x378),'explanation']},_0x229d85={'type':_0x147032(0x7e3),'properties':{'topic':{'type':_0x147032(0x62b)},'questions':{'type':_0x147032(0x1d1),'items':_0x1a3a7b}},'required':[_0x147032(0x652),_0x147032(0x7cf)]},_0x1a5a4a=await callAnalysisApi(_0x1b2007,_0x229d85);_0x1a5a4a[_0x147032(0x652)]=_0x147032(0x314)+_0x4deefe['topic'],_0x1a5a4a[_0x147032(0x62c)]=_0x4deefe[_0x147032(0x62c)],currentQuizData=_0x1a5a4a,displayGeneratedQuiz(_0x1a5a4a),document[_0x147032(0x536)]('manage-tab-content')[_0x147032(0x8c9)]({'behavior':_0x147032(0x2f8)});}catch(_0x259c09){console['error'](_0x147032(0x407),_0x259c09),showMessage('เกิดข้อผิดพลาด:\x20'+_0x259c09[_0x147032(0x34c)]),_0x4235d8[_0x147032(0x343)]=_0x147032(0x577);}finally{_0x223b84['classList'][_0x147032(0x596)]('hidden');}}async function handleGenerateParallelPostTest(_0x57c7b4){const _0x1cd050=_0x527e23,_0x213844=document[_0x1cd050(0x536)](_0x1cd050(0x26e)),_0x590603=document[_0x1cd050(0x536)](_0x1cd050(0x4fc));_0x590603[_0x1cd050(0x932)][_0x1cd050(0x596)](_0x1cd050(0x933));const _0x57a879=_0x1cd050(0x5a1);_0x213844['insertAdjacentHTML'](_0x1cd050(0x84d),_0x57a879);try{const _0x44bfde=_0x57c7b4['questions']['map']((_0x1c42fc,_0x455ed5)=>{const _0x84bdf6=_0x1cd050;let _0x307ce5=_0x455ed5+0x1+'.\x20'+(_0x1c42fc[_0x84bdf6(0x7fc)]||_0x1c42fc[_0x84bdf6(0x50c)]);if(_0x1c42fc[_0x84bdf6(0x23c)])_0x307ce5+=_0x84bdf6(0x202)+_0x1c42fc[_0x84bdf6(0x23c)][_0x84bdf6(0x55b)](',\x20');return _0x307ce5;})[_0x1cd050(0x55b)]('\x0a\x0a'),_0x319aec='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x57c7b4[_0x1cd050(0x652)]+_0x1cd050(0x5f2)+_0x44bfde+_0x1cd050(0x222)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x63861a={'type':_0x1cd050(0x7e3),'properties':{'topic':{'type':_0x1cd050(0x62b)},'questions':{'type':_0x1cd050(0x1d1),'items':{'type':_0x1cd050(0x7e3),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1cd050(0x62b)},'options':{'type':_0x1cd050(0x1d1),'items':{'type':_0x1cd050(0x62b)}},'correctAnswerIndex':{'type':_0x1cd050(0x914)},'idealAnswer':{'type':_0x1cd050(0x62b)},'explanation':{'type':'STRING'}},'required':[_0x1cd050(0x7fc),'explanation']}}},'required':['topic',_0x1cd050(0x7cf)]},_0x44580b=await callAnalysisApi(_0x319aec,_0x63861a),_0xe998cc=_0x57c7b4[_0x1cd050(0x652)][_0x1cd050(0x72f)](_0x1cd050(0x75d),'')[_0x1cd050(0x2a6)](),_0x36c359=_0x1cd050(0x1b2)+_0xe998cc,_0x23710e={..._0x44580b,'topic':_0x36c359,'quizType':_0x57c7b4[_0x1cd050(0x62c)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1cd050(0x8e6)](),'status':'active','settings':_0x57c7b4[_0x1cd050(0x943)],'quizMode':_0x1cd050(0x5ba),'pairedQuizId':_0x57c7b4['id']};let _0x27ab9c;while(!![]){_0x27ab9c=Math[_0x1cd050(0x3b5)](0x3e8+Math[_0x1cd050(0x8b6)]()*0x2328)['toString']();const _0x183d04=await getDoc(doc(db,_0x1cd050(0x51d)+appId+_0x1cd050(0x300),_0x27ab9c));if(!_0x183d04[_0x1cd050(0x798)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x1cd050(0x300),_0x27ab9c),_0x23710e);const _0x55d7a8=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x57c7b4['id']);await updateDoc(_0x55d7a8,{'pairedQuizId':_0x27ab9c}),showMessage(_0x1cd050(0x77f));}catch(_0x2d80d8){console['error'](_0x1cd050(0x8b1),_0x2d80d8),showMessage(_0x1cd050(0x91c)+_0x2d80d8[_0x1cd050(0x34c)]);}finally{const _0x4ac4dd=document['getElementById'](_0x1cd050(0x5f1));if(_0x4ac4dd)_0x4ac4dd['remove']();_0x590603[_0x1cd050(0x932)][_0x1cd050(0x89c)]('hidden');}}async function handleGenerateParallelTest(){const _0x5bf982=_0x527e23,_0x385e46=document['getElementById'](_0x5bf982(0x802)),_0x4e0a67=_0x385e46[_0x5bf982(0x2e8)][0x0];if(!_0x4e0a67){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x135b20=document[_0x5bf982(0x536)]('loader'),_0x2d9e17=document[_0x5bf982(0x536)](_0x5bf982(0x4c3)),_0x98076a=document['getElementById'](_0x5bf982(0x90d)),_0x13dc46=document[_0x5bf982(0x536)](_0x5bf982(0x935));_0x13dc46[_0x5bf982(0x315)]=!![],document[_0x5bf982(0x536)]('quiz-generation-area')[_0x5bf982(0x932)][_0x5bf982(0x89c)](_0x5bf982(0x933)),_0x98076a[_0x5bf982(0x343)]='',_0x135b20[_0x5bf982(0x932)]['remove'](_0x5bf982(0x933)),_0x2d9e17[_0x5bf982(0x69f)]='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0xf41ad2=await extractTextFromPdf(_0x4e0a67);if(!_0xf41ad2[_0x5bf982(0x2a6)]())throw new Error('ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย');_0x2d9e17[_0x5bf982(0x69f)]=_0x5bf982(0x588);const _0x52e9a1=document['getElementById'](_0x5bf982(0x38b))[_0x5bf982(0x40b)],_0x45b7ea=_0x52e9a1?_0x5bf982(0x3e7):'',_0x195df5=_0x5bf982(0x606)+_0xf41ad2+_0x5bf982(0x453)+_0x45b7ea+_0x5bf982(0x49a)+simpleMathPrompt+_0x5bf982(0x305),_0xbb74c8={'type':_0x5bf982(0x7e3),'properties':{'questionText':{'type':_0x5bf982(0x62b)},'questionType':{'type':_0x5bf982(0x62b),'enum':[_0x5bf982(0x465),_0x5bf982(0x5b8)]},'options':{'type':_0x5bf982(0x1d1),'items':{'type':_0x5bf982(0x62b)}},'correctAnswerIndex':{'type':_0x5bf982(0x914)},'idealAnswer':{'type':_0x5bf982(0x62b)},'explanation':{'type':_0x5bf982(0x62b)},'imageCode':{'type':_0x5bf982(0x62b)}},'required':['questionText','questionType',_0x5bf982(0x852)]},_0x10cafa={'type':_0x5bf982(0x7e3),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5bf982(0x1d1),'items':_0xbb74c8}},'required':[_0x5bf982(0x652),_0x5bf982(0x7cf)]};await handleApiCall(_0x195df5,_0x5bf982(0x1c1),_0x10cafa);}catch(_0x2ffc4e){console[_0x5bf982(0x52f)](_0x5bf982(0x52d),_0x2ffc4e),showMessage(_0x5bf982(0x91c)+_0x2ffc4e[_0x5bf982(0x34c)]),_0x98076a[_0x5bf982(0x343)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x135b20[_0x5bf982(0x932)][_0x5bf982(0x596)]('hidden'),_0x13dc46[_0x5bf982(0x315)]=![];}}async function handleRegenerateQuestionInEditor(_0x224a80){const _0x2adeb3=_0x527e23;if(currentEditingQuizData===null)return;const _0x5b1633=document[_0x2adeb3(0x1ed)]('.question-editor-item[data-q-index=\x22'+_0x224a80+'\x22]');_0x5b1633&&(_0x5b1633[_0x2adeb3(0x343)]=_0x2adeb3(0x63a));const _0x5bb891=currentEditingQuizData[_0x2adeb3(0x7cf)][_0x224a80],_0x3f8556=currentEditingQuizData[_0x2adeb3(0x652)],_0x5a9e1a=_0x5bb891[_0x2adeb3(0x307)],_0x3390a7={'type':_0x2adeb3(0x7e3),'properties':{'questionText':{'type':_0x2adeb3(0x62b)},'options':{'type':_0x2adeb3(0x1d1),'items':{'type':_0x2adeb3(0x62b)}},'correctAnswerIndex':{'type':_0x2adeb3(0x914)},'explanation':{'type':_0x2adeb3(0x62b)}},'required':['questionText',_0x2adeb3(0x23c),'correctAnswerIndex','explanation']},_0x7087b0={'type':_0x2adeb3(0x7e3),'properties':{'questionText':{'type':_0x2adeb3(0x62b)},'idealAnswer':{'type':_0x2adeb3(0x62b)},'explanation':{'type':_0x2adeb3(0x62b)}},'required':[_0x2adeb3(0x7fc),_0x2adeb3(0x8c0),_0x2adeb3(0x852)]};let _0xb37aef,_0x47078a='';_0x5a9e1a===_0x2adeb3(0x465)?(_0xb37aef=_0x3390a7,_0x47078a='แบบปรนัย\x204\x20ตัวเลือก'):(_0xb37aef=_0x7087b0,_0x47078a=_0x2adeb3(0x75c));const _0x3bb12e=_0x2adeb3(0x660)+_0x3f8556+_0x2adeb3(0x843)+_0x47078a+_0x2adeb3(0x459)+(_0x5bb891[_0x2adeb3(0x7fc)]||_0x5bb891[_0x2adeb3(0x50c)])+'\x22.\x20'+simpleMathPrompt;try{const _0x1e19e5=await callAnalysisApi(_0x3bb12e,_0xb37aef);currentEditingQuizData[_0x2adeb3(0x7cf)][_0x224a80]={..._0x5bb891,..._0x1e19e5},renderQuizEditor(currentEditingQuizData);}catch(_0x2c4896){console[_0x2adeb3(0x52f)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x2c4896),showMessage(_0x2adeb3(0x8c7)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x18d2c3=_0x527e23,_0x3bc151=document[_0x18d2c3(0x536)](_0x18d2c3(0x5df));currentMode==='student'?(currentMode=_0x18d2c3(0x511),_0x3bc151['innerHTML']=_0x18d2c3(0x716),_0x3bc151[_0x18d2c3(0x72e)]=_0x18d2c3(0x5c0),showView('admin-dashboard')):(currentMode=_0x18d2c3(0x490),_0x3bc151['innerHTML']=_0x18d2c3(0x659),_0x3bc151[_0x18d2c3(0x72e)]=_0x18d2c3(0x398),showView(_0x18d2c3(0x490)));}function handleAdminLogin(){const _0x4ce48f=_0x527e23,_0x204236=document[_0x4ce48f(0x536)](_0x4ce48f(0x50a)),_0x20faeb=document[_0x4ce48f(0x536)](_0x4ce48f(0x7c5));if(_0x204236[_0x4ce48f(0x4bd)]===_0x4ce48f(0x54c)){adminPasswordModal['classList'][_0x4ce48f(0x596)]('hidden'),_0x204236[_0x4ce48f(0x4bd)]='',_0x20faeb['classList'][_0x4ce48f(0x596)](_0x4ce48f(0x933)),currentMode=_0x4ce48f(0x511);const _0x39319c=document[_0x4ce48f(0x536)](_0x4ce48f(0x5df));_0x39319c['innerHTML']=_0x4ce48f(0x716),_0x39319c['title']=_0x4ce48f(0x5c0),showView(_0x4ce48f(0x33a));}else _0x20faeb['classList']['remove'](_0x4ce48f(0x933)),_0x204236['value']='';}function switchProjectTab(_0x1c5ba4){const _0x41eeec=_0x527e23;['manage',_0x41eeec(0x5d2),_0x41eeec(0x4ed)][_0x41eeec(0x5b6)](_0x4430b6=>{const _0x57a73c=_0x41eeec;document['getElementById'](_0x4430b6+'-tab')[_0x57a73c(0x932)][_0x57a73c(0x89c)](_0x57a73c(0x553)),document[_0x57a73c(0x536)](_0x4430b6+_0x57a73c(0x756))[_0x57a73c(0x932)]['add']('hidden');}),document[_0x41eeec(0x536)](_0x1c5ba4+'-tab')[_0x41eeec(0x932)][_0x41eeec(0x596)](_0x41eeec(0x553)),document['getElementById'](_0x1c5ba4+_0x41eeec(0x756))[_0x41eeec(0x932)][_0x41eeec(0x89c)](_0x41eeec(0x933));}function switchQuizDetailTab(_0x1246b9){const _0x42c3ba=_0x527e23,_0x2cb1b1={'analytics':{'btn':_0x42c3ba(0x23d),'content':_0x42c3ba(0x902)},'scores':{'btn':_0x42c3ba(0x90a),'content':_0x42c3ba(0x76c)},'leaderboard-quiz':{'btn':_0x42c3ba(0x69b),'content':_0x42c3ba(0x237)},'behavior-log':{'btn':_0x42c3ba(0x5b7),'content':_0x42c3ba(0x27d)}};for(const _0x62d45b in _0x2cb1b1){document['getElementById'](_0x2cb1b1[_0x62d45b]['btn'])[_0x42c3ba(0x932)]['remove'](_0x42c3ba(0x553)),document[_0x42c3ba(0x536)](_0x2cb1b1[_0x62d45b][_0x42c3ba(0x90c)])[_0x42c3ba(0x932)][_0x42c3ba(0x596)](_0x42c3ba(0x933));}document[_0x42c3ba(0x536)](_0x2cb1b1[_0x1246b9][_0x42c3ba(0x3f6)])[_0x42c3ba(0x932)][_0x42c3ba(0x596)](_0x42c3ba(0x553)),document['getElementById'](_0x2cb1b1[_0x1246b9][_0x42c3ba(0x90c)])[_0x42c3ba(0x932)]['remove'](_0x42c3ba(0x933));}function showMessage(_0x5d67dc,_0x527d1f=null){const _0x58cc87=_0x527e23;modalMessage[_0x58cc87(0x69f)]=_0x5d67dc,modalConfirmAction=_0x527d1f,messageModal['classList'][_0x58cc87(0x89c)](_0x58cc87(0x933));}function showConfirmation(_0x10c72c,_0x291f43){const _0x534e53=_0x527e23;document[_0x534e53(0x536)](_0x534e53(0x687))[_0x534e53(0x69f)]=_0x10c72c,document[_0x534e53(0x536)](_0x534e53(0x4b3))[_0x534e53(0x1ed)]('h3')[_0x534e53(0x69f)]='ยืนยันการกระทำ',confirmAction=_0x291f43,confirmationModal[_0x534e53(0x932)][_0x534e53(0x89c)](_0x534e53(0x933));}function listenForProjects(){const _0xcfd003=_0x527e23,_0x37558b=doc(db,_0xcfd003(0x78e),_0xcfd003(0x6fd));onSnapshot(_0x37558b,_0x550b77=>{const _0x1bef16=_0xcfd003;if(_0x550b77[_0x1bef16(0x798)]()){const _0x2e5ae8=_0x550b77[_0x1bef16(0x3b3)]();globalDashboardSettings[_0x1bef16(0x91d)]=_0x2e5ae8[_0x1bef16(0x91d)]||_0x1bef16(0x521),globalDashboardSettings[_0x1bef16(0x7b9)]=_0x2e5ae8[_0x1bef16(0x7b9)]||[],globalDashboardSettings['projectOrder']=_0x2e5ae8[_0x1bef16(0x4b5)]||[];}allProjects[_0x1bef16(0x334)]>0x0&&renderProjects();});const _0x2e26e8=collection(db,_0xcfd003(0x51d)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x2e26e8,_0xa77294=>{const _0x3df2cf=_0xcfd003;allProjects=_0xa77294['docs'][_0x3df2cf(0x421)](_0x11a9ab=>({'id':_0x11a9ab['id'],..._0x11a9ab[_0x3df2cf(0x3b3)]()})),renderProjects();},_0x185af7=>{const _0x3508b0=_0xcfd003;console[_0x3508b0(0x52f)](_0x3508b0(0x6ba),_0x185af7),showMessage(_0x3508b0(0x395));});}function showColorPalette(_0x4e0065,_0x1bd852){const _0x20a0b9=_0x527e23;document[_0x20a0b9(0x7d8)](_0x20a0b9(0x4d5))['forEach'](_0x160186=>_0x160186[_0x20a0b9(0x89c)]());const _0x5c0d60=[_0x20a0b9(0x1bb),_0x20a0b9(0x8cd),_0x20a0b9(0x1e3),_0x20a0b9(0x412),'#DBEAFE',_0x20a0b9(0x41b),_0x20a0b9(0x232),_0x20a0b9(0x53a),_0x20a0b9(0x75b)],_0x35aa98=document[_0x20a0b9(0x85f)](_0x20a0b9(0x483));_0x35aa98[_0x20a0b9(0x59a)]=_0x20a0b9(0x255),_0x5c0d60[_0x20a0b9(0x5b6)](_0x3cc7c6=>{const _0x3cc1d8=_0x20a0b9,_0x56a41a=document[_0x3cc1d8(0x85f)](_0x3cc1d8(0x483));_0x56a41a[_0x3cc1d8(0x59a)]=_0x3cc1d8(0x562),_0x56a41a['style'][_0x3cc1d8(0x84c)]=_0x3cc7c6,_0x56a41a['addEventListener']('click',()=>{handleProjectColorChange(_0x1bd852,_0x3cc7c6),_0x35aa98['remove']();}),_0x35aa98[_0x3cc1d8(0x5f7)](_0x56a41a);}),document[_0x20a0b9(0x294)][_0x20a0b9(0x5f7)](_0x35aa98);const _0x486614=_0x4e0065['getBoundingClientRect']();_0x35aa98[_0x20a0b9(0x6e2)]['top']=_0x486614['bottom']+window[_0x20a0b9(0x7c4)]+'px',_0x35aa98[_0x20a0b9(0x6e2)]['left']=_0x486614['left']+window['scrollX']-_0x35aa98[_0x20a0b9(0x1f6)]/0x2+'px';}async function handleProjectColorChange(_0x1fb34e,_0xb0e4b8){const _0x18b12b=_0x527e23,_0x112e24=doc(db,_0x18b12b(0x51d)+appId+_0x18b12b(0x379),_0x1fb34e);try{await updateDoc(_0x112e24,{'color':_0xb0e4b8});}catch(_0x41bcea){console[_0x18b12b(0x52f)](_0x18b12b(0x8a6),_0x41bcea),showMessage(_0x18b12b(0x695));}}async function renderProjects(){const _0x3a77c4=_0x527e23,_0x382c59=globalDashboardSettings[_0x3a77c4(0x91d)]||_0x3a77c4(0x521),_0x248f12=new Set(globalDashboardSettings[_0x3a77c4(0x7b9)]||[]),_0x677444=globalDashboardSettings[_0x3a77c4(0x780)]||'grid',_0x6a15ab=document[_0x3a77c4(0x536)]('grid-view-btn'),_0x1d94cd=document[_0x3a77c4(0x536)](_0x3a77c4(0x6cf));_0x6a15ab['classList'][_0x3a77c4(0x4f0)](_0x3a77c4(0x553),_0x677444==='grid'),_0x1d94cd[_0x3a77c4(0x932)]['toggle'](_0x3a77c4(0x553),_0x677444==='list'),document['getElementById']('project-sort-select')[_0x3a77c4(0x4bd)]=_0x382c59;const _0x49fa3d=document[_0x3a77c4(0x536)](_0x3a77c4(0x403))[_0x3a77c4(0x4bd)][_0x3a77c4(0x76f)]();let _0x44728a=allProjects[_0x3a77c4(0x8fe)](_0x9e9e6d=>_0x9e9e6d[_0x3a77c4(0x3a2)][_0x3a77c4(0x76f)]()['includes'](_0x49fa3d));const _0x30f7ff=_0x44728a[_0x3a77c4(0x8fe)](_0x1592b6=>_0x248f12[_0x3a77c4(0x26f)](_0x1592b6['id'])),_0x2ad8f7=_0x44728a[_0x3a77c4(0x8fe)](_0x207e26=>!_0x248f12[_0x3a77c4(0x26f)](_0x207e26['id'])),_0x55d7b4=(_0x58581d,_0x478a5f)=>{const _0x1af4ea=_0x3a77c4;switch(_0x382c59){case _0x1af4ea(0x49b):return _0x58581d[_0x1af4ea(0x3a2)][_0x1af4ea(0x1ae)](_0x478a5f[_0x1af4ea(0x3a2)],'th');case _0x1af4ea(0x656):return _0x478a5f[_0x1af4ea(0x3a2)]['localeCompare'](_0x58581d['projectName'],'th');case'date_asc':return new Date(_0x58581d[_0x1af4ea(0x7e2)])-new Date(_0x478a5f[_0x1af4ea(0x7e2)]);default:return new Date(_0x478a5f[_0x1af4ea(0x7e2)])-new Date(_0x58581d['createdAt']);}};_0x30f7ff['sort'](_0x55d7b4),_0x2ad8f7[_0x3a77c4(0x34f)](_0x55d7b4);const _0x35fe18=[..._0x30f7ff,..._0x2ad8f7],_0x3e7e42=globalDashboardSettings[_0x3a77c4(0x4b5)]||[];_0x3e7e42[_0x3a77c4(0x334)]>0x0&&_0x677444===_0x3a77c4(0x69a)&&_0x35fe18['sort']((_0x5b6427,_0x46952b)=>{const _0x1b0779=_0x3a77c4,_0x2064cc=_0x3e7e42[_0x1b0779(0x8b3)](_0x5b6427['id']),_0x2fe8c0=_0x3e7e42[_0x1b0779(0x8b3)](_0x46952b['id']);if(_0x2064cc===-0x1)return 0x1;if(_0x2fe8c0===-0x1)return-0x1;return _0x2064cc-_0x2fe8c0;});const _0xe48356={};await Promise[_0x3a77c4(0x3b0)](_0x35fe18[_0x3a77c4(0x421)](async _0x45cbbd=>{const _0x9c5e1e=_0x3a77c4,_0x147a70=query(collection(db,_0x9c5e1e(0x51d)+appId+_0x9c5e1e(0x300)),where('projectId','==',_0x45cbbd['id'])),_0x17b2f8=await getDocs(_0x147a70);_0xe48356[_0x45cbbd['id']]=_0x17b2f8[_0x9c5e1e(0x581)];}));const _0xc37647=document[_0x3a77c4(0x536)](_0x3a77c4(0x3da));let _0x32bdc6='';if(_0x677444===_0x3a77c4(0x69a)){_0xc37647[_0x3a77c4(0x59a)]=_0x3a77c4(0x509);if(starredQuizzes['length']>0x0&&_0x49fa3d===''){const _0x34eecc=starredQuizzes[_0x3a77c4(0x421)](_0x5f2bb7=>{const _0x48cc23=_0x3a77c4,_0x3e6b62=allProjects[_0x48cc23(0x389)](_0x5f41f7=>_0x5f41f7['id']===_0x5f2bb7[_0x48cc23(0x282)]);return{..._0x5f2bb7,'projectName':_0x3e6b62?_0x3e6b62[_0x48cc23(0x3a2)]:'N/A'};});_0x32bdc6+=_0x3a77c4(0x88e)+_0x34eecc[_0x3a77c4(0x421)](_0x2a5ade=>_0x3a77c4(0x704)+_0x2a5ade[_0x3a77c4(0x652)]+'\x22>'+_0x2a5ade[_0x3a77c4(0x652)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x2a5ade[_0x3a77c4(0x3a2)]+_0x3a77c4(0x7a3)+_0x2a5ade[_0x3a77c4(0x3a2)]+_0x3a77c4(0x31d))[_0x3a77c4(0x55b)]('')+_0x3a77c4(0x1b5)+starredQuizzes['length']+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x35fe18['forEach'](_0x561af0=>{const _0x264918=_0x3a77c4,_0x418ca2=_0xe48356[_0x561af0['id']]??0x0,_0x20b7ea=_0x248f12[_0x264918(0x26f)](_0x561af0['id']),_0x46e70a=_0x561af0[_0x264918(0x5c4)]||_0x264918(0x1bb),_0x185665=parseInt(_0x46e70a[_0x264918(0x6e5)](0x1,0x3),0x10)*0.299+parseInt(_0x46e70a['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x46e70a[_0x264918(0x6e5)](0x5,0x7),0x10)*0.114<0xba,_0x3165cb=_0x185665?_0x264918(0x29f):'text-indigo-800',_0x412b38=_0x185665?_0x264918(0x3a6):_0x264918(0x5e9);_0x32bdc6+=_0x264918(0x8d8)+(_0x20b7ea?_0x264918(0x335):_0x264918(0x4f5))+_0x264918(0x89f)+_0x46e70a+';\x22\x20data-id=\x22'+_0x561af0['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x561af0['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x185665?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x264918(0x49c)+_0x561af0['id']+_0x264918(0x569)+(_0x185665?_0x264918(0x1cb):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x20b7ea?_0x185665?_0x264918(0x1b0):_0x264918(0x7dc):'')+_0x264918(0x631)+_0x561af0['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x3165cb+_0x264918(0x517)+_0x561af0['projectName']+_0x264918(0x4b2)+_0x412b38+_0x264918(0x71a)+new Date(_0x561af0['createdAt'])[_0x264918(0x484)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x185665?_0x264918(0x2a0):'text-gray-700')+_0x264918(0x418)+_0x418ca2+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x561af0['id']+'\x22\x20data-name=\x22'+_0x561af0[_0x264918(0x3a2)]+_0x264918(0x259)+(_0x185665?_0x264918(0x865):'text-red-500\x20hover:text-red-700')+_0x264918(0x359);});}else _0xc37647[_0x3a77c4(0x59a)]=_0x3a77c4(0x530),starredQuizzes[_0x3a77c4(0x334)]>0x0&&_0x49fa3d===''&&(_0x32bdc6+=_0x3a77c4(0x5d7)+starredQuizzes['length']+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x32bdc6+=_0x3a77c4(0x2a1),_0x35fe18[_0x3a77c4(0x5b6)](_0x5d73fb=>{const _0x3de0ad=_0x3a77c4,_0x26076e=_0xe48356[_0x5d73fb['id']]??0x0,_0x281a1f=_0x248f12['has'](_0x5d73fb['id']);_0x32bdc6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x5d73fb[_0x3de0ad(0x5c4)]||_0x3de0ad(0x75b))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x5d73fb['id']+_0x3de0ad(0x40d)+_0x5d73fb[_0x3de0ad(0x3a2)]+_0x3de0ad(0x73a)+_0x26076e+_0x3de0ad(0x643)+new Date(_0x5d73fb[_0x3de0ad(0x7e2)])[_0x3de0ad(0x28d)](_0x3de0ad(0x8ca))+_0x3de0ad(0x406)+_0x5d73fb['id']+_0x3de0ad(0x5cc)+(_0x281a1f?'text-indigo-600':'')+_0x3de0ad(0x4ff)+_0x5d73fb['id']+'\x22\x20data-name=\x22'+_0x5d73fb[_0x3de0ad(0x3a2)]+_0x3de0ad(0x72c);});projectList[_0x3a77c4(0x343)]=_0x32bdc6,noProjectsMsg[_0x3a77c4(0x932)]['toggle'](_0x3a77c4(0x933),_0x32bdc6[_0x3a77c4(0x334)]>0x0);}document[_0x527e23(0x536)](_0x527e23(0x8fb))[_0x527e23(0x2a3)](_0x527e23(0x311),async()=>{const _0x37c8ac=_0x527e23,_0x5f018e=document[_0x37c8ac(0x536)](_0x37c8ac(0x83e)),_0x2c5829=_0x5f018e['value'][_0x37c8ac(0x2a6)]();if(!_0x2c5829){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x232432=doc(collection(db,_0x37c8ac(0x51d)+appId+'/public/data/projects'));await setDoc(_0x232432,{'projectName':_0x2c5829,'students':[],'settings':{'resultsDisplay':_0x37c8ac(0x7b1),'shuffleSetting':_0x37c8ac(0x607),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x37c8ac(0x607),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x37c8ac(0x8e6)]()}),_0x5f018e[_0x37c8ac(0x4bd)]='',createProjectModal[_0x37c8ac(0x932)][_0x37c8ac(0x596)](_0x37c8ac(0x933)),showMessage(_0x37c8ac(0x85d));}catch(_0xe80545){console['error']('Error\x20creating\x20project:',_0xe80545),showMessage(_0x37c8ac(0x1bf));}}),projectList[_0x527e23(0x2a3)](_0x527e23(0x311),async _0x37cf29=>{const _0x53230d=_0x527e23,_0x43df2e=_0x37cf29[_0x53230d(0x911)]['closest'](_0x53230d(0x37f)),_0x1985c1=_0x37cf29[_0x53230d(0x911)][_0x53230d(0x87f)](_0x53230d(0x42a)),_0x446c1c=_0x37cf29['target'][_0x53230d(0x87f)](_0x53230d(0x81c)),_0x2d69ca=_0x37cf29[_0x53230d(0x911)][_0x53230d(0x87f)](_0x53230d(0x5fe));if(_0x446c1c){const _0x332c34=_0x446c1c[_0x53230d(0x424)]['id'],_0x278fe0=doc(db,_0x53230d(0x78e),_0x53230d(0x6fd)),_0x3dbdf5=globalDashboardSettings[_0x53230d(0x7b9)];let _0x430627;_0x3dbdf5[_0x53230d(0x809)](_0x332c34)?_0x430627=_0x3dbdf5[_0x53230d(0x8fe)](_0x549bc5=>_0x549bc5!==_0x332c34):_0x430627=[..._0x3dbdf5,_0x332c34];try{await setDoc(_0x278fe0,{'pinnedProjects':_0x430627},{'merge':!![]});}catch(_0x5949df){console['error']('Error\x20updating\x20pin\x20status:',_0x5949df),showMessage(_0x53230d(0x336));}}else{if(_0x2d69ca){const _0x5209dc=_0x2d69ca[_0x53230d(0x424)]['id'];showColorPalette(_0x2d69ca,_0x5209dc);}else{if(_0x43df2e){const _0x3310e1=_0x43df2e['dataset']['id'];_0x3310e1==='starred-project'?showStarredProjectView():(currentProjectId=_0x3310e1,await loadProjectDetails(currentProjectId),showView(_0x53230d(0x4af)));}else{if(_0x1985c1){const _0x46b594=_0x1985c1[_0x53230d(0x424)]['id'],_0x54c023=_0x1985c1['dataset'][_0x53230d(0x882)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x54c023+_0x53230d(0x6c8),()=>handleDeleteProject(_0x46b594));}}}}}),projectList[_0x527e23(0x2a3)](_0x527e23(0x273),_0x3e6f32=>{const _0x206237=_0x527e23,_0xdf746d=_0x3e6f32[_0x206237(0x911)]['closest']('.project-card-container');_0xdf746d&&_0xdf746d[_0x206237(0x932)][_0x206237(0x596)](_0x206237(0x869));}),projectList[_0x527e23(0x2a3)]('dragend',_0x587cdb=>{const _0x299b6f=_0x527e23,_0x361c78=_0x587cdb[_0x299b6f(0x911)][_0x299b6f(0x87f)](_0x299b6f(0x808));_0x361c78&&_0x361c78['classList'][_0x299b6f(0x89c)](_0x299b6f(0x869));}),projectList[_0x527e23(0x2a3)](_0x527e23(0x4d6),_0x7a8168=>{const _0x454c7d=_0x527e23;_0x7a8168[_0x454c7d(0x8c8)]();const _0x21d213=document['querySelector'](_0x454c7d(0x5fc));if(!_0x21d213)return;const _0x2d67e6=getDragAfterElement(projectList,_0x7a8168[_0x454c7d(0x86c)]);_0x2d67e6==null?projectList[_0x454c7d(0x5f7)](_0x21d213):projectList['insertBefore'](_0x21d213,_0x2d67e6);}),projectList[_0x527e23(0x2a3)](_0x527e23(0x78d),_0x4e6884=>{const _0x390d3e=_0x527e23;_0x4e6884[_0x390d3e(0x8c8)]();const _0x1ca335=[...projectList[_0x390d3e(0x7d8)](_0x390d3e(0x6af))][_0x390d3e(0x421)](_0x5a8ba5=>_0x5a8ba5[_0x390d3e(0x424)]['id']);saveProjectOrder(_0x1ca335);});function renderBehaviorLog(_0x39a1ab){const _0x28ad1f=_0x527e23,_0x5d39e9=document[_0x28ad1f(0x536)](_0x28ad1f(0x6f9));if(!_0x5d39e9)return;const _0x175ecf=_0x39a1ab[_0x28ad1f(0x8fe)](_0x23212b=>_0x23212b[_0x28ad1f(0x8ff)]&&_0x23212b[_0x28ad1f(0x8ff)][_0x28ad1f(0x334)]>0x0);if(_0x175ecf[_0x28ad1f(0x334)]===0x0){_0x5d39e9[_0x28ad1f(0x343)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x525de4='';_0x175ecf[_0x28ad1f(0x5b6)](_0x566522=>{const _0x298ef5=_0x28ad1f;_0x525de4+=_0x298ef5(0x5ad)+_0x566522['studentName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x566522[_0x298ef5(0x8ff)][_0x298ef5(0x34f)]((_0x1a2c1d,_0x51d664)=>new Date(_0x51d664[_0x298ef5(0x598)])-new Date(_0x1a2c1d['timestamp']))[_0x298ef5(0x5b6)](_0x3adb29=>{const _0x1d6446=_0x298ef5,_0x3de89e=new Date(_0x3adb29[_0x1d6446(0x598)])['toLocaleString'](_0x1d6446(0x8ca),{'dateStyle':_0x1d6446(0x3c0),'timeStyle':_0x1d6446(0x788)});_0x525de4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x3adb29['attemptNumber']+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x3de89e+_0x1d6446(0x8f1);}),_0x525de4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5d39e9[_0x28ad1f(0x343)]=_0x525de4;}function getDragAfterElement(_0x222367,_0x488609){const _0x36d655=_0x527e23,_0xf0ca39=[..._0x222367[_0x36d655(0x7d8)](_0x36d655(0x6c6))];return _0xf0ca39[_0x36d655(0x768)]((_0x273212,_0x64cacb)=>{const _0x4f741a=_0x36d655,_0x48eef2=_0x64cacb[_0x4f741a(0x646)](),_0x117381=_0x488609-_0x48eef2[_0x4f741a(0x33f)]-_0x48eef2['height']/0x2;return _0x117381<0x0&&_0x117381>_0x273212[_0x4f741a(0x848)]?{'offset':_0x117381,'element':_0x64cacb}:_0x273212;},{'offset':Number['NEGATIVE_INFINITY']})['element'];}async function saveProjectOrder(_0x34f135){const _0x236c7f=_0x527e23,_0x368191=doc(db,_0x236c7f(0x78e),'dashboardConfig');try{await setDoc(_0x368191,{'projectOrder':_0x34f135},{'merge':!![]});}catch(_0x3e80c7){console[_0x236c7f(0x52f)](_0x236c7f(0x7c2),_0x3e80c7),showMessage(_0x236c7f(0x632));}}async function logBehaviorEvent(_0x276171,_0x14001f={}){const _0x449727=_0x527e23;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x449727(0x599)](_0x449727(0x3a8));return;}const _0x5c46e1=doc(db,_0x449727(0x51d)+appId+_0x449727(0x8ef)+currentQuizData['id']+_0x449727(0x6a1),currentStudentName),_0x1c4a7b={'event':_0x276171,'timestamp':new Date()[_0x449727(0x8e6)](),..._0x14001f};try{await setDoc(_0x5c46e1,{'behaviorLog':arrayUnion(_0x1c4a7b)},{'merge':!![]}),console[_0x449727(0x8e8)]('บันทึกพฤติกรรมสำหรับ\x20'+currentStudentName+_0x449727(0x7fb)+_0x276171);}catch(_0x4875ca){console[_0x449727(0x52f)](_0x449727(0x244),_0x4875ca);}}function calculateMeanAndStdDev(_0x599bbd){const _0x21087a=_0x527e23;if(_0x599bbd[_0x21087a(0x334)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0xeb0d11=_0x599bbd['reduce']((_0x1e7eb3,_0x287c05)=>_0x1e7eb3+_0x287c05,0x0)/_0x599bbd['length'];if(_0x599bbd[_0x21087a(0x334)]===0x1)return{'mean':_0xeb0d11,'stdDev':0x0};const _0x893f48=Math['sqrt'](_0x599bbd[_0x21087a(0x421)](_0x144656=>Math[_0x21087a(0x42c)](_0x144656-_0xeb0d11,0x2))[_0x21087a(0x768)]((_0x9b26d4,_0x1f3488)=>_0x9b26d4+_0x1f3488,0x0)/(_0x599bbd['length']-0x1));return{'mean':_0xeb0d11,'stdDev':_0x893f48};}function calculateZScore(_0x389567,_0x24089c,_0x2d8d34){if(_0x2d8d34===0x0)return 0x0;return(_0x389567-_0x24089c)/_0x2d8d34;}function calculateTScore(_0x3787cf){return 0xa*_0x3787cf+0x32;}function showStarredProjectView(){const _0x34261=_0x527e23;currentProjectId=_0x34261(0x8c1),currentProjectData=null,projectTitle[_0x34261(0x69f)]=_0x34261(0x78a),projectIdDisplay[_0x34261(0x69f)]='pinned-items',showView(_0x34261(0x4af)),manageTab['classList'][_0x34261(0x596)](_0x34261(0x933)),leaderboardTab[_0x34261(0x932)][_0x34261(0x596)]('hidden'),switchProjectTab(_0x34261(0x5d2)),renderQuizzes();}async function loadProjectDetails(_0x2bf1ff){const _0x6680e0=_0x527e23,_0x20791e=doc(db,_0x6680e0(0x51d)+appId+'/public/data/projects',_0x2bf1ff),_0x3d33ea=await getDoc(_0x20791e);if(_0x3d33ea['exists']()){manageTab[_0x6680e0(0x932)]['remove']('hidden'),leaderboardTab[_0x6680e0(0x932)]['remove']('hidden'),currentProjectData=_0x3d33ea[_0x6680e0(0x3b3)](),projectTitle['textContent']=currentProjectData[_0x6680e0(0x3a2)],projectIdDisplay[_0x6680e0(0x69f)]=_0x2bf1ff;const _0x497bd8=currentProjectData[_0x6680e0(0x943)]||{};document['getElementById']('shuffle-setting-select')['value']=_0x497bd8[_0x6680e0(0x63d)]||_0x6680e0(0x607);const _0x4ea7f8=document[_0x6680e0(0x536)]('show-in-student-dashboard-checkbox');_0x4ea7f8[_0x6680e0(0x40b)]=_0x497bd8[_0x6680e0(0x6f2)]!==![];const _0x4be6ab=document[_0x6680e0(0x536)]('enable-passcode-checkbox'),_0x2b231b=document['getElementById'](_0x6680e0(0x44b)),_0x28356c=document[_0x6680e0(0x536)](_0x6680e0(0x5c5)),_0x21725a=_0x497bd8['isPasscodeEnabled']||![];_0x4be6ab[_0x6680e0(0x40b)]=_0x21725a,_0x28356c['value']=_0x497bd8[_0x6680e0(0x723)]||'',_0x2b231b[_0x6680e0(0x932)][_0x6680e0(0x4f0)](_0x6680e0(0x933),!_0x21725a),_0x4be6ab['onchange']=()=>{const _0x178496=_0x6680e0;_0x2b231b[_0x178496(0x932)][_0x178496(0x4f0)]('hidden',!_0x4be6ab[_0x178496(0x40b)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2bf1ff),listenForProjectQuizzes(_0x2bf1ff),listenForStudentProfiles(_0x2bf1ff);}else showMessage(_0x6680e0(0x2ef)),showView(_0x6680e0(0x33a));}async function handleResetProjectOrder(){const _0x5e91a6=_0x527e23,_0x4d5e70=doc(db,_0x5e91a6(0x78e),_0x5e91a6(0x6fd));try{await setDoc(_0x4d5e70,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x5e91a6(0x76a));}catch(_0x5a1f3d){console[_0x5e91a6(0x52f)](_0x5e91a6(0x391),_0x5a1f3d),showMessage(_0x5e91a6(0x2af));}}async function handleTogglePinProject(_0x2e7c00){const _0x5d07a2=_0x527e23;if(!_0x2e7c00)return;const _0x4a2ae6=doc(db,_0x5d07a2(0x51d)+appId+_0x5d07a2(0x379),_0x2e7c00);try{const _0x5d342b=await getDoc(_0x4a2ae6);if(_0x5d342b[_0x5d07a2(0x798)]()){const _0x3599f1=_0x5d342b[_0x5d07a2(0x3b3)]()[_0x5d07a2(0x6d0)]||![];await updateDoc(_0x4a2ae6,{'isPinned':!_0x3599f1});}}catch(_0x35df96){console[_0x5d07a2(0x52f)](_0x5d07a2(0x6c4),_0x35df96),showMessage(_0x5d07a2(0x336));}}async function handleDeleteProject(_0x13b740){const _0x51e1f0=_0x527e23;try{const _0x49ebea=writeBatch(db),_0x3499d7=collection(db,_0x51e1f0(0x51d)+appId+_0x51e1f0(0x300)),_0xe906a6=query(_0x3499d7,where(_0x51e1f0(0x282),'==',_0x13b740)),_0xff32e2=await getDocs(_0xe906a6);for(const _0x1ccd2a of _0xff32e2[_0x51e1f0(0x34b)]){const _0x1f5ff2=collection(db,_0x51e1f0(0x51d)+appId+_0x51e1f0(0x8ef)+_0x1ccd2a['id']+'/submissions'),_0x1496c4=await getDocs(_0x1f5ff2);_0x1496c4[_0x51e1f0(0x5b6)](_0x11a067=>{const _0x149b55=_0x51e1f0;_0x49ebea[_0x149b55(0x21f)](_0x11a067[_0x149b55(0x31c)]);}),_0x49ebea['delete'](_0x1ccd2a[_0x51e1f0(0x31c)]);}const _0x4b2687=collection(db,_0x51e1f0(0x51d)+appId+_0x51e1f0(0x8c6)+_0x13b740+_0x51e1f0(0x25d)),_0x41bdc6=await getDocs(_0x4b2687);_0x41bdc6[_0x51e1f0(0x5b6)](_0x3c0fa5=>{const _0x356dd6=_0x51e1f0;_0x49ebea[_0x356dd6(0x21f)](_0x3c0fa5[_0x356dd6(0x31c)]);});const _0x542a17=doc(db,'artifacts/'+appId+_0x51e1f0(0x379),_0x13b740);_0x49ebea[_0x51e1f0(0x21f)](_0x542a17),await _0x49ebea[_0x51e1f0(0x618)](),showMessage(_0x51e1f0(0x1d9)),showView(_0x51e1f0(0x33a));}catch(_0x3b12e1){console['error'](_0x51e1f0(0x7ea),_0x3b12e1),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x527e23(0x536)](_0x527e23(0x8f5))['addEventListener'](_0x527e23(0x311),async()=>{const _0x52ec18=_0x527e23;if(!currentProjectId)return;const _0x4eaa84={'defaultNumQuestions':parseInt(document[_0x52ec18(0x536)](_0x52ec18(0x679))[_0x52ec18(0x4bd)]),'defaultNumChoices':parseInt(document[_0x52ec18(0x536)](_0x52ec18(0x4b4))['value']),'defaultPassingScore':parseInt(document[_0x52ec18(0x536)](_0x52ec18(0x54a))['value']),'resultsDisplay':document[_0x52ec18(0x536)](_0x52ec18(0x868))[_0x52ec18(0x4bd)],'shuffleSetting':document[_0x52ec18(0x536)](_0x52ec18(0x2d5))[_0x52ec18(0x4bd)],'timerMode':document[_0x52ec18(0x536)]('timer-mode-select')[_0x52ec18(0x4bd)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x52ec18(0x4bd)])};try{const _0x524e26=doc(db,'artifacts/'+appId+_0x52ec18(0x379),currentProjectId);await updateDoc(_0x524e26,{'settings':_0x4eaa84}),showMessage(_0x52ec18(0x4ab));}catch(_0x3d3e92){console[_0x52ec18(0x52f)](_0x52ec18(0x818),_0x3d3e92),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x4b5e0d){const _0x334271=_0x527e23,_0x5779bd=doc(db,_0x334271(0x51d)+appId+_0x334271(0x379),_0x4b5e0d);unsubscribeStudentsListener=onSnapshot(_0x5779bd,_0x4df0c7=>{const _0x42346f=_0x334271;if(_0x4df0c7[_0x42346f(0x798)]()){const _0x487bf8=_0x4df0c7[_0x42346f(0x3b3)]();currentProjectData=_0x487bf8,renderStudentList(_0x487bf8['students']||[]);}});}function renderStudentList(_0x4de31b){const _0x3d4a82=_0x527e23,_0x320d64=document['getElementById'](_0x3d4a82(0x8be));_0x4de31b['length']===0x0?(studentList['innerHTML']='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x320d64[_0x3d4a82(0x932)][_0x3d4a82(0x596)]('hidden')):(studentList[_0x3d4a82(0x343)]=_0x4de31b[_0x3d4a82(0x421)](_0x32d550=>_0x3d4a82(0x57d)+_0x32d550+_0x3d4a82(0x3e0)+_0x32d550+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x320d64[_0x3d4a82(0x932)][_0x3d4a82(0x89c)]('hidden'));}document[_0x527e23(0x536)](_0x527e23(0x303))[_0x527e23(0x2a3)]('click',async()=>{const _0x56daa8=_0x527e23;if(!currentProjectId)return;const _0x5398f4=document[_0x56daa8(0x536)](_0x56daa8(0x2bb)),_0x58a471=_0x5398f4[_0x56daa8(0x4bd)][_0x56daa8(0x2a6)]();if(!_0x58a471){showMessage(_0x56daa8(0x782));return;}const _0x2370ae=_0x58a471[_0x56daa8(0x207)]('\x0a')[_0x56daa8(0x421)](_0x1a5bee=>_0x1a5bee['trim']())[_0x56daa8(0x8fe)](_0x1aee8b=>_0x1aee8b);if(_0x2370ae[_0x56daa8(0x334)]===0x0)return;try{const _0x13024a=doc(db,'artifacts/'+appId+_0x56daa8(0x379),currentProjectId),_0x49ae28=await getDoc(_0x13024a);if(_0x49ae28[_0x56daa8(0x798)]()){const _0x536e7c=_0x49ae28[_0x56daa8(0x3b3)]()['students']||[],_0x495500=[...new Set([..._0x536e7c,..._0x2370ae])];await updateDoc(_0x13024a,{'students':_0x495500}),_0x5398f4[_0x56daa8(0x4bd)]='';}}catch(_0x40e201){console[_0x56daa8(0x52f)]('Error\x20adding\x20students:',_0x40e201),showMessage(_0x56daa8(0x332));}});async function handleManualQuizPairing(_0x3ce0d6){const _0x2afd43=_0x527e23,_0x2c357b=document[_0x2afd43(0x536)](_0x2afd43(0x80a)),_0x1f5b38=document[_0x2afd43(0x536)]('move-quiz-project-select'),_0x2d3b35=_0x2c357b['querySelector']('h3'),_0x1df720=document[_0x2afd43(0x536)](_0x2afd43(0x361)),_0x3cec85=document['getElementById'](_0x2afd43(0x773));_0x2d3b35[_0x2afd43(0x69f)]=_0x2afd43(0x224),_0x1f5b38[_0x2afd43(0x343)]=_0x2afd43(0x6db),_0x1df720['textContent']=_0x2afd43(0x3ba),_0x2c357b[_0x2afd43(0x932)][_0x2afd43(0x89c)](_0x2afd43(0x933));const _0x528166=allQuizzes[_0x2afd43(0x8fe)](_0x11a384=>_0x11a384['id']!==_0x3ce0d6);_0x528166[_0x2afd43(0x334)]===0x0?(_0x1f5b38['innerHTML']='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x1df720['disabled']=!![]):(_0x1f5b38[_0x2afd43(0x343)]=_0x2afd43(0x5d9)+_0x528166[_0x2afd43(0x421)](_0x191da6=>_0x2afd43(0x77e)+_0x191da6['id']+'\x22>'+_0x191da6[_0x2afd43(0x652)]+_0x2afd43(0x8de))['join'](''),_0x1df720['disabled']=![]);const _0xe0e6af=async()=>{const _0x24fd4b=_0x2afd43,_0x549875=_0x1f5b38[_0x24fd4b(0x4bd)];if(!_0x549875){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x1df720[_0x24fd4b(0x315)]=!![],_0x1df720[_0x24fd4b(0x69f)]=_0x24fd4b(0x1ce);try{const _0x1e8821=doc(db,_0x24fd4b(0x51d)+appId+_0x24fd4b(0x300),_0x3ce0d6),_0x2383b8=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x549875),_0x3f6334=writeBatch(db);_0x3f6334[_0x24fd4b(0x548)](_0x1e8821,{'pairedQuizId':_0x549875}),_0x3f6334[_0x24fd4b(0x548)](_0x2383b8,{'pairedQuizId':_0x3ce0d6}),await _0x3f6334[_0x24fd4b(0x618)](),showMessage(_0x24fd4b(0x88b)),_0x2c357b[_0x24fd4b(0x932)][_0x24fd4b(0x596)](_0x24fd4b(0x933));}catch(_0x298d45){console['error']('Error\x20pairing\x20quizzes:',_0x298d45),showMessage(_0x24fd4b(0x8d9));}finally{_0x2d3b35[_0x24fd4b(0x69f)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1df720[_0x24fd4b(0x69f)]=_0x24fd4b(0x8a5),_0x1df720['disabled']=![],_0x1df720['removeEventListener'](_0x24fd4b(0x311),_0xe0e6af),_0x3cec85[_0x24fd4b(0x5be)](_0x24fd4b(0x311),_0x3261cc);}},_0x3261cc=()=>{const _0x14a6ad=_0x2afd43;_0x2c357b[_0x14a6ad(0x932)]['add'](_0x14a6ad(0x933)),_0x2d3b35['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1df720['textContent']=_0x14a6ad(0x8a5),_0x1df720[_0x14a6ad(0x5be)](_0x14a6ad(0x311),_0xe0e6af),_0x3cec85[_0x14a6ad(0x5be)](_0x14a6ad(0x311),_0x3261cc);};_0x1df720[_0x2afd43(0x2a3)](_0x2afd43(0x311),_0xe0e6af),_0x3cec85[_0x2afd43(0x2a3)](_0x2afd43(0x311),_0x3261cc);}function handleDeleteStudent(_0x50f633){const _0xc7ed68=_0x527e23;showConfirmation(_0xc7ed68(0x8ee)+_0x50f633+_0xc7ed68(0x65a),async()=>{const _0x5f5591=_0xc7ed68;if(!currentProjectId||!currentProjectData)return;const _0x1a9c00=currentProjectData[_0x5f5591(0x1e2)][_0x5f5591(0x8fe)](_0x3d45aa=>_0x3d45aa!==_0x50f633);try{const _0x2c9136=doc(db,'artifacts/'+appId+_0x5f5591(0x379),currentProjectId),_0x5e055f=doc(db,'artifacts/'+appId+_0x5f5591(0x8c6)+currentProjectId+_0x5f5591(0x25d),_0x50f633),_0x2022d0=writeBatch(db);_0x2022d0[_0x5f5591(0x548)](_0x2c9136,{'students':_0x1a9c00}),_0x2022d0[_0x5f5591(0x21f)](_0x5e055f),await _0x2022d0[_0x5f5591(0x618)]();}catch(_0x204014){console[_0x5f5591(0x52f)]('Error\x20deleting\x20student:',_0x204014),showMessage(_0x5f5591(0x39b));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x2c53c3=_0x2f9e;if(!currentProjectId)return;try{const _0x1d3dc1=doc(db,_0x2c53c3(0x51d)+appId+_0x2c53c3(0x379),currentProjectId),_0x50d960=collection(db,'artifacts/'+appId+_0x2c53c3(0x8c6)+currentProjectId+_0x2c53c3(0x25d)),_0x1925c5=await getDocs(_0x50d960),_0x437fb3=writeBatch(db);_0x437fb3[_0x2c53c3(0x548)](_0x1d3dc1,{'students':[]}),_0x1925c5[_0x2c53c3(0x5b6)](_0x36f783=>_0x437fb3[_0x2c53c3(0x21f)](_0x36f783[_0x2c53c3(0x31c)])),await _0x437fb3['commit']();}catch(_0x28d228){console[_0x2c53c3(0x52f)](_0x2c53c3(0x7eb),_0x28d228),showMessage(_0x2c53c3(0x4b1));}});}async function handleGenerateFromFileClick(){const _0x55d224=_0x527e23;if(!selectedFile){showMessage(_0x55d224(0x708));return;}const _0x853872=document['getElementById'](_0x55d224(0x897)),_0x3dba21=document[_0x55d224(0x536)]('loader-text'),_0x5b6c53=document['getElementById'](_0x55d224(0x90d)),_0x7f66d=document[_0x55d224(0x536)](_0x55d224(0x726));_0x7f66d[_0x55d224(0x315)]=!![],document['getElementById'](_0x55d224(0x5f5))[_0x55d224(0x932)][_0x55d224(0x89c)](_0x55d224(0x933)),_0x5b6c53[_0x55d224(0x343)]='',_0x853872[_0x55d224(0x932)][_0x55d224(0x89c)]('hidden'),_0x3dba21[_0x55d224(0x69f)]='กำลังอ่านและเตรียมไฟล์...';const _0x39f86b=new FileReader();_0x39f86b[_0x55d224(0x67a)](selectedFile),_0x39f86b['onload']=async()=>{const _0x12e273=_0x55d224;try{const _0x393606=_0x39f86b[_0x12e273(0x5ef)][_0x12e273(0x207)](',')[0x1],_0x57c463=selectedFile[_0x12e273(0x41c)];await generateQuizFromFile(_0x57c463,_0x393606);}catch(_0x51c70c){console[_0x12e273(0x52f)]('Error\x20processing\x20file\x20for\x20AI:',_0x51c70c),showMessage(_0x12e273(0x912)+_0x51c70c['message']),_0x853872[_0x12e273(0x932)][_0x12e273(0x596)](_0x12e273(0x933));}finally{}},_0x39f86b[_0x55d224(0x671)]=_0x482abd=>{const _0x47e433=_0x55d224;console[_0x47e433(0x52f)]('FileReader\x20error:',_0x482abd),showMessage(_0x47e433(0x544)),_0x853872[_0x47e433(0x932)][_0x47e433(0x596)](_0x47e433(0x933)),_0x7f66d[_0x47e433(0x315)]=![];};}function autoFormatMath(_0xf1f995){const _0x5b34eb=_0x527e23;if(typeof _0xf1f995!==_0x5b34eb(0x654)||!_0xf1f995)return _0xf1f995;const _0x1f2c0a=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1d0ad7=_0xf1f995[_0x5b34eb(0x72f)](_0x1f2c0a,_0x305b66=>{const _0x41da67=_0x5b34eb;return'$'+_0x305b66[_0x41da67(0x2a6)]()+'$';});return _0x1d0ad7;}function sanitizeQuizData(_0x2c6b41){const _0x1d852e=_0x527e23;if(!_0x2c6b41||!_0x2c6b41['questions'])return _0x2c6b41;const _0x3eeb92={'imes':'\x5ctimes','div':_0x1d852e(0x60a)},_0xf85540=_0x302b4d=>{const _0xe0d2ad=_0x1d852e;if(typeof _0x302b4d!=='string')return _0x302b4d;let _0x283c16=_0x302b4d;for(const [_0x3a5af4,_0x44baaa]of Object[_0xe0d2ad(0x56c)](_0x3eeb92)){const _0x227926=new RegExp('\x5cb'+_0x3a5af4+'\x5cb','g');_0x283c16=_0x283c16['replace'](_0x227926,_0x44baaa);}return _0x283c16=_0x283c16[_0xe0d2ad(0x72f)](/\\\//g,_0xe0d2ad(0x60a)),_0x283c16=_0x283c16[_0xe0d2ad(0x72f)](/<(i|em)>\s*div\s*<\/\1>/gi,_0xe0d2ad(0x60a))[_0xe0d2ad(0x72f)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')['replace'](/÷/g,'\x5cdiv')[_0xe0d2ad(0x72f)](/×/g,_0xe0d2ad(0x5d3)),_0x283c16=_0x283c16['replace'](/(\d)(\\frac)/g,_0xe0d2ad(0x77a)),_0x283c16=autoFormatMath(_0x283c16),_0x283c16;};return _0x2c6b41['topic']&&(_0x2c6b41[_0x1d852e(0x652)]=_0xf85540(_0x2c6b41[_0x1d852e(0x652)])),_0x2c6b41[_0x1d852e(0x7cf)][_0x1d852e(0x5b6)](_0x259e2f=>{const _0x26c572=_0x1d852e;_0x259e2f['questionText']=_0xf85540(_0x259e2f[_0x26c572(0x7fc)]),_0x259e2f['options']&&(_0x259e2f[_0x26c572(0x23c)]=_0x259e2f[_0x26c572(0x23c)][_0x26c572(0x421)](_0xf85540)),_0x259e2f['explanation']&&(_0x259e2f[_0x26c572(0x852)]=_0xf85540(_0x259e2f[_0x26c572(0x852)])),_0x259e2f[_0x26c572(0x50c)]&&(_0x259e2f[_0x26c572(0x50c)]=_0xf85540(_0x259e2f['stem'])),_0x259e2f['correctResponse']&&(_0x259e2f[_0x26c572(0x413)]=_0xf85540(_0x259e2f['correctResponse'])),_0x259e2f[_0x26c572(0x81a)]&&(_0x259e2f[_0x26c572(0x81a)]=_0x259e2f[_0x26c572(0x81a)][_0x26c572(0x421)](_0xf85540));}),_0x2c6b41;}const simpleMathPrompt=_0x527e23(0x4bf);async function handleGenerateFromLink(){const _0x7fcd19=_0x527e23,_0x178a25=document[_0x7fcd19(0x536)](_0x7fcd19(0x658)),_0x144d33=document[_0x7fcd19(0x536)](_0x7fcd19(0x4ad)),_0x283cdd=_0x178a25[_0x7fcd19(0x4bd)]['trim'](),_0x1ac8c5=_0x144d33['value']['trim']();if(!_0x283cdd){showMessage(_0x7fcd19(0x8d5));return;}const _0x215de9=document['getElementById'](_0x7fcd19(0x897)),_0x25c211=document[_0x7fcd19(0x536)](_0x7fcd19(0x4c3)),_0x3e9dd1=document[_0x7fcd19(0x536)]('generated-quiz-container'),_0x3e5fdb=document[_0x7fcd19(0x536)](_0x7fcd19(0x6cc));document[_0x7fcd19(0x536)](_0x7fcd19(0x5f5))['classList'][_0x7fcd19(0x89c)](_0x7fcd19(0x933)),_0x3e9dd1[_0x7fcd19(0x343)]='',_0x215de9[_0x7fcd19(0x932)][_0x7fcd19(0x89c)](_0x7fcd19(0x933)),_0x25c211[_0x7fcd19(0x69f)]='กำลังดึงข้อมูลจากลิงก์...',_0x3e5fdb[_0x7fcd19(0x315)]=!![];try{const _0x27aede='https://corsproxy.io/?'+encodeURIComponent(_0x283cdd),_0x3113b6=await fetch(_0x27aede);if(!_0x3113b6['ok'])throw new Error(_0x7fcd19(0x7e5)+_0x3113b6[_0x7fcd19(0x70c)]+')');const _0x5c89f5=await _0x3113b6['text'](),_0x173519=extractTextFromHtml(_0x5c89f5);if(!_0x173519||_0x173519['length']<0x64)throw new Error(_0x7fcd19(0x3d5));await generateQuiz(_0x1ac8c5,_0x173519);}catch(_0x2632a8){console[_0x7fcd19(0x52f)]('Error\x20generating\x20from\x20link:',_0x2632a8),showMessage(_0x7fcd19(0x91c)+_0x2632a8[_0x7fcd19(0x34c)]),_0x3e9dd1['innerHTML']=_0x7fcd19(0x1e7);}finally{_0x215de9['classList']['add'](_0x7fcd19(0x933)),_0x3e5fdb[_0x7fcd19(0x315)]=![];}}function extractTextFromHtml(_0x5c7dc7){const _0x26dd3b=_0x527e23,_0x59fa4b=new DOMParser()['parseFromString'](_0x5c7dc7,'text/html');return _0x59fa4b[_0x26dd3b(0x7d8)](_0x26dd3b(0x5e4))['forEach'](_0x1a5132=>_0x1a5132[_0x26dd3b(0x89c)]()),_0x59fa4b['body'][_0x26dd3b(0x69f)]||'';}document[_0x527e23(0x536)]('generate-from-topic-btn')['addEventListener'](_0x527e23(0x311),()=>{const _0x137755=_0x527e23,_0x2b101d=document['getElementById'](_0x137755(0x414))['value'][_0x137755(0x2a6)]();generateQuiz(_0x2b101d,null);}),document['getElementById'](_0x527e23(0x437))[_0x527e23(0x2a3)](_0x527e23(0x311),()=>{const _0x4b9477=_0x527e23,_0x3302ba=document['getElementById'](_0x4b9477(0x93d))['value'][_0x4b9477(0x2a6)]();if(!_0x3302ba){showMessage(_0x4b9477(0x8ed));return;}const _0x64352c=document[_0x4b9477(0x536)]('topic-input')[_0x4b9477(0x4bd)][_0x4b9477(0x2a6)]();generateQuiz(_0x64352c,_0x3302ba);});async function generateQuiz(_0x5cf428,_0x5eb235,_0x2740f5=null){const _0x80368e=_0x527e23,_0x493988=document['getElementById'](_0x80368e(0x38b))[_0x80368e(0x40b)],_0x46a596=document[_0x80368e(0x536)]('quiz-type-select')[_0x80368e(0x4bd)],_0x4063ab=document[_0x80368e(0x536)](_0x80368e(0x679))['value'],_0x547356=document[_0x80368e(0x536)](_0x80368e(0x4b4))[_0x80368e(0x4bd)],_0x2a18eb=document[_0x80368e(0x536)](_0x80368e(0x50b))[_0x80368e(0x40b)],_0x1b7c10=_0x2a18eb?'':_0x80368e(0x370),_0x21d896=document[_0x80368e(0x536)](_0x80368e(0x527)),_0x1d2242=_0x21d896['value'];let _0x2f980b='';_0x1d2242!==_0x80368e(0x3f1)&&(_0x2f980b=_0x80368e(0x83f)+_0x1d2242+'\x22');const _0x45623d=document[_0x80368e(0x536)](_0x80368e(0x7a2)),_0x384aa1=_0x45623d['value'];let _0x5f5976='';_0x384aa1!==_0x80368e(0x8dd)&&(_0x5f5976='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x384aa1+_0x80368e(0x895));const _0x5a6a91=document[_0x80368e(0x7d8)](_0x80368e(0x92d)),_0x4f8690=Array[_0x80368e(0x7f8)](_0x5a6a91)[_0x80368e(0x421)](_0x20ee99=>_0x20ee99['value']);let _0x8eba83='';_0x4f8690[_0x80368e(0x334)]>0x0&&(_0x8eba83='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x4f8690['join'](',\x20')+_0x80368e(0x57f));let _0x4127d2='',_0x327180='',_0x13a3da,_0x45ba5c=_0x80368e(0x24e)+_0x5cf428+'\x22';if(!_0x5cf428&&_0x5eb235)_0x45ba5c=_0x80368e(0x90b);else!_0x5cf428&&!_0x5eb235&&(_0x45ba5c=_0x80368e(0x2c2));const _0x4c9459={'type':_0x80368e(0x7e3),'properties':{'questionText':{'type':_0x80368e(0x62b)},'options':{'type':'ARRAY','items':{'type':_0x80368e(0x62b)}},'correctAnswerIndex':{'type':_0x80368e(0x914)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x80368e(0x62b)}},'required':['questionText',_0x80368e(0x23c),_0x80368e(0x378),_0x80368e(0x852)]},_0x203734={'type':_0x80368e(0x7e3),'properties':{'questionText':{'type':_0x80368e(0x62b)},'idealAnswer':{'type':_0x80368e(0x62b)},'explanation':{'type':_0x80368e(0x62b)},'imageCode':{'type':'STRING'}},'required':[_0x80368e(0x7fc),'idealAnswer','explanation']},_0x442af4={'type':_0x80368e(0x7e3),'properties':{'questionText':{'type':_0x80368e(0x62b)},'questionType':{'type':_0x80368e(0x62b),'enum':['multiple_choice',_0x80368e(0x5b8)]},'options':{'type':_0x80368e(0x1d1),'items':{'type':_0x80368e(0x62b)}},'correctAnswerIndex':{'type':_0x80368e(0x914)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x80368e(0x62b)},'imageCode':{'type':_0x80368e(0x62b)}},'required':[_0x80368e(0x7fc),_0x80368e(0x307),_0x80368e(0x852)]},_0x179925={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x80368e(0x1d3)},'explanation':{'type':_0x80368e(0x62b)},'imageCode':{'type':'STRING'}},'required':['questionText','correctAnswer','explanation']},_0x3a2e52={'type':_0x80368e(0x7e3),'properties':{'questionType':{'type':_0x80368e(0x62b),'enum':[_0x80368e(0x30b)]},'stem':{'type':_0x80368e(0x62b)},'correctResponse':{'type':_0x80368e(0x62b)},'allResponses':{'type':'ARRAY','items':{'type':_0x80368e(0x62b)}},'explanation':{'type':_0x80368e(0x62b)},'imageCode':{'type':_0x80368e(0x62b)}},'required':['questionType',_0x80368e(0x50c),_0x80368e(0x413),_0x80368e(0x81a),_0x80368e(0x852)]};let _0x4e5c7a;if(_0x2740f5!==null){const _0x1a6236=currentQuizData[_0x80368e(0x7cf)][_0x2740f5][_0x80368e(0x307)],_0x49f579=_0x493988?_0x80368e(0x8b7):'';_0x4127d2=_0x80368e(0x36a)+_0x45ba5c+'\x20'+_0x8eba83+'\x20'+_0x2f980b+_0x80368e(0x7b0)+_0x49f579+'\x20'+simpleMathPrompt;if(_0x1a6236===_0x80368e(0x465))_0x13a3da=_0x4c9459;else{if(_0x1a6236===_0x80368e(0x30b))_0x13a3da={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x80368e(0x30b)]},'stem':{'type':_0x80368e(0x62b)},'correctResponse':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x80368e(0x62b)}},'required':[_0x80368e(0x307),_0x80368e(0x50c),_0x80368e(0x413),_0x80368e(0x852)]};else _0x13a3da=_0x203734;}_0x4e5c7a=_0x13a3da;}else{const _0x376bb0=_0x493988?_0x80368e(0x217):'',_0x159273='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x46a596){case _0x80368e(0x465):_0x4127d2=_0x80368e(0x87b)+_0x1b7c10+'\x20'+_0x4063ab+_0x80368e(0x830)+_0x45ba5c+'\x20'+_0x8eba83+'\x20'+_0x2f980b+'\x20'+_0x5f5976+_0x80368e(0x360)+_0x547356+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x376bb0+'\x20'+simpleMathPrompt,_0x13a3da=_0x4c9459;break;case _0x80368e(0x5bf):_0x4127d2='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x1b7c10+'\x20'+_0x4063ab+'\x20ข้อ\x20'+_0x45ba5c+'\x20'+_0x8eba83+'\x20'+_0x2f980b+'\x20'+_0x5f5976+_0x80368e(0x454)+_0x547356+_0x80368e(0x534)+_0x376bb0+'\x20'+simpleMathPrompt,_0x13a3da=_0x4c9459;break;case _0x80368e(0x6e0):_0x4127d2=_0x80368e(0x32d)+_0x1b7c10+'\x20'+_0x4063ab+'\x20ข้อ\x20'+_0x45ba5c+'\x20'+_0x8eba83+'\x20'+_0x2f980b+'\x20'+_0x5f5976+_0x80368e(0x501)+_0x376bb0+'\x20'+simpleMathPrompt,_0x13a3da=_0x203734;break;case _0x80368e(0x8dd):_0x4127d2='สร้างแบบทดสอบ'+_0x1b7c10+'\x20'+_0x4063ab+_0x80368e(0x830)+_0x45ba5c+'\x20'+_0x8eba83+'\x20'+_0x2f980b+'\x20'+_0x5f5976+_0x80368e(0x4a0)+_0x547356+_0x80368e(0x7b8)+_0x376bb0+'\x20'+simpleMathPrompt+'.',_0x13a3da=_0x442af4;break;case'true_false':_0x4127d2=_0x80368e(0x3ea)+_0x1b7c10+'\x20'+_0x4063ab+'\x20ข้อ\x20'+_0x45ba5c+'\x20'+_0x8eba83+'\x20'+_0x2f980b+'\x20'+_0x5f5976+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x376bb0+'\x20'+simpleMathPrompt,_0x13a3da=_0x179925;break;case'matching':_0x4127d2=_0x80368e(0x736)+_0x1b7c10+'\x20'+_0x4063ab+'\x20คู่\x20'+_0x45ba5c+'\x20'+_0x8eba83+'\x20'+_0x2f980b+'\x20'+_0x5f5976+_0x80368e(0x251)+_0x376bb0+'\x20'+simpleMathPrompt,_0x13a3da=_0x3a2e52;break;}_0x4e5c7a={'type':_0x80368e(0x7e3),'properties':{'topic':{'type':_0x80368e(0x62b)},'questions':{'type':_0x80368e(0x1d1),'items':_0x13a3da}},'required':[_0x80368e(0x652),_0x80368e(0x7cf)]};}return _0x5eb235?(_0x4127d2=_0x80368e(0x5e5)+_0x5eb235+_0x80368e(0x278)+_0x4127d2,_0x327180=_0x80368e(0x46d)):_0x327180='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x4127d2,_0x327180,_0x4e5c7a,_0x2740f5);}async function generateQuizFromFile(_0x4ee2b0,_0x5e577e){const _0x2bbf1d=_0x527e23,_0x2ad5e5=document[_0x2bbf1d(0x536)]('file-topic-input')[_0x2bbf1d(0x4bd)][_0x2bbf1d(0x2a6)](),_0x3c7b1b=document['getElementById'](_0x2bbf1d(0x7d3))[_0x2bbf1d(0x4bd)],_0x1b001f=document[_0x2bbf1d(0x536)]('num-questions')[_0x2bbf1d(0x4bd)],_0x5f3e12=document['getElementById'](_0x2bbf1d(0x4b4))['value'],_0x3b40aa=document[_0x2bbf1d(0x536)](_0x2bbf1d(0x38b))[_0x2bbf1d(0x40b)],_0x441d1f=document[_0x2bbf1d(0x536)](_0x2bbf1d(0x50b))[_0x2bbf1d(0x40b)],_0x4a2e76=_0x441d1f?'':'คณิตศาสตร์';let _0x1526a2='',_0x771b89,_0x4557f4=_0x2bbf1d(0x24e)+_0x2ad5e5+'\x22';!_0x2ad5e5&&(_0x4557f4=_0x2bbf1d(0x377));const _0x13aed8=_0x3b40aa?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x3c7b1b){case'multiple_choice':_0x1526a2=_0x2bbf1d(0x87b)+_0x4a2e76+'\x20'+_0x1b001f+_0x2bbf1d(0x830)+_0x4557f4+_0x2bbf1d(0x360)+_0x5f3e12+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x13aed8+'\x20'+simpleMathPrompt,_0x771b89={'type':'OBJECT','properties':{'questionText':{'type':_0x2bbf1d(0x62b)},'options':{'type':'ARRAY','items':{'type':_0x2bbf1d(0x62b)}},'correctAnswerIndex':{'type':_0x2bbf1d(0x914)},'explanation':{'type':_0x2bbf1d(0x62b)},'imageCode':{'type':'STRING'}},'required':[_0x2bbf1d(0x7fc),_0x2bbf1d(0x23c),'correctAnswerIndex',_0x2bbf1d(0x852)]};break;case _0x2bbf1d(0x5bf):_0x1526a2=_0x2bbf1d(0x32d)+_0x4a2e76+'\x20'+_0x1b001f+_0x2bbf1d(0x830)+_0x4557f4+_0x2bbf1d(0x454)+_0x5f3e12+_0x2bbf1d(0x534)+_0x13aed8+'\x20'+simpleMathPrompt,_0x771b89={'type':_0x2bbf1d(0x7e3),'properties':{'questionText':{'type':_0x2bbf1d(0x62b)},'options':{'type':_0x2bbf1d(0x1d1),'items':{'type':_0x2bbf1d(0x62b)}},'correctAnswerIndex':{'type':_0x2bbf1d(0x914)},'explanation':{'type':_0x2bbf1d(0x62b)},'imageCode':{'type':_0x2bbf1d(0x62b)}},'required':[_0x2bbf1d(0x7fc),_0x2bbf1d(0x23c),'correctAnswerIndex',_0x2bbf1d(0x852)]};break;case'fill_in_no_choices':_0x1526a2='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4a2e76+'\x20'+_0x1b001f+_0x2bbf1d(0x830)+_0x4557f4+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x13aed8+'\x20'+simpleMathPrompt,_0x771b89={'type':_0x2bbf1d(0x7e3),'properties':{'questionText':{'type':_0x2bbf1d(0x62b)},'idealAnswer':{'type':_0x2bbf1d(0x62b)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText','idealAnswer',_0x2bbf1d(0x852)]};break;case _0x2bbf1d(0x8dd):_0x1526a2=_0x2bbf1d(0x3d3)+_0x4a2e76+'\x20'+_0x1b001f+'\x20ข้อ\x20'+_0x4557f4+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x5f3e12+'\x20ตัวเลือก.\x20'+_0x13aed8+'\x20'+simpleMathPrompt+_0x2bbf1d(0x45f),_0x771b89={'type':_0x2bbf1d(0x7e3),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2bbf1d(0x62b),'enum':[_0x2bbf1d(0x465),_0x2bbf1d(0x5b8)]},'options':{'type':'ARRAY','items':{'type':_0x2bbf1d(0x62b)}},'correctAnswerIndex':{'type':_0x2bbf1d(0x914)},'idealAnswer':{'type':_0x2bbf1d(0x62b)},'explanation':{'type':_0x2bbf1d(0x62b)},'imageCode':{'type':_0x2bbf1d(0x62b)}},'required':[_0x2bbf1d(0x7fc),_0x2bbf1d(0x307),_0x2bbf1d(0x852)]};break;case _0x2bbf1d(0x79f):_0x1526a2=_0x2bbf1d(0x3ea)+_0x4a2e76+'\x20'+_0x1b001f+_0x2bbf1d(0x830)+_0x4557f4+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x13aed8+'\x20'+simpleMathPrompt,_0x771b89={'type':_0x2bbf1d(0x7e3),'properties':{'questionText':{'type':_0x2bbf1d(0x62b)},'correctAnswer':{'type':_0x2bbf1d(0x1d3)},'explanation':{'type':_0x2bbf1d(0x62b)},'imageCode':{'type':_0x2bbf1d(0x62b)}},'required':[_0x2bbf1d(0x7fc),_0x2bbf1d(0x823),_0x2bbf1d(0x852)]};break;case _0x2bbf1d(0x427):_0x1526a2=_0x2bbf1d(0x736)+_0x4a2e76+'\x20'+_0x1b001f+_0x2bbf1d(0x1c6)+_0x4557f4+_0x2bbf1d(0x8e2)+_0x1b001f+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x13aed8+'\x20'+simpleMathPrompt,_0x771b89={'type':_0x2bbf1d(0x7e3),'properties':{'questionType':{'type':_0x2bbf1d(0x62b),'enum':[_0x2bbf1d(0x30b)]},'stem':{'type':_0x2bbf1d(0x62b)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2bbf1d(0x1d1),'items':{'type':_0x2bbf1d(0x62b)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2bbf1d(0x62b)}},'required':[_0x2bbf1d(0x307),_0x2bbf1d(0x50c),_0x2bbf1d(0x413),_0x2bbf1d(0x81a),_0x2bbf1d(0x852)]};break;}const _0x371d98={'type':_0x2bbf1d(0x7e3),'properties':{'topic':{'type':_0x2bbf1d(0x62b)},'questions':{'type':_0x2bbf1d(0x1d1),'items':_0x771b89}},'required':[_0x2bbf1d(0x652),'questions']},_0x4d5baa=_0x2bbf1d(0x738)+_0x1526a2,_0x31b006={'contents':[{'parts':[{'text':_0x4d5baa},{'inlineData':{'mimeType':_0x4ee2b0,'data':_0x5e577e}}]}],'generationConfig':{'responseMimeType':_0x2bbf1d(0x4f9),'responseSchema':_0x371d98}};return handleApiCall(_0x31b006[_0x2bbf1d(0x636)][0x0][_0x2bbf1d(0x396)],_0x2bbf1d(0x747),_0x371d98);}async function handleApiCall(_0x227a1d,_0x36b257,_0x3e2754,_0x929325=null){const _0x17d263=_0x527e23,_0x3a7cde=document[_0x17d263(0x536)](_0x17d263(0x5f5)),_0x4ddbc2=document[_0x17d263(0x536)](_0x17d263(0x897)),_0x1ce3e2=document[_0x17d263(0x536)]('loader-text'),_0x26270b=document[_0x17d263(0x536)](_0x17d263(0x90d));_0x3a7cde[_0x17d263(0x932)][_0x17d263(0x89c)](_0x17d263(0x933));_0x929325===null&&(_0x26270b[_0x17d263(0x343)]='');_0x4ddbc2['classList']['remove'](_0x17d263(0x933)),_0x1ce3e2[_0x17d263(0x69f)]=_0x36b257,document[_0x17d263(0x536)](_0x17d263(0x8a8))['disabled']=!![],document[_0x17d263(0x536)](_0x17d263(0x437))[_0x17d263(0x315)]=!![],document['getElementById'](_0x17d263(0x6cc))['disabled']=!![];try{const _0xb0152d={'responseMimeType':_0x17d263(0x4f9),'responseSchema':_0x3e2754},_0x5820e2=Array[_0x17d263(0x89b)](_0x227a1d)?_0x227a1d:[{'text':_0x227a1d}],_0x2305b8={'contents':[{'role':_0x17d263(0x729),'parts':_0x5820e2}],'generationConfig':_0xb0152d},_0x4592e2='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x4585ee=_0x17d263(0x76e)+_0x4592e2,_0x51101d=await fetch(_0x4585ee,{'method':_0x17d263(0x270),'headers':{'Content-Type':_0x17d263(0x4f9)},'body':JSON[_0x17d263(0x1fb)](_0x2305b8)});if(!_0x51101d['ok'])throw new Error(_0x17d263(0x5eb)+_0x51101d[_0x17d263(0x70c)]);const _0x28fd6d=await _0x51101d['json']();if(_0x28fd6d[_0x17d263(0x409)]?.[0x0]?.[_0x17d263(0x90c)]?.[_0x17d263(0x396)]?.[0x0]){let _0xcae4f7=_0x28fd6d['candidates'][0x0][_0x17d263(0x90c)][_0x17d263(0x396)][0x0][_0x17d263(0x532)],_0x509c35;try{if(_0xcae4f7['startsWith']('```json'))_0xcae4f7=_0xcae4f7[_0x17d263(0x6e5)](0x7,_0xcae4f7[_0x17d263(0x334)]-0x3)[_0x17d263(0x2a6)]();else _0xcae4f7[_0x17d263(0x1e8)](_0x17d263(0x1df))&&(_0xcae4f7=_0xcae4f7['substring'](0x3,_0xcae4f7[_0x17d263(0x334)]-0x3)['trim']());_0x509c35=JSON[_0x17d263(0x676)](_0xcae4f7);}catch(_0x5c2d4d){console[_0x17d263(0x52f)](_0x17d263(0x43d),_0x5c2d4d,_0xcae4f7);throw new Error(_0x17d263(0x677));}if(_0x929325!==null){if(_0x509c35[_0x17d263(0x307)]===_0x17d263(0x30b)){const _0x103e88=currentQuizData['questions']['map'](_0x544f45=>_0x544f45[_0x17d263(0x413)]);_0x509c35[_0x17d263(0x81a)]=_0x103e88;const _0x1fb55e=currentQuizData[_0x17d263(0x7cf)][_0x929325][_0x17d263(0x413)],_0x1688b6=_0x103e88[_0x17d263(0x8b3)](_0x1fb55e);_0x1688b6>-0x1&&(_0x103e88[_0x1688b6]=_0x509c35['correctResponse']),currentQuizData[_0x17d263(0x7cf)][_0x17d263(0x5b6)](_0x7e7960=>{const _0x27b952=_0x17d263;if(_0x7e7960['questionType']===_0x27b952(0x30b))_0x7e7960[_0x27b952(0x81a)]=_0x103e88;});}currentQuizData['questions'][_0x929325]=_0x509c35,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x509c35;const _0x143f5e=document[_0x17d263(0x536)](_0x17d263(0x7d3))[_0x17d263(0x4bd)];currentQuizData[_0x17d263(0x62c)]=_0x143f5e,currentQuizData[_0x17d263(0x7cf)]&&currentQuizData['questions']['forEach'](_0xb163a6=>{const _0x372aac=_0x17d263;if(!_0xb163a6['questionType']){if(_0x143f5e==='fill_in_with_choices')_0xb163a6[_0x372aac(0x307)]='multiple_choice';else _0x143f5e===_0x372aac(0x6e0)?_0xb163a6['questionType']=_0x372aac(0x5b8):_0xb163a6[_0x372aac(0x307)]=_0x143f5e;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x17d263(0x52f)](_0x17d263(0x291),JSON[_0x17d263(0x1fb)](_0x28fd6d));throw new Error(_0x17d263(0x677));}}catch(_0x4d3a24){console[_0x17d263(0x52f)](_0x17d263(0x434),_0x4d3a24),showMessage(_0x17d263(0x25c)),_0x929325===null&&(_0x26270b[_0x17d263(0x343)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0x4ddbc2['classList'][_0x17d263(0x596)](_0x17d263(0x933)),document['getElementById'](_0x17d263(0x8a8))[_0x17d263(0x315)]=![],document['getElementById'](_0x17d263(0x437))['disabled']=![],document[_0x17d263(0x536)](_0x17d263(0x6cc))[_0x17d263(0x315)]=![];const _0x5e7d0d=document[_0x17d263(0x536)]('generate-from-file-btn');_0x5e7d0d&&(_0x5e7d0d[_0x17d263(0x315)]=![]);}}function exitFullscreen(){const _0x52aff4=_0x527e23;if(document[_0x52aff4(0x7e6)])document[_0x52aff4(0x7e6)]()[_0x52aff4(0x579)](_0x341c0e=>console['error'](_0x341c0e));else{if(document['webkitExitFullscreen'])document['webkitExitFullscreen']();else document[_0x52aff4(0x626)]&&document[_0x52aff4(0x626)]();}}function enterFullscreen(){const _0x32720f=_0x527e23,_0x29f0d9=document[_0x32720f(0x4f7)];if(_0x29f0d9[_0x32720f(0x7c7)])_0x29f0d9[_0x32720f(0x7c7)]()[_0x32720f(0x579)](_0x2a3560=>{const _0x4b7d60=_0x32720f;console[_0x4b7d60(0x52f)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x2a3560[_0x4b7d60(0x34c)]+'\x20('+_0x2a3560[_0x4b7d60(0x882)]+')');});else{if(_0x29f0d9[_0x32720f(0x3b1)])_0x29f0d9['webkitRequestFullscreen']();else _0x29f0d9[_0x32720f(0x301)]&&_0x29f0d9[_0x32720f(0x301)]();}}function handleVisibilityChange(){const _0x2d10e0=_0x527e23;if(currentMode===_0x2d10e0(0x5dc))return;isQuizActive&&document[_0x2d10e0(0x1f7)]===_0x2d10e0(0x933)&&(cheatAttempts++,logBehaviorEvent('visibility_hidden',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการสลับหน้าจอครบ\x20'+maxCheatAttempts+_0x2d10e0(0x25f)),document[_0x2d10e0(0x536)](_0x2d10e0(0x1da))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x2d10e0(0x5be)](_0x2d10e0(0x1b6),handleVisibilityChange),document[_0x2d10e0(0x5be)](_0x2d10e0(0x35d),handleFullscreenChange)):showMessage(_0x2d10e0(0x66b)+cheatAttempts+'/'+maxCheatAttempts+_0x2d10e0(0x2be)));}function handleFullscreenChange(){const _0x422979=_0x527e23;if(currentMode===_0x422979(0x5dc))return;!document[_0x422979(0x7d0)]&&isQuizActive&&(cheatAttempts++,logBehaviorEvent(_0x422979(0x797),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากโหมดเต็มหน้าจอครบ\x20'+maxCheatAttempts+_0x422979(0x25f)),document[_0x422979(0x536)](_0x422979(0x1da))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x422979(0x5be)]('fullscreenchange',handleFullscreenChange)):showMessage(_0x422979(0x66b)+cheatAttempts+'/'+maxCheatAttempts+_0x422979(0x445),enterFullscreen));}function displayGeneratedQuiz(_0x339fbf){const _0x13e28e=_0x527e23,_0x2ffbfd=document[_0x13e28e(0x536)](_0x13e28e(0x90d));let _0x3f5b13='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x339fbf[_0x13e28e(0x652)]+_0x13e28e(0x5da);_0x339fbf[_0x13e28e(0x7cf)][_0x13e28e(0x5b6)]((_0xe48326,_0x463047)=>{const _0xb657bf=_0x13e28e;!_0xe48326['id']&&(_0xe48326['id']='q_'+Date[_0xb657bf(0x91e)]()+'_'+_0x463047);const _0x11d826=_0xe48326[_0xb657bf(0x307)]||_0x339fbf[_0xb657bf(0x62c)];_0x3f5b13+=_0xb657bf(0x467)+_0x463047+_0xb657bf(0x42d)+_0x463047+_0xb657bf(0x48b)+_0x463047+_0xb657bf(0x32a)+_0x463047+_0xb657bf(0x821);switch(_0x11d826){case'matching_item':_0x3f5b13+=_0xb657bf(0x7d6)+_0x463047+'\x22>'+(_0x463047+0x1)+'.\x20'+_0xe48326[_0xb657bf(0x50c)]+'</p>';_0xe48326[_0xb657bf(0x399)]&&(_0x3f5b13+=_0xb657bf(0x610)+_0x463047+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xe48326[_0xb657bf(0x399)]+_0xb657bf(0x3b7));_0x3f5b13+=_0xb657bf(0x4d7)+_0x463047+'\x22>'+_0xe48326[_0xb657bf(0x413)]+'</span></div>',_0x3f5b13+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x463047+'\x22>'+_0xe48326[_0xb657bf(0x852)]+_0xb657bf(0x685);break;case _0xb657bf(0x5b8):_0x3f5b13+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x463047+'\x22>'+(_0x463047+0x1)+'.\x20'+_0xe48326[_0xb657bf(0x7fc)]+'</p>';_0xe48326[_0xb657bf(0x399)]&&(_0x3f5b13+=_0xb657bf(0x610)+_0x463047+_0xb657bf(0x366)+_0xe48326[_0xb657bf(0x399)]+_0xb657bf(0x3b7));_0x3f5b13+=_0xb657bf(0x1fd)+_0x463047+'\x22>'+_0xe48326[_0xb657bf(0x8c0)]+'</span></div>',_0x3f5b13+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x463047+'\x22>'+_0xe48326[_0xb657bf(0x852)]+'</span></div>';break;case _0xb657bf(0x79f):_0x3f5b13+=_0xb657bf(0x7d6)+_0x463047+'\x22>'+(_0x463047+0x1)+'.\x20'+_0xe48326[_0xb657bf(0x7fc)]+'</p>';_0xe48326['imageCode']&&(_0x3f5b13+=_0xb657bf(0x610)+_0x463047+_0xb657bf(0x366)+_0xe48326[_0xb657bf(0x399)]+_0xb657bf(0x3b7));_0x3f5b13+=_0xb657bf(0x290)+(_0xe48326['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+_0xb657bf(0x776)+(_0xe48326[_0xb657bf(0x823)]===![]?'text-green-600\x20font-bold':'')+_0xb657bf(0x51a),_0x3f5b13+=_0xb657bf(0x3bb)+_0x463047+'\x22>'+_0xe48326[_0xb657bf(0x852)]+_0xb657bf(0x685);break;case'fill_in_the_blank':case _0xb657bf(0x465):default:_0x3f5b13+=_0xb657bf(0x7d6)+_0x463047+'\x22>'+(_0x463047+0x1)+'.\x20'+_0xe48326[_0xb657bf(0x7fc)]+_0xb657bf(0x7d5);_0xe48326[_0xb657bf(0x399)]&&(_0x3f5b13+=_0xb657bf(0x610)+_0x463047+_0xb657bf(0x366)+_0xe48326['imageCode']+_0xb657bf(0x3b7));_0x3f5b13+=_0xb657bf(0x814)+_0x463047+_0xb657bf(0x92a)+_0xe48326[_0xb657bf(0x23c)][_0xb657bf(0x421)]((_0x2301a8,_0x17988b)=>_0xb657bf(0x5e1)+(_0x17988b===_0xe48326[_0xb657bf(0x378)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x2301a8+_0xb657bf(0x3d0))[_0xb657bf(0x55b)]('')+_0xb657bf(0x79c),_0x3f5b13+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x463047+'\x22>'+_0xe48326['explanation']+_0xb657bf(0x685);break;}_0x3f5b13+='</div>';}),_0x3f5b13+=_0x13e28e(0x1f8),_0x2ffbfd['innerHTML']=_0x3f5b13,document[_0x13e28e(0x7d8)](_0x13e28e(0x32f))[_0x13e28e(0x5b6)](_0x1a77a0=>_0x1a77a0['addEventListener'](_0x13e28e(0x311),handleEditQuestion)),document['querySelectorAll'](_0x13e28e(0x613))[_0x13e28e(0x5b6)](_0x440353=>_0x440353[_0x13e28e(0x2a3)]('click',handleRegenerateQuestion)),document[_0x13e28e(0x7d8)](_0x13e28e(0x36e))['forEach'](_0x114a5d=>_0x114a5d[_0x13e28e(0x2a3)](_0x13e28e(0x311),handleSaveToBank)),document[_0x13e28e(0x536)](_0x13e28e(0x57b))['addEventListener'](_0x13e28e(0x311),exportQuizAsWorksheetPDF),document[_0x13e28e(0x536)](_0x13e28e(0x6bc))[_0x13e28e(0x2a3)](_0x13e28e(0x311),saveQuiz),document[_0x13e28e(0x536)](_0x13e28e(0x2b0))[_0x13e28e(0x2a3)](_0x13e28e(0x311),handleVerifyAnswers);if(window[_0x13e28e(0x450)])window[_0x13e28e(0x450)][_0x13e28e(0x7cc)]([_0x2ffbfd]);}function handleRegenerateQuestion(_0x5bd9da){const _0x5a0ad1=_0x527e23,_0x1b4797=_0x5bd9da[_0x5a0ad1(0x20b)][_0x5a0ad1(0x424)]['index'],_0x5b13b6=currentQuizData['topic'];showMessage(_0x5a0ad1(0x2ec)+(parseInt(_0x1b4797)+0x1)+'\x20ใหม่...'),generateQuiz(_0x5b13b6,null,parseInt(_0x1b4797));}function getPointerPosition(_0x4c9a89,_0x5e4452){const _0x4e5aff=_0x527e23,_0x1895de=_0x4c9a89[_0x4e5aff(0x4e2)]();let _0x18c7ab,_0x478c6d;return _0x5e4452[_0x4e5aff(0x4c1)]&&_0x5e4452[_0x4e5aff(0x4c1)][_0x4e5aff(0x334)]>0x0?(_0x18c7ab=_0x5e4452[_0x4e5aff(0x4c1)][0x0][_0x4e5aff(0x735)],_0x478c6d=_0x5e4452[_0x4e5aff(0x4c1)][0x0]['clientY']):(_0x18c7ab=_0x5e4452[_0x4e5aff(0x735)],_0x478c6d=_0x5e4452['clientY']),{'x':(_0x18c7ab-_0x1895de['e'])/_0x1895de['a'],'y':(_0x478c6d-_0x1895de['f'])/_0x1895de['d']};}function startDrag(_0x32d9b8){const _0x264159=_0x527e23;_0x32d9b8[_0x264159(0x41c)]===_0x264159(0x936)&&_0x32d9b8[_0x264159(0x8c8)]();const _0x20d6db=_0x32d9b8[_0x264159(0x911)]['closest'](_0x264159(0x67b));if(_0x20d6db){draggedSvgElement=_0x20d6db;const _0x5a5110=draggedSvgElement['ownerSVGElement'],_0x26d63a=getPointerPosition(_0x5a5110,_0x32d9b8);svgOffset['x']=_0x26d63a['x']-parseFloat(draggedSvgElement[_0x264159(0x1cd)](null,'x')),svgOffset['y']=_0x26d63a['y']-parseFloat(draggedSvgElement[_0x264159(0x1cd)](null,'y'));}}function calculateItemAnalysis(_0x2f4b8e,_0x3cef38){const _0x481e1d=_0x527e23,_0x254327={};if(_0x3cef38[_0x481e1d(0x334)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x4f2d76=[..._0x3cef38][_0x481e1d(0x34f)]((_0x5e686d,_0x560d9a)=>{const _0x37acd5=_0x481e1d,_0xf43308=_0x560d9a[_0x37acd5(0x470)]-_0x5e686d[_0x37acd5(0x470)];if(_0xf43308!==0x0)return _0xf43308;const _0x43b0eb=_0x5e686d[_0x37acd5(0x72a)]?.[_0x37acd5(0x334)]||0x1,_0x30bff5=_0x560d9a[_0x37acd5(0x72a)]?.[_0x37acd5(0x334)]||0x1,_0x59fdf5=_0x43b0eb-_0x30bff5;if(_0x59fdf5!==0x0)return _0x59fdf5;const _0x5cb58c=new Date(_0x5e686d[_0x37acd5(0x29d)]),_0x3dfd0d=new Date(_0x560d9a[_0x37acd5(0x29d)]),_0xab77ef=_0x5cb58c-_0x3dfd0d;if(_0xab77ef!==0x0)return _0xab77ef;return _0x5e686d['studentName'][_0x37acd5(0x1ae)](_0x560d9a['studentName'],'th');}),_0x289acc=_0x4f2d76[_0x481e1d(0x334)],_0x528643=Math[_0x481e1d(0x924)](0x1,Math[_0x481e1d(0x3b5)](_0x289acc*0.33));if(_0x528643===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0xecc147=_0x4f2d76[_0x481e1d(0x7a4)](0x0,_0x528643),_0x2d896b=_0x4f2d76[_0x481e1d(0x7a4)](-_0x528643),_0x55bcd8=_0xecc147[_0x481e1d(0x421)](_0x151f83=>_0x151f83[_0x481e1d(0x7e1)]),_0x5c41a8=_0x2d896b[_0x481e1d(0x421)](_0x114156=>_0x114156[_0x481e1d(0x7e1)]);return _0x2f4b8e[_0x481e1d(0x7cf)]['forEach']((_0x5c38d9,_0x4666e4)=>{const _0x1452db=_0x481e1d,_0x2b7db3=_0x5c38d9[_0x1452db(0x50c)]||_0x5c38d9[_0x1452db(0x7fc)];let _0x5992ff=0x0,_0x1aecb1=0x0,_0xb9b3b3=0x0;const _0x8d0c2a=[],_0x3377b2=[];_0xecc147['forEach'](_0x112fc2=>{const _0x1d1a02=_0x1452db,_0xceb6e5=_0x112fc2[_0x1d1a02(0x72a)][_0x112fc2[_0x1d1a02(0x72a)][_0x1d1a02(0x334)]-0x1],_0x220000=_0xceb6e5[_0x1d1a02(0x263)]['find'](_0x30f42a=>_0x30f42a['originalQuestionText']===_0x2b7db3);_0x8d0c2a['push']({'name':_0x112fc2['studentName'],'isCorrect':_0x220000?_0x220000[_0x1d1a02(0x614)]:![]}),_0x220000&&_0x220000[_0x1d1a02(0x614)]&&_0x1aecb1++;}),_0x2d896b['forEach'](_0xa17bda=>{const _0x12af18=_0x1452db,_0x73c592=_0xa17bda[_0x12af18(0x72a)][_0xa17bda[_0x12af18(0x72a)]['length']-0x1],_0x4a0962=_0x73c592[_0x12af18(0x263)]['find'](_0x498ee=>_0x498ee[_0x12af18(0x352)]===_0x2b7db3);_0x3377b2[_0x12af18(0x3eb)]({'name':_0xa17bda[_0x12af18(0x7e1)],'isCorrect':_0x4a0962?_0x4a0962[_0x12af18(0x614)]:![]}),_0x4a0962&&_0x4a0962[_0x12af18(0x614)]&&_0xb9b3b3++;}),_0x3cef38['forEach'](_0x184935=>{const _0x8635cd=_0x1452db,_0x465f17=_0x184935[_0x8635cd(0x72a)][_0x184935[_0x8635cd(0x72a)][_0x8635cd(0x334)]-0x1],_0x1fbd35=_0x465f17[_0x8635cd(0x263)][_0x8635cd(0x389)](_0x33a0cd=>_0x33a0cd[_0x8635cd(0x352)]===_0x2b7db3);_0x1fbd35&&_0x1fbd35[_0x8635cd(0x614)]&&_0x5992ff++;});const _0x4d9ca2=_0x289acc>0x0?_0x5992ff/_0x289acc:0x0,_0x2a4f92=_0x528643>0x0?_0x1aecb1/_0x528643-_0xb9b3b3/_0x528643:0x0;_0x254327[_0x4666e4]={'p':_0x4d9ca2,'r':_0x2a4f92,'upperGroupResponders':_0x8d0c2a,'lowerGroupResponders':_0x3377b2};}),{'perQuestionStats':_0x254327,'overallGroups':{'upperGroupNames':_0x55bcd8,'lowerGroupNames':_0x5c41a8}};}function drag(_0x448ee1){const _0x1ae81b=_0x527e23;if(draggedSvgElement){_0x448ee1[_0x1ae81b(0x8c8)]();const _0x30abe6=draggedSvgElement[_0x1ae81b(0x763)],_0xe0520d=getPointerPosition(_0x30abe6,_0x448ee1),_0x100916=_0x30abe6[_0x1ae81b(0x617)][_0x1ae81b(0x41e)];let _0x1cba19=_0xe0520d['x']-svgOffset['x'],_0x10b490=_0xe0520d['y']-svgOffset['y'];const _0x101ea5=draggedSvgElement[_0x1ae81b(0x772)]();_0x1cba19=Math['max'](_0x100916['x'],Math[_0x1ae81b(0x56a)](_0x1cba19,_0x100916['x']+_0x100916[_0x1ae81b(0x466)]-_0x101ea5[_0x1ae81b(0x466)])),_0x10b490=Math[_0x1ae81b(0x924)](_0x100916['y'],Math['min'](_0x10b490,_0x100916['y']+_0x100916[_0x1ae81b(0x6df)]-_0x101ea5[_0x1ae81b(0x6df)])),draggedSvgElement[_0x1ae81b(0x6b5)](null,'x',_0x1cba19),draggedSvgElement[_0x1ae81b(0x6b5)](null,'y',_0x10b490);}}function endDrag(_0x2eb613){draggedSvgElement=null;}function handleSvgEditClick(_0x24b02a){const _0x2e1018=_0x527e23;if(_0x24b02a['target']['classList'][_0x2e1018(0x713)]('delete-svg-btn')){const _0x389c6d=_0x24b02a[_0x2e1018(0x911)][_0x2e1018(0x424)][_0x2e1018(0x4cd)],_0x2392e5=_0x24b02a['currentTarget'],_0x2071e3=_0x2392e5[_0x2e1018(0x1ed)]('#'+_0x389c6d);_0x2071e3&&_0x2071e3[_0x2e1018(0x89c)](),_0x24b02a[_0x2e1018(0x911)][_0x2e1018(0x89c)]();}}function handleEditQuestion(_0x398317){const _0x5f0084=_0x527e23,_0x3448d7=_0x398317[_0x5f0084(0x20b)],_0x3a01cf=_0x3448d7[_0x5f0084(0x424)][_0x5f0084(0x5a9)],_0x34d9e6=currentQuizData[_0x5f0084(0x7cf)][_0x3a01cf],_0x80be9e=document[_0x5f0084(0x536)](_0x5f0084(0x1be)+_0x3a01cf),_0x35e96b=document[_0x5f0084(0x536)]('q-explanation-'+_0x3a01cf),_0x22800b=document[_0x5f0084(0x536)](_0x5f0084(0x3f9)+_0x3a01cf);if(_0x3448d7[_0x5f0084(0x343)]['includes'](_0x5f0084(0x1f9))){_0x3448d7[_0x5f0084(0x343)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x3448d7[_0x5f0084(0x72e)]=_0x5f0084(0x272);if(_0x80be9e)_0x80be9e[_0x5f0084(0x2db)]=!![];if(_0x35e96b)_0x35e96b[_0x5f0084(0x2db)]=!![];if(_0x22800b){const _0x16d386=_0x22800b[_0x5f0084(0x1ed)](_0x5f0084(0x881));if(_0x16d386){const _0x3a12e5=_0x16d386['querySelectorAll'](_0x5f0084(0x532));_0x3a12e5[_0x5f0084(0x5b6)]((_0x478b91,_0x366d51)=>{const _0x3e4034=_0x5f0084,_0x2c18b2=_0x3e4034(0x907)+_0x3a01cf+'-'+_0x366d51;_0x478b91['id']=_0x2c18b2,_0x478b91[_0x3e4034(0x932)][_0x3e4034(0x596)]('draggable-text'),_0x478b91[_0x3e4034(0x6e2)][_0x3e4034(0x6d2)]=_0x3e4034(0x56e);const _0x4ee4da=document[_0x3e4034(0x883)](_0x3e4034(0x7ab),'circle'),_0x4e6d5f=_0x478b91['getBBox']();_0x4ee4da[_0x3e4034(0x779)]('cx',String(_0x4e6d5f['x']+_0x4e6d5f[_0x3e4034(0x466)]+0x5)),_0x4ee4da[_0x3e4034(0x779)]('cy',String(_0x4e6d5f['y']+_0x4e6d5f[_0x3e4034(0x6df)]/0x2-0x5)),_0x4ee4da[_0x3e4034(0x779)]('r','5'),_0x4ee4da[_0x3e4034(0x779)](_0x3e4034(0x7d9),_0x3e4034(0x670)),_0x4ee4da['setAttribute']('class','delete-svg-btn'),_0x4ee4da[_0x3e4034(0x424)]['targetId']=_0x2c18b2,_0x478b91['after'](_0x4ee4da);}),_0x16d386[_0x5f0084(0x2a3)](_0x5f0084(0x2bd),startDrag),_0x16d386[_0x5f0084(0x2a3)](_0x5f0084(0x349),drag),_0x16d386['addEventListener']('mouseup',endDrag),_0x16d386['addEventListener'](_0x5f0084(0x3d8),endDrag),_0x16d386['addEventListener'](_0x5f0084(0x936),startDrag,{'passive':![]}),_0x16d386[_0x5f0084(0x2a3)](_0x5f0084(0x5fd),drag,{'passive':![]}),_0x16d386[_0x5f0084(0x2a3)](_0x5f0084(0x3b6),endDrag),_0x16d386[_0x5f0084(0x2a3)](_0x5f0084(0x4c6),endDrag),_0x16d386[_0x5f0084(0x2a3)]('click',handleSvgEditClick);}}if(_0x80be9e)_0x80be9e[_0x5f0084(0x916)]();}else{_0x3448d7['innerHTML']=_0x5f0084(0x8b2),_0x3448d7[_0x5f0084(0x72e)]=_0x5f0084(0x73e);if(_0x80be9e){_0x80be9e['contentEditable']=![];const _0xa53493=_0x34d9e6['questionType']||currentQuizData[_0x5f0084(0x62c)];_0xa53493===_0x5f0084(0x30b)?_0x34d9e6[_0x5f0084(0x50c)]=_0x80be9e['innerText'][_0x5f0084(0x6e5)](_0x80be9e[_0x5f0084(0x3ad)][_0x5f0084(0x8b3)]('.')+0x2)[_0x5f0084(0x2a6)]():_0x34d9e6[_0x5f0084(0x7fc)]=_0x80be9e[_0x5f0084(0x3ad)][_0x5f0084(0x6e5)](_0x80be9e[_0x5f0084(0x3ad)]['indexOf']('.')+0x2)[_0x5f0084(0x2a6)]();}_0x35e96b&&(_0x35e96b[_0x5f0084(0x2db)]=![],_0x34d9e6[_0x5f0084(0x852)]=_0x35e96b['innerText']);if(_0x22800b){const _0x5ddf75=_0x22800b[_0x5f0084(0x1ed)](_0x5f0084(0x881));if(_0x5ddf75){const _0x4c0efd=_0x5ddf75[_0x5f0084(0x74b)](!![]);_0x4c0efd[_0x5f0084(0x7d8)](_0x5f0084(0x67c))[_0x5f0084(0x5b6)](_0x52a187=>_0x52a187[_0x5f0084(0x89c)]()),_0x4c0efd[_0x5f0084(0x7d8)]('.draggable-text')[_0x5f0084(0x5b6)](_0x1383dc=>{const _0x56ae0f=_0x5f0084;_0x1383dc['classList'][_0x56ae0f(0x89c)](_0x56ae0f(0x5ac)),_0x1383dc[_0x56ae0f(0x6e2)][_0x56ae0f(0x6d2)]='default',_0x1383dc[_0x56ae0f(0x702)]('id');}),_0x34d9e6['imageCode']=_0x4c0efd['outerHTML'],_0x5ddf75['removeEventListener']('mousedown',startDrag),_0x5ddf75['removeEventListener'](_0x5f0084(0x349),drag),_0x5ddf75[_0x5f0084(0x5be)](_0x5f0084(0x88c),endDrag),_0x5ddf75[_0x5f0084(0x5be)](_0x5f0084(0x3d8),endDrag),_0x5ddf75[_0x5f0084(0x5be)]('touchstart',startDrag),_0x5ddf75[_0x5f0084(0x5be)]('touchmove',drag),_0x5ddf75[_0x5f0084(0x5be)](_0x5f0084(0x3b6),endDrag),_0x5ddf75[_0x5f0084(0x5be)](_0x5f0084(0x4c6),endDrag),_0x5ddf75[_0x5f0084(0x5be)]('click',handleSvgEditClick),_0x5ddf75[_0x5f0084(0x7d8)]('.delete-svg-btn')[_0x5f0084(0x5b6)](_0xea600e=>_0xea600e['remove']()),_0x5ddf75[_0x5f0084(0x7d8)]('.draggable-text')[_0x5f0084(0x5b6)](_0xb1fc3=>{const _0x4a095d=_0x5f0084;_0xb1fc3[_0x4a095d(0x932)][_0x4a095d(0x89c)]('draggable-text'),_0xb1fc3[_0x4a095d(0x6e2)]['cursor']=_0x4a095d(0x919);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xb150b1){const _0x3b7de1=_0x527e23,_0xfc0e11=document[_0x3b7de1(0x536)]('quiz-editor-modal'),_0x573c0e=document[_0x3b7de1(0x536)](_0x3b7de1(0x6f1));_0x573c0e[_0x3b7de1(0x343)]=_0x3b7de1(0x256),_0xfc0e11['classList'][_0x3b7de1(0x89c)]('hidden');try{const _0x447b35=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xb150b1),_0x2acb01=await getDoc(_0x447b35);if(!_0x2acb01['exists']())throw new Error(_0x3b7de1(0x2c0));currentEditingQuizData={'id':_0xb150b1,..._0x2acb01[_0x3b7de1(0x3b3)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x437e3b){console['error'](_0x3b7de1(0x55c),_0x437e3b),showMessage(_0x3b7de1(0x1c0)),_0xfc0e11[_0x3b7de1(0x932)][_0x3b7de1(0x596)]('hidden');}}function renderQuizEditor(_0x2969e8){const _0xdbf534=_0x527e23;document[_0xdbf534(0x536)]('editor-quiz-topic')[_0xdbf534(0x4bd)]=_0x2969e8['topic'];const _0x165b2=document[_0xdbf534(0x536)](_0xdbf534(0x6f1));let _0x3905a5=_0x2969e8[_0xdbf534(0x7cf)]['map']((_0x11b714,_0x5940c3)=>{const _0x59b913=_0xdbf534;let _0x3a58d9='';const _0x440ab0=_0x11b714[_0x59b913(0x307)]||_0x2969e8['quizType'];switch(_0x440ab0){case'multiple_choice':const _0x1bfa01=(_0x11b714['options']||[])['map']((_0x321ab7,_0x5a070a)=>_0x59b913(0x653)+_0x5940c3+_0x59b913(0x6e1)+_0x5a070a+'\x22\x20'+(_0x5a070a===_0x11b714[_0x59b913(0x378)]?'checked':'')+_0x59b913(0x27b)+_0x321ab7+_0x59b913(0x6b3))['join']('');_0x3a58d9=_0x59b913(0x5d6)+_0x1bfa01+_0x59b913(0x889);break;case _0x59b913(0x5b8):_0x3a58d9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x11b714[_0x59b913(0x8c0)]||'')+_0x59b913(0x4b8);break;case'true_false':_0x3a58d9=_0x59b913(0x477)+_0x5940c3+_0x59b913(0x2ca)+(_0x11b714[_0x59b913(0x823)]===!![]?'checked':'')+_0x59b913(0x575)+_0x5940c3+_0x59b913(0x28b)+(_0x11b714[_0x59b913(0x823)]===![]?_0x59b913(0x40b):'')+_0x59b913(0x640);break;case'matching_item':_0x3a58d9=_0x59b913(0x3e3)+(_0x11b714[_0x59b913(0x413)]||'')+_0x59b913(0x576);break;}const _0x450105=_0x11b714[_0x59b913(0x7fc)]||_0x11b714['stem']||'';return _0x59b913(0x3e4)+_0x5940c3+_0x59b913(0x3d7)+_0x440ab0+_0x59b913(0x7be)+(_0x5940c3+0x1)+'\x20('+_0x440ab0+_0x59b913(0x734)+_0x450105+_0x59b913(0x24b)+_0x3a58d9+_0x59b913(0x387);})['join']('');_0x165b2[_0xdbf534(0x343)]=_0x3905a5;}async function handleSaveChanges(){const _0x588eed=_0x527e23,_0x50f1df=document[_0x588eed(0x536)](_0x588eed(0x43f));_0x50f1df[_0x588eed(0x315)]=!![],_0x50f1df[_0x588eed(0x343)]=_0x588eed(0x6ee);try{const _0x1419ba=document[_0x588eed(0x536)](_0x588eed(0x2fe))['value'],_0x2c8803=document[_0x588eed(0x7d8)](_0x588eed(0x33d));let _0x1ba72f=[];const _0x3132dd=Array[_0x588eed(0x7f8)](_0x2c8803)['map']((_0x116237,_0x1a9124)=>{const _0x27be19=_0x588eed,_0x133bc4=_0x116237['dataset'][_0x27be19(0x20a)],_0x19f771=_0x116237[_0x27be19(0x1ed)](_0x27be19(0x350))[_0x27be19(0x4bd)];let _0x3227d3={'questionType':_0x133bc4};const _0xf1357d=currentEditingQuizData[_0x27be19(0x7cf)][_0x1a9124];switch(_0x133bc4){case _0x27be19(0x465):_0x3227d3[_0x27be19(0x7fc)]=_0x19f771;const _0xc3d2ee=_0x116237[_0x27be19(0x7d8)](_0x27be19(0x3bc));_0x3227d3['options']=Array['from'](_0xc3d2ee)[_0x27be19(0x421)](_0x3e5b63=>_0x3e5b63['value']);const _0x97ad0d=_0x116237[_0x27be19(0x1ed)]('input[type=\x22radio\x22]:checked');_0x3227d3[_0x27be19(0x378)]=_0x97ad0d?parseInt(_0x97ad0d[_0x27be19(0x4bd)]):0x0;break;case _0x27be19(0x5b8):_0x3227d3['questionText']=_0x19f771,_0x3227d3[_0x27be19(0x8c0)]=_0x116237[_0x27be19(0x1ed)](_0x27be19(0x8a0))[_0x27be19(0x4bd)];break;case _0x27be19(0x79f):_0x3227d3[_0x27be19(0x7fc)]=_0x19f771;const _0x244f6c=_0x116237[_0x27be19(0x1ed)]('input[type=\x22radio\x22]:checked');_0x3227d3[_0x27be19(0x823)]=_0x244f6c?_0x244f6c['value']===_0x27be19(0x2df):!![];break;case _0x27be19(0x30b):_0x3227d3[_0x27be19(0x50c)]=_0x19f771;const _0x29bcf5=_0x116237[_0x27be19(0x1ed)]('.correct-response-input');_0x3227d3[_0x27be19(0x413)]=_0x29bcf5?_0x29bcf5[_0x27be19(0x4bd)]:'',_0x1ba72f[_0x27be19(0x3eb)](_0x3227d3[_0x27be19(0x413)]);break;default:_0x3227d3['questionText']=_0x19f771;break;}return{..._0xf1357d,..._0x3227d3};});_0x1ba72f[_0x588eed(0x334)]>0x0&&_0x3132dd[_0x588eed(0x5b6)](_0x49c7c7=>{const _0x52f5e7=_0x588eed;_0x49c7c7[_0x52f5e7(0x307)]==='matching_item'&&(_0x49c7c7[_0x52f5e7(0x81a)]=_0x1ba72f);});const _0x42b087=currentEditingQuizData['id'],_0x54399e=doc(db,'artifacts/'+appId+_0x588eed(0x300),_0x42b087);await updateDoc(_0x54399e,{'topic':_0x1419ba,'questions':_0x3132dd}),document[_0x588eed(0x536)]('quiz-editor-modal')[_0x588eed(0x932)][_0x588eed(0x596)](_0x588eed(0x933)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x42b087));}catch(_0x4faed0){console[_0x588eed(0x52f)](_0x588eed(0x1e1),_0x4faed0),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x50f1df['disabled']=![],_0x50f1df[_0x588eed(0x343)]=_0x588eed(0x21b);}}async function initiateReGradeProcess(_0x360a3e){const _0x5b4d21=_0x527e23;showMessage(_0x5b4d21(0x92b));try{const _0x583971=doc(db,_0x5b4d21(0x51d)+appId+_0x5b4d21(0x300),_0x360a3e),_0x32de50=await getDoc(_0x583971);if(!_0x32de50[_0x5b4d21(0x798)]())throw new Error(_0x5b4d21(0x6d1));const _0x199621={'id':_0x360a3e,..._0x32de50[_0x5b4d21(0x3b3)]()},_0x5d4bbf=collection(db,'artifacts/'+appId+_0x5b4d21(0x300),_0x360a3e,'submissions'),_0xa87c7d=await getDocs(_0x5d4bbf);if(_0xa87c7d[_0x5b4d21(0x774)]){showMessage(_0x5b4d21(0x604));return;}const _0x1f14e8=_0xa87c7d[_0x5b4d21(0x34b)][_0x5b4d21(0x421)](_0x108a19=>reGradeSingleSubmission(_0x108a19,_0x199621));await Promise[_0x5b4d21(0x3b0)](_0x1f14e8);if(_0x199621[_0x5b4d21(0x282)]){const _0x5b09a4=doc(db,_0x5b4d21(0x51d)+appId+_0x5b4d21(0x379),_0x199621[_0x5b4d21(0x282)]),_0x34717f=await getDoc(_0x5b09a4);if(_0x34717f['exists']()&&_0x34717f[_0x5b4d21(0x3b3)]()['students']){const _0x57d085=_0x34717f[_0x5b4d21(0x3b3)]()[_0x5b4d21(0x1e2)][_0x5b4d21(0x421)](_0xba0a15=>updateStudentProfile(_0x199621[_0x5b4d21(0x282)],_0xba0a15));await Promise[_0x5b4d21(0x3b0)](_0x57d085);}}showMessage(_0x5b4d21(0x21a)+_0xa87c7d[_0x5b4d21(0x581)]+_0x5b4d21(0x219));}catch(_0x19c251){console['error']('Re-grade\x20process\x20failed:',_0x19c251),showMessage(_0x5b4d21(0x899)+_0x19c251[_0x5b4d21(0x34c)]);}}async function reGradeSingleSubmission(_0x80be11,_0x53af18){const _0x582feb=_0x527e23,_0x127996=_0x80be11['data'](),_0x396aeb=_0x127996['studentName'],_0x4969d1=_0x127996[_0x582feb(0x72a)]||[],_0x54a487=[];for(const _0xd99065 of _0x4969d1){let _0x47e119=0x0,_0x3d60f6=[],_0x110511=0x0;const _0xfa644b=[];for(const _0xb2f53e of _0xd99065[_0x582feb(0x263)]){let _0x3777d1;_0xb2f53e['questionId']&&(_0x3777d1=_0x53af18[_0x582feb(0x7cf)][_0x582feb(0x389)](_0x3712be=>_0x3712be['id']===_0xb2f53e[_0x582feb(0x1dd)]));!_0x3777d1&&_0xb2f53e[_0x582feb(0x352)]&&(_0x3777d1=_0x53af18[_0x582feb(0x7cf)][_0x582feb(0x389)](_0x13b87e=>(_0x13b87e[_0x582feb(0x50c)]||_0x13b87e[_0x582feb(0x7fc)])===_0xb2f53e[_0x582feb(0x352)]));let _0xb5a471=![];if(_0x3777d1){const _0x276c94=_0x3777d1['questionType']||_0x53af18[_0x582feb(0x62c)];switch(_0x276c94){case _0x582feb(0x465):if(_0x3777d1[_0x582feb(0x23c)]&&_0x3777d1[_0x582feb(0x378)]<_0x3777d1[_0x582feb(0x23c)]['length']){const _0x18a553=_0x3777d1[_0x582feb(0x23c)][_0x3777d1[_0x582feb(0x378)]];_0xb5a471=_0xb2f53e[_0x582feb(0x338)]===_0x18a553;}break;case _0x582feb(0x79f):const _0x268c15=_0xb2f53e[_0x582feb(0x5de)]===!![]||_0xb2f53e[_0x582feb(0x5de)]===_0x582feb(0x2df);_0xb5a471=_0x268c15===_0x3777d1['correctAnswer'];break;case _0x582feb(0x30b):_0xb5a471=_0xb2f53e['answer']===_0x3777d1[_0x582feb(0x413)];break;case _0x582feb(0x5b8):_0xb5a471=await gradeShortAnswer(_0xb2f53e[_0x582feb(0x5de)],_0x3777d1);break;default:_0xb5a471=_0xb2f53e[_0x582feb(0x614)];break;}}if(_0xb5a471){_0x47e119++,_0x110511++;if(_0x110511===0x3)_0x3d60f6[_0x582feb(0x3eb)](BADGES[_0x582feb(0x390)]['id']);}else _0x110511=0x0;_0xfa644b[_0x582feb(0x3eb)]({..._0xb2f53e,'isCorrect':_0xb5a471});}let _0x39034c=_0x47e119*0xa;_0x47e119===_0x53af18[_0x582feb(0x7cf)][_0x582feb(0x334)]&&(_0x39034c+=0x32,_0x3d60f6[_0x582feb(0x3eb)](BADGES[_0x582feb(0x764)]['id'])),_0x54a487[_0x582feb(0x3eb)]({..._0xd99065,'score':_0x47e119,'points':_0x39034c,'badges':Array['from'](new Set(_0x3d60f6)),'answers':_0xfa644b});}const _0x31c92c=_0x54a487[_0x582feb(0x334)]>0x0?_0x54a487[0x0][_0x582feb(0x90e)]:0x0,_0xb1949e=Math[_0x582feb(0x924)](..._0x54a487['map'](_0x4924c9=>_0x4924c9[_0x582feb(0x90e)])),_0x435ab5=_0x54a487[_0x582feb(0x334)]>0x0?_0x54a487[_0x54a487['length']-0x1][_0x582feb(0x90e)]:0x0,_0x2e8c34=_0x54a487[_0x582feb(0x334)]>0x0?_0x54a487[_0x54a487[_0x582feb(0x334)]-0x1][_0x582feb(0x85b)]:0x0,_0x70e15d=doc(db,'artifacts/'+appId+_0x582feb(0x8ef)+_0x53af18['id']+_0x582feb(0x6a1),_0x396aeb);await updateDoc(_0x70e15d,{'attempts':_0x54a487,'firstScore':_0x31c92c,'bestScore':_0xb1949e,'latestScore':_0x435ab5,'points':_0x2e8c34});}function cleanupQuizOptions(_0x36e96e){const _0x5d46c5=_0x527e23,_0x57890b=(_0x7cd7db,_0x16653d)=>_0x16653d===0x0?_0x7cd7db:_0x57890b(_0x16653d,_0x7cd7db%_0x16653d),_0x245b00=_0xf2dac1=>{const _0x1ba751=_0x2f9e;if(typeof _0xf2dac1!==_0x1ba751(0x654))return null;_0xf2dac1=_0xf2dac1[_0x1ba751(0x2a6)]();const _0x1927a2=_0xf2dac1[_0x1ba751(0x207)](/[ /]/)[_0x1ba751(0x8fe)](_0x1d86f4=>_0x1d86f4!=='');if(_0x1927a2['length']===0x3)return parseInt(_0x1927a2[0x0])+parseInt(_0x1927a2[0x1])/parseInt(_0x1927a2[0x2]);else{if(_0x1927a2['length']===0x2)return parseInt(_0x1927a2[0x0])/parseInt(_0x1927a2[0x1]);else{if(_0x1927a2[_0x1ba751(0x334)]===0x1&&!isNaN(_0x1927a2[0x0]))return parseFloat(_0x1927a2[0x0]);}}return null;},_0x1c8eaa=_0x2861c3=>{const _0x286a30=_0x2f9e;if(typeof _0x2861c3!==_0x286a30(0x654))return _0x2861c3;const _0x3098f3=_0x2861c3[_0x286a30(0x4b9)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3098f3){const _0x1b4d6a=parseInt(_0x3098f3[0x1]);let _0x3a12ab=parseInt(_0x3098f3[0x2]),_0x555779=parseInt(_0x3098f3[0x3]);const _0x389c3d=_0x57890b(_0x3a12ab,_0x555779);_0x3a12ab/=_0x389c3d,_0x555779/=_0x389c3d;if(_0x555779===0x1)return(_0x1b4d6a+_0x3a12ab)[_0x286a30(0x793)]();return _0x1b4d6a+'\x20'+_0x3a12ab+'/'+_0x555779;}return _0x2861c3;};return _0x36e96e&&_0x36e96e['questions']&&_0x36e96e[_0x5d46c5(0x7cf)][_0x5d46c5(0x5b6)](_0x3aefa5=>{const _0x127cd1=_0x5d46c5;if(_0x3aefa5[_0x127cd1(0x307)]===_0x127cd1(0x465)&&_0x3aefa5['options']){const _0x3ec79e=new Map(),_0x491e44=_0x3aefa5[_0x127cd1(0x23c)][_0x3aefa5[_0x127cd1(0x378)]];_0x3aefa5['options'][_0x127cd1(0x5b6)](_0xcda67=>{const _0x51fac4=_0x127cd1,_0x421699=_0x1c8eaa(_0xcda67),_0x29b978=_0x245b00(_0x421699);_0x29b978!==null&&!_0x3ec79e[_0x51fac4(0x26f)](_0x29b978)&&_0x3ec79e[_0x51fac4(0x374)](_0x29b978,_0x421699);}),_0x3aefa5['options']=Array[_0x127cd1(0x7f8)](_0x3ec79e['values']());const _0x3a1624=_0x3aefa5[_0x127cd1(0x23c)][_0x127cd1(0x69c)](_0x1e55c8=>_0x1e55c8===_0x1c8eaa(_0x491e44));_0x3aefa5[_0x127cd1(0x378)]=_0x3a1624!==-0x1?_0x3a1624:0x0;}}),_0x36e96e;}async function saveQuiz(){const _0x21e72d=_0x527e23;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x21e72d(0x308));return;}const _0x2f48c6=document[_0x21e72d(0x536)](_0x21e72d(0x6bc));_0x2f48c6[_0x21e72d(0x315)]=!![],_0x2f48c6[_0x21e72d(0x343)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x34e2fc=document[_0x21e72d(0x536)]('pre-test-checkbox')[_0x21e72d(0x40b)];let _0x2be424=document[_0x21e72d(0x536)](_0x21e72d(0x7ed))[_0x21e72d(0x3ad)][_0x21e72d(0x2a6)]();_0x34e2fc&&!_0x2be424['startsWith'](_0x21e72d(0x75d))&&(_0x2be424='(ก่อนเรียน)\x20'+_0x2be424);try{const _0x58564a={'resultsDisplay':document[_0x21e72d(0x536)]('results-display-select')[_0x21e72d(0x4bd)],'shuffle':document[_0x21e72d(0x536)]('shuffle-setting-select')[_0x21e72d(0x4bd)],'timerMode':document[_0x21e72d(0x536)](_0x21e72d(0x745))['value'],'timerDuration':parseInt(document['getElementById'](_0x21e72d(0x47d))[_0x21e72d(0x4bd)])||0xa,'passingScore':parseInt(document[_0x21e72d(0x536)](_0x21e72d(0x54a))[_0x21e72d(0x4bd)])||0x0,'isAdaptive':document[_0x21e72d(0x536)]('adaptive-quiz-checkbox')['checked'],'loopUntilPass':document['getElementById'](_0x21e72d(0x858))[_0x21e72d(0x40b)]},_0x1eb497=(currentQuizData['questions']||[])[_0x21e72d(0x421)]((_0x312bb6,_0x21caa5)=>{const _0xf1af27=_0x21e72d,_0xc62367=document['getElementById']('quiz-type-select')['value'],_0x3deef0={'id':'q_'+Date[_0xf1af27(0x91e)]()+'_'+_0x21caa5,'questionText':_0x312bb6['questionText']||'','explanation':_0x312bb6['explanation']||_0xf1af27(0x3cd),'questionType':_0x312bb6[_0xf1af27(0x307)]||_0xc62367,'imageCode':_0x312bb6['imageCode']||null};return(_0x3deef0[_0xf1af27(0x307)]===_0xf1af27(0x465)||_0x3deef0[_0xf1af27(0x307)]===_0xf1af27(0x5bf)||_0x3deef0[_0xf1af27(0x307)]==='mixed'&&_0x312bb6[_0xf1af27(0x23c)])&&(_0x3deef0['options']=_0x312bb6[_0xf1af27(0x23c)]||[],_0x3deef0[_0xf1af27(0x378)]=_0x312bb6[_0xf1af27(0x378)]!==undefined?_0x312bb6[_0xf1af27(0x378)]:0x0),(_0x3deef0[_0xf1af27(0x307)]===_0xf1af27(0x5b8)||_0x3deef0[_0xf1af27(0x307)]===_0xf1af27(0x6e0)||_0x3deef0[_0xf1af27(0x307)]===_0xf1af27(0x8dd)&&_0x312bb6[_0xf1af27(0x8c0)])&&(_0x3deef0['idealAnswer']=_0x312bb6[_0xf1af27(0x8c0)]||''),_0x3deef0[_0xf1af27(0x307)]==='true_false'&&(_0x3deef0[_0xf1af27(0x823)]=_0x312bb6[_0xf1af27(0x823)]===!![]),_0x3deef0[_0xf1af27(0x307)]===_0xf1af27(0x30b)&&(_0x3deef0[_0xf1af27(0x50c)]=_0x312bb6[_0xf1af27(0x50c)]||'',_0x3deef0['correctResponse']=_0x312bb6['correctResponse']||'',_0x3deef0['allResponses']=_0x312bb6[_0xf1af27(0x81a)]||[]),_0x3deef0;}),_0x331c65={'topic':_0x2be424,'quizType':currentQuizData[_0x21e72d(0x62c)]||'multiple_choice','questions':_0x1eb497,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x21e72d(0x8e6)](),'status':_0x21e72d(0x553),'settings':_0x58564a,'quizMode':_0x34e2fc?_0x21e72d(0x8ec):_0x21e72d(0x759),'pairedQuizId':null,'lessonPlan':null};let _0x46de9e;while(!![]){_0x46de9e=Math[_0x21e72d(0x3b5)](0x3e8+Math[_0x21e72d(0x8b6)]()*0x2328)[_0x21e72d(0x793)]();const _0x359b69=await getDoc(doc(db,'artifacts/'+appId+_0x21e72d(0x300),_0x46de9e));if(!_0x359b69[_0x21e72d(0x798)]())break;}await setDoc(doc(db,_0x21e72d(0x51d)+appId+'/public/data/quizzes',_0x46de9e),_0x331c65),currentQuizData[_0x21e72d(0x943)]=_0x58564a,currentQuizData['id']=_0x46de9e;const _0x554976=document['getElementById']('generated-quiz-actions');_0x554976[_0x21e72d(0x343)]=_0x21e72d(0x446)+_0x46de9e+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x21e72d(0x536)](_0x21e72d(0x7f9))[_0x21e72d(0x2a3)](_0x21e72d(0x311),()=>copyTextToClipboard(_0x46de9e,'คัดลอกรหัสแล้ว!')),document[_0x21e72d(0x536)]('start-live-race-generated-btn')['addEventListener'](_0x21e72d(0x311),()=>handleStartLiveRace(_0x46de9e)),document[_0x21e72d(0x536)](_0x21e72d(0x85e))[_0x21e72d(0x2a3)](_0x21e72d(0x311),()=>startPresentation(currentQuizData)),document[_0x21e72d(0x536)]('admin-try-quiz-btn')['addEventListener'](_0x21e72d(0x311),startAdminTest),showMessage(_0x21e72d(0x451));}catch(_0x148acc){console[_0x21e72d(0x52f)]('Error\x20saving\x20quiz:',_0x148acc),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x2f48c6[_0x21e72d(0x315)]=![],_0x2f48c6[_0x21e72d(0x343)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x47f5a4=_0x527e23,_0x2176ec=document[_0x47f5a4(0x536)](_0x47f5a4(0x80a)),_0x551e08=document[_0x47f5a4(0x536)]('move-quiz-project-select'),_0x446bc1=_0x2176ec[_0x47f5a4(0x1ed)]('h3'),_0x459d00=document[_0x47f5a4(0x536)]('confirm-move-quiz-btn');_0x446bc1[_0x47f5a4(0x69f)]=_0x47f5a4(0x70e),_0x459d00[_0x47f5a4(0x69f)]=_0x47f5a4(0x481);allProjects[_0x47f5a4(0x334)]===0x0?(_0x551e08[_0x47f5a4(0x343)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x459d00[_0x47f5a4(0x315)]=!![]):(_0x551e08[_0x47f5a4(0x343)]=allProjects[_0x47f5a4(0x421)](_0x28b603=>'<option\x20value=\x22'+_0x28b603['id']+'\x22>'+_0x28b603[_0x47f5a4(0x3a2)]+_0x47f5a4(0x8de))[_0x47f5a4(0x55b)](''),_0x459d00[_0x47f5a4(0x315)]=![]);_0x2176ec[_0x47f5a4(0x932)][_0x47f5a4(0x89c)](_0x47f5a4(0x933));const _0x2c63fa=()=>{const _0x1245dd=_0x47f5a4,_0x1de011=_0x551e08[_0x1245dd(0x4bd)];_0x1de011?(currentProjectId=_0x1de011,_0x2176ec[_0x1245dd(0x932)]['add'](_0x1245dd(0x933)),saveQuiz(),_0x446bc1['textContent']=_0x1245dd(0x4c0),_0x459d00['textContent']=_0x1245dd(0x8a5),_0x459d00[_0x1245dd(0x5be)](_0x1245dd(0x311),_0x2c63fa),_0x459d00[_0x1245dd(0x2a3)](_0x1245dd(0x311),confirmMoveQuiz)):showMessage(_0x1245dd(0x7b3));};_0x459d00[_0x47f5a4(0x5be)](_0x47f5a4(0x311),confirmMoveQuiz),_0x459d00['addEventListener'](_0x47f5a4(0x311),_0x2c63fa);}function copyTextToClipboard(_0x5aaea9,_0x43bf9e){const _0x542d07=_0x527e23,_0x2852a1=document[_0x542d07(0x85f)](_0x542d07(0x350));_0x2852a1[_0x542d07(0x4bd)]=_0x5aaea9,_0x2852a1['style']['position']=_0x542d07(0x5c3),_0x2852a1['style']['opacity']='0',document['body']['appendChild'](_0x2852a1),_0x2852a1[_0x542d07(0x916)](),_0x2852a1[_0x542d07(0x603)]();try{const _0x15014e=document[_0x542d07(0x6e8)](_0x542d07(0x7a6));showMessage(_0x15014e?_0x43bf9e:_0x542d07(0x41f));}catch(_0x229eed){showMessage(_0x542d07(0x41f)),console[_0x542d07(0x52f)](_0x542d07(0x227),_0x229eed);}document[_0x542d07(0x294)][_0x542d07(0x840)](_0x2852a1);}function listenForProjectQuizzes(_0x59494f){const _0x2a36df=_0x527e23,_0x4e96c8=collection(db,'artifacts/'+appId+_0x2a36df(0x300)),_0x4fd2f1=query(_0x4e96c8,where(_0x2a36df(0x282),'==',_0x59494f));unsubscribeQuizzesListener=onSnapshot(_0x4fd2f1,async _0x232c73=>{const _0x185a8e=_0x2a36df;allQuizzes=_0x232c73[_0x185a8e(0x34b)][_0x185a8e(0x421)](_0x34a7e3=>({'id':_0x34a7e3['id'],..._0x34a7e3[_0x185a8e(0x3b3)]()})),renderQuizzes();},_0x150070=>{const _0x2bad20=_0x2a36df;console[_0x2bad20(0x52f)]('Error\x20fetching\x20project\x20quizzes:',_0x150070),document[_0x2bad20(0x536)](_0x2bad20(0x4fc))[_0x2bad20(0x343)]=_0x2bad20(0x6da);});}async function renderQuizzes(){const _0x414351=_0x527e23,_0x80d4ba=document[_0x414351(0x536)]('project-quizzes-list'),_0x2426bb=document[_0x414351(0x536)](_0x414351(0x35a))['value'][_0x414351(0x76f)]();let _0x56c226;currentProjectId==='starred'?_0x56c226=starredQuizzes:_0x56c226=allQuizzes;let _0x2c636a=_0x56c226['filter'](_0x412cf7=>_0x412cf7[_0x414351(0x652)][_0x414351(0x76f)]()[_0x414351(0x809)](_0x2426bb));_0x2c636a[_0x414351(0x34f)]((_0x5accf8,_0x22f177)=>new Date(_0x22f177['createdAt'])-new Date(_0x5accf8[_0x414351(0x7e2)]));if(_0x2c636a[_0x414351(0x334)]===0x0){_0x80d4ba[_0x414351(0x343)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x6f2d88={},_0x376ffa=_0x2c636a[_0x414351(0x421)](async _0x49d54e=>{const _0x3792fa=_0x414351,_0x3c0ee9=collection(db,_0x3792fa(0x51d)+appId+_0x3792fa(0x8ef)+_0x49d54e['id']+_0x3792fa(0x6a1)),_0x19cf59=await getDocs(_0x3c0ee9);_0x6f2d88[_0x49d54e['id']]=_0x19cf59[_0x3792fa(0x581)];});await Promise[_0x414351(0x3b0)](_0x376ffa);let _0x2ccebb='';_0x2c636a[_0x414351(0x5b6)](_0x1c1b23=>{const _0x21d546=_0x414351,_0x11c7e6=_0x6f2d88[_0x1c1b23['id']]||0x0,_0x597824=_0x1c1b23[_0x21d546(0x70c)]||_0x21d546(0x553),_0x26e02f=_0x1c1b23['settings']?.[_0x21d546(0x572)]||_0x21d546(0x607);let _0x521eb3='',_0x306a55='';const _0x1707d8=new Date();let _0x1b64c6=_0x597824;if(_0x597824==='scheduled'){const _0x54dc7a=_0x1c1b23[_0x21d546(0x35c)]?new Date(_0x1c1b23['startTime']):null,_0x109000=_0x1c1b23[_0x21d546(0x1bd)]?new Date(_0x1c1b23['endTime']):null;if(_0x109000&&_0x1707d8>_0x109000)_0x1b64c6='inactive';else _0x54dc7a&&_0x1707d8<_0x54dc7a?_0x1b64c6=_0x21d546(0x51b):_0x1b64c6='active';}switch(_0x1b64c6){case'inactive':_0x521eb3=_0x21d546(0x8ac),_0x306a55=_0x21d546(0x6f3);break;case _0x21d546(0x51b):_0x521eb3=_0x21d546(0x563),_0x306a55=_0x21d546(0x62a);break;case _0x21d546(0x553):_0x521eb3=_0x26e02f!==_0x21d546(0x607)?_0x21d546(0x3fc):_0x21d546(0x593),_0x306a55='text-green-700\x20bg-green-100';break;default:_0x521eb3=_0x21d546(0x549),_0x306a55=_0x21d546(0x8cb);break;}let _0x46511a='';const _0x312173={'day':_0x21d546(0x4fa),'month':_0x21d546(0x4fa),'year':_0x21d546(0x609),'hour':'2-digit','minute':_0x21d546(0x4fa),'hour12':![]};if(_0x597824===_0x21d546(0x344)){if(_0x1c1b23[_0x21d546(0x35c)])_0x46511a+=_0x21d546(0x325)+new Date(_0x1c1b23[_0x21d546(0x35c)])[_0x21d546(0x28d)](_0x21d546(0x8ca),_0x312173)+'</p>';if(_0x1c1b23[_0x21d546(0x1bd)])_0x46511a+=_0x21d546(0x3de)+new Date(_0x1c1b23[_0x21d546(0x1bd)])['toLocaleString'](_0x21d546(0x8ca),_0x312173)+_0x21d546(0x7d5);}let _0x582dcc='';if(_0x1c1b23[_0x21d546(0x83b)]){const _0x32b2c9=allQuizzes[_0x21d546(0x389)](_0x4fba74=>_0x4fba74['id']===_0x1c1b23[_0x21d546(0x83b)]);if(_0x32b2c9){let _0x1697ce,_0x3206a0;new Date(_0x1c1b23[_0x21d546(0x7e2)])<new Date(_0x32b2c9['createdAt'])?(_0x1697ce=_0x1c1b23['id'],_0x3206a0=_0x32b2c9['id']):(_0x1697ce=_0x32b2c9['id'],_0x3206a0=_0x1c1b23['id']),_0x582dcc+=_0x21d546(0x1c7)+_0x3206a0+'\x22\x20data-pre-test-id=\x22'+_0x1697ce+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x1c1b23[_0x21d546(0x718)]===_0x21d546(0x8ec)&&(_0x582dcc+=_0x21d546(0x6a9)+_0x1c1b23['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x1c1b23[_0x21d546(0x718)]===_0x21d546(0x8ec)&&_0x11c7e6>0x0)_0x582dcc+=_0x21d546(0x6a9)+_0x1c1b23['id']+_0x21d546(0x44f);else!_0x1c1b23[_0x21d546(0x83b)]&&_0x1c1b23[_0x21d546(0x718)]!==_0x21d546(0x8ec)&&_0x11c7e6>0x0&&(_0x582dcc+=_0x21d546(0x6a9)+_0x1c1b23['id']+_0x21d546(0x44c));let _0x5f219e='';_0x1c1b23[_0x21d546(0x83b)]?_0x5f219e=_0x21d546(0x551)+_0x1c1b23['id']+_0x21d546(0x4ec):_0x5f219e='<button\x20data-quiz-id=\x22'+_0x1c1b23['id']+_0x21d546(0x41d),_0x2ccebb+=_0x21d546(0x769)+_0x1c1b23['id']+_0x21d546(0x52a)+_0x1c1b23['topic']+_0x21d546(0x66a)+_0x1c1b23[_0x21d546(0x7cf)][_0x21d546(0x334)]+_0x21d546(0x816)+new Date(_0x1c1b23['createdAt'])[_0x21d546(0x28d)](_0x21d546(0x8ca))+_0x21d546(0x5ce)+_0x11c7e6+_0x21d546(0x316)+_0x46511a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x306a55+'\x22>'+_0x521eb3+_0x21d546(0x828)+_0x1c1b23['id']+_0x21d546(0x7e7)+_0x1c1b23['id']+_0x21d546(0x65c)+(_0x1c1b23[_0x21d546(0x4a1)]?'fas\x20fa-star\x20text-yellow-500':_0x21d546(0x6c2))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x582dcc+_0x21d546(0x340)+_0x1c1b23['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x1c1b23['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1c1b23['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1c1b23['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1c1b23['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1c1b23['id']+_0x21d546(0x678)+_0x1c1b23['id']+'\x22\x20data-topic=\x22'+_0x1c1b23['topic']+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1c1b23['id']+_0x21d546(0x8b4)+_0x1c1b23['id']+_0x21d546(0x317)+_0x5f219e+_0x21d546(0x78c)+_0x1c1b23['id']+_0x21d546(0x82d)+_0x1c1b23['id']+_0x21d546(0x770)+_0x1c1b23['id']+_0x21d546(0x710)+_0x1c1b23['id']+_0x21d546(0x4e4)+_0x1c1b23['id']+'\x22\x20data-topic=\x22'+_0x1c1b23[_0x21d546(0x652)]+_0x21d546(0x765);}),_0x80d4ba['innerHTML']=_0x2ccebb,document[_0x414351(0x7d8)]('.quiz-result-card')[_0x414351(0x5b6)](_0x1d6fff=>{const _0x5eee7f=_0x414351;_0x1d6fff[_0x5eee7f(0x2a3)](_0x5eee7f(0x311),()=>{const _0x20c362=_0x5eee7f,_0x5088e2=_0x1d6fff[_0x20c362(0x424)][_0x20c362(0x22a)];showQuizDetailView(_0x5088e2);});});}async function handleUnpairQuiz(_0x239f2e){const _0x3ba32e=_0x527e23,_0x4b873a=allQuizzes[_0x3ba32e(0x389)](_0x536779=>_0x536779['id']===_0x239f2e);if(!_0x4b873a||!_0x4b873a['pairedQuizId']){showMessage(_0x3ba32e(0x4eb));return;}showConfirmation(_0x3ba32e(0x1ac),async()=>{const _0x497373=_0x3ba32e;try{const _0x419750=doc(db,_0x497373(0x51d)+appId+_0x497373(0x300),_0x239f2e),_0xb74ab=doc(db,_0x497373(0x51d)+appId+_0x497373(0x300),_0x4b873a[_0x497373(0x83b)]),_0x54c093=writeBatch(db);_0x54c093[_0x497373(0x548)](_0x419750,{'pairedQuizId':null}),_0x54c093['update'](_0xb74ab,{'pairedQuizId':null}),await _0x54c093[_0x497373(0x618)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x5419ba){console['error'](_0x497373(0x1cc),_0x5419ba),showMessage(_0x497373(0x6bd));}});}function _0x5173(){const _0x3715b1=['<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','message-modal','mixed','</option>','28etllCj','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','mjx-container','toISOString','<span\x20class=\x22font-bold\x20','log','กรุณาป้อนหัวข้อสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','pre-test','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','/public/data/quizzes/','.toggle-actions-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','input[name=\x22drill_answer\x22]:checked','$1\x5ctimes','save-settings-btn','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','.option-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-create-project-btn','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','ก่อนเรียน','filter','behaviorLog','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ร้อยละพื้นฐาน','analytics-tab-content','upperGroupNames','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','พบข้อสอบ\x20','approx','editable-text-','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cle','scores-tab-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','content','generated-quiz-container','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','target','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','มัธยฐาน','NUMBER','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-submit-short-answer-btn','default','scores','blueprint-tab','เกิดข้อผิดพลาด:\x20','projectSort','now','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','modal-shuffle-select','math-topic-search-input','upper_group_count','\x5cfrac{','max','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','rename-quiz-input','424705ClZrex','คะแนน','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','#math-topics-checkbox-container\x20input:checked','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-project-modal','export-leaderboard-image-btn','export-excel-btn','classList','hidden','quiz-settings-modal','generate-from-parallel-test-btn','touchstart','players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','text-content-input','players.','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-project-select','Original\x20quiz\x20not\x20found','จำนวนนักเรียน','settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','math-topics-checkbox-container','asc','shuffle','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','href','localeCompare','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','text-yellow-300','create-from-bank-btn','(หลังเรียน)\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','visibilitychange','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#FFFFFF','#per-question-options\x20textarea','endTime','q-text-','ไม่สามารถสร้างโปรเจคได้','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','กำลังสร้างแบบทดสอบคู่ขนาน...','Error\x20updating\x20sort\x20preference:','normal','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-presentation-list-btn','\x20คู่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','สมการค่าสัมบูรณ์','text/csv;charset=utf-8;','text-gray-300\x20hover:text-white','Error\x20unpairing\x20quizzes:','getAttributeNS','กำลังจับคู่...','border-green-300\x20bg-green-50','student-passcode-input','ARRAY','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','BOOLEAN','กฎของไซน์','student-list','authed_project_','comparison-individual-tab','raw','ลบโปรเจคสำเร็จแล้ว','quiz-form','revealed','Error\x20updating\x20old\x20quizzes:','questionId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','```','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','students','#FEF3C7','(คัดลอก)\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','live-short-answer-input','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','startsWith','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','แก้ระบบสมการด้วยเมทริกซ์','528KFlYan','เรขาคณิตวิเคราะห์','querySelector','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ราชาคัมแบ็ก','1:274192258111:web:4120c9118229b5644dd48a','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','offsetWidth','visibilityState','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fa-pen','submission-status-chart','stringify','/public/data/liveGames','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','Remedial\x20quiz\x20generation\x20failed:','comparison-overall-tab','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','arrayBuffer','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','[data-is-correct=\x22true\x22]','practiceProblems','split','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select-all-topics-btn','qType','currentTarget','บันทึกคำถามใหม่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','อัตราส่วนและสัดส่วน','N/A','bg-emerald-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','currentQuestionIndex','solution','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','ตรวจคะแนนใหม่\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','practice-topic-btn','delete','projectSortOrder','input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','จับคู่เพื่อเปรียบเทียบผล','live-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Copy\x20command\x20failed','cancel-delete-btn','ข้อ\x20','quizId','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','dataIndex','text-green-900','ai-quiz-generator-v3','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.regenerate-question-editor-btn','#F3E8FF','<tr\x20class=\x22','Error\x20saving\x20questions\x20to\x20practice\x20bank:','ดอทโปรดักต์\x20(dot)','การลบทศนิยม','leaderboard-quiz-tab-content','presentation-slide-container','prev-question-btn','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','<div\x20class=\x22my-6\x22>','options','analytics-tab-btn','student-name-select','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','text-tab','#F59E0B','การแปลงรูปอัตลักษณ์','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','Error\x20saving\x20visibility\x20settings:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-quiz-topic','ไม่สามารถเริ่มเกมได้','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x20mx-1\x20text-lg\x22></i></span>','เกี่ยวกับหัวข้อ\x20\x22','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','classWeaknesses','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','worksheet-topic-input','per-question-text','student-project-leaderboard-content','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','<div\x20class=\x22loader\x20mx-auto\x22></div>','thead\x20.sortable-header','หมดเวลาสำหรับข้อนี้!','\x22\x20class=\x22delete-project-btn\x20','answeredCurrentQuestion','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','/studentProfiles','\x22\x20name=\x22question','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','overline','generate-from-blueprint-btn','\x22.\x20Ideal\x20Answer:\x20\x22','answers','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','ดูสรุปผล','4581528DkxRBa','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','_blank','สามเหลี่ยม\x20(ชนิด/สมบัติ)','table','ฐานนิยม','results-tab','results-tab-content','has','POST','start-game-btn','บันทึกการแก้ไข','dragstart','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','สมมาตร\x20(แกน/จุด)','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x20รายการสำเร็จ!','\x22,\x20','ring-2','jspdf','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ring-purple-400','behavior-log-tab-content','ดอกเบี้ยอย่างง่าย','confirm-quiz-settings-btn','uid','bg-green-500','projectId','lower_group_count','ทำคะแนนเต็มในการทำครั้งแรก','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','insertAdjacentHTML',')\x5cb)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20game:','การบวกเศษส่วน','\x22\x20value=\x22false\x22\x20','ไม่พบแบบทดสอบในระบบเลย','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','Invalid\x20response\x20structure\x20from\x20AI:','หน่วยเวลาและการคำนวณเวลา','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','body','บันทึกการตั้งค่าการแสดงผลสำเร็จ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','มุมและการวัดมุม','json','ศูนย์','question','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','latestSubmittedAt','.admin-try-quiz-list-btn','text-white','text-gray-100','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','originalTopic','addEventListener','deselect-all-topics-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trim','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','generate-worksheet-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','<li>','.answeredCurrentQuestion','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','justification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','verify-answers-btn','กรุณาเลือกชื่อของคุณ','.unpair-quiz-btn','พื้นที่ใต้กราฟ/ระหว่างกราฟ','modal-loop-until-pass-checkbox','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','export-pdf-modal','next-drill-btn','quiz-results-table-body','ระยะทางและจุดกึ่งกลาง','ความน่าจะเป็นแบบมีเงื่อนไข','student-name-input','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','mousedown','):\x20กรุณาอย่าสลับหน้าจอหรือออกจากแอปพลิเคชันระหว่างทำแบบทดสอบ','Enter','ไม่พบแบบทดสอบ','close-presentation-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','export-leaderboard-excel-btn','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเสื่อมราคา','leaderboard-table-body','button[data-id]','[contenteditable=\x22true\x22]','\x22\x20value=\x22true\x22\x20','rows','close-lesson-plan-modal-footer-btn','hint-btn','bg-amber-100\x20text-amber-800','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','\x5cpm','student-initial-view','/public/data/customMathTopics','shuffle-setting-select','ลำดับเลขคณิต\x20(AP)','line-through\x20text-red-700','comparison-individual-content','rename-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contentEditable','custom-math-topic-input','preScore','standardTopic','true','thead','ห.ร.ม.\x20(GCD)','โดเมนและเรนจ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','back-to-student-initial-btn','การแยกตัวประกอบ','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','ไม่ผ่าน','files','questions_only','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','กำลังสร้างคำถามข้อ\x20','cancel-create-project-btn','whole_quiz','ไม่พบโปรเจค','#per-question-options\x20select','fa-fire\x20text-orange-500','lessonPlan','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','repeat','<textarea\x20name=\x22question','project-id-display','smooth','toDataURL','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','mean','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','editor-quiz-topic','การประยุกต์เวกเตอร์พื้นฐาน','/public/data/quizzes','msRequestFullscreen','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','add-student-btn','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lobby','questionType','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','ปริมาตร/ความจุและการแปลง','ฟังก์ชันราก\x20(root)','matching_item','Error\x20saving\x20submission:','bg-green-200\x20text-green-800','confirm-delete-btn','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','click','project-detail-view','แก้ไขหัวข้อสำเร็จ','(คู่ขนาน)\x20','disabled','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','เกิดข้อผิดพลาดในการสร้างใบงาน','แผนภาพเวนน์','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','ref','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','start-quiz-btn','_opt1\x22\x20name=\x22question','<p\x20class=\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','.pair-quiz-btn','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','download','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','rgba(16,\x20185,\x20129,\x200.7)','</strong></p>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','สร้างคำถามแบบเติมคำในช่องว่าง','setFont','.edit-question-btn','bank-input-area','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','ไม่สามารถเพิ่มนักเรียนได้','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','length','border-indigo-400\x20ring-2\x20ring-indigo-200','เกิดข้อผิดพลาดในการปักหมุด','change','answerText','Error\x20verifying\x20answers\x20in\x20editor:','admin-dashboard','.delete-submission-btn','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','.question-editor-item','.topic-name-input','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','2027916mrfizN','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','innerHTML','scheduled','perseverance','Failed\x20to\x20get\x20standardized\x20topic:','<br>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','mousemove','abs','docs','message','project-dashboard-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','sort','textarea','/users/','originalQuestionText','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','เงินงวด\x20(อนุกรมเงินงวด)','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','confirm-passcode-btn','การนับ','text-red-900','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quiz-search-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','startTime','fullscreenchange','ผ่าน','จัดการ','.\x20แต่ละข้อมี\x20','confirm-move-quiz-btn','interesting-stats-container','\x20mr-2\x22></i>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','values','student-progress-content','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','สร้างคำถามใหม่\x201\x20ข้อ\x20','classStrengths','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','การบวก','.save-to-bank-btn','Error\x20loading\x20quiz\x20for\x20student:','คณิตศาสตร์','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดรายการโปรเจคได้','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','AI\x20request\x20was\x20blocked.\x20Reason:\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','correctAnswerIndex','/public/data/projects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cos','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','ค่าความจริง/ตารางค่าความจริง','.project-card-content','modal-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22','back-to-dashboard-from-results-btn','hint','.badges','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20quiz:','find','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','include-images-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','stdDev','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','ON_FIRE','Error\x20resetting\x20project\x20order:','comparison-modal','nickname-input','อัตราและอัตราหน่วย','เกิดข้อผิดพลาดในการโหลดโปรเจค','parts','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดผู้ควบคุม','imageCode','test','เกิดข้อผิดพลาดในการลบนักเรียน','การปัดเศษและประมาณค่า','.generate-post-test-btn','ชื่อหัวข้อห้ามว่าง','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','projectName','stopPropagation','.pdf','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','text-gray-200','Error\x20adding\x20custom\x20topic:','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','</tbody></table>','.quiz-bank-parallel-btn','การบวกทศนิยม','analyze-strengths-btn','innerText','ไม่สามารถโหลดข้อมูลอันดับได้','เกิดข้อผิดพลาดในการอัปเดต:\x20','all','webkitRequestFullscreen','border-green-700','data','การคูณทศนิยม','floor','touchend','</div>','<div\x20class=\x22mb-3\x20topic-category\x22>','promptFeedback','ยืนยันการจับคู่','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','input[type=\x22text\x22]','</p></div>','อนุพันธ์:\x20กฎลูกโซ่','อนุพันธ์:\x20กฎพื้นฐาน','short','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','พิสัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','เกมสิ้นสุดลงแล้ว','desc','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','เกิดข้อผิดพลาดในการลบผลสอบ','AI\x20grading\x20failed:','จำนวนเต็มบวก','$1_{$2}','border-4','ไม่มีคำอธิบาย','<div\x20class=\x22flex-1\x22></div>','underline','</li>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','การแจกแจงทวินาม\x20(พื้นฐาน)','สร้างแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','verify-answers-editor-btn','\x22\x20data-q-type=\x22','mouseleave','prod','project-list','bg-red-100\x20text-red-800','อสมการเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','createObjectURL','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x20name=\x22question_single\x22\x20value=\x22','global-live-game-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','bg-red-100','ai-quiz-app-aefee','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.verification-result','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบใช่/ไม่ใช่','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','quiz-results-view','ความชันและเส้นตรง','perfect_score','auto','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','questionIndex','bg-gray-50','btn','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bar','เปิด\x20(จับเวลา)','modal-close-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','quiz-results','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','project-search-input','ตรวจทานเฉลยเสร็จสิ้น!','move-quiz-project-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20parallel\x20test\x20from\x20bank:','button','candidates','getTextContent','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','คัดลอกรหัสแล้ว!','left','สมการตรีโกณมิติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#D1FAE5','correctResponse','topic-input','bg-white/30','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','#view-rankings-btn','ความเท่ากันทุกประการของสามเหลี่ยม','#E0E7FF','type','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','baseVal','คัดลอกไม่สำเร็จ','setItem','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-game-final-btn','dataset','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','matching','วงกลม:\x20คอร์ดและเส้นสัมผัส','ความแปรปรวน','.delete-project-btn','PERSEVERANCE','pow','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<div\x20class=\x22answer-space\x22></div>','false','student-rankings-modal','Authentication\x20failed:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','Error\x20generating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','generate-from-text-btn','FIRST_TRY_ACE','category','questionStatus','Error\x20updating\x20quiz\x20settings:','อัปเดตสถานะสำเร็จ','Failed\x20to\x20parse\x20JSON\x20from\x20AI','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','save-quiz-edits-btn','.doc','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','จำนวนคู่:','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','กำลังสร้างรูปภาพ...','):\x20กรุณาอย่าออกจากโหมดเต็มหน้าจอระหว่างทำแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','cancel-quiz-settings-btn','input','.delete-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','passcode-input-container','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-results-display-select','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax','บันทึกแบบทดสอบสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','choices_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x20\x20\x20-\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-red-600','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x5cfrac','\x20ครั้ง)</span></td>','quiz-editor-modal','Error\x20displaying\x20question\x20bank:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','multiple_choice','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','comparison','bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','back-from-results-btn','latestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','modal-timer-duration-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','upperGroupResponders','ตอบถูกทุกข้อในแบบทดสอบนี้','student-project-leaderboard-tab','admin-view','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-input','อัตราการเปลี่ยนแปลงทันที','กฎของโคไซน์','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','เลือกและบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div','toLocaleDateString','text-blue-700','onchange','การจัดหมู่\x20(Combination)','export-word-btn','.group','ไม่ได้ตอบ','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','hasOwnProperty','#ffffff','presentation-short-answer-input','presentation-explanation','student','timerDuration','.edit-custom-topic-btn','<tr>','วงกลม:\x20สมการและสมบัติ','.export-pdf-list-btn','presentation-ai-result','รูปสแควร์รูท\x20(surd)','คำตอบถูกต้อง!\x20+','font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name_asc','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ความคาดหมาย\x20(Expected\x20value)','back-to-student-home-btn','view-my-progress-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','isStarred','ai-quiz-app-aefee.firebaseapp.com','Error\x20during\x20class\x20analysis:','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','div[data-question-index=\x22','s;\x22\x20title=\x22','ฟังก์ชันลอการิทึม','<div\x20class=\x22','katex','บันทึกการตั้งค่าแล้ว','badgesCount','link-topic-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','project-detail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','confirmation-modal','num-choices','projectOrder','bg-purple-50','tfrac','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','match','actions-container-','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','times','value','$1\x5ctext{','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ย้ายแบบทดสอบไปโปรเจคอื่น','touches','create-project-btn','loader-text','per-question-options','rgba(79,\x2070,\x20229,\x200.8)','touchcancel','สร้างใหม่','write','.verification-result-editor','</span></p>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','targetId','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','manual_release','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','podium','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','.color-palette-popup','dragover','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','both','bg-green-50','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','right','then','ตรีโกณมิติ','การสร้างรูปด้วยวงเวียน–สันตรง','rgba(79,\x2070,\x20229,\x201)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','getScreenCTM','แบบทดสอบ:\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','manage','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','ความคล้ายของรูป','ไม่พบข้อมูลการจับคู่','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','leaderboard','submissions','MathJax\x20typeset\x20error\x20(analytics):','toggle','student-view','</td>','สถิติและความน่าจะเป็น','isRemedial','border-gray-200','.presentation-option','documentElement','retake-quiz-loop-btn','application/json','2-digit','\x20จาก\x20','project-quizzes-list','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','Error\x20moving\x20quiz:','</label>\x0a\x20\x20\x20\x20</div>\x0a','ผู้ไม่ยอมแพ้','postTScore','on_fire','เรขาคณิต','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','admin-password-input','force-math-checkbox','stem','close-lesson-plan-modal-btn','.start-live-race-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','afterend','admin','bg-yellow-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','modal-timer-duration-container','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','export-lesson-pdf-btn','\x20pointer-events-none\x22>','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','scheduled_pending','timer-duration-label','artifacts/','strength-weakness-analysis-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#student-quiz-leaderboard-content\x20thead','date_desc','confirm-join-game-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','block','.parallel-quiz-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','difficulty-level-select','link-input-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','องค์ประกอบของฟังก์ชัน','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','error','flex\x20flex-col\x20gap-2','text-input-area','text','neq','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','totalQuestions','getElementById','Error\x20listening\x20for\x20starred\x20quizzes:','text-green-600','live-game-view','#FCE7F3','getPage','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','leaderboard_','\x5cs*\x5c(','confirm-admin-login-btn','sqrt','input[type=\x22radio\x22]:checked','ความต่อเนื่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','first_try_ace','_opt1\x22>ไม่ใช่</label></div>','ระยะจากจุดถึงเส้นตรง','update','ตั้งเวลา\x20(เปิด)','passing-score-input','helvetica','27411472','ลำดับเรขาคณิต\x20(GP)','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','binom','quiz-start-time','<button\x20data-quiz-id=\x22','undefined','active','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','การยืนยันตัวตนล้มเหลว','parent','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','cancel-rename-quiz-btn','join','Error\x20opening\x20quiz\x20editor:','^{\x5ccirc}\x5ctext{C}$','แบบทดสอบจากคลังส่วนตัว','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','Error\x20listening\x20for\x20student\x20profiles:','autoTable','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','รอเปิด','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','1753505lUfBuo','reveal-answer-btn','พีชคณิตและฟังก์ชัน','ค่าสัมบูรณ์','\x22\x20class=\x22pin-project-btn\x20','min','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','entries','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move','check-presentation-answer-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','tGain','timerMode','เส้นตรง:\x20รูปแบบสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','flex','catch','แคลคูลัสเบื้องต้น','export-worksheet-pdf-btn','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','size','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','student-quiz-leaderboard-table-body','ปรับเพิ่ม/ลดเป็นร้อยละ','\x20หัวข้อ)','specialist','back-to-project-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<div\x20class=\x22space-y-4\x22>','student-quiz-leaderboard-tab','results-table','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','submission','schedule','fa-user-astronaut\x20text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','กรุณาเลือกคำตอบก่อนครับ','เปิดใช้งาน','sin','สัญกรณ์วิทยาศาสตร์','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','timestamp','warn','className','frac','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','ใช่','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','resultsDisplay','\x5cfrac{$1}{$2}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','gamePin','Error\x20verifying\x20answers:','ยังไม่มีนักเรียนส่งงาน','#results-table','per-question-timer-container','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','index','ดอกเบี้ยทบต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','drill-feedback','quick_thinker','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','Error\x20saving\x20user\x20preference:','.duplicate-quiz-btn','ข้อที่\x20','forEach','behavior-log-tab-btn','short_answer','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','post-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','comparison-overall-content','[role=\x22textbox\x22]','removeEventListener','fill_in_with_choices','สลับไปโหมดนักเรียน','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixed','color','project-passcode-input','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-live-question-btn','passingScore','.topic-row','ลิมิต','คำตอบผิด','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','quiz-leaderboard-table-body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','</p><div>','document','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results','\x5ctimes','\x22\x5cn','enable-passcode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','</h3>','student-reading-area','admin-testing','ตารางความถี่','answer','mode-switcher-btn','.lastAnswerCorrect','<li\x20class=\x22','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','จากเนื้อหาต่อไปนี้:\x20\x22','score-distribution-chart','การวัด','add-custom-math-topic-btn','text-gray-500','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','API\x20call\x20failed\x20with\x20status:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn','การลบเศษส่วน','result','doughnut','temp-loader-results','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การหารทศนิยม','quiz-generation-area','perQuestionStats','appendChild','cancel-export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correct','text-red-700','.project-card-container.opacity-50','touchmove','.color-palette-btn','กำลังอัปเดตแบบทดสอบ\x20','deg','จำนวนและการดำเนินการ','tan','select','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','numeric','\x5cdiv','</span>','การคูณเศษส่วน','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','<div\x20id=\x22q-image-container-','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','back-to-home-manual-release','.regenerate-question-btn','isCorrect','padStart','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','viewBox','commit','API\x20call\x20failed','instructions','behavior-log','<p><strong>คำตอบที่แนะนำ:</strong>\x20','จำนวนเชิงซ้อน\x20(เสริม)','results_','คณิตการเงิน/บูรณาการ','Error\x20saving\x20to\x20question\x20bank:','save','อนุพันธ์:\x20ผลคูณ/ผลหาร','keys','quiz-bank-modal','ฟังก์ชันกำลังสองและกราฟ','msExitFullscreen','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันเชิงเส้นและกราฟ','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-blue-700\x20bg-blue-100','STRING','quizType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','เกิดข้อผิดพลาดในการบันทึกลำดับ','.correctStreak','earned-badges-container','GlobalWorkerOptions','contents','interesting-stats-wrapper','\x22...','.star-quiz-btn','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','shuffleSetting','การแจกแจงปกติและ\x20z-score','quiz-id-input','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20projects\x20for\x20move:','\x5ctext{$1}','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','[*]','</span></td>','getBoundingClientRect','\x20ชุด)','คะแนนเต็ม','destroy','close-comparison-modal-btn','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','<p><strong>คำตอบของคุณ:</strong>\x20','topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','string','\x22><i\x20class=\x22fas\x20','name_desc','_opt0\x22>ใช่</label></div>','link-url-input','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','.ql-editor','lesson-plan-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','function','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้ปิดใช้งานอยู่','จำนวนคละ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','คำเตือน\x20(','fa-crown\x20text-yellow-500','ส่งคำตอบ','สมการยกกำลัง','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','red','onerror','\x5cge','per_question','อุณหภูมิและการแปลง','bank-quiz-search-input','parse','Invalid\x20response\x20structure\x20from\x20AI.','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','num-questions','readAsDataURL','.draggable-text','.delete-svg-btn','\x5ccdot','Failed\x20to\x20get\x20hint:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','สำหรับโปรเจค:\x20','font-bold\x20text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','</span></div>','gain','confirmation-message','964562GPgAKu','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','timer-duration-container','กรุณาใส่ชื่อใหม่','geq','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','grid-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','per-q-countdown','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','เกิดข้อผิดพลาดในการเปลี่ยนสี','correctStreak','แบบทดสอบนี้หมดเวลาแล้ว','ปริมาตรรูปทรงสามมิติ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grid','leaderboard-quiz-tab-btn','findIndex','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','เกิดข้อผิดพลาดในการลบหัวข้อ','textContent','loopUntilPass','/submissions','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','save-visibility-settings-btn','total','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','font-bold\x20text-red-700\x20line-through','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','ไฮเพอร์โบลา','\x20รายการ...','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','getDocument','.project-card-container[data-id]','cancel-quiz-edits-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','setAttributeNS','ส่งแล้ว','.quiz-settings-btn','Error\x20duplicating\x20quiz:','comparison-chart','Error\x20listening\x20for\x20projects:','สมการราก\x20(radical)','save-quiz-btn','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','getContext','เวกเตอร์และเมทริกซ์\x20(เสริม)','results-table-container','global-quiz-list','far\x20fa-star','next-question-btn','Error\x20toggling\x20pin\x20status:','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','.project-card-container:not(.opacity-50)','workerSrc','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','quiz-end-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(วินาที):','generate-from-link-btn','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>','list-view-btn','isPinned','ไม่พบข้อมูลแบบทดสอบ','cursor','toFixed','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','teachingContent','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','.topic-actions-view','.topic-name-display','height','fill_in_no_choices','\x22\x20value=\x22','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','substring','fromCharCode','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','execCommand','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ค่าเฉลี่ย','\x20สำเร็จ','global-live-game-modal','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','พอใช้','ฟังก์ชันพหุนาม','quiz-editor-questions-container','showInStudentDashboard','text-red-700\x20bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','</tbody></table></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','behavior-log-container','เกิดข้อผิดพลาดในการอัปเดตสถานะ','กำลังสแกนหาแบบทดสอบเก่า...','suggestedAnswer','dashboardConfig','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','topic-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','removeAttribute','แผนการสอน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','export-image-btn','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','กรุณาเลือกไฟล์ก่อน','join-live-game-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-upload-input','status','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','เลือกโปรเจคเพื่อบันทึก','student-name-selection-view','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','print','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Firebase\x20initialization\x20failed:','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','quizMode','lesson-plan-title','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.topic-actions-edit','ความเป็นอิสระของเหตุการณ์','\x5c\x5c\x5c\x5c(?=(','<div><input\x20type=\x22radio\x22\x20id=\x22q','.correct-response-input','ยังไม่ส่ง','/preferences/main','teacherSuggestions','passcode','มุมพิเศษ\x2030°-60°-90°','lesson-plan-content','generate-from-file-btn','input[name=\x22question_single\x22]:checked','\x20คนที่ส่ง\x20ตอบถูก\x20(','user','attempts','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionDisplayedAt','title','replace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','#10B981','บันทึกการตั้งค่าสำเร็จ','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','clientX','สร้างชุดคำถามจับคู่','Error\x20rendering\x20student\x20progress:','จากไฟล์ที่แนบมานี้,\x20','\x20/\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','show_pass_fail_only','วงรี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','แก้ไขข้อนี้','ผู้เชี่ยวชาญ','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','countdown-display','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','timer-mode-select','bg-green-300','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','student-quiz-area','leaderboard-quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','cloneNode','(ไม่มีชื่อ)','Error\x20updating\x20quiz\x20status:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มี',',\x20r=','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','อินเวอร์สของเมทริกซ์','close-comparison-modal-footer-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','-tab-content','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','open','standard','display','#E5E7EB','แบบเติมคำตอบ','(ก่อนเรียน)','cancel-admin-login-btn','text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','สมการเหตุผล\x20(rational)','ตัวแปรและนิพจน์','ownerSVGElement','PERFECT_SCORE','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','QUICK_THINKER','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reduce','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','รีเซ็ตลำดับโปรเจคแล้ว','fa-shield-alt\x20text-gray-600','scores-tab-content','file-upload-input','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','toLowerCase','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กราฟฟังก์ชันตรีโกณ','getBBox','cancel-move-quiz-btn','empty','Error\x20updating\x20custom\x20topic:','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','student-progress-view','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','setAttribute','$1\x20\x5cfrac','analytics-summary-cards','Error\x20renaming\x20quiz:','auto-fix-latex-btn','<option\x20value=\x22','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','projectView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนเบี่ยงเบนมาตรฐาน','text-indigo-700','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','back-to-results-btn','medium','slide-counter','แบบทดสอบที่ติดดาว','end-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','drop','globalSettings','analytics','ที่พิมพ์ได้\x20จำนวน\x20','เส้นจำนวน','live-game','toString','รูปแบบการให้เหตุผล','เรเดียนและการแปลงหน่วย','Error\x20listening\x20for\x20custom\x20math\x20topics:','exited_fullscreen','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','dispatchEvent','Error\x20joining\x20live\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','overallGroups','</div><div\x20class=\x22space-y-2\x22>','true_false','confirm-rename-quiz-btn','project-title','question-complexity-select','\x22>จาก:\x20','slice','close-student-rankings-btn','copy','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x5cneq','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/questionBank','http://www.w3.org/2000/svg','confirm-global-live-btn','<p>','totalPoints','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','show_results_and_answers','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','กรุณาเลือกโปรเจคที่ต้องการบันทึก','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','รากที่สองและที่สาม','\x20ตัวเลือก.\x20','pinnedProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','toDate','รูปหลายเหลี่ยมและมุมภายใน','Error\x20saving\x20project\x20order:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scrollY','password-error-msg','hover:bg-indigo-100','requestFullscreen','button[type=\x22submit\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','link-tab','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','typesetPromise','142794UZyxNg','ผู้ควบคุม\x20(ทดสอบ)','questions','fullscreenElement','input[name=\x22status-option\x22]','image/png','quiz-type-select','สอบปกติ','</p>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','show_results_only','querySelectorAll','fill','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','พื้นที่สามเหลี่ยม','text-indigo-600','reference-pdf-upload','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','check-answer-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','studentName','createdAt','OBJECT','<span\x20class=\x22sort-indicator\x20ml-2\x22>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','exitFullscreen','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','ฮิสโตแกรม','Error\x20deleting\x20project:','Error\x20deleting\x20all\x20students:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','editable-quiz-topic','/public/data/practiceBank','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','student-join-game-view','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','</form>','sum','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','inactive','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','td,\x20th','from','copy-quiz-id-btn','</td></tr>','\x20สำเร็จ:\x20','questionText','data:application/vnd.ms-word;charset=utf-8,','การคูณ','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','.rename-quiz-btn','ฟังก์ชันยกกำลัง','parallel-test-upload-input','\x0a---\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','-\x20ข้อ\x20','file-tab','.project-card-container','includes','move-quiz-modal','แบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ยอดเยี่ยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ดีมาก','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','เกิดข้อผิดพลาดในการบันทึก','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','close','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','Error\x20saving\x20settings:','learningGaps','allResponses','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','.pin-project-btn','isAdaptive','selected-topics-count','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','Error\x20fetching\x20student\x20rankings:','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','correctAnswer','key','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','หน่วยความยาวและการแปลง','quiz','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คำถามดิบ:\x20\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','.edit-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','round','.csv','\x20ข้อ\x20','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','กรุณาเลือกสถานะ','get','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','ฟังก์ชันค่าสัมบูรณ์','export-leaderboard-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','%</span>','pairedQuizId','results-quiz-id-display','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','project-name-input','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','removeChild','<div\x20class=\x22my-2\x22>','confirm-quiz-status-btn','\x22\x20ให้เป็นคำถามประเภท\x20\x22','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','num-choices-container','เซียนสมองไว','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','offset','เส้นตรง:\x20ขนาน/ตั้งฉาก','postScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','backgroundColor','beforeend','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','icon','explanation','modal-adaptive-quiz-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สรุปผลการวิเคราะห์:\x5cn','onclick','loop-until-pass-checkbox','):\x20','</body></html>','points','passcode-error-msg','สร้างโปรเจคสำเร็จ!','start-presentation-btn','createElement','<h1></h1>','topic-input-area','text-green-700','<p\x20class=\x22font-bold\x20text-sm\x20','ส่วนเบี่ยงเบนเฉลี่ย','text-red-300\x20hover:text-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','bg-red-50','results-display-select','opacity-50','export-leaderboard-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientY','lowerGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.pointsLastQuestion','ลบผลสอบของ\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','หมดเวลา!\x20กำลังส่งคำตอบ...','[data-topic-container-id]','project-sort-select','modal-passing-score-input','quiz-schedule-start-container','back-to-dashboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','quiz-leaderboard-table','แผนการสอน:\x20','สร้างแบบทดสอบปรนัย','$1^{\x5ccirc}\x5ctext{C}','.question-editor-item[data-q-index=\x22','อสมการค่าสัมบูรณ์','closest','bestScore','svg','name','createElementNS','timer-container','label[for=\x22num-questions\x22]','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x20\x20\x20-\x20คำตอบ:\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20status:','จับคู่แบบทดสอบสำเร็จ!','mouseup','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่านฉลุย','ข้อต่อไป','ควรปรับปรุง','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','กฎบวกและกฎคูณ','bg-green-100\x20font-bold','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','loader','admin-action-buttons','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','label','isArray','remove','\x22><p\x20class=\x22font-semibold\x22>','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','.ideal-answer-input','fa-bolt\x20text-blue-500','การจัดกลุ่มข้อมูล','onload','quiz-bank-count','ย้าย','Error\x20updating\x20project\x20color:','cancel-quiz-status-btn','generate-from-topic-btn','cancel-passcode-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','ปิดใช้งาน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</p><p><strong>เฉลย:</strong>\x20','border-green-500','cancel-test-btn','Error\x20generating\x20parallel\x20post-test:','<i\x20class=\x22fas\x20fa-pen\x22></i>','indexOf','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x5csqrt{$1}','random','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','firstScore','option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','bg-red-200\x20text-red-800','$1\x5cfrac','พื้นที่สี่เหลี่ยม','delete-all-students-btn','ระบบอสมการ','idealAnswer','starred','.quiz-bank-present-btn','cancel-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ร้อยละประยุกต์','/public/data/projects/','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','preventDefault','scrollIntoView','th-TH','text-green-700\x20bg-green-100','ตอบถูก\x203\x20ข้อติดต่อกัน','#FEE2E2','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','parallel-test-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','game-pin-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','question-analytics-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','เกิดข้อผิดพลาดในการจับคู่','76929zDXDmU'];_0x5173=function(){return _0x3715b1;};return _0x5173();}function formatAndPrintLessonPlan(_0x5326b8,_0x351668){const _0x2c48bb=_0x527e23,_0x2a4fab=window['open']('',_0x2c48bb(0x269)),_0x5747b8=_0x2c48bb(0x8ba)+_0x351668[_0x2c48bb(0x652)]+_0x2c48bb(0x3fe)+_0x351668[_0x2c48bb(0x652)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5326b8[_0x2c48bb(0x819)][_0x2c48bb(0x421)](_0x517c6a=>'<li>'+_0x517c6a+_0x2c48bb(0x3d0))[_0x2c48bb(0x55b)]('')+_0x2c48bb(0x6d5)+_0x5326b8[_0x2c48bb(0x6d8)]+_0x2c48bb(0x5c2)+_0x5326b8['practiceProblems'][_0x2c48bb(0x421)](_0x3f20e9=>_0x2c48bb(0x2e3)+_0x3f20e9[_0x2c48bb(0x29b)]+_0x2c48bb(0x36c)+_0x3f20e9[_0x2c48bb(0x214)]+_0x2c48bb(0x7e0))[_0x2c48bb(0x55b)]('')+_0x2c48bb(0x1e0);_0x2a4fab[_0x2c48bb(0x5d0)][_0x2c48bb(0x4c8)](_0x5747b8),_0x2a4fab[_0x2c48bb(0x5d0)][_0x2c48bb(0x815)](),_0x2a4fab['onload']=function(){setTimeout(()=>{const _0x6b61ac=_0x2f9e;_0x2a4fab[_0x6b61ac(0x711)]();},0x3e8);};}async function handleGenerateLessonPlan(_0xf52d74){const _0x16af47=_0x527e23;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x1b494a=doc(db,_0x16af47(0x51d)+appId+'/public/data/quizzes',_0xf52d74),_0x925835=await getDoc(_0x1b494a);if(!_0x925835[_0x16af47(0x798)]())throw new Error(_0x16af47(0x6d1));const _0x4e709b={'id':_0xf52d74,..._0x925835['data']()},_0x57488e=collection(db,_0x16af47(0x51d)+appId+_0x16af47(0x300),_0xf52d74,_0x16af47(0x4ee)),_0x2279af=await getDocs(_0x57488e),_0x7fed7e=_0x2279af[_0x16af47(0x34b)]['map'](_0x3105f2=>_0x3105f2[_0x16af47(0x3b3)]());if(_0x7fed7e['length']===0x0)throw new Error(_0x16af47(0x5a5));const _0x103b39=calculateItemAnalysis(_0x4e709b,_0x7fed7e)[_0x16af47(0x5f6)],_0x3998b4=calculateDistractorAnalysis(_0x4e709b,_0x7fed7e),_0x57dd95=_0x5585d4=>{if(!_0x5585d4)return'';return _0x5585d4['replace'](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x7c009f=_0x16af47(0x856);_0x4e709b[_0x16af47(0x7cf)][_0x16af47(0x5b6)]((_0xaed6d4,_0x15c133)=>{const _0x24bf24=_0x16af47,_0x3985d2=_0x103b39[_0x15c133]?.['p'][_0x24bf24(0x6d3)](0x2)||_0x24bf24(0x20f),_0x2cc821=_0x103b39[_0x15c133]?.['r'][_0x24bf24(0x6d3)](0x2)||_0x24bf24(0x20f),_0x31e796=_0x57dd95(_0xaed6d4['questionText']||_0xaed6d4[_0x24bf24(0x50c)]);_0x7c009f+=_0x24bf24(0x806)+(_0x15c133+0x1)+'\x20(p='+_0x3985d2+_0x24bf24(0x751)+_0x2cc821+_0x24bf24(0x859)+_0x31e796+'\x5cn';if(_0xaed6d4[_0x24bf24(0x307)]===_0x24bf24(0x465)&&_0x3998b4[_0x15c133]){const _0x4d2b08=_0x3998b4[_0x15c133],_0x1ccd49=Object[_0x24bf24(0x623)](_0x4d2b08)[_0x24bf24(0x8fe)](_0x2708fb=>parseInt(_0x2708fb)!==_0xaed6d4['correctAnswerIndex'])['sort']((_0x378138,_0x2f8443)=>_0x4d2b08[_0x2f8443][_0x24bf24(0x6a6)]-_0x4d2b08[_0x378138][_0x24bf24(0x6a6)])[0x0];if(_0x1ccd49&&_0x4d2b08[_0x1ccd49][_0x24bf24(0x6a6)]>0x0){const _0x42c030=_0x57dd95(_0x4d2b08[_0x1ccd49][_0x24bf24(0x532)]);_0x7c009f+=_0x24bf24(0x29c)+_0x42c030+_0x24bf24(0x5d4);}}});const _0x4091fc=_0x16af47(0x5b1)+_0x4e709b[_0x16af47(0x652)]+_0x16af47(0x93f)+_0x7c009f+_0x16af47(0x5ab),_0x44ac2e={'type':_0x16af47(0x7e3),'properties':{'learningGaps':{'type':_0x16af47(0x1d1),'items':{'type':_0x16af47(0x62b)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x16af47(0x1d1),'items':{'type':'OBJECT','properties':{'question':{'type':_0x16af47(0x62b)},'solution':{'type':'STRING'}}}}},'required':[_0x16af47(0x819),_0x16af47(0x6d8),_0x16af47(0x206)]},_0xa4a680=await callAnalysisApi(_0x4091fc,_0x44ac2e);await updateDoc(_0x1b494a,{'lessonPlan':_0xa4a680});const _0x2d2325=_0x16af47(0x67f)+_0x4e709b[_0x16af47(0x652)]+_0x16af47(0x7f6)+_0xa4a680[_0x16af47(0x819)][_0x16af47(0x421)](_0x1d7602=>'<li>'+_0x1d7602+_0x16af47(0x3d0))[_0x16af47(0x55b)]('')+_0x16af47(0x6a2)+_0xa4a680[_0x16af47(0x6d8)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0xa4a680['practiceProblems']['map'](_0x390303=>_0x16af47(0x886)+_0x390303[_0x16af47(0x29b)]+_0x16af47(0x8ae)+_0x390303['solution']+_0x16af47(0x3bd))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x16af47(0x536)]('lesson-plan-title')[_0x16af47(0x69f)]=_0x16af47(0x87a)+_0x4e709b[_0x16af47(0x652)],document[_0x16af47(0x536)](_0x16af47(0x725))['innerHTML']=_0x2d2325,document['getElementById'](_0x16af47(0x662))[_0x16af47(0x932)][_0x16af47(0x89c)](_0x16af47(0x933));if(window[_0x16af47(0x450)])MathJax[_0x16af47(0x7cc)]();messageModal[_0x16af47(0x932)]['add'](_0x16af47(0x933));}catch(_0x2029a5){console[_0x16af47(0x52f)]('Error\x20generating\x20lesson\x20plan:',_0x2029a5),showMessage(_0x16af47(0x91c)+_0x2029a5[_0x16af47(0x34c)]);}}async function handleDuplicateQuiz(_0x1ca54f){const _0x772707=_0x527e23;try{const _0x1175f1=doc(db,_0x772707(0x51d)+appId+_0x772707(0x300),_0x1ca54f),_0x5cc858=await getDoc(_0x1175f1);if(_0x5cc858['exists']()){const _0x231b9c=_0x5cc858[_0x772707(0x3b3)]();let _0x3c49fe='',_0x2f523b='standard',_0x257e8b=null;if(_0x231b9c[_0x772707(0x718)]===_0x772707(0x8ec)){let _0x3526fa=_0x231b9c[_0x772707(0x652)][_0x772707(0x72f)](_0x772707(0x75d),'')[_0x772707(0x2a6)]();_0x3c49fe=_0x772707(0x1b2)+_0x3526fa,_0x2f523b='post-test',_0x257e8b=_0x1ca54f;}else _0x3c49fe=_0x772707(0x1e4)+_0x231b9c[_0x772707(0x652)];const _0xaf5630={..._0x231b9c,'topic':_0x3c49fe,'createdAt':new Date()[_0x772707(0x8e6)](),'quizMode':_0x2f523b,'pairedQuizId':_0x257e8b};let _0xad76de;while(!![]){_0xad76de=Math[_0x772707(0x3b5)](0x3e8+Math['random']()*0x2328)['toString']();const _0xed73f6=await getDoc(doc(db,_0x772707(0x51d)+appId+_0x772707(0x300),_0xad76de));if(!_0xed73f6['exists']())break;}const _0x3a267c=doc(db,_0x772707(0x51d)+appId+_0x772707(0x300),_0xad76de);await setDoc(_0x3a267c,_0xaf5630),_0xaf5630[_0x772707(0x718)]===_0x772707(0x5ba)&&await updateDoc(_0x1175f1,{'pairedQuizId':_0xad76de}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x772707(0x941));}catch(_0x2e8bc1){console[_0x772707(0x52f)](_0x772707(0x6b8),_0x2e8bc1),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0xc6c267,_0x7b56e7=!![]){const _0xb6382c=_0x527e23;try{const _0x4106b6=writeBatch(db),_0x4a52dd=collection(db,_0xb6382c(0x51d)+appId+_0xb6382c(0x8ef)+_0xc6c267+_0xb6382c(0x6a1)),_0x1b3f26=await getDocs(_0x4a52dd);_0x1b3f26[_0xb6382c(0x5b6)](_0x3f7814=>{const _0x4bfbb0=_0xb6382c;_0x4106b6[_0x4bfbb0(0x21f)](doc(_0x4a52dd,_0x3f7814['id']));});const _0x3c503a=doc(db,_0xb6382c(0x51d)+appId+_0xb6382c(0x300),_0xc6c267);_0x4106b6['delete'](_0x3c503a),await _0x4106b6[_0xb6382c(0x618)](),_0x7b56e7&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x258717){console[_0xb6382c(0x52f)](_0xb6382c(0x388),_0x258717),_0x7b56e7&&showMessage(_0xb6382c(0x871));}}async function showQuizDetailView(_0x22cd5c){const _0x3ea9ec=_0x527e23;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x3ea9ec(0x78f));try{const _0x17ae06=doc(db,_0x3ea9ec(0x51d)+appId+_0x3ea9ec(0x300),_0x22cd5c),_0x51a40c=await getDoc(_0x17ae06);if(!_0x51a40c[_0x3ea9ec(0x798)]()){showMessage(_0x3ea9ec(0x6d1));return;}const _0x56997a={'id':_0x51a40c['id'],..._0x51a40c['data']()};currentQuizData=_0x56997a;const _0x118c93=doc(db,'artifacts/'+appId+_0x3ea9ec(0x379),_0x56997a[_0x3ea9ec(0x282)]),_0x49c2e6=await getDoc(_0x118c93);_0x49c2e6['exists']()?(currentProjectData=_0x49c2e6['data'](),currentProjectId=_0x56997a[_0x3ea9ec(0x282)]):(currentProjectData={'students':[]},currentProjectId=_0x56997a[_0x3ea9ec(0x282)]);document['getElementById']('results-quiz-title')['textContent']=_0x56997a['topic'],document[_0x3ea9ec(0x536)](_0x3ea9ec(0x83c))['textContent']=_0x22cd5c;const _0x4c32fa=collection(db,_0x3ea9ec(0x51d)+appId+'/public/data/quizzes',_0x22cd5c,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x4c32fa,_0x134ade=>{const _0x5f132f=_0x3ea9ec,_0x3ae8dd=_0x134ade['docs'][_0x5f132f(0x421)](_0x465381=>({'id':_0x465381['id'],..._0x465381[_0x5f132f(0x3b3)]()}));currentSubmissions=_0x3ae8dd,renderBehaviorLog(_0x3ae8dd),renderAnswerGrid(currentProjectData[_0x5f132f(0x1e2)],_0x3ae8dd,_0x56997a),renderAnalytics(_0x56997a,_0x3ae8dd),renderQuizResultsTable(currentProjectData[_0x5f132f(0x1e2)],_0x3ae8dd,_0x56997a),renderQuizLeaderboard(_0x3ae8dd,_0x56997a,'quiz-leaderboard-table-body');}),showView(_0x3ea9ec(0x3ff));}catch(_0x546fae){console['error']('Error\x20showing\x20quiz\x20detail\x20view:',_0x546fae),showMessage(_0x3ea9ec(0x554));}}function renderAnswerGrid(_0x2364fc,_0x1d382b,_0x2544e1){const _0x4ef820=_0x527e23,_0x4dff51=document[_0x4ef820(0x536)]('answer-grid-container');if(!_0x4dff51)return;if(!_0x2364fc||_0x2364fc[_0x4ef820(0x334)]===0x0){_0x4dff51[_0x4ef820(0x343)]=_0x4ef820(0x755);return;}const _0x2d83dc=_0x2544e1[_0x4ef820(0x7cf)],_0x4c4e74=_0x1d382b[_0x4ef820(0x768)]((_0x5d6a5b,_0x54b9d8)=>{const _0xe365d8=_0x4ef820;return _0x5d6a5b[_0x54b9d8[_0xe365d8(0x7e1)]]=_0x54b9d8,_0x5d6a5b;},{}),_0x1b8f2d=_0x5a1440=>String[_0x4ef820(0x6e6)](0x41+_0x5a1440),_0x3b4fcf=_0x15d8ee=>{const _0x163393=_0x4ef820,_0x528820=_0x15d8ee['questionType']||_0x2544e1['quizType'];switch(_0x528820){case _0x163393(0x465):return _0x15d8ee[_0x163393(0x23c)]&&_0x15d8ee['options']['length']>_0x15d8ee[_0x163393(0x378)]?_0x1b8f2d(_0x15d8ee['correctAnswerIndex']):'-';case _0x163393(0x79f):return _0x15d8ee[_0x163393(0x823)]?_0x163393(0x59d):_0x163393(0x1f3);case _0x163393(0x30b):return _0x15d8ee[_0x163393(0x413)]||'-';case _0x163393(0x5b8):return'พิมพ์ตอบ';default:return'-';}},_0x3e33fc=(_0x13ba00,_0x4b72a5)=>{const _0x5c3107=_0x4ef820;if(_0x4b72a5[_0x5c3107(0x5de)]===null||_0x4b72a5[_0x5c3107(0x5de)]===undefined)return'-';const _0x1f9cc0=_0x13ba00[_0x5c3107(0x307)]||_0x2544e1[_0x5c3107(0x62c)];switch(_0x1f9cc0){case _0x5c3107(0x465):const _0x1fa84a=_0x13ba00[_0x5c3107(0x23c)][_0x5c3107(0x69c)](_0x34da66=>_0x34da66===_0x4b72a5[_0x5c3107(0x338)]);return _0x1fa84a!==-0x1?_0x1b8f2d(_0x1fa84a):_0x4b72a5['answerText']||'-';case _0x5c3107(0x79f):return _0x4b72a5[_0x5c3107(0x5de)]==='true'||_0x4b72a5[_0x5c3107(0x5de)]===!![]?'ใช่':_0x5c3107(0x1f3);default:return _0x4b72a5[_0x5c3107(0x5de)];}};let _0x279012=_0x4ef820(0x4e8)+_0x2d83dc[_0x4ef820(0x421)]((_0x341960,_0x1fa7c1)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x1fa7c1+0x1)+'</th>')[_0x4ef820(0x55b)]('')+_0x4ef820(0x86b)+_0x2d83dc[_0x4ef820(0x421)](_0x2874df=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x3b4fcf(_0x2874df)+'</td>')[_0x4ef820(0x55b)]('')+_0x4ef820(0x44a);_0x2364fc[_0x4ef820(0x5b6)](_0x24ee87=>{const _0xdf8b0f=_0x4ef820;_0x279012+=_0xdf8b0f(0x493),_0x279012+=_0xdf8b0f(0x6ad)+_0x24ee87+_0xdf8b0f(0x4f2);const _0x2c6bca=_0x4c4e74[_0x24ee87];if(_0x2c6bca){const _0x23e098=_0x2c6bca[_0xdf8b0f(0x72a)][_0x2c6bca[_0xdf8b0f(0x72a)][_0xdf8b0f(0x334)]-0x1];_0x2d83dc[_0xdf8b0f(0x5b6)]((_0x17e3f8,_0x536b84)=>{const _0x2a24c2=_0xdf8b0f,_0x4fa06c=_0x23e098[_0x2a24c2(0x263)][_0x2a24c2(0x389)](_0x2ebe9b=>_0x2ebe9b[_0x2a24c2(0x352)]===(_0x17e3f8['stem']||_0x17e3f8['questionText']));if(_0x4fa06c){let _0x52c24d=![];const _0x35ef25=_0x17e3f8[_0x2a24c2(0x307)]||_0x2544e1[_0x2a24c2(0x62c)];if(_0x4fa06c[_0x2a24c2(0x5de)]!==null&&_0x4fa06c[_0x2a24c2(0x5de)]!==undefined)switch(_0x35ef25){case _0x2a24c2(0x465):const _0x1d0b03=_0x17e3f8[_0x2a24c2(0x23c)][_0x17e3f8[_0x2a24c2(0x378)]];_0x52c24d=_0x4fa06c[_0x2a24c2(0x338)]===_0x1d0b03;break;case _0x2a24c2(0x79f):const _0x3ed28e=_0x4fa06c['answer']===!![]||_0x4fa06c[_0x2a24c2(0x5de)]===_0x2a24c2(0x2df);_0x52c24d=_0x3ed28e===_0x17e3f8[_0x2a24c2(0x823)];break;case _0x2a24c2(0x30b):_0x52c24d=_0x4fa06c['answer']===_0x17e3f8[_0x2a24c2(0x413)];break;default:_0x52c24d=_0x4fa06c['isCorrect'];break;}const _0x483a24=_0x52c24d?'bg-green-100':_0x2a24c2(0x3e5);_0x279012+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x483a24+'\x22>'+_0x3e33fc(_0x17e3f8,_0x4fa06c)+'</td>';}else _0x279012+=_0x2a24c2(0x264);});}else _0x279012+=_0x2d83dc['map'](()=>_0xdf8b0f(0x371))['join']('');_0x279012+='</tr>';}),_0x279012+=_0x4ef820(0x3a9),_0x4dff51[_0x4ef820(0x343)]=_0x279012;}function renderQuizResultsTable(_0x4317ba,_0x25873b,_0x3f5e53){const _0x582d4e=_0x527e23,_0x41a46c=_0x25873b['reduce']((_0xc3e335,_0x3ba91e)=>{const _0x8e8529=_0x2f9e;return _0xc3e335[_0x3ba91e[_0x8e8529(0x7e1)]]=_0x3ba91e,_0xc3e335;},{}),_0x13d78c=document[_0x582d4e(0x1ed)]('#results-table\x20thead\x20tr');_0x13d78c&&!_0x13d78c[_0x582d4e(0x343)]['includes'](_0x582d4e(0x35f))&&(_0x13d78c[_0x582d4e(0x343)]+=_0x582d4e(0x64b));const _0x195103=document['getElementById'](_0x582d4e(0x2b8));if(!_0x4317ba||_0x4317ba['length']===0x0){_0x195103[_0x582d4e(0x343)]=_0x582d4e(0x8f2);return;}const _0x138918=_0x3f5e53[_0x582d4e(0x4f4)]===!![],_0x26f2e1=_0x3f5e53[_0x582d4e(0x943)]?.[_0x582d4e(0x5c8)]??-0x1;let _0x49ba9c='';_0x4317ba[_0x582d4e(0x5b6)](_0x3bf5f8=>{const _0x25b369=_0x582d4e,_0x3f11b6=_0x41a46c[_0x3bf5f8];let _0x1e53d4='<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>',_0x58efd2=_0x25b369(0x8db)+(_0x138918?_0x25b369(0x2ce):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x138918?'สอบซ่อม':_0x25b369(0x7d4))+_0x25b369(0x645);if(_0x3f11b6){let _0x1828e9=_0x138918?_0x3f11b6[_0x25b369(0x880)]===_0x3f11b6['totalQuestions']:_0x26f2e1!==-0x1&&_0x3f11b6[_0x25b369(0x880)]>=_0x26f2e1;if(_0x138918||_0x26f2e1!==-0x1){const _0x33f4d0=_0x1828e9?_0x25b369(0x46b):'bg-red-100\x20text-red-800',_0x5e54dc=_0x1828e9?_0x25b369(0x35e):_0x25b369(0x2e7);_0x1e53d4=_0x25b369(0x929)+_0x33f4d0+'\x22>'+_0x5e54dc+_0x25b369(0x645);}const _0x280919=_0x25b369(0x2a9)+(_0x3f11b6[_0x25b369(0x72a)]?.[_0x25b369(0x334)]||0x1)+_0x25b369(0x461);_0x49ba9c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3bf5f8+_0x25b369(0x3c2)+_0x3f11b6['bestScore']+_0x25b369(0x739)+_0x3f11b6[_0x25b369(0x535)]+_0x25b369(0x2ea)+_0x1e53d4+_0x25b369(0x68a)+_0x58efd2+_0x25b369(0x32b)+_0x3f11b6[_0x25b369(0x8b8)]+_0x25b369(0x739)+_0x3f11b6['totalQuestions']+_0x25b369(0x6d6)+_0x3f11b6[_0x25b369(0x470)]+_0x25b369(0x739)+_0x3f11b6[_0x25b369(0x535)]+_0x25b369(0x37c)+(_0x3f11b6[_0x25b369(0x85b)]||0x0)+_0x25b369(0x2ea)+_0x280919+_0x25b369(0x3f8)+new Date(_0x3f11b6[_0x25b369(0x29d)])[_0x25b369(0x28d)](_0x25b369(0x8ca))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x3bf5f8+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x5cd00a=_0x25b369(0x476);_0x49ba9c+=_0x25b369(0x8e1)+_0x3bf5f8+_0x25b369(0x7a9)+_0x58efd2+_0x25b369(0x422)+_0x5cd00a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x195103[_0x582d4e(0x343)]=_0x49ba9c;}function _0x2f9e(_0x4fa183,_0x5a9707){const _0x5173ba=_0x5173();return _0x2f9e=function(_0x2f9e57,_0x555f89){_0x2f9e57=_0x2f9e57-0x1a8;let _0x58a01=_0x5173ba[_0x2f9e57];return _0x58a01;},_0x2f9e(_0x4fa183,_0x5a9707);}async function confirmRenameQuiz(){const _0x56a5ad=_0x527e23,_0x3afea1=document['getElementById'](_0x56a5ad(0x926))['value'][_0x56a5ad(0x2a6)]();if(!_0x3afea1){showMessage(_0x56a5ad(0x68e));return;}if(!actionTargetId)return;const _0x349323=doc(db,_0x56a5ad(0x51d)+appId+_0x56a5ad(0x300),actionTargetId);try{await updateDoc(_0x349323,{'topic':_0x3afea1}),showMessage(_0x56a5ad(0x518)),renameQuizModal[_0x56a5ad(0x932)][_0x56a5ad(0x596)](_0x56a5ad(0x933)),actionTargetId=null;}catch(_0x61af7a){console['error'](_0x56a5ad(0x77c),_0x61af7a),showMessage(_0x56a5ad(0x7b2));}}async function handleMoveQuiz(_0x4a7da0){const _0x35bb50=_0x527e23;actionTargetId=_0x4a7da0;const _0x5b143f=document['getElementById'](_0x35bb50(0x405));_0x5b143f['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x35bb50(0x932)][_0x35bb50(0x89c)]('hidden');try{const _0x130d21=collection(db,'artifacts/'+appId+_0x35bb50(0x379)),_0x2473d0=await getDocs(_0x130d21),_0x21caa9=_0x2473d0['docs'][_0x35bb50(0x421)](_0x2212b9=>({'id':_0x2212b9['id'],..._0x2212b9[_0x35bb50(0x3b3)]()})),_0x40824e=_0x21caa9[_0x35bb50(0x8fe)](_0x3d0380=>_0x3d0380['id']!==currentProjectId);if(_0x40824e[_0x35bb50(0x334)]===0x0){_0x5b143f['innerHTML']=_0x35bb50(0x694),document[_0x35bb50(0x536)](_0x35bb50(0x361))[_0x35bb50(0x315)]=!![];return;}_0x5b143f[_0x35bb50(0x343)]=_0x40824e['map'](_0x2cbf5e=>_0x35bb50(0x77e)+_0x2cbf5e['id']+'\x22>'+_0x2cbf5e[_0x35bb50(0x3a2)]+_0x35bb50(0x8de))[_0x35bb50(0x55b)](''),document[_0x35bb50(0x536)](_0x35bb50(0x361))[_0x35bb50(0x315)]=![];}catch(_0x50a120){console['error'](_0x35bb50(0x641),_0x50a120),showMessage(_0x35bb50(0x373)),moveQuizModal[_0x35bb50(0x932)][_0x35bb50(0x596)](_0x35bb50(0x933));}}async function confirmMoveQuiz(){const _0xf6b38=_0x527e23,_0xf33f71=document[_0xf6b38(0x536)](_0xf6b38(0x405))[_0xf6b38(0x4bd)];if(!_0xf33f71){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0xfcc0e1=doc(db,'artifacts/'+appId+_0xf6b38(0x300),actionTargetId);try{await updateDoc(_0xfcc0e1,{'projectId':_0xf33f71}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0xf6b38(0x932)][_0xf6b38(0x596)](_0xf6b38(0x933)),actionTargetId=null;}catch(_0x391170){console[_0xf6b38(0x52f)](_0xf6b38(0x503),_0x391170),showMessage(_0xf6b38(0x7ef));}}async function handleQuizSettings(_0x471fb0){const _0x5725ff=_0x527e23;actionTargetId=_0x471fb0;const _0x142cfc=doc(db,_0x5725ff(0x51d)+appId+_0x5725ff(0x300),_0x471fb0);try{const _0x59c3cb=await getDoc(_0x142cfc);if(_0x59c3cb[_0x5725ff(0x798)]()){const _0x3c52f0=_0x59c3cb[_0x5725ff(0x3b3)](),_0x15ebf2=_0x3c52f0[_0x5725ff(0x943)]||{},_0xaad07a=_0x3c52f0['questions'][_0x5725ff(0x334)];document[_0x5725ff(0x536)](_0x5725ff(0x920))[_0x5725ff(0x4bd)]=_0x15ebf2[_0x5725ff(0x1ab)]||_0x5725ff(0x607),document[_0x5725ff(0x536)](_0x5725ff(0x44e))[_0x5725ff(0x4bd)]=_0x15ebf2['resultsDisplay']||'show_results_and_answers',document[_0x5725ff(0x536)]('modal-timer-mode-select')[_0x5725ff(0x4bd)]=_0x15ebf2[_0x5725ff(0x572)]||_0x5725ff(0x607),document['getElementById'](_0x5725ff(0x475))[_0x5725ff(0x4bd)]=_0x15ebf2['timerDuration']||0xa,document['getElementById']('modal-passing-score-input')[_0x5725ff(0x4bd)]=_0x15ebf2[_0x5725ff(0x5c8)]||Math[_0x5725ff(0x3b5)](_0xaad07a/0x2),document[_0x5725ff(0x536)](_0x5725ff(0x875))[_0x5725ff(0x924)]=_0xaad07a,document[_0x5725ff(0x536)](_0x5725ff(0x853))[_0x5725ff(0x40b)]=_0x15ebf2['isAdaptive']||![],document[_0x5725ff(0x536)](_0x5725ff(0x2b4))[_0x5725ff(0x40b)]=_0x15ebf2[_0x5725ff(0x6a0)]||![],document[_0x5725ff(0x536)](_0x5725ff(0x57c))['dispatchEvent'](new Event(_0x5725ff(0x337))),quizSettingsModal[_0x5725ff(0x932)][_0x5725ff(0x89c)](_0x5725ff(0x933));}else showMessage(_0x5725ff(0x6d1));}catch(_0x559501){console[_0x5725ff(0x52f)]('Error\x20fetching\x20quiz\x20settings:',_0x559501),showMessage(_0x5725ff(0x53c));}}async function confirmQuizSettings(){const _0x169f9b=_0x527e23;if(!actionTargetId)return;const _0x3b39b5=doc(db,_0x169f9b(0x51d)+appId+_0x169f9b(0x300),actionTargetId),_0x3f0a04={'shuffle':document['getElementById']('modal-shuffle-select')['value'],'resultsDisplay':document['getElementById'](_0x169f9b(0x44e))[_0x169f9b(0x4bd)],'timerMode':document[_0x169f9b(0x536)](_0x169f9b(0x57c))[_0x169f9b(0x4bd)],'timerDuration':parseInt(document[_0x169f9b(0x536)]('modal-timer-duration-input')[_0x169f9b(0x4bd)])||0xa,'passingScore':parseInt(document['getElementById'](_0x169f9b(0x875))[_0x169f9b(0x4bd)])||0x0,'passingScore':parseInt(document[_0x169f9b(0x536)]('modal-passing-score-input')[_0x169f9b(0x4bd)])||0x0,'isAdaptive':document['getElementById'](_0x169f9b(0x853))['checked'],'loopUntilPass':document[_0x169f9b(0x536)](_0x169f9b(0x2b4))[_0x169f9b(0x40b)]};try{await updateDoc(_0x3b39b5,{'settings':_0x3f0a04}),showMessage(_0x169f9b(0x733)),quizSettingsModal[_0x169f9b(0x932)][_0x169f9b(0x596)]('hidden'),actionTargetId=null;}catch(_0x398319){console[_0x169f9b(0x52f)](_0x169f9b(0x43b),_0x398319),showMessage(_0x169f9b(0x813));}}async function handleQuizStatus(_0x5056b0){const _0x3a7c3b=_0x527e23;actionTargetId=_0x5056b0;const _0x200aca=doc(db,_0x3a7c3b(0x51d)+appId+_0x3a7c3b(0x300),_0x5056b0);try{const _0x3062c2=await getDoc(_0x200aca);if(_0x3062c2[_0x3a7c3b(0x798)]()){const _0x53eefd=_0x3062c2[_0x3a7c3b(0x3b3)](),_0x5ad2fc=_0x53eefd[_0x3a7c3b(0x70c)]||_0x3a7c3b(0x553),_0x339ae4=document['getElementById']('quiz-status-options'),_0x5f4c0b=document[_0x3a7c3b(0x536)](_0x3a7c3b(0x876)),_0x4a2a45=document['getElementById']('quiz-schedule-end-container');let _0xc00b3b=_0x3a7c3b(0x3c1)+(_0x5ad2fc===_0x3a7c3b(0x553)?_0x3a7c3b(0x40b):'')+_0x3a7c3b(0x355)+(_0x5ad2fc==='inactive'?_0x3a7c3b(0x40b):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x5ad2fc==='scheduled'?_0x3a7c3b(0x40b):'')+_0x3a7c3b(0x627);_0x339ae4[_0x3a7c3b(0x343)]=_0xc00b3b;const _0x437a8e=_0x5ad2fc===_0x3a7c3b(0x344);_0x5f4c0b['classList'][_0x3a7c3b(0x4f0)](_0x3a7c3b(0x933),!_0x437a8e),_0x4a2a45[_0x3a7c3b(0x932)]['toggle'](_0x3a7c3b(0x933),!_0x437a8e),document[_0x3a7c3b(0x536)](_0x3a7c3b(0x550))[_0x3a7c3b(0x4bd)]=_0x53eefd['startTime']?_0x53eefd[_0x3a7c3b(0x35c)][_0x3a7c3b(0x6e5)](0x0,0x10):'',document[_0x3a7c3b(0x536)](_0x3a7c3b(0x6c9))[_0x3a7c3b(0x4bd)]=_0x53eefd[_0x3a7c3b(0x1bd)]?_0x53eefd[_0x3a7c3b(0x1bd)]['substring'](0x0,0x10):'',_0x339ae4[_0x3a7c3b(0x7d8)](_0x3a7c3b(0x7d1))[_0x3a7c3b(0x5b6)](_0x47637f=>{const _0x1771cf=_0x3a7c3b;_0x47637f['addEventListener'](_0x1771cf(0x337),_0x152829=>{const _0x2b5b31=_0x1771cf,_0x33b1e9=_0x152829[_0x2b5b31(0x911)]['value']===_0x2b5b31(0x58e);_0x5f4c0b['classList'][_0x2b5b31(0x4f0)](_0x2b5b31(0x933),!_0x33b1e9),_0x4a2a45[_0x2b5b31(0x932)][_0x2b5b31(0x4f0)](_0x2b5b31(0x933),!_0x33b1e9);});}),quizStatusModal['classList'][_0x3a7c3b(0x89c)](_0x3a7c3b(0x933));}}catch(_0x21288a){console[_0x3a7c3b(0x52f)](_0x3a7c3b(0x88a),_0x21288a),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x1cfaea=_0x527e23;if(!actionTargetId)return;const _0x1af2ed=doc(db,_0x1cfaea(0x51d)+appId+'/public/data/quizzes',actionTargetId),_0x24f1d2=document[_0x1cfaea(0x1ed)]('input[name=\x22status-option\x22]:checked');if(!_0x24f1d2){showMessage(_0x1cfaea(0x834));return;}const _0x427a09=_0x24f1d2[_0x1cfaea(0x4bd)];let _0x2c7052={};if(_0x427a09===_0x1cfaea(0x553)||_0x427a09===_0x1cfaea(0x7f5))_0x2c7052={'status':_0x427a09,'startTime':null,'endTime':null};else{if(_0x427a09===_0x1cfaea(0x58e)){const _0x433c10=document['getElementById'](_0x1cfaea(0x550))[_0x1cfaea(0x4bd)],_0x203319=document[_0x1cfaea(0x536)](_0x1cfaea(0x6c9))[_0x1cfaea(0x4bd)];if(!_0x433c10&&!_0x203319){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x2c7052={'status':'scheduled','startTime':_0x433c10?new Date(_0x433c10)['toISOString']():null,'endTime':_0x203319?new Date(_0x203319)[_0x1cfaea(0x8e6)]():null};}}try{await updateDoc(_0x1af2ed,_0x2c7052),showMessage(_0x1cfaea(0x43c)),quizStatusModal[_0x1cfaea(0x932)][_0x1cfaea(0x596)]('hidden'),actionTargetId=null;}catch(_0x35f23e){console[_0x1cfaea(0x52f)](_0x1cfaea(0x74d),_0x35f23e),showMessage(_0x1cfaea(0x6fa));}}function listenForStudentProfiles(_0x329882){const _0x2d6721=_0x527e23,_0x337f99=collection(db,_0x2d6721(0x51d)+appId+_0x2d6721(0x8c6)+_0x329882+_0x2d6721(0x25d));unsubscribeStudentProfilesListener=onSnapshot(_0x337f99,_0x369df0=>{const _0x525692=_0x2d6721,_0x3ffb0b=_0x369df0['docs'][_0x525692(0x421)](_0x648b68=>_0x648b68[_0x525692(0x3b3)]());renderLeaderboard(_0x3ffb0b,_0x525692(0x2c7));},_0x4a017b=>{const _0x5b307d=_0x2d6721;console['error'](_0x5b307d(0x560),_0x4a017b),document[_0x5b307d(0x536)](_0x5b307d(0x2c7))[_0x5b307d(0x343)]=_0x5b307d(0x322);});}function renderLeaderboard(_0x5f3abe,_0x3c0250){const _0x1a0ae7=_0x527e23,_0x2730a8=document[_0x1a0ae7(0x536)](_0x3c0250);if(!_0x5f3abe||_0x5f3abe[_0x1a0ae7(0x334)]===0x0){_0x2730a8[_0x1a0ae7(0x343)]=_0x1a0ae7(0x469);return;}_0x5f3abe[_0x1a0ae7(0x34f)]((_0x53f3d5,_0x5ba874)=>{const _0x285bf2=_0x1a0ae7,_0x1eeb6c=(_0x5ba874[_0x285bf2(0x7ae)]||0x0)-(_0x53f3d5[_0x285bf2(0x7ae)]||0x0);if(_0x1eeb6c!==0x0)return _0x1eeb6c;const _0x30666b=(_0x5ba874[_0x285bf2(0x4ac)]?.[_0x285bf2(0x586)]||0x0)-(_0x53f3d5[_0x285bf2(0x4ac)]?.[_0x285bf2(0x586)]||0x0);if(_0x30666b!==0x0)return _0x30666b;const _0x179899=(_0x5ba874['badgesCount']?.[_0x285bf2(0x545)]||0x0)-(_0x53f3d5['badgesCount']?.['first_try_ace']||0x0);if(_0x179899!==0x0)return _0x179899;const _0x315239=(_0x5ba874[_0x285bf2(0x4ac)]?.[_0x285bf2(0x3f0)]||0x0)-(_0x53f3d5[_0x285bf2(0x4ac)]?.[_0x285bf2(0x3f0)]||0x0);if(_0x315239!==0x0)return _0x315239;const _0x142dae=(_0x5ba874['badgesCount']?.[_0x285bf2(0x5af)]||0x0)-(_0x53f3d5[_0x285bf2(0x4ac)]?.[_0x285bf2(0x5af)]||0x0);if(_0x142dae!==0x0)return _0x142dae;return _0x53f3d5['studentName'][_0x285bf2(0x1ae)](_0x5ba874[_0x285bf2(0x7e1)],'th');});let _0x2ecffe='';_0x5f3abe[_0x1a0ae7(0x5b6)]((_0x172394,_0x5f50d7)=>{const _0x17d716=_0x1a0ae7,_0x53db55=_0x5f50d7+0x1,_0x1bcf84=_0x172394[_0x17d716(0x4ac)]||{};let _0x2ae13d='';const _0x1c5434=[_0x17d716(0x586),'perfect_score',_0x17d716(0x545),_0x17d716(0x5af)];_0x1c5434[_0x17d716(0x5b6)](_0xceee8e=>{const _0x369a3b=_0x17d716;if(_0x1bcf84[_0xceee8e]>0x0){const _0x1623f7=Object[_0x369a3b(0x367)](BADGES)[_0x369a3b(0x389)](_0x5188c6=>_0x5188c6['id']===_0xceee8e);_0x1623f7&&(_0xceee8e===_0x369a3b(0x586)?_0x2ae13d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x1623f7[_0x369a3b(0x882)]+_0x369a3b(0x8ad)+_0x1623f7['icon']+_0x369a3b(0x4bb):_0x2ae13d+=_0x369a3b(0x744)+_0x1623f7[_0x369a3b(0x882)]+'\x20('+_0x1bcf84[_0xceee8e]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x1623f7[_0x369a3b(0x851)]+_0x369a3b(0x436)+_0x1bcf84[_0xceee8e]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x2ecffe+=_0x17d716(0x597)+_0x53db55+_0x17d716(0x441)+_0x172394[_0x17d716(0x7e1)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x172394['totalPoints']||0x0)+_0x17d716(0x441)+(_0x2ae13d||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2730a8[_0x1a0ae7(0x343)]=_0x2ecffe;}function displayLoopScreen(_0x6c0059,_0x53f668,_0xcd571a){const _0x5b35a1=_0x527e23;let _0x499933='';_0xcd571a!=='show_pass_fail_only'&&(_0x499933='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x6c0059+'\x20/\x20'+_0x53f668+_0x5b35a1(0x329));const _0x360d7a=_0x5b35a1(0x2da)+_0x499933+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x360d7a,studentResultArea[_0x5b35a1(0x932)][_0x5b35a1(0x89c)](_0x5b35a1(0x933)),studentQuizArea['classList'][_0x5b35a1(0x596)](_0x5b35a1(0x933)),document[_0x5b35a1(0x536)](_0x5b35a1(0x4f8))['addEventListener'](_0x5b35a1(0x311),()=>{const _0x3f8439=_0x5b35a1;studentResultArea['classList']['add'](_0x3f8439(0x933)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x1c500a,_0x3531c3,_0x46a415){const _0xd356f7=_0x527e23,_0x232eb5=document[_0xd356f7(0x536)](_0x46a415),_0x32cd2b=_0x46a415===_0xd356f7(0x583),_0x269398=_0x3531c3[_0xd356f7(0x7cf)][_0xd356f7(0x334)],_0x2a20ac=document[_0xd356f7(0x536)](_0x46a415)[_0xd356f7(0x87f)](_0xd356f7(0x26b));if(_0x2a20ac&&!_0x32cd2b){const _0x36b478=_0x2a20ac[_0xd356f7(0x1ed)](_0xd356f7(0x2e0));_0x36b478[_0xd356f7(0x343)]=_0xd356f7(0x8f8);}if(!_0x1c500a||_0x1c500a['length']===0x0){_0x232eb5['innerHTML']='<tr><td\x20colspan=\x22'+(_0x32cd2b?0x6:0x8)+_0xd356f7(0x401);return;}const _0x46af6d=[..._0x1c500a];_0x46af6d[_0xd356f7(0x34f)]((_0x734fc9,_0x5b5d0b)=>{const _0xdb183=_0xd356f7;let _0x354cdb,_0x2e31ed;switch(quizLeaderboardSortBy){case _0xdb183(0x7e1):_0x354cdb=_0x734fc9['studentName']||'',_0x2e31ed=_0x5b5d0b['studentName']||'';return quizLeaderboardSortOrder===_0xdb183(0x1aa)?_0x354cdb[_0xdb183(0x1ae)](_0x2e31ed,'th'):_0x2e31ed[_0xdb183(0x1ae)](_0x354cdb,'th');case _0xdb183(0x85b):_0x354cdb=_0x734fc9[_0xdb183(0x85b)]||0x0,_0x2e31ed=_0x5b5d0b[_0xdb183(0x85b)]||0x0;break;case'attempts':_0x354cdb=_0x734fc9[_0xdb183(0x72a)]?.['length']||0x1,_0x2e31ed=_0x5b5d0b[_0xdb183(0x72a)]?.[_0xdb183(0x334)]||0x1;break;case _0xdb183(0x29d):_0x354cdb=new Date(_0x734fc9['latestSubmittedAt']),_0x2e31ed=new Date(_0x5b5d0b['latestSubmittedAt']);break;case'bestScore':default:_0x354cdb=_0x734fc9[_0xdb183(0x880)],_0x2e31ed=_0x5b5d0b[_0xdb183(0x880)];break;}if(_0x354cdb<_0x2e31ed)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x354cdb>_0x2e31ed)return quizLeaderboardSortOrder===_0xdb183(0x1aa)?0x1:-0x1;return 0x0;});const _0x2d5e39=_0x3531c3['isRemedial']===!![],_0x4528e6=_0x3531c3['settings']?.[_0xd356f7(0x5c8)]??-0x1;let _0x44ccfb='';_0x46af6d[_0xd356f7(0x5b6)]((_0x2f627e,_0x28f7ab)=>{const _0x3b1e69=_0xd356f7,_0xd79b40=_0x28f7ab+0x1;let _0xc1f837=_0x3b1e69(0x50f);if(_0x2d5e39||_0x4528e6!==-0x1){let _0x36ce62=_0x2d5e39?_0x2f627e[_0x3b1e69(0x880)]===_0x269398:_0x2f627e['bestScore']>=_0x4528e6;const _0x4a9220=_0x36ce62?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x791dd2=_0x36ce62?_0x3b1e69(0x35e):_0x3b1e69(0x2e7);_0xc1f837=_0x3b1e69(0x1b9)+_0x4a9220+'\x22>'+_0x791dd2+_0x3b1e69(0x645);}const _0x4eccfb=_0x2f627e[_0x3b1e69(0x72a)][_0x2f627e[_0x3b1e69(0x72a)]['length']-0x1],_0x52a0fc=(_0x4eccfb[_0x3b1e69(0x4ce)]||[])[_0x3b1e69(0x421)](_0x47824=>{const _0x47b3b0=_0x3b1e69,_0x5752d5=Object['values'](BADGES)[_0x47b3b0(0x389)](_0x178ede=>_0x178ede['id']===_0x47824);return _0x5752d5?_0x47b3b0(0x383)+_0x5752d5[_0x47b3b0(0x882)]+_0x47b3b0(0x655)+_0x5752d5[_0x47b3b0(0x851)]+_0x47b3b0(0x24d):'';})['join']('');_0x44ccfb+=_0x3b1e69(0x38f)+_0xd79b40+_0x3b1e69(0x474)+_0x2f627e[_0x3b1e69(0x7e1)]+_0x3b1e69(0x7b6)+_0x2f627e[_0x3b1e69(0x880)]+_0x3b1e69(0x739)+_0x269398+_0x3b1e69(0x2c5)+_0xc1f837+_0x3b1e69(0x519)+(_0x2f627e[_0x3b1e69(0x85b)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x32cd2b?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x2f627e[_0x3b1e69(0x72a)]?.[_0x3b1e69(0x334)]||0x1)+_0x3b1e69(0x4f2))+_0x3b1e69(0x44d)+(_0x32cd2b?'':_0x3b1e69(0x557)+new Date(_0x2f627e[_0x3b1e69(0x29d)])[_0x3b1e69(0x28d)](_0x3b1e69(0x8ca))+_0x3b1e69(0x4f2))+_0x3b1e69(0x2fc)+(_0x52a0fc||'-')+_0x3b1e69(0x4d2);}),_0x232eb5[_0xd356f7(0x343)]=_0x44ccfb,_0x2a20ac&&!_0x32cd2b&&_0x2a20ac['querySelectorAll'](_0xd356f7(0x257))[_0xd356f7(0x5b6)](_0x224cf3=>{const _0x5ebeb7=_0xd356f7,_0x270767=_0x224cf3[_0x5ebeb7(0x1ed)]('.sort-indicator');if(_0x270767)_0x270767[_0x5ebeb7(0x89c)]();_0x224cf3[_0x5ebeb7(0x424)]['sort']===quizLeaderboardSortBy&&(_0x224cf3[_0x5ebeb7(0x343)]+=_0x5ebeb7(0x7e4)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x5ebeb7(0x60b));});}async function handleDeleteSubmission(_0x50d508){const _0x19c038=_0x527e23;if(!currentQuizData||!currentQuizData['id']||!_0x50d508){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x50d508+_0x19c038(0x5ea),async()=>{const _0x370f53=_0x19c038,_0x246c81=currentQuizData['id'],_0x19a7c4=doc(db,'artifacts/'+appId+_0x370f53(0x8ef)+_0x246c81+_0x370f53(0x6a1),_0x50d508);try{await deleteDoc(_0x19a7c4),showMessage(_0x370f53(0x870)+_0x50d508+_0x370f53(0x6ec));}catch(_0x269dfe){console[_0x370f53(0x52f)]('Error\x20deleting\x20submission:',_0x269dfe),showMessage(_0x370f53(0x3c8));}});}async function handleLoadQuiz(){const _0x5e2195=_0x527e23,_0x19a5ac=document[_0x5e2195(0x536)]('quiz-id-input'),_0x4e235a=_0x19a5ac[_0x5e2195(0x4bd)]['trim']();if(!_0x4e235a){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x5e2195(0x315)]=!![],loadQuizBtn[_0x5e2195(0x343)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x17dbb3=doc(db,_0x5e2195(0x51d)+appId+_0x5e2195(0x300),_0x4e235a),_0x1b78ec=await getDoc(_0x17dbb3);if(!_0x1b78ec[_0x5e2195(0x798)]()){showMessage(_0x5e2195(0x39f));return;}currentQuizData={'id':_0x1b78ec['id'],..._0x1b78ec[_0x5e2195(0x3b3)]()};const _0x2280ca=currentQuizData[_0x5e2195(0x70c)]||_0x5e2195(0x553),_0x22899d=new Date();if(_0x2280ca==='inactive'){showMessage(_0x5e2195(0x666));return;}if(_0x2280ca==='scheduled'){const _0x4850f5=currentQuizData[_0x5e2195(0x35c)]?new Date(currentQuizData[_0x5e2195(0x35c)]):null,_0x32d8e2=currentQuizData[_0x5e2195(0x1bd)]?new Date(currentQuizData[_0x5e2195(0x1bd)]):null;if(_0x4850f5&&_0x22899d<_0x4850f5){showMessage(_0x5e2195(0x2f3)+_0x4850f5['toLocaleString'](_0x5e2195(0x8ca),{'hour12':![]}));return;}if(_0x32d8e2&&_0x22899d>_0x32d8e2){showMessage(_0x5e2195(0x697));return;}}const _0x22eb13=currentQuizData[_0x5e2195(0x282)];currentProjectId=_0x22eb13;const _0x48b58e=doc(db,_0x5e2195(0x51d)+appId+_0x5e2195(0x379),_0x22eb13),_0x5d1ff8=await getDoc(_0x48b58e);if(!_0x5d1ff8['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x265d2b=_0x5d1ff8[_0x5e2195(0x3b3)]();currentStudentProjectData=_0x265d2b,displayStudentNameSelector(_0x265d2b[_0x5e2195(0x1e2)],currentQuizData['topic']);}catch(_0x15620a){console[_0x5e2195(0x52f)](_0x5e2195(0x36f),_0x15620a),showMessage(_0x5e2195(0x4cb));}finally{loadQuizBtn[_0x5e2195(0x315)]=![],loadQuizBtn[_0x5e2195(0x343)]=_0x5e2195(0x38d);}}async function handleJoinLiveGame(){const _0x2a38a9=_0x527e23,_0x2461ae=document['getElementById'](_0x2a38a9(0x8d3)),_0x324ad4=document[_0x2a38a9(0x536)](_0x2a38a9(0x393)),_0xf9a0c0=document[_0x2a38a9(0x536)]('confirm-join-game-btn'),_0x4cdf36=_0x2461ae['value'][_0x2a38a9(0x2a6)](),_0x227a9c=_0x324ad4[_0x2a38a9(0x4bd)]['trim']();if(!_0x4cdf36||!_0x227a9c){showMessage(_0x2a38a9(0x83d));return;}_0xf9a0c0['disabled']=!![],_0xf9a0c0[_0x2a38a9(0x343)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';try{const _0x1df63f=collection(db,_0x2a38a9(0x51d)+appId+_0x2a38a9(0x1fc)),_0x16b026=query(_0x1df63f,where(_0x2a38a9(0x5a3),'==',_0x4cdf36),where(_0x2a38a9(0x70c),'==',_0x2a38a9(0x306))),_0x24b183=await getDocs(_0x16b026);if(_0x24b183[_0x2a38a9(0x774)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง');return;}const _0x1ee14d=_0x24b183[_0x2a38a9(0x34b)][0x0],_0xad9243=_0x1ee14d[_0x2a38a9(0x3b3)]();currentLiveGameId=_0x1ee14d['id'];const _0x80c6fa=_0xad9243[_0x2a38a9(0x22a)],_0x586f88=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x80c6fa),_0x71e5af=await getDoc(_0x586f88);if(!_0x71e5af[_0x2a38a9(0x798)]()){showMessage(_0x2a38a9(0x836));return;}currentQuizData={'id':_0x71e5af['id'],..._0x71e5af[_0x2a38a9(0x3b3)]()};if(_0xad9243[_0x2a38a9(0x937)]&&_0xad9243[_0x2a38a9(0x937)][_0x227a9c]){showMessage(_0x2a38a9(0x7f4));return;}const _0x19e74f={};_0x19e74f[_0x2a38a9(0x93e)+_0x227a9c]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x19e74f),currentStudentName=_0x227a9c,listenForLiveGameUpdates();}catch(_0x521564){console[_0x2a38a9(0x52f)](_0x2a38a9(0x79b),_0x521564),showMessage(_0x2a38a9(0x93b));}finally{_0xf9a0c0['disabled']=![],_0xf9a0c0[_0x2a38a9(0x343)]=_0x2a38a9(0x8fc);}}function displayStudentNameSelector(_0xd7f3e7,_0x2333ef){const _0x3ecad2=_0x527e23,_0x228d56=document['getElementById'](_0x3ecad2(0x23e));document['getElementById'](_0x3ecad2(0x249))[_0x3ecad2(0x69f)]=_0x3ecad2(0x4e3)+_0x2333ef,!_0xd7f3e7||_0xd7f3e7[_0x3ecad2(0x334)]===0x0?(_0x228d56[_0x3ecad2(0x343)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x3ecad2(0x315)]=!![]):(_0x228d56[_0x3ecad2(0x343)]=_0x3ecad2(0x55f),_0xd7f3e7['forEach'](_0x3cb655=>{const _0xe01f6=_0x3ecad2,_0x288422=document[_0xe01f6(0x85f)](_0xe01f6(0x8b9));_0x288422[_0xe01f6(0x4bd)]=_0x3cb655,_0x288422[_0xe01f6(0x69f)]=_0x3cb655,_0x228d56['appendChild'](_0x288422);}),startQuizBtn['disabled']=![]),studentInitialView[_0x3ecad2(0x932)][_0x3ecad2(0x596)](_0x3ecad2(0x933)),studentNameSelectionView[_0x3ecad2(0x932)][_0x3ecad2(0x89c)](_0x3ecad2(0x933));}function shuffleArray(_0x39480a){const _0x58b6cb=_0x527e23;for(let _0x48f41b=_0x39480a[_0x58b6cb(0x334)]-0x1;_0x48f41b>0x0;_0x48f41b--){const _0x5b790f=Math['floor'](Math[_0x58b6cb(0x8b6)]()*(_0x48f41b+0x1));[_0x39480a[_0x48f41b],_0x39480a[_0x5b790f]]=[_0x39480a[_0x5b790f],_0x39480a[_0x48f41b]];}}function getShuffledQuiz(_0x50adbf){const _0x3b74ab=_0x527e23;let _0x544783=JSON['parse'](JSON[_0x3b74ab(0x1fb)](_0x50adbf));const _0xea358a=_0x544783[_0x3b74ab(0x943)]?.[_0x3b74ab(0x1ab)]||_0x3b74ab(0x607);if(_0xea358a===_0x3b74ab(0x607))return _0x544783;return(_0xea358a===_0x3b74ab(0x2e9)||_0xea358a===_0x3b74ab(0x4d8))&&shuffleArray(_0x544783[_0x3b74ab(0x7cf)]),(_0xea358a===_0x3b74ab(0x457)||_0xea358a===_0x3b74ab(0x4d8))&&_0x544783['questions'][_0x3b74ab(0x5b6)](_0x48299c=>{const _0x439fc3=_0x3b74ab,_0x505063=_0x48299c[_0x439fc3(0x307)]||_0x544783[_0x439fc3(0x62c)];if(_0x48299c[_0x439fc3(0x23c)]){let _0x3bb1c5=_0x48299c[_0x439fc3(0x23c)][_0x439fc3(0x421)]((_0x5577e4,_0x386d43)=>({'text':_0x5577e4,'isCorrect':_0x386d43===_0x48299c[_0x439fc3(0x378)]}));shuffleArray(_0x3bb1c5),_0x48299c[_0x439fc3(0x23c)]=_0x3bb1c5[_0x439fc3(0x421)](_0x5d07a1=>_0x5d07a1[_0x439fc3(0x532)]),_0x48299c['correctAnswerIndex']=_0x3bb1c5[_0x439fc3(0x69c)](_0x4a17fd=>_0x4a17fd['isCorrect']);}_0x505063==='matching_item'&&_0x48299c[_0x439fc3(0x81a)]&&shuffleArray(_0x48299c[_0x439fc3(0x81a)]);}),_0x544783;}function displayQuizForStudent(_0x224868){const _0x8dd427=_0x527e23;studentQuizArea['classList'][_0x8dd427(0x89c)](_0x8dd427(0x933)),currentDisplayedQuiz=getShuffledQuiz(_0x224868),isQuizActive=!![],cheatAttempts=0x0,document[_0x8dd427(0x2a3)](_0x8dd427(0x35d),handleFullscreenChange),document[_0x8dd427(0x2a3)](_0x8dd427(0x1b6),handleVisibilityChange);currentMode!==_0x8dd427(0x5dc)&&enterFullscreen();const _0x3a70ad=currentDisplayedQuiz['settings']?.['timerMode']||_0x8dd427(0x607);if(_0x3a70ad===_0x8dd427(0x2ee))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x8dd427(0x943)][_0x8dd427(0x491)]);else _0x3a70ad===_0x8dd427(0x673)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x132e2a=_0x527e23;let _0x5393d6=_0x132e2a(0x1f4)+currentDisplayedQuiz[_0x132e2a(0x652)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x132e2a(0x892):'')+_0x132e2a(0x226);currentDisplayedQuiz[_0x132e2a(0x7cf)]['forEach']((_0x442fba,_0x1b0947)=>{const _0x2d9820=_0x132e2a,_0x30f08d=_0x442fba[_0x2d9820(0x307)]||currentDisplayedQuiz[_0x2d9820(0x62c)];_0x5393d6+=_0x2d9820(0x714);_0x30f08d===_0x2d9820(0x30b)?_0x5393d6+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x1b0947+0x1)+'.\x20'+_0x442fba['stem']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x1b0947+_0x2d9820(0x47c)+_0x442fba[_0x2d9820(0x81a)]['map'](_0x31c0f2=>_0x2d9820(0x77e)+_0x31c0f2+'\x22>'+_0x31c0f2+_0x2d9820(0x8de))[_0x2d9820(0x55b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x5393d6+=_0x2d9820(0x7ad)+(_0x1b0947+0x1)+'.\x20'+(_0x442fba[_0x2d9820(0x61a)]||_0x442fba[_0x2d9820(0x7fc)])+_0x2d9820(0x7d5),_0x442fba['imageCode']&&(_0x5393d6+=_0x2d9820(0x7bf)+_0x442fba['imageCode']+_0x2d9820(0x3b7)));_0x5393d6+=_0x2d9820(0x79e);switch(_0x30f08d){case _0x2d9820(0x5b8):_0x5393d6+=_0x2d9820(0x2f6)+_0x1b0947+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x2d9820(0x79f):_0x5393d6+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x1b0947+'_opt0\x22\x20name=\x22question'+_0x1b0947+_0x2d9820(0x2cf)+_0x1b0947+_0x2d9820(0x657),_0x5393d6+=_0x2d9820(0x71e)+_0x1b0947+_0x2d9820(0x320)+_0x1b0947+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x1b0947+_0x2d9820(0x546);break;case'matching_item':break;case'fill_in_the_blank':case _0x2d9820(0x465):default:_0x5393d6+=_0x442fba[_0x2d9820(0x23c)][_0x2d9820(0x421)]((_0x2b67b1,_0x168b1e)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x1b0947+_0x2d9820(0x831)+_0x168b1e+_0x2d9820(0x25e)+_0x1b0947+'\x22\x20value=\x22'+_0x168b1e+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x1b0947+'_opt'+_0x168b1e+'\x22>'+_0x2b67b1+_0x2d9820(0x504))[_0x2d9820(0x55b)]('');break;}_0x5393d6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5393d6+=_0x132e2a(0x740),_0x5393d6+=_0x132e2a(0x7f2),studentQuizArea[_0x132e2a(0x343)]=_0x5393d6;if(currentMode===_0x132e2a(0x5dc)){const _0xfa7826=document['getElementById'](_0x132e2a(0x8b0));if(_0xfa7826)_0xfa7826[_0x132e2a(0x2a3)]('click',cancelAdminTest);}document['getElementById']('quiz-form')['addEventListener']('submit',handleSubmitQuiz);if(window[_0x132e2a(0x450)])window[_0x132e2a(0x450)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x3f1887){const _0x414619=_0x527e23;if(_0x3f1887)_0x3f1887[_0x414619(0x8c8)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3095a7=document[_0x414619(0x536)](_0x414619(0x1da));if(!_0x3095a7)return;const _0x1f0ba4=_0x3095a7[_0x414619(0x1ed)](_0x414619(0x7c8)),_0x1609a8=currentDisplayedQuiz['questions']['some'](_0x562e56=>_0x562e56['questionType']==='short_answer');_0x1f0ba4&&(_0x1f0ba4[_0x414619(0x315)]=!![],_0x1609a8?_0x1f0ba4[_0x414619(0x343)]=_0x414619(0x616):_0x1f0ba4['innerHTML']=_0x414619(0x825));const _0x3c488c=new FormData(_0x3095a7),_0x5bd5fe=currentDisplayedQuiz['questions']['map']((_0x2961af,_0x56cdfc)=>{const _0x3d333a=_0x414619,_0x3cfd2c=_0x2961af[_0x3d333a(0x307)]||currentDisplayedQuiz[_0x3d333a(0x62c)],_0x5746f3=_0x3c488c[_0x3d333a(0x835)](_0x3d333a(0x29b)+_0x56cdfc);if(_0x5746f3!==null&&_0x5746f3!==undefined){if(_0x3cfd2c===_0x3d333a(0x465)||_0x3cfd2c==='fill_in_the_blank')return parseInt(_0x5746f3);return _0x5746f3;}return null;}),_0x1365d4=currentQuizData['id'],_0x11ebcc=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x1365d4+_0x414619(0x6a1),currentStudentName),_0x160a3d=await getDoc(_0x11ebcc),_0x40d1a0=_0x160a3d[_0x414619(0x798)]()?_0x160a3d[_0x414619(0x3b3)]():{},_0xd42c1e=_0x40d1a0['attempts']||[];await processAndSubmitAnswers(_0x5bd5fe,_0xd42c1e);}async function gradeShortAnswerWithAI(_0x124b18,_0x417b2d){const _0x4210bc=_0x527e23;if(!_0x124b18||!_0x417b2d)return![];try{const _0x4612c0=_0x4210bc(0x223)+_0x124b18+_0x4210bc(0x262)+_0x417b2d+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x2ae186={'contents':[{'role':_0x4210bc(0x729),'parts':[{'text':_0x4612c0}]}]},_0x161139=_0x4210bc(0x31e),_0x53bef6=_0x4210bc(0x76e)+_0x161139,_0x44a500=await fetch(_0x53bef6,{'method':_0x4210bc(0x270),'headers':{'Content-Type':_0x4210bc(0x4f9)},'body':JSON[_0x4210bc(0x1fb)](_0x2ae186)});if(!_0x44a500['ok'])throw new Error(_0x4210bc(0x619));const _0x19bb7c=await _0x44a500[_0x4210bc(0x299)](),_0x447ba7=_0x19bb7c[_0x4210bc(0x409)][0x0][_0x4210bc(0x90c)]['parts'][0x0][_0x4210bc(0x532)][_0x4210bc(0x2a6)]()['toLowerCase']();return _0x447ba7===_0x4210bc(0x2df);}catch(_0x184bb3){return console[_0x4210bc(0x52f)](_0x4210bc(0x3c9),_0x184bb3),![];}}async function processAndSubmitAnswers(_0x21a4d2,_0x1226eb){const _0x1b1435=_0x527e23;exitFullscreen(),isQuizActive=![],document[_0x1b1435(0x5be)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x1b1435(0x1b6),handleVisibilityChange);let _0x1e040b=0x0,_0x1a62e8=0x0,_0x368219=[];const _0x22e9a6=[],_0x37b059=currentDisplayedQuiz[_0x1b1435(0x7cf)][_0x1b1435(0x334)];let _0xa4c6c4=0x0;const _0x3377ae=currentDisplayedQuiz['questions'];for(let _0x5b030d=0x0;_0x5b030d<_0x3377ae[_0x1b1435(0x334)];_0x5b030d++){const _0x453aa8=_0x3377ae[_0x5b030d],_0x5d7685=_0x21a4d2[_0x5b030d],_0x272399=_0x453aa8['questionType']||currentDisplayedQuiz[_0x1b1435(0x62c)];let _0x180103=![];if(_0x5d7685!==null&&_0x5d7685!=='')switch(_0x272399){case _0x1b1435(0x30b):_0x180103=_0x5d7685===_0x453aa8['correctResponse'];break;case _0x1b1435(0x79f):const _0x12ff0e=_0x5d7685===!![]||_0x5d7685===_0x1b1435(0x2df);_0x180103=_0x12ff0e===_0x453aa8[_0x1b1435(0x823)];break;case'fill_in_the_blank':case _0x1b1435(0x465):default:_0x180103=Number(_0x5d7685)===_0x453aa8[_0x1b1435(0x378)];break;case _0x1b1435(0x5b8):_0x180103=await gradeShortAnswer(_0x5d7685,_0x453aa8);break;}_0x180103?(_0x1e040b++,_0xa4c6c4++,_0xa4c6c4===0x3&&(_0x368219[_0x1b1435(0x3eb)](BADGES[_0x1b1435(0x390)]['id']),_0xa4c6c4=0x0)):_0xa4c6c4=0x0;let _0x1e7e2f=null;_0x453aa8[_0x1b1435(0x23c)]&&_0x5d7685!==null&&(_0x1e7e2f=_0x453aa8[_0x1b1435(0x23c)][_0x5d7685]),_0x22e9a6[_0x1b1435(0x3eb)]({'questionId':_0x453aa8['id'],'answer':_0x5d7685,'answerText':_0x1e7e2f,'isCorrect':_0x180103,'originalQuestionText':_0x453aa8['stem']||_0x453aa8['questionText']});}_0x1a62e8=_0x1e040b*0xa;_0x1e040b===_0x37b059&&_0x37b059>0x0&&!currentDisplayedQuiz[_0x1b1435(0x4f4)]&&(_0x1a62e8+=0x32,_0x368219[_0x1b1435(0x3eb)](BADGES[_0x1b1435(0x764)]['id']));const _0x4cb998=currentDisplayedQuiz['settings']?.[_0x1b1435(0x5c8)]??Math[_0x1b1435(0x3b5)](_0x37b059/0x2),_0x3927f1=currentDisplayedQuiz['settings']?.[_0x1b1435(0x572)];if(_0x3927f1===_0x1b1435(0x2ee)&&quizStartTime){const _0x1832c8=(new Date()-quizStartTime)/0x3e8,_0x5058eb=currentDisplayedQuiz[_0x1b1435(0x943)]['timerDuration']*0x3c;_0x1e040b>=_0x4cb998&&_0x1832c8<_0x5058eb/0x2&&(_0x1a62e8+=0x14,_0x368219[_0x1b1435(0x3eb)](BADGES[_0x1b1435(0x766)]['id']));}_0x1226eb['length']===0x0&&_0x1e040b===_0x37b059&&_0x37b059>0x0&&_0x368219[_0x1b1435(0x3eb)](BADGES[_0x1b1435(0x438)]['id']);if(_0x1226eb['length']>0x0){const _0x1bd64c=_0x1226eb[0x0][_0x1b1435(0x90e)];if(_0x1bd64c<_0x4cb998&&_0x1e040b>=_0x4cb998){const _0x3773ec=_0x1226eb['some'](_0x437d62=>(_0x437d62[_0x1b1435(0x4ce)]||[])[_0x1b1435(0x809)](BADGES['COMEBACK_KING']['id']));!_0x3773ec&&_0x368219[_0x1b1435(0x3eb)](BADGES['COMEBACK_KING']['id']);}}_0x1226eb[_0x1b1435(0x334)]===0x4&&_0x368219[_0x1b1435(0x3eb)](BADGES[_0x1b1435(0x42b)]['id']);const _0x42dcde=currentDisplayedQuiz[_0x1b1435(0x943)]['resultsDisplay'];if(currentMode==='admin-testing'){handleResultDisplay(_0x42dcde,_0x1e040b,_0x1a62e8,_0x368219,_0x22e9a6,_0x37b059);return;}const _0x48ee0d=currentQuizData['id'],_0x12ea10=doc(db,_0x1b1435(0x51d)+appId+'/public/data/quizzes/'+_0x48ee0d+'/submissions',currentStudentName);try{const _0x31f360=[..._0x1226eb],_0x56e90e={'score':_0x1e040b,'points':_0x1a62e8,'badges':_0x368219,'submittedAt':new Date()['toISOString'](),'answers':_0x22e9a6};_0x31f360[_0x1b1435(0x3eb)](_0x56e90e);const _0x2ffa3b=_0x31f360[0x0]['score'],_0x517f51=Math['max'](..._0x31f360[_0x1b1435(0x421)](_0x2f47f2=>_0x2f47f2[_0x1b1435(0x90e)])),_0x53dd1f=_0x1e040b,_0x1e7140=_0x56e90e['submittedAt'];await setDoc(_0x12ea10,{'studentName':currentStudentName,'totalQuestions':_0x37b059,'attempts':_0x31f360,'firstScore':_0x2ffa3b,'bestScore':_0x517f51,'latestScore':_0x53dd1f,'points':_0x1a62e8,'latestSubmittedAt':_0x1e7140},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x1b1435(0x282)],currentStudentName),handleResultDisplay(_0x42dcde,_0x1e040b,_0x1a62e8,_0x368219,_0x22e9a6,_0x37b059);}catch(_0x5673a5){console['error'](_0x1b1435(0x30c),_0x5673a5),showMessage(_0x1b1435(0x888));}}async function updateStudentProfile(_0x576171,_0x42819c){const _0x216995=_0x527e23,_0xa4aedf=doc(db,'artifacts/'+appId+_0x216995(0x8c6)+_0x576171+'/studentProfiles',_0x42819c);try{const _0x134938=query(collection(db,_0x216995(0x51d)+appId+_0x216995(0x300)),where(_0x216995(0x282),'==',_0x576171)),_0x4475b2=await getDocs(_0x134938),_0x275d1f=new Map(_0x4475b2['docs'][_0x216995(0x421)](_0x1a724a=>[_0x1a724a['id'],_0x1a724a['data']()])),_0x284ef3=Array[_0x216995(0x7f8)](_0x275d1f[_0x216995(0x623)]());await runTransaction(db,async _0x103db2=>{const _0x435fa9=_0x216995;let _0x32aff2=0x0;const _0x31b51f={};let _0x534db6=!![],_0x18f232=0x0,_0xd4abe0=0x0;for(const _0x99672d of _0x284ef3){const _0x19b1e1=_0x275d1f[_0x435fa9(0x835)](_0x99672d),_0x19bc4f=doc(db,_0x435fa9(0x51d)+appId+'/public/data/quizzes/'+_0x99672d+_0x435fa9(0x6a1),_0x42819c),_0x4e71f8=await _0x103db2['get'](_0x19bc4f);if(_0x4e71f8['exists']()){const _0x23d320=_0x4e71f8[_0x435fa9(0x3b3)](),_0x2b47a8=_0x23d320[_0x435fa9(0x72a)]||[];if(_0x2b47a8[_0x435fa9(0x334)]>0x0){const _0x2e9bd2=_0x2b47a8['reduce']((_0x36b5f1,_0x5064ba)=>{const _0x5af0c9=_0x435fa9;if(_0x5064ba[_0x5af0c9(0x90e)]>_0x36b5f1['score'])return _0x5064ba;if(_0x5064ba['score']===_0x36b5f1['score'])return(_0x5064ba[_0x5af0c9(0x85b)]||0x0)>(_0x36b5f1[_0x5af0c9(0x85b)]||0x0)?_0x5064ba:_0x36b5f1;return _0x36b5f1;},{'score':-0x1,'points':-0x1});_0x2e9bd2['score']>-0x1&&(_0x32aff2+=_0x2e9bd2[_0x435fa9(0x85b)]||0x0,(_0x2e9bd2['badges']||[])[_0x435fa9(0x5b6)](_0x29c433=>{_0x31b51f[_0x29c433]=(_0x31b51f[_0x29c433]||0x0)+0x1;}));}}if(_0x19b1e1[_0x435fa9(0x652)]!==_0x435fa9(0x80b)){_0xd4abe0++;if(_0x4e71f8[_0x435fa9(0x798)]()){_0x18f232++;const _0x3bb35e=_0x4e71f8[_0x435fa9(0x3b3)]();_0x3bb35e[_0x435fa9(0x880)]!==_0x3bb35e[_0x435fa9(0x535)]&&(_0x534db6=![]);}else _0x534db6=![];}}_0xd4abe0>0x0&&_0x18f232===_0xd4abe0&&_0x534db6?_0x31b51f[_0x435fa9(0x586)]=0x1:_0x31b51f[_0x435fa9(0x586)]=0x0,_0x103db2[_0x435fa9(0x374)](_0xa4aedf,{'studentName':_0x42819c,'totalPoints':_0x32aff2,'unlockedBadges':Object[_0x435fa9(0x623)](_0x31b51f)['filter'](_0x5823cd=>_0x31b51f[_0x5823cd]>0x0),'badgesCount':_0x31b51f},{'merge':!![]});});}catch(_0x393057){console[_0x216995(0x52f)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x393057),showMessage(_0x216995(0x93c));}}function startAdminTest(){const _0x40fd0c=_0x527e23;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x5b7fe2=JSON[_0x40fd0c(0x676)](JSON[_0x40fd0c(0x1fb)](currentQuizData));currentMode=_0x40fd0c(0x5dc),currentStudentName=_0x40fd0c(0x7ce),adminView[_0x40fd0c(0x932)][_0x40fd0c(0x596)](_0x40fd0c(0x933)),studentView[_0x40fd0c(0x932)][_0x40fd0c(0x89c)]('hidden'),studentInitialView['classList'][_0x40fd0c(0x596)](_0x40fd0c(0x933)),studentNameSelectionView['classList'][_0x40fd0c(0x596)](_0x40fd0c(0x933)),studentResultArea['classList'][_0x40fd0c(0x596)](_0x40fd0c(0x933)),studentQuizArea[_0x40fd0c(0x932)][_0x40fd0c(0x89c)](_0x40fd0c(0x933)),quizStartTime=new Date(),displayQuizForStudent(_0x5b7fe2);}function handleResultDisplay(_0x5e968a,_0x1b7453,_0x5d49bc,_0x25ee11,_0x2d78cd,_0x4d733e){const _0x1758c5=_0x527e23;if(_0x5e968a===_0x1758c5(0x4d0)){displaySubmissionConfirmation();return;}const _0xd7e839=currentDisplayedQuiz[_0x1758c5(0x943)]?.[_0x1758c5(0x5c8)]??Math[_0x1758c5(0x3b5)](_0x4d733e/0x2),_0x32cc47=currentDisplayedQuiz[_0x1758c5(0x943)]?.[_0x1758c5(0x81d)]??![],_0x12c71d=currentDisplayedQuiz[_0x1758c5(0x943)]?.[_0x1758c5(0x6a0)]===!![],_0x9fa6bb=_0x1b7453<_0xd7e839;if(_0x12c71d&&_0x9fa6bb){_0x5e968a===_0x1758c5(0x7b1)?displayResultsWithAnswers(_0x1b7453,_0x5d49bc,_0x25ee11,_0x2d78cd,_0x4d733e,!![]):displayLoopScreen(_0x1b7453,_0x4d733e,_0x5e968a);return;}if(_0x32cc47&&_0x9fa6bb){startAdaptiveFlow(_0x2d78cd,_0x1b7453,_0x4d733e);return;}switch(_0x5e968a){case _0x1758c5(0x7b1):displayResultsWithAnswers(_0x1b7453,_0x5d49bc,_0x25ee11,_0x2d78cd,_0x4d733e);break;case'show_results_only':displayResultsScoreOnly(_0x1b7453,_0x5d49bc,_0x25ee11,_0x4d733e);break;case _0x1758c5(0x73b):displayPassFailOnly(_0x1b7453,_0x4d733e);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x55eca8){const _0x5718ba=_0x527e23;studentReadingArea[_0x5718ba(0x343)]=_0x5718ba(0x8d1);const _0x4bd8a0=_0x5718ba(0x471)+_0x55eca8+_0x5718ba(0x564)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0xc1672={'type':_0x5718ba(0x7e3),'properties':{'questionText':{'type':_0x5718ba(0x62b)},'options':{'type':_0x5718ba(0x1d1),'items':{'type':_0x5718ba(0x62b)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0x5718ba(0x7fc),_0x5718ba(0x23c),'correctAnswerIndex',_0x5718ba(0x852)]},_0x388375={'type':_0x5718ba(0x7e3),'properties':{'topic':{'type':_0x5718ba(0x62b)},'questions':{'type':'ARRAY','items':_0xc1672}},'required':['topic',_0x5718ba(0x7cf)]};try{const _0x1c2b7f=await callAnalysisApi(_0x4bd8a0,_0x388375);_0x1c2b7f[_0x5718ba(0x4f4)]=!![],studentReadingArea[_0x5718ba(0x932)][_0x5718ba(0x596)]('hidden');const _0x19ed64={...currentDisplayedQuiz[_0x5718ba(0x943)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x1c2b7f[_0x5718ba(0x943)]=_0x19ed64,displayQuizForStudent(_0x1c2b7f);}catch(_0x22146c){console['error'](_0x5718ba(0x200),_0x22146c),showMessage(_0x5718ba(0x1e5)),showView(_0x5718ba(0x490));}}function displayPassFailOnly(_0x1322f0,_0x4ae00c){const _0xee6cd7=_0x527e23,_0x3ecab0=currentDisplayedQuiz[_0xee6cd7(0x943)]?.[_0xee6cd7(0x5c8)]??-0x1,_0xf4f647=currentDisplayedQuiz[_0xee6cd7(0x4f4)]===!![];let _0x3ae342='';if(_0xf4f647||_0x3ecab0!==-0x1){let _0x2baf20;_0xf4f647?_0x2baf20=_0x1322f0===_0x4ae00c:_0x2baf20=_0x1322f0>=_0x3ecab0;const _0x48ec26=_0x2baf20?_0xee6cd7(0x46b):'bg-red-100\x20text-red-800',_0x4f556a=_0x2baf20?_0xee6cd7(0x35e):'ไม่ผ่าน';_0x3ae342='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x48ec26+'\x22>'+_0x4f556a+'</span></div>';}else _0x3ae342='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x451fec=_0xee6cd7(0x1a8)+currentStudentName+_0xee6cd7(0x432)+_0x3ae342+_0xee6cd7(0x938);studentResultArea[_0xee6cd7(0x343)]=_0x451fec,studentResultArea['classList'][_0xee6cd7(0x89c)](_0xee6cd7(0x933)),studentQuizArea['classList'][_0xee6cd7(0x596)](_0xee6cd7(0x933));const _0x2a47b0=_0xee6cd7(0x46f),_0x180156=currentMode===_0xee6cd7(0x5dc),_0xa240bf=_0x180156?_0xee6cd7(0x443):_0xee6cd7(0x3f2),_0x3a8907=_0xee6cd7(0x4a5)+_0x2a47b0+_0xee6cd7(0x65d)+_0xa240bf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0xee6cd7(0x286)]('beforeend',_0x3a8907),document[_0xee6cd7(0x536)](_0x2a47b0)[_0xee6cd7(0x2a3)](_0xee6cd7(0x311),()=>{const _0x66ad77=_0xee6cd7;_0x180156?(currentMode=_0x66ad77(0x511),studentView['classList'][_0x66ad77(0x596)](_0x66ad77(0x933)),adminView['classList'][_0x66ad77(0x89c)](_0x66ad77(0x933)),showView(_0x66ad77(0x4af))):(showView(_0x66ad77(0x490)),document['getElementById']('quiz-id-input')[_0x66ad77(0x4bd)]='');});}function cancelAdminTest(){const _0x15b442=_0x527e23;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);exitFullscreen(),document[_0x15b442(0x5be)](_0x15b442(0x35d),handleFullscreenChange),document[_0x15b442(0x5be)](_0x15b442(0x1b6),handleVisibilityChange),currentMode=_0x15b442(0x511),studentView[_0x15b442(0x932)][_0x15b442(0x596)](_0x15b442(0x933)),adminView[_0x15b442(0x932)]['remove']('hidden'),showView('project-detail');}function setupResultScreenBackButton(_0x28d7c7=![]){const _0x32837f=_0x527e23;if(_0x28d7c7){const _0x90db9a=_0x32837f(0x456);studentResultArea[_0x32837f(0x286)]('beforeend',_0x90db9a),document[_0x32837f(0x536)](_0x32837f(0x4f8))[_0x32837f(0x2a3)](_0x32837f(0x311),()=>{const _0xe2a2a0=_0x32837f;studentResultArea[_0xe2a2a0(0x932)][_0xe2a2a0(0x596)](_0xe2a2a0(0x933)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x8fdbf7=_0x32837f(0x46f),_0x325716=currentMode==='admin-testing',_0x3c9111=_0x325716?_0x32837f(0x443):_0x32837f(0x3f2),_0x58d8c8=_0x32837f(0x74a)+_0x8fdbf7+_0x32837f(0x767)+_0x3c9111+_0x32837f(0x381);studentResultArea['insertAdjacentHTML'](_0x32837f(0x84d),_0x58d8c8),studentResultArea['querySelector'](_0x32837f(0x419))[_0x32837f(0x2a3)](_0x32837f(0x311),handleShowStudentRankings),document[_0x32837f(0x536)](_0x8fdbf7)[_0x32837f(0x2a3)](_0x32837f(0x311),()=>{const _0x461999=_0x32837f;_0x325716?(currentMode=_0x461999(0x511),studentView[_0x461999(0x932)][_0x461999(0x596)](_0x461999(0x933)),adminView[_0x461999(0x932)][_0x461999(0x89c)](_0x461999(0x933)),showView(_0x461999(0x4af))):(showView(_0x461999(0x490)),document[_0x461999(0x536)]('quiz-id-input')['value']='');});}function displayResultsWithAnswers(_0xb500b,_0x3edfcb,_0x238b93,_0x403539,_0x221ff3,_0x536501=![]){const _0xa29488=_0x527e23,_0x1546f8=_0x221ff3>0x0?_0xb500b/_0x221ff3*0x64:0x0,_0x4f1089=currentDisplayedQuiz[_0xa29488(0x943)]?.[_0xa29488(0x5c8)]??-0x1,_0x45ea6e=currentDisplayedQuiz[_0xa29488(0x4f4)]===!![];let _0xce68d0='';if(_0x45ea6e||_0x4f1089!==-0x1){let _0xe40c7c=_0x45ea6e?_0xb500b===_0x221ff3:_0xb500b>=_0x4f1089;const _0x1d6ca8=_0xe40c7c?_0xa29488(0x46b):_0xa29488(0x3db),_0x3cba93=_0xe40c7c?'ผ่าน':_0xa29488(0x2e7);_0xce68d0=_0xa29488(0x285)+_0x1d6ca8+'\x22>'+_0x3cba93+_0xa29488(0x7d5);}let _0x1d8790='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0xa29488(0x701)+_0xb500b+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x221ff3+_0xa29488(0x699)+_0xce68d0+_0xa29488(0x5bb)+_0x3edfcb+_0xa29488(0x611)+_0x1546f8[_0xa29488(0x6d3)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0xa29488(0x7cf)][_0xa29488(0x5b6)]((_0x4c9f15,_0x826375)=>{const _0x581f1f=_0xa29488,_0x33c717=_0x403539[_0x826375],_0x1f4dd9=_0x33c717[_0x581f1f(0x5de)],_0x4617bb=_0x33c717['isCorrect'],_0xcc69ec=_0x4c9f15['questionType']||currentDisplayedQuiz[_0x581f1f(0x62c)];_0x1d8790+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x4617bb?_0x581f1f(0x1cf):'border-red-300\x20bg-red-50')+_0x581f1f(0x89d)+(_0x826375+0x1)+'.\x20'+(_0x4c9f15[_0x581f1f(0x50c)]||_0x4c9f15[_0x581f1f(0x7fc)])+_0x581f1f(0x22b);switch(_0xcc69ec){case'matching_item':const _0x3f2eb1=_0x1f4dd9||'ไม่ได้ตอบ',_0x4986ec=_0x4c9f15[_0x581f1f(0x413)];_0x1d8790+=_0x581f1f(0x365)+(!_0x4617bb?_0x581f1f(0x2d7):'')+'\x22>'+_0x3f2eb1+_0x581f1f(0x4ca);!_0x4617bb&&(_0x1d8790+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x4986ec+_0x581f1f(0x7d5));break;case _0x581f1f(0x5b8):_0x1d8790+=_0x581f1f(0x651)+(_0x1f4dd9||_0x581f1f(0x48a))+_0x581f1f(0x7d5),_0x1d8790+=_0x581f1f(0x473)+_0x4c9f15[_0x581f1f(0x8c0)]+'</p>';break;case'true_false':_0x1d8790+='<p\x20class=\x22'+(_0x4c9f15[_0x581f1f(0x823)]===!![]?_0x581f1f(0x683):'')+'\x20'+(_0x1f4dd9===_0x581f1f(0x2df)&&!_0x4617bb?_0x581f1f(0x2d7):'')+_0x581f1f(0x6ce),_0x1d8790+=_0x581f1f(0x321)+(_0x4c9f15[_0x581f1f(0x823)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x1f4dd9===_0x581f1f(0x42f)&&!_0x4617bb?_0x581f1f(0x2d7):'')+'\x22>ไม่ใช่</p>';break;default:_0x1d8790+=_0x4c9f15['options'][_0x581f1f(0x421)]((_0x19e1fd,_0x268f06)=>{const _0x4b5ce2=_0x581f1f;let _0x16c0d9='',_0x57aa66='';if(_0x268f06===_0x4c9f15[_0x4b5ce2(0x378)])_0x16c0d9='font-bold\x20text-green-700',_0x57aa66='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x268f06===_0x1f4dd9&&(_0x16c0d9=_0x4b5ce2(0x6a8),_0x57aa66=_0x4b5ce2(0x7de));return _0x4b5ce2(0x4a9)+_0x16c0d9+'\x22>'+_0x57aa66+_0x19e1fd+_0x4b5ce2(0x3b7);})[_0x581f1f(0x55b)]('');break;}_0x1d8790+=_0x581f1f(0x64e)+(_0x4c9f15[_0x581f1f(0x852)]||_0x581f1f(0x3cd))+_0x581f1f(0x3b7);if(!_0x4617bb){const _0x44bdcc=_0x4c9f15['stem']||_0x4c9f15[_0x581f1f(0x7fc)];_0x1d8790+=_0x581f1f(0x302)+escape(_0x44bdcc)+_0x581f1f(0x3a5);}_0x1d8790+=_0x581f1f(0x3b7);}),studentResultArea[_0xa29488(0x343)]=_0x1d8790,renderEarnedBadges(_0x238b93,_0xa29488(0x634)),studentResultArea['classList']['remove'](_0xa29488(0x933)),studentQuizArea[_0xa29488(0x932)][_0xa29488(0x596)](_0xa29488(0x933)),setupResultScreenBackButton(_0x536501);if(window[_0xa29488(0x450)])window[_0xa29488(0x450)][_0xa29488(0x7cc)]([studentResultArea]);}function displayResultsScoreOnly(_0x545c08,_0x34d15d,_0x3970b5,_0x44551a){const _0x305b60=_0x527e23,_0x49ca2a=_0x44551a>0x0?_0x545c08/_0x44551a*0x64:0x0,_0x3e9344=currentDisplayedQuiz['settings']?.[_0x305b60(0x5c8)]??-0x1,_0x1ebc84=currentDisplayedQuiz[_0x305b60(0x4f4)]===!![];let _0x3cd56e='';if(_0x1ebc84||_0x3e9344!==-0x1){let _0x121747;_0x1ebc84?_0x121747=_0x545c08===_0x44551a:_0x121747=_0x545c08>=_0x3e9344;const _0xfe672f=_0x121747?_0x305b60(0x46b):'bg-red-100\x20text-red-800',_0x454b6b=_0x121747?'ผ่าน':_0x305b60(0x2e7);_0x3cd56e=_0x305b60(0x285)+_0xfe672f+'\x22>'+_0x454b6b+_0x305b60(0x7d5);}let _0x18ab83=_0x305b60(0x426)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x545c08+_0x305b60(0x7f1)+_0x44551a+_0x305b60(0x699)+_0x3cd56e+_0x305b60(0x5bb)+_0x34d15d+_0x305b60(0x4d1)+_0x49ca2a[_0x305b60(0x6d3)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x305b60(0x343)]=_0x18ab83,renderEarnedBadges(_0x3970b5,'earned-badges-container'),studentResultArea['classList'][_0x305b60(0x89c)](_0x305b60(0x933)),studentQuizArea[_0x305b60(0x932)][_0x305b60(0x596)](_0x305b60(0x933)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x42b04e=_0x527e23;let _0x2d9b0b=_0x42b04e(0x8d4)+currentStudentName+_0x42b04e(0x896);studentResultArea[_0x42b04e(0x343)]=_0x2d9b0b,studentResultArea[_0x42b04e(0x932)]['remove'](_0x42b04e(0x933)),studentQuizArea[_0x42b04e(0x932)][_0x42b04e(0x596)](_0x42b04e(0x933)),document[_0x42b04e(0x536)](_0x42b04e(0x612))[_0x42b04e(0x2a3)](_0x42b04e(0x311),()=>{const _0x599459=_0x42b04e;showView('student'),document[_0x599459(0x536)](_0x599459(0x63f))[_0x599459(0x4bd)]='';});}function renderEarnedBadges(_0x3b34e6,_0x53397e){const _0x182935=_0x527e23,_0x1feaf7=document[_0x182935(0x536)](_0x53397e);if(!_0x1feaf7||!_0x3b34e6||_0x3b34e6[_0x182935(0x334)]===0x0)return;let _0x568f75='';_0x3b34e6['forEach']((_0x576c64,_0x2655bc)=>{const _0x26fbf6=_0x182935,_0x4cfa92=Object[_0x26fbf6(0x367)](BADGES)[_0x26fbf6(0x389)](_0x295247=>_0x295247['id']===_0x576c64);_0x4cfa92&&(_0x568f75+=_0x26fbf6(0x681)+_0x2655bc*0.2+_0x26fbf6(0x4a7)+_0x4cfa92['description']+_0x26fbf6(0x529)+_0x4cfa92['icon']+_0x26fbf6(0x910)+_0x4cfa92[_0x26fbf6(0x882)]+_0x26fbf6(0x56d));}),_0x1feaf7[_0x182935(0x343)]=_0x568f75;}function startPresentation(_0x2f80c8){const _0x41e0c3=_0x527e23;currentQuizData=getShuffledQuiz(_0x2f80c8),currentPresentationSlide=0x0,presentationModal['style']['display']=_0x41e0c3(0x578),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x855656=_0x527e23;document[_0x855656(0x7d0)]&&document[_0x855656(0x7e6)](),presentationModal[_0x855656(0x6e2)]['display']=_0x855656(0x607);}function renderPresentationSlide(_0x485549){const _0x5dd4bf=_0x527e23,_0x5797ea=document[_0x5dd4bf(0x536)](_0x5dd4bf(0x238));if(!currentQuizData||!currentQuizData[_0x5dd4bf(0x7cf)]||!currentQuizData[_0x5dd4bf(0x7cf)][_0x485549]){_0x5797ea[_0x5dd4bf(0x343)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x8e72ce=currentQuizData[_0x5dd4bf(0x7cf)][_0x485549],_0x252705=_0x8e72ce[_0x5dd4bf(0x307)]||currentQuizData[_0x5dd4bf(0x62c)];_0x5797ea[_0x5dd4bf(0x343)]='';let _0x32ba22=_0x5dd4bf(0x416)+(_0x8e72ce[_0x5dd4bf(0x399)]?_0x5dd4bf(0x7bf)+_0x8e72ce[_0x5dd4bf(0x399)]+_0x5dd4bf(0x3b7):'')+_0x5dd4bf(0x878)+(_0x485549+0x1)+'.\x20'+(_0x8e72ce['stem']||_0x8e72ce['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x252705){case'matching_item':_0x32ba22+=_0x8e72ce['allResponses'][_0x5dd4bf(0x421)](_0xd2f05e=>_0x5dd4bf(0x900)+_0xd2f05e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5dd4bf(0x55b)]('');break;case _0x5dd4bf(0x79f):_0x32ba22+=_0x5dd4bf(0x433),_0x32ba22+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x5dd4bf(0x6e0):case _0x5dd4bf(0x5b8):_0x32ba22+=_0x5dd4bf(0x64f);break;case'fill_in_the_blank':case _0x5dd4bf(0x465):default:_0x32ba22+=_0x8e72ce['options'][_0x5dd4bf(0x421)]((_0x325d37,_0x6ed7af)=>_0x5dd4bf(0x246)+_0x6ed7af+_0x5dd4bf(0x668)+_0x325d37+_0x5dd4bf(0x6e3))[_0x5dd4bf(0x55b)]('');break;}_0x32ba22+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x8e72ce[_0x5dd4bf(0x852)]||_0x5dd4bf(0x3cd))+_0x5dd4bf(0x6ca),_0x5797ea[_0x5dd4bf(0x343)]=_0x32ba22;if(window[_0x5dd4bf(0x450)])window['MathJax'][_0x5dd4bf(0x7cc)]([_0x5797ea]);document[_0x5dd4bf(0x7d8)]('.presentation-option')[_0x5dd4bf(0x5b6)](_0xafd246=>{const _0x1591bc=_0x5dd4bf;_0xafd246['addEventListener']('click',_0x5c1f95=>revealAnswerForPresentation(_0x485549,_0x5c1f95[_0x1591bc(0x20b)]));});const _0x45e296=document['getElementById'](_0x5dd4bf(0x56f));_0x45e296&&_0x45e296[_0x5dd4bf(0x2a3)](_0x5dd4bf(0x311),()=>checkShortAnswerForPresentation(_0x485549)),document[_0x5dd4bf(0x536)](_0x5dd4bf(0x789))['textContent']=_0x5dd4bf(0x5b5)+(_0x485549+0x1)+'\x20/\x20'+currentQuizData[_0x5dd4bf(0x7cf)][_0x5dd4bf(0x334)],document[_0x5dd4bf(0x536)](_0x5dd4bf(0x239))[_0x5dd4bf(0x315)]=_0x485549===0x0,document['getElementById'](_0x5dd4bf(0x6c3))[_0x5dd4bf(0x315)]=_0x485549===currentQuizData[_0x5dd4bf(0x7cf)][_0x5dd4bf(0x334)]-0x1;}async function checkShortAnswerForPresentation(_0x5361e4){const _0x4e2737=_0x527e23,_0x50c53f=currentQuizData[_0x4e2737(0x7cf)][_0x5361e4],_0xc3635=document[_0x4e2737(0x536)](_0x4e2737(0x48e)),_0xe05619=document[_0x4e2737(0x536)](_0x4e2737(0x56f)),_0x581630=document[_0x4e2737(0x536)](_0x4e2737(0x496)),_0x3e4e00=document[_0x4e2737(0x536)](_0x4e2737(0x48f));if(!_0xc3635||!_0xe05619||!_0x581630||!_0x3e4e00)return;const _0x3209ba=_0xc3635[_0x4e2737(0x4bd)][_0x4e2737(0x2a6)]();if(_0x3209ba==='')return;_0xe05619[_0x4e2737(0x315)]=!![],_0xe05619['innerHTML']=_0x4e2737(0x59c),_0xc3635[_0x4e2737(0x315)]=!![];const _0x1d93c8=await gradeShortAnswer(_0x3209ba,_0x50c53f);_0x1d93c8?_0x581630['innerHTML']=_0x4e2737(0x4e7):_0x581630[_0x4e2737(0x343)]=_0x4e2737(0x2bc)+_0x50c53f[_0x4e2737(0x8c0)]+')',_0x581630[_0x4e2737(0x932)][_0x4e2737(0x89c)](_0x4e2737(0x933)),_0x3e4e00['classList'][_0x4e2737(0x89c)](_0x4e2737(0x933)),_0xe05619[_0x4e2737(0x932)][_0x4e2737(0x596)](_0x4e2737(0x933));}function revealAnswerForPresentation(_0x2a1fff,_0x286238){const _0x4ccbd8=_0x527e23,_0x41e4b5=currentQuizData[_0x4ccbd8(0x7cf)][_0x2a1fff],_0x13b644=_0x41e4b5[_0x4ccbd8(0x307)]||currentQuizData[_0x4ccbd8(0x62c)];document[_0x4ccbd8(0x7d8)](_0x4ccbd8(0x4f6))['forEach'](_0x1b9aa1=>{const _0x292bdb=_0x4ccbd8;_0x1b9aa1['disabled']=!![],_0x1b9aa1[_0x292bdb(0x932)][_0x292bdb(0x89c)](_0x292bdb(0x7c6));let _0x54a2c3=![];if(_0x13b644===_0x292bdb(0x465)||_0x13b644==='fill_in_the_blank'){const _0x187698=parseInt(_0x1b9aa1[_0x292bdb(0x424)][_0x292bdb(0x5a9)]);_0x54a2c3=_0x187698===_0x41e4b5['correctAnswerIndex'];}else{if(_0x13b644===_0x292bdb(0x79f)){const _0x4fbc4c=_0x1b9aa1[_0x292bdb(0x424)][_0x292bdb(0x5de)]===_0x292bdb(0x2df);_0x54a2c3=_0x4fbc4c===_0x41e4b5['correctAnswer'];}else _0x13b644==='matching_item'&&(_0x54a2c3=_0x1b9aa1[_0x292bdb(0x69f)][_0x292bdb(0x2a6)]()===_0x41e4b5['correctResponse']);}_0x54a2c3?_0x1b9aa1[_0x292bdb(0x932)][_0x292bdb(0x596)](_0x292bdb(0x281),_0x292bdb(0x29f),_0x292bdb(0x3b2)):_0x1b9aa1[_0x292bdb(0x932)]['add'](_0x292bdb(0x869));}),_0x286238['classList'][_0x4ccbd8(0x89c)](_0x4ccbd8(0x869));let _0x583cb3=![];if(_0x13b644==='multiple_choice')_0x583cb3=parseInt(_0x286238['dataset'][_0x4ccbd8(0x5a9)])===_0x41e4b5[_0x4ccbd8(0x378)];else{if(_0x13b644==='true_false')_0x583cb3=_0x286238['dataset'][_0x4ccbd8(0x5de)]===_0x4ccbd8(0x2df)===_0x41e4b5[_0x4ccbd8(0x823)];else _0x13b644==='matching_item'&&(_0x583cb3=_0x286238[_0x4ccbd8(0x69f)]['trim']()===_0x41e4b5[_0x4ccbd8(0x413)]);}!_0x583cb3&&_0x286238[_0x4ccbd8(0x932)][_0x4ccbd8(0x596)]('bg-red-500',_0x4ccbd8(0x29f),'border-red-700'),document['getElementById'](_0x4ccbd8(0x48f))[_0x4ccbd8(0x932)][_0x4ccbd8(0x89c)](_0x4ccbd8(0x933));}function startWholeQuizTimer(_0x27e9cc){const _0x556d6e=_0x527e23,_0x438478=document[_0x556d6e(0x536)](_0x556d6e(0x884));if(!_0x438478)return;const _0x2cf198=Date['now']()+_0x27e9cc*0x3c*0x3e8;_0x438478[_0x556d6e(0x343)]=_0x556d6e(0x783);const _0x158ef2=document['getElementById'](_0x556d6e(0x741));quizTimerInterval=setInterval(()=>{const _0x112b69=_0x556d6e,_0x4bebe9=_0x2cf198-Date[_0x112b69(0x91e)]();if(_0x4bebe9<=0x0)clearInterval(quizTimerInterval),_0x158ef2[_0x112b69(0x69f)]='00:00',showMessage(_0x112b69(0x872)),handleSubmitQuiz(null);else{const _0xb51ca9=Math[_0x112b69(0x3b5)](_0x4bebe9/0x3e8/0x3c%0x3c)['toString']()[_0x112b69(0x615)](0x2,'0'),_0xa5b787=Math[_0x112b69(0x3b5)](_0x4bebe9/0x3e8%0x3c)[_0x112b69(0x793)]()['padStart'](0x2,'0');_0x158ef2[_0x112b69(0x69f)]=_0xb51ca9+':'+_0xa5b787;}},0x3e8);}function renderPerQuestionView(){const _0x3e71db=_0x527e23;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x70bd4=currentDisplayedQuiz[_0x3e71db(0x7cf)][currentQuestionIndex],_0x259be5=_0x70bd4[_0x3e71db(0x307)]||currentDisplayedQuiz[_0x3e71db(0x62c)];let _0x2d31fa=_0x3e71db(0x6a4)+(currentQuestionIndex+0x1)+_0x3e71db(0x4fb)+currentDisplayedQuiz['questions'][_0x3e71db(0x334)]+_0x3e71db(0x665)+(currentMode===_0x3e71db(0x5dc)?_0x3e71db(0x892):'')+_0x3e71db(0x513)+currentDisplayedQuiz[_0x3e71db(0x652)]+_0x3e71db(0x8aa)+(currentQuestionIndex===currentDisplayedQuiz[_0x3e71db(0x7cf)][_0x3e71db(0x334)]-0x1?_0x3e71db(0x66d):'คำถามถัดไป')+_0x3e71db(0x822);studentQuizArea[_0x3e71db(0x343)]=_0x2d31fa;let _0x177a88='',_0x129d16='';switch(_0x259be5){case _0x3e71db(0x30b):_0x177a88=currentQuestionIndex+0x1+'.\x20'+_0x70bd4[_0x3e71db(0x50c)],_0x129d16=_0x3e71db(0x5e3)+_0x70bd4['allResponses']['map'](_0x376185=>'<option\x20value=\x22'+_0x376185+'\x22>'+_0x376185+_0x3e71db(0x8de))['join']('')+_0x3e71db(0x917);break;case'true_false':_0x177a88=currentQuestionIndex+0x1+'.\x20'+_0x70bd4[_0x3e71db(0x7fc)],_0x129d16=_0x3e71db(0x855);break;case _0x3e71db(0x5b8):case'fill_in_no_choices':_0x177a88=currentQuestionIndex+0x1+'.\x20'+_0x70bd4[_0x3e71db(0x7fc)],_0x129d16=_0x3e71db(0x8e4);break;case'multiple_choice':case'fill_in_with_choices':default:_0x177a88=currentQuestionIndex+0x1+'.\x20'+_0x70bd4[_0x3e71db(0x7fc)],_0x129d16=_0x70bd4['options']['map']((_0x376b7d,_0x49e223)=>_0x3e71db(0x804)+_0x49e223+_0x3e71db(0x3e1)+_0x49e223+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0x49e223+'\x22>'+_0x376b7d+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x70bd4['imageCode']&&(_0x177a88+=_0x3e71db(0x7bf)+_0x70bd4[_0x3e71db(0x399)]+_0x3e71db(0x3b7));document[_0x3e71db(0x536)](_0x3e71db(0x253))[_0x3e71db(0x343)]=_0x177a88,document[_0x3e71db(0x536)](_0x3e71db(0x4c4))['innerHTML']=_0x129d16;if(currentMode==='admin-testing'){const _0x211d19=document[_0x3e71db(0x536)](_0x3e71db(0x8b0));if(_0x211d19)_0x211d19['addEventListener'](_0x3e71db(0x311),cancelAdminTest);}document[_0x3e71db(0x536)]('next-question-timed-btn')[_0x3e71db(0x2a3)](_0x3e71db(0x311),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x3e71db(0x450)]['typesetPromise']([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x4d7f8a=_0x527e23,_0x38b1e5=currentDisplayedQuiz[_0x4d7f8a(0x943)]['timerDuration'],_0x3666e0=document[_0x4d7f8a(0x536)](_0x4d7f8a(0x5a7));if(!_0x3666e0)return;let _0x4501b1=_0x38b1e5;_0x3666e0[_0x4d7f8a(0x343)]=_0x4d7f8a(0x6f8)+_0x4501b1+_0x4d7f8a(0x372);const _0x36b731=document[_0x4d7f8a(0x536)](_0x4d7f8a(0x62f)),_0x1c6f19=document[_0x4d7f8a(0x536)](_0x4d7f8a(0x693));perQuestionTimerInterval=setInterval(()=>{const _0x498294=_0x4d7f8a;_0x4501b1--;const _0x1ae43e=_0x4501b1/_0x38b1e5*0x64;_0x36b731[_0x498294(0x6e2)]['width']=_0x1ae43e+'%',_0x1c6f19['textContent']=_0x4501b1,_0x4501b1<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x498294(0x258)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x368744=![]){const _0x4e4071=_0x527e23;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4fa677=null;if(!_0x368744){const _0x3a31aa=currentDisplayedQuiz[_0x4e4071(0x7cf)][currentQuestionIndex],_0x1fe382=_0x3a31aa[_0x4e4071(0x307)]||currentDisplayedQuiz[_0x4e4071(0x62c)];if(_0x1fe382==='short_answer'||_0x1fe382==='fill_in_no_choices'){const _0x2948a5=document[_0x4e4071(0x1ed)](_0x4e4071(0x1bc));_0x4fa677=_0x2948a5?_0x2948a5[_0x4e4071(0x4bd)][_0x4e4071(0x2a6)]():'';}else{if(_0x1fe382===_0x4e4071(0x30b)){const _0x720504=document[_0x4e4071(0x1ed)](_0x4e4071(0x2f0));_0x4fa677=_0x720504?_0x720504['value']:'';}else{const _0x3a3d67=document[_0x4e4071(0x1ed)](_0x4e4071(0x727));if(_0x3a3d67){const _0x5938b8=_0x3a3d67['value'];_0x4fa677=!isNaN(parseInt(_0x5938b8,0xa))&&_0x5938b8[_0x4e4071(0x2a6)]()!==''?parseInt(_0x5938b8,0xa):_0x5938b8;}}}}studentAnswersPerQuestion[_0x4e4071(0x3eb)](_0x4fa677),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x4e4071(0x7cf)][_0x4e4071(0x334)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x1f1c81=_0x527e23,_0x5e031e=currentDisplayedQuiz[_0x1f1c81(0x7cf)]['some'](_0x18e087=>_0x18e087[_0x1f1c81(0x307)]==='short_answer');_0x5e031e?showMessage(_0x1f1c81(0x33c)):showMessage(_0x1f1c81(0x70d));const _0x5061de=currentQuizData['id'],_0x1338f1=doc(db,_0x1f1c81(0x51d)+appId+_0x1f1c81(0x8ef)+_0x5061de+_0x1f1c81(0x6a1),currentStudentName),_0x5bc292=await getDoc(_0x1338f1),_0x42d841=_0x5bc292['exists']()?_0x5bc292['data']():{},_0xc94481=_0x42d841['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0xc94481);}function getResultsFilename(){const _0x2084ce=_0x527e23,_0x3fe3ac=document[_0x2084ce(0x536)](_0x2084ce(0x6e9))[_0x2084ce(0x69f)]['replace'](/[^a-z0-9]/gi,'_')[_0x2084ce(0x76f)]();return _0x2084ce(0x61e)+(_0x3fe3ac||'quiz');}function exportResultsAsImage(){const _0x2584ba=_0x527e23,_0x432857=document['getElementById']('results-table-container');showMessage(_0x2584ba(0x444)),html2canvas(_0x432857)[_0x2584ba(0x4dd)](_0x377e20=>{const _0x4dd2b6=_0x2584ba,_0x29eac1=document[_0x4dd2b6(0x85f)]('a');_0x29eac1[_0x4dd2b6(0x326)]=getResultsFilename()+'.png',_0x29eac1[_0x4dd2b6(0x1ad)]=_0x377e20[_0x4dd2b6(0x2f9)](_0x4dd2b6(0x7d2)),_0x29eac1['click'](),messageModal[_0x4dd2b6(0x932)][_0x4dd2b6(0x596)]('hidden');});}function exportResultsAsPDF(){const _0x1433e1=_0x527e23,{jsPDF:_0x200048}=window[_0x1433e1(0x27a)],_0x29bcfb=new _0x200048();_0x29bcfb[_0x1433e1(0x32e)]('helvetica','normal'),_0x29bcfb[_0x1433e1(0x561)]({'html':_0x1433e1(0x5a6)}),_0x29bcfb[_0x1433e1(0x621)](getResultsFilename()+_0x1433e1(0x3a4));}function exportResultsAsWord(){const _0x50cbb8=_0x527e23,_0x5d4a5e=_0x50cbb8(0x7e8)+_0x50cbb8(0x324)+_0x50cbb8(0x3a1)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x276358=_0x50cbb8(0x85a),_0x239d1a=_0x5d4a5e+document[_0x50cbb8(0x536)](_0x50cbb8(0x6c0))[_0x50cbb8(0x343)]+_0x276358,_0x3bbf23=_0x50cbb8(0x7fd)+encodeURIComponent(_0x239d1a),_0x5508d0=document[_0x50cbb8(0x85f)]('a');document[_0x50cbb8(0x294)][_0x50cbb8(0x5f7)](_0x5508d0),_0x5508d0[_0x50cbb8(0x1ad)]=_0x3bbf23,_0x5508d0[_0x50cbb8(0x326)]=getResultsFilename()+_0x50cbb8(0x440),_0x5508d0['click'](),document[_0x50cbb8(0x294)][_0x50cbb8(0x840)](_0x5508d0);}function exportResultsAsExcel(){const _0x201c23=_0x527e23,_0x2bcbd1=document[_0x201c23(0x536)]('results-table');let _0x2458cb=[];for(let _0x1a9abb=0x0;_0x1a9abb<_0x2bcbd1[_0x201c23(0x2cb)][_0x201c23(0x334)];_0x1a9abb++){let _0x52f08b=[],_0x14e12d=_0x2bcbd1[_0x201c23(0x2cb)][_0x1a9abb]['querySelectorAll'](_0x201c23(0x7f7));for(let _0x5b9388=0x0;_0x5b9388<_0x14e12d[_0x201c23(0x334)];_0x5b9388++){_0x52f08b[_0x201c23(0x3eb)]('\x22'+_0x14e12d[_0x5b9388][_0x201c23(0x3ad)][_0x201c23(0x72f)](/"/g,'\x22\x22')+'\x22');}_0x2458cb['push'](_0x52f08b[_0x201c23(0x55b)](','));}const _0x2523c8=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2458cb[_0x201c23(0x55b)]('\x0a')],{'type':_0x201c23(0x1ca)}),_0x3996a8=document[_0x201c23(0x85f)]('a');_0x3996a8[_0x201c23(0x1ad)]=URL[_0x201c23(0x3df)](_0x2523c8),_0x3996a8[_0x201c23(0x326)]=getResultsFilename()+'.csv',_0x3996a8['click']();}function exportTableAsImage(_0x48ced3,_0x8edb51){const _0x16eab3=_0x527e23,_0xf2783a=document[_0x16eab3(0x536)](_0x48ced3);if(!_0xf2783a){showMessage(_0x16eab3(0x6b4));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0xf2783a)[_0x16eab3(0x4dd)](_0x453a78=>{const _0x4c17e1=_0x16eab3,_0xf17654=document[_0x4c17e1(0x85f)]('a');_0xf17654[_0x4c17e1(0x326)]=_0x8edb51+_0x4c17e1(0x6d4),_0xf17654[_0x4c17e1(0x1ad)]=_0x453a78[_0x4c17e1(0x2f9)](_0x4c17e1(0x7d2)),_0xf17654[_0x4c17e1(0x311)](),messageModal['classList'][_0x4c17e1(0x596)]('hidden');});}function exportTableAsPDF(_0x1aaf0f,_0x28481b){const _0x4e99c3=_0x527e23,{jsPDF:_0x473e5e}=window[_0x4e99c3(0x27a)],_0xc0f7c8=new _0x473e5e();_0xc0f7c8[_0x4e99c3(0x32e)](_0x4e99c3(0x54b),_0x4e99c3(0x1c3)),_0xc0f7c8[_0x4e99c3(0x561)]({'html':'#'+_0x1aaf0f}),_0xc0f7c8['save'](_0x28481b+_0x4e99c3(0x3a4));}function exportTableAsWord(_0x4ddc1a,_0x370d13){const _0x2034fe=_0x527e23,_0x173120=document[_0x2034fe(0x536)](_0x4ddc1a);if(!_0x173120){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x2a8d8d=_0x2034fe(0x7e8)+_0x2034fe(0x324)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x5c8fea=_0x2034fe(0x85a),_0x50fd5a=_0x2a8d8d+_0x173120['innerHTML']+_0x5c8fea,_0x2fecec=_0x2034fe(0x7fd)+encodeURIComponent(_0x50fd5a),_0x4088c8=document['createElement']('a');document[_0x2034fe(0x294)][_0x2034fe(0x5f7)](_0x4088c8),_0x4088c8[_0x2034fe(0x1ad)]=_0x2fecec,_0x4088c8[_0x2034fe(0x326)]=_0x370d13+'.doc',_0x4088c8['click'](),document[_0x2034fe(0x294)][_0x2034fe(0x840)](_0x4088c8);}function exportTableAsExcel(_0x1fedeb,_0x7fa001){const _0x584c3e=_0x527e23,_0x44420b=document[_0x584c3e(0x536)](_0x1fedeb);if(!_0x44420b){showMessage(_0x584c3e(0x6b4));return;}let _0x241078=[];for(let _0x41be93=0x0;_0x41be93<_0x44420b[_0x584c3e(0x2cb)][_0x584c3e(0x334)];_0x41be93++){let _0x3a671f=[],_0xebd81=_0x44420b['rows'][_0x41be93][_0x584c3e(0x7d8)](_0x584c3e(0x7f7));for(let _0x7a1979=0x0;_0x7a1979<_0xebd81[_0x584c3e(0x334)];_0x7a1979++){_0x3a671f[_0x584c3e(0x3eb)]('\x22'+_0xebd81[_0x7a1979][_0x584c3e(0x3ad)][_0x584c3e(0x72f)](/"/g,'\x22\x22')+'\x22');}_0x241078['push'](_0x3a671f['join'](','));}const _0xfdf9a0=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x241078['join']('\x0a')],{'type':_0x584c3e(0x1ca)}),_0x5e3847=document[_0x584c3e(0x85f)]('a');_0x5e3847['href']=URL['createObjectURL'](_0xfdf9a0),_0x5e3847[_0x584c3e(0x326)]=_0x7fa001+_0x584c3e(0x82f),_0x5e3847[_0x584c3e(0x311)]();}function renderAnalytics(_0x4ba786,_0x1213d8){const _0x3207de=_0x527e23,_0xa615f2=currentProjectData[_0x3207de(0x1e2)][_0x3207de(0x334)],_0x296286=_0x1213d8[_0x3207de(0x334)],_0x592f0d=_0xa615f2-_0x296286,_0x24efc4=_0xa615f2>0x0?_0x296286/_0xa615f2*0x64:0x0,_0x24ab38=_0x1213d8['map'](_0x64b299=>_0x64b299[_0x3207de(0x470)]),_0x2b28a0=_0x24ab38[_0x3207de(0x334)]>0x0?_0x24ab38['reduce']((_0x54bea1,_0x15a1d5)=>_0x54bea1+_0x15a1d5,0x0)/_0x24ab38['length']:0x0,_0x55e7fb=_0x4ba786['questions'][_0x3207de(0x334)],_0x4a23b4=_0x55e7fb>0x0?_0x2b28a0/_0x55e7fb*0x64:0x0,_0xe7c57c=calculateItemAnalysis(_0x4ba786,_0x1213d8),_0x10171f=calculateReliabilityKR20(_0x4ba786,_0x1213d8,_0xe7c57c[_0x3207de(0x5f6)]);let _0x24cc7f='';if(_0x10171f!==null){let _0x3cbd31='';if(_0x10171f>=0.9)_0x3cbd31=_0x3207de(0x80d);else{if(_0x10171f>=0.8)_0x3cbd31=_0x3207de(0x80f);else{if(_0x10171f>=0.7)_0x3cbd31='ดี';else{if(_0x10171f>=0.6)_0x3cbd31=_0x3207de(0x6ef);else _0x3cbd31=_0x3207de(0x891);}}}_0x24cc7f=_0x3207de(0x3c4)+_0x10171f[_0x3207de(0x6d3)](0x2)+_0x3207de(0x4e6)+_0x3cbd31+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x2a8eb4=document['getElementById'](_0x3207de(0x77b));_0x2a8eb4[_0x3207de(0x343)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x24efc4[_0x3207de(0x6d3)](0x0)+_0x3207de(0x591)+_0x296286+'/'+_0xa615f2+_0x3207de(0x5b9)+_0x2b28a0[_0x3207de(0x6d3)](0x2)+_0x3207de(0x690)+_0x4a23b4['toFixed'](0x0)+_0x3207de(0x7b5)+(_0x24ab38[_0x3207de(0x334)]>0x0?Math[_0x3207de(0x924)](..._0x24ab38):'N/A')+_0x3207de(0x4ae)+(_0x24ab38[_0x3207de(0x334)]>0x0?Math[_0x3207de(0x56a)](..._0x24ab38):_0x3207de(0x20f))+_0x3207de(0x3e9)+_0x24cc7f+'\x0a\x20\x20\x20\x20';const _0x1d4274=document[_0x3207de(0x536)](_0x3207de(0x637));_0x1d4274&&_0x1d4274['remove']();const _0x1367e3=_0x3207de(0x7c3);_0x2a8eb4[_0x3207de(0x286)](_0x3207de(0x510),_0x1367e3);const _0x567881=currentProjectData[_0x3207de(0x1e2)]||[];renderSubmissionChart(_0x296286,_0x592f0d,_0x1213d8,_0x567881),renderScoreDistributionChart(_0x1213d8,_0x55e7fb),renderQuestionAnalytics(_0x4ba786,_0x1213d8,_0x567881),renderInterestingStats(_0x4ba786,_0x1213d8);}async function handleExportLessonPDF(){const _0x363b23=_0x527e23,_0x590eca=document['getElementById'](_0x363b23(0x725)),_0x567950=document[_0x363b23(0x536)](_0x363b23(0x719))[_0x363b23(0x69f)],_0x11c045=window['open']('',_0x363b23(0x269)),_0x28a4db=_0x363b23(0x38a)+_0x567950+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x590eca[_0x363b23(0x343)]+_0x363b23(0x7ec);_0x11c045['document']['write'](_0x28a4db),_0x11c045[_0x363b23(0x5d0)]['close'](),_0x11c045[_0x363b23(0x8a3)]=function(){setTimeout(()=>{const _0x3b9ac5=_0x2f9e;_0x11c045[_0x3b9ac5(0x711)]();},0x5dc);};}function renderInterestingStats(_0x3ebb6f,_0x1af48c){const _0x12e67b=_0x527e23,_0x48fe84=document[_0x12e67b(0x536)](_0x12e67b(0x362));if(!_0x48fe84)return;if(_0x1af48c[_0x12e67b(0x334)]===0x0){_0x48fe84['innerHTML']=_0x12e67b(0x2ac);return;}const _0x4e5276=_0x3ebb6f[_0x12e67b(0x7cf)]['map']((_0x288e20,_0x262922)=>({'index':_0x262922+0x1,'text':_0x288e20[_0x12e67b(0x7fc)]||_0x288e20[_0x12e67b(0x50c)],'correct':0x0}));_0x1af48c[_0x12e67b(0x5b6)](_0x3af3fe=>{const _0x246430=_0x12e67b,_0x1aacac=_0x3af3fe[_0x246430(0x72a)][_0x3af3fe[_0x246430(0x72a)][_0x246430(0x334)]-0x1];_0x1aacac&&_0x1aacac[_0x246430(0x263)]&&_0x1aacac[_0x246430(0x263)][_0x246430(0x5b6)](_0x45b96a=>{const _0xd81212=_0x246430,_0x5cc7f3=_0x4e5276[_0xd81212(0x389)](_0x5c7729=>_0x5c7729[_0xd81212(0x532)]===_0x45b96a[_0xd81212(0x352)]);_0x45b96a[_0xd81212(0x614)]&&_0x5cc7f3&&_0x5cc7f3[_0xd81212(0x5fa)]++;});});const _0xbef26c=_0x1af48c[_0x12e67b(0x334)],_0x17ee03=Math['max'](..._0x4e5276[_0x12e67b(0x421)](_0x33b7c9=>_0x33b7c9[_0x12e67b(0x5fa)])),_0x41bf34=Math[_0x12e67b(0x56a)](..._0x4e5276[_0x12e67b(0x421)](_0x3d0f42=>_0x3d0f42[_0x12e67b(0x5fa)])),_0xe45f59=_0x4e5276[_0x12e67b(0x8fe)](_0x13f9a7=>_0x13f9a7['correct']===_0x17ee03)['map'](_0x1a1cef=>_0x12e67b(0x229)+_0x1a1cef[_0x12e67b(0x5a9)]),_0x16bc5f=_0x4e5276['filter'](_0x2f4ec7=>_0x2f4ec7['correct']===_0x41bf34)[_0x12e67b(0x421)](_0x5aaf9d=>_0x12e67b(0x229)+_0x5aaf9d['index']),_0x210314=_0x1af48c['sort']((_0x54abc9,_0x4e8b3)=>_0x4e8b3[_0x12e67b(0x470)]-_0x54abc9[_0x12e67b(0x470)])[_0x12e67b(0x8fe)]((_0x38487e,_0x9c659f,_0x57bb1b)=>_0x38487e[_0x12e67b(0x470)]===_0x57bb1b[0x0]['latestScore']),_0x195f47=_0x1af48c['sort']((_0x21c7d1,_0xccc72e)=>_0x21c7d1[_0x12e67b(0x470)]-_0xccc72e[_0x12e67b(0x470)])['filter']((_0x330cb2,_0x337e4c,_0x3511ce)=>_0x330cb2[_0x12e67b(0x470)]===_0x3511ce[0x0][_0x12e67b(0x470)]),_0x3fdbf7=_0x12e67b(0x46e)+_0xe45f59[_0x12e67b(0x55b)](',\x20')+_0x12e67b(0x38c)+_0x17ee03+_0x12e67b(0x739)+_0xbef26c+_0x12e67b(0x2eb)+_0x16bc5f[_0x12e67b(0x55b)](',\x20')+_0x12e67b(0x38c)+(_0xbef26c-_0x41bf34)+_0x12e67b(0x739)+_0xbef26c+_0x12e67b(0x526)+_0x210314[_0x12e67b(0x421)](_0x534545=>_0x534545[_0x12e67b(0x7e1)])[_0x12e67b(0x55b)](',\x20')+_0x12e67b(0x854)+_0x210314[0x0][_0x12e67b(0x470)]+_0x12e67b(0x6e7)+_0x195f47[_0x12e67b(0x421)](_0x51c22c=>_0x51c22c[_0x12e67b(0x7e1)])[_0x12e67b(0x55b)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x195f47[0x0][_0x12e67b(0x470)]+_0x12e67b(0x8e3);_0x48fe84[_0x12e67b(0x343)]=_0x3fdbf7;}function renderSubmissionChart(_0x24320d,_0x216b6f,_0x130f82,_0x206185){const _0x58df9c=_0x527e23,_0x43a804=document[_0x58df9c(0x536)](_0x58df9c(0x1fa))[_0x58df9c(0x6be)]('2d'),_0x38ba1c=_0x130f82['map'](_0x250fb6=>_0x250fb6[_0x58df9c(0x7e1)]),_0xa7a458=_0x206185[_0x58df9c(0x8fe)](_0x365b2f=>!_0x38ba1c[_0x58df9c(0x809)](_0x365b2f));chartInstances[_0x58df9c(0x58d)]&&chartInstances['submission'][_0x58df9c(0x649)](),chartInstances['submission']=new Chart(_0x43a804,{'type':_0x58df9c(0x5f0),'data':{'labels':[_0x58df9c(0x6b6),_0x58df9c(0x720)],'datasets':[{'data':[_0x24320d,_0x216b6f],'backgroundColor':[_0x58df9c(0x732),_0x58df9c(0x241)],'borderColor':[_0x58df9c(0x48d),_0x58df9c(0x48d)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x421445){const _0x527d80=_0x58df9c;let _0x128ad7=_0x421445['label']||'';return _0x128ad7&&(_0x128ad7+=':\x20'),_0x128ad7+=_0x421445[_0x527d80(0x1d8)],_0x128ad7;},'afterLabel':function(_0x142c38){const _0x33c9b9=_0x58df9c;let _0x5325e9;return _0x142c38[_0x33c9b9(0x22c)]===0x0?_0x5325e9=_0x38ba1c:_0x5325e9=_0xa7a458,_0x5325e9[_0x33c9b9(0x334)]>0x0?_0x5325e9['join']('\x0a'):_0x33c9b9(0x750);}}}}}});}function renderScoreDistributionChart(_0x1c4c2b,_0x1c7f0b){const _0x506193=_0x527e23,_0x250d25=document['getElementById'](_0x506193(0x5e6))[_0x506193(0x6be)]('2d'),_0x5e7a08={};for(let _0x130ed0=0x0;_0x130ed0<=_0x1c7f0b;_0x130ed0++){_0x5e7a08[_0x130ed0]=0x0;}_0x1c4c2b['forEach'](_0x30127d=>{const _0x3e3308=_0x506193;_0x5e7a08[_0x30127d[_0x3e3308(0x470)]]!==undefined&&_0x5e7a08[_0x30127d[_0x3e3308(0x470)]]++;}),chartInstances[_0x506193(0x90e)]&&chartInstances[_0x506193(0x90e)]['destroy'](),chartInstances[_0x506193(0x90e)]=new Chart(_0x250d25,{'type':_0x506193(0x3fb),'data':{'labels':Object['keys'](_0x5e7a08),'datasets':[{'label':_0x506193(0x942),'data':Object[_0x506193(0x367)](_0x5e7a08),'backgroundColor':_0x506193(0x4c5),'borderColor':_0x506193(0x4e0),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x506193(0x928)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x2ffff9){const _0x5126d9=_0x506193,_0xe5f291=_0x2ffff9[_0x5126d9(0x89a)],_0x513133=_0x1c4c2b[_0x5126d9(0x8fe)](_0xf4fdea=>_0xf4fdea[_0x5126d9(0x470)]==_0xe5f291)['map'](_0x31493f=>_0x31493f[_0x5126d9(0x7e1)]);return _0x513133['length']>0x0?_0x513133[_0x5126d9(0x55b)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x281071,_0x3ee10b,_0x4a2f56){const _0x4cd5ed=_0x527e23,_0x55dd0a=document[_0x4cd5ed(0x536)](_0x4cd5ed(0x8d7));if(_0x4a2f56['length']===0x0){_0x55dd0a['innerHTML']=_0x4cd5ed(0x786);return;}const _0x41bedc=calculateItemAnalysis(_0x281071,_0x3ee10b),_0x2279fa=calculateDistractorAnalysis(_0x281071,_0x3ee10b);let _0x5f36db='';_0x41bedc[_0x4cd5ed(0x79d)]&&(_0x5f36db=_0x4cd5ed(0x866)+_0x41bedc[_0x4cd5ed(0x79d)][_0x4cd5ed(0x903)][_0x4cd5ed(0x334)]+_0x4cd5ed(0x1c4)+_0x41bedc[_0x4cd5ed(0x79d)][_0x4cd5ed(0x903)]['map'](_0x1f207d=>_0x4cd5ed(0x2aa)+_0x1f207d+'</li>')['join']('')+_0x4cd5ed(0x90f)+_0x41bedc[_0x4cd5ed(0x79d)]['lowerGroupNames'][_0x4cd5ed(0x334)]+_0x4cd5ed(0x1c4)+_0x41bedc[_0x4cd5ed(0x79d)]['lowerGroupNames']['map'](_0x10f917=>'<li>'+_0x10f917+_0x4cd5ed(0x3d0))[_0x4cd5ed(0x55b)]('')+_0x4cd5ed(0x574));let _0x222c30='';const _0x4a4485=_0x3ee10b[_0x4cd5ed(0x421)](_0x4bc14c=>_0x4bc14c[_0x4cd5ed(0x7e1)]),_0x23443e=_0x1b52c0=>{const _0x3ceaca=_0x4cd5ed;if(_0x1b52c0>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x1b52c0>=0.6)return _0x3ceaca(0x8eb);if(_0x1b52c0>=0.4)return _0x3ceaca(0x66f);if(_0x1b52c0>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x30c50f=_0x186264=>{const _0x44fe8c=_0x4cd5ed;if(_0x186264<0x0)return _0x44fe8c(0x2c4);if(_0x186264>=0.4)return _0x44fe8c(0x25b);if(_0x186264>=0.3)return _0x44fe8c(0x3c7);if(_0x186264>=0.2)return _0x44fe8c(0x348);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x1d865e=_0x1b11d3=>{const _0x3854e9=_0x4cd5ed,_0x579d4a=_0x1b11d3[_0x3854e9(0x6d3)](0x0);if(parseFloat(_0x579d4a)===0x64)return _0x3854e9(0x1b3)+_0x579d4a+_0x3854e9(0x83a);if(_0x1b11d3>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x579d4a+_0x3854e9(0x83a);return _0x3854e9(0x364)+_0x579d4a+_0x3854e9(0x83a);};_0x281071[_0x4cd5ed(0x7cf)][_0x4cd5ed(0x5b6)]((_0x524393,_0x582cd4)=>{const _0x5737c5=_0x4cd5ed,_0x280985=_0x41bedc['perQuestionStats'][_0x582cd4],_0xe0f0c3=_0x2279fa[_0x582cd4],_0x24cc96=_0x524393[_0x5737c5(0x50c)]||_0x524393['questionText']||_0x524393[_0x5737c5(0x61a)];let _0x4657d0=0x0;const _0x81029e=[],_0x3c881a=[];_0x3ee10b[_0x5737c5(0x5b6)](_0x4bc95d=>{const _0x175484=_0x5737c5,_0x3c59e6=_0x4bc95d[_0x175484(0x72a)][_0x4bc95d[_0x175484(0x72a)]['length']-0x1];if(_0x3c59e6&&_0x3c59e6[_0x175484(0x263)]){const _0x4e8f29=_0x3c59e6[_0x175484(0x263)][_0x175484(0x389)](_0xa9416=>_0xa9416[_0x175484(0x352)]===_0x24cc96)??_0x3c59e6[_0x175484(0x263)][_0x582cd4]??null;_0x4e8f29&&(_0x4e8f29[_0x175484(0x614)]?(_0x4657d0++,_0x81029e[_0x175484(0x3eb)](_0x4bc95d[_0x175484(0x7e1)])):_0x3c881a[_0x175484(0x3eb)](_0x4bc95d[_0x175484(0x7e1)]));}});const _0x36840e=_0x3ee10b[_0x5737c5(0x334)]>0x0?_0x4657d0/_0x3ee10b[_0x5737c5(0x334)]*0x64:0x0,_0x3e8bac=_0x4a2f56[_0x5737c5(0x8fe)](_0x1b59bf=>!_0x4a4485[_0x5737c5(0x809)](_0x1b59bf)),_0x30991d=_0x280985?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x280985['p'][_0x5737c5(0x6d3)](0x2)+'</p><div>'+_0x23443e(_0x280985['p'])+_0x5737c5(0x757)+_0x280985['r'][_0x5737c5(0x6d3)](0x2)+_0x5737c5(0x5cf)+_0x30c50f(_0x280985['r'])+_0x5737c5(0x464)+_0x1d865e(_0x36840e)+_0x5737c5(0x5f3):'';let _0x5d3629='';_0xe0f0c3&&(_0x5d3629=_0x5737c5(0x760)+Object[_0x5737c5(0x623)](_0xe0f0c3)[_0x5737c5(0x421)](_0x43c361=>{const _0x52d262=_0x5737c5,_0x4ef0d3=_0xe0f0c3[_0x43c361],_0x5a4ab8=parseInt(_0x43c361)===_0x524393['correctAnswerIndex'],_0x3928f0=!_0x5a4ab8&&_0x4ef0d3[_0x52d262(0x283)]>_0x4ef0d3[_0x52d262(0x922)];return _0x52d262(0x233)+(_0x5a4ab8?_0x52d262(0x894):'')+_0x52d262(0x72b)+(_0x5a4ab8?'✔\x20':'')+_0x4ef0d3[_0x52d262(0x532)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4ef0d3[_0x52d262(0x922)]+_0x52d262(0x60e)+_0x4ef0d3['lower_group_count']+'\x20'+(_0x3928f0?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4ef0d3[_0x52d262(0x6a6)]+_0x52d262(0x7fa);})[_0x5737c5(0x55b)]('')+_0x5737c5(0x2fd));let _0x406d72='';_0x280985&&_0x280985['upperGroupResponders']&&(_0x406d72=_0x5737c5(0x7c9)+_0x280985[_0x5737c5(0x478)][_0x5737c5(0x334)]+_0x5737c5(0x7ff)+_0x280985['upperGroupResponders'][_0x5737c5(0x421)](_0x267bc6=>'<li>'+(_0x267bc6['isCorrect']?_0x5737c5(0x82a):_0x5737c5(0x54e))+'\x20'+_0x267bc6['name']+_0x5737c5(0x3d0))[_0x5737c5(0x55b)]('')+_0x5737c5(0x5a2)+_0x280985[_0x5737c5(0x86d)][_0x5737c5(0x334)]+_0x5737c5(0x7ff)+_0x280985[_0x5737c5(0x86d)][_0x5737c5(0x421)](_0x5ebd78=>_0x5737c5(0x2aa)+(_0x5ebd78[_0x5737c5(0x614)]?_0x5737c5(0x82a):_0x5737c5(0x54e))+'\x20'+_0x5ebd78[_0x5737c5(0x882)]+_0x5737c5(0x3d0))[_0x5737c5(0x55b)]('')+_0x5737c5(0x417)),_0x222c30+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x582cd4+0x1)+':\x20'+_0x24cc96+_0x5737c5(0x7cb)+_0x30991d+_0x5737c5(0x4e9)+_0x24cc96+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x4657d0+_0x5737c5(0x4fb)+_0x3ee10b['length']+_0x5737c5(0x728)+_0x36840e[_0x5737c5(0x6d3)](0x0)+_0x5737c5(0x22f)+_0x81029e['length']+_0x5737c5(0x5d8)+(_0x81029e['length']>0x0?_0x81029e[_0x5737c5(0x55b)](',\x20'):_0x5737c5(0x750))+_0x5737c5(0x23f)+_0x3c881a[_0x5737c5(0x334)]+_0x5737c5(0x5d8)+(_0x3c881a[_0x5737c5(0x334)]>0x0?_0x3c881a[_0x5737c5(0x55b)](',\x20'):_0x5737c5(0x750))+_0x5737c5(0x6e4)+_0x3e8bac[_0x5737c5(0x334)]+_0x5737c5(0x5d8)+(_0x3e8bac['length']>0x0?_0x3e8bac[_0x5737c5(0x55b)](',\x20'):_0x5737c5(0x750))+_0x5737c5(0x208)+_0x5d3629+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x406d72+_0x5737c5(0x65f);}),_0x55dd0a[_0x4cd5ed(0x343)]=_0x5f36db+_0x222c30;try{window[_0x4cd5ed(0x450)]&&MathJax[_0x4cd5ed(0x7cc)]&&MathJax[_0x4cd5ed(0x7cc)]([_0x55dd0a]);}catch(_0x308a7c){console[_0x4cd5ed(0x52f)](_0x4cd5ed(0x4ef),_0x308a7c);}}function calculateDistractorAnalysis(_0x461fb9,_0x303808){const _0x473420=_0x527e23,_0x396111={};if(_0x303808[_0x473420(0x334)]<0x2)return _0x396111;const _0x31f5af=[..._0x303808][_0x473420(0x34f)]((_0x3c8c7a,_0x222580)=>{const _0x1368f1=_0x473420,_0xd8c55c=_0x222580['latestScore']-_0x3c8c7a[_0x1368f1(0x470)];if(_0xd8c55c!==0x0)return _0xd8c55c;const _0x457644=_0x3c8c7a[_0x1368f1(0x72a)]?.[_0x1368f1(0x334)]||0x1,_0x4973d8=_0x222580['attempts']?.[_0x1368f1(0x334)]||0x1,_0x59da07=_0x457644-_0x4973d8;if(_0x59da07!==0x0)return _0x59da07;const _0x1958b0=new Date(_0x3c8c7a[_0x1368f1(0x29d)]),_0x299e80=new Date(_0x222580[_0x1368f1(0x29d)]),_0x28e7c7=_0x1958b0-_0x299e80;if(_0x28e7c7!==0x0)return _0x28e7c7;return _0x3c8c7a[_0x1368f1(0x7e1)][_0x1368f1(0x1ae)](_0x222580[_0x1368f1(0x7e1)],'th');}),_0x2ab88c=_0x31f5af[_0x473420(0x334)],_0x53adc3=Math[_0x473420(0x924)](0x1,Math['floor'](_0x2ab88c*0.33)),_0x4d1ded=_0x31f5af[_0x473420(0x7a4)](0x0,_0x53adc3),_0x4eee04=_0x31f5af['slice'](-_0x53adc3);return _0x461fb9[_0x473420(0x7cf)][_0x473420(0x5b6)]((_0xc80839,_0x491364)=>{const _0x5b0832=_0x473420;if(_0xc80839[_0x5b0832(0x307)]!==_0x5b0832(0x465)||!_0xc80839['options'])return;const _0x1ac449=_0xc80839['questionText'],_0x3581d9={};_0xc80839[_0x5b0832(0x23c)][_0x5b0832(0x5b6)]((_0x128589,_0x2a3624)=>{_0x3581d9[_0x2a3624]={'text':_0x128589,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x31f5af[_0x5b0832(0x5b6)](_0x5f9bba=>{const _0x18f755=_0x5b0832,_0x18c1be=_0x5f9bba[_0x18f755(0x72a)][_0x5f9bba[_0x18f755(0x72a)]['length']-0x1],_0x285264=_0x18c1be[_0x18f755(0x263)][_0x18f755(0x389)](_0x3b3d4b=>_0x3b3d4b[_0x18f755(0x352)]===_0x1ac449);if(_0x285264&&_0x285264['answer']!==null){const _0x89aeaa=_0xc80839[_0x18f755(0x23c)]['findIndex'](_0x162112=>_0x162112===_0x285264[_0x18f755(0x338)]);_0x89aeaa!==-0x1&&_0x3581d9[_0x89aeaa]&&(_0x3581d9[_0x89aeaa][_0x18f755(0x6a6)]++,_0x4d1ded[_0x18f755(0x809)](_0x5f9bba)&&_0x3581d9[_0x89aeaa]['upper_group_count']++,_0x4eee04[_0x18f755(0x809)](_0x5f9bba)&&_0x3581d9[_0x89aeaa]['lower_group_count']++);}}),_0x396111[_0x491364]=_0x3581d9;}),_0x396111;}function calculateReliabilityKR20(_0x41c38a,_0x1fc502,_0xc2a4f6){const _0x31e345=_0x527e23,_0x2d423b=_0x41c38a['questions']['length'];if(_0x2d423b<0x2||_0x1fc502[_0x31e345(0x334)]<0x2)return null;const _0x11f219=_0x1fc502[_0x31e345(0x421)](_0x55be95=>_0x55be95[_0x31e345(0x470)]),_0xf8783f=_0x11f219[_0x31e345(0x768)]((_0x2a8c5b,_0x1de9aa)=>_0x2a8c5b+_0x1de9aa,0x0)/_0x11f219[_0x31e345(0x334)],_0x3c8fee=_0x11f219[_0x31e345(0x421)](_0x390ad1=>Math[_0x31e345(0x42c)](_0x390ad1-_0xf8783f,0x2))[_0x31e345(0x768)]((_0x408184,_0x2cf024)=>_0x408184+_0x2cf024,0x0)/_0x11f219[_0x31e345(0x334)];if(_0x3c8fee===0x0)return null;let _0x3e634d=0x0;for(let _0x19f123=0x0;_0x19f123<_0x2d423b;_0x19f123++){const _0x219240=_0xc2a4f6[_0x19f123]?.['p'];if(_0x219240===undefined)continue;const _0x285937=0x1-_0x219240;_0x3e634d+=_0x219240*_0x285937;}if(_0x3e634d===0x0)return null;const _0x595c46=_0x2d423b/(_0x2d423b-0x1)*(0x1-_0x3e634d/_0x3c8fee);if(_0x595c46>0x1)return null;return _0x595c46;}async function handleAnalyzeClass(){const _0xb3580=_0x527e23;if(!currentQuizData||!currentQuizData['id']){showMessage(_0xb3580(0x480));return;}const _0x20aecb=collection(db,_0xb3580(0x51d)+appId+_0xb3580(0x8ef)+currentQuizData['id']+_0xb3580(0x6a1)),_0x256218=await getDocs(_0x20aecb),_0x2d8930=_0x256218[_0xb3580(0x34b)]['map'](_0xcdadb6=>_0xcdadb6[_0xb3580(0x3b3)]());if(_0x2d8930[_0xb3580(0x334)]<0x2){showMessage(_0xb3580(0x60f));return;}const _0x35444a=document[_0xb3580(0x536)](_0xb3580(0x51e));_0x35444a['innerHTML']=_0xb3580(0x6a3),document[_0xb3580(0x536)](_0xb3580(0x3ac))[_0xb3580(0x315)]=!![];const _0x2826c8=_0x2d8930[_0xb3580(0x421)]((_0x4629ab,_0x45ef57)=>{const _0xb8ce51=_0xb3580,_0x475876=_0x4629ab['attempts'][_0x4629ab['attempts'][_0xb8ce51(0x334)]-0x1];if(!_0x475876)return'';return _0xb8ce51(0x4cf)+(_0x45ef57+0x1)+'\x20('+_0x4629ab[_0xb8ce51(0x7e1)]+_0xb8ce51(0x45b)+_0x475876[_0xb8ce51(0x90e)]+'/'+_0x4629ab[_0xb8ce51(0x535)]+_0xb8ce51(0x799)+JSON[_0xb8ce51(0x1fb)](_0x475876['answers'])+_0xb8ce51(0x305);})['join'](_0xb3580(0x803)),_0x240d31=_0xb3580(0x28e)+currentQuizData[_0xb3580(0x652)]+_0xb3580(0x689)+JSON['stringify'](currentQuizData[_0xb3580(0x7cf)])+_0xb3580(0x397)+_0x2826c8+_0xb3580(0x1c8),_0x37d8cc={'type':_0xb3580(0x7e3),'properties':{'classStrengths':{'type':_0xb3580(0x1d1),'items':{'type':_0xb3580(0x62b)}},'classWeaknesses':{'type':_0xb3580(0x1d1),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0xb3580(0x1d1),'items':{'type':_0xb3580(0x62b)}}},'required':[_0xb3580(0x36b),_0xb3580(0x250),_0xb3580(0x722)]};try{const _0xff9951=await callAnalysisApi(_0x240d31,_0x37d8cc);displayClassAnalysis(_0xff9951);}catch(_0x1774ce){console[_0xb3580(0x52f)](_0xb3580(0x4a3),_0x1774ce),_0x35444a[_0xb3580(0x343)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x1774ce[_0xb3580(0x34c)]+_0xb3580(0x3bd);}finally{document['getElementById'](_0xb3580(0x3ac))[_0xb3580(0x315)]=![];}}function displayClassAnalysis(_0x4c278b){const _0x402bdd=_0x527e23,_0x82ca7b=document[_0x402bdd(0x536)](_0x402bdd(0x51e));if(!_0x4c278b){_0x82ca7b['innerHTML']=_0x402bdd(0x3d1);return;}_0x82ca7b[_0x402bdd(0x343)]=_0x402bdd(0x46c)+_0x4c278b[_0x402bdd(0x36b)][_0x402bdd(0x421)](_0x217457=>_0x402bdd(0x2aa)+_0x217457+_0x402bdd(0x3d0))[_0x402bdd(0x55b)]('')+_0x402bdd(0x781)+_0x4c278b[_0x402bdd(0x250)][_0x402bdd(0x421)](_0x3f4cd4=>_0x402bdd(0x2aa)+_0x3f4cd4+'</li>')[_0x402bdd(0x55b)]('')+_0x402bdd(0x482)+_0x4c278b[_0x402bdd(0x722)][_0x402bdd(0x421)](_0x3b2919=>_0x402bdd(0x2aa)+_0x3b2919+'</li>')[_0x402bdd(0x55b)]('')+_0x402bdd(0x230);}function formatAndPrintWorksheet(_0x44be1f,_0x5ba323){const _0x283f36=_0x527e23,_0x34f83e=_0x283f36(0x663)+_0x44be1f[_0x283f36(0x652)]+_0x283f36(0x91f)+_0x44be1f[_0x283f36(0x652)]+_0x283f36(0x62e)+_0x44be1f[_0x283f36(0x7cf)][_0x283f36(0x421)]((_0x595591,_0x147026)=>_0x283f36(0x692)+(_0x147026+0x1)+'.\x20'+_0x595591[_0x283f36(0x7fc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x595591[_0x283f36(0x399)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x595591['imageCode']+_0x283f36(0x3b7):'')+_0x283f36(0x3a0))[_0x283f36(0x55b)]('')+_0x283f36(0x6ea);_0x5ba323[_0x283f36(0x5d0)][_0x283f36(0x4c8)](_0x34f83e),_0x5ba323[_0x283f36(0x5d0)][_0x283f36(0x815)](),_0x5ba323[_0x283f36(0x8a3)]=function(){setTimeout(()=>{const _0xd03ce6=_0x2f9e;_0x5ba323[_0xd03ce6(0x711)]();},0x3e8);};}async function generateWorksheet(){const _0x1ca5ed=_0x527e23,_0xcbe1ae=document[_0x1ca5ed(0x536)](_0x1ca5ed(0x252))['value'][_0x1ca5ed(0x2a6)]();if(!_0xcbe1ae){showMessage(_0x1ca5ed(0x8e9));return;}const _0x421df5=document['getElementById']('force-math-checkbox')[_0x1ca5ed(0x40b)],_0x4030e6=_0x421df5?'':'คณิตศาสตร์',_0xabceaa=window[_0x1ca5ed(0x758)]('',_0x1ca5ed(0x269));_0xabceaa[_0x1ca5ed(0x5d0)][_0x1ca5ed(0x4c8)](_0x1ca5ed(0x860));const _0x5b2bee=parseInt(document[_0x1ca5ed(0x536)](_0x1ca5ed(0x679))['value']),_0x4ba62f=document[_0x1ca5ed(0x536)](_0x1ca5ed(0x38b))[_0x1ca5ed(0x40b)],_0x1b2821=_0x4ba62f?_0x1ca5ed(0x925):'',_0x251388=_0x1ca5ed(0x52e)+_0x4030e6+_0x1ca5ed(0x790)+_0x5b2bee+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0xcbe1ae+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b2821+_0x1ca5ed(0x45c)+simpleMathPrompt+_0x1ca5ed(0x68b),_0x7450c={'type':_0x1ca5ed(0x7e3),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1ca5ed(0x1d1),'items':{'type':_0x1ca5ed(0x7e3),'properties':{'questionText':{'type':_0x1ca5ed(0x62b)},'imageCode':{'type':_0x1ca5ed(0x62b)}},'required':[_0x1ca5ed(0x7fc)]}}},'required':[_0x1ca5ed(0x652),_0x1ca5ed(0x7cf)]};document[_0x1ca5ed(0x536)](_0x1ca5ed(0x4c3))[_0x1ca5ed(0x69f)]='',document[_0x1ca5ed(0x536)]('loader')[_0x1ca5ed(0x932)][_0x1ca5ed(0x89c)](_0x1ca5ed(0x933)),document[_0x1ca5ed(0x536)](_0x1ca5ed(0x5f5))['classList'][_0x1ca5ed(0x89c)](_0x1ca5ed(0x933)),generateWorksheetBtn[_0x1ca5ed(0x315)]=!![];try{const _0x4e642a=await callAnalysisApi(_0x251388,_0x7450c);formatAndPrintWorksheet(_0x4e642a,_0xabceaa);}catch(_0x267d81){console[_0x1ca5ed(0x52f)]('Error\x20generating\x20worksheet:',_0x267d81);if(_0xabceaa)_0xabceaa['close']();showMessage(_0x1ca5ed(0x319));}finally{document[_0x1ca5ed(0x536)](_0x1ca5ed(0x897))[_0x1ca5ed(0x932)][_0x1ca5ed(0x596)](_0x1ca5ed(0x933)),document['getElementById'](_0x1ca5ed(0x5f5))['classList'][_0x1ca5ed(0x596)](_0x1ca5ed(0x933)),generateWorksheetBtn[_0x1ca5ed(0x315)]=![];}}async function callAnalysisApi(_0x3248e6,_0x2e01f3){const _0x230ef5=_0x527e23,_0x17adb4={'contents':[{'role':_0x230ef5(0x729),'parts':[{'text':_0x3248e6}]}],'generationConfig':{'responseMimeType':_0x230ef5(0x4f9),'responseSchema':_0x2e01f3}},_0x5344d5=_0x230ef5(0x31e),_0x5a9d53=_0x230ef5(0x76e)+_0x5344d5,_0x33cdea=await fetch(_0x5a9d53,{'method':_0x230ef5(0x270),'headers':{'Content-Type':_0x230ef5(0x4f9)},'body':JSON[_0x230ef5(0x1fb)](_0x17adb4)});if(!_0x33cdea['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x33cdea['status']);const _0x2f2c25=await _0x33cdea[_0x230ef5(0x299)]();if(_0x2f2c25[_0x230ef5(0x409)]?.[0x0]?.[_0x230ef5(0x90c)]?.[_0x230ef5(0x396)]?.[0x0])return JSON[_0x230ef5(0x676)](_0x2f2c25[_0x230ef5(0x409)][0x0]['content'][_0x230ef5(0x396)][0x0][_0x230ef5(0x532)]);else{let _0x4340ae=_0x230ef5(0x677);if(_0x2f2c25[_0x230ef5(0x3b9)]?.[_0x230ef5(0x3f7)])_0x4340ae=_0x230ef5(0x376)+_0x2f2c25[_0x230ef5(0x3b9)][_0x230ef5(0x3f7)]+'.';else _0x2f2c25[_0x230ef5(0x409)]?.[0x0]?.[_0x230ef5(0x5e2)]&&_0x2f2c25[_0x230ef5(0x409)][0x0]['finishReason']!=='STOP'&&(_0x4340ae=_0x230ef5(0x2b5)+_0x2f2c25['candidates'][0x0]['finishReason']+'.');console['error'](_0x4340ae,JSON[_0x230ef5(0x1fb)](_0x2f2c25));throw new Error(_0x4340ae);}}initialize();
