const _0x3a9f7b=_0x57a1;(function(_0x417911,_0x3b7c8d){const _0xc0603c=_0x57a1,_0x1658f1=_0x417911();while(!![]){try{const _0x3b2c38=parseInt(_0xc0603c(0xa3a))/0x1*(-parseInt(_0xc0603c(0x37f))/0x2)+-parseInt(_0xc0603c(0x4c3))/0x3+parseInt(_0xc0603c(0x747))/0x4*(parseInt(_0xc0603c(0x8d8))/0x5)+parseInt(_0xc0603c(0x8c7))/0x6*(-parseInt(_0xc0603c(0x224))/0x7)+parseInt(_0xc0603c(0x62b))/0x8+-parseInt(_0xc0603c(0xa5d))/0x9*(parseInt(_0xc0603c(0x2ba))/0xa)+-parseInt(_0xc0603c(0x73d))/0xb*(-parseInt(_0xc0603c(0x282))/0xc);if(_0x3b2c38===_0x3b7c8d)break;else _0x1658f1['push'](_0x1658f1['shift']());}catch(_0x1fa4f2){_0x1658f1['push'](_0x1658f1['shift']());}}}(_0x150e,0x80276));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x3a9f7b(0x815),_0x3a9f7b(0xd5a),'เทพทรู',_0x3a9f7b(0x168),_0x3a9f7b(0x6e1),_0x3a9f7b(0xb1f),_0x3a9f7b(0x1ba),_0x3a9f7b(0x632),_0x3a9f7b(0xbb8),'จิงโจ้สโลว์ไลฟ์',_0x3a9f7b(0x876),_0x3a9f7b(0xdf),'เงาปริศนา','สายลมแห่งโชคชะตา',_0x3a9f7b(0x4c6),_0x3a9f7b(0x4b8),_0x3a9f7b(0x155),'ซามูไรสายเดี่ยว',_0x3a9f7b(0x4b6),_0x3a9f7b(0x927),_0x3a9f7b(0x74c),_0x3a9f7b(0xc6),'ปลาทูคะนอง',_0x3a9f7b(0x93b),'กุ้งเต้นแร้งกา',_0x3a9f7b(0x7e4),_0x3a9f7b(0x24d),_0x3a9f7b(0x702),_0x3a9f7b(0x597),_0x3a9f7b(0xd21),_0x3a9f7b(0xc7),_0x3a9f7b(0x860),'คนดีศรีสยาม',_0x3a9f7b(0xcd1),_0x3a9f7b(0xa0e),_0x3a9f7b(0x972),_0x3a9f7b(0xa21),_0x3a9f7b(0x6e8),_0x3a9f7b(0x88f),_0x3a9f7b(0x356),_0x3a9f7b(0x604),_0x3a9f7b(0x70e),_0x3a9f7b(0x8ed),'พิซซ่าหน้าทุเรียน',_0x3a9f7b(0x32a),_0x3a9f7b(0x178),_0x3a9f7b(0x670),'ครัวซองต์',_0x3a9f7b(0x44c),_0x3a9f7b(0xb81),'สายตาสั้น',_0x3a9f7b(0x8e2),_0x3a9f7b(0x559),_0x3a9f7b(0xccf),_0x3a9f7b(0xc26),_0x3a9f7b(0x43b),_0x3a9f7b(0xe7),'โหลดนาน',_0x3a9f7b(0x1a6),'กองดอง','จันทร์เจ้า',_0x3a9f7b(0x432),_0x3a9f7b(0x2ae),_0x3a9f7b(0x949),_0x3a9f7b(0xb2d),_0x3a9f7b(0x276),_0x3a9f7b(0x1d1),_0x3a9f7b(0xa55),'ป่าไม้','แม่น้ำ','นักเดินทาง',_0x3a9f7b(0x21a),_0x3a9f7b(0x4c1),_0x3a9f7b(0x310),'นักดนตรี',_0x3a9f7b(0x6c1),_0x3a9f7b(0xb14),'นักประดิษฐ์',_0x3a9f7b(0x804),'ครูใหญ่',_0x3a9f7b(0x55a),'ปล่อยพลัง',_0x3a9f7b(0xc2),_0x3a9f7b(0x4f7),'ดาบพิฆาตอสูร',_0x3a9f7b(0x6de),_0x3a9f7b(0x3f7),_0x3a9f7b(0x720),_0x3a9f7b(0x55c),_0x3a9f7b(0xa0d),'รักแรกพบ',_0x3a9f7b(0xc44),_0x3a9f7b(0x436),_0x3a9f7b(0xa02),'เพื่อนสนิท',_0x3a9f7b(0x6a3),_0x3a9f7b(0x605),'คนคุย','สถานะไม่ชัดเจน','มูเตลู'];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x3a9f7b(0xc9a),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x3a9f7b(0xc9a),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x3a9f7b(0xc9a),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x4b37ef=_0x3a9f7b;if(_0x4b37ef(0x15c)in navigator)try{wakeLock=await navigator[_0x4b37ef(0x15c)][_0x4b37ef(0xa1e)](_0x4b37ef(0x59b)),console[_0x4b37ef(0x955)](_0x4b37ef(0x9dc)),wakeLock[_0x4b37ef(0x59d)](_0x4b37ef(0xad8),()=>{const _0x281770=_0x4b37ef;console[_0x281770(0x955)](_0x281770(0x789));});}catch(_0x3586cb){console[_0x4b37ef(0x4e3)](_0x4b37ef(0xc98)+_0x3586cb['name']+',\x20'+_0x3586cb[_0x4b37ef(0x145)]);}else console[_0x4b37ef(0x2e4)](_0x4b37ef(0x58b));},releaseWakeLock=async()=>{const _0x1691f4=_0x3a9f7b;wakeLock!==null&&(await wakeLock[_0x1691f4(0xad8)](),wakeLock=null,console['log'](_0x1691f4(0x6b2)));};let dimTimer=null;function _0x57a1(_0x301943,_0x1ee448){const _0x150e8d=_0x150e();return _0x57a1=function(_0x57a19d,_0x72490b){_0x57a19d=_0x57a19d-0xa6;let _0x2a0c7c=_0x150e8d[_0x57a19d];return _0x2a0c7c;},_0x57a1(_0x301943,_0x1ee448);}const inactivityTime=0xea60;function resetDimTimer(){const _0x552928=_0x3a9f7b;if(!document[_0x552928(0x609)]['classList'][_0x552928(0xa3b)]('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x7febd8=_0x552928;document[_0x7febd8(0x609)]['classList']['add'](_0x7febd8(0x2a9)),console[_0x7febd8(0x955)](_0x7febd8(0xa6a));},inactivityTime);}}function wakeUpScreen(_0xada1f){const _0x2fc40b=_0x3a9f7b;_0xada1f&&(_0xada1f[_0x2fc40b(0xc36)](),_0xada1f[_0x2fc40b(0x3eb)]());document[_0x2fc40b(0x609)]['classList'][_0x2fc40b(0xd08)](_0x2fc40b(0x2a9));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x24f041=_0x2fc40b;document['body'][_0x24f041(0x319)][_0x24f041(0x930)](_0x24f041(0x2a9));},inactivityTime);}function stopDimTimer(){const _0xa65fb6=_0x3a9f7b;if(dimTimer)clearTimeout(dimTimer);document['body'][_0xa65fb6(0x319)]['remove']('dimmed'),window[_0xa65fb6(0x3e0)](_0xa65fb6(0x476),resetDimTimer),window['removeEventListener']('mousedown',resetDimTimer),window[_0xa65fb6(0x3e0)](_0xa65fb6(0x932),resetDimTimer),window[_0xa65fb6(0x3e0)]('keydown',resetDimTimer),console['log'](_0xa65fb6(0x6e7));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x1e0cb2,_0xcc8d43=![]){const _0x38108b=_0x3a9f7b,_0x3c2406=allQuizzes[_0x38108b(0x4b3)](_0x3ef65f=>_0x3ef65f['id']===_0x1e0cb2)||allQuizzesGlobal['find'](_0x2df6e5=>_0x2df6e5['id']===_0x1e0cb2);if(!_0x3c2406){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x3c2406);const _0x58f07b=Math[_0x38108b(0x48b)](0x3e8+Math[_0x38108b(0x120)]()*0x2328)['toString']();try{const _0x5d4b0a=await addDoc(collection(db,_0x38108b(0xb3f)+appId+_0x38108b(0xc85)),{'quizId':_0x3c2406['id'],'projectId':_0x3c2406['projectId'],'status':_0x38108b(0x9aa),'pin':_0x58f07b,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xcc8d43});currentTeamQuizId=_0x5d4b0a['id'],showView(_0x38108b(0xb0)),renderAdminTeamQuizDashboard(_0x58f07b,_0x3c2406[_0x38108b(0x156)]),listenForTeamQuizUpdates();}catch(_0x5d84ab){console[_0x38108b(0x4e3)](_0x38108b(0x722),_0x5d84ab),showMessage(_0x38108b(0x4e8));}}function renderAdminTeamQuizDashboard(_0x1cb5b1,_0x318b59,_0x178df0=_0x3a9f7b(0x188)){const _0x1d4583=_0x3a9f7b,_0x110221=_0x178df0===_0x1d4583(0xadc)?_0x1d4583(0xbc0):_0x1d4583(0x79f);liveGameView['innerHTML']=_0x1d4583(0x3b4)+_0x110221+':\x20'+_0x318b59+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x1cb5b1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x1d4583(0xc0e)](_0x1d4583(0x756))[_0x1d4583(0x59d)](_0x1d4583(0x9fd),async()=>{const _0x1dda2e=_0x1d4583;showConfirmation(_0x1dda2e(0x165),async()=>{const _0x52f9e0=_0x1dda2e;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+_0x52f9e0(0xc85),currentTeamQuizId)),showView(_0x52f9e0(0x6c3));});});}function listenForTeamQuizUpdates(){const _0x119e23=_0x3a9f7b;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x1e2cbd=doc(db,_0x119e23(0xb3f)+appId+_0x119e23(0xc85),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x1e2cbd,_0x3ab330=>{const _0x4424f5=_0x119e23;if(!_0x3ab330[_0x4424f5(0x1fb)]()){sessionStorage[_0x4424f5(0x329)](_0x4424f5(0x7df));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x4424f5(0x85b));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4424f5(0xcd6)?showView('project-detail'):showView('student');return;}const _0x13e448=_0x3ab330['data']();if(currentMode===_0x4424f5(0xcd6)){if(_0x13e448['mode']===_0x4424f5(0xadc)&&_0x13e448['status']!==_0x4424f5(0x52b)&&_0x13e448[_0x4424f5(0x896)]!==_0x4424f5(0xad9)){const _0x4ecb4b=Object[_0x4424f5(0x3ac)](_0x13e448[_0x4424f5(0xc4c)]||{});if(_0x4ecb4b[_0x4424f5(0x7d2)]>0x0){const _0x401bbd=_0x4ecb4b[_0x4424f5(0x2a4)](_0x236578=>_0x236578[_0x4424f5(0x893)]===!![]);_0x401bbd&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x13e448);}else{if(_0x13e448['status']==='podium'||_0x13e448[_0x4424f5(0x896)]===_0x4424f5(0xad9)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x13e448[_0x4424f5(0x49d)]===_0x4424f5(0xadc)){const _0x413c6b=_0x13e448['groups'][userId];(!_0x413c6b||!_0x413c6b[_0x4424f5(0x893)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x2c82da){const _0x225ac8=_0x3a9f7b;console[_0x225ac8(0x955)](_0x225ac8(0xa83));const _0x56f418=doc(db,'artifacts/'+appId+_0x225ac8(0xc85),_0x2c82da);try{const _0xbe50e7=await getDoc(_0x56f418);if(_0xbe50e7[_0x225ac8(0x1fb)]()){const _0x394b72=_0xbe50e7['data']();_0x394b72['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x394b72);}await updateDoc(_0x56f418,{'status':_0x225ac8(0x52b)});}catch(_0x3858d0){console['error'](_0x225ac8(0x268),_0x3858d0);}}function updateAdminTeamDashboard(_0x3cbafe){const _0x2e3e76=_0x3a9f7b,_0xb30eb9=document[_0x2e3e76(0xc0e)](_0x2e3e76(0xd6b));if(!_0xb30eb9)return;const _0x3f6af6=_0x3cbafe[_0x2e3e76(0x49d)]||'team',_0x4b1c96=currentQuizData[_0x2e3e76(0x9fc)][_0x2e3e76(0x7d2)];if(_0x3f6af6==='group'){const _0x4374b2=Object[_0x2e3e76(0x3ac)](_0x3cbafe['groups']||{});if(_0x4374b2['length']===0x0){_0xb30eb9[_0x2e3e76(0xd5e)]=_0x2e3e76(0xc90);return;}const _0x5b5ef3=[..._0x4374b2][_0x2e3e76(0x3fc)]((_0x1cf60c,_0xa33fa6)=>_0xa33fa6[_0x2e3e76(0x6fd)]-_0x1cf60c[_0x2e3e76(0x6fd)]),_0x1f846f=_0x5b5ef3['map']((_0x422a0a,_0x5ec65f)=>{const _0x3b0726=_0x2e3e76,_0x135b8b=_0x422a0a[_0x3b0726(0xb24)]?.[_0x3b0726(0x7d2)]||0x0;return _0x3b0726(0x481)+(_0x5ec65f+0x1)+_0x3b0726(0x388)+_0x422a0a[_0x3b0726(0xaab)][_0x3b0726(0x986)](',\x20')+_0x3b0726(0x26d)+_0x135b8b+'/'+_0x4b1c96+_0x3b0726(0x731)+_0x422a0a[_0x3b0726(0x6fd)]+_0x3b0726(0x7ba);})[_0x2e3e76(0x986)](''),_0x5ad778=currentQuizData[_0x2e3e76(0x9fc)]['map']((_0x11b87c,_0x4f8f4e)=>{const _0x587b68=_0x2e3e76;let _0x3fb9b0=0x0,_0x499260=0x0;_0x4374b2[_0x587b68(0x2d3)](_0xdbadf2=>{const _0x12ffe8=_0x587b68,_0x15ed54=_0xdbadf2[_0x12ffe8(0xb24)]?.[_0x12ffe8(0x4b3)](_0x458d01=>_0x458d01[_0x12ffe8(0xb47)]===_0x4f8f4e);if(_0x15ed54){_0x499260++;if(_0x15ed54[_0x12ffe8(0xbe1)])_0x3fb9b0++;}});const _0xe910d2=_0x499260>0x0&&_0x499260===_0x4374b2[_0x587b68(0x7d2)],_0x176388=_0xe910d2?_0x587b68(0x490):'bg-black/10',_0x5c92c3=_0xe910d2?_0x587b68(0xc33):'';return _0x587b68(0x6cd)+_0x176388+_0x587b68(0x6c2)+(_0x4f8f4e+0x1)+':</span><span>'+_0x5c92c3+_0x587b68(0x164)+_0x3fb9b0+'/'+_0x4374b2[_0x587b68(0x7d2)]+_0x587b68(0xb40);})['join']('');_0xb30eb9[_0x2e3e76(0xd5e)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x1f846f+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x5ad778+_0x2e3e76(0x4cc);return;}const _0x177dfe=_0x3cbafe[_0x2e3e76(0x2af)]||{},_0x363600=Object[_0x2e3e76(0x644)](_0x177dfe);if(_0x363600[_0x2e3e76(0x7d2)]===0x0){_0xb30eb9['innerHTML']=_0x2e3e76(0xd47);return;}const _0xbb62e2=_0x363600[_0x2e3e76(0x8ac)](_0x532231=>({'name':_0x532231,'score':_0x177dfe[_0x532231][_0x2e3e76(0x6fd)]||0x0}))[_0x2e3e76(0x3fc)]((_0xbb8338,_0x5f17ed)=>_0x5f17ed[_0x2e3e76(0x6fd)]-_0xbb8338[_0x2e3e76(0x6fd)]),_0x405a58=_0xbb62e2[_0x2e3e76(0x8ac)](_0x2c90a8=>{const _0x14d301=_0x2e3e76,_0x1f6609=_0x177dfe[_0x2c90a8[_0x14d301(0x58e)]]?.[_0x14d301(0xb24)]?.['length']||0x0,_0x853791=Math['ceil'](_0x4b1c96/_0x363600[_0x14d301(0x7d2)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x2c90a8['name']+_0x14d301(0x341)+_0x1f6609+'/'+_0x853791+_0x14d301(0x779)+_0x2c90a8[_0x14d301(0x6fd)]+_0x14d301(0xa52);})[_0x2e3e76(0x986)](''),_0x5ef939=_0x363600[_0x2e3e76(0x78a)]((_0x23f533,_0x2264c8)=>_0x23f533+(_0x177dfe[_0x2264c8][_0x2e3e76(0xb24)]?.['length']||0x0),0x0),_0x848ce3=currentQuizData[_0x2e3e76(0x9fc)][_0x2e3e76(0x8ac)]((_0x4ae123,_0x5383a9)=>{const _0x10024f=_0x2e3e76;let _0x25f2a9=null,_0x3c0c62=null;for(const _0x42b452 of _0x363600){const _0x2e9693=_0x177dfe[_0x42b452][_0x10024f(0xb24)]?.['find'](_0x5e4454=>_0x5e4454['questionIndex']===_0x5383a9);if(_0x2e9693){_0x25f2a9=_0x2e9693,_0x3c0c62=_0x42b452;break;}}const _0xbe0b3b=!!_0x25f2a9,_0x193a96=_0xbe0b3b&&_0x25f2a9[_0x10024f(0xbe1)],_0x367b95=(Math[_0x10024f(0x48b)](_0x5383a9/_0x363600['length'])+0x1)*_0x363600[_0x10024f(0x7d2)],_0x39e57a=_0x5ef939>=_0x367b95,_0x2100f8=_0x39e57a?'bg-green-200\x20text-green-900':_0x10024f(0x20c),_0x16deb4=_0x39e57a?_0x10024f(0xc33):'';let _0x555928=_0x10024f(0x3dd);return _0xbe0b3b&&(_0x555928=_0x3c0c62+_0x10024f(0x9bb)+(_0x193a96?_0x10024f(0x94a):'ผิด')),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x2100f8+_0x10024f(0x6c2)+(_0x5383a9+0x1)+_0x10024f(0x832)+_0x16deb4+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x555928+'</p></div>';})[_0x2e3e76(0x986)]('');_0xb30eb9['innerHTML']='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x405a58+_0x2e3e76(0x1eb)+_0x848ce3+_0x2e3e76(0x4cc);}async function handleJoinTeamQuiz(){const _0x5055a9=_0x3a9f7b,_0x36b821=prompt(_0x5055a9(0x133));if(!_0x36b821||_0x36b821[_0x5055a9(0xa0f)]()[_0x5055a9(0x7d2)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x4ff1de=collection(db,_0x5055a9(0xb3f)+appId+_0x5055a9(0xc85)),_0x103f4f=query(_0x4ff1de,where('pin','==',_0x36b821[_0x5055a9(0xa0f)]()),where(_0x5055a9(0x896),'==',_0x5055a9(0x9aa))),_0x5d77eb=await getDocs(_0x103f4f);if(_0x5d77eb[_0x5055a9(0xb0c)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x97bff8=_0x5d77eb[_0x5055a9(0x726)][0x0];currentTeamQuizId=_0x97bff8['id'];const _0x3bef47=_0x97bff8[_0x5055a9(0x180)](),_0x1c80b2=doc(db,_0x5055a9(0xb3f)+appId+'/public/data/projects',_0x3bef47['projectId']),_0x3d0f46=doc(db,_0x5055a9(0xb3f)+appId+_0x5055a9(0xb0a),_0x3bef47[_0x5055a9(0x346)]),[_0x48d832,_0x332c7d]=await Promise[_0x5055a9(0xc9a)]([getDoc(_0x1c80b2),getDoc(_0x3d0f46)]);if(!_0x48d832[_0x5055a9(0x1fb)]()||!_0x332c7d[_0x5055a9(0x1fb)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x332c7d['id'],..._0x332c7d[_0x5055a9(0x180)]()});const _0x176877=_0x48d832['data']();showTeamPlayerSelection(_0x176877['students'],currentQuizData[_0x5055a9(0x156)]);}catch(_0x2a6eb0){console[_0x5055a9(0x4e3)](_0x5055a9(0xacf),_0x2a6eb0),showMessage(_0x5055a9(0xc89)+_0x2a6eb0[_0x5055a9(0x145)]);}}async function handleJoinGroupActivity(){const _0x3775cb=_0x3a9f7b,_0x5df938=prompt(_0x3775cb(0xafb));if(!_0x5df938||_0x5df938[_0x3775cb(0xa0f)]()[_0x3775cb(0x7d2)]!==0x4){showMessage(_0x3775cb(0x273));return;}const _0x6825d4=_0x5df938['trim']();showMessage(_0x3775cb(0x3b0));try{const _0x3d4687=collection(db,_0x3775cb(0xb3f)+appId+'/public/data/teamQuizzes'),_0x282c6b=query(_0x3d4687,where(_0x3775cb(0x28f),'==',_0x6825d4),where(_0x3775cb(0x896),'==','lobby')),_0x168695=await getDocs(_0x282c6b);if(!_0x168695[_0x3775cb(0xb0c)]){console[_0x3775cb(0x955)]('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x168695[_0x3775cb(0x726)][0x0]);return;}const _0x4ee2fa=collection(db,_0x3775cb(0xb3f)+appId+_0x3775cb(0x25a)),_0x17d38a=query(_0x4ee2fa,where(_0x3775cb(0x28f),'==',_0x6825d4),where(_0x3775cb(0x896),'in',[_0x3775cb(0x9aa),_0x3775cb(0x536),_0x3775cb(0x3e3),'results'])),_0x88435b=await getDocs(_0x17d38a);if(!_0x88435b[_0x3775cb(0xb0c)]){console[_0x3775cb(0x955)](_0x3775cb(0x958)),await proceedWithSyncQuizJoin(_0x88435b[_0x3775cb(0x726)][0x0]);return;}showMessage(_0x3775cb(0x553));}catch(_0xa68a22){console[_0x3775cb(0x4e3)](_0x3775cb(0x88c),_0xa68a22),showMessage(_0x3775cb(0x298)+_0xa68a22[_0x3775cb(0x145)]);}}async function proceedWithTeamQuizJoin(_0x5e5970){const _0x14bfec=_0x3a9f7b;currentTeamQuizId=_0x5e5970['id'];const _0x4fa5e8=_0x5e5970[_0x14bfec(0x180)](),_0x145d68=doc(db,_0x14bfec(0xb3f)+appId+_0x14bfec(0xb8e),_0x4fa5e8['projectId']),_0x17dd37=doc(db,_0x14bfec(0xb3f)+appId+'/public/data/quizzes',_0x4fa5e8[_0x14bfec(0x346)]),[_0x11f287,_0xc883f7]=await Promise[_0x14bfec(0xc9a)]([getDoc(_0x145d68),getDoc(_0x17dd37)]);if(!_0x11f287[_0x14bfec(0x1fb)]()||!_0xc883f7[_0x14bfec(0x1fb)]())throw new Error(_0x14bfec(0x688));currentQuizData=getShuffledQuiz({'id':_0xc883f7['id'],..._0xc883f7[_0x14bfec(0x180)]()}),showTeamPlayerSelection(_0x11f287['data']()[_0x14bfec(0xa46)],currentQuizData[_0x14bfec(0x156)],_0x4fa5e8['mode']||_0x14bfec(0x188)),messageModal['classList']['add'](_0x14bfec(0x772));}async function proceedWithSyncQuizJoin(_0x452f3a){const _0x144247=_0x3a9f7b;currentLiveGameId=_0x452f3a['id'];const _0x3c66aa=_0x452f3a[_0x144247(0x180)](),_0x1e1ab7=doc(db,_0x144247(0xb3f)+appId+_0x144247(0xb0a),_0x3c66aa[_0x144247(0x346)]),_0x5baf42=await getDoc(_0x1e1ab7);if(!_0x5baf42[_0x144247(0x1fb)]())throw new Error(_0x144247(0x9ef));const _0x7c06d8=_0x5baf42[_0x144247(0x180)](),_0x3750d2=doc(db,'artifacts/'+appId+'/public/data/projects',_0x7c06d8[_0x144247(0xd39)]),_0x44b21=await getDoc(_0x3750d2);if(!_0x44b21['exists']())throw new Error(_0x144247(0xada));currentQuizData=_0x3c66aa[_0x144247(0xc11)],showView(_0x144247(0x369)),showTeamPlayerSelection(_0x44b21['data']()[_0x144247(0xa46)],_0x7c06d8[_0x144247(0x156)],_0x144247(0x43c));const _0x3b5153=document[_0x144247(0xc0e)](_0x144247(0x73b)),_0x37a330=_0x3b5153[_0x144247(0x259)](!![]);_0x3b5153[_0x144247(0x31f)]['replaceChild'](_0x37a330,_0x3b5153),_0x37a330[_0x144247(0xd75)]=confirmAndJoinSyncGame,messageModal[_0x144247(0x319)][_0x144247(0x930)]('hidden');}function getCleanApplicationHTML(){const _0x16ab41=_0x3a9f7b,_0x284614=document[_0x16ab41(0xc0e)](_0x16ab41(0xcd4));if(!_0x284614)return'';const _0x4584c7=_0x284614[_0x16ab41(0x259)](!![]);return _0x4584c7['querySelectorAll']('.application-options\x20button')[_0x16ab41(0x2d3)](_0x3f2f60=>{const _0x427f5a=_0x16ab41;_0x3f2f60[_0x427f5a(0x319)][_0x427f5a(0xd08)](_0x427f5a(0x88e),_0x427f5a(0xb87)),_0x3f2f60[_0x427f5a(0x622)]=![];}),_0x4584c7[_0x16ab41(0xd5e)];}function showTeamPlayerSelection(_0xaf5ad2,_0x3b180f,_0x568a5b=_0x3a9f7b(0x188)){const _0x9681e0=_0x3a9f7b;studentInitialView[_0x9681e0(0x319)][_0x9681e0(0x930)](_0x9681e0(0x772)),studentJoinGameView[_0x9681e0(0x319)]['add'](_0x9681e0(0x772)),document[_0x9681e0(0xc0e)](_0x9681e0(0x105))[_0x9681e0(0x319)][_0x9681e0(0xd08)](_0x9681e0(0x772));let _0x2f5fdf=_0x9681e0(0x79f);if(_0x568a5b==='group')_0x2f5fdf=_0x9681e0(0xbc0);else _0x568a5b===_0x9681e0(0x43c)&&(_0x2f5fdf='Sync\x20Mode');document[_0x9681e0(0xc0e)](_0x9681e0(0x129))[_0x9681e0(0x6fb)]=_0x2f5fdf+':\x20'+_0x3b180f;const _0x465758=document[_0x9681e0(0xc0e)](_0x9681e0(0x680));if(!_0xaf5ad2||_0xaf5ad2['length']===0x0){_0x465758[_0x9681e0(0xd5e)]=_0x9681e0(0xb52),document[_0x9681e0(0xc0e)]('confirm-team-players-btn')['disabled']=!![];return;}_0x465758['innerHTML']=_0xaf5ad2[_0x9681e0(0x8ac)](_0x4dc494=>_0x9681e0(0x97e)+_0x4dc494+_0x9681e0(0x1f7)+_0x4dc494+_0x9681e0(0xcc6))[_0x9681e0(0x986)](''),document['getElementById']('confirm-team-players-btn')[_0x9681e0(0x622)]=![];}async function confirmAndStartTeamQuiz(){const _0x4bf3a4=_0x3a9f7b,_0xf139a7=Array[_0x4bf3a4(0x30e)](document[_0x4bf3a4(0x68f)](_0x4bf3a4(0xa89)))[_0x4bf3a4(0x8ac)](_0x304dd2=>_0x304dd2['value']);if(_0xf139a7[_0x4bf3a4(0x7d2)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0xf139a7,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x53f022=doc(db,_0x4bf3a4(0xb3f)+appId+_0x4bf3a4(0xc85),currentTeamQuizId);try{const _0x409046=await getDoc(_0x53f022);if(!_0x409046[_0x4bf3a4(0x1fb)]())throw new Error(_0x4bf3a4(0x8e1));const _0x3fe06f=_0x409046[_0x4bf3a4(0x180)]();if(_0x3fe06f[_0x4bf3a4(0x49d)]==='group'){const _0x4a3b1f={[_0x4bf3a4(0x3cd)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x53f022,_0x4a3b1f);}else{const _0x12b39f=_0x3fe06f['responses']||{};localTeamPlayers[_0x4bf3a4(0x2d3)](_0x22ffbe=>{!_0x12b39f[_0x22ffbe]&&(_0x12b39f[_0x22ffbe]={'score':0x0,'answers':[]});}),await updateDoc(_0x53f022,{'responses':_0x12b39f});}document[_0x4bf3a4(0xc0e)]('student-team-selection-view')['classList'][_0x4bf3a4(0x930)](_0x4bf3a4(0x772)),renderTeamQuizQuestion();const _0x5cc9b8={'gameId':currentTeamQuizId,'mode':_0x3fe06f[_0x4bf3a4(0x49d)]||_0x4bf3a4(0x188),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem']('activeGameSession',JSON[_0x4bf3a4(0x272)](_0x5cc9b8)),listenForTeamQuizUpdates();}catch(_0x175001){console[_0x4bf3a4(0x4e3)](_0x4bf3a4(0x74d),_0x175001),showMessage(_0x4bf3a4(0x410));}}async function renderTeamQuizQuestion(){const _0x143ed4=_0x3a9f7b;if(localQuestionIndex>=currentQuizData[_0x143ed4(0x9fc)][_0x143ed4(0x7d2)]){displayTeamQuizFinalResults();return;}const _0x233271=currentQuizData['questions'][localQuestionIndex],_0x445402=localTeamPlayers[localPlayerIndex],_0x4321ba=_0x233271[_0x143ed4(0x7c7)]||currentQuizData[_0x143ed4(0xc6c)];let _0x8ccb79=_0x233271[_0x143ed4(0x895)]||_0x233271[_0x143ed4(0x47c)],_0x590aae='';switch(_0x4321ba){case _0x143ed4(0x211):case _0x143ed4(0x44b):_0x590aae=_0x233271['options'][_0x143ed4(0x8ac)]((_0x533ba1,_0x3e55fe)=>_0x143ed4(0xb11)+_0x3e55fe+_0x143ed4(0x6eb)+_0x3e55fe+_0x143ed4(0x533)+_0x3e55fe+'\x22>'+_0x533ba1+'</label></div>')[_0x143ed4(0x986)]('');break;case _0x143ed4(0x56e):_0x590aae=_0x143ed4(0x621);break;case _0x143ed4(0x2d1):case _0x143ed4(0x61f):_0x590aae=_0x143ed4(0xfd);break;case _0x143ed4(0xac4):_0x590aae=_0x143ed4(0xa60)+_0x233271[_0x143ed4(0xcc7)][_0x143ed4(0x8ac)](_0x2a7ea9=>_0x143ed4(0x1dd)+_0x2a7ea9+'\x22>'+_0x2a7ea9+'</option>')['join']('')+_0x143ed4(0x6a4);break;default:_0x590aae='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x143ed4(0xd5e)]=_0x143ed4(0x229)+(localQuestionIndex+0x1)+_0x143ed4(0x14d)+currentQuizData[_0x143ed4(0x9fc)][_0x143ed4(0x7d2)]+_0x143ed4(0xb62)+_0x445402+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x8ccb79+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x233271[_0x143ed4(0x3c5)]?_0x143ed4(0x989)+_0x233271[_0x143ed4(0x3c5)]+_0x143ed4(0x7f6):'')+_0x143ed4(0x3b6)+_0x590aae+_0x143ed4(0x3c9),studentQuizArea[_0x143ed4(0x319)]['remove'](_0x143ed4(0x772));if(window[_0x143ed4(0x6e3)])MathJax[_0x143ed4(0x16c)]([studentQuizArea]);document['getElementById'](_0x143ed4(0xe3))[_0x143ed4(0x59d)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x50eb05=_0x3a9f7b,_0x40f11a=currentQuizData[_0x50eb05(0x9fc)][localQuestionIndex],_0x5bbd77=_0x40f11a['questionType']||currentQuizData['quizType'];let _0xcf8b77=null,_0x4bfc87=![];if(_0x5bbd77===_0x50eb05(0x2d1)||_0x5bbd77==='fill_in_no_choices'){const _0x658652=document[_0x50eb05(0x535)](_0x50eb05(0x530));if(!_0x658652||!_0x658652[_0x50eb05(0x452)][_0x50eb05(0xa0f)]()){showMessage(_0x50eb05(0x73c));return;}_0xcf8b77=_0x658652[_0x50eb05(0x452)][_0x50eb05(0xa0f)](),_0x4bfc87=await gradeShortAnswer(_0xcf8b77,_0x40f11a);}else{const _0x1e4893=document['querySelector'](_0x50eb05(0x2f2));if(!_0x1e4893||_0x1e4893[_0x50eb05(0x452)]===''){showMessage(_0x50eb05(0x152));return;}_0xcf8b77=_0x1e4893[_0x50eb05(0x452)];switch(_0x5bbd77){case _0x50eb05(0x56e):_0x4bfc87=_0xcf8b77===_0x50eb05(0x65b)===_0x40f11a[_0x50eb05(0x13c)];break;case _0x50eb05(0xac4):_0x4bfc87=_0xcf8b77===_0x40f11a[_0x50eb05(0x3a1)];break;default:_0x4bfc87=parseInt(_0xcf8b77)===_0x40f11a['correctAnswerIndex'];break;}}const _0x7a67b8={'questionIndex':localQuestionIndex,'isCorrect':_0x4bfc87},_0xd3a145=userId,_0x2fe7d0={['groups.'+_0xd3a145+'.answers']:arrayUnion(_0x7a67b8)};_0x4bfc87&&(_0x2fe7d0[_0x50eb05(0x3cd)+_0xd3a145+_0x50eb05(0x237)]=increment(0x1));try{await updateDoc(doc(db,_0x50eb05(0xb3f)+appId+_0x50eb05(0xc85),currentTeamQuizId),_0x2fe7d0),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x50eb05(0x9fc)][_0x50eb05(0x7d2)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x1c3c41){console[_0x50eb05(0x4e3)](_0x50eb05(0x843),_0x1c3c41),showMessage(_0x50eb05(0x5d3));}}async function handleTeamAnswerSubmit(){const _0xb59697=_0x3a9f7b,_0x259ff2=await getDoc(doc(db,_0xb59697(0xb3f)+appId+_0xb59697(0xc85),currentTeamQuizId));if(!_0x259ff2[_0xb59697(0x1fb)]())return;const _0x55dd83=_0x259ff2[_0xb59697(0x180)]();if(_0x55dd83['mode']===_0xb59697(0xadc)){handleGroupAnswerSubmit();return;}const _0x1ea8bf=localTeamPlayers[localPlayerIndex],_0x39ddc1=currentQuizData[_0xb59697(0x9fc)][localQuestionIndex],_0x4e2258=_0x39ddc1[_0xb59697(0x7c7)]||currentQuizData['quizType'];let _0x493824=null,_0x1885ff=![];if(_0x4e2258===_0xb59697(0x2d1)||_0x4e2258===_0xb59697(0x61f)){const _0x109a94=document[_0xb59697(0x535)](_0xb59697(0x530));if(!_0x109a94||!_0x109a94[_0xb59697(0x452)][_0xb59697(0xa0f)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x493824=_0x109a94[_0xb59697(0x452)][_0xb59697(0xa0f)](),_0x1885ff=await gradeShortAnswer(_0x493824,_0x39ddc1);}else{const _0x4df9dd=document[_0xb59697(0x535)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x4df9dd||_0x4df9dd[_0xb59697(0x452)]===''){showMessage(_0xb59697(0x22d));return;}_0x493824=_0x4df9dd['value'];switch(_0x4e2258){case _0xb59697(0x56e):_0x1885ff=_0x493824===_0xb59697(0x65b)===_0x39ddc1[_0xb59697(0x13c)];break;case _0xb59697(0xac4):_0x1885ff=_0x493824===_0x39ddc1[_0xb59697(0x3a1)];break;default:_0x1885ff=parseInt(_0x493824)===_0x39ddc1[_0xb59697(0xcfa)];break;}}const _0x5a5e44={'questionIndex':localQuestionIndex,'isCorrect':_0x1885ff,'answerValue':_0x493824},_0x4d6003={[_0xb59697(0x681)+_0x1ea8bf+_0xb59697(0x1d0)]:arrayUnion(_0x5a5e44)};_0x1885ff&&(_0x4d6003[_0xb59697(0x681)+_0x1ea8bf+'.score']=increment(0x1));try{await updateDoc(doc(db,_0xb59697(0xb3f)+appId+_0xb59697(0xc85),currentTeamQuizId),_0x4d6003),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0xb59697(0x7d2)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0xb1838c){console[_0xb59697(0x4e3)]('Error\x20submitting\x20team\x20answer:',_0xb1838c),showMessage(_0xb59697(0x5d3));}}async function displayTeamQuizFinalResults(){const _0x18bf4d=_0x3a9f7b;studentQuizArea[_0x18bf4d(0x319)][_0x18bf4d(0x930)]('hidden'),studentResultArea['classList'][_0x18bf4d(0xd08)]('hidden');const _0xfedb90=doc(db,'artifacts/'+appId+_0x18bf4d(0xc85),currentTeamQuizId),_0x5a8fc9=await getDoc(_0xfedb90);if(!_0x5a8fc9[_0x18bf4d(0x1fb)]()){studentResultArea[_0x18bf4d(0xd5e)]=_0x18bf4d(0x645);return;}const _0x201385=_0x5a8fc9['data']();let _0x14212=[];const _0x1d4907=_0x201385[_0x18bf4d(0x49d)]||_0x18bf4d(0x188);if(_0x1d4907===_0x18bf4d(0xadc)){const _0x217e41=_0x201385[_0x18bf4d(0xc4c)][userId];_0x217e41?_0x14212=[{'name':_0x18bf4d(0x81e)+localTeamPlayers[_0x18bf4d(0x986)](',\x20'),'score':_0x217e41['score']||0x0}]:_0x14212=[{'name':'กลุ่มของคุณ','score':_0x18bf4d(0x791)}];}else _0x14212=localTeamPlayers[_0x18bf4d(0x8ac)](_0x59a39d=>({'name':_0x59a39d,'score':_0x201385['responses'][_0x59a39d]?.[_0x18bf4d(0x6fd)]||0x0}))[_0x18bf4d(0x3fc)]((_0x16329e,_0x532725)=>_0x532725[_0x18bf4d(0x6fd)]-_0x16329e[_0x18bf4d(0x6fd)]);studentResultArea[_0x18bf4d(0xd5e)]=_0x18bf4d(0xbd)+_0x14212[_0x18bf4d(0x8ac)](_0xf4cd9c=>_0x18bf4d(0x44e)+_0xf4cd9c[_0x18bf4d(0x58e)]+_0x18bf4d(0x591)+_0xf4cd9c[_0x18bf4d(0x6fd)]+_0x18bf4d(0x866))[_0x18bf4d(0x986)]('')+_0x18bf4d(0x951),sessionStorage[_0x18bf4d(0x329)](_0x18bf4d(0x7df)),currentMode===_0x18bf4d(0xcd6)&&currentTeamQuizId&&setTimeout(()=>{const _0x5ee8f0=_0x18bf4d;deleteDoc(doc(db,_0x5ee8f0(0xb3f)+appId+_0x5ee8f0(0xc85),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x3a9f7b(0x2fa),'pinnedProjects':[],'projectView':_0x3a9f7b(0xc41)};const allMathTopics=[{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0x132)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0x3e9)},{'category':'จำนวนและการดำเนินการ','name':_0x3a9f7b(0x18e)},{'category':'จำนวนและการดำเนินการ','name':_0x3a9f7b(0x546)},{'category':'จำนวนและการดำเนินการ','name':'การบวก'},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0xad2)},{'category':'จำนวนและการดำเนินการ','name':'การคูณ'},{'category':'จำนวนและการดำเนินการ','name':_0x3a9f7b(0xa7a)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0x878)},{'category':_0x3a9f7b(0x3bd),'name':'จำนวนเต็มลบ'},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0x1b0)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0x686)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0x7b9)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0xca6)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0x374)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0x6c0)},{'category':_0x3a9f7b(0x3bd),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0xb5f)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0x6e9)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0x790)},{'category':'จำนวนและการดำเนินการ','name':_0x3a9f7b(0xd2a)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0x872)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0xec)},{'category':'จำนวนและการดำเนินการ','name':_0x3a9f7b(0x953)},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0xbfd)},{'category':_0x3a9f7b(0x3bd),'name':'การบวกทศนิยม'},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0xbdd)},{'category':_0x3a9f7b(0x3bd),'name':'การคูณทศนิยม'},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0xbd9)},{'category':'จำนวนและการดำเนินการ','name':_0x3a9f7b(0x891)},{'category':_0x3a9f7b(0x3bd),'name':'ร้อยละพื้นฐาน'},{'category':'จำนวนและการดำเนินการ','name':_0x3a9f7b(0x933)},{'category':'จำนวนและการดำเนินการ','name':_0x3a9f7b(0x19d)},{'category':'จำนวนและการดำเนินการ','name':_0x3a9f7b(0xbfb)},{'category':'จำนวนและการดำเนินการ','name':_0x3a9f7b(0xaf9)},{'category':_0x3a9f7b(0x3bd),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x3a9f7b(0x3bd),'name':_0x3a9f7b(0xcac)},{'category':'การวัด','name':_0x3a9f7b(0x7c2)},{'category':_0x3a9f7b(0x775),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x3a9f7b(0x775),'name':_0x3a9f7b(0xd3)},{'category':_0x3a9f7b(0x775),'name':_0x3a9f7b(0x5f2)},{'category':_0x3a9f7b(0x775),'name':_0x3a9f7b(0x570)},{'category':_0x3a9f7b(0x775),'name':_0x3a9f7b(0xb1a)},{'category':_0x3a9f7b(0x775),'name':'พื้นที่สี่เหลี่ยม'},{'category':'การวัด','name':_0x3a9f7b(0x80f)},{'category':_0x3a9f7b(0x775),'name':_0x3a9f7b(0xd19)},{'category':_0x3a9f7b(0x775),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x3a9f7b(0x775),'name':_0x3a9f7b(0x833)},{'category':'การวัด','name':_0x3a9f7b(0xd3e)},{'category':_0x3a9f7b(0x775),'name':_0x3a9f7b(0x427)},{'category':_0x3a9f7b(0x775),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':'เรขาคณิต','name':_0x3a9f7b(0x2a7)},{'category':_0x3a9f7b(0x43d),'name':'ความสัมพันธ์ของมุม'},{'category':_0x3a9f7b(0x43d),'name':_0x3a9f7b(0x32b)},{'category':_0x3a9f7b(0x43d),'name':_0x3a9f7b(0x80f)},{'category':'เรขาคณิต','name':_0x3a9f7b(0x378)},{'category':_0x3a9f7b(0x43d),'name':_0x3a9f7b(0x812)},{'category':'เรขาคณิต','name':_0x3a9f7b(0x213)},{'category':_0x3a9f7b(0x43d),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x3a9f7b(0x43d),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x3a9f7b(0x43d),'name':_0x3a9f7b(0x5a1)},{'category':_0x3a9f7b(0x43d),'name':_0x3a9f7b(0x785)},{'category':_0x3a9f7b(0x43d),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x3a9f7b(0x43d),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':_0x3a9f7b(0x883)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a9f7b(0xaaf)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x3b3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a9f7b(0x820)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x39e)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x176)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0xcee)},{'category':_0x3a9f7b(0x4f8),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x3a9f7b(0x4f8),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x10e)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x49f)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x648)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a9f7b(0x991)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a9f7b(0x48f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a9f7b(0x73a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a9f7b(0x8a1)},{'category':_0x3a9f7b(0x4f8),'name':'ระบบอสมการ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a9f7b(0x770)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0xb95)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0xb6d)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x323)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0xcb4)},{'category':_0x3a9f7b(0x4f8),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x5ac)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x411)},{'category':_0x3a9f7b(0x4f8),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x3a9f7b(0x4f8),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x687)},{'category':_0x3a9f7b(0x4f8),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x3a9f7b(0x4f8),'name':'ฟังก์ชันลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a9f7b(0xf4)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x38e)},{'category':_0x3a9f7b(0x4f8),'name':_0x3a9f7b(0x690)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a9f7b(0x982)},{'category':_0x3a9f7b(0x4f8),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x3a9f7b(0x44a),'name':_0x3a9f7b(0xc51)},{'category':_0x3a9f7b(0x44a),'name':_0x3a9f7b(0x1fe)},{'category':_0x3a9f7b(0x44a),'name':_0x3a9f7b(0xcff)},{'category':_0x3a9f7b(0x44a),'name':_0x3a9f7b(0x537)},{'category':_0x3a9f7b(0x44a),'name':_0x3a9f7b(0x4bb)},{'category':_0x3a9f7b(0x44a),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':'เรขาคณิตวิเคราะห์','name':'พาราโบลา'},{'category':_0x3a9f7b(0x44a),'name':_0x3a9f7b(0x990)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3a9f7b(0xb8b)},{'category':_0x3a9f7b(0xc58),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':'ตรีโกณมิติ','name':_0x3a9f7b(0xc40)},{'category':'ตรีโกณมิติ','name':_0x3a9f7b(0x51c)},{'category':'ตรีโกณมิติ','name':'เรเดียนและการแปลงหน่วย'},{'category':'ตรีโกณมิติ','name':_0x3a9f7b(0x57b)},{'category':_0x3a9f7b(0xc58),'name':'กฎของโคไซน์'},{'category':_0x3a9f7b(0xc58),'name':_0x3a9f7b(0x900)},{'category':_0x3a9f7b(0xc58),'name':_0x3a9f7b(0x52f)},{'category':'ตรีโกณมิติ','name':_0x3a9f7b(0x2e9)},{'category':_0x3a9f7b(0xc58),'name':_0x3a9f7b(0x2e6)},{'category':'ตรีโกณมิติ','name':_0x3a9f7b(0x79b)},{'category':_0x3a9f7b(0xa24),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0x363)},{'category':'สถิติและความน่าจะเป็น','name':_0x3a9f7b(0x6ea)},{'category':_0x3a9f7b(0xa24),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x3a9f7b(0xa24),'name':'ฮิสโตแกรม'},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0xc02)},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0x797)},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0x78f)},{'category':'สถิติและความน่าจะเป็น','name':_0x3a9f7b(0x1aa)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0x325)},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0x3e7)},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0x88b)},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0x513)},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0xcb3)},{'category':'สถิติและความน่าจะเป็น','name':_0x3a9f7b(0xc3d)},{'category':_0x3a9f7b(0xa24),'name':'แผนภาพเวนน์'},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0x9db)},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0xb96)},{'category':'สถิติและความน่าจะเป็น','name':_0x3a9f7b(0x2db)},{'category':'สถิติและความน่าจะเป็น','name':_0x3a9f7b(0xb45)},{'category':_0x3a9f7b(0xa24),'name':_0x3a9f7b(0xc42)},{'category':_0x3a9f7b(0xa24),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x3a9f7b(0xcbf),'name':_0x3a9f7b(0x906)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3a9f7b(0xbf9)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3a9f7b(0xcd)},{'category':_0x3a9f7b(0xcbf),'name':_0x3a9f7b(0x548)},{'category':_0x3a9f7b(0xcbf),'name':_0x3a9f7b(0xe9)},{'category':_0x3a9f7b(0xcbf),'name':_0x3a9f7b(0x99b)},{'category':_0x3a9f7b(0xcbf),'name':_0x3a9f7b(0x431)},{'category':_0x3a9f7b(0xcbf),'name':_0x3a9f7b(0x29a)},{'category':_0x3a9f7b(0xcbf),'name':_0x3a9f7b(0x9e7)},{'category':_0x3a9f7b(0xcbf),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x3a9f7b(0xcf9)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3a9f7b(0x13a)},{'category':_0x3a9f7b(0xcbf),'name':_0x3a9f7b(0xd48)},{'category':_0x3a9f7b(0x881),'name':_0x3a9f7b(0x692)},{'category':_0x3a9f7b(0x881),'name':_0x3a9f7b(0x404)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3a9f7b(0xb5d)},{'category':_0x3a9f7b(0x881),'name':_0x3a9f7b(0xb36)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'อินเวอร์สของเมทริกซ์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3a9f7b(0x31b)},{'category':_0x3a9f7b(0x881),'name':_0x3a9f7b(0x4d0)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3a9f7b(0xaf6)},{'category':_0x3a9f7b(0x6e5),'name':_0x3a9f7b(0x6e2)},{'category':_0x3a9f7b(0x6e5),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x3a9f7b(0x6e5),'name':_0x3a9f7b(0xd53)},{'category':_0x3a9f7b(0x6e5),'name':_0x3a9f7b(0x84f)},{'category':_0x3a9f7b(0x29d),'name':_0x3a9f7b(0x8b1)},{'category':_0x3a9f7b(0x29d),'name':_0x3a9f7b(0xb16)},{'category':_0x3a9f7b(0x29d),'name':_0x3a9f7b(0x1c5)}];function renderTopicCheckboxes(){const _0x31eada=_0x3a9f7b,_0x3c5d97=document[_0x31eada(0xc0e)](_0x31eada(0x355));if(!_0x3c5d97)return;const _0x104be6=allMathTopics,_0x4a3250=customMathTopics[_0x31eada(0x8ac)](_0x35f520=>({'id':_0x35f520['id'],'category':_0x31eada(0x25e),'name':_0x35f520['name']})),_0x5dc649=[..._0x104be6,..._0x4a3250],_0x40b7c1=_0x5dc649[_0x31eada(0x78a)]((_0xf08211,_0x4ee676)=>{const _0x185c10=_0x31eada;return!_0xf08211[_0x4ee676[_0x185c10(0x71a)]]&&(_0xf08211[_0x4ee676[_0x185c10(0x71a)]]=[]),_0xf08211[_0x4ee676['category']][_0x185c10(0x187)](_0x4ee676),_0xf08211;},{});let _0x528b24='';const _0x56f81a=[_0x31eada(0x25e),...Object['keys'](_0x40b7c1)[_0x31eada(0xb6e)](_0x159ba9=>_0x159ba9!==_0x31eada(0x25e))];for(const _0x52f841 of _0x56f81a){if(_0x40b7c1[_0x52f841]){const _0x4b8aa0=_0x52f841===_0x31eada(0x25e),_0x6443aa=_0x4b8aa0?_0x31eada(0xb17):_0x31eada(0x62d),_0x2291b3=_0x4b8aa0?_0x31eada(0x4bd):'text-indigo-700';_0x528b24+=_0x31eada(0x2f9),_0x528b24+=_0x31eada(0xc3b)+_0x2291b3+_0x31eada(0x844)+_0x6443aa+'\x20mr-2\x22></i>'+_0x52f841+_0x31eada(0x71f),_0x40b7c1[_0x52f841][_0x31eada(0x2d3)](_0x547860=>{const _0x49e4d6=_0x31eada,_0x1454a0=!!_0x547860['id'],_0x158fef=_0x1454a0?_0x49e4d6(0x30f)+_0x547860['id']+_0x49e4d6(0x792)+_0x547860['id']+_0x49e4d6(0x57e)+_0x547860['id']+_0x49e4d6(0xafd)+_0x547860['id']+_0x49e4d6(0x394):'';_0x528b24+=_0x49e4d6(0x437)+(_0x547860['id']||'')+_0x49e4d6(0x5ae)+_0x547860[_0x49e4d6(0x58e)]+_0x49e4d6(0xace)+_0x547860[_0x49e4d6(0x58e)]+_0x49e4d6(0x4a2)+(_0x1454a0?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x547860[_0x49e4d6(0x58e)]+'\x22>':'')+_0x49e4d6(0x5f8)+_0x158fef+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x528b24+=_0x31eada(0x7f6);}}_0x3c5d97[_0x31eada(0xd5e)]=_0x528b24||_0x31eada(0x6d0),_0x3c5d97[_0x31eada(0x3e0)](_0x31eada(0xc16),updateSelectedTopicsCount),_0x3c5d97['addEventListener'](_0x31eada(0xc16),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x38dca8,_0x5a0c44){const _0x7fa055=_0x3a9f7b;if(!_0x38dca8||!_0x5a0c44['trim']()){showMessage(_0x7fa055(0xb9b));return;}try{const _0x46e50a=doc(db,'artifacts/'+appId+_0x7fa055(0x66e),_0x38dca8);await updateDoc(_0x46e50a,{'name':_0x5a0c44[_0x7fa055(0xa0f)]()}),showMessage(_0x7fa055(0x5d2));}catch(_0x4c6d30){console[_0x7fa055(0x4e3)](_0x7fa055(0xba7),_0x4c6d30),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x52b34b,_0x2d276d){const _0x2c315a=_0x3a9f7b;if(!_0x52b34b)return;const _0x4cef99=_0x52b34b[_0x2c315a(0x535)](_0x2c315a(0x1ca)),_0x4af325=_0x52b34b[_0x2c315a(0x535)](_0x2c315a(0x8df)),_0x76a734=_0x52b34b[_0x2c315a(0x535)](_0x2c315a(0x7d4)),_0x55c902=_0x52b34b[_0x2c315a(0x535)](_0x2c315a(0x9a1));_0x4cef99[_0x2c315a(0x319)][_0x2c315a(0xd6e)](_0x2c315a(0x772),_0x2d276d),_0x4af325['classList'][_0x2c315a(0xd6e)]('hidden',!_0x2d276d),_0x76a734['classList'][_0x2c315a(0xd6e)]('hidden',_0x2d276d),_0x55c902[_0x2c315a(0x319)]['toggle']('hidden',!_0x2d276d),_0x2d276d&&(_0x4af325[_0x2c315a(0xa75)](),_0x4af325[_0x2c315a(0x8ea)]());}async function handleStartLiveRace(_0x346ae7){const _0x3a2ac2=_0x3a9f7b;let _0x31dbf3=allQuizzes[_0x3a2ac2(0x4b3)](_0x1822d3=>_0x1822d3['id']===_0x346ae7);if(!_0x31dbf3){const _0x2e1c54=doc(db,_0x3a2ac2(0xb3f)+appId+_0x3a2ac2(0xb0a),_0x346ae7),_0x1459c4=await getDoc(_0x2e1c54);if(!_0x1459c4[_0x3a2ac2(0x1fb)]()){showMessage(_0x3a2ac2(0x9ef));return;}_0x31dbf3={'id':_0x1459c4['id'],..._0x1459c4[_0x3a2ac2(0x180)]()};}const _0x54c442=getShuffledQuiz(_0x31dbf3);currentQuizData=_0x54c442;const _0x4a30d8=_0x31dbf3[_0x3a2ac2(0xd39)]||currentProjectId||null,_0x58a98a=Math[_0x3a2ac2(0x48b)](0x3e8+Math[_0x3a2ac2(0x120)]()*0x2328)[_0x3a2ac2(0x6ad)]();currentLiveGamePin=_0x58a98a;try{const _0x7da9e0=await addDoc(collection(db,_0x3a2ac2(0xb3f)+appId+'/public/data/liveGames'),{'quizId':_0x346ae7,'projectId':_0x4a30d8,'status':_0x3a2ac2(0x9aa),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x58a98a,'createdAt':serverTimestamp(),'shuffledQuiz':_0x54c442});currentLiveGameId=_0x7da9e0['id'],showAdminLobbyView(_0x58a98a,_0x31dbf3[_0x3a2ac2(0x156)]),listenForLiveGameUpdates();}catch(_0x1dd381){console[_0x3a2ac2(0x4e3)]('Error\x20starting\x20live\x20race:',_0x1dd381),showMessage(_0x3a2ac2(0x868));}}function updateSelectedTopicsCount(){const _0x3522b8=_0x3a9f7b,_0x134f1e=document[_0x3522b8(0xc0e)](_0x3522b8(0x355)),_0x3bae18=_0x134f1e[_0x3522b8(0x68f)](_0x3522b8(0x3a2))['length'],_0xffc235=document[_0x3522b8(0xc0e)](_0x3522b8(0xa33));_0x3bae18>0x0?_0xffc235[_0x3522b8(0x6fb)]='(เลือกแล้ว\x20'+_0x3bae18+_0x3522b8(0x434):_0xffc235['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x3a9f7b(0x963),quizLeaderboardSortOrder=_0x3a9f7b(0x460),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x3a9f7b(0x85d),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x3a9f7b(0xd15),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x123ef5,_0x3a4d46){const _0x49223b=_0x3a9f7b;return Math[_0x49223b(0xa1f)](Math['pow'](_0x123ef5['x']-_0x3a4d46['x'],0x2)+Math[_0x49223b(0x75d)](_0x123ef5['y']-_0x3a4d46['y'],0x2));}function getMidpoint(_0x41730c,_0x26c307){return{'x':(_0x41730c['x']+_0x26c307['x'])/0x2,'y':(_0x41730c['y']+_0x26c307['y'])/0x2};}function getTransformedPoint(_0xe12cb9,_0x13dfb4){return{'x':(_0xe12cb9-scratchpadOffset['x'])/scratchpadScale,'y':(_0x13dfb4-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x335976=_0x3a9f7b;if(!scratchpadCtx)return;const _0x771771=scratchpadCtx[_0x335976(0x965)],_0x4ed006=window['devicePixelRatio']||0x1,_0x11e59e=document[_0x335976(0xc0e)](_0x335976(0x3ad));_0x11e59e&&(_0x11e59e[_0x335976(0x5c6)][_0x335976(0x9b0)]=_0x335976(0x781),_0x11e59e[_0x335976(0x5c6)][_0x335976(0x3fa)]=_0x335976(0x201)+scratchpadOffset['x']+_0x335976(0x620)+scratchpadOffset['y']+_0x335976(0x2a0)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x335976(0x1bb)](_0x4ed006,0x0,0x0,_0x4ed006,0x0,0x0),scratchpadCtx[_0x335976(0x3a5)](0x0,0x0,_0x771771[_0x335976(0xbee)],_0x771771[_0x335976(0x65c)]),scratchpadCtx[_0x335976(0x249)](),scratchpadCtx['save'](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes['forEach'](_0x30c6dd=>{drawStroke(_0x30c6dd);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x335976(0x249)]();}function renderGroupModeQuestion(){const _0x471bfd=_0x3a9f7b;if(localQuestionIndex>=currentQuizData[_0x471bfd(0x9fc)]['length']){displayTeamQuizFinalResults();return;}const _0x52a61b=currentQuizData[_0x471bfd(0x9fc)][localQuestionIndex],_0x77a051=_0x52a61b[_0x471bfd(0x7c7)]||currentQuizData[_0x471bfd(0xc6c)];let _0x3caf3e=_0x52a61b[_0x471bfd(0x895)]||_0x52a61b[_0x471bfd(0x47c)],_0x4a966d='';switch(_0x77a051){case _0x471bfd(0x211):case'fill_in_with_choices':_0x4a966d=_0x52a61b['options']['map']((_0x130e88,_0x492368)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x492368+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x492368+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x492368+'\x22>'+_0x130e88+'</label></div>')[_0x471bfd(0x986)]('');break;case _0x471bfd(0x56e):_0x4a966d=_0x471bfd(0x621);break;case _0x471bfd(0x2d1):case'fill_in_no_choices':_0x4a966d=_0x471bfd(0x286);break;case _0x471bfd(0xac4):_0x4a966d=_0x471bfd(0xa60)+_0x52a61b[_0x471bfd(0xcc7)][_0x471bfd(0x8ac)](_0x2820fe=>_0x471bfd(0x1dd)+_0x2820fe+'\x22>'+_0x2820fe+_0x471bfd(0x17b))[_0x471bfd(0x986)]('')+_0x471bfd(0x6a4);break;default:_0x4a966d='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x471bfd(0xd5e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x471bfd(0x14d)+currentQuizData[_0x471bfd(0x9fc)][_0x471bfd(0x7d2)]+_0x471bfd(0x267)+localTeamPlayers['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x3caf3e+_0x471bfd(0x61b)+(_0x52a61b[_0x471bfd(0x3c5)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x52a61b[_0x471bfd(0x3c5)]+_0x471bfd(0x7f6):'')+_0x471bfd(0x3b6)+_0x4a966d+_0x471bfd(0xc3f),studentQuizArea[_0x471bfd(0x319)][_0x471bfd(0xd08)](_0x471bfd(0x772));if(window[_0x471bfd(0x6e3)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x471bfd(0xbd7))[_0x471bfd(0x59d)](_0x471bfd(0x9fd),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x407942,_0x317607=null,_0x256e8e,_0x4b8764=null,_0x4b49c5=![],_0x140014=null){const _0x196016=_0x3a9f7b,_0x513440=document['getElementById'](_0x196016(0x505));_0x513440&&_0x513440[_0x196016(0x80a)]({'behavior':_0x196016(0x123),'block':_0x196016(0xd1d)}),generateQuiz(_0x407942,_0x317607,null,_0x140014,!![],_0x256e8e,_0x4b8764,_0x4b49c5);}function handleGenerateAndShowLesson(_0x18406d,_0xa7769e){const _0x5e409c=_0x3a9f7b,_0x2c6bf2=document[_0x5e409c(0xc0e)](_0x5e409c(0x973)),_0x2bd372=document['getElementById']('lesson-view-title'),_0x2cfdd6=document[_0x5e409c(0xc0e)]('lesson-loader'),_0x57192a=document[_0x5e409c(0xc0e)](_0x5e409c(0x95f));[_0x5e409c(0x483),_0x5e409c(0x975),'applicationContent','summaryContent'][_0x5e409c(0x2d3)](_0x578431=>{const _0xe3e608=_0x5e409c,_0x270c00=document[_0xe3e608(0xc0e)](_0x578431)[_0xe3e608(0x147)];_0x270c00&&(_0x270c00[_0xe3e608(0x5c6)][_0xe3e608(0x6cf)]='block');}),_0x2bd372['textContent']='กำลังสร้างบทเรียน:\x20'+_0x18406d,_0x57192a[_0x5e409c(0x319)][_0x5e409c(0x930)](_0x5e409c(0x772)),_0x2cfdd6[_0x5e409c(0x319)][_0x5e409c(0xd08)](_0x5e409c(0x772)),_0x2c6bf2['classList'][_0x5e409c(0xd08)](_0x5e409c(0x772)),generateLesson(_0x18406d,_0xa7769e)[_0x5e409c(0xa71)](_0x1683a2=>{const _0xefbb6b=_0x5e409c;console[_0xefbb6b(0x4e3)](_0xefbb6b(0x67c),_0x1683a2),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x2c6bf2['classList'][_0xefbb6b(0x930)](_0xefbb6b(0x772));});}function handlePointerDown(_0x162196){const _0x505a97=_0x3a9f7b;_0x162196[_0x505a97(0x3eb)]();const _0x547941=scratchpadCtx['canvas'],_0x52323c=_0x547941[_0x505a97(0xb82)](),_0x3e6a4f=_0x162196[_0x505a97(0xb1c)]||(_0x162196['touches']?_0x505a97(0xa7b):'mouse');if(_0x3e6a4f===_0x505a97(0x7a7)||_0x3e6a4f===_0x505a97(0x7fa)){if(_0x162196[_0x505a97(0xb1c)]===_0x505a97(0x7fa)&&_0x162196[_0x505a97(0xd09)]!==0x0){_0x162196[_0x505a97(0xd09)]===0x1&&(isMousePanning=!![],panStart={'x':_0x162196[_0x505a97(0xbb)],'y':_0x162196[_0x505a97(0x86b)]},_0x547941[_0x505a97(0x5c6)][_0x505a97(0xa6f)]=_0x505a97(0x730));return;}activeTool===_0x505a97(0x27e)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x1584eb=getTransformedPoint(_0x162196[_0x505a97(0xbb)]-_0x52323c[_0x505a97(0xc04)],_0x162196[_0x505a97(0x86b)]-_0x52323c[_0x505a97(0xc1d)]);let _0x414c8e={'tool':activeTool,'points':[_0x1584eb]};if(activeTool==='pen')_0x414c8e[_0x505a97(0x98e)]=scratchpadPenColor,_0x414c8e[_0x505a97(0x2d8)]=scratchpadPenSize;else{if(activeTool===_0x505a97(0xb0f))_0x414c8e['color']=scratchpadPenColor,_0x414c8e['size']=scratchpadEraserSize;else{if(activeTool===_0x505a97(0x4a3))_0x414c8e[_0x505a97(0x98e)]=scratchpadHighlighterColor,_0x414c8e[_0x505a97(0x2d8)]=scratchpadHighlighterSize;else activeTool==='trail'&&(_0x414c8e[_0x505a97(0x98e)]=scratchpadPenColor,_0x414c8e[_0x505a97(0x2d8)]=scratchpadPenSize);}}currentStroke=_0x414c8e;}else _0x162196[_0x505a97(0x1e2)]&&(_0x162196[_0x505a97(0x1e2)][_0x505a97(0x7d2)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x162196[_0x505a97(0x1e2)][0x0][_0x505a97(0xbb)],'y':_0x162196[_0x505a97(0x1e2)][0x0][_0x505a97(0x86b)]},{'x':_0x162196['touches'][0x1][_0x505a97(0xbb)],'y':_0x162196[_0x505a97(0x1e2)][0x1][_0x505a97(0x86b)]}),initialPinchDistance=getDistance({'x':_0x162196[_0x505a97(0x1e2)][0x0][_0x505a97(0xbb)],'y':_0x162196[_0x505a97(0x1e2)][0x0]['clientY']},{'x':_0x162196['touches'][0x1]['clientX'],'y':_0x162196[_0x505a97(0x1e2)][0x1][_0x505a97(0x86b)]})));}function animateTrail(){const _0x3c47dc=_0x3a9f7b,_0x3ceba0=Date['now']();let _0x44f297=![];for(let _0x17c0d1=strokes[_0x3c47dc(0x7d2)]-0x1;_0x17c0d1>=0x0;_0x17c0d1--){const _0x4a84a0=strokes[_0x17c0d1];if(_0x4a84a0[_0x3c47dc(0x938)]===_0x3c47dc(0x27e)&&_0x4a84a0[_0x3c47dc(0x9fb)]){const _0x485486=_0x3ceba0-_0x4a84a0[_0x3c47dc(0x9fb)];_0x485486>=TRAIL_DURATION?strokes[_0x3c47dc(0xef)](_0x17c0d1,0x1):(_0x4a84a0['opacity']=0x1-_0x485486/TRAIL_DURATION,_0x44f297=!![]);}}redrawScratchpad(),_0x44f297?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x3de9cb){const _0x2dd2b3=_0x3a9f7b;if(!_0x3de9cb||_0x3de9cb[_0x2dd2b3(0x3ba)][_0x2dd2b3(0x7d2)]<0x1)return;scratchpadCtx[_0x2dd2b3(0x397)](),scratchpadCtx[_0x2dd2b3(0xcf1)]=_0x2dd2b3(0xc60),scratchpadCtx[_0x2dd2b3(0xb26)]=_0x2dd2b3(0xc60);if(_0x3de9cb[_0x2dd2b3(0x938)]===_0x2dd2b3(0x27e)){const _0x168f9=_0x3de9cb[_0x2dd2b3(0x2d8)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x3de9cb[_0x2dd2b3(0x7ff)]??0x1,scratchpadCtx[_0x2dd2b3(0x4fa)]=_0x2dd2b3(0x3df),scratchpadCtx[_0x2dd2b3(0x2b4)]=_0x168f9*0x3,scratchpadCtx[_0x2dd2b3(0x54b)]=_0x2dd2b3(0xd35),scratchpadCtx[_0x2dd2b3(0xcf7)]=_0x168f9*2.5,scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x3de9cb[_0x2dd2b3(0x3ba)][0x0]['x'],_0x3de9cb[_0x2dd2b3(0x3ba)][0x0]['y']);for(let _0x1f907a=0x1;_0x1f907a<_0x3de9cb['points']['length']-0x1;_0x1f907a++){const _0x454162=getMidpoint(_0x3de9cb[_0x2dd2b3(0x3ba)][_0x1f907a],_0x3de9cb['points'][_0x1f907a+0x1]);scratchpadCtx['quadraticCurveTo'](_0x3de9cb[_0x2dd2b3(0x3ba)][_0x1f907a]['x'],_0x3de9cb[_0x2dd2b3(0x3ba)][_0x1f907a]['y'],_0x454162['x'],_0x454162['y']);}scratchpadCtx[_0x2dd2b3(0x919)](),scratchpadCtx[_0x2dd2b3(0x4fa)]=_0x2dd2b3(0x977),scratchpadCtx[_0x2dd2b3(0x2b4)]=0x0,scratchpadCtx['strokeStyle']='#FFFFFF',scratchpadCtx[_0x2dd2b3(0xcf7)]=_0x168f9,scratchpadCtx[_0x2dd2b3(0x919)](),scratchpadCtx['closePath']();}else{if(_0x3de9cb[_0x2dd2b3(0x938)]===_0x2dd2b3(0x4a3)){scratchpadCtx[_0x2dd2b3(0xa0b)]=_0x2dd2b3(0xbc4),scratchpadCtx[_0x2dd2b3(0x54b)]=_0x3de9cb[_0x2dd2b3(0x98e)],scratchpadCtx[_0x2dd2b3(0xcf7)]=_0x3de9cb[_0x2dd2b3(0x2d8)],scratchpadCtx[_0x2dd2b3(0x79d)](),scratchpadCtx[_0x2dd2b3(0x53d)](_0x3de9cb[_0x2dd2b3(0x3ba)][0x0]['x'],_0x3de9cb[_0x2dd2b3(0x3ba)][0x0]['y']);for(let _0x1eea88=0x1;_0x1eea88<_0x3de9cb[_0x2dd2b3(0x3ba)][_0x2dd2b3(0x7d2)]-0x1;_0x1eea88++){const _0x46724f=getMidpoint(_0x3de9cb['points'][_0x1eea88],_0x3de9cb[_0x2dd2b3(0x3ba)][_0x1eea88+0x1]);scratchpadCtx['quadraticCurveTo'](_0x3de9cb[_0x2dd2b3(0x3ba)][_0x1eea88]['x'],_0x3de9cb['points'][_0x1eea88]['y'],_0x46724f['x'],_0x46724f['y']);}scratchpadCtx[_0x2dd2b3(0x919)](),scratchpadCtx[_0x2dd2b3(0xb3)]();}else{scratchpadCtx[_0x2dd2b3(0xa0b)]=_0x3de9cb[_0x2dd2b3(0x938)]===_0x2dd2b3(0xb0f)?'destination-out':'source-over',scratchpadCtx[_0x2dd2b3(0x54b)]=_0x3de9cb[_0x2dd2b3(0x98e)],scratchpadCtx['lineWidth']=_0x3de9cb['size'],scratchpadCtx['beginPath'](),scratchpadCtx[_0x2dd2b3(0x53d)](_0x3de9cb[_0x2dd2b3(0x3ba)][0x0]['x'],_0x3de9cb[_0x2dd2b3(0x3ba)][0x0]['y']);for(let _0x2205a9=0x1;_0x2205a9<_0x3de9cb[_0x2dd2b3(0x3ba)][_0x2dd2b3(0x7d2)]-0x1;_0x2205a9++){const _0x71c5b7=getMidpoint(_0x3de9cb[_0x2dd2b3(0x3ba)][_0x2205a9],_0x3de9cb[_0x2dd2b3(0x3ba)][_0x2205a9+0x1]);scratchpadCtx['quadraticCurveTo'](_0x3de9cb[_0x2dd2b3(0x3ba)][_0x2205a9]['x'],_0x3de9cb[_0x2dd2b3(0x3ba)][_0x2205a9]['y'],_0x71c5b7['x'],_0x71c5b7['y']);}scratchpadCtx[_0x2dd2b3(0x919)](),scratchpadCtx[_0x2dd2b3(0xb3)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x1e1f39){const _0x1bd897=_0x3a9f7b;_0x1e1f39[_0x1bd897(0x3eb)]();const _0x2b26cf=scratchpadCtx[_0x1bd897(0x965)],_0x1386d8=_0x2b26cf[_0x1bd897(0xb82)]();if(_0x1e1f39[_0x1bd897(0x1e2)]){if(_0x1e1f39[_0x1bd897(0x1e2)][_0x1bd897(0x7d2)]===0x1&&isDrawingOnScratchpad){const _0x3ce4a7=getTransformedPoint(_0x1e1f39[_0x1bd897(0x1e2)][0x0][_0x1bd897(0xbb)]-_0x1386d8[_0x1bd897(0xc04)],_0x1e1f39[_0x1bd897(0x1e2)][0x0][_0x1bd897(0x86b)]-_0x1386d8[_0x1bd897(0xc1d)]);currentStroke[_0x1bd897(0x3ba)][_0x1bd897(0x187)](_0x3ce4a7),redrawScratchpad();}else{if(_0x1e1f39[_0x1bd897(0x1e2)]['length']===0x2&&isPanning){const _0x410631=getDistance({'x':_0x1e1f39['touches'][0x0][_0x1bd897(0xbb)],'y':_0x1e1f39['touches'][0x0][_0x1bd897(0x86b)]},{'x':_0x1e1f39[_0x1bd897(0x1e2)][0x1]['clientX'],'y':_0x1e1f39[_0x1bd897(0x1e2)][0x1][_0x1bd897(0x86b)]}),_0x23a871=getMidpoint({'x':_0x1e1f39[_0x1bd897(0x1e2)][0x0]['clientX'],'y':_0x1e1f39[_0x1bd897(0x1e2)][0x0][_0x1bd897(0x86b)]},{'x':_0x1e1f39[_0x1bd897(0x1e2)][0x1][_0x1bd897(0xbb)],'y':_0x1e1f39[_0x1bd897(0x1e2)][0x1]['clientY']}),_0x41b9d5=_0x410631/ initialPinchDistance,_0x129a5a=Math[_0x1bd897(0xa07)](Math['max'](scratchpadScale*_0x41b9d5,MIN_SCALE),MAX_SCALE),_0x4b115d=_0x23a871['x']-panStart['x'],_0x5a4026=_0x23a871['y']-panStart['y'];scratchpadOffset['x']=_0x23a871['x']-(_0x23a871['x']-scratchpadOffset['x'])*(_0x129a5a/scratchpadScale),scratchpadOffset['y']=_0x23a871['y']-(_0x23a871['y']-scratchpadOffset['y'])*(_0x129a5a/scratchpadScale),scratchpadOffset['x']+=_0x4b115d,scratchpadOffset['y']+=_0x5a4026,scratchpadScale=_0x129a5a,initialPinchDistance=_0x410631,panStart=_0x23a871,redrawScratchpad();}}}else{if(isMousePanning){const _0x1d8143=_0x1e1f39[_0x1bd897(0xbb)]-panStart['x'],_0x3f2211=_0x1e1f39[_0x1bd897(0x86b)]-panStart['y'];scratchpadOffset['x']+=_0x1d8143,scratchpadOffset['y']+=_0x3f2211,panStart={'x':_0x1e1f39[_0x1bd897(0xbb)],'y':_0x1e1f39[_0x1bd897(0x86b)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x206ff2=getTransformedPoint(_0x1e1f39[_0x1bd897(0xbb)]-_0x1386d8['left'],_0x1e1f39[_0x1bd897(0x86b)]-_0x1386d8[_0x1bd897(0xc1d)]);currentStroke['points'][_0x1bd897(0x187)](_0x206ff2),redrawScratchpad();}}}}function handlePointerUp(_0x5488fb){const _0x40742f=_0x3a9f7b;_0x5488fb[_0x40742f(0x3eb)]();const _0x4b9b33=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x4b9b33[_0x40742f(0x5c6)][_0x40742f(0xa6f)]=_0x40742f(0x419)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x40742f(0x3ba)][_0x40742f(0x7d2)]>0x1&&(strokes[_0x40742f(0x187)](currentStroke),currentStroke[_0x40742f(0x938)]===_0x40742f(0x27e)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x22006d=_0x40742f,_0x98903a=strokes['filter'](_0x1bf65b=>_0x1bf65b[_0x22006d(0x938)]==='trail'&&!_0x1bf65b['fadeStartTime']);if(_0x98903a[_0x22006d(0x7d2)]>0x0){const _0x35fb8a=Date[_0x22006d(0x62e)]();_0x98903a[_0x22006d(0x2d3)](_0x1472f6=>_0x1472f6[_0x22006d(0x9fb)]=_0x35fb8a),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x151e45){const _0x380061=_0x3a9f7b;_0x151e45['preventDefault']();const _0x3ec016=_0x151e45['deltaY']*-0.005,_0xf3aa66=Math[_0x380061(0xa07)](Math[_0x380061(0x347)](scratchpadScale+_0x3ec016,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x151e45[_0x380061(0xbb)]-(_0x151e45['clientX']-scratchpadOffset['x'])*(_0xf3aa66/scratchpadScale),scratchpadOffset['y']=_0x151e45['clientY']-(_0x151e45[_0x380061(0x86b)]-scratchpadOffset['y'])*(_0xf3aa66/scratchpadScale),scratchpadScale=_0xf3aa66,redrawScratchpad();}function undo(){const _0x1fe037=_0x3a9f7b;strokes[_0x1fe037(0x7d2)]>0x0&&(redoStrokes[_0x1fe037(0x187)](strokes[_0x1fe037(0xaef)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x34204c=_0x3a9f7b;redoStrokes[_0x34204c(0x7d2)]>0x0&&(strokes[_0x34204c(0x187)](redoStrokes[_0x34204c(0xaef)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x40327a=_0x3a9f7b;document[_0x40327a(0xc0e)]('undo-btn')[_0x40327a(0x622)]=strokes['length']===0x0,document[_0x40327a(0xc0e)](_0x40327a(0x1d2))['disabled']=redoStrokes[_0x40327a(0x7d2)]===0x0;}function openScratchpad(_0x477553,_0x2e802a){const _0x1f8eb4=_0x3a9f7b,_0x203bf4=document[_0x1f8eb4(0xc0e)](_0x1f8eb4(0x76d)),_0x421951=document[_0x1f8eb4(0xc0e)](_0x1f8eb4(0x7d3)),_0x1f6635=document[_0x1f8eb4(0xc0e)](_0x1f8eb4(0xcb5)),_0x598604=document[_0x1f8eb4(0xc0e)](_0x1f8eb4(0x4f6));_0x421951['innerHTML']=_0x477553['stem']||_0x477553['questionText'],_0x1f6635[_0x1f8eb4(0xd5e)]=_0x2e802a[_0x1f8eb4(0x8ac)]((_0x4afda8,_0x39db2d)=>'<div>'+String[_0x1f8eb4(0x26e)](0x41+_0x39db2d)+'.\x20'+_0x4afda8+_0x1f8eb4(0x7f6))[_0x1f8eb4(0x986)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x203bf4[_0x1f8eb4(0x319)][_0x1f8eb4(0xd08)](_0x1f8eb4(0x772)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x1f8eb4(0x6e3)])MathJax[_0x1f8eb4(0x16c)]([_0x421951,_0x1f6635]);}function openBlueprintQuizSettings(){const _0x5ab53f=_0x3a9f7b,_0x4f2f2b=document[_0x5ab53f(0xc0e)](_0x5ab53f(0x842)),_0x189260=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x5ab53f(0xc0e)](_0x5ab53f(0x564))[_0x5ab53f(0x452)]=_0x189260['quizType']||document[_0x5ab53f(0xc0e)](_0x5ab53f(0xb44))[_0x5ab53f(0x452)],document[_0x5ab53f(0xc0e)](_0x5ab53f(0xc5c))[_0x5ab53f(0xd5e)]=document[_0x5ab53f(0xc0e)]('difficulty-level-select')[_0x5ab53f(0xd5e)],document[_0x5ab53f(0xc0e)](_0x5ab53f(0xc5c))['value']=_0x189260[_0x5ab53f(0xcdf)]||document[_0x5ab53f(0xc0e)]('difficulty-level-select')[_0x5ab53f(0x452)],document[_0x5ab53f(0xc0e)](_0x5ab53f(0x66a))[_0x5ab53f(0xd5e)]=document[_0x5ab53f(0xc0e)](_0x5ab53f(0xd5c))[_0x5ab53f(0xd5e)],document[_0x5ab53f(0xc0e)](_0x5ab53f(0x66a))[_0x5ab53f(0x452)]=_0x189260['complexityValue']||document[_0x5ab53f(0xc0e)](_0x5ab53f(0xd5c))[_0x5ab53f(0x452)],document[_0x5ab53f(0xc0e)](_0x5ab53f(0xaa))[_0x5ab53f(0x452)]=_0x189260[_0x5ab53f(0x4a1)]||document[_0x5ab53f(0xc0e)](_0x5ab53f(0x7ce))[_0x5ab53f(0x452)],document[_0x5ab53f(0xc0e)](_0x5ab53f(0x2ff))['value']=_0x189260[_0x5ab53f(0x324)]||document[_0x5ab53f(0xc0e)](_0x5ab53f(0x2b3))[_0x5ab53f(0x452)],document[_0x5ab53f(0xc0e)](_0x5ab53f(0xd05))[_0x5ab53f(0x452)]=_0x189260['numChoices']||document[_0x5ab53f(0xc0e)]('num-choices')[_0x5ab53f(0x452)],document[_0x5ab53f(0xc0e)](_0x5ab53f(0xb1e))[_0x5ab53f(0x452)]=_0x189260[_0x5ab53f(0x125)]||document[_0x5ab53f(0xc0e)](_0x5ab53f(0x48c))[_0x5ab53f(0x452)],document[_0x5ab53f(0xc0e)](_0x5ab53f(0x50f))[_0x5ab53f(0x9da)]=_0x189260[_0x5ab53f(0xbfa)]||document[_0x5ab53f(0xc0e)](_0x5ab53f(0x92c))['checked'],_0x4f2f2b[_0x5ab53f(0x319)][_0x5ab53f(0xd08)](_0x5ab53f(0x772));}function handleSaveBlueprintPageSettings(){const _0xee1cf1=_0x3a9f7b;blueprintPageSettings={'quizType':document[_0xee1cf1(0xc0e)](_0xee1cf1(0x564))[_0xee1cf1(0x452)],'difficultyValue':document['getElementById'](_0xee1cf1(0xc5c))['value'],'complexityValue':document['getElementById'](_0xee1cf1(0x66a))[_0xee1cf1(0x452)],'numQuestions':document['getElementById'](_0xee1cf1(0xaa))[_0xee1cf1(0x452)],'passingScore':document[_0xee1cf1(0xc0e)](_0xee1cf1(0x2ff))[_0xee1cf1(0x452)],'numChoices':document[_0xee1cf1(0xc0e)]('bp-modal-num-choices')[_0xee1cf1(0x452)],'shuffle':document[_0xee1cf1(0xc0e)](_0xee1cf1(0xb1e))[_0xee1cf1(0x452)],'includeImages':document['getElementById'](_0xee1cf1(0x50f))[_0xee1cf1(0x9da)]},showMessage(_0xee1cf1(0xc28)),document[_0xee1cf1(0xc0e)](_0xee1cf1(0x842))['classList'][_0xee1cf1(0x930)](_0xee1cf1(0x772));}function listenForParallelTestShortcuts(){const _0x5395fc=_0x3a9f7b,_0x3f837c=doc(db,_0x5395fc(0x316),_0x5395fc(0x305));onSnapshot(_0x3f837c,_0x12b89c=>{const _0x599010=_0x5395fc;let _0x40e5b5=[],_0x967aa8=[],_0x3d0071={};if(_0x12b89c[_0x599010(0x1fb)]()){const _0x397a6e=_0x12b89c[_0x599010(0x180)]();_0x40e5b5=_0x397a6e[_0x599010(0xadd)]||[],_0x967aa8=_0x397a6e[_0x599010(0x302)]||[],_0x3d0071=_0x397a6e[_0x599010(0x81b)]||{};}!_0x967aa8['find'](_0x1ab437=>_0x1ab437['id']==='all')&&_0x967aa8[_0x599010(0x3fb)]({'id':_0x599010(0xc9a),'name':_0x599010(0x2bf),'isDefault':!![]}),!_0x40e5b5[_0x599010(0x4b3)](_0x3f4e7c=>_0x3f4e7c['id']===_0x599010(0x3cb))&&_0x40e5b5[_0x599010(0x3fb)]({'id':'parallel-default-1','name':_0x599010(0x114),'url':'','isDefault':!![]}),!_0x40e5b5['find'](_0x3818c0=>_0x3818c0['id']===_0x599010(0x417))&&_0x40e5b5[_0x599010(0x3fb)]({'id':_0x599010(0x417),'name':_0x599010(0x69f),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x40e5b5,parallelShortcutTabs=_0x967aa8,parallelShortcutOrder=_0x3d0071,renderParallelTestShortcuts(),!document[_0x599010(0xc0e)](_0x599010(0x14c))[_0x599010(0x319)][_0x599010(0xa3b)](_0x599010(0x772))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x2db7b0=_0x3a9f7b,_0x1fa234=doc(db,_0x2db7b0(0x316),'parallelTestShortcutsConfig');try{await setDoc(_0x1fa234,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x404b5b){console['error'](_0x2db7b0(0x22f),_0x404b5b);}}function renderAdditionalParallelShortcutsModal(){const _0x4fc22e=_0x3a9f7b,_0x49bd1e=document[_0x4fc22e(0xc0e)](_0x4fc22e(0x5a3)),_0x2af3bb=document['getElementById'](_0x4fc22e(0x52a));if(!_0x49bd1e||!_0x2af3bb)return;_0x49bd1e['innerHTML']=parallelShortcutTabs[_0x4fc22e(0x8ac)](_0x356b54=>{const _0x54233e=_0x4fc22e,_0x3e3468=_0x356b54['id']===activeParallelShortcutTabId;return _0x54233e(0x8c1)+_0x356b54['id']+_0x54233e(0x638)+(_0x3e3468?'border-indigo-500\x20text-indigo-600':_0x54233e(0x4f2))+_0x54233e(0x984)+_0x356b54['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x356b54['name']+_0x54233e(0xa12)+(!_0x356b54['isDefault']?'<button\x20data-tab-id=\x22'+_0x356b54['id']+_0x54233e(0x956):'')+_0x54233e(0x974);})[_0x4fc22e(0x986)]('');const _0xc04120=parallelShortcutTabs['find'](_0x2ca3cf=>_0x2ca3cf['id']===activeParallelShortcutTabId);let _0x1fed5e=_0xc04120?.[_0x4fc22e(0x9f1)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x4fc22e(0xb6e)](_0x4d5e4e=>(_0xc04120?.[_0x4fc22e(0x33a)]||[])['includes'](_0x4d5e4e['id']));const _0x2e04d=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x1fed5e['sort']((_0x283eab,_0x3561bc)=>{const _0x44991e=_0x4fc22e,_0xbf6025=_0x2e04d['indexOf'](_0x283eab['id']),_0x4997a4=_0x2e04d[_0x44991e(0x617)](_0x3561bc['id']);return(_0xbf6025===-0x1?Infinity:_0xbf6025)-(_0x4997a4===-0x1?Infinity:_0x4997a4);}),_0x2af3bb[_0x4fc22e(0xd5e)]=_0x1fed5e[_0x4fc22e(0x8ac)](_0x1aa4ec=>{const _0x39afad=_0x4fc22e,_0x405068=_0x1aa4ec[_0x39afad(0x854)]?'🔁':'🔗',_0x1d41c2=parallelShortcutTabs[_0x39afad(0xb6e)](_0x1fd0b7=>!_0x1fd0b7[_0x39afad(0x9f1)]),_0x5f0503=_0xc04120['isDefault']&&_0x1d41c2[_0x39afad(0x7d2)]>0x0?_0x39afad(0xb84)+_0x1d41c2[_0x39afad(0x8ac)](_0x5d4693=>_0x39afad(0x84c)+_0x1aa4ec['id']+_0x39afad(0xb74)+_0x5d4693['id']+'\x22>'+_0x5d4693[_0x39afad(0x58e)]+'</a>')[_0x39afad(0x986)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x39afad(0x4ef)+_0x1aa4ec['id']+_0x39afad(0x11a)+_0x405068+'\x20'+_0x1aa4ec['name']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1aa4ec['id']+_0x39afad(0xd0c)+_0x1aa4ec['id']+_0x39afad(0x6ec)+(!_0x1aa4ec[_0x39afad(0x9f1)]?_0x39afad(0x28b)+_0x1aa4ec['id']+_0x39afad(0xac8):'')+_0x39afad(0xacd)+(!_0xc04120[_0x39afad(0x9f1)]?_0x39afad(0x6f5)+_0x1aa4ec['id']+'\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f0503+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4fc22e(0x986)]('')||_0x4fc22e(0x4be),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x24ef54=_0x3a9f7b;document[_0x24ef54(0x68f)]('.parallel-shortcut-tab-btn')[_0x24ef54(0x2d3)](_0x428bb8=>{_0x428bb8['onclick']=_0x34d961=>{const _0x34ee4b=_0x57a1;activeParallelShortcutTabId=_0x34d961['currentTarget']['dataset'][_0x34ee4b(0x56d)],renderAdditionalParallelShortcutsModal();},_0x428bb8['ondblclick']=_0x284da3=>{const _0x4328d5=_0x57a1,_0x57e6c0=_0x284da3['currentTarget'][_0x4328d5(0x535)](_0x4328d5(0x61d));_0x284da3[_0x4328d5(0xa58)][_0x4328d5(0x535)](_0x4328d5(0x9d3))['classList'][_0x4328d5(0x930)](_0x4328d5(0x772)),_0x57e6c0[_0x4328d5(0x319)][_0x4328d5(0xd08)](_0x4328d5(0x772)),_0x57e6c0['focus'](),_0x57e6c0['select']();};}),document[_0x24ef54(0x68f)](_0x24ef54(0x5b1))[_0x24ef54(0x2d3)](_0x5d4ac0=>{const _0x5d1508=_0x24ef54,_0x3552f4=()=>{const _0x5e8e71=_0x57a1,_0x23aad0=_0x5d4ac0[_0x5e8e71(0x190)](_0x5e8e71(0x59a))[_0x5e8e71(0x5e8)]['tabId'],_0x593bff=parallelShortcutTabs[_0x5e8e71(0x4b3)](_0x4b63e2=>_0x4b63e2['id']===_0x23aad0);_0x593bff&&(_0x593bff[_0x5e8e71(0x58e)]=_0x5d4ac0['value'][_0x5e8e71(0xa0f)]()||_0x593bff[_0x5e8e71(0x58e)],saveParallelShortcutConfig());};_0x5d4ac0[_0x5d1508(0x836)]=_0x3552f4,_0x5d4ac0['onkeydown']=_0x5ddaba=>{const _0x4333c7=_0x5d1508;if(_0x5ddaba['key']==='Enter')_0x5d4ac0[_0x4333c7(0x1ae)]();};}),document[_0x24ef54(0x68f)](_0x24ef54(0x9d1))[_0x24ef54(0x2d3)](_0x5776b2=>_0x5776b2[_0x24ef54(0xd75)]=_0x5d859b=>{const _0x5e6ea8=_0x24ef54,_0x75175b=_0x5d859b[_0x5e6ea8(0xa58)]['dataset'][_0x5e6ea8(0x56d)];showConfirmation(_0x5e6ea8(0xa69),()=>{const _0x2dc8bb=_0x5e6ea8;parallelShortcutTabs=parallelShortcutTabs[_0x2dc8bb(0xb6e)](_0xa8d92e=>_0xa8d92e['id']!==_0x75175b),delete parallelShortcutOrder[_0x75175b];if(activeParallelShortcutTabId===_0x75175b)activeParallelShortcutTabId=_0x2dc8bb(0xc9a);saveParallelShortcutConfig();});}),document[_0x24ef54(0x68f)](_0x24ef54(0xc30))['forEach'](_0x535164=>_0x535164[_0x24ef54(0xd75)]=_0x4554fb=>{const _0x21279a=_0x24ef54;_0x4554fb[_0x21279a(0x3eb)]();const {shortcutId:_0x326954,targetTabId:_0x869947}=_0x4554fb['currentTarget'][_0x21279a(0x5e8)],_0x564e84=parallelShortcutTabs['find'](_0x3231cb=>_0x3231cb['id']===_0x869947);_0x564e84&&!_0x564e84[_0x21279a(0x33a)][_0x21279a(0x1bc)](_0x326954)&&(_0x564e84['shortcutIds']['push'](_0x326954),saveParallelShortcutConfig());}),document[_0x24ef54(0x68f)](_0x24ef54(0xc76))['forEach'](_0x3c2cbc=>_0x3c2cbc[_0x24ef54(0xd75)]=_0xcd1368=>{const _0x21321a=_0x24ef54,_0x1807a2=_0xcd1368[_0x21321a(0xa58)][_0x21321a(0x5e8)]['shortcutId'],_0x576bc7=parallelShortcutTabs[_0x21321a(0x4b3)](_0x113a31=>_0x113a31['id']===activeParallelShortcutTabId);_0x576bc7&&!_0x576bc7['isDefault']&&(_0x576bc7['shortcutIds']=_0x576bc7[_0x21321a(0x33a)][_0x21321a(0xb6e)](_0x59f6ba=>_0x59f6ba!==_0x1807a2),saveParallelShortcutConfig());}),document[_0x24ef54(0x68f)](_0x24ef54(0xd6c))['forEach'](_0x5ed7f0=>_0x5ed7f0[_0x24ef54(0xd75)]=_0x512bbd=>{const _0x3fa337=_0x24ef54;_0x512bbd['stopPropagation']();const _0x5083a5=_0x512bbd['currentTarget'][_0x3fa337(0x717)];document[_0x3fa337(0x68f)]('.move-parallel-shortcut-dropdown')[_0x3fa337(0x2d3)](_0x298918=>_0x298918[_0x3fa337(0x319)][_0x3fa337(0x930)]('hidden')),_0x5083a5[_0x3fa337(0x319)][_0x3fa337(0xd08)](_0x3fa337(0x772));});const _0x5d9bd7=document['getElementById'](_0x24ef54(0x52a));let _0x502aa8=null;_0x5d9bd7[_0x24ef54(0x5bc)]=_0xdc6832=>{const _0x240a58=_0x24ef54;_0x502aa8=_0xdc6832[_0x240a58(0x697)][_0x240a58(0x190)](_0x240a58(0xbc));if(_0x502aa8)setTimeout(()=>_0x502aa8[_0x240a58(0x319)][_0x240a58(0x930)](_0x240a58(0x76e)),0x0);},_0x5d9bd7[_0x24ef54(0xc81)]=()=>{const _0x37ad06=_0x24ef54;_0x502aa8&&(_0x502aa8[_0x37ad06(0x319)][_0x37ad06(0xd08)](_0x37ad06(0x76e)),_0x502aa8=null);},_0x5d9bd7['ondragover']=_0x55ee39=>{const _0x485acf=_0x24ef54;_0x55ee39[_0x485acf(0x3eb)]();},_0x5d9bd7[_0x24ef54(0x17a)]=_0x465815=>{const _0x401d52=_0x24ef54;_0x465815[_0x401d52(0x3eb)]();if(_0x502aa8){const _0x199b16=[..._0x5d9bd7[_0x401d52(0x68f)]('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x2cc5a0,_0x1a757e)=>{const _0x601c88=_0x401d52,_0x5079ca=_0x1a757e[_0x601c88(0xb82)](),_0x413575=_0x465815[_0x601c88(0x86b)]-_0x5079ca[_0x601c88(0xc1d)]-_0x5079ca[_0x601c88(0x65c)]/0x2;return _0x413575<0x0&&_0x413575>_0x2cc5a0[_0x601c88(0x343)]?{'offset':_0x413575,'element':_0x1a757e}:_0x2cc5a0;},{'offset':Number['NEGATIVE_INFINITY']})[_0x401d52(0x960)];_0x199b16==null?_0x5d9bd7[_0x401d52(0x6ce)](_0x502aa8):_0x5d9bd7[_0x401d52(0x271)](_0x502aa8,_0x199b16);const _0x1e3421=[..._0x5d9bd7[_0x401d52(0x68f)]('.shortcut-list-item')][_0x401d52(0x8ac)](_0x2d46d8=>_0x2d46d8[_0x401d52(0x5e8)][_0x401d52(0x585)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x1e3421,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x842ef1=_0x3a9f7b,_0x48f707=prompt(_0x842ef1(0x859),'แท็บใหม่');_0x48f707&&_0x48f707[_0x842ef1(0xa0f)]()&&(parallelShortcutTabs[_0x842ef1(0x187)]({'id':_0x842ef1(0x1f8)+Date[_0x842ef1(0x62e)](),'name':_0x48f707[_0x842ef1(0xa0f)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x1995d2=_0x3a9f7b,_0x5de5dd=document[_0x1995d2(0xc0e)](_0x1995d2(0xc1)),_0x2c2cd6=document['getElementById']('additional-parallel-shortcuts-list'),_0x396636=document[_0x1995d2(0xc0e)](_0x1995d2(0x1b1));if(_0x396636)_0x396636['classList'][_0x1995d2(0x930)](_0x1995d2(0x772));if(!_0x5de5dd||!_0x2c2cd6)return;const _0x5561b1=parallelTestShortcuts[_0x1995d2(0x3f8)](0x0,0x4),_0x52ce69=parallelTestShortcuts[_0x1995d2(0x3f8)](0x4);_0x5de5dd['innerHTML']=_0x5561b1['map'](_0x48be29=>{const _0x1b0749=_0x1995d2,_0x17569e=_0x48be29['url']&&_0x48be29[_0x1b0749(0x854)][_0x1b0749(0xa0f)]()!=='',_0x717659=_0x17569e?_0x1b0749(0x440):_0x1b0749(0x2c8),_0x395b47=_0x17569e?'🔁':'🔗',_0x3806e1=!_0x48be29['isDefault']?_0x1b0749(0x28b)+_0x48be29['id']+_0x1b0749(0x98b):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x48be29['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x717659+_0x1b0749(0x6c4)+_0x395b47+'\x20'+_0x48be29['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x48be29['id']+_0x1b0749(0x6cc)+_0x3806e1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1995d2(0x986)](''),_0x52ce69['length']>0x0&&(_0x5de5dd[_0x1995d2(0xd5e)]+=_0x1995d2(0xd2e)),_0x52ce69['length']>0x0?_0x2c2cd6[_0x1995d2(0xd5e)]=_0x52ce69['map'](_0x5046c1=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x5046c1[_0x1995d2(0x854)]?'🔁':'🔗')+'\x20'+_0x5046c1[_0x1995d2(0x58e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5046c1['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5046c1['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5046c1['isDefault']?'<button\x20data-id=\x22'+_0x5046c1['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1995d2(0x986)](''):_0x2c2cd6[_0x1995d2(0xd5e)]=_0x1995d2(0x336);}function openParallelTestShortcutEditor(_0x5529f7=null){const _0x300a28=_0x3a9f7b,_0x41bc5a=document[_0x300a28(0xc0e)]('parallel-shortcut-editor-modal'),_0x52fdc8=document[_0x300a28(0xc0e)](_0x300a28(0x275)),_0x6a23ba=document[_0x300a28(0xc0e)](_0x300a28(0x99d)),_0x300efb=document['getElementById'](_0x300a28(0x438)),_0x585b0a=document[_0x300a28(0xc0e)](_0x300a28(0x5c9));if(_0x5529f7){const _0x4e22bb=parallelTestShortcuts[_0x300a28(0x4b3)](_0x299a83=>_0x299a83['id']===_0x5529f7);if(!_0x4e22bb)return;_0x52fdc8['textContent']='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x6a23ba['value']=_0x4e22bb['id'],_0x300efb[_0x300a28(0x452)]=_0x4e22bb['name'],_0x585b0a[_0x300a28(0x452)]=_0x4e22bb[_0x300a28(0x854)]||'';}else _0x52fdc8[_0x300a28(0x6fb)]='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x6a23ba[_0x300a28(0x452)]='',_0x300efb[_0x300a28(0x452)]='',_0x585b0a[_0x300a28(0x452)]='';_0x41bc5a[_0x300a28(0x319)][_0x300a28(0xd08)](_0x300a28(0x772));}async function saveParallelTestShortcutChanges(){const _0x1f0541=_0x3a9f7b,_0x28d796=document[_0x1f0541(0xc0e)]('parallel-shortcut-id-input')[_0x1f0541(0x452)],_0x3986b5=document['getElementById']('parallel-shortcut-name-input')[_0x1f0541(0x452)][_0x1f0541(0xa0f)](),_0x2633df=document[_0x1f0541(0xc0e)](_0x1f0541(0x5c9))['value'][_0x1f0541(0xa0f)]();if(!_0x3986b5){showMessage(_0x1f0541(0x625));return;}const _0xed6a8a={'id':_0x28d796||_0x1f0541(0xb8)+Date[_0x1f0541(0x62e)](),'name':_0x3986b5,'url':_0x2633df,'isDefault':_0x28d796['startsWith'](_0x1f0541(0xd7c))};let _0x4a485d;_0x28d796?_0x4a485d=parallelTestShortcuts['map'](_0x330c90=>_0x330c90['id']===_0x28d796?_0xed6a8a:_0x330c90):_0x4a485d=[...parallelTestShortcuts,_0xed6a8a];try{const _0x1f258d=doc(db,_0x1f0541(0x316),_0x1f0541(0x305));await setDoc(_0x1f258d,{'shortcuts':_0x4a485d},{'merge':!![]}),document[_0x1f0541(0xc0e)](_0x1f0541(0xfe))[_0x1f0541(0x319)][_0x1f0541(0x930)]('hidden');}catch(_0x32dd41){console[_0x1f0541(0x4e3)]('Error\x20saving\x20parallel\x20shortcut:',_0x32dd41),showMessage(_0x1f0541(0x16b));}}async function handleParallelTestShortcutClick(_0x4e4abb){const _0x3d665b=_0x3a9f7b,_0x5390e4=parallelTestShortcuts['find'](_0x4b6bfe=>_0x4b6bfe['id']===_0x4e4abb);if(!_0x5390e4)return;if(!_0x5390e4['url']||_0x5390e4[_0x3d665b(0x854)]['trim']()===''){openParallelTestShortcutEditor(_0x4e4abb);return;}const _0x59f03c=document[_0x3d665b(0xc0e)](_0x3d665b(0xa28)),_0x1799e9=document[_0x3d665b(0xc0e)]('loader-text');document[_0x3d665b(0xc0e)]('quiz-generation-area')[_0x3d665b(0x319)][_0x3d665b(0xd08)](_0x3d665b(0x772)),document[_0x3d665b(0xc0e)](_0x3d665b(0x5cd))[_0x3d665b(0xd5e)]='',_0x59f03c[_0x3d665b(0x319)]['remove'](_0x3d665b(0x772)),_0x1799e9['textContent']='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x5a12d0;_0x5390e4['url']['toLowerCase']()[_0x3d665b(0x1bc)](_0x3d665b(0x4d2))?_0x5a12d0=_0x3d665b(0x5f9):_0x5a12d0=_0x3d665b(0x8e5);const _0x4eeb33=await fetchFileFromUrl(_0x5390e4[_0x3d665b(0x854)],_0x5a12d0);await handleGenerateParallelTest(_0x4eeb33);}catch(_0x306559){console[_0x3d665b(0x4e3)](_0x3d665b(0xafa),_0x306559),showMessage(_0x3d665b(0xc89)+_0x306559[_0x3d665b(0x145)]),_0x59f03c[_0x3d665b(0x319)][_0x3d665b(0x930)]('hidden');}}function initializeScratchpadCanvas(){const _0x4d7099=_0x3a9f7b,_0x279ace=document[_0x4d7099(0xc0e)](_0x4d7099(0xc68)),_0x5706e3=document['querySelector'](_0x4d7099(0x5fb));if(!_0x279ace||!_0x5706e3)return;scratchpadCtx=_0x279ace[_0x4d7099(0x235)]('2d',{'willReadFrequently':!![]});const _0x138012=window['devicePixelRatio']||0x1,_0x4a38e9=_0x5706e3[_0x4d7099(0xb82)]();_0x279ace[_0x4d7099(0xbee)]=_0x4a38e9[_0x4d7099(0xbee)]*_0x138012,_0x279ace[_0x4d7099(0x65c)]=_0x4a38e9[_0x4d7099(0x65c)]*_0x138012,_0x279ace[_0x4d7099(0x5c6)][_0x4d7099(0xbee)]=_0x4a38e9['width']+'px',_0x279ace['style']['height']=_0x4a38e9[_0x4d7099(0x65c)]+'px',scratchpadCtx[_0x4d7099(0x2e5)](_0x138012,_0x138012),scratchpadCtx[_0x4d7099(0xcf1)]=_0x4d7099(0xc60),scratchpadCtx[_0x4d7099(0xb26)]=_0x4d7099(0xc60),_0x279ace[_0x4d7099(0x3e0)](_0x4d7099(0xac7),handlePointerDown),_0x279ace[_0x4d7099(0x3e0)](_0x4d7099(0xc7f),handlePointerMove),_0x279ace[_0x4d7099(0x3e0)](_0x4d7099(0x57a),handlePointerUp),_0x279ace[_0x4d7099(0x3e0)]('pointercancel',handlePointerUp),_0x279ace[_0x4d7099(0x3e0)](_0x4d7099(0x897),handleWheel),_0x279ace[_0x4d7099(0x3e0)](_0x4d7099(0x932),handlePointerDown),_0x279ace[_0x4d7099(0x3e0)]('touchmove',handlePointerMove),_0x279ace[_0x4d7099(0x3e0)](_0x4d7099(0xb22),handlePointerUp),_0x279ace['addEventListener'](_0x4d7099(0xac7),handlePointerDown),_0x279ace[_0x4d7099(0x59d)](_0x4d7099(0xc7f),handlePointerMove),_0x279ace[_0x4d7099(0x59d)]('pointerup',handlePointerUp),_0x279ace[_0x4d7099(0x59d)](_0x4d7099(0x6ef),handlePointerUp),_0x279ace['addEventListener'](_0x4d7099(0x897),handleWheel,{'passive':![]}),_0x279ace['addEventListener'](_0x4d7099(0x932),handlePointerDown,{'passive':![]}),_0x279ace[_0x4d7099(0x59d)]('touchmove',handlePointerMove,{'passive':![]}),_0x279ace[_0x4d7099(0x59d)](_0x4d7099(0xb22),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2d05b4=_0x3a9f7b,_0x1cc9a4=document[_0x2d05b4(0xc0e)](_0x2d05b4(0x76d)),_0x1b5f9a=document[_0x2d05b4(0xc0e)](_0x2d05b4(0x4f6));_0x1b5f9a[_0x2d05b4(0xd5e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x2d05b4(0x456);const _0x1c4f95=document[_0x2d05b4(0xc0e)](_0x2d05b4(0x5f1)),_0x2cc7cc=document[_0x2d05b4(0xc0e)](_0x2d05b4(0xaf5)),_0x28c718=document[_0x2d05b4(0xc0e)]('trail-tool-btn'),_0x1541f4=document['getElementById'](_0x2d05b4(0x260)),_0x525674=document[_0x2d05b4(0xc0e)](_0x2d05b4(0xa34)),_0x546965=document[_0x2d05b4(0xc0e)](_0x2d05b4(0x85f)),_0x500f0d=document[_0x2d05b4(0xc0e)]('eraser-tools-group'),_0x4d55ef=[_0x1c4f95,_0x2cc7cc,_0x28c718,_0x1541f4];document[_0x2d05b4(0xc0e)]('scratchpad-close-btn')[_0x2d05b4(0x59d)](_0x2d05b4(0x9fd),()=>_0x1cc9a4[_0x2d05b4(0x319)][_0x2d05b4(0x930)](_0x2d05b4(0x772))),document[_0x2d05b4(0xc0e)](_0x2d05b4(0x499))[_0x2d05b4(0x59d)](_0x2d05b4(0x9fd),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x2d05b4(0xc0e)](_0x2d05b4(0x700))[_0x2d05b4(0x59d)](_0x2d05b4(0x9fd),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x2d05b4(0xc0e)]('undo-btn')[_0x2d05b4(0x59d)](_0x2d05b4(0x9fd),undo),document[_0x2d05b4(0xc0e)](_0x2d05b4(0x1d2))[_0x2d05b4(0x59d)](_0x2d05b4(0x9fd),redo);const _0x55526b=_0x5f037f=>{const _0x116d3f=_0x2d05b4;_0x4d55ef['forEach'](_0x4c6e44=>_0x4c6e44[_0x116d3f(0x319)]['remove']('active')),_0x5f037f['classList']['add']('active'),_0x525674[_0x116d3f(0x319)][_0x116d3f(0x930)](_0x116d3f(0x772)),_0x546965[_0x116d3f(0x319)][_0x116d3f(0x930)](_0x116d3f(0x772)),_0x500f0d[_0x116d3f(0x319)][_0x116d3f(0x930)](_0x116d3f(0x772));if(activeTool===_0x116d3f(0x7a7)||activeTool===_0x116d3f(0x27e))_0x525674[_0x116d3f(0x319)][_0x116d3f(0xd08)](_0x116d3f(0x772));else{if(activeTool===_0x116d3f(0x4a3))_0x546965['classList']['remove']('hidden');else activeTool===_0x116d3f(0xb0f)&&_0x500f0d[_0x116d3f(0x319)][_0x116d3f(0xd08)](_0x116d3f(0x772));}};_0x1c4f95[_0x2d05b4(0x59d)](_0x2d05b4(0x9fd),()=>{const _0x417009=_0x2d05b4;activeTool=_0x417009(0x7a7),_0x55526b(_0x1c4f95);}),_0x2cc7cc[_0x2d05b4(0x59d)](_0x2d05b4(0x9fd),()=>{activeTool='eraser',_0x55526b(_0x2cc7cc);}),_0x28c718[_0x2d05b4(0x59d)](_0x2d05b4(0x9fd),()=>{const _0x290637=_0x2d05b4;activeTool=_0x290637(0x27e),_0x55526b(_0x28c718);}),_0x1541f4[_0x2d05b4(0x59d)]('click',()=>{const _0x2b270d=_0x2d05b4;activeTool=_0x2b270d(0x4a3),_0x55526b(_0x1541f4);}),_0x525674[_0x2d05b4(0x68f)](_0x2d05b4(0x99c))[_0x2d05b4(0x2d3)](_0x1f0729=>{const _0x1e7307=_0x2d05b4;_0x1f0729[_0x1e7307(0x59d)](_0x1e7307(0x9fd),_0x2eda68=>{const _0x1de389=_0x1e7307;scratchpadPenSize=parseInt(_0x2eda68[_0x1de389(0x697)][_0x1de389(0x5e8)][_0x1de389(0x2d8)],0xa),_0x525674[_0x1de389(0x68f)](_0x1de389(0x99c))[_0x1de389(0x2d3)](_0x298928=>_0x298928[_0x1de389(0x319)]['remove'](_0x1de389(0x75a))),_0x2eda68[_0x1de389(0x697)]['classList'][_0x1de389(0x930)](_0x1de389(0x75a));});}),_0x500f0d[_0x2d05b4(0x68f)](_0x2d05b4(0x8bc))[_0x2d05b4(0x2d3)](_0x4fba6d=>{const _0xbf87d8=_0x2d05b4;_0x4fba6d[_0xbf87d8(0x59d)]('click',_0x2b3533=>{const _0x20341a=_0xbf87d8,_0x3a5ac8=_0x2b3533[_0x20341a(0xa58)];scratchpadEraserSize=parseInt(_0x3a5ac8[_0x20341a(0x5e8)][_0x20341a(0x2d8)],0xa),_0x500f0d[_0x20341a(0x68f)](_0x20341a(0x8bc))['forEach'](_0x56c5a9=>_0x56c5a9[_0x20341a(0x319)][_0x20341a(0xd08)](_0x20341a(0x75a))),_0x3a5ac8[_0x20341a(0x319)]['add'](_0x20341a(0x75a));});}),_0x525674[_0x2d05b4(0x68f)](_0x2d05b4(0xae3))[_0x2d05b4(0x2d3)](_0x2b5917=>{const _0x5cd5e4=_0x2d05b4;_0x2b5917[_0x5cd5e4(0x59d)]('click',_0x3da3f3=>{const _0x143248=_0x5cd5e4;scratchpadPenColor=_0x3da3f3[_0x143248(0x697)]['dataset'][_0x143248(0x98e)],_0x525674['querySelectorAll']('.pen-color-btn')[_0x143248(0x2d3)](_0x354a18=>_0x354a18['classList'][_0x143248(0xd08)]('active')),_0x3da3f3[_0x143248(0x697)]['classList']['add'](_0x143248(0x75a));});}),_0x546965[_0x2d05b4(0x68f)]('.highlighter-color-btn')[_0x2d05b4(0x2d3)](_0x56f88c=>{const _0x4f946f=_0x2d05b4;_0x56f88c[_0x4f946f(0x59d)](_0x4f946f(0x9fd),_0x1e871e=>{const _0x579747=_0x4f946f;scratchpadHighlighterColor=_0x1e871e[_0x579747(0x697)][_0x579747(0x5e8)][_0x579747(0x98e)],_0x546965[_0x579747(0x68f)]('.highlighter-color-btn')[_0x579747(0x2d3)](_0xdd6eba=>_0xdd6eba['classList'][_0x579747(0xd08)](_0x579747(0x75a))),_0x1e871e['target'][_0x579747(0x319)][_0x579747(0x930)](_0x579747(0x75a));});});const _0x5e9548=document['getElementById'](_0x2d05b4(0xe6)),_0x368d6c=document[_0x2d05b4(0xc0e)](_0x2d05b4(0x9cf));_0x5e9548[_0x2d05b4(0x59d)](_0x2d05b4(0x914),_0x64fd75=>{const _0x11118c=_0x2d05b4,_0x2861f0=parseInt(_0x64fd75[_0x11118c(0x697)][_0x11118c(0x452)],0xa);scratchpadHighlighterSize=_0x2861f0,_0x368d6c[_0x11118c(0x6fb)]=_0x2861f0;}),window['addEventListener']('resize',()=>{const _0x3bf6be=_0x2d05b4;!_0x1cc9a4[_0x3bf6be(0x319)][_0x3bf6be(0xa3b)](_0x3bf6be(0x772))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x3a9f7b(0x902),'name':_0x3a9f7b(0x1b7),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x3a9f7b(0x67e)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':_0x3a9f7b(0xbc7),'icon':_0x3a9f7b(0x594)},'ON_FIRE':{'id':_0x3a9f7b(0xc9c),'name':_0x3a9f7b(0xb9a),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x3a9f7b(0x62c)},'FIRST_TRY_ACE':{'id':_0x3a9f7b(0xae4),'name':_0x3a9f7b(0x8f9),'description':_0x3a9f7b(0x9c9),'icon':_0x3a9f7b(0xc9)},'COMEBACK_KING':{'id':_0x3a9f7b(0xb7b),'name':_0x3a9f7b(0xa8),'description':_0x3a9f7b(0x61a),'icon':_0x3a9f7b(0x869)},'SPECIALIST':{'id':'specialist','name':_0x3a9f7b(0x3f9),'description':_0x3a9f7b(0x4b4),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x3a9f7b(0x31a),'name':'ผู้ไม่ยอมแพ้','description':_0x3a9f7b(0x47e),'icon':_0x3a9f7b(0x177)}},firebaseConfig={'apiKey':_0x3a9f7b(0x904),'authDomain':_0x3a9f7b(0x905),'projectId':'newappai','storageBucket':_0x3a9f7b(0x477),'messagingSenderId':_0x3a9f7b(0x447),'appId':_0x3a9f7b(0x662),'measurementId':'G-JGJ3WNEQP3'},appId=typeof __app_id!=='undefined'?__app_id:_0x3a9f7b(0x61e),adminView=document['getElementById'](_0x3a9f7b(0x879)),studentView=document['getElementById'](_0x3a9f7b(0x108)),projectDashboardView=document[_0x3a9f7b(0xc0e)]('project-dashboard-view'),projectDetailView=document[_0x3a9f7b(0xc0e)]('project-detail-view'),quizResultsView=document['getElementById']('quiz-results-view'),projectList=document[_0x3a9f7b(0xc0e)]('project-list'),noProjectsMsg=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x43e)),projectTitle=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x660)),projectIdDisplay=document['getElementById'](_0x3a9f7b(0x9ac)),studentList=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0xbd4)),messageModal=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x4e1)),modalMessage=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x12e)),createProjectModal=document[_0x3a9f7b(0xc0e)]('create-project-modal'),adminPasswordModal=document[_0x3a9f7b(0xc0e)]('admin-password-modal'),confirmationModal=document['getElementById'](_0x3a9f7b(0xce9)),userIdDisplay=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x6c7)),topicTab=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x166)),textTab=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x95a)),topicInputArea=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x750)),textInputArea=document[_0x3a9f7b(0xc0e)]('text-input-area'),manageTab=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x207)),resultsTab=document[_0x3a9f7b(0xc0e)]('results-tab'),leaderboardTab=document[_0x3a9f7b(0xc0e)]('leaderboard-tab'),manageTabContent=document['getElementById']('manage-tab-content'),resultsTabContent=document['getElementById'](_0x3a9f7b(0x851)),leaderboardTabContent=document[_0x3a9f7b(0xc0e)]('leaderboard-tab-content'),projectQuizzesList=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0xa79)),fileTab=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x38c)),fileInputArea=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x86e)),fileUploadInput=document[_0x3a9f7b(0xc0e)]('file-upload-input'),worksheetTab=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x995)),worksheetInputArea=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x23c)),generateWorksheetBtn=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x5a7)),studentInitialView=document['getElementById'](_0x3a9f7b(0x36b)),studentNameSelectionView=document['getElementById'](_0x3a9f7b(0x370)),studentQuizArea=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x763)),studentResultArea=document[_0x3a9f7b(0xc0e)]('student-result-area'),studentReadingArea=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x6a7)),loadQuizBtn=document[_0x3a9f7b(0xc0e)]('load-quiz-btn'),startQuizBtn=document['getElementById'](_0x3a9f7b(0x57d)),studentJoinGameView=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x589)),presentationModal=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x82b)),renameQuizModal=document['getElementById'](_0x3a9f7b(0x365)),moveQuizModal=document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0xd60)),quizSettingsModal=document[_0x3a9f7b(0xc0e)]('quiz-settings-modal'),quizStatusModal=document['getElementById'](_0x3a9f7b(0x9e1)),liveGameView=document['getElementById'](_0x3a9f7b(0x314));function handleFixLessonLatex(){const _0x20366b=_0x3a9f7b,_0x13388b=document['getElementById'](_0x20366b(0xafc));if(!_0x13388b){showMessage(_0x20366b(0xbce));return;}const _0x1edf17=_0x13388b[_0x20366b(0x68f)](['.ai-content\x20p',_0x20366b(0x128),_0x20366b(0xb86),_0x20366b(0x7f0),_0x20366b(0x464)][_0x20366b(0x986)](','));let _0x58cbcc=0x0;const _0x411ea4=_0x38c5b2=>_0x38c5b2[_0x20366b(0x6fb)]||'',_0x203f0c=(_0x3a2a7a,_0x145fbe)=>{const _0x89c886=_0x20366b;if(_0x3a2a7a[_0x89c886(0x535)]&&_0x3a2a7a['querySelector'](_0x89c886(0xd1e)))return;_0x3a2a7a[_0x89c886(0x6fb)]=_0x145fbe;},_0x3d2024=_0x322fe3=>_0x322fe3[_0x20366b(0xaa1)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x20366b(0xaa1)](/\r\n?/g,'\x0a'),_0x57eee7=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x51d6b1=_0x479b4c=>{const _0x5896d0=_0x20366b;let _0x277e5f=_0x479b4c[_0x5896d0(0xa0f)]();const _0x1a3aec=[_0x5896d0(0x510),_0x5896d0(0x5a6),_0x5896d0(0xb07),'sqrt',_0x5896d0(0xbbd),_0x5896d0(0x4dc),_0x5896d0(0x7a2),'div',_0x5896d0(0x9df),_0x5896d0(0x1bf),'le','ge',_0x5896d0(0xb61),'pm',_0x5896d0(0x2dd),_0x5896d0(0x84a),_0x5896d0(0xc9e),'tan',_0x5896d0(0x955),'ln','sum',_0x5896d0(0x993),_0x5896d0(0x3c4),_0x5896d0(0xc04),_0x5896d0(0x42f),'overline',_0x5896d0(0xc49),_0x5896d0(0x3ca),_0x5896d0(0xb1b)];_0x1a3aec[_0x5896d0(0x2d3)](_0x4324ab=>{const _0x2e023e=_0x5896d0;_0x277e5f=_0x277e5f[_0x2e023e(0xaa1)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x4324ab+'\x5cb','g'),(_0x451bba,_0x3d3dbf)=>_0x3d3dbf+'\x5c'+_0x4324ab);});const _0x690d04=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,_0x5896d0(0x598)],[/≤/g,_0x5896d0(0x192)],[/≥/g,_0x5896d0(0x83c)],[/≠/g,_0x5896d0(0xc9f)],[/±/g,_0x5896d0(0x656)],[/∑/g,_0x5896d0(0x8c3)],[/−/g,'-']];return _0x690d04[_0x5896d0(0x2d3)](([_0x1ece89,_0xac67ad])=>{const _0x20732f=_0x5896d0;_0x277e5f=_0x277e5f[_0x20732f(0xaa1)](_0x1ece89,_0xac67ad);}),_0x277e5f=_0x277e5f['replace'](/√\s*([A-Za-z0-9]+)/g,_0x5896d0(0x407)),_0x277e5f=_0x277e5f[_0x5896d0(0xaa1)](/(\d+)\s*%/g,'$1\x5c%'),_0x277e5f;},_0x315794=_0x248d1c=>{const _0x5cb8d2=_0x20366b;if(/\$|\\\(|\\\[/[_0x5cb8d2(0x3a4)](_0x248d1c))return _0x248d1c;if(!_0x57eee7['test'](_0x248d1c))return _0x248d1c;const _0x4e6a22=_0x248d1c['match'](/^\s*/)[0x0],_0x32bb52=_0x248d1c['match'](/\s*$/)[0x0],_0x2a79c7=_0x248d1c[_0x5cb8d2(0xa0f)]();return _0x4e6a22+'$'+_0x51d6b1(_0x2a79c7)+'$'+_0x32bb52;};_0x1edf17[_0x20366b(0x2d3)](_0x340498=>{const _0x5cf10a=_0x20366b,_0x4b36de=_0x411ea4(_0x340498);let _0x2885bb=_0x3d2024(_0x4b36de);_0x2885bb=_0x2885bb[_0x5cf10a(0xaa1)](/\$([^$]*?)\$/g,(_0x785f74,_0x4f40a3)=>'$'+_0x51d6b1(_0x4f40a3)+'$');const _0x3c5a8f=_0x2885bb['split'](/(\s+)/),_0xa7f03b=_0x3c5a8f[_0x5cf10a(0x8ac)](_0x6aab36=>{if(/\s+/['test'](_0x6aab36))return _0x6aab36;return _0x315794(_0x6aab36);});_0x2885bb=_0xa7f03b['join'](''),_0x2885bb!==_0x4b36de&&(_0x203f0c(_0x340498,_0x2885bb),_0x58cbcc++);});if(_0x58cbcc>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x58cbcc+_0x20366b(0xd2d));try{window[_0x20366b(0x6e3)]&&MathJax[_0x20366b(0x16c)]&&MathJax[_0x20366b(0x16c)]([_0x13388b]);}catch(_0x4680c8){console[_0x20366b(0x4e3)](_0x20366b(0x828),_0x4680c8);}}else showMessage(_0x20366b(0x3d7));}function handleAutoFixLatex(){const _0x387a83=_0x3a9f7b,_0x3001ef=document[_0x387a83(0xc0e)](_0x387a83(0x9d0))||document,_0x33cffc=_0x3001ef[_0x387a83(0x68f)](_0x387a83(0x908));let _0x224cc7=0x0;const _0x3bef06=_0x40f295=>_0x387a83(0x452)in _0x40f295?String(_0x40f295[_0x387a83(0x452)]):_0x40f295[_0x387a83(0x941)]!==undefined?_0x40f295['innerText']:_0x40f295[_0x387a83(0x6fb)]||'',_0x24e530=(_0x557e9f,_0x2ab64d)=>{const _0x21e6c1=_0x387a83;if('value'in _0x557e9f){_0x557e9f['value']=_0x2ab64d;return;}if(_0x557e9f[_0x21e6c1(0x535)]&&_0x557e9f[_0x21e6c1(0x535)]('mjx-container'))return;if(_0x557e9f[_0x21e6c1(0x941)]!==undefined)_0x557e9f[_0x21e6c1(0x941)]=_0x2ab64d;else _0x557e9f[_0x21e6c1(0x6fb)]=_0x2ab64d;},_0x527135=_0x11bbea=>_0x11bbea[_0x387a83(0xaa1)](/\u00A0/g,'\x20')[_0x387a83(0xaa1)](/\u200B/g,'')[_0x387a83(0xaa1)](/\r\n?/g,'\x0a'),_0x18d6ed=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x17efcb=_0xb710e9=>{const _0x1c079f=_0x387a83;let _0x1ea96a=_0xb710e9[_0x1c079f(0xa0f)]();_0x1ea96a=_0x1ea96a['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x1c079f(0x4f0)),_0x1ea96a=_0x1ea96a[_0x1c079f(0xaa1)](/\bfrac(\d)(\d)/g,_0x1c079f(0x4f0));const _0x57ac7a=['frac',_0x1c079f(0xa1f),_0x1c079f(0x4dc),_0x1c079f(0x7a2),_0x1c079f(0x635),'leq',_0x1c079f(0x1bf),'neq','pm','sin',_0x1c079f(0xc9e),_0x1c079f(0x2e0),_0x1c079f(0x955),'ln'];_0x57ac7a[_0x1c079f(0x2d3)](_0x20a144=>{const _0x582bb6=_0x1c079f;_0x1ea96a=_0x1ea96a['replace'](new RegExp(_0x582bb6(0x9a5)+_0x20a144+'\x5cb','g'),(_0x4bb326,_0x1a1757)=>_0x1a1757+'\x5c'+_0x20a144);});const _0x1d1b59=[[/×/g,_0x1c079f(0xb04)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x1c079f(0x192)],[/≥/g,'\x5cge'],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm']];return _0x1d1b59[_0x1c079f(0x2d3)](([_0x1c2df9,_0x586468])=>{const _0x38db2f=_0x1c079f;_0x1ea96a=_0x1ea96a[_0x38db2f(0xaa1)](_0x1c2df9,_0x586468);}),_0x1ea96a;},_0x44c600=_0x104f10=>{const _0x57d5f3=_0x387a83;if(/\$|\\\(|\\\[/[_0x57d5f3(0x3a4)](_0x104f10))return _0x104f10;if(!_0x18d6ed['test'](_0x104f10))return _0x104f10;const _0x477ab6=_0x104f10['match'](/^\s*/)[0x0],_0x283d80=_0x104f10[_0x57d5f3(0x49c)](/\s*$/)[0x0],_0x28419a=_0x104f10['trim']();return _0x477ab6+'$'+_0x17efcb(_0x28419a)+'$'+_0x283d80;};_0x33cffc[_0x387a83(0x2d3)](_0xb2f276=>{const _0x51e207=_0x387a83,_0xa13787=_0x3bef06(_0xb2f276);let _0x584dbd=_0x527135(_0xa13787);_0x584dbd=_0x584dbd[_0x51e207(0xaa1)](/\$([^$]*?)\$/g,(_0x5e3233,_0x22a5ee)=>'$'+_0x17efcb(_0x22a5ee)+'$');const _0x44fded=_0x584dbd[_0x51e207(0x962)](/(\s+)/),_0x49b3ea=_0x44fded['map'](_0x2da95e=>/\s+/[_0x51e207(0x3a4)](_0x2da95e)?_0x2da95e:_0x44c600(_0x2da95e));_0x584dbd=_0x49b3ea['join'](''),_0x584dbd!==_0xa13787&&(_0x24e530(_0xb2f276,_0x584dbd),_0x224cc7++);});if(_0x224cc7>0x0){showMessage(_0x387a83(0xba8)+_0x224cc7+'\x20จุด');try{if(window[_0x387a83(0x6e3)]&&MathJax[_0x387a83(0x16c)])MathJax[_0x387a83(0x16c)]();}catch(_0x287ef8){}}else showMessage(_0x387a83(0x28a));}async function listenForCustomMathTopics(){const _0x53266b=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');onSnapshot(_0x53266b,_0xd1902f=>{const _0x17304b=_0x57a1;customMathTopics=_0xd1902f['docs'][_0x17304b(0x8ac)](_0x171271=>({'id':_0x171271['id'],..._0x171271['data']()})),renderTopicCheckboxes();},_0x90370d=>{const _0x949c07=_0x57a1;console[_0x949c07(0x4e3)](_0x949c07(0x6e0),_0x90370d);});}function handleSelectAllTopics(){const _0x4217a5=_0x3a9f7b,_0x27cae9=document[_0x4217a5(0xc0e)](_0x4217a5(0x355)),_0x5c1cf8=_0x27cae9[_0x4217a5(0x68f)](_0x4217a5(0x920));_0x5c1cf8[_0x4217a5(0x2d3)](_0x4c6220=>{const _0x1201a8=_0x4217a5;_0x4c6220[_0x1201a8(0x9da)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2b9bc0=_0x3a9f7b,_0x1f69a2=document[_0x2b9bc0(0xc0e)]('math-topics-checkbox-container'),_0x512217=_0x1f69a2[_0x2b9bc0(0x68f)](_0x2b9bc0(0x920));_0x512217[_0x2b9bc0(0x2d3)](_0x4fe06c=>{const _0xb3016a=_0x2b9bc0;_0x4fe06c[_0xb3016a(0x9da)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0xbccbd5){const _0x3f47d8=_0x3a9f7b;if(!_0xbccbd5)return;try{const _0x21101a=doc(db,_0x3f47d8(0xb3f)+appId+_0x3f47d8(0x66e),_0xbccbd5);await deleteDoc(_0x21101a),showMessage(_0x3f47d8(0xbb0));}catch(_0x4c1e13){console[_0x3f47d8(0x4e3)](_0x3f47d8(0x607),_0x4c1e13),showMessage(_0x3f47d8(0x488));}}async function handleAddCustomMathTopic(){const _0x175c92=_0x3a9f7b,_0x4c601e=document['getElementById'](_0x175c92(0xb7e)),_0x50aaee=_0x4c601e[_0x175c92(0x452)]['trim']();if(!_0x50aaee){showMessage(_0x175c92(0xbc9));return;}if(!userId){showMessage(_0x175c92(0x84e));return;}try{const _0x54f034=collection(db,_0x175c92(0xb3f)+appId+_0x175c92(0x66e));await addDoc(_0x54f034,{'name':_0x50aaee,'createdAt':serverTimestamp()}),_0x4c601e['value']='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x50aaee+_0x175c92(0xcbe));}catch(_0x5b516a){console[_0x175c92(0x4e3)](_0x175c92(0x6b8),_0x5b516a),showMessage(_0x175c92(0x94c));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x5a69c7=_0x57a1,_0xc1678d=document[_0x5a69c7(0xc0e)](_0x5a69c7(0xa28)),_0x52ec50=document[_0x5a69c7(0xc0e)](_0x5a69c7(0x3c6)),_0x196da3=_0x52ec50[_0x5a69c7(0x6fb)];_0xc1678d[_0x5a69c7(0x319)]['remove'](_0x5a69c7(0x772)),_0x52ec50['textContent']=_0x5a69c7(0x446);try{const _0x309ecb=collection(db,_0x5a69c7(0xb3f)+appId+'/public/data/quizzes'),_0xefe9f5=await getDocs(_0x309ecb);if(_0xefe9f5[_0x5a69c7(0xb0c)]){showMessage(_0x5a69c7(0xd81));return;}const _0x5cf98d=writeBatch(db);let _0x43e589=0x0;_0xefe9f5['forEach'](_0x472a27=>{const _0xad9a8b=_0x5a69c7,_0x692cda=_0x472a27['data'](),_0x9efa34=_0x472a27['id'];if(_0x692cda[_0xad9a8b(0x9fc)]&&_0x692cda[_0xad9a8b(0x9fc)][_0xad9a8b(0x7d2)]>0x0&&!_0x692cda[_0xad9a8b(0x9fc)][0x0][_0xad9a8b(0x624)]('id')){console[_0xad9a8b(0x955)](_0xad9a8b(0x32d)+_0x9efa34+'\x20('+_0x692cda[_0xad9a8b(0x156)]+')'),_0x43e589++;const _0x1dd865=_0x692cda[_0xad9a8b(0x9fc)][_0xad9a8b(0x8ac)]((_0x5c0cb5,_0x2668b3)=>{const _0x15be89=_0xad9a8b;return{..._0x5c0cb5,'id':_0x5c0cb5['id']||'q_'+Date[_0x15be89(0x62e)]()+'_'+_0x9efa34+'_'+_0x2668b3};}),_0x4d4fdb=doc(db,_0xad9a8b(0xb3f)+appId+_0xad9a8b(0xb0a),_0x9efa34);_0x5cf98d[_0xad9a8b(0xe0)](_0x4d4fdb,{'questions':_0x1dd865});}}),_0x43e589>0x0?(_0x52ec50[_0x5a69c7(0x6fb)]=_0x5a69c7(0x56b)+_0x43e589+_0x5a69c7(0x66d),await _0x5cf98d['commit'](),showMessage(_0x5a69c7(0x948)+_0x43e589+_0x5a69c7(0xa8f))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x41f159){console[_0x5a69c7(0x4e3)](_0x5a69c7(0x328),_0x41f159),showMessage(_0x5a69c7(0xba2)+_0x41f159[_0x5a69c7(0x145)]);}finally{_0xc1678d['classList'][_0x5a69c7(0x930)]('hidden'),_0x52ec50[_0x5a69c7(0x6fb)]=_0x196da3;}});}async function handleBulkUpdateQuizSettings(){const _0x1aba76=_0x3a9f7b,_0x350443={'shuffle':document[_0x1aba76(0xc0e)](_0x1aba76(0x3b7))[_0x1aba76(0x452)],'resultsDisplay':document['getElementById'](_0x1aba76(0xd0e))[_0x1aba76(0x452)],'loopUntilPass':document['getElementById'](_0x1aba76(0x4dd))[_0x1aba76(0x9da)],'isConfidenceScoringEnabled':document['getElementById'](_0x1aba76(0x40a))[_0x1aba76(0x9da)],'confidenceMode':document[_0x1aba76(0xc0e)](_0x1aba76(0x4da))[_0x1aba76(0x452)]};try{showMessage(_0x1aba76(0x4df));const _0x3b7523=await getDocs(collection(db,_0x1aba76(0xb3f)+appId+_0x1aba76(0xb0a))),_0x284cce=_0x3b7523[_0x1aba76(0x726)][_0x1aba76(0x8ac)](_0x8dbde9=>({'id':_0x8dbde9['id'],'data':_0x8dbde9[_0x1aba76(0x180)]()})),_0x13d278=_0x284cce[_0x1aba76(0x7d2)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x13d278+_0x1aba76(0x8ef),async()=>{const _0x3fe4ff=_0x1aba76,_0xecb80b=document[_0x3fe4ff(0xc0e)]('confirm-bulk-quiz-settings-btn');_0xecb80b[_0x3fe4ff(0x622)]=!![],_0xecb80b[_0x3fe4ff(0xd5e)]=_0x3fe4ff(0xca5);try{const _0x258f0d=writeBatch(db);_0x284cce[_0x3fe4ff(0x2d3)](_0x2d02da=>{const _0x2a9c87=_0x3fe4ff,_0x56e2c5=doc(db,'artifacts/'+appId+_0x2a9c87(0xb0a),_0x2d02da['id']),_0x469965={..._0x2d02da[_0x2a9c87(0x180)][_0x2a9c87(0x7e8)]||{},..._0x350443};_0x258f0d[_0x2a9c87(0xe0)](_0x56e2c5,{'settings':_0x469965});}),await _0x258f0d[_0x3fe4ff(0xd55)](),document[_0x3fe4ff(0xc0e)](_0x3fe4ff(0xd0))[_0x3fe4ff(0x319)][_0x3fe4ff(0x930)](_0x3fe4ff(0x772)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x13d278+_0x3fe4ff(0xc4b));}catch(_0x26b779){console[_0x3fe4ff(0x4e3)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x26b779),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0xecb80b[_0x3fe4ff(0x622)]=![],_0xecb80b[_0x3fe4ff(0xd5e)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x3575b5){console['error'](_0x1aba76(0x7e5),_0x3575b5),showMessage(_0x1aba76(0x811));}}async function handleSaveProjectName(){const _0x429dc6=_0x3a9f7b,_0x12d7ca=document[_0x429dc6(0xc0e)](_0x429dc6(0x660)),_0x54730b=document[_0x429dc6(0xc0e)](_0x429dc6(0x364)),_0x4ebbff=_0x12d7ca['textContent'][_0x429dc6(0xa0f)]();if(!_0x4ebbff||!currentProjectId){showMessage(_0x429dc6(0x9fa)),_0x12d7ca[_0x429dc6(0x6fb)]=currentProjectData['projectName'];return;}_0x54730b['disabled']=!![],_0x54730b[_0x429dc6(0xd5e)]=_0x429dc6(0x1be);try{const _0x463e75=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x463e75,{'projectName':_0x4ebbff}),currentProjectData&&(currentProjectData[_0x429dc6(0x139)]=_0x4ebbff),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0xe077b8){console[_0x429dc6(0x4e3)](_0x429dc6(0xa5f),_0xe077b8),showMessage(_0x429dc6(0x16b)),_0x12d7ca[_0x429dc6(0x6fb)]=currentProjectData[_0x429dc6(0x139)];}finally{_0x54730b[_0x429dc6(0x319)][_0x429dc6(0x930)]('hidden'),_0x54730b[_0x429dc6(0x622)]=![],_0x54730b[_0x429dc6(0xd5e)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x5b1155,_0x550992){const _0x26bda0=_0x3a9f7b,_0x26d5d4=document['getElementById'](_0x26bda0(0x973)),_0x3d76f8=document['getElementById'](_0x26bda0(0x7c1)),_0x42dd6a=document[_0x26bda0(0xc0e)](_0x26bda0(0xb21)),_0x1cb33e=document[_0x26bda0(0xc0e)](_0x26bda0(0x95f));_0x3d76f8[_0x26bda0(0x6fb)]=_0x26bda0(0x78b)+_0x5b1155,_0x1cb33e['classList'][_0x26bda0(0x930)](_0x26bda0(0x772)),_0x42dd6a[_0x26bda0(0x319)][_0x26bda0(0xd08)]('hidden'),_0x26d5d4[_0x26bda0(0x319)][_0x26bda0(0xd08)](_0x26bda0(0x772)),generatePracticeTest(_0x5b1155,_0x550992)[_0x26bda0(0xa71)](_0x22bf73=>{const _0x39584f=_0x26bda0;console['error'](_0x39584f(0x1b8),_0x22bf73),showMessage(_0x39584f(0xd67)),_0x26d5d4[_0x39584f(0x319)][_0x39584f(0x930)](_0x39584f(0x772));});}async function generatePracticeTest(_0x59e56d,_0x1b5ac8){const _0x3690d9=_0x3a9f7b;[_0x3690d9(0x483),_0x3690d9(0x975),'applicationContent','summaryContent'][_0x3690d9(0x2d3)](_0x152851=>{const _0x4fc78d=_0x3690d9,_0x374074=document[_0x4fc78d(0xc0e)](_0x152851)['parentElement'];_0x374074&&(_0x374074[_0x4fc78d(0x5c6)][_0x4fc78d(0x6cf)]=_0x4fc78d(0x81d));});try{const _0x4529ba=_0x3690d9(0x89b),_0xc21a05=_0x3690d9(0xc72)+_0x1b5ac8+_0x3690d9(0x2f6)+_0x59e56d+_0x3690d9(0x8b2),_0x477a43=await callGemini(_0xc21a05,!![]),_0x2f9974=document[_0x3690d9(0xc0e)](_0x3690d9(0x7c1)),_0x20ef71=document[_0x3690d9(0xc0e)]('lesson-loader'),_0x59350e=document['getElementById'](_0x3690d9(0x95f)),_0x1348db=document[_0x3690d9(0xc0e)](_0x3690d9(0xcd4))['parentElement'];_0x2f9974[_0x3690d9(0x941)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x59e56d[_0x3690d9(0xaa1)](/•\s/g,'')+_0x3690d9(0xb02)+_0x1b5ac8+')',currentApplicationData=JSON['parse'](_0x477a43);const _0x323e09=document[_0x3690d9(0xc0e)](_0x3690d9(0xcd4));_0x323e09[_0x3690d9(0xd5e)]=currentApplicationData[_0x3690d9(0x8ac)]((_0x50cb4a,_0x2b94d2)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x2b94d2+0x1)+'.\x20'+marked[_0x3690d9(0x865)](_0x50cb4a[_0x3690d9(0x536)])+_0x3690d9(0x257)+_0x2b94d2+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50cb4a[_0x3690d9(0xc87)][_0x3690d9(0x8ac)]((_0x22d43b,_0x28e3c0)=>_0x3690d9(0x47f)+_0x2b94d2+',\x20'+_0x28e3c0+')\x22>'+String['fromCharCode'](0x61+_0x28e3c0)+'.\x20'+marked['parseInline'](_0x22d43b)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3690d9(0x986)](''),window['MathJax']&&MathJax[_0x3690d9(0x16c)]([_0x323e09]),_0x1348db&&(_0x1348db['style'][_0x3690d9(0x6cf)]=_0x3690d9(0xba5)),_0x20ef71[_0x3690d9(0x319)]['add']('hidden'),_0x59350e[_0x3690d9(0x319)][_0x3690d9(0xd08)](_0x3690d9(0x772));}catch(_0x4a906a){console['error'](_0x4a906a);throw _0x4a906a;}}async function callGemini(_0x52d90b,_0xd9d4ff=![]){const _0x1cc849=_0x3a9f7b,_0x865a0d=_0x1cc849(0x848),_0x28a96c=_0x1cc849(0x7e1)+_0x865a0d,_0x18bcd5={'contents':[{'parts':[{'text':_0x52d90b}]}]};_0xd9d4ff&&(_0x18bcd5[_0x1cc849(0x127)]={'responseMimeType':_0x1cc849(0x1a0)},_0x52d90b[_0x1cc849(0x1bc)](_0x1cc849(0x9b2))?_0x18bcd5[_0x1cc849(0x127)][_0x1cc849(0xbd1)]={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x1cc849(0xfc)},'curriculum':{'type':_0x1cc849(0xff),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x1cc849(0xfc)},'mainTopics':{'type':_0x1cc849(0xff),'items':{'type':_0x1cc849(0x9c6),'properties':{'topicName':{'type':_0x1cc849(0xfc)},'subTopics':{'type':_0x1cc849(0xff),'items':{'type':_0x1cc849(0xfc)}}},'required':[_0x1cc849(0x7fb),_0x1cc849(0x2c4)]}}},'required':[_0x1cc849(0x889),'mainTopics']}}},'required':['gradeLevel','curriculum']}:_0x18bcd5['generationConfig'][_0x1cc849(0xbd1)]={'type':_0x1cc849(0xff),'items':{'type':'OBJECT','properties':{'question':{'type':_0x1cc849(0xfc)},'options':{'type':_0x1cc849(0xff),'items':{'type':_0x1cc849(0xfc)}},'answer':{'type':_0x1cc849(0xaec)}},'required':[_0x1cc849(0x536),_0x1cc849(0xc87),_0x1cc849(0x7d7)]}});try{const _0x5d945f=await fetch(_0x28a96c,{'method':_0x1cc849(0x68a),'headers':{'Content-Type':_0x1cc849(0x1a0)},'body':JSON[_0x1cc849(0x272)](_0x18bcd5)});if(!_0x5d945f['ok']){const _0x217202=await _0x5d945f[_0x1cc849(0xbbd)]();console[_0x1cc849(0x4e3)](_0x1cc849(0x82c),_0x217202);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x5d945f[_0x1cc849(0x896)]);}const _0x46c9ea=await _0x5d945f['json']();if(_0x46c9ea[_0x1cc849(0x2fe)]&&_0x46c9ea['candidates'][0x0]['content']&&_0x46c9ea['candidates'][0x0]['content'][_0x1cc849(0x321)][0x0])return _0x46c9ea[_0x1cc849(0x2fe)][0x0][_0x1cc849(0xcda)]['parts'][0x0][_0x1cc849(0xbbd)];else{console[_0x1cc849(0x4e3)]('Unexpected\x20API\x20response\x20structure:',_0x46c9ea);if(_0x46c9ea[_0x1cc849(0x2fe)]&&_0x46c9ea[_0x1cc849(0x2fe)][0x0]['finishReason']===_0x1cc849(0x3f4))return JSON[_0x1cc849(0x272)]({'error':_0x1cc849(0x1d6)});throw new Error(_0x1cc849(0xcdc));}}catch(_0x41238d){console['error'](_0x1cc849(0x657),_0x41238d);throw _0x41238d;}}async function generateLesson(_0x5a00d2=null,_0x398171=null){const _0x40d350=_0x3a9f7b,_0x5973cb=_0x5a00d2,_0x530ffc=_0x398171||_0x40d350(0xb33),_0x1f8146=document[_0x40d350(0xc0e)]('lesson-loader'),_0x4cd32e=document[_0x40d350(0xc0e)](_0x40d350(0x3be));_0x4cd32e[_0x40d350(0x6fb)]=_0x40d350(0x497)+_0x5973cb+_0x40d350(0x85a);try{let _0x2fbef3=[];const _0xd0df50=document[_0x40d350(0xc0e)]('bp-reference-file-url')?.[_0x40d350(0x452)][_0x40d350(0xa0f)]();if(_0xd0df50)try{_0x4cd32e['textContent']=_0x40d350(0xa18);const _0x22d8e2=await fetchFileFromUrl(_0xd0df50,_0x40d350(0x1a9)),_0x3046e0=await new Promise((_0x5d1bdb,_0x4a6289)=>{const _0x58afcd=_0x40d350,_0x258a77=new FileReader();_0x258a77[_0x58afcd(0x2a8)](_0x22d8e2),_0x258a77['onload']=()=>_0x5d1bdb(_0x258a77[_0x58afcd(0xbbf)][_0x58afcd(0x962)](',')[0x1]),_0x258a77['onerror']=_0x4a6289;});_0x2fbef3[_0x40d350(0x187)]({'inlineData':{'mimeType':_0x22d8e2['type'],'data':_0x3046e0}});}catch(_0x423428){console[_0x40d350(0x4e3)](_0x40d350(0x265),_0x423428),showMessage(_0x40d350(0x48e));}const _0x5ef159=_0x40d350(0x199)+_0x5973cb+_0x40d350(0x3e2)+_0x5973cb+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x4cd32e[_0x40d350(0x6fb)]=_0x40d350(0x497)+_0x5973cb+_0x40d350(0x85a);const _0x52fb84=_0x40d350(0x5ad)+_0x530ffc+_0x40d350(0x2f6)+_0x5973cb+_0x40d350(0x256)+_0x5ef159+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x536317=_0x40d350(0x4d8)+_0x5973cb+_0x40d350(0xa92)+_0x530ffc+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x5ef159+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x55c2de=_0x40d350(0xc72)+_0x530ffc+'\x27\x20ในหัวข้อ\x20\x27'+_0x5973cb+_0x40d350(0xc61)+_0x5ef159+_0x40d350(0xcdb),_0x43afda=_0x40d350(0x39f)+_0x5973cb+_0x40d350(0x764)+_0x530ffc+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x5ef159+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x733c84={'type':_0x40d350(0xff),'items':{'type':_0x40d350(0x9c6),'properties':{'question':{'type':_0x40d350(0xfc)},'options':{'type':_0x40d350(0xff),'items':{'type':_0x40d350(0xfc)}},'answer':{'type':'NUMBER'}},'required':[_0x40d350(0x536),_0x40d350(0xc87),'answer']}},[_0x3b4473,_0x486d4c,_0x88dddf,_0x3348a1]=await Promise[_0x40d350(0xc9a)]([handleApiCall([{'text':_0x52fb84},..._0x2fbef3],_0x40d350(0x6fc),null,null,![]),handleApiCall([{'text':_0x536317},..._0x2fbef3],_0x40d350(0x6fc),null,null,![]),handleApiCall([{'text':_0x55c2de},..._0x2fbef3],'...',_0x733c84,null,![]),handleApiCall([{'text':_0x43afda},..._0x2fbef3],'...',null,null,![])]),_0x59b411=JSON[_0x40d350(0x272)](_0x88dddf||[]),_0x30c1ab=document['getElementById'](_0x40d350(0x7c1)),_0x302105=document[_0x40d350(0xc0e)](_0x40d350(0x95f));_0x30c1ab['innerText']=_0x40d350(0x4a6)+_0x5973cb[_0x40d350(0xaa1)](/•\\s/g,'')+_0x40d350(0xb02)+_0x530ffc+')',['pointContent','memoryContent',_0x40d350(0xce0)][_0x40d350(0x2d3)](_0x4948a9=>{const _0x155d6d=_0x40d350;document[_0x155d6d(0xc0e)](_0x4948a9)[_0x155d6d(0xd5e)]='';}),document[_0x40d350(0xc0e)](_0x40d350(0x483))[_0x40d350(0xd5e)]=_0x3b4473?marked[_0x40d350(0x7da)](_0x3b4473):_0x40d350(0x4d1),document['getElementById'](_0x40d350(0x975))[_0x40d350(0xd5e)]=_0x486d4c?marked[_0x40d350(0x7da)](_0x486d4c):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document['getElementById']('summaryContent')[_0x40d350(0xd5e)]=_0x3348a1?marked[_0x40d350(0x7da)](_0x3348a1):_0x40d350(0x4d1),currentApplicationData=JSON[_0x40d350(0x7da)](_0x59b411);const _0x3633ed=document[_0x40d350(0xc0e)]('applicationContent');_0x3633ed[_0x40d350(0xd5e)]=(currentApplicationData||[])['map']((_0x2b3441,_0x525f4b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x525f4b+0x1)+'.\x20'+marked[_0x40d350(0x865)](_0x2b3441[_0x40d350(0x536)]||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x525f4b+_0x40d350(0x18b)+(_0x2b3441[_0x40d350(0xc87)]||[])[_0x40d350(0x8ac)]((_0x46cd4f,_0x26f862)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x525f4b+',\x20'+_0x26f862+_0x40d350(0xb8a)+String[_0x40d350(0x26e)](0x61+_0x26f862)+'.\x20'+marked['parseInline'](_0x46cd4f||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x40d350(0x778))[_0x40d350(0x986)]('')||'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>',window[_0x40d350(0x6e3)]&&MathJax[_0x40d350(0x16c)]([_0x302105]),_0x1f8146[_0x40d350(0x319)]['add'](_0x40d350(0x772)),_0x302105[_0x40d350(0x319)][_0x40d350(0xd08)](_0x40d350(0x772));}catch(_0x44abf8){console['error'](_0x44abf8);throw _0x44abf8;}}function checkAnswer(_0x3598b2,_0x13732e){const _0x244a8d=_0x3a9f7b,_0x402bc9=currentApplicationData[_0x3598b2],_0x404c6a=document[_0x244a8d(0xc0e)]('q'+_0x3598b2+_0x244a8d(0x435)),_0x51e704=_0x404c6a[_0x244a8d(0x138)](_0x244a8d(0xd09));for(let _0x54b9d3 of _0x51e704){_0x54b9d3[_0x244a8d(0x622)]=!![];}_0x13732e===_0x402bc9[_0x244a8d(0x7d7)]?_0x51e704[_0x13732e][_0x244a8d(0x319)][_0x244a8d(0x930)](_0x244a8d(0x88e)):(_0x51e704[_0x13732e][_0x244a8d(0x319)]['add'](_0x244a8d(0xb87)),_0x51e704[_0x402bc9[_0x244a8d(0x7d7)]]['classList']['add'](_0x244a8d(0x88e)));}window[_0x3a9f7b(0x284)]=handleGenerateAndShowLesson,window[_0x3a9f7b(0xc21)]=checkAnswer,window[_0x3a9f7b(0x608)]=handleGeneratePracticeTest,window[_0x3a9f7b(0xde)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x212db7=_0x3a9f7b;try{const _0x515203=initializeApp(firebaseConfig);db=getFirestore(_0x515203),auth=getAuth(_0x515203),setupAuthListener(),setupEventListeners(),showView(_0x212db7(0x243)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x51bbec){console['error'](_0x212db7(0x9b1),_0x51bbec),showMessage(_0x212db7(0x331));}}async function handleVerifyAnswersInEditor(){const _0x51ac38=_0x3a9f7b,_0x1b11df=document['getElementById']('quiz-editor-modal');if(!_0x1b11df)return;const _0x5e5cc6=document[_0x51ac38(0xc0e)](_0x51ac38(0xae7));_0x5e5cc6[_0x51ac38(0x622)]=!![],_0x5e5cc6[_0x51ac38(0xd5e)]=_0x51ac38(0xc3);try{const _0x2529b1=_0x1b11df[_0x51ac38(0x68f)](_0x51ac38(0x4fe)),_0xec9560=Array['from'](_0x2529b1)['map']((_0x2ca01a,_0x684ae6)=>{const _0x308b5f=_0x51ac38,_0x38c723=_0x2ca01a[_0x308b5f(0x5e8)][_0x308b5f(0x472)],_0x5c5f04=_0x2ca01a[_0x308b5f(0x535)](_0x308b5f(0x633))[_0x308b5f(0x452)];let _0x44bd44=null,_0x5e4d5b='';switch(_0x38c723){case _0x308b5f(0x211):const _0x37fa2e=_0x2ca01a['querySelectorAll'](_0x308b5f(0x3ef));_0x44bd44=Array[_0x308b5f(0x30e)](_0x37fa2e)[_0x308b5f(0x8ac)](_0x1e278e=>_0x1e278e[_0x308b5f(0x452)]);const _0x353af1=_0x2ca01a[_0x308b5f(0x535)](_0x308b5f(0x3e6));_0x353af1&&(_0x5e4d5b=_0x44bd44[parseInt(_0x353af1[_0x308b5f(0x452)])]);break;case'short_answer':_0x44bd44=[],_0x5e4d5b=_0x2ca01a[_0x308b5f(0x535)](_0x308b5f(0x839))['value'];break;case _0x308b5f(0x56e):_0x44bd44=[_0x308b5f(0x65b),'false'];const _0x3f8ea3=_0x2ca01a[_0x308b5f(0x535)](_0x308b5f(0x3e6));_0x5e4d5b=_0x3f8ea3?_0x3f8ea3[_0x308b5f(0x452)]:'';break;case _0x308b5f(0xac4):_0x44bd44=[],_0x5e4d5b=_0x2ca01a[_0x308b5f(0x535)](_0x308b5f(0x8ee))[_0x308b5f(0x452)];break;}return{'question':_0x5c5f04,'options':_0x44bd44,'proposedAnswer':_0x5e4d5b};}),_0x305b85='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0xec9560)+_0x51ac38(0xadb),_0x48e5f0={'type':_0x51ac38(0xff),'items':{'type':_0x51ac38(0x9c6),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x51ac38(0xfc)},'correctOptionExists':{'type':_0x51ac38(0x983)},'suggestedAnswer':{'type':_0x51ac38(0xfc)},'newOptionsPayload':{'type':_0x51ac38(0x9c6),'properties':{'newOptions':{'type':_0x51ac38(0xff),'items':{'type':_0x51ac38(0xfc)}},'newCorrectIndex':{'type':'NUMBER'}}}},'required':[_0x51ac38(0xb47),_0x51ac38(0xbe1),_0x51ac38(0x696)]}},_0x373f3e=await callAnalysisApi(_0x305b85,{'type':'OBJECT','properties':{'result':_0x48e5f0},'required':[_0x51ac38(0xbbf)]});displayVerificationResultsInEditor(_0x373f3e['result']);}catch(_0x6c9712){console['error']('Error\x20verifying\x20answers\x20in\x20editor:',_0x6c9712),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x5e5cc6[_0x51ac38(0x622)]=![],_0x5e5cc6[_0x51ac38(0xd5e)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x1c191e){const _0x5cb0ee=_0x3a9f7b;_0x1c191e[_0x5cb0ee(0x2d3)](_0x44e2f9=>{const _0x563712=_0x5cb0ee,_0x9c429b=document['querySelector'](_0x563712(0x511)+_0x44e2f9[_0x563712(0xb47)]+'\x22]');if(!_0x9c429b)return;const _0x203006=_0x9c429b[_0x563712(0x535)]('.verification-result-editor');if(_0x203006)_0x203006[_0x563712(0xd08)]();let _0x59f410='';if(_0x44e2f9[_0x563712(0x285)]&&_0x44e2f9[_0x563712(0x285)][_0x563712(0xd8)]){const _0x47a17f=_0x44e2f9[_0x563712(0x285)][_0x563712(0xd8)],_0x441e12=_0x44e2f9[_0x563712(0x285)]['newCorrectIndex'],_0x33ca18=_0x9c429b[_0x563712(0x5e8)][_0x563712(0x472)];if(_0x33ca18===_0x563712(0x211)){const _0x120f76=_0x9c429b[_0x563712(0x68f)](_0x563712(0x3ef));_0x120f76[_0x563712(0x2d3)]((_0x5eb650,_0x3e5a8a)=>{const _0x5d117c=_0x563712;_0x47a17f[_0x3e5a8a]?_0x5eb650[_0x5d117c(0x452)]=_0x47a17f[_0x3e5a8a]:_0x5eb650[_0x5d117c(0x452)]='---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---';});const _0x4ecec8=_0x9c429b['querySelector'](_0x563712(0x382)+_0x441e12+'\x22]');_0x4ecec8&&(_0x4ecec8[_0x563712(0x9da)]=!![]),_0x59f410=_0x563712(0xb71),_0x9c429b[_0x563712(0x319)][_0x563712(0x930)](_0x563712(0xc96),_0x563712(0xae9),_0x563712(0x42b)),setTimeout(()=>{const _0x3ab2a3=_0x563712;_0x9c429b[_0x3ab2a3(0x319)]['remove']('bg-yellow-200');},0x9c4);}}else{if(!_0x44e2f9[_0x563712(0xbe1)]&&_0x44e2f9[_0x563712(0x1d7)]){const _0x5e8559=_0x44e2f9[_0x563712(0x1d7)]?_0x563712(0x80c):'';_0x59f410='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x5e8559+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x44e2f9[_0x563712(0x696)]+_0x563712(0xcfe)+(_0x44e2f9[_0x563712(0x1d7)]?_0x563712(0xa4e)+_0x44e2f9['suggestedAnswer']+'</p>':'')+_0x563712(0x277);const _0x2d7820=_0x9c429b[_0x563712(0x5e8)][_0x563712(0x472)],_0x2fbbc0=_0x5f5b96=>{const _0x689804=_0x563712;if(!_0x5f5b96)return;_0x5f5b96['classList'][_0x689804(0x930)](_0x689804(0x398),_0x689804(0xae9),_0x689804(0x42b)),setTimeout(()=>{const _0x225cab=_0x689804;_0x5f5b96['classList'][_0x225cab(0xd08)](_0x225cab(0x398));},0x9c4);};if(_0x2d7820===_0x563712(0x211)){const _0x56e7e4=Array[_0x563712(0x30e)](_0x9c429b[_0x563712(0x68f)](_0x563712(0x3ef))),_0x36b1ac=_0x56e7e4['findIndex'](_0xdd7496=>_0xdd7496[_0x563712(0x452)][_0x563712(0xa0f)]()['toLowerCase']()===_0x44e2f9[_0x563712(0x1d7)][_0x563712(0xa0f)]()[_0x563712(0x703)]());if(_0x36b1ac!==-0x1){const _0x26f806=_0x9c429b[_0x563712(0x535)]('input[type=\x22radio\x22][value=\x22'+_0x36b1ac+'\x22]');_0x26f806&&(_0x26f806[_0x563712(0x9da)]=!![],_0x2fbbc0(_0x26f806[_0x563712(0x190)]('div')));}}else{if(_0x2d7820===_0x563712(0x2d1)||_0x2d7820==='matching_item'){const _0x39e9c9=_0x9c429b['querySelector'](_0x563712(0xc66));_0x39e9c9&&(_0x39e9c9[_0x563712(0x452)]=_0x44e2f9[_0x563712(0x1d7)],_0x2fbbc0(_0x39e9c9));}else{if(_0x2d7820===_0x563712(0x56e)){const _0xa8d912=_0x44e2f9[_0x563712(0x1d7)][_0x563712(0xa0f)]()['toLowerCase'](),_0x196ee8=_0x9c429b['querySelector']('input[type=\x22radio\x22][value=\x22'+_0xa8d912+'\x22]');_0x196ee8&&(_0x196ee8[_0x563712(0x9da)]=!![],_0x2fbbc0(_0x196ee8['closest'](_0x563712(0x635))));}}}}else _0x44e2f9[_0x563712(0xbe1)]&&(_0x59f410=_0x563712(0xd17));}_0x9c429b['insertAdjacentHTML'](_0x563712(0x5d0),_0x59f410);}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x2e1950=_0x3a9f7b;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x2e1950(0x1c8));return;}const _0x46b13d=document[_0x2e1950(0xc0e)]('verify-answers-btn');_0x46b13d[_0x2e1950(0x622)]=!![],_0x46b13d[_0x2e1950(0xd5e)]=_0x2e1950(0xc3);try{const _0x213b3c=currentQuizData['questions'][_0x2e1950(0x8ac)]((_0x1f8e93,_0x48b109)=>{const _0x13cb61=_0x2e1950;let _0x12d738='';const _0x2c51c2=_0x1f8e93['questionType']||currentQuizData['quizType'];switch(_0x2c51c2){case _0x13cb61(0x211):_0x12d738=_0x1f8e93['options'][_0x1f8e93['correctAnswerIndex']];break;case'short_answer':_0x12d738=_0x1f8e93[_0x13cb61(0xa57)];break;case _0x13cb61(0x56e):_0x12d738=_0x1f8e93[_0x13cb61(0x13c)][_0x13cb61(0x6ad)]();break;case _0x13cb61(0xac4):_0x12d738=_0x1f8e93[_0x13cb61(0x3a1)];break;}return{'question':_0x1f8e93['stem']||_0x1f8e93[_0x13cb61(0x47c)],'options':_0x1f8e93[_0x13cb61(0xc87)]||null,'proposedAnswer':_0x12d738};}),_0x1de2ce=_0x2e1950(0x6ae)+JSON[_0x2e1950(0x272)](_0x213b3c)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2039cf={'type':_0x2e1950(0xff),'items':{'type':_0x2e1950(0x9c6),'properties':{'questionIndex':{'type':_0x2e1950(0xaec)},'isCorrect':{'type':_0x2e1950(0x983)},'justification':{'type':_0x2e1950(0xfc)},'suggestedAnswer':{'type':_0x2e1950(0xfc)}},'required':[_0x2e1950(0xb47),'isCorrect','justification']}},_0x44505b=await callAnalysisApi(_0x1de2ce,{'type':_0x2e1950(0x9c6),'properties':{'result':_0x2039cf},'required':[_0x2e1950(0xbbf)]});displayVerificationResults(_0x44505b['result']);}catch(_0x3c8400){console[_0x2e1950(0x4e3)](_0x2e1950(0xb51),_0x3c8400),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x46b13d['disabled']=![],_0x46b13d['innerHTML']=_0x2e1950(0x216);}}function displayVerificationResults(_0x5e3561){const _0x741b92=_0x3a9f7b;_0x5e3561[_0x741b92(0x2d3)](_0x1609e3=>{const _0x4e65d7=_0x741b92,_0x450400=document['querySelector'](_0x4e65d7(0x5b8)+_0x1609e3[_0x4e65d7(0xb47)]+'\x22]');if(_0x450400){const _0x33515a=_0x450400[_0x4e65d7(0x535)](_0x4e65d7(0xb3c));if(_0x33515a)_0x33515a[_0x4e65d7(0xd08)]();let _0x48150f='';_0x1609e3[_0x4e65d7(0xbe1)]?_0x48150f=_0x4e65d7(0x301):_0x48150f=_0x4e65d7(0x94e)+_0x1609e3[_0x4e65d7(0x696)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1609e3[_0x4e65d7(0x1d7)]?_0x4e65d7(0xa4e)+_0x1609e3['suggestedAnswer']+_0x4e65d7(0x71f):'')+_0x4e65d7(0x293),_0x450400[_0x4e65d7(0x596)]('beforeend',_0x48150f);}}),showMessage(_0x741b92(0x3d2));}function compareNumericalAnswers(_0x1b390c,_0x54bca9){const _0x584aee=_0x3a9f7b,_0x2807d=String(_0x1b390c)[_0x584aee(0xaa1)](',','.')[_0x584aee(0xaa1)](/[^\d.-]/g,'')[_0x584aee(0xa0f)](),_0x690e1c=String(_0x54bca9)[_0x584aee(0xaa1)](',','.')[_0x584aee(0xaa1)](/[^\d.-]/g,'')['trim']();if(_0x2807d===''||_0x690e1c==='')return![];const _0x46a9f7=parseFloat(_0x2807d),_0x33dcda=parseFloat(_0x690e1c);if(isNaN(_0x46a9f7)||isNaN(_0x33dcda))return![];return Math[_0x584aee(0x494)](_0x46a9f7-_0x33dcda)<0.001;}function isPotentiallyNumeric(_0xda478e){const _0x45ddbc=_0x3a9f7b;if(typeof _0xda478e!==_0x45ddbc(0xb5a)&&typeof _0xda478e!=='number')return![];const _0x5b9f8b=String(_0xda478e)[_0x45ddbc(0xaa1)](',','.')['trim']();return _0x5b9f8b!==''&&!isNaN(parseFloat(_0x5b9f8b))&&isFinite(_0x5b9f8b);}async function gradeShortAnswer(_0x3a90a9,_0x3fabca){const _0x215e7c=_0x3a9f7b,_0x2a4bac=_0x3fabca[_0x215e7c(0xa57)],_0x54774f=String(_0x3a90a9)[_0x215e7c(0xaa1)](/\$/g,'')[_0x215e7c(0xa0f)](),_0x20f5d6=String(_0x2a4bac)['replace'](/\$/g,'')['trim']();if(_0x54774f['toLowerCase']()===_0x20f5d6[_0x215e7c(0x703)]())return!![];if(isPotentiallyNumeric(_0x54774f)&&isPotentiallyNumeric(_0x20f5d6)){if(compareNumericalAnswers(_0x54774f,_0x20f5d6))return!![];}return console[_0x215e7c(0x955)](_0x215e7c(0x116)),await gradeShortAnswerWithAI(_0x3a90a9,_0x2a4bac);}async function revealAnswerForAdmin(_0x43dfb1,_0x11699c){const _0x4945ff=_0x3a9f7b,_0x1b9d23=doc(db,_0x4945ff(0xb3f)+appId+_0x4945ff(0xa97),currentLiveGameId);await updateDoc(_0x1b9d23,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x4d6c03){const _0x4866b0=_0x3a9f7b,_0x55e5cf=Object[_0x4866b0(0x3ac)](_0x4d6c03['players']||{})[_0x4866b0(0xb6e)](_0xd1c483=>_0xd1c483[_0x4866b0(0x896)]==='active');_0x55e5cf['sort']((_0x3e259c,_0x2a7291)=>_0x2a7291['score']-_0x3e259c['score']);const _0x2c27e6=_0x55e5cf[_0x4866b0(0x3f8)](0x0,0x5),_0x456c11=_0x4866b0(0x96e)+_0x2c27e6[_0x4866b0(0x8ac)]((_0x5a32bb,_0x45f50b)=>_0x4866b0(0x91d)+(_0x45f50b+0x1)+'.\x20'+(_0x5a32bb['name']||Object[_0x4866b0(0x644)](_0x4d6c03['players'])[_0x4866b0(0x4b3)](_0x58a52c=>_0x4d6c03[_0x4866b0(0xd1)][_0x58a52c]===_0x5a32bb))+_0x4866b0(0xd3c)+_0x5a32bb[_0x4866b0(0x6fd)]+_0x4866b0(0xb3b))['join']('')+_0x4866b0(0xa63)+(_0x4d6c03[_0x4866b0(0x41b)]+0x1===currentQuizData[_0x4866b0(0x9fc)][_0x4866b0(0x7d2)]?'สรุปผลสุดท้าย':'ข้อต่อไป')+_0x4866b0(0x807);liveGameView[_0x4866b0(0xd5e)]=_0x456c11,document[_0x4866b0(0xc0e)](_0x4866b0(0x7e9))['addEventListener']('click',async()=>{const _0x4bc983=_0x4866b0,_0x5684d4=doc(db,_0x4bc983(0xb3f)+appId+'/public/data/liveGames',currentLiveGameId),_0x1ad95f=_0x4d6c03['currentQuestionIndex']+0x1;if(_0x1ad95f<currentQuizData[_0x4bc983(0x9fc)][_0x4bc983(0x7d2)]){const _0x216691={'currentQuestionIndex':_0x1ad95f,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x4bc983(0x113)};Object[_0x4bc983(0x644)](_0x4d6c03[_0x4bc983(0xd1)])[_0x4bc983(0x2d3)](_0x4de0f4=>{_0x216691['players.'+_0x4de0f4+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x5684d4,_0x216691);}else await updateDoc(_0x5684d4,{'status':_0x4bc983(0x52b)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x359bed=>{const _0x145140=_0x57a1;if(_0x359bed){userId=_0x359bed[_0x145140(0x13d)],userIdDisplay[_0x145140(0x6fb)]=userId;const _0x2d11a3=await loadUserPreferences();_0x2d11a3[_0x145140(0x884)]&&(document['getElementById'](_0x145140(0x7cc))[_0x145140(0x452)]=_0x2d11a3[_0x145140(0x884)]);globalDashboardSettings[_0x145140(0x58f)]=_0x2d11a3[_0x145140(0x58f)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x2f48a3,_0x5c5832){const _0x20b117=_0x3a9f7b;if(!userId)return;try{const _0xa58b30=doc(db,'artifacts/'+appId+_0x20b117(0x1f0)+userId+_0x20b117(0x210)),_0x28cfae={};_0x28cfae[_0x2f48a3]=_0x5c5832,await setDoc(_0xa58b30,_0x28cfae,{'merge':!![]});}catch(_0x4debaa){console[_0x20b117(0x4e3)](_0x20b117(0xcc),_0x4debaa);}}async function loadUserPreferences(){const _0x59cb1d=_0x3a9f7b;if(!userId)return{};try{const _0xbc9bec=doc(db,'artifacts/'+appId+_0x59cb1d(0x1f0)+userId+_0x59cb1d(0x210)),_0xdc62c5=await getDoc(_0xbc9bec);if(_0xdc62c5['exists']())return _0xdc62c5[_0x59cb1d(0x180)]();return{};}catch(_0x1da602){return console[_0x59cb1d(0x4e3)](_0x59cb1d(0xb37),_0x1da602),{};}}function parseIndentedBlueprint(_0x5a7705){const _0x26d311=_0x3a9f7b,_0x44e70f=_0x5a7705[_0x26d311(0x962)]('\x0a')[_0x26d311(0xb6e)](_0x35a018=>_0x35a018[_0x26d311(0xa0f)]()!==''),_0xbc8d2f=[];let _0x1c3a95=null,_0x535ca6=null;return _0x44e70f[_0x26d311(0x2d3)](_0x226d8a=>{const _0x5f0830=_0x26d311,_0x8f0699=_0x226d8a[_0x5f0830(0x49c)](/^\s*/)[0x0]['length'],_0x358617=_0x226d8a[_0x5f0830(0xa0f)]();if(_0x8f0699===0x0)_0x1c3a95={'sara':_0x358617,'mainTopics':[]},_0xbc8d2f[_0x5f0830(0x187)](_0x1c3a95),_0x535ca6=null;else{if(_0x8f0699>0x0&&_0x8f0699<0x8&&_0x1c3a95)_0x535ca6={'topicName':_0x358617,'subTopics':[]},_0x1c3a95[_0x5f0830(0x944)][_0x5f0830(0x187)](_0x535ca6);else _0x8f0699>=0x8&&_0x535ca6&&_0x535ca6[_0x5f0830(0x2c4)][_0x5f0830(0x187)](_0x358617);}}),{'curriculum':_0xbc8d2f};}async function handleManualBlueprintSave(){const _0xd81387=_0x3a9f7b,_0x16f0d0=document[_0xd81387(0xc0e)](_0xd81387(0xa04))[_0xd81387(0x452)][_0xd81387(0xa0f)](),_0x5e3a19=document[_0xd81387(0xc0e)]('manual-bp-grade-level')[_0xd81387(0x452)][_0xd81387(0xa0f)](),_0x5f4185=document['getElementById'](_0xd81387(0x9f7))[_0xd81387(0x452)];if(!_0x16f0d0||!_0x5e3a19||!_0x5f4185){showMessage(_0xd81387(0x813));return;}const _0x52c046=parseIndentedBlueprint(_0x5f4185);if(!_0x52c046[_0xd81387(0xa1d)]||_0x52c046['curriculum']['length']===0x0){showMessage(_0xd81387(0xaa5));return;}const _0x52f7e6={};let _0x551b8f=0x0;_0x52c046[_0xd81387(0xa1d)][_0xd81387(0x2d3)](_0x323054=>{_0x323054['mainTopics']['forEach'](_0x24cf86=>{const _0x295bbc=_0x57a1;_0x24cf86['subTopics'][_0x295bbc(0x2d3)](_0x7ca800=>{const _0x4bba27=_0x295bbc,_0x51599e=_0x4bba27(0x44f)+Date[_0x4bba27(0x62e)]()+Math[_0x4bba27(0x120)]()[_0x4bba27(0x6ad)](0x24)[_0x4bba27(0x171)](0x2,0x9);_0x52f7e6[_0x51599e]={'sara':_0x323054[_0x4bba27(0x889)],'mainTopic':_0x24cf86[_0x4bba27(0x7fb)],'subTopic':_0x7ca800,'status':_0x4bba27(0x2ea),'lessonContent':null,'order':_0x551b8f++};});});});try{const _0x1ce7e7=collection(db,_0xd81387(0xb3f)+appId+_0xd81387(0x87c));await addDoc(_0x1ce7e7,{'projectName':_0x16f0d0,'gradeLevel':_0x5e3a19,'topics':_0x52f7e6,'createdAt':serverTimestamp()}),showMessage(_0xd81387(0x506)+_0x16f0d0+_0xd81387(0xa67)),document[_0xd81387(0xc0e)](_0xd81387(0xaed))[_0xd81387(0x319)][_0xd81387(0x930)](_0xd81387(0x772));}catch(_0x1d8c0e){console[_0xd81387(0x4e3)]('Error\x20saving\x20manual\x20blueprint\x20project:',_0x1d8c0e),showMessage(_0xd81387(0x14e));}}function handleClearAllLinksForTopic(_0x3791ab){const _0x21977c=_0x3a9f7b;showConfirmation(_0x21977c(0x8d5),async()=>{const _0x48a9d9=_0x21977c;try{const _0x34abb8=doc(db,'artifacts/'+appId+_0x48a9d9(0x87c),currentBlueprintProjectId);await updateDoc(_0x34abb8,{[_0x48a9d9(0x26a)+_0x3791ab+_0x48a9d9(0x47d)]:[]}),showMessage(_0x48a9d9(0x555)),openTopicQuizBank(_0x3791ab),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x298295){console[_0x48a9d9(0x4e3)](_0x48a9d9(0x818),_0x298295),showMessage(_0x48a9d9(0x780));}});}function showPodiumView(_0x34f6dc,_0x5b9581=_0x3a9f7b(0x8fc),_0x2dd5e1=null){const _0x36bc1b=_0x3a9f7b,_0x313649=_0x2dd5e1?.['isBlackMarketEnabled']===!![],_0x4b538a=Object[_0x36bc1b(0x377)](_0x34f6dc)[_0x36bc1b(0x8ac)](([_0x2eadce,_0x5583a5])=>({'name':_0x2eadce,'realScore':_0x5583a5[_0x36bc1b(0x500)]||0x0,'totalPoints':_0x5583a5['totalPoints']||0x0,'badges':_0x5583a5[_0x36bc1b(0x8af)]||[],'hasPerfectScoreBonus':_0x5583a5[_0x36bc1b(0xc14)]||![]}));_0x4b538a[_0x36bc1b(0x3fc)]((_0x38aa33,_0x3974b7)=>{const _0x1ea6b7=_0x36bc1b;if(_0x313649){const _0x3cf37d=_0x3974b7[_0x1ea6b7(0x500)]-_0x38aa33['realScore'];if(_0x3cf37d!==0x0)return _0x3cf37d;const _0x4ae3c2=_0x3974b7[_0x1ea6b7(0x33e)]-_0x38aa33['totalPoints'];if(_0x4ae3c2!==0x0)return _0x4ae3c2;return _0x38aa33[_0x1ea6b7(0x58e)][_0x1ea6b7(0xae5)](_0x3974b7[_0x1ea6b7(0x58e)],'th');}else{const _0x49ddc3=_0x3974b7['totalPoints']-_0x38aa33[_0x1ea6b7(0x33e)];if(_0x49ddc3!==0x0)return _0x49ddc3;return _0x3974b7[_0x1ea6b7(0x500)]-_0x38aa33[_0x1ea6b7(0x500)];}});const _0x5dd3c2=_0x5cd3bd=>{const _0x25ebb1=_0x36bc1b;if(!_0x5cd3bd||_0x5cd3bd[_0x25ebb1(0x7d2)]===0x0)return'';const _0x56e604={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x5cd3bd['map'](_0x5d8a95=>_0x56e604[_0x5d8a95]||'')[_0x25ebb1(0x986)]('')+_0x25ebb1(0x7f6);},_0x2e1812=_0x1b61de=>{const _0x1fa216=_0x36bc1b,_0x36cfb3=_0x1b61de[_0x1fa216(0xc14)]?_0x1fa216(0x450):'';if(_0x313649){const _0x3f107a=_0x1b61de[_0x1fa216(0x33e)]>=0x0?'(+'+_0x1b61de[_0x1fa216(0x33e)]+')':'('+_0x1b61de[_0x1fa216(0x33e)]+')';return _0x1fa216(0xdb)+_0x1b61de[_0x1fa216(0x500)]+_0x1fa216(0x1bd)+_0x3f107a+'\x20'+_0x36cfb3+_0x1fa216(0x71f);}else return _0x1fa216(0xdb)+_0x1b61de['totalPoints']+_0x1fa216(0x1bd)+_0x36cfb3+_0x1fa216(0x71f);},_0x5bd0b6=_0x4b538a[_0x36bc1b(0x3f8)](0x3),_0x14a4e6=_0x5bd0b6['length']>0x0?_0x36bc1b(0x954)+_0x5bd0b6[_0x36bc1b(0x8ac)]((_0x321bfa,_0x41df44)=>{const _0x469a1a=_0x36bc1b;return _0x469a1a(0xbd8)+(_0x41df44+0x4)+_0x469a1a(0x17e)+_0x321bfa[_0x469a1a(0x58e)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>'+_0x2e1812(_0x321bfa)+_0x469a1a(0x2ca);})[_0x36bc1b(0x986)]('')+_0x36bc1b(0x805):'',_0x9123e0=_0x36bc1b(0x104)+(_0x4b538a[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x4b538a[0x1][_0x36bc1b(0x58e)]+_0x36bc1b(0x71f)+_0x5dd3c2(_0x4b538a[0x1][_0x36bc1b(0x8af)])+_0x2e1812(_0x4b538a[0x1])+_0x36bc1b(0x89d):'<div\x20class=\x22flex-1\x22></div>')+_0x36bc1b(0xadb)+(_0x4b538a[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x4b538a[0x0]['name']+_0x36bc1b(0x71f)+_0x5dd3c2(_0x4b538a[0x0][_0x36bc1b(0x8af)])+_0x2e1812(_0x4b538a[0x0])+'<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x36bc1b(0x8b7))+_0x36bc1b(0xadb)+(_0x4b538a[0x2]?_0x36bc1b(0x73e)+_0x4b538a[0x2]['name']+_0x36bc1b(0x71f)+_0x5dd3c2(_0x4b538a[0x2]['badges'])+_0x2e1812(_0x4b538a[0x2])+'<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x36bc1b(0x8b7))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14a4e6+_0x36bc1b(0x996)+(currentMode===_0x36bc1b(0xcd6)?_0x36bc1b(0xaa7):_0x36bc1b(0x2f5))+_0x36bc1b(0xcb2);liveGameView[_0x36bc1b(0xd5e)]=_0x9123e0,currentMode==='admin'?document[_0x36bc1b(0xc0e)](_0x36bc1b(0xc6d))[_0x36bc1b(0x59d)](_0x36bc1b(0x9fd),async()=>{const _0x55ec11=_0x36bc1b;let _0x28f2fe;_0x5b9581===_0x55ec11(0x43c)?_0x28f2fe=doc(db,_0x55ec11(0xb3f)+appId+_0x55ec11(0x25a),currentLiveGameId):_0x28f2fe=doc(db,_0x55ec11(0xb3f)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x28f2fe);}):document[_0x36bc1b(0xc0e)](_0x36bc1b(0x64e))?.[_0x36bc1b(0x59d)]('click',()=>{const _0x1a032b=_0x36bc1b;showView(_0x1a032b(0x243));});}function renderSyncSummaryView(_0x11b49b,_0x47920c,_0x5b98c6){const _0x23b061=_0x3a9f7b,_0x3d2e98=_0x11b49b[_0x23b061(0x7bc)]||_0x23b061(0x184),_0x23a778=_0x3d2e98===_0x23b061(0x4f4)&&_0x11b49b['isAnonymousRevealed']===![],_0x138a37=Object[_0x23b061(0x3ac)](_0x11b49b[_0x23b061(0xd1)]||{}),_0x5b1711=_0x11b49b['shuffledQuiz']['questions'],_0x2996b5=_0x47920c['questionType']||_0x11b49b[_0x23b061(0xc11)]['quizType'];let _0x43dede=[];_0x2996b5==='true_false'?_0x43dede=[_0x23b061(0x457),_0x23b061(0xa00)]:_0x43dede=_0x47920c[_0x23b061(0xc87)]||[];const _0xbbc865=new Array(_0x43dede['length'])[_0x23b061(0x8fe)](0x0),_0x161854={};_0x43dede[_0x23b061(0x2d3)]((_0x4dbffe,_0x3ff0dd)=>{_0x161854[_0x3ff0dd]=[];}),Object[_0x23b061(0x377)](_0x11b49b[_0x23b061(0xd1)]||{})[_0x23b061(0x2d3)](([_0x5a44ec,_0x1758ab])=>{const _0x1e515d=_0x23b061;if(_0x1758ab[_0x1e515d(0x896)]!=='inactive'&&_0x1758ab[_0x1e515d(0xc22)]!==undefined&&_0x1758ab[_0x1e515d(0xc22)]!==null){const _0x58aeb7=_0x1758ab[_0x1e515d(0xc22)];if(_0x161854[_0x58aeb7]!==undefined){const _0xe64ad1=_0x23a778?_0x11b49b[_0x1e515d(0xad)][_0x5a44ec]||'???':_0x5a44ec;_0x161854[_0x58aeb7][_0x1e515d(0x187)](_0xe64ad1),_0xbbc865[_0x58aeb7]++;}}});let _0x20aea3='';const _0x98f6d=_0x11b49b[_0x23b061(0x41b)]>=_0x5b1711[_0x23b061(0x7d2)]-0x1;_0x5b98c6?_0x3d2e98===_0x23b061(0xf1)?_0x98f6d?_0x20aea3=_0x23b061(0xb3d):_0x20aea3=_0x23b061(0xc7c):_0x20aea3=_0x23b061(0xa30):_0x3d2e98===_0x23b061(0xf1)?_0x20aea3=_0x23b061(0xc86):_0x20aea3=_0x23b061(0x6d8);const _0x18128a=_0x5b98c6?'<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x11b49b[_0x23b061(0x28f)]+_0x23b061(0x590):'',_0x1606bb=_0x23b061(0xa0c)+_0x18128a+_0x23b061(0x246)+_0x47920c['questionText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbbc865[_0x23b061(0x8ac)]((_0xb75506,_0x431ce8)=>{const _0x18d959=_0x23b061,_0x50634e=_0x161854[_0x431ce8][_0x18d959(0x7d2)]>0x0?_0x161854[_0x431ce8][_0x18d959(0x986)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x1182ca=_0x18d959(0x7c4);return _0x18d959(0xd4b)+_0xb75506+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x1182ca+_0x18d959(0xc5a)+_0x431ce8+_0x18d959(0x5fe)+_0x43dede[_0x431ce8]+_0x18d959(0x34a)+_0x431ce8+_0x18d959(0xcae)+_0x50634e+_0x18d959(0x9f4);})[_0x23b061(0x986)]('')+_0x23b061(0x12a)+_0x20aea3+_0x23b061(0xd3d);liveGameView[_0x23b061(0xd5e)]=_0x1606bb;if(window[_0x23b061(0x6e3)])MathJax[_0x23b061(0x16c)]();if(_0x5b98c6){const _0x4a238b=doc(db,_0x23b061(0xb3f)+appId+'/public/data/syncGames',currentLiveGameId);document[_0x23b061(0xc0e)]('show-results-btn')?.[_0x23b061(0x59d)](_0x23b061(0x9fd),async()=>{const _0x1f4bf0=_0x23b061;await updateDoc(_0x4a238b,{'status':_0x1f4bf0(0x4e9)});}),document['getElementById'](_0x23b061(0x42e))?.['addEventListener'](_0x23b061(0x9fd),()=>{openScratchpad(_0x47920c,_0x43dede);}),document[_0x23b061(0xc0e)]('next-sync-question-btn')?.[_0x23b061(0x59d)](_0x23b061(0x9fd),async()=>{const _0x22b7e6=_0x23b061,_0x4b430b=_0x11b49b['currentQuestionIndex']+0x1,_0x2ca2a5={};Object[_0x22b7e6(0x644)](_0x11b49b[_0x22b7e6(0xd1)])[_0x22b7e6(0x2d3)](_0x4f0550=>{const _0x44abb9=_0x22b7e6;_0x2ca2a5['players.'+_0x4f0550+_0x44abb9(0x3f3)]=![],_0x2ca2a5[_0x44abb9(0xc52)+_0x4f0550+_0x44abb9(0xaf)]=null;}),await updateDoc(_0x4a238b,{..._0x2ca2a5,'status':_0x22b7e6(0x536),'currentQuestionIndex':_0x4b430b,'questionDisplayedAt':serverTimestamp()});}),document[_0x23b061(0xc0e)](_0x23b061(0x8eb))?.[_0x23b061(0x59d)](_0x23b061(0x9fd),async()=>{await updateDoc(_0x4a238b,{'status':'results','reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x289fc3){const _0x2dd3be=_0x3a9f7b,_0x3a5d79=_0x289fc3[_0x2dd3be(0x41b)]>=_0x289fc3[_0x2dd3be(0xc11)]['questions']['length']-0x1;let _0xd1c1de='';if(_0x289fc3[_0x2dd3be(0x1a4)]===!![]){const _0x852ea=_0x289fc3[_0x2dd3be(0xd1)][localTeamPlayers[0x0]],_0x33a649=_0x852ea[_0x2dd3be(0x58e)],_0xe6c02d=_0x852ea[_0x2dd3be(0x6fd)];_0xd1c1de=_0x2dd3be(0x97a)+_0x33a649+_0x2dd3be(0x1d5)+_0xe6c02d+_0x2dd3be(0x9f3);}else _0xd1c1de=_0x2dd3be(0x245)+(_0x3a5d79?_0x2dd3be(0x542):_0x2dd3be(0xbe7))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x5ac077='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd1c1de+_0x2dd3be(0xcc5);liveGameView[_0x2dd3be(0xd5e)]=_0x5ac077;}async function handleShowStudentRankings(){const _0x5e268e=_0x3a9f7b,_0x35c0b0=document[_0x5e268e(0x535)](_0x5e268e(0xb1d));_0x35c0b0&&(_0x35c0b0[_0x5e268e(0xd5e)]=_0x5e268e(0x40f));const _0x3bf356=document[_0x5e268e(0x535)](_0x5e268e(0x679));_0x3bf356&&(_0x3bf356['innerHTML']=_0x5e268e(0xb7c));const _0x22d948=document['getElementById']('student-rankings-modal');_0x22d948['classList'][_0x5e268e(0xd08)]('hidden'),document[_0x5e268e(0xc0e)](_0x5e268e(0xc75))[_0x5e268e(0xd75)]=()=>_0x22d948['classList'][_0x5e268e(0x930)](_0x5e268e(0x772));const _0xd7357e=document[_0x5e268e(0xc0e)](_0x5e268e(0xc0c)),_0x231392=document[_0x5e268e(0xc0e)](_0x5e268e(0x9b9)),_0x287520=document[_0x5e268e(0xc0e)](_0x5e268e(0x742)),_0x18a690=document[_0x5e268e(0xc0e)]('student-project-leaderboard-content');_0xd7357e[_0x5e268e(0xd75)]=()=>{const _0x5bffe8=_0x5e268e;_0xd7357e['classList'][_0x5bffe8(0x930)](_0x5bffe8(0x75a)),_0x231392[_0x5bffe8(0x319)][_0x5bffe8(0xd08)](_0x5bffe8(0x75a)),_0x287520[_0x5bffe8(0x319)][_0x5bffe8(0xd08)](_0x5bffe8(0x772)),_0x18a690['classList'][_0x5bffe8(0x930)]('hidden');},_0x231392[_0x5e268e(0xd75)]=()=>{const _0x96fdf6=_0x5e268e;_0x231392['classList']['add']('active'),_0xd7357e['classList']['remove']('active'),_0x18a690[_0x96fdf6(0x319)][_0x96fdf6(0xd08)](_0x96fdf6(0x772)),_0x287520[_0x96fdf6(0x319)]['add'](_0x96fdf6(0x772));};try{const _0x4981ae=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x5e268e(0x251)),_0x467bce=await getDocs(_0x4981ae),_0x15e9cc=_0x467bce[_0x5e268e(0x726)]['map'](_0xaf1594=>_0xaf1594[_0x5e268e(0x180)]());renderQuizLeaderboard(_0x15e9cc,currentQuizData,_0x5e268e(0x4de));const _0x552e0a=collection(db,_0x5e268e(0xb3f)+appId+'/public/data/projects/'+currentQuizData[_0x5e268e(0xd39)]+_0x5e268e(0xc06)),_0x24af21=await getDocs(_0x552e0a),_0x3ca9b4=_0x24af21[_0x5e268e(0x726)][_0x5e268e(0x8ac)](_0x4d2052=>_0x4d2052[_0x5e268e(0x180)]());renderLeaderboard(_0x3ca9b4,_0x5e268e(0x72e));}catch(_0x155946){console['error']('Error\x20fetching\x20student\x20rankings:',_0x155946),showMessage(_0x5e268e(0x3ce));}}async function handleSaveToBank(_0x30668d){const _0x48b8bc=_0x3a9f7b,_0x37b490=_0x30668d[_0x48b8bc(0xa58)],_0x462502=_0x37b490[_0x48b8bc(0x5e8)][_0x48b8bc(0x21c)],_0x69ade3=currentQuizData['questions'][_0x462502];if(!userId){showMessage(_0x48b8bc(0x36c));return;}try{const _0x226536={..._0x69ade3,'originalTopic':currentQuizData[_0x48b8bc(0x156)],'savedAt':serverTimestamp()},_0xd60184=collection(db,_0x48b8bc(0xb3f)+appId+_0x48b8bc(0x1f0)+userId+_0x48b8bc(0x9a0));await addDoc(_0xd60184,_0x226536),showMessage(_0x48b8bc(0x6be)),_0x37b490[_0x48b8bc(0x319)]['remove'](_0x48b8bc(0x42c)),_0x37b490[_0x48b8bc(0x319)][_0x48b8bc(0x930)](_0x48b8bc(0x3bc)),_0x37b490[_0x48b8bc(0x622)]=!![];}catch(_0x549e5f){console['error'](_0x48b8bc(0xbc3),_0x549e5f),showMessage(_0x48b8bc(0x16b));}}async function selectProjectAndGenerateBlueprintQuiz(_0x2563b9,_0x5c41f2=null,_0x275599=null,_0x4946ef=![]){const _0x634945=_0x3a9f7b;cameFromBlueprint=!![];const _0x6d1fa6=document['getElementById']('bp-reference-file-url')?.[_0x634945(0x452)]['trim']();let _0x1a88d9=null;if(_0x6d1fa6){showMessage('กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...');try{const _0xf069a4=await fetchFileFromUrl(_0x6d1fa6,_0x634945(0x1a9)),_0x3ced1a=await new Promise((_0x3f4bf3,_0x153a5f)=>{const _0xb7835a=_0x634945,_0x4c3a12=new FileReader();_0x4c3a12[_0xb7835a(0x2a8)](_0xf069a4),_0x4c3a12[_0xb7835a(0xd25)]=()=>_0x3f4bf3(_0x4c3a12[_0xb7835a(0xbbf)][_0xb7835a(0x962)](',')[0x1]),_0x4c3a12[_0xb7835a(0xb42)]=_0x153a5f;});_0x1a88d9=[{'inlineData':{'mimeType':_0xf069a4[_0x634945(0xbd2)],'data':_0x3ced1a}}],messageModal[_0x634945(0x319)][_0x634945(0x930)](_0x634945(0x772));}catch(_0x20dfb2){console['error'](_0x634945(0xac1),_0x20dfb2),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ');}}const _0x167b45=document[_0x634945(0xc0e)](_0x634945(0xd60)),_0x2d47c4=document[_0x634945(0xc0e)](_0x634945(0xd31)),_0x34a955=_0x167b45[_0x634945(0x535)]('h3'),_0x318e56=document[_0x634945(0xc0e)](_0x634945(0x5b5)),_0x1a0e10=document['getElementById']('cancel-move-quiz-btn');_0x34a955[_0x634945(0x6fb)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x318e56[_0x634945(0x6fb)]='เลือกและเริ่มสร้าง',_0x318e56[_0x634945(0x622)]=!![];allProjects['length']===0x0?_0x2d47c4[_0x634945(0xd5e)]=_0x634945(0x91a):(_0x2d47c4[_0x634945(0xd5e)]=_0x634945(0x516)+allProjects[_0x634945(0x8ac)](_0x5e068a=>_0x634945(0x1dd)+_0x5e068a['id']+'\x22>'+_0x5e068a[_0x634945(0x139)]+_0x634945(0x17b))['join'](''),_0x318e56['disabled']=![]);_0x167b45[_0x634945(0x319)][_0x634945(0xd08)](_0x634945(0x772));const _0x4142c0=async()=>{const _0x42df90=_0x634945,_0x9e4a40=_0x2d47c4['value'];if(!_0x9e4a40){showMessage(_0x42df90(0x111));return;}_0x167b45['classList'][_0x42df90(0x930)](_0x42df90(0x772)),document[_0x42df90(0xc0e)](_0x42df90(0xab8))[_0x42df90(0x319)][_0x42df90(0x930)](_0x42df90(0x772)),await loadProjectDetails(_0x9e4a40),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x2563b9,_0x5c41f2,_0x9e4a40,_0x275599,_0x4946ef,_0x1a88d9),_0x2ae4e4();},_0x2ae4e4=()=>{const _0xa3ef48=_0x634945;_0x34a955[_0xa3ef48(0x6fb)]=_0xa3ef48(0x6ab),_0x318e56['textContent']=_0xa3ef48(0xd14),_0x318e56[_0xa3ef48(0x3e0)]('click',_0x4142c0),_0x1a0e10[_0xa3ef48(0x3e0)](_0xa3ef48(0x9fd),_0x2ae4e4),_0x318e56[_0xa3ef48(0x59d)](_0xa3ef48(0x9fd),confirmMoveQuiz);};_0x318e56[_0x634945(0x3e0)]('click',confirmMoveQuiz),_0x318e56[_0x634945(0x59d)](_0x634945(0x9fd),_0x4142c0),_0x1a0e10['addEventListener'](_0x634945(0x9fd),_0x2ae4e4);}function listenForStarredQuizzes(){const _0x97bf24=_0x3a9f7b;if(!userId)return;const _0x4a620c=collection(db,_0x97bf24(0xb3f)+appId+_0x97bf24(0xb0a)),_0x442949=query(_0x4a620c,where('isStarred','==',!![]));onSnapshot(_0x442949,_0xcff6e=>{const _0x4db3d3=_0x97bf24;starredQuizzes=_0xcff6e[_0x4db3d3(0x726)][_0x4db3d3(0x8ac)](_0x20f8e9=>({'id':_0x20f8e9['id'],..._0x20f8e9['data']()})),currentProjectId===_0x4db3d3(0x5bb)?renderQuizzes():renderProjects();},_0x1e63cb=>{const _0x44b2f2=_0x97bf24;console[_0x44b2f2(0x4e3)](_0x44b2f2(0x652),_0x1e63cb);});}function listenForFileShortcuts(){const _0x3b885f=doc(db,'globalSettings','fileShortcutsConfig');onSnapshot(_0x3b885f,_0x896467=>{const _0x107f40=_0x57a1;let _0x1b55cf=[],_0x171284=[],_0x217be9={};if(_0x896467[_0x107f40(0x1fb)]()){const _0x31937a=_0x896467[_0x107f40(0x180)]();_0x1b55cf=_0x31937a[_0x107f40(0xadd)]||[],_0x171284=_0x31937a[_0x107f40(0x880)]||[],_0x217be9=_0x31937a[_0x107f40(0xc9b)]||{};}!_0x171284[_0x107f40(0x4b3)](_0x161f7b=>_0x161f7b['id']===_0x107f40(0xc9a))&&_0x171284[_0x107f40(0x3fb)]({'id':_0x107f40(0xc9a),'name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x1b55cf[_0x107f40(0x4b3)](_0x10a5a4=>_0x10a5a4['id']===_0x107f40(0x140))&&_0x1b55cf[_0x107f40(0x3fb)]({'id':_0x107f40(0x140),'name':_0x107f40(0xa6c),'url':'','isDefault':!![]}),!_0x1b55cf['find'](_0x20e381=>_0x20e381['id']==='file-default-2')&&_0x1b55cf[_0x107f40(0x3fb)]({'id':'file-default-2','name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x1b55cf,fileShortcutTabs=_0x171284,fileShortcutOrder=_0x217be9,renderFileShortcuts(),!document[_0x107f40(0xc0e)](_0x107f40(0xc63))[_0x107f40(0x319)]['contains'](_0x107f40(0x772))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x3fd433=_0x3a9f7b,_0xf919d=doc(db,_0x3fd433(0x316),'fileShortcutsConfig');try{await setDoc(_0xf919d,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x347777){console[_0x3fd433(0x4e3)](_0x3fd433(0x9ed),_0x347777);}}function renderAdditionalFileShortcutsModal(){const _0x393713=_0x3a9f7b,_0xdf8df7=document[_0x393713(0xc0e)](_0x393713(0x565)),_0x46b354=document[_0x393713(0xc0e)](_0x393713(0x403));if(!_0xdf8df7||!_0x46b354)return;_0xdf8df7['innerHTML']=fileShortcutTabs[_0x393713(0x8ac)](_0x4a5212=>{const _0x4838c4=_0x393713,_0x1503b7=_0x4a5212['id']===activeFileShortcutTabId;return _0x4838c4(0x8c1)+_0x4a5212['id']+_0x4838c4(0x63c)+(_0x1503b7?'border-indigo-500\x20text-indigo-600':'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x4a5212['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x4a5212[_0x4838c4(0x58e)]+_0x4838c4(0xa12)+(!_0x4a5212[_0x4838c4(0x9f1)]?_0x4838c4(0xabb)+_0x4a5212['id']+_0x4838c4(0xa3e):'')+_0x4838c4(0x974);})['join']('');const _0x57e4e8=fileShortcutTabs[_0x393713(0x4b3)](_0x3c6a02=>_0x3c6a02['id']===activeFileShortcutTabId);let _0x5d4d30=_0x57e4e8?.['isDefault']?[...fileShortcuts]:fileShortcuts['filter'](_0x45e0d5=>(_0x57e4e8?.[_0x393713(0x33a)]||[])['includes'](_0x45e0d5['id']));const _0x494129=fileShortcutOrder[activeFileShortcutTabId]||[];_0x5d4d30[_0x393713(0x3fc)]((_0x79c34c,_0x55a25a)=>{const _0x2344e7=_0x393713,_0x219264=_0x494129[_0x2344e7(0x617)](_0x79c34c['id']),_0x481f90=_0x494129[_0x2344e7(0x617)](_0x55a25a['id']);return(_0x219264===-0x1?Infinity:_0x219264)-(_0x481f90===-0x1?Infinity:_0x481f90);}),_0x46b354[_0x393713(0xd5e)]=_0x5d4d30['map'](_0x346c60=>{const _0x109ef4=_0x393713,_0x8d9abf=_0x346c60[_0x109ef4(0x854)]?'📄':'🔗',_0x63fe3e=fileShortcutTabs[_0x109ef4(0xb6e)](_0x1ee599=>!_0x1ee599[_0x109ef4(0x9f1)]),_0x4d8a09=_0x57e4e8['isDefault']&&_0x63fe3e[_0x109ef4(0x7d2)]>0x0?_0x109ef4(0x344)+_0x63fe3e['map'](_0x3890f4=>'<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x346c60['id']+'\x22\x20data-target-tab-id=\x22'+_0x3890f4['id']+'\x22>'+_0x3890f4['name']+_0x109ef4(0x6d9))[_0x109ef4(0x986)]('')+_0x109ef4(0xc45):'';return _0x109ef4(0x4ef)+_0x346c60['id']+_0x109ef4(0xc73)+_0x8d9abf+'\x20'+_0x346c60[_0x109ef4(0x58e)]+_0x109ef4(0x71e)+_0x346c60['id']+_0x109ef4(0xceb)+_0x346c60['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x346c60[_0x109ef4(0x9f1)]?'<button\x20data-id=\x22'+_0x346c60['id']+_0x109ef4(0x586):'')+_0x109ef4(0xacd)+(!_0x57e4e8['isDefault']?_0x109ef4(0x6f5)+_0x346c60['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x109ef4(0xacd)+_0x4d8a09+_0x109ef4(0xc93);})[_0x393713(0x986)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x1c90c2=_0x3a9f7b;document[_0x1c90c2(0x68f)](_0x1c90c2(0x63e))['forEach'](_0x5ef22f=>{const _0x44ad95=_0x1c90c2;_0x5ef22f['onclick']=_0x33ad01=>{const _0x3a957a=_0x57a1;activeFileShortcutTabId=_0x33ad01[_0x3a957a(0xa58)][_0x3a957a(0x5e8)]['tabId'],renderAdditionalFileShortcutsModal();},_0x5ef22f[_0x44ad95(0x716)]=_0x3d8e80=>{const _0x477724=_0x44ad95,_0x54a052=_0x3d8e80[_0x477724(0xa58)]['querySelector'](_0x477724(0x61d));_0x3d8e80[_0x477724(0xa58)][_0x477724(0x535)]('.tab-name-display')[_0x477724(0x319)][_0x477724(0x930)]('hidden'),_0x54a052[_0x477724(0x319)]['remove']('hidden'),_0x54a052[_0x477724(0xa75)](),_0x54a052[_0x477724(0x8ea)]();};}),document[_0x1c90c2(0x68f)](_0x1c90c2(0xc71))[_0x1c90c2(0x2d3)](_0x591a37=>{const _0x2c8e6f=_0x1c90c2,_0x565e5f=()=>{const _0x265603=_0x57a1,_0x525c94=_0x591a37[_0x265603(0x190)](_0x265603(0x63e))[_0x265603(0x5e8)][_0x265603(0x56d)],_0x316f1e=fileShortcutTabs[_0x265603(0x4b3)](_0x34ef59=>_0x34ef59['id']===_0x525c94);_0x316f1e&&(_0x316f1e[_0x265603(0x58e)]=_0x591a37[_0x265603(0x452)][_0x265603(0xa0f)]()||_0x316f1e['name'],saveFileShortcutConfig());};_0x591a37[_0x2c8e6f(0x836)]=_0x565e5f,_0x591a37[_0x2c8e6f(0x339)]=_0x354bd4=>{const _0x739918=_0x2c8e6f;if(_0x354bd4[_0x739918(0x574)]===_0x739918(0xd4f))_0x591a37[_0x739918(0x1ae)]();};}),document['querySelectorAll'](_0x1c90c2(0x80e))[_0x1c90c2(0x2d3)](_0x1ef951=>_0x1ef951[_0x1c90c2(0xd75)]=_0x1b58db=>{const _0x325a5e=_0x1c90c2,_0xd5f063=_0x1b58db['currentTarget'][_0x325a5e(0x5e8)][_0x325a5e(0x56d)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0xfb1252=_0x325a5e;fileShortcutTabs=fileShortcutTabs[_0xfb1252(0xb6e)](_0x165cb9=>_0x165cb9['id']!==_0xd5f063),delete fileShortcutOrder[_0xd5f063];if(activeFileShortcutTabId===_0xd5f063)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document[_0x1c90c2(0x68f)](_0x1c90c2(0x5f5))['forEach'](_0x543272=>_0x543272[_0x1c90c2(0xd75)]=_0x519c36=>{const _0x21480b=_0x1c90c2;_0x519c36[_0x21480b(0x3eb)]();const {shortcutId:_0x3b3a97,targetTabId:_0x199414}=_0x519c36[_0x21480b(0xa58)][_0x21480b(0x5e8)],_0x399d7b=fileShortcutTabs[_0x21480b(0x4b3)](_0x38338c=>_0x38338c['id']===_0x199414);_0x399d7b&&!_0x399d7b['shortcutIds'][_0x21480b(0x1bc)](_0x3b3a97)&&(_0x399d7b[_0x21480b(0x33a)][_0x21480b(0x187)](_0x3b3a97),saveFileShortcutConfig());}),document['querySelectorAll'](_0x1c90c2(0xca3))[_0x1c90c2(0x2d3)](_0x9a6a22=>_0x9a6a22[_0x1c90c2(0xd75)]=_0xaf90e0=>{const _0x30bf26=_0x1c90c2,_0x263cee=_0xaf90e0['currentTarget']['dataset']['shortcutId'],_0x2678ff=fileShortcutTabs[_0x30bf26(0x4b3)](_0x24d17f=>_0x24d17f['id']===activeFileShortcutTabId);_0x2678ff&&!_0x2678ff[_0x30bf26(0x9f1)]&&(_0x2678ff['shortcutIds']=_0x2678ff[_0x30bf26(0x33a)][_0x30bf26(0xb6e)](_0x5da09c=>_0x5da09c!==_0x263cee),saveFileShortcutConfig());}),document[_0x1c90c2(0x68f)](_0x1c90c2(0x89c))[_0x1c90c2(0x2d3)](_0x11e079=>_0x11e079[_0x1c90c2(0xd75)]=_0x4732a3=>{const _0x565e8e=_0x1c90c2;_0x4732a3['stopPropagation']();const _0xbdf244=_0x4732a3[_0x565e8e(0xa58)][_0x565e8e(0x717)];document[_0x565e8e(0x68f)](_0x565e8e(0x21e))[_0x565e8e(0x2d3)](_0x3d94ed=>_0x3d94ed['classList'][_0x565e8e(0x930)](_0x565e8e(0x772))),_0xbdf244[_0x565e8e(0x319)][_0x565e8e(0xd08)](_0x565e8e(0x772));});const _0x3bbc27=document[_0x1c90c2(0xc0e)]('additional-file-shortcuts-list');let _0x250300=null;_0x3bbc27[_0x1c90c2(0x5bc)]=_0xb7fef8=>{const _0x39d33d=_0x1c90c2;_0x250300=_0xb7fef8[_0x39d33d(0x697)][_0x39d33d(0x190)]('.shortcut-list-item');if(_0x250300)setTimeout(()=>_0x250300[_0x39d33d(0x319)]['add'](_0x39d33d(0x76e)),0x0);},_0x3bbc27[_0x1c90c2(0xc81)]=()=>{const _0x472a83=_0x1c90c2;_0x250300&&(_0x250300['classList'][_0x472a83(0xd08)]('opacity-50'),_0x250300=null);},_0x3bbc27[_0x1c90c2(0xa7d)]=_0x4b8761=>{const _0x4d548e=_0x1c90c2;_0x4b8761[_0x4d548e(0x3eb)]();},_0x3bbc27[_0x1c90c2(0x17a)]=_0xb125fa=>{const _0x7f3abf=_0x1c90c2;_0xb125fa['preventDefault']();if(_0x250300){const _0x5edb88=[..._0x3bbc27[_0x7f3abf(0x68f)](_0x7f3abf(0x7d9))][_0x7f3abf(0x78a)]((_0x364d65,_0x449a81)=>{const _0x12966c=_0x7f3abf,_0x2d52b8=_0x449a81[_0x12966c(0xb82)](),_0x370ea0=_0xb125fa[_0x12966c(0x86b)]-_0x2d52b8[_0x12966c(0xc1d)]-_0x2d52b8['height']/0x2;return _0x370ea0<0x0&&_0x370ea0>_0x364d65[_0x12966c(0x343)]?{'offset':_0x370ea0,'element':_0x449a81}:_0x364d65;},{'offset':Number[_0x7f3abf(0xc79)]})[_0x7f3abf(0x960)];_0x5edb88==null?_0x3bbc27[_0x7f3abf(0x6ce)](_0x250300):_0x3bbc27['insertBefore'](_0x250300,_0x5edb88);const _0x523230=[..._0x3bbc27[_0x7f3abf(0x68f)](_0x7f3abf(0xbc))]['map'](_0x5c3396=>_0x5c3396[_0x7f3abf(0x5e8)][_0x7f3abf(0x585)]);fileShortcutOrder[activeFileShortcutTabId]=_0x523230,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x4584e0=_0x3a9f7b,_0x52fa4c=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x4584e0(0x217));_0x52fa4c&&_0x52fa4c[_0x4584e0(0xa0f)]()&&(fileShortcutTabs[_0x4584e0(0x187)]({'id':'tab_'+Date[_0x4584e0(0x62e)](),'name':_0x52fa4c[_0x4584e0(0xa0f)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x324637=_0x3a9f7b,_0x55666b=document['getElementById'](_0x324637(0x25c)),_0x567765=document[_0x324637(0xc0e)](_0x324637(0x403)),_0xdd2914=document[_0x324637(0xc0e)](_0x324637(0x623));if(_0xdd2914)_0xdd2914['classList'][_0x324637(0x930)](_0x324637(0x772));if(!_0x55666b||!_0x567765)return;const _0x335d28=fileShortcuts[_0x324637(0x3f8)](0x0,0x4),_0x5d2503=fileShortcuts['slice'](0x4);_0x55666b['innerHTML']=_0x335d28[_0x324637(0x8ac)](_0x186088=>{const _0x1f4f66=_0x324637,_0x30233c=_0x186088['url']&&_0x186088['url'][_0x1f4f66(0xa0f)]()!=='',_0x54a295=selectedFile&&selectedFile[_0x1f4f66(0x585)]===_0x186088['id'];let _0xd00386=_0x1f4f66(0x2c8),_0x2be7c3='🔗';if(_0x54a295)_0xd00386='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x2be7c3='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x30233c&&(_0xd00386='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x2be7c3='📄');const _0x37058b=!_0x186088['isDefault']?_0x1f4f66(0x28b)+_0x186088['id']+_0x1f4f66(0xb4f):'';return _0x1f4f66(0x307)+_0x186088['id']+_0x1f4f66(0xa43)+_0xd00386+_0x1f4f66(0xa06)+_0x2be7c3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x186088[_0x1f4f66(0x58e)]+_0x1f4f66(0xb06)+_0x186088['id']+_0x1f4f66(0x931)+_0x37058b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x324637(0x986)](''),_0x5d2503[_0x324637(0x7d2)]>0x0&&(_0x55666b[_0x324637(0xd5e)]+=_0x324637(0xbff)),_0x5d2503[_0x324637(0x7d2)]>0x0?_0x567765['innerHTML']=_0x5d2503['map'](_0x49d548=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x49d548[_0x324637(0x854)]?'📄':'🔗')+'\x20'+_0x49d548['name']+_0x324637(0xa01)+_0x49d548['id']+_0x324637(0xc18)+_0x49d548['id']+_0x324637(0xd7e)+(!_0x49d548[_0x324637(0x9f1)]?_0x324637(0x28b)+_0x49d548['id']+_0x324637(0x586):'')+_0x324637(0x778))[_0x324637(0x986)](''):_0x567765[_0x324637(0xd5e)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x28d4f5=null){const _0x374ebb=_0x3a9f7b,_0xf1d53e=document['getElementById'](_0x374ebb(0x1c6)),_0x1b47c4=document[_0x374ebb(0xc0e)](_0x374ebb(0x7d0)),_0x4b89f4=document[_0x374ebb(0xc0e)](_0x374ebb(0x3f2)),_0x35092f=document[_0x374ebb(0xc0e)](_0x374ebb(0x30a)),_0x3efb16=document[_0x374ebb(0xc0e)](_0x374ebb(0x5a0));if(_0x28d4f5){const _0x8f39ec=fileShortcuts['find'](_0x2a64fd=>_0x2a64fd['id']===_0x28d4f5);if(!_0x8f39ec)return;_0x1b47c4['textContent']=_0x374ebb(0xb00),_0x4b89f4['value']=_0x8f39ec['id'],_0x35092f[_0x374ebb(0x452)]=_0x8f39ec[_0x374ebb(0x58e)],_0x3efb16[_0x374ebb(0x452)]=_0x8f39ec[_0x374ebb(0x854)]||'';}else _0x1b47c4[_0x374ebb(0x6fb)]='เพิ่มปุ่มลัดจากไฟล์ใหม่',_0x4b89f4['value']='',_0x35092f[_0x374ebb(0x452)]='',_0x3efb16[_0x374ebb(0x452)]='';_0xf1d53e[_0x374ebb(0x319)][_0x374ebb(0xd08)](_0x374ebb(0x772));}async function saveFileShortcutChanges(){const _0x476d7e=_0x3a9f7b,_0x31ddb4=document[_0x476d7e(0xc0e)](_0x476d7e(0x3f2))['value'],_0x389127=document[_0x476d7e(0xc0e)](_0x476d7e(0x30a))['value'][_0x476d7e(0xa0f)](),_0xc26bc7=document[_0x476d7e(0xc0e)](_0x476d7e(0x5a0))['value'][_0x476d7e(0xa0f)]();if(!_0x389127){showMessage(_0x476d7e(0x625));return;}const _0x1b78cd={'id':_0x31ddb4||_0x476d7e(0xc10)+Date[_0x476d7e(0x62e)](),'name':_0x389127,'url':_0xc26bc7,'isDefault':_0x31ddb4[_0x476d7e(0x23e)](_0x476d7e(0x24f))};let _0x160624;_0x31ddb4?_0x160624=fileShortcuts[_0x476d7e(0x8ac)](_0x5c7a27=>_0x5c7a27['id']===_0x31ddb4?_0x1b78cd:_0x5c7a27):_0x160624=[...fileShortcuts,_0x1b78cd];try{const _0x2b9e26=doc(db,_0x476d7e(0x316),'fileShortcutsConfig');await setDoc(_0x2b9e26,{'shortcuts':_0x160624},{'merge':!![]}),document[_0x476d7e(0xc0e)](_0x476d7e(0x1c6))[_0x476d7e(0x319)][_0x476d7e(0x930)]('hidden');}catch(_0x22c68a){console['error']('Error\x20saving\x20file\x20shortcut:',_0x22c68a),showMessage(_0x476d7e(0x16b));}}async function handleFileShortcutClick(_0x5649f4){const _0x404d83=_0x3a9f7b,_0x3b336c=fileShortcuts[_0x404d83(0x4b3)](_0x3a802b=>_0x3a802b['id']===_0x5649f4);if(!_0x3b336c)return;if(!_0x3b336c[_0x404d83(0x854)]||_0x3b336c[_0x404d83(0x854)]['trim']()===''){openFileShortcutEditor(_0x5649f4);return;}const _0x283c43=document[_0x404d83(0x535)](_0x404d83(0x359)+_0x5649f4+'\x22]');if(_0x283c43){const _0x553935=_0x283c43[_0x404d83(0xd5e)];_0x283c43[_0x404d83(0xd5e)]=_0x404d83(0x562),_0x283c43[_0x404d83(0x622)]=!![];}document[_0x404d83(0x68f)](_0x404d83(0xcd7))[_0x404d83(0x2d3)](_0x1a9903=>{const _0x20b809=_0x404d83;if(_0x1a9903[_0x20b809(0x5e8)]['id']!==_0x5649f4)_0x1a9903[_0x20b809(0x319)]['add'](_0x20b809(0x76e),_0x20b809(0x119));});try{const _0x4f39c0=new URL(_0x3b336c['url'])[_0x404d83(0xc8f)],_0x22d9ae=_0x4f39c0[_0x404d83(0x3b5)](_0x4f39c0[_0x404d83(0x35a)]('/')+0x1)||(_0x3b336c[_0x404d83(0x854)][_0x404d83(0x1bc)](_0x404d83(0x4d2))?_0x404d83(0x45a):_0x404d83(0x5ba)),_0x3ba767=await fetchFileFromUrl(_0x3b336c[_0x404d83(0x854)],_0x22d9ae);_0x3ba767[_0x404d83(0x585)]=_0x5649f4,selectedFile=_0x3ba767,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById'](_0x404d83(0x86e))[_0x404d83(0x80a)]({'behavior':_0x404d83(0x123),'block':_0x404d83(0xd1d)});}catch(_0x5c754a){console[_0x404d83(0x4e3)](_0x404d83(0x69c),_0x5c754a),showMessage(_0x404d83(0x326)+_0x5c754a[_0x404d83(0x145)]),renderFileShortcuts();}finally{document[_0x404d83(0x68f)](_0x404d83(0xcd7))['forEach'](_0x3e1b22=>{const _0x225a50=_0x404d83;_0x3e1b22[_0x225a50(0x319)][_0x225a50(0xd08)]('opacity-50',_0x225a50(0x119)),_0x3e1b22['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x137589=_0x3a9f7b;if(allQuizzesGlobal[_0x137589(0x7d2)]>0x0)return;console[_0x137589(0x955)](_0x137589(0xaee)),showMessage(_0x137589(0x8b8));try{const _0x598dfc=await getDocs(collection(db,'artifacts/'+appId+_0x137589(0xb0a)));allQuizzesGlobal=_0x598dfc[_0x137589(0x726)][_0x137589(0x8ac)](_0x1f7649=>({'id':_0x1f7649['id'],..._0x1f7649[_0x137589(0x180)]()})),console[_0x137589(0x955)]('Loaded\x20'+allQuizzesGlobal[_0x137589(0x7d2)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x137589(0x319)]['add'](_0x137589(0x772));}catch(_0x3b3caa){console['error'](_0x137589(0x7e2),_0x3b3caa),messageModal[_0x137589(0x319)][_0x137589(0x930)](_0x137589(0x772));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x27148e=_0x3a9f7b;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x27148e(0x18f));return;}const _0x29f411=currentQuizData,_0x3cf25c=window[_0x27148e(0xc46)]('',_0x27148e(0x529)),_0x37fdde=_0x5c4821=>String[_0x27148e(0x26e)](0x41+_0x5c4821),_0xcb85de=_0x27148e(0xd44)+_0x29f411[_0x27148e(0x156)]+_0x27148e(0x233)+_0x29f411['topic']+_0x27148e(0x725)+_0x29f411['questions']['map']((_0x188848,_0x55872d)=>{const _0x1b4ccd=_0x27148e;let _0x2bcb22='';const _0x8671ee=_0x188848[_0x1b4ccd(0x7c7)]||_0x29f411[_0x1b4ccd(0xc6c)];switch(_0x8671ee){case _0x1b4ccd(0x211):case _0x1b4ccd(0x44b):_0x2bcb22=_0x1b4ccd(0x531)+_0x188848[_0x1b4ccd(0xc87)][_0x1b4ccd(0x8ac)]((_0x5eff49,_0x4038c1)=>_0x1b4ccd(0x1f3)+_0x37fdde(_0x4038c1)+'.\x20'+_0x5eff49+_0x1b4ccd(0xc94))[_0x1b4ccd(0x986)]('<br>')+_0x1b4ccd(0x7f6);break;case'true_false':_0x2bcb22='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x2bcb22='<div\x20class=\x22answer-space\x22></div>';break;}return _0x1b4ccd(0x445)+(_0x55872d+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x188848[_0x1b4ccd(0x895)]||_0x188848['questionText'])+_0x1b4ccd(0x322)+(_0x188848[_0x1b4ccd(0x3c5)]?_0x1b4ccd(0xa65)+_0x188848['imageCode']+_0x1b4ccd(0x7f6):'')+_0x1b4ccd(0x8be)+_0x2bcb22+_0x1b4ccd(0x916);})['join']('')+_0x27148e(0x668);_0x3cf25c[_0x27148e(0x7ea)][_0x27148e(0x875)](_0xcb85de),_0x3cf25c[_0x27148e(0x7ea)]['close'](),_0x3cf25c[_0x27148e(0xd25)]=function(){setTimeout(()=>{const _0x2ad285=_0x57a1;_0x3cf25c[_0x2ad285(0x1c3)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x32d8d8=_0x3a9f7b;if(!currentQuizData||!currentQuizData[_0x32d8d8(0x9fc)]){showMessage(_0x32d8d8(0x18f));return;}const _0x856141=currentQuizData,_0x5a95d3=window['open']('',_0x32d8d8(0x529)),_0x56e3c1=_0x4bd7c7=>String[_0x32d8d8(0x26e)](0x41+_0x4bd7c7),_0x54e52e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x856141['topic']+_0x32d8d8(0x694)+_0x856141[_0x32d8d8(0x9fc)]['map']((_0x1a11fe,_0x39fb18)=>{const _0x209a31=_0x32d8d8;let _0x1ebc85='';const _0x1be52a=_0x1a11fe[_0x209a31(0x7c7)]||_0x856141['quizType'];switch(_0x1be52a){case'multiple_choice':case _0x209a31(0x44b):_0x1ebc85=_0x209a31(0x733)+_0x1a11fe[_0x209a31(0xc87)]['map']((_0x278b93,_0x3a3dcf)=>_0x209a31(0x54d)+_0x56e3c1(_0x3a3dcf)+'.\x20'+_0x278b93+_0x209a31(0xcd9))[_0x209a31(0x986)](_0x209a31(0x39a))+_0x209a31(0x277);break;case _0x209a31(0x56e):_0x1ebc85=_0x209a31(0x115);break;default:_0x1ebc85='';break;}return _0x209a31(0xadf)+_0x856141[_0x209a31(0x156)]+_0x209a31(0x4d9)+(_0x39fb18+0x1)+_0x209a31(0x50d)+(_0x1a11fe[_0x209a31(0x895)]||_0x1a11fe[_0x209a31(0x47c)])+_0x209a31(0x322)+(_0x1a11fe['imageCode']?_0x209a31(0x186)+_0x1a11fe[_0x209a31(0x3c5)]+'</div>':'')+_0x209a31(0x8be)+_0x1ebc85+_0x209a31(0x3b2);})[_0x32d8d8(0x986)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5a95d3['document'][_0x32d8d8(0x875)](_0x54e52e),_0x5a95d3[_0x32d8d8(0x7ea)][_0x32d8d8(0x9d7)](),_0x5a95d3[_0x32d8d8(0xd25)]=function(){setTimeout(()=>{const _0x4984dd=_0x57a1;_0x5a95d3[_0x4984dd(0x1c3)]();},0x5dc);};}async function handleToggleStarQuiz(_0x8ae57a){const _0x594fef=_0x3a9f7b,_0x50b3f5=doc(db,'artifacts/'+appId+_0x594fef(0xb0a),_0x8ae57a);try{const _0x588959=await getDoc(_0x50b3f5);if(_0x588959[_0x594fef(0x1fb)]()){const _0x47010a=_0x588959[_0x594fef(0x180)]()[_0x594fef(0x303)]||![];await updateDoc(_0x50b3f5,{'isStarred':!_0x47010a});}}catch(_0x54148b){console[_0x594fef(0x4e3)](_0x594fef(0x1b6),_0x54148b),showMessage(_0x594fef(0x60c));}}async function displayQuestionBank(){const _0x2fcb86=_0x3a9f7b,_0x4ccb28=document[_0x2fcb86(0xc0e)]('bank-input-area');_0x4ccb28['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x11aa5d=collection(db,_0x2fcb86(0xb3f)+appId+_0x2fcb86(0x1f0)+userId+_0x2fcb86(0x9a0)),_0x571f1d=query(_0x11aa5d),_0x504ff7=await getDocs(_0x571f1d);if(_0x504ff7[_0x2fcb86(0xb0c)]){_0x4ccb28[_0x2fcb86(0xd5e)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x392965=_0x504ff7[_0x2fcb86(0x726)][_0x2fcb86(0x8ac)](_0x37d82a=>{const _0x257dd9=_0x2fcb86,_0x2481fa=_0x37d82a[_0x257dd9(0x180)](),_0x41d8f0=_0x37d82a['id'];return _0x257dd9(0x381)+JSON['stringify'](_0x2481fa)+_0x257dd9(0xab4)+(_0x2481fa[_0x257dd9(0x47c)]||_0x2481fa['stem'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x2481fa[_0x257dd9(0xa11)]+_0x257dd9(0x4cb);})[_0x2fcb86(0x986)]('');_0x4ccb28[_0x2fcb86(0xd5e)]=_0x2fcb86(0xd23)+_0x392965+_0x2fcb86(0x24b),document[_0x2fcb86(0xc0e)]('create-from-bank-btn')['addEventListener']('click',createQuizFromBank);}catch(_0x260145){console[_0x2fcb86(0x4e3)]('Error\x20displaying\x20question\x20bank:',_0x260145),_0x4ccb28[_0x2fcb86(0xd5e)]=_0x2fcb86(0x9e5);}}async function handleExportLessonToPDF(){const _0x105e69=_0x3a9f7b,_0x54c82f=document['getElementById'](_0x105e69(0x95f)),_0xb2a654=document[_0x105e69(0xc0e)](_0x105e69(0x7c1))[_0x105e69(0x6fb)]||'บทเรียน';if(!_0x54c82f){showMessage(_0x105e69(0x204));return;}const _0x2ecbfd=window[_0x105e69(0xc46)]('','_blank'),_0x90b057=_0x105e69(0x289)+_0xb2a654+_0x105e69(0x610)+_0xb2a654+_0x105e69(0x22a)+_0x54c82f[_0x105e69(0xd5e)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x2ecbfd[_0x105e69(0x7ea)][_0x105e69(0x875)](_0x90b057),_0x2ecbfd[_0x105e69(0x7ea)][_0x105e69(0x9d7)](),_0x2ecbfd['onload']=function(){setTimeout(()=>{const _0x59a8a4=_0x57a1;_0x2ecbfd[_0x59a8a4(0x1c3)]();},0x7d0);};}function showAdminLiveQuestionView(_0x3947fd,_0x713ca7,_0x123fe8){const _0x376fe4=_0x3a9f7b,_0x5774bb=_0x3947fd[_0x376fe4(0x7c7)]||currentQuizData[_0x376fe4(0xc6c)];let _0x54dee4='';if(_0x5774bb===_0x376fe4(0x211)||_0x5774bb===_0x376fe4(0x56e)){const _0x35fa95=_0x5774bb===_0x376fe4(0x56e)?[_0x376fe4(0x53e),_0x376fe4(0x80d)]:_0x3947fd[_0x376fe4(0xc87)],_0x3cac10=_0x5774bb===_0x376fe4(0x56e)?_0x3947fd['correctAnswer']?0x0:0x1:_0x3947fd[_0x376fe4(0xcfa)];_0x54dee4=_0x35fa95[_0x376fe4(0x8ac)]((_0x5b6766,_0xd44c57)=>_0x376fe4(0x495)+(_0xd44c57===_0x3cac10)+_0x376fe4(0x77c)+_0x5b6766+_0x376fe4(0x7ad))[_0x376fe4(0x986)]('');}else{if(_0x5774bb===_0x376fe4(0xac4)){const _0x36cea9=_0x3947fd[_0x376fe4(0xcc7)]||[];_0x54dee4=_0x36cea9[_0x376fe4(0x8ac)](_0x19b20c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x19b20c===_0x3947fd[_0x376fe4(0x3a1)])+_0x376fe4(0x77c)+_0x19b20c+_0x376fe4(0x7ad))[_0x376fe4(0x986)]('');}}const _0x3d773e=_0x3947fd['stem']||_0x3947fd[_0x376fe4(0x47c)],_0x69d05c=_0x376fe4(0x236)+(_0x713ca7+0x1)+_0x376fe4(0x14d)+_0x123fe8+_0x376fe4(0xfb)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x3d773e+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54dee4+_0x376fe4(0x551);liveGameView[_0x376fe4(0xd5e)]=_0x69d05c,window['MathJax']&&MathJax[_0x376fe4(0x16c)]&&MathJax['typesetPromise']([liveGameView]),document[_0x376fe4(0xc0e)]('reveal-answer-btn')[_0x376fe4(0x59d)](_0x376fe4(0x9fd),()=>revealAnswerForAdmin(_0x713ca7,_0x123fe8)),document[_0x376fe4(0xc0e)](_0x376fe4(0xd4))['addEventListener'](_0x376fe4(0x9fd),async()=>{const _0x555b7e=_0x376fe4;showConfirmation(_0x555b7e(0x5b9),async()=>{const _0x430db3=_0x555b7e,_0x67cf5e=doc(db,_0x430db3(0xb3f)+appId+_0x430db3(0xa97),currentLiveGameId);await updateDoc(_0x67cf5e,{'status':'podium'});});}),document[_0x376fe4(0xc0e)]('manage-players-btn')['addEventListener'](_0x376fe4(0x9fd),()=>{const _0x2fa866=_0x376fe4;document[_0x2fa866(0xc0e)](_0x2fa866(0xc8a))[_0x2fa866(0x319)]['toggle'](_0x2fa866(0x772));});}function promptForProjectBeforeGenerating(_0x3cef60){const _0x37897a=_0x3a9f7b,_0x4bc9f6=document[_0x37897a(0xc0e)]('move-quiz-modal'),_0x709ae4=document[_0x37897a(0xc0e)](_0x37897a(0xd31)),_0x4dc5f7=_0x4bc9f6['querySelector']('h3'),_0x13366a=document[_0x37897a(0xc0e)](_0x37897a(0x5b5)),_0x57194c=document[_0x37897a(0xc0e)](_0x37897a(0xc0d));_0x4dc5f7[_0x37897a(0x6fb)]=_0x37897a(0x39c),_0x13366a[_0x37897a(0x6fb)]=_0x37897a(0x877),_0x13366a['disabled']=!![];allProjects[_0x37897a(0x7d2)]===0x0?_0x709ae4[_0x37897a(0xd5e)]=_0x37897a(0x91a):(_0x709ae4[_0x37897a(0xd5e)]=_0x37897a(0x516)+allProjects[_0x37897a(0x8ac)](_0x1bf394=>_0x37897a(0x1dd)+_0x1bf394['id']+'\x22>'+_0x1bf394[_0x37897a(0x139)]+'</option>')[_0x37897a(0x986)](''),_0x13366a['disabled']=![]);_0x4bc9f6[_0x37897a(0x319)][_0x37897a(0xd08)](_0x37897a(0x772));const _0x4f9dd2=async()=>{const _0x5b2d04=_0x37897a,_0x4cac87=_0x709ae4[_0x5b2d04(0x452)];if(!_0x4cac87){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x4bc9f6['classList'][_0x5b2d04(0x930)](_0x5b2d04(0x772)),await loadProjectDetails(_0x4cac87),showView(_0x5b2d04(0x6c3)),handleGenerateQuizFromBlueprintTopic(_0x3cef60),_0x5f894d();},_0x5f894d=()=>{const _0x5f4671=_0x37897a;_0x4dc5f7[_0x5f4671(0x6fb)]=_0x5f4671(0x6ab),_0x13366a['textContent']=_0x5f4671(0xd14),_0x13366a[_0x5f4671(0x3e0)](_0x5f4671(0x9fd),_0x4f9dd2),_0x57194c[_0x5f4671(0x3e0)]('click',_0x5f894d),_0x13366a[_0x5f4671(0x59d)](_0x5f4671(0x9fd),confirmMoveQuiz);};_0x13366a['removeEventListener'](_0x37897a(0x9fd),confirmMoveQuiz),_0x13366a[_0x37897a(0x59d)](_0x37897a(0x9fd),_0x4f9dd2),_0x57194c['addEventListener'](_0x37897a(0x9fd),_0x5f894d);}function showStudentLiveQuestionView(_0x3ecf78,_0x12a43f,_0x52c258){const _0x58c888=_0x3a9f7b,_0x190d1c=_0x3ecf78[_0x58c888(0x7c7)]||currentQuizData[_0x58c888(0xc6c)];let _0x5deaa4='';if(_0x190d1c===_0x58c888(0x211)||_0x190d1c==='true_false'){const _0x45b9e7=_0x190d1c===_0x58c888(0x56e)?[_0x58c888(0x53e),_0x58c888(0x80d)]:_0x3ecf78['options'];_0x5deaa4=_0x45b9e7[_0x58c888(0x8ac)]((_0x1e8490,_0x4a24e2)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x4a24e2+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e8490+_0x58c888(0x587))[_0x58c888(0x986)]('');}else{if(_0x190d1c===_0x58c888(0xac4)){const _0x23e3e9=_0x3ecf78[_0x58c888(0xcc7)]||[];_0x5deaa4=_0x23e3e9[_0x58c888(0x8ac)]((_0x94a345,_0x54c7d8)=>_0x58c888(0x387)+_0x54c7d8+_0x58c888(0x264)+_0x94a345+_0x58c888(0x587))[_0x58c888(0x986)]('');}else _0x190d1c===_0x58c888(0x2d1)&&(_0x5deaa4=_0x58c888(0x4b7));}const _0x109b0f=_0x3ecf78[_0x58c888(0x895)]||_0x3ecf78['questionText'],_0x97f103=_0x58c888(0x5e2)+(_0x12a43f+0x1)+_0x58c888(0x14d)+_0x52c258+_0x58c888(0x55b)+_0x109b0f+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5deaa4+_0x58c888(0x576);liveGameView[_0x58c888(0xd5e)]=_0x97f103;window['MathJax']&&MathJax[_0x58c888(0x16c)]&&MathJax['typesetPromise']([liveGameView]);const _0x31671c=document[_0x58c888(0xc0e)](_0x58c888(0x35b));_0x31671c&&_0x31671c['addEventListener'](_0x58c888(0x9fd),()=>{const _0xc95358=_0x58c888,_0x576727=document[_0xc95358(0xc0e)](_0xc95358(0xc9d))[_0xc95358(0x452)];handleLiveAnswer(_0x576727,_0x3ecf78);}),document[_0x58c888(0xc0e)](_0x58c888(0x2b7))[_0x58c888(0x59d)](_0x58c888(0x9fd),_0x104679=>{const _0x30390b=_0x58c888,_0x5ad024=_0x104679[_0x30390b(0x697)][_0x30390b(0x190)](_0x30390b(0xa31));if(_0x5ad024){const _0x1af23c=parseInt(_0x5ad024[_0x30390b(0x5e8)][_0x30390b(0x21c)]);handleLiveAnswer(_0x1af23c,_0x3ecf78);}});}function listenForBlueprintShortcuts(){const _0x42500c=_0x3a9f7b,_0x3909cb=doc(db,_0x42500c(0x316),_0x42500c(0x8e6));onSnapshot(_0x3909cb,_0x54e2b3=>{const _0x4df7b9=_0x42500c;let _0x4023e6=[],_0x38a896=[],_0x31df15={};if(_0x54e2b3['exists']()){const _0x4cf735=_0x54e2b3[_0x4df7b9(0x180)]();_0x4023e6=_0x4cf735[_0x4df7b9(0x366)]||[],_0x38a896=_0x4cf735[_0x4df7b9(0x4b0)]||[],_0x31df15=_0x4cf735['shortcutOrder']||{};}!_0x38a896[_0x4df7b9(0x4b3)](_0x49255d=>_0x49255d['id']==='all')&&_0x38a896[_0x4df7b9(0x3fb)]({'id':_0x4df7b9(0xc9a),'name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x4023e6[_0x4df7b9(0x4b3)](_0x13d5e6=>_0x13d5e6['id']===_0x4df7b9(0x6ca))&&_0x4023e6['unshift']({'id':_0x4df7b9(0x6ca),'name':_0x4df7b9(0x661),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x4023e6[_0x4df7b9(0x4b3)](_0x2bc096=>_0x2bc096['id']===_0x4df7b9(0x101))&&_0x4023e6[_0x4df7b9(0x3fb)]({'id':_0x4df7b9(0x101),'name':_0x4df7b9(0x5b2),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x4023e6,shortcutTabs=_0x38a896,shortcutOrder=_0x31df15,renderBlueprintShortcuts(),!document[_0x4df7b9(0xc0e)](_0x4df7b9(0xc56))[_0x4df7b9(0x319)][_0x4df7b9(0xa3b)]('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0xa7b8c9=_0x3a9f7b,_0x56c2fc=document[_0xa7b8c9(0xc0e)](_0xa7b8c9(0x41e)),_0xa33678=document[_0xa7b8c9(0xc0e)](_0xa7b8c9(0x37b));if(!_0x56c2fc||!_0xa33678)return;_0x56c2fc[_0xa7b8c9(0xd5e)]=shortcutTabs['map'](_0x213135=>{const _0x44beee=_0xa7b8c9,_0xa5e5b3=_0x213135['id']===activeShortcutTabId,_0x2431bb=_0x44beee(0x396),_0x2cc350=_0x44beee(0x4f2);return _0x44beee(0x874)+_0x213135['id']+_0x44beee(0x8f5)+(_0xa5e5b3?_0x2431bb:_0x2cc350)+_0x44beee(0xb4b)+_0x213135[_0x44beee(0x58e)]+_0x44beee(0x2d0)+_0x213135['name']+_0x44beee(0x15b)+(!_0x213135['isDefault']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x213135['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x44beee(0x7ad);})[_0xa7b8c9(0x986)]('');const _0x87d80d=shortcutTabs[_0xa7b8c9(0x4b3)](_0x5d38a7=>_0x5d38a7['id']===activeShortcutTabId);let _0x4263fe=[];if(_0x87d80d){if(_0x87d80d['isDefault'])_0x4263fe=[...blueprintShortcuts];else{const _0x4cd286=_0x87d80d[_0xa7b8c9(0x33a)]||[];_0x4263fe=blueprintShortcuts['filter'](_0x550e08=>_0x4cd286[_0xa7b8c9(0x1bc)](_0x550e08['id']));}}const _0x9bbabc=shortcutOrder[activeShortcutTabId]||[];_0x4263fe[_0xa7b8c9(0x3fc)]((_0x16e817,_0x4627bd)=>{const _0x5564cd=_0xa7b8c9,_0x562ac3=_0x9bbabc['indexOf'](_0x16e817['id']),_0x2f62dc=_0x9bbabc[_0x5564cd(0x617)](_0x4627bd['id']);if(_0x562ac3===-0x1)return 0x1;if(_0x2f62dc===-0x1)return-0x1;return _0x562ac3-_0x2f62dc;}),_0xa33678[_0xa7b8c9(0xd5e)]=_0x4263fe[_0xa7b8c9(0x7d2)]>0x0?_0x4263fe['map'](_0x2270df=>{const _0x229c2b=_0xa7b8c9;let _0x4d3e6d='🧩';if(_0x2270df['blueprintUrl']&&_0x2270df[_0x229c2b(0x72f)])_0x4d3e6d='📗';else{if(_0x2270df[_0x229c2b(0xa1c)])_0x4d3e6d='📘';}const _0x1e2fda=shortcutTabs['filter'](_0x49cc92=>!_0x49cc92[_0x229c2b(0x9f1)]),_0x230bd6=_0x87d80d['isDefault']&&_0x1e2fda[_0x229c2b(0x7d2)]>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e2fda[_0x229c2b(0x8ac)](_0x4f0195=>_0x229c2b(0x5a2)+_0x2270df['id']+'\x22\x20data-target-tab-id=\x22'+_0x4f0195['id']+'\x22>'+_0x4f0195[_0x229c2b(0x58e)]+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x229c2b(0x986)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0x229c2b(0xc1e)+_0x2270df['id']+_0x229c2b(0x6a1)+_0x4d3e6d+'\x20'+_0x2270df['name']+_0x229c2b(0x1f2)+_0x2270df['id']+_0x229c2b(0x35d)+_0x2270df['id']+_0x229c2b(0x76c)+(!_0x2270df['isDefault']?'<button\x20data-id=\x22'+_0x2270df['id']+_0x229c2b(0x239):'')+_0x229c2b(0x62f)+(!_0x87d80d[_0x229c2b(0x9f1)]?'<button\x20data-shortcut-id=\x22'+_0x2270df['id']+_0x229c2b(0x1e9):'')+_0x229c2b(0x62f)+_0x230bd6+_0x229c2b(0x1c0);})['join'](''):_0xa7b8c9(0x4be),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x80b92d=_0x3a9f7b;document[_0x80b92d(0x68f)](_0x80b92d(0xd0d))[_0x80b92d(0x2d3)](_0x51d108=>{const _0x372f59=_0x80b92d;_0x51d108[_0x372f59(0x59d)](_0x372f59(0x9fd),_0x507e82=>{const _0x41b753=_0x372f59;activeShortcutTabId=_0x507e82[_0x41b753(0xa58)]['dataset'][_0x41b753(0x56d)],renderAdditionalShortcutsModal();}),_0x51d108[_0x372f59(0x59d)](_0x372f59(0x46b),_0x27d7d2=>{const _0x55c1c6=_0x372f59,_0x2cbb58=_0x27d7d2['currentTarget'];_0x2cbb58['querySelector'](_0x55c1c6(0x9d3))['classList'][_0x55c1c6(0x930)](_0x55c1c6(0x772));const _0x229162=_0x2cbb58[_0x55c1c6(0x535)](_0x55c1c6(0x61d));_0x229162[_0x55c1c6(0x319)][_0x55c1c6(0xd08)](_0x55c1c6(0x772)),_0x229162[_0x55c1c6(0xa75)](),_0x229162[_0x55c1c6(0x8ea)]();});}),document['querySelectorAll']('.tab-name-input')[_0x80b92d(0x2d3)](_0x21b87a=>{const _0x418f83=_0x80b92d,_0x5d9723=()=>{const _0x4616ac=_0x57a1,_0x1ca71e=_0x21b87a[_0x4616ac(0x190)](_0x4616ac(0xd0d))['dataset'][_0x4616ac(0x56d)];handleRenameShortcutTab(_0x1ca71e,_0x21b87a['value']);};_0x21b87a[_0x418f83(0x59d)]('blur',_0x5d9723),_0x21b87a[_0x418f83(0x59d)](_0x418f83(0x6d3),_0x2ed4af=>{if(_0x2ed4af['key']==='Enter')_0x21b87a['blur']();});}),document[_0x80b92d(0x68f)](_0x80b92d(0x928))[_0x80b92d(0x2d3)](_0x570e7f=>{const _0x50d2b1=_0x80b92d;_0x570e7f[_0x50d2b1(0x59d)](_0x50d2b1(0x9fd),_0x4c1eb1=>handleDeleteShortcutTab(_0x4c1eb1[_0x50d2b1(0xa58)]['dataset']['tabId']));}),document['querySelectorAll'](_0x80b92d(0x9a9))['forEach'](_0x19c0f7=>{const _0x25e8f4=_0x80b92d;_0x19c0f7[_0x25e8f4(0x59d)](_0x25e8f4(0x9fd),_0x1221be=>{const _0x1ddc88=_0x25e8f4;_0x1221be[_0x1ddc88(0x3eb)]();const {shortcutId:_0x57dcfb,targetTabId:_0xc1badf}=_0x1221be[_0x1ddc88(0xa58)]['dataset'];handleMoveShortcutToTab(_0x57dcfb,_0xc1badf);});}),document['querySelectorAll'](_0x80b92d(0x5d7))['forEach'](_0x44700c=>{const _0x21f6f5=_0x80b92d;_0x44700c[_0x21f6f5(0x59d)](_0x21f6f5(0x9fd),_0x4af654=>{const _0x378870=_0x21f6f5;handleRemoveShortcutFromTab(_0x4af654[_0x378870(0xa58)][_0x378870(0x5e8)]['shortcutId'],activeShortcutTabId);});});const _0x4fde7e=document[_0x80b92d(0xc0e)](_0x80b92d(0x37b));_0x4fde7e[_0x80b92d(0x68f)](_0x80b92d(0x5df))[_0x80b92d(0x2d3)](_0x264af6=>{const _0x4aad42=_0x80b92d;_0x264af6[_0x4aad42(0x59d)](_0x4aad42(0x9fd),()=>{const _0x13592c=_0x4aad42;document[_0x13592c(0xc0e)](_0x13592c(0xc56))[_0x13592c(0x319)][_0x13592c(0x930)](_0x13592c(0x772)),handleShortcutClick(_0x264af6[_0x13592c(0x5e8)]['id']);});});let _0xaa337e=null;_0x4fde7e['addEventListener'](_0x80b92d(0x776),_0x18a09e=>{const _0x367fd2=_0x80b92d;_0xaa337e=_0x18a09e[_0x367fd2(0x697)][_0x367fd2(0x190)](_0x367fd2(0xbc)),_0xaa337e&&setTimeout(()=>_0xaa337e['classList']['add'](_0x367fd2(0x76e)),0x0);}),_0x4fde7e[_0x80b92d(0x59d)](_0x80b92d(0x15e),()=>{const _0x195278=_0x80b92d;_0xaa337e&&(_0xaa337e[_0x195278(0x319)]['remove'](_0x195278(0x76e)),_0xaa337e=null);}),_0x4fde7e[_0x80b92d(0x59d)](_0x80b92d(0xc67),_0x50dcc6=>{const _0xc762f1=_0x80b92d;_0x50dcc6[_0xc762f1(0x3eb)]();const _0x4d5439=[..._0x4fde7e[_0xc762f1(0x68f)](_0xc762f1(0x7d9))]['reduce']((_0x3cbf46,_0x18fdf9)=>{const _0x53945a=_0xc762f1,_0x16b048=_0x18fdf9[_0x53945a(0xb82)](),_0x353ba1=_0x50dcc6['clientY']-_0x16b048[_0x53945a(0xc1d)]-_0x16b048[_0x53945a(0x65c)]/0x2;return _0x353ba1<0x0&&_0x353ba1>_0x3cbf46[_0x53945a(0x343)]?{'offset':_0x353ba1,'element':_0x18fdf9}:_0x3cbf46;},{'offset':Number['NEGATIVE_INFINITY']})[_0xc762f1(0x960)];_0x4d5439==null?_0x4fde7e['appendChild'](_0xaa337e):_0x4fde7e['insertBefore'](_0xaa337e,_0x4d5439);}),_0x4fde7e[_0x80b92d(0x59d)](_0x80b92d(0xa3c),_0x141955=>{const _0x4768d4=_0x80b92d;_0x141955['preventDefault']();if(_0xaa337e){const _0x51b64c=[..._0x4fde7e[_0x4768d4(0x68f)](_0x4768d4(0xbc))]['map'](_0xcfe1f2=>_0xcfe1f2[_0x4768d4(0x5e8)][_0x4768d4(0x585)]);handleShortcutOrderChange(activeShortcutTabId,_0x51b64c);}}),document['querySelectorAll'](_0x80b92d(0xc8))[_0x80b92d(0x2d3)](_0x528ab0=>{const _0x1c5951=_0x80b92d;_0x528ab0[_0x1c5951(0x59d)](_0x1c5951(0x9fd),_0x5e9bcd=>{const _0x379f06=_0x1c5951;_0x5e9bcd[_0x379f06(0xc36)]();const _0xefd3d4=_0x5e9bcd['currentTarget'][_0x379f06(0x717)],_0x329cd6=_0xefd3d4['classList'][_0x379f06(0xa3b)](_0x379f06(0x772));document['querySelectorAll'](_0x379f06(0x1ef))[_0x379f06(0x2d3)](_0x1c5027=>_0x1c5027[_0x379f06(0x319)][_0x379f06(0x930)](_0x379f06(0x772))),_0x329cd6&&_0xefd3d4['classList'][_0x379f06(0xd08)]('hidden');});});}document['addEventListener'](_0x3a9f7b(0x9fd),_0x593b05=>{const _0x33b26b=_0x3a9f7b;!_0x593b05[_0x33b26b(0x697)][_0x33b26b(0x190)]('.group\x5c/dropdown')&&document[_0x33b26b(0x68f)](_0x33b26b(0x1ef))[_0x33b26b(0x2d3)](_0x177995=>_0x177995[_0x33b26b(0x319)][_0x33b26b(0x930)]('hidden'));});async function saveShortcutConfig(){const _0x10b407=_0x3a9f7b,_0x222668=doc(db,'globalSettings',_0x10b407(0x8e6));try{await setDoc(_0x222668,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x36651d){console['error'](_0x10b407(0xb9e),_0x36651d);}}async function handleAddShortcutTab(){const _0x2f74c0=_0x3a9f7b,_0x536f40=prompt(_0x2f74c0(0x859),_0x2f74c0(0x217));if(!_0x536f40||_0x536f40[_0x2f74c0(0xa0f)]()==='')return;shortcutTabs[_0x2f74c0(0x187)]({'id':_0x2f74c0(0x1f8)+Date[_0x2f74c0(0x62e)](),'name':_0x536f40[_0x2f74c0(0xa0f)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x405c25,_0x14a0ff){const _0x1b8922=_0x3a9f7b,_0x270b2c=shortcutTabs[_0x1b8922(0x4b3)](_0x4f4f04=>_0x4f4f04['id']===_0x405c25);_0x270b2c&&_0x14a0ff[_0x1b8922(0xa0f)]()!==''&&(_0x270b2c[_0x1b8922(0x58e)]=_0x14a0ff['trim'](),await saveShortcutConfig());}function _0x150e(){const _0x572245=['\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความต่อเนื่อง','includeImages','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','ทศนิยม\x20(ค่าประจำหลัก)','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','touchmove','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเฉลี่ย','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','left','รายการนี้','/studentProfiles','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','view-my-progress-btn','student-quiz-leaderboard-tab','cancel-move-quiz-btn','getElementById','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','file-shortcut_','shuffledQuiz','</li>','quiz-bank-modal','hasPerfectScoreBonus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','change','.delete-custom-topic-btn','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','preTScore','.edit-file-shortcut-btn','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','bg-gray-500','tGain','checkAnswer','lastAnswerIndex','.use-hidden-file-shortcut-btn','comparison','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','ติดซีรีส์','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-status-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','.move-parallel-shortcut-item','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','อัปเดตสถานะสำเร็จ','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','timed','lesson-plan-content','stopPropagation','fas\x20fa-star\x20text-yellow-500','ยอดเยี่ยม','ปิดระบบมั่นใจ\x20และเปลี่ยนเป็น\x20\x22เดิมพัน\x22\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x\x20ที่เดิมพัน)','then','<p\x20class=\x22font-bold\x20text-sm\x20','.pin-project-btn','กฎบวกและกฎคูณ','admin-dashboard','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','มุมพิเศษ\x2030°-60°-90°','grid','การแจกแจงทวินาม\x20(พื้นฐาน)','data:application/vnd.ms-word;charset=utf-8,','คนโสด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','open','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','icon','underline','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x20ชุดสำเร็จ!','groups','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','delete','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','ref','ระยะทางและจุดกึ่งกลาง','players.',')</span></div>','function','sync-timer-duration-container','additional-shortcuts-modal','rows','ตรีโกณมิติ','behavior-log-tab-btn',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','<div\x20style=\x22','bp-modal-difficulty-level-select','json','progress-student-select','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','round','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-file-shortcuts-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','.ideal-answer-input,\x20.correct-response-input','dragover','scratchpad-canvas','question-analytics-container','ไม่มี','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','quizType','close-game-final-btn','pairedQuizId','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','text/html','#file-shortcut-tabs-nav\x20.tab-name-input','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','close-student-rankings-btn','.remove-parallel-shortcut-from-tab-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','NEGATIVE_INFINITY','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','\x22>จาก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x22\x20data-quiz-id=\x22','next-question-timed-btn','pointermove','modal-close-btn','ondragend','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','grid-view-btn','สร้างแบบทดสอบปรนัย','/public/data/teamQuizzes','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','options','Error\x20fetching\x20project\x20quizzes:','เกิดข้อผิดพลาด:\x20','live-player-management','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','link-topic-input','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','pathname','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27forceConfident\x27.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','bg-yellow-200','post-test','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','all','fileShortcutOrder','on_fire','live-short-answer-input','cos','\x5cneq','results_','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','global-activity-modal','.remove-file-shortcut-from-tab-btn','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','ตัวประกอบและตัวประกอบเฉพาะ','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x20ตัวเลือก)','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','auto','สัญกรณ์วิทยาศาสตร์','competition','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','close-additional-file-shortcuts-btn','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','ฟังก์ชันเชิงเส้นและกราฟ','scratchpad-options','#add-question-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','score-distribution-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x20in\x20all\x20blueprint\x20projects.','hover:bg-indigo-100','นำแบบทดสอบออกจากคลังนี้แล้ว','manual-create-blueprint-btn','\x22\x20สำเร็จ','แคลคูลัสเบื้องต้น','Error\x20fetching\x20projects\x20for\x20move:','Error\x20saving\x20submission:','text-yellow-300','results-table','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','allResponses','<span\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีตัวช่วย</span>','promise','wasJinxed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','timer-duration-container','ระยะเวลา\x20(วินาที):','attemptNumber','นอนไม่พอ','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','ดาวTikTok','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','applicationContent','mousedown','admin','.file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</span>','content','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','Invalid\x20response\x20structure\x20from\x20API.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','difficultyValue','summaryContent','Error\x20saving\x20blueprint\x20project:','เกิดข้อผิดพลาดในการอ่านไฟล์','save-bp-reference-btn','.quiz-bank-parallel-btn','fiftyFifty','Error\x20generating\x20parallel\x20post-test:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','isConfidenceScoringEnabled','confirmation-modal','bottom','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.topic-category','href','ระบบสมการเชิงเส้นสองตัวแปร','หลังเรียน','per_question','lineJoin','ลบโปรเจค\x20\x22','mixed','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','lineWidth','</span>\x20','ปริพันธ์จำกัด','correctAnswerIndex','ยืนยันการจับคู่','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เส้นตรง:\x20รูปแบบสมการ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-btn','create-project-btn','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','Error\x20deleting\x20topic:','bp-modal-num-choices','answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','remove','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.shortcut-tab-btn','bulk-results-display-select','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการนำผู้เล่นออก','Error\x20generating\x20easy\x20version\x20quiz:','adaptive-quiz-checkbox','classStrengths','ย้าย','#000000','Error\x20analyzing\x20file\x20for\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','พื้นที่วงกลม/ส่วนของวงกลม','.delete-hidden-file-shortcut-btn','kick-player-btn','<tr\x20class=\x22','center','mjx-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','.move-quiz-btn','หนอนหนังสือ','คำถามดิบ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','onload','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','[data-topic-id]','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','ownerSVGElement','การลบเศษส่วน','rename-quiz-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20จุดเรียบร้อยแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(คู่ขนาน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','move-quiz-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','market-item-list','เกิดข้อผิดพลาดในการลบแบบทดสอบ','rgba(239,\x2068,\x2068,\x200.7)','list-view-btn','แบบทดสอบ:\x20','timer-duration-label','projectId','.delete-parallel-shortcut-btn','touchcancel','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','มุมและการวัดมุม','quiz-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','code','confirm-game-start-btn','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','close-lesson-plan-modal-btn','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x22\x20value=\x22true\x22\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','STOP','Enter','show_results_and_answers','$$$1$','%</span>','ค่าเสื่อมราคา','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','commit','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','.pdf','undefined','cancel-create-project-btn','บักแตงโม','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','question-complexity-select','destroy','innerHTML','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','move-quiz-modal','use-powerup-poll','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?','.project-card-content','confirm-quiz-settings-btn','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','Attempting\x20to\x20save\x20game\x20results...','แผนการสอน','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','team-player-status-grid','.move-parallel-shortcut-menu-btn','playerName','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','เกี่ยวกับหัวข้อ\x20\x22','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button></div>','leaderboard_','<span\x20title=\x22ใช้ส่องสถิติในตานี้\x22>📊</span>','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','#FEF3C7','กำลังเตรียมไฟล์...','passcode','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Blueprint\x20O-NET\x20ป.6','parallel-default-','ไม่พบข้อมูลการจับคู่','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20','auto-fix-latex-btn','ไม่พบแบบทดสอบในระบบเลย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','.live-summary-tooltip.visible','ราชาคัมแบ็ก','admin-password-input','bp-modal-num-questions','transition','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','playerNicknames','%PDF','.lastAnswerIndex','live-game','confidence-mode-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','closePath','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','word-break:\x20break-all;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','_opt1\x22\x20name=\x22question','parallel-shortcut_','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','clientX','.shortcut-list-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','\x20สำเร็จ','27411472','parallel-shortcut-container','แปลงร่าง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','specialist','แมวเก้าชีวิต','ยอดนักสืบ','.move-shortcut-menu-btn','fa-rocket\x20text-purple-500','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','Error\x20generating\x20from\x20parallel\x20test\x20file:','Error\x20saving\x20user\x20preference:','อนุพันธ์:\x20กฎพื้นฐาน','พบข้อสอบ\x20','modal-loop-until-pass-checkbox','bulk-quiz-settings-modal','players','project-list','หน่วยเวลาและการคำนวณเวลา','end-game-btn','setAttributeNS','font-bold\x20text-green-700','getTime','newOptions','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','<p\x20class=\x22text-xl\x22>','mouseup','q-explanation-','handleGenerateQuizFromBlueprintTopic','มือปราบสายรุ้ง','update','<div\x20id=\x22q-image-container-','จำนวนข้อ:','submit-team-answer-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','highlighter-size-slider','เน็ตช้า','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','อนุพันธ์:\x20ผลคูณ/ผลหาร','[data-field=\x22subTopic\x22]','s;\x22\x20title=\x22','การหารเศษส่วน','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','after','splice','จำนวนนักเรียน','reveal_at_end','viewBox','.parallel-quiz-btn','ลำดับเลขคณิต\x20(AP)','Error\x20in\x20handleApiCall:','\x22\x20name=\x22confidence','Failed\x20to\x20apply\x20forceConfident:','th-TH','กำลังสร้างแบบทดสอบ\x20\x22','\x22><p\x20class=\x22font-semibold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','STRING','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','parallel-shortcut-editor-modal','ARRAY','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','default-2','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','download','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-team-selection-view','</tbody></table></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-view','svg','\x22\x20class=\x22color-palette-btn\x20','modal-adaptive-quiz-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','สมการค่าสัมบูรณ์','\x22>ไม่ใช่</p>','ไม่พบไฟล์\x20Test\x20Blueprint','กรุณาเลือกโปรเจคก่อน','Error\x20listening\x20for\x20projects:','answering','ต้นฉบับ\x201','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','application','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปคะแนน\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointer-events-none','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','<tr>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','random','getPage','<i\x20class=\x22fas\x20fa-pen\x22></i>','smooth','selected-answer-index-hidden','shuffle','ดูผลสรุปสุดท้าย','generationConfig','.ai-content\x20li','team-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบสำเร็จ','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','ถูกต้อง!','modal-message','.kick-player-btn-sync','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','การนับ','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','Error\x20saving\x20settings:','240','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','project-name-input','getElementsByTagName','projectName','ทฤษฎีบทพื้นฐานของแคลคูลัส','text-blue-700\x20bg-blue-100','correctAnswer','uid','topics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','file-default-1','submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','message','back-to-dashboard-from-results-btn','parentElement','การยืนยันตัวตนล้มเหลว','label[for=\x22num-questions\x22]','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','additional-parallel-shortcuts-modal','\x20/\x20','เกิดข้อผิดพลาดในการบันทึกโปรเจค','.export-pdf-list-btn','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','กรุณาเลือกคำตอบของกลุ่ม','.edit-quiz-btn','show-in-student-dashboard-checkbox','นินจาชาเขียว','topic','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','</tr>','<p\x20class=\x22','pointsLastQuestion','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wakeLock','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','dragend','autoTable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','upperGroupNames','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','topic-tab','msRequestFullscreen','เหมียวขี้เซา','%)\x0a','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ตัด\x201\x20(','เกิดข้อผิดพลาดในการบันทึก','typesetPromise','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22use-powerup-poll\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>สถิติ\x20(','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','substr','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คะแนนเต็ม!','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>💰\x20เดิมพัน\x20(','สมการเชิงเส้นตัวแปรเดียว','fa-dumbbell\x20text-gray-700','ข้าวมันไก่พิเศษ','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ondrop','</option>','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','</tbody></table>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','data','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','COMEBACK_KING','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classic','scheduled_pending','<div\x20class=\x22my-6\x22>','push','team','PERFECT_SCORE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','verify-answers-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การปัดเศษและประมาณค่า','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','closest','กรุณาเลือกคำตอบก่อนครับ','\x5cle','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.buy-time-confirm-btn','overallGroups','readAsArrayBuffer','check-presentation-answer-btn','พอใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','ปิดใช้งาน','export-lesson-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x22\x20ออกจากคลังนี้?','\x22><span\x20style=\x22','application/json','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','ไม่พบตารางสำหรับ\x20Export','isAnonymousRevealed','password-error-msg','404\x20Not\x20Found','จับคู่แบบทดสอบสำเร็จ!','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference_onet.pdf','พิสัย','delete-all-students-btn','กรุณาสร้างบทเรียนก่อน','.shortcut-btn','blur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ศูนย์','parallel-shortcuts-loading-msg','live-player-list','.group','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','Error\x20toggling\x20star\x20status:','คะแนนเต็ม','Failed\x20to\x20generate\x20practice\x20test:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','โลมาบิน','setTransform','includes','\x20คะแนน\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','geq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','toLocaleString','ผู้เล่นใหม่\x20','print','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','file-shortcut-editor-modal','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','.topic-name-display','sync-variant-selector','parent','toISOString','---\x20[คำถามใหม่]\x20---','file-topics-list-container','.answers','ทะเล','redo-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','currentMode','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','suggestedAnswer','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','join-live-game-btn','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','<option\x20value=\x22','lastAnswerCorrect','text-red-600','close-lesson-view-btn','.auto-resize-textarea','touches','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','...\x22)?','(นำโด่ง)','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','Error\x20fetching\x20lesson\x20content:','reference.pdf','use-powerup-','.move-shortcut-dropdown','/users/','sync-timer-enable-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','tab_','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','exists','onloadend','manual-bp-grade-level','ความชันและเส้นตรง','กำลังเตรียมไฟล์อ้างอิง...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','translate(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#open-additional-file-shortcuts-btn','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','ไม่พบเกมที่กำลังเข้าร่วม','manage-tab','\x20|\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/10','⚡️\x20ตัด\x201\x20ตัวเลือก','timerDuration','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','/preferences/main','multiple_choice','gradeLevel','รูปสี่เหลี่ยมและสมบัติ','#open-additional-shortcuts-btn','difficulty-level-select','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','แท็บใหม่','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','<h1></h1>','ช่างภาพ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','index','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','.move-file-shortcut-dropdown','previousElementSibling','hint','คะแนนยังไม่ถึงครึ่ง','รีเซ็ตลำดับโปรเจคแล้ว','bg-red-500\x20text-white\x20font-bold','77PxvpFc','blueprint-shortcut-container','<tr><td\x20colspan=\x22','powerupUsed_q','สร้างคำถามแบบเติมคำในช่องว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20x','shouldSaveResults','กรุณาเลือกคำตอบ','instructions','Error\x20saving\x20parallel\x20shortcut\x20config:','เกิดข้อผิดพลาดในการปักหมุด','ไม่ผ่าน','\x20to\x20blueprint\x20topic\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.score','num-choices','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','comparison-modal','Error\x20regenerating\x20question\x20in\x20editor:','worksheet-input-area','.unpair-quiz-btn','startsWith','powerupUsedThisTurn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20Points)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตพฤติกรรมสำหรับ\x20','student','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','getItem','restore','(ก่อนเรียน)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','questionStatus','กระต่ายตื่นตูม','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','file-default-','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','/submissions','fileShortcutsConfig','/public/data/quizzes/','quiz-editor-modal','sync-short-answer-input','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','cloneNode','/public/data/syncGames','per-question-text','file-shortcut-container','.bp-unlink-quiz-btn','หัวข้อที่สร้างเอง','.delete-question-editor-btn','highlighter-tool-btn','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','ON_FIRE','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','move','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','Failed\x20to\x20end\x20group\x20mode\x20game:','#F59E0B','topics.','math-topic-search-input','use-powerup-forceConfident','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','fromCharCode','.cancel-edit-topic-btn','lower_group_count','insertBefore','stringify','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','parallel-shortcut-modal-title','ท้องฟ้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20generating\x20lesson\x20plan:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','ไม่พบข้อมูลข้อสอบหลังเรียน','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#D1FAE5','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','trail','/public/data/blueprintProjects/','toLocaleDateString','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','48lMSbQx','.bp-delete-topic-btn','handleGenerateAndShowLesson','newOptionsPayload','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','findIndex','confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','close-topic-bank-btn','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','pin','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','requestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20กลับเข้าสู่เกม!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','พิมพ์ตอบ','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','mode-switcher-btn','อัตราการเปลี่ยนแปลงทันที','student-quiz-topic','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','.lastAnswerCorrect','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','px)\x20scale(','.quiz-bank-settings-btn','text-gray-700','Error\x20generating\x20parallel\x20test\x20from\x20bank:','every','far\x20fa-star','กำลังดึงไฟล์อ้างอิงจากลิงก์...','จุด\x20เส้น\x20ระนาบ','readAsDataURL','dimmed','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','):\x20','learningGaps','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','สายหมอก','responses','confirmation-message','Error\x20processing\x20shortcut\x20click:','bg-red-50','passing-score-input','shadowBlur','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','live-options-container','description','.isScored','16280ZkShvF','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','Auto-linking\x20new\x20quiz\x20','webkitExitFullscreen','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','ต้นฉบับทั้งหมด','onSecondChance','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','.live-answer-btn,\x20#sync-submit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','subTopics','blueprint-upload-input','_opt0\x22\x20name=\x22question','get','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','quiz-leaderboard-table-body','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-results-display-select','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show_results_only','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','short_answer','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','forEach','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','questionDisplayedAt','choices_only','size','open-market-btn','Error\x20starting\x20group\x20quiz:','การเรียงสับเปลี่ยน\x20(Permutation)','export-pdf-modal','approx','show-leaderboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','tan','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','รอเปิด','warn','scale','กราฟฟังก์ชันตรีโกณ','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการตรีโกณมิติ','not_generated','leaderboard','raw','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenElement','modal-confidence-mode-select','\x22\x20name=\x22question','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-project-btn','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x27\x20ในหัวข้อ\x20\x27','arrayBuffer','</span></td>','<div\x20class=\x22mb-3\x20topic-category\x22>','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','keyConcepts','prev-question-btn','candidates','bp-modal-passing-score-input','add-file-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallelShortcutTabs','isStarred','P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallelTestShortcutsConfig','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','passcode-prompt-message','file-shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','timer-duration-input','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ศิลปิน','ตรวจคะแนนใหม่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','live-game-view','ไม่มีผู้ตอบตัวเลือกนี้','globalSettings','กรุณาเลือกชื่อของคุณ','เกิดข้อผิดพลาดในการใช้ไอเทม\x20(PData)','classList','perseverance','ดีเทอร์มิแนนต์','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','สู้ๆ\x20ลองอีกครั้งนะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parentNode','latestScore','parts','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันผกผัน','passingScore','ความแปรปรวน','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','Error\x20updating\x20old\x20quizzes:','removeItem','ไอติมทอด','สามเหลี่ยม\x20(ชนิด/สมบัติ)','Remedial\x20quiz\x20generation\x20failed:','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','showInStudentDashboard','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','.csv','line-height:\x201.3;\x20min-width:\x200;','มี\x20Points\x20ไม่เพียงพอ','start-sync-game-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','isAdaptive','\x22\x20จำนวน\x20','onkeydown','shortcutIds','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','กำลังสร้างแบบทดสอบจากหัวข้อ...','_new','totalPoints','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','0\x20(รอโบนัส)','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','offset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollY','quizId','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','confidence-scoring-toggle','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','ไม่พบโปรเจค','[*]','</h4>','.quiz-bank-checkbox:checked','market-timer-bar','input[name=\x22syncVariant\x22]:checked','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','Failed\x20to\x20resume\x20game\x20session:','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','.delete-quiz-btn','math-topics-checkbox-container','ดาวสภา','admin-try-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','.file-shortcut-btn[data-id=\x22','lastIndexOf','live-submit-short-answer-btn','</div><div\x20class=\x22space-y-2\x22>','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','admin-testing','👻\x20บังคับมั่นใจ','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','การจัดกลุ่มข้อมูล','save-project-name-btn','rename-quiz-modal','blueprintShortcuts','ยังไม่ส่ง','loop-until-pass-checkbox','student-team-join','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','student-initial-view','ไม่พบข้อมูลผู้ใช้','แผนการสอน:\x20','</form>','.project-card-container','student-name-selection-view','เพิ่ม\x20','100%','isBlackMarketEnabled','ห.ร.ม.\x20(GCD)','confirm-game-start-modal','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','entries','ความเท่ากันทุกประการของสามเหลี่ยม','bg-yellow-50','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-shortcuts-list','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','Error\x20creating\x20project:','user','4MebPeq','MathJax\x20typeset\x20error\x20(analytics):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','input[type=\x22radio\x22][value=\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','GlobalWorkerOptions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','input[name=\x22question_single\x22]:checked','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','#retake-for-improvement-btn','file-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ลำดับเรขาคณิต\x20(GP)','showImproveButton','comparison-individual-content','#DBEAFE','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-800','border-indigo-500\x20text-indigo-600','save','bg-green-200','showAnswerInAnonymous','<br>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','การแยกตัวประกอบ','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','lesson-plan-modal','correctResponse','input[type=\x22checkbox\x22]:checked','hint-btn','test','clearRect','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','save-blueprint-as-project-btn','helvetica','ไม่พบข้อมูลหัวข้อที่จะบันทึก','getTextContent','reset-project-order-btn','values','scratchpad-header','open-scratchpad-btn','Powerup\x20use\x20failed:','กำลังค้นหากิจกรรม...','.delete-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การกระจายและการจัดหมู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','bulk-shuffle-select','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','points','ข้อ\x20','text-green-600','จำนวนและการดำเนินการ','lesson-loader-text','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','กำลังสร้างคำถามข้อ\x20','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','QUICK_THINKER','binom','imageCode','loader-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','circ','parallel-default-1','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','groups.','ไม่สามารถโหลดข้อมูลอันดับได้','เกิดข้อผิดพลาดในการสร้าง:\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','หมดเวลา!\x20กำลังส่งคำตอบ...','ตรวจทานเฉลยเสร็จสิ้น!','<p>','bg-red-100\x20text-red-800','endsWith','.generate-easy-version-btn','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม',';\x22\x20data-id=\x22','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','Error\x20displaying\x20blueprint\x20project:','bg-blue-100\x20text-blue-800','latestSubmittedAt','รอ...','confidence-input-','rgba(239,\x2068,\x2068,\x200.9)','removeEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22]:checked','ส่วนเบี่ยงเบนมาตรฐาน','lives','ระบบเลขและค่าประจำหลัก','New\x20question\x20detected.\x20Clearing\x20powerup\x20flags.','preventDefault','ควรปรับปรุง','Error\x20toggling\x20pin\x20status:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','input[type=\x22text\x22]','\x20จาก\x20','bank-quiz-search-input','file-shortcut-id-input','.answered','SAFETY','Error\x20deleting\x20project:','schedule','ธอร์ค้อนบิน','slice','ผู้เชี่ยวชาญ','transform','unshift','sort','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','สลับไปโหมดผู้ควบคุม','\x20mb-2\x22>','สรุปผลการวิเคราะห์:\x5cn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','additional-file-shortcuts-list','ดอทโปรดักต์\x20(dot)','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','scrollHeight','\x5csqrt{$1}','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','bulk-confidence-scoring-checkbox','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','</td></tr>','แบบทดสอบจากคลังส่วนตัว','\x22\x20data-q-type=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','ฟังก์ชันสัมพัทธ์\x20(rational)','use-powerup-buyTime','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','parallel-default-2','กำลังอ่านและเตรียมไฟล์...','default','blockReason','currentQuestionIndex','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','shortcut-tabs-nav','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','date_asc','\x20ชิ้น)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','isLooping','modal-confidence-scoring-checkbox','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.pair-quiz-btn','สเกลและแผนที่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','สร้างชุดคำถามจับคู่','\x22\x20data-topic=\x22','duration-300','text-purple-600','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','open-sync-scratchpad-btn','right','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความชันเส้นสัมผัส','ตะวันฉาย','results-table-container','\x20หัวข้อ)','-options','แอบชอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','parallel-shortcut-name-input','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','manual_release','แบตหมด','sync','เรขาคณิต','no-projects-msg','Error\x20updating\x20sort\x20preference:','bg-teal-500\x20hover:bg-teal-600\x20text-white','use-powerup-jinx','</span><span\x20class=\x22font-bold\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','กำลังสแกนหาแบบทดสอบเก่า...','516499432840','setAttribute','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิตวิเคราะห์','fill_in_with_choices','ชีสเค้ก','wager-max-points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','topic_','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','.game-start-btn','value','blob','.live-answer-btn,\x20#live-submit-short-answer-btn','global-activity-quiz-list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ใช่\x20/\x20ถูก','bg-green-100\x20text-green-800','\x22>(','file.txt','<div\x20class=\x22space-y-4\x22>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-choices-container','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','.subTopic','desc','blueprint-topics-list','.delete-svg-btn','label','.ai-content\x20h3','<li\x20class=\x22','sync-timer-bar','checkbox','cutOne','สร้างแล้ว','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','dblclick','totalQuestions','confidence-scoring-description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','summary_chart','.parallel-shortcut-btn','qType','wasForced','asc','.project-card-container[data-id]','mousemove','newappai.firebasestorage.app','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','</td>','confirm-join-game-btn','Copy\x20command\x20failed','questionText','.linkedQuizIds','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','text-green-700\x20bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','export-word-btn','pointContent','กรุณาเลือกสถานะ','</p><div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','cancel-test-btn','false','floor','shuffle-setting-select','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','สมการลอการิทึม','bg-green-200\x20text-green-900\x20font-bold','answerValue','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','reset-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','match','mode','<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','สมการเหตุผล\x20(rational)','btn','numQuestions','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter','.confidence-choice-btn','fixed','บทเรียนเรื่อง:\x20','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','answerText','sync-timer-countdown','topicId','use-powerup-secondChance','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','close-additional-shortcuts-btn','mouseleave','shortcutTabs','numChoices','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','find','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','โจรสลัดอวกาศ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จอมเวทย์ขนมหวาน','Original\x20quiz\x20not\x20found','project-search-input','ระยะจากจุดถึงเส้นตรง','student-progress-view','text-blue-700','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','เกมเมอร์','quizMode','993411MLUqXk','add-shortcut-tab-btn','disabled\x20bg-gray-400\x20cursor-not-allowed','อัศวินรัตติกาล','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','<li>','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div></div>','\x20ชุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','quiz-search-input','แก้ระบบสมการด้วยเมทริกซ์','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','.txt','#results-table\x20thead\x20tr','hiddenOptions_q','anon-settings-container','bg-green-100','.lastAnswerValue','สำหรับหัวข้อ\x20\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','bulk-confidence-mode-select','upperGroupResponders','times','bulk-loop-until-pass-checkbox','student-quiz-leaderboard-table-body','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','.bp-create-topic-quiz-btn','message-modal','deselect-all-topics-btn','error','กรุณาเลือกโปรเจคปลายทาง','quick_thinker','back-to-dashboard-from-bp-btn','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','results','/lessons','input[name=\x22status-option\x22]:checked','<option\x20value=\x22\x22>กำลังโหลด...</option>','2-digit','ทำคะแนนได้เกินครึ่ง','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x5cfrac{$1}{$2}','\x20to\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','anonymous','\x22\x20name=\x22drill_answer\x22\x20value=\x22','scratchpad-controls','ตัวแทนแห่งดวงจันทร์','พีชคณิตและฟังก์ชัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','shadowColor','reference-pdf-upload','หัวข้อหลักใหม่','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','.question-editor-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','realScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.quiz-status-btn','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','quiz-generation-area','บันทึกโปรเจค\x20\x22','explanation','per-question-options','passcode-input-container','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','#open-additional-parallel-shortcuts-btn','บันทึกการตั้งค่าแล้ว','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','results-display-select','bp-modal-include-images-checkbox','frac','.question-editor-item[data-q-index=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','draggable-text','ในข้อนี้\x20ถ้าคุณตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','.bp-present-btn','\x22.\x20','list','มุมพิเศษ\x2045°-45°-90°','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','parallel-test-input-area','set','progress-project-select','secondChance','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ceil','_blank','additional-parallel-shortcuts-list','podium','numPages','line-through\x20text-red-700','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','การแปลงรูปอัตลักษณ์','textarea[name=\x22team_answer\x22]','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','Error\x20committing\x20score\x20updates:','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','querySelector','question','เส้นตรง:\x20ขนาน/ตั้งฉาก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','Error\x20renaming\x20quiz:','bg-red-500','moveTo','ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','save-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','Error\x20analyzing\x20blueprint\x20topics:','authed_project_','pinned-items','ลำดับการดำเนินการ\x20(PEMDAS)','คะแนนเฉลี่ย','อนุพันธ์:\x20กฎลูกโซ่',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','strokeStyle','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','\x0a---\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการจับคู่','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','getBBox','ออฟฟิศซินโดรม','พลังคลื่นเต่า','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','กัปตัน','setFont','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','text-gray-500','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','bp-modal-quiz-type-select','file-shortcut-tabs-nav','presentation-scratchpad-btn','กำลังสร้างรูปภาพ...','stdDev','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','กำลังอัปเดตแบบทดสอบ\x20','endTime','tabId','true_false','className','อุณหภูมิและการแปลง','.presentation-option','add-shortcut-btn','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','key','เพิ่มปุ่มลัดใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เลือกผู้เล่น\x201\x20คน\x20ให้ถูกบังคับ\x20\x22มั่นใจ\x22\x20ในข้อนี้','commonMistakes','cancel-bulk-quiz-settings-btn','pointerup','กฎของไซน์','attempts','start-quiz-btn','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shortcut-id-input','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','file-topics-list','not_confident','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','shortcutId','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','student-join-game-view','\x22\x20data-name=\x22','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','text-emerald-800','name','projectView','</strong></div>','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','เกิดข้อผิดพลาดในการซื้อ','fa-bolt\x20text-blue-500','\x0a\x20\x20\x20\x20','insertAdjacentHTML','ม้าดีดกะโหลก','\x5cdiv','offsetWidth','.parallel-shortcut-tab-btn','screen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','results-quiz-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','file-shortcut-url-input','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','parallel-shortcut-tabs-nav','generated','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','dfrac','generate-worksheet-btn','ไม่ได้ตอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','standard','leaderboard-quiz-tab-content','ฟังก์ชันพหุนาม','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','resultsDisplay','#parallel-shortcut-tabs-nav\x20.tab-name-input','Blueprint\x202','.bp-edit-topic-btn','บันทึกคำถามใหม่\x20','confirm-move-quiz-btn','powerups','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','div[data-question-index=\x22','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','file.pdf','starred','ondragstart','confidence-scoring-checkbox','bank-input-area','คัดลอกแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-2\x20justify-center\x20items-center\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x22></i>\x20ตลาดมืด\x20(มี\x20','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','createdAt','.copy-quiz-id-list-btn','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-input','parallel-shortcut-url-input','targetId','student-name-input','.compare-results-btn','generated-quiz-container','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beforeend','generate-from-link-btn','แก้ไขหัวข้อสำเร็จ','เกิดข้อผิดพลาดในการส่งคำตอบ','bg-red-200\x20text-red-800','lowerGroupResponders','#results-table','.remove-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','Error\x20confirming\x20players\x20for\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','AI\x20Formula\x20Fix\x20Error:','.use-hidden-shortcut-btn','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','Error\x20joining\x20live\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ\x20(ยกเว้น\x20\x27ซื้อเวลา\x27)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','ตัวเลือก\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','dataset','Error\x20during\x20blueprint\x20link\x20cleanup:','Error\x20deleting\x20shortcut:','save-game-results-checkbox','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไป\x20','close-market-btn','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.admin-try-quiz-list-btn','update-old-quizzes-btn','pen-tool-btn','ปริมาตร/ความจุและการแปลง','Failed\x20to\x20apply\x20jinx:','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','.move-file-shortcut-item','name_desc','confirm-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','source_document.txt','.file-topic-selection-btn','.scratchpad-content-wrapper','#FCE7F3','.duplicate-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','retake-quiz-loop-btn','files','กาแฟขม','แฟนทิพย์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','Error\x20deleting\x20custom\x20topic:','handleGeneratePracticeTest','body','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','เกิดข้อผิดพลาดในการติดดาว','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','student-progress','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','.rename-quiz-btn','shortcut-editor-modal','str','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','link-tab','game-start-modal-title','indexOf','bg-black/20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.star-quiz-btn','.tab-name-input','ai-quiz-generator-v3','fill_in_no_choices','px,\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','disabled','file-shortcuts-loading-msg','hasOwnProperty','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x22\x5cn','bg-green-500\x20hover:bg-green-600\x20text-white','กำลังจับคู่...','cancel-quiz-edits-btn-footer','5638408jNIDuz','fa-fire\x20text-orange-500','fas\x20fa-bookmark','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','jinx','Error\x20during\x20deep\x20delete:','สิงโตยิ้ม','textarea','class','div','.group\x5c/dropdown-parallel','mandatory','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','table','Error\x20rendering\x20student\x20progress:','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','not-found','.file-shortcut-tab-btn','baseVal','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','keys','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','scores-tab-btn','ยกเลิกการเชื่อมโยงสำเร็จ','สมการราก\x20(radical)','bg-red-700\x20text-white\x20font-bold','editor-quiz-topic','behavior-log-tab-content','player-count','confidence','student-back-to-home-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สาระที่\x201','\x22.\x20Ideal\x20Answer:\x20\x22','Error\x20listening\x20for\x20starred\x20quizzes:','backgroundColor','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x5cpm','Error\x20calling\x20Gemini\x20API:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','answer-grid-container','confirm-link-quiz-btn','true','height','Error\x20deleting\x20all\x20students:','confidence-modal','bg-green-500','project-title','Blueprint\x201','1:516499432840:web:7b2a9a571fad2e3d68463d','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','.status','next-question-btn','text-gray-300\x20hover:text-white','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','earned-badges-container','bp-modal-question-complexity-select','.use-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ...','/public/data/customMathTopics','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','หมูกระทะจะเยียวยาทุกสิ่ง','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','สร้างโปรเจคสำเร็จ!','border-red-300\x20bg-red-50','\x27,\x20\x27','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','Error\x20generating\x20teaching\x20content:','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','generate-from-text-btn','#student-project-leaderboard-content\x20thead','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','Failed\x20to\x20generate\x20lesson:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-crown\x20text-yellow-500','modal-shuffle-select','team-student-list','responses.','ผู้ควบคุม\x20(ทดสอบ)','.edit-parallel-shortcut-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','ค่าสัมบูรณ์','ฟังก์ชันแบบชิ้นส่วน','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x22\x20value=\x22false\x22\x20','POST','use-powerup-insurance','ระยะเวลา\x20(นาที):','solution','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','querySelectorAll','ผลรวมอนุกรม\x20(Σ)','global-quiz-search-input','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','ลบผลสอบของ\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','usedPoll','justification','target','(กำลังไล่ตาม)','cancel-export-pdf-btn','กำลังอ่านไฟล์อ้างอิง...','.isForcedConfident','Error\x20processing\x20file\x20shortcut\x20click:','ยกเลิกการจับคู่สำเร็จ','confirm-create-project-btn','ต้นฉบับ\x202','badgesCount','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','คู่จิ้น','</select>','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','\x20วินาทีสำหรับข้อนี้','student-reading-area','[data-topic-id=\x22','border-green-300\x20bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','toString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','textarea[name=\x22question_single\x22]','flex\x20flex-col\x20gap-2','เปิด\x20(จับเวลา)','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','เกมสิ้นสุดลงแล้ว','pinnedProjects','เปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','Error\x20adding\x20custom\x20topic:','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','รหัสไม่ถูกต้อง','cancel-quiz-settings-btn','save-shortcut-btn','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','modal-timer-duration-label','ค.ร.น.\x20(LCM)','นักเขียน','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','project-detail','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','q-text-','freeMarketEntryUsed_q','user-id-display','text-yellow-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-2\x20rounded-md\x20','appendChild','display','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x22\x20title=\x22','next-sync-question-btn','keydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','timer-bar','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teacherSuggestions','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','</a>','generate-from-file-btn','parallel-test-tab','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','bg-gray-100\x20opacity-70','คาถาแยกเงาพันร่าง','player-list-lobby','Error\x20listening\x20for\x20custom\x20math\x20topics:','นกฮูกกลางวัน','ดอกเบี้ยทบต้น','MathJax','parallel-test-upload-input','คณิตการเงิน/บูรณาการ','both','หยุดระบบจับเวลาหรี่หน้าจอ','อินฟลูเอนเซอร์','เศษส่วน\x20(ย่อ/ขยาย)','ตารางความถี่','\x22\x20name=\x22team_answer\x22\x20value=\x22','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','pointercancel','text-green-800','สร้างคำถามใหม่\x201\x20ข้อ\x20','</button>','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','</strong></p>','<button\x20data-shortcut-id=\x22','บันทึกการแก้ไข','scores-tab-content','open-quiz-bank-btn','confirm-quiz-status-btn','export-worksheet-pdf-btn','textContent','...','score','fullscreenchange','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','scratchpad-clear-btn','\x20</div>\x0a\x20\x20\x20\x20','เสือซ่อนเล็บ','toLowerCase','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>แก้ตัว\x20(','save-parallel-shortcut-btn','back-to-results-btn','cancel-wager-btn','ผู้เล่น\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','ผ่าน','lowerGroupNames','.summary-bar-item','อยู่ในหัวข้อหลักใด:','ชาไข่มุก','Successfully\x20removed\x20','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','text-white','some','open-blueprint-projects-btn','analytics-tab-content','</label></div>','ondblclick','nextElementSibling','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','Failed\x20to\x20create/update\x20submission\x20record:','category','FIRST_TRY_ACE','quiz-leaderboard-table','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>','ไอรอนแมน','visibilityState','Error\x20starting\x20team\x20quiz:','generate-from-topic-btn','จัดการ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','button[type=\x22submit\x22]','bg-indigo-600\x20hover:bg-indigo-700','🛡️\x20ประกันภัย','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','blueprint-options-container','ยอดเยี่ยม!','export-image-btn','student-project-leaderboard-table-body','referenceUrl','grabbing','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','):\x20ฟรี','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','toDataURL','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','อสมการเชิงเส้น','confirm-team-players-btn','กรุณาพิมพ์คำตอบของกลุ่ม','1693417kcDLaj','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','Error\x20saving\x20quiz\x20edits:','shortcuts-loading-msg','student-quiz-leaderboard-content','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','use-powerup-wagerMultiplier','#e21b3c','2047764KQOsau','bg-[#DCFCE7]\x20text-green-900','topic-quiz-bank-modal','select-all-topics-btn','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','หมีขั้วโลกใต้','Error\x20confirming\x20players:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','subTopic','topic-input-area','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','ไม่พบเอกสารการส่งงานของ\x20','quiz-results','quiz-leaderboard-table-container','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','end-team-quiz-btn','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','active','Error\x20saving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pow','AI\x20แก้ไขคำถามสำเร็จ!','text-red-500\x20hover:text-red-700','เกิดข้อผิดพลาดในการใช้ตัวช่วย','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','.powerups.','student-quiz-area','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','wagerMultiplier','null','separate-by-content-from-file-checkbox','bg-green-50','cancel-global-activity-btn','has','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-modal','opacity-50','text-emerald-900','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','leaderboard-table-body','hidden','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','แบบปรนัย\x204\x20ตัวเลือก','การวัด','dragstart','Error\x20updating\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ยกเลิกการใช้ไอเทม\x20(ไอเทมถูกคืนให้แล้ว)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.open-bp-project-btn','bulk-confidence-mode-container','จากเนื้อหาต่อไปนี้:\x20\x22','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','0\x200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x20pointer-events-none\x22>','sync-timer-duration-input','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์',')\x22><span\x20style=\x22','gameData','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','reduce','กำลังสร้างแบบทดสอบ:\x20','back-to-student-home-btn','jspdf','pre-test','ฐานนิยม','การบวกเศษส่วน','N/A','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20แล้ว!','(ฉบับง่าย)\x20','order','มัธยฐาน','add-student-btn','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','original-mode-checkbox','beginPath','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','Team\x20Quiz','bg-red-100','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','cdot','text-blue-800','.doc','👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่','เกิดข้อผิดพลาดในการลบผลสอบ','pen','generate-from-blueprint-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','separate-by-content-checkbox','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','wager-slider','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','decode','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','เข้าตลาดมืดครั้งแรก\x20(ข้อ\x20','เลือกผู้เล่นที่จะ\x20\x22สาป\x22\x20(ใส่ตัวเลข):\x0a','-options\x22>','confirm-admin-login-btn','confidence_single','เส้นจำนวน','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)</span></td>','gameVariant','bg-emerald-100','Error\x20saving\x20game\x20results:','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','คณิตศาสตร์','lesson-view-title','หน่วยความยาวและการแปลง','.bp-try-btn','#6366F1','teacherTips','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','questionType','sync-player-management','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','project-sort-select','confidenceMode','num-questions','cancel-quiz-bank-btn','file-shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','length','scratchpad-question','.topic-actions-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','.shortcut-list-item:not(.opacity-50)','parse','submit','perfect_score_status','padStart','Market\x20entry\x20payment\x20failed:','activeGameSession','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','workerSrc','หมาป่าเดียวดาย','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','00:00','settings','goto-next-question-btn','document','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','text-gray-400\x20hover:text-indigo-600','results-quiz-title','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20td','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reviewQuestionIndex','</h3>','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','</div>','<button\x20id=\x22','#FFFFFF','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','mouse','topicName','submissions','outerHTML','ข้อต่อไป','opacity','memory','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','wasConfident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นักกีฬา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','scrollIntoView','buyTime','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','ไม่ใช่','.delete-file-shortcut-tab-btn','พื้นที่สามเหลี่ยม','thead\x20.sortable-header','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','ความคล้ายของรูป','กรุณากรอกข้อมูลให้ครบทุกช่อง','Error\x20updating\x20quiz\x20status:','นักล่าฝัน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isRemedial','Error\x20clearing\x20all\x20links:','wager-modal','คำเตือน\x20(','parallelShortcutOrder','.totalPoints','none','กลุ่ม:\x20','cancel-file-shortcut-edit-btn','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','STARTING_LIVES\x20is\x20not\x20defined!\x20Defaulting\x20to\x203.','copy-quiz-id-btn','createObjectURL','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','start-live-race-generated-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','/public/data/projects/','MathJax\x20re-render\x20failed:','text-red-900','📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!','presentation-modal','API\x20Error\x20Body:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','manage','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20',':</span><span>','ปริมาตรรูปทรงสามมิติ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','next-drill-btn','onblur','[data-topic-container-id]','ตั้งเวลา\x20(เปิด)','.ideal-answer-input','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','#FEE2E2','\x5cge','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','insurance','#ffffff','<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','ตัวเลือก\x20ค','blueprint-settings-modal','Error\x20submitting\x20group\x20answer:','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','quiz','createElement','playerIndex','AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44','onchange','sin','firstScore','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','ร้อยละประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab-content','student-name-select','documentElement','url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','inactive','presentation-slide-container','exitFullscreen','กรุณาตั้งชื่อแท็บใหม่:','\x22...','กิจกรรมสิ้นสุดลงแล้ว','default-','rgba(255,\x20255,\x200,\x200.5)','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','highlighter-tools-group','สายลับจับบ้านเล็ก','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parseInline','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการสร้างห้องเกม','fa-shield-alt\x20text-gray-600','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','clientY','global-quiz-count','.edit-question-btn','file-input-area',')</button>','.sortable-header','-tab','การคูณเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','write','ผู้พิชิตดาว','เลือกและเริ่มสร้าง','จำนวนเต็มบวก','admin-view','pollUsedThisTurn','Error\x20in\x20generating\x20from\x20files:','/public/data/blueprintProjects','.generate-content-btn','export-tutor-pdf-btn','<svg','fileShortcutTabs','เวกเตอร์และเมทริกซ์\x20(เสริม)','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','ทฤษฎีบทพีทาโกรัสและการประยุกต์','projectSortOrder','save-file-shortcut-btn','export-compact-pdf-btn','(ไม่มีชื่อ)','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','sara','buy-time-quantity-input','การแจกแจงปกติและ\x20z-score','Error\x20joining\x20activity:','slide-counter','correct','เน็ตไอดอล','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','isFinished','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','stem','status','wheel','</p></div>','ตัวเลือก\x20ง','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','.move-file-shortcut-menu-btn','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','คัดลอกไม่สำเร็จ','อสมการค่าสัมบูรณ์','answer-counter','font-bold\x20text-red-700\x20line-through','editable-quiz-topic','shortcut-name-input','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startTime','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','map','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','analytics','badges','bg-blue-100','ค่าความจริง/ตารางค่าความจริง','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','\x22>ใช่</p>','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','txt','anon-show-answer-toggle','<div\x20class=\x22flex-1\x22></div>','กำลังโหลดคลังข้อสอบทั้งหมด...','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20id=\x22use-powerup-forceConfident\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>บังคับมั่นใจ\x20(','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>','.eraser-size-btn','per-q-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','Re-grade\x20process\x20failed:','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20</div>','\x5csum','.edit-hidden-file-shortcut-btn','text-gray-100','Error\x20resetting\x20project\x20order:','230706JBgApU','.delete-file-shortcut-btn','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20duplicating\x20quiz:','Invalid\x20response\x20structure\x20from\x20AI.','project-passcode-modal','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isArray','Error\x20starting\x20game:','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','back-from-results-btn','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','confirm-bulk-quiz-settings-btn','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','5Edpnfx','border-red-700','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','blueprint-topics-list-container','forceConfident','เปลี่ยนชื่อแบบทดสอบสำเร็จ','text-indigo-600','.topic-name-input','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','ไม่พบข้อมูลเกม','ปวดหลัง','ยังไม่สร้าง','/public/data/learnedFixes','source_document.pdf','dashboardConfig','startedAt','scheduled','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','select','show-final-results-btn','แบบทดสอบนี้หมดเวลาแล้ว','ส้มตำปูปลาร้า','.correct-response-input','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','.delete-submission-btn','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22สุดยอด!\x20(คะแนนเต็ม\x20+\x20มั่นใจทุกข้อ)\x22>👑</span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','toDate','doughnut','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','bg-green-100\x20font-bold','ผ่านฉลุย','export-lesson-to-pdf-btn','enable-black-market-checkbox','live-race','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','fill','.bp-view-analysis-btn','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','shortcut-reference-url-input','perfect_score','powerupUsed','AIzaSyCrvYxQBrQBFrT99Rkg4nVgjOwRsBBZafI','newappai.firebaseapp.com','ลิมิต','เกิดข้อผิดพลาดในการเข้าตลาดมืด','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','_opt','select[name=\x22question_single\x22]','Error\x20saving\x20reference\x20URL:','\x22\x20data-pre-test-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','<textarea\x20name=\x22question','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','msExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','input','bank-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-parallel-shortcut-dropdown','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','stroke','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','input[type=\x22checkbox\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analyze-strengths-btn','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','.bp-generate-lesson-btn','</p><p><strong>เฉลย:</strong>\x20','presentation-ai-result','มังกรกินจุ','.delete-shortcut-tab-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','API\x20call\x20failed\x20with\x20status:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','include-images-checkbox','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','text/csv;charset=utf-8;','add','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchstart','ปรับเพิ่ม/ลดเป็นร้อยละ','sync-matching-select','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','questionId','game-start-mode','tool','#confidence-input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไก่ฟ้าพญาลอ','_opt1\x22>ไม่ใช่</label></div>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','countdown-display','itemId','#10B981','innerText','cancel-manual-bp-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','mainTopics','stepByStepExamples','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','Authentication\x20failed:','อัปเดตแบบทดสอบเก่า\x20','ก้อนเมฆ','ถูก','q-image-container-','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.png','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','จำนวนคละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','blueprint-projects-modal','พบ\x20Sync\x20Game!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-tab','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','export-leaderboard-excel-btn','complexityValue','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','lesson-sections-container','element','(หลังเรียน)\x20','split','bestScore','poll','canvas','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','.linkedQuizId','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','กำลังวิเคราะห์หัวข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','half_mark_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-delete-btn','CEOพันล้าน','lesson-view-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','memoryContent','leaderboard-quiz-tab-btn','transparent','getAttributeNS','selected-answer-index-hidden-wager','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','คุณแน่ใจหรือไม่ว่าต้องการใช้\x20\x27สถิติ\x27?\x20(หากใช้แล้วตอบผิด\x20บทลงโทษจะรุนแรงขึ้น)','input[name=\x22syncVariant\x22][value=\x22classic\x22]','blueprint-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','matching','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loopUntilPass','ทฤษฎีทวินาม\x20(เบื้องต้น)','BOOLEAN','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','join','cancel-rename-quiz-btn','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','(ก่อนเรียน)\x20','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','เกิดข้อผิดพลาดในการโหลดโปรเจค','confirm-passcode-btn','color','cancel-confidence-btn','วงรี','สมการยกกำลัง','ยังไม่เต็มนะ','prod','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','worksheet-tab','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerMode','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','.flex.justify-between.items-center','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','.pen-size-btn','parallel-shortcut-id-input','<span\x20class=\x22text-gray-400\x20ml-1\x22\x20title=\x22คะแนนจริงเป็น\x200\x22>😥</span>','#E5E7EB','/questionBank','.topic-actions-edit','fix\x20the\x20option','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','bg-gray-400','(^|[^\x5c\x5c])\x5cb','</span></div>','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','<option>กำลังโหลดโปรเจค...</option>','.move-shortcut-item','lobby','\x22,\x20','project-id-display','finishReason','passcode-error-msg','⏳\x20ซื้อเวลา','transformOrigin','Firebase\x20initialization\x20failed:','Test\x20Blueprint','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','</span></p>','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','timer-container','student-project-leaderboard-tab','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','\x20ตอบ','#math-topics-checkbox-container\x20input:checked','cancel-blueprint-projects-btn','submission','add-parallel-shortcut-tab-btn','Error\x20during\x20class\x20analysis:','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','copy','.topic-selection-btn','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','price','OBJECT','practiceProblems','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','ทำคะแนนเต็มในการทำครั้งแรก','Error\x20preparing\x20content\x20quiz:','shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','starred-project','สำหรับโปรเจค:\x20','highlighter-size-value','quiz-editor-questions-container','.delete-parallel-shortcut-tab-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','.tab-name-display','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','upper_group_count','close','<span\x20title=\x22','option','checked','ความน่าจะเป็นแบบมีเงื่อนไข','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','game-pin-input','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','leq','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','quiz-status-modal','Error\x20deleting\x20submission:','visible','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','Failed\x20to\x20get\x20standardized\x20topic:','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','mean','สุดยอด!\x20ตอบถูกทุกข้อ','.edit-hidden-shortcut-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-tab','Error\x20saving\x20file\x20shortcut\x20config:','classWeaknesses','ไม่พบข้อมูลแบบทดสอบ','shortcut-blueprint-url-input','isDefault','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','per-question-timer-container','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','manual-bp-content','bg-green-400\x20text-white\x20font-bold','export-leaderboard-pdf-btn','ชื่อโปรเจคห้ามว่าง','fadeStartTime','questions','click','Error\x20pairing\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','ไม่ใช่\x20/\x20ผิด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อกหัก','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','manual-bp-project-name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','min','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อยู่ในสาระการเรียนรู้ใด:','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalCompositeOperation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฮัลค์','ยูทูปเบอร์ฝึกหัด','trim','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','originalTopic','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!</div>','บันทึกการตั้งค่าการแสดงผลสำเร็จ','ไม่สามารถเริ่มเกมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27jinx\x27.','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','generate-from-parallel-test-btn','blueprintUrl','curriculum','request','sqrt','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','เศรษฐีดูไบ','topic-input','.quiz-bank-move-btn','สถิติและความน่าจะเป็น','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','เกิดข้อผิดพลาดในการบันทึกลำดับ','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','loader','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','ลบแบบทดสอบสำเร็จแล้ว','projectSort','close-presentation-btn','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn','isJinxed','selected-topics-count','pen-tools-group','add-parallel-shortcut-btn','start-presentation-btn','.start-presentation-list-btn','Error\x20updating\x20project\x20color:','show_pass_fail_only','269431qofwTI','contains','drop','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','.color-palette-popup','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','.delete-hidden-parallel-shortcut-btn','students','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','export-leaderboard-image-btn','execCommand','<span\x20class=\x22font-bold\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Error\x20updating\x20quiz\x20settings:','<p><strong>คำตอบที่แนะนำ:</strong>\x20','(พยายามอยู่)','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-project-list','\x20คะแนน</span></div>','thead','คะแนน','ภูเขา','เกิดข้อผิดพลาดในการลบ','idealAnswer','currentTarget','isPasscodeEnabled','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','-\x20ข้อ\x20','81LEgxkm','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','Error\x20updating\x20project\x20name:','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','Error\x20unpairing\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','<div\x20class=\x22my-2\x22>','visibilitychange','\x22\x20สำเร็จ!','nickname-input','คุณแน่ใจว่าต้องการลบแท็บนี้?','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','ไฟล์ลัด\x201','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','export-leaderboard-word-btn','cursor','save-visibility-settings-btn','catch','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','gain','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','focus','Error\x20comparing\x20results:','.quiz-bank-present-btn','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','project-quizzes-list','การหาร','touch','comparison-chart','ondragover','Error\x20generating\x20hybrid\x20quiz:','webkitRequestFullscreen','```','start-game-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','All\x20groups\x20have\x20finished.\x20Ending\x20game.','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','.buy-item-btn','input[name=\x22team_player\x22]:checked','timestamp','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-team-selection-btn','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','title','\x20รายการสำเร็จ!','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','isScored','close-comparison-modal-btn','application/pdf','analytics-tab-btn','/public/data/liveGames','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','border-gray-200','back-to-dashboard-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-gray-50','quiz-id-input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','project-passcode-input','confirm-manual-bp-btn','replace','เกิดข้อผิดพลาดในการยืนยันผู้เล่น:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','</body></html>','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','cancel-parallel-shortcut-edit-btn','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','สอบซ่อม','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','cancel-quiz-edits-btn','members','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','reveal-names-btn','Error\x20listening\x20for\x20student\x20profiles:','ตัวแปรและนิพจน์','lessonPlan','projectOrder','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','originalQuestionText','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','selectedTopicNames','สร้างคำถามแบบใช่/ไม่ใช่','<i\x20class=\x22fas\x20fa-magic\x22></i>','blueprint-project-manager-view','enable-passcode-checkbox','lesson-plan-title','<button\x20data-tab-id=\x22','สร้างแบบทดสอบ','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มรายการที่เลือก','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','Could\x20not\x20fetch\x20reference\x20file:','blueprint.pdf','qIndex','matching_item','check-answer-btn','-tab-content','pointerdown','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','removeChild','ที่พิมพ์ได้\x20จำนวน\x20','contentEditable','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','Error\x20joining\x20team\x20quiz:','total','\x20ชุด)</span>','การลบ','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x20link(s)\x20for\x20quiz\x20ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','บันทึกแบบทดสอบสำเร็จแล้ว!','release','finished','ไม่พบข้อมูลโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','group','shortcuts','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','กำลังดึงข้อมูลจากลิงก์...','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','.pen-color-btn','first_try_ace','localeCompare','linkedQuizIds','verify-answers-editor-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','transition-all','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','text/plain','NUMBER','manual-blueprint-modal','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','pop','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','removeAttribute','eraser-tool-btn','ดอกเบี้ยอย่างง่าย','.timeBonusThisQuestion','แบบทดสอบที่ติดดาว','รากที่สองและที่สาม','Error\x20processing\x20parallel\x20shortcut\x20click:','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','lesson-view-content','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','แก้ไขปุ่มลัดจากไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20(สำหรับ\x20','tooltipTarget','\x5ctimes','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','tfrac','ก่อนเรียน','md:col-span-3','/public/data/quizzes','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','empty','Transactionล้มเหลว:\x20','\x20สำเร็จ!','eraser','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','dispatchEvent','\x20|\x20ID:\x20','นักวิทยาศาสตร์','setItem','รูปแบบการให้เหตุผล','fas\x20fa-user-edit','Error\x20loading\x20quiz\x20for\x20student:','width\x2060s\x20linear','เส้นรอบรูป','deg','pointerType','#student-quiz-leaderboard-content\x20thead','bp-modal-shuffle-setting-select','เต่าสายฟ้า','presentation-short-answer-input','lesson-loader','touchend','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','lineCap','strength-weakness-analysis-container','.question-editor-item:last-of-type','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.quiz-settings-btn','behaviorLog','ดวงดาว','\x20\x20\x20-\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ไม่ระบุ','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','เมทริกซ์:\x20บวก/คูณ','Error\x20loading\x20user\x20preferences:','black-market-modal','ผิด','\x22\x20class=\x22delete-project-btn\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','😈\x20คำสาป\x20(Jinx)','artifacts/','\x20กลุ่ม</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','onerror','เกิดข้อผิดพลาดในการลบนักเรียน','quiz-type-select','การจัดหมู่\x20(Combination)','bp-topic-list-container','questionIndex','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','.start-game-btn','Error\x20saving\x20visibility\x20settings:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','preTestId','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','delete-svg-btn','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','Error\x20verifying\x20answers:','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','temp-loader-results','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','postScore','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ส่งแล้ว','string','scores','⚡️\x2050:50','การประยุกต์เวกเตอร์พื้นฐาน','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','อัตราและอัตราหน่วย','link-input-area','neq','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','ไม่พบแบบทดสอบ','\x20from\x20sync\x20game:','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','📊\x20ส่องสถิติ','<div\x20class=\x22','#F3E8FF','student-progress-content','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','answered','bp-reference-file-url','องค์ประกอบของฟังก์ชัน','filter','text-green-600\x20font-bold','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ส่งคำตอบ','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','\x22\x20data-target-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','modal-confidence-mode-container','applicationHTML','\x20เข้าร่วมกลางเกม','comeback_king','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','custom-math-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','ลาเต้ไม่หวาน','getBoundingClientRect','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffleSetting','.ai-content\x20blockquote','incorrect','.edit-hidden-parallel-shortcut-btn','gamePin',')\x22>','ไฮเพอร์โบลา','normal','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','/public/data/projects','perQuestionStats','timer-mode-select','shortcut_','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เริ่มกิจกรรม:\x20','text-content-input','โดเมนและเรนจ์','ความเป็นอิสระของเหตุการณ์','confident','ตัวเลือก\x20ก','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','ท็อปฟอร์ม','ชื่อหัวข้อห้ามว่าง','wager-amount-display','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','Error\x20saving\x20shortcut\x20config:','bg-amber-100\x20text-amber-800','Error\x20adding\x20topic:','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','เกิดข้อผิดพลาดในการอัปเดต:\x20','Refunded\x20','add-file-shortcut-btn','block','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','Error\x20updating\x20custom\x20topic:','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confidence-choice-btn','\x20คู่\x20','reference.txt','presentation-explanation','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','fixedData','ลบหัวข้อสำเร็จ','📊\x20สถิติการตอบ\x20(จากผู้เล่นที่ตอบแล้ว):\x0a\x0a','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','postTScore','.quiz-result-card','bg-yellow-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เพนกวินไฟ','force-math-checkbox','studentName','rgba(59,\x20130,\x20246,\x200.7)','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','result','Group\x20Mode','bg-white','.bp-open-topic-bank-btn','Error\x20saving\x20to\x20question\x20bank:','multiply','</div></div>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','???','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','ไม่สามารถเพิ่มนักเรียนได้','rgba(79,\x2070,\x20229,\x201)','AI\x20ไม่สามารถประมวลผลข้อมูลได้','🔁\x20โอกาสครั้งที่สอง','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','text-indigo-800','image/png','responseSchema','type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','student-list','https://corsproxy.io/?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','submit-group-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','การหารทศนิยม','bg-[#EF4444]\x20text-white\x20font-bold','\x20ข้อแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การลบทศนิยม','เนื้อหาสำหรับสอน:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','isCorrect','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-actions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','.project-card-container.opacity-50','รอผู้ควบคุมไปข้อต่อไป...','actions-container-','fill_in_the_blank','createElementNS','สร้างใหม่','เกิดข้อผิดพลาดในการแก้ไข','</th>','width','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','.isJinxed','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ดูว่าคนอื่นตอบข้อไหนบ้าง\x20(คำเตือน:\x20หากใช้แล้วตอบผิด\x20บทลงโทษคะแนนจะ\x20x2)'];_0x150e=function(){return _0x572245;};return _0x150e();}async function handleDeleteShortcutTab(_0x2d6412){const _0x277696=_0x3a9f7b,_0x1f0ae0=shortcutTabs['find'](_0x6ebf4f=>_0x6ebf4f['id']===_0x2d6412);_0x1f0ae0&&!_0x1f0ae0[_0x277696(0x9f1)]&&showConfirmation(_0x277696(0xc25)+_0x1f0ae0[_0x277696(0x58e)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x154121=_0x277696;shortcutTabs=shortcutTabs[_0x154121(0xb6e)](_0x4c4ff5=>_0x4c4ff5['id']!==_0x2d6412),delete shortcutOrder[_0x2d6412];if(activeShortcutTabId===_0x2d6412)activeShortcutTabId=_0x154121(0xc9a);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x648a7c,_0x134585){const _0x465492=_0x3a9f7b,_0x570495=shortcutTabs[_0x465492(0x4b3)](_0x1cf644=>_0x1cf644['id']===_0x134585);_0x570495&&!_0x570495[_0x465492(0x33a)][_0x465492(0x1bc)](_0x648a7c)&&(_0x570495[_0x465492(0x33a)]['push'](_0x648a7c),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x2c59ed,_0x22533a){const _0x4114e8=_0x3a9f7b,_0x1db0e2=shortcutTabs[_0x4114e8(0x4b3)](_0x49ed0a=>_0x49ed0a['id']===_0x22533a);_0x1db0e2&&!_0x1db0e2[_0x4114e8(0x9f1)]&&(_0x1db0e2[_0x4114e8(0x33a)]=_0x1db0e2[_0x4114e8(0x33a)][_0x4114e8(0xb6e)](_0xe0998e=>_0xe0998e!==_0x2c59ed),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x5511bc,_0x238432){shortcutOrder[_0x5511bc]=_0x238432,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x5df578=_0x3a9f7b,_0x3ca85a=document[_0x5df578(0xc0e)]('blueprint-shortcut-container'),_0xb85527=document[_0x5df578(0xc0e)](_0x5df578(0x37b)),_0x51996b=document[_0x5df578(0xc0e)](_0x5df578(0x741));_0x51996b&&_0x51996b['classList'][_0x5df578(0x930)](_0x5df578(0x772));if(!_0x3ca85a||!_0xb85527)return;const _0x1cf095=blueprintShortcuts[_0x5df578(0x3f8)](0x0,0x4),_0x20c678=blueprintShortcuts['slice'](0x4);_0x3ca85a[_0x5df578(0xd5e)]=_0x1cf095[_0x5df578(0x8ac)](_0x3ad371=>{const _0x2308ca=_0x5df578;let _0x2f895c=_0x2308ca(0x2c8),_0x5cd2af='🧩';if(_0x3ad371[_0x2308ca(0xa1c)]&&_0x3ad371[_0x2308ca(0x72f)])_0x2f895c=_0x2308ca(0x628),_0x5cd2af='📗';else _0x3ad371['blueprintUrl']&&(_0x2f895c='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x5cd2af='📘');const _0xd0f411=!_0x3ad371[_0x2308ca(0x9f1)]?_0x2308ca(0x28b)+_0x3ad371['id']+_0x2308ca(0x994):'';return _0x2308ca(0x307)+_0x3ad371['id']+_0x2308ca(0x95e)+_0x2f895c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x5cd2af+'\x20'+_0x3ad371['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ad371['id']+_0x2308ca(0x2e8)+_0xd0f411+_0x2308ca(0x7ad);})[_0x5df578(0x986)](''),_0x20c678[_0x5df578(0x7d2)]>0x0&&(_0x3ca85a[_0x5df578(0xd5e)]+=_0x5df578(0x569)),_0x20c678['length']>0x0?_0xb85527[_0x5df578(0xd5e)]=_0x20c678[_0x5df578(0x8ac)](_0x300b67=>{const _0x31d4b8=_0x5df578;let _0x24412c='🧩';if(_0x300b67['blueprintUrl']&&_0x300b67[_0x31d4b8(0x72f)])_0x24412c='📗';else _0x300b67['blueprintUrl']&&(_0x24412c='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x24412c+'\x20'+_0x300b67[_0x31d4b8(0x58e)]+_0x31d4b8(0x1f2)+_0x300b67['id']+_0x31d4b8(0x35d)+_0x300b67['id']+_0x31d4b8(0x76c)+(!_0x300b67['isDefault']?_0x31d4b8(0x28b)+_0x300b67['id']+_0x31d4b8(0x239):'')+_0x31d4b8(0x430);})[_0x5df578(0x986)](''):_0xb85527['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x359905){const _0x5d45c9=_0x3a9f7b,_0xae895d=_0x359905[_0x5d45c9(0x962)]('.')[_0x5d45c9(0xaef)]()[_0x5d45c9(0x703)]();switch(_0xae895d){case'pdf':return _0x5d45c9(0xa95);case _0x5d45c9(0x8b5):return _0x5d45c9(0xaeb);default:return'application/pdf';}}function openShortcutEditor(_0x2c5750=null){const _0xa4b7d3=_0x3a9f7b,_0xec900c=document[_0xa4b7d3(0xc0e)](_0xa4b7d3(0x612)),_0x4f1da1=document[_0xa4b7d3(0xc0e)](_0xa4b7d3(0x9cb)),_0x24bd0=document[_0xa4b7d3(0xc0e)]('shortcut-id-input'),_0x222087=document[_0xa4b7d3(0xc0e)](_0xa4b7d3(0x8a5)),_0x4e7d69=document[_0xa4b7d3(0xc0e)]('shortcut-blueprint-url-input'),_0x200438=document['getElementById'](_0xa4b7d3(0x901));if(_0x2c5750){const _0x2d83d6=blueprintShortcuts[_0xa4b7d3(0x4b3)](_0x45a4d2=>_0x45a4d2['id']===_0x2c5750);if(!_0x2d83d6)return;_0x4f1da1[_0xa4b7d3(0x6fb)]='แก้ไขปุ่มลัด',_0x24bd0[_0xa4b7d3(0x452)]=_0x2d83d6['id'],_0x222087[_0xa4b7d3(0x452)]=_0x2d83d6[_0xa4b7d3(0x58e)],_0x4e7d69['value']=_0x2d83d6[_0xa4b7d3(0xa1c)]||'',_0x200438[_0xa4b7d3(0x452)]=_0x2d83d6['referenceUrl']||'';}else _0x4f1da1[_0xa4b7d3(0x6fb)]=_0xa4b7d3(0x575),_0x24bd0[_0xa4b7d3(0x452)]='',_0x222087[_0xa4b7d3(0x452)]='',_0x4e7d69[_0xa4b7d3(0x452)]='',_0x200438[_0xa4b7d3(0x452)]='';_0xec900c['classList'][_0xa4b7d3(0xd08)](_0xa4b7d3(0x772));}async function saveShortcutChanges(){const _0x54dbd1=_0x3a9f7b,_0x4f37b7=document[_0x54dbd1(0xc0e)](_0x54dbd1(0x57f))['value'],_0x238cba=document['getElementById']('shortcut-name-input')[_0x54dbd1(0x452)][_0x54dbd1(0xa0f)](),_0x513ad5=document[_0x54dbd1(0xc0e)](_0x54dbd1(0x9f0))[_0x54dbd1(0x452)][_0x54dbd1(0xa0f)]();if(!_0x238cba||!_0x513ad5){showMessage(_0x54dbd1(0xa03));return;}const _0x1d3c02={'id':_0x4f37b7||_0x54dbd1(0xb91)+Date[_0x54dbd1(0x62e)](),'name':_0x238cba,'blueprintUrl':_0x513ad5,'referenceUrl':document[_0x54dbd1(0xc0e)](_0x54dbd1(0x901))[_0x54dbd1(0x452)][_0x54dbd1(0xa0f)](),'isDefault':_0x4f37b7[_0x54dbd1(0x23e)](_0x54dbd1(0x85c))};let _0x582478;_0x4f37b7?_0x582478=blueprintShortcuts[_0x54dbd1(0x8ac)](_0x4a7d5=>_0x4a7d5['id']===_0x4f37b7?_0x1d3c02:_0x4a7d5):_0x582478=[...blueprintShortcuts,_0x1d3c02];try{const _0x51aa35=doc(db,'globalSettings','dashboardConfig');await setDoc(_0x51aa35,{'blueprintShortcuts':_0x582478},{'merge':!![]}),document['getElementById'](_0x54dbd1(0x612))[_0x54dbd1(0x319)][_0x54dbd1(0x930)]('hidden');}catch(_0x19e09c){console[_0x54dbd1(0x4e3)]('Error\x20saving\x20shortcut:',_0x19e09c),showMessage(_0x54dbd1(0x16b));}}async function handleShortcutClick(_0x225eab){const _0x1a1ce2=_0x3a9f7b,_0x2da50c=blueprintShortcuts[_0x1a1ce2(0x4b3)](_0x5453b8=>_0x5453b8['id']===_0x225eab);if(!_0x2da50c||!_0x2da50c[_0x1a1ce2(0xa1c)])return;document[_0x1a1ce2(0xc0e)](_0x1a1ce2(0x72b))[_0x1a1ce2(0x319)]['add'](_0x1a1ce2(0x772)),document[_0x1a1ce2(0xc0e)]('generate-from-blueprint-btn')[_0x1a1ce2(0x622)]=!![];const _0x56750c=document[_0x1a1ce2(0xc0e)](_0x1a1ce2(0xa28)),_0x4cd1c4=document[_0x1a1ce2(0xc0e)](_0x1a1ce2(0x3c6));document['getElementById'](_0x1a1ce2(0x505))[_0x1a1ce2(0x319)]['remove'](_0x1a1ce2(0x772)),document[_0x1a1ce2(0xc0e)](_0x1a1ce2(0x5cd))[_0x1a1ce2(0xd5e)]='',_0x56750c[_0x1a1ce2(0x319)][_0x1a1ce2(0xd08)]('hidden');try{_0x4cd1c4['textContent']='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x523e04=await fetchFileFromUrl(_0x2da50c[_0x1a1ce2(0xa1c)],_0x1a1ce2(0xac2));let _0x2861ca=null;if(_0x2da50c['referenceUrl']){_0x4cd1c4[_0x1a1ce2(0x6fb)]=_0x1a1ce2(0x2a6);const _0x587d63=_0x2da50c[_0x1a1ce2(0x72f)][_0x1a1ce2(0x703)]()[_0x1a1ce2(0x3d5)](_0x1a1ce2(0x4d2))?_0x1a1ce2(0xbac):_0x1a1ce2(0x1ed);_0x2861ca=await fetchFileFromUrl(_0x2da50c[_0x1a1ce2(0x72f)],_0x587d63);}await handleGenerateFromBlueprintWithFiles(_0x523e04,_0x2861ca);}catch(_0x49be0d){console[_0x1a1ce2(0x4e3)](_0x1a1ce2(0x2b1),_0x49be0d),showMessage(_0x1a1ce2(0xc89)+_0x49be0d[_0x1a1ce2(0x145)]),_0x56750c[_0x1a1ce2(0x319)]['add'](_0x1a1ce2(0x772));}}function getDirectDownloadUrl(_0x3330c0){const _0x24728a=_0x3a9f7b,_0x436484=_0x3330c0[_0x24728a(0x49c)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x436484&&_0x436484[0x1])return'https://drive.google.com/uc?export=download&id='+_0x436484[0x1];return _0x3330c0;}async function fetchFileFromUrl(_0x3e72ef,_0x17d97e){const _0x4b4876=_0x3a9f7b,_0xf76161=getDirectDownloadUrl(_0x3e72ef),_0x37f33f='https://corsproxy.io/?'+encodeURIComponent(_0xf76161),_0x569d31=await fetch(_0x37f33f);if(!_0x569d31['ok'])throw new Error(_0x4b4876(0x2b6)+_0x569d31[_0x4b4876(0x896)]+')');const _0x536120=await _0x569d31[_0x4b4876(0x453)](),_0x55cba5=await new Promise((_0x4574ad,_0x10e87f)=>{const _0x353c7d=_0x4b4876,_0x53d832=new FileReader();_0x53d832[_0x353c7d(0x1fc)]=()=>_0x4574ad(new Uint8Array(_0x53d832[_0x353c7d(0xbbf)])),_0x53d832[_0x353c7d(0xb42)]=_0x10e87f,_0x53d832[_0x353c7d(0x196)](_0x536120['slice'](0x0,0x4));});let _0x499a34='';const _0x305030=new TextDecoder()[_0x4b4876(0x7b2)](_0x55cba5);return _0x305030===_0x4b4876(0xae)?(_0x499a34='application/pdf',console[_0x4b4876(0x955)](_0x4b4876(0x966))):(_0x499a34=_0x4b4876(0xaeb),console['log'](_0x4b4876(0x675))),new File([_0x536120],_0x17d97e,{'type':_0x499a34});}async function handleGenerateFromBlueprintWithFiles(_0x2c8a2a,_0x213088=null){const _0x4745ee=_0x3a9f7b;if(!_0x2c8a2a){showMessage(_0x4745ee(0x110));return;}const _0x1238af=document['getElementById'](_0x4745ee(0xa28)),_0x41b965=document[_0x4745ee(0xc0e)](_0x4745ee(0x3c6));_0x1238af[_0x4745ee(0x319)][_0x4745ee(0xd08)]('hidden'),document[_0x4745ee(0xc0e)](_0x4745ee(0x505))[_0x4745ee(0x319)][_0x4745ee(0xd08)](_0x4745ee(0x772)),document[_0x4745ee(0xc0e)](_0x4745ee(0x5cd))[_0x4745ee(0xd5e)]='';try{_0x41b965[_0x4745ee(0x6fb)]='กำลังอ่านไฟล์\x20Test\x20Blueprint...';const _0x262ea1=await new Promise((_0x493473,_0x4fcd13)=>{const _0x286c1e=_0x4745ee,_0x1b0bbf=new FileReader();_0x1b0bbf[_0x286c1e(0x2a8)](_0x2c8a2a),_0x1b0bbf['onload']=()=>_0x493473(_0x1b0bbf[_0x286c1e(0xbbf)][_0x286c1e(0x962)](',')[0x1]),_0x1b0bbf[_0x286c1e(0xb42)]=_0x4fcd13;}),_0x529eda=[];if(_0x213088){_0x41b965['textContent']=_0x4745ee(0x69a);const _0x35921b=await _0x213088[_0x4745ee(0xbbd)]();_0x529eda['push']({'text':_0x4745ee(0xb5e)+_0x35921b});}const _0x5c492d=[{'text':'...'},{'inlineData':{'mimeType':_0x2c8a2a[_0x4745ee(0xbd2)],'data':_0x262ea1}},..._0x529eda];await handleGenerateFromBlueprint(_0x5c492d);}catch(_0x57bfe6){console['error'](_0x4745ee(0x87b),_0x57bfe6),showMessage(_0x4745ee(0xc89)+_0x57bfe6['message']),_0x1238af[_0x4745ee(0x319)][_0x4745ee(0x930)](_0x4745ee(0x772));}}async function handleLiveAnswer(_0x42e784,_0x1e3ff4){const _0x17666d=_0x3a9f7b;document[_0x17666d(0x68f)](_0x17666d(0x454))[_0x17666d(0x2d3)](_0x301442=>_0x301442[_0x17666d(0x622)]=!![]);const _0x588498=_0x1e3ff4[_0x17666d(0x7c7)]||currentQuizData[_0x17666d(0xc6c)];let _0x23bbd1=![],_0x54615f=_0x42e784;if(_0x588498===_0x17666d(0x2d1)){const _0x5311e0=(_0x42e784||'')[_0x17666d(0x6ad)]();_0x23bbd1=await gradeShortAnswer(_0x5311e0,_0x1e3ff4);}else{if(_0x588498==='multiple_choice')_0x23bbd1=_0x42e784===_0x1e3ff4[_0x17666d(0xcfa)];else{if(_0x588498===_0x17666d(0x56e)){const _0x2cb14e=_0x1e3ff4['correctAnswer'];_0x23bbd1=_0x42e784===0x0&&_0x2cb14e||_0x42e784===0x1&&!_0x2cb14e;}else{if(_0x588498===_0x17666d(0xac4)){const _0x5c3080=_0x1e3ff4[_0x17666d(0xcc7)][_0x42e784];_0x23bbd1=_0x5c3080===_0x1e3ff4[_0x17666d(0x3a1)],_0x54615f=_0x5c3080;}}}}const _0xccbdb3=doc(db,_0x17666d(0xb3f)+appId+'/public/data/liveGames',currentLiveGameId),_0x2bb462={};_0x2bb462[_0x17666d(0xc52)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x2bb462[_0x17666d(0xc52)+currentStudentName+_0x17666d(0x29e)]=_0x23bbd1,_0x2bb462[_0x17666d(0xc52)+currentStudentName+_0x17666d(0xaf)]=_0x588498===_0x17666d(0x2d1)||_0x588498===_0x17666d(0xac4)?null:_0x42e784,_0x2bb462['players.'+currentStudentName+_0x17666d(0x4d7)]=_0x54615f,_0x2bb462[_0x17666d(0xc52)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x2bb462[_0x17666d(0xc52)+currentStudentName+_0x17666d(0x2b9)]=![],await updateDoc(_0xccbdb3,_0x2bb462),liveGameView['innerHTML']=_0x17666d(0x342);}function showAdminSummaryView(_0x388e53,_0x4bcd9d){const _0x29e5e4=_0x3a9f7b,_0x504ae1=Object[_0x29e5e4(0x3ac)](_0x388e53['players']||{}),_0x38547a=_0x4bcd9d[_0x29e5e4(0x7c7)]||currentQuizData[_0x29e5e4(0xc6c)],_0x1d987f=_0x38547a===_0x29e5e4(0x56e)?[_0x29e5e4(0x53e),_0x29e5e4(0x80d)]:_0x4bcd9d[_0x29e5e4(0xc87)]||_0x4bcd9d[_0x29e5e4(0xcc7)]||[],_0x123b2b={},_0x4d7162=new Array(_0x1d987f['length'])[_0x29e5e4(0x8fe)](0x0);_0x1d987f[_0x29e5e4(0x2d3)]((_0x17b47c,_0x5ec4c7)=>{_0x123b2b[_0x5ec4c7]=[];}),Object[_0x29e5e4(0x377)](_0x388e53[_0x29e5e4(0xd1)]||{})[_0x29e5e4(0x2d3)](([_0x256204,_0x2e901f])=>{const _0x2608c2=_0x29e5e4;if(_0x2e901f['status']===_0x2608c2(0x75a)&&_0x2e901f[_0x2608c2(0xc22)]!==undefined){const _0x341e5c=_0x2e901f['lastAnswerIndex'];_0x123b2b[_0x341e5c]&&(_0x123b2b[_0x341e5c]['push'](_0x256204),_0x4d7162[_0x341e5c]++);}});const _0x1369e6=Math[_0x29e5e4(0x347)](..._0x4d7162,0x1),_0x4d86f0=_0x29e5e4(0x642)+(_0x4bcd9d[_0x29e5e4(0x895)]||_0x4bcd9d[_0x29e5e4(0x47c)])+_0x29e5e4(0x449)+_0x4d7162[_0x29e5e4(0x8ac)]((_0x2afd99,_0x271e8a)=>{const _0x29ea5b=_0x29e5e4,_0x41bd77=_0x123b2b[_0x271e8a][_0x29ea5b(0x7d2)]>0x0?_0x123b2b[_0x271e8a][_0x29ea5b(0x986)](',\x20'):_0x29ea5b(0x315);let _0x47f965=![];if(_0x38547a==='multiple_choice')_0x47f965=_0x271e8a===_0x4bcd9d[_0x29ea5b(0xcfa)];else{if(_0x38547a==='true_false'){const _0x5b288a=_0x4bcd9d[_0x29ea5b(0x13c)];_0x47f965=_0x5b288a&&_0x271e8a===0x0||!_0x5b288a&&_0x271e8a===0x1;}else _0x38547a==='matching_item'&&(_0x47f965=_0x1d987f[_0x271e8a]===_0x4bcd9d[_0x29ea5b(0x3a1)]);}const _0x270c55=_0x47f965?'#26890c':_0x29ea5b(0x746);return _0x29ea5b(0xb75)+_0x2afd99+_0x29ea5b(0xa5e)+_0x270c55+_0x29ea5b(0xc5a)+_0x271e8a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x1d987f[_0x271e8a]+_0x29ea5b(0x34a)+_0x271e8a+_0x29ea5b(0xcae)+_0x41bd77+_0x29ea5b(0x9f4);})[_0x29e5e4(0x986)]('')+_0x29e5e4(0x9b7);liveGameView[_0x29e5e4(0xd5e)]=_0x4d86f0;if(window['MathJax'])MathJax[_0x29e5e4(0x16c)]();document[_0x29e5e4(0xc0e)](_0x29e5e4(0x2de))['addEventListener']('click',async()=>{const _0x166108=_0x29e5e4,_0x27cdea=doc(db,_0x166108(0xb3f)+appId+_0x166108(0xa97),currentLiveGameId);await updateDoc(_0x27cdea,{'questionStatus':_0x166108(0x2eb)});}),document[_0x29e5e4(0xc0e)](_0x29e5e4(0x3ae))[_0x29e5e4(0x59d)](_0x29e5e4(0x9fd),()=>{openScratchpad(_0x4bcd9d,_0x1d987f);});}function showPlayerSummaryView(_0x37285f,_0x1a5ffc){const _0x1b79d8=_0x3a9f7b,_0x44f346=Object[_0x1b79d8(0x3ac)](_0x37285f[_0x1b79d8(0xd1)]||{}),_0x43646c=_0x37285f['players'][_0x1a5ffc],_0x296d73=_0x44f346[_0x1b79d8(0xb6e)](_0x4f2685=>_0x4f2685[_0x1b79d8(0x896)]===_0x1b79d8(0x75a))[_0x1b79d8(0x3fc)]((_0x4890a1,_0x591b8a)=>_0x591b8a[_0x1b79d8(0x6fd)]-_0x4890a1[_0x1b79d8(0x6fd)]),_0x48cbfc=_0x296d73['findIndex'](_0x2c5015=>_0x2c5015===_0x43646c)+0x1,_0x21714b=_0x43646c[_0x1b79d8(0x1de)]?_0x1b79d8(0x12d):_0x1b79d8(0xb39),_0x101ce0=_0x43646c[_0x1b79d8(0x1de)]?_0x1b79d8(0x65f):_0x1b79d8(0x53c),_0x35f1b0=_0x43646c[_0x1b79d8(0x15a)]||0x0,_0x1dfd51='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x303377=_0x1b79d8(0x5af)+_0x1dfd51+_0x1b79d8(0x401)+_0x101ce0+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x21714b+_0x1b79d8(0x28c)+_0x35f1b0+_0x1b79d8(0xbbc)+(_0x48cbfc>0x0?_0x48cbfc:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x303377;}function createQuizFromBank(){const _0x27326d=_0x3a9f7b,_0x1da868=document[_0x27326d(0x68f)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x1da868['length']===0x0){showMessage(_0x27326d(0xabd));return;}const _0xce0839=[];_0x1da868[_0x27326d(0x2d3)](_0xdce51=>{const _0x1f3668=_0x27326d;_0xce0839['push'](JSON[_0x1f3668(0x7da)](_0xdce51['value']));});const _0x2d7794={'topic':_0x27326d(0x40d),'questions':_0xce0839};displayGeneratedQuiz(_0x2d7794);}function showAdminLobbyView(_0x229666,_0x472c09){const _0x3c6a33=_0x3a9f7b;showView(_0x3c6a33(0xb0));const _0x118fd6=_0x3c6a33(0xd76)+_0x472c09+_0x3c6a33(0x6ba)+_0x229666+_0x3c6a33(0x2f1);liveGameView[_0x3c6a33(0xd5e)]=_0x118fd6,document[_0x3c6a33(0xc0e)](_0x3c6a33(0xa81))[_0x3c6a33(0x59d)](_0x3c6a33(0x9fd),async()=>{const _0x1f0955=_0x3c6a33;if(!currentQuizData||!currentQuizData[_0x1f0955(0x9fc)]||currentQuizData[_0x1f0955(0x9fc)][_0x1f0955(0x7d2)]===0x0){showMessage(_0x1f0955(0x8e0));return;}try{const _0x445d14=doc(db,'artifacts/'+appId+_0x1f0955(0xa97),currentLiveGameId);await updateDoc(_0x445d14,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2e24b5=currentQuizData[_0x1f0955(0x9fc)][0x0],_0x2e06db=currentQuizData['questions'][_0x1f0955(0x7d2)];showAdminLiveQuestionView(_0x2e24b5,0x0,_0x2e06db);}catch(_0x2a13a1){console[_0x1f0955(0x4e3)](_0x1f0955(0x8d1),_0x2a13a1),showMessage(_0x1f0955(0xa16));}});}async function openQuizBankModal(){const _0x3b6995=_0x3a9f7b;if(allQuizzesGlobal[_0x3b6995(0x7d2)]===0x0){const _0xed5048=await getDocs(collection(db,'artifacts/'+appId+_0x3b6995(0xb0a)));allQuizzesGlobal=_0xed5048['docs'][_0x3b6995(0x8ac)](_0x52ff93=>({'id':_0x52ff93['id'],..._0x52ff93[_0x3b6995(0x180)]()}));}renderQuizBankList(''),document[_0x3b6995(0xc0e)](_0x3b6995(0xc13))[_0x3b6995(0x319)][_0x3b6995(0xd08)]('hidden');}function renderQuizBankList(_0x23c21b='',_0x397f95=![]){const _0x2aa2a0=_0x3a9f7b,_0x16e9dc=document[_0x2aa2a0(0xc0e)]('bank-quiz-list'),_0x63070e=_0x23c21b['toLowerCase']()[_0x2aa2a0(0xa0f)](),_0x3a22b9=allQuizzesGlobal[_0x2aa2a0(0x8ac)](_0x5666b5=>({..._0x5666b5,'projectName':allProjects[_0x2aa2a0(0x4b3)](_0x40d52e=>_0x40d52e['id']===_0x5666b5[_0x2aa2a0(0xd39)])?.['projectName']||_0x2aa2a0(0x791)}))[_0x2aa2a0(0xb6e)](_0x1c8449=>(_0x1c8449[_0x2aa2a0(0x156)]||'')[_0x2aa2a0(0x703)]()[_0x2aa2a0(0x1bc)](_0x63070e)||(_0x1c8449[_0x2aa2a0(0x139)]||'')[_0x2aa2a0(0x703)]()[_0x2aa2a0(0x1bc)](_0x63070e)||_0x1c8449['id'][_0x2aa2a0(0x6ad)]()['includes'](_0x63070e));document['getElementById']('quiz-bank-count')[_0x2aa2a0(0x6fb)]='('+_0x3a22b9[_0x2aa2a0(0x7d2)]+_0x2aa2a0(0x4cd),_0x16e9dc['innerHTML']=_0x3a22b9[_0x2aa2a0(0x7d2)]?_0x3a22b9[_0x2aa2a0(0x8ac)](_0xcccd60=>{const _0x3b8cbe=_0x2aa2a0,_0x41f1fe=!_0x397f95?_0x3b8cbe(0x53f)+_0xcccd60['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xcccd60['id']+_0x3b8cbe(0xab2)+_0xcccd60['id']+_0x3b8cbe(0xd0b)+_0xcccd60['id']+_0x3b8cbe(0xb54)+_0xcccd60['id']+_0x3b8cbe(0x91e)+_0xcccd60['id']+_0x3b8cbe(0x42a)+_0xcccd60[_0x3b8cbe(0x156)]+_0x3b8cbe(0x4c7):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0xcccd60['id']+_0x3b8cbe(0x2aa)+(_0xcccd60[_0x3b8cbe(0x156)]||_0x3b8cbe(0x887))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0xcccd60[_0x3b8cbe(0x9fc)]?.[_0x3b8cbe(0x7d2)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0xcccd60[_0x3b8cbe(0x139)]+_0x3b8cbe(0x538)+_0xcccd60['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x41f1fe+_0x3b8cbe(0x8c2);})['join'](''):_0x2aa2a0(0x8f7),!_0x397f95&&(_0x16e9dc[_0x2aa2a0(0x68f)]('.quiz-bank-item')[_0x2aa2a0(0x2d3)](_0x112b95=>{const _0xccbfef=_0x2aa2a0;_0x112b95['addEventListener'](_0xccbfef(0x9fd),()=>{const _0x4f6473=_0xccbfef,_0x1c978b=_0x112b95[_0x4f6473(0x5e8)]['id'];document[_0x4f6473(0xc0e)](_0x4f6473(0xc13))['classList'][_0x4f6473(0x930)](_0x4f6473(0x772)),showQuizDetailView(_0x1c978b);});}),_0x16e9dc['querySelectorAll']('.quiz-bank-try-btn')['forEach'](_0x688be1=>{const _0xaa85be=_0x2aa2a0;_0x688be1[_0xaa85be(0x59d)](_0xaa85be(0x9fd),_0x2c0c51=>{const _0x30033e=_0xaa85be;_0x2c0c51[_0x30033e(0xc36)]();const _0x368f22=_0x688be1[_0x30033e(0x5e8)]['id'],_0x2c6e2b=allQuizzesGlobal[_0x30033e(0x4b3)](_0x3e453d=>_0x3e453d['id']===_0x368f22);_0x2c6e2b?(currentQuizData=_0x2c6e2b,document[_0x30033e(0xc0e)](_0x30033e(0xc13))[_0x30033e(0x319)][_0x30033e(0x930)]('hidden'),startAdminTest()):showMessage(_0x30033e(0x9ef));});}),_0x16e9dc[_0x2aa2a0(0x68f)](_0x2aa2a0(0xce4))[_0x2aa2a0(0x2d3)](_0x17bdbd=>{_0x17bdbd['addEventListener']('click',_0x477e6a=>{const _0x1cea17=_0x57a1;_0x477e6a[_0x1cea17(0xc36)]();const _0xfee436=_0x17bdbd[_0x1cea17(0x5e8)]['id'],_0x5f3abb=allQuizzesGlobal[_0x1cea17(0x4b3)](_0x54fd11=>_0x54fd11['id']===_0xfee436);_0x5f3abb?(document['getElementById'](_0x1cea17(0xc13))[_0x1cea17(0x319)][_0x1cea17(0x930)](_0x1cea17(0x772)),handleGenerateParallelFromBank(_0x5f3abb)):showMessage(_0x1cea17(0x9ef));});}),_0x16e9dc[_0x2aa2a0(0x68f)](_0x2aa2a0(0xa77))[_0x2aa2a0(0x2d3)](_0x1db89f=>{const _0x7260ab=_0x2aa2a0;_0x1db89f['addEventListener'](_0x7260ab(0x9fd),_0x185518=>{const _0x23b870=_0x7260ab;_0x185518['stopPropagation']();const _0x3842dc=_0x1db89f[_0x23b870(0x5e8)]['id'],_0x1bd9a9=allQuizzesGlobal['find'](_0x478e6b=>_0x478e6b['id']===_0x3842dc);_0x1bd9a9?(document[_0x23b870(0xc0e)](_0x23b870(0xc13))['classList']['add']('hidden'),startPresentation(_0x1bd9a9)):showMessage(_0x23b870(0x9ef));});}),_0x16e9dc[_0x2aa2a0(0x68f)](_0x2aa2a0(0xa23))['forEach'](_0xf5b4a7=>{const _0x2d8a31=_0x2aa2a0;_0xf5b4a7[_0x2d8a31(0x59d)](_0x2d8a31(0x9fd),_0x8e8e05=>{const _0x8b27b9=_0x2d8a31;_0x8e8e05['stopPropagation']();const _0x28ea2d=_0xf5b4a7[_0x8b27b9(0x5e8)]['id'];document[_0x8b27b9(0xc0e)](_0x8b27b9(0xc13))[_0x8b27b9(0x319)][_0x8b27b9(0x930)]('hidden'),handleMoveQuiz(_0x28ea2d);});}),_0x16e9dc[_0x2aa2a0(0x68f)](_0x2aa2a0(0x2a1))[_0x2aa2a0(0x2d3)](_0x4bdbf1=>{const _0x2fc7b0=_0x2aa2a0;_0x4bdbf1[_0x2fc7b0(0x59d)]('click',_0x5498e1=>{const _0x58957c=_0x2fc7b0;_0x5498e1[_0x58957c(0xc36)]();const _0x11809f=_0x4bdbf1['dataset']['id'];document[_0x58957c(0xc0e)](_0x58957c(0xc13))[_0x58957c(0x319)][_0x58957c(0x930)](_0x58957c(0x772)),handleQuizSettings(_0x11809f);});}),_0x16e9dc['querySelectorAll']('.quiz-bank-delete-btn')[_0x2aa2a0(0x2d3)](_0x2d1659=>{const _0x431008=_0x2aa2a0;_0x2d1659['addEventListener'](_0x431008(0x9fd),_0xc8e05e=>{const _0x5879df=_0x431008;_0xc8e05e[_0x5879df(0xc36)]();const _0x3fdcd3=_0x2d1659[_0x5879df(0x5e8)]['id'],_0x333e21=_0x2d1659[_0x5879df(0x5e8)][_0x5879df(0x156)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x333e21+_0x5879df(0x6ac),()=>handleDeleteQuiz(_0x3fdcd3));});}));}async function handleCompareResults(_0xe2fbe2,_0x5b041d){const _0x54e377=_0x3a9f7b,_0x56b2c8=document[_0x54e377(0xc0e)](_0x54e377(0x23a)),_0x3389ba=document[_0x54e377(0xc0e)]('comparison-overall-content'),_0x34c90f=document[_0x54e377(0xc0e)](_0x54e377(0x390));document[_0x54e377(0xc0e)](_0x54e377(0x9ec))['classList'][_0x54e377(0x930)](_0x54e377(0x75a)),document[_0x54e377(0xc0e)]('comparison-individual-tab')[_0x54e377(0x319)][_0x54e377(0xd08)](_0x54e377(0x75a)),_0x3389ba[_0x54e377(0x319)][_0x54e377(0xd08)](_0x54e377(0x772)),_0x34c90f[_0x54e377(0x319)]['add']('hidden'),_0x3389ba[_0x54e377(0xd5e)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x34c90f[_0x54e377(0xd5e)]='',_0x56b2c8[_0x54e377(0x319)][_0x54e377(0xd08)]('hidden');try{const _0x58f794=doc(db,_0x54e377(0xb3f)+appId+_0x54e377(0xb0a),_0xe2fbe2),_0x2c488c=await getDoc(_0x58f794);if(!_0x2c488c[_0x54e377(0x1fb)]())throw new Error(_0x54e377(0x27a));const _0x337735=_0x2c488c[_0x54e377(0x180)](),_0x160707=_0x337735['questions'][_0x54e377(0x7d2)],_0x303778=collection(db,_0x54e377(0xb3f)+appId+_0x54e377(0x253)+_0x5b041d+'/submissions'),_0x3c1a07=collection(db,_0x54e377(0xb3f)+appId+_0x54e377(0x253)+_0xe2fbe2+'/submissions'),[_0x452983,_0x1f354c]=await Promise[_0x54e377(0xc9a)]([getDocs(_0x303778),getDocs(_0x3c1a07)]),_0x1f7b61=_0x452983[_0x54e377(0x726)][_0x54e377(0x8ac)](_0x305184=>_0x305184[_0x54e377(0x180)]()),_0x297d6b=_0x1f354c[_0x54e377(0x726)]['map'](_0x47b48a=>_0x47b48a[_0x54e377(0x180)]()),_0x10f39a=_0x1f7b61[_0x54e377(0x8ac)](_0x424afe=>_0x424afe[_0x54e377(0x320)]),_0x8ae46d=_0x297d6b[_0x54e377(0x8ac)](_0x499533=>_0x499533['latestScore']),_0xd7b3ba=calculateMeanAndStdDev(_0x10f39a),_0x230ac2=calculateMeanAndStdDev(_0x8ae46d),_0x270ac4=_0xd7b3ba[_0x54e377(0x9e8)],_0xd2f5d2=_0x230ac2['mean'],_0x3e38d6=_0xd2f5d2-_0x270ac4;let _0x278141=_0x54e377(0xda)+_0x270ac4[_0x54e377(0xb83)](0x2)+_0x54e377(0x131)+_0xd2f5d2[_0x54e377(0xb83)](0x2)+_0x54e377(0x2e1)+(_0x3e38d6>=0x0?_0x54e377(0x7bd):'bg-red-100')+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x3e38d6>=0x0?_0x54e377(0x58d):'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x3e38d6>=0x0?_0x54e377(0x76f):_0x54e377(0x829))+'\x22>'+(_0x3e38d6>=0x0?'+':'')+_0x3e38d6[_0x54e377(0xb83)](0x2)+_0x54e377(0xd56);_0x3389ba[_0x54e377(0xd5e)]=_0x278141;const _0x849af7=document['getElementById'](_0x54e377(0xa7c))[_0x54e377(0x235)]('2d');if(chartInstances[_0x54e377(0xc24)])chartInstances[_0x54e377(0xc24)][_0x54e377(0xd5d)]();chartInstances[_0x54e377(0xc24)]=new Chart(_0x849af7,{'type':_0x54e377(0xd43),'data':{'labels':[_0x54e377(0x547)],'datasets':[{'label':_0x54e377(0xb08),'data':[_0x270ac4],'backgroundColor':_0x54e377(0xbbb)},{'label':_0x54e377(0xcef),'data':[_0xd2f5d2],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x160707}}}});const _0x582ef8=currentProjectData[_0x54e377(0xa46)]||[],_0x226c8a=_0x582ef8['map'](_0x452fe9=>{const _0x53d105=_0x54e377,_0x680f28=_0x1f7b61[_0x53d105(0x4b3)](_0x3b1a5a=>_0x3b1a5a[_0x53d105(0xbba)]===_0x452fe9),_0x39e567=_0x297d6b[_0x53d105(0x4b3)](_0x3d5375=>_0x3d5375['studentName']===_0x452fe9),_0x35a3bd=_0x680f28?_0x680f28[_0x53d105(0x320)]:null,_0x58c7ed=_0x39e567?_0x39e567['latestScore']:null,_0x3ca5dc=_0x35a3bd!==null&&_0x58c7ed!==null?_0x58c7ed-_0x35a3bd:null,_0x2b95a8=_0x35a3bd!==null?calculateZScore(_0x35a3bd,_0xd7b3ba[_0x53d105(0x9e8)],_0xd7b3ba[_0x53d105(0x568)]):null,_0x48bc3c=_0x58c7ed!==null?calculateZScore(_0x58c7ed,_0x230ac2['mean'],_0x230ac2[_0x53d105(0x568)]):null,_0x13d007=_0x2b95a8!==null?calculateTScore(_0x2b95a8):null,_0x225e62=_0x48bc3c!==null?calculateTScore(_0x48bc3c):null,_0x5819ad=_0x13d007!==null&&_0x225e62!==null?_0x225e62-_0x13d007:null;return{'name':_0x452fe9,'preScore':_0x35a3bd,'postScore':_0x58c7ed,'gain':_0x3ca5dc,'preTScore':_0x13d007,'postTScore':_0x225e62,'tGain':_0x5819ad};});renderIndividualComparisonTable(_0x226c8a,_0x34c90f);}catch(_0x193834){console['error'](_0x54e377(0xa76),_0x193834),_0x3389ba['innerHTML']=_0x54e377(0x580);}}async function saveBlueprintProject(){const _0x4d1db0=_0x3a9f7b;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x4d1db0(0x3a9));return;}const _0x2afee9=prompt(_0x4d1db0(0xc65),_0x4d1db0(0xd7b));if(!_0x2afee9||_0x2afee9[_0x4d1db0(0xa0f)]()==='')return;const _0x1d02f5={};extractedBlueprintData[_0x4d1db0(0xa1d)]['forEach'](_0xd01ac0=>{const _0x4f9514=_0x4d1db0;_0xd01ac0[_0x4f9514(0x944)][_0x4f9514(0x2d3)](_0x3d747d=>{const _0x2cbd09=_0x4f9514;_0x3d747d[_0x2cbd09(0x2c4)]['forEach'](_0x3391f9=>{const _0x1fcce7=_0x2cbd09,_0x7b0ab4='topic_'+Date[_0x1fcce7(0x62e)]()+Math['random']()[_0x1fcce7(0x6ad)](0x24)['substr'](0x2,0x9);_0x1d02f5[_0x7b0ab4]={'sara':_0xd01ac0[_0x1fcce7(0x889)],'mainTopic':_0x3d747d[_0x1fcce7(0x7fb)],'subTopic':_0x3391f9,'status':_0x1fcce7(0x2ea),'lessonContent':null};});});});try{const _0x2c5ba1=collection(db,_0x4d1db0(0xb3f)+appId+_0x4d1db0(0x87c));await addDoc(_0x2c5ba1,{'projectName':_0x2afee9[_0x4d1db0(0xa0f)](),'gradeLevel':extractedBlueprintData[_0x4d1db0(0x212)],'topics':_0x1d02f5,'createdAt':serverTimestamp()}),showMessage(_0x4d1db0(0x506)+_0x2afee9['trim']()+_0x4d1db0(0xa67)),document[_0x4d1db0(0xc0e)](_0x4d1db0(0x3a7))[_0x4d1db0(0x319)]['add'](_0x4d1db0(0x772));}catch(_0xfb3ef3){console[_0x4d1db0(0x4e3)](_0x4d1db0(0xce1),_0xfb3ef3),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}async function showBlueprintProjects(){const _0x149da9=_0x3a9f7b,_0x494a98=document[_0x149da9(0xc0e)]('blueprint-projects-modal'),_0x2d4c09=document[_0x149da9(0xc0e)](_0x149da9(0xa51));_0x2d4c09[_0x149da9(0xd5e)]=_0x149da9(0x950),_0x494a98[_0x149da9(0x319)][_0x149da9(0xd08)]('hidden');try{const _0x27387a=collection(db,_0x149da9(0xb3f)+appId+_0x149da9(0x87c)),_0x2f1d7b=await getDocs(_0x27387a);if(_0x2f1d7b[_0x149da9(0xb0c)]){_0x2d4c09[_0x149da9(0xd5e)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0xeab164=_0x2f1d7b['docs'][_0x149da9(0x8ac)](_0x376bc4=>({'id':_0x376bc4['id'],..._0x376bc4[_0x149da9(0x180)]()}));_0xeab164['sort']((_0x3640e3,_0x51bbe8)=>_0x3640e3[_0x149da9(0x139)][_0x149da9(0xae5)](_0x51bbe8[_0x149da9(0x139)],'th')),_0x2d4c09[_0x149da9(0xd5e)]=_0xeab164[_0x149da9(0x8ac)](_0x5800b2=>_0x149da9(0x30b)+_0x5800b2[_0x149da9(0x139)]+_0x149da9(0xb4d)+_0x5800b2['gradeLevel']+_0x149da9(0x208)+Object[_0x149da9(0x644)](_0x5800b2[_0x149da9(0x13e)])[_0x149da9(0x7d2)]+_0x149da9(0x91f)+_0x5800b2['id']+_0x149da9(0xd5f)+_0x5800b2['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}catch(_0x418bff){console['error']('Error\x20loading\x20blueprint\x20projects:',_0x418bff),_0x2d4c09[_0x149da9(0xd5e)]=_0x149da9(0x755);}}async function displayBlueprintProjectManager(_0x1f94a8){const _0x2bdf20=_0x3a9f7b;currentBlueprintProjectId=_0x1f94a8,document[_0x2bdf20(0xc0e)](_0x2bdf20(0x957))['classList'][_0x2bdf20(0x930)](_0x2bdf20(0x772)),showView(_0x2bdf20(0xc3e)),projectDashboardView['classList'][_0x2bdf20(0x930)](_0x2bdf20(0x772));const _0x44b052=document[_0x2bdf20(0xc0e)](_0x2bdf20(0xab8));_0x44b052['classList'][_0x2bdf20(0xd08)]('hidden'),document[_0x2bdf20(0xc0e)](_0x2bdf20(0xb46))[_0x2bdf20(0xd5e)]=_0x2bdf20(0x91c);try{const _0x307d87=doc(db,_0x2bdf20(0xb3f)+appId+_0x2bdf20(0x87c),_0x1f94a8),_0x25564b=await getDoc(_0x307d87);if(!_0x25564b['exists']())throw new Error('ไม่พบโปรเจค');const _0x31d041={'id':_0x25564b['id'],..._0x25564b[_0x2bdf20(0x180)]()};document[_0x2bdf20(0xc0e)]('bp-project-title')[_0x2bdf20(0x6fb)]=_0x31d041[_0x2bdf20(0x139)],document['getElementById']('bp-reference-file-url')[_0x2bdf20(0x452)]=_0x31d041['referenceFileUrl']||'',renderBlueprintTopicManager(_0x31d041);}catch(_0x4d1a6a){console[_0x2bdf20(0x4e3)](_0x2bdf20(0x3da),_0x4d1a6a),showMessage(_0x4d1a6a[_0x2bdf20(0x145)]),showView(_0x2bdf20(0xc3e));}}function renderBlueprintTopicManager(_0x24bde6){const _0x2418a9=_0x3a9f7b,_0x1ca484=document[_0x2418a9(0xc0e)](_0x2418a9(0xb46)),_0x1e0d69=_0x24bde6['topics']||{};if(Object[_0x2418a9(0x644)](_0x1e0d69)['length']===0x0){_0x1ca484[_0x2418a9(0xd5e)]=_0x2418a9(0xc2f);return;}const _0x30f569=Object[_0x2418a9(0x377)](_0x1e0d69)[_0x2418a9(0x8ac)](([_0xffa9a5,_0x32a38b])=>({'id':_0xffa9a5,..._0x32a38b}))[_0x2418a9(0x3fc)]((_0x13ba1f,_0x37f9a8)=>(_0x13ba1f[_0x2418a9(0x796)]??Infinity)-(_0x37f9a8[_0x2418a9(0x796)]??Infinity)),_0x3159c4={};_0x30f569[_0x2418a9(0x2d3)](_0x30b192=>{const _0x7a321c=_0x2418a9,{sara:_0x4d78da,mainTopic:_0x5b2e2c}=_0x30b192;!_0x3159c4[_0x4d78da]&&(_0x3159c4[_0x4d78da]={}),!_0x3159c4[_0x4d78da][_0x5b2e2c]&&(_0x3159c4[_0x4d78da][_0x5b2e2c]=[]),_0x3159c4[_0x4d78da][_0x5b2e2c][_0x7a321c(0x187)](_0x30b192);});let _0x3b96eb='';for(const _0x61cdf1 in _0x3159c4){_0x3b96eb+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x61cdf1+_0x2418a9(0x34d);for(const _0xb1a5a in _0x3159c4[_0x61cdf1]){_0x3b96eb+=_0x2418a9(0x710)+_0xb1a5a+_0x2418a9(0x640),_0x3159c4[_0x61cdf1][_0xb1a5a][_0x2418a9(0x2d3)](_0x47cd0f=>{const _0x728058=_0x2418a9,_0x26dc31=_0x47cd0f['id'],_0x37e255=_0x47cd0f[_0x728058(0xae6)]||[],_0x3cd7b3=_0x37e255[_0x728058(0x7d2)]>0x0,_0x250878=_0x47cd0f['status']===_0x728058(0x5a4);let _0x5c235e='';_0x3cd7b3?_0x5c235e=_0x728058(0x6f3)+_0x37e255[_0x728058(0x7d2)]+_0x728058(0xad1):_0x5c235e=_0x728058(0xac)+(_0x250878?_0x728058(0x395):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x250878?_0x728058(0x469):_0x728058(0x8e3))+_0x728058(0xcd9);const _0x1eb5fc=!_0x250878?_0x728058(0x4c5):'',_0xaa574c=!_0x250878?_0x728058(0x1ac):'';let _0x4b0dc5=_0x250878?_0x728058(0xaff):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x3b96eb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x26dc31+_0x728058(0x1c4)+_0x47cd0f[_0x728058(0x74f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c235e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x1eb5fc+_0x728058(0x60a)+_0xaa574c+_0x728058(0x1a8)+_0x4b0dc5+_0x728058(0xa05);}),_0x3b96eb+=_0x2418a9(0xbc5);}_0x3b96eb+=_0x2418a9(0x7f6);}_0x1ca484[_0x2418a9(0xd5e)]=_0x3b96eb;}async function handleDeepDeleteBlueprintProject(_0x2c9158){const _0x5c37d5=_0x3a9f7b,_0x359afa=doc(db,_0x5c37d5(0xb3f)+appId+_0x5c37d5(0x87c),_0x2c9158),_0x320788=await getDoc(_0x359afa);if(!_0x320788['exists']()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x38244b=_0x320788[_0x5c37d5(0x180)]()['projectName'];showConfirmation(_0x5c37d5(0x809)+_0x38244b+_0x5c37d5(0x55e),async()=>{const _0x2b6f2a=_0x5c37d5;showMessage(_0x2b6f2a(0x7b3));try{const _0x4bb22b=writeBatch(db),_0x2f7948=_0x320788[_0x2b6f2a(0x180)](),_0x5eb030=_0x2f7948[_0x2b6f2a(0x13e)]||{};for(const _0x6c555 in _0x5eb030){const _0x26df1c=doc(db,_0x2b6f2a(0xb3f)+appId+_0x2b6f2a(0x27f)+_0x2c9158+_0x2b6f2a(0x4ea),_0x6c555);_0x4bb22b[_0x2b6f2a(0xc4e)](_0x26df1c);}const _0x1ecbd0=new Set();for(const _0x597dca in _0x5eb030){_0x5eb030[_0x597dca]['linkedQuizIds']&&_0x5eb030[_0x597dca]['linkedQuizIds']['forEach'](_0x55f6c7=>_0x1ecbd0[_0x2b6f2a(0x930)](_0x55f6c7));}for(const _0x5b9566 of _0x1ecbd0){await handleDeleteQuiz(_0x5b9566,![]);}_0x4bb22b['delete'](_0x359afa),await _0x4bb22b[_0x2b6f2a(0xd55)](),showMessage(_0x2b6f2a(0xcf2)+_0x38244b+_0x2b6f2a(0x58c)),showBlueprintProjects();}catch(_0x3859ab){console[_0x2b6f2a(0x4e3)](_0x2b6f2a(0x631),_0x3859ab),showMessage(_0x2b6f2a(0x11b));}});}async function openTopicQuizBank(_0x5e9d35){const _0x4f2c4a=_0x3a9f7b,_0x3c2992=document[_0x4f2c4a(0xc0e)](_0x4f2c4a(0x749)),_0x55f508=document['getElementById']('topic-bank-list'),_0x49ca5e=document['getElementById']('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x3b8a31=doc(db,_0x4f2c4a(0xb3f)+appId+_0x4f2c4a(0x87c),currentBlueprintProjectId),_0xaaebda=await getDoc(_0x3b8a31);if(!_0xaaebda[_0x4f2c4a(0x1fb)]())return;const _0x1897f0=_0xaaebda[_0x4f2c4a(0x180)](),_0x75429b=_0x1897f0[_0x4f2c4a(0x13e)][_0x5e9d35];document['getElementById']('topic-bank-subtopic-name')[_0x4f2c4a(0x6fb)]=_0x75429b[_0x4f2c4a(0x74f)];const _0x5a27de=_0x75429b[_0x4f2c4a(0xae6)]||[];_0x49ca5e[_0x4f2c4a(0x319)][_0x4f2c4a(0xd6e)](_0x4f2c4a(0x772),_0x5a27de[_0x4f2c4a(0x7d2)]===0x0),_0x49ca5e[_0x4f2c4a(0xd75)]=()=>handleClearAllLinksForTopic(_0x5e9d35);if(_0x5a27de[_0x4f2c4a(0x7d2)]===0x0)_0x55f508[_0x4f2c4a(0xd5e)]=_0x4f2c4a(0x4a8);else{const _0x12e8da=allQuizzesGlobal['filter'](_0x28d734=>_0x5a27de['includes'](_0x28d734['id']));_0x55f508['innerHTML']=_0x12e8da['map'](_0x5888a1=>_0x4f2c4a(0x7d5)+_0x5888a1['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0x5888a1[_0x4f2c4a(0x156)]+_0x4f2c4a(0xc99)+_0x5888a1['id']+_0x4f2c4a(0x208)+_0x5888a1[_0x4f2c4a(0x9fc)][_0x4f2c4a(0x7d2)]+_0x4f2c4a(0x8b4)+_0x5888a1['id']+_0x4f2c4a(0x130)+_0x5888a1['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5888a1['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5888a1['id']+_0x4f2c4a(0xd26)+_0x5888a1['id']+_0x4f2c4a(0x247)+_0x5888a1['id']+_0x4f2c4a(0xc4d)+_0x5e9d35+_0x4f2c4a(0xc7d)+_0x5888a1['id']+_0x4f2c4a(0x2ed))[_0x4f2c4a(0x986)]('');}document['getElementById']('add-from-global-bank-btn')[_0x4f2c4a(0xd75)]=()=>{openQuizSelectorForBlueprint(_0x5e9d35);},document['getElementById'](_0x4f2c4a(0x28d))['onclick']=()=>_0x3c2992['classList']['add'](_0x4f2c4a(0x772)),_0x3c2992[_0x4f2c4a(0x319)]['remove'](_0x4f2c4a(0x772));}catch(_0x1a92da){showMessage(_0x1a92da[_0x4f2c4a(0x145)]);}}async function openQuizSelectorForBlueprint(_0x4a4a31){const _0x28a053=_0x3a9f7b,_0x4a97e1=document[_0x28a053(0xc0e)](_0x28a053(0xc13)),_0x141466=document[_0x28a053(0xc0e)](_0x28a053(0x749));_0x141466['classList'][_0x28a053(0x930)](_0x28a053(0x772)),document[_0x28a053(0xc0e)]('confirm-link-quiz-btn')?.[_0x28a053(0xd08)]();const _0x2762eb=document[_0x28a053(0x846)](_0x28a053(0xd09));_0x2762eb['id']=_0x28a053(0x65a),_0x2762eb[_0x28a053(0x56f)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x2762eb[_0x28a053(0x6fb)]=_0x28a053(0xabf),_0x2762eb[_0x28a053(0x622)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x4a97e1[_0x28a053(0x319)][_0x28a053(0xd08)](_0x28a053(0x772)),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x28a053(0xd01))[_0x28a053(0x5c6)][_0x28a053(0x6cf)]=_0x28a053(0x81d),_0x4a97e1[_0x28a053(0x535)](_0x28a053(0x99a))[_0x28a053(0x6ce)](_0x2762eb);const _0x15eab3=(_0x26e2b0=![])=>{const _0x11a8fa=_0x28a053;_0x4a97e1[_0x11a8fa(0x319)][_0x11a8fa(0x930)](_0x11a8fa(0x772)),document[_0x11a8fa(0xc0e)](_0x11a8fa(0xd01))[_0x11a8fa(0x5c6)][_0x11a8fa(0x6cf)]='flex',_0x2762eb[_0x11a8fa(0xd08)](),_0x26e2b0&&openTopicQuizBank(_0x4a4a31);};_0x2762eb['onclick']=async()=>{const _0x5563e8=_0x28a053,_0x194741=Array[_0x5563e8(0x30e)](document['querySelectorAll'](_0x5563e8(0x34e)))['map'](_0x2b0fd4=>_0x2b0fd4['value']);if(_0x194741[_0x5563e8(0x7d2)]===0x0)return;try{const _0x4c2ce0=doc(db,_0x5563e8(0xb3f)+appId+_0x5563e8(0x87c),currentBlueprintProjectId),_0xef623=(await getDoc(_0x4c2ce0))[_0x5563e8(0x180)](),_0xb8822e=_0xef623[_0x5563e8(0x13e)][_0x4a4a31][_0x5563e8(0xae6)]||[],_0x331f87=[...new Set([..._0xb8822e,..._0x194741])];await updateDoc(_0x4c2ce0,{[_0x5563e8(0x26a)+_0x4a4a31+'.linkedQuizIds']:_0x331f87}),showMessage(_0x5563e8(0x371)+_0x194741[_0x5563e8(0x7d2)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x15eab3(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x39dee8){console[_0x5563e8(0x4e3)]('Error\x20linking\x20quizzes:',_0x39dee8);}},document[_0x28a053(0xc0e)]('cancel-quiz-bank-btn')[_0x28a053(0xd75)]=()=>_0x15eab3(!![]);}catch(_0x52751c){showMessage(_0x52751c[_0x28a053(0x145)]),_0x141466[_0x28a053(0x319)][_0x28a053(0xd08)](_0x28a053(0x772));}}function handleClearLinkedQuiz(_0x1136a5){const _0x277ff1=_0x3a9f7b;showConfirmation(_0x277ff1(0xac0),async()=>{const _0x56a84a=_0x277ff1;try{const _0x3c7e3f=doc(db,_0x56a84a(0xb3f)+appId+_0x56a84a(0x87c),currentBlueprintProjectId);await updateDoc(_0x3c7e3f,{[_0x56a84a(0x26a)+_0x1136a5+_0x56a84a(0x967)]:deleteField()}),showMessage(_0x56a84a(0x647)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3ef36b){console['error']('Error\x20clearing\x20linked\x20quiz:',_0x3ef36b),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x64cc=_0x3a9f7b,_0x23a5c5=prompt(_0x64cc(0xc78));if(!_0x23a5c5||_0x23a5c5[_0x64cc(0xa0f)]()==='')return;const _0x2cac74=prompt(_0x64cc(0xa09),_0x64cc(0x650)),_0x42078c=prompt(_0x64cc(0x70d),_0x64cc(0x4fc)),_0x9b1fc9=_0x64cc(0x44f)+Date[_0x64cc(0x62e)]()+Math[_0x64cc(0x120)]()[_0x64cc(0x6ad)](0x24)[_0x64cc(0x171)](0x2,0x9),_0x26e2ec={'sara':_0x2cac74,'mainTopic':_0x42078c,'subTopic':_0x23a5c5['trim'](),'status':'not_generated','lessonContent':null};try{const _0x4f60de=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x4f60de,{[_0x64cc(0x26a)+_0x9b1fc9]:_0x26e2ec}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2f4bc8){console[_0x64cc(0x4e3)](_0x64cc(0xba0),_0x2f4bc8),showMessage(_0x64cc(0x1c9));}}async function editTopicInProject(_0x30dd9e){const _0x4dec0e=_0x3a9f7b,_0x2f45a1=document[_0x4dec0e(0x535)]('[data-topic-id=\x22'+_0x30dd9e+'\x22]'),_0x380149=_0x2f45a1[_0x4dec0e(0x535)](_0x4dec0e(0xea)),_0x5ec938=_0x380149[_0x4dec0e(0x6fb)],_0x4eed22=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x5ec938);if(!_0x4eed22||_0x4eed22[_0x4dec0e(0xa0f)]()===''||_0x4eed22[_0x4dec0e(0xa0f)]()===_0x5ec938)return;try{const _0x5d302d=doc(db,_0x4dec0e(0xb3f)+appId+_0x4dec0e(0x87c),currentBlueprintProjectId);await updateDoc(_0x5d302d,{[_0x4dec0e(0x26a)+_0x30dd9e+_0x4dec0e(0x45f)]:_0x4eed22[_0x4dec0e(0xa0f)]()}),_0x380149[_0x4dec0e(0x6fb)]=_0x4eed22[_0x4dec0e(0xa0f)](),showMessage(_0x4dec0e(0x5d2));}catch(_0x54e7d4){console[_0x4dec0e(0x4e3)]('Error\x20editing\x20topic:',_0x54e7d4),showMessage(_0x4dec0e(0xbec));}}async function deleteTopicFromProject(_0x26e69d){const _0x49409e=_0x3a9f7b;if(!confirm(_0x49409e(0x93d)))return;try{const _0x16ba04=doc(db,_0x49409e(0xb3f)+appId+_0x49409e(0x87c),currentBlueprintProjectId);await updateDoc(_0x16ba04,{[_0x49409e(0x26a)+_0x26e69d]:deleteField()}),document[_0x49409e(0x535)](_0x49409e(0x6a8)+_0x26e69d+'\x22]')['remove'](),showMessage(_0x49409e(0xbb0));}catch(_0xc13e2e){console[_0x49409e(0x4e3)](_0x49409e(0xd04),_0xc13e2e),showMessage(_0x49409e(0xa56));}}async function generateAndSaveLessonForBlueprint(_0x194945,_0x8bd472,_0x3df5c7){handleGenerateAndShowLesson(_0x8bd472,_0x3df5c7);const _0x192648=setInterval(async()=>{const _0x185e64=_0x57a1,_0x32297b=document['getElementById'](_0x185e64(0x973)),_0x28d4ca=_0x32297b[_0x185e64(0x319)][_0x185e64(0xa3b)](_0x185e64(0x772));if(_0x28d4ca){clearInterval(_0x192648);if(currentApplicationData&&currentApplicationData[_0x185e64(0x7d2)]>0x0){const _0x19824c={'point':document[_0x185e64(0xc0e)](_0x185e64(0x483))[_0x185e64(0xd5e)],'memory':document[_0x185e64(0xc0e)](_0x185e64(0x975))[_0x185e64(0xd5e)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x185e64(0xc0e)]('summaryContent')[_0x185e64(0xd5e)]};try{const _0x5613c8=doc(db,_0x185e64(0xb3f)+appId+_0x185e64(0x87c),currentBlueprintProjectId),_0x232694=doc(db,_0x185e64(0xb3f)+appId+_0x185e64(0x27f)+currentBlueprintProjectId+'/lessons',_0x194945),_0x237643=writeBatch(db);_0x237643[_0x185e64(0x51f)](_0x232694,{'content':_0x19824c}),_0x237643[_0x185e64(0xe0)](_0x5613c8,{[_0x185e64(0x26a)+_0x194945+_0x185e64(0x664)]:_0x185e64(0x5a4)}),await _0x237643[_0x185e64(0xd55)](),console[_0x185e64(0x955)](_0x185e64(0x892)+_0x194945+_0x185e64(0xbf)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5494f8){console[_0x185e64(0x4e3)]('Error\x20saving\x20lesson\x20to\x20project:',_0x5494f8);}}}},0x3e8);}function displayHalfMarkResult(_0x568957,_0x2227b8){const _0x3da808=_0x3a9f7b,_0x39c72d=_0x568957>=_0x2227b8/0x2,_0x5e3738=_0x39c72d?_0x3da808(0x4d6):'bg-red-100',_0x5a81d9=_0x39c72d?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x441d2d=_0x39c72d?_0x3da808(0x6f0):'text-red-800',_0x45b057=_0x39c72d?_0x3da808(0x4ee):_0x3da808(0x221),_0x2a52ab=_0x39c72d?_0x3da808(0x72c):_0x3da808(0x31d);let _0xac7efc=_0x3da808(0xbf4)+_0x5e3738+_0x3da808(0xc2a)+_0x5a81d9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x441d2d+_0x3da808(0x3ff)+_0x45b057+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x2a52ab+_0x3da808(0x8a8);studentResultArea[_0x3da808(0xd5e)]=_0xac7efc,studentResultArea['classList'][_0x3da808(0xd08)](_0x3da808(0x772)),studentQuizArea['classList'][_0x3da808(0x930)](_0x3da808(0x772)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x39c72d});}function displayPerfectScoreResult(_0x463a43,_0x424afd){const _0x30b91f=_0x3a9f7b,_0x293155=_0x463a43===_0x424afd,_0x367a80=_0x293155?_0x30b91f(0xbb6):_0x30b91f(0x8b0),_0x5413b6=_0x293155?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x941671=_0x293155?_0x30b91f(0x6c8):_0x30b91f(0x7a3),_0x18403a=_0x293155?_0x30b91f(0x173):_0x30b91f(0x992),_0x83bc7e=_0x293155?_0x30b91f(0x9e9):_0x30b91f(0xa6b);let _0x352cd2=_0x30b91f(0xbf4)+_0x367a80+_0x30b91f(0xc2a)+_0x5413b6+_0x30b91f(0xcdd)+_0x941671+_0x30b91f(0x3ff)+_0x18403a+_0x30b91f(0xa82)+_0x83bc7e+_0x30b91f(0x8a8);studentResultArea['innerHTML']=_0x352cd2,studentResultArea['classList'][_0x30b91f(0xd08)](_0x30b91f(0x772)),studentQuizArea[_0x30b91f(0x319)][_0x30b91f(0x930)](_0x30b91f(0x772)),setupResultScreenBackButton({'showRankings':![],'score':_0x463a43,'totalQuestions':_0x424afd});}function renderIndividualComparisonTable(_0x1401f8,_0x1eea8d){const _0x5adc29=_0x3a9f7b;_0x1401f8[_0x5adc29(0x3fc)]((_0xdfb76e,_0x553522)=>(_0x553522[_0x5adc29(0xc20)]??-Infinity)-(_0xdfb76e[_0x5adc29(0xc20)]??-Infinity));let _0x225723=_0x5adc29(0xcd8);_0x1401f8[_0x5adc29(0x7d2)]===0x0?_0x225723+=_0x5adc29(0x46f):_0x1401f8[_0x5adc29(0x2d3)]((_0x748fce,_0x1e63e9)=>{const _0x496399=_0x5adc29;let _0x1ddb40='-',_0x1f6467='';if(_0x748fce[_0x496399(0xa73)]!==null){const _0x2dd1b6=_0x748fce['gain']>0x0?_0x496399(0x3bc):_0x748fce['gain']<0x0?_0x496399(0x1df):_0x496399(0x561),_0x351753=_0x748fce[_0x496399(0xa73)]>0x0?'+':'';_0x1ddb40=_0x496399(0xa4a)+_0x2dd1b6+'\x22>'+_0x351753+_0x748fce['gain']+_0x496399(0xcd9);if(_0x748fce['gain']>0x0)_0x1f6467=_0x496399(0xbe2);else _0x748fce[_0x496399(0xa73)]<0x0?_0x1f6467='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x1f6467=_0x496399(0xed);}let _0x44d39d='-';if(_0x748fce[_0x496399(0xc20)]!==null){const _0x170683=_0x748fce[_0x496399(0xc20)]>0x0?'text-green-600':_0x748fce[_0x496399(0xc20)]<0x0?_0x496399(0x1df):_0x496399(0x561),_0x151ca1=_0x748fce['tGain']>0x0?'+':'';_0x44d39d='<span\x20class=\x22font-bold\x20'+_0x170683+'\x22>'+_0x151ca1+_0x748fce[_0x496399(0xc20)][_0x496399(0xb83)](0x2)+_0x496399(0xcd9);}_0x225723+=_0x496399(0xcde)+(_0x1e63e9+0x1)+_0x496399(0x498)+_0x748fce[_0x496399(0x58e)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x748fce['preScore']??'-')+_0x496399(0x4bf)+(_0x748fce[_0x496399(0xb56)]??'-')+_0x496399(0x10c)+_0x1ddb40+_0x496399(0x7b1)+_0x1f6467+_0x496399(0xc2c)+(_0x748fce[_0x496399(0xc1b)]?.[_0x496399(0xb83)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x748fce[_0x496399(0xbb4)]?.[_0x496399(0xb83)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x44d39d+_0x496399(0x64f);}),_0x225723+=_0x5adc29(0x106),_0x1eea8d['innerHTML']=_0x225723;}function handleRenameQuiz(_0x342caa,_0x29dcd2){const _0x4108f8=_0x3a9f7b;actionTargetId=_0x342caa,document[_0x4108f8(0xc0e)](_0x4108f8(0xd2b))[_0x4108f8(0x452)]=_0x29dcd2,renameQuizModal[_0x4108f8(0x319)][_0x4108f8(0xd08)](_0x4108f8(0x772));}function setupComparisonModalTabs(){const _0x1a068b=_0x3a9f7b,_0x403e73=document[_0x1a068b(0xc0e)](_0x1a068b(0x9ec)),_0x310897=document['getElementById']('comparison-individual-tab'),_0x3cbb4b=document['getElementById']('comparison-overall-content'),_0x3b2d80=document[_0x1a068b(0xc0e)]('comparison-individual-content');_0x403e73[_0x1a068b(0x59d)](_0x1a068b(0x9fd),()=>{const _0x2f7fa7=_0x1a068b;_0x403e73['classList'][_0x2f7fa7(0x930)](_0x2f7fa7(0x75a)),_0x310897[_0x2f7fa7(0x319)][_0x2f7fa7(0xd08)](_0x2f7fa7(0x75a)),_0x3cbb4b[_0x2f7fa7(0x319)][_0x2f7fa7(0xd08)]('hidden'),_0x3b2d80['classList'][_0x2f7fa7(0x930)](_0x2f7fa7(0x772));}),_0x310897['addEventListener'](_0x1a068b(0x9fd),()=>{const _0x1f92b1=_0x1a068b;_0x310897['classList'][_0x1f92b1(0x930)](_0x1f92b1(0x75a)),_0x403e73[_0x1f92b1(0x319)]['remove'](_0x1f92b1(0x75a)),_0x3b2d80['classList'][_0x1f92b1(0xd08)](_0x1f92b1(0x772)),_0x3cbb4b[_0x1f92b1(0x319)]['add'](_0x1f92b1(0x772));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x386835=_0x3a9f7b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1e3a73=doc(db,_0x386835(0xb3f)+appId+_0x386835(0xa97),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1e3a73,_0x104699=>{const _0x1ffdc6=_0x386835;if(!_0x104699[_0x1ffdc6(0x1fb)]()){showMessage(_0x1ffdc6(0x6b3));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1ffdc6(0xcd6)?showView('project-detail'):showView(_0x1ffdc6(0x243));return;}const _0x104210=_0x104699[_0x1ffdc6(0x180)]();_0x104210[_0x1ffdc6(0xc11)]&&(currentQuizData=_0x104210['shuffledQuiz']);!currentQuizData&&_0x104210['quizId']&&((async()=>{const _0xd085db=_0x1ffdc6;try{const _0x4055d8=doc(db,_0xd085db(0xb3f)+appId+'/public/data/quizzes',_0x104210['quizId']),_0x5110bd=await getDoc(_0x4055d8);_0x5110bd[_0xd085db(0x1fb)]()&&(currentQuizData={'id':_0x5110bd['id'],..._0x5110bd[_0xd085db(0x180)]()});}catch(_0x36e9fb){console['error'](_0xd085db(0x7eb),_0x36e9fb);}})());switch(_0x104210[_0x1ffdc6(0x896)]){case _0x1ffdc6(0x9aa):if(currentMode===_0x1ffdc6(0xcd6)){const _0x3c3137=_0x104210['players']?Object[_0x1ffdc6(0x377)](_0x104210[_0x1ffdc6(0xd1)]):[],_0x1930b9=_0x3c3137[_0x1ffdc6(0xb6e)](([_0x4ea44c,_0x19d99b])=>_0x19d99b[_0x1ffdc6(0x896)]==='active'),_0x51f443=document['getElementById'](_0x1ffdc6(0x64c));if(_0x51f443)_0x51f443[_0x1ffdc6(0x6fb)]=_0x1930b9['length'];const _0x4a607c=document[_0x1ffdc6(0xc0e)](_0x1ffdc6(0x6df));_0x4a607c&&(_0x4a607c['innerHTML']=_0x1930b9[_0x1ffdc6(0x8ac)](([_0x4e70fe,_0x508552])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4e70fe+_0x1ffdc6(0x416)+_0x4e70fe+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1ffdc6(0x986)](''));const _0x277fe8=document[_0x1ffdc6(0xc0e)](_0x1ffdc6(0xa81));_0x277fe8&&(_0x277fe8[_0x1ffdc6(0x622)]=_0x1930b9[_0x1ffdc6(0x7d2)]===0x0);}else showView(_0x1ffdc6(0xb0)),liveGameView[_0x1ffdc6(0xd5e)]=_0x1ffdc6(0x258)+currentStudentName+_0x1ffdc6(0xb76);break;case _0x1ffdc6(0x536):const _0x72db0d=_0x104210['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x1ffdc6(0x9fc)][_0x72db0d]){const _0x5c6e3a=currentQuizData[_0x1ffdc6(0x9fc)][_0x72db0d],_0x4828cd=_0x104210[_0x1ffdc6(0x24c)]||_0x1ffdc6(0x113);switch(_0x4828cd){case _0x1ffdc6(0x470):currentMode==='admin'?showAdminSummaryView(_0x104210,_0x5c6e3a):showPlayerSummaryView(_0x104210,currentStudentName);break;case _0x1ffdc6(0x2eb):currentMode===_0x1ffdc6(0xcd6)&&showTop5LeaderboardView(_0x104210);break;case _0x1ffdc6(0x113):default:if(currentMode===_0x1ffdc6(0xcd6)){const _0x7d79d8=writeBatch(db);let _0x48c836=![];Object[_0x1ffdc6(0x377)](_0x104210['players'])[_0x1ffdc6(0x2d3)](([_0x2101e5,_0x3f779d])=>{const _0x54b92a=_0x1ffdc6;if(_0x3f779d['status']==='active'&&_0x3f779d['submittedAt']&&!_0x3f779d[_0x54b92a(0xa93)]){_0x48c836=!![];const _0x382b23=_0x3f779d['submittedAt']['toDate']()-_0x104210[_0x54b92a(0x2d6)][_0x54b92a(0x8f3)]();let _0x18f3a=0x0;if(_0x3f779d[_0x54b92a(0x1de)]){const _0x990e75=0x3e8,_0x19b793=0x1f4,_0x2b1b86=0x4e20;let _0x533510=_0x382b23/_0x2b1b86;if(_0x533510>0x1)_0x533510=0x1;const _0x22b524=Math[_0x54b92a(0xc60)](_0x533510*_0x19b793);_0x18f3a=_0x990e75-_0x22b524;}const _0x260766=doc(db,_0x54b92a(0xb3f)+appId+'/public/data/liveGames',currentLiveGameId);_0x7d79d8[_0x54b92a(0xe0)](_0x260766,{[_0x54b92a(0xc52)+_0x2101e5+_0x54b92a(0x237)]:increment(_0x18f3a),['players.'+_0x2101e5+'.pointsLastQuestion']:_0x18f3a,[_0x54b92a(0xc52)+_0x2101e5+'.isScored']:!![]});}});_0x48c836&&_0x7d79d8['commit']()['catch'](_0x32a066=>console[_0x1ffdc6(0x4e3)](_0x1ffdc6(0x532),_0x32a066));lastRenderedAdminQuestionIndex!==_0x72db0d&&(showAdminLiveQuestionView(_0x5c6e3a,_0x72db0d,currentQuizData[_0x1ffdc6(0x9fc)][_0x1ffdc6(0x7d2)]),lastRenderedAdminQuestionIndex=_0x72db0d);const _0x38d03c=_0x104210[_0x1ffdc6(0xd1)]||{},_0x3add9c=Object[_0x1ffdc6(0x3ac)](_0x38d03c)[_0x1ffdc6(0xb6e)](_0x9b50e1=>_0x9b50e1['status']===_0x1ffdc6(0x75a)),_0x4c9879=_0x3add9c[_0x1ffdc6(0x7d2)],_0x53703e=_0x3add9c[_0x1ffdc6(0xb6e)](_0x35f910=>_0x35f910[_0x1ffdc6(0xd06)]===!![])[_0x1ffdc6(0x7d2)],_0x5d010a=document['getElementById'](_0x1ffdc6(0x8a2));if(_0x5d010a)_0x5d010a[_0x1ffdc6(0x6fb)]=_0x53703e+'/'+_0x4c9879;const _0x148d1c=document['getElementById'](_0x1ffdc6(0x1b2));if(_0x148d1c){let _0x1a3e99=Object['entries'](_0x38d03c)[_0x1ffdc6(0xb6e)](([_0x4497f4,_0x44c5ec])=>_0x44c5ec['status']==='active')['map'](([_0x54c395,_0xe1c711])=>{const _0x1f88f7=_0x1ffdc6,_0x5536a6=_0xe1c711[_0x1f88f7(0xd06)]===!![],_0x26d363=_0x5536a6?_0x1f88f7(0x65f):_0x1f88f7(0xc1f),_0x4e26d9=_0x5536a6?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x1f88f7(0x361);return _0x1f88f7(0xcb9)+_0x26d363+_0x1f88f7(0x512)+_0x4e26d9+_0x1f88f7(0x59f)+_0x54c395+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x54c395+_0x1f88f7(0xa50);})[_0x1ffdc6(0x986)]('');_0x148d1c['innerHTML']=_0x1a3e99||_0x1ffdc6(0x4e7);}_0x4c9879>0x0&&_0x53703e===_0x4c9879&&revealAnswerForAdmin(_0x72db0d,currentQuizData['questions'][_0x1ffdc6(0x7d2)]);}else{const _0x4ab1e9=_0x104210['players'][currentStudentName];_0x4ab1e9&&!_0x4ab1e9[_0x1ffdc6(0xd06)]&&showStudentLiveQuestionView(_0x5c6e3a,_0x72db0d,currentQuizData['questions'][_0x1ffdc6(0x7d2)]);}break;}}break;case _0x1ffdc6(0x52b):showPodiumView(_0x104210[_0x1ffdc6(0xd1)],_0x1ffdc6(0x8fc));break;}});}async function openGlobalActivityModal(){const _0x332a3=_0x3a9f7b;if(allQuizzesGlobal['length']===0x0){const _0x2cb61a=await getDocs(collection(db,_0x332a3(0xb3f)+appId+_0x332a3(0xb0a)));allQuizzesGlobal=_0x2cb61a[_0x332a3(0x726)]['map'](_0x1879a4=>({'id':_0x1879a4['id'],..._0x1879a4['data']()}));}renderGlobalActivityList(''),document['getElementById']('global-activity-modal')['classList'][_0x332a3(0xd08)](_0x332a3(0x772));}function renderGlobalActivityList(_0x4576d8=''){const _0x18a4e7=_0x3a9f7b,_0x3845a3=document[_0x18a4e7(0xc0e)]('global-activity-quiz-list'),_0x1b485b=_0x4576d8[_0x18a4e7(0x703)]()[_0x18a4e7(0xa0f)](),_0x21d120=allQuizzesGlobal['map'](_0x59874a=>({..._0x59874a,'projectName':allProjects[_0x18a4e7(0x4b3)](_0x57d22e=>_0x57d22e['id']===_0x59874a[_0x18a4e7(0xd39)])?.[_0x18a4e7(0x139)]||_0x18a4e7(0x791)}))[_0x18a4e7(0xb6e)](_0x4cb8af=>(_0x4cb8af[_0x18a4e7(0x156)]||'')[_0x18a4e7(0x703)]()[_0x18a4e7(0x1bc)](_0x1b485b)||(_0x4cb8af[_0x18a4e7(0x139)]||'')[_0x18a4e7(0x703)]()[_0x18a4e7(0x1bc)](_0x1b485b));document[_0x18a4e7(0xc0e)](_0x18a4e7(0x86c))[_0x18a4e7(0x6fb)]='('+_0x21d120['length']+_0x18a4e7(0x4cd),_0x3845a3[_0x18a4e7(0xd5e)]=_0x21d120[_0x18a4e7(0x7d2)]?_0x21d120[_0x18a4e7(0x8ac)](_0x2083b4=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x2083b4[_0x18a4e7(0x156)]||_0x18a4e7(0x887))+_0x18a4e7(0xd40)+(_0x2083b4[_0x18a4e7(0x9fc)]?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x2083b4[_0x18a4e7(0x139)]+_0x18a4e7(0xba)+_0x2083b4['id']+_0x18a4e7(0x29f)+_0x2083b4['id']+_0x18a4e7(0xd0f)+_0x2083b4['id']+_0x18a4e7(0x8b9)+_0x2083b4['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0x18a4e7(0x986)](''):_0x18a4e7(0x8f7);}async function handleKickPlayer(_0x187fd0){const _0x3aa64b=_0x3a9f7b;if(!currentLiveGameId||!_0x187fd0)return;const _0x1f1c41=doc(db,_0x3aa64b(0xb3f)+appId+_0x3aa64b(0xa97),currentLiveGameId),_0x55db6d={};_0x55db6d[_0x3aa64b(0xc52)+_0x187fd0+_0x3aa64b(0x664)]='inactive';try{await updateDoc(_0x1f1c41,_0x55db6d);}catch(_0x5738c8){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x187fd0+':',_0x5738c8),showMessage(_0x3aa64b(0xd10));}}async function authenticateUser(){const _0x48fbea=_0x3a9f7b;try{typeof __initial_auth_token!==_0x48fbea(0xd58)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x3e82b6){console[_0x48fbea(0x4e3)](_0x48fbea(0x947),_0x3e82b6),showMessage(_0x48fbea(0x148));}}function showView(_0x568469){const _0x2e41d6=_0x3a9f7b;adminView[_0x2e41d6(0x319)]['add'](_0x2e41d6(0x772)),studentView[_0x2e41d6(0x319)][_0x2e41d6(0x930)](_0x2e41d6(0x772)),projectDashboardView[_0x2e41d6(0x319)][_0x2e41d6(0x930)](_0x2e41d6(0x772)),projectDetailView[_0x2e41d6(0x319)][_0x2e41d6(0x930)](_0x2e41d6(0x772)),quizResultsView['classList'][_0x2e41d6(0x930)](_0x2e41d6(0x772)),liveGameView[_0x2e41d6(0x319)][_0x2e41d6(0x930)](_0x2e41d6(0x772)),document[_0x2e41d6(0xc0e)]('blueprint-project-manager-view')['classList'][_0x2e41d6(0x930)]('hidden'),studentInitialView[_0x2e41d6(0x319)][_0x2e41d6(0x930)](_0x2e41d6(0x772)),studentJoinGameView[_0x2e41d6(0x319)][_0x2e41d6(0x930)](_0x2e41d6(0x772)),studentNameSelectionView[_0x2e41d6(0x319)][_0x2e41d6(0x930)](_0x2e41d6(0x772)),studentQuizArea[_0x2e41d6(0x319)][_0x2e41d6(0x930)](_0x2e41d6(0x772)),studentResultArea['classList'][_0x2e41d6(0x930)](_0x2e41d6(0x772)),studentReadingArea[_0x2e41d6(0x319)]['add']('hidden');const _0x5272cb=document['getElementById'](_0x2e41d6(0x105)),_0x24e3ff=document[_0x2e41d6(0xc0e)](_0x2e41d6(0x4bc));if(_0x5272cb)_0x5272cb[_0x2e41d6(0x319)][_0x2e41d6(0x930)](_0x2e41d6(0x772));if(_0x24e3ff)_0x24e3ff[_0x2e41d6(0x319)]['add'](_0x2e41d6(0x772));switch(_0x568469){case _0x2e41d6(0xc3e):adminView[_0x2e41d6(0x319)][_0x2e41d6(0xd08)](_0x2e41d6(0x772)),projectDashboardView[_0x2e41d6(0x319)]['remove'](_0x2e41d6(0x772));break;case'project-detail':adminView[_0x2e41d6(0x319)][_0x2e41d6(0xd08)](_0x2e41d6(0x772)),projectDetailView[_0x2e41d6(0x319)][_0x2e41d6(0xd08)](_0x2e41d6(0x772));break;case _0x2e41d6(0x753):adminView[_0x2e41d6(0x319)]['remove'](_0x2e41d6(0x772)),quizResultsView[_0x2e41d6(0x319)][_0x2e41d6(0xd08)](_0x2e41d6(0x772));break;case _0x2e41d6(0x243):studentView[_0x2e41d6(0x319)]['remove']('hidden'),studentInitialView['classList']['remove'](_0x2e41d6(0x772));break;case _0x2e41d6(0xb0):liveGameView['classList'][_0x2e41d6(0xd08)](_0x2e41d6(0x772));break;case _0x2e41d6(0x369):studentView['classList'][_0x2e41d6(0xd08)](_0x2e41d6(0x772));if(_0x5272cb)_0x5272cb[_0x2e41d6(0x319)]['remove'](_0x2e41d6(0x772));break;case _0x2e41d6(0x60f):studentView['classList'][_0x2e41d6(0xd08)](_0x2e41d6(0x772));if(_0x24e3ff)_0x24e3ff['classList'][_0x2e41d6(0xd08)](_0x2e41d6(0x772));break;default:studentView[_0x2e41d6(0x319)]['remove'](_0x2e41d6(0x772)),studentInitialView[_0x2e41d6(0x319)]['remove'](_0x2e41d6(0x772));break;}}function showJoinGameView(){const _0x43e424=_0x3a9f7b;studentInitialView[_0x43e424(0x319)][_0x43e424(0x930)](_0x43e424(0x772)),studentJoinGameView[_0x43e424(0x319)][_0x43e424(0xd08)]('hidden');}async function handleSaveVisibilitySettings(){const _0x5d22d1=_0x3a9f7b;if(!currentProjectId)return;const _0x23c0f5=doc(db,'artifacts/'+appId+_0x5d22d1(0xb8e),currentProjectId);try{await updateDoc(_0x23c0f5,{'settings.showInStudentDashboard':document['getElementById'](_0x5d22d1(0x154))[_0x5d22d1(0x9da)],'settings.isPasscodeEnabled':document[_0x5d22d1(0xc0e)](_0x5d22d1(0xab9))[_0x5d22d1(0x9da)],'settings.passcode':document['getElementById'](_0x5d22d1(0xa9f))['value']['trim']()}),showMessage(_0x5d22d1(0xa15));}catch(_0x39bb27){console[_0x5d22d1(0x4e3)](_0x5d22d1(0xb4a),_0x39bb27),showMessage(_0x5d22d1(0x16b));}}function setupEventListeners(){const _0xe18d7f=_0x3a9f7b;document[_0xe18d7f(0xc0e)](_0xe18d7f(0x707))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x46381e=_0xe18d7f;document['getElementById'](_0x46381e(0x819))['classList'][_0x46381e(0x930)]('hidden');}),document[_0xe18d7f(0xc0e)]('confirm-wager-btn')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0xa7df9a=_0xe18d7f,_0x2a08c0=document['getElementById'](_0xa7df9a(0x819)),_0x35e188=document[_0xa7df9a(0xc0e)](_0xa7df9a(0x979)),_0x3532cf=document['getElementById'](_0xa7df9a(0x7af))[_0xa7df9a(0x452)],_0x4455cc=_0x35e188[_0xa7df9a(0x5e8)][_0xa7df9a(0x491)],_0x462616=JSON['parse'](_0x35e188['dataset'][_0xa7df9a(0x536)]),_0x5eb372=JSON[_0xa7df9a(0x7da)](_0x35e188[_0xa7df9a(0x5e8)][_0xa7df9a(0x787)]),_0x5ac7a1=_0x35e188['dataset'][_0xa7df9a(0xd6d)];_0x2a08c0[_0xa7df9a(0x319)][_0xa7df9a(0x930)](_0xa7df9a(0x772)),handleSyncAnswerSubmit(_0x4455cc,_0x462616,_0x5eb372,_0x5ac7a1,![],_0x3532cf);}),document[_0xe18d7f(0x68f)]('input[name=\x22syncVariant\x22]')[_0xe18d7f(0x2d3)](_0x5453e6=>{const _0x4fdcf3=_0xe18d7f;_0x5453e6[_0x4fdcf3(0x59d)](_0x4fdcf3(0xc16),_0x4668c9=>{const _0x5f05b6=_0x4fdcf3,_0x245dc9=document[_0x5f05b6(0xc0e)](_0x5f05b6(0x4d5));_0x4668c9[_0x5f05b6(0x697)][_0x5f05b6(0x452)]===_0x5f05b6(0x4f4)?_0x245dc9[_0x5f05b6(0x319)][_0x5f05b6(0xd08)](_0x5f05b6(0x772)):_0x245dc9[_0x5f05b6(0x319)][_0x5f05b6(0x930)](_0x5f05b6(0x772));});}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x1f1))['addEventListener']('change',_0x277572=>{const _0x449f53=_0xe18d7f;document[_0x449f53(0xc0e)]('sync-timer-duration-container')[_0x449f53(0x319)][_0x449f53(0xd6e)](_0x449f53(0x772),!_0x277572[_0x449f53(0x697)]['checked']);});const _0x23be36=document['getElementById'](_0xe18d7f(0x98f)),_0x3cab30=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x65e));_0x23be36&&_0x3cab30&&_0x23be36[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x2d0471=_0xe18d7f;_0x3cab30[_0x2d0471(0x319)][_0x2d0471(0x930)](_0x2d0471(0x772)),_0x3cab30[_0x2d0471(0x5e8)]['currentMode']='';});const _0x59fd5d=document[_0xe18d7f(0xc0e)]('dim-overlay');_0x59fd5d&&(_0x59fd5d[_0xe18d7f(0x59d)](_0xe18d7f(0xcd5),wakeUpScreen),_0x59fd5d[_0xe18d7f(0x59d)](_0xe18d7f(0x932),wakeUpScreen));document['getElementById'](_0xe18d7f(0xce3))['addEventListener']('click',async()=>{const _0x27f9ba=_0xe18d7f;if(!currentBlueprintProjectId)return;const _0x4fabed=document[_0x27f9ba(0xc0e)](_0x27f9ba(0xb6c))['value'][_0x27f9ba(0xa0f)](),_0x262c81=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x262c81,{'referenceFileUrl':_0x4fabed}),showMessage(_0x27f9ba(0x9b4));}catch(_0x37ba96){console[_0x27f9ba(0x4e3)](_0x27f9ba(0x90b),_0x37ba96),showMessage(_0x27f9ba(0x16b));}}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x9bf))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleAddParallelShortcutTab),document[_0xe18d7f(0xc0e)]('parallel-test-input-area')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0xf51ac1=>{const _0x441c2a=_0xe18d7f;_0xf51ac1['target'][_0x441c2a(0x190)](_0x441c2a(0x50b))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x441c2a(0xc0e)]('additional-parallel-shortcuts-modal')['classList'][_0x441c2a(0xd08)](_0x441c2a(0x772)));}),document[_0xe18d7f(0xc0e)]('close-additional-parallel-shortcuts-btn')[_0xe18d7f(0x59d)]('click',()=>{const _0x205131=_0xe18d7f;document[_0x205131(0xc0e)](_0x205131(0x14c))[_0x205131(0x319)][_0x205131(0x930)]('hidden');}),document[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x48099f=>{const _0x1fbe19=_0xe18d7f;!_0x48099f['target'][_0x1fbe19(0x190)](_0x1fbe19(0x636))&&document[_0x1fbe19(0x68f)](_0x1fbe19(0x917))[_0x1fbe19(0x2d3)](_0x4b4911=>_0x4b4911[_0x1fbe19(0x319)]['add'](_0x1fbe19(0x772)));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x300))[_0xe18d7f(0x59d)]('click',handleAddFileShortcutTab),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x86e))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x4ccf2f=>{const _0x3015ff=_0xe18d7f;_0x4ccf2f[_0x3015ff(0x697)]['closest'](_0x3015ff(0x203))&&(activeFileShortcutTabId=_0x3015ff(0xc9a),renderAdditionalFileShortcutsModal(),document[_0x3015ff(0xc0e)](_0x3015ff(0xc63))['classList'][_0x3015ff(0xd08)](_0x3015ff(0x772)));}),document[_0xe18d7f(0xc0e)]('close-additional-file-shortcuts-btn')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x57faad=_0xe18d7f;document[_0x57faad(0xc0e)](_0x57faad(0xc63))['classList'][_0x57faad(0x930)]('hidden');}),document[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x477960=>{const _0x1d8749=_0xe18d7f;!_0x477960[_0x1d8749(0x697)][_0x1d8749(0x190)]('.group\x5c/dropdown-file')&&document['querySelectorAll'](_0x1d8749(0x21e))[_0x1d8749(0x2d3)](_0x5a42ad=>_0x5a42ad[_0x1d8749(0x319)][_0x1d8749(0x930)](_0x1d8749(0x772)));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x4c4))[_0xe18d7f(0x59d)]('click',handleAddShortcutTab),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xc1))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x3ecdf3=>{const _0x2a1aca=_0xe18d7f,_0x2edaf8=_0x3ecdf3[_0x2a1aca(0x697)][_0x2a1aca(0x190)](_0x2a1aca(0x471)),_0x1adee2=_0x3ecdf3['target'][_0x2a1aca(0x190)](_0x2a1aca(0x683)),_0x3d3ae9=_0x3ecdf3[_0x2a1aca(0x697)][_0x2a1aca(0x190)](_0x2a1aca(0xd3a));if(_0x1adee2)openParallelTestShortcutEditor(_0x1adee2[_0x2a1aca(0x5e8)]['id']);else{if(_0x3d3ae9){const _0x447a6f=_0x3d3ae9[_0x2a1aca(0x5e8)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x57196d=_0x2a1aca,_0x48f41c=parallelTestShortcuts[_0x57196d(0xb6e)](_0xaee753=>_0xaee753['id']!==_0x447a6f),_0x120dec=doc(db,_0x57196d(0x316),_0x57196d(0x305));await setDoc(_0x120dec,{'shortcuts':_0x48f41c},{'merge':!![]});});}else _0x2edaf8&&handleParallelTestShortcutClick(_0x2edaf8[_0x2a1aca(0x5e8)]['id']);}}),document['getElementById'](_0xe18d7f(0xa35))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>openParallelTestShortcutEditor(null)),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xaa6))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x27cfaa=_0xe18d7f;document[_0x27cfaa(0xc0e)]('parallel-shortcut-editor-modal')[_0x27cfaa(0x319)][_0x27cfaa(0x930)](_0x27cfaa(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x705))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),saveParallelTestShortcutChanges),document['getElementById'](_0xe18d7f(0x51e))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x4869f6=>{const _0x5bc956=_0xe18d7f;_0x4869f6['target']['closest']('#open-additional-parallel-shortcuts-btn')&&document[_0x5bc956(0xc0e)](_0x5bc956(0x14c))['classList'][_0x5bc956(0xd08)]('hidden');}),document[_0xe18d7f(0xc0e)]('close-additional-parallel-shortcuts-btn')['addEventListener'](_0xe18d7f(0x9fd),()=>{const _0x800ef3=_0xe18d7f;document[_0x800ef3(0xc0e)]('additional-parallel-shortcuts-modal')[_0x800ef3(0x319)]['add']('hidden');}),document['getElementById'](_0xe18d7f(0x52a))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x394d0c=>{const _0x57ec53=_0xe18d7f,_0x4cad22=document[_0x57ec53(0xc0e)]('additional-parallel-shortcuts-modal'),_0x1d96c0=_0x394d0c[_0x57ec53(0x697)][_0x57ec53(0x190)](_0x57ec53(0x66b)),_0x12c7d2=_0x394d0c['target'][_0x57ec53(0x190)](_0x57ec53(0xb88)),_0x58e21c=_0x394d0c[_0x57ec53(0x697)][_0x57ec53(0x190)](_0x57ec53(0xa45));if(_0x1d96c0)_0x4cad22['classList'][_0x57ec53(0x930)](_0x57ec53(0x772)),handleParallelTestShortcutClick(_0x1d96c0[_0x57ec53(0x5e8)]['id']);else{if(_0x12c7d2)_0x4cad22['classList'][_0x57ec53(0x930)]('hidden'),openParallelTestShortcutEditor(_0x12c7d2[_0x57ec53(0x5e8)]['id']);else{if(_0x58e21c){const _0x28f71b=_0x58e21c[_0x57ec53(0x5e8)]['id'];showConfirmation(_0x57ec53(0xb55),async()=>{const _0x5eb071=_0x57ec53,_0x4fe777=parallelTestShortcuts[_0x5eb071(0xb6e)](_0x742707=>_0x742707['id']!==_0x28f71b),_0x20a555=doc(db,_0x5eb071(0x316),_0x5eb071(0x305));await setDoc(_0x20a555,{'shortcuts':_0x4fe777},{'merge':!![]});});}}}}),document['getElementById'](_0xe18d7f(0x25c))[_0xe18d7f(0x59d)]('click',_0xf2957=>{const _0x404cf3=_0xe18d7f,_0x1b06ad=_0xf2957[_0x404cf3(0x697)][_0x404cf3(0x190)](_0x404cf3(0xcd7)),_0x44c3ab=_0xf2957[_0x404cf3(0x697)][_0x404cf3(0x190)](_0x404cf3(0xc1c)),_0x4e1a0=_0xf2957[_0x404cf3(0x697)][_0x404cf3(0x190)](_0x404cf3(0x8c8));if(_0x44c3ab)openFileShortcutEditor(_0x44c3ab['dataset']['id']);else{if(_0x4e1a0){const _0x2e1df2=_0x4e1a0[_0x404cf3(0x5e8)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x4f77ac=_0x404cf3,_0x2de3b8=fileShortcuts[_0x4f77ac(0xb6e)](_0xee7adb=>_0xee7adb['id']!==_0x2e1df2),_0x18171d=doc(db,_0x4f77ac(0x316),_0x4f77ac(0x252));await setDoc(_0x18171d,{'shortcuts':_0x2de3b8},{'merge':!![]});});}else _0x1b06ad&&handleFileShortcutClick(_0x1b06ad[_0x404cf3(0x5e8)]['id']);}}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xba4))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>openFileShortcutEditor(null)),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x81f))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x488453=_0xe18d7f;document[_0x488453(0xc0e)](_0x488453(0x1c6))[_0x488453(0x319)][_0x488453(0x930)](_0x488453(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x885))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),saveFileShortcutChanges),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x86e))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x5d19dc=>{const _0xa8f049=_0xe18d7f;_0x5d19dc[_0xa8f049(0x697)]['closest']('#open-additional-file-shortcuts-btn')&&document[_0xa8f049(0xc0e)](_0xa8f049(0xc63))[_0xa8f049(0x319)][_0xa8f049(0xd08)]('hidden');}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xcb0))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x347780=_0xe18d7f;document[_0x347780(0xc0e)](_0x347780(0xc63))[_0x347780(0x319)][_0x347780(0x930)]('hidden');}),document['getElementById']('additional-file-shortcuts-list')['addEventListener'](_0xe18d7f(0x9fd),_0x27d3a9=>{const _0x40994d=_0xe18d7f,_0x333a38=document['getElementById'](_0x40994d(0xc63)),_0x2e3776=_0x27d3a9[_0x40994d(0x697)][_0x40994d(0x190)](_0x40994d(0xc23)),_0x2447e6=_0x27d3a9[_0x40994d(0x697)]['closest'](_0x40994d(0x8c4)),_0x3fe502=_0x27d3a9[_0x40994d(0x697)][_0x40994d(0x190)](_0x40994d(0xd1a));if(_0x2e3776)_0x333a38[_0x40994d(0x319)][_0x40994d(0x930)](_0x40994d(0x772)),handleFileShortcutClick(_0x2e3776[_0x40994d(0x5e8)]['id']);else{if(_0x2447e6)_0x333a38[_0x40994d(0x319)][_0x40994d(0x930)](_0x40994d(0x772)),openFileShortcutEditor(_0x2447e6[_0x40994d(0x5e8)]['id']);else{if(_0x3fe502){const _0x2d3b2d=_0x3fe502[_0x40994d(0x5e8)]['id'];showConfirmation(_0x40994d(0xb55),async()=>{const _0x52ef03=_0x40994d,_0xcfc291=fileShortcuts['filter'](_0x493054=>_0x493054['id']!==_0x2d3b2d),_0x3fe2a9=doc(db,_0x52ef03(0x316),_0x52ef03(0x252));await setDoc(_0x3fe2a9,{'shortcuts':_0xcfc291},{'merge':!![]});});}}}}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x97d))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x4b2d60=>{const _0x51aba8=_0xe18d7f;_0x4b2d60[_0x51aba8(0x697)][_0x51aba8(0x190)](_0x51aba8(0x214))&&(activeShortcutTabId=_0x51aba8(0xc9a),renderAdditionalShortcutsModal(),document['getElementById'](_0x51aba8(0xc56))[_0x51aba8(0x319)][_0x51aba8(0xd08)]('hidden'));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x4ae))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x434e05=_0xe18d7f;document[_0x434e05(0xc0e)](_0x434e05(0xc56))[_0x434e05(0x319)][_0x434e05(0x930)]('hidden');}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x37b))['addEventListener'](_0xe18d7f(0x9fd),_0x3d1a85=>{const _0x83d0e8=_0xe18d7f,_0xffbe9=_0x3d1a85[_0x83d0e8(0x697)][_0x83d0e8(0x190)]('.use-hidden-shortcut-btn'),_0x430cbe=_0x3d1a85[_0x83d0e8(0x697)][_0x83d0e8(0x190)](_0x83d0e8(0x9ea)),_0x3785a6=_0x3d1a85[_0x83d0e8(0x697)][_0x83d0e8(0x190)](_0x83d0e8(0x3b1)),_0x4dcc4e=document[_0x83d0e8(0xc0e)]('additional-shortcuts-modal');if(_0xffbe9)_0x4dcc4e['classList'][_0x83d0e8(0x930)](_0x83d0e8(0x772)),handleShortcutClick(_0xffbe9[_0x83d0e8(0x5e8)]['id']);else{if(_0x430cbe)_0x4dcc4e['classList'][_0x83d0e8(0x930)]('hidden'),openShortcutEditor(_0x430cbe[_0x83d0e8(0x5e8)]['id']);else{if(_0x3785a6){const _0x47feda=_0x3785a6[_0x83d0e8(0x5e8)]['id'],_0x1029c2=blueprintShortcuts['find'](_0x2ab449=>_0x2ab449['id']===_0x47feda)?.[_0x83d0e8(0x58e)];showConfirmation(_0x83d0e8(0x6a5)+_0x1029c2+'\x22?',async()=>{const _0x53d355=_0x83d0e8,_0x55d9f5=blueprintShortcuts['filter'](_0x19a3d0=>_0x19a3d0['id']!==_0x47feda);try{const _0x4c76cf=doc(db,_0x53d355(0x316),_0x53d355(0x8e6));await setDoc(_0x4c76cf,{'blueprintShortcuts':_0x55d9f5},{'merge':!![]});}catch(_0x27c502){console[_0x53d355(0x4e3)](_0x53d355(0x5ea),_0x27c502);}});}}}}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x225))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x40bd82=>{const _0x4c8f7e=_0xe18d7f,_0x45dfab=_0x40bd82[_0x4c8f7e(0x697)][_0x4c8f7e(0x190)](_0x4c8f7e(0x1ad)),_0x2239f1=_0x40bd82[_0x4c8f7e(0x697)]['closest']('.edit-shortcut-btn'),_0x1293eb=_0x40bd82[_0x4c8f7e(0x697)][_0x4c8f7e(0x190)]('.delete-shortcut-btn');if(_0x2239f1)openShortcutEditor(_0x2239f1['dataset']['id']);else{if(_0x1293eb){const _0x47ed4a=_0x1293eb['dataset']['id'],_0x2dbb88=blueprintShortcuts[_0x4c8f7e(0x4b3)](_0xf651b0=>_0xf651b0['id']===_0x47ed4a)?.[_0x4c8f7e(0x58e)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x2dbb88+'\x22?',async()=>{const _0x468b01=_0x4c8f7e,_0x15c27a=blueprintShortcuts[_0x468b01(0xb6e)](_0x34787e=>_0x34787e['id']!==_0x47ed4a);try{const _0x2352e3=doc(db,'globalSettings','dashboardConfig');await setDoc(_0x2352e3,{'blueprintShortcuts':_0x15c27a},{'merge':!![]});}catch(_0x5764eb){console[_0x468b01(0x4e3)](_0x468b01(0x5ea),_0x5764eb);}});}else _0x45dfab&&handleShortcutClick(_0x45dfab['dataset']['id']);}}),document['getElementById'](_0xe18d7f(0x572))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>openShortcutEditor(null)),document['getElementById']('cancel-shortcut-edit-btn')['addEventListener'](_0xe18d7f(0x9fd),()=>{const _0x2f2a4d=_0xe18d7f;document['getElementById'](_0x2f2a4d(0x612))['classList']['add'](_0x2f2a4d(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x6bd))['addEventListener'](_0xe18d7f(0x9fd),saveShortcutChanges),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x7a8))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),async()=>{const _0x24a22d=_0xe18d7f,_0x2d065d=document[_0x24a22d(0xc0e)](_0x24a22d(0x2c5)),_0x1a4fd3=document['getElementById']('reference-pdf-upload');_0x2d065d[_0x24a22d(0x603)][_0x24a22d(0x7d2)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x2d065d[_0x24a22d(0x603)][0x0],_0x1a4fd3[_0x24a22d(0x603)][0x0]||null):showMessage(_0x24a22d(0x9a7));}),document[_0xe18d7f(0xc0e)]('topic-quiz-bank-modal')['addEventListener'](_0xe18d7f(0x9fd),async _0x5c6bdd=>{const _0x1862a2=_0xe18d7f,_0x47f0c0=document['getElementById'](_0x1862a2(0x749)),_0x293ab0=_0x5c6bdd['target'][_0x1862a2(0x190)](_0x1862a2(0x8ff)),_0x2955c3=_0x5c6bdd['target'][_0x1862a2(0x190)](_0x1862a2(0x25d)),_0x280311=_0x5c6bdd[_0x1862a2(0x697)][_0x1862a2(0x190)](_0x1862a2(0x519)),_0x17a05a=_0x5c6bdd[_0x1862a2(0x697)][_0x1862a2(0x190)](_0x1862a2(0x7c3)),_0x3728a8=_0x5c6bdd[_0x1862a2(0x697)]['closest']('.bp-live-btn'),_0xcbaec8=_0x5c6bdd[_0x1862a2(0x697)][_0x1862a2(0x190)]('.bp-game-btn');if(_0x293ab0){cameFromBlueprint=!![];const _0x9b4b11=_0x293ab0[_0x1862a2(0x5e8)][_0x1862a2(0x346)];showQuizDetailView(_0x9b4b11),_0x47f0c0[_0x1862a2(0x319)][_0x1862a2(0x930)]('hidden');}else{if(_0x2955c3){const _0x139340=_0x2955c3['dataset'][_0x1862a2(0x4ab)],_0x3bed7b=_0x2955c3[_0x1862a2(0x5e8)][_0x1862a2(0x346)],_0x1eea84=allQuizzesGlobal[_0x1862a2(0x4b3)](_0x5259b6=>_0x5259b6['id']===_0x3bed7b),_0x582ed1=_0x1eea84?_0x1eea84['topic']:_0x1862a2(0xc05);showConfirmation(_0x1862a2(0x7e0)+_0x582ed1+_0x1862a2(0x19e),async()=>{const _0x18b948=_0x1862a2;try{const _0x20182e=doc(db,_0x18b948(0xb3f)+appId+_0x18b948(0x87c),currentBlueprintProjectId);await updateDoc(_0x20182e,{[_0x18b948(0x26a)+_0x139340+_0x18b948(0x47d)]:arrayRemove(_0x3bed7b)}),showMessage(_0x18b948(0xcbc)),openTopicQuizBank(_0x139340),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x36f0cc){console['error']('Error\x20unlinking\x20quiz:',_0x36f0cc),showMessage(_0x18b948(0x9b6));}});}else{if(_0x280311){cameFromBlueprint=!![];const _0x1819d1=_0x280311[_0x1862a2(0x5e8)][_0x1862a2(0x346)],_0x296570=allQuizzesGlobal[_0x1862a2(0x4b3)](_0x43e155=>_0x43e155['id']===_0x1819d1);_0x296570&&(startPresentation(_0x296570),_0x47f0c0[_0x1862a2(0x319)]['add'](_0x1862a2(0x772)));}else{if(_0x17a05a){cameFromBlueprint=!![];const _0xe1f0b9=_0x17a05a[_0x1862a2(0x5e8)][_0x1862a2(0x346)],_0x26fb25=allQuizzesGlobal['find'](_0x4f9f62=>_0x4f9f62['id']===_0xe1f0b9);_0x26fb25&&(currentQuizData=_0x26fb25,startAdminTest(),_0x47f0c0[_0x1862a2(0x319)]['add'](_0x1862a2(0x772)));}else{if(_0x3728a8)cameFromBlueprint=!![],handleStartLiveRace(_0x3728a8[_0x1862a2(0x5e8)][_0x1862a2(0x346)]),_0x47f0c0[_0x1862a2(0x319)]['add'](_0x1862a2(0x772));else{if(_0xcbaec8){cameFromBlueprint=!![];const _0xc4356=_0xcbaec8[_0x1862a2(0x5e8)][_0x1862a2(0x346)],_0x13d892=_0xcbaec8['dataset'][_0x1862a2(0x49d)],_0xeba15f=allQuizzesGlobal[_0x1862a2(0x4b3)](_0x4f1bcf=>_0x4f1bcf['id']===_0xc4356);_0xeba15f&&(showGameStartConfirmationModal(_0xc4356,_0x13d892,_0xeba15f[_0x1862a2(0x156)]),_0x47f0c0[_0x1862a2(0x319)][_0x1862a2(0x930)](_0x1862a2(0x772)));}}}}}}}),document['getElementById'](_0xe18d7f(0xcbd))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x3703ee=_0xe18d7f;document['getElementById'](_0x3703ee(0xaed))[_0x3703ee(0x319)][_0x3703ee(0xd08)]('hidden'),document['getElementById'](_0x3703ee(0xa04))[_0x3703ee(0x452)]='',document['getElementById'](_0x3703ee(0x1fd))[_0x3703ee(0x452)]='',document[_0x3703ee(0xc0e)]('manual-bp-content')['value']='';}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x942))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x149043=_0xe18d7f;document['getElementById'](_0x149043(0xaed))[_0x149043(0x319)]['add'](_0x149043(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xaa0))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleManualBlueprintSave),document['getElementById']('cancel-bp-settings-btn')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>document[_0xe18d7f(0xc0e)](_0xe18d7f(0x842))['classList']['add'](_0xe18d7f(0x772))),document['getElementById']('save-bp-settings-btn')['addEventListener']('click',handleSaveBlueprintPageSettings),document[_0xe18d7f(0xc0e)]('bp-quiz-settings-btn')['addEventListener'](_0xe18d7f(0x9fd),openBlueprintQuizSettings),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x3a7))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),saveBlueprintProject),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x713))['addEventListener'](_0xe18d7f(0x9fd),showBlueprintProjects),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x9bd))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x5a0503=_0xe18d7f;document[_0x5a0503(0xc0e)](_0x5a0503(0x957))['classList'][_0x5a0503(0x930)]('hidden');}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xa51))['addEventListener']('click',_0x41a9c0=>{const _0x5c9217=_0xe18d7f,_0x5d1395=_0x41a9c0['target']['closest'](_0x5c9217(0x77d)),_0x2e0634=_0x41a9c0[_0x5c9217(0x697)][_0x5c9217(0x190)]('.delete-bp-project-btn');if(_0x5d1395)displayBlueprintProjectManager(_0x5d1395['dataset']['id']);else _0x2e0634&&handleDeepDeleteBlueprintProject(_0x2e0634[_0x5c9217(0x5e8)]['id']);}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x4e6))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x413c54=_0xe18d7f;currentBlueprintProjectId=null,currentProjectId=null,document[_0x413c54(0xc0e)]('blueprint-project-manager-view')[_0x413c54(0x319)][_0x413c54(0x930)](_0x413c54(0x772)),showView('admin-dashboard');}),document[_0xe18d7f(0xc0e)]('bp-add-topic-btn')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),addTopicToProject),document['getElementById'](_0xe18d7f(0xb46))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),async _0x36c405=>{const _0x1a5c66=_0xe18d7f,_0x578f7e=_0x36c405[_0x1a5c66(0x697)][_0x1a5c66(0x190)](_0x1a5c66(0xd27));if(!_0x578f7e)return;const _0x2d4c55=_0x578f7e['dataset'][_0x1a5c66(0x4ab)],_0x5c71a3=_0x36c405[_0x1a5c66(0x697)][_0x1a5c66(0x190)]('.bp-create-onet-quiz-btn'),_0x454ed5=_0x36c405[_0x1a5c66(0x697)][_0x1a5c66(0x190)]('.bp-create-content-quiz-btn'),_0x3dadb4=_0x36c405[_0x1a5c66(0x697)][_0x1a5c66(0x190)](_0x1a5c66(0x4e0)),_0x36ff9e=_0x36c405['target'][_0x1a5c66(0x190)](_0x1a5c66(0xbc2)),_0x36f994=_0x36c405[_0x1a5c66(0x697)]['closest']('.view-bp-lesson-btn'),_0x305b47=_0x36c405[_0x1a5c66(0x697)][_0x1a5c66(0x190)](_0x1a5c66(0x924)),_0x31672d=_0x36c405[_0x1a5c66(0x697)][_0x1a5c66(0x190)](_0x1a5c66(0x5b3)),_0x401716=_0x36c405[_0x1a5c66(0x697)][_0x1a5c66(0x190)](_0x1a5c66(0x283)),_0x14ce0e=_0x13d8e8=>{const _0x5cf574=_0x1a5c66,_0x1214b1=_0x13d8e8[_0x5cf574(0x535)]('[data-field=\x22subTopic\x22]')[_0x5cf574(0x6fb)]['trim'](),_0x1d4d78=_0x13d8e8[_0x5cf574(0x190)]('.space-y-1.pl-4')[_0x5cf574(0x21f)],_0x23cc76=_0x1d4d78?_0x1d4d78[_0x5cf574(0x6fb)][_0x5cf574(0xa0f)]():'';return _0x23cc76+':\x20'+_0x1214b1;};if(_0x36ff9e)openTopicQuizBank(_0x2d4c55);else{if(_0x5c71a3){const _0x5890cf=_0x14ce0e(_0x578f7e);selectProjectAndGenerateBlueprintQuiz(_0x5890cf,null,_0x2d4c55,!![]);}else{if(_0x454ed5){const _0x407c79=_0x14ce0e(_0x578f7e);try{const _0x1a49e6=doc(db,'artifacts/'+appId+_0x1a5c66(0x27f)+currentBlueprintProjectId+_0x1a5c66(0x4ea),_0x2d4c55),_0x1329f1=await getDoc(_0x1a49e6);if(_0x1329f1[_0x1a5c66(0x1fb)]()){const _0x302f95=_0x1329f1[_0x1a5c66(0x180)]()[_0x1a5c66(0xcda)],_0x27026d=document[_0x1a5c66(0x846)](_0x1a5c66(0x635)),_0x513d34=_0xc38f12=>{const _0x57b169=_0x1a5c66;if(!_0xc38f12)return'';return _0x27026d[_0x57b169(0xd5e)]=_0xc38f12,_0x27026d[_0x57b169(0x6fb)]||_0x27026d[_0x57b169(0x941)]||'';},_0x14bee0=(_0x513d34(_0x302f95['point'])+'\x20'+_0x513d34(_0x302f95[_0x1a5c66(0x800)])+'\x20'+_0x513d34(_0x302f95[_0x1a5c66(0x3e3)]))[_0x1a5c66(0xa0f)]();selectProjectAndGenerateBlueprintQuiz(_0x407c79,_0x14bee0,_0x2d4c55,![]);}else showMessage(_0x1a5c66(0xc31));}catch(_0x491e27){console[_0x1a5c66(0x4e3)](_0x1a5c66(0x9ca),_0x491e27),showMessage(_0x1a5c66(0xa3f));}}else{if(_0x3dadb4){const _0x5120a8=_0x14ce0e(_0x578f7e);selectProjectAndGenerateBlueprintQuiz(_0x5120a8,null,_0x2d4c55,![]);}else{if(_0x36f994){const _0x599966=doc(db,_0x1a5c66(0xb3f)+appId+_0x1a5c66(0x87c),currentBlueprintProjectId),_0xeb7152=await getDoc(_0x599966);if(_0xeb7152[_0x1a5c66(0x1fb)]()){const _0x226792=_0xeb7152[_0x1a5c66(0x180)](),_0x43de70=_0x226792[_0x1a5c66(0x13e)][_0x2d4c55];if(_0x43de70&&_0x43de70[_0x1a5c66(0x896)]===_0x1a5c66(0x5a4))try{const _0x7ea9e2=doc(db,_0x1a5c66(0xb3f)+appId+_0x1a5c66(0x27f)+currentBlueprintProjectId+'/lessons',_0x2d4c55),_0x5f531a=await getDoc(_0x7ea9e2);if(_0x5f531a[_0x1a5c66(0x1fb)]()){const _0x1070c9=_0x5f531a['data']()[_0x1a5c66(0xcda)];document[_0x1a5c66(0xc0e)](_0x1a5c66(0x7c1))[_0x1a5c66(0x6fb)]=_0x1a5c66(0x4a6)+_0x14ce0e(_0x578f7e),document['getElementById'](_0x1a5c66(0x483))['innerHTML']=_0x1070c9['point'],document[_0x1a5c66(0xc0e)](_0x1a5c66(0x975))[_0x1a5c66(0xd5e)]=_0x1070c9['memory'],document[_0x1a5c66(0xc0e)](_0x1a5c66(0xce0))[_0x1a5c66(0xd5e)]=_0x1070c9[_0x1a5c66(0x3e3)];const _0x44e50e=document['getElementById'](_0x1a5c66(0xcd4));_0x1070c9['applicationData']?(currentApplicationData=_0x1070c9['applicationData'],_0x44e50e[_0x1a5c66(0xd5e)]=currentApplicationData['map']((_0x497c59,_0x342b2d)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x342b2d+0x1)+'.\x20'+marked[_0x1a5c66(0x865)](_0x497c59[_0x1a5c66(0x536)])+_0x1a5c66(0x63b)+_0x342b2d+_0x1a5c66(0x7b6)+_0x497c59['options'][_0x1a5c66(0x8ac)]((_0x398c24,_0x13f8dd)=>_0x1a5c66(0x8aa)+_0x342b2d+',\x20'+_0x13f8dd+_0x1a5c66(0xb8a)+String[_0x1a5c66(0x26e)](0x61+_0x13f8dd)+'.\x20'+marked[_0x1a5c66(0x865)](_0x398c24)+_0x1a5c66(0x6f2))['join']('')+_0x1a5c66(0xbc5))['join']('')):(currentApplicationData=[],_0x44e50e[_0x1a5c66(0xd5e)]=_0x1070c9[_0x1a5c66(0xb79)]||_0x1070c9[_0x1a5c66(0x117)]),document[_0x1a5c66(0xc0e)](_0x1a5c66(0xb21))[_0x1a5c66(0x319)][_0x1a5c66(0x930)](_0x1a5c66(0x772)),document[_0x1a5c66(0xc0e)](_0x1a5c66(0x95f))[_0x1a5c66(0x319)][_0x1a5c66(0xd08)](_0x1a5c66(0x772)),document[_0x1a5c66(0xc0e)]('lesson-view-modal')[_0x1a5c66(0x319)][_0x1a5c66(0xd08)](_0x1a5c66(0x772)),window['MathJax']&&MathJax[_0x1a5c66(0x16c)]([document[_0x1a5c66(0xc0e)](_0x1a5c66(0xafc))]);}else showMessage(_0x1a5c66(0x685));}catch(_0x3e36ce){console['error'](_0x1a5c66(0x1ec),_0x3e36ce),showMessage(_0x1a5c66(0xa2f));}else showMessage(_0x1a5c66(0xc0a));}}else{if(_0x305b47){const _0x2568c2=_0x14ce0e(_0x578f7e),_0x27af94=doc(db,'artifacts/'+appId+_0x1a5c66(0x87c),currentBlueprintProjectId),_0x4e4e69=await getDoc(_0x27af94);if(_0x4e4e69[_0x1a5c66(0x1fb)]()){const _0x2edb8d=_0x4e4e69[_0x1a5c66(0x180)]();generateAndSaveLessonForBlueprint(_0x2d4c55,_0x2568c2,_0x2edb8d[_0x1a5c66(0x212)]);}}else{if(_0x31672d)editTopicInProject(_0x2d4c55);else _0x401716&&deleteTopicFromProject(_0x2d4c55);}}}}}}}),document[_0xe18d7f(0xc0e)]('fix-lesson-latex-btn')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleFixLessonLatex),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x8fa))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleExportLessonToPDF),document['getElementById'](_0xe18d7f(0x1e0))[_0xe18d7f(0x59d)]('click',()=>{const _0x64717d=_0xe18d7f;document['getElementById'](_0x64717d(0x973))[_0x64717d(0x319)][_0x64717d(0x930)]('hidden');});const _0x38d160=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x40a)),_0x54f5a3=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x77e));_0x38d160['addEventListener'](_0xe18d7f(0xc16),()=>{const _0x2c3f08=_0xe18d7f;_0x54f5a3[_0x2c3f08(0x319)][_0x2c3f08(0xd6e)](_0x2c3f08(0x772),!_0x38d160[_0x2c3f08(0x9da)]);});const _0x22cb46=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x5bd)),_0x16b52c=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x288));_0x22cb46[_0xe18d7f(0x59d)](_0xe18d7f(0xc16),()=>{const _0x5675c7=_0xe18d7f;_0x16b52c['classList'][_0x5675c7(0xd6e)](_0x5675c7(0x772),!_0x22cb46[_0x5675c7(0x9da)]);});const _0xff82fc=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x424)),_0xc4c6f3=document[_0xe18d7f(0xc0e)](_0xe18d7f(0xb78));_0xff82fc[_0xe18d7f(0x59d)](_0xe18d7f(0xc16),()=>{const _0x435c97=_0xe18d7f;_0xc4c6f3[_0x435c97(0x319)][_0x435c97(0xd6e)](_0x435c97(0x772),!_0xff82fc[_0x435c97(0x9da)]);});const _0x237088=document[_0xe18d7f(0xc0e)]('confidence-modal'),_0x510e00=async _0x2f650f=>{const _0x11cc6e=_0xe18d7f,_0x2c0650=document[_0x11cc6e(0xc0e)](_0x11cc6e(0x65e)),_0x3cb5d4=_0x2c0650[_0x11cc6e(0x5e8)][_0x11cc6e(0x1d4)],_0x4a2c9b=document[_0x11cc6e(0xc0e)](_0x11cc6e(0x124));_0x2c0650[_0x11cc6e(0x319)]['add'](_0x11cc6e(0x772));if(_0x3cb5d4==='timed'){const _0x12d069=_0x4a2c9b[_0x11cc6e(0x452)],_0x5ac1e3={'answer':_0x12d069,'wasConfident':_0x2f650f};proceedToNextQuestion(_0x5ac1e3);}else{if(_0x3cb5d4===_0x11cc6e(0x43c)){const _0x3872cc=_0x4a2c9b[_0x11cc6e(0x5e8)][_0x11cc6e(0x491)],_0x4305a9=JSON['parse'](_0x4a2c9b[_0x11cc6e(0x5e8)][_0x11cc6e(0x536)]),_0x6abc52=JSON[_0x11cc6e(0x7da)](_0x4a2c9b[_0x11cc6e(0x5e8)][_0x11cc6e(0x787)]),_0x2059bc=_0x4a2c9b[_0x11cc6e(0x5e8)][_0x11cc6e(0xd6d)];handleSyncAnswerSubmit(_0x3872cc,_0x4305a9,_0x6abc52,_0x2059bc,_0x2f650f);}}_0x2c0650['dataset']['currentMode']='';};document[_0xe18d7f(0xc0e)](_0xe18d7f(0x5f7))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>_0x510e00(!![])),document[_0xe18d7f(0xc0e)]('confirm-not-confident')[_0xe18d7f(0x59d)]('click',()=>_0x510e00(![])),liveGameView[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x51622a=>{const _0x138a81=_0xe18d7f,_0x2adb90=_0x51622a[_0x138a81(0x697)][_0x138a81(0x190)](_0x138a81(0x12f));if(_0x2adb90){const _0x1374d6=_0x2adb90[_0x138a81(0x5e8)][_0x138a81(0xd6d)];_0x1374d6&&handleKickPlayerSync(_0x1374d6);}});const _0x230dec=document[_0xe18d7f(0xc0e)](_0xe18d7f(0xd46)),_0xeb9635=document['getElementById']('cancel-game-start-btn');_0xeb9635[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x16cd8a=_0xe18d7f;document['getElementById'](_0x16cd8a(0x375))[_0x16cd8a(0x319)]['add'](_0x16cd8a(0x772));}),_0x230dec['addEventListener']('click',()=>{const _0x3cb787=_0xe18d7f,_0x3ed748=document[_0x3cb787(0xc0e)]('game-start-quiz-id')['value'],_0x13f118=document[_0x3cb787(0xc0e)](_0x3cb787(0x937))['value'],_0x4bdd40=document[_0x3cb787(0xc0e)](_0x3cb787(0x5eb))[_0x3cb787(0x9da)];document[_0x3cb787(0xc0e)](_0x3cb787(0x375))['classList']['add'](_0x3cb787(0x772));switch(_0x13f118){case _0x3cb787(0x8fc):handleStartLiveRace(_0x3ed748,_0x4bdd40);break;case _0x3cb787(0x188):handleStartTeamQuiz(_0x3ed748,_0x4bdd40);break;case _0x3cb787(0xadc):handleStartGroupMode(_0x3ed748,_0x4bdd40);break;case _0x3cb787(0x43c):const _0x7892ef=document[_0x3cb787(0x535)](_0x3cb787(0x350))[_0x3cb787(0x452)]||_0x3cb787(0x184);handleStartSyncMode(_0x3ed748,_0x4bdd40,_0x7892ef);break;}}),document[_0xe18d7f(0xc0e)]('join-group-activity-btn')[_0xe18d7f(0x59d)]('click',handleJoinGroupActivity),liveGameView['addEventListener'](_0xe18d7f(0x9fd),_0x39cd5d=>{const _0x2da106=_0xe18d7f,_0x535a4f=_0x39cd5d[_0x2da106(0x697)][_0x2da106(0x190)](_0x2da106(0x70c));document[_0x2da106(0x68f)](_0x2da106(0xa7))[_0x2da106(0x2d3)](_0x5398d9=>{const _0x5b031f=_0x2da106;(!_0x535a4f||_0x5398d9['id']!==_0x535a4f[_0x5b031f(0x5e8)]['tooltipTarget'])&&_0x5398d9[_0x5b031f(0x319)][_0x5b031f(0xd08)](_0x5b031f(0x9e3));});if(!_0x535a4f)return;const _0x47f9e6=_0x535a4f['dataset'][_0x2da106(0xb03)],_0x46f548=document[_0x2da106(0xc0e)](_0x47f9e6);_0x46f548&&_0x46f548[_0x2da106(0x319)]['toggle'](_0x2da106(0x9e3));}),liveGameView[_0xe18d7f(0x59d)]('click',_0x547a5a=>{const _0x3955c1=_0xe18d7f;if(_0x547a5a[_0x3955c1(0x697)][_0x3955c1(0x319)][_0x3955c1(0xa3b)](_0x3955c1(0xd1b))){const _0x357f03=_0x547a5a['target'][_0x3955c1(0x5e8)]['playerName'];_0x357f03&&handleKickPlayer(_0x357f03);}}),document['getElementById']('project-title')[_0xe18d7f(0x59d)](_0xe18d7f(0xa75),()=>document[_0xe18d7f(0xc0e)]('save-project-name-btn')['classList'][_0xe18d7f(0xd08)]('hidden')),document[_0xe18d7f(0xc0e)]('save-project-name-btn')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleSaveProjectName),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x660))[_0xe18d7f(0x59d)](_0xe18d7f(0x6d3),_0x91f243=>{const _0x320547=_0xe18d7f;_0x91f243[_0x320547(0x574)]===_0x320547(0xd4f)&&(_0x91f243[_0x320547(0x3eb)](),_0x91f243[_0x320547(0x697)][_0x320547(0x1ae)](),handleSaveProjectName());}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xd01))['addEventListener'](_0xe18d7f(0x9fd),()=>{const _0x586dc4=_0xe18d7f;document['getElementById']('bulk-quiz-settings-modal')[_0x586dc4(0x319)][_0x586dc4(0xd08)](_0x586dc4(0x772));}),document['getElementById'](_0xe18d7f(0x579))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x4d5aa0=_0xe18d7f;document[_0x4d5aa0(0xc0e)](_0x4d5aa0(0xd0))[_0x4d5aa0(0x319)]['add'](_0x4d5aa0(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x8d6))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleBulkUpdateQuizSettings),document['getElementById'](_0xe18d7f(0x299))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleModeSwitch),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x5f0))[_0xe18d7f(0x59d)]('click',handleUpdateOldQuizzes),document['getElementById'](_0xe18d7f(0x3ab))[_0xe18d7f(0x59d)]('click',handleResetProjectOrder),document['getElementById'](_0xe18d7f(0xa70))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')['addEventListener']('click',handleAddCustomMathTopic),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x74a))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleSelectAllTopics),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x4e2))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleDeselectAllTopics),document['getElementById'](_0xe18d7f(0xa9a))['addEventListener'](_0xe18d7f(0x9fd),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x2f4))['addEventListener'](_0xe18d7f(0x9fd),()=>{const _0x4a1ff4=_0xe18d7f;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4a1ff4(0x6c3));}}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x146))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x34d51d=_0xe18d7f;showView(_0x34d51d(0xc3e));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xc80))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x1856ca=_0xe18d7f;messageModal[_0x1856ca(0x319)][_0x1856ca(0x930)](_0x1856ca(0x772)),typeof modalConfirmAction===_0x1856ca(0xc54)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xd02))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>createProjectModal[_0xe18d7f(0x319)]['remove'](_0xe18d7f(0x772))),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xd59))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>createProjectModal[_0xe18d7f(0x319)]['add'](_0xe18d7f(0x772))),document[_0xe18d7f(0xc0e)]('cancel-admin-login-btn')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>adminPasswordModal[_0xe18d7f(0x319)]['add'](_0xe18d7f(0x772))),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x7b7))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleAdminLogin),document['getElementById'](_0xe18d7f(0xa9))[_0xe18d7f(0x59d)]('keyup',_0x482a96=>{const _0x5a0700=_0xe18d7f;if(_0x482a96['key']===_0x5a0700(0xd4f))handleAdminLogin();}),document[_0xe18d7f(0xc0e)]('cancel-delete-btn')[_0xe18d7f(0x59d)]('click',()=>{const _0x9ae2b0=_0xe18d7f;confirmationModal[_0x9ae2b0(0x319)]['add'](_0x9ae2b0(0x772)),typeof cancelAction===_0x9ae2b0(0xc54)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x971))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x387b8a=_0xe18d7f;confirmAction&&confirmAction(),confirmationModal[_0x387b8a(0x319)][_0x387b8a(0x930)](_0x387b8a(0x772)),confirmAction=null,cancelAction=null;}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x987))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>renameQuizModal[_0xe18d7f(0x319)][_0xe18d7f(0x930)](_0xe18d7f(0x772))),document[_0xe18d7f(0xc0e)]('confirm-rename-quiz-btn')['addEventListener'](_0xe18d7f(0x9fd),confirmRenameQuiz),document['getElementById'](_0xe18d7f(0xc0d))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>moveQuizModal[_0xe18d7f(0x319)]['add'](_0xe18d7f(0x772))),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x5b5))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),confirmMoveQuiz),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x6bc))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>quizSettingsModal['classList'][_0xe18d7f(0x930)]('hidden')),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xd66))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),confirmQuizSettings),document['getElementById'](_0xe18d7f(0xc2b))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>quizStatusModal[_0xe18d7f(0x319)][_0xe18d7f(0x930)](_0xe18d7f(0x772))),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x6f9))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),confirmQuizStatus);const _0x4f75d1=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x2dc));document['getElementById'](_0xe18d7f(0x699))['addEventListener'](_0xe18d7f(0x9fd),()=>{const _0x47736b=_0xe18d7f;_0x4f75d1[_0x47736b(0x319)][_0x47736b(0x930)](_0x47736b(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x886))['addEventListener']('click',async()=>{const _0x1865ef=_0xe18d7f,_0x501063=allQuizzes[_0x1865ef(0x4b3)](_0x532014=>_0x532014['id']===actionTargetId);_0x501063?(currentQuizData=_0x501063,exportQuizAsWorksheetPDF()):showMessage(_0x1865ef(0x9ef)),_0x4f75d1[_0x1865ef(0x319)][_0x1865ef(0x930)](_0x1865ef(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x87e))['addEventListener'](_0xe18d7f(0x9fd),async()=>{const _0x9585ca=_0xe18d7f,_0x4c7e1e=allQuizzes[_0x9585ca(0x4b3)](_0xcc6828=>_0xcc6828['id']===actionTargetId);_0x4c7e1e?(currentQuizData=_0x4c7e1e,exportQuizAsTutorPDF()):showMessage(_0x9585ca(0x9ef)),_0x4f75d1[_0x9585ca(0x319)][_0x9585ca(0x930)](_0x9585ca(0x772));});const _0xcccfc5=document[_0xe18d7f(0xc0e)]('open-global-live-btn');_0xcccfc5[_0xe18d7f(0xd5e)]=_0xe18d7f(0xca4),_0xcccfc5[_0xe18d7f(0x59d)]('click',openGlobalActivityModal),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x769))[_0xe18d7f(0x59d)]('click',()=>{const _0x1ac1a8=_0xe18d7f;document[_0x1ac1a8(0xc0e)](_0x1ac1a8(0xca2))[_0x1ac1a8(0x319)][_0x1ac1a8(0x930)](_0x1ac1a8(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x691))[_0xe18d7f(0x59d)](_0xe18d7f(0x914),_0x35796d=>{const _0x149d10=_0xe18d7f;renderGlobalActivityList(_0x35796d[_0x149d10(0x697)][_0x149d10(0x452)]);}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x455))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x48de25=>{const _0x3d28bd=_0xe18d7f,_0x18ae5f=_0x48de25[_0x3d28bd(0x697)][_0x3d28bd(0x190)](_0x3d28bd(0x451));if(!_0x18ae5f)return;const _0x59bf7c=_0x18ae5f[_0x3d28bd(0x5e8)]['id'],_0x1b946b=_0x18ae5f[_0x3d28bd(0x5e8)][_0x3d28bd(0x49d)],_0x245010=allQuizzesGlobal[_0x3d28bd(0x4b3)](_0x2fb81e=>_0x2fb81e['id']===_0x59bf7c);_0x245010&&(document['getElementById'](_0x3d28bd(0xca2))[_0x3d28bd(0x319)][_0x3d28bd(0x930)]('hidden'),_0x1b946b==='live-race'?handleStartLiveRace(_0x59bf7c):showGameStartConfirmationModal(_0x59bf7c,_0x1b946b,_0x245010['topic']));}),document['getElementById']('project-search-input')[_0xe18d7f(0x59d)]('input',renderProjects),document[_0xe18d7f(0xc0e)]('project-sort-select')[_0xe18d7f(0x59d)]('change',async()=>{const _0x52f55d=_0xe18d7f,_0x1abb71=document[_0x52f55d(0xc0e)](_0x52f55d(0x7cc))[_0x52f55d(0x452)],_0x89beea=doc(db,_0x52f55d(0x316),_0x52f55d(0x8e6));try{await setDoc(_0x89beea,{'projectSort':_0x1abb71},{'merge':!![]});}catch(_0x4c0508){console['error'](_0x52f55d(0x43f),_0x4c0508),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document['getElementById']('quiz-search-input')['addEventListener'](_0xe18d7f(0x914),renderQuizzes),document['getElementById'](_0xe18d7f(0xc83))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x21820f=_0xe18d7f;globalDashboardSettings[_0x21820f(0x58f)]=_0x21820f(0xc41),saveUserPreference(_0x21820f(0x58f),_0x21820f(0xc41)),renderProjects();}),document[_0xe18d7f(0xc0e)]('list-view-btn')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x411bba=_0xe18d7f;globalDashboardSettings['projectView']='list',saveUserPreference(_0x411bba(0x58f),_0x411bba(0x51b)),renderProjects();}),manageTab[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>switchProjectTab(_0xe18d7f(0x830))),resultsTab['addEventListener']('click',()=>switchProjectTab(_0xe18d7f(0x4e9))),leaderboardTab[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>switchProjectTab(_0xe18d7f(0x2eb))),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xa96))[_0xe18d7f(0x59d)]('click',()=>switchQuizDetailTab(_0xe18d7f(0x8ae))),document[_0xe18d7f(0xc0e)]('scores-tab-btn')['addEventListener'](_0xe18d7f(0x9fd),()=>switchQuizDetailTab(_0xe18d7f(0xb5b))),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x976))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>switchQuizDetailTab('leaderboard-quiz')),document['getElementById'](_0xe18d7f(0xc59))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>switchQuizDetailTab('behavior-log')),document['getElementById'](_0xe18d7f(0x922))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleAnalyzeClass),generateWorksheetBtn[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),generateWorksheet);const _0x59d088=document['getElementById'](_0xe18d7f(0x615)),_0xda056a=document['getElementById'](_0xe18d7f(0xb60)),_0x487c35=document[_0xe18d7f(0xc0e)]('blueprint-tab'),_0x1151cb=document['getElementById'](_0xe18d7f(0x97d)),_0x25ae02=document['getElementById'](_0xe18d7f(0x6db)),_0x1383c6=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x51e));topicTab[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x38aca4=_0xe18d7f;topicTab[_0x38aca4(0x319)][_0x38aca4(0x930)](_0x38aca4(0x75a)),textTab['classList']['remove'](_0x38aca4(0x75a)),fileTab['classList']['remove']('active'),worksheetTab[_0x38aca4(0x319)]['remove']('active');if(_0x59d088)_0x59d088[_0x38aca4(0x319)][_0x38aca4(0xd08)](_0x38aca4(0x75a));if(_0x487c35)_0x487c35[_0x38aca4(0x319)][_0x38aca4(0xd08)](_0x38aca4(0x75a));if(_0x25ae02)_0x25ae02[_0x38aca4(0x319)][_0x38aca4(0xd08)](_0x38aca4(0x75a));topicInputArea['classList'][_0x38aca4(0xd08)]('hidden'),textInputArea[_0x38aca4(0x319)][_0x38aca4(0x930)](_0x38aca4(0x772)),fileInputArea[_0x38aca4(0x319)][_0x38aca4(0x930)]('hidden'),worksheetInputArea[_0x38aca4(0x319)][_0x38aca4(0x930)](_0x38aca4(0x772));if(_0xda056a)_0xda056a[_0x38aca4(0x319)][_0x38aca4(0x930)](_0x38aca4(0x772));if(_0x1151cb)_0x1151cb[_0x38aca4(0x319)][_0x38aca4(0x930)](_0x38aca4(0x772));if(_0x1383c6)_0x1383c6[_0x38aca4(0x319)]['add'](_0x38aca4(0x772));}),textTab[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x47878f=_0xe18d7f;textTab['classList']['add']('active'),topicTab[_0x47878f(0x319)][_0x47878f(0xd08)](_0x47878f(0x75a)),fileTab[_0x47878f(0x319)]['remove'](_0x47878f(0x75a)),worksheetTab[_0x47878f(0x319)][_0x47878f(0xd08)]('active');if(_0x59d088)_0x59d088[_0x47878f(0x319)]['remove'](_0x47878f(0x75a));if(_0x487c35)_0x487c35[_0x47878f(0x319)][_0x47878f(0xd08)](_0x47878f(0x75a));if(_0x25ae02)_0x25ae02[_0x47878f(0x319)][_0x47878f(0xd08)](_0x47878f(0x75a));textInputArea[_0x47878f(0x319)]['remove'](_0x47878f(0x772)),topicInputArea[_0x47878f(0x319)][_0x47878f(0x930)]('hidden'),fileInputArea[_0x47878f(0x319)]['add']('hidden'),worksheetInputArea[_0x47878f(0x319)]['add'](_0x47878f(0x772));if(_0xda056a)_0xda056a[_0x47878f(0x319)]['add']('hidden');if(_0x1151cb)_0x1151cb[_0x47878f(0x319)][_0x47878f(0x930)](_0x47878f(0x772));if(_0x1383c6)_0x1383c6[_0x47878f(0x319)][_0x47878f(0x930)](_0x47878f(0x772));}),fileTab['addEventListener'](_0xe18d7f(0x9fd),()=>{const _0x7c3909=_0xe18d7f;fileTab[_0x7c3909(0x319)][_0x7c3909(0x930)](_0x7c3909(0x75a)),topicTab[_0x7c3909(0x319)]['remove'](_0x7c3909(0x75a)),textTab[_0x7c3909(0x319)][_0x7c3909(0xd08)](_0x7c3909(0x75a)),worksheetTab[_0x7c3909(0x319)][_0x7c3909(0xd08)](_0x7c3909(0x75a));if(_0x59d088)_0x59d088[_0x7c3909(0x319)]['remove']('active');if(_0x487c35)_0x487c35['classList'][_0x7c3909(0xd08)](_0x7c3909(0x75a));if(_0x25ae02)_0x25ae02[_0x7c3909(0x319)]['remove'](_0x7c3909(0x75a));fileInputArea['classList']['remove'](_0x7c3909(0x772)),topicInputArea['classList'][_0x7c3909(0x930)](_0x7c3909(0x772)),textInputArea[_0x7c3909(0x319)][_0x7c3909(0x930)](_0x7c3909(0x772)),worksheetInputArea[_0x7c3909(0x319)][_0x7c3909(0x930)](_0x7c3909(0x772));if(_0xda056a)_0xda056a['classList'][_0x7c3909(0x930)](_0x7c3909(0x772));if(_0x1151cb)_0x1151cb[_0x7c3909(0x319)][_0x7c3909(0x930)](_0x7c3909(0x772));if(_0x1383c6)_0x1383c6[_0x7c3909(0x319)][_0x7c3909(0x930)]('hidden');}),worksheetTab[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x3ee1b6=_0xe18d7f;worksheetTab[_0x3ee1b6(0x319)][_0x3ee1b6(0x930)](_0x3ee1b6(0x75a)),topicTab['classList'][_0x3ee1b6(0xd08)](_0x3ee1b6(0x75a)),textTab['classList'][_0x3ee1b6(0xd08)](_0x3ee1b6(0x75a)),fileTab[_0x3ee1b6(0x319)]['remove'](_0x3ee1b6(0x75a));if(_0x59d088)_0x59d088[_0x3ee1b6(0x319)]['remove'](_0x3ee1b6(0x75a));if(_0x487c35)_0x487c35[_0x3ee1b6(0x319)][_0x3ee1b6(0xd08)](_0x3ee1b6(0x75a));if(_0x25ae02)_0x25ae02['classList'][_0x3ee1b6(0xd08)](_0x3ee1b6(0x75a));worksheetInputArea[_0x3ee1b6(0x319)][_0x3ee1b6(0xd08)]('hidden'),topicInputArea['classList'][_0x3ee1b6(0x930)](_0x3ee1b6(0x772)),textInputArea[_0x3ee1b6(0x319)][_0x3ee1b6(0x930)](_0x3ee1b6(0x772)),fileInputArea['classList'][_0x3ee1b6(0x930)]('hidden');if(_0xda056a)_0xda056a[_0x3ee1b6(0x319)][_0x3ee1b6(0x930)](_0x3ee1b6(0x772));if(_0x1151cb)_0x1151cb[_0x3ee1b6(0x319)][_0x3ee1b6(0x930)]('hidden');if(_0x1383c6)_0x1383c6[_0x3ee1b6(0x319)][_0x3ee1b6(0x930)](_0x3ee1b6(0x772));});const _0x3e2bac=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x915)),_0x3dd11b=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x5be));_0x3e2bac&&_0x3e2bac[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x2da2dc=_0xe18d7f;topicTab[_0x2da2dc(0x319)]['remove'](_0x2da2dc(0x75a)),textTab[_0x2da2dc(0x319)]['remove'](_0x2da2dc(0x75a)),fileTab['classList']['remove'](_0x2da2dc(0x75a)),worksheetTab[_0x2da2dc(0x319)][_0x2da2dc(0xd08)]('active');if(_0x59d088)_0x59d088[_0x2da2dc(0x319)][_0x2da2dc(0xd08)]('active');if(_0x487c35)_0x487c35[_0x2da2dc(0x319)][_0x2da2dc(0xd08)](_0x2da2dc(0x75a));if(_0x25ae02)_0x25ae02['classList'][_0x2da2dc(0xd08)](_0x2da2dc(0x75a));_0x3e2bac[_0x2da2dc(0x319)][_0x2da2dc(0x930)](_0x2da2dc(0x75a)),topicInputArea[_0x2da2dc(0x319)][_0x2da2dc(0x930)]('hidden'),textInputArea[_0x2da2dc(0x319)][_0x2da2dc(0x930)](_0x2da2dc(0x772)),fileInputArea[_0x2da2dc(0x319)][_0x2da2dc(0x930)]('hidden'),worksheetInputArea['classList'][_0x2da2dc(0x930)](_0x2da2dc(0x772));if(_0xda056a)_0xda056a['classList'][_0x2da2dc(0x930)](_0x2da2dc(0x772));if(_0x1151cb)_0x1151cb[_0x2da2dc(0x319)][_0x2da2dc(0x930)](_0x2da2dc(0x772));if(_0x1383c6)_0x1383c6['classList']['add'](_0x2da2dc(0x772));_0x3dd11b['classList'][_0x2da2dc(0xd08)](_0x2da2dc(0x772)),displayQuestionBank();});_0x59d088&&(_0x59d088[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x56609e=_0xe18d7f;_0x59d088[_0x56609e(0x319)][_0x56609e(0x930)](_0x56609e(0x75a)),topicTab[_0x56609e(0x319)][_0x56609e(0xd08)]('active'),textTab['classList'][_0x56609e(0xd08)](_0x56609e(0x75a)),fileTab[_0x56609e(0x319)]['remove'](_0x56609e(0x75a)),worksheetTab[_0x56609e(0x319)][_0x56609e(0xd08)](_0x56609e(0x75a));if(_0x487c35)_0x487c35[_0x56609e(0x319)][_0x56609e(0xd08)]('active');if(_0x25ae02)_0x25ae02[_0x56609e(0x319)][_0x56609e(0xd08)](_0x56609e(0x75a));_0xda056a[_0x56609e(0x319)][_0x56609e(0xd08)](_0x56609e(0x772)),topicInputArea[_0x56609e(0x319)]['add']('hidden'),textInputArea['classList'][_0x56609e(0x930)](_0x56609e(0x772)),fileInputArea[_0x56609e(0x319)][_0x56609e(0x930)](_0x56609e(0x772)),worksheetInputArea[_0x56609e(0x319)][_0x56609e(0x930)](_0x56609e(0x772));if(_0x1151cb)_0x1151cb['classList']['add'](_0x56609e(0x772));if(_0x1383c6)_0x1383c6[_0x56609e(0x319)][_0x56609e(0x930)](_0x56609e(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x5d1))[_0xe18d7f(0x59d)]('click',handleGenerateFromLink));_0x487c35&&_0x487c35[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x3bfba5=_0xe18d7f;_0x487c35[_0x3bfba5(0x319)][_0x3bfba5(0x930)]('active'),topicTab[_0x3bfba5(0x319)][_0x3bfba5(0xd08)](_0x3bfba5(0x75a)),textTab[_0x3bfba5(0x319)][_0x3bfba5(0xd08)](_0x3bfba5(0x75a)),fileTab[_0x3bfba5(0x319)][_0x3bfba5(0xd08)](_0x3bfba5(0x75a)),worksheetTab[_0x3bfba5(0x319)][_0x3bfba5(0xd08)](_0x3bfba5(0x75a));if(_0x59d088)_0x59d088[_0x3bfba5(0x319)]['remove'](_0x3bfba5(0x75a));if(_0x3e2bac)_0x3e2bac[_0x3bfba5(0x319)][_0x3bfba5(0xd08)](_0x3bfba5(0x75a));if(_0x25ae02)_0x25ae02[_0x3bfba5(0x319)]['remove']('active');_0x1151cb[_0x3bfba5(0x319)][_0x3bfba5(0xd08)](_0x3bfba5(0x772)),topicInputArea[_0x3bfba5(0x319)][_0x3bfba5(0x930)](_0x3bfba5(0x772)),textInputArea['classList']['add']('hidden'),fileInputArea['classList'][_0x3bfba5(0x930)]('hidden'),worksheetInputArea[_0x3bfba5(0x319)]['add'](_0x3bfba5(0x772));if(_0xda056a)_0xda056a['classList'][_0x3bfba5(0x930)](_0x3bfba5(0x772));if(_0x3dd11b)_0x3dd11b[_0x3bfba5(0x319)][_0x3bfba5(0x930)](_0x3bfba5(0x772));if(_0x1383c6)_0x1383c6[_0x3bfba5(0x319)][_0x3bfba5(0x930)](_0x3bfba5(0x772));});_0x25ae02&&_0x25ae02['addEventListener'](_0xe18d7f(0x9fd),()=>{const _0x693277=_0xe18d7f;_0x25ae02[_0x693277(0x319)][_0x693277(0x930)](_0x693277(0x75a)),topicTab[_0x693277(0x319)]['remove'](_0x693277(0x75a)),textTab['classList'][_0x693277(0xd08)](_0x693277(0x75a)),fileTab[_0x693277(0x319)][_0x693277(0xd08)](_0x693277(0x75a)),worksheetTab['classList'][_0x693277(0xd08)](_0x693277(0x75a));if(_0x59d088)_0x59d088[_0x693277(0x319)][_0x693277(0xd08)](_0x693277(0x75a));if(_0x487c35)_0x487c35[_0x693277(0x319)][_0x693277(0xd08)]('active');if(_0x3e2bac)_0x3e2bac[_0x693277(0x319)][_0x693277(0xd08)](_0x693277(0x75a));_0x1383c6['classList'][_0x693277(0xd08)]('hidden'),topicInputArea[_0x693277(0x319)][_0x693277(0x930)](_0x693277(0x772)),textInputArea[_0x693277(0x319)][_0x693277(0x930)](_0x693277(0x772)),fileInputArea['classList'][_0x693277(0x930)](_0x693277(0x772)),worksheetInputArea[_0x693277(0x319)][_0x693277(0x930)](_0x693277(0x772));if(_0xda056a)_0xda056a[_0x693277(0x319)][_0x693277(0x930)](_0x693277(0x772));if(_0x1151cb)_0x1151cb[_0x693277(0x319)][_0x693277(0x930)]('hidden');if(_0x3dd11b)_0x3dd11b[_0x693277(0x319)][_0x693277(0x930)](_0x693277(0x772));});const _0x4f3839=document['getElementById'](_0xe18d7f(0x2c5)),_0x862471=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x7a8));if(_0x4f3839){const _0x78338f=document[_0xe18d7f(0xc0e)]('blueprint-upload-input'),_0x93ff55=document[_0xe18d7f(0xc0e)]('generate-from-blueprint-btn'),_0x329ff1=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x72b)),_0x2b7798=document['getElementById'](_0xe18d7f(0x7aa)),_0x2206db=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x8db)),_0x5540ba=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x461));_0x78338f&&_0x78338f[_0xe18d7f(0x59d)](_0xe18d7f(0xc16),async _0xe1ad7b=>{const _0x402d6b=_0xe18d7f;_0x329ff1['classList']['add'](_0x402d6b(0x772)),_0x2206db[_0x402d6b(0x319)][_0x402d6b(0x930)](_0x402d6b(0x772)),_0x2b7798[_0x402d6b(0x9da)]=![],_0x93ff55[_0x402d6b(0x622)]=!![];const _0x1674d0=_0xe1ad7b['target'][_0x402d6b(0x603)][0x0];if(_0x1674d0){_0x93ff55[_0x402d6b(0x622)]=![];try{const _0x270d54=await extractTextFromPdf(_0x1674d0);await analyzeBlueprintForTopics(_0x270d54);}catch(_0x52ffec){showMessage(_0x402d6b(0x5a5)),_0x329ff1[_0x402d6b(0x319)][_0x402d6b(0x930)](_0x402d6b(0x772));}}}),_0x2b7798&&_0x2b7798[_0xe18d7f(0x59d)](_0xe18d7f(0xc16),_0x14efa8=>{const _0x25f533=_0xe18d7f,_0x5a66ad=_0x14efa8['target']['checked'];_0x2206db[_0x25f533(0x319)][_0x25f533(0xd6e)](_0x25f533(0x772),!_0x5a66ad),_0x93ff55[_0x25f533(0x622)]=_0x5a66ad;}),_0x5540ba&&(_0x5540ba&&_0x5540ba['addEventListener'](_0xe18d7f(0x9fd),_0x29ab9d=>{const _0x148734=_0xe18d7f,_0x1dc99a=_0x29ab9d[_0x148734(0x697)][_0x148734(0x190)](_0x148734(0x9c3)),_0x28dc28=_0x29ab9d[_0x148734(0x697)][_0x148734(0x190)](_0x148734(0x87d));if(_0x1dc99a){const _0x3c60c5=unescape(_0x1dc99a['dataset']['topic']);generateQuizForSingleTopic(_0x3c60c5);}else{if(_0x28dc28){const _0x128e21=unescape(_0x28dc28[_0x148734(0x5e8)][_0x148734(0x156)]);handleGenerateTeachingContent(_0x128e21);}}}));}_0x862471&&_0x862471[_0xe18d7f(0x59d)]('click',handleGenerateFromBlueprint);const _0x44a1b1=document[_0xe18d7f(0xc0e)]('parallel-test-upload-input'),_0x310983=document[_0xe18d7f(0xc0e)](_0xe18d7f(0xa1b));_0x44a1b1&&_0x44a1b1['addEventListener'](_0xe18d7f(0xc16),_0x248b44=>{const _0x57cb01=_0xe18d7f;_0x310983[_0x57cb01(0x622)]=_0x248b44[_0x57cb01(0x697)]['files'][_0x57cb01(0x7d2)]===0x0;});_0x310983&&_0x310983['addEventListener'](_0xe18d7f(0x9fd),()=>{handleGenerateParallelTest();});loadQuizBtn[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleLoadQuiz),startQuizBtn[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),async()=>{const _0x5287da=_0xe18d7f,_0x5bfb4e=document[_0x5287da(0xc0e)](_0x5287da(0x852));currentStudentName=_0x5bfb4e[_0x5287da(0x452)];if(!currentStudentName){showMessage(_0x5287da(0x317));return;}try{const _0x57f691=currentQuizData['id'],_0x1e9c57=doc(db,_0x5287da(0xb3f)+appId+_0x5287da(0x253)+_0x57f691+_0x5287da(0x251),currentStudentName),_0x3ee509=await getDoc(_0x1e9c57);!_0x3ee509[_0x5287da(0x1fb)]()?await setDoc(_0x1e9c57,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x1e9c57,{'startedAt':new Date()[_0x5287da(0x1cd)]()});}catch(_0x3e8429){console[_0x5287da(0x4e3)](_0x5287da(0x719),_0x3e8429),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView['classList'][_0x5287da(0x930)](_0x5287da(0x772)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0xe18d7f(0x1db))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),showJoinGameView),document['getElementById'](_0xe18d7f(0x47a))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleJoinLiveGame),document[_0xe18d7f(0xc0e)]('back-to-student-initial-btn')['addEventListener'](_0xe18d7f(0x9fd),()=>showView(_0xe18d7f(0x243)));const _0x4fe314=()=>{const _0x100547=_0xe18d7f,_0x2ea9a1=document[_0x100547(0xc0e)]('results-quiz-title')[_0x100547(0x6fb)][_0x100547(0xaa1)](/[^a-z0-9]/gi,'_')[_0x100547(0x703)]();return _0x100547(0xca0)+(_0x2ea9a1||_0x100547(0x845));},_0x3b51c4=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x26b));_0x3b51c4&&_0x3b51c4[_0xe18d7f(0x59d)](_0xe18d7f(0x914),_0x3edbdd=>{const _0x2d11d5=_0xe18d7f,_0x4c001e=_0x3edbdd['target'][_0x2d11d5(0x452)][_0x2d11d5(0x703)]()['trim'](),_0x3699cb=document[_0x2d11d5(0xc0e)](_0x2d11d5(0x355)),_0x13c7f2=_0x3699cb['querySelectorAll'](_0x2d11d5(0xcec));_0x13c7f2[_0x2d11d5(0x2d3)](_0x49e62c=>{const _0x26fa87=_0x2d11d5;let _0x2fe1d5=![];const _0x2b1729=_0x49e62c['querySelectorAll']('.topic-row');_0x2b1729[_0x26fa87(0x2d3)](_0x243415=>{const _0x231c82=_0x26fa87,_0x5d2706=_0x243415[_0x231c82(0x535)](_0x231c82(0x1ca))[_0x231c82(0x6fb)][_0x231c82(0x703)]();_0x5d2706[_0x231c82(0x1bc)](_0x4c001e)?(_0x243415[_0x231c82(0x5c6)][_0x231c82(0x6cf)]=_0x231c82(0xd4a),_0x2fe1d5=!![]):_0x243415[_0x231c82(0x5c6)][_0x231c82(0x6cf)]=_0x231c82(0x81d);}),_0x2fe1d5?_0x49e62c[_0x26fa87(0x5c6)][_0x26fa87(0x6cf)]=_0x26fa87(0xba5):_0x49e62c[_0x26fa87(0x5c6)][_0x26fa87(0x6cf)]=_0x26fa87(0x81d);});});document['getElementById'](_0xe18d7f(0x72d))['addEventListener'](_0xe18d7f(0x9fd),()=>exportTableAsImage('results-table-container',_0x4fe314())),document[_0xe18d7f(0xc0e)]('export-pdf-btn')['addEventListener'](_0xe18d7f(0x9fd),()=>exportTableAsPDF(_0xe18d7f(0xcc3),_0x4fe314())),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x482))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>exportTableAsWord(_0xe18d7f(0x433),_0x4fe314())),document[_0xe18d7f(0xc0e)]('export-excel-btn')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>exportTableAsExcel(_0xe18d7f(0xcc3),_0x4fe314()));const _0x4c48cd=()=>{const _0x3037dc=_0xe18d7f,_0x127590=document['getElementById'](_0x3037dc(0x7ed))['textContent'][_0x3037dc(0xaa1)](/[^a-z0-9]/gi,'_')[_0x3037dc(0x703)]();return _0x3037dc(0xd73)+(_0x127590||_0x3037dc(0x845));};document[_0xe18d7f(0xc0e)](_0xe18d7f(0xa48))['addEventListener'](_0xe18d7f(0x9fd),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x4c48cd())),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x9f9))['addEventListener'](_0xe18d7f(0x9fd),()=>exportTableAsPDF('quiz-leaderboard-table',_0x4c48cd())),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xa6e))['addEventListener'](_0xe18d7f(0x9fd),()=>exportTableAsWord(_0xe18d7f(0x754),_0x4c48cd())),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x95c))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>exportTableAsExcel(_0xe18d7f(0x71c),_0x4c48cd())),projectQuizzesList[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),async _0x30d86c=>{const _0x555699=_0xe18d7f,_0x48fddb=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)](_0x555699(0xbb5)),_0x3cf6d5=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)]('.generate-post-test-btn'),_0x267fd1=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)](_0x555699(0x5cc)),_0x4db21e=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)]('.generate-lesson-btn'),_0x44c8bf=_0x30d86c[_0x555699(0x697)]['closest'](_0x555699(0x61c)),_0x13bb5a=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)](_0x555699(0x5c5)),_0x4d0e4c=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)](_0x555699(0x153)),_0x2cf0bc=_0x30d86c['target'][_0x555699(0x190)](_0x555699(0xb2b)),_0x38f243=_0x30d86c[_0x555699(0x697)]['closest'](_0x555699(0x5fd)),_0x5d2a69=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)](_0x555699(0x611)),_0xdbbc82=_0x30d86c[_0x555699(0x697)]['closest'](_0x555699(0xf3)),_0x4c5db2=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)](_0x555699(0xd20)),_0x293b1e=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)](_0x555699(0x426)),_0x1a476c=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)](_0x555699(0x23d)),_0x21aad4=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)](_0x555699(0xa37)),_0x4b20f9=_0x30d86c['target']['closest'](_0x555699(0x5ef)),_0xecc2c6=_0x30d86c[_0x555699(0x697)]['closest'](_0x555699(0x14f)),_0x40221f=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)](_0x555699(0x354)),_0x30c323=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)](_0x555699(0x503)),_0x1f2dd9=_0x30d86c[_0x555699(0x697)][_0x555699(0x190)]('.toggle-actions-btn'),_0x590bfd=_0x30d86c[_0x555699(0x697)]['closest'](_0x555699(0x3d6)),_0x349eee=_0x30d86c[_0x555699(0x697)]['closest'](_0x555699(0xb49)),_0x54e669=_0x30d86c[_0x555699(0x697)]['closest']('.start-live-race-btn');if(_0x349eee){const _0x51fa38=_0x349eee['dataset'][_0x555699(0x346)],_0x135fa5=_0x349eee[_0x555699(0x5e8)][_0x555699(0x49d)],_0x5669a7=allQuizzes[_0x555699(0x4b3)](_0x396877=>_0x396877['id']===_0x51fa38);_0x5669a7&&showGameStartConfirmationModal(_0x51fa38,_0x135fa5,_0x5669a7[_0x555699(0x156)]);}else{if(_0x54e669){const _0x52ece1=_0x54e669[_0x555699(0x5e8)]['quizId'];handleStartLiveRace(_0x52ece1);}else{if(_0x1f2dd9){const _0x232745=_0x1f2dd9[_0x555699(0x5e8)][_0x555699(0x346)],_0x4e62ef=document['getElementById'](_0x555699(0xbe8)+_0x232745);_0x4e62ef&&_0x4e62ef[_0x555699(0x319)]['toggle'](_0x555699(0x772));}else{if(_0x3cf6d5){const _0x28f2a3=_0x3cf6d5[_0x555699(0x5e8)][_0x555699(0x346)],_0x392628=allQuizzes[_0x555699(0x4b3)](_0x3e464b=>_0x3e464b['id']===_0x28f2a3);_0x392628&&handleGenerateParallelPostTest(_0x392628);}else{if(_0x267fd1)handleCompareResults(_0x267fd1[_0x555699(0x5e8)][_0x555699(0x346)],_0x267fd1[_0x555699(0x5e8)][_0x555699(0xb4c)]);else{if(_0x4db21e){const _0x304cea=_0x4db21e[_0x555699(0x5e8)][_0x555699(0x346)],_0x288275=allQuizzes[_0x555699(0x4b3)](_0x4ad98a=>_0x4ad98a['id']===_0x304cea);_0x288275&&_0x288275[_0x555699(0xab0)]?(displayLessonPlan(_0x288275['lessonPlan'],_0x288275),showConfirmation(_0x555699(0xd03),()=>handleGenerateLessonPlan(_0x304cea)),document[_0x555699(0xc0e)](_0x555699(0xce9))[_0x555699(0x535)]('h3')[_0x555699(0x6fb)]=_0x555699(0xd69),document['getElementById'](_0x555699(0x971))['textContent']=_0x555699(0xbeb)):handleGenerateLessonPlan(_0x304cea);}else{if(_0x44c8bf)handleToggleStarQuiz(_0x44c8bf[_0x555699(0x5e8)][_0x555699(0x346)]);else{if(_0x13bb5a)copyTextToClipboard(_0x13bb5a[_0x555699(0x5e8)][_0x555699(0x346)],_0x555699(0xb34));else{if(_0x4d0e4c)handleOpenQuizEditor(_0x4d0e4c[_0x555699(0x5e8)][_0x555699(0x346)]);else{if(_0x2cf0bc)handleQuizSettings(_0x2cf0bc[_0x555699(0x5e8)][_0x555699(0x346)]);else{if(_0x38f243)handleDuplicateQuiz(_0x38f243['dataset'][_0x555699(0x346)]);else{if(_0x5d2a69)handleRenameQuiz(_0x5d2a69[_0x555699(0x5e8)]['quizId'],_0x5d2a69[_0x555699(0x5e8)][_0x555699(0x156)]);else{if(_0xdbbc82){const _0x2f6fde=_0xdbbc82[_0x555699(0x5e8)][_0x555699(0x346)],_0x2daff8=allQuizzes[_0x555699(0x4b3)](_0x445ac4=>_0x445ac4['id']===_0x2f6fde);_0x2daff8&&handleGenerateParallelFromBank(_0x2daff8);}else{if(_0x4c5db2)handleMoveQuiz(_0x4c5db2['dataset'][_0x555699(0x346)]);else{if(_0x293b1e)handleManualQuizPairing(_0x293b1e[_0x555699(0x5e8)]['quizId']);else{if(_0x1a476c)handleUnpairQuiz(_0x1a476c['dataset'][_0x555699(0x346)]);else{if(_0x21aad4){const _0x379dae=_0x21aad4[_0x555699(0x5e8)][_0x555699(0x346)],_0x3fc591=allQuizzes[_0x555699(0x4b3)](_0x20625c=>_0x20625c['id']===_0x379dae);if(_0x3fc591)startPresentation(_0x3fc591);}else{if(_0x4b20f9){const _0x599705=_0x4b20f9[_0x555699(0x5e8)]['quizId'],_0x2e8876=allQuizzes[_0x555699(0x4b3)](_0x3585e4=>_0x3585e4['id']===_0x599705);_0x2e8876&&(currentQuizData=_0x2e8876,startAdminTest());}else{if(_0xecc2c6)actionTargetId=_0xecc2c6[_0x555699(0x5e8)][_0x555699(0x346)],document['getElementById'](_0x555699(0x2dc))[_0x555699(0x319)][_0x555699(0xd08)](_0x555699(0x772));else{if(_0x40221f)showConfirmation(_0x555699(0xb05)+_0x40221f['dataset'][_0x555699(0x156)]+_0x555699(0x52e),()=>handleDeleteQuiz(_0x40221f['dataset'][_0x555699(0x346)]));else{if(_0x30c323)handleQuizStatus(_0x30c323[_0x555699(0x5e8)][_0x555699(0x346)]);else{if(_0x590bfd)handleGenerateEasyVersionQuiz(_0x590bfd[_0x555699(0x5e8)][_0x555699(0x346)]);else _0x48fddb&&showQuizDetailView(_0x48fddb[_0x555699(0x5e8)][_0x555699(0x346)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xa8c))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>showView('student')),document[_0xe18d7f(0xc0e)]('confirm-team-players-btn')['addEventListener'](_0xe18d7f(0x9fd),confirmAndStartTeamQuiz),document['getElementById']('quiz-leaderboard-table')[_0xe18d7f(0x535)](_0xe18d7f(0xa53))[_0xe18d7f(0x59d)]('click',_0x3d4176=>{const _0x4d641e=_0xe18d7f,_0x5bb9ae=_0x3d4176[_0x4d641e(0x697)][_0x4d641e(0x190)](_0x4d641e(0x870));if(!_0x5bb9ae||!_0x5bb9ae[_0x4d641e(0x5e8)][_0x4d641e(0x3fc)])return;const _0x38dc11=_0x5bb9ae['dataset'][_0x4d641e(0x3fc)];if(quizLeaderboardSortBy===_0x38dc11)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x4d641e(0x474)?_0x4d641e(0x460):_0x4d641e(0x474);else{quizLeaderboardSortBy=_0x38dc11;const _0x2a4942=[_0x4d641e(0xbba)];quizLeaderboardSortOrder=_0x2a4942['includes'](_0x38dc11)?_0x4d641e(0x474):_0x4d641e(0x460);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document['getElementById'](_0xe18d7f(0xa2c))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),closePresentation),document['getElementById'](_0xe18d7f(0x2fd))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x665))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x59fac5=_0xe18d7f;currentQuizData[_0x59fac5(0x9fc)]&&currentPresentationSlide<currentQuizData[_0x59fac5(0x9fc)][_0x59fac5(0x7d2)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0xe18d7f(0x59d)](_0xe18d7f(0x6fe),()=>{const _0x51e843=_0xe18d7f;!document['fullscreenElement']&&(presentationModal[_0x51e843(0x5c6)]['display']=_0x51e843(0x81d));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x1ab))['addEventListener']('click',handleDeleteAllStudents),studentList['addEventListener'](_0xe18d7f(0x9fd),_0x5329bb=>{const _0x22c261=_0xe18d7f,_0x1bbb8a=_0x5329bb[_0x22c261(0x697)]['closest']('.delete-student-btn');if(_0x1bbb8a){const _0x56d44d=_0x1bbb8a['dataset'][_0x22c261(0xbba)];handleDeleteStudent(_0x56d44d);}}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x6da))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleGenerateFromFileClick),fileUploadInput[_0xe18d7f(0x59d)](_0xe18d7f(0xc16),_0x10e6dd=>{const _0x34d626=_0xe18d7f,_0x4a613e=_0x10e6dd[_0x34d626(0x697)][_0x34d626(0x603)][0x0],_0x535489=document['getElementById'](_0x34d626(0x6da)),_0x549879=document[_0x34d626(0xc0e)](_0x34d626(0x1cf)),_0x1f9dbf=document['getElementById'](_0x34d626(0x767));_0x4a613e?(selectedFile=_0x4a613e,_0x1f9dbf[_0x34d626(0x9da)]?(_0x535489[_0x34d626(0x622)]=!![],analyzeFileForTopics(_0x4a613e)):(_0x535489[_0x34d626(0x622)]=![],_0x549879[_0x34d626(0x319)][_0x34d626(0x930)](_0x34d626(0x772)))):(selectedFile=null,_0x535489[_0x34d626(0x622)]=!![],_0x549879[_0x34d626(0x319)][_0x34d626(0x930)](_0x34d626(0x772)));}),document[_0xe18d7f(0xc0e)]('separate-by-content-from-file-checkbox')['addEventListener'](_0xe18d7f(0xc16),_0x104e0d=>{const _0x2a0406=_0xe18d7f,_0x5b1805=_0x104e0d[_0x2a0406(0x697)][_0x2a0406(0x9da)],_0x525fe7=document[_0x2a0406(0xc0e)](_0x2a0406(0x6da)),_0x420c58=document[_0x2a0406(0xc0e)](_0x2a0406(0x1cf));_0x5b1805?(_0x525fe7[_0x2a0406(0x622)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x420c58[_0x2a0406(0x319)][_0x2a0406(0xd08)](_0x2a0406(0x772)),document[_0x2a0406(0xc0e)](_0x2a0406(0x582))[_0x2a0406(0xd5e)]=_0x2a0406(0x353))):(_0x420c58[_0x2a0406(0x319)]['add'](_0x2a0406(0x772)),_0x525fe7[_0x2a0406(0x622)]=!selectedFile);}),document['getElementById'](_0xe18d7f(0x1cf))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x3a3e8b=>{const _0x24e2a6=_0xe18d7f,_0x441fd4=_0x3a3e8b[_0x24e2a6(0x697)][_0x24e2a6(0x190)](_0x24e2a6(0x5fa)),_0x213fdb=_0x3a3e8b[_0x24e2a6(0x697)][_0x24e2a6(0x190)]('.generate-content-btn');if(_0x441fd4){const _0x3bd841=unescape(_0x441fd4[_0x24e2a6(0x5e8)][_0x24e2a6(0x156)]);generateHybridQuizForTopic(_0x3bd841);}else{if(_0x213fdb){const _0x3163ca=unescape(_0x213fdb['dataset']['topic']),_0x396823=document[_0x24e2a6(0xc0e)](_0x24e2a6(0x215))['value'];handleGenerateAndShowLesson(_0x3163ca,_0x396823);}}}),document[_0xe18d7f(0xc0e)]('timer-mode-select')[_0xe18d7f(0x59d)](_0xe18d7f(0xc16),_0x5d2eb2=>{const _0x23d258=_0xe18d7f,_0x41a915=document[_0x23d258(0xc0e)](_0x23d258(0xccc)),_0x52f177=document[_0x23d258(0xc0e)](_0x23d258(0xd38)),_0x254023=document['getElementById'](_0x23d258(0x30d));_0x5d2eb2[_0x23d258(0x697)]['value']==='none'?_0x41a915[_0x23d258(0x319)][_0x23d258(0x930)](_0x23d258(0x772)):(_0x41a915[_0x23d258(0x319)][_0x23d258(0xd08)](_0x23d258(0x772)),_0x5d2eb2[_0x23d258(0x697)][_0x23d258(0x452)]===_0x23d258(0xb70)?(_0x52f177[_0x23d258(0x6fb)]=_0x23d258(0x68c),_0x254023[_0x23d258(0x452)]='10'):(_0x52f177['textContent']=_0x23d258(0xccd),_0x254023[_0x23d258(0x452)]='30'));}),document['getElementById'](_0xe18d7f(0xb44))[_0xe18d7f(0x59d)](_0xe18d7f(0xc16),_0x38d99b=>{const _0x88945=_0xe18d7f,_0xbf6fec=document[_0x88945(0xc0e)](_0x88945(0x45d)),_0x3b00d0=_0x38d99b[_0x88945(0x697)][_0x88945(0x452)],_0x47499a=document[_0x88945(0x535)](_0x88945(0x149)),_0x3ea361=document[_0x88945(0xc0e)](_0x88945(0x2b3)),_0x162b32=document[_0x88945(0xc0e)]('num-questions');_0x3b00d0===_0x88945(0x97f)?_0x47499a[_0x88945(0x6fb)]='จำนวนคู่:':_0x47499a[_0x88945(0x6fb)]=_0x88945(0xe2),_0x3b00d0===_0x88945(0x211)||_0x3b00d0===_0x88945(0x44b)||_0x3b00d0===_0x88945(0xcf3)?_0xbf6fec[_0x88945(0x319)]['remove'](_0x88945(0x772)):_0xbf6fec[_0x88945(0x319)][_0x88945(0x930)](_0x88945(0x772)),_0x3ea361[_0x88945(0x347)]=_0x162b32['value'];}),document[_0xe18d7f(0xc0e)]('num-questions')['addEventListener'](_0xe18d7f(0x914),_0x11bd7d=>{const _0x31b0f7=_0xe18d7f;document[_0x31b0f7(0xc0e)](_0x31b0f7(0x2b3))[_0x31b0f7(0x347)]=_0x11bd7d[_0x31b0f7(0x697)][_0x31b0f7(0x452)];}),document['getElementById']('modal-timer-mode-select')['addEventListener'](_0xe18d7f(0xc16),_0x5c0c03=>{const _0x3aeb65=_0xe18d7f,_0x50d6ef=document[_0x3aeb65(0xc0e)]('modal-timer-duration-container'),_0x5592e6=document['getElementById'](_0x3aeb65(0x6bf)),_0x21798e=document[_0x3aeb65(0xc0e)]('modal-timer-duration-input');_0x5c0c03[_0x3aeb65(0x697)][_0x3aeb65(0x452)]===_0x3aeb65(0x81d)?_0x50d6ef[_0x3aeb65(0x319)][_0x3aeb65(0x930)](_0x3aeb65(0x772)):(_0x50d6ef[_0x3aeb65(0x319)][_0x3aeb65(0xd08)]('hidden'),_0x5c0c03[_0x3aeb65(0x697)]['value']==='whole_quiz'?_0x5592e6['textContent']=_0x3aeb65(0x68c):_0x5592e6[_0x3aeb65(0x6fb)]=_0x3aeb65(0xccd));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xaaa))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x4cce00=_0xe18d7f;document[_0x4cce00(0xc0e)](_0x4cce00(0x254))['classList']['add'](_0x4cce00(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x62a))[_0xe18d7f(0x59d)]('click',()=>{const _0x188222=_0xe18d7f;document[_0x188222(0xc0e)](_0x188222(0x254))[_0x188222(0x319)][_0x188222(0x930)]('hidden');}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xae7))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleVerifyAnswersInEditor),document[_0xe18d7f(0xc0e)]('save-quiz-edits-btn')[_0xe18d7f(0x59d)]('click',()=>{const _0x59ffc8=_0xe18d7f;document['getElementById'](_0x59ffc8(0x254))[_0x59ffc8(0x319)][_0x59ffc8(0x930)](_0x59ffc8(0x772)),showConfirmation(_0x59ffc8(0xa72),handleSaveChanges);}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xd80))['addEventListener']('click',handleAutoFixLatex);const _0x1c6d12=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x9d0));_0x1c6d12&&_0x1c6d12[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x2e2b5a=>{const _0x172050=_0xe18d7f,_0x2db3d4=_0x2e2b5a[_0x172050(0x697)][_0x172050(0x190)]('.regenerate-question-editor-btn');if(_0x2db3d4){const _0x2b4ad5=_0x2db3d4[_0x172050(0x190)](_0x172050(0x4fe)),_0x4837bb=parseInt(_0x2b4ad5[_0x172050(0x5e8)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x4837bb);return;}const _0x57b939=_0x2e2b5a['target'][_0x172050(0x190)](_0x172050(0x25f));if(_0x57b939){const _0x15ff63=_0x57b939['closest'](_0x172050(0x4fe)),_0x1bd8a2=parseInt(_0x15ff63[_0x172050(0x5e8)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x1bd8a2);return;}const _0x5cdecf=_0x2e2b5a['target'][_0x172050(0x190)](_0x172050(0xcb6));if(_0x5cdecf){handleAddQuestionInEditor();return;}});document[_0xe18d7f(0xc0e)](_0xe18d7f(0x6f8))[_0xe18d7f(0x59d)]('click',openQuizBankModal),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x7cf))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x12aab0=_0xe18d7f;document[_0x12aab0(0xc0e)]('quiz-bank-modal')[_0x12aab0(0x319)][_0x12aab0(0x930)](_0x12aab0(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x3f1))[_0xe18d7f(0x59d)]('input',_0x2855b0=>renderQuizBankList(_0x2855b0[_0xe18d7f(0x697)]['value']));const _0x28d6f0=document[_0xe18d7f(0xc0e)](_0xe18d7f(0x355));if(_0x28d6f0){let _0x2eb71c=null;_0x28d6f0[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0xf78e51=>{const _0x3c7067=_0xe18d7f,_0x26b229=_0xf78e51[_0x3c7067(0x697)],_0xc717f9=_0x26b229[_0x3c7067(0x190)](_0x3c7067(0xcfc)),_0xb7078=_0x26b229[_0x3c7067(0x190)](_0x3c7067(0xc17)),_0x19532e=_0x26b229[_0x3c7067(0x190)]('.save-custom-topic-btn'),_0x389a54=_0x26b229['closest'](_0x3c7067(0x26f));if(_0xb7078){_0xf78e51['preventDefault']();const _0x4a193d=_0xb7078['dataset']['id'],_0x15be96=_0xb7078[_0x3c7067(0x190)](_0x3c7067(0x1b3))[_0x3c7067(0x535)](_0x3c7067(0x1ca))[_0x3c7067(0x6fb)];showConfirmation(_0x3c7067(0x8d7)+_0x15be96+'\x22?',()=>handleDeleteCustomTopic(_0x4a193d));}else{if(_0xc717f9){_0xf78e51[_0x3c7067(0x3eb)]();_0x2eb71c&&toggleTopicEditMode(_0x2eb71c,![]);const _0x1515e6=_0xc717f9['closest'](_0x3c7067(0x837));_0x2eb71c=_0x1515e6,toggleTopicEditMode(_0x1515e6,!![]);}else{if(_0x19532e){_0xf78e51[_0x3c7067(0x3eb)]();const _0x373b50=_0x19532e[_0x3c7067(0x5e8)]['id'],_0x2eed35=_0x19532e[_0x3c7067(0x190)](_0x3c7067(0x837)),_0x417ee0=_0x2eed35['querySelector'](_0x3c7067(0x8df))['value'];handleUpdateCustomTopic(_0x373b50,_0x417ee0),_0x2eb71c=null;}else{if(_0x389a54){_0xf78e51['preventDefault']();const _0x4d2f02=_0x389a54[_0x3c7067(0x190)](_0x3c7067(0x837));toggleTopicEditMode(_0x4d2f02,![]),_0x2eb71c=null;}}}}}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0xd49))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x3f3dd4=_0xe18d7f;document['getElementById'](_0x3f3dd4(0x3a0))['classList'][_0x3f3dd4(0x930)](_0x3f3dd4(0x772));}),document['getElementById']('close-lesson-plan-modal-footer-btn')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x110c59=_0xe18d7f;document[_0x110c59(0xc0e)](_0x110c59(0x3a0))[_0x110c59(0x319)]['add'](_0x110c59(0x772));}),document[_0xe18d7f(0xc0e)](_0xe18d7f(0x19b))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),handleExportLessonPDF);}document['getElementById'](_0xe18d7f(0xa94))[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),()=>{const _0x5ce5a3=_0xe18d7f;document[_0x5ce5a3(0xc0e)](_0x5ce5a3(0x23a))['classList'][_0x5ce5a3(0x930)]('hidden');}),document['getElementById']('close-comparison-modal-footer-btn')['addEventListener'](_0xe18d7f(0x9fd),()=>{const _0x3d9a97=_0xe18d7f;document[_0x3d9a97(0xc0e)](_0x3d9a97(0x23a))[_0x3d9a97(0x319)]['add'](_0x3d9a97(0x772));}),setupComparisonModalTabs(),document[_0xe18d7f(0x609)]['addEventListener']('click',function(_0x174cb2){const _0x330c56=_0xe18d7f;if(_0x174cb2['target'][_0x330c56(0x319)]['contains']('practice-topic-btn')){const _0x49e87b=unescape(_0x174cb2[_0x330c56(0x697)]['dataset'][_0x330c56(0x156)]);startSkillPractice(_0x49e87b);}}),document[_0xe18d7f(0xc0e)]('scores-tab-content')[_0xe18d7f(0x59d)](_0xe18d7f(0x9fd),_0x10980e=>{const _0x3bbc56=_0xe18d7f,_0x254715=_0x10980e['target'][_0x3bbc56(0x190)](_0x3bbc56(0x8f0));if(_0x254715){const _0x2e7d2b=_0x254715[_0x3bbc56(0x5e8)]['studentName'];handleDeleteSubmission(_0x2e7d2b);}});}async function handleStartGroupMode(_0x13bc95,_0x49ef4b=![]){const _0x53a75d=_0x3a9f7b,_0x42d48b=allQuizzes[_0x53a75d(0x4b3)](_0x59c3aa=>_0x59c3aa['id']===_0x13bc95)||allQuizzesGlobal[_0x53a75d(0x4b3)](_0x55fabe=>_0x55fabe['id']===_0x13bc95);if(!_0x42d48b){showMessage(_0x53a75d(0x9ef));return;}currentQuizData=getShuffledQuiz(_0x42d48b);const _0x3677ef=Math[_0x53a75d(0x48b)](0x3e8+Math[_0x53a75d(0x120)]()*0x2328)[_0x53a75d(0x6ad)]();try{const _0x4808f7=await addDoc(collection(db,_0x53a75d(0xb3f)+appId+_0x53a75d(0xc85)),{'quizId':_0x42d48b['id'],'projectId':_0x42d48b[_0x53a75d(0xd39)],'status':_0x53a75d(0x9aa),'pin':_0x3677ef,'mode':_0x53a75d(0xadc),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x49ef4b});currentTeamQuizId=_0x4808f7['id'],showView(_0x53a75d(0xb0)),renderAdminTeamQuizDashboard(_0x3677ef,_0x42d48b[_0x53a75d(0x156)],'group'),listenForTeamQuizUpdates();}catch(_0x33303c){console[_0x53a75d(0x4e3)](_0x53a75d(0x2da),_0x33303c),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x4fce87=_0x3a9f7b;studentInitialView[_0x4fce87(0x319)]['add'](_0x4fce87(0x772)),document[_0x4fce87(0xc0e)]('student-progress-view')['classList'][_0x4fce87(0xd08)](_0x4fce87(0x772));const _0x22be92=document['getElementById'](_0x4fce87(0x520)),_0x4c7045=document[_0x4fce87(0xc0e)](_0x4fce87(0xc5e)),_0x37e1f8=document[_0x4fce87(0xc0e)](_0x4fce87(0xb69));_0x37e1f8[_0x4fce87(0xd5e)]=_0x4fce87(0x297),_0x4c7045[_0x4fce87(0xd5e)]=_0x4fce87(0x8f6),_0x4c7045[_0x4fce87(0x622)]=!![],_0x22be92[_0x4fce87(0xd5e)]=_0x4fce87(0x4ec);if(allProjects[_0x4fce87(0x7d2)]===0x0){const _0x5b4b37=collection(db,'artifacts/'+appId+_0x4fce87(0xb8e)),_0x3358ae=await getDocs(_0x5b4b37);allProjects=_0x3358ae[_0x4fce87(0x726)][_0x4fce87(0x8ac)](_0x144ec0=>({'id':_0x144ec0['id'],..._0x144ec0[_0x4fce87(0x180)]()}));}const _0x55093a=allProjects[_0x4fce87(0xb6e)](_0x1ad455=>_0x1ad455[_0x4fce87(0x7e8)]?.[_0x4fce87(0x32e)]!==![]);_0x55093a[_0x4fce87(0x3fc)]((_0x3f1fda,_0x474136)=>_0x3f1fda[_0x4fce87(0x139)][_0x4fce87(0xae5)](_0x474136['projectName'],'th')),_0x22be92[_0x4fce87(0xd5e)]=_0x4fce87(0x516)+_0x55093a['map'](_0x237cc7=>'<option\x20value=\x22'+_0x237cc7['id']+'\x22>'+_0x237cc7[_0x4fce87(0x139)]+_0x4fce87(0x17b))['join'](''),_0x22be92[_0x4fce87(0x849)]=()=>{const _0x54377f=_0x4fce87,_0x2b6a25=_0x4c7045[_0x54377f(0x452)],_0x26a84f=_0x22be92[_0x54377f(0x452)];_0x4c7045[_0x54377f(0x622)]=!![],_0x4c7045[_0x54377f(0xd5e)]=_0x54377f(0x8f6),_0x37e1f8[_0x54377f(0xd5e)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x26a84f)return;const _0x99aaa7=allProjects[_0x54377f(0x4b3)](_0x20d443=>_0x20d443['id']===_0x26a84f);if(!_0x99aaa7||!_0x99aaa7[_0x54377f(0xa46)])return;const _0x2530bc=()=>{const _0x365f79=_0x54377f;_0x4c7045['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x99aaa7['students'][_0x365f79(0x8ac)](_0x27ec30=>'<option\x20value=\x22'+_0x27ec30+'\x22>'+_0x27ec30+_0x365f79(0x17b))[_0x365f79(0x986)](''),_0x4c7045['disabled']=![];const _0x5dc3a3=Array['from'](_0x4c7045[_0x365f79(0xc87)])[_0x365f79(0x8ac)](_0x9f2af5=>_0x9f2af5[_0x365f79(0x452)]);if(_0x2b6a25&&_0x5dc3a3[_0x365f79(0x1bc)](_0x2b6a25))_0x4c7045[_0x365f79(0x452)]=_0x2b6a25,_0x4c7045['dispatchEvent'](new Event('change'));else _0x99aaa7[_0x365f79(0xa46)]['length']===0x1&&(_0x4c7045[_0x365f79(0x452)]=_0x99aaa7[_0x365f79(0xa46)][0x0],_0x4c7045['dispatchEvent'](new Event(_0x365f79(0xc16))));};if(_0x99aaa7[_0x54377f(0x7e8)]?.['isPasscodeEnabled']){if(sessionStorage[_0x54377f(0x248)](_0x54377f(0x544)+_0x26a84f)===_0x54377f(0x65b)){_0x2530bc();return;}const _0x436ba6=document['getElementById'](_0x54377f(0x8ce)),_0x42b6a6=document[_0x54377f(0xc0e)](_0x54377f(0x98d)),_0x4229ce=document[_0x54377f(0xc0e)](_0x54377f(0x54c)),_0x5f4ac9=document[_0x54377f(0xc0e)]('student-passcode-input'),_0x408dcc=document[_0x54377f(0xc0e)](_0x54377f(0x9ae));document['getElementById'](_0x54377f(0x309))['textContent']=_0x54377f(0x9ce)+_0x99aaa7[_0x54377f(0x139)],_0x5f4ac9[_0x54377f(0x452)]='',_0x408dcc[_0x54377f(0x319)][_0x54377f(0x930)]('hidden'),_0x436ba6[_0x54377f(0x319)]['remove'](_0x54377f(0x772));const _0x19d244=()=>{const _0x332c8a=_0x54377f,_0x5f215b=_0x5f4ac9[_0x332c8a(0x452)][_0x332c8a(0xa0f)]();_0x5f215b===_0x99aaa7[_0x332c8a(0x7e8)][_0x332c8a(0xd79)]?(sessionStorage[_0x332c8a(0xb15)](_0x332c8a(0x544)+_0x26a84f,'true'),_0x436ba6[_0x332c8a(0x319)][_0x332c8a(0x930)]('hidden'),_0x2530bc(),_0x42b6a6[_0x332c8a(0x3e0)]('click',_0x19d244)):_0x408dcc['classList'][_0x332c8a(0xd08)]('hidden');};_0x42b6a6[_0x54377f(0xd75)]=_0x19d244,_0x4229ce[_0x54377f(0xd75)]=()=>{const _0x25083e=_0x54377f;_0x436ba6[_0x25083e(0x319)][_0x25083e(0x930)](_0x25083e(0x772)),_0x22be92['value']='',_0x42b6a6[_0x25083e(0x3e0)](_0x25083e(0x9fd),_0x19d244);};}else _0x2530bc();},_0x4c7045[_0x4fce87(0x849)]=()=>{const _0x38b26c=_0x4fce87,_0x17fe21=_0x22be92[_0x38b26c(0x452)],_0x20826d=_0x4c7045[_0x38b26c(0x452)];_0x17fe21&&_0x20826d&&renderStudentProgressDashboard(_0x17fe21,_0x20826d);};}async function confirmAndJoinSyncGame(){const _0x33e644=_0x3a9f7b;lastSeenQuestionIndex=-0x1,sessionStorage[_0x33e644(0x329)](_0x33e644(0x87a)),sessionStorage[_0x33e644(0x329)]('onSecondChance'),sessionStorage['removeItem'](_0x33e644(0x87a)),Object['keys'](sessionStorage)[_0x33e644(0x2d3)](_0xaaeccb=>{const _0x50c285=_0x33e644;(_0xaaeccb['startsWith'](_0x50c285(0x6c6))||_0xaaeccb['startsWith']('powerupUsed_q')||_0xaaeccb[_0x50c285(0x23e)]('hiddenOptions_q'))&&sessionStorage[_0x50c285(0x329)](_0xaaeccb);});const _0x243fc4=Array[_0x33e644(0x30e)](document[_0x33e644(0x68f)](_0x33e644(0xa89)))[_0x33e644(0x8ac)](_0x58800c=>_0x58800c[_0x33e644(0x452)]);if(_0x243fc4[_0x33e644(0x7d2)]===0x0){showMessage(_0x33e644(0x671));return;}localTeamPlayers=_0x243fc4,localPlayerTurnIndex=0x0;const _0x3b9979=doc(db,'artifacts/'+appId+_0x33e644(0x25a),currentLiveGameId);try{const _0x10f08b=await getDoc(_0x3b9979);if(!_0x10f08b[_0x33e644(0x1fb)]())throw new Error(_0x33e644(0x206));const _0x2d6f95=_0x10f08b[_0x33e644(0x180)](),_0x1c7b4f=_0x2d6f95['gameVariant']||_0x33e644(0x184),_0x47f7e7={};_0x243fc4[_0x33e644(0x2d3)](_0x511e7f=>{const _0x2c869a=_0x33e644,_0x584490=_0x2d6f95[_0x2c869a(0xd1)][_0x511e7f];if(_0x584490){console[_0x2c869a(0x955)]('ผู้เล่น\x20'+_0x511e7f+_0x2c869a(0x294)),_0x47f7e7[_0x2c869a(0xc52)+_0x511e7f+'.status']=_0x2c869a(0x75a);const _0x262048=_0x584490[_0x2c869a(0xb24)]?.[_0x584490['answers'][_0x2c869a(0x7d2)]-0x1],_0x1184e4=!!(_0x262048&&_0x262048[_0x2c869a(0xb47)]===_0x2d6f95[_0x2c869a(0x41b)]);_0x47f7e7[_0x2c869a(0xc52)+_0x511e7f+_0x2c869a(0x3f3)]=_0x1184e4;}else{console[_0x2c869a(0x955)](_0x2c869a(0x1c2)+_0x511e7f+_0x2c869a(0xb7a));const _0x94ea5e={'name':_0x511e7f,'score':0x0,'totalPoints':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0},'answered':![],'status':_0x2c869a(0x75a),'answers':[]};_0x1c7b4f==='survivor'&&(typeof STARTING_LIVES!=='undefined'?_0x94ea5e[_0x2c869a(0x3e8)]=STARTING_LIVES:(console['error'](_0x2c869a(0x821)),_0x94ea5e[_0x2c869a(0x3e8)]=0x3)),_0x47f7e7[_0x2c869a(0xc52)+_0x511e7f]=_0x94ea5e;}}),await updateDoc(_0x3b9979,_0x47f7e7),showView('live-game'),document['getElementById'](_0x33e644(0x105))[_0x33e644(0x319)][_0x33e644(0x930)](_0x33e644(0x772)),currentStudentName=_0x243fc4[0x0],listenForSyncGameUpdates();const _0x5b990f={'gameId':currentLiveGameId,'mode':_0x33e644(0x43c),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x33e644(0xb15)](_0x33e644(0x7df),JSON[_0x33e644(0x272)](_0x5b990f)),currentMode!==_0x33e644(0x35f)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x33e644(0x59d)](_0x33e644(0x6fe),handleFullscreenChange),document[_0x33e644(0x59d)](_0x33e644(0xa66),handleVisibilityChange),enterFullscreen(),window[_0x33e644(0x59d)](_0x33e644(0x476),resetDimTimer),window['addEventListener']('mousedown',resetDimTimer),window[_0x33e644(0x59d)](_0x33e644(0x932),resetDimTimer),window[_0x33e644(0x59d)](_0x33e644(0x6d3),resetDimTimer),resetDimTimer());}catch(_0x30bdc5){console[_0x33e644(0x4e3)](_0x33e644(0x5da),_0x30bdc5),showMessage(_0x33e644(0xaa2)+_0x30bdc5[_0x33e644(0x145)]);}}async function resumeActiveGameSession(){const _0x26ba10=_0x3a9f7b,_0x4edb56=sessionStorage[_0x26ba10(0x248)]('activeGameSession');if(!_0x4edb56)return;const _0x74efab=JSON[_0x26ba10(0x7da)](_0x4edb56),{gameId:_0x3bc23c,mode:_0x3ed49b,role:_0x5715be,players:_0x27fbd5,turnIndex:_0x129a46}=_0x74efab;try{if(_0x5715be===_0x26ba10(0xcd6)&&_0x3ed49b==='sync'){const _0x34f6a3=doc(db,_0x26ba10(0xb3f)+appId+_0x26ba10(0x25a),_0x3bc23c),_0x1d02a7=await getDoc(_0x34f6a3);if(!_0x1d02a7[_0x26ba10(0x1fb)]()||_0x1d02a7[_0x26ba10(0x180)]()[_0x26ba10(0x896)]===_0x26ba10(0x52b)||_0x1d02a7[_0x26ba10(0x180)]()[_0x26ba10(0x896)]===_0x26ba10(0xad9)){sessionStorage[_0x26ba10(0x329)](_0x26ba10(0x7df));return;}console[_0x26ba10(0x955)](_0x26ba10(0x157)+_0x3bc23c+')'),currentMode='admin',currentLiveGameId=_0x3bc23c,currentQuizData=_0x1d02a7[_0x26ba10(0x180)]()[_0x26ba10(0xc11)],showView(_0x26ba10(0xb0)),listenForSyncGameUpdates();}else{if(_0x3ed49b===_0x26ba10(0x43c)&&_0x27fbd5){const _0x1eaf4d=doc(db,_0x26ba10(0xb3f)+appId+_0x26ba10(0x25a),_0x3bc23c),_0x1a0ee9=await getDoc(_0x1eaf4d);if(!_0x1a0ee9[_0x26ba10(0x1fb)]()||_0x1a0ee9[_0x26ba10(0x180)]()['status']===_0x26ba10(0x52b)||_0x1a0ee9['data']()['status']===_0x26ba10(0xad9)){sessionStorage[_0x26ba10(0x329)](_0x26ba10(0x7df));return;}console['log']('กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20'+_0x3bc23c+')'),currentLiveGameId=_0x3bc23c,currentStudentName=_0x27fbd5[0x0],localTeamPlayers=_0x27fbd5,showView(_0x26ba10(0xb0)),listenForSyncGameUpdates();}else{if((_0x3ed49b===_0x26ba10(0x188)||_0x3ed49b===_0x26ba10(0xadc))&&_0x27fbd5){const _0x47c705=doc(db,'artifacts/'+appId+_0x26ba10(0xc85),_0x3bc23c),_0x2176e8=await getDoc(_0x47c705);if(!_0x2176e8['exists']()||_0x2176e8[_0x26ba10(0x180)]()[_0x26ba10(0x896)]===_0x26ba10(0x52b)||_0x2176e8['data']()[_0x26ba10(0x896)]===_0x26ba10(0xad9)){sessionStorage[_0x26ba10(0x329)](_0x26ba10(0x7df));return;}console[_0x26ba10(0x955)]('กำลังกลับเข้าสู่เกม\x20'+_0x3ed49b+'\x20(Player)\x20(ID:\x20'+_0x3bc23c+')'),currentTeamQuizId=_0x3bc23c,localTeamPlayers=_0x27fbd5,localQuestionIndex=_0x74efab[_0x26ba10(0xb47)]||0x0,localPlayerIndex=_0x74efab[_0x26ba10(0x847)]||0x0;const _0x28e8e3=_0x2176e8[_0x26ba10(0x180)](),_0x1908d6=doc(db,_0x26ba10(0xb3f)+appId+_0x26ba10(0xb0a),_0x28e8e3[_0x26ba10(0x346)]),_0x6ac53c=await getDoc(_0x1908d6);_0x6ac53c['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x6ac53c['id'],..._0x6ac53c[_0x26ba10(0x180)]()}),showView(_0x26ba10(0x243)),studentInitialView[_0x26ba10(0x319)][_0x26ba10(0x930)](_0x26ba10(0x772)),_0x3ed49b===_0x26ba10(0xadc)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x4f733b){console[_0x26ba10(0x4e3)](_0x26ba10(0x352),_0x4f733b),sessionStorage['removeItem'](_0x26ba10(0x7df));}}async function handleUsePowerup(_0x59347f,_0x587ac3,_0x222c63,_0x5c18c4,_0xfe0628){const _0x2dd7be=_0x3a9f7b,_0x1de89c=_0x5c18c4['currentQuestionIndex'],_0x1eb778='powerupUsed_q'+_0x1de89c+'_p'+_0x59347f,_0x18caf3=sessionStorage[_0x2dd7be(0x248)](_0x1eb778);if(_0x18caf3&&_0x587ac3!=='buyTime'){showMessage(_0x2dd7be(0x5e4));const _0x587a43=document[_0x2dd7be(0xc0e)](_0x2dd7be(0x1ee)+_0x587ac3);if(_0x587a43)_0x587a43[_0x2dd7be(0x622)]=![];return;}const _0x245d93=doc(db,'artifacts/'+appId+_0x2dd7be(0x25a),currentLiveGameId);try{await runTransaction(db,async _0x5018bd=>{const _0x10215b=_0x2dd7be,_0x487d81=await _0x5018bd[_0x10215b(0x2c7)](_0x245d93);if(!_0x487d81[_0x10215b(0x1fb)]())throw'ไม่พบข้อมูลเกม';const _0x54ba5c=_0x487d81[_0x10215b(0x180)](),_0x2379ac=_0x54ba5c[_0x10215b(0xd1)][_0x59347f]?.[_0x10215b(0x5b6)]||{},_0x17ab94=_0x2379ac[_0x587ac3]||0x0;if(_0x17ab94<=0x0)throw'คุณไม่มีไอเทมนี้ในคลัง';const _0x27e468={};_0x27e468[_0x10215b(0xc52)+_0x59347f+_0x10215b(0x762)+_0x587ac3]=increment(-0x1);if(_0x587ac3==='buyTime'){const _0x27d44d=(_0x5c18c4['timerDuration']||0xf0)*0x3e8,_0x1a5e22=_0x27d44d*0.25;_0x27e468['players.'+_0x59347f+_0x10215b(0xaf7)]=increment(_0x1a5e22);}_0x5018bd[_0x10215b(0xe0)](_0x245d93,_0x27e468);});_0x587ac3==='poll'&&sessionStorage[_0x2dd7be(0xb15)](_0x2dd7be(0x87a),_0x2dd7be(0x65b));if(_0x587ac3!==_0x2dd7be(0x80b)){const _0x50a79e=_0x5c18c4[_0x2dd7be(0x41b)],_0x5cbf92='powerupUsed_q'+_0x50a79e+'_p'+_0x59347f;sessionStorage['setItem'](_0x5cbf92,_0x587ac3);}applyPowerupEffect(_0x59347f,_0x587ac3,_0x222c63,_0x5c18c4,_0xfe0628);}catch(_0x128478){console[_0x2dd7be(0x4e3)](_0x2dd7be(0x3af),_0x128478),showMessage(typeof _0x128478===_0x2dd7be(0xb5a)?_0x128478:_0x2dd7be(0x760));const _0x5b2cac=document[_0x2dd7be(0xc0e)](_0x2dd7be(0x1ee)+_0x587ac3);if(_0x5b2cac)_0x5b2cac['disabled']=![];}}function applyPowerupEffect(_0x117c17,_0x654e1f,_0x11d24d,_0x1259fc,_0x169e8a){const _0x5273ce=_0x3a9f7b,_0x33c7bf=_0x11d24d;switch(_0x654e1f){case _0x5273ce(0x964):const _0x58f0a6=Object[_0x5273ce(0x3ac)](_0x1259fc[_0x5273ce(0xd1)]||{}),_0x49537f=_0x58f0a6[_0x5273ce(0xb6e)](_0x2525e0=>{const _0x3bb4de=_0x5273ce,_0x14a654=(_0x2525e0[_0x3bb4de(0xb24)]||[])[_0x3bb4de(0x4b3)](_0x4e5558=>_0x4e5558[_0x3bb4de(0xb47)]===_0x1259fc['currentQuestionIndex']);return _0x14a654!==undefined;}),_0x4d7231=_0x49537f[_0x5273ce(0x7d2)];if(_0x4d7231===0x0){showMessage(_0x5273ce(0x82a));return;}const _0x38321e={};(_0x11d24d[_0x5273ce(0xc87)]||[])[_0x5273ce(0x2d3)]((_0x8b3985,_0x37a189)=>{_0x38321e[_0x37a189]=0x0;}),_0x49537f[_0x5273ce(0x2d3)](_0x15a47b=>{const _0x41fe44=_0x5273ce,_0x2a1d47=(_0x15a47b[_0x41fe44(0xb24)]||[])['find'](_0x3c5a09=>_0x3c5a09[_0x41fe44(0xb47)]===_0x1259fc[_0x41fe44(0x41b)]);_0x2a1d47&&_0x38321e[_0x2a1d47[_0x41fe44(0x7d7)]]!==undefined&&_0x38321e[_0x2a1d47[_0x41fe44(0x7d7)]]++;});let _0x5ca072=_0x5273ce(0xbb1);Object[_0x5273ce(0x377)](_0x38321e)['forEach'](([_0x480fda,_0xb87da1])=>{const _0x27957c=_0x5273ce,_0x567b21=(_0xb87da1/_0x4d7231*0x64)['toFixed'](0x0),_0x458207=_0x27957c(0x5e6)+(parseInt(_0x480fda)+0x1);_0x5ca072+=_0x458207+':\x20'+_0xb87da1+'\x20คน\x20('+_0x567b21+_0x27957c(0x169);}),showMessage(_0x5ca072);break;case _0x5273ce(0x80b):const _0x405549=(_0x1259fc[_0x5273ce(0x20e)]||0xf0)*0.25;showMessage('⏳\x20ซื้อเวลาสำเร็จ!\x20คุณได้รับเวลาเพิ่ม\x20'+_0x405549+_0x5273ce(0x6a6));break;case _0x5273ce(0x468):case'fiftyFifty':case _0x5273ce(0x468):case _0x5273ce(0xce5):const _0x6fde23=document[_0x5273ce(0x68f)](_0x5273ce(0xa31)),_0xab2a27=_0x1259fc[_0x5273ce(0x41b)];if(_0x6fde23[_0x5273ce(0x7d2)]===0x0){showMessage('❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ');return;}const _0x7f6264='hiddenOptions_q'+_0xab2a27+'_p'+_0x117c17,_0x31feb8=JSON['parse'](sessionStorage[_0x5273ce(0x248)](_0x7f6264)||'[]');let _0xb134de;if(_0x33c7bf[_0x5273ce(0x7c7)]===_0x5273ce(0x56e)){const _0x85009c=_0x33c7bf['correctAnswer']===!![]||String(_0x33c7bf['correctAnswer'])[_0x5273ce(0x703)]()===_0x5273ce(0x65b);_0xb134de=_0x85009c?0x0:0x1;}else _0xb134de=_0x33c7bf['correctAnswerIndex'];const _0xddad2e=Array['from'](_0x6fde23)[_0x5273ce(0xb6e)](_0x1aecd6=>{const _0x2b4a67=_0x5273ce,_0x3c092f=_0x1aecd6['dataset']['value'],_0x54b736=parseInt(_0x3c092f)===_0xb134de,_0x341582=_0x31feb8[_0x2b4a67(0x1bc)](_0x3c092f);return!_0x54b736&&!_0x341582;});if(_0xddad2e[_0x5273ce(0x7d2)]===0x0){showMessage(_0x5273ce(0xbe0));return;}shuffleArray(_0xddad2e);let _0x56cc30=[..._0x31feb8];if(_0x654e1f==='cutOne'){const _0x158945=_0xddad2e[0x0];if(_0x158945){const _0x19e8fc=_0x158945[_0x5273ce(0x5e8)]['value'];_0x158945[_0x5273ce(0x319)][_0x5273ce(0x930)]('hidden'),_0x56cc30[_0x5273ce(0x187)](_0x19e8fc),showMessage(_0x5273ce(0x556));}}else{let _0x335809=0x0;const _0x5dcb00=_0xddad2e[0x0],_0x37098c=_0xddad2e[0x1];if(_0x5dcb00){const _0x450140=_0x5dcb00['dataset']['value'];_0x5dcb00[_0x5273ce(0x319)][_0x5273ce(0x930)]('hidden'),_0x56cc30[_0x5273ce(0x187)](_0x450140),_0x335809++;}if(_0x37098c){const _0x508465=_0x37098c[_0x5273ce(0x5e8)][_0x5273ce(0x452)];_0x37098c[_0x5273ce(0x319)][_0x5273ce(0x930)](_0x5273ce(0x772)),_0x56cc30[_0x5273ce(0x187)](_0x508465),_0x335809++;}showMessage(_0x5273ce(0x5ec)+_0x335809+_0x5273ce(0xbdb));}sessionStorage['setItem'](_0x7f6264,JSON['stringify'](_0x56cc30));break;case _0x5273ce(0x8dc):if(!_0x169e8a){console[_0x5273ce(0x4e3)](_0x5273ce(0xc92)),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม\x20(PData)');break;}const _0x159418=_0x169e8a['name'],_0x4cf0c2=Object['values'](_0x1259fc['players'])[_0x5273ce(0xb6e)](_0x448ca1=>_0x448ca1[_0x5273ce(0x58e)]!==_0x159418&&_0x448ca1['status']===_0x5273ce(0x75a)&&_0x448ca1[_0x5273ce(0xb6b)]===![]);if(_0x4cf0c2[_0x5273ce(0x7d2)]===0x0){showMessage(_0x5273ce(0x7a5)),sessionStorage[_0x5273ce(0x329)](_0x5273ce(0x23f)),handleRefundPowerup(_0x117c17,'forceConfident');break;}const _0x49776d=_0x1259fc[_0x5273ce(0x7bc)]==='anonymous',_0x410dcb=_0x4cf0c2[_0x5273ce(0x8ac)]((_0x26b57a,_0x10e14b)=>{const _0x2b4c48=_0x5273ce,_0x1be754=_0x26b57a[_0x2b4c48(0x58e)],_0x3ea429=_0x1259fc[_0x2b4c48(0xad)][_0x1be754]||_0x2b4c48(0xbc8);return _0x49776d?_0x10e14b+0x1+':\x20'+_0x3ea429:_0x10e14b+0x1+':\x20'+_0x1be754;})['join']('\x0a'),_0x5ab70c=prompt('เลือกผู้เล่นที่จะบังคับ\x20\x22มั่นใจ\x22\x20(ใส่ตัวเลข):\x0a'+_0x410dcb),_0x62cc75=parseInt(_0x5ab70c)-0x1;if(_0x62cc75>=0x0&&_0x62cc75<_0x4cf0c2[_0x5273ce(0x7d2)]){const _0x349187=_0x4cf0c2[_0x62cc75];handleForceConfident(_0x349187[_0x5273ce(0x58e)]);}else showMessage(_0x5273ce(0x77b)),sessionStorage[_0x5273ce(0x329)](_0x5273ce(0x23f)),handleRefundPowerup(_0x117c17,_0x5273ce(0x8dc));break;case'insurance':showMessage('🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200');break;case _0x5273ce(0x765):showMessage('💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x)');break;case _0x5273ce(0x630):if(!_0x169e8a){console[_0x5273ce(0x4e3)](_0x5273ce(0xa19)),showMessage(_0x5273ce(0x318));break;}const _0x379da5=_0x169e8a['name'],_0x157936=Object['values'](_0x1259fc['players'])['filter'](_0x4a1d70=>_0x4a1d70[_0x5273ce(0x58e)]!==_0x379da5&&_0x4a1d70[_0x5273ce(0x896)]===_0x5273ce(0x75a)&&_0x4a1d70[_0x5273ce(0xb6b)]===![]);if(_0x157936[_0x5273ce(0x7d2)]===0x0){showMessage(_0x5273ce(0x7a5)),sessionStorage['removeItem'](_0x5273ce(0x23f)),handleRefundPowerup(_0x117c17,_0x5273ce(0x630));break;}const _0x42fcfc=_0x1259fc[_0x5273ce(0x7bc)]===_0x5273ce(0x4f4),_0x42c1a6=_0x157936[_0x5273ce(0x8ac)]((_0x2552ec,_0x583f37)=>{const _0x3e865a=_0x5273ce,_0x291e47=_0x2552ec[_0x3e865a(0x58e)],_0x4ee282=_0x1259fc[_0x3e865a(0xad)][_0x291e47]||_0x3e865a(0xbc8);return _0x42fcfc?_0x583f37+0x1+':\x20'+_0x4ee282:_0x583f37+0x1+':\x20'+_0x291e47;})[_0x5273ce(0x986)]('\x0a'),_0x1e5464=prompt(_0x5273ce(0x7b5)+_0x42c1a6),_0xdd6c29=parseInt(_0x1e5464)-0x1;if(_0xdd6c29>=0x0&&_0xdd6c29<_0x157936[_0x5273ce(0x7d2)]){const _0x141290=_0x157936[_0xdd6c29];handleApplyJinx(_0x141290[_0x5273ce(0x58e)]);}else showMessage('ยกเลิกการใช้ไอเทม\x20(ไอเทมถูกคืนให้แล้ว)'),sessionStorage[_0x5273ce(0x329)](_0x5273ce(0x23f)),handleRefundPowerup(_0x117c17,_0x5273ce(0x630));break;case _0x5273ce(0x521):showMessage('🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง');break;default:showMessage('ใช้ไอเทม\x20'+_0x654e1f+_0x5273ce(0x794));}}async function handleForceConfident(_0xed33a0){const _0x59a7fd=_0x3a9f7b;if(!currentLiveGameId||!_0xed33a0)return;const _0x59fb97=doc(db,_0x59a7fd(0xb3f)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x2aaf06={};_0x2aaf06['players.'+_0xed33a0+_0x59a7fd(0x69b)]=!![],await updateDoc(_0x59fb97,_0x2aaf06),showMessage(_0x59a7fd(0x487)+_0xed33a0+_0x59a7fd(0xb0e));}catch(_0x3cbdb3){console[_0x59a7fd(0x4e3)](_0x59a7fd(0xf7),_0x3cbdb3),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}async function handleRefundPowerup(_0x574ca1,_0x5d9acc){const _0x37146a=_0x3a9f7b,_0x566a72=doc(db,_0x37146a(0xb3f)+appId+_0x37146a(0x25a),currentLiveGameId);try{const _0x15c633={};_0x15c633[_0x37146a(0xc52)+_0x574ca1+'.powerups.'+_0x5d9acc]=increment(0x1),await updateDoc(_0x566a72,_0x15c633),console['log'](_0x37146a(0xba3)+_0x5d9acc+_0x37146a(0x4f1)+_0x574ca1);}catch(_0x5e6a01){console[_0x37146a(0x4e3)]('Failed\x20to\x20refund\x20powerup:',_0x5e6a01);}}async function handleApplyJinx(_0x5038cd){const _0x556dcc=_0x3a9f7b;if(!currentLiveGameId||!_0x5038cd)return;const _0x209ecd=doc(db,_0x556dcc(0xb3f)+appId+_0x556dcc(0x25a),currentLiveGameId);try{const _0x4c6e5e={};_0x4c6e5e[_0x556dcc(0xc52)+_0x5038cd+'.isJinxed']=!![],await updateDoc(_0x209ecd,_0x4c6e5e),showMessage('ใช้\x20\x22คำสาป\x22\x20กับ\x20'+_0x5038cd+_0x556dcc(0xb0e));}catch(_0x321b8e){console['error'](_0x556dcc(0x5f3),_0x321b8e),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}function activateFileInputAreaWithLoadedFile(){const _0x1761e3=_0x3a9f7b,_0x52d48c=document['getElementById'](_0x1761e3(0x6da)),_0x2db2a9=document[_0x1761e3(0xc0e)]('file-topics-list-container'),_0x5cc398=document[_0x1761e3(0xc0e)](_0x1761e3(0x767));selectedFile?_0x5cc398[_0x1761e3(0x9da)]?(_0x52d48c[_0x1761e3(0x622)]=!![],analyzeFileForTopics(selectedFile)):(_0x52d48c['disabled']=![],_0x2db2a9[_0x1761e3(0x319)][_0x1761e3(0x930)]('hidden')):(_0x52d48c[_0x1761e3(0x622)]=!![],_0x2db2a9['classList'][_0x1761e3(0x930)]('hidden'));}async function handleKickPlayerSync(_0x5750f8){const _0x122825=_0x3a9f7b;if(!currentLiveGameId||!_0x5750f8)return;const _0x10ac1e=doc(db,_0x122825(0xb3f)+appId+_0x122825(0x25a),currentLiveGameId),_0x257a92={};_0x257a92[_0x122825(0xc52)+_0x5750f8+_0x122825(0x664)]=_0x122825(0x856);try{await updateDoc(_0x10ac1e,_0x257a92);}catch(_0x26ea32){console[_0x122825(0x4e3)]('Failed\x20to\x20kick\x20player\x20'+_0x5750f8+_0x122825(0xb64),_0x26ea32),showMessage(_0x122825(0xd10));}}async function renderStudentProgressDashboard(_0x15535c,_0x502d3d){const _0x57ae85=_0x3a9f7b,_0x3bafa9=document['getElementById'](_0x57ae85(0xb69));_0x3bafa9[_0x57ae85(0xd5e)]=_0x57ae85(0x91c);try{const _0xf5372f=collection(db,_0x57ae85(0xb3f)+appId+_0x57ae85(0xb0a)),_0x4d903d=query(_0xf5372f,where(_0x57ae85(0xd39),'==',_0x15535c)),_0x4e3ca1=await getDocs(_0x4d903d),_0x3d2e8e=_0x4e3ca1['docs']['map'](_0x4bad62=>({'id':_0x4bad62['id'],..._0x4bad62[_0x57ae85(0x180)]()})),_0x186aae=_0x3d2e8e['map'](_0x583186=>getDoc(doc(db,_0x57ae85(0xb3f)+appId+_0x57ae85(0x253)+_0x583186['id']+_0x57ae85(0x251),_0x502d3d))),_0x5ef5f6=await Promise[_0x57ae85(0xc9a)](_0x186aae),_0x303da3=_0x5ef5f6['filter'](_0x487b01=>_0x487b01[_0x57ae85(0x1fb)]())['map'](_0x2f99a7=>({'quizId':_0x2f99a7[_0x57ae85(0xc50)][_0x57ae85(0x1cc)][_0x57ae85(0x1cc)]['id'],..._0x2f99a7[_0x57ae85(0x180)]()}));if(_0x303da3[_0x57ae85(0x7d2)]===0x0){_0x3bafa9[_0x57ae85(0xd5e)]=_0x57ae85(0x308);return;}let _0x17946d=_0x57ae85(0x45b);_0x303da3[_0x57ae85(0x2d3)](_0x198edd=>{const _0x3c9d61=_0x57ae85,_0x41ad6f=_0x3d2e8e['find'](_0x470783=>_0x470783['id']===_0x198edd[_0x3c9d61(0x346)]),_0x1d1956=_0x41ad6f[_0x3c9d61(0x7e8)]?.[_0x3c9d61(0x5b0)]||_0x3c9d61(0xd50),_0x4f8768=_0x41ad6f[_0x3c9d61(0x7e8)]?.[_0x3c9d61(0x324)]??0x0,_0x4160e6=_0x198edd['bestScore']>=_0x4f8768;let _0x3b290a='',_0x5ce4c0=_0x3c9d61(0xa9c);switch(_0x1d1956){case _0x3c9d61(0xd50):case _0x3c9d61(0x2cf):_0x5ce4c0=_0x4160e6?_0x3c9d61(0x768):'bg-red-50',_0x3b290a=_0x3c9d61(0xaa3)+(_0x4160e6?'text-green-700':'text-red-700')+'\x22>'+_0x198edd[_0x3c9d61(0x963)]+_0x3c9d61(0x14d)+_0x198edd[_0x3c9d61(0x46c)]+_0x3c9d61(0x82d)+(_0x4160e6?_0x3c9d61(0x395):_0x3c9d61(0x5d4))+'\x22>'+(_0x4160e6?_0x3c9d61(0x70a):_0x3c9d61(0x231))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3c9d61(0xa39):_0x5ce4c0=_0x4160e6?_0x3c9d61(0x768):_0x3c9d61(0x2b2),_0x3b290a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x4160e6?'bg-green-200\x20text-green-800':_0x3c9d61(0x5d4))+'\x22>'+(_0x4160e6?'ผ่าน':_0x3c9d61(0x231))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3c9d61(0x43a):_0x5ce4c0=_0x3c9d61(0x379),_0x3b290a=_0x3c9d61(0x20b);break;}_0x17946d+=_0x3c9d61(0xb25)+_0x5ce4c0+_0x3c9d61(0x77a)+_0x41ad6f[_0x3c9d61(0x156)]+_0x3c9d61(0x54a)+_0x198edd['attempts']['length']+_0x3c9d61(0x923)+new Date(_0x198edd[_0x3c9d61(0x3dc)])['toLocaleDateString'](_0x3c9d61(0xf8))+_0x3c9d61(0xe4)+_0x3b290a+_0x3c9d61(0x5d8);}),_0x17946d+=_0x57ae85(0x7f6),_0x3bafa9['innerHTML']=_0x17946d;}catch(_0x8a22de){console[_0x57ae85(0x4e3)](_0x57ae85(0x63a),_0x8a22de),_0x3bafa9[_0x57ae85(0xd5e)]=_0x57ae85(0x5dd);}}function renderQuizBankListForMultiSelect(_0x5423bb=''){const _0x505c2e=_0x3a9f7b,_0x44bac4=document[_0x505c2e(0xc0e)]('bank-quiz-list'),_0x4eb7fd=_0x5423bb['toLowerCase']()[_0x505c2e(0xa0f)](),_0x1bf62a=allQuizzesGlobal['map'](_0x55f76d=>({..._0x55f76d,'projectName':allProjects[_0x505c2e(0x4b3)](_0x515c20=>_0x515c20['id']===_0x55f76d[_0x505c2e(0xd39)])?.['projectName']||_0x505c2e(0x791)}))[_0x505c2e(0xb6e)](_0x1de13d=>(_0x1de13d[_0x505c2e(0x156)]||'')[_0x505c2e(0x703)]()[_0x505c2e(0x1bc)](_0x4eb7fd)||(_0x1de13d[_0x505c2e(0x139)]||'')[_0x505c2e(0x703)]()['includes'](_0x4eb7fd)||_0x1de13d['id'][_0x505c2e(0x6ad)]()[_0x505c2e(0x1bc)](_0x4eb7fd));_0x44bac4['innerHTML']=_0x1bf62a[_0x505c2e(0x7d2)]?_0x1bf62a[_0x505c2e(0x8ac)](_0x1a4bc1=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x1a4bc1['id']+_0x505c2e(0xb32)+(_0x1a4bc1['topic']||_0x505c2e(0x887))+_0x505c2e(0xb2)+_0x1a4bc1[_0x505c2e(0x139)]+_0x505c2e(0xb13)+_0x1a4bc1['id']+_0x505c2e(0x90d))['join'](''):_0x505c2e(0x8f7),_0x44bac4['onchange']=()=>{const _0x4c5e1a=_0x505c2e,_0x586d8d=document['querySelector'](_0x4c5e1a(0x34e));document[_0x4c5e1a(0xc0e)]('confirm-link-quiz-btn')[_0x4c5e1a(0x622)]=!_0x586d8d;};}function setupStudentProgressListeners(){const _0x5d92cd=_0x3a9f7b;document[_0x5d92cd(0xc0e)](_0x5d92cd(0xc0b))[_0x5d92cd(0x59d)](_0x5d92cd(0x9fd),showStudentProgressView),document[_0x5d92cd(0xc0e)](_0x5d92cd(0x78c))['addEventListener'](_0x5d92cd(0x9fd),()=>{const _0x1383f4=_0x5d92cd;document[_0x1383f4(0xc0e)](_0x1383f4(0x4bc))['classList']['add'](_0x1383f4(0x772)),document['getElementById'](_0x1383f4(0x36b))['classList']['remove'](_0x1383f4(0x772));});}async function startSkillPractice(_0x3a44b5){const _0x281d73=_0x3a9f7b;studentResultArea[_0x281d73(0x319)][_0x281d73(0x930)](_0x281d73(0x772)),studentQuizArea[_0x281d73(0xd5e)]=_0x281d73(0x554),studentQuizArea[_0x281d73(0x319)]['remove']('hidden');try{const _0x253105=await getStandardizedTopic(_0x3a44b5);console[_0x281d73(0x955)](_0x281d73(0xd22)+_0x3a44b5+_0x281d73(0x573)+_0x253105+'\x22'),studentQuizArea[_0x281d73(0x535)]('p')['textContent']='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x253105+_0x281d73(0x85a);const _0x4259d6=collection(db,'artifacts/'+appId+'/public/data/practiceBank'),_0x17b997=query(_0x4259d6,where(_0x281d73(0x156),'==',_0x253105)),_0x5cdcda=await getDocs(_0x17b997);if(_0x5cdcda[_0x281d73(0x726)][_0x281d73(0x7d2)]>=0x3){console[_0x281d73(0x955)](_0x281d73(0xce)+_0x5cdcda[_0x281d73(0x726)][_0x281d73(0x7d2)]+_0x281d73(0x614)+_0x253105+_0x281d73(0x67a));let _0x568838=_0x5cdcda[_0x281d73(0x726)][_0x281d73(0x8ac)](_0x862300=>_0x862300[_0x281d73(0x180)]());shuffleArray(_0x568838);const _0x3bccc0={'topic':_0x253105,'questions':_0x568838[_0x281d73(0x3f8)](0x0,0x3)};displaySkillPracticeDrill(_0x3bccc0);}else{console[_0x281d73(0x955)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x253105+_0x281d73(0x31c));const _0x43bc99=await generatePracticeQuestions(_0x253105);await saveDrillToPracticeBank(_0x43bc99,_0x253105),displaySkillPracticeDrill(_0x43bc99);}}catch(_0x2dca7c){console[_0x281d73(0x4e3)](_0x281d73(0x588),_0x2dca7c),showMessage(_0x281d73(0xb6a)),studentQuizArea[_0x281d73(0x319)][_0x281d73(0x930)](_0x281d73(0x772)),studentResultArea[_0x281d73(0x319)][_0x281d73(0xd08)](_0x281d73(0x772));}}async function saveDrillToPracticeBank(_0x3fe32a,_0x5797e5){const _0x5295ee=_0x3a9f7b,_0x45da40=collection(db,_0x5295ee(0xb3f)+appId+'/public/data/practiceBank'),_0x149677=writeBatch(db);_0x3fe32a[_0x5295ee(0x9fc)][_0x5295ee(0x2d3)](_0x265f45=>{const _0x6b6245=_0x5295ee,_0xb38cac=doc(_0x45da40);_0x149677['set'](_0xb38cac,{'topic':_0x5797e5,'questionText':_0x265f45[_0x6b6245(0x47c)],'options':_0x265f45[_0x6b6245(0xc87)],'correctAnswerIndex':_0x265f45['correctAnswerIndex'],'explanation':_0x265f45[_0x6b6245(0x507)],'createdAt':serverTimestamp()});});try{await _0x149677[_0x5295ee(0xd55)](),console[_0x5295ee(0x955)](_0x5295ee(0x5b4)+_0x3fe32a[_0x5295ee(0x9fc)][_0x5295ee(0x7d2)]+_0x5295ee(0x888));}catch(_0x21f44b){console['error']('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x21f44b);}}async function getStandardizedTopic(_0x565e9f){const _0x5bd226=_0x3a9f7b,_0x1e5fd0=_0x5bd226(0x49a)+_0x565e9f+_0x5bd226(0x5c3),_0x52eb1f={'type':'OBJECT','properties':{'standardTopic':{'type':'STRING'}},'required':['standardTopic']};try{const _0x396b5f=await callAnalysisApi(_0x1e5fd0,_0x52eb1f);return _0x396b5f['standardTopic'];}catch(_0x266408){return console[_0x5bd226(0x4e3)](_0x5bd226(0x9e6),_0x266408),_0x565e9f;}}async function handleGenerateEasyVersionQuiz(_0x558fb1){const _0x3dfa97=_0x3a9f7b,_0x1e4c08=document[_0x3dfa97(0xc0e)](_0x3dfa97(0x851)),_0xf17f35=document['getElementById'](_0x3dfa97(0xa79));_0xf17f35[_0x3dfa97(0x319)][_0x3dfa97(0x930)](_0x3dfa97(0x772));const _0x2830f5=_0x3dfa97(0x107);_0x1e4c08[_0x3dfa97(0x596)]('beforeend',_0x2830f5);try{const _0x5ae24f=allQuizzes[_0x3dfa97(0x4b3)](_0x2465ce=>_0x2465ce['id']===_0x558fb1);if(!_0x5ae24f)throw new Error(_0x3dfa97(0x5ce));const _0x3dab58='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x3dfa97(0x272)](_0x5ae24f[_0x3dfa97(0x9fc)])+_0x3dfa97(0x96a),_0x1c6909={'type':'OBJECT','properties':{'questionText':{'type':_0x3dfa97(0xfc)},'questionType':{'type':'STRING'},'options':{'type':_0x3dfa97(0xff),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3dfa97(0xaec)},'idealAnswer':{'type':_0x3dfa97(0xfc)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3dfa97(0xfc)}},'required':[_0x3dfa97(0x47c),_0x3dfa97(0x7c7),'explanation']},_0xb507fc={'type':_0x3dfa97(0x9c6),'properties':{'questions':{'type':'ARRAY','items':_0x1c6909}},'required':[_0x3dfa97(0x9fc)]},_0x22dfc1=await callAnalysisApi(_0x3dab58,_0xb507fc);_0x22dfc1&&_0x22dfc1['questions']&&_0x22dfc1[_0x3dfa97(0x9fc)][_0x3dfa97(0x2d3)](_0x311540=>{const _0x23ed6f=_0x3dfa97;if(_0x311540[_0x23ed6f(0x624)](_0x23ed6f(0x3c5))){const _0x40cc17=String(_0x311540['imageCode'])[_0x23ed6f(0xa0f)]();(_0x40cc17===''||_0x40cc17[_0x23ed6f(0x703)]()===_0x23ed6f(0x766)||!_0x40cc17[_0x23ed6f(0x23e)](_0x23ed6f(0x87f)))&&delete _0x311540[_0x23ed6f(0x3c5)];}});if(!_0x22dfc1||!_0x22dfc1[_0x3dfa97(0x9fc)]||_0x22dfc1[_0x3dfa97(0x9fc)]['length']===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x45616f=_0x22dfc1[_0x3dfa97(0x9fc)][_0x3dfa97(0x8ac)]((_0x4a3ef6,_0x2ddbaf)=>({..._0x4a3ef6,'id':'q_'+Date[_0x3dfa97(0x62e)]()+'_'+_0x2ddbaf})),_0x60516b={'projectId':_0x5ae24f[_0x3dfa97(0xd39)],'quizType':_0x5ae24f[_0x3dfa97(0xc6c)],'settings':_0x5ae24f[_0x3dfa97(0x7e8)],'createdBy':_0x5ae24f['createdBy'],'status':_0x3dfa97(0x75a),'topic':_0x3dfa97(0x795)+_0x5ae24f[_0x3dfa97(0x156)],'questions':_0x45616f,'createdAt':new Date()[_0x3dfa97(0x1cd)](),'quizMode':_0x3dfa97(0x5aa),'pairedQuizId':null};let _0x76f09c;while(!![]){_0x76f09c=Math[_0x3dfa97(0x48b)](0x3e8+Math[_0x3dfa97(0x120)]()*0x2328)[_0x3dfa97(0x6ad)]();const _0x21851a=await getDoc(doc(db,_0x3dfa97(0xb3f)+appId+'/public/data/quizzes',_0x76f09c));if(!_0x21851a[_0x3dfa97(0x1fb)]())break;}await setDoc(doc(db,_0x3dfa97(0xb3f)+appId+_0x3dfa97(0xb0a),_0x76f09c),_0x60516b),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x5e84b8){console[_0x3dfa97(0x4e3)](_0x3dfa97(0xd11),_0x5e84b8),showMessage(_0x3dfa97(0xc89)+_0x5e84b8['message']);}finally{const _0x2487f0=document[_0x3dfa97(0xc0e)](_0x3dfa97(0xb53));_0x2487f0&&_0x2487f0[_0x3dfa97(0xd08)](),_0xf17f35['classList'][_0x3dfa97(0xd08)](_0x3dfa97(0x772));}}async function generatePracticeQuestions(_0x2b4e90){const _0x28a401=_0x3a9f7b,_0x2f5a01=_0x28a401(0x2df)+_0x2b4e90+_0x28a401(0x667)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x1bbf07={'type':_0x28a401(0x9c6),'properties':{'questionText':{'type':_0x28a401(0xfc)},'options':{'type':_0x28a401(0xff),'items':{'type':_0x28a401(0xfc)}},'correctAnswerIndex':{'type':_0x28a401(0xaec)},'explanation':{'type':_0x28a401(0xfc)}},'required':[_0x28a401(0x47c),_0x28a401(0xc87),'correctAnswerIndex',_0x28a401(0x507)]},_0x2d90e4={'type':'OBJECT','properties':{'topic':{'type':_0x28a401(0xfc)},'questions':{'type':'ARRAY','items':_0x1bbf07}},'required':['topic',_0x28a401(0x9fc)]};return await callAnalysisApi(_0x2f5a01,_0x2d90e4);}function displayLessonPlan(_0x31378f,_0x4c37e2){const _0x546bc8=_0x3a9f7b,_0x541816='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x4c37e2[_0x546bc8(0x156)]+_0x546bc8(0xce7)+_0x31378f['learningGaps'][_0x546bc8(0x8ac)](_0x3fa593=>'<li>'+_0x3fa593+_0x546bc8(0xc12))[_0x546bc8(0x986)]('')+_0x546bc8(0xaa9)+_0x31378f['teachingContent']+_0x546bc8(0xcc4)+_0x31378f[_0x546bc8(0x9c7)]['map'](_0x374bc4=>_0x546bc8(0xa1a)+_0x374bc4[_0x546bc8(0x536)]+_0x546bc8(0x925)+_0x374bc4[_0x546bc8(0x68d)]+_0x546bc8(0x898))[_0x546bc8(0x986)]('')+_0x546bc8(0x1f9);document[_0x546bc8(0xc0e)]('lesson-plan-title')['textContent']=_0x546bc8(0x36d)+_0x4c37e2[_0x546bc8(0x156)],document[_0x546bc8(0xc0e)](_0x546bc8(0xc35))['innerHTML']=_0x541816,document[_0x546bc8(0xc0e)](_0x546bc8(0x3a0))[_0x546bc8(0x319)][_0x546bc8(0xd08)]('hidden');if(window['MathJax'])MathJax[_0x546bc8(0x16c)]();}function displaySkillPracticeDrill(_0x36f2fd){const _0x28027f=_0x3a9f7b;let _0x1663a1=0x0;const _0x1bff29=_0x36f2fd[_0x28027f(0x9fc)],_0x3e5182=()=>{const _0x308c=_0x28027f,_0x488310=_0x1bff29[_0x1663a1],_0x15fa9d=_0x308c(0x5db)+(_0x1663a1+0x1)+_0x308c(0x14d)+_0x1bff29[_0x308c(0x7d2)]+_0x308c(0x358)+_0x488310[_0x308c(0x47c)]+_0x308c(0x37a)+_0x488310['options'][_0x308c(0x8ac)]((_0x440711,_0x5b2a76)=>_0x308c(0x4f9)+_0x5b2a76+_0x308c(0x4f5)+_0x5b2a76+_0x308c(0x48d)+_0x5b2a76+'\x22>'+_0x440711+_0x308c(0xae1))['join']('')+_0x308c(0x93a);studentQuizArea[_0x308c(0xd5e)]=_0x15fa9d;if(window[_0x308c(0x6e3)])MathJax[_0x308c(0x16c)]([studentQuizArea]);document[_0x308c(0xc0e)](_0x308c(0x3a3))[_0x308c(0x59d)](_0x308c(0x9fd),async()=>{const _0x323e01=await getHintForQuestion(_0x488310['questionText']);showMessage(_0x323e01);}),document[_0x308c(0xc0e)](_0x308c(0xac5))[_0x308c(0x59d)](_0x308c(0x9fd),()=>{const _0xa6860c=_0x308c,_0x1ba446=document[_0xa6860c(0x535)]('input[name=\x22drill_answer\x22]:checked');if(!_0x1ba446){showMessage(_0xa6860c(0x191));return;}const _0x56c306=document[_0xa6860c(0xc0e)]('drill-feedback'),_0x594b63=parseInt(_0x1ba446['value'])===_0x488310[_0xa6860c(0xcfa)];_0x594b63?(_0x56c306[_0xa6860c(0x56f)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x56c306[_0xa6860c(0xd5e)]=_0xa6860c(0x6ed)+_0x488310[_0xa6860c(0x507)]):(_0x56c306[_0xa6860c(0x56f)]=_0xa6860c(0x12c),_0x56c306['innerHTML']=_0xa6860c(0x626)+_0x488310['explanation']);_0x56c306[_0xa6860c(0x319)][_0xa6860c(0xd08)](_0xa6860c(0x772));if(window[_0xa6860c(0x6e3)])MathJax['typesetPromise']([_0x56c306]);document['getElementById'](_0xa6860c(0xac5))[_0xa6860c(0x319)][_0xa6860c(0x930)](_0xa6860c(0x772)),document[_0xa6860c(0xc0e)](_0xa6860c(0x3a3))['classList'][_0xa6860c(0x930)](_0xa6860c(0x772)),document[_0xa6860c(0xc0e)]('next-drill-btn')[_0xa6860c(0x319)][_0xa6860c(0xd08)]('hidden');}),document[_0x308c(0xc0e)](_0x308c(0x835))[_0x308c(0x59d)]('click',()=>{const _0x4a42ae=_0x308c;_0x1663a1++,_0x1663a1<_0x1bff29[_0x4a42ae(0x7d2)]?_0x3e5182():(studentQuizArea[_0x4a42ae(0xd5e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x4a42ae(0xc0e)](_0x4a42ae(0x706))['addEventListener'](_0x4a42ae(0x9fd),()=>{const _0x262188=_0x4a42ae;studentQuizArea[_0x262188(0x319)][_0x262188(0x930)](_0x262188(0x772)),studentResultArea[_0x262188(0x319)][_0x262188(0xd08)](_0x262188(0x772));}));});};_0x3e5182();}async function getHintForQuestion(_0x2d3ea5){const _0xad42b1=_0x3a9f7b,_0x37c8ed='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x2d3ea5+_0xad42b1(0xca7),_0x36fa2f={'type':_0xad42b1(0x9c6),'properties':{'hint':{'type':_0xad42b1(0xfc)}},'required':[_0xad42b1(0x220)]};try{const _0x38f581=await callAnalysisApi(_0x37c8ed,_0x36fa2f);return _0x38f581[_0xad42b1(0x220)];}catch(_0x1fc917){return console[_0xad42b1(0x4e3)]('Failed\x20to\x20get\x20hint:',_0x1fc917),_0xad42b1(0x2d5);}}async function extractTextFromPdf(_0x65b205){const _0x1f4ecf=_0x3a9f7b;pdfjsLib[_0x1f4ecf(0x385)][_0x1f4ecf(0x7e3)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x5deebd=await _0x65b205[_0x1f4ecf(0x2f7)](),_0x3fa7f0=await pdfjsLib[_0x1f4ecf(0x492)](_0x5deebd)[_0x1f4ecf(0xcc9)],_0x583938=_0x3fa7f0[_0x1f4ecf(0x52c)];let _0x5ddb6e='';for(let _0xaa1435=0x1;_0xaa1435<=_0x583938;_0xaa1435++){const _0x2b2739=await _0x3fa7f0[_0x1f4ecf(0x121)](_0xaa1435),_0x2775fd=await _0x2b2739[_0x1f4ecf(0x3aa)](),_0x5f4943=_0x2775fd['items'][_0x1f4ecf(0x8ac)](_0x51625a=>_0x51625a[_0x1f4ecf(0x613)])[_0x1f4ecf(0x986)]('\x20');_0x5ddb6e+=_0x5f4943+'\x0a\x0a';}return _0x5ddb6e;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x5ba27e){const _0xd014b1=_0x3a9f7b,_0x2dd86e=document['getElementById'](_0xd014b1(0x72b)),_0xd556dc=document[_0xd014b1(0xc0e)](_0xd014b1(0x461)),_0xfe13e8=document[_0xd014b1(0xc0e)](_0xd014b1(0x3a7));_0x2dd86e[_0xd014b1(0x319)][_0xd014b1(0xd08)](_0xd014b1(0x772)),_0xd556dc['innerHTML']=_0xd014b1(0x677),_0xfe13e8[_0xd014b1(0x319)][_0xd014b1(0x930)](_0xd014b1(0x772));try{const _0x4cd35a=_0xd014b1(0xcaa)+_0x5ba27e+_0xd014b1(0xb57),_0xd7ef1d={'type':_0xd014b1(0x9c6),'properties':{'gradeLevel':{'type':_0xd014b1(0xfc)},'curriculum':{'type':'ARRAY','items':{'type':_0xd014b1(0x9c6),'properties':{'sara':{'type':_0xd014b1(0xfc)},'mainTopics':{'type':_0xd014b1(0xff),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0xd014b1(0xfc)},'subTopics':{'type':_0xd014b1(0xff),'items':{'type':_0xd014b1(0xfc)}}},'required':['topicName',_0xd014b1(0x2c4)]}}},'required':[_0xd014b1(0x889),_0xd014b1(0x944)]}}},'required':[_0xd014b1(0x212),'curriculum']},_0x4f8aad=await callAnalysisApi(_0x4cd35a,_0xd7ef1d);if(_0x4f8aad&&_0x4f8aad['curriculum'])extractedBlueprintData=_0x4f8aad,renderBlueprintTopics(_0x4f8aad),_0xfe13e8[_0xd014b1(0x319)][_0xd014b1(0xd08)](_0xd014b1(0x772));else throw new Error(_0xd014b1(0x9d5));}catch(_0x3f9288){console[_0xd014b1(0x4e3)](_0xd014b1(0x543),_0x3f9288),_0xd556dc[_0xd014b1(0xd5e)]=_0xd014b1(0x8c9);}}function renderBlueprintTopics(_0x27d4f0){const _0xdde72c=_0x3a9f7b,_0x170c5a=document[_0xdde72c(0xc0e)](_0xdde72c(0x461)),_0x31042e=_0x27d4f0['gradeLevel'],_0x538814='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x31042e+_0xdde72c(0x7f3);let _0x27a654='';_0x27d4f0[_0xdde72c(0xa1d)]['forEach'](_0x531654=>{const _0x44a128=_0xdde72c;_0x27a654+=_0x44a128(0xd42)+_0x531654['sara']+_0x44a128(0x34d),_0x531654['mainTopics']['forEach'](_0x3cd0d3=>{const _0x5dde90=_0x44a128;_0x27a654+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x3cd0d3[_0x5dde90(0x7fb)]+_0x5dde90(0xb99),_0x3cd0d3[_0x5dde90(0x2c4)][_0x5dde90(0x2d3)](_0x51945f=>{const _0x23c36e=_0x5dde90;_0x27a654+=_0x23c36e(0x38a)+_0x51945f[_0x23c36e(0xaa1)](/'/g,'\x5c\x27')+_0x23c36e(0x674)+_0x31042e[_0x23c36e(0xaa1)](/'/g,'\x5c\x27')+_0x23c36e(0x71d)+_0x51945f+_0x23c36e(0x6b7)+_0x51945f[_0x23c36e(0xaa1)](/'/g,'\x5c\x27')+_0x23c36e(0xc82);}),_0x27a654+=_0x5dde90(0xbc5);}),_0x27a654+=_0x44a128(0x7f6);}),_0x170c5a[_0xdde72c(0xd5e)]=_0x538814+_0x27a654;}async function handleGenerateTeachingContent(_0xd1167){const _0x9f3cfc=_0x3a9f7b,_0x5906cf=document[_0x9f3cfc(0xc0e)](_0x9f3cfc(0x3a0)),_0x51a528=document[_0x9f3cfc(0xc0e)](_0x9f3cfc(0xc35));document[_0x9f3cfc(0xc0e)]('lesson-plan-title')[_0x9f3cfc(0x6fb)]='กำลังสร้างเนื้อหา:\x20'+_0xd1167,_0x51a528[_0x9f3cfc(0xd5e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x5906cf[_0x9f3cfc(0x319)][_0x9f3cfc(0xd08)](_0x9f3cfc(0x772));try{const _0x56bbfe=_0x9f3cfc(0x873)+_0xd1167+_0x9f3cfc(0x89e),_0x53f539={'type':_0x9f3cfc(0x9c6),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x9f3cfc(0xfc)}},'commonMistakes':{'type':_0x9f3cfc(0xff),'items':{'type':_0x9f3cfc(0xfc)}},'stepByStepExamples':{'type':_0x9f3cfc(0xff),'items':{'type':_0x9f3cfc(0x9c6),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x9f3cfc(0xfc)}},'required':['question',_0x9f3cfc(0x68d)]}},'teacherTips':{'type':_0x9f3cfc(0xff),'items':{'type':_0x9f3cfc(0xfc)}}},'required':[_0x9f3cfc(0x2fc),_0x9f3cfc(0x578),_0x9f3cfc(0x945),'teacherTips']},_0x2d4e6f=await callAnalysisApi(_0x56bbfe,_0x53f539);displayTeachingContent(_0x2d4e6f,_0xd1167);}catch(_0x14c488){console[_0x9f3cfc(0x4e3)](_0x9f3cfc(0x676),_0x14c488),_0x51a528[_0x9f3cfc(0xd5e)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x14c488[_0x9f3cfc(0x145)]+'</p>';}}function displayTeachingContent(_0x3e4213,_0x42a176){const _0x63997f=_0x3a9f7b,_0x46a9bf=document[_0x63997f(0xc0e)](_0x63997f(0xc35));document[_0x63997f(0xc0e)](_0x63997f(0xaba))[_0x63997f(0x6fb)]=_0x63997f(0xbde)+_0x42a176;const _0x942c45=_0x63997f(0xd6f)+_0x3e4213[_0x63997f(0x2fc)][_0x63997f(0x8ac)](_0x63ca1c=>'<li>'+_0x63ca1c+_0x63997f(0xc12))[_0x63997f(0x986)]('')+_0x63997f(0x946)+_0x3e4213[_0x63997f(0x578)][_0x63997f(0x8ac)](_0x4db831=>_0x63997f(0x4c9)+_0x4db831+'</li>')[_0x63997f(0x986)]('')+_0x63997f(0x9ba)+_0x3e4213[_0x63997f(0x945)][_0x63997f(0x8ac)](_0x41c1c3=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x41c1c3[_0x63997f(0x536)]+_0x63997f(0x279)+_0x41c1c3[_0x63997f(0x68d)]+_0x63997f(0xa4b))[_0x63997f(0x986)]('')+_0x63997f(0x3fd)+_0x3e4213[_0x63997f(0x7c5)][_0x63997f(0x8ac)](_0x15f71d=>'<li>'+_0x15f71d+_0x63997f(0xc12))[_0x63997f(0x986)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x46a9bf[_0x63997f(0xd5e)]=_0x942c45;if(window[_0x63997f(0x6e3)])MathJax[_0x63997f(0x16c)]([_0x46a9bf]);}async function generateQuizForSingleTopic(_0x1885c0){const _0x3186f9=_0x3a9f7b;console[_0x3186f9(0x955)](_0x3186f9(0xc8b)+_0x1885c0+'\x22');const _0x5abc85=document[_0x3186f9(0xc0e)](_0x3186f9(0x4fb)),_0x16e7ab=_0x5abc85['files'][_0x3186f9(0x7d2)]>0x0?_0x5abc85[_0x3186f9(0x603)][0x0]:null;let _0x23dfa4=null;if(_0x16e7ab)try{const _0x514df3=new FileReader();_0x514df3['readAsDataURL'](_0x16e7ab);const _0x30ef37=await new Promise((_0x2dd055,_0x3752f5)=>{const _0x354430=_0x3186f9;_0x514df3[_0x354430(0xd25)]=()=>_0x2dd055(_0x514df3[_0x354430(0xbbf)][_0x354430(0x962)](',')[0x1]),_0x514df3[_0x354430(0xb42)]=_0x4c2642=>_0x3752f5(_0x4c2642);});_0x23dfa4=[{'inlineData':{'mimeType':_0x16e7ab[_0x3186f9(0xbd2)],'data':_0x30ef37}}];}catch(_0x2e6844){console[_0x3186f9(0x4e3)](_0x3186f9(0x788),_0x2e6844),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x1885c0,null,null,_0x23dfa4,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x1701f2=null){const _0x3cfb9d=_0x3a9f7b,_0x10c042=document['getElementById'](_0x3cfb9d(0xa28)),_0x2c2a3c=document[_0x3cfb9d(0xc0e)](_0x3cfb9d(0x3c6));let _0x39001d,_0x3f4a13=[];if(_0x1701f2)_0x39001d=_0x1701f2,_0x3f4a13=_0x39001d[_0x3cfb9d(0x3f8)](0x2);else{const _0x381df6=document[_0x3cfb9d(0xc0e)]('blueprint-upload-input'),_0x5c9d6c=document[_0x3cfb9d(0xc0e)](_0x3cfb9d(0x4fb)),_0x358178=_0x381df6['files'][0x0];if(!_0x358178){showMessage(_0x3cfb9d(0x102));return;}_0x2c2a3c[_0x3cfb9d(0x6fb)]=_0x3cfb9d(0xd78);const _0x52ac0b=await new Promise((_0x44fbb4,_0x5847d4)=>{const _0x466f6f=_0x3cfb9d,_0xbc609d=new FileReader();_0xbc609d[_0x466f6f(0x2a8)](_0x358178),_0xbc609d[_0x466f6f(0xd25)]=()=>_0x44fbb4(_0xbc609d[_0x466f6f(0xbbf)][_0x466f6f(0x962)](',')[0x1]),_0xbc609d['onerror']=_0x5847d4;});_0x39001d=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x358178[_0x3cfb9d(0xbd2)],'data':_0x52ac0b}}];if(_0x5c9d6c[_0x3cfb9d(0x603)][_0x3cfb9d(0x7d2)]>0x0){const _0x4a0668=_0x5c9d6c[_0x3cfb9d(0x603)][0x0];_0x2c2a3c[_0x3cfb9d(0x6fb)]=_0x3cfb9d(0x1ff);const _0x4e6ede=await new Promise((_0x1f6e03,_0x598401)=>{const _0x31b8e3=_0x3cfb9d,_0x490fc8=new FileReader();_0x490fc8[_0x31b8e3(0x2a8)](_0x4a0668),_0x490fc8['onload']=()=>_0x1f6e03(_0x490fc8['result']['split'](',')[0x1]),_0x490fc8[_0x31b8e3(0xb42)]=_0x598401;}),_0x41817b={'inlineData':{'mimeType':_0x4a0668[_0x3cfb9d(0xbd2)],'data':_0x4e6ede}};_0x39001d['push'](_0x41817b),_0x3f4a13[_0x3cfb9d(0x187)](_0x41817b);}}const _0x3b9a20=_0x3cfb9d(0x170),_0x3351a5=_0x3cfb9d(0xa85);let _0xb2f6ba='';_0x3f4a13&&_0x3f4a13['length']>0x0?_0xb2f6ba=_0x3b9a20:_0xb2f6ba=_0x3351a5;const _0x192957=_0x3cfb9d(0x46a)+_0xb2f6ba+_0x3cfb9d(0x5e0),_0x2ebc33={'type':'OBJECT','properties':{'questionText':{'type':_0x3cfb9d(0xfc)},'questionType':{'type':_0x3cfb9d(0xfc),'enum':[_0x3cfb9d(0x211),_0x3cfb9d(0x2d1),'true_false',_0x3cfb9d(0xac4)]},'options':{'type':'ARRAY','items':{'type':_0x3cfb9d(0xfc)}},'correctAnswerIndex':{'type':_0x3cfb9d(0xaec)},'idealAnswer':{'type':_0x3cfb9d(0xfc)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x3cfb9d(0xfc)},'imageCode':{'type':'STRING'}},'required':[_0x3cfb9d(0x7c7),'explanation']},_0x2f8707={'type':_0x3cfb9d(0x9c6),'properties':{'topic':{'type':_0x3cfb9d(0xfc)},'questions':{'type':_0x3cfb9d(0xff),'items':_0x2ebc33}},'required':[_0x3cfb9d(0x156),_0x3cfb9d(0x9fc)]};_0x39001d[0x0][_0x3cfb9d(0xbbd)]=_0x192957,await handleApiCall(_0x39001d,_0x3cfb9d(0x799),_0x2f8707);}function proceedToNextQuestion(_0x4a8824){const _0x18d9da=_0x3a9f7b;studentAnswersPerQuestion[_0x18d9da(0x187)](_0x4a8824),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0x1d210d,_0x536cd8,_0x5e4d1f){const _0x2475a7=_0x3a9f7b,_0x28745f=Object[_0x2475a7(0x3ac)](_0x1d210d[_0x2475a7(0xd1)]||{}),_0x5ba380=_0x28745f['length'],_0x5034cd=_0x5e4d1f,_0x10f05d=_0x1d210d[_0x2475a7(0x7bc)]||'classic',_0x485c36=_0x10f05d==='anonymous',_0x17616e=_0x1d210d[_0x2475a7(0x1a4)]===!![],_0x1322bd=_0x10f05d==='competition',_0x3d399f=_0x1d210d[_0x2475a7(0xc11)]['questions'],_0x137ebe=_0x3d399f[_0x5034cd],_0x59f9a7=_0x87697=>String[_0x2475a7(0x26e)](0x41+_0x87697),_0x51e7c6=_0x28745f[_0x2475a7(0x8ac)](_0x18e7eb=>{const _0x21fc07=_0x2475a7,_0x4d550a=_0x18e7eb['score']||0x0,_0x552f34=_0x18e7eb[_0x21fc07(0x33e)]||0x0,_0xc42d59=(_0x18e7eb[_0x21fc07(0xb24)]||[])['filter'](_0x47ee9c=>{const _0x2e5363=_0x21fc07;if(_0x10f05d===_0x2e5363(0xf1))return _0x47ee9c[_0x2e5363(0xb47)]<=_0x5034cd;return!![];});return{..._0x18e7eb,'realScore':_0x4d550a,'totalPoints':_0x552f34,'answers':_0xc42d59};}),_0x52e087=_0x1d210d[_0x2475a7(0x373)]===!![],_0x1ac634=[..._0x51e7c6][_0x2475a7(0x3fc)]((_0x577b45,_0x5b5214)=>{const _0x30e7c4=_0x2475a7;if(_0x52e087){const _0x7857ff=_0x5b5214[_0x30e7c4(0x500)]-_0x577b45[_0x30e7c4(0x500)];if(_0x7857ff!==0x0)return _0x7857ff;const _0xa9052d=_0x5b5214[_0x30e7c4(0x33e)]-_0x577b45[_0x30e7c4(0x33e)];if(_0xa9052d!==0x0)return _0xa9052d;return(_0x577b45[_0x30e7c4(0x58e)]||'')[_0x30e7c4(0xae5)](_0x5b5214[_0x30e7c4(0x58e)]||'','th');}else{const _0x448a70=_0x5b5214['totalPoints']-_0x577b45[_0x30e7c4(0x33e)];if(_0x448a70!==0x0)return _0x448a70;const _0x46006e=_0x5b5214[_0x30e7c4(0x500)]-_0x577b45[_0x30e7c4(0x500)];if(_0x46006e!==0x0)return _0x46006e;return(_0x577b45[_0x30e7c4(0x58e)]||'')[_0x30e7c4(0xae5)](_0x5b5214[_0x30e7c4(0x58e)]||'','th');}}),_0x2e6013=Math[_0x2475a7(0x347)](..._0x51e7c6[_0x2475a7(0x8ac)](_0x557fe8=>_0x557fe8[_0x2475a7(0x33e)]),0x0),_0x5636be=_0x5e4d1f+0x1,_0x4136b0=_0x51e7c6[_0x2475a7(0xb6e)](_0x5037a8=>_0x5037a8['realScore']===_0x5636be&&(_0x5037a8[_0x2475a7(0xb24)]||[])[_0x2475a7(0x7d2)]===_0x5636be&&_0x5636be>0x0),_0x3b31d1=_0x4136b0[_0x2475a7(0x7d2)]>0x0?Math[_0x2475a7(0x347)](..._0x4136b0[_0x2475a7(0x8ac)](_0x28e685=>_0x28e685[_0x2475a7(0x33e)])):-Infinity;let _0x4da571='';const _0x4062ae=!_0x1322bd&&!(_0x485c36&&_0x1d210d['showAnswerInAnonymous']===![]);if(_0x137ebe&&_0x4062ae){let _0x4ddb80='',_0x46dc11='';const _0x4491b0=_0x137ebe[_0x2475a7(0x7c7)]||_0x1d210d['shuffledQuiz'][_0x2475a7(0xc6c)];if(_0x4491b0==='multiple_choice'&&_0x137ebe[_0x2475a7(0xc87)]&&_0x137ebe['correctAnswerIndex']!==undefined){const _0xddf7a5=_0x137ebe['correctAnswerIndex'];_0x4ddb80=_0x137ebe[_0x2475a7(0xc87)][_0xddf7a5],_0x46dc11=_0x59f9a7(_0xddf7a5)+'.';}else{if(_0x4491b0===_0x2475a7(0x56e)){const _0x544fc9=_0x137ebe[_0x2475a7(0x13c)]===!![]||String(_0x137ebe[_0x2475a7(0x13c)])[_0x2475a7(0x703)]()===_0x2475a7(0x65b);_0x544fc9?(_0x4ddb80=_0x2475a7(0x457),_0x46dc11='ก.'):(_0x4ddb80=_0x2475a7(0xa00),_0x46dc11='ข.');}else{if(_0x4491b0==='matching_item')_0x4ddb80=_0x137ebe['correctResponse']||'-',_0x46dc11='';else _0x4491b0===_0x2475a7(0x2d1)&&(_0x4ddb80=_0x137ebe[_0x2475a7(0xa57)]||'-',_0x46dc11='');}}_0x4ddb80&&(_0x4da571=_0x2475a7(0x30c)+(_0x5034cd+0x1)+_0x2475a7(0x968)+_0x46dc11+'\x20'+_0x4ddb80+_0x2475a7(0x67d));}const _0x5f1fa8=_0x1ac634[_0x2475a7(0x8ac)](_0x5d1c5e=>{const _0xadec21=_0x2475a7,_0x12c9cd=_0x5d1c5e['realScore'],_0x2ccdc6=_0x5d1c5e[_0xadec21(0x33e)],_0x569e6b=_0x5d1c5e['answers'][_0xadec21(0x7d2)],_0x268d0b=(_0x5d1c5e[_0xadec21(0xb24)]||[])[_0xadec21(0x4b3)](_0x399150=>_0x399150[_0xadec21(0xb47)]===_0x5e4d1f);let _0x4ea8a3='';_0x268d0b&&(_0x268d0b[_0xadec21(0x695)]&&(_0x4ea8a3+=_0xadec21(0xd74)),_0x268d0b['wasForced']&&(_0x4ea8a3+=_0xadec21(0xc0f)),_0x268d0b['wasJinxed']&&(_0x4ea8a3+=_0xadec21(0x67b)));let _0x2df596='';if(!_0x1322bd&&_0x569e6b>0x0){const _0x1f05cc=_0x5d1c5e['answers'][_0xadec21(0x7d2)],_0x5a8874=_0x5d1c5e[_0xadec21(0x500)]===_0x5636be&&_0x1f05cc===_0x5636be&&_0x5636be>0x0;if(_0x52e087){const _0x43f4a0=_0x5a8874&&_0x5d1c5e[_0xadec21(0x33e)]===_0x3b31d1;if(_0x43f4a0)_0x2df596='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>';else _0x5a8874&&(_0x2df596=_0xadec21(0x8bb));}else{if(_0x1f05cc===_0x5636be&&_0x5636be>0x0){let _0x4f57ae=_0x5636be;_0x1d210d['isConfidenceScoringEnabled']&&(_0x4f57ae=_0x5636be*0x2);const _0x1f5f35=_0x5d1c5e[_0xadec21(0x33e)]===_0x4f57ae;if(_0x1f5f35)_0x2df596=_0xadec21(0x8f1);else _0x5a8874&&(_0x2df596=_0xadec21(0x8bb));}}if(_0x2df596===''){if(_0x2ccdc6<0x0)_0x2df596='<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>';else _0x12c9cd===0x0&&_0x1f05cc>0x0&&(_0x2df596=_0xadec21(0x99e));}}let _0x49a28d=_0xadec21(0x618);if(!_0x1322bd){const _0x148441=(_0x5d1c5e[_0xadec21(0xb24)]||[])['find'](_0x1e88a2=>_0x1e88a2[_0xadec21(0xb47)]===_0x5034cd);if(_0x148441){const _0x324990=_0x148441[_0xadec21(0xbe1)],_0x30ae70=_0x148441[_0xadec21(0x802)]===!![]||_0x148441['wasConfident']===_0xadec21(0xb97),_0x1af1e4=_0x148441[_0xadec21(0x903)];if(_0x1af1e4===_0xadec21(0x765))_0x324990?_0x49a28d='bg-yellow-300\x20text-yellow-900\x20font-bold':_0x49a28d=_0xadec21(0x649);else{if(_0x30ae70)_0x324990?_0x49a28d='bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x49a28d=_0xadec21(0xbda);else _0x324990&&(_0x49a28d=_0xadec21(0x748));}}}let _0x43e695='';const _0x2e724a=_0x5d1c5e[_0xadec21(0x58e)],_0x4d8182=_0x1d210d[_0xadec21(0xad)][_0x5d1c5e['name']]||_0xadec21(0xbc8),_0x5a3875='line-height:\x201.3;\x20min-width:\x200;',_0x10fdd1='word-break:\x20break-all;';let _0x32f488='';const _0x72613b=_0x2ccdc6>=0x0?'(+'+_0x2ccdc6+')':'('+_0x2ccdc6+')',_0xbd75f7=_0xadec21(0x33f)+_0x5d1c5e[_0xadec21(0x500)]+_0xadec21(0x1bd)+_0x72613b+'</span>';if(_0x536cd8){if(_0x485c36&&!_0x17616e)_0x43e695=_0xadec21(0xc5b)+_0x5a3875+_0xadec21(0x6d1)+_0x4d8182+_0xadec21(0x19f)+_0x10fdd1+'\x22>'+_0x4d8182+_0xadec21(0xcf8)+_0x4ea8a3+'\x20'+_0x2df596+_0xadec21(0x7f6),_0x32f488=_0xbd75f7;else{if(_0x485c36&&_0x17616e)_0x43e695=_0xadec21(0xc5b)+_0x5a3875+_0xadec21(0x6d1)+_0x2e724a+'\x20('+_0x4d8182+')\x22><span\x20style=\x22'+_0x10fdd1+'\x22>'+_0x2e724a+'</span>\x20'+_0x4ea8a3+'\x20'+_0x2df596+_0xadec21(0x54e)+_0x10fdd1+_0xadec21(0x459)+_0x4d8182+')</span></div>',_0x32f488=_0xbd75f7;else _0x1322bd?(_0x43e695=_0xadec21(0xc5b)+_0x5a3875+_0xadec21(0x6d1)+_0x2e724a+_0xadec21(0x19f)+_0x10fdd1+'\x22>'+_0x2e724a+'</span>\x20'+_0x4ea8a3+_0xadec21(0x7f6),_0x32f488=''):(_0x43e695=_0xadec21(0xc5b)+_0x5a3875+_0xadec21(0x6d1)+_0x2e724a+_0xadec21(0x19f)+_0x10fdd1+'\x22>'+_0x2e724a+_0xadec21(0xcf8)+_0x4ea8a3+'\x20'+_0x2df596+_0xadec21(0x7f6),_0x32f488=_0xbd75f7);}}else{const _0x80c9bb=localTeamPlayers[_0xadec21(0x1bc)](_0x2e724a),_0x5bb19d=viewerPlayer['totalPoints'],_0x315f73=_0x5d1c5e[_0xadec21(0x33e)];if(_0x485c36)_0x17616e?_0x43e695='<div\x20style=\x22'+_0x5a3875+_0xadec21(0x6d1)+_0x2e724a+'\x20('+_0x4d8182+_0xadec21(0x786)+_0x10fdd1+'\x22>'+_0x2e724a+_0xadec21(0xcf8)+_0x4ea8a3+'\x20'+_0x2df596+_0xadec21(0x54e)+_0x10fdd1+_0xadec21(0x459)+_0x4d8182+')</span></div>':_0x80c9bb?isViewerTopScorer?_0x43e695=_0xadec21(0xc5b)+_0x5a3875+'\x22\x20title=\x22'+_0x2e724a+'\x20('+_0x4d8182+_0xadec21(0x786)+_0x10fdd1+'\x22>'+_0x2e724a+_0xadec21(0xcf8)+_0x4ea8a3+'\x20'+_0x2df596+_0xadec21(0x54e)+_0x10fdd1+_0xadec21(0x459)+_0x4d8182+_0xadec21(0xc53):_0x43e695=_0xadec21(0xc5b)+_0x5a3875+'\x22\x20title=\x22'+_0x4d8182+_0xadec21(0x19f)+_0x10fdd1+'\x22>'+_0x4d8182+'</span>\x20'+_0x4ea8a3+'\x20'+_0x2df596+_0xadec21(0x7f6):_0x5bb19d>_0x315f73?_0x43e695=_0xadec21(0xc5b)+_0x5a3875+_0xadec21(0x6d1)+_0x2e724a+'\x20('+_0x4d8182+_0xadec21(0x786)+_0x10fdd1+'\x22>'+_0x2e724a+_0xadec21(0xcf8)+_0x4ea8a3+'\x20'+_0x2df596+_0xadec21(0x54e)+_0x10fdd1+_0xadec21(0x459)+_0x4d8182+_0xadec21(0xc53):_0x43e695=_0xadec21(0xc5b)+_0x5a3875+_0xadec21(0x6d1)+_0x4d8182+_0xadec21(0x19f)+_0x10fdd1+'\x22>'+_0x4d8182+_0xadec21(0xcf8)+_0x4ea8a3+'\x20'+_0x2df596+_0xadec21(0x7f6),_0x32f488=_0xbd75f7;else _0x1322bd?(_0x43e695=_0xadec21(0xc5b)+_0x5a3875+_0xadec21(0x6d1)+_0x2e724a+'\x22><span\x20style=\x22'+_0x10fdd1+'\x22>'+_0x2e724a+_0xadec21(0xcf8)+_0x4ea8a3+_0xadec21(0x7f6),_0x32f488=''):(_0x43e695='<div\x20style=\x22'+_0x5a3875+_0xadec21(0x6d1)+_0x2e724a+'\x22><span\x20style=\x22'+_0x10fdd1+'\x22>'+_0x2e724a+_0xadec21(0xcf8)+_0x4ea8a3+'\x20'+_0x2df596+_0xadec21(0x7f6),_0x32f488=_0xbd75f7);}return _0xadec21(0xafe)+_0x49a28d+_0xadec21(0x150)+_0x43e695+_0xadec21(0xadb)+_0x32f488+_0xadec21(0x46e);})[_0x2475a7(0x986)](''),_0x63878b=_0x3d399f['map']((_0x1109c5,_0x2911bc)=>{const _0x54c70d=_0x2475a7;if(_0x10f05d===_0x54c70d(0xf1)&&_0x2911bc>_0x5034cd||_0x1322bd)return'';const _0x588a97=_0x51e7c6[_0x54c70d(0xb6e)](_0x2e0388=>_0x2e0388[_0x54c70d(0xb24)]&&_0x2e0388[_0x54c70d(0xb24)][_0x54c70d(0x4b3)](_0x78a062=>_0x78a062['questionIndex']===_0x2911bc&&_0x78a062[_0x54c70d(0xbe1)]))['length'],_0x3b2a15=_0x2911bc===_0x5034cd,_0x1beb37=_0x3b2a15?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':'p-2\x20bg-black/10\x20rounded-md';return _0x54c70d(0xcb7)+_0x1beb37+_0x54c70d(0x478)+(_0x2911bc+0x1)+_0x54c70d(0x56a)+_0x588a97+_0x54c70d(0x14d)+_0x5ba380+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x2475a7(0x986)]('');let _0x19e796='',_0x5a7a12='';if(_0x536cd8){const _0x29cd77=_0x10f05d==='classic'&&_0x1d210d[_0x2475a7(0x41b)]>=_0x3d399f[_0x2475a7(0x7d2)]-0x1,_0x3d5828=_0x10f05d===_0x2475a7(0xf1)&&_0x1d210d[_0x2475a7(0x7f2)]>=_0x3d399f[_0x2475a7(0x7d2)]-0x1,_0x50f95e=_0x10f05d===_0x2475a7(0x4f4)&&_0x1d210d['currentQuestionIndex']>=_0x3d399f[_0x2475a7(0x7d2)]-0x1,_0x24346d=_0x10f05d===_0x2475a7(0xcad)&&_0x1d210d[_0x2475a7(0x41b)]>=_0x3d399f[_0x2475a7(0x7d2)]-0x1;_0x29cd77||_0x3d5828||_0x50f95e||_0x24346d?_0x485c36&&!_0x17616e?_0x19e796=_0x2475a7(0xd72):_0x19e796='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x19e796=_0x2475a7(0xbc6),_0x5a7a12=_0x2475a7(0xa41);}const _0x57ce65=_0x1322bd||_0x485c36&&!_0x1d210d[_0x2475a7(0x399)]?'':_0x2475a7(0x45e)+_0x63878b+_0x2475a7(0xbc5),_0x1c6d95=_0x1322bd||_0x485c36&&!_0x1d210d[_0x2475a7(0x399)]?_0x2475a7(0xb09):'md:col-span-1',_0x40daa8=_0x2475a7(0x3c7)+_0x1d210d[_0x2475a7(0xc11)][_0x2475a7(0x156)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x1d210d[_0x2475a7(0x28f)]+_0x2475a7(0x8cb)+_0x5a7a12+_0x2475a7(0x864)+_0x4da571+_0x2475a7(0x643)+_0x1c6d95+_0x2475a7(0x5dc)+(_0x5f1fa8||_0x2475a7(0x4a7))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57ce65+_0x2475a7(0x244)+(_0x536cd8?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x19e796+_0x2475a7(0x7f6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2475a7(0xd5e)]=_0x40daa8;if(window[_0x2475a7(0x6e3)]){const _0x3e5373=document[_0x2475a7(0xc0e)]('main-correct-answer-display');_0x3e5373&&MathJax[_0x2475a7(0x16c)]([_0x3e5373]);}if(_0x536cd8){document['getElementById'](_0x2475a7(0x6d2))[_0x2475a7(0xd75)]=async()=>{const _0x381bfc=_0x2475a7,_0x27cc38=doc(db,_0x381bfc(0xb3f)+appId+_0x381bfc(0x25a),currentLiveGameId),_0x40142e=_0x10f05d===_0x381bfc(0x184)&&_0x1d210d[_0x381bfc(0x41b)]>=_0x3d399f[_0x381bfc(0x7d2)]-0x1,_0x5d979a=_0x10f05d===_0x381bfc(0xf1)&&_0x1d210d[_0x381bfc(0x7f2)]>=_0x3d399f[_0x381bfc(0x7d2)]-0x1,_0x3ccb85=_0x10f05d===_0x381bfc(0x4f4)&&_0x1d210d[_0x381bfc(0x41b)]>=_0x3d399f[_0x381bfc(0x7d2)]-0x1,_0x3be499=_0x10f05d==='competition'&&_0x1d210d[_0x381bfc(0x41b)]>=_0x3d399f[_0x381bfc(0x7d2)]-0x1;if(_0x10f05d==='reveal_at_end')!_0x5d979a?await updateDoc(_0x27cc38,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x27cc38,{'status':_0x381bfc(0x52b)});else{if(!_0x40142e&&!_0x3ccb85&&!_0x3be499){const _0x23c669=_0x1d210d[_0x381bfc(0x41b)]+0x1,_0x3be53d={};Object['keys'](_0x1d210d[_0x381bfc(0xd1)])['forEach'](_0xac891d=>{const _0x3b53b0=_0x381bfc;_0x3be53d[_0x3b53b0(0xc52)+_0xac891d+_0x3b53b0(0x3f3)]=![],_0x3be53d[_0x3b53b0(0xc52)+_0xac891d+_0x3b53b0(0xaf)]=null,_0x3be53d[_0x3b53b0(0xc52)+_0xac891d+_0x3b53b0(0xbf2)]=![],_0x3be53d[_0x3b53b0(0xc52)+_0xac891d+'.isForcedConfident']=![];}),await updateDoc(_0x27cc38,{..._0x3be53d,'status':'question','currentQuestionIndex':_0x23c669,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x27cc38,{'status':_0x381bfc(0x52b)});}},document[_0x2475a7(0xc0e)](_0x2475a7(0xaad))?.[_0x2475a7(0x59d)](_0x2475a7(0x9fd),async()=>{const _0x29136c=_0x2475a7;await updateDoc(doc(db,_0x29136c(0xb3f)+appId+'/public/data/syncGames',currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x55a591=document[_0x2475a7(0xc0e)]('end-sync-game-btn');_0x55a591&&(_0x55a591[_0x2475a7(0xd75)]=()=>{const _0x31943e=_0x2475a7;showConfirmation(_0x31943e(0x5b9),async()=>{const _0x31ddb5=_0x31943e;await updateDoc(doc(db,_0x31ddb5(0xb3f)+appId+_0x31ddb5(0x25a),currentLiveGameId),{'status':_0x31ddb5(0x52b)});});});}}async function handleGenerateParallelFromBank(_0x13896b){const _0x40ece5=_0x3a9f7b,_0x582d19=document['getElementById'](_0x40ece5(0x851)),_0x4cde26=document[_0x40ece5(0xc0e)](_0x40ece5(0xa79));_0x4cde26['classList'][_0x40ece5(0x930)](_0x40ece5(0x772));const _0x6cd543='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x13896b[_0x40ece5(0x156)]+_0x40ece5(0xa8b);_0x582d19[_0x40ece5(0x596)](_0x40ece5(0x5d0),_0x6cd543);const _0x3f7083=document[_0x40ece5(0xc0e)]('temp-loader-text-results');try{const _0x14751d=_0x13896b[_0x40ece5(0x9fc)]['map']((_0x4d728e,_0x5eff9d)=>{const _0xb7ca0b=_0x40ece5;let _0x304d2d=_0x5eff9d+0x1+'.\x20'+(_0x4d728e['questionText']||_0x4d728e['stem'])+'\x0a';if(_0x4d728e[_0xb7ca0b(0xc87)])_0x304d2d+=_0x4d728e[_0xb7ca0b(0xc87)][_0xb7ca0b(0x8ac)]((_0x14edf6,_0x2b4de9)=>_0xb7ca0b(0xb2e)+(_0x2b4de9===_0x4d728e[_0xb7ca0b(0xcfa)]?_0xb7ca0b(0x34c):'')+'\x20'+_0x14edf6)[_0xb7ca0b(0x986)]('\x0a');else _0x4d728e[_0xb7ca0b(0xa57)]&&(_0x304d2d+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x4d728e[_0xb7ca0b(0xa57)]);return _0x304d2d;})[_0x40ece5(0x986)]('\x0a\x0a');_0x3f7083['textContent']=_0x40ece5(0x743);const _0xccddc0=_0x40ece5(0x18a)+_0x13896b[_0x40ece5(0x156)]+_0x40ece5(0xaf1)+_0x14751d+_0x40ece5(0x501)+simpleMathPrompt+_0x40ece5(0xbf5),_0x2679a9={'type':'OBJECT','properties':{'questionText':{'type':_0x40ece5(0xfc)},'questionType':{'type':_0x40ece5(0xfc),'enum':[_0x40ece5(0x211),'short_answer',_0x40ece5(0x56e),_0x40ece5(0xac4)]},'options':{'type':_0x40ece5(0xff),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x40ece5(0xaec)},'idealAnswer':{'type':_0x40ece5(0xfc)},'correctAnswer':{'type':_0x40ece5(0x983)},'stem':{'type':_0x40ece5(0xfc)},'correctResponse':{'type':_0x40ece5(0xfc)},'allResponses':{'type':_0x40ece5(0xff),'items':{'type':_0x40ece5(0xfc)}},'explanation':{'type':_0x40ece5(0xfc)},'imageCode':{'type':_0x40ece5(0xfc)}},'required':[_0x40ece5(0x7c7),'explanation']},_0x519ff7={'type':_0x40ece5(0x9c6),'properties':{'topic':{'type':_0x40ece5(0xfc)},'questions':{'type':_0x40ece5(0xff),'items':_0x2679a9}},'required':[_0x40ece5(0x156),_0x40ece5(0x9fc)]},_0x131523=await callAnalysisApi(_0xccddc0,_0x519ff7),_0x29a381=_0x131523[_0x40ece5(0x9fc)][_0x40ece5(0x8ac)]((_0x2cc2aa,_0x2215fa)=>({..._0x2cc2aa,'id':'q_'+Date['now']()+'_'+_0x2215fa})),_0x2b4609=_0x40ece5(0xd2f)+_0x13896b[_0x40ece5(0x156)],_0x506abd={'topic':_0x2b4609,'questions':_0x29a381,'quizType':_0x13896b['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x40ece5(0x75a),'settings':_0x13896b[_0x40ece5(0x7e8)],'quizMode':_0x40ece5(0x5aa),'pairedQuizId':null,'lessonPlan':null};let _0x4adb59;while(!![]){_0x4adb59=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x40ece5(0x6ad)]();const _0x246db9=await getDoc(doc(db,_0x40ece5(0xb3f)+appId+'/public/data/quizzes',_0x4adb59));if(!_0x246db9['exists']())break;}await setDoc(doc(db,_0x40ece5(0xb3f)+appId+_0x40ece5(0xb0a),_0x4adb59),_0x506abd),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x15dd52){console[_0x40ece5(0x4e3)](_0x40ece5(0x2a3),_0x15dd52),showMessage(_0x40ece5(0xc89)+_0x15dd52[_0x40ece5(0x145)]);}finally{const _0x17b237=document[_0x40ece5(0xc0e)](_0x40ece5(0xb53));_0x17b237&&_0x17b237['remove'](),_0x4cde26['classList'][_0x40ece5(0xd08)]('hidden');}}async function handleGenerateParallelPostTest(_0x559e11){const _0x2773a6=_0x3a9f7b,_0x17a0df=document['getElementById'](_0x2773a6(0x851)),_0xe7d774=document[_0x2773a6(0xc0e)](_0x2773a6(0xa79));_0xe7d774[_0x2773a6(0x319)][_0x2773a6(0x930)](_0x2773a6(0x772));const _0xf9836b=_0x2773a6(0xb41);_0x17a0df['insertAdjacentHTML'](_0x2773a6(0x5d0),_0xf9836b);try{const _0x65ae90=_0x559e11[_0x2773a6(0x9fc)][_0x2773a6(0x8ac)]((_0x301933,_0x55505b)=>{const _0x4de029=_0x2773a6;let _0x120f93=_0x55505b+0x1+'.\x20'+(_0x301933['questionText']||_0x301933[_0x4de029(0x895)]);if(_0x301933[_0x4de029(0xc87)])_0x120f93+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x301933[_0x4de029(0xc87)][_0x4de029(0x986)](',\x20');return _0x120f93;})[_0x2773a6(0x986)]('\x0a\x0a'),_0x5cf2b5=_0x2773a6(0x952)+_0x559e11[_0x2773a6(0x156)]+_0x2773a6(0x1a1)+_0x65ae90+_0x2773a6(0x970)+simpleMathPrompt+_0x2773a6(0xbf5),_0x3af251={'type':_0x2773a6(0x9c6),'properties':{'topic':{'type':_0x2773a6(0xfc)},'questions':{'type':_0x2773a6(0xff),'items':{'type':_0x2773a6(0x9c6),'properties':{'questionText':{'type':_0x2773a6(0xfc)},'questionType':{'type':_0x2773a6(0xfc)},'options':{'type':_0x2773a6(0xff),'items':{'type':_0x2773a6(0xfc)}},'correctAnswerIndex':{'type':_0x2773a6(0xaec)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2773a6(0xfc)}},'required':[_0x2773a6(0x47c),_0x2773a6(0x507)]}}},'required':['topic',_0x2773a6(0x9fc)]},_0xcac389=await callAnalysisApi(_0x5cf2b5,_0x3af251),_0x5bab9c=_0x559e11[_0x2773a6(0x156)][_0x2773a6(0xaa1)](_0x2773a6(0x24a),'')[_0x2773a6(0xa0f)](),_0x1df764=_0x2773a6(0x961)+_0x5bab9c,_0x46993e={..._0xcac389,'topic':_0x1df764,'quizType':_0x559e11[_0x2773a6(0xc6c)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2773a6(0x1cd)](),'status':_0x2773a6(0x75a),'settings':_0x559e11[_0x2773a6(0x7e8)],'quizMode':_0x2773a6(0xc97),'pairedQuizId':_0x559e11['id']};let _0x188448;while(!![]){_0x188448=Math['floor'](0x3e8+Math[_0x2773a6(0x120)]()*0x2328)['toString']();const _0x32c6ac=await getDoc(doc(db,_0x2773a6(0xb3f)+appId+_0x2773a6(0xb0a),_0x188448));if(!_0x32c6ac[_0x2773a6(0x1fb)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x188448),_0x46993e);const _0x2280e3=doc(db,'artifacts/'+appId+_0x2773a6(0xb0a),_0x559e11['id']);await updateDoc(_0x2280e3,{'pairedQuizId':_0x188448}),showMessage(_0x2773a6(0x522));}catch(_0x1a2f62){console[_0x2773a6(0x4e3)](_0x2773a6(0xce6),_0x1a2f62),showMessage(_0x2773a6(0xc89)+_0x1a2f62['message']);}finally{const _0x49087a=document[_0x2773a6(0xc0e)]('temp-loader-results');if(_0x49087a)_0x49087a[_0x2773a6(0xd08)]();_0xe7d774[_0x2773a6(0x319)][_0x2773a6(0xd08)](_0x2773a6(0x772));}}async function handleGenerateParallelTest(_0x3e17a1=null){const _0x241a2c=_0x3a9f7b;let _0x149f47=_0x3e17a1;if(!_0x149f47){const _0x4ffb66=document[_0x241a2c(0xc0e)](_0x241a2c(0x6e4));_0x4ffb66[_0x241a2c(0x603)][_0x241a2c(0x7d2)]>0x0&&(_0x149f47=_0x4ffb66[_0x241a2c(0x603)][0x0]);}if(!_0x149f47){showMessage(_0x241a2c(0x8da));return;}const _0x3bcd14=document[_0x241a2c(0xc0e)]('loader'),_0x19b434=document[_0x241a2c(0xc0e)](_0x241a2c(0x3c6)),_0x215b47=document['getElementById'](_0x241a2c(0x5cd)),_0x2951b3=document[_0x241a2c(0xc0e)](_0x241a2c(0xa1b));_0x2951b3['disabled']=!![],document['getElementById'](_0x241a2c(0x505))[_0x241a2c(0x319)]['remove'](_0x241a2c(0x772)),_0x215b47[_0x241a2c(0xd5e)]='',_0x3bcd14['classList'][_0x241a2c(0xd08)](_0x241a2c(0x772)),_0x19b434[_0x241a2c(0x6fb)]=_0x241a2c(0x261);const _0x4f5164=new FileReader();_0x4f5164['readAsDataURL'](_0x149f47),_0x4f5164[_0x241a2c(0xd25)]=async()=>{const _0x114dc3=_0x241a2c;try{const _0x526df4=_0x4f5164[_0x114dc3(0xbbf)]['split'](',')[0x1],_0x17fea0=_0x149f47['type'];_0x19b434[_0x114dc3(0x6fb)]=_0x114dc3(0x3c1);const _0x557797=document[_0x114dc3(0xc0e)](_0x114dc3(0x92c))[_0x114dc3(0x9da)],_0x37cd3b=_0x557797?_0x114dc3(0x8bf):'',_0x42e22d=_0x114dc3(0x5e5),_0x73ff92={'type':_0x114dc3(0x9c6),'properties':{'questionText':{'type':_0x114dc3(0xfc)},'questionType':{'type':_0x114dc3(0xfc),'enum':[_0x114dc3(0x211),'short_answer']},'options':{'type':_0x114dc3(0xff),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x114dc3(0xaec)},'idealAnswer':{'type':_0x114dc3(0xfc)},'explanation':{'type':_0x114dc3(0xfc)},'imageCode':{'type':_0x114dc3(0xfc)}},'required':[_0x114dc3(0x47c),'questionType',_0x114dc3(0x507)]},_0x3ad141={'type':_0x114dc3(0x9c6),'properties':{'topic':{'type':_0x114dc3(0xfc)},'questions':{'type':'ARRAY','items':_0x73ff92}},'required':['topic','questions']},_0x55bae8=[{'text':_0x42e22d},{'inlineData':{'mimeType':_0x17fea0,'data':_0x526df4}}];await handleApiCall(_0x55bae8,_0x114dc3(0x7a1),_0x3ad141);}catch(_0x25d8af){console[_0x114dc3(0x4e3)](_0x114dc3(0xcb),_0x25d8af),showMessage('เกิดข้อผิดพลาด:\x20'+_0x25d8af[_0x114dc3(0x145)]),_0x215b47[_0x114dc3(0xd5e)]=_0x114dc3(0xbb3);}finally{_0x3bcd14[_0x114dc3(0x319)][_0x114dc3(0x930)](_0x114dc3(0x772)),_0x2951b3[_0x114dc3(0x622)]=![];}},_0x4f5164['onerror']=_0x1529ba=>{const _0x7e673c=_0x241a2c;console[_0x7e673c(0x4e3)]('FileReader\x20error:',_0x1529ba),showMessage(_0x7e673c(0xce2)),_0x3bcd14[_0x7e673c(0x319)]['add'](_0x7e673c(0x772)),_0x2951b3['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x4ba5e0){const _0x4e7982=_0x3a9f7b;if(currentEditingQuizData===null)return;const _0x29c67a=document[_0x4e7982(0x535)]('.question-editor-item[data-q-index=\x22'+_0x4ba5e0+'\x22]');_0x29c67a&&(_0x29c67a[_0x4e7982(0xd5e)]=_0x4e7982(0x3d0));const _0x4b399b=currentEditingQuizData[_0x4e7982(0x9fc)][_0x4ba5e0],_0x4c751a=currentEditingQuizData[_0x4e7982(0x156)],_0x45196d=_0x4b399b[_0x4e7982(0x7c7)],_0x16949b={'type':_0x4e7982(0x9c6),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x4e7982(0xfc)}},'correctAnswerIndex':{'type':_0x4e7982(0xaec)},'explanation':{'type':'STRING'}},'required':['questionText',_0x4e7982(0xc87),_0x4e7982(0xcfa),_0x4e7982(0x507)]},_0x29e52c={'type':_0x4e7982(0x9c6),'properties':{'questionText':{'type':_0x4e7982(0xfc)},'idealAnswer':{'type':_0x4e7982(0xfc)},'explanation':{'type':_0x4e7982(0xfc)}},'required':[_0x4e7982(0x47c),_0x4e7982(0xa57),_0x4e7982(0x507)]};let _0x15e521,_0x361be5='';_0x45196d==='multiple_choice'?(_0x15e521=_0x16949b,_0x361be5=_0x4e7982(0x774)):(_0x15e521=_0x29e52c,_0x361be5='แบบเติมคำตอบ');const _0x50c008=_0x4e7982(0x4ca)+_0x4c751a+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x361be5+_0x4e7982(0x998)+(_0x4b399b[_0x4e7982(0x47c)]||_0x4b399b['stem'])+_0x4e7982(0x51a)+simpleMathPrompt;try{const _0x4356b3=await callAnalysisApi(_0x50c008,_0x15e521);currentEditingQuizData[_0x4e7982(0x9fc)][_0x4ba5e0]={..._0x4b399b,..._0x4356b3},renderQuizEditor(currentEditingQuizData);}catch(_0x261dc8){console[_0x4e7982(0x4e3)](_0x4e7982(0x23b),_0x261dc8),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x33d24e=_0x3a9f7b,_0x534631=document['getElementById']('mode-switcher-btn');currentMode==='student'?(adminPasswordModal[_0x33d24e(0x319)][_0x33d24e(0xd08)](_0x33d24e(0x772)),document['getElementById']('admin-password-input')['focus']()):(currentMode=_0x33d24e(0x243),_0x534631[_0x33d24e(0xd5e)]=_0x33d24e(0xcd0),_0x534631['title']=_0x33d24e(0x3fe),showView(_0x33d24e(0x243)));}function handleAdminLogin(){const _0x873945=_0x3a9f7b,_0x3f7e5a=document['getElementById']('admin-password-input'),_0xd4edd5=document[_0x873945(0xc0e)](_0x873945(0x1a5));if(_0x3f7e5a[_0x873945(0x452)]===_0x873945(0xc0)){adminPasswordModal['classList'][_0x873945(0x930)](_0x873945(0x772)),_0x3f7e5a[_0x873945(0x452)]='',_0xd4edd5[_0x873945(0x319)]['add'](_0x873945(0x772)),currentMode=_0x873945(0xcd6);const _0x2c51b2=document[_0x873945(0xc0e)](_0x873945(0x299));_0x2c51b2[_0x873945(0xd5e)]=_0x873945(0x143),_0x2c51b2[_0x873945(0xa8e)]='สลับไปโหมดนักเรียน',showView(_0x873945(0xc3e));}else _0xd4edd5['classList'][_0x873945(0xd08)](_0x873945(0x772)),_0x3f7e5a['value']='';}function switchProjectTab(_0x45981e){const _0x5b0a34=_0x3a9f7b;[_0x5b0a34(0x830),_0x5b0a34(0x4e9),_0x5b0a34(0x2eb)]['forEach'](_0x5e1bdf=>{const _0x2b4b77=_0x5b0a34;document[_0x2b4b77(0xc0e)](_0x5e1bdf+'-tab')[_0x2b4b77(0x319)][_0x2b4b77(0xd08)]('active'),document['getElementById'](_0x5e1bdf+_0x2b4b77(0xac6))[_0x2b4b77(0x319)][_0x2b4b77(0x930)](_0x2b4b77(0x772));}),document['getElementById'](_0x45981e+_0x5b0a34(0x871))['classList'][_0x5b0a34(0x930)]('active'),document[_0x5b0a34(0xc0e)](_0x45981e+'-tab-content')[_0x5b0a34(0x319)][_0x5b0a34(0xd08)]('hidden');}function switchQuizDetailTab(_0x10053d){const _0x520aff=_0x3a9f7b,_0x17d26e={'analytics':{'btn':'analytics-tab-btn','content':_0x520aff(0x714)},'scores':{'btn':_0x520aff(0x646),'content':_0x520aff(0x6f7)},'leaderboard-quiz':{'btn':_0x520aff(0x976),'content':_0x520aff(0x5ab)},'behavior-log':{'btn':_0x520aff(0xc59),'content':_0x520aff(0x64b)}};for(const _0x2adc47 in _0x17d26e){document[_0x520aff(0xc0e)](_0x17d26e[_0x2adc47][_0x520aff(0x4a0)])[_0x520aff(0x319)][_0x520aff(0xd08)](_0x520aff(0x75a)),document[_0x520aff(0xc0e)](_0x17d26e[_0x2adc47][_0x520aff(0xcda)])[_0x520aff(0x319)][_0x520aff(0x930)](_0x520aff(0x772));}document[_0x520aff(0xc0e)](_0x17d26e[_0x10053d][_0x520aff(0x4a0)])[_0x520aff(0x319)][_0x520aff(0x930)]('active'),document[_0x520aff(0xc0e)](_0x17d26e[_0x10053d][_0x520aff(0xcda)])[_0x520aff(0x319)]['remove'](_0x520aff(0x772));}function showMessage(_0x3e11ec,_0x364cc3=null){const _0x5d841e=_0x3a9f7b;modalMessage[_0x5d841e(0xd5e)]=_0x3e11ec[_0x5d841e(0xaa1)](/\n/g,_0x5d841e(0x39a)),modalConfirmAction=_0x364cc3,messageModal[_0x5d841e(0x319)][_0x5d841e(0xd08)](_0x5d841e(0x772));}function showConfirmation(_0x2972e5,_0x494ea3,_0x11c140=null){const _0x24d1b8=_0x3a9f7b;document[_0x24d1b8(0xc0e)](_0x24d1b8(0x2b0))[_0x24d1b8(0x6fb)]=_0x2972e5,document[_0x24d1b8(0xc0e)](_0x24d1b8(0xce9))['querySelector']('h3')[_0x24d1b8(0x6fb)]='ยืนยันการกระทำ',confirmAction=_0x494ea3,cancelAction=_0x11c140,confirmationModal['classList'][_0x24d1b8(0xd08)](_0x24d1b8(0x772));}function listenForProjects(){const _0x591e2a=_0x3a9f7b,_0x215976=doc(db,_0x591e2a(0x316),_0x591e2a(0x8e6));onSnapshot(_0x215976,_0x42f330=>{const _0x1069d0=_0x591e2a;if(_0x42f330['exists']()){const _0x5a63c5=_0x42f330[_0x1069d0(0x180)]();globalDashboardSettings['projectSort']=_0x5a63c5[_0x1069d0(0xa2b)]||_0x1069d0(0x2fa),globalDashboardSettings['pinnedProjects']=_0x5a63c5['pinnedProjects']||[],globalDashboardSettings['projectOrder']=_0x5a63c5[_0x1069d0(0xab1)]||[];}allProjects[_0x1069d0(0x7d2)]>0x0&&renderProjects();});const _0x2b2a13=collection(db,_0x591e2a(0xb3f)+appId+_0x591e2a(0xb8e));unsubscribeProjectsListener=onSnapshot(_0x2b2a13,_0x34452=>{const _0x2f3e6b=_0x591e2a;allProjects=_0x34452['docs'][_0x2f3e6b(0x8ac)](_0x28a87e=>({'id':_0x28a87e['id'],..._0x28a87e[_0x2f3e6b(0x180)]()})),renderProjects();},_0x1b4eb2=>{const _0x106268=_0x591e2a;console[_0x106268(0x4e3)](_0x106268(0x112),_0x1b4eb2),showMessage(_0x106268(0x98c));});}function showColorPalette(_0x2498b4,_0x11f36e){const _0x5df351=_0x3a9f7b;document[_0x5df351(0x68f)](_0x5df351(0xa40))[_0x5df351(0x2d3)](_0x1ba861=>_0x1ba861[_0x5df351(0xd08)]());const _0x2a0f09=['#FFFFFF',_0x5df351(0x83b),_0x5df351(0xd77),_0x5df351(0x27c),_0x5df351(0x391),'#E0E7FF',_0x5df351(0xb68),_0x5df351(0x5fc),_0x5df351(0x99f)],_0x2993da=document['createElement'](_0x5df351(0x635));_0x2993da[_0x5df351(0x56f)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x2a0f09['forEach'](_0x5c0fcc=>{const _0x48c62c=_0x5df351,_0x226cee=document[_0x48c62c(0x846)](_0x48c62c(0x635));_0x226cee[_0x48c62c(0x56f)]=_0x48c62c(0xd63),_0x226cee[_0x48c62c(0x5c6)][_0x48c62c(0x653)]=_0x5c0fcc,_0x226cee[_0x48c62c(0x59d)](_0x48c62c(0x9fd),()=>{const _0x1c1d79=_0x48c62c;handleProjectColorChange(_0x11f36e,_0x5c0fcc),_0x2993da[_0x1c1d79(0xd08)]();}),_0x2993da[_0x48c62c(0x6ce)](_0x226cee);}),document['body']['appendChild'](_0x2993da);const _0x3907ac=_0x2498b4[_0x5df351(0xb82)]();_0x2993da['style'][_0x5df351(0xc1d)]=_0x3907ac['bottom']+window[_0x5df351(0x345)]+'px',_0x2993da[_0x5df351(0x5c6)][_0x5df351(0xc04)]=_0x3907ac[_0x5df351(0xc04)]+window['scrollX']-_0x2993da[_0x5df351(0x599)]/0x2+'px';}async function handleProjectColorChange(_0x1a6232,_0x6ebcd1){const _0x539cad=_0x3a9f7b,_0x3ad10f=doc(db,'artifacts/'+appId+_0x539cad(0xb8e),_0x1a6232);try{await updateDoc(_0x3ad10f,{'color':_0x6ebcd1});}catch(_0x58f16d){console[_0x539cad(0x4e3)](_0x539cad(0xa38),_0x58f16d),showMessage(_0x539cad(0xa64));}}async function renderProjects(){const _0x2f1515=_0x3a9f7b,_0x3c5975=globalDashboardSettings[_0x2f1515(0xa2b)]||_0x2f1515(0x2fa),_0x4d4307=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x22a235=globalDashboardSettings[_0x2f1515(0x58f)]||'grid',_0x178240=document[_0x2f1515(0xc0e)](_0x2f1515(0xc83)),_0x5d6041=document[_0x2f1515(0xc0e)](_0x2f1515(0xd36));_0x178240[_0x2f1515(0x319)][_0x2f1515(0xd6e)](_0x2f1515(0x75a),_0x22a235===_0x2f1515(0xc41)),_0x5d6041[_0x2f1515(0x319)][_0x2f1515(0xd6e)](_0x2f1515(0x75a),_0x22a235===_0x2f1515(0x51b)),document[_0x2f1515(0xc0e)](_0x2f1515(0x7cc))[_0x2f1515(0x452)]=_0x3c5975;const _0x2e118e=document[_0x2f1515(0xc0e)](_0x2f1515(0x4ba))[_0x2f1515(0x452)][_0x2f1515(0x703)]();let _0x3793d5=allProjects[_0x2f1515(0xb6e)](_0x5eb97c=>_0x5eb97c[_0x2f1515(0x139)][_0x2f1515(0x703)]()[_0x2f1515(0x1bc)](_0x2e118e));const _0x3b876c=_0x3793d5[_0x2f1515(0xb6e)](_0xcc6cc9=>_0x4d4307['has'](_0xcc6cc9['id'])),_0x4baa6c=_0x3793d5['filter'](_0x1e06a0=>!_0x4d4307[_0x2f1515(0x76a)](_0x1e06a0['id'])),_0x53d534=(_0x125cd3,_0xd34ee1)=>{const _0x3cf032=_0x2f1515;switch(_0x3c5975){case'name_asc':return _0x125cd3[_0x3cf032(0x139)][_0x3cf032(0xae5)](_0xd34ee1[_0x3cf032(0x139)],'th');case _0x3cf032(0x5f6):return _0xd34ee1['projectName'][_0x3cf032(0xae5)](_0x125cd3[_0x3cf032(0x139)],'th');case _0x3cf032(0x420):return new Date(_0x125cd3[_0x3cf032(0x5c4)])-new Date(_0xd34ee1[_0x3cf032(0x5c4)]);default:return new Date(_0xd34ee1[_0x3cf032(0x5c4)])-new Date(_0x125cd3[_0x3cf032(0x5c4)]);}};_0x3b876c['sort'](_0x53d534),_0x4baa6c['sort'](_0x53d534);const _0x158eb1=[..._0x3b876c,..._0x4baa6c],_0x11aeb9=globalDashboardSettings[_0x2f1515(0xab1)]||[];_0x11aeb9[_0x2f1515(0x7d2)]>0x0&&_0x22a235===_0x2f1515(0xc41)&&_0x158eb1['sort']((_0x99a59e,_0x5649b9)=>{const _0x2c27cb=_0x2f1515,_0x463ed9=_0x11aeb9[_0x2c27cb(0x617)](_0x99a59e['id']),_0x5b69ea=_0x11aeb9[_0x2c27cb(0x617)](_0x5649b9['id']);if(_0x463ed9===-0x1)return 0x1;if(_0x5b69ea===-0x1)return-0x1;return _0x463ed9-_0x5b69ea;});const _0x33ea55={};await Promise[_0x2f1515(0xc9a)](_0x158eb1['map'](async _0x258a3e=>{const _0x3d7a8e=_0x2f1515,_0x53c23a=query(collection(db,_0x3d7a8e(0xb3f)+appId+_0x3d7a8e(0xb0a)),where(_0x3d7a8e(0xd39),'==',_0x258a3e['id'])),_0x497585=await getDocs(_0x53c23a);_0x33ea55[_0x258a3e['id']]=_0x497585[_0x3d7a8e(0x2d8)];}));const _0x16efa5=document[_0x2f1515(0xc0e)](_0x2f1515(0xd2));let _0x4ab84f='';if(_0x22a235===_0x2f1515(0xc41)){_0x16efa5[_0x2f1515(0x56f)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x2f1515(0x7d2)]>0x0&&_0x2e118e===''){const _0x4cbf06=starredQuizzes[_0x2f1515(0x8ac)](_0x207074=>{const _0x3492e9=_0x2f1515,_0x3b9d7f=allProjects[_0x3492e9(0x4b3)](_0x55b69f=>_0x55b69f['id']===_0x207074['projectId']);return{..._0x207074,'projectName':_0x3b9d7f?_0x3b9d7f[_0x3492e9(0x139)]:_0x3492e9(0x791)};});_0x4ab84f+=_0x2f1515(0x8a6)+_0x4cbf06[_0x2f1515(0x8ac)](_0x3da44f=>_0x2f1515(0x160)+_0x3da44f['topic']+'\x22>'+_0x3da44f[_0x2f1515(0x156)]+_0x2f1515(0x718)+_0x3da44f['projectName']+_0x2f1515(0xc7b)+_0x3da44f[_0x2f1515(0x139)]+_0x2f1515(0x959))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x2f1515(0x7d2)]+_0x2f1515(0x736);}_0x158eb1[_0x2f1515(0x2d3)](_0x23e4c2=>{const _0x37cad7=_0x2f1515,_0x1f05e3=_0x33ea55[_0x23e4c2['id']]??0x0,_0x3f8f3b=_0x4d4307[_0x37cad7(0x76a)](_0x23e4c2['id']),_0x18ad83=_0x23e4c2[_0x37cad7(0x98e)]||_0x37cad7(0x7f8),_0x144240=parseInt(_0x18ad83[_0x37cad7(0x3b5)](0x1,0x3),0x10)*0.299+parseInt(_0x18ad83[_0x37cad7(0x3b5)](0x3,0x5),0x10)*0.587+parseInt(_0x18ad83[_0x37cad7(0x3b5)](0x5,0x7),0x10)*0.114<0xba,_0x3d71e1=_0x144240?_0x37cad7(0x711):_0x37cad7(0xbcf),_0x46c5a4=_0x144240?'text-gray-200':'text-gray-500';_0x4ab84f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x3f8f3b?_0x37cad7(0x89f):_0x37cad7(0xa99))+_0x37cad7(0x41d)+_0x18ad83+_0x37cad7(0x3d8)+_0x23e4c2['id']+_0x37cad7(0xb2f)+_0x23e4c2['id']+_0x37cad7(0x10a)+(_0x144240?_0x37cad7(0x666):_0x37cad7(0x7ec))+_0x37cad7(0x4f3)+_0x23e4c2['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x144240?_0x37cad7(0x666):_0x37cad7(0x7ec))+_0x37cad7(0x51d)+(_0x3f8f3b?_0x144240?_0x37cad7(0xcc2):_0x37cad7(0x8de):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x23e4c2['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x3d71e1+_0x37cad7(0x783)+_0x23e4c2[_0x37cad7(0x139)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x46c5a4+_0x37cad7(0xbb2)+new Date(_0x23e4c2[_0x37cad7(0x5c4)])[_0x37cad7(0x280)]('th-TH')+_0x37cad7(0x33b)+(_0x144240?_0x37cad7(0x8c5):_0x37cad7(0x2a2))+_0x37cad7(0x68e)+_0x1f05e3+_0x37cad7(0x867)+_0x23e4c2['id']+_0x37cad7(0x58a)+_0x23e4c2['projectName']+_0x37cad7(0xb3a)+(_0x144240?'text-red-300\x20hover:text-red-100':_0x37cad7(0x75f))+_0x37cad7(0x3b8);});}else _0x16efa5[_0x2f1515(0x56f)]=_0x2f1515(0x6b0),starredQuizzes[_0x2f1515(0x7d2)]>0x0&&_0x2e118e===''&&(_0x4ab84f+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x2f1515(0x7d2)]+_0x2f1515(0x313)),_0x4ab84f+=_0x2f1515(0xd24),_0x158eb1[_0x2f1515(0x2d3)](_0x1592fa=>{const _0x119384=_0x2f1515,_0x41b615=_0x33ea55[_0x1592fa['id']]??0x0,_0x10c28e=_0x4d4307['has'](_0x1592fa['id']);_0x4ab84f+=_0x119384(0xb6)+(_0x1592fa[_0x119384(0x98e)]||'#E5E7EB')+_0x119384(0x6ff)+_0x1592fa['id']+_0x119384(0x7f9)+_0x1592fa[_0x119384(0x139)]+_0x119384(0x801)+_0x41b615+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x1592fa['createdAt'])[_0x119384(0x1c1)](_0x119384(0xf8))+_0x119384(0x534)+_0x1592fa['id']+_0x119384(0x861)+(_0x10c28e?'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1592fa['id']+_0x119384(0x58a)+_0x1592fa[_0x119384(0x139)]+_0x119384(0x7ab);});projectList[_0x2f1515(0xd5e)]=_0x4ab84f,noProjectsMsg[_0x2f1515(0x319)][_0x2f1515(0xd6e)](_0x2f1515(0x772),_0x4ab84f[_0x2f1515(0x7d2)]>0x0);}document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x69e))['addEventListener'](_0x3a9f7b(0x9fd),async()=>{const _0x4a6941=_0x3a9f7b,_0x49d1ca=document[_0x4a6941(0xc0e)](_0x4a6941(0x137)),_0x4eeca3=_0x49d1ca[_0x4a6941(0x452)][_0x4a6941(0xa0f)]();if(!_0x4eeca3){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x35d826=doc(collection(db,_0x4a6941(0xb3f)+appId+_0x4a6941(0xb8e)));await setDoc(_0x35d826,{'projectName':_0x4eeca3,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x4a6941(0x81d),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x4a6941(0x1cd)]()}),_0x49d1ca['value']='',createProjectModal[_0x4a6941(0x319)][_0x4a6941(0x930)](_0x4a6941(0x772)),showMessage(_0x4a6941(0x672));}catch(_0x377a3b){console[_0x4a6941(0x4e3)](_0x4a6941(0x37d),_0x377a3b),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x3a9f7b(0x59d)](_0x3a9f7b(0x9fd),async _0x284a73=>{const _0x4cb1c6=_0x3a9f7b,_0x4c6fe9=_0x284a73['target'][_0x4cb1c6(0x190)](_0x4cb1c6(0xd65)),_0x4e4339=_0x284a73[_0x4cb1c6(0x697)][_0x4cb1c6(0x190)]('.delete-project-btn'),_0x5342f1=_0x284a73['target'][_0x4cb1c6(0x190)](_0x4cb1c6(0xc3c)),_0x4f9dc1=_0x284a73[_0x4cb1c6(0x697)][_0x4cb1c6(0x190)]('.color-palette-btn');if(_0x5342f1){const _0x23c4cb=_0x5342f1[_0x4cb1c6(0x5e8)]['id'],_0x49972f=doc(db,_0x4cb1c6(0x316),_0x4cb1c6(0x8e6)),_0x3925bd=globalDashboardSettings[_0x4cb1c6(0x6b4)];let _0x579e42;_0x3925bd['includes'](_0x23c4cb)?_0x579e42=_0x3925bd[_0x4cb1c6(0xb6e)](_0x25640f=>_0x25640f!==_0x23c4cb):_0x579e42=[..._0x3925bd,_0x23c4cb];try{await setDoc(_0x49972f,{'pinnedProjects':_0x579e42},{'merge':!![]});}catch(_0x4f1f27){console['error'](_0x4cb1c6(0x777),_0x4f1f27),showMessage(_0x4cb1c6(0x230));}}else{if(_0x4f9dc1){const _0x5818da=_0x4f9dc1[_0x4cb1c6(0x5e8)]['id'];showColorPalette(_0x4f9dc1,_0x5818da);}else{if(_0x4c6fe9){const _0x33ac24=_0x4c6fe9[_0x4cb1c6(0x5e8)]['id'];_0x33ac24===_0x4cb1c6(0x9cd)?showStarredProjectView():(currentProjectId=_0x33ac24,await loadProjectDetails(currentProjectId),showView(_0x4cb1c6(0x6c3)));}else{if(_0x4e4339){const _0x304c84=_0x4e4339[_0x4cb1c6(0x5e8)]['id'],_0x2e0c05=_0x4e4339[_0x4cb1c6(0x5e8)][_0x4cb1c6(0x58e)];showConfirmation(_0x4cb1c6(0x161)+_0x2e0c05+_0x4cb1c6(0x52e),()=>handleDeleteProject(_0x304c84));}}}}}),projectList['addEventListener'](_0x3a9f7b(0x776),_0x536205=>{const _0x4a3653=_0x3a9f7b,_0xb94ee7=_0x536205[_0x4a3653(0x697)][_0x4a3653(0x190)](_0x4a3653(0x36f));_0xb94ee7&&_0xb94ee7[_0x4a3653(0x319)][_0x4a3653(0x930)](_0x4a3653(0x76e));}),projectList[_0x3a9f7b(0x59d)](_0x3a9f7b(0x15e),_0x2aebcb=>{const _0x850cf=_0x3a9f7b,_0x4da46d=_0x2aebcb['target'][_0x850cf(0x190)]('.project-card-container');_0x4da46d&&_0x4da46d[_0x850cf(0x319)]['remove'](_0x850cf(0x76e));}),projectList[_0x3a9f7b(0x59d)](_0x3a9f7b(0xc67),_0x2ac979=>{const _0x1a698=_0x3a9f7b;_0x2ac979[_0x1a698(0x3eb)]();const _0x2028e2=document[_0x1a698(0x535)](_0x1a698(0xbe6));if(!_0x2028e2)return;const _0x582174=getDragAfterElement(projectList,_0x2ac979[_0x1a698(0x86b)]);_0x582174==null?projectList[_0x1a698(0x6ce)](_0x2028e2):projectList[_0x1a698(0x271)](_0x2028e2,_0x582174);}),projectList[_0x3a9f7b(0x59d)]('drop',_0x503c31=>{const _0x58cd84=_0x3a9f7b;_0x503c31[_0x58cd84(0x3eb)]();const _0x4dbd7b=[...projectList['querySelectorAll'](_0x58cd84(0x475))][_0x58cd84(0x8ac)](_0x4ef932=>_0x4ef932[_0x58cd84(0x5e8)]['id']);saveProjectOrder(_0x4dbd7b);});function renderBehaviorLog(_0x177cb1){const _0xe192d0=_0x3a9f7b,_0x128f3b=document[_0xe192d0(0xc0e)]('behavior-log-container');if(!_0x128f3b)return;const _0x3cb288=_0x177cb1[_0xe192d0(0xb6e)](_0x46359a=>_0x46359a['behaviorLog']&&_0x46359a['behaviorLog']['length']>0x0);if(_0x3cb288[_0xe192d0(0x7d2)]===0x0){_0x128f3b[_0xe192d0(0xd5e)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x53fcdc='';_0x3cb288[_0xe192d0(0x2d3)](_0x3aa75f=>{const _0x3f4302=_0xe192d0;_0x53fcdc+=_0x3f4302(0xd32)+_0x3aa75f['studentName']+_0x3f4302(0xbe3),_0x3aa75f[_0x3f4302(0xb2c)][_0x3f4302(0x3fc)]((_0x568b28,_0x30b1fa)=>new Date(_0x30b1fa[_0x3f4302(0xa8a)])-new Date(_0x568b28['timestamp']))[_0x3f4302(0x2d3)](_0x81ec1f=>{const _0x25637d=_0x3f4302,_0x28c7e2=new Date(_0x81ec1f[_0x25637d(0xa8a)])['toLocaleString'](_0x25637d(0xf8),{'dateStyle':'short','timeStyle':'medium'});_0x53fcdc+=_0x25637d(0x560)+_0x81ec1f[_0x25637d(0xcce)]+_0x25637d(0x549)+_0x28c7e2+_0x25637d(0x16d);}),_0x53fcdc+=_0x3f4302(0x778);}),_0x128f3b[_0xe192d0(0xd5e)]=_0x53fcdc;}function getDragAfterElement(_0x318826,_0x38e9a7){const _0x34abea=_0x3a9f7b,_0x1e7b95=[..._0x318826['querySelectorAll']('.project-card-container:not(.opacity-50)')];return _0x1e7b95['reduce']((_0x2d3f4b,_0x1a5c20)=>{const _0x164914=_0x57a1,_0x4a462c=_0x1a5c20[_0x164914(0xb82)](),_0x3874c3=_0x38e9a7-_0x4a462c['top']-_0x4a462c[_0x164914(0x65c)]/0x2;return _0x3874c3<0x0&&_0x3874c3>_0x2d3f4b[_0x164914(0x343)]?{'offset':_0x3874c3,'element':_0x1a5c20}:_0x2d3f4b;},{'offset':Number['NEGATIVE_INFINITY']})[_0x34abea(0x960)];}async function saveProjectOrder(_0x12c7bd){const _0x5c0726=_0x3a9f7b,_0x48b04d=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x48b04d,{'projectOrder':_0x12c7bd},{'merge':!![]});}catch(_0x3c882a){console[_0x5c0726(0x4e3)]('Error\x20saving\x20project\x20order:',_0x3c882a),showMessage(_0x5c0726(0xa26));}}async function logBehaviorEvent(_0x2813dc,_0x55a7e4={}){const _0x3d6138=_0x3a9f7b;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x3d6138(0x351));return;}const _0x1e2d75=doc(db,'artifacts/'+appId+_0x3d6138(0x253)+currentQuizData['id']+'/submissions',currentStudentName),_0x20144b={'event':_0x2813dc,'timestamp':new Date()[_0x3d6138(0x1cd)](),..._0x55a7e4};try{await updateDoc(_0x1e2d75,{'behaviorLog':arrayUnion(_0x20144b)}),console['log'](_0x3d6138(0x242)+currentStudentName+_0x3d6138(0xbf));}catch(_0xc590a3){_0xc590a3[_0x3d6138(0xd45)]===_0x3d6138(0x63d)?console['warn'](_0x3d6138(0x752)+currentStudentName+_0x3d6138(0x74b)):console[_0x3d6138(0x4e3)](_0x3d6138(0x29c),_0xc590a3);}}function getScoreTier(_0xa081d2,_0xf9b384){const _0x495fe6=_0x3a9f7b;if(_0xf9b384===0x0){if(_0xa081d2===0x0)return{'text':'(รอคะแนน)','icon':'⏳'};return{'text':_0x495fe6(0xa4f),'icon':'😥'};}const _0x562e2a=_0xa081d2/(_0xf9b384===0x0?0x1:_0xf9b384);if(_0x562e2a===0x1)return{'text':_0x495fe6(0x1e5),'icon':'👑'};if(_0x562e2a>=0.7)return{'text':'(ตามมาติดๆ)','icon':'🔥'};if(_0x562e2a>=0.4)return{'text':_0x495fe6(0x698),'icon':'🏃'};return{'text':'(พยายามอยู่)','icon':'😥'};}function calculateMeanAndStdDev(_0x2b666b){const _0x5f20e2=_0x3a9f7b;if(_0x2b666b[_0x5f20e2(0x7d2)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x108f26=_0x2b666b[_0x5f20e2(0x78a)]((_0x4a2acb,_0x153a0a)=>_0x4a2acb+_0x153a0a,0x0)/_0x2b666b[_0x5f20e2(0x7d2)];if(_0x2b666b[_0x5f20e2(0x7d2)]===0x1)return{'mean':_0x108f26,'stdDev':0x0};const _0x223d05=Math[_0x5f20e2(0xa1f)](_0x2b666b[_0x5f20e2(0x8ac)](_0x2fea47=>Math['pow'](_0x2fea47-_0x108f26,0x2))[_0x5f20e2(0x78a)]((_0xd60a4b,_0x43efc0)=>_0xd60a4b+_0x43efc0,0x0)/(_0x2b666b[_0x5f20e2(0x7d2)]-0x1));return{'mean':_0x108f26,'stdDev':_0x223d05};}function calculateZScore(_0x206bd2,_0x2fa708,_0x8bb6c8){if(_0x8bb6c8===0x0)return 0x0;return(_0x206bd2-_0x2fa708)/_0x8bb6c8;}function calculateTScore(_0x410b66){return 0xa*_0x410b66+0x32;}function showStarredProjectView(){const _0x21330f=_0x3a9f7b;currentProjectId=_0x21330f(0x5bb),currentProjectData=null,projectTitle[_0x21330f(0x6fb)]=_0x21330f(0xaf8),projectIdDisplay['textContent']=_0x21330f(0x545),showView(_0x21330f(0x6c3)),manageTab[_0x21330f(0x319)][_0x21330f(0x930)](_0x21330f(0x772)),leaderboardTab[_0x21330f(0x319)][_0x21330f(0x930)](_0x21330f(0x772)),switchProjectTab(_0x21330f(0x4e9)),renderQuizzes();}async function loadProjectDetails(_0x5db0ab){const _0x52569d=_0x3a9f7b,_0x4a5094=doc(db,_0x52569d(0xb3f)+appId+_0x52569d(0xb8e),_0x5db0ab),_0xa0e82=await getDoc(_0x4a5094);if(_0xa0e82['exists']()){manageTab[_0x52569d(0x319)][_0x52569d(0xd08)](_0x52569d(0x772)),leaderboardTab[_0x52569d(0x319)][_0x52569d(0xd08)]('hidden'),currentProjectData=_0xa0e82[_0x52569d(0x180)](),projectTitle[_0x52569d(0x6fb)]=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x5db0ab;const _0x5daa07=currentProjectData[_0x52569d(0x7e8)]||{};document[_0x52569d(0xc0e)]('shuffle-setting-select')[_0x52569d(0x452)]=_0x5daa07[_0x52569d(0xb85)]||'none';const _0x50c4f2=document[_0x52569d(0xc0e)](_0x52569d(0x154));_0x50c4f2[_0x52569d(0x9da)]=_0x5daa07[_0x52569d(0x32e)]!==![];const _0x1bf200=document[_0x52569d(0xc0e)](_0x52569d(0xab9)),_0x4acc33=document[_0x52569d(0xc0e)](_0x52569d(0x509)),_0x340702=document['getElementById'](_0x52569d(0xa9f)),_0x55c360=_0x5daa07[_0x52569d(0xa59)]||![];_0x1bf200[_0x52569d(0x9da)]=_0x55c360,_0x340702['value']=_0x5daa07[_0x52569d(0xd79)]||'',_0x4acc33[_0x52569d(0x319)][_0x52569d(0xd6e)]('hidden',!_0x55c360),_0x1bf200[_0x52569d(0x849)]=()=>{const _0x4c1ddc=_0x52569d;_0x4acc33['classList']['toggle'](_0x4c1ddc(0x772),!_0x1bf200[_0x4c1ddc(0x9da)]);},document[_0x52569d(0xc0e)]('confidence-scoring-checkbox')[_0x52569d(0x9da)]=_0x5daa07[_0x52569d(0xce8)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5db0ab),listenForProjectQuizzes(_0x5db0ab),listenForStudentProfiles(_0x5db0ab);}else showMessage(_0x52569d(0x34b)),showView(_0x52569d(0xc3e));}async function handleResetProjectOrder(){const _0x72d770=_0x3a9f7b,_0x22886e=doc(db,_0x72d770(0x316),_0x72d770(0x8e6));try{await setDoc(_0x22886e,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x72d770(0x222));}catch(_0x42be05){console[_0x72d770(0x4e3)](_0x72d770(0x8c6),_0x42be05),showMessage(_0x72d770(0xb9d));}}async function handleTogglePinProject(_0x1a36d1){const _0x345300=_0x3a9f7b;if(!_0x1a36d1)return;const _0x3a7ff1=doc(db,_0x345300(0xb3f)+appId+_0x345300(0xb8e),_0x1a36d1);try{const _0x5b6a1f=await getDoc(_0x3a7ff1);if(_0x5b6a1f['exists']()){const _0x5311fe=_0x5b6a1f['data']()['isPinned']||![];await updateDoc(_0x3a7ff1,{'isPinned':!_0x5311fe});}}catch(_0x4d0368){console[_0x345300(0x4e3)](_0x345300(0x3ed),_0x4d0368),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x5cf3f8){const _0x2da372=_0x3a9f7b;try{const _0x560fdf=writeBatch(db),_0x42da94=collection(db,_0x2da372(0xb3f)+appId+_0x2da372(0xb0a)),_0x5eb863=query(_0x42da94,where(_0x2da372(0xd39),'==',_0x5cf3f8)),_0x54beb0=await getDocs(_0x5eb863);for(const _0x2eda3e of _0x54beb0[_0x2da372(0x726)]){const _0x531bc0=collection(db,_0x2da372(0xb3f)+appId+_0x2da372(0x253)+_0x2eda3e['id']+'/submissions'),_0x2530be=await getDocs(_0x531bc0);_0x2530be[_0x2da372(0x2d3)](_0x275458=>{_0x560fdf['delete'](_0x275458['ref']);}),_0x560fdf[_0x2da372(0xc4e)](_0x2eda3e[_0x2da372(0xc50)]);}const _0x41f2d3=collection(db,_0x2da372(0xb3f)+appId+_0x2da372(0x827)+_0x5cf3f8+_0x2da372(0xc06)),_0x58476f=await getDocs(_0x41f2d3);_0x58476f[_0x2da372(0x2d3)](_0x18b904=>{const _0x4a52c3=_0x2da372;_0x560fdf[_0x4a52c3(0xc4e)](_0x18b904[_0x4a52c3(0xc50)]);});const _0x58fa99=doc(db,_0x2da372(0xb3f)+appId+'/public/data/projects',_0x5cf3f8);_0x560fdf[_0x2da372(0xc4e)](_0x58fa99),await _0x560fdf[_0x2da372(0xd55)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x2da372(0xc3e));}catch(_0x3a729c){console[_0x2da372(0x4e3)](_0x2da372(0x3f5),_0x3a729c),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document['getElementById']('save-settings-btn')[_0x3a9f7b(0x59d)](_0x3a9f7b(0x9fd),async()=>{const _0x239b30=_0x3a9f7b;if(!currentProjectId)return;const _0x156f1b={'defaultNumQuestions':parseInt(document[_0x239b30(0xc0e)](_0x239b30(0x7ce))[_0x239b30(0x452)]),'defaultNumChoices':parseInt(document[_0x239b30(0xc0e)](_0x239b30(0x238))[_0x239b30(0x452)]),'defaultPassingScore':parseInt(document[_0x239b30(0xc0e)]('passing-score-input')[_0x239b30(0x452)]),'resultsDisplay':document[_0x239b30(0xc0e)](_0x239b30(0x50e))[_0x239b30(0x452)],'shuffleSetting':document['getElementById'](_0x239b30(0x48c))[_0x239b30(0x452)],'timerMode':document[_0x239b30(0xc0e)](_0x239b30(0xb90))[_0x239b30(0x452)],'timerDuration':parseInt(document[_0x239b30(0xc0e)](_0x239b30(0x30d))['value']),'isConfidenceScoringEnabled':document[_0x239b30(0xc0e)](_0x239b30(0x5bd))['checked'],'confidenceMode':document['getElementById'](_0x239b30(0xb1))[_0x239b30(0x452)]};try{const _0x474dcc=doc(db,_0x239b30(0xb3f)+appId+_0x239b30(0xb8e),currentProjectId);await updateDoc(_0x474dcc,{'settings':_0x156f1b}),showMessage(_0x239b30(0x50c));}catch(_0x2e8e42){console['error'](_0x239b30(0x134),_0x2e8e42),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0xa8ae2c){const _0x4a75fa=_0x3a9f7b,_0xac2fdf=doc(db,_0x4a75fa(0xb3f)+appId+_0x4a75fa(0xb8e),_0xa8ae2c);unsubscribeStudentsListener=onSnapshot(_0xac2fdf,_0x446374=>{const _0x1ef8c1=_0x4a75fa;if(_0x446374[_0x1ef8c1(0x1fb)]()){const _0x595cf5=_0x446374[_0x1ef8c1(0x180)]();currentProjectData=_0x595cf5,renderStudentList(_0x595cf5['students']||[]);}});}function renderStudentList(_0x3933d1){const _0x477e61=_0x3a9f7b,_0x3fbd7f=document[_0x477e61(0xc0e)](_0x477e61(0x1ab));_0x3933d1[_0x477e61(0x7d2)]===0x0?(studentList[_0x477e61(0xd5e)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x3fbd7f[_0x477e61(0x319)]['add']('hidden')):(studentList[_0x477e61(0xd5e)]=_0x3933d1[_0x477e61(0x8ac)](_0xaeb486=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xaeb486+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0xaeb486+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x3fbd7f[_0x477e61(0x319)]['remove'](_0x477e61(0x772)));}document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x798))[_0x3a9f7b(0x59d)]('click',async()=>{const _0x53fff7=_0x3a9f7b;if(!currentProjectId)return;const _0x3b23e5=document[_0x53fff7(0xc0e)](_0x53fff7(0x5cb)),_0x371c24=_0x3b23e5[_0x53fff7(0x452)][_0x53fff7(0xa0f)]();if(!_0x371c24){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x3996a8=_0x371c24[_0x53fff7(0x962)]('\x0a')['map'](_0x10d5cc=>_0x10d5cc['trim']())[_0x53fff7(0xb6e)](_0x3a64f2=>_0x3a64f2);if(_0x3996a8['length']===0x0)return;try{const _0x1aa97c=doc(db,_0x53fff7(0xb3f)+appId+'/public/data/projects',currentProjectId),_0x5579de=await getDoc(_0x1aa97c);if(_0x5579de[_0x53fff7(0x1fb)]()){const _0x147425=_0x5579de['data']()[_0x53fff7(0xa46)]||[],_0x59aed6=[...new Set([..._0x147425,..._0x3996a8])];await updateDoc(_0x1aa97c,{'students':_0x59aed6}),_0x3b23e5[_0x53fff7(0x452)]='';}}catch(_0x13d927){console[_0x53fff7(0x4e3)]('Error\x20adding\x20students:',_0x13d927),showMessage(_0x53fff7(0xbca));}});async function handleManualQuizPairing(_0x5f2695){const _0x2d9e73=_0x3a9f7b,_0x156221=document[_0x2d9e73(0xc0e)](_0x2d9e73(0xd60)),_0x21567c=document['getElementById'](_0x2d9e73(0xd31)),_0x29898c=_0x156221['querySelector']('h3'),_0x2a5309=document[_0x2d9e73(0xc0e)](_0x2d9e73(0x5b5)),_0x1d3d8b=document[_0x2d9e73(0xc0e)](_0x2d9e73(0xc0d));_0x29898c[_0x2d9e73(0x6fb)]='จับคู่เพื่อเปรียบเทียบผล',_0x21567c['innerHTML']=_0x2d9e73(0x163),_0x2a5309[_0x2d9e73(0x6fb)]=_0x2d9e73(0xcfb),_0x156221['classList'][_0x2d9e73(0xd08)](_0x2d9e73(0x772));const _0x44bfaa=allQuizzes['filter'](_0x5965fc=>_0x5965fc['id']!==_0x5f2695);_0x44bfaa[_0x2d9e73(0x7d2)]===0x0?(_0x21567c[_0x2d9e73(0xd5e)]=_0x2d9e73(0x709),_0x2a5309[_0x2d9e73(0x622)]=!![]):(_0x21567c[_0x2d9e73(0xd5e)]=_0x2d9e73(0x17f)+_0x44bfaa[_0x2d9e73(0x8ac)](_0x373c47=>_0x2d9e73(0x1dd)+_0x373c47['id']+'\x22>'+_0x373c47[_0x2d9e73(0x156)]+_0x2d9e73(0x17b))[_0x2d9e73(0x986)](''),_0x2a5309[_0x2d9e73(0x622)]=![]);const _0x40e0e8=async()=>{const _0x553eab=_0x2d9e73,_0x44043f=_0x21567c[_0x553eab(0x452)];if(!_0x44043f){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x2a5309['disabled']=!![],_0x2a5309['textContent']=_0x553eab(0x629);try{const _0x5f1e07=doc(db,_0x553eab(0xb3f)+appId+_0x553eab(0xb0a),_0x5f2695),_0x11ba40=doc(db,_0x553eab(0xb3f)+appId+_0x553eab(0xb0a),_0x44043f),_0x2e47f2=writeBatch(db);_0x2e47f2[_0x553eab(0xe0)](_0x5f1e07,{'pairedQuizId':_0x44043f}),_0x2e47f2[_0x553eab(0xe0)](_0x11ba40,{'pairedQuizId':_0x5f2695}),await _0x2e47f2[_0x553eab(0xd55)](),showMessage(_0x553eab(0x1a7)),_0x156221[_0x553eab(0x319)]['add'](_0x553eab(0x772));}catch(_0x3b9ddf){console[_0x553eab(0x4e3)](_0x553eab(0x9fe),_0x3b9ddf),showMessage(_0x553eab(0x552));}finally{_0x29898c['textContent']=_0x553eab(0x6ab),_0x2a5309[_0x553eab(0x6fb)]='ย้าย',_0x2a5309[_0x553eab(0x622)]=![],_0x2a5309[_0x553eab(0x3e0)](_0x553eab(0x9fd),_0x40e0e8),_0x1d3d8b[_0x553eab(0x3e0)](_0x553eab(0x9fd),_0x41091c);}},_0x41091c=()=>{const _0x187e51=_0x2d9e73;_0x156221[_0x187e51(0x319)][_0x187e51(0x930)](_0x187e51(0x772)),_0x29898c['textContent']=_0x187e51(0x6ab),_0x2a5309[_0x187e51(0x6fb)]='ย้าย',_0x2a5309[_0x187e51(0x3e0)](_0x187e51(0x9fd),_0x40e0e8),_0x1d3d8b[_0x187e51(0x3e0)](_0x187e51(0x9fd),_0x41091c);};_0x2a5309[_0x2d9e73(0x59d)]('click',_0x40e0e8),_0x1d3d8b[_0x2d9e73(0x59d)]('click',_0x41091c);}function handleDeleteStudent(_0x1996df){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x1996df+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x3f8594=_0x57a1;if(!currentProjectId||!currentProjectData)return;const _0x297e27=currentProjectData[_0x3f8594(0xa46)][_0x3f8594(0xb6e)](_0x50d0b4=>_0x50d0b4!==_0x1996df);try{const _0x24df3b=doc(db,_0x3f8594(0xb3f)+appId+_0x3f8594(0xb8e),currentProjectId),_0x147399=doc(db,_0x3f8594(0xb3f)+appId+_0x3f8594(0x827)+currentProjectId+_0x3f8594(0xc06),_0x1996df),_0x1073c8=writeBatch(db);_0x1073c8['update'](_0x24df3b,{'students':_0x297e27}),_0x1073c8[_0x3f8594(0xc4e)](_0x147399),await _0x1073c8[_0x3f8594(0xd55)]();}catch(_0xd8eae){console[_0x3f8594(0x4e3)](_0x3f8594(0xd41),_0xd8eae),showMessage(_0x3f8594(0xb43));}});}function handleDeleteAllStudents(){const _0x192993=_0x3a9f7b;showConfirmation(_0x192993(0x413),async()=>{const _0x5007b4=_0x192993;if(!currentProjectId)return;try{const _0x18f78c=doc(db,_0x5007b4(0xb3f)+appId+_0x5007b4(0xb8e),currentProjectId),_0x53e7b3=collection(db,_0x5007b4(0xb3f)+appId+_0x5007b4(0x827)+currentProjectId+_0x5007b4(0xc06)),_0x1dc6a9=await getDocs(_0x53e7b3),_0x544804=writeBatch(db);_0x544804[_0x5007b4(0xe0)](_0x18f78c,{'students':[]}),_0x1dc6a9['forEach'](_0x300344=>_0x544804[_0x5007b4(0xc4e)](_0x300344[_0x5007b4(0xc50)])),await _0x544804['commit']();}catch(_0x702930){console[_0x5007b4(0x4e3)](_0x5007b4(0x65d),_0x702930),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x42a3aa){const _0x238d30=_0x3a9f7b,_0x18b087=document[_0x238d30(0xc0e)](_0x238d30(0x1cf)),_0x50f6f5=document[_0x238d30(0xc0e)]('file-topics-list');_0x18b087[_0x238d30(0x319)]['remove'](_0x238d30(0x772)),_0x50f6f5[_0x238d30(0xd5e)]='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x4560b6=new FileReader();_0x4560b6[_0x238d30(0x2a8)](_0x42a3aa),await new Promise((_0x2230db,_0x37a38f)=>{_0x4560b6['onload']=()=>{const _0x1d5163=_0x57a1;fileDataBase64=_0x4560b6[_0x1d5163(0xbbf)][_0x1d5163(0x962)](',')[0x1],fileMimeType=_0x42a3aa['type'],_0x2230db();},_0x4560b6['onerror']=_0x14f539=>_0x37a38f(_0x14f539);});if(!fileDataBase64)throw new Error(_0x238d30(0xb65));const _0x2147e2=_0x238d30(0x75c),_0x5f5a1f={'type':_0x238d30(0x9c6),'properties':{'topics':{'type':'ARRAY','items':{'type':_0x238d30(0xfc)}}},'required':[_0x238d30(0x13e)]},_0x4aac5f=[{'text':_0x2147e2},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x498951=await handleApiCall(_0x4aac5f,_0x238d30(0x969),_0x5f5a1f,null,![]);if(_0x498951&&_0x498951[_0x238d30(0x13e)])extractedFileTopics=_0x498951[_0x238d30(0x13e)],renderFileTopics();else throw new Error(_0x238d30(0xa84));}catch(_0x499914){console[_0x238d30(0x4e3)](_0x238d30(0xd16),_0x499914),_0x50f6f5['innerHTML']=_0x238d30(0xad3)+_0x499914['message']+_0x238d30(0x71f);}}function renderFileTopics(){const _0x4bc479=_0x3a9f7b,_0x42d4ee=document[_0x4bc479(0xc0e)](_0x4bc479(0x582));if(extractedFileTopics[_0x4bc479(0x7d2)]===0x0){_0x42d4ee['innerHTML']=_0x4bc479(0xc6b);return;}_0x42d4ee[_0x4bc479(0xd5e)]=extractedFileTopics[_0x4bc479(0x8ac)](_0x42ebd6=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x42ebd6+_0x4bc479(0x1a2)+escape(_0x42ebd6)+_0x4bc479(0x5a9)+escape(_0x42ebd6)+_0x4bc479(0x2ce))[_0x4bc479(0x986)]('');}async function generateHybridQuizForTopic(_0x97aa11){const _0x1bb9a0=_0x3a9f7b,_0x3cceee=parseInt(document[_0x1bb9a0(0xc0e)](_0x1bb9a0(0x7ce))['value'],0xa),_0x7b26a1=document['getElementById']('quiz-type-select')[_0x1bb9a0(0x452)],_0x45025a=document[_0x1bb9a0(0xc0e)]('num-choices')[_0x1bb9a0(0x452)],_0x5232fe=document[_0x1bb9a0(0xc0e)](_0x1bb9a0(0x92c))[_0x1bb9a0(0x9da)],_0xd76225=_0x5232fe?_0x1bb9a0(0x85e):_0x1bb9a0(0x890);let _0x161710='',_0x339e1f;const _0x24ea80={'type':_0x1bb9a0(0x9c6),'properties':{'questionText':{'type':_0x1bb9a0(0xfc)},'options':{'type':_0x1bb9a0(0xff),'items':{'type':_0x1bb9a0(0xfc)}},'correctAnswerIndex':{'type':_0x1bb9a0(0xaec)},'explanation':{'type':_0x1bb9a0(0xfc)},'imageCode':{'type':_0x1bb9a0(0xfc)}},'required':[_0x1bb9a0(0x47c),_0x1bb9a0(0xc87),_0x1bb9a0(0xcfa),_0x1bb9a0(0x507)]},_0x955405={'type':'OBJECT','properties':{'questionText':{'type':_0x1bb9a0(0xfc)},'correctAnswer':{'type':_0x1bb9a0(0x983)},'explanation':{'type':_0x1bb9a0(0xfc)},'imageCode':{'type':'STRING'}},'required':[_0x1bb9a0(0x47c),'correctAnswer',_0x1bb9a0(0x507)]},_0x4ed4cf={'type':_0x1bb9a0(0x9c6),'properties':{'questionText':{'type':_0x1bb9a0(0xfc)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1bb9a0(0xfc)}},'required':[_0x1bb9a0(0x47c),_0x1bb9a0(0xa57),_0x1bb9a0(0x507)]},_0x322a2f={'type':_0x1bb9a0(0x9c6),'properties':{'questionType':{'type':_0x1bb9a0(0xfc),'enum':[_0x1bb9a0(0xac4)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x1bb9a0(0xfc)},'allResponses':{'type':_0x1bb9a0(0xff),'items':{'type':_0x1bb9a0(0xfc)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1bb9a0(0xfc)}},'required':['questionType',_0x1bb9a0(0x895),_0x1bb9a0(0x3a1),_0x1bb9a0(0xcc7),_0x1bb9a0(0x507)]};switch(_0x7b26a1){case _0x1bb9a0(0x211):_0x161710='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x45025a+'\x20ตัวเลือก)',_0x339e1f=_0x24ea80;break;case _0x1bb9a0(0x56e):_0x161710='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x339e1f=_0x955405;break;case'fill_in_no_choices':_0x161710=_0x1bb9a0(0x918),_0x339e1f=_0x4ed4cf;break;case _0x1bb9a0(0x97f):_0x161710=_0x1bb9a0(0x415),_0x339e1f=_0x322a2f;break;case _0x1bb9a0(0x44b):_0x161710=_0x1bb9a0(0xa61)+_0x45025a+_0x1bb9a0(0xca9),_0x339e1f=_0x24ea80;break;default:_0x161710=_0x1bb9a0(0x53a)+_0x45025a+'\x20ตัวเลือก)',_0x339e1f=_0x24ea80;break;}const _0x4408c0=_0x1bb9a0(0x7ae),_0x49885e=document['getElementById'](_0x1bb9a0(0xa28)),_0xfa05be=document[_0x1bb9a0(0xc0e)](_0x1bb9a0(0x3c6)),_0x390e33=document['getElementById'](_0x1bb9a0(0x5cd));document[_0x1bb9a0(0xc0e)](_0x1bb9a0(0x505))[_0x1bb9a0(0x319)][_0x1bb9a0(0xd08)](_0x1bb9a0(0x772)),_0x390e33[_0x1bb9a0(0xd5e)]='',_0x49885e[_0x1bb9a0(0x319)][_0x1bb9a0(0xd08)](_0x1bb9a0(0x772)),_0xfa05be['textContent']=_0x1bb9a0(0x4c0)+_0x97aa11+_0x1bb9a0(0x338)+_0x3cceee+'\x20ข้อ...';try{const _0x2ef9bf=_0x1bb9a0(0x21d),_0x3b625b=_0x1bb9a0(0x6d4)+_0x97aa11+_0x1bb9a0(0x592)+_0x3cceee+_0x1bb9a0(0x5c2)+_0x97aa11+_0x1bb9a0(0xa98)+_0x3cceee+_0x1bb9a0(0xba6)+_0xd76225+_0x1bb9a0(0xcf5)+_0x161710+_0x1bb9a0(0x28e)+_0x4408c0+_0x1bb9a0(0x526)+_0x2ef9bf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x1bb9a0(0xbf5),_0x5a5a8d={'type':'OBJECT','properties':{'topic':{'type':_0x1bb9a0(0xfc)},'questions':{'type':_0x1bb9a0(0xff),'items':_0x339e1f}},'required':[_0x1bb9a0(0x156),'questions']},_0x3ca487=[{'text':_0x3b625b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x3ca487,_0x1bb9a0(0xf9)+_0x97aa11+'\x22...',_0x5a5a8d);}catch(_0xcbcba5){console[_0x1bb9a0(0x4e3)](_0x1bb9a0(0xa7e),_0xcbcba5),showMessage('เกิดข้อผิดพลาด:\x20'+_0xcbcba5['message']),_0x390e33[_0x1bb9a0(0xd5e)]=_0x1bb9a0(0x3ee);}finally{_0x49885e[_0x1bb9a0(0x319)][_0x1bb9a0(0x930)](_0x1bb9a0(0x772));}}async function handleGenerateFromFileClick(){const _0xc5a4a1=_0x3a9f7b;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x5212e2=document['getElementById'](_0xc5a4a1(0xa28)),_0x2050e4=document[_0xc5a4a1(0xc0e)](_0xc5a4a1(0x3c6)),_0x5a5b1d=document[_0xc5a4a1(0xc0e)](_0xc5a4a1(0x5cd)),_0x3025b4=document[_0xc5a4a1(0xc0e)](_0xc5a4a1(0x6da));_0x3025b4['disabled']=!![],document[_0xc5a4a1(0xc0e)]('quiz-generation-area')[_0xc5a4a1(0x319)][_0xc5a4a1(0xd08)](_0xc5a4a1(0x772)),_0x5a5b1d[_0xc5a4a1(0xd5e)]='',_0x5212e2[_0xc5a4a1(0x319)][_0xc5a4a1(0xd08)]('hidden'),_0x2050e4['textContent']=_0xc5a4a1(0x418);try{const _0x542c9e=await new Promise((_0x5f3857,_0x28ca58)=>{const _0x12a9fe=_0xc5a4a1,_0x180280=new FileReader();_0x180280[_0x12a9fe(0x2a8)](selectedFile),_0x180280[_0x12a9fe(0xd25)]=()=>_0x5f3857(_0x180280[_0x12a9fe(0xbbf)][_0x12a9fe(0x962)](',')[0x1]),_0x180280[_0x12a9fe(0xb42)]=_0x340840=>_0x28ca58(_0x340840);});await generateQuizFromFile(selectedFile['type'],_0x542c9e);}catch(_0x602471){console[_0xc5a4a1(0x4e3)]('Error\x20processing\x20file\x20for\x20AI:',_0x602471),showMessage(_0xc5a4a1(0xc7a)+_0x602471[_0xc5a4a1(0x145)]),_0x5212e2[_0xc5a4a1(0x319)][_0xc5a4a1(0x930)]('hidden'),_0x3025b4['disabled']=![];}}function autoFormatMath(_0x35b0dd){const _0x2bc29b=_0x3a9f7b;if(typeof _0x35b0dd!=='string'||!_0x35b0dd)return _0x35b0dd;const _0x141d44=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3757ba=_0x35b0dd[_0x2bc29b(0xaa1)](_0x141d44,_0x3ad223=>{return'$'+_0x3ad223['trim']()+'$';});return _0x3757ba;}function sanitizeQuizData(_0x558ee2){const _0x4e136b=_0x3a9f7b;if(!_0x558ee2||!_0x558ee2[_0x4e136b(0x9fc)])return _0x558ee2;const _0xa6326d={'imes':_0x4e136b(0xb04),'div':_0x4e136b(0x598)},_0x49907f=_0x115e7b=>{const _0x598713=_0x4e136b;if(typeof _0x115e7b!==_0x598713(0xb5a))return _0x115e7b;let _0x36b97b=_0x115e7b;for(const [_0x434e77,_0x5269f0]of Object[_0x598713(0x377)](_0xa6326d)){const _0x492ea8=new RegExp('\x5cb'+_0x434e77+'\x5cb','g');_0x36b97b=_0x36b97b[_0x598713(0xaa1)](_0x492ea8,_0x5269f0);}return _0x36b97b=_0x36b97b[_0x598713(0xaa1)](/\\\//g,'\x5cdiv'),_0x36b97b=_0x36b97b[_0x598713(0xaa1)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x598713(0x598))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x598713(0xb04))['replace'](/÷/g,_0x598713(0x598))[_0x598713(0xaa1)](/×/g,_0x598713(0xb04)),_0x36b97b=_0x36b97b[_0x598713(0xaa1)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x36b97b=autoFormatMath(_0x36b97b),_0x36b97b;};return _0x558ee2[_0x4e136b(0x156)]&&(_0x558ee2[_0x4e136b(0x156)]=_0x49907f(_0x558ee2[_0x4e136b(0x156)])),_0x558ee2['questions'][_0x4e136b(0x2d3)](_0x3a30c5=>{const _0x2cf48c=_0x4e136b;_0x3a30c5[_0x2cf48c(0x47c)]=_0x49907f(_0x3a30c5[_0x2cf48c(0x47c)]),_0x3a30c5[_0x2cf48c(0xc87)]&&(_0x3a30c5[_0x2cf48c(0xc87)]=_0x3a30c5[_0x2cf48c(0xc87)][_0x2cf48c(0x8ac)](_0x49907f)),_0x3a30c5['explanation']&&(_0x3a30c5[_0x2cf48c(0x507)]=_0x49907f(_0x3a30c5[_0x2cf48c(0x507)])),_0x3a30c5[_0x2cf48c(0x895)]&&(_0x3a30c5[_0x2cf48c(0x895)]=_0x49907f(_0x3a30c5['stem'])),_0x3a30c5['correctResponse']&&(_0x3a30c5['correctResponse']=_0x49907f(_0x3a30c5['correctResponse'])),_0x3a30c5[_0x2cf48c(0xcc7)]&&(_0x3a30c5[_0x2cf48c(0xcc7)]=_0x3a30c5[_0x2cf48c(0xcc7)]['map'](_0x49907f));}),_0x558ee2;}const simpleMathPrompt=_0x3a9f7b(0x3d9);async function handleGenerateFromLink(){const _0x219e6f=_0x3a9f7b,_0x2141e8=document[_0x219e6f(0xc0e)]('link-url-input'),_0x34af71=document[_0x219e6f(0xc0e)](_0x219e6f(0xc8c)),_0x24c68e=_0x2141e8[_0x219e6f(0x452)][_0x219e6f(0xa0f)](),_0x1b5813=_0x34af71[_0x219e6f(0x452)][_0x219e6f(0xa0f)]();if(!_0x24c68e){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x2fe77a=document['getElementById'](_0x219e6f(0xa28)),_0x44da1f=document[_0x219e6f(0xc0e)]('loader-text'),_0x10bb92=document['getElementById'](_0x219e6f(0x5cd)),_0x117397=document['getElementById'](_0x219e6f(0x5d1));document[_0x219e6f(0xc0e)](_0x219e6f(0x505))['classList'][_0x219e6f(0xd08)](_0x219e6f(0x772)),_0x10bb92['innerHTML']='',_0x2fe77a[_0x219e6f(0x319)][_0x219e6f(0xd08)](_0x219e6f(0x772)),_0x44da1f['textContent']=_0x219e6f(0xae0),_0x117397['disabled']=!![];try{const _0x469f19=_0x219e6f(0xbd5)+encodeURIComponent(_0x24c68e),_0x5b14c2=await fetch(_0x469f19);if(!_0x5b14c2['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x5b14c2['status']+')');const _0x5bb352=await _0x5b14c2['text'](),_0x286005=extractTextFromHtml(_0x5bb352);if(!_0x286005||_0x286005['length']<0x64)throw new Error(_0x219e6f(0x1e8));await generateQuiz(_0x1b5813,_0x286005);}catch(_0x261cc6){console[_0x219e6f(0x4e3)]('Error\x20generating\x20from\x20link:',_0x261cc6),showMessage(_0x219e6f(0xc89)+_0x261cc6['message']),_0x10bb92['innerHTML']=_0x219e6f(0x834);}finally{_0x2fe77a[_0x219e6f(0x319)][_0x219e6f(0x930)](_0x219e6f(0x772)),_0x117397[_0x219e6f(0x622)]=![];}}function extractTextFromHtml(_0x3fdddb){const _0x568a33=_0x3a9f7b,_0x54805a=new DOMParser()['parseFromString'](_0x3fdddb,_0x568a33(0xc70));return _0x54805a[_0x568a33(0x68f)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x568a33(0x2d3)](_0x2f4b35=>_0x2f4b35['remove']()),_0x54805a['body']['textContent']||'';}document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x723))[_0x3a9f7b(0x59d)](_0x3a9f7b(0x9fd),()=>{const _0x30a123=_0x3a9f7b,_0x480c07=document[_0x30a123(0xc0e)](_0x30a123(0xa22))['value'][_0x30a123(0xa0f)]();generateQuiz(_0x480c07,null);}),document[_0x3a9f7b(0xc0e)](_0x3a9f7b(0x678))[_0x3a9f7b(0x59d)](_0x3a9f7b(0x9fd),()=>{const _0x517317=_0x3a9f7b,_0x3e5a96=document['getElementById'](_0x517317(0xb94))[_0x517317(0x452)]['trim']();if(!_0x3e5a96){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x437c44=document['getElementById'](_0x517317(0xa22))[_0x517317(0x452)][_0x517317(0xa0f)]();generateQuiz(_0x437c44,_0x3e5a96);});async function generateQuiz(_0xf8ab09,_0x1994c2,_0x177cde=null,_0x46be42=null,_0x3f5c82=![],_0x10c4ef=null,_0xe5df0a=null,_0xe58a4a=![]){const _0x8c282a=_0x3a9f7b;let _0x481feb={};if(_0x3f5c82&&blueprintPageSettings)_0x481feb=blueprintPageSettings;else{const _0x5aa303=document['querySelectorAll'](_0x8c282a(0x9bc));_0x481feb={'quizType':document[_0x8c282a(0xc0e)](_0x8c282a(0xb44))[_0x8c282a(0x452)],'numQuestions':document[_0x8c282a(0xc0e)]('num-questions')[_0x8c282a(0x452)],'numChoices':document[_0x8c282a(0xc0e)]('num-choices')['value'],'includeImages':document['getElementById'](_0x8c282a(0x92c))['checked'],'isNormalTopic':document[_0x8c282a(0xc0e)](_0x8c282a(0xbb9))[_0x8c282a(0x9da)],'difficultyValue':document['getElementById'](_0x8c282a(0x215))['value'],'complexityValue':document['getElementById'](_0x8c282a(0xd5c))[_0x8c282a(0x452)],'selectedTopicNames':Array['from'](_0x5aa303)['map'](_0x154b5a=>_0x154b5a['value'])};}const _0xe8dd18=_0x481feb['isNormalTopic']?'':_0x8c282a(0x7c0),_0x5077b7=_0x481feb[_0x8c282a(0xcdf)]!=='auto'?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x481feb['difficultyValue']+'\x22':'',_0x4a7dcc=_0x481feb[_0x8c282a(0x95d)]!==_0x8c282a(0xcf3)?_0x8c282a(0x1ea)+_0x481feb['complexityValue']+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x2a27c9='';_0x481feb[_0x8c282a(0xab5)]&&_0x481feb[_0x8c282a(0xab5)][_0x8c282a(0x7d2)]>0x0&&(_0x2a27c9=_0x8c282a(0x2e7)+_0x481feb[_0x8c282a(0xab5)]['join'](',\x20')+'.');let _0x3b2b23='';_0x46be42&&(_0x3b2b23=_0x8c282a(0xbdc));let _0x419acd='',_0x1b52f6='',_0x1f3990,_0x51cdca='เกี่ยวกับหัวข้อ\x20\x22'+_0xf8ab09+'\x22';if(!_0xf8ab09&&_0x1994c2)_0x51cdca='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0xf8ab09&&!_0x1994c2&&(_0x51cdca=_0x8c282a(0x751));const _0x4cc23b={'type':_0x8c282a(0x9c6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x8c282a(0xff),'items':{'type':_0x8c282a(0xfc)}},'correctAnswerIndex':{'type':_0x8c282a(0xaec)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x8c282a(0xfc)}},'required':[_0x8c282a(0x47c),_0x8c282a(0xc87),_0x8c282a(0xcfa),_0x8c282a(0x507)]},_0x58f8a8={'type':_0x8c282a(0x9c6),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x8c282a(0xfc)},'explanation':{'type':_0x8c282a(0xfc)},'imageCode':{'type':_0x8c282a(0xfc)}},'required':['questionText',_0x8c282a(0xa57),'explanation']},_0x5f37bf={'type':_0x8c282a(0x9c6),'properties':{'questionText':{'type':_0x8c282a(0xfc)},'questionType':{'type':'STRING','enum':[_0x8c282a(0x211),_0x8c282a(0x2d1)]},'options':{'type':_0x8c282a(0xff),'items':{'type':_0x8c282a(0xfc)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x8c282a(0xfc)},'imageCode':{'type':_0x8c282a(0xfc)}},'required':[_0x8c282a(0x47c),_0x8c282a(0x7c7),_0x8c282a(0x507)]},_0x32bc0b={'type':'OBJECT','properties':{'questionText':{'type':_0x8c282a(0xfc)},'correctAnswer':{'type':_0x8c282a(0x983)},'explanation':{'type':_0x8c282a(0xfc)},'imageCode':{'type':_0x8c282a(0xfc)}},'required':['questionText',_0x8c282a(0x13c),_0x8c282a(0x507)]},_0x2289d9={'type':'OBJECT','properties':{'questionType':{'type':_0x8c282a(0xfc),'enum':['matching_item']},'stem':{'type':_0x8c282a(0xfc)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x8c282a(0xfc)},'imageCode':{'type':_0x8c282a(0xfc)}},'required':['questionType','stem',_0x8c282a(0x3a1),'allResponses',_0x8c282a(0x507)]};let _0x3b6bc6;if(_0x177cde!==null){const _0x1b0ac2=currentQuizData[_0x8c282a(0x9fc)][_0x177cde][_0x8c282a(0x7c7)],_0x572aa4=_0x481feb[_0x8c282a(0xbfa)]?_0x8c282a(0x7e6):'';_0x419acd=_0x8c282a(0x6f1)+_0x51cdca+'\x20'+_0x2a27c9+'\x20'+_0x5077b7+_0x8c282a(0x7f5)+_0x572aa4+'\x20'+simpleMathPrompt;if(_0x1b0ac2===_0x8c282a(0x211))_0x1f3990=_0x4cc23b;else{if(_0x1b0ac2===_0x8c282a(0xac4))_0x1f3990={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x8c282a(0xac4)]},'stem':{'type':_0x8c282a(0xfc)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x8c282a(0xfc)},'imageCode':{'type':_0x8c282a(0xfc)}},'required':[_0x8c282a(0x7c7),_0x8c282a(0x895),'correctResponse','explanation']};else _0x1f3990=_0x58f8a8;}_0x3b6bc6=_0x1f3990;}else{const _0x282c10=_0x481feb[_0x8c282a(0xbfa)]?_0x8c282a(0xa87):'';switch(_0x481feb[_0x8c282a(0xc6c)]){case _0x8c282a(0x211):_0x419acd=_0x8c282a(0xc84)+_0xe8dd18+'\x20'+_0x481feb[_0x8c282a(0x4a1)]+'\x20ข้อ\x20'+_0x51cdca+'\x20'+_0x2a27c9+'\x20'+_0x5077b7+'\x20'+_0x4a7dcc+'\x20'+_0x3b2b23+'.\x20แต่ละข้อมี\x20'+_0x481feb['numChoices']+_0x8c282a(0x894)+_0x282c10+'\x20'+simpleMathPrompt,_0x1f3990=_0x4cc23b;break;case _0x8c282a(0x44b):_0x419acd=_0x8c282a(0x228)+_0xe8dd18+'\x20'+_0x481feb[_0x8c282a(0x4a1)]+_0x8c282a(0xd7f)+_0x51cdca+'\x20'+_0x2a27c9+'\x20'+_0x5077b7+'\x20'+_0x4a7dcc+'\x20'+_0x3b2b23+_0x8c282a(0x136)+_0x481feb[_0x8c282a(0x4b1)]+_0x8c282a(0xa25)+_0x282c10+'\x20'+simpleMathPrompt,_0x1f3990=_0x4cc23b;break;case _0x8c282a(0x61f):_0x419acd=_0x8c282a(0x228)+_0xe8dd18+'\x20'+_0x481feb['numQuestions']+_0x8c282a(0xd7f)+_0x51cdca+'\x20'+_0x2a27c9+'\x20'+_0x5077b7+'\x20'+_0x4a7dcc+'\x20'+_0x3b2b23+_0x8c282a(0x83d)+_0x282c10+'\x20'+simpleMathPrompt,_0x1f3990=_0x58f8a8;break;case _0x8c282a(0xcf3):_0x419acd='สร้างแบบทดสอบ'+_0xe8dd18+'\x20'+_0x481feb[_0x8c282a(0x4a1)]+_0x8c282a(0xd7f)+_0x51cdca+'\x20'+_0x2a27c9+'\x20'+_0x5077b7+'\x20'+_0x4a7dcc+'\x20'+_0x3b2b23+_0x8c282a(0x1da)+_0x481feb[_0x8c282a(0x4b1)]+'\x20ตัวเลือก.\x20'+_0x282c10+'\x20'+simpleMathPrompt+'.',_0x1f3990=_0x5f37bf;break;case'true_false':_0x419acd=_0x8c282a(0xab6)+_0xe8dd18+'\x20'+_0x481feb[_0x8c282a(0x4a1)]+_0x8c282a(0xd7f)+_0x51cdca+'\x20'+_0x2a27c9+'\x20'+_0x5077b7+'\x20'+_0x4a7dcc+'\x20'+_0x3b2b23+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x282c10+'\x20'+simpleMathPrompt,_0x1f3990=_0x32bc0b;break;case _0x8c282a(0x97f):_0x419acd=_0x8c282a(0x429)+_0xe8dd18+'\x20'+_0x481feb['numQuestions']+_0x8c282a(0xbab)+_0x51cdca+'\x20'+_0x2a27c9+'\x20'+_0x5077b7+'\x20'+_0x4a7dcc+'\x20'+_0x3b2b23+_0x8c282a(0x96d)+_0x282c10+'\x20'+simpleMathPrompt,_0x1f3990=_0x2289d9;break;}_0x3b6bc6={'type':'OBJECT','properties':{'topic':{'type':_0x8c282a(0xfc)},'questions':{'type':_0x8c282a(0xff),'items':_0x1f3990}},'required':[_0x8c282a(0x156),'questions']};}const _0xc5f337=_0x8c282a(0x170);_0x1994c2?(_0xe58a4a?_0x419acd=_0x8c282a(0x77f)+_0x1994c2+'\x22,\x20'+_0x419acd+_0xc5f337:_0x419acd='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x1994c2+_0x8c282a(0x9ab)+_0x419acd,_0x1b52f6=_0x8c282a(0x2cc)):(_0xe58a4a&&(_0x419acd+=_0xc5f337),_0x1b52f6=_0x8c282a(0x33c));let _0x9661ce;return _0x46be42?(_0x9661ce=[{'text':_0x419acd},..._0x46be42],_0x1b52f6=_0x8c282a(0x42d)):_0x9661ce=_0x419acd,handleApiCall(_0x9661ce,_0x1b52f6,_0x3b6bc6,_0x177cde,!![],_0x10c4ef,_0xe5df0a);}async function generateQuizFromFile(_0x466db3,_0x38c28e){const _0x214b74=_0x3a9f7b,_0x1d9cbd=document[_0x214b74(0xc0e)]('file-topic-input')[_0x214b74(0x452)][_0x214b74(0xa0f)](),_0xa83c6e=document['getElementById'](_0x214b74(0xb44))[_0x214b74(0x452)],_0x180bc5=document['getElementById'](_0x214b74(0x7ce))[_0x214b74(0x452)],_0x1bbe27=document[_0x214b74(0xc0e)](_0x214b74(0x238))[_0x214b74(0x452)],_0x271a7a=document['getElementById'](_0x214b74(0x92c))['checked'],_0x326fc=document[_0x214b74(0xc0e)](_0x214b74(0xbb9))[_0x214b74(0x9da)],_0x31280d=_0x326fc?'':_0x214b74(0x7c0),_0x2cfe18=document[_0x214b74(0xc0e)](_0x214b74(0x79c))[_0x214b74(0x9da)];let _0x5aec7e='',_0x54d275;const _0x2593d6=_0x271a7a?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x2cfe18)_0x5aec7e='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x2593d6+'\x0a'+simpleMathPrompt+'\x0a',_0x54d275={'type':_0x214b74(0x9c6),'properties':{'questionText':{'type':_0x214b74(0xfc)},'questionType':{'type':'STRING','enum':[_0x214b74(0x211),'short_answer',_0x214b74(0x56e),'matching_item']},'options':{'type':_0x214b74(0xff),'items':{'type':_0x214b74(0xfc)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x214b74(0xfc)},'correctAnswer':{'type':_0x214b74(0x983)},'stem':{'type':_0x214b74(0xfc)},'correctResponse':{'type':_0x214b74(0xfc)},'allResponses':{'type':_0x214b74(0xff),'items':{'type':_0x214b74(0xfc)}},'explanation':{'type':_0x214b74(0xfc)},'imageCode':{'type':'STRING'}},'required':[_0x214b74(0x7c7),'explanation']};else{let _0x4cfe76=_0x214b74(0xd70)+_0x1d9cbd+'\x22';!_0x1d9cbd&&(_0x4cfe76='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0xa83c6e){case _0x214b74(0x211):_0x5aec7e=_0x214b74(0xc84)+_0x31280d+'\x20'+_0x180bc5+_0x214b74(0xd7f)+_0x4cfe76+'.\x20แต่ละข้อมี\x20'+_0x1bbe27+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x2593d6+'\x20'+simpleMathPrompt,_0x54d275={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x214b74(0xff),'items':{'type':_0x214b74(0xfc)}},'correctAnswerIndex':{'type':_0x214b74(0xaec)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x214b74(0x47c),_0x214b74(0xc87),'correctAnswerIndex',_0x214b74(0x507)]};break;case _0x214b74(0x44b):_0x5aec7e=_0x214b74(0x228)+_0x31280d+'\x20'+_0x180bc5+'\x20ข้อ\x20'+_0x4cfe76+_0x214b74(0x136)+_0x1bbe27+_0x214b74(0xa25)+_0x2593d6+'\x20'+simpleMathPrompt,_0x54d275={'type':_0x214b74(0x9c6),'properties':{'questionText':{'type':_0x214b74(0xfc)},'options':{'type':_0x214b74(0xff),'items':{'type':_0x214b74(0xfc)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x214b74(0xfc)},'imageCode':{'type':_0x214b74(0xfc)}},'required':[_0x214b74(0x47c),_0x214b74(0xc87),_0x214b74(0xcfa),_0x214b74(0x507)]};break;case'fill_in_no_choices':_0x5aec7e=_0x214b74(0x228)+_0x31280d+'\x20'+_0x180bc5+_0x214b74(0xd7f)+_0x4cfe76+_0x214b74(0x181)+_0x2593d6+'\x20'+simpleMathPrompt,_0x54d275={'type':_0x214b74(0x9c6),'properties':{'questionText':{'type':_0x214b74(0xfc)},'idealAnswer':{'type':_0x214b74(0xfc)},'explanation':{'type':_0x214b74(0xfc)},'imageCode':{'type':'STRING'}},'required':[_0x214b74(0x47c),_0x214b74(0xa57),_0x214b74(0x507)]};break;case'mixed':_0x5aec7e=_0x214b74(0xabc)+_0x31280d+'\x20'+_0x180bc5+_0x214b74(0xd7f)+_0x4cfe76+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x1bbe27+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x2593d6+'\x20'+simpleMathPrompt+_0x214b74(0xc8d),_0x54d275={'type':_0x214b74(0x9c6),'properties':{'questionText':{'type':_0x214b74(0xfc)},'questionType':{'type':_0x214b74(0xfc),'enum':[_0x214b74(0x211),_0x214b74(0x2d1)]},'options':{'type':_0x214b74(0xff),'items':{'type':_0x214b74(0xfc)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x214b74(0xfc)},'explanation':{'type':_0x214b74(0xfc)},'imageCode':{'type':_0x214b74(0xfc)}},'required':[_0x214b74(0x47c),_0x214b74(0x7c7),_0x214b74(0x507)]};break;case'true_false':_0x5aec7e=_0x214b74(0xab6)+_0x31280d+'\x20'+_0x180bc5+_0x214b74(0xd7f)+_0x4cfe76+_0x214b74(0xaea)+_0x2593d6+'\x20'+simpleMathPrompt,_0x54d275={'type':_0x214b74(0x9c6),'properties':{'questionText':{'type':_0x214b74(0xfc)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x214b74(0x47c),_0x214b74(0x13c),_0x214b74(0x507)]};break;case _0x214b74(0x97f):_0x5aec7e=_0x214b74(0x429)+_0x31280d+'\x20'+_0x180bc5+_0x214b74(0xbab)+_0x4cfe76+_0x214b74(0x7c6)+_0x180bc5+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x2593d6+'\x20'+simpleMathPrompt,_0x54d275={'type':_0x214b74(0x9c6),'properties':{'questionType':{'type':_0x214b74(0xfc),'enum':[_0x214b74(0xac4)]},'stem':{'type':_0x214b74(0xfc)},'correctResponse':{'type':_0x214b74(0xfc)},'allResponses':{'type':_0x214b74(0xff),'items':{'type':_0x214b74(0xfc)}},'explanation':{'type':_0x214b74(0xfc)},'imageCode':{'type':_0x214b74(0xfc)}},'required':[_0x214b74(0x7c7),_0x214b74(0x895),'correctResponse','allResponses',_0x214b74(0x507)]};break;}}const _0x10663d={'type':_0x214b74(0x9c6),'properties':{'topic':{'type':_0x214b74(0xfc)},'questions':{'type':_0x214b74(0xff),'items':_0x54d275}},'required':['topic',_0x214b74(0x9fc)]},_0x256d60='จากไฟล์ที่แนบมานี้,\x20'+_0x5aec7e,_0x2d62da={'contents':[{'parts':[{'text':_0x256d60},{'inlineData':{'mimeType':_0x466db3,'data':_0x38c28e}}]}],'generationConfig':{'responseMimeType':_0x214b74(0x1a0),'responseSchema':_0x10663d}};return handleApiCall(_0x2d62da['contents'][0x0]['parts'],_0x214b74(0x83a),_0x10663d);}async function handleApiCall(_0x4bd39d,_0x570cc4,_0x4af35b,_0x5195ba=null,_0x5c361a=!![],_0x3057c6=null,_0x457f18=null){const _0x186a7b=_0x3a9f7b,_0x50cc1b=document[_0x186a7b(0xc0e)](_0x186a7b(0x505)),_0xa08dfb=document[_0x186a7b(0xc0e)](_0x186a7b(0xa28)),_0x18c8ea=document[_0x186a7b(0xc0e)](_0x186a7b(0x3c6)),_0x46529a=document['getElementById'](_0x186a7b(0x5cd));_0x50cc1b['classList'][_0x186a7b(0xd08)]('hidden');_0x5195ba===null&&_0x5c361a&&(_0x46529a[_0x186a7b(0xd5e)]='');_0xa08dfb['classList'][_0x186a7b(0xd08)](_0x186a7b(0x772)),_0x18c8ea[_0x186a7b(0x6fb)]=_0x570cc4,document['getElementById'](_0x186a7b(0x723))[_0x186a7b(0x622)]=!![],document['getElementById'](_0x186a7b(0x678))['disabled']=!![],document[_0x186a7b(0xc0e)]('generate-from-link-btn')['disabled']=!![];const _0x23de13=document[_0x186a7b(0xc0e)](_0x186a7b(0x6da));if(_0x23de13)_0x23de13['disabled']=!![];const _0x5249be=document[_0x186a7b(0xc0e)]('generate-from-blueprint-btn');if(_0x5249be)_0x5249be[_0x186a7b(0x622)]=!![];const _0x10f253=document[_0x186a7b(0xc0e)]('generate-from-parallel-test-btn');if(_0x10f253)_0x10f253[_0x186a7b(0x622)]=!![];try{const _0x122269=Array[_0x186a7b(0x8d0)](_0x4bd39d)?_0x4bd39d:[{'text':_0x4bd39d}],_0x3166f4={'contents':[{'role':_0x186a7b(0x37e),'parts':_0x122269}]};_0x4af35b&&(_0x3166f4[_0x186a7b(0x127)]={'responseMimeType':_0x186a7b(0x1a0),'responseSchema':_0x4af35b});const _0x4d8cb1=_0x186a7b(0x9c4),_0x3b6620=_0x186a7b(0x7e1)+_0x4d8cb1,_0x1f6ad6=await fetch(_0x3b6620,{'method':_0x186a7b(0x68a),'headers':{'Content-Type':_0x186a7b(0x1a0)},'body':JSON[_0x186a7b(0x272)](_0x3166f4)});if(!_0x1f6ad6['ok']){const _0x53054e=await _0x1f6ad6[_0x186a7b(0xbbd)]();console[_0x186a7b(0x4e3)]('API\x20Error\x20Response:',_0x53054e);throw new Error(_0x186a7b(0x92a)+_0x1f6ad6[_0x186a7b(0x896)]);}const _0x1b1bea=await _0x1f6ad6[_0x186a7b(0xc5d)]();if(!_0x1b1bea['candidates']||_0x1b1bea[_0x186a7b(0x2fe)]['length']===0x0){let _0x379c62='AI\x20did\x20not\x20return\x20any\x20content.';return _0x1b1bea['promptFeedback']?.['blockReason']&&(_0x379c62=_0x186a7b(0x831)+_0x1b1bea['promptFeedback']['blockReason']+'.'),console[_0x186a7b(0x4e3)](_0x379c62,JSON[_0x186a7b(0x272)](_0x1b1bea)),null;}const _0x3e3e63=_0x1b1bea[_0x186a7b(0x2fe)][0x0][_0x186a7b(0xcda)]['parts'][0x0]['text'];if(_0x4af35b){let _0x38923d=_0x3e3e63;if(_0x38923d[_0x186a7b(0x23e)]('```json'))_0x38923d=_0x38923d[_0x186a7b(0x3b5)](0x7,_0x38923d['length']-0x3)[_0x186a7b(0xa0f)]();else _0x38923d['startsWith'](_0x186a7b(0xa80))&&(_0x38923d=_0x38923d[_0x186a7b(0x3b5)](0x3,_0x38923d[_0x186a7b(0x7d2)]-0x3)['trim']());let _0x61e8e9=JSON[_0x186a7b(0x7da)](_0x38923d);if(_0x5c361a){if(_0x5195ba!==null){}else currentQuizData=_0x61e8e9,displayGeneratedQuiz(currentQuizData,_0x3057c6,_0x457f18);}return _0x61e8e9;}else return _0x3e3e63;}catch(_0x241fd8){console[_0x186a7b(0x4e3)](_0x186a7b(0xf5),_0x241fd8),showMessage(_0x186a7b(0x3cf)+_0x241fd8[_0x186a7b(0x145)]);_0x5c361a&&(_0x46529a[_0x186a7b(0xd5e)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x241fd8;}finally{_0xa08dfb['classList'][_0x186a7b(0x930)](_0x186a7b(0x772)),document[_0x186a7b(0xc0e)]('generate-from-topic-btn')[_0x186a7b(0x622)]=![],document[_0x186a7b(0xc0e)]('generate-from-text-btn')['disabled']=![],document[_0x186a7b(0xc0e)](_0x186a7b(0x5d1))['disabled']=![];if(_0x23de13)_0x23de13[_0x186a7b(0x622)]=![];if(_0x5249be)_0x5249be[_0x186a7b(0x622)]=![];if(_0x10f253)_0x10f253[_0x186a7b(0x622)]=![];}}function exitFullscreen(){const _0x22cec7=_0x3a9f7b;if(document['exitFullscreen'])document[_0x22cec7(0x858)]()['catch'](_0x9f4782=>console[_0x22cec7(0x4e3)](_0x9f4782));else{if(document[_0x22cec7(0x2bd)])document[_0x22cec7(0x2bd)]();else document[_0x22cec7(0x912)]&&document[_0x22cec7(0x912)]();}}function enterFullscreen(){const _0x464be5=_0x3a9f7b,_0x4cd367=document[_0x464be5(0x853)];if(_0x4cd367[_0x464be5(0x292)])_0x4cd367['requestFullscreen']()['catch'](_0x4ee79a=>{const _0x3f05ee=_0x464be5;console[_0x3f05ee(0x4e3)](_0x3f05ee(0x641)+_0x4ee79a['message']+'\x20('+_0x4ee79a[_0x3f05ee(0x58e)]+')');});else{if(_0x4cd367[_0x464be5(0xa7f)])_0x4cd367[_0x464be5(0xa7f)]();else _0x4cd367[_0x464be5(0x167)]&&_0x4cd367[_0x464be5(0x167)]();}}function handleCheatingEvent(){const _0x5c0144=_0x3a9f7b;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x5c0144(0x988)),document[_0x5c0144(0xc0e)](_0x5c0144(0xd3f))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x5c0144(0x3e0)](_0x5c0144(0xa66),handleVisibilityChange),document[_0x5c0144(0x3e0)](_0x5c0144(0x6fe),handleFullscreenChange)):showMessage(_0x5c0144(0x81a)+cheatAttempts+'/'+maxCheatAttempts+_0x5c0144(0x601),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x698401=_0x3a9f7b;if(currentMode===_0x698401(0x35f)||!isQuizActive)return;if(document[_0x698401(0x721)]==='hidden')handleCheatingEvent();else document[_0x698401(0x721)]===_0x698401(0x9e3)&&(console['log']('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x14537e=_0x3a9f7b;if(currentMode===_0x14537e(0x35f)||!isQuizActive)return;!document[_0x14537e(0x2ee)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4a019f,_0x2e958f=null,_0x2a2c03=null){const _0x17b67c=_0x3a9f7b,_0x2d66e1=document[_0x17b67c(0xc0e)](_0x17b67c(0x5cd));let _0x4a08e6=_0x17b67c(0x504)+_0x4a019f[_0x17b67c(0x156)]+_0x17b67c(0x7f3);_0x4a019f[_0x17b67c(0x9fc)][_0x17b67c(0x2d3)]((_0x37e4c2,_0x15a3f8)=>{const _0x1aeccd=_0x17b67c;!_0x37e4c2['id']&&(_0x37e4c2['id']='q_'+Date['now']()+'_'+_0x15a3f8);const _0x376a71=_0x37e4c2[_0x1aeccd(0x7c7)]||_0x4a019f[_0x1aeccd(0xc6c)];_0x4a08e6+=_0x1aeccd(0x13f)+_0x15a3f8+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x15a3f8+_0x1aeccd(0x9de)+_0x15a3f8+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x376a71){case'matching_item':_0x4a08e6+=_0x1aeccd(0xbf1)+_0x15a3f8+'\x22>'+(_0x15a3f8+0x1)+'.\x20'+_0x37e4c2[_0x1aeccd(0x895)]+'</p>';_0x37e4c2[_0x1aeccd(0x3c5)]&&(_0x4a08e6+='<div\x20id=\x22q-image-container-'+_0x15a3f8+_0x1aeccd(0x50a)+_0x37e4c2['imageCode']+_0x1aeccd(0x7f6));_0x4a08e6+=_0x1aeccd(0x72a)+_0x15a3f8+'\x22>'+_0x37e4c2[_0x1aeccd(0x3a1)]+_0x1aeccd(0x9a6),_0x4a08e6+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x15a3f8+'\x22>'+_0x37e4c2[_0x1aeccd(0x507)]+_0x1aeccd(0x9a6);break;case _0x1aeccd(0x2d1):_0x4a08e6+=_0x1aeccd(0xbf1)+_0x15a3f8+'\x22>'+(_0x15a3f8+0x1)+'.\x20'+_0x37e4c2[_0x1aeccd(0x47c)]+_0x1aeccd(0x71f);_0x37e4c2['imageCode']&&(_0x4a08e6+=_0x1aeccd(0xe1)+_0x15a3f8+_0x1aeccd(0x50a)+_0x37e4c2[_0x1aeccd(0x3c5)]+'</div>');_0x4a08e6+=_0x1aeccd(0x41f)+_0x15a3f8+'\x22>'+_0x37e4c2[_0x1aeccd(0xa57)]+_0x1aeccd(0x9a6),_0x4a08e6+=_0x1aeccd(0x2d4)+_0x15a3f8+'\x22>'+_0x37e4c2[_0x1aeccd(0x507)]+_0x1aeccd(0x9a6);break;case _0x1aeccd(0x56e):_0x4a08e6+=_0x1aeccd(0xbf1)+_0x15a3f8+'\x22>'+(_0x15a3f8+0x1)+'.\x20'+_0x37e4c2[_0x1aeccd(0x47c)]+_0x1aeccd(0x71f);_0x37e4c2['imageCode']&&(_0x4a08e6+=_0x1aeccd(0xe1)+_0x15a3f8+_0x1aeccd(0x50a)+_0x37e4c2[_0x1aeccd(0x3c5)]+'</div>');_0x4a08e6+=_0x1aeccd(0x9e4)+(_0x37e4c2[_0x1aeccd(0x13c)]===!![]?'text-green-600\x20font-bold':'')+_0x1aeccd(0xc1a)+(_0x37e4c2['correctAnswer']===![]?'text-green-600\x20font-bold':'')+_0x1aeccd(0x172),_0x4a08e6+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x15a3f8+'\x22>'+_0x37e4c2[_0x1aeccd(0x507)]+_0x1aeccd(0x9a6);break;case _0x1aeccd(0xbe9):case _0x1aeccd(0x211):default:_0x4a08e6+=_0x1aeccd(0xbf1)+_0x15a3f8+'\x22>'+(_0x15a3f8+0x1)+'.\x20'+_0x37e4c2[_0x1aeccd(0x47c)]+_0x1aeccd(0x71f);_0x37e4c2['imageCode']&&(_0x4a08e6+='<div\x20id=\x22q-image-container-'+_0x15a3f8+_0x1aeccd(0x50a)+_0x37e4c2[_0x1aeccd(0x3c5)]+_0x1aeccd(0x7f6));_0x4a08e6+=_0x1aeccd(0xc27)+_0x15a3f8+_0x1aeccd(0x7ca)+(_0x37e4c2[_0x1aeccd(0xc87)]||[])[_0x1aeccd(0x8ac)]((_0x5b71bb,_0xdd40df)=>_0x1aeccd(0x465)+(_0xdd40df===_0x37e4c2[_0x1aeccd(0xcfa)]?_0x1aeccd(0xb6f):'')+'\x22>'+_0x5b71bb+_0x1aeccd(0xc12))[_0x1aeccd(0x986)]('')+_0x1aeccd(0x9ff),_0x4a08e6+=_0x1aeccd(0x2d4)+_0x15a3f8+'\x22>'+_0x37e4c2[_0x1aeccd(0x507)]+_0x1aeccd(0x9a6);break;}_0x4a08e6+='</div>';}),_0x4a08e6+=_0x17b67c(0xa8d),_0x2d66e1[_0x17b67c(0xd5e)]=_0x4a08e6,document['querySelectorAll'](_0x17b67c(0x86d))['forEach'](_0x4203bd=>_0x4203bd[_0x17b67c(0x59d)](_0x17b67c(0x9fd),handleEditQuestion)),document[_0x17b67c(0x68f)]('.regenerate-question-btn')[_0x17b67c(0x2d3)](_0x2cf371=>_0x2cf371[_0x17b67c(0x59d)](_0x17b67c(0x9fd),handleRegenerateQuestion)),document[_0x17b67c(0xc0e)](_0x17b67c(0x6fa))[_0x17b67c(0x59d)](_0x17b67c(0x9fd),exportQuizAsWorksheetPDF),document[_0x17b67c(0xc0e)](_0x17b67c(0x18c))['addEventListener'](_0x17b67c(0x9fd),handleVerifyAnswers);const _0x4f6611=document[_0x17b67c(0xc0e)](_0x17b67c(0x540));if(_0x4f6611){const _0x88d4a2=_0x2e958f||currentProjectId;_0x4f6611[_0x17b67c(0x59d)](_0x17b67c(0x9fd),()=>saveQuiz(_0x88d4a2,_0x2a2c03));}if(window[_0x17b67c(0x6e3)])window[_0x17b67c(0x6e3)][_0x17b67c(0x16c)]([_0x2d66e1]);}function handleRegenerateQuestion(_0x5e9d3f){const _0x411baf=_0x3a9f7b,_0x354d7e=_0x5e9d3f[_0x411baf(0xa58)][_0x411baf(0x5e8)][_0x411baf(0x21c)],_0x311267=currentQuizData[_0x411baf(0x156)];showMessage(_0x411baf(0x3c0)+(parseInt(_0x354d7e)+0x1)+'\x20ใหม่...'),generateQuiz(_0x311267,null,parseInt(_0x354d7e));}function getPointerPosition(_0x1aaede,_0x5d78c0){const _0x1c4a5d=_0x3a9f7b,_0x4b4fa4=_0x1aaede['getScreenCTM']();let _0x2972fe,_0x3f0882;return _0x5d78c0['touches']&&_0x5d78c0[_0x1c4a5d(0x1e2)]['length']>0x0?(_0x2972fe=_0x5d78c0['touches'][0x0][_0x1c4a5d(0xbb)],_0x3f0882=_0x5d78c0[_0x1c4a5d(0x1e2)][0x0][_0x1c4a5d(0x86b)]):(_0x2972fe=_0x5d78c0[_0x1c4a5d(0xbb)],_0x3f0882=_0x5d78c0[_0x1c4a5d(0x86b)]),{'x':(_0x2972fe-_0x4b4fa4['e'])/_0x4b4fa4['a'],'y':(_0x3f0882-_0x4b4fa4['f'])/_0x4b4fa4['d']};}function startDrag(_0x57b6ab){const _0xd9f27d=_0x3a9f7b;_0x57b6ab[_0xd9f27d(0xbd2)]===_0xd9f27d(0x932)&&_0x57b6ab['preventDefault']();const _0x4f4f7d=_0x57b6ab['target'][_0xd9f27d(0x190)]('.draggable-text');if(_0x4f4f7d){draggedSvgElement=_0x4f4f7d;const _0x46e439=draggedSvgElement[_0xd9f27d(0xd29)],_0x440164=getPointerPosition(_0x46e439,_0x57b6ab);svgOffset['x']=_0x440164['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x440164['y']-parseFloat(draggedSvgElement[_0xd9f27d(0x978)](null,'y'));}}function calculateItemAnalysis(_0x818141,_0x12b1d8){const _0x35cf94=_0x3a9f7b,_0xa98c57={};if(_0x12b1d8[_0x35cf94(0x7d2)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x3ca15f=[..._0x12b1d8][_0x35cf94(0x3fc)]((_0x4d0bbc,_0x32f4fe)=>{const _0x4c49a1=_0x35cf94,_0x64fa11=_0x32f4fe[_0x4c49a1(0x320)]-_0x4d0bbc[_0x4c49a1(0x320)];if(_0x64fa11!==0x0)return _0x64fa11;const _0x2cc812=_0x4d0bbc[_0x4c49a1(0x57c)]?.['length']||0x1,_0x5b952e=_0x32f4fe[_0x4c49a1(0x57c)]?.[_0x4c49a1(0x7d2)]||0x1,_0x535c84=_0x2cc812-_0x5b952e;if(_0x535c84!==0x0)return _0x535c84;const _0x51d67a=new Date(_0x4d0bbc[_0x4c49a1(0x3dc)]),_0x19b9e9=new Date(_0x32f4fe[_0x4c49a1(0x3dc)]),_0x34a3da=_0x51d67a-_0x19b9e9;if(_0x34a3da!==0x0)return _0x34a3da;return _0x4d0bbc[_0x4c49a1(0xbba)][_0x4c49a1(0xae5)](_0x32f4fe[_0x4c49a1(0xbba)],'th');}),_0x5984d0=_0x3ca15f[_0x35cf94(0x7d2)],_0x22ec54=Math['max'](0x1,Math[_0x35cf94(0x48b)](_0x5984d0*0.33));if(_0x22ec54===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2ba1e1=_0x3ca15f[_0x35cf94(0x3f8)](0x0,_0x22ec54),_0x3d2315=_0x3ca15f['slice'](-_0x22ec54),_0x43ddf4=_0x2ba1e1[_0x35cf94(0x8ac)](_0x3efffc=>_0x3efffc[_0x35cf94(0xbba)]),_0x4a5fa2=_0x3d2315[_0x35cf94(0x8ac)](_0x3b063d=>_0x3b063d[_0x35cf94(0xbba)]);return _0x818141['questions'][_0x35cf94(0x2d3)]((_0x5485a7,_0x26cf56)=>{const _0x2181b3=_0x35cf94,_0x2cdd2f=_0x5485a7[_0x2181b3(0x895)]||_0x5485a7[_0x2181b3(0x47c)];let _0x169dc0=0x0,_0x404daf=0x0,_0xa75594=0x0;const _0x2daeb9=[],_0x43daef=[];_0x2ba1e1['forEach'](_0x574ac6=>{const _0x39d85c=_0x2181b3,_0x58da30=_0x574ac6[_0x39d85c(0x57c)][_0x574ac6['attempts'][_0x39d85c(0x7d2)]-0x1],_0x56ab5a=_0x58da30[_0x39d85c(0xb24)][_0x39d85c(0x4b3)](_0x161918=>_0x161918[_0x39d85c(0xab3)]===_0x2cdd2f);_0x2daeb9[_0x39d85c(0x187)]({'name':_0x574ac6[_0x39d85c(0xbba)],'isCorrect':_0x56ab5a?_0x56ab5a['isCorrect']:![]}),_0x56ab5a&&_0x56ab5a[_0x39d85c(0xbe1)]&&_0x404daf++;}),_0x3d2315[_0x2181b3(0x2d3)](_0x342f7f=>{const _0x3342bf=_0x2181b3,_0x4a23b5=_0x342f7f[_0x3342bf(0x57c)][_0x342f7f[_0x3342bf(0x57c)][_0x3342bf(0x7d2)]-0x1],_0x39f468=_0x4a23b5[_0x3342bf(0xb24)][_0x3342bf(0x4b3)](_0xc8dc50=>_0xc8dc50[_0x3342bf(0xab3)]===_0x2cdd2f);_0x43daef[_0x3342bf(0x187)]({'name':_0x342f7f[_0x3342bf(0xbba)],'isCorrect':_0x39f468?_0x39f468[_0x3342bf(0xbe1)]:![]}),_0x39f468&&_0x39f468[_0x3342bf(0xbe1)]&&_0xa75594++;}),_0x12b1d8[_0x2181b3(0x2d3)](_0x5299c8=>{const _0x45a97d=_0x2181b3,_0x80f6ae=_0x5299c8['attempts'][_0x5299c8[_0x45a97d(0x57c)][_0x45a97d(0x7d2)]-0x1],_0x5a5136=_0x80f6ae[_0x45a97d(0xb24)][_0x45a97d(0x4b3)](_0x5f2208=>_0x5f2208[_0x45a97d(0xab3)]===_0x2cdd2f);_0x5a5136&&_0x5a5136[_0x45a97d(0xbe1)]&&_0x169dc0++;});const _0x5a16e0=_0x5984d0>0x0?_0x169dc0/_0x5984d0:0x0,_0x3ab05f=_0x22ec54>0x0?_0x404daf/_0x22ec54-_0xa75594/_0x22ec54:0x0;_0xa98c57[_0x26cf56]={'p':_0x5a16e0,'r':_0x3ab05f,'upperGroupResponders':_0x2daeb9,'lowerGroupResponders':_0x43daef};}),{'perQuestionStats':_0xa98c57,'overallGroups':{'upperGroupNames':_0x43ddf4,'lowerGroupNames':_0x4a5fa2}};}function drag(_0x10d615){const _0x4ffd01=_0x3a9f7b;if(draggedSvgElement){_0x10d615[_0x4ffd01(0x3eb)]();const _0x2e7f14=draggedSvgElement[_0x4ffd01(0xd29)],_0x45f87f=getPointerPosition(_0x2e7f14,_0x10d615),_0x574573=_0x2e7f14[_0x4ffd01(0xf2)][_0x4ffd01(0x63f)];let _0x1e4aeb=_0x45f87f['x']-svgOffset['x'],_0x54d5dd=_0x45f87f['y']-svgOffset['y'];const _0x22c118=draggedSvgElement[_0x4ffd01(0x558)]();_0x1e4aeb=Math['max'](_0x574573['x'],Math['min'](_0x1e4aeb,_0x574573['x']+_0x574573[_0x4ffd01(0xbee)]-_0x22c118[_0x4ffd01(0xbee)])),_0x54d5dd=Math['max'](_0x574573['y'],Math[_0x4ffd01(0xa07)](_0x54d5dd,_0x574573['y']+_0x574573[_0x4ffd01(0x65c)]-_0x22c118[_0x4ffd01(0x65c)])),draggedSvgElement[_0x4ffd01(0xd5)](null,'x',_0x1e4aeb),draggedSvgElement[_0x4ffd01(0xd5)](null,'y',_0x54d5dd);}}function endDrag(_0x5bdce5){draggedSvgElement=null;}function handleSvgEditClick(_0x4ce8ef){const _0xf00e35=_0x3a9f7b;if(_0x4ce8ef[_0xf00e35(0x697)]['classList'][_0xf00e35(0xa3b)](_0xf00e35(0xb4e))){const _0x36313f=_0x4ce8ef[_0xf00e35(0x697)]['dataset'][_0xf00e35(0x5ca)],_0x533244=_0x4ce8ef[_0xf00e35(0xa58)],_0x34f5b4=_0x533244['querySelector']('#'+_0x36313f);_0x34f5b4&&_0x34f5b4[_0xf00e35(0xd08)](),_0x4ce8ef[_0xf00e35(0x697)][_0xf00e35(0xd08)]();}}function handleEditQuestion(_0x54ccd8){const _0x4b7498=_0x3a9f7b,_0x442511=_0x54ccd8[_0x4b7498(0xa58)],_0x3e49ef=_0x442511[_0x4b7498(0x5e8)][_0x4b7498(0x21c)],_0x2b123c=currentQuizData['questions'][_0x3e49ef],_0x1dd6d7=document[_0x4b7498(0xc0e)](_0x4b7498(0x6c5)+_0x3e49ef),_0x4c65f3=document[_0x4b7498(0xc0e)](_0x4b7498(0xdd)+_0x3e49ef),_0x48f2a0=document[_0x4b7498(0xc0e)](_0x4b7498(0x94b)+_0x3e49ef);if(_0x442511[_0x4b7498(0xd5e)][_0x4b7498(0x1bc)]('fa-pen')){_0x442511[_0x4b7498(0xd5e)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x442511[_0x4b7498(0xa8e)]=_0x4b7498(0x6f6);if(_0x1dd6d7)_0x1dd6d7['contentEditable']=!![];if(_0x4c65f3)_0x4c65f3[_0x4b7498(0xacb)]=!![];if(_0x48f2a0){const _0x41b525=_0x48f2a0[_0x4b7498(0x535)](_0x4b7498(0x109));if(_0x41b525){const _0x5f5d0b=_0x41b525[_0x4b7498(0x68f)]('text');_0x5f5d0b[_0x4b7498(0x2d3)]((_0x4fc6a3,_0x4a1579)=>{const _0x5f345b=_0x4b7498,_0x5569e5='editable-text-'+_0x3e49ef+'-'+_0x4a1579;_0x4fc6a3['id']=_0x5569e5,_0x4fc6a3[_0x5f345b(0x319)][_0x5f345b(0x930)](_0x5f345b(0x514)),_0x4fc6a3['style'][_0x5f345b(0xa6f)]=_0x5f345b(0x266);const _0x38c1bb=document[_0x5f345b(0xbea)]('http://www.w3.org/2000/svg','circle'),_0x783631=_0x4fc6a3['getBBox']();_0x38c1bb[_0x5f345b(0x448)]('cx',String(_0x783631['x']+_0x783631[_0x5f345b(0xbee)]+0x5)),_0x38c1bb[_0x5f345b(0x448)]('cy',String(_0x783631['y']+_0x783631[_0x5f345b(0x65c)]/0x2-0x5)),_0x38c1bb[_0x5f345b(0x448)]('r','5'),_0x38c1bb['setAttribute']('fill','red'),_0x38c1bb[_0x5f345b(0x448)](_0x5f345b(0x634),'delete-svg-btn'),_0x38c1bb[_0x5f345b(0x5e8)][_0x5f345b(0x5ca)]=_0x5569e5,_0x4fc6a3[_0x5f345b(0xee)](_0x38c1bb);}),_0x41b525[_0x4b7498(0x59d)](_0x4b7498(0xcd5),startDrag),_0x41b525['addEventListener'](_0x4b7498(0x476),drag),_0x41b525[_0x4b7498(0x59d)](_0x4b7498(0xdc),endDrag),_0x41b525[_0x4b7498(0x59d)](_0x4b7498(0x4af),endDrag),_0x41b525[_0x4b7498(0x59d)](_0x4b7498(0x932),startDrag,{'passive':![]}),_0x41b525['addEventListener'](_0x4b7498(0xc00),drag,{'passive':![]}),_0x41b525['addEventListener'](_0x4b7498(0xb22),endDrag),_0x41b525['addEventListener'](_0x4b7498(0xd3b),endDrag),_0x41b525[_0x4b7498(0x59d)](_0x4b7498(0x9fd),handleSvgEditClick);}}if(_0x1dd6d7)_0x1dd6d7['focus']();}else{_0x442511['innerHTML']=_0x4b7498(0x122),_0x442511[_0x4b7498(0xa8e)]='แก้ไขข้อนี้';if(_0x1dd6d7){_0x1dd6d7[_0x4b7498(0xacb)]=![];const _0xff2891=_0x2b123c[_0x4b7498(0x7c7)]||currentQuizData['quizType'];_0xff2891===_0x4b7498(0xac4)?_0x2b123c[_0x4b7498(0x895)]=_0x1dd6d7[_0x4b7498(0x941)][_0x4b7498(0x3b5)](_0x1dd6d7[_0x4b7498(0x941)][_0x4b7498(0x617)]('.')+0x2)[_0x4b7498(0xa0f)]():_0x2b123c[_0x4b7498(0x47c)]=_0x1dd6d7[_0x4b7498(0x941)]['substring'](_0x1dd6d7[_0x4b7498(0x941)][_0x4b7498(0x617)]('.')+0x2)[_0x4b7498(0xa0f)]();}_0x4c65f3&&(_0x4c65f3[_0x4b7498(0xacb)]=![],_0x2b123c['explanation']=_0x4c65f3[_0x4b7498(0x941)]);if(_0x48f2a0){const _0x1f610b=_0x48f2a0[_0x4b7498(0x535)](_0x4b7498(0x109));if(_0x1f610b){const _0x5b5531=_0x1f610b[_0x4b7498(0x259)](!![]);_0x5b5531['querySelectorAll'](_0x4b7498(0x462))['forEach'](_0x12d8e5=>_0x12d8e5['remove']()),_0x5b5531[_0x4b7498(0x68f)]('.draggable-text')[_0x4b7498(0x2d3)](_0x43657e=>{const _0x9b4576=_0x4b7498;_0x43657e[_0x9b4576(0x319)][_0x9b4576(0xd08)](_0x9b4576(0x514)),_0x43657e[_0x9b4576(0x5c6)][_0x9b4576(0xa6f)]=_0x9b4576(0x419),_0x43657e[_0x9b4576(0xaf4)]('id');}),_0x2b123c[_0x4b7498(0x3c5)]=_0x5b5531[_0x4b7498(0x7fd)],_0x1f610b[_0x4b7498(0x3e0)](_0x4b7498(0xcd5),startDrag),_0x1f610b[_0x4b7498(0x3e0)](_0x4b7498(0x476),drag),_0x1f610b[_0x4b7498(0x3e0)](_0x4b7498(0xdc),endDrag),_0x1f610b[_0x4b7498(0x3e0)](_0x4b7498(0x4af),endDrag),_0x1f610b[_0x4b7498(0x3e0)](_0x4b7498(0x932),startDrag),_0x1f610b[_0x4b7498(0x3e0)](_0x4b7498(0xc00),drag),_0x1f610b[_0x4b7498(0x3e0)](_0x4b7498(0xb22),endDrag),_0x1f610b['removeEventListener'](_0x4b7498(0xd3b),endDrag),_0x1f610b[_0x4b7498(0x3e0)](_0x4b7498(0x9fd),handleSvgEditClick),_0x1f610b[_0x4b7498(0x68f)](_0x4b7498(0x462))['forEach'](_0x32bb9a=>_0x32bb9a[_0x4b7498(0xd08)]()),_0x1f610b[_0x4b7498(0x68f)]('.draggable-text')[_0x4b7498(0x2d3)](_0xf1c3a9=>{const _0x235ade=_0x4b7498;_0xf1c3a9[_0x235ade(0x319)][_0x235ade(0xd08)]('draggable-text'),_0xf1c3a9[_0x235ade(0x5c6)][_0x235ade(0xa6f)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x538d84){const _0x49f7e0=_0x3a9f7b,_0x4cff2f=document['getElementById']('quiz-editor-modal'),_0x133427=document[_0x49f7e0(0xc0e)](_0x49f7e0(0x9d0));_0x133427[_0x49f7e0(0xd5e)]=_0x49f7e0(0x91c),_0x4cff2f[_0x49f7e0(0x319)][_0x49f7e0(0xd08)](_0x49f7e0(0x772));try{const _0x471c05=doc(db,_0x49f7e0(0xb3f)+appId+_0x49f7e0(0xb0a),_0x538d84),_0x446f3b=await getDoc(_0x471c05);if(!_0x446f3b[_0x49f7e0(0x1fb)]())throw new Error(_0x49f7e0(0xb63));currentEditingQuizData={'id':_0x538d84,..._0x446f3b[_0x49f7e0(0x180)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x3ad21e){console[_0x49f7e0(0x4e3)]('Error\x20opening\x20quiz\x20editor:',_0x3ad21e),showMessage(_0x49f7e0(0x8ca)),_0x4cff2f['classList']['add'](_0x49f7e0(0x772));}}function renderQuizEditor(_0x567408){const _0x50cbb3=_0x3a9f7b;document['getElementById'](_0x50cbb3(0x64a))[_0x50cbb3(0x452)]=_0x567408['topic'];const _0x147a7c=document[_0x50cbb3(0xc0e)](_0x50cbb3(0x9d0));let _0x3898be=_0x567408['questions'][_0x50cbb3(0x8ac)]((_0xa1cb51,_0x31674e)=>{const _0x417b78=_0x50cbb3;let _0x2f5cb2='';const _0xd6059a=_0xa1cb51[_0x417b78(0x7c7)]||_0x567408[_0x417b78(0xc6c)];switch(_0xd6059a){case _0x417b78(0x211):const _0x285498=(_0xa1cb51[_0x417b78(0xc87)]||[])[_0x417b78(0x8ac)]((_0x370faf,_0x30e9fc)=>_0x417b78(0xad6)+_0x31674e+'\x22\x20value=\x22'+_0x30e9fc+'\x22\x20'+(_0x30e9fc===_0xa1cb51[_0x417b78(0xcfa)]?_0x417b78(0x9da):'')+_0x417b78(0x524)+_0x370faf+_0x417b78(0xc29))[_0x417b78(0x986)]('');_0x2f5cb2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x285498+_0x417b78(0x49b);break;case _0x417b78(0x2d1):_0x2f5cb2=_0x417b78(0x21b)+(_0xa1cb51['idealAnswer']||'')+_0x417b78(0x980);break;case _0x417b78(0x56e):_0x2f5cb2=_0x417b78(0x1fa)+_0x31674e+_0x417b78(0xd4c)+(_0xa1cb51[_0x417b78(0x13c)]===!![]?_0x417b78(0x9da):'')+_0x417b78(0xb9)+_0x31674e+_0x417b78(0x689)+(_0xa1cb51[_0x417b78(0x13c)]===![]?'checked':'')+_0x417b78(0x92d);break;case _0x417b78(0xac4):_0x2f5cb2=_0x417b78(0x240)+(_0xa1cb51[_0x417b78(0x3a1)]||'')+_0x417b78(0xa10);break;}let _0x2d4913=_0xa1cb51[_0x417b78(0x47c)]||_0xa1cb51[_0x417b78(0x895)]||'';return _0x2d4913=_0x2d4913[_0x417b78(0xaa1)](/<br\s*\/?>/gi,'\x0a'),'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x31674e+_0x417b78(0x40e)+_0xd6059a+_0x417b78(0xb48)+(_0x31674e+0x1)+'\x20('+_0xd6059a+_0x417b78(0x4b5)+_0x2d4913+_0x417b78(0x2be)+_0x2f5cb2+'</div>\x0a</div>\x0a';})[_0x50cbb3(0x986)]('');_0x147a7c[_0x50cbb3(0xd5e)]=_0x3898be;const _0x504bf6=_0x50cbb3(0x850);_0x147a7c[_0x50cbb3(0x596)](_0x50cbb3(0x5d0),_0x504bf6),_0x147a7c['querySelectorAll'](_0x50cbb3(0x1e1))['forEach'](_0x1113b0=>{const _0xf14764=_0x50cbb3;_0x1113b0[_0xf14764(0x5c6)]['overflowY']='hidden',_0x1113b0[_0xf14764(0x5c6)]['minHeight']='100px',_0x1113b0[_0xf14764(0xc57)]=0x4;const _0x2cfc3a=()=>{const _0x1bbcf5=_0xf14764;_0x1113b0[_0x1bbcf5(0x5c6)]['height']=_0x1bbcf5(0xcab),_0x1113b0['style']['height']=_0x1113b0[_0x1bbcf5(0x406)]+'px';};_0x1113b0[_0xf14764(0x59d)]('input',_0x2cfc3a),_0x2cfc3a();}),_0x147a7c[_0x50cbb3(0x68f)]('.ai-fix-question-btn')[_0x50cbb3(0x2d3)](_0x5d9e65=>{const _0x55f685=_0x50cbb3;_0x5d9e65[_0x55f685(0x59d)]('click',handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x2158ab){const _0x23c780=_0x3a9f7b;if(!currentEditingQuizData||!currentEditingQuizData[_0x23c780(0x9fc)][_0x2158ab])return;const _0xd7341c=currentEditingQuizData[_0x23c780(0x9fc)][_0x2158ab][_0x23c780(0x47c)]||currentEditingQuizData['questions'][_0x2158ab][_0x23c780(0x895)];showConfirmation(_0x23c780(0xa5a)+(_0x2158ab+0x1)+'\x20(\x22'+_0xd7341c['substring'](0x0,0x14)+_0x23c780(0x1e4),()=>{const _0x391fdc=_0x23c780;currentEditingQuizData[_0x391fdc(0x9fc)][_0x391fdc(0xef)](_0x2158ab,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x391fdc(0xb10));});}function handleAddQuestionInEditor(){const _0x42fc81=_0x3a9f7b;if(!currentEditingQuizData)return;const _0x392073={'id':'q_'+Date[_0x42fc81(0x62e)]()+_0x42fc81(0x33d),'questionType':_0x42fc81(0x211),'questionText':_0x42fc81(0x1ce),'options':[_0x42fc81(0xb98),'ตัวเลือก\x20ข',_0x42fc81(0x841),_0x42fc81(0x899)],'correctAnswerIndex':0x0,'explanation':'คำอธิบาย...'};currentEditingQuizData[_0x42fc81(0x9fc)][_0x42fc81(0x187)](_0x392073),renderQuizEditor(currentEditingQuizData);const _0x136216=document[_0x42fc81(0x535)](_0x42fc81(0xb28));_0x136216&&(_0x136216[_0x42fc81(0x80a)]({'behavior':_0x42fc81(0x123),'block':_0x42fc81(0xd1d)}),_0x136216[_0x42fc81(0x535)](_0x42fc81(0x633))[_0x42fc81(0xa75)]());}async function handleAiFixQuestion(_0x583b2c){const _0x49a34a=_0x3a9f7b,_0xeaab15=_0x583b2c['currentTarget'],_0x4f9f10=_0xeaab15[_0x49a34a(0x190)](_0x49a34a(0x4fe));if(!_0x4f9f10)return;const _0x57798a=parseInt(_0x4f9f10[_0x49a34a(0x5e8)][_0x49a34a(0xac3)],0xa);if(isNaN(_0x57798a)||!currentEditingQuizData['questions'][_0x57798a]){showMessage(_0x49a34a(0x439));return;}const _0x92f894=currentEditingQuizData['questions'][_0x57798a];_0xeaab15[_0x49a34a(0xd5e)]=_0x49a34a(0x1be),_0xeaab15['disabled']=!![];const _0x259f1c=_0x49a34a(0x8ab)+JSON[_0x49a34a(0x272)](_0x92f894)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x374d59;const _0x12bb33=_0x92f894[_0x49a34a(0x7c7)]||currentEditingQuizData[_0x49a34a(0xc6c)];switch(_0x12bb33){case _0x49a34a(0x2d1):_0x374d59={'type':'OBJECT','properties':{'questionText':{'type':_0x49a34a(0xfc)},'idealAnswer':{'type':_0x49a34a(0xfc)},'explanation':{'type':_0x49a34a(0xfc)},'imageCode':{'type':_0x49a34a(0xfc)}},'required':[_0x49a34a(0x47c),_0x49a34a(0xa57),'explanation']};break;case'multiple_choice':default:_0x374d59={'type':'OBJECT','properties':{'questionText':{'type':_0x49a34a(0xfc)},'options':{'type':_0x49a34a(0xff),'items':{'type':_0x49a34a(0xfc)}},'correctAnswerIndex':{'type':_0x49a34a(0xaec)},'explanation':{'type':_0x49a34a(0xfc)},'imageCode':{'type':_0x49a34a(0xfc)}},'required':['questionText','options',_0x49a34a(0xcfa),_0x49a34a(0x507)]};break;}try{let _0x318f89=await callAnalysisApi(_0x259f1c,_0x374d59);_0x318f89[_0x49a34a(0xc87)]&&Array[_0x49a34a(0x8d0)](_0x318f89[_0x49a34a(0xc87)])&&(_0x318f89[_0x49a34a(0xc87)]=_0x318f89[_0x49a34a(0xc87)][_0x49a34a(0x8ac)](_0xa6d353=>typeof _0xa6d353==='string'?_0xa6d353[_0x49a34a(0xaa1)](/S(\s*[\d_]+?\s*)S/g,_0x49a34a(0xd51)):_0xa6d353)),_0x92f894[_0x49a34a(0x3c5)]&&_0x92f894[_0x49a34a(0x3c5)][_0x49a34a(0x1bc)](_0x49a34a(0x9a2))&&(_0x318f89[_0x49a34a(0x3c5)]=''),currentEditingQuizData[_0x49a34a(0x9fc)][_0x57798a]={..._0x92f894,..._0x318f89},renderQuizEditor(currentEditingQuizData),showMessage(_0x49a34a(0x75e));}catch(_0x4b0599){console[_0x49a34a(0x4e3)]('AI\x20Fix\x20Error:',_0x4b0599),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x7de8c=_0x3a9f7b,_0x236f58=document[_0x7de8c(0xc0e)]('save-quiz-edits-btn');_0x236f58[_0x7de8c(0x622)]=!![],_0x236f58['innerHTML']=_0x7de8c(0x262);try{const _0x2f6d20=document[_0x7de8c(0xc0e)]('editor-quiz-topic')[_0x7de8c(0x452)],_0x5190db=document[_0x7de8c(0x68f)](_0x7de8c(0x4fe));let _0x3ff330=[];const _0x1e86fe=Array[_0x7de8c(0x30e)](_0x5190db)[_0x7de8c(0x8ac)]((_0x1c8dfa,_0x45b26e)=>{const _0x5bc41a=_0x7de8c,_0x57d9e2=_0x1c8dfa[_0x5bc41a(0x5e8)][_0x5bc41a(0x472)],_0x1b9ab=_0x1c8dfa['querySelector'](_0x5bc41a(0x633))[_0x5bc41a(0x452)][_0x5bc41a(0xaa1)](/\n/g,_0x5bc41a(0x39a));let _0x75be0e={'questionType':_0x57d9e2};const _0x165f9d=currentEditingQuizData['questions'][_0x45b26e];switch(_0x57d9e2){case _0x5bc41a(0x211):_0x75be0e['questionText']=_0x1b9ab;const _0xb887e0=_0x1c8dfa[_0x5bc41a(0x68f)](_0x5bc41a(0x3ef));_0x75be0e[_0x5bc41a(0xc87)]=Array['from'](_0xb887e0)[_0x5bc41a(0x8ac)](_0x4b210c=>_0x4b210c[_0x5bc41a(0x452)]);const _0x2811b7=_0x1c8dfa[_0x5bc41a(0x535)](_0x5bc41a(0x3e6));_0x75be0e[_0x5bc41a(0xcfa)]=_0x2811b7?parseInt(_0x2811b7[_0x5bc41a(0x452)]):0x0;break;case _0x5bc41a(0x2d1):_0x75be0e[_0x5bc41a(0x47c)]=_0x1b9ab,_0x75be0e[_0x5bc41a(0xa57)]=_0x1c8dfa['querySelector'](_0x5bc41a(0x839))[_0x5bc41a(0x452)];break;case'true_false':_0x75be0e[_0x5bc41a(0x47c)]=_0x1b9ab;const _0x2b45f9=_0x1c8dfa[_0x5bc41a(0x535)]('input[type=\x22radio\x22]:checked');_0x75be0e[_0x5bc41a(0x13c)]=_0x2b45f9?_0x2b45f9[_0x5bc41a(0x452)]==='true':!![];break;case _0x5bc41a(0xac4):_0x75be0e[_0x5bc41a(0x895)]=_0x1b9ab;const _0x5523da=_0x1c8dfa[_0x5bc41a(0x535)](_0x5bc41a(0x8ee));_0x75be0e[_0x5bc41a(0x3a1)]=_0x5523da?_0x5523da[_0x5bc41a(0x452)]:'',_0x3ff330[_0x5bc41a(0x187)](_0x75be0e['correctResponse']);break;default:_0x75be0e[_0x5bc41a(0x47c)]=_0x1b9ab;break;}return{..._0x165f9d,..._0x75be0e};});_0x3ff330[_0x7de8c(0x7d2)]>0x0&&_0x1e86fe['forEach'](_0x2ebf18=>{const _0x53104c=_0x7de8c;_0x2ebf18[_0x53104c(0x7c7)]===_0x53104c(0xac4)&&(_0x2ebf18[_0x53104c(0xcc7)]=_0x3ff330);});const _0x4304ea=currentEditingQuizData['id'],_0xe9b941=doc(db,_0x7de8c(0xb3f)+appId+'/public/data/quizzes',_0x4304ea);await updateDoc(_0xe9b941,{'topic':_0x2f6d20,'questions':_0x1e86fe}),document[_0x7de8c(0xc0e)](_0x7de8c(0x254))['classList'][_0x7de8c(0x930)](_0x7de8c(0x772)),showMessage(_0x7de8c(0x761),()=>initiateReGradeProcess(_0x4304ea));}catch(_0x15d421){console[_0x7de8c(0x4e3)](_0x7de8c(0x740),_0x15d421),showMessage(_0x7de8c(0x16b));}finally{_0x236f58[_0x7de8c(0x622)]=![],_0x236f58[_0x7de8c(0xd5e)]=_0x7de8c(0x11c);}}async function initiateReGradeProcess(_0x4af8ed){const _0x5c6050=_0x3a9f7b;showMessage(_0x5c6050(0xaf3));try{const _0x2cf6e3=doc(db,_0x5c6050(0xb3f)+appId+_0x5c6050(0xb0a),_0x4af8ed),_0x30dbb2=await getDoc(_0x2cf6e3);if(!_0x30dbb2[_0x5c6050(0x1fb)]())throw new Error(_0x5c6050(0x9ef));const _0x516698={'id':_0x4af8ed,..._0x30dbb2['data']()},_0xa90d8d=collection(db,_0x5c6050(0xb3f)+appId+_0x5c6050(0xb0a),_0x4af8ed,_0x5c6050(0x7fc)),_0x1cb7fa=await getDocs(_0xa90d8d);if(_0x1cb7fa[_0x5c6050(0xb0c)]){showMessage(_0x5c6050(0xa20));return;}const _0xeef1d1=_0x1cb7fa[_0x5c6050(0x726)][_0x5c6050(0x8ac)](_0x402edb=>reGradeSingleSubmission(_0x402edb,_0x516698));await Promise[_0x5c6050(0xc9a)](_0xeef1d1);if(_0x516698[_0x5c6050(0xd39)]){const _0x58d37d=doc(db,_0x5c6050(0xb3f)+appId+_0x5c6050(0xb8e),_0x516698[_0x5c6050(0xd39)]),_0x3dd654=await getDoc(_0x58d37d);if(_0x3dd654['exists']()&&_0x3dd654['data']()[_0x5c6050(0xa46)]){const _0x38bb24=_0x3dd654[_0x5c6050(0x180)]()[_0x5c6050(0xa46)][_0x5c6050(0x8ac)](_0x38609a=>updateStudentProfile(_0x516698['projectId'],_0x38609a));await Promise[_0x5c6050(0xc9a)](_0x38bb24);}}showMessage(_0x5c6050(0x311)+_0x1cb7fa['size']+_0x5c6050(0xc6f));}catch(_0x480949){console[_0x5c6050(0x4e3)](_0x5c6050(0x8c0),_0x480949),showMessage(_0x5c6050(0xbf3)+_0x480949[_0x5c6050(0x145)]);}}async function reGradeSingleSubmission(_0xeef344,_0x2fc175){const _0x112b9e=_0x3a9f7b,_0x2b704b=_0xeef344['data'](),_0x500f34=_0x2b704b[_0x112b9e(0xbba)],_0x383d86=_0x2b704b['attempts']||[],_0x4e30b5=[];for(const _0xf679a0 of _0x383d86){let _0x1dcdf0=0x0,_0x39c049=[],_0xde9101=0x0;const _0x47f49f=[];for(const _0x2cb06b of _0xf679a0['answers']){let _0x10211d;_0x2cb06b[_0x112b9e(0x936)]&&(_0x10211d=_0x2fc175[_0x112b9e(0x9fc)][_0x112b9e(0x4b3)](_0x57267b=>_0x57267b['id']===_0x2cb06b[_0x112b9e(0x936)]));!_0x10211d&&_0x2cb06b[_0x112b9e(0xab3)]&&(_0x10211d=_0x2fc175['questions'][_0x112b9e(0x4b3)](_0x147be9=>(_0x147be9[_0x112b9e(0x895)]||_0x147be9[_0x112b9e(0x47c)])===_0x2cb06b[_0x112b9e(0xab3)]));let _0x3fb30b=![];if(_0x10211d){const _0x39e9bb=_0x10211d[_0x112b9e(0x7c7)]||_0x2fc175[_0x112b9e(0xc6c)];switch(_0x39e9bb){case _0x112b9e(0x211):if(_0x10211d['options']&&_0x10211d[_0x112b9e(0xcfa)]<_0x10211d[_0x112b9e(0xc87)]['length']){const _0x48a522=_0x10211d[_0x112b9e(0xc87)][_0x10211d[_0x112b9e(0xcfa)]];_0x3fb30b=_0x2cb06b[_0x112b9e(0x4a9)]===_0x48a522;}break;case'true_false':const _0x3d03b9=_0x2cb06b[_0x112b9e(0x7d7)]===!![]||_0x2cb06b[_0x112b9e(0x7d7)]===_0x112b9e(0x65b);_0x3fb30b=_0x3d03b9===_0x10211d[_0x112b9e(0x13c)];break;case _0x112b9e(0xac4):_0x3fb30b=_0x2cb06b[_0x112b9e(0x7d7)]===_0x10211d[_0x112b9e(0x3a1)];break;case _0x112b9e(0x2d1):_0x3fb30b=await gradeShortAnswer(_0x2cb06b['answer'],_0x10211d);break;default:_0x3fb30b=_0x2cb06b[_0x112b9e(0xbe1)];break;}}if(_0x3fb30b){_0x1dcdf0++,_0xde9101++;if(_0xde9101===0x3)_0x39c049['push'](BADGES[_0x112b9e(0x263)]['id']);}else _0xde9101=0x0;_0x47f49f[_0x112b9e(0x187)]({..._0x2cb06b,'isCorrect':_0x3fb30b});}let _0x66dafa=_0x1dcdf0*0xa;_0x1dcdf0===_0x2fc175[_0x112b9e(0x9fc)][_0x112b9e(0x7d2)]&&(_0x66dafa+=0x32,_0x39c049[_0x112b9e(0x187)](BADGES[_0x112b9e(0x189)]['id'])),_0x4e30b5[_0x112b9e(0x187)]({..._0xf679a0,'score':_0x1dcdf0,'points':_0x66dafa,'badges':Array['from'](new Set(_0x39c049)),'answers':_0x47f49f});}const _0x5a84ae=_0x4e30b5['length']>0x0?_0x4e30b5[0x0][_0x112b9e(0x6fd)]:0x0,_0x3afa23=Math[_0x112b9e(0x347)](..._0x4e30b5['map'](_0x4d9dee=>_0x4d9dee[_0x112b9e(0x6fd)])),_0x277bcd=_0x4e30b5[_0x112b9e(0x7d2)]>0x0?_0x4e30b5[_0x4e30b5[_0x112b9e(0x7d2)]-0x1][_0x112b9e(0x6fd)]:0x0,_0xa8b00f=_0x4e30b5[_0x112b9e(0x7d2)]>0x0?_0x4e30b5[_0x4e30b5[_0x112b9e(0x7d2)]-0x1][_0x112b9e(0x3ba)]:0x0,_0x4589b6=doc(db,_0x112b9e(0xb3f)+appId+_0x112b9e(0x253)+_0x2fc175['id']+_0x112b9e(0x251),_0x500f34);await updateDoc(_0x4589b6,{'attempts':_0x4e30b5,'firstScore':_0x5a84ae,'bestScore':_0x3afa23,'latestScore':_0x277bcd,'points':_0xa8b00f});}function cleanupQuizOptions(_0x370126){const _0x355cf5=_0x3a9f7b,_0x4c4cf4=(_0x1f1869,_0x2d531f)=>_0x2d531f===0x0?_0x1f1869:_0x4c4cf4(_0x2d531f,_0x1f1869%_0x2d531f),_0x2e3162=_0x42d592=>{const _0xa1c3d0=_0x57a1;if(typeof _0x42d592!=='string')return null;_0x42d592=_0x42d592[_0xa1c3d0(0xa0f)]();const _0x22def5=_0x42d592[_0xa1c3d0(0x962)](/[ /]/)[_0xa1c3d0(0xb6e)](_0x5c0a1e=>_0x5c0a1e!=='');if(_0x22def5['length']===0x3)return parseInt(_0x22def5[0x0])+parseInt(_0x22def5[0x1])/parseInt(_0x22def5[0x2]);else{if(_0x22def5[_0xa1c3d0(0x7d2)]===0x2)return parseInt(_0x22def5[0x0])/parseInt(_0x22def5[0x1]);else{if(_0x22def5[_0xa1c3d0(0x7d2)]===0x1&&!isNaN(_0x22def5[0x0]))return parseFloat(_0x22def5[0x0]);}}return null;},_0x2a315a=_0x4c0a69=>{const _0xca2e27=_0x57a1;if(typeof _0x4c0a69!==_0xca2e27(0xb5a))return _0x4c0a69;const _0x4541cc=_0x4c0a69['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x4541cc){const _0x4454cc=parseInt(_0x4541cc[0x1]);let _0x1daeac=parseInt(_0x4541cc[0x2]),_0x27f3aa=parseInt(_0x4541cc[0x3]);const _0x180e4a=_0x4c4cf4(_0x1daeac,_0x27f3aa);_0x1daeac/=_0x180e4a,_0x27f3aa/=_0x180e4a;if(_0x27f3aa===0x1)return(_0x4454cc+_0x1daeac)[_0xca2e27(0x6ad)]();return _0x4454cc+'\x20'+_0x1daeac+'/'+_0x27f3aa;}return _0x4c0a69;};return _0x370126&&_0x370126['questions']&&_0x370126['questions'][_0x355cf5(0x2d3)](_0x32c1b3=>{const _0x17276a=_0x355cf5;if(_0x32c1b3[_0x17276a(0x7c7)]===_0x17276a(0x211)&&_0x32c1b3[_0x17276a(0xc87)]){const _0x3a89df=new Map(),_0x4d8518=_0x32c1b3[_0x17276a(0xc87)][_0x32c1b3[_0x17276a(0xcfa)]];_0x32c1b3[_0x17276a(0xc87)]['forEach'](_0x218a9e=>{const _0x29ee00=_0x17276a,_0x290827=_0x2a315a(_0x218a9e),_0x3b80f5=_0x2e3162(_0x290827);_0x3b80f5!==null&&!_0x3a89df[_0x29ee00(0x76a)](_0x3b80f5)&&_0x3a89df['set'](_0x3b80f5,_0x290827);}),_0x32c1b3[_0x17276a(0xc87)]=Array[_0x17276a(0x30e)](_0x3a89df[_0x17276a(0x3ac)]());const _0x457e63=_0x32c1b3[_0x17276a(0xc87)][_0x17276a(0x287)](_0x467d9e=>_0x467d9e===_0x2a315a(_0x4d8518));_0x32c1b3['correctAnswerIndex']=_0x457e63!==-0x1?_0x457e63:0x0;}}),_0x370126;}function showGameStartConfirmationModal(_0x17fb5d,_0x566ee,_0x155999){const _0x9003be=_0x3a9f7b,_0x3d8f37=document[_0x9003be(0xc0e)](_0x9003be(0x375));document[_0x9003be(0xc0e)](_0x9003be(0x616))['textContent']=_0x9003be(0xb93)+_0x155999,document[_0x9003be(0xc0e)]('game-start-quiz-id')['value']=_0x17fb5d,document[_0x9003be(0xc0e)]('game-start-mode')[_0x9003be(0x452)]=_0x566ee,document[_0x9003be(0xc0e)](_0x9003be(0x5eb))[_0x9003be(0x9da)]=!![];const _0x1e3579=document[_0x9003be(0xc0e)](_0x9003be(0x1cb)),_0x1ffcc5=document['getElementById'](_0x9003be(0x1f1)),_0x306d86=document[_0x9003be(0xc0e)](_0x9003be(0xc55)),_0x59d93e=document['getElementById']('black-market-settings-container');_0x566ee==='sync'?(_0x1e3579[_0x9003be(0x319)][_0x9003be(0xd08)](_0x9003be(0x772)),document[_0x9003be(0x535)](_0x9003be(0x97c))[_0x9003be(0x9da)]=!![],_0x1ffcc5[_0x9003be(0x9da)]=!![],_0x306d86[_0x9003be(0x319)][_0x9003be(0xd08)](_0x9003be(0x772)),document[_0x9003be(0xc0e)](_0x9003be(0x784))[_0x9003be(0x452)]=_0x9003be(0x135),_0x59d93e[_0x9003be(0x319)]['remove'](_0x9003be(0x772)),document[_0x9003be(0xc0e)]('enable-black-market-checkbox')['checked']=!![]):(_0x1e3579[_0x9003be(0x319)]['add'](_0x9003be(0x772)),_0x1ffcc5[_0x9003be(0x9da)]=![],_0x306d86['classList'][_0x9003be(0x930)](_0x9003be(0x772)),_0x59d93e[_0x9003be(0x319)]['add'](_0x9003be(0x772))),_0x3d8f37[_0x9003be(0x319)][_0x9003be(0xd08)](_0x9003be(0x772));}async function saveGameResultsAsSubmissions(_0x9ddb33){const _0x9409bc=_0x3a9f7b;console[_0x9409bc(0x955)](_0x9409bc(0xd68),_0x9ddb33);const _0x2f2ad3=_0x9ddb33[_0x9409bc(0x346)];let _0xcb475=[];if(_0x9ddb33[_0x9409bc(0xd1)])_0xcb475=Object['entries'](_0x9ddb33[_0x9409bc(0xd1)])[_0x9409bc(0x8ac)](([_0x1ee4ac,_0x16aea0])=>({'name':_0x1ee4ac,..._0x16aea0}));else{if(_0x9ddb33[_0x9409bc(0xc4c)])Object['values'](_0x9ddb33[_0x9409bc(0xc4c)])['forEach'](_0x387a62=>{const _0x5874c9=_0x9409bc;_0x387a62[_0x5874c9(0xaab)]['forEach'](_0x18c2d6=>{const _0x28d7cd=_0x5874c9;_0xcb475['push']({'name':_0x18c2d6,'score':_0x387a62[_0x28d7cd(0x6fd)],'answers':_0x387a62['answers']});});});else _0x9ddb33[_0x9409bc(0x2af)]&&Object[_0x9409bc(0x377)](_0x9ddb33['responses'])[_0x9409bc(0x2d3)](([_0x52fd0f,_0x5a0d66])=>{const _0x470249=_0x9409bc;_0xcb475[_0x470249(0x187)]({'name':_0x52fd0f,..._0x5a0d66});});}if(_0xcb475[_0x9409bc(0x7d2)]===0x0){console['log']('No\x20player\x20data\x20to\x20save.');return;}const _0x500318=_0x9ddb33[_0x9409bc(0xc11)]?.[_0x9409bc(0x9fc)]['length']||currentQuizData[_0x9409bc(0x9fc)][_0x9409bc(0x7d2)],_0x591baf=writeBatch(db);for(const _0x53b8db of _0xcb475){const _0x1064dd=doc(db,_0x9409bc(0xb3f)+appId+_0x9409bc(0x253)+_0x2f2ad3+_0x9409bc(0x251),_0x53b8db[_0x9409bc(0x58e)]),_0x4885d7=(_0x53b8db[_0x9409bc(0xb24)]||[])[_0x9409bc(0xb6e)](_0x1f834e=>_0x1f834e[_0x9409bc(0xbe1)])[_0x9409bc(0x7d2)];let _0x5bee03=_0x4885d7;_0x9ddb33[_0x9409bc(0xce8)]&&_0x53b8db['answers']&&_0x53b8db[_0x9409bc(0xb24)][_0x9409bc(0x2d3)](_0x4c4c64=>{const _0x121482=_0x9409bc;if(_0x4c4c64[_0x121482(0xbe1)]&&(_0x4c4c64[_0x121482(0x802)]===!![]||_0x4c4c64[_0x121482(0x802)]==='confident'))_0x5bee03+=0x1;else!_0x4c4c64[_0x121482(0xbe1)]&&(_0x4c4c64[_0x121482(0x802)]===!![]||_0x4c4c64[_0x121482(0x802)]==='confident')&&(_0x5bee03-=0x1);});_0x500318>0x0&&_0x4885d7===_0x500318&&(_0x5bee03+=0x1);const _0x584023={'score':_0x4885d7,'points':_0x5bee03,'badges':_0x53b8db['badges']||[],'submittedAt':new Date()[_0x9409bc(0x1cd)](),'answers':(_0x53b8db[_0x9409bc(0xb24)]||[])[_0x9409bc(0x8ac)](_0x432ca9=>({'questionId':_0x432ca9[_0x9409bc(0x936)],'answer':_0x432ca9['answer'],'answerText':_0x432ca9[_0x9409bc(0x4a9)],'isCorrect':_0x432ca9['isCorrect'],'originalQuestionText':_0x432ca9[_0x9409bc(0xab3)],'wasConfident':_0x432ca9[_0x9409bc(0x802)]}))},_0x1b3d03=await getDoc(_0x1064dd),_0x2d2d17=_0x1b3d03[_0x9409bc(0x1fb)]()?_0x1b3d03[_0x9409bc(0x180)]():{},_0x530176=_0x2d2d17[_0x9409bc(0x963)]||0x0,_0x524585=_0x2d2d17['attempts']||[],_0x105482={'studentName':_0x53b8db['name'],'totalQuestions':_0x500318,'attempts':arrayUnion(_0x584023),'latestScore':_0x4885d7,'points':_0x5bee03,'latestSubmittedAt':_0x584023[_0x9409bc(0x141)],'bestScore':Math[_0x9409bc(0x347)](_0x530176,_0x4885d7),'firstScore':_0x524585[_0x9409bc(0x7d2)]===0x0?_0x4885d7:_0x2d2d17[_0x9409bc(0x84b)]||0x0};_0x591baf[_0x9409bc(0x51f)](_0x1064dd,_0x105482,{'merge':!![]});}try{await _0x591baf[_0x9409bc(0xd55)](),showMessage('บันทึกผลการเล่นเกมของ\x20'+_0xcb475['length']+'\x20รายการ\x20สำเร็จ!');const _0x20f08d=_0x9ddb33[_0x9409bc(0xc11)]?.[_0x9409bc(0xd39)]||currentQuizData?.[_0x9409bc(0xd39)]||currentProjectId;if(_0x20f08d){const _0x57efa2=[...new Set(_0xcb475[_0x9409bc(0x8ac)](_0x162352=>_0x162352[_0x9409bc(0x58e)]))];for(const _0x4aa115 of _0x57efa2){await updateStudentProfile(_0x20f08d,_0x4aa115);}}}catch(_0x3961a4){console['error'](_0x9409bc(0x7be),_0x3961a4),showMessage(_0x9409bc(0x7b0));}}async function saveQuiz(_0x58a0c3=null,_0x205ff4=null){const _0x2ec69a=_0x3a9f7b,_0x34a1df=_0x58a0c3||currentProjectId;if(!_0x34a1df){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2ec69a(0x9fc)]||!userId){showMessage(_0x2ec69a(0x95b));return;}const _0x597d24=document[_0x2ec69a(0xc0e)](_0x2ec69a(0x540));_0x597d24['disabled']=!![],_0x597d24['innerHTML']=_0x2ec69a(0x262);const _0x3725c4=document['getElementById']('pre-test-checkbox')[_0x2ec69a(0x9da)];let _0x4410af=document['getElementById'](_0x2ec69a(0x8a4))[_0x2ec69a(0x941)]['trim']();_0x3725c4&&!_0x4410af[_0x2ec69a(0x23e)](_0x2ec69a(0x24a))&&(_0x4410af=_0x2ec69a(0x98a)+_0x4410af);try{const _0x2b32b5={'resultsDisplay':document[_0x2ec69a(0xc0e)](_0x2ec69a(0x50e))[_0x2ec69a(0x452)],'shuffle':document[_0x2ec69a(0xc0e)](_0x2ec69a(0x48c))[_0x2ec69a(0x452)],'timerMode':document[_0x2ec69a(0xc0e)](_0x2ec69a(0xb90))['value'],'timerDuration':parseInt(document[_0x2ec69a(0xc0e)](_0x2ec69a(0x30d))[_0x2ec69a(0x452)])||0xa,'passingScore':parseInt(document[_0x2ec69a(0xc0e)](_0x2ec69a(0x2b3))[_0x2ec69a(0x452)])||0x0,'isAdaptive':document[_0x2ec69a(0xc0e)](_0x2ec69a(0xd12))[_0x2ec69a(0x9da)],'loopUntilPass':document[_0x2ec69a(0xc0e)](_0x2ec69a(0x368))[_0x2ec69a(0x9da)]},_0xbf5a03=(currentQuizData[_0x2ec69a(0x9fc)]||[])['map']((_0x320b35,_0x5004bd)=>{const _0x126596=_0x2ec69a,_0x1577ba=document[_0x126596(0xc0e)](_0x126596(0xb44))[_0x126596(0x452)],_0x4de586={'id':'q_'+Date[_0x126596(0x62e)]()+'_'+_0x5004bd,'questionText':_0x320b35['questionText']||'','explanation':_0x320b35[_0x126596(0x507)]||'ไม่มีคำอธิบาย','questionType':_0x320b35[_0x126596(0x7c7)]||_0x1577ba,'imageCode':_0x320b35['imageCode']||null};return(_0x4de586['questionType']==='multiple_choice'||_0x4de586[_0x126596(0x7c7)]===_0x126596(0x44b)||_0x4de586[_0x126596(0x7c7)]==='mixed'&&_0x320b35[_0x126596(0xc87)])&&(_0x4de586['options']=_0x320b35[_0x126596(0xc87)]||[],_0x4de586['correctAnswerIndex']=_0x320b35[_0x126596(0xcfa)]!==undefined?_0x320b35[_0x126596(0xcfa)]:0x0),(_0x4de586[_0x126596(0x7c7)]===_0x126596(0x2d1)||_0x4de586[_0x126596(0x7c7)]===_0x126596(0x61f)||_0x4de586[_0x126596(0x7c7)]===_0x126596(0xcf3)&&_0x320b35[_0x126596(0xa57)])&&(_0x4de586[_0x126596(0xa57)]=_0x320b35[_0x126596(0xa57)]||''),_0x4de586[_0x126596(0x7c7)]===_0x126596(0x56e)&&(_0x4de586[_0x126596(0x13c)]=_0x320b35[_0x126596(0x13c)]===!![]),_0x4de586['questionType']===_0x126596(0xac4)&&(_0x4de586['stem']=_0x320b35['stem']||'',_0x4de586['correctResponse']=_0x320b35[_0x126596(0x3a1)]||'',_0x4de586['allResponses']=_0x320b35[_0x126596(0xcc7)]||[]),_0x4de586;}),_0x354660={'topic':_0x4410af,'quizType':currentQuizData[_0x2ec69a(0xc6c)]||_0x2ec69a(0x211),'questions':_0xbf5a03,'projectId':_0x34a1df,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x2ec69a(0x75a),'settings':_0x2b32b5,'quizMode':_0x3725c4?_0x2ec69a(0x78e):_0x2ec69a(0x5aa),'pairedQuizId':null,'lessonPlan':null};let _0x54feac;while(!![]){_0x54feac=Math[_0x2ec69a(0x48b)](0x3e8+Math[_0x2ec69a(0x120)]()*0x2328)[_0x2ec69a(0x6ad)]();const _0x3f16b9=await getDoc(doc(db,_0x2ec69a(0xb3f)+appId+_0x2ec69a(0xb0a),_0x54feac));if(!_0x3f16b9[_0x2ec69a(0x1fb)]())break;}await setDoc(doc(db,_0x2ec69a(0xb3f)+appId+_0x2ec69a(0xb0a),_0x54feac),_0x354660);if(_0x205ff4&&currentBlueprintProjectId){console[_0x2ec69a(0x955)](_0x2ec69a(0x2bc)+_0x54feac+_0x2ec69a(0x232)+_0x205ff4);try{const _0x26ff20=doc(db,_0x2ec69a(0xb3f)+appId+_0x2ec69a(0x87c),currentBlueprintProjectId);await updateDoc(_0x26ff20,{['topics.'+_0x205ff4+_0x2ec69a(0x47d)]:arrayUnion(_0x54feac)});}catch(_0x13009d){console['error']('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x13009d);}}currentQuizData[_0x2ec69a(0x7e8)]=_0x2b32b5,currentQuizData['id']=_0x54feac;const _0x499cf6=document[_0x2ec69a(0xc0e)](_0x2ec69a(0xbe4));_0x499cf6[_0x2ec69a(0xd5e)]=_0x2ec69a(0x14b)+_0x54feac+_0x2ec69a(0x384),document['getElementById'](_0x2ec69a(0x822))[_0x2ec69a(0x59d)](_0x2ec69a(0x9fd),()=>copyTextToClipboard(_0x54feac,'คัดลอกรหัสแล้ว!')),document[_0x2ec69a(0xc0e)](_0x2ec69a(0x825))[_0x2ec69a(0x59d)]('click',()=>handleStartLiveRace(_0x54feac)),document[_0x2ec69a(0xc0e)](_0x2ec69a(0xa36))['addEventListener']('click',()=>startPresentation(currentQuizData)),document[_0x2ec69a(0xc0e)](_0x2ec69a(0x357))[_0x2ec69a(0x59d)]('click',startAdminTest),showMessage(_0x2ec69a(0xad7));}catch(_0x276b4d){console[_0x2ec69a(0x4e3)](_0x2ec69a(0x75b),_0x276b4d),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x597d24[_0x2ec69a(0x622)]=![],_0x597d24[_0x2ec69a(0xd5e)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x1de568=_0x3a9f7b,_0xe3771e=document[_0x1de568(0xc0e)](_0x1de568(0xd60)),_0x978d34=document[_0x1de568(0xc0e)]('move-quiz-project-select'),_0x29e5e6=_0xe3771e[_0x1de568(0x535)]('h3'),_0xea1be5=document['getElementById']('confirm-move-quiz-btn');_0x29e5e6[_0x1de568(0x6fb)]='เลือกโปรเจคเพื่อบันทึก',_0xea1be5[_0x1de568(0x6fb)]='เลือกและบันทึก';allProjects[_0x1de568(0x7d2)]===0x0?(_0x978d34['innerHTML']=_0x1de568(0x5d9),_0xea1be5['disabled']=!![]):(_0x978d34[_0x1de568(0xd5e)]=allProjects[_0x1de568(0x8ac)](_0x294d48=>_0x1de568(0x1dd)+_0x294d48['id']+'\x22>'+_0x294d48['projectName']+_0x1de568(0x17b))[_0x1de568(0x986)](''),_0xea1be5[_0x1de568(0x622)]=![]);_0xe3771e['classList']['remove'](_0x1de568(0x772));const _0x41f6a8=()=>{const _0x541e25=_0x1de568,_0x6e2bd8=_0x978d34[_0x541e25(0x452)];_0x6e2bd8?(currentProjectId=_0x6e2bd8,_0xe3771e[_0x541e25(0x319)]['add'](_0x541e25(0x772)),saveQuiz(),_0x29e5e6[_0x541e25(0x6fb)]=_0x541e25(0x6ab),_0xea1be5[_0x541e25(0x6fb)]=_0x541e25(0xd14),_0xea1be5[_0x541e25(0x3e0)](_0x541e25(0x9fd),_0x41f6a8),_0xea1be5['addEventListener'](_0x541e25(0x9fd),confirmMoveQuiz)):showMessage(_0x541e25(0xa42));};_0xea1be5[_0x1de568(0x3e0)]('click',confirmMoveQuiz),_0xea1be5['addEventListener']('click',_0x41f6a8);}function copyTextToClipboard(_0x4642ee,_0x40de21){const _0x38eda0=_0x3a9f7b,_0x40758e=document[_0x38eda0(0x846)](_0x38eda0(0x633));_0x40758e[_0x38eda0(0x452)]=_0x4642ee,_0x40758e[_0x38eda0(0x5c6)]['position']=_0x38eda0(0x4a5),_0x40758e[_0x38eda0(0x5c6)][_0x38eda0(0x7ff)]='0',document[_0x38eda0(0x609)][_0x38eda0(0x6ce)](_0x40758e),_0x40758e[_0x38eda0(0xa75)](),_0x40758e['select']();try{const _0x276127=document[_0x38eda0(0xa49)](_0x38eda0(0x9c2));showMessage(_0x276127?_0x40de21:_0x38eda0(0x8a0));}catch(_0x2db071){showMessage(_0x38eda0(0x8a0)),console[_0x38eda0(0x4e3)](_0x38eda0(0x47b),_0x2db071);}document[_0x38eda0(0x609)][_0x38eda0(0xac9)](_0x40758e);}function listenForProjectQuizzes(_0x29b5ba){const _0x4db5be=_0x3a9f7b,_0x3759c1=collection(db,_0x4db5be(0xb3f)+appId+_0x4db5be(0xb0a)),_0x2912cf=query(_0x3759c1,where(_0x4db5be(0xd39),'==',_0x29b5ba));unsubscribeQuizzesListener=onSnapshot(_0x2912cf,async _0x1a7d9e=>{const _0x57792d=_0x4db5be;allQuizzes=_0x1a7d9e[_0x57792d(0x726)]['map'](_0x195958=>({'id':_0x195958['id'],..._0x195958[_0x57792d(0x180)]()})),renderQuizzes();},_0x53b387=>{const _0x7884ff=_0x4db5be;console[_0x7884ff(0x4e3)](_0x7884ff(0xc88),_0x53b387),document['getElementById']('project-quizzes-list')[_0x7884ff(0xd5e)]=_0x7884ff(0x41c);});}async function renderQuizzes(){const _0x585fb8=_0x3a9f7b,_0x516104=document['getElementById'](_0x585fb8(0xa79)),_0x22a94d=document[_0x585fb8(0xc0e)](_0x585fb8(0x4cf))['value']['toLowerCase']();let _0x49ed91;currentProjectId===_0x585fb8(0x5bb)?_0x49ed91=starredQuizzes:_0x49ed91=allQuizzes;let _0x2d4fdd=_0x49ed91[_0x585fb8(0xb6e)](_0x362cc3=>_0x362cc3[_0x585fb8(0x156)][_0x585fb8(0x703)]()['includes'](_0x22a94d));_0x2d4fdd['sort']((_0x3deb83,_0x23d3be)=>new Date(_0x23d3be[_0x585fb8(0x5c4)])-new Date(_0x3deb83[_0x585fb8(0x5c4)]));if(_0x2d4fdd['length']===0x0){_0x516104[_0x585fb8(0xd5e)]=_0x585fb8(0x739);return;}const _0x1ed37c={},_0x424879=_0x2d4fdd['map'](async _0x4c0421=>{const _0xfd272=_0x585fb8,_0x455b74=collection(db,'artifacts/'+appId+_0xfd272(0x253)+_0x4c0421['id']+_0xfd272(0x251)),_0x560012=await getDocs(_0x455b74);_0x1ed37c[_0x4c0421['id']]=_0x560012[_0xfd272(0x2d8)];});await Promise[_0x585fb8(0xc9a)](_0x424879);let _0xdbd707='';_0x2d4fdd[_0x585fb8(0x2d3)](_0x4cc511=>{const _0x18d8d7=_0x585fb8,_0x5bd43f=_0x1ed37c[_0x4cc511['id']]||0x0,_0x42e31e=_0x4cc511[_0x18d8d7(0x896)]||_0x18d8d7(0x75a),_0x31451a=_0x4cc511['settings']?.[_0x18d8d7(0x997)]||_0x18d8d7(0x81d);let _0x6e8731='',_0x2ee63b='';const _0xfb21ad=new Date();let _0x10d85b=_0x42e31e;if(_0x42e31e===_0x18d8d7(0x8e8)){const _0x161959=_0x4cc511[_0x18d8d7(0x8a7)]?new Date(_0x4cc511[_0x18d8d7(0x8a7)]):null,_0x5ba832=_0x4cc511[_0x18d8d7(0x56c)]?new Date(_0x4cc511['endTime']):null;if(_0x5ba832&&_0xfb21ad>_0x5ba832)_0x10d85b=_0x18d8d7(0x856);else _0x161959&&_0xfb21ad<_0x161959?_0x10d85b=_0x18d8d7(0x185):_0x10d85b=_0x18d8d7(0x75a);}switch(_0x10d85b){case _0x18d8d7(0x856):_0x6e8731=_0x18d8d7(0x19a),_0x2ee63b='text-red-700\x20bg-red-100';break;case _0x18d8d7(0x185):_0x6e8731=_0x18d8d7(0x2e3),_0x2ee63b=_0x18d8d7(0x13b);break;case _0x18d8d7(0x75a):_0x6e8731=_0x31451a!==_0x18d8d7(0x81d)?_0x18d8d7(0x6b1):_0x18d8d7(0x6b5),_0x2ee63b='text-green-700\x20bg-green-100';break;default:_0x6e8731=_0x18d8d7(0x838),_0x2ee63b=_0x18d8d7(0x480);break;}let _0x75ce2e='';const _0x33dedd={'day':_0x18d8d7(0x4ed),'month':_0x18d8d7(0x4ed),'year':'numeric','hour':_0x18d8d7(0x4ed),'minute':'2-digit','hour12':![]};if(_0x42e31e===_0x18d8d7(0x8e8)){if(_0x4cc511[_0x18d8d7(0x8a7)])_0x75ce2e+=_0x18d8d7(0x581)+new Date(_0x4cc511['startTime'])[_0x18d8d7(0x1c1)](_0x18d8d7(0xf8),_0x33dedd)+_0x18d8d7(0x71f);if(_0x4cc511[_0x18d8d7(0x56c)])_0x75ce2e+=_0x18d8d7(0x2d2)+new Date(_0x4cc511[_0x18d8d7(0x56c)])[_0x18d8d7(0x1c1)](_0x18d8d7(0xf8),_0x33dedd)+_0x18d8d7(0x71f);}let _0x15cda0='';if(_0x4cc511[_0x18d8d7(0xc6e)]){const _0x45e0e0=allQuizzes[_0x18d8d7(0x4b3)](_0x17a4ad=>_0x17a4ad['id']===_0x4cc511[_0x18d8d7(0xc6e)]);if(_0x45e0e0){let _0x4fedb7,_0x1e2175;new Date(_0x4cc511[_0x18d8d7(0x5c4)])<new Date(_0x45e0e0[_0x18d8d7(0x5c4)])?(_0x4fedb7=_0x4cc511['id'],_0x1e2175=_0x45e0e0['id']):(_0x4fedb7=_0x45e0e0['id'],_0x1e2175=_0x4cc511['id']),_0x15cda0+=_0x18d8d7(0x3b9)+_0x1e2175+_0x18d8d7(0x90c)+_0x4fedb7+_0x18d8d7(0x183);}}else _0x4cc511[_0x18d8d7(0x4c2)]==='pre-test'&&(_0x15cda0+=_0x18d8d7(0x35e)+_0x4cc511['id']+_0x18d8d7(0x5ee));if(_0x4cc511['quizMode']===_0x18d8d7(0x78e)&&_0x5bd43f>0x0)_0x15cda0+=_0x18d8d7(0x35e)+_0x4cc511['id']+_0x18d8d7(0x5ff);else!_0x4cc511[_0x18d8d7(0xc6e)]&&_0x4cc511[_0x18d8d7(0x4c2)]!=='pre-test'&&_0x5bd43f>0x0&&(_0x15cda0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4cc511['id']+_0x18d8d7(0x863));let _0x16b2b1='';_0x4cc511['pairedQuizId']?_0x16b2b1='<button\x20data-quiz-id=\x22'+_0x4cc511['id']+_0x18d8d7(0xc4f):_0x16b2b1='<button\x20data-quiz-id=\x22'+_0x4cc511['id']+_0x18d8d7(0xa6),_0xdbd707+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x4cc511['id']+_0x18d8d7(0x8f2)+_0x4cc511[_0x18d8d7(0x156)]+_0x18d8d7(0x654)+_0x4cc511['questions'][_0x18d8d7(0x7d2)]+_0x18d8d7(0x502)+new Date(_0x4cc511['createdAt'])['toLocaleString'](_0x18d8d7(0xf8))+_0x18d8d7(0xbae)+_0x5bd43f+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x75ce2e+_0x18d8d7(0xd82)+_0x2ee63b+'\x22>'+_0x6e8731+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4cc511['id']+_0x18d8d7(0x2e2)+_0x4cc511['id']+_0x18d8d7(0x60e)+(_0x4cc511[_0x18d8d7(0x303)]?_0x18d8d7(0xc37):_0x18d8d7(0x2a5))+_0x18d8d7(0x1d8)+_0x15cda0+_0x18d8d7(0xccb)+_0x4cc511['id']+_0x18d8d7(0x773)+_0x4cc511['id']+_0x18d8d7(0xd7a)+_0x4cc511['id']+_0x18d8d7(0xba9)+_0x4cc511['id']+_0x18d8d7(0x100)+_0x4cc511['id']+_0x18d8d7(0x757)+_0x4cc511['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4cc511['id']+'\x22\x20data-topic=\x22'+_0x4cc511[_0x18d8d7(0x156)]+_0x18d8d7(0x20f)+_0x4cc511['id']+_0x18d8d7(0x808)+_0x4cc511['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16b2b1+_0x18d8d7(0xa13)+_0x4cc511['id']+_0x18d8d7(0x82e)+_0x4cc511['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4cc511['id']+_0x18d8d7(0x27b)+_0x4cc511['id']+_0x18d8d7(0xa3d)+_0x4cc511['id']+_0x18d8d7(0x5e3)+_0x4cc511['id']+_0x18d8d7(0x527)+_0x4cc511['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4cc511['id']+_0x18d8d7(0x42a)+_0x4cc511[_0x18d8d7(0x156)]+_0x18d8d7(0x151)+_0x4cc511['id']+_0x18d8d7(0xbf8);}),_0x516104['innerHTML']=_0xdbd707,document['querySelectorAll'](_0x585fb8(0xbb5))[_0x585fb8(0x2d3)](_0x32a645=>{const _0x494cec=_0x585fb8;_0x32a645['addEventListener'](_0x494cec(0x9fd),()=>{const _0x521b98=_0x494cec,_0x54a8a8=_0x32a645['dataset'][_0x521b98(0x346)];showQuizDetailView(_0x54a8a8);});});}async function handleUnpairQuiz(_0x44bc53){const _0x338e69=_0x3a9f7b,_0x4c3ce5=allQuizzes['find'](_0x2ea2ed=>_0x2ea2ed['id']===_0x44bc53);if(!_0x4c3ce5||!_0x4c3ce5['pairedQuizId']){showMessage(_0x338e69(0xd7d));return;}showConfirmation(_0x338e69(0x444),async()=>{const _0x4753b1=_0x338e69;try{const _0x22d0ac=doc(db,_0x4753b1(0xb3f)+appId+_0x4753b1(0xb0a),_0x44bc53),_0x207b21=doc(db,_0x4753b1(0xb3f)+appId+_0x4753b1(0xb0a),_0x4c3ce5['pairedQuizId']),_0x271351=writeBatch(db);_0x271351[_0x4753b1(0xe0)](_0x22d0ac,{'pairedQuizId':null}),_0x271351[_0x4753b1(0xe0)](_0x207b21,{'pairedQuizId':null}),await _0x271351['commit'](),showMessage(_0x4753b1(0x69d));}catch(_0x36e22e){console[_0x4753b1(0x4e3)](_0x4753b1(0xa62),_0x36e22e),showMessage(_0x4753b1(0xca8));}});}function formatAndPrintLessonPlan(_0x5dfe1f,_0x5aae11){const _0x30c6d3=_0x3a9f7b,_0x16ae77=window[_0x30c6d3(0xc46)]('',_0x30c6d3(0x529)),_0x423cd5=_0x30c6d3(0x38d)+_0x5aae11['topic']+_0x30c6d3(0x8ad)+_0x5aae11['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dfe1f[_0x30c6d3(0x2ac)][_0x30c6d3(0x8ac)](_0x22172e=>'<li>'+_0x22172e+_0x30c6d3(0xc12))[_0x30c6d3(0x986)]('')+_0x30c6d3(0x4ce)+_0x5dfe1f[_0x30c6d3(0xacc)]+_0x30c6d3(0xbdf)+_0x5dfe1f[_0x30c6d3(0x9c7)][_0x30c6d3(0x8ac)](_0x26237b=>_0x30c6d3(0x658)+_0x26237b['question']+_0x30c6d3(0x782)+_0x26237b[_0x30c6d3(0x68d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x30c6d3(0x986)]('')+_0x30c6d3(0xd30);_0x16ae77[_0x30c6d3(0x7ea)][_0x30c6d3(0x875)](_0x423cd5),_0x16ae77[_0x30c6d3(0x7ea)][_0x30c6d3(0x9d7)](),_0x16ae77[_0x30c6d3(0xd25)]=function(){setTimeout(()=>{_0x16ae77['print']();},0x3e8);};}async function handleAiFixFormula(_0xffe469){const _0x49b574=_0x3a9f7b,_0x599985=document[_0x49b574(0x535)](_0x49b574(0x511)+_0xffe469+'\x22]');if(!_0x599985)return;const _0x6c295c=_0x599985['dataset'][_0x49b574(0x472)],_0x38c688=_0x599985[_0x49b574(0x535)]('.ai-fix-formula-btn');let _0x23c620={'question':_0x599985[_0x49b574(0x535)]('textarea')['value']};switch(_0x6c295c){case _0x49b574(0x211):_0x23c620['options']=Array[_0x49b574(0x30e)](_0x599985[_0x49b574(0x68f)](_0x49b574(0x3ef)))['map'](_0x30a31d=>_0x30a31d[_0x49b574(0x452)]);break;case _0x49b574(0x2d1):_0x23c620['idealAnswer']=_0x599985['querySelector']('.ideal-answer-input')['value'];break;case _0x49b574(0xac4):_0x23c620['correctResponse']=_0x599985[_0x49b574(0x535)]('.correct-response-input')[_0x49b574(0x452)];break;}_0x38c688['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x38c688['disabled']=!![];try{const _0x599074=_0x49b574(0x496)+JSON['stringify'](_0x23c620)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x317135={'type':_0x49b574(0x9c6),'properties':{'fixedData':{'type':_0x49b574(0x9c6),'properties':{'question':{'type':_0x49b574(0xfc)},'options':{'type':'ARRAY','items':{'type':_0x49b574(0xfc)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x49b574(0xfc)}},'required':[_0x49b574(0x536)]}},'required':[_0x49b574(0xbaf)]},_0x502681=await callAnalysisApi(_0x599074,_0x317135);if(_0x502681&&_0x502681[_0x49b574(0xbaf)]){const _0x52c6bc=_0x502681[_0x49b574(0xbaf)];_0x599985['querySelector'](_0x49b574(0x633))[_0x49b574(0x452)]=_0x52c6bc[_0x49b574(0x536)]||_0x23c620['question'];switch(_0x6c295c){case _0x49b574(0x211):_0x52c6bc[_0x49b574(0xc87)]&&_0x52c6bc[_0x49b574(0xc87)][_0x49b574(0x7d2)]>0x0&&_0x599985[_0x49b574(0x68f)](_0x49b574(0x3ef))[_0x49b574(0x2d3)]((_0xc2869d,_0x552af0)=>{const _0x4b283a=_0x49b574;_0xc2869d[_0x4b283a(0x452)]=_0x52c6bc[_0x4b283a(0xc87)][_0x552af0]||_0x23c620[_0x4b283a(0xc87)][_0x552af0];});break;case _0x49b574(0x2d1):_0x599985['querySelector'](_0x49b574(0x839))[_0x49b574(0x452)]=_0x52c6bc['idealAnswer']||_0x23c620[_0x49b574(0xa57)];break;case _0x49b574(0xac4):_0x599985['querySelector'](_0x49b574(0x8ee))[_0x49b574(0x452)]=_0x52c6bc[_0x49b574(0x3a1)]||_0x23c620[_0x49b574(0x3a1)];break;}if(_0x23c620['question']!==_0x52c6bc[_0x49b574(0x536)])try{const _0x20f017=collection(db,'artifacts/'+appId+_0x49b574(0x8e4));await addDoc(_0x20f017,{'broken':_0x23c620[_0x49b574(0x536)],'fixed':_0x52c6bc[_0x49b574(0x536)],'createdAt':serverTimestamp()});}catch(_0x5425ac){console[_0x49b574(0x4e3)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x5425ac);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x49b574(0xbcc));}catch(_0x48f1fa){console['error'](_0x49b574(0x5de),_0x48f1fa),showMessage(_0x49b574(0x281));}finally{_0x38c688[_0x49b574(0xd5e)]=_0x49b574(0xab7),_0x38c688[_0x49b574(0x622)]=![];}}async function handleGenerateLessonPlan(_0x5afd11){const _0x1e29cc=_0x3a9f7b;showMessage(_0x1e29cc(0x79e));try{const _0x26c505=doc(db,_0x1e29cc(0xb3f)+appId+_0x1e29cc(0xb0a),_0x5afd11),_0x103fd9=await getDoc(_0x26c505);if(!_0x103fd9['exists']())throw new Error(_0x1e29cc(0x9ef));const _0x59d180={'id':_0x5afd11,..._0x103fd9[_0x1e29cc(0x180)]()},_0x12017d=collection(db,_0x1e29cc(0xb3f)+appId+_0x1e29cc(0xb0a),_0x5afd11,_0x1e29cc(0x7fc)),_0x21f24b=await getDocs(_0x12017d),_0x2bac40=_0x21f24b['docs'][_0x1e29cc(0x8ac)](_0x2a06a3=>_0x2a06a3[_0x1e29cc(0x180)]());if(_0x2bac40[_0x1e29cc(0x7d2)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x17fbd9=calculateItemAnalysis(_0x59d180,_0x2bac40)[_0x1e29cc(0xb8f)],_0x1f19a9=calculateDistractorAnalysis(_0x59d180,_0x2bac40),_0x8e3bec=_0xff939d=>{const _0x18e0f7=_0x1e29cc;if(!_0xff939d)return'';return _0xff939d[_0x18e0f7(0xaa1)](/\\/g,'\x5c\x5c')[_0x18e0f7(0xaa1)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x598a1c=_0x1e29cc(0x400);_0x59d180[_0x1e29cc(0x9fc)][_0x1e29cc(0x2d3)]((_0x2f04d1,_0x34bd85)=>{const _0x36780f=_0x1e29cc,_0x46c0a1=_0x17fbd9[_0x34bd85]?.['p'][_0x36780f(0xb83)](0x2)||_0x36780f(0x791),_0x4677cf=_0x17fbd9[_0x34bd85]?.['r'][_0x36780f(0xb83)](0x2)||_0x36780f(0x791),_0x2407eb=_0x8e3bec(_0x2f04d1[_0x36780f(0x47c)]||_0x2f04d1['stem']);_0x598a1c+=_0x36780f(0xa5c)+(_0x34bd85+0x1)+'\x20(p='+_0x46c0a1+',\x20r='+_0x4677cf+_0x36780f(0x2ab)+_0x2407eb+'\x5cn';if(_0x2f04d1[_0x36780f(0x7c7)]===_0x36780f(0x211)&&_0x1f19a9[_0x34bd85]){const _0x180b3e=_0x1f19a9[_0x34bd85],_0xb19a84=Object['keys'](_0x180b3e)[_0x36780f(0xb6e)](_0x3ae6c1=>parseInt(_0x3ae6c1)!==_0x2f04d1[_0x36780f(0xcfa)])[_0x36780f(0x3fc)]((_0x36d6a4,_0xd765f)=>_0x180b3e[_0xd765f][_0x36780f(0xad0)]-_0x180b3e[_0x36d6a4][_0x36780f(0xad0)])[0x0];if(_0xb19a84&&_0x180b3e[_0xb19a84][_0x36780f(0xad0)]>0x0){const _0x218ee0=_0x8e3bec(_0x180b3e[_0xb19a84][_0x36780f(0xbbd)]);_0x598a1c+=_0x36780f(0x327)+_0x218ee0+_0x36780f(0x627);}}});const _0x1b20cd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x59d180[_0x1e29cc(0x156)]+_0x1e29cc(0x3cc)+_0x598a1c+_0x1e29cc(0x738),_0x1e5ad1={'type':'OBJECT','properties':{'learningGaps':{'type':_0x1e29cc(0xff),'items':{'type':'STRING'}},'teachingContent':{'type':_0x1e29cc(0xfc)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x1e29cc(0x9c6),'properties':{'question':{'type':_0x1e29cc(0xfc)},'solution':{'type':_0x1e29cc(0xfc)}}}}},'required':[_0x1e29cc(0x2ac),'teachingContent',_0x1e29cc(0x9c7)]},_0x569db0=await callAnalysisApi(_0x1b20cd,_0x1e5ad1);await updateDoc(_0x26c505,{'lessonPlan':_0x569db0});const _0x23c7eb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x59d180['topic']+_0x1e29cc(0xc5f)+_0x569db0[_0x1e29cc(0x2ac)]['map'](_0x1a7d23=>'<li>'+_0x1a7d23+'</li>')[_0x1e29cc(0x986)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x569db0[_0x1e29cc(0xacc)]+_0x1e29cc(0xa47)+_0x569db0['practiceProblems'][_0x1e29cc(0x8ac)](_0x199853=>_0x1e29cc(0xa1a)+_0x199853['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x199853[_0x1e29cc(0x68d)]+_0x1e29cc(0x898))[_0x1e29cc(0x986)]('')+_0x1e29cc(0xd4d);document['getElementById']('lesson-plan-title')['textContent']=_0x1e29cc(0x36d)+_0x59d180['topic'],document[_0x1e29cc(0xc0e)]('lesson-plan-content')['innerHTML']=_0x23c7eb,document[_0x1e29cc(0xc0e)](_0x1e29cc(0x3a0))[_0x1e29cc(0x319)]['remove'](_0x1e29cc(0x772));if(window[_0x1e29cc(0x6e3)])MathJax[_0x1e29cc(0x16c)]();messageModal[_0x1e29cc(0x319)][_0x1e29cc(0x930)](_0x1e29cc(0x772));}catch(_0x152fc2){console[_0x1e29cc(0x4e3)](_0x1e29cc(0x278),_0x152fc2),showMessage(_0x1e29cc(0xc89)+_0x152fc2[_0x1e29cc(0x145)]);}}async function handleDuplicateQuiz(_0x19d162){const _0xc3fe61=_0x3a9f7b;try{const _0x3c6bcc=doc(db,_0xc3fe61(0xb3f)+appId+_0xc3fe61(0xb0a),_0x19d162),_0x3de09e=await getDoc(_0x3c6bcc);if(_0x3de09e[_0xc3fe61(0x1fb)]()){const _0x20eb33=_0x3de09e[_0xc3fe61(0x180)]();let _0x5e34ec='',_0x4da16f=_0xc3fe61(0x5aa),_0x1fbcc7=null;if(_0x20eb33[_0xc3fe61(0x4c2)]===_0xc3fe61(0x78e)){let _0x2dd990=_0x20eb33[_0xc3fe61(0x156)]['replace'](_0xc3fe61(0x24a),'')[_0xc3fe61(0xa0f)]();_0x5e34ec='(หลังเรียน)\x20'+_0x2dd990,_0x4da16f=_0xc3fe61(0xc97),_0x1fbcc7=_0x19d162;}else _0x5e34ec='(คัดลอก)\x20'+_0x20eb33[_0xc3fe61(0x156)];const _0x59fe47={..._0x20eb33,'topic':_0x5e34ec,'createdAt':new Date()['toISOString'](),'quizMode':_0x4da16f,'pairedQuizId':_0x1fbcc7};let _0x475e35;while(!![]){_0x475e35=Math[_0xc3fe61(0x48b)](0x3e8+Math[_0xc3fe61(0x120)]()*0x2328)[_0xc3fe61(0x6ad)]();const _0x4d346d=await getDoc(doc(db,_0xc3fe61(0xb3f)+appId+_0xc3fe61(0xb0a),_0x475e35));if(!_0x4d346d[_0xc3fe61(0x1fb)]())break;}const _0x37b591=doc(db,_0xc3fe61(0xb3f)+appId+'/public/data/quizzes',_0x475e35);await setDoc(_0x37b591,_0x59fe47),_0x59fe47[_0xc3fe61(0x4c2)]==='post-test'&&await updateDoc(_0x3c6bcc,{'pairedQuizId':_0x475e35}),showMessage(_0xc3fe61(0x5bf));}else throw new Error(_0xc3fe61(0x4b9));}catch(_0xeba57b){console['error'](_0xc3fe61(0x8cc),_0xeba57b),showMessage(_0xc3fe61(0xb4));}}async function handleDeleteQuiz(_0xb4e551,_0x532295=!![]){const _0x46565d=_0x3a9f7b;try{const _0x23c433=writeBatch(db),_0x5162b5=collection(db,_0x46565d(0xb3f)+appId+'/public/data/quizzes/'+_0xb4e551+'/submissions'),_0x360346=await getDocs(_0x5162b5);_0x360346['forEach'](_0xb3782e=>{_0x23c433['delete'](doc(_0x5162b5,_0xb3782e['id']));});const _0x4082a5=doc(db,_0x46565d(0xb3f)+appId+'/public/data/quizzes',_0xb4e551);_0x23c433['delete'](_0x4082a5),await _0x23c433[_0x46565d(0xd55)]();try{console[_0x46565d(0x955)](_0x46565d(0xa78)+_0xb4e551+_0x46565d(0xcba));const _0x2c1b6b=collection(db,_0x46565d(0xb3f)+appId+_0x46565d(0x87c)),_0x1ff35a=await getDocs(_0x2c1b6b),_0x38ebc0=[];_0x1ff35a[_0x46565d(0x2d3)](_0x3ff579=>{const _0x488b16=_0x46565d,_0x35cd46=_0x3ff579['data'](),_0x27de66=_0x35cd46['topics']||{};let _0x205184=![];for(const _0x53a71d in _0x27de66){const _0x4df84c=_0x27de66[_0x53a71d];if(_0x4df84c[_0x488b16(0xae6)]&&_0x4df84c[_0x488b16(0xae6)][_0x488b16(0x1bc)](_0xb4e551)){_0x205184=!![];const _0x30192c=doc(db,'artifacts/'+appId+_0x488b16(0x87c),_0x3ff579['id']),_0x46e7ac=updateDoc(_0x30192c,{['topics.'+_0x53a71d+_0x488b16(0x47d)]:arrayRemove(_0xb4e551)});_0x38ebc0[_0x488b16(0x187)](_0x46e7ac);}}}),_0x38ebc0[_0x46565d(0x7d2)]>0x0&&(await Promise[_0x46565d(0xc9a)](_0x38ebc0),console[_0x46565d(0x955)](_0x46565d(0x70f)+_0x38ebc0[_0x46565d(0x7d2)]+_0x46565d(0xad5)+_0xb4e551+'.'));}catch(_0x70b58){console[_0x46565d(0x4e3)](_0x46565d(0x5e9),_0x70b58);}_0x532295&&showMessage(_0x46565d(0xa2a));}catch(_0x3d5333){console[_0x46565d(0x4e3)]('Error\x20deleting\x20quiz:',_0x3d5333),_0x532295&&showMessage(_0x46565d(0xd34));}}async function showQuizDetailView(_0x6fc784){const _0x2039e5=_0x3a9f7b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x409493=doc(db,_0x2039e5(0xb3f)+appId+_0x2039e5(0xb0a),_0x6fc784),_0x5767dc=await getDoc(_0x409493);if(!_0x5767dc[_0x2039e5(0x1fb)]()){showMessage(_0x2039e5(0x9ef));return;}const _0x4cb40f={'id':_0x5767dc['id'],..._0x5767dc['data']()};currentQuizData=_0x4cb40f;const _0x3cbd98=doc(db,_0x2039e5(0xb3f)+appId+_0x2039e5(0xb8e),_0x4cb40f[_0x2039e5(0xd39)]),_0x18df9a=await getDoc(_0x3cbd98);_0x18df9a[_0x2039e5(0x1fb)]()?(currentProjectData=_0x18df9a['data'](),currentProjectId=_0x4cb40f[_0x2039e5(0xd39)]):(currentProjectData={'students':[]},currentProjectId=_0x4cb40f[_0x2039e5(0xd39)]);document[_0x2039e5(0xc0e)](_0x2039e5(0x7ed))[_0x2039e5(0x6fb)]=_0x4cb40f[_0x2039e5(0x156)],document[_0x2039e5(0xc0e)](_0x2039e5(0x59e))[_0x2039e5(0x6fb)]=_0x6fc784;const _0x31945a=collection(db,_0x2039e5(0xb3f)+appId+_0x2039e5(0xb0a),_0x6fc784,_0x2039e5(0x7fc));unsubscribeSubmissionsListener=onSnapshot(_0x31945a,_0x3f238d=>{const _0x3eeb7c=_0x2039e5,_0x1a076f=_0x3f238d[_0x3eeb7c(0x726)][_0x3eeb7c(0x8ac)](_0x26003b=>({'id':_0x26003b['id'],..._0x26003b['data']()}));currentSubmissions=_0x1a076f;const _0x5d3ecb=_0x1a076f['filter'](_0x170c2d=>_0x170c2d[_0x3eeb7c(0x57c)]&&_0x170c2d['attempts']['length']>0x0);renderBehaviorLog(_0x1a076f),renderAnswerGrid(currentProjectData[_0x3eeb7c(0xa46)],_0x5d3ecb,_0x4cb40f),renderAnalytics(_0x4cb40f,_0x5d3ecb),renderQuizResultsTable(currentProjectData[_0x3eeb7c(0xa46)],_0x1a076f,_0x4cb40f),renderQuizLeaderboard(_0x5d3ecb,_0x4cb40f,_0x3eeb7c(0x2c9));}),showView(_0x2039e5(0x753));}catch(_0x1f8607){console[_0x2039e5(0x4e3)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x1f8607),showMessage(_0x2039e5(0x15d));}}function renderAnswerGrid(_0x334df8,_0x346a15,_0x1c7df3){const _0x8ae28b=_0x3a9f7b,_0x20a75f=document['getElementById'](_0x8ae28b(0x659));if(!_0x20a75f)return;if(!_0x334df8||_0x334df8[_0x8ae28b(0x7d2)]===0x0){_0x20a75f[_0x8ae28b(0xd5e)]=_0x8ae28b(0x1d9);return;}const _0x2b5fd1=_0x1c7df3[_0x8ae28b(0x9fc)],_0x5e3334=_0x346a15['reduce']((_0xee330b,_0x254af0)=>{const _0x358074=_0x8ae28b;return _0xee330b[_0x254af0[_0x358074(0xbba)]]=_0x254af0,_0xee330b;},{}),_0xf5ab15=_0x246895=>String[_0x8ae28b(0x26e)](0x41+_0x246895),_0x5de5a5=_0x1e8f2c=>{const _0x2c181a=_0x8ae28b,_0xd6f499=_0x1e8f2c[_0x2c181a(0x7c7)]||_0x1c7df3[_0x2c181a(0xc6c)];switch(_0xd6f499){case _0x2c181a(0x211):return _0x1e8f2c[_0x2c181a(0xc87)]&&_0x1e8f2c['options'][_0x2c181a(0x7d2)]>_0x1e8f2c['correctAnswerIndex']?_0xf5ab15(_0x1e8f2c[_0x2c181a(0xcfa)]):'-';case _0x2c181a(0x56e):const _0x267832=_0x1e8f2c[_0x2c181a(0x13c)]===!![]||String(_0x1e8f2c[_0x2c181a(0x13c)])[_0x2c181a(0x703)]()===_0x2c181a(0x65b);return _0x267832?_0x2c181a(0x53e):_0x2c181a(0x80d);case _0x2c181a(0xac4):return _0x1e8f2c[_0x2c181a(0x3a1)]||'-';case'short_answer':return _0x2c181a(0x296);default:return'-';}},_0x406026=(_0x36fcda,_0x5268ea)=>{const _0x49f1b8=_0x8ae28b;if(_0x5268ea[_0x49f1b8(0x7d7)]===null||_0x5268ea[_0x49f1b8(0x7d7)]===undefined)return'-';const _0x402849=_0x36fcda['questionType']||_0x1c7df3['quizType'];switch(_0x402849){case _0x49f1b8(0x211):const _0x41c2d2=_0x36fcda[_0x49f1b8(0xc87)][_0x49f1b8(0x287)](_0x5df825=>_0x5df825===_0x5268ea[_0x49f1b8(0x4a9)]);return _0x41c2d2!==-0x1?_0xf5ab15(_0x41c2d2):_0x5268ea[_0x49f1b8(0x4a9)]||'-';case _0x49f1b8(0x56e):if(_0x5268ea[_0x49f1b8(0x7d7)]=='0'||_0x5268ea[_0x49f1b8(0x7d7)]===!![]||_0x5268ea[_0x49f1b8(0x7d7)]===_0x49f1b8(0x65b))return'ใช่';return _0x49f1b8(0x80d);default:return _0x5268ea[_0x49f1b8(0x7d7)];}};let _0x5c55c0=_0x8ae28b(0xa17)+_0x2b5fd1[_0x8ae28b(0x8ac)]((_0x9d8979,_0x4e3821)=>_0x8ae28b(0x7cb)+(_0x4e3821+0x1)+_0x8ae28b(0xbed))[_0x8ae28b(0x986)]('')+_0x8ae28b(0x6aa)+_0x2b5fd1[_0x8ae28b(0x8ac)](_0x15c166=>_0x8ae28b(0x4fd)+_0x5de5a5(_0x15c166)+_0x8ae28b(0x479))[_0x8ae28b(0x986)]('')+_0x8ae28b(0x1b9);_0x334df8[_0x8ae28b(0x2d3)](_0x197737=>{const _0x40cc32=_0x8ae28b;_0x5c55c0+=_0x40cc32(0x11d),_0x5c55c0+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x197737+_0x40cc32(0x479);const _0x58790b=_0x5e3334[_0x197737];if(_0x58790b){const _0x3a3d6d=_0x58790b[_0x40cc32(0x57c)][_0x58790b[_0x40cc32(0x57c)][_0x40cc32(0x7d2)]-0x1];_0x2b5fd1[_0x40cc32(0x2d3)]((_0x12d257,_0x25e395)=>{const _0x221ecd=_0x40cc32,_0x3e4812=_0x3a3d6d['answers']['find'](_0x11356a=>_0x11356a['questionId']===_0x12d257['id']);if(_0x3e4812){let _0x2bc45f='';const _0xd7d930=_0x3e4812[_0x221ecd(0xbe1)]===!![],_0x3d42e0=_0x3e4812[_0x221ecd(0x802)]===!![]||_0x3e4812[_0x221ecd(0x802)]===_0x221ecd(0xb97);_0x3d42e0?_0x2bc45f=_0xd7d930?_0x221ecd(0x9f8):_0x221ecd(0x223):_0x2bc45f=_0xd7d930?_0x221ecd(0x4d6):_0x221ecd(0x7a0),_0x5c55c0+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x2bc45f+'\x22>'+_0x406026(_0x12d257,_0x3e4812)+_0x221ecd(0x479);}else _0x5c55c0+=_0x221ecd(0x5b7);});}else _0x5c55c0+=_0x2b5fd1[_0x40cc32(0x8ac)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x40cc32(0x986)]('');_0x5c55c0+=_0x40cc32(0x158);}),_0x5c55c0+=_0x8ae28b(0x17d),_0x20a75f[_0x8ae28b(0xd5e)]=_0x5c55c0;}function renderQuizResultsTable(_0x2fa72e,_0x5973fb,_0x2766b0){const _0x52e44c=_0x3a9f7b,_0x40d33c=_0x5973fb[_0x52e44c(0x78a)]((_0x3d8748,_0x2c8ce4)=>{const _0x533237=_0x52e44c;return _0x3d8748[_0x2c8ce4[_0x533237(0xbba)]]=_0x2c8ce4,_0x3d8748;},{}),_0x9feda1=document['querySelector'](_0x52e44c(0x4d3));_0x9feda1&&!_0x9feda1['innerHTML'][_0x52e44c(0x1bc)](_0x52e44c(0x724))&&(_0x9feda1['innerHTML']+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x5f36bc=document[_0x52e44c(0xc0e)]('quiz-results-table-body');if(!_0x2fa72e||_0x2fa72e[_0x52e44c(0x7d2)]===0x0){_0x5f36bc[_0x52e44c(0xd5e)]=_0x52e44c(0xcd3);return;}const _0x1d5799=_0x2766b0[_0x52e44c(0x817)]===!![],_0x5a1f16=_0x2766b0['settings']?.[_0x52e44c(0x324)]??-0x1;let _0xa25837='';_0x2fa72e[_0x52e44c(0x2d3)](_0x9fcd83=>{const _0x3c02f2=_0x52e44c,_0x24e161=_0x40d33c[_0x9fcd83];let _0x1da4a1=_0x3c02f2(0xc77)+(_0x1d5799?_0x3c02f2(0xb9f):_0x3c02f2(0x3db))+'\x22>'+(_0x1d5799?_0x3c02f2(0xaa8):'สอบปกติ')+_0x3c02f2(0x2f8);if(_0x24e161){if(_0x24e161[_0x3c02f2(0x57c)]&&_0x24e161[_0x3c02f2(0x57c)]['length']>0x0){let _0x472f4a=_0x1d5799?_0x24e161['bestScore']===_0x24e161['totalQuestions']:_0x5a1f16!==-0x1&&_0x24e161[_0x3c02f2(0x963)]>=_0x5a1f16;const _0x38d8f6=_0x472f4a?_0x3c02f2(0x458):_0x3c02f2(0x3d4),_0x54cb2d=_0x472f4a?_0x3c02f2(0x70a):'ไม่ผ่าน',_0x40fa3d=_0x3c02f2(0x5f4)+_0x38d8f6+'\x22>'+_0x54cb2d+_0x3c02f2(0x2f8),_0x61fa0a='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x24e161['attempts']?.[_0x3c02f2(0x7d2)]||0x1)+_0x3c02f2(0x7bb);_0xa25837+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x9fcd83+_0x3c02f2(0x205)+_0x24e161['bestScore']+_0x3c02f2(0x14d)+_0x24e161['totalQuestions']+_0x3c02f2(0xc01)+_0x40fa3d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1da4a1+_0x3c02f2(0x414)+_0x24e161['firstScore']+'\x20/\x20'+_0x24e161[_0x3c02f2(0x46c)]+_0x3c02f2(0x606)+_0x24e161[_0x3c02f2(0x320)]+_0x3c02f2(0x14d)+_0x24e161[_0x3c02f2(0x46c)]+_0x3c02f2(0x584)+(_0x24e161[_0x3c02f2(0x3ba)]||0x0)+_0x3c02f2(0xc01)+_0x61fa0a+_0x3c02f2(0xa4c)+new Date(_0x24e161['latestSubmittedAt'])[_0x3c02f2(0x1c1)](_0x3c02f2(0xf8))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x9fcd83+_0x3c02f2(0x793);}else{const _0x2dba4a=_0x3c02f2(0xc2d);_0xa25837+=_0x3c02f2(0xb2a)+_0x9fcd83+_0x3c02f2(0x9eb)+_0x1da4a1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2dba4a+_0x3c02f2(0xa4c)+new Date(_0x24e161[_0x3c02f2(0x8e7)])['toLocaleString'](_0x3c02f2(0xf8))+_0x3c02f2(0x929)+_0x9fcd83+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x1a2e23=_0x3c02f2(0x8fd);_0xa25837+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x9fcd83+_0x3c02f2(0xd00)+_0x1da4a1+_0x3c02f2(0x2f3)+_0x1a2e23+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x5f36bc[_0x52e44c(0xd5e)]=_0xa25837;}async function confirmRenameQuiz(){const _0xc3d6dc=_0x3a9f7b,_0x4e7285=document['getElementById'](_0xc3d6dc(0xd2b))[_0xc3d6dc(0x452)]['trim']();if(!_0x4e7285){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x33d100=doc(db,_0xc3d6dc(0xb3f)+appId+_0xc3d6dc(0xb0a),actionTargetId);try{await updateDoc(_0x33d100,{'topic':_0x4e7285}),showMessage(_0xc3d6dc(0x8dd)),renameQuizModal[_0xc3d6dc(0x319)][_0xc3d6dc(0x930)](_0xc3d6dc(0x772)),actionTargetId=null;}catch(_0x213701){console[_0xc3d6dc(0x4e3)](_0xc3d6dc(0x53b),_0x213701),showMessage(_0xc3d6dc(0xbef));}}async function handleMoveQuiz(_0x15ce6d){const _0x2246cd=_0x3a9f7b;actionTargetId=_0x15ce6d;const _0x485245=document[_0x2246cd(0xc0e)]('move-quiz-project-select');_0x485245['innerHTML']=_0x2246cd(0x9a8),moveQuizModal[_0x2246cd(0x319)][_0x2246cd(0xd08)](_0x2246cd(0x772));try{const _0x3f4360=collection(db,_0x2246cd(0xb3f)+appId+'/public/data/projects'),_0x16411a=await getDocs(_0x3f4360),_0x2c4bd8=_0x16411a['docs']['map'](_0xb5590a=>({'id':_0xb5590a['id'],..._0xb5590a[_0x2246cd(0x180)]()})),_0xf54624=_0x2c4bd8[_0x2246cd(0xb6e)](_0x4ca0d6=>_0x4ca0d6['id']!==currentProjectId);if(_0xf54624[_0x2246cd(0x7d2)]===0x0){_0x485245[_0x2246cd(0xd5e)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document['getElementById']('confirm-move-quiz-btn')[_0x2246cd(0x622)]=!![];return;}_0x485245['innerHTML']=_0xf54624[_0x2246cd(0x8ac)](_0x5a8dfe=>'<option\x20value=\x22'+_0x5a8dfe['id']+'\x22>'+_0x5a8dfe['projectName']+_0x2246cd(0x17b))[_0x2246cd(0x986)](''),document[_0x2246cd(0xc0e)](_0x2246cd(0x5b5))[_0x2246cd(0x622)]=![];}catch(_0x82257b){console[_0x2246cd(0x4e3)](_0x2246cd(0xcc0),_0x82257b),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal['classList'][_0x2246cd(0x930)](_0x2246cd(0x772));}}async function confirmMoveQuiz(){const _0x15e595=_0x3a9f7b,_0x2307c0=document[_0x15e595(0xc0e)]('move-quiz-project-select')['value'];if(!_0x2307c0){showMessage(_0x15e595(0x4e4));return;}if(!actionTargetId)return;const _0x47d128=doc(db,_0x15e595(0xb3f)+appId+_0x15e595(0xb0a),actionTargetId);try{await updateDoc(_0x47d128,{'projectId':_0x2307c0}),showMessage(_0x15e595(0x12b)),moveQuizModal['classList'][_0x15e595(0x930)](_0x15e595(0x772)),actionTargetId=null;}catch(_0xfa35e3){console[_0x15e595(0x4e3)](_0x15e595(0x20a),_0xfa35e3),showMessage(_0x15e595(0xcd2));}}async function handleQuizSettings(_0x33e6e0){const _0x3b22f2=_0x3a9f7b;actionTargetId=_0x33e6e0;const _0x41598f=doc(db,_0x3b22f2(0xb3f)+appId+_0x3b22f2(0xb0a),_0x33e6e0);try{const _0x41301e=await getDoc(_0x41598f);if(_0x41301e[_0x3b22f2(0x1fb)]()){const _0xf37b4=_0x41301e['data'](),_0x20e901=_0xf37b4['settings']||{},_0x1f52f4=_0xf37b4[_0x3b22f2(0x9fc)]['length'];document[_0x3b22f2(0xc0e)](_0x3b22f2(0x67f))[_0x3b22f2(0x452)]=_0x20e901[_0x3b22f2(0x125)]||_0x3b22f2(0x81d),document[_0x3b22f2(0xc0e)]('modal-results-display-select')[_0x3b22f2(0x452)]=_0x20e901['resultsDisplay']||_0x3b22f2(0xd50),document[_0x3b22f2(0xc0e)](_0x3b22f2(0xcf4))[_0x3b22f2(0x452)]=_0x20e901[_0x3b22f2(0x997)]||_0x3b22f2(0x81d),document[_0x3b22f2(0xc0e)](_0x3b22f2(0x5c8))['value']=_0x20e901[_0x3b22f2(0x20e)]||0xa,document[_0x3b22f2(0xc0e)]('modal-passing-score-input')[_0x3b22f2(0x452)]=_0x20e901[_0x3b22f2(0x324)]||Math[_0x3b22f2(0x48b)](_0x1f52f4/0x2),document[_0x3b22f2(0xc0e)]('modal-passing-score-input')[_0x3b22f2(0x347)]=_0x1f52f4,document['getElementById'](_0x3b22f2(0x10b))[_0x3b22f2(0x9da)]=_0x20e901[_0x3b22f2(0x337)]||![],document[_0x3b22f2(0xc0e)](_0x3b22f2(0xcf))[_0x3b22f2(0x9da)]=_0x20e901[_0x3b22f2(0x981)]||![];const _0x143cea=_0x20e901[_0x3b22f2(0xce8)]||![];document[_0x3b22f2(0xc0e)](_0x3b22f2(0x424))[_0x3b22f2(0x9da)]=_0x143cea,document[_0x3b22f2(0xc0e)]('modal-confidence-mode-select')[_0x3b22f2(0x452)]=_0x20e901['confidenceMode']||_0x3b22f2(0x467);const _0x97e2f1=document[_0x3b22f2(0xc0e)](_0x3b22f2(0xb78));_0x97e2f1[_0x3b22f2(0x319)][_0x3b22f2(0xd6e)]('hidden',!_0x143cea),document[_0x3b22f2(0xc0e)](_0x3b22f2(0xcf4))[_0x3b22f2(0xb12)](new Event(_0x3b22f2(0xc16))),quizSettingsModal['classList'][_0x3b22f2(0xd08)](_0x3b22f2(0x772));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x5a7ddb){console['error']('Error\x20fetching\x20quiz\x20settings:',_0x5a7ddb),showMessage(_0x3b22f2(0x24e));}}async function confirmQuizSettings(){const _0x4cc326=_0x3a9f7b;if(!actionTargetId)return;const _0x373c93=doc(db,_0x4cc326(0xb3f)+appId+_0x4cc326(0xb0a),actionTargetId),_0xd89484={'shuffle':document[_0x4cc326(0xc0e)](_0x4cc326(0x67f))[_0x4cc326(0x452)],'resultsDisplay':document[_0x4cc326(0xc0e)](_0x4cc326(0x2cb))[_0x4cc326(0x452)],'timerMode':document['getElementById'](_0x4cc326(0xcf4))['value'],'timerDuration':parseInt(document[_0x4cc326(0xc0e)](_0x4cc326(0x5c8))[_0x4cc326(0x452)])||0xa,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')[_0x4cc326(0x452)])||0x0,'isAdaptive':document['getElementById']('modal-adaptive-quiz-checkbox')[_0x4cc326(0x9da)],'loopUntilPass':document[_0x4cc326(0xc0e)](_0x4cc326(0xcf))['checked'],'isConfidenceScoringEnabled':document['getElementById']('modal-confidence-scoring-checkbox')[_0x4cc326(0x9da)],'confidenceMode':document['getElementById'](_0x4cc326(0x2ef))[_0x4cc326(0x452)]};try{await updateDoc(_0x373c93,{'settings':_0xd89484}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x4cc326(0x319)][_0x4cc326(0x930)](_0x4cc326(0x772)),actionTargetId=null;}catch(_0xed1563){console[_0x4cc326(0x4e3)](_0x4cc326(0xa4d),_0xed1563),showMessage(_0x4cc326(0x16b));}}async function confirmQuizStatus(){const _0x46c00f=_0x3a9f7b;if(!actionTargetId)return;const _0x22f9ae=doc(db,_0x46c00f(0xb3f)+appId+_0x46c00f(0xb0a),actionTargetId),_0x1ee8f9=document[_0x46c00f(0x535)](_0x46c00f(0x4eb));if(!_0x1ee8f9){showMessage(_0x46c00f(0x484));return;}const _0x40348b=_0x1ee8f9[_0x46c00f(0x452)];let _0x15e074={};if(_0x40348b===_0x46c00f(0x75a)||_0x40348b==='inactive')_0x15e074={'status':_0x40348b,'startTime':null,'endTime':null};else{if(_0x40348b===_0x46c00f(0x3f6)){const _0x3d0fea=document[_0x46c00f(0xc0e)]('quiz-start-time')[_0x46c00f(0x452)],_0x3c9b1b=document['getElementById']('quiz-end-time')[_0x46c00f(0x452)];if(!_0x3d0fea&&!_0x3c9b1b){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x15e074={'status':_0x46c00f(0x8e8),'startTime':_0x3d0fea?new Date(_0x3d0fea)[_0x46c00f(0x1cd)]():null,'endTime':_0x3c9b1b?new Date(_0x3c9b1b)[_0x46c00f(0x1cd)]():null};}}try{await updateDoc(_0x22f9ae,_0x15e074),showMessage(_0x46c00f(0xc32)),quizStatusModal['classList']['add'](_0x46c00f(0x772)),actionTargetId=null;}catch(_0xf0822){console[_0x46c00f(0x4e3)](_0x46c00f(0x814),_0xf0822),showMessage(_0x46c00f(0xc4a));}}function listenForStudentProfiles(_0x41260e){const _0x148323=_0x3a9f7b,_0x457879=collection(db,_0x148323(0xb3f)+appId+_0x148323(0x827)+_0x41260e+_0x148323(0xc06));unsubscribeStudentProfilesListener=onSnapshot(_0x457879,_0x350acd=>{const _0x5751f9=_0x148323,_0x51b3fa=_0x350acd['docs'][_0x5751f9(0x8ac)](_0x3a9dda=>_0x3a9dda[_0x5751f9(0x180)]());renderLeaderboard(_0x51b3fa,_0x5751f9(0x771));},_0x4d1214=>{const _0x4d792d=_0x148323;console['error'](_0x4d792d(0xaae),_0x4d1214),document[_0x4d792d(0xc0e)]('leaderboard-table-body')[_0x4d792d(0xd5e)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x3ac309,_0x46a257){const _0x3cf52f=_0x3a9f7b,_0x57a1c9=document['getElementById'](_0x46a257);if(!_0x3ac309||_0x3ac309[_0x3cf52f(0x7d2)]===0x0){_0x57a1c9[_0x3cf52f(0xd5e)]=_0x3cf52f(0x7a9);return;}_0x3ac309['sort']((_0x4c116d,_0x302a49)=>{const _0x4c6278=_0x3cf52f,_0xc09a23=(_0x302a49[_0x4c6278(0x33e)]||0x0)-(_0x4c116d[_0x4c6278(0x33e)]||0x0);if(_0xc09a23!==0x0)return _0xc09a23;const _0x2d656d=(_0x302a49['badgesCount']?.[_0x4c6278(0xc5)]||0x0)-(_0x4c116d['badgesCount']?.[_0x4c6278(0xc5)]||0x0);if(_0x2d656d!==0x0)return _0x2d656d;const _0x2373be=(_0x302a49['badgesCount']?.[_0x4c6278(0xae4)]||0x0)-(_0x4c116d[_0x4c6278(0x6a0)]?.[_0x4c6278(0xae4)]||0x0);if(_0x2373be!==0x0)return _0x2373be;const _0x1e83f8=(_0x302a49[_0x4c6278(0x6a0)]?.[_0x4c6278(0x902)]||0x0)-(_0x4c116d[_0x4c6278(0x6a0)]?.['perfect_score']||0x0);if(_0x1e83f8!==0x0)return _0x1e83f8;const _0x29dc8c=(_0x302a49[_0x4c6278(0x6a0)]?.[_0x4c6278(0x4e5)]||0x0)-(_0x4c116d['badgesCount']?.[_0x4c6278(0x4e5)]||0x0);if(_0x29dc8c!==0x0)return _0x29dc8c;return _0x4c116d[_0x4c6278(0xbba)][_0x4c6278(0xae5)](_0x302a49[_0x4c6278(0xbba)],'th');});let _0xa128fd='';_0x3ac309[_0x3cf52f(0x2d3)]((_0x20c2dd,_0x573f00)=>{const _0x4d2920=_0x3cf52f,_0x1f6fbf=_0x573f00+0x1,_0x2ce219=_0x20c2dd[_0x4d2920(0x6a0)]||{};let _0x4437c7='';const _0x24b2c6=[_0x4d2920(0xc5),'perfect_score',_0x4d2920(0xae4),_0x4d2920(0x4e5)];_0x24b2c6[_0x4d2920(0x2d3)](_0x139ef8=>{const _0x234da7=_0x4d2920;if(_0x2ce219[_0x139ef8]>0x0){const _0x5a7dad=Object[_0x234da7(0x3ac)](BADGES)[_0x234da7(0x4b3)](_0x3c9460=>_0x3c9460['id']===_0x139ef8);_0x5a7dad&&(_0x139ef8===_0x234da7(0xc5)?_0x4437c7+=_0x234da7(0x402)+_0x5a7dad['name']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x5a7dad[_0x234da7(0xc48)]+_0x234da7(0x8cf):_0x4437c7+=_0x234da7(0x402)+_0x5a7dad[_0x234da7(0x58e)]+'\x20('+_0x2ce219[_0x139ef8]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x5a7dad['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x2ce219[_0x139ef8]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0xa128fd+=_0x4d2920(0x855)+_0x1f6fbf+_0x4d2920(0xbb7)+_0x20c2dd[_0x4d2920(0xbba)]+_0x4d2920(0xd1f)+(_0x20c2dd[_0x4d2920(0x33e)]||0x0)+_0x4d2920(0xbb7)+(_0x4437c7||'-')+_0x4d2920(0x816);}),_0x57a1c9[_0x3cf52f(0xd5e)]=_0xa128fd;}function displayLoopScreen(_0x5dc4be,_0x3339f1,_0x22a5a4){const _0x4af194=_0x3a9f7b;let _0x188951='';_0x22a5a4!==_0x4af194(0xa39)&&(_0x188951=_0x4af194(0xa29)+_0x5dc4be+'\x20/\x20'+_0x3339f1+_0x4af194(0x6f4));const _0x562fba=_0x4af194(0x31e)+_0x188951+_0x4af194(0x2fb);studentResultArea[_0x4af194(0xd5e)]=_0x562fba,studentResultArea[_0x4af194(0x319)][_0x4af194(0xd08)](_0x4af194(0x772)),studentQuizArea[_0x4af194(0x319)][_0x4af194(0x930)]('hidden'),document['getElementById'](_0x4af194(0x602))[_0x4af194(0x59d)](_0x4af194(0x9fd),()=>{const _0x298b85=_0x4af194;studentResultArea[_0x298b85(0x319)][_0x298b85(0x930)](_0x298b85(0x772)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x21947a,_0xaa04fc,_0x2d9f14){const _0x1e59a6=_0x3a9f7b,_0x6b9d5b=document[_0x1e59a6(0xc0e)](_0x2d9f14),_0x1a93f6=_0x2d9f14===_0x1e59a6(0x4de),_0x3ac8b3=_0xaa04fc[_0x1e59a6(0x9fc)][_0x1e59a6(0x7d2)],_0x4b1863=document['getElementById'](_0x2d9f14)['closest'](_0x1e59a6(0x639));if(_0x4b1863&&!_0x1a93f6){const _0x18d3c1=_0x4b1863[_0x1e59a6(0x535)](_0x1e59a6(0xa53));_0x18d3c1['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x21947a||_0x21947a['length']===0x0){_0x6b9d5b[_0x1e59a6(0xd5e)]=_0x1e59a6(0x226)+(_0x1a93f6?0x6:0x8)+_0x1e59a6(0xa86);return;}const _0x42283c=[..._0x21947a];_0x42283c[_0x1e59a6(0x3fc)]((_0x14da41,_0x2b1313)=>{const _0x20053c=_0x1e59a6;let _0x115beb,_0x169856;switch(quizLeaderboardSortBy){case'studentName':_0x115beb=_0x14da41[_0x20053c(0xbba)]||'',_0x169856=_0x2b1313[_0x20053c(0xbba)]||'';return quizLeaderboardSortOrder===_0x20053c(0x474)?_0x115beb['localeCompare'](_0x169856,'th'):_0x169856[_0x20053c(0xae5)](_0x115beb,'th');case _0x20053c(0x3ba):_0x115beb=_0x14da41[_0x20053c(0x3ba)]||0x0,_0x169856=_0x2b1313[_0x20053c(0x3ba)]||0x0;break;case _0x20053c(0x57c):_0x115beb=_0x14da41[_0x20053c(0x57c)]?.[_0x20053c(0x7d2)]||0x1,_0x169856=_0x2b1313[_0x20053c(0x57c)]?.[_0x20053c(0x7d2)]||0x1;break;case'latestSubmittedAt':_0x115beb=new Date(_0x14da41['latestSubmittedAt']),_0x169856=new Date(_0x2b1313[_0x20053c(0x3dc)]);break;case _0x20053c(0x963):default:_0x115beb=_0x14da41[_0x20053c(0x963)],_0x169856=_0x2b1313['bestScore'];break;}if(_0x115beb<_0x169856)return quizLeaderboardSortOrder===_0x20053c(0x474)?-0x1:0x1;if(_0x115beb>_0x169856)return quizLeaderboardSortOrder===_0x20053c(0x474)?0x1:-0x1;return 0x0;});const _0x28c81c=_0xaa04fc[_0x1e59a6(0x817)]===!![],_0x48ba11=_0xaa04fc[_0x1e59a6(0x7e8)]?.['passingScore']??-0x1;let _0x2ae3b8='';_0x42283c[_0x1e59a6(0x2d3)]((_0x5c5b05,_0x33ce82)=>{const _0x284c92=_0x1e59a6,_0x4db500=_0x33ce82+0x1;let _0x278473=_0x284c92(0xc08);if(_0x28c81c||_0x48ba11!==-0x1){let _0xf97128=_0x28c81c?_0x5c5b05[_0x284c92(0x963)]===_0x3ac8b3:_0x5c5b05[_0x284c92(0x963)]>=_0x48ba11;const _0xaaa733=_0xf97128?_0x284c92(0x458):_0x284c92(0x3d4),_0x35f12d=_0xf97128?_0x284c92(0x70a):_0x284c92(0x231);_0x278473='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0xaaa733+'\x22>'+_0x35f12d+'</span></td>';}const _0x369765=_0x5c5b05['attempts'][_0x5c5b05['attempts']['length']-0x1],_0x555137=(_0x369765['badges']||[])['map'](_0x219141=>{const _0x5e31bc=_0x284c92,_0x53732a=Object['values'](BADGES)[_0x5e31bc(0x4b3)](_0x1056f8=>_0x1056f8['id']===_0x219141);return _0x53732a?_0x5e31bc(0x9d8)+_0x53732a[_0x5e31bc(0x58e)]+'\x22><i\x20class=\x22fas\x20'+_0x53732a[_0x5e31bc(0xc48)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x284c92(0x986)]('');_0x2ae3b8+=_0x284c92(0x144)+_0x4db500+_0x284c92(0xd18)+_0x5c5b05[_0x284c92(0xbba)]+_0x284c92(0x9f2)+_0x5c5b05['bestScore']+_0x284c92(0x14d)+_0x3ac8b3+_0x284c92(0x74e)+_0x278473+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x5c5b05['points']||0x0)+_0x284c92(0x74e)+(_0x1a93f6?'':_0x284c92(0xb0b)+(_0x5c5b05[_0x284c92(0x57c)]?.['length']||0x1)+_0x284c92(0x479))+_0x284c92(0xadb)+(_0x1a93f6?'':_0x284c92(0x39d)+new Date(_0x5c5b05[_0x284c92(0x3dc)])[_0x284c92(0x1c1)](_0x284c92(0xf8))+_0x284c92(0x479))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x555137||'-')+_0x284c92(0x7ef);}),_0x6b9d5b[_0x1e59a6(0xd5e)]=_0x2ae3b8,_0x4b1863&&!_0x1a93f6&&_0x4b1863['querySelectorAll'](_0x1e59a6(0x810))[_0x1e59a6(0x2d3)](_0x396c2c=>{const _0x53be80=_0x1e59a6,_0x58a08c=_0x396c2c['querySelector']('.sort-indicator');if(_0x58a08c)_0x58a08c[_0x53be80(0xd08)]();_0x396c2c[_0x53be80(0x5e8)][_0x53be80(0x3fc)]===quizLeaderboardSortBy&&(_0x396c2c[_0x53be80(0xd5e)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x53be80(0x474)?'▲':'▼')+_0x53be80(0xcd9));});}async function handleDeleteSubmission(_0x1891a2){const _0x2224b3=_0x3a9f7b;if(!currentQuizData||!currentQuizData['id']||!_0x1891a2){showMessage(_0x2224b3(0x89a));return;}showConfirmation(_0x2224b3(0xcaf)+_0x1891a2+_0x2224b3(0x66f),async()=>{const _0x224547=_0x2224b3,_0x37457c=currentQuizData['id'],_0xab39a7=doc(db,'artifacts/'+appId+_0x224547(0x253)+_0x37457c+_0x224547(0x251),_0x1891a2);try{await deleteDoc(_0xab39a7),showMessage(_0x224547(0x693)+_0x1891a2+_0x224547(0xbf));}catch(_0x271e41){console[_0x224547(0x4e3)](_0x224547(0x9e2),_0x271e41),showMessage(_0x224547(0x7a6));}});}async function handleLoadQuiz(){const _0x1fd802=_0x3a9f7b,_0x1a352e=document[_0x1fd802(0xc0e)](_0x1fd802(0xa9d)),_0x36415e=_0x1a352e['value']['trim']();if(!_0x36415e){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x1fd802(0x622)]=!![],loadQuizBtn['innerHTML']=_0x1fd802(0x9e0);try{const _0x464157=doc(db,_0x1fd802(0xb3f)+appId+_0x1fd802(0xb0a),_0x36415e),_0x5dc069=await getDoc(_0x464157);if(!_0x5dc069[_0x1fd802(0x1fb)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x5dc069['id'],..._0x5dc069[_0x1fd802(0x180)]()};const _0x514b45=currentQuizData['status']||_0x1fd802(0x75a),_0x43814d=new Date();if(_0x514b45===_0x1fd802(0x856)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x514b45===_0x1fd802(0x8e8)){const _0x3e677d=currentQuizData[_0x1fd802(0x8a7)]?new Date(currentQuizData[_0x1fd802(0x8a7)]):null,_0x4f87c5=currentQuizData[_0x1fd802(0x56c)]?new Date(currentQuizData[_0x1fd802(0x56c)]):null;if(_0x3e677d&&_0x43814d<_0x3e677d){showMessage(_0x1fd802(0xc91)+_0x3e677d['toLocaleString'](_0x1fd802(0xf8),{'hour12':![]}));return;}if(_0x4f87c5&&_0x43814d>_0x4f87c5){showMessage(_0x1fd802(0x8ec));return;}}const _0x84966f=currentQuizData[_0x1fd802(0xd39)];currentProjectId=_0x84966f;const _0x2947a7=doc(db,'artifacts/'+appId+_0x1fd802(0xb8e),_0x84966f),_0x31767e=await getDoc(_0x2947a7);if(!_0x31767e[_0x1fd802(0x1fb)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x3fa1ca=_0x31767e[_0x1fd802(0x180)]();currentStudentProjectData=_0x3fa1ca,displayStudentNameSelector(_0x3fa1ca[_0x1fd802(0xa46)],currentQuizData[_0x1fd802(0x156)]);}catch(_0x307e14){console[_0x1fd802(0x4e3)](_0x1fd802(0xb18),_0x307e14),showMessage(_0x1fd802(0xbfe));}finally{loadQuizBtn[_0x1fd802(0x622)]=![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x352000=_0x3a9f7b,_0x14e671=document[_0x352000(0xc0e)](_0x352000(0x9dd)),_0x4c9784=document['getElementById'](_0x352000(0xa68)),_0x14b3d7=document[_0x352000(0xc0e)](_0x352000(0x47a)),_0xe4f58d=_0x14e671[_0x352000(0x452)][_0x352000(0xa0f)](),_0x14c352=_0x4c9784['value'][_0x352000(0xa0f)]();if(!_0xe4f58d||!_0x14c352){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x14b3d7['disabled']=!![],_0x14b3d7[_0x352000(0xd5e)]=_0x352000(0x9a3);try{const _0x5d5f86=collection(db,_0x352000(0xb3f)+appId+_0x352000(0xa97)),_0x2c197b=query(_0x5d5f86,where(_0x352000(0xb89),'==',_0xe4f58d),where('status','in',[_0x352000(0x9aa),_0x352000(0x536)])),_0x5fae7d=await getDocs(_0x2c197b);if(_0x5fae7d['empty']){showMessage(_0x352000(0x1e7));return;}const _0x529ae5=_0x5fae7d[_0x352000(0x726)][0x0],_0x1e4a2e=_0x529ae5['data']();currentLiveGameId=_0x529ae5['id'];const _0x3d8cee=_0x1e4a2e[_0x352000(0x346)],_0x811687=doc(db,_0x352000(0xb3f)+appId+_0x352000(0xb0a),_0x3d8cee),_0x38e86d=await getDoc(_0x811687);if(!_0x38e86d[_0x352000(0x1fb)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x38e86d['id'],..._0x38e86d[_0x352000(0x180)]()};if(_0x1e4a2e[_0x352000(0xd1)]&&_0x1e4a2e[_0x352000(0xd1)][_0x14c352]){const _0x17bd5f=_0x1e4a2e[_0x352000(0xd1)][_0x14c352];if(_0x17bd5f[_0x352000(0x896)]===_0x352000(0x856)){_0x14b3d7['innerHTML']=_0x352000(0x910);const _0xe82e0e={};_0xe82e0e['players.'+_0x14c352+_0x352000(0x664)]=_0x352000(0x75a),await updateDoc(doc(db,_0x352000(0xb3f)+appId+_0x352000(0xa97),currentLiveGameId),_0xe82e0e),showView('live-game'),currentStudentName=_0x14c352,listenForLiveGameUpdates();return;}else{showMessage(_0x352000(0xe8));return;}}if(_0x1e4a2e[_0x352000(0x896)]!==_0x352000(0x9aa)){showMessage(_0x352000(0x2c1));return;}_0x14b3d7[_0x352000(0xd5e)]=_0x352000(0x1b5);const _0x4720f7={};_0x4720f7[_0x352000(0xc52)+_0x14c352]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x352000(0x75a)},await updateDoc(doc(db,_0x352000(0xb3f)+appId+_0x352000(0xa97),currentLiveGameId),_0x4720f7),currentStudentName=_0x14c352,listenForLiveGameUpdates();}catch(_0x3f4f7a){console[_0x352000(0x4e3)](_0x352000(0x5e1),_0x3f4f7a),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x14b3d7[_0x352000(0x622)]=![],_0x14b3d7['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x3f72e5,_0x18e7c2){const _0x550168=_0x3a9f7b,_0x2f3b5d=document[_0x550168(0xc0e)]('student-name-select');document[_0x550168(0xc0e)](_0x550168(0x29b))[_0x550168(0x6fb)]=_0x550168(0xd37)+_0x18e7c2,!_0x3f72e5||_0x3f72e5[_0x550168(0x7d2)]===0x0?(_0x2f3b5d['innerHTML']=_0x550168(0xa2d),startQuizBtn[_0x550168(0x622)]=!![]):(_0x2f3b5d[_0x550168(0xd5e)]=_0x550168(0xcb1),_0x3f72e5['forEach'](_0x5e60ff=>{const _0x160a70=_0x550168,_0xb08237=document[_0x160a70(0x846)](_0x160a70(0x9d9));_0xb08237[_0x160a70(0x452)]=_0x5e60ff,_0xb08237[_0x160a70(0x6fb)]=_0x5e60ff,_0x2f3b5d['appendChild'](_0xb08237);}),startQuizBtn[_0x550168(0x622)]=![]),studentInitialView[_0x550168(0x319)][_0x550168(0x930)](_0x550168(0x772)),studentNameSelectionView[_0x550168(0x319)]['remove'](_0x550168(0x772));}function shuffleArray(_0x4d4641){const _0x6d01a0=_0x3a9f7b;for(let _0xf853e4=_0x4d4641[_0x6d01a0(0x7d2)]-0x1;_0xf853e4>0x0;_0xf853e4--){const _0x572102=Math[_0x6d01a0(0x48b)](Math['random']()*(_0xf853e4+0x1));[_0x4d4641[_0xf853e4],_0x4d4641[_0x572102]]=[_0x4d4641[_0x572102],_0x4d4641[_0xf853e4]];}}function getShuffledQuiz(_0xbbd253){const _0x122871=_0x3a9f7b;let _0x295894=JSON[_0x122871(0x7da)](JSON[_0x122871(0x272)](_0xbbd253));const _0x4131c0=_0x295894[_0x122871(0x7e8)]?.[_0x122871(0x125)]||_0x122871(0x81d);if(_0x4131c0===_0x122871(0x81d))return _0x295894;return(_0x4131c0==='questions_only'||_0x4131c0==='both')&&shuffleArray(_0x295894[_0x122871(0x9fc)]),(_0x4131c0===_0x122871(0x2d7)||_0x4131c0===_0x122871(0x6e6))&&_0x295894[_0x122871(0x9fc)]['forEach'](_0x188f1c=>{const _0xda3a70=_0x122871,_0x455d4c=_0x188f1c[_0xda3a70(0x7c7)]||_0x295894[_0xda3a70(0xc6c)];if(_0x188f1c[_0xda3a70(0xc87)]){let _0x379b49=_0x188f1c[_0xda3a70(0xc87)][_0xda3a70(0x8ac)]((_0x218ec6,_0x44abe5)=>({'text':_0x218ec6,'isCorrect':_0x44abe5===_0x188f1c['correctAnswerIndex']}));shuffleArray(_0x379b49),_0x188f1c[_0xda3a70(0xc87)]=_0x379b49[_0xda3a70(0x8ac)](_0x3a53b8=>_0x3a53b8['text']),_0x188f1c[_0xda3a70(0xcfa)]=_0x379b49['findIndex'](_0x46c9fd=>_0x46c9fd[_0xda3a70(0xbe1)]);}_0x455d4c==='matching_item'&&_0x188f1c[_0xda3a70(0xcc7)]&&shuffleArray(_0x188f1c[_0xda3a70(0xcc7)]);}),_0x295894;}function displayQuizForStudent(_0x5536f2){const _0xd7395c=_0x3a9f7b;studentQuizArea[_0xd7395c(0x319)][_0xd7395c(0xd08)](_0xd7395c(0x772)),currentDisplayedQuiz=getShuffledQuiz(_0x5536f2);currentMode!==_0xd7395c(0x35f)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0xd7395c(0x6fe),handleFullscreenChange),document['addEventListener'](_0xd7395c(0xa66),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0xd7395c(0x476),resetDimTimer),window[_0xd7395c(0x59d)](_0xd7395c(0xcd5),resetDimTimer),window[_0xd7395c(0x59d)](_0xd7395c(0x932),resetDimTimer),window['addEventListener'](_0xd7395c(0x6d3),resetDimTimer),resetDimTimer());const _0x470f57=currentDisplayedQuiz[_0xd7395c(0x7e8)]?.[_0xd7395c(0x997)]||_0xd7395c(0x81d);if(_0x470f57===_0xd7395c(0xb70))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0xd7395c(0x7e8)][_0xd7395c(0x20e)]);else _0x470f57==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0xb38f94=_0x3a9f7b,_0x4cc22d=currentDisplayedQuiz['settings']?.[_0xb38f94(0xce8)]===!![],_0x5c95a0=currentDisplayedQuiz[_0xb38f94(0x7e8)]?.[_0xb38f94(0x7cd)]||'checkbox';let _0xfe6b8=_0xb38f94(0x3e1)+currentDisplayedQuiz[_0xb38f94(0x156)]+_0xb38f94(0xb23)+(currentMode===_0xb38f94(0x35f)?_0xb38f94(0x11f):'')+_0xb38f94(0x6cb);currentDisplayedQuiz[_0xb38f94(0x9fc)][_0xb38f94(0x2d3)]((_0x4e192b,_0xcd1af0)=>{const _0x397c6b=_0xb38f94,_0xc225b=_0x4e192b[_0x397c6b(0x7c7)]||currentDisplayedQuiz['quizType'];_0xfe6b8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0xc225b===_0x397c6b(0xac4)){}else _0xfe6b8+=_0x397c6b(0x3d3)+(_0xcd1af0+0x1)+'.\x20'+(_0x4e192b['instructions']||_0x4e192b[_0x397c6b(0x47c)])+_0x397c6b(0x71f),_0x4e192b[_0x397c6b(0x3c5)]&&(_0xfe6b8+=_0x397c6b(0x989)+_0x4e192b[_0x397c6b(0x3c5)]+_0x397c6b(0x7f6));_0xfe6b8+=_0x397c6b(0x35c);switch(_0xc225b){case'short_answer':_0xfe6b8+=_0x397c6b(0x90f)+_0xcd1af0+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x397c6b(0x56e):_0xfe6b8+=_0x397c6b(0x234)+_0xcd1af0+_0x397c6b(0x2c6)+_0xcd1af0+_0x397c6b(0x824)+_0xcd1af0+'_opt0\x22>ใช่</label></div>',_0xfe6b8+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0xcd1af0+_0x397c6b(0xb7)+_0xcd1af0+_0x397c6b(0xa6d)+_0xcd1af0+_0x397c6b(0x93c);break;case _0x397c6b(0xac4):_0xfe6b8+=_0x397c6b(0xb7f)+_0x4e192b['stem']+_0x397c6b(0x295)+_0xcd1af0+_0x397c6b(0x45c)+_0x4e192b[_0x397c6b(0xcc7)][_0x397c6b(0x8ac)](_0x3dce85=>_0x397c6b(0x1dd)+_0x3dce85+'\x22>'+_0x3dce85+_0x397c6b(0x17b))['join']('')+_0x397c6b(0x312);break;default:_0xfe6b8+=_0x4e192b['options'][_0x397c6b(0x8ac)]((_0x5cd4c7,_0x121af3)=>_0x397c6b(0x486)+_0xcd1af0+_0x397c6b(0x909)+_0x121af3+_0x397c6b(0x2f0)+_0xcd1af0+'\x22\x20value=\x22'+_0x121af3+_0x397c6b(0x39b)+_0xcd1af0+'_opt'+_0x121af3+'\x22>'+_0x5cd4c7+_0x397c6b(0xa91))['join']('');break;}_0xfe6b8+=_0x397c6b(0x7f6),_0x4cc22d&&(_0xfe6b8+=_0x397c6b(0x86a),_0x5c95a0===_0x397c6b(0x637)?_0xfe6b8+=_0x397c6b(0xb35)+_0xcd1af0+_0x397c6b(0xf6)+_0xcd1af0+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0xcd1af0+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0xcd1af0+_0x397c6b(0x7f1):_0xfe6b8+=_0x397c6b(0x9cc)+_0xcd1af0+_0x397c6b(0xf6)+_0xcd1af0+_0x397c6b(0x4c8)+_0xcd1af0+_0x397c6b(0x1f6),_0xfe6b8+=_0x397c6b(0x7f6)),_0xfe6b8+=_0x397c6b(0x7f6);}),_0xfe6b8+=_0xb38f94(0x806),_0xfe6b8+=_0xb38f94(0x36e),studentQuizArea[_0xb38f94(0xd5e)]=_0xfe6b8;if(currentMode===_0xb38f94(0x35f)){const _0x5f5d22=document[_0xb38f94(0xc0e)](_0xb38f94(0x489));if(_0x5f5d22)_0x5f5d22['addEventListener'](_0xb38f94(0x9fd),cancelAdminTest);}const _0x201677=document['getElementById'](_0xb38f94(0xd3f));_0x201677&&(_0x201677['addEventListener'](_0xb38f94(0x7db),handleSubmitQuiz),_0x201677[_0xb38f94(0x59d)](_0xb38f94(0x9fd),_0x203415=>{const _0x5a9fa8=_0xb38f94;if(_0x203415[_0x5a9fa8(0x697)][_0x5a9fa8(0x319)][_0x5a9fa8(0xa3b)](_0x5a9fa8(0xbaa))){const _0x41ee82=_0x203415[_0x5a9fa8(0x697)],_0xa22b42=_0x41ee82['dataset'][_0x5a9fa8(0xb47)],_0x4c5fdb=_0x41ee82['dataset'][_0x5a9fa8(0x452)];document[_0x5a9fa8(0xc0e)](_0x5a9fa8(0x3de)+_0xa22b42)[_0x5a9fa8(0x452)]=_0x4c5fdb;const _0x43c314=_0x41ee82[_0x5a9fa8(0x147)];_0x43c314[_0x5a9fa8(0x68f)](_0x5a9fa8(0x4a4))['forEach'](_0x4dd2a0=>_0x4dd2a0[_0x5a9fa8(0x319)][_0x5a9fa8(0xd08)](_0x5a9fa8(0x75a))),_0x41ee82[_0x5a9fa8(0x319)]['add'](_0x5a9fa8(0x75a));}}));if(window[_0xb38f94(0x6e3)])window[_0xb38f94(0x6e3)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x5ad6dd){const _0x277f0e=_0x3a9f7b;if(_0x5ad6dd)_0x5ad6dd['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x594f8a=document[_0x277f0e(0xc0e)]('quiz-form');if(!_0x594f8a)return;const _0x167605=currentDisplayedQuiz[_0x277f0e(0x7e8)]?.[_0x277f0e(0xce8)]===!![],_0x4f1087=currentDisplayedQuiz[_0x277f0e(0x7e8)]?.[_0x277f0e(0x7cd)]||'checkbox';if(_0x167605&&_0x4f1087===_0x277f0e(0x637)){let _0x14a8a8=!![];for(let _0x51b8d9=0x0;_0x51b8d9<currentDisplayedQuiz[_0x277f0e(0x9fc)]['length'];_0x51b8d9++){const _0x57294d=_0x594f8a[_0x277f0e(0x535)](_0x277f0e(0x939)+_0x51b8d9);if(!_0x57294d||_0x57294d[_0x277f0e(0x452)]===''){_0x14a8a8=![];break;}}if(!_0x14a8a8){showMessage(_0x277f0e(0x935));return;}}const _0x841090=_0x594f8a[_0x277f0e(0x535)](_0x277f0e(0x727)),_0x5367e1=currentDisplayedQuiz['questions'][_0x277f0e(0x712)](_0x30edf8=>_0x30edf8[_0x277f0e(0x7c7)]===_0x277f0e(0x2d1));_0x841090&&(_0x841090[_0x277f0e(0x622)]=!![],_0x841090[_0x277f0e(0xd5e)]=_0x5367e1?_0x277f0e(0x60b):_0x277f0e(0x758));const _0x57b3ec=new FormData(_0x594f8a),_0x1e19ff=currentDisplayedQuiz[_0x277f0e(0x9fc)]['map']((_0x32d5e1,_0x118f3e)=>{const _0x838a2=_0x277f0e,_0x4b02e0=_0x57b3ec[_0x838a2(0x2c7)]('question'+_0x118f3e);let _0x523f82;_0x4f1087===_0x838a2(0x637)?_0x523f82=_0x57b3ec[_0x838a2(0x2c7)](_0x838a2(0x64d)+_0x118f3e):_0x523f82=_0x57b3ec['get'](_0x838a2(0x64d)+_0x118f3e)==='on';let _0x49e5ed=null;if(_0x4b02e0!==null&&_0x4b02e0!==undefined){const _0x17f8e2=_0x32d5e1[_0x838a2(0x7c7)]||currentDisplayedQuiz['quizType'];_0x17f8e2===_0x838a2(0x211)||_0x17f8e2===_0x838a2(0xbe9)?_0x49e5ed=parseInt(_0x4b02e0):_0x49e5ed=_0x4b02e0;}return{'answer':_0x49e5ed,'wasConfident':_0x523f82};}),_0x511154=currentQuizData['id'],_0x1acd7a=doc(db,_0x277f0e(0xb3f)+appId+_0x277f0e(0x253)+_0x511154+_0x277f0e(0x251),currentStudentName),_0x87b9cf=await getDoc(_0x1acd7a),_0x364934=_0x87b9cf['exists']()?_0x87b9cf[_0x277f0e(0x180)]():{},_0x465b37=_0x364934['attempts']||[];await processAndSubmitAnswers(_0x1e19ff,_0x465b37);}async function gradeShortAnswerWithAI(_0x11bada,_0x54368a){const _0x32bfd4=_0x3a9f7b;if(!_0x11bada||!_0x54368a)return![];try{const _0x25731f=_0x32bfd4(0x408)+_0x11bada+_0x32bfd4(0x651)+_0x54368a+_0x32bfd4(0xbfc),_0x184f0c={'contents':[{'role':_0x32bfd4(0x37e),'parts':[{'text':_0x25731f}]}]},_0x33959b=_0x32bfd4(0x9c4),_0x526309='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x33959b,_0x9f1978=await fetch(_0x526309,{'method':_0x32bfd4(0x68a),'headers':{'Content-Type':_0x32bfd4(0x1a0)},'body':JSON[_0x32bfd4(0x272)](_0x184f0c)});if(!_0x9f1978['ok'])throw new Error('API\x20call\x20failed');const _0x4bf440=await _0x9f1978[_0x32bfd4(0xc5d)](),_0x5bb37e=_0x4bf440[_0x32bfd4(0x2fe)][0x0][_0x32bfd4(0xcda)][_0x32bfd4(0x321)][0x0][_0x32bfd4(0xbbd)][_0x32bfd4(0xa0f)]()[_0x32bfd4(0x703)]();return _0x5bb37e===_0x32bfd4(0x65b);}catch(_0x3d310f){return console[_0x32bfd4(0x4e3)]('AI\x20grading\x20failed:',_0x3d310f),![];}}async function processAndSubmitAnswers(_0xe84952,_0x37e7ae){const _0x3d835b=_0x3a9f7b;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x3d835b(0x3e0)](_0x3d835b(0x6fe),handleFullscreenChange),document[_0x3d835b(0x3e0)](_0x3d835b(0xa66),handleVisibilityChange);let _0x5c2786=0x0;const _0x5c2b7b=[],_0x292ebe=currentDisplayedQuiz[_0x3d835b(0x9fc)][_0x3d835b(0x7d2)];let _0x21d011=0x0,_0x31fa95=[];const _0x2e76e4=currentDisplayedQuiz[_0x3d835b(0x9fc)];for(let _0x3de777=0x0;_0x3de777<_0x2e76e4[_0x3d835b(0x7d2)];_0x3de777++){const _0x4c967b=_0x2e76e4[_0x3de777],_0x2d6126=_0xe84952[_0x3de777],_0x4944e3=_0x2d6126?_0x2d6126[_0x3d835b(0x7d7)]:null,_0x41f472=_0x2d6126?_0x2d6126['wasConfident']:null;let _0x2bf67d=![],_0x2f3c7d=0x0;if(_0x4944e3!==null&&_0x4944e3!==''){const _0x6c1674=_0x4c967b[_0x3d835b(0x7c7)]||currentDisplayedQuiz[_0x3d835b(0xc6c)];switch(_0x6c1674){case'matching_item':_0x2bf67d=_0x4944e3===_0x4c967b[_0x3d835b(0x3a1)];break;case _0x3d835b(0x56e):const _0xd9e7c4=_0x4944e3===!![]||_0x4944e3===_0x3d835b(0x65b);_0x2bf67d=_0xd9e7c4===_0x4c967b[_0x3d835b(0x13c)];break;case _0x3d835b(0x2d1):_0x2bf67d=await gradeShortAnswer(_0x4944e3,_0x4c967b);break;case _0x3d835b(0x211):default:_0x2bf67d=Number(_0x4944e3)===_0x4c967b['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x3d835b(0x7e8)]?.[_0x3d835b(0xce8)]){const _0x353fed=_0x2d6126?_0x2d6126[_0x3d835b(0x802)]:null;if(_0x2bf67d&&(_0x353fed===!![]||_0x353fed===_0x3d835b(0xb97)))_0x2f3c7d=0x2;else{if(_0x2bf67d)_0x2f3c7d=0x1;else{if(!_0x2bf67d&&(_0x353fed===![]||_0x353fed===_0x3d835b(0x583)||_0x353fed===null))_0x2f3c7d=0x0;else!_0x2bf67d&&(_0x353fed===!![]||_0x353fed===_0x3d835b(0xb97))&&(_0x2f3c7d=-0x1);}}}else _0x2f3c7d=_0x2bf67d?0x1:0x0;_0x5c2786+=_0x2f3c7d;if(_0x2bf67d){_0x21d011++;if(_0x21d011===0x3)_0x31fa95[_0x3d835b(0x187)](BADGES['ON_FIRE']['id']);}else _0x21d011=0x0;let _0x2cd33a=null;_0x4c967b[_0x3d835b(0xc87)]&&_0x4944e3!==null&&(_0x2cd33a=_0x4c967b[_0x3d835b(0xc87)][_0x4944e3]),_0x5c2b7b['push']({'questionId':_0x4c967b['id'],'answer':_0x4944e3,'answerText':_0x2cd33a,'isCorrect':_0x2bf67d,'wasConfident':_0x41f472,'pointsAwarded':_0x2f3c7d,'originalQuestionText':_0x4c967b[_0x3d835b(0x895)]||_0x4c967b[_0x3d835b(0x47c)]});}const _0x408793=_0x5c2b7b['filter'](_0x1b9836=>_0x1b9836[_0x3d835b(0xbe1)])[_0x3d835b(0x7d2)],_0x1e1df5=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x3d835b(0x48b)](_0x292ebe/0x2);_0x408793===_0x292ebe&&_0x292ebe>0x0&&!currentDisplayedQuiz[_0x3d835b(0x817)]&&_0x31fa95[_0x3d835b(0x187)](BADGES[_0x3d835b(0x189)]['id']);const _0x311a2e=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x311a2e==='whole_quiz'&&quizStartTime){const _0x3ef86e=(new Date()-quizStartTime)/0x3e8,_0x4c2447=currentDisplayedQuiz[_0x3d835b(0x7e8)][_0x3d835b(0x20e)]*0x3c;_0x408793>=_0x1e1df5&&_0x3ef86e<_0x4c2447/0x2&&_0x31fa95[_0x3d835b(0x187)](BADGES[_0x3d835b(0x3c3)]['id']);}_0x37e7ae['length']===0x0&&_0x408793===_0x292ebe&&_0x292ebe>0x0&&_0x31fa95['push'](BADGES[_0x3d835b(0x71b)]['id']);if(_0x37e7ae[_0x3d835b(0x7d2)]>0x0){const _0x4a8d5c=_0x37e7ae[0x0][_0x3d835b(0x6fd)];if(_0x4a8d5c<_0x1e1df5&&_0x408793>=_0x1e1df5){const _0x100a4c=_0x37e7ae[_0x3d835b(0x712)](_0x1ffecf=>(_0x1ffecf[_0x3d835b(0x8af)]||[])[_0x3d835b(0x1bc)](BADGES[_0x3d835b(0x182)]['id']));!_0x100a4c&&_0x31fa95[_0x3d835b(0x187)](BADGES[_0x3d835b(0x182)]['id']);}}_0x37e7ae[_0x3d835b(0x7d2)]===0x4&&_0x31fa95[_0x3d835b(0x187)](BADGES['PERSEVERANCE']['id']);const _0x523ace=currentDisplayedQuiz['settings'][_0x3d835b(0x5b0)];if(currentMode===_0x3d835b(0x35f)){handleResultDisplay(_0x523ace,_0x408793,_0x5c2786,_0x31fa95,_0x5c2b7b,_0x292ebe);return;}const _0x5a9a41=currentQuizData['id'],_0x5b8cda=doc(db,_0x3d835b(0xb3f)+appId+_0x3d835b(0x253)+_0x5a9a41+_0x3d835b(0x251),currentStudentName);try{const _0x434a65=[..._0x37e7ae],_0x51a6ae={'score':_0x408793,'points':_0x5c2786,'badges':Array['from'](new Set(_0x31fa95)),'submittedAt':new Date()[_0x3d835b(0x1cd)](),'answers':_0x5c2b7b};_0x434a65['push'](_0x51a6ae);const _0x3de99=_0x37e7ae['length']===0x0?_0x408793:_0x37e7ae[0x0][_0x3d835b(0x6fd)]||0x0,_0x29cc51=Math[_0x3d835b(0x347)](..._0x434a65[_0x3d835b(0x8ac)](_0x4ecbce=>_0x4ecbce[_0x3d835b(0x6fd)]));await setDoc(_0x5b8cda,{'studentName':currentStudentName,'totalQuestions':_0x292ebe,'attempts':_0x434a65,'firstScore':_0x3de99,'bestScore':_0x29cc51,'latestScore':_0x408793,'points':_0x5c2786,'latestSubmittedAt':_0x51a6ae[_0x3d835b(0x141)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x3d835b(0xd39)],currentStudentName),handleResultDisplay(_0x523ace,_0x408793,_0x5c2786,_0x31fa95,_0x5c2b7b,_0x292ebe);}catch(_0xcd2f1b){console['error'](_0x3d835b(0xcc1),_0xcd2f1b),showMessage(_0x3d835b(0x179));}}async function updateStudentProfile(_0x1a6300,_0x25aa5d){const _0x34c1ed=_0x3a9f7b,_0x546493=doc(db,_0x34c1ed(0xb3f)+appId+_0x34c1ed(0x827)+_0x1a6300+_0x34c1ed(0xc06),_0x25aa5d);try{const _0x415b13=query(collection(db,_0x34c1ed(0xb3f)+appId+'/public/data/quizzes'),where(_0x34c1ed(0xd39),'==',_0x1a6300)),_0x2a26ef=await getDocs(_0x415b13),_0x462fe3=new Map(_0x2a26ef[_0x34c1ed(0x726)]['map'](_0x4142a0=>[_0x4142a0['id'],_0x4142a0[_0x34c1ed(0x180)]()])),_0x23b140=Array[_0x34c1ed(0x30e)](_0x462fe3[_0x34c1ed(0x644)]());await runTransaction(db,async _0x498573=>{const _0x54ee03=_0x34c1ed;let _0x49f0ac=0x0;const _0x133c03={};let _0x2db24f=!![],_0x242374=0x0,_0x5242dd=0x0;for(const _0x3a0275 of _0x23b140){const _0x390ca8=_0x462fe3['get'](_0x3a0275),_0x2f96d6=doc(db,_0x54ee03(0xb3f)+appId+_0x54ee03(0x253)+_0x3a0275+_0x54ee03(0x251),_0x25aa5d),_0x5ba7c8=await _0x498573[_0x54ee03(0x2c7)](_0x2f96d6);if(_0x5ba7c8[_0x54ee03(0x1fb)]()){const _0x664509=_0x5ba7c8[_0x54ee03(0x180)](),_0x374baf=_0x664509['attempts']||[];if(_0x374baf['length']>0x0){const _0x2a6463=_0x374baf[_0x54ee03(0x78a)]((_0x19e9b2,_0xbb796d)=>{const _0x1ea62c=_0x54ee03;if(_0xbb796d[_0x1ea62c(0x6fd)]>_0x19e9b2[_0x1ea62c(0x6fd)])return _0xbb796d;if(_0xbb796d[_0x1ea62c(0x6fd)]===_0x19e9b2[_0x1ea62c(0x6fd)])return(_0xbb796d[_0x1ea62c(0x3ba)]||0x0)>(_0x19e9b2[_0x1ea62c(0x3ba)]||0x0)?_0xbb796d:_0x19e9b2;return _0x19e9b2;},{'score':-0x1,'points':-0x1});_0x2a6463[_0x54ee03(0x6fd)]>-0x1&&(_0x49f0ac+=_0x2a6463[_0x54ee03(0x3ba)]||0x0,(_0x2a6463[_0x54ee03(0x8af)]||[])['forEach'](_0xb5dfdc=>{_0x133c03[_0xb5dfdc]=(_0x133c03[_0xb5dfdc]||0x0)+0x1;}));}}if(_0x390ca8[_0x54ee03(0x156)]!=='แบบทดสอบซ่อมเสริม'){_0x5242dd++;if(_0x5ba7c8[_0x54ee03(0x1fb)]()){_0x242374++;const _0x2f86c0=_0x5ba7c8[_0x54ee03(0x180)]();_0x2f86c0[_0x54ee03(0x963)]!==_0x2f86c0[_0x54ee03(0x46c)]&&(_0x2db24f=![]);}else _0x2db24f=![];}}_0x5242dd>0x0&&_0x242374===_0x5242dd&&_0x2db24f?_0x133c03[_0x54ee03(0xc5)]=0x1:_0x133c03[_0x54ee03(0xc5)]=0x0,_0x498573[_0x54ee03(0x51f)](_0x546493,{'studentName':_0x25aa5d,'totalPoints':_0x49f0ac,'unlockedBadges':Object[_0x54ee03(0x644)](_0x133c03)['filter'](_0x3ab167=>_0x133c03[_0x3ab167]>0x0),'badgesCount':_0x133c03},{'merge':!![]});});}catch(_0x850ac5){console[_0x34c1ed(0x4e3)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x850ac5),showMessage(_0x34c1ed(0x1e3));}}function startAdminTest(){const _0x189e56=_0x3a9f7b;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x13c609=JSON[_0x189e56(0x7da)](JSON[_0x189e56(0x272)](currentQuizData));currentMode=_0x189e56(0x35f),currentStudentName=_0x189e56(0x682),adminView['classList'][_0x189e56(0x930)](_0x189e56(0x772)),studentView[_0x189e56(0x319)][_0x189e56(0xd08)](_0x189e56(0x772)),studentInitialView[_0x189e56(0x319)][_0x189e56(0x930)]('hidden'),studentNameSelectionView[_0x189e56(0x319)]['add'](_0x189e56(0x772)),studentResultArea[_0x189e56(0x319)][_0x189e56(0x930)](_0x189e56(0x772)),studentQuizArea[_0x189e56(0x319)][_0x189e56(0xd08)](_0x189e56(0x772)),quizStartTime=new Date(),displayQuizForStudent(_0x13c609);}function handleResultDisplay(_0x379c32,_0x54035f,_0x274646,_0xf1b602,_0x28c6b1,_0x23121c){const _0x39a0ea=_0x3a9f7b;if(_0x379c32===_0x39a0ea(0x43a)){displaySubmissionConfirmation();return;}const _0x422b63=currentDisplayedQuiz[_0x39a0ea(0x7e8)]?.['passingScore']??Math[_0x39a0ea(0x48b)](_0x23121c/0x2),_0x5b12d8=currentDisplayedQuiz[_0x39a0ea(0x7e8)]?.['isAdaptive']??![],_0x20e70b=currentDisplayedQuiz[_0x39a0ea(0x7e8)]?.['loopUntilPass']===!![],_0x4a68b7=_0x54035f<_0x422b63,_0x50e0ad=_0x379c32===_0x39a0ea(0x96f)||_0x379c32===_0x39a0ea(0x7dc);if(_0x20e70b&&_0x4a68b7&&!_0x50e0ad){_0x379c32==='show_results_and_answers'?displayResultsWithAnswers(_0x54035f,_0x274646,_0xf1b602,_0x28c6b1,_0x23121c,!![]):displayLoopScreen(_0x54035f,_0x23121c,_0x379c32);return;}if(_0x5b12d8&&_0x4a68b7){startAdaptiveFlow(_0x28c6b1,_0x54035f,_0x23121c);return;}switch(_0x379c32){case _0x39a0ea(0xd50):displayResultsWithAnswers(_0x54035f,_0x274646,_0xf1b602,_0x28c6b1,_0x23121c);break;case _0x39a0ea(0x2cf):displayResultsScoreOnly(_0x54035f,_0x274646,_0xf1b602,_0x23121c);break;case _0x39a0ea(0xa39):displayPassFailOnly(_0x54035f,_0x23121c);break;case'half_mark_status':displayHalfMarkResult(_0x54035f,_0x23121c);break;case _0x39a0ea(0x7dc):displayPerfectScoreResult(_0x54035f,_0x23121c);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x47fac9){const _0x4db18d=_0x3a9f7b;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0xef47cf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47fac9+_0x4db18d(0x7ac)+simpleMathPrompt+_0x4db18d(0x595),_0x5b281c={'type':_0x4db18d(0x9c6),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x4db18d(0xfc)}},'correctAnswerIndex':{'type':_0x4db18d(0xaec)},'explanation':{'type':_0x4db18d(0xfc)}},'required':[_0x4db18d(0x47c),_0x4db18d(0xc87),_0x4db18d(0xcfa),_0x4db18d(0x507)]},_0x341804={'type':_0x4db18d(0x9c6),'properties':{'topic':{'type':_0x4db18d(0xfc)},'questions':{'type':_0x4db18d(0xff),'items':_0x5b281c}},'required':['topic','questions']};try{const _0x128cdb=await callAnalysisApi(_0xef47cf,_0x341804);_0x128cdb[_0x4db18d(0x817)]=!![],studentReadingArea[_0x4db18d(0x319)][_0x4db18d(0x930)]('hidden');const _0x378ea9={...currentDisplayedQuiz[_0x4db18d(0x7e8)],'isAdaptive':![],'resultsDisplay':_0x4db18d(0xd50)};_0x128cdb[_0x4db18d(0x7e8)]=_0x378ea9,displayQuizForStudent(_0x128cdb);}catch(_0x5110b6){console['error'](_0x4db18d(0x32c),_0x5110b6),showMessage(_0x4db18d(0xa5b)),showView(_0x4db18d(0x243));}}function displayPassFailOnly(_0x52bbc6,_0x306ba0){const _0x5dfdfb=_0x3a9f7b,_0x5e3378=currentDisplayedQuiz[_0x5dfdfb(0x7e8)]?.[_0x5dfdfb(0x324)]??-0x1,_0x4527a0=currentDisplayedQuiz['isRemedial']===!![];let _0x328548='',_0x670b98=![];if(_0x4527a0||_0x5e3378!==-0x1){_0x670b98=_0x4527a0?_0x52bbc6===_0x306ba0:_0x52bbc6>=_0x5e3378;const _0x4afa04=_0x670b98?_0x5dfdfb(0x458):_0x5dfdfb(0x3d4),_0x4d76aa=_0x670b98?_0x5dfdfb(0x70a):_0x5dfdfb(0x231);_0x328548=_0x5dfdfb(0xca1)+_0x4afa04+'\x22>'+_0x4d76aa+'</span></div>';}else _0x328548=_0x5dfdfb(0x9f6);let _0x1f4e7d=_0x5dfdfb(0xbe5)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x328548+_0x5dfdfb(0xcc5);studentResultArea[_0x5dfdfb(0xd5e)]=_0x1f4e7d,studentResultArea[_0x5dfdfb(0x319)][_0x5dfdfb(0xd08)](_0x5dfdfb(0x772)),studentQuizArea[_0x5dfdfb(0x319)][_0x5dfdfb(0x930)](_0x5dfdfb(0x772)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x670b98});}function cancelAdminTest(){const _0x431a49=_0x3a9f7b;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x431a49(0x3e0)](_0x431a49(0x6fe),handleFullscreenChange),document[_0x431a49(0x3e0)](_0x431a49(0xa66),handleVisibilityChange),currentMode=_0x431a49(0xcd6),studentView[_0x431a49(0x319)]['add'](_0x431a49(0x772)),adminView['classList'][_0x431a49(0xd08)](_0x431a49(0x772)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x431a49(0x6c3));}function setupResultScreenBackButton(_0x166c9e){const _0x201305=_0x3a9f7b,_0x269597={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x166c9e};if(_0x269597[_0x201305(0x423)]){const _0x2f79da=_0x201305(0xb01);studentResultArea[_0x201305(0x596)](_0x201305(0x5d0),_0x2f79da),document['getElementById'](_0x201305(0x602))['addEventListener'](_0x201305(0x9fd),()=>{const _0x143fce=_0x201305;studentResultArea['classList']['add'](_0x143fce(0x772)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x21b034=_0x201305(0x8d4),_0x161264=currentMode==='admin-testing',_0x595e98=_0x161264?_0x201305(0x518):_0x201305(0xd5b);let _0x9b3784='';_0x269597['showRankings']&&(_0x9b3784+=_0x201305(0x1c7));let _0x2c1e3e=_0x269597[_0x201305(0x38f)];_0x2c1e3e===undefined&&(_0x2c1e3e=_0x269597[_0x201305(0x6fd)]<_0x269597['totalQuestions']);_0x2c1e3e&&(_0x9b3784+=_0x201305(0x174));_0x9b3784+=_0x201305(0x7f7)+_0x21b034+_0x201305(0xade)+_0x595e98+'</button>';const _0x2c7b69='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x9b3784+'</div>';studentResultArea[_0x201305(0x596)](_0x201305(0x5d0),_0x2c7b69),studentResultArea[_0x201305(0x535)]('#view-rankings-btn')?.[_0x201305(0x59d)](_0x201305(0x9fd),handleShowStudentRankings);const _0x2f1bb3=studentResultArea[_0x201305(0x535)](_0x201305(0x38b));_0x2f1bb3&&_0x2f1bb3[_0x201305(0x59d)](_0x201305(0x9fd),()=>{const _0x265c75=_0x201305;studentResultArea[_0x265c75(0x319)][_0x265c75(0x930)](_0x265c75(0x772)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x201305(0xc0e)](_0x21b034)[_0x201305(0x59d)](_0x201305(0x9fd),()=>{const _0x2a4848=_0x201305;_0x161264?(currentMode=_0x2a4848(0xcd6),studentView['classList'][_0x2a4848(0x930)](_0x2a4848(0x772)),adminView[_0x2a4848(0x319)][_0x2a4848(0xd08)]('hidden'),showView(_0x2a4848(0x6c3))):(showView(_0x2a4848(0x243)),document['getElementById'](_0x2a4848(0xa9d))[_0x2a4848(0x452)]='');});}function displayResultsWithAnswers(_0x5aa7a9,_0x18a0bc,_0x3df7d3,_0x282a19,_0x56dea0,_0xec4f05=![]){const _0x13fec7=_0x3a9f7b,_0xfcc439=_0x56dea0>0x0?_0x5aa7a9/_0x56dea0*0x64:0x0,_0x104364=currentDisplayedQuiz[_0x13fec7(0x7e8)]?.['passingScore']??-0x1,_0x15a1df=currentDisplayedQuiz[_0x13fec7(0x817)]===!![];let _0x4b8a66='';if(_0x15a1df||_0x104364!==-0x1){let _0x2d36c9=_0x15a1df?_0x5aa7a9===_0x56dea0:_0x5aa7a9>=_0x104364;const _0x209f84=_0x2d36c9?_0x13fec7(0x458):'bg-red-100\x20text-red-800',_0x159318=_0x2d36c9?_0x13fec7(0x70a):_0x13fec7(0x231);_0x4b8a66=_0x13fec7(0x7ee)+_0x209f84+'\x22>'+_0x159318+_0x13fec7(0x71f);}let _0x1e1d4d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x5aa7a9+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x56dea0+_0x13fec7(0x6d6)+_0x4b8a66+_0x13fec7(0x862)+_0x18a0bc+_0x13fec7(0x3a6)+_0xfcc439[_0x13fec7(0xb83)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions']['forEach']((_0x394544,_0xb37b14)=>{const _0x177c7b=_0x13fec7,_0x26c2e1=_0x282a19[_0xb37b14],_0xa6cbc9=_0x26c2e1[_0x177c7b(0x7d7)],_0x3d324f=_0x26c2e1['isCorrect'],_0x478347=_0x394544['questionType']||currentDisplayedQuiz['quizType'];_0x1e1d4d+=_0x177c7b(0xc19)+(_0x3d324f?_0x177c7b(0x6a9):_0x177c7b(0x673))+_0x177c7b(0xfa)+(_0xb37b14+0x1)+'.\x20'+(_0x394544[_0x177c7b(0x895)]||_0x394544[_0x177c7b(0x47c)])+_0x177c7b(0x84d);switch(_0x478347){case _0x177c7b(0xac4):const _0x5902dc=_0xa6cbc9||_0x177c7b(0x5a8),_0x4e0326=_0x394544['correctResponse'];_0x1e1d4d+=_0x177c7b(0x9c8)+(!_0x3d324f?_0x177c7b(0x52d):'')+'\x22>'+_0x5902dc+_0x177c7b(0x9b5);!_0x3d324f&&(_0x1e1d4d+=_0x177c7b(0x7bf)+_0x4e0326+_0x177c7b(0x71f));break;case _0x177c7b(0x2d1):_0x1e1d4d+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0xa6cbc9||_0x177c7b(0x5a8))+_0x177c7b(0x71f),_0x1e1d4d+=_0x177c7b(0x209)+_0x394544[_0x177c7b(0xa57)]+_0x177c7b(0x71f);break;case _0x177c7b(0x56e):_0x1e1d4d+='<p\x20class=\x22'+(_0x394544[_0x177c7b(0x13c)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0xa6cbc9===_0x177c7b(0x65b)&&!_0x3d324f?_0x177c7b(0x52d):'')+_0x177c7b(0x8b3),_0x1e1d4d+=_0x177c7b(0x159)+(_0x394544[_0x177c7b(0x13c)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0xa6cbc9===_0x177c7b(0x48a)&&!_0x3d324f?'line-through\x20text-red-700':'')+_0x177c7b(0x10f);break;default:_0x1e1d4d+=_0x394544['options']['map']((_0x21b0ee,_0x291b94)=>{const _0x256287=_0x177c7b;let _0x25d312='',_0x1efc26='';if(_0x291b94===_0x394544['correctAnswerIndex'])_0x25d312=_0x256287(0xd6),_0x1efc26='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x291b94===_0xa6cbc9&&(_0x25d312=_0x256287(0x8a3),_0x1efc26=_0x256287(0x17c));return _0x256287(0xb67)+_0x25d312+'\x22>'+_0x1efc26+_0x21b0ee+_0x256287(0x7f6);})['join']('');break;}_0x1e1d4d+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x394544[_0x177c7b(0x507)]||_0x177c7b(0x306))+_0x177c7b(0x7f6);if(!_0x3d324f){const _0x7c9269=_0x394544[_0x177c7b(0x895)]||_0x394544['questionText'];_0x1e1d4d+=_0x177c7b(0x218)+escape(_0x7c9269)+_0x177c7b(0x37c);}_0x1e1d4d+='</div>';}),studentResultArea[_0x13fec7(0xd5e)]=_0x1e1d4d,renderEarnedBadges(_0x3df7d3,_0x13fec7(0x669)),studentResultArea[_0x13fec7(0x319)]['remove'](_0x13fec7(0x772)),studentQuizArea[_0x13fec7(0x319)][_0x13fec7(0x930)](_0x13fec7(0x772)),setupResultScreenBackButton({'isLooping':_0xec4f05,'score':_0x5aa7a9,'totalQuestions':_0x56dea0,'showRankings':!![]});if(window[_0x13fec7(0x6e3)])window['MathJax'][_0x13fec7(0x16c)]([studentResultArea]);}function displayResultsScoreOnly(_0x2da624,_0x20572d,_0x596da4,_0x550919){const _0x551274=_0x3a9f7b,_0x368c4a=_0x550919>0x0?_0x2da624/_0x550919*0x64:0x0,_0x1067ff=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x5568d9=currentDisplayedQuiz['isRemedial']===!![];let _0x38e49e='';if(_0x5568d9||_0x1067ff!==-0x1){let _0x338561=_0x5568d9?_0x2da624===_0x550919:_0x2da624>=_0x1067ff;const _0x23fe1b=_0x338561?_0x551274(0x458):'bg-red-100\x20text-red-800',_0x4be45a=_0x338561?'ผ่าน':_0x551274(0x231);_0x38e49e='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x23fe1b+'\x22>'+_0x4be45a+_0x551274(0x71f);}let _0x9fa7c8=_0x551274(0xbe5)+currentStudentName+_0x551274(0xa9e)+_0x2da624+_0x551274(0xa2e)+_0x550919+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38e49e+_0x551274(0x862)+_0x20572d+_0x551274(0x376)+_0x368c4a[_0x551274(0xb83)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x9fa7c8,renderEarnedBadges(_0x596da4,_0x551274(0x669)),studentResultArea[_0x551274(0x319)][_0x551274(0xd08)](_0x551274(0x772)),studentQuizArea['classList'][_0x551274(0x930)](_0x551274(0x772)),setupResultScreenBackButton({'score':_0x2da624,'totalQuestions':_0x550919,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x4954f6=_0x3a9f7b;let _0x2c768e=_0x4954f6(0xcfd)+currentStudentName+_0x4954f6(0xa08);studentResultArea[_0x4954f6(0xd5e)]=_0x2c768e,studentResultArea[_0x4954f6(0x319)][_0x4954f6(0xd08)](_0x4954f6(0x772)),studentQuizArea['classList']['add'](_0x4954f6(0x772)),document[_0x4954f6(0xc0e)]('back-to-home-manual-release')[_0x4954f6(0x59d)](_0x4954f6(0x9fd),()=>{const _0x11df1f=_0x4954f6;showView(_0x11df1f(0x243)),document[_0x11df1f(0xc0e)](_0x11df1f(0xa9d))['value']='';});}function renderEarnedBadges(_0x2366ad,_0x55b3af){const _0x1e980e=_0x3a9f7b,_0x382baf=document['getElementById'](_0x55b3af);if(!_0x382baf||!_0x2366ad||_0x2366ad[_0x1e980e(0x7d2)]===0x0)return;let _0x29c4ac='';_0x2366ad[_0x1e980e(0x2d3)]((_0x3f020b,_0x3e923d)=>{const _0x27acd5=_0x1e980e,_0xc44f08=Object['values'](BADGES)[_0x27acd5(0x4b3)](_0x2158c1=>_0x2158c1['id']===_0x3f020b);_0xc44f08&&(_0x29c4ac+=_0x27acd5(0xbd6)+_0x3e923d*0.2+_0x27acd5(0xeb)+_0xc44f08[_0x27acd5(0x2b8)]+_0x27acd5(0xc64)+_0xc44f08[_0x27acd5(0xc48)]+_0x27acd5(0x655)+_0xc44f08[_0x27acd5(0x58e)]+_0x27acd5(0x59c));}),_0x382baf[_0x1e980e(0xd5e)]=_0x29c4ac;}function startPresentation(_0x27d745){const _0x291520=_0x3a9f7b;currentQuizData=getShuffledQuiz(_0x27d745),currentPresentationSlide=0x0,presentationModal[_0x291520(0x5c6)][_0x291520(0x6cf)]=_0x291520(0xd4a),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x545ded=_0x3a9f7b;document[_0x545ded(0x2ee)]&&document[_0x545ded(0x858)](),presentationModal[_0x545ded(0x5c6)]['display']='none';}function renderPresentationSlide(_0x336da3){const _0x5d6ab9=_0x3a9f7b,_0x349cd7=document[_0x5d6ab9(0xc0e)](_0x5d6ab9(0x857));if(!currentQuizData||!currentQuizData[_0x5d6ab9(0x9fc)]||!currentQuizData[_0x5d6ab9(0x9fc)][_0x336da3]){_0x349cd7['innerHTML']=_0x5d6ab9(0xae2);return;}const _0x2a3d30=currentQuizData[_0x5d6ab9(0x9fc)][_0x336da3],_0x4d0e9f=_0x2a3d30[_0x5d6ab9(0x7c7)]||currentQuizData[_0x5d6ab9(0xc6c)];_0x349cd7[_0x5d6ab9(0xd5e)]='';let _0xd2bc0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2a3d30[_0x5d6ab9(0x3c5)]?_0x5d6ab9(0x989)+_0x2a3d30['imageCode']+_0x5d6ab9(0x7f6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x336da3+0x1)+'.\x20'+(_0x2a3d30['stem']||_0x2a3d30[_0x5d6ab9(0x47c)])+_0x5d6ab9(0x1f4);switch(_0x4d0e9f){case _0x5d6ab9(0xac4):_0xd2bc0+=_0x2a3d30[_0x5d6ab9(0xcc7)][_0x5d6ab9(0x8ac)](_0xaf02d7=>_0x5d6ab9(0x5cf)+_0xaf02d7+_0x5d6ab9(0x202))[_0x5d6ab9(0x986)]('');break;case _0x5d6ab9(0x56e):_0xd2bc0+=_0x5d6ab9(0x759),_0xd2bc0+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case'fill_in_no_choices':case _0x5d6ab9(0x2d1):_0xd2bc0+=_0x5d6ab9(0x94d);break;case _0x5d6ab9(0xbe9):case _0x5d6ab9(0x211):default:_0xd2bc0+=_0x2a3d30[_0x5d6ab9(0xc87)][_0x5d6ab9(0x8ac)]((_0x3b16b1,_0x3a39fd)=>_0x5d6ab9(0xc15)+_0x3a39fd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b16b1+_0x5d6ab9(0x202))[_0x5d6ab9(0x986)]('');break;}_0xd2bc0+=_0x5d6ab9(0x557)+(_0x2a3d30[_0x5d6ab9(0x507)]||_0x5d6ab9(0x306))+_0x5d6ab9(0x5d8),_0x349cd7[_0x5d6ab9(0xd5e)]=_0xd2bc0;if(window[_0x5d6ab9(0x6e3)])window[_0x5d6ab9(0x6e3)][_0x5d6ab9(0x16c)]([_0x349cd7]);let _0xcb6282=[];switch(_0x4d0e9f){case _0x5d6ab9(0xac4):_0xcb6282=_0x2a3d30[_0x5d6ab9(0xcc7)]||[];break;case _0x5d6ab9(0x56e):_0xcb6282=[_0x5d6ab9(0x53e),_0x5d6ab9(0x80d)];break;default:_0xcb6282=_0x2a3d30['options']||[];break;}const _0x4e251a=document[_0x5d6ab9(0xc0e)](_0x5d6ab9(0x566));_0x4e251a&&(_0x4e251a[_0x5d6ab9(0xd75)]=()=>{openScratchpad(_0x2a3d30,_0xcb6282);});document[_0x5d6ab9(0x68f)]('.presentation-option')[_0x5d6ab9(0x2d3)](_0x1fa59a=>{const _0x575731=_0x5d6ab9;_0x1fa59a[_0x575731(0x59d)]('click',_0x4abaf2=>revealAnswerForPresentation(_0x336da3,_0x4abaf2[_0x575731(0xa58)]));});const _0x34d6c9=document[_0x5d6ab9(0xc0e)](_0x5d6ab9(0x197));_0x34d6c9&&_0x34d6c9[_0x5d6ab9(0x59d)]('click',()=>checkShortAnswerForPresentation(_0x336da3)),document['getElementById'](_0x5d6ab9(0x88d))['textContent']='ข้อที่\x20'+(_0x336da3+0x1)+'\x20/\x20'+currentQuizData[_0x5d6ab9(0x9fc)][_0x5d6ab9(0x7d2)],document[_0x5d6ab9(0xc0e)](_0x5d6ab9(0x2fd))[_0x5d6ab9(0x622)]=_0x336da3===0x0,document[_0x5d6ab9(0xc0e)](_0x5d6ab9(0x665))[_0x5d6ab9(0x622)]=_0x336da3===currentQuizData[_0x5d6ab9(0x9fc)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x138141){const _0x53e823=_0x3a9f7b,_0x262c78=currentQuizData[_0x53e823(0x9fc)][_0x138141],_0x52faab=document[_0x53e823(0xc0e)](_0x53e823(0xb20)),_0x4afe70=document[_0x53e823(0xc0e)]('check-presentation-answer-btn'),_0x2b4596=document[_0x53e823(0xc0e)](_0x53e823(0x926)),_0x440e31=document[_0x53e823(0xc0e)](_0x53e823(0xbad));if(!_0x52faab||!_0x4afe70||!_0x2b4596||!_0x440e31)return;const _0x30ed6c=_0x52faab[_0x53e823(0x452)][_0x53e823(0xa0f)]();if(_0x30ed6c==='')return;_0x4afe70['disabled']=!![],_0x4afe70[_0x53e823(0xd5e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x52faab[_0x53e823(0x622)]=!![];const _0x2dc0d4=await gradeShortAnswer(_0x30ed6c,_0x262c78);_0x2dc0d4?_0x2b4596[_0x53e823(0xd5e)]=_0x53e823(0xc09):_0x2b4596[_0x53e823(0xd5e)]=_0x53e823(0x250)+_0x262c78[_0x53e823(0xa57)]+')',_0x2b4596[_0x53e823(0x319)][_0x53e823(0xd08)](_0x53e823(0x772)),_0x440e31[_0x53e823(0x319)][_0x53e823(0xd08)](_0x53e823(0x772)),_0x4afe70[_0x53e823(0x319)][_0x53e823(0x930)](_0x53e823(0x772));}function revealAnswerForPresentation(_0x5044dd,_0x504a6d){const _0x4d44e9=_0x3a9f7b,_0x429812=currentQuizData[_0x4d44e9(0x9fc)][_0x5044dd],_0x5361d9=_0x429812[_0x4d44e9(0x7c7)]||currentQuizData['quizType'];document['querySelectorAll'](_0x4d44e9(0x571))['forEach'](_0xb61365=>{const _0x88aa97=_0x4d44e9;_0xb61365[_0x88aa97(0x622)]=!![],_0xb61365[_0x88aa97(0x319)][_0x88aa97(0xd08)](_0x88aa97(0xcbb));let _0x1212dd=![];if(_0x5361d9===_0x88aa97(0x211)||_0x5361d9==='fill_in_the_blank'){const _0x4ceea7=parseInt(_0xb61365['dataset'][_0x88aa97(0x21c)]);_0x1212dd=_0x4ceea7===_0x429812[_0x88aa97(0xcfa)];}else{if(_0x5361d9===_0x88aa97(0x56e)){const _0x2755ff=_0xb61365[_0x88aa97(0x5e8)][_0x88aa97(0x7d7)]===_0x88aa97(0x65b);_0x1212dd=_0x2755ff===_0x429812['correctAnswer'];}else _0x5361d9===_0x88aa97(0xac4)&&(_0x1212dd=_0xb61365['textContent']['trim']()===_0x429812['correctResponse']);}_0x1212dd?_0xb61365[_0x88aa97(0x319)][_0x88aa97(0x930)]('bg-green-500',_0x88aa97(0x711),_0x88aa97(0x55f)):_0xb61365[_0x88aa97(0x319)]['add'](_0x88aa97(0x76e));}),_0x504a6d[_0x4d44e9(0x319)]['remove'](_0x4d44e9(0x76e));let _0x3d6386=![];if(_0x5361d9===_0x4d44e9(0x211))_0x3d6386=parseInt(_0x504a6d[_0x4d44e9(0x5e8)][_0x4d44e9(0x21c)])===_0x429812[_0x4d44e9(0xcfa)];else{if(_0x5361d9===_0x4d44e9(0x56e))_0x3d6386=_0x504a6d[_0x4d44e9(0x5e8)][_0x4d44e9(0x7d7)]===_0x4d44e9(0x65b)===_0x429812['correctAnswer'];else _0x5361d9===_0x4d44e9(0xac4)&&(_0x3d6386=_0x504a6d[_0x4d44e9(0x6fb)][_0x4d44e9(0xa0f)]()===_0x429812[_0x4d44e9(0x3a1)]);}!_0x3d6386&&_0x504a6d[_0x4d44e9(0x319)][_0x4d44e9(0x930)]('bg-red-500',_0x4d44e9(0x711),_0x4d44e9(0x8d9)),document[_0x4d44e9(0xc0e)](_0x4d44e9(0xbad))[_0x4d44e9(0x319)][_0x4d44e9(0xd08)](_0x4d44e9(0x772));}function startWholeQuizTimer(_0x568105){const _0xa94eba=_0x3a9f7b,_0x4925d1=document['getElementById'](_0xa94eba(0x9b8));if(!_0x4925d1)return;const _0x2185cd=Date[_0xa94eba(0x62e)]()+_0x568105*0x3c*0x3e8;_0x4925d1[_0xa94eba(0xd5e)]=_0xa94eba(0x6c9);const _0x3e3d25=document[_0xa94eba(0xc0e)](_0xa94eba(0x93e));quizTimerInterval=setInterval(()=>{const _0x389d02=_0xa94eba,_0xbdd3c7=_0x2185cd-Date[_0x389d02(0x62e)]();if(_0xbdd3c7<=0x0)clearInterval(quizTimerInterval),_0x3e3d25['textContent']=_0x389d02(0x7e7),showMessage(_0x389d02(0x3d1)),handleSubmitQuiz(null);else{const _0xd3b2a2=Math[_0x389d02(0x48b)](_0xbdd3c7/0x3e8/0x3c%0x3c)[_0x389d02(0x6ad)]()[_0x389d02(0x7dd)](0x2,'0'),_0x1224a9=Math['floor'](_0xbdd3c7/0x3e8%0x3c)[_0x389d02(0x6ad)]()[_0x389d02(0x7dd)](0x2,'0');_0x3e3d25[_0x389d02(0x6fb)]=_0xd3b2a2+':'+_0x1224a9;}},0x3e8);}function renderPerQuestionView(){const _0x342645=_0x3a9f7b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2dff53=currentDisplayedQuiz[_0x342645(0x9fc)][currentQuestionIndex],_0x199b1a=_0x2dff53[_0x342645(0x7c7)]||currentDisplayedQuiz['quizType'],_0x19ad2c=currentDisplayedQuiz[_0x342645(0x7e8)]?.[_0x342645(0xce8)]===!![];let _0x222a30=_0x342645(0x493)+(currentQuestionIndex+0x1)+_0x342645(0x3f0)+currentDisplayedQuiz[_0x342645(0x9fc)][_0x342645(0x7d2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x342645(0x35f)?_0x342645(0x11f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x342645(0x156)]+_0x342645(0x392);studentQuizArea[_0x342645(0xd5e)]=_0x222a30;let _0x3178ac=_0x2dff53['stem']||_0x2dff53['questionText'];_0x2dff53[_0x342645(0x3c5)]&&(_0x3178ac+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2dff53['imageCode']+_0x342645(0x7f6));let _0x1269cf='';switch(_0x199b1a){case _0x342645(0x2d1):case'fill_in_no_choices':_0x1269cf=_0x342645(0x92e);break;case _0x342645(0x56e):_0x1269cf=_0x342645(0x79a);break;case _0x342645(0xac4):_0x1269cf=_0x342645(0xb31)+(_0x2dff53[_0x342645(0xcc7)]||[])[_0x342645(0x8ac)](_0x4e5c5a=>_0x342645(0x1dd)+_0x4e5c5a+'\x22>'+_0x4e5c5a+_0x342645(0x17b))[_0x342645(0x986)]('')+_0x342645(0xd0a);break;default:_0x2dff53[_0x342645(0xc87)]&&(_0x1269cf=_0x2dff53[_0x342645(0xc87)]['map']((_0x25d22e,_0xac3644)=>_0x342645(0xd54)+_0xac3644+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0xac3644+_0x342645(0x563)+_0xac3644+'\x22>'+_0x25d22e+_0x342645(0x715))[_0x342645(0x986)](''));break;}document[_0x342645(0xc0e)](_0x342645(0x25b))[_0x342645(0xd5e)]=_0x3178ac,document['getElementById'](_0x342645(0x508))[_0x342645(0xd5e)]=_0x1269cf;const _0x2738c8=currentDisplayedQuiz[_0x342645(0x7e8)]?.[_0x342645(0xce8)]===!![],_0x5e5467=currentDisplayedQuiz[_0x342645(0x7e8)]?.['confidenceMode']||_0x342645(0x467);if(_0x2738c8&&_0x5e5467===_0x342645(0x467)){const _0x241a7e=_0x342645(0x985);studentQuizArea[_0x342645(0x535)]('.mb-6.p-4')[_0x342645(0x596)](_0x342645(0x5d0),_0x241a7e);}studentQuizArea['insertAdjacentHTML'](_0x342645(0x5d0),_0x342645(0xc07)+(currentQuestionIndex===currentDisplayedQuiz[_0x342645(0x9fc)]['length']-0x1?_0x342645(0xb72):'คำถามถัดไป')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode==='admin-testing'&&document[_0x342645(0xc0e)](_0x342645(0x489))?.[_0x342645(0x59d)](_0x342645(0x9fd),cancelAdminTest);document[_0x342645(0xc0e)](_0x342645(0xc7e))[_0x342645(0x59d)](_0x342645(0x9fd),()=>handleNextQuestionInTimedMode(![]));if(window[_0x342645(0x6e3)])window[_0x342645(0x6e3)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x342645(0x7e8)]?.[_0x342645(0x997)]===_0x342645(0xcf0)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x9d5f6b=_0x3a9f7b,_0x505496=currentDisplayedQuiz['settings'][_0x9d5f6b(0x20e)],_0x38be39=document[_0x9d5f6b(0xc0e)](_0x9d5f6b(0x9f5));if(!_0x38be39)return;let _0x146702=_0x505496;_0x38be39[_0x9d5f6b(0xd5e)]=_0x9d5f6b(0x4ff)+_0x146702+_0x9d5f6b(0x383);const _0x356626=document[_0x9d5f6b(0xc0e)](_0x9d5f6b(0x6d5)),_0x1fef4e=document[_0x9d5f6b(0xc0e)](_0x9d5f6b(0x8bd));perQuestionTimerInterval=setInterval(()=>{const _0x762d33=_0x9d5f6b;_0x146702--;const _0x298205=_0x146702/_0x505496*0x64;_0x356626[_0x762d33(0x5c6)][_0x762d33(0xbee)]=_0x298205+'%',_0x1fef4e[_0x762d33(0x6fb)]=_0x146702,_0x146702<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x78c2b=![]){const _0x403aba=_0x3a9f7b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x3efc55=null,_0x2290e4=![];if(!_0x78c2b){const _0x56170f=currentDisplayedQuiz[_0x403aba(0x9fc)][currentQuestionIndex],_0x571546=_0x56170f['questionType']||currentDisplayedQuiz[_0x403aba(0xc6c)];if(_0x571546===_0x403aba(0x2d1)||_0x571546===_0x403aba(0x61f))_0x3efc55=document[_0x403aba(0x535)](_0x403aba(0x6af))?.[_0x403aba(0x452)][_0x403aba(0xa0f)]()??'';else{if(_0x571546===_0x403aba(0xac4))_0x3efc55=document['querySelector'](_0x403aba(0x90a))?.['value']??'';else{const _0x275a39=document[_0x403aba(0x535)](_0x403aba(0x389));_0x275a39&&(_0x3efc55=_0x275a39[_0x403aba(0x452)]);}}if(_0x3efc55===null||_0x3efc55===''){showMessage(_0x403aba(0x330)),startPerQuestionTimer();return;}const _0x29e6c4=currentDisplayedQuiz[_0x403aba(0x7e8)]?.[_0x403aba(0xce8)]===!![],_0x29e673=currentDisplayedQuiz[_0x403aba(0x7e8)]?.['confidenceMode']||_0x403aba(0x467);if(_0x29e6c4&&_0x29e673===_0x403aba(0x637)){document['getElementById']('confidence-modal')[_0x403aba(0x5e8)]['currentMode']=_0x403aba(0xc34),document[_0x403aba(0xc0e)]('selected-answer-index-hidden')[_0x403aba(0x452)]=_0x3efc55,document[_0x403aba(0xc0e)](_0x403aba(0x65e))[_0x403aba(0x319)][_0x403aba(0xd08)](_0x403aba(0x772));return;}const _0x5871d8=document[_0x403aba(0xc0e)](_0x403aba(0x7b8));_0x5871d8&&(_0x2290e4=_0x5871d8['checked']);}const _0x5637e8={'answer':_0x3efc55,'wasConfident':_0x2290e4};proceedToNextQuestion(_0x5637e8);}async function finalizePerQuestionQuiz(){const _0xfff4af=_0x3a9f7b,_0x1771b8=currentDisplayedQuiz['questions'][_0xfff4af(0x712)](_0x149c45=>_0x149c45[_0xfff4af(0x7c7)]===_0xfff4af(0x2d1));_0x1771b8?showMessage(_0xfff4af(0x9d4)):showMessage(_0xfff4af(0xe5));const _0x16e2bd=currentQuizData['id'],_0x1de1dc=doc(db,'artifacts/'+appId+_0xfff4af(0x253)+_0x16e2bd+_0xfff4af(0x251),currentStudentName),_0x4a2def=await getDoc(_0x1de1dc),_0x1cd79d=_0x4a2def[_0xfff4af(0x1fb)]()?_0x4a2def['data']():{},_0x21af3b=_0x1cd79d[_0xfff4af(0x57c)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x21af3b);}function getResultsFilename(){const _0x322cfb=_0x3a9f7b,_0xf05961=document[_0x322cfb(0xc0e)](_0x322cfb(0x7ed))[_0x322cfb(0x6fb)][_0x322cfb(0xaa1)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0xf05961||_0x322cfb(0x845));}function exportResultsAsImage(){const _0x15527a=_0x3a9f7b,_0x55f3c8=document[_0x15527a(0xc0e)](_0x15527a(0x433));showMessage(_0x15527a(0x567)),html2canvas(_0x55f3c8)['then'](_0x454986=>{const _0x3e347a=_0x15527a,_0x1e1a9e=document['createElement']('a');_0x1e1a9e[_0x3e347a(0x103)]=getResultsFilename()+'.png',_0x1e1a9e['href']=_0x454986[_0x3e347a(0x735)]('image/png'),_0x1e1a9e[_0x3e347a(0x9fd)](),messageModal[_0x3e347a(0x319)][_0x3e347a(0x930)](_0x3e347a(0x772));});}function exportResultsAsPDF(){const _0x5ac59b=_0x3a9f7b,{jsPDF:_0x19e9d6}=window[_0x5ac59b(0x78d)],_0x2d9442=new _0x19e9d6();_0x2d9442[_0x5ac59b(0x55d)]('helvetica',_0x5ac59b(0xb8c)),_0x2d9442[_0x5ac59b(0x15f)]({'html':_0x5ac59b(0x5d6)}),_0x2d9442['save'](getResultsFilename()+_0x5ac59b(0xd57));}function exportResultsAsWord(){const _0x41c703=_0x3a9f7b,_0x2b831a='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x41c703(0xc03)+_0x41c703(0xb30)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x1bd1c0=_0x41c703(0xaa4),_0x400e81=_0x2b831a+document['getElementById'](_0x41c703(0x433))[_0x41c703(0xd5e)]+_0x1bd1c0,_0x559afe=_0x41c703(0xc43)+encodeURIComponent(_0x400e81),_0x3b0379=document['createElement']('a');document['body'][_0x41c703(0x6ce)](_0x3b0379),_0x3b0379[_0x41c703(0xced)]=_0x559afe,_0x3b0379['download']=getResultsFilename()+_0x41c703(0x7a4),_0x3b0379['click'](),document['body'][_0x41c703(0xac9)](_0x3b0379);}function exportResultsAsExcel(){const _0x4560f7=_0x3a9f7b,_0x34b784=document[_0x4560f7(0xc0e)]('results-table');let _0x1fffec=[];for(let _0x5df181=0x0;_0x5df181<_0x34b784[_0x4560f7(0xc57)][_0x4560f7(0x7d2)];_0x5df181++){let _0x12fd05=[],_0x36ba53=_0x34b784[_0x4560f7(0xc57)][_0x5df181][_0x4560f7(0x68f)]('td,\x20th');for(let _0xf33710=0x0;_0xf33710<_0x36ba53[_0x4560f7(0x7d2)];_0xf33710++){_0x12fd05['push']('\x22'+_0x36ba53[_0xf33710]['innerText'][_0x4560f7(0xaa1)](/"/g,'\x22\x22')+'\x22');}_0x1fffec[_0x4560f7(0x187)](_0x12fd05['join'](','));}const _0x50d57c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1fffec['join']('\x0a')],{'type':_0x4560f7(0x92f)}),_0x4afa1c=document[_0x4560f7(0x846)]('a');_0x4afa1c[_0x4560f7(0xced)]=URL[_0x4560f7(0x823)](_0x50d57c),_0x4afa1c['download']=getResultsFilename()+_0x4560f7(0x332),_0x4afa1c[_0x4560f7(0x9fd)]();}function exportTableAsImage(_0x4004ef,_0x252f5d){const _0x185bd2=_0x3a9f7b,_0x2a04d6=document['getElementById'](_0x4004ef);if(!_0x2a04d6){showMessage(_0x185bd2(0x1a3));return;}showMessage(_0x185bd2(0x567)),html2canvas(_0x2a04d6)[_0x185bd2(0xc3a)](_0x2b46ec=>{const _0x46013b=_0x185bd2,_0x33e098=document[_0x46013b(0x846)]('a');_0x33e098[_0x46013b(0x103)]=_0x252f5d+_0x46013b(0x94f),_0x33e098[_0x46013b(0xced)]=_0x2b46ec[_0x46013b(0x735)](_0x46013b(0xbd0)),_0x33e098[_0x46013b(0x9fd)](),messageModal[_0x46013b(0x319)]['add'](_0x46013b(0x772));});}function exportTableAsPDF(_0x184f09,_0x262be2){const _0x391aad=_0x3a9f7b,{jsPDF:_0x4bb4c1}=window['jspdf'],_0x5bffc9=new _0x4bb4c1();_0x5bffc9['setFont'](_0x391aad(0x3a8),_0x391aad(0xb8c)),_0x5bffc9['autoTable']({'html':'#'+_0x184f09}),_0x5bffc9[_0x391aad(0x397)](_0x262be2+_0x391aad(0xd57));}function exportTableAsWord(_0x13548e,_0x2dd3c3){const _0x5d238b=_0x3a9f7b,_0x1bb193=document[_0x5d238b(0xc0e)](_0x13548e);if(!_0x1bb193){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x5960e5=_0x5d238b(0x90e)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x5d238b(0xb30)+_0x5d238b(0x1dc),_0x4edf40=_0x5d238b(0xaa4),_0x1105fc=_0x5960e5+_0x1bb193['innerHTML']+_0x4edf40,_0x35a2f5=_0x5d238b(0xc43)+encodeURIComponent(_0x1105fc),_0x2b973d=document[_0x5d238b(0x846)]('a');document[_0x5d238b(0x609)][_0x5d238b(0x6ce)](_0x2b973d),_0x2b973d[_0x5d238b(0xced)]=_0x35a2f5,_0x2b973d[_0x5d238b(0x103)]=_0x2dd3c3+_0x5d238b(0x7a4),_0x2b973d[_0x5d238b(0x9fd)](),document['body'][_0x5d238b(0xac9)](_0x2b973d);}function exportTableAsExcel(_0x408ed8,_0x32e29a){const _0x3d58f6=_0x3a9f7b,_0x107585=document[_0x3d58f6(0xc0e)](_0x408ed8);if(!_0x107585){showMessage(_0x3d58f6(0x1a3));return;}let _0xb0bebb=[];for(let _0xd85d2c=0x0;_0xd85d2c<_0x107585[_0x3d58f6(0xc57)]['length'];_0xd85d2c++){let _0x102e9c=[],_0x5c03ba=_0x107585['rows'][_0xd85d2c][_0x3d58f6(0x68f)]('td,\x20th');for(let _0x1cf9a5=0x0;_0x1cf9a5<_0x5c03ba['length'];_0x1cf9a5++){_0x102e9c[_0x3d58f6(0x187)]('\x22'+_0x5c03ba[_0x1cf9a5][_0x3d58f6(0x941)]['replace'](/"/g,'\x22\x22')+'\x22');}_0xb0bebb[_0x3d58f6(0x187)](_0x102e9c[_0x3d58f6(0x986)](','));}const _0x2bb157=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xb0bebb[_0x3d58f6(0x986)]('\x0a')],{'type':_0x3d58f6(0x92f)}),_0x4741a7=document[_0x3d58f6(0x846)]('a');_0x4741a7['href']=URL[_0x3d58f6(0x823)](_0x2bb157),_0x4741a7[_0x3d58f6(0x103)]=_0x32e29a+'.csv',_0x4741a7['click']();}function renderAnalytics(_0x3e9251,_0x328b04){const _0x24e44b=_0x3a9f7b,_0x349c51=_0x328b04['filter'](_0x2be9dc=>_0x2be9dc[_0x24e44b(0x320)]!==undefined),_0x2c654d=currentProjectData[_0x24e44b(0xa46)][_0x24e44b(0x7d2)],_0x138bb9=_0x349c51[_0x24e44b(0x7d2)],_0x1828ba=_0x2c654d-_0x138bb9,_0x3d560c=_0x2c654d>0x0?_0x138bb9/_0x2c654d*0x64:0x0,_0x3dee24=_0x349c51[_0x24e44b(0x8ac)](_0x2d7bd3=>_0x2d7bd3[_0x24e44b(0x320)]),_0x213d1b=_0x3dee24[_0x24e44b(0x7d2)]>0x0?_0x3dee24[_0x24e44b(0x78a)]((_0x56d3c,_0x1a3677)=>_0x56d3c+_0x1a3677,0x0)/_0x3dee24[_0x24e44b(0x7d2)]:0x0,_0x5987a1=_0x3e9251[_0x24e44b(0x9fc)][_0x24e44b(0x7d2)],_0x224d6d=_0x5987a1>0x0?_0x213d1b/_0x5987a1*0x64:0x0,_0x5099a5=calculateItemAnalysis(_0x3e9251,_0x349c51),_0x41187a=calculateReliabilityKR20(_0x3e9251,_0x349c51,_0x5099a5[_0x24e44b(0xb8f)]);let _0x23eaad='';if(_0x41187a!==null){let _0x54f053='';if(_0x41187a>=0.9)_0x54f053=_0x24e44b(0xc38);else{if(_0x41187a>=0.8)_0x54f053='ดีมาก';else{if(_0x41187a>=0.7)_0x54f053='ดี';else{if(_0x41187a>=0.6)_0x54f053=_0x24e44b(0x198);else _0x54f053=_0x24e44b(0x3ec);}}}_0x23eaad=_0x24e44b(0x82f)+_0x41187a[_0x24e44b(0xb83)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x54f053+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x57d8fa=document[_0x24e44b(0xc0e)]('analytics-summary-cards');_0x57d8fa[_0x24e44b(0xd5e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x3d560c[_0x24e44b(0xb83)](0x0)+_0x24e44b(0xb80)+_0x138bb9+'/'+_0x2c654d+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x213d1b[_0x24e44b(0xb83)](0x2)+_0x24e44b(0x1b4)+_0x224d6d[_0x24e44b(0xb83)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x3dee24[_0x24e44b(0x7d2)]>0x0?Math[_0x24e44b(0x347)](..._0x3dee24):'N/A')+_0x24e44b(0x826)+(_0x3dee24[_0x24e44b(0x7d2)]>0x0?Math[_0x24e44b(0xa07)](..._0x3dee24):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x23eaad+_0x24e44b(0x595);const _0x29de87=document[_0x24e44b(0xc0e)]('interesting-stats-wrapper');_0x29de87&&_0x29de87[_0x24e44b(0xd08)]();const _0xa5a74c=_0x24e44b(0x291);_0x57d8fa[_0x24e44b(0x596)]('afterend',_0xa5a74c);const _0x11c1cd=currentProjectData['students']||[];renderSubmissionChart(_0x138bb9,_0x1828ba,_0x349c51,_0x11c1cd),renderScoreDistributionChart(_0x349c51,_0x5987a1),renderQuestionAnalytics(_0x3e9251,_0x349c51,_0x11c1cd),renderInterestingStats(_0x3e9251,_0x349c51);}async function handleExportLessonPDF(){const _0x114799=_0x3a9f7b,_0x288b83=document[_0x114799(0xc0e)](_0x114799(0xc35)),_0x45a408=document['getElementById'](_0x114799(0xaba))[_0x114799(0x6fb)],_0x4737c4=window[_0x114799(0xc46)]('',_0x114799(0x529)),_0x11a327=_0x114799(0x289)+_0x45a408+_0x114799(0xd9)+_0x288b83[_0x114799(0xd5e)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4737c4[_0x114799(0x7ea)][_0x114799(0x875)](_0x11a327),_0x4737c4[_0x114799(0x7ea)][_0x114799(0x9d7)](),_0x4737c4[_0x114799(0xd25)]=function(){setTimeout(()=>{const _0x3ae5fe=_0x57a1;_0x4737c4[_0x3ae5fe(0x1c3)]();},0x5dc);};}function renderInterestingStats(_0x5e7257,_0xa119b4){const _0x387f80=_0x3a9f7b,_0x1e1198=document[_0x387f80(0xc0e)]('interesting-stats-container');if(!_0x1e1198)return;if(_0xa119b4['length']===0x0){_0x1e1198[_0x387f80(0xd5e)]=_0x387f80(0x737);return;}const _0x51c1c8=_0x5e7257[_0x387f80(0x9fc)][_0x387f80(0x8ac)]((_0x12bd51,_0x612df5)=>({'index':_0x612df5+0x1,'text':_0x12bd51['questionText']||_0x12bd51['stem'],'correct':0x0}));_0xa119b4['forEach'](_0x696a7b=>{const _0x16286d=_0x387f80,_0x5883eb=_0x696a7b[_0x16286d(0x57c)][_0x696a7b[_0x16286d(0x57c)][_0x16286d(0x7d2)]-0x1];_0x5883eb&&_0x5883eb[_0x16286d(0xb24)]&&_0x5883eb[_0x16286d(0xb24)]['forEach'](_0x1b93b1=>{const _0xfdee3d=_0x16286d,_0x1bff9d=_0x51c1c8[_0xfdee3d(0x4b3)](_0x21373f=>_0x21373f['text']===_0x1b93b1[_0xfdee3d(0xab3)]);_0x1b93b1[_0xfdee3d(0xbe1)]&&_0x1bff9d&&_0x1bff9d['correct']++;});});const _0x3952f0=_0xa119b4[_0x387f80(0x7d2)],_0x3db342=Math['max'](..._0x51c1c8[_0x387f80(0x8ac)](_0x944013=>_0x944013['correct'])),_0x1ecf53=Math[_0x387f80(0xa07)](..._0x51c1c8['map'](_0x30e276=>_0x30e276[_0x387f80(0x88e)])),_0x3b4705=_0x51c1c8[_0x387f80(0xb6e)](_0x188076=>_0x188076[_0x387f80(0x88e)]===_0x3db342)[_0x387f80(0x8ac)](_0x522270=>_0x387f80(0x3bb)+_0x522270[_0x387f80(0x21c)]),_0x286695=_0x51c1c8[_0x387f80(0xb6e)](_0x57b82b=>_0x57b82b[_0x387f80(0x88e)]===_0x1ecf53)[_0x387f80(0x8ac)](_0x838e0f=>_0x387f80(0x3bb)+_0x838e0f[_0x387f80(0x21c)]),_0x1a85da=_0xa119b4[_0x387f80(0x3fc)]((_0x5c78c5,_0x4f76c2)=>_0x4f76c2['latestScore']-_0x5c78c5[_0x387f80(0x320)])[_0x387f80(0xb6e)]((_0x3afa27,_0x3f78c2,_0x3ae48f)=>_0x3afa27[_0x387f80(0x320)]===_0x3ae48f[0x0][_0x387f80(0x320)]),_0x2e5dc6=_0xa119b4['sort']((_0x18475b,_0xc8c2a9)=>_0x18475b['latestScore']-_0xc8c2a9['latestScore'])[_0x387f80(0xb6e)]((_0x248856,_0x22b367,_0x2f7952)=>_0x248856[_0x387f80(0x320)]===_0x2f7952[0x0][_0x387f80(0x320)]),_0x45e2bc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x3b4705[_0x387f80(0x986)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x3db342+'\x20/\x20'+_0x3952f0+_0x387f80(0x525)+_0x286695['join'](',\x20')+_0x387f80(0xaac)+(_0x3952f0-_0x1ecf53)+_0x387f80(0x14d)+_0x3952f0+_0x387f80(0x11e)+_0x1a85da['map'](_0xf81bee=>_0xf81bee['studentName'])[_0x387f80(0x986)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x1a85da[0x0][_0x387f80(0x320)]+_0x387f80(0x911)+_0x2e5dc6[_0x387f80(0x8ac)](_0x10553a=>_0x10553a[_0x387f80(0xbba)])['join'](',\x20')+_0x387f80(0xc47)+_0x2e5dc6[0x0]['latestScore']+_0x387f80(0xa9b);_0x1e1198[_0x387f80(0xd5e)]=_0x45e2bc;}function renderSubmissionChart(_0x15f629,_0xa69b17,_0x4d5e13,_0x33944c){const _0x22728e=_0x3a9f7b,_0x1ff3bb=document[_0x22728e(0xc0e)]('submission-status-chart')[_0x22728e(0x235)]('2d'),_0x548701=_0x4d5e13['map'](_0x1c8c96=>_0x1c8c96['studentName']),_0x440a0b=_0x33944c[_0x22728e(0xb6e)](_0x192fe8=>!_0x548701['includes'](_0x192fe8));chartInstances[_0x22728e(0x9be)]&&chartInstances[_0x22728e(0x9be)][_0x22728e(0xd5d)](),chartInstances['submission']=new Chart(_0x1ff3bb,{'type':_0x22728e(0x8f4),'data':{'labels':[_0x22728e(0xb59),_0x22728e(0x367)],'datasets':[{'data':[_0x15f629,_0xa69b17],'backgroundColor':[_0x22728e(0x940),_0x22728e(0x269)],'borderColor':[_0x22728e(0x83f),_0x22728e(0x83f)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x22728e(0xcea)},'tooltip':{'callbacks':{'label':function(_0x1f6cc0){const _0x19b905=_0x22728e;let _0x545fe9=_0x1f6cc0[_0x19b905(0x463)]||'';return _0x545fe9&&(_0x545fe9+=':\x20'),_0x545fe9+=_0x1f6cc0[_0x19b905(0x2ec)],_0x545fe9;},'afterLabel':function(_0x4b1e35){const _0x265074=_0x22728e;let _0x292012;return _0x4b1e35['dataIndex']===0x0?_0x292012=_0x548701:_0x292012=_0x440a0b,_0x292012[_0x265074(0x7d2)]>0x0?_0x292012[_0x265074(0x986)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x460bae,_0x46a517){const _0x5be576=_0x3a9f7b,_0xa86328=document[_0x5be576(0xc0e)](_0x5be576(0xcb8))[_0x5be576(0x235)]('2d'),_0x16b0a3={};for(let _0x300af5=0x0;_0x300af5<=_0x46a517;_0x300af5++){_0x16b0a3[_0x300af5]=0x0;}_0x460bae[_0x5be576(0x2d3)](_0xf8bc13=>{const _0xe2cfba=_0x5be576;_0x16b0a3[_0xf8bc13[_0xe2cfba(0x320)]]!==undefined&&_0x16b0a3[_0xf8bc13[_0xe2cfba(0x320)]]++;}),chartInstances[_0x5be576(0x6fd)]&&chartInstances['score'][_0x5be576(0xd5d)](),chartInstances[_0x5be576(0x6fd)]=new Chart(_0xa86328,{'type':_0x5be576(0xd43),'data':{'labels':Object[_0x5be576(0x644)](_0x16b0a3),'datasets':[{'label':_0x5be576(0xf0),'data':Object[_0x5be576(0x3ac)](_0x16b0a3),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x5be576(0xbcb),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5be576(0xa54)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x302152){const _0x24da85=_0x5be576,_0x10d78f=_0x302152[_0x24da85(0x463)],_0x544334=_0x460bae['filter'](_0x37c9b4=>_0x37c9b4[_0x24da85(0x320)]==_0x10d78f)['map'](_0x58f2a9=>_0x58f2a9[_0x24da85(0xbba)]);return _0x544334[_0x24da85(0x7d2)]>0x0?_0x544334[_0x24da85(0x986)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x1b4503,_0xc4fe12,_0x4b63ee){const _0x32819c=_0x3a9f7b,_0x2b740d=document['getElementById'](_0x32819c(0xc69));if(_0x4b63ee[_0x32819c(0x7d2)]===0x0){_0x2b740d[_0x32819c(0xd5e)]=_0x32819c(0xc4);return;}const _0xdc8f81=calculateItemAnalysis(_0x1b4503,_0xc4fe12),_0x36a9db=calculateDistractorAnalysis(_0x1b4503,_0xc4fe12);let _0xcbfe2b='';_0xdc8f81['overallGroups']&&(_0xcbfe2b=_0x32819c(0xc95)+_0xdc8f81['overallGroups'][_0x32819c(0x162)][_0x32819c(0x7d2)]+_0x32819c(0x3e5)+_0xdc8f81[_0x32819c(0x195)][_0x32819c(0x162)]['map'](_0x3c61b6=>_0x32819c(0x4c9)+_0x3c61b6+_0x32819c(0xc12))[_0x32819c(0x986)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0xdc8f81[_0x32819c(0x195)][_0x32819c(0x70b)]['length']+_0x32819c(0x3e5)+_0xdc8f81[_0x32819c(0x195)]['lowerGroupNames'][_0x32819c(0x8ac)](_0x5a7562=>'<li>'+_0x5a7562+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x15be4f='';const _0x533753=_0xc4fe12['map'](_0x16aceb=>_0x16aceb[_0x32819c(0xbba)]),_0x513d86=_0x55140b=>{const _0x34774d=_0x32819c;if(_0x55140b>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x55140b>=0.6)return _0x34774d(0x91b);if(_0x55140b>=0.4)return _0x34774d(0x290);if(_0x55140b>=0.2)return _0x34774d(0x8a9);return _0x34774d(0x943);},_0x4aa90c=_0x55760d=>{const _0x26811f=_0x32819c;if(_0x55760d<0x0)return _0x26811f(0xca);if(_0x55760d>=0.4)return _0x26811f(0x274);if(_0x55760d>=0.3)return _0x26811f(0x1e6);if(_0x55760d>=0.2)return _0x26811f(0x6a2);return _0x26811f(0x8d2);},_0x4be4ee=_0x252979=>{const _0x3d01cf=_0x32819c,_0x3ae974=_0x252979['toFixed'](0x0);if(parseFloat(_0x3ae974)===0x64)return _0x3d01cf(0xd71)+_0x3ae974+_0x3d01cf(0xd52);if(_0x252979>=0x32)return _0x3d01cf(0x14a)+_0x3ae974+'%</span>';return _0x3d01cf(0xb77)+_0x3ae974+_0x3d01cf(0xd52);};_0x1b4503['questions'][_0x32819c(0x2d3)]((_0x12a290,_0x3808a3)=>{const _0x33cd9b=_0x32819c,_0x4b29fd=_0xdc8f81[_0x33cd9b(0xb8f)][_0x3808a3],_0x5ac8e2=_0x36a9db[_0x3808a3],_0x2f4270=_0x12a290[_0x33cd9b(0x895)]||_0x12a290[_0x33cd9b(0x47c)]||_0x12a290[_0x33cd9b(0x22e)];let _0x40ee30=0x0;const _0x216572=[],_0x26a754=[];_0xc4fe12[_0x33cd9b(0x2d3)](_0x2bca12=>{const _0x8f70f4=_0x33cd9b,_0x45b68b=_0x2bca12[_0x8f70f4(0x57c)][_0x2bca12['attempts'][_0x8f70f4(0x7d2)]-0x1];if(_0x45b68b&&_0x45b68b[_0x8f70f4(0xb24)]){const _0x4fc8c6=_0x45b68b['answers']['find'](_0x2c29d3=>_0x2c29d3[_0x8f70f4(0xab3)]===_0x2f4270)??_0x45b68b['answers'][_0x3808a3]??null;_0x4fc8c6&&(_0x4fc8c6[_0x8f70f4(0xbe1)]?(_0x40ee30++,_0x216572[_0x8f70f4(0x187)](_0x2bca12[_0x8f70f4(0xbba)])):_0x26a754[_0x8f70f4(0x187)](_0x2bca12['studentName']));}});const _0x2b1ef7=_0xc4fe12[_0x33cd9b(0x7d2)]>0x0?_0x40ee30/_0xc4fe12[_0x33cd9b(0x7d2)]*0x64:0x0,_0x2ac421=_0x4b63ee[_0x33cd9b(0xb6e)](_0x8f58c7=>!_0x533753[_0x33cd9b(0x1bc)](_0x8f58c7)),_0x4fb84e=_0x4b29fd?_0x33cd9b(0x428)+_0x4b29fd['p']['toFixed'](0x2)+_0x33cd9b(0x485)+_0x513d86(_0x4b29fd['p'])+_0x33cd9b(0x3bf)+_0x4b29fd['r'][_0x33cd9b(0xb83)](0x2)+_0x33cd9b(0x485)+_0x4aa90c(_0x4b29fd['r'])+_0x33cd9b(0x7d6)+_0x4be4ee(_0x2b1ef7)+_0x33cd9b(0x2c3):'';let _0x429fd1='';_0x5ac8e2&&(_0x429fd1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x33cd9b(0x644)](_0x5ac8e2)[_0x33cd9b(0x8ac)](_0x59d1cc=>{const _0x205297=_0x33cd9b,_0x4658e0=_0x5ac8e2[_0x59d1cc],_0x5c91c1=parseInt(_0x59d1cc)===_0x12a290[_0x205297(0xcfa)],_0x7a6036=!_0x5c91c1&&_0x4658e0[_0x205297(0x270)]>_0x4658e0[_0x205297(0x9d6)];return _0x205297(0xd1c)+(_0x5c91c1?_0x205297(0x8f8):'')+_0x205297(0xb50)+(_0x5c91c1?'✔\x20':'')+_0x4658e0['text']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4658e0[_0x205297(0x9d6)]+_0x205297(0x684)+_0x4658e0['lower_group_count']+'\x20'+(_0x7a6036?'👍':'')+_0x205297(0x684)+_0x4658e0['total']+_0x205297(0x40c);})[_0x33cd9b(0x986)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x5240c3='';_0x4b29fd&&_0x4b29fd[_0x33cd9b(0x4db)]&&(_0x5240c3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x4b29fd[_0x33cd9b(0x4db)]['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x4b29fd[_0x33cd9b(0x4db)][_0x33cd9b(0x8ac)](_0x93cdf7=>_0x33cd9b(0x4c9)+(_0x93cdf7[_0x33cd9b(0xbe1)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x33cd9b(0x3c8))+'\x20'+_0x93cdf7['name']+_0x33cd9b(0xc12))[_0x33cd9b(0x986)]('')+_0x33cd9b(0xba1)+_0x4b29fd[_0x33cd9b(0x5d5)][_0x33cd9b(0x7d2)]+_0x33cd9b(0x3c2)+_0x4b29fd[_0x33cd9b(0x5d5)]['map'](_0x33944e=>_0x33cd9b(0x4c9)+(_0x33944e[_0x33cd9b(0xbe1)]?_0x33cd9b(0x27d):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x33944e['name']+_0x33cd9b(0xc12))[_0x33cd9b(0x986)]('')+_0x33cd9b(0x4ad)),_0x15be4f+=_0x33cd9b(0x3e4)+(_0x3808a3+0x1)+':\x20'+_0x2f4270+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x4fb84e+_0x33cd9b(0xb7d)+_0x2f4270+_0x33cd9b(0xcf6)+_0x40ee30+_0x33cd9b(0x3f0)+_0xc4fe12['length']+_0x33cd9b(0xa44)+_0x2b1ef7[_0x33cd9b(0xb83)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x216572[_0x33cd9b(0x7d2)]+_0x33cd9b(0x96c)+(_0x216572['length']>0x0?_0x216572['join'](',\x20'):_0x33cd9b(0xc6a))+_0x33cd9b(0xc74)+_0x26a754[_0x33cd9b(0x7d2)]+_0x33cd9b(0x96c)+(_0x26a754[_0x33cd9b(0x7d2)]>0x0?_0x26a754['join'](',\x20'):_0x33cd9b(0xc6a))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x2ac421[_0x33cd9b(0x7d2)]+_0x33cd9b(0x96c)+(_0x2ac421[_0x33cd9b(0x7d2)]>0x0?_0x2ac421[_0x33cd9b(0x986)](',\x20'):_0x33cd9b(0xc6a))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x429fd1+_0x33cd9b(0x62f)+_0x5240c3+_0x33cd9b(0x6b6);}),_0x2b740d['innerHTML']=_0xcbfe2b+_0x15be4f;try{window[_0x32819c(0x6e3)]&&MathJax[_0x32819c(0x16c)]&&MathJax['typesetPromise']([_0x2b740d]);}catch(_0x17e71c){console['error'](_0x32819c(0x380),_0x17e71c);}}function calculateDistractorAnalysis(_0x23dcd2,_0x2013c3){const _0x1bb7dd=_0x3a9f7b,_0x48c33d={};if(_0x2013c3['length']<0x2)return _0x48c33d;const _0x58436e=[..._0x2013c3][_0x1bb7dd(0x3fc)]((_0x2ca007,_0x5df498)=>{const _0x44775e=_0x1bb7dd,_0xdc19cb=_0x5df498[_0x44775e(0x320)]-_0x2ca007['latestScore'];if(_0xdc19cb!==0x0)return _0xdc19cb;const _0x577b7d=_0x2ca007[_0x44775e(0x57c)]?.[_0x44775e(0x7d2)]||0x1,_0x778e5c=_0x5df498[_0x44775e(0x57c)]?.[_0x44775e(0x7d2)]||0x1,_0x57b74d=_0x577b7d-_0x778e5c;if(_0x57b74d!==0x0)return _0x57b74d;const _0x4d939e=new Date(_0x2ca007[_0x44775e(0x3dc)]),_0x5a4f13=new Date(_0x5df498['latestSubmittedAt']),_0x4f204e=_0x4d939e-_0x5a4f13;if(_0x4f204e!==0x0)return _0x4f204e;return _0x2ca007[_0x44775e(0xbba)]['localeCompare'](_0x5df498[_0x44775e(0xbba)],'th');}),_0x25da8c=_0x58436e[_0x1bb7dd(0x7d2)],_0x13bd81=Math[_0x1bb7dd(0x347)](0x1,Math[_0x1bb7dd(0x48b)](_0x25da8c*0.33)),_0x5564bc=_0x58436e[_0x1bb7dd(0x3f8)](0x0,_0x13bd81),_0x31a1e9=_0x58436e['slice'](-_0x13bd81);return _0x23dcd2[_0x1bb7dd(0x9fc)][_0x1bb7dd(0x2d3)]((_0x1cc7ea,_0x777265)=>{const _0x2dd026=_0x1bb7dd;if(_0x1cc7ea[_0x2dd026(0x7c7)]!=='multiple_choice'||!_0x1cc7ea[_0x2dd026(0xc87)])return;const _0xae15e8=_0x1cc7ea[_0x2dd026(0x47c)],_0x2165b1={};_0x1cc7ea['options']['forEach']((_0xfe6bc6,_0x270427)=>{_0x2165b1[_0x270427]={'text':_0xfe6bc6,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x58436e[_0x2dd026(0x2d3)](_0x26a69e=>{const _0x28a873=_0x2dd026,_0x5198ce=_0x26a69e[_0x28a873(0x57c)][_0x26a69e[_0x28a873(0x57c)][_0x28a873(0x7d2)]-0x1],_0x321b5f=_0x5198ce[_0x28a873(0xb24)][_0x28a873(0x4b3)](_0x172b9e=>_0x172b9e[_0x28a873(0xab3)]===_0xae15e8);if(_0x321b5f&&_0x321b5f[_0x28a873(0x7d7)]!==null){const _0x4e3ce3=_0x1cc7ea[_0x28a873(0xc87)][_0x28a873(0x287)](_0x34712d=>_0x34712d===_0x321b5f['answerText']);_0x4e3ce3!==-0x1&&_0x2165b1[_0x4e3ce3]&&(_0x2165b1[_0x4e3ce3][_0x28a873(0xad0)]++,_0x5564bc['includes'](_0x26a69e)&&_0x2165b1[_0x4e3ce3][_0x28a873(0x9d6)]++,_0x31a1e9[_0x28a873(0x1bc)](_0x26a69e)&&_0x2165b1[_0x4e3ce3][_0x28a873(0x270)]++);}}),_0x48c33d[_0x777265]=_0x2165b1;}),_0x48c33d;}function calculateReliabilityKR20(_0x1adf86,_0xdc2b2,_0x2ee8d8){const _0x14d643=_0x3a9f7b,_0xfbfbed=_0x1adf86['questions'][_0x14d643(0x7d2)];if(_0xfbfbed<0x2||_0xdc2b2[_0x14d643(0x7d2)]<0x2)return null;const _0x4d3f52=_0xdc2b2['map'](_0x547e28=>_0x547e28[_0x14d643(0x320)]),_0xbe3e40=_0x4d3f52[_0x14d643(0x78a)]((_0x5ab202,_0x188e00)=>_0x5ab202+_0x188e00,0x0)/_0x4d3f52[_0x14d643(0x7d2)],_0x302700=_0x4d3f52[_0x14d643(0x8ac)](_0x34c2bf=>Math[_0x14d643(0x75d)](_0x34c2bf-_0xbe3e40,0x2))[_0x14d643(0x78a)]((_0x51631e,_0x541676)=>_0x51631e+_0x541676,0x0)/_0x4d3f52[_0x14d643(0x7d2)];if(_0x302700===0x0)return null;let _0x4fdd0b=0x0;for(let _0x52eb45=0x0;_0x52eb45<_0xfbfbed;_0x52eb45++){const _0x3f2535=_0x2ee8d8[_0x52eb45]?.['p'];if(_0x3f2535===undefined)continue;const _0x5112d7=0x1-_0x3f2535;_0x4fdd0b+=_0x3f2535*_0x5112d7;}if(_0x4fdd0b===0x0)return null;const _0xc6ab5f=_0xfbfbed/(_0xfbfbed-0x1)*(0x1-_0x4fdd0b/_0x302700);if(_0xc6ab5f>0x1)return null;return _0xc6ab5f;}async function handleAnalyzeClass(){const _0x9f6b5f=_0x3a9f7b;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x9f6b5f(0x999));return;}const _0x1a85db=collection(db,_0x9f6b5f(0xb3f)+appId+_0x9f6b5f(0x253)+currentQuizData['id']+'/submissions'),_0x2bd674=await getDocs(_0x1a85db),_0x20ff17=_0x2bd674['docs']['map'](_0x523e09=>_0x523e09[_0x9f6b5f(0x180)]());if(_0x20ff17[_0x9f6b5f(0x7d2)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x53301f=document[_0x9f6b5f(0xc0e)](_0x9f6b5f(0xb27));_0x53301f[_0x9f6b5f(0xd5e)]=_0x9f6b5f(0x541),document[_0x9f6b5f(0xc0e)](_0x9f6b5f(0x922))['disabled']=!![];const _0xe3e692=_0x20ff17[_0x9f6b5f(0x8ac)]((_0x4d90e6,_0x4de29b)=>{const _0xa415c4=_0x9f6b5f,_0x5dd69b=_0x4d90e6['attempts'][_0x4d90e6['attempts'][_0xa415c4(0x7d2)]-0x1];if(!_0x5dd69b)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x4de29b+0x1)+'\x20('+_0x4d90e6[_0xa415c4(0xbba)]+_0xa415c4(0x7d8)+_0x5dd69b[_0xa415c4(0x6fd)]+'/'+_0x4d90e6[_0xa415c4(0x46c)]+_0xa415c4(0x539)+JSON[_0xa415c4(0x272)](_0x5dd69b[_0xa415c4(0xb24)])+_0xa415c4(0xbf5);})['join'](_0x9f6b5f(0x550)),_0x244ccc=_0x9f6b5f(0x913)+currentQuizData[_0x9f6b5f(0x156)]+_0x9f6b5f(0x9d2)+JSON[_0x9f6b5f(0x272)](currentQuizData['questions'])+_0x9f6b5f(0x517)+_0xe3e692+_0x9f6b5f(0x40b),_0x4f606c={'type':'OBJECT','properties':{'classStrengths':{'type':_0x9f6b5f(0xff),'items':{'type':_0x9f6b5f(0xfc)}},'classWeaknesses':{'type':_0x9f6b5f(0xff),'items':{'type':_0x9f6b5f(0xfc)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x9f6b5f(0xd13),_0x9f6b5f(0x9ee),_0x9f6b5f(0x6d7)]};try{const _0xe59dab=await callAnalysisApi(_0x244ccc,_0x4f606c);displayClassAnalysis(_0xe59dab);}catch(_0x44c2f1){console['error'](_0x9f6b5f(0x9c0),_0x44c2f1),_0x53301f['innerHTML']=_0x9f6b5f(0x2ad)+_0x44c2f1[_0x9f6b5f(0x145)]+'</p></div>';}finally{document[_0x9f6b5f(0xc0e)](_0x9f6b5f(0x922))['disabled']=![];}}function displayClassAnalysis(_0x3edc0c){const _0x57f275=_0x3a9f7b,_0x27fd17=document[_0x57f275(0xc0e)](_0x57f275(0xb27));if(!_0x3edc0c){_0x27fd17['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x27fd17[_0x57f275(0xd5e)]=_0x57f275(0x5c7)+_0x3edc0c[_0x57f275(0xd13)][_0x57f275(0x8ac)](_0x3d72c6=>_0x57f275(0x4c9)+_0x3d72c6+'</li>')[_0x57f275(0x986)]('')+_0x57f275(0x66c)+_0x3edc0c[_0x57f275(0x9ee)]['map'](_0x55234e=>_0x57f275(0x4c9)+_0x55234e+_0x57f275(0xc12))[_0x57f275(0x986)]('')+_0x57f275(0x921)+_0x3edc0c[_0x57f275(0x6d7)]['map'](_0x5bbd1f=>_0x57f275(0x4c9)+_0x5bbd1f+_0x57f275(0xc12))[_0x57f275(0x986)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x7cde7a,_0x1cc1a9){const _0x4e7f92=_0x3a9f7b,_0x4b97ad=_0x4e7f92(0xb58)+_0x7cde7a[_0x4e7f92(0x156)]+_0x4e7f92(0xb29)+_0x7cde7a[_0x4e7f92(0x156)]+_0x4e7f92(0x744)+_0x7cde7a['questions'][_0x4e7f92(0x8ac)]((_0x184236,_0x132a66)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x132a66+0x1)+'.\x20'+_0x184236[_0x4e7f92(0x47c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x184236['imageCode']?_0x4e7f92(0x16f)+_0x184236['imageCode']+_0x4e7f92(0x7f6):'')+_0x4e7f92(0x142))[_0x4e7f92(0x986)]('')+_0x4e7f92(0x668);_0x1cc1a9[_0x4e7f92(0x7ea)][_0x4e7f92(0x875)](_0x4b97ad),_0x1cc1a9[_0x4e7f92(0x7ea)][_0x4e7f92(0x9d7)](),_0x1cc1a9[_0x4e7f92(0xd25)]=function(){setTimeout(()=>{const _0x5567c8=_0x57a1;_0x1cc1a9[_0x5567c8(0x1c3)]();},0x3e8);};}async function generateWorksheet(){const _0x131e12=_0x3a9f7b,_0x556308=document[_0x131e12(0xc0e)]('worksheet-topic-input')[_0x131e12(0x452)][_0x131e12(0xa0f)]();if(!_0x556308){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0xa13bf6=document[_0x131e12(0xc0e)](_0x131e12(0xbb9))[_0x131e12(0x9da)],_0x2d3804=_0xa13bf6?'':_0x131e12(0x7c0),_0x42251a=window[_0x131e12(0xc46)]('',_0x131e12(0x529));_0x42251a[_0x131e12(0x7ea)][_0x131e12(0x875)](_0x131e12(0x219));const _0x60de2c=parseInt(document[_0x131e12(0xc0e)](_0x131e12(0x7ce))[_0x131e12(0x452)]),_0xf52613=document['getElementById'](_0x131e12(0x92c))['checked'],_0x337c30=_0xf52613?_0x131e12(0xd6a):'',_0x346218='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x2d3804+_0x131e12(0xaca)+_0x60de2c+_0x131e12(0x8e9)+_0x556308+_0x131e12(0x9b3)+_0x337c30+_0x131e12(0xaf0)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x3a21d0={'type':_0x131e12(0x9c6),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x131e12(0xff),'items':{'type':_0x131e12(0x9c6),'properties':{'questionText':{'type':_0x131e12(0xfc)},'imageCode':{'type':_0x131e12(0xfc)}},'required':[_0x131e12(0x47c)]}}},'required':[_0x131e12(0x156),'questions']};document[_0x131e12(0xc0e)]('loader-text')[_0x131e12(0x6fb)]='',document[_0x131e12(0xc0e)](_0x131e12(0xa28))[_0x131e12(0x319)]['remove'](_0x131e12(0x772)),document[_0x131e12(0xc0e)](_0x131e12(0x505))[_0x131e12(0x319)]['remove']('hidden'),generateWorksheetBtn[_0x131e12(0x622)]=!![];try{const _0xd88a24=await callAnalysisApi(_0x346218,_0x3a21d0);formatAndPrintWorksheet(_0xd88a24,_0x42251a);}catch(_0x5b5825){console[_0x131e12(0x4e3)]('Error\x20generating\x20worksheet:',_0x5b5825);if(_0x42251a)_0x42251a['close']();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x131e12(0xc0e)](_0x131e12(0xa28))['classList'][_0x131e12(0x930)](_0x131e12(0x772)),document[_0x131e12(0xc0e)](_0x131e12(0x505))[_0x131e12(0x319)][_0x131e12(0x930)]('hidden'),generateWorksheetBtn[_0x131e12(0x622)]=![];}}async function callAnalysisApi(_0x3cd05c,_0x55bf2b){const _0x465857=_0x3a9f7b,_0x5c764d={'contents':[{'role':_0x465857(0x37e),'parts':[{'text':_0x3cd05c}]}],'generationConfig':{'responseMimeType':_0x465857(0x1a0),'responseSchema':_0x55bf2b}},_0x25f879=_0x465857(0x9c4),_0x21e277=_0x465857(0x7e1)+_0x25f879,_0x49d4ab=await fetch(_0x21e277,{'method':_0x465857(0x68a),'headers':{'Content-Type':_0x465857(0x1a0)},'body':JSON[_0x465857(0x272)](_0x5c764d)});if(!_0x49d4ab['ok'])throw new Error(_0x465857(0x92a)+_0x49d4ab[_0x465857(0x896)]);const _0x392e71=await _0x49d4ab[_0x465857(0xc5d)]();if(_0x392e71[_0x465857(0x2fe)]?.[0x0]?.[_0x465857(0xcda)]?.[_0x465857(0x321)]?.[0x0])return JSON[_0x465857(0x7da)](_0x392e71['candidates'][0x0]['content'][_0x465857(0x321)][0x0][_0x465857(0xbbd)]);else{let _0xcb570d=_0x465857(0x8cd);if(_0x392e71['promptFeedback']?.[_0x465857(0x41a)])_0xcb570d='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x392e71['promptFeedback'][_0x465857(0x41a)]+'.';else _0x392e71['candidates']?.[0x0]?.[_0x465857(0x9ad)]&&_0x392e71['candidates'][0x0]['finishReason']!==_0x465857(0xd4e)&&(_0xcb570d='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x392e71[_0x465857(0x2fe)][0x0][_0x465857(0x9ad)]+'.');console[_0x465857(0x4e3)](_0xcb570d,JSON[_0x465857(0x272)](_0x392e71));throw new Error(_0xcb570d);}}async function handleStartSyncMode(_0x3b7446,_0x5452e0=![],_0x4efc3d=_0x3a9f7b(0x184)){const _0x183f3b=_0x3a9f7b,_0x38eeee=allQuizzes['find'](_0x2bc4c0=>_0x2bc4c0['id']===_0x3b7446)||allQuizzesGlobal[_0x183f3b(0x4b3)](_0x401d7a=>_0x401d7a['id']===_0x3b7446);if(!_0x38eeee){showMessage(_0x183f3b(0x9ef));return;}currentQuizData=getShuffledQuiz(_0x38eeee);const _0x45197f=Math[_0x183f3b(0x48b)](0x3e8+Math[_0x183f3b(0x120)]()*0x2328)[_0x183f3b(0x6ad)](),_0x1d77eb=doc(db,_0x183f3b(0xb3f)+appId+_0x183f3b(0xb8e),_0x38eeee[_0x183f3b(0xd39)]),_0x1ccb45=await getDoc(_0x1d77eb);if(!_0x1ccb45[_0x183f3b(0x1fb)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x2a0de0=_0x1ccb45[_0x183f3b(0x180)]()[_0x183f3b(0xa46)]||[],_0x5acc42={};if(_0x4efc3d===_0x183f3b(0x4f4)){const _0x4b23f6=[...ANONYMOUS_NAMES][_0x183f3b(0x3fc)](()=>0.5-Math[_0x183f3b(0x120)]());_0x2a0de0[_0x183f3b(0x2d3)]((_0x22410f,_0x1c204)=>{const _0x100d7b=_0x183f3b;_0x5acc42[_0x22410f]=_0x4b23f6[_0x1c204]||_0x100d7b(0x708)+(_0x1c204+0x1);});}const _0x485ac9=document[_0x183f3b(0xc0e)](_0x183f3b(0x1f1))[_0x183f3b(0x9da)],_0xb95e39=parseInt(document[_0x183f3b(0xc0e)](_0x183f3b(0x784))['value'],0xa);let _0x38d4e9={'timerMode':_0x183f3b(0x81d),'timerDuration':0x0};_0x485ac9&&(_0x38d4e9[_0x183f3b(0x997)]=_0x183f3b(0xcf0),_0x38d4e9[_0x183f3b(0x20e)]=_0xb95e39||0xf0);const _0x203718=document['getElementById'](_0x183f3b(0x8b6))[_0x183f3b(0x9da)],_0x45f4ea=document[_0x183f3b(0xc0e)](_0x183f3b(0x8fb))[_0x183f3b(0x9da)];try{const _0xc55b74=await addDoc(collection(db,_0x183f3b(0xb3f)+appId+'/public/data/syncGames'),{'quizId':_0x38eeee['id'],'pin':_0x45197f,'status':_0x183f3b(0x9aa),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5452e0,'players':{},'gameVariant':_0x4efc3d,'reviewQuestionIndex':0x0,'playerNicknames':_0x5acc42,'isAnonymousRevealed':![],..._0x38d4e9,'showAnswerInAnonymous':_0x203718,'isBlackMarketEnabled':_0x45f4ea});currentLiveGameId=_0xc55b74['id'],showView(_0x183f3b(0xb0)),renderSyncLobbyView(_0x45197f,_0x38eeee['topic']),listenForSyncGameUpdates();const _0x1d57e8={'gameId':currentLiveGameId,'mode':_0x183f3b(0x43c),'role':_0x183f3b(0xcd6)};sessionStorage[_0x183f3b(0xb15)](_0x183f3b(0x7df),JSON[_0x183f3b(0x272)](_0x1d57e8));}catch(_0xeb6c0b){console[_0x183f3b(0x4e3)]('Error\x20starting\x20sync\x20game:',_0xeb6c0b),showMessage(_0x183f3b(0x32f));}}function calculateFinalPodiumScores(_0x28bc96){const _0x28b269=_0x3a9f7b;if(!_0x28bc96||!_0x28bc96[_0x28b269(0xc11)]||!_0x28bc96[_0x28b269(0xd1)])return _0x28bc96['players']||{};const _0x3a44b2=_0x28bc96['shuffledQuiz']['questions']['length'],_0x2459b7=JSON['parse'](JSON[_0x28b269(0x272)](_0x28bc96[_0x28b269(0xd1)]));return Object[_0x28b269(0x3ac)](_0x2459b7)['forEach'](_0x191e8c=>{const _0x270190=_0x28b269,_0x4ca783=_0x191e8c[_0x270190(0x6fd)]||0x0,_0x5c3c5a=_0x191e8c['totalPoints']||0x0;_0x3a44b2>0x0&&_0x4ca783===_0x3a44b2?_0x191e8c['hasPerfectScoreBonus']=!![]:_0x191e8c[_0x270190(0xc14)]=![],_0x191e8c[_0x270190(0x500)]=_0x4ca783,_0x191e8c[_0x270190(0x33e)]=_0x5c3c5a;}),_0x2459b7;}function listenForSyncGameUpdates(){const _0x1c8228=_0x3a9f7b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2f7ac8=doc(db,_0x1c8228(0xb3f)+appId+_0x1c8228(0x25a),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2f7ac8,_0x429a24=>{const _0x148ca2=_0x1c8228;if(!_0x429a24[_0x148ca2(0x1fb)]()){sessionStorage[_0x148ca2(0x329)](_0x148ca2(0x7df));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x148ca2(0x85b));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView(_0x148ca2(0x243));return;}const _0x306175=_0x429a24[_0x148ca2(0x180)]();currentMode===_0x148ca2(0xcd6)?updateAdminSyncView(_0x306175):updateStudentSyncView(_0x306175);});}function renderSyncLobbyView(_0x188c67,_0x1b6103){const _0x3c13de=_0x3a9f7b;liveGameView[_0x3c13de(0xd5e)]=_0x3c13de(0x73f)+_0x1b6103+_0x3c13de(0x6ba)+_0x188c67+_0x3c13de(0xd2c);const _0xb6b622=document[_0x3c13de(0xc0e)]('confidence-scoring-toggle'),_0x427756=document[_0x3c13de(0xc0e)](_0x3c13de(0x46d));_0xb6b622['addEventListener'](_0x3c13de(0xc16),()=>{const _0x45b1d3=_0x3c13de;_0x427756['style'][_0x45b1d3(0x6cf)]=_0xb6b622[_0x45b1d3(0x9da)]?_0x45b1d3(0xba5):_0x45b1d3(0x81d);}),document['getElementById'](_0x3c13de(0x335))[_0x3c13de(0x59d)](_0x3c13de(0x9fd),async()=>{const _0x5e9512=_0x3c13de,_0x2fc08a=doc(db,_0x5e9512(0xb3f)+appId+'/public/data/syncGames',currentLiveGameId),_0x46c749=document['getElementById'](_0x5e9512(0x349))[_0x5e9512(0x9da)];await updateDoc(_0x2fc08a,{'status':_0x5e9512(0x536),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x46c749});});}function updateAdminSyncView(_0x579d61){const _0x159ad7=_0x3a9f7b;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x579d61['status']){case _0x159ad7(0x9aa):renderSyncLobbyView(_0x579d61['pin'],_0x579d61['shuffledQuiz']['topic']);const _0x2d614a=Object[_0x159ad7(0x377)](_0x579d61['players']||{})[_0x159ad7(0xb6e)](([_0x332dec,_0x53b875])=>_0x53b875[_0x159ad7(0x896)]!==_0x159ad7(0x856));document[_0x159ad7(0xc0e)]('player-count')['textContent']=_0x2d614a['length'],document['getElementById'](_0x159ad7(0x6df))[_0x159ad7(0xd5e)]=_0x2d614a[_0x159ad7(0x8ac)](([_0x7ba64b,_0x463196])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x7ba64b+_0x159ad7(0xc8e)+_0x7ba64b+_0x159ad7(0xa0a))[_0x159ad7(0x986)]('')||_0x159ad7(0x2bb),document[_0x159ad7(0xc0e)](_0x159ad7(0x335))[_0x159ad7(0x622)]=_0x2d614a['length']===0x0;break;case _0x159ad7(0x536):const _0x237529=Object[_0x159ad7(0x3ac)](_0x579d61[_0x159ad7(0xd1)]||{})[_0x159ad7(0xb6e)](_0x56b4c7=>_0x56b4c7[_0x159ad7(0x896)]!=='inactive'),_0x438a45=_0x237529[_0x159ad7(0xb6e)](_0x46c273=>_0x46c273['answered'])[_0x159ad7(0x7d2)],_0x54b7fb=_0x438a45===_0x237529[_0x159ad7(0x7d2)]&&_0x237529[_0x159ad7(0x7d2)]>0x0;if(_0x54b7fb&&_0x579d61[_0x159ad7(0x896)]===_0x159ad7(0x536)){const _0x10fc44=doc(db,'artifacts/'+appId+_0x159ad7(0x25a),currentLiveGameId);updateDoc(_0x10fc44,{'status':_0x159ad7(0x3e3)});return;}if(document[_0x159ad7(0xc0e)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x579d61);else{const _0xa38cef=document[_0x159ad7(0xc0e)](_0x159ad7(0x8a2));_0xa38cef&&(_0xa38cef['textContent']=_0x438a45+'/'+_0x237529['length']);const _0x22264a=document[_0x159ad7(0xc0e)]('sync-player-list');_0x22264a&&(_0x22264a[_0x159ad7(0xd5e)]=_0x237529['map'](_0x25c17a=>{const _0x34e0dd=_0x159ad7,_0x299d5f=_0x25c17a['answered']?_0x34e0dd(0x65f):_0x34e0dd(0xc1f),_0x5da44f=_0x25c17a[_0x34e0dd(0xb6b)]?_0x34e0dd(0xae8):_0x34e0dd(0x361);return _0x34e0dd(0x348)+_0x299d5f+_0x34e0dd(0xbf7)+_0x5da44f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x25c17a['name']+_0x34e0dd(0x619)+_0x25c17a[_0x34e0dd(0x58e)]+_0x34e0dd(0x4b2);})[_0x159ad7(0x986)](''));}const _0x3fcb25=_0x579d61[_0x159ad7(0x997)]===_0x159ad7(0xcf0)&&_0x579d61['questionDisplayedAt'];if(_0x3fcb25){const _0x1b5fe2=_0x579d61[_0x159ad7(0x2d6)][_0x159ad7(0x8f3)]()['getTime'](),_0x539e8d=_0x579d61[_0x159ad7(0x20e)]*0x3e8,_0x4b1197=_0x1b5fe2+_0x539e8d,_0x485e79=document[_0x159ad7(0xc0e)](_0x159ad7(0x466)),_0x51ddab=document[_0x159ad7(0xc0e)](_0x159ad7(0x4aa));syncQuestionTimerInterval=setInterval(()=>{const _0x16b183=_0x159ad7,_0x3caf16=Date[_0x16b183(0x62e)](),_0x18b79d=_0x237529['length']>0x0&&_0x237529[_0x16b183(0x2a4)](_0x5c8ac3=>{const _0x3d5ab3=_0x16b183;if(_0x5c8ac3[_0x3d5ab3(0xb6b)])return!![];const _0x22467e=_0x5c8ac3['timeBonusThisQuestion']||0x0,_0x7329b0=_0x1b5fe2+_0x539e8d+_0x22467e;if(_0x7329b0<=_0x3caf16)return!![];return![];});if(_0x18b79d){clearInterval(syncQuestionTimerInterval);const _0x3e9de7=doc(db,_0x16b183(0xb3f)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x3e9de7,{'status':_0x16b183(0x3e3)});return;}const _0x31432c=_0x4b1197-_0x3caf16;if(_0x31432c<=0x0){if(_0x485e79)_0x485e79[_0x16b183(0x5c6)][_0x16b183(0xbee)]='0%';if(_0x51ddab)_0x51ddab[_0x16b183(0x6fb)]=_0x16b183(0x340);}else{if(_0x485e79&&_0x51ddab){const _0xfad1b9=_0x31432c/_0x539e8d*0x64;_0x485e79[_0x16b183(0x5c6)][_0x16b183(0xbee)]=_0xfad1b9+'%',_0x51ddab[_0x16b183(0x6fb)]=Math[_0x16b183(0x528)](_0x31432c/0x3e8);}}},0x1f4);}break;case _0x159ad7(0x3e3):const _0x49a121=_0x579d61[_0x159ad7(0x41b)],_0x4c5559=_0x579d61[_0x159ad7(0xc11)][_0x159ad7(0x9fc)][_0x49a121];renderSyncSummaryView(_0x579d61,_0x4c5559,!![]);break;case _0x159ad7(0x4e9):const _0x2a0c50=_0x579d61[_0x159ad7(0x7bc)]||'classic';_0x2a0c50==='reveal_at_end'?renderAdminSyncDashboard(_0x579d61,!![],_0x579d61[_0x159ad7(0x7f2)]):renderAdminSyncDashboard(_0x579d61,!![],_0x579d61[_0x159ad7(0x41b)]);break;case _0x159ad7(0x52b):_0x579d61[_0x159ad7(0x22c)]&&saveGameResultsAsSubmissions(_0x579d61);sessionStorage['removeItem'](_0x159ad7(0x7df));const _0x1c2947=calculateFinalPodiumScores(_0x579d61);showPodiumView(_0x1c2947,_0x159ad7(0x43c),_0x579d61);break;}}function renderAdminSyncQuestionView(_0x40e2d9){const _0x2bd650=_0x3a9f7b,_0x350e6f=_0x40e2d9['currentQuestionIndex'],_0x360759=_0x40e2d9['shuffledQuiz'][_0x2bd650(0x9fc)][_0x350e6f],_0x2c44ff=_0x40e2d9[_0x2bd650(0xc11)][_0x2bd650(0x9fc)][_0x2bd650(0x7d2)],_0x33c0c8=Object[_0x2bd650(0x3ac)](_0x40e2d9[_0x2bd650(0xd1)]||{})[_0x2bd650(0xb6e)](_0x5f2ae8=>_0x5f2ae8[_0x2bd650(0x896)]!==_0x2bd650(0x856)),_0x4a07fa=_0x33c0c8[_0x2bd650(0xb6e)](_0x4e8566=>_0x4e8566['answered'])[_0x2bd650(0x7d2)],_0x3444fc=_0x4a07fa===_0x33c0c8['length']&&_0x33c0c8[_0x2bd650(0x7d2)]>0x0,_0x5d203b=(_0x360759[_0x2bd650(0xc87)]||[])[_0x2bd650(0x8ac)](_0x545e70=>_0x2bd650(0x5c1)+_0x545e70+'</div>')[_0x2bd650(0x986)]('');let _0x5ecd30='';_0x40e2d9[_0x2bd650(0x997)]===_0x2bd650(0xcf0)&&(_0x5ecd30='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x40e2d9['timerDuration']+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView['innerHTML']=_0x2bd650(0xbd3)+(_0x350e6f+0x1)+_0x2bd650(0x14d)+_0x2c44ff+_0x2bd650(0xfb)+_0x40e2d9[_0x2bd650(0x28f)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x4a07fa+'/'+_0x33c0c8['length']+_0x2bd650(0xa74)+_0x5ecd30+_0x2bd650(0xb92)+_0x360759[_0x2bd650(0x47c)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x5d203b+_0x2bd650(0x92b)+(!_0x3444fc?'disabled':'')+_0x2bd650(0x96b);if(window['MathJax'])MathJax[_0x2bd650(0x16c)]();const _0x20e4c3=doc(db,'artifacts/'+appId+_0x2bd650(0x25a),currentLiveGameId);document[_0x2bd650(0xc0e)]('show-results-btn')['addEventListener'](_0x2bd650(0x9fd),async()=>{const _0x5a7c68=_0x2bd650;await updateDoc(_0x20e4c3,{'status':_0x5a7c68(0x3e3)});}),document[_0x2bd650(0xc0e)](_0x2bd650(0x42e))[_0x2bd650(0xd75)]=()=>{const _0x2d140c=_0x2bd650;openScratchpad(_0x360759,_0x360759[_0x2d140c(0xc87)]||[]);},document['getElementById']('sync-manage-players-btn')['addEventListener'](_0x2bd650(0x9fd),()=>{const _0x57f6c0=_0x2bd650;document[_0x57f6c0(0xc0e)](_0x57f6c0(0x7c8))[_0x57f6c0(0x319)]['toggle'](_0x57f6c0(0x772));});const _0x4fd0b5=document[_0x2bd650(0xc0e)]('end-sync-game-btn');_0x4fd0b5&&(_0x4fd0b5['onclick']=()=>{const _0x219902=_0x2bd650;showConfirmation(_0x219902(0x5b9),async()=>{const _0x171bde=_0x219902;await updateDoc(_0x20e4c3,{'status':_0x171bde(0x52b)});});});}function renderSyncLeaderboardView(_0xee9309,_0x5e7c76){const _0x11d37a=_0x3a9f7b,_0x276741=Object[_0x11d37a(0x3ac)](_0xee9309['players']||{});_0x276741[_0x11d37a(0x3fc)]((_0x11b9e0,_0x42f31b)=>_0x42f31b[_0x11d37a(0x6fd)]-_0x11b9e0['score']);const _0x1426e4=_0x276741[_0x11d37a(0x3f8)](0x0,0x5);let _0x3c189a='';if(_0x5e7c76){const _0x1a5b47=_0xee9309[_0x11d37a(0x41b)]>=_0xee9309[_0x11d37a(0xc11)]['questions']['length']-0x1;_0x3c189a=_0x11d37a(0x10d)+(_0x1a5b47?_0x11d37a(0x126):_0x11d37a(0x7fe))+_0x11d37a(0x409);}else _0x3c189a='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x11d37a(0xd5e)]=_0x11d37a(0x663)+_0x1426e4['map']((_0x40b4cd,_0x1a6db9)=>_0x11d37a(0x6b9)+(_0x1a6db9+0x1)+'.\x20'+_0x40b4cd['name']+_0x11d37a(0x442)+_0x40b4cd[_0x11d37a(0x6fd)]+_0x11d37a(0x9a6))[_0x11d37a(0x986)]('')+_0x11d37a(0xaf2)+_0x3c189a+_0x11d37a(0xcc5),_0x5e7c76&&document[_0x11d37a(0xc0e)]('next-sync-question-btn')['addEventListener'](_0x11d37a(0x9fd),async()=>{const _0x2d1199=_0x11d37a,_0x43e53d=doc(db,'artifacts/'+appId+_0x2d1199(0x25a),currentLiveGameId),_0x9c584=_0xee9309[_0x2d1199(0x41b)]+0x1;if(_0x9c584<_0xee9309[_0x2d1199(0xc11)][_0x2d1199(0x9fc)]['length']){const _0x5973e3={};Object[_0x2d1199(0x644)](_0xee9309[_0x2d1199(0xd1)])['forEach'](_0x4df347=>{const _0x487247=_0x2d1199;_0x5973e3[_0x487247(0xc52)+_0x4df347+_0x487247(0x3f3)]=![];}),await updateDoc(_0x43e53d,{..._0x5973e3,'status':_0x2d1199(0x536),'currentQuestionIndex':_0x9c584,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x43e53d,{'status':_0x2d1199(0x52b)});});}async function handleJoinSyncGame(){const _0x420b43=_0x3a9f7b,_0x5af98e=prompt(_0x420b43(0x36a));if(!_0x5af98e||_0x5af98e[_0x420b43(0xa0f)]()['length']!==0x2){showMessage(_0x420b43(0x6bb));return;}try{const _0x3bda4f=collection(db,_0x420b43(0xb3f)+appId+'/public/data/syncGames'),_0x2716af=query(_0x3bda4f,where(_0x420b43(0x28f),'==',_0x5af98e[_0x420b43(0xa0f)]()),where(_0x420b43(0x896),'==',_0x420b43(0x9aa))),_0x589470=await getDocs(_0x2716af);if(_0x589470[_0x420b43(0xb0c)]){showMessage(_0x420b43(0x6dc));return;}const _0x2e850b=_0x589470[_0x420b43(0x726)][0x0];currentLiveGameId=_0x2e850b['id'];const _0x37b1ea=_0x2e850b[_0x420b43(0x180)](),_0x28d328=doc(db,'artifacts/'+appId+_0x420b43(0xb0a),_0x37b1ea[_0x420b43(0x346)]),_0x34a15b=await getDoc(_0x28d328);if(!_0x34a15b[_0x420b43(0x1fb)]())throw new Error(_0x420b43(0x405));const _0x46f229=_0x34a15b[_0x420b43(0x180)](),_0x10deb6=doc(db,_0x420b43(0xb3f)+appId+'/public/data/projects',_0x46f229[_0x420b43(0xd39)]),_0x383fa1=await getDoc(_0x10deb6);if(!_0x383fa1[_0x420b43(0x1fb)]())throw new Error(_0x420b43(0xada));currentQuizData=_0x37b1ea['shuffledQuiz'];const _0x533103=_0x383fa1[_0x420b43(0x180)]();showView(_0x420b43(0x369)),showTeamPlayerSelection(_0x533103['students'],_0x46f229[_0x420b43(0x156)]);const _0x145652=document[_0x420b43(0xc0e)](_0x420b43(0x73b));_0x145652[_0x420b43(0xd75)]=confirmAndJoinSyncGame;}catch(_0x1d3a16){console[_0x420b43(0x4e3)]('Error\x20joining\x20sync\x20game:',_0x1d3a16),showMessage(_0x420b43(0xc89)+_0x1d3a16['message']);}}function updateStudentSyncView(_0x2bc8cf){const _0x4fd79e=_0x3a9f7b,_0x1474ca=_0x2bc8cf['players'][localTeamPlayers[0x0]];if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x2bc8cf[_0x4fd79e(0x896)]){case _0x4fd79e(0x9aa):showView(_0x4fd79e(0xb0)),liveGameView[_0x4fd79e(0xd5e)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x4fd79e(0x536):if(_0x2bc8cf['currentQuestionIndex']!==lastSeenQuestionIndex){console['log'](_0x4fd79e(0x3ea)),sessionStorage[_0x4fd79e(0x329)]('powerupUsedThisTurn'),sessionStorage[_0x4fd79e(0x329)]('onSecondChance'),sessionStorage[_0x4fd79e(0x329)](_0x4fd79e(0x87a));const _0x1d69eb=_0x4fd79e(0x6c6)+lastSeenQuestionIndex,_0x5ecea9='powerupUsed_q'+lastSeenQuestionIndex,_0xe58b8a=_0x4fd79e(0x4d4)+lastSeenQuestionIndex;Object['keys'](sessionStorage)[_0x4fd79e(0x2d3)](_0x16fbbc=>{const _0x5e7aa8=_0x4fd79e;(_0x16fbbc[_0x5e7aa8(0x23e)](_0x1d69eb)||_0x16fbbc['startsWith'](_0x5ecea9)||_0x16fbbc[_0x5e7aa8(0x23e)](_0xe58b8a))&&sessionStorage['removeItem'](_0x16fbbc);}),lastSeenQuestionIndex=_0x2bc8cf[_0x4fd79e(0x41b)];}localPlayerTurnIndex=0x0;const _0x24df6c=localTeamPlayers[_0x4fd79e(0x2a4)](_0x26d51c=>_0x2bc8cf['players'][_0x26d51c]?.[_0x4fd79e(0xb6b)]===!![]);if(_0x24df6c)liveGameView['innerHTML']='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>';else{renderStudentSyncQuestionView(_0x2bc8cf);if(_0x2bc8cf[_0x4fd79e(0x997)]==='per_question'){if(!_0x2bc8cf['questionDisplayedAt']){console['log'](_0x4fd79e(0x6ee));return;}const _0x3cca31=_0x2bc8cf[_0x4fd79e(0x2d6)]['toDate']()[_0x4fd79e(0xd7)](),_0x497172=_0x2bc8cf['timerDuration']*0x3e8,_0x4def9d=localTeamPlayers[_0x4fd79e(0x8ac)](_0x46d7ff=>_0x2bc8cf[_0x4fd79e(0xd1)][_0x46d7ff]?.['timeBonusThisQuestion']||0x0),_0x5ef618=Math['max'](..._0x4def9d,0x0),_0x363e4a=_0x3cca31+_0x497172+_0x5ef618;syncQuestionTimerInterval=setInterval(()=>{const _0xf283ab=_0x4fd79e,_0x2c7abc=_0x363e4a-Date[_0xf283ab(0x62e)](),_0x449796=document['getElementById'](_0xf283ab(0x466)),_0x386a92=document[_0xf283ab(0xc0e)](_0xf283ab(0x4aa));if(_0x2c7abc<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x449796)_0x449796[_0xf283ab(0x5c6)]['width']='0%';if(_0x386a92)_0x386a92[_0xf283ab(0x6fb)]='0';liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{if(_0x449796&&_0x386a92){const _0x48c0a0=_0x497172+_0x5ef618,_0x578b27=_0x48c0a0>0x0?_0x2c7abc/_0x48c0a0*0x64:0x0;_0x449796[_0xf283ab(0x5c6)]['width']=_0x578b27+'%',_0x386a92[_0xf283ab(0x6fb)]=Math[_0xf283ab(0x528)](_0x2c7abc/0x3e8);}}},0x1f4);}}break;case _0x4fd79e(0x3e3):liveGameView[_0x4fd79e(0xd5e)]=_0x4fd79e(0xc62);break;case _0x4fd79e(0x4e9):localPlayerTurnIndex=0x0;const _0x123edc=_0x2bc8cf[_0x4fd79e(0x7bc)]||_0x4fd79e(0x184);if(_0x123edc===_0x4fd79e(0x4f4))renderStudentAnonymousResultsView(_0x2bc8cf,_0x2bc8cf['currentQuestionIndex']);else _0x123edc===_0x4fd79e(0xcad)?renderStudentCompetitionResultsView(_0x2bc8cf,_0x2bc8cf[_0x4fd79e(0x41b)]):renderStudentSyncResultsView(_0x2bc8cf);break;case _0x4fd79e(0x52b):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4fd79e(0x3e0)](_0x4fd79e(0x6fe),handleFullscreenChange),document[_0x4fd79e(0x3e0)](_0x4fd79e(0xa66),handleVisibilityChange),sessionStorage['removeItem'](_0x4fd79e(0x7df));const _0x556191=calculateFinalPodiumScores(_0x2bc8cf);showPodiumView(_0x556191,_0x4fd79e(0x43c),_0x2bc8cf);break;}}function renderStudentSyncResultsView(_0x2ef2ca){const _0x1500fd=_0x3a9f7b,_0x3881e1=localTeamPlayers[_0x1500fd(0x8ac)](_0x52c6a2=>_0x2ef2ca[_0x1500fd(0xd1)][_0x52c6a2])['filter'](Boolean);_0x3881e1[_0x1500fd(0x3fc)]((_0x45027e,_0x463d15)=>(_0x463d15[_0x1500fd(0x6fd)]||0x0)-(_0x45027e[_0x1500fd(0x6fd)]||0x0));const _0x3908e7=_0x2ef2ca['gameVariant']||_0x1500fd(0x184),_0x4fcf89=_0x2ef2ca[_0x1500fd(0xc11)][_0x1500fd(0x9fc)];let _0x160db6='';if(_0x3908e7===_0x1500fd(0xf1)){const _0x3dd01f=_0x2ef2ca['reviewQuestionIndex']>=_0x4fcf89[_0x1500fd(0x7d2)]-0x1;_0x3dd01f?_0x160db6=_0x1500fd(0x393):_0x160db6=_0x1500fd(0x60d);}else{const _0x4e2107=_0x2ef2ca['currentQuestionIndex']>=_0x4fcf89['length']-0x1;_0x4e2107?_0x160db6=_0x1500fd(0x393):_0x160db6=_0x1500fd(0xc86);}const _0x31fcda=_0x1500fd(0x1af)+_0x3881e1['map']((_0x3c0e4b,_0x57c538)=>_0x1500fd(0x2cd)+(_0x57c538+0x1)+_0x1500fd(0x193)+_0x3c0e4b[_0x1500fd(0x58e)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x3c0e4b['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x1500fd(0x864)+_0x160db6+_0x1500fd(0x701);liveGameView[_0x1500fd(0xd5e)]=_0x31fcda;}function renderStudentAnonymousResultsView(_0x534ead,_0x52ce1a){const _0x261432=_0x3a9f7b,_0x562a9f=Object['values'](_0x534ead[_0x261432(0xd1)]||{}),_0x5a3186=_0x52ce1a,_0x2a188b=_0x534ead[_0x261432(0x7bc)]||_0x261432(0x184),_0x597296=_0x534ead[_0x261432(0x1a4)]===!![],_0x14fdc9=_0x534ead[_0x261432(0xc11)]['questions'],_0x535306=_0x562a9f[_0x261432(0x8ac)](_0x2d5b40=>{const _0x246a4c=_0x261432,_0x18a58c=_0x2d5b40['score']||0x0,_0x421b0d=_0x2d5b40[_0x246a4c(0x33e)]||0x0,_0x4493d8=(_0x2d5b40['answers']||[])[_0x246a4c(0xb6e)](_0x4848cc=>_0x2a188b===_0x246a4c(0xf1)?_0x4848cc['questionIndex']<=_0x5a3186:!![]);return{..._0x2d5b40,'realScore':_0x18a58c,'totalPoints':_0x421b0d,'answers':_0x4493d8};}),_0x1812cc=[..._0x535306][_0x261432(0x3fc)]((_0x19096d,_0x5cba5d)=>_0x5cba5d['totalPoints']-_0x19096d[_0x261432(0x33e)]),_0x44e6f9=_0x1812cc[_0x261432(0x7d2)]>0x0?_0x1812cc[0x0][_0x261432(0x33e)]:0x0;let _0x2c743e=null;const _0x4ae475=_0x535306[_0x261432(0xb6e)](_0x413b80=>localTeamPlayers['includes'](_0x413b80[_0x261432(0x58e)]));_0x2c743e=_0x4ae475[_0x261432(0x7d2)]>0x0?_0x4ae475[_0x261432(0x3fc)]((_0x5cbfb7,_0x1ed11a)=>_0x1ed11a[_0x261432(0x33e)]-_0x5cbfb7[_0x261432(0x33e)])[0x0]:null;if(!_0x2c743e){liveGameView[_0x261432(0xd5e)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>';return;}const _0x317c5c=_0x2c743e['totalPoints']===_0x44e6f9&&_0x44e6f9>0x0,_0x14312a=_0x534ead[_0x261432(0x373)]===!![],_0x35deda=_0x52ce1a+0x1,_0x60596c=_0x535306[_0x261432(0xb6e)](_0x2dce4f=>_0x2dce4f[_0x261432(0x500)]===_0x35deda&&(_0x2dce4f[_0x261432(0xb24)]||[])['length']===_0x35deda&&_0x35deda>0x0),_0x3d3b24=_0x60596c[_0x261432(0x7d2)]>0x0?Math[_0x261432(0x347)](..._0x60596c[_0x261432(0x8ac)](_0x4c75fb=>_0x4c75fb[_0x261432(0x33e)])):-Infinity,_0x442fb7=_0x1812cc[_0x261432(0x8ac)]((_0x29b4c1,_0x3fdb39)=>{const _0x227f1b=_0x261432,_0x352991=_0x29b4c1[_0x227f1b(0x500)],_0x5bf9ce=_0x29b4c1['totalPoints'],_0x16519d=_0x29b4c1[_0x227f1b(0xb24)][_0x227f1b(0x7d2)],_0x35073a=(_0x29b4c1[_0x227f1b(0xb24)]||[])[_0x227f1b(0x4b3)](_0x5e7969=>_0x5e7969['questionIndex']===_0x52ce1a);let _0x34d7e4='';_0x35073a&&(_0x35073a['usedPoll']&&(_0x34d7e4+=_0x227f1b(0xd74)),_0x35073a[_0x227f1b(0x473)]&&(_0x34d7e4+=_0x227f1b(0xc0f)),_0x35073a[_0x227f1b(0xcca)]&&(_0x34d7e4+=_0x227f1b(0x67b)));let _0x4632a7='';const _0x3e1142=_0x29b4c1[_0x227f1b(0xb24)][_0x227f1b(0x7d2)],_0x553ced=_0x29b4c1[_0x227f1b(0x500)]===_0x35deda&&_0x3e1142===_0x35deda&&_0x35deda>0x0;if(_0x14312a){const _0xc51a6c=_0x553ced&&_0x29b4c1[_0x227f1b(0x33e)]===_0x3d3b24;if(_0xc51a6c)_0x4632a7=_0x227f1b(0x76b);else _0x553ced&&(_0x4632a7='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>');}else{if(_0x3e1142===_0x35deda&&_0x35deda>0x0){let _0x25941b=_0x35deda;_0x534ead['isConfidenceScoringEnabled']&&(_0x25941b=_0x35deda*0x2);const _0x22bf09=_0x29b4c1['totalPoints']===_0x25941b;if(_0x22bf09)_0x4632a7=_0x227f1b(0x8f1);else _0x553ced&&(_0x4632a7=_0x227f1b(0x8bb));}}if(_0x4632a7===''){if(_0x5bf9ce<0x0)_0x4632a7='<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>';else _0x352991===0x0&&_0x3e1142>0x0&&(_0x4632a7='<span\x20class=\x22text-gray-400\x20ml-1\x22\x20title=\x22คะแนนจริงเป็น\x200\x22>😥</span>');}let _0x36fb26='bg-black/20';const _0x18fa1a=(_0x29b4c1[_0x227f1b(0xb24)]||[])[_0x227f1b(0x4b3)](_0xf143d0=>_0xf143d0['questionIndex']===_0x5a3186);if(_0x18fa1a){const _0x25b8eb=_0x18fa1a[_0x227f1b(0xbe1)],_0x34a9fc=_0x18fa1a['wasConfident']===!![]||_0x18fa1a[_0x227f1b(0x802)]===_0x227f1b(0xb97),_0x4d396a=_0x18fa1a[_0x227f1b(0x903)];if(_0x4d396a===_0x227f1b(0x765))_0x36fb26=_0x25b8eb?'bg-yellow-300\x20text-yellow-900\x20font-bold':_0x227f1b(0x649);else{if(_0x34a9fc)_0x36fb26=_0x25b8eb?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x227f1b(0xbda);else _0x25b8eb&&(_0x36fb26=_0x227f1b(0x748));}}let _0x4158e1='';const _0x5b0cca=_0x29b4c1[_0x227f1b(0x58e)],_0x459faf=_0x534ead[_0x227f1b(0xad)][_0x29b4c1[_0x227f1b(0x58e)]]||_0x227f1b(0xbc8),_0x3d2965=_0x227f1b(0x333),_0xb2ad1f='word-break:\x20break-all;',_0x4b6349=localTeamPlayers['includes'](_0x5b0cca),_0x102d18=_0x2c743e['totalPoints'],_0x5c8653=_0x29b4c1[_0x227f1b(0x33e)];_0x597296?_0x4158e1=_0x227f1b(0xc5b)+_0x3d2965+'\x22\x20title=\x22'+_0x5b0cca+'\x20('+_0x459faf+_0x227f1b(0x786)+_0xb2ad1f+'\x22>'+_0x5b0cca+_0x227f1b(0xcf8)+_0x34d7e4+'\x20'+_0x4632a7+'<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22'+_0xb2ad1f+_0x227f1b(0x459)+_0x459faf+')</span></div>':_0x4b6349?_0x317c5c?_0x4158e1=_0x227f1b(0xc5b)+_0x3d2965+_0x227f1b(0x6d1)+_0x5b0cca+'\x20('+_0x459faf+_0x227f1b(0x786)+_0xb2ad1f+'\x22>'+_0x5b0cca+_0x227f1b(0xcf8)+_0x34d7e4+'\x20'+_0x4632a7+_0x227f1b(0x54e)+_0xb2ad1f+_0x227f1b(0x459)+_0x459faf+_0x227f1b(0xc53):_0x4158e1=_0x227f1b(0xc5b)+_0x3d2965+_0x227f1b(0x6d1)+_0x459faf+_0x227f1b(0x19f)+_0xb2ad1f+'\x22>'+_0x459faf+_0x227f1b(0xcf8)+_0x34d7e4+'\x20'+_0x4632a7+_0x227f1b(0x7f6):_0x102d18>_0x5c8653?_0x4158e1=_0x227f1b(0xc5b)+_0x3d2965+'\x22\x20title=\x22'+_0x5b0cca+'\x20('+_0x459faf+_0x227f1b(0x786)+_0xb2ad1f+'\x22>'+_0x5b0cca+_0x227f1b(0xcf8)+_0x34d7e4+'\x20'+_0x4632a7+_0x227f1b(0x54e)+_0xb2ad1f+_0x227f1b(0x459)+_0x459faf+_0x227f1b(0xc53):_0x4158e1=_0x227f1b(0xc5b)+_0x3d2965+_0x227f1b(0x6d1)+_0x459faf+_0x227f1b(0x19f)+_0xb2ad1f+'\x22>'+_0x459faf+_0x227f1b(0xcf8)+_0x34d7e4+'\x20'+_0x4632a7+_0x227f1b(0x7f6);const _0x1e0f04=_0x5bf9ce>=0x0?'(+'+_0x5bf9ce+')':'('+_0x5bf9ce+')',_0x156271=_0x227f1b(0x33f)+_0x29b4c1[_0x227f1b(0x500)]+_0x227f1b(0x1bd)+_0x1e0f04+'</span>';return _0x227f1b(0x200)+_0x36fb26+_0x227f1b(0x54f)+(_0x3fdb39+0x1)+_0x227f1b(0x5e7)+_0x4158e1+_0x227f1b(0x1f5)+_0x156271+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x261432(0x986)]('');let _0x4ceacd='';const _0x38753c=_0x2a188b===_0x261432(0xf1)?_0x534ead[_0x261432(0x7f2)]>=_0x14fdc9[_0x261432(0x7d2)]-0x1:_0x534ead[_0x261432(0x41b)]>=_0x14fdc9[_0x261432(0x7d2)]-0x1;_0x38753c?_0x4ceacd='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x4ceacd=_0x261432(0xc86);const _0x48a55f=_0x261432(0x118)+_0x442fb7+_0x261432(0x244)+_0x4ceacd+_0x261432(0xcc5);liveGameView[_0x261432(0xd5e)]=_0x48a55f;}function renderStudentCompetitionResultsView(_0x455cfa,_0x3af8c5){const _0xd4535d=_0x3a9f7b,_0x32c401=Object['values'](_0x455cfa[_0xd4535d(0xd1)]||{}),_0x339427=_0x3af8c5,_0x7696fa=_0x455cfa[_0xd4535d(0x7bc)]||'classic',_0x173822=_0x455cfa[_0xd4535d(0xc11)][_0xd4535d(0x9fc)],_0x531538=_0x32c401[_0xd4535d(0x8ac)](_0x117eff=>{const _0x118bcb=_0xd4535d,_0x56e57a=_0x117eff['score']||0x0,_0x23f253=_0x117eff[_0x118bcb(0x33e)]||0x0,_0x3f6a3d=(_0x117eff['answers']||[])[_0x118bcb(0xb6e)](_0x5b8687=>_0x7696fa===_0x118bcb(0xf1)?_0x5b8687[_0x118bcb(0xb47)]<=_0x339427:!![]);return{..._0x117eff,'realScore':_0x56e57a,'totalPoints':_0x23f253,'answers':_0x3f6a3d};}),_0x2d6a87=[..._0x531538][_0xd4535d(0x3fc)]((_0x40b2a7,_0x2e2e4c)=>_0x2e2e4c[_0xd4535d(0x33e)]-_0x40b2a7[_0xd4535d(0x33e)]),_0x3f6fe9=_0x2d6a87[_0xd4535d(0x8ac)]((_0x5c2505,_0x3367a6)=>{const _0x3eddc2=_0xd4535d,_0x41d1f4='';let _0x1ce7bc=_0x3eddc2(0x618);const _0x543091=_0x5c2505[_0x3eddc2(0x58e)],_0x537444='line-height:\x201.3;\x20min-width:\x200;',_0x44b742=_0x3eddc2(0xb5),_0x574650=_0x3eddc2(0xc5b)+_0x537444+_0x3eddc2(0x6d1)+_0x543091+'\x22><span\x20style=\x22'+_0x44b742+'\x22>'+_0x543091+_0x3eddc2(0xcd9)+_0x41d1f4+_0x3eddc2(0x7f6),_0x3ea45='';return _0x3eddc2(0x200)+_0x1ce7bc+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0x3367a6+0x1)+_0x3eddc2(0x5e7)+_0x574650+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ea45+_0x3eddc2(0x46e);})[_0xd4535d(0x986)]('');let _0x4297e6='';const _0x3f7a67=_0x7696fa===_0xd4535d(0xf1)?_0x455cfa['reviewQuestionIndex']>=_0x173822[_0xd4535d(0x7d2)]-0x1:_0x455cfa[_0xd4535d(0x41b)]>=_0x173822[_0xd4535d(0x7d2)]-0x1;_0x3f7a67?_0x4297e6='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x4297e6=_0xd4535d(0xc86);const _0x5c47db=_0xd4535d(0x19c)+_0x3f6fe9+_0xd4535d(0x244)+_0x4297e6+_0xd4535d(0xcc5);liveGameView[_0xd4535d(0xd5e)]=_0x5c47db;}function renderStudentSyncQuestionView(_0x76f41c){const _0x373e45=_0x3a9f7b,_0x4e3f54=localTeamPlayers['find'](_0x1b4926=>_0x76f41c[_0x373e45(0xd1)][_0x1b4926]&&_0x76f41c[_0x373e45(0xd1)][_0x1b4926]['answered']===![]);if(!_0x4e3f54){console[_0x373e45(0x955)](_0x373e45(0x8d3));return;}const _0x401b7b=_0x76f41c[_0x373e45(0xd1)][_0x4e3f54],_0x54b2a0=_0x401b7b[_0x373e45(0x33e)]||0x0,_0x522139=_0x401b7b['powerups']||{},_0xf57e9d=_0x76f41c[_0x373e45(0x41b)],_0x20d0b5=_0x76f41c[_0x373e45(0xc11)][_0x373e45(0x9fc)][_0x373e45(0x7d2)],_0x29b485=_0x76f41c[_0x373e45(0xc11)][_0x373e45(0x9fc)][_0xf57e9d],_0x4a1263=_0x29b485['questionType']||_0x76f41c['shuffledQuiz'][_0x373e45(0xc6c)];let _0x3f8b7d='',_0x36f57b=![];const _0x50b49b=_0x373e45(0x4d4)+_0xf57e9d+'_p'+_0x4e3f54,_0x495719=JSON[_0x373e45(0x7da)](sessionStorage[_0x373e45(0x248)](_0x50b49b)||'[]')[_0x373e45(0x8ac)](String);switch(_0x4a1263){case _0x373e45(0x56e):const _0x5ad031=_0x495719[_0x373e45(0x1bc)]('0')?'':_0x373e45(0x49e),_0x4ab68c=_0x495719[_0x373e45(0x1bc)]('1')?'':_0x373e45(0x840);_0x3f8b7d=_0x5ad031+_0x4ab68c;break;case _0x373e45(0x2d1):case _0x373e45(0x61f):_0x36f57b=!![],_0x3f8b7d=_0x373e45(0x803);break;case _0x373e45(0xac4):_0x36f57b=!![],_0x3f8b7d=_0x373e45(0xbbe)+(_0x29b485[_0x373e45(0xcc7)]||[])['map'](_0x46e8b2=>_0x373e45(0x1dd)+_0x46e8b2+'\x22>'+_0x46e8b2+'</option>')[_0x373e45(0x986)]('')+_0x373e45(0x18d);break;case _0x373e45(0x211):default:_0x3f8b7d=(_0x29b485[_0x373e45(0xc87)]||[])['map']((_0xc5b770,_0x3fd0fa)=>{const _0x5665ca=_0x373e45;if(_0x495719[_0x5665ca(0x1bc)](_0x3fd0fa[_0x5665ca(0x6ad)]()))return'';return'<button\x20data-value=\x22'+_0x3fd0fa+_0x5665ca(0xad4)+_0xc5b770+_0x5665ca(0x6f2);})['join']('');break;}let _0x553a50='';_0x76f41c[_0x373e45(0x997)]===_0x373e45(0xcf0)&&(_0x553a50=_0x373e45(0xd07)+_0x76f41c[_0x373e45(0x20e)]+_0x373e45(0x9c1));let _0x48e62b='';if(_0x76f41c[_0x373e45(0x373)]===!![]){const _0x56058b=[_0x522139[_0x373e45(0xce5)]>0x0?'<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>50:50\x20('+_0x522139[_0x373e45(0xce5)]+_0x373e45(0x86f):'',_0x522139[_0x373e45(0x468)]>0x0?_0x373e45(0x16a)+_0x522139[_0x373e45(0x468)]+_0x373e45(0x86f):'',_0x522139[_0x373e45(0x964)]>0x0?_0x373e45(0x16e)+_0x522139[_0x373e45(0x964)]+_0x373e45(0x86f):'',_0x522139[_0x373e45(0x83e)]>0x0?'<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ประกันภัย\x20('+_0x522139[_0x373e45(0x83e)]+_0x373e45(0x86f):'',_0x522139[_0x373e45(0x765)]>0x0?_0x373e45(0x175)+_0x522139[_0x373e45(0x765)]+_0x373e45(0x86f):'',_0x522139['forceConfident']>0x0?_0x373e45(0x8ba)+_0x522139[_0x373e45(0x8dc)]+_0x373e45(0x86f):'',_0x522139[_0x373e45(0x630)]>0x0?'<button\x20id=\x22use-powerup-jinx\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>👻\x20คำสาป\x20('+_0x522139[_0x373e45(0x630)]+_0x373e45(0x86f):'',_0x522139['secondChance']>0x0?_0x373e45(0x704)+_0x522139[_0x373e45(0x521)]+_0x373e45(0x86f):'',_0x522139['buyTime']>0x0?'<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>ซื้อเวลา\x20('+_0x522139[_0x373e45(0x80b)]+_0x373e45(0x86f):'']['filter'](Boolean)['join']('\x20');_0x48e62b=_0x373e45(0x5c0)+_0x54b2a0+_0x373e45(0x241)+(_0x56058b||_0x373e45(0xcc8))+_0x373e45(0x778);}const _0x159fe9=sessionStorage[_0x373e45(0x248)]('powerupUsedThisTurn');let _0x5e5a9e='';if(_0x159fe9===_0x373e45(0x83e))_0x5e5a9e=_0x373e45(0xa14);else{if(_0x159fe9===_0x373e45(0x765))_0x5e5a9e='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-semibold\x20mb-3\x20animate-pulse\x22>💰\x20โหมดเดิมพันทำงานอยู่!\x20(เลือกคำตอบเพื่อเดิมพัน)</div>';else _0x159fe9===_0x373e45(0x521)&&(_0x5e5a9e=_0x373e45(0x7f4));}liveGameView['innerHTML']=_0x373e45(0x7d1)+(_0xf57e9d+0x1)+_0x373e45(0x14d)+_0x20d0b5+_0x373e45(0x386)+_0x4e3f54+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x553a50+_0x373e45(0x2b5)+_0x48e62b+_0x373e45(0xd62)+_0x5e5a9e+_0x373e45(0x1d3)+(_0x29b485[_0x373e45(0x47c)]||_0x29b485[_0x373e45(0x895)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x3f8b7d+_0x373e45(0x425);if(window[_0x373e45(0x6e3)])MathJax['typesetPromise']();function _0x363cdc(_0x188200,_0x3c91f7,_0x2df8af,_0x21a982){const _0x5b1596=_0x373e45,_0xe271fb=_0x2df8af[_0x5b1596(0xce8)]===!![],_0x19e2d5=_0x2df8af['currentQuestionIndex'],_0x4ac359=_0x5b1596(0x227)+_0x19e2d5+'_p'+_0x21a982,_0x1defa=sessionStorage[_0x5b1596(0x248)](_0x4ac359),_0x2d3021=_0x1defa===_0x5b1596(0x765),_0x38cc00=_0x2df8af['players'][_0x21a982];if(_0x2d3021){const _0x112a62=document['getElementById']('wager-modal'),_0x2b51a5=document[_0x5b1596(0xc0e)](_0x5b1596(0x7af)),_0x59f1af=document[_0x5b1596(0xc0e)](_0x5b1596(0xb9c)),_0x44e8b7=document[_0x5b1596(0xc0e)](_0x5b1596(0x44d)),_0x72aad8=_0x38cc00[_0x5b1596(0x33e)]||0x0;_0x2b51a5[_0x5b1596(0x347)]=_0x72aad8,_0x2b51a5['value']=0x0,_0x59f1af[_0x5b1596(0x6fb)]=0x0,_0x44e8b7['textContent']=_0x72aad8,_0x2b51a5['oninput']=()=>{const _0x5955ba=_0x5b1596;_0x59f1af[_0x5955ba(0x6fb)]=_0x2b51a5[_0x5955ba(0x452)];};const _0x5c77f5=document[_0x5b1596(0xc0e)](_0x5b1596(0x979));_0x5c77f5[_0x5b1596(0x5e8)]['answerValue']=_0x188200,_0x5c77f5[_0x5b1596(0x5e8)]['question']=JSON[_0x5b1596(0x272)](_0x3c91f7),_0x5c77f5[_0x5b1596(0x5e8)][_0x5b1596(0x787)]=JSON[_0x5b1596(0x272)](_0x2df8af),_0x5c77f5[_0x5b1596(0x5e8)][_0x5b1596(0xd6d)]=_0x21a982,_0x112a62[_0x5b1596(0x319)][_0x5b1596(0xd08)](_0x5b1596(0x772));}else{if(_0xe271fb){document['getElementById'](_0x5b1596(0x65e))['dataset'][_0x5b1596(0x1d4)]=_0x5b1596(0x43c);const _0x23cf26=document[_0x5b1596(0xc0e)](_0x5b1596(0x124));_0x23cf26[_0x5b1596(0x5e8)][_0x5b1596(0x491)]=_0x188200,_0x23cf26[_0x5b1596(0x5e8)]['question']=JSON['stringify'](_0x3c91f7),_0x23cf26[_0x5b1596(0x5e8)]['gameData']=JSON[_0x5b1596(0x272)](_0x2df8af),_0x23cf26[_0x5b1596(0x5e8)]['playerName']=_0x21a982,document[_0x5b1596(0xc0e)](_0x5b1596(0x65e))[_0x5b1596(0x319)][_0x5b1596(0xd08)]('hidden');}else handleSyncAnswerSubmit(_0x188200,_0x3c91f7,_0x2df8af,_0x21a982,![],0x0);}}_0x36f57b?document[_0x373e45(0xc0e)]('sync-submit-btn')[_0x373e45(0x59d)]('click',()=>{const _0x6ef050=_0x373e45,_0x432004=document[_0x6ef050(0xc0e)](_0x6ef050(0x255))||document['getElementById'](_0x6ef050(0x934));if(_0x432004[_0x6ef050(0x452)][_0x6ef050(0xa0f)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x363cdc(_0x432004[_0x6ef050(0x452)],_0x29b485,_0x76f41c,_0x4e3f54);}):document['querySelectorAll'](_0x373e45(0xa31))[_0x373e45(0x2d3)](_0x32e82e=>{const _0x245415=_0x373e45;_0x32e82e[_0x245415(0x59d)](_0x245415(0x9fd),()=>{const _0x1e14d1=_0x245415;_0x363cdc(_0x32e82e[_0x1e14d1(0x5e8)]['value'],_0x29b485,_0x76f41c,_0x4e3f54);});});if(_0x76f41c[_0x373e45(0x373)]===!![]){const _0xd32646=document[_0x373e45(0xc0e)](_0x373e45(0x2d9));_0xd32646&&_0xd32646[_0x373e45(0x59d)]('click',()=>{const _0x528018=_0x373e45,_0x16007b=_0x76f41c['currentQuestionIndex'],_0x504c45=_0x4e3f54,_0x410549=_0x528018(0x6c6)+_0x16007b+'_p'+_0x504c45,_0x594510=sessionStorage[_0x528018(0x248)](_0x410549)===_0x528018(0x65b);if(!_0x594510)console[_0x528018(0x955)](_0x528018(0x7b4)+_0x16007b+_0x528018(0x732)),openBlackMarket(_0x76f41c,_0x401b7b),sessionStorage[_0x528018(0xb15)](_0x410549,_0x528018(0x65b));else{console['log']('เข้าตลาดมืดครั้งที่\x202+\x20(ข้อ\x20'+_0x16007b+'):\x20เสีย\x201P');if(_0x401b7b[_0x528018(0x33e)]<0x1){showMessage(_0x528018(0x523));return;}showConfirmation(_0x528018(0xd64),()=>{handlePayForMarketEntry(_0x4e3f54,_0x76f41c,_0x401b7b);});}}),document[_0x373e45(0xc0e)](_0x373e45(0xd61))?.['addEventListener'](_0x373e45(0x9fd),_0x397585=>{const _0x3a31d8=_0x373e45,_0x3c78da=_0x397585[_0x3a31d8(0x697)];_0x3c78da[_0x3a31d8(0x622)]=!![],showConfirmation(_0x3a31d8(0x97b),()=>{const _0x40b837=_0x3a31d8;handleUsePowerup(_0x4e3f54,_0x40b837(0x964),_0x29b485,_0x76f41c,_0x401b7b);},()=>{_0x3c78da['disabled']=![];});}),document[_0x373e45(0xc0e)](_0x373e45(0x412))?.[_0x373e45(0x59d)](_0x373e45(0x9fd),_0x45a0bb=>{const _0x37131b=_0x373e45;_0x45a0bb[_0x37131b(0x697)]['disabled']=!![],handleUsePowerup(_0x4e3f54,_0x37131b(0x80b),_0x29b485,_0x76f41c,_0x401b7b);}),document[_0x373e45(0xc0e)](_0x373e45(0x441))?.[_0x373e45(0x59d)](_0x373e45(0x9fd),_0x491f95=>{const _0x138c13=_0x373e45;_0x491f95[_0x138c13(0x697)]['disabled']=!![],handleUsePowerup(_0x4e3f54,_0x138c13(0x630),_0x29b485,_0x76f41c,_0x401b7b);}),document[_0x373e45(0xc0e)]('use-powerup-cutOne')?.['addEventListener'](_0x373e45(0x9fd),_0x3e2f6e=>{const _0x4fbd25=_0x373e45;_0x3e2f6e[_0x4fbd25(0x697)]['disabled']=!![],handleUsePowerup(_0x4e3f54,'cutOne',_0x29b485,_0x76f41c,_0x401b7b);}),document[_0x373e45(0xc0e)](_0x373e45(0x68b))?.[_0x373e45(0x59d)](_0x373e45(0x9fd),_0x5fdb4=>{const _0x5e9ec8=_0x373e45;_0x5fdb4['target'][_0x5e9ec8(0x622)]=!![],handleUsePowerup(_0x4e3f54,_0x5e9ec8(0x83e),_0x29b485,_0x76f41c,_0x401b7b);}),document[_0x373e45(0xc0e)](_0x373e45(0x745))?.[_0x373e45(0x59d)]('click',_0x5ceda5=>{const _0x5a3a2c=_0x373e45;_0x5ceda5[_0x5a3a2c(0x697)]['disabled']=!![],handleUsePowerup(_0x4e3f54,_0x5a3a2c(0x765),_0x29b485,_0x76f41c,_0x401b7b);}),document[_0x373e45(0xc0e)](_0x373e45(0x26c))?.[_0x373e45(0x59d)](_0x373e45(0x9fd),_0xa284dc=>{const _0x21fe40=_0x373e45;_0xa284dc[_0x21fe40(0x697)][_0x21fe40(0x622)]=!![],handleUsePowerup(_0x4e3f54,_0x21fe40(0x8dc),_0x29b485,_0x76f41c,_0x401b7b);}),document[_0x373e45(0xc0e)]('use-powerup-fiftyFifty')?.[_0x373e45(0x59d)](_0x373e45(0x9fd),_0x2a9a25=>{const _0x32dd1c=_0x373e45;_0x2a9a25[_0x32dd1c(0x697)][_0x32dd1c(0x622)]=!![],handleUsePowerup(_0x4e3f54,_0x32dd1c(0xce5),_0x29b485,_0x76f41c,_0x401b7b);}),document[_0x373e45(0xc0e)](_0x373e45(0x4ac))?.['addEventListener'](_0x373e45(0x9fd),_0xfac9e0=>{const _0x53332a=_0x373e45;_0xfac9e0[_0x53332a(0x697)][_0x53332a(0x622)]=!![],handleUsePowerup(_0x4e3f54,_0x53332a(0x521),_0x29b485,_0x76f41c,_0x401b7b);});}}async function handleSyncAnswerSubmit(_0x109977,_0x40b847,_0x4efd94,_0x21a3a7,_0x53f28c,_0x166663=0x0){const _0x23ce04=_0x3a9f7b;document[_0x23ce04(0x68f)](_0x23ce04(0x2c2))[_0x23ce04(0x2d3)](_0x10719c=>_0x10719c[_0x23ce04(0x622)]=!![]);const _0x20d25e=_0x4efd94[_0x23ce04(0x41b)],_0x46cfcf='powerupUsed_q'+_0x20d25e+'_p'+_0x21a3a7,_0x74aeb2=sessionStorage['getItem'](_0x46cfcf),_0x3afc94=_0x4efd94['players'][_0x21a3a7]?.['isForcedConfident']===!![],_0x507607=sessionStorage[_0x23ce04(0x248)](_0x23ce04(0x2c0))===_0x23ce04(0x65b),_0x5f07e3=_0x40b847[_0x23ce04(0x7c7)]||_0x4efd94[_0x23ce04(0xc11)][_0x23ce04(0xc6c)];let _0x16099c=![],_0x276a5a=_0x109977;switch(_0x5f07e3){case _0x23ce04(0x56e):const _0x4f0d68=parseInt(_0x109977),_0x5e8d70=_0x40b847['correctAnswer']===!![]||String(_0x40b847[_0x23ce04(0x13c)])[_0x23ce04(0x703)]()===_0x23ce04(0x65b);_0x16099c=_0x4f0d68===0x0&&_0x5e8d70||_0x4f0d68===0x1&&!_0x5e8d70,_0x276a5a=_0x4f0d68===0x0?'ใช่\x20/\x20ถูก':_0x23ce04(0xa00);break;case _0x23ce04(0x2d1):case'fill_in_no_choices':_0x16099c=await gradeShortAnswer(_0x109977,_0x40b847);break;case _0x23ce04(0xac4):_0x16099c=_0x109977===_0x40b847['correctResponse'];break;case _0x23ce04(0x211):default:const _0x4ab295=parseInt(_0x109977);_0x16099c=_0x4ab295===_0x40b847[_0x23ce04(0xcfa)];_0x40b847[_0x23ce04(0xc87)]&&_0x40b847['options'][_0x4ab295]&&(_0x276a5a=_0x40b847[_0x23ce04(0xc87)][_0x4ab295]);break;}if(!_0x16099c&&_0x74aeb2==='secondChance'&&!_0x507607){sessionStorage[_0x23ce04(0x329)]('powerupUsedThisTurn'),sessionStorage[_0x23ce04(0xb15)](_0x23ce04(0x2c0),_0x23ce04(0x65b)),showMessage('คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง'),document['querySelectorAll']('.live-answer-btn,\x20#sync-submit-btn')['forEach'](_0x181013=>{const _0x4e5a49=_0x23ce04;!_0x181013[_0x4e5a49(0x319)][_0x4e5a49(0xa3b)]('hidden')&&(_0x181013[_0x4e5a49(0x622)]=![]);});return;}const _0x105ffe=doc(db,_0x23ce04(0xb3f)+appId+_0x23ce04(0x25a),currentLiveGameId),_0x5a618c={},_0x44caee=_0x4efd94[_0x23ce04(0xd1)][_0x21a3a7]?.['answers']||[];let _0x303c39=0x0;const _0x2d7b29=_0x74aeb2===_0x23ce04(0x765),_0x4938eb=_0x74aeb2==='insurance',_0x412a61=sessionStorage[_0x23ce04(0x248)](_0x23ce04(0x87a))===_0x23ce04(0x65b),_0x1c797b=_0x4efd94[_0x23ce04(0xd1)][_0x21a3a7]?.[_0x23ce04(0xa32)]===!![];if(_0x3afc94)_0x303c39=_0x16099c?0x2:-0x1;else{if(_0x2d7b29){const _0x276701=parseInt(_0x166663,0xa)||0x0;_0x303c39=_0x16099c?_0x276701*0x2:-_0x276701;}else{if(_0x412a61&&!_0x16099c)_0x53f28c===!![]||_0x53f28c==='confident'?_0x303c39=-0x4:_0x303c39=-0x2;else{if(_0x4efd94[_0x23ce04(0xce8)]){if(_0x16099c&&(_0x53f28c===!![]||_0x53f28c===_0x23ce04(0xb97)))_0x303c39=0x2;else{if(_0x16099c)_0x303c39=0x1;else{if(!_0x16099c&&(_0x53f28c===![]||_0x53f28c===_0x23ce04(0x583)||_0x53f28c===null))_0x303c39=0x0;else!_0x16099c&&(_0x53f28c===!![]||_0x53f28c===_0x23ce04(0xb97))&&(_0x303c39=-0x1);}}}else _0x303c39=_0x16099c?0x1:0x0;}}}_0x1c797b&&!_0x16099c&&_0x303c39<0x0&&(_0x303c39*=0x2);!_0x16099c&&_0x4938eb&&(_0x303c39=0x0);const _0xb2f914={'questionIndex':_0x4efd94[_0x23ce04(0x41b)],'questionId':_0x40b847['id'],'answer':_0x109977,'answerText':_0x276a5a,'isCorrect':_0x16099c,'originalQuestionText':_0x40b847['questionText']||_0x40b847[_0x23ce04(0x895)],'wasConfident':_0x3afc94?_0x23ce04(0xb97):_0x53f28c||![],'pointsAwarded':_0x303c39,'powerupUsed':_0x74aeb2||null,'wasJinxed':_0x1c797b||![],'wasForced':_0x3afc94||![],'usedPoll':_0x412a61||![]},_0x2a269e=_0x44caee[_0x23ce04(0xb6e)](_0x2a23f2=>_0x2a23f2[_0x23ce04(0xb47)]!==_0x4efd94['currentQuestionIndex']),_0xeac267=[..._0x2a269e,_0xb2f914],_0x137e4c=_0xeac267[_0x23ce04(0xb6e)](_0x205d78=>_0x205d78[_0x23ce04(0xbe1)])['length'];_0x5a618c[_0x23ce04(0xc52)+_0x21a3a7+_0x23ce04(0x1d0)]=_0xeac267,_0x5a618c[_0x23ce04(0xc52)+_0x21a3a7+_0x23ce04(0x237)]=_0x137e4c,_0x5a618c[_0x23ce04(0xc52)+_0x21a3a7+_0x23ce04(0x81c)]=increment(_0x303c39),_0x5a618c[_0x23ce04(0xc52)+_0x21a3a7+_0x23ce04(0x3f3)]=!![];_0x3afc94&&(_0x5a618c[_0x23ce04(0xc52)+_0x21a3a7+_0x23ce04(0x69b)]=![]);_0x507607&&sessionStorage[_0x23ce04(0x329)](_0x23ce04(0x2c0));let _0x4ad106=null;(_0x5f07e3===_0x23ce04(0x211)||_0x5f07e3===_0x23ce04(0x56e)||_0x5f07e3===_0x23ce04(0x44b))&&(_0x4ad106=parseInt(_0x109977)),_0x5a618c[_0x23ce04(0xc52)+_0x21a3a7+_0x23ce04(0xaf)]=_0x4ad106,await updateDoc(_0x105ffe,_0x5a618c);}const allMarketItems=[{'id':_0x3a9f7b(0x80b),'name':_0x3a9f7b(0x9af),'price':0x1,'desc':_0x3a9f7b(0xa27)},{'id':_0x3a9f7b(0x964),'name':_0x3a9f7b(0xb66),'price':0x2,'desc':_0x3a9f7b(0xbf6)},{'id':'cutOne','name':_0x3a9f7b(0x20d),'price':0x2,'desc':_0x3a9f7b(0xa90)},{'id':_0x3a9f7b(0x83e),'name':_0x3a9f7b(0x729),'price':0x3,'desc':_0x3a9f7b(0x515)},{'id':_0x3a9f7b(0xce5),'name':_0x3a9f7b(0xb5c),'price':0x4,'desc':_0x3a9f7b(0x882)},{'id':_0x3a9f7b(0x8dc),'name':_0x3a9f7b(0x360),'price':0x4,'desc':_0x3a9f7b(0x577)},{'id':_0x3a9f7b(0x765),'name':'💰\x20คูณเดิมพัน','price':0x5,'desc':_0x3a9f7b(0xc39)},{'id':'jinx','name':_0x3a9f7b(0xb3e),'price':0x5,'desc':'เลือกผู้เล่น\x201\x20คน\x20หากผู้เล่นนั้นตอบผิดในข้อนี้\x20\x22บทลงโทษทั้งหมด\x22\x20จะ\x20x2\x20(ถ้าตอบถูกได้คะแนนปกติ)'},{'id':_0x3a9f7b(0x521),'name':_0x3a9f7b(0xbcd),'price':0x7,'desc':_0x3a9f7b(0x600)}];function openBlackMarket(_0x4a4f63,_0x53a67c){const _0x2c0508=_0x3a9f7b;let _0x24cea8=null;const _0x34cca5=document['getElementById'](_0x2c0508(0xb38)),_0x3a0cdf=document[_0x2c0508(0xc0e)](_0x2c0508(0xd33)),_0xbad4cd=document[_0x2c0508(0xc0e)]('market-current-points'),_0x4618d2=document['getElementById'](_0x2c0508(0x34f)),_0x5c7b32=_0x53a67c['totalPoints']||0x0;_0xbad4cd[_0x2c0508(0x6fb)]=_0x5c7b32;const _0x407f88=allMarketItems;_0x3a0cdf[_0x2c0508(0xd5e)]=_0x407f88['map'](_0x15006a=>{const _0x16af07=_0x2c0508,_0x140dab=_0x5c7b32>=_0x15006a[_0x16af07(0x9c5)];if(_0x15006a['id']===_0x16af07(0x80b)){const _0x551c21=_0x140dab?Math[_0x16af07(0x48b)](_0x5c7b32/_0x15006a[_0x16af07(0x9c5)]):0x0,_0x7b71d7=_0x5c7b32>=_0x15006a[_0x16af07(0x9c5)];return _0x16af07(0x362)+(!_0x7b71d7?_0x16af07(0x6dd):_0x16af07(0xbc1))+_0x16af07(0x7c9)+_0x15006a[_0x16af07(0x58e)]+_0x16af07(0xb4d)+_0x15006a[_0x16af07(0x460)]+_0x16af07(0x422)+_0x551c21+'\x22\x20'+(!_0x7b71d7?_0x16af07(0x622):'')+_0x16af07(0xb8d)+(_0x7b71d7?_0x16af07(0x728):_0x16af07(0x9a4))+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22'+_0x15006a['id']+_0x16af07(0xc2e)+_0x15006a[_0x16af07(0x9c5)]+_0x16af07(0x443)+(!_0x7b71d7?'disabled':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20('+_0x15006a[_0x16af07(0x9c5)]+_0x16af07(0xbf0);}else{const _0x1b7976=!_0x140dab?_0x16af07(0x622):'',_0xa9f08c=_0x140dab?_0x16af07(0x728):'bg-gray-400';return _0x16af07(0x362)+(!_0x140dab?_0x16af07(0x6dd):'bg-white')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x15006a[_0x16af07(0x58e)]+_0x16af07(0xb4d)+_0x15006a[_0x16af07(0x460)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20'+_0xa9f08c+_0x16af07(0xd28)+_0x15006a['id']+_0x16af07(0xbe)+_0x15006a['price']+_0x16af07(0xabe)+_0x1b7976+_0x16af07(0x734)+_0x15006a['price']+_0x16af07(0x304);}})[_0x2c0508(0x986)](''),_0x34cca5['classList'][_0x2c0508(0xd08)](_0x2c0508(0x772)),_0x4618d2[_0x2c0508(0x5c6)][_0x2c0508(0xab)]=_0x2c0508(0x81d),_0x4618d2[_0x2c0508(0x5c6)][_0x2c0508(0xbee)]=_0x2c0508(0x372),setTimeout(()=>{const _0x514a98=_0x2c0508;_0x4618d2[_0x514a98(0x5c6)]['transition']=_0x514a98(0xb19),_0x4618d2[_0x514a98(0x5c6)][_0x514a98(0xbee)]='0%';},0x32),_0x24cea8=setTimeout(()=>{const _0x3b8cec=_0x2c0508;_0x34cca5[_0x3b8cec(0x319)][_0x3b8cec(0x930)](_0x3b8cec(0x772));},0xea60),document[_0x2c0508(0xc0e)](_0x2c0508(0x5ed))['onclick']=()=>{const _0x5c9384=_0x2c0508;clearTimeout(_0x24cea8),_0x34cca5[_0x5c9384(0x319)][_0x5c9384(0x930)](_0x5c9384(0x772));},_0x3a0cdf[_0x2c0508(0x68f)](_0x2c0508(0xa88))['forEach'](_0x379744=>{const _0x26ed02=_0x2c0508;_0x379744[_0x26ed02(0xd75)]=_0x443339=>{const _0xfd39d8=_0x26ed02,_0x414752=_0x443339[_0xfd39d8(0x697)][_0xfd39d8(0x5e8)][_0xfd39d8(0x93f)],_0x3a935d=parseInt(_0x443339[_0xfd39d8(0x697)][_0xfd39d8(0x5e8)][_0xfd39d8(0x9c5)],0xa);clearTimeout(_0x24cea8),_0x34cca5[_0xfd39d8(0x319)][_0xfd39d8(0x930)](_0xfd39d8(0x772)),handleBuyItem(_0x53a67c[_0xfd39d8(0x58e)],_0x414752,_0x3a935d,0x1);};}),_0x3a0cdf[_0x2c0508(0x68f)](_0x2c0508(0x194))[_0x2c0508(0x2d3)](_0x3f1cf6=>{_0x3f1cf6['onclick']=_0x361df2=>{const _0x2a5f1d=_0x57a1,_0x32ba8b=_0x361df2[_0x2a5f1d(0x697)][_0x2a5f1d(0x5e8)][_0x2a5f1d(0x93f)],_0x1a3528=parseInt(_0x361df2[_0x2a5f1d(0x697)][_0x2a5f1d(0x5e8)]['price'],0xa),_0xadf85c=document['getElementById'](_0x2a5f1d(0x88a)),_0x58dd25=parseInt(_0xadf85c['value'],0xa),_0x553ba8=parseInt(_0xadf85c[_0x2a5f1d(0x347)],0xa);if(!_0x58dd25||_0x58dd25<0x1){showMessage(_0x2a5f1d(0xb73));return;}if(_0x58dd25>_0x553ba8){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20'+_0x553ba8+_0x2a5f1d(0x421));return;}clearTimeout(_0x24cea8),_0x34cca5['classList'][_0x2a5f1d(0x930)](_0x2a5f1d(0x772)),handleBuyItem(_0x53a67c[_0x2a5f1d(0x58e)],_0x32ba8b,_0x1a3528,_0x58dd25);};});}async function handleBuyItem(_0x443a49,_0x4c0cc9,_0x2c909b,_0x124eeb=0x1){const _0x482b62=_0x3a9f7b,_0x3629c0=doc(db,_0x482b62(0xb3f)+appId+_0x482b62(0x25a),currentLiveGameId);try{await runTransaction(db,async _0xd570e3=>{const _0x4b0b30=_0x482b62,_0x6869c0=await _0xd570e3[_0x4b0b30(0x2c7)](_0x3629c0);if(!_0x6869c0[_0x4b0b30(0x1fb)]())throw _0x4b0b30(0x8e1);const _0x519172=_0x6869c0[_0x4b0b30(0x180)](),_0x5c1091=_0x519172['players'][_0x443a49]?.[_0x4b0b30(0x33e)]||0x0,_0x3bf8d2=_0x2c909b*_0x124eeb;if(_0x5c1091<_0x3bf8d2)throw _0x4b0b30(0x334);const _0x446d44={};_0x446d44[_0x4b0b30(0xc52)+_0x443a49+_0x4b0b30(0x81c)]=increment(-_0x3bf8d2),_0x446d44['players.'+_0x443a49+_0x4b0b30(0x762)+_0x4c0cc9]=increment(_0x124eeb),_0xd570e3['update'](_0x3629c0,_0x446d44);}),showMessage('ซื้อ\x20\x22'+_0x4c0cc9+_0x482b62(0x22b)+_0x124eeb+_0x482b62(0xb0e));}catch(_0x386977){console[_0x482b62(0x4e3)](_0x482b62(0xb0d),_0x386977),showMessage(typeof _0x386977==='string'?_0x386977:_0x482b62(0x593));}}async function handlePayForMarketEntry(_0x290884,_0x5f3eb8,_0x4cb21b){const _0x3380cd=_0x3a9f7b,_0x1ac9ea=doc(db,'artifacts/'+appId+_0x3380cd(0x25a),currentLiveGameId);try{await runTransaction(db,async _0x1f4b2c=>{const _0x3a4ac3=_0x3380cd,_0x42bd08=await _0x1f4b2c[_0x3a4ac3(0x2c7)](_0x1ac9ea);if(!_0x42bd08[_0x3a4ac3(0x1fb)]())throw _0x3a4ac3(0x8e1);const _0x470fff=_0x42bd08[_0x3a4ac3(0x180)](),_0x4ee026=_0x470fff[_0x3a4ac3(0xd1)][_0x290884]?.['totalPoints']||0x0;if(_0x4ee026<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0x3c1ff8={};_0x3c1ff8[_0x3a4ac3(0xc52)+_0x290884+_0x3a4ac3(0x81c)]=increment(-0x1),_0x1f4b2c['update'](_0x1ac9ea,_0x3c1ff8);});const _0x28b822={..._0x4cb21b,'totalPoints':(_0x4cb21b['totalPoints']||0x0)-0x1};openBlackMarket(_0x5f3eb8,_0x28b822);}catch(_0x576862){console['error'](_0x3380cd(0x7de),_0x576862),showMessage(typeof _0x576862===_0x3380cd(0xb5a)?_0x576862:_0x3380cd(0x907));}}initialize();
