const _0x1dab5f=_0x5ef1;(function(_0x3a77c1,_0x336ceb){const _0x45d00a=_0x5ef1,_0x523ca5=_0x3a77c1();while(!![]){try{const _0x5386fd=parseInt(_0x45d00a(0xb2a))/0x1*(parseInt(_0x45d00a(0xb4b))/0x2)+parseInt(_0x45d00a(0x15a))/0x3*(-parseInt(_0x45d00a(0x8c8))/0x4)+parseInt(_0x45d00a(0xb95))/0x5+-parseInt(_0x45d00a(0xde8))/0x6*(-parseInt(_0x45d00a(0x15f))/0x7)+-parseInt(_0x45d00a(0x769))/0x8+parseInt(_0x45d00a(0x303))/0x9+-parseInt(_0x45d00a(0x9b9))/0xa;if(_0x5386fd===_0x336ceb)break;else _0x523ca5['push'](_0x523ca5['shift']());}catch(_0x1ded09){_0x523ca5['push'](_0x523ca5['shift']());}}}(_0x25cb,0xd7bf0));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x1dab5f(0x30f),'บักแตงโม',_0x1dab5f(0x2d3),_0x1dab5f(0x810),_0x1dab5f(0xcb2),_0x1dab5f(0x61d),_0x1dab5f(0xcef),_0x1dab5f(0xcdb),_0x1dab5f(0xbfe),_0x1dab5f(0x924),_0x1dab5f(0xda3),'มือปราบสายรุ้ง',_0x1dab5f(0x500),_0x1dab5f(0x2e6),_0x1dab5f(0xac8),'จอมเวทย์ขนมหวาน',_0x1dab5f(0xd44),_0x1dab5f(0x62f),_0x1dab5f(0xd12),'มังกรกินจุ',_0x1dab5f(0x52c),_0x1dab5f(0xddd),_0x1dab5f(0x130),_0x1dab5f(0xa76),_0x1dab5f(0xadc),'หมาป่าเดียวดาย',_0x1dab5f(0xa19),_0x1dab5f(0x5cb),_0x1dab5f(0xb43),_0x1dab5f(0xa92),_0x1dab5f(0x5ca),_0x1dab5f(0x265),_0x1dab5f(0xc81),'ดาวTikTok',_0x1dab5f(0x308),_0x1dab5f(0xa55),_0x1dab5f(0x8da),_0x1dab5f(0x91b),_0x1dab5f(0x25a),_0x1dab5f(0x357),'กาแฟขม','ชาไข่มุก',_0x1dab5f(0x1cb),_0x1dab5f(0x51b),_0x1dab5f(0x3a8),_0x1dab5f(0x364),'หมูกระทะจะเยียวยาทุกสิ่ง',_0x1dab5f(0x395),_0x1dab5f(0x93a),_0x1dab5f(0x864),_0x1dab5f(0x2b1),_0x1dab5f(0x9ac),_0x1dab5f(0x5da),_0x1dab5f(0x269),_0x1dab5f(0x339),_0x1dab5f(0x7bc),_0x1dab5f(0x7bf),_0x1dab5f(0x91c),_0x1dab5f(0x16b),'กองดอง',_0x1dab5f(0xd4f),'ตะวันฉาย',_0x1dab5f(0x5fc),_0x1dab5f(0x3de),'ดวงดาว',_0x1dab5f(0x2c3),_0x1dab5f(0x882),'ภูเขา','ป่าไม้',_0x1dab5f(0x6b4),_0x1dab5f(0x64c),'ช่างภาพ',_0x1dab5f(0x4f8),_0x1dab5f(0x28d),_0x1dab5f(0xa52),'นักเขียน','นักวิทยาศาสตร์',_0x1dab5f(0x404),_0x1dab5f(0x434),_0x1dab5f(0x8c7),_0x1dab5f(0xd0a),_0x1dab5f(0x304),_0x1dab5f(0xaf9),_0x1dab5f(0x399),_0x1dab5f(0x6b7),_0x1dab5f(0x611),_0x1dab5f(0x2ea),'ไอรอนแมน',_0x1dab5f(0x86e),_0x1dab5f(0x902),_0x1dab5f(0xaba),_0x1dab5f(0x166),_0x1dab5f(0xaee),'อกหัก',_0x1dab5f(0x5e9),_0x1dab5f(0x53b),_0x1dab5f(0x499),_0x1dab5f(0x4f2),'สถานะไม่ชัดเจน',_0x1dab5f(0x7db)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x1dab5f(0x2af),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x1dab5f(0x2af),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0xf874ae=_0x1dab5f;if(_0xf874ae(0x512)in navigator)try{wakeLock=await navigator[_0xf874ae(0x512)][_0xf874ae(0x1dd)](_0xf874ae(0x48c)),console[_0xf874ae(0x383)](_0xf874ae(0xbd0)),wakeLock['addEventListener'](_0xf874ae(0x826),()=>{const _0x27d6c7=_0xf874ae;console[_0x27d6c7(0x383)](_0x27d6c7(0x80a));});}catch(_0x1ef956){console[_0xf874ae(0xd98)](_0xf874ae(0x2ba)+_0x1ef956[_0xf874ae(0x4cc)]+',\x20'+_0x1ef956[_0xf874ae(0xa9f)]);}else console[_0xf874ae(0x1c8)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x56a574=_0x1dab5f;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x56a574(0x383)](_0x56a574(0x298)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x4cc5bf=_0x1dab5f;if(!document[_0x4cc5bf(0xcaa)][_0x4cc5bf(0xe19)]['contains']('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x110fcc=_0x4cc5bf;document[_0x110fcc(0xcaa)][_0x110fcc(0xe19)]['add'](_0x110fcc(0x9d2)),console[_0x110fcc(0x383)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}}function wakeUpScreen(_0x5817d3){const _0x574564=_0x1dab5f;_0x5817d3&&(_0x5817d3['stopPropagation'](),_0x5817d3[_0x574564(0xc2b)]());document[_0x574564(0xcaa)]['classList'][_0x574564(0x677)]('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x22d5dc=_0x574564;document[_0x22d5dc(0xcaa)][_0x22d5dc(0xe19)]['add'](_0x22d5dc(0x9d2));},inactivityTime);}function stopDimTimer(){const _0x2ba998=_0x1dab5f;if(dimTimer)clearTimeout(dimTimer);document[_0x2ba998(0xcaa)][_0x2ba998(0xe19)][_0x2ba998(0x677)](_0x2ba998(0x9d2)),window['removeEventListener'](_0x2ba998(0x7fd),resetDimTimer),window[_0x2ba998(0x232)]('mousedown',resetDimTimer),window[_0x2ba998(0x232)](_0x2ba998(0xbc0),resetDimTimer),window[_0x2ba998(0x232)](_0x2ba998(0x9d8),resetDimTimer),console[_0x2ba998(0x383)](_0x2ba998(0x21a));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x4f538a,_0x44117d=![]){const _0x1a0908=_0x1dab5f,_0x7965da=allQuizzes[_0x1a0908(0x794)](_0x1928aa=>_0x1928aa['id']===_0x4f538a)||allQuizzesGlobal['find'](_0xd5c21a=>_0xd5c21a['id']===_0x4f538a);if(!_0x7965da){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x7965da);const _0x5ae8ec=Math[_0x1a0908(0x95d)](0x3e8+Math[_0x1a0908(0xd52)]()*0x2328)['toString']();try{const _0x578428=await addDoc(collection(db,_0x1a0908(0xb99)+appId+_0x1a0908(0x807)),{'quizId':_0x7965da['id'],'projectId':_0x7965da['projectId'],'status':'lobby','pin':_0x5ae8ec,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x44117d});currentTeamQuizId=_0x578428['id'],showView(_0x1a0908(0x3d3)),renderAdminTeamQuizDashboard(_0x5ae8ec,_0x7965da['topic']),listenForTeamQuizUpdates();}catch(_0x12536d){console[_0x1a0908(0xd98)](_0x1a0908(0x86a),_0x12536d),showMessage(_0x1a0908(0x69a));}}function renderAdminTeamQuizDashboard(_0x408113,_0x5a82ca,_0xfc36b3=_0x1dab5f(0x725)){const _0xc0238a=_0x1dab5f,_0x53f658=_0xfc36b3===_0xc0238a(0xe11)?_0xc0238a(0x392):'Team\x20Quiz';liveGameView[_0xc0238a(0x90d)]=_0xc0238a(0xce8)+_0x53f658+':\x20'+_0x5a82ca+_0xc0238a(0x5b0)+_0x408113+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0xc0238a(0x242)]('end-team-quiz-btn')[_0xc0238a(0x264)](_0xc0238a(0xc23),async()=>{const _0x3c0fef=_0xc0238a;showConfirmation(_0x3c0fef(0x485),async()=>{const _0x369766=_0x3c0fef;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x369766(0xb99)+appId+_0x369766(0x807),currentTeamQuizId)),showView(_0x369766(0x3f3));});});}function listenForTeamQuizUpdates(){const _0x1b7c93=_0x1dab5f;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x1c3d66=doc(db,_0x1b7c93(0xb99)+appId+_0x1b7c93(0x807),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x1c3d66,_0x5a0087=>{const _0x4c6ee8=_0x1b7c93;if(!_0x5a0087[_0x4c6ee8(0xb96)]()){sessionStorage[_0x4c6ee8(0x415)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x4c6ee8(0x7f3));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x4c6ee8(0x3f3)):showView(_0x4c6ee8(0x53e));return;}const _0x519962=_0x5a0087['data']();if(currentMode===_0x4c6ee8(0xcc8)){if(_0x519962[_0x4c6ee8(0x421)]===_0x4c6ee8(0xe11)&&_0x519962[_0x4c6ee8(0x2db)]!==_0x4c6ee8(0x504)&&_0x519962[_0x4c6ee8(0x2db)]!=='finished'){const _0x19ca53=Object[_0x4c6ee8(0xb31)](_0x519962[_0x4c6ee8(0xc98)]||{});if(_0x19ca53[_0x4c6ee8(0x283)]>0x0){const _0x182238=_0x19ca53['every'](_0x1508ed=>_0x1508ed[_0x4c6ee8(0x281)]===!![]);_0x182238&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x519962);}else{if(_0x519962['status']===_0x4c6ee8(0x504)||_0x519962[_0x4c6ee8(0x2db)]===_0x4c6ee8(0x4e0)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x519962[_0x4c6ee8(0x421)]===_0x4c6ee8(0xe11)){const _0x100d04=_0x519962[_0x4c6ee8(0xc98)][userId];(!_0x100d04||!_0x100d04['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x26f583){const _0xdff1b3=_0x1dab5f;console[_0xdff1b3(0x383)](_0xdff1b3(0xb0a));const _0x1c37d2=doc(db,_0xdff1b3(0xb99)+appId+_0xdff1b3(0x807),_0x26f583);try{const _0x418b7f=await getDoc(_0x1c37d2);if(_0x418b7f[_0xdff1b3(0xb96)]()){const _0x294a45=_0x418b7f['data']();_0x294a45[_0xdff1b3(0x76e)]&&await saveGameResultsAsSubmissions(_0x294a45);}await updateDoc(_0x1c37d2,{'status':_0xdff1b3(0x504)});}catch(_0x3bc456){console['error'](_0xdff1b3(0x157),_0x3bc456);}}function updateAdminTeamDashboard(_0x215d4f){const _0x5048fc=_0x1dab5f,_0x1ea172=document[_0x5048fc(0x242)](_0x5048fc(0x69c));if(!_0x1ea172)return;const _0x4bc56d=_0x215d4f[_0x5048fc(0x421)]||_0x5048fc(0x725),_0x537f89=currentQuizData[_0x5048fc(0x3ef)][_0x5048fc(0x283)];if(_0x4bc56d===_0x5048fc(0xe11)){const _0x1442ff=Object[_0x5048fc(0xb31)](_0x215d4f[_0x5048fc(0xc98)]||{});if(_0x1442ff[_0x5048fc(0x283)]===0x0){_0x1ea172[_0x5048fc(0x90d)]=_0x5048fc(0x3ed);return;}const _0x51ef53=[..._0x1442ff]['sort']((_0x3ee7cd,_0x41ea46)=>_0x41ea46[_0x5048fc(0x3bb)]-_0x3ee7cd['score']),_0x535378=_0x51ef53[_0x5048fc(0xdc6)]((_0x4949ec,_0x15086c)=>{const _0x51a964=_0x5048fc,_0x4fae86=_0x4949ec['answers']?.[_0x51a964(0x283)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x15086c+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x4949ec[_0x51a964(0x248)][_0x51a964(0xe10)](',\x20')+_0x51a964(0x18e)+_0x4fae86+'/'+_0x537f89+_0x51a964(0x4b5)+_0x4949ec[_0x51a964(0x3bb)]+_0x51a964(0xb94);})[_0x5048fc(0xe10)](''),_0x3a231d=currentQuizData[_0x5048fc(0x3ef)][_0x5048fc(0xdc6)]((_0x232e2,_0x52c256)=>{const _0x1b3d64=_0x5048fc;let _0x2a7c07=0x0,_0x24b4f6=0x0;_0x1442ff[_0x1b3d64(0xbdf)](_0x594214=>{const _0x559043=_0x1b3d64,_0x53cfa4=_0x594214[_0x559043(0x922)]?.['find'](_0x2b6ca5=>_0x2b6ca5[_0x559043(0x444)]===_0x52c256);if(_0x53cfa4){_0x24b4f6++;if(_0x53cfa4[_0x559043(0x56f)])_0x2a7c07++;}});const _0x2e87c1=_0x24b4f6>0x0&&_0x24b4f6===_0x1442ff[_0x1b3d64(0x283)],_0x39ad30=_0x2e87c1?'bg-green-200\x20text-green-900\x20font-bold':'bg-black/10',_0x185499=_0x2e87c1?_0x1b3d64(0xd5e):'';return _0x1b3d64(0xa1d)+_0x39ad30+_0x1b3d64(0x21c)+(_0x52c256+0x1)+_0x1b3d64(0x3b4)+_0x185499+_0x1b3d64(0x4f5)+_0x2a7c07+'/'+_0x1442ff['length']+_0x1b3d64(0x89a);})[_0x5048fc(0xe10)]('');_0x1ea172[_0x5048fc(0x90d)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x535378+_0x5048fc(0xaae)+_0x3a231d+_0x5048fc(0x4bc);return;}const _0x3ef158=_0x215d4f['responses']||{},_0x36f090=Object[_0x5048fc(0xd39)](_0x3ef158);if(_0x36f090[_0x5048fc(0x283)]===0x0){_0x1ea172[_0x5048fc(0x90d)]=_0x5048fc(0x80c);return;}const _0x560b59=_0x36f090[_0x5048fc(0xdc6)](_0x40e961=>({'name':_0x40e961,'score':_0x3ef158[_0x40e961]['score']||0x0}))[_0x5048fc(0xa23)]((_0x37ff,_0x2d2c64)=>_0x2d2c64['score']-_0x37ff[_0x5048fc(0x3bb)]),_0x43322b=_0x560b59[_0x5048fc(0xdc6)](_0x4d6fe9=>{const _0x296220=_0x5048fc,_0x3fab59=_0x3ef158[_0x4d6fe9[_0x296220(0x4cc)]]?.['answers']?.[_0x296220(0x283)]||0x0,_0x28201e=Math[_0x296220(0x64e)](_0x537f89/_0x36f090[_0x296220(0x283)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x4d6fe9['name']+_0x296220(0xa48)+_0x3fab59+'/'+_0x28201e+'\x20ตา)</span></span><span\x20class=\x22font-bold\x22>'+_0x4d6fe9['score']+_0x296220(0x267);})[_0x5048fc(0xe10)](''),_0x55c1bf=_0x36f090[_0x5048fc(0xbab)]((_0x2d970b,_0x4c3432)=>_0x2d970b+(_0x3ef158[_0x4c3432][_0x5048fc(0x922)]?.['length']||0x0),0x0),_0x274d11=currentQuizData[_0x5048fc(0x3ef)][_0x5048fc(0xdc6)]((_0x2fccf1,_0x389c24)=>{const _0x114406=_0x5048fc;let _0x41daf6=null,_0x15bfe6=null;for(const _0x144425 of _0x36f090){const _0x49b884=_0x3ef158[_0x144425]['answers']?.['find'](_0x11821d=>_0x11821d[_0x114406(0x444)]===_0x389c24);if(_0x49b884){_0x41daf6=_0x49b884,_0x15bfe6=_0x144425;break;}}const _0x5910c9=!!_0x41daf6,_0x4fd5a2=_0x5910c9&&_0x41daf6[_0x114406(0x56f)],_0x458aff=(Math[_0x114406(0x95d)](_0x389c24/_0x36f090[_0x114406(0x283)])+0x1)*_0x36f090[_0x114406(0x283)],_0x3f2c57=_0x55c1bf>=_0x458aff,_0x173949=_0x3f2c57?'bg-green-200\x20text-green-900':_0x114406(0x168),_0xc615a3=_0x3f2c57?_0x114406(0xd5e):'';let _0x49385f=_0x114406(0x295);return _0x5910c9&&(_0x49385f=_0x15bfe6+_0x114406(0xb1d)+(_0x4fd5a2?_0x114406(0x95f):_0x114406(0xdc9))),_0x114406(0xa1d)+_0x173949+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x389c24+0x1)+_0x114406(0x3b4)+_0xc615a3+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x49385f+_0x114406(0x531);})[_0x5048fc(0xe10)]('');_0x1ea172[_0x5048fc(0x90d)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x43322b+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x274d11+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x2fa5ae=_0x1dab5f,_0x535d51=prompt(_0x2fa5ae(0x97f));if(!_0x535d51||_0x535d51[_0x2fa5ae(0xb6d)]()[_0x2fa5ae(0x283)]!==0x4){showMessage(_0x2fa5ae(0xa66));return;}try{const _0x38f6fc=collection(db,_0x2fa5ae(0xb99)+appId+_0x2fa5ae(0x807)),_0x2cb756=query(_0x38f6fc,where(_0x2fa5ae(0x687),'==',_0x535d51[_0x2fa5ae(0xb6d)]()),where(_0x2fa5ae(0x2db),'==',_0x2fa5ae(0x56b))),_0x1123d2=await getDocs(_0x2cb756);if(_0x1123d2[_0x2fa5ae(0x57e)]){showMessage(_0x2fa5ae(0x9e9));return;}const _0x288353=_0x1123d2['docs'][0x0];currentTeamQuizId=_0x288353['id'];const _0x10a23d=_0x288353[_0x2fa5ae(0x1f1)](),_0x23b9d8=doc(db,'artifacts/'+appId+_0x2fa5ae(0x636),_0x10a23d[_0x2fa5ae(0x1cf)]),_0x5cff59=doc(db,'artifacts/'+appId+_0x2fa5ae(0x48d),_0x10a23d['quizId']),[_0x3fe4da,_0x19aeab]=await Promise['all']([getDoc(_0x23b9d8),getDoc(_0x5cff59)]);if(!_0x3fe4da[_0x2fa5ae(0xb96)]()||!_0x19aeab[_0x2fa5ae(0xb96)]())throw new Error(_0x2fa5ae(0x116));currentQuizData=getShuffledQuiz({'id':_0x19aeab['id'],..._0x19aeab[_0x2fa5ae(0x1f1)]()});const _0x103b67=_0x3fe4da[_0x2fa5ae(0x1f1)]();showTeamPlayerSelection(_0x103b67[_0x2fa5ae(0x7f8)],currentQuizData[_0x2fa5ae(0xe0e)]);}catch(_0x1a8d35){console['error'](_0x2fa5ae(0x6a4),_0x1a8d35),showMessage(_0x2fa5ae(0x517)+_0x1a8d35[_0x2fa5ae(0xa9f)]);}}async function handleJoinGroupActivity(){const _0x43f3cc=_0x1dab5f,_0x1a9b01=prompt(_0x43f3cc(0x5bd));if(!_0x1a9b01||_0x1a9b01['trim']()[_0x43f3cc(0x283)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x2ecd38=_0x1a9b01[_0x43f3cc(0xb6d)]();showMessage(_0x43f3cc(0x3c7));try{const _0x278550=collection(db,_0x43f3cc(0xb99)+appId+_0x43f3cc(0x807)),_0x158b1a=query(_0x278550,where(_0x43f3cc(0x687),'==',_0x2ecd38),where('status','==','lobby')),_0x2e18ed=await getDocs(_0x158b1a);if(!_0x2e18ed[_0x43f3cc(0x57e)]){console[_0x43f3cc(0x383)](_0x43f3cc(0x43f)),await proceedWithTeamQuizJoin(_0x2e18ed[_0x43f3cc(0x5ab)][0x0]);return;}const _0x1a0926=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x6bf5bf=query(_0x1a0926,where(_0x43f3cc(0x687),'==',_0x2ecd38),where('status','in',[_0x43f3cc(0x56b),'question',_0x43f3cc(0xc7d),'results'])),_0x5562f2=await getDocs(_0x6bf5bf);if(!_0x5562f2['empty']){console['log'](_0x43f3cc(0xde9)),await proceedWithSyncQuizJoin(_0x5562f2[_0x43f3cc(0x5ab)][0x0]);return;}showMessage(_0x43f3cc(0x445));}catch(_0x4dd6e1){console[_0x43f3cc(0xd98)](_0x43f3cc(0x747),_0x4dd6e1),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x4dd6e1['message']);}}async function proceedWithTeamQuizJoin(_0x224f6f){const _0x47ddef=_0x1dab5f;currentTeamQuizId=_0x224f6f['id'];const _0x5ca55a=_0x224f6f[_0x47ddef(0x1f1)](),_0x2d231f=doc(db,'artifacts/'+appId+_0x47ddef(0x636),_0x5ca55a['projectId']),_0x399c94=doc(db,_0x47ddef(0xb99)+appId+_0x47ddef(0x48d),_0x5ca55a['quizId']),[_0x4ddd7c,_0x427b36]=await Promise[_0x47ddef(0x2af)]([getDoc(_0x2d231f),getDoc(_0x399c94)]);if(!_0x4ddd7c['exists']()||!_0x427b36[_0x47ddef(0xb96)]())throw new Error(_0x47ddef(0x116));currentQuizData=getShuffledQuiz({'id':_0x427b36['id'],..._0x427b36['data']()}),showTeamPlayerSelection(_0x4ddd7c[_0x47ddef(0x1f1)]()[_0x47ddef(0x7f8)],currentQuizData[_0x47ddef(0xe0e)],_0x5ca55a[_0x47ddef(0x421)]||_0x47ddef(0x725)),messageModal['classList']['add']('hidden');}async function proceedWithSyncQuizJoin(_0x16c3a9){const _0x54a35=_0x1dab5f;currentLiveGameId=_0x16c3a9['id'];const _0x1a3f2d=_0x16c3a9[_0x54a35(0x1f1)](),_0x1a340a=doc(db,'artifacts/'+appId+_0x54a35(0x48d),_0x1a3f2d[_0x54a35(0xcd7)]),_0x45403b=await getDoc(_0x1a340a);if(!_0x45403b[_0x54a35(0xb96)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x142e99=_0x45403b[_0x54a35(0x1f1)](),_0x100f7e=doc(db,_0x54a35(0xb99)+appId+'/public/data/projects',_0x142e99[_0x54a35(0x1cf)]),_0xb0cd94=await getDoc(_0x100f7e);if(!_0xb0cd94[_0x54a35(0xb96)]())throw new Error(_0x54a35(0xa17));currentQuizData=_0x1a3f2d[_0x54a35(0x8d3)],showView('student-team-join'),showTeamPlayerSelection(_0xb0cd94[_0x54a35(0x1f1)]()['students'],_0x142e99[_0x54a35(0xe0e)],'sync');const _0x36303c=document[_0x54a35(0x242)](_0x54a35(0x256)),_0x1b127a=_0x36303c[_0x54a35(0xcc0)](!![]);_0x36303c[_0x54a35(0x862)]['replaceChild'](_0x1b127a,_0x36303c),_0x1b127a['onclick']=confirmAndJoinSyncGame,messageModal[_0x54a35(0xe19)][_0x54a35(0x27c)]('hidden');}function getCleanApplicationHTML(){const _0x1ca2a2=_0x1dab5f,_0x401635=document[_0x1ca2a2(0x242)](_0x1ca2a2(0x6c8));if(!_0x401635)return'';const _0x54234e=_0x401635[_0x1ca2a2(0xcc0)](!![]);return _0x54234e[_0x1ca2a2(0x99b)](_0x1ca2a2(0x246))[_0x1ca2a2(0xbdf)](_0x40fa15=>{const _0x50c128=_0x1ca2a2;_0x40fa15[_0x50c128(0xe19)][_0x50c128(0x677)](_0x50c128(0x2a3),_0x50c128(0x406)),_0x40fa15[_0x50c128(0xd66)]=![];}),_0x54234e[_0x1ca2a2(0x90d)];}function showTeamPlayerSelection(_0x14a8ac,_0x2b7442,_0x7990d2='team'){const _0x40c77d=_0x1dab5f;studentInitialView[_0x40c77d(0xe19)][_0x40c77d(0x27c)](_0x40c77d(0x414)),studentJoinGameView['classList']['add']('hidden'),document[_0x40c77d(0x242)]('student-team-selection-view')[_0x40c77d(0xe19)]['remove'](_0x40c77d(0x414));let _0x4ea692=_0x40c77d(0xd24);if(_0x7990d2===_0x40c77d(0xe11))_0x4ea692=_0x40c77d(0x392);else _0x7990d2===_0x40c77d(0x7ff)&&(_0x4ea692=_0x40c77d(0x7cc));document[_0x40c77d(0x242)](_0x40c77d(0xcb0))['textContent']=_0x4ea692+':\x20'+_0x2b7442;const _0x55c4c8=document[_0x40c77d(0x242)]('team-student-list');if(!_0x14a8ac||_0x14a8ac['length']===0x0){_0x55c4c8[_0x40c77d(0x90d)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x40c77d(0x242)]('confirm-team-players-btn')[_0x40c77d(0xd66)]=!![];return;}_0x55c4c8['innerHTML']=_0x14a8ac[_0x40c77d(0xdc6)](_0x2f0eb9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x2f0eb9+_0x40c77d(0x1ff)+_0x2f0eb9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')['join'](''),document[_0x40c77d(0x242)]('confirm-team-players-btn')[_0x40c77d(0xd66)]=![];}async function confirmAndStartTeamQuiz(){const _0x458619=_0x1dab5f,_0x3dd5bd=Array['from'](document[_0x458619(0x99b)](_0x458619(0x117)))[_0x458619(0xdc6)](_0x493cfe=>_0x493cfe[_0x458619(0xbfb)]);if(_0x3dd5bd[_0x458619(0x283)]===0x0){showMessage(_0x458619(0x9b2));return;}localTeamPlayers=_0x3dd5bd,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x2f4ecc=doc(db,_0x458619(0xb99)+appId+_0x458619(0x807),currentTeamQuizId);try{const _0x13e0fc=await getDoc(_0x2f4ecc);if(!_0x13e0fc['exists']())throw new Error(_0x458619(0x61e));const _0x3d1345=_0x13e0fc['data']();if(_0x3d1345['mode']===_0x458619(0xe11)){const _0x158332={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x2f4ecc,_0x158332);}else{const _0x176e7f=_0x3d1345[_0x458619(0x582)]||{};localTeamPlayers[_0x458619(0xbdf)](_0x16420a=>{!_0x176e7f[_0x16420a]&&(_0x176e7f[_0x16420a]={'score':0x0,'answers':[]});}),await updateDoc(_0x2f4ecc,{'responses':_0x176e7f});}document[_0x458619(0x242)]('student-team-selection-view')[_0x458619(0xe19)][_0x458619(0x27c)](_0x458619(0x414)),renderTeamQuizQuestion();const _0x7d1b27={'gameId':currentTeamQuizId,'mode':_0x3d1345[_0x458619(0x421)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x458619(0x851)](_0x458619(0x967),JSON[_0x458619(0x3a5)](_0x7d1b27)),listenForTeamQuizUpdates();}catch(_0x2ec64e){console['error'](_0x458619(0xd69),_0x2ec64e),showMessage(_0x458619(0xb73));}}async function renderTeamQuizQuestion(){const _0xd4f49a=_0x1dab5f;if(localQuestionIndex>=currentQuizData[_0xd4f49a(0x3ef)][_0xd4f49a(0x283)]){displayTeamQuizFinalResults();return;}const _0x3ff8dc=currentQuizData[_0xd4f49a(0x3ef)][localQuestionIndex],_0x647966=localTeamPlayers[localPlayerIndex],_0x3a9ac0=_0x3ff8dc[_0xd4f49a(0x5c5)]||currentQuizData[_0xd4f49a(0x11f)];let _0x44507b=_0x3ff8dc[_0xd4f49a(0xd64)]||_0x3ff8dc[_0xd4f49a(0x8c4)],_0x1e0e7f='';switch(_0x3a9ac0){case _0xd4f49a(0x423):case _0xd4f49a(0xd36):_0x1e0e7f=_0x3ff8dc[_0xd4f49a(0x381)][_0xd4f49a(0xdc6)]((_0xf0e734,_0x532613)=>_0xd4f49a(0xa09)+_0x532613+_0xd4f49a(0xcaf)+_0x532613+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x532613+'\x22>'+_0xf0e734+_0xd4f49a(0x410))['join']('');break;case _0xd4f49a(0x66d):_0x1e0e7f='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0xd4f49a(0xb16):case _0xd4f49a(0xd9f):_0x1e0e7f=_0xd4f49a(0xe17);break;case _0xd4f49a(0x6ca):_0x1e0e7f=_0xd4f49a(0x912)+_0x3ff8dc['allResponses'][_0xd4f49a(0xdc6)](_0x432d1b=>_0xd4f49a(0x397)+_0x432d1b+'\x22>'+_0x432d1b+'</option>')[_0xd4f49a(0xe10)]('')+'</select>';break;default:_0x1e0e7f=_0xd4f49a(0x180);break;}studentQuizArea[_0xd4f49a(0x90d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0xd4f49a(0x25f)+currentQuizData[_0xd4f49a(0x3ef)][_0xd4f49a(0x283)]+_0xd4f49a(0xbad)+_0x647966+_0xd4f49a(0xc19)+(localQuestionIndex+0x1)+'.\x20'+_0x44507b+_0xd4f49a(0xa3f)+(_0x3ff8dc[_0xd4f49a(0xb12)]?_0xd4f49a(0xa6c)+_0x3ff8dc[_0xd4f49a(0xb12)]+_0xd4f49a(0x30c):'')+_0xd4f49a(0x5d3)+_0x1e0e7f+_0xd4f49a(0x4b4),studentQuizArea[_0xd4f49a(0xe19)][_0xd4f49a(0x677)](_0xd4f49a(0x414));if(window[_0xd4f49a(0x972)])MathJax[_0xd4f49a(0xde3)]([studentQuizArea]);document[_0xd4f49a(0x242)](_0xd4f49a(0x6ed))[_0xd4f49a(0x264)](_0xd4f49a(0xc23),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x809470=_0x1dab5f,_0x45fc11=currentQuizData[_0x809470(0x3ef)][localQuestionIndex],_0x50c1fa=_0x45fc11[_0x809470(0x5c5)]||currentQuizData['quizType'];let _0x440e81=null,_0x317cc2=![];if(_0x50c1fa===_0x809470(0xb16)||_0x50c1fa==='fill_in_no_choices'){const _0x2cdaea=document['querySelector'](_0x809470(0x2a2));if(!_0x2cdaea||!_0x2cdaea['value'][_0x809470(0xb6d)]()){showMessage(_0x809470(0x9f4));return;}_0x440e81=_0x2cdaea['value']['trim'](),_0x317cc2=await gradeShortAnswer(_0x440e81,_0x45fc11);}else{const _0x85c999=document[_0x809470(0xb19)](_0x809470(0xd1f));if(!_0x85c999||_0x85c999[_0x809470(0xbfb)]===''){showMessage(_0x809470(0x231));return;}_0x440e81=_0x85c999['value'];switch(_0x50c1fa){case _0x809470(0x66d):_0x317cc2=_0x440e81==='true'===_0x45fc11[_0x809470(0xbec)];break;case'matching_item':_0x317cc2=_0x440e81===_0x45fc11[_0x809470(0x38f)];break;default:_0x317cc2=parseInt(_0x440e81)===_0x45fc11[_0x809470(0xd79)];break;}}const _0x560ec0={'questionIndex':localQuestionIndex,'isCorrect':_0x317cc2},_0x52d455=userId,_0x164a7a={['groups.'+_0x52d455+_0x809470(0xa47)]:arrayUnion(_0x560ec0)};_0x317cc2&&(_0x164a7a[_0x809470(0x1a3)+_0x52d455+_0x809470(0xa4c)]=increment(0x1));try{await updateDoc(doc(db,_0x809470(0xb99)+appId+_0x809470(0x807),currentTeamQuizId),_0x164a7a),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x809470(0x3ef)][_0x809470(0x283)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x325a97){console[_0x809470(0xd98)]('Error\x20submitting\x20group\x20answer:',_0x325a97),showMessage(_0x809470(0xaa3));}}async function handleTeamAnswerSubmit(){const _0x433ce5=_0x1dab5f,_0x3a9c2b=await getDoc(doc(db,_0x433ce5(0xb99)+appId+_0x433ce5(0x807),currentTeamQuizId));if(!_0x3a9c2b['exists']())return;const _0x148289=_0x3a9c2b[_0x433ce5(0x1f1)]();if(_0x148289[_0x433ce5(0x421)]===_0x433ce5(0xe11)){handleGroupAnswerSubmit();return;}const _0xfc4740=localTeamPlayers[localPlayerIndex],_0x56b471=currentQuizData['questions'][localQuestionIndex],_0x28f8fe=_0x56b471['questionType']||currentQuizData[_0x433ce5(0x11f)];let _0x3244fb=null,_0x3aa5f3=![];if(_0x28f8fe===_0x433ce5(0xb16)||_0x28f8fe===_0x433ce5(0xd9f)){const _0x3fea06=document[_0x433ce5(0xb19)](_0x433ce5(0x2a2));if(!_0x3fea06||!_0x3fea06[_0x433ce5(0xbfb)][_0x433ce5(0xb6d)]()){showMessage(_0x433ce5(0x665));return;}_0x3244fb=_0x3fea06[_0x433ce5(0xbfb)][_0x433ce5(0xb6d)](),_0x3aa5f3=await gradeShortAnswer(_0x3244fb,_0x56b471);}else{const _0x89ccbd=document[_0x433ce5(0xb19)](_0x433ce5(0xd1f));if(!_0x89ccbd||_0x89ccbd['value']===''){showMessage(_0x433ce5(0x527));return;}_0x3244fb=_0x89ccbd['value'];switch(_0x28f8fe){case _0x433ce5(0x66d):_0x3aa5f3=_0x3244fb===_0x433ce5(0x6cf)===_0x56b471[_0x433ce5(0xbec)];break;case _0x433ce5(0x6ca):_0x3aa5f3=_0x3244fb===_0x56b471[_0x433ce5(0x38f)];break;default:_0x3aa5f3=parseInt(_0x3244fb)===_0x56b471[_0x433ce5(0xd79)];break;}}const _0x56790e={'questionIndex':localQuestionIndex,'isCorrect':_0x3aa5f3,'answerValue':_0x3244fb},_0x546878={['responses.'+_0xfc4740+_0x433ce5(0xa47)]:arrayUnion(_0x56790e)};_0x3aa5f3&&(_0x546878['responses.'+_0xfc4740+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x433ce5(0xb99)+appId+_0x433ce5(0x807),currentTeamQuizId),_0x546878),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x433ce5(0x283)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x5bcb68){console[_0x433ce5(0xd98)](_0x433ce5(0x5fd),_0x5bcb68),showMessage(_0x433ce5(0xaa3));}}async function displayTeamQuizFinalResults(){const _0x5a2348=_0x1dab5f;studentQuizArea[_0x5a2348(0xe19)][_0x5a2348(0x27c)](_0x5a2348(0x414)),studentResultArea[_0x5a2348(0xe19)]['remove'](_0x5a2348(0x414));const _0x3e2f6c=doc(db,_0x5a2348(0xb99)+appId+_0x5a2348(0x807),currentTeamQuizId),_0x43ab05=await getDoc(_0x3e2f6c);if(!_0x43ab05[_0x5a2348(0xb96)]()){studentResultArea[_0x5a2348(0x90d)]=_0x5a2348(0x59c);return;}const _0x271c1d=_0x43ab05[_0x5a2348(0x1f1)]();let _0xcab1e7=[];const _0x2bbb58=_0x271c1d[_0x5a2348(0x421)]||'team';if(_0x2bbb58===_0x5a2348(0xe11)){const _0x38e3af=_0x271c1d[_0x5a2348(0xc98)][userId];_0x38e3af?_0xcab1e7=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x5a2348(0xe10)](',\x20'),'score':_0x38e3af[_0x5a2348(0x3bb)]||0x0}]:_0xcab1e7=[{'name':_0x5a2348(0x7ed),'score':'N/A'}];}else _0xcab1e7=localTeamPlayers[_0x5a2348(0xdc6)](_0x42ee06=>({'name':_0x42ee06,'score':_0x271c1d[_0x5a2348(0x582)][_0x42ee06]?.['score']||0x0}))[_0x5a2348(0xa23)]((_0x43b7fa,_0x4491e3)=>_0x4491e3[_0x5a2348(0x3bb)]-_0x43b7fa[_0x5a2348(0x3bb)]);studentResultArea[_0x5a2348(0x90d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcab1e7[_0x5a2348(0xdc6)](_0x3bef13=>_0x5a2348(0x659)+_0x3bef13[_0x5a2348(0x4cc)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3bef13[_0x5a2348(0x3bb)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5a2348(0xe10)]('')+_0x5a2348(0x5e4),sessionStorage[_0x5a2348(0x415)]('activeGameSession'),currentMode===_0x5a2348(0xcc8)&&currentTeamQuizId&&setTimeout(()=>{const _0x4b59c4=_0x5a2348;deleteDoc(doc(db,'artifacts/'+appId+_0x4b59c4(0x807),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1dab5f(0x6af),'pinnedProjects':[],'projectView':_0x1dab5f(0x4d1)};const allMathTopics=[{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x389)},{'category':'จำนวนและการดำเนินการ','name':_0x1dab5f(0x9e4)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0xcf5)},{'category':'จำนวนและการดำเนินการ','name':_0x1dab5f(0x900)},{'category':_0x1dab5f(0x2fe),'name':'การบวก'},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x837)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0xca2)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x19a)},{'category':_0x1dab5f(0x2fe),'name':'จำนวนเต็มบวก'},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x4c2)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x151)},{'category':_0x1dab5f(0x2fe),'name':'ค่าสัมบูรณ์'},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0xb66)},{'category':'จำนวนและการดำเนินการ','name':_0x1dab5f(0xcb6)},{'category':'จำนวนและการดำเนินการ','name':_0x1dab5f(0x261)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x6fb)},{'category':_0x1dab5f(0x2fe),'name':'อัตราส่วนและสัดส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x1dab5f(0x195)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x878)},{'category':'จำนวนและการดำเนินการ','name':'การบวกเศษส่วน'},{'category':_0x1dab5f(0x2fe),'name':'การลบเศษส่วน'},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x84e)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0xc38)},{'category':'จำนวนและการดำเนินการ','name':_0x1dab5f(0xa70)},{'category':'จำนวนและการดำเนินการ','name':_0x1dab5f(0x216)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x681)},{'category':'จำนวนและการดำเนินการ','name':'การลบทศนิยม'},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x717)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0xd34)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0xa2f)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x98d)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x7dd)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x6fe)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0x526)},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0xc5b)},{'category':_0x1dab5f(0x2fe),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x1dab5f(0x2fe),'name':_0x1dab5f(0xd92)},{'category':_0x1dab5f(0x9d7),'name':_0x1dab5f(0x9cd)},{'category':_0x1dab5f(0x9d7),'name':_0x1dab5f(0x1d5)},{'category':'การวัด','name':_0x1dab5f(0x4d6)},{'category':_0x1dab5f(0x9d7),'name':'ปริมาตร/ความจุและการแปลง'},{'category':'การวัด','name':_0x1dab5f(0x5ae)},{'category':_0x1dab5f(0x9d7),'name':_0x1dab5f(0x461)},{'category':_0x1dab5f(0x9d7),'name':_0x1dab5f(0x60b)},{'category':_0x1dab5f(0x9d7),'name':_0x1dab5f(0x28c)},{'category':'การวัด','name':_0x1dab5f(0x14a)},{'category':_0x1dab5f(0x9d7),'name':_0x1dab5f(0x290)},{'category':_0x1dab5f(0x9d7),'name':_0x1dab5f(0xd0c)},{'category':_0x1dab5f(0x9d7),'name':_0x1dab5f(0x86b)},{'category':_0x1dab5f(0x9d7),'name':'สเกลและแผนที่'},{'category':_0x1dab5f(0x9d7),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x1dab5f(0xd74),'name':_0x1dab5f(0x8ec)},{'category':_0x1dab5f(0xd74),'name':_0x1dab5f(0x9ce)},{'category':_0x1dab5f(0xd74),'name':_0x1dab5f(0xa9c)},{'category':_0x1dab5f(0xd74),'name':_0x1dab5f(0x28c)},{'category':_0x1dab5f(0xd74),'name':_0x1dab5f(0x9a3)},{'category':_0x1dab5f(0xd74),'name':'ความคล้ายของรูป'},{'category':_0x1dab5f(0xd74),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x1dab5f(0xd74),'name':_0x1dab5f(0xcfd)},{'category':_0x1dab5f(0xd74),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x1dab5f(0xd74),'name':_0x1dab5f(0x2dd)},{'category':_0x1dab5f(0xd74),'name':_0x1dab5f(0x81a)},{'category':'เรขาคณิต','name':_0x1dab5f(0x468)},{'category':_0x1dab5f(0xd74),'name':'สมมาตร\x20(แกน/จุด)'},{'category':'เรขาคณิต','name':_0x1dab5f(0x206)},{'category':_0x1dab5f(0xd74),'name':_0x1dab5f(0x8d0)},{'category':'พีชคณิตและฟังก์ชัน','name':'ตัวแปรและนิพจน์'},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x2c0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dab5f(0x2cb)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dab5f(0x324)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0xa2e)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0xdc7)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x29b)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0xc50)},{'category':_0x1dab5f(0x5f4),'name':'สมการค่าสัมบูรณ์'},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x5a1)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x7ca)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dab5f(0x1a5)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x9bb)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x5ad)},{'category':_0x1dab5f(0x5f4),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x92a)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x453)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x724)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x874)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x939)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x532)},{'category':_0x1dab5f(0x5f4),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x459)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x96d)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันราก\x20(root)'},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0xdde)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dab5f(0x348)},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x245)},{'category':_0x1dab5f(0x5f4),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x8eb)},{'category':'พีชคณิตและฟังก์ชัน','name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x1dab5f(0x5f4),'name':_0x1dab5f(0x82b)},{'category':_0x1dab5f(0x8aa),'name':_0x1dab5f(0xd03)},{'category':_0x1dab5f(0x8aa),'name':_0x1dab5f(0x9ae)},{'category':_0x1dab5f(0x8aa),'name':_0x1dab5f(0x253)},{'category':_0x1dab5f(0x8aa),'name':_0x1dab5f(0x27b)},{'category':_0x1dab5f(0x8aa),'name':_0x1dab5f(0x6c5)},{'category':_0x1dab5f(0x8aa),'name':_0x1dab5f(0x581)},{'category':_0x1dab5f(0x8aa),'name':_0x1dab5f(0x372)},{'category':_0x1dab5f(0x8aa),'name':_0x1dab5f(0x669)},{'category':_0x1dab5f(0x8aa),'name':_0x1dab5f(0xa7d)},{'category':_0x1dab5f(0x9c8),'name':_0x1dab5f(0xd2c)},{'category':_0x1dab5f(0x9c8),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x1dab5f(0x9c8),'name':_0x1dab5f(0x559)},{'category':_0x1dab5f(0x9c8),'name':_0x1dab5f(0x266)},{'category':_0x1dab5f(0x9c8),'name':_0x1dab5f(0xdf2)},{'category':_0x1dab5f(0x9c8),'name':_0x1dab5f(0xbe1)},{'category':_0x1dab5f(0x9c8),'name':_0x1dab5f(0xb9d)},{'category':'ตรีโกณมิติ','name':_0x1dab5f(0x10d)},{'category':_0x1dab5f(0x9c8),'name':_0x1dab5f(0x138)},{'category':_0x1dab5f(0x9c8),'name':_0x1dab5f(0x917)},{'category':_0x1dab5f(0x9c8),'name':_0x1dab5f(0xbb4)},{'category':'สถิติและความน่าจะเป็น','name':_0x1dab5f(0x72f)},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0x5e7)},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0x32a)},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0xbc7)},{'category':'สถิติและความน่าจะเป็น','name':_0x1dab5f(0xcc6)},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0x70a)},{'category':_0x1dab5f(0x631),'name':'ค่าเฉลี่ย'},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0x1db)},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0x44a)},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0x6c2)},{'category':_0x1dab5f(0x631),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x1dab5f(0x631),'name':'ความแปรปรวน'},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0x93d)},{'category':'สถิติและความน่าจะเป็น','name':_0x1dab5f(0xab7)},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0x911)},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0xada)},{'category':_0x1dab5f(0x631),'name':'กฎบวกและกฎคูณ'},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0xaa7)},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0xab8)},{'category':_0x1dab5f(0x631),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x1dab5f(0x631),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':'สถิติและความน่าจะเป็น','name':_0x1dab5f(0x6c3)},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0xaa0)},{'category':_0x1dab5f(0x631),'name':_0x1dab5f(0x22b)},{'category':_0x1dab5f(0xd01),'name':_0x1dab5f(0xd51)},{'category':_0x1dab5f(0xd01),'name':_0x1dab5f(0x89f)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1dab5f(0x37b)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1dab5f(0x2f8)},{'category':_0x1dab5f(0xd01),'name':_0x1dab5f(0x62c)},{'category':_0x1dab5f(0xd01),'name':_0x1dab5f(0xad3)},{'category':_0x1dab5f(0xd01),'name':_0x1dab5f(0x212)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1dab5f(0xa26)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1dab5f(0x538)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1dab5f(0xb52)},{'category':_0x1dab5f(0xd01),'name':_0x1dab5f(0x2d9)},{'category':_0x1dab5f(0xd01),'name':_0x1dab5f(0x4c7)},{'category':'แคลคูลัสเบื้องต้น','name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1dab5f(0x98c)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1dab5f(0x127)},{'category':_0x1dab5f(0x80b),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1dab5f(0xa84)},{'category':_0x1dab5f(0x80b),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x1dab5f(0x80b),'name':_0x1dab5f(0xdb8)},{'category':_0x1dab5f(0x80b),'name':_0x1dab5f(0xc45)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1dab5f(0x76c)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1dab5f(0x5e6)},{'category':_0x1dab5f(0xa3d),'name':_0x1dab5f(0xd94)},{'category':_0x1dab5f(0xa3d),'name':_0x1dab5f(0x921)},{'category':_0x1dab5f(0xa3d),'name':'ร้อยละประยุกต์'},{'category':_0x1dab5f(0x977),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x1dab5f(0x977),'name':_0x1dab5f(0xc54)},{'category':_0x1dab5f(0x977),'name':_0x1dab5f(0x1df)}];function renderTopicCheckboxes(){const _0x10ec18=_0x1dab5f,_0x5b7be0=document[_0x10ec18(0x242)](_0x10ec18(0x158));if(!_0x5b7be0)return;const _0x172859=allMathTopics,_0x59df4b=customMathTopics[_0x10ec18(0xdc6)](_0x4a1019=>({'id':_0x4a1019['id'],'category':'หัวข้อที่สร้างเอง','name':_0x4a1019['name']})),_0x589717=[..._0x172859,..._0x59df4b],_0xb1afaa=_0x589717[_0x10ec18(0xbab)]((_0x432d1f,_0x23a24c)=>{const _0xf054ee=_0x10ec18;return!_0x432d1f[_0x23a24c[_0xf054ee(0x9c3)]]&&(_0x432d1f[_0x23a24c['category']]=[]),_0x432d1f[_0x23a24c[_0xf054ee(0x9c3)]]['push'](_0x23a24c),_0x432d1f;},{});let _0x479670='';const _0x488ea5=[_0x10ec18(0x9d0),...Object[_0x10ec18(0xd39)](_0xb1afaa)[_0x10ec18(0x3be)](_0x284237=>_0x284237!==_0x10ec18(0x9d0))];for(const _0x29cfe2 of _0x488ea5){if(_0xb1afaa[_0x29cfe2]){const _0x16d235=_0x29cfe2==='หัวข้อที่สร้างเอง',_0x4329b9=_0x16d235?_0x10ec18(0x534):_0x10ec18(0x36a),_0x2827a7=_0x16d235?_0x10ec18(0x8b6):_0x10ec18(0x98f);_0x479670+=_0x10ec18(0x361),_0x479670+=_0x10ec18(0x297)+_0x2827a7+_0x10ec18(0x16a)+_0x4329b9+_0x10ec18(0x91e)+_0x29cfe2+'</p>',_0xb1afaa[_0x29cfe2][_0x10ec18(0xbdf)](_0x139646=>{const _0x3feaf2=_0x10ec18,_0x54b730=!!_0x139646['id'],_0x168ea2=_0x54b730?_0x3feaf2(0x869)+_0x139646['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x139646['id']+_0x3feaf2(0xa05)+_0x139646['id']+_0x3feaf2(0xd9b)+_0x139646['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x479670+=_0x3feaf2(0xbae)+(_0x139646['id']||'')+_0x3feaf2(0x840)+_0x139646[_0x3feaf2(0x4cc)]+_0x3feaf2(0xc03)+_0x139646['name']+_0x3feaf2(0x4c1)+(_0x54b730?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x139646[_0x3feaf2(0x4cc)]+'\x22>':'')+_0x3feaf2(0x7d9)+_0x168ea2+_0x3feaf2(0xda1);}),_0x479670+=_0x10ec18(0x30c);}}_0x5b7be0[_0x10ec18(0x90d)]=_0x479670||_0x10ec18(0x565),_0x5b7be0[_0x10ec18(0x232)](_0x10ec18(0x484),updateSelectedTopicsCount),_0x5b7be0[_0x10ec18(0x264)](_0x10ec18(0x484),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2ae4f9,_0x44f54b){const _0x4fefe4=_0x1dab5f;if(!_0x2ae4f9||!_0x44f54b['trim']()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x22cd51=doc(db,_0x4fefe4(0xb99)+appId+_0x4fefe4(0xc83),_0x2ae4f9);await updateDoc(_0x22cd51,{'name':_0x44f54b[_0x4fefe4(0xb6d)]()}),showMessage(_0x4fefe4(0x4db));}catch(_0x5c97d5){console['error'](_0x4fefe4(0x601),_0x5c97d5),showMessage(_0x4fefe4(0xa32));}}function toggleTopicEditMode(_0x49d719,_0x53ef31){const _0x134297=_0x1dab5f;if(!_0x49d719)return;const _0x3325ae=_0x49d719[_0x134297(0xb19)](_0x134297(0x887)),_0x513ad4=_0x49d719[_0x134297(0xb19)](_0x134297(0x46c)),_0x5bdc54=_0x49d719[_0x134297(0xb19)](_0x134297(0xd0b)),_0x1fd502=_0x49d719[_0x134297(0xb19)](_0x134297(0xd33));_0x3325ae['classList'][_0x134297(0x8ff)](_0x134297(0x414),_0x53ef31),_0x513ad4[_0x134297(0xe19)][_0x134297(0x8ff)](_0x134297(0x414),!_0x53ef31),_0x5bdc54[_0x134297(0xe19)]['toggle'](_0x134297(0x414),_0x53ef31),_0x1fd502[_0x134297(0xe19)][_0x134297(0x8ff)](_0x134297(0x414),!_0x53ef31),_0x53ef31&&(_0x513ad4[_0x134297(0xaf4)](),_0x513ad4['select']());}async function handleStartLiveRace(_0x4361bd){const _0x202396=_0x1dab5f;let _0x5048ac=allQuizzes[_0x202396(0x794)](_0x3b8361=>_0x3b8361['id']===_0x4361bd);if(!_0x5048ac){const _0x154288=doc(db,_0x202396(0xb99)+appId+_0x202396(0x48d),_0x4361bd),_0x1b01e8=await getDoc(_0x154288);if(!_0x1b01e8['exists']()){showMessage(_0x202396(0x6ad));return;}_0x5048ac={'id':_0x1b01e8['id'],..._0x1b01e8[_0x202396(0x1f1)]()};}const _0x3eecbf=getShuffledQuiz(_0x5048ac);currentQuizData=_0x3eecbf;const _0x1a7718=_0x5048ac['projectId']||currentProjectId||null,_0x4c5cb8=Math[_0x202396(0x95d)](0x3e8+Math[_0x202396(0xd52)]()*0x2328)[_0x202396(0xbe3)]();currentLiveGamePin=_0x4c5cb8;try{const _0x3a53cd=await addDoc(collection(db,'artifacts/'+appId+_0x202396(0x4e8)),{'quizId':_0x4361bd,'projectId':_0x1a7718,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4c5cb8,'createdAt':serverTimestamp(),'shuffledQuiz':_0x3eecbf});currentLiveGameId=_0x3a53cd['id'],showAdminLobbyView(_0x4c5cb8,_0x5048ac['topic']),listenForLiveGameUpdates();}catch(_0x4cfc75){console[_0x202396(0xd98)](_0x202396(0x3e8),_0x4cfc75),showMessage(_0x202396(0x893));}}function updateSelectedTopicsCount(){const _0x175f5b=_0x1dab5f,_0x39345a=document[_0x175f5b(0x242)](_0x175f5b(0x158)),_0x405482=_0x39345a['querySelectorAll'](_0x175f5b(0xd30))[_0x175f5b(0x283)],_0x37141d=document[_0x175f5b(0x242)](_0x175f5b(0x6c0));_0x405482>0x0?_0x37141d[_0x175f5b(0xafa)]='(เลือกแล้ว\x20'+_0x405482+_0x175f5b(0x9b8):_0x37141d[_0x175f5b(0xafa)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1dab5f(0x53e),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x1dab5f(0x990),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x1dab5f(0x820),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x1dab5f(0xa93),scratchpadPenColor=_0x1dab5f(0x347),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x4a8356,_0x27fead){const _0x2580c4=_0x1dab5f;return Math['sqrt'](Math[_0x2580c4(0xced)](_0x4a8356['x']-_0x27fead['x'],0x2)+Math[_0x2580c4(0xced)](_0x4a8356['y']-_0x27fead['y'],0x2));}function getMidpoint(_0x430b2b,_0x22b057){return{'x':(_0x430b2b['x']+_0x22b057['x'])/0x2,'y':(_0x430b2b['y']+_0x22b057['y'])/0x2};}function getTransformedPoint(_0x29b71c,_0x560fe8){return{'x':(_0x29b71c-scratchpadOffset['x'])/scratchpadScale,'y':(_0x560fe8-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x4bee8c=_0x1dab5f;if(!scratchpadCtx)return;const _0x37f0a5=scratchpadCtx['canvas'],_0x19e85c=window[_0x4bee8c(0x3e5)]||0x1,_0x2633bc=document[_0x4bee8c(0x242)](_0x4bee8c(0x871));_0x2633bc&&(_0x2633bc[_0x4bee8c(0x271)]['transformOrigin']='0\x200',_0x2633bc['style'][_0x4bee8c(0x4da)]=_0x4bee8c(0x785)+scratchpadOffset['x']+_0x4bee8c(0x870)+scratchpadOffset['y']+_0x4bee8c(0x632)+scratchpadScale+')'),scratchpadCtx[_0x4bee8c(0x710)](),scratchpadCtx[_0x4bee8c(0xaad)](_0x19e85c,0x0,0x0,_0x19e85c,0x0,0x0),scratchpadCtx[_0x4bee8c(0xdb4)](0x0,0x0,_0x37f0a5[_0x4bee8c(0xa5b)],_0x37f0a5[_0x4bee8c(0xbaf)]),scratchpadCtx[_0x4bee8c(0x3c9)](),scratchpadCtx[_0x4bee8c(0x710)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x4bee8c(0x1b5)](scratchpadScale,scratchpadScale),strokes[_0x4bee8c(0xbdf)](_0x2835f2=>{drawStroke(_0x2835f2);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x4bee8c(0x3c9)]();}function renderGroupModeQuestion(){const _0x45ea5a=_0x1dab5f;if(localQuestionIndex>=currentQuizData[_0x45ea5a(0x3ef)][_0x45ea5a(0x283)]){displayTeamQuizFinalResults();return;}const _0x1aa9d8=currentQuizData[_0x45ea5a(0x3ef)][localQuestionIndex],_0x2dd109=_0x1aa9d8[_0x45ea5a(0x5c5)]||currentQuizData[_0x45ea5a(0x11f)];let _0x30a38a=_0x1aa9d8['stem']||_0x1aa9d8[_0x45ea5a(0x8c4)],_0x28f4d3='';switch(_0x2dd109){case'multiple_choice':case _0x45ea5a(0xd36):_0x28f4d3=_0x1aa9d8[_0x45ea5a(0x381)][_0x45ea5a(0xdc6)]((_0x579214,_0x33b4af)=>_0x45ea5a(0xa09)+_0x33b4af+_0x45ea5a(0xcaf)+_0x33b4af+_0x45ea5a(0xa33)+_0x33b4af+'\x22>'+_0x579214+_0x45ea5a(0x410))['join']('');break;case _0x45ea5a(0x66d):_0x28f4d3=_0x45ea5a(0x2b7);break;case _0x45ea5a(0xb16):case _0x45ea5a(0xd9f):_0x28f4d3=_0x45ea5a(0x927);break;case _0x45ea5a(0x6ca):_0x28f4d3='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x1aa9d8[_0x45ea5a(0x9cb)]['map'](_0x562394=>'<option\x20value=\x22'+_0x562394+'\x22>'+_0x562394+'</option>')[_0x45ea5a(0xe10)]('')+_0x45ea5a(0x852);break;default:_0x28f4d3=_0x45ea5a(0x180);break;}studentQuizArea['innerHTML']=_0x45ea5a(0xa68)+(localQuestionIndex+0x1)+_0x45ea5a(0x25f)+currentQuizData[_0x45ea5a(0x3ef)][_0x45ea5a(0x283)]+_0x45ea5a(0x41f)+localTeamPlayers['join'](',\x20')+_0x45ea5a(0xc19)+(localQuestionIndex+0x1)+'.\x20'+_0x30a38a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1aa9d8['imageCode']?_0x45ea5a(0xa6c)+_0x1aa9d8['imageCode']+_0x45ea5a(0x30c):'')+_0x45ea5a(0x5d3)+_0x28f4d3+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x45ea5a(0xe19)]['remove'](_0x45ea5a(0x414));if(window[_0x45ea5a(0x972)])MathJax[_0x45ea5a(0xde3)]([studentQuizArea]);document['getElementById'](_0x45ea5a(0x5a2))[_0x45ea5a(0x264)](_0x45ea5a(0xc23),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x7ad43c,_0x9a967a=null,_0x3b049d,_0x4b145e=null,_0x5d7848=![],_0x4c0279=null){const _0x495ed2=_0x1dab5f,_0x4e280c=document[_0x495ed2(0x242)](_0x495ed2(0x76b));_0x4e280c&&_0x4e280c[_0x495ed2(0x5e1)]({'behavior':'smooth','block':_0x495ed2(0x69b)}),generateQuiz(_0x7ad43c,_0x9a967a,null,_0x4c0279,!![],_0x3b049d,_0x4b145e,_0x5d7848);}function handleGenerateAndShowLesson(_0x6b4fc0,_0x598899){const _0x43be45=_0x1dab5f,_0x59f0d7=document[_0x43be45(0x242)]('lesson-view-modal'),_0xa05689=document['getElementById'](_0x43be45(0x806)),_0x5d8584=document[_0x43be45(0x242)]('lesson-loader'),_0x522e7e=document[_0x43be45(0x242)](_0x43be45(0x91f));[_0x43be45(0x949),_0x43be45(0x470),'applicationContent',_0x43be45(0x8fc)][_0x43be45(0xbdf)](_0x21ae4a=>{const _0x574122=_0x43be45,_0xe11685=document[_0x574122(0x242)](_0x21ae4a)['parentElement'];_0xe11685&&(_0xe11685[_0x574122(0x271)]['display']='block');}),_0xa05689[_0x43be45(0xafa)]='กำลังสร้างบทเรียน:\x20'+_0x6b4fc0,_0x522e7e[_0x43be45(0xe19)]['add']('hidden'),_0x5d8584[_0x43be45(0xe19)][_0x43be45(0x677)](_0x43be45(0x414)),_0x59f0d7[_0x43be45(0xe19)]['remove'](_0x43be45(0x414)),generateLesson(_0x6b4fc0,_0x598899)[_0x43be45(0xd68)](_0x5f1aa7=>{const _0x55a68a=_0x43be45;console[_0x55a68a(0xd98)](_0x55a68a(0x772),_0x5f1aa7),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x59f0d7[_0x55a68a(0xe19)][_0x55a68a(0x27c)](_0x55a68a(0x414));});}function handlePointerDown(_0x1065fa){const _0x9bd7b1=_0x1dab5f;_0x1065fa[_0x9bd7b1(0xc2b)]();const _0x5ea696=scratchpadCtx[_0x9bd7b1(0x894)],_0x43c48e=_0x5ea696['getBoundingClientRect'](),_0x41e362=_0x1065fa[_0x9bd7b1(0x578)]||(_0x1065fa[_0x9bd7b1(0x326)]?'touch':'mouse');if(_0x41e362===_0x9bd7b1(0xa93)||_0x41e362===_0x9bd7b1(0x258)){if(_0x1065fa[_0x9bd7b1(0x578)]==='mouse'&&_0x1065fa['button']!==0x0){_0x1065fa[_0x9bd7b1(0x639)]===0x1&&(isMousePanning=!![],panStart={'x':_0x1065fa['clientX'],'y':_0x1065fa[_0x9bd7b1(0x95e)]},_0x5ea696[_0x9bd7b1(0x271)][_0x9bd7b1(0x7a0)]=_0x9bd7b1(0x9b0));return;}activeTool===_0x9bd7b1(0x346)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x11852a=getTransformedPoint(_0x1065fa[_0x9bd7b1(0x129)]-_0x43c48e['left'],_0x1065fa[_0x9bd7b1(0x95e)]-_0x43c48e[_0x9bd7b1(0x14b)]);let _0x267db4={'tool':activeTool,'points':[_0x11852a]};if(activeTool===_0x9bd7b1(0xa93))_0x267db4['color']=scratchpadPenColor,_0x267db4['size']=scratchpadPenSize;else{if(activeTool===_0x9bd7b1(0xbc5))_0x267db4['color']=scratchpadPenColor,_0x267db4[_0x9bd7b1(0x93b)]=scratchpadEraserSize;else{if(activeTool===_0x9bd7b1(0xc47))_0x267db4[_0x9bd7b1(0x337)]=scratchpadHighlighterColor,_0x267db4['size']=scratchpadHighlighterSize;else activeTool==='trail'&&(_0x267db4['color']=scratchpadPenColor,_0x267db4['size']=scratchpadPenSize);}}currentStroke=_0x267db4;}else _0x1065fa[_0x9bd7b1(0x326)]&&(_0x1065fa[_0x9bd7b1(0x326)][_0x9bd7b1(0x283)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x1065fa[_0x9bd7b1(0x326)][0x0][_0x9bd7b1(0x129)],'y':_0x1065fa['touches'][0x0]['clientY']},{'x':_0x1065fa['touches'][0x1][_0x9bd7b1(0x129)],'y':_0x1065fa[_0x9bd7b1(0x326)][0x1][_0x9bd7b1(0x95e)]}),initialPinchDistance=getDistance({'x':_0x1065fa[_0x9bd7b1(0x326)][0x0][_0x9bd7b1(0x129)],'y':_0x1065fa[_0x9bd7b1(0x326)][0x0][_0x9bd7b1(0x95e)]},{'x':_0x1065fa['touches'][0x1][_0x9bd7b1(0x129)],'y':_0x1065fa[_0x9bd7b1(0x326)][0x1]['clientY']})));}function animateTrail(){const _0x3fc9c5=_0x1dab5f,_0x1df06e=Date['now']();let _0x49f787=![];for(let _0x1239ca=strokes[_0x3fc9c5(0x283)]-0x1;_0x1239ca>=0x0;_0x1239ca--){const _0x19e564=strokes[_0x1239ca];if(_0x19e564[_0x3fc9c5(0xaca)]===_0x3fc9c5(0x346)&&_0x19e564[_0x3fc9c5(0xb41)]){const _0x4242b7=_0x1df06e-_0x19e564[_0x3fc9c5(0xb41)];_0x4242b7>=TRAIL_DURATION?strokes[_0x3fc9c5(0x121)](_0x1239ca,0x1):(_0x19e564[_0x3fc9c5(0xa6a)]=0x1-_0x4242b7/TRAIL_DURATION,_0x49f787=!![]);}}redrawScratchpad(),_0x49f787?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x2aaa6c){const _0x34c6ca=_0x1dab5f;if(!_0x2aaa6c||_0x2aaa6c[_0x34c6ca(0x351)][_0x34c6ca(0x283)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x34c6ca(0x94d)]=_0x34c6ca(0x39b),scratchpadCtx[_0x34c6ca(0x87b)]=_0x34c6ca(0x39b);if(_0x2aaa6c[_0x34c6ca(0xaca)]===_0x34c6ca(0x346)){const _0x2660e4=_0x2aaa6c[_0x34c6ca(0x93b)]/scratchpadScale;scratchpadCtx[_0x34c6ca(0x78e)]=_0x2aaa6c['opacity']??0x1,scratchpadCtx['shadowColor']='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x34c6ca(0x685)]=_0x2660e4*0x3,scratchpadCtx[_0x34c6ca(0x546)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x34c6ca(0x9c7)]=_0x2660e4*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x34c6ca(0x876)](_0x2aaa6c[_0x34c6ca(0x351)][0x0]['x'],_0x2aaa6c[_0x34c6ca(0x351)][0x0]['y']);for(let _0x5042a1=0x1;_0x5042a1<_0x2aaa6c[_0x34c6ca(0x351)][_0x34c6ca(0x283)]-0x1;_0x5042a1++){const _0x50a86f=getMidpoint(_0x2aaa6c['points'][_0x5042a1],_0x2aaa6c[_0x34c6ca(0x351)][_0x5042a1+0x1]);scratchpadCtx[_0x34c6ca(0x8a6)](_0x2aaa6c[_0x34c6ca(0x351)][_0x5042a1]['x'],_0x2aaa6c['points'][_0x5042a1]['y'],_0x50a86f['x'],_0x50a86f['y']);}scratchpadCtx[_0x34c6ca(0x514)](),scratchpadCtx[_0x34c6ca(0x965)]='transparent',scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x34c6ca(0x546)]=_0x34c6ca(0x62d),scratchpadCtx[_0x34c6ca(0x9c7)]=_0x2660e4,scratchpadCtx[_0x34c6ca(0x514)](),scratchpadCtx[_0x34c6ca(0x8de)]();}else{if(_0x2aaa6c[_0x34c6ca(0xaca)]===_0x34c6ca(0xc47)){scratchpadCtx[_0x34c6ca(0x7e4)]=_0x34c6ca(0x833),scratchpadCtx[_0x34c6ca(0x546)]=_0x2aaa6c[_0x34c6ca(0x337)],scratchpadCtx[_0x34c6ca(0x9c7)]=_0x2aaa6c[_0x34c6ca(0x93b)],scratchpadCtx[_0x34c6ca(0x7e3)](),scratchpadCtx[_0x34c6ca(0x876)](_0x2aaa6c[_0x34c6ca(0x351)][0x0]['x'],_0x2aaa6c[_0x34c6ca(0x351)][0x0]['y']);for(let _0x52b666=0x1;_0x52b666<_0x2aaa6c[_0x34c6ca(0x351)][_0x34c6ca(0x283)]-0x1;_0x52b666++){const _0x561ed4=getMidpoint(_0x2aaa6c['points'][_0x52b666],_0x2aaa6c['points'][_0x52b666+0x1]);scratchpadCtx['quadraticCurveTo'](_0x2aaa6c['points'][_0x52b666]['x'],_0x2aaa6c[_0x34c6ca(0x351)][_0x52b666]['y'],_0x561ed4['x'],_0x561ed4['y']);}scratchpadCtx[_0x34c6ca(0x514)](),scratchpadCtx[_0x34c6ca(0x8de)]();}else{scratchpadCtx['globalCompositeOperation']=_0x2aaa6c['tool']===_0x34c6ca(0xbc5)?_0x34c6ca(0x292):_0x34c6ca(0x940),scratchpadCtx[_0x34c6ca(0x546)]=_0x2aaa6c[_0x34c6ca(0x337)],scratchpadCtx[_0x34c6ca(0x9c7)]=_0x2aaa6c[_0x34c6ca(0x93b)],scratchpadCtx[_0x34c6ca(0x7e3)](),scratchpadCtx[_0x34c6ca(0x876)](_0x2aaa6c['points'][0x0]['x'],_0x2aaa6c['points'][0x0]['y']);for(let _0x1f0a36=0x1;_0x1f0a36<_0x2aaa6c['points']['length']-0x1;_0x1f0a36++){const _0x169039=getMidpoint(_0x2aaa6c[_0x34c6ca(0x351)][_0x1f0a36],_0x2aaa6c[_0x34c6ca(0x351)][_0x1f0a36+0x1]);scratchpadCtx[_0x34c6ca(0x8a6)](_0x2aaa6c['points'][_0x1f0a36]['x'],_0x2aaa6c[_0x34c6ca(0x351)][_0x1f0a36]['y'],_0x169039['x'],_0x169039['y']);}scratchpadCtx[_0x34c6ca(0x514)](),scratchpadCtx[_0x34c6ca(0x8de)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x5a0b06){const _0x59d462=_0x1dab5f;_0x5a0b06[_0x59d462(0xc2b)]();const _0x2ba3c3=scratchpadCtx[_0x59d462(0x894)],_0x3d3f5c=_0x2ba3c3['getBoundingClientRect']();if(_0x5a0b06[_0x59d462(0x326)]){if(_0x5a0b06[_0x59d462(0x326)]['length']===0x1&&isDrawingOnScratchpad){const _0x97d4b=getTransformedPoint(_0x5a0b06[_0x59d462(0x326)][0x0]['clientX']-_0x3d3f5c[_0x59d462(0xdfa)],_0x5a0b06[_0x59d462(0x326)][0x0][_0x59d462(0x95e)]-_0x3d3f5c[_0x59d462(0x14b)]);currentStroke[_0x59d462(0x351)][_0x59d462(0x20e)](_0x97d4b),redrawScratchpad();}else{if(_0x5a0b06[_0x59d462(0x326)]['length']===0x2&&isPanning){const _0x17798b=getDistance({'x':_0x5a0b06[_0x59d462(0x326)][0x0][_0x59d462(0x129)],'y':_0x5a0b06[_0x59d462(0x326)][0x0][_0x59d462(0x95e)]},{'x':_0x5a0b06['touches'][0x1][_0x59d462(0x129)],'y':_0x5a0b06[_0x59d462(0x326)][0x1][_0x59d462(0x95e)]}),_0x52b36a=getMidpoint({'x':_0x5a0b06[_0x59d462(0x326)][0x0]['clientX'],'y':_0x5a0b06[_0x59d462(0x326)][0x0][_0x59d462(0x95e)]},{'x':_0x5a0b06['touches'][0x1][_0x59d462(0x129)],'y':_0x5a0b06[_0x59d462(0x326)][0x1][_0x59d462(0x95e)]}),_0x4323c6=_0x17798b/ initialPinchDistance,_0x5e31a4=Math[_0x59d462(0xcc7)](Math['max'](scratchpadScale*_0x4323c6,MIN_SCALE),MAX_SCALE),_0x144141=_0x52b36a['x']-panStart['x'],_0x4fae5a=_0x52b36a['y']-panStart['y'];scratchpadOffset['x']=_0x52b36a['x']-(_0x52b36a['x']-scratchpadOffset['x'])*(_0x5e31a4/scratchpadScale),scratchpadOffset['y']=_0x52b36a['y']-(_0x52b36a['y']-scratchpadOffset['y'])*(_0x5e31a4/scratchpadScale),scratchpadOffset['x']+=_0x144141,scratchpadOffset['y']+=_0x4fae5a,scratchpadScale=_0x5e31a4,initialPinchDistance=_0x17798b,panStart=_0x52b36a,redrawScratchpad();}}}else{if(isMousePanning){const _0x426b4f=_0x5a0b06[_0x59d462(0x129)]-panStart['x'],_0x40feb6=_0x5a0b06[_0x59d462(0x95e)]-panStart['y'];scratchpadOffset['x']+=_0x426b4f,scratchpadOffset['y']+=_0x40feb6,panStart={'x':_0x5a0b06[_0x59d462(0x129)],'y':_0x5a0b06[_0x59d462(0x95e)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x5b0819=getTransformedPoint(_0x5a0b06['clientX']-_0x3d3f5c[_0x59d462(0xdfa)],_0x5a0b06[_0x59d462(0x95e)]-_0x3d3f5c[_0x59d462(0x14b)]);currentStroke[_0x59d462(0x351)]['push'](_0x5b0819),redrawScratchpad();}}}}function handlePointerUp(_0x5a6cc2){const _0x1561c0=_0x1dab5f;_0x5a6cc2[_0x1561c0(0xc2b)]();const _0x5b2fc3=scratchpadCtx[_0x1561c0(0x894)];isMousePanning&&(isMousePanning=![],_0x5b2fc3[_0x1561c0(0x271)]['cursor']='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x1561c0(0x351)][_0x1561c0(0x283)]>0x1&&(strokes[_0x1561c0(0x20e)](currentStroke),currentStroke[_0x1561c0(0xaca)]===_0x1561c0(0x346)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x6d4d74=_0x1561c0,_0xacfac9=strokes[_0x6d4d74(0x3be)](_0x173a21=>_0x173a21[_0x6d4d74(0xaca)]==='trail'&&!_0x173a21[_0x6d4d74(0xb41)]);if(_0xacfac9[_0x6d4d74(0x283)]>0x0){const _0x271bcc=Date[_0x6d4d74(0xaf6)]();_0xacfac9['forEach'](_0x4e33e5=>_0x4e33e5[_0x6d4d74(0xb41)]=_0x271bcc),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x55be8c){const _0x543e05=_0x1dab5f;_0x55be8c[_0x543e05(0xc2b)]();const _0x201008=_0x55be8c[_0x543e05(0x680)]*-0.005,_0x3f0f43=Math['min'](Math[_0x543e05(0xcd3)](scratchpadScale+_0x201008,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x55be8c[_0x543e05(0x129)]-(_0x55be8c['clientX']-scratchpadOffset['x'])*(_0x3f0f43/scratchpadScale),scratchpadOffset['y']=_0x55be8c[_0x543e05(0x95e)]-(_0x55be8c[_0x543e05(0x95e)]-scratchpadOffset['y'])*(_0x3f0f43/scratchpadScale),scratchpadScale=_0x3f0f43,redrawScratchpad();}function undo(){const _0x510786=_0x1dab5f;strokes[_0x510786(0x283)]>0x0&&(redoStrokes[_0x510786(0x20e)](strokes[_0x510786(0x988)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x509441=_0x1dab5f;redoStrokes[_0x509441(0x283)]>0x0&&(strokes[_0x509441(0x20e)](redoStrokes[_0x509441(0x988)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x8acb75=_0x1dab5f;document[_0x8acb75(0x242)](_0x8acb75(0x47c))[_0x8acb75(0xd66)]=strokes[_0x8acb75(0x283)]===0x0,document[_0x8acb75(0x242)](_0x8acb75(0x950))['disabled']=redoStrokes[_0x8acb75(0x283)]===0x0;}function openScratchpad(_0x8d9fdc,_0xf0f5b3){const _0x2ffe44=_0x1dab5f,_0x4ec682=document[_0x2ffe44(0x242)](_0x2ffe44(0x7ce)),_0x3f2762=document['getElementById']('scratchpad-question'),_0x23cc12=document[_0x2ffe44(0x242)](_0x2ffe44(0xa08)),_0x3614fe=document[_0x2ffe44(0x242)](_0x2ffe44(0x714));_0x3f2762[_0x2ffe44(0x90d)]=_0x8d9fdc['stem']||_0x8d9fdc[_0x2ffe44(0x8c4)],_0x23cc12['innerHTML']=_0xf0f5b3[_0x2ffe44(0xdc6)]((_0x3199cd,_0x12a38b)=>_0x2ffe44(0x6c1)+String[_0x2ffe44(0xa1c)](0x41+_0x12a38b)+'.\x20'+_0x3199cd+_0x2ffe44(0x30c))[_0x2ffe44(0xe10)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x4ec682['classList'][_0x2ffe44(0x677)](_0x2ffe44(0x414)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x2ffe44(0xde3)]([_0x3f2762,_0x23cc12]);}function openBlueprintQuizSettings(){const _0x258dd3=_0x1dab5f,_0x2b380c=document[_0x258dd3(0x242)](_0x258dd3(0x24e)),_0x484a36=blueprintPageSettings||(currentProjectData?currentProjectData[_0x258dd3(0x491)]:{})||{};document[_0x258dd3(0x242)](_0x258dd3(0x569))[_0x258dd3(0xbfb)]=_0x484a36[_0x258dd3(0x11f)]||document[_0x258dd3(0x242)](_0x258dd3(0x408))['value'],document[_0x258dd3(0x242)](_0x258dd3(0x1c4))[_0x258dd3(0x90d)]=document['getElementById'](_0x258dd3(0x229))[_0x258dd3(0x90d)],document[_0x258dd3(0x242)](_0x258dd3(0x1c4))[_0x258dd3(0xbfb)]=_0x484a36[_0x258dd3(0x5f7)]||document[_0x258dd3(0x242)](_0x258dd3(0x229))[_0x258dd3(0xbfb)],document['getElementById'](_0x258dd3(0x25e))[_0x258dd3(0x90d)]=document['getElementById'](_0x258dd3(0x162))['innerHTML'],document[_0x258dd3(0x242)](_0x258dd3(0x25e))[_0x258dd3(0xbfb)]=_0x484a36['complexityValue']||document[_0x258dd3(0x242)](_0x258dd3(0x162))['value'],document[_0x258dd3(0x242)](_0x258dd3(0x416))[_0x258dd3(0xbfb)]=_0x484a36[_0x258dd3(0x20f)]||document[_0x258dd3(0x242)]('num-questions')[_0x258dd3(0xbfb)],document['getElementById'](_0x258dd3(0x6bd))[_0x258dd3(0xbfb)]=_0x484a36['passingScore']||document[_0x258dd3(0x242)]('passing-score-input')[_0x258dd3(0xbfb)],document[_0x258dd3(0x242)](_0x258dd3(0x259))[_0x258dd3(0xbfb)]=_0x484a36[_0x258dd3(0x913)]||document['getElementById'](_0x258dd3(0x7fa))['value'],document[_0x258dd3(0x242)]('bp-modal-shuffle-setting-select')[_0x258dd3(0xbfb)]=_0x484a36[_0x258dd3(0x799)]||document[_0x258dd3(0x242)](_0x258dd3(0x2c1))[_0x258dd3(0xbfb)],document[_0x258dd3(0x242)](_0x258dd3(0x31b))[_0x258dd3(0xa7e)]=_0x484a36['includeImages']||document[_0x258dd3(0x242)](_0x258dd3(0x8c2))['checked'],_0x2b380c[_0x258dd3(0xe19)]['remove'](_0x258dd3(0x414));}function handleSaveBlueprintPageSettings(){const _0x866512=_0x1dab5f;blueprintPageSettings={'quizType':document['getElementById']('bp-modal-quiz-type-select')[_0x866512(0xbfb)],'difficultyValue':document[_0x866512(0x242)](_0x866512(0x1c4))['value'],'complexityValue':document[_0x866512(0x242)](_0x866512(0x25e))['value'],'numQuestions':document['getElementById']('bp-modal-num-questions')['value'],'passingScore':document[_0x866512(0x242)](_0x866512(0x6bd))[_0x866512(0xbfb)],'numChoices':document['getElementById'](_0x866512(0x259))['value'],'shuffle':document[_0x866512(0x242)](_0x866512(0x425))[_0x866512(0xbfb)],'includeImages':document[_0x866512(0x242)](_0x866512(0x31b))['checked']},showMessage(_0x866512(0xe18)),document[_0x866512(0x242)]('blueprint-settings-modal')[_0x866512(0xe19)][_0x866512(0x27c)](_0x866512(0x414));}function listenForParallelTestShortcuts(){const _0x41a02a=doc(db,'globalSettings','parallelTestShortcutsConfig');onSnapshot(_0x41a02a,_0x1943c6=>{const _0x7e51a4=_0x5ef1;let _0x5b02d4=[],_0x9446fa=[],_0x34ae36={};if(_0x1943c6[_0x7e51a4(0xb96)]()){const _0x481d48=_0x1943c6['data']();_0x5b02d4=_0x481d48[_0x7e51a4(0x343)]||[],_0x9446fa=_0x481d48[_0x7e51a4(0x2f1)]||[],_0x34ae36=_0x481d48['parallelShortcutOrder']||{};}!_0x9446fa[_0x7e51a4(0x794)](_0xddb33b=>_0xddb33b['id']===_0x7e51a4(0x2af))&&_0x9446fa[_0x7e51a4(0x146)]({'id':_0x7e51a4(0x2af),'name':_0x7e51a4(0x1e4),'isDefault':!![]}),!_0x5b02d4[_0x7e51a4(0x794)](_0x50013f=>_0x50013f['id']===_0x7e51a4(0x32e))&&_0x5b02d4[_0x7e51a4(0x146)]({'id':_0x7e51a4(0x32e),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x5b02d4[_0x7e51a4(0x794)](_0x1ced6a=>_0x1ced6a['id']===_0x7e51a4(0x50a))&&_0x5b02d4[_0x7e51a4(0x146)]({'id':'parallel-default-2','name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x5b02d4,parallelShortcutTabs=_0x9446fa,parallelShortcutOrder=_0x34ae36,renderParallelTestShortcuts(),!document[_0x7e51a4(0x242)]('additional-parallel-shortcuts-modal')[_0x7e51a4(0xe19)]['contains'](_0x7e51a4(0x414))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x1ad253=_0x1dab5f,_0x503c40=doc(db,_0x1ad253(0x192),_0x1ad253(0x9ef));try{await setDoc(_0x503c40,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x3021c5){console[_0x1ad253(0xd98)](_0x1ad253(0x574),_0x3021c5);}}function renderAdditionalParallelShortcutsModal(){const _0x29a42e=_0x1dab5f,_0x28a45c=document[_0x29a42e(0x242)](_0x29a42e(0x4e5)),_0x4e519a=document[_0x29a42e(0x242)]('additional-parallel-shortcuts-list');if(!_0x28a45c||!_0x4e519a)return;_0x28a45c[_0x29a42e(0x90d)]=parallelShortcutTabs['map'](_0x39b6d4=>{const _0x18e175=_0x29a42e,_0x9f2c67=_0x39b6d4['id']===activeParallelShortcutTabId;return _0x18e175(0x4c6)+_0x39b6d4['id']+_0x18e175(0x96b)+(_0x9f2c67?_0x18e175(0x1d1):_0x18e175(0x48b))+_0x18e175(0x14e)+_0x39b6d4[_0x18e175(0x4cc)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x39b6d4[_0x18e175(0x4cc)]+_0x18e175(0x58f)+(!_0x39b6d4[_0x18e175(0x729)]?_0x18e175(0x3c0)+_0x39b6d4['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x18e175(0x4b7);})['join']('');const _0x139a9e=parallelShortcutTabs['find'](_0xa6f96=>_0xa6f96['id']===activeParallelShortcutTabId);let _0x5d03dd=_0x139a9e?.[_0x29a42e(0x729)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x20954d=>(_0x139a9e?.[_0x29a42e(0x3f6)]||[])[_0x29a42e(0x87f)](_0x20954d['id']));const _0x316c27=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x5d03dd[_0x29a42e(0xa23)]((_0x308ac7,_0x59ac32)=>{const _0x5275ea=_0x29a42e,_0x318862=_0x316c27['indexOf'](_0x308ac7['id']),_0x4e5292=_0x316c27[_0x5275ea(0x570)](_0x59ac32['id']);return(_0x318862===-0x1?Infinity:_0x318862)-(_0x4e5292===-0x1?Infinity:_0x4e5292);}),_0x4e519a[_0x29a42e(0x90d)]=_0x5d03dd[_0x29a42e(0xdc6)](_0x1b361e=>{const _0x1c2ef2=_0x29a42e,_0xe282e=_0x1b361e[_0x1c2ef2(0x455)]?'🔁':'🔗',_0x39e235=parallelShortcutTabs[_0x1c2ef2(0x3be)](_0x223035=>!_0x223035[_0x1c2ef2(0x729)]),_0x4057ee=_0x139a9e[_0x1c2ef2(0x729)]&&_0x39e235[_0x1c2ef2(0x283)]>0x0?_0x1c2ef2(0x5a5)+_0x39e235[_0x1c2ef2(0xdc6)](_0x4ec185=>_0x1c2ef2(0xe07)+_0x1b361e['id']+'\x22\x20data-target-tab-id=\x22'+_0x4ec185['id']+'\x22>'+_0x4ec185[_0x1c2ef2(0x4cc)]+_0x1c2ef2(0x985))['join']('')+_0x1c2ef2(0x813):'';return _0x1c2ef2(0x207)+_0x1b361e['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0xe282e+'\x20'+_0x1b361e[_0x1c2ef2(0x4cc)]+_0x1c2ef2(0x71f)+_0x1b361e['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1b361e['id']+_0x1c2ef2(0x5cc)+(!_0x1b361e[_0x1c2ef2(0x729)]?_0x1c2ef2(0x41a)+_0x1b361e['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x1c2ef2(0x124)+(!_0x139a9e['isDefault']?_0x1c2ef2(0xa37)+_0x1b361e['id']+_0x1c2ef2(0x376):'')+_0x1c2ef2(0x124)+_0x4057ee+_0x1c2ef2(0xdd1);})[_0x29a42e(0xe10)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x1e64d9=_0x1dab5f;document[_0x1e64d9(0x99b)]('.parallel-shortcut-tab-btn')[_0x1e64d9(0xbdf)](_0x27ca37=>{const _0x765f1d=_0x1e64d9;_0x27ca37[_0x765f1d(0x3d9)]=_0x407576=>{const _0x4f7d14=_0x765f1d;activeParallelShortcutTabId=_0x407576[_0x4f7d14(0x479)][_0x4f7d14(0xb42)][_0x4f7d14(0x6cc)],renderAdditionalParallelShortcutsModal();},_0x27ca37[_0x765f1d(0x533)]=_0x26d60a=>{const _0x4b0541=_0x765f1d,_0x3b3aab=_0x26d60a[_0x4b0541(0x479)]['querySelector'](_0x4b0541(0x6ec));_0x26d60a['currentTarget'][_0x4b0541(0xb19)](_0x4b0541(0xda7))[_0x4b0541(0xe19)][_0x4b0541(0x27c)]('hidden'),_0x3b3aab[_0x4b0541(0xe19)][_0x4b0541(0x677)](_0x4b0541(0x414)),_0x3b3aab[_0x4b0541(0xaf4)](),_0x3b3aab[_0x4b0541(0xb61)]();};}),document['querySelectorAll']('#parallel-shortcut-tabs-nav\x20.tab-name-input')['forEach'](_0x5b199f=>{const _0x123c6e=_0x1e64d9,_0x1969ee=()=>{const _0x4b2b21=_0x5ef1,_0x3a7b37=_0x5b199f[_0x4b2b21(0xc75)](_0x4b2b21(0x418))[_0x4b2b21(0xb42)][_0x4b2b21(0x6cc)],_0x25012e=parallelShortcutTabs[_0x4b2b21(0x794)](_0x3d2184=>_0x3d2184['id']===_0x3a7b37);_0x25012e&&(_0x25012e[_0x4b2b21(0x4cc)]=_0x5b199f[_0x4b2b21(0xbfb)][_0x4b2b21(0xb6d)]()||_0x25012e['name'],saveParallelShortcutConfig());};_0x5b199f[_0x123c6e(0x183)]=_0x1969ee,_0x5b199f['onkeydown']=_0x51f028=>{const _0x14388f=_0x123c6e;if(_0x51f028['key']===_0x14388f(0xda8))_0x5b199f['blur']();};}),document[_0x1e64d9(0x99b)](_0x1e64d9(0x821))[_0x1e64d9(0xbdf)](_0x85e414=>_0x85e414[_0x1e64d9(0x3d9)]=_0x317610=>{const _0x541d6c=_0x1e64d9,_0x39b5fd=_0x317610[_0x541d6c(0x479)][_0x541d6c(0xb42)][_0x541d6c(0x6cc)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{parallelShortcutTabs=parallelShortcutTabs['filter'](_0x4ec0c2=>_0x4ec0c2['id']!==_0x39b5fd),delete parallelShortcutOrder[_0x39b5fd];if(activeParallelShortcutTabId===_0x39b5fd)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x1e64d9(0x99b)](_0x1e64d9(0x203))[_0x1e64d9(0xbdf)](_0x57cd0e=>_0x57cd0e[_0x1e64d9(0x3d9)]=_0x1013dd=>{const _0x3e1600=_0x1e64d9;_0x1013dd['preventDefault']();const {shortcutId:_0x41b068,targetTabId:_0x3cda56}=_0x1013dd[_0x3e1600(0x479)][_0x3e1600(0xb42)],_0x3e04cb=parallelShortcutTabs[_0x3e1600(0x794)](_0x1479a3=>_0x1479a3['id']===_0x3cda56);_0x3e04cb&&!_0x3e04cb[_0x3e1600(0x3f6)][_0x3e1600(0x87f)](_0x41b068)&&(_0x3e04cb['shortcutIds']['push'](_0x41b068),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x1e64d9(0x37c))['forEach'](_0x20fc4a=>_0x20fc4a[_0x1e64d9(0x3d9)]=_0x191e2c=>{const _0x44c045=_0x1e64d9,_0x5d5a17=_0x191e2c['currentTarget']['dataset'][_0x44c045(0x3eb)],_0x1c78a8=parallelShortcutTabs[_0x44c045(0x794)](_0x18139f=>_0x18139f['id']===activeParallelShortcutTabId);_0x1c78a8&&!_0x1c78a8['isDefault']&&(_0x1c78a8[_0x44c045(0x3f6)]=_0x1c78a8[_0x44c045(0x3f6)][_0x44c045(0x3be)](_0x4bd74b=>_0x4bd74b!==_0x5d5a17),saveParallelShortcutConfig());}),document[_0x1e64d9(0x99b)](_0x1e64d9(0xbaa))[_0x1e64d9(0xbdf)](_0x29a64a=>_0x29a64a['onclick']=_0x568fc9=>{const _0x5f47b9=_0x1e64d9;_0x568fc9['stopPropagation']();const _0x1af5e2=_0x568fc9[_0x5f47b9(0x479)][_0x5f47b9(0x956)];document[_0x5f47b9(0x99b)]('.move-parallel-shortcut-dropdown')[_0x5f47b9(0xbdf)](_0xadc9e4=>_0xadc9e4[_0x5f47b9(0xe19)][_0x5f47b9(0x27c)]('hidden')),_0x1af5e2[_0x5f47b9(0xe19)][_0x5f47b9(0x677)](_0x5f47b9(0x414));});const _0xba3d9b=document['getElementById']('additional-parallel-shortcuts-list');let _0x58c0c9=null;_0xba3d9b[_0x1e64d9(0x2b9)]=_0x1cfe07=>{const _0x2bb846=_0x1e64d9;_0x58c0c9=_0x1cfe07[_0x2bb846(0x230)]['closest'](_0x2bb846(0x311));if(_0x58c0c9)setTimeout(()=>_0x58c0c9['classList'][_0x2bb846(0x27c)](_0x2bb846(0x1e8)),0x0);},_0xba3d9b[_0x1e64d9(0x413)]=()=>{const _0x1a4bdd=_0x1e64d9;_0x58c0c9&&(_0x58c0c9[_0x1a4bdd(0xe19)][_0x1a4bdd(0x677)](_0x1a4bdd(0x1e8)),_0x58c0c9=null);},_0xba3d9b[_0x1e64d9(0xd1a)]=_0xff7699=>{const _0x4a34ae=_0x1e64d9;_0xff7699[_0x4a34ae(0xc2b)]();},_0xba3d9b[_0x1e64d9(0xcf9)]=_0x1bd70d=>{const _0x4419c8=_0x1e64d9;_0x1bd70d[_0x4419c8(0xc2b)]();if(_0x58c0c9){const _0x223ffa=[..._0xba3d9b[_0x4419c8(0x99b)](_0x4419c8(0xb33))][_0x4419c8(0xbab)]((_0x589b2b,_0x563d06)=>{const _0x4d82c6=_0x4419c8,_0x55930d=_0x563d06['getBoundingClientRect'](),_0xd712d3=_0x1bd70d[_0x4d82c6(0x95e)]-_0x55930d[_0x4d82c6(0x14b)]-_0x55930d[_0x4d82c6(0xbaf)]/0x2;return _0xd712d3<0x0&&_0xd712d3>_0x589b2b[_0x4d82c6(0x5c0)]?{'offset':_0xd712d3,'element':_0x563d06}:_0x589b2b;},{'offset':Number[_0x4419c8(0xcd4)]})['element'];_0x223ffa==null?_0xba3d9b['appendChild'](_0x58c0c9):_0xba3d9b[_0x4419c8(0xdba)](_0x58c0c9,_0x223ffa);const _0x273d8d=[..._0xba3d9b['querySelectorAll'](_0x4419c8(0x311))][_0x4419c8(0xdc6)](_0x5d94bf=>_0x5d94bf['dataset'][_0x4419c8(0x3eb)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x273d8d,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x5bf9b4=_0x1dab5f,_0x34ec1c=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0x34ec1c&&_0x34ec1c['trim']()&&(parallelShortcutTabs['push']({'id':_0x5bf9b4(0x3e7)+Date[_0x5bf9b4(0xaf6)](),'name':_0x34ec1c[_0x5bf9b4(0xb6d)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x4b1004=_0x1dab5f,_0x10518d=document[_0x4b1004(0x242)](_0x4b1004(0x6aa)),_0x147b93=document[_0x4b1004(0x242)]('additional-parallel-shortcuts-list'),_0x2d3001=document[_0x4b1004(0x242)](_0x4b1004(0x6d9));if(_0x2d3001)_0x2d3001[_0x4b1004(0xe19)][_0x4b1004(0x27c)](_0x4b1004(0x414));if(!_0x10518d||!_0x147b93)return;const _0x685171=parallelTestShortcuts['slice'](0x0,0x4),_0x181f1d=parallelTestShortcuts[_0x4b1004(0x801)](0x4);_0x10518d[_0x4b1004(0x90d)]=_0x685171['map'](_0x42ef2e=>{const _0x4d6f69=_0x4b1004,_0xe9112a=_0x42ef2e[_0x4d6f69(0x455)]&&_0x42ef2e['url']['trim']()!=='',_0x5a3c65=_0xe9112a?_0x4d6f69(0x18c):_0x4d6f69(0xbe4),_0x4483d6=_0xe9112a?'🔁':'🔗',_0x1eb8b4=!_0x42ef2e[_0x4d6f69(0x729)]?_0x4d6f69(0x41a)+_0x42ef2e['id']+_0x4d6f69(0x38a):'';return _0x4d6f69(0x81c)+_0x42ef2e['id']+_0x4d6f69(0x6b9)+_0x5a3c65+_0x4d6f69(0x91a)+_0x4483d6+'\x20'+_0x42ef2e[_0x4d6f69(0x4cc)]+_0x4d6f69(0x74c)+_0x42ef2e['id']+_0x4d6f69(0xa10)+_0x1eb8b4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x181f1d[_0x4b1004(0x283)]>0x0&&(_0x10518d[_0x4b1004(0x90d)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x181f1d['length']>0x0?_0x147b93[_0x4b1004(0x90d)]=_0x181f1d[_0x4b1004(0xdc6)](_0x327569=>_0x4b1004(0x914)+(_0x327569[_0x4b1004(0x455)]?'🔁':'🔗')+'\x20'+_0x327569[_0x4b1004(0x4cc)]+_0x4b1004(0xc8e)+_0x327569['id']+_0x4b1004(0xabc)+_0x327569['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x327569[_0x4b1004(0x729)]?_0x4b1004(0x41a)+_0x327569['id']+_0x4b1004(0xdbf):'')+_0x4b1004(0x71e))[_0x4b1004(0xe10)](''):_0x147b93[_0x4b1004(0x90d)]=_0x4b1004(0x5ce);}function openParallelTestShortcutEditor(_0x3bca93=null){const _0x1f6e2c=_0x1dab5f,_0x4d6a15=document[_0x1f6e2c(0x242)](_0x1f6e2c(0x6fa)),_0x381936=document[_0x1f6e2c(0x242)]('parallel-shortcut-modal-title'),_0x103ba3=document['getElementById'](_0x1f6e2c(0x219)),_0x3e3d00=document[_0x1f6e2c(0x242)]('parallel-shortcut-name-input'),_0xd215d3=document[_0x1f6e2c(0x242)](_0x1f6e2c(0xaf1));if(_0x3bca93){const _0x5ceaa6=parallelTestShortcuts[_0x1f6e2c(0x794)](_0x16a209=>_0x16a209['id']===_0x3bca93);if(!_0x5ceaa6)return;_0x381936[_0x1f6e2c(0xafa)]=_0x1f6e2c(0xb9f),_0x103ba3['value']=_0x5ceaa6['id'],_0x3e3d00[_0x1f6e2c(0xbfb)]=_0x5ceaa6[_0x1f6e2c(0x4cc)],_0xd215d3['value']=_0x5ceaa6[_0x1f6e2c(0x455)]||'';}else _0x381936[_0x1f6e2c(0xafa)]=_0x1f6e2c(0x688),_0x103ba3[_0x1f6e2c(0xbfb)]='',_0x3e3d00[_0x1f6e2c(0xbfb)]='',_0xd215d3['value']='';_0x4d6a15[_0x1f6e2c(0xe19)][_0x1f6e2c(0x677)](_0x1f6e2c(0x414));}async function saveParallelTestShortcutChanges(){const _0x424aa7=_0x1dab5f,_0x46dcfd=document[_0x424aa7(0x242)](_0x424aa7(0x219))[_0x424aa7(0xbfb)],_0x3f385d=document[_0x424aa7(0x242)](_0x424aa7(0x77d))[_0x424aa7(0xbfb)][_0x424aa7(0xb6d)](),_0x562711=document['getElementById'](_0x424aa7(0xaf1))[_0x424aa7(0xbfb)][_0x424aa7(0xb6d)]();if(!_0x3f385d){showMessage(_0x424aa7(0xcc3));return;}const _0x369d63={'id':_0x46dcfd||_0x424aa7(0x66f)+Date['now'](),'name':_0x3f385d,'url':_0x562711,'isDefault':_0x46dcfd['startsWith']('parallel-default-')};let _0x10e685;_0x46dcfd?_0x10e685=parallelTestShortcuts[_0x424aa7(0xdc6)](_0x387034=>_0x387034['id']===_0x46dcfd?_0x369d63:_0x387034):_0x10e685=[...parallelTestShortcuts,_0x369d63];try{const _0x3ef970=doc(db,_0x424aa7(0x192),_0x424aa7(0x9ef));await setDoc(_0x3ef970,{'shortcuts':_0x10e685},{'merge':!![]}),document[_0x424aa7(0x242)]('parallel-shortcut-editor-modal')[_0x424aa7(0xe19)][_0x424aa7(0x27c)](_0x424aa7(0x414));}catch(_0x48e2ba){console[_0x424aa7(0xd98)](_0x424aa7(0x875),_0x48e2ba),showMessage(_0x424aa7(0xc8d));}}async function handleParallelTestShortcutClick(_0x3037b5){const _0x13516a=_0x1dab5f,_0x2d8cd7=parallelTestShortcuts['find'](_0x385f58=>_0x385f58['id']===_0x3037b5);if(!_0x2d8cd7)return;if(!_0x2d8cd7[_0x13516a(0x455)]||_0x2d8cd7[_0x13516a(0x455)][_0x13516a(0xb6d)]()===''){openParallelTestShortcutEditor(_0x3037b5);return;}const _0x47f56a=document[_0x13516a(0x242)](_0x13516a(0x715)),_0x55101a=document[_0x13516a(0x242)](_0x13516a(0xdd3));document[_0x13516a(0x242)]('quiz-generation-area')[_0x13516a(0xe19)][_0x13516a(0x677)]('hidden'),document[_0x13516a(0x242)]('generated-quiz-container')['innerHTML']='',_0x47f56a[_0x13516a(0xe19)]['remove'](_0x13516a(0x414)),_0x55101a[_0x13516a(0xafa)]=_0x13516a(0x9a9);try{let _0x251d1d;_0x2d8cd7[_0x13516a(0x455)][_0x13516a(0x463)]()[_0x13516a(0x87f)](_0x13516a(0x70d))?_0x251d1d=_0x13516a(0x6b5):_0x251d1d=_0x13516a(0x637);const _0x23db4d=await fetchFileFromUrl(_0x2d8cd7[_0x13516a(0x455)],_0x251d1d);await handleGenerateParallelTest(_0x23db4d);}catch(_0xdc2da5){console[_0x13516a(0xd98)]('Error\x20processing\x20parallel\x20shortcut\x20click:',_0xdc2da5),showMessage(_0x13516a(0x517)+_0xdc2da5[_0x13516a(0xa9f)]),_0x47f56a[_0x13516a(0xe19)][_0x13516a(0x27c)](_0x13516a(0x414));}}function initializeScratchpadCanvas(){const _0x10dbc9=_0x1dab5f,_0xaf6b60=document[_0x10dbc9(0x242)](_0x10dbc9(0x97e)),_0x327d1e=document['querySelector'](_0x10dbc9(0xd3c));if(!_0xaf6b60||!_0x327d1e)return;scratchpadCtx=_0xaf6b60[_0x10dbc9(0x8ee)]('2d',{'willReadFrequently':!![]});const _0x4ef125=window[_0x10dbc9(0x3e5)]||0x1,_0x1daf8f=_0x327d1e[_0x10dbc9(0x572)]();_0xaf6b60['width']=_0x1daf8f[_0x10dbc9(0xa5b)]*_0x4ef125,_0xaf6b60[_0x10dbc9(0xbaf)]=_0x1daf8f[_0x10dbc9(0xbaf)]*_0x4ef125,_0xaf6b60[_0x10dbc9(0x271)]['width']=_0x1daf8f[_0x10dbc9(0xa5b)]+'px',_0xaf6b60[_0x10dbc9(0x271)][_0x10dbc9(0xbaf)]=_0x1daf8f[_0x10dbc9(0xbaf)]+'px',scratchpadCtx[_0x10dbc9(0x1b5)](_0x4ef125,_0x4ef125),scratchpadCtx[_0x10dbc9(0x94d)]=_0x10dbc9(0x39b),scratchpadCtx[_0x10dbc9(0x87b)]=_0x10dbc9(0x39b),_0xaf6b60[_0x10dbc9(0x232)]('pointerdown',handlePointerDown),_0xaf6b60[_0x10dbc9(0x232)]('pointermove',handlePointerMove),_0xaf6b60['removeEventListener'](_0x10dbc9(0xb97),handlePointerUp),_0xaf6b60[_0x10dbc9(0x232)](_0x10dbc9(0x683),handlePointerUp),_0xaf6b60[_0x10dbc9(0x232)](_0x10dbc9(0x952),handleWheel),_0xaf6b60[_0x10dbc9(0x232)](_0x10dbc9(0xbc0),handlePointerDown),_0xaf6b60[_0x10dbc9(0x232)]('touchmove',handlePointerMove),_0xaf6b60['removeEventListener'](_0x10dbc9(0x594),handlePointerUp),_0xaf6b60[_0x10dbc9(0x264)]('pointerdown',handlePointerDown),_0xaf6b60[_0x10dbc9(0x264)](_0x10dbc9(0x628),handlePointerMove),_0xaf6b60[_0x10dbc9(0x264)]('pointerup',handlePointerUp),_0xaf6b60[_0x10dbc9(0x264)](_0x10dbc9(0x683),handlePointerUp),_0xaf6b60[_0x10dbc9(0x264)](_0x10dbc9(0x952),handleWheel,{'passive':![]}),_0xaf6b60[_0x10dbc9(0x264)]('touchstart',handlePointerDown,{'passive':![]}),_0xaf6b60[_0x10dbc9(0x264)](_0x10dbc9(0x5d9),handlePointerMove,{'passive':![]}),_0xaf6b60[_0x10dbc9(0x264)](_0x10dbc9(0x594),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x3a6856=_0x1dab5f,_0x16c5e0=document[_0x3a6856(0x242)](_0x3a6856(0x7ce)),_0x5be072=document['getElementById'](_0x3a6856(0x714));_0x5be072[_0x3a6856(0x90d)]=_0x3a6856(0x5cf)+scratchpadHighlighterSize+_0x3a6856(0xb22);const _0x4ebe7d=document[_0x3a6856(0x242)](_0x3a6856(0x4a7)),_0x43ee72=document[_0x3a6856(0x242)](_0x3a6856(0x8e0)),_0x5879dd=document[_0x3a6856(0x242)](_0x3a6856(0xcce)),_0x118ef8=document[_0x3a6856(0x242)](_0x3a6856(0x3ce)),_0x1970d0=document[_0x3a6856(0x242)](_0x3a6856(0xdd9)),_0x26c637=document[_0x3a6856(0x242)]('highlighter-tools-group'),_0xbcf0ee=document[_0x3a6856(0x242)](_0x3a6856(0x64d)),_0x2edcd5=[_0x4ebe7d,_0x43ee72,_0x5879dd,_0x118ef8];document[_0x3a6856(0x242)]('scratchpad-close-btn')['addEventListener'](_0x3a6856(0xc23),()=>_0x16c5e0[_0x3a6856(0xe19)][_0x3a6856(0x27c)]('hidden')),document[_0x3a6856(0x242)](_0x3a6856(0x4ab))[_0x3a6856(0x264)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x3a6856(0x242)](_0x3a6856(0x52b))[_0x3a6856(0x264)](_0x3a6856(0xc23),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x3a6856(0x242)](_0x3a6856(0x47c))[_0x3a6856(0x264)]('click',undo),document[_0x3a6856(0x242)](_0x3a6856(0x950))['addEventListener']('click',redo);const _0xbf8540=_0x5fd3b2=>{const _0xd4a420=_0x3a6856;_0x2edcd5[_0xd4a420(0xbdf)](_0x53f208=>_0x53f208[_0xd4a420(0xe19)][_0xd4a420(0x677)](_0xd4a420(0xc93))),_0x5fd3b2[_0xd4a420(0xe19)][_0xd4a420(0x27c)](_0xd4a420(0xc93)),_0x1970d0[_0xd4a420(0xe19)][_0xd4a420(0x27c)](_0xd4a420(0x414)),_0x26c637[_0xd4a420(0xe19)][_0xd4a420(0x27c)]('hidden'),_0xbcf0ee[_0xd4a420(0xe19)][_0xd4a420(0x27c)](_0xd4a420(0x414));if(activeTool===_0xd4a420(0xa93)||activeTool===_0xd4a420(0x346))_0x1970d0[_0xd4a420(0xe19)][_0xd4a420(0x677)]('hidden');else{if(activeTool==='highlighter')_0x26c637[_0xd4a420(0xe19)][_0xd4a420(0x677)](_0xd4a420(0x414));else activeTool===_0xd4a420(0xbc5)&&_0xbcf0ee[_0xd4a420(0xe19)][_0xd4a420(0x677)](_0xd4a420(0x414));}};_0x4ebe7d['addEventListener']('click',()=>{activeTool='pen',_0xbf8540(_0x4ebe7d);}),_0x43ee72['addEventListener'](_0x3a6856(0xc23),()=>{const _0x58cb89=_0x3a6856;activeTool=_0x58cb89(0xbc5),_0xbf8540(_0x43ee72);}),_0x5879dd['addEventListener']('click',()=>{activeTool='trail',_0xbf8540(_0x5879dd);}),_0x118ef8[_0x3a6856(0x264)](_0x3a6856(0xc23),()=>{const _0x1a409f=_0x3a6856;activeTool=_0x1a409f(0xc47),_0xbf8540(_0x118ef8);}),_0x1970d0[_0x3a6856(0x99b)]('.pen-size-btn')[_0x3a6856(0xbdf)](_0x386847=>{const _0xda23a7=_0x3a6856;_0x386847[_0xda23a7(0x264)](_0xda23a7(0xc23),_0x100273=>{const _0x430b28=_0xda23a7;scratchpadPenSize=parseInt(_0x100273['target'][_0x430b28(0xb42)][_0x430b28(0x93b)],0xa),_0x1970d0[_0x430b28(0x99b)]('.pen-size-btn')[_0x430b28(0xbdf)](_0x183ebf=>_0x183ebf[_0x430b28(0xe19)][_0x430b28(0x677)](_0x430b28(0xc93))),_0x100273[_0x430b28(0x230)][_0x430b28(0xe19)][_0x430b28(0x27c)](_0x430b28(0xc93));});}),_0xbcf0ee[_0x3a6856(0x99b)](_0x3a6856(0x5b3))[_0x3a6856(0xbdf)](_0x4324cf=>{const _0xf79c76=_0x3a6856;_0x4324cf[_0xf79c76(0x264)](_0xf79c76(0xc23),_0x63de30=>{const _0x67e0bb=_0xf79c76,_0x237a45=_0x63de30[_0x67e0bb(0x479)];scratchpadEraserSize=parseInt(_0x237a45[_0x67e0bb(0xb42)][_0x67e0bb(0x93b)],0xa),_0xbcf0ee['querySelectorAll'](_0x67e0bb(0x5b3))[_0x67e0bb(0xbdf)](_0x4d8129=>_0x4d8129[_0x67e0bb(0xe19)][_0x67e0bb(0x677)]('active')),_0x237a45[_0x67e0bb(0xe19)][_0x67e0bb(0x27c)](_0x67e0bb(0xc93));});}),_0x1970d0[_0x3a6856(0x99b)](_0x3a6856(0x173))['forEach'](_0x2e3f6a=>{_0x2e3f6a['addEventListener']('click',_0x13c376=>{const _0x47d2f3=_0x5ef1;scratchpadPenColor=_0x13c376[_0x47d2f3(0x230)][_0x47d2f3(0xb42)][_0x47d2f3(0x337)],_0x1970d0[_0x47d2f3(0x99b)]('.pen-color-btn')[_0x47d2f3(0xbdf)](_0x3585ec=>_0x3585ec[_0x47d2f3(0xe19)][_0x47d2f3(0x677)]('active')),_0x13c376['target']['classList'][_0x47d2f3(0x27c)](_0x47d2f3(0xc93));});}),_0x26c637[_0x3a6856(0x99b)](_0x3a6856(0xb21))[_0x3a6856(0xbdf)](_0x3a0f1a=>{const _0x2b1410=_0x3a6856;_0x3a0f1a[_0x2b1410(0x264)](_0x2b1410(0xc23),_0x107572=>{const _0x56a2b1=_0x2b1410;scratchpadHighlighterColor=_0x107572['target'][_0x56a2b1(0xb42)][_0x56a2b1(0x337)],_0x26c637[_0x56a2b1(0x99b)](_0x56a2b1(0xb21))[_0x56a2b1(0xbdf)](_0x341693=>_0x341693[_0x56a2b1(0xe19)][_0x56a2b1(0x677)](_0x56a2b1(0xc93))),_0x107572[_0x56a2b1(0x230)][_0x56a2b1(0xe19)][_0x56a2b1(0x27c)]('active');});});const _0x1aefc1=document[_0x3a6856(0x242)]('highlighter-size-slider'),_0x528423=document[_0x3a6856(0x242)](_0x3a6856(0x2c9));_0x1aefc1[_0x3a6856(0x264)](_0x3a6856(0x746),_0x26eb51=>{const _0x5f593d=_0x3a6856,_0x2ade28=parseInt(_0x26eb51[_0x5f593d(0x230)][_0x5f593d(0xbfb)],0xa);scratchpadHighlighterSize=_0x2ade28,_0x528423[_0x5f593d(0xafa)]=_0x2ade28;}),window[_0x3a6856(0x264)](_0x3a6856(0x7b8),()=>{const _0x605877=_0x3a6856;!_0x16c5e0[_0x605877(0xe19)][_0x605877(0x52e)](_0x605877(0x414))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x1dab5f(0x450),'description':_0x1dab5f(0xa69),'icon':_0x1dab5f(0x719)},'QUICK_THINKER':{'id':_0x1dab5f(0xa6f),'name':_0x1dab5f(0xb90),'description':_0x1dab5f(0x251),'icon':_0x1dab5f(0x8dc)},'ON_FIRE':{'id':_0x1dab5f(0x3d1),'name':'ท็อปฟอร์ม','description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x1dab5f(0x45b),'name':_0x1dab5f(0xc7b),'description':_0x1dab5f(0xac7),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x1dab5f(0xa8a),'name':_0x1dab5f(0x5a3),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x1dab5f(0xc1a),'name':_0x1dab5f(0x28f),'description':_0x1dab5f(0x836),'icon':_0x1dab5f(0x481)},'PERSEVERANCE':{'id':'perseverance','name':'ผู้ไม่ยอมแพ้','description':_0x1dab5f(0x477),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x1dab5f(0x77c),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x1dab5f(0xa3b),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':'274192258111','appId':_0x1dab5f(0xbc8),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x1dab5f(0x558)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x1dab5f(0x242)](_0x1dab5f(0xd40)),studentView=document['getElementById'](_0x1dab5f(0x7ee)),projectDashboardView=document[_0x1dab5f(0x242)](_0x1dab5f(0x417)),projectDetailView=document[_0x1dab5f(0x242)]('project-detail-view'),quizResultsView=document[_0x1dab5f(0x242)](_0x1dab5f(0xbba)),projectList=document['getElementById']('project-list'),noProjectsMsg=document['getElementById'](_0x1dab5f(0x505)),projectTitle=document[_0x1dab5f(0x242)](_0x1dab5f(0xe02)),projectIdDisplay=document[_0x1dab5f(0x242)]('project-id-display'),studentList=document[_0x1dab5f(0x242)]('student-list'),messageModal=document[_0x1dab5f(0x242)]('message-modal'),modalMessage=document[_0x1dab5f(0x242)](_0x1dab5f(0x890)),createProjectModal=document[_0x1dab5f(0x242)](_0x1dab5f(0x8b0)),adminPasswordModal=document[_0x1dab5f(0x242)](_0x1dab5f(0x699)),confirmationModal=document[_0x1dab5f(0x242)]('confirmation-modal'),userIdDisplay=document[_0x1dab5f(0x242)]('user-id-display'),topicTab=document['getElementById'](_0x1dab5f(0xb7b)),textTab=document[_0x1dab5f(0x242)]('text-tab'),topicInputArea=document[_0x1dab5f(0x242)]('topic-input-area'),textInputArea=document[_0x1dab5f(0x242)](_0x1dab5f(0x18b)),manageTab=document['getElementById'](_0x1dab5f(0x119)),resultsTab=document[_0x1dab5f(0x242)](_0x1dab5f(0x323)),leaderboardTab=document[_0x1dab5f(0x242)](_0x1dab5f(0x839)),manageTabContent=document[_0x1dab5f(0x242)](_0x1dab5f(0xbb3)),resultsTabContent=document[_0x1dab5f(0x242)](_0x1dab5f(0x22f)),leaderboardTabContent=document[_0x1dab5f(0x242)](_0x1dab5f(0x4f3)),projectQuizzesList=document[_0x1dab5f(0x242)](_0x1dab5f(0x6db)),fileTab=document[_0x1dab5f(0x242)](_0x1dab5f(0xcbe)),fileInputArea=document[_0x1dab5f(0x242)](_0x1dab5f(0x8ed)),fileUploadInput=document[_0x1dab5f(0x242)](_0x1dab5f(0x35b)),worksheetTab=document[_0x1dab5f(0x242)]('worksheet-tab'),worksheetInputArea=document[_0x1dab5f(0x242)](_0x1dab5f(0xd1b)),generateWorksheetBtn=document[_0x1dab5f(0x242)](_0x1dab5f(0x371)),studentInitialView=document[_0x1dab5f(0x242)](_0x1dab5f(0xc2a)),studentNameSelectionView=document[_0x1dab5f(0x242)](_0x1dab5f(0x486)),studentQuizArea=document['getElementById'](_0x1dab5f(0x6e8)),studentResultArea=document[_0x1dab5f(0x242)](_0x1dab5f(0x857)),studentReadingArea=document['getElementById'](_0x1dab5f(0x776)),loadQuizBtn=document[_0x1dab5f(0x242)](_0x1dab5f(0xd76)),startQuizBtn=document[_0x1dab5f(0x242)]('start-quiz-btn'),studentJoinGameView=document[_0x1dab5f(0x242)](_0x1dab5f(0xbf5)),presentationModal=document[_0x1dab5f(0x242)]('presentation-modal'),renameQuizModal=document[_0x1dab5f(0x242)](_0x1dab5f(0x26d)),moveQuizModal=document[_0x1dab5f(0x242)](_0x1dab5f(0x7cb)),quizSettingsModal=document[_0x1dab5f(0x242)](_0x1dab5f(0xa9e)),quizStatusModal=document['getElementById'](_0x1dab5f(0x1a7)),liveGameView=document[_0x1dab5f(0x242)](_0x1dab5f(0xc99));function handleFixLessonLatex(){const _0x26d764=_0x1dab5f,_0xb37866=document['getElementById']('lesson-view-content');if(!_0xb37866){showMessage(_0x26d764(0xcf7));return;}const _0x2b35eb=_0xb37866[_0x26d764(0x99b)]([_0x26d764(0x5f8),_0x26d764(0xdbe),_0x26d764(0x1fd),'.ai-content\x20td',_0x26d764(0x703)][_0x26d764(0xe10)](','));let _0x146a8a=0x0;const _0xd7f2c=_0x47f720=>_0x47f720[_0x26d764(0xafa)]||'',_0x41be3e=(_0x19e9b1,_0x4cb496)=>{const _0x356a82=_0x26d764;if(_0x19e9b1['querySelector']&&_0x19e9b1[_0x356a82(0xb19)](_0x356a82(0x273)))return;_0x19e9b1[_0x356a82(0xafa)]=_0x4cb496;},_0x3cf488=_0x3bc95b=>_0x3bc95b[_0x26d764(0x38c)](/\u00A0/g,'\x20')[_0x26d764(0x38c)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x37bf72=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x44a875=_0x5f30ea=>{const _0x5ec148=_0x26d764;let _0x24948d=_0x5f30ea[_0x5ec148(0xb6d)]();const _0x9c92c7=[_0x5ec148(0xdd0),'dfrac',_0x5ec148(0x319),_0x5ec148(0x642),_0x5ec148(0xad0),'times','cdot','div',_0x5ec148(0x4e9),_0x5ec148(0xc09),'le','ge',_0x5ec148(0xc48),'pm',_0x5ec148(0xadf),_0x5ec148(0xdb6),_0x5ec148(0xacf),_0x5ec148(0xb34),_0x5ec148(0x383),'ln','sum',_0x5ec148(0x712),_0x5ec148(0x2ae),'left','right',_0x5ec148(0x54e),_0x5ec148(0x5a6),_0x5ec148(0x8a7),'deg'];_0x9c92c7[_0x5ec148(0xbdf)](_0x2817c0=>{const _0x14dcb0=_0x5ec148;_0x24948d=_0x24948d[_0x14dcb0(0x38c)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x2817c0+'\x5cb','g'),(_0x12d9d1,_0x84f103)=>_0x84f103+'\x5c'+_0x2817c0);});const _0x3fc153=[[/×/g,_0x5ec148(0xb32)],[/·/g,'\x5ccdot'],[/÷/g,_0x5ec148(0x66c)],[/≤/g,_0x5ec148(0x609)],[/≥/g,_0x5ec148(0x21f)],[/≠/g,'\x5cneq'],[/±/g,_0x5ec148(0x2b3)],[/∑/g,_0x5ec148(0x77f)],[/−/g,'-']];return _0x3fc153[_0x5ec148(0xbdf)](([_0x288258,_0x495427])=>{const _0x4b921a=_0x5ec148;_0x24948d=_0x24948d[_0x4b921a(0x38c)](_0x288258,_0x495427);}),_0x24948d=_0x24948d[_0x5ec148(0x38c)](/√\s*([A-Za-z0-9]+)/g,_0x5ec148(0x274)),_0x24948d=_0x24948d[_0x5ec148(0x38c)](/(\d+)\s*%/g,_0x5ec148(0x6e6)),_0x24948d;},_0x5a22b0=_0x3d56da=>{const _0x31d28c=_0x26d764;if(/\$|\\\(|\\\[/[_0x31d28c(0x8cb)](_0x3d56da))return _0x3d56da;if(!_0x37bf72[_0x31d28c(0x8cb)](_0x3d56da))return _0x3d56da;const _0x3bdfa8=_0x3d56da[_0x31d28c(0xa21)](/^\s*/)[0x0],_0x44f235=_0x3d56da[_0x31d28c(0xa21)](/\s*$/)[0x0],_0x47068d=_0x3d56da[_0x31d28c(0xb6d)]();return _0x3bdfa8+'$'+_0x44a875(_0x47068d)+'$'+_0x44f235;};_0x2b35eb[_0x26d764(0xbdf)](_0x21ef66=>{const _0x525a16=_0x26d764,_0x1a0d0b=_0xd7f2c(_0x21ef66);let _0x3df833=_0x3cf488(_0x1a0d0b);_0x3df833=_0x3df833[_0x525a16(0x38c)](/\$([^$]*?)\$/g,(_0xe298af,_0x24e9a0)=>'$'+_0x44a875(_0x24e9a0)+'$');const _0x17bbec=_0x3df833[_0x525a16(0xdcd)](/(\s+)/),_0x86b8ee=_0x17bbec[_0x525a16(0xdc6)](_0x1ca9cc=>{if(/\s+/['test'](_0x1ca9cc))return _0x1ca9cc;return _0x5a22b0(_0x1ca9cc);});_0x3df833=_0x86b8ee[_0x525a16(0xe10)](''),_0x3df833!==_0x1a0d0b&&(_0x41be3e(_0x21ef66,_0x3df833),_0x146a8a++);});if(_0x146a8a>0x0){showMessage(_0x26d764(0x7cd)+_0x146a8a+_0x26d764(0x227));try{window[_0x26d764(0x972)]&&MathJax['typesetPromise']&&MathJax[_0x26d764(0xde3)]([_0xb37866]);}catch(_0x5b81c8){console[_0x26d764(0xd98)]('MathJax\x20re-render\x20failed:',_0x5b81c8);}}else showMessage(_0x26d764(0x86d));}function handleAutoFixLatex(){const _0xc8fed=_0x1dab5f,_0xdbecc=document[_0xc8fed(0x242)](_0xc8fed(0x82d))||document,_0xd504b9=_0xdbecc[_0xc8fed(0x99b)](_0xc8fed(0x51d));let _0xee05f6=0x0;const _0x1642b9=_0x36cb81=>_0xc8fed(0xbfb)in _0x36cb81?String(_0x36cb81[_0xc8fed(0xbfb)]):_0x36cb81[_0xc8fed(0x9f5)]!==undefined?_0x36cb81[_0xc8fed(0x9f5)]:_0x36cb81['textContent']||'',_0x315c6e=(_0xee85f2,_0xa1d151)=>{const _0x29e07f=_0xc8fed;if(_0x29e07f(0xbfb)in _0xee85f2){_0xee85f2[_0x29e07f(0xbfb)]=_0xa1d151;return;}if(_0xee85f2[_0x29e07f(0xb19)]&&_0xee85f2['querySelector'](_0x29e07f(0x273)))return;if(_0xee85f2[_0x29e07f(0x9f5)]!==undefined)_0xee85f2[_0x29e07f(0x9f5)]=_0xa1d151;else _0xee85f2['textContent']=_0xa1d151;},_0x2dd5c4=_0x2fa3cf=>_0x2fa3cf[_0xc8fed(0x38c)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0xc8fed(0x38c)](/\r\n?/g,'\x0a'),_0x19aedd=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x18df6a=_0x504370=>{const _0x1e343d=_0xc8fed;let _0x11fe81=_0x504370[_0x1e343d(0xb6d)]();_0x11fe81=_0x11fe81[_0x1e343d(0x38c)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x1e343d(0xba1)),_0x11fe81=_0x11fe81[_0x1e343d(0x38c)](/\bfrac(\d)(\d)/g,_0x1e343d(0xba1));const _0x19129d=['frac',_0x1e343d(0x642),'times',_0x1e343d(0x31e),'div','leq',_0x1e343d(0xc09),_0x1e343d(0xc48),'pm','sin',_0x1e343d(0xacf),'tan','log','ln'];_0x19129d[_0x1e343d(0xbdf)](_0x2359c0=>{const _0x3273e4=_0x1e343d;_0x11fe81=_0x11fe81[_0x3273e4(0x38c)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x2359c0+'\x5cb','g'),(_0x4f051d,_0x3f10f3)=>_0x3f10f3+'\x5c'+_0x2359c0);});const _0x14cba6=[[/×/g,_0x1e343d(0xb32)],[/·/g,_0x1e343d(0xb5a)],[/÷/g,'\x5cdiv'],[/≤/g,_0x1e343d(0x609)],[/≥/g,_0x1e343d(0x21f)],[/≠/g,_0x1e343d(0xaac)],[/±/g,'\x5cpm']];return _0x14cba6[_0x1e343d(0xbdf)](([_0x3536bd,_0x4da156])=>{const _0x504d31=_0x1e343d;_0x11fe81=_0x11fe81[_0x504d31(0x38c)](_0x3536bd,_0x4da156);}),_0x11fe81;},_0x243290=_0x540e98=>{const _0x5a7815=_0xc8fed;if(/\$|\\\(|\\\[/[_0x5a7815(0x8cb)](_0x540e98))return _0x540e98;if(!_0x19aedd[_0x5a7815(0x8cb)](_0x540e98))return _0x540e98;const _0x1089bb=_0x540e98[_0x5a7815(0xa21)](/^\s*/)[0x0],_0x3535e0=_0x540e98[_0x5a7815(0xa21)](/\s*$/)[0x0],_0x1aa617=_0x540e98[_0x5a7815(0xb6d)]();return _0x1089bb+'$'+_0x18df6a(_0x1aa617)+'$'+_0x3535e0;};_0xd504b9[_0xc8fed(0xbdf)](_0x1560b7=>{const _0xe78257=_0xc8fed,_0x56eb7a=_0x1642b9(_0x1560b7);let _0x417b95=_0x2dd5c4(_0x56eb7a);_0x417b95=_0x417b95['replace'](/\$([^$]*?)\$/g,(_0x110d6d,_0x5e40d0)=>'$'+_0x18df6a(_0x5e40d0)+'$');const _0x7dea17=_0x417b95['split'](/(\s+)/),_0x371887=_0x7dea17[_0xe78257(0xdc6)](_0x50d8c6=>/\s+/['test'](_0x50d8c6)?_0x50d8c6:_0x243290(_0x50d8c6));_0x417b95=_0x371887[_0xe78257(0xe10)](''),_0x417b95!==_0x56eb7a&&(_0x315c6e(_0x1560b7,_0x417b95),_0xee05f6++);});if(_0xee05f6>0x0){showMessage(_0xc8fed(0x9ab)+_0xee05f6+_0xc8fed(0x220));try{if(window[_0xc8fed(0x972)]&&MathJax['typesetPromise'])MathJax[_0xc8fed(0xde3)]();}catch(_0x32dd80){}}else showMessage(_0xc8fed(0x5e3));}async function listenForCustomMathTopics(){const _0x3c96bb=_0x1dab5f,_0x1154ad=collection(db,_0x3c96bb(0xb99)+appId+_0x3c96bb(0xc83));onSnapshot(_0x1154ad,_0x1d1ebb=>{const _0x3b99d8=_0x3c96bb;customMathTopics=_0x1d1ebb[_0x3b99d8(0x5ab)][_0x3b99d8(0xdc6)](_0x2a8ec6=>({'id':_0x2a8ec6['id'],..._0x2a8ec6['data']()})),renderTopicCheckboxes();},_0x16f792=>{const _0x5912a1=_0x3c96bb;console[_0x5912a1(0xd98)](_0x5912a1(0x686),_0x16f792);});}function handleSelectAllTopics(){const _0x4594b5=_0x1dab5f,_0x21a764=document[_0x4594b5(0x242)](_0x4594b5(0x158)),_0x7a7cf=_0x21a764[_0x4594b5(0x99b)]('input[type=\x22checkbox\x22]');_0x7a7cf[_0x4594b5(0xbdf)](_0x508e02=>{_0x508e02['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x38c81d=_0x1dab5f,_0x2ce94e=document[_0x38c81d(0x242)]('math-topics-checkbox-container'),_0x55fe11=_0x2ce94e[_0x38c81d(0x99b)](_0x38c81d(0x218));_0x55fe11[_0x38c81d(0xbdf)](_0x30d00f=>{const _0x299895=_0x38c81d;_0x30d00f[_0x299895(0xa7e)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x6078ea){const _0x4e73b4=_0x1dab5f;if(!_0x6078ea)return;try{const _0xe2a8ab=doc(db,_0x4e73b4(0xb99)+appId+_0x4e73b4(0xc83),_0x6078ea);await deleteDoc(_0xe2a8ab),showMessage(_0x4e73b4(0xa88));}catch(_0xfa6d51){console[_0x4e73b4(0xd98)](_0x4e73b4(0xb28),_0xfa6d51),showMessage(_0x4e73b4(0x59f));}}async function handleAddCustomMathTopic(){const _0x30a407=_0x1dab5f,_0x428e14=document[_0x30a407(0x242)](_0x30a407(0x263)),_0x6ca114=_0x428e14['value'][_0x30a407(0xb6d)]();if(!_0x6ca114){showMessage(_0x30a407(0x2b4));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x1ab32a=collection(db,_0x30a407(0xb99)+appId+_0x30a407(0xc83));await addDoc(_0x1ab32a,{'name':_0x6ca114,'createdAt':serverTimestamp()}),_0x428e14['value']='',showMessage(_0x30a407(0x7f1)+_0x6ca114+'\x22\x20สำเร็จ');}catch(_0x2f81ec){console['error'](_0x30a407(0x141),_0x2f81ec),showMessage(_0x30a407(0xa29));}}async function handleUpdateOldQuizzes(){const _0x5653d3=_0x1dab5f;showConfirmation(_0x5653d3(0x390),async()=>{const _0x148f39=_0x5653d3,_0x29d205=document[_0x148f39(0x242)](_0x148f39(0x715)),_0x4506bf=document[_0x148f39(0x242)](_0x148f39(0xdd3)),_0xac4099=_0x4506bf[_0x148f39(0xafa)];_0x29d205['classList'][_0x148f39(0x677)](_0x148f39(0x414)),_0x4506bf[_0x148f39(0xafa)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x338b11=collection(db,_0x148f39(0xb99)+appId+_0x148f39(0x48d)),_0x4070be=await getDocs(_0x338b11);if(_0x4070be[_0x148f39(0x57e)]){showMessage(_0x148f39(0x1e0));return;}const _0x75296a=writeBatch(db);let _0x3cd4d0=0x0;_0x4070be[_0x148f39(0xbdf)](_0x1986bf=>{const _0x3c0271=_0x148f39,_0x49184d=_0x1986bf[_0x3c0271(0x1f1)](),_0x46ce69=_0x1986bf['id'];if(_0x49184d[_0x3c0271(0x3ef)]&&_0x49184d[_0x3c0271(0x3ef)][_0x3c0271(0x283)]>0x0&&!_0x49184d['questions'][0x0][_0x3c0271(0x34b)]('id')){console[_0x3c0271(0x383)](_0x3c0271(0x39f)+_0x46ce69+'\x20('+_0x49184d[_0x3c0271(0xe0e)]+')'),_0x3cd4d0++;const _0x257ae2=_0x49184d['questions'][_0x3c0271(0xdc6)]((_0x2dd50b,_0x1e1027)=>{return{..._0x2dd50b,'id':_0x2dd50b['id']||'q_'+Date['now']()+'_'+_0x46ce69+'_'+_0x1e1027};}),_0x4ff1f8=doc(db,_0x3c0271(0xb99)+appId+_0x3c0271(0x48d),_0x46ce69);_0x75296a['update'](_0x4ff1f8,{'questions':_0x257ae2});}}),_0x3cd4d0>0x0?(_0x4506bf[_0x148f39(0xafa)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x3cd4d0+_0x148f39(0xc72),await _0x75296a[_0x148f39(0x45c)](),showMessage(_0x148f39(0x704)+_0x3cd4d0+_0x148f39(0xa53))):showMessage(_0x148f39(0x1c0));}catch(_0xc78f92){console[_0x148f39(0xd98)](_0x148f39(0x8bc),_0xc78f92),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0xc78f92['message']);}finally{_0x29d205[_0x148f39(0xe19)]['add']('hidden'),_0x4506bf[_0x148f39(0xafa)]=_0xac4099;}});}async function handleBulkUpdateQuizSettings(){const _0x1ecea8=_0x1dab5f,_0x4042fa={'shuffle':document[_0x1ecea8(0x242)](_0x1ecea8(0x3f2))['value'],'resultsDisplay':document['getElementById']('bulk-results-display-select')[_0x1ecea8(0xbfb)],'loopUntilPass':document[_0x1ecea8(0x242)](_0x1ecea8(0x508))[_0x1ecea8(0xa7e)],'isConfidenceScoringEnabled':document['getElementById'](_0x1ecea8(0x6c9))[_0x1ecea8(0xa7e)],'confidenceMode':document[_0x1ecea8(0x242)](_0x1ecea8(0xdf7))[_0x1ecea8(0xbfb)]};try{showMessage(_0x1ecea8(0x8a5));const _0x2cbd59=await getDocs(collection(db,_0x1ecea8(0xb99)+appId+'/public/data/quizzes')),_0xef2651=_0x2cbd59[_0x1ecea8(0x5ab)][_0x1ecea8(0xdc6)](_0x5b3e0d=>({'id':_0x5b3e0d['id'],'data':_0x5b3e0d[_0x1ecea8(0x1f1)]()})),_0x529de5=_0xef2651['length'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x529de5+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x51df97=_0x1ecea8,_0x3db774=document['getElementById']('confirm-bulk-quiz-settings-btn');_0x3db774[_0x51df97(0xd66)]=!![],_0x3db774['innerHTML']=_0x51df97(0x654);try{const _0x532e49=writeBatch(db);_0xef2651[_0x51df97(0xbdf)](_0x2d7646=>{const _0x25bff6=_0x51df97,_0x1bf3d0=doc(db,_0x25bff6(0xb99)+appId+'/public/data/quizzes',_0x2d7646['id']),_0x15dd20={..._0x2d7646[_0x25bff6(0x1f1)][_0x25bff6(0x491)]||{},..._0x4042fa};_0x532e49['update'](_0x1bf3d0,{'settings':_0x15dd20});}),await _0x532e49[_0x51df97(0x45c)](),document[_0x51df97(0x242)](_0x51df97(0x448))['classList']['add'](_0x51df97(0x414)),showMessage(_0x51df97(0xbd3)+_0x529de5+_0x51df97(0xc6a));}catch(_0x1095ed){console[_0x51df97(0xd98)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x1095ed),showMessage(_0x51df97(0xe1b));}finally{_0x3db774[_0x51df97(0xd66)]=![],_0x3db774[_0x51df97(0x90d)]=_0x51df97(0x386);}});}catch(_0x308e7e){console[_0x1ecea8(0xd98)](_0x1ecea8(0x771),_0x308e7e),showMessage(_0x1ecea8(0x56d));}}async function handleSaveProjectName(){const _0x3b5771=_0x1dab5f,_0x1fb6d5=document[_0x3b5771(0x242)](_0x3b5771(0xe02)),_0x4d3a1a=document[_0x3b5771(0x242)](_0x3b5771(0x2f7)),_0x1b098d=_0x1fb6d5[_0x3b5771(0xafa)][_0x3b5771(0xb6d)]();if(!_0x1b098d||!currentProjectId){showMessage(_0x3b5771(0x923)),_0x1fb6d5['textContent']=currentProjectData[_0x3b5771(0x7c8)];return;}_0x4d3a1a[_0x3b5771(0xd66)]=!![],_0x4d3a1a[_0x3b5771(0x90d)]=_0x3b5771(0xc11);try{const _0x2d802f=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x2d802f,{'projectName':_0x1b098d}),currentProjectData&&(currentProjectData[_0x3b5771(0x7c8)]=_0x1b098d),showMessage(_0x3b5771(0x3d2));}catch(_0x46c82d){console[_0x3b5771(0xd98)]('Error\x20updating\x20project\x20name:',_0x46c82d),showMessage(_0x3b5771(0xc8d)),_0x1fb6d5[_0x3b5771(0xafa)]=currentProjectData[_0x3b5771(0x7c8)];}finally{_0x4d3a1a['classList'][_0x3b5771(0x27c)](_0x3b5771(0x414)),_0x4d3a1a[_0x3b5771(0xd66)]=![],_0x4d3a1a[_0x3b5771(0x90d)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x52738b,_0x286aa8){const _0x3edf93=_0x1dab5f,_0x5c7be1=document[_0x3edf93(0x242)](_0x3edf93(0x1f7)),_0x525c60=document[_0x3edf93(0x242)](_0x3edf93(0x806)),_0x1bef40=document[_0x3edf93(0x242)](_0x3edf93(0x152)),_0x3b26d9=document[_0x3edf93(0x242)]('lesson-sections-container');_0x525c60[_0x3edf93(0xafa)]='กำลังสร้างแบบทดสอบ:\x20'+_0x52738b,_0x3b26d9[_0x3edf93(0xe19)][_0x3edf93(0x27c)]('hidden'),_0x1bef40[_0x3edf93(0xe19)][_0x3edf93(0x677)](_0x3edf93(0x414)),_0x5c7be1[_0x3edf93(0xe19)][_0x3edf93(0x677)](_0x3edf93(0x414)),generatePracticeTest(_0x52738b,_0x286aa8)['catch'](_0x2ddedd=>{const _0x4681c5=_0x3edf93;console['error']('Failed\x20to\x20generate\x20practice\x20test:',_0x2ddedd),showMessage(_0x4681c5(0x187)),_0x5c7be1[_0x4681c5(0xe19)]['add'](_0x4681c5(0x414));});}async function generatePracticeTest(_0x142ce1,_0xbb190){const _0x418b19=_0x1dab5f;[_0x418b19(0x949),_0x418b19(0x470),_0x418b19(0x6c8),_0x418b19(0x8fc)][_0x418b19(0xbdf)](_0x3f2ed6=>{const _0x4964ff=_0x418b19,_0x32b767=document['getElementById'](_0x3f2ed6)['parentElement'];_0x32b767&&(_0x32b767[_0x4964ff(0x271)]['display']=_0x4964ff(0x7d3));});try{const _0x4c1ad9='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x589ff2=_0x418b19(0xb8c)+_0xbb190+'\x27\x20ในหัวข้อ\x20\x27'+_0x142ce1+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x6474fa=await callGemini(_0x589ff2,!![]),_0x19e2c1=document[_0x418b19(0x242)](_0x418b19(0x806)),_0x2c6585=document[_0x418b19(0x242)](_0x418b19(0x152)),_0x22a7cb=document[_0x418b19(0x242)](_0x418b19(0x91f)),_0xa84952=document[_0x418b19(0x242)](_0x418b19(0x6c8))[_0x418b19(0xc0d)];_0x19e2c1[_0x418b19(0x9f5)]=_0x418b19(0x2b6)+_0x142ce1[_0x418b19(0x38c)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0xbb190+')',currentApplicationData=JSON[_0x418b19(0x942)](_0x6474fa);const _0x54f9f5=document['getElementById'](_0x418b19(0x6c8));_0x54f9f5['innerHTML']=currentApplicationData[_0x418b19(0xdc6)]((_0x29ad60,_0x2d684c)=>_0x418b19(0x33d)+(_0x2d684c+0x1)+'.\x20'+marked['parseInline'](_0x29ad60[_0x418b19(0x7e7)])+_0x418b19(0xb09)+_0x2d684c+_0x418b19(0x817)+_0x29ad60[_0x418b19(0x381)][_0x418b19(0xdc6)]((_0x3b4fdd,_0x5c84a9)=>_0x418b19(0x4e6)+_0x2d684c+',\x20'+_0x5c84a9+')\x22>'+String[_0x418b19(0xa1c)](0x61+_0x5c84a9)+'.\x20'+marked['parseInline'](_0x3b4fdd)+_0x418b19(0xcea))[_0x418b19(0xe10)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x418b19(0xe10)](''),window[_0x418b19(0x972)]&&MathJax['typesetPromise']([_0x54f9f5]),_0xa84952&&(_0xa84952[_0x418b19(0x271)][_0x418b19(0x90e)]=_0x418b19(0x4aa)),_0x2c6585[_0x418b19(0xe19)][_0x418b19(0x27c)]('hidden'),_0x22a7cb[_0x418b19(0xe19)][_0x418b19(0x677)](_0x418b19(0x414));}catch(_0x1d53d1){console[_0x418b19(0xd98)](_0x1d53d1);throw _0x1d53d1;}}async function callGemini(_0x5a8cec,_0x5474c6=![]){const _0x220d1f=_0x1dab5f,_0x5deb67=_0x220d1f(0xa41),_0x1b8d30=_0x220d1f(0x59b)+_0x5deb67,_0x24b135={'contents':[{'parts':[{'text':_0x5a8cec}]}]};_0x5474c6&&(_0x24b135[_0x220d1f(0x53f)]={'responseMimeType':_0x220d1f(0xbe0)},_0x5a8cec[_0x220d1f(0x87f)](_0x220d1f(0x7fe))?_0x24b135[_0x220d1f(0x53f)]['responseSchema']={'type':_0x220d1f(0x674),'properties':{'gradeLevel':{'type':_0x220d1f(0xb13)},'curriculum':{'type':_0x220d1f(0xa3a),'items':{'type':'OBJECT','properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x220d1f(0xa3a),'items':{'type':_0x220d1f(0x674),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x220d1f(0xa3a),'items':{'type':_0x220d1f(0xb13)}}},'required':['topicName',_0x220d1f(0x95b)]}}},'required':[_0x220d1f(0x766),'mainTopics']}}},'required':[_0x220d1f(0x907),'curriculum']}:_0x24b135['generationConfig'][_0x220d1f(0x496)]={'type':_0x220d1f(0xa3a),'items':{'type':_0x220d1f(0x674),'properties':{'question':{'type':_0x220d1f(0xb13)},'options':{'type':_0x220d1f(0xa3a),'items':{'type':_0x220d1f(0xb13)}},'answer':{'type':'NUMBER'}},'required':[_0x220d1f(0x7e7),_0x220d1f(0x381),'answer']}});try{const _0x3712c6=await fetch(_0x1b8d30,{'method':_0x220d1f(0x515),'headers':{'Content-Type':_0x220d1f(0xbe0)},'body':JSON['stringify'](_0x24b135)});if(!_0x3712c6['ok']){const _0x48fe62=await _0x3712c6[_0x220d1f(0xad0)]();console[_0x220d1f(0xd98)](_0x220d1f(0xa4d),_0x48fe62);throw new Error(_0x220d1f(0x9db)+_0x3712c6['status']);}const _0x1b7618=await _0x3712c6[_0x220d1f(0x2a1)]();if(_0x1b7618['candidates']&&_0x1b7618[_0x220d1f(0x548)][0x0][_0x220d1f(0x7a5)]&&_0x1b7618['candidates'][0x0]['content']['parts'][0x0])return _0x1b7618[_0x220d1f(0x548)][0x0][_0x220d1f(0x7a5)][_0x220d1f(0x1c1)][0x0]['text'];else{console[_0x220d1f(0xd98)](_0x220d1f(0xa78),_0x1b7618);if(_0x1b7618[_0x220d1f(0x548)]&&_0x1b7618[_0x220d1f(0x548)][0x0]['finishReason']===_0x220d1f(0xcbd))return JSON[_0x220d1f(0x3a5)]({'error':_0x220d1f(0x98a)});throw new Error(_0x220d1f(0x238));}}catch(_0x51011f){console[_0x220d1f(0xd98)](_0x220d1f(0xc66),_0x51011f);throw _0x51011f;}}async function generateLesson(_0x2e3cab=null,_0x4b7026=null){const _0x371f9d=_0x1dab5f,_0x515a53=_0x2e3cab,_0x38acb3=_0x4b7026||'ไม่ระบุ',_0xc7086b=document[_0x371f9d(0x242)](_0x371f9d(0x152)),_0x52cd53=document[_0x371f9d(0x242)](_0x371f9d(0x9e2));_0x52cd53[_0x371f9d(0xafa)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x515a53+_0x371f9d(0xb44);try{let _0x47c583=[];const _0x129f28=document[_0x371f9d(0x242)](_0x371f9d(0xcc4))?.[_0x371f9d(0xbfb)][_0x371f9d(0xb6d)]();if(_0x129f28)try{_0x52cd53[_0x371f9d(0xafa)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x3559bc=await fetchFileFromUrl(_0x129f28,'reference_onet.pdf'),_0x122dcc=await new Promise((_0x343cd7,_0x3ac28a)=>{const _0xae9310=_0x371f9d,_0x2cf7c0=new FileReader();_0x2cf7c0[_0xae9310(0x61b)](_0x3559bc),_0x2cf7c0[_0xae9310(0x356)]=()=>_0x343cd7(_0x2cf7c0[_0xae9310(0x96e)][_0xae9310(0xdcd)](',')[0x1]),_0x2cf7c0['onerror']=_0x3ac28a;});_0x47c583['push']({'inlineData':{'mimeType':_0x3559bc[_0x371f9d(0x41e)],'data':_0x122dcc}});}catch(_0x3a6767){console[_0x371f9d(0xd98)](_0x371f9d(0xaf3),_0x3a6767),showMessage(_0x371f9d(0x1dc));}const _0x5dbf7f=_0x371f9d(0xd3e)+_0x515a53+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x515a53+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x52cd53[_0x371f9d(0xafa)]=_0x371f9d(0x904)+_0x515a53+_0x371f9d(0xb44);const _0x2501a0=_0x371f9d(0x51e)+_0x38acb3+_0x371f9d(0x847)+_0x515a53+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x5dbf7f+_0x371f9d(0x4d2),_0x28d917=_0x371f9d(0x77b)+_0x515a53+_0x371f9d(0x792)+_0x38acb3+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x5dbf7f+_0x371f9d(0x4f4),_0x3a8553='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x38acb3+_0x371f9d(0x847)+_0x515a53+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20'+_0x5dbf7f+_0x371f9d(0x6b1),_0x500547=_0x371f9d(0xbbe)+_0x515a53+_0x371f9d(0x6a2)+_0x38acb3+_0x371f9d(0x457)+_0x5dbf7f+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x309092={'type':'ARRAY','items':{'type':_0x371f9d(0x674),'properties':{'question':{'type':_0x371f9d(0xb13)},'options':{'type':'ARRAY','items':{'type':_0x371f9d(0xb13)}},'answer':{'type':'NUMBER'}},'required':[_0x371f9d(0x7e7),_0x371f9d(0x381),'answer']}},[_0x261ad4,_0x4d7057,_0x380331,_0x5d2c9a]=await Promise[_0x371f9d(0x2af)]([handleApiCall([{'text':_0x2501a0},..._0x47c583],_0x371f9d(0x8af),null,null,![]),handleApiCall([{'text':_0x28d917},..._0x47c583],'...',null,null,![]),handleApiCall([{'text':_0x3a8553},..._0x47c583],'...',_0x309092,null,![]),handleApiCall([{'text':_0x500547},..._0x47c583],_0x371f9d(0x8af),null,null,![])]),_0x34dda8=JSON[_0x371f9d(0x3a5)](_0x380331||[]),_0x15da58=document[_0x371f9d(0x242)](_0x371f9d(0x806)),_0xf58ddc=document['getElementById']('lesson-sections-container');_0x15da58[_0x371f9d(0x9f5)]='บทเรียนเรื่อง:\x20'+_0x515a53[_0x371f9d(0x38c)](/•\\s/g,'')+_0x371f9d(0x2e9)+_0x38acb3+')',['pointContent',_0x371f9d(0x470),'summaryContent'][_0x371f9d(0xbdf)](_0x156fb4=>{const _0xe447da=_0x371f9d;document[_0xe447da(0x242)](_0x156fb4)[_0xe447da(0x90d)]='';}),document[_0x371f9d(0x242)](_0x371f9d(0x949))['innerHTML']=_0x261ad4?marked[_0x371f9d(0x942)](_0x261ad4):_0x371f9d(0x45e),document['getElementById']('memoryContent')['innerHTML']=_0x4d7057?marked['parse'](_0x4d7057):_0x371f9d(0x45e),document[_0x371f9d(0x242)](_0x371f9d(0x8fc))[_0x371f9d(0x90d)]=_0x5d2c9a?marked['parse'](_0x5d2c9a):_0x371f9d(0x45e),currentApplicationData=JSON[_0x371f9d(0x942)](_0x34dda8);const _0x2306b9=document[_0x371f9d(0x242)](_0x371f9d(0x6c8));_0x2306b9[_0x371f9d(0x90d)]=(currentApplicationData||[])['map']((_0x53dfa2,_0x44aa5a)=>_0x371f9d(0x33d)+(_0x44aa5a+0x1)+'.\x20'+marked[_0x371f9d(0x510)](_0x53dfa2[_0x371f9d(0x7e7)]||'')+_0x371f9d(0xb09)+_0x44aa5a+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x53dfa2[_0x371f9d(0x381)]||[])['map']((_0x342e41,_0x4df51d)=>_0x371f9d(0x4e6)+_0x44aa5a+',\x20'+_0x4df51d+_0x371f9d(0xdbd)+String[_0x371f9d(0xa1c)](0x61+_0x4df51d)+'.\x20'+marked[_0x371f9d(0x510)](_0x342e41||'')+_0x371f9d(0xcea))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x371f9d(0xe10)]('')||_0x371f9d(0xc87),window[_0x371f9d(0x972)]&&MathJax['typesetPromise']([_0xf58ddc]),_0xc7086b[_0x371f9d(0xe19)][_0x371f9d(0x27c)](_0x371f9d(0x414)),_0xf58ddc[_0x371f9d(0xe19)][_0x371f9d(0x677)](_0x371f9d(0x414));}catch(_0x526db3){console[_0x371f9d(0xd98)](_0x526db3);throw _0x526db3;}}function checkAnswer(_0x9ad245,_0x27a092){const _0x10cb64=_0x1dab5f,_0x570741=currentApplicationData[_0x9ad245],_0x530d48=document[_0x10cb64(0x242)]('q'+_0x9ad245+_0x10cb64(0x405)),_0x31af14=_0x530d48[_0x10cb64(0x588)]('button');for(let _0x1a268c of _0x31af14){_0x1a268c[_0x10cb64(0xd66)]=!![];}_0x27a092===_0x570741[_0x10cb64(0x5d6)]?_0x31af14[_0x27a092][_0x10cb64(0xe19)][_0x10cb64(0x27c)](_0x10cb64(0x2a3)):(_0x31af14[_0x27a092][_0x10cb64(0xe19)]['add'](_0x10cb64(0x406)),_0x31af14[_0x570741[_0x10cb64(0x5d6)]]['classList'][_0x10cb64(0x27c)](_0x10cb64(0x2a3)));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window[_0x1dab5f(0x254)]=checkAnswer,window[_0x1dab5f(0xe05)]=handleGeneratePracticeTest,window[_0x1dab5f(0xac6)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x517a9e=_0x1dab5f;try{const _0x33fc31=initializeApp(firebaseConfig);db=getFirestore(_0x33fc31),auth=getAuth(_0x33fc31),setupAuthListener(),setupEventListeners(),showView(_0x517a9e(0x53e)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0xc321fe){console[_0x517a9e(0xd98)](_0x517a9e(0x2c4),_0xc321fe),showMessage(_0x517a9e(0x39d));}}async function handleVerifyAnswersInEditor(){const _0xdd26c6=_0x1dab5f,_0x2c55b0=document[_0xdd26c6(0x242)]('quiz-editor-modal');if(!_0x2c55b0)return;const _0x4a266e=document[_0xdd26c6(0x242)](_0xdd26c6(0xc42));_0x4a266e[_0xdd26c6(0xd66)]=!![],_0x4a266e[_0xdd26c6(0x90d)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x51442b=_0x2c55b0[_0xdd26c6(0x99b)](_0xdd26c6(0x8d2)),_0x45181b=Array['from'](_0x51442b)['map']((_0x486d4e,_0x4014f7)=>{const _0x124ecb=_0xdd26c6,_0x3d4124=_0x486d4e[_0x124ecb(0xb42)][_0x124ecb(0x754)],_0x171558=_0x486d4e[_0x124ecb(0xb19)](_0x124ecb(0xc22))[_0x124ecb(0xbfb)];let _0x2b9e03=null,_0x1e2349='';switch(_0x3d4124){case _0x124ecb(0x423):const _0x30d196=_0x486d4e[_0x124ecb(0x99b)](_0x124ecb(0x85f));_0x2b9e03=Array['from'](_0x30d196)[_0x124ecb(0xdc6)](_0x4fdefc=>_0x4fdefc[_0x124ecb(0xbfb)]);const _0x387e22=_0x486d4e['querySelector'](_0x124ecb(0x81b));_0x387e22&&(_0x1e2349=_0x2b9e03[parseInt(_0x387e22[_0x124ecb(0xbfb)])]);break;case'short_answer':_0x2b9e03=[],_0x1e2349=_0x486d4e[_0x124ecb(0xb19)]('.ideal-answer-input')[_0x124ecb(0xbfb)];break;case _0x124ecb(0x66d):_0x2b9e03=[_0x124ecb(0x6cf),'false'];const _0x4b51bd=_0x486d4e[_0x124ecb(0xb19)]('input[type=\x22radio\x22]:checked');_0x1e2349=_0x4b51bd?_0x4b51bd['value']:'';break;case'matching_item':_0x2b9e03=[],_0x1e2349=_0x486d4e[_0x124ecb(0xb19)](_0x124ecb(0xd22))[_0x124ecb(0xbfb)];break;}return{'question':_0x171558,'options':_0x2b9e03,'proposedAnswer':_0x1e2349};}),_0x31018c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0xdd26c6(0x3a5)](_0x45181b)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2de1d2={'type':'ARRAY','items':{'type':_0xdd26c6(0x674),'properties':{'questionIndex':{'type':_0xdd26c6(0x2ad)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'correctOptionExists':{'type':'BOOLEAN'},'suggestedAnswer':{'type':_0xdd26c6(0xb13)},'newOptionsPayload':{'type':_0xdd26c6(0x674),'properties':{'newOptions':{'type':_0xdd26c6(0xa3a),'items':{'type':_0xdd26c6(0xb13)}},'newCorrectIndex':{'type':'NUMBER'}}}},'required':[_0xdd26c6(0x444),_0xdd26c6(0x56f),_0xdd26c6(0x2d2)]}},_0x447e14=await callAnalysisApi(_0x31018c,{'type':_0xdd26c6(0x674),'properties':{'result':_0x2de1d2},'required':[_0xdd26c6(0x96e)]});displayVerificationResultsInEditor(_0x447e14[_0xdd26c6(0x96e)]);}catch(_0x500c61){console['error'](_0xdd26c6(0x905),_0x500c61),showMessage(_0xdd26c6(0x76a));}finally{_0x4a266e[_0xdd26c6(0xd66)]=![],_0x4a266e[_0xdd26c6(0x90d)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x1a06bb){const _0x2b87d9=_0x1dab5f;_0x1a06bb[_0x2b87d9(0xbdf)](_0x357fef=>{const _0x5c408e=_0x2b87d9,_0x399c34=document[_0x5c408e(0xb19)](_0x5c408e(0x277)+_0x357fef[_0x5c408e(0x444)]+'\x22]');if(!_0x399c34)return;const _0x5483fc=_0x399c34['querySelector']('.verification-result-editor');if(_0x5483fc)_0x5483fc[_0x5c408e(0x677)]();let _0x2d799e='';if(_0x357fef[_0x5c408e(0xc9f)]&&_0x357fef['newOptionsPayload']['newOptions']){const _0x2f2786=_0x357fef[_0x5c408e(0xc9f)][_0x5c408e(0xcfb)],_0x1b7dd9=_0x357fef[_0x5c408e(0xc9f)][_0x5c408e(0x222)],_0x119dbd=_0x399c34[_0x5c408e(0xb42)][_0x5c408e(0x754)];if(_0x119dbd===_0x5c408e(0x423)){const _0x588acc=_0x399c34[_0x5c408e(0x99b)](_0x5c408e(0x85f));_0x588acc[_0x5c408e(0xbdf)]((_0x34e540,_0x4b1259)=>{_0x2f2786[_0x4b1259]?_0x34e540['value']=_0x2f2786[_0x4b1259]:_0x34e540['value']='---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---';});const _0xbf07e4=_0x399c34[_0x5c408e(0xb19)](_0x5c408e(0x945)+_0x1b7dd9+'\x22]');_0xbf07e4&&(_0xbf07e4[_0x5c408e(0xa7e)]=!![]),_0x2d799e=_0x5c408e(0x8e7),_0x399c34[_0x5c408e(0xe19)][_0x5c408e(0x27c)]('bg-yellow-200',_0x5c408e(0x225),_0x5c408e(0x7a4)),setTimeout(()=>{const _0x297724=_0x5c408e;_0x399c34[_0x297724(0xe19)][_0x297724(0x677)](_0x297724(0xcd2));},0x9c4);}}else{if(!_0x357fef['isCorrect']&&_0x357fef['suggestedAnswer']){const _0x5a2bba=_0x357fef[_0x5c408e(0xb0b)]?_0x5c408e(0xd2b):'';_0x2d799e=_0x5c408e(0x3f1)+_0x5a2bba+_0x5c408e(0x309)+_0x357fef['justification']+_0x5c408e(0xddb)+(_0x357fef[_0x5c408e(0xb0b)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x357fef[_0x5c408e(0xb0b)]+_0x5c408e(0xe0b):'')+_0x5c408e(0x74d);const _0x15d066=_0x399c34[_0x5c408e(0xb42)][_0x5c408e(0x754)],_0x1590c8=_0x161e97=>{const _0x1f73d4=_0x5c408e;if(!_0x161e97)return;_0x161e97[_0x1f73d4(0xe19)][_0x1f73d4(0x27c)]('bg-green-200',_0x1f73d4(0x225),_0x1f73d4(0x7a4)),setTimeout(()=>{const _0x4e58e5=_0x1f73d4;_0x161e97['classList'][_0x4e58e5(0x677)](_0x4e58e5(0x797));},0x9c4);};if(_0x15d066===_0x5c408e(0x423)){const _0x226811=Array[_0x5c408e(0x155)](_0x399c34[_0x5c408e(0x99b)]('input[type=\x22text\x22]')),_0x5de17f=_0x226811[_0x5c408e(0xd5f)](_0x2ca756=>_0x2ca756[_0x5c408e(0xbfb)][_0x5c408e(0xb6d)]()[_0x5c408e(0x463)]()===_0x357fef[_0x5c408e(0xb0b)]['trim']()[_0x5c408e(0x463)]());if(_0x5de17f!==-0x1){const _0x257635=_0x399c34[_0x5c408e(0xb19)]('input[type=\x22radio\x22][value=\x22'+_0x5de17f+'\x22]');_0x257635&&(_0x257635[_0x5c408e(0xa7e)]=!![],_0x1590c8(_0x257635[_0x5c408e(0xc75)](_0x5c408e(0x482))));}}else{if(_0x15d066===_0x5c408e(0xb16)||_0x15d066===_0x5c408e(0x6ca)){const _0x2f24d2=_0x399c34[_0x5c408e(0xb19)]('.ideal-answer-input,\x20.correct-response-input');_0x2f24d2&&(_0x2f24d2[_0x5c408e(0xbfb)]=_0x357fef[_0x5c408e(0xb0b)],_0x1590c8(_0x2f24d2));}else{if(_0x15d066==='true_false'){const _0x309146=_0x357fef[_0x5c408e(0xb0b)][_0x5c408e(0xb6d)]()[_0x5c408e(0x463)](),_0x49622e=_0x399c34[_0x5c408e(0xb19)](_0x5c408e(0x945)+_0x309146+'\x22]');_0x49622e&&(_0x49622e[_0x5c408e(0xa7e)]=!![],_0x1590c8(_0x49622e[_0x5c408e(0xc75)]('div')));}}}}else _0x357fef[_0x5c408e(0x56f)]&&(_0x2d799e=_0x5c408e(0xde6));}_0x399c34['insertAdjacentHTML']('beforeend',_0x2d799e);}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x11e1e4=_0x1dab5f;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x11e1e4(0x1b3));return;}const _0x395b78=document[_0x11e1e4(0x242)]('verify-answers-btn');_0x395b78[_0x11e1e4(0xd66)]=!![],_0x395b78[_0x11e1e4(0x90d)]=_0x11e1e4(0xabe);try{const _0xcee2e7=currentQuizData[_0x11e1e4(0x3ef)][_0x11e1e4(0xdc6)]((_0x390c1e,_0x34af70)=>{const _0x37a383=_0x11e1e4;let _0x227841='';const _0x3f9caa=_0x390c1e[_0x37a383(0x5c5)]||currentQuizData[_0x37a383(0x11f)];switch(_0x3f9caa){case _0x37a383(0x423):_0x227841=_0x390c1e[_0x37a383(0x381)][_0x390c1e['correctAnswerIndex']];break;case _0x37a383(0xb16):_0x227841=_0x390c1e[_0x37a383(0x424)];break;case _0x37a383(0x66d):_0x227841=_0x390c1e[_0x37a383(0xbec)][_0x37a383(0xbe3)]();break;case _0x37a383(0x6ca):_0x227841=_0x390c1e['correctResponse'];break;}return{'question':_0x390c1e['stem']||_0x390c1e[_0x37a383(0x8c4)],'options':_0x390c1e[_0x37a383(0x381)]||null,'proposedAnswer':_0x227841};}),_0x50c17b=_0x11e1e4(0xa5e)+JSON['stringify'](_0xcee2e7)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2018a2={'type':_0x11e1e4(0xa3a),'items':{'type':_0x11e1e4(0x674),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x11e1e4(0x131)},'justification':{'type':_0x11e1e4(0xb13)},'suggestedAnswer':{'type':_0x11e1e4(0xb13)}},'required':[_0x11e1e4(0x444),'isCorrect',_0x11e1e4(0x2d2)]}},_0x8e4eef=await callAnalysisApi(_0x50c17b,{'type':_0x11e1e4(0x674),'properties':{'result':_0x2018a2},'required':[_0x11e1e4(0x96e)]});displayVerificationResults(_0x8e4eef[_0x11e1e4(0x96e)]);}catch(_0x47e3c8){console[_0x11e1e4(0xd98)](_0x11e1e4(0xdb7),_0x47e3c8),showMessage(_0x11e1e4(0x76a));}finally{_0x395b78[_0x11e1e4(0xd66)]=![],_0x395b78[_0x11e1e4(0x90d)]=_0x11e1e4(0x6d2);}}function displayVerificationResults(_0x4a148a){const _0x1856b2=_0x1dab5f;_0x4a148a['forEach'](_0x146f51=>{const _0x1aeec1=_0x5ef1,_0x38b1d5=document['querySelector'](_0x1aeec1(0x329)+_0x146f51[_0x1aeec1(0x444)]+'\x22]');if(_0x38b1d5){const _0x238d24=_0x38b1d5[_0x1aeec1(0xb19)]('.verification-result');if(_0x238d24)_0x238d24[_0x1aeec1(0x677)]();let _0x438698='';_0x146f51[_0x1aeec1(0x56f)]?_0x438698=_0x1aeec1(0x85d):_0x438698='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x146f51['justification']+_0x1aeec1(0x447)+(_0x146f51['suggestedAnswer']?_0x1aeec1(0x9f3)+_0x146f51['suggestedAnswer']+_0x1aeec1(0xe0b):'')+_0x1aeec1(0xc74),_0x38b1d5['insertAdjacentHTML']('beforeend',_0x438698);}}),showMessage(_0x1856b2(0x1bc));}function compareNumericalAnswers(_0x236990,_0x345edf){const _0x13db66=_0x1dab5f,_0x1a080f=String(_0x236990)[_0x13db66(0x38c)](',','.')['replace'](/[^\d.-]/g,'')[_0x13db66(0xb6d)](),_0x1a6727=String(_0x345edf)[_0x13db66(0x38c)](',','.')[_0x13db66(0x38c)](/[^\d.-]/g,'')[_0x13db66(0xb6d)]();if(_0x1a080f===''||_0x1a6727==='')return![];const _0x55c441=parseFloat(_0x1a080f),_0x1a2ec0=parseFloat(_0x1a6727);if(isNaN(_0x55c441)||isNaN(_0x1a2ec0))return![];return Math[_0x13db66(0xd9d)](_0x55c441-_0x1a2ec0)<0.001;}function isPotentiallyNumeric(_0x14230c){const _0x332f24=_0x1dab5f;if(typeof _0x14230c!=='string'&&typeof _0x14230c!==_0x332f24(0xd67))return![];const _0x4af37e=String(_0x14230c)[_0x332f24(0x38c)](',','.')[_0x332f24(0xb6d)]();return _0x4af37e!==''&&!isNaN(parseFloat(_0x4af37e))&&isFinite(_0x4af37e);}async function gradeShortAnswer(_0x2d87d7,_0x985cf3){const _0x4a8c2f=_0x1dab5f,_0x2ac20f=_0x985cf3[_0x4a8c2f(0x424)],_0x54e0bb=String(_0x2d87d7)[_0x4a8c2f(0x38c)](/\$/g,'')[_0x4a8c2f(0xb6d)](),_0x69219a=String(_0x2ac20f)[_0x4a8c2f(0x38c)](/\$/g,'')['trim']();if(_0x54e0bb[_0x4a8c2f(0x463)]()===_0x69219a[_0x4a8c2f(0x463)]())return!![];if(isPotentiallyNumeric(_0x54e0bb)&&isPotentiallyNumeric(_0x69219a)){if(compareNumericalAnswers(_0x54e0bb,_0x69219a))return!![];}return console['log'](_0x4a8c2f(0x332)),await gradeShortAnswerWithAI(_0x2d87d7,_0x2ac20f);}async function revealAnswerForAdmin(_0x3521a8,_0x182022){const _0x3164c9=_0x1dab5f,_0x4bae15=doc(db,_0x3164c9(0xb99)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4bae15,{'questionStatus':_0x3164c9(0xdc4)});}function showTop5LeaderboardView(_0x346859){const _0x31cdbd=_0x1dab5f,_0xf6a752=Object[_0x31cdbd(0xb31)](_0x346859[_0x31cdbd(0x616)]||{})['filter'](_0x265d03=>_0x265d03[_0x31cdbd(0x2db)]===_0x31cdbd(0xc93));_0xf6a752[_0x31cdbd(0xa23)]((_0x53badd,_0x54ed4c)=>_0x54ed4c[_0x31cdbd(0x3bb)]-_0x53badd[_0x31cdbd(0x3bb)]);const _0x1c7578=_0xf6a752[_0x31cdbd(0x801)](0x0,0x5),_0x593214='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c7578['map']((_0x327013,_0x1b9365)=>_0x31cdbd(0x45a)+(_0x1b9365+0x1)+'.\x20'+(_0x327013[_0x31cdbd(0x4cc)]||Object[_0x31cdbd(0xd39)](_0x346859['players'])['find'](_0x2cbcf4=>_0x346859[_0x31cdbd(0x616)][_0x2cbcf4]===_0x327013))+_0x31cdbd(0x1f9)+_0x327013[_0x31cdbd(0x3bb)]+_0x31cdbd(0x542))[_0x31cdbd(0xe10)]('')+_0x31cdbd(0x8df)+(_0x346859[_0x31cdbd(0xd02)]+0x1===currentQuizData['questions']['length']?_0x31cdbd(0xbbb):_0x31cdbd(0x330))+_0x31cdbd(0x92e);liveGameView[_0x31cdbd(0x90d)]=_0x593214,document[_0x31cdbd(0x242)](_0x31cdbd(0xde7))[_0x31cdbd(0x264)]('click',async()=>{const _0x19964f=_0x31cdbd,_0x4db45e=doc(db,_0x19964f(0xb99)+appId+_0x19964f(0x4e8),currentLiveGameId),_0x30aeff=_0x346859[_0x19964f(0xd02)]+0x1;if(_0x30aeff<currentQuizData['questions'][_0x19964f(0x283)]){const _0x363f87={'currentQuestionIndex':_0x30aeff,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x19964f(0xd39)](_0x346859[_0x19964f(0x616)])[_0x19964f(0xbdf)](_0x4b9c24=>{const _0x5b99fc=_0x19964f;_0x363f87[_0x5b99fc(0x789)+_0x4b9c24+_0x5b99fc(0x345)]=![];}),await updateDoc(_0x4db45e,_0x363f87);}else await updateDoc(_0x4db45e,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x3b6623=>{const _0x5144b6=_0x5ef1;if(_0x3b6623){userId=_0x3b6623['uid'],userIdDisplay[_0x5144b6(0xafa)]=userId;const _0x435225=await loadUserPreferences();_0x435225['projectSortOrder']&&(document[_0x5144b6(0x242)](_0x5144b6(0xae4))['value']=_0x435225[_0x5144b6(0x8c0)]);globalDashboardSettings['projectView']=_0x435225[_0x5144b6(0x22c)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x4d2704,_0x48ead7){const _0x244750=_0x1dab5f;if(!userId)return;try{const _0x4657e1=doc(db,'artifacts/'+appId+_0x244750(0xdaa)+userId+_0x244750(0xd0d)),_0xfb2c4={};_0xfb2c4[_0x4d2704]=_0x48ead7,await setDoc(_0x4657e1,_0xfb2c4,{'merge':!![]});}catch(_0x241aaf){console[_0x244750(0xd98)]('Error\x20saving\x20user\x20preference:',_0x241aaf);}}async function loadUserPreferences(){const _0x4f25bc=_0x1dab5f;if(!userId)return{};try{const _0x1c1508=doc(db,_0x4f25bc(0xb99)+appId+'/users/'+userId+_0x4f25bc(0xd0d)),_0x25749e=await getDoc(_0x1c1508);if(_0x25749e[_0x4f25bc(0xb96)]())return _0x25749e[_0x4f25bc(0x1f1)]();return{};}catch(_0x3db411){return console[_0x4f25bc(0xd98)](_0x4f25bc(0xd5a),_0x3db411),{};}}function parseIndentedBlueprint(_0x1ec962){const _0x41ed89=_0x1dab5f,_0x4ebff6=_0x1ec962[_0x41ed89(0xdcd)]('\x0a')[_0x41ed89(0x3be)](_0x21a959=>_0x21a959['trim']()!==''),_0x146679=[];let _0x3b3371=null,_0x20cb4c=null;return _0x4ebff6[_0x41ed89(0xbdf)](_0x111920=>{const _0x13d0b5=_0x41ed89,_0x1b54c6=_0x111920['match'](/^\s*/)[0x0]['length'],_0x4c5c13=_0x111920['trim']();if(_0x1b54c6===0x0)_0x3b3371={'sara':_0x4c5c13,'mainTopics':[]},_0x146679[_0x13d0b5(0x20e)](_0x3b3371),_0x20cb4c=null;else{if(_0x1b54c6>0x0&&_0x1b54c6<0x8&&_0x3b3371)_0x20cb4c={'topicName':_0x4c5c13,'subTopics':[]},_0x3b3371[_0x13d0b5(0x932)][_0x13d0b5(0x20e)](_0x20cb4c);else _0x1b54c6>=0x8&&_0x20cb4c&&_0x20cb4c[_0x13d0b5(0x95b)]['push'](_0x4c5c13);}}),{'curriculum':_0x146679};}async function handleManualBlueprintSave(){const _0x183e95=_0x1dab5f,_0x39d13b=document['getElementById']('manual-bp-project-name')[_0x183e95(0xbfb)][_0x183e95(0xb6d)](),_0x18bc8e=document[_0x183e95(0x242)](_0x183e95(0xb2e))[_0x183e95(0xbfb)][_0x183e95(0xb6d)](),_0x57ec94=document['getElementById']('manual-bp-content')[_0x183e95(0xbfb)];if(!_0x39d13b||!_0x18bc8e||!_0x57ec94){showMessage(_0x183e95(0xd57));return;}const _0x287236=parseIndentedBlueprint(_0x57ec94);if(!_0x287236[_0x183e95(0xc2d)]||_0x287236['curriculum'][_0x183e95(0x283)]===0x0){showMessage(_0x183e95(0xba0));return;}const _0x3bdc16={};let _0x1021dd=0x0;_0x287236[_0x183e95(0xc2d)][_0x183e95(0xbdf)](_0x3dae0e=>{const _0x1908fb=_0x183e95;_0x3dae0e[_0x1908fb(0x932)]['forEach'](_0x3b101a=>{const _0x1210df=_0x1908fb;_0x3b101a[_0x1210df(0x95b)]['forEach'](_0x5c7cdf=>{const _0x1ade07=_0x1210df,_0x24fd00=_0x1ade07(0xe06)+Date[_0x1ade07(0xaf6)]()+Math['random']()['toString'](0x24)[_0x1ade07(0x8ba)](0x2,0x9);_0x3bdc16[_0x24fd00]={'sara':_0x3dae0e['sara'],'mainTopic':_0x3b101a[_0x1ade07(0x2f2)],'subTopic':_0x5c7cdf,'status':_0x1ade07(0x608),'lessonContent':null,'order':_0x1021dd++};});});});try{const _0x3cbec3=collection(db,_0x183e95(0xb99)+appId+_0x183e95(0x3c1));await addDoc(_0x3cbec3,{'projectName':_0x39d13b,'gradeLevel':_0x18bc8e,'topics':_0x3bdc16,'createdAt':serverTimestamp()}),showMessage(_0x183e95(0xb9e)+_0x39d13b+_0x183e95(0xe21)),document[_0x183e95(0x242)](_0x183e95(0x10b))[_0x183e95(0xe19)]['add']('hidden');}catch(_0x5b2eb6){console[_0x183e95(0xd98)](_0x183e95(0xab1),_0x5b2eb6),showMessage(_0x183e95(0x7c5));}}function handleClearAllLinksForTopic(_0x1075cd){const _0x42a42a=_0x1dab5f;showConfirmation(_0x42a42a(0xa59),async()=>{const _0x23c1b5=_0x42a42a;try{const _0x176fa2=doc(db,_0x23c1b5(0xb99)+appId+_0x23c1b5(0x3c1),currentBlueprintProjectId);await updateDoc(_0x176fa2,{[_0x23c1b5(0x262)+_0x1075cd+'.linkedQuizIds']:[]}),showMessage(_0x23c1b5(0x112)),openTopicQuizBank(_0x1075cd),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1093d2){console['error'](_0x23c1b5(0x5c9),_0x1093d2),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x162483,_0x104724=_0x1dab5f(0x4dc),_0x1b56b8=null){const _0xd9998d=_0x1dab5f,_0x294f5d=_0x1b56b8?.[_0xd9998d(0x9a1)]===!![],_0x46b865=Object['entries'](_0x162483)[_0xd9998d(0xdc6)](([_0x2fffa3,_0x4ac7ee])=>({'name':_0x2fffa3,'realScore':_0x4ac7ee[_0xd9998d(0x749)]||_0x4ac7ee[_0xd9998d(0x3bb)]||0x0,'totalPoints':_0x4ac7ee['totalPoints']||0x0,'badges':_0x4ac7ee['badges']||[],'hasPerfectScoreBonus':_0x4ac7ee['hasPerfectScoreBonus']||![]})),_0x29c041=Math['max'](..._0x46b865['map'](_0x5a7128=>_0x5a7128[_0xd9998d(0x49c)]),-Infinity),_0x5121d6=Math[_0xd9998d(0xcd3)](..._0x46b865['map'](_0x5db19e=>_0x5db19e[_0xd9998d(0x749)]),-Infinity);_0x46b865['sort']((_0xc5cff0,_0x39d634)=>{const _0x28cbcb=_0xd9998d;if(_0x294f5d){const _0x1d29c8=_0x39d634[_0x28cbcb(0x49c)]-_0xc5cff0[_0x28cbcb(0x49c)];if(_0x1d29c8!==0x0)return _0x1d29c8;const _0xd9def2=_0x39d634['realScore']-_0xc5cff0[_0x28cbcb(0x749)];if(_0xd9def2!==0x0)return _0xd9def2;return _0xc5cff0[_0x28cbcb(0x4cc)][_0x28cbcb(0x46f)](_0x39d634[_0x28cbcb(0x4cc)],'th');}else{const _0x3826b5=_0x39d634[_0x28cbcb(0x49c)]-_0xc5cff0[_0x28cbcb(0x49c)];if(_0x3826b5!==0x0)return _0x3826b5;return _0x39d634['realScore']-_0xc5cff0['realScore'];}});const _0x577131=_0x3c0811=>{const _0x2a43ce=_0xd9998d;if(!_0x3c0811||_0x3c0811['length']===0x0)return'';const _0x3d57ef={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x3c0811[_0x2a43ce(0xdc6)](_0x2e76bf=>_0x3d57ef[_0x2e76bf]||'')[_0x2a43ce(0xe10)]('')+_0x2a43ce(0x30c);},_0x1435fe=_0x4f58bd=>{const _0x401794=_0xd9998d;let _0x5e80cb='';if(_0x294f5d){if(_0x4f58bd[_0x401794(0x49c)]===_0x29c041&&_0x29c041>0x0)_0x5e80cb+=_0x401794(0x970);if(_0x4f58bd[_0x401794(0x749)]===_0x5121d6&&_0x5121d6>0x0)_0x5e80cb+=_0x401794(0xd32);}else{if(_0x4f58bd[_0x401794(0xb9b)])_0x5e80cb=_0x401794(0x929);}if(_0x294f5d){const _0x34d420=_0x4f58bd[_0x401794(0x49c)]>=0x0?'(+'+_0x4f58bd[_0x401794(0x49c)]+')':'('+_0x4f58bd['totalPoints']+')';return'<p\x20class=\x22text-xl\x22>'+_0x4f58bd[_0x401794(0x749)]+_0x401794(0xc73)+_0x34d420+'\x20'+_0x5e80cb+_0x401794(0xe0b);}else return _0x401794(0xa8d)+_0x4f58bd[_0x401794(0x49c)]+_0x401794(0xc73)+_0x5e80cb+_0x401794(0xe0b);},_0x1f001f=_0x46b865[_0xd9998d(0x801)](0x3),_0x18e404=_0x1f001f[_0xd9998d(0x283)]>0x0?_0xd9998d(0x786)+_0x1f001f[_0xd9998d(0xdc6)]((_0x4e7f9d,_0x633efc)=>{const _0x19592b=_0xd9998d;return _0x19592b(0xbca)+(_0x633efc+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4e7f9d['name']+_0x19592b(0x770)+_0x1435fe(_0x4e7f9d)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xd9998d(0xe10)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x2254d1=_0xd9998d(0xab3)+(_0x46b865[0x1]?_0xd9998d(0x8e2)+_0x46b865[0x1]['name']+'</p>'+_0x577131(_0x46b865[0x1][_0xd9998d(0x663)])+_0x1435fe(_0x46b865[0x1])+_0xd9998d(0x35d):_0xd9998d(0x64b))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x46b865[0x0]?_0xd9998d(0xda2)+_0x46b865[0x0][_0xd9998d(0x4cc)]+_0xd9998d(0xe0b)+_0x577131(_0x46b865[0x0]['badges'])+_0x1435fe(_0x46b865[0x0])+_0xd9998d(0x827):_0xd9998d(0x64b))+_0xd9998d(0x189)+(_0x46b865[0x2]?_0xd9998d(0x72a)+_0x46b865[0x2][_0xd9998d(0x4cc)]+_0xd9998d(0xe0b)+_0x577131(_0x46b865[0x2]['badges'])+_0x1435fe(_0x46b865[0x2])+_0xd9998d(0x9df):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18e404+_0xd9998d(0x697)+(currentMode===_0xd9998d(0xcc8)?_0xd9998d(0x97d):_0xd9998d(0xb86))+_0xd9998d(0x5fe);liveGameView[_0xd9998d(0x90d)]=_0x2254d1,currentMode==='admin'?document[_0xd9998d(0x242)](_0xd9998d(0x936))['addEventListener']('click',async()=>{const _0x3f0cc4=_0xd9998d;let _0xc759e5;_0x104724===_0x3f0cc4(0x7ff)?_0xc759e5=doc(db,'artifacts/'+appId+_0x3f0cc4(0x4e1),currentLiveGameId):_0xc759e5=doc(db,_0x3f0cc4(0xb99)+appId+_0x3f0cc4(0x4e8),currentLiveGameId),await deleteDoc(_0xc759e5);}):document[_0xd9998d(0x242)]('student-back-to-home-btn')?.[_0xd9998d(0x264)](_0xd9998d(0xc23),()=>{const _0x54b915=_0xd9998d;showView(_0x54b915(0x53e));});}function renderSyncSummaryView(_0x10802e,_0x531692,_0x12174a){const _0x1bd7b0=_0x1dab5f,_0x2d2215=_0x10802e[_0x1bd7b0(0xc9e)]||_0x1bd7b0(0x32f),_0x34860a=(_0x2d2215===_0x1bd7b0(0x1ce)||_0x2d2215===_0x1bd7b0(0xb2c))&&_0x10802e['isAnonymousRevealed']===![],_0x3991a3=_0x2d2215===_0x1bd7b0(0xcbc)||_0x2d2215==='anonymous_reveal_end',_0x11ef09=_0x10802e[_0x1bd7b0(0x8d3)][_0x1bd7b0(0x3ef)],_0x5ab680=_0x531692[_0x1bd7b0(0x5c5)]||_0x10802e[_0x1bd7b0(0x8d3)]['quizType'];let _0x3cd80c=[];_0x5ab680===_0x1bd7b0(0x66d)?_0x3cd80c=['ใช่\x20/\x20ถูก',_0x1bd7b0(0x790)]:_0x3cd80c=_0x531692[_0x1bd7b0(0x381)]||[];const _0x2af3cc=new Array(_0x3cd80c['length'])[_0x1bd7b0(0x174)](0x0),_0x2c6da2={};_0x3cd80c['forEach']((_0x50e45f,_0xe33b10)=>{_0x2c6da2[_0xe33b10]=[];}),Object[_0x1bd7b0(0x934)](_0x10802e['players']||{})['forEach'](([_0x4e758f,_0x4ececa])=>{const _0xcd7c69=_0x1bd7b0;if(_0x4ececa[_0xcd7c69(0x2db)]!==_0xcd7c69(0x2dc)&&_0x4ececa[_0xcd7c69(0x834)]!==undefined&&_0x4ececa[_0xcd7c69(0x834)]!==null){const _0x440ff5=_0x4ececa['lastAnswerIndex'];if(_0x2c6da2[_0x440ff5]!==undefined){const _0xcbe2ea=_0x34860a?_0x10802e[_0xcd7c69(0xb0e)][_0x4e758f]||'???':_0x4e758f;_0x2c6da2[_0x440ff5][_0xcd7c69(0x20e)](_0xcbe2ea),_0x2af3cc[_0x440ff5]++;}}});let _0x3c0b87='';const _0x4b487d=_0x10802e[_0x1bd7b0(0xd02)]>=_0x11ef09[_0x1bd7b0(0x283)]-0x1;_0x12174a?_0x3991a3?_0x4b487d?_0x3c0b87=_0x1bd7b0(0xcab):_0x3c0b87='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x3c0b87=_0x1bd7b0(0x4ae):_0x3991a3?_0x3c0b87='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x3c0b87='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0xc9a870=_0x12174a?_0x1bd7b0(0x1c5)+_0x10802e[_0x1bd7b0(0x687)]+'</strong></div>':'',_0x561074=_0x1bd7b0(0x664)+_0xc9a870+_0x1bd7b0(0x920)+_0x531692[_0x1bd7b0(0x8c4)]+_0x1bd7b0(0x3d7)+_0x2af3cc['map']((_0x1f9b82,_0x40f044)=>{const _0x26304c=_0x1bd7b0,_0x445e37=_0x2c6da2[_0x40f044][_0x26304c(0x283)]>0x0?_0x2c6da2[_0x40f044][_0x26304c(0xe10)](',\x20'):_0x26304c(0x2e0),_0x1d6cd7='#6366F1';return _0x26304c(0x5c8)+_0x1f9b82+_0x26304c(0x954)+_0x1d6cd7+_0x26304c(0xcde)+_0x40f044+_0x26304c(0xd7e)+_0x3cd80c[_0x40f044]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x40f044+_0x26304c(0x99d)+_0x445e37+_0x26304c(0x33f);})[_0x1bd7b0(0xe10)]('')+_0x1bd7b0(0x844)+_0x3c0b87+_0x1bd7b0(0x80f);liveGameView[_0x1bd7b0(0x90d)]=_0x561074;if(window[_0x1bd7b0(0x972)])MathJax[_0x1bd7b0(0xde3)]();if(_0x12174a){const _0x53a26b=doc(db,_0x1bd7b0(0xb99)+appId+'/public/data/syncGames',currentLiveGameId);document['getElementById'](_0x1bd7b0(0x4cd))?.[_0x1bd7b0(0x264)](_0x1bd7b0(0xc23),async()=>{const _0x44074d=_0x1bd7b0,_0x385c65=Object[_0x44074d(0xb31)](_0x10802e['players']||{})['map'](_0x4b2adf=>({'name':_0x4b2adf[_0x44074d(0x4cc)],'score':_0x4b2adf[_0x44074d(0x3bb)]||0x0,'totalPoints':_0x4b2adf[_0x44074d(0x49c)]||0x0,'pointsLastRound':_0x4b2adf[_0x44074d(0x439)]||0x0,'answers':_0x4b2adf['answers']||[]}));await updateDoc(_0x53a26b,{'status':'results','publicLeaderboard':_0x385c65});}),document[_0x1bd7b0(0x242)](_0x1bd7b0(0x643))?.['addEventListener']('click',()=>{openScratchpad(_0x531692,_0x3cd80c);}),document[_0x1bd7b0(0x242)](_0x1bd7b0(0x280))?.['addEventListener']('click',async()=>{const _0x193998=_0x1bd7b0,_0x52acbb=_0x10802e['currentQuestionIndex']+0x1;await updateDoc(_0x53a26b,{'status':_0x193998(0x7e7),'currentQuestionIndex':_0x52acbb,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document['getElementById'](_0x1bd7b0(0xbb9))?.[_0x1bd7b0(0x264)](_0x1bd7b0(0xc23),async()=>{const _0x41b0cf=_0x1bd7b0,_0x3fef1d=Object[_0x41b0cf(0xb31)](_0x10802e[_0x41b0cf(0x616)]||{})[_0x41b0cf(0xdc6)](_0x319c8f=>({'name':_0x319c8f[_0x41b0cf(0x4cc)],'score':_0x319c8f['score']||0x0,'totalPoints':_0x319c8f[_0x41b0cf(0x49c)]||0x0,'pointsLastRound':_0x319c8f[_0x41b0cf(0x439)]||0x0,'answers':_0x319c8f[_0x41b0cf(0x922)]||[]}));await updateDoc(_0x53a26b,{'status':_0x41b0cf(0x8d6),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x3fef1d});});}}function renderAnonymousStudentResultsView(_0x597d83){const _0x187d29=_0x1dab5f,_0x56f43d=_0x597d83['currentQuestionIndex']>=_0x597d83[_0x187d29(0x8d3)][_0x187d29(0x3ef)][_0x187d29(0x283)]-0x1;let _0x461cd3='';if(_0x597d83[_0x187d29(0x6e9)]===!![]){const _0x2625d8=_0x597d83[_0x187d29(0x616)][localTeamPlayers[0x0]],_0x193e2e=_0x2625d8[_0x187d29(0x4cc)],_0x1e43d2=_0x2625d8[_0x187d29(0x3bb)];_0x461cd3=_0x187d29(0xb37)+_0x193e2e+_0x187d29(0x296)+_0x1e43d2+_0x187d29(0x12a);}else _0x461cd3=_0x187d29(0x2ab)+(_0x56f43d?_0x187d29(0x803):_0x187d29(0x208))+_0x187d29(0x2e3);const _0x53d4b3=_0x187d29(0xc13)+_0x461cd3+_0x187d29(0x735);liveGameView[_0x187d29(0x90d)]=_0x53d4b3;}async function handleShowStudentRankings(){const _0x55b6c2=_0x1dab5f,_0x172988=document['querySelector']('#student-quiz-leaderboard-content\x20thead');_0x172988&&(_0x172988[_0x55b6c2(0x90d)]=_0x55b6c2(0xa50));const _0x34f840=document[_0x55b6c2(0xb19)]('#student-project-leaderboard-content\x20thead');_0x34f840&&(_0x34f840['innerHTML']=_0x55b6c2(0x528));const _0x3c9848=document['getElementById']('student-rankings-modal');_0x3c9848['classList'][_0x55b6c2(0x677)]('hidden'),document[_0x55b6c2(0x242)](_0x55b6c2(0xd95))['onclick']=()=>_0x3c9848['classList']['add'](_0x55b6c2(0x414));const _0x5887bc=document['getElementById'](_0x55b6c2(0xc71)),_0x127506=document[_0x55b6c2(0x242)](_0x55b6c2(0x322)),_0x486b03=document[_0x55b6c2(0x242)](_0x55b6c2(0x73b)),_0x347d61=document['getElementById'](_0x55b6c2(0xdb9));_0x5887bc['onclick']=()=>{const _0x4c9deb=_0x55b6c2;_0x5887bc['classList'][_0x4c9deb(0x27c)]('active'),_0x127506[_0x4c9deb(0xe19)]['remove'](_0x4c9deb(0xc93)),_0x486b03[_0x4c9deb(0xe19)][_0x4c9deb(0x677)](_0x4c9deb(0x414)),_0x347d61['classList'][_0x4c9deb(0x27c)](_0x4c9deb(0x414));},_0x127506['onclick']=()=>{const _0x1b4714=_0x55b6c2;_0x127506[_0x1b4714(0xe19)][_0x1b4714(0x27c)](_0x1b4714(0xc93)),_0x5887bc[_0x1b4714(0xe19)]['remove'](_0x1b4714(0xc93)),_0x347d61[_0x1b4714(0xe19)][_0x1b4714(0x677)]('hidden'),_0x486b03[_0x1b4714(0xe19)]['add'](_0x1b4714(0x414));};try{const _0x89a8b6=collection(db,_0x55b6c2(0xb99)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x19fbbb=await getDocs(_0x89a8b6),_0x4117bf=_0x19fbbb[_0x55b6c2(0x5ab)][_0x55b6c2(0xdc6)](_0x44ba8e=>_0x44ba8e[_0x55b6c2(0x1f1)]());renderQuizLeaderboard(_0x4117bf,currentQuizData,_0x55b6c2(0xb11));const _0x43e4b0=collection(db,_0x55b6c2(0xb99)+appId+_0x55b6c2(0xa81)+currentQuizData[_0x55b6c2(0x1cf)]+_0x55b6c2(0xd3a)),_0xa517f4=await getDocs(_0x43e4b0),_0x343020=_0xa517f4[_0x55b6c2(0x5ab)][_0x55b6c2(0xdc6)](_0x794b87=>_0x794b87[_0x55b6c2(0x1f1)]());renderLeaderboard(_0x343020,_0x55b6c2(0x9e0));}catch(_0x2a553e){console[_0x55b6c2(0xd98)](_0x55b6c2(0x509),_0x2a553e),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x4eee7e){const _0x51eaa3=_0x1dab5f,_0x302f1e=_0x4eee7e[_0x51eaa3(0x479)],_0x4f34de=_0x302f1e[_0x51eaa3(0xb42)][_0x51eaa3(0x6a8)],_0x34cd20=currentQuizData[_0x51eaa3(0x3ef)][_0x4f34de];if(!userId){showMessage(_0x51eaa3(0x679));return;}try{const _0x4f1f53={..._0x34cd20,'originalTopic':currentQuizData[_0x51eaa3(0xe0e)],'savedAt':serverTimestamp()},_0x46e0d3=collection(db,'artifacts/'+appId+_0x51eaa3(0xdaa)+userId+_0x51eaa3(0xc84));await addDoc(_0x46e0d3,_0x4f1f53),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x302f1e[_0x51eaa3(0xe19)][_0x51eaa3(0x677)](_0x51eaa3(0xa95)),_0x302f1e[_0x51eaa3(0xe19)][_0x51eaa3(0x27c)](_0x51eaa3(0x5c3)),_0x302f1e[_0x51eaa3(0xd66)]=!![];}catch(_0x4b764a){console[_0x51eaa3(0xd98)]('Error\x20saving\x20to\x20question\x20bank:',_0x4b764a),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x4ce696,_0x42d827=null,_0x3ace96=null,_0x5b9175=![]){const _0x10d7e8=_0x1dab5f;cameFromBlueprint=!![];const _0x1545b8=document[_0x10d7e8(0x242)]('bp-reference-file-url')?.[_0x10d7e8(0xbfb)][_0x10d7e8(0xb6d)]();let _0x1a0198=null;if(_0x1545b8){showMessage(_0x10d7e8(0x31c));try{const _0x5f30b6=await fetchFileFromUrl(_0x1545b8,'reference_onet.pdf'),_0x273580=await new Promise((_0x5d3d24,_0xc7e2a9)=>{const _0x317375=_0x10d7e8,_0x29aaa3=new FileReader();_0x29aaa3[_0x317375(0x61b)](_0x5f30b6),_0x29aaa3['onload']=()=>_0x5d3d24(_0x29aaa3[_0x317375(0x96e)][_0x317375(0xdcd)](',')[0x1]),_0x29aaa3[_0x317375(0x811)]=_0xc7e2a9;});_0x1a0198=[{'inlineData':{'mimeType':_0x5f30b6[_0x10d7e8(0x41e)],'data':_0x273580}}],messageModal[_0x10d7e8(0xe19)][_0x10d7e8(0x27c)](_0x10d7e8(0x414));}catch(_0x3070ba){console[_0x10d7e8(0xd98)]('Could\x20not\x20fetch\x20reference\x20file:',_0x3070ba),showMessage(_0x10d7e8(0x1ac));}}const _0x82e2a3=document[_0x10d7e8(0x242)]('move-quiz-modal'),_0x3ae164=document['getElementById'](_0x10d7e8(0x843)),_0x16a712=_0x82e2a3[_0x10d7e8(0xb19)]('h3'),_0x48552a=document[_0x10d7e8(0x242)](_0x10d7e8(0x6eb)),_0x50dccb=document[_0x10d7e8(0x242)](_0x10d7e8(0xc56));_0x16a712[_0x10d7e8(0xafa)]=_0x10d7e8(0x689),_0x48552a[_0x10d7e8(0xafa)]=_0x10d7e8(0x979),_0x48552a[_0x10d7e8(0xd66)]=!![];allProjects[_0x10d7e8(0x283)]===0x0?_0x3ae164['innerHTML']=_0x10d7e8(0xa0a):(_0x3ae164[_0x10d7e8(0x90d)]=_0x10d7e8(0x984)+allProjects[_0x10d7e8(0xdc6)](_0x191fcd=>_0x10d7e8(0x397)+_0x191fcd['id']+'\x22>'+_0x191fcd['projectName']+_0x10d7e8(0x460))[_0x10d7e8(0xe10)](''),_0x48552a['disabled']=![]);_0x82e2a3['classList'][_0x10d7e8(0x677)]('hidden');const _0x39c7d7=async()=>{const _0x181506=_0x10d7e8,_0x2ac0b9=_0x3ae164[_0x181506(0xbfb)];if(!_0x2ac0b9){showMessage(_0x181506(0x5f2));return;}_0x82e2a3[_0x181506(0xe19)][_0x181506(0x27c)](_0x181506(0x414)),document['getElementById']('blueprint-project-manager-view')[_0x181506(0xe19)][_0x181506(0x27c)](_0x181506(0x414)),await loadProjectDetails(_0x2ac0b9),showView(_0x181506(0x3f3)),handleGenerateQuizFromBlueprintTopic(_0x4ce696,_0x42d827,_0x2ac0b9,_0x3ace96,_0x5b9175,_0x1a0198),_0x311a0e();},_0x311a0e=()=>{const _0x4a65b1=_0x10d7e8;_0x16a712['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x48552a[_0x4a65b1(0xafa)]=_0x4a65b1(0xcda),_0x48552a[_0x4a65b1(0x232)]('click',_0x39c7d7),_0x50dccb[_0x4a65b1(0x232)](_0x4a65b1(0xc23),_0x311a0e),_0x48552a['addEventListener']('click',confirmMoveQuiz);};_0x48552a[_0x10d7e8(0x232)](_0x10d7e8(0xc23),confirmMoveQuiz),_0x48552a[_0x10d7e8(0x264)]('click',_0x39c7d7),_0x50dccb[_0x10d7e8(0x264)](_0x10d7e8(0xc23),_0x311a0e);}function listenForStarredQuizzes(){const _0x527586=_0x1dab5f;if(!userId)return;const _0x45f1c6=collection(db,'artifacts/'+appId+_0x527586(0x48d)),_0x3226dc=query(_0x45f1c6,where(_0x527586(0x755),'==',!![]));onSnapshot(_0x3226dc,_0x898c36=>{const _0x9281ae=_0x527586;starredQuizzes=_0x898c36[_0x9281ae(0x5ab)][_0x9281ae(0xdc6)](_0x4992ed=>({'id':_0x4992ed['id'],..._0x4992ed['data']()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x2c6f5a=>{const _0x4e3fbe=_0x527586;console[_0x4e3fbe(0xd98)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x2c6f5a);});}function listenForFileShortcuts(){const _0xb8e9a=_0x1dab5f,_0x302e50=doc(db,'globalSettings',_0xb8e9a(0xc88));onSnapshot(_0x302e50,_0x5c3899=>{const _0x4434d9=_0xb8e9a;let _0x4f8c04=[],_0x38b493=[],_0x10a6dd={};if(_0x5c3899[_0x4434d9(0xb96)]()){const _0xf046e1=_0x5c3899[_0x4434d9(0x1f1)]();_0x4f8c04=_0xf046e1['shortcuts']||[],_0x38b493=_0xf046e1[_0x4434d9(0xca0)]||[],_0x10a6dd=_0xf046e1[_0x4434d9(0x845)]||{};}!_0x38b493[_0x4434d9(0x794)](_0x2e7a82=>_0x2e7a82['id']===_0x4434d9(0x2af))&&_0x38b493[_0x4434d9(0x146)]({'id':_0x4434d9(0x2af),'name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x4f8c04[_0x4434d9(0x794)](_0x2eb0bc=>_0x2eb0bc['id']===_0x4434d9(0x6f2))&&_0x4f8c04[_0x4434d9(0x146)]({'id':_0x4434d9(0x6f2),'name':_0x4434d9(0x511),'url':'','isDefault':!![]}),!_0x4f8c04[_0x4434d9(0x794)](_0x468c5c=>_0x468c5c['id']===_0x4434d9(0xaa9))&&_0x4f8c04[_0x4434d9(0x146)]({'id':'file-default-2','name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x4f8c04,fileShortcutTabs=_0x38b493,fileShortcutOrder=_0x10a6dd,renderFileShortcuts(),!document[_0x4434d9(0x242)](_0x4434d9(0x387))['classList'][_0x4434d9(0x52e)]('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x543d13=_0x1dab5f,_0x4bbef2=doc(db,_0x543d13(0x192),'fileShortcutsConfig');try{await setDoc(_0x4bbef2,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x21f512){console[_0x543d13(0xd98)](_0x543d13(0xb45),_0x21f512);}}function renderAdditionalFileShortcutsModal(){const _0x549d42=_0x1dab5f,_0x27761e=document[_0x549d42(0x242)](_0x549d42(0x4d5)),_0x317d90=document[_0x549d42(0x242)](_0x549d42(0xdac));if(!_0x27761e||!_0x317d90)return;_0x27761e[_0x549d42(0x90d)]=fileShortcutTabs['map'](_0x3bdc2b=>{const _0x11efc4=_0x549d42,_0x57d525=_0x3bdc2b['id']===activeFileShortcutTabId;return _0x11efc4(0x4c6)+_0x3bdc2b['id']+_0x11efc4(0x641)+(_0x57d525?_0x11efc4(0x1d1):_0x11efc4(0x48b))+_0x11efc4(0x14e)+_0x3bdc2b[_0x11efc4(0x4cc)]+_0x11efc4(0x78b)+_0x3bdc2b['name']+_0x11efc4(0x58f)+(!_0x3bdc2b[_0x11efc4(0x729)]?'<button\x20data-tab-id=\x22'+_0x3bdc2b['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x11efc4(0x4b7);})[_0x549d42(0xe10)]('');const _0x44df87=fileShortcutTabs[_0x549d42(0x794)](_0x582a06=>_0x582a06['id']===activeFileShortcutTabId);let _0x45699f=_0x44df87?.['isDefault']?[...fileShortcuts]:fileShortcuts[_0x549d42(0x3be)](_0x47c2d9=>(_0x44df87?.['shortcutIds']||[])[_0x549d42(0x87f)](_0x47c2d9['id']));const _0x34a34a=fileShortcutOrder[activeFileShortcutTabId]||[];_0x45699f[_0x549d42(0xa23)]((_0xaa4110,_0x42f485)=>{const _0x3bb0a3=_0x549d42,_0x3f4a4b=_0x34a34a[_0x3bb0a3(0x570)](_0xaa4110['id']),_0x3a1256=_0x34a34a[_0x3bb0a3(0x570)](_0x42f485['id']);return(_0x3f4a4b===-0x1?Infinity:_0x3f4a4b)-(_0x3a1256===-0x1?Infinity:_0x3a1256);}),_0x317d90[_0x549d42(0x90d)]=_0x45699f[_0x549d42(0xdc6)](_0x141323=>{const _0x3c66a0=_0x549d42,_0x5a06ba=_0x141323['url']?'📄':'🔗',_0x31787a=fileShortcutTabs[_0x3c66a0(0x3be)](_0x30f6ce=>!_0x30f6ce[_0x3c66a0(0x729)]),_0x708784=_0x44df87['isDefault']&&_0x31787a['length']>0x0?_0x3c66a0(0x2eb)+_0x31787a[_0x3c66a0(0xdc6)](_0x369e23=>_0x3c66a0(0x5af)+_0x141323['id']+_0x3c66a0(0xcae)+_0x369e23['id']+'\x22>'+_0x369e23[_0x3c66a0(0x4cc)]+_0x3c66a0(0x985))['join']('')+_0x3c66a0(0x813):'';return _0x3c66a0(0x207)+_0x141323['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x5a06ba+'\x20'+_0x141323[_0x3c66a0(0x4cc)]+_0x3c66a0(0x71f)+_0x141323['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x141323['id']+_0x3c66a0(0x6bc)+(!_0x141323[_0x3c66a0(0x729)]?_0x3c66a0(0x41a)+_0x141323['id']+_0x3c66a0(0xbdc):'')+_0x3c66a0(0x124)+(!_0x44df87[_0x3c66a0(0x729)]?_0x3c66a0(0xa37)+_0x141323['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x708784+_0x3c66a0(0xdd1);})[_0x549d42(0xe10)]('')||_0x549d42(0x88e),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x5c8570=_0x1dab5f;document['querySelectorAll'](_0x5c8570(0x604))[_0x5c8570(0xbdf)](_0x1e35fd=>{const _0x124fd4=_0x5c8570;_0x1e35fd[_0x124fd4(0x3d9)]=_0x4ba61d=>{const _0x4ff7db=_0x124fd4;activeFileShortcutTabId=_0x4ba61d[_0x4ff7db(0x479)]['dataset'][_0x4ff7db(0x6cc)],renderAdditionalFileShortcutsModal();},_0x1e35fd[_0x124fd4(0x533)]=_0x1f01cf=>{const _0x5b1419=_0x124fd4,_0x32d10c=_0x1f01cf[_0x5b1419(0x479)][_0x5b1419(0xb19)]('.tab-name-input');_0x1f01cf[_0x5b1419(0x479)]['querySelector'](_0x5b1419(0xda7))[_0x5b1419(0xe19)]['add'](_0x5b1419(0x414)),_0x32d10c[_0x5b1419(0xe19)]['remove'](_0x5b1419(0x414)),_0x32d10c[_0x5b1419(0xaf4)](),_0x32d10c['select']();};}),document[_0x5c8570(0x99b)](_0x5c8570(0x793))['forEach'](_0x50c3f4=>{const _0x366805=_0x5c8570,_0x3dbba0=()=>{const _0x53212f=_0x5ef1,_0x30acd0=_0x50c3f4[_0x53212f(0xc75)](_0x53212f(0x604))[_0x53212f(0xb42)][_0x53212f(0x6cc)],_0x1748a6=fileShortcutTabs[_0x53212f(0x794)](_0x29fc1f=>_0x29fc1f['id']===_0x30acd0);_0x1748a6&&(_0x1748a6[_0x53212f(0x4cc)]=_0x50c3f4[_0x53212f(0xbfb)][_0x53212f(0xb6d)]()||_0x1748a6[_0x53212f(0x4cc)],saveFileShortcutConfig());};_0x50c3f4[_0x366805(0x183)]=_0x3dbba0,_0x50c3f4[_0x366805(0x378)]=_0x5ecb2b=>{const _0x17641b=_0x366805;if(_0x5ecb2b[_0x17641b(0x43a)]===_0x17641b(0xda8))_0x50c3f4[_0x17641b(0xbb2)]();};}),document[_0x5c8570(0x99b)](_0x5c8570(0xc8b))['forEach'](_0x1e1653=>_0x1e1653[_0x5c8570(0x3d9)]=_0x2c1e90=>{const _0x3b223e=_0x5c8570,_0x15a60c=_0x2c1e90['currentTarget'][_0x3b223e(0xb42)]['tabId'];showConfirmation(_0x3b223e(0xb50),()=>{const _0x286e61=_0x3b223e;fileShortcutTabs=fileShortcutTabs[_0x286e61(0x3be)](_0x3cf5c7=>_0x3cf5c7['id']!==_0x15a60c),delete fileShortcutOrder[_0x15a60c];if(activeFileShortcutTabId===_0x15a60c)activeFileShortcutTabId=_0x286e61(0x2af);saveFileShortcutConfig();});}),document[_0x5c8570(0x99b)](_0x5c8570(0xc33))[_0x5c8570(0xbdf)](_0x5b4d0b=>_0x5b4d0b['onclick']=_0x34c19b=>{const _0x457b01=_0x5c8570;_0x34c19b[_0x457b01(0xc2b)]();const {shortcutId:_0x43255c,targetTabId:_0x82ebbb}=_0x34c19b[_0x457b01(0x479)][_0x457b01(0xb42)],_0x12142d=fileShortcutTabs[_0x457b01(0x794)](_0x462970=>_0x462970['id']===_0x82ebbb);_0x12142d&&!_0x12142d[_0x457b01(0x3f6)][_0x457b01(0x87f)](_0x43255c)&&(_0x12142d[_0x457b01(0x3f6)][_0x457b01(0x20e)](_0x43255c),saveFileShortcutConfig());}),document[_0x5c8570(0x99b)](_0x5c8570(0x16d))[_0x5c8570(0xbdf)](_0x7199f=>_0x7199f['onclick']=_0x4ad0f7=>{const _0x5cb980=_0x5c8570,_0x303392=_0x4ad0f7[_0x5cb980(0x479)][_0x5cb980(0xb42)]['shortcutId'],_0x45e20f=fileShortcutTabs[_0x5cb980(0x794)](_0x1d96d9=>_0x1d96d9['id']===activeFileShortcutTabId);_0x45e20f&&!_0x45e20f['isDefault']&&(_0x45e20f['shortcutIds']=_0x45e20f[_0x5cb980(0x3f6)][_0x5cb980(0x3be)](_0xf56929=>_0xf56929!==_0x303392),saveFileShortcutConfig());}),document[_0x5c8570(0x99b)](_0x5c8570(0x6f5))[_0x5c8570(0xbdf)](_0x23135f=>_0x23135f[_0x5c8570(0x3d9)]=_0x38438c=>{const _0x1e0fe9=_0x5c8570;_0x38438c[_0x1e0fe9(0x409)]();const _0x1c068f=_0x38438c[_0x1e0fe9(0x479)][_0x1e0fe9(0x956)];document[_0x1e0fe9(0x99b)](_0x1e0fe9(0x9b5))[_0x1e0fe9(0xbdf)](_0x5bd568=>_0x5bd568[_0x1e0fe9(0xe19)]['add'](_0x1e0fe9(0x414))),_0x1c068f[_0x1e0fe9(0xe19)]['remove'](_0x1e0fe9(0x414));});const _0x4ab4bf=document[_0x5c8570(0x242)](_0x5c8570(0xdac));let _0x308195=null;_0x4ab4bf[_0x5c8570(0x2b9)]=_0x442a7b=>{const _0x2403ca=_0x5c8570;_0x308195=_0x442a7b[_0x2403ca(0x230)]['closest'](_0x2403ca(0x311));if(_0x308195)setTimeout(()=>_0x308195[_0x2403ca(0xe19)]['add'](_0x2403ca(0x1e8)),0x0);},_0x4ab4bf['ondragend']=()=>{const _0x27dd0b=_0x5c8570;_0x308195&&(_0x308195[_0x27dd0b(0xe19)][_0x27dd0b(0x677)]('opacity-50'),_0x308195=null);},_0x4ab4bf[_0x5c8570(0xd1a)]=_0x3bedca=>{_0x3bedca['preventDefault']();},_0x4ab4bf[_0x5c8570(0xcf9)]=_0x5e4afa=>{const _0x134f9c=_0x5c8570;_0x5e4afa[_0x134f9c(0xc2b)]();if(_0x308195){const _0x40435c=[..._0x4ab4bf[_0x134f9c(0x99b)](_0x134f9c(0xb33))][_0x134f9c(0xbab)]((_0x17bd1a,_0x5a1516)=>{const _0x103355=_0x134f9c,_0xc08c49=_0x5a1516[_0x103355(0x572)](),_0x3ed66e=_0x5e4afa['clientY']-_0xc08c49[_0x103355(0x14b)]-_0xc08c49[_0x103355(0xbaf)]/0x2;return _0x3ed66e<0x0&&_0x3ed66e>_0x17bd1a[_0x103355(0x5c0)]?{'offset':_0x3ed66e,'element':_0x5a1516}:_0x17bd1a;},{'offset':Number[_0x134f9c(0xcd4)]})[_0x134f9c(0x607)];_0x40435c==null?_0x4ab4bf[_0x134f9c(0x963)](_0x308195):_0x4ab4bf[_0x134f9c(0xdba)](_0x308195,_0x40435c);const _0x3c1a66=[..._0x4ab4bf[_0x134f9c(0x99b)](_0x134f9c(0x311))]['map'](_0x4a551a=>_0x4a551a[_0x134f9c(0xb42)][_0x134f9c(0x3eb)]);fileShortcutOrder[activeFileShortcutTabId]=_0x3c1a66,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x4e88f7=_0x1dab5f,_0x3f52f2=prompt(_0x4e88f7(0x23b),_0x4e88f7(0xbd1));_0x3f52f2&&_0x3f52f2[_0x4e88f7(0xb6d)]()&&(fileShortcutTabs[_0x4e88f7(0x20e)]({'id':'tab_'+Date[_0x4e88f7(0xaf6)](),'name':_0x3f52f2[_0x4e88f7(0xb6d)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x3f60bc=_0x1dab5f,_0x22480f=document[_0x3f60bc(0x242)]('file-shortcut-container'),_0x398bb4=document[_0x3f60bc(0x242)](_0x3f60bc(0xdac)),_0x4e4495=document[_0x3f60bc(0x242)]('file-shortcuts-loading-msg');if(_0x4e4495)_0x4e4495[_0x3f60bc(0xe19)][_0x3f60bc(0x27c)](_0x3f60bc(0x414));if(!_0x22480f||!_0x398bb4)return;const _0x450b62=fileShortcuts[_0x3f60bc(0x801)](0x0,0x4),_0x1c1128=fileShortcuts[_0x3f60bc(0x801)](0x4);_0x22480f[_0x3f60bc(0x90d)]=_0x450b62[_0x3f60bc(0xdc6)](_0x25338b=>{const _0x3c1081=_0x3f60bc,_0x1926ac=_0x25338b[_0x3c1081(0x455)]&&_0x25338b[_0x3c1081(0x455)][_0x3c1081(0xb6d)]()!=='',_0x56a6c9=selectedFile&&selectedFile[_0x3c1081(0x3eb)]===_0x25338b['id'];let _0x595b75=_0x3c1081(0xbe4),_0xb5c172='🔗';if(_0x56a6c9)_0x595b75='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0xb5c172=_0x3c1081(0x3e3);else _0x1926ac&&(_0x595b75=_0x3c1081(0x493),_0xb5c172='📄');const _0x333c3f=!_0x25338b[_0x3c1081(0x729)]?_0x3c1081(0x41a)+_0x25338b['id']+_0x3c1081(0x73a):'';return _0x3c1081(0x81c)+_0x25338b['id']+_0x3c1081(0x3a1)+_0x595b75+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0xb5c172+_0x3c1081(0xd20)+_0x25338b[_0x3c1081(0x4cc)]+_0x3c1081(0xae6)+_0x25338b['id']+_0x3c1081(0x33c)+_0x333c3f+_0x3c1081(0x35f);})[_0x3f60bc(0xe10)](''),_0x1c1128[_0x3f60bc(0x283)]>0x0&&(_0x22480f[_0x3f60bc(0x90d)]+=_0x3f60bc(0xdc2)),_0x1c1128[_0x3f60bc(0x283)]>0x0?_0x398bb4[_0x3f60bc(0x90d)]=_0x1c1128['map'](_0x32ec6a=>_0x3f60bc(0xc7f)+(_0x32ec6a['url']?'📄':'🔗')+'\x20'+_0x32ec6a[_0x3f60bc(0x4cc)]+_0x3f60bc(0xc8e)+_0x32ec6a['id']+_0x3f60bc(0xcf4)+_0x32ec6a['id']+_0x3f60bc(0xdcb)+(!_0x32ec6a[_0x3f60bc(0x729)]?_0x3f60bc(0x41a)+_0x32ec6a['id']+_0x3f60bc(0xbdc):'')+_0x3f60bc(0x71e))[_0x3f60bc(0xe10)](''):_0x398bb4[_0x3f60bc(0x90d)]=_0x3f60bc(0x5ce);}function openFileShortcutEditor(_0x4cb045=null){const _0x1322c4=_0x1dab5f,_0x25e31a=document[_0x1322c4(0x242)](_0x1322c4(0xcec)),_0x2f7b73=document[_0x1322c4(0x242)](_0x1322c4(0xd3d)),_0x28dfeb=document[_0x1322c4(0x242)](_0x1322c4(0xc01)),_0x2a4db1=document['getElementById'](_0x1322c4(0x646)),_0x47e329=document[_0x1322c4(0x242)](_0x1322c4(0x446));if(_0x4cb045){const _0x41c902=fileShortcuts[_0x1322c4(0x794)](_0x45e78a=>_0x45e78a['id']===_0x4cb045);if(!_0x41c902)return;_0x2f7b73[_0x1322c4(0xafa)]='แก้ไขปุ่มลัดจากไฟล์',_0x28dfeb[_0x1322c4(0xbfb)]=_0x41c902['id'],_0x2a4db1[_0x1322c4(0xbfb)]=_0x41c902[_0x1322c4(0x4cc)],_0x47e329['value']=_0x41c902[_0x1322c4(0x455)]||'';}else _0x2f7b73[_0x1322c4(0xafa)]=_0x1322c4(0x991),_0x28dfeb['value']='',_0x2a4db1['value']='',_0x47e329[_0x1322c4(0xbfb)]='';_0x25e31a['classList'][_0x1322c4(0x677)](_0x1322c4(0x414));}async function saveFileShortcutChanges(){const _0x437220=_0x1dab5f,_0x9a0523=document[_0x437220(0x242)](_0x437220(0xc01))['value'],_0x460ff4=document['getElementById'](_0x437220(0x646))[_0x437220(0xbfb)][_0x437220(0xb6d)](),_0x59471a=document[_0x437220(0x242)](_0x437220(0x446))['value'][_0x437220(0xb6d)]();if(!_0x460ff4){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x3fb9f0={'id':_0x9a0523||_0x437220(0xa00)+Date[_0x437220(0xaf6)](),'name':_0x460ff4,'url':_0x59471a,'isDefault':_0x9a0523[_0x437220(0x1f4)](_0x437220(0x8e4))};let _0x1c5e1c;_0x9a0523?_0x1c5e1c=fileShortcuts[_0x437220(0xdc6)](_0x7d4205=>_0x7d4205['id']===_0x9a0523?_0x3fb9f0:_0x7d4205):_0x1c5e1c=[...fileShortcuts,_0x3fb9f0];try{const _0x2b0da5=doc(db,_0x437220(0x192),'fileShortcutsConfig');await setDoc(_0x2b0da5,{'shortcuts':_0x1c5e1c},{'merge':!![]}),document[_0x437220(0x242)](_0x437220(0xcec))[_0x437220(0xe19)][_0x437220(0x27c)]('hidden');}catch(_0xaf0b81){console['error'](_0x437220(0xdda),_0xaf0b81),showMessage(_0x437220(0xc8d));}}async function handleFileShortcutClick(_0x340438){const _0xb99ad4=_0x1dab5f,_0x1784aa=fileShortcuts['find'](_0x1443f1=>_0x1443f1['id']===_0x340438);if(!_0x1784aa)return;if(!_0x1784aa[_0xb99ad4(0x455)]||_0x1784aa[_0xb99ad4(0x455)]['trim']()===''){openFileShortcutEditor(_0x340438);return;}const _0x5f35b5=document[_0xb99ad4(0xb19)](_0xb99ad4(0x6f3)+_0x340438+'\x22]');if(_0x5f35b5){const _0xbea0f2=_0x5f35b5['innerHTML'];_0x5f35b5[_0xb99ad4(0x90d)]=_0xb99ad4(0xc0b),_0x5f35b5[_0xb99ad4(0xd66)]=!![];}document[_0xb99ad4(0x99b)]('.file-shortcut-btn')[_0xb99ad4(0xbdf)](_0x1c1e65=>{const _0x4796cd=_0xb99ad4;if(_0x1c1e65[_0x4796cd(0xb42)]['id']!==_0x340438)_0x1c1e65[_0x4796cd(0xe19)][_0x4796cd(0x27c)](_0x4796cd(0x1e8),_0x4796cd(0x473));});try{const _0x39884d=new URL(_0x1784aa[_0xb99ad4(0x455)])['pathname'],_0x562f86=_0x39884d[_0xb99ad4(0xc12)](_0x39884d['lastIndexOf']('/')+0x1)||(_0x1784aa[_0xb99ad4(0x455)][_0xb99ad4(0x87f)](_0xb99ad4(0x70d))?_0xb99ad4(0xd6d):_0xb99ad4(0x854)),_0x38c649=await fetchFileFromUrl(_0x1784aa[_0xb99ad4(0x455)],_0x562f86);_0x38c649[_0xb99ad4(0x3eb)]=_0x340438,selectedFile=_0x38c649,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0xb99ad4(0x242)](_0xb99ad4(0x8ed))[_0xb99ad4(0x5e1)]({'behavior':_0xb99ad4(0xa74),'block':_0xb99ad4(0x69b)});}catch(_0x534906){console[_0xb99ad4(0xd98)](_0xb99ad4(0xb2f),_0x534906),showMessage('เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20'+_0x534906[_0xb99ad4(0xa9f)]),renderFileShortcuts();}finally{document[_0xb99ad4(0x99b)](_0xb99ad4(0x7c3))[_0xb99ad4(0xbdf)](_0x4c2dcb=>{const _0x11191c=_0xb99ad4;_0x4c2dcb[_0x11191c(0xe19)][_0x11191c(0x677)](_0x11191c(0x1e8),_0x11191c(0x473)),_0x4c2dcb[_0x11191c(0xd66)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x21b6f3=_0x1dab5f;if(allQuizzesGlobal[_0x21b6f3(0x283)]>0x0)return;console['log'](_0x21b6f3(0x4bb)),showMessage(_0x21b6f3(0x599));try{const _0x27f653=await getDocs(collection(db,_0x21b6f3(0xb99)+appId+_0x21b6f3(0x48d)));allQuizzesGlobal=_0x27f653[_0x21b6f3(0x5ab)][_0x21b6f3(0xdc6)](_0x602661=>({'id':_0x602661['id'],..._0x602661['data']()})),console['log'](_0x21b6f3(0x897)+allQuizzesGlobal[_0x21b6f3(0x283)]+_0x21b6f3(0x863)),messageModal[_0x21b6f3(0xe19)][_0x21b6f3(0x27c)](_0x21b6f3(0x414));}catch(_0x10b424){console['error'](_0x21b6f3(0xc64),_0x10b424),messageModal[_0x21b6f3(0xe19)][_0x21b6f3(0x27c)]('hidden');throw new Error(_0x21b6f3(0x62a));}}function exportQuizAsWorksheetPDF(){const _0x53c904=_0x1dab5f;if(!currentQuizData||!currentQuizData[_0x53c904(0x3ef)]){showMessage(_0x53c904(0xc41));return;}const _0x5e6b6f=currentQuizData,_0xd90c6c=window['open']('',_0x53c904(0xaf2)),_0x1af652=_0x1bdc72=>String[_0x53c904(0xa1c)](0x41+_0x1bdc72),_0xa26537=_0x53c904(0x540)+_0x5e6b6f[_0x53c904(0xe0e)]+_0x53c904(0x65f)+_0x5e6b6f[_0x53c904(0xe0e)]+_0x53c904(0x4fc)+_0x5e6b6f[_0x53c904(0x3ef)]['map']((_0xd07db6,_0xef5842)=>{const _0x35bc99=_0x53c904;let _0x38887c='';const _0x96d306=_0xd07db6[_0x35bc99(0x5c5)]||_0x5e6b6f['quizType'];switch(_0x96d306){case _0x35bc99(0x423):case _0x35bc99(0xd36):_0x38887c=_0x35bc99(0xbee)+_0xd07db6[_0x35bc99(0x381)][_0x35bc99(0xdc6)]((_0x45310c,_0x4302c8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1af652(_0x4302c8)+'.\x20'+_0x45310c+_0x35bc99(0x964))['join']('<br>')+'</div>';break;case _0x35bc99(0x66d):_0x38887c=_0x35bc99(0x185);break;default:_0x38887c=_0x35bc99(0xce2);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0xef5842+0x1)+_0x35bc99(0x1f5)+(_0xd07db6['stem']||_0xd07db6[_0x35bc99(0x8c4)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xd07db6['imageCode']?_0x35bc99(0x487)+_0xd07db6['imageCode']+_0x35bc99(0x30c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38887c+_0x35bc99(0x1ad);})[_0x53c904(0xe10)]('')+_0x53c904(0x8bd);_0xd90c6c[_0x53c904(0x77a)]['write'](_0xa26537),_0xd90c6c[_0x53c904(0x77a)][_0x53c904(0x123)](),_0xd90c6c[_0x53c904(0x356)]=function(){setTimeout(()=>{const _0x2848fb=_0x5ef1;_0xd90c6c[_0x2848fb(0x5ec)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x34eaec=_0x1dab5f;if(!currentQuizData||!currentQuizData[_0x34eaec(0x3ef)]){showMessage(_0x34eaec(0xc41));return;}const _0x31d04f=currentQuizData,_0x17f238=window[_0x34eaec(0x2ef)]('',_0x34eaec(0xaf2)),_0x5e22e1=_0x414814=>String[_0x34eaec(0xa1c)](0x41+_0x414814),_0x31247e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x31d04f[_0x34eaec(0xe0e)]+_0x34eaec(0x656)+_0x31d04f['questions'][_0x34eaec(0xdc6)]((_0x199a93,_0x13c203)=>{const _0x3afa93=_0x34eaec;let _0xe12cd2='';const _0x39d74f=_0x199a93[_0x3afa93(0x5c5)]||_0x31d04f[_0x3afa93(0x11f)];switch(_0x39d74f){case'multiple_choice':case _0x3afa93(0xd36):_0xe12cd2='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x199a93[_0x3afa93(0x381)][_0x3afa93(0xdc6)]((_0x2cb433,_0x1a581f)=>_0x3afa93(0x2d0)+_0x5e22e1(_0x1a581f)+'.\x20'+_0x2cb433+_0x3afa93(0x69f))['join']('<br>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'true_false':_0xe12cd2='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0xe12cd2='';break;}return _0x3afa93(0x44e)+_0x31d04f[_0x3afa93(0xe0e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x13c203+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x199a93[_0x3afa93(0xd64)]||_0x199a93[_0x3afa93(0x8c4)])+_0x3afa93(0x606)+(_0x199a93[_0x3afa93(0xb12)]?_0x3afa93(0x1f0)+_0x199a93[_0x3afa93(0xb12)]+_0x3afa93(0x30c):'')+_0x3afa93(0x44d)+_0xe12cd2+_0x3afa93(0xafc);})[_0x34eaec(0xe10)]('')+_0x34eaec(0xd8b);_0x17f238['document']['write'](_0x31247e),_0x17f238['document'][_0x34eaec(0x123)](),_0x17f238[_0x34eaec(0x356)]=function(){setTimeout(()=>{const _0x424547=_0x5ef1;_0x17f238[_0x424547(0x5ec)]();},0x5dc);};}async function handleToggleStarQuiz(_0x83080b){const _0x5386d8=_0x1dab5f,_0x5694c1=doc(db,_0x5386d8(0xb99)+appId+_0x5386d8(0x48d),_0x83080b);try{const _0x2094b9=await getDoc(_0x5694c1);if(_0x2094b9[_0x5386d8(0xb96)]()){const _0xe28e39=_0x2094b9[_0x5386d8(0x1f1)]()['isStarred']||![];await updateDoc(_0x5694c1,{'isStarred':!_0xe28e39});}}catch(_0x368633){console[_0x5386d8(0xd98)](_0x5386d8(0x3cc),_0x368633),showMessage(_0x5386d8(0x7da));}}async function displayQuestionBank(){const _0x4e7a48=_0x1dab5f,_0x504711=document['getElementById']('bank-input-area');_0x504711[_0x4e7a48(0x90d)]=_0x4e7a48(0x602);try{const _0x1ed55a=collection(db,_0x4e7a48(0xb99)+appId+_0x4e7a48(0xdaa)+userId+_0x4e7a48(0xc84)),_0x1e7465=query(_0x1ed55a),_0x19ae0a=await getDocs(_0x1e7465);if(_0x19ae0a[_0x4e7a48(0x57e)]){_0x504711[_0x4e7a48(0x90d)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x57d1db=_0x19ae0a[_0x4e7a48(0x5ab)][_0x4e7a48(0xdc6)](_0x50c023=>{const _0x5f0e82=_0x4e7a48,_0x58cfb9=_0x50c023['data'](),_0x145256=_0x50c023['id'];return _0x5f0e82(0x4ec)+JSON[_0x5f0e82(0x3a5)](_0x58cfb9)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x58cfb9[_0x5f0e82(0x8c4)]||_0x58cfb9[_0x5f0e82(0xd64)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x58cfb9[_0x5f0e82(0x7ea)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x504711[_0x4e7a48(0x90d)]=_0x4e7a48(0xab5)+_0x57d1db+_0x4e7a48(0x128),document[_0x4e7a48(0x242)](_0x4e7a48(0x4f9))[_0x4e7a48(0x264)](_0x4e7a48(0xc23),createQuizFromBank);}catch(_0x14c230){console[_0x4e7a48(0xd98)](_0x4e7a48(0x962),_0x14c230),_0x504711[_0x4e7a48(0x90d)]=_0x4e7a48(0x8fa);}}async function handleExportLessonToPDF(){const _0x10366a=_0x1dab5f,_0xec6f98=document[_0x10366a(0x242)](_0x10366a(0x91f)),_0x3e5d63=document['getElementById']('lesson-view-title')[_0x10366a(0xafa)]||_0x10366a(0x9a5);if(!_0xec6f98){showMessage(_0x10366a(0x4a4));return;}const _0x36414c=window[_0x10366a(0x2ef)]('','_blank'),_0x563f69=_0x10366a(0xbf3)+_0x3e5d63+_0x10366a(0x982)+_0x3e5d63+_0x10366a(0x134)+_0xec6f98[_0x10366a(0x90d)]+_0x10366a(0x8bd);_0x36414c['document'][_0x10366a(0x736)](_0x563f69),_0x36414c[_0x10366a(0x77a)][_0x10366a(0x123)](),_0x36414c[_0x10366a(0x356)]=function(){setTimeout(()=>{_0x36414c['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x198462,_0x574df7,_0xcc9e86){const _0x576fab=_0x1dab5f,_0x525b4a=_0x198462[_0x576fab(0x5c5)]||currentQuizData['quizType'];let _0x39a687='';if(_0x525b4a===_0x576fab(0x423)||_0x525b4a===_0x576fab(0x66d)){const _0x2e9b19=_0x525b4a===_0x576fab(0x66d)?[_0x576fab(0xab9),_0x576fab(0x518)]:_0x198462[_0x576fab(0x381)],_0x21c7a0=_0x525b4a==='true_false'?_0x198462[_0x576fab(0xbec)]?0x0:0x1:_0x198462[_0x576fab(0xd79)];_0x39a687=_0x2e9b19[_0x576fab(0xdc6)]((_0x5d2980,_0x5729c0)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x5729c0===_0x21c7a0)+_0x576fab(0xa16)+_0x5d2980+_0x576fab(0x35f))[_0x576fab(0xe10)]('');}else{if(_0x525b4a===_0x576fab(0x6ca)){const _0x37bd07=_0x198462[_0x576fab(0x9cb)]||[];_0x39a687=_0x37bd07['map'](_0x47a49c=>_0x576fab(0x828)+(_0x47a49c===_0x198462[_0x576fab(0x38f)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47a49c+_0x576fab(0x35f))[_0x576fab(0xe10)]('');}}const _0x576ea8=_0x198462[_0x576fab(0xd64)]||_0x198462[_0x576fab(0x8c4)],_0x531d73=_0x576fab(0xd63)+(_0x574df7+0x1)+'\x20/\x20'+_0xcc9e86+_0x576fab(0x41d)+currentLiveGamePin+_0x576fab(0x7b3)+_0x576ea8+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39a687+_0x576fab(0x48e);liveGameView[_0x576fab(0x90d)]=_0x531d73,window[_0x576fab(0x972)]&&MathJax[_0x576fab(0xde3)]&&MathJax[_0x576fab(0xde3)]([liveGameView]),document['getElementById'](_0x576fab(0xba5))[_0x576fab(0x264)](_0x576fab(0xc23),()=>revealAnswerForAdmin(_0x574df7,_0xcc9e86)),document[_0x576fab(0x242)](_0x576fab(0x224))[_0x576fab(0x264)](_0x576fab(0xc23),async()=>{const _0x47f62b=_0x576fab;showConfirmation(_0x47f62b(0x164),async()=>{const _0x3c3429=_0x47f62b,_0x454ba3=doc(db,_0x3c3429(0xb99)+appId+_0x3c3429(0x4e8),currentLiveGameId);await updateDoc(_0x454ba3,{'status':_0x3c3429(0x504)});});}),document[_0x576fab(0x242)](_0x576fab(0x28a))[_0x576fab(0x264)](_0x576fab(0xc23),()=>{const _0x14d8b2=_0x576fab;document['getElementById'](_0x14d8b2(0x47e))['classList']['toggle'](_0x14d8b2(0x414));});}function promptForProjectBeforeGenerating(_0x38e573){const _0x5ed231=_0x1dab5f,_0x13d77d=document[_0x5ed231(0x242)](_0x5ed231(0x7cb)),_0x22518f=document[_0x5ed231(0x242)](_0x5ed231(0x843)),_0x20f3d7=_0x13d77d['querySelector']('h3'),_0x4e4e6a=document[_0x5ed231(0x242)]('confirm-move-quiz-btn'),_0x310a53=document['getElementById'](_0x5ed231(0xc56));_0x20f3d7[_0x5ed231(0xafa)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x4e4e6a[_0x5ed231(0xafa)]=_0x5ed231(0x979),_0x4e4e6a[_0x5ed231(0xd66)]=!![];allProjects['length']===0x0?_0x22518f['innerHTML']=_0x5ed231(0xa0a):(_0x22518f[_0x5ed231(0x90d)]=_0x5ed231(0x984)+allProjects[_0x5ed231(0xdc6)](_0x13df34=>_0x5ed231(0x397)+_0x13df34['id']+'\x22>'+_0x13df34[_0x5ed231(0x7c8)]+_0x5ed231(0x460))[_0x5ed231(0xe10)](''),_0x4e4e6a[_0x5ed231(0xd66)]=![]);_0x13d77d[_0x5ed231(0xe19)][_0x5ed231(0x677)](_0x5ed231(0x414));const _0x1f5d7b=async()=>{const _0xf47ef3=_0x5ed231,_0x290a0d=_0x22518f[_0xf47ef3(0xbfb)];if(!_0x290a0d){showMessage(_0xf47ef3(0x5f2));return;}_0x13d77d['classList'][_0xf47ef3(0x27c)](_0xf47ef3(0x414)),await loadProjectDetails(_0x290a0d),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x38e573),_0x28eebe();},_0x28eebe=()=>{const _0x47713f=_0x5ed231;_0x20f3d7[_0x47713f(0xafa)]=_0x47713f(0xafe),_0x4e4e6a[_0x47713f(0xafa)]=_0x47713f(0xcda),_0x4e4e6a['removeEventListener'](_0x47713f(0xc23),_0x1f5d7b),_0x310a53[_0x47713f(0x232)](_0x47713f(0xc23),_0x28eebe),_0x4e4e6a[_0x47713f(0x264)]('click',confirmMoveQuiz);};_0x4e4e6a[_0x5ed231(0x232)]('click',confirmMoveQuiz),_0x4e4e6a[_0x5ed231(0x264)]('click',_0x1f5d7b),_0x310a53[_0x5ed231(0x264)](_0x5ed231(0xc23),_0x28eebe);}function showStudentLiveQuestionView(_0x21b6ff,_0x1e3559,_0x2fa7c3){const _0x918ba4=_0x1dab5f,_0x51042e=_0x21b6ff[_0x918ba4(0x5c5)]||currentQuizData[_0x918ba4(0x11f)];let _0x5ae9af='';if(_0x51042e===_0x918ba4(0x423)||_0x51042e===_0x918ba4(0x66d)){const _0x2cb0e4=_0x51042e==='true_false'?[_0x918ba4(0xab9),_0x918ba4(0x518)]:_0x21b6ff[_0x918ba4(0x381)];_0x5ae9af=_0x2cb0e4[_0x918ba4(0xdc6)]((_0x1362b1,_0x27cb96)=>_0x918ba4(0x145)+_0x27cb96+_0x918ba4(0xda4)+_0x1362b1+_0x918ba4(0xaf8))[_0x918ba4(0xe10)]('');}else{if(_0x51042e===_0x918ba4(0x6ca)){const _0x3c7e76=_0x21b6ff[_0x918ba4(0x9cb)]||[];_0x5ae9af=_0x3c7e76['map']((_0x5bc1ed,_0x44d06b)=>_0x918ba4(0x145)+_0x44d06b+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5bc1ed+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x918ba4(0xe10)]('');}else _0x51042e===_0x918ba4(0xb16)&&(_0x5ae9af=_0x918ba4(0x1b7));}const _0x5d2be8=_0x21b6ff[_0x918ba4(0xd64)]||_0x21b6ff[_0x918ba4(0x8c4)],_0x82d59e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x1e3559+0x1)+_0x918ba4(0x25f)+_0x2fa7c3+_0x918ba4(0x302)+_0x5d2be8+_0x918ba4(0xc6f)+_0x5ae9af+_0x918ba4(0x27d);liveGameView[_0x918ba4(0x90d)]=_0x82d59e;window['MathJax']&&MathJax[_0x918ba4(0xde3)]&&MathJax[_0x918ba4(0xde3)]([liveGameView]);const _0x10dd32=document[_0x918ba4(0x242)](_0x918ba4(0x7d7));_0x10dd32&&_0x10dd32[_0x918ba4(0x264)](_0x918ba4(0xc23),()=>{const _0x149020=_0x918ba4,_0x1c3803=document[_0x149020(0x242)](_0x149020(0x846))['value'];handleLiveAnswer(_0x1c3803,_0x21b6ff);}),document[_0x918ba4(0x242)]('live-options-container')[_0x918ba4(0x264)](_0x918ba4(0xc23),_0x2a23f0=>{const _0x360304=_0x918ba4,_0x401e97=_0x2a23f0['target'][_0x360304(0xc75)](_0x360304(0x1a6));if(_0x401e97){const _0x2b6c37=parseInt(_0x401e97[_0x360304(0xb42)][_0x360304(0x6a8)]);handleLiveAnswer(_0x2b6c37,_0x21b6ff);}});}function listenForBlueprintShortcuts(){const _0x2329cd=_0x1dab5f,_0x6551ce=doc(db,'globalSettings',_0x2329cd(0x64f));onSnapshot(_0x6551ce,_0x3eafae=>{const _0x552c48=_0x2329cd;let _0x5df4d2=[],_0x2b63dd=[],_0x5cdb40={};if(_0x3eafae[_0x552c48(0xb96)]()){const _0x2d8fc5=_0x3eafae[_0x552c48(0x1f1)]();_0x5df4d2=_0x2d8fc5[_0x552c48(0x1af)]||[],_0x2b63dd=_0x2d8fc5[_0x552c48(0x5d7)]||[],_0x5cdb40=_0x2d8fc5[_0x552c48(0xd8a)]||{};}!_0x2b63dd[_0x552c48(0x794)](_0x116db7=>_0x116db7['id']===_0x552c48(0x2af))&&_0x2b63dd['unshift']({'id':_0x552c48(0x2af),'name':_0x552c48(0x13b),'isDefault':!![]}),!_0x5df4d2['find'](_0x127f5a=>_0x127f5a['id']===_0x552c48(0xca8))&&_0x5df4d2[_0x552c48(0x146)]({'id':_0x552c48(0xca8),'name':_0x552c48(0x666),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x5df4d2[_0x552c48(0x794)](_0x1d2a8a=>_0x1d2a8a['id']===_0x552c48(0x670))&&_0x5df4d2[_0x552c48(0x146)]({'id':_0x552c48(0x670),'name':'Blueprint\x202','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x5df4d2,shortcutTabs=_0x2b63dd,shortcutOrder=_0x5cdb40,renderBlueprintShortcuts(),!document[_0x552c48(0x242)](_0x552c48(0x5b6))['classList']['contains'](_0x552c48(0x414))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x1928a0=_0x1dab5f,_0xda1130=document['getElementById']('shortcut-tabs-nav'),_0x13b595=document[_0x1928a0(0x242)](_0x1928a0(0xb75));if(!_0xda1130||!_0x13b595)return;_0xda1130[_0x1928a0(0x90d)]=shortcutTabs[_0x1928a0(0xdc6)](_0x17a8b4=>{const _0x41880f=_0x1928a0,_0x33d4df=_0x17a8b4['id']===activeShortcutTabId,_0x40d7a2='border-indigo-500\x20text-indigo-600',_0x5def8b='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return _0x41880f(0xd93)+_0x17a8b4['id']+_0x41880f(0x3c8)+(_0x33d4df?_0x40d7a2:_0x5def8b)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x17a8b4['name']+_0x41880f(0xac2)+_0x17a8b4['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x17a8b4[_0x41880f(0x729)]?_0x41880f(0x651)+_0x17a8b4['id']+_0x41880f(0x2a5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1928a0(0xe10)]('');const _0x44b8d9=shortcutTabs[_0x1928a0(0x794)](_0x334fc6=>_0x334fc6['id']===activeShortcutTabId);let _0x46f1b4=[];if(_0x44b8d9){if(_0x44b8d9['isDefault'])_0x46f1b4=[...blueprintShortcuts];else{const _0x37cd77=_0x44b8d9[_0x1928a0(0x3f6)]||[];_0x46f1b4=blueprintShortcuts[_0x1928a0(0x3be)](_0x3bbcea=>_0x37cd77['includes'](_0x3bbcea['id']));}}const _0x4b8e3f=shortcutOrder[activeShortcutTabId]||[];_0x46f1b4[_0x1928a0(0xa23)]((_0x17807e,_0x1e7f5d)=>{const _0x2e5629=_0x1928a0,_0x1cc07e=_0x4b8e3f[_0x2e5629(0x570)](_0x17807e['id']),_0x3e6c7e=_0x4b8e3f['indexOf'](_0x1e7f5d['id']);if(_0x1cc07e===-0x1)return 0x1;if(_0x3e6c7e===-0x1)return-0x1;return _0x1cc07e-_0x3e6c7e;}),_0x13b595[_0x1928a0(0x90d)]=_0x46f1b4['length']>0x0?_0x46f1b4[_0x1928a0(0xdc6)](_0x167135=>{const _0x181a87=_0x1928a0;let _0x2ee84d='🧩';if(_0x167135[_0x181a87(0xaab)]&&_0x167135[_0x181a87(0x584)])_0x2ee84d='📗';else{if(_0x167135[_0x181a87(0xaab)])_0x2ee84d='📘';}const _0x572b15=shortcutTabs[_0x181a87(0x3be)](_0x7a9d5f=>!_0x7a9d5f['isDefault']),_0x11d868=_0x44b8d9['isDefault']&&_0x572b15[_0x181a87(0x283)]>0x0?_0x181a87(0x24b)+_0x572b15[_0x181a87(0xdc6)](_0x16000c=>_0x181a87(0x2b0)+_0x167135['id']+'\x22\x20data-target-tab-id=\x22'+_0x16000c['id']+'\x22>'+_0x16000c[_0x181a87(0x4cc)]+_0x181a87(0x217))['join']('')+_0x181a87(0xd47):'';return _0x181a87(0x598)+_0x167135['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x2ee84d+'\x20'+_0x167135['name']+_0x181a87(0x5c6)+_0x167135['id']+_0x181a87(0x1d6)+_0x167135['id']+_0x181a87(0x764)+(!_0x167135['isDefault']?_0x181a87(0x41a)+_0x167135['id']+_0x181a87(0x966):'')+_0x181a87(0x4d7)+(!_0x44b8d9[_0x181a87(0x729)]?_0x181a87(0xa37)+_0x167135['id']+_0x181a87(0x41c):'')+_0x181a87(0x4d7)+_0x11d868+_0x181a87(0x328);})[_0x1928a0(0xe10)](''):_0x1928a0(0x88e),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0xb63b29=_0x1dab5f;document[_0xb63b29(0x99b)](_0xb63b29(0x8f6))[_0xb63b29(0xbdf)](_0x5cbdf0=>{const _0x3c05f5=_0xb63b29;_0x5cbdf0[_0x3c05f5(0x264)](_0x3c05f5(0xc23),_0x5b24c4=>{const _0x4b8945=_0x3c05f5;activeShortcutTabId=_0x5b24c4[_0x4b8945(0x479)][_0x4b8945(0xb42)][_0x4b8945(0x6cc)],renderAdditionalShortcutsModal();}),_0x5cbdf0[_0x3c05f5(0x264)](_0x3c05f5(0x7c1),_0x1d857a=>{const _0x4211cb=_0x3c05f5,_0x7d90aa=_0x1d857a[_0x4211cb(0x479)];_0x7d90aa['querySelector'](_0x4211cb(0xda7))[_0x4211cb(0xe19)][_0x4211cb(0x27c)]('hidden');const _0x1f0c8e=_0x7d90aa[_0x4211cb(0xb19)](_0x4211cb(0x6ec));_0x1f0c8e[_0x4211cb(0xe19)][_0x4211cb(0x677)](_0x4211cb(0x414)),_0x1f0c8e[_0x4211cb(0xaf4)](),_0x1f0c8e[_0x4211cb(0xb61)]();});}),document[_0xb63b29(0x99b)]('.tab-name-input')[_0xb63b29(0xbdf)](_0xfd9785=>{const _0x1def97=_0xb63b29,_0x496ff1=()=>{const _0x3361ff=_0x5ef1,_0x50936e=_0xfd9785[_0x3361ff(0xc75)](_0x3361ff(0x8f6))[_0x3361ff(0xb42)][_0x3361ff(0x6cc)];handleRenameShortcutTab(_0x50936e,_0xfd9785[_0x3361ff(0xbfb)]);};_0xfd9785[_0x1def97(0x264)](_0x1def97(0xbb2),_0x496ff1),_0xfd9785['addEventListener']('keydown',_0x331e7b=>{const _0x44b09b=_0x1def97;if(_0x331e7b['key']===_0x44b09b(0xda8))_0xfd9785['blur']();});}),document['querySelectorAll']('.delete-shortcut-tab-btn')[_0xb63b29(0xbdf)](_0x5cb821=>{const _0x3864c8=_0xb63b29;_0x5cb821[_0x3864c8(0x264)](_0x3864c8(0xc23),_0xaf09db=>handleDeleteShortcutTab(_0xaf09db[_0x3864c8(0x479)][_0x3864c8(0xb42)][_0x3864c8(0x6cc)]));}),document[_0xb63b29(0x99b)](_0xb63b29(0xae9))[_0xb63b29(0xbdf)](_0x654572=>{const _0x37be59=_0xb63b29;_0x654572[_0x37be59(0x264)](_0x37be59(0xc23),_0x9f3ca3=>{const _0x1b0469=_0x37be59;_0x9f3ca3['preventDefault']();const {shortcutId:_0x5f06c4,targetTabId:_0x1c18df}=_0x9f3ca3[_0x1b0469(0x479)]['dataset'];handleMoveShortcutToTab(_0x5f06c4,_0x1c18df);});}),document[_0xb63b29(0x99b)](_0xb63b29(0x1b0))[_0xb63b29(0xbdf)](_0x14ee7d=>{const _0x19aa79=_0xb63b29;_0x14ee7d[_0x19aa79(0x264)](_0x19aa79(0xc23),_0x210e03=>{const _0x2acc69=_0x19aa79;handleRemoveShortcutFromTab(_0x210e03[_0x2acc69(0x479)][_0x2acc69(0xb42)][_0x2acc69(0x3eb)],activeShortcutTabId);});});const _0x16e3b4=document[_0xb63b29(0x242)](_0xb63b29(0xb75));_0x16e3b4[_0xb63b29(0x99b)](_0xb63b29(0x310))[_0xb63b29(0xbdf)](_0x4b19ab=>{const _0x25efc1=_0xb63b29;_0x4b19ab[_0x25efc1(0x264)]('click',()=>{const _0x7d94cd=_0x25efc1;document[_0x7d94cd(0x242)](_0x7d94cd(0x5b6))[_0x7d94cd(0xe19)][_0x7d94cd(0x27c)](_0x7d94cd(0x414)),handleShortcutClick(_0x4b19ab[_0x7d94cd(0xb42)]['id']);});});let _0x184e84=null;_0x16e3b4[_0xb63b29(0x264)](_0xb63b29(0x7f7),_0x2cd35d=>{const _0x441b96=_0xb63b29;_0x184e84=_0x2cd35d[_0x441b96(0x230)][_0x441b96(0xc75)]('.shortcut-list-item'),_0x184e84&&setTimeout(()=>_0x184e84[_0x441b96(0xe19)]['add'](_0x441b96(0x1e8)),0x0);}),_0x16e3b4['addEventListener'](_0xb63b29(0x79b),()=>{const _0x4d3578=_0xb63b29;_0x184e84&&(_0x184e84[_0x4d3578(0xe19)]['remove'](_0x4d3578(0x1e8)),_0x184e84=null);}),_0x16e3b4[_0xb63b29(0x264)](_0xb63b29(0x495),_0x11eda7=>{const _0x3019d3=_0xb63b29;_0x11eda7[_0x3019d3(0xc2b)]();const _0x23aced=[..._0x16e3b4[_0x3019d3(0x99b)]('.shortcut-list-item:not(.opacity-50)')][_0x3019d3(0xbab)]((_0x7dfb5d,_0x80d31)=>{const _0x533ecb=_0x3019d3,_0x421e66=_0x80d31['getBoundingClientRect'](),_0x100382=_0x11eda7['clientY']-_0x421e66[_0x533ecb(0x14b)]-_0x421e66[_0x533ecb(0xbaf)]/0x2;return _0x100382<0x0&&_0x100382>_0x7dfb5d[_0x533ecb(0x5c0)]?{'offset':_0x100382,'element':_0x80d31}:_0x7dfb5d;},{'offset':Number[_0x3019d3(0xcd4)]})[_0x3019d3(0x607)];_0x23aced==null?_0x16e3b4[_0x3019d3(0x963)](_0x184e84):_0x16e3b4['insertBefore'](_0x184e84,_0x23aced);}),_0x16e3b4['addEventListener'](_0xb63b29(0xaaa),_0xdbf9da=>{const _0x4eff3e=_0xb63b29;_0xdbf9da[_0x4eff3e(0xc2b)]();if(_0x184e84){const _0x22eda5=[..._0x16e3b4[_0x4eff3e(0x99b)](_0x4eff3e(0x311))][_0x4eff3e(0xdc6)](_0xdfd0fd=>_0xdfd0fd[_0x4eff3e(0xb42)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x22eda5);}}),document['querySelectorAll'](_0xb63b29(0x624))[_0xb63b29(0xbdf)](_0xa78b46=>{const _0x316b1f=_0xb63b29;_0xa78b46[_0x316b1f(0x264)]('click',_0x145b54=>{const _0x1eaace=_0x316b1f;_0x145b54[_0x1eaace(0x409)]();const _0x317148=_0x145b54[_0x1eaace(0x479)][_0x1eaace(0x956)],_0x350179=_0x317148[_0x1eaace(0xe19)][_0x1eaace(0x52e)]('hidden');document['querySelectorAll'](_0x1eaace(0x70b))['forEach'](_0x36d518=>_0x36d518[_0x1eaace(0xe19)][_0x1eaace(0x27c)](_0x1eaace(0x414))),_0x350179&&_0x317148[_0x1eaace(0xe19)]['remove']('hidden');});});}document[_0x1dab5f(0x264)]('click',_0x48af1a=>{const _0x229c3e=_0x1dab5f;!_0x48af1a[_0x229c3e(0x230)][_0x229c3e(0xc75)](_0x229c3e(0xce3))&&document[_0x229c3e(0x99b)]('.move-shortcut-dropdown')['forEach'](_0x2cb427=>_0x2cb427[_0x229c3e(0xe19)]['add'](_0x229c3e(0x414)));});async function saveShortcutConfig(){const _0xfc5c2c=_0x1dab5f,_0x55b846=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x55b846,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x382fee){console['error'](_0xfc5c2c(0x8ac),_0x382fee);}}async function handleAddShortcutTab(){const _0x2cb50d=_0x1dab5f,_0x445a91=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x2cb50d(0xbd1));if(!_0x445a91||_0x445a91['trim']()==='')return;shortcutTabs[_0x2cb50d(0x20e)]({'id':'tab_'+Date[_0x2cb50d(0xaf6)](),'name':_0x445a91[_0x2cb50d(0xb6d)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x4caccb,_0x573756){const _0x43d4ae=_0x1dab5f,_0x290c95=shortcutTabs['find'](_0x2fa558=>_0x2fa558['id']===_0x4caccb);_0x290c95&&_0x573756['trim']()!==''&&(_0x290c95[_0x43d4ae(0x4cc)]=_0x573756[_0x43d4ae(0xb6d)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x3f422d){const _0x1b5412=_0x1dab5f,_0x150f61=shortcutTabs[_0x1b5412(0x794)](_0x7f7587=>_0x7f7587['id']===_0x3f422d);_0x150f61&&!_0x150f61[_0x1b5412(0x729)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x150f61['name']+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x26864b=_0x1b5412;shortcutTabs=shortcutTabs[_0x26864b(0x3be)](_0xb6f9f8=>_0xb6f9f8['id']!==_0x3f422d),delete shortcutOrder[_0x3f422d];if(activeShortcutTabId===_0x3f422d)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x31f8b0,_0x468b5e){const _0x2462f8=_0x1dab5f,_0x159fb1=shortcutTabs[_0x2462f8(0x794)](_0x5f3bc9=>_0x5f3bc9['id']===_0x468b5e);_0x159fb1&&!_0x159fb1[_0x2462f8(0x3f6)]['includes'](_0x31f8b0)&&(_0x159fb1['shortcutIds']['push'](_0x31f8b0),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x4dedfa,_0x38dd4f){const _0x1ddade=_0x1dab5f,_0x45d5d0=shortcutTabs['find'](_0x3eb7ca=>_0x3eb7ca['id']===_0x38dd4f);_0x45d5d0&&!_0x45d5d0[_0x1ddade(0x729)]&&(_0x45d5d0[_0x1ddade(0x3f6)]=_0x45d5d0[_0x1ddade(0x3f6)][_0x1ddade(0x3be)](_0x4391f6=>_0x4391f6!==_0x4dedfa),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x485315,_0x5d1afc){shortcutOrder[_0x485315]=_0x5d1afc,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x3109a3=_0x1dab5f,_0x51d346=document[_0x3109a3(0x242)](_0x3109a3(0x2d4)),_0x1f49e6=document[_0x3109a3(0x242)](_0x3109a3(0xb75)),_0x59b941=document[_0x3109a3(0x242)](_0x3109a3(0x2de));_0x59b941&&_0x59b941[_0x3109a3(0xe19)][_0x3109a3(0x27c)](_0x3109a3(0x414));if(!_0x51d346||!_0x1f49e6)return;const _0x28b1fa=blueprintShortcuts['slice'](0x0,0x4),_0x2a185e=blueprintShortcuts[_0x3109a3(0x801)](0x4);_0x51d346[_0x3109a3(0x90d)]=_0x28b1fa[_0x3109a3(0xdc6)](_0x4673c6=>{const _0x10e3dd=_0x3109a3;let _0x333996='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x405ce0='🧩';if(_0x4673c6[_0x10e3dd(0xaab)]&&_0x4673c6[_0x10e3dd(0x584)])_0x333996=_0x10e3dd(0x4d9),_0x405ce0='📗';else _0x4673c6['blueprintUrl']&&(_0x333996=_0x10e3dd(0x493),_0x405ce0='📘');const _0x117e55=!_0x4673c6[_0x10e3dd(0x729)]?_0x10e3dd(0x41a)+_0x4673c6['id']+_0x10e3dd(0x8a8):'';return _0x10e3dd(0x81c)+_0x4673c6['id']+_0x10e3dd(0xa4f)+_0x333996+_0x10e3dd(0x91a)+_0x405ce0+'\x20'+_0x4673c6[_0x10e3dd(0x4cc)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4673c6['id']+_0x10e3dd(0x9f0)+_0x117e55+_0x10e3dd(0x35f);})[_0x3109a3(0xe10)](''),_0x2a185e[_0x3109a3(0x283)]>0x0&&(_0x51d346[_0x3109a3(0x90d)]+=_0x3109a3(0xb7f)),_0x2a185e[_0x3109a3(0x283)]>0x0?_0x1f49e6['innerHTML']=_0x2a185e[_0x3109a3(0xdc6)](_0x4ebc00=>{const _0x50f879=_0x3109a3;let _0x2a1d5a='🧩';if(_0x4ebc00['blueprintUrl']&&_0x4ebc00['referenceUrl'])_0x2a1d5a='📗';else _0x4ebc00[_0x50f879(0xaab)]&&(_0x2a1d5a='📘');return _0x50f879(0xc4b)+_0x2a1d5a+'\x20'+_0x4ebc00[_0x50f879(0x4cc)]+_0x50f879(0x5c6)+_0x4ebc00['id']+_0x50f879(0x1d6)+_0x4ebc00['id']+_0x50f879(0x764)+(!_0x4ebc00['isDefault']?'<button\x20data-id=\x22'+_0x4ebc00['id']+_0x50f879(0x966):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3109a3(0xe10)](''):_0x1f49e6[_0x3109a3(0x90d)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x201efa){const _0x6e514a=_0x1dab5f,_0x100dfd=_0x201efa[_0x6e514a(0xdcd)]('.')['pop']()[_0x6e514a(0x463)]();switch(_0x100dfd){case'pdf':return _0x6e514a(0x667);case _0x6e514a(0x438):return'text/plain';default:return'application/pdf';}}function openShortcutEditor(_0x226adc=null){const _0x99f440=_0x1dab5f,_0x160848=document[_0x99f440(0x242)](_0x99f440(0xb65)),_0x4b80f3=document[_0x99f440(0x242)]('shortcut-modal-title'),_0x2a6510=document[_0x99f440(0x242)]('shortcut-id-input'),_0x44939a=document[_0x99f440(0x242)]('shortcut-name-input'),_0x21bdc8=document[_0x99f440(0x242)](_0x99f440(0xa1a)),_0x465f1a=document[_0x99f440(0x242)](_0x99f440(0x478));if(_0x226adc){const _0x20e439=blueprintShortcuts['find'](_0x2966ea=>_0x2966ea['id']===_0x226adc);if(!_0x20e439)return;_0x4b80f3[_0x99f440(0xafa)]='แก้ไขปุ่มลัด',_0x2a6510[_0x99f440(0xbfb)]=_0x20e439['id'],_0x44939a['value']=_0x20e439['name'],_0x21bdc8[_0x99f440(0xbfb)]=_0x20e439[_0x99f440(0xaab)]||'',_0x465f1a[_0x99f440(0xbfb)]=_0x20e439['referenceUrl']||'';}else _0x4b80f3[_0x99f440(0xafa)]='เพิ่มปุ่มลัดใหม่',_0x2a6510[_0x99f440(0xbfb)]='',_0x44939a[_0x99f440(0xbfb)]='',_0x21bdc8[_0x99f440(0xbfb)]='',_0x465f1a[_0x99f440(0xbfb)]='';_0x160848[_0x99f440(0xe19)]['remove']('hidden');}async function saveShortcutChanges(){const _0x469df1=_0x1dab5f,_0x3cd947=document[_0x469df1(0x242)]('shortcut-id-input')[_0x469df1(0xbfb)],_0x2ed981=document[_0x469df1(0x242)](_0x469df1(0x9d6))['value'][_0x469df1(0xb6d)](),_0x225587=document['getElementById'](_0x469df1(0xa1a))[_0x469df1(0xbfb)]['trim']();if(!_0x2ed981||!_0x225587){showMessage(_0x469df1(0x672));return;}const _0x4b2852={'id':_0x3cd947||_0x469df1(0xb14)+Date[_0x469df1(0xaf6)](),'name':_0x2ed981,'blueprintUrl':_0x225587,'referenceUrl':document[_0x469df1(0x242)](_0x469df1(0x478))[_0x469df1(0xbfb)][_0x469df1(0xb6d)](),'isDefault':_0x3cd947[_0x469df1(0x1f4)](_0x469df1(0x159))};let _0x36499c;_0x3cd947?_0x36499c=blueprintShortcuts[_0x469df1(0xdc6)](_0x5ba4ec=>_0x5ba4ec['id']===_0x3cd947?_0x4b2852:_0x5ba4ec):_0x36499c=[...blueprintShortcuts,_0x4b2852];try{const _0x1da7bc=doc(db,_0x469df1(0x192),_0x469df1(0x64f));await setDoc(_0x1da7bc,{'blueprintShortcuts':_0x36499c},{'merge':!![]}),document[_0x469df1(0x242)](_0x469df1(0xb65))['classList']['add'](_0x469df1(0x414));}catch(_0x1834e5){console[_0x469df1(0xd98)](_0x469df1(0xdf5),_0x1834e5),showMessage(_0x469df1(0xc8d));}}async function handleShortcutClick(_0x1adf8f){const _0x279881=_0x1dab5f,_0x60ff5f=blueprintShortcuts[_0x279881(0x794)](_0x4c3103=>_0x4c3103['id']===_0x1adf8f);if(!_0x60ff5f||!_0x60ff5f['blueprintUrl'])return;document[_0x279881(0x242)](_0x279881(0xb4e))['classList'][_0x279881(0x27c)](_0x279881(0x414)),document['getElementById'](_0x279881(0x6f1))[_0x279881(0xd66)]=!![];const _0xac0072=document['getElementById'](_0x279881(0x715)),_0x665677=document[_0x279881(0x242)](_0x279881(0xdd3));document['getElementById']('quiz-generation-area')[_0x279881(0xe19)][_0x279881(0x677)](_0x279881(0x414)),document['getElementById'](_0x279881(0x6e5))[_0x279881(0x90d)]='',_0xac0072[_0x279881(0xe19)][_0x279881(0x677)]('hidden');try{_0x665677['textContent']=_0x279881(0xa8e);const _0x261df0=await fetchFileFromUrl(_0x60ff5f[_0x279881(0xaab)],_0x279881(0x691));let _0x497706=null;if(_0x60ff5f[_0x279881(0x584)]){_0x665677['textContent']=_0x279881(0x34e);const _0x2e2666=_0x60ff5f['referenceUrl'][_0x279881(0x463)]()[_0x279881(0x475)](_0x279881(0x70d))?_0x279881(0x889):_0x279881(0x8bf);_0x497706=await fetchFileFromUrl(_0x60ff5f[_0x279881(0x584)],_0x2e2666);}await handleGenerateFromBlueprintWithFiles(_0x261df0,_0x497706);}catch(_0x3861d8){console[_0x279881(0xd98)](_0x279881(0x8ef),_0x3861d8),showMessage(_0x279881(0x517)+_0x3861d8[_0x279881(0xa9f)]),_0xac0072[_0x279881(0xe19)]['add'](_0x279881(0x414));}}function getDirectDownloadUrl(_0x54d914){const _0xb3b286=_0x1dab5f,_0x5aee64=_0x54d914[_0xb3b286(0xa21)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x5aee64&&_0x5aee64[0x1])return'https://drive.google.com/uc?export=download&id='+_0x5aee64[0x1];return _0x54d914;}async function fetchFileFromUrl(_0x245924,_0x3f3461){const _0x335625=_0x1dab5f,_0x28b243=getDirectDownloadUrl(_0x245924),_0x36c71c='https://corsproxy.io/?'+encodeURIComponent(_0x28b243),_0x2075f6=await fetch(_0x36c71c);if(!_0x2075f6['ok'])throw new Error(_0x335625(0xd3b)+_0x2075f6[_0x335625(0x2db)]+')');const _0xca1821=await _0x2075f6[_0x335625(0x335)](),_0x976c54=await new Promise((_0x76de00,_0xff49ef)=>{const _0x2555ee=_0x335625,_0x2f4625=new FileReader();_0x2f4625['onloadend']=()=>_0x76de00(new Uint8Array(_0x2f4625[_0x2555ee(0x96e)])),_0x2f4625[_0x2555ee(0x811)]=_0xff49ef,_0x2f4625[_0x2555ee(0x2d6)](_0xca1821[_0x2555ee(0x801)](0x0,0x4));});let _0x3dfe36='';const _0x1129dc=new TextDecoder()[_0x335625(0x7eb)](_0x976c54);return _0x1129dc==='%PDF'?(_0x3dfe36='application/pdf',console[_0x335625(0x383)](_0x335625(0x59a))):(_0x3dfe36=_0x335625(0x7d4),console[_0x335625(0x383)]('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0xca1821],_0x3f3461,{'type':_0x3dfe36});}async function handleGenerateFromBlueprintWithFiles(_0x463a30,_0x314d3c=null){const _0x57a8c0=_0x1dab5f;if(!_0x463a30){showMessage(_0x57a8c0(0x1f2));return;}const _0x1e756c=document[_0x57a8c0(0x242)](_0x57a8c0(0x715)),_0x31e366=document[_0x57a8c0(0x242)]('loader-text');_0x1e756c[_0x57a8c0(0xe19)][_0x57a8c0(0x677)](_0x57a8c0(0x414)),document[_0x57a8c0(0x242)](_0x57a8c0(0x76b))[_0x57a8c0(0xe19)]['remove'](_0x57a8c0(0x414)),document[_0x57a8c0(0x242)](_0x57a8c0(0x6e5))[_0x57a8c0(0x90d)]='';try{_0x31e366[_0x57a8c0(0xafa)]=_0x57a8c0(0x79d);const _0x192d5e=await new Promise((_0x25c79e,_0x1b7fe9)=>{const _0x205cc6=_0x57a8c0,_0x3fd3a2=new FileReader();_0x3fd3a2[_0x205cc6(0x61b)](_0x463a30),_0x3fd3a2[_0x205cc6(0x356)]=()=>_0x25c79e(_0x3fd3a2[_0x205cc6(0x96e)]['split'](',')[0x1]),_0x3fd3a2['onerror']=_0x1b7fe9;}),_0x3571b1=[];if(_0x314d3c){_0x31e366[_0x57a8c0(0xafa)]=_0x57a8c0(0x5b2);const _0x479766=await _0x314d3c[_0x57a8c0(0xad0)]();_0x3571b1[_0x57a8c0(0x20e)]({'text':_0x57a8c0(0xbd4)+_0x479766});}const _0x407dc3=[{'text':'...'},{'inlineData':{'mimeType':_0x463a30[_0x57a8c0(0x41e)],'data':_0x192d5e}},..._0x3571b1];await handleGenerateFromBlueprint(_0x407dc3);}catch(_0x43feb8){console[_0x57a8c0(0xd98)]('Error\x20in\x20generating\x20from\x20files:',_0x43feb8),showMessage(_0x57a8c0(0x517)+_0x43feb8[_0x57a8c0(0xa9f)]),_0x1e756c['classList'][_0x57a8c0(0x27c)](_0x57a8c0(0x414));}}async function handleLiveAnswer(_0x497558,_0x215783){const _0x338d03=_0x1dab5f;document[_0x338d03(0x99b)](_0x338d03(0xb07))[_0x338d03(0xbdf)](_0x57ef10=>_0x57ef10[_0x338d03(0xd66)]=!![]);const _0x5d829c=_0x215783[_0x338d03(0x5c5)]||currentQuizData[_0x338d03(0x11f)];let _0x191d5d=![],_0x4f58ba=_0x497558;if(_0x5d829c===_0x338d03(0xb16)){const _0x105024=(_0x497558||'')['toString']();_0x191d5d=await gradeShortAnswer(_0x105024,_0x215783);}else{if(_0x5d829c==='multiple_choice')_0x191d5d=_0x497558===_0x215783[_0x338d03(0xd79)];else{if(_0x5d829c===_0x338d03(0x66d)){const _0x345739=_0x215783[_0x338d03(0xbec)];_0x191d5d=_0x497558===0x0&&_0x345739||_0x497558===0x1&&!_0x345739;}else{if(_0x5d829c===_0x338d03(0x6ca)){const _0x4e3990=_0x215783[_0x338d03(0x9cb)][_0x497558];_0x191d5d=_0x4e3990===_0x215783['correctResponse'],_0x4f58ba=_0x4e3990;}}}}const _0x127666=doc(db,_0x338d03(0xb99)+appId+_0x338d03(0x4e8),currentLiveGameId),_0x3255f2={};_0x3255f2['players.'+currentStudentName+_0x338d03(0x345)]=!![],_0x3255f2['players.'+currentStudentName+'.lastAnswerCorrect']=_0x191d5d,_0x3255f2['players.'+currentStudentName+_0x338d03(0x59d)]=_0x5d829c===_0x338d03(0xb16)||_0x5d829c===_0x338d03(0x6ca)?null:_0x497558,_0x3255f2[_0x338d03(0x789)+currentStudentName+_0x338d03(0xdf3)]=_0x4f58ba,_0x3255f2[_0x338d03(0x789)+currentStudentName+_0x338d03(0x655)]=serverTimestamp(),_0x3255f2[_0x338d03(0x789)+currentStudentName+_0x338d03(0x54b)]=![],await updateDoc(_0x127666,_0x3255f2),liveGameView[_0x338d03(0x90d)]=_0x338d03(0x9fe);}function showAdminSummaryView(_0x107760,_0x39089c){const _0x41deb2=_0x1dab5f,_0x242b39=Object[_0x41deb2(0xb31)](_0x107760[_0x41deb2(0x616)]||{}),_0x404c58=_0x39089c['questionType']||currentQuizData[_0x41deb2(0x11f)],_0x1a14f3=_0x404c58===_0x41deb2(0x66d)?[_0x41deb2(0xab9),'ไม่ใช่']:_0x39089c[_0x41deb2(0x381)]||_0x39089c['allResponses']||[],_0x1169a4={},_0x532d3a=new Array(_0x1a14f3['length'])[_0x41deb2(0x174)](0x0);_0x1a14f3[_0x41deb2(0xbdf)]((_0x5e0c80,_0x1edfa4)=>{_0x1169a4[_0x1edfa4]=[];}),Object[_0x41deb2(0x934)](_0x107760[_0x41deb2(0x616)]||{})['forEach'](([_0x29cdd1,_0x1a4eb4])=>{const _0x319bae=_0x41deb2;if(_0x1a4eb4[_0x319bae(0x2db)]===_0x319bae(0xc93)&&_0x1a4eb4[_0x319bae(0x834)]!==undefined){const _0x5c35c0=_0x1a4eb4[_0x319bae(0x834)];_0x1169a4[_0x5c35c0]&&(_0x1169a4[_0x5c35c0][_0x319bae(0x20e)](_0x29cdd1),_0x532d3a[_0x5c35c0]++);}});const _0x269c19=Math[_0x41deb2(0xcd3)](..._0x532d3a,0x1),_0x389130='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x39089c[_0x41deb2(0xd64)]||_0x39089c[_0x41deb2(0x8c4)])+_0x41deb2(0xc86)+_0x532d3a[_0x41deb2(0xdc6)]((_0x579365,_0x4e3056)=>{const _0x546c9b=_0x41deb2,_0x96da16=_0x1169a4[_0x4e3056][_0x546c9b(0x283)]>0x0?_0x1169a4[_0x4e3056][_0x546c9b(0xe10)](',\x20'):_0x546c9b(0x2e0);let _0x5ef8d6=![];if(_0x404c58===_0x546c9b(0x423))_0x5ef8d6=_0x4e3056===_0x39089c[_0x546c9b(0xd79)];else{if(_0x404c58===_0x546c9b(0x66d)){const _0x3de3a1=_0x39089c['correctAnswer'];_0x5ef8d6=_0x3de3a1&&_0x4e3056===0x0||!_0x3de3a1&&_0x4e3056===0x1;}else _0x404c58===_0x546c9b(0x6ca)&&(_0x5ef8d6=_0x1a14f3[_0x4e3056]===_0x39089c[_0x546c9b(0x38f)]);}const _0x1ca7c7=_0x5ef8d6?_0x546c9b(0xe12):_0x546c9b(0xaaf);return _0x546c9b(0x3b8)+_0x579365+_0x546c9b(0xad9)+_0x1ca7c7+_0x546c9b(0xc5a)+_0x4e3056+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x1a14f3[_0x4e3056]+_0x546c9b(0x953)+_0x4e3056+_0x546c9b(0x8e6)+_0x96da16+_0x546c9b(0x33f);})[_0x41deb2(0xe10)]('')+_0x41deb2(0x4bf);liveGameView[_0x41deb2(0x90d)]=_0x389130;if(window[_0x41deb2(0x972)])MathJax[_0x41deb2(0xde3)]();document[_0x41deb2(0x242)]('show-leaderboard-btn')[_0x41deb2(0x264)]('click',async()=>{const _0x145730=_0x41deb2,_0xc1675e=doc(db,_0x145730(0xb99)+appId+_0x145730(0x4e8),currentLiveGameId);await updateDoc(_0xc1675e,{'questionStatus':_0x145730(0x306)});}),document[_0x41deb2(0x242)](_0x41deb2(0xc6e))[_0x41deb2(0x264)](_0x41deb2(0xc23),()=>{openScratchpad(_0x39089c,_0x1a14f3);});}function showPlayerSummaryView(_0x5a03f9,_0x44fbce){const _0x269f08=_0x1dab5f,_0x3845b2=Object[_0x269f08(0xb31)](_0x5a03f9[_0x269f08(0x616)]||{}),_0x283618=_0x5a03f9['players'][_0x44fbce],_0x23d1d6=_0x3845b2[_0x269f08(0x3be)](_0x41b867=>_0x41b867['status']===_0x269f08(0xc93))[_0x269f08(0xa23)]((_0x1cfe44,_0x342df9)=>_0x342df9[_0x269f08(0x3bb)]-_0x1cfe44[_0x269f08(0x3bb)]),_0x1a5f75=_0x23d1d6[_0x269f08(0xd5f)](_0x3030a3=>_0x3030a3===_0x283618)+0x1,_0x77abf0=_0x283618[_0x269f08(0xc31)]?_0x269f08(0x8c5):'ผิด',_0xba734c=_0x283618[_0x269f08(0xc31)]?'bg-green-500':_0x269f08(0x78f),_0x32c244=_0x283618[_0x269f08(0x205)]||0x0,_0x45e3f2='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x3e01a2=_0x269f08(0x4a5)+_0x45e3f2+_0x269f08(0x543)+_0xba734c+_0x269f08(0xbda)+_0x77abf0+_0x269f08(0xb70)+_0x32c244+_0x269f08(0x9a0)+(_0x1a5f75>0x0?_0x1a5f75:'-')+_0x269f08(0x9fd);liveGameView[_0x269f08(0x90d)]=_0x3e01a2;}function createQuizFromBank(){const _0xaaa251=_0x1dab5f,_0x5b80f4=document[_0xaaa251(0x99b)](_0xaaa251(0x541));if(_0x5b80f4['length']===0x0){showMessage(_0xaaa251(0x81d));return;}const _0x439c49=[];_0x5b80f4['forEach'](_0xa48780=>{const _0x3bde78=_0xaaa251;_0x439c49[_0x3bde78(0x20e)](JSON[_0x3bde78(0x942)](_0xa48780['value']));});const _0x5319a8={'topic':_0xaaa251(0x560),'questions':_0x439c49};displayGeneratedQuiz(_0x5319a8);}function showAdminLobbyView(_0x54ec48,_0x3b5971){const _0x40a54d=_0x1dab5f;showView(_0x40a54d(0x3d3));const _0x1ac888=_0x40a54d(0x5de)+_0x3b5971+_0x40a54d(0x5b0)+_0x54ec48+_0x40a54d(0xc37);liveGameView['innerHTML']=_0x1ac888,document[_0x40a54d(0x242)](_0x40a54d(0x9cf))[_0x40a54d(0x264)](_0x40a54d(0xc23),async()=>{const _0x3dcfb7=_0x40a54d;if(!currentQuizData||!currentQuizData[_0x3dcfb7(0x3ef)]||currentQuizData[_0x3dcfb7(0x3ef)][_0x3dcfb7(0x283)]===0x0){showMessage(_0x3dcfb7(0xcb1));return;}try{const _0x3a633e=doc(db,_0x3dcfb7(0xb99)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3a633e,{'status':_0x3dcfb7(0x7e7),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x310399=currentQuizData['questions'][0x0],_0x14fe8c=currentQuizData['questions'][_0x3dcfb7(0x283)];showAdminLiveQuestionView(_0x310399,0x0,_0x14fe8c);}catch(_0x1806da){console[_0x3dcfb7(0xd98)]('Error\x20starting\x20game:',_0x1806da),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x2730f1=_0x1dab5f;if(allQuizzesGlobal[_0x2730f1(0x283)]===0x0){const _0x1e21a1=await getDocs(collection(db,_0x2730f1(0xb99)+appId+_0x2730f1(0x48d)));allQuizzesGlobal=_0x1e21a1[_0x2730f1(0x5ab)][_0x2730f1(0xdc6)](_0x5b0c9a=>({'id':_0x5b0c9a['id'],..._0x5b0c9a[_0x2730f1(0x1f1)]()}));}renderQuizBankList(''),document[_0x2730f1(0x242)](_0x2730f1(0x9ed))[_0x2730f1(0xe19)][_0x2730f1(0x677)]('hidden');}function renderQuizBankList(_0x1af410='',_0x4043c0=![]){const _0x467574=_0x1dab5f,_0x187680=document[_0x467574(0x242)]('bank-quiz-list'),_0x3d372c=_0x1af410['toLowerCase']()[_0x467574(0xb6d)](),_0x36b893=allQuizzesGlobal[_0x467574(0xdc6)](_0x2db4dd=>({..._0x2db4dd,'projectName':allProjects[_0x467574(0x794)](_0x3393a2=>_0x3393a2['id']===_0x2db4dd[_0x467574(0x1cf)])?.[_0x467574(0x7c8)]||_0x467574(0x36d)}))[_0x467574(0x3be)](_0x41479c=>(_0x41479c[_0x467574(0xe0e)]||'')[_0x467574(0x463)]()[_0x467574(0x87f)](_0x3d372c)||(_0x41479c[_0x467574(0x7c8)]||'')['toLowerCase']()[_0x467574(0x87f)](_0x3d372c)||_0x41479c['id'][_0x467574(0xbe3)]()[_0x467574(0x87f)](_0x3d372c));document[_0x467574(0x242)](_0x467574(0x431))[_0x467574(0xafa)]='('+_0x36b893[_0x467574(0x283)]+'\x20ชุด)',_0x187680[_0x467574(0x90d)]=_0x36b893['length']?_0x36b893[_0x467574(0xdc6)](_0x298c7e=>{const _0x1cbffa=_0x467574,_0x37e4c9=!_0x4043c0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x298c7e['id']+_0x1cbffa(0xabd)+_0x298c7e['id']+_0x1cbffa(0x43c)+_0x298c7e['id']+_0x1cbffa(0xa90)+_0x298c7e['id']+_0x1cbffa(0x8f0)+_0x298c7e['id']+_0x1cbffa(0x318)+_0x298c7e['id']+_0x1cbffa(0x234)+_0x298c7e['topic']+_0x1cbffa(0x993):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x298c7e['id']+_0x1cbffa(0x97a)+(_0x298c7e[_0x1cbffa(0xe0e)]||'(ไม่มีชื่อ)')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x298c7e[_0x1cbffa(0x3ef)]?.[_0x1cbffa(0x283)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x298c7e[_0x1cbffa(0x7c8)]+_0x1cbffa(0x562)+_0x298c7e['id']+_0x1cbffa(0x72d)+_0x37e4c9+_0x1cbffa(0xc3a);})[_0x467574(0xe10)](''):_0x467574(0x6a1),!_0x4043c0&&(_0x187680[_0x467574(0x99b)](_0x467574(0x633))[_0x467574(0xbdf)](_0x3ab284=>{const _0x33ed92=_0x467574;_0x3ab284[_0x33ed92(0x264)]('click',()=>{const _0x30366e=_0x33ed92,_0x792214=_0x3ab284[_0x30366e(0xb42)]['id'];document[_0x30366e(0x242)](_0x30366e(0x9ed))[_0x30366e(0xe19)][_0x30366e(0x27c)](_0x30366e(0x414)),showQuizDetailView(_0x792214);});}),_0x187680['querySelectorAll'](_0x467574(0xc61))[_0x467574(0xbdf)](_0x243ec9=>{const _0x3c79c1=_0x467574;_0x243ec9[_0x3c79c1(0x264)](_0x3c79c1(0xc23),_0x4ad5ab=>{const _0x51091e=_0x3c79c1;_0x4ad5ab[_0x51091e(0x409)]();const _0x38edcf=_0x243ec9['dataset']['id'],_0x2519bf=allQuizzesGlobal[_0x51091e(0x794)](_0x3a9524=>_0x3a9524['id']===_0x38edcf);_0x2519bf?(currentQuizData=_0x2519bf,document['getElementById']('quiz-bank-modal')[_0x51091e(0xe19)][_0x51091e(0x27c)](_0x51091e(0x414)),startAdminTest()):showMessage(_0x51091e(0x6ad));});}),_0x187680[_0x467574(0x99b)](_0x467574(0x571))[_0x467574(0xbdf)](_0x44db83=>{const _0xf72eb3=_0x467574;_0x44db83[_0xf72eb3(0x264)](_0xf72eb3(0xc23),_0x141d3f=>{const _0x1dc598=_0xf72eb3;_0x141d3f[_0x1dc598(0x409)]();const _0x5ae511=_0x44db83[_0x1dc598(0xb42)]['id'],_0x43966d=allQuizzesGlobal['find'](_0x54bcfc=>_0x54bcfc['id']===_0x5ae511);_0x43966d?(document['getElementById'](_0x1dc598(0x9ed))[_0x1dc598(0xe19)]['add']('hidden'),handleGenerateParallelFromBank(_0x43966d)):showMessage(_0x1dc598(0x6ad));});}),_0x187680['querySelectorAll'](_0x467574(0xbc2))['forEach'](_0x11962a=>{const _0xc76def=_0x467574;_0x11962a[_0xc76def(0x264)]('click',_0xecfd1=>{const _0x596644=_0xc76def;_0xecfd1['stopPropagation']();const _0x16bb04=_0x11962a['dataset']['id'],_0x1a4fa3=allQuizzesGlobal[_0x596644(0x794)](_0x3efbca=>_0x3efbca['id']===_0x16bb04);_0x1a4fa3?(document['getElementById'](_0x596644(0x9ed))[_0x596644(0xe19)][_0x596644(0x27c)](_0x596644(0x414)),startPresentation(_0x1a4fa3)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x187680[_0x467574(0x99b)](_0x467574(0xdf0))[_0x467574(0xbdf)](_0x21f1e9=>{_0x21f1e9['addEventListener']('click',_0x50352b=>{const _0x45036f=_0x5ef1;_0x50352b[_0x45036f(0x409)]();const _0x4e1c28=_0x21f1e9[_0x45036f(0xb42)]['id'];document[_0x45036f(0x242)](_0x45036f(0x9ed))['classList'][_0x45036f(0x27c)](_0x45036f(0x414)),handleMoveQuiz(_0x4e1c28);});}),_0x187680['querySelectorAll']('.quiz-bank-settings-btn')['forEach'](_0x42dac5=>{const _0x14e8fc=_0x467574;_0x42dac5[_0x14e8fc(0x264)]('click',_0x53d23c=>{const _0x3bc7fc=_0x14e8fc;_0x53d23c[_0x3bc7fc(0x409)]();const _0x17f427=_0x42dac5[_0x3bc7fc(0xb42)]['id'];document[_0x3bc7fc(0x242)]('quiz-bank-modal')[_0x3bc7fc(0xe19)][_0x3bc7fc(0x27c)](_0x3bc7fc(0x414)),handleQuizSettings(_0x17f427);});}),_0x187680[_0x467574(0x99b)](_0x467574(0x781))['forEach'](_0x709ea5=>{const _0x5f0244=_0x467574;_0x709ea5[_0x5f0244(0x264)](_0x5f0244(0xc23),_0x17f79f=>{const _0x12ab16=_0x5f0244;_0x17f79f[_0x12ab16(0x409)]();const _0x215515=_0x709ea5[_0x12ab16(0xb42)]['id'],_0x215d83=_0x709ea5[_0x12ab16(0xb42)]['topic'];showConfirmation(_0x12ab16(0x618)+_0x215d83+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x215515));});}));}async function handleCompareResults(_0x31f1f6,_0x5c4ec8){const _0x1bb4d1=_0x1dab5f,_0x55cb41=document[_0x1bb4d1(0x242)](_0x1bb4d1(0x4c8)),_0x1f8c22=document[_0x1bb4d1(0x242)](_0x1bb4d1(0x15d)),_0x4d5699=document[_0x1bb4d1(0x242)]('comparison-individual-content');document[_0x1bb4d1(0x242)](_0x1bb4d1(0x92b))[_0x1bb4d1(0xe19)][_0x1bb4d1(0x27c)](_0x1bb4d1(0xc93)),document['getElementById'](_0x1bb4d1(0x885))[_0x1bb4d1(0xe19)][_0x1bb4d1(0x677)](_0x1bb4d1(0xc93)),_0x1f8c22['classList']['remove'](_0x1bb4d1(0x414)),_0x4d5699[_0x1bb4d1(0xe19)][_0x1bb4d1(0x27c)]('hidden'),_0x1f8c22[_0x1bb4d1(0x90d)]=_0x1bb4d1(0x602),_0x4d5699[_0x1bb4d1(0x90d)]='',_0x55cb41[_0x1bb4d1(0xe19)]['remove']('hidden');try{const _0x36e547=doc(db,_0x1bb4d1(0xb99)+appId+_0x1bb4d1(0x48d),_0x31f1f6),_0xe27335=await getDoc(_0x36e547);if(!_0xe27335[_0x1bb4d1(0xb96)]())throw new Error(_0x1bb4d1(0xe00));const _0x2a8e1d=_0xe27335[_0x1bb4d1(0x1f1)](),_0x24d2bd=_0x2a8e1d[_0x1bb4d1(0x3ef)][_0x1bb4d1(0x283)],_0x44d2b4=collection(db,_0x1bb4d1(0xb99)+appId+_0x1bb4d1(0x5a0)+_0x5c4ec8+_0x1bb4d1(0x282)),_0x48e094=collection(db,'artifacts/'+appId+_0x1bb4d1(0x5a0)+_0x31f1f6+_0x1bb4d1(0x282)),[_0x5ac579,_0x2b360a]=await Promise[_0x1bb4d1(0x2af)]([getDocs(_0x44d2b4),getDocs(_0x48e094)]),_0x2a5846=_0x5ac579[_0x1bb4d1(0x5ab)][_0x1bb4d1(0xdc6)](_0x50f974=>_0x50f974['data']()),_0x189d1d=_0x2b360a['docs'][_0x1bb4d1(0xdc6)](_0x134a99=>_0x134a99[_0x1bb4d1(0x1f1)]()),_0x126daa=_0x2a5846[_0x1bb4d1(0xdc6)](_0xc41aa8=>_0xc41aa8['latestScore']),_0x43f091=_0x189d1d[_0x1bb4d1(0xdc6)](_0x289537=>_0x289537[_0x1bb4d1(0x35a)]),_0x4752c3=calculateMeanAndStdDev(_0x126daa),_0x519709=calculateMeanAndStdDev(_0x43f091),_0x587cf8=_0x4752c3[_0x1bb4d1(0x4df)],_0x342eb3=_0x519709[_0x1bb4d1(0x4df)],_0x537368=_0x342eb3-_0x587cf8;let _0x17a594=_0x1bb4d1(0xc4c)+_0x587cf8[_0x1bb4d1(0x536)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x342eb3['toFixed'](0x2)+_0x1bb4d1(0xbbc)+(_0x537368>=0x0?_0x1bb4d1(0x968):_0x1bb4d1(0x7cf))+_0x1bb4d1(0xdc3)+(_0x537368>=0x0?_0x1bb4d1(0x451):_0x1bb4d1(0xb64))+_0x1bb4d1(0x98e)+(_0x537368>=0x0?_0x1bb4d1(0x739):_0x1bb4d1(0xcf2))+'\x22>'+(_0x537368>=0x0?'+':'')+_0x537368['toFixed'](0x2)+_0x1bb4d1(0xc5c);_0x1f8c22[_0x1bb4d1(0x90d)]=_0x17a594;const _0x19a3b2=document['getElementById'](_0x1bb4d1(0x6f9))['getContext']('2d');if(chartInstances['comparison'])chartInstances[_0x1bb4d1(0x3db)][_0x1bb4d1(0x1e1)]();chartInstances[_0x1bb4d1(0x3db)]=new Chart(_0x19a3b2,{'type':_0x1bb4d1(0xbfc),'data':{'labels':[_0x1bb4d1(0x235)],'datasets':[{'label':'ก่อนเรียน','data':[_0x587cf8],'backgroundColor':_0x1bb4d1(0x1c9)},{'label':_0x1bb4d1(0x7fc),'data':[_0x342eb3],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x24d2bd}}}});const _0x27579d=currentProjectData[_0x1bb4d1(0x7f8)]||[],_0x596e7d=_0x27579d[_0x1bb4d1(0xdc6)](_0x9fa45f=>{const _0x34d4f6=_0x1bb4d1,_0x19eccc=_0x2a5846[_0x34d4f6(0x794)](_0x51556a=>_0x51556a[_0x34d4f6(0xcf3)]===_0x9fa45f),_0x1039d9=_0x189d1d[_0x34d4f6(0x794)](_0x6dcc12=>_0x6dcc12[_0x34d4f6(0xcf3)]===_0x9fa45f),_0xc1610e=_0x19eccc?_0x19eccc['latestScore']:null,_0x550c81=_0x1039d9?_0x1039d9[_0x34d4f6(0x35a)]:null,_0xabf52f=_0xc1610e!==null&&_0x550c81!==null?_0x550c81-_0xc1610e:null,_0x5010d7=_0xc1610e!==null?calculateZScore(_0xc1610e,_0x4752c3[_0x34d4f6(0x4df)],_0x4752c3[_0x34d4f6(0x7f4)]):null,_0x3528a8=_0x550c81!==null?calculateZScore(_0x550c81,_0x519709[_0x34d4f6(0x4df)],_0x519709[_0x34d4f6(0x7f4)]):null,_0x4f1e0f=_0x5010d7!==null?calculateTScore(_0x5010d7):null,_0x4a471b=_0x3528a8!==null?calculateTScore(_0x3528a8):null,_0xbd37c2=_0x4f1e0f!==null&&_0x4a471b!==null?_0x4a471b-_0x4f1e0f:null;return{'name':_0x9fa45f,'preScore':_0xc1610e,'postScore':_0x550c81,'gain':_0xabf52f,'preTScore':_0x4f1e0f,'postTScore':_0x4a471b,'tGain':_0xbd37c2};});renderIndividualComparisonTable(_0x596e7d,_0x4d5699);}catch(_0x1eba38){console['error'](_0x1bb4d1(0xa79),_0x1eba38),_0x1f8c22[_0x1bb4d1(0x90d)]=_0x1bb4d1(0x3b2);}}async function saveBlueprintProject(){const _0x1318fe=_0x1dab5f;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x1318fe(0x7c4));return;}const _0x4b987a=prompt(_0x1318fe(0x83f),_0x1318fe(0x7dc));if(!_0x4b987a||_0x4b987a[_0x1318fe(0xb6d)]()==='')return;const _0x24f763={};extractedBlueprintData['curriculum']['forEach'](_0x49dc20=>{const _0x45244a=_0x1318fe;_0x49dc20[_0x45244a(0x932)][_0x45244a(0xbdf)](_0x5efd15=>{const _0x49dcf7=_0x45244a;_0x5efd15[_0x49dcf7(0x95b)][_0x49dcf7(0xbdf)](_0x4b37da=>{const _0x493ea1=_0x49dcf7,_0x5b8b9a=_0x493ea1(0xe06)+Date[_0x493ea1(0xaf6)]()+Math[_0x493ea1(0xd52)]()[_0x493ea1(0xbe3)](0x24)[_0x493ea1(0x8ba)](0x2,0x9);_0x24f763[_0x5b8b9a]={'sara':_0x49dc20[_0x493ea1(0x766)],'mainTopic':_0x5efd15[_0x493ea1(0x2f2)],'subTopic':_0x4b37da,'status':_0x493ea1(0x608),'lessonContent':null};});});});try{const _0x4a9b7c=collection(db,_0x1318fe(0xb99)+appId+_0x1318fe(0x3c1));await addDoc(_0x4a9b7c,{'projectName':_0x4b987a[_0x1318fe(0xb6d)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x24f763,'createdAt':serverTimestamp()}),showMessage(_0x1318fe(0xb9e)+_0x4b987a[_0x1318fe(0xb6d)]()+_0x1318fe(0xe21)),document[_0x1318fe(0x242)](_0x1318fe(0xdc1))[_0x1318fe(0xe19)][_0x1318fe(0x27c)](_0x1318fe(0x414));}catch(_0xf56253){console[_0x1318fe(0xd98)]('Error\x20saving\x20blueprint\x20project:',_0xf56253),showMessage(_0x1318fe(0x7c5));}}async function showBlueprintProjects(){const _0x1fcf31=_0x1dab5f,_0x5531d5=document[_0x1fcf31(0x242)](_0x1fcf31(0x6a6)),_0x4b1a6f=document[_0x1fcf31(0x242)](_0x1fcf31(0xd70));_0x4b1a6f[_0x1fcf31(0x90d)]=_0x1fcf31(0x62e),_0x5531d5[_0x1fcf31(0xe19)][_0x1fcf31(0x677)](_0x1fcf31(0x414));try{const _0x16a655=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects'),_0x469ba2=await getDocs(_0x16a655);if(_0x469ba2[_0x1fcf31(0x57e)]){_0x4b1a6f[_0x1fcf31(0x90d)]=_0x1fcf31(0xab4);return;}const _0x301b39=_0x469ba2[_0x1fcf31(0x5ab)][_0x1fcf31(0xdc6)](_0xbac31c=>({'id':_0xbac31c['id'],..._0xbac31c['data']()}));_0x301b39['sort']((_0x349453,_0x162fc1)=>_0x349453[_0x1fcf31(0x7c8)][_0x1fcf31(0x46f)](_0x162fc1[_0x1fcf31(0x7c8)],'th')),_0x4b1a6f[_0x1fcf31(0x90d)]=_0x301b39[_0x1fcf31(0xdc6)](_0x5daf65=>_0x1fcf31(0x1e9)+_0x5daf65['projectName']+_0x1fcf31(0xd73)+_0x5daf65[_0x1fcf31(0x907)]+_0x1fcf31(0xa7a)+Object['keys'](_0x5daf65[_0x1fcf31(0x2cd)])[_0x1fcf31(0x283)]+_0x1fcf31(0x90f)+_0x5daf65['id']+_0x1fcf31(0xb6c)+_0x5daf65['id']+_0x1fcf31(0x9f6))[_0x1fcf31(0xe10)]('');}catch(_0x1c3b66){console[_0x1fcf31(0xd98)](_0x1fcf31(0x1ec),_0x1c3b66),_0x4b1a6f[_0x1fcf31(0x90d)]=_0x1fcf31(0x6ee);}}async function displayBlueprintProjectManager(_0x1d549d){const _0x5c13ec=_0x1dab5f;currentBlueprintProjectId=_0x1d549d,document['getElementById'](_0x5c13ec(0x6a6))[_0x5c13ec(0xe19)]['add'](_0x5c13ec(0x414)),showView(_0x5c13ec(0x946)),projectDashboardView[_0x5c13ec(0xe19)]['add'](_0x5c13ec(0x414));const _0x481e7f=document[_0x5c13ec(0x242)]('blueprint-project-manager-view');_0x481e7f[_0x5c13ec(0xe19)][_0x5c13ec(0x677)](_0x5c13ec(0x414)),document['getElementById'](_0x5c13ec(0x456))[_0x5c13ec(0x90d)]=_0x5c13ec(0x602);try{const _0x480887=doc(db,_0x5c13ec(0xb99)+appId+_0x5c13ec(0x3c1),_0x1d549d),_0x5e567c=await getDoc(_0x480887);if(!_0x5e567c[_0x5c13ec(0xb96)]())throw new Error(_0x5c13ec(0x65e));const _0x5407bb={'id':_0x5e567c['id'],..._0x5e567c['data']()};document['getElementById'](_0x5c13ec(0xc8a))[_0x5c13ec(0xafa)]=_0x5407bb[_0x5c13ec(0x7c8)],document[_0x5c13ec(0x242)](_0x5c13ec(0xcc4))[_0x5c13ec(0xbfb)]=_0x5407bb[_0x5c13ec(0x7d5)]||'',renderBlueprintTopicManager(_0x5407bb);}catch(_0xc999e9){console[_0x5c13ec(0xd98)](_0x5c13ec(0x90c),_0xc999e9),showMessage(_0xc999e9[_0x5c13ec(0xa9f)]),showView(_0x5c13ec(0x946));}}function renderBlueprintTopicManager(_0x499151){const _0xdd0ec8=_0x1dab5f,_0x1cc319=document[_0xdd0ec8(0x242)](_0xdd0ec8(0x456)),_0x514197=_0x499151['topics']||{};if(Object[_0xdd0ec8(0xd39)](_0x514197)['length']===0x0){_0x1cc319[_0xdd0ec8(0x90d)]=_0xdd0ec8(0x286);return;}const _0x28767e=Object[_0xdd0ec8(0x934)](_0x514197)[_0xdd0ec8(0xdc6)](([_0x354b0c,_0x8ffcf0])=>({'id':_0x354b0c,..._0x8ffcf0}))[_0xdd0ec8(0xa23)]((_0x144396,_0x1004d4)=>(_0x144396[_0xdd0ec8(0xbff)]??Infinity)-(_0x1004d4[_0xdd0ec8(0xbff)]??Infinity)),_0x3f20cb={};_0x28767e[_0xdd0ec8(0xbdf)](_0x15311b=>{const {sara:_0x1369ff,mainTopic:_0x5b8589}=_0x15311b;!_0x3f20cb[_0x1369ff]&&(_0x3f20cb[_0x1369ff]={}),!_0x3f20cb[_0x1369ff][_0x5b8589]&&(_0x3f20cb[_0x1369ff][_0x5b8589]=[]),_0x3f20cb[_0x1369ff][_0x5b8589]['push'](_0x15311b);});let _0x1d2be4='';for(const _0x2528be in _0x3f20cb){_0x1d2be4+=_0xdd0ec8(0x6e2)+_0x2528be+'</h4>';for(const _0x410cdf in _0x3f20cb[_0x2528be]){_0x1d2be4+=_0xdd0ec8(0x5b1)+_0x410cdf+_0xdd0ec8(0x4fd),_0x3f20cb[_0x2528be][_0x410cdf]['forEach'](_0xc4c90b=>{const _0x66477=_0xdd0ec8,_0x3de8c6=_0xc4c90b['id'],_0x295f3b=_0xc4c90b[_0x66477(0xe04)]||[],_0x2e8677=_0x295f3b[_0x66477(0x283)]>0x0,_0xc7124f=_0xc4c90b[_0x66477(0x2db)]==='generated';let _0xf071cd='';_0x2e8677?_0xf071cd='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x295f3b[_0x66477(0x283)]+_0x66477(0x722):_0xf071cd=_0x66477(0x436)+(_0xc7124f?_0x66477(0x1b2):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0xc7124f?'สร้างแล้ว':'ยังไม่สร้าง')+_0x66477(0x69f);const _0x14a0df=!_0xc7124f?_0x66477(0x272):'',_0x1f6f44=!_0xc7124f?_0x66477(0x169):'';let _0x4db37e=_0xc7124f?_0x66477(0x93c):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x1d2be4+=_0x66477(0x429)+_0x3de8c6+_0x66477(0x5cd)+_0xc4c90b[_0x66477(0xcb3)]+_0x66477(0x7fb)+_0xf071cd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x14a0df+_0x66477(0x5ed)+_0x1f6f44+_0x66477(0x172)+_0x4db37e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1d2be4+='</div></div>';}_0x1d2be4+=_0xdd0ec8(0x30c);}_0x1cc319[_0xdd0ec8(0x90d)]=_0x1d2be4;}async function handleDeepDeleteBlueprintProject(_0x36c0ce){const _0x44d299=_0x1dab5f,_0x1728e4=doc(db,_0x44d299(0xb99)+appId+_0x44d299(0x3c1),_0x36c0ce),_0x2d9f68=await getDoc(_0x1728e4);if(!_0x2d9f68[_0x44d299(0xb96)]()){showMessage(_0x44d299(0x1aa));return;}const _0x55744a=_0x2d9f68[_0x44d299(0x1f1)]()[_0x44d299(0x7c8)];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x55744a+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x195b17=_0x44d299;showMessage('กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...');try{const _0x3e0975=writeBatch(db),_0x5eb35a=_0x2d9f68[_0x195b17(0x1f1)](),_0x27394d=_0x5eb35a[_0x195b17(0x2cd)]||{};for(const _0x5305b6 in _0x27394d){const _0x55f8c9=doc(db,_0x195b17(0xb99)+appId+_0x195b17(0x6ac)+_0x36c0ce+_0x195b17(0x430),_0x5305b6);_0x3e0975[_0x195b17(0x9c2)](_0x55f8c9);}const _0x426fbb=new Set();for(const _0x4d3551 in _0x27394d){_0x27394d[_0x4d3551][_0x195b17(0xe04)]&&_0x27394d[_0x4d3551][_0x195b17(0xe04)][_0x195b17(0xbdf)](_0xf49084=>_0x426fbb['add'](_0xf49084));}for(const _0x459068 of _0x426fbb){await handleDeleteQuiz(_0x459068,![]);}_0x3e0975[_0x195b17(0x9c2)](_0x1728e4),await _0x3e0975[_0x195b17(0x45c)](),showMessage(_0x195b17(0x9dc)+_0x55744a+_0x195b17(0x368)),showBlueprintProjects();}catch(_0x477927){console['error'](_0x195b17(0xbc6),_0x477927),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x130694){const _0x3ced18=_0x1dab5f,_0x32a98f=document[_0x3ced18(0x242)](_0x3ced18(0x56a)),_0x2e5506=document['getElementById']('topic-bank-list'),_0x26c9d9=document[_0x3ced18(0x242)](_0x3ced18(0xd75));try{await ensureGlobalQuizzesLoaded();const _0x5e29ed=doc(db,'artifacts/'+appId+_0x3ced18(0x3c1),currentBlueprintProjectId),_0x1710aa=await getDoc(_0x5e29ed);if(!_0x1710aa[_0x3ced18(0xb96)]())return;const _0x1bfd67=_0x1710aa[_0x3ced18(0x1f1)](),_0x20c253=_0x1bfd67['topics'][_0x130694];document[_0x3ced18(0x242)](_0x3ced18(0xb6a))[_0x3ced18(0xafa)]=_0x20c253['subTopic'];const _0x291a63=_0x20c253[_0x3ced18(0xe04)]||[];_0x26c9d9[_0x3ced18(0xe19)][_0x3ced18(0x8ff)](_0x3ced18(0x414),_0x291a63[_0x3ced18(0x283)]===0x0),_0x26c9d9[_0x3ced18(0x3d9)]=()=>handleClearAllLinksForTopic(_0x130694);if(_0x291a63['length']===0x0)_0x2e5506[_0x3ced18(0x90d)]=_0x3ced18(0x110);else{const _0x3dd753=allQuizzesGlobal[_0x3ced18(0x3be)](_0x5ba001=>_0x291a63[_0x3ced18(0x87f)](_0x5ba001['id']));_0x2e5506[_0x3ced18(0x90d)]=_0x3dd753[_0x3ced18(0xdc6)](_0xd34dbb=>_0x3ced18(0x978)+_0xd34dbb['id']+_0x3ced18(0xd09)+_0xd34dbb[_0x3ced18(0xe0e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0xd34dbb['id']+_0x3ced18(0xa7a)+_0xd34dbb['questions']['length']+_0x3ced18(0x313)+_0xd34dbb['id']+_0x3ced18(0x999)+_0xd34dbb['id']+_0x3ced18(0xaf0)+_0xd34dbb['id']+_0x3ced18(0xa0e)+_0xd34dbb['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd34dbb['id']+_0x3ced18(0x26c)+_0xd34dbb['id']+_0x3ced18(0xb91)+_0x130694+_0x3ced18(0x11d)+_0xd34dbb['id']+_0x3ced18(0x575))[_0x3ced18(0xe10)]('');}document['getElementById'](_0x3ced18(0x83c))[_0x3ced18(0x3d9)]=()=>{openQuizSelectorForBlueprint(_0x130694);},document[_0x3ced18(0x242)](_0x3ced18(0x6f7))['onclick']=()=>_0x32a98f[_0x3ced18(0xe19)][_0x3ced18(0x27c)](_0x3ced18(0x414)),_0x32a98f[_0x3ced18(0xe19)][_0x3ced18(0x677)](_0x3ced18(0x414));}catch(_0x564078){showMessage(_0x564078[_0x3ced18(0xa9f)]);}}async function openQuizSelectorForBlueprint(_0x1f14de){const _0x18c3c7=_0x1dab5f,_0x5e6744=document[_0x18c3c7(0x242)](_0x18c3c7(0x9ed)),_0x490650=document[_0x18c3c7(0x242)]('topic-quiz-bank-modal');_0x490650['classList']['add'](_0x18c3c7(0x414)),document[_0x18c3c7(0x242)](_0x18c3c7(0x54f))?.[_0x18c3c7(0x677)]();const _0x2cb4f8=document[_0x18c3c7(0xc3c)](_0x18c3c7(0x639));_0x2cb4f8['id']=_0x18c3c7(0x54f),_0x2cb4f8[_0x18c3c7(0x2aa)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x2cb4f8[_0x18c3c7(0xafa)]='เพิ่มรายการที่เลือก',_0x2cb4f8['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x5e6744[_0x18c3c7(0xe19)][_0x18c3c7(0x677)](_0x18c3c7(0x414)),renderQuizBankListForMultiSelect(''),document[_0x18c3c7(0x242)]('bulk-quiz-settings-btn')[_0x18c3c7(0x271)][_0x18c3c7(0x90e)]='none',_0x5e6744[_0x18c3c7(0xb19)](_0x18c3c7(0x638))[_0x18c3c7(0x963)](_0x2cb4f8);const _0x18e4de=(_0x51c607=![])=>{const _0x33d07e=_0x18c3c7;_0x5e6744[_0x33d07e(0xe19)][_0x33d07e(0x27c)](_0x33d07e(0x414)),document['getElementById'](_0x33d07e(0x29d))[_0x33d07e(0x271)][_0x33d07e(0x90e)]=_0x33d07e(0xd04),_0x2cb4f8[_0x33d07e(0x677)](),_0x51c607&&openTopicQuizBank(_0x1f14de);};_0x2cb4f8[_0x18c3c7(0x3d9)]=async()=>{const _0x500154=_0x18c3c7,_0x1a551d=Array['from'](document[_0x500154(0x99b)]('.quiz-bank-checkbox:checked'))['map'](_0x116516=>_0x116516[_0x500154(0xbfb)]);if(_0x1a551d[_0x500154(0x283)]===0x0)return;try{const _0x4d634a=doc(db,_0x500154(0xb99)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x27af2f=(await getDoc(_0x4d634a))[_0x500154(0x1f1)](),_0x557c34=_0x27af2f[_0x500154(0x2cd)][_0x1f14de][_0x500154(0xe04)]||[],_0x38f074=[...new Set([..._0x557c34,..._0x1a551d])];await updateDoc(_0x4d634a,{[_0x500154(0x262)+_0x1f14de+_0x500154(0x537)]:_0x38f074}),showMessage(_0x500154(0x971)+_0x1a551d[_0x500154(0x283)]+_0x500154(0x8a9)),_0x18e4de(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xf60641){console['error'](_0x500154(0xb3a),_0xf60641);}},document[_0x18c3c7(0x242)](_0x18c3c7(0xcc1))['onclick']=()=>_0x18e4de(!![]);}catch(_0x458407){showMessage(_0x458407['message']),_0x490650[_0x18c3c7(0xe19)][_0x18c3c7(0x677)](_0x18c3c7(0x414));}}function handleClearLinkedQuiz(_0x212132){const _0x3210b0=_0x1dab5f;showConfirmation(_0x3210b0(0x773),async()=>{const _0x12591d=_0x3210b0;try{const _0x5c44ef=doc(db,'artifacts/'+appId+_0x12591d(0x3c1),currentBlueprintProjectId);await updateDoc(_0x5c44ef,{[_0x12591d(0x262)+_0x212132+_0x12591d(0x50f)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x284494){console['error'](_0x12591d(0x745),_0x284494),showMessage(_0x12591d(0x819));}});}async function addTopicToProject(){const _0x3bf419=_0x1dab5f,_0x57b123=prompt(_0x3bf419(0xd8f));if(!_0x57b123||_0x57b123['trim']()==='')return;const _0x3dfe44=prompt(_0x3bf419(0xc65),'สาระที่\x201'),_0x29b8ea=prompt('อยู่ในหัวข้อหลักใด:',_0x3bf419(0x8fe)),_0x2590cf=_0x3bf419(0xe06)+Date[_0x3bf419(0xaf6)]()+Math[_0x3bf419(0xd52)]()[_0x3bf419(0xbe3)](0x24)[_0x3bf419(0x8ba)](0x2,0x9),_0x531744={'sara':_0x3dfe44,'mainTopic':_0x29b8ea,'subTopic':_0x57b123['trim'](),'status':_0x3bf419(0x608),'lessonContent':null};try{const _0x384810=doc(db,_0x3bf419(0xb99)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x384810,{['topics.'+_0x2590cf]:_0x531744}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1f2a8e){console[_0x3bf419(0xd98)](_0x3bf419(0xa43),_0x1f2a8e),showMessage(_0x3bf419(0xab2));}}async function editTopicInProject(_0x1fc140){const _0x493c3d=_0x1dab5f,_0x44a222=document[_0x493c3d(0xb19)](_0x493c3d(0x250)+_0x1fc140+'\x22]'),_0x4ca34f=_0x44a222['querySelector'](_0x493c3d(0x9be)),_0x1b28e9=_0x4ca34f[_0x493c3d(0xafa)],_0x8c095a=prompt(_0x493c3d(0x4fb),_0x1b28e9);if(!_0x8c095a||_0x8c095a[_0x493c3d(0xb6d)]()===''||_0x8c095a[_0x493c3d(0xb6d)]()===_0x1b28e9)return;try{const _0x57af63=doc(db,_0x493c3d(0xb99)+appId+_0x493c3d(0x3c1),currentBlueprintProjectId);await updateDoc(_0x57af63,{[_0x493c3d(0x262)+_0x1fc140+_0x493c3d(0x941)]:_0x8c095a[_0x493c3d(0xb6d)]()}),_0x4ca34f['textContent']=_0x8c095a[_0x493c3d(0xb6d)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x1218c4){console[_0x493c3d(0xd98)](_0x493c3d(0xb54),_0x1218c4),showMessage(_0x493c3d(0x848));}}async function deleteTopicFromProject(_0x518458){const _0x45880a=_0x1dab5f;if(!confirm(_0x45880a(0xc1b)))return;try{const _0x3fd5b7=doc(db,_0x45880a(0xb99)+appId+_0x45880a(0x3c1),currentBlueprintProjectId);await updateDoc(_0x3fd5b7,{[_0x45880a(0x262)+_0x518458]:deleteField()}),document[_0x45880a(0xb19)](_0x45880a(0x250)+_0x518458+'\x22]')['remove'](),showMessage(_0x45880a(0xa88));}catch(_0x5946ec){console[_0x45880a(0xd98)]('Error\x20deleting\x20topic:',_0x5946ec),showMessage(_0x45880a(0x301));}}async function generateAndSaveLessonForBlueprint(_0x37cdd5,_0x2a1297,_0x165cd7){handleGenerateAndShowLesson(_0x2a1297,_0x165cd7);const _0x562f95=setInterval(async()=>{const _0x5d1b20=_0x5ef1,_0x850922=document[_0x5d1b20(0x242)](_0x5d1b20(0x1f7)),_0x62c309=_0x850922['classList'][_0x5d1b20(0x52e)](_0x5d1b20(0x414));if(_0x62c309){clearInterval(_0x562f95);if(currentApplicationData&&currentApplicationData[_0x5d1b20(0x283)]>0x0){const _0x1b3ee7={'point':document[_0x5d1b20(0x242)]('pointContent')[_0x5d1b20(0x90d)],'memory':document[_0x5d1b20(0x242)]('memoryContent')[_0x5d1b20(0x90d)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x5d1b20(0x242)]('summaryContent')[_0x5d1b20(0x90d)]};try{const _0x1d7ebf=doc(db,_0x5d1b20(0xb99)+appId+_0x5d1b20(0x3c1),currentBlueprintProjectId),_0x2ccd7d=doc(db,_0x5d1b20(0xb99)+appId+_0x5d1b20(0x6ac)+currentBlueprintProjectId+_0x5d1b20(0x430),_0x37cdd5),_0x1f3950=writeBatch(db);_0x1f3950[_0x5d1b20(0x279)](_0x2ccd7d,{'content':_0x1b3ee7}),_0x1f3950['update'](_0x1d7ebf,{[_0x5d1b20(0x262)+_0x37cdd5+_0x5d1b20(0xbf7)]:_0x5d1b20(0xd60)}),await _0x1f3950[_0x5d1b20(0x45c)](),console[_0x5d1b20(0x383)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x37cdd5+_0x5d1b20(0x8cc)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3f52b1){console['error'](_0x5d1b20(0x37d),_0x3f52b1);}}}},0x3e8);}function displayHalfMarkResult(_0x10dfcc,_0x381672){const _0x7de8d8=_0x1dab5f,_0x1daf9e=_0x10dfcc>=_0x381672/0x2,_0x3118fb=_0x1daf9e?'bg-green-100':'bg-red-100',_0x4c5dc7=_0x1daf9e?_0x7de8d8(0xb81):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x2d2434=_0x1daf9e?_0x7de8d8(0x814):_0x7de8d8(0xb64),_0x4f5112=_0x1daf9e?_0x7de8d8(0xb47):_0x7de8d8(0xb6b),_0x2a043e=_0x1daf9e?_0x7de8d8(0x830):_0x7de8d8(0x494);let _0x1b407a=_0x7de8d8(0xb2d)+_0x3118fb+_0x7de8d8(0x293)+_0x4c5dc7+_0x7de8d8(0xd50)+_0x2d2434+'\x20mb-2\x22>'+_0x4f5112+_0x7de8d8(0xbf8)+_0x2a043e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x1b407a,studentResultArea['classList']['remove'](_0x7de8d8(0x414)),studentQuizArea[_0x7de8d8(0xe19)][_0x7de8d8(0x27c)](_0x7de8d8(0x414)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1daf9e});}function displayPerfectScoreResult(_0x59e293,_0x766d27){const _0x37b306=_0x1dab5f,_0x2e2e18=_0x59e293===_0x766d27,_0x27d446=_0x2e2e18?'bg-yellow-100':_0x37b306(0x2a8),_0x3bb05b=_0x2e2e18?_0x37b306(0x47b):_0x37b306(0xd1e),_0x570f17=_0x2e2e18?_0x37b306(0xd53):_0x37b306(0x23f),_0xa5e977=_0x2e2e18?'คะแนนเต็ม!':_0x37b306(0x362),_0x1f3a34=_0x2e2e18?_0x37b306(0x753):_0x37b306(0x9a8);let _0x399e70=_0x37b306(0xb2d)+_0x27d446+_0x37b306(0x293)+_0x3bb05b+_0x37b306(0xd50)+_0x570f17+_0x37b306(0x701)+_0xa5e977+_0x37b306(0xbf8)+_0x1f3a34+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x37b306(0x90d)]=_0x399e70,studentResultArea[_0x37b306(0xe19)][_0x37b306(0x677)](_0x37b306(0x414)),studentQuizArea[_0x37b306(0xe19)][_0x37b306(0x27c)](_0x37b306(0x414)),setupResultScreenBackButton({'showRankings':![],'score':_0x59e293,'totalQuestions':_0x766d27});}function renderIndividualComparisonTable(_0x56cc89,_0x3d406e){const _0x41ede6=_0x1dab5f;_0x56cc89[_0x41ede6(0xa23)]((_0x2768ec,_0x4e4778)=>(_0x4e4778[_0x41ede6(0x877)]??-Infinity)-(_0x2768ec[_0x41ede6(0x877)]??-Infinity));let _0x26d0db='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x56cc89[_0x41ede6(0x283)]===0x0?_0x26d0db+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x56cc89[_0x41ede6(0xbdf)]((_0xe6b24b,_0x2fc8b6)=>{const _0x28121b=_0x41ede6;let _0x4e1415='-',_0x3f8d82='';if(_0xe6b24b[_0x28121b(0xab6)]!==null){const _0x2fa244=_0xe6b24b[_0x28121b(0xab6)]>0x0?_0x28121b(0x5c3):_0xe6b24b[_0x28121b(0xab6)]<0x0?_0x28121b(0x9fb):'text-gray-500',_0xc55c8d=_0xe6b24b[_0x28121b(0xab6)]>0x0?'+':'';_0x4e1415=_0x28121b(0xac1)+_0x2fa244+'\x22>'+_0xc55c8d+_0xe6b24b[_0x28121b(0xab6)]+'</span>';if(_0xe6b24b[_0x28121b(0xab6)]>0x0)_0x3f8d82='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0xe6b24b[_0x28121b(0xab6)]<0x0?_0x3f8d82=_0x28121b(0xc92):_0x3f8d82=_0x28121b(0x4ba);}let _0x246957='-';if(_0xe6b24b[_0x28121b(0x877)]!==null){const _0x3eb7e0=_0xe6b24b[_0x28121b(0x877)]>0x0?_0x28121b(0x5c3):_0xe6b24b['tGain']<0x0?_0x28121b(0x9fb):_0x28121b(0x858),_0xf2aae8=_0xe6b24b[_0x28121b(0x877)]>0x0?'+':'';_0x246957=_0x28121b(0xac1)+_0x3eb7e0+'\x22>'+_0xf2aae8+_0xe6b24b[_0x28121b(0x877)][_0x28121b(0x536)](0x2)+_0x28121b(0x69f);}_0x26d0db+=_0x28121b(0x57b)+(_0x2fc8b6+0x1)+_0x28121b(0xc68)+_0xe6b24b[_0x28121b(0x4cc)]+_0x28121b(0x1de)+(_0xe6b24b['preScore']??'-')+_0x28121b(0x352)+(_0xe6b24b[_0x28121b(0xdfe)]??'-')+_0x28121b(0x1de)+_0x4e1415+_0x28121b(0xac4)+_0x3f8d82+_0x28121b(0x1d7)+(_0xe6b24b[_0x28121b(0xde4)]?.[_0x28121b(0x536)](0x2)??'-')+_0x28121b(0x9d4)+(_0xe6b24b[_0x28121b(0x765)]?.[_0x28121b(0x536)](0x2)??'-')+_0x28121b(0x1de)+_0x246957+_0x28121b(0x2e8);}),_0x26d0db+='</tbody></table></div>',_0x3d406e[_0x41ede6(0x90d)]=_0x26d0db;}function handleRenameQuiz(_0x356dd1,_0xa33271){const _0x49feba=_0x1dab5f;actionTargetId=_0x356dd1,document[_0x49feba(0x242)](_0x49feba(0x9f1))[_0x49feba(0xbfb)]=_0xa33271,renameQuizModal[_0x49feba(0xe19)]['remove'](_0x49feba(0x414));}function setupComparisonModalTabs(){const _0x8b3da9=_0x1dab5f,_0xde9358=document[_0x8b3da9(0x242)](_0x8b3da9(0x92b)),_0x4e000b=document[_0x8b3da9(0x242)](_0x8b3da9(0x885)),_0x375a5e=document[_0x8b3da9(0x242)](_0x8b3da9(0x15d)),_0x43a869=document[_0x8b3da9(0x242)](_0x8b3da9(0x391));_0xde9358[_0x8b3da9(0x264)]('click',()=>{const _0x1f47cd=_0x8b3da9;_0xde9358[_0x1f47cd(0xe19)][_0x1f47cd(0x27c)](_0x1f47cd(0xc93)),_0x4e000b['classList'][_0x1f47cd(0x677)]('active'),_0x375a5e[_0x1f47cd(0xe19)][_0x1f47cd(0x677)]('hidden'),_0x43a869['classList'][_0x1f47cd(0x27c)](_0x1f47cd(0x414));}),_0x4e000b['addEventListener']('click',()=>{const _0x5f0aa3=_0x8b3da9;_0x4e000b[_0x5f0aa3(0xe19)]['add'](_0x5f0aa3(0xc93)),_0xde9358[_0x5f0aa3(0xe19)][_0x5f0aa3(0x677)](_0x5f0aa3(0xc93)),_0x43a869['classList'][_0x5f0aa3(0x677)](_0x5f0aa3(0x414)),_0x375a5e[_0x5f0aa3(0xe19)][_0x5f0aa3(0x27c)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x19eab2=_0x1dab5f;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x578ad0=doc(db,'artifacts/'+appId+_0x19eab2(0x4e8),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x578ad0,_0xb4e531=>{const _0x50b82d=_0x19eab2;if(!_0xb4e531[_0x50b82d(0xb96)]()){showMessage(_0x50b82d(0xbb1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x50b82d(0xcc8)?showView(_0x50b82d(0x3f3)):showView(_0x50b82d(0x53e));return;}const _0x4923a8=_0xb4e531['data']();_0x4923a8[_0x50b82d(0x8d3)]&&(currentQuizData=_0x4923a8[_0x50b82d(0x8d3)]);!currentQuizData&&_0x4923a8[_0x50b82d(0xcd7)]&&((async()=>{const _0x5f15f7=_0x50b82d;try{const _0x4cf18c=doc(db,'artifacts/'+appId+_0x5f15f7(0x48d),_0x4923a8[_0x5f15f7(0xcd7)]),_0xa3c988=await getDoc(_0x4cf18c);_0xa3c988['exists']()&&(currentQuizData={'id':_0xa3c988['id'],..._0xa3c988[_0x5f15f7(0x1f1)]()});}catch(_0x4463e8){console[_0x5f15f7(0xd98)](_0x5f15f7(0xce4),_0x4463e8);}})());switch(_0x4923a8[_0x50b82d(0x2db)]){case _0x50b82d(0x56b):if(currentMode===_0x50b82d(0xcc8)){const _0x173650=_0x4923a8[_0x50b82d(0x616)]?Object[_0x50b82d(0x934)](_0x4923a8[_0x50b82d(0x616)]):[],_0x356fdd=_0x173650['filter'](([_0x58e666,_0x30f2de])=>_0x30f2de[_0x50b82d(0x2db)]===_0x50b82d(0xc93)),_0x3e68b7=document[_0x50b82d(0x242)](_0x50b82d(0x10f));if(_0x3e68b7)_0x3e68b7[_0x50b82d(0xafa)]=_0x356fdd[_0x50b82d(0x283)];const _0x5a3686=document[_0x50b82d(0x242)](_0x50b82d(0xb53));_0x5a3686&&(_0x5a3686[_0x50b82d(0x90d)]=_0x356fdd[_0x50b82d(0xdc6)](([_0xf8ae26,_0x56b689])=>_0x50b82d(0x9a2)+_0xf8ae26+_0x50b82d(0x90b)+_0xf8ae26+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x3854cd=document[_0x50b82d(0x242)]('start-game-btn');_0x3854cd&&(_0x3854cd[_0x50b82d(0xd66)]=_0x356fdd[_0x50b82d(0x283)]===0x0);}else showView(_0x50b82d(0x3d3)),liveGameView[_0x50b82d(0x90d)]=_0x50b82d(0x849)+currentStudentName+_0x50b82d(0x94a);break;case _0x50b82d(0x7e7):const _0x3d7966=_0x4923a8[_0x50b82d(0xd02)];if(currentQuizData&&currentQuizData[_0x50b82d(0x3ef)][_0x3d7966]){const _0x365957=currentQuizData[_0x50b82d(0x3ef)][_0x3d7966],_0x2948e2=_0x4923a8['questionStatus']||_0x50b82d(0x723);switch(_0x2948e2){case _0x50b82d(0xdc4):currentMode==='admin'?showAdminSummaryView(_0x4923a8,_0x365957):showPlayerSummaryView(_0x4923a8,currentStudentName);break;case'leaderboard':currentMode===_0x50b82d(0xcc8)&&showTop5LeaderboardView(_0x4923a8);break;case'answering':default:if(currentMode==='admin'){const _0x4adffd=writeBatch(db);let _0x28db8c=![];Object[_0x50b82d(0x934)](_0x4923a8[_0x50b82d(0x616)])['forEach'](([_0x2592d1,_0x115491])=>{const _0x36498a=_0x50b82d;if(_0x115491[_0x36498a(0x2db)]===_0x36498a(0xc93)&&_0x115491[_0x36498a(0x50e)]&&!_0x115491[_0x36498a(0xc07)]){_0x28db8c=!![];const _0x17b532=_0x115491[_0x36498a(0x50e)][_0x36498a(0x760)]()-_0x4923a8[_0x36498a(0x24c)]['toDate']();let _0x21f6e4=0x0;if(_0x115491[_0x36498a(0xc31)]){const _0x1529c2=0x3e8,_0x303b97=0x1f4,_0x33e942=0x4e20;let _0x5c0685=_0x17b532/_0x33e942;if(_0x5c0685>0x1)_0x5c0685=0x1;const _0x5a8d60=Math['round'](_0x5c0685*_0x303b97);_0x21f6e4=_0x1529c2-_0x5a8d60;}const _0x2a3b2c=doc(db,'artifacts/'+appId+_0x36498a(0x4e8),currentLiveGameId);_0x4adffd[_0x36498a(0x160)](_0x2a3b2c,{['players.'+_0x2592d1+_0x36498a(0xa4c)]:increment(_0x21f6e4),[_0x36498a(0x789)+_0x2592d1+_0x36498a(0x8a0)]:_0x21f6e4,[_0x36498a(0x789)+_0x2592d1+_0x36498a(0x54b)]:!![]});}});_0x28db8c&&_0x4adffd[_0x50b82d(0x45c)]()[_0x50b82d(0xd68)](_0x2c8cf4=>console[_0x50b82d(0xd98)]('Error\x20committing\x20score\x20updates:',_0x2c8cf4));lastRenderedAdminQuestionIndex!==_0x3d7966&&(showAdminLiveQuestionView(_0x365957,_0x3d7966,currentQuizData[_0x50b82d(0x3ef)][_0x50b82d(0x283)]),lastRenderedAdminQuestionIndex=_0x3d7966);const _0x5d5920=_0x4923a8[_0x50b82d(0x616)]||{},_0x5141cd=Object[_0x50b82d(0xb31)](_0x5d5920)[_0x50b82d(0x3be)](_0x339cb8=>_0x339cb8[_0x50b82d(0x2db)]===_0x50b82d(0xc93)),_0x1341d0=_0x5141cd[_0x50b82d(0x283)],_0x188a8c=_0x5141cd[_0x50b82d(0x3be)](_0x28043f=>_0x28043f[_0x50b82d(0x4ac)]===!![])[_0x50b82d(0x283)],_0x192e39=document[_0x50b82d(0x242)](_0x50b82d(0xb60));if(_0x192e39)_0x192e39[_0x50b82d(0xafa)]=_0x188a8c+'/'+_0x1341d0;const _0x1941a3=document[_0x50b82d(0x242)](_0x50b82d(0x649));if(_0x1941a3){let _0x1cd1df=Object[_0x50b82d(0x934)](_0x5d5920)[_0x50b82d(0x3be)](([_0x5778cc,_0x116702])=>_0x116702[_0x50b82d(0x2db)]===_0x50b82d(0xc93))[_0x50b82d(0xdc6)](([_0x50f19d,_0x34c515])=>{const _0x214a39=_0x50b82d,_0x1b9803=_0x34c515['answeredCurrentQuestion']===!![],_0x5cd726=_0x1b9803?'bg-green-500':_0x214a39(0x68f),_0x26b6e7=_0x1b9803?_0x214a39(0x3e3):_0x214a39(0x45f);return _0x214a39(0x768)+_0x5cd726+_0x214a39(0x519)+_0x26b6e7+_0x214a39(0xb58)+_0x50f19d+_0x214a39(0x51c)+_0x50f19d+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x50b82d(0xe10)]('');_0x1941a3['innerHTML']=_0x1cd1df||_0x50b82d(0x6df);}_0x1341d0>0x0&&_0x188a8c===_0x1341d0&&revealAnswerForAdmin(_0x3d7966,currentQuizData[_0x50b82d(0x3ef)][_0x50b82d(0x283)]);}else{const _0x4c6466=_0x4923a8[_0x50b82d(0x616)][currentStudentName];_0x4c6466&&!_0x4c6466['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x365957,_0x3d7966,currentQuizData[_0x50b82d(0x3ef)][_0x50b82d(0x283)]);}break;}}break;case _0x50b82d(0x504):showPodiumView(_0x4923a8[_0x50b82d(0x616)],'live-race');break;}});}async function openGlobalActivityModal(){const _0x582189=_0x1dab5f;if(allQuizzesGlobal['length']===0x0){const _0x1a4c17=await getDocs(collection(db,_0x582189(0xb99)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x1a4c17[_0x582189(0x5ab)][_0x582189(0xdc6)](_0xcc1984=>({'id':_0xcc1984['id'],..._0xcc1984[_0x582189(0x1f1)]()}));}renderGlobalActivityList(''),document[_0x582189(0x242)](_0x582189(0x449))[_0x582189(0xe19)][_0x582189(0x677)](_0x582189(0x414));}function renderGlobalActivityList(_0x530fb1=''){const _0x240e85=_0x1dab5f,_0x1c2abf=document[_0x240e85(0x242)](_0x240e85(0x37f)),_0x2570ad=_0x530fb1[_0x240e85(0x463)]()['trim'](),_0x4c0f90=allQuizzesGlobal[_0x240e85(0xdc6)](_0x4b149d=>({..._0x4b149d,'projectName':allProjects[_0x240e85(0x794)](_0x4c414f=>_0x4c414f['id']===_0x4b149d[_0x240e85(0x1cf)])?.[_0x240e85(0x7c8)]||_0x240e85(0x36d)}))['filter'](_0x3bc1c7=>(_0x3bc1c7[_0x240e85(0xe0e)]||'')[_0x240e85(0x463)]()[_0x240e85(0x87f)](_0x2570ad)||(_0x3bc1c7[_0x240e85(0x7c8)]||'')[_0x240e85(0x463)]()['includes'](_0x2570ad));document[_0x240e85(0x242)](_0x240e85(0x91d))[_0x240e85(0xafa)]='('+_0x4c0f90[_0x240e85(0x283)]+'\x20ชุด)',_0x1c2abf['innerHTML']=_0x4c0f90[_0x240e85(0x283)]?_0x4c0f90['map'](_0x534c7c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x534c7c[_0x240e85(0xe0e)]||'(ไม่มีชื่อ)')+_0x240e85(0x4c3)+(_0x534c7c['questions']?.[_0x240e85(0x283)]||0x0)+_0x240e85(0x2ff)+_0x534c7c[_0x240e85(0x7c8)]+_0x240e85(0x49e)+_0x534c7c['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x534c7c['id']+_0x240e85(0x6ef)+_0x534c7c['id']+_0x240e85(0x57d)+_0x534c7c['id']+_0x240e85(0x884))[_0x240e85(0xe10)](''):_0x240e85(0x6a1);}async function handleKickPlayer(_0x5b135c){const _0x5c2900=_0x1dab5f;if(!currentLiveGameId||!_0x5b135c)return;const _0x2fcbe8=doc(db,'artifacts/'+appId+_0x5c2900(0x4e8),currentLiveGameId),_0x56d397={};_0x56d397[_0x5c2900(0x789)+_0x5b135c+_0x5c2900(0xbf7)]=_0x5c2900(0x2dc);try{await updateDoc(_0x2fcbe8,_0x56d397);}catch(_0x2312bd){console[_0x5c2900(0xd98)]('Failed\x20to\x20kick\x20player\x20'+_0x5b135c+':',_0x2312bd),showMessage(_0x5c2900(0xd9e));}}async function authenticateUser(){const _0x1abf9a=_0x1dab5f;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x4e546b){console[_0x1abf9a(0xd98)](_0x1abf9a(0x9fa),_0x4e546b),showMessage(_0x1abf9a(0x342));}}function showView(_0x1083ac){const _0x2f8b52=_0x1dab5f;adminView['classList'][_0x2f8b52(0x27c)](_0x2f8b52(0x414)),studentView['classList'][_0x2f8b52(0x27c)]('hidden'),projectDashboardView['classList'][_0x2f8b52(0x27c)](_0x2f8b52(0x414)),projectDetailView[_0x2f8b52(0xe19)][_0x2f8b52(0x27c)](_0x2f8b52(0x414)),quizResultsView['classList'][_0x2f8b52(0x27c)](_0x2f8b52(0x414)),liveGameView[_0x2f8b52(0xe19)][_0x2f8b52(0x27c)](_0x2f8b52(0x414)),document[_0x2f8b52(0x242)](_0x2f8b52(0xcd5))[_0x2f8b52(0xe19)][_0x2f8b52(0x27c)](_0x2f8b52(0x414)),studentInitialView[_0x2f8b52(0xe19)][_0x2f8b52(0x27c)](_0x2f8b52(0x414)),studentJoinGameView[_0x2f8b52(0xe19)][_0x2f8b52(0x27c)](_0x2f8b52(0x414)),studentNameSelectionView[_0x2f8b52(0xe19)][_0x2f8b52(0x27c)](_0x2f8b52(0x414)),studentQuizArea[_0x2f8b52(0xe19)][_0x2f8b52(0x27c)](_0x2f8b52(0x414)),studentResultArea[_0x2f8b52(0xe19)][_0x2f8b52(0x27c)](_0x2f8b52(0x414)),studentReadingArea[_0x2f8b52(0xe19)][_0x2f8b52(0x27c)](_0x2f8b52(0x414));const _0x2b585e=document[_0x2f8b52(0x242)](_0x2f8b52(0x191)),_0x2cefaa=document['getElementById'](_0x2f8b52(0x384));if(_0x2b585e)_0x2b585e[_0x2f8b52(0xe19)][_0x2f8b52(0x27c)]('hidden');if(_0x2cefaa)_0x2cefaa[_0x2f8b52(0xe19)][_0x2f8b52(0x27c)](_0x2f8b52(0x414));switch(_0x1083ac){case _0x2f8b52(0x946):adminView[_0x2f8b52(0xe19)][_0x2f8b52(0x677)](_0x2f8b52(0x414)),projectDashboardView[_0x2f8b52(0xe19)][_0x2f8b52(0x677)](_0x2f8b52(0x414));break;case _0x2f8b52(0x3f3):adminView['classList'][_0x2f8b52(0x677)](_0x2f8b52(0x414)),projectDetailView[_0x2f8b52(0xe19)][_0x2f8b52(0x677)](_0x2f8b52(0x414));break;case _0x2f8b52(0x42a):adminView[_0x2f8b52(0xe19)]['remove'](_0x2f8b52(0x414)),quizResultsView[_0x2f8b52(0xe19)]['remove'](_0x2f8b52(0x414));break;case _0x2f8b52(0x53e):studentView[_0x2f8b52(0xe19)][_0x2f8b52(0x677)](_0x2f8b52(0x414)),studentInitialView[_0x2f8b52(0xe19)]['remove']('hidden');break;case _0x2f8b52(0x3d3):liveGameView['classList'][_0x2f8b52(0x677)](_0x2f8b52(0x414));break;case _0x2f8b52(0x61a):studentView[_0x2f8b52(0xe19)][_0x2f8b52(0x677)](_0x2f8b52(0x414));if(_0x2b585e)_0x2b585e[_0x2f8b52(0xe19)]['remove'](_0x2f8b52(0x414));break;case _0x2f8b52(0xb24):studentView[_0x2f8b52(0xe19)][_0x2f8b52(0x677)](_0x2f8b52(0x414));if(_0x2cefaa)_0x2cefaa['classList'][_0x2f8b52(0x677)](_0x2f8b52(0x414));break;default:studentView[_0x2f8b52(0xe19)][_0x2f8b52(0x677)](_0x2f8b52(0x414)),studentInitialView['classList'][_0x2f8b52(0x677)](_0x2f8b52(0x414));break;}}function showJoinGameView(){const _0x52c41d=_0x1dab5f;studentInitialView[_0x52c41d(0xe19)][_0x52c41d(0x27c)](_0x52c41d(0x414)),studentJoinGameView['classList'][_0x52c41d(0x677)](_0x52c41d(0x414));}async function handleSaveVisibilitySettings(){const _0x23b021=_0x1dab5f;if(!currentProjectId)return;const _0x41b17b=doc(db,_0x23b021(0xb99)+appId+_0x23b021(0x636),currentProjectId);try{await updateDoc(_0x41b17b,{'settings.showInStudentDashboard':document[_0x23b021(0x242)](_0x23b021(0x5e0))['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0x23b021(0xd27))[_0x23b021(0xa7e)],'settings.passcode':document[_0x23b021(0x242)](_0x23b021(0x5d5))[_0x23b021(0xbfb)][_0x23b021(0xb6d)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x56fff7){console[_0x23b021(0xd98)]('Error\x20saving\x20visibility\x20settings:',_0x56fff7),showMessage(_0x23b021(0xc8d));}}function setupEventListeners(){const _0x3038cc=_0x1dab5f,_0x51feab=document[_0x3038cc(0x242)](_0x3038cc(0xae5));_0x51feab&&_0x51feab[_0x3038cc(0x264)]('click',()=>{const _0x38197d=_0x3038cc,_0x21ca4e=document[_0x38197d(0x242)]('wager-slider'),_0x1ac2ee=document[_0x38197d(0x242)](_0x38197d(0x396));_0x21ca4e&&(_0x21ca4e[_0x38197d(0xbfb)]=_0x21ca4e[_0x38197d(0xcd3)],_0x1ac2ee&&(_0x1ac2ee[_0x38197d(0xafa)]=_0x21ca4e['value'],_0x1ac2ee[_0x38197d(0xe19)][_0x38197d(0x677)]('scale-125'),void _0x1ac2ee[_0x38197d(0xc1f)],_0x1ac2ee[_0x38197d(0xe19)]['add'](_0x38197d(0x4da),'transition-transform',_0x38197d(0x774),_0x38197d(0x9fb)),setTimeout(()=>_0x1ac2ee[_0x38197d(0xe19)]['remove']('scale-125','text-red-600'),0xc8)));});document['getElementById'](_0x3038cc(0xc53))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x557344=_0x3038cc;document[_0x557344(0x242)](_0x557344(0x6da))[_0x557344(0xe19)]['add']('hidden');}),document[_0x3038cc(0x242)](_0x3038cc(0x379))['addEventListener'](_0x3038cc(0xc23),()=>{const _0x3191f5=_0x3038cc,_0x4d2d7f=document['getElementById'](_0x3191f5(0x6da)),_0x41c3be=document['getElementById'](_0x3191f5(0x31a)),_0x242c07=document[_0x3191f5(0x242)](_0x3191f5(0xbc9))[_0x3191f5(0xbfb)],_0x916f05=_0x41c3be['dataset'][_0x3191f5(0x3a6)],_0x49d200=JSON[_0x3191f5(0x942)](_0x41c3be[_0x3191f5(0xb42)][_0x3191f5(0x7e7)]),_0x32ddc5=JSON[_0x3191f5(0x942)](_0x41c3be[_0x3191f5(0xb42)][_0x3191f5(0xa36)]),_0x16ac33=_0x41c3be['dataset'][_0x3191f5(0x30e)];_0x4d2d7f[_0x3191f5(0xe19)][_0x3191f5(0x27c)](_0x3191f5(0x414)),handleSyncAnswerSubmit(_0x916f05,_0x49d200,_0x32ddc5,_0x16ac33,![],_0x242c07);}),document[_0x3038cc(0x99b)](_0x3038cc(0xc67))[_0x3038cc(0xbdf)](_0x880439=>{const _0x16705c=_0x3038cc;_0x880439[_0x16705c(0x264)](_0x16705c(0x484),_0x39f28f=>{const _0xf82461=_0x16705c,_0x202476=document['getElementById'](_0xf82461(0xae7));_0x39f28f[_0xf82461(0x230)]['value']===_0xf82461(0x1ce)?_0x202476[_0xf82461(0xe19)][_0xf82461(0x677)]('hidden'):_0x202476[_0xf82461(0xe19)]['add'](_0xf82461(0x414));});}),document[_0x3038cc(0x242)](_0x3038cc(0xa97))[_0x3038cc(0x264)]('change',_0x498502=>{const _0x180251=_0x3038cc;document[_0x180251(0x242)](_0x180251(0x1d4))[_0x180251(0xe19)]['toggle']('hidden',!_0x498502[_0x180251(0x230)]['checked']);});const _0x5d1f50=document[_0x3038cc(0x242)](_0x3038cc(0xd6e)),_0x1e6e2c=document['getElementById'](_0x3038cc(0xdd7));_0x5d1f50&&_0x1e6e2c&&_0x5d1f50[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x5665b3=_0x3038cc;_0x1e6e2c[_0x5665b3(0xe19)][_0x5665b3(0x27c)]('hidden'),_0x1e6e2c[_0x5665b3(0xb42)][_0x5665b3(0xb05)]='';});const _0x5b5a32=document[_0x3038cc(0x242)]('dim-overlay');_0x5b5a32&&(_0x5b5a32[_0x3038cc(0x264)]('mousedown',wakeUpScreen),_0x5b5a32['addEventListener'](_0x3038cc(0xbc0),wakeUpScreen));document[_0x3038cc(0x242)](_0x3038cc(0x596))['addEventListener'](_0x3038cc(0xc23),async()=>{const _0x2361e8=_0x3038cc;if(!currentBlueprintProjectId)return;const _0x501162=document['getElementById'](_0x2361e8(0xcc4))[_0x2361e8(0xbfb)][_0x2361e8(0xb6d)](),_0x48b848=doc(db,_0x2361e8(0xb99)+appId+_0x2361e8(0x3c1),currentBlueprintProjectId);try{await updateDoc(_0x48b848,{'referenceFileUrl':_0x501162}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x21c38c){console['error'](_0x2361e8(0x89d),_0x21c38c),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document[_0x3038cc(0x242)](_0x3038cc(0x291))[_0x3038cc(0x264)]('click',handleAddParallelShortcutTab),document[_0x3038cc(0x242)](_0x3038cc(0xc35))[_0x3038cc(0x264)]('click',_0x145d88=>{const _0x11634c=_0x3038cc;_0x145d88['target']['closest']('#open-additional-parallel-shortcuts-btn')&&(activeParallelShortcutTabId=_0x11634c(0x2af),renderAdditionalParallelShortcutsModal(),document[_0x11634c(0x242)](_0x11634c(0x5db))['classList']['remove'](_0x11634c(0x414)));}),document['getElementById']('close-additional-parallel-shortcuts-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x3778f5=_0x3038cc;document['getElementById'](_0x3778f5(0x5db))['classList']['add']('hidden');}),document[_0x3038cc(0x264)](_0x3038cc(0xc23),_0x20baaa=>{const _0x2e4d2d=_0x3038cc;!_0x20baaa[_0x2e4d2d(0x230)][_0x2e4d2d(0xc75)](_0x2e4d2d(0x12c))&&document[_0x2e4d2d(0x99b)](_0x2e4d2d(0x15c))[_0x2e4d2d(0xbdf)](_0xe87f15=>_0xe87f15[_0x2e4d2d(0xe19)][_0x2e4d2d(0x27c)](_0x2e4d2d(0x414)));}),document[_0x3038cc(0x242)](_0x3038cc(0x9c1))['addEventListener'](_0x3038cc(0xc23),handleAddFileShortcutTab),document[_0x3038cc(0x242)](_0x3038cc(0x8ed))['addEventListener'](_0x3038cc(0xc23),_0x3bdf43=>{const _0x3ecf83=_0x3038cc;_0x3bdf43[_0x3ecf83(0x230)][_0x3ecf83(0xc75)](_0x3ecf83(0x38d))&&(activeFileShortcutTabId=_0x3ecf83(0x2af),renderAdditionalFileShortcutsModal(),document[_0x3ecf83(0x242)](_0x3ecf83(0x387))[_0x3ecf83(0xe19)]['remove'](_0x3ecf83(0x414)));}),document[_0x3038cc(0x242)](_0x3038cc(0x5b7))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x1d0c60=_0x3038cc;document[_0x1d0c60(0x242)](_0x1d0c60(0x387))['classList'][_0x1d0c60(0x27c)](_0x1d0c60(0x414));}),document[_0x3038cc(0x264)](_0x3038cc(0xc23),_0x38e08c=>{const _0x5015b8=_0x3038cc;!_0x38e08c[_0x5015b8(0x230)]['closest'](_0x5015b8(0xe15))&&document[_0x5015b8(0x99b)](_0x5015b8(0x9b5))[_0x5015b8(0xbdf)](_0x1fd2c4=>_0x1fd2c4['classList'][_0x5015b8(0x27c)](_0x5015b8(0x414)));}),document[_0x3038cc(0x242)]('add-shortcut-tab-btn')[_0x3038cc(0x264)]('click',handleAddShortcutTab),document[_0x3038cc(0x242)](_0x3038cc(0x6aa))[_0x3038cc(0x264)]('click',_0x1795c5=>{const _0x22148c=_0x3038cc,_0x3b59a0=_0x1795c5[_0x22148c(0x230)]['closest']('.parallel-shortcut-btn'),_0x159f41=_0x1795c5[_0x22148c(0x230)]['closest'](_0x22148c(0x210)),_0x20f1fd=_0x1795c5[_0x22148c(0x230)][_0x22148c(0xc75)](_0x22148c(0x374));if(_0x159f41)openParallelTestShortcutEditor(_0x159f41[_0x22148c(0xb42)]['id']);else{if(_0x20f1fd){const _0x61a253=_0x20f1fd[_0x22148c(0xb42)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x4e2651=_0x22148c,_0xab2cea=parallelTestShortcuts[_0x4e2651(0x3be)](_0x35f960=>_0x35f960['id']!==_0x61a253),_0x4407f2=doc(db,'globalSettings',_0x4e2651(0x9ef));await setDoc(_0x4407f2,{'shortcuts':_0xab2cea},{'merge':!![]});});}else _0x3b59a0&&handleParallelTestShortcutClick(_0x3b59a0[_0x22148c(0xb42)]['id']);}}),document['getElementById'](_0x3038cc(0x675))['addEventListener']('click',()=>openParallelTestShortcutEditor(null)),document[_0x3038cc(0x242)](_0x3038cc(0xd28))[_0x3038cc(0x264)]('click',()=>{const _0x2a6996=_0x3038cc;document['getElementById'](_0x2a6996(0x6fa))[_0x2a6996(0xe19)][_0x2a6996(0x27c)](_0x2a6996(0x414));}),document['getElementById'](_0x3038cc(0x30b))['addEventListener'](_0x3038cc(0xc23),saveParallelTestShortcutChanges),document[_0x3038cc(0x242)]('parallel-test-input-area')['addEventListener']('click',_0x20853e=>{const _0x19e3f5=_0x3038cc;_0x20853e['target'][_0x19e3f5(0xc75)]('#open-additional-parallel-shortcuts-btn')&&document[_0x19e3f5(0x242)](_0x19e3f5(0x5db))[_0x19e3f5(0xe19)]['remove'](_0x19e3f5(0x414));}),document[_0x3038cc(0x242)](_0x3038cc(0x522))[_0x3038cc(0x264)]('click',()=>{const _0x5795b5=_0x3038cc;document[_0x5795b5(0x242)](_0x5795b5(0x5db))['classList'][_0x5795b5(0x27c)](_0x5795b5(0x414));}),document[_0x3038cc(0x242)]('additional-parallel-shortcuts-list')[_0x3038cc(0x264)](_0x3038cc(0xc23),_0xf19a6c=>{const _0x450f21=_0x3038cc,_0x35d8f6=document[_0x450f21(0x242)](_0x450f21(0x5db)),_0x1263af=_0xf19a6c[_0x450f21(0x230)]['closest'](_0x450f21(0x3ec)),_0x4d7a09=_0xf19a6c['target'][_0x450f21(0xc75)]('.edit-hidden-parallel-shortcut-btn'),_0x5d0da9=_0xf19a6c[_0x450f21(0x230)]['closest'](_0x450f21(0xc10));if(_0x1263af)_0x35d8f6[_0x450f21(0xe19)][_0x450f21(0x27c)](_0x450f21(0x414)),handleParallelTestShortcutClick(_0x1263af[_0x450f21(0xb42)]['id']);else{if(_0x4d7a09)_0x35d8f6[_0x450f21(0xe19)][_0x450f21(0x27c)]('hidden'),openParallelTestShortcutEditor(_0x4d7a09[_0x450f21(0xb42)]['id']);else{if(_0x5d0da9){const _0x45f19d=_0x5d0da9[_0x450f21(0xb42)]['id'];showConfirmation(_0x450f21(0x8ae),async()=>{const _0x335378=_0x450f21,_0x2ed0ef=parallelTestShortcuts[_0x335378(0x3be)](_0x1a7ab2=>_0x1a7ab2['id']!==_0x45f19d),_0x4bb9b=doc(db,'globalSettings',_0x335378(0x9ef));await setDoc(_0x4bb9b,{'shortcuts':_0x2ed0ef},{'merge':!![]});});}}}}),document[_0x3038cc(0x242)](_0x3038cc(0x9e8))[_0x3038cc(0x264)](_0x3038cc(0xc23),_0x4a47eb=>{const _0xd3046c=_0x3038cc,_0x36ce0f=_0x4a47eb[_0xd3046c(0x230)]['closest'](_0xd3046c(0x7c3)),_0x1f8d64=_0x4a47eb['target'][_0xd3046c(0xc75)](_0xd3046c(0xc95)),_0x5560e5=_0x4a47eb['target'][_0xd3046c(0xc75)](_0xd3046c(0x49f));if(_0x1f8d64)openFileShortcutEditor(_0x1f8d64[_0xd3046c(0xb42)]['id']);else{if(_0x5560e5){const _0x47aac1=_0x5560e5[_0xd3046c(0xb42)]['id'];showConfirmation(_0xd3046c(0x8ae),async()=>{const _0x5b2e70=_0xd3046c,_0x4b79ce=fileShortcuts[_0x5b2e70(0x3be)](_0x2f47dd=>_0x2f47dd['id']!==_0x47aac1),_0x3fb8a9=doc(db,_0x5b2e70(0x192),_0x5b2e70(0xc88));await setDoc(_0x3fb8a9,{'shortcuts':_0x4b79ce},{'merge':!![]});});}else _0x36ce0f&&handleFileShortcutClick(_0x36ce0f[_0xd3046c(0xb42)]['id']);}}),document[_0x3038cc(0x242)](_0x3038cc(0x855))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>openFileShortcutEditor(null)),document[_0x3038cc(0x242)]('cancel-file-shortcut-edit-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x51e32d=_0x3038cc;document[_0x51e32d(0x242)](_0x51e32d(0xcec))[_0x51e32d(0xe19)]['add'](_0x51e32d(0x414));}),document['getElementById']('save-file-shortcut-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),saveFileShortcutChanges),document['getElementById'](_0x3038cc(0x8ed))[_0x3038cc(0x264)](_0x3038cc(0xc23),_0x473c3f=>{const _0x11f7ed=_0x3038cc;_0x473c3f[_0x11f7ed(0x230)]['closest'](_0x11f7ed(0x38d))&&document[_0x11f7ed(0x242)](_0x11f7ed(0x387))[_0x11f7ed(0xe19)][_0x11f7ed(0x677)](_0x11f7ed(0x414));}),document['getElementById'](_0x3038cc(0x5b7))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x4ad86d=_0x3038cc;document[_0x4ad86d(0x242)](_0x4ad86d(0x387))[_0x4ad86d(0xe19)]['add'](_0x4ad86d(0x414));}),document['getElementById'](_0x3038cc(0xdac))[_0x3038cc(0x264)](_0x3038cc(0xc23),_0x5450f1=>{const _0xbc5799=_0x3038cc,_0x17d25a=document[_0xbc5799(0x242)](_0xbc5799(0x387)),_0x3bde34=_0x5450f1[_0xbc5799(0x230)]['closest'](_0xbc5799(0x6f6)),_0x464c7f=_0x5450f1['target'][_0xbc5799(0xc75)](_0xbc5799(0x7e6)),_0x48070d=_0x5450f1[_0xbc5799(0x230)][_0xbc5799(0xc75)](_0xbc5799(0xbf0));if(_0x3bde34)_0x17d25a[_0xbc5799(0xe19)][_0xbc5799(0x27c)](_0xbc5799(0x414)),handleFileShortcutClick(_0x3bde34[_0xbc5799(0xb42)]['id']);else{if(_0x464c7f)_0x17d25a[_0xbc5799(0xe19)][_0xbc5799(0x27c)](_0xbc5799(0x414)),openFileShortcutEditor(_0x464c7f[_0xbc5799(0xb42)]['id']);else{if(_0x48070d){const _0x580abc=_0x48070d[_0xbc5799(0xb42)]['id'];showConfirmation(_0xbc5799(0x8ae),async()=>{const _0x80998f=_0xbc5799,_0xaa5892=fileShortcuts[_0x80998f(0x3be)](_0x264d93=>_0x264d93['id']!==_0x580abc),_0x52ef42=doc(db,_0x80998f(0x192),_0x80998f(0xc88));await setDoc(_0x52ef42,{'shortcuts':_0xaa5892},{'merge':!![]});});}}}}),document['getElementById'](_0x3038cc(0xc14))[_0x3038cc(0x264)]('click',_0x254cb3=>{const _0x22089a=_0x3038cc;_0x254cb3[_0x22089a(0x230)][_0x22089a(0xc75)](_0x22089a(0x566))&&(activeShortcutTabId=_0x22089a(0x2af),renderAdditionalShortcutsModal(),document[_0x22089a(0x242)]('additional-shortcuts-modal')[_0x22089a(0xe19)][_0x22089a(0x677)](_0x22089a(0x414)));}),document[_0x3038cc(0x242)]('close-additional-shortcuts-btn')[_0x3038cc(0x264)]('click',()=>{const _0x40a1db=_0x3038cc;document['getElementById'](_0x40a1db(0x5b6))[_0x40a1db(0xe19)][_0x40a1db(0x27c)](_0x40a1db(0x414));}),document['getElementById'](_0x3038cc(0xb75))['addEventListener'](_0x3038cc(0xc23),_0x578f48=>{const _0x5e063d=_0x3038cc,_0x1de55b=_0x578f48[_0x5e063d(0x230)][_0x5e063d(0xc75)](_0x5e063d(0x310)),_0x3289d7=_0x578f48[_0x5e063d(0x230)][_0x5e063d(0xc75)](_0x5e063d(0x4ea)),_0x4e6215=_0x578f48[_0x5e063d(0x230)][_0x5e063d(0xc75)](_0x5e063d(0x7e5)),_0x2b3d6b=document[_0x5e063d(0x242)]('additional-shortcuts-modal');if(_0x1de55b)_0x2b3d6b[_0x5e063d(0xe19)]['add'](_0x5e063d(0x414)),handleShortcutClick(_0x1de55b[_0x5e063d(0xb42)]['id']);else{if(_0x3289d7)_0x2b3d6b['classList']['add'](_0x5e063d(0x414)),openShortcutEditor(_0x3289d7[_0x5e063d(0xb42)]['id']);else{if(_0x4e6215){const _0x5940ce=_0x4e6215[_0x5e063d(0xb42)]['id'],_0xdac43d=blueprintShortcuts[_0x5e063d(0x794)](_0x5762c2=>_0x5762c2['id']===_0x5940ce)?.[_0x5e063d(0x4cc)];showConfirmation(_0x5e063d(0x344)+_0xdac43d+'\x22?',async()=>{const _0x1304ce=_0x5e063d,_0x259adf=blueprintShortcuts['filter'](_0x2473d2=>_0x2473d2['id']!==_0x5940ce);try{const _0x13a5d5=doc(db,'globalSettings',_0x1304ce(0x64f));await setDoc(_0x13a5d5,{'blueprintShortcuts':_0x259adf},{'merge':!![]});}catch(_0x4595ce){console[_0x1304ce(0xd98)](_0x1304ce(0x287),_0x4595ce);}});}}}}),document[_0x3038cc(0x242)](_0x3038cc(0x2d4))[_0x3038cc(0x264)](_0x3038cc(0xc23),_0x1580d7=>{const _0x50ac46=_0x3038cc,_0x2b319a=_0x1580d7[_0x50ac46(0x230)][_0x50ac46(0xc75)]('.shortcut-btn'),_0x1df1e9=_0x1580d7[_0x50ac46(0x230)]['closest'](_0x50ac46(0xa5d)),_0x51a076=_0x1580d7['target'][_0x50ac46(0xc75)](_0x50ac46(0xb89));if(_0x1df1e9)openShortcutEditor(_0x1df1e9[_0x50ac46(0xb42)]['id']);else{if(_0x51a076){const _0x5dff82=_0x51a076[_0x50ac46(0xb42)]['id'],_0x98b5ee=blueprintShortcuts[_0x50ac46(0x794)](_0x16ce12=>_0x16ce12['id']===_0x5dff82)?.[_0x50ac46(0x4cc)];showConfirmation(_0x50ac46(0x344)+_0x98b5ee+'\x22?',async()=>{const _0x2575bc=_0x50ac46,_0x3268d8=blueprintShortcuts[_0x2575bc(0x3be)](_0x226f05=>_0x226f05['id']!==_0x5dff82);try{const _0x5ad5a0=doc(db,_0x2575bc(0x192),_0x2575bc(0x64f));await setDoc(_0x5ad5a0,{'blueprintShortcuts':_0x3268d8},{'merge':!![]});}catch(_0x4115bb){console['error']('Error\x20deleting\x20shortcut:',_0x4115bb);}});}else _0x2b319a&&handleShortcutClick(_0x2b319a[_0x50ac46(0xb42)]['id']);}}),document[_0x3038cc(0x242)](_0x3038cc(0x7c0))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>openShortcutEditor(null)),document[_0x3038cc(0x242)](_0x3038cc(0x23d))['addEventListener'](_0x3038cc(0xc23),()=>{const _0x2f8a43=_0x3038cc;document[_0x2f8a43(0x242)](_0x2f8a43(0xb65))[_0x2f8a43(0xe19)][_0x2f8a43(0x27c)](_0x2f8a43(0x414));}),document[_0x3038cc(0x242)](_0x3038cc(0x79c))[_0x3038cc(0x264)](_0x3038cc(0xc23),saveShortcutChanges),document[_0x3038cc(0x242)](_0x3038cc(0x6f1))['addEventListener'](_0x3038cc(0xc23),async()=>{const _0x5133a2=_0x3038cc,_0x357355=document['getElementById']('blueprint-upload-input'),_0x4061ef=document[_0x5133a2(0x242)]('reference-pdf-upload');_0x357355[_0x5133a2(0x634)][_0x5133a2(0x283)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x357355[_0x5133a2(0x634)][0x0],_0x4061ef['files'][0x0]||null):showMessage(_0x5133a2(0x3b3));}),document[_0x3038cc(0x242)](_0x3038cc(0x56a))[_0x3038cc(0x264)](_0x3038cc(0xc23),async _0x2c300e=>{const _0x30d6c9=_0x3038cc,_0x120275=document[_0x30d6c9(0x242)]('topic-quiz-bank-modal'),_0xb3d541=_0x2c300e[_0x30d6c9(0x230)][_0x30d6c9(0xc75)]('.bp-view-analysis-btn'),_0x1bfde5=_0x2c300e[_0x30d6c9(0x230)][_0x30d6c9(0xc75)](_0x30d6c9(0x24a)),_0x41a539=_0x2c300e[_0x30d6c9(0x230)][_0x30d6c9(0xc75)]('.bp-present-btn'),_0x449dcc=_0x2c300e[_0x30d6c9(0x230)][_0x30d6c9(0xc75)](_0x30d6c9(0x8ab)),_0x33d131=_0x2c300e[_0x30d6c9(0x230)][_0x30d6c9(0xc75)](_0x30d6c9(0xa1e)),_0x3a76e=_0x2c300e[_0x30d6c9(0x230)][_0x30d6c9(0xc75)](_0x30d6c9(0x763));if(_0xb3d541){cameFromBlueprint=!![];const _0x2bf639=_0xb3d541[_0x30d6c9(0xb42)][_0x30d6c9(0xcd7)];showQuizDetailView(_0x2bf639),_0x120275['classList'][_0x30d6c9(0x27c)](_0x30d6c9(0x414));}else{if(_0x1bfde5){const _0x4a7c5d=_0x1bfde5[_0x30d6c9(0xb42)]['topicId'],_0x13ee92=_0x1bfde5[_0x30d6c9(0xb42)][_0x30d6c9(0xcd7)],_0x5d0a49=allQuizzesGlobal[_0x30d6c9(0x794)](_0x37444c=>_0x37444c['id']===_0x13ee92),_0x2f51e0=_0x5d0a49?_0x5d0a49['topic']:_0x30d6c9(0x25c);showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x2f51e0+_0x30d6c9(0x8a3),async()=>{const _0x25622e=_0x30d6c9;try{const _0x41640f=doc(db,_0x25622e(0xb99)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x41640f,{[_0x25622e(0x262)+_0x4a7c5d+_0x25622e(0x537)]:arrayRemove(_0x13ee92)}),showMessage(_0x25622e(0x573)),openTopicQuizBank(_0x4a7c5d),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5428f4){console[_0x25622e(0xd98)](_0x25622e(0x5ef),_0x5428f4),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x41a539){cameFromBlueprint=!![];const _0x11ff99=_0x41a539[_0x30d6c9(0xb42)][_0x30d6c9(0xcd7)],_0x4a69a6=allQuizzesGlobal[_0x30d6c9(0x794)](_0x143fa8=>_0x143fa8['id']===_0x11ff99);_0x4a69a6&&(startPresentation(_0x4a69a6),_0x120275['classList'][_0x30d6c9(0x27c)]('hidden'));}else{if(_0x449dcc){cameFromBlueprint=!![];const _0x589477=_0x449dcc['dataset']['quizId'],_0x5dfd31=allQuizzesGlobal['find'](_0x409885=>_0x409885['id']===_0x589477);_0x5dfd31&&(currentQuizData=_0x5dfd31,startAdminTest(),_0x120275[_0x30d6c9(0xe19)][_0x30d6c9(0x27c)](_0x30d6c9(0x414)));}else{if(_0x33d131)cameFromBlueprint=!![],handleStartLiveRace(_0x33d131[_0x30d6c9(0xb42)]['quizId']),_0x120275[_0x30d6c9(0xe19)][_0x30d6c9(0x27c)]('hidden');else{if(_0x3a76e){cameFromBlueprint=!![];const _0x3c0cd3=_0x3a76e[_0x30d6c9(0xb42)]['quizId'],_0xb5ed4d=_0x3a76e['dataset']['mode'],_0x345a78=allQuizzesGlobal[_0x30d6c9(0x794)](_0x1d3ac9=>_0x1d3ac9['id']===_0x3c0cd3);_0x345a78&&(showGameStartConfirmationModal(_0x3c0cd3,_0xb5ed4d,_0x345a78[_0x30d6c9(0xe0e)]),_0x120275[_0x30d6c9(0xe19)]['add'](_0x30d6c9(0x414)));}}}}}}}),document[_0x3038cc(0x242)](_0x3038cc(0xda6))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x40cc26=_0x3038cc;document['getElementById'](_0x40cc26(0x10b))[_0x40cc26(0xe19)][_0x40cc26(0x677)]('hidden'),document[_0x40cc26(0x242)]('manual-bp-project-name')[_0x40cc26(0xbfb)]='',document[_0x40cc26(0x242)](_0x40cc26(0xb2e))[_0x40cc26(0xbfb)]='',document[_0x40cc26(0x242)](_0x40cc26(0xd9a))[_0x40cc26(0xbfb)]='';}),document['getElementById'](_0x3038cc(0xc7e))[_0x3038cc(0x264)]('click',()=>{const _0x2fbc7b=_0x3038cc;document['getElementById'](_0x2fbc7b(0x10b))[_0x2fbc7b(0xe19)]['add'](_0x2fbc7b(0x414));}),document[_0x3038cc(0x242)](_0x3038cc(0x42e))[_0x3038cc(0x264)]('click',handleManualBlueprintSave),document['getElementById'](_0x3038cc(0xc9b))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>document[_0x3038cc(0x242)]('blueprint-settings-modal')[_0x3038cc(0xe19)][_0x3038cc(0x27c)](_0x3038cc(0x414))),document['getElementById'](_0x3038cc(0x26f))[_0x3038cc(0x264)](_0x3038cc(0xc23),handleSaveBlueprintPageSettings),document[_0x3038cc(0x242)]('bp-quiz-settings-btn')[_0x3038cc(0x264)]('click',openBlueprintQuizSettings),document['getElementById'](_0x3038cc(0xdc1))[_0x3038cc(0x264)](_0x3038cc(0xc23),saveBlueprintProject),document['getElementById'](_0x3038cc(0x4b1))[_0x3038cc(0x264)]('click',showBlueprintProjects),document[_0x3038cc(0x242)]('cancel-blueprint-projects-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x4a94da=_0x3038cc;document[_0x4a94da(0x242)](_0x4a94da(0x6a6))[_0x4a94da(0xe19)][_0x4a94da(0x27c)](_0x4a94da(0x414));}),document[_0x3038cc(0x242)](_0x3038cc(0xd70))['addEventListener'](_0x3038cc(0xc23),_0x5d3060=>{const _0x101ed6=_0x3038cc,_0x15b5b3=_0x5d3060[_0x101ed6(0x230)][_0x101ed6(0xc75)]('.open-bp-project-btn'),_0xbf9102=_0x5d3060[_0x101ed6(0x230)][_0x101ed6(0xc75)]('.delete-bp-project-btn');if(_0x15b5b3)displayBlueprintProjectManager(_0x15b5b3['dataset']['id']);else _0xbf9102&&handleDeepDeleteBlueprintProject(_0xbf9102[_0x101ed6(0xb42)]['id']);}),document['getElementById'](_0x3038cc(0xd4b))[_0x3038cc(0x264)]('click',()=>{const _0x1912fe=_0x3038cc;currentBlueprintProjectId=null,currentProjectId=null,document[_0x1912fe(0x242)](_0x1912fe(0xcd5))['classList'][_0x1912fe(0x27c)](_0x1912fe(0x414)),showView(_0x1912fe(0x946));}),document['getElementById'](_0x3038cc(0x901))[_0x3038cc(0x264)](_0x3038cc(0xc23),addTopicToProject),document[_0x3038cc(0x242)](_0x3038cc(0x456))['addEventListener'](_0x3038cc(0xc23),async _0x13022b=>{const _0x3566c6=_0x3038cc,_0x5c9518=_0x13022b[_0x3566c6(0x230)][_0x3566c6(0xc75)](_0x3566c6(0x23c));if(!_0x5c9518)return;const _0x524c35=_0x5c9518[_0x3566c6(0xb42)][_0x3566c6(0xbe8)],_0x4bc1c7=_0x13022b[_0x3566c6(0x230)][_0x3566c6(0xc75)](_0x3566c6(0x42b)),_0x449613=_0x13022b[_0x3566c6(0x230)]['closest']('.bp-create-content-quiz-btn'),_0x307f3a=_0x13022b[_0x3566c6(0x230)]['closest'](_0x3566c6(0xa18)),_0x5549a4=_0x13022b[_0x3566c6(0x230)][_0x3566c6(0xc75)](_0x3566c6(0x48a)),_0x2abad8=_0x13022b[_0x3566c6(0x230)]['closest']('.view-bp-lesson-btn'),_0x5315ca=_0x13022b[_0x3566c6(0x230)][_0x3566c6(0xc75)](_0x3566c6(0x521)),_0x4dc33a=_0x13022b[_0x3566c6(0x230)]['closest'](_0x3566c6(0x75f)),_0x1c7caf=_0x13022b['target']['closest']('.bp-delete-topic-btn'),_0x291f5d=_0x2f8644=>{const _0x360ddc=_0x3566c6,_0x296841=_0x2f8644[_0x360ddc(0xb19)](_0x360ddc(0x9be))[_0x360ddc(0xafa)][_0x360ddc(0xb6d)](),_0x80d549=_0x2f8644[_0x360ddc(0xc75)](_0x360ddc(0x9ee))[_0x360ddc(0x21b)],_0x3dcb38=_0x80d549?_0x80d549['textContent'][_0x360ddc(0xb6d)]():'';return _0x3dcb38+':\x20'+_0x296841;};if(_0x5549a4)openTopicQuizBank(_0x524c35);else{if(_0x4bc1c7){const _0x193509=_0x291f5d(_0x5c9518);selectProjectAndGenerateBlueprintQuiz(_0x193509,null,_0x524c35,!![]);}else{if(_0x449613){const _0x8478d3=_0x291f5d(_0x5c9518);try{const _0x5edf16=doc(db,_0x3566c6(0xb99)+appId+_0x3566c6(0x6ac)+currentBlueprintProjectId+'/lessons',_0x524c35),_0x3dbf61=await getDoc(_0x5edf16);if(_0x3dbf61[_0x3566c6(0xb96)]()){const _0x500139=_0x3dbf61['data']()[_0x3566c6(0x7a5)],_0x2a6193=document[_0x3566c6(0xc3c)](_0x3566c6(0x482)),_0x33c874=_0x26441e=>{const _0xca88ab=_0x3566c6;if(!_0x26441e)return'';return _0x2a6193['innerHTML']=_0x26441e,_0x2a6193[_0xca88ab(0xafa)]||_0x2a6193[_0xca88ab(0x9f5)]||'';},_0x3fb7ff=(_0x33c874(_0x500139[_0x3566c6(0x2ac)])+'\x20'+_0x33c874(_0x500139[_0x3566c6(0x65c)])+'\x20'+_0x33c874(_0x500139[_0x3566c6(0xc7d)]))[_0x3566c6(0xb6d)]();selectProjectAndGenerateBlueprintQuiz(_0x8478d3,_0x3fb7ff,_0x524c35,![]);}else showMessage(_0x3566c6(0x1e5));}catch(_0x346f02){console[_0x3566c6(0xd98)](_0x3566c6(0xa96),_0x346f02),showMessage(_0x3566c6(0x7a1));}}else{if(_0x307f3a){const _0xd74dd=_0x291f5d(_0x5c9518);selectProjectAndGenerateBlueprintQuiz(_0xd74dd,null,_0x524c35,![]);}else{if(_0x2abad8){const _0x4efe19=doc(db,_0x3566c6(0xb99)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x215e0d=await getDoc(_0x4efe19);if(_0x215e0d['exists']()){const _0x323787=_0x215e0d[_0x3566c6(0x1f1)](),_0x48bf9d=_0x323787[_0x3566c6(0x2cd)][_0x524c35];if(_0x48bf9d&&_0x48bf9d[_0x3566c6(0x2db)]===_0x3566c6(0xd60))try{const _0xa0d1e3=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x3566c6(0x430),_0x524c35),_0x34dd73=await getDoc(_0xa0d1e3);if(_0x34dd73[_0x3566c6(0xb96)]()){const _0x57eaea=_0x34dd73[_0x3566c6(0x1f1)]()['content'];document[_0x3566c6(0x242)](_0x3566c6(0x806))[_0x3566c6(0xafa)]='บทเรียนเรื่อง:\x20'+_0x291f5d(_0x5c9518),document['getElementById'](_0x3566c6(0x949))[_0x3566c6(0x90d)]=_0x57eaea[_0x3566c6(0x2ac)],document['getElementById']('memoryContent')[_0x3566c6(0x90d)]=_0x57eaea[_0x3566c6(0x65c)],document[_0x3566c6(0x242)](_0x3566c6(0x8fc))[_0x3566c6(0x90d)]=_0x57eaea[_0x3566c6(0xc7d)];const _0x4c0b76=document[_0x3566c6(0x242)]('applicationContent');_0x57eaea[_0x3566c6(0x377)]?(currentApplicationData=_0x57eaea[_0x3566c6(0x377)],_0x4c0b76['innerHTML']=currentApplicationData['map']((_0x538847,_0x5ee9e0)=>_0x3566c6(0x366)+(_0x5ee9e0+0x1)+'.\x20'+marked[_0x3566c6(0x510)](_0x538847[_0x3566c6(0x7e7)])+'</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x5ee9e0+'-options\x22>'+_0x538847[_0x3566c6(0x381)]['map']((_0x20f415,_0x152a5e)=>_0x3566c6(0xb3b)+_0x5ee9e0+',\x20'+_0x152a5e+_0x3566c6(0xdbd)+String[_0x3566c6(0xa1c)](0x61+_0x152a5e)+'.\x20'+marked[_0x3566c6(0x510)](_0x20f415)+_0x3566c6(0x5a9))['join']('')+_0x3566c6(0xa4a))['join']('')):(currentApplicationData=[],_0x4c0b76[_0x3566c6(0x90d)]=_0x57eaea['applicationHTML']||_0x57eaea[_0x3566c6(0xd46)]),document[_0x3566c6(0x242)](_0x3566c6(0x152))[_0x3566c6(0xe19)][_0x3566c6(0x27c)](_0x3566c6(0x414)),document[_0x3566c6(0x242)]('lesson-sections-container')['classList'][_0x3566c6(0x677)](_0x3566c6(0x414)),document[_0x3566c6(0x242)](_0x3566c6(0x1f7))[_0x3566c6(0xe19)][_0x3566c6(0x677)](_0x3566c6(0x414)),window[_0x3566c6(0x972)]&&MathJax[_0x3566c6(0xde3)]([document[_0x3566c6(0x242)](_0x3566c6(0x19f))]);}else showMessage(_0x3566c6(0x501));}catch(_0x994e3c){console[_0x3566c6(0xd98)](_0x3566c6(0xb85),_0x994e3c),showMessage(_0x3566c6(0x6e7));}else showMessage(_0x3566c6(0x658));}}else{if(_0x5315ca){const _0x21dc97=_0x291f5d(_0x5c9518),_0x2c3b63=doc(db,_0x3566c6(0xb99)+appId+_0x3566c6(0x3c1),currentBlueprintProjectId),_0x4c71df=await getDoc(_0x2c3b63);if(_0x4c71df[_0x3566c6(0xb96)]()){const _0x43d271=_0x4c71df[_0x3566c6(0x1f1)]();generateAndSaveLessonForBlueprint(_0x524c35,_0x21dc97,_0x43d271[_0x3566c6(0x907)]);}}else{if(_0x4dc33a)editTopicInProject(_0x524c35);else _0x1c7caf&&deleteTopicFromProject(_0x524c35);}}}}}}}),document['getElementById'](_0x3038cc(0x7ac))['addEventListener'](_0x3038cc(0xc23),handleFixLessonLatex),document[_0x3038cc(0x242)](_0x3038cc(0xbfa))[_0x3038cc(0x264)](_0x3038cc(0xc23),handleExportLessonToPDF),document[_0x3038cc(0x242)](_0x3038cc(0x467))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x234a56=_0x3038cc;document[_0x234a56(0x242)](_0x234a56(0x1f7))[_0x234a56(0xe19)][_0x234a56(0x27c)](_0x234a56(0x414));});const _0x51fc3e=document[_0x3038cc(0x242)](_0x3038cc(0x6c9)),_0x5c581d=document[_0x3038cc(0x242)](_0x3038cc(0x34a));_0x51fc3e[_0x3038cc(0x264)](_0x3038cc(0x484),()=>{const _0x288c0e=_0x3038cc;_0x5c581d[_0x288c0e(0xe19)][_0x288c0e(0x8ff)](_0x288c0e(0x414),!_0x51fc3e[_0x288c0e(0xa7e)]);});const _0x284e4e=document[_0x3038cc(0x242)](_0x3038cc(0xb5b)),_0x4b35b7=document[_0x3038cc(0x242)](_0x3038cc(0x859));_0x284e4e[_0x3038cc(0x264)](_0x3038cc(0x484),()=>{const _0xf02c13=_0x3038cc;_0x4b35b7[_0xf02c13(0xe19)]['toggle'](_0xf02c13(0x414),!_0x284e4e['checked']);});const _0x2124b8=document[_0x3038cc(0x242)](_0x3038cc(0x433)),_0x4a4614=document[_0x3038cc(0x242)]('modal-confidence-mode-container');_0x2124b8[_0x3038cc(0x264)](_0x3038cc(0x484),()=>{const _0xbc4b2a=_0x3038cc;_0x4a4614[_0xbc4b2a(0xe19)]['toggle']('hidden',!_0x2124b8[_0xbc4b2a(0xa7e)]);});const _0x314e6c=document[_0x3038cc(0x242)](_0x3038cc(0xdd7)),_0x52c703=async _0x173509=>{const _0x36ae5c=_0x3038cc,_0x16ef38=document[_0x36ae5c(0x242)](_0x36ae5c(0xdd7)),_0x1b60d1=_0x16ef38[_0x36ae5c(0xb42)]['currentMode'],_0x2b4de4=document[_0x36ae5c(0x242)](_0x36ae5c(0x4a1));_0x16ef38[_0x36ae5c(0xe19)][_0x36ae5c(0x27c)](_0x36ae5c(0x414));if(_0x1b60d1===_0x36ae5c(0x118)){const _0x41b3f3=_0x2b4de4['value'],_0x4b598c={'answer':_0x41b3f3,'wasConfident':_0x173509};proceedToNextQuestion(_0x4b598c);}else{if(_0x1b60d1==='sync'){const _0xcef015=_0x2b4de4['dataset'][_0x36ae5c(0x3a6)],_0x4cb44e=JSON[_0x36ae5c(0x942)](_0x2b4de4[_0x36ae5c(0xb42)][_0x36ae5c(0x7e7)]),_0x2c7731=JSON[_0x36ae5c(0x942)](_0x2b4de4[_0x36ae5c(0xb42)]['gameData']),_0x1d55ec=_0x2b4de4[_0x36ae5c(0xb42)][_0x36ae5c(0x30e)];handleSyncAnswerSubmit(_0xcef015,_0x4cb44e,_0x2c7731,_0x1d55ec,_0x173509);}}_0x16ef38[_0x36ae5c(0xb42)][_0x36ae5c(0xb05)]='';};document['getElementById'](_0x3038cc(0xd86))['addEventListener']('click',()=>_0x52c703(!![])),document[_0x3038cc(0x242)](_0x3038cc(0xb0d))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>_0x52c703(![])),liveGameView[_0x3038cc(0x264)](_0x3038cc(0xc23),_0x8e0a9f=>{const _0x1c1990=_0x3038cc,_0x14f1dc=_0x8e0a9f[_0x1c1990(0x230)][_0x1c1990(0xc75)](_0x1c1990(0x11b));if(_0x14f1dc){const _0x5ac5de=_0x14f1dc[_0x1c1990(0xb42)][_0x1c1990(0x30e)];_0x5ac5de&&handleKickPlayerSync(_0x5ac5de);}});const _0x26e3cc=document[_0x3038cc(0x242)](_0x3038cc(0x285)),_0x507e34=document['getElementById'](_0x3038cc(0xdb1));_0x507e34[_0x3038cc(0x264)]('click',()=>{const _0x5a2d7c=_0x3038cc;document[_0x5a2d7c(0x242)](_0x5a2d7c(0x7c7))[_0x5a2d7c(0xe19)][_0x5a2d7c(0x27c)](_0x5a2d7c(0x414));}),_0x26e3cc[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0xd9bdd0=_0x3038cc,_0x48f11d=document[_0xd9bdd0(0x242)](_0xd9bdd0(0x2fc))[_0xd9bdd0(0xbfb)],_0x32a1c9=document[_0xd9bdd0(0x242)](_0xd9bdd0(0x1cc))['value'],_0x433c0f=document[_0xd9bdd0(0x242)](_0xd9bdd0(0x716))['checked'];document[_0xd9bdd0(0x242)](_0xd9bdd0(0x7c7))[_0xd9bdd0(0xe19)][_0xd9bdd0(0x27c)]('hidden');switch(_0x32a1c9){case _0xd9bdd0(0x4dc):handleStartLiveRace(_0x48f11d,_0x433c0f);break;case _0xd9bdd0(0x725):handleStartTeamQuiz(_0x48f11d,_0x433c0f);break;case'group':handleStartGroupMode(_0x48f11d,_0x433c0f);break;case _0xd9bdd0(0x7ff):const _0x372391=document[_0xd9bdd0(0xb19)](_0xd9bdd0(0x2f4))[_0xd9bdd0(0xbfb)]||_0xd9bdd0(0x32f);handleStartSyncMode(_0x48f11d,_0x433c0f,_0x372391);break;}}),document['getElementById'](_0x3038cc(0xc0c))[_0x3038cc(0x264)](_0x3038cc(0xc23),handleJoinGroupActivity),liveGameView['addEventListener'](_0x3038cc(0xc23),_0x167567=>{const _0x4ea9e3=_0x3038cc,_0x25ec45=_0x167567['target'][_0x4ea9e3(0xc75)](_0x4ea9e3(0x587));document[_0x4ea9e3(0x99b)]('.live-summary-tooltip.visible')['forEach'](_0xe72e04=>{const _0x3ef665=_0x4ea9e3;(!_0x25ec45||_0xe72e04['id']!==_0x25ec45[_0x3ef665(0xb42)]['tooltipTarget'])&&_0xe72e04[_0x3ef665(0xe19)]['remove']('visible');});if(!_0x25ec45)return;const _0x368421=_0x25ec45[_0x4ea9e3(0xb42)][_0x4ea9e3(0x12d)],_0x1adac0=document[_0x4ea9e3(0x242)](_0x368421);_0x1adac0&&_0x1adac0[_0x4ea9e3(0xe19)][_0x4ea9e3(0x8ff)](_0x4ea9e3(0x365));}),liveGameView[_0x3038cc(0x264)](_0x3038cc(0xc23),_0x4444fa=>{const _0xddf347=_0x3038cc;if(_0x4444fa[_0xddf347(0x230)][_0xddf347(0xe19)][_0xddf347(0x52e)](_0xddf347(0x974))){const _0xb7f1c=_0x4444fa[_0xddf347(0x230)][_0xddf347(0xb42)][_0xddf347(0x30e)];_0xb7f1c&&handleKickPlayer(_0xb7f1c);}}),document['getElementById'](_0x3038cc(0xe02))[_0x3038cc(0x264)](_0x3038cc(0xaf4),()=>document[_0x3038cc(0x242)]('save-project-name-btn')[_0x3038cc(0xe19)][_0x3038cc(0x677)]('hidden')),document[_0x3038cc(0x242)](_0x3038cc(0x2f7))[_0x3038cc(0x264)]('click',handleSaveProjectName),document[_0x3038cc(0x242)](_0x3038cc(0xe02))[_0x3038cc(0x264)](_0x3038cc(0x9d8),_0x39749f=>{const _0x4d6b05=_0x3038cc;_0x39749f[_0x4d6b05(0x43a)]===_0x4d6b05(0xda8)&&(_0x39749f['preventDefault'](),_0x39749f[_0x4d6b05(0x230)][_0x4d6b05(0xbb2)](),handleSaveProjectName());}),document['getElementById'](_0x3038cc(0x29d))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x5370e4=_0x3038cc;document['getElementById'](_0x5370e4(0x448))[_0x5370e4(0xe19)][_0x5370e4(0x677)](_0x5370e4(0x414));}),document[_0x3038cc(0x242)](_0x3038cc(0x78d))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x43133b=_0x3038cc;document['getElementById'](_0x43133b(0x448))[_0x43133b(0xe19)][_0x43133b(0x27c)]('hidden');}),document[_0x3038cc(0x242)]('confirm-bulk-quiz-settings-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),handleBulkUpdateQuizSettings),document[_0x3038cc(0x242)]('mode-switcher-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),handleModeSwitch),document[_0x3038cc(0x242)](_0x3038cc(0x11a))[_0x3038cc(0x264)](_0x3038cc(0xc23),handleUpdateOldQuizzes),document[_0x3038cc(0x242)](_0x3038cc(0xd85))[_0x3038cc(0x264)](_0x3038cc(0xc23),handleResetProjectOrder),document[_0x3038cc(0x242)](_0x3038cc(0x40a))[_0x3038cc(0x264)](_0x3038cc(0xc23),handleSaveVisibilitySettings),document[_0x3038cc(0x242)](_0x3038cc(0xac9))[_0x3038cc(0x264)](_0x3038cc(0xc23),handleAddCustomMathTopic),document[_0x3038cc(0x242)](_0x3038cc(0x71b))['addEventListener'](_0x3038cc(0xc23),handleSelectAllTopics),document[_0x3038cc(0x242)](_0x3038cc(0x140))[_0x3038cc(0x264)](_0x3038cc(0xc23),handleDeselectAllTopics),document[_0x3038cc(0x242)]('back-to-dashboard-btn')[_0x3038cc(0x264)]('click',()=>{const _0x3168f4=_0x3038cc;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x3168f4(0x946));}}),document[_0x3038cc(0x242)]('back-to-project-btn')['addEventListener'](_0x3038cc(0xc23),()=>{const _0x2ec670=_0x3038cc;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x2ec670(0x3f3));}}),document['getElementById']('back-to-dashboard-from-results-btn')['addEventListener']('click',()=>{const _0x5ee8ab=_0x3038cc;showView(_0x5ee8ab(0x946));}),document[_0x3038cc(0x242)](_0x3038cc(0x3c5))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0xfda2bc=_0x3038cc;messageModal['classList']['add'](_0xfda2bc(0x414)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x3038cc(0x242)](_0x3038cc(0x916))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>createProjectModal[_0x3038cc(0xe19)][_0x3038cc(0x677)](_0x3038cc(0x414))),document['getElementById']('cancel-create-project-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>createProjectModal[_0x3038cc(0xe19)]['add'](_0x3038cc(0x414))),document[_0x3038cc(0x242)](_0x3038cc(0x705))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>adminPasswordModal['classList']['add'](_0x3038cc(0x414))),document['getElementById']('confirm-admin-login-btn')['addEventListener'](_0x3038cc(0xc23),handleAdminLogin),document['getElementById'](_0x3038cc(0xa42))[_0x3038cc(0x264)](_0x3038cc(0xac0),_0x1219bb=>{const _0x432c8c=_0x3038cc;if(_0x1219bb[_0x432c8c(0x43a)]===_0x432c8c(0xda8))handleAdminLogin();}),document['getElementById']('cancel-delete-btn')['addEventListener'](_0x3038cc(0xc23),()=>{const _0x3fd61d=_0x3038cc;confirmationModal[_0x3fd61d(0xe19)][_0x3fd61d(0x27c)](_0x3fd61d(0x414)),typeof cancelAction===_0x3fd61d(0x8e9)&&cancelAction(),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x3038cc(0xdd6))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x4046f1=_0x3038cc;confirmAction&&confirmAction(),confirmationModal['classList'][_0x4046f1(0x27c)]('hidden'),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x3038cc(0x4d8))[_0x3038cc(0x264)]('click',()=>renameQuizModal['classList'][_0x3038cc(0x27c)](_0x3038cc(0x414))),document[_0x3038cc(0x242)](_0x3038cc(0xc60))[_0x3038cc(0x264)](_0x3038cc(0xc23),confirmRenameQuiz),document[_0x3038cc(0x242)]('cancel-move-quiz-btn')['addEventListener'](_0x3038cc(0xc23),()=>moveQuizModal[_0x3038cc(0xe19)][_0x3038cc(0x27c)](_0x3038cc(0x414))),document[_0x3038cc(0x242)](_0x3038cc(0x6eb))['addEventListener']('click',confirmMoveQuiz),document[_0x3038cc(0x242)](_0x3038cc(0x87c))['addEventListener'](_0x3038cc(0xc23),()=>quizSettingsModal[_0x3038cc(0xe19)]['add']('hidden')),document[_0x3038cc(0x242)]('confirm-quiz-settings-btn')[_0x3038cc(0x264)]('click',confirmQuizSettings),document[_0x3038cc(0x242)](_0x3038cc(0x603))['addEventListener'](_0x3038cc(0xc23),()=>quizStatusModal['classList']['add'](_0x3038cc(0x414))),document[_0x3038cc(0x242)](_0x3038cc(0x3bc))[_0x3038cc(0x264)]('click',confirmQuizStatus);const _0x229c9d=document[_0x3038cc(0x242)](_0x3038cc(0x190));document[_0x3038cc(0x242)](_0x3038cc(0x3ad))[_0x3038cc(0x264)]('click',()=>{const _0x236b0a=_0x3038cc;_0x229c9d[_0x236b0a(0xe19)]['add'](_0x236b0a(0x414));}),document[_0x3038cc(0x242)](_0x3038cc(0x443))[_0x3038cc(0x264)](_0x3038cc(0xc23),async()=>{const _0x45b192=_0x3038cc,_0x2f376f=allQuizzes['find'](_0x29209d=>_0x29209d['id']===actionTargetId);_0x2f376f?(currentQuizData=_0x2f376f,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x229c9d['classList']['add'](_0x45b192(0x414));}),document[_0x3038cc(0x242)]('export-tutor-pdf-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),async()=>{const _0x59f1e2=_0x3038cc,_0x3293b8=allQuizzes['find'](_0x55df8a=>_0x55df8a['id']===actionTargetId);_0x3293b8?(currentQuizData=_0x3293b8,exportQuizAsTutorPDF()):showMessage(_0x59f1e2(0x6ad)),_0x229c9d[_0x59f1e2(0xe19)]['add'](_0x59f1e2(0x414));});const _0x5001e0=document['getElementById']('open-global-live-btn');_0x5001e0['innerHTML']=_0x3038cc(0xa15),_0x5001e0[_0x3038cc(0x264)](_0x3038cc(0xc23),openGlobalActivityModal),document[_0x3038cc(0x242)](_0x3038cc(0x808))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x49ed83=_0x3038cc;document['getElementById'](_0x49ed83(0x449))['classList'][_0x49ed83(0x27c)]('hidden');}),document[_0x3038cc(0x242)](_0x3038cc(0x13d))[_0x3038cc(0x264)]('input',_0x3587cb=>{const _0x46f614=_0x3038cc;renderGlobalActivityList(_0x3587cb['target'][_0x46f614(0xbfb)]);}),document[_0x3038cc(0x242)]('global-activity-quiz-list')['addEventListener']('click',_0x1abdc6=>{const _0x400edf=_0x3038cc,_0x2cf442=_0x1abdc6[_0x400edf(0x230)][_0x400edf(0xc75)](_0x400edf(0xb56));if(!_0x2cf442)return;const _0x326ae8=_0x2cf442[_0x400edf(0xb42)]['id'],_0x7689ce=_0x2cf442[_0x400edf(0xb42)][_0x400edf(0x421)],_0xc5d312=allQuizzesGlobal[_0x400edf(0x794)](_0x3c2ccc=>_0x3c2ccc['id']===_0x326ae8);_0xc5d312&&(document[_0x400edf(0x242)](_0x400edf(0x449))['classList']['add'](_0x400edf(0x414)),_0x7689ce===_0x400edf(0x4dc)?handleStartLiveRace(_0x326ae8):showGameStartConfirmationModal(_0x326ae8,_0x7689ce,_0xc5d312[_0x400edf(0xe0e)]));}),document[_0x3038cc(0x242)](_0x3038cc(0xacb))[_0x3038cc(0x264)](_0x3038cc(0x746),renderProjects),document[_0x3038cc(0x242)](_0x3038cc(0xae4))['addEventListener'](_0x3038cc(0x484),async()=>{const _0x35e2cf=_0x3038cc,_0x1be4e8=document[_0x35e2cf(0x242)](_0x35e2cf(0xae4))[_0x35e2cf(0xbfb)],_0x1287f8=doc(db,_0x35e2cf(0x192),_0x35e2cf(0x64f));try{await setDoc(_0x1287f8,{'projectSort':_0x1be4e8},{'merge':!![]});}catch(_0x399b45){console['error']('Error\x20updating\x20sort\x20preference:',_0x399b45),showMessage(_0x35e2cf(0x815));}}),document['getElementById']('quiz-search-input')[_0x3038cc(0x264)]('input',renderQuizzes),document[_0x3038cc(0x242)]('grid-view-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x42da8e=_0x3038cc;globalDashboardSettings[_0x42da8e(0x22c)]=_0x42da8e(0x4d1),saveUserPreference('projectView',_0x42da8e(0x4d1)),renderProjects();}),document['getElementById']('list-view-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x822bce=_0x3038cc;globalDashboardSettings[_0x822bce(0x22c)]=_0x822bce(0xad6),saveUserPreference(_0x822bce(0x22c),_0x822bce(0xad6)),renderProjects();}),manageTab[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>switchProjectTab(_0x3038cc(0xb68))),resultsTab['addEventListener']('click',()=>switchProjectTab(_0x3038cc(0x8d6))),leaderboardTab[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>switchProjectTab(_0x3038cc(0x306))),document[_0x3038cc(0x242)](_0x3038cc(0x3e4))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>switchQuizDetailTab(_0x3038cc(0x8a4))),document[_0x3038cc(0x242)]('scores-tab-btn')[_0x3038cc(0x264)]('click',()=>switchQuizDetailTab(_0x3038cc(0x483))),document['getElementById'](_0x3038cc(0xcad))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>switchQuizDetailTab(_0x3038cc(0x1ca))),document[_0x3038cc(0x242)](_0x3038cc(0x5f0))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>switchQuizDetailTab(_0x3038cc(0x3e9))),document[_0x3038cc(0x242)](_0x3038cc(0x402))[_0x3038cc(0x264)]('click',handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x3038cc(0xc23),generateWorksheet);const _0x96de43=document[_0x3038cc(0x242)]('link-tab'),_0x16c909=document[_0x3038cc(0x242)](_0x3038cc(0xd4c)),_0x4f898d=document[_0x3038cc(0x242)](_0x3038cc(0xdb0)),_0x9cee8b=document[_0x3038cc(0x242)](_0x3038cc(0xc14)),_0x4c761d=document[_0x3038cc(0x242)](_0x3038cc(0x693)),_0x3e76c7=document[_0x3038cc(0x242)]('parallel-test-input-area');topicTab['addEventListener'](_0x3038cc(0xc23),()=>{const _0x26ba90=_0x3038cc;topicTab['classList']['add'](_0x26ba90(0xc93)),textTab[_0x26ba90(0xe19)]['remove'](_0x26ba90(0xc93)),fileTab[_0x26ba90(0xe19)][_0x26ba90(0x677)](_0x26ba90(0xc93)),worksheetTab[_0x26ba90(0xe19)][_0x26ba90(0x677)](_0x26ba90(0xc93));if(_0x96de43)_0x96de43[_0x26ba90(0xe19)][_0x26ba90(0x677)](_0x26ba90(0xc93));if(_0x4f898d)_0x4f898d[_0x26ba90(0xe19)][_0x26ba90(0x677)](_0x26ba90(0xc93));if(_0x4c761d)_0x4c761d[_0x26ba90(0xe19)]['remove'](_0x26ba90(0xc93));topicInputArea[_0x26ba90(0xe19)]['remove']('hidden'),textInputArea['classList'][_0x26ba90(0x27c)](_0x26ba90(0x414)),fileInputArea[_0x26ba90(0xe19)][_0x26ba90(0x27c)](_0x26ba90(0x414)),worksheetInputArea[_0x26ba90(0xe19)][_0x26ba90(0x27c)](_0x26ba90(0x414));if(_0x16c909)_0x16c909[_0x26ba90(0xe19)]['add'](_0x26ba90(0x414));if(_0x9cee8b)_0x9cee8b[_0x26ba90(0xe19)][_0x26ba90(0x27c)](_0x26ba90(0x414));if(_0x3e76c7)_0x3e76c7['classList'][_0x26ba90(0x27c)](_0x26ba90(0x414));}),textTab['addEventListener'](_0x3038cc(0xc23),()=>{const _0x1a9280=_0x3038cc;textTab[_0x1a9280(0xe19)][_0x1a9280(0x27c)](_0x1a9280(0xc93)),topicTab[_0x1a9280(0xe19)][_0x1a9280(0x677)](_0x1a9280(0xc93)),fileTab['classList'][_0x1a9280(0x677)]('active'),worksheetTab[_0x1a9280(0xe19)][_0x1a9280(0x677)](_0x1a9280(0xc93));if(_0x96de43)_0x96de43[_0x1a9280(0xe19)][_0x1a9280(0x677)](_0x1a9280(0xc93));if(_0x4f898d)_0x4f898d['classList']['remove'](_0x1a9280(0xc93));if(_0x4c761d)_0x4c761d['classList'][_0x1a9280(0x677)]('active');textInputArea[_0x1a9280(0xe19)][_0x1a9280(0x677)](_0x1a9280(0x414)),topicInputArea['classList'][_0x1a9280(0x27c)](_0x1a9280(0x414)),fileInputArea['classList'][_0x1a9280(0x27c)](_0x1a9280(0x414)),worksheetInputArea['classList'][_0x1a9280(0x27c)](_0x1a9280(0x414));if(_0x16c909)_0x16c909[_0x1a9280(0xe19)][_0x1a9280(0x27c)](_0x1a9280(0x414));if(_0x9cee8b)_0x9cee8b[_0x1a9280(0xe19)][_0x1a9280(0x27c)](_0x1a9280(0x414));if(_0x3e76c7)_0x3e76c7['classList']['add']('hidden');}),fileTab['addEventListener']('click',()=>{const _0xfed8e5=_0x3038cc;fileTab[_0xfed8e5(0xe19)][_0xfed8e5(0x27c)](_0xfed8e5(0xc93)),topicTab[_0xfed8e5(0xe19)][_0xfed8e5(0x677)](_0xfed8e5(0xc93)),textTab['classList'][_0xfed8e5(0x677)](_0xfed8e5(0xc93)),worksheetTab[_0xfed8e5(0xe19)][_0xfed8e5(0x677)](_0xfed8e5(0xc93));if(_0x96de43)_0x96de43[_0xfed8e5(0xe19)]['remove'](_0xfed8e5(0xc93));if(_0x4f898d)_0x4f898d[_0xfed8e5(0xe19)][_0xfed8e5(0x677)]('active');if(_0x4c761d)_0x4c761d[_0xfed8e5(0xe19)][_0xfed8e5(0x677)](_0xfed8e5(0xc93));fileInputArea['classList'][_0xfed8e5(0x677)]('hidden'),topicInputArea[_0xfed8e5(0xe19)][_0xfed8e5(0x27c)]('hidden'),textInputArea[_0xfed8e5(0xe19)]['add'](_0xfed8e5(0x414)),worksheetInputArea['classList']['add']('hidden');if(_0x16c909)_0x16c909['classList'][_0xfed8e5(0x27c)](_0xfed8e5(0x414));if(_0x9cee8b)_0x9cee8b[_0xfed8e5(0xe19)][_0xfed8e5(0x27c)](_0xfed8e5(0x414));if(_0x3e76c7)_0x3e76c7['classList']['add']('hidden');}),worksheetTab['addEventListener'](_0x3038cc(0xc23),()=>{const _0x332747=_0x3038cc;worksheetTab[_0x332747(0xe19)][_0x332747(0x27c)](_0x332747(0xc93)),topicTab[_0x332747(0xe19)]['remove']('active'),textTab[_0x332747(0xe19)][_0x332747(0x677)]('active'),fileTab[_0x332747(0xe19)]['remove']('active');if(_0x96de43)_0x96de43['classList']['remove'](_0x332747(0xc93));if(_0x4f898d)_0x4f898d[_0x332747(0xe19)][_0x332747(0x677)](_0x332747(0xc93));if(_0x4c761d)_0x4c761d['classList']['remove'](_0x332747(0xc93));worksheetInputArea['classList'][_0x332747(0x677)](_0x332747(0x414)),topicInputArea[_0x332747(0xe19)]['add'](_0x332747(0x414)),textInputArea['classList'][_0x332747(0x27c)](_0x332747(0x414)),fileInputArea[_0x332747(0xe19)][_0x332747(0x27c)]('hidden');if(_0x16c909)_0x16c909['classList'][_0x332747(0x27c)](_0x332747(0x414));if(_0x9cee8b)_0x9cee8b[_0x332747(0xe19)][_0x332747(0x27c)](_0x332747(0x414));if(_0x3e76c7)_0x3e76c7[_0x332747(0xe19)]['add'](_0x332747(0x414));});const _0x501d24=document[_0x3038cc(0x242)](_0x3038cc(0x778)),_0x217ad7=document[_0x3038cc(0x242)](_0x3038cc(0x865));_0x501d24&&_0x501d24['addEventListener'](_0x3038cc(0xc23),()=>{const _0x3d94a4=_0x3038cc;topicTab['classList'][_0x3d94a4(0x677)](_0x3d94a4(0xc93)),textTab[_0x3d94a4(0xe19)][_0x3d94a4(0x677)](_0x3d94a4(0xc93)),fileTab[_0x3d94a4(0xe19)][_0x3d94a4(0x677)]('active'),worksheetTab[_0x3d94a4(0xe19)]['remove'](_0x3d94a4(0xc93));if(_0x96de43)_0x96de43[_0x3d94a4(0xe19)][_0x3d94a4(0x677)](_0x3d94a4(0xc93));if(_0x4f898d)_0x4f898d['classList'][_0x3d94a4(0x677)]('active');if(_0x4c761d)_0x4c761d[_0x3d94a4(0xe19)][_0x3d94a4(0x677)](_0x3d94a4(0xc93));_0x501d24[_0x3d94a4(0xe19)][_0x3d94a4(0x27c)]('active'),topicInputArea[_0x3d94a4(0xe19)]['add'](_0x3d94a4(0x414)),textInputArea[_0x3d94a4(0xe19)][_0x3d94a4(0x27c)](_0x3d94a4(0x414)),fileInputArea[_0x3d94a4(0xe19)][_0x3d94a4(0x27c)](_0x3d94a4(0x414)),worksheetInputArea['classList'][_0x3d94a4(0x27c)](_0x3d94a4(0x414));if(_0x16c909)_0x16c909['classList'][_0x3d94a4(0x27c)](_0x3d94a4(0x414));if(_0x9cee8b)_0x9cee8b[_0x3d94a4(0xe19)][_0x3d94a4(0x27c)](_0x3d94a4(0x414));if(_0x3e76c7)_0x3e76c7[_0x3d94a4(0xe19)][_0x3d94a4(0x27c)](_0x3d94a4(0x414));_0x217ad7[_0x3d94a4(0xe19)]['remove'](_0x3d94a4(0x414)),displayQuestionBank();});_0x96de43&&(_0x96de43['addEventListener'](_0x3038cc(0xc23),()=>{const _0x178809=_0x3038cc;_0x96de43[_0x178809(0xe19)][_0x178809(0x27c)](_0x178809(0xc93)),topicTab[_0x178809(0xe19)][_0x178809(0x677)](_0x178809(0xc93)),textTab[_0x178809(0xe19)][_0x178809(0x677)](_0x178809(0xc93)),fileTab[_0x178809(0xe19)]['remove'](_0x178809(0xc93)),worksheetTab['classList'][_0x178809(0x677)](_0x178809(0xc93));if(_0x4f898d)_0x4f898d[_0x178809(0xe19)][_0x178809(0x677)](_0x178809(0xc93));if(_0x4c761d)_0x4c761d[_0x178809(0xe19)]['remove']('active');_0x16c909[_0x178809(0xe19)][_0x178809(0x677)]('hidden'),topicInputArea[_0x178809(0xe19)][_0x178809(0x27c)]('hidden'),textInputArea[_0x178809(0xe19)][_0x178809(0x27c)](_0x178809(0x414)),fileInputArea[_0x178809(0xe19)]['add'](_0x178809(0x414)),worksheetInputArea[_0x178809(0xe19)][_0x178809(0x27c)](_0x178809(0x414));if(_0x9cee8b)_0x9cee8b[_0x178809(0xe19)][_0x178809(0x27c)]('hidden');if(_0x3e76c7)_0x3e76c7[_0x178809(0xe19)][_0x178809(0x27c)]('hidden');}),document['getElementById'](_0x3038cc(0xd10))[_0x3038cc(0x264)](_0x3038cc(0xc23),handleGenerateFromLink));_0x4f898d&&_0x4f898d[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x42d7ae=_0x3038cc;_0x4f898d[_0x42d7ae(0xe19)][_0x42d7ae(0x27c)](_0x42d7ae(0xc93)),topicTab[_0x42d7ae(0xe19)][_0x42d7ae(0x677)](_0x42d7ae(0xc93)),textTab[_0x42d7ae(0xe19)][_0x42d7ae(0x677)](_0x42d7ae(0xc93)),fileTab[_0x42d7ae(0xe19)][_0x42d7ae(0x677)](_0x42d7ae(0xc93)),worksheetTab[_0x42d7ae(0xe19)][_0x42d7ae(0x677)](_0x42d7ae(0xc93));if(_0x96de43)_0x96de43[_0x42d7ae(0xe19)][_0x42d7ae(0x677)](_0x42d7ae(0xc93));if(_0x501d24)_0x501d24[_0x42d7ae(0xe19)][_0x42d7ae(0x677)](_0x42d7ae(0xc93));if(_0x4c761d)_0x4c761d[_0x42d7ae(0xe19)]['remove']('active');_0x9cee8b[_0x42d7ae(0xe19)][_0x42d7ae(0x677)]('hidden'),topicInputArea[_0x42d7ae(0xe19)][_0x42d7ae(0x27c)](_0x42d7ae(0x414)),textInputArea['classList']['add'](_0x42d7ae(0x414)),fileInputArea[_0x42d7ae(0xe19)][_0x42d7ae(0x27c)]('hidden'),worksheetInputArea[_0x42d7ae(0xe19)][_0x42d7ae(0x27c)](_0x42d7ae(0x414));if(_0x16c909)_0x16c909[_0x42d7ae(0xe19)][_0x42d7ae(0x27c)]('hidden');if(_0x217ad7)_0x217ad7['classList'][_0x42d7ae(0x27c)](_0x42d7ae(0x414));if(_0x3e76c7)_0x3e76c7[_0x42d7ae(0xe19)][_0x42d7ae(0x27c)](_0x42d7ae(0x414));});_0x4c761d&&_0x4c761d[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x30c694=_0x3038cc;_0x4c761d[_0x30c694(0xe19)][_0x30c694(0x27c)](_0x30c694(0xc93)),topicTab[_0x30c694(0xe19)][_0x30c694(0x677)]('active'),textTab[_0x30c694(0xe19)]['remove'](_0x30c694(0xc93)),fileTab['classList'][_0x30c694(0x677)]('active'),worksheetTab[_0x30c694(0xe19)][_0x30c694(0x677)](_0x30c694(0xc93));if(_0x96de43)_0x96de43[_0x30c694(0xe19)][_0x30c694(0x677)](_0x30c694(0xc93));if(_0x4f898d)_0x4f898d['classList'][_0x30c694(0x677)](_0x30c694(0xc93));if(_0x501d24)_0x501d24[_0x30c694(0xe19)][_0x30c694(0x677)](_0x30c694(0xc93));_0x3e76c7[_0x30c694(0xe19)][_0x30c694(0x677)](_0x30c694(0x414)),topicInputArea[_0x30c694(0xe19)][_0x30c694(0x27c)](_0x30c694(0x414)),textInputArea['classList'][_0x30c694(0x27c)]('hidden'),fileInputArea[_0x30c694(0xe19)][_0x30c694(0x27c)](_0x30c694(0x414)),worksheetInputArea[_0x30c694(0xe19)]['add'](_0x30c694(0x414));if(_0x16c909)_0x16c909[_0x30c694(0xe19)][_0x30c694(0x27c)](_0x30c694(0x414));if(_0x9cee8b)_0x9cee8b[_0x30c694(0xe19)]['add'](_0x30c694(0x414));if(_0x217ad7)_0x217ad7[_0x30c694(0xe19)][_0x30c694(0x27c)](_0x30c694(0x414));});const _0x2b0d4e=document[_0x3038cc(0x242)](_0x3038cc(0x2b2)),_0x255d0d=document[_0x3038cc(0x242)](_0x3038cc(0x6f1));if(_0x2b0d4e){const _0x2a5a4d=document[_0x3038cc(0x242)]('blueprint-upload-input'),_0x3f806e=document[_0x3038cc(0x242)]('generate-from-blueprint-btn'),_0x51c5eb=document[_0x3038cc(0x242)]('blueprint-options-container'),_0x37cb2a=document[_0x3038cc(0x242)](_0x3038cc(0x626)),_0x2dc3d6=document['getElementById']('blueprint-topics-list-container'),_0x44a294=document[_0x3038cc(0x242)](_0x3038cc(0xbe7));_0x2a5a4d&&_0x2a5a4d[_0x3038cc(0x264)](_0x3038cc(0x484),async _0x28a99c=>{const _0xb81d38=_0x3038cc;_0x51c5eb['classList']['add'](_0xb81d38(0x414)),_0x2dc3d6[_0xb81d38(0xe19)]['add'](_0xb81d38(0x414)),_0x37cb2a[_0xb81d38(0xa7e)]=![],_0x3f806e[_0xb81d38(0xd66)]=!![];const _0x2d541e=_0x28a99c['target'][_0xb81d38(0x634)][0x0];if(_0x2d541e){_0x3f806e[_0xb81d38(0xd66)]=![];try{const _0x56941e=await extractTextFromPdf(_0x2d541e);await analyzeBlueprintForTopics(_0x56941e);}catch(_0x576437){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x51c5eb[_0xb81d38(0xe19)][_0xb81d38(0x27c)](_0xb81d38(0x414));}}}),_0x37cb2a&&_0x37cb2a[_0x3038cc(0x264)](_0x3038cc(0x484),_0x9cd97e=>{const _0x5e016d=_0x3038cc,_0xae7487=_0x9cd97e[_0x5e016d(0x230)][_0x5e016d(0xa7e)];_0x2dc3d6['classList']['toggle'](_0x5e016d(0x414),!_0xae7487),_0x3f806e[_0x5e016d(0xd66)]=_0xae7487;}),_0x44a294&&(_0x44a294&&_0x44a294['addEventListener'](_0x3038cc(0xc23),_0xd1503f=>{const _0x5ec5cd=_0x3038cc,_0x15f772=_0xd1503f[_0x5ec5cd(0x230)][_0x5ec5cd(0xc75)]('.topic-selection-btn'),_0x506494=_0xd1503f[_0x5ec5cd(0x230)][_0x5ec5cd(0xc75)]('.generate-content-btn');if(_0x15f772){const _0x20722d=unescape(_0x15f772['dataset'][_0x5ec5cd(0xe0e)]);generateQuizForSingleTopic(_0x20722d);}else{if(_0x506494){const _0x483bcd=unescape(_0x506494[_0x5ec5cd(0xb42)][_0x5ec5cd(0xe0e)]);handleGenerateTeachingContent(_0x483bcd);}}}));}_0x255d0d&&_0x255d0d[_0x3038cc(0x264)](_0x3038cc(0xc23),handleGenerateFromBlueprint);const _0x3d1f4a=document[_0x3038cc(0x242)]('parallel-test-upload-input'),_0x44899f=document[_0x3038cc(0x242)]('generate-from-parallel-test-btn');_0x3d1f4a&&_0x3d1f4a['addEventListener'](_0x3038cc(0x484),_0x4c8ff7=>{const _0x583b21=_0x3038cc;_0x44899f[_0x583b21(0xd66)]=_0x4c8ff7['target'][_0x583b21(0x634)][_0x583b21(0x283)]===0x0;});_0x44899f&&_0x44899f[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x3038cc(0x264)](_0x3038cc(0xc23),handleLoadQuiz),startQuizBtn['addEventListener'](_0x3038cc(0xc23),async()=>{const _0x5128c3=_0x3038cc,_0x3321e2=document[_0x5128c3(0x242)]('student-name-select');currentStudentName=_0x3321e2[_0x5128c3(0xbfb)];if(!currentStudentName){showMessage(_0x5128c3(0x610));return;}try{const _0x55d470=currentQuizData['id'],_0x460e80=doc(db,_0x5128c3(0xb99)+appId+_0x5128c3(0x5a0)+_0x55d470+_0x5128c3(0x282),currentStudentName),_0xe5a00=await getDoc(_0x460e80);!_0xe5a00[_0x5128c3(0xb96)]()?await setDoc(_0x460e80,{'studentName':currentStudentName,'startedAt':new Date()[_0x5128c3(0x97b)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x460e80,{'startedAt':new Date()[_0x5128c3(0x97b)]()});}catch(_0x31c0a0){console[_0x5128c3(0xd98)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x31c0a0),showMessage(_0x5128c3(0x706));return;}studentNameSelectionView[_0x5128c3(0xe19)][_0x5128c3(0x27c)](_0x5128c3(0x414)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x3038cc(0x60e))[_0x3038cc(0x264)](_0x3038cc(0xc23),showJoinGameView),document[_0x3038cc(0x242)](_0x3038cc(0x9aa))[_0x3038cc(0x264)](_0x3038cc(0xc23),handleJoinLiveGame),document[_0x3038cc(0x242)](_0x3038cc(0x6f8))[_0x3038cc(0x264)]('click',()=>showView(_0x3038cc(0x53e)));const _0x464255=()=>{const _0x38e513=_0x3038cc,_0xb2e5d5=document[_0x38e513(0x242)]('results-quiz-title')[_0x38e513(0xafa)][_0x38e513(0x38c)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x38e513(0xb72)+(_0xb2e5d5||_0x38e513(0x394));},_0x404d23=document['getElementById'](_0x3038cc(0x65a));_0x404d23&&_0x404d23[_0x3038cc(0x264)]('input',_0x4af890=>{const _0x100919=_0x3038cc,_0x31ffb2=_0x4af890[_0x100919(0x230)][_0x100919(0xbfb)][_0x100919(0x463)]()[_0x100919(0xb6d)](),_0x179e74=document[_0x100919(0x242)](_0x100919(0x158)),_0x32bf31=_0x179e74[_0x100919(0x99b)](_0x100919(0x3cb));_0x32bf31[_0x100919(0xbdf)](_0x26107e=>{const _0x2d3e6a=_0x100919;let _0x4b58df=![];const _0x495961=_0x26107e[_0x2d3e6a(0x99b)](_0x2d3e6a(0xca9));_0x495961[_0x2d3e6a(0xbdf)](_0x179159=>{const _0x58917d=_0x2d3e6a,_0x57ef6e=_0x179159[_0x58917d(0xb19)]('.topic-name-display')[_0x58917d(0xafa)][_0x58917d(0x463)]();_0x57ef6e[_0x58917d(0x87f)](_0x31ffb2)?(_0x179159['style'][_0x58917d(0x90e)]='flex',_0x4b58df=!![]):_0x179159[_0x58917d(0x271)][_0x58917d(0x90e)]=_0x58917d(0x7d3);}),_0x4b58df?_0x26107e[_0x2d3e6a(0x271)][_0x2d3e6a(0x90e)]='block':_0x26107e[_0x2d3e6a(0x271)][_0x2d3e6a(0x90e)]=_0x2d3e6a(0x7d3);});});document['getElementById'](_0x3038cc(0x1e6))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>exportTableAsImage('results-table-container',_0x464255())),document[_0x3038cc(0x242)](_0x3038cc(0xcee))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>exportTableAsPDF(_0x3038cc(0x99a),_0x464255())),document['getElementById'](_0x3038cc(0xa2a))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>exportTableAsWord('results-table-container',_0x464255())),document['getElementById']('export-excel-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>exportTableAsExcel('results-table',_0x464255()));const _0x57f2e2=()=>{const _0x21d069=_0x3038cc,_0x51c5f2=document['getElementById'](_0x21d069(0x57a))[_0x21d069(0xafa)][_0x21d069(0x38c)](/[^a-z0-9]/gi,'_')[_0x21d069(0x463)]();return _0x21d069(0x73e)+(_0x51c5f2||_0x21d069(0x394));};document[_0x3038cc(0x242)](_0x3038cc(0xa22))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x57f2e2())),document['getElementById'](_0x3038cc(0xd2f))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>exportTableAsPDF(_0x3038cc(0xc04),_0x57f2e2())),document['getElementById']('export-leaderboard-word-btn')['addEventListener'](_0x3038cc(0xc23),()=>exportTableAsWord(_0x3038cc(0x868),_0x57f2e2())),document['getElementById'](_0x3038cc(0x3e1))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>exportTableAsExcel(_0x3038cc(0xc04),_0x57f2e2())),projectQuizzesList[_0x3038cc(0x264)]('click',async _0x29e3d3=>{const _0x3dd3ae=_0x3038cc,_0x3c2e7e=_0x29e3d3['target'][_0x3dd3ae(0xc75)]('.quiz-result-card'),_0x3447fe=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0x458)),_0x498aa0=_0x29e3d3[_0x3dd3ae(0x230)]['closest'](_0x3dd3ae(0xc5f)),_0x48bc5e=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0x8f4)),_0x18eb72=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0xa80)),_0x113624=_0x29e3d3['target'][_0x3dd3ae(0xc75)](_0x3dd3ae(0xb78)),_0x30f1b2=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0x71c)),_0x7e1260=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0xd82)),_0x991c5b=_0x29e3d3[_0x3dd3ae(0x230)]['closest'](_0x3dd3ae(0x442)),_0x23353a=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0xa89)),_0x40e414=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0x7e8)),_0x19cf4b=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)]('.move-quiz-btn'),_0x185839=_0x29e3d3['target'][_0x3dd3ae(0xc75)](_0x3dd3ae(0x3a7)),_0x415490=_0x29e3d3['target'][_0x3dd3ae(0xc75)](_0x3dd3ae(0x657)),_0x5ee490=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0x8f9)),_0x21a881=_0x29e3d3['target'][_0x3dd3ae(0xc75)](_0x3dd3ae(0x317)),_0x467d51=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0xad4)),_0x1374ae=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0xb5e)),_0x1bd6c1=_0x29e3d3['target'][_0x3dd3ae(0xc75)]('.quiz-status-btn'),_0x3b4a58=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0x22e)),_0x9b8139=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)]('.generate-easy-version-btn'),_0x4115f4=_0x29e3d3[_0x3dd3ae(0x230)]['closest']('.start-game-btn'),_0x17e17a=_0x29e3d3[_0x3dd3ae(0x230)][_0x3dd3ae(0xc75)](_0x3dd3ae(0x170));if(_0x4115f4){const _0xe2e28e=_0x4115f4[_0x3dd3ae(0xb42)]['quizId'],_0x7a2e00=_0x4115f4['dataset'][_0x3dd3ae(0x421)],_0x9d582f=allQuizzes['find'](_0x24d5e4=>_0x24d5e4['id']===_0xe2e28e);_0x9d582f&&showGameStartConfirmationModal(_0xe2e28e,_0x7a2e00,_0x9d582f[_0x3dd3ae(0xe0e)]);}else{if(_0x17e17a){const _0x3bb464=_0x17e17a['dataset']['quizId'];handleStartLiveRace(_0x3bb464);}else{if(_0x3b4a58){const _0x2ef3e2=_0x3b4a58[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)],_0x45916b=document[_0x3dd3ae(0x242)](_0x3dd3ae(0x440)+_0x2ef3e2);_0x45916b&&_0x45916b[_0x3dd3ae(0xe19)][_0x3dd3ae(0x8ff)]('hidden');}else{if(_0x3447fe){const _0x29eb9b=_0x3447fe[_0x3dd3ae(0xb42)]['quizId'],_0x3b5d72=allQuizzes[_0x3dd3ae(0x794)](_0x230642=>_0x230642['id']===_0x29eb9b);_0x3b5d72&&handleGenerateParallelPostTest(_0x3b5d72);}else{if(_0x498aa0)handleCompareResults(_0x498aa0[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)],_0x498aa0['dataset'][_0x3dd3ae(0xc62)]);else{if(_0x48bc5e){const _0x2965dd=_0x48bc5e[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)],_0x36ea5d=allQuizzes[_0x3dd3ae(0x794)](_0x548093=>_0x548093['id']===_0x2965dd);_0x36ea5d&&_0x36ea5d[_0x3dd3ae(0x3da)]?(displayLessonPlan(_0x36ea5d['lessonPlan'],_0x36ea5d),showConfirmation(_0x3dd3ae(0x6dd),()=>handleGenerateLessonPlan(_0x2965dd)),document[_0x3dd3ae(0x242)](_0x3dd3ae(0x275))['querySelector']('h3')[_0x3dd3ae(0xafa)]=_0x3dd3ae(0x835),document[_0x3dd3ae(0x242)](_0x3dd3ae(0xdd6))[_0x3dd3ae(0xafa)]=_0x3dd3ae(0xc28)):handleGenerateLessonPlan(_0x2965dd);}else{if(_0x18eb72)handleToggleStarQuiz(_0x18eb72['dataset'][_0x3dd3ae(0xcd7)]);else{if(_0x113624)copyTextToClipboard(_0x113624[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)],_0x3dd3ae(0x800));else{if(_0x30f1b2)handleOpenQuizEditor(_0x30f1b2[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)]);else{if(_0x7e1260)handleQuizSettings(_0x7e1260['dataset'][_0x3dd3ae(0xcd7)]);else{if(_0x991c5b)handleDuplicateQuiz(_0x991c5b[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)]);else{if(_0x23353a)handleRenameQuiz(_0x23353a[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)],_0x23353a[_0x3dd3ae(0xb42)][_0x3dd3ae(0xe0e)]);else{if(_0x40e414){const _0x4a6d28=_0x40e414[_0x3dd3ae(0xb42)]['quizId'],_0x4581b9=allQuizzes[_0x3dd3ae(0x794)](_0x1d9fea=>_0x1d9fea['id']===_0x4a6d28);_0x4581b9&&handleGenerateParallelFromBank(_0x4581b9);}else{if(_0x19cf4b)handleMoveQuiz(_0x19cf4b[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)]);else{if(_0x185839)handleManualQuizPairing(_0x185839[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)]);else{if(_0x415490)handleUnpairQuiz(_0x415490[_0x3dd3ae(0xb42)]['quizId']);else{if(_0x5ee490){const _0x393b8f=_0x5ee490[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)],_0x32ea02=allQuizzes[_0x3dd3ae(0x794)](_0x337c28=>_0x337c28['id']===_0x393b8f);if(_0x32ea02)startPresentation(_0x32ea02);}else{if(_0x21a881){const _0x4e6b2b=_0x21a881[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)],_0x3b8b82=allQuizzes[_0x3dd3ae(0x794)](_0x1615ef=>_0x1615ef['id']===_0x4e6b2b);_0x3b8b82&&(currentQuizData=_0x3b8b82,startAdminTest());}else{if(_0x467d51)actionTargetId=_0x467d51[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)],document['getElementById'](_0x3dd3ae(0x190))[_0x3dd3ae(0xe19)][_0x3dd3ae(0x677)](_0x3dd3ae(0x414));else{if(_0x1374ae)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x1374ae[_0x3dd3ae(0xb42)][_0x3dd3ae(0xe0e)]+_0x3dd3ae(0x613),()=>handleDeleteQuiz(_0x1374ae[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)]));else{if(_0x1bd6c1)handleQuizStatus(_0x1bd6c1[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)]);else{if(_0x9b8139)handleGenerateEasyVersionQuiz(_0x9b8139[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)]);else _0x3c2e7e&&showQuizDetailView(_0x3c2e7e[_0x3dd3ae(0xb42)][_0x3dd3ae(0xcd7)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x3038cc(0x242)](_0x3038cc(0xd6f))['addEventListener'](_0x3038cc(0xc23),()=>showView(_0x3038cc(0x53e))),document[_0x3038cc(0x242)](_0x3038cc(0x256))[_0x3038cc(0x264)](_0x3038cc(0xc23),confirmAndStartTeamQuiz),document[_0x3038cc(0x242)]('quiz-leaderboard-table')[_0x3038cc(0xb19)](_0x3038cc(0x1c6))[_0x3038cc(0x264)]('click',_0x3cc3b5=>{const _0x216ed5=_0x3038cc,_0x5687a6=_0x3cc3b5[_0x216ed5(0x230)][_0x216ed5(0xc75)]('.sortable-header');if(!_0x5687a6||!_0x5687a6[_0x216ed5(0xb42)][_0x216ed5(0xa23)])return;const _0xd7cbe6=_0x5687a6[_0x216ed5(0xb42)][_0x216ed5(0xa23)];if(quizLeaderboardSortBy===_0xd7cbe6)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x216ed5(0xc69)?_0x216ed5(0x990):'asc';else{quizLeaderboardSortBy=_0xd7cbe6;const _0x5ea1e2=[_0x216ed5(0xcf3)];quizLeaderboardSortOrder=_0x5ea1e2[_0x216ed5(0x87f)](_0xd7cbe6)?_0x216ed5(0xc69):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x3038cc(0x242)](_0x3038cc(0x759))[_0x3038cc(0x264)](_0x3038cc(0xc23),closePresentation),document['getElementById'](_0x3038cc(0x80e))['addEventListener'](_0x3038cc(0xc23),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x3038cc(0x242)](_0x3038cc(0xa35))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x1891f7=_0x3038cc;currentQuizData[_0x1891f7(0x3ef)]&&currentPresentationSlide<currentQuizData[_0x1891f7(0x3ef)][_0x1891f7(0x283)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x3038cc(0x264)]('fullscreenchange',()=>{const _0x46e80e=_0x3038cc;!document['fullscreenElement']&&(presentationModal['style']['display']=_0x46e80e(0x7d3));}),document[_0x3038cc(0x242)](_0x3038cc(0xb51))['addEventListener'](_0x3038cc(0xc23),handleDeleteAllStudents),studentList[_0x3038cc(0x264)](_0x3038cc(0xc23),_0x31331e=>{const _0x3acba5=_0x3038cc,_0x26e8b9=_0x31331e[_0x3acba5(0x230)][_0x3acba5(0xc75)](_0x3acba5(0x289));if(_0x26e8b9){const _0x51aac9=_0x26e8b9['dataset'][_0x3acba5(0xcf3)];handleDeleteStudent(_0x51aac9);}}),document[_0x3038cc(0x242)]('generate-from-file-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),handleGenerateFromFileClick),fileUploadInput[_0x3038cc(0x264)]('change',_0x27cd3a=>{const _0x70b8ec=_0x3038cc,_0x25faef=_0x27cd3a[_0x70b8ec(0x230)][_0x70b8ec(0x634)][0x0],_0x46950c=document[_0x70b8ec(0x242)](_0x70b8ec(0x53c)),_0x284a70=document[_0x70b8ec(0x242)]('file-topics-list-container'),_0x15c75d=document['getElementById'](_0x70b8ec(0xdf6));_0x25faef?(selectedFile=_0x25faef,_0x15c75d[_0x70b8ec(0xa7e)]?(_0x46950c[_0x70b8ec(0xd66)]=!![],analyzeFileForTopics(_0x25faef)):(_0x46950c[_0x70b8ec(0xd66)]=![],_0x284a70[_0x70b8ec(0xe19)]['add'](_0x70b8ec(0x414)))):(selectedFile=null,_0x46950c[_0x70b8ec(0xd66)]=!![],_0x284a70['classList']['add'](_0x70b8ec(0x414)));}),document['getElementById'](_0x3038cc(0xdf6))['addEventListener'](_0x3038cc(0x484),_0x15386a=>{const _0x343168=_0x3038cc,_0x29aefc=_0x15386a['target'][_0x343168(0xa7e)],_0x5c6eba=document[_0x343168(0x242)](_0x343168(0x53c)),_0x8cc822=document[_0x343168(0x242)]('file-topics-list-container');_0x29aefc?(_0x5c6eba[_0x343168(0xd66)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x8cc822[_0x343168(0xe19)][_0x343168(0x677)](_0x343168(0x414)),document['getElementById'](_0x343168(0x89c))[_0x343168(0x90d)]=_0x343168(0xd8d))):(_0x8cc822[_0x343168(0xe19)][_0x343168(0x27c)](_0x343168(0x414)),_0x5c6eba[_0x343168(0xd66)]=!selectedFile);}),document['getElementById']('file-topics-list-container')[_0x3038cc(0x264)]('click',_0x3c082b=>{const _0x356cae=_0x3038cc,_0x21e463=_0x3c082b[_0x356cae(0x230)][_0x356cae(0xc75)](_0x356cae(0x838)),_0x94548b=_0x3c082b[_0x356cae(0x230)][_0x356cae(0xc75)](_0x356cae(0x33b));if(_0x21e463){const _0x3cb5ae=unescape(_0x21e463['dataset'][_0x356cae(0xe0e)]);generateHybridQuizForTopic(_0x3cb5ae);}else{if(_0x94548b){const _0x29fd9a=unescape(_0x94548b[_0x356cae(0xb42)][_0x356cae(0xe0e)]),_0x204c09=document[_0x356cae(0x242)](_0x356cae(0x229))[_0x356cae(0xbfb)];handleGenerateAndShowLesson(_0x29fd9a,_0x204c09);}}}),document[_0x3038cc(0x242)]('timer-mode-select')[_0x3038cc(0x264)](_0x3038cc(0x484),_0x5f21e4=>{const _0x3e2b44=_0x3038cc,_0x4c8af4=document[_0x3e2b44(0x242)]('timer-duration-container'),_0x38b65d=document[_0x3e2b44(0x242)]('timer-duration-label'),_0x5b8795=document[_0x3e2b44(0x242)]('timer-duration-input');_0x5f21e4[_0x3e2b44(0x230)][_0x3e2b44(0xbfb)]===_0x3e2b44(0x7d3)?_0x4c8af4['classList']['add'](_0x3e2b44(0x414)):(_0x4c8af4[_0x3e2b44(0xe19)]['remove'](_0x3e2b44(0x414)),_0x5f21e4[_0x3e2b44(0x230)]['value']===_0x3e2b44(0x90a)?(_0x38b65d[_0x3e2b44(0xafa)]=_0x3e2b44(0x2b5),_0x5b8795[_0x3e2b44(0xbfb)]='10'):(_0x38b65d['textContent']=_0x3e2b44(0x221),_0x5b8795[_0x3e2b44(0xbfb)]='30'));}),document[_0x3038cc(0x242)]('quiz-type-select')[_0x3038cc(0x264)](_0x3038cc(0x484),_0x115cc2=>{const _0x4284eb=_0x3038cc,_0x5f4dd1=document[_0x4284eb(0x242)]('num-choices-container'),_0x511a3d=_0x115cc2[_0x4284eb(0x230)][_0x4284eb(0xbfb)],_0x5c66f9=document['querySelector']('label[for=\x22num-questions\x22]'),_0x3086fb=document['getElementById'](_0x4284eb(0x94e)),_0x31c4b7=document[_0x4284eb(0x242)](_0x4284eb(0x299));_0x511a3d==='matching'?_0x5c66f9[_0x4284eb(0xafa)]='จำนวนคู่:':_0x5c66f9[_0x4284eb(0xafa)]=_0x4284eb(0x199),_0x511a3d===_0x4284eb(0x423)||_0x511a3d===_0x4284eb(0xd36)||_0x511a3d===_0x4284eb(0xb7e)?_0x5f4dd1[_0x4284eb(0xe19)]['remove']('hidden'):_0x5f4dd1[_0x4284eb(0xe19)][_0x4284eb(0x27c)]('hidden'),_0x3086fb['max']=_0x31c4b7['value'];}),document[_0x3038cc(0x242)](_0x3038cc(0x299))[_0x3038cc(0x264)](_0x3038cc(0x746),_0x28f643=>{const _0x5df8f4=_0x3038cc;document[_0x5df8f4(0x242)]('passing-score-input')[_0x5df8f4(0xcd3)]=_0x28f643[_0x5df8f4(0x230)][_0x5df8f4(0xbfb)];}),document[_0x3038cc(0x242)]('modal-timer-mode-select')[_0x3038cc(0x264)]('change',_0x484230=>{const _0x580364=_0x3038cc,_0x1b7c6b=document[_0x580364(0x242)](_0x580364(0x5a7)),_0x5af62d=document['getElementById'](_0x580364(0x16f)),_0xb4d914=document[_0x580364(0x242)](_0x580364(0x428));_0x484230['target'][_0x580364(0xbfb)]===_0x580364(0x7d3)?_0x1b7c6b[_0x580364(0xe19)][_0x580364(0x27c)]('hidden'):(_0x1b7c6b['classList']['remove'](_0x580364(0x414)),_0x484230[_0x580364(0x230)][_0x580364(0xbfb)]===_0x580364(0x90a)?_0x5af62d[_0x580364(0xafa)]=_0x580364(0x2b5):_0x5af62d['textContent']=_0x580364(0x221));}),document[_0x3038cc(0x242)](_0x3038cc(0x758))['addEventListener'](_0x3038cc(0xc23),()=>{const _0x21b0dc=_0x3038cc;document[_0x21b0dc(0x242)](_0x21b0dc(0xc7a))[_0x21b0dc(0xe19)][_0x21b0dc(0x27c)]('hidden');}),document[_0x3038cc(0x242)]('cancel-quiz-edits-btn-footer')[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x409ca3=_0x3038cc;document[_0x409ca3(0x242)](_0x409ca3(0xc7a))['classList'][_0x409ca3(0x27c)](_0x409ca3(0x414));}),document[_0x3038cc(0x242)](_0x3038cc(0xc42))[_0x3038cc(0x264)](_0x3038cc(0xc23),handleVerifyAnswersInEditor),document[_0x3038cc(0x242)](_0x3038cc(0x307))[_0x3038cc(0x264)]('click',()=>{const _0x27af45=_0x3038cc;document[_0x27af45(0x242)](_0x27af45(0xc7a))[_0x27af45(0xe19)][_0x27af45(0x27c)]('hidden'),showConfirmation(_0x27af45(0x400),handleSaveChanges);}),document[_0x3038cc(0x242)]('auto-fix-latex-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),handleAutoFixLatex);const _0x46c07c=document[_0x3038cc(0x242)](_0x3038cc(0x82d));_0x46c07c&&_0x46c07c['addEventListener'](_0x3038cc(0xc23),_0x5cca02=>{const _0xbe09f9=_0x3038cc,_0x12268e=_0x5cca02[_0xbe09f9(0x230)][_0xbe09f9(0xc75)](_0xbe09f9(0x7c9));if(_0x12268e){const _0x12daa2=_0x12268e[_0xbe09f9(0xc75)]('.question-editor-item'),_0x5ba5f3=parseInt(_0x12daa2[_0xbe09f9(0xb42)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x5ba5f3);return;}const _0x3e017b=_0x5cca02['target'][_0xbe09f9(0xc75)](_0xbe09f9(0xca4));if(_0x3e017b){const _0x5068f3=_0x3e017b[_0xbe09f9(0xc75)](_0xbe09f9(0x8d2)),_0x188df8=parseInt(_0x5068f3[_0xbe09f9(0xb42)][_0xbe09f9(0x726)],0xa);handleDeleteQuestionInEditor(_0x188df8);return;}const _0x4d6bde=_0x5cca02[_0xbe09f9(0x230)][_0xbe09f9(0xc75)](_0xbe09f9(0x34f));if(_0x4d6bde){handleAddQuestionInEditor();return;}});document['getElementById']('open-quiz-bank-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),openQuizBankModal),document['getElementById']('cancel-quiz-bank-btn')[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x36e599=_0x3038cc;document[_0x36e599(0x242)](_0x36e599(0x9ed))[_0x36e599(0xe19)][_0x36e599(0x27c)](_0x36e599(0x414));}),document['getElementById'](_0x3038cc(0x321))[_0x3038cc(0x264)](_0x3038cc(0x746),_0x2bbe7b=>renderQuizBankList(_0x2bbe7b[_0x3038cc(0x230)][_0x3038cc(0xbfb)]));const _0x212f38=document[_0x3038cc(0x242)](_0x3038cc(0x158));if(_0x212f38){let _0x32c35b=null;_0x212f38[_0x3038cc(0x264)]('click',_0x1c4eaa=>{const _0x3f613e=_0x3038cc,_0x10c303=_0x1c4eaa[_0x3f613e(0x230)],_0x19165f=_0x10c303['closest'](_0x3f613e(0x52f)),_0x5e4e3e=_0x10c303[_0x3f613e(0xc75)](_0x3f613e(0x1e2)),_0x33ac81=_0x10c303[_0x3f613e(0xc75)](_0x3f613e(0x79a)),_0x19d989=_0x10c303[_0x3f613e(0xc75)](_0x3f613e(0xd8c));if(_0x5e4e3e){_0x1c4eaa[_0x3f613e(0xc2b)]();const _0x166483=_0x5e4e3e['dataset']['id'],_0x2d4405=_0x5e4e3e[_0x3f613e(0xc75)](_0x3f613e(0xe0a))[_0x3f613e(0xb19)](_0x3f613e(0x887))['textContent'];showConfirmation(_0x3f613e(0x3c2)+_0x2d4405+'\x22?',()=>handleDeleteCustomTopic(_0x166483));}else{if(_0x19165f){_0x1c4eaa[_0x3f613e(0xc2b)]();_0x32c35b&&toggleTopicEditMode(_0x32c35b,![]);const _0x4ef2c3=_0x19165f[_0x3f613e(0xc75)](_0x3f613e(0x944));_0x32c35b=_0x4ef2c3,toggleTopicEditMode(_0x4ef2c3,!![]);}else{if(_0x33ac81){_0x1c4eaa[_0x3f613e(0xc2b)]();const _0x501ed2=_0x33ac81[_0x3f613e(0xb42)]['id'],_0x54dae3=_0x33ac81[_0x3f613e(0xc75)](_0x3f613e(0x944)),_0x313647=_0x54dae3['querySelector'](_0x3f613e(0x46c))['value'];handleUpdateCustomTopic(_0x501ed2,_0x313647),_0x32c35b=null;}else{if(_0x19d989){_0x1c4eaa[_0x3f613e(0xc2b)]();const _0x45f4d1=_0x19d989['closest']('[data-topic-container-id]');toggleTopicEditMode(_0x45f4d1,![]),_0x32c35b=null;}}}}}),document['getElementById'](_0x3038cc(0x144))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x439f5f=_0x3038cc;document[_0x439f5f(0x242)](_0x439f5f(0x46b))['classList'][_0x439f5f(0x27c)](_0x439f5f(0x414));}),document[_0x3038cc(0x242)](_0x3038cc(0x17e))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x1979dd=_0x3038cc;document[_0x1979dd(0x242)](_0x1979dd(0x46b))[_0x1979dd(0xe19)][_0x1979dd(0x27c)]('hidden');}),document['getElementById'](_0x3038cc(0x5f6))['addEventListener'](_0x3038cc(0xc23),handleExportLessonPDF);}document[_0x3038cc(0x242)](_0x3038cc(0xb8e))[_0x3038cc(0x264)](_0x3038cc(0xc23),()=>{const _0x5b919f=_0x3038cc;document[_0x5b919f(0x242)]('comparison-modal')[_0x5b919f(0xe19)]['add'](_0x5b919f(0x414));}),document[_0x3038cc(0x242)](_0x3038cc(0x226))['addEventListener'](_0x3038cc(0xc23),()=>{const _0x41c9b1=_0x3038cc;document[_0x41c9b1(0x242)](_0x41c9b1(0x4c8))['classList']['add'](_0x41c9b1(0x414));}),setupComparisonModalTabs(),document[_0x3038cc(0xcaa)][_0x3038cc(0x264)](_0x3038cc(0xc23),function(_0x1e1f7a){const _0x19d92=_0x3038cc;if(_0x1e1f7a[_0x19d92(0x230)][_0x19d92(0xe19)][_0x19d92(0x52e)](_0x19d92(0x673))){const _0x5c0fc4=unescape(_0x1e1f7a[_0x19d92(0x230)][_0x19d92(0xb42)]['topic']);startSkillPractice(_0x5c0fc4);}}),document[_0x3038cc(0x242)]('scores-tab-content')[_0x3038cc(0x264)](_0x3038cc(0xc23),_0x58c695=>{const _0x39d66b=_0x3038cc,_0x4c412e=_0x58c695[_0x39d66b(0x230)][_0x39d66b(0xc75)](_0x39d66b(0x3b9));if(_0x4c412e){const _0x193510=_0x4c412e['dataset'][_0x39d66b(0xcf3)];handleDeleteSubmission(_0x193510);return;}const _0x3d8f13=_0x58c695['target'][_0x39d66b(0xc75)](_0x39d66b(0x28e));if(_0x3d8f13){const _0x2f4280=_0x3d8f13[_0x39d66b(0xb42)]['studentName'],_0x5da43d=_0x3d8f13[_0x39d66b(0xb42)][_0x39d66b(0x3fd)],_0x583ca3=prompt(_0x39d66b(0xbb7)+_0x2f4280+_0x39d66b(0xd6c),_0x5da43d);if(_0x583ca3!==null&&_0x583ca3[_0x39d66b(0xb6d)]()!==''){const _0xbff2c5=parseInt(_0x583ca3,0xa);!isNaN(_0xbff2c5)?handleManualEditPoints(_0x2f4280,_0xbff2c5):alert(_0x39d66b(0xc29));}}});}async function handleStartGroupMode(_0x13ce1d,_0x3e5da1=![]){const _0x27e793=_0x1dab5f,_0x64cb6a=allQuizzes['find'](_0xb782f7=>_0xb782f7['id']===_0x13ce1d)||allQuizzesGlobal[_0x27e793(0x794)](_0x531dbd=>_0x531dbd['id']===_0x13ce1d);if(!_0x64cb6a){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x64cb6a);const _0x806c55=Math['floor'](0x3e8+Math[_0x27e793(0xd52)]()*0x2328)['toString']();try{const _0x27062f=await addDoc(collection(db,_0x27e793(0xb99)+appId+_0x27e793(0x807)),{'quizId':_0x64cb6a['id'],'projectId':_0x64cb6a[_0x27e793(0x1cf)],'status':_0x27e793(0x56b),'pin':_0x806c55,'mode':_0x27e793(0xe11),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3e5da1});currentTeamQuizId=_0x27062f['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x806c55,_0x64cb6a[_0x27e793(0xe0e)],'group'),listenForTeamQuizUpdates();}catch(_0x14d491){console[_0x27e793(0xd98)](_0x27e793(0x40c),_0x14d491),showMessage(_0x27e793(0x56e));}}async function showStudentProgressView(){const _0x1a7e5a=_0x1dab5f;studentInitialView['classList'][_0x1a7e5a(0x27c)](_0x1a7e5a(0x414)),document['getElementById'](_0x1a7e5a(0x384))[_0x1a7e5a(0xe19)][_0x1a7e5a(0x677)](_0x1a7e5a(0x414));const _0x3dd3ce=document[_0x1a7e5a(0x242)](_0x1a7e5a(0xaa2)),_0x1cd27a=document[_0x1a7e5a(0x242)](_0x1a7e5a(0x6f4)),_0x124d87=document[_0x1a7e5a(0x242)](_0x1a7e5a(0xb26));_0x124d87[_0x1a7e5a(0x90d)]=_0x1a7e5a(0xa83),_0x1cd27a[_0x1a7e5a(0x90d)]=_0x1a7e5a(0x58d),_0x1cd27a[_0x1a7e5a(0xd66)]=!![],_0x3dd3ce[_0x1a7e5a(0x90d)]=_0x1a7e5a(0x68d);if(allProjects[_0x1a7e5a(0x283)]===0x0){const _0x2306ee=collection(db,_0x1a7e5a(0xb99)+appId+_0x1a7e5a(0x636)),_0x5117b8=await getDocs(_0x2306ee);allProjects=_0x5117b8[_0x1a7e5a(0x5ab)][_0x1a7e5a(0xdc6)](_0x3e0cf0=>({'id':_0x3e0cf0['id'],..._0x3e0cf0[_0x1a7e5a(0x1f1)]()}));}const _0x18afd7=allProjects[_0x1a7e5a(0x3be)](_0x2c8604=>_0x2c8604[_0x1a7e5a(0x491)]?.[_0x1a7e5a(0x915)]!==![]);_0x18afd7[_0x1a7e5a(0xa23)]((_0x4f423f,_0x171665)=>_0x4f423f[_0x1a7e5a(0x7c8)][_0x1a7e5a(0x46f)](_0x171665[_0x1a7e5a(0x7c8)],'th')),_0x3dd3ce[_0x1a7e5a(0x90d)]=_0x1a7e5a(0x984)+_0x18afd7[_0x1a7e5a(0xdc6)](_0x581d44=>_0x1a7e5a(0x397)+_0x581d44['id']+'\x22>'+_0x581d44[_0x1a7e5a(0x7c8)]+_0x1a7e5a(0x460))[_0x1a7e5a(0xe10)](''),_0x3dd3ce[_0x1a7e5a(0x9da)]=()=>{const _0x4daa55=_0x1a7e5a,_0x20981a=_0x1cd27a['value'],_0x3c0ddf=_0x3dd3ce['value'];_0x1cd27a['disabled']=!![],_0x1cd27a[_0x4daa55(0x90d)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x124d87[_0x4daa55(0x90d)]=_0x4daa55(0xa01);if(!_0x3c0ddf)return;const _0x1a2312=allProjects[_0x4daa55(0x794)](_0x156f8a=>_0x156f8a['id']===_0x3c0ddf);if(!_0x1a2312||!_0x1a2312[_0x4daa55(0x7f8)])return;const _0x2cd8af=()=>{const _0x13a188=_0x4daa55;_0x1cd27a[_0x13a188(0x90d)]=_0x13a188(0x58d)+_0x1a2312[_0x13a188(0x7f8)][_0x13a188(0xdc6)](_0x18aa06=>_0x13a188(0x397)+_0x18aa06+'\x22>'+_0x18aa06+_0x13a188(0x460))['join'](''),_0x1cd27a[_0x13a188(0xd66)]=![];const _0x26b650=Array[_0x13a188(0x155)](_0x1cd27a[_0x13a188(0x381)])[_0x13a188(0xdc6)](_0xbab043=>_0xbab043['value']);if(_0x20981a&&_0x26b650[_0x13a188(0x87f)](_0x20981a))_0x1cd27a['value']=_0x20981a,_0x1cd27a['dispatchEvent'](new Event(_0x13a188(0x484)));else _0x1a2312['students'][_0x13a188(0x283)]===0x1&&(_0x1cd27a[_0x13a188(0xbfb)]=_0x1a2312[_0x13a188(0x7f8)][0x0],_0x1cd27a[_0x13a188(0x58a)](new Event('change')));};if(_0x1a2312[_0x4daa55(0x491)]?.[_0x4daa55(0x43d)]){if(sessionStorage['getItem']('authed_project_'+_0x3c0ddf)===_0x4daa55(0x6cf)){_0x2cd8af();return;}const _0x46259a=document[_0x4daa55(0x242)](_0x4daa55(0xc40)),_0x460353=document['getElementById']('confirm-passcode-btn'),_0x238517=document[_0x4daa55(0x242)]('cancel-passcode-btn'),_0x1daba5=document['getElementById'](_0x4daa55(0x1a1)),_0xd29dda=document[_0x4daa55(0x242)](_0x4daa55(0x700));document[_0x4daa55(0x242)](_0x4daa55(0xb3f))[_0x4daa55(0xafa)]='สำหรับโปรเจค:\x20'+_0x1a2312[_0x4daa55(0x7c8)],_0x1daba5[_0x4daa55(0xbfb)]='',_0xd29dda[_0x4daa55(0xe19)][_0x4daa55(0x27c)](_0x4daa55(0x414)),_0x46259a[_0x4daa55(0xe19)][_0x4daa55(0x677)](_0x4daa55(0x414));const _0xfb641f=()=>{const _0x4eda76=_0x4daa55,_0x5499c9=_0x1daba5[_0x4eda76(0xbfb)][_0x4eda76(0xb6d)]();_0x5499c9===_0x1a2312[_0x4eda76(0x491)][_0x4eda76(0x14c)]?(sessionStorage['setItem']('authed_project_'+_0x3c0ddf,_0x4eda76(0x6cf)),_0x46259a[_0x4eda76(0xe19)][_0x4eda76(0x27c)]('hidden'),_0x2cd8af(),_0x460353['removeEventListener'](_0x4eda76(0xc23),_0xfb641f)):_0xd29dda['classList'][_0x4eda76(0x677)](_0x4eda76(0x414));};_0x460353[_0x4daa55(0x3d9)]=_0xfb641f,_0x238517[_0x4daa55(0x3d9)]=()=>{const _0x37348e=_0x4daa55;_0x46259a[_0x37348e(0xe19)][_0x37348e(0x27c)](_0x37348e(0x414)),_0x3dd3ce[_0x37348e(0xbfb)]='',_0x460353[_0x37348e(0x232)](_0x37348e(0xc23),_0xfb641f);};}else _0x2cd8af();},_0x1cd27a['onchange']=()=>{const _0x40db1e=_0x1a7e5a,_0x136b20=_0x3dd3ce[_0x40db1e(0xbfb)],_0x4afc92=_0x1cd27a[_0x40db1e(0xbfb)];_0x136b20&&_0x4afc92&&renderStudentProgressDashboard(_0x136b20,_0x4afc92);};}async function confirmAndJoinSyncGame(){const _0x4e2c56=_0x1dab5f;lastSeenQuestionIndex=-0x1,sessionStorage[_0x4e2c56(0x415)](_0x4e2c56(0xdcf)),sessionStorage[_0x4e2c56(0x415)]('onSecondChance'),Object[_0x4e2c56(0xd39)](sessionStorage)[_0x4e2c56(0xbdf)](_0x56efd5=>{const _0x5208c7=_0x4e2c56;(_0x56efd5[_0x5208c7(0x1f4)](_0x5208c7(0xc79))||_0x56efd5[_0x5208c7(0x1f4)](_0x5208c7(0x93e))||_0x56efd5['startsWith'](_0x5208c7(0x373)))&&sessionStorage['removeItem'](_0x56efd5);});const _0x4546c6=Array[_0x4e2c56(0x155)](document[_0x4e2c56(0x99b)](_0x4e2c56(0x117)))[_0x4e2c56(0xdc6)](_0x57cf76=>_0x57cf76[_0x4e2c56(0xbfb)]);if(_0x4546c6['length']===0x0){showMessage(_0x4e2c56(0x9b2));return;}localTeamPlayers=_0x4546c6,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0xbf588b=writeBatch(db),_0x3c55e4=serverTimestamp();_0x4546c6[_0x4e2c56(0xbdf)](_0x167322=>{const _0x2b550c=_0x4e2c56,_0x39108b=doc(db,'artifacts/'+appId+_0x2b550c(0x407)+currentLiveGameId+'/players',_0x167322),_0x5b6bc0={'name':_0x167322,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':'active','answers':[],'joinedAt':_0x3c55e4,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0xbf588b[_0x2b550c(0x279)](_0x39108b,_0x5b6bc0,{'merge':!![]});}),await _0xbf588b[_0x4e2c56(0x45c)](),showView(_0x4e2c56(0x3d3)),document[_0x4e2c56(0x242)](_0x4e2c56(0x191))['classList'][_0x4e2c56(0x27c)](_0x4e2c56(0x414)),currentStudentName=_0x4546c6[0x0],listenForSyncGameUpdates();const _0x5123cb={'gameId':currentLiveGameId,'mode':_0x4e2c56(0x7ff),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4e2c56(0x851)](_0x4e2c56(0x967),JSON[_0x4e2c56(0x3a5)](_0x5123cb)),currentMode!==_0x4e2c56(0x122)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x4e2c56(0x264)](_0x4e2c56(0x5e5),handleFullscreenChange),document['addEventListener'](_0x4e2c56(0x375),handleVisibilityChange),enterFullscreen(),window[_0x4e2c56(0x264)]('mousemove',resetDimTimer),window[_0x4e2c56(0x264)](_0x4e2c56(0x9bc),resetDimTimer),window['addEventListener']('touchstart',resetDimTimer),window[_0x4e2c56(0x264)](_0x4e2c56(0x9d8),resetDimTimer),resetDimTimer());}catch(_0x588e82){console['error']('Error\x20joining\x20sync\x20game:',_0x588e82),showMessage(_0x4e2c56(0xaea)+_0x588e82[_0x4e2c56(0xa9f)]);}}async function resumeActiveGameSession(){const _0x1f10e2=_0x1dab5f,_0x227964=sessionStorage[_0x1f10e2(0x4a8)](_0x1f10e2(0x967));if(!_0x227964)return;const _0x497bfa=JSON[_0x1f10e2(0x942)](_0x227964),{gameId:_0x4961d9,mode:_0x5aa4f1,role:_0x8f8483,players:_0x1e0d70,turnIndex:_0x2dcab2}=_0x497bfa;try{if(_0x8f8483===_0x1f10e2(0xcc8)&&_0x5aa4f1===_0x1f10e2(0x7ff)){const _0x304291=doc(db,_0x1f10e2(0xb99)+appId+'/public/data/syncGames',_0x4961d9),_0x228bb0=await getDoc(_0x304291);if(!_0x228bb0[_0x1f10e2(0xb96)]()||_0x228bb0[_0x1f10e2(0x1f1)]()[_0x1f10e2(0x2db)]===_0x1f10e2(0x504)||_0x228bb0[_0x1f10e2(0x1f1)]()['status']==='finished'){sessionStorage[_0x1f10e2(0x415)](_0x1f10e2(0x967));return;}console[_0x1f10e2(0x383)]('กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20'+_0x4961d9+')'),currentMode='admin',currentLiveGameId=_0x4961d9,currentQuizData=_0x228bb0[_0x1f10e2(0x1f1)]()[_0x1f10e2(0x8d3)],showView(_0x1f10e2(0x3d3)),listenForSyncGameUpdates();}else{if(_0x5aa4f1===_0x1f10e2(0x7ff)&&_0x1e0d70){const _0x22724a=doc(db,_0x1f10e2(0xb99)+appId+'/public/data/syncGames',_0x4961d9),_0x55ab9d=await getDoc(_0x22724a);if(!_0x55ab9d[_0x1f10e2(0xb96)]()||_0x55ab9d['data']()[_0x1f10e2(0x2db)]==='podium'||_0x55ab9d['data']()['status']===_0x1f10e2(0x4e0)){sessionStorage[_0x1f10e2(0x415)](_0x1f10e2(0x967));return;}console[_0x1f10e2(0x383)](_0x1f10e2(0x3f9)+_0x4961d9+')'),currentLiveGameId=_0x4961d9,currentStudentName=_0x1e0d70[0x0],localTeamPlayers=_0x1e0d70,showView('live-game'),listenForSyncGameUpdates();}else{if((_0x5aa4f1==='team'||_0x5aa4f1===_0x1f10e2(0xe11))&&_0x1e0d70){const _0x2ab783=doc(db,_0x1f10e2(0xb99)+appId+_0x1f10e2(0x807),_0x4961d9),_0x408909=await getDoc(_0x2ab783);if(!_0x408909[_0x1f10e2(0xb96)]()||_0x408909[_0x1f10e2(0x1f1)]()['status']==='podium'||_0x408909[_0x1f10e2(0x1f1)]()[_0x1f10e2(0x2db)]==='finished'){sessionStorage[_0x1f10e2(0x415)](_0x1f10e2(0x967));return;}console[_0x1f10e2(0x383)]('กำลังกลับเข้าสู่เกม\x20'+_0x5aa4f1+_0x1f10e2(0x171)+_0x4961d9+')'),currentTeamQuizId=_0x4961d9,localTeamPlayers=_0x1e0d70,localQuestionIndex=_0x497bfa['questionIndex']||0x0,localPlayerIndex=_0x497bfa['playerIndex']||0x0;const _0x2e21fe=_0x408909[_0x1f10e2(0x1f1)](),_0x330027=doc(db,_0x1f10e2(0xb99)+appId+_0x1f10e2(0x48d),_0x2e21fe[_0x1f10e2(0xcd7)]),_0x4f942b=await getDoc(_0x330027);_0x4f942b[_0x1f10e2(0xb96)]()&&(currentQuizData=getShuffledQuiz({'id':_0x4f942b['id'],..._0x4f942b[_0x1f10e2(0x1f1)]()}),showView(_0x1f10e2(0x53e)),studentInitialView['classList'][_0x1f10e2(0x27c)](_0x1f10e2(0x414)),_0x5aa4f1===_0x1f10e2(0xe11)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x18730e){console[_0x1f10e2(0xd98)](_0x1f10e2(0x698),_0x18730e),sessionStorage['removeItem']('activeGameSession');}}async function handleUsePowerup(_0x13da16,_0x46176f,_0x4ac423,_0x4bb9ae,_0x9c26a2){const _0x1f31d9=_0x1dab5f,_0x56af66=_0x4bb9ae['currentQuestionIndex'],_0x5e4f8f=_0x1f31d9(0x93e)+_0x56af66+'_p'+_0x13da16,_0x300915=sessionStorage[_0x1f31d9(0x4a8)](_0x5e4f8f);if(_0x300915&&_0x46176f!==_0x1f31d9(0xbde)&&_0x46176f!=='strategyScan'){showMessage(_0x1f31d9(0xd17));const _0x227746=document[_0x1f31d9(0x242)](_0x1f31d9(0xa5f)+_0x46176f);if(_0x227746)_0x227746[_0x1f31d9(0xd66)]=![];return;}if(_0x46176f==='wagerMultiplier'){sessionStorage[_0x1f31d9(0x851)](_0x5e4f8f,_0x46176f),renderStudentSyncQuestionView(_0x4bb9ae);return;}const _0x36291e=doc(db,_0x1f31d9(0xb99)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x1f31d9(0xa0d),_0x13da16);try{await runTransaction(db,async _0x67514c=>{const _0x1eedbc=_0x1f31d9,_0x57f76f=await _0x67514c['get'](_0x36291e);if(!_0x57f76f[_0x1eedbc(0xb96)]())throw _0x1eedbc(0xde0);const _0x1a502e=_0x57f76f[_0x1eedbc(0x1f1)](),_0x3f504c=_0x1a502e[_0x1eedbc(0x2b8)]||{},_0x1c5477=_0x3f504c[_0x46176f]||0x0;if(_0x1c5477<=0x0)throw _0x1eedbc(0x72b);const _0x3f97df={};_0x3f97df[_0x1eedbc(0x6e1)+_0x46176f]=increment(-0x1);if(_0x46176f===_0x1eedbc(0xbde)){const _0x4ba2b9=(_0x4bb9ae[_0x1eedbc(0x44f)]||0xf0)*0x3e8,_0x4a8e9c=_0x4ba2b9*0.25;_0x3f97df[_0x1eedbc(0x24d)]=increment(_0x4a8e9c);}_0x67514c[_0x1eedbc(0x160)](_0x36291e,_0x3f97df);}),_0x46176f===_0x1f31d9(0x88b)&&sessionStorage[_0x1f31d9(0x851)](_0x1f31d9(0xdcf),_0x1f31d9(0x6cf)),_0x46176f!==_0x1f31d9(0xbde)&&_0x46176f!==_0x1f31d9(0x3b1)&&sessionStorage[_0x1f31d9(0x851)](_0x5e4f8f,_0x46176f),applyPowerupEffect(_0x13da16,_0x46176f,_0x4ac423,_0x4bb9ae,_0x9c26a2),(_0x46176f===_0x1f31d9(0xd72)||_0x46176f===_0x1f31d9(0x16c)||_0x46176f===_0x1f31d9(0x71d))&&renderStudentSyncQuestionView(_0x4bb9ae);}catch(_0x3c330d){console[_0x1f31d9(0xd98)](_0x1f31d9(0x153),_0x3c330d),showMessage(typeof _0x3c330d===_0x1f31d9(0xa06)?_0x3c330d:'เกิดข้อผิดพลาดในการใช้ตัวช่วย');const _0x421409=document[_0x1f31d9(0x242)]('use-powerup-'+_0x46176f);if(_0x421409)_0x421409['disabled']=![];}}async function getCachedOtherPlayers(_0x152a1c,_0x4a4083){const _0x1577d7=_0x1dab5f,_0x53df1c=_0x152a1c['currentQuestionIndex'];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x53df1c)return console[_0x1577d7(0x383)](_0x1577d7(0xbe2)),cachedOtherPlayersForQuestion;console[_0x1577d7(0x383)](_0x1577d7(0x96a));const _0x34a0b8=collection(db,_0x1577d7(0xb99)+appId+_0x1577d7(0x407)+currentLiveGameId+'/players'),_0x3378fa=query(_0x34a0b8,where('status','==','active')),_0x255992=await getDocs(_0x3378fa),_0x420be2=[];return _0x255992['forEach'](_0x3d9b30=>{const _0x3edff2=_0x1577d7,_0x272f41=_0x3d9b30[_0x3edff2(0x1f1)]();_0x420be2[_0x3edff2(0x20e)](_0x272f41);}),cachedOtherPlayersForQuestion=_0x420be2,cachedQuestionIndexForPlayers=_0x53df1c,_0x420be2;}async function applyPowerupEffect(_0x963aca,_0x3ab30a,_0x161392,_0x29fa48,_0xcef866){const _0x289055=_0x1dab5f,_0x3e23e2=_0x161392,_0x3b9f59=_0x29fa48['currentQuestionIndex'],_0x41cd41=_0x289055(0x93e)+_0x3b9f59+'_p'+_0x963aca,_0x3e3938=collection(db,_0x289055(0xb99)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x289055(0xa0d)),_0x3c737e=await getDocs(query(_0x3e3938,where(_0x289055(0x2db),'==',_0x289055(0xc93)))),_0x59bf22=doc(db,'artifacts/'+appId+_0x289055(0x4e1),currentLiveGameId),_0x43218f=await getDoc(_0x59bf22),_0x49cee8=_0x43218f[_0x289055(0xb96)]()?_0x43218f[_0x289055(0x1f1)]():{},_0x5a7661=_0x49cee8[_0x289055(0x616)]||{},_0x11b151=[];_0x3c737e[_0x289055(0xbdf)](_0x82bbd6=>{const _0x142b53=_0x289055,_0x2fc2ac=_0x82bbd6[_0x142b53(0x1f1)](),_0x3b86d7=_0x5a7661[_0x2fc2ac[_0x142b53(0x4cc)]]||{};_0x11b151[_0x142b53(0x20e)]({..._0x2fc2ac,'pointsLastRound':_0x3b86d7['pointsLastRound']!==undefined?_0x3b86d7[_0x142b53(0x439)]:_0x2fc2ac['pointsLastRound']||0x0,'score':_0x2fc2ac[_0x142b53(0x3bb)]||0x0});});const _0x5c164f=_0x11b151[_0x289055(0x794)](_0x8180c8=>_0x8180c8[_0x289055(0x4cc)]===_0x963aca)||_0xcef866,_0x2cef4f=_0x62ba74=>{const _0x439a8d=_0x289055,_0x273bff=_0x29fa48['gameVariant']==='anonymous',_0x5ecf07=_0x29fa48[_0x439a8d(0x9a1)]===!![],_0x5cfe0d=_0x62ba74[_0x439a8d(0x4cc)];if(!_0x273bff)return _0x5cfe0d;const _0x233c43=_0x29fa48['playerNicknames'][_0x5cfe0d]||_0x439a8d(0x8c9);let _0x2fe390=![];if(_0x5ecf07){const _0x5c3bea=_0x5c164f[_0x439a8d(0x3bb)]||0x0,_0x348baf=_0x62ba74[_0x439a8d(0x3bb)]||0x0,_0x5dd3d3=_0x5c164f[_0x439a8d(0x439)]||0x0,_0x5e6ad7=_0x62ba74[_0x439a8d(0x439)]||0x0;_0x2fe390=_0x5c3bea>_0x348baf||_0x5c3bea===_0x348baf&&_0x5dd3d3>_0x5e6ad7;}else{const _0x1d934b=_0x5c164f[_0x439a8d(0x439)]||0x0,_0xf0e0d2=_0x62ba74[_0x439a8d(0x439)]||0x0;_0x2fe390=_0x1d934b>_0xf0e0d2;}return _0x2fe390?_0x5cfe0d+'\x20('+_0x233c43+')':_0x233c43;};switch(_0x3ab30a){case'poll':try{let _0x4584d1=0x0;const _0x45c5fc={};(_0x161392[_0x289055(0x381)]||[])[_0x289055(0xbdf)]((_0x375cc0,_0x49ff92)=>{_0x45c5fc[_0x49ff92]=0x0;}),_0x11b151['forEach'](_0x2f3cb2=>{const _0x13cffe=_0x289055,_0x1d5e14=(_0x2f3cb2[_0x13cffe(0x922)]||[])[_0x13cffe(0x794)](_0x58e488=>_0x58e488[_0x13cffe(0x444)]===_0x3b9f59);if(_0x1d5e14&&_0x1d5e14[_0x13cffe(0x5d6)]!==null){const _0x14489b=parseInt(_0x1d5e14[_0x13cffe(0x5d6)]);!isNaN(_0x14489b)&&_0x45c5fc[_0x14489b]!==undefined&&(_0x45c5fc[_0x14489b]++,_0x4584d1++);}});if(_0x4584d1===0x0){showMessage(_0x289055(0x16e));return;}let _0x5376e2=_0x289055(0xde1)+_0x4584d1+_0x289055(0xb59);Object['entries'](_0x45c5fc)[_0x289055(0xbdf)](([_0x70df2d,_0x7032ee])=>{const _0x338d12=_0x289055,_0x39d923=_0x4584d1>0x0?(_0x7032ee/_0x4584d1*0x64)[_0x338d12(0x536)](0x0):0x0,_0x4cc9d9=_0x338d12(0x595)+(parseInt(_0x70df2d)+0x1);_0x5376e2+=_0x4cc9d9+':\x20'+_0x7032ee+_0x338d12(0x718)+_0x39d923+_0x338d12(0x783);}),showMessage(_0x5376e2);}catch(_0x52500e){console[_0x289055(0xd98)](_0x52500e),showMessage(_0x289055(0x850));}break;case'strategyScan':try{const _0x317221=_0x11b151[_0x289055(0x3be)](_0x28e639=>_0x28e639[_0x289055(0x4cc)]!==_0x963aca);if(_0x317221[_0x289055(0x283)]===0x0){showMessage(_0x289055(0xb6f)),handleRefundPowerup(_0x963aca,_0x289055(0x3b1));break;}let _0x9c01a8=[];_0x317221['forEach'](_0x3e7357=>{const _0x1836c8=_0x289055,_0x40120f=_0x3e7357[_0x1836c8(0x2b8)]||{};if((_0x40120f['poll']||0x0)>0x0||(_0x40120f[_0x1836c8(0x3ca)]||0x0)>0x0){const _0x3f2307=_0x2cef4f(_0x3e7357);let _0xbd77f7=[];if(_0x40120f['poll']>0x0)_0xbd77f7[_0x1836c8(0x20e)]('📊');if(_0x40120f[_0x1836c8(0x3ca)]>0x0)_0xbd77f7['push']('💰');_0x9c01a8[_0x1836c8(0x20e)]('-\x20'+_0x3f2307+_0x1836c8(0x782)+_0xbd77f7[_0x1836c8(0xe10)](',\x20')+')');}}),showMessage(_0x9c01a8['length']>0x0?_0x289055(0x2a6)+_0x9c01a8[_0x289055(0xe10)]('\x0a'):'📡\x20สแกนเสร็จสิ้น:\x20ไม่พบภัยคุกคาม');}catch(_0x519968){console[_0x289055(0xd98)](_0x519968),handleRefundPowerup(_0x963aca,_0x289055(0x3b1));}break;case _0x289055(0x544):case _0x289055(0x21d):const _0x175827=_0x3ab30a==='forceConfident',_0x47bc1b=_0x11b151[_0x289055(0x3be)](_0x2ee6e7=>{const _0x22fb4b=_0x289055,_0x6984f2=(_0x2ee6e7[_0x22fb4b(0x922)]||[])[_0x22fb4b(0xb63)](_0x252f27=>_0x252f27['questionIndex']===_0x3b9f59);return _0x2ee6e7['name']!==_0x963aca&&!_0x6984f2&&_0x2ee6e7[_0x22fb4b(0x2db)]==='active';});if(_0x47bc1b['length']===0x0){showMessage(_0x289055(0x2bf)),sessionStorage[_0x289055(0x415)](_0x41cd41),handleRefundPowerup(_0x963aca,_0x3ab30a);break;}const _0x400e0e=_0x47bc1b[_0x289055(0xdc6)]((_0x3d4ef6,_0x534814)=>({'index':_0x534814+0x1,'realName':_0x3d4ef6['name'],'displayName':_0x2cef4f(_0x3d4ef6)})),_0x2322ba=_0x400e0e[_0x289055(0xdc6)](_0x5888eb=>_0x5888eb['index']+':\x20'+_0x5888eb[_0x289055(0x5df)])[_0x289055(0xe10)]('\x0a'),_0x187b7b=prompt('เลือกผู้เล่นที่จะ\x20\x22'+(_0x175827?'บังคับมั่นใจ':_0x289055(0x53d))+_0x289055(0xcb7)+_0x2322ba),_0x18baf8=parseInt(_0x187b7b)-0x1;if(_0x18baf8>=0x0&&_0x18baf8<_0x400e0e[_0x289055(0x283)]){const _0x1c9bb9=_0x400e0e[_0x18baf8];if(_0x175827)handleForceConfident(_0x1c9bb9['realName'],_0x1c9bb9[_0x289055(0x5df)]);else handleApplyJinx(_0x1c9bb9['realName'],_0x1c9bb9[_0x289055(0x5df)]);}else showMessage(_0x289055(0x13a)),sessionStorage[_0x289055(0x415)](_0x41cd41),handleRefundPowerup(_0x963aca,_0x3ab30a);break;case _0x289055(0x71d):showMessage(_0x289055(0xa9b));break;case _0x289055(0x3ca):showMessage(_0x289055(0x733));break;case _0x289055(0x27e):showMessage(_0x289055(0x36f));break;case _0x289055(0xbde):const _0x38c76a=(_0x29fa48['timerDuration']||0xf0)*0.25;showMessage('⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20'+_0x38c76a+_0x289055(0x22d));break;case'cutOne':case _0x289055(0x16c):const _0x1dfb51=document[_0x289055(0x99b)](_0x289055(0x1a6));if(_0x1dfb51[_0x289055(0x283)]===0x0){showMessage('❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ');return;}const _0xef07fa='hiddenOptions_q'+_0x3b9f59+'_p'+_0x963aca,_0x2cc8ab=JSON[_0x289055(0x942)](sessionStorage[_0x289055(0x4a8)](_0xef07fa)||'[]');let _0xb7951f;_0x3e23e2[_0x289055(0x5c5)]===_0x289055(0x66d)?_0xb7951f=String(_0x3e23e2[_0x289055(0xbec)])[_0x289055(0x463)]()==='true'?0x0:0x1:_0xb7951f=_0x3e23e2['correctAnswerIndex'];const _0x2daeb3=Array[_0x289055(0x155)](_0x1dfb51)[_0x289055(0x3be)](_0x247c02=>parseInt(_0x247c02[_0x289055(0xb42)][_0x289055(0xbfb)])!==_0xb7951f&&!_0x2cc8ab[_0x289055(0x87f)](_0x247c02[_0x289055(0xb42)][_0x289055(0xbfb)]));if(_0x2daeb3[_0x289055(0x283)]===0x0){showMessage(_0x289055(0x22a));return;}shuffleArray(_0x2daeb3);let _0x8ed09b=[..._0x2cc8ab];const _0x184b8c=_0x3ab30a===_0x289055(0xd72)?0x1:0x2;for(let _0x2ff35a=0x0;_0x2ff35a<_0x184b8c;_0x2ff35a++){_0x2daeb3[_0x2ff35a]&&(_0x2daeb3[_0x2ff35a][_0x289055(0xe19)][_0x289055(0x27c)]('hidden'),_0x8ed09b[_0x289055(0x20e)](_0x2daeb3[_0x2ff35a][_0x289055(0xb42)][_0x289055(0xbfb)]));}sessionStorage[_0x289055(0x851)](_0xef07fa,JSON['stringify'](_0x8ed09b)),showMessage(_0x3ab30a==='cutOne'?_0x289055(0x7ba):_0x289055(0x42d));break;default:showMessage(_0x289055(0xa85)+_0x3ab30a+_0x289055(0xc34));}}async function handleForceConfident(_0x45f6a2,_0x310f18){const _0x5bdea3=_0x1dab5f;if(!currentLiveGameId||!_0x45f6a2)return;const _0x1008f4=doc(db,_0x5bdea3(0xb99)+appId+_0x5bdea3(0x407)+currentLiveGameId+_0x5bdea3(0xa0d),_0x45f6a2);try{await updateDoc(_0x1008f4,{'isForcedConfident':!![]}),showMessage(_0x5bdea3(0xa94)+_0x310f18+_0x5bdea3(0x55c));}catch(_0xfef5b7){console[_0x5bdea3(0xd98)](_0x5bdea3(0x70c),_0xfef5b7),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}async function handleRefundPowerup(_0x43c07b,_0x5c97d1){const _0x3c03c5=_0x1dab5f,_0xf5b910=doc(db,_0x3c03c5(0xb99)+appId+_0x3c03c5(0x407)+currentLiveGameId+'/players',_0x43c07b);try{const _0x4bd0ab={};_0x4bd0ab[_0x3c03c5(0x6e1)+_0x5c97d1]=increment(0x1),await updateDoc(_0xf5b910,_0x4bd0ab),console[_0x3c03c5(0x383)](_0x3c03c5(0x412)+_0x5c97d1+'\x20to\x20'+_0x43c07b);}catch(_0x25d46f){console[_0x3c03c5(0xd98)]('Failed\x20to\x20refund\x20powerup:',_0x25d46f);}}async function handleApplyJinx(_0x480c43,_0x2f2411){const _0x28d0b4=_0x1dab5f;if(!currentLiveGameId||!_0x480c43)return;const _0x584226=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x28d0b4(0xa0d),_0x480c43);try{await updateDoc(_0x584226,{'isJinxed':!![]}),showMessage(_0x28d0b4(0x27a)+_0x2f2411+_0x28d0b4(0x55c));}catch(_0x193467){console[_0x28d0b4(0xd98)](_0x28d0b4(0x3a9),_0x193467),showMessage(_0x28d0b4(0x69e));}}function activateFileInputAreaWithLoadedFile(){const _0x4ae644=_0x1dab5f,_0x252fd3=document[_0x4ae644(0x242)](_0x4ae644(0x53c)),_0x3ee528=document['getElementById']('file-topics-list-container'),_0x106101=document[_0x4ae644(0x242)](_0x4ae644(0xdf6));selectedFile?_0x106101[_0x4ae644(0xa7e)]?(_0x252fd3['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x252fd3[_0x4ae644(0xd66)]=![],_0x3ee528[_0x4ae644(0xe19)]['add'](_0x4ae644(0x414))):(_0x252fd3[_0x4ae644(0xd66)]=!![],_0x3ee528[_0x4ae644(0xe19)][_0x4ae644(0x27c)](_0x4ae644(0x414)));}async function handleKickPlayerSync(_0x2bb3ac){const _0x5af088=_0x1dab5f;if(!currentLiveGameId||!_0x2bb3ac)return;const _0x424db8=doc(db,_0x5af088(0xb99)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x5af088(0xa0d),_0x2bb3ac);try{await updateDoc(_0x424db8,{'status':_0x5af088(0x2dc)});}catch(_0x1c38d9){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x2bb3ac+':',_0x1c38d9),showMessage(_0x5af088(0xd9e));}}async function renderStudentProgressDashboard(_0x2c6e2b,_0x3c89da){const _0x4bb414=_0x1dab5f,_0x9e9ca=document['getElementById']('student-progress-content');_0x9e9ca['innerHTML']=_0x4bb414(0x602);try{const _0x459a51=collection(db,_0x4bb414(0xb99)+appId+'/public/data/quizzes'),_0x57b2a0=query(_0x459a51,where(_0x4bb414(0x1cf),'==',_0x2c6e2b)),_0x1d5a56=await getDocs(_0x57b2a0),_0x431b2e=_0x1d5a56['docs'][_0x4bb414(0xdc6)](_0x292137=>({'id':_0x292137['id'],..._0x292137['data']()})),_0x2bc422=_0x431b2e[_0x4bb414(0xdc6)](_0x43e9dc=>getDoc(doc(db,'artifacts/'+appId+_0x4bb414(0x5a0)+_0x43e9dc['id']+_0x4bb414(0x282),_0x3c89da))),_0x59acac=await Promise[_0x4bb414(0x2af)](_0x2bc422),_0x3137a2=_0x59acac[_0x4bb414(0x3be)](_0x43543e=>_0x43543e['exists']())[_0x4bb414(0xdc6)](_0x37d68f=>({'quizId':_0x37d68f['ref'][_0x4bb414(0x4dd)][_0x4bb414(0x4dd)]['id'],..._0x37d68f[_0x4bb414(0x1f1)]()}));if(_0x3137a2[_0x4bb414(0x283)]===0x0){_0x9e9ca[_0x4bb414(0x90d)]=_0x4bb414(0xb38);return;}let _0x25bc82=_0x4bb414(0x8e1);_0x3137a2['forEach'](_0x476185=>{const _0x16a8b5=_0x4bb414,_0x35b77f=_0x431b2e[_0x16a8b5(0x794)](_0x5bf2cf=>_0x5bf2cf['id']===_0x476185[_0x16a8b5(0xcd7)]),_0x35c113=_0x35b77f[_0x16a8b5(0x491)]?.[_0x16a8b5(0x87d)]||_0x16a8b5(0x8ca),_0x2c89bf=_0x35b77f[_0x16a8b5(0x491)]?.[_0x16a8b5(0x9dd)]??0x0,_0x54bb1e=_0x476185['bestScore']>=_0x2c89bf;let _0x14d360='',_0x4d41fe=_0x16a8b5(0x9f2);switch(_0x35c113){case _0x16a8b5(0x8ca):case _0x16a8b5(0x784):_0x4d41fe=_0x54bb1e?_0x16a8b5(0x9f8):_0x16a8b5(0x60d),_0x14d360=_0x16a8b5(0x4fe)+(_0x54bb1e?_0x16a8b5(0xa63):_0x16a8b5(0x42f))+'\x22>'+_0x476185['bestScore']+_0x16a8b5(0x25f)+_0x476185[_0x16a8b5(0x9c6)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x54bb1e?_0x16a8b5(0x1b2):_0x16a8b5(0x2fa))+'\x22>'+(_0x54bb1e?_0x16a8b5(0x4ad):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x16a8b5(0x4ce):_0x4d41fe=_0x54bb1e?_0x16a8b5(0x9f8):'bg-red-50',_0x14d360=_0x16a8b5(0x64a)+(_0x54bb1e?_0x16a8b5(0x1b2):_0x16a8b5(0x2fa))+'\x22>'+(_0x54bb1e?_0x16a8b5(0x4ad):_0x16a8b5(0x41b))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x4d41fe=_0x16a8b5(0xbd9),_0x14d360='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x25bc82+=_0x16a8b5(0x178)+_0x4d41fe+_0x16a8b5(0x4b2)+_0x35b77f['topic']+_0x16a8b5(0xbcb)+_0x476185['attempts'][_0x16a8b5(0x283)]+_0x16a8b5(0x694)+new Date(_0x476185['latestSubmittedAt'])[_0x16a8b5(0xb20)](_0x16a8b5(0x8c1))+_0x16a8b5(0x4ed)+_0x14d360+_0x16a8b5(0x4bd);}),_0x25bc82+='</div>',_0x9e9ca[_0x4bb414(0x90d)]=_0x25bc82;}catch(_0x1d266f){console[_0x4bb414(0xd98)](_0x4bb414(0xd2e),_0x1d266f),_0x9e9ca[_0x4bb414(0x90d)]=_0x4bb414(0xd31);}}function renderQuizBankListForMultiSelect(_0xb562be=''){const _0x10dcfe=_0x1dab5f,_0x4e6d9c=document[_0x10dcfe(0x242)](_0x10dcfe(0xd29)),_0x383f04=_0xb562be[_0x10dcfe(0x463)]()[_0x10dcfe(0xb6d)](),_0x574330=allQuizzesGlobal['map'](_0x497fac=>({..._0x497fac,'projectName':allProjects['find'](_0x1b09be=>_0x1b09be['id']===_0x497fac[_0x10dcfe(0x1cf)])?.[_0x10dcfe(0x7c8)]||'N/A'}))['filter'](_0x8564c3=>(_0x8564c3[_0x10dcfe(0xe0e)]||'')[_0x10dcfe(0x463)]()['includes'](_0x383f04)||(_0x8564c3[_0x10dcfe(0x7c8)]||'')['toLowerCase']()['includes'](_0x383f04)||_0x8564c3['id']['toString']()[_0x10dcfe(0x87f)](_0x383f04));_0x4e6d9c[_0x10dcfe(0x90d)]=_0x574330['length']?_0x574330[_0x10dcfe(0xdc6)](_0x3ed629=>_0x10dcfe(0xaf5)+_0x3ed629['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x3ed629[_0x10dcfe(0xe0e)]||_0x10dcfe(0x3c6))+_0x10dcfe(0x340)+_0x3ed629['projectName']+_0x10dcfe(0x84b)+_0x3ed629['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x10dcfe(0xe10)](''):_0x10dcfe(0x6a1),_0x4e6d9c['onchange']=()=>{const _0x3c835c=_0x10dcfe,_0x564c18=document['querySelector'](_0x3c835c(0x976));document[_0x3c835c(0x242)](_0x3c835c(0x54f))[_0x3c835c(0xd66)]=!_0x564c18;};}function setupStudentProgressListeners(){const _0x2c2a42=_0x1dab5f;document[_0x2c2a42(0x242)](_0x2c2a42(0x702))[_0x2c2a42(0x264)](_0x2c2a42(0xc23),showStudentProgressView),document[_0x2c2a42(0x242)](_0x2c2a42(0xaef))[_0x2c2a42(0x264)](_0x2c2a42(0xc23),()=>{const _0x2ac60e=_0x2c2a42;document['getElementById'](_0x2ac60e(0x384))[_0x2ac60e(0xe19)]['add'](_0x2ac60e(0x414)),document['getElementById']('student-initial-view')[_0x2ac60e(0xe19)]['remove'](_0x2ac60e(0x414));});}async function startSkillPractice(_0x31fbd2){const _0xb06f71=_0x1dab5f;studentResultArea['classList'][_0xb06f71(0x27c)](_0xb06f71(0x414)),studentQuizArea['innerHTML']=_0xb06f71(0x223),studentQuizArea[_0xb06f71(0xe19)][_0xb06f71(0x677)](_0xb06f71(0x414));try{const _0x4e2ed5=await getStandardizedTopic(_0x31fbd2);console[_0xb06f71(0x383)](_0xb06f71(0x33a)+_0x31fbd2+_0xb06f71(0x842)+_0x4e2ed5+'\x22'),studentQuizArea[_0xb06f71(0xb19)]('p')[_0xb06f71(0xafa)]=_0xb06f71(0x68e)+_0x4e2ed5+'\x22...';const _0x790cf4=collection(db,_0xb06f71(0xb99)+appId+_0xb06f71(0x919)),_0x4ece1f=query(_0x790cf4,where('topic','==',_0x4e2ed5)),_0x438cd1=await getDocs(_0x4ece1f);if(_0x438cd1[_0xb06f71(0x5ab)][_0xb06f71(0x283)]>=0x3){console[_0xb06f71(0x383)](_0xb06f71(0x1e7)+_0x438cd1[_0xb06f71(0x5ab)][_0xb06f71(0x283)]+_0xb06f71(0x994)+_0x4e2ed5+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x5d63b0=_0x438cd1[_0xb06f71(0x5ab)][_0xb06f71(0xdc6)](_0x213a9a=>_0x213a9a[_0xb06f71(0x1f1)]());shuffleArray(_0x5d63b0);const _0x5d50cd={'topic':_0x4e2ed5,'questions':_0x5d63b0['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x5d50cd);}else{console[_0xb06f71(0x383)](_0xb06f71(0xce6)+_0x4e2ed5+_0xb06f71(0xa91));const _0x424fb3=await generatePracticeQuestions(_0x4e2ed5);await saveDrillToPracticeBank(_0x424fb3,_0x4e2ed5),displaySkillPracticeDrill(_0x424fb3);}}catch(_0x3f16dd){console['error'](_0xb06f71(0xc26),_0x3f16dd),showMessage(_0xb06f71(0xa4b)),studentQuizArea['classList']['add'](_0xb06f71(0x414)),studentResultArea[_0xb06f71(0xe19)][_0xb06f71(0x677)](_0xb06f71(0x414));}}async function saveDrillToPracticeBank(_0x4aa1f6,_0x2913bb){const _0x4705b2=_0x1dab5f,_0x595e2e=collection(db,'artifacts/'+appId+_0x4705b2(0x919)),_0x5c6e81=writeBatch(db);_0x4aa1f6[_0x4705b2(0x3ef)][_0x4705b2(0xbdf)](_0x28c6e7=>{const _0x42b28e=_0x4705b2,_0x37d96a=doc(_0x595e2e);_0x5c6e81[_0x42b28e(0x279)](_0x37d96a,{'topic':_0x2913bb,'questionText':_0x28c6e7[_0x42b28e(0x8c4)],'options':_0x28c6e7[_0x42b28e(0x381)],'correctAnswerIndex':_0x28c6e7[_0x42b28e(0xd79)],'explanation':_0x28c6e7[_0x42b28e(0xaeb)],'createdAt':serverTimestamp()});});try{await _0x5c6e81[_0x4705b2(0x45c)](),console[_0x4705b2(0x383)]('บันทึกคำถามใหม่\x20'+_0x4aa1f6[_0x4705b2(0x3ef)][_0x4705b2(0x283)]+_0x4705b2(0xc3b));}catch(_0x2a5ea2){console[_0x4705b2(0xd98)](_0x4705b2(0x7bb),_0x2a5ea2);}}async function getStandardizedTopic(_0xd72809){const _0x5d2dbc=_0x1dab5f,_0x7304f7=_0x5d2dbc(0x200)+_0xd72809+_0x5d2dbc(0xc94),_0x4e16dd={'type':'OBJECT','properties':{'standardTopic':{'type':'STRING'}},'required':[_0x5d2dbc(0x45d)]};try{const _0x30ff7f=await callAnalysisApi(_0x7304f7,_0x4e16dd);return _0x30ff7f[_0x5d2dbc(0x45d)];}catch(_0x1a8ebb){return console['error'](_0x5d2dbc(0xdce),_0x1a8ebb),_0xd72809;}}async function handleGenerateEasyVersionQuiz(_0x3eac80){const _0x5e0e1f=_0x1dab5f,_0x2a2e47=document[_0x5e0e1f(0x242)](_0x5e0e1f(0x22f)),_0x4c55b1=document[_0x5e0e1f(0x242)](_0x5e0e1f(0x6db));_0x4c55b1['classList'][_0x5e0e1f(0x27c)](_0x5e0e1f(0x414));const _0x25e862=_0x5e0e1f(0xcb8);_0x2a2e47[_0x5e0e1f(0x2c6)]('beforeend',_0x25e862);try{const _0x46e037=allQuizzes[_0x5e0e1f(0x794)](_0x20c740=>_0x20c740['id']===_0x3eac80);if(!_0x46e037)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x268095=_0x5e0e1f(0x72c)+JSON[_0x5e0e1f(0x3a5)](_0x46e037[_0x5e0e1f(0x3ef)])+_0x5e0e1f(0xcf6),_0x3e9487={'type':_0x5e0e1f(0x674),'properties':{'questionText':{'type':_0x5e0e1f(0xb13)},'questionType':{'type':_0x5e0e1f(0xb13)},'options':{'type':_0x5e0e1f(0xa3a),'items':{'type':_0x5e0e1f(0xb13)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText','questionType',_0x5e0e1f(0xaeb)]},_0x5414e7={'type':_0x5e0e1f(0x674),'properties':{'questions':{'type':_0x5e0e1f(0xa3a),'items':_0x3e9487}},'required':[_0x5e0e1f(0x3ef)]},_0x2214d9=await callAnalysisApi(_0x268095,_0x5414e7);_0x2214d9&&_0x2214d9[_0x5e0e1f(0x3ef)]&&_0x2214d9[_0x5e0e1f(0x3ef)][_0x5e0e1f(0xbdf)](_0x589c28=>{const _0x5231e8=_0x5e0e1f;if(_0x589c28[_0x5231e8(0x34b)]('imageCode')){const _0x30abb7=String(_0x589c28[_0x5231e8(0xb12)])[_0x5231e8(0xb6d)]();(_0x30abb7===''||_0x30abb7[_0x5231e8(0x463)]()===_0x5231e8(0x731)||!_0x30abb7['startsWith']('<svg'))&&delete _0x589c28[_0x5231e8(0xb12)];}});if(!_0x2214d9||!_0x2214d9['questions']||_0x2214d9[_0x5e0e1f(0x3ef)]['length']===0x0)throw new Error(_0x5e0e1f(0xa46));const _0x1616f2=_0x2214d9[_0x5e0e1f(0x3ef)][_0x5e0e1f(0xdc6)]((_0x58dd0e,_0x540856)=>({..._0x58dd0e,'id':'q_'+Date['now']()+'_'+_0x540856})),_0x536d80={'projectId':_0x46e037[_0x5e0e1f(0x1cf)],'quizType':_0x46e037[_0x5e0e1f(0x11f)],'settings':_0x46e037[_0x5e0e1f(0x491)],'createdBy':_0x46e037[_0x5e0e1f(0x6bf)],'status':_0x5e0e1f(0xc93),'topic':_0x5e0e1f(0x3dd)+_0x46e037[_0x5e0e1f(0xe0e)],'questions':_0x1616f2,'createdAt':new Date()[_0x5e0e1f(0x97b)](),'quizMode':'standard','pairedQuizId':null};let _0x3bf7ec;while(!![]){_0x3bf7ec=Math['floor'](0x3e8+Math[_0x5e0e1f(0xd52)]()*0x2328)[_0x5e0e1f(0xbe3)]();const _0x160b8d=await getDoc(doc(db,_0x5e0e1f(0xb99)+appId+_0x5e0e1f(0x48d),_0x3bf7ec));if(!_0x160b8d[_0x5e0e1f(0xb96)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5e0e1f(0x48d),_0x3bf7ec),_0x536d80),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x347c8b){console['error']('Error\x20generating\x20easy\x20version\x20quiz:',_0x347c8b),showMessage(_0x5e0e1f(0x517)+_0x347c8b[_0x5e0e1f(0xa9f)]);}finally{const _0x2bbe0c=document['getElementById'](_0x5e0e1f(0x8a1));_0x2bbe0c&&_0x2bbe0c[_0x5e0e1f(0x677)](),_0x4c55b1['classList']['remove']('hidden');}}async function generatePracticeQuestions(_0x5a27b3){const _0x3d3c90=_0x1dab5f,_0x40275a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x5a27b3+_0x3d3c90(0x36b)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x4639a8={'type':_0x3d3c90(0x674),'properties':{'questionText':{'type':_0x3d3c90(0xb13)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3d3c90(0xb13)}},'required':[_0x3d3c90(0x8c4),'options',_0x3d3c90(0xd79),_0x3d3c90(0xaeb)]},_0x11c1d6={'type':_0x3d3c90(0x674),'properties':{'topic':{'type':_0x3d3c90(0xb13)},'questions':{'type':_0x3d3c90(0xa3a),'items':_0x4639a8}},'required':[_0x3d3c90(0xe0e),_0x3d3c90(0x3ef)]};return await callAnalysisApi(_0x40275a,_0x11c1d6);}function displayLessonPlan(_0x419334,_0x6ec852){const _0x34c50e=_0x1dab5f,_0x21b568='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x6ec852[_0x34c50e(0xe0e)]+_0x34c50e(0xbdb)+_0x419334[_0x34c50e(0x28b)][_0x34c50e(0xdc6)](_0x42e0d5=>_0x34c50e(0x14f)+_0x42e0d5+_0x34c50e(0x489))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x419334['teachingContent']+_0x34c50e(0x8db)+_0x419334[_0x34c50e(0x163)][_0x34c50e(0xdc6)](_0x3503ab=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x3503ab[_0x34c50e(0x7e7)]+_0x34c50e(0x257)+_0x3503ab[_0x34c50e(0xb1f)]+_0x34c50e(0x531))[_0x34c50e(0xe10)]('')+_0x34c50e(0x8d1);document[_0x34c50e(0x242)](_0x34c50e(0x50d))['textContent']=_0x34c50e(0x798)+_0x6ec852[_0x34c50e(0xe0e)],document[_0x34c50e(0x242)]('lesson-plan-content')[_0x34c50e(0x90d)]=_0x21b568,document[_0x34c50e(0x242)](_0x34c50e(0x46b))['classList'][_0x34c50e(0x677)](_0x34c50e(0x414));if(window[_0x34c50e(0x972)])MathJax[_0x34c50e(0xde3)]();}function displaySkillPracticeDrill(_0x5657e9){const _0x1b8edb=_0x1dab5f;let _0x339f5b=0x0;const _0x394eef=_0x5657e9[_0x1b8edb(0x3ef)],_0x2d14bb=()=>{const _0x1091bd=_0x1b8edb,_0xd4224b=_0x394eef[_0x339f5b],_0x435e51=_0x1091bd(0x114)+(_0x339f5b+0x1)+_0x1091bd(0x25f)+_0x394eef[_0x1091bd(0x283)]+_0x1091bd(0x3f4)+_0xd4224b[_0x1091bd(0x8c4)]+_0x1091bd(0x270)+_0xd4224b[_0x1091bd(0x381)]['map']((_0x32156b,_0x2a3156)=>_0x1091bd(0x5ea)+_0x2a3156+_0x1091bd(0x8ad)+_0x2a3156+_0x1091bd(0xd80)+_0x2a3156+'\x22>'+_0x32156b+_0x1091bd(0xd37))[_0x1091bd(0xe10)]('')+_0x1091bd(0xb77);studentQuizArea[_0x1091bd(0x90d)]=_0x435e51;if(window[_0x1091bd(0x972)])MathJax[_0x1091bd(0xde3)]([studentQuizArea]);document[_0x1091bd(0x242)](_0x1091bd(0x1ea))[_0x1091bd(0x264)](_0x1091bd(0xc23),async()=>{const _0x257e23=_0x1091bd,_0x1fc49d=await getHintForQuestion(_0xd4224b[_0x257e23(0x8c4)]);showMessage(_0x1fc49d);}),document[_0x1091bd(0x242)](_0x1091bd(0x35e))['addEventListener'](_0x1091bd(0xc23),()=>{const _0x30e083=_0x1091bd,_0x42f5e2=document[_0x30e083(0xb19)](_0x30e083(0x707));if(!_0x42f5e2){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x27c7ae=document[_0x30e083(0x242)](_0x30e083(0x3cd)),_0x1fd5ba=parseInt(_0x42f5e2[_0x30e083(0xbfb)])===_0xd4224b[_0x30e083(0xd79)];_0x1fd5ba?(_0x27c7ae[_0x30e083(0x2aa)]=_0x30e083(0x9bf),_0x27c7ae[_0x30e083(0x90d)]=_0x30e083(0xc52)+_0xd4224b[_0x30e083(0xaeb)]):(_0x27c7ae['className']=_0x30e083(0x358),_0x27c7ae['innerHTML']=_0x30e083(0x4b6)+_0xd4224b['explanation']);_0x27c7ae['classList'][_0x30e083(0x677)](_0x30e083(0x414));if(window['MathJax'])MathJax[_0x30e083(0xde3)]([_0x27c7ae]);document[_0x30e083(0x242)]('check-answer-btn')[_0x30e083(0xe19)][_0x30e083(0x27c)]('hidden'),document[_0x30e083(0x242)](_0x30e083(0x1ea))[_0x30e083(0xe19)][_0x30e083(0x27c)](_0x30e083(0x414)),document['getElementById'](_0x30e083(0xb3c))[_0x30e083(0xe19)][_0x30e083(0x677)](_0x30e083(0x414));}),document[_0x1091bd(0x242)]('next-drill-btn')[_0x1091bd(0x264)](_0x1091bd(0xc23),()=>{const _0x12f109=_0x1091bd;_0x339f5b++,_0x339f5b<_0x394eef['length']?_0x2d14bb():(studentQuizArea[_0x12f109(0x90d)]=_0x12f109(0x9c9),document[_0x12f109(0x242)](_0x12f109(0x8e8))[_0x12f109(0x264)]('click',()=>{const _0xe4aa82=_0x12f109;studentQuizArea['classList'][_0xe4aa82(0x27c)]('hidden'),studentResultArea[_0xe4aa82(0xe19)][_0xe4aa82(0x677)](_0xe4aa82(0x414));}));});};_0x2d14bb();}async function getHintForQuestion(_0x4d4a1f){const _0x2f1500=_0x1dab5f,_0x281db9=_0x2f1500(0xa49)+_0x4d4a1f+_0x2f1500(0xd91),_0x48e5f6={'type':_0x2f1500(0x674),'properties':{'hint':{'type':'STRING'}},'required':[_0x2f1500(0x708)]};try{const _0xb63201=await callAnalysisApi(_0x281db9,_0x48e5f6);return _0xb63201[_0x2f1500(0x708)];}catch(_0x44547e){return console[_0x2f1500(0xd98)](_0x2f1500(0x738),_0x44547e),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0xa410b){const _0x38225d=_0x1dab5f;pdfjsLib[_0x38225d(0x1b6)][_0x38225d(0xd26)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x551696=await _0xa410b[_0x38225d(0x398)](),_0x572577=await pdfjsLib['getDocument'](_0x551696)[_0x38225d(0xa25)],_0x5ae907=_0x572577[_0x38225d(0x99f)];let _0x48bf4c='';for(let _0x3bfeff=0x1;_0x3bfeff<=_0x5ae907;_0x3bfeff++){const _0x2e4f6b=await _0x572577[_0x38225d(0xc57)](_0x3bfeff),_0x4b02dc=await _0x2e4f6b[_0x38225d(0xb84)](),_0x5995f2=_0x4b02dc[_0x38225d(0x9a6)][_0x38225d(0xdc6)](_0x59a06d=>_0x59a06d['str'])[_0x38225d(0xe10)]('\x20');_0x48bf4c+=_0x5995f2+'\x0a\x0a';}return _0x48bf4c;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x2c6670){const _0x1fe179=_0x1dab5f,_0x2b99f2=document[_0x1fe179(0x242)]('blueprint-options-container'),_0x16c638=document[_0x1fe179(0x242)]('blueprint-topics-list'),_0x5a31fb=document['getElementById']('save-blueprint-as-project-btn');_0x2b99f2[_0x1fe179(0xe19)][_0x1fe179(0x677)](_0x1fe179(0x414)),_0x16c638[_0x1fe179(0x90d)]='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x5a31fb[_0x1fe179(0xe19)]['add'](_0x1fe179(0x414));try{const _0x1862d8='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x2c6670+_0x1fe179(0xbf4),_0x5d506f={'type':_0x1fe179(0x674),'properties':{'gradeLevel':{'type':_0x1fe179(0xb13)},'curriculum':{'type':'ARRAY','items':{'type':_0x1fe179(0x674),'properties':{'sara':{'type':_0x1fe179(0xb13)},'mainTopics':{'type':_0x1fe179(0xa3a),'items':{'type':_0x1fe179(0x674),'properties':{'topicName':{'type':_0x1fe179(0xb13)},'subTopics':{'type':_0x1fe179(0xa3a),'items':{'type':'STRING'}}},'required':[_0x1fe179(0x2f2),_0x1fe179(0x95b)]}}},'required':['sara',_0x1fe179(0x932)]}}},'required':[_0x1fe179(0x907),_0x1fe179(0xc2d)]},_0x1ca6c7=await callAnalysisApi(_0x1862d8,_0x5d506f);if(_0x1ca6c7&&_0x1ca6c7['curriculum'])extractedBlueprintData=_0x1ca6c7,renderBlueprintTopics(_0x1ca6c7),_0x5a31fb[_0x1fe179(0xe19)][_0x1fe179(0x677)]('hidden');else throw new Error(_0x1fe179(0x7ab));}catch(_0x48ebcf){console[_0x1fe179(0xd98)](_0x1fe179(0x767),_0x48ebcf),_0x16c638['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(_0x38b8f2){const _0x133243=_0x1dab5f,_0x4b28dc=document[_0x133243(0x242)](_0x133243(0xbe7)),_0x3a2735=_0x38b8f2[_0x133243(0x907)],_0x577fe3='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x3a2735+'</h3>';let _0x3ad56e='';_0x38b8f2['curriculum'][_0x133243(0xbdf)](_0x4c79ce=>{const _0x1bf48e=_0x133243;_0x3ad56e+=_0x1bf48e(0x67b)+_0x4c79ce['sara']+'</h4>',_0x4c79ce['mainTopics'][_0x1bf48e(0xbdf)](_0x20b0c3=>{const _0x21647c=_0x1bf48e;_0x3ad56e+=_0x21647c(0x125)+_0x20b0c3[_0x21647c(0x2f2)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x20b0c3[_0x21647c(0x95b)][_0x21647c(0xbdf)](_0x2f62ec=>{const _0x458d65=_0x21647c;_0x3ad56e+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x2f62ec['replace'](/'/g,'\x5c\x27')+_0x458d65(0x120)+_0x3a2735[_0x458d65(0x38c)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x2f62ec+_0x458d65(0xb92)+_0x2f62ec[_0x458d65(0x38c)](/'/g,'\x5c\x27')+_0x458d65(0xc02);}),_0x3ad56e+=_0x21647c(0xa4a);}),_0x3ad56e+='</div>';}),_0x4b28dc['innerHTML']=_0x577fe3+_0x3ad56e;}async function handleGenerateTeachingContent(_0x47bf02){const _0x5efe91=_0x1dab5f,_0x1093ca=document['getElementById'](_0x5efe91(0x46b)),_0x227716=document['getElementById'](_0x5efe91(0x474));document[_0x5efe91(0x242)]('lesson-plan-title')[_0x5efe91(0xafa)]=_0x5efe91(0x696)+_0x47bf02,_0x227716[_0x5efe91(0x90d)]=_0x5efe91(0x9e3),_0x1093ca[_0x5efe91(0xe19)][_0x5efe91(0x677)](_0x5efe91(0x414));try{const _0x48eab8=_0x5efe91(0x535)+_0x47bf02+_0x5efe91(0x60f),_0x64a8a9={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x5efe91(0xa3a),'items':{'type':_0x5efe91(0xb13)}},'commonMistakes':{'type':_0x5efe91(0xa3a),'items':{'type':_0x5efe91(0xb13)}},'stepByStepExamples':{'type':_0x5efe91(0xa3a),'items':{'type':_0x5efe91(0x674),'properties':{'question':{'type':_0x5efe91(0xb13)},'solution':{'type':_0x5efe91(0xb13)}},'required':[_0x5efe91(0x7e7),_0x5efe91(0xb1f)]}},'teacherTips':{'type':'ARRAY','items':{'type':_0x5efe91(0xb13)}}},'required':['keyConcepts','commonMistakes',_0x5efe91(0x3dc),'teacherTips']},_0x225974=await callAnalysisApi(_0x48eab8,_0x64a8a9);displayTeachingContent(_0x225974,_0x47bf02);}catch(_0x350b86){console[_0x5efe91(0xd98)]('Error\x20generating\x20teaching\x20content:',_0x350b86),_0x227716[_0x5efe91(0x90d)]=_0x5efe91(0x276)+_0x350b86[_0x5efe91(0xa9f)]+_0x5efe91(0xe0b);}}function displayTeachingContent(_0x492aef,_0x76f8d7){const _0x2ab889=_0x1dab5f,_0x43bc4f=document[_0x2ab889(0x242)](_0x2ab889(0x474));document[_0x2ab889(0x242)](_0x2ab889(0x50d))[_0x2ab889(0xafa)]=_0x2ab889(0x592)+_0x76f8d7;const _0x4f00f6=_0x2ab889(0x623)+_0x492aef[_0x2ab889(0x6b6)][_0x2ab889(0xdc6)](_0x51c39d=>_0x2ab889(0x14f)+_0x51c39d+'</li>')['join']('')+_0x2ab889(0x1c3)+_0x492aef[_0x2ab889(0xd55)][_0x2ab889(0xdc6)](_0x26e556=>_0x2ab889(0x14f)+_0x26e556+'</li>')[_0x2ab889(0xe10)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x492aef[_0x2ab889(0x3dc)][_0x2ab889(0xdc6)](_0x409324=>_0x2ab889(0x727)+_0x409324[_0x2ab889(0x7e7)]+_0x2ab889(0x523)+_0x409324[_0x2ab889(0xb1f)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2ab889(0xe10)]('')+_0x2ab889(0x1f8)+_0x492aef[_0x2ab889(0x2fd)][_0x2ab889(0xdc6)](_0x223590=>'<li>'+_0x223590+_0x2ab889(0x489))[_0x2ab889(0xe10)]('')+_0x2ab889(0xd90);_0x43bc4f[_0x2ab889(0x90d)]=_0x4f00f6;if(window[_0x2ab889(0x972)])MathJax[_0x2ab889(0xde3)]([_0x43bc4f]);}async function generateQuizForSingleTopic(_0x1d4bde){const _0x1d75d6=_0x1dab5f;console[_0x1d75d6(0x383)](_0x1d75d6(0xad7)+_0x1d4bde+'\x22');const _0x1b724a=document[_0x1d75d6(0x242)](_0x1d75d6(0x228)),_0x4ad2a5=_0x1b724a[_0x1d75d6(0x634)][_0x1d75d6(0x283)]>0x0?_0x1b724a[_0x1d75d6(0x634)][0x0]:null;let _0x4bca1f=null;if(_0x4ad2a5)try{const _0x1921f6=new FileReader();_0x1921f6[_0x1d75d6(0x61b)](_0x4ad2a5);const _0x3d5b7d=await new Promise((_0x25aa1a,_0x2dfab4)=>{const _0x1f87be=_0x1d75d6;_0x1921f6[_0x1f87be(0x356)]=()=>_0x25aa1a(_0x1921f6[_0x1f87be(0x96e)][_0x1f87be(0xdcd)](',')[0x1]),_0x1921f6[_0x1f87be(0x811)]=_0x56a429=>_0x2dfab4(_0x56a429);});_0x4bca1f=[{'inlineData':{'mimeType':_0x4ad2a5[_0x1d75d6(0x41e)],'data':_0x3d5b7d}}];}catch(_0x3c53e5){console[_0x1d75d6(0xd98)](_0x1d75d6(0xad2),_0x3c53e5),showMessage(_0x1d75d6(0xa4e));return;}generateQuiz(_0x1d4bde,null,null,_0x4bca1f,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x168527=null){const _0x548dbf=_0x1dab5f,_0x106e81=document[_0x548dbf(0x242)](_0x548dbf(0x715)),_0x377eab=document[_0x548dbf(0x242)]('loader-text');let _0x1e1b13,_0xc8435a=[];if(_0x168527)_0x1e1b13=_0x168527,_0xc8435a=_0x1e1b13[_0x548dbf(0x801)](0x2);else{const _0x1f6ce4=document['getElementById'](_0x548dbf(0x2b2)),_0xd30dd0=document[_0x548dbf(0x242)](_0x548dbf(0x228)),_0xe9b3bb=_0x1f6ce4['files'][0x0];if(!_0xe9b3bb){showMessage(_0x548dbf(0x9fc));return;}_0x377eab[_0x548dbf(0xafa)]=_0x548dbf(0xcb5);const _0x95929=await new Promise((_0x3bcc69,_0x1b15bb)=>{const _0x51b848=_0x548dbf,_0x3920f0=new FileReader();_0x3920f0['readAsDataURL'](_0xe9b3bb),_0x3920f0['onload']=()=>_0x3bcc69(_0x3920f0[_0x51b848(0x96e)][_0x51b848(0xdcd)](',')[0x1]),_0x3920f0[_0x51b848(0x811)]=_0x1b15bb;});_0x1e1b13=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0xe9b3bb[_0x548dbf(0x41e)],'data':_0x95929}}];if(_0xd30dd0['files'][_0x548dbf(0x283)]>0x0){const _0x4deb50=_0xd30dd0[_0x548dbf(0x634)][0x0];_0x377eab['textContent']='กำลังเตรียมไฟล์อ้างอิง...';const _0x3b4921=await new Promise((_0x40daef,_0x498d0a)=>{const _0x1e571c=_0x548dbf,_0x46685c=new FileReader();_0x46685c[_0x1e571c(0x61b)](_0x4deb50),_0x46685c[_0x1e571c(0x356)]=()=>_0x40daef(_0x46685c['result'][_0x1e571c(0xdcd)](',')[0x1]),_0x46685c[_0x1e571c(0x811)]=_0x498d0a;}),_0x2ab5f5={'inlineData':{'mimeType':_0x4deb50['type'],'data':_0x3b4921}};_0x1e1b13[_0x548dbf(0x20e)](_0x2ab5f5),_0xc8435a[_0x548dbf(0x20e)](_0x2ab5f5);}}const _0x57b70e=_0x548dbf(0x832),_0x19be9c='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0x160b86='';_0xc8435a&&_0xc8435a['length']>0x0?_0x160b86=_0x57b70e:_0x160b86=_0x19be9c;const _0x51b953=_0x548dbf(0x99c)+_0x160b86+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x389d0d={'type':'OBJECT','properties':{'questionText':{'type':_0x548dbf(0xb13)},'questionType':{'type':_0x548dbf(0xb13),'enum':['multiple_choice',_0x548dbf(0xb16),_0x548dbf(0x66d),_0x548dbf(0x6ca)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x548dbf(0x2ad)},'idealAnswer':{'type':_0x548dbf(0xb13)},'correctAnswer':{'type':_0x548dbf(0x131)},'explanation':{'type':_0x548dbf(0xb13)},'imageCode':{'type':'STRING'}},'required':['questionType','explanation']},_0x3e477f={'type':_0x548dbf(0x674),'properties':{'topic':{'type':_0x548dbf(0xb13)},'questions':{'type':_0x548dbf(0xa3a),'items':_0x389d0d}},'required':[_0x548dbf(0xe0e),'questions']};_0x1e1b13[0x0][_0x548dbf(0xad0)]=_0x51b953,await handleApiCall(_0x1e1b13,_0x548dbf(0x31d),_0x3e477f);}function proceedToNextQuestion(_0x7b1b4f){studentAnswersPerQuestion['push'](_0x7b1b4f),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0x25a94a,_0x2ba131,_0x389df9){const _0x9b8296=_0x1dab5f,_0x57e7c9=Object[_0x9b8296(0xb31)](_0x25a94a[_0x9b8296(0x616)]||{}),_0x3401a3=_0x57e7c9['length'],_0x24f6b2=_0x389df9,_0x8585df=_0x25a94a[_0x9b8296(0xc9e)]||_0x9b8296(0x32f),_0x5daf50=_0x8585df===_0x9b8296(0x1ce)||_0x8585df===_0x9b8296(0xb2c),_0x2a0a95=_0x8585df===_0x9b8296(0xcbc)||_0x8585df==='anonymous_reveal_end',_0x5365f6=_0x25a94a['isAnonymousRevealed']===!![],_0x5bd7a0=_0x8585df==='competition',_0x1535f1=_0x25a94a[_0x9b8296(0x8d3)][_0x9b8296(0x3ef)],_0x2e4624=_0x1535f1[_0x24f6b2],_0x106590=_0x1e79e0=>String[_0x9b8296(0xa1c)](0x41+_0x1e79e0),_0x5406e4=_0x57e7c9[_0x9b8296(0xdc6)](_0x316222=>{const _0x424100=_0x9b8296,_0x397733=(_0x316222[_0x424100(0x922)]||[])[_0x424100(0x3be)](_0x5e1595=>{if(_0x2a0a95)return _0x5e1595['questionIndex']<=_0x24f6b2;return!![];});let _0x454684=0x0,_0x428666=0x0;return _0x2a0a95?(_0x454684=_0x397733[_0x424100(0x3be)](_0x26913d=>_0x26913d[_0x424100(0x56f)])['length'],_0x428666=_0x397733[_0x424100(0xbab)]((_0x494f20,_0x4023ce)=>_0x494f20+(_0x4023ce['pointsAwarded']||0x0),0x0)):(_0x454684=_0x316222[_0x424100(0x3bb)]||0x0,_0x428666=_0x316222[_0x424100(0x49c)]||0x0),{..._0x316222,'realScore':_0x454684,'totalPoints':_0x428666,'answers':_0x397733};}),_0x5510ee=Math[_0x9b8296(0xcd3)](..._0x5406e4['map'](_0x3b60db=>_0x3b60db[_0x9b8296(0x49c)]),-Infinity),_0x463a78=Math[_0x9b8296(0xcd3)](..._0x5406e4[_0x9b8296(0xdc6)](_0x2f14db=>_0x2f14db[_0x9b8296(0x749)]),-Infinity),_0x57ed6e=_0x25a94a[_0x9b8296(0x9a1)]===!![],_0x1490ef=[..._0x5406e4]['sort']((_0x191d50,_0x119776)=>{const _0x4b415a=_0x9b8296;if(_0x57ed6e){const _0x250cc4=_0x119776[_0x4b415a(0x49c)]-_0x191d50[_0x4b415a(0x49c)];if(_0x250cc4!==0x0)return _0x250cc4;const _0x53ce80=_0x119776['realScore']-_0x191d50[_0x4b415a(0x749)];if(_0x53ce80!==0x0)return _0x53ce80;return(_0x191d50[_0x4b415a(0x4cc)]||'')[_0x4b415a(0x46f)](_0x119776[_0x4b415a(0x4cc)]||'','th');}else{const _0x5b73d9=_0x119776[_0x4b415a(0x49c)]-_0x191d50[_0x4b415a(0x49c)];if(_0x5b73d9!==0x0)return _0x5b73d9;const _0x2748e6=_0x119776[_0x4b415a(0x749)]-_0x191d50[_0x4b415a(0x749)];if(_0x2748e6!==0x0)return _0x2748e6;return(_0x191d50[_0x4b415a(0x4cc)]||'')[_0x4b415a(0x46f)](_0x119776[_0x4b415a(0x4cc)]||'','th');}});let _0x75c53c='';const _0x1cba48=!_0x5bd7a0&&!(_0x5daf50&&_0x25a94a[_0x9b8296(0x1be)]===![]);if(_0x2e4624&&_0x1cba48){let _0x17d7a8='',_0x392bee='';const _0x44bacc=_0x2e4624[_0x9b8296(0x5c5)]||_0x25a94a[_0x9b8296(0x8d3)][_0x9b8296(0x11f)];if(_0x44bacc===_0x9b8296(0x423)&&_0x2e4624[_0x9b8296(0x381)]){const _0x1ef5ef=_0x2e4624[_0x9b8296(0xd79)];_0x17d7a8=_0x2e4624[_0x9b8296(0x381)][_0x1ef5ef],_0x392bee=_0x106590(_0x1ef5ef)+'.';}else{if(_0x44bacc===_0x9b8296(0x66d)){const _0x434fab=String(_0x2e4624[_0x9b8296(0xbec)])[_0x9b8296(0x463)]()===_0x9b8296(0x6cf);_0x17d7a8=_0x434fab?'ใช่\x20/\x20ถูก':_0x9b8296(0x790),_0x392bee=_0x434fab?'ก.':'ข.';}else{if(_0x44bacc===_0x9b8296(0x6ca))_0x17d7a8=_0x2e4624['correctResponse']||'-';else _0x44bacc===_0x9b8296(0xb16)&&(_0x17d7a8=_0x2e4624[_0x9b8296(0x424)]||'-');}}_0x17d7a8&&(_0x75c53c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20'+(_0x24f6b2+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x392bee+'\x20'+_0x17d7a8+_0x9b8296(0xa72));}const _0x4452b4=_0x1490ef[_0x9b8296(0xdc6)]((_0x1b17ec,_0x496103)=>{const _0x5e0ed3=_0x9b8296,_0x5e55eb=_0x1b17ec[_0x5e0ed3(0x749)],_0x493728=_0x1b17ec['totalPoints'],_0x399bb4=(_0x1b17ec['answers']||[])[_0x5e0ed3(0x794)](_0x5b64e6=>_0x5b64e6['questionIndex']===_0x389df9),_0x1e74f9=_0x1b17ec[_0x5e0ed3(0x922)][_0x5e0ed3(0x283)];let _0xb0c00f='';if(_0x399bb4){if(_0x399bb4[_0x5e0ed3(0xd2a)])_0xb0c00f+=_0x5e0ed3(0x867);if(_0x399bb4[_0x5e0ed3(0xc4e)])_0xb0c00f+='<span\x20title=\x22โดนคำสาป\x22>😈</span>';const _0x5588a6=_0x399bb4['powerupUsed'];if(_0x5588a6){const _0x37e570={'poll':'📊','cutOne':'✂️','insurance':_0x5e0ed3(0xcfa),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳'};if(_0x37e570[_0x5588a6])_0xb0c00f+=_0x5e0ed3(0x957)+_0x37e570[_0x5588a6]+_0x5e0ed3(0x69f);}}let _0x1b8f52='';if(!_0x5bd7a0&&_0x1e74f9>0x0){if(_0x57ed6e){if(_0x493728===_0x5510ee&&_0x5510ee>0x0)_0x1b8f52+=_0x5e0ed3(0xa82);if(_0x5e55eb===_0x463a78&&_0x463a78>0x0)_0x1b8f52+=_0x5e0ed3(0xb98);}else{const _0x4131c7=_0x1b17ec[_0x5e0ed3(0x749)]===_0x389df9+0x1;if(_0x4131c7)_0x1b8f52=_0x5e0ed3(0xd4d);}if(_0x1b8f52===''&&_0x493728<0x0)_0x1b8f52=_0x5e0ed3(0x8fd);}let _0xa0cde9=_0x5e0ed3(0x9c5),_0x4ca66d=![];if(!_0x5bd7a0){const _0x1a7b21=(_0x1b17ec[_0x5e0ed3(0x922)]||[])['find'](_0x1e964e=>_0x1e964e[_0x5e0ed3(0x444)]===_0x24f6b2);if(_0x1a7b21){const _0x55187b=_0x1a7b21[_0x5e0ed3(0x56f)],_0x36cf7e=_0x1a7b21[_0x5e0ed3(0x39a)]===!![]||_0x1a7b21['wasConfident']===_0x5e0ed3(0x198),_0x40edea=_0x1a7b21[_0x5e0ed3(0x49a)];if(_0x40edea==='wagerMultiplier')_0x55187b?(_0xa0cde9='bg-yellow-300\x20text-yellow-900\x20font-bold',_0x4ca66d=!![]):_0xa0cde9=_0x5e0ed3(0x6dc);else{if(_0x36cf7e)_0xa0cde9=_0x55187b?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x5e0ed3(0xdbb);else _0x55187b&&(_0xa0cde9=_0x5e0ed3(0x3e0));}}}let _0x5f2ed3='';const _0x341697=_0x1b17ec[_0x5e0ed3(0x4cc)],_0x59635b=_0x25a94a['playerNicknames'][_0x1b17ec['name']]||_0x5e0ed3(0x8c9),_0x1e440b=_0x5e0ed3(0xd96),_0x3202f4=_0x5e0ed3(0xb1b),_0x433c9e=_0x4ca66d?_0x5e0ed3(0xd53):_0x5e0ed3(0x29c);let _0x584e60='';const _0x1a66eb=_0x493728>=0x0?'(+'+_0x493728+')':'('+_0x493728+')',_0x9e935a='<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>'+_0x1b17ec[_0x5e0ed3(0x749)]+'\x20คะแนน\x20'+_0x1a66eb+_0x5e0ed3(0x69f);if(_0x2ba131){if(_0x5daf50&&!_0x5365f6)_0x5f2ed3='<div\x20style=\x22'+_0x1e440b+_0x5e0ed3(0xa56)+_0x59635b+_0x5e0ed3(0x7be)+_0x3202f4+'\x22>'+_0x59635b+'</span>\x20'+_0xb0c00f+'\x20'+_0x1b8f52+_0x5e0ed3(0x30c),_0x584e60=_0x9e935a;else{if(_0x5daf50&&_0x5365f6)_0x5f2ed3='<div\x20style=\x22'+_0x1e440b+'\x22\x20title=\x22'+_0x341697+_0x5e0ed3(0x7be)+_0x3202f4+'\x22>'+_0x341697+_0x5e0ed3(0x961)+_0xb0c00f+'\x20'+_0x1b8f52+_0x5e0ed3(0xc4a)+_0x433c9e+'\x22\x20style=\x22'+_0x3202f4+_0x5e0ed3(0xb88)+_0x59635b+_0x5e0ed3(0x951),_0x584e60=_0x9e935a;else _0x5bd7a0?(_0x5f2ed3='<div\x20style=\x22'+_0x1e440b+_0x5e0ed3(0xa56)+_0x341697+'\x22><span\x20style=\x22'+_0x3202f4+'\x22>'+_0x341697+_0x5e0ed3(0x961)+_0xb0c00f+'\x20'+_0x1b8f52+_0x5e0ed3(0x30c),_0x584e60=''):(_0x5f2ed3=_0x5e0ed3(0x3b5)+_0x1e440b+_0x5e0ed3(0xa56)+_0x341697+_0x5e0ed3(0x7be)+_0x3202f4+'\x22>'+_0x341697+'</span>\x20'+_0xb0c00f+'\x20'+_0x1b8f52+'</div>',_0x584e60=_0x9e935a);}}return _0x5e0ed3(0x60a)+_0xa0cde9+_0x5e0ed3(0xb67)+(_0x496103+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f2ed3+_0x5e0ed3(0xda1)+_0x584e60+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x9b8296(0xe10)](''),_0xd40dd0=_0x1535f1[_0x9b8296(0xdc6)]((_0x2ff444,_0x57bce0)=>{const _0x1f493f=_0x9b8296;if(_0x2a0a95&&_0x57bce0>_0x24f6b2||_0x5bd7a0)return'';const _0x42dc51=_0x5406e4[_0x1f493f(0x3be)](_0x18b29e=>_0x18b29e[_0x1f493f(0x922)]&&_0x18b29e['answers'][_0x1f493f(0x794)](_0x5d66f8=>_0x5d66f8[_0x1f493f(0x444)]===_0x57bce0&&_0x5d66f8['isCorrect']))[_0x1f493f(0x283)],_0x335e40=_0x57bce0===_0x24f6b2,_0x453791=_0x335e40?_0x1f493f(0x600):_0x1f493f(0x243);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x453791+_0x1f493f(0x1a8)+(_0x57bce0+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x42dc51+_0x1f493f(0x25f)+_0x3401a3+_0x1f493f(0xa28);})[_0x9b8296(0xe10)]('');let _0x8c0810='',_0x50a2e7='';if(_0x2ba131){const _0x332e0b=_0x8585df===_0x9b8296(0x32f)&&_0x25a94a[_0x9b8296(0xd02)]>=_0x1535f1[_0x9b8296(0x283)]-0x1,_0x31054c=_0x2a0a95&&_0x25a94a['reviewQuestionIndex']>=_0x1535f1[_0x9b8296(0x283)]-0x1,_0x32e7f6=_0x8585df===_0x9b8296(0xd88)&&_0x25a94a[_0x9b8296(0xd02)]>=_0x1535f1[_0x9b8296(0x283)]-0x1,_0xc72e5=_0x5daf50&&!_0x2a0a95&&_0x25a94a[_0x9b8296(0xd02)]>=_0x1535f1[_0x9b8296(0x283)]-0x1;if(_0x2a0a95)_0x31054c?_0x5daf50&&!_0x5365f6?_0x8c0810=_0x9b8296(0xbe5):_0x8c0810=_0x9b8296(0x9ba):_0x8c0810=_0x9b8296(0x497);else _0x332e0b||_0x32e7f6||_0xc72e5?_0x5daf50&&!_0x5365f6?_0x8c0810='<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>':_0x8c0810='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>':_0x8c0810=_0x9b8296(0xc55);_0x50a2e7=_0x9b8296(0xd05);}const _0x12d738=_0x5bd7a0||_0x5daf50&&!_0x25a94a[_0x9b8296(0x1be)]?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0xd40dd0+'</div></div>',_0x25438e=_0x5bd7a0||_0x5daf50&&!_0x25a94a[_0x9b8296(0x1be)]?'md:col-span-3':_0x9b8296(0x3bd),_0x2d463b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x25a94a[_0x9b8296(0x8d3)][_0x9b8296(0xe0e)]+_0x9b8296(0xa14)+_0x25a94a[_0x9b8296(0x687)]+_0x9b8296(0x550)+_0x50a2e7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x75c53c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x25438e+'\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x4452b4||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x9b8296(0x740)+_0x12d738+_0x9b8296(0x19d)+(_0x2ba131?_0x9b8296(0xa65)+_0x8c0810+'</div>':'')+_0x9b8296(0x735);liveGameView[_0x9b8296(0x90d)]=_0x2d463b;if(window[_0x9b8296(0x972)]){const _0x4752c2=document[_0x9b8296(0x242)](_0x9b8296(0x906));_0x4752c2&&MathJax[_0x9b8296(0xde3)]([_0x4752c2]);}if(_0x2ba131){const _0x8d94de=document[_0x9b8296(0x242)](_0x9b8296(0x280));_0x8d94de&&(_0x8d94de[_0x9b8296(0x3d9)]=async()=>{const _0x58b0bb=_0x9b8296,_0x32f295=doc(db,_0x58b0bb(0xb99)+appId+'/public/data/syncGames',currentLiveGameId),_0x9e2688=_0x25a94a[_0x58b0bb(0xd02)]+0x1,_0x6c5c68=_0x25a94a[_0x58b0bb(0x8d3)][_0x58b0bb(0x3ef)][_0x58b0bb(0x283)];!_0x2a0a95&&_0x9e2688<_0x6c5c68?await updateDoc(_0x32f295,{'status':_0x58b0bb(0x7e7),'currentQuestionIndex':_0x9e2688,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x32f295,{'status':'podium'});});const _0x1349cc=document['getElementById']('next-review-question-btn');_0x1349cc&&(_0x1349cc['onclick']=async()=>{const _0x1c39bd=_0x9b8296,_0x195115=doc(db,_0x1c39bd(0xb99)+appId+_0x1c39bd(0x4e1),currentLiveGameId);await updateDoc(_0x195115,{'reviewQuestionIndex':increment(0x1)});});document[_0x9b8296(0x242)](_0x9b8296(0x462))?.[_0x9b8296(0x264)](_0x9b8296(0xc23),async()=>{const _0x4a3b64=_0x9b8296;await updateDoc(doc(db,_0x4a3b64(0xb99)+appId+_0x4a3b64(0x4e1),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x4bc807=document[_0x9b8296(0x242)](_0x9b8296(0x9ca));_0x4bc807&&(_0x4bc807['onclick']=()=>{const _0x57679c=_0x9b8296;showConfirmation(_0x57679c(0x164),async()=>{const _0x1d0814=_0x57679c;await updateDoc(doc(db,_0x1d0814(0xb99)+appId+'/public/data/syncGames',currentLiveGameId),{'status':_0x1d0814(0x504)});});});}}async function handleGenerateParallelFromBank(_0x2f26b5){const _0x34cc64=_0x1dab5f,_0x1960e0=document[_0x34cc64(0x242)](_0x34cc64(0x22f)),_0xd14438=document[_0x34cc64(0x242)](_0x34cc64(0x6db));_0xd14438[_0x34cc64(0xe19)][_0x34cc64(0x27c)](_0x34cc64(0x414));const _0x501699=_0x34cc64(0x355)+_0x2f26b5[_0x34cc64(0xe0e)]+_0x34cc64(0xd7a);_0x1960e0['insertAdjacentHTML']('beforeend',_0x501699);const _0x3b434a=document['getElementById'](_0x34cc64(0x34d));try{const _0x691baf=_0x2f26b5[_0x34cc64(0x3ef)][_0x34cc64(0xdc6)]((_0x56e2f1,_0x3286f4)=>{const _0x19a54b=_0x34cc64;let _0x257327=_0x3286f4+0x1+'.\x20'+(_0x56e2f1[_0x19a54b(0x8c4)]||_0x56e2f1[_0x19a54b(0xd64)])+'\x0a';if(_0x56e2f1[_0x19a54b(0x381)])_0x257327+=_0x56e2f1[_0x19a54b(0x381)][_0x19a54b(0xdc6)]((_0xbda137,_0x31629a)=>_0x19a54b(0x393)+(_0x31629a===_0x56e2f1[_0x19a54b(0xd79)]?_0x19a54b(0xd08):'')+'\x20'+_0xbda137)[_0x19a54b(0xe10)]('\x0a');else _0x56e2f1['idealAnswer']&&(_0x257327+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x56e2f1[_0x19a54b(0x424)]);return _0x257327;})[_0x34cc64(0xe10)]('\x0a\x0a');_0x3b434a[_0x34cc64(0xafa)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x489961=_0x34cc64(0x7ef)+_0x2f26b5[_0x34cc64(0xe0e)]+_0x34cc64(0xc24)+_0x691baf+_0x34cc64(0x756)+simpleMathPrompt+_0x34cc64(0x9f7),_0x1b8cf7={'type':'OBJECT','properties':{'questionText':{'type':_0x34cc64(0xb13)},'questionType':{'type':'STRING','enum':[_0x34cc64(0x423),_0x34cc64(0xb16),'true_false',_0x34cc64(0x6ca)]},'options':{'type':'ARRAY','items':{'type':_0x34cc64(0xb13)}},'correctAnswerIndex':{'type':_0x34cc64(0x2ad)},'idealAnswer':{'type':_0x34cc64(0xb13)},'correctAnswer':{'type':_0x34cc64(0x131)},'stem':{'type':_0x34cc64(0xb13)},'correctResponse':{'type':_0x34cc64(0xb13)},'allResponses':{'type':_0x34cc64(0xa3a),'items':{'type':_0x34cc64(0xb13)}},'explanation':{'type':_0x34cc64(0xb13)},'imageCode':{'type':'STRING'}},'required':[_0x34cc64(0x5c5),_0x34cc64(0xaeb)]},_0x4cf6ea={'type':_0x34cc64(0x674),'properties':{'topic':{'type':_0x34cc64(0xb13)},'questions':{'type':_0x34cc64(0xa3a),'items':_0x1b8cf7}},'required':['topic',_0x34cc64(0x3ef)]},_0x5eaa59=await callAnalysisApi(_0x489961,_0x4cf6ea),_0x135fe2=_0x5eaa59[_0x34cc64(0x3ef)][_0x34cc64(0xdc6)]((_0x47d1c0,_0x17dca2)=>({..._0x47d1c0,'id':'q_'+Date[_0x34cc64(0xaf6)]()+'_'+_0x17dca2})),_0x41322c=_0x34cc64(0xb1e)+_0x2f26b5[_0x34cc64(0xe0e)],_0x4cfd03={'topic':_0x41322c,'questions':_0x135fe2,'quizType':_0x2f26b5[_0x34cc64(0x11f)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x34cc64(0x97b)](),'status':_0x34cc64(0xc93),'settings':_0x2f26b5[_0x34cc64(0x491)],'quizMode':_0x34cc64(0xacd),'pairedQuizId':null,'lessonPlan':null};let _0x53afa7;while(!![]){_0x53afa7=Math[_0x34cc64(0x95d)](0x3e8+Math['random']()*0x2328)['toString']();const _0x3f0abc=await getDoc(doc(db,_0x34cc64(0xb99)+appId+'/public/data/quizzes',_0x53afa7));if(!_0x3f0abc[_0x34cc64(0xb96)]())break;}await setDoc(doc(db,_0x34cc64(0xb99)+appId+_0x34cc64(0x48d),_0x53afa7),_0x4cfd03),showMessage(_0x34cc64(0x31f));}catch(_0x387ca0){console['error'](_0x34cc64(0x19e),_0x387ca0),showMessage('เกิดข้อผิดพลาด:\x20'+_0x387ca0[_0x34cc64(0xa9f)]);}finally{const _0x562f46=document['getElementById'](_0x34cc64(0x8a1));_0x562f46&&_0x562f46[_0x34cc64(0x677)](),_0xd14438[_0x34cc64(0xe19)]['remove'](_0x34cc64(0x414));}}async function handleGenerateParallelPostTest(_0x5cde76){const _0x189b8e=_0x1dab5f,_0x3a2475=document[_0x189b8e(0x242)]('results-tab-content'),_0x2a1ed9=document[_0x189b8e(0x242)](_0x189b8e(0x6db));_0x2a1ed9['classList'][_0x189b8e(0x27c)](_0x189b8e(0x414));const _0x5c6901=_0x189b8e(0xd16);_0x3a2475[_0x189b8e(0x2c6)](_0x189b8e(0xad1),_0x5c6901);try{const _0x5a2404=_0x5cde76[_0x189b8e(0x3ef)][_0x189b8e(0xdc6)]((_0x50541c,_0x38829e)=>{const _0x1f81e4=_0x189b8e;let _0x4c0028=_0x38829e+0x1+'.\x20'+(_0x50541c['questionText']||_0x50541c[_0x1f81e4(0xd64)]);if(_0x50541c[_0x1f81e4(0x381)])_0x4c0028+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x50541c[_0x1f81e4(0x381)]['join'](',\x20');return _0x4c0028;})[_0x189b8e(0xe10)]('\x0a\x0a'),_0x31ea2c=_0x189b8e(0x6d0)+_0x5cde76[_0x189b8e(0xe0e)]+_0x189b8e(0x3c3)+_0x5a2404+_0x189b8e(0xc06)+simpleMathPrompt+_0x189b8e(0x9f7),_0x472287={'type':_0x189b8e(0x674),'properties':{'topic':{'type':_0x189b8e(0xb13)},'questions':{'type':_0x189b8e(0xa3a),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x189b8e(0xb13)},'questionType':{'type':_0x189b8e(0xb13)},'options':{'type':_0x189b8e(0xa3a),'items':{'type':_0x189b8e(0xb13)}},'correctAnswerIndex':{'type':_0x189b8e(0x2ad)},'idealAnswer':{'type':_0x189b8e(0xb13)},'explanation':{'type':_0x189b8e(0xb13)}},'required':[_0x189b8e(0x8c4),_0x189b8e(0xaeb)]}}},'required':['topic','questions']},_0x1dc64e=await callAnalysisApi(_0x31ea2c,_0x472287),_0x50a34a=_0x5cde76['topic'][_0x189b8e(0x38c)]('(ก่อนเรียน)','')[_0x189b8e(0xb6d)](),_0x52a1d7=_0x189b8e(0xbbf)+_0x50a34a,_0x461e1b={..._0x1dc64e,'topic':_0x52a1d7,'quizType':_0x5cde76[_0x189b8e(0x11f)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x189b8e(0x97b)](),'status':_0x189b8e(0xc93),'settings':_0x5cde76[_0x189b8e(0x491)],'quizMode':_0x189b8e(0xa04),'pairedQuizId':_0x5cde76['id']};let _0x7ec797;while(!![]){_0x7ec797=Math[_0x189b8e(0x95d)](0x3e8+Math['random']()*0x2328)[_0x189b8e(0xbe3)]();const _0x28e191=await getDoc(doc(db,_0x189b8e(0xb99)+appId+_0x189b8e(0x48d),_0x7ec797));if(!_0x28e191['exists']())break;}await setDoc(doc(db,_0x189b8e(0xb99)+appId+_0x189b8e(0x48d),_0x7ec797),_0x461e1b);const _0x1e64c5=doc(db,_0x189b8e(0xb99)+appId+'/public/data/quizzes',_0x5cde76['id']);await updateDoc(_0x1e64c5,{'pairedQuizId':_0x7ec797}),showMessage(_0x189b8e(0x4f0));}catch(_0x419ae7){console[_0x189b8e(0xd98)](_0x189b8e(0xa2b),_0x419ae7),showMessage(_0x189b8e(0x517)+_0x419ae7[_0x189b8e(0xa9f)]);}finally{const _0x4c283d=document[_0x189b8e(0x242)](_0x189b8e(0x8a1));if(_0x4c283d)_0x4c283d[_0x189b8e(0x677)]();_0x2a1ed9[_0x189b8e(0xe19)][_0x189b8e(0x677)]('hidden');}}async function handleGenerateParallelTest(_0x50b276=null){const _0x27dd2c=_0x1dab5f;let _0x51455e=_0x50b276;if(!_0x51455e){const _0x150496=document[_0x27dd2c(0x242)]('parallel-test-upload-input');_0x150496[_0x27dd2c(0x634)][_0x27dd2c(0x283)]>0x0&&(_0x51455e=_0x150496[_0x27dd2c(0x634)][0x0]);}if(!_0x51455e){showMessage(_0x27dd2c(0x6a7));return;}const _0x2a91f1=document['getElementById'](_0x27dd2c(0x715)),_0x1453de=document[_0x27dd2c(0x242)](_0x27dd2c(0xdd3)),_0x32e608=document[_0x27dd2c(0x242)]('generated-quiz-container'),_0x90735f=document['getElementById'](_0x27dd2c(0x2e5));_0x90735f[_0x27dd2c(0xd66)]=!![],document['getElementById']('quiz-generation-area')[_0x27dd2c(0xe19)]['remove'](_0x27dd2c(0x414)),_0x32e608['innerHTML']='',_0x2a91f1['classList'][_0x27dd2c(0x677)](_0x27dd2c(0x414)),_0x1453de['textContent']=_0x27dd2c(0xaa5);const _0x2b359d=new FileReader();_0x2b359d[_0x27dd2c(0x61b)](_0x51455e),_0x2b359d['onload']=async()=>{const _0x2b5f64=_0x27dd2c;try{const _0x183e39=_0x2b359d[_0x2b5f64(0x96e)][_0x2b5f64(0xdcd)](',')[0x1],_0x12fea3=_0x51455e[_0x2b5f64(0x41e)];_0x1453de[_0x2b5f64(0xafa)]=_0x2b5f64(0xa8c);const _0x34b077=document[_0x2b5f64(0x242)]('include-images-checkbox')[_0x2b5f64(0xa7e)],_0x3715c9=_0x34b077?_0x2b5f64(0x6b3):'',_0x3ed659=_0x2b5f64(0x530),_0x47b2f4={'type':_0x2b5f64(0x674),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2b5f64(0xb13),'enum':['multiple_choice',_0x2b5f64(0xb16)]},'options':{'type':_0x2b5f64(0xa3a),'items':{'type':_0x2b5f64(0xb13)}},'correctAnswerIndex':{'type':_0x2b5f64(0x2ad)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2b5f64(0xb13)}},'required':[_0x2b5f64(0x8c4),_0x2b5f64(0x5c5),_0x2b5f64(0xaeb)]},_0x1af5c0={'type':_0x2b5f64(0x674),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x47b2f4}},'required':[_0x2b5f64(0xe0e),_0x2b5f64(0x3ef)]},_0x498214=[{'text':_0x3ed659},{'inlineData':{'mimeType':_0x12fea3,'data':_0x183e39}}];await handleApiCall(_0x498214,_0x2b5f64(0xb17),_0x1af5c0);}catch(_0x3eb2df){console[_0x2b5f64(0xd98)](_0x2b5f64(0xcdf),_0x3eb2df),showMessage(_0x2b5f64(0x517)+_0x3eb2df['message']),_0x32e608[_0x2b5f64(0x90d)]=_0x2b5f64(0xa44);}finally{_0x2a91f1['classList'][_0x2b5f64(0x27c)](_0x2b5f64(0x414)),_0x90735f[_0x2b5f64(0xd66)]=![];}},_0x2b359d[_0x27dd2c(0x811)]=_0x3924e1=>{const _0x3452b9=_0x27dd2c;console['error'](_0x3452b9(0xaa8),_0x3924e1),showMessage(_0x3452b9(0xc27)),_0x2a91f1[_0x3452b9(0xe19)][_0x3452b9(0x27c)](_0x3452b9(0x414)),_0x90735f['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x2799ef){const _0x274a9a=_0x1dab5f;if(currentEditingQuizData===null)return;const _0x42de24=document['querySelector'](_0x274a9a(0x277)+_0x2799ef+'\x22]');_0x42de24&&(_0x42de24[_0x274a9a(0x90d)]=_0x274a9a(0x69d));const _0x490c71=currentEditingQuizData['questions'][_0x2799ef],_0x2f1f9c=currentEditingQuizData['topic'],_0x24f23b=_0x490c71['questionType'],_0x5b7660={'type':_0x274a9a(0x674),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x274a9a(0xb13)}},'correctAnswerIndex':{'type':_0x274a9a(0x2ad)},'explanation':{'type':_0x274a9a(0xb13)}},'required':['questionText',_0x274a9a(0x381),'correctAnswerIndex','explanation']},_0x31a0e0={'type':_0x274a9a(0x674),'properties':{'questionText':{'type':_0x274a9a(0xb13)},'idealAnswer':{'type':_0x274a9a(0xb13)},'explanation':{'type':_0x274a9a(0xb13)}},'required':[_0x274a9a(0x8c4),_0x274a9a(0x424),_0x274a9a(0xaeb)]};let _0x315046,_0x115fb2='';_0x24f23b==='multiple_choice'?(_0x315046=_0x5b7660,_0x115fb2=_0x274a9a(0xd48)):(_0x315046=_0x31a0e0,_0x115fb2=_0x274a9a(0xdb5));const _0x424a3f='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x2f1f9c+_0x274a9a(0x2d5)+_0x115fb2+_0x274a9a(0x564)+(_0x490c71[_0x274a9a(0x8c4)]||_0x490c71[_0x274a9a(0xd64)])+_0x274a9a(0xa12)+simpleMathPrompt;try{const _0xa3ec19=await callAnalysisApi(_0x424a3f,_0x315046);currentEditingQuizData[_0x274a9a(0x3ef)][_0x2799ef]={..._0x490c71,..._0xa3ec19},renderQuizEditor(currentEditingQuizData);}catch(_0x4d924b){console[_0x274a9a(0xd98)](_0x274a9a(0xdea),_0x4d924b),showMessage(_0x274a9a(0xae3)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x49d1ee=_0x1dab5f,_0x3bbb72=document[_0x49d1ee(0x242)](_0x49d1ee(0x621));currentMode==='student'?(currentMode=_0x49d1ee(0xcc8),_0x3bbb72[_0x49d1ee(0x90d)]=_0x49d1ee(0x3e6),_0x3bbb72[_0x49d1ee(0x55f)]=_0x49d1ee(0x5ac),showView('admin-dashboard')):(currentMode='student',_0x3bbb72[_0x49d1ee(0x90d)]=_0x49d1ee(0xb46),_0x3bbb72[_0x49d1ee(0x55f)]=_0x49d1ee(0x6b0),showView(_0x49d1ee(0x53e)));}function handleAdminLogin(){const _0x22f331=_0x1dab5f,_0x4f2f08=document[_0x22f331(0x242)](_0x22f331(0xa42)),_0x4db980=document['getElementById']('password-error-msg');if(_0x4f2f08[_0x22f331(0xbfb)]===_0x22f331(0x2da)){adminPasswordModal[_0x22f331(0xe19)][_0x22f331(0x27c)]('hidden'),_0x4f2f08[_0x22f331(0xbfb)]='',_0x4db980['classList'][_0x22f331(0x27c)](_0x22f331(0x414)),currentMode='admin';const _0x1e9bcd=document['getElementById'](_0x22f331(0x621));_0x1e9bcd['innerHTML']=_0x22f331(0x3e6),_0x1e9bcd[_0x22f331(0x55f)]=_0x22f331(0x5ac),showView('admin-dashboard');}else _0x4db980[_0x22f331(0xe19)]['remove'](_0x22f331(0x414)),_0x4f2f08['value']='';}function switchProjectTab(_0x16a8f8){const _0x29966d=_0x1dab5f;[_0x29966d(0xb68),_0x29966d(0x8d6),_0x29966d(0x306)]['forEach'](_0x5790b9=>{const _0x303704=_0x29966d;document[_0x303704(0x242)](_0x5790b9+'-tab')[_0x303704(0xe19)][_0x303704(0x677)](_0x303704(0xc93)),document[_0x303704(0x242)](_0x5790b9+_0x303704(0x8ea))[_0x303704(0xe19)][_0x303704(0x27c)](_0x303704(0x414));}),document[_0x29966d(0x242)](_0x16a8f8+_0x29966d(0x5b4))['classList'][_0x29966d(0x27c)](_0x29966d(0xc93)),document[_0x29966d(0x242)](_0x16a8f8+_0x29966d(0x8ea))['classList']['remove']('hidden');}function switchQuizDetailTab(_0x2ac4a7){const _0x584439=_0x1dab5f,_0x27594f={'analytics':{'btn':_0x584439(0x3e4),'content':_0x584439(0x9bd)},'scores':{'btn':_0x584439(0x4c0),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x584439(0xcad),'content':_0x584439(0xcfc)},'behavior-log':{'btn':_0x584439(0x5f0),'content':_0x584439(0x49d)}};for(const _0x3f1aff in _0x27594f){document['getElementById'](_0x27594f[_0x3f1aff]['btn'])[_0x584439(0xe19)][_0x584439(0x677)](_0x584439(0xc93)),document[_0x584439(0x242)](_0x27594f[_0x3f1aff][_0x584439(0x7a5)])[_0x584439(0xe19)][_0x584439(0x27c)]('hidden');}document['getElementById'](_0x27594f[_0x2ac4a7][_0x584439(0xe0c)])[_0x584439(0xe19)][_0x584439(0x27c)](_0x584439(0xc93)),document[_0x584439(0x242)](_0x27594f[_0x2ac4a7][_0x584439(0x7a5)])[_0x584439(0xe19)][_0x584439(0x677)](_0x584439(0x414));}function showMessage(_0x56f1cd,_0x2766fe=null){const _0x4bf02a=_0x1dab5f;modalMessage[_0x4bf02a(0x90d)]=_0x56f1cd['replace'](/\n/g,_0x4bf02a(0x359)),modalConfirmAction=_0x2766fe,messageModal[_0x4bf02a(0xe19)][_0x4bf02a(0x677)](_0x4bf02a(0x414));}function showConfirmation(_0x3527e6,_0x5e1a1d,_0x483942=null){const _0x18a27e=_0x1dab5f;document[_0x18a27e(0x242)]('confirmation-message')[_0x18a27e(0xafa)]=_0x3527e6,document[_0x18a27e(0x242)](_0x18a27e(0x275))[_0x18a27e(0xb19)]('h3')[_0x18a27e(0xafa)]=_0x18a27e(0xd54),confirmAction=_0x5e1a1d,cancelAction=_0x483942,confirmationModal[_0x18a27e(0xe19)][_0x18a27e(0x677)](_0x18a27e(0x414));}function listenForProjects(){const _0x203136=_0x1dab5f,_0x430ee5=doc(db,'globalSettings',_0x203136(0x64f));onSnapshot(_0x430ee5,_0x3a8121=>{const _0x27b8ce=_0x203136;if(_0x3a8121['exists']()){const _0x84fe44=_0x3a8121[_0x27b8ce(0x1f1)]();globalDashboardSettings[_0x27b8ce(0xbf6)]=_0x84fe44[_0x27b8ce(0xbf6)]||'date_desc',globalDashboardSettings[_0x27b8ce(0x490)]=_0x84fe44[_0x27b8ce(0x490)]||[],globalDashboardSettings[_0x27b8ce(0x7d1)]=_0x84fe44['projectOrder']||[];}allProjects[_0x27b8ce(0x283)]>0x0&&renderProjects();});const _0x4446be=collection(db,_0x203136(0xb99)+appId+_0x203136(0x636));unsubscribeProjectsListener=onSnapshot(_0x4446be,_0x1efe68=>{const _0x50ec78=_0x203136;allProjects=_0x1efe68[_0x50ec78(0x5ab)]['map'](_0x270813=>({'id':_0x270813['id'],..._0x270813[_0x50ec78(0x1f1)]()})),renderProjects();},_0x2fd1af=>{const _0x4e4944=_0x203136;console[_0x4e4944(0xd98)]('Error\x20listening\x20for\x20projects:',_0x2fd1af),showMessage(_0x4e4944(0xc39));});}function showColorPalette(_0x59b07d,_0x51bbe9){const _0x396d77=_0x1dab5f;document[_0x396d77(0x99b)](_0x396d77(0x498))[_0x396d77(0xbdf)](_0x47a28d=>_0x47a28d['remove']());const _0x25b85a=[_0x396d77(0x62d),_0x396d77(0xdf8),_0x396d77(0xc9d),_0x396d77(0x39e),_0x396d77(0xbdd),_0x396d77(0x89b),'#F3E8FF',_0x396d77(0x75a),_0x396d77(0x5d8)],_0x32c403=document[_0x396d77(0xc3c)](_0x396d77(0x482));_0x32c403[_0x396d77(0x2aa)]=_0x396d77(0x866),_0x25b85a[_0x396d77(0xbdf)](_0x1258af=>{const _0xa17bcf=_0x396d77,_0x9889f9=document[_0xa17bcf(0xc3c)](_0xa17bcf(0x482));_0x9889f9[_0xa17bcf(0x2aa)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x9889f9[_0xa17bcf(0x271)][_0xa17bcf(0x30a)]=_0x1258af,_0x9889f9[_0xa17bcf(0x264)]('click',()=>{const _0x56e6c2=_0xa17bcf;handleProjectColorChange(_0x51bbe9,_0x1258af),_0x32c403[_0x56e6c2(0x677)]();}),_0x32c403[_0xa17bcf(0x963)](_0x9889f9);}),document[_0x396d77(0xcaa)]['appendChild'](_0x32c403);const _0x1732aa=_0x59b07d[_0x396d77(0x572)]();_0x32c403[_0x396d77(0x271)]['top']=_0x1732aa[_0x396d77(0x294)]+window['scrollY']+'px',_0x32c403['style'][_0x396d77(0xdfa)]=_0x1732aa[_0x396d77(0xdfa)]+window[_0x396d77(0x5c1)]-_0x32c403[_0x396d77(0xc1f)]/0x2+'px';}async function handleProjectColorChange(_0x56c5e8,_0x2dcf03){const _0x4ad7a7=_0x1dab5f,_0x658ae2=doc(db,'artifacts/'+appId+'/public/data/projects',_0x56c5e8);try{await updateDoc(_0x658ae2,{'color':_0x2dcf03});}catch(_0x11f2b3){console[_0x4ad7a7(0xd98)]('Error\x20updating\x20project\x20color:',_0x11f2b3),showMessage(_0x4ad7a7(0xce5));}}async function renderProjects(){const _0x1194c8=_0x1dab5f,_0x293ec0=globalDashboardSettings['projectSort']||_0x1194c8(0x6af),_0x2031a0=new Set(globalDashboardSettings[_0x1194c8(0x490)]||[]),_0x47654e=globalDashboardSettings['projectView']||_0x1194c8(0x4d1),_0x4536fd=document[_0x1194c8(0x242)]('grid-view-btn'),_0x27ee57=document[_0x1194c8(0x242)](_0x1194c8(0xa2d));_0x4536fd[_0x1194c8(0xe19)]['toggle'](_0x1194c8(0xc93),_0x47654e===_0x1194c8(0x4d1)),_0x27ee57[_0x1194c8(0xe19)]['toggle'](_0x1194c8(0xc93),_0x47654e===_0x1194c8(0xad6)),document['getElementById'](_0x1194c8(0xae4))[_0x1194c8(0xbfb)]=_0x293ec0;const _0x3282b1=document[_0x1194c8(0x242)]('project-search-input')['value']['toLowerCase']();let _0x19e1b4=allProjects[_0x1194c8(0x3be)](_0x363beb=>_0x363beb['projectName'][_0x1194c8(0x463)]()['includes'](_0x3282b1));const _0x192db1=_0x19e1b4[_0x1194c8(0x3be)](_0x4b431b=>_0x2031a0['has'](_0x4b431b['id'])),_0x3ace1c=_0x19e1b4[_0x1194c8(0x3be)](_0x55c5fe=>!_0x2031a0[_0x1194c8(0x84f)](_0x55c5fe['id'])),_0x25adf1=(_0x2534fa,_0x53ab3a)=>{const _0x24d5d3=_0x1194c8;switch(_0x293ec0){case _0x24d5d3(0x3d0):return _0x2534fa[_0x24d5d3(0x7c8)]['localeCompare'](_0x53ab3a['projectName'],'th');case'name_desc':return _0x53ab3a[_0x24d5d3(0x7c8)][_0x24d5d3(0x46f)](_0x2534fa[_0x24d5d3(0x7c8)],'th');case _0x24d5d3(0x3fa):return new Date(_0x2534fa[_0x24d5d3(0xdf4)])-new Date(_0x53ab3a[_0x24d5d3(0xdf4)]);default:return new Date(_0x53ab3a[_0x24d5d3(0xdf4)])-new Date(_0x2534fa[_0x24d5d3(0xdf4)]);}};_0x192db1[_0x1194c8(0xa23)](_0x25adf1),_0x3ace1c[_0x1194c8(0xa23)](_0x25adf1);const _0x299f84=[..._0x192db1,..._0x3ace1c],_0x4e955f=globalDashboardSettings['projectOrder']||[];_0x4e955f[_0x1194c8(0x283)]>0x0&&_0x47654e===_0x1194c8(0x4d1)&&_0x299f84[_0x1194c8(0xa23)]((_0x3394ac,_0x5aa1b9)=>{const _0x1c37f4=_0x1194c8,_0x1ca867=_0x4e955f[_0x1c37f4(0x570)](_0x3394ac['id']),_0x28159d=_0x4e955f['indexOf'](_0x5aa1b9['id']);if(_0x1ca867===-0x1)return 0x1;if(_0x28159d===-0x1)return-0x1;return _0x1ca867-_0x28159d;});const _0xdb0c05={};await Promise[_0x1194c8(0x2af)](_0x299f84[_0x1194c8(0xdc6)](async _0x482acf=>{const _0x4245d7=_0x1194c8,_0x3d52d7=query(collection(db,'artifacts/'+appId+_0x4245d7(0x48d)),where(_0x4245d7(0x1cf),'==',_0x482acf['id'])),_0x393b60=await getDocs(_0x3d52d7);_0xdb0c05[_0x482acf['id']]=_0x393b60['size'];}));const _0x41f666=document['getElementById'](_0x1194c8(0x908));let _0x1cbdc2='';if(_0x47654e===_0x1194c8(0x4d1)){_0x41f666[_0x1194c8(0x2aa)]=_0x1194c8(0x10c);if(starredQuizzes['length']>0x0&&_0x3282b1===''){const _0x6df247=starredQuizzes['map'](_0x2dc8cc=>{const _0x761870=_0x1194c8,_0x599007=allProjects[_0x761870(0x794)](_0x2a00c6=>_0x2a00c6['id']===_0x2dc8cc[_0x761870(0x1cf)]);return{..._0x2dc8cc,'projectName':_0x599007?_0x599007[_0x761870(0x7c8)]:'N/A'};});_0x1cbdc2+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6df247['map'](_0x50439c=>_0x1194c8(0x1da)+_0x50439c[_0x1194c8(0xe0e)]+'\x22>'+_0x50439c['topic']+_0x1194c8(0xbc4)+_0x50439c[_0x1194c8(0x7c8)]+_0x1194c8(0xd4a)+_0x50439c['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1194c8(0xe10)]('')+_0x1194c8(0xda9)+starredQuizzes[_0x1194c8(0x283)]+_0x1194c8(0x3f5);}_0x299f84[_0x1194c8(0xbdf)](_0x1badda=>{const _0x54d714=_0x1194c8,_0x50b8e4=_0xdb0c05[_0x1badda['id']]??0x0,_0x1ad80e=_0x2031a0[_0x54d714(0x84f)](_0x1badda['id']),_0x13cbbc=_0x1badda[_0x54d714(0x337)]||_0x54d714(0x62d),_0xa08fe2=parseInt(_0x13cbbc[_0x54d714(0xc12)](0x1,0x3),0x10)*0.299+parseInt(_0x13cbbc['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x13cbbc[_0x54d714(0xc12)](0x5,0x7),0x10)*0.114<0xba,_0x48cd18=_0xa08fe2?_0x54d714(0x403):'text-indigo-800',_0x35eaee=_0xa08fe2?_0x54d714(0x150):_0x54d714(0x858);_0x1cbdc2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x1ad80e?_0x54d714(0x795):'border-gray-200')+_0x54d714(0x8cd)+_0x13cbbc+_0x54d714(0x590)+_0x1badda['id']+_0x54d714(0x7f6)+_0x1badda['id']+_0x54d714(0x9d1)+(_0xa08fe2?_0x54d714(0xb74):_0x54d714(0x3f7))+_0x54d714(0xb62)+_0x1badda['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0xa08fe2?_0x54d714(0xb74):_0x54d714(0x3f7))+_0x54d714(0x5b9)+(_0x1ad80e?_0xa08fe2?'text-yellow-300':_0x54d714(0x567):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x1badda['id']+_0x54d714(0x288)+_0x48cd18+_0x54d714(0x55a)+_0x1badda['projectName']+_0x54d714(0x872)+_0x35eaee+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x1badda[_0x54d714(0xdf4)])[_0x54d714(0xb20)](_0x54d714(0x8c1))+_0x54d714(0x175)+(_0xa08fe2?_0x54d714(0x9e5):_0x54d714(0x7c6))+_0x54d714(0x8f8)+_0x50b8e4+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1badda['id']+'\x22\x20data-name=\x22'+_0x1badda[_0x54d714(0x7c8)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0xa08fe2?_0x54d714(0x529):'text-red-500\x20hover:text-red-700')+_0x54d714(0x3ac);});}else _0x41f666[_0x1194c8(0x2aa)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x1194c8(0x283)]>0x0&&_0x3282b1===''&&(_0x1cbdc2+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x1194c8(0x283)]+_0x1194c8(0xbd5)),_0x1cbdc2+=_0x1194c8(0x188),_0x299f84[_0x1194c8(0xbdf)](_0x3b3a45=>{const _0x36cddd=_0x1194c8,_0x448de9=_0xdb0c05[_0x3b3a45['id']]??0x0,_0x514ecb=_0x2031a0[_0x36cddd(0x84f)](_0x3b3a45['id']);_0x1cbdc2+=_0x36cddd(0x92d)+(_0x3b3a45[_0x36cddd(0x337)]||_0x36cddd(0x5d8))+_0x36cddd(0xa03)+_0x3b3a45['id']+_0x36cddd(0x7a9)+_0x3b3a45['projectName']+_0x36cddd(0x78c)+_0x448de9+_0x36cddd(0x94c)+new Date(_0x3b3a45[_0x36cddd(0xdf4)])[_0x36cddd(0x255)](_0x36cddd(0x8c1))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3b3a45['id']+_0x36cddd(0x742)+(_0x514ecb?_0x36cddd(0x567):'')+_0x36cddd(0x824)+_0x3b3a45['id']+'\x22\x20data-name=\x22'+_0x3b3a45[_0x36cddd(0x7c8)]+_0x36cddd(0x338);});projectList[_0x1194c8(0x90d)]=_0x1cbdc2,noProjectsMsg[_0x1194c8(0xe19)]['toggle'](_0x1194c8(0x414),_0x1cbdc2[_0x1194c8(0x283)]>0x0);}document[_0x1dab5f(0x242)]('confirm-create-project-btn')['addEventListener'](_0x1dab5f(0xc23),async()=>{const _0x4d4840=_0x1dab5f,_0x58e1f6=document[_0x4d4840(0x242)](_0x4d4840(0xccd)),_0x1501e1=_0x58e1f6['value'][_0x4d4840(0xb6d)]();if(!_0x1501e1){showMessage(_0x4d4840(0xa0b));return;}try{const _0x45e6eb=doc(collection(db,_0x4d4840(0xb99)+appId+_0x4d4840(0x636)));await setDoc(_0x45e6eb,{'projectName':_0x1501e1,'students':[],'settings':{'resultsDisplay':_0x4d4840(0x8ca),'shuffleSetting':_0x4d4840(0x7d3),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x4d4840(0x7d3),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x58e1f6[_0x4d4840(0xbfb)]='',createProjectModal[_0x4d4840(0xe19)]['add']('hidden'),showMessage(_0x4d4840(0x84a));}catch(_0x18a602){console[_0x4d4840(0xd98)]('Error\x20creating\x20project:',_0x18a602),showMessage(_0x4d4840(0x37a));}}),projectList[_0x1dab5f(0x264)](_0x1dab5f(0xc23),async _0x48455b=>{const _0x35c724=_0x1dab5f,_0xcb201c=_0x48455b[_0x35c724(0x230)][_0x35c724(0xc75)]('.project-card-content'),_0x352918=_0x48455b[_0x35c724(0x230)][_0x35c724(0xc75)](_0x35c724(0xc3e)),_0x121513=_0x48455b[_0x35c724(0x230)][_0x35c724(0xc75)]('.pin-project-btn'),_0x4cf1a4=_0x48455b[_0x35c724(0x230)]['closest'](_0x35c724(0x182));if(_0x121513){const _0x95d01c=_0x121513['dataset']['id'],_0x97b5c5=doc(db,_0x35c724(0x192),'dashboardConfig'),_0x3a41ae=globalDashboardSettings[_0x35c724(0x490)];let _0x140281;_0x3a41ae[_0x35c724(0x87f)](_0x95d01c)?_0x140281=_0x3a41ae[_0x35c724(0x3be)](_0x5bc00d=>_0x5bc00d!==_0x95d01c):_0x140281=[..._0x3a41ae,_0x95d01c];try{await setDoc(_0x97b5c5,{'pinnedProjects':_0x140281},{'merge':!![]});}catch(_0x3b30aa){console[_0x35c724(0xd98)](_0x35c724(0x757),_0x3b30aa),showMessage(_0x35c724(0xa75));}}else{if(_0x4cf1a4){const _0x43cf9a=_0x4cf1a4['dataset']['id'];showColorPalette(_0x4cf1a4,_0x43cf9a);}else{if(_0xcb201c){const _0xbae02e=_0xcb201c['dataset']['id'];_0xbae02e===_0x35c724(0x3a3)?showStarredProjectView():(currentProjectId=_0xbae02e,await loadProjectDetails(currentProjectId),showView(_0x35c724(0x3f3)));}else{if(_0x352918){const _0x3f1290=_0x352918[_0x35c724(0xb42)]['id'],_0xbd16f0=_0x352918['dataset']['name'];showConfirmation(_0x35c724(0xbb0)+_0xbd16f0+_0x35c724(0x613),()=>handleDeleteProject(_0x3f1290));}}}}}),projectList['addEventListener']('dragstart',_0x5034c1=>{const _0x29aa10=_0x1dab5f,_0x60bf6d=_0x5034c1[_0x29aa10(0x230)]['closest'](_0x29aa10(0x18d));_0x60bf6d&&_0x60bf6d[_0x29aa10(0xe19)][_0x29aa10(0x27c)](_0x29aa10(0x1e8));}),projectList[_0x1dab5f(0x264)](_0x1dab5f(0x79b),_0x3650a4=>{const _0x12a9f6=_0x1dab5f,_0x82ddb1=_0x3650a4[_0x12a9f6(0x230)][_0x12a9f6(0xc75)]('.project-card-container');_0x82ddb1&&_0x82ddb1['classList'][_0x12a9f6(0x677)]('opacity-50');}),projectList[_0x1dab5f(0x264)](_0x1dab5f(0x495),_0x29326c=>{const _0x2450ec=_0x1dab5f;_0x29326c[_0x2450ec(0xc2b)]();const _0x27c95c=document[_0x2450ec(0xb19)]('.project-card-container.opacity-50');if(!_0x27c95c)return;const _0x51c49b=getDragAfterElement(projectList,_0x29326c[_0x2450ec(0x95e)]);_0x51c49b==null?projectList['appendChild'](_0x27c95c):projectList[_0x2450ec(0xdba)](_0x27c95c,_0x51c49b);}),projectList[_0x1dab5f(0x264)]('drop',_0x5d8a0d=>{const _0xb81220=_0x1dab5f;_0x5d8a0d[_0xb81220(0xc2b)]();const _0x4ad62f=[...projectList[_0xb81220(0x99b)](_0xb81220(0x202))][_0xb81220(0xdc6)](_0x22570c=>_0x22570c[_0xb81220(0xb42)]['id']);saveProjectOrder(_0x4ad62f);});function renderBehaviorLog(_0x1b8780){const _0x50eeba=_0x1dab5f,_0x542342=document[_0x50eeba(0x242)](_0x50eeba(0xacc));if(!_0x542342)return;const _0x3a4f5b=_0x1b8780[_0x50eeba(0x3be)](_0x485447=>_0x485447[_0x50eeba(0x233)]&&_0x485447['behaviorLog'][_0x50eeba(0x283)]>0x0);if(_0x3a4f5b[_0x50eeba(0x283)]===0x0){_0x542342['innerHTML']=_0x50eeba(0xc00);return;}let _0x179966='';_0x3a4f5b[_0x50eeba(0xbdf)](_0x854f49=>{const _0x4c52d7=_0x50eeba;_0x179966+=_0x4c52d7(0x148)+_0x854f49[_0x4c52d7(0xcf3)]+_0x4c52d7(0x96f),_0x854f49['behaviorLog'][_0x4c52d7(0xa23)]((_0x2e9841,_0x424472)=>new Date(_0x424472[_0x4c52d7(0x193)])-new Date(_0x2e9841[_0x4c52d7(0x193)]))['forEach'](_0x3dacee=>{const _0x33d0c0=_0x4c52d7,_0x11ddbc=new Date(_0x3dacee[_0x33d0c0(0x193)])[_0x33d0c0(0x255)](_0x33d0c0(0x8c1),{'dateStyle':_0x33d0c0(0x86c),'timeStyle':'medium'});_0x179966+=_0x33d0c0(0x709)+_0x3dacee['attemptNumber']+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x11ddbc+_0x33d0c0(0xc25);}),_0x179966+=_0x4c52d7(0x71e);}),_0x542342[_0x50eeba(0x90d)]=_0x179966;}function getDragAfterElement(_0x5212b6,_0x479233){const _0x6c2751=_0x1dab5f,_0x16e740=[..._0x5212b6[_0x6c2751(0x99b)](_0x6c2751(0x8b3))];return _0x16e740[_0x6c2751(0xbab)]((_0x3f617b,_0x4d3595)=>{const _0x3b90f8=_0x6c2751,_0x1c71ca=_0x4d3595['getBoundingClientRect'](),_0xf90a11=_0x479233-_0x1c71ca[_0x3b90f8(0x14b)]-_0x1c71ca['height']/0x2;return _0xf90a11<0x0&&_0xf90a11>_0x3f617b[_0x3b90f8(0x5c0)]?{'offset':_0xf90a11,'element':_0x4d3595}:_0x3f617b;},{'offset':Number[_0x6c2751(0xcd4)]})[_0x6c2751(0x607)];}async function saveProjectOrder(_0x34d65c){const _0x152fb0=_0x1dab5f,_0x40e213=doc(db,_0x152fb0(0x192),_0x152fb0(0x64f));try{await setDoc(_0x40e213,{'projectOrder':_0x34d65c},{'merge':!![]});}catch(_0x46b2ae){console[_0x152fb0(0xd98)](_0x152fb0(0x247),_0x46b2ae),showMessage(_0x152fb0(0x9d5));}}async function logBehaviorEvent(_0x1c8438,_0xea226c={}){const _0x1e8a13=_0x1dab5f;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x1e8a13(0x1c8)](_0x1e8a13(0x617));return;}const _0x56082b=doc(db,_0x1e8a13(0xb99)+appId+_0x1e8a13(0x5a0)+currentQuizData['id']+'/submissions',currentStudentName),_0x10ce20={'event':_0x1c8438,'timestamp':new Date()[_0x1e8a13(0x97b)](),..._0xea226c};try{await updateDoc(_0x56082b,{'behaviorLog':arrayUnion(_0x10ce20)}),console['log']('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+'\x20สำเร็จ');}catch(_0x4f3049){_0x4f3049[_0x1e8a13(0xace)]===_0x1e8a13(0x6ba)?console[_0x1e8a13(0x1c8)](_0x1e8a13(0x4c4)+currentStudentName+_0x1e8a13(0x3b6)):console[_0x1e8a13(0xd98)](_0x1e8a13(0x998),_0x4f3049);}}function getScoreTier(_0x16977d,_0x365261){const _0x43dc8f=_0x1dab5f;if(_0x365261===0x0){if(_0x16977d===0x0)return{'text':_0x43dc8f(0xb8f),'icon':'⏳'};return{'text':_0x43dc8f(0xb82),'icon':'😥'};}const _0x38c68d=_0x16977d/(_0x365261===0x0?0x1:_0x365261);if(_0x38c68d===0x1)return{'text':_0x43dc8f(0x99e),'icon':'👑'};if(_0x38c68d>=0.7)return{'text':'(ตามมาติดๆ)','icon':'🔥'};if(_0x38c68d>=0.4)return{'text':'(กำลังไล่ตาม)','icon':'🏃'};return{'text':'(พยายามอยู่)','icon':'😥'};}function calculateMeanAndStdDev(_0x36a3dc){const _0x12e0f2=_0x1dab5f;if(_0x36a3dc['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x8ad663=_0x36a3dc[_0x12e0f2(0xbab)]((_0x588746,_0x5dacfb)=>_0x588746+_0x5dacfb,0x0)/_0x36a3dc[_0x12e0f2(0x283)];if(_0x36a3dc['length']===0x1)return{'mean':_0x8ad663,'stdDev':0x0};const _0x10e292=Math[_0x12e0f2(0x642)](_0x36a3dc[_0x12e0f2(0xdc6)](_0x3d9128=>Math[_0x12e0f2(0xced)](_0x3d9128-_0x8ad663,0x2))[_0x12e0f2(0xbab)]((_0x1c70a0,_0x3f1631)=>_0x1c70a0+_0x3f1631,0x0)/(_0x36a3dc[_0x12e0f2(0x283)]-0x1));return{'mean':_0x8ad663,'stdDev':_0x10e292};}function calculateZScore(_0x43c19c,_0x59ec6e,_0x3ff3a3){if(_0x3ff3a3===0x0)return 0x0;return(_0x43c19c-_0x59ec6e)/_0x3ff3a3;}function calculateTScore(_0x524872){return 0xa*_0x524872+0x32;}function showStarredProjectView(){const _0x7a1f92=_0x1dab5f;currentProjectId=_0x7a1f92(0x214),currentProjectData=null,projectTitle[_0x7a1f92(0xafa)]=_0x7a1f92(0xd0e),projectIdDisplay[_0x7a1f92(0xafa)]='pinned-items',showView(_0x7a1f92(0x3f3)),manageTab[_0x7a1f92(0xe19)][_0x7a1f92(0x27c)](_0x7a1f92(0x414)),leaderboardTab['classList'][_0x7a1f92(0x27c)]('hidden'),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x500d06){const _0x1871fd=_0x1dab5f,_0x52efb6=doc(db,_0x1871fd(0xb99)+appId+'/public/data/projects',_0x500d06),_0x1e4cff=await getDoc(_0x52efb6);if(_0x1e4cff['exists']()){manageTab[_0x1871fd(0xe19)][_0x1871fd(0x677)](_0x1871fd(0x414)),leaderboardTab['classList'][_0x1871fd(0x677)](_0x1871fd(0x414)),currentProjectData=_0x1e4cff['data'](),projectTitle[_0x1871fd(0xafa)]=currentProjectData[_0x1871fd(0x7c8)],projectIdDisplay['textContent']=_0x500d06;const _0x38d52e=currentProjectData['settings']||{};document[_0x1871fd(0x242)]('shuffle-setting-select')[_0x1871fd(0xbfb)]=_0x38d52e[_0x1871fd(0x647)]||_0x1871fd(0x7d3);const _0x4a025d=document[_0x1871fd(0x242)](_0x1871fd(0x5e0));_0x4a025d[_0x1871fd(0xa7e)]=_0x38d52e['showInStudentDashboard']!==![];const _0x7b2cdd=document['getElementById'](_0x1871fd(0xd27)),_0x35c964=document['getElementById'](_0x1871fd(0x873)),_0x2ed922=document['getElementById'](_0x1871fd(0x5d5)),_0x1d0f2d=_0x38d52e[_0x1871fd(0x43d)]||![];_0x7b2cdd[_0x1871fd(0xa7e)]=_0x1d0f2d,_0x2ed922[_0x1871fd(0xbfb)]=_0x38d52e['passcode']||'',_0x35c964[_0x1871fd(0xe19)][_0x1871fd(0x8ff)](_0x1871fd(0x414),!_0x1d0f2d),_0x7b2cdd[_0x1871fd(0x9da)]=()=>{const _0x1403f3=_0x1871fd;_0x35c964['classList'][_0x1403f3(0x8ff)]('hidden',!_0x7b2cdd[_0x1403f3(0xa7e)]);},document[_0x1871fd(0x242)](_0x1871fd(0xb5b))[_0x1871fd(0xa7e)]=_0x38d52e[_0x1871fd(0x627)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x500d06),listenForProjectQuizzes(_0x500d06),listenForStudentProfiles(_0x500d06);}else showMessage(_0x1871fd(0x65e)),showView(_0x1871fd(0x946));}async function handleResetProjectOrder(){const _0x155f5f=_0x1dab5f,_0x314072=doc(db,_0x155f5f(0x192),_0x155f5f(0x64f));try{await setDoc(_0x314072,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x155f5f(0x1fa));}catch(_0x3ee969){console[_0x155f5f(0xd98)](_0x155f5f(0xaec),_0x3ee969),showMessage(_0x155f5f(0x2f5));}}async function handleTogglePinProject(_0x4320ec){const _0xfa06e4=_0x1dab5f;if(!_0x4320ec)return;const _0x53d49c=doc(db,'artifacts/'+appId+_0xfa06e4(0x636),_0x4320ec);try{const _0x35ba20=await getDoc(_0x53d49c);if(_0x35ba20['exists']()){const _0x394b83=_0x35ba20[_0xfa06e4(0x1f1)]()[_0xfa06e4(0x36c)]||![];await updateDoc(_0x53d49c,{'isPinned':!_0x394b83});}}catch(_0x530a9f){console['error']('Error\x20toggling\x20pin\x20status:',_0x530a9f),showMessage(_0xfa06e4(0xa75));}}async function handleDeleteProject(_0xf89a5b){const _0x2a12a6=_0x1dab5f;try{const _0x5d5e2f=writeBatch(db),_0x1137df=collection(db,_0x2a12a6(0xb99)+appId+_0x2a12a6(0x48d)),_0x392159=query(_0x1137df,where(_0x2a12a6(0x1cf),'==',_0xf89a5b)),_0x5d2647=await getDocs(_0x392159);for(const _0x18829e of _0x5d2647[_0x2a12a6(0x5ab)]){const _0x4e36ae=collection(db,_0x2a12a6(0xb99)+appId+_0x2a12a6(0x5a0)+_0x18829e['id']+'/submissions'),_0xf2c047=await getDocs(_0x4e36ae);_0xf2c047['forEach'](_0x23c98c=>{const _0x4ec13f=_0x2a12a6;_0x5d5e2f[_0x4ec13f(0x9c2)](_0x23c98c[_0x4ec13f(0x2c2)]);}),_0x5d5e2f[_0x2a12a6(0x9c2)](_0x18829e[_0x2a12a6(0x2c2)]);}const _0x50b300=collection(db,_0x2a12a6(0xb99)+appId+'/public/data/projects/'+_0xf89a5b+'/studentProfiles'),_0x4ed19f=await getDocs(_0x50b300);_0x4ed19f[_0x2a12a6(0xbdf)](_0x572f12=>{const _0x5a283e=_0x2a12a6;_0x5d5e2f[_0x5a283e(0x9c2)](_0x572f12['ref']);});const _0x44ea1d=doc(db,_0x2a12a6(0xb99)+appId+'/public/data/projects',_0xf89a5b);_0x5d5e2f[_0x2a12a6(0x9c2)](_0x44ea1d),await _0x5d5e2f[_0x2a12a6(0x45c)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView('admin-dashboard');}catch(_0x4827c4){console[_0x2a12a6(0xd98)](_0x2a12a6(0xcd0),_0x4827c4),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x1dab5f(0x242)](_0x1dab5f(0xccf))['addEventListener']('click',async()=>{const _0x3a4fa3=_0x1dab5f;if(!currentProjectId)return;const _0x1543e1={'defaultNumQuestions':parseInt(document[_0x3a4fa3(0x242)]('num-questions')[_0x3a4fa3(0xbfb)]),'defaultNumChoices':parseInt(document[_0x3a4fa3(0x242)](_0x3a4fa3(0x7fa))[_0x3a4fa3(0xbfb)]),'defaultPassingScore':parseInt(document[_0x3a4fa3(0x242)](_0x3a4fa3(0x94e))[_0x3a4fa3(0xbfb)]),'resultsDisplay':document[_0x3a4fa3(0x242)](_0x3a4fa3(0xa3e))['value'],'shuffleSetting':document['getElementById'](_0x3a4fa3(0x2c1))[_0x3a4fa3(0xbfb)],'timerMode':document[_0x3a4fa3(0x242)](_0x3a4fa3(0x895))[_0x3a4fa3(0xbfb)],'timerDuration':parseInt(document[_0x3a4fa3(0x242)](_0x3a4fa3(0x67f))[_0x3a4fa3(0xbfb)]),'isConfidenceScoringEnabled':document[_0x3a4fa3(0x242)](_0x3a4fa3(0xb5b))[_0x3a4fa3(0xa7e)],'confidenceMode':document['getElementById'](_0x3a4fa3(0xb01))['value']};try{const _0x100b58=doc(db,_0x3a4fa3(0xb99)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x100b58,{'settings':_0x1543e1}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x5dc2d9){console['error']('Error\x20saving\x20settings:',_0x5dc2d9),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function _0x25cb(){const _0x54d572=['กรุณาป้อนรหัสแบบทดสอบ','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','_opt0\x22>ใช่</label></div>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','cancel-wager-btn','รูปแบบการให้เหตุผล','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','cancel-move-quiz-btn','getPage','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>','scoresCalculated',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','รากที่สองและที่สาม','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','2-digit','.compare-results-btn','confirm-rename-quiz-btn','.quiz-bank-try-btn','preTestId','save-quiz-btn','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','อยู่ในสาระการเรียนรู้ใด:','Error\x20calling\x20Gemini\x20API:','input[name=\x22syncVariant\x22]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','asc','\x20ชุดสำเร็จ!','</td>','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','zIndex','open-scratchpad-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22>👑</span>','student-quiz-leaderboard-tab','\x20รายการ...','\x20คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closest','API\x20call\x20failed','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','interesting-stats-wrapper','freeMarketEntryUsed_q','quiz-editor-modal','ผ่านฉลุย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','summary','cancel-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<div\x20class=\x22flex\x20items-center\x20gap-2\x22>','คนดีศรีสยาม','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','/public/data/customMathTopics','/questionBank','link-url-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','fileShortcutsConfig','ข้อที่\x20','bp-project-title','.delete-file-shortcut-tab-btn','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','เกิดข้อผิดพลาดในการบันทึก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-600\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>⏳\x20คุณมีเวลาโบนัสในข้อนี้!</div>','lower_group_count','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','active','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','.edit-file-shortcut-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','per-question-timer-container','groups','live-game-view','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-bp-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','#FEF3C7','gameVariant','newOptionsPayload','fileShortcutTabs','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','การคูณ','sync-player-management','.delete-question-editor-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isJinxed','สร้างแบบทดสอบ','default-1','.topic-row','body','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','sync-timer-countdown','leaderboard-quiz-tab-btn','\x22\x20data-target-tab-id=\x22','\x22\x20name=\x22team_answer\x22\x20value=\x22','team-quiz-topic','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','นกฮูกกลางวัน','subTopic','teachingContent','กำลังเตรียมไฟล์...','ตัวประกอบและตัวประกอบเฉพาะ','\x22\x20(ใส่ตัวเลข):\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เลือกโปรเจคเพื่อบันทึก','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','สร้างคำถามใหม่\x201\x20ข้อ\x20','reveal_at_end','SAFETY','file-tab','bg-gray-100\x20opacity-70','cloneNode','cancel-quiz-bank-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','bp-reference-file-url','timerMode','ฮิสโตแกรม','min','admin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-select','bg-white\x20text-gray-800','ดูผลสรุปสุดท้าย','project-name-input','trail-tool-btn','save-settings-btn','Error\x20deleting\x20project:','ส่งคำตอบ','bg-yellow-200','max','NEGATIVE_INFINITY','blueprint-project-manager-view','<p><strong>คำตอบของคุณ:</strong>\x20','quizId','removed','ไม่มีคำอธิบาย','ย้าย','สิงโตยิ้ม','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>',';\x22\x20data-tooltip-target=\x22tooltip-','Error\x20generating\x20from\x20parallel\x20test\x20file:','MathJax\x20typeset\x20error\x20(analytics):','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22answer-space\x22></div>','.group\x5c/dropdown','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','เกิดข้อผิดพลาดในการเปลี่ยนสี','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','promptFeedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','file-shortcut-editor-modal','pow','export-pdf-btn','โลมาบิน','ไม่พบข้อมูลการจับคู่','💰\x20โหมดเดิมพันทำงานอยู่!','text-red-900','studentName','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การปัดเศษและประมาณค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ondrop','🛡️','newOptions','leaderboard-quiz-tab-content','รูปหลายเหลี่ยมและมุมภายใน','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','แคลคูลัสเบื้องต้น','currentQuestionIndex','ระยะทางและจุดกึ่งกลาง','flex','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','\x20ข้อ...','บันทึกแบบทดสอบสำเร็จแล้ว!','[*]','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','พลังคลื่นเต่า','.topic-actions-view','ปริมาตรรูปทรงสามมิติ','/preferences/main','แบบทดสอบที่ติดดาว','bold','generate-from-link-btn','worksheet-topic-input','โจรสลัดอวกาศ','answer-grid-container','bg-yellow-300\x20text-yellow-900\x20font-bold','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ondragover','worksheet-input-area','per-question-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','.correct-response-input','bg-green-100\x20text-green-800','Team\x20Quiz','label','workerSrc','enable-passcode-checkbox','cancel-parallel-shortcut-edit-btn','bank-quiz-list','wasForced','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','Error\x20rendering\x20student\x20progress:','export-leaderboard-pdf-btn','input[type=\x22checkbox\x22]:checked','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','.topic-actions-edit','การหารทศนิยม','ตั้งเวลา\x20(เปิด)','fill_in_with_choices','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataIndex','keys','/studentProfiles','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','.scratchpad-content-wrapper','file-shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','<span>','admin-view',')</button>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','Error\x20opening\x20quiz\x20editor:','นินจาชาเขียว','จับคู่เพื่อเปรียบเทียบผล','application','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แบบปรนัย\x204\x20ตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x22>จาก:\x20','back-to-dashboard-from-bp-btn','link-input-area','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','isForcedConfident','จันทร์เจ้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','ลิมิต','random','text-yellow-800','ยืนยันการกระทำ','commonMistakes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','กรุณากรอกข้อมูลให้ครบทุกช่อง','firstScore','รายงานผลคะแนน','Error\x20loading\x20user\x20preferences:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.question-editor-item:last-of-type','\x20ใหม่...','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','findIndex','generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','เริ่มกิจกรรม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','disabled','number','catch','Error\x20confirming\x20players:','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','isRemedial','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','file.txt','cancel-confidence-btn','cancel-team-selection-btn','blueprint-project-list','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','cutOne','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','เรขาคณิต','clear-all-links-btn','load-quiz-btn','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20updating\x20points:','correctAnswerIndex','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','.quiz-settings-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','.ideal-answer-input','reset-project-order-btn','confirm-confident','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','competition','webkitRequestFullscreen','shortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.cancel-edit-topic-btn','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','สัญกรณ์วิทยาศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','เงินงวด\x20(อนุกรมเงินงวด)','close-student-rankings-btn','line-height:\x201.3;\x20min-width:\x200;','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','error','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','manual-bp-content','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','abs','เกิดข้อผิดพลาดในการนำผู้เล่นออก','fill_in_no_choices','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','ผู้พิชิตดาว','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','endTime','manual-create-blueprint-btn','.tab-name-display','Enter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','/users/','.doc','additional-file-shortcuts-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','ลบแบบทดสอบสำเร็จแล้ว','modal-passing-score-input','blueprint-tab','cancel-game-start-btn','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','confidence-scoring-toggle','clearRect','แบบเติมคำตอบ','sin','Error\x20verifying\x20answers:','ดีเทอร์มิแนนต์','student-project-leaderboard-content','insertBefore','bg-[#EF4444]\x20text-white\x20font-bold','confidence-input-',')\x22>','.ai-content\x20li','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-blueprint-as-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','summary_chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','ระบบสมการเชิงเส้นสองตัวแปร','sync-short-answer-input','ผิด','text-blue-700\x20bg-blue-100','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','split','Failed\x20to\x20get\x20standardized\x20topic:','pollUsedThisTurn','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','loader-text','กรุณาเลือกโปรเจคปลายทาง','ลบผลสอบของ\x20','confirm-delete-btn','confidence-modal','touchcancel','pen-tools-group','Error\x20saving\x20file\x20shortcut:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidenceMode','แมวเก้าชีวิต','ฟังก์ชันค่าสัมบูรณ์','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','ไม่พบข้อมูลผู้เล่น','📊\x20สถิติการตอบ\x20(จากผู้เล่น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','typesetPromise','preTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','goto-next-question-btn','18474PeCvWX','พบ\x20Sync\x20Game!','Error\x20regenerating\x20question\x20in\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','checkbox','use-powerup-buyTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-move-btn','(คัดลอก)\x20','กฎของไซน์','.lastAnswerValue','createdAt','Error\x20saving\x20shortcut:','separate-by-content-from-file-checkbox','bulk-confidence-mode-select','#FEE2E2','viewBox','left','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','postScore','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','ไม่พบข้อมูลข้อสอบหลังเรียน','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','project-title','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','linkedQuizIds','handleGeneratePracticeTest','topic_','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','Error\x20calculating\x20final\x20scores:','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','.group','</p>','btn','ไม่ได้ตอบ','topic','ปิดใช้งาน','join','group','#26890c','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','.group\x5c/dropdown-file','bg-gray-400','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','classList','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','\x22.\x20Ideal\x20Answer:\x20\x22','fill_in_the_blank','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x22\x20สำเร็จ!','manual-blueprint-modal','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','การแปลงรูปอัตลักษณ์','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','player-count','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','textAlign','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','fontSize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','input[name=\x22team_player\x22]:checked','timed','manage-tab','update-old-quizzes-btn','.kick-player-btn-sync','raw','\x22\x20data-quiz-id=\x22','คำเตือน\x20(','quizType','\x27,\x20\x27','splice','admin-testing','close','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','usedBuyTime','ดอทโปรดักต์\x20(dot)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','clientX','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','doc','.group\x5c/dropdown-parallel','tooltipTarget','complexityValue','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','ปลาทูคะนอง','BOOLEAN','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</th>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-matching-select','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','สมการตรีโกณมิติ','กำลังสร้างรูปภาพ...','ยกเลิกการใช้ไอเทม','ปุ่มลัดทั้งหมด','</span></div>','global-quiz-search-input','per-q-countdown','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','deselect-all-topics-btn','Error\x20adding\x20custom\x20topic:','border-green-300\x20bg-green-50','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','close-lesson-plan-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','unshift','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','top','passcode','reviewQuestionIndex','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','<li>','text-gray-200','ศูนย์','lesson-loader','Powerup\x20use\x20failed:','New\x20question\x20detected.\x20Cleaning\x20up.','from','price','Failed\x20to\x20end\x20group\x20mode\x20game:','math-topics-checkbox-container','default-','33Jiddbq','pairedQuizId','.move-parallel-shortcut-dropdown','comparison-overall-content','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','3325DitalA','update','ผู้เล่น\x20','question-complexity-select','practiceProblems','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','28px','คนโสด','Copy\x20command\x20failed','bg-black/10','กรุณาสร้างบทเรียนก่อน','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','404\x20Not\x20Found','fiftyFifty','.remove-file-shortcut-from-tab-btn','📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!','modal-timer-duration-label','.start-live-race-btn','\x20(Player)\x20(ID:\x20','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pen-color-btn','fill','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','</div><div\x20class=\x22space-y-2\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','Error\x20updating\x20quiz\x20settings:','บันทึกการแก้ไข','scrollHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-plan-modal-footer-btn','parseFromString','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','กรุณาใส่ชื่อใหม่','.color-palette-btn','onblur','#view-rankings-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','text-input-area','bg-teal-500\x20hover:bg-teal-600\x20text-white','.project-card-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','export-pdf-modal','student-team-selection-view','globalSettings','timestamp','topic-input','อัตราและอัตราหน่วย','...\x22)?','ตัวเลือก\x20ก','confident','จำนวนข้อ:','การหาร','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','<tr><td\x20colspan=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20parallel\x20test\x20from\x20bank:','lesson-view-content','maxHeight','student-passcode-input','240','groups.','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','สมการยกกำลัง','.live-answer-btn','quiz-status-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','ไม่พบโปรเจคที่ต้องการลบ','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-quiz-topic','blueprintShortcuts','.remove-shortcut-from-tab-btn','bg-indigo-600\x20hover:bg-indigo-700','bg-green-200\x20text-green-800','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','selectedTopicNames','scale','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','scheduled','ตรวจทานเฉลยเสร็จสิ้น!','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','showAnswerInAnonymous','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','parts','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','bp-modal-difficulty-level-select','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','thead','modal-adaptive-quiz-checkbox','warn','rgba(59,\x20130,\x20246,\x200.7)','leaderboard-quiz','ส้มตำปูปลาร้า','game-start-mode','presentation-ai-result','anonymous','projectId','modal-shuffle-select','border-indigo-500\x20text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','q-explanation-','sync-timer-duration-container','หน่วยมวล/น้ำหนักและการแปลง','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','มัธยฐาน','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','request','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','ไม่พบแบบทดสอบในระบบเลย','destroy','.delete-custom-topic-btn','30px','ต้นฉบับทั้งหมด','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','export-image-btn','พบข้อสอบ\x20','opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','hint-btn','documentElement','Error\x20loading\x20blueprint\x20projects:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','nickname-input','<div\x20class=\x22my-6\x22>','data','ไม่พบไฟล์\x20Test\x20Blueprint','isAdaptive','startsWith','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-view-modal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','รีเซ็ตลำดับโปรเจคแล้ว','bg-green-500','#F59E0B','.ai-content\x20blockquote','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','upperGroupNames','.project-card-container[data-id]','.move-parallel-shortcut-item','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','pointsLastQuestion','การสร้างรูปด้วยวงเวียน–สันตรง','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','รอผู้ควบคุมไปข้อต่อไป...','modal-confidence-mode-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FIRST_TRY_ACE','#ffffff','push','numQuestions','.edit-parallel-shortcut-btn','transition','ความชันเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred','s;\x22\x20title=\x22','ทศนิยม\x20(ค่าประจำหลัก)','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22checkbox\x22]','parallel-shortcut-id-input','หยุดระบบจับเวลาหรี่หน้าจอ','previousElementSibling','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','jinx','.buy-item-btn','\x5cge','\x20จุด','ระยะเวลา\x20(วินาที):','newCorrectIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','end-game-btn','transition-all','close-comparison-modal-footer-btn','\x20จุดเรียบร้อยแล้ว','reference-pdf-upload','difficulty-level-select','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','ความคาดหมาย\x20(Expected\x20value)','projectView','\x20วินาที','.toggle-actions-btn','results-tab-content','target','กรุณาเลือกคำตอบของกลุ่ม','removeEventListener','behaviorLog','\x22\x20data-topic=\x22','คะแนนเฉลี่ย','ดีมาก','fullscreenElement','Invalid\x20response\x20structure\x20from\x20API.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22status-option\x22]:checked','กรุณาตั้งชื่อแท็บใหม่:','[data-topic-id]','cancel-shortcut-edit-btn','check-presentation-answer-btn','text-blue-800','screen_exit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','getElementById','p-2\x20bg-black/10\x20rounded-md','):\x20','ฟังก์ชันลอการิทึม','.application-options\x20button','Error\x20saving\x20project\x20order:','members','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','.bp-unlink-quiz-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionDisplayedAt','timeBonusThisQuestion','blueprint-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','[data-topic-id=\x22','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เส้นตรง:\x20รูปแบบสมการ','checkAnswer','toLocaleString','confirm-team-players-btn','</p><p><strong>เฉลย:</strong>\x20','mouse','bp-modal-num-choices','เน็ตไอดอล','</h3>','รายการนี้','answerText','bp-modal-question-complexity-select','\x20/\x20','table','ห.ร.ม.\x20(GCD)','topics.','custom-math-topic-input','addEventListener','สายลับจับบ้านเล็ก','เรเดียนและการแปลงหน่วย','\x20คะแนน</span></div>','.\x20แต่ละข้อมี\x20','นอนไม่พอ','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','.confidence-choice-btn','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','rename-quiz-modal','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','save-bp-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','style','disabled\x20bg-gray-400\x20cursor-not-allowed','mjx-container','\x5csqrt{$1}','confirmation-modal','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','.question-editor-item[data-q-index=\x22','thead\x20.sortable-header','set','ใช้\x20\x22คำสาป\x22\x20กับ\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','secondChance','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','next-sync-question-btn','isFinished','/submissions','length','Error\x20starting\x20sync\x20game:','confirm-game-start-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','Error\x20deleting\x20shortcut:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','.delete-student-btn','manage-players-btn','learningGaps','พื้นที่สามเหลี่ยม','ศิลปิน','.edit-points-btn','ผู้เชี่ยวชาญ','พื้นที่ผิวรูปทรงสามมิติ','add-parallel-shortcut-tab-btn','destination-out','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bottom','รอ...','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','<p\x20class=\x22font-bold\x20text-sm\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','text-gray-300','bulk-quiz-settings-btn','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','json','textarea[name=\x22team_answer\x22]','correct','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','📡\x20ตรวจพบผู้เล่นที่เป็นภัยคุกคาม:\x0a\x0a','presentation-short-answer-input','bg-blue-100','blockReason','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','point','NUMBER','binom','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','สายตาสั้น','blueprint-upload-input','\x5cpm','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','ระยะเวลา\x20(นาที):','แบบทดสอบฝึกฝนเรื่อง:\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','powerups','ondragstart','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','กรุณาป้อนหัวข้อสำหรับใบงาน','สอบซ่อม','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่','การกระจายและการจัดหมู่','shuffle-setting-select','ref','ท้องฟ้า','Firebase\x20initialization\x20failed:','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','insertAdjacentHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','highlighter-size-value','presentation-explanation','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','add-student-btn','topics','สร้างคำถามแบบใช่/ไม่ใช่','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','justification','เทพทรู','blueprint-shortcut-container','\x22\x20ให้เป็นคำถามประเภท\x20\x22','readAsArrayBuffer','```','scheduled_pending','ปริพันธ์จำกัด','27411472','status','inactive','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','shortcuts-loading-msg','get','ไม่มีผู้ตอบตัวเลือกนี้','createObjectURL','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','generate-from-parallel-test-btn','สายลมแห่งโชคชะตา','⏳\x20ซื้อเวลา','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(สำหรับ\x20','ธอร์ค้อนบิน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getScreenCTM','100%','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','open','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parallelShortcutTabs','topicName','classStrengths','input[name=\x22syncVariant\x22]:checked','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','จัดการ','save-project-name-btn','อนุพันธ์:\x20กฎลูกโซ่','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','bg-red-200\x20text-red-800','.totalPoints','game-start-quiz-id','teacherTips','จำนวนและการดำเนินการ','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','perfect_score_status','เกิดข้อผิดพลาดในการลบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','1986588tpbBBt','ปล่อยพลัง','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','leaderboard','save-quiz-edits-btn','ยูทูปเบอร์ฝึกหัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','backgroundColor','save-parallel-shortcut-btn','</div>','both','playerName','นักล่าฝัน','.use-hidden-shortcut-btn','.shortcut-list-item','#results-table','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','.admin-try-quiz-list-btn','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','tfrac','selected-answer-index-hidden-wager','bp-modal-include-images-checkbox','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','cdot','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','ownerSVGElement','bank-quiz-search-input','student-project-leaderboard-tab','results-tab','การแยกตัวประกอบ','\x20\x0a\x20\x20\x20\x20','touches','isNormalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','div[data-question-index=\x22','ตารางความถี่','\x22,\x20','เกิดข้อผิดพลาดในการเข้าตลาดมืด','Error\x20deleting\x20quiz:','parallel-default-1','classic','ข้อต่อไป','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20เป็น\x20','blob','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','color','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ติดซีรีส์','คำถามดิบ:\x20\x22','.generate-content-btn','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','การยืนยันตัวตนล้มเหลว','shortcuts','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','.answeredCurrentQuestion','trail','#000000','ฟังก์ชันยกกำลัง','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','bulk-confidence-mode-container','hasOwnProperty','modal-results-display-select','temp-loader-text-results','กำลังดึงไฟล์อ้างอิงจากลิงก์...','#add-question-editor-btn','</span></td>','points','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','baseVal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','onload','ดาวสภา','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','<br>','latestScore','file-upload-input','image/png','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','check-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','ยังไม่เต็มนะ','\x20in\x20all\x20blueprint\x20projects.','ข้าวมันไก่พิเศษ','visible','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','.auto-resize-textarea','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','targetId','fas\x20fa-bookmark','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isPinned','N/A','Error\x20fetching\x20projects\x20for\x20move:','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','<i\x20class=\x22fas\x20fa-save\x22></i>','generate-worksheet-btn','พาราโบลา','hiddenOptions_q','.delete-parallel-shortcut-btn','visibilitychange','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','applicationData','onkeydown','confirm-wager-btn','ไม่สามารถสร้างโปรเจคได้','อนุพันธ์:\x20กฎพื้นฐาน','.remove-parallel-shortcut-from-tab-btn','Error\x20saving\x20lesson\x20to\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','global-activity-quiz-list','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','options','quiz-id-input','log','student-progress-view','market-item-list','ยืนยันและอัปเดตทั้งหมด','additional-file-shortcuts-modal','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','การนับ','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','replace','#open-additional-file-shortcuts-btn','questionId','correctResponse','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','comparison-individual-content','Group\x20Mode','\x20\x20\x20-\x20','quiz','ครัวซองต์','wager-amount-display','<option\x20value=\x22','arrayBuffer','ตัวแทนแห่งดวงจันทร์','wasConfident','round','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','#D1FAE5','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','จำนวนนักเรียน','starred-project','jspdf','stringify','answerValue','.pair-quiz-btn','ไอติมทอด','Failed\x20to\x20apply\x20jinx:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-export-pdf-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','draggable-text','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','strategyScan','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด',':</span><span>','<div\x20style=\x22','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','.delete-submission-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','score','confirm-quiz-status-btn','md:col-span-1','filter','finishReason','<button\x20data-tab-id=\x22','/public/data/blueprintProjects','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-close-btn','(ไม่มีชื่อ)','กำลังค้นหากิจกรรม...','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','restore','wagerMultiplier','.topic-category','Error\x20toggling\x20star\x20status:','drill-feedback','highlighter-tool-btn','Error\x20fetching\x20project\x20quizzes:','name_asc','on_fire','เปลี่ยนชื่อโปรเจคสำเร็จ','live-game','results-quiz-id-display','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','auto','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','onclick','lessonPlan','comparison','stepByStepExamples','(ฉบับง่าย)\x20','ก้อนเมฆ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','bg-[#DCFCE7]\x20text-green-900','export-leaderboard-excel-btn','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','analytics-tab-btn','devicePixelRatio','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','tab_','Error\x20starting\x20live\x20race:','behavior-log','\x20ข้อ\x20','shortcutId','.use-hidden-parallel-shortcut-btn','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questions','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','bulk-shuffle-select','project-detail','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','shortcutIds','text-gray-400\x20hover:text-indigo-600','contentEditable','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','date_asc','แก้ไขข้อนี้','Error\x20pairing\x20quizzes:','currentPoints','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','mandatory','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','leaderboard-table-body','analyze-strengths-btn','text-white','นักประดิษฐ์','-options','incorrect','/public/data/syncGames/','quiz-type-select','stopPropagation','save-visibility-settings-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','Error\x20starting\x20group\x20quiz:','option','\x20ชิ้น)','modal-timer-mode-select','</label></div>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','Refunded\x20','ondragend','hidden','removeItem','bp-modal-num-questions','project-dashboard-view','.parallel-shortcut-tab-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','<button\x20data-id=\x22','ไม่ผ่าน','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','type','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','bg-red-500\x20text-white\x20font-bold','mode','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','multiple_choice','idealAnswer','bp-modal-shuffle-setting-select','href','ยังไม่ส่ง','modal-timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','quiz-results','.bp-create-onet-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','confirm-manual-bp-btn','text-red-700','/lessons','quiz-bank-count','startTime','modal-confidence-scoring-checkbox','นักกีฬา','every','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','text-green-600\x20font-bold','txt','pointsLastRound','key','\x0a\x20\x20\x20\x20','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isPasscodeEnabled','includeImages','พบ\x20Team\x20Quiz!','actions-container-','modal-loop-until-pass-checkbox','.duplicate-quiz-btn','export-compact-pdf-btn','questionIndex','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','file-shortcut-url-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-modal','global-activity-modal','ฐานนิยม','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','.pointsLastRound','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','timerDuration','คะแนนเต็ม','text-emerald-800','presentation-scratchpad-btn','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','enable-black-market-checkbox','url','bp-topic-list-container','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','.generate-post-test-btn','ฟังก์ชันกำลังสองและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','first_try_ace','commit','standardTopic','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','</option>','เส้นรอบรูป','reveal-names-btn','toLowerCase','</tr>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-lesson-view-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','_new','game-pin-input','lesson-plan-modal','.topic-name-input','</div>\x0a</div>\x0a','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','localeCompare','memoryContent','</span><span\x20class=\x22font-bold\x22>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','pointer-events-none','lesson-plan-content','endsWith','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','shortcut-reference-url-input','currentTarget','pre-test-checkbox','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','undo-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','live-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','_opt1\x22>ไม่ใช่</label></div>','fa-user-astronaut\x20text-blue-700','div','scores','change','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','student-name-selection-view','<div\x20class=\x22my-2\x22>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','</li>','.bp-open-topic-bank-btn','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','screen','/public/data/quizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<li\x20class=\x22','pinnedProjects','settings','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-500\x20hover:bg-blue-600\x20text-white','สู้ๆ\x20ลองอีกครั้งนะ','dragover','responseSchema','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','.color-palette-popup','แฟนทิพย์','powerupUsed','</span><button\x20data-player-name=\x22','totalPoints','behavior-log-tab-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.delete-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','selected-answer-index-hidden','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','start-sync-game-btn','pen-tool-btn','getItem','use-powerup-cutOne','block','reset-view-btn','answeredCurrentQuestion','ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','open-blueprint-projects-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','quiz-start-time','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','q-image-container-','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','</div></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่มีนักเรียนส่งงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scores-tab-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเต็มลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ไม่พบเอกสารการส่งงานของ\x20','far\x20fa-star','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','ทฤษฎีบทพื้นฐานของแคลคูลัส','comparison-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','generate-from-text-btn','name','show-results-btn','show_pass_fail_only','Export\x20Image\x20Error:','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grid','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','กรุณาใส่ชื่อนักเรียน','analytics-summary-cards','file-shortcut-tabs-nav','หน่วยเวลาและการคำนวณเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-rename-quiz-btn','bg-green-500\x20hover:bg-green-600\x20text-white','transform','แก้ไขหัวข้อสำเร็จ','live-race','parent','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mean','finished','/public/data/syncGames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','width\x2060s\x20linear','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','Auto-cleanup\x20failed:','/public/data/liveGames','leq','.edit-hidden-shortcut-btn','move','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','results-table-container','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','คนคุย','leaderboard-tab-content','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','เกมเมอร์','create-from-bank-btn','instructions','แก้ไขชื่อหัวข้อย่อย:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','back-from-results-btn','เงาปริศนา','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','earned-badges-container','podium','no-projects-msg','padStart','กำลังดึงข้อมูลจากลิงก์...','bulk-loop-until-pass-checkbox','Error\x20fetching\x20student\x20rankings:','parallel-default-2','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','textarea[name=\x22question_single\x22]','lesson-plan-title','submittedAt','.linkedQuizId','parseInline','ไฟล์ลัด\x201','wakeLock','upper_group_count','stroke','POST','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','ไม่ใช่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','พิซซ่าหน้าทุเรียน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','เลือกและบันทึก','.bp-generate-lesson-btn','close-additional-parallel-shortcuts-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','กรุณาเลือกคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','text-red-300\x20hover:text-red-100','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-clear-btn','หมีขั้วโลกใต้','sync-timer-duration-input','contains','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','</p></div>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','ondblclick','fas\x20fa-user-edit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','toFixed','.linkedQuizIds','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','description','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','คู่จิ้น','generate-from-file-btn','สาป','student','generationConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','forceConfident','firstElementChild','strokeStyle','\x20ตัวเลือก)','candidates','exitFullscreen','API\x20Error\x20Response:','.isScored','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','overline','confirm-link-quiz-btn','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x201)','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','submission-status-chart','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','schedule','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','classWeaknesses','undefined','มุมพิเศษ\x2045°-45°-90°','\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20สำเร็จ!','next-question-timed-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','title','แบบทดสอบจากคลังส่วนตัว','resultsSaved','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','#open-additional-shortcuts-btn','text-indigo-600','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','bp-modal-quiz-type-select','topic-quiz-bank-modal','lobby','msRequestFullscreen','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','isCorrect','indexOf','.quiz-bank-parallel-btn','getBoundingClientRect','นำแบบทดสอบออกจากคลังนี้แล้ว','Error\x20saving\x20parallel\x20shortcut\x20config:','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ควรปรับปรุง','visibilityState','pointerType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','Error\x20generating\x20hybrid\x20quiz:','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','empty','-\x20ข้อ\x20','ไม่พบแบบทดสอบ','วงกลม:\x20สมการและสมบัติ','responses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','referenceUrl','#retake-for-improvement-btn','score-distribution-chart','.summary-bar-item','getElementsByTagName','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','dispatchEvent','circle','sync-manage-players-btn','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x20data-id=\x22','per_question','เนื้อหาสำหรับสอน:\x20','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','touchend','ตัวเลือก\x20','save-bp-reference-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','กำลังโหลดคลังข้อสอบทั้งหมด...','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','.lastAnswerIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','เกิดข้อผิดพลาดในการลบหัวข้อ','/public/data/quizzes/','สมการเหตุผล\x20(rational)','submit-group-answer-btn','ราชาคัมแบ็ก',',\x20r=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','underline','modal-timer-duration-container','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','docs','สลับไปโหมดนักเรียน','อสมการเชิงเส้น','อุณหภูมิและการแปลง','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','กำลังอ่านไฟล์อ้างอิง...','.eraser-size-btn','-tab','<h1></h1>','additional-shortcuts-modal','close-additional-file-shortcuts-btn','quiz-leaderboard-table-body','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','submission','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>🌗\x20คุณได้ใช้\x20\x2250:50\x22\x20ไปแล้ว</div>','market-current-points','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','quiz-results-table-body','AI\x20request\x20was\x20blocked.\x20Reason:\x20','offset','scrollX','confidence-choice-btn','text-green-600','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','questionType','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','Error\x20clearing\x20all\x20links:','ยอดนักสืบ','เสือซ่อนเล็บ','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','.text-indigo-200','generated-quiz-actions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','มี\x20Points\x20ไม่เพียงพอ','project-passcode-input','answer','shortcutTabs','#E5E7EB','touchmove','ออฟฟิศซินโดรม','additional-parallel-shortcuts-modal','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','displayName','show-in-student-dashboard-checkbox','scrollIntoView','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fullscreenchange','ดอกเบี้ยทบต้น','การจัดกลุ่มข้อมูล','#confidence-input-','เพื่อนสนิท','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','Leaderboard\x20update\x20transaction\x20failed:\x20','print','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','then','Error\x20unlinking\x20quiz:','behavior-log-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกโปรเจคก่อน','</form>','พีชคณิตและฟังก์ชัน','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','export-lesson-pdf-btn','difficultyValue','.ai-content\x20p','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','font-bold\x20text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สายหมอก','Error\x20submitting\x20team\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','Error\x20updating\x20custom\x20topic:','<div\x20class=\x22loader\x20mx-auto\x22></div>','cancel-quiz-status-btn','.file-shortcut-tab-btn','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','element','not_generated','\x5cle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','พื้นที่สี่เหลี่ยม','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','bg-red-50','join-live-game-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกชื่อของคุณ','คาถาแยกเงาพันร่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','สร้างคำถามแบบเติมคำในช่องว่าง','players','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','เปิดใช้งาน','student-team-join','readAsDataURL','Error\x20submitting\x20answer:','เต่าสายฟ้า','ไม่พบข้อมูลเกม','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','mode-switcher-btn','ส่งแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','.move-shortcut-menu-btn','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','separate-by-content-checkbox','isConfidenceScoringEnabled','pointermove','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','ไม่สามารถโหลดคลังข้อสอบได้','generate-from-topic-btn','อนุพันธ์:\x20ผลคูณ/ผลหาร','#FFFFFF','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','ซามูไรสายเดี่ยว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','สถิติและความน่าจะเป็น','px)\x20scale(','.quiz-bank-item','files','ไม่สามารถโหลดรายการโปรเจคได้','/public/data/projects','source_document.pdf','.flex.justify-between.items-center','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','(ก่อนเรียน)','webkitExitFullscreen','copy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','Error\x20generating\x20lesson\x20plan:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','sqrt','open-sync-scratchpad-btn','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','submissions','file-shortcut-name-input','shuffleSetting','fas\x20fa-star\x20text-yellow-500','live-player-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<div\x20class=\x22flex-1\x22></div>','นักเดินทาง','eraser-tools-group','ceil','dashboardConfig','fontFamily','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','ที่พิมพ์ได้\x20จำนวน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','.submittedAt','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.unpair-quiz-btn','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','math-topic-search-input','เกิดข้อผิดพลาดในการลบนักเรียน','memory','.delete-svg-btn','ไม่พบโปรเจค','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','Re-grade\x20process\x20failed:','editable-text-','onSecondChance','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาพิมพ์คำตอบ','Blueprint\x201','application/pdf','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','วงรี','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x5cdiv','true_false','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','parallel-shortcut_','default-2','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','practice-topic-btn','OBJECT','add-parallel-shortcut-btn','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','remove','pre-test','ไม่พบข้อมูลผู้ใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','startedAt','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-red-100\x20text-red-900','timer-duration-input','deltaY','การบวกทศนิยม','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','pointercancel','retake-quiz-loop-btn','shadowBlur','Error\x20listening\x20for\x20custom\x20math\x20topics:','pin','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างชุดคำถามจับคู่','<option\x20value=\x22\x22>กำลังโหลด...</option>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','bg-gray-500','delete-svg-btn','blueprint.pdf','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parallel-test-tab','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','✂️\x20ตัด\x201\x20ตัวเลือก','กำลังสร้างเนื้อหา:\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20resume\x20game\x20session:','admin-password-modal','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','center','team-player-status-grid','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','เกิดข้อผิดพลาดในการใช้ไอเทม','</span>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20joining\x20team\x20quiz:','download','blueprint-projects-modal','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','index','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','parallel-shortcut-container','ตรวจคะแนนใหม่\x20','/public/data/blueprintProjects/','ไม่พบข้อมูลแบบทดสอบ','<tr>','date_desc','สลับไปโหมดผู้ควบคุม','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','<span\x20title=\x22','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','แม่น้ำ','source_document.txt','keyConcepts','ดาบพิฆาตอสูร','button[type=\x22submit\x22]','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','not-found','.edit-question-btn','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','createdBy','selected-topics-count','<div>','พิสัย','การจัดหมู่\x20(Combination)','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','ระยะจากจุดถึงเส้นตรง','black-market-modal','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','applicationContent','bulk-confidence-scoring-checkbox','matching_item',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','tabId','.csv','เกิดข้อผิดพลาดในการลบผลสอบ','true','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','เปิด\x20(จับเวลา)','.answered','parallel-shortcuts-loading-msg','wager-modal','project-quizzes-list','bg-red-700\x20text-white\x20font-bold','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','ไม่พบตารางสำหรับ\x20Export','powerups.','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ตัวเลือก\x20ง','generated-quiz-container','$1\x5c%','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','student-quiz-area','isAnonymousRevealed','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','confirm-move-quiz-btn','.tab-name-input','submit-team-answer-btn','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','interesting-stats-container','generate-from-blueprint-btn','file-default-1','.file-shortcut-btn[data-id=\x22','progress-student-select','.move-file-shortcut-menu-btn','.use-hidden-file-shortcut-btn','close-topic-bank-btn','back-to-student-initial-btn','comparison-chart','parallel-shortcut-editor-modal','ค.ร.น.\x20(LCM)','.png','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','line-through\x20text-red-700','passcode-error-msg','\x20mb-2\x22>','view-my-progress-btn','.ai-content\x20h3','อัปเดตแบบทดสอบเก่า\x20','cancel-admin-login-btn','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','input[name=\x22drill_answer\x22]:checked','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','แผนภาพกล่อง\x20(box\x20plot)','.move-shortcut-dropdown','Failed\x20to\x20apply\x20forceConfident:','.txt','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','save','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','prod','_opt0\x22\x20name=\x22question','scratchpad-controls','loader','save-game-results-checkbox','การคูณทศนิยม','\x20คน\x20(','fa-crown\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','select-all-topics-btn','.edit-quiz-btn','insurance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Market\x20entry\x20payment\x20failed:','ตัวเลือก\x20ข','\x20ชุด)</span>','answering','โดเมนและเรนจ์','team','qIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','gamePin','isDefault','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','\x20(p=','null','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','half_mark_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','write','upperGroupResponders','Failed\x20to\x20get\x20hint:','text-emerald-900','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','student-quiz-leaderboard-content','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x22\x20data-pre-test-id=\x22','leaderboard_','คัดลอกแบบทดสอบสำเร็จ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Auto-linking\x20new\x20quiz\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20',')\x22><span\x20style=\x22','.sort-indicator','Error\x20clearing\x20linked\x20quiz:','input','Error\x20joining\x20activity:','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','realScore','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','Error\x20saving\x20game\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','สุดยอด!\x20ตอบถูกทุกข้อ','qType','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20pin\x20status:','cancel-quiz-edits-btn','close-presentation-btn','#FCE7F3','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','กำลังสร้างแบบทดสอบ\x20\x22','</body></html>','.bp-edit-topic-btn','toDate','file-topics-list-container','black-market-settings-container','.bp-game-btn','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','postTScore','sara','Error\x20analyzing\x20blueprint\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','4979280gHRNRm','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','quiz-generation-area','ดอกเบี้ยอย่างง่าย','quiz-form','shouldSaveResults','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','Failed\x20to\x20generate\x20lesson:','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','scale-125','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','student-reading-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-tab','Error\x20fetching\x20quiz\x20settings:','document','สำหรับหัวข้อ\x20\x27','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','parallel-shortcut-name-input','matching','\x5csum','Error\x20renaming\x20quiz:','.quiz-bank-delete-btn','\x20(มี:\x20','%)\x0a','show_results_only','translate(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','use-powerup-fiftyFifty','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-red-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>😈\x20คุณโดนคำสาป!\x20(หากตอบผิด\x20บทลงโทษ\x20x2)</div>','players.','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','cancel-bulk-quiz-settings-btn','globalAlpha','bg-red-500','ไม่ใช่\x20/\x20ผิด','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','#file-shortcut-tabs-nav\x20.tab-name-input','find','border-indigo-400\x20ring-2\x20ring-indigo-200','isArray','bg-green-200','แผนการสอน:\x20','shuffle','.save-custom-topic-btn','dragend','save-shortcut-btn','กำลังอ่านไฟล์\x20Test\x20Blueprint...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','cursor','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','duration-300','content','AI\x20แก้ไขคำถามสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','buy-time-quantity-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','#4338ca','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','fix-lesson-latex-btn','แบบทดสอบนี้หมดเวลาแล้ว','กำลังสร้างคำถามข้อ\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','questions_only','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x20คน\x20เรียบร้อยแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','resize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','Error\x20saving\x20questions\x20to\x20practice\x20bank:','แบตหมด','autoTable','\x22><span\x20style=\x22','เน็ตช้า','add-shortcut-btn','dblclick','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-shortcut-btn','ไม่พบข้อมูลหัวข้อที่จะบันทึก','เกิดข้อผิดพลาดในการบันทึกโปรเจค','text-gray-700','confirm-game-start-modal','projectName','.regenerate-question-editor-btn','สมการราก\x20(radical)','move-quiz-modal','Sync\x20Mode','แก้ไขสูตรคณิตศาสตร์\x20','scratchpad-modal','bg-red-100','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','projectOrder','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','none','text/plain','referenceFileUrl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','live-submit-short-answer-btn','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการติดดาว','มูเตลู','Blueprint\x20O-NET\x20ป.6','ปรับเพิ่ม/ลดเป็นร้อยละ','Successfully\x20removed\x20','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ON_FIRE','<div><input\x20type=\x22radio\x22\x20id=\x22q','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beginPath','globalCompositeOperation','.delete-hidden-shortcut-btn','.edit-hidden-file-shortcut-btn','question','.parallel-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','originalTopic','decode','mouseleave','กลุ่มของคุณ','student-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x20animate-pulse\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-xs\x20text-indigo-300\x20mb-2\x22>(คุณไม่รู้แต้มตัวเอง)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','export-worksheet-pdf-btn','กิจกรรมสิ้นสุดลงแล้ว','stdDev','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dragstart','students','font-bold\x20text-red-700\x20line-through','num-choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หลังเรียน','mousemove','Test\x20Blueprint','sync','คัดลอกรหัสแล้ว!','slice','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','lesson-view-title','/public/data/teamQuizzes','cancel-global-activity-btn','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','เวกเตอร์และเมทริกซ์\x20(เสริม)','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x22>ไม่ใช่</p>','prev-question-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เหมียวขี้เซา','onerror','\x20คู่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-green-800','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เกิดข้อผิดพลาด','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','input[type=\x22radio\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>✂️\x20คุณได้ใช้\x20\x22ตัด\x201\x20ตัวเลือก\x22\x20ไปแล้ว</div>','isLooping','rgba(255,\x20255,\x200,\x200.5)','.delete-parallel-shortcut-tab-btn','badgesCount','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','original-mode-checkbox','release','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','<button\x20data-value=\x22','\x22\x20name=\x22question','จำนวนเชิงซ้อน\x20(เสริม)','bestScore','quiz-editor-questions-container','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','พอใช้','ยอดเยี่ยม!','_opt1\x22\x20name=\x22question','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','multiply','lastAnswerIndex','แผนการสอน','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','การลบ','.file-topic-selection-btn','leaderboard-tab','border-red-700','timer-container','add-from-global-bank-btn','<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','move-quiz-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','fileShortcutOrder','live-short-answer-input','\x27\x20ในหัวข้อ\x20\x27','เกิดข้อผิดพลาดในการแก้ไข','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','สร้างโปรเจคสำเร็จ!','\x20|\x20ID:\x20','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','การคูณเศษส่วน','has','เกิดข้อผิดพลาดในการดึงข้อมูลสถิติ','setItem','</select>','(ก่อนเรียน)\x20','file.pdf','add-file-shortcut-btn','Invalid\x20response\x20structure\x20from\x20AI.','student-result-area','text-gray-500','confidence-mode-container','svg','\x20(\x22','showImproveButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','input[type=\x22text\x22]','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','parentNode','\x20quizzes\x20into\x20global\x20cache.','ลาเต้ไม่หวาน','bank-input-area','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20starting\x20team\x20quiz:','มุมและการวัดมุม','short','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','กัปตัน','data:application/vnd.ms-word;charset=utf-8,','px,\x20','scratchpad-header','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','passcode-input-container','องค์ประกอบของฟังก์ชัน','Error\x20saving\x20parallel\x20shortcut:','moveTo','tGain','เศษส่วน\x20(ย่อ/ขยาย)','text-content-input','20px','lineCap','cancel-quiz-settings-btn','resultsDisplay','Attempting\x20to\x20save\x20game\x20results...','includes','perQuestionStats','rgba(79,\x2070,\x20229,\x200.8)','ทะเล','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','comparison-individual-tab','COMEBACK_KING','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference.txt','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','poll','overallGroups','Error\x20deleting\x20submission:','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','modal-message','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการสร้างห้องเกม','canvas','timer-mode-select','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Loaded\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20กลุ่ม</p></div>','#E0E7FF','file-topics-list','Error\x20saving\x20reference\x20URL:','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ความต่อเนื่อง','.pointsLastQuestion','temp-loader-results','.presentation-option','\x22\x20ออกจากคลังนี้?','analytics','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','quadraticCurveTo','circ','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x20แบบทดสอบลงในคลังสำเร็จ!','เรขาคณิตวิเคราะห์','.bp-try-btn','Error\x20saving\x20shortcut\x20config:','\x22\x20name=\x22drill_answer\x22\x20value=\x22','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','...','create-project-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.project-card-container:not(.opacity-50)','q-text-','กำลังอ่านและเตรียมไฟล์...','text-blue-700','question-analytics-container','padding','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','substr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20old\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','contents','reference.pdf','projectSortOrder','th-TH','include-images-checkbox','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','questionText','ถูกต้อง!','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ครูใหญ่','237128hEZaOR','???','show_results_and_answers','test','\x20สำเร็จ','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','perfect_score','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','ทฤษฎีบทพีทาโกรัสและการประยุกต์','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.question-editor-item','shuffledQuiz','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','หมดเวลา!\x20กำลังส่งคำตอบ...','results','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','getAttributeNS','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','เศรษฐีดูไบ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','fa-bolt\x20text-blue-500','close-market-btn','closePath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eraser-tool-btn','<div\x20class=\x22space-y-4\x22>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','สรุปผลการวิเคราะห์:\x5cn','file-default-','การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','back-to-results-btn','function','-tab-content','ผลรวมอนุกรม\x20(Σ)','จุด\x20เส้น\x20ระนาบ','file-input-area','getContext','Error\x20processing\x20shortcut\x20click:','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','total','Game\x20results\x20already\x20saved.\x20Skipping.','game-start-modal-title','.generate-lesson-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','.shortcut-tab-btn','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','.start-presentation-list-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','summaryContent','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','หัวข้อหลักใหม่','toggle','ลำดับการดำเนินการ\x20(PEMDAS)','bp-add-topic-btn','ฮัลค์','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','Error\x20verifying\x20answers\x20in\x20editor:','main-correct-answer-display','gradeLevel','project-list','#10B981','whole_quiz','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','Error\x20displaying\x20blueprint\x20project:','innerHTML','display','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','numChoices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','showInStudentDashboard','create-project-btn','กราฟฟังก์ชันตรีโกณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','/public/data/practiceBank','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','อินฟลูเอนเซอร์','โหลดนาน','global-quiz-count','\x20mr-2\x22></i>','lesson-sections-container','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','ค่าเสื่อมราคา','answers','ชื่อโปรเจคห้ามว่าง','จิงโจ้สโลว์ไลฟ์','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','ระบบอสมการ','comparison-overall-tab','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','verify-answers-btn','mainTopics','border-red-300\x20bg-red-50','entries','🔁\x20โอกาสครั้งที่สอง','close-game-final-btn','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','Original\x20quiz\x20not\x20found','ฟังก์ชันผกผัน','ชีสเค้ก','size','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','ส่วนเบี่ยงเบนมาตรฐาน','powerupUsed_q','added','source-over','.subTopic','parse','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','[data-topic-container-id]','input[type=\x22radio\x22][value=\x22','admin-dashboard','originalQuestionText','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','pointContent','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','setAttributeNS','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','lineJoin','passing-score-input','กรุณาวาง\x20URL\x20ของบทความก่อน','redo-btn',')</span></div>','wheel','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','</span></p>','nextElementSibling','<span\x20title=\x22ใช้ไอเทม\x22>','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','ผู้ควบคุม\x20(ทดสอบ)','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','subTopics','quiz-search-input','floor','clientY','ถูก','itemId','</span>\x20','Error\x20displaying\x20question\x20bank:','appendChild','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shadowColor','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','activeGameSession','bg-emerald-100','\x22\x5cn','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','latestSubmittedAt','ฟังก์ชันพหุนาม','result','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','เพิ่ม\x20','MathJax','\x22\x20name=\x22question_single\x22\x20value=\x22','kick-player-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.quiz-bank-checkbox:checked','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','เลือกและเริ่มสร้าง','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','toISOString','bg-green-100\x20font-bold','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','scratchpad-canvas','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','_opt','strength-weakness-analysis-container','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','presentation-slide-container','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','</a>','\x22><p\x20class=\x22font-semibold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','pop','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','force-math-checkbox','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','ร้อยละพื้นฐาน','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','text-indigo-700','desc','เพิ่มปุ่มลัดจากไฟล์ใหม่','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','ใช่\x20/\x20ถูก','use-powerup-insurance','P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','results-table','querySelectorAll','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','(นำโด่ง)','numPages','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','isBlackMarketEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ความเท่ากันทุกประการของสามเหลี่ยม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','บทเรียน','items','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','confirm-join-game-btn','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','ปวดหลัง','fixed','ความชันและเส้นตรง','<p\x20class=\x22','grabbing','\x22\x20value=\x22false\x22\x20','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','.move-file-shortcut-dropdown','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x20หัวข้อ)','10388130aJYPIB','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','สมการลอการิทึม','mousedown','analytics-tab-content','[data-field=\x22subTopic\x22]','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','PERFECT_SCORE','add-file-shortcut-tab-btn','delete','category','Error\x20adding\x20students:','bg-black/20','totalQuestions','lineWidth','ตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end-sync-game-btn','allResponses','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยความยาวและการแปลง','ความสัมพันธ์ของมุม','start-game-btn','หัวข้อที่สร้างเอง','\x22\x20class=\x22color-palette-btn\x20','dimmed','minHeight','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','เกิดข้อผิดพลาดในการบันทึกลำดับ','shortcut-name-input','การวัด','keydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','onchange','API\x20call\x20failed\x20with\x20status:\x20','ลบโปรเจค\x20\x22','passingScore','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','student-project-leaderboard-table-body','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','lesson-loader-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ระบบเลขและค่าประจำหลัก','text-gray-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','file-shortcut-container','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','ยกเลิกการจับคู่สำเร็จ','confidence','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','quiz-bank-modal','.space-y-1.pl-4','parallelTestShortcutsConfig','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-input','bg-gray-50','<p><strong>คำตอบที่แนะนำ:</strong>\x20','กรุณาพิมพ์คำตอบของกลุ่ม','innerText','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-50','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','Authentication\x20failed:','text-red-600','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut_','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','post-test','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','string','overflowY','scratchpad-options','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','กรุณาใส่ชื่อโปรเจค','fontWeight','/players','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x22','\x22.\x20','</tbody></table>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจค','.bp-create-topic-quiz-btn','กระต่ายตื่นตูม','shortcut-blueprint-url-input','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','fromCharCode','<div\x20class=\x22p-2\x20rounded-md\x20','.bp-live-btn','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confidence-scoring-description','match','export-leaderboard-image-btn','sort','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','promise','อัตราการเปลี่ยนแปลงทันที','Error\x20unpairing\x20quizzes:','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','export-word-btn','Error\x20generating\x20parallel\x20post-test:','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','list-view-btn','สมการเชิงเส้นตัวแปรเดียว','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','bg-[#4ADE80]\x20text-green-900\x20font-bold','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','not_confident','next-question-btn','gameData','<button\x20data-shortcut-id=\x22','เกิดข้อผิดพลาดในการเข้าร่วมเกม','loop-until-pass-checkbox','ARRAY','ai-quiz-app-aefee','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','คณิตการเงิน/บูรณาการ','results-display-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','AIzaSyBwgBeRHp_OLs21-Y2n06y4FtvvNgXK-v4','admin-password-input','Error\x20adding\x20topic:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','docChanges','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','.answers','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','</div></div>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','.score','API\x20Error\x20Body:','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','red','นักดนตรี','\x20รายการสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','CEOพันล้าน','\x22\x20title=\x22','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','input[name=\x22syncVariant\x22][value=\x22','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','AI\x20grading\x20failed:','width','user','.edit-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','use-powerup-','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','publicLeaderboard','Error\x20moving\x20quiz:','text-green-700','แก้ไข\x20Points\x20ของ\x20','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','รหัสไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20shadow-md\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20ตลาดมืด\x20(','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quick_thinker','จำนวนคละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-test-btn','smooth','เกิดข้อผิดพลาดในการปักหมุด','ไก่ฟ้าพญาลอ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','Unexpected\x20API\x20response\x20structure:','Error\x20comparing\x20results:','\x20|\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง','ไฮเพอร์โบลา','checked','<div\x20id=\x22q-image-container-','.star-quiz-btn','/public/data/projects/','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','เมทริกซ์:\x20บวก/คูณ','ใช้ไอเทม\x20','🚀\x20คุณเดิมพันหมดหน้าตัก!','http://www.w3.org/2000/svg','ลบหัวข้อสำเร็จ','.rename-quiz-btn','comeback_king','powerupUsedThisTurn','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<p\x20class=\x22text-xl\x22>','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','หนอนหนังสือ','pen','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','text-purple-600','Error\x20preparing\x20content\x20quiz:','sync-timer-enable-checkbox','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','position','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200','สามเหลี่ยม\x20(ชนิด/สมบัติ)','Error\x20loading\x20quiz\x20for\x20student:','quiz-settings-modal','message','การแจกแจงทวินาม\x20(พื้นฐาน)','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','progress-project-select','เกิดข้อผิดพลาดในการส่งคำตอบ','quizMode','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','fixedData','แผนภาพเวนน์','FileReader\x20error:','file-default-2','drop','blueprintUrl','\x5cneq','setTransform','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','#e21b3c','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','Error\x20saving\x20manual\x20blueprint\x20project:','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','gain','การแจกแจงปกติและ\x20z-score','ความน่าจะเป็นแบบมีเงื่อนไข','ใช่','รักแรกพบ','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!\x20(ตอบผิดไม่เสียคะแนน)</div>','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','.live-answer-btn,\x20#sync-submit-btn','keyup','<span\x20class=\x22font-bold\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','attempts','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>👻\x20คุณถูกบังคับให้\x20\x22มั่นใจ\x22\x20ในข้อนี้!</div>','handleGenerateQuizFromBlueprintTopic','ทำคะแนนเต็มในการทำครั้งแรก','อัศวินรัตติกาล','add-custom-math-topic-btn','tool','project-search-input','behavior-log-container','standard','code','cos','text','beforeend','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','.export-pdf-list-btn','bg-blue-100\x20text-blue-800','list','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','default','กุ้งเต้นแร้งกา','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','%</span>','approx','.buy-time-confirm-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','getTime','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','project-sort-select','wager-all-in-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','anon-settings-container','createElementNS','.move-shortcut-item','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','explanation','Error\x20resetting\x20project\x20order:','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','แอบชอบ','back-to-student-home-btn','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parallel-shortcut-url-input','_blank','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แปลงร่าง','textContent','student-name-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จากไฟล์ที่แนบมานี้,\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','\x22\x20value=\x22','Buy\x20Item\x20failed:\x20','confidence-mode-select','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','Error\x20analyzing\x20file\x20for\x20topics:','หมดเวลาสำหรับข้อนี้!','currentMode','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','All\x20groups\x20have\x20finished.\x20Ending\x20game.','suggestedAnswer','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','confirm-not-confident','playerNicknames','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','normal','student-quiz-leaderboard-table-body','imageCode','STRING','shortcut_','Error\x20updating\x20quiz\x20status:','short_answer','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','querySelector','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','word-break:\x20break-all;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x20ตอบ','(คู่ขนาน)\x20','solution','toLocaleDateString','.highlighter-color-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คะแนน','student-progress','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','student-progress-content','toDataURL','Error\x20deleting\x20custom\x20topic:','Error\x20deleting\x20all\x20students:','1063911mMdPQj','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','anonymous_reveal_end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','manual-bp-grade-level','Error\x20processing\x20file\x20shortcut\x20click:','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','values','\x5ctimes','.shortcut-list-item:not(.opacity-50)','tan','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','คณิตศาสตร์','Error\x20linking\x20quizzes:','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','next-drill-btn','0\x20(รอโบนัส)','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','passcode-prompt-message','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','fadeStartTime','dataset','ม้าดีดกะโหลก','\x22...','Error\x20saving\x20file\x20shortcut\x20config:','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','ทำคะแนนได้เกินครึ่ง','<button\x20id=\x22','requestFullscreen','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','2HKzixH','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','blueprint-options-container','\x22\x20style=\x22','คุณแน่ใจว่าต้องการลบแท็บนี้?','delete-all-students-btn','ปริพันธ์ไม่จำกัด','player-list-lobby','Error\x20editing\x20topic:','icon','.game-start-btn','wager-max-points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20คน):\x0a\x0a','\x5ccdot','confidence-scoring-checkbox','ย้ายแบบทดสอบสำเร็จ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','.delete-quiz-btn','</strong></p>','answer-counter','select','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','some','text-red-800','shortcut-editor-modal','เส้นจำนวน','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','manage','\x20จาก\x20','topic-bank-subtopic-name','คะแนนยังไม่ถึงครึ่ง','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','trim','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','📡\x20สแกน:\x20ไม่พบผู้เล่นอื่นในห้องครับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','removeAttribute','results_','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','text-gray-300\x20hover:text-white','additional-shortcuts-list','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.copy-quiz-id-list-btn','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','รอเปิด','topic-tab','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','text/csv;charset=utf-8;','mixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','(พยายามอยู่)','\x22\x20data-q-type=\x22','getTextContent','Error\x20fetching\x20lesson\x20content:','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x22>(','.delete-shortcut-btn','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','Error\x20joining\x20live\x20game:','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','oninput','close-comparison-modal-btn','(รอคะแนน)','เซียนสมองไว','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2249265nkxfhA','exists','pointerup','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','artifacts/','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','hasPerfectScoreBonus','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','บันทึกโปรเจค\x20\x22','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','\x5cfrac{$1}{$2}','.draggable-text','instantWager','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','reveal-answer-btn','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','.pdf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','\x20link(s)\x20for\x20quiz\x20ID:\x20','.move-parallel-shortcut-menu-btn','reduce','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','height','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','เกมสิ้นสุดลงแล้ว','blur','manage-tab-content','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','isSyncGame','show-final-results-btn','quiz-results-view','สรุปผลสุดท้าย','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','(หลังเรียน)\x20','touchstart','text/html','.quiz-bank-present-btn','\x22\x20name=\x22confidence','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','eraser','Error\x20during\x20deep\x20delete:','กราฟแท่ง\x20กราฟเส้น','1:274192258111:web:4120c9118229b5644dd48a','wager-slider','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','1000px','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','showRankings','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','แท็บใหม่','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','class','bg-yellow-50','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','#DBEAFE','buyTime','forEach','application/json','กฎของโคไซน์','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','toString','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','blueprint-topics-list','topicId','teacherSuggestions','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswer','ข้อ\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','Error\x20generating\x20worksheet:','.delete-hidden-file-shortcut-btn','.mb-6.p-4','afterend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','student-join-game-view','projectSort','.status','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','จากเนื้อหาต่อไปนี้:\x20\x22','export-lesson-to-pdf-btn','value','bar','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','เพนกวินไฟ','order','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','file-shortcut-id-input','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isScored','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','geq','</p><div>','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','join-group-activity-btn','parentElement','lowerGroupNames','$$$1$','.delete-hidden-parallel-shortcut-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-input-area','ยืนยันการจับคู่','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x20ครั้ง)</span></td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','specialist','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>','loopUntilPass','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','offsetWidth','removeChild','เกิดข้อผิดพลาดในการซื้อ','textarea','click','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','เกิดข้อผิดพลาดในการอ่านไฟล์','สร้างใหม่','กรุณากรอกเป็นตัวเลขเท่านั้น','student-initial-view','preventDefault','answered','curriculum','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','helvetica','100px','lastAnswerCorrect','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','.move-file-shortcut-item','\x20แล้ว!','parallel-test-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การหารเศษส่วน','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x0a\x20\x20\x20\x20\x20\x20</div>','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','createElement','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','.delete-project-btn','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','project-passcode-modal','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','verify-answers-editor-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','lowerGroupResponders','แก้ระบบสมการด้วยเมทริกซ์','Error\x20saving\x20submission:','highlighter','neq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<span\x20class=\x22block\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','sync-variant-selector','wasJinxed'];_0x25cb=function(){return _0x54d572;};return _0x25cb();}function listenForStudents(_0x20ea0b){const _0x58614b=_0x1dab5f,_0xa39f13=doc(db,_0x58614b(0xb99)+appId+'/public/data/projects',_0x20ea0b);unsubscribeStudentsListener=onSnapshot(_0xa39f13,_0x302108=>{const _0x47d862=_0x58614b;if(_0x302108[_0x47d862(0xb96)]()){const _0x587291=_0x302108['data']();currentProjectData=_0x587291,renderStudentList(_0x587291[_0x47d862(0x7f8)]||[]);}});}function renderStudentList(_0x58fc6d){const _0x28ab50=_0x1dab5f,_0x1bd88b=document[_0x28ab50(0x242)](_0x28ab50(0xb51));_0x58fc6d[_0x28ab50(0x283)]===0x0?(studentList[_0x28ab50(0x90d)]=_0x28ab50(0x74f),_0x1bd88b[_0x28ab50(0xe19)][_0x28ab50(0x27c)](_0x28ab50(0x414))):(studentList[_0x28ab50(0x90d)]=_0x58fc6d['map'](_0x5115bf=>_0x28ab50(0xc49)+_0x5115bf+_0x28ab50(0x1ed)+_0x5115bf+_0x28ab50(0xd9c))[_0x28ab50(0xe10)](''),_0x1bd88b[_0x28ab50(0xe19)]['remove'](_0x28ab50(0x414)));}document[_0x1dab5f(0x242)](_0x1dab5f(0x2cc))[_0x1dab5f(0x264)](_0x1dab5f(0xc23),async()=>{const _0x623d3e=_0x1dab5f;if(!currentProjectId)return;const _0x2f9b69=document[_0x623d3e(0x242)]('student-name-input'),_0x3af458=_0x2f9b69['value'][_0x623d3e(0xb6d)]();if(!_0x3af458){showMessage(_0x623d3e(0x4d3));return;}const _0x444ea8=_0x3af458['split']('\x0a')['map'](_0x56bbfe=>_0x56bbfe[_0x623d3e(0xb6d)]())[_0x623d3e(0x3be)](_0xa52894=>_0xa52894);if(_0x444ea8[_0x623d3e(0x283)]===0x0)return;try{const _0x7c49bc=doc(db,_0x623d3e(0xb99)+appId+'/public/data/projects',currentProjectId),_0x43d5e4=await getDoc(_0x7c49bc);if(_0x43d5e4[_0x623d3e(0xb96)]()){const _0xc48d17=_0x43d5e4[_0x623d3e(0x1f1)]()['students']||[],_0xcbdb10=[...new Set([..._0xc48d17,..._0x444ea8])];await updateDoc(_0x7c49bc,{'students':_0xcbdb10}),_0x2f9b69[_0x623d3e(0xbfb)]='';}}catch(_0xab051e){console[_0x623d3e(0xd98)](_0x623d3e(0x9c4),_0xab051e),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x280685){const _0x35de54=_0x1dab5f,_0x12b4d0=document[_0x35de54(0x242)](_0x35de54(0x7cb)),_0x1e3dbd=document[_0x35de54(0x242)](_0x35de54(0x843)),_0x429c2e=_0x12b4d0[_0x35de54(0xb19)]('h3'),_0x1bc303=document[_0x35de54(0x242)](_0x35de54(0x6eb)),_0x5452fd=document[_0x35de54(0x242)](_0x35de54(0xc56));_0x429c2e[_0x35de54(0xafa)]=_0x35de54(0xd45),_0x1e3dbd[_0x35de54(0x90d)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x1bc303[_0x35de54(0xafa)]=_0x35de54(0xc15),_0x12b4d0[_0x35de54(0xe19)][_0x35de54(0x677)](_0x35de54(0x414));const _0x4733f5=allQuizzes['filter'](_0x4f8ae4=>_0x4f8ae4['id']!==_0x280685);_0x4733f5[_0x35de54(0x283)]===0x0?(_0x1e3dbd[_0x35de54(0x90d)]=_0x35de54(0x46e),_0x1bc303['disabled']=!![]):(_0x1e3dbd[_0x35de54(0x90d)]=_0x35de54(0x614)+_0x4733f5[_0x35de54(0xdc6)](_0x4eafbe=>_0x35de54(0x397)+_0x4eafbe['id']+'\x22>'+_0x4eafbe[_0x35de54(0xe0e)]+_0x35de54(0x460))[_0x35de54(0xe10)](''),_0x1bc303[_0x35de54(0xd66)]=![]);const _0xc300c5=async()=>{const _0x4ae0a5=_0x35de54,_0x1c4b19=_0x1e3dbd['value'];if(!_0x1c4b19){showMessage(_0x4ae0a5(0x930));return;}_0x1bc303[_0x4ae0a5(0xd66)]=!![],_0x1bc303[_0x4ae0a5(0xafa)]='กำลังจับคู่...';try{const _0x26fad0=doc(db,_0x4ae0a5(0xb99)+appId+_0x4ae0a5(0x48d),_0x280685),_0x548654=doc(db,_0x4ae0a5(0xb99)+appId+'/public/data/quizzes',_0x1c4b19),_0x95d311=writeBatch(db);_0x95d311['update'](_0x26fad0,{'pairedQuizId':_0x1c4b19}),_0x95d311[_0x4ae0a5(0x160)](_0x548654,{'pairedQuizId':_0x280685}),await _0x95d311['commit'](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x12b4d0[_0x4ae0a5(0xe19)][_0x4ae0a5(0x27c)](_0x4ae0a5(0x414));}catch(_0x362468){console[_0x4ae0a5(0xd98)](_0x4ae0a5(0x3fc),_0x362468),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x429c2e[_0x4ae0a5(0xafa)]=_0x4ae0a5(0xafe),_0x1bc303['textContent']='ย้าย',_0x1bc303[_0x4ae0a5(0xd66)]=![],_0x1bc303[_0x4ae0a5(0x232)]('click',_0xc300c5),_0x5452fd[_0x4ae0a5(0x232)](_0x4ae0a5(0xc23),_0x548e9c);}},_0x548e9c=()=>{const _0x17fb08=_0x35de54;_0x12b4d0[_0x17fb08(0xe19)][_0x17fb08(0x27c)]('hidden'),_0x429c2e[_0x17fb08(0xafa)]=_0x17fb08(0xafe),_0x1bc303[_0x17fb08(0xafa)]=_0x17fb08(0xcda),_0x1bc303[_0x17fb08(0x232)](_0x17fb08(0xc23),_0xc300c5),_0x5452fd[_0x17fb08(0x232)](_0x17fb08(0xc23),_0x548e9c);};_0x1bc303[_0x35de54(0x264)]('click',_0xc300c5),_0x5452fd[_0x35de54(0x264)](_0x35de54(0xc23),_0x548e9c);}function handleDeleteStudent(_0xc4c49e){const _0xcc0f1a=_0x1dab5f;showConfirmation(_0xcc0f1a(0x137)+_0xc4c49e+_0xcc0f1a(0x78a),async()=>{const _0x27eef1=_0xcc0f1a;if(!currentProjectId||!currentProjectData)return;const _0x16390b=currentProjectData[_0x27eef1(0x7f8)][_0x27eef1(0x3be)](_0x13be7e=>_0x13be7e!==_0xc4c49e);try{const _0x4a9d45=doc(db,_0x27eef1(0xb99)+appId+'/public/data/projects',currentProjectId),_0x56c53a=doc(db,'artifacts/'+appId+_0x27eef1(0xa81)+currentProjectId+_0x27eef1(0xd3a),_0xc4c49e),_0x48326d=writeBatch(db);_0x48326d[_0x27eef1(0x160)](_0x4a9d45,{'students':_0x16390b}),_0x48326d['delete'](_0x56c53a),await _0x48326d[_0x27eef1(0x45c)]();}catch(_0x577724){console[_0x27eef1(0xd98)]('Error\x20deleting\x20student:',_0x577724),showMessage(_0x27eef1(0x65b));}});}function handleDeleteAllStudents(){const _0x27dd52=_0x1dab5f;showConfirmation(_0x27dd52(0xa6d),async()=>{const _0x262ab1=_0x27dd52;if(!currentProjectId)return;try{const _0x2e65bd=doc(db,_0x262ab1(0xb99)+appId+_0x262ab1(0x636),currentProjectId),_0x34d435=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+_0x262ab1(0xd3a)),_0x5793e2=await getDocs(_0x34d435),_0x19b351=writeBatch(db);_0x19b351[_0x262ab1(0x160)](_0x2e65bd,{'students':[]}),_0x5793e2[_0x262ab1(0xbdf)](_0x41bdde=>_0x19b351[_0x262ab1(0x9c2)](_0x41bdde[_0x262ab1(0x2c2)])),await _0x19b351[_0x262ab1(0x45c)]();}catch(_0x3056a3){console[_0x262ab1(0xd98)](_0x262ab1(0xb29),_0x3056a3),showMessage(_0x262ab1(0xcdc));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x44cddf){const _0x457a0c=_0x1dab5f,_0x293a65=document[_0x457a0c(0x242)](_0x457a0c(0x761)),_0x2cc6cd=document['getElementById'](_0x457a0c(0x89c));_0x293a65[_0x457a0c(0xe19)]['remove'](_0x457a0c(0x414)),_0x2cc6cd['innerHTML']=_0x457a0c(0x625);try{const _0x3fa76d=new FileReader();_0x3fa76d[_0x457a0c(0x61b)](_0x44cddf),await new Promise((_0xd823c1,_0x98b5d4)=>{const _0x443e1e=_0x457a0c;_0x3fa76d[_0x443e1e(0x356)]=()=>{const _0x2cdd81=_0x443e1e;fileDataBase64=_0x3fa76d[_0x2cdd81(0x96e)][_0x2cdd81(0xdcd)](',')[0x1],fileMimeType=_0x44cddf[_0x2cdd81(0x41e)],_0xd823c1();},_0x3fa76d[_0x443e1e(0x811)]=_0x25ac0a=>_0x98b5d4(_0x25ac0a);});if(!fileDataBase64)throw new Error(_0x457a0c(0x7a2));const _0x1fe7b6=_0x457a0c(0x5fb),_0x4fe6cb={'type':_0x457a0c(0x674),'properties':{'topics':{'type':'ARRAY','items':{'type':_0x457a0c(0xb13)}}},'required':[_0x457a0c(0x2cd)]},_0x143ea3=[{'text':_0x1fe7b6},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x57db40=await handleApiCall(_0x143ea3,'กำลังวิเคราะห์หัวข้อ...',_0x4fe6cb,null,![]);if(_0x57db40&&_0x57db40[_0x457a0c(0x2cd)])extractedFileTopics=_0x57db40[_0x457a0c(0x2cd)],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x308b70){console[_0x457a0c(0xd98)](_0x457a0c(0xb03),_0x308b70),_0x2cc6cd[_0x457a0c(0x90d)]=_0x457a0c(0x6fd)+_0x308b70['message']+_0x457a0c(0xe0b);}}function renderFileTopics(){const _0x2041ac=_0x1dab5f,_0x4d6a54=document[_0x2041ac(0x242)](_0x2041ac(0x89c));if(extractedFileTopics[_0x2041ac(0x283)]===0x0){_0x4d6a54['innerHTML']=_0x2041ac(0xd15);return;}_0x4d6a54['innerHTML']=extractedFileTopics[_0x2041ac(0xdc6)](_0x287d18=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x287d18+_0x2041ac(0x59e)+escape(_0x287d18)+_0x2041ac(0xc43)+escape(_0x287d18)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x2041ac(0xe10)]('');}async function generateHybridQuizForTopic(_0x3de415){const _0x2cd842=_0x1dab5f,_0x1d9917=parseInt(document[_0x2cd842(0x242)]('num-questions')['value'],0xa),_0x228d31=document[_0x2cd842(0x242)](_0x2cd842(0x408))[_0x2cd842(0xbfb)],_0x2d9314=document['getElementById'](_0x2cd842(0x7fa))['value'],_0x3b6190=document[_0x2cd842(0x242)](_0x2cd842(0x8c2))[_0x2cd842(0xa7e)],_0x400bcb=_0x3b6190?_0x2cd842(0xb79):_0x2cd842(0xb2b);let _0x224671='',_0x905891;const _0x1111a5={'type':_0x2cd842(0x674),'properties':{'questionText':{'type':_0x2cd842(0xb13)},'options':{'type':_0x2cd842(0xa3a),'items':{'type':_0x2cd842(0xb13)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2cd842(0xb13)}},'required':[_0x2cd842(0x8c4),_0x2cd842(0x381),_0x2cd842(0xd79),_0x2cd842(0xaeb)]},_0x202255={'type':_0x2cd842(0x674),'properties':{'questionText':{'type':_0x2cd842(0xb13)},'correctAnswer':{'type':_0x2cd842(0x131)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2cd842(0xb13)}},'required':[_0x2cd842(0x8c4),_0x2cd842(0xbec),_0x2cd842(0xaeb)]},_0x192601={'type':_0x2cd842(0x674),'properties':{'questionText':{'type':_0x2cd842(0xb13)},'idealAnswer':{'type':_0x2cd842(0xb13)},'explanation':{'type':_0x2cd842(0xb13)},'imageCode':{'type':'STRING'}},'required':[_0x2cd842(0x8c4),_0x2cd842(0x424),_0x2cd842(0xaeb)]},_0x1b3913={'type':'OBJECT','properties':{'questionType':{'type':_0x2cd842(0xb13),'enum':[_0x2cd842(0x6ca)]},'stem':{'type':_0x2cd842(0xb13)},'correctResponse':{'type':_0x2cd842(0xb13)},'allResponses':{'type':_0x2cd842(0xa3a),'items':{'type':_0x2cd842(0xb13)}},'explanation':{'type':_0x2cd842(0xb13)},'imageCode':{'type':_0x2cd842(0xb13)}},'required':['questionType','stem','correctResponse',_0x2cd842(0x9cb),_0x2cd842(0xaeb)]};switch(_0x228d31){case _0x2cd842(0x423):_0x224671=_0x2cd842(0x860)+_0x2d9314+_0x2cd842(0x547),_0x905891=_0x1111a5;break;case _0x2cd842(0x66d):_0x224671='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x905891=_0x202255;break;case _0x2cd842(0xd9f):_0x224671=_0x2cd842(0x6d3),_0x905891=_0x192601;break;case'matching':_0x224671=_0x2cd842(0x349),_0x905891=_0x1b3913;break;case _0x2cd842(0xd36):_0x224671='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x2d9314+_0x2cd842(0x547),_0x905891=_0x1111a5;break;default:_0x224671=_0x2cd842(0x860)+_0x2d9314+_0x2cd842(0x547),_0x905891=_0x1111a5;break;}const _0x145f00='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x57c144=document[_0x2cd842(0x242)](_0x2cd842(0x715)),_0x472af0=document['getElementById'](_0x2cd842(0xdd3)),_0x5249f3=document[_0x2cd842(0x242)]('generated-quiz-container');document[_0x2cd842(0x242)](_0x2cd842(0x76b))['classList'][_0x2cd842(0x677)](_0x2cd842(0x414)),_0x5249f3[_0x2cd842(0x90d)]='',_0x57c144[_0x2cd842(0xe19)]['remove'](_0x2cd842(0x414)),_0x472af0[_0x2cd842(0xafa)]=_0x2cd842(0xdb2)+_0x3de415+'\x22\x20จำนวน\x20'+_0x1d9917+_0x2cd842(0xd06);try{const _0x31dcec='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x555d93=_0x2cd842(0xa71)+_0x3de415+_0x2cd842(0x958)+_0x1d9917+_0x2cd842(0x668)+_0x3de415+_0x2cd842(0xcff)+_0x1d9917+_0x2cd842(0xb30)+_0x400bcb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20'+_0x224671+_0x2cd842(0xbfd)+_0x145f00+_0x2cd842(0x7df)+_0x31dcec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2cd842(0x9f7),_0x245d55={'type':_0x2cd842(0x674),'properties':{'topic':{'type':_0x2cd842(0xb13)},'questions':{'type':_0x2cd842(0xa3a),'items':_0x905891}},'required':[_0x2cd842(0xe0e),_0x2cd842(0x3ef)]},_0x15eb2d=[{'text':_0x555d93},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x15eb2d,_0x2cd842(0x75d)+_0x3de415+_0x2cd842(0xb44),_0x245d55);}catch(_0x16e5b2){console[_0x2cd842(0xd98)](_0x2cd842(0x57c),_0x16e5b2),showMessage(_0x2cd842(0x517)+_0x16e5b2[_0x2cd842(0xa9f)]),_0x5249f3[_0x2cd842(0x90d)]=_0x2cd842(0x61f);}finally{_0x57c144['classList']['add']('hidden');}}async function handleGenerateFromFileClick(){const _0x35a025=_0x1dab5f;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x6d241f=document[_0x35a025(0x242)](_0x35a025(0x715)),_0x2bcc04=document['getElementById'](_0x35a025(0xdd3)),_0x1c4a5e=document[_0x35a025(0x242)](_0x35a025(0x6e5)),_0x40ff14=document[_0x35a025(0x242)](_0x35a025(0x53c));_0x40ff14[_0x35a025(0xd66)]=!![],document[_0x35a025(0x242)](_0x35a025(0x76b))['classList'][_0x35a025(0x677)](_0x35a025(0x414)),_0x1c4a5e[_0x35a025(0x90d)]='',_0x6d241f[_0x35a025(0xe19)]['remove']('hidden'),_0x2bcc04[_0x35a025(0xafa)]=_0x35a025(0x8b5);try{const _0x59f278=await new Promise((_0x4078e9,_0xb8d09)=>{const _0x498954=_0x35a025,_0x3e19aa=new FileReader();_0x3e19aa['readAsDataURL'](selectedFile),_0x3e19aa[_0x498954(0x356)]=()=>_0x4078e9(_0x3e19aa[_0x498954(0x96e)][_0x498954(0xdcd)](',')[0x1]),_0x3e19aa['onerror']=_0x437e05=>_0xb8d09(_0x437e05);});await generateQuizFromFile(selectedFile[_0x35a025(0x41e)],_0x59f278);}catch(_0x2caab0){console[_0x35a025(0xd98)]('Error\x20processing\x20file\x20for\x20AI:',_0x2caab0),showMessage(_0x35a025(0x7b2)+_0x2caab0[_0x35a025(0xa9f)]),_0x6d241f[_0x35a025(0xe19)][_0x35a025(0x27c)](_0x35a025(0x414)),_0x40ff14[_0x35a025(0xd66)]=![];}}function autoFormatMath(_0x34c873){const _0x5f5702=_0x1dab5f;if(typeof _0x34c873!=='string'||!_0x34c873)return _0x34c873;const _0x32480f=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x2652ba=_0x34c873[_0x5f5702(0x38c)](_0x32480f,_0x25f51a=>{const _0x5c28f5=_0x5f5702;return'$'+_0x25f51a[_0x5c28f5(0xb6d)]()+'$';});return _0x2652ba;}function sanitizeQuizData(_0xb11141){const _0x5be27b=_0x1dab5f;if(!_0xb11141||!_0xb11141[_0x5be27b(0x3ef)])return _0xb11141;const _0x2fbb2e={'imes':_0x5be27b(0xb32),'div':_0x5be27b(0x66c)},_0x60ba22=_0x45ae0e=>{const _0x3dc179=_0x5be27b;if(typeof _0x45ae0e!=='string')return _0x45ae0e;let _0x21b447=_0x45ae0e;for(const [_0x332ddf,_0x5b58dc]of Object[_0x3dc179(0x934)](_0x2fbb2e)){const _0x1e8606=new RegExp('\x5cb'+_0x332ddf+'\x5cb','g');_0x21b447=_0x21b447[_0x3dc179(0x38c)](_0x1e8606,_0x5b58dc);}return _0x21b447=_0x21b447['replace'](/\\\//g,'\x5cdiv'),_0x21b447=_0x21b447[_0x3dc179(0x38c)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x3dc179(0x66c))[_0x3dc179(0x38c)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x3dc179(0x38c)](/÷/g,_0x3dc179(0x66c))[_0x3dc179(0x38c)](/×/g,_0x3dc179(0xb32)),_0x21b447=_0x21b447['replace'](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x21b447=autoFormatMath(_0x21b447),_0x21b447;};return _0xb11141[_0x5be27b(0xe0e)]&&(_0xb11141[_0x5be27b(0xe0e)]=_0x60ba22(_0xb11141[_0x5be27b(0xe0e)])),_0xb11141[_0x5be27b(0x3ef)]['forEach'](_0x518b67=>{const _0x1fb670=_0x5be27b;_0x518b67['questionText']=_0x60ba22(_0x518b67['questionText']),_0x518b67[_0x1fb670(0x381)]&&(_0x518b67[_0x1fb670(0x381)]=_0x518b67['options'][_0x1fb670(0xdc6)](_0x60ba22)),_0x518b67['explanation']&&(_0x518b67[_0x1fb670(0xaeb)]=_0x60ba22(_0x518b67['explanation'])),_0x518b67[_0x1fb670(0xd64)]&&(_0x518b67[_0x1fb670(0xd64)]=_0x60ba22(_0x518b67[_0x1fb670(0xd64)])),_0x518b67[_0x1fb670(0x38f)]&&(_0x518b67[_0x1fb670(0x38f)]=_0x60ba22(_0x518b67[_0x1fb670(0x38f)])),_0x518b67[_0x1fb670(0x9cb)]&&(_0x518b67[_0x1fb670(0x9cb)]=_0x518b67[_0x1fb670(0x9cb)]['map'](_0x60ba22));}),_0xb11141;}const simpleMathPrompt=_0x1dab5f(0x476);async function handleGenerateFromLink(){const _0xfba85=_0x1dab5f,_0x1c9ee3=document['getElementById'](_0xfba85(0xc85)),_0x47617d=document[_0xfba85(0x242)]('link-topic-input'),_0x2351d7=_0x1c9ee3[_0xfba85(0xbfb)]['trim'](),_0x236f68=_0x47617d['value']['trim']();if(!_0x2351d7){showMessage(_0xfba85(0x94f));return;}const _0xc166b6=document[_0xfba85(0x242)](_0xfba85(0x715)),_0x2b872d=document[_0xfba85(0x242)](_0xfba85(0xdd3)),_0x1371b6=document[_0xfba85(0x242)](_0xfba85(0x6e5)),_0x26fa07=document['getElementById']('generate-from-link-btn');document['getElementById'](_0xfba85(0x76b))[_0xfba85(0xe19)]['remove'](_0xfba85(0x414)),_0x1371b6[_0xfba85(0x90d)]='',_0xc166b6[_0xfba85(0xe19)][_0xfba85(0x677)](_0xfba85(0x414)),_0x2b872d[_0xfba85(0xafa)]=_0xfba85(0x507),_0x26fa07[_0xfba85(0xd66)]=!![];try{const _0x27e16a='https://corsproxy.io/?'+encodeURIComponent(_0x2351d7),_0x2d3656=await fetch(_0x27e16a);if(!_0x2d3656['ok'])throw new Error(_0xfba85(0x411)+_0x2d3656[_0xfba85(0x2db)]+')');const _0xb86507=await _0x2d3656[_0xfba85(0xad0)](),_0x4b447c=extractTextFromHtml(_0xb86507);if(!_0x4b447c||_0x4b447c[_0xfba85(0x283)]<0x64)throw new Error(_0xfba85(0x6c4));await generateQuiz(_0x236f68,_0x4b447c);}catch(_0x39c095){console[_0xfba85(0xd98)]('Error\x20generating\x20from\x20link:',_0x39c095),showMessage(_0xfba85(0x517)+_0x39c095[_0xfba85(0xa9f)]),_0x1371b6[_0xfba85(0x90d)]=_0xfba85(0x8f5);}finally{_0xc166b6[_0xfba85(0xe19)][_0xfba85(0x27c)]('hidden'),_0x26fa07[_0xfba85(0xd66)]=![];}}function extractTextFromHtml(_0x5f88f0){const _0x448243=_0x1dab5f,_0x1898ad=new DOMParser()[_0x448243(0x17f)](_0x5f88f0,_0x448243(0xbc1));return _0x1898ad[_0x448243(0x99b)](_0x448243(0xd2d))[_0x448243(0xbdf)](_0x5d7f5b=>_0x5d7f5b[_0x448243(0x677)]()),_0x1898ad[_0x448243(0xcaa)][_0x448243(0xafa)]||'';}document[_0x1dab5f(0x242)]('generate-from-topic-btn')['addEventListener']('click',()=>{const _0x459d9f=_0x1dab5f,_0x1e5ed5=document[_0x459d9f(0x242)](_0x459d9f(0x194))[_0x459d9f(0xbfb)][_0x459d9f(0xb6d)]();generateQuiz(_0x1e5ed5,null);}),document[_0x1dab5f(0x242)](_0x1dab5f(0x4cb))[_0x1dab5f(0x264)](_0x1dab5f(0xc23),()=>{const _0x325199=_0x1dab5f,_0x294e40=document[_0x325199(0x242)](_0x325199(0x879))['value'][_0x325199(0xb6d)]();if(!_0x294e40){showMessage(_0x325199(0xda0));return;}const _0x344910=document[_0x325199(0x242)](_0x325199(0x194))[_0x325199(0xbfb)][_0x325199(0xb6d)]();generateQuiz(_0x344910,_0x294e40);});async function generateQuiz(_0x2555f6,_0x54aa8b,_0x332e94=null,_0x432376=null,_0x108e72=![],_0x1522f2=null,_0x15b889=null,_0x2314c4=![]){const _0x11b74d=_0x1dab5f;let _0x59a46e={};if(_0x108e72&&blueprintPageSettings)_0x59a46e=blueprintPageSettings;else{const _0x1d437b=document[_0x11b74d(0x99b)]('#math-topics-checkbox-container\x20input:checked');_0x59a46e={'quizType':document['getElementById']('quiz-type-select')['value'],'numQuestions':document[_0x11b74d(0x242)](_0x11b74d(0x299))['value'],'numChoices':document[_0x11b74d(0x242)](_0x11b74d(0x7fa))[_0x11b74d(0xbfb)],'includeImages':document['getElementById'](_0x11b74d(0x8c2))[_0x11b74d(0xa7e)],'isNormalTopic':document['getElementById'](_0x11b74d(0x98b))[_0x11b74d(0xa7e)],'difficultyValue':document[_0x11b74d(0x242)](_0x11b74d(0x229))['value'],'complexityValue':document['getElementById'](_0x11b74d(0x162))[_0x11b74d(0xbfb)],'selectedTopicNames':Array[_0x11b74d(0x155)](_0x1d437b)[_0x11b74d(0xdc6)](_0x2dd4eb=>_0x2dd4eb['value'])};}const _0x26aafa=_0x59a46e[_0x11b74d(0x327)]?'':'คณิตศาสตร์',_0x4ad48b=_0x59a46e[_0x11b74d(0x5f7)]!==_0x11b74d(0x3d6)?_0x11b74d(0x620)+_0x59a46e[_0x11b74d(0x5f7)]+'\x22':'',_0x29c71d=_0x59a46e[_0x11b74d(0x12e)]!==_0x11b74d(0xb7e)?_0x11b74d(0xb35)+_0x59a46e[_0x11b74d(0x12e)]+_0x11b74d(0xc6c):'';let _0x5cc8d='';_0x59a46e[_0x11b74d(0x1b4)]&&_0x59a46e[_0x11b74d(0x1b4)][_0x11b74d(0x283)]>0x0&&(_0x5cc8d=_0x11b74d(0x3ab)+_0x59a46e[_0x11b74d(0x1b4)][_0x11b74d(0xe10)](',\x20')+'.');let _0xada82e='';_0x432376&&(_0xada82e=_0x11b74d(0x899));let _0x5c557d='',_0x334722='',_0x2ebe2c,_0x4d40e2=_0x11b74d(0xa11)+_0x2555f6+'\x22';if(!_0x2555f6&&_0x54aa8b)_0x4d40e2=_0x11b74d(0xd6a);else!_0x2555f6&&!_0x54aa8b&&(_0x4d40e2=_0x11b74d(0x388));const _0x15d211={'type':_0x11b74d(0x674),'properties':{'questionText':{'type':_0x11b74d(0xb13)},'options':{'type':'ARRAY','items':{'type':_0x11b74d(0xb13)}},'correctAnswerIndex':{'type':_0x11b74d(0x2ad)},'explanation':{'type':_0x11b74d(0xb13)},'imageCode':{'type':_0x11b74d(0xb13)}},'required':[_0x11b74d(0x8c4),'options','correctAnswerIndex',_0x11b74d(0xaeb)]},_0x33c32c={'type':_0x11b74d(0x674),'properties':{'questionText':{'type':_0x11b74d(0xb13)},'idealAnswer':{'type':_0x11b74d(0xb13)},'explanation':{'type':_0x11b74d(0xb13)},'imageCode':{'type':_0x11b74d(0xb13)}},'required':['questionText',_0x11b74d(0x424),_0x11b74d(0xaeb)]},_0x172a32={'type':_0x11b74d(0x674),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x11b74d(0x423),_0x11b74d(0xb16)]},'options':{'type':_0x11b74d(0xa3a),'items':{'type':_0x11b74d(0xb13)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x11b74d(0xb13)},'explanation':{'type':_0x11b74d(0xb13)},'imageCode':{'type':_0x11b74d(0xb13)}},'required':[_0x11b74d(0x8c4),_0x11b74d(0x5c5),'explanation']},_0x3b362b={'type':'OBJECT','properties':{'questionText':{'type':_0x11b74d(0xb13)},'correctAnswer':{'type':_0x11b74d(0x131)},'explanation':{'type':_0x11b74d(0xb13)},'imageCode':{'type':_0x11b74d(0xb13)}},'required':[_0x11b74d(0x8c4),_0x11b74d(0xbec),_0x11b74d(0xaeb)]},_0x3f116f={'type':'OBJECT','properties':{'questionType':{'type':_0x11b74d(0xb13),'enum':['matching_item']},'stem':{'type':_0x11b74d(0xb13)},'correctResponse':{'type':_0x11b74d(0xb13)},'allResponses':{'type':_0x11b74d(0xa3a),'items':{'type':_0x11b74d(0xb13)}},'explanation':{'type':_0x11b74d(0xb13)},'imageCode':{'type':_0x11b74d(0xb13)}},'required':[_0x11b74d(0x5c5),'stem','correctResponse',_0x11b74d(0x9cb),_0x11b74d(0xaeb)]};let _0x13a7dc;if(_0x332e94!==null){const _0x1ecce5=currentQuizData[_0x11b74d(0x3ef)][_0x332e94][_0x11b74d(0x5c5)],_0x25e77e=_0x59a46e[_0x11b74d(0x43e)]?_0x11b74d(0x3e2):'';_0x5c557d=_0x11b74d(0xcbb)+_0x4d40e2+'\x20'+_0x5cc8d+'\x20'+_0x4ad48b+_0x11b74d(0xd81)+_0x25e77e+'\x20'+simpleMathPrompt;if(_0x1ecce5===_0x11b74d(0x423))_0x2ebe2c=_0x15d211;else{if(_0x1ecce5==='matching_item')_0x2ebe2c={'type':_0x11b74d(0x674),'properties':{'questionType':{'type':'STRING','enum':[_0x11b74d(0x6ca)]},'stem':{'type':_0x11b74d(0xb13)},'correctResponse':{'type':_0x11b74d(0xb13)},'explanation':{'type':_0x11b74d(0xb13)},'imageCode':{'type':_0x11b74d(0xb13)}},'required':[_0x11b74d(0x5c5),'stem',_0x11b74d(0x38f),_0x11b74d(0xaeb)]};else _0x2ebe2c=_0x33c32c;}_0x13a7dc=_0x2ebe2c;}else{const _0x2e0168=_0x59a46e['includeImages']?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x59a46e[_0x11b74d(0x11f)]){case _0x11b74d(0x423):_0x5c557d='สร้างแบบทดสอบปรนัย'+_0x26aafa+'\x20'+_0x59a46e[_0x11b74d(0x20f)]+_0x11b74d(0x3ea)+_0x4d40e2+'\x20'+_0x5cc8d+'\x20'+_0x4ad48b+'\x20'+_0x29c71d+'\x20'+_0xada82e+_0x11b74d(0x268)+_0x59a46e['numChoices']+_0x11b74d(0x903)+_0x2e0168+'\x20'+simpleMathPrompt,_0x2ebe2c=_0x15d211;break;case'fill_in_with_choices':_0x5c557d=_0x11b74d(0x615)+_0x26aafa+'\x20'+_0x59a46e[_0x11b74d(0x20f)]+_0x11b74d(0x3ea)+_0x4d40e2+'\x20'+_0x5cc8d+'\x20'+_0x4ad48b+'\x20'+_0x29c71d+'\x20'+_0xada82e+_0x11b74d(0x2be)+_0x59a46e[_0x11b74d(0x913)]+_0x11b74d(0xb02)+_0x2e0168+'\x20'+simpleMathPrompt,_0x2ebe2c=_0x15d211;break;case'fill_in_no_choices':_0x5c557d='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x26aafa+'\x20'+_0x59a46e[_0x11b74d(0x20f)]+_0x11b74d(0x3ea)+_0x4d40e2+'\x20'+_0x5cc8d+'\x20'+_0x4ad48b+'\x20'+_0x29c71d+'\x20'+_0xada82e+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2e0168+'\x20'+simpleMathPrompt,_0x2ebe2c=_0x33c32c;break;case'mixed':_0x5c557d=_0x11b74d(0xca7)+_0x26aafa+'\x20'+_0x59a46e[_0x11b74d(0x20f)]+_0x11b74d(0x3ea)+_0x4d40e2+'\x20'+_0x5cc8d+'\x20'+_0x4ad48b+'\x20'+_0x29c71d+'\x20'+_0xada82e+_0x11b74d(0x6cb)+_0x59a46e[_0x11b74d(0x913)]+_0x11b74d(0x314)+_0x2e0168+'\x20'+simpleMathPrompt+'.',_0x2ebe2c=_0x172a32;break;case _0x11b74d(0x66d):_0x5c557d=_0x11b74d(0x2ce)+_0x26aafa+'\x20'+_0x59a46e[_0x11b74d(0x20f)]+'\x20ข้อ\x20'+_0x4d40e2+'\x20'+_0x5cc8d+'\x20'+_0x4ad48b+'\x20'+_0x29c71d+'\x20'+_0xada82e+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x2e0168+'\x20'+simpleMathPrompt,_0x2ebe2c=_0x3b362b;break;case _0x11b74d(0x77e):_0x5c557d=_0x11b74d(0x68c)+_0x26aafa+'\x20'+_0x59a46e['numQuestions']+'\x20คู่\x20'+_0x4d40e2+'\x20'+_0x5cc8d+'\x20'+_0x4ad48b+'\x20'+_0x29c71d+'\x20'+_0xada82e+_0x11b74d(0x9b4)+_0x2e0168+'\x20'+simpleMathPrompt,_0x2ebe2c=_0x3f116f;break;}_0x13a7dc={'type':_0x11b74d(0x674),'properties':{'topic':{'type':_0x11b74d(0xb13)},'questions':{'type':'ARRAY','items':_0x2ebe2c}},'required':['topic',_0x11b74d(0x3ef)]};}const _0x284824=_0x11b74d(0x832);_0x54aa8b?(_0x2314c4?_0x5c557d='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x54aa8b+_0x11b74d(0x32b)+_0x5c557d+_0x284824:_0x5c557d=_0x11b74d(0xbf9)+_0x54aa8b+_0x11b74d(0x32b)+_0x5c557d,_0x334722='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x2314c4&&(_0x5c557d+=_0x284824),_0x334722='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x3149da;return _0x432376?(_0x3149da=[{'text':_0x5c557d},..._0x432376],_0x334722='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x3149da=_0x5c557d,handleApiCall(_0x3149da,_0x334722,_0x13a7dc,_0x332e94,!![],_0x1522f2,_0x15b889);}async function generateQuizFromFile(_0x4fa273,_0x376d78){const _0x4086e3=_0x1dab5f,_0x574a5d=document['getElementById']('file-topic-input')[_0x4086e3(0xbfb)][_0x4086e3(0xb6d)](),_0x541e4=document[_0x4086e3(0x242)](_0x4086e3(0x408))['value'],_0x191fe0=document[_0x4086e3(0x242)](_0x4086e3(0x299))['value'],_0x5b4948=document[_0x4086e3(0x242)]('num-choices')[_0x4086e3(0xbfb)],_0x34b87d=document[_0x4086e3(0x242)](_0x4086e3(0x8c2))[_0x4086e3(0xa7e)],_0x16c1da=document[_0x4086e3(0x242)]('force-math-checkbox')[_0x4086e3(0xa7e)],_0x77bc53=_0x16c1da?'':'คณิตศาสตร์',_0x25f61a=document['getElementById'](_0x4086e3(0x825))[_0x4086e3(0xa7e)];let _0x440c9d='',_0x597421;const _0x498042=_0x34b87d?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x25f61a)_0x440c9d='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x498042+'\x0a'+simpleMathPrompt+'\x0a',_0x597421={'type':_0x4086e3(0x674),'properties':{'questionText':{'type':_0x4086e3(0xb13)},'questionType':{'type':_0x4086e3(0xb13),'enum':[_0x4086e3(0x423),_0x4086e3(0xb16),_0x4086e3(0x66d),_0x4086e3(0x6ca)]},'options':{'type':_0x4086e3(0xa3a),'items':{'type':_0x4086e3(0xb13)}},'correctAnswerIndex':{'type':_0x4086e3(0x2ad)},'idealAnswer':{'type':_0x4086e3(0xb13)},'correctAnswer':{'type':_0x4086e3(0x131)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4086e3(0xb13)},'allResponses':{'type':_0x4086e3(0xa3a),'items':{'type':_0x4086e3(0xb13)}},'explanation':{'type':_0x4086e3(0xb13)},'imageCode':{'type':_0x4086e3(0xb13)}},'required':[_0x4086e3(0x5c5),_0x4086e3(0xaeb)]};else{let _0x5af509=_0x4086e3(0xa11)+_0x574a5d+'\x22';!_0x574a5d&&(_0x5af509=_0x4086e3(0x92c));switch(_0x541e4){case _0x4086e3(0x423):_0x440c9d='สร้างแบบทดสอบปรนัย'+_0x77bc53+'\x20'+_0x191fe0+'\x20ข้อ\x20'+_0x5af509+_0x4086e3(0x268)+_0x5b4948+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x498042+'\x20'+simpleMathPrompt,_0x597421={'type':'OBJECT','properties':{'questionText':{'type':_0x4086e3(0xb13)},'options':{'type':_0x4086e3(0xa3a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4086e3(0x2ad)},'explanation':{'type':_0x4086e3(0xb13)},'imageCode':{'type':_0x4086e3(0xb13)}},'required':[_0x4086e3(0x8c4),_0x4086e3(0x381),_0x4086e3(0xd79),_0x4086e3(0xaeb)]};break;case _0x4086e3(0xd36):_0x440c9d='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x77bc53+'\x20'+_0x191fe0+_0x4086e3(0x3ea)+_0x5af509+_0x4086e3(0x2be)+_0x5b4948+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x498042+'\x20'+simpleMathPrompt,_0x597421={'type':_0x4086e3(0x674),'properties':{'questionText':{'type':_0x4086e3(0xb13)},'options':{'type':_0x4086e3(0xa3a),'items':{'type':_0x4086e3(0xb13)}},'correctAnswerIndex':{'type':_0x4086e3(0x2ad)},'explanation':{'type':_0x4086e3(0xb13)},'imageCode':{'type':'STRING'}},'required':[_0x4086e3(0x8c4),'options',_0x4086e3(0xd79),_0x4086e3(0xaeb)]};break;case'fill_in_no_choices':_0x440c9d=_0x4086e3(0x615)+_0x77bc53+'\x20'+_0x191fe0+'\x20ข้อ\x20'+_0x5af509+_0x4086e3(0xe1c)+_0x498042+'\x20'+simpleMathPrompt,_0x597421={'type':_0x4086e3(0x674),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4086e3(0xb13)}},'required':['questionText','idealAnswer',_0x4086e3(0xaeb)]};break;case _0x4086e3(0xb7e):_0x440c9d=_0x4086e3(0xca7)+_0x77bc53+'\x20'+_0x191fe0+_0x4086e3(0x3ea)+_0x5af509+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x5b4948+_0x4086e3(0x1c2)+_0x498042+'\x20'+simpleMathPrompt+_0x4086e3(0x1a4),_0x597421={'type':_0x4086e3(0x674),'properties':{'questionText':{'type':_0x4086e3(0xb13)},'questionType':{'type':_0x4086e3(0xb13),'enum':[_0x4086e3(0x423),_0x4086e3(0xb16)]},'options':{'type':_0x4086e3(0xa3a),'items':{'type':_0x4086e3(0xb13)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4086e3(0xb13)},'explanation':{'type':_0x4086e3(0xb13)},'imageCode':{'type':_0x4086e3(0xb13)}},'required':['questionText',_0x4086e3(0x5c5),'explanation']};break;case _0x4086e3(0x66d):_0x440c9d=_0x4086e3(0x2ce)+_0x77bc53+'\x20'+_0x191fe0+'\x20ข้อ\x20'+_0x5af509+_0x4086e3(0x676)+_0x498042+'\x20'+simpleMathPrompt,_0x597421={'type':_0x4086e3(0x674),'properties':{'questionText':{'type':_0x4086e3(0xb13)},'correctAnswer':{'type':_0x4086e3(0x131)},'explanation':{'type':_0x4086e3(0xb13)},'imageCode':{'type':'STRING'}},'required':['questionText','correctAnswer',_0x4086e3(0xaeb)]};break;case _0x4086e3(0x77e):_0x440c9d=_0x4086e3(0x68c)+_0x77bc53+'\x20'+_0x191fe0+_0x4086e3(0x812)+_0x5af509+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x191fe0+_0x4086e3(0x883)+_0x498042+'\x20'+simpleMathPrompt,_0x597421={'type':_0x4086e3(0x674),'properties':{'questionType':{'type':_0x4086e3(0xb13),'enum':[_0x4086e3(0x6ca)]},'stem':{'type':_0x4086e3(0xb13)},'correctResponse':{'type':_0x4086e3(0xb13)},'allResponses':{'type':'ARRAY','items':{'type':_0x4086e3(0xb13)}},'explanation':{'type':_0x4086e3(0xb13)},'imageCode':{'type':_0x4086e3(0xb13)}},'required':[_0x4086e3(0x5c5),_0x4086e3(0xd64),_0x4086e3(0x38f),_0x4086e3(0x9cb),_0x4086e3(0xaeb)]};break;}}const _0xd9af33={'type':_0x4086e3(0x674),'properties':{'topic':{'type':_0x4086e3(0xb13)},'questions':{'type':_0x4086e3(0xa3a),'items':_0x597421}},'required':['topic',_0x4086e3(0x3ef)]},_0x2c039e=_0x4086e3(0xafd)+_0x440c9d,_0x1cd54c={'contents':[{'parts':[{'text':_0x2c039e},{'inlineData':{'mimeType':_0x4fa273,'data':_0x376d78}}]}],'generationConfig':{'responseMimeType':_0x4086e3(0xbe0),'responseSchema':_0xd9af33}};return handleApiCall(_0x1cd54c[_0x4086e3(0x8be)][0x0]['parts'],_0x4086e3(0x943),_0xd9af33);}async function handleApiCall(_0x3b21a0,_0x2c1627,_0x88d178,_0xe26368=null,_0x3370ce=!![],_0x1dbdf0=null,_0x56bbaa=null){const _0x145af0=_0x1dab5f,_0x1e8c9b=document[_0x145af0(0x242)](_0x145af0(0x76b)),_0x23697a=document['getElementById']('loader'),_0x465099=document[_0x145af0(0x242)](_0x145af0(0xdd3)),_0x667f60=document[_0x145af0(0x242)](_0x145af0(0x6e5));_0x1e8c9b['classList'][_0x145af0(0x677)](_0x145af0(0x414));_0xe26368===null&&_0x3370ce&&(_0x667f60[_0x145af0(0x90d)]='');_0x23697a[_0x145af0(0xe19)][_0x145af0(0x677)]('hidden'),_0x465099[_0x145af0(0xafa)]=_0x2c1627,document['getElementById'](_0x145af0(0x62b))[_0x145af0(0xd66)]=!![],document['getElementById'](_0x145af0(0x4cb))[_0x145af0(0xd66)]=!![],document[_0x145af0(0x242)]('generate-from-link-btn')['disabled']=!![];const _0x54761d=document[_0x145af0(0x242)](_0x145af0(0x53c));if(_0x54761d)_0x54761d[_0x145af0(0xd66)]=!![];const _0x47e030=document[_0x145af0(0x242)]('generate-from-blueprint-btn');if(_0x47e030)_0x47e030[_0x145af0(0xd66)]=!![];const _0x2f772f=document[_0x145af0(0x242)](_0x145af0(0x2e5));if(_0x2f772f)_0x2f772f[_0x145af0(0xd66)]=!![];try{const _0x1dcc4b=Array[_0x145af0(0x796)](_0x3b21a0)?_0x3b21a0:[{'text':_0x3b21a0}],_0x77afb9={'contents':[{'role':_0x145af0(0xa5c),'parts':_0x1dcc4b}]};_0x88d178&&(_0x77afb9[_0x145af0(0x53f)]={'responseMimeType':_0x145af0(0xbe0),'responseSchema':_0x88d178});const _0x323043=_0x145af0(0xa41),_0x1d87b9='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x323043,_0x49cf9b=await fetch(_0x1d87b9,{'method':_0x145af0(0x515),'headers':{'Content-Type':_0x145af0(0xbe0)},'body':JSON[_0x145af0(0x3a5)](_0x77afb9)});if(!_0x49cf9b['ok']){const _0x1a209a=await _0x49cf9b[_0x145af0(0xad0)]();console[_0x145af0(0xd98)](_0x145af0(0x54a),_0x1a209a);throw new Error(_0x145af0(0x9db)+_0x49cf9b[_0x145af0(0x2db)]);}const _0x217fc2=await _0x49cf9b['json']();if(!_0x217fc2[_0x145af0(0x548)]||_0x217fc2[_0x145af0(0x548)][_0x145af0(0x283)]===0x0){let _0x378aa9='AI\x20did\x20not\x20return\x20any\x20content.';return _0x217fc2[_0x145af0(0xce7)]?.[_0x145af0(0x2a9)]&&(_0x378aa9='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x217fc2['promptFeedback']['blockReason']+'.'),console['error'](_0x378aa9,JSON[_0x145af0(0x3a5)](_0x217fc2)),null;}const _0x1bf9d0=_0x217fc2['candidates'][0x0][_0x145af0(0x7a5)]['parts'][0x0][_0x145af0(0xad0)];if(_0x88d178){let _0x6d31d=_0x1bf9d0;if(_0x6d31d[_0x145af0(0x1f4)]('```json'))_0x6d31d=_0x6d31d[_0x145af0(0xc12)](0x7,_0x6d31d['length']-0x3)[_0x145af0(0xb6d)]();else _0x6d31d[_0x145af0(0x1f4)](_0x145af0(0x2d7))&&(_0x6d31d=_0x6d31d[_0x145af0(0xc12)](0x3,_0x6d31d['length']-0x3)[_0x145af0(0xb6d)]());let _0x2d8a6a=JSON[_0x145af0(0x942)](_0x6d31d);if(_0x3370ce){if(_0xe26368!==null){}else currentQuizData=_0x2d8a6a,displayGeneratedQuiz(currentQuizData,_0x1dbdf0,_0x56bbaa);}return _0x2d8a6a;}else return _0x1bf9d0;}catch(_0xb23e05){console[_0x145af0(0xd98)]('Error\x20in\x20handleApiCall:',_0xb23e05),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0xb23e05[_0x145af0(0xa9f)]);_0x3370ce&&(_0x667f60['innerHTML']=_0x145af0(0x891));throw _0xb23e05;}finally{_0x23697a['classList']['add'](_0x145af0(0x414)),document['getElementById']('generate-from-topic-btn')[_0x145af0(0xd66)]=![],document[_0x145af0(0x242)]('generate-from-text-btn')['disabled']=![],document[_0x145af0(0x242)](_0x145af0(0xd10))[_0x145af0(0xd66)]=![];if(_0x54761d)_0x54761d[_0x145af0(0xd66)]=![];if(_0x47e030)_0x47e030['disabled']=![];if(_0x2f772f)_0x2f772f[_0x145af0(0xd66)]=![];}}function exitFullscreen(){const _0x59274f=_0x1dab5f;if(document[_0x59274f(0x549)])document[_0x59274f(0x549)]()['catch'](_0x364ca9=>console['error'](_0x364ca9));else{if(document[_0x59274f(0x63c)])document[_0x59274f(0x63c)]();else document['msExitFullscreen']&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x58263e=_0x1dab5f,_0x528368=document[_0x58263e(0x1eb)];if(_0x528368[_0x58263e(0xb49)])_0x528368['requestFullscreen']()[_0x58263e(0xd68)](_0x5eb440=>{const _0x260533=_0x58263e;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x5eb440['message']+'\x20('+_0x5eb440[_0x260533(0x4cc)]+')');});else{if(_0x528368[_0x58263e(0xd89)])_0x528368[_0x58263e(0xd89)]();else _0x528368[_0x58263e(0x56c)]&&_0x528368[_0x58263e(0x56c)]();}}function handleCheatingEvent(){const _0x2f1893=_0x1dab5f;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x2f1893(0x240),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x2f1893(0xdd2)),document[_0x2f1893(0x242)](_0x2f1893(0x76d))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x2f1893(0x232)]('visibilitychange',handleVisibilityChange),document[_0x2f1893(0x232)](_0x2f1893(0x5e5),handleFullscreenChange)):showMessage(_0x2f1893(0x11e)+cheatAttempts+'/'+maxCheatAttempts+_0x2f1893(0xe09),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x3c151c=_0x1dab5f;if(currentMode===_0x3c151c(0x122)||!isQuizActive)return;if(document[_0x3c151c(0x577)]===_0x3c151c(0x414))handleCheatingEvent();else document[_0x3c151c(0x577)]===_0x3c151c(0x365)&&(console[_0x3c151c(0x383)](_0x3c151c(0xe13)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x1a093d=_0x1dab5f;if(currentMode===_0x1a093d(0x122)||!isQuizActive)return;!document[_0x1a093d(0x237)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x555114,_0x206b1=null,_0x1916df=null){const _0x43961d=_0x1dab5f,_0x24ecfa=document[_0x43961d(0x242)](_0x43961d(0x6e5));let _0x2547df=_0x43961d(0xbbd)+_0x555114[_0x43961d(0xe0e)]+_0x43961d(0x25b);_0x555114[_0x43961d(0x3ef)][_0x43961d(0xbdf)]((_0x3ed1b8,_0x2611c5)=>{const _0x802471=_0x43961d;!_0x3ed1b8['id']&&(_0x3ed1b8['id']='q_'+Date[_0x802471(0xaf6)]()+'_'+_0x2611c5);const _0x18bb05=_0x3ed1b8[_0x802471(0x5c5)]||_0x555114['quizType'];_0x2547df+=_0x802471(0x9e6)+_0x2611c5+_0x802471(0x333)+_0x2611c5+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2611c5+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x18bb05){case _0x802471(0x6ca):_0x2547df+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2611c5+'\x22>'+(_0x2611c5+0x1)+'.\x20'+_0x3ed1b8[_0x802471(0xd64)]+_0x802471(0xe0b);_0x3ed1b8['imageCode']&&(_0x2547df+=_0x802471(0xa7f)+_0x2611c5+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3ed1b8[_0x802471(0xb12)]+'</div>');_0x2547df+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x2611c5+'\x22>'+_0x3ed1b8[_0x802471(0x38f)]+_0x802471(0x13c),_0x2547df+=_0x802471(0x1ee)+_0x2611c5+'\x22>'+_0x3ed1b8[_0x802471(0xaeb)]+_0x802471(0x13c);break;case _0x802471(0xb16):_0x2547df+=_0x802471(0xb6e)+_0x2611c5+'\x22>'+(_0x2611c5+0x1)+'.\x20'+_0x3ed1b8[_0x802471(0x8c4)]+_0x802471(0xe0b);_0x3ed1b8['imageCode']&&(_0x2547df+=_0x802471(0xa7f)+_0x2611c5+_0x802471(0x1a9)+_0x3ed1b8[_0x802471(0xb12)]+'</div>');_0x2547df+=_0x802471(0x791)+_0x2611c5+'\x22>'+_0x3ed1b8['idealAnswer']+'</span></div>',_0x2547df+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2611c5+'\x22>'+_0x3ed1b8['explanation']+'</span></div>';break;case _0x802471(0x66d):_0x2547df+=_0x802471(0xb6e)+_0x2611c5+'\x22>'+(_0x2611c5+0x1)+'.\x20'+_0x3ed1b8[_0x802471(0x8c4)]+'</p>';_0x3ed1b8['imageCode']&&(_0x2547df+=_0x802471(0xa7f)+_0x2611c5+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3ed1b8[_0x802471(0xb12)]+'</div>');_0x2547df+=_0x802471(0x5dc)+(_0x3ed1b8[_0x802471(0xbec)]===!![]?_0x802471(0x437):'')+_0x802471(0xc5d)+(_0x3ed1b8[_0x802471(0xbec)]===![]?_0x802471(0x437):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x2547df+=_0x802471(0x1ee)+_0x2611c5+'\x22>'+_0x3ed1b8[_0x802471(0xaeb)]+_0x802471(0x13c);break;case _0x802471(0xe1e):case _0x802471(0x423):default:_0x2547df+=_0x802471(0xb6e)+_0x2611c5+'\x22>'+(_0x2611c5+0x1)+'.\x20'+_0x3ed1b8['questionText']+_0x802471(0xe0b);_0x3ed1b8[_0x802471(0xb12)]&&(_0x2547df+=_0x802471(0xa7f)+_0x2611c5+_0x802471(0x1a9)+_0x3ed1b8[_0x802471(0xb12)]+_0x802471(0x30c));_0x2547df+=_0x802471(0x204)+_0x2611c5+_0x802471(0xbeb)+(_0x3ed1b8[_0x802471(0x381)]||[])[_0x802471(0xdc6)]((_0x50b19f,_0x4f88e8)=>_0x802471(0x48f)+(_0x4f88e8===_0x3ed1b8['correctAnswerIndex']?_0x802471(0x437):'')+'\x22>'+_0x50b19f+_0x802471(0x489))[_0x802471(0xe10)]('')+_0x802471(0x7d6),_0x2547df+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2611c5+'\x22>'+_0x3ed1b8[_0x802471(0xaeb)]+_0x802471(0x13c);break;}_0x2547df+='</div>';}),_0x2547df+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x24ecfa[_0x43961d(0x90d)]=_0x2547df,document[_0x43961d(0x99b)](_0x43961d(0x6bb))[_0x43961d(0xbdf)](_0x4c1d7e=>_0x4c1d7e['addEventListener']('click',handleEditQuestion)),document[_0x43961d(0x99b)]('.regenerate-question-btn')[_0x43961d(0xbdf)](_0x4ef19d=>_0x4ef19d[_0x43961d(0x264)](_0x43961d(0xc23),handleRegenerateQuestion)),document[_0x43961d(0x242)](_0x43961d(0x7f2))[_0x43961d(0x264)](_0x43961d(0xc23),exportQuizAsWorksheetPDF),document[_0x43961d(0x242)](_0x43961d(0x931))['addEventListener'](_0x43961d(0xc23),handleVerifyAnswers);const _0xf0cf2e=document['getElementById'](_0x43961d(0xc63));if(_0xf0cf2e){const _0xe8e30b=_0x206b1||currentProjectId;_0xf0cf2e[_0x43961d(0x264)]('click',()=>saveQuiz(_0xe8e30b,_0x1916df));}if(window['MathJax'])window[_0x43961d(0x972)][_0x43961d(0xde3)]([_0x24ecfa]);}function handleRegenerateQuestion(_0x310522){const _0x523ef1=_0x1dab5f,_0x11d549=_0x310522[_0x523ef1(0x479)][_0x523ef1(0xb42)]['index'],_0x5632b0=currentQuizData[_0x523ef1(0xe0e)];showMessage(_0x523ef1(0x7ae)+(parseInt(_0x11d549)+0x1)+_0x523ef1(0xd5d)),generateQuiz(_0x5632b0,null,parseInt(_0x11d549));}function getPointerPosition(_0x3dd6c3,_0x513289){const _0x4d0ae5=_0x1dab5f,_0x1e3764=_0x3dd6c3[_0x4d0ae5(0x2ec)]();let _0xecb202,_0x1b13b3;return _0x513289[_0x4d0ae5(0x326)]&&_0x513289['touches'][_0x4d0ae5(0x283)]>0x0?(_0xecb202=_0x513289[_0x4d0ae5(0x326)][0x0][_0x4d0ae5(0x129)],_0x1b13b3=_0x513289[_0x4d0ae5(0x326)][0x0][_0x4d0ae5(0x95e)]):(_0xecb202=_0x513289[_0x4d0ae5(0x129)],_0x1b13b3=_0x513289[_0x4d0ae5(0x95e)]),{'x':(_0xecb202-_0x1e3764['e'])/_0x1e3764['a'],'y':(_0x1b13b3-_0x1e3764['f'])/_0x1e3764['d']};}function startDrag(_0x450263){const _0x38244d=_0x1dab5f;_0x450263['type']===_0x38244d(0xbc0)&&_0x450263[_0x38244d(0xc2b)]();const _0x1d81a8=_0x450263[_0x38244d(0x230)][_0x38244d(0xc75)](_0x38244d(0xba2));if(_0x1d81a8){draggedSvgElement=_0x1d81a8;const _0x71af3=draggedSvgElement[_0x38244d(0x320)],_0x19140b=getPointerPosition(_0x71af3,_0x450263);svgOffset['x']=_0x19140b['x']-parseFloat(draggedSvgElement[_0x38244d(0x8d8)](null,'x')),svgOffset['y']=_0x19140b['y']-parseFloat(draggedSvgElement[_0x38244d(0x8d8)](null,'y'));}}function calculateItemAnalysis(_0x51bb55,_0x1e5c90){const _0x1b0ee4=_0x1dab5f,_0x24dfd7={};if(_0x1e5c90['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x5af129=[..._0x1e5c90]['sort']((_0x1ecdbc,_0x5a08e7)=>{const _0x57a909=_0x5ef1,_0x2263ef=_0x5a08e7[_0x57a909(0x35a)]-_0x1ecdbc[_0x57a909(0x35a)];if(_0x2263ef!==0x0)return _0x2263ef;const _0x183220=_0x1ecdbc[_0x57a909(0xac3)]?.[_0x57a909(0x283)]||0x1,_0x1b5b66=_0x5a08e7['attempts']?.['length']||0x1,_0x94b47f=_0x183220-_0x1b5b66;if(_0x94b47f!==0x0)return _0x94b47f;const _0x29af88=new Date(_0x1ecdbc['latestSubmittedAt']),_0x405726=new Date(_0x5a08e7['latestSubmittedAt']),_0x5b1f48=_0x29af88-_0x405726;if(_0x5b1f48!==0x0)return _0x5b1f48;return _0x1ecdbc[_0x57a909(0xcf3)][_0x57a909(0x46f)](_0x5a08e7[_0x57a909(0xcf3)],'th');}),_0x51d855=_0x5af129[_0x1b0ee4(0x283)],_0x513520=Math[_0x1b0ee4(0xcd3)](0x1,Math[_0x1b0ee4(0x95d)](_0x51d855*0.33));if(_0x513520===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3ab7f6=_0x5af129[_0x1b0ee4(0x801)](0x0,_0x513520),_0x3c588b=_0x5af129[_0x1b0ee4(0x801)](-_0x513520),_0x34fbac=_0x3ab7f6['map'](_0x5a364e=>_0x5a364e['studentName']),_0x3ff01a=_0x3c588b[_0x1b0ee4(0xdc6)](_0xe8682d=>_0xe8682d[_0x1b0ee4(0xcf3)]);return _0x51bb55[_0x1b0ee4(0x3ef)][_0x1b0ee4(0xbdf)]((_0x28f708,_0x4fe384)=>{const _0x1a57bb=_0x1b0ee4,_0x41cbf0=_0x28f708['stem']||_0x28f708[_0x1a57bb(0x8c4)];let _0xd31e05=0x0,_0x37455e=0x0,_0x48bf02=0x0;const _0x5283a9=[],_0x239622=[];_0x3ab7f6['forEach'](_0x207069=>{const _0x29b996=_0x1a57bb,_0x6aa4b4=_0x207069[_0x29b996(0xac3)][_0x207069[_0x29b996(0xac3)][_0x29b996(0x283)]-0x1],_0x131c0b=_0x6aa4b4[_0x29b996(0x922)][_0x29b996(0x794)](_0x15442e=>_0x15442e[_0x29b996(0x947)]===_0x41cbf0);_0x5283a9[_0x29b996(0x20e)]({'name':_0x207069['studentName'],'isCorrect':_0x131c0b?_0x131c0b[_0x29b996(0x56f)]:![]}),_0x131c0b&&_0x131c0b[_0x29b996(0x56f)]&&_0x37455e++;}),_0x3c588b[_0x1a57bb(0xbdf)](_0x4bde64=>{const _0x7b906d=_0x1a57bb,_0x41acea=_0x4bde64[_0x7b906d(0xac3)][_0x4bde64[_0x7b906d(0xac3)]['length']-0x1],_0x3520a1=_0x41acea[_0x7b906d(0x922)][_0x7b906d(0x794)](_0x40604a=>_0x40604a[_0x7b906d(0x947)]===_0x41cbf0);_0x239622[_0x7b906d(0x20e)]({'name':_0x4bde64[_0x7b906d(0xcf3)],'isCorrect':_0x3520a1?_0x3520a1[_0x7b906d(0x56f)]:![]}),_0x3520a1&&_0x3520a1[_0x7b906d(0x56f)]&&_0x48bf02++;}),_0x1e5c90['forEach'](_0x59ca76=>{const _0x58a938=_0x1a57bb,_0x180e33=_0x59ca76[_0x58a938(0xac3)][_0x59ca76[_0x58a938(0xac3)][_0x58a938(0x283)]-0x1],_0x13fcee=_0x180e33[_0x58a938(0x922)][_0x58a938(0x794)](_0x51ac88=>_0x51ac88[_0x58a938(0x947)]===_0x41cbf0);_0x13fcee&&_0x13fcee[_0x58a938(0x56f)]&&_0xd31e05++;});const _0x1bdb3d=_0x51d855>0x0?_0xd31e05/_0x51d855:0x0,_0x25a14b=_0x513520>0x0?_0x37455e/_0x513520-_0x48bf02/_0x513520:0x0;_0x24dfd7[_0x4fe384]={'p':_0x1bdb3d,'r':_0x25a14b,'upperGroupResponders':_0x5283a9,'lowerGroupResponders':_0x239622};}),{'perQuestionStats':_0x24dfd7,'overallGroups':{'upperGroupNames':_0x34fbac,'lowerGroupNames':_0x3ff01a}};}function drag(_0x52f5fa){const _0x2c87ab=_0x1dab5f;if(draggedSvgElement){_0x52f5fa['preventDefault']();const _0x40c4bd=draggedSvgElement[_0x2c87ab(0x320)],_0x14b360=getPointerPosition(_0x40c4bd,_0x52f5fa),_0x11f332=_0x40c4bd[_0x2c87ab(0xdf9)][_0x2c87ab(0x354)];let _0x295c33=_0x14b360['x']-svgOffset['x'],_0x215e4b=_0x14b360['y']-svgOffset['y'];const _0x6247c9=draggedSvgElement['getBBox']();_0x295c33=Math[_0x2c87ab(0xcd3)](_0x11f332['x'],Math[_0x2c87ab(0xcc7)](_0x295c33,_0x11f332['x']+_0x11f332['width']-_0x6247c9['width'])),_0x215e4b=Math['max'](_0x11f332['y'],Math['min'](_0x215e4b,_0x11f332['y']+_0x11f332[_0x2c87ab(0xbaf)]-_0x6247c9[_0x2c87ab(0xbaf)])),draggedSvgElement[_0x2c87ab(0x94b)](null,'x',_0x295c33),draggedSvgElement[_0x2c87ab(0x94b)](null,'y',_0x215e4b);}}function endDrag(_0x1affdb){draggedSvgElement=null;}function handleSvgEditClick(_0x1e0976){const _0x16fc9e=_0x1dab5f;if(_0x1e0976[_0x16fc9e(0x230)][_0x16fc9e(0xe19)][_0x16fc9e(0x52e)](_0x16fc9e(0x690))){const _0x1afc1d=_0x1e0976[_0x16fc9e(0x230)]['dataset'][_0x16fc9e(0x369)],_0x1839bb=_0x1e0976[_0x16fc9e(0x479)],_0x4a6e5d=_0x1839bb[_0x16fc9e(0xb19)]('#'+_0x1afc1d);_0x4a6e5d&&_0x4a6e5d[_0x16fc9e(0x677)](),_0x1e0976['target'][_0x16fc9e(0x677)]();}}function handleEditQuestion(_0x30b367){const _0xda1eb8=_0x1dab5f,_0x5b1194=_0x30b367[_0xda1eb8(0x479)],_0x316d2f=_0x5b1194[_0xda1eb8(0xb42)][_0xda1eb8(0x6a8)],_0x240e8f=currentQuizData[_0xda1eb8(0x3ef)][_0x316d2f],_0x1d0b49=document[_0xda1eb8(0x242)](_0xda1eb8(0x8b4)+_0x316d2f),_0x852f85=document[_0xda1eb8(0x242)](_0xda1eb8(0x1d3)+_0x316d2f),_0x3d8610=document[_0xda1eb8(0x242)](_0xda1eb8(0x4b9)+_0x316d2f);if(_0x5b1194[_0xda1eb8(0x90d)][_0xda1eb8(0x87f)]('fa-pen')){_0x5b1194[_0xda1eb8(0x90d)]=_0xda1eb8(0x370),_0x5b1194[_0xda1eb8(0x55f)]=_0xda1eb8(0x17b);if(_0x1d0b49)_0x1d0b49['contentEditable']=!![];if(_0x852f85)_0x852f85[_0xda1eb8(0x3f8)]=!![];if(_0x3d8610){const _0x2d7726=_0x3d8610['querySelector'](_0xda1eb8(0x85a));if(_0x2d7726){const _0x47717e=_0x2d7726['querySelectorAll']('text');_0x47717e[_0xda1eb8(0xbdf)]((_0x427ff6,_0xaab6bd)=>{const _0x22af21=_0xda1eb8,_0x368a02=_0x22af21(0x661)+_0x316d2f+'-'+_0xaab6bd;_0x427ff6['id']=_0x368a02,_0x427ff6[_0x22af21(0xe19)][_0x22af21(0x27c)]('draggable-text'),_0x427ff6[_0x22af21(0x271)][_0x22af21(0x7a0)]=_0x22af21(0x4eb);const _0x5f27e6=document[_0x22af21(0xae8)](_0x22af21(0xa87),_0x22af21(0x58b)),_0x111125=_0x427ff6['getBBox']();_0x5f27e6[_0x22af21(0xbd6)]('cx',String(_0x111125['x']+_0x111125[_0x22af21(0xa5b)]+0x5)),_0x5f27e6[_0x22af21(0xbd6)]('cy',String(_0x111125['y']+_0x111125[_0x22af21(0xbaf)]/0x2-0x5)),_0x5f27e6[_0x22af21(0xbd6)]('r','5'),_0x5f27e6[_0x22af21(0xbd6)]('fill',_0x22af21(0xa51)),_0x5f27e6[_0x22af21(0xbd6)](_0x22af21(0xbd8),_0x22af21(0x690)),_0x5f27e6[_0x22af21(0xb42)]['targetId']=_0x368a02,_0x427ff6['after'](_0x5f27e6);}),_0x2d7726[_0xda1eb8(0x264)]('mousedown',startDrag),_0x2d7726['addEventListener'](_0xda1eb8(0x7fd),drag),_0x2d7726['addEventListener']('mouseup',endDrag),_0x2d7726[_0xda1eb8(0x264)](_0xda1eb8(0x7ec),endDrag),_0x2d7726[_0xda1eb8(0x264)](_0xda1eb8(0xbc0),startDrag,{'passive':![]}),_0x2d7726[_0xda1eb8(0x264)](_0xda1eb8(0x5d9),drag,{'passive':![]}),_0x2d7726[_0xda1eb8(0x264)](_0xda1eb8(0x594),endDrag),_0x2d7726[_0xda1eb8(0x264)](_0xda1eb8(0xdd8),endDrag),_0x2d7726[_0xda1eb8(0x264)](_0xda1eb8(0xc23),handleSvgEditClick);}}if(_0x1d0b49)_0x1d0b49[_0xda1eb8(0xaf4)]();}else{_0x5b1194[_0xda1eb8(0x90d)]=_0xda1eb8(0xbea),_0x5b1194['title']=_0xda1eb8(0x3fb);if(_0x1d0b49){_0x1d0b49[_0xda1eb8(0x3f8)]=![];const _0x220fe9=_0x240e8f[_0xda1eb8(0x5c5)]||currentQuizData[_0xda1eb8(0x11f)];_0x220fe9===_0xda1eb8(0x6ca)?_0x240e8f[_0xda1eb8(0xd64)]=_0x1d0b49[_0xda1eb8(0x9f5)][_0xda1eb8(0xc12)](_0x1d0b49['innerText']['indexOf']('.')+0x2)[_0xda1eb8(0xb6d)]():_0x240e8f['questionText']=_0x1d0b49[_0xda1eb8(0x9f5)][_0xda1eb8(0xc12)](_0x1d0b49[_0xda1eb8(0x9f5)][_0xda1eb8(0x570)]('.')+0x2)['trim']();}_0x852f85&&(_0x852f85[_0xda1eb8(0x3f8)]=![],_0x240e8f[_0xda1eb8(0xaeb)]=_0x852f85[_0xda1eb8(0x9f5)]);if(_0x3d8610){const _0x505b85=_0x3d8610['querySelector'](_0xda1eb8(0x85a));if(_0x505b85){const _0x376f4e=_0x505b85[_0xda1eb8(0xcc0)](!![]);_0x376f4e[_0xda1eb8(0x99b)](_0xda1eb8(0x65d))[_0xda1eb8(0xbdf)](_0x570bff=>_0x570bff['remove']()),_0x376f4e[_0xda1eb8(0x99b)](_0xda1eb8(0xba2))[_0xda1eb8(0xbdf)](_0x2a042f=>{const _0x5c915d=_0xda1eb8;_0x2a042f[_0x5c915d(0xe19)][_0x5c915d(0x677)](_0x5c915d(0x3af)),_0x2a042f[_0x5c915d(0x271)][_0x5c915d(0x7a0)]=_0x5c915d(0xadb),_0x2a042f[_0x5c915d(0xb71)]('id');}),_0x240e8f[_0xda1eb8(0xb12)]=_0x376f4e['outerHTML'],_0x505b85['removeEventListener']('mousedown',startDrag),_0x505b85[_0xda1eb8(0x232)](_0xda1eb8(0x7fd),drag),_0x505b85[_0xda1eb8(0x232)]('mouseup',endDrag),_0x505b85['removeEventListener'](_0xda1eb8(0x7ec),endDrag),_0x505b85[_0xda1eb8(0x232)]('touchstart',startDrag),_0x505b85[_0xda1eb8(0x232)](_0xda1eb8(0x5d9),drag),_0x505b85[_0xda1eb8(0x232)](_0xda1eb8(0x594),endDrag),_0x505b85[_0xda1eb8(0x232)](_0xda1eb8(0xdd8),endDrag),_0x505b85[_0xda1eb8(0x232)](_0xda1eb8(0xc23),handleSvgEditClick),_0x505b85[_0xda1eb8(0x99b)](_0xda1eb8(0x65d))['forEach'](_0x592572=>_0x592572[_0xda1eb8(0x677)]()),_0x505b85[_0xda1eb8(0x99b)](_0xda1eb8(0xba2))[_0xda1eb8(0xbdf)](_0xdcd16f=>{const _0x477626=_0xda1eb8;_0xdcd16f['classList']['remove'](_0x477626(0x3af)),_0xdcd16f[_0x477626(0x271)][_0x477626(0x7a0)]=_0x477626(0xadb);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x59c597){const _0x354866=_0x1dab5f,_0x470184=document[_0x354866(0x242)]('quiz-editor-modal'),_0x4f8d95=document[_0x354866(0x242)](_0x354866(0x82d));_0x4f8d95[_0x354866(0x90d)]=_0x354866(0x602),_0x470184[_0x354866(0xe19)][_0x354866(0x677)]('hidden');try{const _0x587f5c=doc(db,_0x354866(0xb99)+appId+_0x354866(0x48d),_0x59c597),_0x2c7557=await getDoc(_0x587f5c);if(!_0x2c7557[_0x354866(0xb96)]())throw new Error(_0x354866(0x580));currentEditingQuizData={'id':_0x59c597,..._0x2c7557[_0x354866(0x1f1)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4c6310){console[_0x354866(0xd98)](_0x354866(0xd43),_0x4c6310),showMessage(_0x354866(0x937)),_0x470184[_0x354866(0xe19)][_0x354866(0x27c)](_0x354866(0x414));}}function renderQuizEditor(_0x47b1d8){const _0x572899=_0x1dab5f;document[_0x572899(0x242)]('editor-quiz-topic')[_0x572899(0xbfb)]=_0x47b1d8[_0x572899(0xe0e)];const _0x14f30b=document[_0x572899(0x242)]('quiz-editor-questions-container');let _0x45101f=_0x47b1d8['questions'][_0x572899(0xdc6)]((_0x83895,_0x3af0ce)=>{const _0x5c1e74=_0x572899;let _0x112fce='';const _0x21146f=_0x83895[_0x5c1e74(0x5c5)]||_0x47b1d8['quizType'];switch(_0x21146f){case _0x5c1e74(0x423):const _0x23b38f=(_0x83895[_0x5c1e74(0x381)]||[])[_0x5c1e74(0xdc6)]((_0x478093,_0x585bcc)=>_0x5c1e74(0x67a)+_0x3af0ce+_0x5c1e74(0xaff)+_0x585bcc+'\x22\x20'+(_0x585bcc===_0x83895[_0x5c1e74(0xd79)]?_0x5c1e74(0xa7e):'')+_0x5c1e74(0x74a)+_0x478093+_0x5c1e74(0x4d0))[_0x5c1e74(0xe10)]('');_0x112fce=_0x5c1e74(0x18a)+_0x23b38f+_0x5c1e74(0x3c4);break;case'short_answer':_0x112fce=_0x5c1e74(0x4f7)+(_0x83895[_0x5c1e74(0x424)]||'')+_0x5c1e74(0x6c7);break;case _0x5c1e74(0x66d):_0x112fce=_0x5c1e74(0x3df)+_0x3af0ce+'\x22\x20value=\x22true\x22\x20'+(_0x83895[_0x5c1e74(0xbec)]===!![]?'checked':'')+_0x5c1e74(0x3d8)+_0x3af0ce+_0x5c1e74(0x9b1)+(_0x83895[_0x5c1e74(0xbec)]===![]?_0x5c1e74(0xa7e):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5c1e74(0x6ca):_0x112fce=_0x5c1e74(0x6de)+(_0x83895[_0x5c1e74(0x38f)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x4bca7a=_0x83895[_0x5c1e74(0x8c4)]||_0x83895[_0x5c1e74(0xd64)]||'';return _0x4bca7a=_0x4bca7a[_0x5c1e74(0x38c)](/<br\s*\/?>/gi,'\x0a'),_0x5c1e74(0xb93)+_0x3af0ce+_0x5c1e74(0xb83)+_0x21146f+_0x5c1e74(0xbac)+(_0x3af0ce+0x1)+'\x20('+_0x21146f+_0x5c1e74(0x4ca)+_0x4bca7a+_0x5c1e74(0x380)+_0x112fce+_0x5c1e74(0x46d);})['join']('');_0x14f30b[_0x572899(0x90d)]=_0x45101f;const _0x9fc693=_0x572899(0x213);_0x14f30b[_0x572899(0x2c6)](_0x572899(0xad1),_0x9fc693),_0x14f30b[_0x572899(0x99b)](_0x572899(0x367))[_0x572899(0xbdf)](_0x58b73b=>{const _0x517d07=_0x572899;_0x58b73b[_0x517d07(0x271)][_0x517d07(0xa07)]=_0x517d07(0x414),_0x58b73b[_0x517d07(0x271)][_0x517d07(0x9d3)]=_0x517d07(0xc30),_0x58b73b[_0x517d07(0x5c7)]=0x4;const _0xababd3=()=>{const _0x5886de=_0x517d07;_0x58b73b['style'][_0x5886de(0xbaf)]=_0x5886de(0x3d6),_0x58b73b[_0x5886de(0x271)][_0x5886de(0xbaf)]=_0x58b73b[_0x5886de(0x17c)]+'px';};_0x58b73b[_0x517d07(0x264)](_0x517d07(0x746),_0xababd3),_0xababd3();}),_0x14f30b[_0x572899(0x99b)]('.ai-fix-question-btn')[_0x572899(0xbdf)](_0x40b9c5=>{const _0x45c144=_0x572899;_0x40b9c5['addEventListener'](_0x45c144(0xc23),handleAiFixQuestion);});}function _0x5ef1(_0x3ad7a3,_0x3236ef){const _0x25cbce=_0x25cb();return _0x5ef1=function(_0x5ef130,_0x581d94){_0x5ef130=_0x5ef130-0x10b;let _0x23d7cc=_0x25cbce[_0x5ef130];return _0x23d7cc;},_0x5ef1(_0x3ad7a3,_0x3236ef);}function handleDeleteQuestionInEditor(_0x19e5ce){const _0x67f35f=_0x1dab5f;if(!currentEditingQuizData||!currentEditingQuizData[_0x67f35f(0x3ef)][_0x19e5ce])return;const _0x20ac86=currentEditingQuizData['questions'][_0x19e5ce][_0x67f35f(0x8c4)]||currentEditingQuizData[_0x67f35f(0x3ef)][_0x19e5ce]['stem'];showConfirmation(_0x67f35f(0xb8a)+(_0x19e5ce+0x1)+_0x67f35f(0x85b)+_0x20ac86[_0x67f35f(0xc12)](0x0,0x14)+_0x67f35f(0x196),()=>{const _0x3a93d6=_0x67f35f;currentEditingQuizData['questions'][_0x3a93d6(0x121)](_0x19e5ce,0x1),renderQuizEditor(currentEditingQuizData),showMessage('ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)');});}function handleAddQuestionInEditor(){const _0x17732a=_0x1dab5f;if(!currentEditingQuizData)return;const _0x56cda0={'id':'q_'+Date[_0x17732a(0xaf6)]()+_0x17732a(0x469),'questionType':_0x17732a(0x423),'questionText':'---\x20[คำถามใหม่]\x20---','options':[_0x17732a(0x197),_0x17732a(0x721),'ตัวเลือก\x20ค',_0x17732a(0x6e4)],'correctAnswerIndex':0x0,'explanation':'คำอธิบาย...'};currentEditingQuizData[_0x17732a(0x3ef)]['push'](_0x56cda0),renderQuizEditor(currentEditingQuizData);const _0x3f11ed=document[_0x17732a(0xb19)](_0x17732a(0xd5c));_0x3f11ed&&(_0x3f11ed['scrollIntoView']({'behavior':_0x17732a(0xa74),'block':'center'}),_0x3f11ed[_0x17732a(0xb19)]('textarea')[_0x17732a(0xaf4)]());}async function handleAiFixQuestion(_0x524e12){const _0x582d8f=_0x1dab5f,_0x188465=_0x524e12[_0x582d8f(0x479)],_0x1b78b9=_0x188465[_0x582d8f(0xc75)](_0x582d8f(0x8d2));if(!_0x1b78b9)return;const _0x9f0781=parseInt(_0x1b78b9[_0x582d8f(0xb42)]['qIndex'],0xa);if(isNaN(_0x9f0781)||!currentEditingQuizData[_0x582d8f(0x3ef)][_0x9f0781]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x288ab6=currentEditingQuizData[_0x582d8f(0x3ef)][_0x9f0781];_0x188465[_0x582d8f(0x90d)]=_0x582d8f(0xc11),_0x188465[_0x582d8f(0xd66)]=!![];const _0x59a5ab=_0x582d8f(0x85e)+JSON[_0x582d8f(0x3a5)](_0x288ab6)+_0x582d8f(0x72e);let _0x123c09;const _0x1a3fad=_0x288ab6[_0x582d8f(0x5c5)]||currentEditingQuizData['quizType'];switch(_0x1a3fad){case _0x582d8f(0xb16):_0x123c09={'type':_0x582d8f(0x674),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x582d8f(0xb13)},'explanation':{'type':_0x582d8f(0xb13)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x582d8f(0x424),_0x582d8f(0xaeb)]};break;case _0x582d8f(0x423):default:_0x123c09={'type':_0x582d8f(0x674),'properties':{'questionText':{'type':_0x582d8f(0xb13)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x582d8f(0x2ad)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x582d8f(0x8c4),_0x582d8f(0x381),'correctAnswerIndex',_0x582d8f(0xaeb)]};break;}try{let _0x2efab2=await callAnalysisApi(_0x59a5ab,_0x123c09);_0x2efab2[_0x582d8f(0x381)]&&Array['isArray'](_0x2efab2[_0x582d8f(0x381)])&&(_0x2efab2[_0x582d8f(0x381)]=_0x2efab2[_0x582d8f(0x381)][_0x582d8f(0xdc6)](_0x516930=>typeof _0x516930===_0x582d8f(0xa06)?_0x516930[_0x582d8f(0x38c)](/S(\s*[\d_]+?\s*)S/g,_0x582d8f(0xc0f)):_0x516930)),_0x288ab6[_0x582d8f(0xb12)]&&_0x288ab6[_0x582d8f(0xb12)][_0x582d8f(0x87f)]('fix\x20the\x20option')&&(_0x2efab2['imageCode']=''),currentEditingQuizData[_0x582d8f(0x3ef)][_0x9f0781]={..._0x288ab6,..._0x2efab2},renderQuizEditor(currentEditingQuizData),showMessage(_0x582d8f(0x7a6));}catch(_0x3817f0){console[_0x582d8f(0xd98)]('AI\x20Fix\x20Error:',_0x3817f0),showMessage(_0x582d8f(0x8b9)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x44b15c=_0x1dab5f,_0x465f54=document[_0x44b15c(0x242)]('save-quiz-edits-btn');_0x465f54[_0x44b15c(0xd66)]=!![],_0x465f54[_0x44b15c(0x90d)]=_0x44b15c(0x54d);try{const _0x31fa1d=document[_0x44b15c(0x242)]('editor-quiz-topic')[_0x44b15c(0xbfb)],_0x33dde2=document[_0x44b15c(0x99b)](_0x44b15c(0x8d2));let _0x22579b=[];const _0x4db16a=Array[_0x44b15c(0x155)](_0x33dde2)[_0x44b15c(0xdc6)]((_0x38ab7a,_0x114678)=>{const _0x10f7c5=_0x44b15c,_0x526801=_0x38ab7a[_0x10f7c5(0xb42)][_0x10f7c5(0x754)],_0x3f9bfc=_0x38ab7a[_0x10f7c5(0xb19)]('textarea')[_0x10f7c5(0xbfb)][_0x10f7c5(0x38c)](/\n/g,'<br>');let _0x30fb5f={'questionType':_0x526801};const _0x3bc496=currentEditingQuizData[_0x10f7c5(0x3ef)][_0x114678];switch(_0x526801){case'multiple_choice':_0x30fb5f[_0x10f7c5(0x8c4)]=_0x3f9bfc;const _0x372b57=_0x38ab7a[_0x10f7c5(0x99b)](_0x10f7c5(0x85f));_0x30fb5f[_0x10f7c5(0x381)]=Array[_0x10f7c5(0x155)](_0x372b57)[_0x10f7c5(0xdc6)](_0x463ce0=>_0x463ce0[_0x10f7c5(0xbfb)]);const _0xcea57f=_0x38ab7a[_0x10f7c5(0xb19)]('input[type=\x22radio\x22]:checked');_0x30fb5f[_0x10f7c5(0xd79)]=_0xcea57f?parseInt(_0xcea57f[_0x10f7c5(0xbfb)]):0x0;break;case _0x10f7c5(0xb16):_0x30fb5f[_0x10f7c5(0x8c4)]=_0x3f9bfc,_0x30fb5f[_0x10f7c5(0x424)]=_0x38ab7a[_0x10f7c5(0xb19)](_0x10f7c5(0xd84))[_0x10f7c5(0xbfb)];break;case _0x10f7c5(0x66d):_0x30fb5f[_0x10f7c5(0x8c4)]=_0x3f9bfc;const _0x1ffeac=_0x38ab7a[_0x10f7c5(0xb19)]('input[type=\x22radio\x22]:checked');_0x30fb5f['correctAnswer']=_0x1ffeac?_0x1ffeac[_0x10f7c5(0xbfb)]===_0x10f7c5(0x6cf):!![];break;case'matching_item':_0x30fb5f[_0x10f7c5(0xd64)]=_0x3f9bfc;const _0x3cb508=_0x38ab7a[_0x10f7c5(0xb19)]('.correct-response-input');_0x30fb5f[_0x10f7c5(0x38f)]=_0x3cb508?_0x3cb508[_0x10f7c5(0xbfb)]:'',_0x22579b[_0x10f7c5(0x20e)](_0x30fb5f[_0x10f7c5(0x38f)]);break;default:_0x30fb5f[_0x10f7c5(0x8c4)]=_0x3f9bfc;break;}return{..._0x3bc496,..._0x30fb5f};});_0x22579b[_0x44b15c(0x283)]>0x0&&_0x4db16a['forEach'](_0x1aba61=>{const _0x12b42b=_0x44b15c;_0x1aba61[_0x12b42b(0x5c5)]===_0x12b42b(0x6ca)&&(_0x1aba61['allResponses']=_0x22579b);});const _0x58bfba=currentEditingQuizData['id'],_0x287d04=doc(db,_0x44b15c(0xb99)+appId+_0x44b15c(0x48d),_0x58bfba);await updateDoc(_0x287d04,{'topic':_0x31fa1d,'questions':_0x4db16a}),document[_0x44b15c(0x242)](_0x44b15c(0xc7a))[_0x44b15c(0xe19)][_0x44b15c(0x27c)](_0x44b15c(0x414)),showMessage(_0x44b15c(0xa98),()=>initiateReGradeProcess(_0x58bfba));}catch(_0x4dd061){console['error']('Error\x20saving\x20quiz\x20edits:',_0x4dd061),showMessage(_0x44b15c(0xc8d));}finally{_0x465f54[_0x44b15c(0xd66)]=![],_0x465f54[_0x44b15c(0x90d)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x21f31c){const _0x5b7d7e=_0x1dab5f;showMessage(_0x5b7d7e(0x861));try{const _0x364c69=doc(db,_0x5b7d7e(0xb99)+appId+_0x5b7d7e(0x48d),_0x21f31c),_0xf4e102=await getDoc(_0x364c69);if(!_0xf4e102[_0x5b7d7e(0xb96)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x3c666b={'id':_0x21f31c,..._0xf4e102[_0x5b7d7e(0x1f1)]()},_0x300977=collection(db,_0x5b7d7e(0xb99)+appId+_0x5b7d7e(0x48d),_0x21f31c,_0x5b7d7e(0x645)),_0x46cb08=await getDocs(_0x300977);if(_0x46cb08[_0x5b7d7e(0x57e)]){showMessage(_0x5b7d7e(0xe1f));return;}const _0x4eea37=_0x46cb08[_0x5b7d7e(0x5ab)]['map'](_0x4778eb=>reGradeSingleSubmission(_0x4778eb,_0x3c666b));await Promise[_0x5b7d7e(0x2af)](_0x4eea37);if(_0x3c666b['projectId']){const _0x13ca3d=doc(db,_0x5b7d7e(0xb99)+appId+_0x5b7d7e(0x636),_0x3c666b[_0x5b7d7e(0x1cf)]),_0x150afe=await getDoc(_0x13ca3d);if(_0x150afe['exists']()&&_0x150afe[_0x5b7d7e(0x1f1)]()[_0x5b7d7e(0x7f8)]){const _0x15bb0b=_0x150afe[_0x5b7d7e(0x1f1)]()['students']['map'](_0x148f21=>updateStudentProfile(_0x3c666b[_0x5b7d7e(0x1cf)],_0x148f21));await Promise[_0x5b7d7e(0x2af)](_0x15bb0b);}}showMessage(_0x5b7d7e(0x6ab)+_0x46cb08[_0x5b7d7e(0x93b)]+_0x5b7d7e(0x2bb));}catch(_0x21a966){console[_0x5b7d7e(0xd98)](_0x5b7d7e(0x660),_0x21a966),showMessage(_0x5b7d7e(0x3a0)+_0x21a966['message']);}}async function reGradeSingleSubmission(_0x1afde2,_0x14d40b){const _0x2d8fd0=_0x1dab5f,_0x1f70e1=_0x1afde2[_0x2d8fd0(0x1f1)](),_0x1a3880=_0x1f70e1[_0x2d8fd0(0xcf3)],_0x4c23f3=_0x1f70e1[_0x2d8fd0(0xac3)]||[],_0x4f6b62=[];for(const _0x4a2db0 of _0x4c23f3){let _0x2b55f8=0x0,_0x527e2b=[],_0x15bfd3=0x0;const _0x404550=[];for(const _0x3c4302 of _0x4a2db0['answers']){let _0x28cd02;_0x3c4302[_0x2d8fd0(0x38e)]&&(_0x28cd02=_0x14d40b[_0x2d8fd0(0x3ef)][_0x2d8fd0(0x794)](_0x5891db=>_0x5891db['id']===_0x3c4302[_0x2d8fd0(0x38e)]));!_0x28cd02&&_0x3c4302[_0x2d8fd0(0x947)]&&(_0x28cd02=_0x14d40b[_0x2d8fd0(0x3ef)]['find'](_0x3fd9c6=>(_0x3fd9c6['stem']||_0x3fd9c6[_0x2d8fd0(0x8c4)])===_0x3c4302[_0x2d8fd0(0x947)]));let _0x3c9b08=![];if(_0x28cd02){const _0x28033c=_0x28cd02['questionType']||_0x14d40b[_0x2d8fd0(0x11f)];switch(_0x28033c){case _0x2d8fd0(0x423):if(_0x28cd02[_0x2d8fd0(0x381)]&&_0x28cd02[_0x2d8fd0(0xd79)]<_0x28cd02[_0x2d8fd0(0x381)][_0x2d8fd0(0x283)]){const _0x4d0b9d=_0x28cd02['options'][_0x28cd02[_0x2d8fd0(0xd79)]];_0x3c9b08=_0x3c4302[_0x2d8fd0(0x25d)]===_0x4d0b9d;}break;case _0x2d8fd0(0x66d):const _0x47a1e3=_0x3c4302['answer']===!![]||_0x3c4302[_0x2d8fd0(0x5d6)]===_0x2d8fd0(0x6cf);_0x3c9b08=_0x47a1e3===_0x28cd02[_0x2d8fd0(0xbec)];break;case _0x2d8fd0(0x6ca):_0x3c9b08=_0x3c4302[_0x2d8fd0(0x5d6)]===_0x28cd02['correctResponse'];break;case _0x2d8fd0(0xb16):_0x3c9b08=await gradeShortAnswer(_0x3c4302[_0x2d8fd0(0x5d6)],_0x28cd02);break;default:_0x3c9b08=_0x3c4302[_0x2d8fd0(0x56f)];break;}}if(_0x3c9b08){_0x2b55f8++,_0x15bfd3++;if(_0x15bfd3===0x3)_0x527e2b['push'](BADGES[_0x2d8fd0(0x7e0)]['id']);}else _0x15bfd3=0x0;_0x404550['push']({..._0x3c4302,'isCorrect':_0x3c9b08});}let _0x56bbe7=0x0;const _0xca78ff=_0x4a2db0['isSyncGame']===!![]||_0x4a2db0['points']>_0x14d40b[_0x2d8fd0(0x3ef)][_0x2d8fd0(0x283)]*0x14;_0xca78ff?_0x56bbe7=_0x4a2db0[_0x2d8fd0(0x351)]:(_0x56bbe7=_0x2b55f8*0xa,_0x2b55f8===_0x14d40b[_0x2d8fd0(0x3ef)]['length']&&(_0x56bbe7+=0x32,_0x527e2b['push'](BADGES[_0x2d8fd0(0x9c0)]['id']))),_0x4f6b62[_0x2d8fd0(0x20e)]({..._0x4a2db0,'score':_0x2b55f8,'points':_0x56bbe7,'badges':Array['from'](new Set(_0x527e2b)),'answers':_0x404550});}const _0x601f10=_0x4f6b62[_0x2d8fd0(0x283)]>0x0?_0x4f6b62[0x0][_0x2d8fd0(0x3bb)]:0x0,_0x8b211e=Math[_0x2d8fd0(0xcd3)](..._0x4f6b62[_0x2d8fd0(0xdc6)](_0x5af248=>_0x5af248[_0x2d8fd0(0x3bb)])),_0x4f3edd=_0x4f6b62['length']>0x0?_0x4f6b62[_0x4f6b62[_0x2d8fd0(0x283)]-0x1]['score']:0x0,_0x498b8b=_0x4f6b62['length']>0x0?_0x4f6b62[_0x4f6b62[_0x2d8fd0(0x283)]-0x1][_0x2d8fd0(0x351)]:0x0,_0x359f45=doc(db,'artifacts/'+appId+_0x2d8fd0(0x5a0)+_0x14d40b['id']+_0x2d8fd0(0x282),_0x1a3880);await updateDoc(_0x359f45,{'attempts':_0x4f6b62,'firstScore':_0x601f10,'bestScore':_0x8b211e,'latestScore':_0x4f3edd,'points':_0x498b8b});}function cleanupQuizOptions(_0x77aa9b){const _0x5a38fd=_0x1dab5f,_0x19134b=(_0x32cfc6,_0x390902)=>_0x390902===0x0?_0x32cfc6:_0x19134b(_0x390902,_0x32cfc6%_0x390902),_0x8a9cde=_0x466c8b=>{const _0x302dc5=_0x5ef1;if(typeof _0x466c8b!=='string')return null;_0x466c8b=_0x466c8b['trim']();const _0x23c1b9=_0x466c8b['split'](/[ /]/)[_0x302dc5(0x3be)](_0x5e01af=>_0x5e01af!=='');if(_0x23c1b9[_0x302dc5(0x283)]===0x3)return parseInt(_0x23c1b9[0x0])+parseInt(_0x23c1b9[0x1])/parseInt(_0x23c1b9[0x2]);else{if(_0x23c1b9[_0x302dc5(0x283)]===0x2)return parseInt(_0x23c1b9[0x0])/parseInt(_0x23c1b9[0x1]);else{if(_0x23c1b9[_0x302dc5(0x283)]===0x1&&!isNaN(_0x23c1b9[0x0]))return parseFloat(_0x23c1b9[0x0]);}}return null;},_0x4c80d3=_0x4937d7=>{const _0x5c573f=_0x5ef1;if(typeof _0x4937d7!=='string')return _0x4937d7;const _0x450a60=_0x4937d7['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x450a60){const _0x409354=parseInt(_0x450a60[0x1]);let _0x4d3e8d=parseInt(_0x450a60[0x2]),_0x3e9d63=parseInt(_0x450a60[0x3]);const _0x1a4b07=_0x19134b(_0x4d3e8d,_0x3e9d63);_0x4d3e8d/=_0x1a4b07,_0x3e9d63/=_0x1a4b07;if(_0x3e9d63===0x1)return(_0x409354+_0x4d3e8d)[_0x5c573f(0xbe3)]();return _0x409354+'\x20'+_0x4d3e8d+'/'+_0x3e9d63;}return _0x4937d7;};return _0x77aa9b&&_0x77aa9b[_0x5a38fd(0x3ef)]&&_0x77aa9b['questions'][_0x5a38fd(0xbdf)](_0x4dd845=>{const _0x1cced3=_0x5a38fd;if(_0x4dd845['questionType']===_0x1cced3(0x423)&&_0x4dd845[_0x1cced3(0x381)]){const _0x2d5b90=new Map(),_0x2766ea=_0x4dd845['options'][_0x4dd845[_0x1cced3(0xd79)]];_0x4dd845[_0x1cced3(0x381)][_0x1cced3(0xbdf)](_0x44a256=>{const _0x179bbd=_0x1cced3,_0x5d0ec7=_0x4c80d3(_0x44a256),_0x19587e=_0x8a9cde(_0x5d0ec7);_0x19587e!==null&&!_0x2d5b90[_0x179bbd(0x84f)](_0x19587e)&&_0x2d5b90[_0x179bbd(0x279)](_0x19587e,_0x5d0ec7);}),_0x4dd845[_0x1cced3(0x381)]=Array[_0x1cced3(0x155)](_0x2d5b90[_0x1cced3(0xb31)]());const _0x30e525=_0x4dd845['options'][_0x1cced3(0xd5f)](_0x32f012=>_0x32f012===_0x4c80d3(_0x2766ea));_0x4dd845[_0x1cced3(0xd79)]=_0x30e525!==-0x1?_0x30e525:0x0;}}),_0x77aa9b;}function showGameStartConfirmationModal(_0x349b1e,_0x58724b,_0x5c01f4){const _0xc1d6b2=_0x1dab5f,_0x5107fc=document['getElementById'](_0xc1d6b2(0x7c7));document[_0xc1d6b2(0x242)](_0xc1d6b2(0x8f3))['textContent']=_0xc1d6b2(0xd62)+_0x5c01f4,document[_0xc1d6b2(0x242)](_0xc1d6b2(0x2fc))[_0xc1d6b2(0xbfb)]=_0x349b1e,document[_0xc1d6b2(0x242)]('game-start-mode')[_0xc1d6b2(0xbfb)]=_0x58724b,document['getElementById']('save-game-results-checkbox')[_0xc1d6b2(0xa7e)]=!![];const _0xe76030=document[_0xc1d6b2(0x242)](_0xc1d6b2(0xc4d)),_0x4c0fcf=document[_0xc1d6b2(0x242)](_0xc1d6b2(0xa97)),_0x5a51c2=document[_0xc1d6b2(0x242)]('sync-timer-duration-container'),_0x135b2f=document[_0xc1d6b2(0x242)](_0xc1d6b2(0x762)),_0x366de2=document['getElementById'](_0xc1d6b2(0xae7));if(_0x58724b===_0xc1d6b2(0x7ff)){_0xe76030['classList']['remove'](_0xc1d6b2(0x414));const _0xa79b30=_0xc1d6b2(0x1ce);document['querySelector'](_0xc1d6b2(0xa58)+_0xa79b30+'\x22]')[_0xc1d6b2(0xa7e)]=!![];if(_0x366de2)_0x366de2[_0xc1d6b2(0xe19)][_0xc1d6b2(0x677)](_0xc1d6b2(0x414));_0x4c0fcf[_0xc1d6b2(0xa7e)]=!![],_0x5a51c2[_0xc1d6b2(0xe19)][_0xc1d6b2(0x677)]('hidden'),document[_0xc1d6b2(0x242)]('sync-timer-duration-input')[_0xc1d6b2(0xbfb)]=_0xc1d6b2(0x1a2),_0x135b2f[_0xc1d6b2(0xe19)][_0xc1d6b2(0x677)](_0xc1d6b2(0x414)),document[_0xc1d6b2(0x242)](_0xc1d6b2(0x454))[_0xc1d6b2(0xa7e)]=!![];}else{_0xe76030['classList'][_0xc1d6b2(0x27c)](_0xc1d6b2(0x414));if(_0x366de2)_0x366de2[_0xc1d6b2(0xe19)][_0xc1d6b2(0x27c)]('hidden');_0x4c0fcf[_0xc1d6b2(0xa7e)]=![],_0x5a51c2[_0xc1d6b2(0xe19)][_0xc1d6b2(0x27c)]('hidden'),_0x135b2f[_0xc1d6b2(0xe19)]['add'](_0xc1d6b2(0x414));}_0x5107fc[_0xc1d6b2(0xe19)][_0xc1d6b2(0x677)](_0xc1d6b2(0x414));}async function saveGameResultsAsSubmissions(_0x5665f0){const _0xb306f2=_0x1dab5f;if(_0x5665f0[_0xb306f2(0x561)]){console[_0xb306f2(0x383)](_0xb306f2(0x8f2));return;}console[_0xb306f2(0x383)](_0xb306f2(0x87e),_0x5665f0);const _0x3e16ff=_0x5665f0['quizId'];let _0x682f4b=[];if(_0x5665f0[_0xb306f2(0x616)])_0x682f4b=Object[_0xb306f2(0x934)](_0x5665f0[_0xb306f2(0x616)])[_0xb306f2(0xdc6)](([_0x56935e,_0x37b4b7])=>({'name':_0x56935e,..._0x37b4b7}));else{if(_0x5665f0['groups'])Object[_0xb306f2(0xb31)](_0x5665f0['groups'])[_0xb306f2(0xbdf)](_0x21d8b0=>{const _0x243cd6=_0xb306f2;_0x21d8b0[_0x243cd6(0x248)][_0x243cd6(0xbdf)](_0x253a51=>{const _0x342e0f=_0x243cd6;_0x682f4b[_0x342e0f(0x20e)]({'name':_0x253a51,'score':_0x21d8b0[_0x342e0f(0x3bb)],'answers':_0x21d8b0[_0x342e0f(0x922)]});});});else _0x5665f0['responses']&&Object['entries'](_0x5665f0[_0xb306f2(0x582)])[_0xb306f2(0xbdf)](([_0x4d9d2c,_0x18b907])=>{const _0x3b631e=_0xb306f2;_0x682f4b[_0x3b631e(0x20e)]({'name':_0x4d9d2c,..._0x18b907});});}if(_0x682f4b[_0xb306f2(0x283)]===0x0){console[_0xb306f2(0x1c8)]('No\x20players\x20data\x20found\x20to\x20save\x20yet.');return;}const _0x1b757a=_0x5665f0[_0xb306f2(0x8d3)]?.[_0xb306f2(0x3ef)][_0xb306f2(0x283)]||currentQuizData[_0xb306f2(0x3ef)]['length'],_0x1610ce=writeBatch(db);for(const _0x5e4801 of _0x682f4b){const _0x1cf38e=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x3e16ff+_0xb306f2(0x282),_0x5e4801[_0xb306f2(0x4cc)]),_0x5cde22=(_0x5e4801[_0xb306f2(0x922)]||[])[_0xb306f2(0x3be)](_0x4e2676=>_0x4e2676[_0xb306f2(0x56f)])[_0xb306f2(0x283)];let _0x1326f9=_0x5e4801['totalPoints']!==undefined?_0x5e4801[_0xb306f2(0x49c)]:_0x5cde22,_0x2956d9=_0x5e4801[_0xb306f2(0x663)]||[];_0x5cde22===_0x1b757a&&_0x1b757a>0x0&&(!_0x2956d9[_0xb306f2(0x87f)]('perfect_score')&&_0x2956d9['push'](_0xb306f2(0x8ce)));const _0x10cf5d={'score':_0x5cde22,'points':_0x1326f9,'badges':_0x2956d9,'submittedAt':new Date()[_0xb306f2(0x97b)](),'isSyncGame':!![],'answers':(_0x5e4801[_0xb306f2(0x922)]||[])['map'](_0x24a4d7=>({'questionId':_0x24a4d7[_0xb306f2(0x38e)],'answer':_0x24a4d7['answer'],'answerText':_0x24a4d7[_0xb306f2(0x25d)],'isCorrect':_0x24a4d7['isCorrect'],'originalQuestionText':_0x24a4d7['originalQuestionText'],'wasConfident':_0x24a4d7[_0xb306f2(0x39a)],'powerupUsed':_0x24a4d7[_0xb306f2(0x49a)]||null}))},_0x306316=await getDoc(_0x1cf38e),_0x2119b7=_0x306316[_0xb306f2(0xb96)]()?_0x306316[_0xb306f2(0x1f1)]():{},_0x54a855=_0x2119b7[_0xb306f2(0x82c)]||0x0,_0x49614d=_0x2119b7[_0xb306f2(0xac3)]||[];_0x49614d[_0xb306f2(0x283)]===0x0&&_0x5cde22===_0x1b757a&&_0x1b757a>0x0&&(!_0x10cf5d[_0xb306f2(0x663)][_0xb306f2(0x87f)]('first_try_ace')&&_0x10cf5d[_0xb306f2(0x663)][_0xb306f2(0x20e)]('first_try_ace'));const _0x5a26a0={'studentName':_0x5e4801[_0xb306f2(0x4cc)],'totalQuestions':_0x1b757a,'attempts':arrayUnion(_0x10cf5d),'latestScore':_0x5cde22,'points':_0x1326f9,'latestSubmittedAt':_0x10cf5d[_0xb306f2(0x50e)],'bestScore':Math[_0xb306f2(0xcd3)](_0x54a855,_0x5cde22),'firstScore':_0x49614d['length']===0x0?_0x5cde22:_0x2119b7[_0xb306f2(0xd58)]||0x0};_0x1610ce[_0xb306f2(0x279)](_0x1cf38e,_0x5a26a0,{'merge':!![]});}try{if(currentLiveGameId){const _0x1843bb=doc(db,_0xb306f2(0xb99)+appId+_0xb306f2(0x4e1),currentLiveGameId);_0x1610ce[_0xb306f2(0x160)](_0x1843bb,{'resultsSaved':!![]});}await _0x1610ce['commit'](),showMessage('บันทึกผลการเรียนของนักเรียน\x20'+_0x682f4b[_0xb306f2(0x283)]+_0xb306f2(0x7b4));const _0x467e66=_0x5665f0['shuffledQuiz']?.[_0xb306f2(0x1cf)]||currentQuizData?.[_0xb306f2(0x1cf)]||currentProjectId;if(_0x467e66){const _0x56f7bb=[...new Set(_0x682f4b['map'](_0x4eff6f=>_0x4eff6f[_0xb306f2(0x4cc)]))];for(const _0xdb7413 of _0x56f7bb){await updateStudentProfile(_0x467e66,_0xdb7413);}}}catch(_0x2f348b){console[_0xb306f2(0xd98)](_0xb306f2(0x750),_0x2f348b),showMessage('เกิดข้อผิดพลาดในการบันทึกผลคะแนน');}}async function saveQuiz(_0x3b2d98=null,_0x1cba39=null){const _0x9521a=_0x1dab5f,_0x591aa8=_0x3b2d98||currentProjectId;if(!_0x591aa8){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x9521a(0xd97));return;}const _0xfcbb5b=document[_0x9521a(0x242)](_0x9521a(0xc63));_0xfcbb5b[_0x9521a(0xd66)]=!![],_0xfcbb5b[_0x9521a(0x90d)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x49508d=document[_0x9521a(0x242)](_0x9521a(0x47a))[_0x9521a(0xa7e)];let _0x1cb1ed=document[_0x9521a(0x242)](_0x9521a(0x1ae))[_0x9521a(0x9f5)][_0x9521a(0xb6d)]();_0x49508d&&!_0x1cb1ed['startsWith'](_0x9521a(0x63b))&&(_0x1cb1ed=_0x9521a(0x853)+_0x1cb1ed);try{const _0xef38c1={'resultsDisplay':document[_0x9521a(0x242)](_0x9521a(0xa3e))[_0x9521a(0xbfb)],'shuffle':document[_0x9521a(0x242)]('shuffle-setting-select')['value'],'timerMode':document[_0x9521a(0x242)]('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x9521a(0x242)](_0x9521a(0x67f))[_0x9521a(0xbfb)])||0xa,'passingScore':parseInt(document[_0x9521a(0x242)](_0x9521a(0x94e))[_0x9521a(0xbfb)])||0x0,'isAdaptive':document['getElementById']('adaptive-quiz-checkbox')[_0x9521a(0xa7e)],'loopUntilPass':document[_0x9521a(0x242)](_0x9521a(0xa39))['checked']},_0x54a4e5=(currentQuizData[_0x9521a(0x3ef)]||[])[_0x9521a(0xdc6)]((_0x52fb7a,_0x588a71)=>{const _0x2dd89c=_0x9521a,_0x40289=document[_0x2dd89c(0x242)](_0x2dd89c(0x408))[_0x2dd89c(0xbfb)],_0x395f80={'id':'q_'+Date[_0x2dd89c(0xaf6)]()+'_'+_0x588a71,'questionText':_0x52fb7a['questionText']||'','explanation':_0x52fb7a['explanation']||_0x2dd89c(0xcd9),'questionType':_0x52fb7a['questionType']||_0x40289,'imageCode':_0x52fb7a['imageCode']||null};return(_0x395f80['questionType']===_0x2dd89c(0x423)||_0x395f80[_0x2dd89c(0x5c5)]==='fill_in_with_choices'||_0x395f80[_0x2dd89c(0x5c5)]===_0x2dd89c(0xb7e)&&_0x52fb7a[_0x2dd89c(0x381)])&&(_0x395f80['options']=_0x52fb7a['options']||[],_0x395f80[_0x2dd89c(0xd79)]=_0x52fb7a[_0x2dd89c(0xd79)]!==undefined?_0x52fb7a[_0x2dd89c(0xd79)]:0x0),(_0x395f80[_0x2dd89c(0x5c5)]===_0x2dd89c(0xb16)||_0x395f80[_0x2dd89c(0x5c5)]===_0x2dd89c(0xd9f)||_0x395f80[_0x2dd89c(0x5c5)]===_0x2dd89c(0xb7e)&&_0x52fb7a['idealAnswer'])&&(_0x395f80[_0x2dd89c(0x424)]=_0x52fb7a[_0x2dd89c(0x424)]||''),_0x395f80[_0x2dd89c(0x5c5)]===_0x2dd89c(0x66d)&&(_0x395f80[_0x2dd89c(0xbec)]=_0x52fb7a[_0x2dd89c(0xbec)]===!![]),_0x395f80[_0x2dd89c(0x5c5)]===_0x2dd89c(0x6ca)&&(_0x395f80['stem']=_0x52fb7a[_0x2dd89c(0xd64)]||'',_0x395f80[_0x2dd89c(0x38f)]=_0x52fb7a['correctResponse']||'',_0x395f80[_0x2dd89c(0x9cb)]=_0x52fb7a[_0x2dd89c(0x9cb)]||[]),_0x395f80;}),_0x4786f9={'topic':_0x1cb1ed,'quizType':currentQuizData[_0x9521a(0x11f)]||_0x9521a(0x423),'questions':_0x54a4e5,'projectId':_0x591aa8,'createdBy':userId,'createdAt':new Date()[_0x9521a(0x97b)](),'status':_0x9521a(0xc93),'settings':_0xef38c1,'quizMode':_0x49508d?_0x9521a(0x678):'standard','pairedQuizId':null,'lessonPlan':null};let _0x27a0d6;while(!![]){_0x27a0d6=Math[_0x9521a(0x95d)](0x3e8+Math[_0x9521a(0xd52)]()*0x2328)[_0x9521a(0xbe3)]();const _0x49414a=await getDoc(doc(db,_0x9521a(0xb99)+appId+_0x9521a(0x48d),_0x27a0d6));if(!_0x49414a[_0x9521a(0xb96)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x9521a(0x48d),_0x27a0d6),_0x4786f9);if(_0x1cba39&&currentBlueprintProjectId){console[_0x9521a(0x383)](_0x9521a(0x741)+_0x27a0d6+'\x20to\x20blueprint\x20topic\x20'+_0x1cba39);try{const _0x3b7a3f=doc(db,'artifacts/'+appId+_0x9521a(0x3c1),currentBlueprintProjectId);await updateDoc(_0x3b7a3f,{[_0x9521a(0x262)+_0x1cba39+_0x9521a(0x537)]:arrayUnion(_0x27a0d6)});}catch(_0x4e734f){console[_0x9521a(0xd98)](_0x9521a(0x8d4),_0x4e734f);}}currentQuizData[_0x9521a(0x491)]=_0xef38c1,currentQuizData['id']=_0x27a0d6;const _0x56bb4d=document[_0x9521a(0x242)](_0x9521a(0x5d1));_0x56bb4d[_0x9521a(0x90d)]=_0x9521a(0xd49)+_0x27a0d6+_0x9521a(0x925),document['getElementById']('copy-quiz-id-btn')[_0x9521a(0x264)](_0x9521a(0xc23),()=>copyTextToClipboard(_0x27a0d6,_0x9521a(0x800))),document[_0x9521a(0x242)]('start-live-race-generated-btn')[_0x9521a(0x264)]('click',()=>handleStartLiveRace(_0x27a0d6)),document[_0x9521a(0x242)]('start-presentation-btn')[_0x9521a(0x264)]('click',()=>startPresentation(currentQuizData)),document['getElementById']('admin-try-quiz-btn')[_0x9521a(0x264)](_0x9521a(0xc23),startAdminTest),showMessage(_0x9521a(0xd07));}catch(_0x18707c){console[_0x9521a(0xd98)]('Error\x20saving\x20quiz:',_0x18707c),showMessage(_0x9521a(0xc82));}finally{_0xfcbb5b[_0x9521a(0xd66)]=![],_0xfcbb5b[_0x9521a(0x90d)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x2bbe49=_0x1dab5f,_0x1e7782=document[_0x2bbe49(0x242)]('move-quiz-modal'),_0x2a2e8a=document[_0x2bbe49(0x242)]('move-quiz-project-select'),_0x2f1626=_0x1e7782[_0x2bbe49(0xb19)]('h3'),_0x58c224=document['getElementById'](_0x2bbe49(0x6eb));_0x2f1626[_0x2bbe49(0xafa)]=_0x2bbe49(0xcb9),_0x58c224[_0x2bbe49(0xafa)]=_0x2bbe49(0x520);allProjects['length']===0x0?(_0x2a2e8a['innerHTML']='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x58c224[_0x2bbe49(0xd66)]=!![]):(_0x2a2e8a[_0x2bbe49(0x90d)]=allProjects['map'](_0x5db717=>_0x2bbe49(0x397)+_0x5db717['id']+'\x22>'+_0x5db717[_0x2bbe49(0x7c8)]+'</option>')['join'](''),_0x58c224[_0x2bbe49(0xd66)]=![]);_0x1e7782[_0x2bbe49(0xe19)]['remove'](_0x2bbe49(0x414));const _0x54b904=()=>{const _0x26d416=_0x2bbe49,_0x5bb316=_0x2a2e8a[_0x26d416(0xbfb)];_0x5bb316?(currentProjectId=_0x5bb316,_0x1e7782[_0x26d416(0xe19)][_0x26d416(0x27c)](_0x26d416(0x414)),saveQuiz(),_0x2f1626[_0x26d416(0xafa)]=_0x26d416(0xafe),_0x58c224['textContent']='ย้าย',_0x58c224[_0x26d416(0x232)](_0x26d416(0xc23),_0x54b904),_0x58c224[_0x26d416(0x264)]('click',confirmMoveQuiz)):showMessage(_0x26d416(0x488));};_0x58c224[_0x2bbe49(0x232)](_0x2bbe49(0xc23),confirmMoveQuiz),_0x58c224[_0x2bbe49(0x264)]('click',_0x54b904);}function copyTextToClipboard(_0x562dae,_0x4cc0f2){const _0x447c75=_0x1dab5f,_0x2086fd=document['createElement']('textarea');_0x2086fd[_0x447c75(0xbfb)]=_0x562dae,_0x2086fd[_0x447c75(0x271)][_0x447c75(0xa99)]=_0x447c75(0x9ad),_0x2086fd['style'][_0x447c75(0xa6a)]='0',document['body'][_0x447c75(0x963)](_0x2086fd),_0x2086fd[_0x447c75(0xaf4)](),_0x2086fd[_0x447c75(0xb61)]();try{const _0x39109a=document['execCommand'](_0x447c75(0x63d));showMessage(_0x39109a?_0x4cc0f2:'คัดลอกไม่สำเร็จ');}catch(_0x97d210){showMessage('คัดลอกไม่สำเร็จ'),console[_0x447c75(0xd98)](_0x447c75(0x167),_0x97d210);}document['body'][_0x447c75(0xc20)](_0x2086fd);}function listenForProjectQuizzes(_0x37b32c){const _0x46b52b=_0x1dab5f,_0x3cc039=collection(db,_0x46b52b(0xb99)+appId+_0x46b52b(0x48d)),_0x1595ef=query(_0x3cc039,where(_0x46b52b(0x1cf),'==',_0x37b32c));unsubscribeQuizzesListener=onSnapshot(_0x1595ef,async _0x4ad962=>{const _0x37081b=_0x46b52b;allQuizzes=_0x4ad962[_0x37081b(0x5ab)][_0x37081b(0xdc6)](_0x4daa67=>({'id':_0x4daa67['id'],..._0x4daa67['data']()})),renderQuizzes();},_0x49a426=>{const _0x1ba955=_0x46b52b;console[_0x1ba955(0xd98)](_0x1ba955(0x3cf),_0x49a426),document[_0x1ba955(0x242)]('project-quizzes-list')[_0x1ba955(0x90d)]=_0x1ba955(0x948);});}async function renderQuizzes(){const _0x29962d=_0x1dab5f,_0x373b73=document['getElementById']('project-quizzes-list'),_0x303b25=document['getElementById'](_0x29962d(0x95c))[_0x29962d(0xbfb)][_0x29962d(0x463)]();let _0xf86740;currentProjectId===_0x29962d(0x214)?_0xf86740=starredQuizzes:_0xf86740=allQuizzes;let _0x5b909c=_0xf86740['filter'](_0x2b8c7a=>_0x2b8c7a['topic'][_0x29962d(0x463)]()[_0x29962d(0x87f)](_0x303b25));_0x5b909c[_0x29962d(0xa23)]((_0x40aa6f,_0x5c2db4)=>new Date(_0x5c2db4['createdAt'])-new Date(_0x40aa6f[_0x29962d(0xdf4)]));if(_0x5b909c[_0x29962d(0x283)]===0x0){_0x373b73['innerHTML']=_0x29962d(0xa24);return;}const _0x22e40b={},_0x4a477a=_0x5b909c[_0x29962d(0xdc6)](async _0x52120e=>{const _0x2e6dd2=_0x29962d,_0x48766f=collection(db,_0x2e6dd2(0xb99)+appId+_0x2e6dd2(0x5a0)+_0x52120e['id']+'/submissions'),_0x20139d=await getDocs(_0x48766f);_0x22e40b[_0x52120e['id']]=_0x20139d[_0x2e6dd2(0x93b)];});await Promise['all'](_0x4a477a);let _0x48e8ed='';_0x5b909c[_0x29962d(0xbdf)](_0x16253f=>{const _0x3b85be=_0x29962d,_0x1b952a=_0x22e40b[_0x16253f['id']]||0x0,_0x38a3ed=_0x16253f['status']||'active',_0x46f276=_0x16253f[_0x3b85be(0x491)]?.['timerMode']||'none';let _0x3d0e48='',_0x2b6088='';const _0x7e49ba=new Date();let _0x2739aa=_0x38a3ed;if(_0x38a3ed===_0x3b85be(0x1bb)){const _0x36fd33=_0x16253f['startTime']?new Date(_0x16253f[_0x3b85be(0x432)]):null,_0x525a8a=_0x16253f[_0x3b85be(0xda5)]?new Date(_0x16253f[_0x3b85be(0xda5)]):null;if(_0x525a8a&&_0x7e49ba>_0x525a8a)_0x2739aa=_0x3b85be(0x2dc);else _0x36fd33&&_0x7e49ba<_0x36fd33?_0x2739aa=_0x3b85be(0x2d8):_0x2739aa=_0x3b85be(0xc93);}switch(_0x2739aa){case _0x3b85be(0x2dc):_0x3d0e48=_0x3b85be(0xe0f),_0x2b6088='text-red-700\x20bg-red-100';break;case _0x3b85be(0x2d8):_0x3d0e48=_0x3b85be(0xb7a),_0x2b6088=_0x3b85be(0xdca);break;case'active':_0x3d0e48=_0x46f276!==_0x3b85be(0x7d3)?_0x3b85be(0x6d7):_0x3b85be(0x619),_0x2b6088='text-green-700\x20bg-green-100';break;default:_0x3d0e48=_0x3b85be(0xd35),_0x2b6088='text-green-700\x20bg-green-100';break;}let _0x202833='';const _0x311b76={'day':_0x3b85be(0xc5e),'month':_0x3b85be(0xc5e),'year':'numeric','hour':_0x3b85be(0xc5e),'minute':_0x3b85be(0xc5e),'hour12':![]};if(_0x38a3ed===_0x3b85be(0x1bb)){if(_0x16253f[_0x3b85be(0x432)])_0x202833+=_0x3b85be(0xaed)+new Date(_0x16253f['startTime'])[_0x3b85be(0x255)](_0x3b85be(0x8c1),_0x311b76)+'</p>';if(_0x16253f[_0x3b85be(0xda5)])_0x202833+=_0x3b85be(0xe1a)+new Date(_0x16253f[_0x3b85be(0xda5)])[_0x3b85be(0x255)](_0x3b85be(0x8c1),_0x311b76)+_0x3b85be(0xe0b);}let _0x3886fb='';if(_0x16253f[_0x3b85be(0x15b)]){const _0x35c83e=allQuizzes['find'](_0xb477c1=>_0xb477c1['id']===_0x16253f[_0x3b85be(0x15b)]);if(_0x35c83e){let _0x4cf1e4,_0x42c79c;new Date(_0x16253f[_0x3b85be(0xdf4)])<new Date(_0x35c83e[_0x3b85be(0xdf4)])?(_0x4cf1e4=_0x16253f['id'],_0x42c79c=_0x35c83e['id']):(_0x4cf1e4=_0x35c83e['id'],_0x42c79c=_0x16253f['id']),_0x3886fb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x42c79c+_0x3b85be(0x73d)+_0x4cf1e4+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x16253f[_0x3b85be(0xaa4)]===_0x3b85be(0x678)&&(_0x3886fb+=_0x3b85be(0x711)+_0x16253f['id']+_0x3b85be(0x52a));if(_0x16253f[_0x3b85be(0xaa4)]===_0x3b85be(0x678)&&_0x1b952a>0x0)_0x3886fb+=_0x3b85be(0x711)+_0x16253f['id']+_0x3b85be(0x68b);else!_0x16253f[_0x3b85be(0x15b)]&&_0x16253f['quizMode']!=='pre-test'&&_0x1b952a>0x0&&(_0x3886fb+=_0x3b85be(0x711)+_0x16253f['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x36ec62='';_0x16253f[_0x3b85be(0x15b)]?_0x36ec62='<button\x20data-quiz-id=\x22'+_0x16253f['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x36ec62=_0x3b85be(0x892)+_0x16253f['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x48e8ed+=_0x3b85be(0x9d9)+_0x16253f['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x16253f[_0x3b85be(0xe0e)]+_0x3b85be(0x752)+_0x16253f[_0x3b85be(0x3ef)][_0x3b85be(0x283)]+_0x3b85be(0x7a3)+new Date(_0x16253f[_0x3b85be(0xdf4)])[_0x3b85be(0x255)](_0x3b85be(0x8c1))+_0x3b85be(0x7e9)+_0x1b952a+_0x3b85be(0xe03)+_0x202833+_0x3b85be(0x6e3)+_0x2b6088+'\x22>'+_0x3d0e48+_0x3b85be(0x132)+_0x16253f['id']+_0x3b85be(0x472)+_0x16253f['id']+_0x3b85be(0xb4d)+(_0x16253f[_0x3b85be(0x755)]?_0x3b85be(0x648):_0x3b85be(0x4c5))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3886fb+_0x3b85be(0x975)+_0x16253f['id']+_0x3b85be(0x556)+_0x16253f['id']+_0x3b85be(0x3f0)+_0x16253f['id']+_0x3b85be(0xd77)+_0x16253f['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x16253f['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x16253f['id']+_0x3b85be(0xba4)+_0x16253f['id']+_0x3b85be(0x234)+_0x16253f[_0x3b85be(0xe0e)]+_0x3b85be(0x67d)+_0x16253f['id']+_0x3b85be(0x466)+_0x16253f['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36ec62+_0x3b85be(0x1fe)+_0x16253f['id']+_0x3b85be(0x89e)+_0x16253f['id']+_0x3b85be(0x1ba)+_0x16253f['id']+_0x3b85be(0x896)+_0x16253f['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x16253f['id']+_0x3b85be(0x4a2)+_0x16253f['id']+_0x3b85be(0x2f0)+_0x16253f['id']+_0x3b85be(0x692)+_0x16253f['id']+_0x3b85be(0x234)+_0x16253f['topic']+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x16253f['id']+_0x3b85be(0x516);}),_0x373b73[_0x29962d(0x90d)]=_0x48e8ed,document[_0x29962d(0x99b)]('.quiz-result-card')[_0x29962d(0xbdf)](_0xbaf778=>{const _0x4e923d=_0x29962d;_0xbaf778[_0x4e923d(0x264)](_0x4e923d(0xc23),()=>{const _0x5601e9=_0x4e923d,_0x2d3762=_0xbaf778[_0x5601e9(0xb42)][_0x5601e9(0xcd7)];showQuizDetailView(_0x2d3762);});});}async function handleUnpairQuiz(_0x49e879){const _0x5d033e=_0x1dab5f,_0x3ddfb6=allQuizzes[_0x5d033e(0x794)](_0x51b3ce=>_0x51b3ce['id']===_0x49e879);if(!_0x3ddfb6||!_0x3ddfb6[_0x5d033e(0x15b)]){showMessage(_0x5d033e(0xcf0));return;}showConfirmation(_0x5d033e(0x629),async()=>{const _0x321ff9=_0x5d033e;try{const _0x33d4f=doc(db,_0x321ff9(0xb99)+appId+_0x321ff9(0x48d),_0x49e879),_0x286996=doc(db,'artifacts/'+appId+_0x321ff9(0x48d),_0x3ddfb6[_0x321ff9(0x15b)]),_0x4f2459=writeBatch(db);_0x4f2459[_0x321ff9(0x160)](_0x33d4f,{'pairedQuizId':null}),_0x4f2459[_0x321ff9(0x160)](_0x286996,{'pairedQuizId':null}),await _0x4f2459[_0x321ff9(0x45c)](),showMessage(_0x321ff9(0x9ea));}catch(_0x5cfbc5){console[_0x321ff9(0xd98)](_0x321ff9(0xa27),_0x5cfbc5),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x39db99,_0x337829){const _0x34a71c=_0x1dab5f,_0x29c8f8=window[_0x34a71c(0x2ef)]('','_blank'),_0x4b267e=_0x34a71c(0xaf7)+_0x337829['topic']+_0x34a71c(0x353)+_0x337829[_0x34a71c(0xe0e)]+_0x34a71c(0x9ff)+_0x39db99[_0x34a71c(0x28b)][_0x34a71c(0xdc6)](_0x2a15ce=>_0x34a71c(0x14f)+_0x2a15ce+_0x34a71c(0x489))[_0x34a71c(0xe10)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x39db99['teachingContent']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39db99[_0x34a71c(0x163)]['map'](_0x3f7448=>_0x34a71c(0xa67)+_0x3f7448[_0x34a71c(0x7e7)]+_0x34a71c(0x671)+_0x3f7448[_0x34a71c(0xb1f)]+_0x34a71c(0xdfc))['join']('')+_0x34a71c(0x926);_0x29c8f8[_0x34a71c(0x77a)][_0x34a71c(0x736)](_0x4b267e),_0x29c8f8[_0x34a71c(0x77a)][_0x34a71c(0x123)](),_0x29c8f8['onload']=function(){setTimeout(()=>{const _0x5ea62f=_0x5ef1;_0x29c8f8[_0x5ea62f(0x5ec)]();},0x3e8);};}async function handleAiFixFormula(_0x4f318c){const _0x34657d=_0x1dab5f,_0x583a6c=document[_0x34657d(0xb19)](_0x34657d(0x277)+_0x4f318c+'\x22]');if(!_0x583a6c)return;const _0x552a8b=_0x583a6c[_0x34657d(0xb42)][_0x34657d(0x754)],_0x390648=_0x583a6c[_0x34657d(0xb19)]('.ai-fix-formula-btn');let _0x1c2769={'question':_0x583a6c[_0x34657d(0xb19)]('textarea')[_0x34657d(0xbfb)]};switch(_0x552a8b){case _0x34657d(0x423):_0x1c2769[_0x34657d(0x381)]=Array['from'](_0x583a6c['querySelectorAll'](_0x34657d(0x85f)))['map'](_0x15ac70=>_0x15ac70[_0x34657d(0xbfb)]);break;case _0x34657d(0xb16):_0x1c2769[_0x34657d(0x424)]=_0x583a6c[_0x34657d(0xb19)](_0x34657d(0xd84))[_0x34657d(0xbfb)];break;case _0x34657d(0x6ca):_0x1c2769[_0x34657d(0x38f)]=_0x583a6c['querySelector'](_0x34657d(0xd22))['value'];break;}_0x390648[_0x34657d(0x90d)]=_0x34657d(0xc11),_0x390648[_0x34657d(0xd66)]=!![];try{const _0x36d3f2=_0x34657d(0x8b1)+JSON[_0x34657d(0x3a5)](_0x1c2769)+_0x34657d(0xd18),_0x1b1109={'type':_0x34657d(0x674),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x34657d(0xb13)},'options':{'type':_0x34657d(0xa3a),'items':{'type':'STRING'}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x34657d(0xb13)}},'required':['question']}},'required':[_0x34657d(0xaa6)]},_0x1d3dbf=await callAnalysisApi(_0x36d3f2,_0x1b1109);if(_0x1d3dbf&&_0x1d3dbf[_0x34657d(0xaa6)]){const _0x3b4a15=_0x1d3dbf[_0x34657d(0xaa6)];_0x583a6c[_0x34657d(0xb19)]('textarea')[_0x34657d(0xbfb)]=_0x3b4a15[_0x34657d(0x7e7)]||_0x1c2769[_0x34657d(0x7e7)];switch(_0x552a8b){case _0x34657d(0x423):_0x3b4a15[_0x34657d(0x381)]&&_0x3b4a15[_0x34657d(0x381)][_0x34657d(0x283)]>0x0&&_0x583a6c['querySelectorAll'](_0x34657d(0x85f))[_0x34657d(0xbdf)]((_0x2006a9,_0x1caa99)=>{const _0xf6063e=_0x34657d;_0x2006a9[_0xf6063e(0xbfb)]=_0x3b4a15[_0xf6063e(0x381)][_0x1caa99]||_0x1c2769[_0xf6063e(0x381)][_0x1caa99];});break;case'short_answer':_0x583a6c['querySelector'](_0x34657d(0xd84))[_0x34657d(0xbfb)]=_0x3b4a15[_0x34657d(0x424)]||_0x1c2769[_0x34657d(0x424)];break;case _0x34657d(0x6ca):_0x583a6c[_0x34657d(0xb19)](_0x34657d(0xd22))['value']=_0x3b4a15[_0x34657d(0x38f)]||_0x1c2769[_0x34657d(0x38f)];break;}if(_0x1c2769['question']!==_0x3b4a15[_0x34657d(0x7e7)])try{const _0x5032c3=collection(db,_0x34657d(0xb99)+appId+'/public/data/learnedFixes');await addDoc(_0x5032c3,{'broken':_0x1c2769[_0x34657d(0x7e7)],'fixed':_0x3b4a15[_0x34657d(0x7e7)],'createdAt':serverTimestamp()});}catch(_0x2577c8){console[_0x34657d(0xd98)](_0x34657d(0x816),_0x2577c8);}showMessage(_0x34657d(0x989));}else throw new Error(_0x34657d(0xb80));}catch(_0x17973a){console['error']('AI\x20Formula\x20Fix\x20Error:',_0x17973a),showMessage(_0x34657d(0x84c));}finally{_0x390648['innerHTML']=_0x34657d(0x115),_0x390648['disabled']=![];}}async function handleGenerateLessonPlan(_0xfb989b){const _0xab649e=_0x1dab5f;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x158664=doc(db,'artifacts/'+appId+_0xab649e(0x48d),_0xfb989b),_0x4c58be=await getDoc(_0x158664);if(!_0x4c58be['exists']())throw new Error(_0xab649e(0x6ad));const _0x5ecf25={'id':_0xfb989b,..._0x4c58be['data']()},_0x17465f=collection(db,_0xab649e(0xb99)+appId+_0xab649e(0x48d),_0xfb989b,_0xab649e(0x645)),_0xd513f0=await getDocs(_0x17465f),_0x38aa58=_0xd513f0[_0xab649e(0x5ab)][_0xab649e(0xdc6)](_0x265a46=>_0x265a46[_0xab649e(0x1f1)]());if(_0x38aa58[_0xab649e(0x283)]===0x0)throw new Error(_0xab649e(0x4be));const _0xa78c4=calculateItemAnalysis(_0x5ecf25,_0x38aa58)['perQuestionStats'],_0x4b39ed=calculateDistractorAnalysis(_0x5ecf25,_0x38aa58),_0x434cbf=_0x375a72=>{const _0x491634=_0xab649e;if(!_0x375a72)return'';return _0x375a72[_0x491634(0x38c)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x384392=_0xab649e(0x8e3);_0x5ecf25['questions']['forEach']((_0x9a8c5e,_0x308e61)=>{const _0x4d8a8c=_0xab649e,_0x4da299=_0xa78c4[_0x308e61]?.['p'][_0x4d8a8c(0x536)](0x2)||_0x4d8a8c(0x36d),_0x4b95f0=_0xa78c4[_0x308e61]?.['r']['toFixed'](0x2)||_0x4d8a8c(0x36d),_0x5ccd69=_0x434cbf(_0x9a8c5e[_0x4d8a8c(0x8c4)]||_0x9a8c5e['stem']);_0x384392+=_0x4d8a8c(0x57f)+(_0x308e61+0x1)+_0x4d8a8c(0x730)+_0x4da299+_0x4d8a8c(0x5a4)+_0x4b95f0+_0x4d8a8c(0x244)+_0x5ccd69+'\x5cn';if(_0x9a8c5e[_0x4d8a8c(0x5c5)]===_0x4d8a8c(0x423)&&_0x4b39ed[_0x308e61]){const _0x5d00d5=_0x4b39ed[_0x308e61],_0x35a933=Object['keys'](_0x5d00d5)[_0x4d8a8c(0x3be)](_0x51575c=>parseInt(_0x51575c)!==_0x9a8c5e[_0x4d8a8c(0xd79)])['sort']((_0x147e20,_0x13cc81)=>_0x5d00d5[_0x13cc81]['total']-_0x5d00d5[_0x147e20][_0x4d8a8c(0x8f1)])[0x0];if(_0x35a933&&_0x5d00d5[_0x35a933][_0x4d8a8c(0x8f1)]>0x0){const _0x3e0995=_0x434cbf(_0x5d00d5[_0x35a933][_0x4d8a8c(0xad0)]);_0x384392+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x3e0995+_0x4d8a8c(0x969);}}});const _0x2049aa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x5ecf25[_0xab649e(0xe0e)]+_0xab649e(0x2a0)+_0x384392+_0xab649e(0x33e),_0x3fe737={'type':'OBJECT','properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0xab649e(0xb13)}},'teachingContent':{'type':_0xab649e(0xb13)},'practiceProblems':{'type':_0xab649e(0xa3a),'items':{'type':_0xab649e(0x674),'properties':{'question':{'type':_0xab649e(0xb13)},'solution':{'type':_0xab649e(0xb13)}}}}},'required':[_0xab649e(0x28b),'teachingContent','practiceProblems']},_0xf4749f=await callAnalysisApi(_0x2049aa,_0x3fe737);await updateDoc(_0x158664,{'lessonPlan':_0xf4749f});const _0x3cf604=_0xab649e(0x3ba)+_0x5ecf25[_0xab649e(0xe0e)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0xf4749f[_0xab649e(0x28b)][_0xab649e(0xdc6)](_0x55b513=>_0xab649e(0x14f)+_0x55b513+'</li>')[_0xab649e(0xe10)]('')+_0xab649e(0xb5d)+_0xf4749f[_0xab649e(0xcb4)]+_0xab649e(0xce9)+_0xf4749f[_0xab649e(0x163)][_0xab649e(0xdc6)](_0x16be2e=>_0xab649e(0x316)+_0x16be2e[_0xab649e(0x7e7)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x16be2e[_0xab649e(0xb1f)]+_0xab649e(0x531))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0xab649e(0x242)](_0xab649e(0x50d))[_0xab649e(0xafa)]=_0xab649e(0x798)+_0x5ecf25[_0xab649e(0xe0e)],document[_0xab649e(0x242)](_0xab649e(0x474))['innerHTML']=_0x3cf604,document[_0xab649e(0x242)]('lesson-plan-modal')[_0xab649e(0xe19)][_0xab649e(0x677)]('hidden');if(window[_0xab649e(0x972)])MathJax[_0xab649e(0xde3)]();messageModal[_0xab649e(0xe19)][_0xab649e(0x27c)](_0xab649e(0x414));}catch(_0x12de56){console[_0xab649e(0xd98)](_0xab649e(0x63f),_0x12de56),showMessage('เกิดข้อผิดพลาด:\x20'+_0x12de56[_0xab649e(0xa9f)]);}}async function handleDuplicateQuiz(_0x23b119){const _0x2e7dd5=_0x1dab5f;try{const _0x5e74d9=doc(db,'artifacts/'+appId+_0x2e7dd5(0x48d),_0x23b119),_0x30bd7d=await getDoc(_0x5e74d9);if(_0x30bd7d[_0x2e7dd5(0xb96)]()){const _0x17dd0c=_0x30bd7d['data']();let _0x2dee16='',_0x422176='standard',_0x221085=null;if(_0x17dd0c[_0x2e7dd5(0xaa4)]===_0x2e7dd5(0x678)){let _0x35d7e5=_0x17dd0c[_0x2e7dd5(0xe0e)][_0x2e7dd5(0x38c)](_0x2e7dd5(0x63b),'')['trim']();_0x2dee16=_0x2e7dd5(0xbbf)+_0x35d7e5,_0x422176=_0x2e7dd5(0xa04),_0x221085=_0x23b119;}else _0x2dee16=_0x2e7dd5(0xdf1)+_0x17dd0c['topic'];const _0x15d1a0={..._0x17dd0c,'topic':_0x2dee16,'createdAt':new Date()['toISOString'](),'quizMode':_0x422176,'pairedQuizId':_0x221085};let _0x43c924;while(!![]){_0x43c924=Math[_0x2e7dd5(0x95d)](0x3e8+Math['random']()*0x2328)[_0x2e7dd5(0xbe3)]();const _0x34d723=await getDoc(doc(db,_0x2e7dd5(0xb99)+appId+_0x2e7dd5(0x48d),_0x43c924));if(!_0x34d723[_0x2e7dd5(0xb96)]())break;}const _0x3a9481=doc(db,_0x2e7dd5(0xb99)+appId+_0x2e7dd5(0x48d),_0x43c924);await setDoc(_0x3a9481,_0x15d1a0),_0x15d1a0[_0x2e7dd5(0xaa4)]===_0x2e7dd5(0xa04)&&await updateDoc(_0x5e74d9,{'pairedQuizId':_0x43c924}),showMessage(_0x2e7dd5(0x73f));}else throw new Error(_0x2e7dd5(0x938));}catch(_0x164c7c){console[_0x2e7dd5(0xd98)]('Error\x20duplicating\x20quiz:',_0x164c7c),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x5a01ed,_0x1cd8e9=!![]){const _0xe25f39=_0x1dab5f;try{const _0x647735=writeBatch(db),_0x2480da=collection(db,_0xe25f39(0xb99)+appId+_0xe25f39(0x5a0)+_0x5a01ed+_0xe25f39(0x282)),_0x36ab1c=await getDocs(_0x2480da);_0x36ab1c[_0xe25f39(0xbdf)](_0x3aba08=>{const _0x17a708=_0xe25f39;_0x647735[_0x17a708(0x9c2)](doc(_0x2480da,_0x3aba08['id']));});const _0x57a352=doc(db,_0xe25f39(0xb99)+appId+'/public/data/quizzes',_0x5a01ed);_0x647735[_0xe25f39(0x9c2)](_0x57a352),await _0x647735[_0xe25f39(0x45c)]();try{console[_0xe25f39(0x383)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x5a01ed+_0xe25f39(0x363));const _0xf51622=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects'),_0x8e2d2f=await getDocs(_0xf51622),_0xf99b2d=[];_0x8e2d2f[_0xe25f39(0xbdf)](_0x16f275=>{const _0xeb02fc=_0xe25f39,_0x41f4db=_0x16f275['data'](),_0x2ea74b=_0x41f4db['topics']||{};let _0x3d0da7=![];for(const _0xc0a83e in _0x2ea74b){const _0x5b14f=_0x2ea74b[_0xc0a83e];if(_0x5b14f[_0xeb02fc(0xe04)]&&_0x5b14f[_0xeb02fc(0xe04)][_0xeb02fc(0x87f)](_0x5a01ed)){_0x3d0da7=!![];const _0x38a927=doc(db,_0xeb02fc(0xb99)+appId+_0xeb02fc(0x3c1),_0x16f275['id']),_0x36842a=updateDoc(_0x38a927,{[_0xeb02fc(0x262)+_0xc0a83e+_0xeb02fc(0x537)]:arrayRemove(_0x5a01ed)});_0xf99b2d[_0xeb02fc(0x20e)](_0x36842a);}}}),_0xf99b2d[_0xe25f39(0x283)]>0x0&&(await Promise[_0xe25f39(0x2af)](_0xf99b2d),console['log'](_0xe25f39(0x7de)+_0xf99b2d[_0xe25f39(0x283)]+_0xe25f39(0xba9)+_0x5a01ed+'.'));}catch(_0x481dae){console['error']('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x481dae);}_0x1cd8e9&&showMessage(_0xe25f39(0xdae));}catch(_0x4bcf0a){console[_0xe25f39(0xd98)](_0xe25f39(0x32d),_0x4bcf0a),_0x1cd8e9&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x1b4ff7){const _0x1bb5f1=_0x1dab5f;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x1bb5f1(0x8a4));try{const _0x1f153b=doc(db,_0x1bb5f1(0xb99)+appId+_0x1bb5f1(0x48d),_0x1b4ff7),_0x2f102b=await getDoc(_0x1f153b);if(!_0x2f102b[_0x1bb5f1(0xb96)]()){showMessage(_0x1bb5f1(0x6ad));return;}const _0x37befb={'id':_0x2f102b['id'],..._0x2f102b[_0x1bb5f1(0x1f1)]()};currentQuizData=_0x37befb;const _0x1e351e=doc(db,_0x1bb5f1(0xb99)+appId+_0x1bb5f1(0x636),_0x37befb['projectId']),_0x2eb585=await getDoc(_0x1e351e);_0x2eb585['exists']()?(currentProjectData=_0x2eb585[_0x1bb5f1(0x1f1)](),currentProjectId=_0x37befb[_0x1bb5f1(0x1cf)]):(currentProjectData={'students':[]},currentProjectId=_0x37befb[_0x1bb5f1(0x1cf)]);document[_0x1bb5f1(0x242)](_0x1bb5f1(0x57a))[_0x1bb5f1(0xafa)]=_0x37befb['topic'],document['getElementById'](_0x1bb5f1(0x3d4))['textContent']=_0x1b4ff7;const _0x5c5ffb=collection(db,'artifacts/'+appId+_0x1bb5f1(0x48d),_0x1b4ff7,_0x1bb5f1(0x645));unsubscribeSubmissionsListener=onSnapshot(_0x5c5ffb,_0x530b07=>{const _0x3bc805=_0x1bb5f1,_0x345b92=_0x530b07[_0x3bc805(0x5ab)]['map'](_0x1a5b5f=>({'id':_0x1a5b5f['id'],..._0x1a5b5f[_0x3bc805(0x1f1)]()}));currentSubmissions=_0x345b92;const _0x508a2a=_0x345b92[_0x3bc805(0x3be)](_0x477edf=>_0x477edf['attempts']&&_0x477edf[_0x3bc805(0xac3)][_0x3bc805(0x283)]>0x0);renderBehaviorLog(_0x345b92),renderAnswerGrid(currentProjectData[_0x3bc805(0x7f8)],_0x508a2a,_0x37befb),renderAnalytics(_0x37befb,_0x508a2a),renderQuizResultsTable(currentProjectData[_0x3bc805(0x7f8)],_0x345b92,_0x37befb),renderQuizLeaderboard(_0x508a2a,_0x37befb,_0x3bc805(0x5b8));}),showView(_0x1bb5f1(0x42a));}catch(_0xac20ee){console[_0x1bb5f1(0xd98)]('Error\x20showing\x20quiz\x20detail\x20view:',_0xac20ee),showMessage(_0x1bb5f1(0xa57));}}function renderAnswerGrid(_0x3403b3,_0x26d25a,_0x199779){const _0x5e64e5=_0x1dab5f,_0x5c5552=document['getElementById'](_0x5e64e5(0xd13));if(!_0x5c5552)return;if(!_0x3403b3||_0x3403b3[_0x5e64e5(0x283)]===0x0){_0x5c5552[_0x5e64e5(0x90d)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0xd91d36=_0x199779[_0x5e64e5(0x3ef)],_0x47ef41=_0x26d25a['reduce']((_0x45bfad,_0x1dbf65)=>{return _0x45bfad[_0x1dbf65['studentName']]=_0x1dbf65,_0x45bfad;},{}),_0x41bd49=_0x408ddc=>String[_0x5e64e5(0xa1c)](0x41+_0x408ddc),_0x4a555c=_0x214b61=>{const _0x495072=_0x5e64e5,_0x3e1593=_0x214b61[_0x495072(0x5c5)]||_0x199779['quizType'];switch(_0x3e1593){case _0x495072(0x423):return _0x214b61[_0x495072(0x381)]&&_0x214b61[_0x495072(0x381)]['length']>_0x214b61[_0x495072(0xd79)]?_0x41bd49(_0x214b61['correctAnswerIndex']):'-';case _0x495072(0x66d):const _0x5cfdc5=_0x214b61['correctAnswer']===!![]||String(_0x214b61[_0x495072(0xbec)])[_0x495072(0x463)]()==='true';return _0x5cfdc5?_0x495072(0xab9):'ไม่ใช่';case _0x495072(0x6ca):return _0x214b61[_0x495072(0x38f)]||'-';case _0x495072(0xb16):return'พิมพ์ตอบ';default:return'-';}},_0x502dfe=(_0x43e404,_0x44b27e)=>{const _0xa9c187=_0x5e64e5;if(_0x44b27e['answer']===null||_0x44b27e[_0xa9c187(0x5d6)]===undefined)return'-';const _0x424892=_0x43e404['questionType']||_0x199779[_0xa9c187(0x11f)];switch(_0x424892){case _0xa9c187(0x423):const _0x64e337=_0x43e404[_0xa9c187(0x381)][_0xa9c187(0xd5f)](_0x7c97c8=>_0x7c97c8===_0x44b27e[_0xa9c187(0x25d)]);return _0x64e337!==-0x1?_0x41bd49(_0x64e337):_0x44b27e[_0xa9c187(0x25d)]||'-';case'true_false':if(_0x44b27e[_0xa9c187(0x5d6)]=='0'||_0x44b27e[_0xa9c187(0x5d6)]===!![]||_0x44b27e[_0xa9c187(0x5d6)]===_0xa9c187(0x6cf))return _0xa9c187(0xab9);return _0xa9c187(0x518);default:return _0x44b27e[_0xa9c187(0x5d6)];}};let _0x82d448=_0x5e64e5(0xdc5)+_0xd91d36[_0x5e64e5(0xdc6)]((_0x54634e,_0x320a83)=>_0x5e64e5(0x73c)+(_0x320a83+0x1)+_0x5e64e5(0x133))['join']('')+_0x5e64e5(0x20b)+_0xd91d36['map'](_0x4a9170=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x4a555c(_0x4a9170)+'</td>')['join']('')+_0x5e64e5(0xb1c);_0x3403b3[_0x5e64e5(0xbdf)](_0x3bb7c4=>{const _0x29cd85=_0x5e64e5;_0x82d448+=_0x29cd85(0x6ae),_0x82d448+=_0x29cd85(0x563)+_0x3bb7c4+'</td>';const _0x3d54e4=_0x47ef41[_0x3bb7c4];if(_0x3d54e4){const _0x1cb5ea=_0x3d54e4[_0x29cd85(0xac3)][_0x3d54e4[_0x29cd85(0xac3)][_0x29cd85(0x283)]-0x1];_0xd91d36[_0x29cd85(0xbdf)]((_0xbddbf1,_0x5a368f)=>{const _0x56d64a=_0x29cd85,_0x5a25d9=_0x1cb5ea[_0x56d64a(0x922)]['find'](_0x2323e7=>_0x2323e7['questionId']===_0xbddbf1['id']);if(_0x5a25d9){let _0x49d74c='';const _0x5c6517=_0x5a25d9['isCorrect']===!![],_0x4be387=_0x5a25d9[_0x56d64a(0x39a)]===!![]||_0x5a25d9['wasConfident']===_0x56d64a(0x198),_0x22316f=_0x5a25d9[_0x56d64a(0x49a)];if(_0x22316f==='wagerMultiplier')_0x5c6517?_0x49d74c=_0x56d64a(0xd14):_0x49d74c='bg-red-700\x20text-white\x20font-bold';else _0x4be387?_0x49d74c=_0x5c6517?'bg-green-400\x20text-white\x20font-bold':_0x56d64a(0x420):_0x49d74c=_0x5c6517?_0x56d64a(0xd23):_0x56d64a(0x66a);_0x82d448+=_0x56d64a(0x9de)+_0x49d74c+'\x22>'+_0x502dfe(_0xbddbf1,_0x5a25d9)+_0x56d64a(0xc6b);}else _0x82d448+=_0x56d64a(0xdec);});}else _0x82d448+=_0xd91d36[_0x29cd85(0xdc6)](()=>_0x29cd85(0x9e7))['join']('');_0x82d448+=_0x29cd85(0x464);}),_0x82d448+=_0x5e64e5(0xa13),_0x5c5552[_0x5e64e5(0x90d)]=_0x82d448;}function renderQuizResultsTable(_0xf0dd15,_0x1cb442,_0x28faf8){const _0x14ba61=_0x1dab5f,_0x38ae3a=_0x1cb442['reduce']((_0x31d22d,_0x2e9e95)=>{const _0x262c02=_0x5ef1;return _0x31d22d[_0x2e9e95[_0x262c02(0xcf3)]]=_0x2e9e95,_0x31d22d;},{}),_0x4cc3fb=document[_0x14ba61(0xb19)]('#results-table\x20thead\x20tr');_0x4cc3fb&&!_0x4cc3fb['innerHTML'][_0x14ba61(0x87f)](_0x14ba61(0x2f6))&&(_0x4cc3fb[_0x14ba61(0x90d)]+=_0x14ba61(0x9b6));const _0x44de21=document['getElementById'](_0x14ba61(0x5be));if(!_0xf0dd15||_0xf0dd15[_0x14ba61(0x283)]===0x0){_0x44de21[_0x14ba61(0x90d)]=_0x14ba61(0xc2e);return;}const _0x2113de=_0x28faf8['isRemedial']===!![],_0x3ba4a4=_0x28faf8[_0x14ba61(0x491)]?.['passingScore']??-0x1;let _0x4da3aa='';_0xf0dd15[_0x14ba61(0xbdf)](_0x573dd8=>{const _0xbb42ba=_0x14ba61,_0x4a7deb=_0x38ae3a[_0x573dd8];let _0x4b9227=_0xbb42ba(0xd83)+(_0x2113de?'bg-amber-100\x20text-amber-800':_0xbb42ba(0xad5))+'\x22>'+(_0x2113de?_0xbb42ba(0x2bd):'สอบปกติ')+_0xbb42ba(0x350);if(_0x4a7deb){if(_0x4a7deb[_0xbb42ba(0xac3)]&&_0x4a7deb[_0xbb42ba(0xac3)]['length']>0x0){let _0x404e7c=_0x2113de?_0x4a7deb[_0xbb42ba(0x82c)]===_0x4a7deb[_0xbb42ba(0x9c6)]:_0x3ba4a4!==-0x1&&_0x4a7deb[_0xbb42ba(0x82c)]>=_0x3ba4a4;const _0x24ce74=_0x404e7c?_0xbb42ba(0xd23):_0xbb42ba(0x66a),_0x4f9a79=_0x404e7c?_0xbb42ba(0x4ad):_0xbb42ba(0x41b),_0x3cdd70=_0xbb42ba(0xa02)+_0x24ce74+'\x22>'+_0x4f9a79+'</span></td>',_0x66a176='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x4a7deb[_0xbb42ba(0xac3)]?.[_0xbb42ba(0x283)]||0x1)+_0xbb42ba(0xc18),_0x18a729='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>'+(_0x4a7deb[_0xbb42ba(0x351)]||0x0)+_0xbb42ba(0x20a)+_0x573dd8+_0xbb42ba(0x552)+(_0x4a7deb[_0xbb42ba(0x351)]||0x0)+_0xbb42ba(0x177);_0x4da3aa+=_0xbb42ba(0x4e2)+_0x573dd8+_0xbb42ba(0x6d6)+_0x4a7deb[_0xbb42ba(0x82c)]+_0xbb42ba(0x25f)+_0x4a7deb[_0xbb42ba(0x9c6)]+_0xbb42ba(0xce1)+_0x3cdd70+_0xbb42ba(0x124)+_0x4b9227+_0xbb42ba(0x1d2)+_0x4a7deb[_0xbb42ba(0xd58)]+_0xbb42ba(0x25f)+_0x4a7deb[_0xbb42ba(0x9c6)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x4a7deb[_0xbb42ba(0x35a)]+_0xbb42ba(0x25f)+_0x4a7deb[_0xbb42ba(0x9c6)]+_0xbb42ba(0xb0f)+_0x18a729+_0xbb42ba(0xce1)+_0x66a176+_0xbb42ba(0x66e)+new Date(_0x4a7deb[_0xbb42ba(0x96c)])[_0xbb42ba(0x255)](_0xbb42ba(0x8c1))+_0xbb42ba(0x589)+_0x573dd8+_0xbb42ba(0x525);}else{const _0x3c1398=_0xbb42ba(0x419);_0x4da3aa+=_0xbb42ba(0xc9c)+_0x573dd8+_0xbb42ba(0x7c2)+_0x4b9227+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c1398+_0xbb42ba(0x66e)+new Date(_0x4a7deb[_0xbb42ba(0x67c)])[_0xbb42ba(0x255)]('th-TH')+_0xbb42ba(0xae1)+_0x573dd8+_0xbb42ba(0x525);}}else{const _0x79f324=_0xbb42ba(0x95a);_0x4da3aa+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x573dd8+_0xbb42ba(0x4c9)+_0x4b9227+_0xbb42ba(0xdc0)+_0x79f324+_0xbb42ba(0x1f6);}}),_0x44de21[_0x14ba61(0x90d)]=_0x4da3aa;}async function confirmRenameQuiz(){const _0x30987f=_0x1dab5f,_0x57192d=document['getElementById'](_0x30987f(0x9f1))[_0x30987f(0xbfb)][_0x30987f(0xb6d)]();if(!_0x57192d){showMessage(_0x30987f(0x181));return;}if(!actionTargetId)return;const _0x411889=doc(db,'artifacts/'+appId+_0x30987f(0x48d),actionTargetId);try{await updateDoc(_0x411889,{'topic':_0x57192d}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList'][_0x30987f(0x27c)](_0x30987f(0x414)),actionTargetId=null;}catch(_0x7bfd69){console[_0x30987f(0xd98)](_0x30987f(0x780),_0x7bfd69),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x591a18){const _0x56be4d=_0x1dab5f;actionTargetId=_0x591a18;const _0x2d0c75=document[_0x56be4d(0x242)](_0x56be4d(0x843));_0x2d0c75[_0x56be4d(0x90d)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x56be4d(0xe19)][_0x56be4d(0x677)](_0x56be4d(0x414));try{const _0x3848ef=collection(db,_0x56be4d(0xb99)+appId+_0x56be4d(0x636)),_0x5e41c5=await getDocs(_0x3848ef),_0x5f31d7=_0x5e41c5['docs'][_0x56be4d(0xdc6)](_0x16afbc=>({'id':_0x16afbc['id'],..._0x16afbc['data']()})),_0x4436c5=_0x5f31d7[_0x56be4d(0x3be)](_0x272289=>_0x272289['id']!==currentProjectId);if(_0x4436c5[_0x56be4d(0x283)]===0x0){_0x2d0c75[_0x56be4d(0x90d)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document['getElementById'](_0x56be4d(0x6eb))[_0x56be4d(0xd66)]=!![];return;}_0x2d0c75['innerHTML']=_0x4436c5[_0x56be4d(0xdc6)](_0x565358=>'<option\x20value=\x22'+_0x565358['id']+'\x22>'+_0x565358['projectName']+'</option>')['join'](''),document[_0x56be4d(0x242)](_0x56be4d(0x6eb))[_0x56be4d(0xd66)]=![];}catch(_0x1e6d59){console[_0x56be4d(0xd98)](_0x56be4d(0x36e),_0x1e6d59),showMessage(_0x56be4d(0x635)),moveQuizModal['classList'][_0x56be4d(0x27c)](_0x56be4d(0x414));}}async function confirmMoveQuiz(){const _0x2ce33c=_0x1dab5f,_0x6fc30f=document[_0x2ce33c(0x242)](_0x2ce33c(0x843))['value'];if(!_0x6fc30f){showMessage(_0x2ce33c(0xdd4));return;}if(!actionTargetId)return;const _0x4be032=doc(db,_0x2ce33c(0xb99)+appId+_0x2ce33c(0x48d),actionTargetId);try{await updateDoc(_0x4be032,{'projectId':_0x6fc30f}),showMessage(_0x2ce33c(0xb5c)),moveQuizModal[_0x2ce33c(0xe19)]['add']('hidden'),actionTargetId=null;}catch(_0x912b5b){console[_0x2ce33c(0xd98)](_0x2ce33c(0xa62),_0x912b5b),showMessage(_0x2ce33c(0x8fb));}}async function handleQuizSettings(_0x431830){const _0x269f99=_0x1dab5f;actionTargetId=_0x431830;const _0x4796d9=doc(db,_0x269f99(0xb99)+appId+_0x269f99(0x48d),_0x431830);try{const _0x29707d=await getDoc(_0x4796d9);if(_0x29707d[_0x269f99(0xb96)]()){const _0x8823ac=_0x29707d['data'](),_0x4a25d7=_0x8823ac[_0x269f99(0x491)]||{},_0x4b93a9=_0x8823ac[_0x269f99(0x3ef)]['length'];document[_0x269f99(0x242)](_0x269f99(0x1d0))[_0x269f99(0xbfb)]=_0x4a25d7[_0x269f99(0x799)]||_0x269f99(0x7d3),document[_0x269f99(0x242)](_0x269f99(0x34c))[_0x269f99(0xbfb)]=_0x4a25d7[_0x269f99(0x87d)]||_0x269f99(0x8ca),document[_0x269f99(0x242)](_0x269f99(0x40f))[_0x269f99(0xbfb)]=_0x4a25d7[_0x269f99(0xcc5)]||'none',document[_0x269f99(0x242)](_0x269f99(0x428))[_0x269f99(0xbfb)]=_0x4a25d7['timerDuration']||0xa,document['getElementById'](_0x269f99(0xdaf))[_0x269f99(0xbfb)]=_0x4a25d7[_0x269f99(0x9dd)]||Math[_0x269f99(0x95d)](_0x4b93a9/0x2),document['getElementById']('modal-passing-score-input')['max']=_0x4b93a9,document['getElementById'](_0x269f99(0x1c7))[_0x269f99(0xa7e)]=_0x4a25d7[_0x269f99(0x1f3)]||![],document[_0x269f99(0x242)]('modal-loop-until-pass-checkbox')[_0x269f99(0xa7e)]=_0x4a25d7[_0x269f99(0xc1d)]||![];const _0xc209f7=_0x4a25d7[_0x269f99(0x627)]||![];document[_0x269f99(0x242)](_0x269f99(0x433))['checked']=_0xc209f7,document[_0x269f99(0x242)](_0x269f99(0xcca))[_0x269f99(0xbfb)]=_0x4a25d7[_0x269f99(0xddc)]||_0x269f99(0xded);const _0x49e6da=document[_0x269f99(0x242)](_0x269f99(0x209));_0x49e6da[_0x269f99(0xe19)]['toggle'](_0x269f99(0x414),!_0xc209f7),document[_0x269f99(0x242)](_0x269f99(0x40f))[_0x269f99(0x58a)](new Event('change')),quizSettingsModal[_0x269f99(0xe19)]['remove']('hidden');}else showMessage(_0x269f99(0x6ad));}catch(_0xa28204){console[_0x269f99(0xd98)](_0x269f99(0x779),_0xa28204),showMessage(_0x269f99(0x554));}}async function confirmQuizSettings(){const _0x46778e=_0x1dab5f;if(!actionTargetId)return;const _0x189b7a=doc(db,_0x46778e(0xb99)+appId+_0x46778e(0x48d),actionTargetId),_0x1b67d8={'shuffle':document[_0x46778e(0x242)](_0x46778e(0x1d0))['value'],'resultsDisplay':document[_0x46778e(0x242)](_0x46778e(0x34c))['value'],'timerMode':document[_0x46778e(0x242)](_0x46778e(0x40f))[_0x46778e(0xbfb)],'timerDuration':parseInt(document[_0x46778e(0x242)](_0x46778e(0x428))['value'])||0xa,'passingScore':parseInt(document[_0x46778e(0x242)]('modal-passing-score-input')[_0x46778e(0xbfb)])||0x0,'isAdaptive':document[_0x46778e(0x242)](_0x46778e(0x1c7))['checked'],'loopUntilPass':document[_0x46778e(0x242)](_0x46778e(0x441))[_0x46778e(0xa7e)],'isConfidenceScoringEnabled':document['getElementById'](_0x46778e(0x433))[_0x46778e(0xa7e)],'confidenceMode':document['getElementById'](_0x46778e(0xcca))['value']};try{await updateDoc(_0x189b7a,{'settings':_0x1b67d8}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x46778e(0xe19)][_0x46778e(0x27c)](_0x46778e(0x414)),actionTargetId=null;}catch(_0x153b90){console['error'](_0x46778e(0x17a),_0x153b90),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x21316e=_0x1dab5f;if(!actionTargetId)return;const _0x20baf2=doc(db,_0x21316e(0xb99)+appId+'/public/data/quizzes',actionTargetId),_0x4369cd=document[_0x21316e(0xb19)](_0x21316e(0x23a));if(!_0x4369cd){showMessage('กรุณาเลือกสถานะ');return;}const _0x4b492c=_0x4369cd[_0x21316e(0xbfb)];let _0xffca41={};if(_0x4b492c===_0x21316e(0xc93)||_0x4b492c==='inactive')_0xffca41={'status':_0x4b492c,'startTime':null,'endTime':null};else{if(_0x4b492c===_0x21316e(0x555)){const _0x1806f3=document[_0x21316e(0x242)](_0x21316e(0x4b3))[_0x21316e(0xbfb)],_0x24d0c5=document[_0x21316e(0x242)]('quiz-end-time')[_0x21316e(0xbfb)];if(!_0x1806f3&&!_0x24d0c5){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0xffca41={'status':_0x21316e(0x1bb),'startTime':_0x1806f3?new Date(_0x1806f3)['toISOString']():null,'endTime':_0x24d0c5?new Date(_0x24d0c5)['toISOString']():null};}}try{await updateDoc(_0x20baf2,_0xffca41),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x21316e(0xe19)][_0x21316e(0x27c)](_0x21316e(0x414)),actionTargetId=null;}catch(_0x11e22a){console[_0x21316e(0xd98)](_0x21316e(0xb15),_0x11e22a),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x492c18){const _0x1f72c3=_0x1dab5f,_0x4cf23a=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x492c18+_0x1f72c3(0xd3a));unsubscribeStudentProfilesListener=onSnapshot(_0x4cf23a,_0x20eda4=>{const _0x126dcb=_0x1f72c3,_0x53bffb=_0x20eda4[_0x126dcb(0x5ab)][_0x126dcb(0xdc6)](_0x4d485f=>_0x4d485f[_0x126dcb(0x1f1)]());renderLeaderboard(_0x53bffb,_0x126dcb(0x401));},_0x42b54e=>{const _0x48514f=_0x1f72c3;console[_0x48514f(0xd98)]('Error\x20listening\x20for\x20student\x20profiles:',_0x42b54e),document[_0x48514f(0x242)](_0x48514f(0x401))[_0x48514f(0x90d)]=_0x48514f(0x143);});}function renderLeaderboard(_0x5902a2,_0x44bfa2){const _0x254d74=_0x1dab5f,_0x1b7569=document[_0x254d74(0x242)](_0x44bfa2);if(!_0x5902a2||_0x5902a2[_0x254d74(0x283)]===0x0){_0x1b7569[_0x254d74(0x90d)]=_0x254d74(0x5dd);return;}_0x5902a2[_0x254d74(0xa23)]((_0x494c81,_0x10a5a0)=>{const _0xfce991=_0x254d74,_0x4606c9=(_0x10a5a0['totalPoints']||0x0)-(_0x494c81['totalPoints']||0x0);if(_0x4606c9!==0x0)return _0x4606c9;const _0x3bd3f3=(_0x10a5a0[_0xfce991(0x822)]?.[_0xfce991(0xc1a)]||0x0)-(_0x494c81[_0xfce991(0x822)]?.['specialist']||0x0);if(_0x3bd3f3!==0x0)return _0x3bd3f3;const _0x3e2ac3=(_0x10a5a0['badgesCount']?.[_0xfce991(0x45b)]||0x0)-(_0x494c81[_0xfce991(0x822)]?.[_0xfce991(0x45b)]||0x0);if(_0x3e2ac3!==0x0)return _0x3e2ac3;const _0x3a3d0a=(_0x10a5a0[_0xfce991(0x822)]?.['perfect_score']||0x0)-(_0x494c81[_0xfce991(0x822)]?.['perfect_score']||0x0);if(_0x3a3d0a!==0x0)return _0x3a3d0a;const _0x4753f7=(_0x10a5a0['badgesCount']?.[_0xfce991(0xa6f)]||0x0)-(_0x494c81[_0xfce991(0x822)]?.[_0xfce991(0xa6f)]||0x0);if(_0x4753f7!==0x0)return _0x4753f7;return _0x494c81[_0xfce991(0xcf3)][_0xfce991(0x46f)](_0x10a5a0['studentName'],'th');});let _0x5898bb='';_0x5902a2[_0x254d74(0xbdf)]((_0x1cb065,_0x806a26)=>{const _0x5401f1=_0x254d74,_0x469066=_0x806a26+0x1,_0x5f15b0=_0x1cb065[_0x5401f1(0x822)]||{};let _0xff34b1='';const _0x3de92e=[_0x5401f1(0xc1a),_0x5401f1(0x8ce),_0x5401f1(0x45b),_0x5401f1(0xa6f)];_0x3de92e['forEach'](_0x5821e5=>{const _0x3ab4d6=_0x5401f1;if(_0x5f15b0[_0x5821e5]>0x0){const _0x181927=Object[_0x3ab4d6(0xb31)](BADGES)['find'](_0x560112=>_0x560112['id']===_0x5821e5);_0x181927&&(_0x5821e5===_0x3ab4d6(0xc1a)?_0xff34b1+=_0x3ab4d6(0xd56)+_0x181927[_0x3ab4d6(0x4cc)]+_0x3ab4d6(0x9a4)+_0x181927[_0x3ab4d6(0xb55)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xff34b1+=_0x3ab4d6(0xd56)+_0x181927['name']+'\x20('+_0x5f15b0[_0x5821e5]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x181927[_0x3ab4d6(0xb55)]+_0x3ab4d6(0x1d8)+_0x5f15b0[_0x5821e5]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x5898bb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x469066+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1cb065[_0x5401f1(0xcf3)]+_0x5401f1(0x6d4)+(_0x1cb065['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0xff34b1||'-')+_0x5401f1(0x7e2);}),_0x1b7569[_0x254d74(0x90d)]=_0x5898bb;}function displayLoopScreen(_0x18afc0,_0x5b2e00,_0x537a3f){const _0x4c64e0=_0x1dab5f;let _0x574a25='';_0x537a3f!==_0x4c64e0(0x4ce)&&(_0x574a25=_0x4c64e0(0x4f6)+_0x18afc0+_0x4c64e0(0x25f)+_0x5b2e00+_0x4c64e0(0xb5f));const _0x2697c5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x574a25+_0x4c64e0(0x24f);studentResultArea['innerHTML']=_0x2697c5,studentResultArea[_0x4c64e0(0xe19)][_0x4c64e0(0x677)](_0x4c64e0(0x414)),studentQuizArea['classList'][_0x4c64e0(0x27c)](_0x4c64e0(0x414)),document['getElementById'](_0x4c64e0(0x684))['addEventListener'](_0x4c64e0(0xc23),()=>{const _0x54899a=_0x4c64e0;studentResultArea[_0x54899a(0xe19)][_0x54899a(0x27c)](_0x54899a(0x414)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0xb5c778,_0x401ab9,_0x4f5824){const _0x5a9d7c=_0x1dab5f,_0x818ee=document[_0x5a9d7c(0x242)](_0x4f5824),_0x25fec5=_0x4f5824==='student-quiz-leaderboard-table-body',_0x5919aa=_0x401ab9[_0x5a9d7c(0x3ef)][_0x5a9d7c(0x283)],_0x4da2fc=document['getElementById'](_0x4f5824)[_0x5a9d7c(0xc75)](_0x5a9d7c(0x260));if(_0x4da2fc&&!_0x25fec5){const _0x8bdafd=_0x4da2fc['querySelector'](_0x5a9d7c(0x1c6));_0x8bdafd['innerHTML']=_0x5a9d7c(0xdef);}if(!_0xb5c778||_0xb5c778[_0x5a9d7c(0x283)]===0x0){_0x818ee['innerHTML']=_0x5a9d7c(0x19c)+(_0x25fec5?0x6:0x8)+_0x5a9d7c(0x13f);return;}const _0x439484=[..._0xb5c778];_0x439484['sort']((_0x4594dd,_0x40d7ff)=>{const _0x435744=_0x5a9d7c;let _0x1c0f80,_0x11424d;switch(quizLeaderboardSortBy){case _0x435744(0xcf3):_0x1c0f80=_0x4594dd[_0x435744(0xcf3)]||'',_0x11424d=_0x40d7ff[_0x435744(0xcf3)]||'';return quizLeaderboardSortOrder===_0x435744(0xc69)?_0x1c0f80[_0x435744(0x46f)](_0x11424d,'th'):_0x11424d[_0x435744(0x46f)](_0x1c0f80,'th');case _0x435744(0x351):_0x1c0f80=_0x4594dd[_0x435744(0x351)]||0x0,_0x11424d=_0x40d7ff['points']||0x0;break;case _0x435744(0xac3):_0x1c0f80=_0x4594dd[_0x435744(0xac3)]?.[_0x435744(0x283)]||0x1,_0x11424d=_0x40d7ff['attempts']?.[_0x435744(0x283)]||0x1;break;case _0x435744(0x96c):_0x1c0f80=new Date(_0x4594dd[_0x435744(0x96c)]),_0x11424d=new Date(_0x40d7ff['latestSubmittedAt']);break;case'bestScore':default:_0x1c0f80=_0x4594dd[_0x435744(0x82c)],_0x11424d=_0x40d7ff[_0x435744(0x82c)];break;}if(_0x1c0f80<_0x11424d)return quizLeaderboardSortOrder===_0x435744(0xc69)?-0x1:0x1;if(_0x1c0f80>_0x11424d)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x4dd4e5=_0x401ab9[_0x5a9d7c(0xd6b)]===!![],_0x13d3d7=_0x401ab9[_0x5a9d7c(0x491)]?.[_0x5a9d7c(0x9dd)]??-0x1;let _0x35191d='';_0x439484[_0x5a9d7c(0xbdf)]((_0x2b3761,_0x1068d6)=>{const _0x45d75b=_0x5a9d7c,_0x30f4e0=_0x1068d6+0x1;let _0xf952e1=_0x45d75b(0x2c5);if(_0x4dd4e5||_0x13d3d7!==-0x1){let _0x3d044e=_0x4dd4e5?_0x2b3761[_0x45d75b(0x82c)]===_0x5919aa:_0x2b3761[_0x45d75b(0x82c)]>=_0x13d3d7;const _0x2d6ae3=_0x3d044e?_0x45d75b(0xd23):'bg-red-100\x20text-red-800',_0x111b3b=_0x3d044e?_0x45d75b(0x4ad):_0x45d75b(0x41b);_0xf952e1=_0x45d75b(0xb36)+_0x2d6ae3+'\x22>'+_0x111b3b+'</span></td>';}const _0xef10d1=_0x2b3761[_0x45d75b(0xac3)][_0x2b3761['attempts']['length']-0x1],_0x1ddd92=(_0xef10d1[_0x45d75b(0x663)]||[])['map'](_0x51684d=>{const _0x27256d=_0x45d75b,_0x3465f6=Object['values'](BADGES)[_0x27256d(0x794)](_0x2845c2=>_0x2845c2['id']===_0x51684d);return _0x3465f6?_0x27256d(0x6b2)+_0x3465f6['name']+'\x22><i\x20class=\x22fas\x20'+_0x3465f6[_0x27256d(0xb55)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x45d75b(0xe10)]('');_0x35191d+=_0x45d75b(0x2c8)+_0x30f4e0+_0x45d75b(0xc96)+_0x2b3761['studentName']+_0x45d75b(0x40b)+_0x2b3761[_0x45d75b(0x82c)]+_0x45d75b(0x25f)+_0x5919aa+_0x45d75b(0xca5)+_0xf952e1+_0x45d75b(0x7b0)+(_0x2b3761[_0x45d75b(0x351)]||0x0)+_0x45d75b(0xca5)+(_0x25fec5?'':_0x45d75b(0xb0c)+(_0x2b3761[_0x45d75b(0xac3)]?.[_0x45d75b(0x283)]||0x1)+_0x45d75b(0xc6b))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x25fec5?'':_0x45d75b(0x38b)+new Date(_0x2b3761[_0x45d75b(0x96c)])['toLocaleString'](_0x45d75b(0x8c1))+'</td>')+_0x45d75b(0xdcc)+(_0x1ddd92||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x818ee[_0x5a9d7c(0x90d)]=_0x35191d,_0x4da2fc&&!_0x25fec5&&_0x4da2fc[_0x5a9d7c(0x99b)](_0x5a9d7c(0x278))[_0x5a9d7c(0xbdf)](_0x7f77a9=>{const _0x3beade=_0x5a9d7c,_0x1d377a=_0x7f77a9['querySelector'](_0x3beade(0x744));if(_0x1d377a)_0x1d377a['remove']();_0x7f77a9[_0x3beade(0xb42)][_0x3beade(0xa23)]===quizLeaderboardSortBy&&(_0x7f77a9[_0x3beade(0x90d)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x3beade(0x69f));});}async function handleDeleteSubmission(_0xed7849){const _0x34660a=_0x1dab5f;if(!currentQuizData||!currentQuizData['id']||!_0xed7849){showMessage(_0x34660a(0xa2c));return;}showConfirmation(_0x34660a(0x3b0)+_0xed7849+_0x34660a(0xbd2),async()=>{const _0x28db0d=_0x34660a,_0x5ce7e4=currentQuizData['id'],_0x558fa4=doc(db,_0x28db0d(0xb99)+appId+_0x28db0d(0x5a0)+_0x5ce7e4+_0x28db0d(0x282),_0xed7849);try{await deleteDoc(_0x558fa4),showMessage(_0x28db0d(0xdd5)+_0xed7849+_0x28db0d(0x8cc));}catch(_0xe9c77){console['error'](_0x28db0d(0x88d),_0xe9c77),showMessage(_0x28db0d(0x6ce));}});}async function handleLoadQuiz(){const _0x55f8ba=_0x1dab5f,_0x36264f=document[_0x55f8ba(0x242)](_0x55f8ba(0x382)),_0x5612b2=_0x36264f[_0x55f8ba(0xbfb)]['trim']();if(!_0x5612b2){showMessage(_0x55f8ba(0xc4f));return;}loadQuizBtn[_0x55f8ba(0xd66)]=!![],loadQuizBtn[_0x55f8ba(0x90d)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x2aeb3e=doc(db,_0x55f8ba(0xb99)+appId+_0x55f8ba(0x48d),_0x5612b2),_0x143e0a=await getDoc(_0x2aeb3e);if(!_0x143e0a[_0x55f8ba(0xb96)]()){showMessage(_0x55f8ba(0x2cf));return;}currentQuizData={'id':_0x143e0a['id'],..._0x143e0a['data']()};const _0x5686e3=currentQuizData[_0x55f8ba(0x2db)]||_0x55f8ba(0xc93),_0x1700fa=new Date();if(_0x5686e3===_0x55f8ba(0x2dc)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x5686e3===_0x55f8ba(0x1bb)){const _0x29b96a=currentQuizData[_0x55f8ba(0x432)]?new Date(currentQuizData[_0x55f8ba(0x432)]):null,_0x374804=currentQuizData[_0x55f8ba(0xda5)]?new Date(currentQuizData[_0x55f8ba(0xda5)]):null;if(_0x29b96a&&_0x1700fa<_0x29b96a){showMessage(_0x55f8ba(0x70e)+_0x29b96a['toLocaleString'](_0x55f8ba(0x8c1),{'hour12':![]}));return;}if(_0x374804&&_0x1700fa>_0x374804){showMessage(_0x55f8ba(0x7ad));return;}}const _0x32d41c=currentQuizData[_0x55f8ba(0x1cf)];currentProjectId=_0x32d41c;const _0x58b97b=doc(db,_0x55f8ba(0xb99)+appId+_0x55f8ba(0x636),_0x32d41c),_0xa8ed8b=await getDoc(_0x58b97b);if(!_0xa8ed8b[_0x55f8ba(0xb96)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x263572=_0xa8ed8b[_0x55f8ba(0x1f1)]();currentStudentProjectData=_0x263572,displayStudentNameSelector(_0x263572[_0x55f8ba(0x7f8)],currentQuizData[_0x55f8ba(0xe0e)]);}catch(_0x219f8e){console[_0x55f8ba(0xd98)](_0x55f8ba(0xa9d),_0x219f8e),showMessage(_0x55f8ba(0x5f5));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x55f8ba(0x90d)]=_0x55f8ba(0xc8c);}}async function handleManualEditPoints(_0x1ed9b5,_0x553a36){const _0x58912c=_0x1dab5f;if(!currentQuizData||!currentQuizData['id'])return;const _0x4a958f=currentQuizData['id'],_0x52b242=doc(db,_0x58912c(0xb99)+appId+_0x58912c(0x5a0)+_0x4a958f+'/submissions',_0x1ed9b5);try{const _0x542804=await getDoc(_0x52b242);if(!_0x542804[_0x58912c(0xb96)]())return;const _0x42dbcf=_0x542804['data'](),_0x3b8576=_0x42dbcf[_0x58912c(0xac3)]||[];_0x3b8576[_0x58912c(0x283)]>0x0&&(_0x3b8576[_0x3b8576['length']-0x1][_0x58912c(0x351)]=_0x553a36,_0x3b8576[_0x3b8576[_0x58912c(0x283)]-0x1][_0x58912c(0xbb8)]=!![]),await updateDoc(_0x52b242,{'points':_0x553a36,'attempts':_0x3b8576}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x1ed9b5),showMessage(_0x58912c(0xa64)+_0x1ed9b5+_0x58912c(0x334)+_0x553a36+_0x58912c(0x55c));}catch(_0x3fa993){console[_0x58912c(0xd98)](_0x58912c(0xd78),_0x3fa993),showMessage('เกิดข้อผิดพลาดในการบันทึกคะแนน');}}async function handleJoinLiveGame(){const _0xe89a86=_0x1dab5f,_0x13056d=document[_0xe89a86(0x242)](_0xe89a86(0x46a)),_0x5706ee=document[_0xe89a86(0x242)](_0xe89a86(0x1ef)),_0x4f2a81=document[_0xe89a86(0x242)](_0xe89a86(0x9aa)),_0x3afab4=_0x13056d[_0xe89a86(0xbfb)][_0xe89a86(0xb6d)](),_0x58099d=_0x5706ee[_0xe89a86(0xbfb)][_0xe89a86(0xb6d)]();if(!_0x3afab4||!_0x58099d){showMessage(_0xe89a86(0x1ab));return;}_0x4f2a81[_0xe89a86(0xd66)]=!![],_0x4f2a81[_0xe89a86(0x90d)]=_0xe89a86(0x2a4);try{const _0x37d799=collection(db,_0xe89a86(0xb99)+appId+_0xe89a86(0x4e8)),_0x1367ba=query(_0x37d799,where(_0xe89a86(0x728),'==',_0x3afab4),where(_0xe89a86(0x2db),'in',[_0xe89a86(0x56b),_0xe89a86(0x7e7)])),_0x554cbb=await getDocs(_0x1367ba);if(_0x554cbb['empty']){showMessage(_0xe89a86(0x88a));return;}const _0x395af6=_0x554cbb['docs'][0x0],_0x1ed2ad=_0x395af6[_0xe89a86(0x1f1)]();currentLiveGameId=_0x395af6['id'];const _0x2a0182=_0x1ed2ad[_0xe89a86(0xcd7)],_0x24f724=doc(db,_0xe89a86(0xb99)+appId+_0xe89a86(0x48d),_0x2a0182),_0x53a3ee=await getDoc(_0x24f724);if(!_0x53a3ee[_0xe89a86(0xb96)]()){showMessage(_0xe89a86(0xb4a));return;}currentQuizData={'id':_0x53a3ee['id'],..._0x53a3ee[_0xe89a86(0x1f1)]()};if(_0x1ed2ad[_0xe89a86(0x616)]&&_0x1ed2ad[_0xe89a86(0x616)][_0x58099d]){const _0x5104cd=_0x1ed2ad[_0xe89a86(0x616)][_0x58099d];if(_0x5104cd['status']===_0xe89a86(0x2dc)){_0x4f2a81[_0xe89a86(0x90d)]=_0xe89a86(0xc3d);const _0x1cb19e={};_0x1cb19e[_0xe89a86(0x789)+_0x58099d+_0xe89a86(0xbf7)]='active',await updateDoc(doc(db,_0xe89a86(0xb99)+appId+_0xe89a86(0x4e8),currentLiveGameId),_0x1cb19e),showView(_0xe89a86(0x3d3)),currentStudentName=_0x58099d,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x1ed2ad[_0xe89a86(0x2db)]!=='lobby'){showMessage(_0xe89a86(0xd7c));return;}_0x4f2a81[_0xe89a86(0x90d)]=_0xe89a86(0x802);const _0x203601={};_0x203601[_0xe89a86(0x789)+_0x58099d]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0xe89a86(0xb99)+appId+'/public/data/liveGames',currentLiveGameId),_0x203601),currentStudentName=_0x58099d,listenForLiveGameUpdates();}catch(_0x52a964){console[_0xe89a86(0xd98)](_0xe89a86(0xb8b),_0x52a964),showMessage(_0xe89a86(0xa38));}finally{_0x4f2a81['disabled']=![],_0x4f2a81[_0xe89a86(0x90d)]=_0xe89a86(0xbcd);}}function displayStudentNameSelector(_0x220b38,_0x428563){const _0x1a3fe7=_0x1dab5f,_0x2e68d0=document[_0x1a3fe7(0x242)](_0x1a3fe7(0xafb));document[_0x1a3fe7(0x242)]('student-quiz-topic')[_0x1a3fe7(0xafa)]='แบบทดสอบ:\x20'+_0x428563,!_0x220b38||_0x220b38['length']===0x0?(_0x2e68d0[_0x1a3fe7(0x90d)]=_0x1a3fe7(0xd71),startQuizBtn[_0x1a3fe7(0xd66)]=!![]):(_0x2e68d0['innerHTML']=_0x1a3fe7(0x50b),_0x220b38[_0x1a3fe7(0xbdf)](_0x3c3ddd=>{const _0x24e7d9=_0x1a3fe7,_0x5cbe0b=document['createElement'](_0x24e7d9(0x40d));_0x5cbe0b[_0x24e7d9(0xbfb)]=_0x3c3ddd,_0x5cbe0b[_0x24e7d9(0xafa)]=_0x3c3ddd,_0x2e68d0['appendChild'](_0x5cbe0b);}),startQuizBtn['disabled']=![]),studentInitialView[_0x1a3fe7(0xe19)][_0x1a3fe7(0x27c)](_0x1a3fe7(0x414)),studentNameSelectionView['classList'][_0x1a3fe7(0x677)](_0x1a3fe7(0x414));}function shuffleArray(_0x2b42ce){const _0x465035=_0x1dab5f;for(let _0x5d4d9e=_0x2b42ce[_0x465035(0x283)]-0x1;_0x5d4d9e>0x0;_0x5d4d9e--){const _0x3e0f88=Math[_0x465035(0x95d)](Math['random']()*(_0x5d4d9e+0x1));[_0x2b42ce[_0x5d4d9e],_0x2b42ce[_0x3e0f88]]=[_0x2b42ce[_0x3e0f88],_0x2b42ce[_0x5d4d9e]];}}function getShuffledQuiz(_0x572895){const _0x40d7c8=_0x1dab5f;let _0x59ae49=JSON[_0x40d7c8(0x942)](JSON[_0x40d7c8(0x3a5)](_0x572895));const _0x1a2d4b=_0x59ae49[_0x40d7c8(0x491)]?.['shuffle']||_0x40d7c8(0x7d3);if(_0x1a2d4b===_0x40d7c8(0x7d3))return _0x59ae49;return(_0x1a2d4b===_0x40d7c8(0x7b1)||_0x1a2d4b===_0x40d7c8(0x30d))&&shuffleArray(_0x59ae49[_0x40d7c8(0x3ef)]),(_0x1a2d4b==='choices_only'||_0x1a2d4b==='both')&&_0x59ae49[_0x40d7c8(0x3ef)][_0x40d7c8(0xbdf)](_0x223de3=>{const _0x2871ac=_0x40d7c8,_0x19a7f6=_0x223de3[_0x2871ac(0x5c5)]||_0x59ae49[_0x2871ac(0x11f)];if(_0x223de3[_0x2871ac(0x381)]){let _0x15797e=_0x223de3['options'][_0x2871ac(0xdc6)]((_0x41739e,_0xd76d4f)=>({'text':_0x41739e,'isCorrect':_0xd76d4f===_0x223de3['correctAnswerIndex']}));shuffleArray(_0x15797e),_0x223de3[_0x2871ac(0x381)]=_0x15797e[_0x2871ac(0xdc6)](_0x125084=>_0x125084[_0x2871ac(0xad0)]),_0x223de3[_0x2871ac(0xd79)]=_0x15797e[_0x2871ac(0xd5f)](_0x3a9917=>_0x3a9917['isCorrect']);}_0x19a7f6===_0x2871ac(0x6ca)&&_0x223de3[_0x2871ac(0x9cb)]&&shuffleArray(_0x223de3[_0x2871ac(0x9cb)]);}),_0x59ae49;}function displayQuizForStudent(_0x41b228){const _0x7e3d44=_0x1dab5f;studentQuizArea[_0x7e3d44(0xe19)][_0x7e3d44(0x677)](_0x7e3d44(0x414)),currentDisplayedQuiz=getShuffledQuiz(_0x41b228);currentMode!==_0x7e3d44(0x122)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x7e3d44(0x264)](_0x7e3d44(0x5e5),handleFullscreenChange),document[_0x7e3d44(0x264)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x7e3d44(0x264)]('mousemove',resetDimTimer),window[_0x7e3d44(0x264)](_0x7e3d44(0x9bc),resetDimTimer),window[_0x7e3d44(0x264)](_0x7e3d44(0xbc0),resetDimTimer),window[_0x7e3d44(0x264)](_0x7e3d44(0x9d8),resetDimTimer),resetDimTimer());const _0x52dba1=currentDisplayedQuiz['settings']?.[_0x7e3d44(0xcc5)]||_0x7e3d44(0x7d3);if(_0x52dba1===_0x7e3d44(0x90a))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings']['timerDuration']);else _0x52dba1===_0x7e3d44(0x591)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x5da5fa=_0x1dab5f,_0x1123e8=currentDisplayedQuiz[_0x5da5fa(0x491)]?.[_0x5da5fa(0x627)]===!![],_0x439f15=currentDisplayedQuiz[_0x5da5fa(0x491)]?.[_0x5da5fa(0xddc)]||'checkbox';let _0x2cecdb=_0x5da5fa(0xdad)+currentDisplayedQuiz[_0x5da5fa(0xe0e)]+_0x5da5fa(0x823)+(currentMode===_0x5da5fa(0x122)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x5da5fa(0x70f);currentDisplayedQuiz['questions']['forEach']((_0x1357f3,_0x443fc0)=>{const _0x47a9cc=_0x5da5fa,_0x2a0949=_0x1357f3[_0x47a9cc(0x5c5)]||currentDisplayedQuiz['quizType'];_0x2cecdb+=_0x47a9cc(0x751);if(_0x2a0949===_0x47a9cc(0x6ca)){}else _0x2cecdb+='<p>'+(_0x443fc0+0x1)+'.\x20'+(_0x1357f3[_0x47a9cc(0x4fa)]||_0x1357f3[_0x47a9cc(0x8c4)])+_0x47a9cc(0xe0b),_0x1357f3['imageCode']&&(_0x2cecdb+=_0x47a9cc(0xa6c)+_0x1357f3[_0x47a9cc(0xb12)]+_0x47a9cc(0x30c));_0x2cecdb+=_0x47a9cc(0x176);switch(_0x2a0949){case _0x47a9cc(0xb16):_0x2cecdb+='<textarea\x20name=\x22question'+_0x443fc0+_0x47a9cc(0x7d0);break;case'true_false':_0x2cecdb+=_0x47a9cc(0x7e1)+_0x443fc0+_0x47a9cc(0x713)+_0x443fc0+_0x47a9cc(0x465)+_0x443fc0+_0x47a9cc(0xc51),_0x2cecdb+=_0x47a9cc(0x7e1)+_0x443fc0+_0x47a9cc(0x831)+_0x443fc0+_0x47a9cc(0xd87)+_0x443fc0+_0x47a9cc(0x480);break;case _0x47a9cc(0x6ca):_0x2cecdb+=_0x47a9cc(0x612)+_0x1357f3[_0x47a9cc(0xd64)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x443fc0+_0x47a9cc(0x5a8)+_0x1357f3[_0x47a9cc(0x9cb)][_0x47a9cc(0xdc6)](_0x734f9e=>_0x47a9cc(0x397)+_0x734f9e+'\x22>'+_0x734f9e+_0x47a9cc(0x460))[_0x47a9cc(0xe10)]('')+_0x47a9cc(0xde2);break;default:_0x2cecdb+=_0x1357f3[_0x47a9cc(0x381)]['map']((_0x3d7676,_0x1f5502)=>_0x47a9cc(0x597)+_0x443fc0+'_opt'+_0x1f5502+_0x47a9cc(0x82a)+_0x443fc0+_0x47a9cc(0xaff)+_0x1f5502+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x443fc0+_0x47a9cc(0x980)+_0x1f5502+'\x22>'+_0x3d7676+_0x47a9cc(0x492))['join']('');break;}_0x2cecdb+=_0x47a9cc(0x30c),_0x1123e8&&(_0x2cecdb+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x439f15==='mandatory'?_0x2cecdb+=_0x47a9cc(0xd1d)+_0x443fc0+_0x47a9cc(0xbc3)+_0x443fc0+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x443fc0+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x443fc0+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2cecdb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x443fc0+_0x47a9cc(0xbc3)+_0x443fc0+_0x47a9cc(0x26e)+_0x443fc0+_0x47a9cc(0x149),_0x2cecdb+='</div>'),_0x2cecdb+=_0x47a9cc(0x30c);}),_0x2cecdb+=_0x5da5fa(0xa30),_0x2cecdb+=_0x5da5fa(0x5f3),studentQuizArea[_0x5da5fa(0x90d)]=_0x2cecdb;if(currentMode===_0x5da5fa(0x122)){const _0x4ec4b5=document[_0x5da5fa(0x242)](_0x5da5fa(0xa73));if(_0x4ec4b5)_0x4ec4b5[_0x5da5fa(0x264)]('click',cancelAdminTest);}const _0x360c72=document[_0x5da5fa(0x242)](_0x5da5fa(0x76d));_0x360c72&&(_0x360c72[_0x5da5fa(0x264)]('submit',handleSubmitQuiz),_0x360c72[_0x5da5fa(0x264)](_0x5da5fa(0xc23),_0x41fd26=>{const _0x504672=_0x5da5fa;if(_0x41fd26[_0x504672(0x230)][_0x504672(0xe19)][_0x504672(0x52e)](_0x504672(0x5c2))){const _0x373e1c=_0x41fd26[_0x504672(0x230)],_0x32d5a1=_0x373e1c[_0x504672(0xb42)][_0x504672(0x444)],_0x1b8db3=_0x373e1c[_0x504672(0xb42)][_0x504672(0xbfb)];document['getElementById'](_0x504672(0xdbc)+_0x32d5a1)[_0x504672(0xbfb)]=_0x1b8db3;const _0x19936e=_0x373e1c[_0x504672(0xc0d)];_0x19936e[_0x504672(0x99b)](_0x504672(0x26b))[_0x504672(0xbdf)](_0x114299=>_0x114299[_0x504672(0xe19)][_0x504672(0x677)](_0x504672(0xc93))),_0x373e1c[_0x504672(0xe19)][_0x504672(0x27c)]('active');}}));if(window[_0x5da5fa(0x972)])window[_0x5da5fa(0x972)][_0x5da5fa(0xde3)]([studentQuizArea]);}async function handleSubmitQuiz(_0x4a0bda){const _0x136933=_0x1dab5f;if(_0x4a0bda)_0x4a0bda[_0x136933(0xc2b)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x378114=document[_0x136933(0x242)]('quiz-form');if(!_0x378114)return;const _0x23e06f=currentDisplayedQuiz[_0x136933(0x491)]?.[_0x136933(0x627)]===!![],_0x5f5405=currentDisplayedQuiz['settings']?.[_0x136933(0xddc)]||_0x136933(0xded);if(_0x23e06f&&_0x5f5405===_0x136933(0x3ff)){let _0x55dc40=!![];for(let _0x377d0e=0x0;_0x377d0e<currentDisplayedQuiz['questions']['length'];_0x377d0e++){const _0x5d6514=_0x378114[_0x136933(0xb19)](_0x136933(0x5e8)+_0x377d0e);if(!_0x5d6514||_0x5d6514[_0x136933(0xbfb)]===''){_0x55dc40=![];break;}}if(!_0x55dc40){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x2ec139=_0x378114[_0x136933(0xb19)](_0x136933(0x6b8)),_0x36fbbf=currentDisplayedQuiz['questions'][_0x136933(0xb63)](_0x2b9cbd=>_0x2b9cbd['questionType']==='short_answer');_0x2ec139&&(_0x2ec139[_0x136933(0xd66)]=!![],_0x2ec139[_0x136933(0x90d)]=_0x36fbbf?_0x136933(0xc1e):_0x136933(0x502));const _0xeab012=new FormData(_0x378114),_0x3789ec=currentDisplayedQuiz[_0x136933(0x3ef)][_0x136933(0xdc6)]((_0x30235d,_0x4b7c7c)=>{const _0x5c69f2=_0x136933,_0x28c227=_0xeab012[_0x5c69f2(0x2df)](_0x5c69f2(0x7e7)+_0x4b7c7c);let _0x5f1228;_0x5f5405===_0x5c69f2(0x3ff)?_0x5f1228=_0xeab012[_0x5c69f2(0x2df)]('confidence'+_0x4b7c7c):_0x5f1228=_0xeab012[_0x5c69f2(0x2df)](_0x5c69f2(0x9eb)+_0x4b7c7c)==='on';let _0x477cdf=null;if(_0x28c227!==null&&_0x28c227!==undefined){const _0x5c1994=_0x30235d[_0x5c69f2(0x5c5)]||currentDisplayedQuiz[_0x5c69f2(0x11f)];_0x5c1994==='multiple_choice'||_0x5c1994===_0x5c69f2(0xe1e)?_0x477cdf=parseInt(_0x28c227):_0x477cdf=_0x28c227;}return{'answer':_0x477cdf,'wasConfident':_0x5f1228};}),_0x3c9ce6=currentQuizData['id'],_0x2ed7b7=doc(db,_0x136933(0xb99)+appId+'/public/data/quizzes/'+_0x3c9ce6+'/submissions',currentStudentName),_0x6d44df=await getDoc(_0x2ed7b7),_0x1ac9fb=_0x6d44df[_0x136933(0xb96)]()?_0x6d44df['data']():{},_0x36e43c=_0x1ac9fb['attempts']||[];await processAndSubmitAnswers(_0x3789ec,_0x36e43c);}async function gradeShortAnswerWithAI(_0x44ae3a,_0x30e67e){const _0x40232b=_0x1dab5f;if(!_0x44ae3a||!_0x30e67e)return![];try{const _0x103228='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x44ae3a+_0x40232b(0xe1d)+_0x30e67e+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x5c5626={'contents':[{'role':'user','parts':[{'text':_0x103228}]}]},_0x2aa768=_0x40232b(0xa41),_0x3affe3=_0x40232b(0x59b)+_0x2aa768,_0x3581f2=await fetch(_0x3affe3,{'method':'POST','headers':{'Content-Type':_0x40232b(0xbe0)},'body':JSON[_0x40232b(0x3a5)](_0x5c5626)});if(!_0x3581f2['ok'])throw new Error(_0x40232b(0xc76));const _0x12d2cb=await _0x3581f2['json'](),_0x4f48bf=_0x12d2cb[_0x40232b(0x548)][0x0][_0x40232b(0x7a5)]['parts'][0x0][_0x40232b(0xad0)][_0x40232b(0xb6d)]()[_0x40232b(0x463)]();return _0x4f48bf===_0x40232b(0x6cf);}catch(_0x41f143){return console[_0x40232b(0xd98)](_0x40232b(0xa5a),_0x41f143),![];}}async function processAndSubmitAnswers(_0x10376a,_0x285bf0){const _0x5f4602=_0x1dab5f;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x5f4602(0x232)]('visibilitychange',handleVisibilityChange);let _0x4f6ce2=0x0;const _0x572066=[],_0xafb1ca=currentDisplayedQuiz[_0x5f4602(0x3ef)][_0x5f4602(0x283)];let _0x51636a=0x0,_0x34e3ae=[];const _0x33a561=currentDisplayedQuiz[_0x5f4602(0x3ef)];for(let _0x1ca719=0x0;_0x1ca719<_0x33a561[_0x5f4602(0x283)];_0x1ca719++){const _0x982fed=_0x33a561[_0x1ca719],_0x306c2a=_0x10376a[_0x1ca719],_0x421cc0=_0x306c2a?_0x306c2a[_0x5f4602(0x5d6)]:null,_0x4a4d03=_0x306c2a?_0x306c2a[_0x5f4602(0x39a)]:null;let _0x3337ab=![],_0x4c755d=0x0;if(_0x421cc0!==null&&_0x421cc0!==''){const _0x57e05c=_0x982fed[_0x5f4602(0x5c5)]||currentDisplayedQuiz[_0x5f4602(0x11f)];switch(_0x57e05c){case _0x5f4602(0x6ca):_0x3337ab=_0x421cc0===_0x982fed[_0x5f4602(0x38f)];break;case _0x5f4602(0x66d):const _0x411acf=_0x421cc0===!![]||_0x421cc0===_0x5f4602(0x6cf);_0x3337ab=_0x411acf===_0x982fed['correctAnswer'];break;case _0x5f4602(0xb16):_0x3337ab=await gradeShortAnswer(_0x421cc0,_0x982fed);break;case _0x5f4602(0x423):default:_0x3337ab=Number(_0x421cc0)===_0x982fed[_0x5f4602(0xd79)];break;}}if(currentDisplayedQuiz['settings']?.[_0x5f4602(0x627)]){const _0x27d6be=_0x306c2a?_0x306c2a[_0x5f4602(0x39a)]:null;if(_0x3337ab&&(_0x27d6be===!![]||_0x27d6be==='confident'))_0x4c755d=0x2;else{if(_0x3337ab)_0x4c755d=0x1;else{if(!_0x3337ab&&(_0x27d6be===![]||_0x27d6be===_0x5f4602(0xa34)||_0x27d6be===null))_0x4c755d=0x0;else!_0x3337ab&&(_0x27d6be===!![]||_0x27d6be===_0x5f4602(0x198))&&(_0x4c755d=-0x1);}}}else _0x4c755d=_0x3337ab?0x1:0x0;_0x4f6ce2+=_0x4c755d;if(_0x3337ab){_0x51636a++;if(_0x51636a===0x3)_0x34e3ae[_0x5f4602(0x20e)](BADGES[_0x5f4602(0x7e0)]['id']);}else _0x51636a=0x0;let _0x485b42=null;_0x982fed[_0x5f4602(0x381)]&&_0x421cc0!==null&&(_0x485b42=_0x982fed[_0x5f4602(0x381)][_0x421cc0]),_0x572066[_0x5f4602(0x20e)]({'questionId':_0x982fed['id'],'answer':_0x421cc0,'answerText':_0x485b42,'isCorrect':_0x3337ab,'wasConfident':_0x4a4d03,'pointsAwarded':_0x4c755d,'originalQuestionText':_0x982fed[_0x5f4602(0xd64)]||_0x982fed['questionText']});}const _0x36a64a=_0x572066[_0x5f4602(0x3be)](_0x38c917=>_0x38c917[_0x5f4602(0x56f)])[_0x5f4602(0x283)],_0x3516e0=currentDisplayedQuiz[_0x5f4602(0x491)]?.[_0x5f4602(0x9dd)]??Math[_0x5f4602(0x95d)](_0xafb1ca/0x2);_0x36a64a===_0xafb1ca&&_0xafb1ca>0x0&&!currentDisplayedQuiz[_0x5f4602(0xd6b)]&&_0x34e3ae[_0x5f4602(0x20e)](BADGES[_0x5f4602(0x9c0)]['id']);const _0x3c7aa3=currentDisplayedQuiz[_0x5f4602(0x491)]?.[_0x5f4602(0xcc5)];if(_0x3c7aa3===_0x5f4602(0x90a)&&quizStartTime){const _0x1c7883=(new Date()-quizStartTime)/0x3e8,_0x40d7d0=currentDisplayedQuiz['settings'][_0x5f4602(0x44f)]*0x3c;_0x36a64a>=_0x3516e0&&_0x1c7883<_0x40d7d0/0x2&&_0x34e3ae[_0x5f4602(0x20e)](BADGES['QUICK_THINKER']['id']);}_0x285bf0['length']===0x0&&_0x36a64a===_0xafb1ca&&_0xafb1ca>0x0&&_0x34e3ae[_0x5f4602(0x20e)](BADGES[_0x5f4602(0x20c)]['id']);if(_0x285bf0[_0x5f4602(0x283)]>0x0){const _0x2c535e=_0x285bf0[0x0][_0x5f4602(0x3bb)];if(_0x2c535e<_0x3516e0&&_0x36a64a>=_0x3516e0){const _0x46ce3a=_0x285bf0['some'](_0x2f1629=>(_0x2f1629['badges']||[])[_0x5f4602(0x87f)](BADGES['COMEBACK_KING']['id']));!_0x46ce3a&&_0x34e3ae['push'](BADGES[_0x5f4602(0x886)]['id']);}}_0x285bf0[_0x5f4602(0x283)]===0x4&&_0x34e3ae[_0x5f4602(0x20e)](BADGES['PERSEVERANCE']['id']);const _0x20e555=currentDisplayedQuiz[_0x5f4602(0x491)]['resultsDisplay'];if(currentMode===_0x5f4602(0x122)){handleResultDisplay(_0x20e555,_0x36a64a,_0x4f6ce2,_0x34e3ae,_0x572066,_0xafb1ca);return;}const _0x322296=currentQuizData['id'],_0x40fb2f=doc(db,'artifacts/'+appId+_0x5f4602(0x5a0)+_0x322296+_0x5f4602(0x282),currentStudentName);try{const _0x14d803=[..._0x285bf0],_0x5619e7={'score':_0x36a64a,'points':_0x4f6ce2,'badges':Array['from'](new Set(_0x34e3ae)),'submittedAt':new Date()[_0x5f4602(0x97b)](),'answers':_0x572066};_0x14d803[_0x5f4602(0x20e)](_0x5619e7);const _0x92f183=_0x285bf0[_0x5f4602(0x283)]===0x0?_0x36a64a:_0x285bf0[0x0][_0x5f4602(0x3bb)]||0x0,_0x4b5d2a=Math[_0x5f4602(0xcd3)](..._0x14d803[_0x5f4602(0xdc6)](_0xd00cc=>_0xd00cc[_0x5f4602(0x3bb)]));await setDoc(_0x40fb2f,{'studentName':currentStudentName,'totalQuestions':_0xafb1ca,'attempts':_0x14d803,'firstScore':_0x92f183,'bestScore':_0x4b5d2a,'latestScore':_0x36a64a,'points':_0x4f6ce2,'latestSubmittedAt':_0x5619e7[_0x5f4602(0x50e)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x5f4602(0x1cf)],currentStudentName),handleResultDisplay(_0x20e555,_0x36a64a,_0x4f6ce2,_0x34e3ae,_0x572066,_0xafb1ca);}catch(_0x1281aa){console[_0x5f4602(0xd98)](_0x5f4602(0xc46),_0x1281aa),showMessage(_0x5f4602(0xb18));}}async function updateStudentProfile(_0x5738a3,_0x13ca65){const _0x4a27be=_0x1dab5f,_0x38d2c9=doc(db,_0x4a27be(0xb99)+appId+_0x4a27be(0xa81)+_0x5738a3+'/studentProfiles',_0x13ca65);try{const _0x5157a2=query(collection(db,_0x4a27be(0xb99)+appId+_0x4a27be(0x48d)),where(_0x4a27be(0x1cf),'==',_0x5738a3)),_0x4fe8f7=await getDocs(_0x5157a2),_0x4a9a66=new Map(_0x4fe8f7[_0x4a27be(0x5ab)][_0x4a27be(0xdc6)](_0xdf5a8=>[_0xdf5a8['id'],_0xdf5a8['data']()])),_0x41a67e=Array['from'](_0x4a9a66[_0x4a27be(0xd39)]());await runTransaction(db,async _0x3d01e6=>{const _0x2e979e=_0x4a27be;let _0x3eb9a9=0x0;const _0x3af5a1={};let _0x154eff=!![],_0x3a6bf4=0x0,_0x400e92=0x0;for(const _0x226912 of _0x41a67e){const _0x5e750b=_0x4a9a66[_0x2e979e(0x2df)](_0x226912),_0x52855a=doc(db,_0x2e979e(0xb99)+appId+_0x2e979e(0x5a0)+_0x226912+_0x2e979e(0x282),_0x13ca65),_0x4fbcd0=await _0x3d01e6['get'](_0x52855a);if(_0x4fbcd0['exists']()){const _0x12e6f5=_0x4fbcd0[_0x2e979e(0x1f1)](),_0x2c4b92=_0x12e6f5[_0x2e979e(0xac3)]||[];if(_0x2c4b92['length']>0x0){const _0x5f21cf=_0x2c4b92[_0x2e979e(0xbab)]((_0x352216,_0x225699)=>{const _0x2e2ccb=_0x2e979e;if(_0x225699['score']>_0x352216[_0x2e2ccb(0x3bb)])return _0x225699;if(_0x225699['score']===_0x352216[_0x2e2ccb(0x3bb)])return(_0x225699[_0x2e2ccb(0x351)]||0x0)>(_0x352216['points']||0x0)?_0x225699:_0x352216;return _0x352216;},{'score':-0x1,'points':-0x1});_0x5f21cf[_0x2e979e(0x3bb)]>-0x1&&(_0x3eb9a9+=_0x5f21cf[_0x2e979e(0x351)]||0x0,(_0x5f21cf[_0x2e979e(0x663)]||[])[_0x2e979e(0xbdf)](_0x2e4adb=>{_0x3af5a1[_0x2e4adb]=(_0x3af5a1[_0x2e4adb]||0x0)+0x1;}));}}if(_0x5e750b['topic']!=='แบบทดสอบซ่อมเสริม'){_0x400e92++;if(_0x4fbcd0[_0x2e979e(0xb96)]()){_0x3a6bf4++;const _0x13ab5e=_0x4fbcd0['data']();_0x13ab5e['bestScore']!==_0x13ab5e['totalQuestions']&&(_0x154eff=![]);}else _0x154eff=![];}}_0x400e92>0x0&&_0x3a6bf4===_0x400e92&&_0x154eff?_0x3af5a1[_0x2e979e(0xc1a)]=0x1:_0x3af5a1['specialist']=0x0,_0x3d01e6[_0x2e979e(0x279)](_0x38d2c9,{'studentName':_0x13ca65,'totalPoints':_0x3eb9a9,'unlockedBadges':Object[_0x2e979e(0xd39)](_0x3af5a1)['filter'](_0x3ad31e=>_0x3af5a1[_0x3ad31e]>0x0),'badgesCount':_0x3af5a1},{'merge':!![]});});}catch(_0x347a76){console[_0x4a27be(0xd98)](_0x4a27be(0x5eb),_0x347a76),showMessage(_0x4a27be(0x4ee));}}function startAdminTest(){const _0x4d3f5a=_0x1dab5f;if(!currentQuizData){showMessage(_0x4d3f5a(0x809));return;}let _0x4350b2=JSON['parse'](JSON[_0x4d3f5a(0x3a5)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x4d3f5a(0x959),adminView['classList'][_0x4d3f5a(0x27c)](_0x4d3f5a(0x414)),studentView[_0x4d3f5a(0xe19)][_0x4d3f5a(0x677)](_0x4d3f5a(0x414)),studentInitialView[_0x4d3f5a(0xe19)]['add']('hidden'),studentNameSelectionView[_0x4d3f5a(0xe19)]['add'](_0x4d3f5a(0x414)),studentResultArea[_0x4d3f5a(0xe19)][_0x4d3f5a(0x27c)](_0x4d3f5a(0x414)),studentQuizArea[_0x4d3f5a(0xe19)][_0x4d3f5a(0x677)](_0x4d3f5a(0x414)),quizStartTime=new Date(),displayQuizForStudent(_0x4350b2);}function handleResultDisplay(_0x45c4a2,_0x1fd353,_0x28b4aa,_0x494c35,_0x184ed4,_0x271191){const _0x497b5e=_0x1dab5f;if(_0x45c4a2==='manual_release'){displaySubmissionConfirmation();return;}const _0x43564e=currentDisplayedQuiz[_0x497b5e(0x491)]?.['passingScore']??Math[_0x497b5e(0x95d)](_0x271191/0x2),_0x38df9c=currentDisplayedQuiz[_0x497b5e(0x491)]?.[_0x497b5e(0x1f3)]??![],_0x5a66a5=currentDisplayedQuiz[_0x497b5e(0x491)]?.[_0x497b5e(0xc1d)]===!![],_0x3e2e98=_0x1fd353<_0x43564e,_0x3c3bd6=_0x45c4a2===_0x497b5e(0x734)||_0x45c4a2===_0x497b5e(0x300);if(_0x5a66a5&&_0x3e2e98&&!_0x3c3bd6){_0x45c4a2===_0x497b5e(0x8ca)?displayResultsWithAnswers(_0x1fd353,_0x28b4aa,_0x494c35,_0x184ed4,_0x271191,!![]):displayLoopScreen(_0x1fd353,_0x271191,_0x45c4a2);return;}if(_0x38df9c&&_0x3e2e98){startAdaptiveFlow(_0x184ed4,_0x1fd353,_0x271191);return;}switch(_0x45c4a2){case _0x497b5e(0x8ca):displayResultsWithAnswers(_0x1fd353,_0x28b4aa,_0x494c35,_0x184ed4,_0x271191);break;case _0x497b5e(0x784):displayResultsScoreOnly(_0x1fd353,_0x28b4aa,_0x494c35,_0x271191);break;case _0x497b5e(0x4ce):displayPassFailOnly(_0x1fd353,_0x271191);break;case _0x497b5e(0x734):displayHalfMarkResult(_0x1fd353,_0x271191);break;case _0x497b5e(0x300):displayPerfectScoreResult(_0x1fd353,_0x271191);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x3816ce){const _0x14de03=_0x1dab5f;studentReadingArea['innerHTML']=_0x14de03(0x37e);const _0x67b469=_0x14de03(0xd65)+_0x3816ce+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x14de03(0x43b),_0x452a9e={'type':_0x14de03(0x674),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x14de03(0xb13)}},'correctAnswerIndex':{'type':_0x14de03(0x2ad)},'explanation':{'type':_0x14de03(0xb13)}},'required':[_0x14de03(0x8c4),_0x14de03(0x381),_0x14de03(0xd79),'explanation']},_0x5bc12f={'type':_0x14de03(0x674),'properties':{'topic':{'type':_0x14de03(0xb13)},'questions':{'type':'ARRAY','items':_0x452a9e}},'required':[_0x14de03(0xe0e),_0x14de03(0x3ef)]};try{const _0x728666=await callAnalysisApi(_0x67b469,_0x5bc12f);_0x728666['isRemedial']=!![],studentReadingArea[_0x14de03(0xe19)][_0x14de03(0x27c)](_0x14de03(0x414));const _0x4afc58={...currentDisplayedQuiz[_0x14de03(0x491)],'isAdaptive':![],'resultsDisplay':_0x14de03(0x8ca)};_0x728666[_0x14de03(0x491)]=_0x4afc58,displayQuizForStudent(_0x728666);}catch(_0xb39a94){console[_0x14de03(0xd98)]('Remedial\x20quiz\x20generation\x20failed:',_0xb39a94),showMessage(_0x14de03(0xb9a)),showView(_0x14de03(0x53e));}}function displayPassFailOnly(_0x40c130,_0x5f43d5){const _0x140b2b=_0x1dab5f,_0x4f11e5=currentDisplayedQuiz[_0x140b2b(0x491)]?.[_0x140b2b(0x9dd)]??-0x1,_0x5e5c7c=currentDisplayedQuiz[_0x140b2b(0xd6b)]===!![];let _0x2a7cc6='',_0x2a2ce5=![];if(_0x5e5c7c||_0x4f11e5!==-0x1){_0x2a2ce5=_0x5e5c7c?_0x40c130===_0x5f43d5:_0x40c130>=_0x4f11e5;const _0x81e611=_0x2a2ce5?_0x140b2b(0xd23):_0x140b2b(0x66a),_0x46cdd4=_0x2a2ce5?'ผ่าน':_0x140b2b(0x41b);_0x2a7cc6=_0x140b2b(0x732)+_0x81e611+'\x22>'+_0x46cdd4+_0x140b2b(0x13c);}else _0x2a7cc6=_0x140b2b(0xcdd);let _0x5810b8=_0x140b2b(0x7b5)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a7cc6+_0x140b2b(0x735);studentResultArea[_0x140b2b(0x90d)]=_0x5810b8,studentResultArea[_0x140b2b(0xe19)][_0x140b2b(0x677)](_0x140b2b(0x414)),studentQuizArea[_0x140b2b(0xe19)]['add']('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x2a2ce5});}function cancelAdminTest(){const _0x55d7b3=_0x1dab5f;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x55d7b3(0x232)](_0x55d7b3(0x5e5),handleFullscreenChange),document[_0x55d7b3(0x232)]('visibilitychange',handleVisibilityChange),currentMode=_0x55d7b3(0xcc8),studentView[_0x55d7b3(0xe19)][_0x55d7b3(0x27c)](_0x55d7b3(0x414)),adminView[_0x55d7b3(0xe19)][_0x55d7b3(0x677)](_0x55d7b3(0x414)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x19cd21){const _0x1c5f69=_0x1dab5f,_0x251e8a={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x19cd21};if(_0x251e8a[_0x1c5f69(0x81f)]){const _0x23a4f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0x1c5f69(0xad1),_0x23a4f1),document[_0x1c5f69(0x242)](_0x1c5f69(0x684))['addEventListener'](_0x1c5f69(0xc23),()=>{const _0x10af3b=_0x1c5f69;studentResultArea[_0x10af3b(0xe19)][_0x10af3b(0x27c)](_0x10af3b(0x414)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5113e6=_0x1c5f69(0x4ff),_0x2ec362=currentMode===_0x1c5f69(0x122),_0x58e697=_0x2ec362?_0x1c5f69(0x8d7):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x2199db='';_0x251e8a[_0x1c5f69(0xbce)]&&(_0x2199db+=_0x1c5f69(0x60c));let _0x4e4181=_0x251e8a[_0x1c5f69(0x85c)];_0x4e4181===undefined&&(_0x4e4181=_0x251e8a[_0x1c5f69(0x3bb)]<_0x251e8a[_0x1c5f69(0x9c6)]);_0x4e4181&&(_0x2199db+=_0x1c5f69(0x593));_0x2199db+=_0x1c5f69(0xb48)+_0x5113e6+_0x1c5f69(0x9f9)+_0x58e697+'</button>';const _0x502145=_0x1c5f69(0x26a)+_0x2199db+'</div>';studentResultArea[_0x1c5f69(0x2c6)](_0x1c5f69(0xad1),_0x502145),studentResultArea[_0x1c5f69(0xb19)](_0x1c5f69(0x184))?.['addEventListener'](_0x1c5f69(0xc23),handleShowStudentRankings);const _0x4f89da=studentResultArea['querySelector'](_0x1c5f69(0x585));_0x4f89da&&_0x4f89da['addEventListener']('click',()=>{const _0x206393=_0x1c5f69;studentResultArea[_0x206393(0xe19)]['add'](_0x206393(0x414)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1c5f69(0x242)](_0x5113e6)[_0x1c5f69(0x264)](_0x1c5f69(0xc23),()=>{const _0x1f9bf8=_0x1c5f69;_0x2ec362?(currentMode=_0x1f9bf8(0xcc8),studentView[_0x1f9bf8(0xe19)]['add'](_0x1f9bf8(0x414)),adminView[_0x1f9bf8(0xe19)][_0x1f9bf8(0x677)](_0x1f9bf8(0x414)),showView(_0x1f9bf8(0x3f3))):(showView('student'),document['getElementById']('quiz-id-input')['value']='');});}function displayResultsWithAnswers(_0x3977ce,_0x33ab36,_0x11bf12,_0x127024,_0x2bcf69,_0x392cc2=![]){const _0x17cb60=_0x1dab5f,_0x1fa530=_0x2bcf69>0x0?_0x3977ce/_0x2bcf69*0x64:0x0,_0xe52dc5=currentDisplayedQuiz[_0x17cb60(0x491)]?.[_0x17cb60(0x9dd)]??-0x1,_0x283696=currentDisplayedQuiz[_0x17cb60(0xd6b)]===!![];let _0x5b5fae='';if(_0x283696||_0xe52dc5!==-0x1){let _0x276a8f=_0x283696?_0x3977ce===_0x2bcf69:_0x3977ce>=_0xe52dc5;const _0x218bfa=_0x276a8f?_0x17cb60(0xd23):_0x17cb60(0x66a),_0x3942bb=_0x276a8f?'ผ่าน':_0x17cb60(0x41b);_0x5b5fae=_0x17cb60(0xdfb)+_0x218bfa+'\x22>'+_0x3942bb+_0x17cb60(0xe0b);}let _0x189c53='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x17cb60(0xdff)+_0x3977ce+_0x17cb60(0xc3f)+_0x2bcf69+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b5fae+_0x17cb60(0x7b9)+_0x33ab36+_0x17cb60(0x15e)+_0x1fa530[_0x17cb60(0x536)](0x0)+_0x17cb60(0x2d1);currentDisplayedQuiz[_0x17cb60(0x3ef)][_0x17cb60(0xbdf)]((_0x2b505d,_0x257570)=>{const _0x2a4036=_0x17cb60,_0x102001=_0x127024[_0x257570],_0x3ecc2e=_0x102001['answer'],_0x1c66cb=_0x102001[_0x2a4036(0x56f)],_0x507871=_0x2b505d[_0x2a4036(0x5c5)]||currentDisplayedQuiz[_0x2a4036(0x11f)];_0x189c53+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x1c66cb?_0x2a4036(0x142):_0x2a4036(0x933))+_0x2a4036(0x986)+(_0x257570+0x1)+'.\x20'+(_0x2b505d[_0x2a4036(0xd64)]||_0x2b505d['questionText'])+_0x2a4036(0xc08);switch(_0x507871){case'matching_item':const _0x52c251=_0x3ecc2e||'ไม่ได้ตอบ',_0x2b2ecc=_0x2b505d['correctResponse'];_0x189c53+=_0x2a4036(0xab0)+(!_0x1c66cb?_0x2a4036(0x6ff):'')+'\x22>'+_0x52c251+_0x2a4036(0x955);!_0x1c66cb&&(_0x189c53+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x2b2ecc+'</p>');break;case _0x2a4036(0xb16):_0x189c53+=_0x2a4036(0xcd6)+(_0x3ecc2e||_0x2a4036(0xe0d))+_0x2a4036(0xe0b),_0x189c53+=_0x2a4036(0x992)+_0x2b505d[_0x2a4036(0x424)]+'</p>';break;case'true_false':_0x189c53+=_0x2a4036(0x9af)+(_0x2b505d[_0x2a4036(0xbec)]===!![]?_0x2a4036(0x5fa):'')+'\x20'+(_0x3ecc2e===_0x2a4036(0x6cf)&&!_0x1c66cb?'line-through\x20text-red-700':'')+'\x22>ใช่</p>',_0x189c53+='<p\x20class=\x22'+(_0x2b505d['correctAnswer']===![]?_0x2a4036(0x5fa):'')+'\x20'+(_0x3ecc2e==='false'&&!_0x1c66cb?_0x2a4036(0x6ff):'')+_0x2a4036(0x80d);break;default:_0x189c53+=_0x2b505d['options'][_0x2a4036(0xdc6)]((_0x14e652,_0x18770c)=>{const _0x5bf514=_0x2a4036;let _0x35503c='',_0x8adfe7='';if(_0x18770c===_0x2b505d[_0x5bf514(0xd79)])_0x35503c=_0x5bf514(0x5fa),_0x8adfe7=_0x5bf514(0x422);else _0x18770c===_0x3ecc2e&&(_0x35503c=_0x5bf514(0x7f9),_0x8adfe7=_0x5bf514(0x9b3));return'<div\x20class=\x22'+_0x35503c+'\x22>'+_0x8adfe7+_0x14e652+_0x5bf514(0x30c);})[_0x2a4036(0xe10)]('');break;}_0x189c53+=_0x2a4036(0x524)+(_0x2b505d[_0x2a4036(0xaeb)]||_0x2a4036(0xcd9))+_0x2a4036(0x30c);if(!_0x1c66cb){const _0x1582ae=_0x2b505d[_0x2a4036(0xd64)]||_0x2b505d['questionText'];_0x189c53+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x1582ae)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x189c53+='</div>';}),studentResultArea[_0x17cb60(0x90d)]=_0x189c53,renderEarnedBadges(_0x11bf12,'earned-badges-container'),studentResultArea[_0x17cb60(0xe19)][_0x17cb60(0x677)]('hidden'),studentQuizArea['classList'][_0x17cb60(0x27c)](_0x17cb60(0x414)),setupResultScreenBackButton({'isLooping':_0x392cc2,'score':_0x3977ce,'totalQuestions':_0x2bcf69,'showRankings':!![]});if(window[_0x17cb60(0x972)])window[_0x17cb60(0x972)][_0x17cb60(0xde3)]([studentResultArea]);}function displayResultsScoreOnly(_0x46611d,_0x3045c9,_0x12c703,_0x463f01){const _0x5d1004=_0x1dab5f,_0x437288=_0x463f01>0x0?_0x46611d/_0x463f01*0x64:0x0,_0x3bcef6=currentDisplayedQuiz[_0x5d1004(0x491)]?.['passingScore']??-0x1,_0x22cb86=currentDisplayedQuiz[_0x5d1004(0xd6b)]===!![];let _0x4a8c59='';if(_0x22cb86||_0x3bcef6!==-0x1){let _0x1f1e79=_0x22cb86?_0x46611d===_0x463f01:_0x46611d>=_0x3bcef6;const _0x3d37f7=_0x1f1e79?_0x5d1004(0xd23):_0x5d1004(0x66a),_0x2a85c6=_0x1f1e79?_0x5d1004(0x4ad):_0x5d1004(0x41b);_0x4a8c59=_0x5d1004(0xdfb)+_0x3d37f7+'\x22>'+_0x2a85c6+_0x5d1004(0xe0b);}let _0x1f48a4=_0x5d1004(0x7b5)+currentStudentName+_0x5d1004(0xe20)+_0x46611d+_0x5d1004(0x3fe)+_0x463f01+_0x5d1004(0xc9a)+_0x4a8c59+_0x5d1004(0x7b9)+_0x3045c9+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x437288[_0x5d1004(0x536)](0x0)+_0x5d1004(0x55e);studentResultArea[_0x5d1004(0x90d)]=_0x1f48a4,renderEarnedBadges(_0x12c703,_0x5d1004(0x503)),studentResultArea[_0x5d1004(0xe19)][_0x5d1004(0x677)](_0x5d1004(0x414)),studentQuizArea['classList'][_0x5d1004(0x27c)](_0x5d1004(0x414)),setupResultScreenBackButton({'score':_0x46611d,'totalQuestions':_0x463f01,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x74b6bc=_0x1dab5f;let _0x1705be='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x74b6bc(0x90d)]=_0x1705be,studentResultArea[_0x74b6bc(0xe19)][_0x74b6bc(0x677)](_0x74b6bc(0x414)),studentQuizArea['classList'][_0x74b6bc(0x27c)](_0x74b6bc(0x414)),document['getElementById']('back-to-home-manual-release')[_0x74b6bc(0x264)](_0x74b6bc(0xc23),()=>{const _0x3cecbb=_0x74b6bc;showView(_0x3cecbb(0x53e)),document[_0x3cecbb(0x242)](_0x3cecbb(0x382))[_0x3cecbb(0xbfb)]='';});}function renderEarnedBadges(_0xa04ae,_0x16b6ae){const _0x575a78=_0x1dab5f,_0x18f8d7=document[_0x575a78(0x242)](_0x16b6ae);if(!_0x18f8d7||!_0xa04ae||_0xa04ae[_0x575a78(0x283)]===0x0)return;let _0x4dff88='';_0xa04ae[_0x575a78(0xbdf)]((_0x44ecd4,_0x2cc50c)=>{const _0x30fadd=_0x575a78,_0x5bb26c=Object[_0x30fadd(0xb31)](BADGES)[_0x30fadd(0x794)](_0xedebb5=>_0xedebb5['id']===_0x44ecd4);_0x5bb26c&&(_0x4dff88+=_0x30fadd(0x653)+_0x2cc50c*0.2+_0x30fadd(0x215)+_0x5bb26c[_0x30fadd(0x539)]+_0x30fadd(0x818)+_0x5bb26c[_0x30fadd(0xb55)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x5bb26c[_0x30fadd(0x4cc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x18f8d7['innerHTML']=_0x4dff88;}function startPresentation(_0x146634){const _0x477fb8=_0x1dab5f;currentQuizData=getShuffledQuiz(_0x146634),currentPresentationSlide=0x0,presentationModal[_0x477fb8(0x271)][_0x477fb8(0x90e)]=_0x477fb8(0xd04),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x55139e=_0x1dab5f;document['fullscreenElement']&&document[_0x55139e(0x549)](),presentationModal[_0x55139e(0x271)][_0x55139e(0x90e)]=_0x55139e(0x7d3);}function renderPresentationSlide(_0x477522){const _0x3a668f=_0x1dab5f,_0xcb9241=document[_0x3a668f(0x242)](_0x3a668f(0x983));if(!currentQuizData||!currentQuizData[_0x3a668f(0x3ef)]||!currentQuizData[_0x3a668f(0x3ef)][_0x477522]){_0xcb9241['innerHTML']=_0x3a668f(0x7b6);return;}const _0x122a98=currentQuizData[_0x3a668f(0x3ef)][_0x477522],_0xa4b29c=_0x122a98[_0x3a668f(0x5c5)]||currentQuizData[_0x3a668f(0x11f)];_0xcb9241[_0x3a668f(0x90d)]='';let _0x3b0553=_0x3a668f(0x29a)+(_0x122a98[_0x3a668f(0xb12)]?_0x3a668f(0xa6c)+_0x122a98[_0x3a668f(0xb12)]+_0x3a668f(0x30c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x477522+0x1)+'.\x20'+(_0x122a98['stem']||_0x122a98[_0x3a668f(0x8c4)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0xa4b29c){case'matching_item':_0x3b0553+=_0x122a98[_0x3a668f(0x9cb)][_0x3a668f(0xdc6)](_0x199476=>_0x3a668f(0x888)+_0x199476+_0x3a668f(0x4af))[_0x3a668f(0xe10)]('');break;case _0x3a668f(0x66d):_0x3b0553+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x3b0553+=_0x3a668f(0xd8e);break;case _0x3a668f(0xd9f):case'short_answer':_0x3b0553+=_0x3a668f(0x3ee);break;case _0x3a668f(0xe1e):case _0x3a668f(0x423):default:_0x3b0553+=_0x122a98[_0x3a668f(0x381)][_0x3a668f(0xdc6)]((_0x82905a,_0x4add19)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x4add19+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x82905a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3a668f(0xe10)]('');break;}_0x3b0553+=_0x3a668f(0x66b)+(_0x122a98[_0x3a668f(0xaeb)]||_0x3a668f(0xcd9))+_0x3a668f(0x4bd),_0xcb9241[_0x3a668f(0x90d)]=_0x3b0553;if(window[_0x3a668f(0x972)])window['MathJax'][_0x3a668f(0xde3)]([_0xcb9241]);let _0x546569=[];switch(_0xa4b29c){case _0x3a668f(0x6ca):_0x546569=_0x122a98[_0x3a668f(0x9cb)]||[];break;case _0x3a668f(0x66d):_0x546569=[_0x3a668f(0xab9),_0x3a668f(0x518)];break;default:_0x546569=_0x122a98[_0x3a668f(0x381)]||[];break;}const _0x366ddb=document[_0x3a668f(0x242)](_0x3a668f(0x452));_0x366ddb&&(_0x366ddb['onclick']=()=>{openScratchpad(_0x122a98,_0x546569);});document['querySelectorAll'](_0x3a668f(0x8a2))[_0x3a668f(0xbdf)](_0x11d13b=>{const _0x208a7c=_0x3a668f;_0x11d13b[_0x208a7c(0x264)]('click',_0x468397=>revealAnswerForPresentation(_0x477522,_0x468397['currentTarget']));});const _0x566627=document[_0x3a668f(0x242)](_0x3a668f(0x23e));_0x566627&&_0x566627[_0x3a668f(0x264)](_0x3a668f(0xc23),()=>checkShortAnswerForPresentation(_0x477522)),document[_0x3a668f(0x242)]('slide-counter')['textContent']=_0x3a668f(0xc89)+(_0x477522+0x1)+_0x3a668f(0x25f)+currentQuizData[_0x3a668f(0x3ef)]['length'],document[_0x3a668f(0x242)](_0x3a668f(0x80e))[_0x3a668f(0xd66)]=_0x477522===0x0,document[_0x3a668f(0x242)]('next-question-btn')['disabled']=_0x477522===currentQuizData['questions'][_0x3a668f(0x283)]-0x1;}async function checkShortAnswerForPresentation(_0x425e36){const _0x5d0b78=_0x1dab5f,_0x27915d=currentQuizData[_0x5d0b78(0x3ef)][_0x425e36],_0x4da243=document[_0x5d0b78(0x242)](_0x5d0b78(0x2a7)),_0x5d9c84=document[_0x5d0b78(0x242)](_0x5d0b78(0x23e)),_0x38e441=document[_0x5d0b78(0x242)](_0x5d0b78(0x1cd)),_0x48ca3b=document[_0x5d0b78(0x242)](_0x5d0b78(0x2ca));if(!_0x4da243||!_0x5d9c84||!_0x38e441||!_0x48ca3b)return;const _0x4bc0a1=_0x4da243[_0x5d0b78(0xbfb)][_0x5d0b78(0xb6d)]();if(_0x4bc0a1==='')return;_0x5d9c84[_0x5d0b78(0xd66)]=!![],_0x5d9c84[_0x5d0b78(0x90d)]=_0x5d0b78(0xb08),_0x4da243[_0x5d0b78(0xd66)]=!![];const _0x3bb2cb=await gradeShortAnswer(_0x4bc0a1,_0x27915d);_0x3bb2cb?_0x38e441[_0x5d0b78(0x90d)]=_0x5d0b78(0xa3c):_0x38e441[_0x5d0b78(0x90d)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x27915d[_0x5d0b78(0x424)]+')',_0x38e441[_0x5d0b78(0xe19)][_0x5d0b78(0x677)](_0x5d0b78(0x414)),_0x48ca3b[_0x5d0b78(0xe19)][_0x5d0b78(0x677)](_0x5d0b78(0x414)),_0x5d9c84['classList'][_0x5d0b78(0x27c)](_0x5d0b78(0x414));}function revealAnswerForPresentation(_0x37374d,_0x4d3fde){const _0xe5cc92=_0x1dab5f,_0x504318=currentQuizData[_0xe5cc92(0x3ef)][_0x37374d],_0x4f8f5e=_0x504318[_0xe5cc92(0x5c5)]||currentQuizData[_0xe5cc92(0x11f)];document[_0xe5cc92(0x99b)](_0xe5cc92(0x8a2))[_0xe5cc92(0xbdf)](_0x2841e1=>{const _0x2fbfff=_0xe5cc92;_0x2841e1['disabled']=!![],_0x2841e1['classList'][_0x2fbfff(0x677)]('hover:bg-indigo-100');let _0x2f2a29=![];if(_0x4f8f5e===_0x2fbfff(0x423)||_0x4f8f5e===_0x2fbfff(0xe1e)){const _0x546888=parseInt(_0x2841e1[_0x2fbfff(0xb42)][_0x2fbfff(0x6a8)]);_0x2f2a29=_0x546888===_0x504318['correctAnswerIndex'];}else{if(_0x4f8f5e==='true_false'){const _0x399122=_0x2841e1['dataset'][_0x2fbfff(0x5d6)]===_0x2fbfff(0x6cf);_0x2f2a29=_0x399122===_0x504318[_0x2fbfff(0xbec)];}else _0x4f8f5e==='matching_item'&&(_0x2f2a29=_0x2841e1['textContent'][_0x2fbfff(0xb6d)]()===_0x504318['correctResponse']);}_0x2f2a29?_0x2841e1[_0x2fbfff(0xe19)][_0x2fbfff(0x27c)](_0x2fbfff(0x1fb),_0x2fbfff(0x403),'border-green-700'):_0x2841e1[_0x2fbfff(0xe19)][_0x2fbfff(0x27c)](_0x2fbfff(0x1e8));}),_0x4d3fde[_0xe5cc92(0xe19)][_0xe5cc92(0x677)]('opacity-50');let _0xc891b1=![];if(_0x4f8f5e===_0xe5cc92(0x423))_0xc891b1=parseInt(_0x4d3fde[_0xe5cc92(0xb42)][_0xe5cc92(0x6a8)])===_0x504318['correctAnswerIndex'];else{if(_0x4f8f5e===_0xe5cc92(0x66d))_0xc891b1=_0x4d3fde[_0xe5cc92(0xb42)][_0xe5cc92(0x5d6)]===_0xe5cc92(0x6cf)===_0x504318[_0xe5cc92(0xbec)];else _0x4f8f5e===_0xe5cc92(0x6ca)&&(_0xc891b1=_0x4d3fde['textContent'][_0xe5cc92(0xb6d)]()===_0x504318[_0xe5cc92(0x38f)]);}!_0xc891b1&&_0x4d3fde[_0xe5cc92(0xe19)][_0xe5cc92(0x27c)](_0xe5cc92(0x78f),'text-white',_0xe5cc92(0x83a)),document['getElementById'](_0xe5cc92(0x2ca))[_0xe5cc92(0xe19)][_0xe5cc92(0x677)](_0xe5cc92(0x414));}function startWholeQuizTimer(_0x53e454){const _0x34c507=_0x1dab5f,_0x1e1898=document[_0x34c507(0x242)](_0x34c507(0x83b));if(!_0x1e1898)return;const _0x77d467=Date[_0x34c507(0xaf6)]()+_0x53e454*0x3c*0x3e8;_0x1e1898[_0x34c507(0x90d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x16e104=document[_0x34c507(0x242)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x7641bc=_0x34c507,_0x543599=_0x77d467-Date[_0x7641bc(0xaf6)]();if(_0x543599<=0x0)clearInterval(quizTimerInterval),_0x16e104[_0x7641bc(0xafa)]='00:00',showMessage(_0x7641bc(0x8d5)),handleSubmitQuiz(null);else{const _0x67391a=Math[_0x7641bc(0x95d)](_0x543599/0x3e8/0x3c%0x3c)[_0x7641bc(0xbe3)]()[_0x7641bc(0x506)](0x2,'0'),_0x57bcac=Math[_0x7641bc(0x95d)](_0x543599/0x3e8%0x3c)['toString']()['padStart'](0x2,'0');_0x16e104[_0x7641bc(0xafa)]=_0x67391a+':'+_0x57bcac;}},0x3e8);}function renderPerQuestionView(){const _0x299b59=_0x1dab5f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x45ff96=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x1f990c=_0x45ff96[_0x299b59(0x5c5)]||currentDisplayedQuiz[_0x299b59(0x11f)],_0x10b0ef=currentDisplayedQuiz[_0x299b59(0x491)]?.[_0x299b59(0x627)]===!![];let _0x2bc0f8=_0x299b59(0x360)+(currentQuestionIndex+0x1)+_0x299b59(0xb69)+currentDisplayedQuiz['questions'][_0x299b59(0x283)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x299b59(0x122)?_0x299b59(0xa40):'')+_0x299b59(0xd61)+currentDisplayedQuiz[_0x299b59(0xe0e)]+_0x299b59(0x4de);studentQuizArea[_0x299b59(0x90d)]=_0x2bc0f8;let _0x249bcd=_0x45ff96[_0x299b59(0xd64)]||_0x45ff96[_0x299b59(0x8c4)];_0x45ff96[_0x299b59(0xb12)]&&(_0x249bcd+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x45ff96[_0x299b59(0xb12)]+'</div>');let _0x2305dc='';switch(_0x1f990c){case _0x299b59(0xb16):case'fill_in_no_choices':_0x2305dc=_0x299b59(0x186);break;case'true_false':_0x2305dc=_0x299b59(0x74e);break;case _0x299b59(0x6ca):_0x2305dc=_0x299b59(0x6a3)+(_0x45ff96['allResponses']||[])[_0x299b59(0xdc6)](_0xf7b510=>_0x299b59(0x397)+_0xf7b510+'\x22>'+_0xf7b510+_0x299b59(0x460))[_0x299b59(0xe10)]('')+_0x299b59(0x630);break;default:_0x45ff96[_0x299b59(0x381)]&&(_0x2305dc=_0x45ff96[_0x299b59(0x381)]['map']((_0x551623,_0x10909a)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x10909a+_0x299b59(0x973)+_0x10909a+_0x299b59(0x47d)+_0x10909a+'\x22>'+_0x551623+_0x299b59(0x410))[_0x299b59(0xe10)](''));break;}document[_0x299b59(0x242)]('per-question-text')[_0x299b59(0x90d)]=_0x249bcd,document[_0x299b59(0x242)](_0x299b59(0xd1c))[_0x299b59(0x90d)]=_0x2305dc;const _0x2e4cfe=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x4eae58=currentDisplayedQuiz[_0x299b59(0x491)]?.[_0x299b59(0xddc)]||_0x299b59(0xded);if(_0x2e4cfe&&_0x4eae58===_0x299b59(0xded)){const _0x4e8ad0=_0x299b59(0x8b2);studentQuizArea[_0x299b59(0xb19)](_0x299b59(0xbf1))[_0x299b59(0x2c6)](_0x299b59(0xad1),_0x4e8ad0);}studentQuizArea[_0x299b59(0x2c6)](_0x299b59(0xad1),_0x299b59(0x4e4)+(currentQuestionIndex===currentDisplayedQuiz[_0x299b59(0x3ef)]['length']-0x1?_0x299b59(0xcd1):'คำถามถัดไป')+_0x299b59(0xb87));currentMode==='admin-testing'&&document['getElementById']('cancel-test-btn')?.['addEventListener'](_0x299b59(0xc23),cancelAdminTest);document[_0x299b59(0x242)](_0x299b59(0x55d))[_0x299b59(0x264)](_0x299b59(0xc23),()=>handleNextQuestionInTimedMode(![]));if(window[_0x299b59(0x972)])window[_0x299b59(0x972)][_0x299b59(0xde3)]([studentQuizArea]);currentDisplayedQuiz[_0x299b59(0x491)]?.[_0x299b59(0xcc5)]===_0x299b59(0x591)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x18f9dd=_0x1dab5f,_0x5a224b=currentDisplayedQuiz[_0x18f9dd(0x491)][_0x18f9dd(0x44f)],_0x31a609=document[_0x18f9dd(0x242)](_0x18f9dd(0xc97));if(!_0x31a609)return;let _0x136822=_0x5a224b;_0x31a609[_0x18f9dd(0x90d)]=_0x18f9dd(0x4b0)+_0x136822+_0x18f9dd(0x39c);const _0x337660=document[_0x18f9dd(0x242)](_0x18f9dd(0xdfd)),_0x8879e4=document[_0x18f9dd(0x242)](_0x18f9dd(0x13e));perQuestionTimerInterval=setInterval(()=>{const _0x4639f4=_0x18f9dd;_0x136822--;const _0x48c893=_0x136822/_0x5a224b*0x64;_0x337660[_0x4639f4(0x271)][_0x4639f4(0xa5b)]=_0x48c893+'%',_0x8879e4[_0x4639f4(0xafa)]=_0x136822,_0x136822<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4639f4(0xb04)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x390ef3=![]){const _0x56465f=_0x1dab5f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1818be=null,_0xa91633=![];if(!_0x390ef3){const _0x4d6ce2=currentDisplayedQuiz[_0x56465f(0x3ef)][currentQuestionIndex],_0x3c32fb=_0x4d6ce2[_0x56465f(0x5c5)]||currentDisplayedQuiz['quizType'];if(_0x3c32fb===_0x56465f(0xb16)||_0x3c32fb===_0x56465f(0xd9f))_0x1818be=document[_0x56465f(0xb19)](_0x56465f(0x50c))?.[_0x56465f(0xbfb)][_0x56465f(0xb6d)]()??'';else{if(_0x3c32fb===_0x56465f(0x6ca))_0x1818be=document[_0x56465f(0xb19)]('select[name=\x22question_single\x22]')?.[_0x56465f(0xbfb)]??'';else{const _0x2e4c77=document[_0x56465f(0xb19)]('input[name=\x22question_single\x22]:checked');_0x2e4c77&&(_0x1818be=_0x2e4c77[_0x56465f(0xbfb)]);}}if(_0x1818be===null||_0x1818be===''){showMessage(_0x56465f(0xcfe)),startPerQuestionTimer();return;}const _0x3040c6=currentDisplayedQuiz[_0x56465f(0x491)]?.['isConfidenceScoringEnabled']===!![],_0xe0c5=currentDisplayedQuiz[_0x56465f(0x491)]?.[_0x56465f(0xddc)]||'checkbox';if(_0x3040c6&&_0xe0c5===_0x56465f(0x3ff)){document[_0x56465f(0x242)](_0x56465f(0xdd7))['dataset']['currentMode']=_0x56465f(0x118),document[_0x56465f(0x242)](_0x56465f(0x4a1))['value']=_0x1818be,document[_0x56465f(0x242)](_0x56465f(0xdd7))[_0x56465f(0xe19)]['remove'](_0x56465f(0x414));return;}const _0x5457dc=document['getElementById']('confidence_single');_0x5457dc&&(_0xa91633=_0x5457dc['checked']);}const _0x2b6fa3={'answer':_0x1818be,'wasConfident':_0xa91633};proceedToNextQuestion(_0x2b6fa3);}async function finalizePerQuestionQuiz(){const _0x508cf2=_0x1dab5f,_0x42a7b7=currentDisplayedQuiz['questions'][_0x508cf2(0xb63)](_0x2d108f=>_0x2d108f[_0x508cf2(0x5c5)]===_0x508cf2(0xb16));_0x42a7b7?showMessage(_0x508cf2(0x9e1)):showMessage(_0x508cf2(0x82e));const _0x37bc03=currentQuizData['id'],_0x4dd4fc=doc(db,_0x508cf2(0xb99)+appId+'/public/data/quizzes/'+_0x37bc03+'/submissions',currentStudentName),_0x5cb6b2=await getDoc(_0x4dd4fc),_0x5acc50=_0x5cb6b2[_0x508cf2(0xb96)]()?_0x5cb6b2[_0x508cf2(0x1f1)]():{},_0x41ceb6=_0x5acc50['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x41ceb6);}function getResultsFilename(){const _0x1b727c=_0x1dab5f,_0x56e30a=document['getElementById'](_0x1b727c(0x57a))[_0x1b727c(0xafa)]['replace'](/[^a-z0-9]/gi,'_')[_0x1b727c(0x463)]();return _0x1b727c(0xb72)+(_0x56e30a||_0x1b727c(0x394));}function exportResultsAsImage(){const _0x1d2549=_0x1dab5f,_0x34eb7b=document[_0x1d2549(0x242)]('results-table-container');showMessage(_0x1d2549(0x139)),html2canvas(_0x34eb7b)[_0x1d2549(0x5ee)](_0x1d4af4=>{const _0x51d454=_0x1d2549,_0x5e9420=document[_0x51d454(0xc3c)]('a');_0x5e9420['download']=getResultsFilename()+_0x51d454(0x6fc),_0x5e9420[_0x51d454(0x426)]=_0x1d4af4[_0x51d454(0xb27)]('image/png'),_0x5e9420[_0x51d454(0xc23)](),messageModal[_0x51d454(0xe19)][_0x51d454(0x27c)](_0x51d454(0x414));});}function exportResultsAsPDF(){const _0x347c10=_0x1dab5f,{jsPDF:_0x312082}=window[_0x347c10(0x3a4)],_0x3398f6=new _0x312082();_0x3398f6['setFont'](_0x347c10(0xc2f),_0x347c10(0xb10)),_0x3398f6[_0x347c10(0x7bd)]({'html':_0x347c10(0x312)}),_0x3398f6['save'](getResultsFilename()+_0x347c10(0xba7));}function exportResultsAsWord(){const _0x3f08b8=_0x1dab5f,_0x59d046=_0x3f08b8(0xc32)+_0x3f08b8(0xd21)+_0x3f08b8(0xe14)+_0x3f08b8(0x4f1),_0xb99a2a='</body></html>',_0xa75e34=_0x59d046+document[_0x3f08b8(0x242)](_0x3f08b8(0x4ef))[_0x3f08b8(0x90d)]+_0xb99a2a,_0x1e18b2=_0x3f08b8(0x86f)+encodeURIComponent(_0xa75e34),_0xe88a90=document[_0x3f08b8(0xc3c)]('a');document[_0x3f08b8(0xcaa)][_0x3f08b8(0x963)](_0xe88a90),_0xe88a90[_0x3f08b8(0x426)]=_0x1e18b2,_0xe88a90[_0x3f08b8(0x6a5)]=getResultsFilename()+'.doc',_0xe88a90[_0x3f08b8(0xc23)](),document[_0x3f08b8(0xcaa)][_0x3f08b8(0xc20)](_0xe88a90);}function exportResultsAsExcel(){const _0x422603=_0x1dab5f,_0x20a0fe=document['getElementById'](_0x422603(0x99a));let _0x174924=[];for(let _0x52a687=0x0;_0x52a687<_0x20a0fe[_0x422603(0x5c7)][_0x422603(0x283)];_0x52a687++){let _0x1f686e=[],_0x474489=_0x20a0fe['rows'][_0x52a687]['querySelectorAll'](_0x422603(0x1d9));for(let _0x5abe25=0x0;_0x5abe25<_0x474489[_0x422603(0x283)];_0x5abe25++){_0x1f686e[_0x422603(0x20e)]('\x22'+_0x474489[_0x5abe25]['innerText'][_0x422603(0x38c)](/"/g,'\x22\x22')+'\x22');}_0x174924['push'](_0x1f686e[_0x422603(0xe10)](','));}const _0x45f67f=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x174924[_0x422603(0xe10)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x28a591=document[_0x422603(0xc3c)]('a');_0x28a591['href']=URL[_0x422603(0x2e1)](_0x45f67f),_0x28a591[_0x422603(0x6a5)]=getResultsFilename()+_0x422603(0x6cd),_0x28a591[_0x422603(0xc23)]();}function exportTableAsImage(_0x3fb0ce,_0x157c8d){const _0x45a882=_0x1dab5f,_0x509e7a=document[_0x45a882(0x242)](_0x3fb0ce),_0x387003=document[_0x45a882(0x242)](_0x45a882(0x57a));if(!_0x509e7a){showMessage(_0x45a882(0x6e0));return;}showMessage('กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...');const _0x8056c4=document['createElement']('div');_0x8056c4[_0x45a882(0x271)]['backgroundColor']=_0x45a882(0x20d),_0x8056c4[_0x45a882(0x271)][_0x45a882(0x8b8)]=_0x45a882(0x1e3),_0x8056c4[_0x45a882(0x271)][_0x45a882(0xa5b)]=_0x45a882(0xbcc),_0x8056c4['style'][_0x45a882(0xa99)]=_0x45a882(0x9ad),_0x8056c4[_0x45a882(0x271)][_0x45a882(0xdfa)]='-9999px',_0x8056c4[_0x45a882(0x271)][_0x45a882(0x14b)]='0',_0x8056c4[_0x45a882(0x271)][_0x45a882(0xc6d)]='-1';const _0x2f8337=document[_0x45a882(0xc3c)]('h1');_0x2f8337[_0x45a882(0x9f5)]=_0x387003?_0x387003[_0x45a882(0x9f5)]:_0x45a882(0xd59),_0x2f8337['style'][_0x45a882(0x111)]=_0x45a882(0x69b),_0x2f8337[_0x45a882(0x271)][_0x45a882(0x650)]='\x27Sarabun\x27,\x20sans-serif',_0x2f8337[_0x45a882(0x271)][_0x45a882(0x113)]=_0x45a882(0x165),_0x2f8337[_0x45a882(0x271)][_0x45a882(0xa0c)]=_0x45a882(0xd0f),_0x2f8337['style']['color']=_0x45a882(0x7aa),_0x2f8337['style']['marginBottom']=_0x45a882(0x87a);const _0x3a7175=_0x509e7a['cloneNode'](!![]);_0x3a7175[_0x45a882(0x271)][_0x45a882(0x1a0)]=_0x45a882(0x7d3),_0x3a7175['style']['overflow']=_0x45a882(0x365);const _0x1e0d0b=_0x3a7175[_0x45a882(0x99b)]('th');let _0x1892ef=-0x1;_0x1e0d0b[_0x45a882(0xbdf)]((_0x203927,_0x50e7be)=>{const _0x4b8a59=_0x45a882;_0x203927[_0x4b8a59(0xafa)][_0x4b8a59(0xb6d)]()==='ผล'&&(_0x203927[_0x4b8a59(0x271)]['display']='none',_0x1892ef=_0x50e7be);});if(_0x1892ef!==-0x1){const _0xf88109=_0x3a7175[_0x45a882(0x99b)]('tr');_0xf88109['forEach'](_0x284478=>{const _0x5b1ebf=_0x45a882,_0x37d8e3=_0x284478[_0x5b1ebf(0x99b)]('td');_0x37d8e3[_0x5b1ebf(0x283)]>_0x1892ef&&(_0x37d8e3[_0x1892ef][_0x5b1ebf(0x271)][_0x5b1ebf(0x90e)]=_0x5b1ebf(0x7d3));});}_0x8056c4[_0x45a882(0x963)](_0x2f8337),_0x8056c4[_0x45a882(0x963)](_0x3a7175),document['body'][_0x45a882(0x963)](_0x8056c4),html2canvas(_0x8056c4,{'scale':0x2,'useCORS':!![],'backgroundColor':'#ffffff'})[_0x45a882(0x5ee)](_0x2b07d5=>{const _0x22eef1=_0x45a882,_0x3c1f66=document[_0x22eef1(0xc3c)]('a');_0x3c1f66['download']=_0x157c8d+_0x22eef1(0x6fc),_0x3c1f66[_0x22eef1(0x426)]=_0x2b07d5[_0x22eef1(0xb27)](_0x22eef1(0x35c)),_0x3c1f66[_0x22eef1(0xc23)](),document[_0x22eef1(0xcaa)][_0x22eef1(0xc20)](_0x8056c4),messageModal[_0x22eef1(0xe19)][_0x22eef1(0x27c)](_0x22eef1(0x414));})[_0x45a882(0xd68)](_0x452701=>{const _0x52b197=_0x45a882;console['error'](_0x52b197(0x4cf),_0x452701),document[_0x52b197(0xcaa)][_0x52b197(0xc20)](_0x8056c4),showMessage('เกิดข้อผิดพลาดในการสร้างรูปภาพ');});}function exportTableAsPDF(_0x36e87e,_0x149271){const _0x56e162=_0x1dab5f,{jsPDF:_0x3b5424}=window[_0x56e162(0x3a4)],_0xcffeb5=new _0x3b5424();_0xcffeb5['setFont'](_0x56e162(0xc2f),_0x56e162(0xb10)),_0xcffeb5[_0x56e162(0x7bd)]({'html':'#'+_0x36e87e}),_0xcffeb5[_0x56e162(0x710)](_0x149271+'.pdf');}function exportTableAsWord(_0xeabd0,_0x1be94e){const _0xbc90cc=_0x1dab5f,_0x24489b=document[_0xbc90cc(0x242)](_0xeabd0);if(!_0x24489b){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x217f25=_0xbc90cc(0xc32)+_0xbc90cc(0xd21)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0xbc90cc(0x4f1),_0x40040f=_0xbc90cc(0x75e),_0x427070=_0x217f25+_0x24489b[_0xbc90cc(0x90d)]+_0x40040f,_0x1294f9='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x427070),_0x4caccd=document['createElement']('a');document[_0xbc90cc(0xcaa)][_0xbc90cc(0x963)](_0x4caccd),_0x4caccd[_0xbc90cc(0x426)]=_0x1294f9,_0x4caccd['download']=_0x1be94e+_0xbc90cc(0xdab),_0x4caccd[_0xbc90cc(0xc23)](),document[_0xbc90cc(0xcaa)][_0xbc90cc(0xc20)](_0x4caccd);}function exportTableAsExcel(_0x432467,_0x36f933){const _0x5a9b2f=_0x1dab5f,_0x31255e=document['getElementById'](_0x432467);if(!_0x31255e){showMessage(_0x5a9b2f(0x6e0));return;}let _0x5bfd48=[];for(let _0x494fa6=0x0;_0x494fa6<_0x31255e['rows']['length'];_0x494fa6++){let _0x131f22=[],_0x356276=_0x31255e['rows'][_0x494fa6][_0x5a9b2f(0x99b)](_0x5a9b2f(0x1d9));for(let _0x362732=0x0;_0x362732<_0x356276[_0x5a9b2f(0x283)];_0x362732++){_0x131f22[_0x5a9b2f(0x20e)]('\x22'+_0x356276[_0x362732][_0x5a9b2f(0x9f5)][_0x5a9b2f(0x38c)](/"/g,'\x22\x22')+'\x22');}_0x5bfd48['push'](_0x131f22['join'](','));}const _0x5f3ad0=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5bfd48[_0x5a9b2f(0xe10)]('\x0a')],{'type':_0x5a9b2f(0xb7d)}),_0x495b69=document[_0x5a9b2f(0xc3c)]('a');_0x495b69[_0x5a9b2f(0x426)]=URL['createObjectURL'](_0x5f3ad0),_0x495b69['download']=_0x36f933+_0x5a9b2f(0x6cd),_0x495b69[_0x5a9b2f(0xc23)]();}function renderAnalytics(_0x5635b3,_0x16a8c7){const _0x5f2a6f=_0x1dab5f,_0x454d07=_0x16a8c7[_0x5f2a6f(0x3be)](_0x3bf036=>_0x3bf036[_0x5f2a6f(0x35a)]!==undefined),_0x112f82=currentProjectData['students'][_0x5f2a6f(0x283)],_0x13593d=_0x454d07[_0x5f2a6f(0x283)],_0xd873bf=_0x112f82-_0x13593d,_0x11099d=_0x112f82>0x0?_0x13593d/_0x112f82*0x64:0x0,_0x2d8276=_0x454d07[_0x5f2a6f(0xdc6)](_0x2fba8a=>_0x2fba8a[_0x5f2a6f(0x35a)]),_0x56ff44=_0x2d8276[_0x5f2a6f(0x283)]>0x0?_0x2d8276[_0x5f2a6f(0xbab)]((_0x759ee3,_0x3f16b7)=>_0x759ee3+_0x3f16b7,0x0)/_0x2d8276[_0x5f2a6f(0x283)]:0x0,_0x20ee0d=_0x5635b3['questions'][_0x5f2a6f(0x283)],_0x42472e=_0x20ee0d>0x0?_0x56ff44/_0x20ee0d*0x64:0x0,_0x52d79c=calculateItemAnalysis(_0x5635b3,_0x454d07),_0x56f529=calculateReliabilityKR20(_0x5635b3,_0x454d07,_0x52d79c[_0x5f2a6f(0x880)]);let _0x473059='';if(_0x56f529!==null){let _0x2e2c19='';if(_0x56f529>=0.9)_0x2e2c19='ยอดเยี่ยม';else{if(_0x56f529>=0.8)_0x2e2c19=_0x5f2a6f(0x236);else{if(_0x56f529>=0.7)_0x2e2c19='ดี';else{if(_0x56f529>=0.6)_0x2e2c19=_0x5f2a6f(0x82f);else _0x2e2c19=_0x5f2a6f(0x576);}}}_0x473059=_0x5f2a6f(0x74b)+_0x56f529[_0x5f2a6f(0x536)](0x2)+_0x5f2a6f(0x42c)+_0x2e2c19+_0x5f2a6f(0x239);}const _0x27e0aa=document[_0x5f2a6f(0x242)](_0x5f2a6f(0x4d4));_0x27e0aa['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x11099d[_0x5f2a6f(0x536)](0x0)+_0x5f2a6f(0xd7b)+_0x13593d+'/'+_0x112f82+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x56ff44['toFixed'](0x2)+_0x5f2a6f(0x88f)+_0x42472e['toFixed'](0x0)+_0x5f2a6f(0x331)+(_0x2d8276[_0x5f2a6f(0x283)]>0x0?Math[_0x5f2a6f(0xcd3)](..._0x2d8276):_0x5f2a6f(0x36d))+_0x5f2a6f(0x4b8)+(_0x2d8276[_0x5f2a6f(0x283)]>0x0?Math[_0x5f2a6f(0xcc7)](..._0x2d8276):_0x5f2a6f(0x36d))+_0x5f2a6f(0x72d)+_0x473059+_0x5f2a6f(0x43b);const _0x30ee9f=document[_0x5f2a6f(0x242)](_0x5f2a6f(0xc78));_0x30ee9f&&_0x30ee9f[_0x5f2a6f(0x677)]();const _0x59d4ca='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x27e0aa[_0x5f2a6f(0x2c6)](_0x5f2a6f(0xbf2),_0x59d4ca);const _0xa1943f=currentProjectData[_0x5f2a6f(0x7f8)]||[];renderSubmissionChart(_0x13593d,_0xd873bf,_0x454d07,_0xa1943f),renderScoreDistributionChart(_0x454d07,_0x20ee0d),renderQuestionAnalytics(_0x5635b3,_0x454d07,_0xa1943f),renderInterestingStats(_0x5635b3,_0x454d07);}async function handleExportLessonPDF(){const _0x18d9e0=_0x1dab5f,_0x482b21=document[_0x18d9e0(0x242)]('lesson-plan-content'),_0x50272d=document[_0x18d9e0(0x242)](_0x18d9e0(0x50d))[_0x18d9e0(0xafa)],_0x4b51d7=window[_0x18d9e0(0x2ef)]('',_0x18d9e0(0xaf2)),_0x2d1d77='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x50272d+_0x18d9e0(0xb06)+_0x482b21[_0x18d9e0(0x90d)]+_0x18d9e0(0x9ec);_0x4b51d7[_0x18d9e0(0x77a)][_0x18d9e0(0x736)](_0x2d1d77),_0x4b51d7['document']['close'](),_0x4b51d7[_0x18d9e0(0x356)]=function(){setTimeout(()=>{_0x4b51d7['print']();},0x5dc);};}function renderInterestingStats(_0x49e4ab,_0x40de5d){const _0x1d653c=_0x1dab5f,_0x36b18b=document['getElementById'](_0x1d653c(0x6f0));if(!_0x36b18b)return;if(_0x40de5d[_0x1d653c(0x283)]===0x0){_0x36b18b[_0x1d653c(0x90d)]=_0x1d653c(0x2ee);return;}const _0x24edf1=_0x49e4ab['questions'][_0x1d653c(0xdc6)]((_0x1649fe,_0x576020)=>({'index':_0x576020+0x1,'text':_0x1649fe[_0x1d653c(0x8c4)]||_0x1649fe[_0x1d653c(0xd64)],'correct':0x0}));_0x40de5d[_0x1d653c(0xbdf)](_0xe76a44=>{const _0xdbdc0e=_0x1d653c,_0x418f5d=_0xe76a44[_0xdbdc0e(0xac3)][_0xe76a44['attempts'][_0xdbdc0e(0x283)]-0x1];_0x418f5d&&_0x418f5d[_0xdbdc0e(0x922)]&&_0x418f5d[_0xdbdc0e(0x922)]['forEach'](_0x51a413=>{const _0x3a5abb=_0xdbdc0e,_0x1188d4=_0x24edf1[_0x3a5abb(0x794)](_0x130d56=>_0x130d56['text']===_0x51a413[_0x3a5abb(0x947)]);_0x51a413[_0x3a5abb(0x56f)]&&_0x1188d4&&_0x1188d4[_0x3a5abb(0x2a3)]++;});});const _0x3c29dd=_0x40de5d['length'],_0x1723d1=Math[_0x1d653c(0xcd3)](..._0x24edf1[_0x1d653c(0xdc6)](_0x50c6c8=>_0x50c6c8[_0x1d653c(0x2a3)])),_0x1e4406=Math[_0x1d653c(0xcc7)](..._0x24edf1['map'](_0x51f469=>_0x51f469[_0x1d653c(0x2a3)])),_0x45dd14=_0x24edf1[_0x1d653c(0x3be)](_0x851831=>_0x851831['correct']===_0x1723d1)['map'](_0x57660a=>_0x1d653c(0xbed)+_0x57660a[_0x1d653c(0x6a8)]),_0x5c7c4a=_0x24edf1['filter'](_0xf83474=>_0xf83474[_0x1d653c(0x2a3)]===_0x1e4406)['map'](_0x334cf5=>_0x1d653c(0xbed)+_0x334cf5['index']),_0x2842eb=_0x40de5d[_0x1d653c(0xa23)]((_0x4a020a,_0x15a75b)=>_0x15a75b[_0x1d653c(0x35a)]-_0x4a020a['latestScore'])[_0x1d653c(0x3be)]((_0x42f349,_0x55d154,_0x29f743)=>_0x42f349[_0x1d653c(0x35a)]===_0x29f743[0x0][_0x1d653c(0x35a)]),_0xe93d27=_0x40de5d[_0x1d653c(0xa23)]((_0x1e63a7,_0xc83378)=>_0x1e63a7[_0x1d653c(0x35a)]-_0xc83378[_0x1d653c(0x35a)])[_0x1d653c(0x3be)]((_0x43173e,_0x3982fe,_0x247943)=>_0x43173e[_0x1d653c(0x35a)]===_0x247943[0x0]['latestScore']),_0x1d0314=_0x1d653c(0x9a7)+_0x45dd14[_0x1d653c(0xe10)](',\x20')+_0x1d653c(0xa8f)+_0x1723d1+_0x1d653c(0x25f)+_0x3c29dd+_0x1d653c(0xa9a)+_0x5c7c4a[_0x1d653c(0xe10)](',\x20')+_0x1d653c(0xa8f)+(_0x3c29dd-_0x1e4406)+'\x20/\x20'+_0x3c29dd+_0x1d653c(0x8c3)+_0x2842eb[_0x1d653c(0xdc6)](_0x17ad75=>_0x17ad75[_0x1d653c(0xcf3)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x2842eb[0x0][_0x1d653c(0x35a)]+_0x1d653c(0xad8)+_0xe93d27[_0x1d653c(0xdc6)](_0x2d34f8=>_0x2d34f8['studentName'])['join'](',\x20')+_0x1d653c(0x5aa)+_0xe93d27[0x0][_0x1d653c(0x35a)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x36b18b[_0x1d653c(0x90d)]=_0x1d0314;}function renderSubmissionChart(_0x5b489b,_0x488902,_0x4ac877,_0x44884d){const _0x2ee0da=_0x1dab5f,_0xd5f2eb=document[_0x2ee0da(0x242)](_0x2ee0da(0x553))[_0x2ee0da(0x8ee)]('2d'),_0x1da085=_0x4ac877[_0x2ee0da(0xdc6)](_0xaf4707=>_0xaf4707['studentName']),_0x26f0fb=_0x44884d['filter'](_0xaaafbc=>!_0x1da085['includes'](_0xaaafbc));chartInstances[_0x2ee0da(0x5ba)]&&chartInstances['submission'][_0x2ee0da(0x1e1)](),chartInstances[_0x2ee0da(0x5ba)]=new Chart(_0xd5f2eb,{'type':'doughnut','data':{'labels':[_0x2ee0da(0x622),_0x2ee0da(0x427)],'datasets':[{'data':[_0x5b489b,_0x488902],'backgroundColor':[_0x2ee0da(0x909),_0x2ee0da(0x1fc)],'borderColor':[_0x2ee0da(0x20d),_0x2ee0da(0x20d)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x2ee0da(0x294)},'tooltip':{'callbacks':{'label':function(_0x5e2b58){const _0x464a06=_0x2ee0da;let _0x2e1731=_0x5e2b58[_0x464a06(0xd25)]||'';return _0x2e1731&&(_0x2e1731+=':\x20'),_0x2e1731+=_0x5e2b58[_0x464a06(0x11c)],_0x2e1731;},'afterLabel':function(_0x315186){const _0xf3e279=_0x2ee0da;let _0x5a77ed;return _0x315186[_0xf3e279(0xd38)]===0x0?_0x5a77ed=_0x1da085:_0x5a77ed=_0x26f0fb,_0x5a77ed[_0xf3e279(0x283)]>0x0?_0x5a77ed[_0xf3e279(0xe10)]('\x0a'):_0xf3e279(0x147);}}}}}});}function renderScoreDistributionChart(_0x470634,_0x48080d){const _0xb3badb=_0x1dab5f,_0xa22b73=document['getElementById'](_0xb3badb(0x586))[_0xb3badb(0x8ee)]('2d'),_0x277ded={};for(let _0x1e8aed=0x0;_0x1e8aed<=_0x48080d;_0x1e8aed++){_0x277ded[_0x1e8aed]=0x0;}_0x470634['forEach'](_0xee9e=>{const _0x3cc100=_0xb3badb;_0x277ded[_0xee9e['latestScore']]!==undefined&&_0x277ded[_0xee9e[_0x3cc100(0x35a)]]++;}),chartInstances['score']&&chartInstances[_0xb3badb(0x3bb)][_0xb3badb(0x1e1)](),chartInstances[_0xb3badb(0x3bb)]=new Chart(_0xa22b73,{'type':_0xb3badb(0xbfc),'data':{'labels':Object[_0xb3badb(0xd39)](_0x277ded),'datasets':[{'label':_0xb3badb(0x3a2),'data':Object[_0xb3badb(0xb31)](_0x277ded),'backgroundColor':_0xb3badb(0x881),'borderColor':_0xb3badb(0x551),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0xb3badb(0xb23)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x2ba019){const _0x375690=_0xb3badb,_0x35eaba=_0x2ba019[_0x375690(0xd25)],_0x4ac245=_0x470634['filter'](_0x3ea72e=>_0x3ea72e[_0x375690(0x35a)]==_0x35eaba)[_0x375690(0xdc6)](_0x330459=>_0x330459[_0x375690(0xcf3)]);return _0x4ac245['length']>0x0?_0x4ac245['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x201690,_0x3053e4,_0x4cd5bc){const _0x1a508e=_0x1dab5f,_0x46c798=document['getElementById'](_0x1a508e(0x8b7));if(_0x4cd5bc['length']===0x0){_0x46c798[_0x1a508e(0x90d)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x100234=calculateItemAnalysis(_0x201690,_0x3053e4),_0x17bfe6=calculateDistractorAnalysis(_0x201690,_0x3053e4);let _0x4a4b9d='';_0x100234[_0x1a508e(0x88c)]&&(_0x4a4b9d=_0x1a508e(0x4a0)+_0x100234[_0x1a508e(0x88c)][_0x1a508e(0x201)][_0x1a508e(0x283)]+_0x1a508e(0x3d5)+_0x100234[_0x1a508e(0x88c)][_0x1a508e(0x201)]['map'](_0x1faa12=>_0x1a508e(0x14f)+_0x1faa12+_0x1a508e(0x489))['join']('')+_0x1a508e(0x47f)+_0x100234[_0x1a508e(0x88c)]['lowerGroupNames'][_0x1a508e(0x283)]+_0x1a508e(0x3d5)+_0x100234[_0x1a508e(0x88c)][_0x1a508e(0xc0e)]['map'](_0x4a59c0=>'<li>'+_0x4a59c0+_0x1a508e(0x489))['join']('')+_0x1a508e(0x71a));let _0x3b0ec1='';const _0x490862=_0x3053e4[_0x1a508e(0xdc6)](_0x3033c2=>_0x3033c2['studentName']),_0xc51fdd=_0x305505=>{const _0x382d58=_0x1a508e;if(_0x305505>=0.8)return _0x382d58(0x9b7);if(_0x305505>=0.6)return _0x382d58(0xddf);if(_0x305505>=0.4)return _0x382d58(0x8d9);if(_0x305505>=0.2)return _0x382d58(0xd7f);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x9bfb43=_0x15d78c=>{const _0x17ae22=_0x1a508e;if(_0x15d78c<0x0)return _0x17ae22(0x7b7);if(_0x15d78c>=0.4)return _0x17ae22(0xcba);if(_0x15d78c>=0.3)return _0x17ae22(0x898);if(_0x15d78c>=0.2)return _0x17ae22(0x54c);return _0x17ae22(0xc17);},_0x50dae0=_0xb00aa6=>{const _0x437eb8=_0x1a508e,_0x4bd08a=_0xb00aa6[_0x437eb8(0x536)](0x0);if(parseFloat(_0x4bd08a)===0x64)return _0x437eb8(0x29e)+_0x4bd08a+_0x437eb8(0xade);if(_0xb00aa6>=0x32)return _0x437eb8(0xb3e)+_0x4bd08a+_0x437eb8(0xade);return _0x437eb8(0xd00)+_0x4bd08a+_0x437eb8(0xade);};_0x201690[_0x1a508e(0x3ef)][_0x1a508e(0xbdf)]((_0x433c06,_0x1dc583)=>{const _0x1ddbf7=_0x1a508e,_0x5c1728=_0x100234['perQuestionStats'][_0x1dc583],_0x13a001=_0x17bfe6[_0x1dc583],_0x18fe10=_0x433c06[_0x1ddbf7(0xd64)]||_0x433c06[_0x1ddbf7(0x8c4)]||_0x433c06[_0x1ddbf7(0x4fa)];let _0x5ce303=0x0;const _0x261fb6=[],_0x582699=[];_0x3053e4[_0x1ddbf7(0xbdf)](_0x469195=>{const _0x3199f7=_0x1ddbf7,_0x480856=_0x469195[_0x3199f7(0xac3)][_0x469195[_0x3199f7(0xac3)][_0x3199f7(0x283)]-0x1];if(_0x480856&&_0x480856[_0x3199f7(0x922)]){const _0x4f6f6=_0x480856[_0x3199f7(0x922)]['find'](_0x14e515=>_0x14e515[_0x3199f7(0x947)]===_0x18fe10)??_0x480856[_0x3199f7(0x922)][_0x1dc583]??null;_0x4f6f6&&(_0x4f6f6[_0x3199f7(0x56f)]?(_0x5ce303++,_0x261fb6[_0x3199f7(0x20e)](_0x469195[_0x3199f7(0xcf3)])):_0x582699['push'](_0x469195[_0x3199f7(0xcf3)]));}});const _0x21faab=_0x3053e4[_0x1ddbf7(0x283)]>0x0?_0x5ce303/_0x3053e4['length']*0x64:0x0,_0x139629=_0x4cd5bc[_0x1ddbf7(0x3be)](_0x4d5917=>!_0x490862[_0x1ddbf7(0x87f)](_0x4d5917)),_0x149615=_0x5c1728?_0x1ddbf7(0x2e4)+_0x5c1728['p'][_0x1ddbf7(0x536)](0x2)+_0x1ddbf7(0xc0a)+_0xc51fdd(_0x5c1728['p'])+_0x1ddbf7(0xc16)+_0x5c1728['r']['toFixed'](0x2)+'</p><div>'+_0x9bfb43(_0x5c1728['r'])+_0x1ddbf7(0x2e2)+_0x50dae0(_0x21faab)+_0x1ddbf7(0xc05):'';let _0x420c87='';_0x13a001&&(_0x420c87='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x1ddbf7(0xd39)](_0x13a001)[_0x1ddbf7(0xdc6)](_0x5afe01=>{const _0x602f7b=_0x1ddbf7,_0xf5c660=_0x13a001[_0x5afe01],_0x343404=parseInt(_0x5afe01)===_0x433c06[_0x602f7b(0xd79)],_0x283072=!_0x343404&&_0xf5c660[_0x602f7b(0xc90)]>_0xf5c660[_0x602f7b(0x513)];return'<tr\x20class=\x22'+(_0x343404?_0x602f7b(0x97c):'')+_0x602f7b(0x6a9)+(_0x343404?'✔\x20':'')+_0xf5c660[_0x602f7b(0xad0)]+_0x602f7b(0x1b8)+_0xf5c660['upper_group_count']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0xf5c660[_0x602f7b(0xc90)]+'\x20'+(_0x283072?'👍':'')+_0x602f7b(0x1b8)+_0xf5c660['total']+'</td></tr>';})[_0x1ddbf7(0xe10)]('')+_0x1ddbf7(0x6d5));let _0x461613='';_0x5c1728&&_0x5c1728['upperGroupResponders']&&(_0x461613=_0x1ddbf7(0x583)+_0x5c1728[_0x1ddbf7(0x737)][_0x1ddbf7(0x283)]+_0x1ddbf7(0x5c4)+_0x5c1728['upperGroupResponders'][_0x1ddbf7(0xdc6)](_0x46832a=>_0x1ddbf7(0x14f)+(_0x46832a[_0x1ddbf7(0x56f)]?_0x1ddbf7(0x341):_0x1ddbf7(0x83e))+'\x20'+_0x46832a[_0x1ddbf7(0x4cc)]+_0x1ddbf7(0x489))[_0x1ddbf7(0xe10)]('')+_0x1ddbf7(0x928)+_0x5c1728[_0x1ddbf7(0xc44)][_0x1ddbf7(0x283)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x5c1728[_0x1ddbf7(0xc44)][_0x1ddbf7(0xdc6)](_0x229d08=>_0x1ddbf7(0x14f)+(_0x229d08[_0x1ddbf7(0x56f)]?_0x1ddbf7(0x341):_0x1ddbf7(0x83e))+'\x20'+_0x229d08[_0x1ddbf7(0x4cc)]+_0x1ddbf7(0x489))['join']('')+_0x1ddbf7(0x8c6)),_0x3b0ec1+=_0x1ddbf7(0x68a)+(_0x1dc583+0x1)+':\x20'+_0x18fe10+_0x1ddbf7(0x987)+_0x149615+_0x1ddbf7(0xca1)+_0x18fe10+_0x1ddbf7(0x19b)+_0x5ce303+_0x1ddbf7(0xb69)+_0x3053e4[_0x1ddbf7(0x283)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x21faab['toFixed'](0x0)+_0x1ddbf7(0xb25)+_0x261fb6[_0x1ddbf7(0x283)]+_0x1ddbf7(0xb7c)+(_0x261fb6[_0x1ddbf7(0x283)]>0x0?_0x261fb6[_0x1ddbf7(0xe10)](',\x20'):_0x1ddbf7(0x147))+_0x1ddbf7(0x6d1)+_0x582699[_0x1ddbf7(0x283)]+_0x1ddbf7(0xb7c)+(_0x582699[_0x1ddbf7(0x283)]>0x0?_0x582699['join'](',\x20'):_0x1ddbf7(0x147))+_0x1ddbf7(0xd42)+_0x139629['length']+_0x1ddbf7(0xb7c)+(_0x139629[_0x1ddbf7(0x283)]>0x0?_0x139629['join'](',\x20'):_0x1ddbf7(0x147))+_0x1ddbf7(0x640)+_0x420c87+_0x1ddbf7(0x4d7)+_0x461613+_0x1ddbf7(0x17d);}),_0x46c798[_0x1a508e(0x90d)]=_0x4a4b9d+_0x3b0ec1;try{window[_0x1a508e(0x972)]&&MathJax[_0x1a508e(0xde3)]&&MathJax['typesetPromise']([_0x46c798]);}catch(_0x276c6d){console['error'](_0x1a508e(0xce0),_0x276c6d);}}function calculateDistractorAnalysis(_0x12fb47,_0x264eab){const _0x2d9b8e=_0x1dab5f,_0x1cde05={};if(_0x264eab[_0x2d9b8e(0x283)]<0x2)return _0x1cde05;const _0x3ec31e=[..._0x264eab][_0x2d9b8e(0xa23)]((_0xfdf1e7,_0x47fa6e)=>{const _0x2ed52d=_0x2d9b8e,_0x397afe=_0x47fa6e[_0x2ed52d(0x35a)]-_0xfdf1e7['latestScore'];if(_0x397afe!==0x0)return _0x397afe;const _0x5a6f14=_0xfdf1e7[_0x2ed52d(0xac3)]?.[_0x2ed52d(0x283)]||0x1,_0x138cdf=_0x47fa6e[_0x2ed52d(0xac3)]?.[_0x2ed52d(0x283)]||0x1,_0x48c30c=_0x5a6f14-_0x138cdf;if(_0x48c30c!==0x0)return _0x48c30c;const _0x4a1ac4=new Date(_0xfdf1e7['latestSubmittedAt']),_0x481d59=new Date(_0x47fa6e[_0x2ed52d(0x96c)]),_0x407b8a=_0x4a1ac4-_0x481d59;if(_0x407b8a!==0x0)return _0x407b8a;return _0xfdf1e7[_0x2ed52d(0xcf3)][_0x2ed52d(0x46f)](_0x47fa6e['studentName'],'th');}),_0x2fe74e=_0x3ec31e[_0x2d9b8e(0x283)],_0x13d59a=Math[_0x2d9b8e(0xcd3)](0x1,Math[_0x2d9b8e(0x95d)](_0x2fe74e*0.33)),_0x5e4c2f=_0x3ec31e[_0x2d9b8e(0x801)](0x0,_0x13d59a),_0x377200=_0x3ec31e['slice'](-_0x13d59a);return _0x12fb47[_0x2d9b8e(0x3ef)][_0x2d9b8e(0xbdf)]((_0x5872a3,_0x43f093)=>{const _0xaec87a=_0x2d9b8e;if(_0x5872a3[_0xaec87a(0x5c5)]!==_0xaec87a(0x423)||!_0x5872a3[_0xaec87a(0x381)])return;const _0x513593=_0x5872a3[_0xaec87a(0x8c4)],_0x11c9a2={};_0x5872a3[_0xaec87a(0x381)][_0xaec87a(0xbdf)]((_0x255aea,_0x59bf8e)=>{_0x11c9a2[_0x59bf8e]={'text':_0x255aea,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3ec31e[_0xaec87a(0xbdf)](_0x2d8af8=>{const _0x13238d=_0xaec87a,_0x370cbe=_0x2d8af8['attempts'][_0x2d8af8[_0x13238d(0xac3)][_0x13238d(0x283)]-0x1],_0x4eb544=_0x370cbe['answers'][_0x13238d(0x794)](_0x467d61=>_0x467d61['originalQuestionText']===_0x513593);if(_0x4eb544&&_0x4eb544[_0x13238d(0x5d6)]!==null){const _0x52ed20=_0x5872a3[_0x13238d(0x381)][_0x13238d(0xd5f)](_0x4a6cf8=>_0x4a6cf8===_0x4eb544[_0x13238d(0x25d)]);_0x52ed20!==-0x1&&_0x11c9a2[_0x52ed20]&&(_0x11c9a2[_0x52ed20]['total']++,_0x5e4c2f['includes'](_0x2d8af8)&&_0x11c9a2[_0x52ed20][_0x13238d(0x513)]++,_0x377200['includes'](_0x2d8af8)&&_0x11c9a2[_0x52ed20][_0x13238d(0xc90)]++);}}),_0x1cde05[_0x43f093]=_0x11c9a2;}),_0x1cde05;}function calculateReliabilityKR20(_0x37a763,_0x5e2144,_0xdef5f9){const _0x4ea22f=_0x1dab5f,_0x2a55f3=_0x37a763[_0x4ea22f(0x3ef)][_0x4ea22f(0x283)];if(_0x2a55f3<0x2||_0x5e2144[_0x4ea22f(0x283)]<0x2)return null;const _0x18afca=_0x5e2144['map'](_0xb2f1f6=>_0xb2f1f6['latestScore']),_0x1f922c=_0x18afca[_0x4ea22f(0xbab)]((_0x19e512,_0x55f584)=>_0x19e512+_0x55f584,0x0)/_0x18afca[_0x4ea22f(0x283)],_0x2c2dc8=_0x18afca['map'](_0x5699ad=>Math[_0x4ea22f(0xced)](_0x5699ad-_0x1f922c,0x2))['reduce']((_0x159189,_0xddaedb)=>_0x159189+_0xddaedb,0x0)/_0x18afca[_0x4ea22f(0x283)];if(_0x2c2dc8===0x0)return null;let _0x38e27c=0x0;for(let _0x3f179e=0x0;_0x3f179e<_0x2a55f3;_0x3f179e++){const _0x175040=_0xdef5f9[_0x3f179e]?.['p'];if(_0x175040===undefined)continue;const _0x4bc1a8=0x1-_0x175040;_0x38e27c+=_0x175040*_0x4bc1a8;}if(_0x38e27c===0x0)return null;const _0x1a92b2=_0x2a55f3/(_0x2a55f3-0x1)*(0x1-_0x38e27c/_0x2c2dc8);if(_0x1a92b2>0x1)return null;return _0x1a92b2;}async function handleAnalyzeClass(){const _0x2733ad=_0x1dab5f;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x2733ad(0xd7d));return;}const _0x20915c=collection(db,_0x2733ad(0xb99)+appId+_0x2733ad(0x5a0)+currentQuizData['id']+_0x2733ad(0x282)),_0x1c202a=await getDocs(_0x20915c),_0x240712=_0x1c202a[_0x2733ad(0x5ab)][_0x2733ad(0xdc6)](_0x4ee226=>_0x4ee226[_0x2733ad(0x1f1)]());if(_0x240712[_0x2733ad(0x283)]<0x2){showMessage(_0x2733ad(0xadd));return;}const _0x596305=document['getElementById'](_0x2733ad(0x981));_0x596305[_0x2733ad(0x90d)]=_0x2733ad(0xa54),document[_0x2733ad(0x242)](_0x2733ad(0x402))[_0x2733ad(0xd66)]=!![];const _0x4f9d30=_0x240712[_0x2733ad(0xdc6)]((_0x57acc0,_0x4c2e0f)=>{const _0x347464=_0x2733ad,_0x4b5a49=_0x57acc0[_0x347464(0xac3)][_0x57acc0['attempts'][_0x347464(0x283)]-0x1];if(!_0x4b5a49)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x4c2e0f+0x1)+'\x20('+_0x57acc0['studentName']+_0x347464(0x5e2)+_0x4b5a49[_0x347464(0x3bb)]+'/'+_0x57acc0['totalQuestions']+_0x347464(0x75c)+JSON[_0x347464(0x3a5)](_0x4b5a49['answers'])+_0x347464(0x9f7);})[_0x2733ad(0xe10)]('\x0a---\x0a'),_0x32576b=_0x2733ad(0xbe6)+currentQuizData[_0x2733ad(0xe0e)]+_0x2733ad(0xd99)+JSON[_0x2733ad(0x3a5)](currentQuizData[_0x2733ad(0x3ef)])+_0x2733ad(0x336)+_0x4f9d30+_0x2733ad(0x568),_0x1c2af0={'type':_0x2733ad(0x674),'properties':{'classStrengths':{'type':_0x2733ad(0xa3a),'items':{'type':_0x2733ad(0xb13)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x2733ad(0xb13)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x2733ad(0xb13)}}},'required':['classStrengths',_0x2733ad(0x557),_0x2733ad(0xbe9)]};try{const _0xb1526f=await callAnalysisApi(_0x32576b,_0x1c2af0);displayClassAnalysis(_0xb1526f);}catch(_0x5d5acc){console['error']('Error\x20during\x20class\x20analysis:',_0x5d5acc),_0x596305['innerHTML']=_0x2733ad(0x305)+_0x5d5acc[_0x2733ad(0xa9f)]+_0x2733ad(0x531);}finally{document['getElementById'](_0x2733ad(0x402))[_0x2733ad(0xd66)]=![];}}function displayClassAnalysis(_0x56497e){const _0x4dffdf=_0x1dab5f,_0x465ce3=document[_0x4dffdf(0x242)](_0x4dffdf(0x981));if(!_0x56497e){_0x465ce3[_0x4dffdf(0x90d)]=_0x4dffdf(0x841);return;}_0x465ce3[_0x4dffdf(0x90d)]=_0x4dffdf(0xcc9)+_0x56497e[_0x4dffdf(0x2f3)][_0x4dffdf(0xdc6)](_0x2b59b5=>'<li>'+_0x2b59b5+'</li>')['join']('')+_0x4dffdf(0xbd7)+_0x56497e[_0x4dffdf(0x557)]['map'](_0xfe253b=>'<li>'+_0xfe253b+_0x4dffdf(0x489))[_0x4dffdf(0xe10)]('')+_0x4dffdf(0xc36)+_0x56497e[_0x4dffdf(0xbe9)][_0x4dffdf(0xdc6)](_0x1b272d=>_0x4dffdf(0x14f)+_0x1b272d+_0x4dffdf(0x489))['join']('')+_0x4dffdf(0xa6e);}function formatAndPrintWorksheet(_0x354699,_0x4ebf16){const _0xa6e9e3=_0x1dab5f,_0x246684='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x354699[_0xa6e9e3(0xe0e)]+_0xa6e9e3(0xe01)+_0x354699[_0xa6e9e3(0xe0e)]+_0xa6e9e3(0x3b7)+_0x354699[_0xa6e9e3(0x3ef)][_0xa6e9e3(0xdc6)]((_0x3a0429,_0x18a697)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x18a697+0x1)+'.\x20'+_0x3a0429[_0xa6e9e3(0x8c4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3a0429[_0xa6e9e3(0xb12)]?_0xa6e9e3(0x7d8)+_0x3a0429[_0xa6e9e3(0xb12)]+_0xa6e9e3(0x30c):'')+_0xa6e9e3(0x8bb))[_0xa6e9e3(0xe10)]('')+_0xa6e9e3(0x8bd);_0x4ebf16[_0xa6e9e3(0x77a)][_0xa6e9e3(0x736)](_0x246684),_0x4ebf16[_0xa6e9e3(0x77a)][_0xa6e9e3(0x123)](),_0x4ebf16[_0xa6e9e3(0x356)]=function(){setTimeout(()=>{const _0x3b57aa=_0x5ef1;_0x4ebf16[_0x3b57aa(0x5ec)]();},0x3e8);};}async function generateWorksheet(){const _0x181f39=_0x1dab5f,_0x5113e3=document[_0x181f39(0x242)](_0x181f39(0xd11))[_0x181f39(0xbfb)][_0x181f39(0xb6d)]();if(!_0x5113e3){showMessage(_0x181f39(0x2bc));return;}const _0x1c60d4=document[_0x181f39(0x242)](_0x181f39(0x98b))[_0x181f39(0xa7e)],_0x5d09c3=_0x1c60d4?'':_0x181f39(0xb39),_0x419dc2=window[_0x181f39(0x2ef)]('',_0x181f39(0xaf2));_0x419dc2[_0x181f39(0x77a)][_0x181f39(0x736)](_0x181f39(0x5b5));const _0x5b6f4b=parseInt(document[_0x181f39(0x242)](_0x181f39(0x299))[_0x181f39(0xbfb)]),_0x32fd22=document[_0x181f39(0x242)](_0x181f39(0x8c2))[_0x181f39(0xa7e)],_0x48da87=_0x32fd22?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x13451a=_0x181f39(0xde5)+_0x5d09c3+_0x181f39(0x652)+_0x5b6f4b+_0x181f39(0x10e)+_0x5113e3+_0x181f39(0xb76)+_0x48da87+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x181f39(0x325),_0x2e4949={'type':_0x181f39(0x674),'properties':{'topic':{'type':_0x181f39(0xb13)},'questions':{'type':_0x181f39(0xa3a),'items':{'type':_0x181f39(0x674),'properties':{'questionText':{'type':_0x181f39(0xb13)},'imageCode':{'type':'STRING'}},'required':[_0x181f39(0x8c4)]}}},'required':[_0x181f39(0xe0e),'questions']};document['getElementById']('loader-text')['textContent']='',document[_0x181f39(0x242)](_0x181f39(0x715))[_0x181f39(0xe19)][_0x181f39(0x677)](_0x181f39(0x414)),document[_0x181f39(0x242)](_0x181f39(0x76b))['classList'][_0x181f39(0x677)](_0x181f39(0x414)),generateWorksheetBtn[_0x181f39(0xd66)]=!![];try{const _0x48fb32=await callAnalysisApi(_0x13451a,_0x2e4949);formatAndPrintWorksheet(_0x48fb32,_0x419dc2);}catch(_0xb1db){console[_0x181f39(0xd98)](_0x181f39(0xbef),_0xb1db);if(_0x419dc2)_0x419dc2[_0x181f39(0x123)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document['getElementById'](_0x181f39(0x715))[_0x181f39(0xe19)][_0x181f39(0x27c)]('hidden'),document[_0x181f39(0x242)](_0x181f39(0x76b))['classList']['add']('hidden'),generateWorksheetBtn[_0x181f39(0xd66)]=![];}}async function callAnalysisApi(_0x5e22c3,_0x53b85e){const _0x5f92a8=_0x1dab5f,_0x2ac886={'contents':[{'role':_0x5f92a8(0xa5c),'parts':[{'text':_0x5e22c3}]}],'generationConfig':{'responseMimeType':_0x5f92a8(0xbe0),'responseSchema':_0x53b85e}},_0x114fa6=_0x5f92a8(0xa41),_0x14ffac=_0x5f92a8(0x59b)+_0x114fa6,_0x2caac4=await fetch(_0x14ffac,{'method':_0x5f92a8(0x515),'headers':{'Content-Type':_0x5f92a8(0xbe0)},'body':JSON[_0x5f92a8(0x3a5)](_0x2ac886)});if(!_0x2caac4['ok'])throw new Error(_0x5f92a8(0x9db)+_0x2caac4[_0x5f92a8(0x2db)]);const _0x26fa01=await _0x2caac4[_0x5f92a8(0x2a1)]();if(_0x26fa01[_0x5f92a8(0x548)]?.[0x0]?.[_0x5f92a8(0x7a5)]?.[_0x5f92a8(0x1c1)]?.[0x0])return JSON['parse'](_0x26fa01[_0x5f92a8(0x548)][0x0][_0x5f92a8(0x7a5)]['parts'][0x0][_0x5f92a8(0xad0)]);else{let _0x2a2b20=_0x5f92a8(0x856);if(_0x26fa01[_0x5f92a8(0xce7)]?.['blockReason'])_0x2a2b20=_0x5f92a8(0x5bf)+_0x26fa01['promptFeedback']['blockReason']+'.';else _0x26fa01[_0x5f92a8(0x548)]?.[0x0]?.['finishReason']&&_0x26fa01['candidates'][0x0][_0x5f92a8(0x3bf)]!=='STOP'&&(_0x2a2b20=_0x5f92a8(0xa1b)+_0x26fa01[_0x5f92a8(0x548)][0x0][_0x5f92a8(0x3bf)]+'.');console[_0x5f92a8(0xd98)](_0x2a2b20,JSON[_0x5f92a8(0x3a5)](_0x26fa01));throw new Error(_0x2a2b20);}}async function handleStartSyncMode(_0x494bfd,_0x5c4d96=![],_0x1cfbf9=_0x1dab5f(0x32f)){const _0x34c161=_0x1dab5f,_0x98cdab=allQuizzes[_0x34c161(0x794)](_0x5105c4=>_0x5105c4['id']===_0x494bfd)||allQuizzesGlobal[_0x34c161(0x794)](_0xa5c9b3=>_0xa5c9b3['id']===_0x494bfd);if(!_0x98cdab){showMessage(_0x34c161(0x6ad));return;}currentQuizData=getShuffledQuiz(_0x98cdab);const _0x205476=Math[_0x34c161(0x95d)](0x3e8+Math['random']()*0x2328)['toString'](),_0x5793fd=doc(db,_0x34c161(0xb99)+appId+_0x34c161(0x636),_0x98cdab['projectId']),_0x2f2537=await getDoc(_0x5793fd);if(!_0x2f2537[_0x34c161(0xb96)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x4e0e13=_0x2f2537[_0x34c161(0x1f1)]()[_0x34c161(0x7f8)]||[],_0x2dcb4e={};if(_0x1cfbf9===_0x34c161(0x1ce)||_0x1cfbf9==='anonymous_reveal_end'){const _0x19cad3=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math[_0x34c161(0xd52)]());_0x4e0e13[_0x34c161(0xbdf)]((_0x56a01,_0x4f226d)=>{const _0x9de593=_0x34c161;_0x2dcb4e[_0x56a01]=_0x19cad3[_0x4f226d]||_0x9de593(0x161)+(_0x4f226d+0x1);});}const _0x5b6d12=document[_0x34c161(0x242)](_0x34c161(0xa97))[_0x34c161(0xa7e)],_0x32d23a=parseInt(document[_0x34c161(0x242)](_0x34c161(0x52d))[_0x34c161(0xbfb)],0xa);let _0x5e0175={'timerMode':'none','timerDuration':0x0};_0x5b6d12&&(_0x5e0175[_0x34c161(0xcc5)]=_0x34c161(0x591),_0x5e0175[_0x34c161(0x44f)]=_0x32d23a||0xf0);const _0x11269b=document[_0x34c161(0x242)]('anon-show-answer-toggle')[_0x34c161(0xa7e)],_0x5475c8=document['getElementById'](_0x34c161(0x454))[_0x34c161(0xa7e)];try{const _0x3f709d=await addDoc(collection(db,'artifacts/'+appId+_0x34c161(0x4e1)),{'quizId':_0x98cdab['id'],'pin':_0x205476,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5c4d96,'players':{},'gameVariant':_0x1cfbf9,'reviewQuestionIndex':0x0,'playerNicknames':_0x2dcb4e,'isAnonymousRevealed':![],..._0x5e0175,'showAnswerInAnonymous':_0x11269b,'isBlackMarketEnabled':_0x5475c8});currentLiveGameId=_0x3f709d['id'],showView('live-game'),renderSyncLobbyView(_0x205476,_0x98cdab[_0x34c161(0xe0e)]),listenForSyncGameUpdates();const _0x1ba17f={'gameId':currentLiveGameId,'mode':_0x34c161(0x7ff),'role':_0x34c161(0xcc8)};sessionStorage['setItem']('activeGameSession',JSON[_0x34c161(0x3a5)](_0x1ba17f));}catch(_0x4301fb){console['error'](_0x34c161(0x284),_0x4301fb),showMessage(_0x34c161(0x75b));}}function calculateFinalPodiumScores(_0x6709cc){const _0x2aec4a=_0x1dab5f;if(!_0x6709cc||!_0x6709cc[_0x2aec4a(0x8d3)]||!_0x6709cc[_0x2aec4a(0x616)])return _0x6709cc[_0x2aec4a(0x616)]||{};const _0x2ab6da=_0x6709cc['shuffledQuiz'][_0x2aec4a(0x3ef)][_0x2aec4a(0x283)],_0xa8bf8=JSON['parse'](JSON[_0x2aec4a(0x3a5)](_0x6709cc[_0x2aec4a(0x616)]));return Object[_0x2aec4a(0xb31)](_0xa8bf8)[_0x2aec4a(0xbdf)](_0x579b35=>{const _0x3dc099=_0x2aec4a,_0x1fbd05=_0x579b35[_0x3dc099(0x3bb)]||0x0,_0x449926=_0x579b35['totalPoints']||0x0;_0x2ab6da>0x0&&_0x1fbd05===_0x2ab6da?_0x579b35[_0x3dc099(0xb9b)]=!![]:_0x579b35['hasPerfectScoreBonus']=![],_0x579b35[_0x3dc099(0x749)]=_0x1fbd05,_0x579b35[_0x3dc099(0x49c)]=_0x449926;}),_0xa8bf8;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x44d77f=_0x1dab5f;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x11ef9f=doc(db,_0x44d77f(0xb99)+appId+_0x44d77f(0x4e1),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x11ef9f,_0x5ae1e6=>{const _0x5e5a40=_0x44d77f;if(!_0x5ae1e6[_0x5e5a40(0xb96)]()){sessionStorage[_0x5e5a40(0x415)](_0x5e5a40(0x967)),showMessage(_0x5e5a40(0x7f3));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x5e5a40(0xcc8)?showView(_0x5e5a40(0x3f3)):showView('student');return;}cachedGameData=_0x5ae1e6[_0x5e5a40(0x1f1)](),cachedGameData[_0x5e5a40(0x8d3)]&&(currentQuizData=cachedGameData[_0x5e5a40(0x8d3)]),syncDataAndRender();});const _0x212dd7=collection(db,_0x44d77f(0xb99)+appId+_0x44d77f(0x407)+currentLiveGameId+_0x44d77f(0xa0d));if(currentMode===_0x44d77f(0xcc8))unsubscribePlayersCollectionListener=onSnapshot(_0x212dd7,_0x46d316=>{const _0x5251aa=_0x44d77f;_0x46d316[_0x5251aa(0xa45)]()[_0x5251aa(0xbdf)](_0x3b3f86=>{const _0x369510=_0x5251aa;if(_0x3b3f86[_0x369510(0x41e)]===_0x369510(0x93f)||_0x3b3f86['type']==='modified')cachedPlayerData[_0x3b3f86[_0x369510(0x12b)]['id']]=_0x3b3f86[_0x369510(0x12b)][_0x369510(0x1f1)]();else _0x3b3f86['type']===_0x369510(0xcd8)&&delete cachedPlayerData[_0x3b3f86[_0x369510(0x12b)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x44d77f(0x283)]>0x0){const _0x4508e2=query(_0x212dd7,where(_0x44d77f(0x4cc),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x4508e2,_0x41e765=>{const _0xded936=_0x44d77f;_0x41e765[_0xded936(0xa45)]()['forEach'](_0xa91c22=>{const _0x2cf5e8=_0xded936;(_0xa91c22[_0x2cf5e8(0x41e)]===_0x2cf5e8(0x93f)||_0xa91c22['type']==='modified')&&(cachedPlayerData[_0xa91c22[_0x2cf5e8(0x12b)]['id']]=_0xa91c22[_0x2cf5e8(0x12b)][_0x2cf5e8(0x1f1)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x43eb5f=_0x1dab5f;if(!cachedGameData)return;const _0x27a965={},_0x1980c7=cachedGameData[_0x43eb5f(0xd02)];Object[_0x43eb5f(0xd39)](cachedPlayerData)['forEach'](_0xc7d9f9=>{const _0x1696e0=_0x43eb5f,_0x2b3731=cachedPlayerData[_0xc7d9f9],_0x50fc6d=_0x2b3731[_0x1696e0(0x922)]&&_0x2b3731[_0x1696e0(0x922)]['some'](_0x25db3f=>_0x25db3f[_0x1696e0(0x444)]===_0x1980c7);_0x27a965[_0xc7d9f9]={..._0x2b3731,'answered':_0x50fc6d};});const _0x387702={...cachedGameData,'players':_0x27a965};currentMode===_0x43eb5f(0xcc8)?updateAdminSyncView(_0x387702):updateStudentSyncView(_0x387702);}function renderSyncLobbyView(_0x418d9b,_0x438319){const _0x24ade5=_0x1dab5f;liveGameView[_0x24ade5(0x90d)]=_0x24ade5(0x84d)+_0x438319+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x418d9b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x45f824=document['getElementById']('confidence-scoring-toggle'),_0x17218f=document['getElementById'](_0x24ade5(0xa20));_0x45f824[_0x24ade5(0x264)](_0x24ade5(0x484),()=>{const _0x46b88e=_0x24ade5;_0x17218f[_0x46b88e(0x271)][_0x46b88e(0x90e)]=_0x45f824['checked']?_0x46b88e(0x4aa):_0x46b88e(0x7d3);}),document['getElementById'](_0x24ade5(0x4a6))['addEventListener'](_0x24ade5(0xc23),async()=>{const _0x1065ec=_0x24ade5,_0x484a50=doc(db,_0x1065ec(0xb99)+appId+'/public/data/syncGames',currentLiveGameId),_0x2d27ec=document[_0x1065ec(0x242)](_0x1065ec(0xdb3))['checked'];await updateDoc(_0x484a50,{'status':_0x1065ec(0x7e7),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x2d27ec});});}function updateAdminSyncView(_0x4b9bf8){const _0xfc0824=_0x1dab5f;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x4b9bf8[_0xfc0824(0x2db)]){case _0xfc0824(0x56b):renderSyncLobbyView(_0x4b9bf8[_0xfc0824(0x687)],_0x4b9bf8[_0xfc0824(0x8d3)][_0xfc0824(0xe0e)]);const _0x5ce7b9=Object['entries'](_0x4b9bf8[_0xfc0824(0x616)]||{})[_0xfc0824(0x3be)](([_0x5650de,_0x260124])=>_0x260124[_0xfc0824(0x2db)]!==_0xfc0824(0x2dc));document[_0xfc0824(0x242)](_0xfc0824(0x10f))[_0xfc0824(0xafa)]=_0x5ce7b9[_0xfc0824(0x283)],document[_0xfc0824(0x242)]('player-list-lobby')['innerHTML']=_0x5ce7b9['map'](([_0x1ae710,_0xfd6ba0])=>_0xfc0824(0xd5b)+_0x1ae710+_0xfc0824(0x79e)+_0x1ae710+_0xfc0824(0x605))['join']('')||_0xfc0824(0x12f),document[_0xfc0824(0x242)]('start-sync-game-btn')[_0xfc0824(0xd66)]=_0x5ce7b9[_0xfc0824(0x283)]===0x0;break;case'question':const _0x51deb7=Object[_0xfc0824(0xb31)](_0x4b9bf8[_0xfc0824(0x616)]||{})[_0xfc0824(0x3be)](_0x25f290=>_0x25f290[_0xfc0824(0x2db)]!==_0xfc0824(0x2dc)),_0x17dbbf=_0x51deb7['filter'](_0x889e3b=>_0x889e3b[_0xfc0824(0xc2c)])['length'],_0x2ca775=_0x17dbbf===_0x51deb7['length']&&_0x51deb7[_0xfc0824(0x283)]>0x0;if(_0x2ca775&&_0x4b9bf8['status']===_0xfc0824(0x7e7)){const _0x5e53a8=doc(db,_0xfc0824(0xb99)+appId+_0xfc0824(0x4e1),currentLiveGameId);updateDoc(_0x5e53a8,{'status':'summary'});return;}if(document['getElementById'](_0xfc0824(0xca3))===null)renderAdminSyncQuestionView(_0x4b9bf8);else{const _0x3ed132=document[_0xfc0824(0x242)](_0xfc0824(0xb60));_0x3ed132&&(_0x3ed132[_0xfc0824(0xafa)]=_0x17dbbf+'/'+_0x51deb7['length']);const _0xec1cfb=document[_0xfc0824(0x242)]('sync-player-list');_0xec1cfb&&(_0xec1cfb['innerHTML']=_0x51deb7['map'](_0x16045e=>{const _0x583d41=_0xfc0824,_0xb7a200=_0x16045e[_0x583d41(0xc2c)]?'bg-green-500':_0x583d41(0x68f),_0x5eb00d=_0x16045e[_0x583d41(0xc2c)]?_0x583d41(0x3e3):_0x583d41(0x45f);return _0x583d41(0x92f)+_0xb7a200+'\x22>'+_0x5eb00d+_0x583d41(0xd3f)+_0x16045e['name']+_0x583d41(0x49b)+_0x16045e[_0x583d41(0x4cc)]+_0x583d41(0xa7b);})['join'](''));}const _0x30bed2=_0x4b9bf8['timerMode']===_0xfc0824(0x591)&&_0x4b9bf8[_0xfc0824(0x24c)];if(_0x30bed2){const _0x4811c7=_0x4b9bf8[_0xfc0824(0x24c)][_0xfc0824(0x760)]()[_0xfc0824(0xae2)](),_0x5065d6=_0x4b9bf8[_0xfc0824(0x44f)]*0x3e8,_0x278f06=_0x4811c7+_0x5065d6,_0x4cf57e=document[_0xfc0824(0x242)]('sync-timer-bar'),_0x5d3ac3=document[_0xfc0824(0x242)](_0xfc0824(0xcac));syncQuestionTimerInterval=setInterval(()=>{const _0x48c643=_0xfc0824,_0x1f4cb1=Date[_0x48c643(0xaf6)](),_0x443e5c=_0x51deb7[_0x48c643(0x283)]>0x0&&_0x51deb7['every'](_0x12b58e=>{const _0x4584a0=_0x48c643;if(_0x12b58e[_0x4584a0(0xc2c)])return!![];const _0x48dadd=_0x12b58e[_0x4584a0(0x24d)]||0x0;return _0x1f4cb1>=_0x4811c7+_0x5065d6+_0x48dadd;});if(_0x443e5c){clearInterval(syncQuestionTimerInterval);const _0x48e086=doc(db,_0x48c643(0xb99)+appId+_0x48c643(0x4e1),currentLiveGameId);updateDoc(_0x48e086,{'status':_0x48c643(0xc7d)});return;}const _0x90478e=_0x278f06-_0x1f4cb1;if(_0x90478e<=0x0){if(_0x4cf57e)_0x4cf57e[_0x48c643(0x271)][_0x48c643(0xa5b)]='0%';if(_0x5d3ac3)_0x5d3ac3['textContent']=_0x48c643(0xb3d);}else{if(_0x4cf57e&&_0x5d3ac3){const _0x105077=_0x90478e/_0x5065d6*0x64;_0x4cf57e[_0x48c643(0x271)]['width']=_0x105077+'%',_0x5d3ac3[_0x48c643(0xafa)]=Math[_0x48c643(0x64e)](_0x90478e/0x3e8);}}},0x1f4);}break;case _0xfc0824(0xc7d):const _0x24b264=_0x4b9bf8[_0xfc0824(0xd02)],_0x38b016=_0x4b9bf8[_0xfc0824(0x8d3)][_0xfc0824(0x3ef)][_0x24b264];renderSyncSummaryView(_0x4b9bf8,_0x38b016,!![]);break;case'results':const _0x433bbc=_0x4b9bf8[_0xfc0824(0xc9e)]||_0xfc0824(0x32f);_0x433bbc===_0xfc0824(0xcbc)||_0x433bbc===_0xfc0824(0xb2c)?renderAdminSyncDashboard(_0x4b9bf8,!![],_0x4b9bf8[_0xfc0824(0x14d)]):(_0x4b9bf8[_0xfc0824(0x2db)]===_0xfc0824(0x8d6)&&!_0x4b9bf8[_0xfc0824(0xc59)]&&((async()=>{const _0x480961=_0xfc0824;try{const _0xdd25e7=doc(db,_0x480961(0xb99)+appId+_0x480961(0x4e1),currentLiveGameId);await updateDoc(_0xdd25e7,{'scoresCalculated':!![]});const _0x3dcd94=cachedPlayerData||{},_0x271629=_0x4b9bf8[_0x480961(0x8d3)][_0x480961(0x3ef)][_0x480961(0x283)],_0x2fc0f3={};Object[_0x480961(0xb31)](_0x3dcd94)[_0x480961(0xbdf)](_0x2b589a=>{const _0x578463=_0x480961;if(_0x2b589a['status']!==_0x578463(0x2dc)){const _0x57ed70=_0x2b589a[_0x578463(0x4cc)],_0x2c7547=_0x2b589a['score']||0x0,_0x599a81=_0x2b589a[_0x578463(0x49c)]||0x0;let _0xf449cb=_0x599a81;_0x271629>0x0&&_0x2c7547===_0x271629&&(_0xf449cb+=0x1),_0x2fc0f3[_0x578463(0x789)+_0x57ed70+_0x578463(0xa4c)]=_0x2c7547,_0x2fc0f3['players.'+_0x57ed70+_0x578463(0x2fb)]=_0xf449cb,_0x2fc0f3[_0x578463(0x789)+_0x57ed70+_0x578463(0x44c)]=_0xf449cb;}}),await updateDoc(_0xdd25e7,{..._0x2fc0f3});}catch(_0x46a18c){console[_0x480961(0xd98)](_0x480961(0xe08),_0x46a18c);}})()),renderAdminSyncDashboard(_0x4b9bf8,!![],_0x4b9bf8['currentQuestionIndex']));break;case'podium':const _0x1c3671=Object[_0xfc0824(0xd39)](_0x4b9bf8['players']||{})[_0xfc0824(0x283)]>0x0,_0x2531ba=_0x4b9bf8[_0xfc0824(0x561)]===!![],_0x230f74=_0x4b9bf8[_0xfc0824(0x76e)]===!![];_0x230f74&&!_0x2531ba&&_0x1c3671&&saveGameResultsAsSubmissions(_0x4b9bf8);sessionStorage[_0xfc0824(0x415)](_0xfc0824(0x967));const _0x224404=calculateFinalPodiumScores(_0x4b9bf8);showPodiumView(_0x224404,_0xfc0824(0x7ff),_0x4b9bf8);break;}}function renderAdminSyncQuestionView(_0x3efd98){const _0x3cf293=_0x1dab5f,_0x237fb0=_0x3efd98['currentQuestionIndex'],_0x17b60f=_0x3efd98[_0x3cf293(0x8d3)][_0x3cf293(0x3ef)][_0x237fb0],_0x5be080=_0x3efd98[_0x3cf293(0x8d3)]['questions'][_0x3cf293(0x283)],_0x205343=Object[_0x3cf293(0xb31)](_0x3efd98[_0x3cf293(0x616)]||{})[_0x3cf293(0x3be)](_0x125f0b=>_0x125f0b[_0x3cf293(0x2db)]!==_0x3cf293(0x2dc)),_0x39ad36=_0x205343[_0x3cf293(0x3be)](_0xc9e8c1=>_0xc9e8c1[_0x3cf293(0xc2c)])[_0x3cf293(0x283)],_0x46c3c9=_0x39ad36===_0x205343[_0x3cf293(0x283)]&&_0x205343[_0x3cf293(0x283)]>0x0,_0x5a732a=(_0x17b60f[_0x3cf293(0x381)]||[])[_0x3cf293(0xdc6)](_0x3c86d1=>_0x3cf293(0x58e)+_0x3c86d1+_0x3cf293(0x30c))[_0x3cf293(0xe10)]('');let _0x58a67c='';_0x3efd98['timerMode']==='per_question'&&(_0x58a67c=_0x3cf293(0xdeb)+_0x3efd98[_0x3cf293(0x44f)]+_0x3cf293(0xa0f));liveGameView[_0x3cf293(0x90d)]=_0x3cf293(0x63a)+(_0x237fb0+0x1)+_0x3cf293(0x25f)+_0x5be080+_0x3cf293(0x41d)+_0x3efd98[_0x3cf293(0x687)]+_0x3cf293(0x179)+_0x39ad36+'/'+_0x205343[_0x3cf293(0x283)]+_0x3cf293(0x1b9)+_0x58a67c+_0x3cf293(0xc77)+_0x17b60f[_0x3cf293(0x8c4)]+_0x3cf293(0xa77)+_0x5a732a+_0x3cf293(0x805)+(!_0x46c3c9?_0x3cf293(0xd66):'')+_0x3cf293(0xa1f);if(window['MathJax'])MathJax['typesetPromise']();const _0x382d93=doc(db,_0x3cf293(0xb99)+appId+_0x3cf293(0x4e1),currentLiveGameId);document['getElementById'](_0x3cf293(0x4cd))[_0x3cf293(0x264)](_0x3cf293(0xc23),async()=>{const _0x2da459=_0x3cf293;await updateDoc(_0x382d93,{'status':_0x2da459(0xc7d)});}),document['getElementById'](_0x3cf293(0x643))[_0x3cf293(0x3d9)]=()=>{const _0x1cd949=_0x3cf293;openScratchpad(_0x17b60f,_0x17b60f[_0x1cd949(0x381)]||[]);},document[_0x3cf293(0x242)](_0x3cf293(0x58c))[_0x3cf293(0x264)]('click',()=>{const _0x47ba92=_0x3cf293;document[_0x47ba92(0x242)](_0x47ba92(0xca3))[_0x47ba92(0xe19)][_0x47ba92(0x8ff)](_0x47ba92(0x414));});const _0x5967a7=document[_0x3cf293(0x242)](_0x3cf293(0x9ca));_0x5967a7&&(_0x5967a7[_0x3cf293(0x3d9)]=()=>{const _0x26fcce=_0x3cf293;showConfirmation(_0x26fcce(0x164),async()=>{const _0x284dba=_0x26fcce;await updateDoc(_0x382d93,{'status':_0x284dba(0x504)});});});}function renderSyncLeaderboardView(_0x42c714,_0x223707){const _0x3524de=_0x1dab5f,_0x73aeb6=Object[_0x3524de(0xb31)](_0x42c714['players']||{});_0x73aeb6[_0x3524de(0xa23)]((_0x2f7eb3,_0x268013)=>_0x268013[_0x3524de(0x3bb)]-_0x2f7eb3[_0x3524de(0x3bb)]);const _0x5acc75=_0x73aeb6[_0x3524de(0x801)](0x0,0x5);let _0x37cead='';if(_0x223707){const _0x305bf1=_0x42c714[_0x3524de(0xd02)]>=_0x42c714['shuffledQuiz'][_0x3524de(0x3ef)]['length']-0x1;_0x37cead=_0x3524de(0x804)+(_0x305bf1?_0x3524de(0xccc):'ข้อต่อไป')+_0x3524de(0x7f5);}else _0x37cead='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView['innerHTML']=_0x3524de(0x241)+_0x5acc75[_0x3524de(0xdc6)]((_0x3c6bd3,_0x1d880e)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x1d880e+0x1)+'.\x20'+_0x3c6bd3[_0x3524de(0x4cc)]+_0x3524de(0x471)+_0x3c6bd3[_0x3524de(0x3bb)]+_0x3524de(0x13c))[_0x3524de(0xe10)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37cead+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x223707&&document[_0x3524de(0x242)](_0x3524de(0x280))['addEventListener'](_0x3524de(0xc23),async()=>{const _0x1b9992=_0x3524de,_0x4e9edf=doc(db,_0x1b9992(0xb99)+appId+_0x1b9992(0x4e1),currentLiveGameId),_0x3dda95=_0x42c714[_0x1b9992(0xd02)]+0x1;if(_0x3dda95<_0x42c714[_0x1b9992(0x8d3)][_0x1b9992(0x3ef)][_0x1b9992(0x283)]){const _0x2295ba={};Object[_0x1b9992(0xd39)](_0x42c714[_0x1b9992(0x616)])[_0x1b9992(0xbdf)](_0x153753=>{const _0x3d07ee=_0x1b9992;_0x2295ba[_0x3d07ee(0x789)+_0x153753+_0x3d07ee(0x6d8)]=![];}),await updateDoc(_0x4e9edf,{'status':'question','currentQuestionIndex':_0x3dda95,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x4e9edf,{'status':_0x1b9992(0x504)});});}async function handleJoinSyncGame(){const _0x8c7904=_0x1dab5f,_0x2ae01d=prompt(_0x8c7904(0xb9c));if(!_0x2ae01d||_0x2ae01d[_0x8c7904(0xb6d)]()[_0x8c7904(0x283)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x23db08=collection(db,_0x8c7904(0xb99)+appId+_0x8c7904(0x4e1)),_0x503c1d=query(_0x23db08,where('pin','==',_0x2ae01d[_0x8c7904(0xb6d)]()),where(_0x8c7904(0x2db),'==',_0x8c7904(0x56b))),_0x3e232b=await getDocs(_0x503c1d);if(_0x3e232b[_0x8c7904(0x57e)]){showMessage(_0x8c7904(0x910));return;}const _0x3e5035=_0x3e232b[_0x8c7904(0x5ab)][0x0];currentLiveGameId=_0x3e5035['id'];const _0xc194ed=_0x3e5035['data'](),_0x27209c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xc194ed[_0x8c7904(0xcd7)]),_0x355f30=await getDoc(_0x27209c);if(!_0x355f30['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x289a59=_0x355f30[_0x8c7904(0x1f1)](),_0x1b45a1=doc(db,_0x8c7904(0xb99)+appId+_0x8c7904(0x636),_0x289a59[_0x8c7904(0x1cf)]),_0x77752d=await getDoc(_0x1b45a1);if(!_0x77752d[_0x8c7904(0xb96)]())throw new Error(_0x8c7904(0xa17));currentQuizData=_0xc194ed[_0x8c7904(0x8d3)];const _0x38b295=_0x77752d[_0x8c7904(0x1f1)]();showView('student-team-join'),showTeamPlayerSelection(_0x38b295[_0x8c7904(0x7f8)],_0x289a59[_0x8c7904(0xe0e)]);const _0x134a90=document[_0x8c7904(0x242)](_0x8c7904(0x256));_0x134a90[_0x8c7904(0x3d9)]=confirmAndJoinSyncGame;}catch(_0x58cdac){console[_0x8c7904(0xd98)]('Error\x20joining\x20sync\x20game:',_0x58cdac),showMessage('เกิดข้อผิดพลาด:\x20'+_0x58cdac[_0x8c7904(0xa9f)]);}}function updateStudentSyncView(_0xa63ff9){const _0x1d7525=_0x1dab5f,_0x3da546=localTeamPlayers[0x0],_0x9f0cd2=_0xa63ff9[_0x1d7525(0x616)][_0x3da546]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0xa63ff9[_0x1d7525(0x2db)]){case _0x1d7525(0x56b):showView(_0x1d7525(0x3d3)),liveGameView[_0x1d7525(0x90d)]=_0x1d7525(0x44b);break;case _0x1d7525(0x7e7):if(_0xa63ff9[_0x1d7525(0xd02)]!==lastSeenQuestionIndex){console[_0x1d7525(0x383)](_0x1d7525(0x154)),sessionStorage[_0x1d7525(0x415)](_0x1d7525(0xa8b)),sessionStorage[_0x1d7525(0x415)]('onSecondChance'),sessionStorage[_0x1d7525(0x415)](_0x1d7525(0xdcf));const _0x57b675=_0x1d7525(0xc79)+lastSeenQuestionIndex,_0x3c4c07=_0x1d7525(0x93e)+lastSeenQuestionIndex,_0x4bb535=_0x1d7525(0x373)+lastSeenQuestionIndex;Object[_0x1d7525(0xd39)](sessionStorage)['forEach'](_0x1e9936=>{const _0x599bb2=_0x1d7525;(_0x1e9936[_0x599bb2(0x1f4)](_0x57b675)||_0x1e9936['startsWith'](_0x3c4c07)||_0x1e9936[_0x599bb2(0x1f4)](_0x4bb535))&&sessionStorage[_0x599bb2(0x415)](_0x1e9936);});if(_0x9f0cd2[_0x1d7525(0xca6)]||_0x9f0cd2[_0x1d7525(0xd4e)]||(_0x9f0cd2['timeBonusThisQuestion']||0x0)>0x0){const _0x3a498f=doc(db,_0x1d7525(0xb99)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x3da546);updateDoc(_0x3a498f,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x1d7525(0xd68)](_0x5546dc=>console[_0x1d7525(0xd98)](_0x1d7525(0x4e7),_0x5546dc));}lastSeenQuestionIndex=_0xa63ff9[_0x1d7525(0xd02)];}localPlayerTurnIndex=0x0;const _0x3caa61=localTeamPlayers[_0x1d7525(0x435)](_0x5608de=>_0xa63ff9[_0x1d7525(0x616)][_0x5608de]?.[_0x1d7525(0xc2c)]===!![]);if(_0x3caa61)liveGameView[_0x1d7525(0x90d)]=_0x1d7525(0xbcf);else{renderStudentSyncQuestionView(_0xa63ff9);if(_0xa63ff9['timerMode']===_0x1d7525(0x591)){if(!_0xa63ff9[_0x1d7525(0x24c)]){console['log']('Waiting\x20for\x20server\x20timestamp\x20for\x20timer...');return;}const _0x11c020=_0xa63ff9[_0x1d7525(0x24c)][_0x1d7525(0x760)]()[_0x1d7525(0xae2)](),_0x3f6e11=_0xa63ff9[_0x1d7525(0x44f)]*0x3e8,_0x27ff2b=localTeamPlayers[_0x1d7525(0xdc6)](_0x373278=>_0xa63ff9['players'][_0x373278]?.[_0x1d7525(0x24d)]||0x0),_0x78ae4a=Math['max'](..._0x27ff2b,0x0),_0x109d89=_0x11c020+_0x3f6e11+_0x78ae4a;syncQuestionTimerInterval=setInterval(()=>{const _0x24410a=_0x1d7525,_0x473dfb=_0x109d89-Date[_0x24410a(0xaf6)](),_0x140285=document[_0x24410a(0x242)]('sync-timer-bar'),_0x8a3d36=document[_0x24410a(0x242)]('sync-timer-countdown');if(_0x473dfb<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x140285)_0x140285[_0x24410a(0x271)]['width']='0%';if(_0x8a3d36)_0x8a3d36[_0x24410a(0xafa)]='0';liveGameView[_0x24410a(0x90d)]=_0x24410a(0xd19);}else{if(_0x140285&&_0x8a3d36){const _0x4ec179=_0x3f6e11+_0x78ae4a,_0x26e1fa=_0x4ec179>0x0?_0x473dfb/_0x4ec179*0x64:0x0;_0x140285['style']['width']=_0x26e1fa+'%',_0x8a3d36[_0x24410a(0xafa)]=Math['ceil'](_0x473dfb/0x3e8);}}},0x1f4);}}break;case _0x1d7525(0xc7d):liveGameView[_0x1d7525(0x90d)]=_0x1d7525(0x252);break;case _0x1d7525(0x8d6):localPlayerTurnIndex=0x0;const _0x67f95e=_0xa63ff9[_0x1d7525(0xc9e)]||_0x1d7525(0x32f);if(_0x67f95e==='anonymous'||_0x67f95e===_0x1d7525(0xb2c))renderStudentAnonymousResultsView(_0xa63ff9,_0xa63ff9[_0x1d7525(0xd02)]);else _0x67f95e==='competition'?renderStudentCompetitionResultsView(_0xa63ff9,_0xa63ff9[_0x1d7525(0xd02)]):renderStudentSyncResultsView(_0xa63ff9);break;case _0x1d7525(0x504):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x1d7525(0x232)](_0x1d7525(0x5e5),handleFullscreenChange),document[_0x1d7525(0x232)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x1d7525(0x415)]('activeGameSession');const _0x399100=_0xa63ff9[_0x1d7525(0xc9e)]||_0x1d7525(0x32f),_0x2666cb=_0xa63ff9['shuffledQuiz'][_0x1d7525(0x3ef)][_0x1d7525(0x283)]-0x1;if(_0x399100===_0x1d7525(0x1ce)||_0x399100===_0x1d7525(0xb2c))renderStudentAnonymousResultsView(_0xa63ff9,_0x2666cb);else _0x399100===_0x1d7525(0xd88)?renderStudentCompetitionResultsView(_0xa63ff9,_0x2666cb):renderStudentSyncResultsView(_0xa63ff9);const _0x47bea9=liveGameView[_0x1d7525(0xb19)]('.animate-pulse');_0x47bea9&&(_0x47bea9[_0x1d7525(0x271)][_0x1d7525(0x90e)]=_0x1d7525(0x7d3));const _0xe50b03=liveGameView[_0x1d7525(0xb19)](_0x1d7525(0x5d0));_0xe50b03&&(_0xe50b03[_0x1d7525(0x271)][_0x1d7525(0x90e)]=_0x1d7525(0x7d3));const _0x5b583d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['firstElementChild']?liveGameView[_0x1d7525(0x545)][_0x1d7525(0x2c6)]('beforeend',_0x5b583d):liveGameView['insertAdjacentHTML'](_0x1d7525(0xad1),_0x5b583d);break;}}function renderStudentSyncResultsView(_0x4b01fa){const _0x55662c=_0x1dab5f;let _0x226fe1=[];_0x4b01fa['publicLeaderboard']?_0x226fe1=_0x4b01fa[_0x55662c(0xa61)][_0x55662c(0x3be)](_0x1f68e8=>localTeamPlayers[_0x55662c(0x87f)](_0x1f68e8[_0x55662c(0x4cc)])):_0x226fe1=Object[_0x55662c(0xb31)](_0x4b01fa[_0x55662c(0x616)]||{})[_0x55662c(0x3be)](_0xd4181b=>localTeamPlayers['includes'](_0xd4181b['name']));const _0x4afda1=_0x4b01fa[_0x55662c(0xc9e)]||_0x55662c(0x32f),_0x433385=_0x4afda1===_0x55662c(0xcbc)||_0x4afda1===_0x55662c(0xb2c),_0x55a705=_0x4b01fa[_0x55662c(0x8d3)][_0x55662c(0x3ef)],_0x494aa5=_0x433385&&_0x4b01fa['reviewQuestionIndex']!==undefined?_0x4b01fa['reviewQuestionIndex']:_0x4b01fa[_0x55662c(0xd02)],_0x44a48a=_0x433385?_0x4b01fa[_0x55662c(0x14d)]:_0x4b01fa[_0x55662c(0xd02)],_0x326476=_0x226fe1[_0x55662c(0xdc6)](_0x444ba0=>{const _0x3df91c=_0x55662c,_0x10c83=(_0x444ba0[_0x3df91c(0x922)]||[])[_0x3df91c(0x3be)](_0x5bff7e=>_0x5bff7e['questionIndex']<=_0x494aa5);let _0x13c573=0x0,_0x39099d=0x0;return _0x433385?(_0x13c573=_0x10c83[_0x3df91c(0x3be)](_0x59a726=>_0x59a726['isCorrect'])[_0x3df91c(0x283)],_0x39099d=_0x10c83['reduce']((_0x4f6d8e,_0x4b584b)=>_0x4f6d8e+(_0x4b584b['pointsAwarded']||0x0),0x0)):(_0x13c573=_0x444ba0[_0x3df91c(0x3bb)]||0x0,_0x39099d=_0x444ba0[_0x3df91c(0x49c)]||0x0),{..._0x444ba0,'score':_0x13c573,'totalPoints':_0x39099d,'answers':_0x444ba0[_0x3df91c(0x922)]};});_0x326476[_0x55662c(0xa23)]((_0x1c5f1a,_0x1f2603)=>(_0x1f2603[_0x55662c(0x49c)]||0x0)-(_0x1c5f1a[_0x55662c(0x49c)]||0x0));let _0x3a1e6c='';const _0x163a72=_0x433385?_0x494aa5>=_0x55a705[_0x55662c(0x283)]-0x1:_0x4b01fa[_0x55662c(0xd02)]>=_0x55a705[_0x55662c(0x283)]-0x1;_0x163a72?_0x3a1e6c=_0x55662c(0x4a3):_0x3a1e6c=_0x55662c(0x249);const _0x439203=_0x55662c(0x2c7)+_0x326476[_0x55662c(0xdc6)]((_0x2ff358,_0xb8d82f)=>{const _0x595877=_0x55662c;let _0x1c8635=_0x595877(0xccb);const _0x2fdf18=(_0x2ff358['answers']||[])['find'](_0x32ab4a=>_0x32ab4a[_0x595877(0x444)]===_0x44a48a);if(_0x2fdf18){const _0x22e74d=_0x2fdf18[_0x595877(0x56f)],_0x41fc88=_0x2fdf18[_0x595877(0x39a)]===!![]||_0x2fdf18[_0x595877(0x39a)]===_0x595877(0x198),_0x40deb6=_0x2fdf18[_0x595877(0x49a)];if(_0x40deb6==='wagerMultiplier')_0x22e74d?_0x1c8635=_0x595877(0xd14):_0x1c8635=_0x595877(0x6dc);else{if(_0x41fc88)_0x22e74d?_0x1c8635=_0x595877(0xa31):_0x1c8635=_0x595877(0xdbb);else _0x22e74d?_0x1c8635=_0x595877(0x3e0):_0x1c8635=_0x595877(0x67e);}}let _0x141555='';_0x2fdf18&&_0x2fdf18['powerupUsed']===_0x595877(0x3ca)&&!_0x2fdf18[_0x595877(0x56f)]&&(_0x141555=_0x595877(0x7a7));const _0xe8a6f4=_0x2ff358[_0x595877(0x49c)]>=0x0?'(+'+_0x2ff358['totalPoints']+')':'('+_0x2ff358[_0x595877(0x49c)]+')';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x1c8635+_0x595877(0xc58)+(_0xb8d82f+0x1)+_0x595877(0x7af)+_0x2ff358[_0x595877(0x4cc)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ff358[_0x595877(0x3bb)]+_0x595877(0xc73)+_0xe8a6f4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x141555+_0x595877(0x55b);})['join']('')+_0x55662c(0x1bf)+_0x3a1e6c+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x55662c(0x90d)]=_0x439203;}function renderStudentAnonymousResultsView(_0x51ba86,_0x2408b3){const _0x5cb450=_0x1dab5f;let _0x2cfb54=[];_0x51ba86[_0x5cb450(0xa61)]?_0x2cfb54=_0x51ba86['publicLeaderboard']:_0x2cfb54=Object[_0x5cb450(0xb31)](_0x51ba86[_0x5cb450(0x616)]||{});const _0x123ee8=_0x51ba86[_0x5cb450(0xc9e)]||_0x5cb450(0x32f),_0x3790af=_0x123ee8===_0x5cb450(0xcbc)||_0x123ee8===_0x5cb450(0xb2c),_0x3b4e4c=_0x51ba86[_0x5cb450(0x6e9)]===!![],_0x1aa3b7=_0x51ba86[_0x5cb450(0x8d3)][_0x5cb450(0x3ef)],_0x4106cc=_0x3790af&&_0x51ba86[_0x5cb450(0x14d)]!==undefined?_0x51ba86['reviewQuestionIndex']:_0x2408b3,_0x37345d=_0x2cfb54[_0x5cb450(0xdc6)](_0x1cde22=>{const _0x217676=_0x5cb450,_0x286d79=(_0x1cde22[_0x217676(0x922)]||[])[_0x217676(0x3be)](_0x4ba0dd=>_0x4ba0dd['questionIndex']<=_0x4106cc);let _0x371644=0x0,_0x275d71=0x0;return _0x3790af?(_0x371644=_0x286d79[_0x217676(0x3be)](_0x537713=>_0x537713[_0x217676(0x56f)])[_0x217676(0x283)],_0x275d71=_0x286d79[_0x217676(0xbab)]((_0x56ebec,_0x450e2a)=>_0x56ebec+(_0x450e2a['pointsAwarded']||0x0),0x0)):(_0x371644=_0x1cde22[_0x217676(0x3bb)]||0x0,_0x275d71=_0x1cde22[_0x217676(0x49c)]||0x0),{..._0x1cde22,'realScore':_0x371644,'totalPoints':_0x275d71,'answers':_0x286d79};}),_0x11bcbd=_0x51ba86[_0x5cb450(0x9a1)]===!![],_0x12d972=[..._0x37345d][_0x5cb450(0xa23)]((_0x133c88,_0x3153db)=>{const _0x54dcb1=_0x5cb450;if(_0x11bcbd){const _0x192c12=_0x3153db[_0x54dcb1(0x49c)]-_0x133c88[_0x54dcb1(0x49c)];if(_0x192c12!==0x0)return _0x192c12;const _0x558253=_0x3153db['realScore']-_0x133c88[_0x54dcb1(0x749)];if(_0x558253!==0x0)return _0x558253;return(_0x133c88[_0x54dcb1(0x4cc)]||'')[_0x54dcb1(0x46f)](_0x3153db[_0x54dcb1(0x4cc)]||'','th');}else{const _0x2e4bbc=_0x3153db['totalPoints']-_0x133c88[_0x54dcb1(0x49c)];if(_0x2e4bbc!==0x0)return _0x2e4bbc;const _0x31bd83=_0x3153db[_0x54dcb1(0x749)]-_0x133c88['realScore'];if(_0x31bd83!==0x0)return _0x31bd83;return(_0x133c88[_0x54dcb1(0x4cc)]||'')[_0x54dcb1(0x46f)](_0x3153db[_0x54dcb1(0x4cc)]||'','th');}});let _0x55f3d4=null;const _0x50b9e4=_0x37345d['filter'](_0x378fdf=>localTeamPlayers[_0x5cb450(0x87f)](_0x378fdf[_0x5cb450(0x4cc)]));_0x55f3d4=_0x50b9e4[_0x5cb450(0x283)]>0x0?_0x50b9e4[_0x5cb450(0xa23)]((_0x641299,_0xeee0b5)=>_0xeee0b5[_0x5cb450(0x49c)]-_0x641299[_0x5cb450(0x49c)])[0x0]:null;if(!_0x55f3d4){liveGameView[_0x5cb450(0x90d)]=_0x5cb450(0x136);return;}const _0x5da009=_0x11bcbd?_0x55f3d4[_0x5cb450(0x49c)]:_0x55f3d4[_0x5cb450(0x49c)],_0x450cbf=_0x11bcbd?_0x55f3d4['realScore']:_0x55f3d4['realScore'],_0x155618=_0x12d972[0x0],_0x20e746=_0x11bcbd?_0x155618[_0x5cb450(0x49c)]:_0x155618[_0x5cb450(0x49c)],_0xf6b091=_0x11bcbd?_0x155618['realScore']:_0x155618['realScore'],_0x473003=_0x5da009===_0x20e746&&_0x450cbf===_0xf6b091&&(_0x12d972[0x0][_0x5cb450(0x749)]>0x0||_0x12d972[0x0]['totalPoints']>0x0),_0x582d6c=_0x4106cc+0x1,_0x21532e=_0x37345d[_0x5cb450(0x3be)](_0x438a39=>_0x438a39['realScore']===_0x582d6c&&(_0x438a39[_0x5cb450(0x922)]||[])[_0x5cb450(0x283)]===_0x582d6c&&_0x582d6c>0x0),_0x3b6c4b=_0x21532e['length']>0x0?Math[_0x5cb450(0xcd3)](..._0x21532e[_0x5cb450(0xdc6)](_0x575a84=>_0x575a84['totalPoints'])):-Infinity,_0x25c200=_0x12d972[_0x5cb450(0xdc6)]((_0x229822,_0x5cbaa7)=>{const _0x1ec07d=_0x5cb450,_0x10d990=_0x229822[_0x1ec07d(0x749)],_0x4c684b=_0x229822[_0x1ec07d(0x49c)],_0x2a5e6c=(_0x229822[_0x1ec07d(0x922)]||[])[_0x1ec07d(0x794)](_0x4d019b=>_0x4d019b['questionIndex']===_0x4106cc);let _0x3ecb99='';if(_0x2a5e6c){if(_0x2a5e6c[_0x1ec07d(0xd2a)])_0x3ecb99+=_0x1ec07d(0xb1a);if(_0x2a5e6c[_0x1ec07d(0xc4e)])_0x3ecb99+=_0x1ec07d(0x5f9);if(_0x2a5e6c[_0x1ec07d(0x126)])_0x3ecb99+=_0x1ec07d(0x76f);const _0x2f0309=_0x2a5e6c[_0x1ec07d(0x49a)];if(_0x2f0309){const _0x241a69={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳'};if(_0x241a69[_0x2f0309])_0x3ecb99+=_0x1ec07d(0x957)+_0x241a69[_0x2f0309]+_0x1ec07d(0x69f);}}let _0x4fdcf4='';if(_0x11bcbd){if(_0x4c684b===_0x3b6c4b&&_0x3b6c4b>0x0)_0x4fdcf4+=_0x1ec07d(0xc70);}else{const _0x2b07d0=_0x229822[_0x1ec07d(0x749)]===_0x582d6c&&_0x582d6c>0x0;if(_0x2b07d0)_0x4fdcf4=_0x1ec07d(0xd4d);}if(_0x4fdcf4===''&&_0x4c684b<0x0)_0x4fdcf4=_0x1ec07d(0x8fd);let _0x28196a='bg-black/20',_0x121355=![];const _0x295468=(_0x229822[_0x1ec07d(0x922)]||[])[_0x1ec07d(0x794)](_0x2e804c=>_0x2e804c[_0x1ec07d(0x444)]===_0x4106cc);if(_0x295468){const _0x56227f=_0x295468['isCorrect'],_0x59b242=_0x295468['wasConfident']===!![]||_0x295468[_0x1ec07d(0x39a)]==='confident',_0xb26b75=_0x295468[_0x1ec07d(0x49a)];if(_0xb26b75===_0x1ec07d(0x3ca))_0x56227f?(_0x28196a=_0x1ec07d(0xd14),_0x121355=!![]):_0x28196a=_0x1ec07d(0x6dc);else{if(_0x59b242)_0x28196a=_0x56227f?'bg-[#4ADE80]\x20text-green-900\x20font-bold':'bg-[#EF4444]\x20text-white\x20font-bold';else _0x56227f&&(_0x28196a=_0x1ec07d(0x3e0));}}let _0x44fcd='';const _0x1bcf4c=_0x229822[_0x1ec07d(0x4cc)],_0x5e58bc=_0x51ba86[_0x1ec07d(0xb0e)][_0x229822[_0x1ec07d(0x4cc)]]||'???',_0x31d9b2=_0x1ec07d(0xd96),_0x17f539='word-break:\x20break-all;',_0x1fa04c=localTeamPlayers['includes'](_0x1bcf4c),_0x2185d0=_0x11bcbd?_0x229822[_0x1ec07d(0x49c)]:_0x229822[_0x1ec07d(0x49c)],_0x11b709=_0x121355?_0x1ec07d(0xd53):_0x1ec07d(0x29c);if(_0x3b4e4c)_0x44fcd=_0x1ec07d(0x3b5)+_0x31d9b2+_0x1ec07d(0xa56)+_0x1bcf4c+'\x20('+_0x5e58bc+_0x1ec07d(0x743)+_0x17f539+'\x22>'+_0x1bcf4c+'</span>\x20'+_0x3ecb99+'\x20'+_0x4fdcf4+_0x1ec07d(0xc4a)+_0x11b709+_0x1ec07d(0xb4f)+_0x17f539+_0x1ec07d(0xb88)+_0x5e58bc+_0x1ec07d(0x951);else{if(_0x1fa04c)_0x473003?_0x44fcd=_0x1ec07d(0x3b5)+_0x31d9b2+'\x22\x20title=\x22'+_0x1bcf4c+'\x20('+_0x5e58bc+_0x1ec07d(0x743)+_0x17f539+'\x22>'+_0x1bcf4c+_0x1ec07d(0x961)+_0x3ecb99+'\x20'+_0x4fdcf4+'<span\x20class=\x22block\x20text-sm\x20'+_0x11b709+_0x1ec07d(0xb4f)+_0x17f539+_0x1ec07d(0xb88)+_0x5e58bc+_0x1ec07d(0x951):_0x44fcd='<div\x20style=\x22'+_0x31d9b2+_0x1ec07d(0xa56)+_0x5e58bc+_0x1ec07d(0x7be)+_0x17f539+'\x22>'+_0x5e58bc+_0x1ec07d(0x961)+_0x3ecb99+'\x20'+_0x4fdcf4+_0x1ec07d(0x30c),_0x44fcd=_0x1ec07d(0xc80)+_0x44fcd+_0x1ec07d(0xa60);else{const _0x52dcc7=_0x5da009>_0x2185d0;_0x52dcc7?_0x44fcd=_0x1ec07d(0x3b5)+_0x31d9b2+_0x1ec07d(0xa56)+_0x1bcf4c+'\x20('+_0x5e58bc+')\x22><span\x20style=\x22'+_0x17f539+'\x22>'+_0x1bcf4c+_0x1ec07d(0x961)+_0x3ecb99+'\x20'+_0x4fdcf4+_0x1ec07d(0xc4a)+_0x11b709+_0x1ec07d(0xb4f)+_0x17f539+'\x22>('+_0x5e58bc+_0x1ec07d(0x951):_0x44fcd=_0x1ec07d(0x3b5)+_0x31d9b2+_0x1ec07d(0xa56)+_0x5e58bc+_0x1ec07d(0x7be)+_0x17f539+'\x22>'+_0x5e58bc+_0x1ec07d(0x961)+_0x3ecb99+'\x20'+_0x4fdcf4+_0x1ec07d(0x30c);}}const _0x59032d=_0x4c684b>=0x0?'(+'+_0x4c684b+')':'('+_0x4c684b+')',_0x3c31d8=_0x1ec07d(0x27f)+_0x229822[_0x1ec07d(0x749)]+_0x1ec07d(0xc73)+_0x59032d+'</span>';return _0x1ec07d(0x63e)+_0x28196a+_0x1ec07d(0x8cf)+(_0x5cbaa7+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x44fcd+_0x1ec07d(0xcf8)+_0x3c31d8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x5cb450(0xe10)]('');let _0x61f357='';const _0xb8a958=_0x3790af?_0x4106cc>=_0x1aa3b7[_0x5cb450(0x283)]-0x1:_0x51ba86['currentQuestionIndex']>=_0x1aa3b7[_0x5cb450(0x283)]-0x1;_0xb8a958?_0x61f357=_0x5cb450(0x4a3):_0x61f357=_0x5cb450(0x249);const _0x4509a9=_0x5cb450(0x315)+_0x25c200+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x61f357+_0x5cb450(0x735);liveGameView['innerHTML']=_0x4509a9;}function renderStudentCompetitionResultsView(_0x438c7e,_0x1aae11){const _0x36297a=_0x1dab5f,_0x4af23f=Object[_0x36297a(0xb31)](_0x438c7e[_0x36297a(0x616)]||{}),_0x251b73=_0x1aae11,_0x52253b=_0x438c7e[_0x36297a(0xc9e)]||_0x36297a(0x32f),_0x3afd93=_0x438c7e[_0x36297a(0x8d3)][_0x36297a(0x3ef)],_0x24d605=_0x4af23f[_0x36297a(0xdc6)](_0x247334=>{const _0x1ae862=_0x36297a,_0xae4c86=_0x247334[_0x1ae862(0x3bb)]||0x0,_0x5d07e2=_0x247334[_0x1ae862(0x49c)]||0x0,_0x3f3447=(_0x247334['answers']||[])['filter'](_0x188ba4=>_0x52253b===_0x1ae862(0xcbc)?_0x188ba4['questionIndex']<=_0x251b73:!![]);return{..._0x247334,'realScore':_0xae4c86,'totalPoints':_0x5d07e2,'answers':_0x3f3447};}),_0x28cad5=_0x438c7e['isBlackMarketEnabled']===!![],_0x25699f=[..._0x24d605]['sort']((_0x32ad74,_0x5b0f87)=>{const _0x401faa=_0x36297a;if(_0x28cad5){const _0x2d80dd=_0x5b0f87['realScore']-_0x32ad74[_0x401faa(0x749)];if(_0x2d80dd!==0x0)return _0x2d80dd;const _0x409580=_0x5b0f87[_0x401faa(0x49c)]-_0x32ad74[_0x401faa(0x49c)];if(_0x409580!==0x0)return _0x409580;return(_0x32ad74['name']||'')[_0x401faa(0x46f)](_0x5b0f87[_0x401faa(0x4cc)]||'','th');}else{const _0x1b0120=_0x5b0f87[_0x401faa(0x49c)]-_0x32ad74[_0x401faa(0x49c)];if(_0x1b0120!==0x0)return _0x1b0120;const _0x97db75=_0x5b0f87[_0x401faa(0x749)]-_0x32ad74[_0x401faa(0x749)];if(_0x97db75!==0x0)return _0x97db75;return(_0x32ad74[_0x401faa(0x4cc)]||'')[_0x401faa(0x46f)](_0x5b0f87[_0x401faa(0x4cc)]||'','th');}}),_0x48db0=_0x25699f[_0x36297a(0xdc6)]((_0xb3bfc7,_0x543449)=>{const _0x1573c0=_0x36297a,_0x56466e='';let _0x2e17b8='bg-black/20';const _0x58519c=_0xb3bfc7['name'],_0x244bc9=_0x1573c0(0xd96),_0x35f234=_0x1573c0(0xb1b),_0x1b101d=_0x1573c0(0x3b5)+_0x244bc9+_0x1573c0(0xa56)+_0x58519c+_0x1573c0(0x7be)+_0x35f234+'\x22>'+_0x58519c+_0x1573c0(0x69f)+_0x56466e+_0x1573c0(0x30c),_0x5c34ac='';return _0x1573c0(0x63e)+_0x2e17b8+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0x543449+0x1)+_0x1573c0(0x6ea)+_0x1b101d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c34ac+_0x1573c0(0x5d2);})[_0x36297a(0xe10)]('');let _0x2b6027='';const _0x26fc3d=_0x52253b===_0x36297a(0xcbc)?_0x438c7e[_0x36297a(0x14d)]>=_0x3afd93[_0x36297a(0x283)]-0x1:_0x438c7e[_0x36297a(0xd02)]>=_0x3afd93['length']-0x1;_0x26fc3d?_0x2b6027='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x2b6027=_0x36297a(0x249);const _0x23bca8=_0x36297a(0x777)+_0x48db0+_0x36297a(0x19d)+_0x2b6027+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x36297a(0x90d)]=_0x23bca8;}function renderStudentSyncQuestionView(_0x78be2d){const _0x6cb6c0=_0x1dab5f,_0x4f1a0a=localTeamPlayers[_0x6cb6c0(0x794)](_0x34803e=>_0x78be2d[_0x6cb6c0(0x616)][_0x34803e]&&_0x78be2d[_0x6cb6c0(0x616)][_0x34803e][_0x6cb6c0(0xc2c)]===![]);if(!_0x4f1a0a){console['log']('No\x20unanswered\x20players\x20found.\x20Waiting...');return;}const _0x4f36f9=_0x78be2d[_0x6cb6c0(0x616)][_0x4f1a0a],_0x2d9c1d=_0x4f36f9['totalPoints']||0x0,_0x237c00=_0x4f36f9['powerups']||{},_0x1541a3=_0x78be2d[_0x6cb6c0(0xc9e)]||_0x6cb6c0(0x32f),_0xc0b33b=[_0x6cb6c0(0xcbc),_0x6cb6c0(0xb2c),_0x6cb6c0(0xd88)][_0x6cb6c0(0x87f)](_0x1541a3),_0x45c968=_0x78be2d['currentQuestionIndex'],_0x54d8c4=_0x78be2d[_0x6cb6c0(0x8d3)][_0x6cb6c0(0x3ef)][_0x6cb6c0(0x283)],_0x4b5d93=_0x78be2d[_0x6cb6c0(0x8d3)][_0x6cb6c0(0x3ef)][_0x45c968],_0x35d7c2=_0x4b5d93[_0x6cb6c0(0x5c5)]||_0x78be2d[_0x6cb6c0(0x8d3)][_0x6cb6c0(0x11f)];let _0x369161='',_0x33d898=![];const _0x5784bb='hiddenOptions_q'+_0x45c968+'_p'+_0x4f1a0a,_0x1617d7=JSON['parse'](sessionStorage[_0x6cb6c0(0x4a8)](_0x5784bb)||'[]')[_0x6cb6c0(0xdc6)](String),_0x315c21=_0x6cb6c0(0x93e)+_0x45c968+'_p'+_0x4f1a0a,_0x47c171=sessionStorage[_0x6cb6c0(0x4a8)](_0x315c21);switch(_0x35d7c2){case _0x6cb6c0(0x66d):const _0x5bfbf5=_0x1617d7[_0x6cb6c0(0x87f)]('0')?'':_0x6cb6c0(0x51f),_0x53d862=_0x1617d7[_0x6cb6c0(0x87f)]('1')?'':_0x6cb6c0(0x83d);_0x369161=_0x5bfbf5+_0x53d862;break;case _0x6cb6c0(0xb16):case'fill_in_no_choices':_0x33d898=!![],_0x369161='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x6cb6c0(0x6ca):_0x33d898=!![],_0x369161='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4b5d93[_0x6cb6c0(0x9cb)]||[])[_0x6cb6c0(0xdc6)](_0x2f7c31=>_0x6cb6c0(0x397)+_0x2f7c31+'\x22>'+_0x2f7c31+_0x6cb6c0(0x460))[_0x6cb6c0(0xe10)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x6cb6c0(0x423):default:_0x369161=(_0x4b5d93[_0x6cb6c0(0x381)]||[])[_0x6cb6c0(0xdc6)]((_0x4ebe5d,_0x21ed3a)=>{const _0x805acb=_0x6cb6c0;if(_0x1617d7['includes'](_0x21ed3a[_0x805acb(0xbe3)]()))return'';return _0x805acb(0x829)+_0x21ed3a+_0x805acb(0x6a0)+_0x4ebe5d+_0x805acb(0x5a9);})[_0x6cb6c0(0xe10)]('');break;}let _0x4e49af='';_0x78be2d[_0x6cb6c0(0xcc5)]===_0x6cb6c0(0x591)&&(_0x4e49af=_0x6cb6c0(0x79f)+_0x78be2d['timerDuration']+_0x6cb6c0(0x644));let _0xf603f7='';if(_0x78be2d[_0x6cb6c0(0x9a1)]===!![]){if(_0xc0b33b)!_0x47c171&&(_0xf603f7=_0x6cb6c0(0x7f0));else{const _0x1e58f9=[_0x237c00[_0x6cb6c0(0xbde)]>0x0?_0x6cb6c0(0x29f)+_0x237c00[_0x6cb6c0(0xbde)]+_0x6cb6c0(0xd41):'',_0x237c00[_0x6cb6c0(0xd72)]>0x0?_0x6cb6c0(0x775)+_0x237c00['cutOne']+_0x6cb6c0(0xd41):'',_0x237c00[_0x6cb6c0(0x71d)]>0x0?_0x6cb6c0(0xaa1)+_0x237c00[_0x6cb6c0(0x71d)]+_0x6cb6c0(0xd41):'',_0x237c00[_0x6cb6c0(0x16c)]>0x0?_0x6cb6c0(0x8f7)+_0x237c00[_0x6cb6c0(0x16c)]+_0x6cb6c0(0xd41):'',_0x237c00[_0x6cb6c0(0x27e)]>0x0?'<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20('+_0x237c00[_0x6cb6c0(0x27e)]+_0x6cb6c0(0xd41):''][_0x6cb6c0(0x3be)](Boolean)[_0x6cb6c0(0xe10)]('\x20');let _0x3d143a=_0x6cb6c0(0xa6b)+_0x2d9c1d+'\x20P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';!_0x47c171&&(_0x3d143a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22bg-yellow-400\x20text-yellow-900\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xf603f7=_0x6cb6c0(0x5f1)+_0x3d143a+_0x6cb6c0(0x579)+(_0x1e58f9||'')+_0x6cb6c0(0x4bd);}}let _0x304568='';_0x4f36f9[_0x6cb6c0(0xca6)]===!![]&&(_0x304568+=_0x6cb6c0(0x788));_0x4f36f9[_0x6cb6c0(0xd4e)]===!![]&&(_0x304568+=_0x6cb6c0(0xac5));if(_0x47c171)switch(_0x47c171){case'wagerMultiplier':const _0x522047=_0xc0b33b?_0x6cb6c0(0xa86):_0x6cb6c0(0xcf1);_0x304568+=_0x6cb6c0(0x5ff)+_0x522047+'\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x6cb6c0(0x71d):_0x304568+=_0x6cb6c0(0xabb);break;case _0x6cb6c0(0x27e):_0x304568+=_0x6cb6c0(0xc1c);break;case _0x6cb6c0(0xd72):_0x304568+=_0x6cb6c0(0x81e);break;case _0x6cb6c0(0x16c):_0x304568+=_0x6cb6c0(0x5bb);break;}(_0x4f36f9[_0x6cb6c0(0x24d)]||0x0)>0x0&&(_0x304568+=_0x6cb6c0(0xc8f));liveGameView[_0x6cb6c0(0x90d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x45c968+0x1)+'\x20/\x20'+_0x54d8c4+_0x6cb6c0(0xc91)+_0x4f1a0a+_0x6cb6c0(0xc7c)+_0x4e49af+_0x6cb6c0(0x697)+_0xf603f7+_0x6cb6c0(0x9cc)+_0x304568+_0x6cb6c0(0x918)+(_0x4b5d93[_0x6cb6c0(0x8c4)]||_0x4b5d93[_0x6cb6c0(0xd64)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x369161+_0x6cb6c0(0xcc2);if(window[_0x6cb6c0(0x972)])MathJax[_0x6cb6c0(0xde3)]();function _0x5b8483(_0x4d59b6,_0xd4e959,_0x271ffa,_0x2f8d7b){const _0x303513=_0x6cb6c0,_0xa4dd0=_0x271ffa['isConfidenceScoringEnabled']===!![],_0x5414a5=_0x271ffa['currentQuestionIndex'],_0x1ea3b4='powerupUsed_q'+_0x5414a5+'_p'+_0x2f8d7b,_0x1a4d95=sessionStorage[_0x303513(0x4a8)](_0x1ea3b4),_0x1fa5b4=_0x1a4d95===_0x303513(0x3ca),_0x3a7888=_0x271ffa[_0x303513(0x616)][_0x2f8d7b];if(_0x1fa5b4){const _0x42de30=sessionStorage[_0x303513(0x4a8)](_0x303513(0xba3))===_0x303513(0x6cf);if(_0xc0b33b||_0x42de30){const _0x4d0918=_0x3a7888[_0x303513(0x49c)]||0x0;sessionStorage['removeItem'](_0x303513(0xba3)),handleSyncAnswerSubmit(_0x4d59b6,_0xd4e959,_0x271ffa,_0x2f8d7b,![],_0x4d0918);}else{const _0x319885=document[_0x303513(0x242)](_0x303513(0x6da)),_0x148c4c=document['getElementById']('wager-slider'),_0x1fd3fc=document['getElementById'](_0x303513(0x396)),_0x4f34a4=document[_0x303513(0x242)](_0x303513(0xb57)),_0x54a3d4=_0x3a7888[_0x303513(0x49c)]||0x0;_0x148c4c[_0x303513(0xcd3)]=_0x54a3d4,_0x148c4c[_0x303513(0xbfb)]=_0x54a3d4,_0x1fd3fc[_0x303513(0xafa)]=_0x54a3d4,_0x4f34a4[_0x303513(0xafa)]=_0x54a3d4,_0x148c4c[_0x303513(0xb8d)]=()=>{const _0x5c8703=_0x303513;_0x1fd3fc[_0x5c8703(0xafa)]=_0x148c4c[_0x5c8703(0xbfb)];};const _0x35471d=document[_0x303513(0x242)](_0x303513(0x31a));_0x35471d[_0x303513(0xb42)][_0x303513(0x3a6)]=_0x4d59b6,_0x35471d['dataset'][_0x303513(0x7e7)]=JSON[_0x303513(0x3a5)](_0xd4e959),_0x35471d[_0x303513(0xb42)][_0x303513(0xa36)]=JSON[_0x303513(0x3a5)](_0x271ffa),_0x35471d[_0x303513(0xb42)][_0x303513(0x30e)]=_0x2f8d7b,_0x319885[_0x303513(0xe19)]['remove'](_0x303513(0x414));}}else{if(_0xa4dd0){document[_0x303513(0x242)](_0x303513(0xdd7))[_0x303513(0xb42)][_0x303513(0xb05)]='sync';const _0x27b625=document['getElementById'](_0x303513(0x4a1));_0x27b625[_0x303513(0xb42)][_0x303513(0x3a6)]=_0x4d59b6,_0x27b625[_0x303513(0xb42)][_0x303513(0x7e7)]=JSON[_0x303513(0x3a5)](_0xd4e959),_0x27b625['dataset']['gameData']=JSON[_0x303513(0x3a5)](_0x271ffa),_0x27b625[_0x303513(0xb42)][_0x303513(0x30e)]=_0x2f8d7b,document[_0x303513(0x242)](_0x303513(0xdd7))[_0x303513(0xe19)]['remove'](_0x303513(0x414));}else handleSyncAnswerSubmit(_0x4d59b6,_0xd4e959,_0x271ffa,_0x2f8d7b,![],0x0);}}_0x33d898?document[_0x6cb6c0(0x242)]('sync-submit-btn')['addEventListener'](_0x6cb6c0(0xc23),()=>{const _0x34bb57=_0x6cb6c0,_0x8a0c4f=document['getElementById'](_0x34bb57(0xdc8))||document['getElementById'](_0x34bb57(0x135));if(_0x8a0c4f[_0x34bb57(0xbfb)]['trim']()===''){showMessage(_0x34bb57(0x748));return;}_0x5b8483(_0x8a0c4f[_0x34bb57(0xbfb)],_0x4b5d93,_0x78be2d,_0x4f1a0a);}):document[_0x6cb6c0(0x99b)]('.live-answer-btn')[_0x6cb6c0(0xbdf)](_0x3a07ef=>{const _0x4c57ff=_0x6cb6c0;_0x3a07ef[_0x4c57ff(0x264)](_0x4c57ff(0xc23),()=>{const _0x515579=_0x4c57ff;_0x5b8483(_0x3a07ef['dataset'][_0x515579(0xbfb)],_0x4b5d93,_0x78be2d,_0x4f1a0a);});});if(_0x78be2d[_0x6cb6c0(0x9a1)]===!![]){if(!_0xc0b33b){const _0x2ad5c4=document[_0x6cb6c0(0x242)]('open-market-btn');_0x2ad5c4&&_0x2ad5c4[_0x6cb6c0(0x264)](_0x6cb6c0(0xc23),()=>{const _0xca3f5d=_0x6cb6c0,_0x1d5e15=_0x78be2d['currentQuestionIndex'],_0x43f103=_0x4f1a0a,_0x484aa5='freeMarketEntryUsed_q'+_0x1d5e15+'_p'+_0x43f103,_0x341235=sessionStorage['getItem'](_0x484aa5)===_0xca3f5d(0x6cf);if(!_0x341235)openBlackMarket(_0x78be2d,_0x4f36f9),sessionStorage[_0xca3f5d(0x851)](_0x484aa5,_0xca3f5d(0x6cf));else{if(_0x4f36f9[_0xca3f5d(0x49c)]<0x1){showMessage(_0xca3f5d(0xa7c));return;}showConfirmation(_0xca3f5d(0x8e5),()=>{handlePayForMarketEntry(_0x4f1a0a,_0x78be2d,_0x4f36f9);});}}),document[_0x6cb6c0(0x242)](_0x6cb6c0(0xdee))?.[_0x6cb6c0(0x264)](_0x6cb6c0(0xc23),_0x4a4e84=>{const _0x173b08=_0x6cb6c0;_0x4a4e84[_0x173b08(0x230)]['disabled']=!![],handleUsePowerup(_0x4f1a0a,_0x173b08(0xbde),_0x4b5d93,_0x78be2d,_0x4f36f9);}),document[_0x6cb6c0(0x242)](_0x6cb6c0(0x4a9))?.[_0x6cb6c0(0x264)]('click',_0x35f494=>{const _0x5801a6=_0x6cb6c0;_0x35f494[_0x5801a6(0x230)]['disabled']=!![],handleUsePowerup(_0x4f1a0a,_0x5801a6(0xd72),_0x4b5d93,_0x78be2d,_0x4f36f9);}),document[_0x6cb6c0(0x242)](_0x6cb6c0(0x996))?.[_0x6cb6c0(0x264)](_0x6cb6c0(0xc23),_0x407493=>{const _0x565b33=_0x6cb6c0;_0x407493['target'][_0x565b33(0xd66)]=!![],handleUsePowerup(_0x4f1a0a,'insurance',_0x4b5d93,_0x78be2d,_0x4f36f9);}),document[_0x6cb6c0(0x242)](_0x6cb6c0(0x787))?.[_0x6cb6c0(0x264)](_0x6cb6c0(0xc23),_0x40c132=>{const _0x5da572=_0x6cb6c0;_0x40c132[_0x5da572(0x230)][_0x5da572(0xd66)]=!![],handleUsePowerup(_0x4f1a0a,_0x5da572(0x16c),_0x4b5d93,_0x78be2d,_0x4f36f9);}),document['getElementById']('use-powerup-secondChance')?.[_0x6cb6c0(0x264)]('click',_0x2dd6fb=>{const _0x55e6fd=_0x6cb6c0;_0x2dd6fb[_0x55e6fd(0x230)]['disabled']=!![],handleUsePowerup(_0x4f1a0a,_0x55e6fd(0x27e),_0x4b5d93,_0x78be2d,_0x4f36f9);}),document[_0x6cb6c0(0x242)]('use-powerup-wagerMultiplier')?.[_0x6cb6c0(0x264)](_0x6cb6c0(0xc23),_0xb4f276=>{const _0xa6c5c1=_0x6cb6c0;_0xb4f276['target']['disabled']=!![],sessionStorage[_0xa6c5c1(0x851)](_0xa6c5c1(0xba3),'false'),handleUsePowerup(_0x4f1a0a,'wagerMultiplier',_0x4b5d93,_0x78be2d,_0x4f36f9);});}document[_0x6cb6c0(0x242)]('use-powerup-wagerMultiplier-instant')?.[_0x6cb6c0(0x264)]('click',_0x299d3d=>{const _0x2aaa91=_0x6cb6c0;_0x299d3d[_0x2aaa91(0x230)][_0x2aaa91(0xd66)]=!![],sessionStorage[_0x2aaa91(0x851)](_0x2aaa91(0xba3),_0x2aaa91(0x6cf)),handleUsePowerup(_0x4f1a0a,_0x2aaa91(0x3ca),_0x4b5d93,_0x78be2d,_0x4f36f9);});}}async function handleSyncAnswerSubmit(_0x3aebb5,_0x3b2687,_0x555380,_0xbcf77b,_0x33eede,_0x26da5c=0x0){const _0x10e9ff=_0x1dab5f;document[_0x10e9ff(0x99b)](_0x10e9ff(0xabf))[_0x10e9ff(0xbdf)](_0x14555e=>_0x14555e[_0x10e9ff(0xd66)]=!![]);const _0x1faf54=_0x555380['currentQuestionIndex'],_0x1dc11c=_0x10e9ff(0x93e)+_0x1faf54+'_p'+_0xbcf77b,_0x4cc3ff=sessionStorage[_0x10e9ff(0x4a8)](_0x1dc11c),_0x46dd80=_0x555380[_0x10e9ff(0x616)][_0xbcf77b]||{},_0x5f2d40=_0x46dd80['isForcedConfident']===!![],_0x4b6da5=sessionStorage[_0x10e9ff(0x4a8)](_0x10e9ff(0x662))===_0x10e9ff(0x6cf),_0x5158b5=_0x3b2687[_0x10e9ff(0x5c5)]||_0x555380['shuffledQuiz'][_0x10e9ff(0x11f)];let _0x1b716f=![],_0x2ffb88=_0x3aebb5;switch(_0x5158b5){case _0x10e9ff(0x66d):const _0x181055=parseInt(_0x3aebb5),_0xe6d2df=_0x3b2687[_0x10e9ff(0xbec)]===!![]||String(_0x3b2687[_0x10e9ff(0xbec)])['toLowerCase']()===_0x10e9ff(0x6cf);_0x1b716f=_0x181055===0x0&&_0xe6d2df||_0x181055===0x1&&!_0xe6d2df,_0x2ffb88=_0x181055===0x0?_0x10e9ff(0x995):_0x10e9ff(0x790);break;case _0x10e9ff(0xb16):case _0x10e9ff(0xd9f):_0x1b716f=await gradeShortAnswer(_0x3aebb5,_0x3b2687);break;case _0x10e9ff(0x6ca):_0x1b716f=_0x3aebb5===_0x3b2687[_0x10e9ff(0x38f)];break;case _0x10e9ff(0x423):default:const _0x1aa5d9=parseInt(_0x3aebb5);_0x1b716f=_0x1aa5d9===_0x3b2687[_0x10e9ff(0xd79)];_0x3b2687[_0x10e9ff(0x381)]&&_0x3b2687[_0x10e9ff(0x381)][_0x1aa5d9]&&(_0x2ffb88=_0x3b2687[_0x10e9ff(0x381)][_0x1aa5d9]);break;}if(!_0x1b716f&&_0x4cc3ff===_0x10e9ff(0x27e)&&!_0x4b6da5){sessionStorage[_0x10e9ff(0x415)](_0x1dc11c),sessionStorage[_0x10e9ff(0x851)]('onSecondChance','true'),showMessage(_0x10e9ff(0xba6)),document[_0x10e9ff(0x99b)](_0x10e9ff(0xabf))[_0x10e9ff(0xbdf)](_0x31288c=>{const _0x363676=_0x10e9ff;if(!_0x31288c[_0x363676(0xe19)][_0x363676(0x52e)]('hidden'))_0x31288c[_0x363676(0xd66)]=![];});return;}let _0x5dad1b=0x0;const _0x356b2b=_0x4cc3ff==='wagerMultiplier',_0x34f832=_0x4cc3ff===_0x10e9ff(0x71d),_0x2a6fda=sessionStorage[_0x10e9ff(0x4a8)](_0x10e9ff(0xdcf))===_0x10e9ff(0x6cf),_0x488ba2=_0x46dd80[_0x10e9ff(0xca6)]===!![];if(_0x356b2b){const _0x8e8a2d=parseInt(_0x26da5c,0xa)||0x0;_0x5dad1b=_0x1b716f?_0x8e8a2d*0x2:-_0x8e8a2d;}else{if(_0x2a6fda&&!_0x1b716f)_0x5dad1b=_0x33eede===!![]||_0x33eede===_0x10e9ff(0x198)||_0x5f2d40?-0x4:-0x2;else{if(_0x5f2d40)_0x5dad1b=_0x1b716f?0x2:-0x1;else{if(_0x555380[_0x10e9ff(0x627)]){if(_0x1b716f&&(_0x33eede===!![]||_0x33eede===_0x10e9ff(0x198)))_0x5dad1b=0x2;else{if(_0x1b716f)_0x5dad1b=0x1;else{if(!_0x1b716f&&(_0x33eede===![]||_0x33eede===_0x10e9ff(0xa34)||_0x33eede===null))_0x5dad1b=0x0;else{if(!_0x1b716f&&(_0x33eede===!![]||_0x33eede==='confident'))_0x5dad1b=-0x1;}}}}else _0x5dad1b=_0x1b716f?0x1:0x0;}}}if(_0x488ba2&&!_0x1b716f&&_0x5dad1b<0x0)_0x5dad1b*=0x2;if(!_0x1b716f&&_0x34f832)_0x5dad1b=0x0;const _0x887a93=(_0x46dd80[_0x10e9ff(0x24d)]||0x0)>0x0,_0x56065e={'questionIndex':_0x555380[_0x10e9ff(0xd02)],'questionId':_0x3b2687['id'],'answer':_0x3aebb5,'answerText':_0x2ffb88,'isCorrect':_0x1b716f,'originalQuestionText':_0x3b2687[_0x10e9ff(0x8c4)]||_0x3b2687['stem'],'wasConfident':_0x5f2d40?_0x10e9ff(0x198):_0x33eede||![],'pointsAwarded':_0x5dad1b,'powerupUsed':_0x4cc3ff||null,'wasJinxed':_0x488ba2||![],'wasForced':_0x5f2d40||![],'usedPoll':_0x2a6fda||![],'usedBuyTime':_0x887a93},_0x17ff1c=doc(db,_0x10e9ff(0xb99)+appId+_0x10e9ff(0x407)+currentLiveGameId+'/players',_0xbcf77b),_0x1f1228=_0x46dd80[_0x10e9ff(0x922)]||[],_0x2bee29=_0x1f1228['filter'](_0x28708b=>_0x28708b['questionIndex']!==_0x555380[_0x10e9ff(0xd02)]),_0x5eb659=[..._0x2bee29,_0x56065e],_0x28cd8a=_0x5eb659[_0x10e9ff(0x3be)](_0x1a6482=>_0x1a6482[_0x10e9ff(0x56f)])[_0x10e9ff(0x283)],_0x24496b={'answers':_0x5eb659,'score':_0x28cd8a,'totalPoints':increment(_0x5dad1b),'answered':!![],'lastAnswerIndex':_0x5158b5===_0x10e9ff(0x423)||_0x5158b5===_0x10e9ff(0x66d)||_0x5158b5===_0x10e9ff(0xd36)?parseInt(_0x3aebb5):null,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};if(_0x4b6da5)sessionStorage[_0x10e9ff(0x415)]('onSecondChance');try{await updateDoc(_0x17ff1c,_0x24496b);}catch(_0x167f06){console[_0x10e9ff(0xd98)](_0x10e9ff(0x61c),_0x167f06),showMessage(_0x10e9ff(0x2f9)),document[_0x10e9ff(0x99b)](_0x10e9ff(0xabf))[_0x10e9ff(0xbdf)](_0x168173=>_0x168173[_0x10e9ff(0xd66)]=![]);}}const allMarketItems=[{'id':_0x1dab5f(0xbde),'name':_0x1dab5f(0x2e7),'price':0x1,'desc':_0x1dab5f(0x53a)},{'id':_0x1dab5f(0xd72),'name':_0x1dab5f(0x695),'price':0x2,'desc':_0x1dab5f(0xceb)},{'id':_0x1dab5f(0x16c),'name':'🌗\x2050:50','price':0x5,'desc':_0x1dab5f(0xb4c)},{'id':_0x1dab5f(0x27e),'name':_0x1dab5f(0x935),'price':0x7,'desc':_0x1dab5f(0x18f)}];function openBlackMarket(_0x37e6df,_0x2eb460){const _0x16180a=_0x1dab5f;let _0x3c75d9=null;const _0x60370b=document[_0x16180a(0x242)](_0x16180a(0x6c6)),_0xa67f45=document[_0x16180a(0x242)](_0x16180a(0x385)),_0x188349=document[_0x16180a(0x242)](_0x16180a(0x5bc)),_0x90922c=document[_0x16180a(0x242)]('market-timer-bar'),_0x5abaa3=_0x2eb460[_0x16180a(0x49c)]||0x0;_0x188349[_0x16180a(0xafa)]=_0x5abaa3;const _0x5a0df2=allMarketItems;_0xa67f45[_0x16180a(0x90d)]=_0x5a0df2[_0x16180a(0xdc6)](_0x1b3dc8=>{const _0x10c4b0=_0x16180a,_0x4a96bf=_0x5abaa3>=_0x1b3dc8[_0x10c4b0(0x156)];if(_0x1b3dc8['id']===_0x10c4b0(0xbde)){const _0x401b1c=_0x4a96bf?Math['floor'](_0x5abaa3/_0x1b3dc8[_0x10c4b0(0x156)]):0x0,_0x4e2b96=_0x5abaa3>=_0x1b3dc8[_0x10c4b0(0x156)];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20'+(!_0x4e2b96?_0x10c4b0(0xcbf):'bg-white')+_0x10c4b0(0x7d2)+_0x1b3dc8[_0x10c4b0(0x4cc)]+_0x10c4b0(0xd73)+_0x1b3dc8[_0x10c4b0(0x990)]+_0x10c4b0(0xba8)+_0x401b1c+'\x22\x20'+(!_0x4e2b96?_0x10c4b0(0xd66):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20'+(_0x4e2b96?_0x10c4b0(0x1b1):'bg-gray-400')+_0x10c4b0(0x682)+_0x1b3dc8['id']+_0x10c4b0(0x3aa)+_0x1b3dc8[_0x10c4b0(0x156)]+_0x10c4b0(0xbb5)+(!_0x4e2b96?_0x10c4b0(0xd66):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20('+_0x1b3dc8['price']+'P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x159742=!_0x4a96bf?_0x10c4b0(0xd66):'',_0x2daa2a=_0x4a96bf?_0x10c4b0(0x1b1):_0x10c4b0(0xe16);return _0x10c4b0(0x6be)+(!_0x4a96bf?_0x10c4b0(0xcbf):'bg-white')+_0x10c4b0(0x7d2)+_0x1b3dc8[_0x10c4b0(0x4cc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x1b3dc8[_0x10c4b0(0x990)]+_0x10c4b0(0x51a)+_0x2daa2a+_0x10c4b0(0x3ae)+_0x1b3dc8['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x1b3dc8[_0x10c4b0(0x156)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x159742+_0x10c4b0(0xbb6)+_0x1b3dc8['price']+_0x10c4b0(0x997);}})[_0x16180a(0xe10)](''),_0x60370b[_0x16180a(0xe19)][_0x16180a(0x677)](_0x16180a(0x414)),_0x90922c[_0x16180a(0x271)][_0x16180a(0x211)]='none',_0x90922c[_0x16180a(0x271)][_0x16180a(0xa5b)]=_0x16180a(0x2ed),setTimeout(()=>{const _0x4b71be=_0x16180a;_0x90922c[_0x4b71be(0x271)][_0x4b71be(0x211)]=_0x4b71be(0x4e3),_0x90922c[_0x4b71be(0x271)][_0x4b71be(0xa5b)]='0%';},0x32),_0x3c75d9=setTimeout(()=>{const _0x29d9d9=_0x16180a;_0x60370b[_0x29d9d9(0xe19)][_0x29d9d9(0x27c)](_0x29d9d9(0x414));},0xea60),document[_0x16180a(0x242)](_0x16180a(0x8dd))[_0x16180a(0x3d9)]=()=>{const _0xf3e5b2=_0x16180a;clearTimeout(_0x3c75d9),_0x60370b[_0xf3e5b2(0xe19)]['add']('hidden');},_0xa67f45['querySelectorAll'](_0x16180a(0x21e))[_0x16180a(0xbdf)](_0x4f9cd0=>{const _0x4f55b1=_0x16180a;_0x4f9cd0[_0x4f55b1(0x3d9)]=_0x2b4d70=>{const _0xe6f73b=_0x4f55b1,_0xcfc5b9=_0x2b4d70['target'][_0xe6f73b(0xb42)][_0xe6f73b(0x960)],_0x14248b=parseInt(_0x2b4d70[_0xe6f73b(0x230)][_0xe6f73b(0xb42)]['price'],0xa);clearTimeout(_0x3c75d9),_0x60370b[_0xe6f73b(0xe19)][_0xe6f73b(0x27c)](_0xe6f73b(0x414)),handleBuyItem(_0x2eb460[_0xe6f73b(0x4cc)],_0xcfc5b9,_0x14248b,0x1);};}),_0xa67f45[_0x16180a(0x99b)](_0x16180a(0xae0))[_0x16180a(0xbdf)](_0x2cd3ba=>{_0x2cd3ba['onclick']=_0x271e69=>{const _0x1fbb8b=_0x5ef1,_0x573afb=_0x271e69[_0x1fbb8b(0x230)][_0x1fbb8b(0xb42)][_0x1fbb8b(0x960)],_0x1b35eb=parseInt(_0x271e69[_0x1fbb8b(0x230)][_0x1fbb8b(0xb42)][_0x1fbb8b(0x156)],0xa),_0x43ad62=document[_0x1fbb8b(0x242)](_0x1fbb8b(0x7a8)),_0x2ba9e6=parseInt(_0x43ad62[_0x1fbb8b(0xbfb)],0xa),_0x397696=parseInt(_0x43ad62[_0x1fbb8b(0xcd3)],0xa);if(!_0x2ba9e6||_0x2ba9e6<0x1){showMessage(_0x1fbb8b(0x1bd));return;}if(_0x2ba9e6>_0x397696){showMessage(_0x1fbb8b(0xb40)+_0x397696+_0x1fbb8b(0x40e));return;}clearTimeout(_0x3c75d9),_0x60370b[_0x1fbb8b(0xe19)][_0x1fbb8b(0x27c)](_0x1fbb8b(0x414)),handleBuyItem(_0x2eb460[_0x1fbb8b(0x4cc)],_0x573afb,_0x1b35eb,_0x2ba9e6);};});}async function handleBuyItem(_0x23dcdd,_0x101ee7,_0xa21add,_0x4cb35f=0x1){const _0x7ddc23=_0x1dab5f,_0x3b018d=doc(db,_0x7ddc23(0xb99)+appId+_0x7ddc23(0x407)+currentLiveGameId+_0x7ddc23(0xa0d),_0x23dcdd);try{await runTransaction(db,async _0x433a7e=>{const _0xef316c=_0x7ddc23,_0x23ad38=await _0x433a7e[_0xef316c(0x2df)](_0x3b018d);if(!_0x23ad38['exists']())throw _0xef316c(0xde0);const _0x4af000=_0x23ad38[_0xef316c(0x1f1)]()[_0xef316c(0x49c)]||0x0,_0x54e411=_0xa21add*_0x4cb35f;if(_0x4af000<_0x54e411)throw _0xef316c(0x5d4);const _0x31e90d={};_0x31e90d[_0xef316c(0x49c)]=increment(-_0x54e411),_0x31e90d[_0xef316c(0x6e1)+_0x101ee7]=increment(_0x4cb35f),_0x433a7e[_0xef316c(0x160)](_0x3b018d,_0x31e90d);}),showMessage('ซื้อ\x20\x22'+_0x101ee7+'\x22\x20x'+_0x4cb35f+'\x20สำเร็จ!');}catch(_0x5cb33d){console[_0x7ddc23(0xd98)](_0x7ddc23(0xb00),_0x5cb33d),showMessage(typeof _0x5cb33d===_0x7ddc23(0xa06)?_0x5cb33d:_0x7ddc23(0xc21));}}async function handlePayForMarketEntry(_0x52d4d6,_0x47e052,_0x3e6d44){const _0x371c8c=_0x1dab5f,_0x4c1b3c=doc(db,_0x371c8c(0xb99)+appId+_0x371c8c(0x407)+currentLiveGameId+_0x371c8c(0xa0d),_0x52d4d6);try{await runTransaction(db,async _0xee366=>{const _0x5d142a=_0x371c8c,_0x28cbd1=await _0xee366[_0x5d142a(0x2df)](_0x4c1b3c);if(!_0x28cbd1[_0x5d142a(0xb96)]())throw _0x5d142a(0xde0);const _0x53d8a8=_0x28cbd1[_0x5d142a(0x1f1)]()[_0x5d142a(0x49c)]||0x0;if(_0x53d8a8<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0xba2176={};_0xba2176['totalPoints']=increment(-0x1),_0xee366[_0x5d142a(0x160)](_0x4c1b3c,_0xba2176);});const _0x3a8b72={..._0x3e6d44,'totalPoints':(_0x3e6d44[_0x371c8c(0x49c)]||0x0)-0x1};openBlackMarket(_0x47e052,_0x3a8b72);}catch(_0x139abe){console[_0x371c8c(0xd98)](_0x371c8c(0x720),_0x139abe),showMessage(typeof _0x139abe===_0x371c8c(0xa06)?_0x139abe:_0x371c8c(0x32c));}}initialize();
