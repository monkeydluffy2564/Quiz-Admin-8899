const _0x1ca595=_0x2406;(function(_0x1ff448,_0x1f9279){const _0x50c4fb=_0x2406,_0xea98ed=_0x1ff448();while(!![]){try{const _0x121097=parseInt(_0x50c4fb(0x78f))/0x1*(-parseInt(_0x50c4fb(0xd04))/0x2)+parseInt(_0x50c4fb(0x708))/0x3+-parseInt(_0x50c4fb(0x4c2))/0x4+parseInt(_0x50c4fb(0xbfc))/0x5+-parseInt(_0x50c4fb(0x8a7))/0x6*(-parseInt(_0x50c4fb(0x31e))/0x7)+-parseInt(_0x50c4fb(0x3b2))/0x8+parseInt(_0x50c4fb(0x7a6))/0x9;if(_0x121097===_0x1f9279)break;else _0xea98ed['push'](_0xea98ed['shift']());}catch(_0xd7c06d){_0xea98ed['push'](_0xea98ed['shift']());}}}(_0x98ef,0xf0522));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=['นักล่าฝัน',_0x1ca595(0x4d7),'เทพทรู',_0x1ca595(0x589),_0x1ca595(0xba9),'เต่าสายฟ้า','โลมาบิน','สิงโตยิ้ม',_0x1ca595(0x6ff),'จิงโจ้สโลว์ไลฟ์','ผู้พิชิตดาว',_0x1ca595(0x1a7),_0x1ca595(0xcde),_0x1ca595(0x5b7),_0x1ca595(0x76d),_0x1ca595(0x367),_0x1ca595(0xa96),_0x1ca595(0x64c),_0x1ca595(0x92f),'มังกรกินจุ',_0x1ca595(0x1ac),_0x1ca595(0x2b6),_0x1ca595(0xad3),'ไก่ฟ้าพญาลอ',_0x1ca595(0x5e5),_0x1ca595(0xd0d),'กระต่ายตื่นตูม',_0x1ca595(0x7d3),_0x1ca595(0x15c),_0x1ca595(0xb29),'ยอดนักสืบ',_0x1ca595(0xd2c),'คนดีศรีสยาม',_0x1ca595(0x41f),_0x1ca595(0x9d1),_0x1ca595(0x23a),_0x1ca595(0x962),_0x1ca595(0x11d),_0x1ca595(0x4d4),'ดาวสภา','กาแฟขม',_0x1ca595(0xc1),_0x1ca595(0x8a3),_0x1ca595(0x899),'ไอติมทอด','ข้าวมันไก่พิเศษ',_0x1ca595(0xbad),'ครัวซองต์',_0x1ca595(0xe8),_0x1ca595(0xbd0),_0x1ca595(0x890),_0x1ca595(0x998),_0x1ca595(0xa33),'นอนไม่พอ',_0x1ca595(0x920),_0x1ca595(0xd7),_0x1ca595(0x3ce),_0x1ca595(0x9c),_0x1ca595(0xc36),_0x1ca595(0x6d4),'จันทร์เจ้า',_0x1ca595(0xa6a),_0x1ca595(0x829),_0x1ca595(0x4a9),_0x1ca595(0x887),_0x1ca595(0x1c9),_0x1ca595(0x2b0),'ภูเขา',_0x1ca595(0xa3d),'แม่น้ำ',_0x1ca595(0x702),_0x1ca595(0x8bc),_0x1ca595(0x7bd),'ศิลปิน',_0x1ca595(0x9d4),'นักเขียน',_0x1ca595(0xb75),_0x1ca595(0xb95),_0x1ca595(0xb27),_0x1ca595(0x6c6),'พลังคลื่นเต่า','ปล่อยพลัง',_0x1ca595(0x6df),_0x1ca595(0xb9d),_0x1ca595(0x98b),_0x1ca595(0x7b3),'ธอร์ค้อนบิน',_0x1ca595(0x78a),_0x1ca595(0x73f),'ฮัลค์',_0x1ca595(0x877),_0x1ca595(0xc9e),_0x1ca595(0x1e7),_0x1ca595(0x896),'เพื่อนสนิท',_0x1ca595(0xba8),_0x1ca595(0x880),'คนคุย',_0x1ca595(0x8f3),_0x1ca595(0x7e1)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x1ca595(0xa12),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x1ca595(0xa12),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x1ca595(0xa12),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x11b0fd=_0x1ca595;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x11b0fd(0x927)][_0x11b0fd(0x27c)](_0x11b0fd(0x400)),console[_0x11b0fd(0xa7f)](_0x11b0fd(0xba6)),wakeLock[_0x11b0fd(0x8d3)](_0x11b0fd(0x198),()=>{const _0x7e4e42=_0x11b0fd;console[_0x7e4e42(0xa7f)](_0x7e4e42(0xb96));});}catch(_0x20e32b){console['error'](_0x11b0fd(0x7c4)+_0x20e32b[_0x11b0fd(0xd33)]+',\x20'+_0x20e32b[_0x11b0fd(0xaee)]);}else console[_0x11b0fd(0x5c2)](_0x11b0fd(0xac));},releaseWakeLock=async()=>{const _0x357fb2=_0x1ca595;wakeLock!==null&&(await wakeLock[_0x357fb2(0x198)](),wakeLock=null,console[_0x357fb2(0xa7f)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2bd5bc=_0x1ca595;if(!document[_0x2bd5bc(0x742)][_0x2bd5bc(0x325)][_0x2bd5bc(0x9e8)](_0x2bd5bc(0x963))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x13f3f4=_0x2bd5bc;document['body'][_0x13f3f4(0x325)]['add'](_0x13f3f4(0x963)),console[_0x13f3f4(0xa7f)](_0x13f3f4(0x951));},inactivityTime);}}function wakeUpScreen(_0x6145a6){const _0x462ad1=_0x1ca595;_0x6145a6&&(_0x6145a6[_0x462ad1(0xb6c)](),_0x6145a6[_0x462ad1(0xd43)]());document[_0x462ad1(0x742)][_0x462ad1(0x325)]['remove'](_0x462ad1(0x963));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x470dca=_0x462ad1;document[_0x470dca(0x742)][_0x470dca(0x325)][_0x470dca(0xd3c)](_0x470dca(0x963));},inactivityTime);}function stopDimTimer(){const _0x3d1482=_0x1ca595;if(dimTimer)clearTimeout(dimTimer);document[_0x3d1482(0x742)]['classList'][_0x3d1482(0x419)](_0x3d1482(0x963)),window['removeEventListener'](_0x3d1482(0xc8b),resetDimTimer),window[_0x3d1482(0x524)](_0x3d1482(0x13e),resetDimTimer),window[_0x3d1482(0x524)](_0x3d1482(0x3a5),resetDimTimer),window['removeEventListener']('keydown',resetDimTimer),console[_0x3d1482(0xa7f)](_0x3d1482(0x4a3));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x3f4698,_0x2b43f0=![]){const _0x458eaa=_0x1ca595,_0x21e4be=allQuizzes['find'](_0x3fc564=>_0x3fc564['id']===_0x3f4698)||allQuizzesGlobal[_0x458eaa(0x2f4)](_0x718d61=>_0x718d61['id']===_0x3f4698);if(!_0x21e4be){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x21e4be);const _0x5baec7=Math[_0x458eaa(0xd51)](0x3e8+Math[_0x458eaa(0x6b8)]()*0x2328)['toString']();try{const _0x4ab15c=await addDoc(collection(db,'artifacts/'+appId+_0x458eaa(0x72b)),{'quizId':_0x21e4be['id'],'projectId':_0x21e4be['projectId'],'status':_0x458eaa(0xc7a),'pin':_0x5baec7,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2b43f0});currentTeamQuizId=_0x4ab15c['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x5baec7,_0x21e4be['topic']),listenForTeamQuizUpdates();}catch(_0x2d29ed){console['error']('Error\x20starting\x20team\x20quiz:',_0x2d29ed),showMessage(_0x458eaa(0xd78));}}function renderAdminTeamQuizDashboard(_0x241263,_0x28e88f,_0x43dba1='team'){const _0x438e1a=_0x1ca595,_0x340546=_0x43dba1===_0x438e1a(0x5db)?_0x438e1a(0x448):_0x438e1a(0x172);liveGameView['innerHTML']=_0x438e1a(0x255)+_0x340546+':\x20'+_0x28e88f+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x241263+_0x438e1a(0x8c6),document['getElementById'](_0x438e1a(0xb5a))[_0x438e1a(0x8d3)](_0x438e1a(0xc47),async()=>{const _0x1a07d6=_0x438e1a;showConfirmation(_0x1a07d6(0xb11),async()=>{const _0x38d16e=_0x1a07d6;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x38d16e(0x54a)+appId+_0x38d16e(0x72b),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x1528d3=_0x1ca595;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x41bde9=doc(db,_0x1528d3(0x54a)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x41bde9,_0x1b95dd=>{const _0x323256=_0x1528d3;if(!_0x1b95dd[_0x323256(0xa2b)]()){sessionStorage[_0x323256(0xe1)](_0x323256(0x5fd));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView(_0x323256(0xb63));return;}const _0x4722b8=_0x1b95dd[_0x323256(0xb6)]();if(currentMode==='admin'){if(_0x4722b8[_0x323256(0xaf3)]===_0x323256(0x5db)&&_0x4722b8[_0x323256(0x670)]!==_0x323256(0x5bc)&&_0x4722b8[_0x323256(0x670)]!=='finished'){const _0x3e9a03=Object[_0x323256(0xc7b)](_0x4722b8[_0x323256(0x929)]||{});if(_0x3e9a03[_0x323256(0x1d6)]>0x0){const _0x4ff667=_0x3e9a03[_0x323256(0x11a)](_0x1c00f3=>_0x1c00f3[_0x323256(0x13f)]===!![]);_0x4ff667&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x4722b8);}else{if(_0x4722b8[_0x323256(0x670)]==='podium'||_0x4722b8['status']===_0x323256(0xb67)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x4722b8[_0x323256(0xaf3)]===_0x323256(0x5db)){const _0x1ac2ae=_0x4722b8[_0x323256(0x929)][userId];(!_0x1ac2ae||!_0x1ac2ae[_0x323256(0x13f)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x5099e6){const _0x4ccde7=_0x1ca595;console[_0x4ccde7(0xa7f)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x3440f4=doc(db,_0x4ccde7(0x54a)+appId+_0x4ccde7(0x72b),_0x5099e6);try{const _0x129fb9=await getDoc(_0x3440f4);if(_0x129fb9[_0x4ccde7(0xa2b)]()){const _0x23eb8e=_0x129fb9[_0x4ccde7(0xb6)]();_0x23eb8e[_0x4ccde7(0x8b8)]&&await saveGameResultsAsSubmissions(_0x23eb8e);}await updateDoc(_0x3440f4,{'status':_0x4ccde7(0x5bc)});}catch(_0x151b26){console[_0x4ccde7(0x96)](_0x4ccde7(0x414),_0x151b26);}}function updateAdminTeamDashboard(_0x21290b){const _0x5965b0=_0x1ca595,_0x57c46a=document[_0x5965b0(0xcac)](_0x5965b0(0xaf1));if(!_0x57c46a)return;const _0x3eaef5=_0x21290b[_0x5965b0(0xaf3)]||'team',_0x29916c=currentQuizData[_0x5965b0(0xbfe)][_0x5965b0(0x1d6)];if(_0x3eaef5===_0x5965b0(0x5db)){const _0x23b618=Object[_0x5965b0(0xc7b)](_0x21290b['groups']||{});if(_0x23b618[_0x5965b0(0x1d6)]===0x0){_0x57c46a['innerHTML']=_0x5965b0(0x827);return;}const _0x52c0e0=[..._0x23b618][_0x5965b0(0xb2f)]((_0x1c06af,_0x55c240)=>_0x55c240[_0x5965b0(0xa4c)]-_0x1c06af[_0x5965b0(0xa4c)]),_0x11ee2a=_0x52c0e0[_0x5965b0(0x201)]((_0x1259fc,_0x5cda6c)=>{const _0x13ddde=_0x5965b0,_0x15d8a4=_0x1259fc[_0x13ddde(0x54d)]?.['length']||0x0;return _0x13ddde(0x146)+(_0x5cda6c+0x1)+_0x13ddde(0xac5)+_0x1259fc[_0x13ddde(0x8cd)][_0x13ddde(0xa88)](',\x20')+_0x13ddde(0xa71)+_0x15d8a4+'/'+_0x29916c+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x1259fc[_0x13ddde(0xa4c)]+_0x13ddde(0xacf);})['join'](''),_0xc39b4c=currentQuizData[_0x5965b0(0xbfe)]['map']((_0xc2f1d6,_0x25251d)=>{const _0x32bf35=_0x5965b0;let _0x597d43=0x0,_0x5dfd24=0x0;_0x23b618[_0x32bf35(0x99f)](_0x3fc335=>{const _0x1cea17=_0x32bf35,_0x5151e9=_0x3fc335[_0x1cea17(0x54d)]?.[_0x1cea17(0x2f4)](_0x35ec1f=>_0x35ec1f['questionIndex']===_0x25251d);if(_0x5151e9){_0x5dfd24++;if(_0x5151e9['isCorrect'])_0x597d43++;}});const _0x166f0d=_0x5dfd24>0x0&&_0x5dfd24===_0x23b618[_0x32bf35(0x1d6)],_0x59cc4e=_0x166f0d?_0x32bf35(0x655):_0x32bf35(0x1f9),_0xf21cab=_0x166f0d?_0x32bf35(0x69a):'';return _0x32bf35(0x1ba)+_0x59cc4e+_0x32bf35(0x895)+(_0x25251d+0x1)+_0x32bf35(0xd2a)+_0xf21cab+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x597d43+'/'+_0x23b618[_0x32bf35(0x1d6)]+'\x20กลุ่ม</p></div>';})[_0x5965b0(0xa88)]('');_0x57c46a[_0x5965b0(0xcaa)]=_0x5965b0(0x50c)+_0x11ee2a+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0xc39b4c+_0x5965b0(0xd7b);return;}const _0x448265=_0x21290b[_0x5965b0(0x4f9)]||{},_0x1b9713=Object['keys'](_0x448265);if(_0x1b9713[_0x5965b0(0x1d6)]===0x0){_0x57c46a[_0x5965b0(0xcaa)]=_0x5965b0(0x5ae);return;}const _0x48840e=_0x1b9713[_0x5965b0(0x201)](_0x1d0674=>({'name':_0x1d0674,'score':_0x448265[_0x1d0674][_0x5965b0(0xa4c)]||0x0}))[_0x5965b0(0xb2f)]((_0x413a24,_0x270e9f)=>_0x270e9f[_0x5965b0(0xa4c)]-_0x413a24[_0x5965b0(0xa4c)]),_0x602269=_0x48840e[_0x5965b0(0x201)](_0x2ad80b=>{const _0x16415f=_0x5965b0,_0x4a4c2d=_0x448265[_0x2ad80b[_0x16415f(0xd33)]]?.[_0x16415f(0x54d)]?.[_0x16415f(0x1d6)]||0x0,_0x58c444=Math[_0x16415f(0xb2a)](_0x29916c/_0x1b9713[_0x16415f(0x1d6)]);return _0x16415f(0x248)+_0x2ad80b[_0x16415f(0xd33)]+_0x16415f(0xa84)+_0x4a4c2d+'/'+_0x58c444+_0x16415f(0x270)+_0x2ad80b['score']+_0x16415f(0x2ec);})[_0x5965b0(0xa88)](''),_0x3e7d77=_0x1b9713[_0x5965b0(0x231)]((_0xc07bf2,_0x58563d)=>_0xc07bf2+(_0x448265[_0x58563d][_0x5965b0(0x54d)]?.['length']||0x0),0x0),_0x2383d9=currentQuizData[_0x5965b0(0xbfe)][_0x5965b0(0x201)]((_0x59dd0b,_0x599d6)=>{const _0x396fbf=_0x5965b0;let _0x27e84a=null,_0x2de5f4=null;for(const _0x488e4f of _0x1b9713){const _0x1fd79b=_0x448265[_0x488e4f]['answers']?.[_0x396fbf(0x2f4)](_0x5d6516=>_0x5d6516['questionIndex']===_0x599d6);if(_0x1fd79b){_0x27e84a=_0x1fd79b,_0x2de5f4=_0x488e4f;break;}}const _0x163449=!!_0x27e84a,_0x1a2df8=_0x163449&&_0x27e84a[_0x396fbf(0x7fd)],_0x65802c=(Math['floor'](_0x599d6/_0x1b9713['length'])+0x1)*_0x1b9713[_0x396fbf(0x1d6)],_0x59eab9=_0x3e7d77>=_0x65802c,_0x2990ec=_0x59eab9?'bg-green-200\x20text-green-900':'bg-black/10',_0x450c22=_0x59eab9?_0x396fbf(0x69a):'';let _0x17dd87=_0x396fbf(0x825);return _0x163449&&(_0x17dd87=_0x2de5f4+'\x20ตอบ'+(_0x1a2df8?_0x396fbf(0x1e4):'ผิด')),_0x396fbf(0x1ba)+_0x2990ec+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x599d6+0x1)+_0x396fbf(0xd2a)+_0x450c22+_0x396fbf(0xd12)+_0x17dd87+_0x396fbf(0xc86);})[_0x5965b0(0xa88)]('');_0x57c46a[_0x5965b0(0xcaa)]=_0x5965b0(0x354)+_0x602269+_0x5965b0(0x5aa)+_0x2383d9+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x3cd099=_0x1ca595,_0x59a4b7=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x59a4b7||_0x59a4b7[_0x3cd099(0x964)]()['length']!==0x4){showMessage(_0x3cd099(0x7ad));return;}try{const _0x1d04ae=collection(db,_0x3cd099(0x54a)+appId+_0x3cd099(0x72b)),_0x1003d2=query(_0x1d04ae,where('pin','==',_0x59a4b7[_0x3cd099(0x964)]()),where('status','==',_0x3cd099(0xc7a))),_0x4306df=await getDocs(_0x1003d2);if(_0x4306df[_0x3cd099(0x699)]){showMessage(_0x3cd099(0x456));return;}const _0x38c026=_0x4306df[_0x3cd099(0x26a)][0x0];currentTeamQuizId=_0x38c026['id'];const _0x3d8e7a=_0x38c026[_0x3cd099(0xb6)](),_0x41b496=doc(db,_0x3cd099(0x54a)+appId+_0x3cd099(0x737),_0x3d8e7a['projectId']),_0x3d71b3=doc(db,_0x3cd099(0x54a)+appId+_0x3cd099(0xa62),_0x3d8e7a[_0x3cd099(0x57b)]),[_0x1d8382,_0x311854]=await Promise['all']([getDoc(_0x41b496),getDoc(_0x3d71b3)]);if(!_0x1d8382[_0x3cd099(0xa2b)]()||!_0x311854[_0x3cd099(0xa2b)]())throw new Error(_0x3cd099(0x6e2));currentQuizData=getShuffledQuiz({'id':_0x311854['id'],..._0x311854[_0x3cd099(0xb6)]()});const _0x1bfe7a=_0x1d8382['data']();showTeamPlayerSelection(_0x1bfe7a['students'],currentQuizData['topic']);}catch(_0xd039c3){console[_0x3cd099(0x96)](_0x3cd099(0x53f),_0xd039c3),showMessage('เกิดข้อผิดพลาด:\x20'+_0xd039c3['message']);}}async function handleJoinGroupActivity(){const _0x3aaa01=_0x1ca595,_0x8591d0=prompt(_0x3aaa01(0x871));if(!_0x8591d0||_0x8591d0[_0x3aaa01(0x964)]()[_0x3aaa01(0x1d6)]!==0x4){showMessage(_0x3aaa01(0x37f));return;}const _0x3d0f2e=_0x8591d0['trim']();showMessage(_0x3aaa01(0xad5));try{const _0x13ae23=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x4a1a52=query(_0x13ae23,where(_0x3aaa01(0x482),'==',_0x3d0f2e),where(_0x3aaa01(0x670),'==',_0x3aaa01(0xc7a))),_0x5dd627=await getDocs(_0x4a1a52);if(!_0x5dd627[_0x3aaa01(0x699)]){console[_0x3aaa01(0xa7f)](_0x3aaa01(0x32c)),await proceedWithTeamQuizJoin(_0x5dd627[_0x3aaa01(0x26a)][0x0]);return;}const _0x1277f8=collection(db,_0x3aaa01(0x54a)+appId+_0x3aaa01(0xa14)),_0x357df6=query(_0x1277f8,where('pin','==',_0x3d0f2e),where(_0x3aaa01(0x670),'in',[_0x3aaa01(0xc7a),_0x3aaa01(0xc52),_0x3aaa01(0x898),_0x3aaa01(0x5a0)])),_0x57d044=await getDocs(_0x357df6);if(!_0x57d044[_0x3aaa01(0x699)]){console[_0x3aaa01(0xa7f)](_0x3aaa01(0x75a)),await proceedWithSyncQuizJoin(_0x57d044[_0x3aaa01(0x26a)][0x0]);return;}showMessage(_0x3aaa01(0x1c1));}catch(_0xa09d2e){console[_0x3aaa01(0x96)](_0x3aaa01(0x5df),_0xa09d2e),showMessage(_0x3aaa01(0xb2d)+_0xa09d2e[_0x3aaa01(0xaee)]);}}async function proceedWithTeamQuizJoin(_0x724f5a){const _0x59cf23=_0x1ca595;currentTeamQuizId=_0x724f5a['id'];const _0x5cd66d=_0x724f5a[_0x59cf23(0xb6)](),_0x9beda3=doc(db,'artifacts/'+appId+_0x59cf23(0x737),_0x5cd66d[_0x59cf23(0x98d)]),_0x2fdd61=doc(db,'artifacts/'+appId+_0x59cf23(0xa62),_0x5cd66d[_0x59cf23(0x57b)]),[_0x42b929,_0x52012b]=await Promise[_0x59cf23(0xa12)]([getDoc(_0x9beda3),getDoc(_0x2fdd61)]);if(!_0x42b929[_0x59cf23(0xa2b)]()||!_0x52012b[_0x59cf23(0xa2b)]())throw new Error(_0x59cf23(0x6e2));currentQuizData=getShuffledQuiz({'id':_0x52012b['id'],..._0x52012b[_0x59cf23(0xb6)]()}),showTeamPlayerSelection(_0x42b929[_0x59cf23(0xb6)]()[_0x59cf23(0xbbc)],currentQuizData['topic'],_0x5cd66d['mode']||_0x59cf23(0x619)),messageModal[_0x59cf23(0x325)][_0x59cf23(0xd3c)](_0x59cf23(0x60b));}async function proceedWithSyncQuizJoin(_0x206a43){const _0x3f219c=_0x1ca595;currentLiveGameId=_0x206a43['id'];const _0x4bf00f=_0x206a43['data'](),_0x642f37=doc(db,_0x3f219c(0x54a)+appId+'/public/data/quizzes',_0x4bf00f['quizId']),_0x2ef6d1=await getDoc(_0x642f37);if(!_0x2ef6d1['exists']())throw new Error(_0x3f219c(0x284));const _0x2e50bc=_0x2ef6d1[_0x3f219c(0xb6)](),_0xda9462=doc(db,_0x3f219c(0x54a)+appId+_0x3f219c(0x737),_0x2e50bc[_0x3f219c(0x98d)]),_0x5be36c=await getDoc(_0xda9462);if(!_0x5be36c[_0x3f219c(0xa2b)]())throw new Error(_0x3f219c(0x4f1));currentQuizData=_0x4bf00f['shuffledQuiz'],showView(_0x3f219c(0x7aa)),showTeamPlayerSelection(_0x5be36c[_0x3f219c(0xb6)]()[_0x3f219c(0xbbc)],_0x2e50bc[_0x3f219c(0xa64)],_0x3f219c(0x417));const _0x3ed49f=document[_0x3f219c(0xcac)](_0x3f219c(0xaef)),_0x356165=_0x3ed49f[_0x3f219c(0x2e2)](!![]);_0x3ed49f[_0x3f219c(0x9e0)][_0x3f219c(0x813)](_0x356165,_0x3ed49f),_0x356165[_0x3f219c(0x733)]=confirmAndJoinSyncGame,messageModal['classList'][_0x3f219c(0xd3c)](_0x3f219c(0x60b));}function getCleanApplicationHTML(){const _0x3e37db=_0x1ca595,_0x4487c1=document[_0x3e37db(0xcac)](_0x3e37db(0xc8c));if(!_0x4487c1)return'';const _0x47204c=_0x4487c1[_0x3e37db(0x2e2)](!![]);return _0x47204c[_0x3e37db(0x20a)](_0x3e37db(0xbde))[_0x3e37db(0x99f)](_0x20b894=>{const _0x4a1f17=_0x3e37db;_0x20b894[_0x4a1f17(0x325)][_0x4a1f17(0x419)](_0x4a1f17(0xc70),_0x4a1f17(0x1fd)),_0x20b894[_0x4a1f17(0x25a)]=![];}),_0x47204c[_0x3e37db(0xcaa)];}function showTeamPlayerSelection(_0x1b40a5,_0x55c8d3,_0x559244=_0x1ca595(0x619)){const _0x1cadbd=_0x1ca595;studentInitialView[_0x1cadbd(0x325)]['add']('hidden'),studentJoinGameView['classList']['add'](_0x1cadbd(0x60b)),document[_0x1cadbd(0xcac)](_0x1cadbd(0x8bb))[_0x1cadbd(0x325)][_0x1cadbd(0x419)]('hidden');let _0x2d0fc1=_0x1cadbd(0x172);if(_0x559244==='group')_0x2d0fc1='Group\x20Mode';else _0x559244===_0x1cadbd(0x417)&&(_0x2d0fc1=_0x1cadbd(0x7da));document[_0x1cadbd(0xcac)]('team-quiz-topic')[_0x1cadbd(0xc84)]=_0x2d0fc1+':\x20'+_0x55c8d3;const _0x3ea5e9=document['getElementById'](_0x1cadbd(0x12e));if(!_0x1b40a5||_0x1b40a5['length']===0x0){_0x3ea5e9[_0x1cadbd(0xcaa)]=_0x1cadbd(0x1e3),document[_0x1cadbd(0xcac)](_0x1cadbd(0xaef))['disabled']=!![];return;}_0x3ea5e9['innerHTML']=_0x1b40a5['map'](_0x16595d=>_0x1cadbd(0xa97)+_0x16595d+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x16595d+_0x1cadbd(0xc92))[_0x1cadbd(0xa88)](''),document[_0x1cadbd(0xcac)](_0x1cadbd(0xaef))['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x34c80b=_0x1ca595,_0x308b49=Array[_0x34c80b(0x6ca)](document['querySelectorAll'](_0x34c80b(0xb1d)))[_0x34c80b(0x201)](_0x4d1645=>_0x4d1645[_0x34c80b(0x41e)]);if(_0x308b49[_0x34c80b(0x1d6)]===0x0){showMessage(_0x34c80b(0xd0a));return;}localTeamPlayers=_0x308b49,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x138368=doc(db,_0x34c80b(0x54a)+appId+_0x34c80b(0x72b),currentTeamQuizId);try{const _0x35a5c0=await getDoc(_0x138368);if(!_0x35a5c0[_0x34c80b(0xa2b)]())throw new Error('ไม่พบข้อมูลเกม');const _0x537868=_0x35a5c0[_0x34c80b(0xb6)]();if(_0x537868[_0x34c80b(0xaf3)]==='group'){const _0xd07c9c={[_0x34c80b(0x5f4)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x138368,_0xd07c9c);}else{const _0xab8b44=_0x537868['responses']||{};localTeamPlayers['forEach'](_0x55e055=>{!_0xab8b44[_0x55e055]&&(_0xab8b44[_0x55e055]={'score':0x0,'answers':[]});}),await updateDoc(_0x138368,{'responses':_0xab8b44});}document['getElementById'](_0x34c80b(0x8bb))[_0x34c80b(0x325)][_0x34c80b(0xd3c)](_0x34c80b(0x60b)),renderTeamQuizQuestion();const _0x56367e={'gameId':currentTeamQuizId,'mode':_0x537868[_0x34c80b(0xaf3)]||_0x34c80b(0x619),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x34c80b(0x5fd),JSON[_0x34c80b(0x71f)](_0x56367e)),listenForTeamQuizUpdates();}catch(_0x1abaed){console[_0x34c80b(0x96)](_0x34c80b(0x7ef),_0x1abaed),showMessage(_0x34c80b(0x574));}}async function renderTeamQuizQuestion(){const _0x4ea7c1=_0x1ca595;if(localQuestionIndex>=currentQuizData[_0x4ea7c1(0xbfe)][_0x4ea7c1(0x1d6)]){displayTeamQuizFinalResults();return;}const _0x44ae6c=currentQuizData[_0x4ea7c1(0xbfe)][localQuestionIndex],_0x15d21a=localTeamPlayers[localPlayerIndex],_0x57b475=_0x44ae6c[_0x4ea7c1(0xc34)]||currentQuizData[_0x4ea7c1(0x717)];let _0x4be797=_0x44ae6c[_0x4ea7c1(0x216)]||_0x44ae6c[_0x4ea7c1(0x6f3)],_0x5df1d8='';switch(_0x57b475){case _0x4ea7c1(0x801):case _0x4ea7c1(0xd44):_0x5df1d8=_0x44ae6c[_0x4ea7c1(0x63f)]['map']((_0x1a2b9f,_0xc7792e)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0xc7792e+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0xc7792e+_0x4ea7c1(0x85)+_0xc7792e+'\x22>'+_0x1a2b9f+_0x4ea7c1(0x979))[_0x4ea7c1(0xa88)]('');break;case _0x4ea7c1(0xcea):_0x5df1d8='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x4ea7c1(0xbf6):case _0x4ea7c1(0x19d):_0x5df1d8=_0x4ea7c1(0x228);break;case'matching_item':_0x5df1d8=_0x4ea7c1(0xb9a)+_0x44ae6c[_0x4ea7c1(0x698)][_0x4ea7c1(0x201)](_0x272fe1=>_0x4ea7c1(0xb8c)+_0x272fe1+'\x22>'+_0x272fe1+_0x4ea7c1(0x603))[_0x4ea7c1(0xa88)]('')+'</select>';break;default:_0x5df1d8=_0x4ea7c1(0x537);break;}studentQuizArea['innerHTML']=_0x4ea7c1(0xd80)+(localQuestionIndex+0x1)+_0x4ea7c1(0x214)+currentQuizData[_0x4ea7c1(0xbfe)][_0x4ea7c1(0x1d6)]+_0x4ea7c1(0x128)+_0x15d21a+_0x4ea7c1(0x5be)+(localQuestionIndex+0x1)+'.\x20'+_0x4be797+_0x4ea7c1(0x879)+(_0x44ae6c[_0x4ea7c1(0x2d0)]?_0x4ea7c1(0x5b2)+_0x44ae6c[_0x4ea7c1(0x2d0)]+_0x4ea7c1(0x4dd):'')+_0x4ea7c1(0x78e)+_0x5df1d8+_0x4ea7c1(0xd9b),studentQuizArea['classList'][_0x4ea7c1(0x419)](_0x4ea7c1(0x60b));if(window[_0x4ea7c1(0x4a4)])MathJax[_0x4ea7c1(0xcf0)]([studentQuizArea]);document[_0x4ea7c1(0xcac)](_0x4ea7c1(0x762))[_0x4ea7c1(0x8d3)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x4e1a56=_0x1ca595,_0x4b1e8d=currentQuizData['questions'][localQuestionIndex],_0x3d6364=_0x4b1e8d[_0x4e1a56(0xc34)]||currentQuizData[_0x4e1a56(0x717)];let _0x2a28fd=null,_0x29a788=![];if(_0x3d6364===_0x4e1a56(0xbf6)||_0x3d6364===_0x4e1a56(0x19d)){const _0x27a505=document[_0x4e1a56(0xb49)](_0x4e1a56(0x63b));if(!_0x27a505||!_0x27a505[_0x4e1a56(0x41e)][_0x4e1a56(0x964)]()){showMessage(_0x4e1a56(0x20b));return;}_0x2a28fd=_0x27a505[_0x4e1a56(0x41e)][_0x4e1a56(0x964)](),_0x29a788=await gradeShortAnswer(_0x2a28fd,_0x4b1e8d);}else{const _0x159d39=document[_0x4e1a56(0xb49)](_0x4e1a56(0x59a));if(!_0x159d39||_0x159d39[_0x4e1a56(0x41e)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x2a28fd=_0x159d39[_0x4e1a56(0x41e)];switch(_0x3d6364){case _0x4e1a56(0xcea):_0x29a788=_0x2a28fd===_0x4e1a56(0xbe7)===_0x4b1e8d[_0x4e1a56(0xc49)];break;case'matching_item':_0x29a788=_0x2a28fd===_0x4b1e8d[_0x4e1a56(0xca2)];break;default:_0x29a788=parseInt(_0x2a28fd)===_0x4b1e8d[_0x4e1a56(0xc75)];break;}}const _0x5f2a0f={'questionIndex':localQuestionIndex,'isCorrect':_0x29a788},_0x305718=userId,_0x3d5c6f={[_0x4e1a56(0x5f4)+_0x305718+_0x4e1a56(0x55f)]:arrayUnion(_0x5f2a0f)};_0x29a788&&(_0x3d5c6f[_0x4e1a56(0x5f4)+_0x305718+_0x4e1a56(0x44e)]=increment(0x1));try{await updateDoc(doc(db,_0x4e1a56(0x54a)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x3d5c6f),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x4e1a56(0xbfe)][_0x4e1a56(0x1d6)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x512fe8){console[_0x4e1a56(0x96)](_0x4e1a56(0x598),_0x512fe8),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x203944=_0x1ca595,_0x31cee1=await getDoc(doc(db,_0x203944(0x54a)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x31cee1[_0x203944(0xa2b)]())return;const _0x1608d2=_0x31cee1[_0x203944(0xb6)]();if(_0x1608d2['mode']===_0x203944(0x5db)){handleGroupAnswerSubmit();return;}const _0xddd43e=localTeamPlayers[localPlayerIndex],_0x34b147=currentQuizData[_0x203944(0xbfe)][localQuestionIndex],_0x370b5b=_0x34b147[_0x203944(0xc34)]||currentQuizData[_0x203944(0x717)];let _0x406b8b=null,_0x3c1d09=![];if(_0x370b5b===_0x203944(0xbf6)||_0x370b5b===_0x203944(0x19d)){const _0x45d12a=document[_0x203944(0xb49)](_0x203944(0x63b));if(!_0x45d12a||!_0x45d12a[_0x203944(0x41e)][_0x203944(0x964)]()){showMessage(_0x203944(0x4df));return;}_0x406b8b=_0x45d12a['value'][_0x203944(0x964)](),_0x3c1d09=await gradeShortAnswer(_0x406b8b,_0x34b147);}else{const _0x23a377=document['querySelector'](_0x203944(0x59a));if(!_0x23a377||_0x23a377[_0x203944(0x41e)]===''){showMessage(_0x203944(0x167));return;}_0x406b8b=_0x23a377[_0x203944(0x41e)];switch(_0x370b5b){case _0x203944(0xcea):_0x3c1d09=_0x406b8b===_0x203944(0xbe7)===_0x34b147[_0x203944(0xc49)];break;case _0x203944(0x79b):_0x3c1d09=_0x406b8b===_0x34b147[_0x203944(0xca2)];break;default:_0x3c1d09=parseInt(_0x406b8b)===_0x34b147['correctAnswerIndex'];break;}}const _0x49d16b={'questionIndex':localQuestionIndex,'isCorrect':_0x3c1d09,'answerValue':_0x406b8b},_0x5d911a={[_0x203944(0x93a)+_0xddd43e+'.answers']:arrayUnion(_0x49d16b)};_0x3c1d09&&(_0x5d911a[_0x203944(0x93a)+_0xddd43e+_0x203944(0x44e)]=increment(0x1));try{await updateDoc(doc(db,_0x203944(0x54a)+appId+_0x203944(0x72b),currentTeamQuizId),_0x5d911a),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x203944(0x1d6)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x3bf63d){console['error'](_0x203944(0x8b7),_0x3bf63d),showMessage(_0x203944(0x658));}}async function displayTeamQuizFinalResults(){const _0x5a3de5=_0x1ca595;studentQuizArea[_0x5a3de5(0x325)][_0x5a3de5(0xd3c)]('hidden'),studentResultArea['classList']['remove'](_0x5a3de5(0x60b));const _0x50374e=doc(db,_0x5a3de5(0x54a)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x780b59=await getDoc(_0x50374e);if(!_0x780b59[_0x5a3de5(0xa2b)]()){studentResultArea[_0x5a3de5(0xcaa)]=_0x5a3de5(0x539);return;}const _0x1b2fb8=_0x780b59[_0x5a3de5(0xb6)]();let _0x329a04=[];const _0x4dd2d2=_0x1b2fb8[_0x5a3de5(0xaf3)]||_0x5a3de5(0x619);if(_0x4dd2d2===_0x5a3de5(0x5db)){const _0x5d3c45=_0x1b2fb8[_0x5a3de5(0x929)][userId];_0x5d3c45?_0x329a04=[{'name':_0x5a3de5(0xc5a)+localTeamPlayers['join'](',\x20'),'score':_0x5d3c45['score']||0x0}]:_0x329a04=[{'name':'กลุ่มของคุณ','score':_0x5a3de5(0x50e)}];}else _0x329a04=localTeamPlayers[_0x5a3de5(0x201)](_0x3cab9f=>({'name':_0x3cab9f,'score':_0x1b2fb8[_0x5a3de5(0x4f9)][_0x3cab9f]?.['score']||0x0}))['sort']((_0x32c38f,_0x341adb)=>_0x341adb[_0x5a3de5(0xa4c)]-_0x32c38f[_0x5a3de5(0xa4c)]);studentResultArea[_0x5a3de5(0xcaa)]=_0x5a3de5(0xd1d)+_0x329a04[_0x5a3de5(0x201)](_0x26f2ad=>_0x5a3de5(0x704)+_0x26f2ad[_0x5a3de5(0xd33)]+_0x5a3de5(0xcc8)+_0x26f2ad[_0x5a3de5(0xa4c)]+_0x5a3de5(0xa77))[_0x5a3de5(0xa88)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x5a3de5(0xe1)](_0x5a3de5(0x5fd)),currentMode===_0x5a3de5(0x28d)&&currentTeamQuizId&&setTimeout(()=>{const _0x1bdc6a=_0x5a3de5;deleteDoc(doc(db,_0x1bdc6a(0x54a)+appId+_0x1bdc6a(0x72b),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x203)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x790)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x95f)},{'category':'จำนวนและการดำเนินการ','name':_0x1ca595(0x81b)},{'category':'จำนวนและการดำเนินการ','name':_0x1ca595(0x1b3)},{'category':'จำนวนและการดำเนินการ','name':'การลบ'},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x9f6)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x904)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x7bb)},{'category':'จำนวนและการดำเนินการ','name':_0x1ca595(0xd9c)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0xbc7)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x66a)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x966)},{'category':_0x1ca595(0x3db),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x859)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x9de)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0xb42)},{'category':_0x1ca595(0x3db),'name':'อัตราและอัตราหน่วย'},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0xc16)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x2b1)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0xc10)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x62a)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x24d)},{'category':'จำนวนและการดำเนินการ','name':_0x1ca595(0x3d6)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x897)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0xbb8)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x28f)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x6da)},{'category':'จำนวนและการดำเนินการ','name':_0x1ca595(0x99a)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x725)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x73d)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x3c8)},{'category':'จำนวนและการดำเนินการ','name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x1ca595(0x3db),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':'จำนวนและการดำเนินการ','name':_0x1ca595(0x647)},{'category':_0x1ca595(0x3db),'name':_0x1ca595(0x536)},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0xaa2)},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0x253)},{'category':'การวัด','name':_0x1ca595(0xcf7)},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0x4ed)},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0x278)},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0x9a6)},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0x347)},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0xa89)},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0xbf3)},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0x8d6)},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0xd50)},{'category':'การวัด','name':_0x1ca595(0x9a4)},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0x5e0)},{'category':_0x1ca595(0x1d4),'name':_0x1ca595(0x95)},{'category':_0x1ca595(0x29c),'name':_0x1ca595(0x9a7)},{'category':_0x1ca595(0x29c),'name':_0x1ca595(0xbbe)},{'category':_0x1ca595(0x29c),'name':_0x1ca595(0x2b2)},{'category':'เรขาคณิต','name':_0x1ca595(0xa89)},{'category':_0x1ca595(0x29c),'name':_0x1ca595(0xcdf)},{'category':'เรขาคณิต','name':'ความคล้ายของรูป'},{'category':_0x1ca595(0x29c),'name':_0x1ca595(0x43f)},{'category':_0x1ca595(0x29c),'name':_0x1ca595(0x371)},{'category':'เรขาคณิต','name':_0x1ca595(0xc42)},{'category':_0x1ca595(0x29c),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x1ca595(0x29c),'name':_0x1ca595(0xd93)},{'category':_0x1ca595(0x29c),'name':_0x1ca595(0xbb5)},{'category':'เรขาคณิต','name':_0x1ca595(0x2ff)},{'category':_0x1ca595(0x29c),'name':_0x1ca595(0x9dd)},{'category':_0x1ca595(0x29c),'name':_0x1ca595(0x974)},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0x12b)},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0x807)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแยกตัวประกอบ'},{'category':_0x1ca595(0xc88),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0xc3e)},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0x3f4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1ca595(0x57d)},{'category':_0x1ca595(0xc88),'name':'สมการค่าสัมบูรณ์'},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0x9b3)},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0xcf5)},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0xc12)},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0xa6c)},{'category':_0x1ca595(0xc88),'name':'อสมการเชิงเส้น'},{'category':_0x1ca595(0xc88),'name':'อสมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบอสมการ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1ca595(0x36b)},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0x61c)},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0x5e2)},{'category':_0x1ca595(0xc88),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1ca595(0x8f7)},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0x1e0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1ca595(0xd46)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x1ca595(0xc88),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x1ca595(0xc88),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1ca595(0x8f8)},{'category':_0x1ca595(0xc88),'name':'ฟังก์ชันยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1ca595(0x917)},{'category':_0x1ca595(0xc88),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1ca595(0x22e)},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0x5f0)},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0xc13)},{'category':_0x1ca595(0xc88),'name':_0x1ca595(0x36f)},{'category':_0x1ca595(0x875),'name':_0x1ca595(0x273)},{'category':_0x1ca595(0x875),'name':_0x1ca595(0x48f)},{'category':_0x1ca595(0x875),'name':_0x1ca595(0x4f3)},{'category':_0x1ca595(0x875),'name':_0x1ca595(0xe5)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1ca595(0x39e)},{'category':_0x1ca595(0x875),'name':_0x1ca595(0xa66)},{'category':_0x1ca595(0x875),'name':'พาราโบลา'},{'category':'เรขาคณิตวิเคราะห์','name':_0x1ca595(0x7d8)},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':_0x1ca595(0x375),'name':_0x1ca595(0x711)},{'category':_0x1ca595(0x375),'name':_0x1ca595(0xcad)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x1ca595(0x375),'name':_0x1ca595(0x90f)},{'category':_0x1ca595(0x375),'name':_0x1ca595(0x60a)},{'category':_0x1ca595(0x375),'name':_0x1ca595(0x330)},{'category':_0x1ca595(0x375),'name':_0x1ca595(0xf9)},{'category':_0x1ca595(0x375),'name':_0x1ca595(0x238)},{'category':_0x1ca595(0x375),'name':_0x1ca595(0x1b0)},{'category':'ตรีโกณมิติ','name':_0x1ca595(0x932)},{'category':_0x1ca595(0x375),'name':_0x1ca595(0x37c)},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0x7c9)},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0xd09)},{'category':'สถิติและความน่าจะเป็น','name':_0x1ca595(0x59e)},{'category':_0x1ca595(0xce8),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0xd96)},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0xb65)},{'category':_0x1ca595(0xce8),'name':'ค่าเฉลี่ย'},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0x9c6)},{'category':'สถิติและความน่าจะเป็น','name':_0x1ca595(0x11f)},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0x11b)},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0xb48)},{'category':_0x1ca595(0xce8),'name':'ความแปรปรวน'},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0xa9)},{'category':'สถิติและความน่าจะเป็น','name':_0x1ca595(0xd52)},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0xd69)},{'category':_0x1ca595(0xce8),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x1ca595(0xce8),'name':'กฎบวกและกฎคูณ'},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0x21f)},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0x65a)},{'category':_0x1ca595(0xce8),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x1ca595(0xce8),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0xc5f)},{'category':_0x1ca595(0xce8),'name':_0x1ca595(0x283)},{'category':'สถิติและความน่าจะเป็น','name':_0x1ca595(0x654)},{'category':_0x1ca595(0xbae),'name':_0x1ca595(0x6fa)},{'category':_0x1ca595(0xbae),'name':_0x1ca595(0x7df)},{'category':_0x1ca595(0xbae),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x1ca595(0xbae),'name':_0x1ca595(0x2f9)},{'category':_0x1ca595(0xbae),'name':_0x1ca595(0x968)},{'category':_0x1ca595(0xbae),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x1ca595(0xbae),'name':_0x1ca595(0xb05)},{'category':_0x1ca595(0xbae),'name':_0x1ca595(0x31f)},{'category':_0x1ca595(0xbae),'name':_0x1ca595(0x934)},{'category':_0x1ca595(0xbae),'name':_0x1ca595(0x84d)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1ca595(0xcd5)},{'category':_0x1ca595(0xbae),'name':_0x1ca595(0x695)},{'category':_0x1ca595(0xbae),'name':_0x1ca595(0xcc7)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1ca595(0x21b)},{'category':_0x1ca595(0x96c),'name':_0x1ca595(0x668)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1ca595(0x8c2)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1ca595(0x5d2)},{'category':_0x1ca595(0x96c),'name':_0x1ca595(0x4f4)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1ca595(0x9f0)},{'category':_0x1ca595(0x96c),'name':_0x1ca595(0xc00)},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x1ca595(0x7f2),'name':'ดอกเบี้ยทบต้น'},{'category':_0x1ca595(0x7f2),'name':_0x1ca595(0x1dc)},{'category':_0x1ca595(0x7f2),'name':_0x1ca595(0x4b0)},{'category':_0x1ca595(0x7f2),'name':_0x1ca595(0xd41)},{'category':_0x1ca595(0x953),'name':_0x1ca595(0xd32)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x1ca595(0x4c6)},{'category':_0x1ca595(0x953),'name':_0x1ca595(0xbc3)}];function renderTopicCheckboxes(){const _0x2546e6=_0x1ca595,_0x4f53e9=document[_0x2546e6(0xcac)]('math-topics-checkbox-container');if(!_0x4f53e9)return;const _0x38fa1a=allMathTopics,_0x2cd7e7=customMathTopics[_0x2546e6(0x201)](_0x21ff2a=>({'id':_0x21ff2a['id'],'category':'หัวข้อที่สร้างเอง','name':_0x21ff2a[_0x2546e6(0xd33)]})),_0x462b8b=[..._0x38fa1a,..._0x2cd7e7],_0x126a97=_0x462b8b[_0x2546e6(0x231)]((_0x3a50af,_0x34082e)=>{const _0x3948ed=_0x2546e6;return!_0x3a50af[_0x34082e['category']]&&(_0x3a50af[_0x34082e[_0x3948ed(0x3bc)]]=[]),_0x3a50af[_0x34082e[_0x3948ed(0x3bc)]][_0x3948ed(0x3bb)](_0x34082e),_0x3a50af;},{});let _0x3614c6='';const _0x312b00=[_0x2546e6(0x92b),...Object[_0x2546e6(0x236)](_0x126a97)[_0x2546e6(0xa00)](_0x4fb7cf=>_0x4fb7cf!=='หัวข้อที่สร้างเอง')];for(const _0x348cc8 of _0x312b00){if(_0x126a97[_0x348cc8]){const _0xfa037b=_0x348cc8==='หัวข้อที่สร้างเอง',_0x50a34d=_0xfa037b?_0x2546e6(0xc3):_0x2546e6(0x4e5),_0x37db4c=_0xfa037b?_0x2546e6(0x954):_0x2546e6(0x156);_0x3614c6+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x3614c6+=_0x2546e6(0x3cd)+_0x37db4c+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x50a34d+_0x2546e6(0xc2)+_0x348cc8+'</p>',_0x126a97[_0x348cc8][_0x2546e6(0x99f)](_0xf67426=>{const _0x1b54f7=_0x2546e6,_0x48b9d0=!!_0xf67426['id'],_0x2be231=_0x48b9d0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xf67426['id']+_0x1b54f7(0xc3b)+_0xf67426['id']+_0x1b54f7(0x7b7)+_0xf67426['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xf67426['id']+_0x1b54f7(0x1cc):'';_0x3614c6+=_0x1b54f7(0x83d)+(_0xf67426['id']||'')+_0x1b54f7(0xa34)+_0xf67426[_0x1b54f7(0xd33)]+_0x1b54f7(0x328)+_0xf67426[_0x1b54f7(0xd33)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x48b9d0?_0x1b54f7(0xa2c)+_0xf67426['name']+'\x22>':'')+_0x1b54f7(0x518)+_0x2be231+_0x1b54f7(0xb9b);}),_0x3614c6+=_0x2546e6(0x4dd);}}_0x4f53e9[_0x2546e6(0xcaa)]=_0x3614c6||_0x2546e6(0x4bd),_0x4f53e9[_0x2546e6(0x524)](_0x2546e6(0x394),updateSelectedTopicsCount),_0x4f53e9[_0x2546e6(0x8d3)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x242d94,_0x4e7025){const _0x59ab57=_0x1ca595;if(!_0x242d94||!_0x4e7025[_0x59ab57(0x964)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x434a2d=doc(db,'artifacts/'+appId+_0x59ab57(0x3fb),_0x242d94);await updateDoc(_0x434a2d,{'name':_0x4e7025[_0x59ab57(0x964)]()}),showMessage(_0x59ab57(0xb91));}catch(_0x4f951a){console[_0x59ab57(0x96)](_0x59ab57(0x45e),_0x4f951a),showMessage(_0x59ab57(0x5dd));}}function toggleTopicEditMode(_0x128d09,_0x55ca95){const _0x5572ad=_0x1ca595;if(!_0x128d09)return;const _0x370a89=_0x128d09[_0x5572ad(0xb49)]('.topic-name-display'),_0x1a55c0=_0x128d09['querySelector'](_0x5572ad(0x3b9)),_0x1bf6ba=_0x128d09[_0x5572ad(0xb49)](_0x5572ad(0x1a9)),_0x1f6846=_0x128d09[_0x5572ad(0xb49)]('.topic-actions-edit');_0x370a89[_0x5572ad(0x325)][_0x5572ad(0x1a3)](_0x5572ad(0x60b),_0x55ca95),_0x1a55c0['classList']['toggle'](_0x5572ad(0x60b),!_0x55ca95),_0x1bf6ba[_0x5572ad(0x325)]['toggle'](_0x5572ad(0x60b),_0x55ca95),_0x1f6846['classList']['toggle'](_0x5572ad(0x60b),!_0x55ca95),_0x55ca95&&(_0x1a55c0[_0x5572ad(0x86d)](),_0x1a55c0[_0x5572ad(0x709)]());}async function handleStartLiveRace(_0x1c7356){const _0x48ffb9=_0x1ca595;let _0x308ab6=allQuizzes[_0x48ffb9(0x2f4)](_0x2c4a42=>_0x2c4a42['id']===_0x1c7356);if(!_0x308ab6){const _0x51ed8e=doc(db,_0x48ffb9(0x54a)+appId+_0x48ffb9(0xa62),_0x1c7356),_0x182aba=await getDoc(_0x51ed8e);if(!_0x182aba[_0x48ffb9(0xa2b)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x308ab6={'id':_0x182aba['id'],..._0x182aba[_0x48ffb9(0xb6)]()};}const _0x326e5a=getShuffledQuiz(_0x308ab6);currentQuizData=_0x326e5a;const _0x31f1d1=_0x308ab6[_0x48ffb9(0x98d)]||currentProjectId||null,_0x128807=Math[_0x48ffb9(0xd51)](0x3e8+Math[_0x48ffb9(0x6b8)]()*0x2328)['toString']();currentLiveGamePin=_0x128807;try{const _0x59bd09=await addDoc(collection(db,_0x48ffb9(0x54a)+appId+_0x48ffb9(0x894)),{'quizId':_0x1c7356,'projectId':_0x31f1d1,'status':_0x48ffb9(0xc7a),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x128807,'createdAt':serverTimestamp(),'shuffledQuiz':_0x326e5a});currentLiveGameId=_0x59bd09['id'],showAdminLobbyView(_0x128807,_0x308ab6[_0x48ffb9(0xa64)]),listenForLiveGameUpdates();}catch(_0x4bb90a){console[_0x48ffb9(0x96)]('Error\x20starting\x20live\x20race:',_0x4bb90a),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x2d3b8=_0x1ca595,_0x21fa79=document[_0x2d3b8(0xcac)](_0x2d3b8(0x8ce)),_0x62655d=_0x21fa79[_0x2d3b8(0x20a)](_0x2d3b8(0x281))[_0x2d3b8(0x1d6)],_0x3cc6db=document[_0x2d3b8(0xcac)]('selected-topics-count');_0x62655d>0x0?_0x3cc6db['textContent']=_0x2d3b8(0xc32)+_0x62655d+_0x2d3b8(0x388):_0x3cc6db[_0x2d3b8(0xc84)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1ca595(0xb63),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x1ca595(0xdf),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x1ca595(0x3f0),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x1ca595(0xd62),scratchpadPenColor='#000000',scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x4e162f,_0x3872bf){const _0x44e7aa=_0x1ca595;return Math[_0x44e7aa(0xd0c)](Math[_0x44e7aa(0xd84)](_0x4e162f['x']-_0x3872bf['x'],0x2)+Math[_0x44e7aa(0xd84)](_0x4e162f['y']-_0x3872bf['y'],0x2));}function getMidpoint(_0x4435bf,_0x4f8f65){return{'x':(_0x4435bf['x']+_0x4f8f65['x'])/0x2,'y':(_0x4435bf['y']+_0x4f8f65['y'])/0x2};}function getTransformedPoint(_0x433093,_0x2c4ecb){return{'x':(_0x433093-scratchpadOffset['x'])/scratchpadScale,'y':(_0x2c4ecb-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x241c46=_0x1ca595;if(!scratchpadCtx)return;const _0x107861=scratchpadCtx[_0x241c46(0x378)],_0x2345c8=window[_0x241c46(0xcf1)]||0x1,_0x5c11a4=document[_0x241c46(0xcac)](_0x241c46(0x276));_0x5c11a4&&(_0x5c11a4['style'][_0x241c46(0x885)]=_0x241c46(0x476),_0x5c11a4[_0x241c46(0x300)][_0x241c46(0x2dd)]=_0x241c46(0x2cd)+scratchpadOffset['x']+_0x241c46(0x16d)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x241c46(0x4a8)](),scratchpadCtx[_0x241c46(0x163)](_0x2345c8,0x0,0x0,_0x2345c8,0x0,0x0),scratchpadCtx[_0x241c46(0x606)](0x0,0x0,_0x107861['width'],_0x107861[_0x241c46(0x636)]),scratchpadCtx[_0x241c46(0x2c3)](),scratchpadCtx['save'](),scratchpadCtx[_0x241c46(0xd48)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x241c46(0x4c5)](scratchpadScale,scratchpadScale),strokes[_0x241c46(0x99f)](_0x31539d=>{drawStroke(_0x31539d);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x241c46(0x2c3)]();}function renderGroupModeQuestion(){const _0x415db6=_0x1ca595;if(localQuestionIndex>=currentQuizData['questions']['length']){displayTeamQuizFinalResults();return;}const _0x15da6e=currentQuizData[_0x415db6(0xbfe)][localQuestionIndex],_0x101f3b=_0x15da6e[_0x415db6(0xc34)]||currentQuizData['quizType'];let _0x24f5f3=_0x15da6e[_0x415db6(0x216)]||_0x15da6e[_0x415db6(0x6f3)],_0x3caa98='';switch(_0x101f3b){case _0x415db6(0x801):case _0x415db6(0xd44):_0x3caa98=_0x15da6e[_0x415db6(0x63f)][_0x415db6(0x201)]((_0x3cbea0,_0x5e3b8f)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x5e3b8f+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x5e3b8f+_0x415db6(0x85)+_0x5e3b8f+'\x22>'+_0x3cbea0+_0x415db6(0x979))[_0x415db6(0xa88)]('');break;case _0x415db6(0xcea):_0x3caa98='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case'short_answer':case _0x415db6(0x19d):_0x3caa98='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case'matching_item':_0x3caa98=_0x415db6(0xb9a)+_0x15da6e[_0x415db6(0x698)][_0x415db6(0x201)](_0x2774c4=>_0x415db6(0xb8c)+_0x2774c4+'\x22>'+_0x2774c4+'</option>')[_0x415db6(0xa88)]('')+_0x415db6(0xd74);break;default:_0x3caa98=_0x415db6(0x537);break;}studentQuizArea[_0x415db6(0xcaa)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData['questions'][_0x415db6(0x1d6)]+_0x415db6(0x806)+localTeamPlayers[_0x415db6(0xa88)](',\x20')+_0x415db6(0x5be)+(localQuestionIndex+0x1)+'.\x20'+_0x24f5f3+_0x415db6(0x879)+(_0x15da6e[_0x415db6(0x2d0)]?_0x415db6(0x5b2)+_0x15da6e[_0x415db6(0x2d0)]+_0x415db6(0x4dd):'')+_0x415db6(0x78e)+_0x3caa98+_0x415db6(0x225),studentQuizArea['classList']['remove'](_0x415db6(0x60b));if(window[_0x415db6(0x4a4)])MathJax[_0x415db6(0xcf0)]([studentQuizArea]);document[_0x415db6(0xcac)](_0x415db6(0x6c9))['addEventListener'](_0x415db6(0xc47),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x53cebf,_0x59a960=null,_0x3d0c63,_0x350e06=null,_0x2f9c21=![],_0x40f61d=null){const _0x3daef7=_0x1ca595,_0x5260fe=document[_0x3daef7(0xcac)](_0x3daef7(0xd95));_0x5260fe&&_0x5260fe[_0x3daef7(0xc14)]({'behavior':_0x3daef7(0x1b7),'block':'center'}),generateQuiz(_0x53cebf,_0x59a960,null,_0x40f61d,!![],_0x3d0c63,_0x350e06,_0x2f9c21);}function handleGenerateAndShowLesson(_0x1c934d,_0x5b5a82){const _0x4f9a7b=_0x1ca595,_0x2bc566=document['getElementById'](_0x4f9a7b(0xb3d)),_0x1ba9a1=document[_0x4f9a7b(0xcac)](_0x4f9a7b(0xd4a)),_0x190cce=document[_0x4f9a7b(0xcac)](_0x4f9a7b(0x68f)),_0xb3785e=document[_0x4f9a7b(0xcac)](_0x4f9a7b(0x467));[_0x4f9a7b(0xc81),_0x4f9a7b(0x669),_0x4f9a7b(0xc8c),'summaryContent'][_0x4f9a7b(0x99f)](_0x45a2f8=>{const _0x575986=_0x4f9a7b,_0x543233=document[_0x575986(0xcac)](_0x45a2f8)[_0x575986(0x299)];_0x543233&&(_0x543233[_0x575986(0x300)]['display']=_0x575986(0xb8f));}),_0x1ba9a1[_0x4f9a7b(0xc84)]=_0x4f9a7b(0x1b8)+_0x1c934d,_0xb3785e[_0x4f9a7b(0x325)][_0x4f9a7b(0xd3c)](_0x4f9a7b(0x60b)),_0x190cce[_0x4f9a7b(0x325)][_0x4f9a7b(0x419)](_0x4f9a7b(0x60b)),_0x2bc566[_0x4f9a7b(0x325)]['remove']('hidden'),generateLesson(_0x1c934d,_0x5b5a82)[_0x4f9a7b(0x1b4)](_0x95c16b=>{const _0x278377=_0x4f9a7b;console[_0x278377(0x96)](_0x278377(0x86f),_0x95c16b),showMessage(_0x278377(0x227)),_0x2bc566['classList'][_0x278377(0xd3c)](_0x278377(0x60b));});}function handlePointerDown(_0x376b8a){const _0x4000ab=_0x1ca595;_0x376b8a[_0x4000ab(0xd43)]();const _0xb4c89e=scratchpadCtx['canvas'],_0x467ab8=_0xb4c89e[_0x4000ab(0x663)](),_0x55053c=_0x376b8a['pointerType']||(_0x376b8a[_0x4000ab(0x7d4)]?_0x4000ab(0x4b8):_0x4000ab(0xc7));if(_0x55053c==='pen'||_0x55053c==='mouse'){if(_0x376b8a[_0x4000ab(0xd3)]==='mouse'&&_0x376b8a[_0x4000ab(0x153)]!==0x0){_0x376b8a['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x376b8a[_0x4000ab(0x8a)],'y':_0x376b8a['clientY']},_0xb4c89e[_0x4000ab(0x300)][_0x4000ab(0x57c)]=_0x4000ab(0xb82));return;}activeTool===_0x4000ab(0xb4a)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0xabec34=getTransformedPoint(_0x376b8a[_0x4000ab(0x8a)]-_0x467ab8[_0x4000ab(0xc4)],_0x376b8a[_0x4000ab(0xa80)]-_0x467ab8[_0x4000ab(0xb32)]);let _0x388a27={'tool':activeTool,'points':[_0xabec34]};if(activeTool==='pen')_0x388a27[_0x4000ab(0x471)]=scratchpadPenColor,_0x388a27['size']=scratchpadPenSize;else{if(activeTool===_0x4000ab(0x6ae))_0x388a27['color']=scratchpadPenColor,_0x388a27[_0x4000ab(0x679)]=scratchpadEraserSize;else{if(activeTool===_0x4000ab(0x319))_0x388a27[_0x4000ab(0x471)]=scratchpadHighlighterColor,_0x388a27[_0x4000ab(0x679)]=scratchpadHighlighterSize;else activeTool===_0x4000ab(0xb4a)&&(_0x388a27['color']=scratchpadPenColor,_0x388a27[_0x4000ab(0x679)]=scratchpadPenSize);}}currentStroke=_0x388a27;}else _0x376b8a[_0x4000ab(0x7d4)]&&(_0x376b8a[_0x4000ab(0x7d4)][_0x4000ab(0x1d6)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x376b8a['touches'][0x0]['clientX'],'y':_0x376b8a[_0x4000ab(0x7d4)][0x0][_0x4000ab(0xa80)]},{'x':_0x376b8a['touches'][0x1][_0x4000ab(0x8a)],'y':_0x376b8a[_0x4000ab(0x7d4)][0x1][_0x4000ab(0xa80)]}),initialPinchDistance=getDistance({'x':_0x376b8a[_0x4000ab(0x7d4)][0x0][_0x4000ab(0x8a)],'y':_0x376b8a[_0x4000ab(0x7d4)][0x0]['clientY']},{'x':_0x376b8a[_0x4000ab(0x7d4)][0x1][_0x4000ab(0x8a)],'y':_0x376b8a[_0x4000ab(0x7d4)][0x1][_0x4000ab(0xa80)]})));}function animateTrail(){const _0x384d2e=_0x1ca595,_0x2e270a=Date['now']();let _0x28175a=![];for(let _0x364b60=strokes['length']-0x1;_0x364b60>=0x0;_0x364b60--){const _0x4eb8b6=strokes[_0x364b60];if(_0x4eb8b6[_0x384d2e(0x5cf)]==='trail'&&_0x4eb8b6[_0x384d2e(0x385)]){const _0xde5a4a=_0x2e270a-_0x4eb8b6['fadeStartTime'];_0xde5a4a>=TRAIL_DURATION?strokes[_0x384d2e(0x55d)](_0x364b60,0x1):(_0x4eb8b6[_0x384d2e(0x5c6)]=0x1-_0xde5a4a/TRAIL_DURATION,_0x28175a=!![]);}}redrawScratchpad(),_0x28175a?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x357052){const _0x4f773a=_0x1ca595;if(!_0x357052||_0x357052[_0x4f773a(0x6aa)][_0x4f773a(0x1d6)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx['lineJoin']=_0x4f773a(0xc07),scratchpadCtx[_0x4f773a(0xb7e)]=_0x4f773a(0xc07);if(_0x357052[_0x4f773a(0x5cf)]===_0x4f773a(0xb4a)){const _0x484621=_0x357052[_0x4f773a(0x679)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x357052[_0x4f773a(0x5c6)]??0x1,scratchpadCtx['shadowColor']=_0x4f773a(0x648),scratchpadCtx[_0x4f773a(0xacb)]=_0x484621*0x3,scratchpadCtx[_0x4f773a(0xc98)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x4f773a(0x7f5)]=_0x484621*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x4f773a(0x302)](_0x357052[_0x4f773a(0x6aa)][0x0]['x'],_0x357052[_0x4f773a(0x6aa)][0x0]['y']);for(let _0x582dbd=0x1;_0x582dbd<_0x357052[_0x4f773a(0x6aa)][_0x4f773a(0x1d6)]-0x1;_0x582dbd++){const _0xff7608=getMidpoint(_0x357052[_0x4f773a(0x6aa)][_0x582dbd],_0x357052[_0x4f773a(0x6aa)][_0x582dbd+0x1]);scratchpadCtx[_0x4f773a(0xd53)](_0x357052[_0x4f773a(0x6aa)][_0x582dbd]['x'],_0x357052['points'][_0x582dbd]['y'],_0xff7608['x'],_0xff7608['y']);}scratchpadCtx[_0x4f773a(0x7bf)](),scratchpadCtx[_0x4f773a(0xb84)]=_0x4f773a(0xc4f),scratchpadCtx[_0x4f773a(0xacb)]=0x0,scratchpadCtx[_0x4f773a(0xc98)]='#FFFFFF',scratchpadCtx[_0x4f773a(0x7f5)]=_0x484621,scratchpadCtx[_0x4f773a(0x7bf)](),scratchpadCtx[_0x4f773a(0x83e)]();}else{if(_0x357052[_0x4f773a(0x5cf)]==='highlighter'){scratchpadCtx['globalCompositeOperation']='multiply',scratchpadCtx[_0x4f773a(0xc98)]=_0x357052['color'],scratchpadCtx[_0x4f773a(0x7f5)]=_0x357052[_0x4f773a(0x679)],scratchpadCtx[_0x4f773a(0x8cf)](),scratchpadCtx[_0x4f773a(0x302)](_0x357052['points'][0x0]['x'],_0x357052[_0x4f773a(0x6aa)][0x0]['y']);for(let _0x481cb0=0x1;_0x481cb0<_0x357052[_0x4f773a(0x6aa)][_0x4f773a(0x1d6)]-0x1;_0x481cb0++){const _0x159c79=getMidpoint(_0x357052['points'][_0x481cb0],_0x357052[_0x4f773a(0x6aa)][_0x481cb0+0x1]);scratchpadCtx[_0x4f773a(0xd53)](_0x357052[_0x4f773a(0x6aa)][_0x481cb0]['x'],_0x357052[_0x4f773a(0x6aa)][_0x481cb0]['y'],_0x159c79['x'],_0x159c79['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x4f773a(0x83e)]();}else{scratchpadCtx[_0x4f773a(0x2ca)]=_0x357052[_0x4f773a(0x5cf)]==='eraser'?_0x4f773a(0x480):'source-over',scratchpadCtx[_0x4f773a(0xc98)]=_0x357052[_0x4f773a(0x471)],scratchpadCtx[_0x4f773a(0x7f5)]=_0x357052[_0x4f773a(0x679)],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x357052[_0x4f773a(0x6aa)][0x0]['x'],_0x357052['points'][0x0]['y']);for(let _0x28e02a=0x1;_0x28e02a<_0x357052[_0x4f773a(0x6aa)][_0x4f773a(0x1d6)]-0x1;_0x28e02a++){const _0x3dc46d=getMidpoint(_0x357052['points'][_0x28e02a],_0x357052[_0x4f773a(0x6aa)][_0x28e02a+0x1]);scratchpadCtx[_0x4f773a(0xd53)](_0x357052[_0x4f773a(0x6aa)][_0x28e02a]['x'],_0x357052[_0x4f773a(0x6aa)][_0x28e02a]['y'],_0x3dc46d['x'],_0x3dc46d['y']);}scratchpadCtx[_0x4f773a(0x7bf)](),scratchpadCtx[_0x4f773a(0x83e)]();}}scratchpadCtx[_0x4f773a(0x2c3)]();}function handlePointerMove(_0x2e399f){const _0x251e20=_0x1ca595;_0x2e399f[_0x251e20(0xd43)]();const _0xa87d6f=scratchpadCtx[_0x251e20(0x378)],_0x5f16a5=_0xa87d6f[_0x251e20(0x663)]();if(_0x2e399f[_0x251e20(0x7d4)]){if(_0x2e399f[_0x251e20(0x7d4)][_0x251e20(0x1d6)]===0x1&&isDrawingOnScratchpad){const _0x42943d=getTransformedPoint(_0x2e399f[_0x251e20(0x7d4)][0x0][_0x251e20(0x8a)]-_0x5f16a5[_0x251e20(0xc4)],_0x2e399f[_0x251e20(0x7d4)][0x0][_0x251e20(0xa80)]-_0x5f16a5[_0x251e20(0xb32)]);currentStroke[_0x251e20(0x6aa)][_0x251e20(0x3bb)](_0x42943d),redrawScratchpad();}else{if(_0x2e399f[_0x251e20(0x7d4)][_0x251e20(0x1d6)]===0x2&&isPanning){const _0x3ae7cb=getDistance({'x':_0x2e399f[_0x251e20(0x7d4)][0x0][_0x251e20(0x8a)],'y':_0x2e399f['touches'][0x0]['clientY']},{'x':_0x2e399f[_0x251e20(0x7d4)][0x1]['clientX'],'y':_0x2e399f[_0x251e20(0x7d4)][0x1]['clientY']}),_0x34fddf=getMidpoint({'x':_0x2e399f[_0x251e20(0x7d4)][0x0]['clientX'],'y':_0x2e399f[_0x251e20(0x7d4)][0x0][_0x251e20(0xa80)]},{'x':_0x2e399f[_0x251e20(0x7d4)][0x1]['clientX'],'y':_0x2e399f[_0x251e20(0x7d4)][0x1][_0x251e20(0xa80)]}),_0x2e73ab=_0x3ae7cb/ initialPinchDistance,_0x1bf10c=Math['min'](Math['max'](scratchpadScale*_0x2e73ab,MIN_SCALE),MAX_SCALE),_0x215d94=_0x34fddf['x']-panStart['x'],_0x45f75b=_0x34fddf['y']-panStart['y'];scratchpadOffset['x']=_0x34fddf['x']-(_0x34fddf['x']-scratchpadOffset['x'])*(_0x1bf10c/scratchpadScale),scratchpadOffset['y']=_0x34fddf['y']-(_0x34fddf['y']-scratchpadOffset['y'])*(_0x1bf10c/scratchpadScale),scratchpadOffset['x']+=_0x215d94,scratchpadOffset['y']+=_0x45f75b,scratchpadScale=_0x1bf10c,initialPinchDistance=_0x3ae7cb,panStart=_0x34fddf,redrawScratchpad();}}}else{if(isMousePanning){const _0x2b19b5=_0x2e399f[_0x251e20(0x8a)]-panStart['x'],_0x89174a=_0x2e399f[_0x251e20(0xa80)]-panStart['y'];scratchpadOffset['x']+=_0x2b19b5,scratchpadOffset['y']+=_0x89174a,panStart={'x':_0x2e399f['clientX'],'y':_0x2e399f[_0x251e20(0xa80)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x4eb4cd=getTransformedPoint(_0x2e399f[_0x251e20(0x8a)]-_0x5f16a5['left'],_0x2e399f[_0x251e20(0xa80)]-_0x5f16a5['top']);currentStroke['points']['push'](_0x4eb4cd),redrawScratchpad();}}}}function handlePointerUp(_0x2f93cb){const _0x31a95b=_0x1ca595;_0x2f93cb['preventDefault']();const _0x2b29d1=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x2b29d1[_0x31a95b(0x300)][_0x31a95b(0x57c)]=_0x31a95b(0xab5)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x31a95b(0x6aa)]['length']>0x1&&(strokes[_0x31a95b(0x3bb)](currentStroke),currentStroke[_0x31a95b(0x5cf)]===_0x31a95b(0xb4a)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x119144=_0x31a95b,_0x38883f=strokes[_0x119144(0xa00)](_0x143153=>_0x143153[_0x119144(0x5cf)]===_0x119144(0xb4a)&&!_0x143153[_0x119144(0x385)]);if(_0x38883f[_0x119144(0x1d6)]>0x0){const _0x4ff6a1=Date[_0x119144(0x27a)]();_0x38883f['forEach'](_0x293a1a=>_0x293a1a[_0x119144(0x385)]=_0x4ff6a1),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x2c8642){const _0x34a549=_0x1ca595;_0x2c8642['preventDefault']();const _0x4e2649=_0x2c8642['deltaY']*-0.005,_0x354d51=Math[_0x34a549(0x390)](Math[_0x34a549(0xdb)](scratchpadScale+_0x4e2649,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x2c8642[_0x34a549(0x8a)]-(_0x2c8642['clientX']-scratchpadOffset['x'])*(_0x354d51/scratchpadScale),scratchpadOffset['y']=_0x2c8642[_0x34a549(0xa80)]-(_0x2c8642[_0x34a549(0xa80)]-scratchpadOffset['y'])*(_0x354d51/scratchpadScale),scratchpadScale=_0x354d51,redrawScratchpad();}function undo(){const _0x43ac1a=_0x1ca595;strokes[_0x43ac1a(0x1d6)]>0x0&&(redoStrokes[_0x43ac1a(0x3bb)](strokes[_0x43ac1a(0x8c0)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5e8bf7=_0x1ca595;redoStrokes[_0x5e8bf7(0x1d6)]>0x0&&(strokes[_0x5e8bf7(0x3bb)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x51d17f=_0x1ca595;document[_0x51d17f(0xcac)]('undo-btn')['disabled']=strokes['length']===0x0,document[_0x51d17f(0xcac)](_0x51d17f(0x512))[_0x51d17f(0x25a)]=redoStrokes[_0x51d17f(0x1d6)]===0x0;}function openScratchpad(_0x5ac25f,_0x268b4d){const _0x267c0b=_0x1ca595,_0x56ea09=document['getElementById'](_0x267c0b(0xa37)),_0x5d8ab3=document[_0x267c0b(0xcac)](_0x267c0b(0x532)),_0x3555ae=document['getElementById']('scratchpad-options'),_0x58071b=document[_0x267c0b(0xcac)](_0x267c0b(0xe0));_0x5d8ab3['innerHTML']=_0x5ac25f['stem']||_0x5ac25f[_0x267c0b(0x6f3)],_0x3555ae[_0x267c0b(0xcaa)]=_0x268b4d[_0x267c0b(0x201)]((_0x55363e,_0x1e3263)=>_0x267c0b(0x87e)+String[_0x267c0b(0x401)](0x41+_0x1e3263)+'.\x20'+_0x55363e+_0x267c0b(0x4dd))[_0x267c0b(0xa88)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x56ea09[_0x267c0b(0x325)][_0x267c0b(0x419)](_0x267c0b(0x60b)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x267c0b(0x4a4)])MathJax[_0x267c0b(0xcf0)]([_0x5d8ab3,_0x3555ae]);}function openBlueprintQuizSettings(){const _0x501ff3=_0x1ca595,_0x1625ff=document[_0x501ff3(0xcac)](_0x501ff3(0x5c1)),_0x387b6d=blueprintPageSettings||(currentProjectData?currentProjectData[_0x501ff3(0xaaa)]:{})||{};document[_0x501ff3(0xcac)](_0x501ff3(0x84b))[_0x501ff3(0x41e)]=_0x387b6d[_0x501ff3(0x717)]||document[_0x501ff3(0xcac)]('quiz-type-select')[_0x501ff3(0x41e)],document['getElementById'](_0x501ff3(0x919))[_0x501ff3(0xcaa)]=document[_0x501ff3(0xcac)](_0x501ff3(0x1be))[_0x501ff3(0xcaa)],document[_0x501ff3(0xcac)]('bp-modal-difficulty-level-select')[_0x501ff3(0x41e)]=_0x387b6d['difficultyValue']||document[_0x501ff3(0xcac)](_0x501ff3(0x1be))[_0x501ff3(0x41e)],document[_0x501ff3(0xcac)](_0x501ff3(0x209))[_0x501ff3(0xcaa)]=document['getElementById'](_0x501ff3(0x841))[_0x501ff3(0xcaa)],document['getElementById']('bp-modal-question-complexity-select')['value']=_0x387b6d[_0x501ff3(0xbda)]||document[_0x501ff3(0xcac)](_0x501ff3(0x841))['value'],document['getElementById'](_0x501ff3(0x6b5))[_0x501ff3(0x41e)]=_0x387b6d['numQuestions']||document[_0x501ff3(0xcac)]('num-questions')[_0x501ff3(0x41e)],document[_0x501ff3(0xcac)](_0x501ff3(0xc31))[_0x501ff3(0x41e)]=_0x387b6d[_0x501ff3(0x117)]||document[_0x501ff3(0xcac)](_0x501ff3(0xbff))['value'],document[_0x501ff3(0xcac)](_0x501ff3(0x359))[_0x501ff3(0x41e)]=_0x387b6d[_0x501ff3(0x822)]||document[_0x501ff3(0xcac)](_0x501ff3(0xd1a))[_0x501ff3(0x41e)],document[_0x501ff3(0xcac)]('bp-modal-shuffle-setting-select')[_0x501ff3(0x41e)]=_0x387b6d[_0x501ff3(0x7b1)]||document[_0x501ff3(0xcac)](_0x501ff3(0x3f8))['value'],document[_0x501ff3(0xcac)](_0x501ff3(0x395))[_0x501ff3(0xa81)]=_0x387b6d[_0x501ff3(0xb9)]||document[_0x501ff3(0xcac)]('include-images-checkbox')[_0x501ff3(0xa81)],_0x1625ff[_0x501ff3(0x325)][_0x501ff3(0x419)]('hidden');}function handleSaveBlueprintPageSettings(){const _0x3426b0=_0x1ca595;blueprintPageSettings={'quizType':document[_0x3426b0(0xcac)](_0x3426b0(0x84b))[_0x3426b0(0x41e)],'difficultyValue':document[_0x3426b0(0xcac)]('bp-modal-difficulty-level-select')[_0x3426b0(0x41e)],'complexityValue':document[_0x3426b0(0xcac)](_0x3426b0(0x209))[_0x3426b0(0x41e)],'numQuestions':document[_0x3426b0(0xcac)](_0x3426b0(0x6b5))[_0x3426b0(0x41e)],'passingScore':document['getElementById']('bp-modal-passing-score-input')['value'],'numChoices':document[_0x3426b0(0xcac)](_0x3426b0(0x359))[_0x3426b0(0x41e)],'shuffle':document[_0x3426b0(0xcac)]('bp-modal-shuffle-setting-select')['value'],'includeImages':document[_0x3426b0(0xcac)]('bp-modal-include-images-checkbox')[_0x3426b0(0xa81)]},showMessage(_0x3426b0(0x4dc)),document['getElementById'](_0x3426b0(0x5c1))[_0x3426b0(0x325)][_0x3426b0(0xd3c)](_0x3426b0(0x60b));}function listenForParallelTestShortcuts(){const _0x12bca0=_0x1ca595,_0x4fed4d=doc(db,_0x12bca0(0x24b),_0x12bca0(0x412));onSnapshot(_0x4fed4d,_0x43781e=>{const _0x159c6a=_0x12bca0;let _0x2f4e8f=[],_0x260c87=[],_0x70bee3={};if(_0x43781e[_0x159c6a(0xa2b)]()){const _0x2f64af=_0x43781e[_0x159c6a(0xb6)]();_0x2f4e8f=_0x2f64af[_0x159c6a(0x571)]||[],_0x260c87=_0x2f64af[_0x159c6a(0x686)]||[],_0x70bee3=_0x2f64af[_0x159c6a(0x263)]||{};}!_0x260c87[_0x159c6a(0x2f4)](_0x502777=>_0x502777['id']===_0x159c6a(0xa12))&&_0x260c87[_0x159c6a(0xc9f)]({'id':'all','name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x2f4e8f[_0x159c6a(0x2f4)](_0xaa83cb=>_0xaa83cb['id']===_0x159c6a(0x267))&&_0x2f4e8f['unshift']({'id':_0x159c6a(0x267),'name':_0x159c6a(0x714),'url':'','isDefault':!![]}),!_0x2f4e8f[_0x159c6a(0x2f4)](_0x87cb1c=>_0x87cb1c['id']===_0x159c6a(0x590))&&_0x2f4e8f[_0x159c6a(0xc9f)]({'id':_0x159c6a(0x590),'name':_0x159c6a(0xc38),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x2f4e8f,parallelShortcutTabs=_0x260c87,parallelShortcutOrder=_0x70bee3,renderParallelTestShortcuts(),!document[_0x159c6a(0xcac)](_0x159c6a(0x70b))[_0x159c6a(0x325)]['contains'](_0x159c6a(0x60b))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x41d4c0=_0x1ca595,_0x4a4aea=doc(db,'globalSettings',_0x41d4c0(0x412));try{await setDoc(_0x4a4aea,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x5c9dc6){console[_0x41d4c0(0x96)](_0x41d4c0(0x938),_0x5c9dc6);}}function renderAdditionalParallelShortcutsModal(){const _0x502712=_0x1ca595,_0x2f0433=document[_0x502712(0xcac)](_0x502712(0x9aa)),_0x135526=document[_0x502712(0xcac)](_0x502712(0x51a));if(!_0x2f0433||!_0x135526)return;_0x2f0433[_0x502712(0xcaa)]=parallelShortcutTabs[_0x502712(0x201)](_0x4b5856=>{const _0x397463=_0x502712,_0x11649a=_0x4b5856['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x4b5856['id']+_0x397463(0x5b4)+(_0x11649a?_0x397463(0x8ef):_0x397463(0xc93))+_0x397463(0x461)+_0x4b5856['name']+_0x397463(0xa36)+_0x4b5856[_0x397463(0xd33)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4b5856[_0x397463(0x183)]?'<button\x20data-tab-id=\x22'+_0x4b5856['id']+_0x397463(0x6a9):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');const _0x48620b=parallelShortcutTabs[_0x502712(0x2f4)](_0x2ac684=>_0x2ac684['id']===activeParallelShortcutTabId);let _0x2a7f6c=_0x48620b?.[_0x502712(0x183)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x502712(0xa00)](_0xbfe21e=>(_0x48620b?.[_0x502712(0x753)]||[])[_0x502712(0x39b)](_0xbfe21e['id']));const _0x23c60d=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x2a7f6c[_0x502712(0xb2f)]((_0x33009c,_0xad15f0)=>{const _0x19db3a=_0x502712,_0x303b46=_0x23c60d['indexOf'](_0x33009c['id']),_0x2d1bdb=_0x23c60d[_0x19db3a(0x5ff)](_0xad15f0['id']);return(_0x303b46===-0x1?Infinity:_0x303b46)-(_0x2d1bdb===-0x1?Infinity:_0x2d1bdb);}),_0x135526['innerHTML']=_0x2a7f6c[_0x502712(0x201)](_0x338e73=>{const _0xbb4787=_0x502712,_0x344f06=_0x338e73[_0xbb4787(0x3d7)]?'🔁':'🔗',_0x5d6713=parallelShortcutTabs['filter'](_0x130f4c=>!_0x130f4c['isDefault']),_0x53b05b=_0x48620b['isDefault']&&_0x5d6713[_0xbb4787(0x1d6)]>0x0?_0xbb4787(0x535)+_0x5d6713[_0xbb4787(0x201)](_0x5b9c48=>_0xbb4787(0x52c)+_0x338e73['id']+_0xbb4787(0xb76)+_0x5b9c48['id']+'\x22>'+_0x5b9c48[_0xbb4787(0xd33)]+_0xbb4787(0x7b0))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0xbb4787(0x4d3)+_0x338e73['id']+_0xbb4787(0xd02)+_0x344f06+'\x20'+_0x338e73['name']+_0xbb4787(0x743)+_0x338e73['id']+_0xbb4787(0xaeb)+_0x338e73['id']+_0xbb4787(0x2ee)+(!_0x338e73[_0xbb4787(0x183)]?_0xbb4787(0x9f8)+_0x338e73['id']+_0xbb4787(0x96d):'')+_0xbb4787(0x33c)+(!_0x48620b[_0xbb4787(0x183)]?_0xbb4787(0x45f)+_0x338e73['id']+_0xbb4787(0xd0e):'')+_0xbb4787(0x33c)+_0x53b05b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x502712(0xa88)]('')||_0x502712(0x922),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0xda62c8=_0x1ca595;document[_0xda62c8(0x20a)]('.parallel-shortcut-tab-btn')['forEach'](_0x22b159=>{const _0x3d4235=_0xda62c8;_0x22b159[_0x3d4235(0x733)]=_0x1f15cd=>{const _0x3d94d2=_0x3d4235;activeParallelShortcutTabId=_0x1f15cd[_0x3d94d2(0xcab)][_0x3d94d2(0x1e8)][_0x3d94d2(0x2af)],renderAdditionalParallelShortcutsModal();},_0x22b159[_0x3d4235(0x89c)]=_0x1e2ecc=>{const _0x958e19=_0x3d4235,_0x25f972=_0x1e2ecc[_0x958e19(0xcab)][_0x958e19(0xb49)](_0x958e19(0xd6));_0x1e2ecc[_0x958e19(0xcab)]['querySelector'](_0x958e19(0x73a))[_0x958e19(0x325)][_0x958e19(0xd3c)]('hidden'),_0x25f972[_0x958e19(0x325)]['remove'](_0x958e19(0x60b)),_0x25f972[_0x958e19(0x86d)](),_0x25f972['select']();};}),document[_0xda62c8(0x20a)](_0xda62c8(0x97f))[_0xda62c8(0x99f)](_0xe42c56=>{const _0x42bb7e=_0xda62c8,_0x4dfc9c=()=>{const _0x495a11=_0x2406,_0x5e5e40=_0xe42c56[_0x495a11(0x2d3)]('.parallel-shortcut-tab-btn')[_0x495a11(0x1e8)][_0x495a11(0x2af)],_0x763380=parallelShortcutTabs['find'](_0x13859b=>_0x13859b['id']===_0x5e5e40);_0x763380&&(_0x763380[_0x495a11(0xd33)]=_0xe42c56[_0x495a11(0x41e)][_0x495a11(0x964)]()||_0x763380['name'],saveParallelShortcutConfig());};_0xe42c56[_0x42bb7e(0x738)]=_0x4dfc9c,_0xe42c56['onkeydown']=_0x58d5a2=>{const _0x3b6a31=_0x42bb7e;if(_0x58d5a2[_0x3b6a31(0x802)]==='Enter')_0xe42c56[_0x3b6a31(0x5d1)]();};}),document[_0xda62c8(0x20a)]('.delete-parallel-shortcut-tab-btn')[_0xda62c8(0x99f)](_0x13c272=>_0x13c272[_0xda62c8(0x733)]=_0x58baf3=>{const _0xa065eb=_0xda62c8,_0x1bdd9e=_0x58baf3[_0xa065eb(0xcab)][_0xa065eb(0x1e8)][_0xa065eb(0x2af)];showConfirmation(_0xa065eb(0x173),()=>{const _0x9824d0=_0xa065eb;parallelShortcutTabs=parallelShortcutTabs['filter'](_0x5d5f73=>_0x5d5f73['id']!==_0x1bdd9e),delete parallelShortcutOrder[_0x1bdd9e];if(activeParallelShortcutTabId===_0x1bdd9e)activeParallelShortcutTabId=_0x9824d0(0xa12);saveParallelShortcutConfig();});}),document[_0xda62c8(0x20a)](_0xda62c8(0xb66))[_0xda62c8(0x99f)](_0x44fa67=>_0x44fa67[_0xda62c8(0x733)]=_0x3ab068=>{const _0x34156b=_0xda62c8;_0x3ab068[_0x34156b(0xd43)]();const {shortcutId:_0x310db8,targetTabId:_0x59e830}=_0x3ab068[_0x34156b(0xcab)][_0x34156b(0x1e8)],_0x2e80f7=parallelShortcutTabs[_0x34156b(0x2f4)](_0xb37806=>_0xb37806['id']===_0x59e830);_0x2e80f7&&!_0x2e80f7['shortcutIds'][_0x34156b(0x39b)](_0x310db8)&&(_0x2e80f7[_0x34156b(0x753)][_0x34156b(0x3bb)](_0x310db8),saveParallelShortcutConfig());}),document[_0xda62c8(0x20a)](_0xda62c8(0xcd8))[_0xda62c8(0x99f)](_0x3d6d6d=>_0x3d6d6d['onclick']=_0x14c22c=>{const _0x1ce01b=_0xda62c8,_0x563d1b=_0x14c22c[_0x1ce01b(0xcab)]['dataset'][_0x1ce01b(0x6a6)],_0x4ac7fb=parallelShortcutTabs[_0x1ce01b(0x2f4)](_0x27f9c7=>_0x27f9c7['id']===activeParallelShortcutTabId);_0x4ac7fb&&!_0x4ac7fb[_0x1ce01b(0x183)]&&(_0x4ac7fb['shortcutIds']=_0x4ac7fb[_0x1ce01b(0x753)]['filter'](_0x1283be=>_0x1283be!==_0x563d1b),saveParallelShortcutConfig());}),document['querySelectorAll'](_0xda62c8(0x94d))[_0xda62c8(0x99f)](_0x2d7b11=>_0x2d7b11['onclick']=_0x5b1336=>{const _0x5f2be6=_0xda62c8;_0x5b1336[_0x5f2be6(0xb6c)]();const _0x5d864b=_0x5b1336['currentTarget'][_0x5f2be6(0x462)];document[_0x5f2be6(0x20a)]('.move-parallel-shortcut-dropdown')[_0x5f2be6(0x99f)](_0x2c23f8=>_0x2c23f8['classList'][_0x5f2be6(0xd3c)]('hidden')),_0x5d864b[_0x5f2be6(0x325)][_0x5f2be6(0x419)](_0x5f2be6(0x60b));});const _0x3caf95=document[_0xda62c8(0xcac)](_0xda62c8(0x51a));let _0x1cf615=null;_0x3caf95[_0xda62c8(0xd16)]=_0x56f334=>{const _0x4cec00=_0xda62c8;_0x1cf615=_0x56f334['target'][_0x4cec00(0x2d3)](_0x4cec00(0x211));if(_0x1cf615)setTimeout(()=>_0x1cf615['classList'][_0x4cec00(0xd3c)]('opacity-50'),0x0);},_0x3caf95['ondragend']=()=>{const _0x4c0889=_0xda62c8;_0x1cf615&&(_0x1cf615[_0x4c0889(0x325)]['remove']('opacity-50'),_0x1cf615=null);},_0x3caf95[_0xda62c8(0xc65)]=_0xd0a54e=>{_0xd0a54e['preventDefault']();},_0x3caf95[_0xda62c8(0xa2a)]=_0x1b2132=>{const _0x542bfb=_0xda62c8;_0x1b2132[_0x542bfb(0xd43)]();if(_0x1cf615){const _0x213c9d=[..._0x3caf95[_0x542bfb(0x20a)](_0x542bfb(0x3d4))][_0x542bfb(0x231)]((_0x1d9037,_0x5e97fa)=>{const _0x4778aa=_0x542bfb,_0x4a85c3=_0x5e97fa['getBoundingClientRect'](),_0x5deeef=_0x1b2132[_0x4778aa(0xa80)]-_0x4a85c3[_0x4778aa(0xb32)]-_0x4a85c3[_0x4778aa(0x636)]/0x2;return _0x5deeef<0x0&&_0x5deeef>_0x1d9037[_0x4778aa(0x9e5)]?{'offset':_0x5deeef,'element':_0x5e97fa}:_0x1d9037;},{'offset':Number['NEGATIVE_INFINITY']})[_0x542bfb(0x529)];_0x213c9d==null?_0x3caf95[_0x542bfb(0x1d2)](_0x1cf615):_0x3caf95[_0x542bfb(0x718)](_0x1cf615,_0x213c9d);const _0x3acb42=[..._0x3caf95[_0x542bfb(0x20a)](_0x542bfb(0x211))]['map'](_0x4eda03=>_0x4eda03['dataset'][_0x542bfb(0x6a6)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x3acb42,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x44b4f3=_0x1ca595,_0xefad74=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x44b4f3(0x5cb));_0xefad74&&_0xefad74[_0x44b4f3(0x964)]()&&(parallelShortcutTabs[_0x44b4f3(0x3bb)]({'id':_0x44b4f3(0xc19)+Date[_0x44b4f3(0x27a)](),'name':_0xefad74['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x1df1da=_0x1ca595,_0x3134e1=document[_0x1df1da(0xcac)](_0x1df1da(0xbd2)),_0x23f9a4=document['getElementById']('additional-parallel-shortcuts-list'),_0x29d9fd=document[_0x1df1da(0xcac)]('parallel-shortcuts-loading-msg');if(_0x29d9fd)_0x29d9fd['classList'][_0x1df1da(0xd3c)](_0x1df1da(0x60b));if(!_0x3134e1||!_0x23f9a4)return;const _0x364a30=parallelTestShortcuts[_0x1df1da(0x2ea)](0x0,0x4),_0x337813=parallelTestShortcuts['slice'](0x4);_0x3134e1[_0x1df1da(0xcaa)]=_0x364a30[_0x1df1da(0x201)](_0x550ae8=>{const _0x16a4dd=_0x1df1da,_0x4bdc31=_0x550ae8[_0x16a4dd(0x3d7)]&&_0x550ae8[_0x16a4dd(0x3d7)][_0x16a4dd(0x964)]()!=='',_0x3da346=_0x4bdc31?_0x16a4dd(0x29e):_0x16a4dd(0xae3),_0x1e18b2=_0x4bdc31?'🔁':'🔗',_0x4c6776=!_0x550ae8[_0x16a4dd(0x183)]?_0x16a4dd(0x9f8)+_0x550ae8['id']+_0x16a4dd(0xcb0):'';return _0x16a4dd(0x5e6)+_0x550ae8['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x3da346+_0x16a4dd(0xf4)+_0x1e18b2+'\x20'+_0x550ae8['name']+_0x16a4dd(0x5b0)+_0x550ae8['id']+_0x16a4dd(0xa72)+_0x4c6776+_0x16a4dd(0x59c);})[_0x1df1da(0xa88)](''),_0x337813['length']>0x0&&(_0x3134e1['innerHTML']+=_0x1df1da(0x98e)),_0x337813[_0x1df1da(0x1d6)]>0x0?_0x23f9a4[_0x1df1da(0xcaa)]=_0x337813['map'](_0x3cd71b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x3cd71b[_0x1df1da(0x3d7)]?'🔁':'🔗')+'\x20'+_0x3cd71b[_0x1df1da(0xd33)]+_0x1df1da(0x608)+_0x3cd71b['id']+_0x1df1da(0xcf)+_0x3cd71b['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3cd71b[_0x1df1da(0x183)]?_0x1df1da(0x9f8)+_0x3cd71b['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x1df1da(0xc96))[_0x1df1da(0xa88)](''):_0x23f9a4[_0x1df1da(0xcaa)]=_0x1df1da(0xb8b);}function openParallelTestShortcutEditor(_0x242f50=null){const _0x1de4e2=_0x1ca595,_0x3d3d0e=document[_0x1de4e2(0xcac)](_0x1de4e2(0xd06)),_0x388ad6=document[_0x1de4e2(0xcac)](_0x1de4e2(0x961)),_0x80118=document[_0x1de4e2(0xcac)](_0x1de4e2(0x712)),_0x3ce83a=document[_0x1de4e2(0xcac)](_0x1de4e2(0x722)),_0x580642=document['getElementById']('parallel-shortcut-url-input');if(_0x242f50){const _0x29053b=parallelTestShortcuts[_0x1de4e2(0x2f4)](_0x1b7491=>_0x1b7491['id']===_0x242f50);if(!_0x29053b)return;_0x388ad6[_0x1de4e2(0xc84)]='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x80118['value']=_0x29053b['id'],_0x3ce83a[_0x1de4e2(0x41e)]=_0x29053b[_0x1de4e2(0xd33)],_0x580642['value']=_0x29053b[_0x1de4e2(0x3d7)]||'';}else _0x388ad6[_0x1de4e2(0xc84)]=_0x1de4e2(0x5de),_0x80118['value']='',_0x3ce83a[_0x1de4e2(0x41e)]='',_0x580642[_0x1de4e2(0x41e)]='';_0x3d3d0e[_0x1de4e2(0x325)][_0x1de4e2(0x419)](_0x1de4e2(0x60b));}async function saveParallelTestShortcutChanges(){const _0x219557=_0x1ca595,_0x5bdbc2=document[_0x219557(0xcac)](_0x219557(0x712))[_0x219557(0x41e)],_0x13340e=document[_0x219557(0xcac)](_0x219557(0x722))['value'][_0x219557(0x964)](),_0x479988=document[_0x219557(0xcac)](_0x219557(0x16b))[_0x219557(0x41e)]['trim']();if(!_0x13340e){showMessage(_0x219557(0x960));return;}const _0xfe0c38={'id':_0x5bdbc2||_0x219557(0xa4e)+Date[_0x219557(0x27a)](),'name':_0x13340e,'url':_0x479988,'isDefault':_0x5bdbc2[_0x219557(0x82f)](_0x219557(0x356))};let _0x3c443e;_0x5bdbc2?_0x3c443e=parallelTestShortcuts[_0x219557(0x201)](_0x1cc7e1=>_0x1cc7e1['id']===_0x5bdbc2?_0xfe0c38:_0x1cc7e1):_0x3c443e=[...parallelTestShortcuts,_0xfe0c38];try{const _0x15525b=doc(db,_0x219557(0x24b),_0x219557(0x412));await setDoc(_0x15525b,{'shortcuts':_0x3c443e},{'merge':!![]}),document['getElementById'](_0x219557(0xd06))[_0x219557(0x325)][_0x219557(0xd3c)](_0x219557(0x60b));}catch(_0x2d0e30){console[_0x219557(0x96)](_0x219557(0x851),_0x2d0e30),showMessage(_0x219557(0xcb6));}}async function handleParallelTestShortcutClick(_0x5029e0){const _0x2f4638=_0x1ca595,_0x318656=parallelTestShortcuts[_0x2f4638(0x2f4)](_0x427bf0=>_0x427bf0['id']===_0x5029e0);if(!_0x318656)return;if(!_0x318656[_0x2f4638(0x3d7)]||_0x318656[_0x2f4638(0x3d7)]['trim']()===''){openParallelTestShortcutEditor(_0x5029e0);return;}const _0x48edcf=document[_0x2f4638(0xcac)](_0x2f4638(0x2b9)),_0x371e87=document[_0x2f4638(0xcac)]('loader-text');document['getElementById'](_0x2f4638(0xd95))[_0x2f4638(0x325)][_0x2f4638(0x419)](_0x2f4638(0x60b)),document[_0x2f4638(0xcac)]('generated-quiz-container')[_0x2f4638(0xcaa)]='',_0x48edcf[_0x2f4638(0x325)][_0x2f4638(0x419)](_0x2f4638(0x60b)),_0x371e87['textContent']='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x3cb440;_0x318656[_0x2f4638(0x3d7)]['toLowerCase']()[_0x2f4638(0x39b)](_0x2f4638(0x4d5))?_0x3cb440=_0x2f4638(0x755):_0x3cb440=_0x2f4638(0xd67);const _0x1c7814=await fetchFileFromUrl(_0x318656[_0x2f4638(0x3d7)],_0x3cb440);await handleGenerateParallelTest(_0x1c7814);}catch(_0x8423e){console[_0x2f4638(0x96)](_0x2f4638(0xd4f),_0x8423e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x8423e[_0x2f4638(0xaee)]),_0x48edcf[_0x2f4638(0x325)][_0x2f4638(0xd3c)](_0x2f4638(0x60b));}}function initializeScratchpadCanvas(){const _0x3abc16=_0x1ca595,_0x2d9ebd=document[_0x3abc16(0xcac)](_0x3abc16(0x377)),_0x82f50=document['querySelector']('.scratchpad-content-wrapper');if(!_0x2d9ebd||!_0x82f50)return;scratchpadCtx=_0x2d9ebd[_0x3abc16(0x36d)]('2d',{'willReadFrequently':!![]});const _0x4f02ac=window[_0x3abc16(0xcf1)]||0x1,_0x12d636=_0x82f50[_0x3abc16(0x663)]();_0x2d9ebd[_0x3abc16(0x1a0)]=_0x12d636['width']*_0x4f02ac,_0x2d9ebd[_0x3abc16(0x636)]=_0x12d636[_0x3abc16(0x636)]*_0x4f02ac,_0x2d9ebd[_0x3abc16(0x300)][_0x3abc16(0x1a0)]=_0x12d636[_0x3abc16(0x1a0)]+'px',_0x2d9ebd[_0x3abc16(0x300)][_0x3abc16(0x636)]=_0x12d636[_0x3abc16(0x636)]+'px',scratchpadCtx['scale'](_0x4f02ac,_0x4f02ac),scratchpadCtx[_0x3abc16(0x3aa)]=_0x3abc16(0xc07),scratchpadCtx[_0x3abc16(0xb7e)]=_0x3abc16(0xc07),_0x2d9ebd[_0x3abc16(0x524)]('pointerdown',handlePointerDown),_0x2d9ebd[_0x3abc16(0x524)]('pointermove',handlePointerMove),_0x2d9ebd[_0x3abc16(0x524)](_0x3abc16(0x888),handlePointerUp),_0x2d9ebd['removeEventListener']('pointercancel',handlePointerUp),_0x2d9ebd[_0x3abc16(0x524)](_0x3abc16(0x12c),handleWheel),_0x2d9ebd[_0x3abc16(0x524)](_0x3abc16(0x3a5),handlePointerDown),_0x2d9ebd['removeEventListener'](_0x3abc16(0xbd4),handlePointerMove),_0x2d9ebd[_0x3abc16(0x524)](_0x3abc16(0x8eb),handlePointerUp),_0x2d9ebd[_0x3abc16(0x8d3)](_0x3abc16(0x3b3),handlePointerDown),_0x2d9ebd[_0x3abc16(0x8d3)](_0x3abc16(0x677),handlePointerMove),_0x2d9ebd[_0x3abc16(0x8d3)](_0x3abc16(0x888),handlePointerUp),_0x2d9ebd[_0x3abc16(0x8d3)](_0x3abc16(0x90c),handlePointerUp),_0x2d9ebd['addEventListener'](_0x3abc16(0x12c),handleWheel,{'passive':![]}),_0x2d9ebd[_0x3abc16(0x8d3)](_0x3abc16(0x3a5),handlePointerDown,{'passive':![]}),_0x2d9ebd[_0x3abc16(0x8d3)](_0x3abc16(0xbd4),handlePointerMove,{'passive':![]}),_0x2d9ebd[_0x3abc16(0x8d3)](_0x3abc16(0x8eb),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x1ab674=_0x1ca595,_0xa1e552=document[_0x1ab674(0xcac)]('scratchpad-modal'),_0x29bf0a=document['getElementById'](_0x1ab674(0xe0));_0x29bf0a['innerHTML']=_0x1ab674(0xa1d)+scratchpadHighlighterSize+_0x1ab674(0x5cd);const _0x1c0d37=document['getElementById'](_0x1ab674(0xbfd)),_0xcf63ec=document[_0x1ab674(0xcac)](_0x1ab674(0xd2b)),_0x136927=document['getElementById']('trail-tool-btn'),_0x16c2c1=document['getElementById']('highlighter-tool-btn'),_0x3b51bc=document['getElementById']('pen-tools-group'),_0x1a8bc7=document[_0x1ab674(0xcac)](_0x1ab674(0x50b)),_0x258e71=document[_0x1ab674(0xcac)](_0x1ab674(0x984)),_0x565e6c=[_0x1c0d37,_0xcf63ec,_0x136927,_0x16c2c1];document['getElementById']('scratchpad-close-btn')[_0x1ab674(0x8d3)](_0x1ab674(0xc47),()=>_0xa1e552[_0x1ab674(0x325)][_0x1ab674(0xd3c)](_0x1ab674(0x60b))),document[_0x1ab674(0xcac)](_0x1ab674(0x4b4))[_0x1ab674(0x8d3)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x1ab674(0x1e5))[_0x1ab674(0x8d3)](_0x1ab674(0xc47),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x1ab674(0xcac)](_0x1ab674(0x99d))['addEventListener']('click',undo),document[_0x1ab674(0xcac)]('redo-btn')[_0x1ab674(0x8d3)]('click',redo);const _0x1debbb=_0x957779=>{const _0x5d0422=_0x1ab674;_0x565e6c[_0x5d0422(0x99f)](_0x55051a=>_0x55051a[_0x5d0422(0x325)]['remove'](_0x5d0422(0x6a2))),_0x957779[_0x5d0422(0x325)][_0x5d0422(0xd3c)](_0x5d0422(0x6a2)),_0x3b51bc[_0x5d0422(0x325)][_0x5d0422(0xd3c)]('hidden'),_0x1a8bc7[_0x5d0422(0x325)][_0x5d0422(0xd3c)](_0x5d0422(0x60b)),_0x258e71[_0x5d0422(0x325)]['add'](_0x5d0422(0x60b));if(activeTool===_0x5d0422(0xd62)||activeTool===_0x5d0422(0xb4a))_0x3b51bc['classList'][_0x5d0422(0x419)](_0x5d0422(0x60b));else{if(activeTool===_0x5d0422(0x319))_0x1a8bc7[_0x5d0422(0x325)][_0x5d0422(0x419)](_0x5d0422(0x60b));else activeTool===_0x5d0422(0x6ae)&&_0x258e71[_0x5d0422(0x325)][_0x5d0422(0x419)]('hidden');}};_0x1c0d37[_0x1ab674(0x8d3)](_0x1ab674(0xc47),()=>{const _0x5c34c3=_0x1ab674;activeTool=_0x5c34c3(0xd62),_0x1debbb(_0x1c0d37);}),_0xcf63ec['addEventListener'](_0x1ab674(0xc47),()=>{const _0x3a1d21=_0x1ab674;activeTool=_0x3a1d21(0x6ae),_0x1debbb(_0xcf63ec);}),_0x136927[_0x1ab674(0x8d3)](_0x1ab674(0xc47),()=>{const _0x5c79a4=_0x1ab674;activeTool=_0x5c79a4(0xb4a),_0x1debbb(_0x136927);}),_0x16c2c1['addEventListener'](_0x1ab674(0xc47),()=>{activeTool='highlighter',_0x1debbb(_0x16c2c1);}),_0x3b51bc[_0x1ab674(0x20a)](_0x1ab674(0x735))[_0x1ab674(0x99f)](_0x444b34=>{const _0x74c860=_0x1ab674;_0x444b34[_0x74c860(0x8d3)](_0x74c860(0xc47),_0x46a4=>{const _0x3f805d=_0x74c860;scratchpadPenSize=parseInt(_0x46a4['target'][_0x3f805d(0x1e8)][_0x3f805d(0x679)],0xa),_0x3b51bc[_0x3f805d(0x20a)](_0x3f805d(0x735))[_0x3f805d(0x99f)](_0x11b265=>_0x11b265[_0x3f805d(0x325)][_0x3f805d(0x419)](_0x3f805d(0x6a2))),_0x46a4['target']['classList']['add']('active');});}),_0x258e71[_0x1ab674(0x20a)](_0x1ab674(0x9ac))[_0x1ab674(0x99f)](_0x30b660=>{const _0x2ea190=_0x1ab674;_0x30b660[_0x2ea190(0x8d3)](_0x2ea190(0xc47),_0x1031d3=>{const _0x321017=_0x2ea190,_0x44f49c=_0x1031d3[_0x321017(0xcab)];scratchpadEraserSize=parseInt(_0x44f49c[_0x321017(0x1e8)][_0x321017(0x679)],0xa),_0x258e71[_0x321017(0x20a)](_0x321017(0x9ac))['forEach'](_0x15a2d0=>_0x15a2d0[_0x321017(0x325)][_0x321017(0x419)](_0x321017(0x6a2))),_0x44f49c[_0x321017(0x325)]['add'](_0x321017(0x6a2));});}),_0x3b51bc[_0x1ab674(0x20a)]('.pen-color-btn')['forEach'](_0x359844=>{const _0x5a2722=_0x1ab674;_0x359844[_0x5a2722(0x8d3)](_0x5a2722(0xc47),_0x460820=>{const _0x104b95=_0x5a2722;scratchpadPenColor=_0x460820[_0x104b95(0x615)][_0x104b95(0x1e8)][_0x104b95(0x471)],_0x3b51bc[_0x104b95(0x20a)](_0x104b95(0x4e3))[_0x104b95(0x99f)](_0x1fe985=>_0x1fe985[_0x104b95(0x325)][_0x104b95(0x419)]('active')),_0x460820['target'][_0x104b95(0x325)]['add']('active');});}),_0x1a8bc7[_0x1ab674(0x20a)](_0x1ab674(0xc72))[_0x1ab674(0x99f)](_0xbd99f1=>{const _0x26b4ea=_0x1ab674;_0xbd99f1['addEventListener'](_0x26b4ea(0xc47),_0x575273=>{const _0x25551b=_0x26b4ea;scratchpadHighlighterColor=_0x575273[_0x25551b(0x615)][_0x25551b(0x1e8)][_0x25551b(0x471)],_0x1a8bc7[_0x25551b(0x20a)]('.highlighter-color-btn')[_0x25551b(0x99f)](_0x5c4088=>_0x5c4088['classList'][_0x25551b(0x419)](_0x25551b(0x6a2))),_0x575273[_0x25551b(0x615)]['classList']['add']('active');});});const _0x5d8ac1=document[_0x1ab674(0xcac)](_0x1ab674(0x508)),_0x3098b8=document[_0x1ab674(0xcac)]('highlighter-size-value');_0x5d8ac1[_0x1ab674(0x8d3)](_0x1ab674(0x9dc),_0x51adc6=>{const _0x18ed8c=_0x1ab674,_0x5513f2=parseInt(_0x51adc6[_0x18ed8c(0x615)][_0x18ed8c(0x41e)],0xa);scratchpadHighlighterSize=_0x5513f2,_0x3098b8['textContent']=_0x5513f2;}),window['addEventListener'](_0x1ab674(0x53b),()=>{const _0x43449e=_0x1ab674;!_0xa1e552[_0x43449e(0x325)][_0x43449e(0x9e8)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x1ca595(0x341),'name':_0x1ca595(0x19c),'description':_0x1ca595(0x380),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x1ca595(0x4e2),'description':_0x1ca595(0x423),'icon':_0x1ca595(0x9fa)},'ON_FIRE':{'id':_0x1ca595(0xbaa),'name':_0x1ca595(0x7f4),'description':_0x1ca595(0xc77),'icon':_0x1ca595(0x605)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':'ผ่านฉลุย','description':_0x1ca595(0x993),'icon':_0x1ca595(0x31d)},'COMEBACK_KING':{'id':'comeback_king','name':_0x1ca595(0x74a),'description':_0x1ca595(0x3e7),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x1ca595(0x242),'name':_0x1ca595(0x9f5),'description':_0x1ca595(0x569),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':'perseverance','name':_0x1ca595(0xc99),'description':_0x1ca595(0x9b9),'icon':_0x1ca595(0x6a4)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x1ca595(0xc40),'storageBucket':_0x1ca595(0x38f),'messagingSenderId':_0x1ca595(0x87b),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':'G-V90KRM0L63'},appId=typeof __app_id!=='undefined'?__app_id:_0x1ca595(0x912),adminView=document[_0x1ca595(0xcac)](_0x1ca595(0xadc)),studentView=document[_0x1ca595(0xcac)]('student-view'),projectDashboardView=document[_0x1ca595(0xcac)](_0x1ca595(0x149)),projectDetailView=document[_0x1ca595(0xcac)](_0x1ca595(0x3dc)),quizResultsView=document['getElementById'](_0x1ca595(0x773)),projectList=document[_0x1ca595(0xcac)](_0x1ca595(0xcc)),noProjectsMsg=document['getElementById'](_0x1ca595(0x291)),projectTitle=document['getElementById'](_0x1ca595(0x409)),projectIdDisplay=document[_0x1ca595(0xcac)](_0x1ca595(0x3d9)),studentList=document[_0x1ca595(0xcac)]('student-list'),messageModal=document[_0x1ca595(0xcac)](_0x1ca595(0x3f2)),modalMessage=document['getElementById'](_0x1ca595(0x977)),createProjectModal=document[_0x1ca595(0xcac)](_0x1ca595(0x28a)),adminPasswordModal=document[_0x1ca595(0xcac)](_0x1ca595(0xc95)),confirmationModal=document[_0x1ca595(0xcac)]('confirmation-modal'),userIdDisplay=document[_0x1ca595(0xcac)](_0x1ca595(0x8cb)),topicTab=document[_0x1ca595(0xcac)](_0x1ca595(0x856)),textTab=document[_0x1ca595(0xcac)]('text-tab'),topicInputArea=document['getElementById'](_0x1ca595(0xc51)),textInputArea=document[_0x1ca595(0xcac)](_0x1ca595(0x398)),manageTab=document['getElementById'](_0x1ca595(0x5a1)),resultsTab=document[_0x1ca595(0xcac)](_0x1ca595(0xb98)),leaderboardTab=document[_0x1ca595(0xcac)](_0x1ca595(0x748)),manageTabContent=document[_0x1ca595(0xcac)](_0x1ca595(0xc9)),resultsTabContent=document[_0x1ca595(0xcac)](_0x1ca595(0x2c1)),leaderboardTabContent=document[_0x1ca595(0xcac)]('leaderboard-tab-content'),projectQuizzesList=document['getElementById'](_0x1ca595(0xa25)),fileTab=document[_0x1ca595(0xcac)](_0x1ca595(0xca8)),fileInputArea=document['getElementById'](_0x1ca595(0x763)),fileUploadInput=document['getElementById'](_0x1ca595(0xaa3)),worksheetTab=document[_0x1ca595(0xcac)]('worksheet-tab'),worksheetInputArea=document[_0x1ca595(0xcac)]('worksheet-input-area'),generateWorksheetBtn=document['getElementById'](_0x1ca595(0xb4d)),studentInitialView=document[_0x1ca595(0xcac)](_0x1ca595(0xa09)),studentNameSelectionView=document[_0x1ca595(0xcac)]('student-name-selection-view'),studentQuizArea=document[_0x1ca595(0xcac)](_0x1ca595(0xc91)),studentResultArea=document['getElementById']('student-result-area'),studentReadingArea=document[_0x1ca595(0xcac)]('student-reading-area'),loadQuizBtn=document[_0x1ca595(0xcac)](_0x1ca595(0x4ba)),startQuizBtn=document['getElementById']('start-quiz-btn'),studentJoinGameView=document[_0x1ca595(0xcac)](_0x1ca595(0xe9)),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document['getElementById']('rename-quiz-modal'),moveQuizModal=document[_0x1ca595(0xcac)](_0x1ca595(0xbf)),quizSettingsModal=document[_0x1ca595(0xcac)](_0x1ca595(0x509)),quizStatusModal=document[_0x1ca595(0xcac)](_0x1ca595(0x6b0)),liveGameView=document[_0x1ca595(0xcac)](_0x1ca595(0xc1b));function handleFixLessonLatex(){const _0x118f27=_0x1ca595,_0x59a29e=document['getElementById'](_0x118f27(0x772));if(!_0x59a29e){showMessage(_0x118f27(0xd5e));return;}const _0x56924b=_0x59a29e[_0x118f27(0x20a)]([_0x118f27(0x6f4),'.ai-content\x20li',_0x118f27(0xa3),_0x118f27(0x56e),_0x118f27(0x4fc)][_0x118f27(0xa88)](','));let _0x3e74fb=0x0;const _0x93ed6e=_0x3cbd3=>_0x3cbd3[_0x118f27(0xc84)]||'',_0x109c34=(_0x108f5a,_0x46cec3)=>{const _0x4dd351=_0x118f27;if(_0x108f5a[_0x4dd351(0xb49)]&&_0x108f5a[_0x4dd351(0xb49)](_0x4dd351(0x5b8)))return;_0x108f5a['textContent']=_0x46cec3;},_0x27f43c=_0x4835cf=>_0x4835cf[_0x118f27(0xc6a)](/\u00A0/g,'\x20')[_0x118f27(0xc6a)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x4882bd=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x57c02c=_0x2ee205=>{const _0x305bdb=_0x118f27;let _0x1ca411=_0x2ee205[_0x305bdb(0x964)]();const _0x73c015=[_0x305bdb(0x635),_0x305bdb(0x83c),_0x305bdb(0xb36),_0x305bdb(0xd0c),_0x305bdb(0xb20),_0x305bdb(0x3e4),_0x305bdb(0xbc8),_0x305bdb(0xb5e),_0x305bdb(0x30a),_0x305bdb(0xc7f),'le','ge',_0x305bdb(0x6cd),'pm',_0x305bdb(0x157),_0x305bdb(0x7d1),_0x305bdb(0x1fe),'tan','log','ln',_0x305bdb(0x9bf),_0x305bdb(0xaf7),_0x305bdb(0x9c0),_0x305bdb(0xc4),'right','overline',_0x305bdb(0x364),'circ',_0x305bdb(0xb77)];_0x73c015[_0x305bdb(0x99f)](_0xae0a9f=>{const _0x3e54e2=_0x305bdb;_0x1ca411=_0x1ca411['replace'](new RegExp(_0x3e54e2(0x5ec)+_0xae0a9f+'\x5cb','g'),(_0x1f0df0,_0x445a4f)=>_0x445a4f+'\x5c'+_0xae0a9f);});const _0xb34883=[[/×/g,_0x305bdb(0xab0)],[/·/g,'\x5ccdot'],[/÷/g,_0x305bdb(0x17d)],[/≤/g,_0x305bdb(0x77b)],[/≥/g,_0x305bdb(0xc30)],[/≠/g,_0x305bdb(0xb80)],[/±/g,_0x305bdb(0x62c)],[/∑/g,_0x305bdb(0xb46)],[/−/g,'-']];return _0xb34883[_0x305bdb(0x99f)](([_0x218624,_0x32c815])=>{const _0x3ac557=_0x305bdb;_0x1ca411=_0x1ca411[_0x3ac557(0xc6a)](_0x218624,_0x32c815);}),_0x1ca411=_0x1ca411[_0x305bdb(0xc6a)](/√\s*([A-Za-z0-9]+)/g,_0x305bdb(0x900)),_0x1ca411=_0x1ca411[_0x305bdb(0xc6a)](/(\d+)\s*%/g,'$1\x5c%'),_0x1ca411;},_0x470183=_0x48a483=>{const _0x3a6a27=_0x118f27;if(/\$|\\\(|\\\[/[_0x3a6a27(0x4de)](_0x48a483))return _0x48a483;if(!_0x4882bd[_0x3a6a27(0x4de)](_0x48a483))return _0x48a483;const _0x248307=_0x48a483[_0x3a6a27(0xccf)](/^\s*/)[0x0],_0x244726=_0x48a483[_0x3a6a27(0xccf)](/\s*$/)[0x0],_0x5bd755=_0x48a483[_0x3a6a27(0x964)]();return _0x248307+'$'+_0x57c02c(_0x5bd755)+'$'+_0x244726;};_0x56924b[_0x118f27(0x99f)](_0x4c0a64=>{const _0x2b2748=_0x118f27,_0x44db05=_0x93ed6e(_0x4c0a64);let _0x2b5afe=_0x27f43c(_0x44db05);_0x2b5afe=_0x2b5afe[_0x2b2748(0xc6a)](/\$([^$]*?)\$/g,(_0x5a881b,_0x8b50f8)=>'$'+_0x57c02c(_0x8b50f8)+'$');const _0x1565ab=_0x2b5afe[_0x2b2748(0x38d)](/(\s+)/),_0x5db169=_0x1565ab[_0x2b2748(0x201)](_0x33da30=>{const _0x24519a=_0x2b2748;if(/\s+/[_0x24519a(0x4de)](_0x33da30))return _0x33da30;return _0x470183(_0x33da30);});_0x2b5afe=_0x5db169[_0x2b2748(0xa88)](''),_0x2b5afe!==_0x44db05&&(_0x109c34(_0x4c0a64,_0x2b5afe),_0x3e74fb++);});if(_0x3e74fb>0x0){showMessage(_0x118f27(0xb5b)+_0x3e74fb+_0x118f27(0x6e1));try{window[_0x118f27(0x4a4)]&&MathJax['typesetPromise']&&MathJax[_0x118f27(0xcf0)]([_0x59a29e]);}catch(_0x4be566){console[_0x118f27(0x96)](_0x118f27(0xb2c),_0x4be566);}}else showMessage(_0x118f27(0x23d));}function handleAutoFixLatex(){const _0x4c326c=_0x1ca595,_0x171411=document['getElementById'](_0x4c326c(0x5d9))||document,_0x118af9=_0x171411[_0x4c326c(0x20a)](_0x4c326c(0x2a0));let _0x517f10=0x0;const _0x1dbd66=_0x64aec0=>_0x4c326c(0x41e)in _0x64aec0?String(_0x64aec0['value']):_0x64aec0[_0x4c326c(0x254)]!==undefined?_0x64aec0[_0x4c326c(0x254)]:_0x64aec0[_0x4c326c(0xc84)]||'',_0x3d2202=(_0xadf9cc,_0x4513b2)=>{const _0x5266c5=_0x4c326c;if(_0x5266c5(0x41e)in _0xadf9cc){_0xadf9cc['value']=_0x4513b2;return;}if(_0xadf9cc[_0x5266c5(0xb49)]&&_0xadf9cc[_0x5266c5(0xb49)](_0x5266c5(0x5b8)))return;if(_0xadf9cc[_0x5266c5(0x254)]!==undefined)_0xadf9cc[_0x5266c5(0x254)]=_0x4513b2;else _0xadf9cc[_0x5266c5(0xc84)]=_0x4513b2;},_0x3e1303=_0x46c263=>_0x46c263[_0x4c326c(0xc6a)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x4c326c(0xc6a)](/\r\n?/g,'\x0a'),_0x440240=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x50888a=_0x6d77b5=>{const _0x21c3c1=_0x4c326c;let _0x724bb0=_0x6d77b5[_0x21c3c1(0x964)]();_0x724bb0=_0x724bb0[_0x21c3c1(0xc6a)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x21c3c1(0x681)),_0x724bb0=_0x724bb0['replace'](/\bfrac(\d)(\d)/g,_0x21c3c1(0x681));const _0x28d1cb=[_0x21c3c1(0x635),_0x21c3c1(0xd0c),_0x21c3c1(0x3e4),_0x21c3c1(0xbc8),_0x21c3c1(0xb5e),'leq',_0x21c3c1(0xc7f),'neq','pm','sin',_0x21c3c1(0x1fe),_0x21c3c1(0x266),'log','ln'];_0x28d1cb['forEach'](_0xe25e7=>{const _0x1f480=_0x21c3c1;_0x724bb0=_0x724bb0[_0x1f480(0xc6a)](new RegExp(_0x1f480(0x5ec)+_0xe25e7+'\x5cb','g'),(_0x5586e2,_0xc03834)=>_0xc03834+'\x5c'+_0xe25e7);});const _0x58ab20=[[/×/g,_0x21c3c1(0xab0)],[/·/g,_0x21c3c1(0xce2)],[/÷/g,_0x21c3c1(0x17d)],[/≤/g,_0x21c3c1(0x77b)],[/≥/g,_0x21c3c1(0xc30)],[/≠/g,_0x21c3c1(0xb80)],[/±/g,_0x21c3c1(0x62c)]];return _0x58ab20['forEach'](([_0x3fd7fe,_0x965941])=>{const _0x5bccf4=_0x21c3c1;_0x724bb0=_0x724bb0[_0x5bccf4(0xc6a)](_0x3fd7fe,_0x965941);}),_0x724bb0;},_0x1d0f33=_0x4c11dd=>{const _0x533fde=_0x4c326c;if(/\$|\\\(|\\\[/[_0x533fde(0x4de)](_0x4c11dd))return _0x4c11dd;if(!_0x440240[_0x533fde(0x4de)](_0x4c11dd))return _0x4c11dd;const _0x1a16c4=_0x4c11dd[_0x533fde(0xccf)](/^\s*/)[0x0],_0x403061=_0x4c11dd[_0x533fde(0xccf)](/\s*$/)[0x0],_0x2f468d=_0x4c11dd['trim']();return _0x1a16c4+'$'+_0x50888a(_0x2f468d)+'$'+_0x403061;};_0x118af9[_0x4c326c(0x99f)](_0x1e515a=>{const _0x2b33a3=_0x4c326c,_0x462ed7=_0x1dbd66(_0x1e515a);let _0x595c02=_0x3e1303(_0x462ed7);_0x595c02=_0x595c02[_0x2b33a3(0xc6a)](/\$([^$]*?)\$/g,(_0x3e3e56,_0x16d7ac)=>'$'+_0x50888a(_0x16d7ac)+'$');const _0x16d824=_0x595c02[_0x2b33a3(0x38d)](/(\s+)/),_0x4f97f=_0x16d824[_0x2b33a3(0x201)](_0x21eeb4=>/\s+/[_0x2b33a3(0x4de)](_0x21eeb4)?_0x21eeb4:_0x1d0f33(_0x21eeb4));_0x595c02=_0x4f97f[_0x2b33a3(0xa88)](''),_0x595c02!==_0x462ed7&&(_0x3d2202(_0x1e515a,_0x595c02),_0x517f10++);});if(_0x517f10>0x0){showMessage(_0x4c326c(0x151)+_0x517f10+_0x4c326c(0x310));try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax[_0x4c326c(0xcf0)]();}catch(_0x1677d3){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x52b5dc=_0x1ca595,_0x5b5704=collection(db,_0x52b5dc(0x54a)+appId+_0x52b5dc(0x3fb));onSnapshot(_0x5b5704,_0x28d713=>{const _0x843bb8=_0x52b5dc;customMathTopics=_0x28d713['docs'][_0x843bb8(0x201)](_0x5af5e5=>({'id':_0x5af5e5['id'],..._0x5af5e5[_0x843bb8(0xb6)]()})),renderTopicCheckboxes();},_0x46e5a1=>{const _0x37b98a=_0x52b5dc;console[_0x37b98a(0x96)](_0x37b98a(0x79e),_0x46e5a1);});}function handleSelectAllTopics(){const _0x2477e6=_0x1ca595,_0x183c9c=document['getElementById'](_0x2477e6(0x8ce)),_0x1c6d87=_0x183c9c[_0x2477e6(0x20a)](_0x2477e6(0xc27));_0x1c6d87['forEach'](_0x53bd5f=>{const _0x13f7d9=_0x2477e6;_0x53bd5f[_0x13f7d9(0xa81)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2df879=_0x1ca595,_0x511826=document[_0x2df879(0xcac)](_0x2df879(0x8ce)),_0x46532c=_0x511826[_0x2df879(0x20a)](_0x2df879(0xc27));_0x46532c[_0x2df879(0x99f)](_0x539320=>{_0x539320['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x249dd1){const _0x3289b9=_0x1ca595;if(!_0x249dd1)return;try{const _0x56cacb=doc(db,'artifacts/'+appId+_0x3289b9(0x3fb),_0x249dd1);await deleteDoc(_0x56cacb),showMessage(_0x3289b9(0xa87));}catch(_0x1fdf01){console[_0x3289b9(0x96)]('Error\x20deleting\x20custom\x20topic:',_0x1fdf01),showMessage(_0x3289b9(0x9e));}}async function handleAddCustomMathTopic(){const _0x505c06=_0x1ca595,_0x4d1904=document[_0x505c06(0xcac)]('custom-math-topic-input'),_0x3d04eb=_0x4d1904[_0x505c06(0x41e)][_0x505c06(0x964)]();if(!_0x3d04eb){showMessage(_0x505c06(0xaa5));return;}if(!userId){showMessage(_0x505c06(0x4ff));return;}try{const _0x13cd96=collection(db,'artifacts/'+appId+_0x505c06(0x3fb));await addDoc(_0x13cd96,{'name':_0x3d04eb,'createdAt':serverTimestamp()}),_0x4d1904['value']='',showMessage(_0x505c06(0xb23)+_0x3d04eb+_0x505c06(0xa5c));}catch(_0x30e3e4){console[_0x505c06(0x96)](_0x505c06(0x634),_0x30e3e4),showMessage(_0x505c06(0x439));}}async function handleUpdateOldQuizzes(){const _0x1dc0c5=_0x1ca595;showConfirmation(_0x1dc0c5(0x530),async()=>{const _0x36d856=_0x1dc0c5,_0x1cb6fe=document[_0x36d856(0xcac)](_0x36d856(0x2b9)),_0x4e7ce8=document[_0x36d856(0xcac)](_0x36d856(0x705)),_0x547e29=_0x4e7ce8['textContent'];_0x1cb6fe[_0x36d856(0x325)][_0x36d856(0x419)]('hidden'),_0x4e7ce8[_0x36d856(0xc84)]=_0x36d856(0x781);try{const _0x17d86f=collection(db,_0x36d856(0x54a)+appId+'/public/data/quizzes'),_0x46fccb=await getDocs(_0x17d86f);if(_0x46fccb[_0x36d856(0x699)]){showMessage(_0x36d856(0x176));return;}const _0x36882a=writeBatch(db);let _0x14ad5c=0x0;_0x46fccb['forEach'](_0x15f79d=>{const _0x51f674=_0x36d856,_0x49994c=_0x15f79d['data'](),_0x4c4479=_0x15f79d['id'];if(_0x49994c[_0x51f674(0xbfe)]&&_0x49994c[_0x51f674(0xbfe)]['length']>0x0&&!_0x49994c[_0x51f674(0xbfe)][0x0][_0x51f674(0xcae)]('id')){console[_0x51f674(0xa7f)](_0x51f674(0xe7)+_0x4c4479+'\x20('+_0x49994c[_0x51f674(0xa64)]+')'),_0x14ad5c++;const _0xa448af=_0x49994c[_0x51f674(0xbfe)][_0x51f674(0x201)]((_0x3d0c48,_0x5f1294)=>{const _0x5cecad=_0x51f674;return{..._0x3d0c48,'id':_0x3d0c48['id']||'q_'+Date[_0x5cecad(0x27a)]()+'_'+_0x4c4479+'_'+_0x5f1294};}),_0x5493bf=doc(db,_0x51f674(0x54a)+appId+_0x51f674(0xa62),_0x4c4479);_0x36882a['update'](_0x5493bf,{'questions':_0xa448af});}}),_0x14ad5c>0x0?(_0x4e7ce8[_0x36d856(0xc84)]=_0x36d856(0xad1)+_0x14ad5c+'\x20รายการ...',await _0x36882a[_0x36d856(0x521)](),showMessage(_0x36d856(0x649)+_0x14ad5c+_0x36d856(0x9bc))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x3b82af){console['error']('Error\x20updating\x20old\x20quizzes:',_0x3b82af),showMessage(_0x36d856(0x189)+_0x3b82af[_0x36d856(0xaee)]);}finally{_0x1cb6fe[_0x36d856(0x325)]['add'](_0x36d856(0x60b)),_0x4e7ce8[_0x36d856(0xc84)]=_0x547e29;}});}async function handleBulkUpdateQuizSettings(){const _0x307aa4=_0x1ca595,_0x15366c={'shuffle':document['getElementById'](_0x307aa4(0x365))[_0x307aa4(0x41e)],'resultsDisplay':document[_0x307aa4(0xcac)]('bulk-results-display-select')[_0x307aa4(0x41e)],'loopUntilPass':document[_0x307aa4(0xcac)](_0x307aa4(0x285))[_0x307aa4(0xa81)],'isConfidenceScoringEnabled':document[_0x307aa4(0xcac)]('bulk-confidence-scoring-checkbox')[_0x307aa4(0xa81)],'confidenceMode':document['getElementById'](_0x307aa4(0xc23))[_0x307aa4(0x41e)]};try{showMessage(_0x307aa4(0x2d9));const _0x53a2f2=await getDocs(collection(db,_0x307aa4(0x54a)+appId+_0x307aa4(0xa62))),_0x3406ff=_0x53a2f2[_0x307aa4(0x26a)][_0x307aa4(0x201)](_0x30e7b0=>({'id':_0x30e7b0['id'],'data':_0x30e7b0['data']()})),_0x214025=_0x3406ff['length'];showConfirmation(_0x307aa4(0x8b6)+_0x214025+_0x307aa4(0x4d2),async()=>{const _0x2030fc=_0x307aa4,_0x18a6a6=document['getElementById'](_0x2030fc(0x701));_0x18a6a6[_0x2030fc(0x25a)]=!![],_0x18a6a6[_0x2030fc(0xcaa)]=_0x2030fc(0x1b2);try{const _0x292cd0=writeBatch(db);_0x3406ff[_0x2030fc(0x99f)](_0xf06f72=>{const _0x477c41=_0x2030fc,_0x5e234f=doc(db,_0x477c41(0x54a)+appId+_0x477c41(0xa62),_0xf06f72['id']),_0x47a44d={..._0xf06f72[_0x477c41(0xb6)]['settings']||{},..._0x15366c};_0x292cd0[_0x477c41(0xaa8)](_0x5e234f,{'settings':_0x47a44d});}),await _0x292cd0[_0x2030fc(0x521)](),document['getElementById'](_0x2030fc(0x80e))[_0x2030fc(0x325)][_0x2030fc(0xd3c)](_0x2030fc(0x60b)),showMessage(_0x2030fc(0xa45)+_0x214025+_0x2030fc(0x445));}catch(_0x47fb3a){console[_0x2030fc(0x96)](_0x2030fc(0x250),_0x47fb3a),showMessage(_0x2030fc(0xc50));}finally{_0x18a6a6['disabled']=![],_0x18a6a6[_0x2030fc(0xcaa)]=_0x2030fc(0x975);}});}catch(_0x127094){console[_0x307aa4(0x96)](_0x307aa4(0xccd),_0x127094),showMessage(_0x307aa4(0x729));}}async function handleSaveProjectName(){const _0x3978b8=_0x1ca595,_0x58a081=document[_0x3978b8(0xcac)](_0x3978b8(0x409)),_0x1f0081=document[_0x3978b8(0xcac)](_0x3978b8(0x7e9)),_0xd02ad8=_0x58a081['textContent']['trim']();if(!_0xd02ad8||!currentProjectId){showMessage(_0x3978b8(0xb3c)),_0x58a081[_0x3978b8(0xc84)]=currentProjectData[_0x3978b8(0x5b1)];return;}_0x1f0081[_0x3978b8(0x25a)]=!![],_0x1f0081[_0x3978b8(0xcaa)]=_0x3978b8(0x9f4);try{const _0x71a4ac=doc(db,_0x3978b8(0x54a)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x71a4ac,{'projectName':_0xd02ad8}),currentProjectData&&(currentProjectData[_0x3978b8(0x5b1)]=_0xd02ad8),showMessage(_0x3978b8(0x53e));}catch(_0x3a703b){console[_0x3978b8(0x96)](_0x3978b8(0x45b),_0x3a703b),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x58a081[_0x3978b8(0xc84)]=currentProjectData[_0x3978b8(0x5b1)];}finally{_0x1f0081[_0x3978b8(0x325)]['add'](_0x3978b8(0x60b)),_0x1f0081['disabled']=![],_0x1f0081[_0x3978b8(0xcaa)]=_0x3978b8(0x562);}}function handleGeneratePracticeTest(_0x377902,_0x55a273){const _0x4f95fa=_0x1ca595,_0x40e7e6=document[_0x4f95fa(0xcac)](_0x4f95fa(0xb3d)),_0x1c6d7c=document['getElementById'](_0x4f95fa(0xd4a)),_0x479656=document[_0x4f95fa(0xcac)](_0x4f95fa(0x68f)),_0x4f0626=document[_0x4f95fa(0xcac)]('lesson-sections-container');_0x1c6d7c[_0x4f95fa(0xc84)]=_0x4f95fa(0xc0f)+_0x377902,_0x4f0626['classList']['add'](_0x4f95fa(0x60b)),_0x479656[_0x4f95fa(0x325)]['remove']('hidden'),_0x40e7e6['classList'][_0x4f95fa(0x419)](_0x4f95fa(0x60b)),generatePracticeTest(_0x377902,_0x55a273)[_0x4f95fa(0x1b4)](_0x3b0062=>{const _0x588ecd=_0x4f95fa;console[_0x588ecd(0x96)](_0x588ecd(0xac7),_0x3b0062),showMessage(_0x588ecd(0x63e)),_0x40e7e6[_0x588ecd(0x325)]['add']('hidden');});}async function generatePracticeTest(_0x4d1772,_0x1b384d){const _0x4b61bd=_0x1ca595;[_0x4b61bd(0xc81),_0x4b61bd(0x669),_0x4b61bd(0xc8c),_0x4b61bd(0x8c9)][_0x4b61bd(0x99f)](_0xf02d96=>{const _0x55553b=_0x4b61bd,_0x1beeb3=document[_0x55553b(0xcac)](_0xf02d96)[_0x55553b(0x299)];_0x1beeb3&&(_0x1beeb3['style'][_0x55553b(0xa0e)]='none');});try{const _0x1eceb8=_0x4b61bd(0xa8c),_0x497b76=_0x4b61bd(0xa8f)+_0x1b384d+_0x4b61bd(0xf3)+_0x4d1772+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x2e6232=await callGemini(_0x497b76,!![]),_0x42cc5d=document[_0x4b61bd(0xcac)](_0x4b61bd(0xd4a)),_0x1c0282=document[_0x4b61bd(0xcac)](_0x4b61bd(0x68f)),_0x209657=document['getElementById'](_0x4b61bd(0x467)),_0x3fd4bf=document[_0x4b61bd(0xcac)](_0x4b61bd(0xc8c))[_0x4b61bd(0x299)];_0x42cc5d[_0x4b61bd(0x254)]=_0x4b61bd(0xa70)+_0x4d1772[_0x4b61bd(0xc6a)](/•\s/g,'')+_0x4b61bd(0xc01)+_0x1b384d+')',currentApplicationData=JSON[_0x4b61bd(0x444)](_0x2e6232);const _0x18532a=document[_0x4b61bd(0xcac)](_0x4b61bd(0xc8c));_0x18532a[_0x4b61bd(0xcaa)]=currentApplicationData[_0x4b61bd(0x201)]((_0x2866b4,_0x3af0b0)=>_0x4b61bd(0xc3c)+(_0x3af0b0+0x1)+'.\x20'+marked[_0x4b61bd(0x600)](_0x2866b4[_0x4b61bd(0xc52)])+_0x4b61bd(0xa7a)+_0x3af0b0+_0x4b61bd(0x1ae)+_0x2866b4[_0x4b61bd(0x63f)]['map']((_0x7c6e3f,_0x260dc3)=>_0x4b61bd(0xbf4)+_0x3af0b0+',\x20'+_0x260dc3+')\x22>'+String[_0x4b61bd(0x401)](0x61+_0x260dc3)+'.\x20'+marked['parseInline'](_0x7c6e3f)+_0x4b61bd(0xaf5))[_0x4b61bd(0xa88)]('')+_0x4b61bd(0xc96))[_0x4b61bd(0xa88)](''),window['MathJax']&&MathJax[_0x4b61bd(0xcf0)]([_0x18532a]),_0x3fd4bf&&(_0x3fd4bf[_0x4b61bd(0x300)]['display']='block'),_0x1c0282[_0x4b61bd(0x325)][_0x4b61bd(0xd3c)](_0x4b61bd(0x60b)),_0x209657['classList'][_0x4b61bd(0x419)]('hidden');}catch(_0x4010b8){console['error'](_0x4010b8);throw _0x4010b8;}}async function callGemini(_0x1e7e0c,_0x38f105=![]){const _0x36d10e=_0x1ca595,_0x1ccdbe=_0x36d10e(0x9a0),_0x4a2ae8=_0x36d10e(0x34d)+_0x1ccdbe,_0x1a08ba={'contents':[{'parts':[{'text':_0x1e7e0c}]}]};_0x38f105&&(_0x1a08ba[_0x36d10e(0xd6f)]={'responseMimeType':'application/json'},_0x1e7e0c['includes'](_0x36d10e(0x91b))?_0x1a08ba['generationConfig']['responseSchema']={'type':_0x36d10e(0xb15),'properties':{'gradeLevel':{'type':_0x36d10e(0xa26)},'curriculum':{'type':_0x36d10e(0x8e3),'items':{'type':_0x36d10e(0xb15),'properties':{'sara':{'type':_0x36d10e(0xa26)},'mainTopics':{'type':_0x36d10e(0x8e3),'items':{'type':_0x36d10e(0xb15),'properties':{'topicName':{'type':_0x36d10e(0xa26)},'subTopics':{'type':'ARRAY','items':{'type':_0x36d10e(0xa26)}}},'required':[_0x36d10e(0x9b2),_0x36d10e(0x56c)]}}},'required':[_0x36d10e(0xbd3),_0x36d10e(0x5fb)]}}},'required':[_0x36d10e(0x9b6),_0x36d10e(0xd00)]}:_0x1a08ba[_0x36d10e(0xd6f)][_0x36d10e(0xbb6)]={'type':'ARRAY','items':{'type':_0x36d10e(0xb15),'properties':{'question':{'type':_0x36d10e(0xa26)},'options':{'type':_0x36d10e(0x8e3),'items':{'type':_0x36d10e(0xa26)}},'answer':{'type':_0x36d10e(0xa5)}},'required':[_0x36d10e(0xc52),_0x36d10e(0x63f),_0x36d10e(0xd85)]}});try{const _0x2866ca=await fetch(_0x4a2ae8,{'method':'POST','headers':{'Content-Type':_0x36d10e(0x105)},'body':JSON[_0x36d10e(0x71f)](_0x1a08ba)});if(!_0x2866ca['ok']){const _0x24e2e2=await _0x2866ca[_0x36d10e(0xb20)]();console[_0x36d10e(0x96)](_0x36d10e(0x756),_0x24e2e2);throw new Error(_0x36d10e(0x3c6)+_0x2866ca[_0x36d10e(0x670)]);}const _0xe08223=await _0x2866ca[_0x36d10e(0xb7f)]();if(_0xe08223[_0x36d10e(0x3c0)]&&_0xe08223[_0x36d10e(0x3c0)][0x0][_0x36d10e(0x37d)]&&_0xe08223[_0x36d10e(0x3c0)][0x0][_0x36d10e(0x37d)][_0x36d10e(0xcd)][0x0])return _0xe08223['candidates'][0x0][_0x36d10e(0x37d)][_0x36d10e(0xcd)][0x0][_0x36d10e(0xb20)];else{console[_0x36d10e(0x96)](_0x36d10e(0xcfd),_0xe08223);if(_0xe08223[_0x36d10e(0x3c0)]&&_0xe08223['candidates'][0x0]['finishReason']==='SAFETY')return JSON['stringify']({'error':_0x36d10e(0x1c2)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x2eafc9){console[_0x36d10e(0x96)](_0x36d10e(0x41b),_0x2eafc9);throw _0x2eafc9;}}async function generateLesson(_0x5c2776=null,_0x55c227=null){const _0x3065de=_0x1ca595,_0x3254d1=_0x5c2776,_0x3bcacb=_0x55c227||_0x3065de(0x523),_0x1d6dd2=document[_0x3065de(0xcac)]('lesson-loader'),_0x2aec50=document[_0x3065de(0xcac)](_0x3065de(0x399));_0x2aec50[_0x3065de(0xc84)]=_0x3065de(0x327)+_0x3254d1+'\x22...';try{let _0x430a03=[];const _0x24d682=document[_0x3065de(0xcac)]('bp-reference-file-url')?.[_0x3065de(0x41e)][_0x3065de(0x964)]();if(_0x24d682)try{_0x2aec50[_0x3065de(0xc84)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x4b8c11=await fetchFileFromUrl(_0x24d682,_0x3065de(0x338)),_0x2aaeba=await new Promise((_0x3d3b96,_0x4a2e8c)=>{const _0x360dbd=_0x3065de,_0x54f344=new FileReader();_0x54f344[_0x360dbd(0x1e2)](_0x4b8c11),_0x54f344[_0x360dbd(0xad6)]=()=>_0x3d3b96(_0x54f344[_0x360dbd(0x87f)][_0x360dbd(0x38d)](',')[0x1]),_0x54f344['onerror']=_0x4a2e8c;});_0x430a03[_0x3065de(0x3bb)]({'inlineData':{'mimeType':_0x4b8c11['type'],'data':_0x2aaeba}});}catch(_0x2d5860){console[_0x3065de(0x96)](_0x3065de(0xd23),_0x2d5860),showMessage(_0x3065de(0xb5));}const _0x3a4134='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0x3254d1+_0x3065de(0x921)+_0x3254d1+_0x3065de(0x639);_0x2aec50[_0x3065de(0xc84)]=_0x3065de(0x327)+_0x3254d1+'\x22...';const _0x2d79bf='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x3bcacb+_0x3065de(0xf3)+_0x3254d1+_0x3065de(0x7d5)+_0x3a4134+_0x3065de(0x2bf),_0x595c3b=_0x3065de(0xbf8)+_0x3254d1+_0x3065de(0x2ef)+_0x3bcacb+_0x3065de(0x651)+_0x3a4134+_0x3065de(0x4d8),_0x5ec81f=_0x3065de(0xa8f)+_0x3bcacb+_0x3065de(0xf3)+_0x3254d1+_0x3065de(0x982)+_0x3a4134+_0x3065de(0xbc2),_0x339c8c=_0x3065de(0xc1e)+_0x3254d1+_0x3065de(0x344)+_0x3bcacb+_0x3065de(0x8b1)+_0x3a4134+_0x3065de(0x342),_0x41f82b={'type':'ARRAY','items':{'type':_0x3065de(0xb15),'properties':{'question':{'type':_0x3065de(0xa26)},'options':{'type':'ARRAY','items':{'type':_0x3065de(0xa26)}},'answer':{'type':_0x3065de(0xa5)}},'required':[_0x3065de(0xc52),'options',_0x3065de(0xd85)]}},[_0x27be70,_0x382949,_0x145eca,_0x27e6ca]=await Promise[_0x3065de(0xa12)]([handleApiCall([{'text':_0x2d79bf},..._0x430a03],_0x3065de(0xcc9),null,null,![]),handleApiCall([{'text':_0x595c3b},..._0x430a03],'...',null,null,![]),handleApiCall([{'text':_0x5ec81f},..._0x430a03],'...',_0x41f82b,null,![]),handleApiCall([{'text':_0x339c8c},..._0x430a03],'...',null,null,![])]),_0x46464b=JSON['stringify'](_0x145eca||[]),_0x1bf3c2=document['getElementById'](_0x3065de(0xd4a)),_0x18298e=document['getElementById'](_0x3065de(0x467));_0x1bf3c2['innerText']=_0x3065de(0x882)+_0x3254d1[_0x3065de(0xc6a)](/•\\s/g,'')+_0x3065de(0xc01)+_0x3bcacb+')',[_0x3065de(0xc81),_0x3065de(0x669),'summaryContent'][_0x3065de(0x99f)](_0x2fbedc=>{const _0x4c24e6=_0x3065de;document[_0x4c24e6(0xcac)](_0x2fbedc)[_0x4c24e6(0xcaa)]='';}),document[_0x3065de(0xcac)](_0x3065de(0xc81))[_0x3065de(0xcaa)]=_0x27be70?marked[_0x3065de(0x444)](_0x27be70):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x3065de(0xcac)](_0x3065de(0x669))[_0x3065de(0xcaa)]=_0x382949?marked[_0x3065de(0x444)](_0x382949):_0x3065de(0xb51),document['getElementById'](_0x3065de(0x8c9))[_0x3065de(0xcaa)]=_0x27e6ca?marked[_0x3065de(0x444)](_0x27e6ca):_0x3065de(0xb51),currentApplicationData=JSON[_0x3065de(0x444)](_0x46464b);const _0x11e5f0=document[_0x3065de(0xcac)](_0x3065de(0xc8c));_0x11e5f0[_0x3065de(0xcaa)]=(currentApplicationData||[])['map']((_0x1f3aff,_0x35d83a)=>_0x3065de(0xc3c)+(_0x35d83a+0x1)+'.\x20'+marked[_0x3065de(0x600)](_0x1f3aff[_0x3065de(0xc52)]||'')+_0x3065de(0xa7a)+_0x35d83a+_0x3065de(0x1ae)+(_0x1f3aff['options']||[])[_0x3065de(0x201)]((_0x29758b,_0x3605ec)=>_0x3065de(0xbf4)+_0x35d83a+',\x20'+_0x3605ec+_0x3065de(0xbee)+String[_0x3065de(0x401)](0x61+_0x3605ec)+'.\x20'+marked[_0x3065de(0x600)](_0x29758b||'')+_0x3065de(0xaf5))['join']('')+_0x3065de(0xc96))[_0x3065de(0xa88)]('')||_0x3065de(0x72d),window[_0x3065de(0x4a4)]&&MathJax[_0x3065de(0xcf0)]([_0x18298e]),_0x1d6dd2[_0x3065de(0x325)][_0x3065de(0xd3c)](_0x3065de(0x60b)),_0x18298e['classList'][_0x3065de(0x419)](_0x3065de(0x60b));}catch(_0x46cbb9){console[_0x3065de(0x96)](_0x46cbb9);throw _0x46cbb9;}}function checkAnswer(_0x32f3c0,_0x4eec5a){const _0x28abd2=_0x1ca595,_0x23765f=currentApplicationData[_0x32f3c0],_0x3e6aa9=document[_0x28abd2(0xcac)]('q'+_0x32f3c0+_0x28abd2(0x626)),_0x52e157=_0x3e6aa9[_0x28abd2(0xc03)]('button');for(let _0x568441 of _0x52e157){_0x568441[_0x28abd2(0x25a)]=!![];}_0x4eec5a===_0x23765f[_0x28abd2(0xd85)]?_0x52e157[_0x4eec5a]['classList'][_0x28abd2(0xd3c)](_0x28abd2(0xc70)):(_0x52e157[_0x4eec5a][_0x28abd2(0x325)][_0x28abd2(0xd3c)](_0x28abd2(0x1fd)),_0x52e157[_0x23765f[_0x28abd2(0xd85)]][_0x28abd2(0x325)][_0x28abd2(0xd3c)]('correct'));}window[_0x1ca595(0x45a)]=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window[_0x1ca595(0x70f)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x4c704c=_0x1ca595;try{const _0x339526=initializeApp(firebaseConfig);db=getFirestore(_0x339526),auth=getAuth(_0x339526),setupAuthListener(),setupEventListeners(),showView(_0x4c704c(0xb63)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0xe6e503){console[_0x4c704c(0x96)](_0x4c704c(0xd88),_0xe6e503),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x1246e8=_0x1ca595,_0x469342=document[_0x1246e8(0xcac)](_0x1246e8(0xce3));if(!_0x469342)return;const _0x2c43f4=document[_0x1246e8(0xcac)](_0x1246e8(0xae4));_0x2c43f4[_0x1246e8(0x25a)]=!![],_0x2c43f4['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x58b357=_0x469342[_0x1246e8(0x20a)](_0x1246e8(0x1b9)),_0x4c808e=Array['from'](_0x58b357)[_0x1246e8(0x201)]((_0x5b349a,_0x58c10a)=>{const _0x441c52=_0x1246e8,_0x43f0e9=_0x5b349a[_0x441c52(0x1e8)][_0x441c52(0x18f)],_0x59a02a=_0x5b349a['querySelector'](_0x441c52(0x623))['value'];let _0x22b1b2=null,_0x5e0928='';switch(_0x43f0e9){case _0x441c52(0x801):const _0x4ef969=_0x5b349a[_0x441c52(0x20a)]('input[type=\x22text\x22]');_0x22b1b2=Array[_0x441c52(0x6ca)](_0x4ef969)['map'](_0x493320=>_0x493320[_0x441c52(0x41e)]);const _0x51bfac=_0x5b349a['querySelector'](_0x441c52(0xb47));_0x51bfac&&(_0x5e0928=_0x22b1b2[parseInt(_0x51bfac[_0x441c52(0x41e)])]);break;case _0x441c52(0xbf6):_0x22b1b2=[],_0x5e0928=_0x5b349a[_0x441c52(0xb49)](_0x441c52(0x959))[_0x441c52(0x41e)];break;case'true_false':_0x22b1b2=['true',_0x441c52(0xb0)];const _0x444bae=_0x5b349a[_0x441c52(0xb49)](_0x441c52(0xb47));_0x5e0928=_0x444bae?_0x444bae[_0x441c52(0x41e)]:'';break;case _0x441c52(0x79b):_0x22b1b2=[],_0x5e0928=_0x5b349a[_0x441c52(0xb49)]('.correct-response-input')[_0x441c52(0x41e)];break;}return{'question':_0x59a02a,'options':_0x22b1b2,'proposedAnswer':_0x5e0928};}),_0x1e6cea=_0x1246e8(0xc18)+JSON[_0x1246e8(0x71f)](_0x4c808e)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1f4c1d={'type':'ARRAY','items':{'type':_0x1246e8(0xb15),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x1246e8(0x468)},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x1246e8(0x468)},'suggestedAnswer':{'type':_0x1246e8(0xa26)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':_0x1246e8(0x8e3),'items':{'type':_0x1246e8(0xa26)}},'newCorrectIndex':{'type':_0x1246e8(0xa5)}}}},'required':[_0x1246e8(0x65b),_0x1246e8(0x7fd),'justification']}},_0x4ca4a4=await callAnalysisApi(_0x1e6cea,{'type':'OBJECT','properties':{'result':_0x1f4c1d},'required':[_0x1246e8(0x87f)]});displayVerificationResultsInEditor(_0x4ca4a4['result']);}catch(_0x26449d){console[_0x1246e8(0x96)](_0x1246e8(0xa60),_0x26449d),showMessage(_0x1246e8(0xb70));}finally{_0x2c43f4[_0x1246e8(0x25a)]=![],_0x2c43f4['innerHTML']=_0x1246e8(0xc64);}}function displayVerificationResultsInEditor(_0x55c151){const _0x360972=_0x1ca595;_0x55c151[_0x360972(0x99f)](_0x196b18=>{const _0x36604e=_0x360972,_0x2cdbbb=document[_0x36604e(0xb49)](_0x36604e(0x3ea)+_0x196b18['questionIndex']+'\x22]');if(!_0x2cdbbb)return;const _0x1867bf=_0x2cdbbb[_0x36604e(0xb49)]('.verification-result-editor');if(_0x1867bf)_0x1867bf[_0x36604e(0x419)]();let _0x5ecfe8='';if(_0x196b18['newOptionsPayload']&&_0x196b18[_0x36604e(0x210)][_0x36604e(0x7fe)]){const _0x18dc4e=_0x196b18[_0x36604e(0x210)]['newOptions'],_0x3a32fd=_0x196b18[_0x36604e(0x210)][_0x36604e(0xb19)],_0x5a41ca=_0x2cdbbb[_0x36604e(0x1e8)][_0x36604e(0x18f)];if(_0x5a41ca===_0x36604e(0x801)){const _0x4528ce=_0x2cdbbb[_0x36604e(0x20a)](_0x36604e(0x587));_0x4528ce[_0x36604e(0x99f)]((_0x3794bc,_0x5ab81c)=>{const _0x33089a=_0x36604e;_0x18dc4e[_0x5ab81c]?_0x3794bc['value']=_0x18dc4e[_0x5ab81c]:_0x3794bc[_0x33089a(0x41e)]=_0x33089a(0x872);});const _0x1837a9=_0x2cdbbb[_0x36604e(0xb49)](_0x36604e(0x599)+_0x3a32fd+'\x22]');_0x1837a9&&(_0x1837a9[_0x36604e(0xa81)]=!![]),_0x5ecfe8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x2cdbbb[_0x36604e(0x325)][_0x36604e(0xd3c)](_0x36604e(0xbe0),_0x36604e(0x3ba),'duration-300'),setTimeout(()=>{const _0x112a95=_0x36604e;_0x2cdbbb[_0x112a95(0x325)][_0x112a95(0x419)]('bg-yellow-200');},0x9c4);}}else{if(!_0x196b18['isCorrect']&&_0x196b18[_0x36604e(0x6cc)]){const _0x10fa6a=_0x196b18['suggestedAnswer']?_0x36604e(0x95b):'';_0x5ecfe8=_0x36604e(0x171)+_0x10fa6a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x196b18['justification']+_0x36604e(0x8c1)+(_0x196b18[_0x36604e(0x6cc)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x196b18[_0x36604e(0x6cc)]+_0x36604e(0xba):'')+_0x36604e(0xaf8);const _0x2296e6=_0x2cdbbb['dataset']['qType'],_0x4b22b0=_0x233f13=>{const _0x44a3e1=_0x36604e;if(!_0x233f13)return;_0x233f13[_0x44a3e1(0x325)][_0x44a3e1(0xd3c)]('bg-green-200',_0x44a3e1(0x3ba),'duration-300'),setTimeout(()=>{const _0x131e07=_0x44a3e1;_0x233f13[_0x131e07(0x325)]['remove'](_0x131e07(0x460));},0x9c4);};if(_0x2296e6===_0x36604e(0x801)){const _0xee50d2=Array[_0x36604e(0x6ca)](_0x2cdbbb[_0x36604e(0x20a)](_0x36604e(0x587))),_0x5b582e=_0xee50d2[_0x36604e(0x4cb)](_0x2d87fb=>_0x2d87fb['value'][_0x36604e(0x964)]()['toLowerCase']()===_0x196b18[_0x36604e(0x6cc)][_0x36604e(0x964)]()[_0x36604e(0x5c9)]());if(_0x5b582e!==-0x1){const _0xc8ad1f=_0x2cdbbb[_0x36604e(0xb49)](_0x36604e(0x599)+_0x5b582e+'\x22]');_0xc8ad1f&&(_0xc8ad1f[_0x36604e(0xa81)]=!![],_0x4b22b0(_0xc8ad1f[_0x36604e(0x2d3)](_0x36604e(0xb5e))));}}else{if(_0x2296e6==='short_answer'||_0x2296e6===_0x36604e(0x79b)){const _0x281121=_0x2cdbbb[_0x36604e(0xb49)]('.ideal-answer-input,\x20.correct-response-input');_0x281121&&(_0x281121[_0x36604e(0x41e)]=_0x196b18['suggestedAnswer'],_0x4b22b0(_0x281121));}else{if(_0x2296e6===_0x36604e(0xcea)){const _0x385c38=_0x196b18['suggestedAnswer'][_0x36604e(0x964)]()[_0x36604e(0x5c9)](),_0x61c76a=_0x2cdbbb[_0x36604e(0xb49)](_0x36604e(0x599)+_0x385c38+'\x22]');_0x61c76a&&(_0x61c76a['checked']=!![],_0x4b22b0(_0x61c76a['closest'](_0x36604e(0xb5e))));}}}}else _0x196b18['isCorrect']&&(_0x5ecfe8=_0x36604e(0x6c5));}_0x2cdbbb[_0x36604e(0x453)]('beforeend',_0x5ecfe8);}),showMessage(_0x360972(0x689));}async function handleVerifyAnswers(){const _0x1b8154=_0x1ca595;if(!currentQuizData||!currentQuizData[_0x1b8154(0xbfe)]){showMessage(_0x1b8154(0x810));return;}const _0x11b227=document[_0x1b8154(0xcac)](_0x1b8154(0x3e8));_0x11b227[_0x1b8154(0x25a)]=!![],_0x11b227['innerHTML']=_0x1b8154(0xb61);try{const _0x3fa9a6=currentQuizData[_0x1b8154(0xbfe)][_0x1b8154(0x201)]((_0x481cff,_0x2557b1)=>{const _0x4e8d0c=_0x1b8154;let _0x2f9760='';const _0x24c7dd=_0x481cff['questionType']||currentQuizData[_0x4e8d0c(0x717)];switch(_0x24c7dd){case'multiple_choice':_0x2f9760=_0x481cff[_0x4e8d0c(0x63f)][_0x481cff[_0x4e8d0c(0xc75)]];break;case _0x4e8d0c(0xbf6):_0x2f9760=_0x481cff[_0x4e8d0c(0x8c8)];break;case'true_false':_0x2f9760=_0x481cff[_0x4e8d0c(0xc49)][_0x4e8d0c(0x287)]();break;case _0x4e8d0c(0x79b):_0x2f9760=_0x481cff[_0x4e8d0c(0xca2)];break;}return{'question':_0x481cff['stem']||_0x481cff['questionText'],'options':_0x481cff[_0x4e8d0c(0x63f)]||null,'proposedAnswer':_0x2f9760};}),_0x4c5e09=_0x1b8154(0x1e6)+JSON[_0x1b8154(0x71f)](_0x3fa9a6)+_0x1b8154(0x94e),_0x34247f={'type':'ARRAY','items':{'type':_0x1b8154(0xb15),'properties':{'questionIndex':{'type':_0x1b8154(0xa5)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x1b8154(0xa26)},'suggestedAnswer':{'type':_0x1b8154(0xa26)}},'required':['questionIndex',_0x1b8154(0x7fd),_0x1b8154(0x761)]}},_0x4a9570=await callAnalysisApi(_0x4c5e09,{'type':_0x1b8154(0xb15),'properties':{'result':_0x34247f},'required':[_0x1b8154(0x87f)]});displayVerificationResults(_0x4a9570[_0x1b8154(0x87f)]);}catch(_0x187248){console[_0x1b8154(0x96)]('Error\x20verifying\x20answers:',_0x187248),showMessage(_0x1b8154(0xb70));}finally{_0x11b227[_0x1b8154(0x25a)]=![],_0x11b227[_0x1b8154(0xcaa)]=_0x1b8154(0x366);}}function displayVerificationResults(_0x2cb79a){const _0x36ece2=_0x1ca595;_0x2cb79a[_0x36ece2(0x99f)](_0x2b21e1=>{const _0x176be7=_0x36ece2,_0x5e13ca=document[_0x176be7(0xb49)](_0x176be7(0x27b)+_0x2b21e1[_0x176be7(0x65b)]+'\x22]');if(_0x5e13ca){const _0x18a9b9=_0x5e13ca[_0x176be7(0xb49)](_0x176be7(0x67a));if(_0x18a9b9)_0x18a9b9[_0x176be7(0x419)]();let _0x36a992='';_0x2b21e1[_0x176be7(0x7fd)]?_0x36a992='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x36a992=_0x176be7(0x25b)+_0x2b21e1[_0x176be7(0x761)]+_0x176be7(0xd86)+(_0x2b21e1['suggestedAnswer']?_0x176be7(0x368)+_0x2b21e1[_0x176be7(0x6cc)]+_0x176be7(0xba):'')+_0x176be7(0x8ff),_0x5e13ca[_0x176be7(0x453)](_0x176be7(0x381),_0x36a992);}}),showMessage(_0x36ece2(0x689));}function compareNumericalAnswers(_0x4470f4,_0x3eb003){const _0x485303=_0x1ca595,_0xf13d3d=String(_0x4470f4)[_0x485303(0xc6a)](',','.')[_0x485303(0xc6a)](/[^\d.-]/g,'')[_0x485303(0x964)](),_0x2a5385=String(_0x3eb003)[_0x485303(0xc6a)](',','.')[_0x485303(0xc6a)](/[^\d.-]/g,'')[_0x485303(0x964)]();if(_0xf13d3d===''||_0x2a5385==='')return![];const _0x204867=parseFloat(_0xf13d3d),_0x39983f=parseFloat(_0x2a5385);if(isNaN(_0x204867)||isNaN(_0x39983f))return![];return Math[_0x485303(0x5c7)](_0x204867-_0x39983f)<0.001;}function isPotentiallyNumeric(_0x3ffc85){const _0x55934b=_0x1ca595;if(typeof _0x3ffc85!==_0x55934b(0x6ed)&&typeof _0x3ffc85!==_0x55934b(0x187))return![];const _0x20af20=String(_0x3ffc85)[_0x55934b(0xc6a)](',','.')[_0x55934b(0x964)]();return _0x20af20!==''&&!isNaN(parseFloat(_0x20af20))&&isFinite(_0x20af20);}async function gradeShortAnswer(_0x25759b,_0x466330){const _0x3f8c81=_0x1ca595,_0x511c7d=_0x466330[_0x3f8c81(0x8c8)],_0x701b35=String(_0x25759b)[_0x3f8c81(0xc6a)](/\$/g,'')[_0x3f8c81(0x964)](),_0x1966bb=String(_0x511c7d)[_0x3f8c81(0xc6a)](/\$/g,'')[_0x3f8c81(0x964)]();if(_0x701b35[_0x3f8c81(0x5c9)]()===_0x1966bb[_0x3f8c81(0x5c9)]())return!![];if(isPotentiallyNumeric(_0x701b35)&&isPotentiallyNumeric(_0x1966bb)){if(compareNumericalAnswers(_0x701b35,_0x1966bb))return!![];}return console[_0x3f8c81(0xa7f)](_0x3f8c81(0x5e3)),await gradeShortAnswerWithAI(_0x25759b,_0x511c7d);}async function revealAnswerForAdmin(_0x3e3815,_0x3d1274){const _0x15fca3=_0x1ca595,_0x25ef5c=doc(db,_0x15fca3(0x54a)+appId+_0x15fca3(0x894),currentLiveGameId);await updateDoc(_0x25ef5c,{'questionStatus':_0x15fca3(0xa92)});}function showTop5LeaderboardView(_0x4ce976){const _0x1d52a4=_0x1ca595,_0xbf06e7=Object[_0x1d52a4(0xc7b)](_0x4ce976[_0x1d52a4(0x1ff)]||{})[_0x1d52a4(0xa00)](_0x36fb4a=>_0x36fb4a['status']==='active');_0xbf06e7[_0x1d52a4(0xb2f)]((_0x271d21,_0x35083d)=>_0x35083d['score']-_0x271d21[_0x1d52a4(0xa4c)]);const _0x236595=_0xbf06e7[_0x1d52a4(0x2ea)](0x0,0x5),_0x533611='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x236595[_0x1d52a4(0x201)]((_0x16c0a7,_0x41a2f4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x41a2f4+0x1)+'.\x20'+(_0x16c0a7[_0x1d52a4(0xd33)]||Object[_0x1d52a4(0x236)](_0x4ce976[_0x1d52a4(0x1ff)])['find'](_0x1844ba=>_0x4ce976[_0x1d52a4(0x1ff)][_0x1844ba]===_0x16c0a7))+_0x1d52a4(0xd1)+_0x16c0a7[_0x1d52a4(0xa4c)]+_0x1d52a4(0x115))[_0x1d52a4(0xa88)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4ce976[_0x1d52a4(0x464)]+0x1===currentQuizData['questions'][_0x1d52a4(0x1d6)]?_0x1d52a4(0xb17):_0x1d52a4(0x4d1))+_0x1d52a4(0x75e);liveGameView[_0x1d52a4(0xcaa)]=_0x533611,document[_0x1d52a4(0xcac)](_0x1d52a4(0xd6e))[_0x1d52a4(0x8d3)](_0x1d52a4(0xc47),async()=>{const _0x4a2c27=_0x1d52a4,_0x18d33c=doc(db,_0x4a2c27(0x54a)+appId+_0x4a2c27(0x894),currentLiveGameId),_0x67db5=_0x4ce976[_0x4a2c27(0x464)]+0x1;if(_0x67db5<currentQuizData[_0x4a2c27(0xbfe)][_0x4a2c27(0x1d6)]){const _0x4b80cd={'currentQuestionIndex':_0x67db5,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x4a2c27(0x6e5)};Object['keys'](_0x4ce976['players'])[_0x4a2c27(0x99f)](_0x32a7e0=>{const _0x2a6300=_0x4a2c27;_0x4b80cd[_0x2a6300(0x8d5)+_0x32a7e0+_0x2a6300(0x641)]=![];}),await updateDoc(_0x18d33c,_0x4b80cd);}else await updateDoc(_0x18d33c,{'status':_0x4a2c27(0x5bc)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x2be5f3=>{const _0x314483=_0x2406;if(_0x2be5f3){userId=_0x2be5f3['uid'],userIdDisplay[_0x314483(0xc84)]=userId;const _0x4b375e=await loadUserPreferences();_0x4b375e[_0x314483(0x3a3)]&&(document[_0x314483(0xcac)](_0x314483(0x747))[_0x314483(0x41e)]=_0x4b375e['projectSortOrder']);globalDashboardSettings[_0x314483(0x9df)]=_0x4b375e[_0x314483(0x9df)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x1e92c3,_0x210e9f){const _0x341af5=_0x1ca595;if(!userId)return;try{const _0x5eef46=doc(db,_0x341af5(0x54a)+appId+_0x341af5(0xc6)+userId+_0x341af5(0x44d)),_0x18d54a={};_0x18d54a[_0x1e92c3]=_0x210e9f,await setDoc(_0x5eef46,_0x18d54a,{'merge':!![]});}catch(_0x58b25f){console[_0x341af5(0x96)](_0x341af5(0x540),_0x58b25f);}}async function loadUserPreferences(){const _0x3e706b=_0x1ca595;if(!userId)return{};try{const _0x213509=doc(db,'artifacts/'+appId+_0x3e706b(0xc6)+userId+_0x3e706b(0x44d)),_0x5c2a13=await getDoc(_0x213509);if(_0x5c2a13['exists']())return _0x5c2a13[_0x3e706b(0xb6)]();return{};}catch(_0x36b89f){return console[_0x3e706b(0x96)](_0x3e706b(0x92e),_0x36b89f),{};}}function parseIndentedBlueprint(_0x22a34f){const _0x5ca832=_0x1ca595,_0x3add62=_0x22a34f[_0x5ca832(0x38d)]('\x0a')['filter'](_0xc4f3c5=>_0xc4f3c5[_0x5ca832(0x964)]()!==''),_0x559bc6=[];let _0xd39fc1=null,_0x39ec77=null;return _0x3add62[_0x5ca832(0x99f)](_0x30dd58=>{const _0x4c3db6=_0x5ca832,_0x12c920=_0x30dd58['match'](/^\s*/)[0x0]['length'],_0x5bfd8f=_0x30dd58[_0x4c3db6(0x964)]();if(_0x12c920===0x0)_0xd39fc1={'sara':_0x5bfd8f,'mainTopics':[]},_0x559bc6[_0x4c3db6(0x3bb)](_0xd39fc1),_0x39ec77=null;else{if(_0x12c920>0x0&&_0x12c920<0x8&&_0xd39fc1)_0x39ec77={'topicName':_0x5bfd8f,'subTopics':[]},_0xd39fc1[_0x4c3db6(0x5fb)][_0x4c3db6(0x3bb)](_0x39ec77);else _0x12c920>=0x8&&_0x39ec77&&_0x39ec77[_0x4c3db6(0x56c)][_0x4c3db6(0x3bb)](_0x5bfd8f);}}),{'curriculum':_0x559bc6};}async function handleManualBlueprintSave(){const _0x7e3ecb=_0x1ca595,_0x31ef85=document[_0x7e3ecb(0xcac)](_0x7e3ecb(0x66c))[_0x7e3ecb(0x41e)][_0x7e3ecb(0x964)](),_0x4fb0f5=document[_0x7e3ecb(0xcac)](_0x7e3ecb(0x95e))['value'][_0x7e3ecb(0x964)](),_0x49d292=document[_0x7e3ecb(0xcac)](_0x7e3ecb(0x4e9))['value'];if(!_0x31ef85||!_0x4fb0f5||!_0x49d292){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x6ec158=parseIndentedBlueprint(_0x49d292);if(!_0x6ec158[_0x7e3ecb(0xd00)]||_0x6ec158[_0x7e3ecb(0xd00)][_0x7e3ecb(0x1d6)]===0x0){showMessage(_0x7e3ecb(0x165));return;}const _0x5168ef={};let _0x42e949=0x0;_0x6ec158[_0x7e3ecb(0xd00)][_0x7e3ecb(0x99f)](_0x164d78=>{const _0x3fed31=_0x7e3ecb;_0x164d78[_0x3fed31(0x5fb)][_0x3fed31(0x99f)](_0x7fbbca=>{const _0x539cc6=_0x3fed31;_0x7fbbca[_0x539cc6(0x56c)][_0x539cc6(0x99f)](_0x36cbd3=>{const _0x340694=_0x539cc6,_0x5d8af9='topic_'+Date[_0x340694(0x27a)]()+Math['random']()['toString'](0x24)[_0x340694(0x720)](0x2,0x9);_0x5168ef[_0x5d8af9]={'sara':_0x164d78['sara'],'mainTopic':_0x7fbbca['topicName'],'subTopic':_0x36cbd3,'status':'not_generated','lessonContent':null,'order':_0x42e949++};});});});try{const _0x2e3c37=collection(db,'artifacts/'+appId+_0x7e3ecb(0x30f));await addDoc(_0x2e3c37,{'projectName':_0x31ef85,'gradeLevel':_0x4fb0f5,'topics':_0x5168ef,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x31ef85+'\x22\x20สำเร็จ!'),document[_0x7e3ecb(0xcac)]('manual-blueprint-modal')[_0x7e3ecb(0x325)][_0x7e3ecb(0xd3c)](_0x7e3ecb(0x60b));}catch(_0x1c92a9){console[_0x7e3ecb(0x96)](_0x7e3ecb(0x868),_0x1c92a9),showMessage(_0x7e3ecb(0x4c4));}}function handleClearAllLinksForTopic(_0x24043a){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x4160f3=_0x2406;try{const _0x5ca07c=doc(db,_0x4160f3(0x54a)+appId+_0x4160f3(0x30f),currentBlueprintProjectId);await updateDoc(_0x5ca07c,{[_0x4160f3(0x47e)+_0x24043a+_0x4160f3(0xc83)]:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x24043a),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5dc85f){console['error'](_0x4160f3(0x8a4),_0x5dc85f),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x23be38,_0x412d39='live-race',_0x2975a5=null){const _0x458424=_0x1ca595,_0x1782c8=_0x2975a5?.['isBlackMarketEnabled']===!![],_0x2d48cb=Object['entries'](_0x23be38)[_0x458424(0x201)](([_0x310fb3,_0x26be6a])=>({'name':_0x310fb3,'realScore':_0x26be6a[_0x458424(0x3bd)]||_0x26be6a[_0x458424(0xa4c)]||0x0,'totalPoints':_0x26be6a[_0x458424(0x9c8)]||0x0,'badges':_0x26be6a[_0x458424(0xb40)]||[],'hasPerfectScoreBonus':_0x26be6a['hasPerfectScoreBonus']||![]})),_0x24a836=Math[_0x458424(0xdb)](..._0x2d48cb[_0x458424(0x201)](_0x36748d=>_0x36748d['totalPoints']),-Infinity),_0x18bb4d=Math['max'](..._0x2d48cb[_0x458424(0x201)](_0x2324b1=>_0x2324b1['realScore']),-Infinity);_0x2d48cb[_0x458424(0xb2f)]((_0x4ceb6c,_0x44a9c1)=>{const _0x3188dd=_0x458424;if(_0x1782c8){const _0x5cb9dd=_0x44a9c1[_0x3188dd(0x9c8)]-_0x4ceb6c['totalPoints'];if(_0x5cb9dd!==0x0)return _0x5cb9dd;const _0x141ed9=_0x44a9c1[_0x3188dd(0x3bd)]-_0x4ceb6c[_0x3188dd(0x3bd)];if(_0x141ed9!==0x0)return _0x141ed9;return _0x4ceb6c[_0x3188dd(0xd33)][_0x3188dd(0xbf1)](_0x44a9c1[_0x3188dd(0xd33)],'th');}else{const _0x275d40=_0x44a9c1[_0x3188dd(0x9c8)]-_0x4ceb6c['totalPoints'];if(_0x275d40!==0x0)return _0x275d40;return _0x44a9c1['realScore']-_0x4ceb6c[_0x3188dd(0x3bd)];}});const _0x44c901=_0xc20acf=>{const _0x2cb726=_0x458424;if(!_0xc20acf||_0xc20acf[_0x2cb726(0x1d6)]===0x0)return'';const _0x523db0={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x2cb726(0xd15)+_0xc20acf['map'](_0x1803fa=>_0x523db0[_0x1803fa]||'')['join']('')+_0x2cb726(0x4dd);},_0x3324dd=_0xff6998=>{const _0x36154b=_0x458424;let _0x3b56b0='';if(_0x1782c8){if(_0xff6998['totalPoints']===_0x24a836&&_0x24a836>0x0)_0x3b56b0+='<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20';if(_0xff6998[_0x36154b(0x3bd)]===_0x18bb4d&&_0x18bb4d>0x0)_0x3b56b0+='<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20';}else{if(_0xff6998['hasPerfectScoreBonus'])_0x3b56b0='<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>';}if(_0x1782c8){const _0x5742d6=_0xff6998[_0x36154b(0x9c8)]>=0x0?'(+'+_0xff6998[_0x36154b(0x9c8)]+')':'('+_0xff6998[_0x36154b(0x9c8)]+')';return _0x36154b(0x6d7)+_0xff6998[_0x36154b(0x3bd)]+_0x36154b(0x913)+_0x5742d6+'\x20'+_0x3b56b0+_0x36154b(0xba);}else return'<p\x20class=\x22text-xl\x22>'+_0xff6998[_0x36154b(0x9c8)]+'\x20คะแนน\x20'+_0x3b56b0+_0x36154b(0xba);},_0x4b7196=_0x2d48cb[_0x458424(0x2ea)](0x3),_0x39fcbf=_0x4b7196[_0x458424(0x1d6)]>0x0?_0x458424(0xabe)+_0x4b7196['map']((_0x5c5046,_0x5eb5f8)=>{const _0x22d9a4=_0x458424;return _0x22d9a4(0x592)+(_0x5eb5f8+0x4)+_0x22d9a4(0x1ad)+_0x5c5046[_0x22d9a4(0xd33)]+_0x22d9a4(0xafd)+_0x3324dd(_0x5c5046)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x458424(0xa88)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x37dbc2=_0x458424(0x6c8)+(_0x2d48cb[0x1]?_0x458424(0xc9d)+_0x2d48cb[0x1][_0x458424(0xd33)]+_0x458424(0xba)+_0x44c901(_0x2d48cb[0x1][_0x458424(0xb40)])+_0x3324dd(_0x2d48cb[0x1])+_0x458424(0x92a):_0x458424(0xe6))+_0x458424(0x6c4)+(_0x2d48cb[0x0]?_0x458424(0xc26)+_0x2d48cb[0x0][_0x458424(0xd33)]+_0x458424(0xba)+_0x44c901(_0x2d48cb[0x0][_0x458424(0xb40)])+_0x3324dd(_0x2d48cb[0x0])+_0x458424(0xad2):_0x458424(0xe6))+_0x458424(0x6c4)+(_0x2d48cb[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x2d48cb[0x2][_0x458424(0xd33)]+'</p>'+_0x44c901(_0x2d48cb[0x2][_0x458424(0xb40)])+_0x3324dd(_0x2d48cb[0x2])+_0x458424(0xce4):_0x458424(0xe6))+_0x458424(0x586)+_0x39fcbf+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x458424(0x28d)?_0x458424(0xd57):_0x458424(0x8b0))+_0x458424(0x55b);liveGameView[_0x458424(0xcaa)]=_0x37dbc2,currentMode==='admin'?document[_0x458424(0xcac)](_0x458424(0x9cc))[_0x458424(0x8d3)](_0x458424(0xc47),async()=>{const _0x2031d2=_0x458424;let _0x3d911e;_0x412d39===_0x2031d2(0x417)?_0x3d911e=doc(db,_0x2031d2(0x54a)+appId+_0x2031d2(0xa14),currentLiveGameId):_0x3d911e=doc(db,_0x2031d2(0x54a)+appId+_0x2031d2(0x894),currentLiveGameId),await deleteDoc(_0x3d911e);}):document['getElementById'](_0x458424(0xa4a))?.['addEventListener']('click',()=>{const _0x6dfa8a=_0x458424;showView(_0x6dfa8a(0xb63));});}function renderSyncSummaryView(_0x55939b,_0x5db9a4,_0x241261){const _0x47f173=_0x1ca595,_0x116c7d=_0x55939b[_0x47f173(0x828)]||'classic',_0x449903=_0x116c7d==='anonymous'&&_0x55939b['isAnonymousRevealed']===![],_0x3efaaf=_0x55939b[_0x47f173(0xc09)][_0x47f173(0xbfe)],_0x513983=_0x5db9a4[_0x47f173(0xc34)]||_0x55939b[_0x47f173(0xc09)][_0x47f173(0x717)];let _0x498cac=[];_0x513983===_0x47f173(0xcea)?_0x498cac=['ใช่\x20/\x20ถูก','ไม่ใช่\x20/\x20ผิด']:_0x498cac=_0x5db9a4[_0x47f173(0x63f)]||[];const _0x58b565=new Array(_0x498cac['length'])[_0x47f173(0xd4d)](0x0),_0x3da454={};_0x498cac['forEach']((_0x3738f4,_0x542e1a)=>{_0x3da454[_0x542e1a]=[];}),Object['entries'](_0x55939b[_0x47f173(0x1ff)]||{})[_0x47f173(0x99f)](([_0x2648d7,_0xb33e17])=>{const _0x3e9d6c=_0x47f173;if(_0xb33e17['status']!==_0x3e9d6c(0xc3f)&&_0xb33e17['lastAnswerIndex']!==undefined&&_0xb33e17[_0x3e9d6c(0x6c0)]!==null){const _0x891d0d=_0xb33e17['lastAnswerIndex'];if(_0x3da454[_0x891d0d]!==undefined){const _0x3315a6=_0x449903?_0x55939b[_0x3e9d6c(0xbc)][_0x2648d7]||_0x3e9d6c(0x990):_0x2648d7;_0x3da454[_0x891d0d][_0x3e9d6c(0x3bb)](_0x3315a6),_0x58b565[_0x891d0d]++;}}});let _0x570da4='';const _0x4d446e=_0x55939b[_0x47f173(0x464)]>=_0x3efaaf['length']-0x1;_0x241261?_0x116c7d===_0x47f173(0x9a)?_0x4d446e?_0x570da4=_0x47f173(0x948):_0x570da4='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x570da4=_0x47f173(0xbf5):_0x116c7d===_0x47f173(0x9a)?_0x570da4=_0x47f173(0x6ce):_0x570da4=_0x47f173(0xc4c);const _0x1cdb16=_0x241261?_0x47f173(0x166)+_0x55939b[_0x47f173(0x482)]+_0x47f173(0xd98):'',_0x1ffb6f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cdb16+_0x47f173(0x902)+_0x5db9a4['questionText']+_0x47f173(0xa30)+_0x58b565[_0x47f173(0x201)]((_0x409391,_0x3b1147)=>{const _0x21419a=_0x47f173,_0x1370be=_0x3da454[_0x3b1147][_0x21419a(0x1d6)]>0x0?_0x3da454[_0x3b1147]['join'](',\x20'):_0x21419a(0xa57),_0x3e5c6f=_0x21419a(0x2f5);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x409391+_0x21419a(0x2f3)+_0x3e5c6f+';\x22\x20data-tooltip-target=\x22tooltip-'+_0x3b1147+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x498cac[_0x3b1147]+_0x21419a(0x95a)+_0x3b1147+_0x21419a(0x5fc)+_0x1370be+_0x21419a(0xd34);})[_0x47f173(0xa88)]('')+_0x47f173(0xc6e)+_0x570da4+_0x47f173(0x703);liveGameView[_0x47f173(0xcaa)]=_0x1ffb6f;if(window['MathJax'])MathJax['typesetPromise']();if(_0x241261){const _0x254bbb=doc(db,'artifacts/'+appId+_0x47f173(0xa14),currentLiveGameId);document[_0x47f173(0xcac)](_0x47f173(0x866))?.['addEventListener'](_0x47f173(0xc47),async()=>{const _0x36ebef=_0x47f173,_0x92c8e5=Object[_0x36ebef(0xc7b)](_0x55939b[_0x36ebef(0x1ff)]||{})[_0x36ebef(0x201)](_0x3b6093=>({'name':_0x3b6093[_0x36ebef(0xd33)],'score':_0x3b6093[_0x36ebef(0xa4c)]||0x0,'totalPoints':_0x3b6093[_0x36ebef(0x9c8)]||0x0,'pointsLastRound':_0x3b6093['pointsLastRound']||0x0,'answers':_0x3b6093[_0x36ebef(0x54d)]||[]}));await updateDoc(_0x254bbb,{'status':_0x36ebef(0x5a0),'publicLeaderboard':_0x92c8e5});}),document['getElementById']('open-sync-scratchpad-btn')?.[_0x47f173(0x8d3)]('click',()=>{openScratchpad(_0x5db9a4,_0x498cac);}),document['getElementById'](_0x47f173(0xad))?.[_0x47f173(0x8d3)]('click',async()=>{const _0x3817a5=_0x47f173,_0x516a22=_0x55939b[_0x3817a5(0x464)]+0x1;await updateDoc(_0x254bbb,{'status':_0x3817a5(0xc52),'currentQuestionIndex':_0x516a22,'questionDisplayedAt':serverTimestamp()});}),document[_0x47f173(0xcac)](_0x47f173(0x3ac))?.[_0x47f173(0x8d3)](_0x47f173(0xc47),async()=>{const _0x178464=_0x47f173,_0x2c9335=Object[_0x178464(0xc7b)](_0x55939b['players']||{})[_0x178464(0x201)](_0x1ec41a=>({'name':_0x1ec41a[_0x178464(0xd33)],'score':_0x1ec41a[_0x178464(0xa4c)]||0x0,'totalPoints':_0x1ec41a['totalPoints']||0x0,'pointsLastRound':_0x1ec41a[_0x178464(0x104)]||0x0,'answers':_0x1ec41a[_0x178464(0x54d)]||[]}));await updateDoc(_0x254bbb,{'status':_0x178464(0x5a0),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x2c9335});});}}function renderAnonymousStudentResultsView(_0x3ac812){const _0x29c1df=_0x1ca595,_0x452b40=_0x3ac812['currentQuestionIndex']>=_0x3ac812[_0x29c1df(0xc09)][_0x29c1df(0xbfe)][_0x29c1df(0x1d6)]-0x1;let _0x3e77fe='';if(_0x3ac812[_0x29c1df(0x5ab)]===!![]){const _0x1b70de=_0x3ac812['players'][localTeamPlayers[0x0]],_0x3fddec=_0x1b70de[_0x29c1df(0xd33)],_0x4f873a=_0x1b70de[_0x29c1df(0xa4c)];_0x3e77fe=_0x29c1df(0x6dd)+_0x3fddec+_0x29c1df(0x863)+_0x4f873a+_0x29c1df(0x22b);}else _0x3e77fe=_0x29c1df(0x8b9)+(_0x452b40?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':_0x29c1df(0x32d))+_0x29c1df(0xae0);const _0x5dde75=_0x29c1df(0x657)+_0x3e77fe+_0x29c1df(0x78c);liveGameView['innerHTML']=_0x5dde75;}async function handleShowStudentRankings(){const _0xc78ec4=_0x1ca595,_0x55fc84=document['querySelector']('#student-quiz-leaderboard-content\x20thead');_0x55fc84&&(_0x55fc84['innerHTML']=_0xc78ec4(0xa7d));const _0x364c1d=document[_0xc78ec4(0xb49)](_0xc78ec4(0x610));_0x364c1d&&(_0x364c1d[_0xc78ec4(0xcaa)]=_0xc78ec4(0x3ec));const _0x5e18f6=document[_0xc78ec4(0xcac)](_0xc78ec4(0xa95));_0x5e18f6[_0xc78ec4(0x325)]['remove']('hidden'),document[_0xc78ec4(0xcac)](_0xc78ec4(0xa3c))[_0xc78ec4(0x733)]=()=>_0x5e18f6['classList'][_0xc78ec4(0xd3c)](_0xc78ec4(0x60b));const _0x265f6d=document[_0xc78ec4(0xcac)](_0xc78ec4(0x4bc)),_0xd9be08=document['getElementById'](_0xc78ec4(0x97a)),_0x5c3a41=document[_0xc78ec4(0xcac)](_0xc78ec4(0x22f)),_0x341cc1=document['getElementById']('student-project-leaderboard-content');_0x265f6d['onclick']=()=>{const _0x2ea599=_0xc78ec4;_0x265f6d[_0x2ea599(0x325)][_0x2ea599(0xd3c)]('active'),_0xd9be08['classList']['remove']('active'),_0x5c3a41[_0x2ea599(0x325)][_0x2ea599(0x419)](_0x2ea599(0x60b)),_0x341cc1[_0x2ea599(0x325)][_0x2ea599(0xd3c)](_0x2ea599(0x60b));},_0xd9be08['onclick']=()=>{const _0x311746=_0xc78ec4;_0xd9be08[_0x311746(0x325)][_0x311746(0xd3c)](_0x311746(0x6a2)),_0x265f6d['classList'][_0x311746(0x419)]('active'),_0x341cc1[_0x311746(0x325)][_0x311746(0x419)](_0x311746(0x60b)),_0x5c3a41[_0x311746(0x325)][_0x311746(0xd3c)](_0x311746(0x60b));};try{const _0x50ab85=collection(db,'artifacts/'+appId+_0xc78ec4(0x292)+currentQuizData['id']+_0xc78ec4(0x12a)),_0x3e61cb=await getDocs(_0x50ab85),_0xeb724d=_0x3e61cb[_0xc78ec4(0x26a)]['map'](_0xb829ab=>_0xb829ab['data']());renderQuizLeaderboard(_0xeb724d,currentQuizData,_0xc78ec4(0x3b0));const _0x3fea88=collection(db,'artifacts/'+appId+_0xc78ec4(0x853)+currentQuizData[_0xc78ec4(0x98d)]+_0xc78ec4(0x3e5)),_0x6cb5b8=await getDocs(_0x3fea88),_0x84703b=_0x6cb5b8[_0xc78ec4(0x26a)][_0xc78ec4(0x201)](_0x510163=>_0x510163['data']());renderLeaderboard(_0x84703b,_0xc78ec4(0xc78));}catch(_0x3b7a98){console[_0xc78ec4(0x96)](_0xc78ec4(0x931),_0x3b7a98),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x923027){const _0x5e8284=_0x1ca595,_0x3b4f1a=_0x923027[_0x5e8284(0xcab)],_0x101458=_0x3b4f1a[_0x5e8284(0x1e8)][_0x5e8284(0x7a7)],_0x5511e3=currentQuizData[_0x5e8284(0xbfe)][_0x101458];if(!userId){showMessage(_0x5e8284(0x915));return;}try{const _0x521dee={..._0x5511e3,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x2d6391=collection(db,_0x5e8284(0x54a)+appId+_0x5e8284(0xc6)+userId+'/questionBank');await addDoc(_0x2d6391,_0x521dee),showMessage(_0x5e8284(0xa74)),_0x3b4f1a[_0x5e8284(0x325)]['remove'](_0x5e8284(0xd17)),_0x3b4f1a[_0x5e8284(0x325)][_0x5e8284(0xd3c)](_0x5e8284(0x652)),_0x3b4f1a[_0x5e8284(0x25a)]=!![];}catch(_0x3c2fcc){console[_0x5e8284(0x96)](_0x5e8284(0x8a8),_0x3c2fcc),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x5ae971,_0x4ef199=null,_0x1ecba2=null,_0x12791d=![]){const _0x1714c5=_0x1ca595;cameFromBlueprint=!![];const _0x5504c8=document[_0x1714c5(0xcac)]('bp-reference-file-url')?.['value'][_0x1714c5(0x964)]();let _0x1fbcee=null;if(_0x5504c8){showMessage(_0x1714c5(0x137));try{const _0x26ba0e=await fetchFileFromUrl(_0x5504c8,'reference_onet.pdf'),_0x10db36=await new Promise((_0x4acfce,_0x4fe721)=>{const _0x5ba131=_0x1714c5,_0x224dc3=new FileReader();_0x224dc3[_0x5ba131(0x1e2)](_0x26ba0e),_0x224dc3[_0x5ba131(0xad6)]=()=>_0x4acfce(_0x224dc3[_0x5ba131(0x87f)]['split'](',')[0x1]),_0x224dc3[_0x5ba131(0x821)]=_0x4fe721;});_0x1fbcee=[{'inlineData':{'mimeType':_0x26ba0e[_0x1714c5(0x159)],'data':_0x10db36}}],messageModal[_0x1714c5(0x325)][_0x1714c5(0xd3c)]('hidden');}catch(_0x349e8b){console[_0x1714c5(0x96)](_0x1714c5(0x9fd),_0x349e8b),showMessage(_0x1714c5(0x534));}}const _0xb0a02d=document[_0x1714c5(0xcac)](_0x1714c5(0xbf)),_0x4a5a38=document['getElementById'](_0x1714c5(0x33e)),_0x458fe1=_0xb0a02d[_0x1714c5(0xb49)]('h3'),_0x5bd151=document['getElementById'](_0x1714c5(0x816)),_0x413e60=document[_0x1714c5(0xcac)](_0x1714c5(0x6f2));_0x458fe1['textContent']=_0x1714c5(0x2d7),_0x5bd151[_0x1714c5(0xc84)]=_0x1714c5(0x769),_0x5bd151[_0x1714c5(0x25a)]=!![];allProjects[_0x1714c5(0x1d6)]===0x0?_0x4a5a38['innerHTML']=_0x1714c5(0x386):(_0x4a5a38[_0x1714c5(0xcaa)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x1714c5(0x201)](_0x4df413=>_0x1714c5(0xb8c)+_0x4df413['id']+'\x22>'+_0x4df413['projectName']+'</option>')[_0x1714c5(0xa88)](''),_0x5bd151[_0x1714c5(0x25a)]=![]);_0xb0a02d[_0x1714c5(0x325)][_0x1714c5(0x419)](_0x1714c5(0x60b));const _0x470ba8=async()=>{const _0x1321cc=_0x1714c5,_0x49a7bd=_0x4a5a38[_0x1321cc(0x41e)];if(!_0x49a7bd){showMessage(_0x1321cc(0xd0b));return;}_0xb0a02d[_0x1321cc(0x325)][_0x1321cc(0xd3c)](_0x1321cc(0x60b)),document[_0x1321cc(0xcac)]('blueprint-project-manager-view')[_0x1321cc(0x325)][_0x1321cc(0xd3c)]('hidden'),await loadProjectDetails(_0x49a7bd),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x5ae971,_0x4ef199,_0x49a7bd,_0x1ecba2,_0x12791d,_0x1fbcee),_0x386284();},_0x386284=()=>{const _0x119b1f=_0x1714c5;_0x458fe1[_0x119b1f(0xc84)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5bd151[_0x119b1f(0xc84)]=_0x119b1f(0xc0c),_0x5bd151['removeEventListener'](_0x119b1f(0xc47),_0x470ba8),_0x413e60[_0x119b1f(0x524)]('click',_0x386284),_0x5bd151[_0x119b1f(0x8d3)](_0x119b1f(0xc47),confirmMoveQuiz);};_0x5bd151[_0x1714c5(0x524)]('click',confirmMoveQuiz),_0x5bd151[_0x1714c5(0x8d3)](_0x1714c5(0xc47),_0x470ba8),_0x413e60[_0x1714c5(0x8d3)](_0x1714c5(0xc47),_0x386284);}function listenForStarredQuizzes(){if(!userId)return;const _0x2bf1ae=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x3f3e32=query(_0x2bf1ae,where('isStarred','==',!![]));onSnapshot(_0x3f3e32,_0x11ce0c=>{const _0x166c9a=_0x2406;starredQuizzes=_0x11ce0c['docs']['map'](_0xf7b3ea=>({'id':_0xf7b3ea['id'],..._0xf7b3ea[_0x166c9a(0xb6)]()})),currentProjectId===_0x166c9a(0x1f2)?renderQuizzes():renderProjects();},_0x2e96ab=>{const _0x5eafb7=_0x2406;console[_0x5eafb7(0x96)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x2e96ab);});}function listenForFileShortcuts(){const _0x2f934d=_0x1ca595,_0x3613a2=doc(db,_0x2f934d(0x24b),_0x2f934d(0x1f5));onSnapshot(_0x3613a2,_0x4a4ddb=>{const _0x17e876=_0x2f934d;let _0x46e91f=[],_0x3884f5=[],_0x15108d={};if(_0x4a4ddb[_0x17e876(0xa2b)]()){const _0x2371a5=_0x4a4ddb['data']();_0x46e91f=_0x2371a5[_0x17e876(0x571)]||[],_0x3884f5=_0x2371a5[_0x17e876(0x74f)]||[],_0x15108d=_0x2371a5[_0x17e876(0x29f)]||{};}!_0x3884f5[_0x17e876(0x2f4)](_0x2329de=>_0x2329de['id']===_0x17e876(0xa12))&&_0x3884f5['unshift']({'id':_0x17e876(0xa12),'name':_0x17e876(0x970),'isDefault':!![]}),!_0x46e91f[_0x17e876(0x2f4)](_0x652d87=>_0x652d87['id']===_0x17e876(0x9d9))&&_0x46e91f[_0x17e876(0xc9f)]({'id':_0x17e876(0x9d9),'name':_0x17e876(0x6c1),'url':'','isDefault':!![]}),!_0x46e91f['find'](_0x27b16a=>_0x27b16a['id']===_0x17e876(0xab6))&&_0x46e91f[_0x17e876(0xc9f)]({'id':_0x17e876(0xab6),'name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x46e91f,fileShortcutTabs=_0x3884f5,fileShortcutOrder=_0x15108d,renderFileShortcuts(),!document[_0x17e876(0xcac)](_0x17e876(0xaf4))[_0x17e876(0x325)][_0x17e876(0x9e8)](_0x17e876(0x60b))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x1fa400=_0x1ca595,_0x8b549e=doc(db,_0x1fa400(0x24b),_0x1fa400(0x1f5));try{await setDoc(_0x8b549e,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0xc4cf7){console[_0x1fa400(0x96)](_0x1fa400(0x950),_0xc4cf7);}}function renderAdditionalFileShortcutsModal(){const _0x2d85a3=_0x1ca595,_0x15b0fe=document['getElementById'](_0x2d85a3(0xd8)),_0x55b584=document['getElementById'](_0x2d85a3(0xabf));if(!_0x15b0fe||!_0x55b584)return;_0x15b0fe['innerHTML']=fileShortcutTabs[_0x2d85a3(0x201)](_0x7aa8ef=>{const _0x67952e=_0x2d85a3,_0x341256=_0x7aa8ef['id']===activeFileShortcutTabId;return _0x67952e(0x61a)+_0x7aa8ef['id']+_0x67952e(0x49b)+(_0x341256?_0x67952e(0x8ef):_0x67952e(0xc93))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x7aa8ef[_0x67952e(0xd33)]+_0x67952e(0xa36)+_0x7aa8ef[_0x67952e(0xd33)]+_0x67952e(0xd9a)+(!_0x7aa8ef[_0x67952e(0x183)]?_0x67952e(0x7ea)+_0x7aa8ef['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x67952e(0x8c);})[_0x2d85a3(0xa88)]('');const _0x3579c1=fileShortcutTabs['find'](_0x124e87=>_0x124e87['id']===activeFileShortcutTabId);let _0x13ca27=_0x3579c1?.[_0x2d85a3(0x183)]?[...fileShortcuts]:fileShortcuts[_0x2d85a3(0xa00)](_0x3a01c4=>(_0x3579c1?.['shortcutIds']||[])[_0x2d85a3(0x39b)](_0x3a01c4['id']));const _0x27c846=fileShortcutOrder[activeFileShortcutTabId]||[];_0x13ca27['sort']((_0x5dbe98,_0x401b5b)=>{const _0x2d6a1b=_0x2d85a3,_0x23e80f=_0x27c846[_0x2d6a1b(0x5ff)](_0x5dbe98['id']),_0x17186a=_0x27c846[_0x2d6a1b(0x5ff)](_0x401b5b['id']);return(_0x23e80f===-0x1?Infinity:_0x23e80f)-(_0x17186a===-0x1?Infinity:_0x17186a);}),_0x55b584[_0x2d85a3(0xcaa)]=_0x13ca27[_0x2d85a3(0x201)](_0x240f43=>{const _0xf5e806=_0x2d85a3,_0xfbfcc2=_0x240f43[_0xf5e806(0x3d7)]?'📄':'🔗',_0x1322fb=fileShortcutTabs[_0xf5e806(0xa00)](_0x57e386=>!_0x57e386[_0xf5e806(0x183)]),_0x375122=_0x3579c1['isDefault']&&_0x1322fb['length']>0x0?_0xf5e806(0xc6b)+_0x1322fb[_0xf5e806(0x201)](_0xcae9d7=>_0xf5e806(0xcbe)+_0x240f43['id']+'\x22\x20data-target-tab-id=\x22'+_0xcae9d7['id']+'\x22>'+_0xcae9d7[_0xf5e806(0xd33)]+_0xf5e806(0x7b0))[_0xf5e806(0xa88)]('')+_0xf5e806(0xb31):'';return _0xf5e806(0x4d3)+_0x240f43['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0xfbfcc2+'\x20'+_0x240f43[_0xf5e806(0xd33)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x240f43['id']+_0xf5e806(0xa0c)+_0x240f43['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x240f43['isDefault']?_0xf5e806(0x9f8)+_0x240f43['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0xf5e806(0x33c)+(!_0x3579c1[_0xf5e806(0x183)]?_0xf5e806(0x45f)+_0x240f43['id']+_0xf5e806(0x69f):'')+_0xf5e806(0x33c)+_0x375122+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x3d63e3=_0x1ca595;document['querySelectorAll'](_0x3d63e3(0x2f6))[_0x3d63e3(0x99f)](_0x251765=>{const _0x217eed=_0x3d63e3;_0x251765[_0x217eed(0x733)]=_0x531e0b=>{const _0x5cb8ab=_0x217eed;activeFileShortcutTabId=_0x531e0b[_0x5cb8ab(0xcab)][_0x5cb8ab(0x1e8)][_0x5cb8ab(0x2af)],renderAdditionalFileShortcutsModal();},_0x251765['ondblclick']=_0x1a031c=>{const _0x51a9f7=_0x217eed,_0x1e06f9=_0x1a031c['currentTarget']['querySelector'](_0x51a9f7(0xd6));_0x1a031c[_0x51a9f7(0xcab)][_0x51a9f7(0xb49)](_0x51a9f7(0x73a))[_0x51a9f7(0x325)][_0x51a9f7(0xd3c)](_0x51a9f7(0x60b)),_0x1e06f9[_0x51a9f7(0x325)][_0x51a9f7(0x419)](_0x51a9f7(0x60b)),_0x1e06f9[_0x51a9f7(0x86d)](),_0x1e06f9[_0x51a9f7(0x709)]();};}),document['querySelectorAll']('#file-shortcut-tabs-nav\x20.tab-name-input')[_0x3d63e3(0x99f)](_0x2d618c=>{const _0x3d29aa=_0x3d63e3,_0x5f9eaf=()=>{const _0x43c9fd=_0x2406,_0x414dfc=_0x2d618c[_0x43c9fd(0x2d3)](_0x43c9fd(0x2f6))[_0x43c9fd(0x1e8)][_0x43c9fd(0x2af)],_0x55f6b9=fileShortcutTabs[_0x43c9fd(0x2f4)](_0x314604=>_0x314604['id']===_0x414dfc);_0x55f6b9&&(_0x55f6b9[_0x43c9fd(0xd33)]=_0x2d618c[_0x43c9fd(0x41e)][_0x43c9fd(0x964)]()||_0x55f6b9[_0x43c9fd(0xd33)],saveFileShortcutConfig());};_0x2d618c[_0x3d29aa(0x738)]=_0x5f9eaf,_0x2d618c[_0x3d29aa(0xb50)]=_0x436a4c=>{const _0x11913f=_0x3d29aa;if(_0x436a4c[_0x11913f(0x802)]===_0x11913f(0x777))_0x2d618c[_0x11913f(0x5d1)]();};}),document['querySelectorAll']('.delete-file-shortcut-tab-btn')[_0x3d63e3(0x99f)](_0x335909=>_0x335909[_0x3d63e3(0x733)]=_0x3c9a68=>{const _0x250d84=_0x3d63e3,_0x2fa8d3=_0x3c9a68[_0x250d84(0xcab)][_0x250d84(0x1e8)]['tabId'];showConfirmation(_0x250d84(0x173),()=>{const _0x4c4c8d=_0x250d84;fileShortcutTabs=fileShortcutTabs[_0x4c4c8d(0xa00)](_0x303ee8=>_0x303ee8['id']!==_0x2fa8d3),delete fileShortcutOrder[_0x2fa8d3];if(activeFileShortcutTabId===_0x2fa8d3)activeFileShortcutTabId=_0x4c4c8d(0xa12);saveFileShortcutConfig();});}),document[_0x3d63e3(0x20a)](_0x3d63e3(0xc73))[_0x3d63e3(0x99f)](_0x145723=>_0x145723[_0x3d63e3(0x733)]=_0x5700ea=>{const _0x4dd246=_0x3d63e3;_0x5700ea['preventDefault']();const {shortcutId:_0x54bfc5,targetTabId:_0xf9639a}=_0x5700ea[_0x4dd246(0xcab)][_0x4dd246(0x1e8)],_0x17fff3=fileShortcutTabs['find'](_0x4cc45e=>_0x4cc45e['id']===_0xf9639a);_0x17fff3&&!_0x17fff3[_0x4dd246(0x753)][_0x4dd246(0x39b)](_0x54bfc5)&&(_0x17fff3[_0x4dd246(0x753)][_0x4dd246(0x3bb)](_0x54bfc5),saveFileShortcutConfig());}),document[_0x3d63e3(0x20a)](_0x3d63e3(0xb92))[_0x3d63e3(0x99f)](_0x417345=>_0x417345[_0x3d63e3(0x733)]=_0x48d966=>{const _0x5031f0=_0x3d63e3,_0x29822a=_0x48d966[_0x5031f0(0xcab)]['dataset'][_0x5031f0(0x6a6)],_0x18f74f=fileShortcutTabs[_0x5031f0(0x2f4)](_0x3fa3b0=>_0x3fa3b0['id']===activeFileShortcutTabId);_0x18f74f&&!_0x18f74f[_0x5031f0(0x183)]&&(_0x18f74f[_0x5031f0(0x753)]=_0x18f74f['shortcutIds']['filter'](_0x24aac8=>_0x24aac8!==_0x29822a),saveFileShortcutConfig());}),document[_0x3d63e3(0x20a)](_0x3d63e3(0x849))[_0x3d63e3(0x99f)](_0x149e57=>_0x149e57[_0x3d63e3(0x733)]=_0x34da24=>{const _0x404b9f=_0x3d63e3;_0x34da24[_0x404b9f(0xb6c)]();const _0x4c9204=_0x34da24[_0x404b9f(0xcab)][_0x404b9f(0x462)];document[_0x404b9f(0x20a)](_0x404b9f(0x1c6))[_0x404b9f(0x99f)](_0x2d3d18=>_0x2d3d18['classList'][_0x404b9f(0xd3c)](_0x404b9f(0x60b))),_0x4c9204[_0x404b9f(0x325)][_0x404b9f(0x419)]('hidden');});const _0x2e80ed=document[_0x3d63e3(0xcac)](_0x3d63e3(0xabf));let _0x3c1784=null;_0x2e80ed[_0x3d63e3(0xd16)]=_0x419685=>{const _0x1f6772=_0x3d63e3;_0x3c1784=_0x419685['target'][_0x1f6772(0x2d3)](_0x1f6772(0x211));if(_0x3c1784)setTimeout(()=>_0x3c1784[_0x1f6772(0x325)]['add'](_0x1f6772(0xa39)),0x0);},_0x2e80ed[_0x3d63e3(0x644)]=()=>{const _0x58f79c=_0x3d63e3;_0x3c1784&&(_0x3c1784[_0x58f79c(0x325)]['remove'](_0x58f79c(0xa39)),_0x3c1784=null);},_0x2e80ed[_0x3d63e3(0xc65)]=_0x4123af=>{const _0x4632bd=_0x3d63e3;_0x4123af[_0x4632bd(0xd43)]();},_0x2e80ed[_0x3d63e3(0xa2a)]=_0x25408d=>{const _0x359bb1=_0x3d63e3;_0x25408d['preventDefault']();if(_0x3c1784){const _0x51e4c8=[..._0x2e80ed['querySelectorAll'](_0x359bb1(0x3d4))][_0x359bb1(0x231)]((_0x32acd3,_0x389462)=>{const _0x46ae5b=_0x359bb1,_0x1eab32=_0x389462[_0x46ae5b(0x663)](),_0x589020=_0x25408d[_0x46ae5b(0xa80)]-_0x1eab32['top']-_0x1eab32[_0x46ae5b(0x636)]/0x2;return _0x589020<0x0&&_0x589020>_0x32acd3['offset']?{'offset':_0x589020,'element':_0x389462}:_0x32acd3;},{'offset':Number['NEGATIVE_INFINITY']})[_0x359bb1(0x529)];_0x51e4c8==null?_0x2e80ed[_0x359bb1(0x1d2)](_0x3c1784):_0x2e80ed[_0x359bb1(0x718)](_0x3c1784,_0x51e4c8);const _0x2bcab0=[..._0x2e80ed['querySelectorAll'](_0x359bb1(0x211))][_0x359bb1(0x201)](_0x81630e=>_0x81630e['dataset'][_0x359bb1(0x6a6)]);fileShortcutOrder[activeFileShortcutTabId]=_0x2bcab0,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x5a6e5e=_0x1ca595,_0x827708=prompt(_0x5a6e5e(0x9a2),_0x5a6e5e(0x5cb));_0x827708&&_0x827708['trim']()&&(fileShortcutTabs[_0x5a6e5e(0x3bb)]({'id':_0x5a6e5e(0xc19)+Date['now'](),'name':_0x827708[_0x5a6e5e(0x964)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x4d7120=_0x1ca595,_0x1957a7=document[_0x4d7120(0xcac)]('file-shortcut-container'),_0x171bb4=document[_0x4d7120(0xcac)](_0x4d7120(0xabf)),_0x1c0bf9=document['getElementById'](_0x4d7120(0x6b9));if(_0x1c0bf9)_0x1c0bf9[_0x4d7120(0x325)][_0x4d7120(0xd3c)]('hidden');if(!_0x1957a7||!_0x171bb4)return;const _0x1f01f2=fileShortcuts[_0x4d7120(0x2ea)](0x0,0x4),_0x3ab72c=fileShortcuts[_0x4d7120(0x2ea)](0x4);_0x1957a7['innerHTML']=_0x1f01f2[_0x4d7120(0x201)](_0x904fc=>{const _0x2d1d38=_0x4d7120,_0x1214f9=_0x904fc[_0x2d1d38(0x3d7)]&&_0x904fc[_0x2d1d38(0x3d7)][_0x2d1d38(0x964)]()!=='',_0x4ff765=selectedFile&&selectedFile['shortcutId']===_0x904fc['id'];let _0x46b67d=_0x2d1d38(0xae3),_0x4f8e91='🔗';if(_0x4ff765)_0x46b67d=_0x2d1d38(0x9cb),_0x4f8e91='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x1214f9&&(_0x46b67d=_0x2d1d38(0xcb4),_0x4f8e91='📄');const _0x16a983=!_0x904fc[_0x2d1d38(0x183)]?'<button\x20data-id=\x22'+_0x904fc['id']+_0x2d1d38(0x5c0):'';return _0x2d1d38(0x5e6)+_0x904fc['id']+_0x2d1d38(0x352)+_0x46b67d+_0x2d1d38(0x688)+_0x4f8e91+_0x2d1d38(0x3e9)+_0x904fc['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x904fc['id']+_0x2d1d38(0x986)+_0x16a983+_0x2d1d38(0x59c);})['join'](''),_0x3ab72c['length']>0x0&&(_0x1957a7[_0x4d7120(0xcaa)]+=_0x4d7120(0x60f)),_0x3ab72c[_0x4d7120(0x1d6)]>0x0?_0x171bb4[_0x4d7120(0xcaa)]=_0x3ab72c[_0x4d7120(0x201)](_0x25a87a=>_0x4d7120(0xcc1)+(_0x25a87a['url']?'📄':'🔗')+'\x20'+_0x25a87a[_0x4d7120(0xd33)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x25a87a['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x25a87a['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x25a87a[_0x4d7120(0x183)]?_0x4d7120(0x9f8)+_0x25a87a['id']+_0x4d7120(0x9e7):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x171bb4[_0x4d7120(0xcaa)]=_0x4d7120(0xb8b);}function openFileShortcutEditor(_0x5cb740=null){const _0x4b22e8=_0x1ca595,_0x2bc6a0=document[_0x4b22e8(0xcac)]('file-shortcut-editor-modal'),_0x4b4289=document[_0x4b22e8(0xcac)](_0x4b22e8(0x7be)),_0x34a1d4=document[_0x4b22e8(0xcac)](_0x4b22e8(0x525)),_0xc85452=document['getElementById'](_0x4b22e8(0x428)),_0x1fb807=document[_0x4b22e8(0xcac)]('file-shortcut-url-input');if(_0x5cb740){const _0x2f2147=fileShortcuts[_0x4b22e8(0x2f4)](_0x49416b=>_0x49416b['id']===_0x5cb740);if(!_0x2f2147)return;_0x4b4289[_0x4b22e8(0xc84)]=_0x4b22e8(0x4da),_0x34a1d4[_0x4b22e8(0x41e)]=_0x2f2147['id'],_0xc85452[_0x4b22e8(0x41e)]=_0x2f2147[_0x4b22e8(0xd33)],_0x1fb807[_0x4b22e8(0x41e)]=_0x2f2147['url']||'';}else _0x4b4289[_0x4b22e8(0xc84)]=_0x4b22e8(0x798),_0x34a1d4[_0x4b22e8(0x41e)]='',_0xc85452[_0x4b22e8(0x41e)]='',_0x1fb807[_0x4b22e8(0x41e)]='';_0x2bc6a0['classList'][_0x4b22e8(0x419)](_0x4b22e8(0x60b));}async function saveFileShortcutChanges(){const _0x2888cc=_0x1ca595,_0x23af27=document[_0x2888cc(0xcac)](_0x2888cc(0x525))[_0x2888cc(0x41e)],_0x5c1120=document[_0x2888cc(0xcac)](_0x2888cc(0x428))[_0x2888cc(0x41e)][_0x2888cc(0x964)](),_0x401228=document['getElementById'](_0x2888cc(0x770))[_0x2888cc(0x41e)][_0x2888cc(0x964)]();if(!_0x5c1120){showMessage(_0x2888cc(0x960));return;}const _0x415621={'id':_0x23af27||_0x2888cc(0x73c)+Date['now'](),'name':_0x5c1120,'url':_0x401228,'isDefault':_0x23af27[_0x2888cc(0x82f)](_0x2888cc(0x3b6))};let _0x17d537;_0x23af27?_0x17d537=fileShortcuts[_0x2888cc(0x201)](_0x499a40=>_0x499a40['id']===_0x23af27?_0x415621:_0x499a40):_0x17d537=[...fileShortcuts,_0x415621];try{const _0xaa9022=doc(db,_0x2888cc(0x24b),_0x2888cc(0x1f5));await setDoc(_0xaa9022,{'shortcuts':_0x17d537},{'merge':!![]}),document[_0x2888cc(0xcac)]('file-shortcut-editor-modal')[_0x2888cc(0x325)][_0x2888cc(0xd3c)]('hidden');}catch(_0x9d34cc){console[_0x2888cc(0x96)](_0x2888cc(0x2b7),_0x9d34cc),showMessage(_0x2888cc(0xcb6));}}async function handleFileShortcutClick(_0x424f96){const _0x566b26=_0x1ca595,_0x921bf7=fileShortcuts[_0x566b26(0x2f4)](_0x23fb08=>_0x23fb08['id']===_0x424f96);if(!_0x921bf7)return;if(!_0x921bf7[_0x566b26(0x3d7)]||_0x921bf7[_0x566b26(0x3d7)][_0x566b26(0x964)]()===''){openFileShortcutEditor(_0x424f96);return;}const _0x4ede6f=document['querySelector'](_0x566b26(0x76b)+_0x424f96+'\x22]');if(_0x4ede6f){const _0x585536=_0x4ede6f['innerHTML'];_0x4ede6f[_0x566b26(0xcaa)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x4ede6f[_0x566b26(0x25a)]=!![];}document[_0x566b26(0x20a)](_0x566b26(0x112))[_0x566b26(0x99f)](_0x5727fb=>{const _0xf56ccb=_0x566b26;if(_0x5727fb[_0xf56ccb(0x1e8)]['id']!==_0x424f96)_0x5727fb[_0xf56ccb(0x325)][_0xf56ccb(0xd3c)](_0xf56ccb(0xa39),_0xf56ccb(0x86));});try{const _0x28880f=new URL(_0x921bf7[_0x566b26(0x3d7)])[_0x566b26(0xcb5)],_0x3a0c31=_0x28880f[_0x566b26(0x47b)](_0x28880f[_0x566b26(0x6b4)]('/')+0x1)||(_0x921bf7[_0x566b26(0x3d7)][_0x566b26(0x39b)](_0x566b26(0x4d5))?'file.txt':'file.pdf'),_0xef481a=await fetchFileFromUrl(_0x921bf7['url'],_0x3a0c31);_0xef481a[_0x566b26(0x6a6)]=_0x424f96,selectedFile=_0xef481a,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x566b26(0xcac)](_0x566b26(0x763))[_0x566b26(0xc14)]({'behavior':'smooth','block':_0x566b26(0x15a)});}catch(_0x2545e2){console['error'](_0x566b26(0xa1b),_0x2545e2),showMessage(_0x566b26(0x7e6)+_0x2545e2[_0x566b26(0xaee)]),renderFileShortcuts();}finally{document[_0x566b26(0x20a)](_0x566b26(0x112))[_0x566b26(0x99f)](_0x129151=>{const _0x5b87ac=_0x566b26;_0x129151['classList'][_0x5b87ac(0x419)]('opacity-50',_0x5b87ac(0x86)),_0x129151[_0x5b87ac(0x25a)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x3b54ec=_0x1ca595;if(allQuizzesGlobal[_0x3b54ec(0x1d6)]>0x0)return;console[_0x3b54ec(0xa7f)](_0x3b54ec(0x28e)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x2eca97=await getDocs(collection(db,_0x3b54ec(0x54a)+appId+_0x3b54ec(0xa62)));allQuizzesGlobal=_0x2eca97[_0x3b54ec(0x26a)][_0x3b54ec(0x201)](_0x5e5f63=>({'id':_0x5e5f63['id'],..._0x5e5f63[_0x3b54ec(0xb6)]()})),console[_0x3b54ec(0xa7f)](_0x3b54ec(0x4fd)+allQuizzesGlobal['length']+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x3b54ec(0x325)][_0x3b54ec(0xd3c)](_0x3b54ec(0x60b));}catch(_0x55118f){console['error'](_0x3b54ec(0xc9b),_0x55118f),messageModal[_0x3b54ec(0x325)]['add'](_0x3b54ec(0x60b));throw new Error(_0x3b54ec(0x411));}}function exportQuizAsWorksheetPDF(){const _0xd12060=_0x1ca595;if(!currentQuizData||!currentQuizData[_0xd12060(0xbfe)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x4ac124=currentQuizData,_0x4dbfde=window[_0xd12060(0x97d)]('',_0xd12060(0x3a4)),_0x40f59d=_0x411082=>String[_0xd12060(0x401)](0x41+_0x411082),_0x36ae3b=_0xd12060(0xcc2)+_0x4ac124['topic']+_0xd12060(0x967)+_0x4ac124[_0xd12060(0xa64)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ac124[_0xd12060(0xbfe)][_0xd12060(0x201)]((_0x4361ce,_0x4ed4b6)=>{const _0x424d97=_0xd12060;let _0x251455='';const _0xf52f14=_0x4361ce[_0x424d97(0xc34)]||_0x4ac124['quizType'];switch(_0xf52f14){case _0x424d97(0x801):case'fill_in_with_choices':_0x251455=_0x424d97(0x87)+_0x4361ce[_0x424d97(0x63f)][_0x424d97(0x201)]((_0x136fff,_0x42efed)=>_0x424d97(0xb78)+_0x40f59d(_0x42efed)+'.\x20'+_0x136fff+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](_0x424d97(0x3c4))+_0x424d97(0x4dd);break;case _0x424d97(0xcea):_0x251455='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x251455=_0x424d97(0x3e0);break;}return _0x424d97(0x731)+(_0x4ed4b6+0x1)+_0x424d97(0x4a7)+(_0x4361ce[_0x424d97(0x216)]||_0x4361ce['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4361ce[_0x424d97(0x2d0)]?'<div\x20class=\x22my-2\x22>'+_0x4361ce[_0x424d97(0x2d0)]+'</div>':'')+_0x424d97(0xa41)+_0x251455+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xd12060(0xa88)]('')+_0xd12060(0x1cf);_0x4dbfde[_0xd12060(0x6b1)][_0xd12060(0xca7)](_0x36ae3b),_0x4dbfde[_0xd12060(0x6b1)][_0xd12060(0x842)](),_0x4dbfde[_0xd12060(0xad6)]=function(){setTimeout(()=>{const _0x314f8c=_0x2406;_0x4dbfde[_0x314f8c(0x591)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x37ffb5=_0x1ca595;if(!currentQuizData||!currentQuizData[_0x37ffb5(0xbfe)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x1e4b97=currentQuizData,_0x20dfbc=window[_0x37ffb5(0x97d)]('','_blank'),_0x44b3a2=_0x22c3ca=>String[_0x37ffb5(0x401)](0x41+_0x22c3ca),_0x6a1d87=_0x37ffb5(0x643)+_0x1e4b97['topic']+_0x37ffb5(0x478)+_0x1e4b97[_0x37ffb5(0xbfe)]['map']((_0x35eb59,_0x1939fc)=>{const _0x704fba=_0x37ffb5;let _0x407128='';const _0x36baee=_0x35eb59['questionType']||_0x1e4b97[_0x704fba(0x717)];switch(_0x36baee){case _0x704fba(0x801):case _0x704fba(0xd44):_0x407128=_0x704fba(0x193)+_0x35eb59[_0x704fba(0x63f)][_0x704fba(0x201)]((_0x312178,_0x190d3f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x44b3a2(_0x190d3f)+'.\x20'+_0x312178+_0x704fba(0x3c1))['join'](_0x704fba(0x3c4))+_0x704fba(0xaf8);break;case'true_false':_0x407128=_0x704fba(0x84f);break;default:_0x407128='';break;}return _0x704fba(0x18e)+_0x1e4b97['topic']+_0x704fba(0x582)+(_0x1939fc+0x1)+_0x704fba(0x8f2)+(_0x35eb59[_0x704fba(0x216)]||_0x35eb59[_0x704fba(0x6f3)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x35eb59[_0x704fba(0x2d0)]?'<div\x20class=\x22my-6\x22>'+_0x35eb59[_0x704fba(0x2d0)]+_0x704fba(0x4dd):'')+_0x704fba(0xa41)+_0x407128+_0x704fba(0x10c);})[_0x37ffb5(0xa88)]('')+_0x37ffb5(0x14c);_0x20dfbc['document'][_0x37ffb5(0xca7)](_0x6a1d87),_0x20dfbc['document']['close'](),_0x20dfbc[_0x37ffb5(0xad6)]=function(){setTimeout(()=>{const _0x4b306f=_0x2406;_0x20dfbc[_0x4b306f(0x591)]();},0x5dc);};}async function handleToggleStarQuiz(_0x10cad2){const _0x5f22c7=_0x1ca595,_0x215e53=doc(db,_0x5f22c7(0x54a)+appId+_0x5f22c7(0xa62),_0x10cad2);try{const _0x1bbc58=await getDoc(_0x215e53);if(_0x1bbc58['exists']()){const _0x1ddbfe=_0x1bbc58[_0x5f22c7(0xb6)]()[_0x5f22c7(0x94c)]||![];await updateDoc(_0x215e53,{'isStarred':!_0x1ddbfe});}}catch(_0x21f8d4){console[_0x5f22c7(0x96)]('Error\x20toggling\x20star\x20status:',_0x21f8d4),showMessage(_0x5f22c7(0xaf9));}}async function displayQuestionBank(){const _0x237e22=_0x1ca595,_0x7e1fa0=document['getElementById'](_0x237e22(0xc06));_0x7e1fa0[_0x237e22(0xcaa)]=_0x237e22(0xd26);try{const _0x1175c2=collection(db,_0x237e22(0x54a)+appId+_0x237e22(0xc6)+userId+_0x237e22(0x6bf)),_0x23c466=query(_0x1175c2),_0x524d88=await getDocs(_0x23c466);if(_0x524d88[_0x237e22(0x699)]){_0x7e1fa0['innerHTML']=_0x237e22(0x27f);return;}let _0x47f88b=_0x524d88[_0x237e22(0x26a)][_0x237e22(0x201)](_0x46d4a7=>{const _0x321715=_0x237e22,_0x43d768=_0x46d4a7['data'](),_0x56f753=_0x46d4a7['id'];return _0x321715(0x408)+JSON[_0x321715(0x71f)](_0x43d768)+_0x321715(0x7e8)+(_0x43d768[_0x321715(0x6f3)]||_0x43d768[_0x321715(0x216)])+_0x321715(0x8da)+_0x43d768[_0x321715(0x504)]+_0x321715(0xb8d);})[_0x237e22(0xa88)]('');_0x7e1fa0['innerHTML']=_0x237e22(0x7a5)+_0x47f88b+_0x237e22(0x79d),document[_0x237e22(0xcac)](_0x237e22(0x650))[_0x237e22(0x8d3)](_0x237e22(0xc47),createQuizFromBank);}catch(_0xd8b7f5){console[_0x237e22(0x96)](_0x237e22(0xcd7),_0xd8b7f5),_0x7e1fa0[_0x237e22(0xcaa)]=_0x237e22(0x7cb);}}async function handleExportLessonToPDF(){const _0x1eb734=_0x1ca595,_0x15d98c=document['getElementById'](_0x1eb734(0x467)),_0x2cd9bf=document[_0x1eb734(0xcac)]('lesson-view-title')[_0x1eb734(0xc84)]||'บทเรียน';if(!_0x15d98c){showMessage(_0x1eb734(0x547));return;}const _0x211f66=window['open']('',_0x1eb734(0x3a4)),_0x3a2e62='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x2cd9bf+_0x1eb734(0x422)+_0x2cd9bf+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15d98c[_0x1eb734(0xcaa)]+_0x1eb734(0x1cf);_0x211f66[_0x1eb734(0x6b1)][_0x1eb734(0xca7)](_0x3a2e62),_0x211f66['document'][_0x1eb734(0x842)](),_0x211f66['onload']=function(){setTimeout(()=>{const _0x53fca3=_0x2406;_0x211f66[_0x53fca3(0x591)]();},0x7d0);};}function showAdminLiveQuestionView(_0x5ec68e,_0x47b263,_0x5f0d2a){const _0x19c307=_0x1ca595,_0x3dbff0=_0x5ec68e[_0x19c307(0xc34)]||currentQuizData[_0x19c307(0x717)];let _0x106f2d='';if(_0x3dbff0===_0x19c307(0x801)||_0x3dbff0===_0x19c307(0xcea)){const _0x1da108=_0x3dbff0===_0x19c307(0xcea)?[_0x19c307(0x89),_0x19c307(0x372)]:_0x5ec68e['options'],_0x48d043=_0x3dbff0===_0x19c307(0xcea)?_0x5ec68e[_0x19c307(0xc49)]?0x0:0x1:_0x5ec68e[_0x19c307(0xc75)];_0x106f2d=_0x1da108[_0x19c307(0x201)]((_0x228db2,_0x418b03)=>_0x19c307(0x15e)+(_0x418b03===_0x48d043)+_0x19c307(0x80d)+_0x228db2+_0x19c307(0x59c))['join']('');}else{if(_0x3dbff0===_0x19c307(0x79b)){const _0x5376cd=_0x5ec68e[_0x19c307(0x698)]||[];_0x106f2d=_0x5376cd['map'](_0x19729b=>_0x19c307(0x15e)+(_0x19729b===_0x5ec68e['correctResponse'])+_0x19c307(0x80d)+_0x19729b+_0x19c307(0x59c))[_0x19c307(0xa88)]('');}}const _0x4e3408=_0x5ec68e[_0x19c307(0x216)]||_0x5ec68e[_0x19c307(0x6f3)],_0x193628=_0x19c307(0xc39)+(_0x47b263+0x1)+'\x20/\x20'+_0x5f0d2a+_0x19c307(0x2e0)+currentLiveGamePin+_0x19c307(0xc11)+_0x4e3408+_0x19c307(0xbd1)+_0x106f2d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x19c307(0xcaa)]=_0x193628,window[_0x19c307(0x4a4)]&&MathJax['typesetPromise']&&MathJax[_0x19c307(0xcf0)]([liveGameView]),document[_0x19c307(0xcac)](_0x19c307(0x9f2))[_0x19c307(0x8d3)]('click',()=>revealAnswerForAdmin(_0x47b263,_0x5f0d2a)),document[_0x19c307(0xcac)](_0x19c307(0x277))[_0x19c307(0x8d3)](_0x19c307(0xc47),async()=>{const _0xff215c=_0x19c307;showConfirmation(_0xff215c(0x857),async()=>{const _0x206c38=_0xff215c,_0x9de572=doc(db,'artifacts/'+appId+_0x206c38(0x894),currentLiveGameId);await updateDoc(_0x9de572,{'status':_0x206c38(0x5bc)});});}),document[_0x19c307(0xcac)](_0x19c307(0x684))['addEventListener'](_0x19c307(0xc47),()=>{const _0x262d69=_0x19c307;document['getElementById'](_0x262d69(0x98f))[_0x262d69(0x325)][_0x262d69(0x1a3)](_0x262d69(0x60b));});}function promptForProjectBeforeGenerating(_0x2a25af){const _0x4f4953=_0x1ca595,_0x1f606e=document[_0x4f4953(0xcac)]('move-quiz-modal'),_0x2e4879=document['getElementById'](_0x4f4953(0x33e)),_0x35ffdc=_0x1f606e[_0x4f4953(0xb49)]('h3'),_0x453e41=document[_0x4f4953(0xcac)](_0x4f4953(0x816)),_0x47ed19=document[_0x4f4953(0xcac)](_0x4f4953(0x6f2));_0x35ffdc[_0x4f4953(0xc84)]=_0x4f4953(0x2d7),_0x453e41[_0x4f4953(0xc84)]=_0x4f4953(0x769),_0x453e41[_0x4f4953(0x25a)]=!![];allProjects[_0x4f4953(0x1d6)]===0x0?_0x2e4879[_0x4f4953(0xcaa)]=_0x4f4953(0x386):(_0x2e4879[_0x4f4953(0xcaa)]=_0x4f4953(0xc0d)+allProjects['map'](_0x3d1b67=>_0x4f4953(0xb8c)+_0x3d1b67['id']+'\x22>'+_0x3d1b67[_0x4f4953(0x5b1)]+'</option>')[_0x4f4953(0xa88)](''),_0x453e41[_0x4f4953(0x25a)]=![]);_0x1f606e['classList'][_0x4f4953(0x419)](_0x4f4953(0x60b));const _0x4a8634=async()=>{const _0x509cdb=_0x4f4953,_0x4ad5aa=_0x2e4879[_0x509cdb(0x41e)];if(!_0x4ad5aa){showMessage(_0x509cdb(0xd0b));return;}_0x1f606e[_0x509cdb(0x325)]['add'](_0x509cdb(0x60b)),await loadProjectDetails(_0x4ad5aa),showView(_0x509cdb(0x4a6)),handleGenerateQuizFromBlueprintTopic(_0x2a25af),_0x18b705();},_0x18b705=()=>{const _0x946507=_0x4f4953;_0x35ffdc[_0x946507(0xc84)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x453e41[_0x946507(0xc84)]=_0x946507(0xc0c),_0x453e41[_0x946507(0x524)](_0x946507(0xc47),_0x4a8634),_0x47ed19[_0x946507(0x524)](_0x946507(0xc47),_0x18b705),_0x453e41['addEventListener']('click',confirmMoveQuiz);};_0x453e41[_0x4f4953(0x524)](_0x4f4953(0xc47),confirmMoveQuiz),_0x453e41[_0x4f4953(0x8d3)](_0x4f4953(0xc47),_0x4a8634),_0x47ed19[_0x4f4953(0x8d3)](_0x4f4953(0xc47),_0x18b705);}function showStudentLiveQuestionView(_0x4440d3,_0x5b834b,_0x217463){const _0x490c9a=_0x1ca595,_0x2d7eb5=_0x4440d3[_0x490c9a(0xc34)]||currentQuizData[_0x490c9a(0x717)];let _0x5f2e19='';if(_0x2d7eb5===_0x490c9a(0x801)||_0x2d7eb5===_0x490c9a(0xcea)){const _0xaf12b4=_0x2d7eb5===_0x490c9a(0xcea)?['ใช่',_0x490c9a(0x372)]:_0x4440d3[_0x490c9a(0x63f)];_0x5f2e19=_0xaf12b4[_0x490c9a(0x201)]((_0x23ed92,_0x391ed6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x391ed6+_0x490c9a(0x68a)+_0x23ed92+_0x490c9a(0x883))[_0x490c9a(0xa88)]('');}else{if(_0x2d7eb5===_0x490c9a(0x79b)){const _0x169e35=_0x4440d3[_0x490c9a(0x698)]||[];_0x5f2e19=_0x169e35[_0x490c9a(0x201)]((_0x8f6d6c,_0x3fbe9a)=>_0x490c9a(0xb06)+_0x3fbe9a+_0x490c9a(0x68a)+_0x8f6d6c+_0x490c9a(0x883))[_0x490c9a(0xa88)]('');}else _0x2d7eb5==='short_answer'&&(_0x5f2e19=_0x490c9a(0x55e));}const _0x4fe613=_0x4440d3[_0x490c9a(0x216)]||_0x4440d3[_0x490c9a(0x6f3)],_0x33159d=_0x490c9a(0x268)+(_0x5b834b+0x1)+_0x490c9a(0x214)+_0x217463+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x4fe613+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f2e19+_0x490c9a(0x558);liveGameView[_0x490c9a(0xcaa)]=_0x33159d;window['MathJax']&&MathJax[_0x490c9a(0xcf0)]&&MathJax[_0x490c9a(0xcf0)]([liveGameView]);const _0x180070=document[_0x490c9a(0xcac)](_0x490c9a(0xd25));_0x180070&&_0x180070[_0x490c9a(0x8d3)]('click',()=>{const _0x3c0bd8=_0x490c9a,_0x2d78ca=document[_0x3c0bd8(0xcac)](_0x3c0bd8(0x206))['value'];handleLiveAnswer(_0x2d78ca,_0x4440d3);}),document[_0x490c9a(0xcac)](_0x490c9a(0x7a1))[_0x490c9a(0x8d3)](_0x490c9a(0xc47),_0x5f36f9=>{const _0x68d6b8=_0x490c9a,_0x92592e=_0x5f36f9[_0x68d6b8(0x615)][_0x68d6b8(0x2d3)](_0x68d6b8(0xbc4));if(_0x92592e){const _0x30e2f6=parseInt(_0x92592e[_0x68d6b8(0x1e8)]['index']);handleLiveAnswer(_0x30e2f6,_0x4440d3);}});}function listenForBlueprintShortcuts(){const _0x5ca5b0=_0x1ca595,_0xb48eaa=doc(db,_0x5ca5b0(0x24b),_0x5ca5b0(0xacd));onSnapshot(_0xb48eaa,_0x2f90c0=>{const _0x230e26=_0x5ca5b0;let _0x51e68c=[],_0x5d5ad8=[],_0x489f76={};if(_0x2f90c0[_0x230e26(0xa2b)]()){const _0x26ff9b=_0x2f90c0['data']();_0x51e68c=_0x26ff9b[_0x230e26(0xb38)]||[],_0x5d5ad8=_0x26ff9b['shortcutTabs']||[],_0x489f76=_0x26ff9b[_0x230e26(0x981)]||{};}!_0x5d5ad8[_0x230e26(0x2f4)](_0x401c9f=>_0x401c9f['id']===_0x230e26(0xa12))&&_0x5d5ad8[_0x230e26(0xc9f)]({'id':_0x230e26(0xa12),'name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x51e68c[_0x230e26(0x2f4)](_0x33943e=>_0x33943e['id']===_0x230e26(0xb1e))&&_0x51e68c[_0x230e26(0xc9f)]({'id':_0x230e26(0xb1e),'name':_0x230e26(0x58a),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x51e68c[_0x230e26(0x2f4)](_0x2e1f59=>_0x2e1f59['id']===_0x230e26(0xa52))&&_0x51e68c[_0x230e26(0xc9f)]({'id':_0x230e26(0xa52),'name':_0x230e26(0x552),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x51e68c,shortcutTabs=_0x5d5ad8,shortcutOrder=_0x489f76,renderBlueprintShortcuts(),!document[_0x230e26(0xcac)]('additional-shortcuts-modal')[_0x230e26(0x325)][_0x230e26(0x9e8)](_0x230e26(0x60b))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x63c9b7=_0x1ca595,_0x3c76b5=document['getElementById'](_0x63c9b7(0xd2d)),_0x7f0af0=document['getElementById'](_0x63c9b7(0x93e));if(!_0x3c76b5||!_0x7f0af0)return;_0x3c76b5['innerHTML']=shortcutTabs['map'](_0x47dbbf=>{const _0x58ba43=_0x63c9b7,_0x2b517a=_0x47dbbf['id']===activeShortcutTabId,_0x3b3f3e=_0x58ba43(0x8ef),_0x242c30=_0x58ba43(0xc93);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x47dbbf['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x2b517a?_0x3b3f3e:_0x242c30)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x47dbbf[_0x58ba43(0xd33)]+_0x58ba43(0x955)+_0x47dbbf[_0x58ba43(0xd33)]+_0x58ba43(0x9c3)+(!_0x47dbbf[_0x58ba43(0x183)]?_0x58ba43(0xd47)+_0x47dbbf['id']+_0x58ba43(0x2bd):'')+_0x58ba43(0x59c);})['join']('');const _0x388074=shortcutTabs[_0x63c9b7(0x2f4)](_0xb5bbe9=>_0xb5bbe9['id']===activeShortcutTabId);let _0x2030a4=[];if(_0x388074){if(_0x388074[_0x63c9b7(0x183)])_0x2030a4=[...blueprintShortcuts];else{const _0x2ad045=_0x388074['shortcutIds']||[];_0x2030a4=blueprintShortcuts[_0x63c9b7(0xa00)](_0x277636=>_0x2ad045[_0x63c9b7(0x39b)](_0x277636['id']));}}const _0x39611a=shortcutOrder[activeShortcutTabId]||[];_0x2030a4['sort']((_0x26fa0,_0x591268)=>{const _0x580d62=_0x63c9b7,_0x25cbef=_0x39611a['indexOf'](_0x26fa0['id']),_0x24e19b=_0x39611a[_0x580d62(0x5ff)](_0x591268['id']);if(_0x25cbef===-0x1)return 0x1;if(_0x24e19b===-0x1)return-0x1;return _0x25cbef-_0x24e19b;}),_0x7f0af0[_0x63c9b7(0xcaa)]=_0x2030a4[_0x63c9b7(0x1d6)]>0x0?_0x2030a4[_0x63c9b7(0x201)](_0x14c932=>{const _0x4061f2=_0x63c9b7;let _0x395418='🧩';if(_0x14c932[_0x4061f2(0xce0)]&&_0x14c932[_0x4061f2(0xd68)])_0x395418='📗';else{if(_0x14c932['blueprintUrl'])_0x395418='📘';}const _0x24d9cd=shortcutTabs[_0x4061f2(0xa00)](_0x17ed2a=>!_0x17ed2a[_0x4061f2(0x183)]),_0x2e1623=_0x388074[_0x4061f2(0x183)]&&_0x24d9cd[_0x4061f2(0x1d6)]>0x0?_0x4061f2(0x516)+_0x24d9cd[_0x4061f2(0x201)](_0x1b4d53=>_0x4061f2(0x8de)+_0x14c932['id']+'\x22\x20data-target-tab-id=\x22'+_0x1b4d53['id']+'\x22>'+_0x1b4d53[_0x4061f2(0xd33)]+_0x4061f2(0x139))[_0x4061f2(0xa88)]('')+_0x4061f2(0x332):'';return _0x4061f2(0xd21)+_0x14c932['id']+_0x4061f2(0x14e)+_0x395418+'\x20'+_0x14c932[_0x4061f2(0xd33)]+_0x4061f2(0xa9a)+_0x14c932['id']+_0x4061f2(0x81c)+_0x14c932['id']+_0x4061f2(0xb37)+(!_0x14c932[_0x4061f2(0x183)]?_0x4061f2(0x9f8)+_0x14c932['id']+_0x4061f2(0x69c):'')+_0x4061f2(0xc0)+(!_0x388074[_0x4061f2(0x183)]?'<button\x20data-shortcut-id=\x22'+_0x14c932['id']+_0x4061f2(0x87a):'')+_0x4061f2(0xc0)+_0x2e1623+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x63c9b7(0xa88)](''):_0x63c9b7(0x922),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x37547a=_0x1ca595;document[_0x37547a(0x20a)](_0x37547a(0x713))[_0x37547a(0x99f)](_0x5c0fbd=>{const _0x5c834d=_0x37547a;_0x5c0fbd[_0x5c834d(0x8d3)](_0x5c834d(0xc47),_0x590af9=>{const _0x4dce96=_0x5c834d;activeShortcutTabId=_0x590af9['currentTarget'][_0x4dce96(0x1e8)][_0x4dce96(0x2af)],renderAdditionalShortcutsModal();}),_0x5c0fbd['addEventListener']('dblclick',_0x3b24f8=>{const _0x11b96b=_0x5c834d,_0x380a4c=_0x3b24f8[_0x11b96b(0xcab)];_0x380a4c[_0x11b96b(0xb49)](_0x11b96b(0x73a))['classList']['add'](_0x11b96b(0x60b));const _0x25a0fb=_0x380a4c[_0x11b96b(0xb49)](_0x11b96b(0xd6));_0x25a0fb['classList']['remove'](_0x11b96b(0x60b)),_0x25a0fb[_0x11b96b(0x86d)](),_0x25a0fb[_0x11b96b(0x709)]();});}),document[_0x37547a(0x20a)]('.tab-name-input')[_0x37547a(0x99f)](_0x40e631=>{const _0x422b9e=_0x37547a,_0x1c2fd4=()=>{const _0x4f00a2=_0x2406,_0x4df6cd=_0x40e631['closest']('.shortcut-tab-btn')['dataset'][_0x4f00a2(0x2af)];handleRenameShortcutTab(_0x4df6cd,_0x40e631['value']);};_0x40e631[_0x422b9e(0x8d3)](_0x422b9e(0x5d1),_0x1c2fd4),_0x40e631[_0x422b9e(0x8d3)](_0x422b9e(0xc15),_0x2790a1=>{const _0x11e70d=_0x422b9e;if(_0x2790a1['key']===_0x11e70d(0x777))_0x40e631[_0x11e70d(0x5d1)]();});}),document[_0x37547a(0x20a)](_0x37547a(0xcb7))[_0x37547a(0x99f)](_0x150706=>{const _0x40d15b=_0x37547a;_0x150706['addEventListener'](_0x40d15b(0xc47),_0x142168=>handleDeleteShortcutTab(_0x142168[_0x40d15b(0xcab)][_0x40d15b(0x1e8)][_0x40d15b(0x2af)]));}),document[_0x37547a(0x20a)]('.move-shortcut-item')[_0x37547a(0x99f)](_0x333c42=>{const _0x226111=_0x37547a;_0x333c42['addEventListener'](_0x226111(0xc47),_0x2b817c=>{const _0x266bb1=_0x226111;_0x2b817c[_0x266bb1(0xd43)]();const {shortcutId:_0x4c9884,targetTabId:_0x2be2a8}=_0x2b817c[_0x266bb1(0xcab)][_0x266bb1(0x1e8)];handleMoveShortcutToTab(_0x4c9884,_0x2be2a8);});}),document[_0x37547a(0x20a)](_0x37547a(0x6f1))[_0x37547a(0x99f)](_0x3a27f1=>{const _0x5249b3=_0x37547a;_0x3a27f1[_0x5249b3(0x8d3)]('click',_0x587943=>{const _0x41e90f=_0x5249b3;handleRemoveShortcutFromTab(_0x587943[_0x41e90f(0xcab)][_0x41e90f(0x1e8)][_0x41e90f(0x6a6)],activeShortcutTabId);});});const _0x1577e2=document[_0x37547a(0xcac)]('additional-shortcuts-list');_0x1577e2['querySelectorAll'](_0x37547a(0xd56))[_0x37547a(0x99f)](_0x26f679=>{const _0x109246=_0x37547a;_0x26f679[_0x109246(0x8d3)](_0x109246(0xc47),()=>{const _0x10c072=_0x109246;document[_0x10c072(0xcac)](_0x10c072(0x241))['classList'][_0x10c072(0xd3c)](_0x10c072(0x60b)),handleShortcutClick(_0x26f679[_0x10c072(0x1e8)]['id']);});});let _0x174c92=null;_0x1577e2[_0x37547a(0x8d3)](_0x37547a(0x2b3),_0x276b1a=>{const _0x24d397=_0x37547a;_0x174c92=_0x276b1a[_0x24d397(0x615)][_0x24d397(0x2d3)](_0x24d397(0x211)),_0x174c92&&setTimeout(()=>_0x174c92[_0x24d397(0x325)][_0x24d397(0xd3c)](_0x24d397(0xa39)),0x0);}),_0x1577e2[_0x37547a(0x8d3)](_0x37547a(0x226),()=>{const _0x281867=_0x37547a;_0x174c92&&(_0x174c92[_0x281867(0x325)]['remove']('opacity-50'),_0x174c92=null);}),_0x1577e2[_0x37547a(0x8d3)](_0x37547a(0xbb7),_0x1fff86=>{const _0x5d9113=_0x37547a;_0x1fff86[_0x5d9113(0xd43)]();const _0x46f007=[..._0x1577e2[_0x5d9113(0x20a)](_0x5d9113(0x3d4))]['reduce']((_0x5b46fc,_0x9b51cd)=>{const _0x2cd5cd=_0x5d9113,_0x422b81=_0x9b51cd[_0x2cd5cd(0x663)](),_0x4e7392=_0x1fff86[_0x2cd5cd(0xa80)]-_0x422b81[_0x2cd5cd(0xb32)]-_0x422b81[_0x2cd5cd(0x636)]/0x2;return _0x4e7392<0x0&&_0x4e7392>_0x5b46fc[_0x2cd5cd(0x9e5)]?{'offset':_0x4e7392,'element':_0x9b51cd}:_0x5b46fc;},{'offset':Number[_0x5d9113(0x926)]})['element'];_0x46f007==null?_0x1577e2[_0x5d9113(0x1d2)](_0x174c92):_0x1577e2[_0x5d9113(0x718)](_0x174c92,_0x46f007);}),_0x1577e2[_0x37547a(0x8d3)](_0x37547a(0x7b4),_0x2ddad3=>{const _0xa9063d=_0x37547a;_0x2ddad3[_0xa9063d(0xd43)]();if(_0x174c92){const _0x360b57=[..._0x1577e2['querySelectorAll'](_0xa9063d(0x211))][_0xa9063d(0x201)](_0x177514=>_0x177514[_0xa9063d(0x1e8)][_0xa9063d(0x6a6)]);handleShortcutOrderChange(activeShortcutTabId,_0x360b57);}}),document[_0x37547a(0x20a)]('.move-shortcut-menu-btn')[_0x37547a(0x99f)](_0x582ac9=>{const _0x556888=_0x37547a;_0x582ac9[_0x556888(0x8d3)]('click',_0xa76ec=>{const _0x4184ca=_0x556888;_0xa76ec['stopPropagation']();const _0x23ea72=_0xa76ec[_0x4184ca(0xcab)]['nextElementSibling'],_0x45dffd=_0x23ea72[_0x4184ca(0x325)][_0x4184ca(0x9e8)](_0x4184ca(0x60b));document[_0x4184ca(0x20a)](_0x4184ca(0x430))['forEach'](_0x2b85b0=>_0x2b85b0[_0x4184ca(0x325)][_0x4184ca(0xd3c)](_0x4184ca(0x60b))),_0x45dffd&&_0x23ea72[_0x4184ca(0x325)][_0x4184ca(0x419)]('hidden');});});}document[_0x1ca595(0x8d3)](_0x1ca595(0xc47),_0x1f78e6=>{const _0x26f956=_0x1ca595;!_0x1f78e6[_0x26f956(0x615)][_0x26f956(0x2d3)](_0x26f956(0x8ca))&&document[_0x26f956(0x20a)](_0x26f956(0x430))[_0x26f956(0x99f)](_0x44d8a7=>_0x44d8a7[_0x26f956(0x325)][_0x26f956(0xd3c)](_0x26f956(0x60b)));});async function saveShortcutConfig(){const _0x1bdd2d=_0x1ca595,_0x47cf8a=doc(db,_0x1bdd2d(0x24b),_0x1bdd2d(0xacd));try{await setDoc(_0x47cf8a,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x16f00b){console[_0x1bdd2d(0x96)](_0x1bdd2d(0x666),_0x16f00b);}}async function handleAddShortcutTab(){const _0x2a5319=_0x1ca595,_0x289993=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x2a5319(0x5cb));if(!_0x289993||_0x289993[_0x2a5319(0x964)]()==='')return;shortcutTabs[_0x2a5319(0x3bb)]({'id':'tab_'+Date['now'](),'name':_0x289993[_0x2a5319(0x964)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x4f6954,_0x50f7a1){const _0x2a3b04=_0x1ca595,_0x2fc574=shortcutTabs[_0x2a3b04(0x2f4)](_0x2b8964=>_0x2b8964['id']===_0x4f6954);_0x2fc574&&_0x50f7a1['trim']()!==''&&(_0x2fc574['name']=_0x50f7a1['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x430201){const _0x25a341=_0x1ca595,_0x82a088=shortcutTabs['find'](_0x3eb15b=>_0x3eb15b['id']===_0x430201);_0x82a088&&!_0x82a088[_0x25a341(0x183)]&&showConfirmation(_0x25a341(0xc66)+_0x82a088[_0x25a341(0xd33)]+_0x25a341(0x208),async()=>{const _0x371283=_0x25a341;shortcutTabs=shortcutTabs[_0x371283(0xa00)](_0x5c0a96=>_0x5c0a96['id']!==_0x430201),delete shortcutOrder[_0x430201];if(activeShortcutTabId===_0x430201)activeShortcutTabId=_0x371283(0xa12);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0xa7fe7c,_0x32cb0f){const _0x3158d6=_0x1ca595,_0x37b309=shortcutTabs['find'](_0x141580=>_0x141580['id']===_0x32cb0f);_0x37b309&&!_0x37b309[_0x3158d6(0x753)][_0x3158d6(0x39b)](_0xa7fe7c)&&(_0x37b309['shortcutIds'][_0x3158d6(0x3bb)](_0xa7fe7c),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x556f7c,_0x1a3b00){const _0x2ecedb=_0x1ca595,_0x47aeff=shortcutTabs[_0x2ecedb(0x2f4)](_0x20ba62=>_0x20ba62['id']===_0x1a3b00);_0x47aeff&&!_0x47aeff['isDefault']&&(_0x47aeff[_0x2ecedb(0x753)]=_0x47aeff[_0x2ecedb(0x753)]['filter'](_0x55bd52=>_0x55bd52!==_0x556f7c),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x3eb7a0,_0x39e12d){shortcutOrder[_0x3eb7a0]=_0x39e12d,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x4c28b0=_0x1ca595,_0x300fa0=document['getElementById'](_0x4c28b0(0x7f7)),_0x2bf139=document['getElementById']('additional-shortcuts-list'),_0x1adccc=document[_0x4c28b0(0xcac)](_0x4c28b0(0xb59));_0x1adccc&&_0x1adccc[_0x4c28b0(0x325)][_0x4c28b0(0xd3c)](_0x4c28b0(0x60b));if(!_0x300fa0||!_0x2bf139)return;const _0x4b7667=blueprintShortcuts['slice'](0x0,0x4),_0x709206=blueprintShortcuts[_0x4c28b0(0x2ea)](0x4);_0x300fa0['innerHTML']=_0x4b7667[_0x4c28b0(0x201)](_0x415db8=>{const _0x1512ac=_0x4c28b0;let _0x59c882='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x3dc2e0='🧩';if(_0x415db8[_0x1512ac(0xce0)]&&_0x415db8[_0x1512ac(0xd68)])_0x59c882=_0x1512ac(0x466),_0x3dc2e0='📗';else _0x415db8[_0x1512ac(0xce0)]&&(_0x59c882=_0x1512ac(0xcb4),_0x3dc2e0='📘');const _0x2add8b=!_0x415db8[_0x1512ac(0x183)]?_0x1512ac(0x9f8)+_0x415db8['id']+_0x1512ac(0x5f6):'';return _0x1512ac(0x5e6)+_0x415db8['id']+_0x1512ac(0x113)+_0x59c882+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x3dc2e0+'\x20'+_0x415db8[_0x1512ac(0xd33)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x415db8['id']+_0x1512ac(0x914)+_0x2add8b+_0x1512ac(0x59c);})[_0x4c28b0(0xa88)](''),_0x709206[_0x4c28b0(0x1d6)]>0x0&&(_0x300fa0[_0x4c28b0(0xcaa)]+=_0x4c28b0(0xb52)),_0x709206['length']>0x0?_0x2bf139['innerHTML']=_0x709206['map'](_0x3e508d=>{const _0x3f74c3=_0x4c28b0;let _0x420ebd='🧩';if(_0x3e508d[_0x3f74c3(0xce0)]&&_0x3e508d[_0x3f74c3(0xd68)])_0x420ebd='📗';else _0x3e508d[_0x3f74c3(0xce0)]&&(_0x420ebd='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x420ebd+'\x20'+_0x3e508d[_0x3f74c3(0xd33)]+_0x3f74c3(0xa9a)+_0x3e508d['id']+_0x3f74c3(0x81c)+_0x3e508d['id']+_0x3f74c3(0xb37)+(!_0x3e508d[_0x3f74c3(0x183)]?_0x3f74c3(0x9f8)+_0x3e508d['id']+_0x3f74c3(0x69c):'')+_0x3f74c3(0x7c8);})[_0x4c28b0(0xa88)](''):_0x2bf139['innerHTML']=_0x4c28b0(0xb8b);}function getMimeTypeFromFilename(_0x4bd93f){const _0x44c953=_0x1ca595,_0x2a5c6b=_0x4bd93f[_0x44c953(0x38d)]('.')[_0x44c953(0x8c0)]()['toLowerCase']();switch(_0x2a5c6b){case _0x44c953(0x40d):return _0x44c953(0x77e);case _0x44c953(0xcfc):return'text/plain';default:return'application/pdf';}}function openShortcutEditor(_0x4e3d2e=null){const _0x3f0d7a=_0x1ca595,_0x57a59a=document['getElementById']('shortcut-editor-modal'),_0x20721f=document[_0x3f0d7a(0xcac)](_0x3f0d7a(0x2bc)),_0x11073f=document[_0x3f0d7a(0xcac)](_0x3f0d7a(0x235)),_0x4671d5=document['getElementById'](_0x3f0d7a(0x15d)),_0x3eb8d7=document['getElementById']('shortcut-blueprint-url-input'),_0x5729ad=document['getElementById']('shortcut-reference-url-input');if(_0x4e3d2e){const _0x17d631=blueprintShortcuts[_0x3f0d7a(0x2f4)](_0x5afc1a=>_0x5afc1a['id']===_0x4e3d2e);if(!_0x17d631)return;_0x20721f[_0x3f0d7a(0xc84)]='แก้ไขปุ่มลัด',_0x11073f[_0x3f0d7a(0x41e)]=_0x17d631['id'],_0x4671d5[_0x3f0d7a(0x41e)]=_0x17d631[_0x3f0d7a(0xd33)],_0x3eb8d7[_0x3f0d7a(0x41e)]=_0x17d631[_0x3f0d7a(0xce0)]||'',_0x5729ad[_0x3f0d7a(0x41e)]=_0x17d631[_0x3f0d7a(0xd68)]||'';}else _0x20721f['textContent']=_0x3f0d7a(0x7a4),_0x11073f[_0x3f0d7a(0x41e)]='',_0x4671d5['value']='',_0x3eb8d7[_0x3f0d7a(0x41e)]='',_0x5729ad[_0x3f0d7a(0x41e)]='';_0x57a59a[_0x3f0d7a(0x325)][_0x3f0d7a(0x419)](_0x3f0d7a(0x60b));}async function saveShortcutChanges(){const _0x199206=_0x1ca595,_0x7a7f52=document[_0x199206(0xcac)](_0x199206(0x235))[_0x199206(0x41e)],_0x11ec6a=document['getElementById']('shortcut-name-input')[_0x199206(0x41e)][_0x199206(0x964)](),_0x15a961=document['getElementById'](_0x199206(0xa48))['value'][_0x199206(0x964)]();if(!_0x11ec6a||!_0x15a961){showMessage(_0x199206(0x454));return;}const _0x28e722={'id':_0x7a7f52||_0x199206(0x179)+Date[_0x199206(0x27a)](),'name':_0x11ec6a,'blueprintUrl':_0x15a961,'referenceUrl':document[_0x199206(0xcac)](_0x199206(0x3dd))[_0x199206(0x41e)][_0x199206(0x964)](),'isDefault':_0x7a7f52['startsWith']('default-')};let _0x1928e3;_0x7a7f52?_0x1928e3=blueprintShortcuts['map'](_0x135d99=>_0x135d99['id']===_0x7a7f52?_0x28e722:_0x135d99):_0x1928e3=[...blueprintShortcuts,_0x28e722];try{const _0x8a473e=doc(db,_0x199206(0x24b),'dashboardConfig');await setDoc(_0x8a473e,{'blueprintShortcuts':_0x1928e3},{'merge':!![]}),document[_0x199206(0xcac)](_0x199206(0x7e7))[_0x199206(0x325)]['add'](_0x199206(0x60b));}catch(_0x3252aa){console[_0x199206(0x96)](_0x199206(0xf8),_0x3252aa),showMessage(_0x199206(0xcb6));}}async function handleShortcutClick(_0x25dc90){const _0x3478fd=_0x1ca595,_0x2cf8e3=blueprintShortcuts[_0x3478fd(0x2f4)](_0x1adfe0=>_0x1adfe0['id']===_0x25dc90);if(!_0x2cf8e3||!_0x2cf8e3['blueprintUrl'])return;document[_0x3478fd(0xcac)](_0x3478fd(0xd4c))[_0x3478fd(0x325)]['add'](_0x3478fd(0x60b)),document[_0x3478fd(0xcac)](_0x3478fd(0xa0a))['disabled']=!![];const _0x3e42fa=document[_0x3478fd(0xcac)](_0x3478fd(0x2b9)),_0x25e034=document['getElementById'](_0x3478fd(0x705));document['getElementById'](_0x3478fd(0xd95))[_0x3478fd(0x325)][_0x3478fd(0x419)]('hidden'),document[_0x3478fd(0xcac)](_0x3478fd(0x1d8))['innerHTML']='',_0x3e42fa[_0x3478fd(0x325)][_0x3478fd(0x419)](_0x3478fd(0x60b));try{_0x25e034[_0x3478fd(0xc84)]=_0x3478fd(0x726);const _0x4bf48b=await fetchFileFromUrl(_0x2cf8e3[_0x3478fd(0xce0)],_0x3478fd(0xac8));let _0x1ee426=null;if(_0x2cf8e3[_0x3478fd(0xd68)]){_0x25e034['textContent']=_0x3478fd(0x215);const _0x248fa4=_0x2cf8e3[_0x3478fd(0xd68)]['toLowerCase']()[_0x3478fd(0xd5b)](_0x3478fd(0x4d5))?'reference.txt':_0x3478fd(0x630);_0x1ee426=await fetchFileFromUrl(_0x2cf8e3[_0x3478fd(0xd68)],_0x248fa4);}await handleGenerateFromBlueprintWithFiles(_0x4bf48b,_0x1ee426);}catch(_0x28d086){console[_0x3478fd(0x96)]('Error\x20processing\x20shortcut\x20click:',_0x28d086),showMessage(_0x3478fd(0x987)+_0x28d086[_0x3478fd(0xaee)]),_0x3e42fa['classList'][_0x3478fd(0xd3c)](_0x3478fd(0x60b));}}function getDirectDownloadUrl(_0x33f316){const _0x30d3be=_0x1ca595,_0x5ecf23=_0x33f316[_0x30d3be(0xccf)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x5ecf23&&_0x5ecf23[0x1])return _0x30d3be(0x200)+_0x5ecf23[0x1];return _0x33f316;}async function fetchFileFromUrl(_0x45325a,_0x52f6ef){const _0x31597e=_0x1ca595,_0xce2763=getDirectDownloadUrl(_0x45325a),_0x4b3ab0=_0x31597e(0xb03)+encodeURIComponent(_0xce2763),_0x14b858=await fetch(_0x4b3ab0);if(!_0x14b858['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x14b858['status']+')');const _0x37ec25=await _0x14b858['blob'](),_0x2546c8=await new Promise((_0x3d6ddb,_0x1d0317)=>{const _0x516222=_0x31597e,_0x394fa3=new FileReader();_0x394fa3[_0x516222(0x556)]=()=>_0x3d6ddb(new Uint8Array(_0x394fa3[_0x516222(0x87f)])),_0x394fa3[_0x516222(0x821)]=_0x1d0317,_0x394fa3['readAsArrayBuffer'](_0x37ec25[_0x516222(0x2ea)](0x0,0x4));});let _0x4ce97b='';const _0x1bf8f2=new TextDecoder()[_0x31597e(0x1b6)](_0x2546c8);return _0x1bf8f2===_0x31597e(0x274)?(_0x4ce97b=_0x31597e(0x77e),console[_0x31597e(0xa7f)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x4ce97b=_0x31597e(0x49a),console[_0x31597e(0xa7f)](_0x31597e(0x6ad))),new File([_0x37ec25],_0x52f6ef,{'type':_0x4ce97b});}async function handleGenerateFromBlueprintWithFiles(_0x5dea77,_0xa26ec6=null){const _0x508641=_0x1ca595;if(!_0x5dea77){showMessage(_0x508641(0x64f));return;}const _0x93dba9=document[_0x508641(0xcac)](_0x508641(0x2b9)),_0x6ceece=document[_0x508641(0xcac)](_0x508641(0x705));_0x93dba9['classList'][_0x508641(0x419)]('hidden'),document[_0x508641(0xcac)](_0x508641(0xd95))['classList'][_0x508641(0x419)](_0x508641(0x60b)),document[_0x508641(0xcac)]('generated-quiz-container')[_0x508641(0xcaa)]='';try{_0x6ceece[_0x508641(0xc84)]=_0x508641(0x42f);const _0x3312bc=await new Promise((_0x16459a,_0x103969)=>{const _0x57681c=_0x508641,_0x2500a0=new FileReader();_0x2500a0[_0x57681c(0x1e2)](_0x5dea77),_0x2500a0['onload']=()=>_0x16459a(_0x2500a0['result'][_0x57681c(0x38d)](',')[0x1]),_0x2500a0['onerror']=_0x103969;}),_0x189bf0=[];if(_0xa26ec6){_0x6ceece[_0x508641(0xc84)]=_0x508641(0xfd);const _0x1e0894=await _0xa26ec6['text']();_0x189bf0['push']({'text':_0x508641(0x479)+_0x1e0894});}const _0x21de4e=[{'text':'...'},{'inlineData':{'mimeType':_0x5dea77[_0x508641(0x159)],'data':_0x3312bc}},..._0x189bf0];await handleGenerateFromBlueprint(_0x21de4e);}catch(_0x2d1ad2){console[_0x508641(0x96)](_0x508641(0xaf0),_0x2d1ad2),showMessage(_0x508641(0x987)+_0x2d1ad2[_0x508641(0xaee)]),_0x93dba9['classList'][_0x508641(0xd3c)](_0x508641(0x60b));}}async function handleLiveAnswer(_0xe0130c,_0x312cf7){const _0x3adcfd=_0x1ca595;document[_0x3adcfd(0x20a)](_0x3adcfd(0x5d4))[_0x3adcfd(0x99f)](_0x186f6d=>_0x186f6d[_0x3adcfd(0x25a)]=!![]);const _0x4018b6=_0x312cf7[_0x3adcfd(0xc34)]||currentQuizData['quizType'];let _0x412a25=![],_0x264053=_0xe0130c;if(_0x4018b6===_0x3adcfd(0xbf6)){const _0x1320d7=(_0xe0130c||'')[_0x3adcfd(0x287)]();_0x412a25=await gradeShortAnswer(_0x1320d7,_0x312cf7);}else{if(_0x4018b6===_0x3adcfd(0x801))_0x412a25=_0xe0130c===_0x312cf7[_0x3adcfd(0xc75)];else{if(_0x4018b6===_0x3adcfd(0xcea)){const _0x62d2d=_0x312cf7['correctAnswer'];_0x412a25=_0xe0130c===0x0&&_0x62d2d||_0xe0130c===0x1&&!_0x62d2d;}else{if(_0x4018b6===_0x3adcfd(0x79b)){const _0x2cc69a=_0x312cf7['allResponses'][_0xe0130c];_0x412a25=_0x2cc69a===_0x312cf7[_0x3adcfd(0xca2)],_0x264053=_0x2cc69a;}}}}const _0x51d676=doc(db,_0x3adcfd(0x54a)+appId+'/public/data/liveGames',currentLiveGameId),_0x214d88={};_0x214d88[_0x3adcfd(0x8d5)+currentStudentName+_0x3adcfd(0x641)]=!![],_0x214d88[_0x3adcfd(0x8d5)+currentStudentName+_0x3adcfd(0x4b7)]=_0x412a25,_0x214d88[_0x3adcfd(0x8d5)+currentStudentName+_0x3adcfd(0xd4b)]=_0x4018b6===_0x3adcfd(0xbf6)||_0x4018b6===_0x3adcfd(0x79b)?null:_0xe0130c,_0x214d88[_0x3adcfd(0x8d5)+currentStudentName+_0x3adcfd(0x7c0)]=_0x264053,_0x214d88[_0x3adcfd(0x8d5)+currentStudentName+_0x3adcfd(0x22c)]=serverTimestamp(),_0x214d88['players.'+currentStudentName+_0x3adcfd(0x7fb)]=![],await updateDoc(_0x51d676,_0x214d88),liveGameView[_0x3adcfd(0xcaa)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x22db1f,_0x5616ea){const _0x4e3ebf=_0x1ca595,_0x125295=Object[_0x4e3ebf(0xc7b)](_0x22db1f['players']||{}),_0x4c2610=_0x5616ea[_0x4e3ebf(0xc34)]||currentQuizData['quizType'],_0x3ffcbb=_0x4c2610===_0x4e3ebf(0xcea)?[_0x4e3ebf(0x89),_0x4e3ebf(0x372)]:_0x5616ea[_0x4e3ebf(0x63f)]||_0x5616ea[_0x4e3ebf(0x698)]||[],_0x39e0d3={},_0x43b68f=new Array(_0x3ffcbb[_0x4e3ebf(0x1d6)])[_0x4e3ebf(0xd4d)](0x0);_0x3ffcbb[_0x4e3ebf(0x99f)]((_0x3b84ae,_0x5472c1)=>{_0x39e0d3[_0x5472c1]=[];}),Object[_0x4e3ebf(0xb45)](_0x22db1f['players']||{})[_0x4e3ebf(0x99f)](([_0x31409b,_0x9053c9])=>{const _0x1138fc=_0x4e3ebf;if(_0x9053c9['status']===_0x1138fc(0x6a2)&&_0x9053c9[_0x1138fc(0x6c0)]!==undefined){const _0x20f3c3=_0x9053c9[_0x1138fc(0x6c0)];_0x39e0d3[_0x20f3c3]&&(_0x39e0d3[_0x20f3c3]['push'](_0x31409b),_0x43b68f[_0x20f3c3]++);}});const _0x21cbfe=Math[_0x4e3ebf(0xdb)](..._0x43b68f,0x1),_0x54d311=_0x4e3ebf(0x436)+(_0x5616ea[_0x4e3ebf(0x216)]||_0x5616ea[_0x4e3ebf(0x6f3)])+_0x4e3ebf(0x58b)+_0x43b68f[_0x4e3ebf(0x201)]((_0xcbbfb,_0x5cd45c)=>{const _0x2b14dc=_0x4e3ebf,_0x1b6a35=_0x39e0d3[_0x5cd45c][_0x2b14dc(0x1d6)]>0x0?_0x39e0d3[_0x5cd45c][_0x2b14dc(0xa88)](',\x20'):_0x2b14dc(0xa57);let _0x22cdf=![];if(_0x4c2610==='multiple_choice')_0x22cdf=_0x5cd45c===_0x5616ea[_0x2b14dc(0xc75)];else{if(_0x4c2610==='true_false'){const _0x5c3ae6=_0x5616ea[_0x2b14dc(0xc49)];_0x22cdf=_0x5c3ae6&&_0x5cd45c===0x0||!_0x5c3ae6&&_0x5cd45c===0x1;}else _0x4c2610===_0x2b14dc(0x79b)&&(_0x22cdf=_0x3ffcbb[_0x5cd45c]===_0x5616ea[_0x2b14dc(0xca2)]);}const _0xfff7ae=_0x22cdf?_0x2b14dc(0xee):_0x2b14dc(0xa8b);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0xcbbfb+_0x2b14dc(0x2d2)+_0xfff7ae+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x5cd45c+_0x2b14dc(0x995)+_0x3ffcbb[_0x5cd45c]+_0x2b14dc(0x6c2)+_0x5cd45c+_0x2b14dc(0x2c4)+_0x1b6a35+_0x2b14dc(0xd34);})['join']('')+_0x4e3ebf(0x656);liveGameView['innerHTML']=_0x54d311;if(window['MathJax'])MathJax['typesetPromise']();document[_0x4e3ebf(0xcac)](_0x4e3ebf(0x28c))[_0x4e3ebf(0x8d3)]('click',async()=>{const _0x294bc6=_0x4e3ebf,_0x2e83b1=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x2e83b1,{'questionStatus':_0x294bc6(0x847)});}),document[_0x4e3ebf(0xcac)](_0x4e3ebf(0xa8d))['addEventListener'](_0x4e3ebf(0xc47),()=>{openScratchpad(_0x5616ea,_0x3ffcbb);});}function showPlayerSummaryView(_0x58bb8a,_0xd44202){const _0x55a1aa=_0x1ca595,_0x5c8404=Object['values'](_0x58bb8a[_0x55a1aa(0x1ff)]||{}),_0x33da5b=_0x58bb8a['players'][_0xd44202],_0x395592=_0x5c8404[_0x55a1aa(0xa00)](_0x3b4ecb=>_0x3b4ecb['status']===_0x55a1aa(0x6a2))[_0x55a1aa(0xb2f)]((_0x4c36c9,_0x498fd3)=>_0x498fd3['score']-_0x4c36c9['score']),_0x2036e0=_0x395592[_0x55a1aa(0x4cb)](_0x5759fd=>_0x5759fd===_0x33da5b)+0x1,_0x172fd1=_0x33da5b[_0x55a1aa(0x607)]?_0x55a1aa(0x631):_0x55a1aa(0x74b),_0x189f14=_0x33da5b[_0x55a1aa(0x607)]?_0x55a1aa(0x26d):_0x55a1aa(0x433),_0x14b51a=_0x33da5b[_0x55a1aa(0xd38)]||0x0,_0x201186=_0x55a1aa(0xa63),_0x246ecc=_0x55a1aa(0xafb)+_0x201186+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x189f14+_0x55a1aa(0xbe5)+_0x172fd1+_0x55a1aa(0x29a)+_0x14b51a+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x2036e0>0x0?_0x2036e0:'-')+_0x55a1aa(0x63c);liveGameView[_0x55a1aa(0xcaa)]=_0x246ecc;}function createQuizFromBank(){const _0x9b51eb=_0x1ca595,_0x2352fd=document[_0x9b51eb(0x20a)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x2352fd['length']===0x0){showMessage(_0x9b51eb(0x2f7));return;}const _0x5bddc8=[];_0x2352fd[_0x9b51eb(0x99f)](_0x3917cd=>{const _0x29ca9f=_0x9b51eb;_0x5bddc8[_0x29ca9f(0x3bb)](JSON[_0x29ca9f(0x444)](_0x3917cd[_0x29ca9f(0x41e)]));});const _0x5af998={'topic':_0x9b51eb(0x3d8),'questions':_0x5bddc8};displayGeneratedQuiz(_0x5af998);}function showAdminLobbyView(_0x30e636,_0x11dfe6){const _0x180380=_0x1ca595;showView('live-game');const _0x45a546=_0x180380(0xaba)+_0x11dfe6+_0x180380(0x7ac)+_0x30e636+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x180380(0xcaa)]=_0x45a546,document[_0x180380(0xcac)](_0x180380(0x4ac))[_0x180380(0x8d3)](_0x180380(0xc47),async()=>{const _0x68a674=_0x180380;if(!currentQuizData||!currentQuizData[_0x68a674(0xbfe)]||currentQuizData[_0x68a674(0xbfe)][_0x68a674(0x1d6)]===0x0){showMessage(_0x68a674(0x7eb));return;}try{const _0x4cb38e=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4cb38e,{'status':_0x68a674(0xc52),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3f8580=currentQuizData['questions'][0x0],_0x39facb=currentQuizData[_0x68a674(0xbfe)]['length'];showAdminLiveQuestionView(_0x3f8580,0x0,_0x39facb);}catch(_0x550d4e){console[_0x68a674(0x96)](_0x68a674(0xa50),_0x550d4e),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x5b85ba=_0x1ca595;if(allQuizzesGlobal[_0x5b85ba(0x1d6)]===0x0){const _0x592da6=await getDocs(collection(db,'artifacts/'+appId+_0x5b85ba(0xa62)));allQuizzesGlobal=_0x592da6[_0x5b85ba(0x26a)]['map'](_0x21ffaf=>({'id':_0x21ffaf['id'],..._0x21ffaf[_0x5b85ba(0xb6)]()}));}renderQuizBankList(''),document[_0x5b85ba(0xcac)](_0x5b85ba(0x24a))[_0x5b85ba(0x325)][_0x5b85ba(0x419)](_0x5b85ba(0x60b));}function renderQuizBankList(_0x79fa62='',_0x3d434f=![]){const _0x25f00a=_0x1ca595,_0x380543=document[_0x25f00a(0xcac)]('bank-quiz-list'),_0x152a31=_0x79fa62[_0x25f00a(0x5c9)]()[_0x25f00a(0x964)](),_0x188f57=allQuizzesGlobal['map'](_0x154318=>({..._0x154318,'projectName':allProjects['find'](_0x26ba99=>_0x26ba99['id']===_0x154318['projectId'])?.[_0x25f00a(0x5b1)]||_0x25f00a(0x50e)}))[_0x25f00a(0xa00)](_0x3f356e=>(_0x3f356e[_0x25f00a(0xa64)]||'')[_0x25f00a(0x5c9)]()[_0x25f00a(0x39b)](_0x152a31)||(_0x3f356e[_0x25f00a(0x5b1)]||'')[_0x25f00a(0x5c9)]()[_0x25f00a(0x39b)](_0x152a31)||_0x3f356e['id']['toString']()['includes'](_0x152a31));document[_0x25f00a(0xcac)]('quiz-bank-count')[_0x25f00a(0xc84)]='('+_0x188f57[_0x25f00a(0x1d6)]+_0x25f00a(0x804),_0x380543['innerHTML']=_0x188f57[_0x25f00a(0x1d6)]?_0x188f57[_0x25f00a(0x201)](_0x4363cd=>{const _0x57042b=_0x25f00a,_0x20d57a=!_0x3d434f?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4363cd['id']+_0x57042b(0xa91)+_0x4363cd['id']+_0x57042b(0x5c8)+_0x4363cd['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4363cd['id']+_0x57042b(0x903)+_0x4363cd['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4363cd['id']+_0x57042b(0x7d7)+_0x4363cd[_0x57042b(0xa64)]+_0x57042b(0xa10):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x4363cd['id']+_0x57042b(0x192)+(_0x4363cd[_0x57042b(0xa64)]||'(ไม่มีชื่อ)')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x4363cd['questions']?.['length']||0x0)+_0x57042b(0x58e)+_0x4363cd['projectName']+_0x57042b(0xea)+_0x4363cd['id']+_0x57042b(0x7d0)+_0x20d57a+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x25f00a(0xa88)](''):_0x25f00a(0x19f),!_0x3d434f&&(_0x380543[_0x25f00a(0x20a)]('.quiz-bank-item')[_0x25f00a(0x99f)](_0x3ae0c2=>{const _0x145c2f=_0x25f00a;_0x3ae0c2[_0x145c2f(0x8d3)](_0x145c2f(0xc47),()=>{const _0x5807e1=_0x145c2f,_0x58d821=_0x3ae0c2[_0x5807e1(0x1e8)]['id'];document[_0x5807e1(0xcac)]('quiz-bank-modal')[_0x5807e1(0x325)][_0x5807e1(0xd3c)](_0x5807e1(0x60b)),showQuizDetailView(_0x58d821);});}),_0x380543['querySelectorAll']('.quiz-bank-try-btn')['forEach'](_0x24d86f=>{const _0x315ecc=_0x25f00a;_0x24d86f[_0x315ecc(0x8d3)](_0x315ecc(0xc47),_0x57076b=>{const _0x1a88d8=_0x315ecc;_0x57076b[_0x1a88d8(0xb6c)]();const _0x4a7d59=_0x24d86f['dataset']['id'],_0x57d683=allQuizzesGlobal[_0x1a88d8(0x2f4)](_0x3fe824=>_0x3fe824['id']===_0x4a7d59);_0x57d683?(currentQuizData=_0x57d683,document['getElementById'](_0x1a88d8(0x24a))[_0x1a88d8(0x325)][_0x1a88d8(0xd3c)]('hidden'),startAdminTest()):showMessage(_0x1a88d8(0x284));});}),_0x380543[_0x25f00a(0x20a)](_0x25f00a(0x8db))[_0x25f00a(0x99f)](_0xc041db=>{const _0x56b359=_0x25f00a;_0xc041db[_0x56b359(0x8d3)](_0x56b359(0xc47),_0x409398=>{const _0x51fb5a=_0x56b359;_0x409398[_0x51fb5a(0xb6c)]();const _0x5a177d=_0xc041db[_0x51fb5a(0x1e8)]['id'],_0x1857a4=allQuizzesGlobal['find'](_0x557ee6=>_0x557ee6['id']===_0x5a177d);_0x1857a4?(document['getElementById']('quiz-bank-modal')[_0x51fb5a(0x325)][_0x51fb5a(0xd3c)](_0x51fb5a(0x60b)),handleGenerateParallelFromBank(_0x1857a4)):showMessage(_0x51fb5a(0x284));});}),_0x380543[_0x25f00a(0x20a)]('.quiz-bank-present-btn')[_0x25f00a(0x99f)](_0x5525c4=>{const _0x5c8396=_0x25f00a;_0x5525c4[_0x5c8396(0x8d3)]('click',_0x34fd86=>{const _0x574cec=_0x5c8396;_0x34fd86['stopPropagation']();const _0x16be6e=_0x5525c4[_0x574cec(0x1e8)]['id'],_0x12ae62=allQuizzesGlobal[_0x574cec(0x2f4)](_0x5a7d03=>_0x5a7d03['id']===_0x16be6e);_0x12ae62?(document[_0x574cec(0xcac)](_0x574cec(0x24a))[_0x574cec(0x325)][_0x574cec(0xd3c)](_0x574cec(0x60b)),startPresentation(_0x12ae62)):showMessage(_0x574cec(0x284));});}),_0x380543[_0x25f00a(0x20a)]('.quiz-bank-move-btn')[_0x25f00a(0x99f)](_0x3c63ca=>{const _0x353309=_0x25f00a;_0x3c63ca[_0x353309(0x8d3)](_0x353309(0xc47),_0x2792f7=>{const _0x190757=_0x353309;_0x2792f7[_0x190757(0xb6c)]();const _0x33847d=_0x3c63ca[_0x190757(0x1e8)]['id'];document[_0x190757(0xcac)](_0x190757(0x24a))['classList'][_0x190757(0xd3c)](_0x190757(0x60b)),handleMoveQuiz(_0x33847d);});}),_0x380543['querySelectorAll']('.quiz-bank-settings-btn')['forEach'](_0x5b1643=>{const _0x374f1c=_0x25f00a;_0x5b1643['addEventListener'](_0x374f1c(0xc47),_0x2a7fb6=>{const _0x3fd112=_0x374f1c;_0x2a7fb6[_0x3fd112(0xb6c)]();const _0x554d8a=_0x5b1643['dataset']['id'];document[_0x3fd112(0xcac)](_0x3fd112(0x24a))[_0x3fd112(0x325)][_0x3fd112(0xd3c)](_0x3fd112(0x60b)),handleQuizSettings(_0x554d8a);});}),_0x380543[_0x25f00a(0x20a)](_0x25f00a(0x4a2))['forEach'](_0x394fe1=>{const _0x6ea02c=_0x25f00a;_0x394fe1[_0x6ea02c(0x8d3)](_0x6ea02c(0xc47),_0x166e58=>{const _0x52d9ea=_0x6ea02c;_0x166e58[_0x52d9ea(0xb6c)]();const _0x526bdf=_0x394fe1[_0x52d9ea(0x1e8)]['id'],_0x4c7dd8=_0x394fe1['dataset'][_0x52d9ea(0xa64)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x4c7dd8+_0x52d9ea(0x39c),()=>handleDeleteQuiz(_0x526bdf));});}));}async function handleCompareResults(_0x17b060,_0x49f4e){const _0xb4d912=_0x1ca595,_0x552b51=document['getElementById']('comparison-modal'),_0x5a392e=document[_0xb4d912(0xcac)](_0xb4d912(0xbd5)),_0x279c98=document[_0xb4d912(0xcac)]('comparison-individual-content');document[_0xb4d912(0xcac)](_0xb4d912(0x940))['classList']['add'](_0xb4d912(0x6a2)),document[_0xb4d912(0xcac)]('comparison-individual-tab')[_0xb4d912(0x325)][_0xb4d912(0x419)](_0xb4d912(0x6a2)),_0x5a392e['classList']['remove'](_0xb4d912(0x60b)),_0x279c98[_0xb4d912(0x325)][_0xb4d912(0xd3c)](_0xb4d912(0x60b)),_0x5a392e['innerHTML']=_0xb4d912(0xd26),_0x279c98[_0xb4d912(0xcaa)]='',_0x552b51[_0xb4d912(0x325)]['remove'](_0xb4d912(0x60b));try{const _0x5b594d=doc(db,_0xb4d912(0x54a)+appId+_0xb4d912(0xa62),_0x17b060),_0x1943be=await getDoc(_0x5b594d);if(!_0x1943be[_0xb4d912(0xa2b)]())throw new Error(_0xb4d912(0x4e4));const _0x33878f=_0x1943be[_0xb4d912(0xb6)](),_0x3a4896=_0x33878f[_0xb4d912(0xbfe)][_0xb4d912(0x1d6)],_0x338f90=collection(db,_0xb4d912(0x54a)+appId+_0xb4d912(0x292)+_0x49f4e+_0xb4d912(0x12a)),_0x3f3a8b=collection(db,_0xb4d912(0x54a)+appId+_0xb4d912(0x292)+_0x17b060+_0xb4d912(0x12a)),[_0x11dfd1,_0x255394]=await Promise[_0xb4d912(0xa12)]([getDocs(_0x338f90),getDocs(_0x3f3a8b)]),_0x7389e4=_0x11dfd1['docs'][_0xb4d912(0x201)](_0x3d1a4b=>_0x3d1a4b[_0xb4d912(0xb6)]()),_0x27f915=_0x255394['docs'][_0xb4d912(0x201)](_0x2c3feb=>_0x2c3feb[_0xb4d912(0xb6)]()),_0x418347=_0x7389e4['map'](_0x260d8a=>_0x260d8a[_0xb4d912(0xd3b)]),_0x5c187e=_0x27f915[_0xb4d912(0x201)](_0x199778=>_0x199778[_0xb4d912(0xd3b)]),_0x2e801b=calculateMeanAndStdDev(_0x418347),_0x335d5d=calculateMeanAndStdDev(_0x5c187e),_0x286ac2=_0x2e801b[_0xb4d912(0x99e)],_0x5ba675=_0x335d5d[_0xb4d912(0x99e)],_0x1ce424=_0x5ba675-_0x286ac2;let _0x45cd58='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x286ac2[_0xb4d912(0x84e)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x5ba675[_0xb4d912(0x84e)](0x2)+_0xb4d912(0x545)+(_0x1ce424>=0x0?_0xb4d912(0xc6f):_0xb4d912(0x491))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x1ce424>=0x0?_0xb4d912(0x239):'text-red-800')+_0xb4d912(0xb74)+(_0x1ce424>=0x0?_0xb4d912(0x706):'text-red-900')+'\x22>'+(_0x1ce424>=0x0?'+':'')+_0x1ce424[_0xb4d912(0x84e)](0x2)+_0xb4d912(0x870);_0x5a392e['innerHTML']=_0x45cd58;const _0x4e07f2=document['getElementById'](_0xb4d912(0xb4b))[_0xb4d912(0x36d)]('2d');if(chartInstances['comparison'])chartInstances['comparison']['destroy']();chartInstances[_0xb4d912(0x24c)]=new Chart(_0x4e07f2,{'type':_0xb4d912(0xb97),'data':{'labels':[_0xb4d912(0x10f)],'datasets':[{'label':_0xb4d912(0x154),'data':[_0x286ac2],'backgroundColor':_0xb4d912(0x75c)},{'label':_0xb4d912(0x7fa),'data':[_0x5ba675],'backgroundColor':_0xb4d912(0xc97)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x3a4896}}}});const _0x518ac6=currentProjectData[_0xb4d912(0xbbc)]||[],_0x4edeee=_0x518ac6[_0xb4d912(0x201)](_0xfa5da3=>{const _0x2ab73a=_0xb4d912,_0x1a4ef8=_0x7389e4['find'](_0x5c947a=>_0x5c947a[_0x2ab73a(0x3ef)]===_0xfa5da3),_0x3fb833=_0x27f915[_0x2ab73a(0x2f4)](_0x6300b0=>_0x6300b0[_0x2ab73a(0x3ef)]===_0xfa5da3),_0x21599c=_0x1a4ef8?_0x1a4ef8['latestScore']:null,_0x4ecfea=_0x3fb833?_0x3fb833[_0x2ab73a(0xd3b)]:null,_0x208a1f=_0x21599c!==null&&_0x4ecfea!==null?_0x4ecfea-_0x21599c:null,_0x2ddd37=_0x21599c!==null?calculateZScore(_0x21599c,_0x2e801b[_0x2ab73a(0x99e)],_0x2e801b['stdDev']):null,_0x547545=_0x4ecfea!==null?calculateZScore(_0x4ecfea,_0x335d5d[_0x2ab73a(0x99e)],_0x335d5d[_0x2ab73a(0x92d)]):null,_0x508904=_0x2ddd37!==null?calculateTScore(_0x2ddd37):null,_0xa8a8ff=_0x547545!==null?calculateTScore(_0x547545):null,_0x447fab=_0x508904!==null&&_0xa8a8ff!==null?_0xa8a8ff-_0x508904:null;return{'name':_0xfa5da3,'preScore':_0x21599c,'postScore':_0x4ecfea,'gain':_0x208a1f,'preTScore':_0x508904,'postTScore':_0xa8a8ff,'tGain':_0x447fab};});renderIndividualComparisonTable(_0x4edeee,_0x279c98);}catch(_0x647fb8){console['error'](_0xb4d912(0x131),_0x647fb8),_0x5a392e[_0xb4d912(0xcaa)]=_0xb4d912(0x48c);}}async function saveBlueprintProject(){const _0x1aa995=_0x1ca595;if(!extractedBlueprintData||!extractedBlueprintData[_0x1aa995(0xd00)]){showMessage(_0x1aa995(0xca4));return;}const _0xf5b3fd=prompt(_0x1aa995(0x5f3),_0x1aa995(0x37e));if(!_0xf5b3fd||_0xf5b3fd[_0x1aa995(0x964)]()==='')return;const _0x29c6cf={};extractedBlueprintData['curriculum'][_0x1aa995(0x99f)](_0x14e5d2=>{const _0x38af83=_0x1aa995;_0x14e5d2[_0x38af83(0x5fb)]['forEach'](_0x4ffb8b=>{const _0xf6b181=_0x38af83;_0x4ffb8b[_0xf6b181(0x56c)][_0xf6b181(0x99f)](_0x18f705=>{const _0x3f18f6=_0xf6b181,_0x5c10f8=_0x3f18f6(0xaf2)+Date[_0x3f18f6(0x27a)]()+Math['random']()[_0x3f18f6(0x287)](0x24)['substr'](0x2,0x9);_0x29c6cf[_0x5c10f8]={'sara':_0x14e5d2[_0x3f18f6(0xbd3)],'mainTopic':_0x4ffb8b['topicName'],'subTopic':_0x18f705,'status':_0x3f18f6(0xb58),'lessonContent':null};});});});try{const _0x44ee11=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects');await addDoc(_0x44ee11,{'projectName':_0xf5b3fd[_0x1aa995(0x964)](),'gradeLevel':extractedBlueprintData[_0x1aa995(0x9b6)],'topics':_0x29c6cf,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0xf5b3fd['trim']()+_0x1aa995(0xad9)),document[_0x1aa995(0xcac)]('save-blueprint-as-project-btn')[_0x1aa995(0x325)]['add']('hidden');}catch(_0x4e4787){console[_0x1aa995(0x96)](_0x1aa995(0xaa9),_0x4e4787),showMessage(_0x1aa995(0x4c4));}}async function showBlueprintProjects(){const _0x1cd843=_0x1ca595,_0x2f5350=document['getElementById'](_0x1cd843(0x2a9)),_0x446619=document[_0x1cd843(0xcac)]('blueprint-project-list');_0x446619[_0x1cd843(0xcaa)]=_0x1cd843(0xcd1),_0x2f5350['classList'][_0x1cd843(0x419)](_0x1cd843(0x60b));try{const _0x2f85b2=collection(db,_0x1cd843(0x54a)+appId+_0x1cd843(0x30f)),_0x1f6b1c=await getDocs(_0x2f85b2);if(_0x1f6b1c['empty']){_0x446619['innerHTML']=_0x1cd843(0xbb);return;}const _0x32a619=_0x1f6b1c[_0x1cd843(0x26a)][_0x1cd843(0x201)](_0x2f9b22=>({'id':_0x2f9b22['id'],..._0x2f9b22[_0x1cd843(0xb6)]()}));_0x32a619[_0x1cd843(0xb2f)]((_0x529175,_0x30c195)=>_0x529175[_0x1cd843(0x5b1)][_0x1cd843(0xbf1)](_0x30c195[_0x1cd843(0x5b1)],'th')),_0x446619[_0x1cd843(0xcaa)]=_0x32a619['map'](_0x19da68=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x19da68[_0x1cd843(0x5b1)]+_0x1cd843(0x60d)+_0x19da68[_0x1cd843(0x9b6)]+_0x1cd843(0x47f)+Object[_0x1cd843(0x236)](_0x19da68[_0x1cd843(0x9a5)])[_0x1cd843(0x1d6)]+_0x1cd843(0xb44)+_0x19da68['id']+_0x1cd843(0x469)+_0x19da68['id']+_0x1cd843(0x5a8))[_0x1cd843(0xa88)]('');}catch(_0x2fa842){console['error'](_0x1cd843(0x34a),_0x2fa842),_0x446619[_0x1cd843(0xcaa)]=_0x1cd843(0xa29);}}async function displayBlueprintProjectManager(_0x2dc971){const _0x1fa4b8=_0x1ca595;currentBlueprintProjectId=_0x2dc971,document[_0x1fa4b8(0xcac)]('blueprint-projects-modal')[_0x1fa4b8(0x325)]['add'](_0x1fa4b8(0x60b)),showView('admin-dashboard'),projectDashboardView[_0x1fa4b8(0x325)][_0x1fa4b8(0xd3c)](_0x1fa4b8(0x60b));const _0x529296=document[_0x1fa4b8(0xcac)](_0x1fa4b8(0x55c));_0x529296['classList']['remove'](_0x1fa4b8(0x60b)),document[_0x1fa4b8(0xcac)](_0x1fa4b8(0x38c))[_0x1fa4b8(0xcaa)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x2bb70e=doc(db,_0x1fa4b8(0x54a)+appId+_0x1fa4b8(0x30f),_0x2dc971),_0x17ae82=await getDoc(_0x2bb70e);if(!_0x17ae82[_0x1fa4b8(0xa2b)]())throw new Error('ไม่พบโปรเจค');const _0x423c85={'id':_0x17ae82['id'],..._0x17ae82[_0x1fa4b8(0xb6)]()};document[_0x1fa4b8(0xcac)](_0x1fa4b8(0x7ab))[_0x1fa4b8(0xc84)]=_0x423c85['projectName'],document[_0x1fa4b8(0xcac)](_0x1fa4b8(0x5bd))[_0x1fa4b8(0x41e)]=_0x423c85[_0x1fa4b8(0x48b)]||'',renderBlueprintTopicManager(_0x423c85);}catch(_0x3d083d){console[_0x1fa4b8(0x96)](_0x1fa4b8(0xc4e),_0x3d083d),showMessage(_0x3d083d[_0x1fa4b8(0xaee)]),showView(_0x1fa4b8(0xa94));}}function renderBlueprintTopicManager(_0x7cf6f){const _0x591114=_0x1ca595,_0x5e8f43=document[_0x591114(0xcac)](_0x591114(0x38c)),_0x9261c2=_0x7cf6f[_0x591114(0x9a5)]||{};if(Object[_0x591114(0x236)](_0x9261c2)[_0x591114(0x1d6)]===0x0){_0x5e8f43[_0x591114(0xcaa)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x7e789c=Object['entries'](_0x9261c2)['map'](([_0x16d783,_0x2d72a3])=>({'id':_0x16d783,..._0x2d72a3}))[_0x591114(0xb2f)]((_0xdbc360,_0x29e93e)=>(_0xdbc360[_0x591114(0x94f)]??Infinity)-(_0x29e93e[_0x591114(0x94f)]??Infinity)),_0x4ef39d={};_0x7e789c[_0x591114(0x99f)](_0x53eb87=>{const _0x1e27b3=_0x591114,{sara:_0xcb280f,mainTopic:_0x56bbbf}=_0x53eb87;!_0x4ef39d[_0xcb280f]&&(_0x4ef39d[_0xcb280f]={}),!_0x4ef39d[_0xcb280f][_0x56bbbf]&&(_0x4ef39d[_0xcb280f][_0x56bbbf]=[]),_0x4ef39d[_0xcb280f][_0x56bbbf][_0x1e27b3(0x3bb)](_0x53eb87);});let _0x4bde13='';for(const _0x57cb83 in _0x4ef39d){_0x4bde13+=_0x591114(0x35d)+_0x57cb83+_0x591114(0x17f);for(const _0x29289f in _0x4ef39d[_0x57cb83]){_0x4bde13+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x29289f+_0x591114(0x992),_0x4ef39d[_0x57cb83][_0x29289f]['forEach'](_0x529a12=>{const _0x388cd6=_0x591114,_0x30dda=_0x529a12['id'],_0x15831c=_0x529a12[_0x388cd6(0x9bd)]||[],_0x3c14be=_0x15831c[_0x388cd6(0x1d6)]>0x0,_0x71df35=_0x529a12['status']===_0x388cd6(0x7c1);let _0x3d4121='';_0x3c14be?_0x3d4121=_0x388cd6(0xd0f)+_0x15831c['length']+_0x388cd6(0xb93):_0x3d4121=_0x388cd6(0x61f)+(_0x71df35?'bg-green-200\x20text-green-800':_0x388cd6(0x2c0))+'\x22>'+(_0x71df35?_0x388cd6(0x16e):'ยังไม่สร้าง')+_0x388cd6(0x3c1);const _0xca39b8=!_0x71df35?_0x388cd6(0xaed):'',_0x4a1624=!_0x71df35?_0x388cd6(0xb87):'';let _0x37760c=_0x71df35?_0x388cd6(0x247):_0x388cd6(0x435);_0x4bde13+=_0x388cd6(0x1db)+_0x30dda+_0x388cd6(0x140)+_0x529a12[_0x388cd6(0x4f7)]+_0x388cd6(0x4db)+_0x3d4121+_0x388cd6(0x614)+_0xca39b8+_0x388cd6(0xd2e)+_0x4a1624+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37760c+_0x388cd6(0x343);}),_0x4bde13+=_0x591114(0x7c6);}_0x4bde13+='</div>';}_0x5e8f43[_0x591114(0xcaa)]=_0x4bde13;}async function handleDeepDeleteBlueprintProject(_0x1e4f84){const _0x52c943=_0x1ca595,_0x590d47=doc(db,'artifacts/'+appId+_0x52c943(0x30f),_0x1e4f84),_0x13f972=await getDoc(_0x590d47);if(!_0x13f972[_0x52c943(0xa2b)]()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x16019e=_0x13f972[_0x52c943(0xb6)]()[_0x52c943(0x5b1)];showConfirmation(_0x52c943(0x3ed)+_0x16019e+_0x52c943(0x7ee),async()=>{const _0x38863d=_0x52c943;showMessage(_0x38863d(0xd7a));try{const _0xf8e89c=writeBatch(db),_0x23480a=_0x13f972[_0x38863d(0xb6)](),_0x4632ea=_0x23480a['topics']||{};for(const _0x3659f9 in _0x4632ea){const _0x44a967=doc(db,'artifacts/'+appId+_0x38863d(0xa44)+_0x1e4f84+_0x38863d(0x191),_0x3659f9);_0xf8e89c[_0x38863d(0x70d)](_0x44a967);}const _0x10ca5a=new Set();for(const _0x257475 in _0x4632ea){_0x4632ea[_0x257475]['linkedQuizIds']&&_0x4632ea[_0x257475][_0x38863d(0x9bd)][_0x38863d(0x99f)](_0x45301d=>_0x10ca5a['add'](_0x45301d));}for(const _0x2176d6 of _0x10ca5a){await handleDeleteQuiz(_0x2176d6,![]);}_0xf8e89c[_0x38863d(0x70d)](_0x590d47),await _0xf8e89c[_0x38863d(0x521)](),showMessage('ลบโปรเจค\x20\x22'+_0x16019e+_0x38863d(0x6af)),showBlueprintProjects();}catch(_0x44e79a){console[_0x38863d(0x96)]('Error\x20during\x20deep\x20delete:',_0x44e79a),showMessage(_0x38863d(0x4d0));}});}async function openTopicQuizBank(_0x3d81f6){const _0x601b6c=_0x1ca595,_0xf5acd3=document[_0x601b6c(0xcac)](_0x601b6c(0x202)),_0xc3dd66=document['getElementById'](_0x601b6c(0x449)),_0x43b1e7=document[_0x601b6c(0xcac)](_0x601b6c(0x4e7));try{await ensureGlobalQuizzesLoaded();const _0x3a496b=doc(db,'artifacts/'+appId+_0x601b6c(0x30f),currentBlueprintProjectId),_0x5376eb=await getDoc(_0x3a496b);if(!_0x5376eb[_0x601b6c(0xa2b)]())return;const _0x4b3cbd=_0x5376eb[_0x601b6c(0xb6)](),_0x1990a7=_0x4b3cbd[_0x601b6c(0x9a5)][_0x3d81f6];document['getElementById'](_0x601b6c(0xcba))[_0x601b6c(0xc84)]=_0x1990a7['subTopic'];const _0x4ee410=_0x1990a7['linkedQuizIds']||[];_0x43b1e7[_0x601b6c(0x325)][_0x601b6c(0x1a3)](_0x601b6c(0x60b),_0x4ee410[_0x601b6c(0x1d6)]===0x0),_0x43b1e7[_0x601b6c(0x733)]=()=>handleClearAllLinksForTopic(_0x3d81f6);if(_0x4ee410['length']===0x0)_0xc3dd66['innerHTML']=_0x601b6c(0x505);else{const _0x4be05c=allQuizzesGlobal[_0x601b6c(0xa00)](_0x5f56f9=>_0x4ee410[_0x601b6c(0x39b)](_0x5f56f9['id']));_0xc3dd66['innerHTML']=_0x4be05c[_0x601b6c(0x201)](_0x455c8a=>_0x601b6c(0x213)+_0x455c8a['id']+_0x601b6c(0x34c)+_0x455c8a[_0x601b6c(0xa64)]+_0x601b6c(0xbd9)+_0x455c8a['id']+'\x20|\x20'+_0x455c8a['questions'][_0x601b6c(0x1d6)]+_0x601b6c(0x4e1)+_0x455c8a['id']+_0x601b6c(0x2b8)+_0x455c8a['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x455c8a['id']+_0x601b6c(0x5e8)+_0x455c8a['id']+_0x601b6c(0x564)+_0x455c8a['id']+_0x601b6c(0xa8e)+_0x455c8a['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22'+_0x3d81f6+_0x601b6c(0x1c4)+_0x455c8a['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x601b6c(0xa88)]('');}document['getElementById'](_0x601b6c(0xc5e))[_0x601b6c(0x733)]=()=>{openQuizSelectorForBlueprint(_0x3d81f6);},document['getElementById']('close-topic-bank-btn')[_0x601b6c(0x733)]=()=>_0xf5acd3['classList'][_0x601b6c(0xd3c)]('hidden'),_0xf5acd3['classList'][_0x601b6c(0x419)](_0x601b6c(0x60b));}catch(_0x14df78){showMessage(_0x14df78['message']);}}async function openQuizSelectorForBlueprint(_0x3aea5c){const _0x2bd81b=_0x1ca595,_0x18ebcb=document['getElementById']('quiz-bank-modal'),_0x5caee8=document['getElementById'](_0x2bd81b(0x202));_0x5caee8[_0x2bd81b(0x325)][_0x2bd81b(0xd3c)]('hidden'),document[_0x2bd81b(0xcac)](_0x2bd81b(0x177))?.[_0x2bd81b(0x419)]();const _0xc41d5c=document[_0x2bd81b(0x845)](_0x2bd81b(0x153));_0xc41d5c['id']=_0x2bd81b(0x177),_0xc41d5c[_0x2bd81b(0x5c4)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0xc41d5c[_0x2bd81b(0xc84)]=_0x2bd81b(0x507),_0xc41d5c[_0x2bd81b(0x25a)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x18ebcb[_0x2bd81b(0x325)]['remove']('hidden'),renderQuizBankListForMultiSelect(''),document[_0x2bd81b(0xcac)](_0x2bd81b(0x44a))[_0x2bd81b(0x300)][_0x2bd81b(0xa0e)]='none',_0x18ebcb[_0x2bd81b(0xb49)](_0x2bd81b(0x3a0))[_0x2bd81b(0x1d2)](_0xc41d5c);const _0x47f0f5=(_0x152b8a=![])=>{const _0x54beb6=_0x2bd81b;_0x18ebcb[_0x54beb6(0x325)][_0x54beb6(0xd3c)](_0x54beb6(0x60b)),document[_0x54beb6(0xcac)](_0x54beb6(0x44a))[_0x54beb6(0x300)]['display']='flex',_0xc41d5c[_0x54beb6(0x419)](),_0x152b8a&&openTopicQuizBank(_0x3aea5c);};_0xc41d5c[_0x2bd81b(0x733)]=async()=>{const _0x51635c=_0x2bd81b,_0x773e0b=Array[_0x51635c(0x6ca)](document[_0x51635c(0x20a)](_0x51635c(0x9ed)))[_0x51635c(0x201)](_0x501313=>_0x501313[_0x51635c(0x41e)]);if(_0x773e0b[_0x51635c(0x1d6)]===0x0)return;try{const _0x5a71f3=doc(db,_0x51635c(0x54a)+appId+_0x51635c(0x30f),currentBlueprintProjectId),_0x503ca9=(await getDoc(_0x5a71f3))[_0x51635c(0xb6)](),_0x110b53=_0x503ca9[_0x51635c(0x9a5)][_0x3aea5c]['linkedQuizIds']||[],_0x30c3fe=[...new Set([..._0x110b53,..._0x773e0b])];await updateDoc(_0x5a71f3,{[_0x51635c(0x47e)+_0x3aea5c+_0x51635c(0xc83)]:_0x30c3fe}),showMessage('เพิ่ม\x20'+_0x773e0b[_0x51635c(0x1d6)]+_0x51635c(0x60c)),_0x47f0f5(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x210214){console[_0x51635c(0x96)](_0x51635c(0x6a1),_0x210214);}},document[_0x2bd81b(0xcac)](_0x2bd81b(0xca9))[_0x2bd81b(0x733)]=()=>_0x47f0f5(!![]);}catch(_0x109a31){showMessage(_0x109a31[_0x2bd81b(0xaee)]),_0x5caee8[_0x2bd81b(0x325)][_0x2bd81b(0x419)](_0x2bd81b(0x60b));}}function handleClearLinkedQuiz(_0x27c021){const _0x4a4b04=_0x1ca595;showConfirmation(_0x4a4b04(0x33a),async()=>{const _0x5d0b39=_0x4a4b04;try{const _0x3b985d=doc(db,_0x5d0b39(0x54a)+appId+_0x5d0b39(0x30f),currentBlueprintProjectId);await updateDoc(_0x3b985d,{['topics.'+_0x27c021+_0x5d0b39(0x97b)]:deleteField()}),showMessage(_0x5d0b39(0xc28)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1bea2f){console[_0x5d0b39(0x96)](_0x5d0b39(0x44b),_0x1bea2f),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x3a092b=_0x1ca595,_0x8a3e1=prompt(_0x3a092b(0x839));if(!_0x8a3e1||_0x8a3e1[_0x3a092b(0x964)]()==='')return;const _0x52956e=prompt(_0x3a092b(0x690),_0x3a092b(0xc21)),_0x5e19c7=prompt(_0x3a092b(0x8c7),_0x3a092b(0xb7)),_0x3d0ff7='topic_'+Date['now']()+Math[_0x3a092b(0x6b8)]()['toString'](0x24)[_0x3a092b(0x720)](0x2,0x9),_0x261a20={'sara':_0x52956e,'mainTopic':_0x5e19c7,'subTopic':_0x8a3e1[_0x3a092b(0x964)](),'status':_0x3a092b(0xb58),'lessonContent':null};try{const _0x47709f=doc(db,_0x3a092b(0x54a)+appId+_0x3a092b(0x30f),currentBlueprintProjectId);await updateDoc(_0x47709f,{[_0x3a092b(0x47e)+_0x3d0ff7]:_0x261a20}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x458c3b){console[_0x3a092b(0x96)](_0x3a092b(0xada),_0x458c3b),showMessage(_0x3a092b(0xd8d));}}async function editTopicInProject(_0x48786f){const _0x35ba8f=_0x1ca595,_0x32b712=document[_0x35ba8f(0xb49)](_0x35ba8f(0xbb2)+_0x48786f+'\x22]'),_0x421e32=_0x32b712['querySelector'](_0x35ba8f(0xae)),_0x2fbd28=_0x421e32['textContent'],_0x5b424a=prompt(_0x35ba8f(0xc37),_0x2fbd28);if(!_0x5b424a||_0x5b424a[_0x35ba8f(0x964)]()===''||_0x5b424a[_0x35ba8f(0x964)]()===_0x2fbd28)return;try{const _0x3cd77a=doc(db,_0x35ba8f(0x54a)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x3cd77a,{[_0x35ba8f(0x47e)+_0x48786f+_0x35ba8f(0x75b)]:_0x5b424a[_0x35ba8f(0x964)]()}),_0x421e32[_0x35ba8f(0xc84)]=_0x5b424a[_0x35ba8f(0x964)](),showMessage(_0x35ba8f(0xb91));}catch(_0x37f2af){console[_0x35ba8f(0x96)](_0x35ba8f(0x95d),_0x37f2af),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x2969c6){const _0x3fa4c4=_0x1ca595;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x1c79fc=doc(db,_0x3fa4c4(0x54a)+appId+_0x3fa4c4(0x30f),currentBlueprintProjectId);await updateDoc(_0x1c79fc,{[_0x3fa4c4(0x47e)+_0x2969c6]:deleteField()}),document[_0x3fa4c4(0xb49)](_0x3fa4c4(0xbb2)+_0x2969c6+'\x22]')['remove'](),showMessage(_0x3fa4c4(0xa87));}catch(_0x7f9bed){console['error'](_0x3fa4c4(0x4b1),_0x7f9bed),showMessage(_0x3fa4c4(0x4d9));}}async function generateAndSaveLessonForBlueprint(_0x41ed1f,_0x470705,_0x32bef3){handleGenerateAndShowLesson(_0x470705,_0x32bef3);const _0x574ec9=setInterval(async()=>{const _0x18cd70=_0x2406,_0x1f4e7e=document[_0x18cd70(0xcac)](_0x18cd70(0xb3d)),_0x316ba0=_0x1f4e7e['classList'][_0x18cd70(0x9e8)](_0x18cd70(0x60b));if(_0x316ba0){clearInterval(_0x574ec9);if(currentApplicationData&&currentApplicationData[_0x18cd70(0x1d6)]>0x0){const _0x3ab3b7={'point':document[_0x18cd70(0xcac)](_0x18cd70(0xc81))[_0x18cd70(0xcaa)],'memory':document['getElementById'](_0x18cd70(0x669))[_0x18cd70(0xcaa)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x18cd70(0xcac)](_0x18cd70(0x8c9))['innerHTML']};try{const _0x8924eb=doc(db,_0x18cd70(0x54a)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x55d0ad=doc(db,'artifacts/'+appId+_0x18cd70(0xa44)+currentBlueprintProjectId+_0x18cd70(0x191),_0x41ed1f),_0x3815e6=writeBatch(db);_0x3815e6[_0x18cd70(0x499)](_0x55d0ad,{'content':_0x3ab3b7}),_0x3815e6[_0x18cd70(0xaa8)](_0x8924eb,{[_0x18cd70(0x47e)+_0x41ed1f+_0x18cd70(0x410)]:_0x18cd70(0x7c1)}),await _0x3815e6[_0x18cd70(0x521)](),console['log'](_0x18cd70(0x565)+_0x41ed1f+_0x18cd70(0x5ee)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x39676b){console['error'](_0x18cd70(0x9e3),_0x39676b);}}}},0x3e8);}function displayHalfMarkResult(_0x25964e,_0x2cd366){const _0x2b4bcd=_0x1ca595,_0x4ba0f3=_0x25964e>=_0x2cd366/0x2,_0x5d68dc=_0x4ba0f3?_0x2b4bcd(0x88c):_0x2b4bcd(0x491),_0x99e7a6=_0x4ba0f3?_0x2b4bcd(0x9e9):_0x2b4bcd(0x533),_0x5ed98b=_0x4ba0f3?_0x2b4bcd(0x260):_0x2b4bcd(0x9e6),_0x54e0b5=_0x4ba0f3?_0x2b4bcd(0x5bb):_0x2b4bcd(0x20c),_0x24a604=_0x4ba0f3?_0x2b4bcd(0x230):_0x2b4bcd(0xa9b);let _0x50a14e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x5d68dc+_0x2b4bcd(0x5a6)+_0x99e7a6+_0x2b4bcd(0x6e3)+_0x5ed98b+_0x2b4bcd(0x39f)+_0x54e0b5+_0x2b4bcd(0x4d6)+_0x24a604+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x2b4bcd(0xcaa)]=_0x50a14e,studentResultArea[_0x2b4bcd(0x325)][_0x2b4bcd(0x419)](_0x2b4bcd(0x60b)),studentQuizArea[_0x2b4bcd(0x325)][_0x2b4bcd(0xd3c)](_0x2b4bcd(0x60b)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x4ba0f3});}function displayPerfectScoreResult(_0x19d371,_0xc30835){const _0x165341=_0x1ca595,_0x50acfb=_0x19d371===_0xc30835,_0x49ee42=_0x50acfb?_0x165341(0xdc):_0x165341(0x4b5),_0x3a6538=_0x50acfb?_0x165341(0x2ce):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0xd9d07d=_0x50acfb?_0x165341(0xaad):_0x165341(0x82b),_0x7976f3=_0x50acfb?_0x165341(0x906):_0x165341(0xa1a),_0x2f1c21=_0x50acfb?_0x165341(0x7e5):_0x165341(0xd8a);let _0x2ac6ae=_0x165341(0x9ba)+_0x49ee42+_0x165341(0x5a6)+_0x3a6538+_0x165341(0x6e3)+_0xd9d07d+_0x165341(0x39f)+_0x7976f3+_0x165341(0x4d6)+_0x2f1c21+_0x165341(0x11e);studentResultArea[_0x165341(0xcaa)]=_0x2ac6ae,studentResultArea[_0x165341(0x325)][_0x165341(0x419)](_0x165341(0x60b)),studentQuizArea[_0x165341(0x325)][_0x165341(0xd3c)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x19d371,'totalQuestions':_0xc30835});}function renderIndividualComparisonTable(_0x43629d,_0x4450ad){const _0x2a1af2=_0x1ca595;_0x43629d[_0x2a1af2(0xb2f)]((_0x439fb3,_0x3e286d)=>(_0x3e286d['tGain']??-Infinity)-(_0x439fb3[_0x2a1af2(0x7c2)]??-Infinity));let _0x525185=_0x2a1af2(0x965);_0x43629d[_0x2a1af2(0x1d6)]===0x0?_0x525185+=_0x2a1af2(0x7e0):_0x43629d['forEach']((_0x529e04,_0x1c9078)=>{const _0xa2d1f4=_0x2a1af2;let _0xd8e6f5='-',_0x3f8595='';if(_0x529e04[_0xa2d1f4(0xd61)]!==null){const _0x104400=_0x529e04['gain']>0x0?_0xa2d1f4(0x652):_0x529e04[_0xa2d1f4(0xd61)]<0x0?_0xa2d1f4(0x5bf):_0xa2d1f4(0xa99),_0x3849b0=_0x529e04['gain']>0x0?'+':'';_0xd8e6f5=_0xa2d1f4(0x108)+_0x104400+'\x22>'+_0x3849b0+_0x529e04[_0xa2d1f4(0xd61)]+_0xa2d1f4(0x3c1);if(_0x529e04[_0xa2d1f4(0xd61)]>0x0)_0x3f8595=_0xa2d1f4(0x9cd);else _0x529e04[_0xa2d1f4(0xd61)]<0x0?_0x3f8595=_0xa2d1f4(0x51f):_0x3f8595=_0xa2d1f4(0x89b);}let _0x5acbc0='-';if(_0x529e04[_0xa2d1f4(0x7c2)]!==null){const _0xd3f7d1=_0x529e04['tGain']>0x0?'text-green-600':_0x529e04[_0xa2d1f4(0x7c2)]<0x0?_0xa2d1f4(0x5bf):_0xa2d1f4(0xa99),_0x3444e5=_0x529e04[_0xa2d1f4(0x7c2)]>0x0?'+':'';_0x5acbc0=_0xa2d1f4(0x108)+_0xd3f7d1+'\x22>'+_0x3444e5+_0x529e04[_0xa2d1f4(0x7c2)][_0xa2d1f4(0x84e)](0x2)+_0xa2d1f4(0x3c1);}_0x525185+=_0xa2d1f4(0xd79)+(_0x1c9078+0x1)+_0xa2d1f4(0x555)+_0x529e04['name']+_0xa2d1f4(0x463)+(_0x529e04[_0xa2d1f4(0xa0)]??'-')+_0xa2d1f4(0xae8)+(_0x529e04[_0xa2d1f4(0x78d)]??'-')+_0xa2d1f4(0x463)+_0xd8e6f5+_0xa2d1f4(0xc85)+_0x3f8595+_0xa2d1f4(0xcbc)+(_0x529e04[_0xa2d1f4(0xcdc)]?.[_0xa2d1f4(0x84e)](0x2)??'-')+_0xa2d1f4(0x30e)+(_0x529e04[_0xa2d1f4(0xa90)]?.['toFixed'](0x2)??'-')+_0xa2d1f4(0x463)+_0x5acbc0+_0xa2d1f4(0x815);}),_0x525185+=_0x2a1af2(0x659),_0x4450ad['innerHTML']=_0x525185;}function handleRenameQuiz(_0x78d792,_0x4254f7){const _0x141623=_0x1ca595;actionTargetId=_0x78d792,document[_0x141623(0xcac)](_0x141623(0x147))['value']=_0x4254f7,renameQuizModal[_0x141623(0x325)][_0x141623(0x419)](_0x141623(0x60b));}function setupComparisonModalTabs(){const _0x447f06=_0x1ca595,_0x587071=document[_0x447f06(0xcac)](_0x447f06(0x940)),_0x5bc663=document[_0x447f06(0xcac)](_0x447f06(0x5ad)),_0x5d315b=document[_0x447f06(0xcac)](_0x447f06(0xbd5)),_0x3fb752=document[_0x447f06(0xcac)]('comparison-individual-content');_0x587071['addEventListener'](_0x447f06(0xc47),()=>{const _0x154d0d=_0x447f06;_0x587071[_0x154d0d(0x325)][_0x154d0d(0xd3c)](_0x154d0d(0x6a2)),_0x5bc663['classList'][_0x154d0d(0x419)](_0x154d0d(0x6a2)),_0x5d315b[_0x154d0d(0x325)][_0x154d0d(0x419)](_0x154d0d(0x60b)),_0x3fb752[_0x154d0d(0x325)]['add'](_0x154d0d(0x60b));}),_0x5bc663[_0x447f06(0x8d3)](_0x447f06(0xc47),()=>{const _0x15fc4a=_0x447f06;_0x5bc663[_0x15fc4a(0x325)][_0x15fc4a(0xd3c)]('active'),_0x587071[_0x15fc4a(0x325)][_0x15fc4a(0x419)](_0x15fc4a(0x6a2)),_0x3fb752[_0x15fc4a(0x325)]['remove'](_0x15fc4a(0x60b)),_0x5d315b['classList'][_0x15fc4a(0xd3c)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x3147ac=_0x1ca595;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0xafda1c=doc(db,'artifacts/'+appId+_0x3147ac(0x894),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xafda1c,_0x4bcc1d=>{const _0x328fdb=_0x3147ac;if(!_0x4bcc1d[_0x328fdb(0xa2b)]()){showMessage(_0x328fdb(0xa07));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x328fdb(0x4a6)):showView(_0x328fdb(0xb63));return;}const _0x38f322=_0x4bcc1d[_0x328fdb(0xb6)]();_0x38f322[_0x328fdb(0xc09)]&&(currentQuizData=_0x38f322[_0x328fdb(0xc09)]);!currentQuizData&&_0x38f322[_0x328fdb(0x57b)]&&((async()=>{const _0x15bbb9=_0x328fdb;try{const _0x2764a4=doc(db,_0x15bbb9(0x54a)+appId+_0x15bbb9(0xa62),_0x38f322['quizId']),_0x15a419=await getDoc(_0x2764a4);_0x15a419[_0x15bbb9(0xa2b)]()&&(currentQuizData={'id':_0x15a419['id'],..._0x15a419['data']()});}catch(_0x459ae8){console[_0x15bbb9(0x96)](_0x15bbb9(0x12d),_0x459ae8);}})());switch(_0x38f322['status']){case _0x328fdb(0xc7a):if(currentMode===_0x328fdb(0x28d)){const _0x23fd60=_0x38f322['players']?Object[_0x328fdb(0xb45)](_0x38f322[_0x328fdb(0x1ff)]):[],_0x28f614=_0x23fd60[_0x328fdb(0xa00)](([_0xc5a1de,_0x5c14ea])=>_0x5c14ea[_0x328fdb(0x670)]===_0x328fdb(0x6a2)),_0x324b11=document[_0x328fdb(0xcac)]('player-count');if(_0x324b11)_0x324b11[_0x328fdb(0xc84)]=_0x28f614[_0x328fdb(0x1d6)];const _0x1f7a99=document[_0x328fdb(0xcac)](_0x328fdb(0x1c5));_0x1f7a99&&(_0x1f7a99[_0x328fdb(0xcaa)]=_0x28f614[_0x328fdb(0x201)](([_0x13800c,_0x4d39d3])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x13800c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x13800c+_0x328fdb(0xeb))[_0x328fdb(0xa88)](''));const _0x34834c=document['getElementById'](_0x328fdb(0x4ac));_0x34834c&&(_0x34834c[_0x328fdb(0x25a)]=_0x28f614[_0x328fdb(0x1d6)]===0x0);}else showView(_0x328fdb(0x6fe)),liveGameView[_0x328fdb(0xcaa)]=_0x328fdb(0x35e)+currentStudentName+_0x328fdb(0x9fc);break;case'question':const _0x53a36c=_0x38f322['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x328fdb(0xbfe)][_0x53a36c]){const _0x1da702=currentQuizData[_0x328fdb(0xbfe)][_0x53a36c],_0x330bf3=_0x38f322[_0x328fdb(0x51d)]||_0x328fdb(0x6e5);switch(_0x330bf3){case _0x328fdb(0xa92):currentMode===_0x328fdb(0x28d)?showAdminSummaryView(_0x38f322,_0x1da702):showPlayerSummaryView(_0x38f322,currentStudentName);break;case _0x328fdb(0x847):currentMode==='admin'&&showTop5LeaderboardView(_0x38f322);break;case _0x328fdb(0x6e5):default:if(currentMode==='admin'){const _0x244537=writeBatch(db);let _0x19fb21=![];Object['entries'](_0x38f322['players'])[_0x328fdb(0x99f)](([_0x16a674,_0x5935e3])=>{const _0x14d292=_0x328fdb;if(_0x5935e3['status']===_0x14d292(0x6a2)&&_0x5935e3['submittedAt']&&!_0x5935e3[_0x14d292(0xc69)]){_0x19fb21=!![];const _0x436b7f=_0x5935e3[_0x14d292(0x85d)]['toDate']()-_0x38f322[_0x14d292(0xb0e)]['toDate']();let _0x116167=0x0;if(_0x5935e3[_0x14d292(0x607)]){const _0x473bfc=0x3e8,_0x5730a1=0x1f4,_0x52fa4b=0x4e20;let _0x1ac9c2=_0x436b7f/_0x52fa4b;if(_0x1ac9c2>0x1)_0x1ac9c2=0x1;const _0x51e69f=Math[_0x14d292(0xc07)](_0x1ac9c2*_0x5730a1);_0x116167=_0x473bfc-_0x51e69f;}const _0x3baf0b=doc(db,_0x14d292(0x54a)+appId+_0x14d292(0x894),currentLiveGameId);_0x244537[_0x14d292(0xaa8)](_0x3baf0b,{[_0x14d292(0x8d5)+_0x16a674+_0x14d292(0x44e)]:increment(_0x116167),[_0x14d292(0x8d5)+_0x16a674+_0x14d292(0x7ae)]:_0x116167,[_0x14d292(0x8d5)+_0x16a674+_0x14d292(0x7fb)]:!![]});}});_0x19fb21&&_0x244537[_0x328fdb(0x521)]()['catch'](_0x263fe6=>console[_0x328fdb(0x96)]('Error\x20committing\x20score\x20updates:',_0x263fe6));lastRenderedAdminQuestionIndex!==_0x53a36c&&(showAdminLiveQuestionView(_0x1da702,_0x53a36c,currentQuizData[_0x328fdb(0xbfe)][_0x328fdb(0x1d6)]),lastRenderedAdminQuestionIndex=_0x53a36c);const _0x227a7b=_0x38f322[_0x328fdb(0x1ff)]||{},_0x384b9f=Object['values'](_0x227a7b)[_0x328fdb(0xa00)](_0x5d4498=>_0x5d4498[_0x328fdb(0x670)]===_0x328fdb(0x6a2)),_0x56b199=_0x384b9f[_0x328fdb(0x1d6)],_0x5016ee=_0x384b9f['filter'](_0x274f58=>_0x274f58[_0x328fdb(0x20f)]===!![])[_0x328fdb(0x1d6)],_0x42c90d=document[_0x328fdb(0xcac)](_0x328fdb(0x416));if(_0x42c90d)_0x42c90d[_0x328fdb(0xc84)]=_0x5016ee+'/'+_0x56b199;const _0x2cd29c=document[_0x328fdb(0xcac)](_0x328fdb(0x549));if(_0x2cd29c){let _0x4cce48=Object[_0x328fdb(0xb45)](_0x227a7b)[_0x328fdb(0xa00)](([_0x24e0d0,_0x3e127f])=>_0x3e127f[_0x328fdb(0x670)]===_0x328fdb(0x6a2))['map'](([_0x5d5bf6,_0x49d399])=>{const _0x42eb5b=_0x328fdb,_0x212e0b=_0x49d399[_0x42eb5b(0x20f)]===!![],_0x5c4507=_0x212e0b?_0x42eb5b(0x26d):_0x42eb5b(0x443),_0x356e2a=_0x212e0b?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x42eb5b(0xaec);return _0x42eb5b(0xd05)+_0x5c4507+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x356e2a+_0x42eb5b(0xbd)+_0x5d5bf6+_0x42eb5b(0x65d)+_0x5d5bf6+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x328fdb(0xa88)]('');_0x2cd29c[_0x328fdb(0xcaa)]=_0x4cce48||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x56b199>0x0&&_0x5016ee===_0x56b199&&revealAnswerForAdmin(_0x53a36c,currentQuizData[_0x328fdb(0xbfe)]['length']);}else{const _0x15d3df=_0x38f322[_0x328fdb(0x1ff)][currentStudentName];_0x15d3df&&!_0x15d3df[_0x328fdb(0x20f)]&&showStudentLiveQuestionView(_0x1da702,_0x53a36c,currentQuizData['questions']['length']);}break;}}break;case _0x328fdb(0x5bc):showPodiumView(_0x38f322[_0x328fdb(0x1ff)],'live-race');break;}});}async function openGlobalActivityModal(){const _0xd34ac2=_0x1ca595;if(allQuizzesGlobal['length']===0x0){const _0x16113d=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x16113d['docs']['map'](_0x258c7d=>({'id':_0x258c7d['id'],..._0x258c7d[_0xd34ac2(0xb6)]()}));}renderGlobalActivityList(''),document[_0xd34ac2(0xcac)](_0xd34ac2(0x35c))[_0xd34ac2(0x325)][_0xd34ac2(0x419)](_0xd34ac2(0x60b));}function renderGlobalActivityList(_0x55f288=''){const _0x289887=_0x1ca595,_0x572c02=document[_0x289887(0xcac)](_0x289887(0x384)),_0xc0f34c=_0x55f288[_0x289887(0x5c9)]()[_0x289887(0x964)](),_0x195c75=allQuizzesGlobal['map'](_0x2f6f12=>({..._0x2f6f12,'projectName':allProjects[_0x289887(0x2f4)](_0x2ea061=>_0x2ea061['id']===_0x2f6f12[_0x289887(0x98d)])?.[_0x289887(0x5b1)]||_0x289887(0x50e)}))[_0x289887(0xa00)](_0x11929d=>(_0x11929d[_0x289887(0xa64)]||'')[_0x289887(0x5c9)]()[_0x289887(0x39b)](_0xc0f34c)||(_0x11929d[_0x289887(0x5b1)]||'')[_0x289887(0x5c9)]()[_0x289887(0x39b)](_0xc0f34c));document[_0x289887(0xcac)]('global-quiz-count')['textContent']='('+_0x195c75[_0x289887(0x1d6)]+_0x289887(0x804),_0x572c02['innerHTML']=_0x195c75[_0x289887(0x1d6)]?_0x195c75['map'](_0x12589b=>_0x289887(0x9af)+(_0x12589b[_0x289887(0xa64)]||_0x289887(0x727))+_0x289887(0x765)+(_0x12589b[_0x289887(0xbfe)]?.[_0x289887(0x1d6)]||0x0)+_0x289887(0xb33)+_0x12589b[_0x289887(0x5b1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x12589b['id']+_0x289887(0x49c)+_0x12589b['id']+_0x289887(0x854)+_0x12589b['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x12589b['id']+_0x289887(0x311))['join'](''):_0x289887(0x19f);}async function handleKickPlayer(_0xdbd57a){const _0x407987=_0x1ca595;if(!currentLiveGameId||!_0xdbd57a)return;const _0x40de37=doc(db,_0x407987(0x54a)+appId+_0x407987(0x894),currentLiveGameId),_0x4671e2={};_0x4671e2['players.'+_0xdbd57a+_0x407987(0x410)]=_0x407987(0xc3f);try{await updateDoc(_0x40de37,_0x4671e2);}catch(_0x11133e){console['error']('Failed\x20to\x20kick\x20player\x20'+_0xdbd57a+':',_0x11133e),showMessage(_0x407987(0x876));}}async function authenticateUser(){const _0x4b98d5=_0x1ca595;try{typeof __initial_auth_token!==_0x4b98d5(0x502)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x24c79f){console[_0x4b98d5(0x96)](_0x4b98d5(0x972),_0x24c79f),showMessage(_0x4b98d5(0xa47));}}function showView(_0x417d50){const _0x54dd6f=_0x1ca595;adminView['classList']['add'](_0x54dd6f(0x60b)),studentView[_0x54dd6f(0x325)][_0x54dd6f(0xd3c)](_0x54dd6f(0x60b)),projectDashboardView[_0x54dd6f(0x325)]['add'](_0x54dd6f(0x60b)),projectDetailView[_0x54dd6f(0x325)][_0x54dd6f(0xd3c)](_0x54dd6f(0x60b)),quizResultsView['classList'][_0x54dd6f(0xd3c)](_0x54dd6f(0x60b)),liveGameView[_0x54dd6f(0x325)][_0x54dd6f(0xd3c)](_0x54dd6f(0x60b)),document['getElementById']('blueprint-project-manager-view')[_0x54dd6f(0x325)][_0x54dd6f(0xd3c)]('hidden'),studentInitialView[_0x54dd6f(0x325)]['add'](_0x54dd6f(0x60b)),studentJoinGameView['classList'][_0x54dd6f(0xd3c)](_0x54dd6f(0x60b)),studentNameSelectionView[_0x54dd6f(0x325)][_0x54dd6f(0xd3c)](_0x54dd6f(0x60b)),studentQuizArea[_0x54dd6f(0x325)]['add'](_0x54dd6f(0x60b)),studentResultArea[_0x54dd6f(0x325)][_0x54dd6f(0xd3c)](_0x54dd6f(0x60b)),studentReadingArea['classList'][_0x54dd6f(0xd3c)]('hidden');const _0x451b6f=document['getElementById'](_0x54dd6f(0x8bb)),_0x5757f6=document[_0x54dd6f(0xcac)](_0x54dd6f(0x5f8));if(_0x451b6f)_0x451b6f[_0x54dd6f(0x325)]['add'](_0x54dd6f(0x60b));if(_0x5757f6)_0x5757f6[_0x54dd6f(0x325)]['add'](_0x54dd6f(0x60b));switch(_0x417d50){case _0x54dd6f(0xa94):adminView[_0x54dd6f(0x325)][_0x54dd6f(0x419)](_0x54dd6f(0x60b)),projectDashboardView[_0x54dd6f(0x325)][_0x54dd6f(0x419)](_0x54dd6f(0x60b));break;case _0x54dd6f(0x4a6):adminView['classList'][_0x54dd6f(0x419)](_0x54dd6f(0x60b)),projectDetailView[_0x54dd6f(0x325)][_0x54dd6f(0x419)]('hidden');break;case _0x54dd6f(0x490):adminView[_0x54dd6f(0x325)][_0x54dd6f(0x419)](_0x54dd6f(0x60b)),quizResultsView[_0x54dd6f(0x325)][_0x54dd6f(0x419)]('hidden');break;case'student':studentView[_0x54dd6f(0x325)][_0x54dd6f(0x419)]('hidden'),studentInitialView[_0x54dd6f(0x325)][_0x54dd6f(0x419)](_0x54dd6f(0x60b));break;case _0x54dd6f(0x6fe):liveGameView[_0x54dd6f(0x325)][_0x54dd6f(0x419)](_0x54dd6f(0x60b));break;case _0x54dd6f(0x7aa):studentView[_0x54dd6f(0x325)][_0x54dd6f(0x419)](_0x54dd6f(0x60b));if(_0x451b6f)_0x451b6f[_0x54dd6f(0x325)][_0x54dd6f(0x419)]('hidden');break;case _0x54dd6f(0x5eb):studentView[_0x54dd6f(0x325)][_0x54dd6f(0x419)](_0x54dd6f(0x60b));if(_0x5757f6)_0x5757f6[_0x54dd6f(0x325)][_0x54dd6f(0x419)](_0x54dd6f(0x60b));break;default:studentView['classList'][_0x54dd6f(0x419)](_0x54dd6f(0x60b)),studentInitialView[_0x54dd6f(0x325)][_0x54dd6f(0x419)](_0x54dd6f(0x60b));break;}}function showJoinGameView(){const _0x285411=_0x1ca595;studentInitialView[_0x285411(0x325)]['add'](_0x285411(0x60b)),studentJoinGameView[_0x285411(0x325)]['remove'](_0x285411(0x60b));}async function handleSaveVisibilitySettings(){const _0x535d0f=_0x1ca595;if(!currentProjectId)return;const _0x520adb=doc(db,_0x535d0f(0x54a)+appId+_0x535d0f(0x737),currentProjectId);try{await updateDoc(_0x520adb,{'settings.showInStudentDashboard':document[_0x535d0f(0xcac)]('show-in-student-dashboard-checkbox')[_0x535d0f(0xa81)],'settings.isPasscodeEnabled':document[_0x535d0f(0xcac)](_0x535d0f(0xd3d))['checked'],'settings.passcode':document['getElementById'](_0x535d0f(0xa40))[_0x535d0f(0x41e)]['trim']()}),showMessage(_0x535d0f(0x382));}catch(_0x5bc451){console['error'](_0x535d0f(0x40b),_0x5bc451),showMessage(_0x535d0f(0xcb6));}}function setupEventListeners(){const _0x18f18a=_0x1ca595,_0x44d77b=document['getElementById'](_0x18f18a(0xbb4));_0x44d77b&&_0x44d77b[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x1593e2=_0x18f18a,_0x52fc6b=document[_0x1593e2(0xcac)](_0x1593e2(0xb0f)),_0xb9eb0e=document[_0x1593e2(0xcac)](_0x1593e2(0x583));_0x52fc6b&&(_0x52fc6b[_0x1593e2(0x41e)]=_0x52fc6b['max'],_0xb9eb0e&&(_0xb9eb0e[_0x1593e2(0xc84)]=_0x52fc6b[_0x1593e2(0x41e)],_0xb9eb0e[_0x1593e2(0x325)][_0x1593e2(0x419)](_0x1593e2(0xc8a)),void _0xb9eb0e[_0x1593e2(0x81a)],_0xb9eb0e[_0x1593e2(0x325)][_0x1593e2(0xd3c)](_0x1593e2(0x2dd),_0x1593e2(0x52b),_0x1593e2(0xc8a),_0x1593e2(0x5bf)),setTimeout(()=>_0xb9eb0e[_0x1593e2(0x325)][_0x1593e2(0x419)](_0x1593e2(0xc8a),'text-red-600'),0xc8)));});document[_0x18f18a(0xcac)]('cancel-wager-btn')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x2d230c=_0x18f18a;document[_0x2d230c(0xcac)](_0x2d230c(0xa35))[_0x2d230c(0x325)][_0x2d230c(0xd3c)]('hidden');}),document['getElementById'](_0x18f18a(0x996))['addEventListener']('click',()=>{const _0xd88ce5=_0x18f18a,_0x278d5d=document['getElementById'](_0xd88ce5(0xa35)),_0x22ea47=document[_0xd88ce5(0xcac)]('selected-answer-index-hidden-wager'),_0x6523a6=document[_0xd88ce5(0xcac)](_0xd88ce5(0xb0f))[_0xd88ce5(0x41e)],_0x4c9ce3=_0x22ea47[_0xd88ce5(0x1e8)][_0xd88ce5(0xc45)],_0x40e30b=JSON[_0xd88ce5(0x444)](_0x22ea47[_0xd88ce5(0x1e8)]['question']),_0x36b737=JSON[_0xd88ce5(0x444)](_0x22ea47[_0xd88ce5(0x1e8)][_0xd88ce5(0x57e)]),_0x2e6b8d=_0x22ea47['dataset'][_0xd88ce5(0xbcd)];_0x278d5d['classList']['add']('hidden'),handleSyncAnswerSubmit(_0x4c9ce3,_0x40e30b,_0x36b737,_0x2e6b8d,![],_0x6523a6);}),document[_0x18f18a(0x20a)](_0x18f18a(0x746))[_0x18f18a(0x99f)](_0x4a7c07=>{const _0x26f0cf=_0x18f18a;_0x4a7c07[_0x26f0cf(0x8d3)](_0x26f0cf(0x394),_0x48da99=>{const _0x28ddfd=_0x26f0cf,_0x249a0b=document[_0x28ddfd(0xcac)](_0x28ddfd(0x43b));_0x48da99[_0x28ddfd(0x615)][_0x28ddfd(0x41e)]==='anonymous'?_0x249a0b[_0x28ddfd(0x325)][_0x28ddfd(0x419)](_0x28ddfd(0x60b)):_0x249a0b[_0x28ddfd(0x325)][_0x28ddfd(0xd3c)](_0x28ddfd(0x60b));});}),document[_0x18f18a(0xcac)](_0x18f18a(0x58d))[_0x18f18a(0x8d3)](_0x18f18a(0x394),_0x3de0c1=>{const _0xd963dd=_0x18f18a;document['getElementById'](_0xd963dd(0x799))[_0xd963dd(0x325)][_0xd963dd(0x1a3)](_0xd963dd(0x60b),!_0x3de0c1[_0xd963dd(0x615)][_0xd963dd(0xa81)]);});const _0x53ba2f=document[_0x18f18a(0xcac)]('cancel-confidence-btn'),_0x43e91e=document['getElementById']('confidence-modal');_0x53ba2f&&_0x43e91e&&_0x53ba2f[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x12d7d7=_0x18f18a;_0x43e91e[_0x12d7d7(0x325)][_0x12d7d7(0xd3c)](_0x12d7d7(0x60b)),_0x43e91e[_0x12d7d7(0x1e8)]['currentMode']='';});const _0x5d586a=document[_0x18f18a(0xcac)](_0x18f18a(0xb69));_0x5d586a&&(_0x5d586a[_0x18f18a(0x8d3)]('mousedown',wakeUpScreen),_0x5d586a[_0x18f18a(0x8d3)](_0x18f18a(0x3a5),wakeUpScreen));document['getElementById']('save-bp-reference-btn')[_0x18f18a(0x8d3)]('click',async()=>{const _0x577c6c=_0x18f18a;if(!currentBlueprintProjectId)return;const _0x3a470a=document['getElementById'](_0x577c6c(0x5bd))[_0x577c6c(0x41e)][_0x577c6c(0x964)](),_0xef1050=doc(db,_0x577c6c(0x54a)+appId+_0x577c6c(0x30f),currentBlueprintProjectId);try{await updateDoc(_0xef1050,{'referenceFileUrl':_0x3a470a}),showMessage(_0x577c6c(0x345));}catch(_0x1332b1){console['error'](_0x577c6c(0x64d),_0x1332b1),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document['getElementById'](_0x18f18a(0xbec))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleAddParallelShortcutTab),document[_0x18f18a(0xcac)]('parallel-test-input-area')[_0x18f18a(0x8d3)]('click',_0x2b43a8=>{const _0x398687=_0x18f18a;_0x2b43a8['target'][_0x398687(0x2d3)](_0x398687(0xa7e))&&(activeParallelShortcutTabId=_0x398687(0xa12),renderAdditionalParallelShortcutsModal(),document[_0x398687(0xcac)]('additional-parallel-shortcuts-modal')[_0x398687(0x325)][_0x398687(0x419)](_0x398687(0x60b)));}),document['getElementById'](_0x18f18a(0x269))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0xd011e1=_0x18f18a;document[_0xd011e1(0xcac)](_0xd011e1(0x70b))[_0xd011e1(0x325)][_0xd011e1(0xd3c)](_0xd011e1(0x60b));}),document[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x4ba199=>{const _0x1edc24=_0x18f18a;!_0x4ba199[_0x1edc24(0x615)][_0x1edc24(0x2d3)](_0x1edc24(0x19b))&&document[_0x1edc24(0x20a)](_0x1edc24(0x17a))[_0x1edc24(0x99f)](_0x4b305a=>_0x4b305a[_0x1edc24(0x325)][_0x1edc24(0xd3c)](_0x1edc24(0x60b)));}),document[_0x18f18a(0xcac)](_0x18f18a(0x126))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleAddFileShortcutTab),document[_0x18f18a(0xcac)](_0x18f18a(0x763))[_0x18f18a(0x8d3)]('click',_0x1c92c5=>{const _0x412dd6=_0x18f18a;_0x1c92c5[_0x412dd6(0x615)][_0x412dd6(0x2d3)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId=_0x412dd6(0xa12),renderAdditionalFileShortcutsModal(),document[_0x412dd6(0xcac)](_0x412dd6(0xaf4))[_0x412dd6(0x325)][_0x412dd6(0x419)](_0x412dd6(0x60b)));}),document[_0x18f18a(0xcac)](_0x18f18a(0xc60))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x421296=_0x18f18a;document[_0x421296(0xcac)]('additional-file-shortcuts-modal')[_0x421296(0x325)]['add'](_0x421296(0x60b));}),document['addEventListener'](_0x18f18a(0xc47),_0x59d9de=>{const _0x59f95f=_0x18f18a;!_0x59d9de[_0x59f95f(0x615)]['closest'](_0x59f95f(0x75d))&&document['querySelectorAll'](_0x59f95f(0x1c6))['forEach'](_0x23584c=>_0x23584c['classList'][_0x59f95f(0xd3c)](_0x59f95f(0x60b)));}),document['getElementById'](_0x18f18a(0x8a1))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleAddShortcutTab),document[_0x18f18a(0xcac)]('parallel-shortcut-container')['addEventListener'](_0x18f18a(0xc47),_0x37350c=>{const _0x475684=_0x18f18a,_0x3df452=_0x37350c[_0x475684(0x615)][_0x475684(0x2d3)]('.parallel-shortcut-btn'),_0x1ebd42=_0x37350c[_0x475684(0x615)][_0x475684(0x2d3)](_0x475684(0xa22)),_0xc7f6b7=_0x37350c['target']['closest'](_0x475684(0xa76));if(_0x1ebd42)openParallelTestShortcutEditor(_0x1ebd42[_0x475684(0x1e8)]['id']);else{if(_0xc7f6b7){const _0x2db144=_0xc7f6b7['dataset']['id'];showConfirmation(_0x475684(0x5dc),async()=>{const _0x165f48=_0x475684,_0x1b5f5b=parallelTestShortcuts[_0x165f48(0xa00)](_0xa4c0f=>_0xa4c0f['id']!==_0x2db144),_0x301ce7=doc(db,_0x165f48(0x24b),_0x165f48(0x412));await setDoc(_0x301ce7,{'shortcuts':_0x1b5f5b},{'merge':!![]});});}else _0x3df452&&handleParallelTestShortcutClick(_0x3df452[_0x475684(0x1e8)]['id']);}}),document[_0x18f18a(0xcac)](_0x18f18a(0x947))[_0x18f18a(0x8d3)]('click',()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x18f18a(0x500))['addEventListener'](_0x18f18a(0xc47),()=>{const _0x1a8cbf=_0x18f18a;document[_0x1a8cbf(0xcac)](_0x1a8cbf(0xd06))[_0x1a8cbf(0x325)]['add']('hidden');}),document[_0x18f18a(0xcac)](_0x18f18a(0x8e4))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),saveParallelTestShortcutChanges),document['getElementById']('parallel-test-input-area')['addEventListener'](_0x18f18a(0xc47),_0x1b5821=>{const _0x5c97ef=_0x18f18a;_0x1b5821[_0x5c97ef(0x615)][_0x5c97ef(0x2d3)]('#open-additional-parallel-shortcuts-btn')&&document[_0x5c97ef(0xcac)](_0x5c97ef(0x70b))[_0x5c97ef(0x325)]['remove']('hidden');}),document[_0x18f18a(0xcac)](_0x18f18a(0x269))[_0x18f18a(0x8d3)]('click',()=>{const _0x38b270=_0x18f18a;document['getElementById'](_0x38b270(0x70b))['classList'][_0x38b270(0xd3c)](_0x38b270(0x60b));}),document[_0x18f18a(0xcac)]('additional-parallel-shortcuts-list')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x3755d9=>{const _0xeac5b9=_0x18f18a,_0x165c34=document[_0xeac5b9(0xcac)](_0xeac5b9(0x70b)),_0x197e84=_0x3755d9[_0xeac5b9(0x615)][_0xeac5b9(0x2d3)](_0xeac5b9(0xb07)),_0x251d41=_0x3755d9[_0xeac5b9(0x615)][_0xeac5b9(0x2d3)](_0xeac5b9(0x675)),_0x7645b3=_0x3755d9[_0xeac5b9(0x615)][_0xeac5b9(0x2d3)](_0xeac5b9(0x7b8));if(_0x197e84)_0x165c34[_0xeac5b9(0x325)][_0xeac5b9(0xd3c)](_0xeac5b9(0x60b)),handleParallelTestShortcutClick(_0x197e84['dataset']['id']);else{if(_0x251d41)_0x165c34[_0xeac5b9(0x325)][_0xeac5b9(0xd3c)](_0xeac5b9(0x60b)),openParallelTestShortcutEditor(_0x251d41['dataset']['id']);else{if(_0x7645b3){const _0x54f546=_0x7645b3[_0xeac5b9(0x1e8)]['id'];showConfirmation(_0xeac5b9(0x5dc),async()=>{const _0x192629=_0xeac5b9,_0x1f8344=parallelTestShortcuts[_0x192629(0xa00)](_0x1740a1=>_0x1740a1['id']!==_0x54f546),_0x2b64a8=doc(db,_0x192629(0x24b),'parallelTestShortcutsConfig');await setDoc(_0x2b64a8,{'shortcuts':_0x1f8344},{'merge':!![]});});}}}}),document[_0x18f18a(0xcac)]('file-shortcut-container')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x862cc=>{const _0x4ba979=_0x18f18a,_0x3f621b=_0x862cc[_0x4ba979(0x615)][_0x4ba979(0x2d3)](_0x4ba979(0x112)),_0x2805bb=_0x862cc[_0x4ba979(0x615)][_0x4ba979(0x2d3)]('.edit-file-shortcut-btn'),_0x309689=_0x862cc['target'][_0x4ba979(0x2d3)]('.delete-file-shortcut-btn');if(_0x2805bb)openFileShortcutEditor(_0x2805bb['dataset']['id']);else{if(_0x309689){const _0x209936=_0x309689[_0x4ba979(0x1e8)]['id'];showConfirmation(_0x4ba979(0x5dc),async()=>{const _0x4c5e99=_0x4ba979,_0x1acf7b=fileShortcuts[_0x4c5e99(0xa00)](_0x101a97=>_0x101a97['id']!==_0x209936),_0xf3ab65=doc(db,_0x4c5e99(0x24b),_0x4c5e99(0x1f5));await setDoc(_0xf3ab65,{'shortcuts':_0x1acf7b},{'merge':!![]});});}else _0x3f621b&&handleFileShortcutClick(_0x3f621b[_0x4ba979(0x1e8)]['id']);}}),document['getElementById'](_0x18f18a(0x87d))[_0x18f18a(0x8d3)]('click',()=>openFileShortcutEditor(null)),document['getElementById'](_0x18f18a(0x124))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x50fbd4=_0x18f18a;document[_0x50fbd4(0xcac)]('file-shortcut-editor-modal')[_0x50fbd4(0x325)]['add']('hidden');}),document[_0x18f18a(0xcac)](_0x18f18a(0xc3a))[_0x18f18a(0x8d3)]('click',saveFileShortcutChanges),document['getElementById'](_0x18f18a(0x763))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x1063b2=>{const _0x7d0ba7=_0x18f18a;_0x1063b2[_0x7d0ba7(0x615)][_0x7d0ba7(0x2d3)](_0x7d0ba7(0xc63))&&document[_0x7d0ba7(0xcac)](_0x7d0ba7(0xaf4))[_0x7d0ba7(0x325)][_0x7d0ba7(0x419)](_0x7d0ba7(0x60b));}),document[_0x18f18a(0xcac)]('close-additional-file-shortcuts-btn')['addEventListener']('click',()=>{const _0x4ebfdb=_0x18f18a;document['getElementById'](_0x4ebfdb(0xaf4))[_0x4ebfdb(0x325)][_0x4ebfdb(0xd3c)](_0x4ebfdb(0x60b));}),document['getElementById']('additional-file-shortcuts-list')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x49c4c6=>{const _0x2316f2=_0x18f18a,_0x3562fe=document[_0x2316f2(0xcac)](_0x2316f2(0xaf4)),_0xc7ae92=_0x49c4c6['target'][_0x2316f2(0x2d3)](_0x2316f2(0x120)),_0x346542=_0x49c4c6[_0x2316f2(0x615)][_0x2316f2(0x2d3)]('.edit-hidden-file-shortcut-btn'),_0x5e31f=_0x49c4c6[_0x2316f2(0x615)][_0x2316f2(0x2d3)](_0x2316f2(0xbe2));if(_0xc7ae92)_0x3562fe['classList']['add'](_0x2316f2(0x60b)),handleFileShortcutClick(_0xc7ae92[_0x2316f2(0x1e8)]['id']);else{if(_0x346542)_0x3562fe['classList']['add']('hidden'),openFileShortcutEditor(_0x346542[_0x2316f2(0x1e8)]['id']);else{if(_0x5e31f){const _0xbfe336=_0x5e31f['dataset']['id'];showConfirmation(_0x2316f2(0x5dc),async()=>{const _0x3c5a46=_0x2316f2,_0x4aa210=fileShortcuts[_0x3c5a46(0xa00)](_0x239fe0=>_0x239fe0['id']!==_0xbfe336),_0x28a0a8=doc(db,'globalSettings',_0x3c5a46(0x1f5));await setDoc(_0x28a0a8,{'shortcuts':_0x4aa210},{'merge':!![]});});}}}}),document[_0x18f18a(0xcac)]('blueprint-input-area')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x30dd2f=>{const _0x44f82c=_0x18f18a;_0x30dd2f[_0x44f82c(0x615)][_0x44f82c(0x2d3)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0x44f82c(0xa12),renderAdditionalShortcutsModal(),document[_0x44f82c(0xcac)](_0x44f82c(0x241))['classList'][_0x44f82c(0x419)](_0x44f82c(0x60b)));}),document[_0x18f18a(0xcac)](_0x18f18a(0xab9))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0xc2b49e=_0x18f18a;document[_0xc2b49e(0xcac)]('additional-shortcuts-modal')[_0xc2b49e(0x325)][_0xc2b49e(0xd3c)](_0xc2b49e(0x60b));}),document[_0x18f18a(0xcac)](_0x18f18a(0x93e))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x20d63e=>{const _0x3e484f=_0x18f18a,_0x4e86de=_0x20d63e[_0x3e484f(0x615)]['closest'](_0x3e484f(0xd56)),_0x3db6e7=_0x20d63e[_0x3e484f(0x615)]['closest'](_0x3e484f(0x96b)),_0xa8977e=_0x20d63e[_0x3e484f(0x615)]['closest'](_0x3e484f(0x9ef)),_0x40ef9e=document[_0x3e484f(0xcac)]('additional-shortcuts-modal');if(_0x4e86de)_0x40ef9e[_0x3e484f(0x325)][_0x3e484f(0xd3c)](_0x3e484f(0x60b)),handleShortcutClick(_0x4e86de[_0x3e484f(0x1e8)]['id']);else{if(_0x3db6e7)_0x40ef9e['classList'][_0x3e484f(0xd3c)]('hidden'),openShortcutEditor(_0x3db6e7['dataset']['id']);else{if(_0xa8977e){const _0x5baaa6=_0xa8977e[_0x3e484f(0x1e8)]['id'],_0x294e9b=blueprintShortcuts[_0x3e484f(0x2f4)](_0x41f11c=>_0x41f11c['id']===_0x5baaa6)?.[_0x3e484f(0xd33)];showConfirmation(_0x3e484f(0x21c)+_0x294e9b+'\x22?',async()=>{const _0x16cd57=_0x3e484f,_0x3bb97a=blueprintShortcuts[_0x16cd57(0xa00)](_0x180ea0=>_0x180ea0['id']!==_0x5baaa6);try{const _0x56d5cc=doc(db,_0x16cd57(0x24b),_0x16cd57(0xacd));await setDoc(_0x56d5cc,{'blueprintShortcuts':_0x3bb97a},{'merge':!![]});}catch(_0x378389){console[_0x16cd57(0x96)](_0x16cd57(0x8e9),_0x378389);}});}}}}),document['getElementById']('blueprint-shortcut-container')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x248165=>{const _0x5b1740=_0x18f18a,_0x577842=_0x248165[_0x5b1740(0x615)]['closest']('.shortcut-btn'),_0x3c87e3=_0x248165[_0x5b1740(0x615)][_0x5b1740(0x2d3)](_0x5b1740(0x6ec)),_0x33e001=_0x248165[_0x5b1740(0x615)]['closest'](_0x5b1740(0x8ad));if(_0x3c87e3)openShortcutEditor(_0x3c87e3[_0x5b1740(0x1e8)]['id']);else{if(_0x33e001){const _0x2f54f2=_0x33e001[_0x5b1740(0x1e8)]['id'],_0x566c9b=blueprintShortcuts['find'](_0x4623be=>_0x4623be['id']===_0x2f54f2)?.[_0x5b1740(0xd33)];showConfirmation(_0x5b1740(0x21c)+_0x566c9b+'\x22?',async()=>{const _0x3caf5c=_0x5b1740,_0x2d64d9=blueprintShortcuts['filter'](_0xbf907=>_0xbf907['id']!==_0x2f54f2);try{const _0x51eb3f=doc(db,_0x3caf5c(0x24b),_0x3caf5c(0xacd));await setDoc(_0x51eb3f,{'blueprintShortcuts':_0x2d64d9},{'merge':!![]});}catch(_0x547c67){console[_0x3caf5c(0x96)](_0x3caf5c(0x8e9),_0x547c67);}});}else _0x577842&&handleShortcutClick(_0x577842[_0x5b1740(0x1e8)]['id']);}}),document[_0x18f18a(0xcac)]('add-shortcut-btn')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>openShortcutEditor(null)),document[_0x18f18a(0xcac)](_0x18f18a(0x3c9))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x1899ad=_0x18f18a;document['getElementById'](_0x1899ad(0x7e7))['classList'][_0x1899ad(0xd3c)](_0x1899ad(0x60b));}),document[_0x18f18a(0xcac)](_0x18f18a(0x40e))[_0x18f18a(0x8d3)]('click',saveShortcutChanges),document[_0x18f18a(0xcac)](_0x18f18a(0xa0a))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),async()=>{const _0x3c865e=_0x18f18a,_0x4ea599=document[_0x3c865e(0xcac)](_0x3c865e(0x143)),_0x1d1752=document['getElementById'](_0x3c865e(0x6be));_0x4ea599[_0x3c865e(0xcb8)][_0x3c865e(0x1d6)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x4ea599[_0x3c865e(0xcb8)][0x0],_0x1d1752['files'][0x0]||null):showMessage('กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด');}),document[_0x18f18a(0xcac)](_0x18f18a(0x202))['addEventListener'](_0x18f18a(0xc47),async _0x7f029c=>{const _0x165377=_0x18f18a,_0x2fbe28=document['getElementById'](_0x165377(0x202)),_0xcc49a9=_0x7f029c[_0x165377(0x615)][_0x165377(0x2d3)](_0x165377(0xc2d)),_0x260e55=_0x7f029c[_0x165377(0x615)][_0x165377(0x2d3)](_0x165377(0x62b)),_0x2450fb=_0x7f029c[_0x165377(0x615)][_0x165377(0x2d3)]('.bp-present-btn'),_0x469694=_0x7f029c[_0x165377(0x615)][_0x165377(0x2d3)](_0x165377(0x336)),_0x9b406e=_0x7f029c['target']['closest'](_0x165377(0xc53)),_0x4864fe=_0x7f029c[_0x165377(0x615)]['closest']('.bp-game-btn');if(_0xcc49a9){cameFromBlueprint=!![];const _0xfe43fb=_0xcc49a9[_0x165377(0x1e8)][_0x165377(0x57b)];showQuizDetailView(_0xfe43fb),_0x2fbe28[_0x165377(0x325)][_0x165377(0xd3c)](_0x165377(0x60b));}else{if(_0x260e55){const _0x4627d4=_0x260e55['dataset'][_0x165377(0x405)],_0x24244e=_0x260e55[_0x165377(0x1e8)]['quizId'],_0x18fd61=allQuizzesGlobal[_0x165377(0x2f4)](_0x47e61e=>_0x47e61e['id']===_0x24244e),_0xe96d01=_0x18fd61?_0x18fd61[_0x165377(0xa64)]:_0x165377(0xa2d);showConfirmation(_0x165377(0x6e9)+_0xe96d01+_0x165377(0x5d0),async()=>{const _0x3deae2=_0x165377;try{const _0x2b97c1=doc(db,_0x3deae2(0x54a)+appId+_0x3deae2(0x30f),currentBlueprintProjectId);await updateDoc(_0x2b97c1,{[_0x3deae2(0x47e)+_0x4627d4+_0x3deae2(0xc83)]:arrayRemove(_0x24244e)}),showMessage(_0x3deae2(0x6de)),openTopicQuizBank(_0x4627d4),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x32e72b){console['error'](_0x3deae2(0x98a),_0x32e72b),showMessage(_0x3deae2(0x3b4));}});}else{if(_0x2450fb){cameFromBlueprint=!![];const _0x5c421d=_0x2450fb['dataset'][_0x165377(0x57b)],_0xc5820a=allQuizzesGlobal[_0x165377(0x2f4)](_0x1e641e=>_0x1e641e['id']===_0x5c421d);_0xc5820a&&(startPresentation(_0xc5820a),_0x2fbe28['classList']['add']('hidden'));}else{if(_0x469694){cameFromBlueprint=!![];const _0x400491=_0x469694[_0x165377(0x1e8)][_0x165377(0x57b)],_0x67aa70=allQuizzesGlobal[_0x165377(0x2f4)](_0x32d6fe=>_0x32d6fe['id']===_0x400491);_0x67aa70&&(currentQuizData=_0x67aa70,startAdminTest(),_0x2fbe28[_0x165377(0x325)][_0x165377(0xd3c)](_0x165377(0x60b)));}else{if(_0x9b406e)cameFromBlueprint=!![],handleStartLiveRace(_0x9b406e['dataset'][_0x165377(0x57b)]),_0x2fbe28['classList'][_0x165377(0xd3c)](_0x165377(0x60b));else{if(_0x4864fe){cameFromBlueprint=!![];const _0x4f9b1b=_0x4864fe[_0x165377(0x1e8)][_0x165377(0x57b)],_0x45d454=_0x4864fe[_0x165377(0x1e8)][_0x165377(0xaf3)],_0x598fca=allQuizzesGlobal[_0x165377(0x2f4)](_0x4ca79c=>_0x4ca79c['id']===_0x4f9b1b);_0x598fca&&(showGameStartConfirmationModal(_0x4f9b1b,_0x45d454,_0x598fca['topic']),_0x2fbe28[_0x165377(0x325)]['add'](_0x165377(0x60b)));}}}}}}}),document[_0x18f18a(0xcac)]('manual-create-blueprint-btn')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x52192b=_0x18f18a;document['getElementById'](_0x52192b(0x259))['classList'][_0x52192b(0x419)](_0x52192b(0x60b)),document['getElementById'](_0x52192b(0x66c))['value']='',document[_0x52192b(0xcac)]('manual-bp-grade-level')['value']='',document[_0x52192b(0xcac)](_0x52192b(0x4e9))[_0x52192b(0x41e)]='';}),document[_0x18f18a(0xcac)](_0x18f18a(0xccb))[_0x18f18a(0x8d3)]('click',()=>{const _0x1b578c=_0x18f18a;document['getElementById'](_0x1b578c(0x259))['classList'][_0x1b578c(0xd3c)](_0x1b578c(0x60b));}),document[_0x18f18a(0xcac)]('confirm-manual-bp-btn')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleManualBlueprintSave),document['getElementById'](_0x18f18a(0x36a))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>document[_0x18f18a(0xcac)](_0x18f18a(0x5c1))[_0x18f18a(0x325)]['add'](_0x18f18a(0x60b))),document[_0x18f18a(0xcac)](_0x18f18a(0x96e))['addEventListener'](_0x18f18a(0xc47),handleSaveBlueprintPageSettings),document[_0x18f18a(0xcac)](_0x18f18a(0x850))[_0x18f18a(0x8d3)]('click',openBlueprintQuizSettings),document[_0x18f18a(0xcac)](_0x18f18a(0x437))['addEventListener'](_0x18f18a(0xc47),saveBlueprintProject),document[_0x18f18a(0xcac)](_0x18f18a(0x81d))['addEventListener'](_0x18f18a(0xc47),showBlueprintProjects),document[_0x18f18a(0xcac)](_0x18f18a(0x256))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x25add7=_0x18f18a;document[_0x25add7(0xcac)]('blueprint-projects-modal')[_0x25add7(0x325)][_0x25add7(0xd3c)](_0x25add7(0x60b));}),document['getElementById']('blueprint-project-list')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x23b662=>{const _0x2b28d5=_0x18f18a,_0x22cbea=_0x23b662[_0x2b28d5(0x615)][_0x2b28d5(0x2d3)]('.open-bp-project-btn'),_0x494a91=_0x23b662[_0x2b28d5(0x615)][_0x2b28d5(0x2d3)]('.delete-bp-project-btn');if(_0x22cbea)displayBlueprintProjectManager(_0x22cbea['dataset']['id']);else _0x494a91&&handleDeepDeleteBlueprintProject(_0x494a91[_0x2b28d5(0x1e8)]['id']);}),document[_0x18f18a(0xcac)](_0x18f18a(0x595))['addEventListener']('click',()=>{const _0xe91961=_0x18f18a;currentBlueprintProjectId=null,currentProjectId=null,document[_0xe91961(0xcac)](_0xe91961(0x55c))[_0xe91961(0x325)][_0xe91961(0xd3c)]('hidden'),showView(_0xe91961(0xa94));}),document[_0x18f18a(0xcac)](_0x18f18a(0xb21))['addEventListener'](_0x18f18a(0xc47),addTopicToProject),document[_0x18f18a(0xcac)](_0x18f18a(0x38c))['addEventListener']('click',async _0x4966d6=>{const _0x61d220=_0x18f18a,_0x4f5b46=_0x4966d6[_0x61d220(0x615)][_0x61d220(0x2d3)](_0x61d220(0x3f9));if(!_0x4f5b46)return;const _0x551544=_0x4f5b46[_0x61d220(0x1e8)][_0x61d220(0x405)],_0x240d4=_0x4966d6[_0x61d220(0x615)][_0x61d220(0x2d3)]('.bp-create-onet-quiz-btn'),_0x5789e0=_0x4966d6['target'][_0x61d220(0x2d3)]('.bp-create-content-quiz-btn'),_0x370688=_0x4966d6['target'][_0x61d220(0x2d3)](_0x61d220(0x472)),_0xad8bfe=_0x4966d6['target']['closest'](_0x61d220(0xa59)),_0x441008=_0x4966d6[_0x61d220(0x615)][_0x61d220(0x2d3)](_0x61d220(0xb3b)),_0x106465=_0x4966d6[_0x61d220(0x615)]['closest']('.bp-generate-lesson-btn'),_0x33f673=_0x4966d6[_0x61d220(0x615)]['closest'](_0x61d220(0x82a)),_0x464af0=_0x4966d6[_0x61d220(0x615)]['closest'](_0x61d220(0xd8e)),_0x1bc948=_0x449f3f=>{const _0x4348d9=_0x61d220,_0x546af1=_0x449f3f[_0x4348d9(0xb49)](_0x4348d9(0xae))['textContent'][_0x4348d9(0x964)](),_0x1a5ac8=_0x449f3f[_0x4348d9(0x2d3)]('.space-y-1.pl-4')[_0x4348d9(0xcef)],_0x3f14c7=_0x1a5ac8?_0x1a5ac8[_0x4348d9(0xc84)]['trim']():'';return _0x3f14c7+':\x20'+_0x546af1;};if(_0xad8bfe)openTopicQuizBank(_0x551544);else{if(_0x240d4){const _0x40f8be=_0x1bc948(_0x4f5b46);selectProjectAndGenerateBlueprintQuiz(_0x40f8be,null,_0x551544,!![]);}else{if(_0x5789e0){const _0x5cce6a=_0x1bc948(_0x4f5b46);try{const _0x18cbe4=doc(db,'artifacts/'+appId+_0x61d220(0xa44)+currentBlueprintProjectId+'/lessons',_0x551544),_0x362c1f=await getDoc(_0x18cbe4);if(_0x362c1f[_0x61d220(0xa2b)]()){const _0xe52c94=_0x362c1f['data']()[_0x61d220(0x37d)],_0x31c3ac=document[_0x61d220(0x845)]('div'),_0x3f231a=_0x37c9d4=>{const _0x5e5cc3=_0x61d220;if(!_0x37c9d4)return'';return _0x31c3ac[_0x5e5cc3(0xcaa)]=_0x37c9d4,_0x31c3ac[_0x5e5cc3(0xc84)]||_0x31c3ac[_0x5e5cc3(0x254)]||'';},_0x2e480f=(_0x3f231a(_0xe52c94['point'])+'\x20'+_0x3f231a(_0xe52c94['memory'])+'\x20'+_0x3f231a(_0xe52c94[_0x61d220(0x898)]))[_0x61d220(0x964)]();selectProjectAndGenerateBlueprintQuiz(_0x5cce6a,_0x2e480f,_0x551544,![]);}else showMessage(_0x61d220(0xa9e));}catch(_0xad1f0d){console['error'](_0x61d220(0x1a4),_0xad1f0d),showMessage(_0x61d220(0x71d));}}else{if(_0x370688){const _0x48fbc3=_0x1bc948(_0x4f5b46);selectProjectAndGenerateBlueprintQuiz(_0x48fbc3,null,_0x551544,![]);}else{if(_0x441008){const _0x30b1b1=doc(db,_0x61d220(0x54a)+appId+_0x61d220(0x30f),currentBlueprintProjectId),_0x47eed7=await getDoc(_0x30b1b1);if(_0x47eed7[_0x61d220(0xa2b)]()){const _0xcf0383=_0x47eed7[_0x61d220(0xb6)](),_0x3c674c=_0xcf0383[_0x61d220(0x9a5)][_0x551544];if(_0x3c674c&&_0x3c674c['status']===_0x61d220(0x7c1))try{const _0x14c92b=doc(db,_0x61d220(0x54a)+appId+_0x61d220(0xa44)+currentBlueprintProjectId+_0x61d220(0x191),_0x551544),_0x284468=await getDoc(_0x14c92b);if(_0x284468[_0x61d220(0xa2b)]()){const _0x56ff83=_0x284468[_0x61d220(0xb6)]()['content'];document['getElementById'](_0x61d220(0xd4a))[_0x61d220(0xc84)]=_0x61d220(0x882)+_0x1bc948(_0x4f5b46),document['getElementById'](_0x61d220(0xc81))[_0x61d220(0xcaa)]=_0x56ff83[_0x61d220(0xa1f)],document[_0x61d220(0xcac)](_0x61d220(0x669))[_0x61d220(0xcaa)]=_0x56ff83[_0x61d220(0xc43)],document['getElementById'](_0x61d220(0x8c9))[_0x61d220(0xcaa)]=_0x56ff83['summary'];const _0x4c1e92=document['getElementById'](_0x61d220(0xc8c));_0x56ff83['applicationData']?(currentApplicationData=_0x56ff83[_0x61d220(0x282)],_0x4c1e92['innerHTML']=currentApplicationData[_0x61d220(0x201)]((_0x3dd3cd,_0x53ad86)=>_0x61d220(0xabd)+(_0x53ad86+0x1)+'.\x20'+marked[_0x61d220(0x600)](_0x3dd3cd[_0x61d220(0xc52)])+'</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x53ad86+_0x61d220(0x1f4)+_0x3dd3cd[_0x61d220(0x63f)][_0x61d220(0x201)]((_0x489a0c,_0x4359ff)=>_0x61d220(0xa04)+_0x53ad86+',\x20'+_0x4359ff+_0x61d220(0xbee)+String[_0x61d220(0x401)](0x61+_0x4359ff)+'.\x20'+marked[_0x61d220(0x600)](_0x489a0c)+_0x61d220(0x28b))[_0x61d220(0xa88)]('')+_0x61d220(0x7c6))['join']('')):(currentApplicationData=[],_0x4c1e92[_0x61d220(0xcaa)]=_0x56ff83['applicationHTML']||_0x56ff83[_0x61d220(0x1d3)]),document[_0x61d220(0xcac)]('lesson-loader')[_0x61d220(0x325)][_0x61d220(0xd3c)]('hidden'),document[_0x61d220(0xcac)](_0x61d220(0x467))['classList']['remove'](_0x61d220(0x60b)),document[_0x61d220(0xcac)](_0x61d220(0xb3d))['classList'][_0x61d220(0x419)]('hidden'),window[_0x61d220(0x4a4)]&&MathJax[_0x61d220(0xcf0)]([document[_0x61d220(0xcac)](_0x61d220(0x772))]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x2937da){console[_0x61d220(0x96)](_0x61d220(0x542),_0x2937da),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x106465){const _0x3c74f2=_0x1bc948(_0x4f5b46),_0x332cc6=doc(db,_0x61d220(0x54a)+appId+_0x61d220(0x30f),currentBlueprintProjectId),_0x2b05e9=await getDoc(_0x332cc6);if(_0x2b05e9[_0x61d220(0xa2b)]()){const _0x229139=_0x2b05e9[_0x61d220(0xb6)]();generateAndSaveLessonForBlueprint(_0x551544,_0x3c74f2,_0x229139[_0x61d220(0x9b6)]);}}else{if(_0x33f673)editTopicInProject(_0x551544);else _0x464af0&&deleteTopicFromProject(_0x551544);}}}}}}}),document[_0x18f18a(0xcac)]('fix-lesson-latex-btn')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleFixLessonLatex),document[_0x18f18a(0xcac)]('export-lesson-to-pdf-btn')[_0x18f18a(0x8d3)]('click',handleExportLessonToPDF),document[_0x18f18a(0xcac)](_0x18f18a(0xc46))['addEventListener'](_0x18f18a(0xc47),()=>{const _0x1ea40a=_0x18f18a;document[_0x1ea40a(0xcac)]('lesson-view-modal')[_0x1ea40a(0x325)][_0x1ea40a(0xd3c)](_0x1ea40a(0x60b));});const _0x2111ea=document[_0x18f18a(0xcac)](_0x18f18a(0xfb)),_0x20559e=document[_0x18f18a(0xcac)](_0x18f18a(0x3cc));_0x2111ea['addEventListener'](_0x18f18a(0x394),()=>{const _0x3008bd=_0x18f18a;_0x20559e[_0x3008bd(0x325)][_0x3008bd(0x1a3)](_0x3008bd(0x60b),!_0x2111ea[_0x3008bd(0xa81)]);});const _0x56952b=document[_0x18f18a(0xcac)](_0x18f18a(0xd82)),_0x594ca8=document['getElementById'](_0x18f18a(0x797));_0x56952b[_0x18f18a(0x8d3)](_0x18f18a(0x394),()=>{const _0x45025b=_0x18f18a;_0x594ca8[_0x45025b(0x325)][_0x45025b(0x1a3)](_0x45025b(0x60b),!_0x56952b['checked']);});const _0x51bcc7=document['getElementById'](_0x18f18a(0xc6c)),_0x54e984=document[_0x18f18a(0xcac)](_0x18f18a(0x4ea));_0x51bcc7['addEventListener'](_0x18f18a(0x394),()=>{const _0xacf8d6=_0x18f18a;_0x54e984['classList']['toggle'](_0xacf8d6(0x60b),!_0x51bcc7[_0xacf8d6(0xa81)]);});const _0x5872a8=document[_0x18f18a(0xcac)]('confidence-modal'),_0x92cefa=async _0x59d3e6=>{const _0x1e2975=_0x18f18a,_0x1ba70f=document[_0x1e2975(0xcac)](_0x1e2975(0xb6a)),_0x1c34ac=_0x1ba70f[_0x1e2975(0x1e8)][_0x1e2975(0x148)],_0x5a6c47=document[_0x1e2975(0xcac)](_0x1e2975(0x70e));_0x1ba70f[_0x1e2975(0x325)][_0x1e2975(0xd3c)](_0x1e2975(0x60b));if(_0x1c34ac===_0x1e2975(0xce9)){const _0x4d0353=_0x5a6c47[_0x1e2975(0x41e)],_0x6840e2={'answer':_0x4d0353,'wasConfident':_0x59d3e6};proceedToNextQuestion(_0x6840e2);}else{if(_0x1c34ac==='sync'){const _0x30bf6d=_0x5a6c47[_0x1e2975(0x1e8)][_0x1e2975(0xc45)],_0x5d7257=JSON[_0x1e2975(0x444)](_0x5a6c47['dataset'][_0x1e2975(0xc52)]),_0x1cfa06=JSON[_0x1e2975(0x444)](_0x5a6c47[_0x1e2975(0x1e8)][_0x1e2975(0x57e)]),_0x29c357=_0x5a6c47[_0x1e2975(0x1e8)][_0x1e2975(0xbcd)];handleSyncAnswerSubmit(_0x30bf6d,_0x5d7257,_0x1cfa06,_0x29c357,_0x59d3e6);}}_0x1ba70f[_0x1e2975(0x1e8)]['currentMode']='';};document[_0x18f18a(0xcac)]('confirm-confident')[_0x18f18a(0x8d3)]('click',()=>_0x92cefa(!![])),document[_0x18f18a(0xcac)](_0x18f18a(0x5cc))['addEventListener']('click',()=>_0x92cefa(![])),liveGameView[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x325cea=>{const _0x36ab7f=_0x18f18a,_0x2412c8=_0x325cea[_0x36ab7f(0x615)][_0x36ab7f(0x2d3)](_0x36ab7f(0x5e4));if(_0x2412c8){const _0x57c1ee=_0x2412c8[_0x36ab7f(0x1e8)][_0x36ab7f(0xbcd)];_0x57c1ee&&handleKickPlayerSync(_0x57c1ee);}});const _0x259fd8=document[_0x18f18a(0xcac)]('confirm-game-start-btn'),_0x2cb3bc=document['getElementById'](_0x18f18a(0x94));_0x2cb3bc['addEventListener'](_0x18f18a(0xc47),()=>{const _0x6e495e=_0x18f18a;document['getElementById'](_0x6e495e(0x2eb))[_0x6e495e(0x325)][_0x6e495e(0xd3c)](_0x6e495e(0x60b));}),_0x259fd8[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x2c775a=_0x18f18a,_0x39dd6b=document[_0x2c775a(0xcac)](_0x2c775a(0x692))[_0x2c775a(0x41e)],_0x50debf=document[_0x2c775a(0xcac)](_0x2c775a(0xd83))['value'],_0x2e2f77=document['getElementById'](_0x2c775a(0xcc5))[_0x2c775a(0xa81)];document['getElementById']('confirm-game-start-modal')[_0x2c775a(0x325)]['add'](_0x2c775a(0x60b));switch(_0x50debf){case'live-race':handleStartLiveRace(_0x39dd6b,_0x2e2f77);break;case'team':handleStartTeamQuiz(_0x39dd6b,_0x2e2f77);break;case'group':handleStartGroupMode(_0x39dd6b,_0x2e2f77);break;case _0x2c775a(0x417):const _0xf9dd09=document[_0x2c775a(0xb49)](_0x2c775a(0x57a))[_0x2c775a(0x41e)]||_0x2c775a(0x81f);handleStartSyncMode(_0x39dd6b,_0x2e2f77,_0xf9dd09);break;}}),document['getElementById']('join-group-activity-btn')[_0x18f18a(0x8d3)]('click',handleJoinGroupActivity),liveGameView[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x561dc3=>{const _0x5348f0=_0x18f18a,_0x14fda7=_0x561dc3[_0x5348f0(0x615)][_0x5348f0(0x2d3)](_0x5348f0(0xcc3));document[_0x5348f0(0x20a)]('.live-summary-tooltip.visible')[_0x5348f0(0x99f)](_0x242fe7=>{const _0x251ed1=_0x5348f0;(!_0x14fda7||_0x242fe7['id']!==_0x14fda7[_0x251ed1(0x1e8)][_0x251ed1(0x819)])&&_0x242fe7[_0x251ed1(0x325)]['remove'](_0x251ed1(0xa06));});if(!_0x14fda7)return;const _0x5b68a4=_0x14fda7['dataset'][_0x5348f0(0x819)],_0x1a4f21=document[_0x5348f0(0xcac)](_0x5b68a4);_0x1a4f21&&_0x1a4f21['classList']['toggle'](_0x5348f0(0xa06));}),liveGameView[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0xa3f196=>{const _0x29ead9=_0x18f18a;if(_0xa3f196[_0x29ead9(0x615)][_0x29ead9(0x325)][_0x29ead9(0x9e8)](_0x29ead9(0x749))){const _0x4aa8e3=_0xa3f196[_0x29ead9(0x615)][_0x29ead9(0x1e8)]['playerName'];_0x4aa8e3&&handleKickPlayer(_0x4aa8e3);}}),document[_0x18f18a(0xcac)](_0x18f18a(0x409))[_0x18f18a(0x8d3)](_0x18f18a(0x86d),()=>document[_0x18f18a(0xcac)](_0x18f18a(0x7e9))[_0x18f18a(0x325)][_0x18f18a(0x419)](_0x18f18a(0x60b))),document[_0x18f18a(0xcac)](_0x18f18a(0x7e9))['addEventListener'](_0x18f18a(0xc47),handleSaveProjectName),document[_0x18f18a(0xcac)]('project-title')[_0x18f18a(0x8d3)]('keydown',_0x31cb9c=>{const _0x1d779f=_0x18f18a;_0x31cb9c[_0x1d779f(0x802)]===_0x1d779f(0x777)&&(_0x31cb9c[_0x1d779f(0xd43)](),_0x31cb9c[_0x1d779f(0x615)]['blur'](),handleSaveProjectName());}),document[_0x18f18a(0xcac)](_0x18f18a(0x44a))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x382af4=_0x18f18a;document[_0x382af4(0xcac)](_0x382af4(0x80e))[_0x382af4(0x325)]['remove'](_0x382af4(0x60b));}),document[_0x18f18a(0xcac)]('cancel-bulk-quiz-settings-btn')[_0x18f18a(0x8d3)]('click',()=>{const _0x1de70a=_0x18f18a;document['getElementById'](_0x1de70a(0x80e))[_0x1de70a(0x325)][_0x1de70a(0xd3c)](_0x1de70a(0x60b));}),document[_0x18f18a(0xcac)](_0x18f18a(0x701))[_0x18f18a(0x8d3)]('click',handleBulkUpdateQuizSettings),document[_0x18f18a(0xcac)](_0x18f18a(0x135))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleModeSwitch),document[_0x18f18a(0xcac)](_0x18f18a(0x421))['addEventListener']('click',handleUpdateOldQuizzes),document[_0x18f18a(0xcac)](_0x18f18a(0x40f))['addEventListener'](_0x18f18a(0xc47),handleResetProjectOrder),document[_0x18f18a(0xcac)](_0x18f18a(0x38a))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleSaveVisibilitySettings),document[_0x18f18a(0xcac)]('add-custom-math-topic-btn')['addEventListener'](_0x18f18a(0xc47),handleAddCustomMathTopic),document['getElementById'](_0x18f18a(0xc55))['addEventListener']('click',handleSelectAllTopics),document['getElementById'](_0x18f18a(0x53d))['addEventListener'](_0x18f18a(0xc47),handleDeselectAllTopics),document[_0x18f18a(0xcac)]('back-to-dashboard-btn')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x30ffd0=_0x18f18a;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x30ffd0(0xa94));}}),document['getElementById'](_0x18f18a(0x61e))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x18f18a(0xcac)]('back-to-dashboard-from-results-btn')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{showView('admin-dashboard');}),document[_0x18f18a(0xcac)]('modal-close-btn')['addEventListener'](_0x18f18a(0xc47),()=>{const _0x4d3123=_0x18f18a;messageModal[_0x4d3123(0x325)][_0x4d3123(0xd3c)](_0x4d3123(0x60b)),typeof modalConfirmAction===_0x4d3123(0x52d)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x18f18a(0xcac)](_0x18f18a(0xb53))['addEventListener'](_0x18f18a(0xc47),()=>createProjectModal[_0x18f18a(0x325)][_0x18f18a(0x419)](_0x18f18a(0x60b))),document[_0x18f18a(0xcac)]('cancel-create-project-btn')[_0x18f18a(0x8d3)]('click',()=>createProjectModal['classList'][_0x18f18a(0xd3c)](_0x18f18a(0x60b))),document[_0x18f18a(0xcac)](_0x18f18a(0x9c5))[_0x18f18a(0x8d3)]('click',()=>adminPasswordModal[_0x18f18a(0x325)][_0x18f18a(0xd3c)](_0x18f18a(0x60b))),document[_0x18f18a(0xcac)](_0x18f18a(0x664))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleAdminLogin),document[_0x18f18a(0xcac)](_0x18f18a(0x86a))['addEventListener']('keyup',_0x5edf32=>{const _0xd580ef=_0x18f18a;if(_0x5edf32[_0xd580ef(0x802)]===_0xd580ef(0x777))handleAdminLogin();}),document[_0x18f18a(0xcac)](_0x18f18a(0x617))[_0x18f18a(0x8d3)]('click',()=>{const _0x329549=_0x18f18a;confirmationModal[_0x329549(0x325)][_0x329549(0xd3c)](_0x329549(0x60b)),typeof cancelAction==='function'&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x18f18a(0xcac)](_0x18f18a(0x844))[_0x18f18a(0x8d3)]('click',()=>{const _0x1bef3d=_0x18f18a;confirmAction&&confirmAction(),confirmationModal[_0x1bef3d(0x325)][_0x1bef3d(0xd3c)](_0x1bef3d(0x60b)),confirmAction=null,cancelAction=null;}),document[_0x18f18a(0xcac)](_0x18f18a(0x9ca))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>renameQuizModal[_0x18f18a(0x325)][_0x18f18a(0xd3c)](_0x18f18a(0x60b))),document[_0x18f18a(0xcac)](_0x18f18a(0x83a))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),confirmRenameQuiz),document[_0x18f18a(0xcac)](_0x18f18a(0x6f2))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>moveQuizModal['classList']['add'](_0x18f18a(0x60b))),document[_0x18f18a(0xcac)](_0x18f18a(0x816))['addEventListener'](_0x18f18a(0xc47),confirmMoveQuiz),document[_0x18f18a(0xcac)]('cancel-quiz-settings-btn')[_0x18f18a(0x8d3)]('click',()=>quizSettingsModal[_0x18f18a(0x325)]['add'](_0x18f18a(0x60b))),document['getElementById'](_0x18f18a(0x946))[_0x18f18a(0x8d3)]('click',confirmQuizSettings),document[_0x18f18a(0xcac)](_0x18f18a(0x2a1))['addEventListener']('click',()=>quizStatusModal[_0x18f18a(0x325)][_0x18f18a(0xd3c)](_0x18f18a(0x60b))),document[_0x18f18a(0xcac)]('confirm-quiz-status-btn')['addEventListener']('click',confirmQuizStatus);const _0x5d60d5=document[_0x18f18a(0xcac)](_0x18f18a(0x559));document[_0x18f18a(0xcac)](_0x18f18a(0x5b5))[_0x18f18a(0x8d3)]('click',()=>{const _0x478a5d=_0x18f18a;_0x5d60d5[_0x478a5d(0x325)][_0x478a5d(0xd3c)]('hidden');}),document[_0x18f18a(0xcac)]('export-compact-pdf-btn')['addEventListener']('click',async()=>{const _0x38b969=_0x18f18a,_0x37de7c=allQuizzes['find'](_0x4ca1d5=>_0x4ca1d5['id']===actionTargetId);_0x37de7c?(currentQuizData=_0x37de7c,exportQuizAsWorksheetPDF()):showMessage(_0x38b969(0x284)),_0x5d60d5[_0x38b969(0x325)][_0x38b969(0xd3c)](_0x38b969(0x60b));}),document[_0x18f18a(0xcac)](_0x18f18a(0xc9a))[_0x18f18a(0x8d3)]('click',async()=>{const _0x2ee6ce=_0x18f18a,_0x400518=allQuizzes[_0x2ee6ce(0x2f4)](_0x13edad=>_0x13edad['id']===actionTargetId);_0x400518?(currentQuizData=_0x400518,exportQuizAsTutorPDF()):showMessage(_0x2ee6ce(0x284)),_0x5d60d5[_0x2ee6ce(0x325)][_0x2ee6ce(0xd3c)](_0x2ee6ce(0x60b));});const _0x2acdfb=document['getElementById']('open-global-live-btn');_0x2acdfb[_0x18f18a(0xcaa)]=_0x18f18a(0x696),_0x2acdfb[_0x18f18a(0x8d3)]('click',openGlobalActivityModal),document[_0x18f18a(0xcac)](_0x18f18a(0x6f9))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x35d5b6=_0x18f18a;document[_0x35d5b6(0xcac)](_0x35d5b6(0x35c))['classList'][_0x35d5b6(0xd3c)]('hidden');}),document['getElementById'](_0x18f18a(0x908))[_0x18f18a(0x8d3)](_0x18f18a(0x9dc),_0x324f2c=>{const _0x30593c=_0x18f18a;renderGlobalActivityList(_0x324f2c[_0x30593c(0x615)][_0x30593c(0x41e)]);}),document['getElementById'](_0x18f18a(0x384))[_0x18f18a(0x8d3)]('click',_0x319795=>{const _0x20ec5b=_0x18f18a,_0x5f4b17=_0x319795[_0x20ec5b(0x615)][_0x20ec5b(0x2d3)](_0x20ec5b(0x46f));if(!_0x5f4b17)return;const _0x37a29e=_0x5f4b17[_0x20ec5b(0x1e8)]['id'],_0x17972d=_0x5f4b17[_0x20ec5b(0x1e8)][_0x20ec5b(0xaf3)],_0x18797d=allQuizzesGlobal[_0x20ec5b(0x2f4)](_0x5e432=>_0x5e432['id']===_0x37a29e);_0x18797d&&(document[_0x20ec5b(0xcac)]('global-activity-modal')['classList'][_0x20ec5b(0xd3c)](_0x20ec5b(0x60b)),_0x17972d===_0x20ec5b(0xb39)?handleStartLiveRace(_0x37a29e):showGameStartConfirmationModal(_0x37a29e,_0x17972d,_0x18797d[_0x20ec5b(0xa64)]));}),document[_0x18f18a(0xcac)](_0x18f18a(0x578))['addEventListener'](_0x18f18a(0x9dc),renderProjects),document[_0x18f18a(0xcac)](_0x18f18a(0x747))[_0x18f18a(0x8d3)](_0x18f18a(0x394),async()=>{const _0x2fef22=_0x18f18a,_0x4ccc07=document[_0x2fef22(0xcac)](_0x2fef22(0x747))[_0x2fef22(0x41e)],_0x15fb72=doc(db,_0x2fef22(0x24b),_0x2fef22(0xacd));try{await setDoc(_0x15fb72,{'projectSort':_0x4ccc07},{'merge':!![]});}catch(_0x189f95){console[_0x2fef22(0x96)]('Error\x20updating\x20sort\x20preference:',_0x189f95),showMessage(_0x2fef22(0x64b));}}),document['getElementById']('quiz-search-input')[_0x18f18a(0x8d3)](_0x18f18a(0x9dc),renderQuizzes),document['getElementById'](_0x18f18a(0x178))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x5e0f1e=_0x18f18a;globalDashboardSettings['projectView']=_0x5e0f1e(0xae7),saveUserPreference(_0x5e0f1e(0x9df),'grid'),renderProjects();}),document[_0x18f18a(0xcac)](_0x18f18a(0x5ea))[_0x18f18a(0x8d3)]('click',()=>{const _0x30ff1f=_0x18f18a;globalDashboardSettings[_0x30ff1f(0x9df)]=_0x30ff1f(0xd87),saveUserPreference(_0x30ff1f(0x9df),_0x30ff1f(0xd87)),renderProjects();}),manageTab[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>switchProjectTab(_0x18f18a(0x66b))),resultsTab[_0x18f18a(0x8d3)]('click',()=>switchProjectTab('results')),leaderboardTab[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>switchProjectTab(_0x18f18a(0x847))),document[_0x18f18a(0xcac)](_0x18f18a(0xd6a))[_0x18f18a(0x8d3)]('click',()=>switchQuizDetailTab(_0x18f18a(0xa4d))),document[_0x18f18a(0xcac)](_0x18f18a(0x976))['addEventListener'](_0x18f18a(0xc47),()=>switchQuizDetailTab(_0x18f18a(0x2c6))),document['getElementById'](_0x18f18a(0x43d))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>switchQuizDetailTab(_0x18f18a(0xc0a))),document[_0x18f18a(0xcac)](_0x18f18a(0xb1c))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>switchQuizDetailTab(_0x18f18a(0xb22))),document[_0x18f18a(0xcac)](_0x18f18a(0x618))[_0x18f18a(0x8d3)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x18f18a(0x8d3)]('click',generateWorksheet);const _0x13538c=document[_0x18f18a(0xcac)](_0x18f18a(0xa78)),_0x923d47=document[_0x18f18a(0xcac)](_0x18f18a(0x928)),_0x5331ff=document[_0x18f18a(0xcac)](_0x18f18a(0x446)),_0x3d7cc6=document[_0x18f18a(0xcac)](_0x18f18a(0xff)),_0x62185d=document[_0x18f18a(0xcac)](_0x18f18a(0x138)),_0x2eb1d1=document[_0x18f18a(0xcac)](_0x18f18a(0x602));topicTab[_0x18f18a(0x8d3)]('click',()=>{const _0x13828e=_0x18f18a;topicTab[_0x13828e(0x325)][_0x13828e(0xd3c)](_0x13828e(0x6a2)),textTab[_0x13828e(0x325)][_0x13828e(0x419)](_0x13828e(0x6a2)),fileTab[_0x13828e(0x325)][_0x13828e(0x419)](_0x13828e(0x6a2)),worksheetTab[_0x13828e(0x325)][_0x13828e(0x419)](_0x13828e(0x6a2));if(_0x13538c)_0x13538c[_0x13828e(0x325)][_0x13828e(0x419)]('active');if(_0x5331ff)_0x5331ff[_0x13828e(0x325)][_0x13828e(0x419)](_0x13828e(0x6a2));if(_0x62185d)_0x62185d[_0x13828e(0x325)][_0x13828e(0x419)](_0x13828e(0x6a2));topicInputArea['classList']['remove'](_0x13828e(0x60b)),textInputArea[_0x13828e(0x325)][_0x13828e(0xd3c)](_0x13828e(0x60b)),fileInputArea[_0x13828e(0x325)][_0x13828e(0xd3c)](_0x13828e(0x60b)),worksheetInputArea['classList'][_0x13828e(0xd3c)]('hidden');if(_0x923d47)_0x923d47[_0x13828e(0x325)][_0x13828e(0xd3c)](_0x13828e(0x60b));if(_0x3d7cc6)_0x3d7cc6[_0x13828e(0x325)][_0x13828e(0xd3c)](_0x13828e(0x60b));if(_0x2eb1d1)_0x2eb1d1[_0x13828e(0x325)][_0x13828e(0xd3c)]('hidden');}),textTab[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x4752d0=_0x18f18a;textTab['classList'][_0x4752d0(0xd3c)]('active'),topicTab[_0x4752d0(0x325)]['remove'](_0x4752d0(0x6a2)),fileTab[_0x4752d0(0x325)][_0x4752d0(0x419)]('active'),worksheetTab[_0x4752d0(0x325)][_0x4752d0(0x419)](_0x4752d0(0x6a2));if(_0x13538c)_0x13538c[_0x4752d0(0x325)]['remove'](_0x4752d0(0x6a2));if(_0x5331ff)_0x5331ff[_0x4752d0(0x325)]['remove'](_0x4752d0(0x6a2));if(_0x62185d)_0x62185d['classList'][_0x4752d0(0x419)](_0x4752d0(0x6a2));textInputArea['classList'][_0x4752d0(0x419)](_0x4752d0(0x60b)),topicInputArea[_0x4752d0(0x325)][_0x4752d0(0xd3c)]('hidden'),fileInputArea[_0x4752d0(0x325)][_0x4752d0(0xd3c)](_0x4752d0(0x60b)),worksheetInputArea['classList'][_0x4752d0(0xd3c)](_0x4752d0(0x60b));if(_0x923d47)_0x923d47[_0x4752d0(0x325)][_0x4752d0(0xd3c)]('hidden');if(_0x3d7cc6)_0x3d7cc6[_0x4752d0(0x325)]['add'](_0x4752d0(0x60b));if(_0x2eb1d1)_0x2eb1d1[_0x4752d0(0x325)][_0x4752d0(0xd3c)](_0x4752d0(0x60b));}),fileTab[_0x18f18a(0x8d3)]('click',()=>{const _0x285693=_0x18f18a;fileTab[_0x285693(0x325)]['add']('active'),topicTab[_0x285693(0x325)][_0x285693(0x419)](_0x285693(0x6a2)),textTab['classList']['remove'](_0x285693(0x6a2)),worksheetTab[_0x285693(0x325)]['remove'](_0x285693(0x6a2));if(_0x13538c)_0x13538c[_0x285693(0x325)][_0x285693(0x419)](_0x285693(0x6a2));if(_0x5331ff)_0x5331ff[_0x285693(0x325)]['remove']('active');if(_0x62185d)_0x62185d['classList'][_0x285693(0x419)](_0x285693(0x6a2));fileInputArea[_0x285693(0x325)][_0x285693(0x419)](_0x285693(0x60b)),topicInputArea['classList'][_0x285693(0xd3c)]('hidden'),textInputArea[_0x285693(0x325)][_0x285693(0xd3c)](_0x285693(0x60b)),worksheetInputArea[_0x285693(0x325)][_0x285693(0xd3c)](_0x285693(0x60b));if(_0x923d47)_0x923d47[_0x285693(0x325)]['add'](_0x285693(0x60b));if(_0x3d7cc6)_0x3d7cc6[_0x285693(0x325)][_0x285693(0xd3c)](_0x285693(0x60b));if(_0x2eb1d1)_0x2eb1d1[_0x285693(0x325)]['add'](_0x285693(0x60b));}),worksheetTab[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x553532=_0x18f18a;worksheetTab['classList'][_0x553532(0xd3c)](_0x553532(0x6a2)),topicTab[_0x553532(0x325)][_0x553532(0x419)]('active'),textTab['classList'][_0x553532(0x419)](_0x553532(0x6a2)),fileTab[_0x553532(0x325)][_0x553532(0x419)]('active');if(_0x13538c)_0x13538c['classList'][_0x553532(0x419)](_0x553532(0x6a2));if(_0x5331ff)_0x5331ff[_0x553532(0x325)][_0x553532(0x419)](_0x553532(0x6a2));if(_0x62185d)_0x62185d['classList'][_0x553532(0x419)](_0x553532(0x6a2));worksheetInputArea[_0x553532(0x325)][_0x553532(0x419)](_0x553532(0x60b)),topicInputArea[_0x553532(0x325)]['add'](_0x553532(0x60b)),textInputArea['classList'][_0x553532(0xd3c)](_0x553532(0x60b)),fileInputArea[_0x553532(0x325)][_0x553532(0xd3c)](_0x553532(0x60b));if(_0x923d47)_0x923d47[_0x553532(0x325)][_0x553532(0xd3c)](_0x553532(0x60b));if(_0x3d7cc6)_0x3d7cc6[_0x553532(0x325)][_0x553532(0xd3c)](_0x553532(0x60b));if(_0x2eb1d1)_0x2eb1d1['classList'][_0x553532(0xd3c)](_0x553532(0x60b));});const _0x2d56ea=document[_0x18f18a(0xcac)](_0x18f18a(0xa42)),_0x17d5dd=document[_0x18f18a(0xcac)](_0x18f18a(0xc06));_0x2d56ea&&_0x2d56ea[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x572508=_0x18f18a;topicTab[_0x572508(0x325)][_0x572508(0x419)](_0x572508(0x6a2)),textTab[_0x572508(0x325)][_0x572508(0x419)](_0x572508(0x6a2)),fileTab['classList'][_0x572508(0x419)]('active'),worksheetTab[_0x572508(0x325)][_0x572508(0x419)]('active');if(_0x13538c)_0x13538c[_0x572508(0x325)][_0x572508(0x419)](_0x572508(0x6a2));if(_0x5331ff)_0x5331ff[_0x572508(0x325)]['remove']('active');if(_0x62185d)_0x62185d['classList'][_0x572508(0x419)](_0x572508(0x6a2));_0x2d56ea[_0x572508(0x325)][_0x572508(0xd3c)]('active'),topicInputArea['classList'][_0x572508(0xd3c)](_0x572508(0x60b)),textInputArea['classList']['add']('hidden'),fileInputArea[_0x572508(0x325)]['add']('hidden'),worksheetInputArea[_0x572508(0x325)][_0x572508(0xd3c)](_0x572508(0x60b));if(_0x923d47)_0x923d47[_0x572508(0x325)][_0x572508(0xd3c)](_0x572508(0x60b));if(_0x3d7cc6)_0x3d7cc6[_0x572508(0x325)][_0x572508(0xd3c)](_0x572508(0x60b));if(_0x2eb1d1)_0x2eb1d1[_0x572508(0x325)][_0x572508(0xd3c)](_0x572508(0x60b));_0x17d5dd[_0x572508(0x325)][_0x572508(0x419)](_0x572508(0x60b)),displayQuestionBank();});_0x13538c&&(_0x13538c[_0x18f18a(0x8d3)]('click',()=>{const _0x131528=_0x18f18a;_0x13538c['classList'][_0x131528(0xd3c)]('active'),topicTab[_0x131528(0x325)][_0x131528(0x419)](_0x131528(0x6a2)),textTab['classList'][_0x131528(0x419)](_0x131528(0x6a2)),fileTab[_0x131528(0x325)][_0x131528(0x419)]('active'),worksheetTab[_0x131528(0x325)]['remove'](_0x131528(0x6a2));if(_0x5331ff)_0x5331ff[_0x131528(0x325)][_0x131528(0x419)]('active');if(_0x62185d)_0x62185d[_0x131528(0x325)][_0x131528(0x419)](_0x131528(0x6a2));_0x923d47[_0x131528(0x325)][_0x131528(0x419)](_0x131528(0x60b)),topicInputArea[_0x131528(0x325)][_0x131528(0xd3c)](_0x131528(0x60b)),textInputArea[_0x131528(0x325)]['add'](_0x131528(0x60b)),fileInputArea[_0x131528(0x325)][_0x131528(0xd3c)](_0x131528(0x60b)),worksheetInputArea[_0x131528(0x325)][_0x131528(0xd3c)](_0x131528(0x60b));if(_0x3d7cc6)_0x3d7cc6[_0x131528(0x325)][_0x131528(0xd3c)](_0x131528(0x60b));if(_0x2eb1d1)_0x2eb1d1[_0x131528(0x325)][_0x131528(0xd3c)](_0x131528(0x60b));}),document[_0x18f18a(0xcac)](_0x18f18a(0x361))['addEventListener'](_0x18f18a(0xc47),handleGenerateFromLink));_0x5331ff&&_0x5331ff[_0x18f18a(0x8d3)]('click',()=>{const _0x572955=_0x18f18a;_0x5331ff[_0x572955(0x325)][_0x572955(0xd3c)]('active'),topicTab[_0x572955(0x325)]['remove'](_0x572955(0x6a2)),textTab[_0x572955(0x325)][_0x572955(0x419)](_0x572955(0x6a2)),fileTab[_0x572955(0x325)][_0x572955(0x419)](_0x572955(0x6a2)),worksheetTab[_0x572955(0x325)][_0x572955(0x419)]('active');if(_0x13538c)_0x13538c[_0x572955(0x325)][_0x572955(0x419)](_0x572955(0x6a2));if(_0x2d56ea)_0x2d56ea[_0x572955(0x325)][_0x572955(0x419)](_0x572955(0x6a2));if(_0x62185d)_0x62185d[_0x572955(0x325)][_0x572955(0x419)](_0x572955(0x6a2));_0x3d7cc6[_0x572955(0x325)][_0x572955(0x419)](_0x572955(0x60b)),topicInputArea['classList'][_0x572955(0xd3c)](_0x572955(0x60b)),textInputArea['classList'][_0x572955(0xd3c)](_0x572955(0x60b)),fileInputArea[_0x572955(0x325)][_0x572955(0xd3c)]('hidden'),worksheetInputArea['classList'][_0x572955(0xd3c)](_0x572955(0x60b));if(_0x923d47)_0x923d47[_0x572955(0x325)][_0x572955(0xd3c)](_0x572955(0x60b));if(_0x17d5dd)_0x17d5dd[_0x572955(0x325)][_0x572955(0xd3c)](_0x572955(0x60b));if(_0x2eb1d1)_0x2eb1d1['classList'][_0x572955(0xd3c)](_0x572955(0x60b));});_0x62185d&&_0x62185d[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x1de583=_0x18f18a;_0x62185d[_0x1de583(0x325)][_0x1de583(0xd3c)](_0x1de583(0x6a2)),topicTab[_0x1de583(0x325)]['remove']('active'),textTab[_0x1de583(0x325)]['remove'](_0x1de583(0x6a2)),fileTab[_0x1de583(0x325)][_0x1de583(0x419)]('active'),worksheetTab[_0x1de583(0x325)]['remove'](_0x1de583(0x6a2));if(_0x13538c)_0x13538c[_0x1de583(0x325)][_0x1de583(0x419)](_0x1de583(0x6a2));if(_0x5331ff)_0x5331ff[_0x1de583(0x325)][_0x1de583(0x419)](_0x1de583(0x6a2));if(_0x2d56ea)_0x2d56ea[_0x1de583(0x325)][_0x1de583(0x419)](_0x1de583(0x6a2));_0x2eb1d1[_0x1de583(0x325)]['remove']('hidden'),topicInputArea[_0x1de583(0x325)]['add'](_0x1de583(0x60b)),textInputArea[_0x1de583(0x325)][_0x1de583(0xd3c)](_0x1de583(0x60b)),fileInputArea[_0x1de583(0x325)]['add'](_0x1de583(0x60b)),worksheetInputArea[_0x1de583(0x325)][_0x1de583(0xd3c)]('hidden');if(_0x923d47)_0x923d47[_0x1de583(0x325)]['add'](_0x1de583(0x60b));if(_0x3d7cc6)_0x3d7cc6[_0x1de583(0x325)]['add'](_0x1de583(0x60b));if(_0x17d5dd)_0x17d5dd[_0x1de583(0x325)][_0x1de583(0xd3c)](_0x1de583(0x60b));});const _0x2a0342=document[_0x18f18a(0xcac)](_0x18f18a(0x143)),_0x4a068d=document[_0x18f18a(0xcac)](_0x18f18a(0xa0a));if(_0x2a0342){const _0x1a5b06=document['getElementById']('blueprint-upload-input'),_0x37150b=document[_0x18f18a(0xcac)](_0x18f18a(0xa0a)),_0x474be7=document['getElementById'](_0x18f18a(0xd4c)),_0x5b14f7=document[_0x18f18a(0xcac)](_0x18f18a(0x6b3)),_0x514570=document['getElementById'](_0x18f18a(0x8ee)),_0x36fd4d=document[_0x18f18a(0xcac)](_0x18f18a(0x34f));_0x1a5b06&&_0x1a5b06[_0x18f18a(0x8d3)](_0x18f18a(0x394),async _0x4b130a=>{const _0x1f8c49=_0x18f18a;_0x474be7[_0x1f8c49(0x325)][_0x1f8c49(0xd3c)](_0x1f8c49(0x60b)),_0x514570[_0x1f8c49(0x325)][_0x1f8c49(0xd3c)]('hidden'),_0x5b14f7[_0x1f8c49(0xa81)]=![],_0x37150b[_0x1f8c49(0x25a)]=!![];const _0x31f3ce=_0x4b130a['target'][_0x1f8c49(0xcb8)][0x0];if(_0x31f3ce){_0x37150b[_0x1f8c49(0x25a)]=![];try{const _0x1355fc=await extractTextFromPdf(_0x31f3ce);await analyzeBlueprintForTopics(_0x1355fc);}catch(_0x137d3d){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x474be7[_0x1f8c49(0x325)][_0x1f8c49(0xd3c)](_0x1f8c49(0x60b));}}}),_0x5b14f7&&_0x5b14f7[_0x18f18a(0x8d3)](_0x18f18a(0x394),_0x1b1493=>{const _0x3eac20=_0x18f18a,_0x5e8c4e=_0x1b1493['target'][_0x3eac20(0xa81)];_0x514570[_0x3eac20(0x325)][_0x3eac20(0x1a3)](_0x3eac20(0x60b),!_0x5e8c4e),_0x37150b[_0x3eac20(0x25a)]=_0x5e8c4e;}),_0x36fd4d&&(_0x36fd4d&&_0x36fd4d[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x5d39f7=>{const _0x4fd513=_0x18f18a,_0x1fb453=_0x5d39f7[_0x4fd513(0x615)][_0x4fd513(0x2d3)](_0x4fd513(0x3af)),_0x513f23=_0x5d39f7[_0x4fd513(0x615)][_0x4fd513(0x2d3)](_0x4fd513(0xd49));if(_0x1fb453){const _0x24e8b6=unescape(_0x1fb453[_0x4fd513(0x1e8)][_0x4fd513(0xa64)]);generateQuizForSingleTopic(_0x24e8b6);}else{if(_0x513f23){const _0x54daa8=unescape(_0x513f23[_0x4fd513(0x1e8)][_0x4fd513(0xa64)]);handleGenerateTeachingContent(_0x54daa8);}}}));}_0x4a068d&&_0x4a068d[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleGenerateFromBlueprint);const _0x1d73aa=document[_0x18f18a(0xcac)](_0x18f18a(0xaae)),_0x4ee932=document['getElementById'](_0x18f18a(0x1ce));_0x1d73aa&&_0x1d73aa[_0x18f18a(0x8d3)](_0x18f18a(0x394),_0x327f77=>{const _0x58d941=_0x18f18a;_0x4ee932[_0x58d941(0x25a)]=_0x327f77[_0x58d941(0x615)]['files'][_0x58d941(0x1d6)]===0x0;});_0x4ee932&&_0x4ee932['addEventListener'](_0x18f18a(0xc47),()=>{handleGenerateParallelTest();});loadQuizBtn['addEventListener']('click',handleLoadQuiz),startQuizBtn['addEventListener'](_0x18f18a(0xc47),async()=>{const _0x3cd37f=_0x18f18a,_0x1e848c=document[_0x3cd37f(0xcac)](_0x3cd37f(0xa01));currentStudentName=_0x1e848c[_0x3cd37f(0x41e)];if(!currentStudentName){showMessage(_0x3cd37f(0x8e7));return;}try{const _0x50837d=currentQuizData['id'],_0x4b8cd3=doc(db,'artifacts/'+appId+_0x3cd37f(0x292)+_0x50837d+_0x3cd37f(0x12a),currentStudentName),_0x80be9c=await getDoc(_0x4b8cd3);!_0x80be9c[_0x3cd37f(0xa2b)]()?await setDoc(_0x4b8cd3,{'studentName':currentStudentName,'startedAt':new Date()[_0x3cd37f(0x8d)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x4b8cd3,{'startedAt':new Date()[_0x3cd37f(0x8d)]()});}catch(_0x4d44f3){console['error'](_0x3cd37f(0x2fc),_0x4d44f3),showMessage(_0x3cd37f(0xcb1));return;}studentNameSelectionView[_0x3cd37f(0x325)]['add'](_0x3cd37f(0x60b)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x18f18a(0xcac)]('join-live-game-btn')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),showJoinGameView),document['getElementById'](_0x18f18a(0x4f0))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleJoinLiveGame),document[_0x18f18a(0xcac)](_0x18f18a(0x741))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>showView(_0x18f18a(0xb63)));const _0x13416f=()=>{const _0xfe62f8=_0x18f18a,_0x34008f=document['getElementById'](_0xfe62f8(0xce))[_0xfe62f8(0xc84)][_0xfe62f8(0xc6a)](/[^a-z0-9]/gi,'_')[_0xfe62f8(0x5c9)]();return'results_'+(_0x34008f||_0xfe62f8(0x923));},_0x4e5c20=document[_0x18f18a(0xcac)](_0x18f18a(0xa0f));_0x4e5c20&&_0x4e5c20[_0x18f18a(0x8d3)](_0x18f18a(0x9dc),_0x1e1941=>{const _0x207a4e=_0x18f18a,_0x164db5=_0x1e1941[_0x207a4e(0x615)][_0x207a4e(0x41e)][_0x207a4e(0x5c9)]()[_0x207a4e(0x964)](),_0x8f2f4c=document[_0x207a4e(0xcac)]('math-topics-checkbox-container'),_0x551ace=_0x8f2f4c['querySelectorAll']('.topic-category');_0x551ace[_0x207a4e(0x99f)](_0x2049db=>{const _0x2351cd=_0x207a4e;let _0x1b7620=![];const _0x148ea8=_0x2049db[_0x2351cd(0x20a)](_0x2351cd(0xa2));_0x148ea8[_0x2351cd(0x99f)](_0xa4539b=>{const _0x43e534=_0x2351cd,_0x9aba1c=_0xa4539b[_0x43e534(0xb49)](_0x43e534(0xb55))['textContent'][_0x43e534(0x5c9)]();_0x9aba1c['includes'](_0x164db5)?(_0xa4539b['style'][_0x43e534(0xa0e)]=_0x43e534(0x4c8),_0x1b7620=!![]):_0xa4539b['style']['display']=_0x43e534(0x2c2);}),_0x1b7620?_0x2049db[_0x2351cd(0x300)]['display']=_0x2351cd(0xb8f):_0x2049db[_0x2351cd(0x300)][_0x2351cd(0xa0e)]='none';});});document['getElementById']('export-image-btn')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>exportTableAsImage('results-table-container',_0x13416f())),document[_0x18f18a(0xcac)]('export-pdf-btn')['addEventListener'](_0x18f18a(0xc47),()=>exportTableAsPDF(_0x18f18a(0x280),_0x13416f())),document[_0x18f18a(0xcac)]('export-word-btn')[_0x18f18a(0x8d3)]('click',()=>exportTableAsWord(_0x18f18a(0xc24),_0x13416f())),document[_0x18f18a(0xcac)](_0x18f18a(0x2a2))['addEventListener'](_0x18f18a(0xc47),()=>exportTableAsExcel(_0x18f18a(0x280),_0x13416f()));const _0x54456a=()=>{const _0x78ba99=_0x18f18a,_0xf9f0fa=document[_0x78ba99(0xcac)](_0x78ba99(0xce))[_0x78ba99(0xc84)][_0x78ba99(0xc6a)](/[^a-z0-9]/gi,'_')[_0x78ba99(0x5c9)]();return _0x78ba99(0xced)+(_0xf9f0fa||_0x78ba99(0x923));};document[_0x18f18a(0xcac)](_0x18f18a(0x80a))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>exportTableAsImage(_0x18f18a(0xd7c),_0x54456a())),document[_0x18f18a(0xcac)](_0x18f18a(0xac1))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>exportTableAsPDF(_0x18f18a(0x91d),_0x54456a())),document[_0x18f18a(0xcac)](_0x18f18a(0xacc))[_0x18f18a(0x8d3)]('click',()=>exportTableAsWord('quiz-leaderboard-table-container',_0x54456a())),document[_0x18f18a(0xcac)](_0x18f18a(0xb18))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>exportTableAsExcel(_0x18f18a(0x91d),_0x54456a())),projectQuizzesList['addEventListener']('click',async _0x6bc503=>{const _0x4d691b=_0x18f18a,_0x3e69b6=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)]('.quiz-result-card'),_0x2e27df=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0x7fc)),_0x261c6b=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0x70a)),_0x232f73=_0x6bc503[_0x4d691b(0x615)]['closest'](_0x4d691b(0x5ed)),_0x4d8228=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0x450)),_0x26af46=_0x6bc503['target'][_0x4d691b(0x2d3)](_0x4d691b(0x83f)),_0x3a45e0=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0x6e8)),_0x55cfc5=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0x489)),_0x391c47=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0xbca)),_0xbb3345=_0x6bc503[_0x4d691b(0x615)]['closest'](_0x4d691b(0xd31)),_0x4d8f3d=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0xbfb)),_0x88b5c1=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0x288)),_0x3d6c7f=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)]('.pair-quiz-btn'),_0x22f303=_0x6bc503[_0x4d691b(0x615)]['closest'](_0x4d691b(0x483)),_0x51c7ed=_0x6bc503[_0x4d691b(0x615)]['closest']('.start-presentation-list-btn'),_0x55fca2=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0xca5)),_0x5e3db2=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0x862)),_0x555d11=_0x6bc503['target']['closest']('.delete-quiz-btn'),_0x1614e4=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0xbe6)),_0x3a77b4=_0x6bc503['target'][_0x4d691b(0x2d3)]('.toggle-actions-btn'),_0x532e8c=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0x194)),_0x288651=_0x6bc503[_0x4d691b(0x615)][_0x4d691b(0x2d3)](_0x4d691b(0xd7f)),_0x5a7406=_0x6bc503[_0x4d691b(0x615)]['closest'](_0x4d691b(0x889));if(_0x288651){const _0x4e2d2f=_0x288651['dataset'][_0x4d691b(0x57b)],_0x337f34=_0x288651[_0x4d691b(0x1e8)][_0x4d691b(0xaf3)],_0x40db54=allQuizzes['find'](_0x68d73=>_0x68d73['id']===_0x4e2d2f);_0x40db54&&showGameStartConfirmationModal(_0x4e2d2f,_0x337f34,_0x40db54['topic']);}else{if(_0x5a7406){const _0x148bb8=_0x5a7406[_0x4d691b(0x1e8)][_0x4d691b(0x57b)];handleStartLiveRace(_0x148bb8);}else{if(_0x3a77b4){const _0x1bb688=_0x3a77b4[_0x4d691b(0x1e8)][_0x4d691b(0x57b)],_0x1df2da=document[_0x4d691b(0xcac)](_0x4d691b(0x1bd)+_0x1bb688);_0x1df2da&&_0x1df2da[_0x4d691b(0x325)][_0x4d691b(0x1a3)](_0x4d691b(0x60b));}else{if(_0x2e27df){const _0x5461db=_0x2e27df['dataset'][_0x4d691b(0x57b)],_0x4e194e=allQuizzes['find'](_0x3d21fe=>_0x3d21fe['id']===_0x5461db);_0x4e194e&&handleGenerateParallelPostTest(_0x4e194e);}else{if(_0x261c6b)handleCompareResults(_0x261c6b[_0x4d691b(0x1e8)][_0x4d691b(0x57b)],_0x261c6b['dataset']['preTestId']);else{if(_0x232f73){const _0x9c9c72=_0x232f73[_0x4d691b(0x1e8)][_0x4d691b(0x57b)],_0x3720e1=allQuizzes['find'](_0x215fbf=>_0x215fbf['id']===_0x9c9c72);_0x3720e1&&_0x3720e1['lessonPlan']?(displayLessonPlan(_0x3720e1[_0x4d691b(0xceb)],_0x3720e1),showConfirmation(_0x4d691b(0x612),()=>handleGenerateLessonPlan(_0x9c9c72)),document[_0x4d691b(0xcac)]('confirmation-modal')[_0x4d691b(0xb49)]('h3')[_0x4d691b(0xc84)]='แผนการสอน',document[_0x4d691b(0xcac)](_0x4d691b(0x844))[_0x4d691b(0xc84)]=_0x4d691b(0x2a6)):handleGenerateLessonPlan(_0x9c9c72);}else{if(_0x4d8228)handleToggleStarQuiz(_0x4d8228['dataset'][_0x4d691b(0x57b)]);else{if(_0x26af46)copyTextToClipboard(_0x26af46['dataset'][_0x4d691b(0x57b)],_0x4d691b(0x2b4));else{if(_0x3a45e0)handleOpenQuizEditor(_0x3a45e0['dataset'][_0x4d691b(0x57b)]);else{if(_0x55cfc5)handleQuizSettings(_0x55cfc5[_0x4d691b(0x1e8)][_0x4d691b(0x57b)]);else{if(_0x391c47)handleDuplicateQuiz(_0x391c47[_0x4d691b(0x1e8)][_0x4d691b(0x57b)]);else{if(_0xbb3345)handleRenameQuiz(_0xbb3345[_0x4d691b(0x1e8)][_0x4d691b(0x57b)],_0xbb3345[_0x4d691b(0x1e8)][_0x4d691b(0xa64)]);else{if(_0x4d8f3d){const _0x46433d=_0x4d8f3d[_0x4d691b(0x1e8)][_0x4d691b(0x57b)],_0x26fd8e=allQuizzes['find'](_0x25eed7=>_0x25eed7['id']===_0x46433d);_0x26fd8e&&handleGenerateParallelFromBank(_0x26fd8e);}else{if(_0x88b5c1)handleMoveQuiz(_0x88b5c1[_0x4d691b(0x1e8)][_0x4d691b(0x57b)]);else{if(_0x3d6c7f)handleManualQuizPairing(_0x3d6c7f[_0x4d691b(0x1e8)]['quizId']);else{if(_0x22f303)handleUnpairQuiz(_0x22f303[_0x4d691b(0x1e8)][_0x4d691b(0x57b)]);else{if(_0x51c7ed){const _0x20d445=_0x51c7ed[_0x4d691b(0x1e8)][_0x4d691b(0x57b)],_0x4bd35e=allQuizzes[_0x4d691b(0x2f4)](_0x52c406=>_0x52c406['id']===_0x20d445);if(_0x4bd35e)startPresentation(_0x4bd35e);}else{if(_0x55fca2){const _0x39e423=_0x55fca2[_0x4d691b(0x1e8)][_0x4d691b(0x57b)],_0xeae9f2=allQuizzes[_0x4d691b(0x2f4)](_0x5983f3=>_0x5983f3['id']===_0x39e423);_0xeae9f2&&(currentQuizData=_0xeae9f2,startAdminTest());}else{if(_0x5e3db2)actionTargetId=_0x5e3db2['dataset'][_0x4d691b(0x57b)],document['getElementById'](_0x4d691b(0x559))[_0x4d691b(0x325)][_0x4d691b(0x419)](_0x4d691b(0x60b));else{if(_0x555d11)showConfirmation(_0x4d691b(0x557)+_0x555d11[_0x4d691b(0x1e8)]['topic']+_0x4d691b(0x142),()=>handleDeleteQuiz(_0x555d11['dataset']['quizId']));else{if(_0x1614e4)handleQuizStatus(_0x1614e4[_0x4d691b(0x1e8)][_0x4d691b(0x57b)]);else{if(_0x532e8c)handleGenerateEasyVersionQuiz(_0x532e8c['dataset'][_0x4d691b(0x57b)]);else _0x3e69b6&&showQuizDetailView(_0x3e69b6[_0x4d691b(0x1e8)][_0x4d691b(0x57b)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x18f18a(0xcac)](_0x18f18a(0x2c5))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>showView('student')),document[_0x18f18a(0xcac)](_0x18f18a(0xaef))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),confirmAndStartTeamQuiz),document[_0x18f18a(0xcac)](_0x18f18a(0x91d))[_0x18f18a(0xb49)](_0x18f18a(0x8f0))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x54d7cd=>{const _0x58ae8b=_0x18f18a,_0x30e4da=_0x54d7cd[_0x58ae8b(0x615)][_0x58ae8b(0x2d3)](_0x58ae8b(0x3b8));if(!_0x30e4da||!_0x30e4da['dataset']['sort'])return;const _0x3e1f8d=_0x30e4da[_0x58ae8b(0x1e8)]['sort'];if(quizLeaderboardSortBy===_0x3e1f8d)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x58ae8b(0x169)?_0x58ae8b(0x64e):'asc';else{quizLeaderboardSortBy=_0x3e1f8d;const _0x32028f=['studentName'];quizLeaderboardSortOrder=_0x32028f[_0x58ae8b(0x39b)](_0x3e1f8d)?_0x58ae8b(0x169):_0x58ae8b(0x64e);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x58ae8b(0xa11));}),document[_0x18f18a(0xcac)](_0x18f18a(0x50f))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),closePresentation),document[_0x18f18a(0xcac)](_0x18f18a(0x25c))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x18f18a(0xcac)](_0x18f18a(0xa69))['addEventListener'](_0x18f18a(0xc47),()=>{const _0x58abf4=_0x18f18a;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x58abf4(0xbfe)][_0x58abf4(0x1d6)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x18f18a(0x8d3)](_0x18f18a(0x23b),()=>{const _0x36e9cf=_0x18f18a;!document[_0x36e9cf(0x522)]&&(presentationModal[_0x36e9cf(0x300)]['display']='none');}),document['getElementById'](_0x18f18a(0x383))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleDeleteAllStudents),studentList['addEventListener'](_0x18f18a(0xc47),_0xbfbeac=>{const _0x53b565=_0x18f18a,_0x58d948=_0xbfbeac[_0x53b565(0x615)][_0x53b565(0x2d3)]('.delete-student-btn');if(_0x58d948){const _0x536169=_0x58d948[_0x53b565(0x1e8)]['studentName'];handleDeleteStudent(_0x536169);}}),document['getElementById']('generate-from-file-btn')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleGenerateFromFileClick),fileUploadInput[_0x18f18a(0x8d3)](_0x18f18a(0x394),_0x18ac8c=>{const _0xb77b90=_0x18f18a,_0x2ad9c8=_0x18ac8c[_0xb77b90(0x615)][_0xb77b90(0xcb8)][0x0],_0x2555b6=document[_0xb77b90(0xcac)]('generate-from-file-btn'),_0x1bf602=document[_0xb77b90(0xcac)](_0xb77b90(0xc6d)),_0x12e18e=document['getElementById']('separate-by-content-from-file-checkbox');_0x2ad9c8?(selectedFile=_0x2ad9c8,_0x12e18e['checked']?(_0x2555b6[_0xb77b90(0x25a)]=!![],analyzeFileForTopics(_0x2ad9c8)):(_0x2555b6['disabled']=![],_0x1bf602[_0xb77b90(0x325)]['add'](_0xb77b90(0x60b)))):(selectedFile=null,_0x2555b6[_0xb77b90(0x25a)]=!![],_0x1bf602[_0xb77b90(0x325)][_0xb77b90(0xd3c)](_0xb77b90(0x60b)));}),document['getElementById'](_0x18f18a(0x620))[_0x18f18a(0x8d3)](_0x18f18a(0x394),_0x3280f8=>{const _0x1a2825=_0x18f18a,_0x500465=_0x3280f8['target'][_0x1a2825(0xa81)],_0x368267=document[_0x1a2825(0xcac)](_0x1a2825(0x935)),_0x235432=document[_0x1a2825(0xcac)]('file-topics-list-container');_0x500465?(_0x368267['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x235432['classList'][_0x1a2825(0x419)]('hidden'),document[_0x1a2825(0xcac)]('file-topics-list')[_0x1a2825(0xcaa)]=_0x1a2825(0x223))):(_0x235432[_0x1a2825(0x325)]['add'](_0x1a2825(0x60b)),_0x368267[_0x1a2825(0x25a)]=!selectedFile);}),document[_0x18f18a(0xcac)]('file-topics-list-container')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x48ab96=>{const _0x16499e=_0x18f18a,_0x23f34a=_0x48ab96[_0x16499e(0x615)][_0x16499e(0x2d3)](_0x16499e(0xa03)),_0xf9a349=_0x48ab96[_0x16499e(0x615)][_0x16499e(0x2d3)]('.generate-content-btn');if(_0x23f34a){const _0x4de0b7=unescape(_0x23f34a['dataset']['topic']);generateHybridQuizForTopic(_0x4de0b7);}else{if(_0xf9a349){const _0x4bab95=unescape(_0xf9a349[_0x16499e(0x1e8)][_0x16499e(0xa64)]),_0x575cac=document[_0x16499e(0xcac)](_0x16499e(0x1be))[_0x16499e(0x41e)];handleGenerateAndShowLesson(_0x4bab95,_0x575cac);}}}),document['getElementById'](_0x18f18a(0xb01))[_0x18f18a(0x8d3)](_0x18f18a(0x394),_0x2750f5=>{const _0x3a10ed=_0x18f18a,_0x47b1e9=document[_0x3a10ed(0xcac)](_0x3a10ed(0x441)),_0x214545=document[_0x3a10ed(0xcac)]('timer-duration-label'),_0x51dde4=document[_0x3a10ed(0xcac)]('timer-duration-input');_0x2750f5[_0x3a10ed(0x615)][_0x3a10ed(0x41e)]==='none'?_0x47b1e9[_0x3a10ed(0x325)]['add']('hidden'):(_0x47b1e9[_0x3a10ed(0x325)]['remove'](_0x3a10ed(0x60b)),_0x2750f5['target'][_0x3a10ed(0x41e)]===_0x3a10ed(0xad7)?(_0x214545[_0x3a10ed(0xc84)]='ระยะเวลา\x20(นาที):',_0x51dde4['value']='10'):(_0x214545[_0x3a10ed(0xc84)]=_0x3a10ed(0xd8b),_0x51dde4[_0x3a10ed(0x41e)]='30'));}),document['getElementById'](_0x18f18a(0xb79))[_0x18f18a(0x8d3)](_0x18f18a(0x394),_0x4bfd4e=>{const _0x30b205=_0x18f18a,_0x43b552=document[_0x30b205(0xcac)](_0x30b205(0x99b)),_0x109cb5=_0x4bfd4e['target']['value'],_0x2b56e3=document[_0x30b205(0xb49)](_0x30b205(0xb26)),_0x30edc6=document['getElementById'](_0x30b205(0xbff)),_0x525412=document['getElementById']('num-questions');_0x109cb5===_0x30b205(0x775)?_0x2b56e3['textContent']=_0x30b205(0xbab):_0x2b56e3[_0x30b205(0xc84)]='จำนวนข้อ:',_0x109cb5===_0x30b205(0x801)||_0x109cb5===_0x30b205(0xd44)||_0x109cb5==='mixed'?_0x43b552['classList']['remove'](_0x30b205(0x60b)):_0x43b552[_0x30b205(0x325)]['add']('hidden'),_0x30edc6[_0x30b205(0xdb)]=_0x525412[_0x30b205(0x41e)];}),document['getElementById']('num-questions')[_0x18f18a(0x8d3)](_0x18f18a(0x9dc),_0x26af91=>{const _0x255c9c=_0x18f18a;document[_0x255c9c(0xcac)](_0x255c9c(0xbff))[_0x255c9c(0xdb)]=_0x26af91['target'][_0x255c9c(0x41e)];}),document[_0x18f18a(0xcac)](_0x18f18a(0x8d1))[_0x18f18a(0x8d3)](_0x18f18a(0x394),_0x581d83=>{const _0x35c3f2=_0x18f18a,_0x412ddd=document['getElementById']('modal-timer-duration-container'),_0x54ba82=document[_0x35c3f2(0xcac)](_0x35c3f2(0x8f4)),_0x3f6a8c=document['getElementById']('modal-timer-duration-input');_0x581d83['target']['value']===_0x35c3f2(0x2c2)?_0x412ddd[_0x35c3f2(0x325)]['add']('hidden'):(_0x412ddd[_0x35c3f2(0x325)][_0x35c3f2(0x419)](_0x35c3f2(0x60b)),_0x581d83['target'][_0x35c3f2(0x41e)]===_0x35c3f2(0xad7)?_0x54ba82[_0x35c3f2(0xc84)]=_0x35c3f2(0x55a):_0x54ba82[_0x35c3f2(0xc84)]=_0x35c3f2(0xd8b));}),document[_0x18f18a(0xcac)]('cancel-quiz-edits-btn')[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x34f6ae=_0x18f18a;document[_0x34f6ae(0xcac)](_0x34f6ae(0xce3))[_0x34f6ae(0x325)][_0x34f6ae(0xd3c)]('hidden');}),document[_0x18f18a(0xcac)](_0x18f18a(0x18a))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x27174b=_0x18f18a;document[_0x27174b(0xcac)](_0x27174b(0xce3))[_0x27174b(0x325)][_0x27174b(0xd3c)]('hidden');}),document['getElementById'](_0x18f18a(0xae4))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleVerifyAnswersInEditor),document[_0x18f18a(0xcac)](_0x18f18a(0x792))['addEventListener'](_0x18f18a(0xc47),()=>{const _0x26076a=_0x18f18a;document[_0x26076a(0xcac)](_0x26076a(0xce3))[_0x26076a(0x325)]['add'](_0x26076a(0x60b)),showConfirmation(_0x26076a(0xbe4),handleSaveChanges);}),document[_0x18f18a(0xcac)](_0x18f18a(0x346))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleAutoFixLatex);const _0x2e921e=document['getElementById'](_0x18f18a(0x5d9));_0x2e921e&&_0x2e921e[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x303d96=>{const _0x3a93a0=_0x18f18a,_0x290c42=_0x303d96[_0x3a93a0(0x615)][_0x3a93a0(0x2d3)]('.regenerate-question-editor-btn');if(_0x290c42){const _0x240d2e=_0x290c42[_0x3a93a0(0x2d3)]('.question-editor-item'),_0x39c1f6=parseInt(_0x240d2e['dataset'][_0x3a93a0(0x3a7)],0xa);handleRegenerateQuestionInEditor(_0x39c1f6);return;}const _0x2e1321=_0x303d96['target'][_0x3a93a0(0x2d3)](_0x3a93a0(0x362));if(_0x2e1321){const _0x3f4af4=_0x2e1321['closest'](_0x3a93a0(0x1b9)),_0x3a4c0=parseInt(_0x3f4af4[_0x3a93a0(0x1e8)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x3a4c0);return;}const _0x240ccd=_0x303d96[_0x3a93a0(0x615)][_0x3a93a0(0x2d3)]('#add-question-editor-btn');if(_0x240ccd){handleAddQuestionInEditor();return;}});document[_0x18f18a(0xcac)]('open-quiz-bank-btn')['addEventListener']('click',openQuizBankModal),document[_0x18f18a(0xcac)](_0x18f18a(0xca9))['addEventListener'](_0x18f18a(0xc47),()=>{const _0x68168b=_0x18f18a;document[_0x68168b(0xcac)](_0x68168b(0x24a))['classList'][_0x68168b(0xd3c)](_0x68168b(0x60b));}),document[_0x18f18a(0xcac)](_0x18f18a(0x673))[_0x18f18a(0x8d3)]('input',_0xfd2fb3=>renderQuizBankList(_0xfd2fb3[_0x18f18a(0x615)][_0x18f18a(0x41e)]));const _0x618ddc=document[_0x18f18a(0xcac)](_0x18f18a(0x8ce));if(_0x618ddc){let _0x2815de=null;_0x618ddc['addEventListener'](_0x18f18a(0xc47),_0x20abd0=>{const _0x3ee54f=_0x18f18a,_0x5b7194=_0x20abd0['target'],_0x4c1c3d=_0x5b7194[_0x3ee54f(0x2d3)]('.edit-custom-topic-btn'),_0x4fa1f2=_0x5b7194[_0x3ee54f(0x2d3)](_0x3ee54f(0x660)),_0x2e8957=_0x5b7194[_0x3ee54f(0x2d3)](_0x3ee54f(0x97)),_0x453ff=_0x5b7194[_0x3ee54f(0x2d3)]('.cancel-edit-topic-btn');if(_0x4fa1f2){_0x20abd0['preventDefault']();const _0x36cab7=_0x4fa1f2['dataset']['id'],_0x2f6a01=_0x4fa1f2[_0x3ee54f(0x2d3)](_0x3ee54f(0xd18))[_0x3ee54f(0xb49)](_0x3ee54f(0xb55))[_0x3ee54f(0xc84)];showConfirmation(_0x3ee54f(0x796)+_0x2f6a01+'\x22?',()=>handleDeleteCustomTopic(_0x36cab7));}else{if(_0x4c1c3d){_0x20abd0['preventDefault']();_0x2815de&&toggleTopicEditMode(_0x2815de,![]);const _0x5ed5a1=_0x4c1c3d[_0x3ee54f(0x2d3)](_0x3ee54f(0x8a6));_0x2815de=_0x5ed5a1,toggleTopicEditMode(_0x5ed5a1,!![]);}else{if(_0x2e8957){_0x20abd0[_0x3ee54f(0xd43)]();const _0x4493b1=_0x2e8957[_0x3ee54f(0x1e8)]['id'],_0x3e0e0a=_0x2e8957[_0x3ee54f(0x2d3)](_0x3ee54f(0x8a6)),_0x331e00=_0x3e0e0a[_0x3ee54f(0xb49)](_0x3ee54f(0x3b9))[_0x3ee54f(0x41e)];handleUpdateCustomTopic(_0x4493b1,_0x331e00),_0x2815de=null;}else{if(_0x453ff){_0x20abd0[_0x3ee54f(0xd43)]();const _0x335646=_0x453ff[_0x3ee54f(0x2d3)](_0x3ee54f(0x8a6));toggleTopicEditMode(_0x335646,![]),_0x2815de=null;}}}}}),document[_0x18f18a(0xcac)](_0x18f18a(0x40c))[_0x18f18a(0x8d3)]('click',()=>{const _0x437676=_0x18f18a;document[_0x437676(0xcac)]('lesson-plan-modal')[_0x437676(0x325)]['add'](_0x437676(0x60b));}),document[_0x18f18a(0xcac)](_0x18f18a(0x1fa))[_0x18f18a(0x8d3)]('click',()=>{const _0xf6a6d1=_0x18f18a;document[_0xf6a6d1(0xcac)](_0xf6a6d1(0x360))[_0xf6a6d1(0x325)][_0xf6a6d1(0xd3c)](_0xf6a6d1(0x60b));}),document[_0x18f18a(0xcac)](_0x18f18a(0xa86))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),handleExportLessonPDF);}document[_0x18f18a(0xcac)](_0x18f18a(0x5f1))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x3c4020=_0x18f18a;document[_0x3c4020(0xcac)](_0x3c4020(0x2d4))['classList'][_0x3c4020(0xd3c)](_0x3c4020(0x60b));}),document[_0x18f18a(0xcac)](_0x18f18a(0x1ea))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),()=>{const _0x3ead5e=_0x18f18a;document['getElementById']('comparison-modal')[_0x3ead5e(0x325)][_0x3ead5e(0xd3c)](_0x3ead5e(0x60b));}),setupComparisonModalTabs(),document[_0x18f18a(0x742)][_0x18f18a(0x8d3)](_0x18f18a(0xc47),function(_0x3fa753){const _0x437e9f=_0x18f18a;if(_0x3fa753[_0x437e9f(0x615)]['classList'][_0x437e9f(0x9e8)]('practice-topic-btn')){const _0x5ebdd2=unescape(_0x3fa753[_0x437e9f(0x615)][_0x437e9f(0x1e8)][_0x437e9f(0xa64)]);startSkillPractice(_0x5ebdd2);}}),document[_0x18f18a(0xcac)](_0x18f18a(0xa85))[_0x18f18a(0x8d3)](_0x18f18a(0xc47),_0x37c64b=>{const _0xcd5489=_0x18f18a,_0x4e2f28=_0x37c64b['target']['closest'](_0xcd5489(0x687));if(_0x4e2f28){const _0x2cb581=_0x4e2f28[_0xcd5489(0x1e8)][_0xcd5489(0x3ef)];handleDeleteSubmission(_0x2cb581);}});}async function handleStartGroupMode(_0x312127,_0x4bf8ab=![]){const _0x16dcfc=_0x1ca595,_0x208385=allQuizzes[_0x16dcfc(0x2f4)](_0x27817b=>_0x27817b['id']===_0x312127)||allQuizzesGlobal['find'](_0x2125fa=>_0x2125fa['id']===_0x312127);if(!_0x208385){showMessage(_0x16dcfc(0x284));return;}currentQuizData=getShuffledQuiz(_0x208385);const _0x11f33c=Math[_0x16dcfc(0xd51)](0x3e8+Math[_0x16dcfc(0x6b8)]()*0x2328)[_0x16dcfc(0x287)]();try{const _0x468496=await addDoc(collection(db,_0x16dcfc(0x54a)+appId+_0x16dcfc(0x72b)),{'quizId':_0x208385['id'],'projectId':_0x208385['projectId'],'status':_0x16dcfc(0xc7a),'pin':_0x11f33c,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4bf8ab});currentTeamQuizId=_0x468496['id'],showView(_0x16dcfc(0x6fe)),renderAdminTeamQuizDashboard(_0x11f33c,_0x208385['topic'],_0x16dcfc(0x5db)),listenForTeamQuizUpdates();}catch(_0x1410d9){console[_0x16dcfc(0x96)]('Error\x20starting\x20group\x20quiz:',_0x1410d9),showMessage(_0x16dcfc(0xc4a));}}async function showStudentProgressView(){const _0x3b0043=_0x1ca595;studentInitialView[_0x3b0043(0x325)]['add'](_0x3b0043(0x60b)),document[_0x3b0043(0xcac)]('student-progress-view')[_0x3b0043(0x325)][_0x3b0043(0x419)]('hidden');const _0x5e9b28=document[_0x3b0043(0xcac)](_0x3b0043(0x7ff)),_0x37ed81=document['getElementById']('progress-student-select'),_0x4b3f19=document['getElementById'](_0x3b0043(0x88f));_0x4b3f19[_0x3b0043(0xcaa)]=_0x3b0043(0x93c),_0x37ed81[_0x3b0043(0xcaa)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x37ed81[_0x3b0043(0x25a)]=!![],_0x5e9b28[_0x3b0043(0xcaa)]=_0x3b0043(0x646);if(allProjects[_0x3b0043(0x1d6)]===0x0){const _0x3d0f75=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x285f7c=await getDocs(_0x3d0f75);allProjects=_0x285f7c[_0x3b0043(0x26a)][_0x3b0043(0x201)](_0x232c2b=>({'id':_0x232c2b['id'],..._0x232c2b[_0x3b0043(0xb6)]()}));}const _0x34d5b4=allProjects[_0x3b0043(0xa00)](_0x1a378c=>_0x1a378c[_0x3b0043(0xaaa)]?.[_0x3b0043(0x116)]!==![]);_0x34d5b4[_0x3b0043(0xb2f)]((_0x280b9e,_0x49fa12)=>_0x280b9e[_0x3b0043(0x5b1)][_0x3b0043(0xbf1)](_0x49fa12['projectName'],'th')),_0x5e9b28['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x34d5b4['map'](_0x2b8a3c=>'<option\x20value=\x22'+_0x2b8a3c['id']+'\x22>'+_0x2b8a3c[_0x3b0043(0x5b1)]+_0x3b0043(0x603))[_0x3b0043(0xa88)](''),_0x5e9b28['onchange']=()=>{const _0x1cd4aa=_0x3b0043,_0x15c5e3=_0x37ed81[_0x1cd4aa(0x41e)],_0x5d3420=_0x5e9b28[_0x1cd4aa(0x41e)];_0x37ed81['disabled']=!![],_0x37ed81[_0x1cd4aa(0xcaa)]=_0x1cd4aa(0xb7a),_0x4b3f19[_0x1cd4aa(0xcaa)]=_0x1cd4aa(0xad0);if(!_0x5d3420)return;const _0x421aba=allProjects['find'](_0x36f660=>_0x36f660['id']===_0x5d3420);if(!_0x421aba||!_0x421aba[_0x1cd4aa(0xbbc)])return;const _0x51db9e=()=>{const _0x580d99=_0x1cd4aa;_0x37ed81[_0x580d99(0xcaa)]=_0x580d99(0xb7a)+_0x421aba['students'][_0x580d99(0x201)](_0x41714d=>_0x580d99(0xb8c)+_0x41714d+'\x22>'+_0x41714d+_0x580d99(0x603))[_0x580d99(0xa88)](''),_0x37ed81['disabled']=![];const _0x3285a8=Array[_0x580d99(0x6ca)](_0x37ed81[_0x580d99(0x63f)])[_0x580d99(0x201)](_0x211132=>_0x211132[_0x580d99(0x41e)]);if(_0x15c5e3&&_0x3285a8[_0x580d99(0x39b)](_0x15c5e3))_0x37ed81[_0x580d99(0x41e)]=_0x15c5e3,_0x37ed81[_0x580d99(0x4bb)](new Event(_0x580d99(0x394)));else _0x421aba[_0x580d99(0xbbc)][_0x580d99(0x1d6)]===0x1&&(_0x37ed81['value']=_0x421aba[_0x580d99(0xbbc)][0x0],_0x37ed81['dispatchEvent'](new Event(_0x580d99(0x394))));};if(_0x421aba[_0x1cd4aa(0xaaa)]?.[_0x1cd4aa(0xb4f)]){if(sessionStorage[_0x1cd4aa(0x224)](_0x1cd4aa(0x17b)+_0x5d3420)===_0x1cd4aa(0xbe7)){_0x51db9e();return;}const _0x218ca5=document[_0x1cd4aa(0xcac)](_0x1cd4aa(0xce6)),_0x42ba2e=document[_0x1cd4aa(0xcac)](_0x1cd4aa(0x8b)),_0x18959a=document['getElementById'](_0x1cd4aa(0x9c7)),_0x4e6fd9=document[_0x1cd4aa(0xcac)](_0x1cd4aa(0x4ae)),_0xd87270=document[_0x1cd4aa(0xcac)](_0x1cd4aa(0x48d));document[_0x1cd4aa(0xcac)](_0x1cd4aa(0x1fb))[_0x1cd4aa(0xc84)]=_0x1cd4aa(0xd6b)+_0x421aba[_0x1cd4aa(0x5b1)],_0x4e6fd9[_0x1cd4aa(0x41e)]='',_0xd87270[_0x1cd4aa(0x325)][_0x1cd4aa(0xd3c)](_0x1cd4aa(0x60b)),_0x218ca5[_0x1cd4aa(0x325)]['remove'](_0x1cd4aa(0x60b));const _0x4ed335=()=>{const _0xda6d5b=_0x1cd4aa,_0x19831c=_0x4e6fd9['value'][_0xda6d5b(0x964)]();_0x19831c===_0x421aba[_0xda6d5b(0xaaa)][_0xda6d5b(0x293)]?(sessionStorage[_0xda6d5b(0x616)](_0xda6d5b(0x17b)+_0x5d3420,_0xda6d5b(0xbe7)),_0x218ca5['classList'][_0xda6d5b(0xd3c)](_0xda6d5b(0x60b)),_0x51db9e(),_0x42ba2e['removeEventListener']('click',_0x4ed335)):_0xd87270[_0xda6d5b(0x325)][_0xda6d5b(0x419)]('hidden');};_0x42ba2e[_0x1cd4aa(0x733)]=_0x4ed335,_0x18959a['onclick']=()=>{const _0x4692a1=_0x1cd4aa;_0x218ca5[_0x4692a1(0x325)]['add'](_0x4692a1(0x60b)),_0x5e9b28[_0x4692a1(0x41e)]='',_0x42ba2e[_0x4692a1(0x524)]('click',_0x4ed335);};}else _0x51db9e();},_0x37ed81[_0x3b0043(0x2de)]=()=>{const _0x3d8089=_0x3b0043,_0x3e16f8=_0x5e9b28['value'],_0x21d44c=_0x37ed81[_0x3d8089(0x41e)];_0x3e16f8&&_0x21d44c&&renderStudentProgressDashboard(_0x3e16f8,_0x21d44c);};}async function confirmAndJoinSyncGame(){const _0x1cafa3=_0x1ca595;lastSeenQuestionIndex=-0x1,sessionStorage[_0x1cafa3(0xe1)](_0x1cafa3(0x418)),sessionStorage[_0x1cafa3(0xe1)](_0x1cafa3(0xba7)),Object[_0x1cafa3(0x236)](sessionStorage)[_0x1cafa3(0x99f)](_0x29cec8=>{const _0x1e398e=_0x1cafa3;(_0x29cec8[_0x1e398e(0x82f)](_0x1e398e(0xc17))||_0x29cec8['startsWith'](_0x1e398e(0x39d))||_0x29cec8[_0x1e398e(0x82f)](_0x1e398e(0x989)))&&sessionStorage[_0x1e398e(0xe1)](_0x29cec8);});const _0x512bc1=Array[_0x1cafa3(0x6ca)](document[_0x1cafa3(0x20a)](_0x1cafa3(0xb1d)))['map'](_0x4e0d99=>_0x4e0d99[_0x1cafa3(0x41e)]);if(_0x512bc1[_0x1cafa3(0x1d6)]===0x0){showMessage(_0x1cafa3(0xd0a));return;}localTeamPlayers=_0x512bc1,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x57f22b=writeBatch(db),_0xaeec4e=serverTimestamp();_0x512bc1['forEach'](_0x31c8bd=>{const _0x11c7b4=_0x1cafa3,_0xed6803=doc(db,_0x11c7b4(0x54a)+appId+_0x11c7b4(0x691)+currentLiveGameId+_0x11c7b4(0x119),_0x31c8bd),_0x8189={'name':_0x31c8bd,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x11c7b4(0x6a2),'answers':[],'joinedAt':_0xaeec4e,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x57f22b[_0x11c7b4(0x499)](_0xed6803,_0x8189,{'merge':!![]});}),await _0x57f22b[_0x1cafa3(0x521)](),showView(_0x1cafa3(0x6fe)),document[_0x1cafa3(0xcac)]('student-team-selection-view')[_0x1cafa3(0x325)][_0x1cafa3(0xd3c)]('hidden'),currentStudentName=_0x512bc1[0x0],listenForSyncGameUpdates();const _0x585efa={'gameId':currentLiveGameId,'mode':_0x1cafa3(0x417),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1cafa3(0x616)]('activeGameSession',JSON[_0x1cafa3(0x71f)](_0x585efa)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x1cafa3(0x23b),handleFullscreenChange),document[_0x1cafa3(0x8d3)](_0x1cafa3(0x945),handleVisibilityChange),enterFullscreen(),window[_0x1cafa3(0x8d3)](_0x1cafa3(0xc8b),resetDimTimer),window[_0x1cafa3(0x8d3)](_0x1cafa3(0x13e),resetDimTimer),window[_0x1cafa3(0x8d3)]('touchstart',resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());}catch(_0x470df4){console[_0x1cafa3(0x96)](_0x1cafa3(0x4c7),_0x470df4),showMessage(_0x1cafa3(0x4af)+_0x470df4[_0x1cafa3(0xaee)]);}}async function resumeActiveGameSession(){const _0x40428d=_0x1ca595,_0x5b4792=sessionStorage['getItem'](_0x40428d(0x5fd));if(!_0x5b4792)return;const _0x318277=JSON['parse'](_0x5b4792),{gameId:_0x52f657,mode:_0x46ac60,role:_0x2dd3ae,players:_0x3051f3,turnIndex:_0x1a9475}=_0x318277;try{if(_0x2dd3ae===_0x40428d(0x28d)&&_0x46ac60===_0x40428d(0x417)){const _0x532f1a=doc(db,_0x40428d(0x54a)+appId+'/public/data/syncGames',_0x52f657),_0x2a4fc9=await getDoc(_0x532f1a);if(!_0x2a4fc9[_0x40428d(0xa2b)]()||_0x2a4fc9[_0x40428d(0xb6)]()[_0x40428d(0x670)]===_0x40428d(0x5bc)||_0x2a4fc9[_0x40428d(0xb6)]()[_0x40428d(0x670)]===_0x40428d(0xb67)){sessionStorage[_0x40428d(0xe1)](_0x40428d(0x5fd));return;}console[_0x40428d(0xa7f)](_0x40428d(0x36e)+_0x52f657+')'),currentMode=_0x40428d(0x28d),currentLiveGameId=_0x52f657,currentQuizData=_0x2a4fc9[_0x40428d(0xb6)]()[_0x40428d(0xc09)],showView(_0x40428d(0x6fe)),listenForSyncGameUpdates();}else{if(_0x46ac60===_0x40428d(0x417)&&_0x3051f3){const _0x180ac6=doc(db,'artifacts/'+appId+_0x40428d(0xa14),_0x52f657),_0x2eb613=await getDoc(_0x180ac6);if(!_0x2eb613[_0x40428d(0xa2b)]()||_0x2eb613[_0x40428d(0xb6)]()[_0x40428d(0x670)]==='podium'||_0x2eb613['data']()[_0x40428d(0x670)]==='finished'){sessionStorage[_0x40428d(0xe1)](_0x40428d(0x5fd));return;}console['log'](_0x40428d(0x4ab)+_0x52f657+')'),currentLiveGameId=_0x52f657,currentStudentName=_0x3051f3[0x0],localTeamPlayers=_0x3051f3,showView(_0x40428d(0x6fe)),listenForSyncGameUpdates();}else{if((_0x46ac60===_0x40428d(0x619)||_0x46ac60===_0x40428d(0x5db))&&_0x3051f3){const _0x4ad455=doc(db,_0x40428d(0x54a)+appId+'/public/data/teamQuizzes',_0x52f657),_0xda861e=await getDoc(_0x4ad455);if(!_0xda861e['exists']()||_0xda861e[_0x40428d(0xb6)]()['status']==='podium'||_0xda861e['data']()[_0x40428d(0x670)]===_0x40428d(0xb67)){sessionStorage[_0x40428d(0xe1)](_0x40428d(0x5fd));return;}console['log'](_0x40428d(0xbba)+_0x46ac60+_0x40428d(0xad8)+_0x52f657+')'),currentTeamQuizId=_0x52f657,localTeamPlayers=_0x3051f3,localQuestionIndex=_0x318277[_0x40428d(0x65b)]||0x0,localPlayerIndex=_0x318277['playerIndex']||0x0;const _0x28ee6d=_0xda861e[_0x40428d(0xb6)](),_0x3fc5d2=doc(db,_0x40428d(0x54a)+appId+_0x40428d(0xa62),_0x28ee6d[_0x40428d(0x57b)]),_0x1e1d89=await getDoc(_0x3fc5d2);_0x1e1d89[_0x40428d(0xa2b)]()&&(currentQuizData=getShuffledQuiz({'id':_0x1e1d89['id'],..._0x1e1d89['data']()}),showView(_0x40428d(0xb63)),studentInitialView[_0x40428d(0x325)]['add'](_0x40428d(0x60b)),_0x46ac60==='group'?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x3e7c5a){console[_0x40428d(0x96)](_0x40428d(0xd22),_0x3e7c5a),sessionStorage[_0x40428d(0xe1)]('activeGameSession');}}async function handleUsePowerup(_0x443b60,_0x2eb9a3,_0x518da3,_0x2651de,_0xc61c5){const _0x375739=_0x1ca595,_0x230e0b=_0x2651de[_0x375739(0x464)],_0x22080c=_0x375739(0x39d)+_0x230e0b+'_p'+_0x443b60,_0x5622a8=sessionStorage[_0x375739(0x224)](_0x22080c);if(_0x5622a8&&_0x2eb9a3!=='buyTime'&&_0x2eb9a3!=='strategyScan'){showMessage(_0x375739(0x92c));const _0x4db1a6=document[_0x375739(0xcac)](_0x375739(0x16f)+_0x2eb9a3);if(_0x4db1a6)_0x4db1a6[_0x375739(0x25a)]=![];return;}if(_0x2eb9a3===_0x375739(0x8d2)){sessionStorage[_0x375739(0x616)](_0x22080c,_0x2eb9a3),renderStudentSyncQuestionView(_0x2651de);return;}const _0x3128c4=doc(db,_0x375739(0x54a)+appId+_0x375739(0x691)+currentLiveGameId+'/players',_0x443b60);try{await runTransaction(db,async _0x46460b=>{const _0x3f2f21=_0x375739,_0x33eaff=await _0x46460b['get'](_0x3128c4);if(!_0x33eaff[_0x3f2f21(0xa2b)]())throw _0x3f2f21(0x2ac);const _0x45c296=_0x33eaff['data'](),_0x381d86=_0x45c296[_0x3f2f21(0x6a8)]||{},_0x24013d=_0x381d86[_0x2eb9a3]||0x0;if(_0x24013d<=0x0)throw _0x3f2f21(0x88d);const _0x3c55b3={};_0x3c55b3[_0x3f2f21(0x4cd)+_0x2eb9a3]=increment(-0x1);if(_0x2eb9a3===_0x3f2f21(0xd14)){const _0x3412a6=(_0x2651de[_0x3f2f21(0xa4b)]||0xf0)*0x3e8,_0x171a1e=_0x3412a6*0.25;_0x3c55b3['timeBonusThisQuestion']=increment(_0x171a1e);}_0x46460b['update'](_0x3128c4,_0x3c55b3);}),_0x2eb9a3==='poll'&&sessionStorage['setItem'](_0x375739(0x418),_0x375739(0xbe7)),_0x2eb9a3!=='buyTime'&&_0x2eb9a3!==_0x375739(0x514)&&sessionStorage[_0x375739(0x616)](_0x22080c,_0x2eb9a3),applyPowerupEffect(_0x443b60,_0x2eb9a3,_0x518da3,_0x2651de,_0xc61c5),(_0x2eb9a3==='cutOne'||_0x2eb9a3===_0x375739(0x1a1)||_0x2eb9a3==='insurance')&&renderStudentSyncQuestionView(_0x2651de);}catch(_0x5e7597){console[_0x375739(0x96)](_0x375739(0x5d7),_0x5e7597),showMessage(typeof _0x5e7597===_0x375739(0x6ed)?_0x5e7597:_0x375739(0xa93));const _0x1f1d11=document['getElementById'](_0x375739(0x16f)+_0x2eb9a3);if(_0x1f1d11)_0x1f1d11['disabled']=![];}}async function getCachedOtherPlayers(_0x4bd31f,_0x4b33a6){const _0x4980a2=_0x1ca595,_0x34d406=_0x4bd31f['currentQuestionIndex'];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x34d406)return console[_0x4980a2(0xa7f)](_0x4980a2(0xaa)),cachedOtherPlayersForQuestion;console[_0x4980a2(0xa7f)](_0x4980a2(0x322));const _0x3ce89a=collection(db,_0x4980a2(0x54a)+appId+_0x4980a2(0x691)+currentLiveGameId+_0x4980a2(0x119)),_0xd3a39d=query(_0x3ce89a,where(_0x4980a2(0x670),'==',_0x4980a2(0x6a2))),_0x4ee9a2=await getDocs(_0xd3a39d),_0x455387=[];return _0x4ee9a2[_0x4980a2(0x99f)](_0x26a78f=>{const _0x3222d6=_0x26a78f['data']();_0x455387['push'](_0x3222d6);}),cachedOtherPlayersForQuestion=_0x455387,cachedQuestionIndexForPlayers=_0x34d406,_0x455387;}async function applyPowerupEffect(_0x57a65b,_0x279987,_0x4e5c8d,_0x184f4f,_0x3787b7){const _0x1d6b10=_0x1ca595,_0x38f877=_0x4e5c8d,_0x3a9836=_0x184f4f[_0x1d6b10(0x464)],_0x503b7f=_0x1d6b10(0x39d)+_0x3a9836+'_p'+_0x57a65b,_0x1bbd04=collection(db,_0x1d6b10(0x54a)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x1d6b10(0x119)),_0x4db105=await getDocs(query(_0x1bbd04,where(_0x1d6b10(0x670),'==',_0x1d6b10(0x6a2)))),_0x557878=doc(db,'artifacts/'+appId+_0x1d6b10(0xa14),currentLiveGameId),_0x40deed=await getDoc(_0x557878),_0x3693b8=_0x40deed[_0x1d6b10(0xa2b)]()?_0x40deed[_0x1d6b10(0xb6)]():{},_0x34cedb=_0x3693b8['players']||{},_0x40b956=[];_0x4db105['forEach'](_0x2888a2=>{const _0x546087=_0x1d6b10,_0x5bb1a0=_0x2888a2['data'](),_0x352da5=_0x34cedb[_0x5bb1a0[_0x546087(0xd33)]]||{};_0x40b956['push']({..._0x5bb1a0,'pointsLastRound':_0x352da5[_0x546087(0x104)]!==undefined?_0x352da5[_0x546087(0x104)]:_0x5bb1a0[_0x546087(0x104)]||0x0,'score':_0x5bb1a0[_0x546087(0xa4c)]||0x0});});const _0x211235=_0x40b956['find'](_0x3aabf0=>_0x3aabf0[_0x1d6b10(0xd33)]===_0x57a65b)||_0x3787b7,_0x29c7a3=_0x290758=>{const _0x43c14f=_0x1d6b10,_0xa68c38=_0x184f4f[_0x43c14f(0x828)]===_0x43c14f(0x8e1),_0x33cc1d=_0x184f4f['isBlackMarketEnabled']===!![],_0x55dabc=_0x290758['name'];if(!_0xa68c38)return _0x55dabc;const _0x2a850c=_0x184f4f[_0x43c14f(0xbc)][_0x55dabc]||'???';let _0x4f0e8a=![];if(_0x33cc1d){const _0x28a08e=_0x211235[_0x43c14f(0xa4c)]||0x0,_0x3a0ca1=_0x290758[_0x43c14f(0xa4c)]||0x0,_0x290120=_0x211235[_0x43c14f(0x104)]||0x0,_0x1ae5fe=_0x290758[_0x43c14f(0x104)]||0x0;_0x4f0e8a=_0x28a08e>_0x3a0ca1||_0x28a08e===_0x3a0ca1&&_0x290120>_0x1ae5fe;}else{const _0x5e071d=_0x211235[_0x43c14f(0x104)]||0x0,_0x302060=_0x290758[_0x43c14f(0x104)]||0x0;_0x4f0e8a=_0x5e071d>_0x302060;}return _0x4f0e8a?_0x55dabc+'\x20('+_0x2a850c+')':_0x2a850c;};switch(_0x279987){case'poll':try{let _0x3dc94a=0x0;const _0xf93c2d={};(_0x4e5c8d[_0x1d6b10(0x63f)]||[])[_0x1d6b10(0x99f)]((_0x40565d,_0x5700fe)=>{_0xf93c2d[_0x5700fe]=0x0;}),_0x40b956[_0x1d6b10(0x99f)](_0x494d93=>{const _0x12915c=_0x1d6b10,_0x97ae17=(_0x494d93[_0x12915c(0x54d)]||[])[_0x12915c(0x2f4)](_0x1e3ce8=>_0x1e3ce8[_0x12915c(0x65b)]===_0x3a9836);if(_0x97ae17&&_0x97ae17[_0x12915c(0xd85)]!==null){const _0x1ffbe8=parseInt(_0x97ae17['answer']);!isNaN(_0x1ffbe8)&&_0xf93c2d[_0x1ffbe8]!==undefined&&(_0xf93c2d[_0x1ffbe8]++,_0x3dc94a++);}});if(_0x3dc94a===0x0){showMessage(_0x1d6b10(0x6e4));return;}let _0x2f5ee6=_0x1d6b10(0x826)+_0x3dc94a+_0x1d6b10(0x15f);Object[_0x1d6b10(0xb45)](_0xf93c2d)[_0x1d6b10(0x99f)](([_0x5eecfb,_0x85132d])=>{const _0x4d20c9=_0x1d6b10,_0x38d808=_0x3dc94a>0x0?(_0x85132d/_0x3dc94a*0x64)[_0x4d20c9(0x84e)](0x0):0x0,_0x46446e=_0x4d20c9(0x258)+(parseInt(_0x5eecfb)+0x1);_0x2f5ee6+=_0x46446e+':\x20'+_0x85132d+_0x4d20c9(0x494)+_0x38d808+'%)\x0a';}),showMessage(_0x2f5ee6);}catch(_0x4a8a88){console[_0x1d6b10(0x96)](_0x4a8a88),showMessage(_0x1d6b10(0x403));}break;case'strategyScan':try{const _0x39ad1e=_0x40b956['filter'](_0x44aaf2=>_0x44aaf2[_0x1d6b10(0xd33)]!==_0x57a65b);if(_0x39ad1e[_0x1d6b10(0x1d6)]===0x0){showMessage(_0x1d6b10(0x824)),handleRefundPowerup(_0x57a65b,_0x1d6b10(0x514));break;}let _0x218290=[];_0x39ad1e['forEach'](_0x105c92=>{const _0x4f16d8=_0x1d6b10,_0x9bc613=_0x105c92[_0x4f16d8(0x6a8)]||{};if((_0x9bc613['poll']||0x0)>0x0||(_0x9bc613['wagerMultiplier']||0x0)>0x0){const _0x568ffb=_0x29c7a3(_0x105c92);let _0x4d38b6=[];if(_0x9bc613['poll']>0x0)_0x4d38b6[_0x4f16d8(0x3bb)]('📊');if(_0x9bc613[_0x4f16d8(0x8d2)]>0x0)_0x4d38b6['push']('💰');_0x218290[_0x4f16d8(0x3bb)]('-\x20'+_0x568ffb+'\x20(มี:\x20'+_0x4d38b6[_0x4f16d8(0xa88)](',\x20')+')');}}),showMessage(_0x218290[_0x1d6b10(0x1d6)]>0x0?'📡\x20ตรวจพบผู้เล่นที่เป็นภัยคุกคาม:\x0a\x0a'+_0x218290[_0x1d6b10(0xa88)]('\x0a'):_0x1d6b10(0x459));}catch(_0x469ee6){console[_0x1d6b10(0x96)](_0x469ee6),handleRefundPowerup(_0x57a65b,_0x1d6b10(0x514));}break;case _0x1d6b10(0x486):case _0x1d6b10(0xbeb):const _0x3751d5=_0x279987===_0x1d6b10(0x486),_0xc9cd51=_0x40b956[_0x1d6b10(0xa00)](_0x19c8da=>{const _0x1d6a93=_0x1d6b10,_0x56a343=(_0x19c8da[_0x1d6a93(0x54d)]||[])[_0x1d6a93(0x527)](_0x355a99=>_0x355a99['questionIndex']===_0x3a9836);return _0x19c8da[_0x1d6a93(0xd33)]!==_0x57a65b&&!_0x56a343&&_0x19c8da['status']===_0x1d6a93(0x6a2);});if(_0xc9cd51['length']===0x0){showMessage('👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่'),sessionStorage['removeItem'](_0x503b7f),handleRefundPowerup(_0x57a65b,_0x279987);break;}const _0x392681=_0xc9cd51[_0x1d6b10(0x201)]((_0x1134ef,_0x3d9c5a)=>({'index':_0x3d9c5a+0x1,'realName':_0x1134ef[_0x1d6b10(0xd33)],'displayName':_0x29c7a3(_0x1134ef)})),_0x2de5c4=_0x392681[_0x1d6b10(0x201)](_0x5b77b2=>_0x5b77b2['index']+':\x20'+_0x5b77b2[_0x1d6b10(0x333)])[_0x1d6b10(0xa88)]('\x0a'),_0x7c6a75=prompt(_0x1d6b10(0x52f)+(_0x3751d5?_0x1d6b10(0x8b3):_0x1d6b10(0xc1a))+'\x22\x20(ใส่ตัวเลข):\x0a'+_0x2de5c4),_0x51e178=parseInt(_0x7c6a75)-0x1;if(_0x51e178>=0x0&&_0x51e178<_0x392681[_0x1d6b10(0x1d6)]){const _0x53f136=_0x392681[_0x51e178];if(_0x3751d5)handleForceConfident(_0x53f136[_0x1d6b10(0x136)],_0x53f136[_0x1d6b10(0x333)]);else handleApplyJinx(_0x53f136[_0x1d6b10(0x136)],_0x53f136[_0x1d6b10(0x333)]);}else showMessage('ยกเลิกการใช้ไอเทม'),sessionStorage['removeItem'](_0x503b7f),handleRefundPowerup(_0x57a65b,_0x279987);break;case'insurance':showMessage(_0x1d6b10(0xc54));break;case'wagerMultiplier':showMessage(_0x1d6b10(0x944));break;case _0x1d6b10(0x89a):showMessage('🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง');break;case _0x1d6b10(0xd14):const _0x2a43d8=(_0x184f4f[_0x1d6b10(0xa4b)]||0xf0)*0.25;showMessage(_0x1d6b10(0xafc)+_0x2a43d8+'\x20วินาที');break;case _0x1d6b10(0x9f):case _0x1d6b10(0x1a1):const _0x280be8=document[_0x1d6b10(0x20a)](_0x1d6b10(0xbc4));if(_0x280be8[_0x1d6b10(0x1d6)]===0x0){showMessage(_0x1d6b10(0xccc));return;}const _0xb44676=_0x1d6b10(0x989)+_0x3a9836+'_p'+_0x57a65b,_0x5652b7=JSON[_0x1d6b10(0x444)](sessionStorage[_0x1d6b10(0x224)](_0xb44676)||'[]');let _0x41f3dd;_0x38f877[_0x1d6b10(0xc34)]==='true_false'?_0x41f3dd=String(_0x38f877[_0x1d6b10(0xc49)])[_0x1d6b10(0x5c9)]()==='true'?0x0:0x1:_0x41f3dd=_0x38f877[_0x1d6b10(0xc75)];const _0x164929=Array['from'](_0x280be8)[_0x1d6b10(0xa00)](_0x40ba3e=>parseInt(_0x40ba3e['dataset']['value'])!==_0x41f3dd&&!_0x5652b7['includes'](_0x40ba3e['dataset'][_0x1d6b10(0x41e)]));if(_0x164929['length']===0x0){showMessage('ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!');return;}shuffleArray(_0x164929);let _0x3dbb0a=[..._0x5652b7];const _0x60e393=_0x279987===_0x1d6b10(0x9f)?0x1:0x2;for(let _0x3158e2=0x0;_0x3158e2<_0x60e393;_0x3158e2++){_0x164929[_0x3158e2]&&(_0x164929[_0x3158e2][_0x1d6b10(0x325)][_0x1d6b10(0xd3c)](_0x1d6b10(0x60b)),_0x3dbb0a['push'](_0x164929[_0x3158e2][_0x1d6b10(0x1e8)][_0x1d6b10(0x41e)]));}sessionStorage[_0x1d6b10(0x616)](_0xb44676,JSON[_0x1d6b10(0x71f)](_0x3dbb0a)),showMessage(_0x279987==='cutOne'?_0x1d6b10(0x8c3):_0x1d6b10(0xb1));break;default:showMessage(_0x1d6b10(0x6f5)+_0x279987+_0x1d6b10(0xd27));}}async function handleForceConfident(_0x274fbd,_0x38afd4){const _0x4cb65f=_0x1ca595;if(!currentLiveGameId||!_0x274fbd)return;const _0x11348f=doc(db,_0x4cb65f(0x54a)+appId+_0x4cb65f(0x691)+currentLiveGameId+'/players',_0x274fbd);try{await updateDoc(_0x11348f,{'isForcedConfident':!![]}),showMessage(_0x4cb65f(0x2db)+_0x38afd4+_0x4cb65f(0x90b));}catch(_0x3b00d7){console[_0x4cb65f(0x96)]('Failed\x20to\x20apply\x20forceConfident:',_0x3b00d7),showMessage(_0x4cb65f(0x4e8));}}async function handleRefundPowerup(_0x5b8312,_0x129c62){const _0x1a17c8=_0x1ca595,_0x43a8f0=doc(db,_0x1a17c8(0x54a)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x5b8312);try{const _0x32ac86={};_0x32ac86['powerups.'+_0x129c62]=increment(0x1),await updateDoc(_0x43a8f0,_0x32ac86),console[_0x1a17c8(0xa7f)]('Refunded\x20'+_0x129c62+_0x1a17c8(0x35b)+_0x5b8312);}catch(_0x2437c5){console[_0x1a17c8(0x96)](_0x1a17c8(0x162),_0x2437c5);}}async function handleApplyJinx(_0x69ceb4,_0x1f0ff1){const _0x20a385=_0x1ca595;if(!currentLiveGameId||!_0x69ceb4)return;const _0x4513dc=doc(db,_0x20a385(0x54a)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x20a385(0x119),_0x69ceb4);try{await updateDoc(_0x4513dc,{'isJinxed':!![]}),showMessage('ใช้\x20\x22คำสาป\x22\x20กับ\x20'+_0x1f0ff1+'\x20สำเร็จ!');}catch(_0x120c6d){console['error'](_0x20a385(0x8b2),_0x120c6d),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}function activateFileInputAreaWithLoadedFile(){const _0x56611b=_0x1ca595,_0x1b766e=document['getElementById'](_0x56611b(0x935)),_0x3356a5=document[_0x56611b(0xcac)]('file-topics-list-container'),_0x5be46d=document[_0x56611b(0xcac)](_0x56611b(0x620));selectedFile?_0x5be46d[_0x56611b(0xa81)]?(_0x1b766e['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x1b766e[_0x56611b(0x25a)]=![],_0x3356a5[_0x56611b(0x325)][_0x56611b(0xd3c)]('hidden')):(_0x1b766e[_0x56611b(0x25a)]=!![],_0x3356a5['classList'][_0x56611b(0xd3c)](_0x56611b(0x60b)));}async function handleKickPlayerSync(_0x2eda86){const _0x2a0a45=_0x1ca595;if(!currentLiveGameId||!_0x2eda86)return;const _0x271bb6=doc(db,'artifacts/'+appId+_0x2a0a45(0x691)+currentLiveGameId+_0x2a0a45(0x119),_0x2eda86);try{await updateDoc(_0x271bb6,{'status':_0x2a0a45(0xc3f)});}catch(_0x4996b){console[_0x2a0a45(0x96)](_0x2a0a45(0x31a)+_0x2eda86+':',_0x4996b),showMessage(_0x2a0a45(0x876));}}async function renderStudentProgressDashboard(_0x9a99d8,_0x1ca1fc){const _0x33632a=_0x1ca595,_0xfc14ca=document[_0x33632a(0xcac)](_0x33632a(0x88f));_0xfc14ca[_0x33632a(0xcaa)]=_0x33632a(0xd26);try{const _0xa715ab=collection(db,_0x33632a(0x54a)+appId+_0x33632a(0xa62)),_0x308680=query(_0xa715ab,where('projectId','==',_0x9a99d8)),_0x5bfe4f=await getDocs(_0x308680),_0x52f10a=_0x5bfe4f['docs']['map'](_0x49daf7=>({'id':_0x49daf7['id'],..._0x49daf7[_0x33632a(0xb6)]()})),_0x5518e5=_0x52f10a[_0x33632a(0x201)](_0x4a758d=>getDoc(doc(db,_0x33632a(0x54a)+appId+_0x33632a(0x292)+_0x4a758d['id']+_0x33632a(0x12a),_0x1ca1fc))),_0x11b4b8=await Promise[_0x33632a(0xa12)](_0x5518e5),_0x14ab31=_0x11b4b8[_0x33632a(0xa00)](_0x4bc671=>_0x4bc671[_0x33632a(0xa2b)]())[_0x33632a(0x201)](_0xc4fb97=>({'quizId':_0xc4fb97[_0x33632a(0x88)][_0x33632a(0x24f)][_0x33632a(0x24f)]['id'],..._0xc4fb97[_0x33632a(0xb6)]()}));if(_0x14ab31['length']===0x0){_0xfc14ca['innerHTML']=_0x33632a(0xc2c);return;}let _0x4a97e7=_0x33632a(0x9c4);_0x14ab31[_0x33632a(0x99f)](_0x3ecd2d=>{const _0x8eb493=_0x33632a,_0x5d98da=_0x52f10a[_0x8eb493(0x2f4)](_0x233420=>_0x233420['id']===_0x3ecd2d['quizId']),_0x3df2cd=_0x5d98da['settings']?.[_0x8eb493(0xaf6)]||_0x8eb493(0x788),_0x177b39=_0x5d98da[_0x8eb493(0xaaa)]?.['passingScore']??0x0,_0x13cd33=_0x3ecd2d['bestScore']>=_0x177b39;let _0x4a68ab='',_0x2dca09=_0x8eb493(0x2e9);switch(_0x3df2cd){case _0x8eb493(0x788):case'show_results_only':_0x2dca09=_0x13cd33?_0x8eb493(0xc82):'bg-red-50',_0x4a68ab=_0x8eb493(0x9d7)+(_0x13cd33?_0x8eb493(0x73b):'text-red-700')+'\x22>'+_0x3ecd2d[_0x8eb493(0xdf)]+_0x8eb493(0x214)+_0x3ecd2d['totalQuestions']+_0x8eb493(0x376)+(_0x13cd33?_0x8eb493(0xb99):_0x8eb493(0xa58))+'\x22>'+(_0x13cd33?_0x8eb493(0x1bc):_0x8eb493(0xace))+_0x8eb493(0x879);break;case _0x8eb493(0x566):_0x2dca09=_0x13cd33?_0x8eb493(0xc82):'bg-red-50',_0x4a68ab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x13cd33?_0x8eb493(0xb99):_0x8eb493(0xa58))+'\x22>'+(_0x13cd33?_0x8eb493(0x1bc):'ไม่ผ่าน')+_0x8eb493(0x879);break;case _0x8eb493(0x2e4):_0x2dca09='bg-yellow-50',_0x4a68ab=_0x8eb493(0xc0b);break;}_0x4a97e7+=_0x8eb493(0xaca)+_0x2dca09+_0x8eb493(0x185)+_0x5d98da['topic']+_0x8eb493(0x42d)+_0x3ecd2d['attempts'][_0x8eb493(0x1d6)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x3ecd2d[_0x8eb493(0x20d)])[_0x8eb493(0xa3e)](_0x8eb493(0x8f))+_0x8eb493(0xa4f)+_0x4a68ab+_0x8eb493(0x6eb);}),_0x4a97e7+=_0x33632a(0x4dd),_0xfc14ca[_0x33632a(0xcaa)]=_0x4a97e7;}catch(_0x101d23){console[_0x33632a(0x96)](_0x33632a(0xd19),_0x101d23),_0xfc14ca[_0x33632a(0xcaa)]=_0x33632a(0xb10);}}function renderQuizBankListForMultiSelect(_0x598df6=''){const _0x8d2e98=_0x1ca595,_0x5edb31=document[_0x8d2e98(0xcac)](_0x8d2e98(0x9ab)),_0x4de8e2=_0x598df6[_0x8d2e98(0x5c9)]()[_0x8d2e98(0x964)](),_0x426a2e=allQuizzesGlobal[_0x8d2e98(0x201)](_0xdb122e=>({..._0xdb122e,'projectName':allProjects[_0x8d2e98(0x2f4)](_0x16db2c=>_0x16db2c['id']===_0xdb122e[_0x8d2e98(0x98d)])?.['projectName']||_0x8d2e98(0x50e)}))[_0x8d2e98(0xa00)](_0x3098e4=>(_0x3098e4[_0x8d2e98(0xa64)]||'')[_0x8d2e98(0x5c9)]()['includes'](_0x4de8e2)||(_0x3098e4['projectName']||'')[_0x8d2e98(0x5c9)]()[_0x8d2e98(0x39b)](_0x4de8e2)||_0x3098e4['id'][_0x8d2e98(0x287)]()[_0x8d2e98(0x39b)](_0x4de8e2));_0x5edb31[_0x8d2e98(0xcaa)]=_0x426a2e[_0x8d2e98(0x1d6)]?_0x426a2e['map'](_0x19438c=>_0x8d2e98(0xa79)+_0x19438c['id']+_0x8d2e98(0x186)+(_0x19438c[_0x8d2e98(0xa64)]||_0x8d2e98(0x727))+_0x8d2e98(0xa83)+_0x19438c[_0x8d2e98(0x5b1)]+_0x8d2e98(0x2cc)+_0x19438c['id']+_0x8d2e98(0x71a))[_0x8d2e98(0xa88)](''):_0x8d2e98(0x19f),_0x5edb31[_0x8d2e98(0x2de)]=()=>{const _0x185df9=_0x8d2e98,_0x436e07=document[_0x185df9(0xb49)](_0x185df9(0x9ed));document[_0x185df9(0xcac)](_0x185df9(0x177))[_0x185df9(0x25a)]=!_0x436e07;};}function setupStudentProgressListeners(){const _0x1fd6eb=_0x1ca595;document[_0x1fd6eb(0xcac)](_0x1fd6eb(0x901))[_0x1fd6eb(0x8d3)](_0x1fd6eb(0xc47),showStudentProgressView),document[_0x1fd6eb(0xcac)](_0x1fd6eb(0x89e))[_0x1fd6eb(0x8d3)](_0x1fd6eb(0xc47),()=>{const _0x3b362d=_0x1fd6eb;document['getElementById'](_0x3b362d(0x5f8))[_0x3b362d(0x325)]['add']('hidden'),document['getElementById'](_0x3b362d(0xa09))[_0x3b362d(0x325)][_0x3b362d(0x419)]('hidden');});}async function startSkillPractice(_0x1644af){const _0x47b5a6=_0x1ca595;studentResultArea[_0x47b5a6(0x325)][_0x47b5a6(0xd3c)](_0x47b5a6(0x60b)),studentQuizArea['innerHTML']=_0x47b5a6(0x75f),studentQuizArea[_0x47b5a6(0x325)][_0x47b5a6(0x419)]('hidden');try{const _0x32c1c0=await getStandardizedTopic(_0x1644af);console[_0x47b5a6(0xa7f)](_0x47b5a6(0x7cf)+_0x1644af+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x32c1c0+'\x22'),studentQuizArea['querySelector']('p')[_0x47b5a6(0xc84)]=_0x47b5a6(0x106)+_0x32c1c0+'\x22...';const _0x598709=collection(db,_0x47b5a6(0x54a)+appId+_0x47b5a6(0x397)),_0x5598bb=query(_0x598709,where(_0x47b5a6(0xa64),'==',_0x32c1c0)),_0x116275=await getDocs(_0x5598bb);if(_0x116275[_0x47b5a6(0x26a)][_0x47b5a6(0x1d6)]>=0x3){console['log'](_0x47b5a6(0xd0)+_0x116275[_0x47b5a6(0x26a)][_0x47b5a6(0x1d6)]+_0x47b5a6(0x477)+_0x32c1c0+_0x47b5a6(0x740));let _0x32a230=_0x116275[_0x47b5a6(0x26a)][_0x47b5a6(0x201)](_0x50b7be=>_0x50b7be[_0x47b5a6(0xb6)]());shuffleArray(_0x32a230);const _0x14293c={'topic':_0x32c1c0,'questions':_0x32a230[_0x47b5a6(0x2ea)](0x0,0x3)};displaySkillPracticeDrill(_0x14293c);}else{console['log'](_0x47b5a6(0x3b5)+_0x32c1c0+_0x47b5a6(0x745));const _0x323cbe=await generatePracticeQuestions(_0x32c1c0);await saveDrillToPracticeBank(_0x323cbe,_0x32c1c0),displaySkillPracticeDrill(_0x323cbe);}}catch(_0x450d06){console[_0x47b5a6(0x96)](_0x47b5a6(0xb1f),_0x450d06),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea['classList'][_0x47b5a6(0xd3c)](_0x47b5a6(0x60b)),studentResultArea['classList'][_0x47b5a6(0x419)]('hidden');}}async function saveDrillToPracticeBank(_0x221660,_0x350943){const _0x24d11a=_0x1ca595,_0x797c91=collection(db,_0x24d11a(0x54a)+appId+_0x24d11a(0x397)),_0xd7ff98=writeBatch(db);_0x221660[_0x24d11a(0xbfe)][_0x24d11a(0x99f)](_0x2df0c3=>{const _0x329b3e=_0x24d11a,_0x5087c5=doc(_0x797c91);_0xd7ff98['set'](_0x5087c5,{'topic':_0x350943,'questionText':_0x2df0c3[_0x329b3e(0x6f3)],'options':_0x2df0c3['options'],'correctAnswerIndex':_0x2df0c3[_0x329b3e(0xc75)],'explanation':_0x2df0c3['explanation'],'createdAt':serverTimestamp()});});try{await _0xd7ff98[_0x24d11a(0x521)](),console[_0x24d11a(0xa7f)](_0x24d11a(0xbf2)+_0x221660[_0x24d11a(0xbfe)][_0x24d11a(0x1d6)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x704199){console[_0x24d11a(0x96)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x704199);}}async function getStandardizedTopic(_0x198b76){const _0x5dd2ea=_0x1ca595,_0x43375a=_0x5dd2ea(0x988)+_0x198b76+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x5b403b={'type':_0x5dd2ea(0xb15),'properties':{'standardTopic':{'type':_0x5dd2ea(0xa26)}},'required':[_0x5dd2ea(0x6d6)]};try{const _0x23a06d=await callAnalysisApi(_0x43375a,_0x5b403b);return _0x23a06d[_0x5dd2ea(0x6d6)];}catch(_0x19d245){return console[_0x5dd2ea(0x96)](_0x5dd2ea(0x814),_0x19d245),_0x198b76;}}async function handleGenerateEasyVersionQuiz(_0x37685c){const _0x44a9b2=_0x1ca595,_0x2916b7=document[_0x44a9b2(0xcac)](_0x44a9b2(0x2c1)),_0x6012ae=document['getElementById'](_0x44a9b2(0xa25));_0x6012ae[_0x44a9b2(0x325)][_0x44a9b2(0xd3c)](_0x44a9b2(0x60b));const _0x44c514='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2916b7['insertAdjacentHTML'](_0x44a9b2(0x381),_0x44c514);try{const _0x5739a9=allQuizzes[_0x44a9b2(0x2f4)](_0x3314f=>_0x3314f['id']===_0x37685c);if(!_0x5739a9)throw new Error(_0x44a9b2(0x53a));const _0x4b82a9=_0x44a9b2(0x358)+JSON['stringify'](_0x5739a9[_0x44a9b2(0xbfe)])+_0x44a9b2(0x609),_0x5337b9={'type':_0x44a9b2(0xb15),'properties':{'questionText':{'type':_0x44a9b2(0xa26)},'questionType':{'type':_0x44a9b2(0xa26)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x44a9b2(0xa5)},'idealAnswer':{'type':_0x44a9b2(0xa26)},'explanation':{'type':_0x44a9b2(0xa26)},'imageCode':{'type':'STRING'}},'required':[_0x44a9b2(0x6f3),'questionType',_0x44a9b2(0x64a)]},_0x4cd124={'type':'OBJECT','properties':{'questions':{'type':_0x44a9b2(0x8e3),'items':_0x5337b9}},'required':[_0x44a9b2(0xbfe)]},_0x191a6f=await callAnalysisApi(_0x4b82a9,_0x4cd124);_0x191a6f&&_0x191a6f[_0x44a9b2(0xbfe)]&&_0x191a6f[_0x44a9b2(0xbfe)][_0x44a9b2(0x99f)](_0x453527=>{const _0x2ca728=_0x44a9b2;if(_0x453527[_0x2ca728(0xcae)](_0x2ca728(0x2d0))){const _0x314c64=String(_0x453527[_0x2ca728(0x2d0)])[_0x2ca728(0x964)]();(_0x314c64===''||_0x314c64[_0x2ca728(0x5c9)]()===_0x2ca728(0x2fd)||!_0x314c64[_0x2ca728(0x82f)](_0x2ca728(0x357)))&&delete _0x453527['imageCode'];}});if(!_0x191a6f||!_0x191a6f[_0x44a9b2(0xbfe)]||_0x191a6f[_0x44a9b2(0xbfe)][_0x44a9b2(0x1d6)]===0x0)throw new Error(_0x44a9b2(0x812));const _0x522e47=_0x191a6f[_0x44a9b2(0xbfe)][_0x44a9b2(0x201)]((_0x10264a,_0x5f3f9e)=>({..._0x10264a,'id':'q_'+Date[_0x44a9b2(0x27a)]()+'_'+_0x5f3f9e})),_0x439941={'projectId':_0x5739a9[_0x44a9b2(0x98d)],'quizType':_0x5739a9[_0x44a9b2(0x717)],'settings':_0x5739a9[_0x44a9b2(0xaaa)],'createdBy':_0x5739a9[_0x44a9b2(0xcbb)],'status':'active','topic':_0x44a9b2(0xd72)+_0x5739a9[_0x44a9b2(0xa64)],'questions':_0x522e47,'createdAt':new Date()[_0x44a9b2(0x8d)](),'quizMode':'standard','pairedQuizId':null};let _0x36b2f6;while(!![]){_0x36b2f6=Math['floor'](0x3e8+Math[_0x44a9b2(0x6b8)]()*0x2328)['toString']();const _0x1de673=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x36b2f6));if(!_0x1de673[_0x44a9b2(0xa2b)]())break;}await setDoc(doc(db,_0x44a9b2(0x54a)+appId+'/public/data/quizzes',_0x36b2f6),_0x439941),showMessage(_0x44a9b2(0x918));}catch(_0x2bb3dc){console['error'](_0x44a9b2(0xbd7),_0x2bb3dc),showMessage(_0x44a9b2(0x987)+_0x2bb3dc[_0x44a9b2(0xaee)]);}finally{const _0x39402c=document['getElementById'](_0x44a9b2(0x8bf));_0x39402c&&_0x39402c[_0x44a9b2(0x419)](),_0x6012ae['classList'][_0x44a9b2(0x419)](_0x44a9b2(0x60b));}}async function generatePracticeQuestions(_0x3d0ced){const _0x4b54f8=_0x1ca595,_0x4686d5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x3d0ced+_0x4b54f8(0x4f5)+simpleMathPrompt+_0x4b54f8(0xd81),_0x5a3a46={'type':_0x4b54f8(0xb15),'properties':{'questionText':{'type':_0x4b54f8(0xa26)},'options':{'type':_0x4b54f8(0x8e3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x4b54f8(0xa26)}},'required':['questionText','options',_0x4b54f8(0xc75),'explanation']},_0x535ca1={'type':_0x4b54f8(0xb15),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4b54f8(0x8e3),'items':_0x5a3a46}},'required':[_0x4b54f8(0xa64),_0x4b54f8(0xbfe)]};return await callAnalysisApi(_0x4686d5,_0x535ca1);}function displayLessonPlan(_0x2076e8,_0x5f2701){const _0x366488=_0x1ca595,_0x3148f7=_0x366488(0x392)+_0x5f2701[_0x366488(0xa64)]+_0x366488(0xd73)+_0x2076e8[_0x366488(0x84c)][_0x366488(0x201)](_0x1b535=>_0x366488(0x111)+_0x1b535+'</li>')['join']('')+_0x366488(0x7a8)+_0x2076e8[_0x366488(0x321)]+_0x366488(0xafa)+_0x2076e8['practiceProblems'][_0x366488(0x201)](_0x15a766=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x15a766[_0x366488(0xc52)]+_0x366488(0x785)+_0x15a766[_0x366488(0x481)]+_0x366488(0xc86))[_0x366488(0xa88)]('')+_0x366488(0x739);document[_0x366488(0xcac)](_0x366488(0xab3))['textContent']=_0x366488(0x144)+_0x5f2701[_0x366488(0xa64)],document[_0x366488(0xcac)]('lesson-plan-content')[_0x366488(0xcaa)]=_0x3148f7,document['getElementById']('lesson-plan-modal')[_0x366488(0x325)]['remove'](_0x366488(0x60b));if(window[_0x366488(0x4a4)])MathJax[_0x366488(0xcf0)]();}function displaySkillPracticeDrill(_0x2e2d5e){const _0x1dc1c6=_0x1ca595;let _0x583ec4=0x0;const _0x2567d5=_0x2e2d5e[_0x1dc1c6(0xbfe)],_0x13c7a9=()=>{const _0x32466a=_0x1dc1c6,_0x209ff0=_0x2567d5[_0x583ec4],_0x168a73=_0x32466a(0xc0e)+(_0x583ec4+0x1)+_0x32466a(0x214)+_0x2567d5[_0x32466a(0x1d6)]+_0x32466a(0x503)+_0x209ff0[_0x32466a(0x6f3)]+_0x32466a(0x831)+_0x209ff0[_0x32466a(0x63f)][_0x32466a(0x201)]((_0x1efc58,_0x342ebf)=>_0x32466a(0xb09)+_0x342ebf+_0x32466a(0x6c3)+_0x342ebf+_0x32466a(0x434)+_0x342ebf+'\x22>'+_0x1efc58+_0x32466a(0x6fc))[_0x32466a(0xa88)]('')+_0x32466a(0xb02);studentQuizArea[_0x32466a(0xcaa)]=_0x168a73;if(window[_0x32466a(0x4a4)])MathJax['typesetPromise']([studentQuizArea]);document[_0x32466a(0xcac)](_0x32466a(0xa3a))[_0x32466a(0x8d3)]('click',async()=>{const _0x2e5d14=_0x32466a,_0xf5d6ad=await getHintForQuestion(_0x209ff0[_0x2e5d14(0x6f3)]);showMessage(_0xf5d6ad);}),document['getElementById'](_0x32466a(0x8aa))[_0x32466a(0x8d3)](_0x32466a(0xc47),()=>{const _0x3662ec=_0x32466a,_0x689608=document[_0x3662ec(0xb49)](_0x3662ec(0xcf4));if(!_0x689608){showMessage(_0x3662ec(0x290));return;}const _0x1551c5=document[_0x3662ec(0xcac)](_0x3662ec(0xb9f)),_0x7c158a=parseInt(_0x689608[_0x3662ec(0x41e)])===_0x209ff0['correctAnswerIndex'];_0x7c158a?(_0x1551c5['className']=_0x3662ec(0x7af),_0x1551c5[_0x3662ec(0xcaa)]=_0x3662ec(0x3e6)+_0x209ff0['explanation']):(_0x1551c5[_0x3662ec(0x5c4)]=_0x3662ec(0x9d5),_0x1551c5[_0x3662ec(0xcaa)]=_0x3662ec(0x6cf)+_0x209ff0[_0x3662ec(0x64a)]);_0x1551c5[_0x3662ec(0x325)][_0x3662ec(0x419)](_0x3662ec(0x60b));if(window[_0x3662ec(0x4a4)])MathJax[_0x3662ec(0xcf0)]([_0x1551c5]);document['getElementById'](_0x3662ec(0x8aa))[_0x3662ec(0x325)][_0x3662ec(0xd3c)](_0x3662ec(0x60b)),document[_0x3662ec(0xcac)]('hint-btn')['classList']['add']('hidden'),document['getElementById'](_0x3662ec(0x56b))['classList'][_0x3662ec(0x419)](_0x3662ec(0x60b));}),document[_0x32466a(0xcac)](_0x32466a(0x56b))['addEventListener'](_0x32466a(0xc47),()=>{const _0x187aed=_0x32466a;_0x583ec4++,_0x583ec4<_0x2567d5[_0x187aed(0x1d6)]?_0x13c7a9():(studentQuizArea[_0x187aed(0xcaa)]=_0x187aed(0x8c4),document[_0x187aed(0xcac)](_0x187aed(0xa32))[_0x187aed(0x8d3)](_0x187aed(0xc47),()=>{const _0x61950b=_0x187aed;studentQuizArea['classList'][_0x61950b(0xd3c)]('hidden'),studentResultArea[_0x61950b(0x325)][_0x61950b(0x419)](_0x61950b(0x60b));}));});};_0x13c7a9();}function _0x2406(_0x451091,_0x578f74){const _0x98efa5=_0x98ef();return _0x2406=function(_0x24068a,_0x47e196){_0x24068a=_0x24068a-0x85;let _0x3918de=_0x98efa5[_0x24068a];return _0x3918de;},_0x2406(_0x451091,_0x578f74);}async function getHintForQuestion(_0x5751fe){const _0x308163=_0x1ca595,_0x3277ad=_0x308163(0xcb2)+_0x5751fe+_0x308163(0x2ae),_0x54290b={'type':_0x308163(0xb15),'properties':{'hint':{'type':'STRING'}},'required':[_0x308163(0xd97)]};try{const _0x2d3ad8=await callAnalysisApi(_0x3277ad,_0x54290b);return _0x2d3ad8[_0x308163(0xd97)];}catch(_0x5820bf){return console[_0x308163(0x96)]('Failed\x20to\x20get\x20hint:',_0x5820bf),_0x308163(0xd65);}}async function extractTextFromPdf(_0x2d08d8){const _0x94a34c=_0x1ca595;pdfjsLib[_0x94a34c(0x24e)][_0x94a34c(0x1da)]=_0x94a34c(0x6fd);const _0x452dd8=await _0x2d08d8['arrayBuffer'](),_0x3d0c23=await pdfjsLib[_0x94a34c(0xbb0)](_0x452dd8)[_0x94a34c(0x9eb)],_0x1b8660=_0x3d0c23[_0x94a34c(0x58c)];let _0x27c0da='';for(let _0x73e1c5=0x1;_0x73e1c5<=_0x1b8660;_0x73e1c5++){const _0x32d040=await _0x3d0c23[_0x94a34c(0x793)](_0x73e1c5),_0x3c2a37=await _0x32d040[_0x94a34c(0x197)](),_0x34e56a=_0x3c2a37[_0x94a34c(0xc48)][_0x94a34c(0x201)](_0x3115cf=>_0x3115cf['str'])[_0x94a34c(0xa88)]('\x20');_0x27c0da+=_0x34e56a+'\x0a\x0a';}return _0x27c0da;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x22e00e){const _0x394ea1=_0x1ca595,_0x31929a=document['getElementById']('blueprint-options-container'),_0x588ade=document[_0x394ea1(0xcac)](_0x394ea1(0x34f)),_0x5e8d27=document[_0x394ea1(0xcac)](_0x394ea1(0x437));_0x31929a[_0x394ea1(0x325)]['remove'](_0x394ea1(0x60b)),_0x588ade['innerHTML']='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x5e8d27[_0x394ea1(0x325)]['add'](_0x394ea1(0x60b));try{const _0x32dd35='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x22e00e+_0x394ea1(0x2fe),_0x4a1f91={'type':_0x394ea1(0xb15),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x394ea1(0x8e3),'items':{'type':_0x394ea1(0xb15),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x394ea1(0x8e3),'items':{'type':_0x394ea1(0xb15),'properties':{'topicName':{'type':_0x394ea1(0xa26)},'subTopics':{'type':_0x394ea1(0x8e3),'items':{'type':_0x394ea1(0xa26)}}},'required':[_0x394ea1(0x9b2),_0x394ea1(0x56c)]}}},'required':[_0x394ea1(0xbd3),_0x394ea1(0x5fb)]}}},'required':[_0x394ea1(0x9b6),_0x394ea1(0xd00)]},_0x30b531=await callAnalysisApi(_0x32dd35,_0x4a1f91);if(_0x30b531&&_0x30b531[_0x394ea1(0xd00)])extractedBlueprintData=_0x30b531,renderBlueprintTopics(_0x30b531),_0x5e8d27[_0x394ea1(0x325)][_0x394ea1(0x419)](_0x394ea1(0x60b));else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x14b32f){console[_0x394ea1(0x96)](_0x394ea1(0x9ce),_0x14b32f),_0x588ade[_0x394ea1(0xcaa)]=_0x394ea1(0x978);}}function renderBlueprintTopics(_0x240447){const _0x5ad99e=_0x1ca595,_0x30433c=document[_0x5ad99e(0xcac)](_0x5ad99e(0x34f)),_0x58cdfa=_0x240447[_0x5ad99e(0x9b6)],_0x2b6733=_0x5ad99e(0x190)+_0x58cdfa+_0x5ad99e(0xce1);let _0x33d9f3='';_0x240447[_0x5ad99e(0xd00)][_0x5ad99e(0x99f)](_0x538805=>{const _0x3736d5=_0x5ad99e;_0x33d9f3+=_0x3736d5(0x5ca)+_0x538805[_0x3736d5(0xbd3)]+'</h4>',_0x538805[_0x3736d5(0x5fb)]['forEach'](_0x2ccd7f=>{const _0x278e64=_0x3736d5;_0x33d9f3+=_0x278e64(0x5a5)+_0x2ccd7f[_0x278e64(0x9b2)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x2ccd7f[_0x278e64(0x56c)]['forEach'](_0x495660=>{const _0x110306=_0x278e64;_0x33d9f3+=_0x110306(0x9cf)+_0x495660[_0x110306(0xc6a)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x58cdfa[_0x110306(0xc6a)](/'/g,'\x5c\x27')+_0x110306(0x1dd)+_0x495660+_0x110306(0x32a)+_0x495660[_0x110306(0xc6a)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a';}),_0x33d9f3+=_0x278e64(0x7c6);}),_0x33d9f3+='</div>';}),_0x30433c['innerHTML']=_0x2b6733+_0x33d9f3;}async function handleGenerateTeachingContent(_0x765c08){const _0x10090c=_0x1ca595,_0x505acf=document[_0x10090c(0xcac)](_0x10090c(0x360)),_0x5b9464=document[_0x10090c(0xcac)]('lesson-plan-content');document[_0x10090c(0xcac)](_0x10090c(0xab3))[_0x10090c(0xc84)]=_0x10090c(0x2e1)+_0x765c08,_0x5b9464[_0x10090c(0xcaa)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x505acf[_0x10090c(0x325)]['remove'](_0x10090c(0x60b));try{const _0x32d609=_0x10090c(0x90d)+_0x765c08+_0x10090c(0x515),_0x3d4565={'type':_0x10090c(0xb15),'properties':{'keyConcepts':{'type':_0x10090c(0x8e3),'items':{'type':_0x10090c(0xa26)}},'commonMistakes':{'type':_0x10090c(0x8e3),'items':{'type':_0x10090c(0xa26)}},'stepByStepExamples':{'type':_0x10090c(0x8e3),'items':{'type':_0x10090c(0xb15),'properties':{'question':{'type':_0x10090c(0xa26)},'solution':{'type':'STRING'}},'required':[_0x10090c(0xc52),_0x10090c(0x481)]}},'teacherTips':{'type':_0x10090c(0x8e3),'items':{'type':_0x10090c(0xa26)}}},'required':[_0x10090c(0x8bd),_0x10090c(0x6d2),_0x10090c(0x69e),_0x10090c(0x5d5)]},_0x1d66c4=await callAnalysisApi(_0x32d609,_0x3d4565);displayTeachingContent(_0x1d66c4,_0x765c08);}catch(_0x3fd7f6){console[_0x10090c(0x96)]('Error\x20generating\x20teaching\x20content:',_0x3fd7f6),_0x5b9464[_0x10090c(0xcaa)]=_0x10090c(0x758)+_0x3fd7f6[_0x10090c(0xaee)]+_0x10090c(0xba);}}function displayTeachingContent(_0x2eda00,_0x283b3c){const _0x4e5371=_0x1ca595,_0x29a247=document[_0x4e5371(0xcac)]('lesson-plan-content');document[_0x4e5371(0xcac)](_0x4e5371(0xab3))[_0x4e5371(0xc84)]=_0x4e5371(0x4fa)+_0x283b3c;const _0x357d10=_0x4e5371(0x4ee)+_0x2eda00[_0x4e5371(0x8bd)]['map'](_0x312ed5=>_0x4e5371(0x111)+_0x312ed5+_0x4e5371(0xd6c))[_0x4e5371(0xa88)]('')+_0x4e5371(0x350)+_0x2eda00['commonMistakes'][_0x4e5371(0x201)](_0x561579=>_0x4e5371(0x111)+_0x561579+_0x4e5371(0xd6c))[_0x4e5371(0xa88)]('')+_0x4e5371(0x840)+_0x2eda00[_0x4e5371(0x69e)][_0x4e5371(0x201)](_0x4cb1fa=>_0x4e5371(0xb81)+_0x4cb1fa[_0x4e5371(0xc52)]+_0x4e5371(0x475)+_0x4cb1fa[_0x4e5371(0x481)]+_0x4e5371(0x78b))[_0x4e5371(0xa88)]('')+_0x4e5371(0x543)+_0x2eda00[_0x4e5371(0x5d5)][_0x4e5371(0x201)](_0x3032a9=>'<li>'+_0x3032a9+_0x4e5371(0xd6c))[_0x4e5371(0xa88)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x29a247[_0x4e5371(0xcaa)]=_0x357d10;if(window['MathJax'])MathJax[_0x4e5371(0xcf0)]([_0x29a247]);}async function generateQuizForSingleTopic(_0x4dbdce){const _0x5025fa=_0x1ca595;console['log']('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x4dbdce+'\x22');const _0x48ae9f=document[_0x5025fa(0xcac)](_0x5025fa(0x6be)),_0x365362=_0x48ae9f['files']['length']>0x0?_0x48ae9f[_0x5025fa(0xcb8)][0x0]:null;let _0x7c8c61=null;if(_0x365362)try{const _0x5c9db5=new FileReader();_0x5c9db5[_0x5025fa(0x1e2)](_0x365362);const _0x3c8d2a=await new Promise((_0x3fd863,_0x44dc96)=>{const _0x136e02=_0x5025fa;_0x5c9db5[_0x136e02(0xad6)]=()=>_0x3fd863(_0x5c9db5[_0x136e02(0x87f)][_0x136e02(0x38d)](',')[0x1]),_0x5c9db5['onerror']=_0x2585f1=>_0x44dc96(_0x2585f1);});_0x7c8c61=[{'inlineData':{'mimeType':_0x365362['type'],'data':_0x3c8d2a}}];}catch(_0xaabe9d){console[_0x5025fa(0x96)]('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0xaabe9d),showMessage(_0x5025fa(0xca6));return;}generateQuiz(_0x4dbdce,null,null,_0x7c8c61,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0xc8e47c=null){const _0x404140=_0x1ca595,_0xd1f1b7=document[_0x404140(0xcac)](_0x404140(0x2b9)),_0x20e11b=document[_0x404140(0xcac)](_0x404140(0x705));let _0x47b41e,_0x4679b2=[];if(_0xc8e47c)_0x47b41e=_0xc8e47c,_0x4679b2=_0x47b41e[_0x404140(0x2ea)](0x2);else{const _0x6f297f=document[_0x404140(0xcac)](_0x404140(0x143)),_0x220cd9=document[_0x404140(0xcac)]('reference-pdf-upload'),_0x1a0742=_0x6f297f['files'][0x0];if(!_0x1a0742){showMessage(_0x404140(0xabc));return;}_0x20e11b['textContent']=_0x404140(0x1ed);const _0x3b5de3=await new Promise((_0x1a3d79,_0x11cc24)=>{const _0x327992=_0x404140,_0x36d01b=new FileReader();_0x36d01b[_0x327992(0x1e2)](_0x1a0742),_0x36d01b['onload']=()=>_0x1a3d79(_0x36d01b[_0x327992(0x87f)][_0x327992(0x38d)](',')[0x1]),_0x36d01b[_0x327992(0x821)]=_0x11cc24;});_0x47b41e=[{'text':_0x404140(0xae9)},{'inlineData':{'mimeType':_0x1a0742['type'],'data':_0x3b5de3}}];if(_0x220cd9[_0x404140(0xcb8)][_0x404140(0x1d6)]>0x0){const _0x4e6295=_0x220cd9['files'][0x0];_0x20e11b[_0x404140(0xc84)]='กำลังเตรียมไฟล์อ้างอิง...';const _0x2cdec7=await new Promise((_0x25818f,_0x7d4945)=>{const _0x4abf3b=_0x404140,_0x2b1c8b=new FileReader();_0x2b1c8b['readAsDataURL'](_0x4e6295),_0x2b1c8b['onload']=()=>_0x25818f(_0x2b1c8b[_0x4abf3b(0x87f)][_0x4abf3b(0x38d)](',')[0x1]),_0x2b1c8b[_0x4abf3b(0x821)]=_0x7d4945;}),_0x199f79={'inlineData':{'mimeType':_0x4e6295[_0x404140(0x159)],'data':_0x2cdec7}};_0x47b41e[_0x404140(0x3bb)](_0x199f79),_0x4679b2[_0x404140(0x3bb)](_0x199f79);}}const _0x1dddc5=_0x404140(0x497),_0x22b812=_0x404140(0x942);let _0x1f9964='';_0x4679b2&&_0x4679b2[_0x404140(0x1d6)]>0x0?_0x1f9964=_0x1dddc5:_0x1f9964=_0x22b812;const _0x4078b5='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a'+_0x1f9964+_0x404140(0x3cb),_0x10a81f={'type':'OBJECT','properties':{'questionText':{'type':_0x404140(0xa26)},'questionType':{'type':'STRING','enum':[_0x404140(0x801),_0x404140(0xbf6),'true_false',_0x404140(0x79b)]},'options':{'type':_0x404140(0x8e3),'items':{'type':_0x404140(0xa26)}},'correctAnswerIndex':{'type':_0x404140(0xa5)},'idealAnswer':{'type':_0x404140(0xa26)},'correctAnswer':{'type':_0x404140(0x468)},'explanation':{'type':_0x404140(0xa26)},'imageCode':{'type':_0x404140(0xa26)}},'required':[_0x404140(0xc34),_0x404140(0x64a)]},_0xbcd3bd={'type':'OBJECT','properties':{'topic':{'type':_0x404140(0xa26)},'questions':{'type':_0x404140(0x8e3),'items':_0x10a81f}},'required':[_0x404140(0xa64),_0x404140(0xbfe)]};_0x47b41e[0x0][_0x404140(0xb20)]=_0x4078b5,await handleApiCall(_0x47b41e,_0x404140(0x8ba),_0xbcd3bd);}function proceedToNextQuestion(_0x548403){const _0x26f516=_0x1ca595;studentAnswersPerQuestion[_0x26f516(0x3bb)](_0x548403),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0x1c6082,_0x160122,_0x22a7d0){const _0x5b8bb6=_0x1ca595,_0x35d4b4=Object[_0x5b8bb6(0xc7b)](_0x1c6082[_0x5b8bb6(0x1ff)]||{}),_0x17720d=_0x35d4b4[_0x5b8bb6(0x1d6)],_0x2b711d=_0x22a7d0,_0x5014b9=_0x1c6082[_0x5b8bb6(0x828)]||'classic',_0x5e3af1=_0x5014b9===_0x5b8bb6(0x8e1),_0x501dc6=_0x1c6082[_0x5b8bb6(0x5ab)]===!![],_0x6d0f7f=_0x5014b9===_0x5b8bb6(0x9b1),_0x2b3487=_0x1c6082[_0x5b8bb6(0xc09)][_0x5b8bb6(0xbfe)],_0x10cea4=_0x2b3487[_0x2b711d],_0x1e69ff=_0x54d264=>String[_0x5b8bb6(0x401)](0x41+_0x54d264),_0x1a2190=_0x35d4b4[_0x5b8bb6(0x201)](_0x271b7c=>{const _0x2b74eb=_0x5b8bb6,_0x577317=_0x271b7c['score']||0x0,_0x2e6ba8=_0x271b7c[_0x2b74eb(0x9c8)]||0x0,_0x473a37=(_0x271b7c[_0x2b74eb(0x54d)]||[])[_0x2b74eb(0xa00)](_0xa182f8=>{const _0x5da1a6=_0x2b74eb;if(_0x5014b9===_0x5da1a6(0x9a))return _0xa182f8[_0x5da1a6(0x65b)]<=_0x2b711d;return!![];});return{..._0x271b7c,'realScore':_0x577317,'totalPoints':_0x2e6ba8,'answers':_0x473a37};}),_0x19e577=Math[_0x5b8bb6(0xdb)](..._0x1a2190[_0x5b8bb6(0x201)](_0x16f769=>_0x16f769['totalPoints'])),_0x544397=Math[_0x5b8bb6(0xdb)](..._0x1a2190['map'](_0x35a290=>_0x35a290[_0x5b8bb6(0x3bd)])),_0x526534=[..._0x1a2190][_0x5b8bb6(0xb2f)]((_0x51a41c,_0xd9a3a0)=>{const _0x117f7f=_0x5b8bb6,_0x5d5021=_0xd9a3a0[_0x117f7f(0x9c8)]-_0x51a41c[_0x117f7f(0x9c8)];if(_0x5d5021!==0x0)return _0x5d5021;const _0x265850=_0xd9a3a0[_0x117f7f(0x3bd)]-_0x51a41c[_0x117f7f(0x3bd)];if(_0x265850!==0x0)return _0x265850;return(_0x51a41c[_0x117f7f(0xd33)]||'')[_0x117f7f(0xbf1)](_0xd9a3a0[_0x117f7f(0xd33)]||'','th');});let _0x45c3c5='';const _0x5e9069=!_0x6d0f7f&&!(_0x5e3af1&&_0x1c6082[_0x5b8bb6(0x784)]===![]);if(_0x10cea4&&_0x5e9069){let _0x1fc283='',_0x4df0e4='';const _0x36ae1b=_0x10cea4['questionType']||_0x1c6082['shuffledQuiz']['quizType'];if(_0x36ae1b==='multiple_choice'&&_0x10cea4[_0x5b8bb6(0x63f)]){const _0x98aa5=_0x10cea4[_0x5b8bb6(0xc75)];_0x1fc283=_0x10cea4[_0x5b8bb6(0x63f)][_0x98aa5],_0x4df0e4=_0x1e69ff(_0x98aa5)+'.';}else{if(_0x36ae1b===_0x5b8bb6(0xcea)){const _0x1de3bd=String(_0x10cea4[_0x5b8bb6(0xc49)])['toLowerCase']()===_0x5b8bb6(0xbe7);_0x1fc283=_0x1de3bd?_0x5b8bb6(0x161):'ไม่ใช่\x20/\x20ผิด',_0x4df0e4=_0x1de3bd?'ก.':'ข.';}else{if(_0x36ae1b==='matching_item')_0x1fc283=_0x10cea4[_0x5b8bb6(0xca2)]||'-';else _0x36ae1b==='short_answer'&&(_0x1fc283=_0x10cea4['idealAnswer']||'-');}}_0x1fc283&&(_0x45c3c5=_0x5b8bb6(0x759)+(_0x2b711d+0x1)+_0x5b8bb6(0x59d)+_0x4df0e4+'\x20'+_0x1fc283+_0x5b8bb6(0x46e));}const _0x5d861e=_0x526534[_0x5b8bb6(0x201)]((_0x190b67,_0x2bbebe)=>{const _0x20384f=_0x5b8bb6,_0x3809e5=_0x190b67[_0x20384f(0x3bd)],_0x3d33fd=_0x190b67['totalPoints'],_0x428f30=(_0x190b67[_0x20384f(0x54d)]||[])[_0x20384f(0x2f4)](_0x24922f=>_0x24922f['questionIndex']===_0x22a7d0);let _0x673aab='';if(_0x428f30){if(_0x428f30[_0x20384f(0x88e)])_0x673aab+='<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>';if(_0x428f30[_0x20384f(0xb94)])_0x673aab+=_0x20384f(0xa28);const _0x18474c=_0x428f30[_0x20384f(0x27e)];if(_0x18474c){const _0x53d508={'poll':'📊','cutOne':'✂️','insurance':_0x20384f(0xcee),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳'};if(_0x53d508[_0x18474c])_0x673aab+=_0x20384f(0xab1)+_0x53d508[_0x18474c]+_0x20384f(0x3c1);}if(_0x428f30[_0x20384f(0x118)]&&!_0x18474c)_0x673aab+=_0x20384f(0xc1c);}let _0xcece08='';_0x3d33fd===_0x19e577&&_0x19e577>0x0&&(_0xcece08+=_0x20384f(0x318));_0x3809e5===_0x544397&&_0x544397>0x0&&(_0xcece08+='<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x20(คะแนนดิบสูงสุด)\x22>🎓</span>');_0x3d33fd<0x0&&(_0xcece08+=_0x20384f(0x7a0));let _0x468aa6=_0x20384f(0xac0),_0xe66983=![];if(!_0x6d0f7f){const _0x34d6e1=(_0x190b67[_0x20384f(0x54d)]||[])[_0x20384f(0x2f4)](_0x231e25=>_0x231e25[_0x20384f(0x65b)]===_0x2b711d);if(_0x34d6e1){const _0x1b9d71=_0x34d6e1['isCorrect'],_0x67edfb=_0x34d6e1[_0x20384f(0x5f2)]===!![]||_0x34d6e1[_0x20384f(0x5f2)]==='confident',_0x3bc93d=_0x34d6e1[_0x20384f(0x27e)];if(_0x3bc93d===_0x20384f(0x8d2))_0x1b9d71?(_0x468aa6=_0x20384f(0xd08),_0xe66983=!![]):_0x468aa6='bg-red-700\x20text-white\x20font-bold';else{if(_0x67edfb)_0x468aa6=_0x1b9d71?_0x20384f(0xbcf):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x1b9d71&&(_0x468aa6=_0x20384f(0x85c));}}}let _0x250936='';const _0x45b48f=_0x190b67[_0x20384f(0xd33)],_0x2bce8c=_0x1c6082[_0x20384f(0xbc)][_0x190b67['name']]||_0x20384f(0x990),_0x2f24cd=_0x20384f(0x6ea),_0x1e1aef=_0x20384f(0xc35),_0xc0b507=_0xe66983?_0x20384f(0xaad):_0x20384f(0xc57);let _0x4fb0b2='';const _0x57a24c=_0x3d33fd>=0x0?'(+'+_0x3d33fd+')':'('+_0x3d33fd+')',_0x2d5289=_0x20384f(0x791)+_0x190b67[_0x20384f(0x3bd)]+_0x20384f(0x913)+_0x57a24c+_0x20384f(0x3c1);if(_0x160122){if(_0x5e3af1&&!_0x501dc6)_0x250936='<div\x20style=\x22'+_0x2f24cd+_0x20384f(0x99)+_0x2bce8c+_0x20384f(0x90e)+_0x1e1aef+'\x22>'+_0x2bce8c+'</span>\x20'+_0x673aab+'\x20'+_0xcece08+_0x20384f(0x4dd);else _0x5e3af1&&_0x501dc6?_0x250936=_0x20384f(0xb85)+_0x2f24cd+_0x20384f(0x99)+_0x45b48f+_0x20384f(0x90e)+_0x1e1aef+'\x22>'+_0x45b48f+'</span>\x20'+_0x673aab+'\x20'+_0xcece08+'<span\x20class=\x22block\x20text-sm\x20'+_0xc0b507+_0x20384f(0x779)+_0x1e1aef+_0x20384f(0xce5)+_0x2bce8c+')</span></div>':_0x250936=_0x20384f(0xb85)+_0x2f24cd+_0x20384f(0x99)+_0x45b48f+_0x20384f(0x90e)+_0x1e1aef+'\x22>'+_0x45b48f+_0x20384f(0xbfa)+_0x673aab+'\x20'+_0xcece08+_0x20384f(0x4dd);_0x4fb0b2=_0x2d5289;}return _0x20384f(0xae2)+_0x468aa6+_0x20384f(0xbe3)+(_0x2bbebe+0x1)+_0x20384f(0x25f)+_0x250936+_0x20384f(0xb9b)+_0x4fb0b2+_0x20384f(0xc80);})[_0x5b8bb6(0xa88)](''),_0x3b96d4=_0x2b3487['map']((_0x2c87af,_0x7b8025)=>{const _0x365c38=_0x5b8bb6;if(_0x5014b9===_0x365c38(0x9a)&&_0x7b8025>_0x2b711d||_0x6d0f7f)return'';const _0x94de0e=_0x1a2190['filter'](_0x3fff91=>_0x3fff91[_0x365c38(0x54d)]&&_0x3fff91[_0x365c38(0x54d)][_0x365c38(0x2f4)](_0x59e720=>_0x59e720[_0x365c38(0x65b)]===_0x7b8025&&_0x59e720['isCorrect']))['length'],_0x446fa3=_0x7b8025===_0x2b711d,_0x9b6874=_0x446fa3?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x365c38(0xaa4);return _0x365c38(0x180)+_0x9b6874+_0x365c38(0xb2b)+(_0x7b8025+0x1)+_0x365c38(0xc44)+_0x94de0e+_0x365c38(0x214)+_0x17720d+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x5b8bb6(0xa88)]('');let _0x5cac63='',_0x176d29='';if(_0x160122){const _0xd2ab6d=_0x5014b9==='classic'&&_0x1c6082[_0x5b8bb6(0x464)]>=_0x2b3487[_0x5b8bb6(0x1d6)]-0x1,_0x37acb3=_0x5014b9===_0x5b8bb6(0x9a)&&_0x1c6082['reviewQuestionIndex']>=_0x2b3487['length']-0x1,_0x2f2963=_0x5014b9==='anonymous'&&_0x1c6082['currentQuestionIndex']>=_0x2b3487[_0x5b8bb6(0x1d6)]-0x1,_0x32e34c=_0x5014b9===_0x5b8bb6(0x9b1)&&_0x1c6082['currentQuestionIndex']>=_0x2b3487['length']-0x1;_0xd2ab6d||_0x37acb3||_0x2f2963||_0x32e34c?_0x5e3af1&&!_0x501dc6?_0x5cac63=_0x5b8bb6(0x43a):_0x5cac63=_0x5b8bb6(0x678):_0x5cac63=_0x5b8bb6(0x72e),_0x176d29='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x3b7bca=_0x6d0f7f||_0x5e3af1&&!_0x1c6082[_0x5b8bb6(0x784)]?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x3b96d4+_0x5b8bb6(0x7c6),_0x440cb2=_0x6d0f7f||_0x5e3af1&&!_0x1c6082['showAnswerInAnonymous']?'md:col-span-3':_0x5b8bb6(0x170),_0x1760b1=_0x5b8bb6(0x234)+_0x1c6082[_0x5b8bb6(0xc09)][_0x5b8bb6(0xa64)]+_0x5b8bb6(0xd4e)+_0x1c6082[_0x5b8bb6(0x482)]+_0x5b8bb6(0xa6e)+_0x176d29+_0x5b8bb6(0x586)+_0x45c3c5+_0x5b8bb6(0xd5f)+_0x440cb2+_0x5b8bb6(0x442)+(_0x5d861e||_0x5b8bb6(0xb72))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b7bca+_0x5b8bb6(0x473)+(_0x160122?_0x5b8bb6(0x805)+_0x5cac63+_0x5b8bb6(0x4dd):'')+_0x5b8bb6(0x78c);liveGameView[_0x5b8bb6(0xcaa)]=_0x1760b1;if(window[_0x5b8bb6(0x4a4)]){const _0x2ecde1=document[_0x5b8bb6(0xcac)](_0x5b8bb6(0x240));_0x2ecde1&&MathJax[_0x5b8bb6(0xcf0)]([_0x2ecde1]);}if(_0x160122){document[_0x5b8bb6(0xcac)](_0x5b8bb6(0xad))[_0x5b8bb6(0x733)]=async()=>{const _0x1097a8=_0x5b8bb6,_0x2b2502=doc(db,_0x1097a8(0x54a)+appId+_0x1097a8(0xa14),currentLiveGameId),_0x4e7b91=_0x1c6082[_0x1097a8(0x464)]+0x1,_0x251ce1=_0x1c6082[_0x1097a8(0xc09)][_0x1097a8(0xbfe)]['length'];_0x4e7b91<_0x251ce1?await updateDoc(_0x2b2502,{'status':_0x1097a8(0xc52),'currentQuestionIndex':_0x4e7b91,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x2b2502,{'status':_0x1097a8(0x5bc)});},document[_0x5b8bb6(0xcac)](_0x5b8bb6(0x429))?.[_0x5b8bb6(0x8d3)](_0x5b8bb6(0xc47),async()=>{const _0x23c619=_0x5b8bb6;await updateDoc(doc(db,_0x23c619(0x54a)+appId+'/public/data/syncGames',currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x431a6d=document[_0x5b8bb6(0xcac)]('end-sync-game-btn');_0x431a6d&&(_0x431a6d['onclick']=()=>{const _0x97ee14=_0x5b8bb6;showConfirmation(_0x97ee14(0x857),async()=>{const _0x4c8ae7=_0x97ee14;await updateDoc(doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),{'status':_0x4c8ae7(0x5bc)});});});}}async function handleGenerateParallelFromBank(_0x247d29){const _0x5c2161=_0x1ca595,_0x54d58b=document['getElementById'](_0x5c2161(0x2c1)),_0x1942d3=document['getElementById'](_0x5c2161(0xa25));_0x1942d3[_0x5c2161(0x325)]['add'](_0x5c2161(0x60b));const _0x1ad91c=_0x5c2161(0x297)+_0x247d29[_0x5c2161(0xa64)]+_0x5c2161(0x3f6);_0x54d58b[_0x5c2161(0x453)](_0x5c2161(0x381),_0x1ad91c);const _0x53e529=document[_0x5c2161(0xcac)](_0x5c2161(0x8b5));try{const _0x56a738=_0x247d29[_0x5c2161(0xbfe)][_0x5c2161(0x201)]((_0x1c0938,_0x19d7f4)=>{const _0xb669f1=_0x5c2161;let _0x35b49f=_0x19d7f4+0x1+'.\x20'+(_0x1c0938['questionText']||_0x1c0938[_0xb669f1(0x216)])+'\x0a';if(_0x1c0938[_0xb669f1(0x63f)])_0x35b49f+=_0x1c0938[_0xb669f1(0x63f)]['map']((_0x14433a,_0x2478d8)=>_0xb669f1(0xbe8)+(_0x2478d8===_0x1c0938[_0xb669f1(0xc75)]?_0xb669f1(0xa61):'')+'\x20'+_0x14433a)[_0xb669f1(0xa88)]('\x0a');else _0x1c0938[_0xb669f1(0x8c8)]&&(_0x35b49f+=_0xb669f1(0x168)+_0x1c0938[_0xb669f1(0x8c8)]);return _0x35b49f;})['join']('\x0a\x0a');_0x53e529['textContent']=_0x5c2161(0x451);const _0x1a285d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x247d29[_0x5c2161(0xa64)]+_0x5c2161(0xaaf)+_0x56a738+_0x5c2161(0xab2)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x285bae={'type':'OBJECT','properties':{'questionText':{'type':_0x5c2161(0xa26)},'questionType':{'type':_0x5c2161(0xa26),'enum':['multiple_choice',_0x5c2161(0xbf6),_0x5c2161(0xcea),_0x5c2161(0x79b)]},'options':{'type':_0x5c2161(0x8e3),'items':{'type':_0x5c2161(0xa26)}},'correctAnswerIndex':{'type':_0x5c2161(0xa5)},'idealAnswer':{'type':_0x5c2161(0xa26)},'correctAnswer':{'type':_0x5c2161(0x468)},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5c2161(0x8e3),'items':{'type':_0x5c2161(0xa26)}},'explanation':{'type':_0x5c2161(0xa26)},'imageCode':{'type':_0x5c2161(0xa26)}},'required':[_0x5c2161(0xc34),'explanation']},_0xba9c79={'type':_0x5c2161(0xb15),'properties':{'topic':{'type':_0x5c2161(0xa26)},'questions':{'type':_0x5c2161(0x8e3),'items':_0x285bae}},'required':['topic',_0x5c2161(0xbfe)]},_0x55f9d3=await callAnalysisApi(_0x1a285d,_0xba9c79),_0x592b99=_0x55f9d3['questions'][_0x5c2161(0x201)]((_0x59b532,_0x46d4a9)=>({..._0x59b532,'id':'q_'+Date[_0x5c2161(0x27a)]()+'_'+_0x46d4a9})),_0x22482f=_0x5c2161(0x554)+_0x247d29[_0x5c2161(0xa64)],_0x1cacff={'topic':_0x22482f,'questions':_0x592b99,'quizType':_0x247d29[_0x5c2161(0x717)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5c2161(0x8d)](),'status':_0x5c2161(0x6a2),'settings':_0x247d29[_0x5c2161(0xaaa)],'quizMode':_0x5c2161(0x99c),'pairedQuizId':null,'lessonPlan':null};let _0x2b02cf;while(!![]){_0x2b02cf=Math[_0x5c2161(0xd51)](0x3e8+Math[_0x5c2161(0x6b8)]()*0x2328)[_0x5c2161(0x287)]();const _0x55b269=await getDoc(doc(db,_0x5c2161(0x54a)+appId+'/public/data/quizzes',_0x2b02cf));if(!_0x55b269['exists']())break;}await setDoc(doc(db,_0x5c2161(0x54a)+appId+'/public/data/quizzes',_0x2b02cf),_0x1cacff),showMessage(_0x5c2161(0x77c));}catch(_0xb82be9){console['error'](_0x5c2161(0x46a),_0xb82be9),showMessage(_0x5c2161(0x987)+_0xb82be9['message']);}finally{const _0x520fa6=document['getElementById'](_0x5c2161(0x8bf));_0x520fa6&&_0x520fa6[_0x5c2161(0x419)](),_0x1942d3[_0x5c2161(0x325)]['remove'](_0x5c2161(0x60b));}}async function handleGenerateParallelPostTest(_0xb2ff6a){const _0x5c40f9=_0x1ca595,_0x2f2bac=document['getElementById']('results-tab-content'),_0x411685=document[_0x5c40f9(0xcac)](_0x5c40f9(0xa25));_0x411685['classList'][_0x5c40f9(0xd3c)]('hidden');const _0x53fce6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2f2bac[_0x5c40f9(0x453)](_0x5c40f9(0x381),_0x53fce6);try{const _0x52366b=_0xb2ff6a[_0x5c40f9(0xbfe)][_0x5c40f9(0x201)]((_0x6cc41,_0x30b5d8)=>{const _0x81e1a7=_0x5c40f9;let _0x151ece=_0x30b5d8+0x1+'.\x20'+(_0x6cc41[_0x81e1a7(0x6f3)]||_0x6cc41[_0x81e1a7(0x216)]);if(_0x6cc41['options'])_0x151ece+=_0x81e1a7(0xa5a)+_0x6cc41['options'][_0x81e1a7(0xa88)](',\x20');return _0x151ece;})['join']('\x0a\x0a'),_0x13a91d=_0x5c40f9(0xcb)+_0xb2ff6a[_0x5c40f9(0xa64)]+_0x5c40f9(0x2ab)+_0x52366b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x5c40f9(0x4eb),_0x8aa3cd={'type':_0x5c40f9(0xb15),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5c40f9(0x8e3),'items':{'type':_0x5c40f9(0xb15),'properties':{'questionText':{'type':_0x5c40f9(0xa26)},'questionType':{'type':_0x5c40f9(0xa26)},'options':{'type':'ARRAY','items':{'type':_0x5c40f9(0xa26)}},'correctAnswerIndex':{'type':_0x5c40f9(0xa5)},'idealAnswer':{'type':_0x5c40f9(0xa26)},'explanation':{'type':_0x5c40f9(0xa26)}},'required':[_0x5c40f9(0x6f3),_0x5c40f9(0x64a)]}}},'required':[_0x5c40f9(0xa64),_0x5c40f9(0xbfe)]},_0x5c70dd=await callAnalysisApi(_0x13a91d,_0x8aa3cd),_0x4b24c7=_0xb2ff6a[_0x5c40f9(0xa64)][_0x5c40f9(0xc6a)]('(ก่อนเรียน)','')[_0x5c40f9(0x964)](),_0x170dbd=_0x5c40f9(0xc2a)+_0x4b24c7,_0x2d318a={..._0x5c70dd,'topic':_0x170dbd,'quizType':_0xb2ff6a[_0x5c40f9(0x717)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5c40f9(0x8d)](),'status':_0x5c40f9(0x6a2),'settings':_0xb2ff6a['settings'],'quizMode':_0x5c40f9(0x10d),'pairedQuizId':_0xb2ff6a['id']};let _0x53d275;while(!![]){_0x53d275=Math['floor'](0x3e8+Math[_0x5c40f9(0x6b8)]()*0x2328)['toString']();const _0x52f92c=await getDoc(doc(db,'artifacts/'+appId+_0x5c40f9(0xa62),_0x53d275));if(!_0x52f92c[_0x5c40f9(0xa2b)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5c40f9(0xa62),_0x53d275),_0x2d318a);const _0x3afef2=doc(db,_0x5c40f9(0x54a)+appId+_0x5c40f9(0xa62),_0xb2ff6a['id']);await updateDoc(_0x3afef2,{'pairedQuizId':_0x53d275}),showMessage(_0x5c40f9(0x218));}catch(_0xb1294e){console[_0x5c40f9(0x96)](_0x5c40f9(0x304),_0xb1294e),showMessage(_0x5c40f9(0x987)+_0xb1294e[_0x5c40f9(0xaee)]);}finally{const _0x6def27=document[_0x5c40f9(0xcac)](_0x5c40f9(0x8bf));if(_0x6def27)_0x6def27[_0x5c40f9(0x419)]();_0x411685[_0x5c40f9(0x325)][_0x5c40f9(0x419)](_0x5c40f9(0x60b));}}async function handleGenerateParallelTest(_0x2c8b19=null){const _0x1970d1=_0x1ca595;let _0xc67208=_0x2c8b19;if(!_0xc67208){const _0xf609b8=document[_0x1970d1(0xcac)]('parallel-test-upload-input');_0xf609b8[_0x1970d1(0xcb8)][_0x1970d1(0x1d6)]>0x0&&(_0xc67208=_0xf609b8[_0x1970d1(0xcb8)][0x0]);}if(!_0xc67208){showMessage(_0x1970d1(0xb6f));return;}const _0x6b8077=document[_0x1970d1(0xcac)](_0x1970d1(0x2b9)),_0x3217c=document[_0x1970d1(0xcac)]('loader-text'),_0x488145=document[_0x1970d1(0xcac)](_0x1970d1(0x1d8)),_0x196e8a=document[_0x1970d1(0xcac)]('generate-from-parallel-test-btn');_0x196e8a[_0x1970d1(0x25a)]=!![],document[_0x1970d1(0xcac)]('quiz-generation-area')[_0x1970d1(0x325)][_0x1970d1(0x419)]('hidden'),_0x488145[_0x1970d1(0xcaa)]='',_0x6b8077[_0x1970d1(0x325)]['remove'](_0x1970d1(0x60b)),_0x3217c['textContent']='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0xf2ee1e=new FileReader();_0xf2ee1e[_0x1970d1(0x1e2)](_0xc67208),_0xf2ee1e[_0x1970d1(0xad6)]=async()=>{const _0x9a617e=_0x1970d1;try{const _0x18bf44=_0xf2ee1e[_0x9a617e(0x87f)][_0x9a617e(0x38d)](',')[0x1],_0x1ce17f=_0xc67208['type'];_0x3217c[_0x9a617e(0xc84)]=_0x9a617e(0x3d2);const _0x7e3491=document[_0x9a617e(0xcac)](_0x9a617e(0xcc0))[_0x9a617e(0xa81)],_0x113b2d=_0x7e3491?_0x9a617e(0x9b5):'',_0x82da82=_0x9a617e(0x9d6),_0xafee41={'type':_0x9a617e(0xb15),'properties':{'questionText':{'type':_0x9a617e(0xa26)},'questionType':{'type':_0x9a617e(0xa26),'enum':['multiple_choice',_0x9a617e(0xbf6)]},'options':{'type':_0x9a617e(0x8e3),'items':{'type':_0x9a617e(0xa26)}},'correctAnswerIndex':{'type':_0x9a617e(0xa5)},'idealAnswer':{'type':_0x9a617e(0xa26)},'explanation':{'type':_0x9a617e(0xa26)},'imageCode':{'type':_0x9a617e(0xa26)}},'required':[_0x9a617e(0x6f3),_0x9a617e(0xc34),_0x9a617e(0x64a)]},_0x5b3652={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x9a617e(0x8e3),'items':_0xafee41}},'required':[_0x9a617e(0xa64),'questions']},_0x3a40af=[{'text':_0x82da82},{'inlineData':{'mimeType':_0x1ce17f,'data':_0x18bf44}}];await handleApiCall(_0x3a40af,_0x9a617e(0x4f6),_0x5b3652);}catch(_0x4e175f){console[_0x9a617e(0x96)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x4e175f),showMessage(_0x9a617e(0x987)+_0x4e175f[_0x9a617e(0xaee)]),_0x488145['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x6b8077[_0x9a617e(0x325)][_0x9a617e(0xd3c)](_0x9a617e(0x60b)),_0x196e8a['disabled']=![];}},_0xf2ee1e[_0x1970d1(0x821)]=_0x2dabdf=>{const _0x40262e=_0x1970d1;console['error']('FileReader\x20error:',_0x2dabdf),showMessage(_0x40262e(0xc08)),_0x6b8077['classList'][_0x40262e(0xd3c)](_0x40262e(0x60b)),_0x196e8a[_0x40262e(0x25a)]=![];};}async function handleRegenerateQuestionInEditor(_0x1cbadc){const _0x341f67=_0x1ca595;if(currentEditingQuizData===null)return;const _0x4bdd87=document[_0x341f67(0xb49)](_0x341f67(0x3ea)+_0x1cbadc+'\x22]');_0x4bdd87&&(_0x4bdd87[_0x341f67(0xcaa)]=_0x341f67(0x65f));const _0x2e9b8d=currentEditingQuizData['questions'][_0x1cbadc],_0x42e6b0=currentEditingQuizData[_0x341f67(0xa64)],_0x18d2f6=_0x2e9b8d[_0x341f67(0xc34)],_0x44f1a9={'type':_0x341f67(0xb15),'properties':{'questionText':{'type':_0x341f67(0xa26)},'options':{'type':'ARRAY','items':{'type':_0x341f67(0xa26)}},'correctAnswerIndex':{'type':_0x341f67(0xa5)},'explanation':{'type':_0x341f67(0xa26)}},'required':[_0x341f67(0x6f3),'options',_0x341f67(0xc75),'explanation']},_0x1cde35={'type':_0x341f67(0xb15),'properties':{'questionText':{'type':_0x341f67(0xa26)},'idealAnswer':{'type':_0x341f67(0xa26)},'explanation':{'type':_0x341f67(0xa26)}},'required':[_0x341f67(0x6f3),_0x341f67(0x8c8),_0x341f67(0x64a)]};let _0x43fb13,_0x7e5b0d='';_0x18d2f6===_0x341f67(0x801)?(_0x43fb13=_0x44f1a9,_0x7e5b0d='แบบปรนัย\x204\x20ตัวเลือก'):(_0x43fb13=_0x1cde35,_0x7e5b0d='แบบเติมคำตอบ');const _0x23a1c2='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x42e6b0+_0x341f67(0x776)+_0x7e5b0d+_0x341f67(0x2df)+(_0x2e9b8d[_0x341f67(0x6f3)]||_0x2e9b8d['stem'])+_0x341f67(0x4c3)+simpleMathPrompt;try{const _0xeb3590=await callAnalysisApi(_0x23a1c2,_0x43fb13);currentEditingQuizData[_0x341f67(0xbfe)][_0x1cbadc]={..._0x2e9b8d,..._0xeb3590},renderQuizEditor(currentEditingQuizData);}catch(_0x440ab9){console[_0x341f67(0x96)](_0x341f67(0xa20),_0x440ab9),showMessage(_0x341f67(0x6ba)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xedb7a3=_0x1ca595,_0x62513=document[_0xedb7a3(0xcac)](_0xedb7a3(0x135));currentMode===_0xedb7a3(0xb63)?(currentMode=_0xedb7a3(0x28d),_0x62513[_0xedb7a3(0xcaa)]=_0xedb7a3(0x26b),_0x62513[_0xedb7a3(0xcbd)]=_0xedb7a3(0x14f),showView(_0xedb7a3(0xa94))):(currentMode=_0xedb7a3(0xb63),_0x62513[_0xedb7a3(0xcaa)]=_0xedb7a3(0x2ed),_0x62513['title']=_0xedb7a3(0x52e),showView(_0xedb7a3(0xb63)));}function handleAdminLogin(){const _0x1c83aa=_0x1ca595,_0x146354=document['getElementById']('admin-password-input'),_0x3716d6=document['getElementById'](_0x1c83aa(0x424));if(_0x146354[_0x1c83aa(0x41e)]==='27411472'){adminPasswordModal[_0x1c83aa(0x325)][_0x1c83aa(0xd3c)](_0x1c83aa(0x60b)),_0x146354[_0x1c83aa(0x41e)]='',_0x3716d6['classList'][_0x1c83aa(0xd3c)](_0x1c83aa(0x60b)),currentMode=_0x1c83aa(0x28d);const _0x5353d0=document[_0x1c83aa(0xcac)](_0x1c83aa(0x135));_0x5353d0[_0x1c83aa(0xcaa)]=_0x1c83aa(0x26b),_0x5353d0[_0x1c83aa(0xcbd)]=_0x1c83aa(0x14f),showView('admin-dashboard');}else _0x3716d6[_0x1c83aa(0x325)]['remove'](_0x1c83aa(0x60b)),_0x146354['value']='';}function switchProjectTab(_0x5b8331){const _0x3ef914=_0x1ca595;[_0x3ef914(0x66b),'results',_0x3ef914(0x847)][_0x3ef914(0x99f)](_0x4ed5a1=>{const _0x3c1727=_0x3ef914;document['getElementById'](_0x4ed5a1+_0x3c1727(0x3b7))[_0x3c1727(0x325)][_0x3c1727(0x419)]('active'),document['getElementById'](_0x4ed5a1+_0x3c1727(0x2a8))['classList'][_0x3c1727(0xd3c)](_0x3c1727(0x60b));}),document[_0x3ef914(0xcac)](_0x5b8331+_0x3ef914(0x3b7))['classList'][_0x3ef914(0xd3c)]('active'),document[_0x3ef914(0xcac)](_0x5b8331+_0x3ef914(0x2a8))[_0x3ef914(0x325)][_0x3ef914(0x419)](_0x3ef914(0x60b));}function switchQuizDetailTab(_0x5ead65){const _0x4e100a=_0x1ca595,_0x59cc1f={'analytics':{'btn':'analytics-tab-btn','content':'analytics-tab-content'},'scores':{'btn':_0x4e100a(0x976),'content':_0x4e100a(0xa85)},'leaderboard-quiz':{'btn':_0x4e100a(0x43d),'content':_0x4e100a(0x9fe)},'behavior-log':{'btn':_0x4e100a(0xb1c),'content':_0x4e100a(0x90)}};for(const _0x40dd45 in _0x59cc1f){document[_0x4e100a(0xcac)](_0x59cc1f[_0x40dd45][_0x4e100a(0x680)])['classList'][_0x4e100a(0x419)](_0x4e100a(0x6a2)),document['getElementById'](_0x59cc1f[_0x40dd45][_0x4e100a(0x37d)])['classList'][_0x4e100a(0xd3c)](_0x4e100a(0x60b));}document[_0x4e100a(0xcac)](_0x59cc1f[_0x5ead65][_0x4e100a(0x680)])['classList']['add']('active'),document[_0x4e100a(0xcac)](_0x59cc1f[_0x5ead65][_0x4e100a(0x37d)])[_0x4e100a(0x325)][_0x4e100a(0x419)](_0x4e100a(0x60b));}function showMessage(_0x3f47a7,_0x3f5cc0=null){const _0x1cf734=_0x1ca595;modalMessage[_0x1cf734(0xcaa)]=_0x3f47a7[_0x1cf734(0xc6a)](/\n/g,_0x1cf734(0x3c4)),modalConfirmAction=_0x3f5cc0,messageModal['classList'][_0x1cf734(0x419)](_0x1cf734(0x60b));}function showConfirmation(_0x54b60a,_0x1566a4,_0x3dc6d6=null){const _0x2dd492=_0x1ca595;document[_0x2dd492(0xcac)](_0x2dd492(0x33f))[_0x2dd492(0xc84)]=_0x54b60a,document[_0x2dd492(0xcac)](_0x2dd492(0xb62))[_0x2dd492(0xb49)]('h3')[_0x2dd492(0xc84)]='ยืนยันการกระทำ',confirmAction=_0x1566a4,cancelAction=_0x3dc6d6,confirmationModal[_0x2dd492(0x325)][_0x2dd492(0x419)](_0x2dd492(0x60b));}function listenForProjects(){const _0x42adb2=_0x1ca595,_0x50456a=doc(db,_0x42adb2(0x24b),_0x42adb2(0xacd));onSnapshot(_0x50456a,_0x4dd27c=>{const _0x3431f4=_0x42adb2;if(_0x4dd27c[_0x3431f4(0xa2b)]()){const _0x518731=_0x4dd27c[_0x3431f4(0xb6)]();globalDashboardSettings[_0x3431f4(0x794)]=_0x518731['projectSort']||'date_desc',globalDashboardSettings[_0x3431f4(0x63d)]=_0x518731[_0x3431f4(0x63d)]||[],globalDashboardSettings[_0x3431f4(0x697)]=_0x518731[_0x3431f4(0x697)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x49b6c2=collection(db,_0x42adb2(0x54a)+appId+_0x42adb2(0x737));unsubscribeProjectsListener=onSnapshot(_0x49b6c2,_0x305a83=>{const _0xffd7d8=_0x42adb2;allProjects=_0x305a83['docs'][_0xffd7d8(0x201)](_0x3a4f73=>({'id':_0x3a4f73['id'],..._0x3a4f73[_0xffd7d8(0xb6)]()})),renderProjects();},_0x258386=>{const _0x1789db=_0x42adb2;console[_0x1789db(0x96)](_0x1789db(0x8a0),_0x258386),showMessage(_0x1789db(0x985));});}function showColorPalette(_0x4d9f99,_0x212df0){const _0x2a8e31=_0x1ca595;document['querySelectorAll']('.color-palette-popup')[_0x2a8e31(0x99f)](_0x1b2f49=>_0x1b2f49[_0x2a8e31(0x419)]());const _0x557118=['#FFFFFF',_0x2a8e31(0xaab),_0x2a8e31(0xb08),_0x2a8e31(0x33d),_0x2a8e31(0x858),_0x2a8e31(0xab7),'#F3E8FF',_0x2a8e31(0xc7e),_0x2a8e31(0x63a)],_0x14b8fd=document[_0x2a8e31(0x845)]('div');_0x14b8fd[_0x2a8e31(0x5c4)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x557118['forEach'](_0x558b06=>{const _0x5a00e7=_0x2a8e31,_0x3cb359=document[_0x5a00e7(0x845)](_0x5a00e7(0xb5e));_0x3cb359[_0x5a00e7(0x5c4)]=_0x5a00e7(0x9b),_0x3cb359['style'][_0x5a00e7(0x710)]=_0x558b06,_0x3cb359[_0x5a00e7(0x8d3)](_0x5a00e7(0xc47),()=>{const _0x54d990=_0x5a00e7;handleProjectColorChange(_0x212df0,_0x558b06),_0x14b8fd[_0x54d990(0x419)]();}),_0x14b8fd[_0x5a00e7(0x1d2)](_0x3cb359);}),document[_0x2a8e31(0x742)][_0x2a8e31(0x1d2)](_0x14b8fd);const _0x1b3469=_0x4d9f99['getBoundingClientRect']();_0x14b8fd[_0x2a8e31(0x300)]['top']=_0x1b3469[_0x2a8e31(0x495)]+window[_0x2a8e31(0x9ae)]+'px',_0x14b8fd[_0x2a8e31(0x300)]['left']=_0x1b3469[_0x2a8e31(0xc4)]+window['scrollX']-_0x14b8fd[_0x2a8e31(0x81a)]/0x2+'px';}async function handleProjectColorChange(_0x57e51f,_0x4fc35e){const _0x471769=_0x1ca595,_0x28971c=doc(db,_0x471769(0x54a)+appId+'/public/data/projects',_0x57e51f);try{await updateDoc(_0x28971c,{'color':_0x4fc35e});}catch(_0x622f99){console[_0x471769(0x96)](_0x471769(0x145),_0x622f99),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x5304af=_0x1ca595,_0x5437d3=globalDashboardSettings['projectSort']||_0x5304af(0x570),_0x5a1be1=new Set(globalDashboardSettings[_0x5304af(0x63d)]||[]),_0x443dcb=globalDashboardSettings[_0x5304af(0x9df)]||_0x5304af(0xae7),_0x1a21c7=document[_0x5304af(0xcac)]('grid-view-btn'),_0x504329=document['getElementById']('list-view-btn');_0x1a21c7['classList'][_0x5304af(0x1a3)](_0x5304af(0x6a2),_0x443dcb===_0x5304af(0xae7)),_0x504329[_0x5304af(0x325)][_0x5304af(0x1a3)](_0x5304af(0x6a2),_0x443dcb===_0x5304af(0xd87)),document['getElementById'](_0x5304af(0x747))[_0x5304af(0x41e)]=_0x5437d3;const _0x4c99cf=document[_0x5304af(0xcac)](_0x5304af(0x578))[_0x5304af(0x41e)]['toLowerCase']();let _0x2a8e13=allProjects[_0x5304af(0xa00)](_0x48b582=>_0x48b582['projectName'][_0x5304af(0x5c9)]()[_0x5304af(0x39b)](_0x4c99cf));const _0x10b5c9=_0x2a8e13[_0x5304af(0xa00)](_0x20625d=>_0x5a1be1[_0x5304af(0x2c8)](_0x20625d['id'])),_0x1f776e=_0x2a8e13[_0x5304af(0xa00)](_0x175d47=>!_0x5a1be1[_0x5304af(0x2c8)](_0x175d47['id'])),_0x2c0c57=(_0x23ea36,_0x3be58b)=>{const _0x4fa2f7=_0x5304af;switch(_0x5437d3){case'name_asc':return _0x23ea36[_0x4fa2f7(0x5b1)][_0x4fa2f7(0xbf1)](_0x3be58b[_0x4fa2f7(0x5b1)],'th');case _0x4fa2f7(0xd54):return _0x3be58b[_0x4fa2f7(0x5b1)][_0x4fa2f7(0xbf1)](_0x23ea36['projectName'],'th');case _0x4fa2f7(0x52a):return new Date(_0x23ea36[_0x4fa2f7(0x7b2)])-new Date(_0x3be58b[_0x4fa2f7(0x7b2)]);default:return new Date(_0x3be58b[_0x4fa2f7(0x7b2)])-new Date(_0x23ea36['createdAt']);}};_0x10b5c9[_0x5304af(0xb2f)](_0x2c0c57),_0x1f776e[_0x5304af(0xb2f)](_0x2c0c57);const _0x3d9209=[..._0x10b5c9,..._0x1f776e],_0x2c1f0c=globalDashboardSettings['projectOrder']||[];_0x2c1f0c[_0x5304af(0x1d6)]>0x0&&_0x443dcb===_0x5304af(0xae7)&&_0x3d9209[_0x5304af(0xb2f)]((_0x2cd26a,_0x2963a6)=>{const _0x5b0a34=_0x5304af,_0x35c4a=_0x2c1f0c[_0x5b0a34(0x5ff)](_0x2cd26a['id']),_0x54119f=_0x2c1f0c[_0x5b0a34(0x5ff)](_0x2963a6['id']);if(_0x35c4a===-0x1)return 0x1;if(_0x54119f===-0x1)return-0x1;return _0x35c4a-_0x54119f;});const _0x4c3a6c={};await Promise[_0x5304af(0xa12)](_0x3d9209[_0x5304af(0x201)](async _0x5d827f=>{const _0x472d88=_0x5304af,_0x52aa92=query(collection(db,_0x472d88(0x54a)+appId+_0x472d88(0xa62)),where(_0x472d88(0x98d),'==',_0x5d827f['id'])),_0x27fc67=await getDocs(_0x52aa92);_0x4c3a6c[_0x5d827f['id']]=_0x27fc67[_0x472d88(0x679)];}));const _0x1b23e2=document['getElementById']('project-list');let _0x4bbcd0='';if(_0x443dcb===_0x5304af(0xae7)){_0x1b23e2['className']=_0x5304af(0x10e);if(starredQuizzes['length']>0x0&&_0x4c99cf===''){const _0x29a0f7=starredQuizzes[_0x5304af(0x201)](_0x4d7787=>{const _0x43332f=_0x5304af,_0xcf361b=allProjects[_0x43332f(0x2f4)](_0x1c9f37=>_0x1c9f37['id']===_0x4d7787['projectId']);return{..._0x4d7787,'projectName':_0xcf361b?_0xcf361b[_0x43332f(0x5b1)]:_0x43332f(0x50e)};});_0x4bbcd0+=_0x5304af(0x69d)+_0x29a0f7[_0x5304af(0x201)](_0x23a37c=>_0x5304af(0x56f)+_0x23a37c[_0x5304af(0xa64)]+'\x22>'+_0x23a37c['topic']+_0x5304af(0xa9c)+_0x23a37c['projectName']+'\x22>จาก:\x20'+_0x23a37c[_0x5304af(0x5b1)]+_0x5304af(0x81e))[_0x5304af(0xa88)]('')+_0x5304af(0x952)+starredQuizzes[_0x5304af(0x1d6)]+_0x5304af(0x305);}_0x3d9209[_0x5304af(0x99f)](_0x354fdb=>{const _0x40cfc5=_0x5304af,_0x6100d1=_0x4c3a6c[_0x354fdb['id']]??0x0,_0x596129=_0x5a1be1[_0x40cfc5(0x2c8)](_0x354fdb['id']),_0x29a46f=_0x354fdb[_0x40cfc5(0x471)]||_0x40cfc5(0x34b),_0x5aaa9d=parseInt(_0x29a46f[_0x40cfc5(0x47b)](0x1,0x3),0x10)*0.299+parseInt(_0x29a46f['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x29a46f['substring'](0x5,0x7),0x10)*0.114<0xba,_0x34f118=_0x5aaa9d?_0x40cfc5(0x638):_0x40cfc5(0x506),_0x495c98=_0x5aaa9d?_0x40cfc5(0xd35):_0x40cfc5(0xa99);_0x4bbcd0+=_0x40cfc5(0xafe)+(_0x596129?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x40cfc5(0x36c))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x29a46f+_0x40cfc5(0x334)+_0x354fdb['id']+_0x40cfc5(0xade)+_0x354fdb['id']+_0x40cfc5(0x68c)+(_0x5aaa9d?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x354fdb['id']+_0x40cfc5(0x6b7)+(_0x5aaa9d?_0x40cfc5(0x340):_0x40cfc5(0x573))+_0x40cfc5(0x983)+(_0x596129?_0x5aaa9d?_0x40cfc5(0x588):'text-indigo-600':'')+_0x40cfc5(0xcca)+_0x354fdb['id']+_0x40cfc5(0x77a)+_0x34f118+_0x40cfc5(0xa2f)+_0x354fdb[_0x40cfc5(0x5b1)]+_0x40cfc5(0x723)+_0x495c98+_0x40cfc5(0x4cf)+new Date(_0x354fdb[_0x40cfc5(0x7b2)])['toLocaleDateString']('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x5aaa9d?_0x40cfc5(0x6bb):_0x40cfc5(0x2fb))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x6100d1+_0x40cfc5(0x596)+_0x354fdb['id']+_0x40cfc5(0x9c1)+_0x354fdb[_0x40cfc5(0x5b1)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x5aaa9d?'text-red-300\x20hover:text-red-100':_0x40cfc5(0x76c))+_0x40cfc5(0xb4e);});}else _0x1b23e2['className']=_0x5304af(0xb8e),starredQuizzes[_0x5304af(0x1d6)]>0x0&&_0x4c99cf===''&&(_0x4bbcd0+=_0x5304af(0x94b)+starredQuizzes[_0x5304af(0x1d6)]+_0x5304af(0xa54)),_0x4bbcd0+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x3d9209[_0x5304af(0x99f)](_0x536181=>{const _0x4a0758=_0x5304af,_0x229724=_0x4c3a6c[_0x536181['id']]??0x0,_0x58f1d5=_0x5a1be1[_0x4a0758(0x2c8)](_0x536181['id']);_0x4bbcd0+=_0x4a0758(0x51c)+(_0x536181[_0x4a0758(0x471)]||_0x4a0758(0x63a))+_0x4a0758(0x26c)+_0x536181['id']+_0x4a0758(0xb56)+_0x536181[_0x4a0758(0x5b1)]+_0x4a0758(0x510)+_0x229724+_0x4a0758(0x4c1)+new Date(_0x536181[_0x4a0758(0x7b2)])[_0x4a0758(0x1e1)]('th-TH')+_0x4a0758(0xbd8)+_0x536181['id']+_0x4a0758(0x6e6)+(_0x58f1d5?_0x4a0758(0xc76):'')+_0x4a0758(0x45d)+_0x536181['id']+'\x22\x20data-name=\x22'+_0x536181[_0x4a0758(0x5b1)]+_0x4a0758(0xb0d);});projectList[_0x5304af(0xcaa)]=_0x4bbcd0,noProjectsMsg[_0x5304af(0x325)][_0x5304af(0x1a3)](_0x5304af(0x60b),_0x4bbcd0['length']>0x0);}document[_0x1ca595(0xcac)](_0x1ca595(0x803))[_0x1ca595(0x8d3)](_0x1ca595(0xc47),async()=>{const _0x1a2e85=_0x1ca595,_0x42437a=document['getElementById'](_0x1a2e85(0x317)),_0x2969ba=_0x42437a['value'][_0x1a2e85(0x964)]();if(!_0x2969ba){showMessage(_0x1a2e85(0x9b8));return;}try{const _0x25c15f=doc(collection(db,_0x1a2e85(0x54a)+appId+'/public/data/projects'));await setDoc(_0x25c15f,{'projectName':_0x2969ba,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x42437a['value']='',createProjectModal[_0x1a2e85(0x325)][_0x1a2e85(0xd3c)](_0x1a2e85(0x60b)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x3c8977){console[_0x1a2e85(0x96)](_0x1a2e85(0xcd9),_0x3c8977),showMessage(_0x1a2e85(0x971));}}),projectList[_0x1ca595(0x8d3)](_0x1ca595(0xc47),async _0x4b8d40=>{const _0x595364=_0x1ca595,_0x15c25a=_0x4b8d40['target'][_0x595364(0x2d3)](_0x595364(0x8ae)),_0xc234b5=_0x4b8d40[_0x595364(0x615)]['closest']('.delete-project-btn'),_0x28754b=_0x4b8d40[_0x595364(0x615)][_0x595364(0x2d3)](_0x595364(0x54c)),_0x310987=_0x4b8d40[_0x595364(0x615)][_0x595364(0x2d3)](_0x595364(0xc8));if(_0x28754b){const _0x6f394e=_0x28754b[_0x595364(0x1e8)]['id'],_0x2d6e93=doc(db,_0x595364(0x24b),_0x595364(0xacd)),_0x2d8199=globalDashboardSettings[_0x595364(0x63d)];let _0x31ae0c;_0x2d8199[_0x595364(0x39b)](_0x6f394e)?_0x31ae0c=_0x2d8199[_0x595364(0xa00)](_0x2a5eb6=>_0x2a5eb6!==_0x6f394e):_0x31ae0c=[..._0x2d8199,_0x6f394e];try{await setDoc(_0x2d6e93,{'pinnedProjects':_0x31ae0c},{'merge':!![]});}catch(_0x2d75cf){console['error'](_0x595364(0x45c),_0x2d75cf),showMessage(_0x595364(0x7ca));}}else{if(_0x310987){const _0x598c30=_0x310987[_0x595364(0x1e8)]['id'];showColorPalette(_0x310987,_0x598c30);}else{if(_0x15c25a){const _0x543864=_0x15c25a[_0x595364(0x1e8)]['id'];_0x543864===_0x595364(0x830)?showStarredProjectView():(currentProjectId=_0x543864,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0xc234b5){const _0x4f567d=_0xc234b5[_0x595364(0x1e8)]['id'],_0x5abd7c=_0xc234b5[_0x595364(0x1e8)][_0x595364(0xd33)];showConfirmation(_0x595364(0x243)+_0x5abd7c+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x4f567d));}}}}}),projectList[_0x1ca595(0x8d3)](_0x1ca595(0x2b3),_0x4faf72=>{const _0x8d6df9=_0x1ca595,_0x14431c=_0x4faf72[_0x8d6df9(0x615)][_0x8d6df9(0x2d3)]('.project-card-container');_0x14431c&&_0x14431c['classList'][_0x8d6df9(0xd3c)](_0x8d6df9(0xa39));}),projectList[_0x1ca595(0x8d3)](_0x1ca595(0x226),_0x86f026=>{const _0x17b24f=_0x1ca595,_0x222640=_0x86f026['target'][_0x17b24f(0x2d3)]('.project-card-container');_0x222640&&_0x222640['classList'][_0x17b24f(0x419)](_0x17b24f(0xa39));}),projectList[_0x1ca595(0x8d3)](_0x1ca595(0xbb7),_0x42500a=>{const _0x442e36=_0x1ca595;_0x42500a[_0x442e36(0xd43)]();const _0xd156a8=document[_0x442e36(0xb49)](_0x442e36(0xc67));if(!_0xd156a8)return;const _0x35dd3f=getDragAfterElement(projectList,_0x42500a['clientY']);_0x35dd3f==null?projectList[_0x442e36(0x1d2)](_0xd156a8):projectList[_0x442e36(0x718)](_0xd156a8,_0x35dd3f);}),projectList[_0x1ca595(0x8d3)](_0x1ca595(0x7b4),_0x20e7bc=>{const _0x3efc49=_0x1ca595;_0x20e7bc[_0x3efc49(0xd43)]();const _0x2d55b8=[...projectList['querySelectorAll'](_0x3efc49(0xaff))][_0x3efc49(0x201)](_0x369d8f=>_0x369d8f['dataset']['id']);saveProjectOrder(_0x2d55b8);});function renderBehaviorLog(_0x58df92){const _0x4ac2a7=_0x1ca595,_0x5737ef=document['getElementById']('behavior-log-container');if(!_0x5737ef)return;const _0x1ffe22=_0x58df92[_0x4ac2a7(0xa00)](_0x4600e7=>_0x4600e7[_0x4ac2a7(0x3c2)]&&_0x4600e7['behaviorLog']['length']>0x0);if(_0x1ffe22[_0x4ac2a7(0x1d6)]===0x0){_0x5737ef[_0x4ac2a7(0xcaa)]=_0x4ac2a7(0x846);return;}let _0x541b89='';_0x1ffe22['forEach'](_0x370606=>{const _0x311bbc=_0x4ac2a7;_0x541b89+=_0x311bbc(0x71e)+_0x370606[_0x311bbc(0x3ef)]+_0x311bbc(0x5f9),_0x370606[_0x311bbc(0x3c2)][_0x311bbc(0xb2f)]((_0x4c9419,_0x28a8ae)=>new Date(_0x28a8ae['timestamp'])-new Date(_0x4c9419[_0x311bbc(0x1de)]))[_0x311bbc(0x99f)](_0x4ae9ee=>{const _0x4ae03c=_0x311bbc,_0x32f6b5=new Date(_0x4ae9ee[_0x4ae03c(0x1de)])[_0x4ae03c(0x1e1)](_0x4ae03c(0x8f),{'dateStyle':_0x4ae03c(0x196),'timeStyle':_0x4ae03c(0xc4d)});_0x541b89+=_0x4ae03c(0xd3e)+_0x4ae9ee[_0x4ae03c(0xb5f)]+_0x4ae03c(0x141)+_0x32f6b5+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x541b89+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5737ef[_0x4ac2a7(0xcaa)]=_0x541b89;}function getDragAfterElement(_0x1a9dac,_0xbea872){const _0x2ec773=_0x1ca595,_0x5b59f3=[..._0x1a9dac[_0x2ec773(0x20a)](_0x2ec773(0x767))];return _0x5b59f3['reduce']((_0x55d1b9,_0x4999f5)=>{const _0x2ba80e=_0x2ec773,_0x247e16=_0x4999f5[_0x2ba80e(0x663)](),_0x419533=_0xbea872-_0x247e16[_0x2ba80e(0xb32)]-_0x247e16[_0x2ba80e(0x636)]/0x2;return _0x419533<0x0&&_0x419533>_0x55d1b9[_0x2ba80e(0x9e5)]?{'offset':_0x419533,'element':_0x4999f5}:_0x55d1b9;},{'offset':Number[_0x2ec773(0x926)]})['element'];}async function saveProjectOrder(_0x2c4dd8){const _0x403fc4=_0x1ca595,_0x504f78=doc(db,_0x403fc4(0x24b),_0x403fc4(0xacd));try{await setDoc(_0x504f78,{'projectOrder':_0x2c4dd8},{'merge':!![]});}catch(_0x459607){console['error'](_0x403fc4(0x997),_0x459607),showMessage(_0x403fc4(0xe4));}}async function logBehaviorEvent(_0x4b0343,_0x216798={}){const _0x327853=_0x1ca595;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x327853(0x5c2)](_0x327853(0x837));return;}const _0x1206c1=doc(db,_0x327853(0x54a)+appId+_0x327853(0x292)+currentQuizData['id']+_0x327853(0x12a),currentStudentName),_0x2e0219={'event':_0x4b0343,'timestamp':new Date()[_0x327853(0x8d)](),..._0x216798};try{await updateDoc(_0x1206c1,{'behaviorLog':arrayUnion(_0x2e0219)}),console['log'](_0x327853(0x89f)+currentStudentName+_0x327853(0x5ee));}catch(_0x427a38){_0x427a38['code']===_0x327853(0x8a2)?console[_0x327853(0x5c2)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x327853(0x7d2)):console[_0x327853(0x96)](_0x327853(0xa02),_0x427a38);}}function getScoreTier(_0xbaf6ef,_0x3d7beb){const _0x5d2437=_0x1ca595;if(_0x3d7beb===0x0){if(_0xbaf6ef===0x0)return{'text':_0x5d2437(0xa1e),'icon':'⏳'};return{'text':_0x5d2437(0x38e),'icon':'😥'};}const _0x1f0fa9=_0xbaf6ef/(_0x3d7beb===0x0?0x1:_0x3d7beb);if(_0x1f0fa9===0x1)return{'text':_0x5d2437(0xb3),'icon':'👑'};if(_0x1f0fa9>=0.7)return{'text':'(ตามมาติดๆ)','icon':'🔥'};if(_0x1f0fa9>=0.4)return{'text':_0x5d2437(0x750),'icon':'🏃'};return{'text':_0x5d2437(0x38e),'icon':'😥'};}function calculateMeanAndStdDev(_0x383c1f){const _0x2a6c29=_0x1ca595;if(_0x383c1f['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x25bd2d=_0x383c1f['reduce']((_0x58a8fd,_0x4f04f5)=>_0x58a8fd+_0x4f04f5,0x0)/_0x383c1f[_0x2a6c29(0x1d6)];if(_0x383c1f[_0x2a6c29(0x1d6)]===0x1)return{'mean':_0x25bd2d,'stdDev':0x0};const _0x2a4943=Math[_0x2a6c29(0xd0c)](_0x383c1f['map'](_0x3f046a=>Math['pow'](_0x3f046a-_0x25bd2d,0x2))['reduce']((_0x313587,_0x2ddf12)=>_0x313587+_0x2ddf12,0x0)/(_0x383c1f[_0x2a6c29(0x1d6)]-0x1));return{'mean':_0x25bd2d,'stdDev':_0x2a4943};}function calculateZScore(_0x3de331,_0x1c316a,_0x5bf6c2){if(_0x5bf6c2===0x0)return 0x0;return(_0x3de331-_0x1c316a)/_0x5bf6c2;}function calculateTScore(_0x7f42c3){return 0xa*_0x7f42c3+0x32;}function showStarredProjectView(){const _0x31b317=_0x1ca595;currentProjectId=_0x31b317(0x1f2),currentProjectData=null,projectTitle[_0x31b317(0xc84)]='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x31b317(0xc84)]=_0x31b317(0x14d),showView(_0x31b317(0x4a6)),manageTab[_0x31b317(0x325)][_0x31b317(0xd3c)](_0x31b317(0x60b)),leaderboardTab[_0x31b317(0x325)][_0x31b317(0xd3c)](_0x31b317(0x60b)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x4157b3){const _0x42a616=_0x1ca595,_0x4a886d=doc(db,_0x42a616(0x54a)+appId+_0x42a616(0x737),_0x4157b3),_0x153f5d=await getDoc(_0x4a886d);if(_0x153f5d['exists']()){manageTab[_0x42a616(0x325)][_0x42a616(0x419)]('hidden'),leaderboardTab[_0x42a616(0x325)][_0x42a616(0x419)](_0x42a616(0x60b)),currentProjectData=_0x153f5d[_0x42a616(0xb6)](),projectTitle[_0x42a616(0xc84)]=currentProjectData[_0x42a616(0x5b1)],projectIdDisplay[_0x42a616(0xc84)]=_0x4157b3;const _0x8d0d44=currentProjectData[_0x42a616(0xaaa)]||{};document[_0x42a616(0xcac)](_0x42a616(0x3f8))[_0x42a616(0x41e)]=_0x8d0d44['shuffleSetting']||_0x42a616(0x2c2);const _0x58615f=document[_0x42a616(0xcac)]('show-in-student-dashboard-checkbox');_0x58615f[_0x42a616(0xa81)]=_0x8d0d44[_0x42a616(0x116)]!==![];const _0x5c9e63=document[_0x42a616(0xcac)]('enable-passcode-checkbox'),_0x38c1b=document[_0x42a616(0xcac)](_0x42a616(0xdd)),_0xfd6cee=document['getElementById'](_0x42a616(0xa40)),_0x53d7ad=_0x8d0d44[_0x42a616(0xb4f)]||![];_0x5c9e63['checked']=_0x53d7ad,_0xfd6cee[_0x42a616(0x41e)]=_0x8d0d44[_0x42a616(0x293)]||'',_0x38c1b[_0x42a616(0x325)][_0x42a616(0x1a3)](_0x42a616(0x60b),!_0x53d7ad),_0x5c9e63[_0x42a616(0x2de)]=()=>{const _0x430a95=_0x42a616;_0x38c1b['classList'][_0x430a95(0x1a3)](_0x430a95(0x60b),!_0x5c9e63[_0x430a95(0xa81)]);},document[_0x42a616(0xcac)](_0x42a616(0xd82))['checked']=_0x8d0d44[_0x42a616(0xc89)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x4157b3),listenForProjectQuizzes(_0x4157b3),listenForStudentProfiles(_0x4157b3);}else showMessage(_0x42a616(0x316)),showView(_0x42a616(0xa94));}async function handleResetProjectOrder(){const _0x13d37a=_0x1ca595,_0x59f220=doc(db,_0x13d37a(0x24b),_0x13d37a(0xacd));try{await setDoc(_0x59f220,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x13d37a(0x91e));}catch(_0x40961d){console[_0x13d37a(0x96)](_0x13d37a(0x809),_0x40961d),showMessage(_0x13d37a(0x86b));}}async function handleTogglePinProject(_0x1459bd){const _0x700503=_0x1ca595;if(!_0x1459bd)return;const _0x4d9756=doc(db,'artifacts/'+appId+'/public/data/projects',_0x1459bd);try{const _0x45ea5d=await getDoc(_0x4d9756);if(_0x45ea5d[_0x700503(0xa2b)]()){const _0x51d2e2=_0x45ea5d['data']()[_0x700503(0xb3f)]||![];await updateDoc(_0x4d9756,{'isPinned':!_0x51d2e2});}}catch(_0xdeda09){console['error'](_0x700503(0x8d8),_0xdeda09),showMessage(_0x700503(0x7ca));}}async function handleDeleteProject(_0xc6aec7){const _0x9b1d63=_0x1ca595;try{const _0x28d8fc=writeBatch(db),_0x51a807=collection(db,_0x9b1d63(0x54a)+appId+_0x9b1d63(0xa62)),_0x2db236=query(_0x51a807,where(_0x9b1d63(0x98d),'==',_0xc6aec7)),_0x511c9c=await getDocs(_0x2db236);for(const _0x2571c8 of _0x511c9c[_0x9b1d63(0x26a)]){const _0x5420c8=collection(db,_0x9b1d63(0x54a)+appId+'/public/data/quizzes/'+_0x2571c8['id']+_0x9b1d63(0x12a)),_0x2dcaab=await getDocs(_0x5420c8);_0x2dcaab['forEach'](_0x462cdb=>{const _0xed9299=_0x9b1d63;_0x28d8fc[_0xed9299(0x70d)](_0x462cdb[_0xed9299(0x88)]);}),_0x28d8fc[_0x9b1d63(0x70d)](_0x2571c8[_0x9b1d63(0x88)]);}const _0x9d9f64=collection(db,_0x9b1d63(0x54a)+appId+_0x9b1d63(0x853)+_0xc6aec7+_0x9b1d63(0x3e5)),_0x346ee4=await getDocs(_0x9d9f64);_0x346ee4[_0x9b1d63(0x99f)](_0x1e0f29=>{const _0x682fd4=_0x9b1d63;_0x28d8fc['delete'](_0x1e0f29[_0x682fd4(0x88)]);});const _0x5075ae=doc(db,_0x9b1d63(0x54a)+appId+_0x9b1d63(0x737),_0xc6aec7);_0x28d8fc[_0x9b1d63(0x70d)](_0x5075ae),await _0x28d8fc[_0x9b1d63(0x521)](),showMessage(_0x9b1d63(0xc94)),showView(_0x9b1d63(0xa94));}catch(_0x213817){console['error'](_0x9b1d63(0x789),_0x213817),showMessage(_0x9b1d63(0x275));}}document[_0x1ca595(0xcac)]('save-settings-btn')[_0x1ca595(0x8d3)](_0x1ca595(0xc47),async()=>{const _0x36e291=_0x1ca595;if(!currentProjectId)return;const _0x3a86b9={'defaultNumQuestions':parseInt(document[_0x36e291(0xcac)]('num-questions')[_0x36e291(0x41e)]),'defaultNumChoices':parseInt(document[_0x36e291(0xcac)](_0x36e291(0xd1a))[_0x36e291(0x41e)]),'defaultPassingScore':parseInt(document[_0x36e291(0xcac)](_0x36e291(0xbff))[_0x36e291(0x41e)]),'resultsDisplay':document[_0x36e291(0xcac)](_0x36e291(0xfa))[_0x36e291(0x41e)],'shuffleSetting':document[_0x36e291(0xcac)](_0x36e291(0x3f8))[_0x36e291(0x41e)],'timerMode':document[_0x36e291(0xcac)]('timer-mode-select')[_0x36e291(0x41e)],'timerDuration':parseInt(document[_0x36e291(0xcac)](_0x36e291(0x1cd))[_0x36e291(0x41e)]),'isConfidenceScoringEnabled':document[_0x36e291(0xcac)](_0x36e291(0xd82))[_0x36e291(0xa81)],'confidenceMode':document['getElementById'](_0x36e291(0x32b))[_0x36e291(0x41e)]};try{const _0x1dc6c4=doc(db,_0x36e291(0x54a)+appId+_0x36e291(0x737),currentProjectId);await updateDoc(_0x1dc6c4,{'settings':_0x3a86b9}),showMessage(_0x36e291(0x452));}catch(_0x272a6e){console[_0x36e291(0x96)](_0x36e291(0x766),_0x272a6e),showMessage(_0x36e291(0x6f7));}});function listenForStudents(_0x14a292){const _0xa0e05a=_0x1ca595,_0x1d144d=doc(db,_0xa0e05a(0x54a)+appId+_0xa0e05a(0x737),_0x14a292);unsubscribeStudentsListener=onSnapshot(_0x1d144d,_0x9f5ebe=>{const _0x46cd2d=_0xa0e05a;if(_0x9f5ebe[_0x46cd2d(0xa2b)]()){const _0x5e8707=_0x9f5ebe['data']();currentProjectData=_0x5e8707,renderStudentList(_0x5e8707[_0x46cd2d(0xbbc)]||[]);}});}function renderStudentList(_0x168cd0){const _0x4111c4=_0x1ca595,_0x5e853d=document['getElementById'](_0x4111c4(0x383));_0x168cd0[_0x4111c4(0x1d6)]===0x0?(studentList[_0x4111c4(0xcaa)]=_0x4111c4(0xcc4),_0x5e853d['classList']['add']('hidden')):(studentList[_0x4111c4(0xcaa)]=_0x168cd0['map'](_0x3dc84c=>_0x4111c4(0xb2)+_0x3dc84c+_0x4111c4(0x498)+_0x3dc84c+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x5e853d[_0x4111c4(0x325)][_0x4111c4(0x419)]('hidden'));}document[_0x1ca595(0xcac)](_0x1ca595(0x774))[_0x1ca595(0x8d3)]('click',async()=>{const _0xd1f331=_0x1ca595;if(!currentProjectId)return;const _0x356655=document[_0xd1f331(0xcac)](_0xd1f331(0x85b)),_0x9d9a44=_0x356655[_0xd1f331(0x41e)][_0xd1f331(0x964)]();if(!_0x9d9a44){showMessage(_0xd1f331(0x3d5));return;}const _0x48a690=_0x9d9a44[_0xd1f331(0x38d)]('\x0a')[_0xd1f331(0x201)](_0xe337a=>_0xe337a[_0xd1f331(0x964)]())[_0xd1f331(0xa00)](_0x168d94=>_0x168d94);if(_0x48a690[_0xd1f331(0x1d6)]===0x0)return;try{const _0x54b580=doc(db,_0xd1f331(0x54a)+appId+_0xd1f331(0x737),currentProjectId),_0x11da99=await getDoc(_0x54b580);if(_0x11da99['exists']()){const _0x224d65=_0x11da99[_0xd1f331(0xb6)]()[_0xd1f331(0xbbc)]||[],_0xd0ab74=[...new Set([..._0x224d65,..._0x48a690])];await updateDoc(_0x54b580,{'students':_0xd0ab74}),_0x356655[_0xd1f331(0x41e)]='';}}catch(_0x47db8b){console[_0xd1f331(0x96)]('Error\x20adding\x20students:',_0x47db8b),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0xbdae02){const _0xe38f30=_0x1ca595,_0x457ebd=document['getElementById'](_0xe38f30(0xbf)),_0x203e07=document[_0xe38f30(0xcac)]('move-quiz-project-select'),_0x5004a0=_0x457ebd[_0xe38f30(0xb49)]('h3'),_0x379e03=document[_0xe38f30(0xcac)](_0xe38f30(0x816)),_0x1802d9=document['getElementById'](_0xe38f30(0x6f2));_0x5004a0[_0xe38f30(0xc84)]='จับคู่เพื่อเปรียบเทียบผล',_0x203e07[_0xe38f30(0xcaa)]=_0xe38f30(0xd36),_0x379e03[_0xe38f30(0xc84)]=_0xe38f30(0xb3a),_0x457ebd[_0xe38f30(0x325)]['remove'](_0xe38f30(0x60b));const _0x239198=allQuizzes[_0xe38f30(0xa00)](_0x2e9804=>_0x2e9804['id']!==_0xbdae02);_0x239198['length']===0x0?(_0x203e07[_0xe38f30(0xcaa)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x379e03[_0xe38f30(0x25a)]=!![]):(_0x203e07[_0xe38f30(0xcaa)]=_0xe38f30(0xaa0)+_0x239198['map'](_0x21ac25=>_0xe38f30(0xb8c)+_0x21ac25['id']+'\x22>'+_0x21ac25[_0xe38f30(0xa64)]+_0xe38f30(0x603))['join'](''),_0x379e03['disabled']=![]);const _0x5b242a=async()=>{const _0x40dcd4=_0xe38f30,_0x4e3400=_0x203e07[_0x40dcd4(0x41e)];if(!_0x4e3400){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x379e03['disabled']=!![],_0x379e03[_0x40dcd4(0xc84)]=_0x40dcd4(0xb4);try{const _0x5cbaa6=doc(db,'artifacts/'+appId+_0x40dcd4(0xa62),_0xbdae02),_0x1bb9bb=doc(db,_0x40dcd4(0x54a)+appId+_0x40dcd4(0xa62),_0x4e3400),_0x33bb91=writeBatch(db);_0x33bb91['update'](_0x5cbaa6,{'pairedQuizId':_0x4e3400}),_0x33bb91[_0x40dcd4(0xaa8)](_0x1bb9bb,{'pairedQuizId':_0xbdae02}),await _0x33bb91[_0x40dcd4(0x521)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x457ebd['classList']['add']('hidden');}catch(_0x4c9574){console[_0x40dcd4(0x96)](_0x40dcd4(0x91a),_0x4c9574),showMessage(_0x40dcd4(0xc8f));}finally{_0x5004a0[_0x40dcd4(0xc84)]=_0x40dcd4(0x8f9),_0x379e03[_0x40dcd4(0xc84)]=_0x40dcd4(0xc0c),_0x379e03[_0x40dcd4(0x25a)]=![],_0x379e03[_0x40dcd4(0x524)](_0x40dcd4(0xc47),_0x5b242a),_0x1802d9[_0x40dcd4(0x524)](_0x40dcd4(0xc47),_0x45a1b8);}},_0x45a1b8=()=>{const _0x11a6f9=_0xe38f30;_0x457ebd['classList']['add'](_0x11a6f9(0x60b)),_0x5004a0[_0x11a6f9(0xc84)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x379e03[_0x11a6f9(0xc84)]=_0x11a6f9(0xc0c),_0x379e03[_0x11a6f9(0x524)](_0x11a6f9(0xc47),_0x5b242a),_0x1802d9[_0x11a6f9(0x524)](_0x11a6f9(0xc47),_0x45a1b8);};_0x379e03[_0xe38f30(0x8d3)](_0xe38f30(0xc47),_0x5b242a),_0x1802d9[_0xe38f30(0x8d3)](_0xe38f30(0xc47),_0x45a1b8);}function handleDeleteStudent(_0x621cc7){const _0x19a730=_0x1ca595;showConfirmation(_0x19a730(0xd58)+_0x621cc7+_0x19a730(0xac4),async()=>{const _0x3ad570=_0x19a730;if(!currentProjectId||!currentProjectData)return;const _0x87cde=currentProjectData[_0x3ad570(0xbbc)][_0x3ad570(0xa00)](_0x4b6c36=>_0x4b6c36!==_0x621cc7);try{const _0x50e778=doc(db,_0x3ad570(0x54a)+appId+_0x3ad570(0x737),currentProjectId),_0x102c7a=doc(db,'artifacts/'+appId+_0x3ad570(0x853)+currentProjectId+'/studentProfiles',_0x621cc7),_0x4b8eb6=writeBatch(db);_0x4b8eb6['update'](_0x50e778,{'students':_0x87cde}),_0x4b8eb6[_0x3ad570(0x70d)](_0x102c7a),await _0x4b8eb6['commit']();}catch(_0x2db68e){console[_0x3ad570(0x96)](_0x3ad570(0x9a3),_0x2db68e),showMessage(_0x3ad570(0xd5a));}});}function handleDeleteAllStudents(){const _0x16a71b=_0x1ca595;showConfirmation(_0x16a71b(0x874),async()=>{const _0x1af901=_0x16a71b;if(!currentProjectId)return;try{const _0x1cbdee=doc(db,_0x1af901(0x54a)+appId+'/public/data/projects',currentProjectId),_0x383c77=collection(db,_0x1af901(0x54a)+appId+_0x1af901(0x853)+currentProjectId+_0x1af901(0x3e5)),_0x48574f=await getDocs(_0x383c77),_0x453653=writeBatch(db);_0x453653['update'](_0x1cbdee,{'students':[]}),_0x48574f['forEach'](_0x20f8f3=>_0x453653[_0x1af901(0x70d)](_0x20f8f3[_0x1af901(0x88)])),await _0x453653[_0x1af901(0x521)]();}catch(_0x29d68b){console[_0x1af901(0x96)](_0x1af901(0x6d9),_0x29d68b),showMessage(_0x1af901(0x152));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x511732){const _0x11c552=_0x1ca595,_0x4a2788=document['getElementById'](_0x11c552(0xc6d)),_0x384610=document['getElementById'](_0x11c552(0x2bb));_0x4a2788['classList']['remove'](_0x11c552(0x60b)),_0x384610[_0x11c552(0xcaa)]=_0x11c552(0x67e);try{const _0x3a431a=new FileReader();_0x3a431a['readAsDataURL'](_0x511732),await new Promise((_0x540960,_0x58d0cc)=>{const _0xd42374=_0x11c552;_0x3a431a[_0xd42374(0xad6)]=()=>{const _0x3c065d=_0xd42374;fileDataBase64=_0x3a431a[_0x3c065d(0x87f)][_0x3c065d(0x38d)](',')[0x1],fileMimeType=_0x511732[_0x3c065d(0x159)],_0x540960();},_0x3a431a['onerror']=_0x1bded6=>_0x58d0cc(_0x1bded6);});if(!fileDataBase64)throw new Error(_0x11c552(0xd7d));const _0x454416=_0x11c552(0x85f),_0x487c8a={'type':_0x11c552(0xb15),'properties':{'topics':{'type':'ARRAY','items':{'type':'STRING'}}},'required':['topics']},_0x31aa2d=[{'text':_0x454416},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x5c143e=await handleApiCall(_0x31aa2d,_0x11c552(0x21d),_0x487c8a,null,![]);if(_0x5c143e&&_0x5c143e[_0x11c552(0x9a5)])extractedFileTopics=_0x5c143e['topics'],renderFileTopics();else throw new Error(_0x11c552(0x37a));}catch(_0x4e6849){console[_0x11c552(0x96)](_0x11c552(0x1ef),_0x4e6849),_0x384610[_0x11c552(0xcaa)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20'+_0x4e6849[_0x11c552(0xaee)]+_0x11c552(0xba);}}function renderFileTopics(){const _0x2bd5a5=_0x1ca595,_0x2c10e3=document['getElementById']('file-topics-list');if(extractedFileTopics['length']===0x0){_0x2c10e3[_0x2bd5a5(0xcaa)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0x2c10e3[_0x2bd5a5(0xcaa)]=extractedFileTopics[_0x2bd5a5(0x201)](_0x4fa614=>_0x2bd5a5(0xd63)+_0x4fa614+_0x2bd5a5(0x7f8)+escape(_0x4fa614)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x4fa614)+_0x2bd5a5(0xd71))[_0x2bd5a5(0xa88)]('');}async function generateHybridQuizForTopic(_0x2e247a){const _0xb7668e=_0x1ca595,_0x2a87bd=parseInt(document[_0xb7668e(0xcac)](_0xb7668e(0x1b5))[_0xb7668e(0x41e)],0xa),_0x56ae40=document[_0xb7668e(0xcac)](_0xb7668e(0xb79))[_0xb7668e(0x41e)],_0x1ee1ce=document['getElementById'](_0xb7668e(0xd1a))[_0xb7668e(0x41e)],_0x1291e2=document[_0xb7668e(0xcac)](_0xb7668e(0xcc0))[_0xb7668e(0xa81)],_0x40b974=_0x1291e2?_0xb7668e(0x8a9):_0xb7668e(0xbdf);let _0x9104f0='',_0x503fea;const _0x361dcb={'type':_0xb7668e(0xb15),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0xb7668e(0x8e3),'items':{'type':_0xb7668e(0xa26)}},'correctAnswerIndex':{'type':_0xb7668e(0xa5)},'explanation':{'type':_0xb7668e(0xa26)},'imageCode':{'type':'STRING'}},'required':[_0xb7668e(0x6f3),'options','correctAnswerIndex','explanation']},_0x1fb934={'type':'OBJECT','properties':{'questionText':{'type':_0xb7668e(0xa26)},'correctAnswer':{'type':_0xb7668e(0x468)},'explanation':{'type':_0xb7668e(0xa26)},'imageCode':{'type':'STRING'}},'required':[_0xb7668e(0x6f3),_0xb7668e(0xc49),'explanation']},_0x217e21={'type':_0xb7668e(0xb15),'properties':{'questionText':{'type':_0xb7668e(0xa26)},'idealAnswer':{'type':_0xb7668e(0xa26)},'explanation':{'type':_0xb7668e(0xa26)},'imageCode':{'type':_0xb7668e(0xa26)}},'required':['questionText',_0xb7668e(0x8c8),'explanation']},_0x39b875={'type':_0xb7668e(0xb15),'properties':{'questionType':{'type':_0xb7668e(0xa26),'enum':[_0xb7668e(0x79b)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0xb7668e(0x8e3),'items':{'type':_0xb7668e(0xa26)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0xb7668e(0xa26)}},'required':[_0xb7668e(0xc34),_0xb7668e(0x216),_0xb7668e(0xca2),_0xb7668e(0x698),_0xb7668e(0x64a)]};switch(_0x56ae40){case _0xb7668e(0x801):_0x9104f0=_0xb7668e(0xae6)+_0x1ee1ce+'\x20ตัวเลือก)',_0x503fea=_0x361dcb;break;case'true_false':_0x9104f0=_0xb7668e(0x69b),_0x503fea=_0x1fb934;break;case'fill_in_no_choices':_0x9104f0=_0xb7668e(0xd66),_0x503fea=_0x217e21;break;case _0xb7668e(0x775):_0x9104f0=_0xb7668e(0xbc9),_0x503fea=_0x39b875;break;case _0xb7668e(0xd44):_0x9104f0=_0xb7668e(0x3c7)+_0x1ee1ce+'\x20ตัวเลือก)',_0x503fea=_0x361dcb;break;default:_0x9104f0=_0xb7668e(0xae6)+_0x1ee1ce+_0xb7668e(0x3f1),_0x503fea=_0x361dcb;break;}const _0x27ef96=_0xb7668e(0x2e3),_0x4355ca=document[_0xb7668e(0xcac)](_0xb7668e(0x2b9)),_0x19f09b=document[_0xb7668e(0xcac)](_0xb7668e(0x705)),_0x4eb7ec=document[_0xb7668e(0xcac)](_0xb7668e(0x1d8));document['getElementById'](_0xb7668e(0xd95))[_0xb7668e(0x325)][_0xb7668e(0x419)](_0xb7668e(0x60b)),_0x4eb7ec['innerHTML']='',_0x4355ca['classList']['remove'](_0xb7668e(0x60b)),_0x19f09b[_0xb7668e(0xc84)]=_0xb7668e(0x3c3)+_0x2e247a+_0xb7668e(0x61b)+_0x2a87bd+_0xb7668e(0xbef);try{const _0x3d1730='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x3a2785='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x2e247a+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x2a87bd+_0xb7668e(0xa3f)+_0x2e247a+_0xb7668e(0x8fa)+_0x2a87bd+_0xb7668e(0x74d)+_0x40b974+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20'+_0x9104f0+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x27ef96+_0xb7668e(0x222)+_0x3d1730+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xb7668e(0x4eb),_0xb39d1={'type':_0xb7668e(0xb15),'properties':{'topic':{'type':_0xb7668e(0xa26)},'questions':{'type':_0xb7668e(0x8e3),'items':_0x503fea}},'required':[_0xb7668e(0xa64),_0xb7668e(0xbfe)]},_0x3d5e35=[{'text':_0x3a2785},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x3d5e35,_0xb7668e(0x396)+_0x2e247a+'\x22...',_0xb39d1);}catch(_0x15876b){console['error']('Error\x20generating\x20hybrid\x20quiz:',_0x15876b),showMessage(_0xb7668e(0x987)+_0x15876b[_0xb7668e(0xaee)]),_0x4eb7ec[_0xb7668e(0xcaa)]=_0xb7668e(0x577);}finally{_0x4355ca[_0xb7668e(0x325)][_0xb7668e(0xd3c)]('hidden');}}async function handleGenerateFromFileClick(){const _0x5d5817=_0x1ca595;if(!selectedFile){showMessage(_0x5d5817(0xc2e));return;}const _0x185e3e=document['getElementById'](_0x5d5817(0x2b9)),_0x57ae2a=document['getElementById'](_0x5d5817(0x705)),_0x643b37=document[_0x5d5817(0xcac)](_0x5d5817(0x1d8)),_0x3e6498=document['getElementById'](_0x5d5817(0x935));_0x3e6498['disabled']=!![],document[_0x5d5817(0xcac)]('quiz-generation-area')[_0x5d5817(0x325)][_0x5d5817(0x419)](_0x5d5817(0x60b)),_0x643b37[_0x5d5817(0xcaa)]='',_0x185e3e[_0x5d5817(0x325)]['remove'](_0x5d5817(0x60b)),_0x57ae2a[_0x5d5817(0xc84)]=_0x5d5817(0x693);try{const _0x2ed095=await new Promise((_0x5d1b5d,_0x4ad4b4)=>{const _0x4aa206=_0x5d5817,_0x2198c4=new FileReader();_0x2198c4[_0x4aa206(0x1e2)](selectedFile),_0x2198c4[_0x4aa206(0xad6)]=()=>_0x5d1b5d(_0x2198c4[_0x4aa206(0x87f)]['split'](',')[0x1]),_0x2198c4[_0x4aa206(0x821)]=_0xee5fda=>_0x4ad4b4(_0xee5fda);});await generateQuizFromFile(selectedFile[_0x5d5817(0x159)],_0x2ed095);}catch(_0x2a80bf){console[_0x5d5817(0x96)](_0x5d5817(0xd55),_0x2a80bf),showMessage(_0x5d5817(0xd92)+_0x2a80bf['message']),_0x185e3e['classList'][_0x5d5817(0xd3c)](_0x5d5817(0x60b)),_0x3e6498[_0x5d5817(0x25a)]=![];}}function autoFormatMath(_0x1a49eb){const _0x4f3376=_0x1ca595;if(typeof _0x1a49eb!=='string'||!_0x1a49eb)return _0x1a49eb;const _0x1d9097=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x13ace0=_0x1a49eb[_0x4f3376(0xc6a)](_0x1d9097,_0x2331fc=>{return'$'+_0x2331fc['trim']()+'$';});return _0x13ace0;}function sanitizeQuizData(_0x11ba66){const _0x3d902a=_0x1ca595;if(!_0x11ba66||!_0x11ba66[_0x3d902a(0xbfe)])return _0x11ba66;const _0x210785={'imes':_0x3d902a(0xab0),'div':'\x5cdiv'},_0x11d3d3=_0x201b38=>{const _0x3dce72=_0x3d902a;if(typeof _0x201b38!==_0x3dce72(0x6ed))return _0x201b38;let _0x22843c=_0x201b38;for(const [_0x523ce7,_0x27a8eb]of Object[_0x3dce72(0xb45)](_0x210785)){const _0x5cdf22=new RegExp('\x5cb'+_0x523ce7+'\x5cb','g');_0x22843c=_0x22843c['replace'](_0x5cdf22,_0x27a8eb);}return _0x22843c=_0x22843c[_0x3dce72(0xc6a)](/\\\//g,_0x3dce72(0x17d)),_0x22843c=_0x22843c[_0x3dce72(0xc6a)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x3dce72(0x17d))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x3dce72(0xab0))[_0x3dce72(0xc6a)](/÷/g,_0x3dce72(0x17d))['replace'](/×/g,_0x3dce72(0xab0)),_0x22843c=_0x22843c[_0x3dce72(0xc6a)](/(\d)(\\frac)/g,_0x3dce72(0xc20)),_0x22843c=autoFormatMath(_0x22843c),_0x22843c;};return _0x11ba66[_0x3d902a(0xa64)]&&(_0x11ba66[_0x3d902a(0xa64)]=_0x11d3d3(_0x11ba66['topic'])),_0x11ba66[_0x3d902a(0xbfe)][_0x3d902a(0x99f)](_0x2f0efc=>{const _0x21b804=_0x3d902a;_0x2f0efc[_0x21b804(0x6f3)]=_0x11d3d3(_0x2f0efc[_0x21b804(0x6f3)]),_0x2f0efc['options']&&(_0x2f0efc[_0x21b804(0x63f)]=_0x2f0efc[_0x21b804(0x63f)][_0x21b804(0x201)](_0x11d3d3)),_0x2f0efc['explanation']&&(_0x2f0efc[_0x21b804(0x64a)]=_0x11d3d3(_0x2f0efc[_0x21b804(0x64a)])),_0x2f0efc[_0x21b804(0x216)]&&(_0x2f0efc[_0x21b804(0x216)]=_0x11d3d3(_0x2f0efc[_0x21b804(0x216)])),_0x2f0efc['correctResponse']&&(_0x2f0efc['correctResponse']=_0x11d3d3(_0x2f0efc[_0x21b804(0xca2)])),_0x2f0efc['allResponses']&&(_0x2f0efc['allResponses']=_0x2f0efc[_0x21b804(0x698)][_0x21b804(0x201)](_0x11d3d3));}),_0x11ba66;}const simpleMathPrompt=_0x1ca595(0xd1b);async function handleGenerateFromLink(){const _0x5608a4=_0x1ca595,_0x287da3=document[_0x5608a4(0xcac)](_0x5608a4(0x8be)),_0x14a027=document[_0x5608a4(0xcac)](_0x5608a4(0x59b)),_0x2faafe=_0x287da3[_0x5608a4(0x41e)][_0x5608a4(0x964)](),_0x22e193=_0x14a027[_0x5608a4(0x41e)][_0x5608a4(0x964)]();if(!_0x2faafe){showMessage(_0x5608a4(0xbcb));return;}const _0xd9c11c=document[_0x5608a4(0xcac)](_0x5608a4(0x2b9)),_0x139e72=document[_0x5608a4(0xcac)]('loader-text'),_0x2d3992=document[_0x5608a4(0xcac)](_0x5608a4(0x1d8)),_0x363720=document[_0x5608a4(0xcac)](_0x5608a4(0x361));document['getElementById'](_0x5608a4(0xd95))[_0x5608a4(0x325)][_0x5608a4(0x419)]('hidden'),_0x2d3992[_0x5608a4(0xcaa)]='',_0xd9c11c[_0x5608a4(0x325)][_0x5608a4(0x419)](_0x5608a4(0x60b)),_0x139e72[_0x5608a4(0xc84)]=_0x5608a4(0xc59),_0x363720['disabled']=!![];try{const _0x580549='https://corsproxy.io/?'+encodeURIComponent(_0x2faafe),_0x243020=await fetch(_0x580549);if(!_0x243020['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x243020[_0x5608a4(0x670)]+')');const _0x56ce14=await _0x243020[_0x5608a4(0xb20)](),_0x501987=extractTextFromHtml(_0x56ce14);if(!_0x501987||_0x501987[_0x5608a4(0x1d6)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x22e193,_0x501987);}catch(_0x25aa7b){console[_0x5608a4(0x96)](_0x5608a4(0x671),_0x25aa7b),showMessage(_0x5608a4(0x987)+_0x25aa7b['message']),_0x2d3992['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0xd9c11c[_0x5608a4(0x325)][_0x5608a4(0xd3c)](_0x5608a4(0x60b)),_0x363720[_0x5608a4(0x25a)]=![];}}function extractTextFromHtml(_0x57f004){const _0x2ea4f8=_0x1ca595,_0x56364a=new DOMParser()[_0x2ea4f8(0x838)](_0x57f004,_0x2ea4f8(0x23f));return _0x56364a['querySelectorAll']('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x2ea4f8(0x99f)](_0x25e6be=>_0x25e6be[_0x2ea4f8(0x419)]()),_0x56364a[_0x2ea4f8(0x742)][_0x2ea4f8(0xc84)]||'';}document[_0x1ca595(0xcac)](_0x1ca595(0x351))[_0x1ca595(0x8d3)]('click',()=>{const _0x30445a=_0x1ca595,_0x3c633e=document['getElementById'](_0x30445a(0x4fb))['value'][_0x30445a(0x964)]();generateQuiz(_0x3c633e,null);}),document[_0x1ca595(0xcac)](_0x1ca595(0xc04))[_0x1ca595(0x8d3)](_0x1ca595(0xc47),()=>{const _0x30d8d2=_0x1ca595,_0x54f6f2=document[_0x30d8d2(0xcac)](_0x30d8d2(0x100))[_0x30d8d2(0x41e)][_0x30d8d2(0x964)]();if(!_0x54f6f2){showMessage(_0x30d8d2(0x751));return;}const _0x7dad19=document[_0x30d8d2(0xcac)]('topic-input')[_0x30d8d2(0x41e)][_0x30d8d2(0x964)]();generateQuiz(_0x7dad19,_0x54f6f2);});async function generateQuiz(_0x47726b,_0x23c0a4,_0x5ec240=null,_0x2f2b95=null,_0x3189e2=![],_0x7453a=null,_0x511b72=null,_0x11272c=![]){const _0x8bd78a=_0x1ca595;let _0x4b827c={};if(_0x3189e2&&blueprintPageSettings)_0x4b827c=blueprintPageSettings;else{const _0x4103a9=document[_0x8bd78a(0x20a)]('#math-topics-checkbox-container\x20input:checked');_0x4b827c={'quizType':document[_0x8bd78a(0xcac)](_0x8bd78a(0xb79))[_0x8bd78a(0x41e)],'numQuestions':document[_0x8bd78a(0xcac)](_0x8bd78a(0x1b5))[_0x8bd78a(0x41e)],'numChoices':document[_0x8bd78a(0xcac)](_0x8bd78a(0xd1a))[_0x8bd78a(0x41e)],'includeImages':document[_0x8bd78a(0xcac)](_0x8bd78a(0xcc0))[_0x8bd78a(0xa81)],'isNormalTopic':document[_0x8bd78a(0xcac)](_0x8bd78a(0x6a7))[_0x8bd78a(0xa81)],'difficultyValue':document['getElementById'](_0x8bd78a(0x1be))[_0x8bd78a(0x41e)],'complexityValue':document[_0x8bd78a(0xcac)](_0x8bd78a(0x841))['value'],'selectedTopicNames':Array[_0x8bd78a(0x6ca)](_0x4103a9)[_0x8bd78a(0x201)](_0x293c85=>_0x293c85[_0x8bd78a(0x41e)])};}const _0x2d6db9=_0x4b827c[_0x8bd78a(0x916)]?'':'คณิตศาสตร์',_0x960cc2=_0x4b827c['difficultyValue']!==_0x8bd78a(0x9d8)?_0x8bd78a(0xadb)+_0x4b827c[_0x8bd78a(0x18b)]+'\x22':'',_0x5b1156=_0x4b827c[_0x8bd78a(0xbda)]!==_0x8bd78a(0x7a3)?_0x8bd78a(0xb54)+_0x4b827c[_0x8bd78a(0xbda)]+_0x8bd78a(0x212):'';let _0x16b013='';_0x4b827c[_0x8bd78a(0x70c)]&&_0x4b827c[_0x8bd78a(0x70c)][_0x8bd78a(0x1d6)]>0x0&&(_0x16b013=_0x8bd78a(0xd3a)+_0x4b827c[_0x8bd78a(0x70c)][_0x8bd78a(0xa88)](',\x20')+'.');let _0x5b8278='';_0x2f2b95&&(_0x5b8278=_0x8bd78a(0x585));let _0x1615ea='',_0x29b71d='',_0x4a1baa,_0x5684bc=_0x8bd78a(0x303)+_0x47726b+'\x22';if(!_0x47726b&&_0x23c0a4)_0x5684bc='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x47726b&&!_0x23c0a4&&(_0x5684bc=_0x8bd78a(0xbe));const _0x16d82f={'type':'OBJECT','properties':{'questionText':{'type':_0x8bd78a(0xa26)},'options':{'type':_0x8bd78a(0x8e3),'items':{'type':_0x8bd78a(0xa26)}},'correctAnswerIndex':{'type':_0x8bd78a(0xa5)},'explanation':{'type':_0x8bd78a(0xa26)},'imageCode':{'type':'STRING'}},'required':[_0x8bd78a(0x6f3),_0x8bd78a(0x63f),'correctAnswerIndex',_0x8bd78a(0x64a)]},_0x543dc9={'type':_0x8bd78a(0xb15),'properties':{'questionText':{'type':_0x8bd78a(0xa26)},'idealAnswer':{'type':_0x8bd78a(0xa26)},'explanation':{'type':_0x8bd78a(0xa26)},'imageCode':{'type':_0x8bd78a(0xa26)}},'required':['questionText',_0x8bd78a(0x8c8),'explanation']},_0x2a9f4e={'type':'OBJECT','properties':{'questionText':{'type':_0x8bd78a(0xa26)},'questionType':{'type':_0x8bd78a(0xa26),'enum':['multiple_choice','short_answer']},'options':{'type':'ARRAY','items':{'type':_0x8bd78a(0xa26)}},'correctAnswerIndex':{'type':_0x8bd78a(0xa5)},'idealAnswer':{'type':_0x8bd78a(0xa26)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x8bd78a(0xa26)}},'required':[_0x8bd78a(0x6f3),_0x8bd78a(0xc34),_0x8bd78a(0x64a)]},_0x5bcd05={'type':_0x8bd78a(0xb15),'properties':{'questionText':{'type':_0x8bd78a(0xa26)},'correctAnswer':{'type':_0x8bd78a(0x468)},'explanation':{'type':_0x8bd78a(0xa26)},'imageCode':{'type':_0x8bd78a(0xa26)}},'required':[_0x8bd78a(0x6f3),_0x8bd78a(0xc49),_0x8bd78a(0x64a)]},_0x50f6ba={'type':_0x8bd78a(0xb15),'properties':{'questionType':{'type':_0x8bd78a(0xa26),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x8bd78a(0xa26)},'allResponses':{'type':_0x8bd78a(0x8e3),'items':{'type':_0x8bd78a(0xa26)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x8bd78a(0xa26)}},'required':[_0x8bd78a(0xc34),_0x8bd78a(0x216),_0x8bd78a(0xca2),_0x8bd78a(0x698),_0x8bd78a(0x64a)]};let _0x34f9e1;if(_0x5ec240!==null){const _0x4db0e5=currentQuizData[_0x8bd78a(0xbfe)][_0x5ec240][_0x8bd78a(0xc34)],_0x59e8be=_0x4b827c['includeImages']?_0x8bd78a(0x581):'';_0x1615ea=_0x8bd78a(0xb34)+_0x5684bc+'\x20'+_0x16b013+'\x20'+_0x960cc2+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x59e8be+'\x20'+simpleMathPrompt;if(_0x4db0e5==='multiple_choice')_0x4a1baa=_0x16d82f;else{if(_0x4db0e5==='matching_item')_0x4a1baa={'type':_0x8bd78a(0xb15),'properties':{'questionType':{'type':_0x8bd78a(0xa26),'enum':[_0x8bd78a(0x79b)]},'stem':{'type':_0x8bd78a(0xa26)},'correctResponse':{'type':_0x8bd78a(0xa26)},'explanation':{'type':_0x8bd78a(0xa26)},'imageCode':{'type':_0x8bd78a(0xa26)}},'required':[_0x8bd78a(0xc34),_0x8bd78a(0x216),'correctResponse',_0x8bd78a(0x64a)]};else _0x4a1baa=_0x543dc9;}_0x34f9e1=_0x4a1baa;}else{const _0x57995f=_0x4b827c[_0x8bd78a(0xb9)]?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x4b827c['quizType']){case _0x8bd78a(0x801):_0x1615ea='สร้างแบบทดสอบปรนัย'+_0x2d6db9+'\x20'+_0x4b827c[_0x8bd78a(0xc25)]+_0x8bd78a(0x455)+_0x5684bc+'\x20'+_0x16b013+'\x20'+_0x960cc2+'\x20'+_0x5b1156+'\x20'+_0x5b8278+'.\x20แต่ละข้อมี\x20'+_0x4b827c[_0x8bd78a(0x822)]+_0x8bd78a(0x561)+_0x57995f+'\x20'+simpleMathPrompt,_0x4a1baa=_0x16d82f;break;case'fill_in_with_choices':_0x1615ea=_0x8bd78a(0x61d)+_0x2d6db9+'\x20'+_0x4b827c[_0x8bd78a(0xc25)]+_0x8bd78a(0x455)+_0x5684bc+'\x20'+_0x16b013+'\x20'+_0x960cc2+'\x20'+_0x5b1156+'\x20'+_0x5b8278+_0x8bd78a(0xd91)+_0x4b827c[_0x8bd78a(0x822)]+_0x8bd78a(0xb28)+_0x57995f+'\x20'+simpleMathPrompt,_0x4a1baa=_0x16d82f;break;case _0x8bd78a(0x19d):_0x1615ea='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2d6db9+'\x20'+_0x4b827c[_0x8bd78a(0xc25)]+'\x20ข้อ\x20'+_0x5684bc+'\x20'+_0x16b013+'\x20'+_0x960cc2+'\x20'+_0x5b1156+'\x20'+_0x5b8278+_0x8bd78a(0x79a)+_0x57995f+'\x20'+simpleMathPrompt,_0x4a1baa=_0x543dc9;break;case _0x8bd78a(0x7a3):_0x1615ea='สร้างแบบทดสอบ'+_0x2d6db9+'\x20'+_0x4b827c['numQuestions']+_0x8bd78a(0x455)+_0x5684bc+'\x20'+_0x16b013+'\x20'+_0x960cc2+'\x20'+_0x5b1156+'\x20'+_0x5b8278+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x4b827c[_0x8bd78a(0x822)]+_0x8bd78a(0x18c)+_0x57995f+'\x20'+simpleMathPrompt+'.',_0x4a1baa=_0x2a9f4e;break;case _0x8bd78a(0xcea):_0x1615ea=_0x8bd78a(0x910)+_0x2d6db9+'\x20'+_0x4b827c['numQuestions']+_0x8bd78a(0x455)+_0x5684bc+'\x20'+_0x16b013+'\x20'+_0x960cc2+'\x20'+_0x5b1156+'\x20'+_0x5b8278+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x57995f+'\x20'+simpleMathPrompt,_0x4a1baa=_0x5bcd05;break;case _0x8bd78a(0x775):_0x1615ea=_0x8bd78a(0x8e6)+_0x2d6db9+'\x20'+_0x4b827c['numQuestions']+'\x20คู่\x20'+_0x5684bc+'\x20'+_0x16b013+'\x20'+_0x960cc2+'\x20'+_0x5b1156+'\x20'+_0x5b8278+_0x8bd78a(0x31c)+_0x57995f+'\x20'+simpleMathPrompt,_0x4a1baa=_0x50f6ba;break;}_0x34f9e1={'type':_0x8bd78a(0xb15),'properties':{'topic':{'type':_0x8bd78a(0xa26)},'questions':{'type':'ARRAY','items':_0x4a1baa}},'required':[_0x8bd78a(0xa64),'questions']};}const _0x1d20c8=_0x8bd78a(0x497);_0x23c0a4?(_0x11272c?_0x1615ea='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x23c0a4+'\x22,\x20'+_0x1615ea+_0x1d20c8:_0x1615ea=_0x8bd78a(0xbf9)+_0x23c0a4+_0x8bd78a(0x44c)+_0x1615ea,_0x29b71d=_0x8bd78a(0x93d)):(_0x11272c&&(_0x1615ea+=_0x1d20c8),_0x29b71d=_0x8bd78a(0x5c3));let _0x46263b;return _0x2f2b95?(_0x46263b=[{'text':_0x1615ea},..._0x2f2b95],_0x29b71d=_0x8bd78a(0xb64)):_0x46263b=_0x1615ea,handleApiCall(_0x46263b,_0x29b71d,_0x34f9e1,_0x5ec240,!![],_0x7453a,_0x511b72);}async function generateQuizFromFile(_0x21b1d1,_0x30ce10){const _0x23dac3=_0x1ca595,_0x2a1992=document['getElementById'](_0x23dac3(0xba5))[_0x23dac3(0x41e)][_0x23dac3(0x964)](),_0xde52ac=document['getElementById'](_0x23dac3(0xb79))[_0x23dac3(0x41e)],_0xce1e22=document[_0x23dac3(0xcac)](_0x23dac3(0x1b5))[_0x23dac3(0x41e)],_0x1101ef=document[_0x23dac3(0xcac)](_0x23dac3(0xd1a))['value'],_0xfdf22f=document[_0x23dac3(0xcac)](_0x23dac3(0xcc0))[_0x23dac3(0xa81)],_0x30d17c=document['getElementById'](_0x23dac3(0x6a7))['checked'],_0x32fe44=_0x30d17c?'':_0x23dac3(0x296),_0x1f4711=document[_0x23dac3(0xcac)](_0x23dac3(0x13a))[_0x23dac3(0xa81)];let _0x362c71='',_0x57cc6a;const _0x1937f5=_0xfdf22f?_0x23dac3(0xcd4):'';if(_0x1f4711)_0x362c71='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x1937f5+'\x0a'+simpleMathPrompt+'\x0a',_0x57cc6a={'type':_0x23dac3(0xb15),'properties':{'questionText':{'type':_0x23dac3(0xa26)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x23dac3(0xbf6),'true_false',_0x23dac3(0x79b)]},'options':{'type':_0x23dac3(0x8e3),'items':{'type':_0x23dac3(0xa26)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x23dac3(0xa26)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x23dac3(0xa26)},'correctResponse':{'type':_0x23dac3(0xa26)},'allResponses':{'type':_0x23dac3(0x8e3),'items':{'type':_0x23dac3(0xa26)}},'explanation':{'type':_0x23dac3(0xa26)},'imageCode':{'type':_0x23dac3(0xa26)}},'required':[_0x23dac3(0xc34),_0x23dac3(0x64a)]};else{let _0x21de01=_0x23dac3(0x303)+_0x2a1992+'\x22';!_0x2a1992&&(_0x21de01=_0x23dac3(0xc3d));switch(_0xde52ac){case'multiple_choice':_0x362c71=_0x23dac3(0xd90)+_0x32fe44+'\x20'+_0xce1e22+_0x23dac3(0x455)+_0x21de01+'.\x20แต่ละข้อมี\x20'+_0x1101ef+_0x23dac3(0x561)+_0x1937f5+'\x20'+simpleMathPrompt,_0x57cc6a={'type':_0x23dac3(0xb15),'properties':{'questionText':{'type':_0x23dac3(0xa26)},'options':{'type':'ARRAY','items':{'type':_0x23dac3(0xa26)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x23dac3(0xa26)}},'required':['questionText',_0x23dac3(0x63f),_0x23dac3(0xc75),_0x23dac3(0x64a)]};break;case _0x23dac3(0xd44):_0x362c71=_0x23dac3(0x61d)+_0x32fe44+'\x20'+_0xce1e22+_0x23dac3(0x455)+_0x21de01+_0x23dac3(0xd91)+_0x1101ef+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1937f5+'\x20'+simpleMathPrompt,_0x57cc6a={'type':_0x23dac3(0xb15),'properties':{'questionText':{'type':_0x23dac3(0xa26)},'options':{'type':_0x23dac3(0x8e3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x23dac3(0xa5)},'explanation':{'type':_0x23dac3(0xa26)},'imageCode':{'type':_0x23dac3(0xa26)}},'required':[_0x23dac3(0x6f3),_0x23dac3(0x63f),_0x23dac3(0xc75),_0x23dac3(0x64a)]};break;case _0x23dac3(0x19d):_0x362c71=_0x23dac3(0x61d)+_0x32fe44+'\x20'+_0xce1e22+_0x23dac3(0x455)+_0x21de01+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x1937f5+'\x20'+simpleMathPrompt,_0x57cc6a={'type':_0x23dac3(0xb15),'properties':{'questionText':{'type':_0x23dac3(0xa26)},'idealAnswer':{'type':_0x23dac3(0xa26)},'explanation':{'type':_0x23dac3(0xa26)},'imageCode':{'type':'STRING'}},'required':['questionText','idealAnswer','explanation']};break;case _0x23dac3(0x7a3):_0x362c71=_0x23dac3(0xd76)+_0x32fe44+'\x20'+_0xce1e22+'\x20ข้อ\x20'+_0x21de01+_0x23dac3(0xd59)+_0x1101ef+_0x23dac3(0xb89)+_0x1937f5+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x57cc6a={'type':_0x23dac3(0xb15),'properties':{'questionText':{'type':_0x23dac3(0xa26)},'questionType':{'type':'STRING','enum':[_0x23dac3(0x801),'short_answer']},'options':{'type':_0x23dac3(0x8e3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x23dac3(0xa26)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x23dac3(0xa26)}},'required':['questionText',_0x23dac3(0xc34),_0x23dac3(0x64a)]};break;case'true_false':_0x362c71='สร้างคำถามแบบใช่/ไม่ใช่'+_0x32fe44+'\x20'+_0xce1e22+_0x23dac3(0x455)+_0x21de01+_0x23dac3(0x3e1)+_0x1937f5+'\x20'+simpleMathPrompt,_0x57cc6a={'type':_0x23dac3(0xb15),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x23dac3(0x468)},'explanation':{'type':_0x23dac3(0xa26)},'imageCode':{'type':_0x23dac3(0xa26)}},'required':[_0x23dac3(0x6f3),_0x23dac3(0xc49),'explanation']};break;case _0x23dac3(0x775):_0x362c71=_0x23dac3(0x8e6)+_0x32fe44+'\x20'+_0xce1e22+_0x23dac3(0xa15)+_0x21de01+_0x23dac3(0x27d)+_0xce1e22+_0x23dac3(0x7b9)+_0x1937f5+'\x20'+simpleMathPrompt,_0x57cc6a={'type':_0x23dac3(0xb15),'properties':{'questionType':{'type':_0x23dac3(0xa26),'enum':['matching_item']},'stem':{'type':_0x23dac3(0xa26)},'correctResponse':{'type':_0x23dac3(0xa26)},'allResponses':{'type':'ARRAY','items':{'type':_0x23dac3(0xa26)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x23dac3(0xa26)}},'required':[_0x23dac3(0xc34),_0x23dac3(0x216),_0x23dac3(0xca2),_0x23dac3(0x698),_0x23dac3(0x64a)]};break;}}const _0x4acf4e={'type':_0x23dac3(0xb15),'properties':{'topic':{'type':_0x23dac3(0xa26)},'questions':{'type':_0x23dac3(0x8e3),'items':_0x57cc6a}},'required':[_0x23dac3(0xa64),'questions']},_0x9577fe=_0x23dac3(0x1bf)+_0x362c71,_0x3d00a8={'contents':[{'parts':[{'text':_0x9577fe},{'inlineData':{'mimeType':_0x21b1d1,'data':_0x30ce10}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x4acf4e}};return handleApiCall(_0x3d00a8['contents'][0x0][_0x23dac3(0xcd)],_0x23dac3(0xa23),_0x4acf4e);}async function handleApiCall(_0x79429,_0x562369,_0x2181e8,_0xe6680c=null,_0x9fc73b=!![],_0x4c9616=null,_0x5c4b03=null){const _0x182169=_0x1ca595,_0x4e08ad=document[_0x182169(0xcac)](_0x182169(0xd95)),_0x1b102c=document[_0x182169(0xcac)](_0x182169(0x2b9)),_0x3a07a5=document[_0x182169(0xcac)](_0x182169(0x705)),_0x21b88a=document['getElementById'](_0x182169(0x1d8));_0x4e08ad[_0x182169(0x325)]['remove']('hidden');_0xe6680c===null&&_0x9fc73b&&(_0x21b88a[_0x182169(0xcaa)]='');_0x1b102c['classList'][_0x182169(0x419)](_0x182169(0x60b)),_0x3a07a5[_0x182169(0xc84)]=_0x562369,document[_0x182169(0xcac)]('generate-from-topic-btn')[_0x182169(0x25a)]=!![],document[_0x182169(0xcac)](_0x182169(0xc04))[_0x182169(0x25a)]=!![],document[_0x182169(0xcac)](_0x182169(0x361))[_0x182169(0x25a)]=!![];const _0x51ec85=document[_0x182169(0xcac)](_0x182169(0x935));if(_0x51ec85)_0x51ec85['disabled']=!![];const _0xaabc76=document[_0x182169(0xcac)](_0x182169(0xa0a));if(_0xaabc76)_0xaabc76[_0x182169(0x25a)]=!![];const _0x5be8a6=document[_0x182169(0xcac)](_0x182169(0x1ce));if(_0x5be8a6)_0x5be8a6[_0x182169(0x25a)]=!![];try{const _0x5da2d7=Array[_0x182169(0x744)](_0x79429)?_0x79429:[{'text':_0x79429}],_0x3cbb0e={'contents':[{'role':_0x182169(0x129),'parts':_0x5da2d7}]};_0x2181e8&&(_0x3cbb0e[_0x182169(0xd6f)]={'responseMimeType':'application/json','responseSchema':_0x2181e8});const _0x15f0f1=_0x182169(0xb1a),_0x48b6d3=_0x182169(0x34d)+_0x15f0f1,_0x25b44e=await fetch(_0x48b6d3,{'method':_0x182169(0xd28),'headers':{'Content-Type':_0x182169(0x105)},'body':JSON[_0x182169(0x71f)](_0x3cbb0e)});if(!_0x25b44e['ok']){const _0x2f445c=await _0x25b44e[_0x182169(0xb20)]();console[_0x182169(0x96)]('API\x20Error\x20Response:',_0x2f445c);throw new Error(_0x182169(0x3c6)+_0x25b44e[_0x182169(0x670)]);}const _0x20bac2=await _0x25b44e[_0x182169(0xb7f)]();if(!_0x20bac2[_0x182169(0x3c0)]||_0x20bac2[_0x182169(0x3c0)]['length']===0x0){let _0x283184=_0x182169(0x2a7);return _0x20bac2[_0x182169(0x91)]?.[_0x182169(0xd75)]&&(_0x283184='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x20bac2[_0x182169(0x91)][_0x182169(0xd75)]+'.'),console[_0x182169(0x96)](_0x283184,JSON['stringify'](_0x20bac2)),null;}const _0x2941c4=_0x20bac2[_0x182169(0x3c0)][0x0][_0x182169(0x37d)][_0x182169(0xcd)][0x0][_0x182169(0xb20)];if(_0x2181e8){let _0x469b98=_0x2941c4;if(_0x469b98[_0x182169(0x82f)](_0x182169(0x93f)))_0x469b98=_0x469b98[_0x182169(0x47b)](0x7,_0x469b98[_0x182169(0x1d6)]-0x3)[_0x182169(0x964)]();else _0x469b98[_0x182169(0x82f)](_0x182169(0x622))&&(_0x469b98=_0x469b98[_0x182169(0x47b)](0x3,_0x469b98['length']-0x3)[_0x182169(0x964)]());let _0x2e2a73=JSON[_0x182169(0x444)](_0x469b98);if(_0x9fc73b){if(_0xe6680c!==null){}else currentQuizData=_0x2e2a73,displayGeneratedQuiz(currentQuizData,_0x4c9616,_0x5c4b03);}return _0x2e2a73;}else return _0x2941c4;}catch(_0x4b3dc4){console['error'](_0x182169(0xb86),_0x4b3dc4),showMessage(_0x182169(0x1c3)+_0x4b3dc4[_0x182169(0xaee)]);_0x9fc73b&&(_0x21b88a[_0x182169(0xcaa)]=_0x182169(0x313));throw _0x4b3dc4;}finally{_0x1b102c['classList'][_0x182169(0xd3c)]('hidden'),document['getElementById'](_0x182169(0x351))['disabled']=![],document[_0x182169(0xcac)]('generate-from-text-btn')[_0x182169(0x25a)]=![],document[_0x182169(0xcac)](_0x182169(0x361))['disabled']=![];if(_0x51ec85)_0x51ec85[_0x182169(0x25a)]=![];if(_0xaabc76)_0xaabc76[_0x182169(0x25a)]=![];if(_0x5be8a6)_0x5be8a6[_0x182169(0x25a)]=![];}}function exitFullscreen(){const _0xb13e7=_0x1ca595;if(document[_0xb13e7(0x101)])document['exitFullscreen']()[_0xb13e7(0x1b4)](_0x5551f1=>console[_0xb13e7(0x96)](_0x5551f1));else{if(document['webkitExitFullscreen'])document[_0xb13e7(0x91f)]();else document[_0xb13e7(0x229)]&&document[_0xb13e7(0x229)]();}}function enterFullscreen(){const _0x322b1a=_0x1ca595,_0x383c73=document['documentElement'];if(_0x383c73['requestFullscreen'])_0x383c73[_0x322b1a(0x2dc)]()['catch'](_0xd556db=>{const _0x376c28=_0x322b1a;console[_0x376c28(0x96)](_0x376c28(0xcec)+_0xd556db[_0x376c28(0xaee)]+'\x20('+_0xd556db[_0x376c28(0xd33)]+')');});else{if(_0x383c73[_0x322b1a(0x17e)])_0x383c73[_0x322b1a(0x17e)]();else _0x383c73['msRequestFullscreen']&&_0x383c73[_0x322b1a(0x2cf)]();}}function handleCheatingEvent(){const _0x1a4792=_0x1ca595;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x1a4792(0x348)+maxCheatAttempts+_0x1a4792(0x8f5)),document[_0x1a4792(0xcac)](_0x1a4792(0xa1))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x1a4792(0x524)]('visibilitychange',handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage(_0x1a4792(0x2e8)+cheatAttempts+'/'+maxCheatAttempts+_0x1a4792(0x79c),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x3225c2=_0x1ca595;if(currentMode===_0x3225c2(0xc58)||!isQuizActive)return;if(document[_0x3225c2(0xb5d)]==='hidden')handleCheatingEvent();else document[_0x3225c2(0xb5d)]===_0x3225c2(0xa06)&&(console['log'](_0x3225c2(0x33b)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x47a30e=_0x1ca595;if(currentMode===_0x47a30e(0xc58)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x528830,_0x5603e=null,_0x19ffd2=null){const _0x51b7f5=_0x1ca595,_0x271e71=document[_0x51b7f5(0xcac)]('generated-quiz-container');let _0xe50dc9=_0x51b7f5(0xc61)+_0x528830[_0x51b7f5(0xa64)]+'</h3>';_0x528830[_0x51b7f5(0xbfe)][_0x51b7f5(0x99f)]((_0x2ef0b5,_0x5643db)=>{const _0x440937=_0x51b7f5;!_0x2ef0b5['id']&&(_0x2ef0b5['id']='q_'+Date[_0x440937(0x27a)]()+'_'+_0x5643db);const _0x20974f=_0x2ef0b5[_0x440937(0xc34)]||_0x528830[_0x440937(0x717)];_0xe50dc9+=_0x440937(0xbc1)+_0x5643db+_0x440937(0xc2f)+_0x5643db+_0x440937(0xd2)+_0x5643db+_0x440937(0x7ce);switch(_0x20974f){case _0x440937(0x79b):_0xe50dc9+=_0x440937(0xd77)+_0x5643db+'\x22>'+(_0x5643db+0x1)+'.\x20'+_0x2ef0b5[_0x440937(0x216)]+_0x440937(0xba);_0x2ef0b5['imageCode']&&(_0xe50dc9+=_0x440937(0x541)+_0x5643db+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2ef0b5['imageCode']+'</div>');_0xe50dc9+=_0x440937(0x82c)+_0x5643db+'\x22>'+_0x2ef0b5[_0x440937(0xca2)]+'</span></div>',_0xe50dc9+=_0x440937(0xa27)+_0x5643db+'\x22>'+_0x2ef0b5[_0x440937(0x64a)]+_0x440937(0x5b6);break;case _0x440937(0xbf6):_0xe50dc9+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x5643db+'\x22>'+(_0x5643db+0x1)+'.\x20'+_0x2ef0b5[_0x440937(0x6f3)]+_0x440937(0xba);_0x2ef0b5[_0x440937(0x2d0)]&&(_0xe50dc9+=_0x440937(0x541)+_0x5643db+_0x440937(0x8e8)+_0x2ef0b5['imageCode']+_0x440937(0x4dd));_0xe50dc9+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x5643db+'\x22>'+_0x2ef0b5[_0x440937(0x8c8)]+_0x440937(0x5b6),_0xe50dc9+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x5643db+'\x22>'+_0x2ef0b5[_0x440937(0x64a)]+_0x440937(0x5b6);break;case _0x440937(0xcea):_0xe50dc9+=_0x440937(0xd77)+_0x5643db+'\x22>'+(_0x5643db+0x1)+'.\x20'+_0x2ef0b5['questionText']+_0x440937(0xba);_0x2ef0b5[_0x440937(0x2d0)]&&(_0xe50dc9+=_0x440937(0x541)+_0x5643db+_0x440937(0x8e8)+_0x2ef0b5[_0x440937(0x2d0)]+_0x440937(0x4dd));_0xe50dc9+=_0x440937(0x123)+(_0x2ef0b5[_0x440937(0xc49)]===!![]?_0x440937(0x3fc):'')+_0x440937(0x576)+(_0x2ef0b5[_0x440937(0xc49)]===![]?_0x440937(0x3fc):'')+_0x440937(0x39a),_0xe50dc9+=_0x440937(0xa27)+_0x5643db+'\x22>'+_0x2ef0b5['explanation']+_0x440937(0x5b6);break;case _0x440937(0x244):case _0x440937(0x801):default:_0xe50dc9+=_0x440937(0xd77)+_0x5643db+'\x22>'+(_0x5643db+0x1)+'.\x20'+_0x2ef0b5['questionText']+_0x440937(0xba);_0x2ef0b5[_0x440937(0x2d0)]&&(_0xe50dc9+=_0x440937(0x541)+_0x5643db+_0x440937(0x8e8)+_0x2ef0b5[_0x440937(0x2d0)]+_0x440937(0x4dd));_0xe50dc9+=_0x440937(0x629)+_0x5643db+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2ef0b5['options']||[])[_0x440937(0x201)]((_0x35de39,_0x29198c)=>_0x440937(0x432)+(_0x29198c===_0x2ef0b5[_0x440937(0xc75)]?_0x440937(0x3fc):'')+'\x22>'+_0x35de39+_0x440937(0xd6c))['join']('')+_0x440937(0x7dd),_0xe50dc9+=_0x440937(0xa27)+_0x5643db+'\x22>'+_0x2ef0b5[_0x440937(0x64a)]+'</span></div>';break;}_0xe50dc9+=_0x440937(0x4dd);}),_0xe50dc9+=_0x51b7f5(0x843),_0x271e71[_0x51b7f5(0xcaa)]=_0xe50dc9,document[_0x51b7f5(0x20a)](_0x51b7f5(0x295))[_0x51b7f5(0x99f)](_0xb6a3d=>_0xb6a3d[_0x51b7f5(0x8d3)](_0x51b7f5(0xc47),handleEditQuestion)),document['querySelectorAll'](_0x51b7f5(0x5d3))[_0x51b7f5(0x99f)](_0x9d4a3e=>_0x9d4a3e['addEventListener'](_0x51b7f5(0xc47),handleRegenerateQuestion)),document[_0x51b7f5(0xcac)](_0x51b7f5(0x51b))['addEventListener'](_0x51b7f5(0xc47),exportQuizAsWorksheetPDF),document[_0x51b7f5(0xcac)](_0x51b7f5(0x3e8))[_0x51b7f5(0x8d3)](_0x51b7f5(0xc47),handleVerifyAnswers);const _0x55c4e0=document['getElementById'](_0x51b7f5(0x265));if(_0x55c4e0){const _0x5bf1e8=_0x5603e||currentProjectId;_0x55c4e0[_0x51b7f5(0x8d3)](_0x51b7f5(0xc47),()=>saveQuiz(_0x5bf1e8,_0x19ffd2));}if(window[_0x51b7f5(0x4a4)])window[_0x51b7f5(0x4a4)][_0x51b7f5(0xcf0)]([_0x271e71]);}function handleRegenerateQuestion(_0x444555){const _0x52af8c=_0x1ca595,_0x1f67f7=_0x444555[_0x52af8c(0xcab)]['dataset'][_0x52af8c(0x7a7)],_0x541ca4=currentQuizData['topic'];showMessage(_0x52af8c(0x97c)+(parseInt(_0x1f67f7)+0x1)+_0x52af8c(0x9d)),generateQuiz(_0x541ca4,null,parseInt(_0x1f67f7));}function getPointerPosition(_0x2884af,_0x275764){const _0x4a922a=_0x1ca595,_0x2cb2bc=_0x2884af[_0x4a922a(0xbbf)]();let _0x396a71,_0x20c117;return _0x275764[_0x4a922a(0x7d4)]&&_0x275764['touches'][_0x4a922a(0x1d6)]>0x0?(_0x396a71=_0x275764[_0x4a922a(0x7d4)][0x0][_0x4a922a(0x8a)],_0x20c117=_0x275764[_0x4a922a(0x7d4)][0x0][_0x4a922a(0xa80)]):(_0x396a71=_0x275764['clientX'],_0x20c117=_0x275764[_0x4a922a(0xa80)]),{'x':(_0x396a71-_0x2cb2bc['e'])/_0x2cb2bc['a'],'y':(_0x20c117-_0x2cb2bc['f'])/_0x2cb2bc['d']};}function startDrag(_0x444511){const _0x3c6da9=_0x1ca595;_0x444511[_0x3c6da9(0x159)]==='touchstart'&&_0x444511['preventDefault']();const _0x4f0aa1=_0x444511[_0x3c6da9(0x615)][_0x3c6da9(0x2d3)]('.draggable-text');if(_0x4f0aa1){draggedSvgElement=_0x4f0aa1;const _0x5c29f3=draggedSvgElement['ownerSVGElement'],_0x5de729=getPointerPosition(_0x5c29f3,_0x444511);svgOffset['x']=_0x5de729['x']-parseFloat(draggedSvgElement[_0x3c6da9(0x1f7)](null,'x')),svgOffset['y']=_0x5de729['y']-parseFloat(draggedSvgElement[_0x3c6da9(0x1f7)](null,'y'));}}function calculateItemAnalysis(_0x176df7,_0x26d551){const _0x5ab2db=_0x1ca595,_0x41d89e={};if(_0x26d551[_0x5ab2db(0x1d6)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xfc9758=[..._0x26d551]['sort']((_0x4d60ba,_0x7044c4)=>{const _0x273695=_0x5ab2db,_0x473824=_0x7044c4[_0x273695(0xd3b)]-_0x4d60ba[_0x273695(0xd3b)];if(_0x473824!==0x0)return _0x473824;const _0x16a3df=_0x4d60ba[_0x273695(0x77d)]?.['length']||0x1,_0x3f71f1=_0x7044c4[_0x273695(0x77d)]?.[_0x273695(0x1d6)]||0x1,_0x39cb47=_0x16a3df-_0x3f71f1;if(_0x39cb47!==0x0)return _0x39cb47;const _0x1ab73d=new Date(_0x4d60ba[_0x273695(0x20d)]),_0x63407f=new Date(_0x7044c4[_0x273695(0x20d)]),_0x3419ea=_0x1ab73d-_0x63407f;if(_0x3419ea!==0x0)return _0x3419ea;return _0x4d60ba[_0x273695(0x3ef)][_0x273695(0xbf1)](_0x7044c4['studentName'],'th');}),_0x2e8248=_0xfc9758['length'],_0x14e334=Math[_0x5ab2db(0xdb)](0x1,Math[_0x5ab2db(0xd51)](_0x2e8248*0.33));if(_0x14e334===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x41b4ca=_0xfc9758[_0x5ab2db(0x2ea)](0x0,_0x14e334),_0x54c695=_0xfc9758[_0x5ab2db(0x2ea)](-_0x14e334),_0x33d7ff=_0x41b4ca['map'](_0x3f5b91=>_0x3f5b91[_0x5ab2db(0x3ef)]),_0x3cd709=_0x54c695[_0x5ab2db(0x201)](_0x26eb61=>_0x26eb61[_0x5ab2db(0x3ef)]);return _0x176df7[_0x5ab2db(0xbfe)][_0x5ab2db(0x99f)]((_0x7f3454,_0x57e13b)=>{const _0x3c801c=_0x5ab2db,_0x508438=_0x7f3454[_0x3c801c(0x216)]||_0x7f3454[_0x3c801c(0x6f3)];let _0x319ef9=0x0,_0x1c5477=0x0,_0x11c719=0x0;const _0x50d5ff=[],_0xb9cba8=[];_0x41b4ca[_0x3c801c(0x99f)](_0x24e110=>{const _0x41940a=_0x3c801c,_0x1c124e=_0x24e110['attempts'][_0x24e110[_0x41940a(0x77d)][_0x41940a(0x1d6)]-0x1],_0x126a50=_0x1c124e[_0x41940a(0x54d)][_0x41940a(0x2f4)](_0x812d29=>_0x812d29['originalQuestionText']===_0x508438);_0x50d5ff[_0x41940a(0x3bb)]({'name':_0x24e110[_0x41940a(0x3ef)],'isCorrect':_0x126a50?_0x126a50[_0x41940a(0x7fd)]:![]}),_0x126a50&&_0x126a50[_0x41940a(0x7fd)]&&_0x1c5477++;}),_0x54c695[_0x3c801c(0x99f)](_0x232a18=>{const _0x5b6c9c=_0x3c801c,_0x28cf2d=_0x232a18[_0x5b6c9c(0x77d)][_0x232a18[_0x5b6c9c(0x77d)][_0x5b6c9c(0x1d6)]-0x1],_0x1b114e=_0x28cf2d[_0x5b6c9c(0x54d)][_0x5b6c9c(0x2f4)](_0x4978cb=>_0x4978cb['originalQuestionText']===_0x508438);_0xb9cba8['push']({'name':_0x232a18[_0x5b6c9c(0x3ef)],'isCorrect':_0x1b114e?_0x1b114e['isCorrect']:![]}),_0x1b114e&&_0x1b114e['isCorrect']&&_0x11c719++;}),_0x26d551[_0x3c801c(0x99f)](_0x49c8ee=>{const _0x1bbf0b=_0x3c801c,_0xa61386=_0x49c8ee[_0x1bbf0b(0x77d)][_0x49c8ee[_0x1bbf0b(0x77d)][_0x1bbf0b(0x1d6)]-0x1],_0x120e77=_0xa61386[_0x1bbf0b(0x54d)][_0x1bbf0b(0x2f4)](_0x1be35d=>_0x1be35d[_0x1bbf0b(0x3a9)]===_0x508438);_0x120e77&&_0x120e77['isCorrect']&&_0x319ef9++;});const _0x57af58=_0x2e8248>0x0?_0x319ef9/_0x2e8248:0x0,_0x5bc3e9=_0x14e334>0x0?_0x1c5477/_0x14e334-_0x11c719/_0x14e334:0x0;_0x41d89e[_0x57e13b]={'p':_0x57af58,'r':_0x5bc3e9,'upperGroupResponders':_0x50d5ff,'lowerGroupResponders':_0xb9cba8};}),{'perQuestionStats':_0x41d89e,'overallGroups':{'upperGroupNames':_0x33d7ff,'lowerGroupNames':_0x3cd709}};}function drag(_0xecbbdf){const _0x4c14f9=_0x1ca595;if(draggedSvgElement){_0xecbbdf['preventDefault']();const _0x2746f9=draggedSvgElement['ownerSVGElement'],_0x53c892=getPointerPosition(_0x2746f9,_0xecbbdf),_0x33f598=_0x2746f9[_0x4c14f9(0x1f0)][_0x4c14f9(0x855)];let _0x2e1204=_0x53c892['x']-svgOffset['x'],_0x52749b=_0x53c892['y']-svgOffset['y'];const _0x5c0ae2=draggedSvgElement[_0x4c14f9(0xcda)]();_0x2e1204=Math[_0x4c14f9(0xdb)](_0x33f598['x'],Math[_0x4c14f9(0x390)](_0x2e1204,_0x33f598['x']+_0x33f598[_0x4c14f9(0x1a0)]-_0x5c0ae2[_0x4c14f9(0x1a0)])),_0x52749b=Math[_0x4c14f9(0xdb)](_0x33f598['y'],Math['min'](_0x52749b,_0x33f598['y']+_0x33f598[_0x4c14f9(0x636)]-_0x5c0ae2[_0x4c14f9(0x636)])),draggedSvgElement[_0x4c14f9(0xa13)](null,'x',_0x2e1204),draggedSvgElement['setAttributeNS'](null,'y',_0x52749b);}}function endDrag(_0x38102c){draggedSvgElement=null;}function handleSvgEditClick(_0x51137f){const _0x27716b=_0x1ca595;if(_0x51137f['target'][_0x27716b(0x325)][_0x27716b(0x9e8)](_0x27716b(0x2f0))){const _0x48d529=_0x51137f[_0x27716b(0x615)][_0x27716b(0x1e8)][_0x27716b(0x53c)],_0x273b9a=_0x51137f[_0x27716b(0xcab)],_0x54fb19=_0x273b9a[_0x27716b(0xb49)]('#'+_0x48d529);_0x54fb19&&_0x54fb19[_0x27716b(0x419)](),_0x51137f[_0x27716b(0x615)][_0x27716b(0x419)]();}}function handleEditQuestion(_0x506557){const _0x426770=_0x1ca595,_0xaec220=_0x506557[_0x426770(0xcab)],_0x417331=_0xaec220[_0x426770(0x1e8)][_0x426770(0x7a7)],_0x57e894=currentQuizData[_0x426770(0xbfe)][_0x417331],_0x29a993=document['getElementById'](_0x426770(0x9b4)+_0x417331),_0x2c2b96=document[_0x426770(0xcac)](_0x426770(0x852)+_0x417331),_0x31213e=document['getElementById']('q-image-container-'+_0x417331);if(_0xaec220['innerHTML'][_0x426770(0x39b)]('fa-pen')){_0xaec220['innerHTML']=_0x426770(0x8f6),_0xaec220[_0x426770(0xcbd)]='บันทึกการแก้ไข';if(_0x29a993)_0x29a993[_0x426770(0x9ea)]=!![];if(_0x2c2b96)_0x2c2b96[_0x426770(0x9ea)]=!![];if(_0x31213e){const _0x42124c=_0x31213e[_0x426770(0xb49)]('svg');if(_0x42124c){const _0x54f4f3=_0x42124c[_0x426770(0x20a)](_0x426770(0xb20));_0x54f4f3[_0x426770(0x99f)]((_0x555cf1,_0x28cdb9)=>{const _0x33e960=_0x426770,_0x1cc288='editable-text-'+_0x417331+'-'+_0x28cdb9;_0x555cf1['id']=_0x1cc288,_0x555cf1['classList'][_0x33e960(0xd3c)](_0x33e960(0x7c7)),_0x555cf1[_0x33e960(0x300)][_0x33e960(0x57c)]=_0x33e960(0x7cc);const _0x40a57a=document[_0x33e960(0x939)](_0x33e960(0x1f8),'circle'),_0x230fdc=_0x555cf1[_0x33e960(0xcda)]();_0x40a57a[_0x33e960(0x550)]('cx',String(_0x230fdc['x']+_0x230fdc[_0x33e960(0x1a0)]+0x5)),_0x40a57a[_0x33e960(0x550)]('cy',String(_0x230fdc['y']+_0x230fdc['height']/0x2-0x5)),_0x40a57a['setAttribute']('r','5'),_0x40a57a['setAttribute']('fill',_0x33e960(0x175)),_0x40a57a['setAttribute'](_0x33e960(0x994),_0x33e960(0x2f0)),_0x40a57a[_0x33e960(0x1e8)][_0x33e960(0x53c)]=_0x1cc288,_0x555cf1['after'](_0x40a57a);}),_0x42124c[_0x426770(0x8d3)](_0x426770(0x13e),startDrag),_0x42124c[_0x426770(0x8d3)]('mousemove',drag),_0x42124c[_0x426770(0x8d3)]('mouseup',endDrag),_0x42124c['addEventListener']('mouseleave',endDrag),_0x42124c[_0x426770(0x8d3)](_0x426770(0x3a5),startDrag,{'passive':![]}),_0x42124c['addEventListener'](_0x426770(0xbd4),drag,{'passive':![]}),_0x42124c[_0x426770(0x8d3)]('touchend',endDrag),_0x42124c[_0x426770(0x8d3)]('touchcancel',endDrag),_0x42124c[_0x426770(0x8d3)](_0x426770(0xc47),handleSvgEditClick);}}if(_0x29a993)_0x29a993[_0x426770(0x86d)]();}else{_0xaec220[_0x426770(0xcaa)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0xaec220[_0x426770(0xcbd)]=_0x426770(0x301);if(_0x29a993){_0x29a993[_0x426770(0x9ea)]=![];const _0x174cca=_0x57e894[_0x426770(0xc34)]||currentQuizData[_0x426770(0x717)];_0x174cca===_0x426770(0x79b)?_0x57e894[_0x426770(0x216)]=_0x29a993['innerText'][_0x426770(0x47b)](_0x29a993[_0x426770(0x254)][_0x426770(0x5ff)]('.')+0x2)[_0x426770(0x964)]():_0x57e894[_0x426770(0x6f3)]=_0x29a993[_0x426770(0x254)][_0x426770(0x47b)](_0x29a993['innerText'][_0x426770(0x5ff)]('.')+0x2)['trim']();}_0x2c2b96&&(_0x2c2b96['contentEditable']=![],_0x57e894[_0x426770(0x64a)]=_0x2c2b96['innerText']);if(_0x31213e){const _0x4e2075=_0x31213e[_0x426770(0xb49)](_0x426770(0x891));if(_0x4e2075){const _0x1939d6=_0x4e2075[_0x426770(0x2e2)](!![]);_0x1939d6[_0x426770(0x20a)](_0x426770(0xa49))[_0x426770(0x99f)](_0x14ae93=>_0x14ae93[_0x426770(0x419)]()),_0x1939d6[_0x426770(0x20a)](_0x426770(0xcd2))[_0x426770(0x99f)](_0x3fbc35=>{const _0x244653=_0x426770;_0x3fbc35[_0x244653(0x325)]['remove']('draggable-text'),_0x3fbc35[_0x244653(0x300)][_0x244653(0x57c)]='default',_0x3fbc35['removeAttribute']('id');}),_0x57e894[_0x426770(0x2d0)]=_0x1939d6['outerHTML'],_0x4e2075['removeEventListener'](_0x426770(0x13e),startDrag),_0x4e2075['removeEventListener'](_0x426770(0xc8b),drag),_0x4e2075[_0x426770(0x524)](_0x426770(0x1ab),endDrag),_0x4e2075['removeEventListener'](_0x426770(0x501),endDrag),_0x4e2075[_0x426770(0x524)](_0x426770(0x3a5),startDrag),_0x4e2075[_0x426770(0x524)]('touchmove',drag),_0x4e2075['removeEventListener'](_0x426770(0x8eb),endDrag),_0x4e2075[_0x426770(0x524)](_0x426770(0x685),endDrag),_0x4e2075[_0x426770(0x524)](_0x426770(0xc47),handleSvgEditClick),_0x4e2075['querySelectorAll'](_0x426770(0xa49))['forEach'](_0xec0192=>_0xec0192[_0x426770(0x419)]()),_0x4e2075[_0x426770(0x20a)](_0x426770(0xcd2))[_0x426770(0x99f)](_0x3ec5c4=>{const _0x9261ef=_0x426770;_0x3ec5c4[_0x9261ef(0x325)][_0x9261ef(0x419)]('draggable-text'),_0x3ec5c4[_0x9261ef(0x300)]['cursor']=_0x9261ef(0xab5);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xcd5b48){const _0x277eca=_0x1ca595,_0x49ba45=document[_0x277eca(0xcac)]('quiz-editor-modal'),_0x5aec79=document['getElementById'](_0x277eca(0x5d9));_0x5aec79[_0x277eca(0xcaa)]=_0x277eca(0xd26),_0x49ba45[_0x277eca(0x325)][_0x277eca(0x419)](_0x277eca(0x60b));try{const _0x511b25=doc(db,_0x277eca(0x54a)+appId+_0x277eca(0xa62),_0xcd5b48),_0x251467=await getDoc(_0x511b25);if(!_0x251467[_0x277eca(0xa2b)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0xcd5b48,..._0x251467[_0x277eca(0xb6)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x363eef){console[_0x277eca(0x96)]('Error\x20opening\x20quiz\x20editor:',_0x363eef),showMessage(_0x277eca(0xb43)),_0x49ba45['classList'][_0x277eca(0xd3c)](_0x277eca(0x60b));}}function renderQuizEditor(_0x1157b0){const _0x5df14e=_0x1ca595;document['getElementById'](_0x5df14e(0x957))[_0x5df14e(0x41e)]=_0x1157b0[_0x5df14e(0xa64)];const _0x26de6e=document[_0x5df14e(0xcac)](_0x5df14e(0x5d9));let _0x3fcdb1=_0x1157b0[_0x5df14e(0xbfe)][_0x5df14e(0x201)]((_0x357c69,_0x1ec54c)=>{const _0x13bfa2=_0x5df14e;let _0x31288f='';const _0x51dcc0=_0x357c69['questionType']||_0x1157b0[_0x13bfa2(0x717)];switch(_0x51dcc0){case _0x13bfa2(0x801):const _0x149008=(_0x357c69[_0x13bfa2(0x63f)]||[])[_0x13bfa2(0x201)]((_0x98b32b,_0x5bdb42)=>_0x13bfa2(0xbdd)+_0x1ec54c+_0x13bfa2(0xcaf)+_0x5bdb42+'\x22\x20'+(_0x5bdb42===_0x357c69[_0x13bfa2(0xc75)]?_0x13bfa2(0xa81):'')+_0x13bfa2(0x2f1)+_0x98b32b+_0x13bfa2(0x6b2))[_0x13bfa2(0xa88)]('');_0x31288f=_0x13bfa2(0xb71)+_0x149008+_0x13bfa2(0x528);break;case _0x13bfa2(0xbf6):_0x31288f=_0x13bfa2(0x6c7)+(_0x357c69[_0x13bfa2(0x8c8)]||'')+_0x13bfa2(0x88a);break;case _0x13bfa2(0xcea):_0x31288f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x1ec54c+_0x13bfa2(0x95c)+(_0x357c69[_0x13bfa2(0xc49)]===!![]?_0x13bfa2(0xa81):'')+_0x13bfa2(0x484)+_0x1ec54c+_0x13bfa2(0x8e5)+(_0x357c69[_0x13bfa2(0xc49)]===![]?_0x13bfa2(0xa81):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x31288f=_0x13bfa2(0x519)+(_0x357c69[_0x13bfa2(0xca2)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x5c6a38=_0x357c69['questionText']||_0x357c69[_0x13bfa2(0x216)]||'';return _0x5c6a38=_0x5c6a38[_0x13bfa2(0xc6a)](/<br\s*\/?>/gi,'\x0a'),_0x13bfa2(0xc5d)+_0x1ec54c+'\x22\x20data-q-type=\x22'+_0x51dcc0+_0x13bfa2(0x3cf)+(_0x1ec54c+0x1)+'\x20('+_0x51dcc0+_0x13bfa2(0xd64)+_0x5c6a38+_0x13bfa2(0xd3f)+_0x31288f+_0x13bfa2(0x9b7);})[_0x5df14e(0xa88)]('');_0x26de6e[_0x5df14e(0xcaa)]=_0x3fcdb1;const _0x2dc3f6=_0x5df14e(0xd37);_0x26de6e['insertAdjacentHTML'](_0x5df14e(0x381),_0x2dc3f6),_0x26de6e['querySelectorAll'](_0x5df14e(0x9ff))['forEach'](_0x4c2ad2=>{const _0x41bea8=_0x5df14e;_0x4c2ad2[_0x41bea8(0x300)][_0x41bea8(0x134)]='hidden',_0x4c2ad2[_0x41bea8(0x300)][_0x41bea8(0x1ee)]='100px',_0x4c2ad2[_0x41bea8(0x787)]=0x4;const _0x799289=()=>{const _0x2b9bae=_0x41bea8;_0x4c2ad2[_0x2b9bae(0x300)][_0x2b9bae(0x636)]=_0x2b9bae(0x9d8),_0x4c2ad2['style'][_0x2b9bae(0x636)]=_0x4c2ad2[_0x2b9bae(0xf1)]+'px';};_0x4c2ad2['addEventListener'](_0x41bea8(0x9dc),_0x799289),_0x799289();}),_0x26de6e[_0x5df14e(0x20a)](_0x5df14e(0x6ab))[_0x5df14e(0x99f)](_0xd4a930=>{const _0x3c5a4d=_0x5df14e;_0xd4a930['addEventListener'](_0x3c5a4d(0xc47),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x3541a6){const _0x33f49b=_0x1ca595;if(!currentEditingQuizData||!currentEditingQuizData['questions'][_0x3541a6])return;const _0x1a7781=currentEditingQuizData[_0x33f49b(0xbfe)][_0x3541a6][_0x33f49b(0x6f3)]||currentEditingQuizData[_0x33f49b(0xbfe)][_0x3541a6][_0x33f49b(0x216)];showConfirmation(_0x33f49b(0x22d)+(_0x3541a6+0x1)+_0x33f49b(0x21a)+_0x1a7781[_0x33f49b(0x47b)](0x0,0x14)+_0x33f49b(0x764),()=>{const _0x2a3a04=_0x33f49b;currentEditingQuizData[_0x2a3a04(0xbfe)][_0x2a3a04(0x55d)](_0x3541a6,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x2a3a04(0x3c5));});}function handleAddQuestionInEditor(){const _0x524b7c=_0x1ca595;if(!currentEditingQuizData)return;const _0x3e5fd4={'id':'q_'+Date[_0x524b7c(0x27a)]()+_0x524b7c(0x127),'questionType':_0x524b7c(0x801),'questionText':_0x524b7c(0x6d5),'options':['ตัวเลือก\x20ก','ตัวเลือก\x20ข',_0x524b7c(0xa9d),'ตัวเลือก\x20ง'],'correctAnswerIndex':0x0,'explanation':'คำอธิบาย...'};currentEditingQuizData[_0x524b7c(0xbfe)][_0x524b7c(0x3bb)](_0x3e5fd4),renderQuizEditor(currentEditingQuizData);const _0x2ff527=document[_0x524b7c(0xb49)](_0x524b7c(0x943));_0x2ff527&&(_0x2ff527[_0x524b7c(0xc14)]({'behavior':_0x524b7c(0x1b7),'block':_0x524b7c(0x15a)}),_0x2ff527[_0x524b7c(0xb49)](_0x524b7c(0x623))[_0x524b7c(0x86d)]());}async function handleAiFixQuestion(_0x44e560){const _0x4e6300=_0x1ca595,_0x4e92e4=_0x44e560[_0x4e6300(0xcab)],_0x85ad24=_0x4e92e4[_0x4e6300(0x2d3)](_0x4e6300(0x1b9));if(!_0x85ad24)return;const _0x1cdf3d=parseInt(_0x85ad24['dataset'][_0x4e6300(0x3a7)],0xa);if(isNaN(_0x1cdf3d)||!currentEditingQuizData[_0x4e6300(0xbfe)][_0x1cdf3d]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x2bb902=currentEditingQuizData[_0x4e6300(0xbfe)][_0x1cdf3d];_0x4e92e4['innerHTML']=_0x4e6300(0x9f4),_0x4e92e4[_0x4e6300(0x25a)]=!![];const _0x2c1154=_0x4e6300(0x667)+JSON[_0x4e6300(0x71f)](_0x2bb902)+_0x4e6300(0x1a6);let _0x139181;const _0x3947a2=_0x2bb902[_0x4e6300(0xc34)]||currentEditingQuizData[_0x4e6300(0x717)];switch(_0x3947a2){case _0x4e6300(0xbf6):_0x139181={'type':_0x4e6300(0xb15),'properties':{'questionText':{'type':_0x4e6300(0xa26)},'idealAnswer':{'type':_0x4e6300(0xa26)},'explanation':{'type':_0x4e6300(0xa26)},'imageCode':{'type':_0x4e6300(0xa26)}},'required':[_0x4e6300(0x6f3),_0x4e6300(0x8c8),_0x4e6300(0x64a)]};break;case'multiple_choice':default:_0x139181={'type':'OBJECT','properties':{'questionText':{'type':_0x4e6300(0xa26)},'options':{'type':_0x4e6300(0x8e3),'items':{'type':_0x4e6300(0xa26)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4e6300(0xa26)}},'required':[_0x4e6300(0x6f3),_0x4e6300(0x63f),'correctAnswerIndex',_0x4e6300(0x64a)]};break;}try{let _0x500bcd=await callAnalysisApi(_0x2c1154,_0x139181);_0x500bcd['options']&&Array[_0x4e6300(0x744)](_0x500bcd[_0x4e6300(0x63f)])&&(_0x500bcd[_0x4e6300(0x63f)]=_0x500bcd[_0x4e6300(0x63f)][_0x4e6300(0x201)](_0x3ff2ef=>typeof _0x3ff2ef===_0x4e6300(0x6ed)?_0x3ff2ef[_0x4e6300(0xc6a)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x3ff2ef)),_0x2bb902['imageCode']&&_0x2bb902['imageCode'][_0x4e6300(0x39b)]('fix\x20the\x20option')&&(_0x500bcd[_0x4e6300(0x2d0)]=''),currentEditingQuizData[_0x4e6300(0xbfe)][_0x1cdf3d]={..._0x2bb902,..._0x500bcd},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x4e7217){console[_0x4e6300(0x96)]('AI\x20Fix\x20Error:',_0x4e7217),showMessage(_0x4e6300(0x2cb)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x908591=_0x1ca595,_0x2dd0d8=document[_0x908591(0xcac)](_0x908591(0x792));_0x2dd0d8[_0x908591(0x25a)]=!![],_0x2dd0d8['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x1bc46b=document[_0x908591(0xcac)]('editor-quiz-topic')[_0x908591(0x41e)],_0x57e461=document['querySelectorAll'](_0x908591(0x1b9));let _0x204ebe=[];const _0x53b251=Array[_0x908591(0x6ca)](_0x57e461)[_0x908591(0x201)]((_0x4252cd,_0x348bc1)=>{const _0x14c619=_0x908591,_0x29d12d=_0x4252cd[_0x14c619(0x1e8)]['qType'],_0x5b8213=_0x4252cd[_0x14c619(0xb49)](_0x14c619(0x623))[_0x14c619(0x41e)][_0x14c619(0xc6a)](/\n/g,'<br>');let _0x24e231={'questionType':_0x29d12d};const _0x1b3476=currentEditingQuizData[_0x14c619(0xbfe)][_0x348bc1];switch(_0x29d12d){case _0x14c619(0x801):_0x24e231[_0x14c619(0x6f3)]=_0x5b8213;const _0xd36028=_0x4252cd[_0x14c619(0x20a)](_0x14c619(0x587));_0x24e231[_0x14c619(0x63f)]=Array[_0x14c619(0x6ca)](_0xd36028)[_0x14c619(0x201)](_0x13c8da=>_0x13c8da['value']);const _0x318528=_0x4252cd['querySelector']('input[type=\x22radio\x22]:checked');_0x24e231[_0x14c619(0xc75)]=_0x318528?parseInt(_0x318528[_0x14c619(0x41e)]):0x0;break;case'short_answer':_0x24e231[_0x14c619(0x6f3)]=_0x5b8213,_0x24e231[_0x14c619(0x8c8)]=_0x4252cd[_0x14c619(0xb49)](_0x14c619(0x959))['value'];break;case'true_false':_0x24e231['questionText']=_0x5b8213;const _0x3f46bd=_0x4252cd['querySelector']('input[type=\x22radio\x22]:checked');_0x24e231[_0x14c619(0xc49)]=_0x3f46bd?_0x3f46bd[_0x14c619(0x41e)]==='true':!![];break;case _0x14c619(0x79b):_0x24e231[_0x14c619(0x216)]=_0x5b8213;const _0x2056c5=_0x4252cd[_0x14c619(0xb49)](_0x14c619(0x3ae));_0x24e231['correctResponse']=_0x2056c5?_0x2056c5['value']:'',_0x204ebe['push'](_0x24e231[_0x14c619(0xca2)]);break;default:_0x24e231['questionText']=_0x5b8213;break;}return{..._0x1b3476,..._0x24e231};});_0x204ebe[_0x908591(0x1d6)]>0x0&&_0x53b251[_0x908591(0x99f)](_0x4e4af8=>{const _0x58182c=_0x908591;_0x4e4af8[_0x58182c(0xc34)]===_0x58182c(0x79b)&&(_0x4e4af8['allResponses']=_0x204ebe);});const _0x4be11b=currentEditingQuizData['id'],_0x18b220=doc(db,_0x908591(0x54a)+appId+'/public/data/quizzes',_0x4be11b);await updateDoc(_0x18b220,{'topic':_0x1bc46b,'questions':_0x53b251}),document['getElementById'](_0x908591(0xce3))[_0x908591(0x325)][_0x908591(0xd3c)](_0x908591(0x60b)),showMessage(_0x908591(0x6bc),()=>initiateReGradeProcess(_0x4be11b));}catch(_0x53c35b){console[_0x908591(0x96)]('Error\x20saving\x20quiz\x20edits:',_0x53c35b),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x2dd0d8[_0x908591(0x25a)]=![],_0x2dd0d8[_0x908591(0xcaa)]=_0x908591(0x98);}}async function initiateReGradeProcess(_0x3fd25e){const _0x3c5a0b=_0x1ca595;showMessage(_0x3c5a0b(0xac6));try{const _0x32ed5e=doc(db,_0x3c5a0b(0x54a)+appId+_0x3c5a0b(0xa62),_0x3fd25e),_0x50f0da=await getDoc(_0x32ed5e);if(!_0x50f0da[_0x3c5a0b(0xa2b)]())throw new Error(_0x3c5a0b(0x284));const _0x34dbe0={'id':_0x3fd25e,..._0x50f0da[_0x3c5a0b(0xb6)]()},_0x14d636=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x3fd25e,_0x3c5a0b(0xc05)),_0x54d7fc=await getDocs(_0x14d636);if(_0x54d7fc[_0x3c5a0b(0x699)]){showMessage(_0x3c5a0b(0x289));return;}const _0x2feb58=_0x54d7fc[_0x3c5a0b(0x26a)][_0x3c5a0b(0x201)](_0x3b68fe=>reGradeSingleSubmission(_0x3b68fe,_0x34dbe0));await Promise['all'](_0x2feb58);if(_0x34dbe0[_0x3c5a0b(0x98d)]){const _0x4b298c=doc(db,_0x3c5a0b(0x54a)+appId+_0x3c5a0b(0x737),_0x34dbe0['projectId']),_0x34a131=await getDoc(_0x4b298c);if(_0x34a131['exists']()&&_0x34a131[_0x3c5a0b(0xb6)]()[_0x3c5a0b(0xbbc)]){const _0x26603a=_0x34a131[_0x3c5a0b(0xb6)]()[_0x3c5a0b(0xbbc)][_0x3c5a0b(0x201)](_0x4e7b88=>updateStudentProfile(_0x34dbe0[_0x3c5a0b(0x98d)],_0x4e7b88));await Promise[_0x3c5a0b(0xa12)](_0x26603a);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x54d7fc[_0x3c5a0b(0x679)]+_0x3c5a0b(0xa1c));}catch(_0x4a6ae0){console['error'](_0x3c5a0b(0x4bf),_0x4a6ae0),showMessage(_0x3c5a0b(0x294)+_0x4a6ae0[_0x3c5a0b(0xaee)]);}}async function reGradeSingleSubmission(_0x18756f,_0x42cdbe){const _0x9a5af8=_0x1ca595,_0x11a3d4=_0x18756f[_0x9a5af8(0xb6)](),_0x1ea690=_0x11a3d4[_0x9a5af8(0x3ef)],_0x4575cc=_0x11a3d4[_0x9a5af8(0x77d)]||[],_0x3e498a=[];for(const _0x1371de of _0x4575cc){let _0x53a2dc=0x0,_0x7ee8ac=[],_0x1edbde=0x0;const _0x52581a=[];for(const _0x1ec596 of _0x1371de[_0x9a5af8(0x54d)]){let _0x7bcc81;_0x1ec596['questionId']&&(_0x7bcc81=_0x42cdbe[_0x9a5af8(0xbfe)]['find'](_0x1c500a=>_0x1c500a['id']===_0x1ec596[_0x9a5af8(0x379)]));!_0x7bcc81&&_0x1ec596[_0x9a5af8(0x3a9)]&&(_0x7bcc81=_0x42cdbe[_0x9a5af8(0xbfe)]['find'](_0x27cb76=>(_0x27cb76[_0x9a5af8(0x216)]||_0x27cb76[_0x9a5af8(0x6f3)])===_0x1ec596['originalQuestionText']));let _0xbe9305=![];if(_0x7bcc81){const _0x1b203e=_0x7bcc81['questionType']||_0x42cdbe[_0x9a5af8(0x717)];switch(_0x1b203e){case _0x9a5af8(0x801):if(_0x7bcc81[_0x9a5af8(0x63f)]&&_0x7bcc81[_0x9a5af8(0xc75)]<_0x7bcc81[_0x9a5af8(0x63f)][_0x9a5af8(0x1d6)]){const _0x9e35b6=_0x7bcc81['options'][_0x7bcc81[_0x9a5af8(0xc75)]];_0xbe9305=_0x1ec596['answerText']===_0x9e35b6;}break;case _0x9a5af8(0xcea):const _0x4888d5=_0x1ec596[_0x9a5af8(0xd85)]===!![]||_0x1ec596['answer']==='true';_0xbe9305=_0x4888d5===_0x7bcc81[_0x9a5af8(0xc49)];break;case _0x9a5af8(0x79b):_0xbe9305=_0x1ec596['answer']===_0x7bcc81[_0x9a5af8(0xca2)];break;case _0x9a5af8(0xbf6):_0xbe9305=await gradeShortAnswer(_0x1ec596[_0x9a5af8(0xd85)],_0x7bcc81);break;default:_0xbe9305=_0x1ec596[_0x9a5af8(0x7fd)];break;}}if(_0xbe9305){_0x53a2dc++,_0x1edbde++;if(_0x1edbde===0x3)_0x7ee8ac['push'](BADGES['ON_FIRE']['id']);}else _0x1edbde=0x0;_0x52581a[_0x9a5af8(0x3bb)]({..._0x1ec596,'isCorrect':_0xbe9305});}let _0x8ea20b=_0x53a2dc*0xa;_0x53a2dc===_0x42cdbe['questions'][_0x9a5af8(0x1d6)]&&(_0x8ea20b+=0x32,_0x7ee8ac[_0x9a5af8(0x3bb)](BADGES[_0x9a5af8(0x4a0)]['id'])),_0x3e498a[_0x9a5af8(0x3bb)]({..._0x1371de,'score':_0x53a2dc,'points':_0x8ea20b,'badges':Array['from'](new Set(_0x7ee8ac)),'answers':_0x52581a});}const _0x3eb9d1=_0x3e498a[_0x9a5af8(0x1d6)]>0x0?_0x3e498a[0x0][_0x9a5af8(0xa4c)]:0x0,_0x30045e=Math[_0x9a5af8(0xdb)](..._0x3e498a['map'](_0x2d009f=>_0x2d009f[_0x9a5af8(0xa4c)])),_0xf5a05c=_0x3e498a[_0x9a5af8(0x1d6)]>0x0?_0x3e498a[_0x3e498a[_0x9a5af8(0x1d6)]-0x1][_0x9a5af8(0xa4c)]:0x0,_0x4471a8=_0x3e498a[_0x9a5af8(0x1d6)]>0x0?_0x3e498a[_0x3e498a[_0x9a5af8(0x1d6)]-0x1][_0x9a5af8(0x6aa)]:0x0,_0x181440=doc(db,_0x9a5af8(0x54a)+appId+_0x9a5af8(0x292)+_0x42cdbe['id']+'/submissions',_0x1ea690);await updateDoc(_0x181440,{'attempts':_0x3e498a,'firstScore':_0x3eb9d1,'bestScore':_0x30045e,'latestScore':_0xf5a05c,'points':_0x4471a8});}function cleanupQuizOptions(_0x418bc4){const _0x1f71e5=_0x1ca595,_0x5a0f55=(_0x446fa0,_0x41a87f)=>_0x41a87f===0x0?_0x446fa0:_0x5a0f55(_0x41a87f,_0x446fa0%_0x41a87f),_0x33d863=_0x5ef793=>{const _0x5863f0=_0x2406;if(typeof _0x5ef793!==_0x5863f0(0x6ed))return null;_0x5ef793=_0x5ef793['trim']();const _0x58bbbb=_0x5ef793['split'](/[ /]/)[_0x5863f0(0xa00)](_0x35c535=>_0x35c535!=='');if(_0x58bbbb[_0x5863f0(0x1d6)]===0x3)return parseInt(_0x58bbbb[0x0])+parseInt(_0x58bbbb[0x1])/parseInt(_0x58bbbb[0x2]);else{if(_0x58bbbb[_0x5863f0(0x1d6)]===0x2)return parseInt(_0x58bbbb[0x0])/parseInt(_0x58bbbb[0x1]);else{if(_0x58bbbb[_0x5863f0(0x1d6)]===0x1&&!isNaN(_0x58bbbb[0x0]))return parseFloat(_0x58bbbb[0x0]);}}return null;},_0x3f1540=_0x5624ed=>{const _0x31eb2f=_0x2406;if(typeof _0x5624ed!==_0x31eb2f(0x6ed))return _0x5624ed;const _0x31c0e0=_0x5624ed['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x31c0e0){const _0x22aa95=parseInt(_0x31c0e0[0x1]);let _0x14c73a=parseInt(_0x31c0e0[0x2]),_0x29b2d8=parseInt(_0x31c0e0[0x3]);const _0x50b3b7=_0x5a0f55(_0x14c73a,_0x29b2d8);_0x14c73a/=_0x50b3b7,_0x29b2d8/=_0x50b3b7;if(_0x29b2d8===0x1)return(_0x22aa95+_0x14c73a)[_0x31eb2f(0x287)]();return _0x22aa95+'\x20'+_0x14c73a+'/'+_0x29b2d8;}return _0x5624ed;};return _0x418bc4&&_0x418bc4[_0x1f71e5(0xbfe)]&&_0x418bc4[_0x1f71e5(0xbfe)][_0x1f71e5(0x99f)](_0x37e220=>{const _0x33ac40=_0x1f71e5;if(_0x37e220['questionType']===_0x33ac40(0x801)&&_0x37e220['options']){const _0x463544=new Map(),_0x19a519=_0x37e220[_0x33ac40(0x63f)][_0x37e220[_0x33ac40(0xc75)]];_0x37e220[_0x33ac40(0x63f)]['forEach'](_0x31a693=>{const _0x4b91a5=_0x33ac40,_0x1b155d=_0x3f1540(_0x31a693),_0x2473d6=_0x33d863(_0x1b155d);_0x2473d6!==null&&!_0x463544[_0x4b91a5(0x2c8)](_0x2473d6)&&_0x463544[_0x4b91a5(0x499)](_0x2473d6,_0x1b155d);}),_0x37e220[_0x33ac40(0x63f)]=Array[_0x33ac40(0x6ca)](_0x463544[_0x33ac40(0xc7b)]());const _0x113cc2=_0x37e220[_0x33ac40(0x63f)][_0x33ac40(0x4cb)](_0x4d8859=>_0x4d8859===_0x3f1540(_0x19a519));_0x37e220[_0x33ac40(0xc75)]=_0x113cc2!==-0x1?_0x113cc2:0x0;}}),_0x418bc4;}function showGameStartConfirmationModal(_0x436161,_0x29fc4e,_0x5823c5){const _0x1084b5=_0x1ca595,_0x435666=document['getElementById']('confirm-game-start-modal');document[_0x1084b5(0xcac)]('game-start-modal-title')[_0x1084b5(0xc84)]='เริ่มกิจกรรม:\x20'+_0x5823c5,document[_0x1084b5(0xcac)]('game-start-quiz-id')[_0x1084b5(0x41e)]=_0x436161,document[_0x1084b5(0xcac)](_0x1084b5(0xd83))[_0x1084b5(0x41e)]=_0x29fc4e,document[_0x1084b5(0xcac)](_0x1084b5(0xcc5))[_0x1084b5(0xa81)]=!![];const _0x4abcd7=document[_0x1084b5(0xcac)]('sync-variant-selector'),_0x1fa709=document['getElementById'](_0x1084b5(0x58d)),_0x4222c1=document[_0x1084b5(0xcac)](_0x1084b5(0x799)),_0x4c6483=document['getElementById'](_0x1084b5(0xa98));_0x29fc4e===_0x1084b5(0x417)?(_0x4abcd7[_0x1084b5(0x325)][_0x1084b5(0x419)](_0x1084b5(0x60b)),document['querySelector'](_0x1084b5(0x999))[_0x1084b5(0xa81)]=!![],_0x1fa709['checked']=!![],_0x4222c1[_0x1084b5(0x325)][_0x1084b5(0x419)](_0x1084b5(0x60b)),document[_0x1084b5(0xcac)](_0x1084b5(0x8ac))['value']='240',_0x4c6483['classList'][_0x1084b5(0x419)](_0x1084b5(0x60b)),document[_0x1084b5(0xcac)](_0x1084b5(0xc8e))[_0x1084b5(0xa81)]=!![]):(_0x4abcd7[_0x1084b5(0x325)][_0x1084b5(0xd3c)](_0x1084b5(0x60b)),_0x1fa709[_0x1084b5(0xa81)]=![],_0x4222c1[_0x1084b5(0x325)]['add'](_0x1084b5(0x60b)),_0x4c6483[_0x1084b5(0x325)]['add'](_0x1084b5(0x60b))),_0x435666['classList']['remove'](_0x1084b5(0x60b));}async function saveGameResultsAsSubmissions(_0x45dc51){const _0x3646f6=_0x1ca595;console[_0x3646f6(0xa7f)](_0x3646f6(0x6fb),_0x45dc51);const _0x250050=_0x45dc51[_0x3646f6(0x57b)];let _0x509f85=[];if(_0x45dc51['players'])_0x509f85=Object['entries'](_0x45dc51[_0x3646f6(0x1ff)])['map'](([_0x5a2011,_0x4d99d2])=>({'name':_0x5a2011,..._0x4d99d2}));else{if(_0x45dc51[_0x3646f6(0x929)])Object[_0x3646f6(0xc7b)](_0x45dc51[_0x3646f6(0x929)])[_0x3646f6(0x99f)](_0xc76905=>{const _0x494ac4=_0x3646f6;_0xc76905[_0x494ac4(0x8cd)][_0x494ac4(0x99f)](_0x1293d9=>{const _0xf93e31=_0x494ac4;_0x509f85[_0xf93e31(0x3bb)]({'name':_0x1293d9,'score':_0xc76905[_0xf93e31(0xa4c)],'answers':_0xc76905['answers']});});});else _0x45dc51[_0x3646f6(0x4f9)]&&Object[_0x3646f6(0xb45)](_0x45dc51[_0x3646f6(0x4f9)])['forEach'](([_0x2dfec6,_0xf96196])=>{const _0x4a985e=_0x3646f6;_0x509f85[_0x4a985e(0x3bb)]({'name':_0x2dfec6,..._0xf96196});});}if(_0x509f85[_0x3646f6(0x1d6)]===0x0)return;const _0x26dd28=_0x45dc51[_0x3646f6(0xc09)]?.[_0x3646f6(0xbfe)]['length']||currentQuizData[_0x3646f6(0xbfe)][_0x3646f6(0x1d6)],_0x34e076=writeBatch(db);for(const _0x43ab44 of _0x509f85){const _0x1b1610=doc(db,_0x3646f6(0x54a)+appId+_0x3646f6(0x292)+_0x250050+_0x3646f6(0x12a),_0x43ab44[_0x3646f6(0xd33)]),_0xad66a3=(_0x43ab44['answers']||[])[_0x3646f6(0xa00)](_0x596b4d=>_0x596b4d[_0x3646f6(0x7fd)])[_0x3646f6(0x1d6)];let _0x25e6c0=_0x43ab44[_0x3646f6(0x9c8)]!==undefined?_0x43ab44[_0x3646f6(0x9c8)]:_0xad66a3;const _0x459bf2={'score':_0xad66a3,'points':_0x25e6c0,'badges':_0x43ab44['badges']||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x43ab44[_0x3646f6(0x54d)]||[])[_0x3646f6(0x201)](_0x1139bf=>({'questionId':_0x1139bf[_0x3646f6(0x379)],'answer':_0x1139bf['answer'],'answerText':_0x1139bf['answerText'],'isCorrect':_0x1139bf[_0x3646f6(0x7fd)],'originalQuestionText':_0x1139bf[_0x3646f6(0x3a9)],'wasConfident':_0x1139bf[_0x3646f6(0x5f2)],'powerupUsed':_0x1139bf[_0x3646f6(0x27e)]||null}))},_0x5996e4=await getDoc(_0x1b1610),_0x1cbb9d=_0x5996e4['exists']()?_0x5996e4['data']():{},_0x21202c=_0x1cbb9d[_0x3646f6(0xdf)]||0x0,_0x5d8380=_0x1cbb9d[_0x3646f6(0x77d)]||[],_0x1d098a=_0x5d8380[_0x3646f6(0x231)]((_0x14f8a0,_0x2f34ab)=>Math['max'](_0x14f8a0,_0x2f34ab['points']||0x0),0x0),_0x56799d={'studentName':_0x43ab44[_0x3646f6(0xd33)],'totalQuestions':_0x26dd28,'attempts':arrayUnion(_0x459bf2),'latestScore':_0xad66a3,'points':_0x25e6c0,'latestSubmittedAt':_0x459bf2['submittedAt'],'bestScore':Math['max'](_0x21202c,_0xad66a3),'firstScore':_0x5d8380['length']===0x0?_0xad66a3:_0x1cbb9d[_0x3646f6(0x76f)]||0x0};_0x34e076['set'](_0x1b1610,_0x56799d,{'merge':!![]});}try{await _0x34e076['commit'](),showMessage(_0x3646f6(0xd94)+_0x509f85['length']+_0x3646f6(0x26e));const _0x228db0=_0x45dc51[_0x3646f6(0xc09)]?.[_0x3646f6(0x98d)]||currentQuizData?.[_0x3646f6(0x98d)]||currentProjectId;if(_0x228db0){const _0x1538dc=[...new Set(_0x509f85[_0x3646f6(0x201)](_0x109fc5=>_0x109fc5[_0x3646f6(0xd33)]))];for(const _0x1303f7 of _0x1538dc){await updateStudentProfile(_0x228db0,_0x1303f7);}}}catch(_0x2435c6){console['error'](_0x3646f6(0x980),_0x2435c6),showMessage(_0x3646f6(0x49d));}}async function saveQuiz(_0x301bb7=null,_0x1fdccf=null){const _0x4a8992=_0x1ca595,_0x3d3624=_0x301bb7||currentProjectId;if(!_0x3d3624){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x4a8992(0x51e));return;}const _0x474ddc=document[_0x4a8992(0xcac)]('save-quiz-btn');_0x474ddc[_0x4a8992(0x25a)]=!![],_0x474ddc[_0x4a8992(0xcaa)]=_0x4a8992(0x5b9);const _0x2bdd23=document['getElementById'](_0x4a8992(0x13c))[_0x4a8992(0xa81)];let _0x4dbf26=document[_0x4a8992(0xcac)](_0x4a8992(0x38b))[_0x4a8992(0x254)][_0x4a8992(0x964)]();_0x2bdd23&&!_0x4dbf26['startsWith'](_0x4a8992(0x8a5))&&(_0x4dbf26=_0x4a8992(0x768)+_0x4dbf26);try{const _0x2337ba={'resultsDisplay':document[_0x4a8992(0xcac)](_0x4a8992(0xfa))['value'],'shuffle':document[_0x4a8992(0xcac)]('shuffle-setting-select')[_0x4a8992(0x41e)],'timerMode':document[_0x4a8992(0xcac)]('timer-mode-select')[_0x4a8992(0x41e)],'timerDuration':parseInt(document[_0x4a8992(0xcac)]('timer-duration-input')[_0x4a8992(0x41e)])||0xa,'passingScore':parseInt(document[_0x4a8992(0xcac)](_0x4a8992(0xbff))[_0x4a8992(0x41e)])||0x0,'isAdaptive':document[_0x4a8992(0xcac)](_0x4a8992(0x732))[_0x4a8992(0xa81)],'loopUntilPass':document['getElementById'](_0x4a8992(0x9a9))[_0x4a8992(0xa81)]},_0x14242f=(currentQuizData[_0x4a8992(0xbfe)]||[])[_0x4a8992(0x201)]((_0x132210,_0x203b44)=>{const _0x8608d3=_0x4a8992,_0x19ec3c=document['getElementById'](_0x8608d3(0xb79))[_0x8608d3(0x41e)],_0x3c12fd={'id':'q_'+Date[_0x8608d3(0x27a)]()+'_'+_0x203b44,'questionText':_0x132210['questionText']||'','explanation':_0x132210[_0x8608d3(0x64a)]||'ไม่มีคำอธิบาย','questionType':_0x132210['questionType']||_0x19ec3c,'imageCode':_0x132210[_0x8608d3(0x2d0)]||null};return(_0x3c12fd[_0x8608d3(0xc34)]===_0x8608d3(0x801)||_0x3c12fd[_0x8608d3(0xc34)]===_0x8608d3(0xd44)||_0x3c12fd[_0x8608d3(0xc34)]===_0x8608d3(0x7a3)&&_0x132210[_0x8608d3(0x63f)])&&(_0x3c12fd['options']=_0x132210['options']||[],_0x3c12fd[_0x8608d3(0xc75)]=_0x132210['correctAnswerIndex']!==undefined?_0x132210[_0x8608d3(0xc75)]:0x0),(_0x3c12fd[_0x8608d3(0xc34)]===_0x8608d3(0xbf6)||_0x3c12fd[_0x8608d3(0xc34)]===_0x8608d3(0x19d)||_0x3c12fd[_0x8608d3(0xc34)]===_0x8608d3(0x7a3)&&_0x132210[_0x8608d3(0x8c8)])&&(_0x3c12fd[_0x8608d3(0x8c8)]=_0x132210[_0x8608d3(0x8c8)]||''),_0x3c12fd['questionType']===_0x8608d3(0xcea)&&(_0x3c12fd[_0x8608d3(0xc49)]=_0x132210[_0x8608d3(0xc49)]===!![]),_0x3c12fd[_0x8608d3(0xc34)]==='matching_item'&&(_0x3c12fd[_0x8608d3(0x216)]=_0x132210['stem']||'',_0x3c12fd[_0x8608d3(0xca2)]=_0x132210['correctResponse']||'',_0x3c12fd[_0x8608d3(0x698)]=_0x132210['allResponses']||[]),_0x3c12fd;}),_0x885154={'topic':_0x4dbf26,'quizType':currentQuizData[_0x4a8992(0x717)]||_0x4a8992(0x801),'questions':_0x14242f,'projectId':_0x3d3624,'createdBy':userId,'createdAt':new Date()[_0x4a8992(0x8d)](),'status':_0x4a8992(0x6a2),'settings':_0x2337ba,'quizMode':_0x2bdd23?'pre-test':'standard','pairedQuizId':null,'lessonPlan':null};let _0x221e91;while(!![]){_0x221e91=Math[_0x4a8992(0xd51)](0x3e8+Math[_0x4a8992(0x6b8)]()*0x2328)['toString']();const _0x39af57=await getDoc(doc(db,_0x4a8992(0x54a)+appId+_0x4a8992(0xa62),_0x221e91));if(!_0x39af57[_0x4a8992(0xa2b)]())break;}await setDoc(doc(db,_0x4a8992(0x54a)+appId+'/public/data/quizzes',_0x221e91),_0x885154);if(_0x1fdccf&&currentBlueprintProjectId){console[_0x4a8992(0xa7f)](_0x4a8992(0x62f)+_0x221e91+_0x4a8992(0xbb9)+_0x1fdccf);try{const _0x5f0a5d=doc(db,_0x4a8992(0x54a)+appId+_0x4a8992(0x30f),currentBlueprintProjectId);await updateDoc(_0x5f0a5d,{[_0x4a8992(0x47e)+_0x1fdccf+'.linkedQuizIds']:arrayUnion(_0x221e91)});}catch(_0x1fb2b1){console[_0x4a8992(0x96)](_0x4a8992(0x7ed),_0x1fb2b1);}}currentQuizData['settings']=_0x2337ba,currentQuizData['id']=_0x221e91;const _0x3e52f9=document[_0x4a8992(0xcac)](_0x4a8992(0x3e3));_0x3e52f9[_0x4a8992(0xcaa)]=_0x4a8992(0x71b)+_0x221e91+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document['getElementById']('copy-quiz-id-btn')['addEventListener'](_0x4a8992(0xc47),()=>copyTextToClipboard(_0x221e91,'คัดลอกรหัสแล้ว!')),document[_0x4a8992(0xcac)]('start-live-race-generated-btn')[_0x4a8992(0x8d3)](_0x4a8992(0xc47),()=>handleStartLiveRace(_0x221e91)),document[_0x4a8992(0xcac)](_0x4a8992(0x661))[_0x4a8992(0x8d3)](_0x4a8992(0xc47),()=>startPresentation(currentQuizData)),document[_0x4a8992(0xcac)](_0x4a8992(0x309))['addEventListener'](_0x4a8992(0xc47),startAdminTest),showMessage(_0x4a8992(0x48e));}catch(_0x3d6781){console[_0x4a8992(0x96)](_0x4a8992(0x1eb),_0x3d6781),showMessage(_0x4a8992(0x8fe));}finally{_0x474ddc[_0x4a8992(0x25a)]=![],_0x474ddc['innerHTML']=_0x4a8992(0xa3b);}}function promptForProjectAndSave(){const _0x1269df=_0x1ca595,_0x549390=document[_0x1269df(0xcac)](_0x1269df(0xbf)),_0x43020a=document[_0x1269df(0xcac)]('move-quiz-project-select'),_0x4bb849=_0x549390[_0x1269df(0xb49)]('h3'),_0x5e8b7d=document['getElementById']('confirm-move-quiz-btn');_0x4bb849[_0x1269df(0xc84)]=_0x1269df(0xadf),_0x5e8b7d['textContent']='เลือกและบันทึก';allProjects[_0x1269df(0x1d6)]===0x0?(_0x43020a[_0x1269df(0xcaa)]=_0x1269df(0x795),_0x5e8b7d[_0x1269df(0x25a)]=!![]):(_0x43020a[_0x1269df(0xcaa)]=allProjects[_0x1269df(0x201)](_0x6d1c74=>_0x1269df(0xb8c)+_0x6d1c74['id']+'\x22>'+_0x6d1c74['projectName']+_0x1269df(0x603))[_0x1269df(0xa88)](''),_0x5e8b7d[_0x1269df(0x25a)]=![]);_0x549390[_0x1269df(0x325)][_0x1269df(0x419)](_0x1269df(0x60b));const _0x6aad09=()=>{const _0x2fba36=_0x1269df,_0x2ee8b9=_0x43020a['value'];_0x2ee8b9?(currentProjectId=_0x2ee8b9,_0x549390[_0x2fba36(0x325)]['add'](_0x2fba36(0x60b)),saveQuiz(),_0x4bb849['textContent']=_0x2fba36(0x8f9),_0x5e8b7d[_0x2fba36(0xc84)]=_0x2fba36(0xc0c),_0x5e8b7d[_0x2fba36(0x524)]('click',_0x6aad09),_0x5e8b7d[_0x2fba36(0x8d3)](_0x2fba36(0xc47),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x5e8b7d[_0x1269df(0x524)]('click',confirmMoveQuiz),_0x5e8b7d[_0x1269df(0x8d3)](_0x1269df(0xc47),_0x6aad09);}function copyTextToClipboard(_0x239e3b,_0x4fa941){const _0x1751bc=_0x1ca595,_0x2c2396=document[_0x1751bc(0x845)](_0x1751bc(0x623));_0x2c2396['value']=_0x239e3b,_0x2c2396[_0x1751bc(0x300)][_0x1751bc(0x326)]=_0x1751bc(0x6db),_0x2c2396[_0x1751bc(0x300)][_0x1751bc(0x5c6)]='0',document[_0x1751bc(0x742)][_0x1751bc(0x1d2)](_0x2c2396),_0x2c2396['focus'](),_0x2c2396[_0x1751bc(0x709)]();try{const _0x1b5599=document[_0x1751bc(0x23e)](_0x1751bc(0x237));showMessage(_0x1b5599?_0x4fa941:'คัดลอกไม่สำเร็จ');}catch(_0x4d1f68){showMessage(_0x1751bc(0x89d)),console[_0x1751bc(0x96)]('Copy\x20command\x20failed',_0x4d1f68);}document[_0x1751bc(0x742)]['removeChild'](_0x2c2396);}function listenForProjectQuizzes(_0x2f98dd){const _0xd24bb2=_0x1ca595,_0x20cda9=collection(db,_0xd24bb2(0x54a)+appId+_0xd24bb2(0xa62)),_0x25de6d=query(_0x20cda9,where(_0xd24bb2(0x98d),'==',_0x2f98dd));unsubscribeQuizzesListener=onSnapshot(_0x25de6d,async _0x15bd76=>{const _0x266451=_0xd24bb2;allQuizzes=_0x15bd76['docs'][_0x266451(0x201)](_0x3ebde6=>({'id':_0x3ebde6['id'],..._0x3ebde6[_0x266451(0xb6)]()})),renderQuizzes();},_0x1de914=>{const _0x3a769b=_0xd24bb2;console[_0x3a769b(0x96)](_0x3a769b(0x568),_0x1de914),document[_0x3a769b(0xcac)](_0x3a769b(0xa25))['innerHTML']=_0x3a769b(0xd01);});}async function renderQuizzes(){const _0x12bc5b=_0x1ca595,_0x5b11d8=document[_0x12bc5b(0xcac)]('project-quizzes-list'),_0x367ee1=document[_0x12bc5b(0xcac)](_0x12bc5b(0x9ec))[_0x12bc5b(0x41e)][_0x12bc5b(0x5c9)]();let _0x101d19;currentProjectId===_0x12bc5b(0x1f2)?_0x101d19=starredQuizzes:_0x101d19=allQuizzes;let _0x5535cf=_0x101d19[_0x12bc5b(0xa00)](_0x578fb1=>_0x578fb1[_0x12bc5b(0xa64)][_0x12bc5b(0x5c9)]()['includes'](_0x367ee1));_0x5535cf[_0x12bc5b(0xb2f)]((_0x2968e4,_0x2cbbc3)=>new Date(_0x2cbbc3[_0x12bc5b(0x7b2)])-new Date(_0x2968e4['createdAt']));if(_0x5535cf[_0x12bc5b(0x1d6)]===0x0){_0x5b11d8['innerHTML']=_0x12bc5b(0x125);return;}const _0x376edc={},_0x26ea06=_0x5535cf[_0x12bc5b(0x201)](async _0x258770=>{const _0x11b12d=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x258770['id']+'/submissions'),_0x57f941=await getDocs(_0x11b12d);_0x376edc[_0x258770['id']]=_0x57f941['size'];});await Promise['all'](_0x26ea06);let _0x11288e='';_0x5535cf['forEach'](_0x3b6d71=>{const _0x16eba7=_0x12bc5b,_0x294e7d=_0x376edc[_0x3b6d71['id']]||0x0,_0x3f2517=_0x3b6d71[_0x16eba7(0x670)]||_0x16eba7(0x6a2),_0x17d50b=_0x3b6d71['settings']?.[_0x16eba7(0x233)]||_0x16eba7(0x2c2);let _0x4142d7='',_0x7b0ea3='';const _0x539b6f=new Date();let _0x505558=_0x3f2517;if(_0x3f2517==='scheduled'){const _0x4990df=_0x3b6d71[_0x16eba7(0xb9e)]?new Date(_0x3b6d71[_0x16eba7(0xb9e)]):null,_0x2b3b43=_0x3b6d71[_0x16eba7(0x8ea)]?new Date(_0x3b6d71[_0x16eba7(0x8ea)]):null;if(_0x2b3b43&&_0x539b6f>_0x2b3b43)_0x505558=_0x16eba7(0xc3f);else _0x4990df&&_0x539b6f<_0x4990df?_0x505558=_0x16eba7(0xcdb):_0x505558=_0x16eba7(0x6a2);}switch(_0x505558){case _0x16eba7(0xc3f):_0x4142d7=_0x16eba7(0x4ca),_0x7b0ea3=_0x16eba7(0x621);break;case _0x16eba7(0xcdb):_0x4142d7=_0x16eba7(0x937),_0x7b0ea3=_0x16eba7(0xa9f);break;case _0x16eba7(0x6a2):_0x4142d7=_0x17d50b!==_0x16eba7(0x2c2)?_0x16eba7(0x3e2):'เปิดใช้งาน',_0x7b0ea3=_0x16eba7(0x892);break;default:_0x4142d7='ตั้งเวลา\x20(เปิด)',_0x7b0ea3='text-green-700\x20bg-green-100';break;}let _0x1435cd='';const _0x57438d={'day':_0x16eba7(0x991),'month':_0x16eba7(0x991),'year':'numeric','hour':_0x16eba7(0x991),'minute':'2-digit','hour12':![]};if(_0x3f2517===_0x16eba7(0x150)){if(_0x3b6d71['startTime'])_0x1435cd+=_0x16eba7(0x32f)+new Date(_0x3b6d71[_0x16eba7(0xb9e)])[_0x16eba7(0x1e1)](_0x16eba7(0x8f),_0x57438d)+_0x16eba7(0xba);if(_0x3b6d71[_0x16eba7(0x8ea)])_0x1435cd+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x3b6d71[_0x16eba7(0x8ea)])[_0x16eba7(0x1e1)](_0x16eba7(0x8f),_0x57438d)+_0x16eba7(0xba);}let _0x5c940f='';if(_0x3b6d71['pairedQuizId']){const _0x414cb7=allQuizzes['find'](_0x25d3be=>_0x25d3be['id']===_0x3b6d71[_0x16eba7(0x3f7)]);if(_0x414cb7){let _0x403aa3,_0xefb6fd;new Date(_0x3b6d71[_0x16eba7(0x7b2)])<new Date(_0x414cb7[_0x16eba7(0x7b2)])?(_0x403aa3=_0x3b6d71['id'],_0xefb6fd=_0x414cb7['id']):(_0x403aa3=_0x414cb7['id'],_0xefb6fd=_0x3b6d71['id']),_0x5c940f+=_0x16eba7(0x7e2)+_0xefb6fd+_0x16eba7(0x74c)+_0x403aa3+_0x16eba7(0x6d8);}}else _0x3b6d71[_0x16eba7(0xd42)]===_0x16eba7(0x969)&&(_0x5c940f+=_0x16eba7(0xa56)+_0x3b6d71['id']+_0x16eba7(0x8d0));if(_0x3b6d71[_0x16eba7(0xd42)]===_0x16eba7(0x969)&&_0x294e7d>0x0)_0x5c940f+=_0x16eba7(0xa56)+_0x3b6d71['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x3b6d71[_0x16eba7(0x3f7)]&&_0x3b6d71[_0x16eba7(0xd42)]!==_0x16eba7(0x969)&&_0x294e7d>0x0&&(_0x5c940f+=_0x16eba7(0xa56)+_0x3b6d71['id']+_0x16eba7(0xad4));let _0x578d4f='';_0x3b6d71[_0x16eba7(0x3f7)]?_0x578d4f=_0x16eba7(0x5fa)+_0x3b6d71['id']+_0x16eba7(0x7f3):_0x578d4f=_0x16eba7(0x5fa)+_0x3b6d71['id']+_0x16eba7(0x3ab),_0x11288e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x3b6d71['id']+_0x16eba7(0x132)+_0x3b6d71[_0x16eba7(0xa64)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x3b6d71[_0x16eba7(0xbfe)][_0x16eba7(0x1d6)]+_0x16eba7(0xcd3)+new Date(_0x3b6d71['createdAt'])[_0x16eba7(0x1e1)](_0x16eba7(0x8f))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x294e7d+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1435cd+_0x16eba7(0x5ef)+_0x7b0ea3+'\x22>'+_0x4142d7+_0x16eba7(0x7a2)+_0x3b6d71['id']+_0x16eba7(0xae1)+_0x3b6d71['id']+_0x16eba7(0xabb)+(_0x3b6d71[_0x16eba7(0x94c)]?_0x16eba7(0xb24):_0x16eba7(0x823))+_0x16eba7(0xc62)+_0x5c940f+_0x16eba7(0x374)+_0x3b6d71['id']+_0x16eba7(0xca3)+_0x3b6d71['id']+_0x16eba7(0x329)+_0x3b6d71['id']+_0x16eba7(0x4c9)+_0x3b6d71['id']+_0x16eba7(0x5d8)+_0x3b6d71['id']+_0x16eba7(0x7b6)+_0x3b6d71['id']+_0x16eba7(0xbdc)+_0x3b6d71['id']+'\x22\x20data-topic=\x22'+_0x3b6d71[_0x16eba7(0xa64)]+_0x16eba7(0x2a3)+_0x3b6d71['id']+_0x16eba7(0xc74)+_0x3b6d71['id']+_0x16eba7(0xa08)+_0x578d4f+_0x16eba7(0x941)+_0x3b6d71['id']+_0x16eba7(0x438)+_0x3b6d71['id']+_0x16eba7(0xd5c)+_0x3b6d71['id']+_0x16eba7(0x391)+_0x3b6d71['id']+_0x16eba7(0x7e4)+_0x3b6d71['id']+_0x16eba7(0x3fa)+_0x3b6d71['id']+_0x16eba7(0x520)+_0x3b6d71['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3b6d71['id']+_0x16eba7(0x7d7)+_0x3b6d71[_0x16eba7(0xa64)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x3b6d71['id']+_0x16eba7(0xbed);}),_0x5b11d8[_0x12bc5b(0xcaa)]=_0x11288e,document[_0x12bc5b(0x20a)](_0x12bc5b(0x949))[_0x12bc5b(0x99f)](_0x5228da=>{const _0xbfdfa8=_0x12bc5b;_0x5228da['addEventListener'](_0xbfdfa8(0xc47),()=>{const _0x52c60c=_0xbfdfa8,_0x249753=_0x5228da[_0x52c60c(0x1e8)][_0x52c60c(0x57b)];showQuizDetailView(_0x249753);});});}function _0x98ef(){const _0x217ffb=['values','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','#FCE7F3','geq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pointContent','bg-green-50','.linkedQuizIds','textContent','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','</p></div>','Error\x20submitting\x20answer:','พีชคณิตและฟังก์ชัน','isConfidenceScoringEnabled','scale-125','mousemove','applicationContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','enable-black-market-checkbox','เกิดข้อผิดพลาดในการจับคู่','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-quiz-area','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','ลบโปรเจคสำเร็จแล้ว','admin-password-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(16,\x20185,\x20129,\x200.7)','strokeStyle','ผู้ไม่ยอมแพ้','export-tutor-pdf-btn','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','คนโสด','unshift','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctResponse','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','ไม่พบข้อมูลหัวข้อที่จะบันทึก','.admin-try-quiz-list-btn','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','write','file-tab','cancel-quiz-bank-btn','innerHTML','currentTarget','getElementById','มุมพิเศษ\x2030°-60°-90°','hasOwnProperty','\x22\x20value=\x22','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','bg-blue-500\x20hover:bg-blue-600\x20text-white','pathname','เกิดข้อผิดพลาดในการบันทึก','.delete-shortcut-tab-btn','files','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','topic-bank-subtopic-name','createdBy','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','title','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','.summary-bar-item','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','save-game-results-checkbox','PERSEVERANCE','พื้นที่ใต้กราฟ/ระหว่างกราฟ','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','...','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','cancel-manual-bp-btn','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','lowerGroupNames','match','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22bg-yellow-400\x20text-yellow-900\x20py-2\x20px-4\x20rounded-lg\x20font-bold\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1\x20transition-all\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>💰\x20คูณเดิมพัน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-red-600\x20text-white\x20text-xs\x20px-2\x20py-0.5\x20rounded\x20animate-pulse\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','.draggable-text','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ปริพันธ์จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20displaying\x20question\x20bank:','.remove-parallel-shortcut-from-tab-btn','Error\x20creating\x20project:','getBBox','scheduled_pending','preTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','เงาปริศนา','ความเท่ากันทุกประการของสามเหลี่ยม','blueprintUrl','</h3>','\x5ccdot','quiz-editor-modal','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','\x22>(','project-passcode-modal','กรุณาเลือกสถานะ','สถิติและความน่าจะเป็น','timed','true_false','lessonPlan','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','leaderboard_','🛡️','previousElementSibling','typesetPromise','devicePixelRatio','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','input[name=\x22drill_answer\x22]:checked','สมการราก\x20(radical)','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','หน่วยเวลาและการคำนวณเวลา','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','reviewQuestionIndex','quick_thinker','first_try_ace','txt','Unexpected\x20API\x20response\x20structure:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','toDataURL','curriculum','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','1051462utnJpa','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','parallel-shortcut-editor-modal',')</span></div>','bg-yellow-300\x20text-yellow-900\x20font-bold','การจัดกลุ่มข้อมูล','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','กรุณาเลือกโปรเจคก่อน','sqrt','หมาป่าเดียวดาย','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','button[type=\x22submit\x22]','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','buyTime','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','ondragstart','text-purple-600','.group','Error\x20rendering\x20student\x20progress:','num-choices','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','Failed\x20to\x20resume\x20game\x20session:','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','API\x20call\x20failed','live-submit-short-answer-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x20แล้ว!','POST','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว',':</span><span>','eraser-tool-btn','สายลับจับบ้านเล็ก','shortcut-tabs-nav','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','.rename-quiz-btn','ค่าความจริง/ตารางค่าความจริง','name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-gray-200','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointsLastQuestion','font-bold\x20text-red-700\x20line-through','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','latestScore','add','enable-passcode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','ร้อยละประยุกต์','quizMode','preventDefault','fill_in_with_choices','price','ฟังก์ชันพหุนาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','translate','.generate-content-btn','lesson-view-title','.lastAnswerIndex','blueprint-options-container','fill','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','Error\x20processing\x20parallel\x20shortcut\x20click:','ปริมาตรรูปทรงสามมิติ','floor','การแจกแจงปกติและ\x20z-score','quadraticCurveTo','name_desc','Error\x20processing\x20file\x20for\x20AI:','.use-hidden-shortcut-btn','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','เกิดข้อผิดพลาดในการลบนักเรียน','endsWith','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span></p>','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','ไม่สามารถโหลดรายการโปรเจคได้','gain','pen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','source_document.pdf','referenceUrl','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','analytics-tab-btn','สำหรับโปรเจค:\x20','</li>','fixedData','goto-next-question-btn','generationConfig','กิจกรรมสิ้นสุดลงแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','(ฉบับง่าย)\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</select>','blockReason','สร้างแบบทดสอบ','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','</div></div></div>','quiz-leaderboard-table-container','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','_opt','.start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','confidence-scoring-checkbox','game-start-mode','pow','answer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list','Firebase\x20initialization\x20failed:','กรุณาใส่ชื่อใหม่','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','ระยะเวลา\x20(วินาที):','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','.bp-delete-topic-btn','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','สร้างแบบทดสอบปรนัย','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','บันทึกผลการเล่นเกมของ\x20','quiz-generation-area','ฮิสโตแกรม','hint','</strong></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','จำนวนเต็มลบ','quiz-results-table-body','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','pointer-events-none','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','ref','ใช่','clientX','confirm-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','toISOString','href','th-TH','behavior-log-tab-content','promptFeedback','timer-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-game-start-btn','ค่าคลาดเคลื่อนของการวัด','error','.save-custom-topic-btn','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x22\x20title=\x22','reveal_at_end','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','โหลดนาน','\x20ใหม่...','เกิดข้อผิดพลาดในการลบหัวข้อ','cutOne','preScore','quiz-form','.topic-row','.ai-content\x20blockquote','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NUMBER','Error\x20joining\x20live\x20game:','student-quiz-topic','%</span>','ส่วนเบี่ยงเบนมาตรฐาน','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','<button\x20data-value=\x22','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','next-sync-question-btn','[data-field=\x22subTopic\x22]','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','false','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','(นำโด่ง)','กำลังจับคู่...','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','data','หัวข้อหลักใหม่','ไม่มี','includeImages','</p>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','playerNicknames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','move-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชาไข่มุก','\x20mr-2\x22></i>','fas\x20fa-user-edit','left','bg-indigo-600\x20hover:bg-indigo-700','/users/','mouse','.color-palette-btn','manage-tab-content','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','project-list','parts','results-quiz-title','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พบข้อสอบ\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','pointerType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','.tab-name-input','แบตหมด','file-shortcut-tabs-nav','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)',')</button>','max','bg-yellow-100','passcode-input-container','จัดการ','bestScore','scratchpad-controls','removeItem','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','timer-bar','เกิดข้อผิดพลาดในการบันทึกลำดับ','เส้นตรง:\x20ขนาน/ตั้งฉาก','<div\x20class=\x22flex-1\x22></div>','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','ชีสเค้ก','student-join-game-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-player-management','insurance','#26890c','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','scrollHeight','No\x20unanswered\x20players\x20found.\x20Waiting...','\x27\x20ในหัวข้อ\x20\x27','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','.buy-item-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','half_mark_status','Error\x20saving\x20shortcut:','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','results-display-select','bulk-confidence-scoring-checkbox','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กำลังอ่านไฟล์อ้างอิง...','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','blueprint-input-area','text-content-input','exitFullscreen','AI\x20request\x20was\x20blocked.\x20Reason:\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','pointsLastRound','application/json','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','modal-adaptive-quiz-checkbox','<span\x20class=\x22font-bold\x20','<span\x20title=\x22ใช้:\x20คูณเดิมพัน\x22>💰</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','doc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','post-test','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','คะแนนเฉลี่ย','raw','<li>','.file-shortcut-btn','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x22\x20name=\x22confidence','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showInStudentDashboard','passingScore','usedBuyTime','/players','every','พิสัย',',\x20r=','อินฟลูเอนเซอร์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ฐานนิยม','.use-hidden-file-shortcut-btn','padStart','หมดเวลา!\x20กำลังส่งคำตอบ...','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','cancel-file-shortcut-edit-btn','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','add-file-shortcut-tab-btn','_new','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','user','/submissions','ตัวแปรและนิพจน์','wheel','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','team-student-list','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','#ffffff','Error\x20comparing\x20results:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','</tr>','overflowY','mode-switcher-btn','realName','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','parallel-test-tab','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','original-mode-checkbox','Error\x20duplicating\x20quiz:','pre-test-checkbox','showRankings','mousedown','isFinished','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','blueprint-upload-input','แผนการสอน:\x20','Error\x20updating\x20project\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','rename-quiz-input','currentMode','project-dashboard-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','pinned-items','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','สลับไปโหมดนักเรียน','scheduled','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','button','ก่อนเรียน','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','text-indigo-700','approx','คัดลอกแบบทดสอบสำเร็จ','type','center','text-yellow-700','ม้าดีดกะโหลก','shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x20คน):\x0a\x0a','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','ใช่\x20/\x20ถูก','Failed\x20to\x20refund\x20powerup:','setTransform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','กรุณาเลือกคำตอบ','\x20\x20\x20-\x20คำตอบ:\x20','asc','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','parallel-shortcut-url-input','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','px,\x20','สร้างแล้ว','use-powerup-','md:col-span-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','Team\x20Quiz','คุณแน่ใจว่าต้องการลบแท็บนี้?','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','red','ไม่พบแบบทดสอบในระบบเลย','confirm-link-quiz-btn','grid-view-btn','shortcut_','.move-parallel-shortcut-dropdown','authed_project_','icon','\x5cdiv','webkitRequestFullscreen','</h4>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','QUICK_THINKER','</td></tr>','isDefault','game-pin-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','number','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดต:\x20','cancel-quiz-edits-btn-footer','difficultyValue','\x20ตัวเลือก.\x20','confidenceMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','qType','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','/lessons','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','.generate-easy-version-btn','per-question-options','short','getTextContent','release','</body></html>','<button\x20id=\x22','.group\x5c/dropdown-parallel','คะแนนเต็ม','fill_in_no_choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','width','fiftyFifty','<span\x20title=\x22ใช้:\x20ตัด\x201\x20ตัวเลือก\x22>✂️</span>','toggle','Error\x20preparing\x20content\x20quiz:','.totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','มือปราบสายรุ้ง','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-actions-view','get','mouseup','หมีขั้วโลกใต้','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','instructions','สมการตรีโกณมิติ','scoresCalculated','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','การบวก','catch','num-questions','decode','smooth','กำลังสร้างบทเรียน:\x20','.question-editor-item','<div\x20class=\x22p-2\x20rounded-md\x20','hover:bg-indigo-100','ผ่าน','actions-container-','difficulty-level-select','จากไฟล์ที่แนบมานี้,\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','เกิดข้อผิดพลาดในการสร้าง:\x20','\x22\x20data-quiz-id=\x22','player-list-lobby','.move-file-shortcut-dropdown','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','modal-confidence-mode-select','ท้องฟ้า','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','bg-blue-100\x20text-blue-800','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-input','generate-from-parallel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x20ชิ้น)','P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','application','การวัด','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','generated-quiz-container','.png','workerSrc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','เงินงวด\x20(อนุกรมเงินงวด)','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','timestamp','\x20</div>\x0a\x20\x20\x20\x20','ฟังก์ชันกำลังสองและกราฟ','toLocaleString','readAsDataURL','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','ถูก','scratchpad-clear-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','แอบชอบ','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-comparison-modal-footer-btn','Error\x20saving\x20quiz:','<i\x20class=\x22fas\x20fa-magic\x22></i>','กำลังเตรียมไฟล์...','minHeight','Error\x20analyzing\x20file\x20for\x20topics:','viewBox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','starred','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','-options\x22>','fileShortcutsConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','getAttributeNS','http://www.w3.org/2000/svg','bg-black/10','close-lesson-plan-modal-footer-btn','passcode-prompt-message','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','incorrect','cos','players','https://drive.google.com/uc?export=download&id=','map','topic-quiz-bank-modal','การนับ','\x0a---\x0a','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','live-short-answer-input','border-green-700','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','bp-modal-question-complexity-select','querySelectorAll','กรุณาพิมพ์คำตอบของกลุ่ม','คะแนนยังไม่ถึงครึ่ง','latestSubmittedAt','bg-yellow-300\x20text-yellow-900\x20font-bold\x20border-2\x20border-yellow-500','answeredCurrentQuestion','newOptionsPayload','.shortcut-list-item','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','\x20/\x20','กำลังดึงไฟล์อ้างอิงจากลิงก์...','stem','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','\x20(\x22','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','กำลังวิเคราะห์หัวข้อ...','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','แผนภาพเวนน์','ยังไม่ส่ง','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','getItem','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','dragend','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','msExitFullscreen','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.submittedAt','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','ลำดับเรขาคณิต\x20(GP)','student-quiz-leaderboard-content','ยอดเยี่ยม!','reduce','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','timerMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','shortcut-id-input','keys','copy','การแปลงรูปอัตลักษณ์','text-emerald-800','CEOพันล้าน','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','execCommand','text/html','main-correct-answer-display','additional-shortcuts-modal','specialist','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','fill_in_the_blank','use-powerup-fiftyFifty','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>👻\x20คุณถูกบังคับให้\x20\x22มั่นใจ\x22\x20ในข้อนี้!</div>','quiz-bank-modal','globalSettings','comparison','การหารเศษส่วน','GlobalWorkerOptions','parent','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','helvetica','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยมวล/น้ำหนักและการแปลง','innerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','cancel-blueprint-projects-btn','jspdf','ตัวเลือก\x20','manual-blueprint-modal','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','Error\x20generating\x20worksheet:','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-800','กำลังสร้างรูปภาพ...','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','parallelShortcutOrder','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','save-quiz-btn','tan','parallel-default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','close-additional-parallel-shortcuts-btn','docs','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','bg-green-500','\x20รายการ\x20สำเร็จ!','AI\x20grading\x20failed:','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','ระยะทางและจุดกึ่งกลาง','%PDF','เกิดข้อผิดพลาดในการลบโปรเจค','scratchpad-header','end-game-btn','อุณหภูมิและการแปลง','\x22\x20name=\x22question','now','div[data-question-index=\x22','request','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','powerupUsed','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','results-table','input[type=\x22checkbox\x22]:checked','applicationData','การแจกแจงทวินาม\x20(พื้นฐาน)','ไม่พบข้อมูลแบบทดสอบ','bulk-loop-until-pass-checkbox','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','toString','.move-quiz-btn','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','create-project-modal','</button>','show-leaderboard-btn','admin','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','การลบทศนิยม','กรุณาเลือกคำตอบก่อนครับ','no-projects-msg','/public/data/quizzes/','passcode','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','.edit-question-btn','คณิตศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','transition','parentElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','.live-answer-btn,\x20#sync-submit-btn','เรขาคณิต',')\x22><span\x20style=\x22','bg-teal-500\x20hover:bg-teal-600\x20text-white','fileShortcutOrder','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','cancel-quiz-status-btn','export-excel-btn','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-sync-game-btn','สร้างใหม่','AI\x20did\x20not\x20return\x20any\x20content.','-tab-content','blueprint-projects-modal','\x20(p=','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้เล่น','teacherSuggestions','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','tabId','ทะเล','การบวกเศษส่วน','สามเหลี่ยม\x20(ชนิด/สมบัติ)','dragstart','คัดลอกรหัสแล้ว!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','แมวเก้าชีวิต','Error\x20saving\x20file\x20shortcut:','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','loader','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','file-topics-list','shortcut-modal-title','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','bg-gray-200\x20text-gray-700','results-tab-content','none','restore','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-team-selection-btn','scores','border-green-300\x20bg-green-50','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','globalCompositeOperation','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x20|\x20ID:\x20','translate(','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','msRequestFullscreen','imageCode','presentation-scratchpad-btn','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','closest','comparison-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','sync-manage-players-btn','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','lower_group_count','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','เกิดข้อผิดพลาดในการเข้าตลาดมืด','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','requestFullscreen','transform','onchange','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','กำลังสร้างเนื้อหา:\x20','cloneNode','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','manual_release','.mb-6.p-4','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','bg-[#EF4444]\x20text-white\x20font-bold','คำเตือน\x20(','bg-gray-50','slice','confirm-game-start-modal','\x20คะแนน</span></div>','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','delete-svg-btn','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20updating\x20quiz\x20settings:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','find','#6366F1','.file-shortcut-tab-btn','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','อนุพันธ์:\x20กฎลูกโซ่','autoTable','text-gray-700','Failed\x20to\x20create/update\x20submission\x20record:','null','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','สมมาตร\x20(แกน/จุด)','style','แก้ไขข้อนี้','moveTo','เกี่ยวกับหัวข้อ\x20\x22','Error\x20generating\x20parallel\x20post-test:','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per_question','admin-try-quiz-btn','leq','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','/public/data/blueprintProjects','\x20จุด','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','FIRST_TRY_ACE','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','ไม่พบโปรเจค','project-name-input','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x20(Points\x20สูงสุด)\x22>👑</span>','highlighter','Failed\x20to\x20kick\x20player\x20','setFont','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','fa-rocket\x20text-purple-500','203qrdiQi','อัตราการเปลี่ยนแปลงทันที','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','teachingContent','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','คำถามถัดไป','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','classList','position','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','confidence-mode-select','พบ\x20Team\x20Quiz!','รอผู้ควบคุมไปข้อต่อไป...','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','กฎของโคไซน์','oninput','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','displayName',';\x22\x20data-id=\x22','<span\x20class=\x22block\x20text-sm\x20','.bp-try-btn','Error\x20unpairing\x20quizzes:','reference_onet.pdf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#D1FAE5','move-quiz-project-select','confirmation-message','text-gray-300\x20hover:text-white','perfect_score','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','auto-fix-latex-btn','พื้นที่สี่เหลี่ยม','ตรวจพบการออกจากหน้าจอครบ\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20blueprint\x20projects:','#FFFFFF','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-topics-list','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','generate-from-topic-btn','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','.confidence-choice-btn','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','parallel-default-','<svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','bp-modal-num-choices','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','\x20to\x20','global-activity-modal','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','open-market-btn','lesson-plan-modal','generate-from-link-btn','.delete-question-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','underline','bulk-shuffle-select','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','จอมเวทย์ขนมหวาน','<p><strong>คำตอบที่แนะนำ:</strong>\x20','.csv','cancel-bp-settings-btn','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','border-gray-200','getContext','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','จำนวนเชิงซ้อน\x20(เสริม)','retake-quiz-loop-btn','รูปหลายเหลี่ยมและมุมภายใน','ไม่ใช่','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ตรีโกณมิติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','scratchpad-canvas','canvas','questionId','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','content','Blueprint\x20O-NET\x20ป.6','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','ตอบถูกทุกข้อในแบบทดสอบนี้','beforeend','บันทึกการตั้งค่าการแสดงผลสำเร็จ','delete-all-students-btn','global-activity-quiz-list','fadeStartTime','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20หัวข้อ)','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','save-visibility-settings-btn','editable-quiz-topic','bp-topic-list-container','split','(พยายามอยู่)','ai-quiz-app-aefee.firebasestorage.app','min','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','change','bp-modal-include-images-checkbox','กำลังสร้างแบบทดสอบ\x20\x22','/public/data/practiceBank','text-input-area','lesson-loader-text','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','includes','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','powerupUsed_q','ระยะจากจุดถึงเส้นตรง','\x20mb-2\x22>','.flex.justify-between.items-center','next-question-timed-btn','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','projectSortOrder','_blank','touchstart','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','qIndex','<div><input\x20type=\x22radio\x22\x20id=\x22q','originalQuestionText','lineJoin','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','show-final-results-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.correct-response-input','.topic-selection-btn','student-quiz-leaderboard-table-body','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','1194272NmseHu','pointerdown','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','file-default-','-tab','.sortable-header','.topic-name-input','transition-all','push','category','realScore','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','ผู้เล่น\x20','candidates','</span>','behaviorLog','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','<br>','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','API\x20call\x20failed\x20with\x20status:\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','cancel-shortcut-edit-btn','.answered','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','bulk-confidence-mode-container','<p\x20class=\x22font-bold\x20text-sm\x20','เน็ตช้า','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.shortcut-list-item:not(.opacity-50)','กรุณาใส่ชื่อนักเรียน','จำนวนคละ','url','แบบทดสอบจากคลังส่วนตัว','project-id-display','#results-table','จำนวนและการดำเนินการ','project-detail-view','shortcut-reference-url-input','black-market-modal','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','<div\x20class=\x22answer-space\x22></div>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','เปิด\x20(จับเวลา)','generated-quiz-actions','times','/studentProfiles','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','verify-answers-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','.question-editor-item[data-q-index=\x22','upperGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-center\x20gap-3\x20w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20shadow-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x22></i>\x20ตลาดมืด\x20(มี\x20','studentName','rgba(255,\x20255,\x200,\x200.5)','\x20ตัวเลือก)','message-modal','select[name=\x22question_single\x22]','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pairedQuizId','shuffle-setting-select','[data-topic-id]','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','/public/data/customMathTopics','text-green-600\x20font-bold','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้ปิดใช้งานอยู่','screen','fromCharCode','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','เกิดข้อผิดพลาดในการดึงข้อมูลสถิติ','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topicId','per-q-countdown','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','project-title','(คุณ)','Error\x20saving\x20visibility\x20settings:','close-lesson-plan-modal-btn','pdf','save-shortcut-btn','reset-project-order-btn','.status','ไม่สามารถโหลดคลังข้อสอบได้','parallelTestShortcutsConfig','.sort-indicator','Failed\x20to\x20end\x20group\x20mode\x20game:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','answer-counter','sync','pollUsedThisTurn','remove','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','Error\x20calling\x20Gemini\x20API:','<span\x20title=\x22ใช้:\x2050:50\x22>🌗</span>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','value','ดาวTikTok','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','update-old-quizzes-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','password-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','presentation-ai-result','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','file-shortcut-name-input','reveal-names-btn','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','presentation-explanation','lesson-plan-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','.move-shortcut-dropdown','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','<li\x20class=\x22','bg-red-500','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','save-blueprint-as-project-btn','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button></div>','anon-settings-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz-tab-btn','</span></td>','รูปสี่เหลี่ยมและสมบัติ','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','timer-duration-container','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','bg-gray-500','parse','\x20ชุดสำเร็จ!','blueprint-tab','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Group\x20Mode','topic-bank-list','bulk-quiz-settings-btn','Error\x20clearing\x20linked\x20quiz:','\x22,\x20','/preferences/main','.score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','.star-quiz-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','บันทึกการตั้งค่าแล้ว','insertAdjacentHTML','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','\x20ข้อ\x20','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<tr\x20class=\x22','quiz-start-time','📡\x20สแกนเสร็จสิ้น:\x20ไม่พบภัยคุกคาม','handleGenerateAndShowLesson','Error\x20updating\x20project\x20name:','Error\x20updating\x20pin\x20status:','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20updating\x20custom\x20topic:','<button\x20data-shortcut-id=\x22','bg-green-200','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','nextElementSibling','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','currentQuestionIndex','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','bg-green-500\x20hover:bg-green-600\x20text-white','lesson-sections-container','BOOLEAN','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20parallel\x20test\x20from\x20bank:','<div\x20class=\x22flex\x20items-center\x20gap-2\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','modal-timer-duration-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.game-start-btn','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','color','.bp-create-topic-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isLooping','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','0\x200','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','substring','Error\x20updating\x20quiz\x20status:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topics.','\x20|\x20','destination-out','solution','pin','.unpair-quiz-btn','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x20ครั้ง)</span></td>','forceConfident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','.quiz-settings-btn','เปลี่ยนชื่อแบบทดสอบสำเร็จ','referenceFileUrl','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','passcode-error-msg','บันทึกแบบทดสอบสำเร็จแล้ว!','ความชันและเส้นตรง','quiz-results','bg-red-100','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','ไม่มีคำอธิบาย','\x20คน\x20(','bottom','sync-player-list','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','set','text/plain','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','answered','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','PERFECT_SCORE','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','.quiz-bank-delete-btn','หยุดระบบจับเวลาหรี่หน้าจอ','MathJax','sync-timer-bar','project-detail','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','save','ก้อนเมฆ','rgba(79,\x2070,\x20229,\x200.8)','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','start-game-btn','text-black','student-passcode-input','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','ค่าเสื่อมราคา','Error\x20deleting\x20topic:','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','100%','reset-view-btn','bg-blue-100','เกิดข้อผิดพลาดในการสร้างใบงาน','.lastAnswerCorrect','touch','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','load-quiz-btn','dispatchEvent','student-quiz-leaderboard-tab','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','#retake-for-improvement-btn','Re-grade\x20process\x20failed:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','3406036vdaAqq','\x22.\x20','เกิดข้อผิดพลาดในการบันทึกโปรเจค','scale','รูปแบบการให้เหตุผล','Error\x20joining\x20sync\x20game:','flex','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ปิดใช้งาน','findIndex','check-presentation-answer-btn','powerups.','show_results_only','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','ข้อต่อไป','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','เน็ตไอดอล','.txt','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','บักแตงโม','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','เกิดข้อผิดพลาดในการลบ','แก้ไขปุ่มลัดจากไฟล์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','</div>','test','กรุณาพิมพ์คำตอบ','<tr>','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เซียนสมองไว','.pen-color-btn','ไม่พบข้อมูลข้อสอบหลังเรียน','fas\x20fa-bookmark','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','clear-all-links-btn','เกิดข้อผิดพลาดในการใช้ไอเทม','manual-bp-content','modal-confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','presentation-slide-container','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','confirm-join-game-btn','ไม่พบข้อมูลโปรเจค','ไม่ได้ตอบ','เส้นตรง:\x20รูปแบบสมการ','อินเวอร์สของเมทริกซ์','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','subTopic','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20','responses','เนื้อหาสำหรับสอน:\x20','topic-input','.ai-content\x20h3','Loaded\x20','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','cancel-parallel-shortcut-edit-btn','mouseleave','undefined','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','originalTopic','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','text-indigo-800','เพิ่มรายการที่เลือก','highlighter-size-slider','quiz-settings-modal','Leaderboard\x20update\x20transaction\x20failed:\x20','highlighter-tools-group','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','N/A','close-presentation-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','redo-btn','close-market-btn','strategyScan','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','additional-parallel-shortcuts-list','export-worksheet-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','questionStatus','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','commit','fullscreenElement','ไม่ระบุ','removeEventListener','file-shortcut-id-input','toDate','some','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','element','date_asc','transition-transform','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','function','สลับไปโหมดผู้ควบคุม','เลือกผู้เล่นที่จะ\x20\x22','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','scratchpad-question','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสแควร์รูท\x20(surd)','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','overallGroups','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','resize','targetId','deselect-all-topics-btn','เปลี่ยนชื่อโปรเจคสำเร็จ','Error\x20joining\x20team\x20quiz:','Error\x20saving\x20user\x20preference:','<div\x20id=\x22q-image-container-','Error\x20fetching\x20lesson\x20content:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','badgesCount','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','ข้อ\x20','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','.doc','live-player-list','artifacts/','timeBonusThisQuestion','.pin-project-btn','answers','cancel-test-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','setAttribute','player-count','Blueprint\x202','Error\x20starting\x20sync\x20game:','(คู่ขนาน)\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','onloadend','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','export-pdf-modal','ระยะเวลา\x20(นาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','blueprint-project-manager-view','splice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','show_pass_fail_only','<span\x20title=\x22ใช้:\x20ประกันภัย\x22>🛡️</span>','Error\x20fetching\x20project\x20quizzes:','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','isJinxed','next-drill-btn','subTopics','afterend','.ai-content\x20td','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','date_desc','shortcuts','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','text-gray-400\x20hover:text-indigo-600','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','table','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','project-search-input','#confidence-input-','input[name=\x22syncVariant\x22]:checked','quizId','cursor','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','gameData','ลบผลสอบของ\x20','Invalid\x20response\x20structure\x20from\x20AI.','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','wager-amount-display','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22text\x22]','text-yellow-300','เหมียวขี้เซา','Blueprint\x201','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numPages','sync-timer-enable-checkbox','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','parallel-default-2','print','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>','back-to-dashboard-from-bp-btn','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','Error\x20submitting\x20group\x20answer:','input[type=\x22radio\x22][value=\x22','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','link-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','ตารางความถี่','Error\x20deleting\x20quiz:','results','manage-tab','mandatory','Error\x20loading\x20quiz\x20for\x20student:','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-passing-score-input','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','isAnonymousRevealed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-tab','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x22\x20name=\x22question_single\x22\x20value=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','projectName','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','cancel-export-pdf-btn','</span></div>','สายลมแห่งโชคชะตา','mjx-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','finishReason','ทำคะแนนได้เกินครึ่ง','podium','bp-reference-file-url','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','text-red-600','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','blueprint-settings-modal','warn','กำลังสร้างแบบทดสอบจากหัวข้อ...','className','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity','abs','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','แท็บใหม่','confirm-not-confident','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','tool','\x22\x20ออกจากคลังนี้?','blur','เมทริกซ์:\x20บวก/คูณ','.regenerate-question-btn','.live-answer-btn,\x20#live-submit-short-answer-btn','teacherTips','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','Powerup\x20use\x20failed:','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-editor-questions-container','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','group','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','Error\x20joining\x20activity:','สเกลและแผนที่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','องค์ประกอบของฟังก์ชัน','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','.kick-player-btn-sync','กุ้งเต้นแร้งกา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','download','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','list-view-btn','student-progress','(^|[^\x5c\x5c])\x5cb','.generate-lesson-btn','\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ผลรวมอนุกรม\x20(Σ)','close-comparison-modal-btn','wasConfident','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','groups.','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x20\x0a\x20\x20\x20\x20','student-progress-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','mainTopics','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','activeGameSession','powerupUsedThisTurn','indexOf','parseInline','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','parallel-test-input-area','</option>','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','fa-fire\x20text-orange-500','clearRect','lastAnswerCorrect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กฎของไซน์','hidden','\x20แบบทดสอบลงในคลังสำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','confidence-scoring-toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#student-project-leaderboard-content\x20thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','target','setItem','cancel-delete-btn','analyze-strengths-btn','team','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x22\x20จำนวน\x20','โดเมนและเรนจ์','สร้างคำถามแบบเติมคำในช่องว่าง','back-to-project-btn','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','separate-by-content-from-file-checkbox','text-red-700\x20bg-red-100','```','textarea','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','destroy','-options','font-bold\x20text-green-700','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','การคูณเศษส่วน','.bp-unlink-quiz-btn','\x5cpm','gamePin','🔁\x20โอกาสครั้งที่สอง','Auto-linking\x20new\x20quiz\x20','reference.pdf','ถูกต้อง!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','use-powerup-wagerMultiplier','Error\x20adding\x20custom\x20topic:','frac','height','modal-loop-until-pass-checkbox','text-white','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#E5E7EB','textarea[name=\x22team_answer\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinnedProjects','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answeredCurrentQuestion','<span\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','ondragend','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','<option\x20value=\x22\x22>กำลังโหลด...</option>','รากที่สองและที่สาม','rgba(239,\x2068,\x2068,\x200.9)','อัปเดตแบบทดสอบเก่า\x20','explanation','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','ซามูไรสายเดี่ยว','Error\x20saving\x20reference\x20URL:','desc','ไม่พบไฟล์\x20Test\x20Blueprint','create-from-bank-btn','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','text-green-600','isForcedConfident','ความคาดหมาย\x20(Expected\x20value)','bg-green-200\x20text-green-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการส่งคำตอบ','</tbody></table></div>','ความน่าจะเป็นแบบมีเงื่อนไข','questionIndex','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','.delete-custom-topic-btn','start-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','getBoundingClientRect','confirm-admin-login-btn','):\x20','Error\x20saving\x20shortcut\x20config:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','ดอทโปรดักต์\x20(dot)','memoryContent','ค่าสัมบูรณ์','manage','manual-bp-project-name','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupResponders','status','Error\x20generating\x20from\x20link:','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','bank-quiz-search-input','<div\x20class=\x22','.edit-hidden-parallel-shortcut-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','pointermove','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','size','.verification-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','input[name=\x22status-option\x22]:checked','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','selected-answer-index-hidden-wager','btn','\x5cfrac{$1}{$2}','not_confident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','manage-players-btn','touchcancel','parallelShortcutTabs','.delete-submission-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','ตรวจทานเฉลยเสร็จสิ้น!','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','\x22\x20class=\x22color-palette-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','lesson-loader','อยู่ในสาระการเรียนรู้ใด:','/public/data/syncGames/','game-start-quiz-id','กำลังอ่านและเตรียมไฟล์...','totalQuestions','ทฤษฎีบทพื้นฐานของแคลคูลัส','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','projectOrder','allResponses','empty','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stepByStepExamples','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x20Points)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20linking\x20quizzes:','active','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','fa-dumbbell\x20text-gray-700','practiceProblems','shortcutId','force-math-checkbox','powerups','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','points','.ai-fix-question-btn','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','eraser','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','quiz-status-modal','document','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','separate-by-content-checkbox','lastIndexOf','bp-modal-num-questions','ไม่พบข้อมูลการจับคู่','\x22\x20class=\x22pin-project-btn\x20','random','file-shortcuts-loading-msg','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','text-gray-100','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','perQuestionStats','reference-pdf-upload','/questionBank','lastAnswerIndex','ไฟล์ลัด\x201','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ครูใหญ่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit-group-answer-btn','from','sync-submit-btn','suggestedAnswer','neq','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','commonMistakes','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กองดอง','---\x20[คำถามใหม่]\x20---','standardTopic','<p\x20class=\x22text-xl\x22>','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20all\x20students:','การคูณทศนิยม','fixed','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','นำแบบทดสอบออกจากคลังนี้แล้ว','แปลงร่าง','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20จุดเรียบร้อยแล้ว','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!','answering','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','.edit-quiz-btn','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','line-height:\x201.3;\x20min-width:\x200;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-shortcut-btn','string','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','confidence','.remove-shortcut-from-tab-btn','cancel-move-quiz-btn','questionText','.ai-content\x20p','ใช้ไอเทม\x20','normal','ไม่สามารถบันทึกการตั้งค่าได้','✂️\x20ตัด\x201\x20ตัวเลือก','cancel-global-activity-btn','ลิมิต','Attempting\x20to\x20save\x20game\x20results...','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','live-game','เพนกวินไฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','confirm-bulk-quiz-settings-btn','นักเดินทาง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','loader-text','text-emerald-900','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','1309869IxhFzr','select','.compare-results-btn','additional-parallel-shortcuts-modal','selectedTopicNames','delete','selected-answer-index-hidden','handleGeneratePracticeTest','backgroundColor','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','parallel-shortcut-id-input','.shortcut-tab-btn','ต้นฉบับ\x201','modal-results-display-select','ไม่พบตารางสำหรับ\x20Export','quizType','insertBefore','modal-shuffle-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','stringify','substr','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','parallel-shortcut-name-input','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','(ไม่มีชื่อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','loopUntilPass','/public/data/teamQuizzes','\x22\x20x','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','earned-badges-container','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','adaptive-quiz-checkbox','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','.pen-size-btn','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','/public/data/projects','onblur','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.tab-name-display','text-green-700','file-shortcut_','ร้อยละพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','กัปตัน','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','back-to-student-initial-btn','body','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isArray','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','input[name=\x22syncVariant\x22]','project-sort-select','leaderboard-tab','kick-player-btn','ราชาคัมแบ็ก','ผิด','\x22\x20data-pre-test-id=\x22','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','fileShortcutTabs','(กำลังไล่ตาม)','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง','shortcutIds','AI\x20Formula\x20Fix\x20Error:','source_document.txt','API\x20Error\x20Body:','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','พบ\x20Sync\x20Game!','.subTopic','rgba(59,\x20130,\x20246,\x200.7)','.group\x5c/dropdown-file','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Original\x20quiz\x20not\x20found','justification','submit-team-answer-btn','file-input-area','...\x22)?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20saving\x20settings:','.project-card-container:not(.opacity-50)','(ก่อนเรียน)\x20','เลือกและเริ่มสร้าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','.file-shortcut-btn[data-id=\x22','text-red-500\x20hover:text-red-700','อัศวินรัตติกาล','createObjectURL','firstScore','file-shortcut-url-input','publicLeaderboard','lesson-view-content','quiz-results-view','add-student-btn','matching','\x22\x20ให้เป็นคำถามประเภท\x20\x22','Enter','แบบทดสอบนี้หมดเวลาแล้ว','\x22\x20style=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x5cle','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','attempts','application/pdf','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','กำลังสแกนหาแบบทดสอบเก่า...','ดูผลสรุปสุดท้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showAnswerInAnonymous','</p><p><strong>เฉลย:</strong>\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','rows','show_results_and_answers','Error\x20deleting\x20project:','ไอรอนแมน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','postScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','1LdhAER','ระบบเลขและค่าประจำหลัก','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','save-quiz-edits-btn','getPage','projectSort','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','confidence-mode-container','เพิ่มปุ่มลัดจากไฟล์ใหม่','sync-timer-duration-container','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','matching_item','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','bg-white','<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนติดลบ\x22>⚠️</span>','live-options-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','mixed','เพิ่มปุ่มลัดใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','5099427QVcCYZ','index','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-team-join','bp-project-title','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','รหัสไม่ถูกต้อง','.pointsLastQuestion','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','</a>','shuffle','createdAt','คาถาแยกเงาพันร่าง','drop','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.delete-hidden-parallel-shortcut-btn','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','both','จำนวนเต็มบวก','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','เกมเมอร์','file-shortcut-modal-title','stroke','.lastAnswerValue','generated','tGain','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','</div></div>','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','เกิดข้อผิดพลาดในการปักหมุด','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','move','<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คำถามดิบ:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sin','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','เสือซ่อนเล็บ','touches','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-topic=\x22','วงรี','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','Sync\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ความต่อเนื่อง','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','มูเตลู','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<textarea\x20name=\x22question','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สุดยอด!\x20ตอบถูกทุกข้อ','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','shortcut-editor-modal','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','save-project-name-btn','<button\x20data-tab-id=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','Error\x20confirming\x20players:','🌗\x2050:50','#results-table\x20thead\x20tr','คณิตการเงิน/บูรณาการ','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','ท็อปฟอร์ม','lineWidth','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-shortcut-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','use-powerup-insurance','หลังเรียน','.isScored','.generate-post-test-btn','isCorrect','newOptions','progress-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','multiple_choice','key','confirm-create-project-btn','\x20ชุด)','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','text/csv;charset=utf-8;','Error\x20resetting\x20project\x20order:','export-leaderboard-image-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-modal','added','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','replaceChild','Failed\x20to\x20get\x20standardized\x20topic:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-move-quiz-btn','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','บันทึกการตั้งค่าสำเร็จ','tooltipTarget','offsetWidth','ลำดับการดำเนินการ\x20(PEMDAS)','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','open-blueprint-projects-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classic','total','onerror','numChoices','far\x20fa-star','📡\x20สแกน:\x20ไม่พบผู้เล่นอื่นในห้องครับ','รอ...','📊\x20สถิติการตอบ\x20(จากผู้เล่น\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','gameVariant','สายหมอก','.bp-edit-topic-btn','text-blue-800','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','market-current-points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','startsWith','starred-project','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?','analytics-summary-cards','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','parseFromString','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','confirm-rename-quiz-btn','isAdaptive','dfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','closePath','.copy-quiz-id-list-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','question-complexity-select','close','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','confirm-delete-btn','createElement','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','leaderboard','ลบแบบทดสอบสำเร็จแล้ว','.move-file-shortcut-menu-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','bp-modal-quiz-type-select','learningGaps','ปริพันธ์ไม่จำกัด','toFixed','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bp-quiz-settings-btn','Error\x20saving\x20parallel\x20shortcut:','q-explanation-','/public/data/projects/','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','baseVal','topic-tab','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','#DBEAFE','ห.ร.ม.\x20(GCD)','\x20mx-1\x20text-lg\x22></i></span>','student-name-input','bg-[#DCFCE7]\x20text-green-900','submittedAt','wager-max-points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','.export-pdf-list-btn','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>🌗\x20คุณได้ใช้\x20\x2250:50\x22\x20ไปแล้ว</div>','show-results-btn','quiz-id-input','Error\x20saving\x20manual\x20blueprint\x20project:','เกิดข้อผิดพลาดในการเข้าร่วมเกม','admin-password-input','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','focus','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','Failed\x20to\x20generate\x20lesson:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','slide-counter','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','เรขาคณิตวิเคราะห์','เกิดข้อผิดพลาดในการนำผู้เล่นออก','รักแรกพบ','classStrengths','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','274192258111','bg-green-100\x20text-green-800','add-file-shortcut-btn','<div>','result','แฟนทิพย์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','บทเรียนเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มี\x20Points\x20ไม่เพียงพอ','transformOrigin','ผู้ควบคุม\x20(ทดสอบ)','ดวงดาว','pointerup','.start-live-race-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมดเวลาสำหรับข้อนี้!','bg-green-100','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','wasForced','student-progress-content','สายตาสั้น','svg','text-green-700\x20bg-green-100','Error\x20generating\x20lesson\x20plan:','/public/data/liveGames','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','อกหัก','ทศนิยม\x20(ค่าประจำหลัก)','summary','พิซซ่าหน้าทุเรียน','secondChance','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','ondblclick','คัดลอกไม่สำเร็จ','back-to-student-home-btn','อัปเดตพฤติกรรมสำหรับ\x20','Error\x20listening\x20for\x20projects:','add-shortcut-tab-btn','not-found','ส้มตำปูปลาร้า','Error\x20clearing\x20all\x20links:','(ก่อนเรียน)','[data-topic-container-id]','19278UfLuCH','Error\x20saving\x20to\x20question\x20bank:','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','check-answer-btn','<span>','sync-timer-duration-input','.delete-shortcut-btn','.project-card-content','Error\x20moving\x20quiz:','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','Failed\x20to\x20apply\x20jinx:','บังคับมั่นใจ','use-powerup-buyTime','temp-loader-text-results','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','Error\x20submitting\x20team\x20answer:','shouldSaveResults','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','student-team-selection-view','ช่างภาพ','keyConcepts','link-url-input','temp-loader-results','pop','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การประยุกต์เวกเตอร์พื้นฐาน','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อยู่ในหัวข้อหลักใด:','idealAnswer','summaryContent','.group\x5c/dropdown','user-id-display','countdown-display','members','math-topics-checkbox-container','beginPath','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-mode-select','wagerMultiplier','addEventListener','กรุณาป้อนรหัสแบบทดสอบ','players.','พื้นที่ผิวรูปทรงสามมิติ','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','Error\x20toggling\x20pin\x20status:','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','.quiz-bank-parallel-btn','\x20in\x20all\x20blueprint\x20projects.','อัปเดตสถานะสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','anonymous','แบบทดสอบ:\x20','ARRAY','save-parallel-shortcut-btn','\x22\x20value=\x22false\x22\x20','สร้างชุดคำถามจับคู่','กรุณาเลือกชื่อของคุณ','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','Error\x20deleting\x20shortcut:','endTime','touchend','use-powerup-secondChance','เกิดข้อผิดพลาดในการอัปเดตสถานะ','blueprint-topics-list-container','border-indigo-500\x20text-indigo-600','thead','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','สถานะไม่ชัดเจน','modal-timer-duration-label','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','<i\x20class=\x22fas\x20fa-save\x22></i>','ฟังก์ชันเชิงเส้นและกราฟ','ฟังก์ชันแบบชิ้นส่วน','ย้ายแบบทดสอบไปโปรเจคอื่น','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','ส่งแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5csqrt{$1}','view-my-progress-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเต็ม!','line-through\x20text-red-700','global-quiz-search-input','bg-green-100\x20font-bold','confidence-choice-btn','\x20สำเร็จ!','pointercancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','\x22><span\x20style=\x22','เรเดียนและการแปลงหน่วย','สร้างคำถามแบบใช่/ไม่ใช่','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-generator-v3','\x20คะแนน\x20','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้','isNormalTopic','ฟังก์ชันลอการิทึม','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','bp-modal-difficulty-level-select','Error\x20pairing\x20quizzes:','Test\x20Blueprint','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','quiz-leaderboard-table','รีเซ็ตลำดับโปรเจคแล้ว','webkitExitFullscreen','ติดซีรีส์','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','quiz','end-sync-game-btn','bg-red-500\x20text-white\x20font-bold','NEGATIVE_INFINITY','wakeLock','link-input-area','groups','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','หัวข้อที่สร้างเอง','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','stdDev','Error\x20loading\x20user\x20preferences:','โจรสลัดอวกาศ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20fetching\x20student\x20rankings:','กราฟฟังก์ชันตรีโกณ','buy-time-quantity-input','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','generate-from-file-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','รอเปิด','Error\x20saving\x20parallel\x20shortcut\x20config:','createElementNS','responses.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','additional-shortcuts-list','```json','comparison-overall-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','.question-editor-item:last-of-type','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','visibilitychange','confirm-quiz-settings-btn','add-parallel-shortcut-btn','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)</button>','.quiz-result-card','Auto-cleanup\x20failed:','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','isStarred','.move-parallel-shortcut-menu-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','order','Error\x20saving\x20file\x20shortcut\x20config:','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','text-blue-700','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','กรุณาป้อนหัวข้อสำหรับใบงาน','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.ideal-answer-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x22\x20value=\x22true\x22\x20','Error\x20editing\x20topic:','manual-bp-grade-level','การปัดเศษและประมาณค่า','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','parallel-shortcut-modal-title','เศรษฐีดูไบ','dimmed','trim','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','เส้นจำนวน','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','อนุพันธ์:\x20ผลคูณ/ผลหาร','pre-test','Error\x20fetching\x20projects\x20for\x20move:','.edit-hidden-shortcut-btn','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','save-bp-settings-btn','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','ไฟล์ทั้งหมด','ไม่สามารถสร้างโปรเจคได้','Authentication\x20failed:','bg-gray-100\x20opacity-70','ทฤษฎีบทพีทาโกรัสและการประยุกต์','ยืนยันและอัปเดตทั้งหมด','scores-tab-btn','modal-message','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','</label></div>','student-project-leaderboard-tab','.linkedQuizId','กำลังสร้างคำถามข้อ\x20','open','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','#parallel-shortcut-tabs-nav\x20.tab-name-input','Error\x20saving\x20game\x20results:','shortcutOrder','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','eraser-tools-group','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','hiddenOptions_q','Error\x20unlinking\x20quiz:','ดาบพิฆาตอสูร','docChanges','projectId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','live-player-management','???','2-digit','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','ทำคะแนนเต็มในการทำครั้งแรก','class','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','confirm-wager-btn','Error\x20saving\x20project\x20order:','ปวดหลัง','input[name=\x22syncVariant\x22][value=\x22classic\x22]','การหารทศนิยม','num-choices-container','standard','undo-btn','mean','forEach','AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44','isBlackMarketEnabled','กรุณาตั้งชื่อแท็บใหม่:','Error\x20deleting\x20student:','มุมและการวัดมุม','topics','เส้นรอบรูป','จุด\x20เส้น\x20ระนาบ','⏳\x20ซื้อเวลา','loop-until-pass-checkbox','parallel-shortcut-tabs-nav','bank-quiz-list','.eraser-size-btn','คะแนน','scrollY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','doughnut','competition','topicName','สมการเหตุผล\x20(rational)','q-text-','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','gradeLevel','</div>\x0a</div>\x0a','กรุณาใส่ชื่อโปรเจค','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','removeChild','\x20รายการสำเร็จ!','linkedQuizIds','Error\x20during\x20class\x20analysis:','sum','binom','\x22\x20data-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22space-y-4\x22>','cancel-admin-login-btn','มัธยฐาน','cancel-passcode-btn','totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-rename-quiz-btn','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','close-game-final-btn','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','Error\x20analyzing\x20blueprint\x20topics:','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','ยูทูปเบอร์ฝึกหัด','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','bg-red-100\x20text-red-800','นักดนตรี','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','auto','file-default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p>','input','การสร้างรูปด้วยวงเวียน–สันตรง','ค.ร.น.\x20(LCM)','projectView','parentNode','market-item-list','bg-gray-400','Error\x20saving\x20lesson\x20to\x20project:','image/png','offset','text-red-800','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','contains','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','contentEditable','promise','quiz-search-input','.quiz-bank-checkbox:checked','questions_only','.delete-hidden-shortcut-btn','ดีเทอร์มิแนนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','reveal-answer-btn','dataIndex','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','ผู้เชี่ยวชาญ','การคูณ','(คัดลอก)\x20','<button\x20data-id=\x22','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','fa-bolt\x20text-blue-500','ยอดเยี่ยม','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Could\x20not\x20fetch\x20reference\x20file:','leaderboard-quiz-tab-content','.auto-resize-textarea','filter','student-name-select','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','.file-topic-selection-btn','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','</p><div>','visible','เกมสิ้นสุดลงแล้ว','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-initial-view','generate-from-blueprint-btn','anon-show-answer-toggle','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22><p\x20class=\x22font-semibold\x22>','display','math-topic-search-input','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-body','all','setAttributeNS','/public/data/syncGames','\x20คู่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','\x22><i\x20class=\x22fas\x20','ยังไม่เต็มนะ','Error\x20processing\x20file\x20shortcut\x20click:','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','(รอคะแนน)','point','Error\x20regenerating\x20question\x20in\x20editor:','\x20w-8\x20inline-block\x22>','.edit-parallel-shortcut-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','project-quizzes-list','STRING','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<span\x20title=\x22โดนคำสาป\x22>😈</span>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','ondrop','exists','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','รายการนี้','Error\x20fetching\x20quiz\x20settings:','\x20pointer-events-none\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confident','back-to-results-btn','ออฟฟิศซินโดรม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','wager-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','scratchpad-modal','<p\x20class=\x22','opacity-50','hint-btn','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','close-student-rankings-btn','ป่าไม้','toLocaleDateString','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','project-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/blueprintProjects/','อัปเดตการตั้งค่าของแบบทดสอบ\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','การยืนยันตัวตนล้มเหลว','shortcut-blueprint-url-input','.delete-svg-btn','student-back-to-home-btn','timerDuration','score','analytics','parallel-shortcut_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20game:','<span\x20title=\x22ใช้:\x20ส่องสถิติ\x22>📊</span>','default-2','results_','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-amber-100\x20text-amber-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่มีผู้ตอบตัวเลือกนี้','bg-red-200\x20text-red-800','.bp-open-topic-bank-btn','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x22\x20สำเร็จ','back-to-home-manual-release','hasPerfectScoreBonus','answerText','Error\x20verifying\x20answers\x20in\x20editor:','[*]','/public/data/quizzes','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','topic','<p><strong>คำตอบของคุณ:</strong>\x20','วงกลม:\x20สมการและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','next-question-btn','ตะวันฉาย','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>✂️\x20คุณได้ใช้\x20\x22ตัด\x201\x20ตัวเลือก\x22\x20ไปแล้ว</div>','สมการลอการิทึม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','แบบทดสอบฝึกฝนเรื่อง:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt1\x22\x20name=\x22question','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','</div><div\x20class=\x22space-y-2\x22>','.delete-parallel-shortcut-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-red-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>😈\x20คุณโดนคำสาป!\x20(หากตอบผิด\x20บทลงโทษ\x20x2)</div>','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','#open-additional-parallel-shortcuts-btn','log','clientY','checked','isRemedial','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','scores-tab-content','export-lesson-pdf-btn','ลบหัวข้อสำเร็จ','join','พื้นที่สามเหลี่ยม','ควรปรับปรุง','#e21b3c','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','open-scratchpad-btn','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','postTScore','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','summary_chart','เกิดข้อผิดพลาดในการใช้ตัวช่วย','admin-dashboard','student-rankings-modal','นินจาชาเขียว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','black-market-settings-container','text-gray-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สู้ๆ\x20ลองอีกครั้งนะ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','ตัวเลือก\x20ค','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','text-blue-700\x20bg-blue-100','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','strength-weakness-analysis-container','หน่วยความยาวและการแปลง','file-upload-input','p-2\x20bg-black/10\x20rounded-md','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-topic-input','update','Error\x20saving\x20blueprint\x20project:','settings','#FEE2E2','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','text-yellow-800','parallel-test-upload-input','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ctimes','<span\x20title=\x22ใช้ไอเทม\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-title','Buy\x20Item\x20failed:\x20','default','file-default-2','#E0E7FF','ซื้อ\x20\x22','close-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-file-shortcuts-list','bg-black/20','export-leaderboard-pdf-btn','itemId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','Failed\x20to\x20generate\x20practice\x20test:','blueprint.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','shadowBlur','export-leaderboard-word-btn','dashboardConfig','ไม่ผ่าน','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','กำลังอัปเดตแบบทดสอบ\x20','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','ปลาทูคะนอง','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังค้นหากิจกรรม...','onload','whole_quiz','\x20(Player)\x20(ID:\x20','\x22\x20สำเร็จ!','Error\x20adding\x20topic:','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','admin-view','leaderboard-table-body','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เลือกโปรเจคเพื่อบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','verify-answers-editor-btn','rgba(79,\x2070,\x20229,\x201)','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','grid','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','PROMPT_PLACEHOLDER','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','disabled\x20bg-gray-400\x20cursor-not-allowed','message','confirm-team-players-btn','Error\x20in\x20generating\x20from\x20files:','team-player-status-grid','topic_','mode','additional-file-shortcuts-modal','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resultsDisplay','prod','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการติดดาว','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','https://corsproxy.io/?','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความชันเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.use-hidden-parallel-shortcut-btn','#FEF3C7','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-short-answer-input','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionDisplayedAt','wager-slider','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','_opt0\x22>ใช่</label></div>','</td>','OBJECT','กรุณาเลือกโปรเจคปลายทาง','สรุปผลสุดท้าย','export-leaderboard-excel-btn','newCorrectIndex','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','bg-yellow-500\x20text-black\x20font-bold','behavior-log-tab-btn','input[name=\x22team_player\x22]:checked','default-1','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','text','bp-add-topic-btn','behavior-log','เพิ่มหัวข้อ\x20\x22','fas\x20fa-star\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','label[for=\x22num-questions\x22]','นักกีฬา','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','หนอนหนังสือ','ceil','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','MathJax\x20re-render\x20failed:','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','ย้ายแบบทดสอบสำเร็จ','sort','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','top','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tfrac','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprintShortcuts','live-race','ยืนยันการจับคู่','.view-bp-lesson-btn','ชื่อโปรเจคห้ามว่าง','lesson-view-modal','\x20จาก\x20','isPinned','badges','ON_FIRE','อัตราส่วนและสัดส่วน','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','entries','\x5csum','input[type=\x22radio\x22]:checked','ส่วนเบี่ยงเบนเฉลี่ย','querySelector','trail','comparison-chart','00:00','generate-worksheet-btn','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','isPasscodeEnabled','onkeydown','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','create-project-btn','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','.topic-name-display','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','per-question-timer-container','not_generated','shortcuts-loading-msg','end-team-quiz-btn','แก้ไขสูตรคณิตศาสตร์\x20','schedule','visibilityState','div','attemptNumber','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','confirmation-modal','student','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','แผนภาพกล่อง\x20(box\x20plot)','.move-parallel-shortcut-item','finished','getTime','dim-overlay','confidence-modal','modified','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','confidence_single','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','นักวิทยาศาสตร์','\x22\x20data-target-tab-id=\x22','deg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','quiz-type-select','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>','พอใช้','lineCap','json','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','grabbing','submit','shadowColor','<div\x20style=\x22','Error\x20in\x20handleApiCall:','กรุณาสร้างบทเรียนก่อน','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','<h1></h1>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','<option\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flex\x20flex-col\x20gap-2','block','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','แก้ไขหัวข้อสำเร็จ','.remove-file-shortcut-from-tab-btn','\x20ชุด)</span>','wasJinxed','นักประดิษฐ์','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','bar','results-tab','bg-green-200\x20text-green-800','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','ตัวแทนแห่งดวงจันทร์','startTime','drill-feedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-end-time','answer-grid-container','Error\x20deleting\x20submission:','แบบทดสอบซ่อมเสริม','file-topic-input','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','onSecondChance','คู่จิ้น','นกฮูกกลางวัน','on_fire','จำนวนคู่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','หมูกระทะจะเยียวยาทุกสิ่ง','แคลคูลัสเบื้องต้น','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','getDocument','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','[data-topic-id=\x22','#F59E0B','wager-all-in-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','responseSchema','dragover','การบวกทศนิยม','\x20to\x20blueprint\x20topic\x20','กำลังกลับเข้าสู่เกม\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','students','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','ความสัมพันธ์ของมุม','getScreenCTM','<option>กำลังโหลดโปรเจค...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','.live-answer-btn','checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','ศูนย์','cdot','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','.duplicate-quiz-btn','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','playerName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-[#4ADE80]\x20text-green-900\x20font-bold','ลาเต้ไม่หวาน','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut-container','sara','touchmove','comparison-overall-content','upper_group_count','Error\x20generating\x20easy\x20version\x20quiz:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','complexityValue','interesting-stats-wrapper','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','.application-options\x20button','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','bg-yellow-200','classWeaknesses','.delete-hidden-file-shortcut-btn','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','.quiz-status-btn','true','\x20\x20\x20-\x20','poll','Error\x20calculating\x20final\x20scores:','jinx','add-parallel-shortcut-tab-btn','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',')\x22>','\x20ข้อ...','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','localeCompare','บันทึกคำถามใหม่\x20','พื้นที่วงกลม/ส่วนของวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short_answer','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','สำหรับหัวข้อ\x20\x27','จากเนื้อหาต่อไปนี้:\x20\x22','</span>\x20','.parallel-quiz-btn','7072375Giviej','pen-tool-btn','questions','passing-score-input','แก้ระบบสมการด้วยเมทริกซ์','\x20(สำหรับ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementsByTagName','generate-from-text-btn','submissions','bank-input-area','round','เกิดข้อผิดพลาดในการอ่านไฟล์','shuffledQuiz','leaderboard-quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้าย','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','กำลังสร้างแบบทดสอบ:\x20','การลบเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','สมการยกกำลัง','ทฤษฎีทวินาม\x20(เบื้องต้น)','scrollIntoView','keydown','เศษส่วน\x20(ย่อ/ขยาย)','freeMarketEntryUsed_q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','tab_','สาป','live-game-view','<span\x20title=\x22ซื้อเวลา\x22>⏳</span>','Error\x20listening\x20for\x20student\x20profiles:','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','submission','$1\x20\x5cfrac','สาระที่\x201','bg-red-700\x20text-white\x20font-bold','bulk-confidence-mode-select','results-table-container','numQuestions','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','input[type=\x22checkbox\x22]','ยกเลิกการเชื่อมโยงสำเร็จ','#view-rankings-btn','(หลังเรียน)\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','.bp-view-analysis-btn','กรุณาเลือกไฟล์ก่อน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x5cge','bp-modal-passing-score-input','(เลือกแล้ว\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','questionType','word-break:\x20break-all;','404\x20Not\x20Found','แก้ไขชื่อหัวข้อย่อย:','ต้นฉบับ\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','save-file-shortcut-btn','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','ระบบสมการเชิงเส้นสองตัวแปร','inactive','ai-quiz-app-aefee','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','memory',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','answerValue','close-lesson-view-btn','click','items','correctAnswer','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','medium','Error\x20displaying\x20blueprint\x20project:','transparent','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','topic-input-area','question','.bp-live-btn','🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200','select-all-topics-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','text-gray-300','admin-testing','กำลังดึงข้อมูลจากลิงก์...','กลุ่ม:\x20','option','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','add-from-global-bank-btn','การจัดหมู่\x20(Combination)','close-additional-file-shortcuts-btn','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#open-additional-file-shortcuts-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','ondragover','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','.project-card-container.opacity-50','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','isScored','replace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-scoring-checkbox','file-topics-list-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','bg-emerald-100','correct','perfect_score_status','.highlighter-color-btn','.move-file-shortcut-item','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','correctAnswerIndex','text-indigo-600','ตอบถูก\x203\x20ข้อติดต่อกัน','student-project-leaderboard-table-body','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','lobby'];_0x98ef=function(){return _0x217ffb;};return _0x98ef();}async function handleUnpairQuiz(_0x4de54b){const _0x3682c8=_0x1ca595,_0x2a9520=allQuizzes['find'](_0x1100b7=>_0x1100b7['id']===_0x4de54b);if(!_0x2a9520||!_0x2a9520[_0x3682c8(0x3f7)]){showMessage(_0x3682c8(0x6b6));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x3165ef=_0x3682c8;try{const _0x2b480a=doc(db,_0x3165ef(0x54a)+appId+_0x3165ef(0xa62),_0x4de54b),_0x1a691f=doc(db,'artifacts/'+appId+_0x3165ef(0xa62),_0x2a9520['pairedQuizId']),_0xdab350=writeBatch(db);_0xdab350['update'](_0x2b480a,{'pairedQuizId':null}),_0xdab350[_0x3165ef(0xaa8)](_0x1a691f,{'pairedQuizId':null}),await _0xdab350[_0x3165ef(0x521)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x1f0c44){console[_0x3165ef(0x96)](_0x3165ef(0x337),_0x1f0c44),showMessage(_0x3165ef(0x730));}});}function formatAndPrintLessonPlan(_0x5f4e94,_0x467d4e){const _0x5e2c9e=_0x1ca595,_0x1e28fe=window['open']('',_0x5e2c9e(0x3a4)),_0x552db7=_0x5e2c9e(0x700)+_0x467d4e[_0x5e2c9e(0xa64)]+_0x5e2c9e(0x563)+_0x467d4e['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f4e94['learningGaps'][_0x5e2c9e(0x201)](_0x4b714e=>_0x5e2c9e(0x111)+_0x4b714e+'</li>')['join']('')+_0x5e2c9e(0x67b)+_0x5f4e94['teachingContent']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f4e94[_0x5e2c9e(0x6a5)][_0x5e2c9e(0x201)](_0x537362=>_0x5e2c9e(0x8fc)+_0x537362[_0x5e2c9e(0xc52)]+_0x5e2c9e(0x683)+_0x537362[_0x5e2c9e(0x481)]+_0x5e2c9e(0x487))[_0x5e2c9e(0xa88)]('')+_0x5e2c9e(0x68d);_0x1e28fe['document']['write'](_0x552db7),_0x1e28fe[_0x5e2c9e(0x6b1)][_0x5e2c9e(0x842)](),_0x1e28fe['onload']=function(){setTimeout(()=>{const _0x1ddd35=_0x2406;_0x1e28fe[_0x1ddd35(0x591)]();},0x3e8);};}async function handleAiFixFormula(_0x2719c1){const _0x184bfc=_0x1ca595,_0x3b365e=document[_0x184bfc(0xb49)]('.question-editor-item[data-q-index=\x22'+_0x2719c1+'\x22]');if(!_0x3b365e)return;const _0x358431=_0x3b365e[_0x184bfc(0x1e8)]['qType'],_0x371a5b=_0x3b365e[_0x184bfc(0xb49)]('.ai-fix-formula-btn');let _0x413ef6={'question':_0x3b365e[_0x184bfc(0xb49)](_0x184bfc(0x623))['value']};switch(_0x358431){case _0x184bfc(0x801):_0x413ef6[_0x184bfc(0x63f)]=Array[_0x184bfc(0x6ca)](_0x3b365e[_0x184bfc(0x20a)](_0x184bfc(0x587)))[_0x184bfc(0x201)](_0x23f584=>_0x23f584[_0x184bfc(0x41e)]);break;case'short_answer':_0x413ef6[_0x184bfc(0x8c8)]=_0x3b365e[_0x184bfc(0xb49)](_0x184bfc(0x959))[_0x184bfc(0x41e)];break;case _0x184bfc(0x79b):_0x413ef6[_0x184bfc(0xca2)]=_0x3b365e[_0x184bfc(0xb49)](_0x184bfc(0x3ae))[_0x184bfc(0x41e)];break;}_0x371a5b[_0x184bfc(0xcaa)]=_0x184bfc(0x9f4),_0x371a5b[_0x184bfc(0x25a)]=!![];try{const _0x430a28=_0x184bfc(0xd40)+JSON['stringify'](_0x413ef6)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2a17d4={'type':_0x184bfc(0xb15),'properties':{'fixedData':{'type':_0x184bfc(0xb15),'properties':{'question':{'type':_0x184bfc(0xa26)},'options':{'type':_0x184bfc(0x8e3),'items':{'type':_0x184bfc(0xa26)}},'idealAnswer':{'type':_0x184bfc(0xa26)},'correctResponse':{'type':_0x184bfc(0xa26)}},'required':['question']}},'required':[_0x184bfc(0xd6d)]},_0x15a367=await callAnalysisApi(_0x430a28,_0x2a17d4);if(_0x15a367&&_0x15a367[_0x184bfc(0xd6d)]){const _0x4c478e=_0x15a367[_0x184bfc(0xd6d)];_0x3b365e[_0x184bfc(0xb49)](_0x184bfc(0x623))['value']=_0x4c478e[_0x184bfc(0xc52)]||_0x413ef6[_0x184bfc(0xc52)];switch(_0x358431){case _0x184bfc(0x801):_0x4c478e[_0x184bfc(0x63f)]&&_0x4c478e[_0x184bfc(0x63f)][_0x184bfc(0x1d6)]>0x0&&_0x3b365e['querySelectorAll']('input[type=\x22text\x22]')['forEach']((_0x2a6243,_0x26758e)=>{const _0x34ead5=_0x184bfc;_0x2a6243['value']=_0x4c478e[_0x34ead5(0x63f)][_0x26758e]||_0x413ef6['options'][_0x26758e];});break;case _0x184bfc(0xbf6):_0x3b365e[_0x184bfc(0xb49)](_0x184bfc(0x959))[_0x184bfc(0x41e)]=_0x4c478e[_0x184bfc(0x8c8)]||_0x413ef6[_0x184bfc(0x8c8)];break;case'matching_item':_0x3b365e[_0x184bfc(0xb49)]('.correct-response-input')[_0x184bfc(0x41e)]=_0x4c478e['correctResponse']||_0x413ef6[_0x184bfc(0xca2)];break;}if(_0x413ef6[_0x184bfc(0xc52)]!==_0x4c478e[_0x184bfc(0xc52)])try{const _0x39ab88=collection(db,_0x184bfc(0x54a)+appId+'/public/data/learnedFixes');await addDoc(_0x39ab88,{'broken':_0x413ef6[_0x184bfc(0xc52)],'fixed':_0x4c478e[_0x184bfc(0xc52)],'createdAt':serverTimestamp()});}catch(_0x2f85df){console[_0x184bfc(0x96)](_0x184bfc(0x91c),_0x2f85df);}showMessage(_0x184bfc(0xd29));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x35458d){console[_0x184bfc(0x96)](_0x184bfc(0x754),_0x35458d),showMessage(_0x184bfc(0xb60));}finally{_0x371a5b[_0x184bfc(0xcaa)]=_0x184bfc(0x1ec),_0x371a5b[_0x184bfc(0x25a)]=![];}}async function handleGenerateLessonPlan(_0x460b90){const _0x102b93=_0x1ca595;showMessage(_0x102b93(0xcf6));try{const _0x1d01b2=doc(db,_0x102b93(0x54a)+appId+_0x102b93(0xa62),_0x460b90),_0x2a9f04=await getDoc(_0x1d01b2);if(!_0x2a9f04[_0x102b93(0xa2b)]())throw new Error(_0x102b93(0x284));const _0x30d200={'id':_0x460b90,..._0x2a9f04[_0x102b93(0xb6)]()},_0x4c0dab=collection(db,_0x102b93(0x54a)+appId+'/public/data/quizzes',_0x460b90,'submissions'),_0x168d38=await getDocs(_0x4c0dab),_0x5b87a5=_0x168d38[_0x102b93(0x26a)][_0x102b93(0x201)](_0x51e5a9=>_0x51e5a9[_0x102b93(0xb6)]());if(_0x5b87a5[_0x102b93(0x1d6)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x2e5692=calculateItemAnalysis(_0x30d200,_0x5b87a5)[_0x102b93(0x6bd)],_0x49fffb=calculateDistractorAnalysis(_0x30d200,_0x5b87a5),_0x32bce8=_0x5b80a4=>{const _0x9706c3=_0x102b93;if(!_0x5b80a4)return'';return _0x5b80a4[_0x9706c3(0xc6a)](/\\/g,'\x5c\x5c')[_0x9706c3(0xc6a)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x3ddbe7='สรุปผลการวิเคราะห์:\x5cn';_0x30d200[_0x102b93(0xbfe)][_0x102b93(0x99f)]((_0x5e61b4,_0x52ab6d)=>{const _0x192c70=_0x102b93,_0x49bbc4=_0x2e5692[_0x52ab6d]?.['p']['toFixed'](0x2)||_0x192c70(0x50e),_0x1fe0eb=_0x2e5692[_0x52ab6d]?.['r'][_0x192c70(0x84e)](0x2)||_0x192c70(0x50e),_0x6066dd=_0x32bce8(_0x5e61b4[_0x192c70(0x6f3)]||_0x5e61b4['stem']);_0x3ddbe7+='-\x20ข้อ\x20'+(_0x52ab6d+0x1)+_0x192c70(0x2aa)+_0x49bbc4+_0x192c70(0x11c)+_0x1fe0eb+_0x192c70(0x665)+_0x6066dd+'\x5cn';if(_0x5e61b4[_0x192c70(0xc34)]==='multiple_choice'&&_0x49fffb[_0x52ab6d]){const _0x13046d=_0x49fffb[_0x52ab6d],_0x5d0d80=Object[_0x192c70(0x236)](_0x13046d)['filter'](_0x59a2cd=>parseInt(_0x59a2cd)!==_0x5e61b4['correctAnswerIndex'])['sort']((_0x1d0d22,_0x26ac35)=>_0x13046d[_0x26ac35][_0x192c70(0x820)]-_0x13046d[_0x1d0d22][_0x192c70(0x820)])[0x0];if(_0x5d0d80&&_0x13046d[_0x5d0d80][_0x192c70(0x820)]>0x0){const _0x3a1d88=_0x32bce8(_0x13046d[_0x5d0d80][_0x192c70(0xb20)]);_0x3ddbe7+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x3a1d88+'\x22\x5cn';}}});const _0x3afab6=_0x102b93(0xb73)+_0x30d200[_0x102b93(0xa64)]+_0x102b93(0x1a8)+_0x3ddbe7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x29bd5e={'type':_0x102b93(0xb15),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x102b93(0xa26)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x102b93(0x8e3),'items':{'type':'OBJECT','properties':{'question':{'type':_0x102b93(0xa26)},'solution':{'type':_0x102b93(0xa26)}}}}},'required':['learningGaps',_0x102b93(0x321),'practiceProblems']},_0x574789=await callAnalysisApi(_0x3afab6,_0x29bd5e);await updateDoc(_0x1d01b2,{'lessonPlan':_0x574789});const _0x24cfd5=_0x102b93(0x42e)+_0x30d200[_0x102b93(0xa64)]+_0x102b93(0xbbd)+_0x574789[_0x102b93(0x84c)][_0x102b93(0x201)](_0x18a489=>_0x102b93(0x111)+_0x18a489+'</li>')[_0x102b93(0xa88)]('')+_0x102b93(0x46c)+_0x574789[_0x102b93(0x321)]+_0x102b93(0xb0a)+_0x574789[_0x102b93(0x6a5)][_0x102b93(0x201)](_0x1bc1d1=>_0x102b93(0x7bc)+_0x1bc1d1['question']+_0x102b93(0x785)+_0x1bc1d1['solution']+_0x102b93(0xc86))[_0x102b93(0xa88)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x102b93(0xcac)]('lesson-plan-title')[_0x102b93(0xc84)]=_0x102b93(0x144)+_0x30d200[_0x102b93(0xa64)],document[_0x102b93(0xcac)](_0x102b93(0x42c))[_0x102b93(0xcaa)]=_0x24cfd5,document[_0x102b93(0xcac)]('lesson-plan-modal')['classList'][_0x102b93(0x419)]('hidden');if(window['MathJax'])MathJax[_0x102b93(0xcf0)]();messageModal[_0x102b93(0x325)]['add'](_0x102b93(0x60b));}catch(_0x25518f){console[_0x102b93(0x96)](_0x102b93(0x893),_0x25518f),showMessage(_0x102b93(0x987)+_0x25518f[_0x102b93(0xaee)]);}}async function handleDuplicateQuiz(_0x235fa2){const _0xb2e73e=_0x1ca595;try{const _0x349b9e=doc(db,_0xb2e73e(0x54a)+appId+_0xb2e73e(0xa62),_0x235fa2),_0x19aaa6=await getDoc(_0x349b9e);if(_0x19aaa6[_0xb2e73e(0xa2b)]()){const _0x5b29a4=_0x19aaa6[_0xb2e73e(0xb6)]();let _0x2e1ba9='',_0x5e062a=_0xb2e73e(0x99c),_0x4c2ccb=null;if(_0x5b29a4['quizMode']===_0xb2e73e(0x969)){let _0x4ee807=_0x5b29a4[_0xb2e73e(0xa64)][_0xb2e73e(0xc6a)](_0xb2e73e(0x8a5),'')[_0xb2e73e(0x964)]();_0x2e1ba9=_0xb2e73e(0xc2a)+_0x4ee807,_0x5e062a='post-test',_0x4c2ccb=_0x235fa2;}else _0x2e1ba9=_0xb2e73e(0x9f7)+_0x5b29a4['topic'];const _0xe0e408={..._0x5b29a4,'topic':_0x2e1ba9,'createdAt':new Date()[_0xb2e73e(0x8d)](),'quizMode':_0x5e062a,'pairedQuizId':_0x4c2ccb};let _0x3adb3d;while(!![]){_0x3adb3d=Math[_0xb2e73e(0xd51)](0x3e8+Math['random']()*0x2328)['toString']();const _0x4705c3=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3adb3d));if(!_0x4705c3[_0xb2e73e(0xa2b)]())break;}const _0x38a06e=doc(db,_0xb2e73e(0x54a)+appId+'/public/data/quizzes',_0x3adb3d);await setDoc(_0x38a06e,_0xe0e408),_0xe0e408[_0xb2e73e(0xd42)]==='post-test'&&await updateDoc(_0x349b9e,{'pairedQuizId':_0x3adb3d}),showMessage(_0xb2e73e(0x158));}else throw new Error(_0xb2e73e(0x760));}catch(_0x3c21a2){console[_0xb2e73e(0x96)](_0xb2e73e(0x13b),_0x3c21a2),showMessage(_0xb2e73e(0xa18));}}async function handleDeleteQuiz(_0x3f5432,_0xab55f=!![]){const _0x13e6aa=_0x1ca595;try{const _0x5a50c4=writeBatch(db),_0x28fbcf=collection(db,'artifacts/'+appId+_0x13e6aa(0x292)+_0x3f5432+_0x13e6aa(0x12a)),_0x34a1fb=await getDocs(_0x28fbcf);_0x34a1fb[_0x13e6aa(0x99f)](_0x5c6167=>{const _0x49f40e=_0x13e6aa;_0x5a50c4[_0x49f40e(0x70d)](doc(_0x28fbcf,_0x5c6167['id']));});const _0x5634c8=doc(db,'artifacts/'+appId+_0x13e6aa(0xa62),_0x3f5432);_0x5a50c4[_0x13e6aa(0x70d)](_0x5634c8),await _0x5a50c4['commit']();try{console[_0x13e6aa(0xa7f)](_0x13e6aa(0xd8c)+_0x3f5432+_0x13e6aa(0x8dc));const _0x66ba5e=collection(db,'artifacts/'+appId+_0x13e6aa(0x30f)),_0x1991c8=await getDocs(_0x66ba5e),_0x16819b=[];_0x1991c8[_0x13e6aa(0x99f)](_0x401ded=>{const _0x3a7da8=_0x13e6aa,_0x2c26f4=_0x401ded[_0x3a7da8(0xb6)](),_0x15183e=_0x2c26f4['topics']||{};let _0x40f255=![];for(const _0x4cdf9f in _0x15183e){const _0x5b2ab8=_0x15183e[_0x4cdf9f];if(_0x5b2ab8[_0x3a7da8(0x9bd)]&&_0x5b2ab8['linkedQuizIds'][_0x3a7da8(0x39b)](_0x3f5432)){_0x40f255=!![];const _0x7a2cd3=doc(db,_0x3a7da8(0x54a)+appId+_0x3a7da8(0x30f),_0x401ded['id']),_0x3a4616=updateDoc(_0x7a2cd3,{['topics.'+_0x4cdf9f+_0x3a7da8(0xc83)]:arrayRemove(_0x3f5432)});_0x16819b[_0x3a7da8(0x3bb)](_0x3a4616);}}}),_0x16819b[_0x13e6aa(0x1d6)]>0x0&&(await Promise['all'](_0x16819b),console[_0x13e6aa(0xa7f)]('Successfully\x20removed\x20'+_0x16819b[_0x13e6aa(0x1d6)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x3f5432+'.'));}catch(_0x223521){console[_0x13e6aa(0x96)]('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x223521);}_0xab55f&&showMessage(_0x13e6aa(0x848));}catch(_0x40a4db){console[_0x13e6aa(0x96)](_0x13e6aa(0x59f),_0x40a4db),_0xab55f&&showMessage(_0x13e6aa(0xb7b));}}async function showQuizDetailView(_0x15b330){const _0x247ff4=_0x1ca595;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x247ff4(0xa4d));try{const _0x2c2355=doc(db,_0x247ff4(0x54a)+appId+_0x247ff4(0xa62),_0x15b330),_0x28f789=await getDoc(_0x2c2355);if(!_0x28f789[_0x247ff4(0xa2b)]()){showMessage(_0x247ff4(0x284));return;}const _0x227e25={'id':_0x28f789['id'],..._0x28f789[_0x247ff4(0xb6)]()};currentQuizData=_0x227e25;const _0x4ffc85=doc(db,_0x247ff4(0x54a)+appId+'/public/data/projects',_0x227e25[_0x247ff4(0x98d)]),_0x38f528=await getDoc(_0x4ffc85);_0x38f528[_0x247ff4(0xa2b)]()?(currentProjectData=_0x38f528['data'](),currentProjectId=_0x227e25['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x227e25[_0x247ff4(0x98d)]);document['getElementById'](_0x247ff4(0xce))[_0x247ff4(0xc84)]=_0x227e25[_0x247ff4(0xa64)],document[_0x247ff4(0xcac)]('results-quiz-id-display')[_0x247ff4(0xc84)]=_0x15b330;const _0x38ae80=collection(db,_0x247ff4(0x54a)+appId+'/public/data/quizzes',_0x15b330,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x38ae80,_0x298637=>{const _0x2fc033=_0x247ff4,_0x486f0f=_0x298637[_0x2fc033(0x26a)][_0x2fc033(0x201)](_0xfe5bfc=>({'id':_0xfe5bfc['id'],..._0xfe5bfc[_0x2fc033(0xb6)]()}));currentSubmissions=_0x486f0f;const _0x3ba473=_0x486f0f[_0x2fc033(0xa00)](_0x33f254=>_0x33f254['attempts']&&_0x33f254['attempts']['length']>0x0);renderBehaviorLog(_0x486f0f),renderAnswerGrid(currentProjectData['students'],_0x3ba473,_0x227e25),renderAnalytics(_0x227e25,_0x3ba473),renderQuizResultsTable(currentProjectData[_0x2fc033(0xbbc)],_0x486f0f,_0x227e25),renderQuizLeaderboard(_0x3ba473,_0x227e25,'quiz-leaderboard-table-body');}),showView('quiz-results');}catch(_0x2abfdf){console['error']('Error\x20showing\x20quiz\x20detail\x20view:',_0x2abfdf),showMessage(_0x247ff4(0x431));}}function renderAnswerGrid(_0x4c2698,_0x52e9d8,_0x1659ca){const _0x1dd672=_0x1ca595,_0x174733=document[_0x1dd672(0xcac)](_0x1dd672(0xba2));if(!_0x174733)return;if(!_0x4c2698||_0x4c2698[_0x1dd672(0x1d6)]===0x0){_0x174733['innerHTML']=_0x1dd672(0xc68);return;}const _0x448b87=_0x1659ca[_0x1dd672(0xbfe)],_0x4d3185=_0x52e9d8[_0x1dd672(0x231)]((_0x507271,_0x59e886)=>{const _0x3311cf=_0x1dd672;return _0x507271[_0x59e886[_0x3311cf(0x3ef)]]=_0x59e886,_0x507271;},{}),_0x28ee37=_0x330b89=>String[_0x1dd672(0x401)](0x41+_0x330b89),_0x1b3bab=_0x182ae2=>{const _0x41474b=_0x1dd672,_0x1a27bc=_0x182ae2['questionType']||_0x1659ca[_0x41474b(0x717)];switch(_0x1a27bc){case _0x41474b(0x801):return _0x182ae2[_0x41474b(0x63f)]&&_0x182ae2[_0x41474b(0x63f)][_0x41474b(0x1d6)]>_0x182ae2[_0x41474b(0xc75)]?_0x28ee37(_0x182ae2['correctAnswerIndex']):'-';case _0x41474b(0xcea):const _0x20d40d=_0x182ae2[_0x41474b(0xc49)]===!![]||String(_0x182ae2['correctAnswer'])[_0x41474b(0x5c9)]()===_0x41474b(0xbe7);return _0x20d40d?_0x41474b(0x89):'ไม่ใช่';case _0x41474b(0x79b):return _0x182ae2[_0x41474b(0xca2)]||'-';case'short_answer':return'พิมพ์ตอบ';default:return'-';}},_0x24e83a=(_0x530523,_0xf48bd2)=>{const _0x50032a=_0x1dd672;if(_0xf48bd2['answer']===null||_0xf48bd2['answer']===undefined)return'-';const _0x5d7d07=_0x530523[_0x50032a(0xc34)]||_0x1659ca[_0x50032a(0x717)];switch(_0x5d7d07){case _0x50032a(0x801):const _0x82751=_0x530523[_0x50032a(0x63f)]['findIndex'](_0x5619b5=>_0x5619b5===_0xf48bd2[_0x50032a(0xa5f)]);return _0x82751!==-0x1?_0x28ee37(_0x82751):_0xf48bd2[_0x50032a(0xa5f)]||'-';case _0x50032a(0xcea):if(_0xf48bd2[_0x50032a(0xd85)]=='0'||_0xf48bd2['answer']===!![]||_0xf48bd2['answer']===_0x50032a(0xbe7))return _0x50032a(0x89);return'ไม่ใช่';default:return _0xf48bd2[_0x50032a(0xd85)];}};let _0x5ade9a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x448b87[_0x1dd672(0x201)]((_0x12e38c,_0x25b75f)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x25b75f+0x1)+'</th>')['join']('')+_0x1dd672(0xac9)+_0x448b87[_0x1dd672(0x201)](_0x369890=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x1b3bab(_0x369890)+'</td>')[_0x1dd672(0xa88)]('')+_0x1dd672(0xc9c);_0x4c2698[_0x1dd672(0x99f)](_0xfdd57d=>{const _0x4e2a5a=_0x1dd672;_0x5ade9a+=_0x4e2a5a(0x4e0),_0x5ade9a+=_0x4e2a5a(0xcf2)+_0xfdd57d+_0x4e2a5a(0xb14);const _0x53040e=_0x4d3185[_0xfdd57d];if(_0x53040e){const _0x1a4449=_0x53040e[_0x4e2a5a(0x77d)][_0x53040e[_0x4e2a5a(0x77d)]['length']-0x1];_0x448b87[_0x4e2a5a(0x99f)]((_0x1913dd,_0x305f98)=>{const _0x552296=_0x4e2a5a,_0xfd8a53=_0x1a4449[_0x552296(0x54d)]['find'](_0x5c4e07=>_0x5c4e07[_0x552296(0x379)]===_0x1913dd['id']);if(_0xfd8a53){let _0x392c92='';const _0xbbc62e=_0xfd8a53['isCorrect']===!![],_0x2a804b=_0xfd8a53[_0x552296(0x5f2)]===!![]||_0xfd8a53['wasConfident']===_0x552296(0xa31),_0x59bc34=_0xfd8a53['powerupUsed'];if(_0x59bc34===_0x552296(0x8d2))_0xbbc62e?_0x392c92=_0x552296(0x20e):_0x392c92=_0x552296(0xc22);else _0x2a804b?_0x392c92=_0xbbc62e?'bg-green-400\x20text-white\x20font-bold':_0x552296(0x925):_0x392c92=_0xbbc62e?_0x552296(0x87c):_0x552296(0x9d3);_0x5ade9a+=_0x552296(0x246)+_0x392c92+'\x22>'+_0x24e83a(_0x1913dd,_0xfd8a53)+_0x552296(0xb14);}else _0x5ade9a+=_0x552296(0x22a);});}else _0x5ade9a+=_0x448b87[_0x4e2a5a(0x201)](()=>_0x4e2a5a(0x221))['join']('');_0x5ade9a+=_0x4e2a5a(0x133);}),_0x5ade9a+='</tbody></table>',_0x174733['innerHTML']=_0x5ade9a;}function renderQuizResultsTable(_0x53bda8,_0x1f5568,_0x402a2d){const _0x25b5d6=_0x1ca595,_0x442ce4=_0x1f5568['reduce']((_0x36fce6,_0x4fe813)=>{const _0x44e99c=_0x2406;return _0x36fce6[_0x4fe813[_0x44e99c(0x3ef)]]=_0x4fe813,_0x36fce6;},{}),_0x13afff=document[_0x25b5d6(0xb49)](_0x25b5d6(0x7f1));_0x13afff&&!_0x13afff[_0x25b5d6(0xcaa)][_0x25b5d6(0x39b)](_0x25b5d6(0xde))&&(_0x13afff[_0x25b5d6(0xcaa)]+=_0x25b5d6(0x65c));const _0x278713=document[_0x25b5d6(0xcac)](_0x25b5d6(0xd9d));if(!_0x53bda8||_0x53bda8['length']===0x0){_0x278713[_0x25b5d6(0xcaa)]=_0x25b5d6(0x7d9);return;}const _0xb17f39=_0x402a2d['isRemedial']===!![],_0x3e01ba=_0x402a2d[_0x25b5d6(0xaaa)]?.[_0x25b5d6(0x117)]??-0x1;let _0x5eb6e1='';_0x53bda8['forEach'](_0x78abe3=>{const _0x2cfd40=_0x25b5d6,_0x484402=_0x442ce4[_0x78abe3];let _0x6cb0e1='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0xb17f39?_0x2cfd40(0xa55):_0x2cfd40(0x1cb))+'\x22>'+(_0xb17f39?'สอบซ่อม':'สอบปกติ')+_0x2cfd40(0x43e);if(_0x484402){if(_0x484402[_0x2cfd40(0x77d)]&&_0x484402['attempts'][_0x2cfd40(0x1d6)]>0x0){let _0x1f17fe=_0xb17f39?_0x484402['bestScore']===_0x484402[_0x2cfd40(0x694)]:_0x3e01ba!==-0x1&&_0x484402[_0x2cfd40(0xdf)]>=_0x3e01ba;const _0x95550a=_0x1f17fe?'bg-green-100\x20text-green-800':_0x2cfd40(0x9d3),_0x905db3=_0x1f17fe?_0x2cfd40(0x1bc):'ไม่ผ่าน',_0x5dba9d=_0x2cfd40(0x14b)+_0x95550a+'\x22>'+_0x905db3+_0x2cfd40(0x43e),_0xb744f6='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x484402[_0x2cfd40(0x77d)]?.[_0x2cfd40(0x1d6)]||0x1)+_0x2cfd40(0x485);_0x5eb6e1+=_0x2cfd40(0x387)+_0x78abe3+_0x2cfd40(0xd1e)+_0x484402[_0x2cfd40(0xdf)]+_0x2cfd40(0x214)+_0x484402[_0x2cfd40(0x694)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dba9d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6cb0e1+_0x2cfd40(0x511)+_0x484402[_0x2cfd40(0x76f)]+_0x2cfd40(0x214)+_0x484402[_0x2cfd40(0x694)]+_0x2cfd40(0xcf8)+_0x484402['latestScore']+'\x20/\x20'+_0x484402[_0x2cfd40(0x694)]+_0x2cfd40(0x86e)+(_0x484402[_0x2cfd40(0x6aa)]||0x0)+_0x2cfd40(0xc02)+_0xb744f6+_0x2cfd40(0xd30)+new Date(_0x484402[_0x2cfd40(0x20d)])[_0x2cfd40(0x1e1)](_0x2cfd40(0x8f))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x78abe3+_0x2cfd40(0x349);}else{const _0x3f7d13='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x5eb6e1+=_0x2cfd40(0x7db)+_0x78abe3+_0x2cfd40(0x252)+_0x6cb0e1+_0x2cfd40(0x640)+_0x3f7d13+_0x2cfd40(0xd30)+new Date(_0x484402['startedAt'])[_0x2cfd40(0x1e1)](_0x2cfd40(0x8f))+_0x2cfd40(0x3ad)+_0x78abe3+_0x2cfd40(0x349);}}else{const _0x7c25a8=_0x2cfd40(0x9d0);_0x5eb6e1+=_0x2cfd40(0x930)+_0x78abe3+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6cb0e1+_0x2cfd40(0x9da)+_0x7c25a8+_0x2cfd40(0x7d6);}}),_0x278713[_0x25b5d6(0xcaa)]=_0x5eb6e1;}async function confirmRenameQuiz(){const _0x45eeb3=_0x1ca595,_0x2bfa95=document[_0x45eeb3(0xcac)]('rename-quiz-input')[_0x45eeb3(0x41e)][_0x45eeb3(0x964)]();if(!_0x2bfa95){showMessage(_0x45eeb3(0xd89));return;}if(!actionTargetId)return;const _0x588033=doc(db,_0x45eeb3(0x54a)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x588033,{'topic':_0x2bfa95}),showMessage(_0x45eeb3(0x48a)),renameQuizModal[_0x45eeb3(0x325)]['add'](_0x45eeb3(0x60b)),actionTargetId=null;}catch(_0x188d74){console[_0x45eeb3(0x96)]('Error\x20renaming\x20quiz:',_0x188d74),showMessage(_0x45eeb3(0x5da));}}async function handleMoveQuiz(_0x4f7d22){const _0x57a58c=_0x1ca595;actionTargetId=_0x4f7d22;const _0x38b17d=document[_0x57a58c(0xcac)]('move-quiz-project-select');_0x38b17d[_0x57a58c(0xcaa)]=_0x57a58c(0xbc0),moveQuizModal['classList'][_0x57a58c(0x419)](_0x57a58c(0x60b));try{const _0x214afe=collection(db,_0x57a58c(0x54a)+appId+_0x57a58c(0x737)),_0x109612=await getDocs(_0x214afe),_0x21ca5e=_0x109612[_0x57a58c(0x26a)][_0x57a58c(0x201)](_0x17036d=>({'id':_0x17036d['id'],..._0x17036d[_0x57a58c(0xb6)]()})),_0x206e39=_0x21ca5e[_0x57a58c(0xa00)](_0x1472be=>_0x1472be['id']!==currentProjectId);if(_0x206e39[_0x57a58c(0x1d6)]===0x0){_0x38b17d[_0x57a58c(0xcaa)]=_0x57a58c(0x355),document[_0x57a58c(0xcac)]('confirm-move-quiz-btn')[_0x57a58c(0x25a)]=!![];return;}_0x38b17d[_0x57a58c(0xcaa)]=_0x206e39[_0x57a58c(0x201)](_0x355432=>_0x57a58c(0xb8c)+_0x355432['id']+'\x22>'+_0x355432['projectName']+_0x57a58c(0x603))['join'](''),document[_0x57a58c(0xcac)]('confirm-move-quiz-btn')[_0x57a58c(0x25a)]=![];}catch(_0x257446){console[_0x57a58c(0x96)](_0x57a58c(0x96a),_0x257446),showMessage(_0x57a58c(0xd60)),moveQuizModal[_0x57a58c(0x325)]['add']('hidden');}}async function confirmMoveQuiz(){const _0x1b083d=_0x1ca595,_0x5ab099=document[_0x1b083d(0xcac)](_0x1b083d(0x33e))['value'];if(!_0x5ab099){showMessage(_0x1b083d(0xb16));return;}if(!actionTargetId)return;const _0x89f991=doc(db,_0x1b083d(0x54a)+appId+_0x1b083d(0xa62),actionTargetId);try{await updateDoc(_0x89f991,{'projectId':_0x5ab099}),showMessage(_0x1b083d(0xb2e)),moveQuizModal[_0x1b083d(0x325)][_0x1b083d(0xd3c)](_0x1b083d(0x60b)),actionTargetId=null;}catch(_0x347398){console[_0x1b083d(0x96)](_0x1b083d(0x8af),_0x347398),showMessage(_0x1b083d(0x427));}}async function handleQuizSettings(_0x208a25){const _0x21610d=_0x1ca595;actionTargetId=_0x208a25;const _0x497f00=doc(db,_0x21610d(0x54a)+appId+_0x21610d(0xa62),_0x208a25);try{const _0x2d7591=await getDoc(_0x497f00);if(_0x2d7591[_0x21610d(0xa2b)]()){const _0x1cefdd=_0x2d7591[_0x21610d(0xb6)](),_0x5635d9=_0x1cefdd[_0x21610d(0xaaa)]||{},_0x76a85d=_0x1cefdd[_0x21610d(0xbfe)][_0x21610d(0x1d6)];document[_0x21610d(0xcac)](_0x21610d(0x719))[_0x21610d(0x41e)]=_0x5635d9[_0x21610d(0x7b1)]||_0x21610d(0x2c2),document['getElementById'](_0x21610d(0x715))['value']=_0x5635d9['resultsDisplay']||'show_results_and_answers',document['getElementById']('modal-timer-mode-select')[_0x21610d(0x41e)]=_0x5635d9[_0x21610d(0x233)]||_0x21610d(0x2c2),document[_0x21610d(0xcac)](_0x21610d(0x46d))['value']=_0x5635d9[_0x21610d(0xa4b)]||0xa,document['getElementById'](_0x21610d(0x5a7))[_0x21610d(0x41e)]=_0x5635d9[_0x21610d(0x117)]||Math[_0x21610d(0xd51)](_0x76a85d/0x2),document[_0x21610d(0xcac)]('modal-passing-score-input')[_0x21610d(0xdb)]=_0x76a85d,document[_0x21610d(0xcac)](_0x21610d(0x107))[_0x21610d(0xa81)]=_0x5635d9[_0x21610d(0x83b)]||![],document[_0x21610d(0xcac)]('modal-loop-until-pass-checkbox')[_0x21610d(0xa81)]=_0x5635d9['loopUntilPass']||![];const _0x5d3c1f=_0x5635d9['isConfidenceScoringEnabled']||![];document['getElementById'](_0x21610d(0xc6c))['checked']=_0x5d3c1f,document[_0x21610d(0xcac)]('modal-confidence-mode-select')[_0x21610d(0x41e)]=_0x5635d9['confidenceMode']||_0x21610d(0xbc5);const _0x30672c=document['getElementById']('modal-confidence-mode-container');_0x30672c[_0x21610d(0x325)][_0x21610d(0x1a3)](_0x21610d(0x60b),!_0x5d3c1f),document[_0x21610d(0xcac)](_0x21610d(0x8d1))[_0x21610d(0x4bb)](new Event(_0x21610d(0x394))),quizSettingsModal['classList'][_0x21610d(0x419)]('hidden');}else showMessage(_0x21610d(0x284));}catch(_0x58b798){console[_0x21610d(0x96)](_0x21610d(0xa2e),_0x58b798),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x283609=_0x1ca595;if(!actionTargetId)return;const _0x3d9877=doc(db,'artifacts/'+appId+_0x283609(0xa62),actionTargetId),_0x3e21d5={'shuffle':document[_0x283609(0xcac)](_0x283609(0x719))[_0x283609(0x41e)],'resultsDisplay':document[_0x283609(0xcac)](_0x283609(0x715))[_0x283609(0x41e)],'timerMode':document[_0x283609(0xcac)]('modal-timer-mode-select')[_0x283609(0x41e)],'timerDuration':parseInt(document[_0x283609(0xcac)](_0x283609(0x46d))[_0x283609(0x41e)])||0xa,'passingScore':parseInt(document['getElementById'](_0x283609(0x5a7))[_0x283609(0x41e)])||0x0,'isAdaptive':document[_0x283609(0xcac)](_0x283609(0x107))[_0x283609(0xa81)],'loopUntilPass':document['getElementById'](_0x283609(0x637))[_0x283609(0xa81)],'isConfidenceScoringEnabled':document['getElementById'](_0x283609(0xc6c))[_0x283609(0xa81)],'confidenceMode':document[_0x283609(0xcac)](_0x283609(0x1c8))['value']};try{await updateDoc(_0x3d9877,{'settings':_0x3e21d5}),showMessage(_0x283609(0x818)),quizSettingsModal[_0x283609(0x325)][_0x283609(0xd3c)]('hidden'),actionTargetId=null;}catch(_0x590a1e){console['error'](_0x283609(0x2f2),_0x590a1e),showMessage(_0x283609(0xcb6));}}async function confirmQuizStatus(){const _0xed55f6=_0x1ca595;if(!actionTargetId)return;const _0x4ecfbf=doc(db,_0xed55f6(0x54a)+appId+'/public/data/quizzes',actionTargetId),_0x176eb1=document[_0xed55f6(0xb49)](_0xed55f6(0x67d));if(!_0x176eb1){showMessage(_0xed55f6(0xce7));return;}const _0x1b740e=_0x176eb1[_0xed55f6(0x41e)];let _0x52e503={};if(_0x1b740e===_0xed55f6(0x6a2)||_0x1b740e===_0xed55f6(0xc3f))_0x52e503={'status':_0x1b740e,'startTime':null,'endTime':null};else{if(_0x1b740e===_0xed55f6(0xb5c)){const _0x2b9061=document['getElementById'](_0xed55f6(0x458))['value'],_0x2c5476=document[_0xed55f6(0xcac)](_0xed55f6(0xba1))[_0xed55f6(0x41e)];if(!_0x2b9061&&!_0x2c5476){showMessage(_0xed55f6(0x271));return;}_0x52e503={'status':_0xed55f6(0x150),'startTime':_0x2b9061?new Date(_0x2b9061)[_0xed55f6(0x8d)]():null,'endTime':_0x2c5476?new Date(_0x2c5476)[_0xed55f6(0x8d)]():null};}}try{await updateDoc(_0x4ecfbf,_0x52e503),showMessage(_0xed55f6(0x8dd)),quizStatusModal[_0xed55f6(0x325)]['add']('hidden'),actionTargetId=null;}catch(_0x3d8e6e){console[_0xed55f6(0x96)](_0xed55f6(0x47c),_0x3d8e6e),showMessage(_0xed55f6(0x8ed));}}function listenForStudentProfiles(_0x22b4e4){const _0x1cbc17=_0x1ca595,_0x23e816=collection(db,_0x1cbc17(0x54a)+appId+_0x1cbc17(0x853)+_0x22b4e4+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x23e816,_0x409ba9=>{const _0x4a02f1=_0x1cbc17,_0xd870a8=_0x409ba9['docs'][_0x4a02f1(0x201)](_0x312581=>_0x312581[_0x4a02f1(0xb6)]());renderLeaderboard(_0xd870a8,_0x4a02f1(0xadd));},_0x43cf77=>{const _0x3b2c1e=_0x1cbc17;console[_0x3b2c1e(0x96)](_0x3b2c1e(0xc1d),_0x43cf77),document['getElementById'](_0x3b2c1e(0xadd))[_0x3b2c1e(0xcaa)]=_0x3b2c1e(0x32e);});}function renderLeaderboard(_0x48ef78,_0x24e47a){const _0x96f378=_0x1ca595,_0xfce050=document[_0x96f378(0xcac)](_0x24e47a);if(!_0x48ef78||_0x48ef78[_0x96f378(0x1d6)]===0x0){_0xfce050[_0x96f378(0xcaa)]=_0x96f378(0xcb3);return;}_0x48ef78['sort']((_0x53e3e0,_0x168174)=>{const _0x4c9905=_0x96f378,_0x3fd956=(_0x168174[_0x4c9905(0x9c8)]||0x0)-(_0x53e3e0[_0x4c9905(0x9c8)]||0x0);if(_0x3fd956!==0x0)return _0x3fd956;const _0x372ba4=(_0x168174['badgesCount']?.[_0x4c9905(0x242)]||0x0)-(_0x53e3e0[_0x4c9905(0x544)]?.['specialist']||0x0);if(_0x372ba4!==0x0)return _0x372ba4;const _0xb220bd=(_0x168174[_0x4c9905(0x544)]?.[_0x4c9905(0xcfb)]||0x0)-(_0x53e3e0['badgesCount']?.['first_try_ace']||0x0);if(_0xb220bd!==0x0)return _0xb220bd;const _0x21a494=(_0x168174['badgesCount']?.[_0x4c9905(0x341)]||0x0)-(_0x53e3e0[_0x4c9905(0x544)]?.[_0x4c9905(0x341)]||0x0);if(_0x21a494!==0x0)return _0x21a494;const _0x48edaf=(_0x168174['badgesCount']?.[_0x4c9905(0xcfa)]||0x0)-(_0x53e3e0[_0x4c9905(0x544)]?.[_0x4c9905(0xcfa)]||0x0);if(_0x48edaf!==0x0)return _0x48edaf;return _0x53e3e0['studentName'][_0x4c9905(0xbf1)](_0x168174[_0x4c9905(0x3ef)],'th');});let _0x576a84='';_0x48ef78[_0x96f378(0x99f)]((_0x3756f4,_0x58490b)=>{const _0x1c5e64=_0x96f378,_0x5c6966=_0x58490b+0x1,_0x1c544b=_0x3756f4[_0x1c5e64(0x544)]||{};let _0xee658='';const _0x17e685=[_0x1c5e64(0x242),_0x1c5e64(0x341),'first_try_ace',_0x1c5e64(0xcfa)];_0x17e685[_0x1c5e64(0x99f)](_0x5f5e0d=>{const _0x35ce7e=_0x1c5e64;if(_0x1c544b[_0x5f5e0d]>0x0){const _0x468444=Object['values'](BADGES)['find'](_0x4f8ae5=>_0x4f8ae5['id']===_0x5f5e0d);_0x468444&&(_0x5f5e0d===_0x35ce7e(0x242)?_0xee658+=_0x35ce7e(0x25d)+_0x468444[_0x35ce7e(0xd33)]+_0x35ce7e(0x6d1)+_0x468444[_0x35ce7e(0x17c)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xee658+=_0x35ce7e(0x25d)+_0x468444[_0x35ce7e(0xd33)]+'\x20('+_0x1c544b[_0x5f5e0d]+_0x35ce7e(0x4b9)+_0x468444[_0x35ce7e(0x17c)]+_0x35ce7e(0xaac)+_0x1c544b[_0x5f5e0d]+_0x35ce7e(0x93b));}}),_0x576a84+=_0x1c5e64(0xf6)+_0x5c6966+_0x1c5e64(0xa24)+_0x3756f4[_0x1c5e64(0x3ef)]+_0x1c5e64(0xd2f)+(_0x3756f4[_0x1c5e64(0x9c8)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0xee658||'-')+_0x1c5e64(0x93);}),_0xfce050['innerHTML']=_0x576a84;}function displayLoopScreen(_0x2ad430,_0x287f60,_0x26d756){const _0x3ee17f=_0x1ca595;let _0x4c2dab='';_0x26d756!==_0x3ee17f(0x566)&&(_0x4c2dab='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x2ad430+_0x3ee17f(0x214)+_0x287f60+'</strong></p>');const _0x43f51a=_0x3ee17f(0x783)+_0x4c2dab+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3ee17f(0xcaa)]=_0x43f51a,studentResultArea['classList'][_0x3ee17f(0x419)]('hidden'),studentQuizArea[_0x3ee17f(0x325)][_0x3ee17f(0xd3c)](_0x3ee17f(0x60b)),document[_0x3ee17f(0xcac)](_0x3ee17f(0x370))[_0x3ee17f(0x8d3)](_0x3ee17f(0xc47),()=>{const _0x850903=_0x3ee17f;studentResultArea['classList']['add'](_0x850903(0x60b)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x13fa7a,_0x2c46eb,_0x244346){const _0x1e0641=_0x1ca595,_0x498b61=document['getElementById'](_0x244346),_0x38a279=_0x244346===_0x1e0641(0x3b0),_0x3ae44d=_0x2c46eb[_0x1e0641(0xbfe)][_0x1e0641(0x1d6)],_0x22aeb7=document[_0x1e0641(0xcac)](_0x244346)[_0x1e0641(0x2d3)](_0x1e0641(0x575));if(_0x22aeb7&&!_0x38a279){const _0x241ae4=_0x22aeb7[_0x1e0641(0xb49)](_0x1e0641(0x8f0));_0x241ae4['innerHTML']=_0x1e0641(0x800);}if(!_0x13fa7a||_0x13fa7a['length']===0x0){_0x498b61['innerHTML']='<tr><td\x20colspan=\x22'+(_0x38a279?0x6:0x8)+_0x1e0641(0x49f);return;}const _0x16158a=[..._0x13fa7a];_0x16158a[_0x1e0641(0xb2f)]((_0x58478b,_0x227ae8)=>{const _0x38aac6=_0x1e0641;let _0x16bbc3,_0x33bf29;switch(quizLeaderboardSortBy){case _0x38aac6(0x3ef):_0x16bbc3=_0x58478b[_0x38aac6(0x3ef)]||'',_0x33bf29=_0x227ae8['studentName']||'';return quizLeaderboardSortOrder===_0x38aac6(0x169)?_0x16bbc3[_0x38aac6(0xbf1)](_0x33bf29,'th'):_0x33bf29[_0x38aac6(0xbf1)](_0x16bbc3,'th');case _0x38aac6(0x6aa):_0x16bbc3=_0x58478b[_0x38aac6(0x6aa)]||0x0,_0x33bf29=_0x227ae8[_0x38aac6(0x6aa)]||0x0;break;case _0x38aac6(0x77d):_0x16bbc3=_0x58478b[_0x38aac6(0x77d)]?.[_0x38aac6(0x1d6)]||0x1,_0x33bf29=_0x227ae8['attempts']?.[_0x38aac6(0x1d6)]||0x1;break;case'latestSubmittedAt':_0x16bbc3=new Date(_0x58478b['latestSubmittedAt']),_0x33bf29=new Date(_0x227ae8[_0x38aac6(0x20d)]);break;case _0x38aac6(0xdf):default:_0x16bbc3=_0x58478b[_0x38aac6(0xdf)],_0x33bf29=_0x227ae8[_0x38aac6(0xdf)];break;}if(_0x16bbc3<_0x33bf29)return quizLeaderboardSortOrder===_0x38aac6(0x169)?-0x1:0x1;if(_0x16bbc3>_0x33bf29)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x102d48=_0x2c46eb['isRemedial']===!![],_0x3fb3dd=_0x2c46eb[_0x1e0641(0xaaa)]?.[_0x1e0641(0x117)]??-0x1;let _0x2746b2='';_0x16158a[_0x1e0641(0x99f)]((_0x4455b5,_0x5d4017)=>{const _0x11ae51=_0x1e0641,_0x328018=_0x5d4017+0x1;let _0x4a9fb5='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x102d48||_0x3fb3dd!==-0x1){let _0x3dab18=_0x102d48?_0x4455b5[_0x11ae51(0xdf)]===_0x3ae44d:_0x4455b5[_0x11ae51(0xdf)]>=_0x3fb3dd;const _0x30686f=_0x3dab18?_0x11ae51(0x87c):'bg-red-100\x20text-red-800',_0x1e5e93=_0x3dab18?'ผ่าน':_0x11ae51(0xace);_0x4a9fb5=_0x11ae51(0x597)+_0x30686f+'\x22>'+_0x1e5e93+'</span></td>';}const _0x4bb124=_0x4455b5[_0x11ae51(0x77d)][_0x4455b5[_0x11ae51(0x77d)][_0x11ae51(0x1d6)]-0x1],_0x35215a=(_0x4bb124[_0x11ae51(0xb40)]||[])[_0x11ae51(0x201)](_0x2bca28=>{const _0x299b1e=_0x11ae51,_0x4d5589=Object[_0x299b1e(0xc7b)](BADGES)[_0x299b1e(0x2f4)](_0x1a912a=>_0x1a912a['id']===_0x2bca28);return _0x4d5589?_0x299b1e(0x642)+_0x4d5589[_0x299b1e(0xd33)]+_0x299b1e(0xa19)+_0x4d5589[_0x299b1e(0x17c)]+_0x299b1e(0x85a):'';})[_0x11ae51(0xa88)]('');_0x2746b2+=_0x11ae51(0x363)+_0x328018+_0x11ae51(0x6d3)+_0x4455b5[_0x11ae51(0x3ef)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x4455b5[_0x11ae51(0xdf)]+_0x11ae51(0x214)+_0x3ae44d+_0x11ae51(0x2a4)+_0x4a9fb5+_0x11ae51(0xb6d)+(_0x4455b5[_0x11ae51(0x6aa)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x38a279?'':_0x11ae51(0x7c5)+(_0x4455b5[_0x11ae51(0x77d)]?.[_0x11ae51(0x1d6)]||0x1)+_0x11ae51(0xb14))+_0x11ae51(0x6c4)+(_0x38a279?'':_0x11ae51(0x447)+new Date(_0x4455b5[_0x11ae51(0x20d)])[_0x11ae51(0x1e1)](_0x11ae51(0x8f))+_0x11ae51(0xb14))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x35215a||'-')+_0x11ae51(0xa6d);}),_0x498b61[_0x1e0641(0xcaa)]=_0x2746b2,_0x22aeb7&&!_0x38a279&&_0x22aeb7[_0x1e0641(0x20a)]('thead\x20.sortable-header')[_0x1e0641(0x99f)](_0x31b24e=>{const _0x27f755=_0x1e0641,_0x176989=_0x31b24e[_0x27f755(0xb49)](_0x27f755(0x413));if(_0x176989)_0x176989[_0x27f755(0x419)]();_0x31b24e['dataset'][_0x27f755(0xb2f)]===quizLeaderboardSortBy&&(_0x31b24e[_0x27f755(0xcaa)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x2b12fa){const _0x40f721=_0x1ca595;if(!currentQuizData||!currentQuizData['id']||!_0x2b12fa){showMessage(_0x40f721(0x3a2));return;}showConfirmation(_0x40f721(0x42a)+_0x2b12fa+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0xbfc38f=_0x40f721,_0x31c28e=currentQuizData['id'],_0x128e0c=doc(db,_0xbfc38f(0x54a)+appId+'/public/data/quizzes/'+_0x31c28e+_0xbfc38f(0x12a),_0x2b12fa);try{await deleteDoc(_0x128e0c),showMessage(_0xbfc38f(0x57f)+_0x2b12fa+_0xbfc38f(0x5ee));}catch(_0x2e7c37){console[_0xbfc38f(0x96)](_0xbfc38f(0xba3),_0x2e7c37),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x441340=_0x1ca595,_0x47f819=document['getElementById']('quiz-id-input'),_0x218d78=_0x47f819[_0x441340(0x41e)][_0x441340(0x964)]();if(!_0x218d78){showMessage(_0x441340(0x8d4));return;}loadQuizBtn[_0x441340(0x25a)]=!![],loadQuizBtn[_0x441340(0xcaa)]=_0x441340(0x881);try{const _0x463b77=doc(db,'artifacts/'+appId+_0x441340(0xa62),_0x218d78),_0x88ed7=await getDoc(_0x463b77);if(!_0x88ed7[_0x441340(0xa2b)]()){showMessage(_0x441340(0xd5));return;}currentQuizData={'id':_0x88ed7['id'],..._0x88ed7[_0x441340(0xb6)]()};const _0x5cf9b0=currentQuizData[_0x441340(0x670)]||_0x441340(0x6a2),_0x4be9a9=new Date();if(_0x5cf9b0==='inactive'){showMessage(_0x441340(0x3ff));return;}if(_0x5cf9b0===_0x441340(0x150)){const _0xddccd5=currentQuizData[_0x441340(0xb9e)]?new Date(currentQuizData[_0x441340(0xb9e)]):null,_0x566ca2=currentQuizData[_0x441340(0x8ea)]?new Date(currentQuizData[_0x441340(0x8ea)]):null;if(_0xddccd5&&_0x4be9a9<_0xddccd5){showMessage(_0x441340(0x9d2)+_0xddccd5[_0x441340(0x1e1)](_0x441340(0x8f),{'hour12':![]}));return;}if(_0x566ca2&&_0x4be9a9>_0x566ca2){showMessage(_0x441340(0x778));return;}}const _0xf68bc0=currentQuizData['projectId'];currentProjectId=_0xf68bc0;const _0x1aa343=doc(db,_0x441340(0x54a)+appId+_0x441340(0x737),_0xf68bc0),_0xc8eb01=await getDoc(_0x1aa343);if(!_0xc8eb01['exists']()){showMessage(_0x441340(0x320));return;}const _0x23b0f6=_0xc8eb01[_0x441340(0xb6)]();currentStudentProjectData=_0x23b0f6,displayStudentNameSelector(_0x23b0f6[_0x441340(0xbbc)],currentQuizData[_0x441340(0xa64)]);}catch(_0xd3a5bd){console['error'](_0x441340(0x5a3),_0xd3a5bd),showMessage(_0x441340(0xc79));}finally{loadQuizBtn[_0x441340(0x25a)]=![],loadQuizBtn[_0x441340(0xcaa)]=_0x441340(0xf0);}}async function handleJoinLiveGame(){const _0x231366=_0x1ca595,_0x23a666=document['getElementById'](_0x231366(0x184)),_0x19a0b4=document['getElementById']('nickname-input'),_0x21880a=document[_0x231366(0xcac)](_0x231366(0x4f0)),_0x590f16=_0x23a666[_0x231366(0x41e)]['trim'](),_0x526105=_0x19a0b4[_0x231366(0x41e)][_0x231366(0x964)]();if(!_0x590f16||!_0x526105){showMessage(_0x231366(0x1ca));return;}_0x21880a[_0x231366(0x25a)]=!![],_0x21880a[_0x231366(0xcaa)]=_0x231366(0xa68);try{const _0x53a458=collection(db,_0x231366(0x54a)+appId+_0x231366(0x894)),_0x25e189=query(_0x53a458,where(_0x231366(0x62d),'==',_0x590f16),where(_0x231366(0x670),'in',[_0x231366(0xc7a),_0x231366(0xc52)])),_0xc88238=await getDocs(_0x25e189);if(_0xc88238[_0x231366(0x699)]){showMessage(_0x231366(0x41d));return;}const _0x35392e=_0xc88238[_0x231366(0x26a)][0x0],_0x3bc592=_0x35392e['data']();currentLiveGameId=_0x35392e['id'];const _0x5f35aa=_0x3bc592[_0x231366(0x57b)],_0x5881ff=doc(db,_0x231366(0x54a)+appId+'/public/data/quizzes',_0x5f35aa),_0x8e5d80=await getDoc(_0x5881ff);if(!_0x8e5d80[_0x231366(0xa2b)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x8e5d80['id'],..._0x8e5d80[_0x231366(0xb6)]()};if(_0x3bc592[_0x231366(0x1ff)]&&_0x3bc592[_0x231366(0x1ff)][_0x526105]){const _0x484907=_0x3bc592[_0x231366(0x1ff)][_0x526105];if(_0x484907[_0x231366(0x670)]==='inactive'){_0x21880a[_0x231366(0xcaa)]=_0x231366(0x6ee);const _0xd84e1c={};_0xd84e1c[_0x231366(0x8d5)+_0x526105+_0x231366(0x410)]=_0x231366(0x6a2),await updateDoc(doc(db,_0x231366(0x54a)+appId+_0x231366(0x894),currentLiveGameId),_0xd84e1c),showView('live-game'),currentStudentName=_0x526105,listenForLiveGameUpdates();return;}else{showMessage(_0x231366(0x35a));return;}}if(_0x3bc592[_0x231366(0x670)]!==_0x231366(0xc7a)){showMessage(_0x231366(0x488));return;}_0x21880a['innerHTML']=_0x231366(0x835);const _0x20704e={};_0x20704e['players.'+_0x526105]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x231366(0x54a)+appId+_0x231366(0x894),currentLiveGameId),_0x20704e),currentStudentName=_0x526105,listenForLiveGameUpdates();}catch(_0x5ae405){console[_0x231366(0x96)](_0x231366(0xa6),_0x5ae405),showMessage(_0x231366(0x869));}finally{_0x21880a[_0x231366(0x25a)]=![],_0x21880a[_0x231366(0xcaa)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x11fbca,_0x3a86a4){const _0x2f1a46=_0x1ca595,_0x205b56=document[_0x2f1a46(0xcac)](_0x2f1a46(0xa01));document[_0x2f1a46(0xcac)](_0x2f1a46(0xa7))[_0x2f1a46(0xc84)]=_0x2f1a46(0x8e2)+_0x3a86a4,!_0x11fbca||_0x11fbca['length']===0x0?(_0x205b56['innerHTML']='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x2f1a46(0x25a)]=!![]):(_0x205b56[_0x2f1a46(0xcaa)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x11fbca[_0x2f1a46(0x99f)](_0x226e12=>{const _0xe14004=_0x2f1a46,_0x43d094=document['createElement'](_0xe14004(0xc5b));_0x43d094[_0xe14004(0x41e)]=_0x226e12,_0x43d094[_0xe14004(0xc84)]=_0x226e12,_0x205b56[_0xe14004(0x1d2)](_0x43d094);}),startQuizBtn[_0x2f1a46(0x25a)]=![]),studentInitialView['classList'][_0x2f1a46(0xd3c)](_0x2f1a46(0x60b)),studentNameSelectionView[_0x2f1a46(0x325)]['remove'](_0x2f1a46(0x60b));}function shuffleArray(_0x2713b0){const _0x23898b=_0x1ca595;for(let _0x1a0ab5=_0x2713b0[_0x23898b(0x1d6)]-0x1;_0x1a0ab5>0x0;_0x1a0ab5--){const _0x21d6fc=Math[_0x23898b(0xd51)](Math[_0x23898b(0x6b8)]()*(_0x1a0ab5+0x1));[_0x2713b0[_0x1a0ab5],_0x2713b0[_0x21d6fc]]=[_0x2713b0[_0x21d6fc],_0x2713b0[_0x1a0ab5]];}}function getShuffledQuiz(_0x3376b5){const _0x4f4e7b=_0x1ca595;let _0x1439b0=JSON[_0x4f4e7b(0x444)](JSON[_0x4f4e7b(0x71f)](_0x3376b5));const _0x36e023=_0x1439b0[_0x4f4e7b(0xaaa)]?.[_0x4f4e7b(0x7b1)]||_0x4f4e7b(0x2c2);if(_0x36e023===_0x4f4e7b(0x2c2))return _0x1439b0;return(_0x36e023===_0x4f4e7b(0x9ee)||_0x36e023===_0x4f4e7b(0x7ba))&&shuffleArray(_0x1439b0[_0x4f4e7b(0xbfe)]),(_0x36e023==='choices_only'||_0x36e023===_0x4f4e7b(0x7ba))&&_0x1439b0[_0x4f4e7b(0xbfe)]['forEach'](_0x14d794=>{const _0x570cb8=_0x4f4e7b,_0x579d31=_0x14d794['questionType']||_0x1439b0[_0x570cb8(0x717)];if(_0x14d794[_0x570cb8(0x63f)]){let _0x3e88ef=_0x14d794['options'][_0x570cb8(0x201)]((_0x48916b,_0x4b3077)=>({'text':_0x48916b,'isCorrect':_0x4b3077===_0x14d794[_0x570cb8(0xc75)]}));shuffleArray(_0x3e88ef),_0x14d794[_0x570cb8(0x63f)]=_0x3e88ef['map'](_0x3824f3=>_0x3824f3[_0x570cb8(0xb20)]),_0x14d794['correctAnswerIndex']=_0x3e88ef['findIndex'](_0x46a83a=>_0x46a83a['isCorrect']);}_0x579d31==='matching_item'&&_0x14d794['allResponses']&&shuffleArray(_0x14d794[_0x570cb8(0x698)]);}),_0x1439b0;}function displayQuizForStudent(_0x109cd4){const _0x273475=_0x1ca595;studentQuizArea[_0x273475(0x325)][_0x273475(0x419)](_0x273475(0x60b)),currentDisplayedQuiz=getShuffledQuiz(_0x109cd4);currentMode!==_0x273475(0xc58)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x273475(0x8d3)](_0x273475(0x23b),handleFullscreenChange),document[_0x273475(0x8d3)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x273475(0x8d3)](_0x273475(0xc8b),resetDimTimer),window['addEventListener'](_0x273475(0x13e),resetDimTimer),window[_0x273475(0x8d3)](_0x273475(0x3a5),resetDimTimer),window[_0x273475(0x8d3)](_0x273475(0xc15),resetDimTimer),resetDimTimer());const _0x5636b1=currentDisplayedQuiz[_0x273475(0xaaa)]?.[_0x273475(0x233)]||_0x273475(0x2c2);if(_0x5636b1===_0x273475(0xad7))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x273475(0xaaa)][_0x273475(0xa4b)]);else _0x5636b1===_0x273475(0x308)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0xe5506c=_0x1ca595,_0x340a38=currentDisplayedQuiz[_0xe5506c(0xaaa)]?.['isConfidenceScoringEnabled']===!![],_0x223816=currentDisplayedQuiz['settings']?.['confidenceMode']||_0xe5506c(0xbc5);let _0x5abaca=_0xe5506c(0xb90)+currentDisplayedQuiz[_0xe5506c(0xa64)]+_0xe5506c(0x1d5)+(currentMode===_0xe5506c(0xc58)?_0xe5506c(0x47a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0xe5506c(0xbfe)][_0xe5506c(0x99f)]((_0xe8c5b0,_0x3e148a)=>{const _0x4d8913=_0xe5506c,_0x1485c5=_0xe8c5b0[_0x4d8913(0xc34)]||currentDisplayedQuiz[_0x4d8913(0x717)];_0x5abaca+=_0x4d8913(0xbac);if(_0x1485c5==='matching_item'){}else _0x5abaca+=_0x4d8913(0x9db)+(_0x3e148a+0x1)+'.\x20'+(_0xe8c5b0[_0x4d8913(0x1af)]||_0xe8c5b0[_0x4d8913(0x6f3)])+_0x4d8913(0xba),_0xe8c5b0['imageCode']&&(_0x5abaca+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xe8c5b0[_0x4d8913(0x2d0)]+_0x4d8913(0x4dd));_0x5abaca+=_0x4d8913(0xa75);switch(_0x1485c5){case'short_answer':_0x5abaca+=_0x4d8913(0x7e3)+_0x3e148a+_0x4d8913(0xaf);break;case'true_false':_0x5abaca+=_0x4d8913(0x3a8)+_0x3e148a+'_opt0\x22\x20name=\x22question'+_0x3e148a+_0x4d8913(0x2f8)+_0x3e148a+_0x4d8913(0xb13),_0x5abaca+=_0x4d8913(0x3a8)+_0x3e148a+_0x4d8913(0xa73)+_0x3e148a+_0x4d8913(0x4a1)+_0x3e148a+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x4d8913(0x79b):_0x5abaca+=_0x4d8913(0x5ce)+_0xe8c5b0[_0x4d8913(0x216)]+_0x4d8913(0x68e)+_0x3e148a+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe8c5b0['allResponses'][_0x4d8913(0x201)](_0x5d891a=>_0x4d8913(0xb8c)+_0x5d891a+'\x22>'+_0x5d891a+_0x4d8913(0x603))[_0x4d8913(0xa88)]('')+_0x4d8913(0xbce);break;default:_0x5abaca+=_0xe8c5b0[_0x4d8913(0x63f)]['map']((_0x2959bb,_0x3451d7)=>_0x4d8913(0x834)+_0x3e148a+'_opt'+_0x3451d7+_0x4d8913(0x279)+_0x3e148a+_0x4d8913(0xcaf)+_0x3451d7+_0x4d8913(0x1fc)+_0x3e148a+_0x4d8913(0xd7e)+_0x3451d7+'\x22>'+_0x2959bb+_0x4d8913(0x307))[_0x4d8913(0xa88)]('');break;}_0x5abaca+=_0x4d8913(0x4dd),_0x340a38&&(_0x5abaca+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x223816===_0x4d8913(0x5a2)?_0x5abaca+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x3e148a+_0x4d8913(0x114)+_0x3e148a+_0x4d8913(0x531)+_0x3e148a+_0x4d8913(0xc5c)+_0x3e148a+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x5abaca+=_0x4d8913(0xbcc)+_0x3e148a+_0x4d8913(0x114)+_0x3e148a+_0x4d8913(0x440)+_0x3e148a+_0x4d8913(0x8d9),_0x5abaca+=_0x4d8913(0x4dd)),_0x5abaca+='</div>';}),_0x5abaca+=_0xe5506c(0x16c),_0x5abaca+='</form>',studentQuizArea[_0xe5506c(0xcaa)]=_0x5abaca;if(currentMode==='admin-testing'){const _0x47947a=document[_0xe5506c(0xcac)](_0xe5506c(0x54e));if(_0x47947a)_0x47947a['addEventListener']('click',cancelAdminTest);}const _0x275067=document[_0xe5506c(0xcac)](_0xe5506c(0xa1));_0x275067&&(_0x275067[_0xe5506c(0x8d3)](_0xe5506c(0xb83),handleSubmitQuiz),_0x275067[_0xe5506c(0x8d3)](_0xe5506c(0xc47),_0x5a948e=>{const _0xfc7f5=_0xe5506c;if(_0x5a948e['target'][_0xfc7f5(0x325)][_0xfc7f5(0x9e8)](_0xfc7f5(0x90a))){const _0x933d9a=_0x5a948e['target'],_0xfd44fc=_0x933d9a[_0xfc7f5(0x1e8)][_0xfc7f5(0x65b)],_0x1c8f43=_0x933d9a[_0xfc7f5(0x1e8)][_0xfc7f5(0x41e)];document[_0xfc7f5(0xcac)]('confidence-input-'+_0xfd44fc)[_0xfc7f5(0x41e)]=_0x1c8f43;const _0x46c2d8=_0x933d9a[_0xfc7f5(0x299)];_0x46c2d8[_0xfc7f5(0x20a)](_0xfc7f5(0x353))[_0xfc7f5(0x99f)](_0x34937e=>_0x34937e[_0xfc7f5(0x325)][_0xfc7f5(0x419)](_0xfc7f5(0x6a2))),_0x933d9a[_0xfc7f5(0x325)]['add'](_0xfc7f5(0x6a2));}}));if(window[_0xe5506c(0x4a4)])window[_0xe5506c(0x4a4)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x1abc1b){const _0x288d41=_0x1ca595;if(_0x1abc1b)_0x1abc1b[_0x288d41(0xd43)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x320b21=document[_0x288d41(0xcac)](_0x288d41(0xa1));if(!_0x320b21)return;const _0x45d4b6=currentDisplayedQuiz[_0x288d41(0xaaa)]?.[_0x288d41(0xc89)]===!![],_0x1ec3ae=currentDisplayedQuiz[_0x288d41(0xaaa)]?.[_0x288d41(0x18d)]||'checkbox';if(_0x45d4b6&&_0x1ec3ae===_0x288d41(0x5a2)){let _0x1c3ac0=!![];for(let _0xee735c=0x0;_0xee735c<currentDisplayedQuiz[_0x288d41(0xbfe)][_0x288d41(0x1d6)];_0xee735c++){const _0x341d06=_0x320b21[_0x288d41(0xb49)](_0x288d41(0x579)+_0xee735c);if(!_0x341d06||_0x341d06['value']===''){_0x1c3ac0=![];break;}}if(!_0x1c3ac0){showMessage(_0x288d41(0xfe));return;}}const _0x3b2dfb=_0x320b21['querySelector'](_0x288d41(0xd11)),_0x4ab359=currentDisplayedQuiz['questions'][_0x288d41(0x527)](_0x226544=>_0x226544[_0x288d41(0xc34)]===_0x288d41(0xbf6));_0x3b2dfb&&(_0x3b2dfb[_0x288d41(0x25a)]=!![],_0x3b2dfb[_0x288d41(0xcaa)]=_0x4ab359?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x38edad=new FormData(_0x320b21),_0x56fec1=currentDisplayedQuiz[_0x288d41(0xbfe)]['map']((_0x2c000c,_0x141f45)=>{const _0x124869=_0x288d41,_0x173bfd=_0x38edad['get'](_0x124869(0xc52)+_0x141f45);let _0x1029d3;_0x1ec3ae===_0x124869(0x5a2)?_0x1029d3=_0x38edad[_0x124869(0x1aa)]('confidence'+_0x141f45):_0x1029d3=_0x38edad[_0x124869(0x1aa)](_0x124869(0x6f0)+_0x141f45)==='on';let _0x5bb320=null;if(_0x173bfd!==null&&_0x173bfd!==undefined){const _0x2af803=_0x2c000c[_0x124869(0xc34)]||currentDisplayedQuiz[_0x124869(0x717)];_0x2af803==='multiple_choice'||_0x2af803===_0x124869(0x244)?_0x5bb320=parseInt(_0x173bfd):_0x5bb320=_0x173bfd;}return{'answer':_0x5bb320,'wasConfident':_0x1029d3};}),_0x3f8bdd=currentQuizData['id'],_0x42bc12=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x3f8bdd+'/submissions',currentStudentName),_0x12e7c7=await getDoc(_0x42bc12),_0x49a7e4=_0x12e7c7['exists']()?_0x12e7c7[_0x288d41(0xb6)]():{},_0x403212=_0x49a7e4[_0x288d41(0x77d)]||[];await processAndSubmitAnswers(_0x56fec1,_0x403212);}async function gradeShortAnswerWithAI(_0x1aeef4,_0x5f4253){const _0xe6dc30=_0x1ca595;if(!_0x1aeef4||!_0x5f4253)return![];try{const _0x31f1e3=_0xe6dc30(0x77f)+_0x1aeef4+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x5f4253+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x44ec20={'contents':[{'role':_0xe6dc30(0x129),'parts':[{'text':_0x31f1e3}]}]},_0x2d933d=_0xe6dc30(0xb1a),_0xd3ad48=_0xe6dc30(0x34d)+_0x2d933d,_0x30e8b6=await fetch(_0xd3ad48,{'method':'POST','headers':{'Content-Type':_0xe6dc30(0x105)},'body':JSON[_0xe6dc30(0x71f)](_0x44ec20)});if(!_0x30e8b6['ok'])throw new Error(_0xe6dc30(0xd24));const _0x4fa044=await _0x30e8b6['json'](),_0x114f7d=_0x4fa044[_0xe6dc30(0x3c0)][0x0][_0xe6dc30(0x37d)][_0xe6dc30(0xcd)][0x0][_0xe6dc30(0xb20)][_0xe6dc30(0x964)]()[_0xe6dc30(0x5c9)]();return _0x114f7d==='true';}catch(_0x54cd7b){return console[_0xe6dc30(0x96)](_0xe6dc30(0x26f),_0x54cd7b),![];}}async function processAndSubmitAnswers(_0x17163f,_0x260d6d){const _0xf4fe38=_0x1ca595;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0xf4fe38(0x524)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0xf4fe38(0x945),handleVisibilityChange);let _0x1e907b=0x0;const _0x38f412=[],_0x265150=currentDisplayedQuiz[_0xf4fe38(0xbfe)]['length'];let _0x12a557=0x0,_0x4c9cde=[];const _0x3d1e32=currentDisplayedQuiz['questions'];for(let _0x1a9d9c=0x0;_0x1a9d9c<_0x3d1e32[_0xf4fe38(0x1d6)];_0x1a9d9c++){const _0x54feef=_0x3d1e32[_0x1a9d9c],_0x52b983=_0x17163f[_0x1a9d9c],_0x133a02=_0x52b983?_0x52b983[_0xf4fe38(0xd85)]:null,_0x155045=_0x52b983?_0x52b983[_0xf4fe38(0x5f2)]:null;let _0x5a7787=![],_0x5343a=0x0;if(_0x133a02!==null&&_0x133a02!==''){const _0x3d7fa9=_0x54feef[_0xf4fe38(0xc34)]||currentDisplayedQuiz[_0xf4fe38(0x717)];switch(_0x3d7fa9){case _0xf4fe38(0x79b):_0x5a7787=_0x133a02===_0x54feef[_0xf4fe38(0xca2)];break;case _0xf4fe38(0xcea):const _0x2e150f=_0x133a02===!![]||_0x133a02===_0xf4fe38(0xbe7);_0x5a7787=_0x2e150f===_0x54feef['correctAnswer'];break;case'short_answer':_0x5a7787=await gradeShortAnswer(_0x133a02,_0x54feef);break;case _0xf4fe38(0x801):default:_0x5a7787=Number(_0x133a02)===_0x54feef['correctAnswerIndex'];break;}}if(currentDisplayedQuiz['settings']?.[_0xf4fe38(0xc89)]){const _0x208fd2=_0x52b983?_0x52b983[_0xf4fe38(0x5f2)]:null;if(_0x5a7787&&(_0x208fd2===!![]||_0x208fd2===_0xf4fe38(0xa31)))_0x5343a=0x2;else{if(_0x5a7787)_0x5343a=0x1;else{if(!_0x5a7787&&(_0x208fd2===![]||_0x208fd2==='not_confident'||_0x208fd2===null))_0x5343a=0x0;else!_0x5a7787&&(_0x208fd2===!![]||_0x208fd2===_0xf4fe38(0xa31))&&(_0x5343a=-0x1);}}}else _0x5343a=_0x5a7787?0x1:0x0;_0x1e907b+=_0x5343a;if(_0x5a7787){_0x12a557++;if(_0x12a557===0x3)_0x4c9cde[_0xf4fe38(0x3bb)](BADGES[_0xf4fe38(0xb41)]['id']);}else _0x12a557=0x0;let _0x105950=null;_0x54feef[_0xf4fe38(0x63f)]&&_0x133a02!==null&&(_0x105950=_0x54feef['options'][_0x133a02]),_0x38f412[_0xf4fe38(0x3bb)]({'questionId':_0x54feef['id'],'answer':_0x133a02,'answerText':_0x105950,'isCorrect':_0x5a7787,'wasConfident':_0x155045,'pointsAwarded':_0x5343a,'originalQuestionText':_0x54feef[_0xf4fe38(0x216)]||_0x54feef[_0xf4fe38(0x6f3)]});}const _0x4f7761=_0x38f412['filter'](_0x2c2e8e=>_0x2c2e8e[_0xf4fe38(0x7fd)])[_0xf4fe38(0x1d6)],_0x4e1bda=currentDisplayedQuiz['settings']?.[_0xf4fe38(0x117)]??Math['floor'](_0x265150/0x2);_0x4f7761===_0x265150&&_0x265150>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x4c9cde['push'](BADGES[_0xf4fe38(0x4a0)]['id']);const _0x374a36=currentDisplayedQuiz[_0xf4fe38(0xaaa)]?.[_0xf4fe38(0x233)];if(_0x374a36==='whole_quiz'&&quizStartTime){const _0x31e21c=(new Date()-quizStartTime)/0x3e8,_0x1210c4=currentDisplayedQuiz[_0xf4fe38(0xaaa)][_0xf4fe38(0xa4b)]*0x3c;_0x4f7761>=_0x4e1bda&&_0x31e21c<_0x1210c4/0x2&&_0x4c9cde[_0xf4fe38(0x3bb)](BADGES[_0xf4fe38(0x181)]['id']);}_0x260d6d[_0xf4fe38(0x1d6)]===0x0&&_0x4f7761===_0x265150&&_0x265150>0x0&&_0x4c9cde[_0xf4fe38(0x3bb)](BADGES[_0xf4fe38(0x312)]['id']);if(_0x260d6d[_0xf4fe38(0x1d6)]>0x0){const _0x465bbd=_0x260d6d[0x0]['score'];if(_0x465bbd<_0x4e1bda&&_0x4f7761>=_0x4e1bda){const _0x4cc703=_0x260d6d['some'](_0x320643=>(_0x320643[_0xf4fe38(0xb40)]||[])[_0xf4fe38(0x39b)](BADGES['COMEBACK_KING']['id']));!_0x4cc703&&_0x4c9cde[_0xf4fe38(0x3bb)](BADGES['COMEBACK_KING']['id']);}}_0x260d6d[_0xf4fe38(0x1d6)]===0x4&&_0x4c9cde['push'](BADGES[_0xf4fe38(0xcc6)]['id']);const _0x4ba417=currentDisplayedQuiz['settings'][_0xf4fe38(0xaf6)];if(currentMode===_0xf4fe38(0xc58)){handleResultDisplay(_0x4ba417,_0x4f7761,_0x1e907b,_0x4c9cde,_0x38f412,_0x265150);return;}const _0x54e20b=currentQuizData['id'],_0x3f6303=doc(db,'artifacts/'+appId+_0xf4fe38(0x292)+_0x54e20b+'/submissions',currentStudentName);try{const _0x433794=[..._0x260d6d],_0x43a91d={'score':_0x4f7761,'points':_0x1e907b,'badges':Array[_0xf4fe38(0x6ca)](new Set(_0x4c9cde)),'submittedAt':new Date()[_0xf4fe38(0x8d)](),'answers':_0x38f412};_0x433794[_0xf4fe38(0x3bb)](_0x43a91d);const _0x473c0f=_0x260d6d[_0xf4fe38(0x1d6)]===0x0?_0x4f7761:_0x260d6d[0x0]['score']||0x0,_0x29602c=Math[_0xf4fe38(0xdb)](..._0x433794[_0xf4fe38(0x201)](_0x4e4acb=>_0x4e4acb['score']));await setDoc(_0x3f6303,{'studentName':currentStudentName,'totalQuestions':_0x265150,'attempts':_0x433794,'firstScore':_0x473c0f,'bestScore':_0x29602c,'latestScore':_0x4f7761,'points':_0x1e907b,'latestSubmittedAt':_0x43a91d[_0xf4fe38(0x85d)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x4ba417,_0x4f7761,_0x1e907b,_0x4c9cde,_0x38f412,_0x265150);}catch(_0x516ff0){console['error']('Error\x20saving\x20submission:',_0x516ff0),showMessage(_0xf4fe38(0x2e6));}}async function updateStudentProfile(_0x3d7a31,_0x3d6df6){const _0x347761=_0x1ca595,_0x370992=doc(db,_0x347761(0x54a)+appId+_0x347761(0x853)+_0x3d7a31+'/studentProfiles',_0x3d6df6);try{const _0x3b807e=query(collection(db,_0x347761(0x54a)+appId+'/public/data/quizzes'),where(_0x347761(0x98d),'==',_0x3d7a31)),_0x15cebc=await getDocs(_0x3b807e),_0x10495b=new Map(_0x15cebc[_0x347761(0x26a)][_0x347761(0x201)](_0xc1bbb5=>[_0xc1bbb5['id'],_0xc1bbb5[_0x347761(0xb6)]()])),_0xb815b6=Array[_0x347761(0x6ca)](_0x10495b[_0x347761(0x236)]());await runTransaction(db,async _0x40e16b=>{const _0x570a32=_0x347761;let _0x1fde2b=0x0;const _0x11cd6b={};let _0x5c78bd=!![],_0x372b6f=0x0,_0x26ec54=0x0;for(const _0x431147 of _0xb815b6){const _0x4b01be=_0x10495b[_0x570a32(0x1aa)](_0x431147),_0x89fa9c=doc(db,_0x570a32(0x54a)+appId+_0x570a32(0x292)+_0x431147+_0x570a32(0x12a),_0x3d6df6),_0x93f5c9=await _0x40e16b[_0x570a32(0x1aa)](_0x89fa9c);if(_0x93f5c9[_0x570a32(0xa2b)]()){const _0x4c3b1c=_0x93f5c9['data'](),_0x4273db=_0x4c3b1c[_0x570a32(0x77d)]||[];if(_0x4273db[_0x570a32(0x1d6)]>0x0){const _0x586585=_0x4273db[_0x570a32(0x231)]((_0x1e524c,_0x5d7c16)=>{const _0xfbeb2b=_0x570a32;if(_0x5d7c16['score']>_0x1e524c[_0xfbeb2b(0xa4c)])return _0x5d7c16;if(_0x5d7c16['score']===_0x1e524c[_0xfbeb2b(0xa4c)])return(_0x5d7c16['points']||0x0)>(_0x1e524c[_0xfbeb2b(0x6aa)]||0x0)?_0x5d7c16:_0x1e524c;return _0x1e524c;},{'score':-0x1,'points':-0x1});_0x586585[_0x570a32(0xa4c)]>-0x1&&(_0x1fde2b+=_0x586585[_0x570a32(0x6aa)]||0x0,(_0x586585['badges']||[])[_0x570a32(0x99f)](_0x420f0f=>{_0x11cd6b[_0x420f0f]=(_0x11cd6b[_0x420f0f]||0x0)+0x1;}));}}if(_0x4b01be[_0x570a32(0xa64)]!==_0x570a32(0xba4)){_0x26ec54++;if(_0x93f5c9[_0x570a32(0xa2b)]()){_0x372b6f++;const _0x22a180=_0x93f5c9[_0x570a32(0xb6)]();_0x22a180[_0x570a32(0xdf)]!==_0x22a180[_0x570a32(0x694)]&&(_0x5c78bd=![]);}else _0x5c78bd=![];}}_0x26ec54>0x0&&_0x372b6f===_0x26ec54&&_0x5c78bd?_0x11cd6b['specialist']=0x1:_0x11cd6b[_0x570a32(0x242)]=0x0,_0x40e16b['set'](_0x370992,{'studentName':_0x3d6df6,'totalPoints':_0x1fde2b,'unlockedBadges':Object[_0x570a32(0x236)](_0x11cd6b)[_0x570a32(0xa00)](_0x3d78aa=>_0x11cd6b[_0x3d78aa]>0x0),'badgesCount':_0x11cd6b},{'merge':!![]});});}catch(_0x29d941){console[_0x347761(0x96)](_0x347761(0x50a),_0x29d941),showMessage(_0x347761(0x402));}}function startAdminTest(){const _0x3834e2=_0x1ca595;if(!currentQuizData){showMessage(_0x3834e2(0x8e0));return;}let _0x53580c=JSON[_0x3834e2(0x444)](JSON[_0x3834e2(0x71f)](currentQuizData));currentMode=_0x3834e2(0xc58),currentStudentName=_0x3834e2(0x886),adminView[_0x3834e2(0x325)][_0x3834e2(0xd3c)](_0x3834e2(0x60b)),studentView[_0x3834e2(0x325)][_0x3834e2(0x419)](_0x3834e2(0x60b)),studentInitialView[_0x3834e2(0x325)][_0x3834e2(0xd3c)](_0x3834e2(0x60b)),studentNameSelectionView[_0x3834e2(0x325)]['add'](_0x3834e2(0x60b)),studentResultArea[_0x3834e2(0x325)][_0x3834e2(0xd3c)]('hidden'),studentQuizArea[_0x3834e2(0x325)][_0x3834e2(0x419)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x53580c);}function handleResultDisplay(_0x4ef795,_0x2b8b5f,_0x1fae50,_0x24e8c3,_0x51d7c1,_0x752660){const _0x2d7a65=_0x1ca595;if(_0x4ef795==='manual_release'){displaySubmissionConfirmation();return;}const _0x571e82=currentDisplayedQuiz[_0x2d7a65(0xaaa)]?.['passingScore']??Math[_0x2d7a65(0xd51)](_0x752660/0x2),_0x22ecad=currentDisplayedQuiz['settings']?.[_0x2d7a65(0x83b)]??![],_0x2be2f0=currentDisplayedQuiz['settings']?.[_0x2d7a65(0x72a)]===!![],_0x4fc9e2=_0x2b8b5f<_0x571e82,_0x1bc58f=_0x4ef795===_0x2d7a65(0xf7)||_0x4ef795===_0x2d7a65(0xc71);if(_0x2be2f0&&_0x4fc9e2&&!_0x1bc58f){_0x4ef795===_0x2d7a65(0x788)?displayResultsWithAnswers(_0x2b8b5f,_0x1fae50,_0x24e8c3,_0x51d7c1,_0x752660,!![]):displayLoopScreen(_0x2b8b5f,_0x752660,_0x4ef795);return;}if(_0x22ecad&&_0x4fc9e2){startAdaptiveFlow(_0x51d7c1,_0x2b8b5f,_0x752660);return;}switch(_0x4ef795){case _0x2d7a65(0x788):displayResultsWithAnswers(_0x2b8b5f,_0x1fae50,_0x24e8c3,_0x51d7c1,_0x752660);break;case _0x2d7a65(0x4ce):displayResultsScoreOnly(_0x2b8b5f,_0x1fae50,_0x24e8c3,_0x752660);break;case _0x2d7a65(0x566):displayPassFailOnly(_0x2b8b5f,_0x752660);break;case _0x2d7a65(0xf7):displayHalfMarkResult(_0x2b8b5f,_0x752660);break;case'perfect_score_status':displayPerfectScoreResult(_0x2b8b5f,_0x752660);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x5b8887){const _0x2a8016=_0x1ca595;studentReadingArea[_0x2a8016(0xcaa)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x4858a7=_0x2a8016(0xba0)+_0x5b8887+_0x2a8016(0x676)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x2e39fe={'type':_0x2a8016(0xb15),'properties':{'questionText':{'type':_0x2a8016(0xa26)},'options':{'type':_0x2a8016(0x8e3),'items':{'type':_0x2a8016(0xa26)}},'correctAnswerIndex':{'type':_0x2a8016(0xa5)},'explanation':{'type':_0x2a8016(0xa26)}},'required':[_0x2a8016(0x6f3),_0x2a8016(0x63f),_0x2a8016(0xc75),_0x2a8016(0x64a)]},_0xfd5e09={'type':_0x2a8016(0xb15),'properties':{'topic':{'type':_0x2a8016(0xa26)},'questions':{'type':_0x2a8016(0x8e3),'items':_0x2e39fe}},'required':[_0x2a8016(0xa64),_0x2a8016(0xbfe)]};try{const _0xcc1db2=await callAnalysisApi(_0x4858a7,_0xfd5e09);_0xcc1db2['isRemedial']=!![],studentReadingArea[_0x2a8016(0x325)][_0x2a8016(0xd3c)](_0x2a8016(0x60b));const _0x2ae0dc={...currentDisplayedQuiz[_0x2a8016(0xaaa)],'isAdaptive':![],'resultsDisplay':_0x2a8016(0x788)};_0xcc1db2[_0x2a8016(0xaaa)]=_0x2ae0dc,displayQuizForStudent(_0xcc1db2);}catch(_0x471186){console[_0x2a8016(0x96)]('Remedial\x20quiz\x20generation\x20failed:',_0x471186),showMessage(_0x2a8016(0xa46)),showView(_0x2a8016(0xb63));}}function displayPassFailOnly(_0x2e5b2e,_0x1b86a2){const _0x16a68b=_0x1ca595,_0x33627a=currentDisplayedQuiz[_0x16a68b(0xaaa)]?.[_0x16a68b(0x117)]??-0x1,_0x10338f=currentDisplayedQuiz[_0x16a68b(0xa82)]===!![];let _0x46a798='',_0x43725e=![];if(_0x10338f||_0x33627a!==-0x1){_0x43725e=_0x10338f?_0x2e5b2e===_0x1b86a2:_0x2e5b2e>=_0x33627a;const _0x1bab22=_0x43725e?_0x16a68b(0x87c):_0x16a68b(0x9d3),_0x12f1b4=_0x43725e?_0x16a68b(0x1bc):'ไม่ผ่าน';_0x46a798=_0x16a68b(0x6a3)+_0x1bab22+'\x22>'+_0x12f1b4+_0x16a68b(0x5b6);}else _0x46a798=_0x16a68b(0xd13);let _0x35895b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46a798+_0x16a68b(0x78c);studentResultArea[_0x16a68b(0xcaa)]=_0x35895b,studentResultArea[_0x16a68b(0x325)][_0x16a68b(0x419)](_0x16a68b(0x60b)),studentQuizArea['classList'][_0x16a68b(0xd3c)](_0x16a68b(0x60b)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x43725e});}function cancelAdminTest(){const _0x129450=_0x1ca595;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x129450(0x524)]('fullscreenchange',handleFullscreenChange),document[_0x129450(0x524)](_0x129450(0x945),handleVisibilityChange),currentMode=_0x129450(0x28d),studentView['classList'][_0x129450(0xd3c)](_0x129450(0x60b)),adminView[_0x129450(0x325)][_0x129450(0x419)]('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x129450(0x4a6));}function setupResultScreenBackButton(_0x1ffd15){const _0x56444e=_0x1ca595,_0x55e2bd={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1ffd15};if(_0x55e2bd[_0x56444e(0x474)]){const _0x41ec85=_0x56444e(0x4e6);studentResultArea[_0x56444e(0x453)](_0x56444e(0x381),_0x41ec85),document[_0x56444e(0xcac)](_0x56444e(0x370))[_0x56444e(0x8d3)](_0x56444e(0xc47),()=>{const _0x344cb6=_0x56444e;studentResultArea[_0x344cb6(0x325)]['add'](_0x344cb6(0x60b)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4059c0='back-from-results-btn',_0x465227=currentMode===_0x56444e(0xc58),_0x58db14=_0x465227?_0x56444e(0x1f3):_0x56444e(0x572);let _0x4047eb='';_0x55e2bd[_0x56444e(0x13d)]&&(_0x4047eb+=_0x56444e(0x860));let _0x104008=_0x55e2bd['showImproveButton'];_0x104008===undefined&&(_0x104008=_0x55e2bd['score']<_0x55e2bd[_0x56444e(0x694)]);_0x104008&&(_0x4047eb+=_0x56444e(0x6dc));_0x4047eb+=_0x56444e(0x19a)+_0x4059c0+_0x56444e(0x492)+_0x58db14+'</button>';const _0x5ddc05=_0x56444e(0x96f)+_0x4047eb+_0x56444e(0x4dd);studentResultArea[_0x56444e(0x453)](_0x56444e(0x381),_0x5ddc05),studentResultArea[_0x56444e(0xb49)](_0x56444e(0xc29))?.[_0x56444e(0x8d3)](_0x56444e(0xc47),handleShowStudentRankings);const _0x5521b6=studentResultArea[_0x56444e(0xb49)](_0x56444e(0x4be));_0x5521b6&&_0x5521b6[_0x56444e(0x8d3)](_0x56444e(0xc47),()=>{const _0x37c213=_0x56444e;studentResultArea[_0x37c213(0x325)][_0x37c213(0xd3c)](_0x37c213(0x60b)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x56444e(0xcac)](_0x4059c0)[_0x56444e(0x8d3)](_0x56444e(0xc47),()=>{const _0x3e2d2a=_0x56444e;_0x465227?(currentMode='admin',studentView[_0x3e2d2a(0x325)][_0x3e2d2a(0xd3c)](_0x3e2d2a(0x60b)),adminView['classList'][_0x3e2d2a(0x419)](_0x3e2d2a(0x60b)),showView('project-detail')):(showView(_0x3e2d2a(0xb63)),document[_0x3e2d2a(0xcac)](_0x3e2d2a(0x867))['value']='');});}function displayResultsWithAnswers(_0x475b83,_0x13f61c,_0x1af038,_0x43d427,_0x797f3b,_0x2347b6=![]){const _0x146034=_0x1ca595,_0x3f4cec=_0x797f3b>0x0?_0x475b83/_0x797f3b*0x64:0x0,_0x1eb30a=currentDisplayedQuiz[_0x146034(0xaaa)]?.[_0x146034(0x117)]??-0x1,_0x2de7e1=currentDisplayedQuiz[_0x146034(0xa82)]===!![];let _0x780fc='';if(_0x2de7e1||_0x1eb30a!==-0x1){let _0xcadd17=_0x2de7e1?_0x475b83===_0x797f3b:_0x475b83>=_0x1eb30a;const _0x1d6c0d=_0xcadd17?_0x146034(0x87c):_0x146034(0x9d3),_0x146825=_0xcadd17?_0x146034(0x1bc):_0x146034(0xace);_0x780fc=_0x146034(0x628)+_0x1d6c0d+'\x22>'+_0x146825+'</p>';}let _0x1452cb=_0x146034(0x780)+currentStudentName+_0x146034(0x160)+_0x475b83+_0x146034(0xbf7)+_0x797f3b+_0x146034(0x65e)+_0x780fc+_0x146034(0x5e1)+_0x13f61c+_0x146034(0x672)+_0x3f4cec[_0x146034(0x84e)](0x0)+_0x146034(0xef);currentDisplayedQuiz[_0x146034(0xbfe)]['forEach']((_0x461a20,_0xb5357e)=>{const _0x488376=_0x146034,_0x3bee7b=_0x43d427[_0xb5357e],_0x37004f=_0x3bee7b[_0x488376(0xd85)],_0x2f1129=_0x3bee7b['isCorrect'],_0x4c6e4d=_0x461a20[_0x488376(0xc34)]||currentDisplayedQuiz[_0x488376(0x717)];_0x1452cb+=_0x488376(0x736)+(_0x2f1129?_0x488376(0x2c7):'border-red-300\x20bg-red-50')+_0x488376(0xa0d)+(_0xb5357e+0x1)+'.\x20'+(_0x461a20[_0x488376(0x216)]||_0x461a20[_0x488376(0x6f3)])+_0x488376(0x315);switch(_0x4c6e4d){case _0x488376(0x79b):const _0x1d9d3b=_0x37004f||'ไม่ได้ตอบ',_0x5a4808=_0x461a20[_0x488376(0xca2)];_0x1452cb+=_0x488376(0x9f9)+(!_0x2f1129?_0x488376(0x907):'')+'\x22>'+_0x1d9d3b+_0x488376(0xd5d);!_0x2f1129&&(_0x1452cb+=_0x488376(0x786)+_0x5a4808+_0x488376(0xba));break;case _0x488376(0xbf6):_0x1452cb+=_0x488376(0xa65)+(_0x37004f||_0x488376(0x4f2))+_0x488376(0xba),_0x1452cb+=_0x488376(0x4b2)+_0x461a20['idealAnswer']+_0x488376(0xba);break;case _0x488376(0xcea):_0x1452cb+=_0x488376(0xa38)+(_0x461a20['correctAnswer']===!![]?_0x488376(0x627):'')+'\x20'+(_0x37004f===_0x488376(0xbe7)&&!_0x2f1129?_0x488376(0x907):'')+_0x488376(0x594),_0x1452cb+=_0x488376(0xa38)+(_0x461a20['correctAnswer']===![]?_0x488376(0x627):'')+'\x20'+(_0x37004f==='false'&&!_0x2f1129?_0x488376(0x907):'')+'\x22>ไม่ใช่</p>';break;default:_0x1452cb+=_0x461a20['options'][_0x488376(0x201)]((_0x358777,_0xf8ee98)=>{const _0x225206=_0x488376;let _0x22f561='',_0x142bcd='';if(_0xf8ee98===_0x461a20[_0x225206(0xc75)])_0x22f561=_0x225206(0x627),_0x142bcd=_0x225206(0x389);else _0xf8ee98===_0x37004f&&(_0x22f561=_0x225206(0xd39),_0x142bcd=_0x225206(0xa7c));return _0x225206(0x674)+_0x22f561+'\x22>'+_0x142bcd+_0x358777+_0x225206(0x4dd);})[_0x488376(0xa88)]('');break;}_0x1452cb+=_0x488376(0xbaf)+(_0x461a20[_0x488376(0x64a)]||_0x488376(0x493))+_0x488376(0x4dd);if(!_0x2f1129){const _0x51f1c5=_0x461a20['stem']||_0x461a20[_0x488376(0x6f3)];_0x1452cb+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x51f1c5)+_0x488376(0x16a);}_0x1452cb+=_0x488376(0x4dd);}),studentResultArea[_0x146034(0xcaa)]=_0x1452cb,renderEarnedBadges(_0x1af038,_0x146034(0x72f)),studentResultArea[_0x146034(0x325)]['remove']('hidden'),studentQuizArea[_0x146034(0x325)][_0x146034(0xd3c)](_0x146034(0x60b)),setupResultScreenBackButton({'isLooping':_0x2347b6,'score':_0x475b83,'totalQuestions':_0x797f3b,'showRankings':!![]});if(window['MathJax'])window[_0x146034(0x4a4)][_0x146034(0xcf0)]([studentResultArea]);}function displayResultsScoreOnly(_0x5c091f,_0x4f1b0a,_0x331790,_0x630e1c){const _0x5e51e5=_0x1ca595,_0x2885cb=_0x630e1c>0x0?_0x5c091f/_0x630e1c*0x64:0x0,_0x10a331=currentDisplayedQuiz[_0x5e51e5(0xaaa)]?.['passingScore']??-0x1,_0x3ea383=currentDisplayedQuiz[_0x5e51e5(0xa82)]===!![];let _0xf5cbbc='';if(_0x3ea383||_0x10a331!==-0x1){let _0x33876f=_0x3ea383?_0x5c091f===_0x630e1c:_0x5c091f>=_0x10a331;const _0x1de730=_0x33876f?_0x5e51e5(0x87c):_0x5e51e5(0x9d3),_0x3d2f1d=_0x33876f?'ผ่าน':'ไม่ผ่าน';_0xf5cbbc=_0x5e51e5(0x628)+_0x1de730+'\x22>'+_0x3d2f1d+_0x5e51e5(0xba);}let _0x5bfd99=_0x5e51e5(0xa67)+currentStudentName+_0x5e51e5(0x7dc)+_0x5c091f+_0x5e51e5(0xcf3)+_0x630e1c+_0x5e51e5(0x65e)+_0xf5cbbc+_0x5e51e5(0x5e1)+_0x4f1b0a+_0x5e51e5(0xca)+_0x2885cb['toFixed'](0x0)+_0x5e51e5(0x6e0);studentResultArea['innerHTML']=_0x5bfd99,renderEarnedBadges(_0x331790,'earned-badges-container'),studentResultArea[_0x5e51e5(0x325)]['remove'](_0x5e51e5(0x60b)),studentQuizArea[_0x5e51e5(0x325)][_0x5e51e5(0xd3c)]('hidden'),setupResultScreenBackButton({'score':_0x5c091f,'totalQuestions':_0x630e1c,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x50bfd3=_0x1ca595;let _0x3ac705=_0x50bfd3(0xb00)+currentStudentName+_0x50bfd3(0x724);studentResultArea[_0x50bfd3(0xcaa)]=_0x3ac705,studentResultArea['classList'][_0x50bfd3(0x419)](_0x50bfd3(0x60b)),studentQuizArea[_0x50bfd3(0x325)]['add'](_0x50bfd3(0x60b)),document['getElementById'](_0x50bfd3(0xa5d))['addEventListener']('click',()=>{const _0x5f4a6b=_0x50bfd3;showView(_0x5f4a6b(0xb63)),document[_0x5f4a6b(0xcac)](_0x5f4a6b(0x867))[_0x5f4a6b(0x41e)]='';});}function renderEarnedBadges(_0x2272c4,_0x512817){const _0x1b3733=_0x1ca595,_0x80f1ca=document[_0x1b3733(0xcac)](_0x512817);if(!_0x80f1ca||!_0x2272c4||_0x2272c4['length']===0x0)return;let _0x3e6a71='';_0x2272c4[_0x1b3733(0x99f)]((_0x5ba912,_0x4dc4a5)=>{const _0x3d02cc=_0x1b3733,_0x791018=Object[_0x3d02cc(0xc7b)](BADGES)[_0x3d02cc(0x2f4)](_0xd96091=>_0xd96091['id']===_0x5ba912);_0x791018&&(_0x3e6a71+=_0x3d02cc(0x9c2)+_0x4dc4a5*0.2+'s;\x22\x20title=\x22'+_0x791018['description']+_0x3d02cc(0x2b5)+_0x791018[_0x3d02cc(0x17c)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x791018[_0x3d02cc(0xd33)]+_0x3d02cc(0xd1c));}),_0x80f1ca[_0x1b3733(0xcaa)]=_0x3e6a71;}function startPresentation(_0x5093fa){const _0x45da3e=_0x1ca595;currentQuizData=getShuffledQuiz(_0x5093fa),currentPresentationSlide=0x0,presentationModal[_0x45da3e(0x300)][_0x45da3e(0xa0e)]=_0x45da3e(0x4c8),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x24ea01=_0x1ca595;document['fullscreenElement']&&document[_0x24ea01(0x101)](),presentationModal[_0x24ea01(0x300)][_0x24ea01(0xa0e)]=_0x24ea01(0x2c2);}function renderPresentationSlide(_0x25da7c){const _0x150b7b=_0x1ca595,_0x1c1c90=document['getElementById'](_0x150b7b(0x4ec));if(!currentQuizData||!currentQuizData[_0x150b7b(0xbfe)]||!currentQuizData[_0x150b7b(0xbfe)][_0x25da7c]){_0x1c1c90['innerHTML']=_0x150b7b(0xbb1);return;}const _0x155d74=currentQuizData['questions'][_0x25da7c],_0x16cd2c=_0x155d74[_0x150b7b(0xc34)]||currentQuizData[_0x150b7b(0x717)];_0x1c1c90[_0x150b7b(0xcaa)]='';let _0x47ff0f=_0x150b7b(0x1e9)+(_0x155d74['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x155d74['imageCode']+_0x150b7b(0x4dd):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x25da7c+0x1)+'.\x20'+(_0x155d74['stem']||_0x155d74[_0x150b7b(0x6f3)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x16cd2c){case _0x150b7b(0x79b):_0x47ff0f+=_0x155d74[_0x150b7b(0x698)]['map'](_0x15de2a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15de2a+_0x150b7b(0x3f5))['join']('');break;case _0x150b7b(0xcea):_0x47ff0f+=_0x150b7b(0x5a4),_0x47ff0f+=_0x150b7b(0xe2);break;case _0x150b7b(0x19d):case'short_answer':_0x47ff0f+=_0x150b7b(0xac3);break;case _0x150b7b(0x244):case _0x150b7b(0x801):default:_0x47ff0f+=_0x155d74[_0x150b7b(0x63f)][_0x150b7b(0x201)]((_0x1c8185,_0x17ecd4)=>_0x150b7b(0xd99)+_0x17ecd4+_0x150b7b(0x5c5)+_0x1c8185+_0x150b7b(0x3f5))[_0x150b7b(0xa88)]('');break;}_0x47ff0f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x155d74['explanation']||_0x150b7b(0x493))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1c1c90[_0x150b7b(0xcaa)]=_0x47ff0f;if(window[_0x150b7b(0x4a4)])window['MathJax'][_0x150b7b(0xcf0)]([_0x1c1c90]);let _0x2538ae=[];switch(_0x16cd2c){case'matching_item':_0x2538ae=_0x155d74[_0x150b7b(0x698)]||[];break;case'true_false':_0x2538ae=[_0x150b7b(0x89),_0x150b7b(0x372)];break;default:_0x2538ae=_0x155d74[_0x150b7b(0x63f)]||[];break;}const _0x50d8f9=document[_0x150b7b(0xcac)](_0x150b7b(0x2d1));_0x50d8f9&&(_0x50d8f9['onclick']=()=>{openScratchpad(_0x155d74,_0x2538ae);});document[_0x150b7b(0x20a)]('.presentation-option')[_0x150b7b(0x99f)](_0xf89ca1=>{const _0x2211bc=_0x150b7b;_0xf89ca1[_0x2211bc(0x8d3)](_0x2211bc(0xc47),_0x481a8f=>revealAnswerForPresentation(_0x25da7c,_0x481a8f[_0x2211bc(0xcab)]));});const _0x3065a4=document[_0x150b7b(0xcac)]('check-presentation-answer-btn');_0x3065a4&&_0x3065a4[_0x150b7b(0x8d3)](_0x150b7b(0xc47),()=>checkShortAnswerForPresentation(_0x25da7c)),document['getElementById'](_0x150b7b(0x873))[_0x150b7b(0xc84)]='ข้อที่\x20'+(_0x25da7c+0x1)+_0x150b7b(0x214)+currentQuizData['questions'][_0x150b7b(0x1d6)],document['getElementById']('prev-question-btn')['disabled']=_0x25da7c===0x0,document['getElementById'](_0x150b7b(0xa69))[_0x150b7b(0x25a)]=_0x25da7c===currentQuizData[_0x150b7b(0xbfe)][_0x150b7b(0x1d6)]-0x1;}async function checkShortAnswerForPresentation(_0x4fc9a2){const _0xbcfc91=_0x1ca595,_0x213286=currentQuizData[_0xbcfc91(0xbfe)][_0x4fc9a2],_0x45d297=document[_0xbcfc91(0xcac)](_0xbcfc91(0xb0c)),_0x22bc51=document['getElementById'](_0xbcfc91(0x4cc)),_0x3c56bd=document[_0xbcfc91(0xcac)](_0xbcfc91(0x426)),_0x1760a2=document[_0xbcfc91(0xcac)]('presentation-explanation');if(!_0x45d297||!_0x22bc51||!_0x3c56bd||!_0x1760a2)return;const _0x5570f0=_0x45d297[_0xbcfc91(0x41e)][_0xbcfc91(0x964)]();if(_0x5570f0==='')return;_0x22bc51['disabled']=!![],_0x22bc51[_0xbcfc91(0xcaa)]=_0xbcfc91(0x84a),_0x45d297[_0xbcfc91(0x25a)]=!![];const _0x1e173f=await gradeShortAnswer(_0x5570f0,_0x213286);_0x1e173f?_0x3c56bd[_0xbcfc91(0xcaa)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x3c56bd['innerHTML']=_0xbcfc91(0x174)+_0x213286[_0xbcfc91(0x8c8)]+')',_0x3c56bd[_0xbcfc91(0x325)][_0xbcfc91(0x419)](_0xbcfc91(0x60b)),_0x1760a2['classList'][_0xbcfc91(0x419)](_0xbcfc91(0x60b)),_0x22bc51['classList'][_0xbcfc91(0xd3c)](_0xbcfc91(0x60b));}function revealAnswerForPresentation(_0x17f48f,_0x36a126){const _0x45611b=_0x1ca595,_0x4fd2c2=currentQuizData[_0x45611b(0xbfe)][_0x17f48f],_0x3809b7=_0x4fd2c2[_0x45611b(0xc34)]||currentQuizData[_0x45611b(0x717)];document['querySelectorAll']('.presentation-option')['forEach'](_0x649b57=>{const _0x22cb69=_0x45611b;_0x649b57[_0x22cb69(0x25a)]=!![],_0x649b57['classList'][_0x22cb69(0x419)](_0x22cb69(0x1bb));let _0x2b1378=![];if(_0x3809b7===_0x22cb69(0x801)||_0x3809b7===_0x22cb69(0x244)){const _0x69f64c=parseInt(_0x649b57[_0x22cb69(0x1e8)]['index']);_0x2b1378=_0x69f64c===_0x4fd2c2['correctAnswerIndex'];}else{if(_0x3809b7===_0x22cb69(0xcea)){const _0xa1b57f=_0x649b57[_0x22cb69(0x1e8)][_0x22cb69(0xd85)]==='true';_0x2b1378=_0xa1b57f===_0x4fd2c2[_0x22cb69(0xc49)];}else _0x3809b7==='matching_item'&&(_0x2b1378=_0x649b57[_0x22cb69(0xc84)][_0x22cb69(0x964)]()===_0x4fd2c2[_0x22cb69(0xca2)]);}_0x2b1378?_0x649b57[_0x22cb69(0x325)]['add'](_0x22cb69(0x26d),_0x22cb69(0x638),_0x22cb69(0x207)):_0x649b57['classList'][_0x22cb69(0xd3c)](_0x22cb69(0xa39));}),_0x36a126[_0x45611b(0x325)]['remove'](_0x45611b(0xa39));let _0x1f2d15=![];if(_0x3809b7===_0x45611b(0x801))_0x1f2d15=parseInt(_0x36a126[_0x45611b(0x1e8)][_0x45611b(0x7a7)])===_0x4fd2c2[_0x45611b(0xc75)];else{if(_0x3809b7===_0x45611b(0xcea))_0x1f2d15=_0x36a126[_0x45611b(0x1e8)][_0x45611b(0xd85)]===_0x45611b(0xbe7)===_0x4fd2c2[_0x45611b(0xc49)];else _0x3809b7===_0x45611b(0x79b)&&(_0x1f2d15=_0x36a126[_0x45611b(0xc84)]['trim']()===_0x4fd2c2['correctResponse']);}!_0x1f2d15&&_0x36a126[_0x45611b(0x325)][_0x45611b(0xd3c)](_0x45611b(0x433),_0x45611b(0x638),'border-red-700'),document['getElementById'](_0x45611b(0x42b))['classList']['remove'](_0x45611b(0x60b));}function startWholeQuizTimer(_0x4afc04){const _0x59b745=_0x1ca595,_0x1456d1=document[_0x59b745(0xcac)](_0x59b745(0x92));if(!_0x1456d1)return;const _0x1d6353=Date[_0x59b745(0x27a)]()+_0x4afc04*0x3c*0x3e8;_0x1456d1[_0x59b745(0xcaa)]=_0x59b745(0x23c);const _0x3a4ed4=document[_0x59b745(0xcac)](_0x59b745(0x8cc));quizTimerInterval=setInterval(()=>{const _0x1fdb44=_0x59b745,_0x3540fa=_0x1d6353-Date[_0x1fdb44(0x27a)]();if(_0x3540fa<=0x0)clearInterval(quizTimerInterval),_0x3a4ed4[_0x1fdb44(0xc84)]=_0x1fdb44(0xb4c),showMessage(_0x1fdb44(0x122)),handleSubmitQuiz(null);else{const _0x1062f0=Math[_0x1fdb44(0xd51)](_0x3540fa/0x3e8/0x3c%0x3c)[_0x1fdb44(0x287)]()['padStart'](0x2,'0'),_0x17641b=Math[_0x1fdb44(0xd51)](_0x3540fa/0x3e8%0x3c)[_0x1fdb44(0x287)]()[_0x1fdb44(0x121)](0x2,'0');_0x3a4ed4[_0x1fdb44(0xc84)]=_0x1062f0+':'+_0x17641b;}},0x3e8);}function renderPerQuestionView(){const _0x38663e=_0x1ca595;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x23febe=currentDisplayedQuiz[_0x38663e(0xbfe)][currentQuestionIndex],_0x10022c=_0x23febe['questionType']||currentDisplayedQuiz['quizType'],_0x4cde95=currentDisplayedQuiz[_0x38663e(0xaaa)]?.['isConfidenceScoringEnabled']===!![];let _0x28fc54='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x38663e(0xb3e)+currentDisplayedQuiz[_0x38663e(0xbfe)]['length']+_0x38663e(0x8df)+(currentMode==='admin-testing'?_0x38663e(0x47a):'')+_0x38663e(0xd4)+currentDisplayedQuiz[_0x38663e(0xa64)]+_0x38663e(0x3b1);studentQuizArea[_0x38663e(0xcaa)]=_0x28fc54;let _0x408288=_0x23febe[_0x38663e(0x216)]||_0x23febe[_0x38663e(0x6f3)];_0x23febe['imageCode']&&(_0x408288+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x23febe['imageCode']+_0x38663e(0x4dd));let _0x4663eb='';switch(_0x10022c){case'short_answer':case _0x38663e(0x19d):_0x4663eb=_0x38663e(0x584);break;case _0x38663e(0xcea):_0x4663eb=_0x38663e(0xca0);break;case _0x38663e(0x79b):_0x4663eb=_0x38663e(0xb30)+(_0x23febe[_0x38663e(0x698)]||[])[_0x38663e(0x201)](_0x433ed7=>_0x38663e(0xb8c)+_0x433ed7+'\x22>'+_0x433ed7+_0x38663e(0x603))['join']('')+_0x38663e(0xb25);break;default:_0x23febe[_0x38663e(0x63f)]&&(_0x4663eb=_0x23febe[_0x38663e(0x63f)][_0x38663e(0x201)]((_0x300d0d,_0x5d8ee2)=>_0x38663e(0x517)+_0x5d8ee2+_0x38663e(0x5af)+_0x5d8ee2+_0x38663e(0x264)+_0x5d8ee2+'\x22>'+_0x300d0d+_0x38663e(0x979))[_0x38663e(0xa88)](''));break;}document[_0x38663e(0xcac)]('per-question-text')[_0x38663e(0xcaa)]=_0x408288,document[_0x38663e(0xcac)](_0x38663e(0x195))[_0x38663e(0xcaa)]=_0x4663eb;const _0x3781eb=currentDisplayedQuiz[_0x38663e(0xaaa)]?.[_0x38663e(0xc89)]===!![],_0x2b4131=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x38663e(0xbc5);if(_0x3781eb&&_0x2b4131===_0x38663e(0xbc5)){const _0x308110=_0x38663e(0x3d0);studentQuizArea[_0x38663e(0xb49)](_0x38663e(0x2e5))['insertAdjacentHTML'](_0x38663e(0x381),_0x308110);}studentQuizArea[_0x38663e(0x453)](_0x38663e(0x381),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x38663e(0xbfe)][_0x38663e(0x1d6)]-0x1?'ส่งคำตอบ':_0x38663e(0x323))+_0x38663e(0x662));currentMode===_0x38663e(0xc58)&&document[_0x38663e(0xcac)](_0x38663e(0x54e))?.[_0x38663e(0x8d3)]('click',cancelAdminTest);document[_0x38663e(0xcac)](_0x38663e(0x3a1))[_0x38663e(0x8d3)](_0x38663e(0xc47),()=>handleNextQuestionInTimedMode(![]));if(window[_0x38663e(0x4a4)])window[_0x38663e(0x4a4)][_0x38663e(0xcf0)]([studentQuizArea]);currentDisplayedQuiz[_0x38663e(0xaaa)]?.['timerMode']===_0x38663e(0x308)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x2ff9e5=_0x1ca595,_0x191276=currentDisplayedQuiz[_0x2ff9e5(0xaaa)][_0x2ff9e5(0xa4b)],_0x1d90c1=document[_0x2ff9e5(0xcac)](_0x2ff9e5(0xb57));if(!_0x1d90c1)return;let _0x815fb8=_0x191276;_0x1d90c1[_0x2ff9e5(0xcaa)]=_0x2ff9e5(0x164)+_0x815fb8+_0x2ff9e5(0x7f6);const _0x18e9ab=document[_0x2ff9e5(0xcac)](_0x2ff9e5(0xe3)),_0x33dc11=document[_0x2ff9e5(0xcac)](_0x2ff9e5(0x406));perQuestionTimerInterval=setInterval(()=>{const _0x3ed5fd=_0x2ff9e5;_0x815fb8--;const _0x70c982=_0x815fb8/_0x191276*0x64;_0x18e9ab['style'][_0x3ed5fd(0x1a0)]=_0x70c982+'%',_0x33dc11['textContent']=_0x815fb8,_0x815fb8<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3ed5fd(0x88b)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x566223=![]){const _0x2561a9=_0x1ca595;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x2c8f7c=null,_0x2f5ff3=![];if(!_0x566223){const _0x478785=currentDisplayedQuiz[_0x2561a9(0xbfe)][currentQuestionIndex],_0x1aaf6e=_0x478785[_0x2561a9(0xc34)]||currentDisplayedQuiz[_0x2561a9(0x717)];if(_0x1aaf6e===_0x2561a9(0xbf6)||_0x1aaf6e===_0x2561a9(0x19d))_0x2c8f7c=document[_0x2561a9(0xb49)]('textarea[name=\x22question_single\x22]')?.[_0x2561a9(0x41e)]['trim']()??'';else{if(_0x1aaf6e===_0x2561a9(0x79b))_0x2c8f7c=document[_0x2561a9(0xb49)](_0x2561a9(0x3f3))?.['value']??'';else{const _0x2943b5=document[_0x2561a9(0xb49)]('input[name=\x22question_single\x22]:checked');_0x2943b5&&(_0x2c8f7c=_0x2943b5[_0x2561a9(0x41e)]);}}if(_0x2c8f7c===null||_0x2c8f7c===''){showMessage(_0x2561a9(0x324)),startPerQuestionTimer();return;}const _0x237c9e=currentDisplayedQuiz[_0x2561a9(0xaaa)]?.[_0x2561a9(0xc89)]===!![],_0x1a7d35=currentDisplayedQuiz[_0x2561a9(0xaaa)]?.[_0x2561a9(0x18d)]||_0x2561a9(0xbc5);if(_0x237c9e&&_0x1a7d35===_0x2561a9(0x5a2)){document[_0x2561a9(0xcac)](_0x2561a9(0xb6a))['dataset'][_0x2561a9(0x148)]=_0x2561a9(0xce9),document[_0x2561a9(0xcac)](_0x2561a9(0x70e))['value']=_0x2c8f7c,document[_0x2561a9(0xcac)](_0x2561a9(0xb6a))['classList'][_0x2561a9(0x419)](_0x2561a9(0x60b));return;}const _0x15ddba=document['getElementById'](_0x2561a9(0xb6e));_0x15ddba&&(_0x2f5ff3=_0x15ddba[_0x2561a9(0xa81)]);}const _0x42b9c7={'answer':_0x2c8f7c,'wasConfident':_0x2f5ff3};proceedToNextQuestion(_0x42b9c7);}async function finalizePerQuestionQuiz(){const _0x539c86=_0x1ca595,_0x59a85d=currentDisplayedQuiz[_0x539c86(0xbfe)][_0x539c86(0x527)](_0x3f9561=>_0x3f9561['questionType']===_0x539c86(0xbf6));_0x59a85d?showMessage(_0x539c86(0x7b5)):showMessage(_0x539c86(0x645));const _0x11cdfa=currentQuizData['id'],_0x2db3fb=doc(db,_0x539c86(0x54a)+appId+_0x539c86(0x292)+_0x11cdfa+'/submissions',currentStudentName),_0x4e136a=await getDoc(_0x2db3fb),_0x130be7=_0x4e136a[_0x539c86(0xa2b)]()?_0x4e136a[_0x539c86(0xb6)]():{},_0x46ee2b=_0x130be7[_0x539c86(0x77d)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x46ee2b);}function getResultsFilename(){const _0x111305=_0x1ca595,_0x413803=document['getElementById'](_0x111305(0xce))[_0x111305(0xc84)]['replace'](/[^a-z0-9]/gi,'_')[_0x111305(0x5c9)]();return _0x111305(0xa53)+(_0x413803||_0x111305(0x923));}function exportResultsAsImage(){const _0x487b67=_0x1ca595,_0x4f7053=document[_0x487b67(0xcac)]('results-table-container');showMessage(_0x487b67(0x261)),html2canvas(_0x4f7053)['then'](_0xcf6696=>{const _0x47b210=_0x487b67,_0x1643fc=document[_0x47b210(0x845)]('a');_0x1643fc['download']=getResultsFilename()+_0x47b210(0x1d9),_0x1643fc['href']=_0xcf6696[_0x47b210(0xcff)](_0x47b210(0x9e4)),_0x1643fc['click'](),messageModal[_0x47b210(0x325)]['add'](_0x47b210(0x60b));});}function exportResultsAsPDF(){const _0x56022f=_0x1ca595,{jsPDF:_0x21f7fc}=window['jspdf'],_0x2beb07=new _0x21f7fc();_0x2beb07[_0x56022f(0x31b)](_0x56022f(0x251),_0x56022f(0x6f6)),_0x2beb07[_0x56022f(0x2fa)]({'html':_0x56022f(0x3da)}),_0x2beb07[_0x56022f(0x4a8)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x2709c1=_0x1ca595,_0x5e88b6=_0x2709c1(0x5a9)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x2709c1(0x420)+_0x2709c1(0x407),_0x1bd055='</body></html>',_0x27f870=_0x5e88b6+document[_0x2709c1(0xcac)](_0x2709c1(0xc24))[_0x2709c1(0xcaa)]+_0x1bd055,_0x3a6778=_0x2709c1(0x66d)+encodeURIComponent(_0x27f870),_0x28570c=document[_0x2709c1(0x845)]('a');document[_0x2709c1(0x742)]['appendChild'](_0x28570c),_0x28570c[_0x2709c1(0x8e)]=_0x3a6778,_0x28570c[_0x2709c1(0x5e7)]=getResultsFilename()+_0x2709c1(0x548),_0x28570c[_0x2709c1(0xc47)](),document[_0x2709c1(0x742)][_0x2709c1(0x9bb)](_0x28570c);}function exportResultsAsExcel(){const _0x4e4224=_0x1ca595,_0x1aa5bb=document['getElementById'](_0x4e4224(0x280));let _0x3707b7=[];for(let _0x14e419=0x0;_0x14e419<_0x1aa5bb['rows'][_0x4e4224(0x1d6)];_0x14e419++){let _0xa9c778=[],_0x2a8d2b=_0x1aa5bb[_0x4e4224(0x787)][_0x14e419][_0x4e4224(0x20a)](_0x4e4224(0xd1f));for(let _0x4134e0=0x0;_0x4134e0<_0x2a8d2b[_0x4e4224(0x1d6)];_0x4134e0++){_0xa9c778[_0x4e4224(0x3bb)]('\x22'+_0x2a8d2b[_0x4134e0][_0x4e4224(0x254)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x3707b7[_0x4e4224(0x3bb)](_0xa9c778[_0x4e4224(0xa88)](','));}const _0x21c2c9=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3707b7[_0x4e4224(0xa88)]('\x0a')],{'type':_0x4e4224(0x808)}),_0x553509=document[_0x4e4224(0x845)]('a');_0x553509[_0x4e4224(0x8e)]=URL[_0x4e4224(0x76e)](_0x21c2c9),_0x553509[_0x4e4224(0x5e7)]=getResultsFilename()+_0x4e4224(0x369),_0x553509[_0x4e4224(0xc47)]();}function exportTableAsImage(_0x571551,_0x105ff5){const _0x5cb968=_0x1ca595,_0x149510=document[_0x5cb968(0xcac)](_0x571551);if(!_0x149510){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x5cb968(0x261)),html2canvas(_0x149510)['then'](_0x1300b2=>{const _0x508cf7=document['createElement']('a');_0x508cf7['download']=_0x105ff5+'.png',_0x508cf7['href']=_0x1300b2['toDataURL']('image/png'),_0x508cf7['click'](),messageModal['classList']['add']('hidden');});}function exportTableAsPDF(_0x4b45b9,_0x4ad082){const _0x379004=_0x1ca595,{jsPDF:_0x24ad13}=window[_0x379004(0x257)],_0x353666=new _0x24ad13();_0x353666[_0x379004(0x31b)](_0x379004(0x251),_0x379004(0x6f6)),_0x353666[_0x379004(0x2fa)]({'html':'#'+_0x4b45b9}),_0x353666[_0x379004(0x4a8)](_0x4ad082+_0x379004(0x68b));}function exportTableAsWord(_0x56fab7,_0x49cda1){const _0x55cea3=_0x1ca595,_0x2ee934=document[_0x55cea3(0xcac)](_0x56fab7);if(!_0x2ee934){showMessage(_0x55cea3(0x716));return;}const _0x528695=_0x55cea3(0x5a9)+_0x55cea3(0x41a)+_0x55cea3(0x420)+_0x55cea3(0x407),_0x208bb8=_0x55cea3(0x199),_0x567218=_0x528695+_0x2ee934[_0x55cea3(0xcaa)]+_0x208bb8,_0x40cdc6=_0x55cea3(0x66d)+encodeURIComponent(_0x567218),_0x1da072=document['createElement']('a');document[_0x55cea3(0x742)]['appendChild'](_0x1da072),_0x1da072[_0x55cea3(0x8e)]=_0x40cdc6,_0x1da072[_0x55cea3(0x5e7)]=_0x49cda1+_0x55cea3(0x548),_0x1da072[_0x55cea3(0xc47)](),document[_0x55cea3(0x742)][_0x55cea3(0x9bb)](_0x1da072);}function exportTableAsExcel(_0x4e6757,_0x2a2b53){const _0x1d44f9=_0x1ca595,_0x4bc78d=document[_0x1d44f9(0xcac)](_0x4e6757);if(!_0x4bc78d){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x4ea872=[];for(let _0x15cac6=0x0;_0x15cac6<_0x4bc78d[_0x1d44f9(0x787)][_0x1d44f9(0x1d6)];_0x15cac6++){let _0x2640e8=[],_0x465c52=_0x4bc78d['rows'][_0x15cac6]['querySelectorAll'](_0x1d44f9(0xd1f));for(let _0x51ed07=0x0;_0x51ed07<_0x465c52[_0x1d44f9(0x1d6)];_0x51ed07++){_0x2640e8[_0x1d44f9(0x3bb)]('\x22'+_0x465c52[_0x51ed07]['innerText'][_0x1d44f9(0xc6a)](/"/g,'\x22\x22')+'\x22');}_0x4ea872[_0x1d44f9(0x3bb)](_0x2640e8[_0x1d44f9(0xa88)](','));}const _0x428a87=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4ea872[_0x1d44f9(0xa88)]('\x0a')],{'type':_0x1d44f9(0x808)}),_0x11978e=document[_0x1d44f9(0x845)]('a');_0x11978e[_0x1d44f9(0x8e)]=URL[_0x1d44f9(0x76e)](_0x428a87),_0x11978e[_0x1d44f9(0x5e7)]=_0x2a2b53+_0x1d44f9(0x369),_0x11978e[_0x1d44f9(0xc47)]();}function renderAnalytics(_0x418ec7,_0x297c71){const _0x189b92=_0x1ca595,_0x190fd8=_0x297c71[_0x189b92(0xa00)](_0x455db2=>_0x455db2['latestScore']!==undefined),_0x91dcc=currentProjectData[_0x189b92(0xbbc)]['length'],_0x2524ff=_0x190fd8[_0x189b92(0x1d6)],_0x3d66d5=_0x91dcc-_0x2524ff,_0x12a2e3=_0x91dcc>0x0?_0x2524ff/_0x91dcc*0x64:0x0,_0x2e20a5=_0x190fd8[_0x189b92(0x201)](_0x315004=>_0x315004[_0x189b92(0xd3b)]),_0xa7586d=_0x2e20a5['length']>0x0?_0x2e20a5[_0x189b92(0x231)]((_0x4772d1,_0x476227)=>_0x4772d1+_0x476227,0x0)/_0x2e20a5[_0x189b92(0x1d6)]:0x0,_0x3ddb0a=_0x418ec7[_0x189b92(0xbfe)][_0x189b92(0x1d6)],_0x4172a6=_0x3ddb0a>0x0?_0xa7586d/_0x3ddb0a*0x64:0x0,_0x4d4123=calculateItemAnalysis(_0x418ec7,_0x190fd8),_0x391f9a=calculateReliabilityKR20(_0x418ec7,_0x190fd8,_0x4d4123[_0x189b92(0x6bd)]);let _0x228d63='';if(_0x391f9a!==null){let _0x4be871='';if(_0x391f9a>=0.9)_0x4be871=_0x189b92(0x9fb);else{if(_0x391f9a>=0.8)_0x4be871='ดีมาก';else{if(_0x391f9a>=0.7)_0x4be871='ดี';else{if(_0x391f9a>=0.6)_0x4be871=_0x189b92(0xb7d);else _0x4be871=_0x189b92(0xa8a);}}}_0x228d63=_0x189b92(0x425)+_0x391f9a[_0x189b92(0x84e)](0x2)+_0x189b92(0x4c0)+_0x4be871+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x507550=document[_0x189b92(0xcac)](_0x189b92(0x833));_0x507550['innerHTML']=_0x189b92(0x73e)+_0x12a2e3[_0x189b92(0x84e)](0x0)+_0x189b92(0x5e9)+_0x2524ff+'/'+_0x91dcc+_0x189b92(0x205)+_0xa7586d['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x4172a6[_0x189b92(0x84e)](0x0)+_0x189b92(0x30b)+(_0x2e20a5[_0x189b92(0x1d6)]>0x0?Math['max'](..._0x2e20a5):_0x189b92(0x50e))+_0x189b92(0x14a)+(_0x2e20a5['length']>0x0?Math['min'](..._0x2e20a5):'N/A')+_0x189b92(0x7d0)+_0x228d63+'\x0a\x20\x20\x20\x20';const _0x529a58=document[_0x189b92(0xcac)](_0x189b92(0xbdb));_0x529a58&&_0x529a58[_0x189b92(0x419)]();const _0x1a5924=_0x189b92(0xcd6);_0x507550['insertAdjacentHTML'](_0x189b92(0x56d),_0x1a5924);const _0x15f11e=currentProjectData['students']||[];renderSubmissionChart(_0x2524ff,_0x3d66d5,_0x190fd8,_0x15f11e),renderScoreDistributionChart(_0x190fd8,_0x3ddb0a),renderQuestionAnalytics(_0x418ec7,_0x190fd8,_0x15f11e),renderInterestingStats(_0x418ec7,_0x190fd8);}async function handleExportLessonPDF(){const _0x5a2e56=_0x1ca595,_0x14d82b=document[_0x5a2e56(0xcac)](_0x5a2e56(0x42c)),_0x3599a7=document[_0x5a2e56(0xcac)]('lesson-plan-title')[_0x5a2e56(0xc84)],_0x420199=window[_0x5a2e56(0x97d)]('','_blank'),_0x4b9f6c=_0x5a2e56(0x76a)+_0x3599a7+_0x5a2e56(0x47d)+_0x14d82b[_0x5a2e56(0xcaa)]+_0x5a2e56(0x80b);_0x420199['document']['write'](_0x4b9f6c),_0x420199[_0x5a2e56(0x6b1)][_0x5a2e56(0x842)](),_0x420199[_0x5a2e56(0xad6)]=function(){setTimeout(()=>{const _0x56c532=_0x2406;_0x420199[_0x56c532(0x591)]();},0x5dc);};}function renderInterestingStats(_0x5b08b1,_0x1c76dc){const _0x179f7a=_0x1ca595,_0x33c6cf=document[_0x179f7a(0xcac)]('interesting-stats-container');if(!_0x33c6cf)return;if(_0x1c76dc[_0x179f7a(0x1d6)]===0x0){_0x33c6cf['innerHTML']='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x25c713=_0x5b08b1[_0x179f7a(0xbfe)]['map']((_0x3c7eb4,_0x12117f)=>({'index':_0x12117f+0x1,'text':_0x3c7eb4[_0x179f7a(0x6f3)]||_0x3c7eb4['stem'],'correct':0x0}));_0x1c76dc['forEach'](_0x2248f7=>{const _0x5a7912=_0x179f7a,_0x1b4491=_0x2248f7['attempts'][_0x2248f7['attempts'][_0x5a7912(0x1d6)]-0x1];_0x1b4491&&_0x1b4491['answers']&&_0x1b4491['answers'][_0x5a7912(0x99f)](_0x3b0683=>{const _0x566183=_0x5a7912,_0x1ca4ee=_0x25c713[_0x566183(0x2f4)](_0x2cddbc=>_0x2cddbc['text']===_0x3b0683[_0x566183(0x3a9)]);_0x3b0683[_0x566183(0x7fd)]&&_0x1ca4ee&&_0x1ca4ee[_0x566183(0xc70)]++;});});const _0x261bdc=_0x1c76dc[_0x179f7a(0x1d6)],_0x56879d=Math[_0x179f7a(0xdb)](..._0x25c713[_0x179f7a(0x201)](_0x2bc0a4=>_0x2bc0a4[_0x179f7a(0xc70)])),_0x55adda=Math[_0x179f7a(0x390)](..._0x25c713[_0x179f7a(0x201)](_0x21e8c9=>_0x21e8c9[_0x179f7a(0xc70)])),_0x3aa431=_0x25c713[_0x179f7a(0xa00)](_0x36732c=>_0x36732c[_0x179f7a(0xc70)]===_0x56879d)['map'](_0x5de3bb=>_0x179f7a(0x546)+_0x5de3bb[_0x179f7a(0x7a7)]),_0x568972=_0x25c713[_0x179f7a(0xa00)](_0x16e4c5=>_0x16e4c5[_0x179f7a(0xc70)]===_0x55adda)[_0x179f7a(0x201)](_0x3d5d83=>_0x179f7a(0x546)+_0x3d5d83[_0x179f7a(0x7a7)]),_0x20db9b=_0x1c76dc[_0x179f7a(0xb2f)]((_0x3f63fc,_0x48362d)=>_0x48362d[_0x179f7a(0xd3b)]-_0x3f63fc['latestScore'])[_0x179f7a(0xa00)]((_0x2a611b,_0x5504fd,_0x1d2834)=>_0x2a611b[_0x179f7a(0xd3b)]===_0x1d2834[0x0][_0x179f7a(0xd3b)]),_0x6c8e68=_0x1c76dc['sort']((_0x57947e,_0x179079)=>_0x57947e[_0x179f7a(0xd3b)]-_0x179079[_0x179f7a(0xd3b)])[_0x179f7a(0xa00)]((_0x182f56,_0x492ac7,_0x2660f9)=>_0x182f56[_0x179f7a(0xd3b)]===_0x2660f9[0x0]['latestScore']),_0x5ae17f=_0x179f7a(0x2c9)+_0x3aa431['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x56879d+_0x179f7a(0x214)+_0x261bdc+_0x179f7a(0xc2b)+_0x568972[_0x179f7a(0xa88)](',\x20')+_0x179f7a(0x8fd)+(_0x261bdc-_0x55adda)+_0x179f7a(0x214)+_0x261bdc+_0x179f7a(0xd03)+_0x20db9b['map'](_0x18365b=>_0x18365b[_0x179f7a(0x3ef)])['join'](',\x20')+_0x179f7a(0x707)+_0x20db9b[0x0][_0x179f7a(0xd3b)]+_0x179f7a(0x864)+_0x6c8e68['map'](_0x3596c2=>_0x3596c2['studentName'])['join'](',\x20')+_0x179f7a(0x707)+_0x6c8e68[0x0][_0x179f7a(0xd3b)]+_0x179f7a(0xc90);_0x33c6cf[_0x179f7a(0xcaa)]=_0x5ae17f;}function renderSubmissionChart(_0x31511c,_0xcd416a,_0x2b0f38,_0x7e7428){const _0x462f82=_0x1ca595,_0x5b8486=document[_0x462f82(0xcac)]('submission-status-chart')[_0x462f82(0x36d)]('2d'),_0x2288a8=_0x2b0f38[_0x462f82(0x201)](_0x32b35f=>_0x32b35f[_0x462f82(0x3ef)]),_0x486d8f=_0x7e7428[_0x462f82(0xa00)](_0xc45fa4=>!_0x2288a8['includes'](_0xc45fa4));chartInstances[_0x462f82(0xc1f)]&&chartInstances[_0x462f82(0xc1f)][_0x462f82(0x625)](),chartInstances[_0x462f82(0xc1f)]=new Chart(_0x5b8486,{'type':_0x462f82(0x9b0),'data':{'labels':[_0x462f82(0x8fb),_0x462f82(0x220)],'datasets':[{'data':[_0x31511c,_0xcd416a],'backgroundColor':['#10B981',_0x462f82(0xbb3)],'borderColor':['#ffffff',_0x462f82(0x130)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x2f79e1){const _0x3ba08e=_0x462f82;let _0x1d836a=_0x2f79e1['label']||'';return _0x1d836a&&(_0x1d836a+=':\x20'),_0x1d836a+=_0x2f79e1[_0x3ba08e(0x110)],_0x1d836a;},'afterLabel':function(_0x1e2fe6){const _0x1063d4=_0x462f82;let _0x306009;return _0x1e2fe6[_0x1063d4(0x9f3)]===0x0?_0x306009=_0x2288a8:_0x306009=_0x486d8f,_0x306009[_0x1063d4(0x1d6)]>0x0?_0x306009[_0x1063d4(0xa88)]('\x0a'):_0x1063d4(0xb8);}}}}}});}function renderScoreDistributionChart(_0xeb2a57,_0x4d3f25){const _0x390175=_0x1ca595,_0x581bae=document['getElementById']('score-distribution-chart')[_0x390175(0x36d)]('2d'),_0x41281a={};for(let _0x51cf1b=0x0;_0x51cf1b<=_0x4d3f25;_0x51cf1b++){_0x41281a[_0x51cf1b]=0x0;}_0xeb2a57[_0x390175(0x99f)](_0x2e3c94=>{const _0x40d4e7=_0x390175;_0x41281a[_0x2e3c94[_0x40d4e7(0xd3b)]]!==undefined&&_0x41281a[_0x2e3c94[_0x40d4e7(0xd3b)]]++;}),chartInstances[_0x390175(0xa4c)]&&chartInstances[_0x390175(0xa4c)][_0x390175(0x625)](),chartInstances[_0x390175(0xa4c)]=new Chart(_0x581bae,{'type':_0x390175(0xb97),'data':{'labels':Object['keys'](_0x41281a),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x390175(0xc7b)](_0x41281a),'backgroundColor':_0x390175(0x4aa),'borderColor':_0x390175(0xae5),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x390175(0x9ad)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x2211d0){const _0x3ac3b8=_0x390175,_0x322e4c=_0x2211d0['label'],_0x1a0deb=_0xeb2a57[_0x3ac3b8(0xa00)](_0x1560e3=>_0x1560e3[_0x3ac3b8(0xd3b)]==_0x322e4c)[_0x3ac3b8(0x201)](_0x27a0e9=>_0x27a0e9[_0x3ac3b8(0x3ef)]);return _0x1a0deb[_0x3ac3b8(0x1d6)]>0x0?_0x1a0deb[_0x3ac3b8(0xa88)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x5214bb,_0x23eb71,_0x1632c3){const _0x506b12=_0x1ca595,_0x15d113=document[_0x506b12(0xcac)]('question-analytics-container');if(_0x1632c3['length']===0x0){_0x15d113['innerHTML']=_0x506b12(0x6d0);return;}const _0x234037=calculateItemAnalysis(_0x5214bb,_0x23eb71),_0x573c57=calculateDistractorAnalysis(_0x5214bb,_0x23eb71);let _0x56c42e='';_0x234037[_0x506b12(0x538)]&&(_0x56c42e=_0x506b12(0xa17)+_0x234037['overallGroups']['upperGroupNames'][_0x506b12(0x1d6)]+_0x506b12(0x8f1)+_0x234037[_0x506b12(0x538)][_0x506b12(0x3eb)][_0x506b12(0x201)](_0x35488a=>_0x506b12(0x111)+_0x35488a+_0x506b12(0xd6c))[_0x506b12(0xa88)]('')+_0x506b12(0x611)+_0x234037['overallGroups'][_0x506b12(0xcce)]['length']+_0x506b12(0x8f1)+_0x234037[_0x506b12(0x538)][_0x506b12(0xcce)][_0x506b12(0x201)](_0xc5b57f=>_0x506b12(0x111)+_0xc5b57f+_0x506b12(0xd6c))[_0x506b12(0xa88)]('')+_0x506b12(0x958));let _0x468658='';const _0x3ce87b=_0x23eb71['map'](_0x596508=>_0x596508[_0x506b12(0x3ef)]),_0x47d4e2=_0x379f9c=>{const _0x3b4e46=_0x506b12;if(_0x379f9c>=0.8)return _0x3b4e46(0x373);if(_0x379f9c>=0.6)return _0x3b4e46(0xcb9);if(_0x379f9c>=0.4)return _0x3b4e46(0x1d7);if(_0x379f9c>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x3b4e46(0x5b3);},_0x50bdcb=_0x18c827=>{const _0x1f94f8=_0x506b12;if(_0x18c827<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x18c827>=0.4)return _0x1f94f8(0x103);if(_0x18c827>=0.3)return _0x1f94f8(0xaea);if(_0x18c827>=0.2)return _0x1f94f8(0x8c5);return _0x1f94f8(0xb88);},_0xdaed75=_0x21c6bd=>{const _0x56e7f4=_0x506b12,_0x458ca0=_0x21c6bd['toFixed'](0x0);if(parseFloat(_0x458ca0)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x458ca0+_0x56e7f4(0xa8);if(_0x21c6bd>=0x32)return _0x56e7f4(0x7c3)+_0x458ca0+_0x56e7f4(0xa8);return _0x56e7f4(0x5f5)+_0x458ca0+'%</span>';};_0x5214bb['questions']['forEach']((_0x1df1de,_0x3fed92)=>{const _0x597c94=_0x506b12,_0x1cfee2=_0x234037[_0x597c94(0x6bd)][_0x3fed92],_0x5b8715=_0x573c57[_0x3fed92],_0x447ac2=_0x1df1de[_0x597c94(0x216)]||_0x1df1de[_0x597c94(0x6f3)]||_0x1df1de['instructions'];let _0x7f57e=0x0;const _0x583ab6=[],_0x583361=[];_0x23eb71['forEach'](_0x50a2f4=>{const _0x3cc288=_0x597c94,_0x218465=_0x50a2f4[_0x3cc288(0x77d)][_0x50a2f4[_0x3cc288(0x77d)][_0x3cc288(0x1d6)]-0x1];if(_0x218465&&_0x218465['answers']){const _0x5c117b=_0x218465[_0x3cc288(0x54d)][_0x3cc288(0x2f4)](_0x50fcfb=>_0x50fcfb[_0x3cc288(0x3a9)]===_0x447ac2)??_0x218465['answers'][_0x3fed92]??null;_0x5c117b&&(_0x5c117b[_0x3cc288(0x7fd)]?(_0x7f57e++,_0x583ab6[_0x3cc288(0x3bb)](_0x50a2f4[_0x3cc288(0x3ef)])):_0x583361[_0x3cc288(0x3bb)](_0x50a2f4[_0x3cc288(0x3ef)]));}});const _0xcaf384=_0x23eb71['length']>0x0?_0x7f57e/_0x23eb71[_0x597c94(0x1d6)]*0x64:0x0,_0x12d3bd=_0x1632c3[_0x597c94(0xa00)](_0x4b03b8=>!_0x3ce87b[_0x597c94(0x39b)](_0x4b03b8)),_0x33cad1=_0x1cfee2?_0x597c94(0x728)+_0x1cfee2['p']['toFixed'](0x2)+'</p><div>'+_0x47d4e2(_0x1cfee2['p'])+_0x597c94(0x3a6)+_0x1cfee2['r'][_0x597c94(0x84e)](0x2)+_0x597c94(0xa05)+_0x50bdcb(_0x1cfee2['r'])+_0x597c94(0x43c)+_0xdaed75(_0xcaf384)+_0x597c94(0x7de):'';let _0x3f1158='';_0x5b8715&&(_0x3f1158=_0x597c94(0xd20)+Object[_0x597c94(0x236)](_0x5b8715)[_0x597c94(0x201)](_0x26a107=>{const _0xea8854=_0x597c94,_0x39311c=_0x5b8715[_0x26a107],_0x3549fb=parseInt(_0x26a107)===_0x1df1de[_0xea8854(0xc75)],_0x9ee8ae=!_0x3549fb&&_0x39311c[_0xea8854(0x2d8)]>_0x39311c[_0xea8854(0xbd6)];return _0xea8854(0x457)+(_0x3549fb?_0xea8854(0x909):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x3549fb?'✔\x20':'')+_0x39311c[_0xea8854(0xb20)]+_0xea8854(0xc41)+_0x39311c['upper_group_count']+_0xea8854(0xc41)+_0x39311c[_0xea8854(0x2d8)]+'\x20'+(_0x9ee8ae?'👍':'')+_0xea8854(0xc41)+_0x39311c[_0xea8854(0x820)]+_0xea8854(0x182);})[_0x597c94(0xa88)]('')+_0x597c94(0x2d5));let _0x11f0a5='';_0x1cfee2&&_0x1cfee2[_0x597c94(0x66f)]&&(_0x11f0a5=_0x597c94(0xc8d)+_0x1cfee2[_0x597c94(0x66f)][_0x597c94(0x1d6)]+_0x597c94(0x465)+_0x1cfee2[_0x597c94(0x66f)][_0x597c94(0x201)](_0x38ee7d=>_0x597c94(0x111)+(_0x38ee7d['isCorrect']?_0x597c94(0xc7d):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x38ee7d[_0x597c94(0xd33)]+_0x597c94(0xd6c))[_0x597c94(0xa88)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x1cfee2['lowerGroupResponders'][_0x597c94(0x1d6)]+_0x597c94(0x465)+_0x1cfee2['lowerGroupResponders'][_0x597c94(0x201)](_0x30ceea=>_0x597c94(0x111)+(_0x30ceea[_0x597c94(0x7fd)]?_0x597c94(0xc7d):_0x597c94(0x97e))+'\x20'+_0x30ceea[_0x597c94(0xd33)]+_0x597c94(0xd6c))[_0x597c94(0xa88)]('')+_0x597c94(0x67c)),_0x468658+=_0x597c94(0x734)+(_0x3fed92+0x1)+':\x20'+_0x447ac2+_0x597c94(0xc33)+_0x33cad1+_0x597c94(0x6e7)+_0x447ac2+_0x597c94(0x861)+_0x7f57e+'\x20จาก\x20'+_0x23eb71[_0x597c94(0x1d6)]+_0x597c94(0x393)+_0xcaf384[_0x597c94(0x84e)](0x0)+_0x597c94(0x2be)+_0x583ab6[_0x597c94(0x1d6)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x583ab6[_0x597c94(0x1d6)]>0x0?_0x583ab6[_0x597c94(0xa88)](',\x20'):_0x597c94(0xb8))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x583361[_0x597c94(0x1d6)]+_0x597c94(0xd8f)+(_0x583361[_0x597c94(0x1d6)]>0x0?_0x583361[_0x597c94(0xa88)](',\x20'):_0x597c94(0xb8))+_0x597c94(0xbbb)+_0x12d3bd['length']+_0x597c94(0xd8f)+(_0x12d3bd[_0x597c94(0x1d6)]>0x0?_0x12d3bd[_0x597c94(0xa88)](',\x20'):_0x597c94(0xb8))+_0x597c94(0x188)+_0x3f1158+_0x597c94(0xc0)+_0x11f0a5+_0x597c94(0x66e);}),_0x15d113[_0x506b12(0xcaa)]=_0x56c42e+_0x468658;try{window[_0x506b12(0x4a4)]&&MathJax[_0x506b12(0xcf0)]&&MathJax[_0x506b12(0xcf0)]([_0x15d113]);}catch(_0x81793a){console[_0x506b12(0x96)]('MathJax\x20typeset\x20error\x20(analytics):',_0x81793a);}}function calculateDistractorAnalysis(_0x1ec332,_0x326786){const _0x3eebf0=_0x1ca595,_0x43ff76={};if(_0x326786['length']<0x2)return _0x43ff76;const _0x3eded2=[..._0x326786]['sort']((_0x3b29fd,_0xd7aaab)=>{const _0x24777d=_0x2406,_0x35f7c6=_0xd7aaab[_0x24777d(0xd3b)]-_0x3b29fd['latestScore'];if(_0x35f7c6!==0x0)return _0x35f7c6;const _0x73f088=_0x3b29fd[_0x24777d(0x77d)]?.[_0x24777d(0x1d6)]||0x1,_0x4a442f=_0xd7aaab[_0x24777d(0x77d)]?.[_0x24777d(0x1d6)]||0x1,_0x4fc88a=_0x73f088-_0x4a442f;if(_0x4fc88a!==0x0)return _0x4fc88a;const _0x4e6018=new Date(_0x3b29fd[_0x24777d(0x20d)]),_0x213fd8=new Date(_0xd7aaab[_0x24777d(0x20d)]),_0x1c36cf=_0x4e6018-_0x213fd8;if(_0x1c36cf!==0x0)return _0x1c36cf;return _0x3b29fd[_0x24777d(0x3ef)][_0x24777d(0xbf1)](_0xd7aaab[_0x24777d(0x3ef)],'th');}),_0x1d8ffe=_0x3eded2[_0x3eebf0(0x1d6)],_0x25fbb6=Math['max'](0x1,Math[_0x3eebf0(0xd51)](_0x1d8ffe*0.33)),_0x1cb647=_0x3eded2[_0x3eebf0(0x2ea)](0x0,_0x25fbb6),_0x574f0e=_0x3eded2[_0x3eebf0(0x2ea)](-_0x25fbb6);return _0x1ec332['questions'][_0x3eebf0(0x99f)]((_0x3d6f41,_0xe98ef1)=>{const _0x53b879=_0x3eebf0;if(_0x3d6f41[_0x53b879(0xc34)]!=='multiple_choice'||!_0x3d6f41['options'])return;const _0x453621=_0x3d6f41[_0x53b879(0x6f3)],_0x5c76a6={};_0x3d6f41['options'][_0x53b879(0x99f)]((_0x306b1c,_0xaf3661)=>{_0x5c76a6[_0xaf3661]={'text':_0x306b1c,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3eded2[_0x53b879(0x99f)](_0x169180=>{const _0x54865e=_0x53b879,_0x329927=_0x169180[_0x54865e(0x77d)][_0x169180[_0x54865e(0x77d)][_0x54865e(0x1d6)]-0x1],_0x3f4222=_0x329927[_0x54865e(0x54d)]['find'](_0x539d54=>_0x539d54[_0x54865e(0x3a9)]===_0x453621);if(_0x3f4222&&_0x3f4222['answer']!==null){const _0x615e15=_0x3d6f41[_0x54865e(0x63f)][_0x54865e(0x4cb)](_0x34f349=>_0x34f349===_0x3f4222[_0x54865e(0xa5f)]);_0x615e15!==-0x1&&_0x5c76a6[_0x615e15]&&(_0x5c76a6[_0x615e15][_0x54865e(0x820)]++,_0x1cb647[_0x54865e(0x39b)](_0x169180)&&_0x5c76a6[_0x615e15][_0x54865e(0xbd6)]++,_0x574f0e[_0x54865e(0x39b)](_0x169180)&&_0x5c76a6[_0x615e15][_0x54865e(0x2d8)]++);}}),_0x43ff76[_0xe98ef1]=_0x5c76a6;}),_0x43ff76;}function calculateReliabilityKR20(_0x7e1fe4,_0x527caa,_0x582c17){const _0x2db9db=_0x1ca595,_0x51e473=_0x7e1fe4[_0x2db9db(0xbfe)][_0x2db9db(0x1d6)];if(_0x51e473<0x2||_0x527caa[_0x2db9db(0x1d6)]<0x2)return null;const _0x260be3=_0x527caa['map'](_0x84b3ac=>_0x84b3ac['latestScore']),_0x33208a=_0x260be3[_0x2db9db(0x231)]((_0x38ad6a,_0x208d23)=>_0x38ad6a+_0x208d23,0x0)/_0x260be3['length'],_0x536424=_0x260be3[_0x2db9db(0x201)](_0x15a935=>Math[_0x2db9db(0xd84)](_0x15a935-_0x33208a,0x2))[_0x2db9db(0x231)]((_0x406a3d,_0x421fe0)=>_0x406a3d+_0x421fe0,0x0)/_0x260be3['length'];if(_0x536424===0x0)return null;let _0x14e5a1=0x0;for(let _0x353a72=0x0;_0x353a72<_0x51e473;_0x353a72++){const _0x34e66c=_0x582c17[_0x353a72]?.['p'];if(_0x34e66c===undefined)continue;const _0x5b062b=0x1-_0x34e66c;_0x14e5a1+=_0x34e66c*_0x5b062b;}if(_0x14e5a1===0x0)return null;const _0x2a2aa8=_0x51e473/(_0x51e473-0x1)*(0x1-_0x14e5a1/_0x536424);if(_0x2a2aa8>0x1)return null;return _0x2a2aa8;}async function handleAnalyzeClass(){const _0x49fe1c=_0x1ca595;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x49fe1c(0xa5b));return;}const _0x221e54=collection(db,_0x49fe1c(0x54a)+appId+_0x49fe1c(0x292)+currentQuizData['id']+'/submissions'),_0x28d2cf=await getDocs(_0x221e54),_0x4d9a7e=_0x28d2cf[_0x49fe1c(0x26a)]['map'](_0x5c3f99=>_0x5c3f99[_0x49fe1c(0xb6)]());if(_0x4d9a7e[_0x49fe1c(0x1d6)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x4439d5=document[_0x49fe1c(0xcac)](_0x49fe1c(0xaa1));_0x4439d5[_0x49fe1c(0xcaa)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x49fe1c(0xcac)](_0x49fe1c(0x618))['disabled']=!![];const _0x4a0ecc=_0x4d9a7e['map']((_0xf07857,_0xedcc86)=>{const _0x112bda=_0x49fe1c,_0x1f9714=_0xf07857['attempts'][_0xf07857['attempts'][_0x112bda(0x1d6)]-0x1];if(!_0x1f9714)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0xedcc86+0x1)+'\x20('+_0xf07857[_0x112bda(0x3ef)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x1f9714[_0x112bda(0xa4c)]+'/'+_0xf07857[_0x112bda(0x694)]+_0x112bda(0x9f1)+JSON[_0x112bda(0x71f)](_0x1f9714['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x49fe1c(0xa88)](_0x49fe1c(0x204)),_0x9e2df9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData['topic']+_0x49fe1c(0x54f)+JSON[_0x49fe1c(0x71f)](currentQuizData[_0x49fe1c(0xbfe)])+_0x49fe1c(0x811)+_0x4a0ecc+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x5b4919={'type':'OBJECT','properties':{'classStrengths':{'type':_0x49fe1c(0x8e3),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x49fe1c(0x8e3),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x49fe1c(0x8e3),'items':{'type':_0x49fe1c(0xa26)}}},'required':[_0x49fe1c(0x878),_0x49fe1c(0xbe1),_0x49fe1c(0x2ad)]};try{const _0x676aa0=await callAnalysisApi(_0x9e2df9,_0x5b4919);displayClassAnalysis(_0x676aa0);}catch(_0x385444){console[_0x49fe1c(0x96)](_0x49fe1c(0x9be),_0x385444),_0x4439d5[_0x49fe1c(0xcaa)]=_0x49fe1c(0xb9c)+_0x385444[_0x49fe1c(0xaee)]+_0x49fe1c(0xc86);}finally{document[_0x49fe1c(0xcac)]('analyze-strengths-btn')['disabled']=![];}}function displayClassAnalysis(_0x2d82ee){const _0xc0b8b7=_0x1ca595,_0x41add7=document['getElementById'](_0xc0b8b7(0xaa1));if(!_0x2d82ee){_0x41add7['innerHTML']=_0xc0b8b7(0x50d);return;}_0x41add7[_0xc0b8b7(0xcaa)]=_0xc0b8b7(0xb35)+_0x2d82ee[_0xc0b8b7(0x878)][_0xc0b8b7(0x201)](_0x43e9ab=>_0xc0b8b7(0x111)+_0x43e9ab+'</li>')[_0xc0b8b7(0xa88)]('')+_0xc0b8b7(0x905)+_0x2d82ee[_0xc0b8b7(0xbe1)][_0xc0b8b7(0x201)](_0x702d47=>_0xc0b8b7(0x111)+_0x702d47+_0xc0b8b7(0xd6c))[_0xc0b8b7(0xa88)]('')+_0xc0b8b7(0x5ac)+_0x2d82ee[_0xc0b8b7(0x2ad)][_0xc0b8b7(0x201)](_0x13e8f9=>_0xc0b8b7(0x111)+_0x13e8f9+_0xc0b8b7(0xd6c))[_0xc0b8b7(0xa88)]('')+_0xc0b8b7(0x10a);}function formatAndPrintWorksheet(_0x3f40b4,_0x3a9add){const _0x5d97f0=_0x1ca595,_0x51dd9d=_0x5d97f0(0xcdd)+_0x3f40b4[_0x5d97f0(0xa64)]+_0x5d97f0(0x3be)+_0x3f40b4[_0x5d97f0(0xa64)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f40b4['questions'][_0x5d97f0(0x201)]((_0x459ceb,_0xf53e82)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0xf53e82+0x1)+'.\x20'+_0x459ceb[_0x5d97f0(0x6f3)]+_0x5d97f0(0x339)+(_0x459ceb[_0x5d97f0(0x2d0)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x459ceb[_0x5d97f0(0x2d0)]+_0x5d97f0(0x4dd):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3a9add[_0x5d97f0(0x6b1)]['write'](_0x51dd9d),_0x3a9add[_0x5d97f0(0x6b1)]['close'](),_0x3a9add[_0x5d97f0(0xad6)]=function(){setTimeout(()=>{const _0x3a2908=_0x2406;_0x3a9add[_0x3a2908(0x591)]();},0x3e8);};}async function generateWorksheet(){const _0x3bc809=_0x1ca595,_0x1d390a=document[_0x3bc809(0xcac)](_0x3bc809(0xaa7))['value'][_0x3bc809(0x964)]();if(!_0x1d390a){showMessage(_0x3bc809(0x956));return;}const _0x8529a0=document[_0x3bc809(0xcac)](_0x3bc809(0x6a7))[_0x3bc809(0xa81)],_0x561e98=_0x8529a0?'':_0x3bc809(0x296),_0x46bc5e=window[_0x3bc809(0x97d)]('',_0x3bc809(0x3a4));_0x46bc5e['document'][_0x3bc809(0xca7)](_0x3bc809(0xb8a));const _0xff09a9=parseInt(document['getElementById'](_0x3bc809(0x1b5))[_0x3bc809(0x41e)]),_0x5bbc8a=document[_0x3bc809(0xcac)](_0x3bc809(0xcc0))[_0x3bc809(0xa81)],_0x411f78=_0x5bbc8a?_0x3bc809(0xd10):'',_0x1123bb=_0x3bc809(0x74e)+_0x561e98+'ที่พิมพ์ได้\x20จำนวน\x20'+_0xff09a9+_0x3bc809(0x470)+_0x1d390a+_0x3bc809(0xb04)+_0x411f78+_0x3bc809(0xaa6)+simpleMathPrompt+_0x3bc809(0x5f7),_0x2b5289={'type':_0x3bc809(0xb15),'properties':{'topic':{'type':_0x3bc809(0xa26)},'questions':{'type':_0x3bc809(0x8e3),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x3bc809(0xa26)},'imageCode':{'type':_0x3bc809(0xa26)}},'required':[_0x3bc809(0x6f3)]}}},'required':[_0x3bc809(0xa64),_0x3bc809(0xbfe)]};document[_0x3bc809(0xcac)]('loader-text')[_0x3bc809(0xc84)]='',document[_0x3bc809(0xcac)](_0x3bc809(0x2b9))[_0x3bc809(0x325)]['remove'](_0x3bc809(0x60b)),document[_0x3bc809(0xcac)]('quiz-generation-area')[_0x3bc809(0x325)][_0x3bc809(0x419)](_0x3bc809(0x60b)),generateWorksheetBtn[_0x3bc809(0x25a)]=!![];try{const _0x179d2b=await callAnalysisApi(_0x1123bb,_0x2b5289);formatAndPrintWorksheet(_0x179d2b,_0x46bc5e);}catch(_0x531a1a){console[_0x3bc809(0x96)](_0x3bc809(0x25e),_0x531a1a);if(_0x46bc5e)_0x46bc5e[_0x3bc809(0x842)]();showMessage(_0x3bc809(0x4b6));}finally{document[_0x3bc809(0xcac)](_0x3bc809(0x2b9))['classList'][_0x3bc809(0xd3c)]('hidden'),document[_0x3bc809(0xcac)](_0x3bc809(0xd95))['classList']['add'](_0x3bc809(0x60b)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x36bfcf,_0x200205){const _0x438dfc=_0x1ca595,_0x47489d={'contents':[{'role':_0x438dfc(0x129),'parts':[{'text':_0x36bfcf}]}],'generationConfig':{'responseMimeType':_0x438dfc(0x105),'responseSchema':_0x200205}},_0x4d2666=_0x438dfc(0xb1a),_0x105609=_0x438dfc(0x34d)+_0x4d2666,_0x419dea=await fetch(_0x105609,{'method':_0x438dfc(0xd28),'headers':{'Content-Type':_0x438dfc(0x105)},'body':JSON[_0x438dfc(0x71f)](_0x47489d)});if(!_0x419dea['ok'])throw new Error(_0x438dfc(0x3c6)+_0x419dea[_0x438dfc(0x670)]);const _0x42b351=await _0x419dea[_0x438dfc(0xb7f)]();if(_0x42b351[_0x438dfc(0x3c0)]?.[0x0]?.[_0x438dfc(0x37d)]?.[_0x438dfc(0xcd)]?.[0x0])return JSON[_0x438dfc(0x444)](_0x42b351[_0x438dfc(0x3c0)][0x0]['content'][_0x438dfc(0xcd)][0x0][_0x438dfc(0xb20)]);else{let _0x200dc0=_0x438dfc(0x580);if(_0x42b351[_0x438dfc(0x91)]?.[_0x438dfc(0xd75)])_0x200dc0=_0x438dfc(0x102)+_0x42b351[_0x438dfc(0x91)][_0x438dfc(0xd75)]+'.';else _0x42b351['candidates']?.[0x0]?.[_0x438dfc(0x5ba)]&&_0x42b351['candidates'][0x0][_0x438dfc(0x5ba)]!=='STOP'&&(_0x200dc0=_0x438dfc(0x262)+_0x42b351[_0x438dfc(0x3c0)][0x0][_0x438dfc(0x5ba)]+'.');console[_0x438dfc(0x96)](_0x200dc0,JSON[_0x438dfc(0x71f)](_0x42b351));throw new Error(_0x200dc0);}}async function handleStartSyncMode(_0x26c0a0,_0x4ca699=![],_0x25d971='classic'){const _0x393629=_0x1ca595,_0x53558c=allQuizzes[_0x393629(0x2f4)](_0x471f37=>_0x471f37['id']===_0x26c0a0)||allQuizzesGlobal['find'](_0x3b79f4=>_0x3b79f4['id']===_0x26c0a0);if(!_0x53558c){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x53558c);const _0x1edc42=Math[_0x393629(0xd51)](0x3e8+Math[_0x393629(0x6b8)]()*0x2328)[_0x393629(0x287)](),_0x423498=doc(db,_0x393629(0x54a)+appId+_0x393629(0x737),_0x53558c[_0x393629(0x98d)]),_0x48f7ff=await getDoc(_0x423498);if(!_0x48f7ff['exists']()){showMessage(_0x393629(0x272));return;}const _0x26dc85=_0x48f7ff[_0x393629(0xb6)]()['students']||[],_0x5d8cdf={};if(_0x25d971===_0x393629(0x8e1)){const _0x51189d=[...ANONYMOUS_NAMES][_0x393629(0xb2f)](()=>0.5-Math[_0x393629(0x6b8)]());_0x26dc85[_0x393629(0x99f)]((_0x45bd0c,_0x5a6521)=>{const _0x2948f0=_0x393629;_0x5d8cdf[_0x45bd0c]=_0x51189d[_0x5a6521]||_0x2948f0(0x3bf)+(_0x5a6521+0x1);});}const _0x29fcf4=document['getElementById'](_0x393629(0x58d))[_0x393629(0xa81)],_0x3a69b6=parseInt(document[_0x393629(0xcac)](_0x393629(0x8ac))[_0x393629(0x41e)],0xa);let _0x54af76={'timerMode':_0x393629(0x2c2),'timerDuration':0x0};_0x29fcf4&&(_0x54af76[_0x393629(0x233)]=_0x393629(0x308),_0x54af76[_0x393629(0xa4b)]=_0x3a69b6||0xf0);const _0x2684a8=document[_0x393629(0xcac)](_0x393629(0xa0b))[_0x393629(0xa81)],_0x177ebb=document[_0x393629(0xcac)](_0x393629(0xc8e))[_0x393629(0xa81)];try{const _0x36495b=await addDoc(collection(db,'artifacts/'+appId+_0x393629(0xa14)),{'quizId':_0x53558c['id'],'pin':_0x1edc42,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4ca699,'players':{},'gameVariant':_0x25d971,'reviewQuestionIndex':0x0,'playerNicknames':_0x5d8cdf,'isAnonymousRevealed':![],..._0x54af76,'showAnswerInAnonymous':_0x2684a8,'isBlackMarketEnabled':_0x177ebb});currentLiveGameId=_0x36495b['id'],showView('live-game'),renderSyncLobbyView(_0x1edc42,_0x53558c['topic']),listenForSyncGameUpdates();const _0x5e720f={'gameId':currentLiveGameId,'mode':_0x393629(0x417),'role':_0x393629(0x28d)};sessionStorage[_0x393629(0x616)](_0x393629(0x5fd),JSON[_0x393629(0x71f)](_0x5e720f));}catch(_0x239ef4){console[_0x393629(0x96)](_0x393629(0x553),_0x239ef4),showMessage(_0x393629(0x415));}}function calculateFinalPodiumScores(_0x2d6936){const _0x1832ee=_0x1ca595;if(!_0x2d6936||!_0x2d6936[_0x1832ee(0xc09)]||!_0x2d6936[_0x1832ee(0x1ff)])return _0x2d6936[_0x1832ee(0x1ff)]||{};const _0x243ac7=_0x2d6936[_0x1832ee(0xc09)][_0x1832ee(0xbfe)][_0x1832ee(0x1d6)],_0x404eac=JSON['parse'](JSON[_0x1832ee(0x71f)](_0x2d6936[_0x1832ee(0x1ff)]));return Object[_0x1832ee(0xc7b)](_0x404eac)[_0x1832ee(0x99f)](_0x2c9d71=>{const _0x23e57a=_0x1832ee,_0x247234=_0x2c9d71[_0x23e57a(0xa4c)]||0x0,_0x46aa45=_0x2c9d71[_0x23e57a(0x9c8)]||0x0;_0x243ac7>0x0&&_0x247234===_0x243ac7?_0x2c9d71['hasPerfectScoreBonus']=!![]:_0x2c9d71[_0x23e57a(0xa5e)]=![],_0x2c9d71['realScore']=_0x247234,_0x2c9d71[_0x23e57a(0x9c8)]=_0x46aa45;}),_0x404eac;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x54a9b2=_0x1ca595;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x1be2bf=doc(db,_0x54a9b2(0x54a)+appId+_0x54a9b2(0xa14),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1be2bf,_0x26c05c=>{const _0x1a5059=_0x54a9b2;if(!_0x26c05c['exists']()){sessionStorage[_0x1a5059(0xe1)](_0x1a5059(0x5fd)),showMessage(_0x1a5059(0xd70));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1a5059(0x28d)?showView(_0x1a5059(0x4a6)):showView(_0x1a5059(0xb63));return;}cachedGameData=_0x26c05c['data'](),cachedGameData[_0x1a5059(0xc09)]&&(currentQuizData=cachedGameData[_0x1a5059(0xc09)]),syncDataAndRender();});const _0x4c79cb=collection(db,_0x54a9b2(0x54a)+appId+_0x54a9b2(0x691)+currentLiveGameId+'/players');if(currentMode===_0x54a9b2(0x28d))unsubscribePlayersCollectionListener=onSnapshot(_0x4c79cb,_0x2b3f7f=>{const _0x29f636=_0x54a9b2;_0x2b3f7f[_0x29f636(0x98c)]()[_0x29f636(0x99f)](_0x49d37e=>{const _0x4303d1=_0x29f636;if(_0x49d37e['type']===_0x4303d1(0x80f)||_0x49d37e['type']===_0x4303d1(0xb6b))cachedPlayerData[_0x49d37e['doc']['id']]=_0x49d37e[_0x4303d1(0x10b)][_0x4303d1(0xb6)]();else _0x49d37e[_0x4303d1(0x159)]==='removed'&&delete cachedPlayerData[_0x49d37e['doc']['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x54a9b2(0x1d6)]>0x0){const _0x30f76a=query(_0x4c79cb,where(_0x54a9b2(0xd33),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x30f76a,_0x440b1e=>{const _0x140521=_0x54a9b2;_0x440b1e['docChanges']()[_0x140521(0x99f)](_0x141390=>{const _0x1a7725=_0x140521;(_0x141390['type']===_0x1a7725(0x80f)||_0x141390['type']===_0x1a7725(0xb6b))&&(cachedPlayerData[_0x141390[_0x1a7725(0x10b)]['id']]=_0x141390[_0x1a7725(0x10b)][_0x1a7725(0xb6)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x17601a=_0x1ca595;if(!cachedGameData)return;const _0x5f9aa6={},_0x221e2c=cachedGameData[_0x17601a(0x464)];Object['keys'](cachedPlayerData)[_0x17601a(0x99f)](_0x37add6=>{const _0x17e505=_0x17601a,_0x231916=cachedPlayerData[_0x37add6],_0x185b38=_0x231916[_0x17e505(0x54d)]&&_0x231916[_0x17e505(0x54d)]['some'](_0x30b96e=>_0x30b96e[_0x17e505(0x65b)]===_0x221e2c);_0x5f9aa6[_0x37add6]={..._0x231916,'answered':_0x185b38};});const _0x143564={...cachedGameData,'players':_0x5f9aa6};currentMode==='admin'?updateAdminSyncView(_0x143564):updateStudentSyncView(_0x143564);}function renderSyncLobbyView(_0x1f0ffe,_0x54a5fa){const _0x26ddf3=_0x1ca595;liveGameView[_0x26ddf3(0xcaa)]=_0x26ddf3(0x71c)+_0x54a5fa+_0x26ddf3(0x7ac)+_0x1f0ffe+_0x26ddf3(0xcbf);const _0x20efd8=document[_0x26ddf3(0xcac)](_0x26ddf3(0x60e)),_0x503939=document[_0x26ddf3(0xcac)]('confidence-scoring-description');_0x20efd8[_0x26ddf3(0x8d3)]('change',()=>{const _0x398cb0=_0x26ddf3;_0x503939[_0x398cb0(0x300)][_0x398cb0(0xa0e)]=_0x20efd8[_0x398cb0(0xa81)]?_0x398cb0(0xb8f):_0x398cb0(0x2c2);}),document[_0x26ddf3(0xcac)](_0x26ddf3(0x2a5))[_0x26ddf3(0x8d3)](_0x26ddf3(0xc47),async()=>{const _0x5367de=_0x26ddf3,_0x1eea3c=doc(db,_0x5367de(0x54a)+appId+_0x5367de(0xa14),currentLiveGameId),_0x48489d=document[_0x5367de(0xcac)](_0x5367de(0x60e))[_0x5367de(0xa81)];await updateDoc(_0x1eea3c,{'status':_0x5367de(0xc52),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x48489d});});}function updateAdminSyncView(_0x567dc9){const _0x5f4bf6=_0x1ca595;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x567dc9[_0x5f4bf6(0x670)]){case _0x5f4bf6(0xc7a):renderSyncLobbyView(_0x567dc9[_0x5f4bf6(0x482)],_0x567dc9['shuffledQuiz'][_0x5f4bf6(0xa64)]);const _0x1c7afe=Object[_0x5f4bf6(0xb45)](_0x567dc9['players']||{})[_0x5f4bf6(0xa00)](([_0x25830b,_0x118e42])=>_0x118e42[_0x5f4bf6(0x670)]!==_0x5f4bf6(0xc3f));document['getElementById'](_0x5f4bf6(0x551))[_0x5f4bf6(0xc84)]=_0x1c7afe[_0x5f4bf6(0x1d6)],document[_0x5f4bf6(0xcac)]('player-list-lobby')['innerHTML']=_0x1c7afe['map'](([_0x1a9de9,_0x3b67e4])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1a9de9+_0x5f4bf6(0x1f1)+_0x1a9de9+_0x5f4bf6(0x593))[_0x5f4bf6(0xa88)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x5f4bf6(0xcac)](_0x5f4bf6(0x2a5))[_0x5f4bf6(0x25a)]=_0x1c7afe[_0x5f4bf6(0x1d6)]===0x0;break;case _0x5f4bf6(0xc52):const _0x3c4137=Object[_0x5f4bf6(0xc7b)](_0x567dc9[_0x5f4bf6(0x1ff)]||{})[_0x5f4bf6(0xa00)](_0x22abfa=>_0x22abfa[_0x5f4bf6(0x670)]!==_0x5f4bf6(0xc3f)),_0x1ee056=_0x3c4137[_0x5f4bf6(0xa00)](_0x33f854=>_0x33f854[_0x5f4bf6(0x49e)])[_0x5f4bf6(0x1d6)],_0xa87fb3=_0x1ee056===_0x3c4137['length']&&_0x3c4137[_0x5f4bf6(0x1d6)]>0x0;if(_0xa87fb3&&_0x567dc9['status']==='question'){const _0x3ae5ee=doc(db,_0x5f4bf6(0x54a)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x3ae5ee,{'status':_0x5f4bf6(0x898)});return;}if(document[_0x5f4bf6(0xcac)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x567dc9);else{const _0x39a9c3=document[_0x5f4bf6(0xcac)](_0x5f4bf6(0x416));_0x39a9c3&&(_0x39a9c3[_0x5f4bf6(0xc84)]=_0x1ee056+'/'+_0x3c4137['length']);const _0x252f91=document[_0x5f4bf6(0xcac)](_0x5f4bf6(0x496));_0x252f91&&(_0x252f91[_0x5f4bf6(0xcaa)]=_0x3c4137['map'](_0x3fdab7=>{const _0x122bce=_0x5f4bf6,_0x2a0fa9=_0x3fdab7[_0x122bce(0x49e)]?_0x122bce(0x26d):_0x122bce(0x443),_0x43aef3=_0x3fdab7[_0x122bce(0x49e)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x122bce(0xaec);return'<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x2a0fa9+'\x22>'+_0x43aef3+_0x122bce(0x8ab)+_0x3fdab7[_0x122bce(0xd33)]+'</span><button\x20data-player-name=\x22'+_0x3fdab7[_0x122bce(0xd33)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>';})[_0x5f4bf6(0xa88)](''));}const _0x3cac78=_0x567dc9[_0x5f4bf6(0x233)]==='per_question'&&_0x567dc9['questionDisplayedAt'];if(_0x3cac78){const _0x188800=_0x567dc9[_0x5f4bf6(0xb0e)][_0x5f4bf6(0x526)]()[_0x5f4bf6(0xb68)](),_0x467cd2=_0x567dc9['timerDuration']*0x3e8,_0x167e82=_0x188800+_0x467cd2,_0x1dfeda=document[_0x5f4bf6(0xcac)](_0x5f4bf6(0x4a5)),_0x31e057=document['getElementById']('sync-timer-countdown');syncQuestionTimerInterval=setInterval(()=>{const _0x586a98=_0x5f4bf6,_0x384784=Date['now'](),_0x2a7d9f=_0x3c4137[_0x586a98(0x1d6)]>0x0&&_0x3c4137['every'](_0x3ff429=>{const _0x3f20b3=_0x586a98;if(_0x3ff429[_0x3f20b3(0x49e)])return!![];const _0x3f73c1=_0x3ff429['timeBonusThisQuestion']||0x0;return _0x384784>=_0x188800+_0x467cd2+_0x3f73c1;});if(_0x2a7d9f){clearInterval(syncQuestionTimerInterval);const _0x380c99=doc(db,_0x586a98(0x54a)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x380c99,{'status':_0x586a98(0x898)});return;}const _0x5b903a=_0x167e82-_0x384784;if(_0x5b903a<=0x0){if(_0x1dfeda)_0x1dfeda['style']['width']='0%';if(_0x31e057)_0x31e057[_0x586a98(0xc84)]='0\x20(รอโบนัส)';}else{if(_0x1dfeda&&_0x31e057){const _0x5779bb=_0x5b903a/_0x467cd2*0x64;_0x1dfeda[_0x586a98(0x300)][_0x586a98(0x1a0)]=_0x5779bb+'%',_0x31e057[_0x586a98(0xc84)]=Math[_0x586a98(0xb2a)](_0x5b903a/0x3e8);}}},0x1f4);}break;case _0x5f4bf6(0x898):const _0x2341f1=_0x567dc9['currentQuestionIndex'],_0x23969c=_0x567dc9[_0x5f4bf6(0xc09)][_0x5f4bf6(0xbfe)][_0x2341f1];renderSyncSummaryView(_0x567dc9,_0x23969c,!![]);break;case _0x5f4bf6(0x5a0):const _0x515291=_0x567dc9['gameVariant']||_0x5f4bf6(0x81f);_0x515291===_0x5f4bf6(0x9a)?renderAdminSyncDashboard(_0x567dc9,!![],_0x567dc9[_0x5f4bf6(0xcf9)]):(_0x567dc9[_0x5f4bf6(0x670)]==='results'&&!_0x567dc9[_0x5f4bf6(0x1b1)]&&((async()=>{const _0x5bf26a=_0x5f4bf6;try{const _0x5125c7=doc(db,'artifacts/'+appId+_0x5bf26a(0xa14),currentLiveGameId);await updateDoc(_0x5125c7,{'scoresCalculated':!![]});const _0x49cb0a=cachedPlayerData||{},_0xbf2a81=_0x567dc9[_0x5bf26a(0xc09)][_0x5bf26a(0xbfe)][_0x5bf26a(0x1d6)],_0x22b02f={};Object[_0x5bf26a(0xc7b)](_0x49cb0a)[_0x5bf26a(0x99f)](_0x59170a=>{const _0x3fd59e=_0x5bf26a;if(_0x59170a['status']!==_0x3fd59e(0xc3f)){const _0x4b8f6b=_0x59170a['name'],_0x233d2d=(_0x59170a[_0x3fd59e(0x54d)]||[])[_0x3fd59e(0x2f4)](_0x18147b=>_0x18147b[_0x3fd59e(0x65b)]===_0x567dc9['currentQuestionIndex']),_0x2d9b01=_0x59170a[_0x3fd59e(0xa4c)]||0x0,_0x716385=_0x59170a[_0x3fd59e(0x9c8)]||0x0;let _0xc56daa=_0x716385;_0xbf2a81>0x0&&_0x2d9b01===_0xbf2a81&&(_0xc56daa+=0x1),_0x22b02f[_0x3fd59e(0x8d5)+_0x4b8f6b+'.score']=_0x2d9b01,_0x22b02f[_0x3fd59e(0x8d5)+_0x4b8f6b+_0x3fd59e(0x1a5)]=_0xc56daa,_0x22b02f[_0x3fd59e(0x8d5)+_0x4b8f6b+'.pointsLastRound']=_0xc56daa;}}),await updateDoc(_0x5125c7,{..._0x22b02f});}catch(_0x289941){console[_0x5bf26a(0x96)](_0x5bf26a(0xbea),_0x289941);}})()),renderAdminSyncDashboard(_0x567dc9,!![],_0x567dc9[_0x5f4bf6(0x464)]));break;case _0x5f4bf6(0x5bc):_0x567dc9[_0x5f4bf6(0x8b8)]&&saveGameResultsAsSubmissions(_0x567dc9);sessionStorage[_0x5f4bf6(0xe1)](_0x5f4bf6(0x5fd));const _0x5c49ca=calculateFinalPodiumScores(_0x567dc9);showPodiumView(_0x5c49ca,'sync',_0x567dc9);break;}}function renderAdminSyncQuestionView(_0xfc60a0){const _0x33daaf=_0x1ca595,_0x4ae961=_0xfc60a0[_0x33daaf(0x464)],_0x1c2bf5=_0xfc60a0[_0x33daaf(0xc09)][_0x33daaf(0xbfe)][_0x4ae961],_0x542957=_0xfc60a0[_0x33daaf(0xc09)][_0x33daaf(0xbfe)][_0x33daaf(0x1d6)],_0x4026f8=Object[_0x33daaf(0xc7b)](_0xfc60a0[_0x33daaf(0x1ff)]||{})['filter'](_0x32c4d9=>_0x32c4d9['status']!==_0x33daaf(0xc3f)),_0x22430c=_0x4026f8[_0x33daaf(0xa00)](_0x8b8df1=>_0x8b8df1['answered'])[_0x33daaf(0x1d6)],_0x61781c=_0x22430c===_0x4026f8[_0x33daaf(0x1d6)]&&_0x4026f8[_0x33daaf(0x1d6)]>0x0,_0x392f48=(_0x1c2bf5['options']||[])['map'](_0x280e74=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x280e74+_0x33daaf(0x4dd))[_0x33daaf(0xa88)]('');let _0x1ddf7c='';_0xfc60a0[_0x33daaf(0x233)]==='per_question'&&(_0x1ddf7c=_0x33daaf(0x44f)+_0xfc60a0[_0x33daaf(0xa4b)]+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0x33daaf(0xcaa)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x4ae961+0x1)+_0x33daaf(0x214)+_0x542957+_0x33daaf(0x2e0)+_0xfc60a0[_0x33daaf(0x482)]+_0x33daaf(0xc4b)+_0x22430c+'/'+_0x4026f8[_0x33daaf(0x1d6)]+_0x33daaf(0xb0b)+_0x1ddf7c+_0x33daaf(0x86c)+_0x1c2bf5[_0x33daaf(0x6f3)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x392f48+_0x33daaf(0x936)+(!_0x61781c?_0x33daaf(0x25a):'')+_0x33daaf(0x601);if(window[_0x33daaf(0x4a4)])MathJax[_0x33daaf(0xcf0)]();const _0x1d3248=doc(db,'artifacts/'+appId+_0x33daaf(0xa14),currentLiveGameId);document[_0x33daaf(0xcac)](_0x33daaf(0x866))[_0x33daaf(0x8d3)]('click',async()=>{const _0x2ae3cf=_0x33daaf;await updateDoc(_0x1d3248,{'status':_0x2ae3cf(0x898)});}),document[_0x33daaf(0xcac)]('open-sync-scratchpad-btn')[_0x33daaf(0x733)]=()=>{openScratchpad(_0x1c2bf5,_0x1c2bf5['options']||[]);},document['getElementById'](_0x33daaf(0x2d6))[_0x33daaf(0x8d3)](_0x33daaf(0xc47),()=>{const _0x3eeaa1=_0x33daaf;document[_0x3eeaa1(0xcac)](_0x3eeaa1(0xec))[_0x3eeaa1(0x325)]['toggle'](_0x3eeaa1(0x60b));});const _0xaf3322=document[_0x33daaf(0xcac)](_0x33daaf(0x924));_0xaf3322&&(_0xaf3322['onclick']=()=>{const _0x1a014a=_0x33daaf;showConfirmation(_0x1a014a(0x857),async()=>{await updateDoc(_0x1d3248,{'status':'podium'});});});}function renderSyncLeaderboardView(_0xb6563c,_0x328d34){const _0x5f06b6=_0x1ca595,_0x4466e6=Object[_0x5f06b6(0xc7b)](_0xb6563c[_0x5f06b6(0x1ff)]||{});_0x4466e6[_0x5f06b6(0xb2f)]((_0x12e206,_0x1fd752)=>_0x1fd752[_0x5f06b6(0xa4c)]-_0x12e206[_0x5f06b6(0xa4c)]);const _0x3a97f0=_0x4466e6[_0x5f06b6(0x2ea)](0x0,0x5);let _0x4d8f9b='';if(_0x328d34){const _0x1670b0=_0xb6563c[_0x5f06b6(0x464)]>=_0xb6563c[_0x5f06b6(0xc09)][_0x5f06b6(0xbfe)]['length']-0x1;_0x4d8f9b='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x1670b0?_0x5f06b6(0x782):_0x5f06b6(0x4d1))+_0x5f06b6(0x1c7);}else _0x4d8f9b=_0x5f06b6(0x37b);liveGameView[_0x5f06b6(0xcaa)]=_0x5f06b6(0xbc6)+_0x3a97f0[_0x5f06b6(0x201)]((_0x26d5e9,_0x2f9deb)=>_0x5f06b6(0x836)+(_0x2f9deb+0x1)+'.\x20'+_0x26d5e9[_0x5f06b6(0xd33)]+'</span><span\x20class=\x22font-bold\x22>'+_0x26d5e9[_0x5f06b6(0xa4c)]+'</span></div>')[_0x5f06b6(0xa88)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d8f9b+_0x5f06b6(0x78c),_0x328d34&&document['getElementById'](_0x5f06b6(0xad))[_0x5f06b6(0x8d3)](_0x5f06b6(0xc47),async()=>{const _0x42f96c=_0x5f06b6,_0x3d6208=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x220b0f=_0xb6563c[_0x42f96c(0x464)]+0x1;if(_0x220b0f<_0xb6563c[_0x42f96c(0xc09)][_0x42f96c(0xbfe)][_0x42f96c(0x1d6)]){const _0x4f4e50={};Object[_0x42f96c(0x236)](_0xb6563c[_0x42f96c(0x1ff)])[_0x42f96c(0x99f)](_0x2c181e=>{const _0x37b980=_0x42f96c;_0x4f4e50['players.'+_0x2c181e+_0x37b980(0x3ca)]=![];}),await updateDoc(_0x3d6208,{'status':_0x42f96c(0xc52),'currentQuestionIndex':_0x220b0f,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x3d6208,{'status':_0x42f96c(0x5bc)});});}async function handleJoinSyncGame(){const _0x637da2=_0x1ca595,_0x11be9f=prompt(_0x637da2(0x604));if(!_0x11be9f||_0x11be9f['trim']()['length']!==0x2){showMessage(_0x637da2(0x7ad));return;}try{const _0x24d4c8=collection(db,'artifacts/'+appId+_0x637da2(0xa14)),_0x4c8133=query(_0x24d4c8,where(_0x637da2(0x482),'==',_0x11be9f[_0x637da2(0x964)]()),where(_0x637da2(0x670),'==',_0x637da2(0xc7a))),_0x58dfb2=await getDocs(_0x4c8133);if(_0x58dfb2[_0x637da2(0x699)]){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x21c065=_0x58dfb2[_0x637da2(0x26a)][0x0];currentLiveGameId=_0x21c065['id'];const _0x25e5ec=_0x21c065[_0x637da2(0xb6)](),_0x556897=doc(db,'artifacts/'+appId+_0x637da2(0xa62),_0x25e5ec['quizId']),_0x2b7df0=await getDoc(_0x556897);if(!_0x2b7df0[_0x637da2(0xa2b)]())throw new Error(_0x637da2(0x314));const _0x7781ac=_0x2b7df0['data'](),_0x3e1304=doc(db,_0x637da2(0x54a)+appId+_0x637da2(0x737),_0x7781ac[_0x637da2(0x98d)]),_0x284243=await getDoc(_0x3e1304);if(!_0x284243[_0x637da2(0xa2b)]())throw new Error(_0x637da2(0x4f1));currentQuizData=_0x25e5ec[_0x637da2(0xc09)];const _0x5d760e=_0x284243[_0x637da2(0xb6)]();showView(_0x637da2(0x7aa)),showTeamPlayerSelection(_0x5d760e[_0x637da2(0xbbc)],_0x7781ac[_0x637da2(0xa64)]);const _0xb0f251=document['getElementById'](_0x637da2(0xaef));_0xb0f251[_0x637da2(0x733)]=confirmAndJoinSyncGame;}catch(_0x401459){console[_0x637da2(0x96)](_0x637da2(0x4c7),_0x401459),showMessage(_0x637da2(0x987)+_0x401459[_0x637da2(0xaee)]);}}function updateStudentSyncView(_0x500e49){const _0x566c34=_0x1ca595,_0x1152fa=localTeamPlayers[0x0],_0x385d97=_0x500e49['players'][_0x1152fa]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x500e49[_0x566c34(0x670)]){case _0x566c34(0xc7a):showView(_0x566c34(0x6fe)),liveGameView[_0x566c34(0xcaa)]=_0x566c34(0x80c);break;case _0x566c34(0xc52):if(_0x500e49[_0x566c34(0x464)]!==lastSeenQuestionIndex){console[_0x566c34(0xa7f)]('New\x20question\x20detected.\x20Cleaning\x20up.'),sessionStorage[_0x566c34(0xe1)](_0x566c34(0x5fe)),sessionStorage[_0x566c34(0xe1)](_0x566c34(0xba7)),sessionStorage['removeItem'](_0x566c34(0x418));const _0xd61096=_0x566c34(0xc17)+lastSeenQuestionIndex,_0x1ae676=_0x566c34(0x39d)+lastSeenQuestionIndex,_0x36d4b7=_0x566c34(0x989)+lastSeenQuestionIndex;Object[_0x566c34(0x236)](sessionStorage)[_0x566c34(0x99f)](_0x3da8bf=>{const _0x4c6d3d=_0x566c34;(_0x3da8bf[_0x4c6d3d(0x82f)](_0xd61096)||_0x3da8bf[_0x4c6d3d(0x82f)](_0x1ae676)||_0x3da8bf[_0x4c6d3d(0x82f)](_0x36d4b7))&&sessionStorage['removeItem'](_0x3da8bf);});if(_0x385d97['isJinxed']||_0x385d97[_0x566c34(0x653)]||(_0x385d97[_0x566c34(0x54b)]||0x0)>0x0){const _0x4ff7dd=doc(db,_0x566c34(0x54a)+appId+_0x566c34(0x691)+currentLiveGameId+'/players',_0x1152fa);updateDoc(_0x4ff7dd,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x566c34(0x1b4)](_0x48e81c=>console[_0x566c34(0x96)](_0x566c34(0x94a),_0x48e81c));}lastSeenQuestionIndex=_0x500e49['currentQuestionIndex'];}localPlayerTurnIndex=0x0;const _0x39f8c9=localTeamPlayers[_0x566c34(0x11a)](_0x4a0c16=>_0x500e49[_0x566c34(0x1ff)][_0x4a0c16]?.['answered']===!![]);if(_0x39f8c9)liveGameView[_0x566c34(0xcaa)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>';else{renderStudentSyncQuestionView(_0x500e49);if(_0x500e49[_0x566c34(0x233)]===_0x566c34(0x308)){if(!_0x500e49[_0x566c34(0xb0e)]){console[_0x566c34(0xa7f)](_0x566c34(0x155));return;}const _0x20c927=_0x500e49[_0x566c34(0xb0e)]['toDate']()['getTime'](),_0x191e04=_0x500e49['timerDuration']*0x3e8,_0x23a9a2=localTeamPlayers[_0x566c34(0x201)](_0x39b88c=>_0x500e49[_0x566c34(0x1ff)][_0x39b88c]?.[_0x566c34(0x54b)]||0x0),_0x30e794=Math[_0x566c34(0xdb)](..._0x23a9a2,0x0),_0x5a91d4=_0x20c927+_0x191e04+_0x30e794;syncQuestionTimerInterval=setInterval(()=>{const _0x39265f=_0x566c34,_0x166619=_0x5a91d4-Date[_0x39265f(0x27a)](),_0x3a8d85=document[_0x39265f(0xcac)](_0x39265f(0x4a5)),_0x354981=document[_0x39265f(0xcac)]('sync-timer-countdown');if(_0x166619<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x3a8d85)_0x3a8d85['style'][_0x39265f(0x1a0)]='0%';if(_0x354981)_0x354981[_0x39265f(0xc84)]='0';liveGameView[_0x39265f(0xcaa)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{if(_0x3a8d85&&_0x354981){const _0xe22bcc=_0x191e04+_0x30e794,_0x375469=_0xe22bcc>0x0?_0x166619/_0xe22bcc*0x64:0x0;_0x3a8d85[_0x39265f(0x300)][_0x39265f(0x1a0)]=_0x375469+'%',_0x354981[_0x39265f(0xc84)]=Math['ceil'](_0x166619/0x3e8);}}},0x1f4);}}break;case _0x566c34(0x898):liveGameView[_0x566c34(0xcaa)]=_0x566c34(0xa43);break;case _0x566c34(0x5a0):localPlayerTurnIndex=0x0;const _0xc39b49=_0x500e49[_0x566c34(0x828)]||_0x566c34(0x81f);if(_0xc39b49===_0x566c34(0x8e1))renderStudentAnonymousResultsView(_0x500e49,_0x500e49[_0x566c34(0x464)]);else _0xc39b49===_0x566c34(0x9b1)?renderStudentCompetitionResultsView(_0x500e49,_0x500e49[_0x566c34(0x464)]):renderStudentSyncResultsView(_0x500e49);break;case _0x566c34(0x5bc):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x566c34(0x23b),handleFullscreenChange),document[_0x566c34(0x524)](_0x566c34(0x945),handleVisibilityChange),sessionStorage[_0x566c34(0xe1)]('activeGameSession');const _0x2058c1=calculateFinalPodiumScores(_0x500e49);showPodiumView(_0x2058c1,_0x566c34(0x417),_0x500e49);break;}}function renderStudentSyncResultsView(_0x1ca2bc){const _0x5b1dc7=_0x1ca595;let _0x41dfd9=[];_0x1ca2bc['publicLeaderboard']?_0x41dfd9=_0x1ca2bc[_0x5b1dc7(0x771)]:_0x41dfd9=Object['values'](_0x1ca2bc[_0x5b1dc7(0x1ff)]||{});const _0x4f2694=_0x41dfd9;_0x4f2694[_0x5b1dc7(0xb2f)]((_0x4f7d6f,_0x1c9985)=>(_0x1c9985['score']||0x0)-(_0x4f7d6f[_0x5b1dc7(0xa4c)]||0x0));const _0x26ae03=_0x1ca2bc[_0x5b1dc7(0x828)]||'classic',_0x10a70e=_0x1ca2bc['shuffledQuiz']['questions'];let _0x1e4f63='';if(_0x26ae03===_0x5b1dc7(0x9a)){const _0x1969ec=_0x1ca2bc['reviewQuestionIndex']>=_0x10a70e[_0x5b1dc7(0x1d6)]-0x1;_0x1969ec?_0x1e4f63=_0x5b1dc7(0x6ac):_0x1e4f63=_0x5b1dc7(0x6ef);}else{const _0x58aad1=_0x1ca2bc['currentQuestionIndex']>=_0x10a70e['length']-0x1;_0x58aad1?_0x1e4f63=_0x5b1dc7(0x6ac):_0x1e4f63=_0x5b1dc7(0x6ce);}const _0x1d27b6=_0x26ae03===_0x5b1dc7(0x9a)?_0x1ca2bc[_0x5b1dc7(0xcf9)]:_0x1ca2bc['currentQuestionIndex'],_0x4265b9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f2694['map']((_0x4a2954,_0x27221b)=>{const _0x8087e3=_0x5b1dc7,_0x5dd1aa=localTeamPlayers['includes'](_0x4a2954['name']),_0x336d45=_0x5dd1aa?_0x8087e3(0xb1b):_0x8087e3(0xac0);let _0x14a443='';if(_0x5dd1aa){const _0x205b77=(_0x4a2954[_0x8087e3(0x54d)]||[])[_0x8087e3(0x2f4)](_0x2badf4=>_0x2badf4[_0x8087e3(0x65b)]===_0x1d27b6);_0x205b77&&_0x205b77[_0x8087e3(0x27e)]===_0x8087e3(0x8d2)&&!_0x205b77[_0x8087e3(0x7fd)]&&(_0x14a443=_0x8087e3(0x3d3));}return _0x8087e3(0xa16)+_0x336d45+_0x8087e3(0x4f8)+(_0x5dd1aa?_0x8087e3(0x4ad):_0x8087e3(0xc57))+_0x8087e3(0xa21)+(_0x27221b+0x1)+_0x8087e3(0xfc)+_0x4a2954['name']+'\x20'+(_0x5dd1aa?_0x8087e3(0x40a):'')+_0x8087e3(0x30c)+(_0x5dd1aa?'text-black':_0x8087e3(0x638))+'\x22>'+_0x4a2954[_0x8087e3(0xa4c)]+_0x8087e3(0x7a9)+_0x14a443+_0x8087e3(0xca1);})[_0x5b1dc7(0xa88)]('')+_0x5b1dc7(0x586)+_0x1e4f63+_0x5b1dc7(0x1df);liveGameView[_0x5b1dc7(0xcaa)]=_0x4265b9;}function renderStudentAnonymousResultsView(_0x28086e,_0xb836a1){const _0x5620ed=_0x1ca595;let _0x292758=[];_0x28086e[_0x5620ed(0x771)]?_0x292758=_0x28086e['publicLeaderboard']:_0x292758=Object[_0x5620ed(0xc7b)](_0x28086e[_0x5620ed(0x1ff)]||{});const _0x4e8530=_0xb836a1,_0x9030dc=_0x28086e[_0x5620ed(0x828)]||_0x5620ed(0x81f),_0x237a77=_0x28086e['isAnonymousRevealed']===!![],_0x904091=_0x28086e[_0x5620ed(0xc09)][_0x5620ed(0xbfe)],_0x1a6506=_0x292758['map'](_0x1a10af=>{const _0x2d09d6=_0x5620ed,_0x2e704f=_0x1a10af[_0x2d09d6(0xa4c)]||0x0,_0x208039=_0x1a10af[_0x2d09d6(0x9c8)]||0x0,_0x1bb0cd=(_0x1a10af['answers']||[])[_0x2d09d6(0xa00)](_0x2dd4d9=>_0x9030dc===_0x2d09d6(0x9a)?_0x2dd4d9[_0x2d09d6(0x65b)]<=_0x4e8530:!![]);return{..._0x1a10af,'realScore':_0x2e704f,'totalPoints':_0x208039,'answers':_0x1bb0cd};}),_0x80755c=_0x28086e[_0x5620ed(0x9a1)]===!![],_0x55d2f5=[..._0x1a6506][_0x5620ed(0xb2f)]((_0x4c165f,_0x26e210)=>{const _0x3a152b=_0x5620ed;if(_0x80755c){const _0x1580ee=_0x26e210[_0x3a152b(0x3bd)]-_0x4c165f[_0x3a152b(0x3bd)];if(_0x1580ee!==0x0)return _0x1580ee;const _0x17e275=_0x26e210[_0x3a152b(0x9c8)]-_0x4c165f[_0x3a152b(0x9c8)];if(_0x17e275!==0x0)return _0x17e275;return(_0x4c165f[_0x3a152b(0xd33)]||'')[_0x3a152b(0xbf1)](_0x26e210[_0x3a152b(0xd33)]||'','th');}else{const _0x58e732=_0x26e210[_0x3a152b(0x9c8)]-_0x4c165f[_0x3a152b(0x9c8)];if(_0x58e732!==0x0)return _0x58e732;const _0x274744=_0x26e210[_0x3a152b(0x3bd)]-_0x4c165f[_0x3a152b(0x3bd)];if(_0x274744!==0x0)return _0x274744;return(_0x4c165f['name']||'')['localeCompare'](_0x26e210[_0x3a152b(0xd33)]||'','th');}});let _0x274228=null;const _0x31c1c4=_0x1a6506[_0x5620ed(0xa00)](_0x41fbab=>localTeamPlayers[_0x5620ed(0x39b)](_0x41fbab[_0x5620ed(0xd33)]));_0x274228=_0x31c1c4[_0x5620ed(0x1d6)]>0x0?_0x31c1c4[_0x5620ed(0xb2f)]((_0x49d172,_0x4d69ab)=>_0x4d69ab[_0x5620ed(0x9c8)]-_0x49d172['totalPoints'])[0x0]:null;if(!_0x274228){liveGameView['innerHTML']=_0x5620ed(0x8d7);return;}const _0xb98569=_0x80755c?_0x274228[_0x5620ed(0x3bd)]:_0x274228[_0x5620ed(0x9c8)],_0x432c8f=_0x80755c?_0x274228[_0x5620ed(0x9c8)]:_0x274228[_0x5620ed(0x3bd)],_0x5b68e0=_0x55d2f5[0x0],_0x4508d7=_0x80755c?_0x5b68e0['realScore']:_0x5b68e0[_0x5620ed(0x9c8)],_0x42c165=_0x80755c?_0x5b68e0[_0x5620ed(0x9c8)]:_0x5b68e0[_0x5620ed(0x3bd)],_0x3cbcfc=_0xb98569===_0x4508d7&&_0x432c8f===_0x42c165&&(_0x55d2f5[0x0]['realScore']>0x0||_0x55d2f5[0x0][_0x5620ed(0x9c8)]>0x0),_0x586d65=_0xb836a1+0x1,_0x268607=_0x1a6506[_0x5620ed(0xa00)](_0x4f3773=>_0x4f3773[_0x5620ed(0x3bd)]===_0x586d65&&(_0x4f3773[_0x5620ed(0x54d)]||[])[_0x5620ed(0x1d6)]===_0x586d65&&_0x586d65>0x0),_0x564e18=_0x268607[_0x5620ed(0x1d6)]>0x0?Math['max'](..._0x268607[_0x5620ed(0x201)](_0x43f941=>_0x43f941[_0x5620ed(0x9c8)])):-Infinity,_0x15b9ba=_0x55d2f5[_0x5620ed(0x201)]((_0x3a52e9,_0x800a87)=>{const _0x3df482=_0x5620ed,_0x1422d7=_0x3a52e9[_0x3df482(0x3bd)],_0x549fe3=_0x3a52e9[_0x3df482(0x9c8)],_0x40008f=(_0x3a52e9['answers']||[])[_0x3df482(0x2f4)](_0x233ebd=>_0x233ebd[_0x3df482(0x65b)]===_0xb836a1);let _0xba970='';if(_0x40008f){if(_0x40008f[_0x3df482(0x88e)])_0xba970+=_0x3df482(0x613);if(_0x40008f[_0x3df482(0xb94)])_0xba970+=_0x3df482(0x5d6);if(_0x40008f[_0x3df482(0x118)])_0xba970+=_0x3df482(0x757);const _0x1da444=_0x40008f[_0x3df482(0x27e)];if(_0x1da444)switch(_0x1da444){case _0x3df482(0xbe9):_0xba970+=_0x3df482(0xa51);break;case _0x3df482(0x9f):_0xba970+=_0x3df482(0x1a2);break;case _0x3df482(0xed):_0xba970+=_0x3df482(0x567);break;case _0x3df482(0x1a1):_0xba970+=_0x3df482(0x41c);break;case _0x3df482(0x8d2):_0xba970+=_0x3df482(0x109);break;case'secondChance':_0xba970+='<span\x20title=\x22ใช้:\x20โอกาสครั้งที่สอง\x22>🔁</span>';break;}}let _0x5241cb='';const _0x2a2cdf=_0x3a52e9[_0x3df482(0x54d)][_0x3df482(0x1d6)],_0x43f9ac=_0x3a52e9[_0x3df482(0x3bd)]===_0x586d65&&_0x2a2cdf===_0x586d65&&_0x586d65>0x0;if(_0x80755c){const _0x13ecd1=_0x43f9ac&&_0x3a52e9[_0x3df482(0x9c8)]===_0x564e18;if(_0x13ecd1)_0x5241cb='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>';else _0x43f9ac&&(_0x5241cb=_0x3df482(0x1c0));}else{if(_0x2a2cdf===_0x586d65&&_0x586d65>0x0){let _0x3cccd4=_0x586d65;_0x28086e[_0x3df482(0xc89)]&&(_0x3cccd4=_0x586d65*0x2);const _0x29ddd5=_0x3a52e9['totalPoints']===_0x3cccd4;if(_0x29ddd5)_0x5241cb='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22สุดยอด!\x20(คะแนนเต็ม\x20+\x20มั่นใจทุกข้อ)\x22>👑</span>';else _0x43f9ac&&(_0x5241cb=_0x3df482(0x1c0));}}if(_0x5241cb===''){if(_0x549fe3<0x0)_0x5241cb=_0x3df482(0xb7c);else _0x1422d7===0x0&&_0x2a2cdf>0x0&&(_0x5241cb='<span\x20class=\x22text-gray-400\x20ml-1\x22\x20title=\x22คะแนนจริงเป็น\x200\x22>😥</span>');}let _0x2ce03f=_0x3df482(0xac0),_0x3da925=![];const _0x5a6b73=(_0x3a52e9[_0x3df482(0x54d)]||[])[_0x3df482(0x2f4)](_0x461df0=>_0x461df0[_0x3df482(0x65b)]===_0x4e8530);if(_0x5a6b73){const _0x69f0b3=_0x5a6b73['isCorrect'],_0x43abb5=_0x5a6b73[_0x3df482(0x5f2)]===!![]||_0x5a6b73[_0x3df482(0x5f2)]===_0x3df482(0xa31),_0x131fd5=_0x5a6b73[_0x3df482(0x27e)];if(_0x131fd5===_0x3df482(0x8d2))_0x69f0b3?(_0x2ce03f=_0x3df482(0xd08),_0x3da925=!![]):_0x2ce03f=_0x3df482(0xc22);else{if(_0x43abb5)_0x2ce03f=_0x69f0b3?_0x3df482(0xbcf):_0x3df482(0x2e7);else _0x69f0b3&&(_0x2ce03f=_0x3df482(0x85c));}}let _0x31c178='';const _0x3886df=_0x3a52e9['name'],_0x276684=_0x28086e[_0x3df482(0xbc)][_0x3a52e9[_0x3df482(0xd33)]]||_0x3df482(0x990),_0x4726f9='line-height:\x201.3;\x20min-width:\x200;',_0xd992f1='word-break:\x20break-all;',_0x2f2c58=localTeamPlayers[_0x3df482(0x39b)](_0x3886df),_0x5c7bab=_0x80755c?_0x3a52e9['realScore']:_0x3a52e9[_0x3df482(0x9c8)],_0x245d9e=_0x80755c?_0x3a52e9[_0x3df482(0x9c8)]:_0x3a52e9[_0x3df482(0x3bd)],_0x5c11ab=_0x3da925?_0x3df482(0x15b):_0x3df482(0xc57);if(_0x237a77)_0x31c178='<div\x20style=\x22'+_0x4726f9+_0x3df482(0x99)+_0x3886df+'\x20('+_0x276684+_0x3df482(0x29d)+_0xd992f1+'\x22>'+_0x3886df+_0x3df482(0xbfa)+_0xba970+'\x20'+_0x5241cb+_0x3df482(0x335)+_0x5c11ab+'\x22\x20style=\x22'+_0xd992f1+_0x3df482(0xce5)+_0x276684+')</span></div>';else{if(_0x2f2c58)_0x3cbcfc?_0x31c178='<div\x20style=\x22'+_0x4726f9+'\x22\x20title=\x22'+_0x3886df+'\x20('+_0x276684+')\x22><span\x20style=\x22'+_0xd992f1+'\x22>'+_0x3886df+_0x3df482(0xbfa)+_0xba970+'\x20'+_0x5241cb+_0x3df482(0x335)+_0x5c11ab+_0x3df482(0x779)+_0xd992f1+_0x3df482(0xce5)+_0x276684+_0x3df482(0xd07):_0x31c178=_0x3df482(0xb85)+_0x4726f9+_0x3df482(0x99)+_0x276684+_0x3df482(0x90e)+_0xd992f1+'\x22>'+_0x276684+_0x3df482(0xbfa)+_0xba970+'\x20'+_0x5241cb+_0x3df482(0x4dd),_0x31c178=_0x3df482(0x46b)+_0x31c178+'\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>';else{const _0x10091b=_0xb98569>_0x5c7bab||_0xb98569===_0x5c7bab&&_0x432c8f>_0x245d9e;_0x10091b?_0x31c178=_0x3df482(0xb85)+_0x4726f9+_0x3df482(0x99)+_0x3886df+'\x20('+_0x276684+_0x3df482(0x29d)+_0xd992f1+'\x22>'+_0x3886df+_0x3df482(0xbfa)+_0xba970+'\x20'+_0x5241cb+_0x3df482(0x335)+_0x5c11ab+_0x3df482(0x779)+_0xd992f1+'\x22>('+_0x276684+_0x3df482(0xd07):_0x31c178='<div\x20style=\x22'+_0x4726f9+'\x22\x20title=\x22'+_0x276684+_0x3df482(0x90e)+_0xd992f1+'\x22>'+_0x276684+_0x3df482(0xbfa)+_0xba970+'\x20'+_0x5241cb+'</div>';}}const _0x3f2b4f=_0x549fe3>=0x0?'(+'+_0x549fe3+')':'('+_0x549fe3+')',_0x1749ff=_0x3df482(0x791)+_0x3a52e9[_0x3df482(0x3bd)]+'\x20คะแนน\x20'+_0x3f2b4f+'</span>';return _0x3df482(0x560)+_0x2ce03f+_0x3df482(0xbf0)+(_0x800a87+0x1)+_0x3df482(0x3fd)+_0x31c178+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1749ff+_0x3df482(0xc80);})['join']('');let _0x355e6a='';const _0x220b17=_0x9030dc==='reveal_at_end'?_0x28086e[_0x5620ed(0xcf9)]>=_0x904091[_0x5620ed(0x1d6)]-0x1:_0x28086e['currentQuestionIndex']>=_0x904091['length']-0x1;_0x220b17?_0x355e6a=_0x5620ed(0x6ac):_0x355e6a=_0x5620ed(0x6ce);const _0x517c2f=_0x5620ed(0x9c9)+_0x15b9ba+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x355e6a+_0x5620ed(0x78c);liveGameView[_0x5620ed(0xcaa)]=_0x517c2f;}function renderStudentCompetitionResultsView(_0x4b6d02,_0xde1b0f){const _0x40a361=_0x1ca595,_0x28e0cf=Object[_0x40a361(0xc7b)](_0x4b6d02[_0x40a361(0x1ff)]||{}),_0x5963fd=_0xde1b0f,_0x363450=_0x4b6d02[_0x40a361(0x828)]||_0x40a361(0x81f),_0x4fd11f=_0x4b6d02[_0x40a361(0xc09)][_0x40a361(0xbfe)],_0xa137a2=_0x28e0cf[_0x40a361(0x201)](_0x4c3ebd=>{const _0x450943=_0x40a361,_0x137178=_0x4c3ebd[_0x450943(0xa4c)]||0x0,_0x5c218a=_0x4c3ebd[_0x450943(0x9c8)]||0x0,_0x288cdd=(_0x4c3ebd[_0x450943(0x54d)]||[])['filter'](_0x39ce6c=>_0x363450==='reveal_at_end'?_0x39ce6c['questionIndex']<=_0x5963fd:!![]);return{..._0x4c3ebd,'realScore':_0x137178,'totalPoints':_0x5c218a,'answers':_0x288cdd};}),_0x5e376e=_0x4b6d02['isBlackMarketEnabled']===!![],_0x468f18=[..._0xa137a2][_0x40a361(0xb2f)]((_0xa14019,_0x22f985)=>{const _0x1b34b1=_0x40a361;if(_0x5e376e){const _0x52c42e=_0x22f985[_0x1b34b1(0x3bd)]-_0xa14019[_0x1b34b1(0x3bd)];if(_0x52c42e!==0x0)return _0x52c42e;const _0x2f6d9c=_0x22f985['totalPoints']-_0xa14019[_0x1b34b1(0x9c8)];if(_0x2f6d9c!==0x0)return _0x2f6d9c;return(_0xa14019[_0x1b34b1(0xd33)]||'')[_0x1b34b1(0xbf1)](_0x22f985[_0x1b34b1(0xd33)]||'','th');}else{const _0x4721e3=_0x22f985['totalPoints']-_0xa14019[_0x1b34b1(0x9c8)];if(_0x4721e3!==0x0)return _0x4721e3;const _0x534e23=_0x22f985[_0x1b34b1(0x3bd)]-_0xa14019[_0x1b34b1(0x3bd)];if(_0x534e23!==0x0)return _0x534e23;return(_0xa14019[_0x1b34b1(0xd33)]||'')[_0x1b34b1(0xbf1)](_0x22f985[_0x1b34b1(0xd33)]||'','th');}}),_0x2f0627=_0x468f18['map']((_0x545c69,_0x1ab88e)=>{const _0x3e04b6=_0x40a361,_0xd20fd7='';let _0x36d432=_0x3e04b6(0xac0);const _0x27f5c9=_0x545c69[_0x3e04b6(0xd33)],_0x1a65f8=_0x3e04b6(0x6ea),_0x5ab6e1=_0x3e04b6(0xc35),_0x466367='<div\x20style=\x22'+_0x1a65f8+_0x3e04b6(0x99)+_0x27f5c9+'\x22><span\x20style=\x22'+_0x5ab6e1+'\x22>'+_0x27f5c9+_0x3e04b6(0x3c1)+_0xd20fd7+_0x3e04b6(0x4dd),_0x36d07d='';return _0x3e04b6(0x560)+_0x36d432+_0x3e04b6(0xbf0)+(_0x1ab88e+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x466367+_0x3e04b6(0x306)+_0x36d07d+_0x3e04b6(0xc80);})[_0x40a361(0xa88)]('');let _0x468e0b='';const _0x5094ec=_0x363450===_0x40a361(0x9a)?_0x4b6d02[_0x40a361(0xcf9)]>=_0x4fd11f[_0x40a361(0x1d6)]-0x1:_0x4b6d02['currentQuestionIndex']>=_0x4fd11f[_0x40a361(0x1d6)]-0x1;_0x5094ec?_0x468e0b=_0x40a361(0x6ac):_0x468e0b=_0x40a361(0x6ce);const _0x589e73='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f0627+_0x40a361(0x473)+_0x468e0b+_0x40a361(0x78c);liveGameView[_0x40a361(0xcaa)]=_0x589e73;}function renderStudentSyncQuestionView(_0x363667){const _0x5e809c=_0x1ca595,_0x140ddc=localTeamPlayers[_0x5e809c(0x2f4)](_0x17e778=>_0x363667[_0x5e809c(0x1ff)][_0x17e778]&&_0x363667['players'][_0x17e778]['answered']===![]);if(!_0x140ddc){console[_0x5e809c(0xa7f)](_0x5e809c(0xf2));return;}const _0x43dc15=_0x363667[_0x5e809c(0x1ff)][_0x140ddc],_0x42fa9d=_0x43dc15[_0x5e809c(0x9c8)]||0x0,_0x93d6c=_0x43dc15[_0x5e809c(0x6a8)]||{},_0x3187e3=_0x363667[_0x5e809c(0x464)],_0x3a18b8=_0x363667[_0x5e809c(0xc09)][_0x5e809c(0xbfe)][_0x5e809c(0x1d6)],_0x59019a=_0x363667[_0x5e809c(0xc09)][_0x5e809c(0xbfe)][_0x3187e3],_0x35f32e=_0x59019a[_0x5e809c(0xc34)]||_0x363667['shuffledQuiz'][_0x5e809c(0x717)];let _0x4d97dc='',_0x3736da=![];const _0x35b29d='hiddenOptions_q'+_0x3187e3+'_p'+_0x140ddc,_0x4482d2=JSON[_0x5e809c(0x444)](sessionStorage[_0x5e809c(0x224)](_0x35b29d)||'[]')[_0x5e809c(0x201)](String),_0x396eb8=_0x5e809c(0x39d)+_0x3187e3+'_p'+_0x140ddc,_0x234474=sessionStorage[_0x5e809c(0x224)](_0x396eb8);switch(_0x35f32e){case _0x5e809c(0xcea):const _0x2bc052=_0x4482d2['includes']('0')?'':'<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>',_0x4242e7=_0x4482d2[_0x5e809c(0x39b)]('1')?'':_0x5e809c(0x7cd);_0x4d97dc=_0x2bc052+_0x4242e7;break;case _0x5e809c(0xbf6):case _0x5e809c(0x19d):_0x3736da=!![],_0x4d97dc=_0x5e809c(0x632);break;case _0x5e809c(0x79b):_0x3736da=!![],_0x4d97dc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x59019a[_0x5e809c(0x698)]||[])[_0x5e809c(0x201)](_0x2db5c0=>_0x5e809c(0xb8c)+_0x2db5c0+'\x22>'+_0x2db5c0+_0x5e809c(0x603))['join']('')+_0x5e809c(0xa4);break;case'multiple_choice':default:_0x4d97dc=(_0x59019a['options']||[])[_0x5e809c(0x201)]((_0x25d29c,_0x29fc38)=>{const _0x563797=_0x5e809c;if(_0x4482d2[_0x563797(0x39b)](_0x29fc38[_0x563797(0x287)]()))return'';return _0x563797(0xab)+_0x29fc38+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x25d29c+_0x563797(0x28b);})[_0x5e809c(0xa88)]('');break;}let _0x16b8df='';_0x363667[_0x5e809c(0x233)]===_0x5e809c(0x308)&&(_0x16b8df=_0x5e809c(0x1f6)+_0x363667[_0x5e809c(0xa4b)]+_0x5e809c(0x217));let _0x551d0d='';if(_0x363667[_0x5e809c(0x9a1)]===!![]){const _0x50d976=[_0x93d6c[_0x5e809c(0xd14)]>0x0?_0x5e809c(0x232)+_0x93d6c[_0x5e809c(0xd14)]+')</button>':'',_0x93d6c[_0x5e809c(0x9f)]>0x0?_0x5e809c(0x30d)+_0x93d6c[_0x5e809c(0x9f)]+')</button>':'',_0x93d6c['insurance']>0x0?_0x5e809c(0x7ec)+_0x93d6c[_0x5e809c(0xed)]+_0x5e809c(0xda):'',_0x93d6c[_0x5e809c(0x1a1)]>0x0?_0x5e809c(0x817)+_0x93d6c[_0x5e809c(0x1a1)]+_0x5e809c(0xda):'',_0x93d6c['secondChance']>0x0?_0x5e809c(0x286)+_0x93d6c[_0x5e809c(0x89a)]+_0x5e809c(0xda):'']['filter'](Boolean)[_0x5e809c(0xa88)]('\x20'),_0x4fbf25=!_0x234474?_0x5e809c(0xcd0):'';_0x551d0d=_0x5e809c(0x3ee)+_0x42fa9d+_0x5e809c(0x6a0)+_0x4fbf25+_0x5e809c(0x34e)+(_0x50d976||'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}let _0xb31723='';_0x43dc15[_0x5e809c(0x56a)]===!![]&&(_0xb31723+=_0x5e809c(0xa7b));_0x43dc15[_0x5e809c(0x653)]===!![]&&(_0xb31723+=_0x5e809c(0x249));if(_0x234474)switch(_0x234474){case _0x5e809c(0x8d2):_0xb31723+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20💰\x20โหมดเดิมพันทำงานอยู่!\x20(ถ้าผิดเตรียมกระโดดตบ\x2010\x20ครั้ง!)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x5e809c(0xed):_0xb31723+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!\x20(ตอบผิดไม่เสียคะแนน)</div>';break;case _0x5e809c(0x89a):_0xb31723+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>';break;case'cutOne':_0xb31723+=_0x5e809c(0xa6b);break;case _0x5e809c(0x1a1):_0xb31723+=_0x5e809c(0x865);break;}(_0x43dc15['timeBonusThisQuestion']||0x0)>0x0&&(_0xb31723+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-600\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>⏳\x20คุณมีเวลาโบนัสในข้อนี้!</div>');liveGameView[_0x5e809c(0xcaa)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x3187e3+0x1)+_0x5e809c(0x214)+_0x3a18b8+_0x5e809c(0xa6f)+_0x140ddc+_0x5e809c(0x19e)+_0x16b8df+_0x5e809c(0x404)+_0x551d0d+_0x5e809c(0x3fe)+_0xb31723+_0x5e809c(0x82e)+(_0x59019a[_0x5e809c(0x6f3)]||_0x59019a[_0x5e809c(0x216)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x4d97dc+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x5e809c(0x4a4)])MathJax[_0x5e809c(0xcf0)]();function _0x12115f(_0x3fd536,_0x38f94b,_0x4560d4,_0x3381ee){const _0x1f31d6=_0x5e809c,_0x2b5881=_0x4560d4['isConfidenceScoringEnabled']===!![],_0x1c5bac=_0x4560d4[_0x1f31d6(0x464)],_0x190905=_0x1f31d6(0x39d)+_0x1c5bac+'_p'+_0x3381ee,_0x1b5881=sessionStorage[_0x1f31d6(0x224)](_0x190905),_0x2f8ea9=_0x1b5881===_0x1f31d6(0x8d2),_0x3cc6e7=_0x4560d4[_0x1f31d6(0x1ff)][_0x3381ee];if(_0x2f8ea9){const _0x15f831=document[_0x1f31d6(0xcac)](_0x1f31d6(0xa35)),_0x5c86df=document[_0x1f31d6(0xcac)](_0x1f31d6(0xb0f)),_0x1c62d4=document[_0x1f31d6(0xcac)](_0x1f31d6(0x583)),_0x49dbf1=document['getElementById'](_0x1f31d6(0x85e)),_0x3c9773=_0x3cc6e7['totalPoints']||0x0;_0x5c86df[_0x1f31d6(0xdb)]=_0x3c9773,_0x5c86df[_0x1f31d6(0x41e)]=0x0,_0x1c62d4['textContent']=0x0,_0x49dbf1[_0x1f31d6(0xc84)]=_0x3c9773,_0x5c86df[_0x1f31d6(0x331)]=()=>{const _0x539dc7=_0x1f31d6;_0x1c62d4[_0x539dc7(0xc84)]=_0x5c86df[_0x539dc7(0x41e)];};const _0x246dd7=document['getElementById'](_0x1f31d6(0x67f));_0x246dd7['dataset'][_0x1f31d6(0xc45)]=_0x3fd536,_0x246dd7[_0x1f31d6(0x1e8)][_0x1f31d6(0xc52)]=JSON['stringify'](_0x38f94b),_0x246dd7[_0x1f31d6(0x1e8)]['gameData']=JSON[_0x1f31d6(0x71f)](_0x4560d4),_0x246dd7[_0x1f31d6(0x1e8)][_0x1f31d6(0xbcd)]=_0x3381ee,_0x15f831[_0x1f31d6(0x325)][_0x1f31d6(0x419)]('hidden');}else{if(_0x2b5881){document[_0x1f31d6(0xcac)](_0x1f31d6(0xb6a))['dataset']['currentMode']=_0x1f31d6(0x417);const _0x3a2aca=document[_0x1f31d6(0xcac)]('selected-answer-index-hidden');_0x3a2aca[_0x1f31d6(0x1e8)][_0x1f31d6(0xc45)]=_0x3fd536,_0x3a2aca['dataset']['question']=JSON[_0x1f31d6(0x71f)](_0x38f94b),_0x3a2aca['dataset'][_0x1f31d6(0x57e)]=JSON[_0x1f31d6(0x71f)](_0x4560d4),_0x3a2aca[_0x1f31d6(0x1e8)][_0x1f31d6(0xbcd)]=_0x3381ee,document[_0x1f31d6(0xcac)](_0x1f31d6(0xb6a))['classList'][_0x1f31d6(0x419)]('hidden');}else handleSyncAnswerSubmit(_0x3fd536,_0x38f94b,_0x4560d4,_0x3381ee,![],0x0);}}_0x3736da?document['getElementById'](_0x5e809c(0x6cb))[_0x5e809c(0x8d3)](_0x5e809c(0xc47),()=>{const _0x353063=_0x5e809c,_0x313a8d=document[_0x353063(0xcac)]('sync-short-answer-input')||document['getElementById']('sync-matching-select');if(_0x313a8d[_0x353063(0x41e)][_0x353063(0x964)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x12115f(_0x313a8d[_0x353063(0x41e)],_0x59019a,_0x363667,_0x140ddc);}):document[_0x5e809c(0x20a)]('.live-answer-btn')['forEach'](_0x3cbe28=>{const _0x93b87f=_0x5e809c;_0x3cbe28[_0x93b87f(0x8d3)](_0x93b87f(0xc47),()=>{const _0x37b14f=_0x93b87f;_0x12115f(_0x3cbe28[_0x37b14f(0x1e8)][_0x37b14f(0x41e)],_0x59019a,_0x363667,_0x140ddc);});});if(_0x363667['isBlackMarketEnabled']===!![]){const _0x4afded=document[_0x5e809c(0xcac)](_0x5e809c(0x35f));_0x4afded&&_0x4afded[_0x5e809c(0x8d3)](_0x5e809c(0xc47),()=>{const _0xa3c9a9=_0x5e809c,_0x3f7799=_0x363667[_0xa3c9a9(0x464)],_0x24a4c9=_0x140ddc,_0x4140f9=_0xa3c9a9(0xc17)+_0x3f7799+'_p'+_0x24a4c9,_0x5a0852=sessionStorage[_0xa3c9a9(0x224)](_0x4140f9)===_0xa3c9a9(0xbe7);if(!_0x5a0852)openBlackMarket(_0x363667,_0x43dc15),sessionStorage[_0xa3c9a9(0x616)](_0x4140f9,_0xa3c9a9(0xbe7));else{if(_0x43dc15[_0xa3c9a9(0x9c8)]<0x1){showMessage(_0xa3c9a9(0x752));return;}showConfirmation(_0xa3c9a9(0x832),()=>{handlePayForMarketEntry(_0x140ddc,_0x363667,_0x43dc15);});}}),document[_0x5e809c(0xcac)](_0x5e809c(0x8b4))?.[_0x5e809c(0x8d3)](_0x5e809c(0xc47),_0x155b2b=>{const _0x2b1f50=_0x5e809c;_0x155b2b['target'][_0x2b1f50(0x25a)]=!![],handleUsePowerup(_0x140ddc,_0x2b1f50(0xd14),_0x59019a,_0x363667,_0x43dc15);}),document[_0x5e809c(0xcac)]('use-powerup-cutOne')?.[_0x5e809c(0x8d3)]('click',_0x181f63=>{const _0x2a7f66=_0x5e809c;_0x181f63[_0x2a7f66(0x615)][_0x2a7f66(0x25a)]=!![],handleUsePowerup(_0x140ddc,_0x2a7f66(0x9f),_0x59019a,_0x363667,_0x43dc15);}),document[_0x5e809c(0xcac)](_0x5e809c(0x7f9))?.[_0x5e809c(0x8d3)](_0x5e809c(0xc47),_0x19797d=>{const _0x303e14=_0x5e809c;_0x19797d[_0x303e14(0x615)]['disabled']=!![],handleUsePowerup(_0x140ddc,_0x303e14(0xed),_0x59019a,_0x363667,_0x43dc15);}),document[_0x5e809c(0xcac)](_0x5e809c(0x633))?.[_0x5e809c(0x8d3)](_0x5e809c(0xc47),_0x4437af=>{const _0x11f5a7=_0x5e809c;_0x4437af['target'][_0x11f5a7(0x25a)]=!![],handleUsePowerup(_0x140ddc,_0x11f5a7(0x8d2),_0x59019a,_0x363667,_0x43dc15);}),document[_0x5e809c(0xcac)](_0x5e809c(0x245))?.[_0x5e809c(0x8d3)](_0x5e809c(0xc47),_0x4846cc=>{const _0x3515a1=_0x5e809c;_0x4846cc[_0x3515a1(0x615)][_0x3515a1(0x25a)]=!![],handleUsePowerup(_0x140ddc,_0x3515a1(0x1a1),_0x59019a,_0x363667,_0x43dc15);}),document[_0x5e809c(0xcac)](_0x5e809c(0x8ec))?.[_0x5e809c(0x8d3)](_0x5e809c(0xc47),_0x399a69=>{const _0x2ce89f=_0x5e809c;_0x399a69['target'][_0x2ce89f(0x25a)]=!![],handleUsePowerup(_0x140ddc,_0x2ce89f(0x89a),_0x59019a,_0x363667,_0x43dc15);});}}async function handleSyncAnswerSubmit(_0x176e8e,_0x582ad0,_0x388bdf,_0x9635e0,_0x1e1bf3,_0x4d97ed=0x0){const _0x3dd554=_0x1ca595;document[_0x3dd554(0x20a)]('.live-answer-btn,\x20#sync-submit-btn')[_0x3dd554(0x99f)](_0x32b77c=>_0x32b77c[_0x3dd554(0x25a)]=!![]);const _0x53f7bf=_0x388bdf[_0x3dd554(0x464)],_0x4ff20d='powerupUsed_q'+_0x53f7bf+'_p'+_0x9635e0,_0x31d915=sessionStorage[_0x3dd554(0x224)](_0x4ff20d),_0x1204d8=_0x388bdf[_0x3dd554(0x1ff)][_0x9635e0]||{},_0x59d3f5=_0x1204d8[_0x3dd554(0x653)]===!![],_0x58bc27=sessionStorage['getItem']('onSecondChance')===_0x3dd554(0xbe7),_0xcd31ca=_0x582ad0[_0x3dd554(0xc34)]||_0x388bdf['shuffledQuiz']['quizType'];let _0x1e59dd=![],_0x96a9a9=_0x176e8e;switch(_0xcd31ca){case'true_false':const _0x1b0688=parseInt(_0x176e8e),_0x163a6f=_0x582ad0['correctAnswer']===!![]||String(_0x582ad0[_0x3dd554(0xc49)])[_0x3dd554(0x5c9)]()===_0x3dd554(0xbe7);_0x1e59dd=_0x1b0688===0x0&&_0x163a6f||_0x1b0688===0x1&&!_0x163a6f,_0x96a9a9=_0x1b0688===0x0?'ใช่\x20/\x20ถูก':'ไม่ใช่\x20/\x20ผิด';break;case _0x3dd554(0xbf6):case _0x3dd554(0x19d):_0x1e59dd=await gradeShortAnswer(_0x176e8e,_0x582ad0);break;case _0x3dd554(0x79b):_0x1e59dd=_0x176e8e===_0x582ad0[_0x3dd554(0xca2)];break;case'multiple_choice':default:const _0x5cadaf=parseInt(_0x176e8e);_0x1e59dd=_0x5cadaf===_0x582ad0[_0x3dd554(0xc75)];_0x582ad0[_0x3dd554(0x63f)]&&_0x582ad0['options'][_0x5cadaf]&&(_0x96a9a9=_0x582ad0[_0x3dd554(0x63f)][_0x5cadaf]);break;}if(!_0x1e59dd&&_0x31d915===_0x3dd554(0x89a)&&!_0x58bc27){sessionStorage[_0x3dd554(0xe1)](_0x4ff20d),sessionStorage['setItem'](_0x3dd554(0xba7),_0x3dd554(0xbe7)),showMessage(_0x3dd554(0x21e)),document['querySelectorAll'](_0x3dd554(0x29b))[_0x3dd554(0x99f)](_0x223c8c=>{const _0x4dbe03=_0x3dd554;if(!_0x223c8c[_0x4dbe03(0x325)][_0x4dbe03(0x9e8)]('hidden'))_0x223c8c['disabled']=![];});return;}let _0x31efb5=0x0;const _0x522601=_0x31d915===_0x3dd554(0x8d2),_0x289462=_0x31d915===_0x3dd554(0xed),_0x49e325=sessionStorage['getItem'](_0x3dd554(0x418))===_0x3dd554(0xbe7),_0x51e46b=_0x1204d8[_0x3dd554(0x56a)]===!![];if(_0x522601){const _0x423cb0=parseInt(_0x4d97ed,0xa)||0x0;_0x31efb5=_0x1e59dd?_0x423cb0*0x2:-_0x423cb0;}else{if(_0x49e325&&!_0x1e59dd)_0x31efb5=_0x1e1bf3===!![]||_0x1e1bf3===_0x3dd554(0xa31)||_0x59d3f5?-0x4:-0x2;else{if(_0x59d3f5)_0x31efb5=_0x1e59dd?0x2:-0x1;else{if(_0x388bdf[_0x3dd554(0xc89)]){if(_0x1e59dd&&(_0x1e1bf3===!![]||_0x1e1bf3===_0x3dd554(0xa31)))_0x31efb5=0x2;else{if(_0x1e59dd)_0x31efb5=0x1;else{if(!_0x1e59dd&&(_0x1e1bf3===![]||_0x1e1bf3===_0x3dd554(0x682)||_0x1e1bf3===null))_0x31efb5=0x0;else{if(!_0x1e59dd&&(_0x1e1bf3===!![]||_0x1e1bf3==='confident'))_0x31efb5=-0x1;}}}}else _0x31efb5=_0x1e59dd?0x1:0x0;}}}if(_0x51e46b&&!_0x1e59dd&&_0x31efb5<0x0)_0x31efb5*=0x2;if(!_0x1e59dd&&_0x289462)_0x31efb5=0x0;const _0x59817d=(_0x1204d8[_0x3dd554(0x54b)]||0x0)>0x0,_0x451f87={'questionIndex':_0x388bdf['currentQuestionIndex'],'questionId':_0x582ad0['id'],'answer':_0x176e8e,'answerText':_0x96a9a9,'isCorrect':_0x1e59dd,'originalQuestionText':_0x582ad0['questionText']||_0x582ad0['stem'],'wasConfident':_0x59d3f5?_0x3dd554(0xa31):_0x1e1bf3||![],'pointsAwarded':_0x31efb5,'powerupUsed':_0x31d915||null,'wasJinxed':_0x51e46b||![],'wasForced':_0x59d3f5||![],'usedPoll':_0x49e325||![],'usedBuyTime':_0x59817d},_0x334419=doc(db,_0x3dd554(0x54a)+appId+_0x3dd554(0x691)+currentLiveGameId+_0x3dd554(0x119),_0x9635e0),_0x5de39d=_0x1204d8[_0x3dd554(0x54d)]||[],_0x169e8c=_0x5de39d['filter'](_0x408967=>_0x408967['questionIndex']!==_0x388bdf['currentQuestionIndex']),_0x5053c0=[..._0x169e8c,_0x451f87],_0x41009a=_0x5053c0['filter'](_0x550545=>_0x550545['isCorrect'])[_0x3dd554(0x1d6)],_0x41ea03={'answers':_0x5053c0,'score':_0x41009a,'totalPoints':increment(_0x31efb5),'answered':!![],'lastAnswerIndex':_0xcd31ca===_0x3dd554(0x801)||_0xcd31ca==='true_false'||_0xcd31ca===_0x3dd554(0xd44)?parseInt(_0x176e8e):null,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};if(_0x58bc27)sessionStorage[_0x3dd554(0xe1)](_0x3dd554(0xba7));try{await updateDoc(_0x334419,_0x41ea03);}catch(_0xfd5cb7){console['error'](_0x3dd554(0xc87),_0xfd5cb7),showMessage('ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่'),document['querySelectorAll'](_0x3dd554(0x29b))[_0x3dd554(0x99f)](_0x24104a=>_0x24104a['disabled']=![]);}}const allMarketItems=[{'id':'buyTime','name':_0x1ca595(0x9a8),'price':0x1,'desc':_0x1ca595(0x4ef)},{'id':'cutOne','name':_0x1ca595(0x6f8),'price':0x2,'desc':_0x1ca595(0x721)},{'id':'fiftyFifty','name':_0x1ca595(0x7f0),'price':0x5,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)'},{'id':'secondChance','name':_0x1ca595(0x62e),'price':0x7,'desc':_0x1ca595(0x3df)}];function openBlackMarket(_0x23408e,_0x1c26ea){const _0x417a8e=_0x1ca595;let _0x6cfa41=null;const _0x40cc8c=document[_0x417a8e(0xcac)](_0x417a8e(0x3de)),_0x345336=document['getElementById'](_0x417a8e(0x9e1)),_0x47d48e=document[_0x417a8e(0xcac)](_0x417a8e(0x82d)),_0x5ab933=document[_0x417a8e(0xcac)]('market-timer-bar'),_0x21d23d=_0x1c26ea[_0x417a8e(0x9c8)]||0x0;_0x47d48e[_0x417a8e(0xc84)]=_0x21d23d;const _0x45d889=allMarketItems;_0x345336[_0x417a8e(0xcaa)]=_0x45d889['map'](_0x41cd3a=>{const _0x2bc139=_0x417a8e,_0x15da37=_0x21d23d>=_0x41cd3a[_0x2bc139(0xd45)];if(_0x41cd3a['id']===_0x2bc139(0xd14)){const _0x1d4d02=_0x15da37?Math['floor'](_0x21d23d/_0x41cd3a[_0x2bc139(0xd45)]):0x0,_0x49cc0f=_0x21d23d>=_0x41cd3a[_0x2bc139(0xd45)];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20'+(!_0x49cc0f?_0x2bc139(0x973):'bg-white')+_0x2bc139(0x12f)+_0x41cd3a['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x41cd3a['desc']+_0x2bc139(0xcfe)+_0x1d4d02+'\x22\x20'+(!_0x49cc0f?'disabled':'')+_0x2bc139(0x3d1)+(_0x49cc0f?_0x2bc139(0xc5):_0x2bc139(0x9e2))+_0x2bc139(0x58f)+_0x41cd3a['id']+_0x2bc139(0x219)+_0x41cd3a['price']+_0x2bc139(0x911)+(!_0x49cc0f?'disabled':'')+_0x2bc139(0x2ba)+_0x41cd3a[_0x2bc139(0xd45)]+'P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x2990a7=!_0x15da37?_0x2bc139(0x25a):'',_0x24c0d5=_0x15da37?_0x2bc139(0xc5):_0x2bc139(0x9e2);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20'+(!_0x15da37?_0x2bc139(0x973):_0x2bc139(0x79f))+_0x2bc139(0x12f)+_0x41cd3a[_0x2bc139(0xd33)]+_0x2bc139(0x60d)+_0x41cd3a['desc']+_0x2bc139(0xc56)+_0x24c0d5+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22'+_0x41cd3a['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x41cd3a[_0x2bc139(0xd45)]+_0x2bc139(0x624)+_0x2990a7+_0x2bc139(0xc7c)+_0x41cd3a[_0x2bc139(0xd45)]+_0x2bc139(0x1d1);}})[_0x417a8e(0xa88)](''),_0x40cc8c['classList'][_0x417a8e(0x419)](_0x417a8e(0x60b)),_0x5ab933['style'][_0x417a8e(0x298)]=_0x417a8e(0x2c2),_0x5ab933[_0x417a8e(0x300)][_0x417a8e(0x1a0)]=_0x417a8e(0x4b3),setTimeout(()=>{const _0x3a0fa3=_0x417a8e;_0x5ab933[_0x3a0fa3(0x300)][_0x3a0fa3(0x298)]='width\x2060s\x20linear',_0x5ab933[_0x3a0fa3(0x300)][_0x3a0fa3(0x1a0)]='0%';},0x32),_0x6cfa41=setTimeout(()=>{const _0xcabed=_0x417a8e;_0x40cc8c[_0xcabed(0x325)][_0xcabed(0xd3c)]('hidden');},0xea60),document[_0x417a8e(0xcac)](_0x417a8e(0x513))[_0x417a8e(0x733)]=()=>{const _0x495aed=_0x417a8e;clearTimeout(_0x6cfa41),_0x40cc8c[_0x495aed(0x325)][_0x495aed(0xd3c)](_0x495aed(0x60b));},_0x345336[_0x417a8e(0x20a)](_0x417a8e(0xf5))[_0x417a8e(0x99f)](_0x330313=>{_0x330313['onclick']=_0x59b0a4=>{const _0x1c4acc=_0x2406,_0x4f4fe8=_0x59b0a4['target'][_0x1c4acc(0x1e8)][_0x1c4acc(0xac2)],_0x594842=parseInt(_0x59b0a4[_0x1c4acc(0x615)]['dataset']['price'],0xa);clearTimeout(_0x6cfa41),_0x40cc8c[_0x1c4acc(0x325)][_0x1c4acc(0xd3c)](_0x1c4acc(0x60b)),handleBuyItem(_0x1c26ea[_0x1c4acc(0xd33)],_0x4f4fe8,_0x594842,0x1);};}),_0x345336[_0x417a8e(0x20a)]('.buy-time-confirm-btn')['forEach'](_0x2e02ce=>{const _0xfef559=_0x417a8e;_0x2e02ce[_0xfef559(0x733)]=_0x12d11e=>{const _0x588980=_0xfef559,_0x2a95=_0x12d11e[_0x588980(0x615)][_0x588980(0x1e8)]['itemId'],_0x8871ff=parseInt(_0x12d11e['target'][_0x588980(0x1e8)][_0x588980(0xd45)],0xa),_0x247154=document[_0x588980(0xcac)](_0x588980(0x933)),_0x25dc96=parseInt(_0x247154[_0x588980(0x41e)],0xa),_0x4005f0=parseInt(_0x247154['max'],0xa);if(!_0x25dc96||_0x25dc96<0x1){showMessage(_0x588980(0xd9));return;}if(_0x25dc96>_0x4005f0){showMessage(_0x588980(0xb12)+_0x4005f0+_0x588980(0x1d0));return;}clearTimeout(_0x6cfa41),_0x40cc8c['classList'][_0x588980(0xd3c)](_0x588980(0x60b)),handleBuyItem(_0x1c26ea[_0x588980(0xd33)],_0x2a95,_0x8871ff,_0x25dc96);};});}async function handleBuyItem(_0x2eb49a,_0x147314,_0x58209d,_0x16ed0f=0x1){const _0x5ca1c8=_0x1ca595,_0x3d2e67=doc(db,_0x5ca1c8(0x54a)+appId+_0x5ca1c8(0x691)+currentLiveGameId+_0x5ca1c8(0x119),_0x2eb49a);try{await runTransaction(db,async _0x353321=>{const _0xbb6f46=_0x5ca1c8,_0x1401b1=await _0x353321[_0xbb6f46(0x1aa)](_0x3d2e67);if(!_0x1401b1[_0xbb6f46(0xa2b)]())throw _0xbb6f46(0x2ac);const _0xee18f=_0x1401b1[_0xbb6f46(0xb6)]()[_0xbb6f46(0x9c8)]||0x0,_0x3a1528=_0x58209d*_0x16ed0f;if(_0xee18f<_0x3a1528)throw _0xbb6f46(0x884);const _0x50dbe7={};_0x50dbe7[_0xbb6f46(0x9c8)]=increment(-_0x3a1528),_0x50dbe7[_0xbb6f46(0x4cd)+_0x147314]=increment(_0x16ed0f),_0x353321[_0xbb6f46(0xaa8)](_0x3d2e67,_0x50dbe7);}),showMessage(_0x5ca1c8(0xab8)+_0x147314+_0x5ca1c8(0x72c)+_0x16ed0f+_0x5ca1c8(0x90b));}catch(_0x2e6297){console[_0x5ca1c8(0x96)](_0x5ca1c8(0xab4),_0x2e6297),showMessage(typeof _0x2e6297===_0x5ca1c8(0x6ed)?_0x2e6297:'เกิดข้อผิดพลาดในการซื้อ');}}async function handlePayForMarketEntry(_0x272be7,_0x45b3b9,_0x52d429){const _0x373951=_0x1ca595,_0x34f156=doc(db,_0x373951(0x54a)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x373951(0x119),_0x272be7);try{await runTransaction(db,async _0x1565a9=>{const _0xf50edf=_0x373951,_0x450a2d=await _0x1565a9[_0xf50edf(0x1aa)](_0x34f156);if(!_0x450a2d[_0xf50edf(0xa2b)]())throw _0xf50edf(0x2ac);const _0x4cb23e=_0x450a2d[_0xf50edf(0xb6)]()[_0xf50edf(0x9c8)]||0x0;if(_0x4cb23e<0x1)throw _0xf50edf(0x4fe);const _0x266487={};_0x266487[_0xf50edf(0x9c8)]=increment(-0x1),_0x1565a9[_0xf50edf(0xaa8)](_0x34f156,_0x266487);});const _0x4eb893={..._0x52d429,'totalPoints':(_0x52d429['totalPoints']||0x0)-0x1};openBlackMarket(_0x45b3b9,_0x4eb893);}catch(_0x5f30e6){console[_0x373951(0x96)]('Market\x20entry\x20payment\x20failed:',_0x5f30e6),showMessage(typeof _0x5f30e6==='string'?_0x5f30e6:_0x373951(0x2da));}}initialize();
