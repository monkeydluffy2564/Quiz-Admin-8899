function _0x26e1(_0x3d5cbc,_0xaa05ed){const _0x376120=_0x3761();return _0x26e1=function(_0x26e17f,_0x349f0b){_0x26e17f=_0x26e17f-0x116;let _0x56231a=_0x376120[_0x26e17f];return _0x56231a;},_0x26e1(_0x3d5cbc,_0xaa05ed);}const _0x53e3b0=_0x26e1;(function(_0x750e7f,_0x28c128){const _0xc4cc35=_0x26e1,_0x2f8cf8=_0x750e7f();while(!![]){try{const _0x23d3af=parseInt(_0xc4cc35(0x598))/0x1*(-parseInt(_0xc4cc35(0x91a))/0x2)+-parseInt(_0xc4cc35(0x822))/0x3+parseInt(_0xc4cc35(0x2cd))/0x4+parseInt(_0xc4cc35(0x5ec))/0x5+-parseInt(_0xc4cc35(0x35b))/0x6*(-parseInt(_0xc4cc35(0x268))/0x7)+-parseInt(_0xc4cc35(0x7fe))/0x8+-parseInt(_0xc4cc35(0x23b))/0x9*(parseInt(_0xc4cc35(0x38c))/0xa);if(_0x23d3af===_0x28c128)break;else _0x2f8cf8['push'](_0x2f8cf8['shift']());}catch(_0x3030f9){_0x2f8cf8['push'](_0x2f8cf8['shift']());}}}(_0x3761,0x27038));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x50b555=_0x26e1;if(_0x50b555(0x364)in navigator)try{wakeLock=await navigator['wakeLock'][_0x50b555(0x2bf)](_0x50b555(0x25b)),console[_0x50b555(0x303)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x50b555(0x7a9)](_0x50b555(0x407),()=>{const _0x1c6af3=_0x50b555;console[_0x1c6af3(0x303)](_0x1c6af3(0x348));});}catch(_0x4a92d9){console[_0x50b555(0x4e5)](_0x50b555(0x42b)+_0x4a92d9[_0x50b555(0x682)]+',\x20'+_0x4a92d9[_0x50b555(0x405)]);}else console[_0x50b555(0x6cf)](_0x50b555(0x85c));},releaseWakeLock=async()=>{const _0x35e88b=_0x26e1;wakeLock!==null&&(await wakeLock[_0x35e88b(0x407)](),wakeLock=null,console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x586658=_0x26e1;if(dimTimer)clearTimeout(dimTimer);document[_0x586658(0x20e)][_0x586658(0x97f)][_0x586658(0x8b7)](_0x586658(0x780)),dimTimer=setTimeout(()=>{const _0x1a1583=_0x586658;document[_0x1a1583(0x20e)][_0x1a1583(0x97f)][_0x1a1583(0x218)]('dimmed'),console[_0x1a1583(0x303)](_0x1a1583(0x19c));},inactivityTime);}function stopDimTimer(){const _0x4d6fe0=_0x26e1;if(dimTimer)clearTimeout(dimTimer);document[_0x4d6fe0(0x20e)][_0x4d6fe0(0x97f)][_0x4d6fe0(0x8b7)](_0x4d6fe0(0x780)),window[_0x4d6fe0(0x8a2)](_0x4d6fe0(0x6cc),resetDimTimer),window[_0x4d6fe0(0x8a2)](_0x4d6fe0(0x30e),resetDimTimer),window[_0x4d6fe0(0x8a2)](_0x4d6fe0(0x781),resetDimTimer),window[_0x4d6fe0(0x8a2)]('keydown',resetDimTimer),console[_0x4d6fe0(0x303)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x2c9a7c,_0x186f21=![]){const _0x23a83b=_0x26e1,_0x5bad25=allQuizzes[_0x23a83b(0x8dc)](_0x38e458=>_0x38e458['id']===_0x2c9a7c)||allQuizzesGlobal[_0x23a83b(0x8dc)](_0x13400c=>_0x13400c['id']===_0x2c9a7c);if(!_0x5bad25){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x5bad25);const _0x509b46=Math[_0x23a83b(0x671)](0x3e8+Math[_0x23a83b(0x7de)]()*0x2328)[_0x23a83b(0x2d8)]();try{const _0x204f90=await addDoc(collection(db,_0x23a83b(0x50e)+appId+_0x23a83b(0x57a)),{'quizId':_0x5bad25['id'],'projectId':_0x5bad25['projectId'],'status':_0x23a83b(0x88a),'pin':_0x509b46,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x186f21});currentTeamQuizId=_0x204f90['id'],showView(_0x23a83b(0x525)),renderAdminTeamQuizDashboard(_0x509b46,_0x5bad25['topic']),listenForTeamQuizUpdates();}catch(_0x4da292){console['error'](_0x23a83b(0x729),_0x4da292),showMessage(_0x23a83b(0x76e));}}function renderAdminTeamQuizDashboard(_0x45fcbc,_0x1d3623,_0x17b472=_0x53e3b0(0x8e6)){const _0x4c8bae=_0x53e3b0,_0x30e4d3=_0x17b472==='group'?_0x4c8bae(0x978):'Team\x20Quiz';liveGameView[_0x4c8bae(0x735)]=_0x4c8bae(0x35c)+_0x30e4d3+':\x20'+_0x1d3623+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x45fcbc+_0x4c8bae(0x5bb),document[_0x4c8bae(0x2f6)]('end-team-quiz-btn')[_0x4c8bae(0x7a9)]('click',async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x563c17=_0x26e1;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x563c17(0x50e)+appId+_0x563c17(0x57a),currentTeamQuizId)),showView(_0x563c17(0x497));});});}function listenForTeamQuizUpdates(){const _0x1d0c48=_0x53e3b0;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x2a34a7=doc(db,_0x1d0c48(0x50e)+appId+_0x1d0c48(0x57a),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x2a34a7,_0x109ce0=>{const _0x2cc65a=_0x1d0c48;if(!_0x109ce0[_0x2cc65a(0x4bc)]()){sessionStorage[_0x2cc65a(0x44f)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x2cc65a(0x4c1))showMessage(_0x2cc65a(0x9e4));showView(currentMode===_0x2cc65a(0x4c1)?_0x2cc65a(0x497):'student');return;}const _0x32cbd8=_0x109ce0['data']();if(currentMode===_0x2cc65a(0x4c1)){if(_0x32cbd8['mode']===_0x2cc65a(0x5d8)&&_0x32cbd8['status']!==_0x2cc65a(0x1ac)&&_0x32cbd8[_0x2cc65a(0x25f)]!==_0x2cc65a(0x3e7)){const _0x58174d=Object[_0x2cc65a(0x74d)](_0x32cbd8[_0x2cc65a(0x646)]||{});if(_0x58174d[_0x2cc65a(0x4f1)]>0x0){const _0x2f2fef=_0x58174d[_0x2cc65a(0x513)](_0x18219f=>_0x18219f[_0x2cc65a(0x366)]===!![]);_0x2f2fef&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x32cbd8);}else{if(_0x32cbd8[_0x2cc65a(0x25f)]===_0x2cc65a(0x1ac)||_0x32cbd8[_0x2cc65a(0x25f)]===_0x2cc65a(0x3e7)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x32cbd8['mode']===_0x2cc65a(0x5d8)){const _0x4fb530=_0x32cbd8[_0x2cc65a(0x646)][userId];(!_0x4fb530||!_0x4fb530['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0xf2f15b){const _0x3f92f9=_0x53e3b0;console[_0x3f92f9(0x303)](_0x3f92f9(0x799));const _0xdc28e2=doc(db,_0x3f92f9(0x50e)+appId+_0x3f92f9(0x57a),_0xf2f15b);try{const _0x4f7b24=await getDoc(_0xdc28e2);if(_0x4f7b24[_0x3f92f9(0x4bc)]()){const _0x3ca4e5=_0x4f7b24[_0x3f92f9(0x1b4)]();_0x3ca4e5[_0x3f92f9(0x704)]&&await saveGameResultsAsSubmissions(_0x3ca4e5);}await updateDoc(_0xdc28e2,{'status':'podium'});}catch(_0x33acbe){console[_0x3f92f9(0x4e5)](_0x3f92f9(0x888),_0x33acbe);}}function updateAdminTeamDashboard(_0x38b8ed){const _0x14b3ea=_0x53e3b0,_0x4c6519=document[_0x14b3ea(0x2f6)](_0x14b3ea(0x2cb));if(!_0x4c6519)return;const _0x359ac9=_0x38b8ed[_0x14b3ea(0x837)]||_0x14b3ea(0x8e6);if(_0x359ac9===_0x14b3ea(0x5d8)){const _0x9ba111=Object[_0x14b3ea(0x74d)](_0x38b8ed[_0x14b3ea(0x646)]||{});if(_0x9ba111['length']===0x0){_0x4c6519[_0x14b3ea(0x735)]=_0x14b3ea(0x9db);return;}const _0x4c51f9=[..._0x9ba111][_0x14b3ea(0x933)]((_0x58d0fe,_0x160a72)=>_0x160a72[_0x14b3ea(0x19e)]-_0x58d0fe[_0x14b3ea(0x19e)]),_0x5acea3=_0x4c51f9[_0x14b3ea(0x6e9)]((_0x3400ee,_0x5e14d9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x5e14d9+0x1)+_0x14b3ea(0x74b)+_0x3400ee[_0x14b3ea(0x8ae)][_0x14b3ea(0x728)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x3400ee[_0x14b3ea(0x19e)]+_0x14b3ea(0x9b3))['join']('');let _0x211503='';currentQuizData&&currentQuizData[_0x14b3ea(0x7d4)]&&(_0x211503=currentQuizData[_0x14b3ea(0x7d4)][_0x14b3ea(0x6e9)]((_0x57b98e,_0x16a572)=>{const _0x5d12f3=_0x14b3ea;let _0x24b04a=0x0;return _0x9ba111[_0x5d12f3(0x87f)](_0xa3c6a9=>{const _0x3dce88=_0x5d12f3,_0x4caec3=_0xa3c6a9[_0x3dce88(0x1b0)]||[],_0x3bb82d=_0x4caec3['find'](_0x51d6a0=>_0x51d6a0[_0x3dce88(0x19d)]===_0x16a572);_0x3bb82d&&_0x3bb82d[_0x3dce88(0x294)]&&_0x24b04a++;}),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x16a572+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x24b04a+_0x5d12f3(0x914)+_0x9ba111['length']+_0x5d12f3(0x1d0);})[_0x14b3ea(0x728)]('')),_0x4c6519['innerHTML']=_0x14b3ea(0x592)+_0x5acea3+_0x14b3ea(0xa28)+_0x211503+_0x14b3ea(0x875);}else{const _0x3c8e8b=_0x38b8ed[_0x14b3ea(0x668)]||{},_0x1d5071=Object[_0x14b3ea(0x4e6)](_0x3c8e8b);if(_0x1d5071[_0x14b3ea(0x4f1)]===0x0){_0x4c6519[_0x14b3ea(0x735)]=_0x14b3ea(0x2c9);return;}const _0x4812c5=_0x1d5071[_0x14b3ea(0x6e9)](_0x148331=>({'name':_0x148331,'score':_0x3c8e8b[_0x148331][_0x14b3ea(0x19e)]||0x0}))[_0x14b3ea(0x933)]((_0x4dec46,_0x3e0cae)=>_0x3e0cae[_0x14b3ea(0x19e)]-_0x4dec46[_0x14b3ea(0x19e)]);let _0x1b32c3='';currentQuizData&&currentQuizData[_0x14b3ea(0x7d4)]&&(_0x1b32c3=currentQuizData['questions'][_0x14b3ea(0x6e9)]((_0x2147c2,_0x52da33)=>{const _0x39c590=_0x14b3ea;let _0x712da6=0x0;return _0x1d5071[_0x39c590(0x87f)](_0xb43f3d=>{const _0x4260b7=_0x39c590,_0x3331f4=_0x3c8e8b[_0xb43f3d]['answers']||[],_0x5ed704=_0x3331f4[_0x4260b7(0x8dc)](_0x44a46c=>_0x44a46c[_0x4260b7(0x19d)]===_0x52da33);if(_0x5ed704&&_0x5ed704[_0x4260b7(0x294)])_0x712da6++;}),_0x39c590(0x126)+(_0x52da33+0x1)+_0x39c590(0x7d5)+_0x712da6+_0x39c590(0x914)+_0x1d5071['length']+_0x39c590(0x4eb);})[_0x14b3ea(0x728)]('')),_0x4c6519[_0x14b3ea(0x735)]=_0x14b3ea(0x2b1)+_0x4812c5['map'](_0x5b52ed=>'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x5b52ed[_0x14b3ea(0x682)]+'</span><span\x20class=\x22font-bold\x22>'+_0x5b52ed[_0x14b3ea(0x19e)]+_0x14b3ea(0x924))[_0x14b3ea(0x728)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x1b32c3+_0x14b3ea(0x5cd);}}async function handleJoinTeamQuiz(){const _0x37ddef=_0x53e3b0,_0x3d9ffe=prompt(_0x37ddef(0x270));if(!_0x3d9ffe||_0x3d9ffe['trim']()['length']!==0x4){showMessage(_0x37ddef(0x1af));return;}try{const _0x293c65=collection(db,_0x37ddef(0x50e)+appId+_0x37ddef(0x57a)),_0x49aa76=query(_0x293c65,where(_0x37ddef(0x196),'==',_0x3d9ffe['trim']()),where(_0x37ddef(0x25f),'==',_0x37ddef(0x88a))),_0x20668b=await getDocs(_0x49aa76);if(_0x20668b[_0x37ddef(0x553)]){showMessage(_0x37ddef(0x3e9));return;}const _0x3f89ee=_0x20668b[_0x37ddef(0x51f)][0x0];currentTeamQuizId=_0x3f89ee['id'];const _0x58b506=_0x3f89ee[_0x37ddef(0x1b4)](),_0x4f6d0a=doc(db,_0x37ddef(0x50e)+appId+_0x37ddef(0x33e),_0x58b506['projectId']),_0x4e0f4c=doc(db,_0x37ddef(0x50e)+appId+_0x37ddef(0x7ee),_0x58b506[_0x37ddef(0x8a9)]),[_0x5b5fbd,_0x570066]=await Promise['all']([getDoc(_0x4f6d0a),getDoc(_0x4e0f4c)]);if(!_0x5b5fbd[_0x37ddef(0x4bc)]()||!_0x570066[_0x37ddef(0x4bc)]())throw new Error(_0x37ddef(0x84d));currentQuizData=getShuffledQuiz({'id':_0x570066['id'],..._0x570066[_0x37ddef(0x1b4)]()});const _0x2d91da=_0x5b5fbd[_0x37ddef(0x1b4)]();showTeamPlayerSelection(_0x2d91da[_0x37ddef(0x3f3)],currentQuizData[_0x37ddef(0x6a6)]);}catch(_0x14dad6){console[_0x37ddef(0x4e5)]('Error\x20joining\x20team\x20quiz:',_0x14dad6),showMessage(_0x37ddef(0xa32)+_0x14dad6['message']);}}async function handleJoinGroupActivity(){const _0x236868=_0x53e3b0,_0x6209a6=prompt(_0x236868(0x94c));if(!_0x6209a6||_0x6209a6['trim']()['length']!==0x4){showMessage(_0x236868(0x119));return;}const _0x5c75bc=_0x6209a6['trim']();showMessage(_0x236868(0x4b2));try{const _0x582c5e=collection(db,_0x236868(0x50e)+appId+_0x236868(0x57a)),_0x547986=query(_0x582c5e,where('pin','==',_0x5c75bc),where(_0x236868(0x25f),'==',_0x236868(0x88a))),_0x35ec0c=await getDocs(_0x547986);if(!_0x35ec0c[_0x236868(0x553)]){console[_0x236868(0x303)]('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x35ec0c['docs'][0x0]);return;}const _0x3af068=collection(db,_0x236868(0x50e)+appId+_0x236868(0x551)),_0x3d590c=query(_0x3af068,where(_0x236868(0x196),'==',_0x5c75bc),where(_0x236868(0x25f),'==',_0x236868(0x88a))),_0x335f76=await getDocs(_0x3d590c);if(!_0x335f76[_0x236868(0x553)]){console['log'](_0x236868(0x1d7)),await proceedWithSyncQuizJoin(_0x335f76[_0x236868(0x51f)][0x0]);return;}showMessage(_0x236868(0x806));}catch(_0x205ee0){console['error'](_0x236868(0x667),_0x205ee0),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x205ee0[_0x236868(0x405)]);}}async function proceedWithTeamQuizJoin(_0x112b79){const _0x3a5d97=_0x53e3b0;currentTeamQuizId=_0x112b79['id'];const _0x1cef75=_0x112b79[_0x3a5d97(0x1b4)](),_0x3c20cd=doc(db,_0x3a5d97(0x50e)+appId+'/public/data/projects',_0x1cef75[_0x3a5d97(0x63c)]),_0x326f88=doc(db,'artifacts/'+appId+_0x3a5d97(0x7ee),_0x1cef75[_0x3a5d97(0x8a9)]),[_0x19aa8c,_0x2046c7]=await Promise[_0x3a5d97(0x260)]([getDoc(_0x3c20cd),getDoc(_0x326f88)]);if(!_0x19aa8c[_0x3a5d97(0x4bc)]()||!_0x2046c7[_0x3a5d97(0x4bc)]())throw new Error(_0x3a5d97(0x84d));currentQuizData=getShuffledQuiz({'id':_0x2046c7['id'],..._0x2046c7[_0x3a5d97(0x1b4)]()}),showTeamPlayerSelection(_0x19aa8c[_0x3a5d97(0x1b4)]()['students'],currentQuizData[_0x3a5d97(0x6a6)],_0x1cef75[_0x3a5d97(0x837)]||'team'),messageModal[_0x3a5d97(0x97f)]['add'](_0x3a5d97(0x4ba));}async function proceedWithSyncQuizJoin(_0x5d086d){const _0x437a1b=_0x53e3b0;currentLiveGameId=_0x5d086d['id'];const _0x1786c0=_0x5d086d[_0x437a1b(0x1b4)](),_0x5c28b3=doc(db,'artifacts/'+appId+_0x437a1b(0x7ee),_0x1786c0[_0x437a1b(0x8a9)]),_0x25fc11=await getDoc(_0x5c28b3);if(!_0x25fc11[_0x437a1b(0x4bc)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x24a168=_0x25fc11[_0x437a1b(0x1b4)](),_0x4eda47=doc(db,_0x437a1b(0x50e)+appId+'/public/data/projects',_0x24a168[_0x437a1b(0x63c)]),_0x286e3b=await getDoc(_0x4eda47);if(!_0x286e3b[_0x437a1b(0x4bc)]())throw new Error(_0x437a1b(0x8d2));currentQuizData=_0x1786c0[_0x437a1b(0x8f4)],showView('student-team-join'),showTeamPlayerSelection(_0x286e3b[_0x437a1b(0x1b4)]()[_0x437a1b(0x3f3)],_0x24a168[_0x437a1b(0x6a6)],_0x437a1b(0x69f)),document['getElementById']('confirm-team-players-btn')['onclick']=confirmAndJoinSyncGame,messageModal[_0x437a1b(0x97f)][_0x437a1b(0x218)](_0x437a1b(0x4ba));}function showTeamPlayerSelection(_0x3795cd,_0x4c06ca,_0x2ad768=_0x53e3b0(0x8e6)){const _0x2efa10=_0x53e3b0;studentInitialView['classList'][_0x2efa10(0x218)](_0x2efa10(0x4ba)),studentJoinGameView[_0x2efa10(0x97f)][_0x2efa10(0x218)]('hidden'),document['getElementById'](_0x2efa10(0x41e))[_0x2efa10(0x97f)][_0x2efa10(0x8b7)]('hidden');let _0xcdf1c0=_0x2efa10(0x2c8);if(_0x2ad768===_0x2efa10(0x5d8))_0xcdf1c0=_0x2efa10(0x978);else _0x2ad768==='sync'&&(_0xcdf1c0='Sync\x20Mode');document[_0x2efa10(0x2f6)](_0x2efa10(0x916))[_0x2efa10(0x8c8)]=_0xcdf1c0+':\x20'+_0x4c06ca;const _0x31c4cf=document[_0x2efa10(0x2f6)](_0x2efa10(0x569));if(!_0x3795cd||_0x3795cd[_0x2efa10(0x4f1)]===0x0){_0x31c4cf[_0x2efa10(0x735)]=_0x2efa10(0x91b),document['getElementById'](_0x2efa10(0x760))[_0x2efa10(0x6bc)]=!![];return;}_0x31c4cf['innerHTML']=_0x3795cd['map'](_0x703853=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x703853+_0x2efa10(0x8a1)+_0x703853+_0x2efa10(0x560))[_0x2efa10(0x728)](''),document[_0x2efa10(0x2f6)](_0x2efa10(0x760))[_0x2efa10(0x6bc)]=![];}async function confirmAndStartTeamQuiz(){const _0x33fabe=_0x53e3b0,_0x105ab3=Array[_0x33fabe(0x535)](document[_0x33fabe(0xa09)](_0x33fabe(0xa03)))[_0x33fabe(0x6e9)](_0x4e5216=>_0x4e5216['value']);if(_0x105ab3[_0x33fabe(0x4f1)]===0x0){showMessage(_0x33fabe(0x712));return;}localTeamPlayers=_0x105ab3,localPlayerTurnIndex=0x0;const _0x1b9290=doc(db,_0x33fabe(0x50e)+appId+_0x33fabe(0x57a),currentTeamQuizId),_0x18cbd3=await getDoc(_0x1b9290);if(!_0x18cbd3['exists']()){showMessage('ไม่พบข้อมูลเกม');return;}const _0x587cce=_0x18cbd3[_0x33fabe(0x1b4)]();_0x587cce[_0x33fabe(0x837)]===_0x33fabe(0x5d8)&&(localGroupQuestionIndex=0x0);try{if(_0x587cce[_0x33fabe(0x837)]==='group'){const _0x5ece4b=userId,_0x543120={};_0x543120['groups.'+_0x5ece4b]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x1b9290,_0x543120);}else{const _0x1d6a6d={};localTeamPlayers[_0x33fabe(0x87f)](_0xe00ba=>{_0x1d6a6d['responses.'+_0xe00ba]={'score':0x0,'answers':[]};}),await updateDoc(_0x1b9290,_0x1d6a6d);}document[_0x33fabe(0x2f6)](_0x33fabe(0x41e))['classList'][_0x33fabe(0x218)]('hidden'),renderTeamQuizQuestion();const _0x290d12={'gameId':currentTeamQuizId,'mode':_0x587cce['mode']||_0x33fabe(0x8e6),'players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage[_0x33fabe(0x7ba)](_0x33fabe(0x40a),JSON[_0x33fabe(0x84c)](_0x290d12)),listenForTeamQuizUpdates();}catch(_0x2b69ea){console[_0x33fabe(0x4e5)](_0x33fabe(0x1da),_0x2b69ea),showMessage(_0x33fabe(0x81c));}}async function renderTeamQuizQuestion(){const _0x7e817e=_0x53e3b0,_0x3e7d6f=doc(db,_0x7e817e(0x50e)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x11cb0b=await getDoc(_0x3e7d6f);if(!_0x11cb0b[_0x7e817e(0x4bc)]())return;const _0xef6528=_0x11cb0b[_0x7e817e(0x1b4)](),_0x25dbf9=_0xef6528[_0x7e817e(0x837)]||_0x7e817e(0x8e6);let _0xeda9e3,_0x549de1;_0x25dbf9===_0x7e817e(0x5d8)?(_0xeda9e3=localGroupQuestionIndex,_0x549de1=_0x7e817e(0x351)+localTeamPlayers[_0x7e817e(0x728)](',\x20')):(_0xeda9e3=Math[_0x7e817e(0x671)](localPlayerTurnIndex/localTeamPlayers[_0x7e817e(0x4f1)]),_0x549de1=_0x7e817e(0x943)+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers['length']]);if(_0xeda9e3>=currentQuizData[_0x7e817e(0x7d4)][_0x7e817e(0x4f1)]){displayTeamQuizFinalResults();return;}const _0x1460c3=currentQuizData['questions'][_0xeda9e3],_0x2358c7=_0x1460c3[_0x7e817e(0x281)]||currentQuizData[_0x7e817e(0x509)];let _0x4b168d=_0x1460c3['stem']||_0x1460c3[_0x7e817e(0x8bc)],_0x28d695='';switch(_0x2358c7){case _0x7e817e(0x7f3):case _0x7e817e(0x893):_0x28d695=_0x1460c3[_0x7e817e(0x9b6)]['map']((_0x1d3ba7,_0x4b5256)=>_0x7e817e(0x304)+_0x4b5256+_0x7e817e(0x6ea)+_0x4b5256+_0x7e817e(0x43e)+_0x4b5256+'\x22>'+_0x1d3ba7+_0x7e817e(0x136))[_0x7e817e(0x728)]('');break;case _0x7e817e(0x529):_0x28d695=_0x7e817e(0x602);break;case _0x7e817e(0x331):case _0x7e817e(0x776):_0x28d695='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x7e817e(0x8f9):_0x28d695=_0x7e817e(0x247)+_0x1460c3[_0x7e817e(0x15f)]['map'](_0x5a312f=>'<option\x20value=\x22'+_0x5a312f+'\x22>'+_0x5a312f+'</option>')[_0x7e817e(0x728)]('')+_0x7e817e(0x7bf);break;default:_0x28d695='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea['innerHTML']=_0x7e817e(0x1e4)+(_0xeda9e3+0x1)+_0x7e817e(0x914)+currentQuizData[_0x7e817e(0x7d4)][_0x7e817e(0x4f1)]+_0x7e817e(0x7a0)+_0x549de1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(_0xeda9e3+0x1)+'.\x20'+_0x4b168d+_0x7e817e(0x5c6)+(_0x1460c3[_0x7e817e(0x170)]?_0x7e817e(0x7f1)+_0x1460c3['imageCode']+'</div>':'')+_0x7e817e(0x376)+_0x28d695+_0x7e817e(0x713),studentQuizArea[_0x7e817e(0x97f)][_0x7e817e(0x8b7)](_0x7e817e(0x4ba));if(window[_0x7e817e(0x4b0)])MathJax[_0x7e817e(0x1d1)]([studentQuizArea]);const _0x2dba85=document[_0x7e817e(0x2f6)](_0x7e817e(0x3cc));_0x25dbf9===_0x7e817e(0x5d8)?_0x2dba85[_0x7e817e(0x7a9)]('click',handleGroupAnswerSubmit):_0x2dba85['addEventListener'](_0x7e817e(0x911),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x4ca087=_0x53e3b0,_0x39f383=doc(db,'artifacts/'+appId+_0x4ca087(0x57a),currentTeamQuizId),_0x281b40=localGroupQuestionIndex,_0x1067ec=currentQuizData['questions'][_0x281b40],_0x1cca38=_0x1067ec['questionType']||currentQuizData[_0x4ca087(0x509)];let _0x597b94=null,_0x4a6910=![];if(_0x1cca38==='short_answer'||_0x1cca38===_0x4ca087(0x776)){const _0x3a59ae=document[_0x4ca087(0x70d)]('textarea[name=\x22team_answer\x22]');if(!_0x3a59ae||!_0x3a59ae['value'][_0x4ca087(0x48c)]()){showMessage(_0x4ca087(0x141));return;}_0x597b94=_0x3a59ae[_0x4ca087(0x6b0)][_0x4ca087(0x48c)](),_0x4a6910=await gradeShortAnswer(_0x597b94,_0x1067ec);}else{const _0x256d83=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x256d83||_0x256d83[_0x4ca087(0x6b0)]===''){showMessage(_0x4ca087(0x676));return;}_0x597b94=_0x256d83[_0x4ca087(0x6b0)];switch(_0x1cca38){case _0x4ca087(0x529):_0x4a6910=_0x597b94==='true'===_0x1067ec['correctAnswer'];break;case _0x4ca087(0x8f9):_0x4a6910=_0x597b94===_0x1067ec['correctResponse'];break;default:_0x4a6910=parseInt(_0x597b94)===_0x1067ec[_0x4ca087(0x94a)];break;}}const _0x4b6f7b={'questionIndex':_0x281b40,'isCorrect':_0x4a6910},_0x482b3e=userId,_0x3fee51={};_0x3fee51[_0x4ca087(0x54c)+_0x482b3e+_0x4ca087(0x90b)]=arrayUnion(_0x4b6f7b);_0x4a6910&&(_0x3fee51[_0x4ca087(0x54c)+_0x482b3e+_0x4ca087(0x2dd)]=increment(0x1));try{await updateDoc(_0x39f383,_0x3fee51),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0x1c5f75){console[_0x4ca087(0x4e5)](_0x4ca087(0x96c),_0x1c5f75),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x386d8b=_0x53e3b0,_0x1de1dc=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x386d8b(0x4f1)]],_0x91accb=Math['floor'](localPlayerTurnIndex/localTeamPlayers['length']),_0x12a5e3=currentQuizData['questions'][_0x91accb],_0x132a6f=_0x12a5e3[_0x386d8b(0x281)]||currentQuizData[_0x386d8b(0x509)];let _0x5c2e83=null,_0x1373dd=![];if(_0x132a6f===_0x386d8b(0x331)||_0x132a6f==='fill_in_no_choices'){const _0x87a680=document[_0x386d8b(0x70d)]('textarea[name=\x22team_answer\x22]');if(!_0x87a680||!_0x87a680['value'][_0x386d8b(0x48c)]()){showMessage(_0x386d8b(0x662));return;}_0x5c2e83=_0x87a680['value'][_0x386d8b(0x48c)](),_0x1373dd=await gradeShortAnswer(_0x5c2e83,_0x12a5e3);}else{const _0x28138d=document[_0x386d8b(0x70d)](_0x386d8b(0x5ff));if(!_0x28138d||_0x28138d[_0x386d8b(0x6b0)]===''){showMessage(_0x386d8b(0x7e3));return;}_0x5c2e83=_0x28138d[_0x386d8b(0x6b0)];switch(_0x132a6f){case _0x386d8b(0x529):const _0x1abfe4=_0x5c2e83===_0x386d8b(0x3e6);_0x1373dd=_0x1abfe4===_0x12a5e3[_0x386d8b(0x9fe)];break;case _0x386d8b(0x8f9):_0x1373dd=_0x5c2e83===_0x12a5e3[_0x386d8b(0x209)];break;default:const _0x532adc=parseInt(_0x5c2e83);_0x1373dd=_0x532adc===_0x12a5e3['correctAnswerIndex'];break;}}const _0xea7742={'questionIndex':_0x91accb,'isCorrect':_0x1373dd,'answerValue':_0x5c2e83},_0x1f100c=doc(db,_0x386d8b(0x50e)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x53d8d3={};_0x53d8d3['responses.'+_0x1de1dc+'.answers']=arrayUnion(_0xea7742);_0x1373dd&&(_0x53d8d3['responses.'+_0x1de1dc+'.score']=increment(0x1));try{await updateDoc(_0x1f100c,_0x53d8d3),localPlayerTurnIndex++;const _0x46dc20=JSON[_0x386d8b(0x975)](sessionStorage[_0x386d8b(0x11f)](_0x386d8b(0x40a))||'{}');_0x46dc20['turnIndex']=localPlayerTurnIndex,sessionStorage['setItem']('activeGameSession',JSON[_0x386d8b(0x84c)](_0x46dc20)),renderTeamQuizQuestion();}catch(_0x1858da){console[_0x386d8b(0x4e5)](_0x386d8b(0x73e),_0x1858da),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x4168e0=_0x53e3b0;studentQuizArea[_0x4168e0(0x97f)][_0x4168e0(0x218)](_0x4168e0(0x4ba)),studentResultArea[_0x4168e0(0x97f)][_0x4168e0(0x8b7)](_0x4168e0(0x4ba));const _0x1406a5=doc(db,_0x4168e0(0x50e)+appId+_0x4168e0(0x57a),currentTeamQuizId),_0x4594b8=await getDoc(_0x1406a5);if(!_0x4594b8[_0x4168e0(0x4bc)]()){studentResultArea[_0x4168e0(0x735)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x3c79ea=_0x4594b8['data']();let _0x39b4ac=[];const _0x3a9903=_0x3c79ea[_0x4168e0(0x837)]||_0x4168e0(0x8e6);if(_0x3a9903==='group'){const _0x3aeb10=_0x3c79ea[_0x4168e0(0x646)][userId];_0x3aeb10?_0x39b4ac=[{'name':_0x4168e0(0x351)+localTeamPlayers[_0x4168e0(0x728)](',\x20'),'score':_0x3aeb10[_0x4168e0(0x19e)]||0x0}]:_0x39b4ac=[{'name':_0x4168e0(0x8ca),'score':_0x4168e0(0x499)}];}else _0x39b4ac=localTeamPlayers[_0x4168e0(0x6e9)](_0x414d4d=>({'name':_0x414d4d,'score':_0x3c79ea[_0x4168e0(0x668)][_0x414d4d]?.[_0x4168e0(0x19e)]||0x0}))[_0x4168e0(0x933)]((_0x20da8e,_0xaa2104)=>_0xaa2104['score']-_0x20da8e[_0x4168e0(0x19e)]);studentResultArea[_0x4168e0(0x735)]=_0x4168e0(0x954)+_0x39b4ac[_0x4168e0(0x6e9)](_0x5553f6=>_0x4168e0(0x8d9)+_0x5553f6[_0x4168e0(0x682)]+_0x4168e0(0x2b9)+_0x5553f6['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4168e0(0x728)]('')+_0x4168e0(0x266),sessionStorage['removeItem'](_0x4168e0(0x40a)),currentMode===_0x4168e0(0x4c1)&&currentTeamQuizId&&setTimeout(()=>{const _0x5392f1=_0x4168e0;deleteDoc(doc(db,'artifacts/'+appId+_0x5392f1(0x57a),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x53e3b0(0x322),'pinnedProjects':[],'projectView':_0x53e3b0(0x778)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x53e3b0(0xa4b)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x317)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x44a)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x3c7)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x276)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x326)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x5c0)},{'category':_0x53e3b0(0x8c2),'name':'การหาร'},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x3ce)},{'category':_0x53e3b0(0x8c2),'name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':_0x53e3b0(0x815)},{'category':_0x53e3b0(0x8c2),'name':'เส้นจำนวน'},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x3fb)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x4c8)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x34a)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x26e)},{'category':'จำนวนและการดำเนินการ','name':_0x53e3b0(0x2d2)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x83b)},{'category':_0x53e3b0(0x8c2),'name':'การบวกเศษส่วน'},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x229)},{'category':_0x53e3b0(0x8c2),'name':'การคูณเศษส่วน'},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x6bb)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x45f)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x44d)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x86e)},{'category':'จำนวนและการดำเนินการ','name':_0x53e3b0(0x3dc)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x306)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x6fc)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x18f)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x4d7)},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x1ed)},{'category':_0x53e3b0(0x8c2),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x53e3b0(0x8c2),'name':_0x53e3b0(0x195)},{'category':'จำนวนและการดำเนินการ','name':_0x53e3b0(0x5a0)},{'category':'จำนวนและการดำเนินการ','name':_0x53e3b0(0x842)},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x53e3b0(0x165),'name':'หน่วยความยาวและการแปลง'},{'category':_0x53e3b0(0x165),'name':_0x53e3b0(0x1b2)},{'category':'การวัด','name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x53e3b0(0x165),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x53e3b0(0x165),'name':_0x53e3b0(0xa29)},{'category':_0x53e3b0(0x165),'name':'เส้นรอบรูป'},{'category':_0x53e3b0(0x165),'name':_0x53e3b0(0x1d8)},{'category':_0x53e3b0(0x165),'name':_0x53e3b0(0x8f5)},{'category':_0x53e3b0(0x165),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x53e3b0(0x165),'name':_0x53e3b0(0x308)},{'category':_0x53e3b0(0x165),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x53e3b0(0x165),'name':'มุมและการวัดมุม'},{'category':_0x53e3b0(0x165),'name':_0x53e3b0(0x9c2)},{'category':'การวัด','name':_0x53e3b0(0x6b3)},{'category':_0x53e3b0(0x125),'name':_0x53e3b0(0x4a9)},{'category':'เรขาคณิต','name':_0x53e3b0(0x949)},{'category':_0x53e3b0(0x125),'name':_0x53e3b0(0x3ee)},{'category':'เรขาคณิต','name':_0x53e3b0(0x8f5)},{'category':_0x53e3b0(0x125),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x53e3b0(0x125),'name':_0x53e3b0(0x7bb)},{'category':_0x53e3b0(0x125),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':'เรขาคณิต','name':_0x53e3b0(0x5c3)},{'category':_0x53e3b0(0x125),'name':_0x53e3b0(0x831)},{'category':_0x53e3b0(0x125),'name':_0x53e3b0(0x309)},{'category':'เรขาคณิต','name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':'เรขาคณิต','name':_0x53e3b0(0x9f0)},{'category':_0x53e3b0(0x125),'name':_0x53e3b0(0x188)},{'category':_0x53e3b0(0x125),'name':_0x53e3b0(0x3ab)},{'category':_0x53e3b0(0x125),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':'ตัวแปรและนิพจน์'},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x53e3b0(0x441),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x53e3b0(0x7be)},{'category':_0x53e3b0(0x441),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x976)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x53e3b0(0x441),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x9a8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x53e3b0(0x3e3)},{'category':_0x53e3b0(0x441),'name':'สมการราก\x20(radical)'},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x79a)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x629)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x4e3)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x485)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x2ae)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x1e8)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x3c2)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x549)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x53e3b0(0x134)},{'category':_0x53e3b0(0x441),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x7c8)},{'category':_0x53e3b0(0x441),'name':'ฟังก์ชันพหุนาม'},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x1a7)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x5a6)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x9dd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x53e3b0(0x419)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x53e3b0(0x22a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x53e3b0(0x32e)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x1d9)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x552)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x7e8)},{'category':_0x53e3b0(0x441),'name':_0x53e3b0(0x78e)},{'category':_0x53e3b0(0x679),'name':_0x53e3b0(0x27e)},{'category':_0x53e3b0(0x679),'name':_0x53e3b0(0x57f)},{'category':_0x53e3b0(0x679),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x53e3b0(0x679),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x53e3b0(0x679),'name':_0x53e3b0(0x3dd)},{'category':_0x53e3b0(0x679),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x53e3b0(0x679),'name':_0x53e3b0(0x8fd)},{'category':_0x53e3b0(0x679),'name':_0x53e3b0(0x4a0)},{'category':_0x53e3b0(0x679),'name':_0x53e3b0(0x795)},{'category':_0x53e3b0(0x79e),'name':_0x53e3b0(0x154)},{'category':_0x53e3b0(0x79e),'name':_0x53e3b0(0x34c)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x53e3b0(0x79e),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x53e3b0(0x79e),'name':_0x53e3b0(0x7a5)},{'category':_0x53e3b0(0x79e),'name':_0x53e3b0(0x4a6)},{'category':_0x53e3b0(0x79e),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x53e3b0(0x79e),'name':_0x53e3b0(0x578)},{'category':_0x53e3b0(0x79e),'name':_0x53e3b0(0x969)},{'category':_0x53e3b0(0x79e),'name':_0x53e3b0(0x272)},{'category':_0x53e3b0(0x79e),'name':_0x53e3b0(0x37a)},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x97d)},{'category':'สถิติและความน่าจะเป็น','name':'การจัดกลุ่มข้อมูล'},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x7b2)},{'category':'สถิติและความน่าจะเป็น','name':'กราฟแท่ง\x20กราฟเส้น'},{'category':'สถิติและความน่าจะเป็น','name':'ฮิสโตแกรม'},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x205)},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x2ea)},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x20c)},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x20b)},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x49f)},{'category':_0x53e3b0(0x473),'name':'ความแปรปรวน'},{'category':_0x53e3b0(0x473),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x367)},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x6d5)},{'category':_0x53e3b0(0x473),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x974)},{'category':_0x53e3b0(0x473),'name':'แผนภาพเวนน์'},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x7fc)},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x7c5)},{'category':'สถิติและความน่าจะเป็น','name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x8bf)},{'category':_0x53e3b0(0x473),'name':_0x53e3b0(0x68e)},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x53e3b0(0x9c6)},{'category':'แคลคูลัสเบื้องต้น','name':_0x53e3b0(0x216)},{'category':_0x53e3b0(0x18a),'name':_0x53e3b0(0x6f9)},{'category':_0x53e3b0(0x18a),'name':_0x53e3b0(0x880)},{'category':_0x53e3b0(0x18a),'name':_0x53e3b0(0x65d)},{'category':'แคลคูลัสเบื้องต้น','name':_0x53e3b0(0x46b)},{'category':_0x53e3b0(0x18a),'name':_0x53e3b0(0xa04)},{'category':_0x53e3b0(0x18a),'name':_0x53e3b0(0x3df)},{'category':'แคลคูลัสเบื้องต้น','name':_0x53e3b0(0x92a)},{'category':_0x53e3b0(0x18a),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x53e3b0(0x32a)},{'category':_0x53e3b0(0x18a),'name':_0x53e3b0(0x1f8)},{'category':_0x53e3b0(0x8da),'name':_0x53e3b0(0x5ab)},{'category':_0x53e3b0(0x8da),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x53e3b0(0x8da),'name':_0x53e3b0(0x2e2)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x53e3b0(0x582)},{'category':_0x53e3b0(0x8da),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x53e3b0(0x8da),'name':_0x53e3b0(0x17a)},{'category':_0x53e3b0(0x8da),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x53e3b0(0x267),'name':_0x53e3b0(0xa6b)},{'category':_0x53e3b0(0x267),'name':'ดอกเบี้ยทบต้น'},{'category':_0x53e3b0(0x267),'name':_0x53e3b0(0x6c1)},{'category':_0x53e3b0(0x267),'name':'ค่าเสื่อมราคา'},{'category':_0x53e3b0(0x267),'name':_0x53e3b0(0x7fd)},{'category':_0x53e3b0(0xa4c),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x53e3b0(0xa4c),'name':_0x53e3b0(0x436)},{'category':_0x53e3b0(0xa4c),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x4e23b7=_0x53e3b0,_0x283b17=document['getElementById'](_0x4e23b7(0xa0e));if(!_0x283b17)return;const _0x1d8460=allMathTopics,_0x5d72b6=customMathTopics[_0x4e23b7(0x6e9)](_0x13839b=>({'id':_0x13839b['id'],'category':_0x4e23b7(0x9f4),'name':_0x13839b[_0x4e23b7(0x682)]})),_0x444829=[..._0x1d8460,..._0x5d72b6],_0xea8347=_0x444829[_0x4e23b7(0x26f)]((_0x556f42,_0x19551d)=>{const _0x221d6e=_0x4e23b7;return!_0x556f42[_0x19551d[_0x221d6e(0x501)]]&&(_0x556f42[_0x19551d['category']]=[]),_0x556f42[_0x19551d[_0x221d6e(0x501)]][_0x221d6e(0x8c3)](_0x19551d),_0x556f42;},{});let _0xac82a7='';const _0x461e0e=[_0x4e23b7(0x9f4),...Object[_0x4e23b7(0x4e6)](_0xea8347)[_0x4e23b7(0x845)](_0x48c10f=>_0x48c10f!==_0x4e23b7(0x9f4))];for(const _0x1749d5 of _0x461e0e){if(_0xea8347[_0x1749d5]){const _0x2d2a2b=_0x1749d5===_0x4e23b7(0x9f4),_0x2e9056=_0x2d2a2b?_0x4e23b7(0x625):_0x4e23b7(0x3b4),_0x357b6d=_0x2d2a2b?_0x4e23b7(0x86a):_0x4e23b7(0x2e8);_0xac82a7+=_0x4e23b7(0x2b2),_0xac82a7+=_0x4e23b7(0x8f0)+_0x357b6d+_0x4e23b7(0x300)+_0x2e9056+_0x4e23b7(0xa4e)+_0x1749d5+_0x4e23b7(0x853),_0xea8347[_0x1749d5]['forEach'](_0x595120=>{const _0x1d4d29=_0x4e23b7,_0x557570=!!_0x595120['id'],_0x19bb7d=_0x557570?_0x1d4d29(0x624)+_0x595120['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x595120['id']+_0x1d4d29(0x2c3)+_0x595120['id']+_0x1d4d29(0x9c8)+_0x595120['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0xac82a7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x595120['id']||'')+_0x1d4d29(0x4b7)+_0x595120[_0x1d4d29(0x682)]+_0x1d4d29(0x197)+_0x595120['name']+_0x1d4d29(0x723)+(_0x557570?_0x1d4d29(0x6c5)+_0x595120[_0x1d4d29(0x682)]+'\x22>':'')+_0x1d4d29(0x305)+_0x19bb7d+_0x1d4d29(0x90d);}),_0xac82a7+=_0x4e23b7(0x245);}}_0x283b17['innerHTML']=_0xac82a7||_0x4e23b7(0x8b6),_0x283b17['removeEventListener'](_0x4e23b7(0x12f),updateSelectedTopicsCount),_0x283b17[_0x4e23b7(0x7a9)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2a001c,_0x43b585){const _0x42c861=_0x53e3b0;if(!_0x2a001c||!_0x43b585[_0x42c861(0x48c)]()){showMessage(_0x42c861(0xa74));return;}try{const _0x53920d=doc(db,_0x42c861(0x50e)+appId+_0x42c861(0x6a2),_0x2a001c);await updateDoc(_0x53920d,{'name':_0x43b585['trim']()}),showMessage(_0x42c861(0x7f0));}catch(_0x1a680e){console[_0x42c861(0x4e5)](_0x42c861(0x349),_0x1a680e),showMessage(_0x42c861(0x73a));}}function toggleTopicEditMode(_0x1f693a,_0x33561e){const _0x37c16c=_0x53e3b0;if(!_0x1f693a)return;const _0x221d77=_0x1f693a['querySelector']('.topic-name-display'),_0x383f67=_0x1f693a[_0x37c16c(0x70d)](_0x37c16c(0x6ff)),_0x576d33=_0x1f693a[_0x37c16c(0x70d)](_0x37c16c(0x8e5)),_0xc4e45=_0x1f693a[_0x37c16c(0x70d)](_0x37c16c(0x156));_0x221d77[_0x37c16c(0x97f)][_0x37c16c(0x95b)](_0x37c16c(0x4ba),_0x33561e),_0x383f67[_0x37c16c(0x97f)][_0x37c16c(0x95b)](_0x37c16c(0x4ba),!_0x33561e),_0x576d33['classList']['toggle']('hidden',_0x33561e),_0xc4e45[_0x37c16c(0x97f)][_0x37c16c(0x95b)]('hidden',!_0x33561e),_0x33561e&&(_0x383f67['focus'](),_0x383f67[_0x37c16c(0xa2d)]());}async function handleStartLiveRace(_0x20c902){const _0x3d29d7=_0x53e3b0;let _0x3ede80=allQuizzes['find'](_0x286eb7=>_0x286eb7['id']===_0x20c902);if(!_0x3ede80){const _0x4b87a4=doc(db,_0x3d29d7(0x50e)+appId+'/public/data/quizzes',_0x20c902),_0xb32dd7=await getDoc(_0x4b87a4);if(!_0xb32dd7[_0x3d29d7(0x4bc)]()){showMessage(_0x3d29d7(0x8bd));return;}_0x3ede80={'id':_0xb32dd7['id'],..._0xb32dd7['data']()};}const _0x34acea=getShuffledQuiz(_0x3ede80);currentQuizData=_0x34acea;const _0x2b5283=_0x3ede80[_0x3d29d7(0x63c)]||currentProjectId||null,_0x48c5db=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();currentLiveGamePin=_0x48c5db;try{const _0x4182f5=await addDoc(collection(db,'artifacts/'+appId+_0x3d29d7(0x2fe)),{'quizId':_0x20c902,'projectId':_0x2b5283,'status':_0x3d29d7(0x88a),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x48c5db,'createdAt':serverTimestamp(),'shuffledQuiz':_0x34acea});currentLiveGameId=_0x4182f5['id'],showAdminLobbyView(_0x48c5db,_0x3ede80[_0x3d29d7(0x6a6)]),listenForLiveGameUpdates();}catch(_0x3c1a2b){console[_0x3d29d7(0x4e5)]('Error\x20starting\x20live\x20race:',_0x3c1a2b),showMessage(_0x3d29d7(0x7f5));}}function updateSelectedTopicsCount(){const _0x54d80f=_0x53e3b0,_0x3338ca=document[_0x54d80f(0x2f6)](_0x54d80f(0xa0e)),_0x1eb15b=_0x3338ca[_0x54d80f(0xa09)](_0x54d80f(0x1e0))[_0x54d80f(0x4f1)],_0x3054ca=document['getElementById'](_0x54d80f(0x5e3));_0x1eb15b>0x0?_0x3054ca[_0x54d80f(0x8c8)]=_0x54d80f(0x429)+_0x1eb15b+_0x54d80f(0x2dc):_0x3054ca[_0x54d80f(0x8c8)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x53e3b0(0x14d),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x53e3b0(0x3ea),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x53e3b0(0x431),scratchpadPenColor='#000000',scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x2822e9,_0xadab30){const _0x28ffb5=_0x53e3b0;return Math[_0x28ffb5(0x198)](Math[_0x28ffb5(0x29e)](_0x2822e9['x']-_0xadab30['x'],0x2)+Math[_0x28ffb5(0x29e)](_0x2822e9['y']-_0xadab30['y'],0x2));}function getMidpoint(_0x2ac25b,_0x2e21b2){return{'x':(_0x2ac25b['x']+_0x2e21b2['x'])/0x2,'y':(_0x2ac25b['y']+_0x2e21b2['y'])/0x2};}function getTransformedPoint(_0x2d986b,_0x4fbd25){return{'x':(_0x2d986b-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4fbd25-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1caf15=_0x53e3b0;if(!scratchpadCtx)return;const _0x42864e=scratchpadCtx[_0x1caf15(0x46e)],_0x278b3e=window[_0x1caf15(0x5e7)]||0x1,_0x226115=document[_0x1caf15(0x2f6)](_0x1caf15(0x339));_0x226115&&(_0x226115[_0x1caf15(0x7c1)]['transformOrigin']='0\x200',_0x226115[_0x1caf15(0x7c1)][_0x1caf15(0x355)]='translate('+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x1caf15(0x503)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x1caf15(0x29f)](_0x278b3e,0x0,0x0,_0x278b3e,0x0,0x0),scratchpadCtx[_0x1caf15(0x86f)](0x0,0x0,_0x42864e[_0x1caf15(0x652)],_0x42864e[_0x1caf15(0x57e)]),scratchpadCtx['restore'](),scratchpadCtx[_0x1caf15(0x31d)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x1caf15(0x87f)](_0x23eb62=>{drawStroke(_0x23eb62);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x1caf15(0x33c)]();}function handlePointerDown(_0x43ecc5){const _0x2f519a=_0x53e3b0;_0x43ecc5[_0x2f519a(0x167)]();const _0x1ee574=scratchpadCtx[_0x2f519a(0x46e)],_0x50c024=_0x1ee574[_0x2f519a(0x400)](),_0x395a74=_0x43ecc5[_0x2f519a(0x460)]||(_0x43ecc5[_0x2f519a(0x81a)]?_0x2f519a(0xa13):_0x2f519a(0x68a));if(_0x395a74===_0x2f519a(0x431)||_0x395a74===_0x2f519a(0x68a)){if(_0x43ecc5[_0x2f519a(0x460)]==='mouse'&&_0x43ecc5[_0x2f519a(0x4d1)]!==0x0){_0x43ecc5[_0x2f519a(0x4d1)]===0x1&&(isMousePanning=!![],panStart={'x':_0x43ecc5[_0x2f519a(0x5fa)],'y':_0x43ecc5[_0x2f519a(0x741)]},_0x1ee574[_0x2f519a(0x7c1)]['cursor']=_0x2f519a(0x895));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x511cea=getTransformedPoint(_0x43ecc5[_0x2f519a(0x5fa)]-_0x50c024[_0x2f519a(0x2e0)],_0x43ecc5['clientY']-_0x50c024['top']);let _0x6ba6a7={'tool':activeTool,'points':[_0x511cea]};if(activeTool==='highlighter')_0x6ba6a7['color']=scratchpadHighlighterColor,_0x6ba6a7[_0x2f519a(0x1aa)]=scratchpadHighlighterSize;else activeTool===_0x2f519a(0xa34)?(_0x6ba6a7[_0x2f519a(0xa27)]=scratchpadPenColor,_0x6ba6a7[_0x2f519a(0x1aa)]=scratchpadPenSize):(_0x6ba6a7[_0x2f519a(0xa27)]=scratchpadPenColor,_0x6ba6a7['size']=scratchpadPenSize);currentStroke=_0x6ba6a7;}else _0x43ecc5[_0x2f519a(0x81a)]&&(_0x43ecc5[_0x2f519a(0x81a)][_0x2f519a(0x4f1)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x43ecc5[_0x2f519a(0x81a)][0x0][_0x2f519a(0x5fa)],'y':_0x43ecc5[_0x2f519a(0x81a)][0x0][_0x2f519a(0x741)]},{'x':_0x43ecc5[_0x2f519a(0x81a)][0x1][_0x2f519a(0x5fa)],'y':_0x43ecc5[_0x2f519a(0x81a)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x43ecc5['touches'][0x0][_0x2f519a(0x5fa)],'y':_0x43ecc5[_0x2f519a(0x81a)][0x0][_0x2f519a(0x741)]},{'x':_0x43ecc5['touches'][0x1]['clientX'],'y':_0x43ecc5[_0x2f519a(0x81a)][0x1][_0x2f519a(0x741)]})));}function animateTrail(){const _0x4894d3=_0x53e3b0,_0xf2a678=Date['now']();let _0x678889=![];for(let _0x11db4f=strokes[_0x4894d3(0x4f1)]-0x1;_0x11db4f>=0x0;_0x11db4f--){const _0x2967e4=strokes[_0x11db4f];if(_0x2967e4[_0x4894d3(0x2e3)]===_0x4894d3(0xa34)&&_0x2967e4['fadeStartTime']){const _0x25983d=_0xf2a678-_0x2967e4[_0x4894d3(0x889)];_0x25983d>=TRAIL_DURATION?strokes[_0x4894d3(0x58d)](_0x11db4f,0x1):(_0x2967e4[_0x4894d3(0x5a3)]=0x1-_0x25983d/TRAIL_DURATION,_0x678889=!![]);}}redrawScratchpad(),_0x678889?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x300c04){const _0x16be96=_0x53e3b0;if(!_0x300c04||_0x300c04[_0x16be96(0x3ef)][_0x16be96(0x4f1)]<0x1)return;scratchpadCtx[_0x16be96(0x31d)](),scratchpadCtx[_0x16be96(0x8d1)]=_0x16be96(0x786),scratchpadCtx[_0x16be96(0x839)]='round';if(_0x300c04['tool']==='trail'){const _0x5dd1de=_0x300c04[_0x16be96(0x1aa)]/scratchpadScale;scratchpadCtx[_0x16be96(0x3b9)]=_0x300c04[_0x16be96(0x5a3)]??0x1,scratchpadCtx[_0x16be96(0x50a)]=_0x16be96(0x4c4),scratchpadCtx[_0x16be96(0x1c5)]=_0x5dd1de*0x3,scratchpadCtx[_0x16be96(0x98c)]=_0x16be96(0x356),scratchpadCtx['lineWidth']=_0x5dd1de*2.5,scratchpadCtx[_0x16be96(0x4b8)](),scratchpadCtx[_0x16be96(0x7cd)](_0x300c04[_0x16be96(0x3ef)][0x0]['x'],_0x300c04[_0x16be96(0x3ef)][0x0]['y']);for(let _0xadb17=0x1;_0xadb17<_0x300c04[_0x16be96(0x3ef)][_0x16be96(0x4f1)]-0x1;_0xadb17++){const _0x16c1e7=getMidpoint(_0x300c04[_0x16be96(0x3ef)][_0xadb17],_0x300c04['points'][_0xadb17+0x1]);scratchpadCtx['quadraticCurveTo'](_0x300c04[_0x16be96(0x3ef)][_0xadb17]['x'],_0x300c04['points'][_0xadb17]['y'],_0x16c1e7['x'],_0x16c1e7['y']);}scratchpadCtx[_0x16be96(0x290)](),scratchpadCtx[_0x16be96(0x50a)]=_0x16be96(0x3b2),scratchpadCtx[_0x16be96(0x1c5)]=0x0,scratchpadCtx[_0x16be96(0x98c)]=_0x16be96(0x228),scratchpadCtx[_0x16be96(0x960)]=_0x5dd1de,scratchpadCtx[_0x16be96(0x290)](),scratchpadCtx[_0x16be96(0x2ac)]();}else{if(_0x300c04[_0x16be96(0x2e3)]==='highlighter'){scratchpadCtx[_0x16be96(0x8be)]=_0x16be96(0x2c7),scratchpadCtx['strokeStyle']=_0x300c04[_0x16be96(0xa27)],scratchpadCtx[_0x16be96(0x960)]=_0x300c04[_0x16be96(0x1aa)],scratchpadCtx[_0x16be96(0x4b8)](),scratchpadCtx['moveTo'](_0x300c04[_0x16be96(0x3ef)][0x0]['x'],_0x300c04[_0x16be96(0x3ef)][0x0]['y']);for(let _0x312dff=0x1;_0x312dff<_0x300c04[_0x16be96(0x3ef)][_0x16be96(0x4f1)]-0x1;_0x312dff++){const _0x50bc7d=getMidpoint(_0x300c04['points'][_0x312dff],_0x300c04[_0x16be96(0x3ef)][_0x312dff+0x1]);scratchpadCtx[_0x16be96(0x692)](_0x300c04[_0x16be96(0x3ef)][_0x312dff]['x'],_0x300c04[_0x16be96(0x3ef)][_0x312dff]['y'],_0x50bc7d['x'],_0x50bc7d['y']);}scratchpadCtx[_0x16be96(0x290)](),scratchpadCtx[_0x16be96(0x2ac)]();}else{scratchpadCtx['globalCompositeOperation']=_0x300c04[_0x16be96(0x2e3)]===_0x16be96(0x2d4)?'destination-out':_0x16be96(0x139),scratchpadCtx['strokeStyle']=_0x300c04[_0x16be96(0xa27)],scratchpadCtx[_0x16be96(0x960)]=_0x300c04['size'],scratchpadCtx[_0x16be96(0x4b8)](),scratchpadCtx[_0x16be96(0x7cd)](_0x300c04[_0x16be96(0x3ef)][0x0]['x'],_0x300c04['points'][0x0]['y']);for(let _0x451422=0x1;_0x451422<_0x300c04[_0x16be96(0x3ef)][_0x16be96(0x4f1)]-0x1;_0x451422++){const _0x5c2271=getMidpoint(_0x300c04['points'][_0x451422],_0x300c04[_0x16be96(0x3ef)][_0x451422+0x1]);scratchpadCtx['quadraticCurveTo'](_0x300c04[_0x16be96(0x3ef)][_0x451422]['x'],_0x300c04[_0x16be96(0x3ef)][_0x451422]['y'],_0x5c2271['x'],_0x5c2271['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x16be96(0x2ac)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x595c53){const _0x9809d=_0x53e3b0;_0x595c53[_0x9809d(0x167)]();const _0x40d005=scratchpadCtx[_0x9809d(0x46e)],_0x4a02ba=_0x40d005[_0x9809d(0x400)]();if(_0x595c53['touches']){if(_0x595c53[_0x9809d(0x81a)][_0x9809d(0x4f1)]===0x1&&isDrawingOnScratchpad){const _0x8f8bc9=getTransformedPoint(_0x595c53[_0x9809d(0x81a)][0x0][_0x9809d(0x5fa)]-_0x4a02ba[_0x9809d(0x2e0)],_0x595c53['touches'][0x0]['clientY']-_0x4a02ba[_0x9809d(0x78a)]);currentStroke[_0x9809d(0x3ef)]['push'](_0x8f8bc9),redrawScratchpad();}else{if(_0x595c53['touches'][_0x9809d(0x4f1)]===0x2&&isPanning){const _0x465bcf=getDistance({'x':_0x595c53[_0x9809d(0x81a)][0x0][_0x9809d(0x5fa)],'y':_0x595c53[_0x9809d(0x81a)][0x0][_0x9809d(0x741)]},{'x':_0x595c53[_0x9809d(0x81a)][0x1][_0x9809d(0x5fa)],'y':_0x595c53[_0x9809d(0x81a)][0x1][_0x9809d(0x741)]}),_0x50c06a=getMidpoint({'x':_0x595c53[_0x9809d(0x81a)][0x0][_0x9809d(0x5fa)],'y':_0x595c53['touches'][0x0]['clientY']},{'x':_0x595c53['touches'][0x1][_0x9809d(0x5fa)],'y':_0x595c53[_0x9809d(0x81a)][0x1][_0x9809d(0x741)]}),_0x225ef8=_0x465bcf/ initialPinchDistance,_0x3eb524=Math[_0x9809d(0x31e)](Math[_0x9809d(0x5c8)](scratchpadScale*_0x225ef8,MIN_SCALE),MAX_SCALE),_0x1e78be=_0x50c06a['x']-panStart['x'],_0x3b80c5=_0x50c06a['y']-panStart['y'];scratchpadOffset['x']=_0x50c06a['x']-(_0x50c06a['x']-scratchpadOffset['x'])*(_0x3eb524/scratchpadScale),scratchpadOffset['y']=_0x50c06a['y']-(_0x50c06a['y']-scratchpadOffset['y'])*(_0x3eb524/scratchpadScale),scratchpadOffset['x']+=_0x1e78be,scratchpadOffset['y']+=_0x3b80c5,scratchpadScale=_0x3eb524,initialPinchDistance=_0x465bcf,panStart=_0x50c06a,redrawScratchpad();}}}else{if(isMousePanning){const _0x43acba=_0x595c53[_0x9809d(0x5fa)]-panStart['x'],_0x2bce93=_0x595c53[_0x9809d(0x741)]-panStart['y'];scratchpadOffset['x']+=_0x43acba,scratchpadOffset['y']+=_0x2bce93,panStart={'x':_0x595c53['clientX'],'y':_0x595c53[_0x9809d(0x741)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x4a9435=getTransformedPoint(_0x595c53[_0x9809d(0x5fa)]-_0x4a02ba[_0x9809d(0x2e0)],_0x595c53['clientY']-_0x4a02ba[_0x9809d(0x78a)]);currentStroke['points'][_0x9809d(0x8c3)](_0x4a9435),redrawScratchpad();}}}}function handlePointerUp(_0x5cd265){const _0x24e7e2=_0x53e3b0;_0x5cd265[_0x24e7e2(0x167)]();const _0x4f5172=scratchpadCtx[_0x24e7e2(0x46e)];isMousePanning&&(isMousePanning=![],_0x4f5172[_0x24e7e2(0x7c1)]['cursor']=_0x24e7e2(0x97e)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x24e7e2(0x3ef)][_0x24e7e2(0x4f1)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x24e7e2(0x2e3)]===_0x24e7e2(0xa34)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x295fc5=_0x24e7e2,_0xe1c002=strokes[_0x295fc5(0x845)](_0xf99b1a=>_0xf99b1a[_0x295fc5(0x2e3)]===_0x295fc5(0xa34)&&!_0xf99b1a[_0x295fc5(0x889)]);if(_0xe1c002[_0x295fc5(0x4f1)]>0x0){const _0x433725=Date[_0x295fc5(0x988)]();_0xe1c002[_0x295fc5(0x87f)](_0x5114fd=>_0x5114fd[_0x295fc5(0x889)]=_0x433725),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x29232a){const _0x52d6f7=_0x53e3b0;_0x29232a['preventDefault']();const _0x2a03a2=_0x29232a[_0x52d6f7(0x39b)]*-0.005,_0x3d2197=Math[_0x52d6f7(0x31e)](Math[_0x52d6f7(0x5c8)](scratchpadScale+_0x2a03a2,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x29232a[_0x52d6f7(0x5fa)]-(_0x29232a[_0x52d6f7(0x5fa)]-scratchpadOffset['x'])*(_0x3d2197/scratchpadScale),scratchpadOffset['y']=_0x29232a[_0x52d6f7(0x741)]-(_0x29232a[_0x52d6f7(0x741)]-scratchpadOffset['y'])*(_0x3d2197/scratchpadScale),scratchpadScale=_0x3d2197,redrawScratchpad();}function undo(){const _0x1646c6=_0x53e3b0;strokes[_0x1646c6(0x4f1)]>0x0&&(redoStrokes[_0x1646c6(0x8c3)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5365a0=_0x53e3b0;redoStrokes[_0x5365a0(0x4f1)]>0x0&&(strokes[_0x5365a0(0x8c3)](redoStrokes[_0x5365a0(0x725)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x1d282a=_0x53e3b0;document[_0x1d282a(0x2f6)](_0x1d282a(0x7a4))[_0x1d282a(0x6bc)]=strokes[_0x1d282a(0x4f1)]===0x0,document[_0x1d282a(0x2f6)]('redo-btn')[_0x1d282a(0x6bc)]=redoStrokes[_0x1d282a(0x4f1)]===0x0;}function openScratchpad(_0x759a70,_0x258855){const _0x2b0a60=_0x53e3b0,_0x47f99a=document['getElementById'](_0x2b0a60(0x6be)),_0x170581=document['getElementById'](_0x2b0a60(0x730)),_0x67129=document[_0x2b0a60(0x2f6)](_0x2b0a60(0x69b)),_0x565e9b=document[_0x2b0a60(0x2f6)](_0x2b0a60(0x5b0));_0x170581[_0x2b0a60(0x8c8)]=_0x759a70[_0x2b0a60(0x4ae)]||_0x759a70[_0x2b0a60(0x8bc)],_0x67129[_0x2b0a60(0x735)]=_0x258855['map']((_0x334ed1,_0x4a3f33)=>_0x2b0a60(0xa57)+String['fromCharCode'](0x41+_0x4a3f33)+'.\x20'+_0x334ed1+_0x2b0a60(0x245))[_0x2b0a60(0x728)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x47f99a[_0x2b0a60(0x97f)][_0x2b0a60(0x8b7)](_0x2b0a60(0x4ba)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x2b0a60(0x1d1)]([_0x170581,_0x67129]);}function initializeScratchpadCanvas(){const _0x469a7e=_0x53e3b0,_0xd53522=document[_0x469a7e(0x2f6)]('scratchpad-canvas'),_0x549466=document['querySelector'](_0x469a7e(0x9d2));if(!_0xd53522||!_0x549466)return;scratchpadCtx=_0xd53522['getContext']('2d',{'willReadFrequently':!![]});const _0x1546d9=window[_0x469a7e(0x5e7)]||0x1,_0x2cd305=_0x549466['getBoundingClientRect']();_0xd53522[_0x469a7e(0x652)]=_0x2cd305[_0x469a7e(0x652)]*_0x1546d9,_0xd53522[_0x469a7e(0x57e)]=_0x2cd305['height']*_0x1546d9,_0xd53522[_0x469a7e(0x7c1)]['width']=_0x2cd305['width']+'px',_0xd53522[_0x469a7e(0x7c1)]['height']=_0x2cd305[_0x469a7e(0x57e)]+'px',scratchpadCtx[_0x469a7e(0x986)](_0x1546d9,_0x1546d9),scratchpadCtx['lineJoin']=_0x469a7e(0x786),scratchpadCtx[_0x469a7e(0x839)]=_0x469a7e(0x786),_0xd53522['removeEventListener'](_0x469a7e(0x8c7),handlePointerDown),_0xd53522[_0x469a7e(0x8a2)](_0x469a7e(0x5b5),handlePointerMove),_0xd53522['removeEventListener'](_0x469a7e(0x18e),handlePointerUp),_0xd53522[_0x469a7e(0x8a2)](_0x469a7e(0x464),handlePointerUp),_0xd53522[_0x469a7e(0x8a2)]('wheel',handleWheel),_0xd53522[_0x469a7e(0x8a2)]('touchstart',handlePointerDown),_0xd53522[_0x469a7e(0x8a2)]('touchmove',handlePointerMove),_0xd53522[_0x469a7e(0x8a2)](_0x469a7e(0x45a),handlePointerUp),_0xd53522[_0x469a7e(0x7a9)]('pointerdown',handlePointerDown),_0xd53522[_0x469a7e(0x7a9)]('pointermove',handlePointerMove),_0xd53522['addEventListener'](_0x469a7e(0x18e),handlePointerUp),_0xd53522[_0x469a7e(0x7a9)](_0x469a7e(0x464),handlePointerUp),_0xd53522[_0x469a7e(0x7a9)](_0x469a7e(0x9f5),handleWheel,{'passive':![]}),_0xd53522[_0x469a7e(0x7a9)]('touchstart',handlePointerDown,{'passive':![]}),_0xd53522[_0x469a7e(0x7a9)](_0x469a7e(0x4ed),handlePointerMove,{'passive':![]}),_0xd53522['addEventListener']('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x140734=_0x53e3b0,_0x219842=document[_0x140734(0x2f6)]('scratchpad-modal'),_0x47a58e=document[_0x140734(0x2f6)](_0x140734(0x5b0));_0x47a58e[_0x140734(0x735)]=_0x140734(0x5f6)+scratchpadHighlighterSize+_0x140734(0x696);const _0x428abb=document[_0x140734(0x2f6)](_0x140734(0x39a)),_0x231618=document[_0x140734(0x2f6)](_0x140734(0x409)),_0x46b78f=document[_0x140734(0x2f6)](_0x140734(0x584)),_0x2e4f57=document[_0x140734(0x2f6)](_0x140734(0x94e)),_0x1112ab=document['getElementById']('pen-tools-group'),_0x1d2446=document[_0x140734(0x2f6)](_0x140734(0x210)),_0x27ab66=[_0x428abb,_0x231618,_0x46b78f,_0x2e4f57];document[_0x140734(0x2f6)](_0x140734(0x6a1))[_0x140734(0x7a9)](_0x140734(0x911),()=>_0x219842[_0x140734(0x97f)][_0x140734(0x218)](_0x140734(0x4ba))),document[_0x140734(0x2f6)]('reset-view-btn')[_0x140734(0x7a9)](_0x140734(0x911),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x140734(0x2f6)](_0x140734(0x7f9))['addEventListener'](_0x140734(0x911),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x140734(0x2f6)](_0x140734(0x7a4))[_0x140734(0x7a9)]('click',undo),document[_0x140734(0x2f6)]('redo-btn')[_0x140734(0x7a9)](_0x140734(0x911),redo);const _0x4ca89e=_0x1baf8b=>{const _0x56a242=_0x140734;_0x27ab66[_0x56a242(0x87f)](_0x495752=>_0x495752[_0x56a242(0x97f)]['remove'](_0x56a242(0x2a5))),_0x1baf8b['classList']['add'](_0x56a242(0x2a5));const _0x5a55e3=_0x1baf8b===_0x2e4f57;_0x1112ab[_0x56a242(0x97f)][_0x56a242(0x95b)](_0x56a242(0x4ba),_0x5a55e3),_0x1d2446['classList'][_0x56a242(0x95b)](_0x56a242(0x4ba),!_0x5a55e3);};_0x428abb[_0x140734(0x7a9)](_0x140734(0x911),()=>{const _0x3f454e=_0x140734;activeTool=_0x3f454e(0x431),_0x4ca89e(_0x428abb);}),_0x231618[_0x140734(0x7a9)](_0x140734(0x911),()=>{const _0x582198=_0x140734;activeTool=_0x582198(0x2d4),_0x4ca89e(_0x231618);}),_0x46b78f['addEventListener'](_0x140734(0x911),()=>{activeTool='trail',_0x4ca89e(_0x46b78f);}),_0x2e4f57[_0x140734(0x7a9)]('click',()=>{const _0x35db50=_0x140734;activeTool=_0x35db50(0x463),_0x4ca89e(_0x2e4f57);}),_0x1112ab[_0x140734(0xa09)]('.pen-size-btn')[_0x140734(0x87f)](_0x412dda=>{const _0xfc1fed=_0x140734;_0x412dda[_0xfc1fed(0x7a9)](_0xfc1fed(0x911),_0x5a85c9=>{const _0xfd9447=_0xfc1fed;scratchpadPenSize=parseInt(_0x5a85c9['target'][_0xfd9447(0x7c7)][_0xfd9447(0x1aa)],0xa),_0x1112ab['querySelectorAll'](_0xfd9447(0x85d))[_0xfd9447(0x87f)](_0x1c9f46=>_0x1c9f46[_0xfd9447(0x97f)][_0xfd9447(0x8b7)](_0xfd9447(0x2a5))),_0x5a85c9['target'][_0xfd9447(0x97f)][_0xfd9447(0x218)]('active');});}),_0x1112ab['querySelectorAll']('.pen-color-btn')[_0x140734(0x87f)](_0xb13b0b=>{const _0x17ca6e=_0x140734;_0xb13b0b[_0x17ca6e(0x7a9)](_0x17ca6e(0x911),_0x450545=>{const _0x59b011=_0x17ca6e;scratchpadPenColor=_0x450545[_0x59b011(0x4d5)][_0x59b011(0x7c7)][_0x59b011(0xa27)],_0x1112ab[_0x59b011(0xa09)](_0x59b011(0x93a))['forEach'](_0x373ffa=>_0x373ffa['classList'][_0x59b011(0x8b7)](_0x59b011(0x2a5))),_0x450545[_0x59b011(0x4d5)]['classList'][_0x59b011(0x218)](_0x59b011(0x2a5));});}),_0x1d2446[_0x140734(0xa09)](_0x140734(0x21f))[_0x140734(0x87f)](_0x9071a8=>{const _0x32d4e8=_0x140734;_0x9071a8[_0x32d4e8(0x7a9)](_0x32d4e8(0x911),_0x5e87f0=>{const _0x419a15=_0x32d4e8;scratchpadHighlighterColor=_0x5e87f0[_0x419a15(0x4d5)][_0x419a15(0x7c7)]['color'],_0x1d2446[_0x419a15(0xa09)](_0x419a15(0x21f))[_0x419a15(0x87f)](_0x50a2e5=>_0x50a2e5[_0x419a15(0x97f)][_0x419a15(0x8b7)]('active')),_0x5e87f0[_0x419a15(0x4d5)]['classList'][_0x419a15(0x218)](_0x419a15(0x2a5));});});const _0x40f25d=document[_0x140734(0x2f6)]('highlighter-size-slider'),_0x430a9f=document['getElementById'](_0x140734(0x4bb));_0x40f25d['addEventListener'](_0x140734(0x508),_0x5d32a7=>{const _0x3b1d65=_0x140734,_0x5f31a7=parseInt(_0x5d32a7[_0x3b1d65(0x4d5)][_0x3b1d65(0x6b0)],0xa);scratchpadHighlighterSize=_0x5f31a7,_0x430a9f[_0x3b1d65(0x8c8)]=_0x5f31a7;}),window[_0x140734(0x7a9)](_0x140734(0x13e),()=>{const _0x15eff0=_0x140734;!_0x219842['classList'][_0x15eff0(0x632)](_0x15eff0(0x4ba))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x53e3b0(0x62a),'name':_0x53e3b0(0x6b7),'description':_0x53e3b0(0x548),'icon':_0x53e3b0(0x5cb)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x53e3b0(0x183),'description':_0x53e3b0(0x6d2),'icon':_0x53e3b0(0x9fc)},'ON_FIRE':{'id':_0x53e3b0(0x254),'name':_0x53e3b0(0x526),'description':_0x53e3b0(0x9d7),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x53e3b0(0x7b4),'name':_0x53e3b0(0x8e9),'description':_0x53e3b0(0x8ab),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':'comeback_king','name':'ราชาคัมแบ็ก','description':_0x53e3b0(0x8c6),'icon':_0x53e3b0(0xa35)},'SPECIALIST':{'id':_0x53e3b0(0x396),'name':'ผู้เชี่ยวชาญ','description':_0x53e3b0(0x3e4),'icon':_0x53e3b0(0x813)},'PERSEVERANCE':{'id':_0x53e3b0(0x7fb),'name':_0x53e3b0(0x77b),'description':_0x53e3b0(0x2a7),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x53e3b0(0x5ed),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x53e3b0(0x148),'storageBucket':_0x53e3b0(0x5a7),'messagingSenderId':_0x53e3b0(0x9e7),'appId':_0x53e3b0(0xa1f),'measurementId':_0x53e3b0(0x620)},appId=typeof __app_id!==_0x53e3b0(0x982)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x8a8)),studentView=document['getElementById'](_0x53e3b0(0x7d2)),projectDashboardView=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x992)),projectDetailView=document['getElementById'](_0x53e3b0(0x18b)),quizResultsView=document['getElementById'](_0x53e3b0(0x755)),projectList=document['getElementById'](_0x53e3b0(0x701)),noProjectsMsg=document[_0x53e3b0(0x2f6)]('no-projects-msg'),projectTitle=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x6a5)),projectIdDisplay=document[_0x53e3b0(0x2f6)]('project-id-display'),studentList=document[_0x53e3b0(0x2f6)]('student-list'),messageModal=document['getElementById'](_0x53e3b0(0x1db)),modalMessage=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x673)),createProjectModal=document[_0x53e3b0(0x2f6)]('create-project-modal'),adminPasswordModal=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x648)),confirmationModal=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x242)),userIdDisplay=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x5a2)),topicTab=document['getElementById']('topic-tab'),textTab=document[_0x53e3b0(0x2f6)]('text-tab'),topicInputArea=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x43f)),textInputArea=document['getElementById']('text-input-area'),manageTab=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x249)),resultsTab=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x1c4)),leaderboardTab=document['getElementById'](_0x53e3b0(0x9d1)),manageTabContent=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x178)),resultsTabContent=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x5a1)),leaderboardTabContent=document[_0x53e3b0(0x2f6)]('leaderboard-tab-content'),projectQuizzesList=document[_0x53e3b0(0x2f6)]('project-quizzes-list'),fileTab=document[_0x53e3b0(0x2f6)]('file-tab'),fileInputArea=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x65a)),fileUploadInput=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x957)),worksheetTab=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x289)),worksheetInputArea=document[_0x53e3b0(0x2f6)]('worksheet-input-area'),generateWorksheetBtn=document['getElementById']('generate-worksheet-btn'),studentInitialView=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x738)),studentNameSelectionView=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x3d0)),studentQuizArea=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x26c)),studentResultArea=document[_0x53e3b0(0x2f6)]('student-result-area'),studentReadingArea=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x47b)),loadQuizBtn=document[_0x53e3b0(0x2f6)]('load-quiz-btn'),startQuizBtn=document['getElementById']('start-quiz-btn'),studentJoinGameView=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x73d)),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document['getElementById'](_0x53e3b0(0x7ff)),moveQuizModal=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x118)),quizSettingsModal=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x201)),quizStatusModal=document['getElementById'](_0x53e3b0(0x2a0)),liveGameView=document[_0x53e3b0(0x2f6)](_0x53e3b0(0x131));function handleAutoFixLatex(){const _0x23af52=_0x53e3b0,_0x4370fa=document['getElementById'](_0x23af52(0x392))||document,_0x243d08=_0x4370fa[_0x23af52(0xa09)]([_0x23af52(0x61a),_0x23af52(0x179),_0x23af52(0xa1c),'[role=\x22textbox\x22]',_0x23af52(0x6bf),_0x23af52(0x964),'.choice-text',_0x23af52(0x898),_0x23af52(0x770)]['join'](','));let _0x20aac2=0x0;const _0x372941=_0x400565=>'value'in _0x400565?String(_0x400565[_0x23af52(0x6b0)]):_0x400565[_0x23af52(0x930)]!==undefined?_0x400565['innerText']:_0x400565[_0x23af52(0x8c8)]||'',_0x3b0f0a=(_0x1acc75,_0x22f61c)=>{const _0x508350=_0x23af52;if('value'in _0x1acc75){_0x1acc75[_0x508350(0x6b0)]=_0x22f61c;return;}if(_0x1acc75[_0x508350(0x70d)]&&_0x1acc75[_0x508350(0x70d)](_0x508350(0x32f)))return;if(_0x1acc75['innerText']!==undefined)_0x1acc75[_0x508350(0x930)]=_0x22f61c;else _0x1acc75['textContent']=_0x22f61c;},_0x3cf290=_0x34a51a=>_0x34a51a[_0x23af52(0x15c)](/\u00A0/g,'\x20')[_0x23af52(0x15c)](/\u200B/g,'')[_0x23af52(0x15c)](/\r\n?/g,'\x0a'),_0x2cd62f=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0xca051c=_0x432daf=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x432daf),_0x4a2fc9=_0x45391b=>{const _0x40c158=_0x23af52,_0x43066a=(_0x45391b[_0x40c158(0x800)](/\{/g)||[])[_0x40c158(0x4f1)],_0x455650=(_0x45391b[_0x40c158(0x800)](/\}/g)||[])[_0x40c158(0x4f1)];if(_0x43066a>_0x455650)_0x45391b=_0x45391b+'}'[_0x40c158(0x586)](_0x43066a-_0x455650);return _0x45391b;},_0x33929f=_0x242580=>{const _0x2fac41=_0x23af52;let _0x22894f=_0x242580[_0x2fac41(0x48c)]();const _0x554dc9=[_0x2fac41(0x2d3),_0x2fac41(0x999),_0x2fac41(0x532),'sqrt','text',_0x2fac41(0x69e),_0x2fac41(0x459),_0x2fac41(0x61c),_0x2fac41(0x68c),_0x2fac41(0x727),'le','ge',_0x2fac41(0x6fd),'pm',_0x2fac41(0x5da),'sin',_0x2fac41(0x1dd),_0x2fac41(0x399),_0x2fac41(0x303),'ln',_0x2fac41(0x4f5),_0x2fac41(0xa47),'binom',_0x2fac41(0x2e0),_0x2fac41(0x486),'overline','underline','circ',_0x2fac41(0x44c)];_0x22894f=_0x22894f[_0x2fac41(0x15c)](new RegExp(_0x2fac41(0x56a)+_0x554dc9[_0x2fac41(0x728)]('|')+_0x2fac41(0x79d),'g'),'\x5c'),_0x554dc9[_0x2fac41(0x87f)](_0x69d41a=>{const _0x54b38b=_0x2fac41;_0x22894f=_0x22894f[_0x54b38b(0x15c)](new RegExp(_0x54b38b(0x564)+_0x69d41a+'\x5cb','g'),(_0x38681c,_0x23622e)=>_0x23622e+'\x5c'+_0x69d41a);});const _0x1ea82a=[[/×/g,_0x2fac41(0x571)],[/·/g,_0x2fac41(0x352)],[/÷/g,_0x2fac41(0x432)],[/≤/g,'\x5cle'],[/≥/g,'\x5cge'],[/≠/g,_0x2fac41(0x8cc)],[/±/g,_0x2fac41(0x45b)],[/∑/g,_0x2fac41(0x19a)],[/−/g,'-']];_0x1ea82a['forEach'](([_0x2d47aa,_0x582af8])=>{const _0xf80ba0=_0x2fac41;_0x22894f=_0x22894f[_0xf80ba0(0x15c)](_0x2d47aa,_0x582af8);}),_0x22894f=_0x22894f[_0x2fac41(0x15c)](/√\s*\(([^)]*)\)/g,_0x2fac41(0x25c)),_0x22894f=_0x22894f['replace'](/√\s*([A-Za-z0-9]+)/g,_0x2fac41(0x25c)),_0x22894f=_0x22894f['replace'](/(^|[^\\])\bimes\b/g,_0x2fac41(0x827))[_0x2fac41(0x15c)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x2fac41(0x15c)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x2fac41(0x15c)](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x2fac41(0x15c)](/\\text\(([^)]*)\)/g,_0x2fac41(0x95f))[_0x2fac41(0x15c)](/\s\\frac/g,_0x2fac41(0x4a7)),_0x22894f=_0x22894f[_0x2fac41(0x15c)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x5484cc,_0xeaf5c5,_0x21112f,_0x3e3ec5)=>_0xeaf5c5+_0x2fac41(0x863)+_0x21112f+'}{'+_0x3e3ec5+'}'),_0x22894f=_0x22894f['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x2fac41(0x6cd))['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x2fac41(0x6cd))[_0x2fac41(0x15c)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x2fac41(0x6cd)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x2fac41(0x928)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x2fac41(0x928)],[/(\d+)\s*°\s*C/g,_0x2fac41(0x928)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x2fac41(0x626)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x2fac41(0x928)]][_0x2fac41(0x87f)](([_0x4ddb05,_0x23d679])=>{const _0x575be4=_0x2fac41;_0x22894f=_0x22894f[_0x575be4(0x15c)](_0x4ddb05,_0x23d679);}),_0x22894f=_0x22894f['replace'](/(\d+)\s*%/g,_0x2fac41(0xa16)),_0x22894f=_0x22894f['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2fac41(0x462))[_0x2fac41(0x15c)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2fac41(0x615))[_0x2fac41(0x15c)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x2fac41(0x643),_0x2fac41(0x1dd),_0x2fac41(0x399),_0x2fac41(0x303),'ln'][_0x2fac41(0x87f)](_0x3502ba=>{const _0x4d9ba5=_0x2fac41;_0x22894f=_0x22894f['replace'](new RegExp(_0x4d9ba5(0x564)+_0x3502ba+'\x5cs*\x5c(','g'),(_0x1f6035,_0x48a2a3)=>_0x48a2a3+'\x5c'+_0x3502ba+'(');});const _0x293d92=(_0x22894f[_0x2fac41(0x800)](/\\left\b/g)||[])[_0x2fac41(0x4f1)],_0xc624de=(_0x22894f[_0x2fac41(0x800)](/\\right\b/g)||[])[_0x2fac41(0x4f1)];if(_0x293d92!==_0xc624de)_0x22894f=_0x22894f[_0x2fac41(0x15c)](/\\left\b/g,'')[_0x2fac41(0x15c)](/\\right\b/g,'');return _0x22894f=_0x4a2fc9(_0x22894f),_0x22894f;},_0x2fc1ee=_0x416aae=>{const _0x2b4e2f=_0x23af52;if(/\$|\\\(|\\\[/[_0x2b4e2f(0x6cb)](_0x416aae))return _0x416aae;if(!_0x2cd62f[_0x2b4e2f(0x6cb)](_0x416aae))return _0x416aae;const _0x285f32=_0x416aae['match'](/^\s*/)[0x0],_0x52960e=_0x416aae[_0x2b4e2f(0x800)](/\s*$/)[0x0],_0x3640c1=_0x416aae[_0x2b4e2f(0x48c)]();return _0x285f32+'$'+_0x33929f(_0x3640c1)+'$'+_0x52960e;},_0x41c014=_0x4aa98c=>_0x4aa98c[_0x23af52(0x29b)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x243d08[_0x23af52(0x87f)](_0x21df48=>{const _0xb4c563=_0x23af52;if(_0x21df48[_0xb4c563(0x70d)]&&_0x21df48[_0xb4c563(0x70d)](_0xb4c563(0x32f)))return;const _0x5ceb42=_0x372941(_0x21df48);let _0x2591a7=_0x3cf290(_0x5ceb42);_0x2591a7=_0x2591a7[_0xb4c563(0x15c)](/\$\$([\s\S]*?)\$\$/g,(_0x4e940c,_0x346e55)=>'$$'+_0x33929f(_0x346e55)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x3f5bef,_0x17475e)=>'$'+_0x33929f(_0x17475e)+'$')[_0xb4c563(0x15c)](/\\\(([\s\S]*?)\\\)/g,(_0x555079,_0x27a2c4)=>'\x5c('+_0x33929f(_0x27a2c4)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x1a7229,_0x41a19d)=>'\x5c['+_0x33929f(_0x41a19d)+'\x5c]');let _0xcde322=_0x2591a7,_0x42b8ee=0x0;const _0x56ada9=_0x4e4974=>_0x4e4974[_0xb4c563(0x15c)](/S([^S]{0,2000}?)S/g,(_0x265128,_0x68945e)=>_0x2cd62f[_0xb4c563(0x6cb)](_0x68945e)?'$'+_0x33929f(_0x68945e)+'$':_0x265128);while(_0x42b8ee++<0x14){const _0x292b5b=_0x56ada9(_0xcde322);if(_0x292b5b===_0xcde322)break;_0xcde322=_0x292b5b;}_0x2591a7=_0xcde322,_0x2591a7=_0x2591a7[_0xb4c563(0x29b)]('\x0a')[_0xb4c563(0x6e9)](_0x355b54=>{const _0x417710=_0xb4c563;if(!(/[,\u3001，;；]/[_0x417710(0x6cb)](_0x355b54)||/\s(?:และ|หรือ)\s/['test'](_0x355b54))||!_0x2cd62f[_0x417710(0x6cb)](_0x355b54))return _0x355b54;return _0x41c014(_0x355b54)[_0x417710(0x6e9)](_0x4619a6=>{const _0x17a67b=_0x417710;if(/^\s(?:และ|หรือ)\s$/[_0x17a67b(0x6cb)](_0x4619a6)||/^[,\u3001，;；]$/['test'](_0x4619a6))return _0x4619a6;return _0x2fc1ee(_0x4619a6);})[_0x417710(0x728)]('');})[_0xb4c563(0x728)]('\x0a'),_0x2591a7=_0x2591a7[_0xb4c563(0x29b)]('\x0a')[_0xb4c563(0x6e9)](_0xcbc9e1=>{const _0xdae0bf=_0xb4c563,_0x5d10bc=_0xcbc9e1[_0xdae0bf(0x48c)]();if(!_0x5d10bc)return _0xcbc9e1;const _0x4de65b=/\$|\\\(|\\\[/[_0xdae0bf(0x6cb)](_0x5d10bc),_0x1f4981=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0xdae0bf(0x6cb)](_0x5d10bc);if(_0x4de65b||!_0x1f4981||_0xca051c(_0x5d10bc))return _0xcbc9e1;return _0xcbc9e1[_0xdae0bf(0x15c)](_0x5d10bc,'$'+_0x33929f(_0x5d10bc)+'$');})[_0xb4c563(0x728)]('\x0a'),_0x2591a7=_0x2591a7[_0xb4c563(0x15c)](/(\d+)\s*°\s*C\b/g,(_0x58cb6,_0x45b0ba,_0x2703ec,_0x53341e)=>{const _0x507669=_0xb4c563,_0x2a1879=_0x53341e[_0x2703ec-0x1];if(_0x2a1879==='$'||_0x2a1879==='S'||_0x2a1879==='\x5c')return _0x58cb6;return'$'+_0x45b0ba+_0x507669(0x1c1);})[_0xb4c563(0x15c)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x2a340b,_0x51709a,_0x8aa077,_0x4e4424)=>{const _0x2b314e=_0xb4c563,_0x5d0062=_0x4e4424[_0x8aa077-0x1];if(_0x5d0062==='$'||_0x5d0062==='S'||_0x5d0062==='\x5c')return _0x2a340b;return'$'+_0x51709a+_0x2b314e(0x1c1);})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x1c79c0,_0xd9102e,_0x4707fe,_0x596936)=>{const _0x34e09f=_0xb4c563,_0x136fed=_0x596936[_0x4707fe-0x1];if(_0x136fed==='$'||_0x136fed==='S'||_0x136fed==='\x5c')return _0x1c79c0;return'$'+_0xd9102e+_0x34e09f(0x1c1);}),_0x2591a7=_0x2591a7['replace'](/\$\s*\$/g,'$$'),_0x2591a7!==_0x5ceb42&&(_0x3b0f0a(_0x21df48,_0x2591a7),_0x20aac2++);});if(_0x20aac2>0x0){showMessage(_0x23af52(0x589)+_0x20aac2+'\x20ช่อง');try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax['typesetPromise']();window[_0x23af52(0x353)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0x4370fa,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x44bdc9){}}else showMessage(_0x23af52(0x1de));}async function listenForCustomMathTopics(){const _0x4ba7be=_0x53e3b0,_0x3139c1=collection(db,_0x4ba7be(0x50e)+appId+_0x4ba7be(0x6a2));onSnapshot(_0x3139c1,_0x40ddbd=>{const _0x590f5e=_0x4ba7be;customMathTopics=_0x40ddbd['docs'][_0x590f5e(0x6e9)](_0x22cadf=>({'id':_0x22cadf['id'],..._0x22cadf[_0x590f5e(0x1b4)]()})),renderTopicCheckboxes();},_0x42d9eb=>{const _0x46df83=_0x4ba7be;console[_0x46df83(0x4e5)](_0x46df83(0x211),_0x42d9eb);});}function handleSelectAllTopics(){const _0x137661=_0x53e3b0,_0x380a9f=document['getElementById'](_0x137661(0xa0e)),_0x4b5f4f=_0x380a9f[_0x137661(0xa09)](_0x137661(0x7d0));_0x4b5f4f[_0x137661(0x87f)](_0x38a6e5=>{_0x38a6e5['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x30594a=_0x53e3b0,_0x5b87c8=document[_0x30594a(0x2f6)](_0x30594a(0xa0e)),_0x31c85a=_0x5b87c8[_0x30594a(0xa09)](_0x30594a(0x7d0));_0x31c85a[_0x30594a(0x87f)](_0x11f66f=>{const _0x5723f1=_0x30594a;_0x11f66f[_0x5723f1(0x3a8)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1762f8){const _0x34d73d=_0x53e3b0;if(!_0x1762f8)return;try{const _0x24bd4e=doc(db,_0x34d73d(0x50e)+appId+_0x34d73d(0x6a2),_0x1762f8);await deleteDoc(_0x24bd4e),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x4a930d){console[_0x34d73d(0x4e5)](_0x34d73d(0x90e),_0x4a930d),showMessage(_0x34d73d(0x7da));}}async function handleAddCustomMathTopic(){const _0x20fa1e=_0x53e3b0,_0x5ac565=document[_0x20fa1e(0x2f6)](_0x20fa1e(0x1c9)),_0x51dfd7=_0x5ac565[_0x20fa1e(0x6b0)][_0x20fa1e(0x48c)]();if(!_0x51dfd7){showMessage(_0x20fa1e(0xa26));return;}if(!userId){showMessage(_0x20fa1e(0x942));return;}try{const _0x45366b=collection(db,_0x20fa1e(0x50e)+appId+_0x20fa1e(0x6a2));await addDoc(_0x45366b,{'name':_0x51dfd7,'createdAt':serverTimestamp()}),_0x5ac565[_0x20fa1e(0x6b0)]='',showMessage(_0x20fa1e(0x5bd)+_0x51dfd7+'\x22\x20สำเร็จ');}catch(_0x4ec06e){console[_0x20fa1e(0x4e5)]('Error\x20adding\x20custom\x20topic:',_0x4ec06e),showMessage(_0x20fa1e(0x583));}}async function handleUpdateOldQuizzes(){const _0x444a47=_0x53e3b0;showConfirmation(_0x444a47(0x9b9),async()=>{const _0x10a6bd=_0x444a47,_0xcd56a=document[_0x10a6bd(0x2f6)](_0x10a6bd(0x49c)),_0x32f917=document['getElementById'](_0x10a6bd(0x903)),_0xdb9e2=_0x32f917[_0x10a6bd(0x8c8)];_0xcd56a[_0x10a6bd(0x97f)][_0x10a6bd(0x8b7)](_0x10a6bd(0x4ba)),_0x32f917['textContent']='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x1ea51c=collection(db,_0x10a6bd(0x50e)+appId+_0x10a6bd(0x7ee)),_0x40d643=await getDocs(_0x1ea51c);if(_0x40d643[_0x10a6bd(0x553)]){showMessage(_0x10a6bd(0x13b));return;}const _0x1ff1e6=writeBatch(db);let _0x2c07e1=0x0;_0x40d643[_0x10a6bd(0x87f)](_0x125998=>{const _0xd3a5be=_0x10a6bd,_0x145d23=_0x125998[_0xd3a5be(0x1b4)](),_0x5d7e0f=_0x125998['id'];if(_0x145d23[_0xd3a5be(0x7d4)]&&_0x145d23['questions']['length']>0x0&&!_0x145d23[_0xd3a5be(0x7d4)][0x0][_0xd3a5be(0x7af)]('id')){console[_0xd3a5be(0x303)](_0xd3a5be(0x99a)+_0x5d7e0f+'\x20('+_0x145d23[_0xd3a5be(0x6a6)]+')'),_0x2c07e1++;const _0x5bb43f=_0x145d23['questions'][_0xd3a5be(0x6e9)]((_0x390e55,_0x1f42cd)=>{const _0x454322=_0xd3a5be;return{..._0x390e55,'id':_0x390e55['id']||'q_'+Date[_0x454322(0x988)]()+'_'+_0x5d7e0f+'_'+_0x1f42cd};}),_0x3a717b=doc(db,_0xd3a5be(0x50e)+appId+_0xd3a5be(0x7ee),_0x5d7e0f);_0x1ff1e6[_0xd3a5be(0x5aa)](_0x3a717b,{'questions':_0x5bb43f});}}),_0x2c07e1>0x0?(_0x32f917['textContent']=_0x10a6bd(0x199)+_0x2c07e1+'\x20รายการ...',await _0x1ff1e6[_0x10a6bd(0xa46)](),showMessage(_0x10a6bd(0x95d)+_0x2c07e1+_0x10a6bd(0x3c0))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x57c631){console[_0x10a6bd(0x4e5)](_0x10a6bd(0x8e3),_0x57c631),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x57c631[_0x10a6bd(0x405)]);}finally{_0xcd56a['classList'][_0x10a6bd(0x218)]('hidden'),_0x32f917[_0x10a6bd(0x8c8)]=_0xdb9e2;}});}async function handleBulkUpdateQuizSettings(){const _0x4b7763=_0x53e3b0,_0x205d21={'shuffle':document[_0x4b7763(0x2f6)](_0x4b7763(0x6e1))[_0x4b7763(0x6b0)],'resultsDisplay':document[_0x4b7763(0x2f6)](_0x4b7763(0x855))[_0x4b7763(0x6b0)],'loopUntilPass':document['getElementById'](_0x4b7763(0x395))[_0x4b7763(0x3a8)],'isConfidenceScoringEnabled':document['getElementById'](_0x4b7763(0x4e7))[_0x4b7763(0x3a8)],'confidenceMode':document[_0x4b7763(0x2f6)](_0x4b7763(0x87b))[_0x4b7763(0x6b0)]};try{showMessage(_0x4b7763(0x4e9));const _0x36cf85=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes')),_0x5b700a=_0x36cf85['docs']['map'](_0x110a35=>({'id':_0x110a35['id'],'data':_0x110a35[_0x4b7763(0x1b4)]()})),_0x2b5a94=_0x5b700a['length'];showConfirmation(_0x4b7763(0x8f6)+_0x2b5a94+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x593007=_0x4b7763,_0x575efb=document[_0x593007(0x2f6)](_0x593007(0x5d4));_0x575efb[_0x593007(0x6bc)]=!![],_0x575efb['innerHTML']=_0x593007(0x444);try{const _0x57f0af=writeBatch(db);_0x5b700a[_0x593007(0x87f)](_0x389698=>{const _0x26c268=_0x593007,_0x2f4696=doc(db,_0x26c268(0x50e)+appId+_0x26c268(0x7ee),_0x389698['id']),_0x5871a7={..._0x389698['data'][_0x26c268(0x6d9)]||{},..._0x205d21};_0x57f0af['update'](_0x2f4696,{'settings':_0x5871a7});}),await _0x57f0af[_0x593007(0xa46)](),document[_0x593007(0x2f6)](_0x593007(0x5df))[_0x593007(0x97f)][_0x593007(0x218)](_0x593007(0x4ba)),showMessage(_0x593007(0x1be)+_0x2b5a94+_0x593007(0x874));}catch(_0x248297){console[_0x593007(0x4e5)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x248297),showMessage(_0x593007(0x753));}finally{_0x575efb[_0x593007(0x6bc)]=![],_0x575efb[_0x593007(0x735)]=_0x593007(0x4ad);}});}catch(_0x9e8489){console[_0x4b7763(0x4e5)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x9e8489),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x1ec963=_0x53e3b0,_0xd13394=document[_0x1ec963(0x2f6)](_0x1ec963(0x6a5)),_0x332310=document['getElementById'](_0x1ec963(0xa4f)),_0x236b18=_0xd13394[_0x1ec963(0x8c8)][_0x1ec963(0x48c)]();if(!_0x236b18||!currentProjectId){showMessage(_0x1ec963(0x59e)),_0xd13394['textContent']=currentProjectData['projectName'];return;}_0x332310['disabled']=!![],_0x332310[_0x1ec963(0x735)]=_0x1ec963(0x3a9);try{const _0x3f9e20=doc(db,_0x1ec963(0x50e)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x3f9e20,{'projectName':_0x236b18}),currentProjectData&&(currentProjectData[_0x1ec963(0x39f)]=_0x236b18),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x158894){console['error']('Error\x20updating\x20project\x20name:',_0x158894),showMessage(_0x1ec963(0x87a)),_0xd13394['textContent']=currentProjectData[_0x1ec963(0x39f)];}finally{_0x332310[_0x1ec963(0x97f)]['add'](_0x1ec963(0x4ba)),_0x332310[_0x1ec963(0x6bc)]=![],_0x332310[_0x1ec963(0x735)]=_0x1ec963(0x711);}}async function initialize(){const _0x496ac0=_0x53e3b0;try{const _0x4c14f5=initializeApp(firebaseConfig);db=getFirestore(_0x4c14f5),auth=getAuth(_0x4c14f5),setupAuthListener(),setupEventListeners(),showView(_0x496ac0(0x14d)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x80c1f3){console[_0x496ac0(0x4e5)](_0x496ac0(0x129),_0x80c1f3),showMessage(_0x496ac0(0x30a));}}async function handleVerifyAnswersInEditor(){const _0x723a37=_0x53e3b0,_0x19fc75=document[_0x723a37(0x2f6)](_0x723a37(0x1e1));if(!_0x19fc75)return;const _0xa9978b=document[_0x723a37(0x2f6)](_0x723a37(0x545));_0xa9978b[_0x723a37(0x6bc)]=!![],_0xa9978b[_0x723a37(0x735)]=_0x723a37(0x44e);try{const _0xebadb9=_0x19fc75['querySelectorAll']('.question-editor-item'),_0x21e518=Array[_0x723a37(0x535)](_0xebadb9)[_0x723a37(0x6e9)]((_0x436df3,_0x383350)=>{const _0x256943=_0x723a37,_0x1e6e52=_0x436df3[_0x256943(0x7c7)][_0x256943(0x4f6)],_0x5460d8=_0x436df3['querySelector'](_0x256943(0x61a))[_0x256943(0x6b0)];let _0x56e437=null,_0x1ea37a='';switch(_0x1e6e52){case _0x256943(0x7f3):const _0x186f23=_0x436df3[_0x256943(0xa09)]('input[type=\x22text\x22]');_0x56e437=Array[_0x256943(0x535)](_0x186f23)[_0x256943(0x6e9)](_0x3d95b4=>_0x3d95b4[_0x256943(0x6b0)]);const _0x10c060=_0x436df3[_0x256943(0x70d)](_0x256943(0x68d));_0x10c060&&(_0x1ea37a=_0x56e437[parseInt(_0x10c060[_0x256943(0x6b0)])]);break;case _0x256943(0x331):_0x1ea37a=_0x436df3['querySelector'](_0x256943(0x700))[_0x256943(0x6b0)];break;case _0x256943(0x529):const _0x3c21a4=_0x436df3[_0x256943(0x70d)](_0x256943(0x68d));_0x1ea37a=_0x3c21a4?_0x3c21a4[_0x256943(0x6b0)]:'';break;case'matching_item':_0x1ea37a=_0x436df3['querySelector'](_0x256943(0x773))[_0x256943(0x6b0)];break;}return{'question':_0x5460d8,'options':_0x56e437,'proposedAnswer':_0x1ea37a};}),_0x1cce68=_0x723a37(0x5fe)+JSON[_0x723a37(0x84c)](_0x21e518)+_0x723a37(0x812),_0x59f225={'type':_0x723a37(0xa25),'items':{'type':_0x723a37(0x446),'properties':{'questionIndex':{'type':_0x723a37(0x4cd)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x723a37(0x1ab)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex','isCorrect','justification']}},_0x3eec61=await callAnalysisApi(_0x1cce68,{'type':_0x723a37(0x446),'properties':{'result':_0x59f225},'required':[_0x723a37(0x408)]});displayVerificationResultsInEditor(_0x3eec61[_0x723a37(0x408)]);}catch(_0x413407){console[_0x723a37(0x4e5)](_0x723a37(0xa05),_0x413407),showMessage(_0x723a37(0x323));}finally{_0xa9978b[_0x723a37(0x6bc)]=![],_0xa9978b['innerHTML']=_0x723a37(0x67c);}}function displayVerificationResultsInEditor(_0x30b631){const _0x52eb2c=_0x53e3b0;_0x30b631[_0x52eb2c(0x87f)](_0x45ab22=>{const _0x161bb4=_0x52eb2c,_0xc8efc1=document[_0x161bb4(0x70d)]('.question-editor-item[data-q-index=\x22'+_0x45ab22['questionIndex']+'\x22]');if(!_0xc8efc1)return;const _0x34891a=_0xc8efc1['querySelector'](_0x161bb4(0x8fa));if(_0x34891a)_0x34891a[_0x161bb4(0x8b7)]();let _0xd36963='';if(_0x45ab22[_0x161bb4(0x294)])_0xd36963=_0x161bb4(0x5f0);else{const _0x2687ba=_0x45ab22[_0x161bb4(0x2fb)]?_0x161bb4(0x612):'';_0xd36963='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x2687ba+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x45ab22[_0x161bb4(0x443)]+_0x161bb4(0x98f)+(_0x45ab22[_0x161bb4(0x2fb)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x45ab22[_0x161bb4(0x2fb)]+'</p>':'')+_0x161bb4(0x9ea);}_0xc8efc1[_0x161bb4(0x288)](_0x161bb4(0x52e),_0xd36963);if(!_0x45ab22[_0x161bb4(0x294)]&&_0x45ab22[_0x161bb4(0x2fb)]){const _0x1afedc=_0xc8efc1[_0x161bb4(0x7c7)][_0x161bb4(0x4f6)],_0x278a67=_0x56161=>{const _0x31b395=_0x161bb4;if(!_0x56161)return;_0x56161[_0x31b395(0x97f)][_0x31b395(0x218)](_0x31b395(0x936),_0x31b395(0x3b7),_0x31b395(0x375)),setTimeout(()=>{const _0xb2c5e3=_0x31b395;_0x56161[_0xb2c5e3(0x97f)][_0xb2c5e3(0x8b7)](_0xb2c5e3(0x936));},0x9c4);};if(_0x1afedc==='multiple_choice'){const _0x5ecf7b=Array[_0x161bb4(0x535)](_0xc8efc1[_0x161bb4(0xa09)](_0x161bb4(0x179))),_0x182931=_0x5ecf7b[_0x161bb4(0x8b9)](_0x57084b=>_0x57084b[_0x161bb4(0x6b0)][_0x161bb4(0x48c)]()[_0x161bb4(0x6a7)]()===_0x45ab22[_0x161bb4(0x2fb)]['trim']()[_0x161bb4(0x6a7)]());if(_0x182931!==-0x1){const _0x5b64db=_0xc8efc1[_0x161bb4(0x70d)](_0x161bb4(0x521)+_0x182931+'\x22]');_0x5b64db&&(_0x5b64db['checked']=!![],_0x278a67(_0x5b64db[_0x161bb4(0x4e4)]('div')));}}else{if(_0x1afedc==='short_answer'||_0x1afedc===_0x161bb4(0x8f9)){const _0xc354ed=_0xc8efc1[_0x161bb4(0x70d)](_0x161bb4(0x5e0));_0xc354ed&&(_0xc354ed['value']=_0x45ab22[_0x161bb4(0x2fb)],_0x278a67(_0xc354ed));}else{if(_0x1afedc===_0x161bb4(0x529)){const _0x347415=_0x45ab22[_0x161bb4(0x2fb)][_0x161bb4(0x48c)]()[_0x161bb4(0x6a7)](),_0x45203a=_0xc8efc1['querySelector'](_0x161bb4(0x521)+_0x347415+'\x22]');_0x45203a&&(_0x45203a[_0x161bb4(0x3a8)]=!![],_0x278a67(_0x45203a[_0x161bb4(0x4e4)](_0x161bb4(0x61c))));}}}}}),showMessage(_0x52eb2c(0x50b));}async function handleVerifyAnswers(){const _0x1ec2c1=_0x53e3b0;if(!currentQuizData||!currentQuizData[_0x1ec2c1(0x7d4)]){showMessage(_0x1ec2c1(0x81d));return;}const _0x5796d=document[_0x1ec2c1(0x2f6)](_0x1ec2c1(0x253));_0x5796d[_0x1ec2c1(0x6bc)]=!![],_0x5796d[_0x1ec2c1(0x735)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0xe6d770=currentQuizData['questions'][_0x1ec2c1(0x6e9)]((_0x36723c,_0x592f55)=>{const _0x10702a=_0x1ec2c1;let _0x49dc43='';const _0x512c75=_0x36723c[_0x10702a(0x281)]||currentQuizData[_0x10702a(0x509)];switch(_0x512c75){case _0x10702a(0x7f3):_0x49dc43=_0x36723c['options'][_0x36723c[_0x10702a(0x94a)]];break;case _0x10702a(0x331):_0x49dc43=_0x36723c[_0x10702a(0x4b4)];break;case _0x10702a(0x529):_0x49dc43=_0x36723c[_0x10702a(0x9fe)][_0x10702a(0x2d8)]();break;case _0x10702a(0x8f9):_0x49dc43=_0x36723c[_0x10702a(0x209)];break;}return{'question':_0x36723c[_0x10702a(0x4ae)]||_0x36723c[_0x10702a(0x8bc)],'options':_0x36723c['options']||null,'proposedAnswer':_0x49dc43};}),_0x5d3d29=_0x1ec2c1(0x737)+JSON[_0x1ec2c1(0x84c)](_0xe6d770)+_0x1ec2c1(0x627),_0x2cb14e={'type':'ARRAY','items':{'type':_0x1ec2c1(0x446),'properties':{'questionIndex':{'type':_0x1ec2c1(0x4cd)},'isCorrect':{'type':_0x1ec2c1(0xa1a)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x1ec2c1(0x1ab)}},'required':['questionIndex',_0x1ec2c1(0x294),_0x1ec2c1(0x443)]}},_0x3de8b2=await callAnalysisApi(_0x5d3d29,{'type':_0x1ec2c1(0x446),'properties':{'result':_0x2cb14e},'required':['result']});displayVerificationResults(_0x3de8b2[_0x1ec2c1(0x408)]);}catch(_0x3b7a82){console[_0x1ec2c1(0x4e5)](_0x1ec2c1(0x844),_0x3b7a82),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x5796d[_0x1ec2c1(0x6bc)]=![],_0x5796d[_0x1ec2c1(0x735)]=_0x1ec2c1(0x6a3);}}function displayVerificationResults(_0xa705be){const _0x33795b=_0x53e3b0;_0xa705be[_0x33795b(0x87f)](_0x141d2a=>{const _0x1044bd=_0x33795b,_0x41399c=document[_0x1044bd(0x70d)](_0x1044bd(0x2fa)+_0x141d2a[_0x1044bd(0x19d)]+'\x22]');if(_0x41399c){const _0x41c52c=_0x41399c[_0x1044bd(0x70d)]('.verification-result');if(_0x41c52c)_0x41c52c[_0x1044bd(0x8b7)]();let _0x4b80b8='';_0x141d2a[_0x1044bd(0x294)]?_0x4b80b8=_0x1044bd(0x56f):_0x4b80b8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x141d2a[_0x1044bd(0x443)]+_0x1044bd(0x537)+(_0x141d2a[_0x1044bd(0x2fb)]?_0x1044bd(0x2c5)+_0x141d2a[_0x1044bd(0x2fb)]+_0x1044bd(0x853):'')+_0x1044bd(0x558),_0x41399c[_0x1044bd(0x288)]('beforeend',_0x4b80b8);}}),showMessage(_0x33795b(0x50b));}function compareNumericalAnswers(_0x3bff9a,_0x239ff7){const _0x59034a=_0x53e3b0,_0x201b30=String(_0x3bff9a)['replace'](',','.')[_0x59034a(0x15c)](/[^\d.-]/g,'')[_0x59034a(0x48c)](),_0x3d93e0=String(_0x239ff7)['replace'](',','.')[_0x59034a(0x15c)](/[^\d.-]/g,'')['trim']();if(_0x201b30===''||_0x3d93e0==='')return![];const _0x112de5=parseFloat(_0x201b30),_0x3adbff=parseFloat(_0x3d93e0);if(isNaN(_0x112de5)||isNaN(_0x3adbff))return![];return Math['abs'](_0x112de5-_0x3adbff)<0.001;}function isPotentiallyNumeric(_0x2f48b1){const _0x246ec0=_0x53e3b0;if(typeof _0x2f48b1!==_0x246ec0(0x1a5)&&typeof _0x2f48b1!=='number')return![];const _0x4fa33d=String(_0x2f48b1)[_0x246ec0(0x15c)](',','.')[_0x246ec0(0x48c)]();return _0x4fa33d!==''&&!isNaN(parseFloat(_0x4fa33d))&&isFinite(_0x4fa33d);}async function gradeShortAnswer(_0x5ca1b7,_0x360bce){const _0x424289=_0x53e3b0,_0xec69cd=_0x360bce['idealAnswer'],_0x33431f=String(_0x5ca1b7)['replace'](/\$/g,'')[_0x424289(0x48c)](),_0x31f524=String(_0xec69cd)[_0x424289(0x15c)](/\$/g,'')[_0x424289(0x48c)]();if(_0x33431f['toLowerCase']()===_0x31f524['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x33431f)&&isPotentiallyNumeric(_0x31f524)){if(compareNumericalAnswers(_0x33431f,_0x31f524))return!![];}return console['log'](_0x424289(0x26d)),await gradeShortAnswerWithAI(_0x5ca1b7,_0xec69cd);}async function revealAnswerForAdmin(_0x12b023,_0x294ae5){const _0x535cf8=_0x53e3b0,_0x5c8929=doc(db,_0x535cf8(0x50e)+appId+_0x535cf8(0x2fe),currentLiveGameId);await updateDoc(_0x5c8929,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x3a0aeb){const _0x1c69a6=_0x53e3b0,_0x568856=Object[_0x1c69a6(0x74d)](_0x3a0aeb[_0x1c69a6(0x46d)]||{})[_0x1c69a6(0x845)](_0x4c7888=>_0x4c7888['status']===_0x1c69a6(0x2a5));_0x568856['sort']((_0x411ba1,_0x8bafc1)=>_0x8bafc1[_0x1c69a6(0x19e)]-_0x411ba1['score']);const _0x11fed7=_0x568856[_0x1c69a6(0x54e)](0x0,0x5),_0x56351c=_0x1c69a6(0x423)+_0x11fed7[_0x1c69a6(0x6e9)]((_0x37e85d,_0x4a87cd)=>_0x1c69a6(0x7d9)+(_0x4a87cd+0x1)+'.\x20'+(_0x37e85d[_0x1c69a6(0x682)]||Object['keys'](_0x3a0aeb[_0x1c69a6(0x46d)])[_0x1c69a6(0x8dc)](_0x4bf315=>_0x3a0aeb[_0x1c69a6(0x46d)][_0x4bf315]===_0x37e85d))+_0x1c69a6(0x8ee)+_0x37e85d['score']+_0x1c69a6(0x2ba))[_0x1c69a6(0x728)]('')+_0x1c69a6(0x743)+(_0x3a0aeb['currentQuestionIndex']+0x1===currentQuizData[_0x1c69a6(0x7d4)][_0x1c69a6(0x4f1)]?_0x1c69a6(0x66f):_0x1c69a6(0x19b))+_0x1c69a6(0x94d);liveGameView['innerHTML']=_0x56351c,document['getElementById'](_0x1c69a6(0x7a3))['addEventListener'](_0x1c69a6(0x911),async()=>{const _0x11a0af=_0x1c69a6,_0x4f2f51=doc(db,_0x11a0af(0x50e)+appId+_0x11a0af(0x2fe),currentLiveGameId),_0x1ce5f8=_0x3a0aeb[_0x11a0af(0x691)]+0x1;if(_0x1ce5f8<currentQuizData['questions']['length']){const _0x220e7f={'currentQuestionIndex':_0x1ce5f8,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x11a0af(0x4e6)](_0x3a0aeb[_0x11a0af(0x46d)])['forEach'](_0x41f953=>{const _0x5ad231=_0x11a0af;_0x220e7f[_0x5ad231(0x11b)+_0x41f953+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x4f2f51,_0x220e7f);}else await updateDoc(_0x4f2f51,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x3d3d5d=>{const _0x5a1b2f=_0x26e1;if(_0x3d3d5d){userId=_0x3d3d5d[_0x5a1b2f(0x26b)],userIdDisplay['textContent']=userId;const _0x681057=await loadUserPreferences();_0x681057[_0x5a1b2f(0x747)]&&(document[_0x5a1b2f(0x2f6)]('project-sort-select')[_0x5a1b2f(0x6b0)]=_0x681057[_0x5a1b2f(0x747)]);globalDashboardSettings[_0x5a1b2f(0x74c)]=_0x681057[_0x5a1b2f(0x74c)]||_0x5a1b2f(0x778);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x4b2be7,_0x5cc75b){const _0x21aef6=_0x53e3b0;if(!userId)return;try{const _0x3451be=doc(db,_0x21aef6(0x50e)+appId+'/users/'+userId+_0x21aef6(0x386)),_0x382cc9={};_0x382cc9[_0x4b2be7]=_0x5cc75b,await setDoc(_0x3451be,_0x382cc9,{'merge':!![]});}catch(_0x164085){console[_0x21aef6(0x4e5)](_0x21aef6(0x2df),_0x164085);}}async function loadUserPreferences(){const _0x311f03=_0x53e3b0;if(!userId)return{};try{const _0x4c56b2=doc(db,'artifacts/'+appId+_0x311f03(0xa50)+userId+_0x311f03(0x386)),_0x1bfe52=await getDoc(_0x4c56b2);if(_0x1bfe52[_0x311f03(0x4bc)]())return _0x1bfe52['data']();return{};}catch(_0x2449c7){return console['error'](_0x311f03(0x200),_0x2449c7),{};}}function showPodiumView(_0x344359,_0xea50e4=_0x53e3b0(0x75e)){const _0x18fa3f=_0x53e3b0,_0x4ba0bd=Object[_0x18fa3f(0x577)](_0x344359)[_0x18fa3f(0x6e9)](([_0x10946f,_0x4189a2])=>({'name':_0x10946f,'score':_0x4189a2[_0x18fa3f(0x19e)]||0x0,'badges':_0x4189a2[_0x18fa3f(0x5ee)]||[],'hasPerfectScoreBonus':_0x4189a2['hasPerfectScoreBonus']||![]}));_0x4ba0bd['sort']((_0x307d36,_0x54d2cb)=>{const _0xecb953=_0x18fa3f,_0x59f912=_0x54d2cb['score']-_0x307d36['score'];if(_0x59f912!==0x0)return _0x59f912;return(_0x54d2cb[_0xecb953(0x5ee)][_0xecb953(0x4f1)]||0x0)-(_0x307d36['badges'][_0xecb953(0x4f1)]||0x0);});const _0x43d380=_0x4f95ed=>{const _0x50065a=_0x18fa3f;if(!_0x4f95ed||_0x4f95ed['length']===0x0)return'';const _0x2c2ec4={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x50065a(0x1b3)+_0x4f95ed[_0x50065a(0x6e9)](_0x476126=>_0x2c2ec4[_0x476126]||'')['join']('')+_0x50065a(0x245);},_0x2dbe44=_0x4ba0bd[_0x18fa3f(0x54e)](0x3),_0x5a856b=_0x2dbe44[_0x18fa3f(0x4f1)]>0x0?_0x18fa3f(0x147)+_0x2dbe44[_0x18fa3f(0x6e9)]((_0x123789,_0x44351d)=>{const _0x31edea=_0x18fa3f,_0x3006da=_0x123789['hasPerfectScoreBonus']?_0x31edea(0x8e7):'';return _0x31edea(0xa12)+(_0x44351d+0x4)+_0x31edea(0x190)+_0x123789[_0x31edea(0x682)]+_0x31edea(0x718)+_0x123789[_0x31edea(0x19e)]+_0x31edea(0x3b5)+_0x3006da+_0x31edea(0x7b1);})[_0x18fa3f(0x728)]('')+_0x18fa3f(0x90f):'',_0x344b27=_0x18fa3f(0x66e)+(_0x4ba0bd[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x4ba0bd[0x1][_0x18fa3f(0x682)]+_0x18fa3f(0x853)+_0x43d380(_0x4ba0bd[0x1][_0x18fa3f(0x5ee)])+'<p\x20class=\x22text-xl\x22>'+_0x4ba0bd[0x1][_0x18fa3f(0x19e)]+_0x18fa3f(0x3b5)+(_0x4ba0bd[0x1][_0x18fa3f(0x72e)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x18fa3f(0x71d):_0x18fa3f(0x60d))+_0x18fa3f(0x6d3)+(_0x4ba0bd[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x4ba0bd[0x0][_0x18fa3f(0x682)]+_0x18fa3f(0x853)+_0x43d380(_0x4ba0bd[0x0][_0x18fa3f(0x5ee)])+_0x18fa3f(0x1b5)+_0x4ba0bd[0x0][_0x18fa3f(0x19e)]+'\x20คะแนน\x20'+(_0x4ba0bd[0x0][_0x18fa3f(0x72e)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x18fa3f(0xa07):_0x18fa3f(0x60d))+_0x18fa3f(0x6d3)+(_0x4ba0bd[0x2]?_0x18fa3f(0x3e2)+_0x4ba0bd[0x2][_0x18fa3f(0x682)]+_0x18fa3f(0x853)+_0x43d380(_0x4ba0bd[0x2]['badges'])+_0x18fa3f(0x35d)+_0x4ba0bd[0x2][_0x18fa3f(0x19e)]+_0x18fa3f(0x3b5)+(_0x4ba0bd[0x2][_0x18fa3f(0x72e)]?_0x18fa3f(0x9af):'')+_0x18fa3f(0x543):_0x18fa3f(0x60d))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a856b+_0x18fa3f(0x20a)+(currentMode===_0x18fa3f(0x4c1)?_0x18fa3f(0x1c6):_0x18fa3f(0x345))+_0x18fa3f(0x9ed);liveGameView[_0x18fa3f(0x735)]=_0x344b27,currentMode===_0x18fa3f(0x4c1)&&document[_0x18fa3f(0x2f6)](_0x18fa3f(0x343))[_0x18fa3f(0x7a9)](_0x18fa3f(0x911),async()=>{const _0x44dbbe=_0x18fa3f;let _0x1c00dd;_0xea50e4==='sync'?_0x1c00dd=doc(db,_0x44dbbe(0x50e)+appId+_0x44dbbe(0x551),currentLiveGameId):_0x1c00dd=doc(db,_0x44dbbe(0x50e)+appId+_0x44dbbe(0x2fe),currentLiveGameId),await deleteDoc(_0x1c00dd);});}function renderSyncSummaryView(_0x3e92dd,_0x3f52ca,_0x5c6d78){const _0x3dfe73=_0x53e3b0,_0x16b1dc=Object[_0x3dfe73(0x74d)](_0x3e92dd['players']||{}),_0x41821c=_0x3f52ca[_0x3dfe73(0x281)]||_0x3e92dd[_0x3dfe73(0x8f4)][_0x3dfe73(0x509)];let _0x5611ce=[];_0x41821c==='true_false'?_0x5611ce=['ใช่\x20/\x20ถูก',_0x3dfe73(0x416)]:_0x5611ce=_0x3f52ca[_0x3dfe73(0x9b6)]||[];const _0x515147=new Array(_0x5611ce[_0x3dfe73(0x4f1)])[_0x3dfe73(0x7ab)](0x0),_0x705403={};_0x5611ce[_0x3dfe73(0x87f)]((_0x3bdb26,_0x2d3ff7)=>{_0x705403[_0x2d3ff7]=[];}),Object[_0x3dfe73(0x577)](_0x3e92dd[_0x3dfe73(0x46d)]||{})['forEach'](([_0x580f38,_0x53b27a])=>{const _0x516624=_0x3dfe73;if(_0x53b27a[_0x516624(0x25f)]!==_0x516624(0x1f0)&&_0x53b27a[_0x516624(0x388)]!==undefined&&_0x53b27a['lastAnswerIndex']!==null){const _0x2b06c9=_0x53b27a[_0x516624(0x388)];_0x705403[_0x2b06c9]!==undefined&&(_0x705403[_0x2b06c9][_0x516624(0x8c3)](_0x580f38),_0x515147[_0x2b06c9]++);}});let _0x54ef47='';_0x5c6d78?_0x54ef47=_0x3dfe73(0x642):_0x54ef47=_0x3dfe73(0x9a0);const _0x307444='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x3f52ca[_0x3dfe73(0x8bc)]+_0x3dfe73(0x66b)+_0x515147[_0x3dfe73(0x6e9)]((_0x46e5b2,_0x311978)=>{const _0x31df40=_0x3dfe73,_0x9d8ae2=_0x705403[_0x311978][_0x31df40(0x4f1)]>0x0?_0x705403[_0x311978]['join'](',\x20'):_0x31df40(0x4b6),_0x169729=_0x31df40(0x684);return _0x31df40(0x30c)+_0x46e5b2+_0x31df40(0x64f)+_0x169729+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x311978+_0x31df40(0x8b2)+_0x5611ce[_0x311978]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x311978+_0x31df40(0x859)+_0x9d8ae2+_0x31df40(0x71e);})[_0x3dfe73(0x728)]('')+_0x3dfe73(0x82e)+_0x54ef47+_0x3dfe73(0x374);liveGameView[_0x3dfe73(0x735)]=_0x307444;if(window[_0x3dfe73(0x4b0)])MathJax[_0x3dfe73(0x1d1)]();_0x5c6d78&&(document[_0x3dfe73(0x2f6)]('show-results-btn')['addEventListener'](_0x3dfe73(0x911),async()=>{const _0x43f086=_0x3dfe73,_0x2f5b28=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x2f5b28,{'status':_0x43f086(0x6ae)});}),document[_0x3dfe73(0x2f6)]('open-sync-scratchpad-btn')[_0x3dfe73(0x252)]=()=>{openScratchpad(_0x3f52ca,_0x5611ce);});}async function handleShowStudentRankings(){const _0x27c23f=_0x53e3b0,_0x504ee1=document['querySelector'](_0x27c23f(0x5b6));_0x504ee1&&(_0x504ee1['innerHTML']=_0x27c23f(0x35f));const _0x411382=document[_0x27c23f(0x70d)](_0x27c23f(0x680));_0x411382&&(_0x411382[_0x27c23f(0x735)]=_0x27c23f(0x3d3));const _0x9c4be0=document[_0x27c23f(0x2f6)]('student-rankings-modal');_0x9c4be0[_0x27c23f(0x97f)]['remove'](_0x27c23f(0x4ba)),document[_0x27c23f(0x2f6)](_0x27c23f(0x238))[_0x27c23f(0x252)]=()=>_0x9c4be0[_0x27c23f(0x97f)]['add'](_0x27c23f(0x4ba));const _0x4d20e1=document[_0x27c23f(0x2f6)]('student-quiz-leaderboard-tab'),_0x4a987e=document[_0x27c23f(0x2f6)](_0x27c23f(0x825)),_0x36a1f8=document[_0x27c23f(0x2f6)](_0x27c23f(0x89a)),_0x21af05=document[_0x27c23f(0x2f6)](_0x27c23f(0x487));_0x4d20e1[_0x27c23f(0x252)]=()=>{const _0x283a1b=_0x27c23f;_0x4d20e1['classList'][_0x283a1b(0x218)](_0x283a1b(0x2a5)),_0x4a987e['classList'][_0x283a1b(0x8b7)](_0x283a1b(0x2a5)),_0x36a1f8['classList'][_0x283a1b(0x8b7)](_0x283a1b(0x4ba)),_0x21af05[_0x283a1b(0x97f)][_0x283a1b(0x218)](_0x283a1b(0x4ba));},_0x4a987e[_0x27c23f(0x252)]=()=>{const _0x2eb227=_0x27c23f;_0x4a987e[_0x2eb227(0x97f)][_0x2eb227(0x218)]('active'),_0x4d20e1[_0x2eb227(0x97f)][_0x2eb227(0x8b7)](_0x2eb227(0x2a5)),_0x21af05[_0x2eb227(0x97f)]['remove']('hidden'),_0x36a1f8[_0x2eb227(0x97f)][_0x2eb227(0x218)](_0x2eb227(0x4ba));};try{const _0x738d6b=collection(db,_0x27c23f(0x50e)+appId+_0x27c23f(0x150)+currentQuizData['id']+'/submissions'),_0x55d9f0=await getDocs(_0x738d6b),_0x1f6672=_0x55d9f0[_0x27c23f(0x51f)]['map'](_0x406c0c=>_0x406c0c[_0x27c23f(0x1b4)]());renderQuizLeaderboard(_0x1f6672,currentQuizData,'student-quiz-leaderboard-table-body');const _0x2ef076=collection(db,'artifacts/'+appId+_0x27c23f(0x961)+currentQuizData[_0x27c23f(0x63c)]+_0x27c23f(0x2de)),_0x264a24=await getDocs(_0x2ef076),_0x420ac8=_0x264a24[_0x27c23f(0x51f)][_0x27c23f(0x6e9)](_0x288b65=>_0x288b65[_0x27c23f(0x1b4)]());renderLeaderboard(_0x420ac8,_0x27c23f(0x2f8));}catch(_0x3565a8){console[_0x27c23f(0x4e5)](_0x27c23f(0x4d9),_0x3565a8),showMessage(_0x27c23f(0x59c));}}async function handleSaveToBank(_0x5c195e){const _0x4c91fc=_0x53e3b0,_0xb86146=_0x5c195e[_0x4c91fc(0x439)],_0x55bd91=_0xb86146[_0x4c91fc(0x7c7)][_0x4c91fc(0x492)],_0x5aaf98=currentQuizData[_0x4c91fc(0x7d4)][_0x55bd91];if(!userId){showMessage(_0x4c91fc(0x25a));return;}try{const _0x75d68e={..._0x5aaf98,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x4f6810=collection(db,_0x4c91fc(0x50e)+appId+'/users/'+userId+_0x4c91fc(0x956));await addDoc(_0x4f6810,_0x75d68e),showMessage(_0x4c91fc(0x7d7)),_0xb86146[_0x4c91fc(0x97f)]['remove'](_0x4c91fc(0x70a)),_0xb86146[_0x4c91fc(0x97f)][_0x4c91fc(0x218)](_0x4c91fc(0x34f)),_0xb86146[_0x4c91fc(0x6bc)]=!![];}catch(_0x2eb4d5){console['error'](_0x4c91fc(0x361),_0x2eb4d5),showMessage(_0x4c91fc(0x87a));}}function listenForStarredQuizzes(){const _0x21a9ad=_0x53e3b0;if(!userId)return;const _0x2f84fd=collection(db,_0x21a9ad(0x50e)+appId+_0x21a9ad(0x7ee)),_0x4ece00=query(_0x2f84fd,where(_0x21a9ad(0x387),'==',!![]));onSnapshot(_0x4ece00,_0x31612e=>{const _0x2308b0=_0x21a9ad;starredQuizzes=_0x31612e[_0x2308b0(0x51f)]['map'](_0x4a2a5f=>({'id':_0x4a2a5f['id'],..._0x4a2a5f['data']()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x279794=>{const _0x23499e=_0x21a9ad;console[_0x23499e(0x4e5)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x279794);});}function exportQuizAsWorksheetPDF(){const _0x1f6ff4=_0x53e3b0;if(!currentQuizData||!currentQuizData[_0x1f6ff4(0x7d4)]){showMessage(_0x1f6ff4(0x721));return;}const _0x43fd11=currentQuizData,_0xfa527=window[_0x1f6ff4(0x8d5)]('',_0x1f6ff4(0xa56)),_0x5b14af=_0x13db9b=>String[_0x1f6ff4(0x2b3)](0x41+_0x13db9b),_0x1a74d2=_0x1f6ff4(0x5c2)+_0x43fd11[_0x1f6ff4(0x6a6)]+_0x1f6ff4(0x475)+_0x43fd11[_0x1f6ff4(0x6a6)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43fd11[_0x1f6ff4(0x7d4)][_0x1f6ff4(0x6e9)]((_0x52ec83,_0x25e182)=>{const _0x57fdf7=_0x1f6ff4;let _0xa90ba5='';const _0x82b3d6=_0x52ec83[_0x57fdf7(0x281)]||_0x43fd11[_0x57fdf7(0x509)];switch(_0x82b3d6){case _0x57fdf7(0x7f3):case'fill_in_with_choices':_0xa90ba5=_0x57fdf7(0x18c)+_0x52ec83['options']['map']((_0xf9f4ec,_0x53176e)=>_0x57fdf7(0x321)+_0x5b14af(_0x53176e)+'.\x20'+_0xf9f4ec+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x57fdf7(0x728)](_0x57fdf7(0x3da))+_0x57fdf7(0x245);break;case _0x57fdf7(0x529):_0xa90ba5=_0x57fdf7(0x919);break;default:_0xa90ba5=_0x57fdf7(0x793);break;}return _0x57fdf7(0x13c)+(_0x25e182+0x1)+_0x57fdf7(0x255)+(_0x52ec83[_0x57fdf7(0x4ae)]||_0x52ec83[_0x57fdf7(0x8bc)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x52ec83[_0x57fdf7(0x170)]?_0x57fdf7(0x149)+_0x52ec83['imageCode']+_0x57fdf7(0x245):'')+_0x57fdf7(0x630)+_0xa90ba5+_0x57fdf7(0x6b8);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0xfa527[_0x1f6ff4(0x881)][_0x1f6ff4(0xa0d)](_0x1a74d2),_0xfa527['document'][_0x1f6ff4(0x1f4)](),_0xfa527[_0x1f6ff4(0x94f)]=function(){setTimeout(()=>{_0xfa527['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1ede29=_0x53e3b0;if(!currentQuizData||!currentQuizData[_0x1ede29(0x7d4)]){showMessage(_0x1ede29(0x721));return;}const _0x5bad6b=currentQuizData,_0x51f9e=window['open']('',_0x1ede29(0xa56)),_0xd19cfd=_0x350587=>String[_0x1ede29(0x2b3)](0x41+_0x350587),_0x12fe1b=_0x1ede29(0x7e6)+_0x5bad6b[_0x1ede29(0x6a6)]+_0x1ede29(0x23d)+_0x5bad6b[_0x1ede29(0x7d4)][_0x1ede29(0x6e9)]((_0x316a50,_0x21d3c8)=>{const _0x3fbc09=_0x1ede29;let _0x2b1aeb='';const _0x9546aa=_0x316a50[_0x3fbc09(0x281)]||_0x5bad6b['quizType'];switch(_0x9546aa){case'multiple_choice':case _0x3fbc09(0x893):_0x2b1aeb=_0x3fbc09(0x657)+_0x316a50[_0x3fbc09(0x9b6)][_0x3fbc09(0x6e9)]((_0x4b1655,_0x99a51c)=>_0x3fbc09(0x40c)+_0xd19cfd(_0x99a51c)+'.\x20'+_0x4b1655+_0x3fbc09(0x75a))['join'](_0x3fbc09(0x3da))+_0x3fbc09(0x9ea);break;case _0x3fbc09(0x529):_0x2b1aeb=_0x3fbc09(0x9a4);break;default:_0x2b1aeb='';break;}return _0x3fbc09(0x291)+_0x5bad6b[_0x3fbc09(0x6a6)]+_0x3fbc09(0x921)+(_0x21d3c8+0x1)+_0x3fbc09(0x32d)+(_0x316a50[_0x3fbc09(0x4ae)]||_0x316a50[_0x3fbc09(0x8bc)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x316a50[_0x3fbc09(0x170)]?_0x3fbc09(0x746)+_0x316a50[_0x3fbc09(0x170)]+_0x3fbc09(0x245):'')+_0x3fbc09(0x630)+_0x2b1aeb+_0x3fbc09(0x28b);})[_0x1ede29(0x728)]('')+_0x1ede29(0x31b);_0x51f9e[_0x1ede29(0x881)][_0x1ede29(0xa0d)](_0x12fe1b),_0x51f9e[_0x1ede29(0x881)][_0x1ede29(0x1f4)](),_0x51f9e[_0x1ede29(0x94f)]=function(){setTimeout(()=>{const _0x2ab5a9=_0x26e1;_0x51f9e[_0x2ab5a9(0x164)]();},0x5dc);};}async function handleToggleStarQuiz(_0x58e67d){const _0x3c3e97=_0x53e3b0,_0x14a23e=doc(db,_0x3c3e97(0x50e)+appId+_0x3c3e97(0x7ee),_0x58e67d);try{const _0x1da7a1=await getDoc(_0x14a23e);if(_0x1da7a1['exists']()){const _0x3a6af1=_0x1da7a1[_0x3c3e97(0x1b4)]()[_0x3c3e97(0x387)]||![];await updateDoc(_0x14a23e,{'isStarred':!_0x3a6af1});}}catch(_0x740819){console[_0x3c3e97(0x4e5)](_0x3c3e97(0x85e),_0x740819),showMessage(_0x3c3e97(0x3a1));}}async function displayQuestionBank(){const _0x2362e8=_0x53e3b0,_0x4b7a16=document[_0x2362e8(0x2f6)](_0x2362e8(0x214));_0x4b7a16[_0x2362e8(0x735)]=_0x2362e8(0x67d);try{const _0x54781b=collection(db,_0x2362e8(0x50e)+appId+_0x2362e8(0xa50)+userId+'/questionBank'),_0x21e912=query(_0x54781b),_0x2ee7db=await getDocs(_0x21e912);if(_0x2ee7db['empty']){_0x4b7a16[_0x2362e8(0x735)]=_0x2362e8(0x5eb);return;}let _0xf181f4=_0x2ee7db[_0x2362e8(0x51f)][_0x2362e8(0x6e9)](_0x13b008=>{const _0x1ba63b=_0x2362e8,_0x107115=_0x13b008[_0x1ba63b(0x1b4)](),_0x3a6b55=_0x13b008['id'];return _0x1ba63b(0x180)+JSON[_0x1ba63b(0x84c)](_0x107115)+_0x1ba63b(0x6ba)+(_0x107115['questionText']||_0x107115[_0x1ba63b(0x4ae)])+_0x1ba63b(0x55b)+_0x107115[_0x1ba63b(0x835)]+_0x1ba63b(0x6b9);})[_0x2362e8(0x728)]('');_0x4b7a16[_0x2362e8(0x735)]=_0x2362e8(0xa70)+_0xf181f4+_0x2362e8(0x85b),document[_0x2362e8(0x2f6)]('create-from-bank-btn')[_0x2362e8(0x7a9)](_0x2362e8(0x911),createQuizFromBank);}catch(_0x51c921){console[_0x2362e8(0x4e5)](_0x2362e8(0x556),_0x51c921),_0x4b7a16[_0x2362e8(0x735)]=_0x2362e8(0x705);}}function showAdminLiveQuestionView(_0x4d2f20,_0x39994a,_0x274809){const _0xe2c3e7=_0x53e3b0,_0xc07e9c=_0x4d2f20[_0xe2c3e7(0x281)]||currentQuizData[_0xe2c3e7(0x509)];let _0x2c006e='';if(_0xc07e9c===_0xe2c3e7(0x7f3)||_0xc07e9c==='true_false'){const _0x270726=_0xc07e9c===_0xe2c3e7(0x529)?[_0xe2c3e7(0x117),_0xe2c3e7(0x422)]:_0x4d2f20['options'],_0x137fe4=_0xc07e9c===_0xe2c3e7(0x529)?_0x4d2f20[_0xe2c3e7(0x9fe)]?0x0:0x1:_0x4d2f20[_0xe2c3e7(0x94a)];_0x2c006e=_0x270726[_0xe2c3e7(0x6e9)]((_0x9472a,_0x53fbd5)=>_0xe2c3e7(0x48a)+(_0x53fbd5===_0x137fe4)+_0xe2c3e7(0x5b4)+_0x9472a+_0xe2c3e7(0x604))[_0xe2c3e7(0x728)]('');}else{if(_0xc07e9c===_0xe2c3e7(0x8f9)){const _0x2f0484=_0x4d2f20[_0xe2c3e7(0x15f)]||[];_0x2c006e=_0x2f0484['map'](_0x26fce6=>_0xe2c3e7(0x48a)+(_0x26fce6===_0x4d2f20[_0xe2c3e7(0x209)])+_0xe2c3e7(0x5b4)+_0x26fce6+_0xe2c3e7(0x604))[_0xe2c3e7(0x728)]('');}}const _0x3ff2c4=_0x4d2f20[_0xe2c3e7(0x4ae)]||_0x4d2f20[_0xe2c3e7(0x8bc)],_0x511edd=_0xe2c3e7(0x24d)+(_0x39994a+0x1)+_0xe2c3e7(0x914)+_0x274809+_0xe2c3e7(0x941)+currentLiveGamePin+_0xe2c3e7(0x594)+_0x3ff2c4+_0xe2c3e7(0xa44)+_0x2c006e+_0xe2c3e7(0xa21);liveGameView[_0xe2c3e7(0x735)]=_0x511edd,window[_0xe2c3e7(0x4b0)]&&MathJax[_0xe2c3e7(0x1d1)]&&MathJax[_0xe2c3e7(0x1d1)]([liveGameView]),document['getElementById'](_0xe2c3e7(0x22b))[_0xe2c3e7(0x7a9)]('click',()=>revealAnswerForAdmin(_0x39994a,_0x274809)),document[_0xe2c3e7(0x2f6)]('end-game-btn')[_0xe2c3e7(0x7a9)](_0xe2c3e7(0x911),async()=>{const _0x553395=_0xe2c3e7;showConfirmation(_0x553395(0x1a6),async()=>{const _0x16c30b=_0x553395,_0x1a9722=doc(db,_0x16c30b(0x50e)+appId+_0x16c30b(0x2fe),currentLiveGameId);await updateDoc(_0x1a9722,{'status':'podium'});});}),document[_0xe2c3e7(0x2f6)]('manage-players-btn')[_0xe2c3e7(0x7a9)](_0xe2c3e7(0x911),()=>{const _0x67fde3=_0xe2c3e7;document[_0x67fde3(0x2f6)](_0x67fde3(0x424))[_0x67fde3(0x97f)][_0x67fde3(0x95b)](_0x67fde3(0x4ba));});}function showStudentLiveQuestionView(_0x469327,_0x8a66f1,_0x8a1472){const _0x53fd0d=_0x53e3b0,_0x27a347=_0x469327[_0x53fd0d(0x281)]||currentQuizData[_0x53fd0d(0x509)];let _0x3f6c3f='';if(_0x27a347===_0x53fd0d(0x7f3)||_0x27a347===_0x53fd0d(0x529)){const _0x35fab6=_0x27a347==='true_false'?[_0x53fd0d(0x117),_0x53fd0d(0x422)]:_0x469327['options'];_0x3f6c3f=_0x35fab6['map']((_0xcaaaf6,_0x4563e6)=>_0x53fd0d(0x215)+_0x4563e6+_0x53fd0d(0x417)+_0xcaaaf6+_0x53fd0d(0x77a))[_0x53fd0d(0x728)]('');}else{if(_0x27a347==='matching_item'){const _0x2657d3=_0x469327[_0x53fd0d(0x15f)]||[];_0x3f6c3f=_0x2657d3[_0x53fd0d(0x6e9)]((_0x416439,_0x37e29e)=>_0x53fd0d(0x215)+_0x37e29e+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x416439+_0x53fd0d(0x77a))[_0x53fd0d(0x728)]('');}else _0x27a347===_0x53fd0d(0x331)&&(_0x3f6c3f=_0x53fd0d(0x5ce));}const _0x268e85=_0x469327[_0x53fd0d(0x4ae)]||_0x469327[_0x53fd0d(0x8bc)],_0x42302a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x8a66f1+0x1)+_0x53fd0d(0x914)+_0x8a1472+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x268e85+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f6c3f+_0x53fd0d(0x47e);liveGameView['innerHTML']=_0x42302a;window[_0x53fd0d(0x4b0)]&&MathJax[_0x53fd0d(0x1d1)]&&MathJax[_0x53fd0d(0x1d1)]([liveGameView]);const _0xd36520=document[_0x53fd0d(0x2f6)](_0x53fd0d(0x77e));_0xd36520&&_0xd36520[_0x53fd0d(0x7a9)](_0x53fd0d(0x911),()=>{const _0x21e13a=_0x53fd0d,_0x12d477=document[_0x21e13a(0x2f6)](_0x21e13a(0x47a))[_0x21e13a(0x6b0)];handleLiveAnswer(_0x12d477,_0x469327);}),document[_0x53fd0d(0x2f6)](_0x53fd0d(0x2e1))[_0x53fd0d(0x7a9)]('click',_0x213ccc=>{const _0x15b19b=_0x53fd0d,_0x12d5f8=_0x213ccc[_0x15b19b(0x4d5)][_0x15b19b(0x4e4)]('.live-answer-btn');if(_0x12d5f8){const _0x259eac=parseInt(_0x12d5f8['dataset'][_0x15b19b(0x492)]);handleLiveAnswer(_0x259eac,_0x469327);}});}async function handleLiveAnswer(_0x430eda,_0x177ef4){const _0x4c878d=_0x53e3b0;document[_0x4c878d(0xa09)]('.live-answer-btn,\x20#live-submit-short-answer-btn')['forEach'](_0x353c93=>_0x353c93[_0x4c878d(0x6bc)]=!![]);const _0x63cef8=_0x177ef4[_0x4c878d(0x281)]||currentQuizData['quizType'];let _0x3014f0=![],_0x26e53a=_0x430eda;if(_0x63cef8==='short_answer'){const _0x4af7b6=(_0x430eda||'')[_0x4c878d(0x2d8)]();_0x3014f0=await gradeShortAnswer(_0x4af7b6,_0x177ef4);}else{if(_0x63cef8===_0x4c878d(0x7f3))_0x3014f0=_0x430eda===_0x177ef4['correctAnswerIndex'];else{if(_0x63cef8===_0x4c878d(0x529)){const _0x1d0455=_0x177ef4['correctAnswer'];_0x3014f0=_0x430eda===0x0&&_0x1d0455||_0x430eda===0x1&&!_0x1d0455;}else{if(_0x63cef8===_0x4c878d(0x8f9)){const _0x2123fa=_0x177ef4[_0x4c878d(0x15f)][_0x430eda];_0x3014f0=_0x2123fa===_0x177ef4['correctResponse'],_0x26e53a=_0x2123fa;}}}}const _0x1d864e=doc(db,_0x4c878d(0x50e)+appId+_0x4c878d(0x2fe),currentLiveGameId),_0x66d592={};_0x66d592[_0x4c878d(0x11b)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x66d592[_0x4c878d(0x11b)+currentStudentName+_0x4c878d(0xa6e)]=_0x3014f0,_0x66d592[_0x4c878d(0x11b)+currentStudentName+_0x4c878d(0x618)]=_0x63cef8===_0x4c878d(0x331)||_0x63cef8===_0x4c878d(0x8f9)?null:_0x430eda,_0x66d592[_0x4c878d(0x11b)+currentStudentName+_0x4c878d(0x66c)]=_0x26e53a,_0x66d592['players.'+currentStudentName+_0x4c878d(0x955)]=serverTimestamp(),_0x66d592['players.'+currentStudentName+'.isScored']=![],await updateDoc(_0x1d864e,_0x66d592),liveGameView[_0x4c878d(0x735)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x1fc53d,_0x56a8cd){const _0x14a77e=_0x53e3b0,_0x346682=Object[_0x14a77e(0x74d)](_0x1fc53d[_0x14a77e(0x46d)]||{}),_0x5c066f=_0x56a8cd['questionType']||currentQuizData['quizType'],_0x4994f0=_0x5c066f===_0x14a77e(0x529)?[_0x14a77e(0x117),'ไม่ใช่']:_0x56a8cd[_0x14a77e(0x9b6)]||_0x56a8cd[_0x14a77e(0x15f)]||[],_0x33efe2={},_0x267fe6=new Array(_0x4994f0[_0x14a77e(0x4f1)])['fill'](0x0);_0x4994f0[_0x14a77e(0x87f)]((_0x464f17,_0x4809b6)=>{_0x33efe2[_0x4809b6]=[];}),Object['entries'](_0x1fc53d['players']||{})[_0x14a77e(0x87f)](([_0x26f0fe,_0x3e2f15])=>{const _0x4efe00=_0x14a77e;if(_0x3e2f15[_0x4efe00(0x25f)]===_0x4efe00(0x2a5)&&_0x3e2f15[_0x4efe00(0x388)]!==undefined){const _0x27355c=_0x3e2f15[_0x4efe00(0x388)];_0x33efe2[_0x27355c]&&(_0x33efe2[_0x27355c]['push'](_0x26f0fe),_0x267fe6[_0x27355c]++);}});const _0x1aa68a=Math[_0x14a77e(0x5c8)](..._0x267fe6,0x1),_0x988dce=_0x14a77e(0x406)+(_0x56a8cd[_0x14a77e(0x4ae)]||_0x56a8cd[_0x14a77e(0x8bc)])+_0x14a77e(0x873)+_0x267fe6['map']((_0x3b2796,_0x90238d)=>{const _0x12346b=_0x14a77e,_0xbdc927=_0x33efe2[_0x90238d][_0x12346b(0x4f1)]>0x0?_0x33efe2[_0x90238d][_0x12346b(0x728)](',\x20'):_0x12346b(0x4b6);let _0x1364a1=![];if(_0x5c066f===_0x12346b(0x7f3))_0x1364a1=_0x90238d===_0x56a8cd['correctAnswerIndex'];else{if(_0x5c066f===_0x12346b(0x529)){const _0x1e8077=_0x56a8cd[_0x12346b(0x9fe)];_0x1364a1=_0x1e8077&&_0x90238d===0x0||!_0x1e8077&&_0x90238d===0x1;}else _0x5c066f===_0x12346b(0x8f9)&&(_0x1364a1=_0x4994f0[_0x90238d]===_0x56a8cd[_0x12346b(0x209)]);}const _0x3a02a7=_0x1364a1?'#26890c':_0x12346b(0x581);return _0x12346b(0x63b)+_0x3b2796+_0x12346b(0x116)+_0x3a02a7+_0x12346b(0x890)+_0x90238d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x4994f0[_0x90238d]+_0x12346b(0x661)+_0x90238d+_0x12346b(0x859)+_0xbdc927+_0x12346b(0x71e);})[_0x14a77e(0x728)]('')+_0x14a77e(0x333);liveGameView[_0x14a77e(0x735)]=_0x988dce;if(window['MathJax'])MathJax['typesetPromise']();document[_0x14a77e(0x2f6)](_0x14a77e(0x7aa))[_0x14a77e(0x7a9)](_0x14a77e(0x911),async()=>{const _0xbf71fd=_0x14a77e,_0x35d00a=doc(db,_0xbf71fd(0x50e)+appId+_0xbf71fd(0x2fe),currentLiveGameId);await updateDoc(_0x35d00a,{'questionStatus':'leaderboard'});}),document['getElementById'](_0x14a77e(0x393))['addEventListener'](_0x14a77e(0x911),()=>{openScratchpad(_0x56a8cd,_0x4994f0);});}function showPlayerSummaryView(_0x1ee381,_0x4b7228){const _0x42b6f8=_0x53e3b0,_0x162ea6=Object[_0x42b6f8(0x74d)](_0x1ee381[_0x42b6f8(0x46d)]||{}),_0x408987=_0x1ee381['players'][_0x4b7228],_0x3e6a76=_0x162ea6[_0x42b6f8(0x845)](_0x13511a=>_0x13511a[_0x42b6f8(0x25f)]===_0x42b6f8(0x2a5))['sort']((_0x50d3ce,_0x4e11e9)=>_0x4e11e9['score']-_0x50d3ce[_0x42b6f8(0x19e)]),_0x50b7a8=_0x3e6a76[_0x42b6f8(0x8b9)](_0xcd034=>_0xcd034===_0x408987)+0x1,_0x36c3b7=_0x408987[_0x42b6f8(0x68f)]?'ถูกต้อง!':_0x42b6f8(0x703),_0x4434b2=_0x408987[_0x42b6f8(0x68f)]?_0x42b6f8(0x61b):'bg-red-500',_0x1f578d=_0x408987['pointsLastQuestion']||0x0,_0x78f73d=_0x42b6f8(0x523),_0xb752bc=_0x42b6f8(0xa65)+_0x78f73d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x4434b2+_0x42b6f8(0x4b1)+_0x36c3b7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x1f578d+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x50b7a8>0x0?_0x50b7a8:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0xb752bc;}function createQuizFromBank(){const _0x222e07=_0x53e3b0,_0x384102=document[_0x222e07(0xa09)](_0x222e07(0x302));if(_0x384102[_0x222e07(0x4f1)]===0x0){showMessage(_0x222e07(0x901));return;}const _0x333c8a=[];_0x384102[_0x222e07(0x87f)](_0x31e87e=>{const _0x70dc4b=_0x222e07;_0x333c8a[_0x70dc4b(0x8c3)](JSON[_0x70dc4b(0x975)](_0x31e87e[_0x70dc4b(0x6b0)]));});const _0x368765={'topic':_0x222e07(0x145),'questions':_0x333c8a};displayGeneratedQuiz(_0x368765);}function showAdminLobbyView(_0x114d91,_0x352ac0){const _0x27aeb6=_0x53e3b0;showView(_0x27aeb6(0x525));const _0x1fef28=_0x27aeb6(0x69d)+_0x352ac0+_0x27aeb6(0x35e)+_0x114d91+_0x27aeb6(0x991);liveGameView[_0x27aeb6(0x735)]=_0x1fef28,document['getElementById'](_0x27aeb6(0x155))[_0x27aeb6(0x7a9)](_0x27aeb6(0x911),async()=>{const _0xab8369=_0x27aeb6;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0xab8369(0x7d4)][_0xab8369(0x4f1)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x4744c1=doc(db,_0xab8369(0x50e)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4744c1,{'status':_0xab8369(0x6dc),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x262c91=currentQuizData['questions'][0x0],_0x402d58=currentQuizData['questions']['length'];showAdminLiveQuestionView(_0x262c91,0x0,_0x402d58);}catch(_0x3fac04){console[_0xab8369(0x4e5)](_0xab8369(0xa10),_0x3fac04),showMessage(_0xab8369(0x3ec));}});}async function openGlobalLiveModal(){const _0x29d412=_0x53e3b0;if(allQuizzesGlobal[_0x29d412(0x4f1)]===0x0){const _0x564ab7=await getDocs(collection(db,_0x29d412(0x50e)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x564ab7[_0x29d412(0x51f)][_0x29d412(0x6e9)](_0x1f1792=>({'id':_0x1f1792['id'],..._0x1f1792[_0x29d412(0x1b4)]()}));}renderGlobalQuizList(''),document[_0x29d412(0x2f6)](_0x29d412(0x9ac))[_0x29d412(0x97f)][_0x29d412(0x8b7)]('hidden');}async function openQuizBankModal(){const _0x45353e=_0x53e3b0;if(allQuizzesGlobal[_0x45353e(0x4f1)]===0x0){const _0x26d9e6=await getDocs(collection(db,_0x45353e(0x50e)+appId+_0x45353e(0x7ee)));allQuizzesGlobal=_0x26d9e6[_0x45353e(0x51f)][_0x45353e(0x6e9)](_0x2bc524=>({'id':_0x2bc524['id'],..._0x2bc524['data']()}));}renderQuizBankList(''),document[_0x45353e(0x2f6)](_0x45353e(0x8c4))[_0x45353e(0x97f)][_0x45353e(0x8b7)](_0x45353e(0x4ba));}function renderQuizBankList(_0x1058d5=''){const _0x2ca087=_0x53e3b0,_0x4a172e=document[_0x2ca087(0x2f6)](_0x2ca087(0xa00)),_0x342a8e=_0x1058d5[_0x2ca087(0x6a7)]()[_0x2ca087(0x48c)](),_0x4677cf=allQuizzesGlobal['map'](_0x10a130=>({..._0x10a130,'projectName':allProjects[_0x2ca087(0x8dc)](_0x4749aa=>_0x4749aa['id']===_0x10a130[_0x2ca087(0x63c)])?.[_0x2ca087(0x39f)]||_0x2ca087(0x499)}))['filter'](_0x2c3c06=>(_0x2c3c06[_0x2ca087(0x6a6)]||'')['toLowerCase']()['includes'](_0x342a8e)||(_0x2c3c06[_0x2ca087(0x39f)]||'')[_0x2ca087(0x6a7)]()['includes'](_0x342a8e)||_0x2c3c06['id']['toString']()[_0x2ca087(0x12a)](_0x342a8e));document[_0x2ca087(0x2f6)]('quiz-bank-count')[_0x2ca087(0x8c8)]='('+_0x4677cf[_0x2ca087(0x4f1)]+_0x2ca087(0x21d),_0x4a172e[_0x2ca087(0x735)]=_0x4677cf['length']?_0x4677cf[_0x2ca087(0x6e9)](_0x28f98b=>_0x2ca087(0x97b)+_0x28f98b['id']+_0x2ca087(0x4ce)+(_0x28f98b['topic']||_0x2ca087(0x971))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x28f98b[_0x2ca087(0x7d4)]?.[_0x2ca087(0x4f1)]||0x0)+_0x2ca087(0x995)+_0x28f98b[_0x2ca087(0x39f)]+_0x2ca087(0x58f)+_0x28f98b['id']+_0x2ca087(0x132)+_0x28f98b['id']+_0x2ca087(0x3de)+_0x28f98b['id']+_0x2ca087(0x42a)+_0x28f98b['id']+_0x2ca087(0x5c9)+_0x28f98b['id']+_0x2ca087(0x9e8)+_0x28f98b['id']+_0x2ca087(0x7e0)+_0x28f98b['id']+_0x2ca087(0x688)+_0x28f98b[_0x2ca087(0x6a6)]+_0x2ca087(0x8f1))[_0x2ca087(0x728)](''):_0x2ca087(0x8de),_0x4a172e['querySelectorAll'](_0x2ca087(0x792))['forEach'](_0x469b81=>{const _0x1ef97f=_0x2ca087;_0x469b81['addEventListener'](_0x1ef97f(0x911),()=>{const _0x57b676=_0x1ef97f,_0x46bcf0=_0x469b81[_0x57b676(0x7c7)]['id'];document[_0x57b676(0x2f6)]('quiz-bank-modal')[_0x57b676(0x97f)][_0x57b676(0x218)](_0x57b676(0x4ba)),showQuizDetailView(_0x46bcf0);});}),_0x4a172e[_0x2ca087(0xa09)]('.quiz-bank-try-btn')[_0x2ca087(0x87f)](_0x3198cf=>{const _0x16a556=_0x2ca087;_0x3198cf[_0x16a556(0x7a9)](_0x16a556(0x911),_0x2bce7b=>{const _0x96800e=_0x16a556;_0x2bce7b['stopPropagation']();const _0x2ee28e=_0x3198cf[_0x96800e(0x7c7)]['id'],_0x37f337=allQuizzesGlobal[_0x96800e(0x8dc)](_0x2e4bd6=>_0x2e4bd6['id']===_0x2ee28e);_0x37f337?(currentQuizData=_0x37f337,document['getElementById']('quiz-bank-modal')[_0x96800e(0x97f)][_0x96800e(0x218)](_0x96800e(0x4ba)),startAdminTest()):showMessage(_0x96800e(0x8bd));});}),_0x4a172e[_0x2ca087(0xa09)]('.quiz-bank-parallel-btn')[_0x2ca087(0x87f)](_0x10b4f0=>{const _0x2351c9=_0x2ca087;_0x10b4f0[_0x2351c9(0x7a9)]('click',_0x4056=>{const _0x5bb0b0=_0x2351c9;_0x4056[_0x5bb0b0(0x76f)]();const _0x1200d8=_0x10b4f0[_0x5bb0b0(0x7c7)]['id'],_0x11edff=allQuizzesGlobal['find'](_0x155e4b=>_0x155e4b['id']===_0x1200d8);_0x11edff?(document[_0x5bb0b0(0x2f6)]('quiz-bank-modal')[_0x5bb0b0(0x97f)]['add'](_0x5bb0b0(0x4ba)),handleGenerateParallelFromBank(_0x11edff)):showMessage(_0x5bb0b0(0x8bd));});}),_0x4a172e[_0x2ca087(0xa09)](_0x2ca087(0x2c6))[_0x2ca087(0x87f)](_0x2b827f=>{const _0x38da79=_0x2ca087;_0x2b827f[_0x38da79(0x7a9)](_0x38da79(0x911),_0x1b7bcb=>{const _0x34b959=_0x38da79;_0x1b7bcb[_0x34b959(0x76f)]();const _0x523198=_0x2b827f[_0x34b959(0x7c7)]['id'],_0x552d1e=allQuizzesGlobal['find'](_0x38db58=>_0x38db58['id']===_0x523198);_0x552d1e?(document[_0x34b959(0x2f6)](_0x34b959(0x8c4))[_0x34b959(0x97f)][_0x34b959(0x218)](_0x34b959(0x4ba)),startPresentation(_0x552d1e)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x4a172e['querySelectorAll'](_0x2ca087(0x484))[_0x2ca087(0x87f)](_0x1bd0a1=>{const _0x1a914d=_0x2ca087;_0x1bd0a1[_0x1a914d(0x7a9)](_0x1a914d(0x911),_0x8832fb=>{const _0x231088=_0x1a914d;_0x8832fb[_0x231088(0x76f)]();const _0x531dc9=_0x1bd0a1[_0x231088(0x7c7)]['id'];document[_0x231088(0x2f6)](_0x231088(0x8c4))[_0x231088(0x97f)][_0x231088(0x218)](_0x231088(0x4ba)),handleMoveQuiz(_0x531dc9);});}),_0x4a172e['querySelectorAll']('.quiz-bank-settings-btn')[_0x2ca087(0x87f)](_0x790f6=>{const _0xa33b=_0x2ca087;_0x790f6[_0xa33b(0x7a9)]('click',_0x40ac14=>{const _0x52d6b9=_0xa33b;_0x40ac14[_0x52d6b9(0x76f)]();const _0x3e6476=_0x790f6[_0x52d6b9(0x7c7)]['id'];document[_0x52d6b9(0x2f6)](_0x52d6b9(0x8c4))['classList']['add'](_0x52d6b9(0x4ba)),handleQuizSettings(_0x3e6476);});}),_0x4a172e[_0x2ca087(0xa09)](_0x2ca087(0x59f))['forEach'](_0x2f1f27=>{const _0x472c03=_0x2ca087;_0x2f1f27[_0x472c03(0x7a9)]('click',_0x5d53dd=>{const _0x186d2f=_0x472c03;_0x5d53dd[_0x186d2f(0x76f)]();const _0x45caa4=_0x2f1f27[_0x186d2f(0x7c7)]['id'],_0xf1e15f=_0x2f1f27[_0x186d2f(0x7c7)]['topic'];showConfirmation(_0x186d2f(0x490)+_0xf1e15f+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x45caa4));});});}async function handleCompareResults(_0x1aa35c,_0x444463){const _0x43a3d9=_0x53e3b0,_0x3f7058=document['getElementById'](_0x43a3d9(0x9bb)),_0x4413b1=document[_0x43a3d9(0x2f6)](_0x43a3d9(0x621)),_0x191a93=document[_0x43a3d9(0x2f6)](_0x43a3d9(0x3d6));document[_0x43a3d9(0x2f6)](_0x43a3d9(0x927))['classList'][_0x43a3d9(0x218)](_0x43a3d9(0x2a5)),document[_0x43a3d9(0x2f6)](_0x43a3d9(0x541))['classList'][_0x43a3d9(0x8b7)](_0x43a3d9(0x2a5)),_0x4413b1[_0x43a3d9(0x97f)][_0x43a3d9(0x8b7)](_0x43a3d9(0x4ba)),_0x191a93[_0x43a3d9(0x97f)]['add']('hidden'),_0x4413b1[_0x43a3d9(0x735)]=_0x43a3d9(0x67d),_0x191a93['innerHTML']='',_0x3f7058[_0x43a3d9(0x97f)][_0x43a3d9(0x8b7)](_0x43a3d9(0x4ba));try{const _0x404a3a=doc(db,'artifacts/'+appId+_0x43a3d9(0x7ee),_0x1aa35c),_0x3310b9=await getDoc(_0x404a3a);if(!_0x3310b9[_0x43a3d9(0x4bc)]())throw new Error(_0x43a3d9(0x458));const _0x23da67=_0x3310b9[_0x43a3d9(0x1b4)](),_0x2b294b=_0x23da67[_0x43a3d9(0x7d4)][_0x43a3d9(0x4f1)],_0xa99db=collection(db,'artifacts/'+appId+_0x43a3d9(0x150)+_0x444463+_0x43a3d9(0x80f)),_0x951f3d=collection(db,_0x43a3d9(0x50e)+appId+_0x43a3d9(0x150)+_0x1aa35c+_0x43a3d9(0x80f)),[_0x45483d,_0x300087]=await Promise[_0x43a3d9(0x260)]([getDocs(_0xa99db),getDocs(_0x951f3d)]),_0x551fca=_0x45483d[_0x43a3d9(0x51f)][_0x43a3d9(0x6e9)](_0x118ef5=>_0x118ef5[_0x43a3d9(0x1b4)]()),_0x30a466=_0x300087[_0x43a3d9(0x51f)][_0x43a3d9(0x6e9)](_0x290f35=>_0x290f35[_0x43a3d9(0x1b4)]()),_0x4be1b5=_0x551fca['map'](_0x4a02bf=>_0x4a02bf['latestScore']),_0x4e75f8=_0x30a466['map'](_0x30076b=>_0x30076b[_0x43a3d9(0x12d)]),_0x23e6a4=calculateMeanAndStdDev(_0x4be1b5),_0x2ef50c=calculateMeanAndStdDev(_0x4e75f8),_0x1c4f86=_0x23e6a4[_0x43a3d9(0x5be)],_0x4ce652=_0x2ef50c[_0x43a3d9(0x5be)],_0x440c73=_0x4ce652-_0x1c4f86;let _0x126fb2=_0x43a3d9(0x561)+_0x1c4f86[_0x43a3d9(0x830)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x4ce652['toFixed'](0x2)+_0x43a3d9(0x99d)+(_0x440c73>=0x0?'bg-emerald-100':_0x43a3d9(0x6b4))+_0x43a3d9(0x8df)+(_0x440c73>=0x0?_0x43a3d9(0x5f1):_0x43a3d9(0x8e4))+_0x43a3d9(0x1bf)+(_0x440c73>=0x0?'text-emerald-900':'text-red-900')+'\x22>'+(_0x440c73>=0x0?'+':'')+_0x440c73[_0x43a3d9(0x830)](0x2)+_0x43a3d9(0x574);_0x4413b1['innerHTML']=_0x126fb2;const _0x384207=document[_0x43a3d9(0x2f6)](_0x43a3d9(0x410))['getContext']('2d');if(chartInstances['comparison'])chartInstances[_0x43a3d9(0xa2e)][_0x43a3d9(0x4a3)]();chartInstances[_0x43a3d9(0xa2e)]=new Chart(_0x384207,{'type':_0x43a3d9(0x9d9),'data':{'labels':[_0x43a3d9(0x979)],'datasets':[{'label':_0x43a3d9(0x689),'data':[_0x1c4f86],'backgroundColor':_0x43a3d9(0xa40)},{'label':'หลังเรียน','data':[_0x4ce652],'backgroundColor':_0x43a3d9(0x414)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x2b294b}}}});const _0x507a48=currentProjectData['students']||[],_0x3901b9=_0x507a48['map'](_0x573e17=>{const _0x4f2725=_0x43a3d9,_0x825042=_0x551fca[_0x4f2725(0x8dc)](_0x5517c4=>_0x5517c4[_0x4f2725(0xa63)]===_0x573e17),_0x316ccd=_0x30a466['find'](_0x4f9537=>_0x4f9537[_0x4f2725(0xa63)]===_0x573e17),_0x5cb240=_0x825042?_0x825042[_0x4f2725(0x12d)]:null,_0x86801f=_0x316ccd?_0x316ccd[_0x4f2725(0x12d)]:null,_0x100834=_0x5cb240!==null&&_0x86801f!==null?_0x86801f-_0x5cb240:null,_0x2112ac=_0x5cb240!==null?calculateZScore(_0x5cb240,_0x23e6a4[_0x4f2725(0x5be)],_0x23e6a4[_0x4f2725(0x80c)]):null,_0x57bd1c=_0x86801f!==null?calculateZScore(_0x86801f,_0x2ef50c[_0x4f2725(0x5be)],_0x2ef50c[_0x4f2725(0x80c)]):null,_0x320d47=_0x2112ac!==null?calculateTScore(_0x2112ac):null,_0x23814c=_0x57bd1c!==null?calculateTScore(_0x57bd1c):null,_0x22565f=_0x320d47!==null&&_0x23814c!==null?_0x23814c-_0x320d47:null;return{'name':_0x573e17,'preScore':_0x5cb240,'postScore':_0x86801f,'gain':_0x100834,'preTScore':_0x320d47,'postTScore':_0x23814c,'tGain':_0x22565f};});renderIndividualComparisonTable(_0x3901b9,_0x191a93);}catch(_0x3ab39d){console[_0x43a3d9(0x4e5)]('Error\x20comparing\x20results:',_0x3ab39d),_0x4413b1[_0x43a3d9(0x735)]=_0x43a3d9(0x819);}}function displayHalfMarkResult(_0x4deab1,_0xfea2be){const _0x25ac5a=_0x53e3b0,_0x33bae3=_0x4deab1>=_0xfea2be/0x2,_0x3f0dd5=_0x33bae3?'bg-green-100':'bg-red-100',_0x4a8853=_0x33bae3?_0x25ac5a(0x21c):_0x25ac5a(0x7bc),_0x2358ff=_0x33bae3?_0x25ac5a(0x2eb):'text-red-800',_0x440a5f=_0x33bae3?_0x25ac5a(0x3f4):_0x25ac5a(0x3c8),_0x1b9874=_0x33bae3?_0x25ac5a(0x277):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x2d809c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x3f0dd5+_0x25ac5a(0x206)+_0x4a8853+_0x25ac5a(0x623)+_0x2358ff+_0x25ac5a(0x9aa)+_0x440a5f+_0x25ac5a(0x2b6)+_0x1b9874+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x25ac5a(0x735)]=_0x2d809c,studentResultArea[_0x25ac5a(0x97f)][_0x25ac5a(0x8b7)](_0x25ac5a(0x4ba)),studentQuizArea[_0x25ac5a(0x97f)][_0x25ac5a(0x218)](_0x25ac5a(0x4ba)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x33bae3});}function displayPerfectScoreResult(_0x2829d6,_0x40aad4){const _0x251a99=_0x53e3b0,_0x3fd0c3=_0x2829d6===_0x40aad4,_0x4ede3a=_0x3fd0c3?_0x251a99(0x654):_0x251a99(0x1e2),_0x2e2d67=_0x3fd0c3?_0x251a99(0x65c):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x35a70a=_0x3fd0c3?_0x251a99(0x1d5):_0x251a99(0x52a),_0x3c4b78=_0x3fd0c3?_0x251a99(0x802):'ยังไม่เต็มนะ',_0x48588e=_0x3fd0c3?_0x251a99(0x40f):_0x251a99(0x3b0);let _0x3fa8f5=_0x251a99(0x858)+_0x4ede3a+_0x251a99(0x206)+_0x2e2d67+_0x251a99(0x623)+_0x35a70a+_0x251a99(0x9aa)+_0x3c4b78+_0x251a99(0x2b6)+_0x48588e+_0x251a99(0xa69);studentResultArea[_0x251a99(0x735)]=_0x3fa8f5,studentResultArea['classList'][_0x251a99(0x8b7)](_0x251a99(0x4ba)),studentQuizArea['classList']['add'](_0x251a99(0x4ba)),setupResultScreenBackButton({'showRankings':![],'score':_0x2829d6,'totalQuestions':_0x40aad4});}function renderIndividualComparisonTable(_0x133dca,_0x2dc762){const _0xbf2f39=_0x53e3b0;_0x133dca[_0xbf2f39(0x933)]((_0x70faba,_0x482428)=>(_0x482428[_0xbf2f39(0x98e)]??-Infinity)-(_0x70faba[_0xbf2f39(0x98e)]??-Infinity));let _0x17512b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x133dca['length']===0x0?_0x17512b+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x133dca['forEach']((_0x493430,_0x20a58e)=>{const _0x26fe73=_0xbf2f39;let _0x52c7cc='-',_0x25599a='';if(_0x493430[_0x26fe73(0x480)]!==null){const _0x4b8bdf=_0x493430[_0x26fe73(0x480)]>0x0?'text-green-600':_0x493430[_0x26fe73(0x480)]<0x0?_0x26fe73(0x4df):_0x26fe73(0x951),_0xcc2fa7=_0x493430[_0x26fe73(0x480)]>0x0?'+':'';_0x52c7cc='<span\x20class=\x22font-bold\x20'+_0x4b8bdf+'\x22>'+_0xcc2fa7+_0x493430[_0x26fe73(0x480)]+_0x26fe73(0x75a);if(_0x493430[_0x26fe73(0x480)]>0x0)_0x25599a=_0x26fe73(0x1dc);else _0x493430[_0x26fe73(0x480)]<0x0?_0x25599a=_0x26fe73(0x9fb):_0x25599a='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x2ab350='-';if(_0x493430['tGain']!==null){const _0x274af2=_0x493430['tGain']>0x0?'text-green-600':_0x493430[_0x26fe73(0x98e)]<0x0?_0x26fe73(0x4df):_0x26fe73(0x951),_0x1ba5a3=_0x493430[_0x26fe73(0x98e)]>0x0?'+':'';_0x2ab350=_0x26fe73(0x6ec)+_0x274af2+'\x22>'+_0x1ba5a3+_0x493430[_0x26fe73(0x98e)][_0x26fe73(0x830)](0x2)+_0x26fe73(0x75a);}_0x17512b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x20a58e+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x493430[_0x26fe73(0x682)]+_0x26fe73(0x5e6)+(_0x493430[_0x26fe73(0x41d)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x493430['postScore']??'-')+_0x26fe73(0x5e6)+_0x52c7cc+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x25599a+_0x26fe73(0x653)+(_0x493430['preTScore']?.[_0x26fe73(0x830)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x493430[_0x26fe73(0x86b)]?.[_0x26fe73(0x830)](0x2)??'-')+_0x26fe73(0x5e6)+_0x2ab350+_0x26fe73(0x222);}),_0x17512b+=_0xbf2f39(0x665),_0x2dc762[_0xbf2f39(0x735)]=_0x17512b;}function handleRenameQuiz(_0x294b8f,_0x298a54){const _0x1baa6d=_0x53e3b0;actionTargetId=_0x294b8f,document[_0x1baa6d(0x2f6)]('rename-quiz-input')[_0x1baa6d(0x6b0)]=_0x298a54,renameQuizModal['classList'][_0x1baa6d(0x8b7)]('hidden');}function setupComparisonModalTabs(){const _0x11c386=_0x53e3b0,_0x46e04d=document[_0x11c386(0x2f6)](_0x11c386(0x927)),_0x42e021=document[_0x11c386(0x2f6)]('comparison-individual-tab'),_0x4a17e4=document['getElementById']('comparison-overall-content'),_0x2301ad=document[_0x11c386(0x2f6)](_0x11c386(0x3d6));_0x46e04d[_0x11c386(0x7a9)](_0x11c386(0x911),()=>{const _0x27bbfc=_0x11c386;_0x46e04d[_0x27bbfc(0x97f)][_0x27bbfc(0x218)](_0x27bbfc(0x2a5)),_0x42e021[_0x27bbfc(0x97f)][_0x27bbfc(0x8b7)](_0x27bbfc(0x2a5)),_0x4a17e4[_0x27bbfc(0x97f)][_0x27bbfc(0x8b7)]('hidden'),_0x2301ad['classList'][_0x27bbfc(0x218)]('hidden');}),_0x42e021[_0x11c386(0x7a9)](_0x11c386(0x911),()=>{const _0x39a1b8=_0x11c386;_0x42e021['classList'][_0x39a1b8(0x218)]('active'),_0x46e04d['classList'][_0x39a1b8(0x8b7)](_0x39a1b8(0x2a5)),_0x2301ad['classList'][_0x39a1b8(0x8b7)]('hidden'),_0x4a17e4[_0x39a1b8(0x97f)][_0x39a1b8(0x218)](_0x39a1b8(0x4ba));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x2f7ddd=''){const _0x5a0414=_0x53e3b0,_0x402f4a=document[_0x5a0414(0x2f6)](_0x5a0414(0x4ef)),_0x3a1888=_0x2f7ddd[_0x5a0414(0x6a7)]()[_0x5a0414(0x48c)](),_0x1f0c59=allQuizzesGlobal[_0x5a0414(0x6e9)](_0x27f704=>({..._0x27f704,'projectName':allProjects[_0x5a0414(0x8dc)](_0x46d306=>_0x46d306['id']===_0x27f704[_0x5a0414(0x63c)])?.['projectName']||_0x27f704['projectId']}))[_0x5a0414(0x845)](_0x4b256a=>(_0x4b256a[_0x5a0414(0x6a6)]||'')[_0x5a0414(0x6a7)]()[_0x5a0414(0x12a)](_0x3a1888)||(_0x4b256a[_0x5a0414(0x39f)]||'')[_0x5a0414(0x6a7)]()[_0x5a0414(0x12a)](_0x3a1888));document[_0x5a0414(0x2f6)]('global-live-game-count')['textContent']='('+_0x1f0c59[_0x5a0414(0x4f1)]+_0x5a0414(0x21d),_0x402f4a[_0x5a0414(0x735)]=_0x1f0c59['length']?_0x1f0c59['map'](_0x2f0f4a=>_0x5a0414(0x562)+_0x2f0f4a['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x2f0f4a['topic']||_0x5a0414(0x971))+_0x5a0414(0x5e5)+(_0x2f0f4a[_0x5a0414(0x7d4)]?.['length']||0x0)+_0x5a0414(0x732)+_0x2f0f4a[_0x5a0414(0x39f)]+_0x5a0414(0x77f))[_0x5a0414(0x728)](''):_0x5a0414(0x748),selectedGlobalQuizId=null,document['getElementById'](_0x5a0414(0x22e))['disabled']=!![],_0x402f4a['querySelectorAll'](_0x5a0414(0x403))['forEach'](_0x236e5b=>{const _0x3ad18a=_0x5a0414;_0x236e5b['addEventListener'](_0x3ad18a(0x911),()=>{const _0x5dde59=_0x3ad18a;selectedGlobalQuizId=_0x236e5b['dataset']['id'],_0x402f4a[_0x5dde59(0xa09)](_0x5dde59(0x4d1))[_0x5dde59(0x87f)](_0x4eedde=>_0x4eedde['classList'][_0x5dde59(0x8b7)](_0x5dde59(0x297),_0x5dde59(0x3ad),_0x5dde59(0xa6c))),_0x236e5b[_0x5dde59(0x97f)][_0x5dde59(0x218)]('bg-purple-50',_0x5dde59(0x3ad),_0x5dde59(0xa6c)),document[_0x5dde59(0x2f6)](_0x5dde59(0x22e))[_0x5dde59(0x6bc)]=![];});});}function listenForLiveGameUpdates(){const _0x5ac00f=_0x53e3b0;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5b0f1f=doc(db,_0x5ac00f(0x50e)+appId+_0x5ac00f(0x2fe),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5b0f1f,_0x3f0ee4=>{const _0x278308=_0x5ac00f;if(!_0x3f0ee4[_0x278308(0x4bc)]()){showMessage(_0x278308(0x7ae)),showView(currentMode);return;}const _0x175217=_0x3f0ee4[_0x278308(0x1b4)]();_0x175217[_0x278308(0x8f4)]&&(currentQuizData=_0x175217[_0x278308(0x8f4)]);!currentQuizData&&_0x175217[_0x278308(0x8a9)]&&((async()=>{const _0x2ccba5=_0x278308;try{const _0x3ae557=doc(db,_0x2ccba5(0x50e)+appId+_0x2ccba5(0x7ee),_0x175217[_0x2ccba5(0x8a9)]),_0x451f5f=await getDoc(_0x3ae557);_0x451f5f[_0x2ccba5(0x4bc)]()&&(currentQuizData={'id':_0x451f5f['id'],..._0x451f5f[_0x2ccba5(0x1b4)]()});}catch(_0x459be9){console[_0x2ccba5(0x4e5)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x459be9);}})());switch(_0x175217[_0x278308(0x25f)]){case'lobby':if(currentMode===_0x278308(0x4c1)){const _0x47fcbb=_0x175217[_0x278308(0x46d)]?Object[_0x278308(0x577)](_0x175217[_0x278308(0x46d)]):[],_0x21f77e=_0x47fcbb[_0x278308(0x845)](([_0x179628,_0x4376db])=>_0x4376db[_0x278308(0x25f)]===_0x278308(0x2a5)),_0x4638ec=document[_0x278308(0x2f6)](_0x278308(0x32c));if(_0x4638ec)_0x4638ec['textContent']=_0x21f77e[_0x278308(0x4f1)];const _0x18c4d6=document['getElementById'](_0x278308(0x4dd));_0x18c4d6&&(_0x18c4d6[_0x278308(0x735)]=_0x21f77e[_0x278308(0x6e9)](([_0x284156,_0x446e3f])=>_0x278308(0x5b7)+_0x284156+_0x278308(0x659)+_0x284156+_0x278308(0x686))[_0x278308(0x728)](''));const _0x360797=document[_0x278308(0x2f6)](_0x278308(0x155));_0x360797&&(_0x360797[_0x278308(0x6bc)]=_0x21f77e[_0x278308(0x4f1)]===0x0);}else showView(_0x278308(0x525)),liveGameView[_0x278308(0x735)]=_0x278308(0x47c)+currentStudentName+_0x278308(0x8e0);break;case _0x278308(0x6dc):const _0x569644=_0x175217['currentQuestionIndex'];if(currentQuizData&&currentQuizData['questions'][_0x569644]){const _0x52373c=currentQuizData[_0x278308(0x7d4)][_0x569644],_0x13d240=_0x175217[_0x278308(0x766)]||'answering';switch(_0x13d240){case _0x278308(0x7ef):currentMode===_0x278308(0x4c1)?showAdminSummaryView(_0x175217,_0x52373c):showPlayerSummaryView(_0x175217,currentStudentName);break;case _0x278308(0x163):currentMode==='admin'&&showTop5LeaderboardView(_0x175217);break;case _0x278308(0x230):default:if(currentMode===_0x278308(0x4c1)){const _0x1c31af=writeBatch(db);let _0x4f3815=![];Object[_0x278308(0x577)](_0x175217[_0x278308(0x46d)])[_0x278308(0x87f)](([_0x2f4629,_0x3f82fc])=>{const _0x97c064=_0x278308;if(_0x3f82fc['status']===_0x97c064(0x2a5)&&_0x3f82fc[_0x97c064(0x1f1)]&&!_0x3f82fc[_0x97c064(0x4f9)]){_0x4f3815=!![];const _0x38bb18=_0x3f82fc['submittedAt'][_0x97c064(0x1a4)]()-_0x175217[_0x97c064(0x347)][_0x97c064(0x1a4)]();let _0x6a951f=0x0;if(_0x3f82fc['lastAnswerCorrect']){const _0x267679=0x3e8,_0x211353=0x1f4,_0x30205e=0x4e20;let _0x301a78=_0x38bb18/_0x30205e;if(_0x301a78>0x1)_0x301a78=0x1;const _0x4d4d9a=Math[_0x97c064(0x786)](_0x301a78*_0x211353);_0x6a951f=_0x267679-_0x4d4d9a;}const _0x142f2e=doc(db,_0x97c064(0x50e)+appId+_0x97c064(0x2fe),currentLiveGameId);_0x1c31af['update'](_0x142f2e,{['players.'+_0x2f4629+_0x97c064(0x2dd)]:increment(_0x6a951f),[_0x97c064(0x11b)+_0x2f4629+_0x97c064(0x6c9)]:_0x6a951f,[_0x97c064(0x11b)+_0x2f4629+_0x97c064(0x938)]:!![]});}});_0x4f3815&&_0x1c31af[_0x278308(0xa46)]()[_0x278308(0x798)](_0x21abdf=>console['error'](_0x278308(0x9c9),_0x21abdf));lastRenderedAdminQuestionIndex!==_0x569644&&(showAdminLiveQuestionView(_0x52373c,_0x569644,currentQuizData[_0x278308(0x7d4)][_0x278308(0x4f1)]),lastRenderedAdminQuestionIndex=_0x569644);const _0x25139c=_0x175217[_0x278308(0x46d)]||{},_0x1e4344=Object[_0x278308(0x74d)](_0x25139c)['filter'](_0x1d829a=>_0x1d829a[_0x278308(0x25f)]===_0x278308(0x2a5)),_0x146545=_0x1e4344[_0x278308(0x4f1)],_0x42625f=_0x1e4344[_0x278308(0x845)](_0x7e0d3a=>_0x7e0d3a[_0x278308(0x2b8)]===!![])[_0x278308(0x4f1)],_0x344371=document['getElementById'](_0x278308(0x57d));if(_0x344371)_0x344371[_0x278308(0x8c8)]=_0x42625f+'/'+_0x146545;const _0x524073=document[_0x278308(0x2f6)](_0x278308(0x1a3));if(_0x524073){let _0x3bc566=Object[_0x278308(0x577)](_0x25139c)[_0x278308(0x845)](([_0x4e1cde,_0x41738])=>_0x41738[_0x278308(0x25f)]===_0x278308(0x2a5))['map'](([_0xdd2a4a,_0x448702])=>{const _0x3d5bc4=_0x278308,_0x73b9e2=_0x448702[_0x3d5bc4(0x2b8)]===!![],_0x5c9e2e=_0x73b9e2?_0x3d5bc4(0x61b):_0x3d5bc4(0x864),_0x2936de=_0x73b9e2?_0x3d5bc4(0x385):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x5c9e2e+_0x3d5bc4(0x320)+_0x2936de+_0x3d5bc4(0x5f4)+_0xdd2a4a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0xdd2a4a+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x278308(0x728)]('');_0x524073[_0x278308(0x735)]=_0x3bc566||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x146545>0x0&&_0x42625f===_0x146545&&revealAnswerForAdmin(_0x569644,currentQuizData[_0x278308(0x7d4)][_0x278308(0x4f1)]);}else{const _0x2e59fb=_0x175217[_0x278308(0x46d)][currentStudentName];_0x2e59fb&&!_0x2e59fb[_0x278308(0x2b8)]&&showStudentLiveQuestionView(_0x52373c,_0x569644,currentQuizData['questions'][_0x278308(0x4f1)]);}break;}}break;case _0x278308(0x1ac):showPodiumView(_0x175217['players'],_0x278308(0x75e));break;}});}async function handleKickPlayer(_0x1b232f){const _0x1e96ea=_0x53e3b0;if(!currentLiveGameId||!_0x1b232f)return;const _0x30716d=doc(db,_0x1e96ea(0x50e)+appId+'/public/data/liveGames',currentLiveGameId),_0x531ac6={};_0x531ac6[_0x1e96ea(0x11b)+_0x1b232f+_0x1e96ea(0x669)]='inactive';try{await updateDoc(_0x30716d,_0x531ac6);}catch(_0x544339){console[_0x1e96ea(0x4e5)]('Failed\x20to\x20kick\x20player\x20'+_0x1b232f+':',_0x544339),showMessage(_0x1e96ea(0x62f));}}async function authenticateUser(){const _0x205103=_0x53e3b0;try{typeof __initial_auth_token!==_0x205103(0x982)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x4121bd){console[_0x205103(0x4e5)](_0x205103(0x7b6),_0x4121bd),showMessage(_0x205103(0x714));}}function showView(_0x41c7a8){const _0x2fe97e=_0x53e3b0;adminView['classList'][_0x2fe97e(0x218)](_0x2fe97e(0x4ba)),studentView['classList']['add'](_0x2fe97e(0x4ba)),projectDashboardView[_0x2fe97e(0x97f)][_0x2fe97e(0x218)](_0x2fe97e(0x4ba)),projectDetailView[_0x2fe97e(0x97f)]['add'](_0x2fe97e(0x4ba)),quizResultsView['classList'][_0x2fe97e(0x218)](_0x2fe97e(0x4ba)),liveGameView[_0x2fe97e(0x97f)]['add'](_0x2fe97e(0x4ba)),studentInitialView[_0x2fe97e(0x97f)][_0x2fe97e(0x218)](_0x2fe97e(0x4ba)),studentJoinGameView[_0x2fe97e(0x97f)][_0x2fe97e(0x218)]('hidden'),studentNameSelectionView[_0x2fe97e(0x97f)][_0x2fe97e(0x218)](_0x2fe97e(0x4ba)),studentQuizArea[_0x2fe97e(0x97f)][_0x2fe97e(0x218)](_0x2fe97e(0x4ba)),studentResultArea[_0x2fe97e(0x97f)]['add'](_0x2fe97e(0x4ba)),studentReadingArea['classList'][_0x2fe97e(0x218)](_0x2fe97e(0x4ba));const _0x131582=document['getElementById'](_0x2fe97e(0x41e)),_0x5a8af6=document[_0x2fe97e(0x2f6)](_0x2fe97e(0x966));if(_0x131582)_0x131582['classList'][_0x2fe97e(0x218)](_0x2fe97e(0x4ba));if(_0x5a8af6)_0x5a8af6[_0x2fe97e(0x97f)]['add'](_0x2fe97e(0x4ba));switch(_0x41c7a8){case _0x2fe97e(0x6ca):adminView[_0x2fe97e(0x97f)][_0x2fe97e(0x8b7)](_0x2fe97e(0x4ba)),projectDashboardView[_0x2fe97e(0x97f)][_0x2fe97e(0x8b7)](_0x2fe97e(0x4ba));break;case _0x2fe97e(0x497):adminView['classList'][_0x2fe97e(0x8b7)](_0x2fe97e(0x4ba)),projectDetailView['classList']['remove'](_0x2fe97e(0x4ba));break;case'quiz-results':adminView['classList'][_0x2fe97e(0x8b7)]('hidden'),quizResultsView[_0x2fe97e(0x97f)]['remove'](_0x2fe97e(0x4ba));break;case _0x2fe97e(0x14d):studentView[_0x2fe97e(0x97f)][_0x2fe97e(0x8b7)](_0x2fe97e(0x4ba)),studentInitialView[_0x2fe97e(0x97f)][_0x2fe97e(0x8b7)](_0x2fe97e(0x4ba));break;case'live-game':liveGameView[_0x2fe97e(0x97f)][_0x2fe97e(0x8b7)](_0x2fe97e(0x4ba));break;case _0x2fe97e(0x530):studentView[_0x2fe97e(0x97f)]['remove'](_0x2fe97e(0x4ba));if(_0x131582)_0x131582[_0x2fe97e(0x97f)]['remove']('hidden');break;case _0x2fe97e(0x580):studentView[_0x2fe97e(0x97f)][_0x2fe97e(0x8b7)](_0x2fe97e(0x4ba));if(_0x5a8af6)_0x5a8af6['classList'][_0x2fe97e(0x8b7)](_0x2fe97e(0x4ba));break;default:studentView[_0x2fe97e(0x97f)][_0x2fe97e(0x8b7)](_0x2fe97e(0x4ba)),studentInitialView['classList']['remove']('hidden');break;}}function showJoinGameView(){const _0x517a4c=_0x53e3b0;studentInitialView[_0x517a4c(0x97f)][_0x517a4c(0x218)]('hidden'),studentJoinGameView[_0x517a4c(0x97f)][_0x517a4c(0x8b7)]('hidden');}async function handleSaveVisibilitySettings(){const _0x4991ba=_0x53e3b0;if(!currentProjectId)return;const _0x44a3a1=doc(db,_0x4991ba(0x50e)+appId+_0x4991ba(0x33e),currentProjectId);try{await updateDoc(_0x44a3a1,{'settings.showInStudentDashboard':document[_0x4991ba(0x2f6)](_0x4991ba(0x15b))[_0x4991ba(0x3a8)],'settings.isPasscodeEnabled':document[_0x4991ba(0x2f6)](_0x4991ba(0x687))[_0x4991ba(0x3a8)],'settings.passcode':document[_0x4991ba(0x2f6)](_0x4991ba(0x7b8))[_0x4991ba(0x6b0)][_0x4991ba(0x48c)]()}),showMessage(_0x4991ba(0x6e6));}catch(_0x45363c){console[_0x4991ba(0x4e5)](_0x4991ba(0x390),_0x45363c),showMessage(_0x4991ba(0x87a));}}function setupEventListeners(){const _0x167f43=_0x53e3b0,_0x2c48c0=document['getElementById'](_0x167f43(0x4e7)),_0xd57cf=document[_0x167f43(0x2f6)](_0x167f43(0x527));_0x2c48c0[_0x167f43(0x7a9)](_0x167f43(0x12f),()=>{const _0x45d4c3=_0x167f43;_0xd57cf[_0x45d4c3(0x97f)][_0x45d4c3(0x95b)](_0x45d4c3(0x4ba),!_0x2c48c0[_0x45d4c3(0x3a8)]);});const _0x23ea5e=document['getElementById'](_0x167f43(0x9d8)),_0x12775e=document[_0x167f43(0x2f6)](_0x167f43(0x28d));_0x23ea5e[_0x167f43(0x7a9)](_0x167f43(0x12f),()=>{const _0x3e28f1=_0x167f43;_0x12775e[_0x3e28f1(0x97f)][_0x3e28f1(0x95b)](_0x3e28f1(0x4ba),!_0x23ea5e[_0x3e28f1(0x3a8)]);});const _0x496083=document[_0x167f43(0x2f6)](_0x167f43(0x312)),_0x2aaba2=document['getElementById']('modal-confidence-mode-container');_0x496083[_0x167f43(0x7a9)](_0x167f43(0x12f),()=>{const _0x1ee9d9=_0x167f43;_0x2aaba2[_0x1ee9d9(0x97f)][_0x1ee9d9(0x95b)](_0x1ee9d9(0x4ba),!_0x496083[_0x1ee9d9(0x3a8)]);});const _0x422f81=document[_0x167f43(0x2f6)](_0x167f43(0x533)),_0x27516a=async _0x11566c=>{const _0x182bca=_0x167f43,_0x4022ca=document['getElementById']('confidence-modal'),_0x149ffa=_0x4022ca[_0x182bca(0x7c7)][_0x182bca(0x5f7)],_0x4a285d=document[_0x182bca(0x2f6)](_0x182bca(0x75d));_0x4022ca[_0x182bca(0x97f)][_0x182bca(0x218)](_0x182bca(0x4ba));if(_0x149ffa===_0x182bca(0x3bd)){const _0x62b7b5=_0x4a285d['value'],_0x7c0927={'answer':_0x62b7b5,'wasConfident':_0x11566c};proceedToNextQuestion(_0x7c0927);}else{if(_0x149ffa===_0x182bca(0x69f)){const _0x33474b=_0x4a285d[_0x182bca(0x7c7)][_0x182bca(0x838)],_0x1b343f=JSON[_0x182bca(0x975)](_0x4a285d[_0x182bca(0x7c7)][_0x182bca(0x6dc)]),_0x582c2e=JSON['parse'](_0x4a285d['dataset'][_0x182bca(0x5f3)]),_0x19e6ef=_0x4a285d['dataset'][_0x182bca(0x7b0)];handleSyncAnswerSubmit(_0x33474b,_0x1b343f,_0x582c2e,_0x19e6ef,_0x11566c);}}_0x4022ca[_0x182bca(0x7c7)][_0x182bca(0x5f7)]='';};document[_0x167f43(0x2f6)]('confirm-confident')['addEventListener'](_0x167f43(0x911),()=>_0x27516a(!![])),document[_0x167f43(0x2f6)](_0x167f43(0x3f6))['addEventListener']('click',()=>_0x27516a(![])),liveGameView['addEventListener'](_0x167f43(0x911),_0x1e22d4=>{const _0x338d8f=_0x167f43,_0x29c0e3=_0x1e22d4[_0x338d8f(0x4d5)]['closest'](_0x338d8f(0x3fe));if(_0x29c0e3){const _0x4ca3f4=_0x29c0e3[_0x338d8f(0x7c7)][_0x338d8f(0x7b0)];_0x4ca3f4&&handleKickPlayerSync(_0x4ca3f4);}});const _0x1b602c=document['getElementById'](_0x167f43(0x43d)),_0x2dccee=document[_0x167f43(0x2f6)]('cancel-game-start-btn');_0x2dccee[_0x167f43(0x7a9)]('click',()=>{const _0x2005be=_0x167f43;document['getElementById'](_0x2005be(0xa3b))[_0x2005be(0x97f)]['add'](_0x2005be(0x4ba));}),_0x1b602c[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x5d07af=_0x167f43,_0x3cefea=document[_0x5d07af(0x2f6)]('game-start-quiz-id')[_0x5d07af(0x6b0)],_0x5a9f14=document['getElementById'](_0x5d07af(0x23c))[_0x5d07af(0x6b0)],_0x1c1684=document['getElementById'](_0x5d07af(0x311))['checked'];document[_0x5d07af(0x2f6)]('confirm-game-start-modal')[_0x5d07af(0x97f)][_0x5d07af(0x218)](_0x5d07af(0x4ba));switch(_0x5a9f14){case _0x5d07af(0x75e):handleStartLiveRace(_0x3cefea,_0x1c1684);break;case _0x5d07af(0x8e6):handleStartTeamQuiz(_0x3cefea,_0x1c1684);break;case _0x5d07af(0x5d8):handleStartGroupMode(_0x3cefea,_0x1c1684);break;case _0x5d07af(0x69f):handleStartSyncMode(_0x3cefea,_0x1c1684);break;}}),document[_0x167f43(0x2f6)]('join-group-activity-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),handleJoinGroupActivity),liveGameView['addEventListener'](_0x167f43(0x911),_0x1f3248=>{const _0x51771d=_0x167f43,_0x3c7186=_0x1f3248[_0x51771d(0x4d5)]['closest'](_0x51771d(0xa06));document['querySelectorAll'](_0x51771d(0x72d))[_0x51771d(0x87f)](_0x31bf0c=>{const _0x4d5db2=_0x51771d;(!_0x3c7186||_0x31bf0c['id']!==_0x3c7186[_0x4d5db2(0x7c7)][_0x4d5db2(0x5d5)])&&_0x31bf0c['classList'][_0x4d5db2(0x8b7)](_0x4d5db2(0x785));});if(!_0x3c7186)return;const _0x28ed72=_0x3c7186[_0x51771d(0x7c7)][_0x51771d(0x5d5)],_0x297399=document[_0x51771d(0x2f6)](_0x28ed72);_0x297399&&_0x297399[_0x51771d(0x97f)][_0x51771d(0x95b)]('visible');}),liveGameView[_0x167f43(0x7a9)](_0x167f43(0x911),_0x369c21=>{const _0x53ac9e=_0x167f43;if(_0x369c21[_0x53ac9e(0x4d5)][_0x53ac9e(0x97f)][_0x53ac9e(0x632)](_0x53ac9e(0x71f))){const _0x3d51a9=_0x369c21[_0x53ac9e(0x4d5)][_0x53ac9e(0x7c7)][_0x53ac9e(0x7b0)];_0x3d51a9&&handleKickPlayer(_0x3d51a9);}}),document[_0x167f43(0x2f6)]('project-title')[_0x167f43(0x7a9)]('focus',()=>document['getElementById']('save-project-name-btn')[_0x167f43(0x97f)][_0x167f43(0x8b7)](_0x167f43(0x4ba))),document['getElementById'](_0x167f43(0xa4f))[_0x167f43(0x7a9)](_0x167f43(0x911),handleSaveProjectName),document['getElementById']('project-title')[_0x167f43(0x7a9)](_0x167f43(0x803),_0x3c7db6=>{const _0x4ea354=_0x167f43;_0x3c7db6[_0x4ea354(0x2af)]===_0x4ea354(0x6f3)&&(_0x3c7db6[_0x4ea354(0x167)](),_0x3c7db6[_0x4ea354(0x4d5)]['blur'](),handleSaveProjectName());}),document['getElementById'](_0x167f43(0x6b5))['addEventListener'](_0x167f43(0x911),()=>{const _0x16ad85=_0x167f43;document[_0x16ad85(0x2f6)]('bulk-quiz-settings-modal')[_0x16ad85(0x97f)]['remove']('hidden');}),document[_0x167f43(0x2f6)](_0x167f43(0x370))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x512d78=_0x167f43;document['getElementById'](_0x512d78(0x5df))['classList'][_0x512d78(0x218)](_0x512d78(0x4ba));}),document['getElementById'](_0x167f43(0x5d4))[_0x167f43(0x7a9)]('click',handleBulkUpdateQuizSettings),document[_0x167f43(0x2f6)](_0x167f43(0x76c))[_0x167f43(0x7a9)](_0x167f43(0x911),handleModeSwitch),document[_0x167f43(0x2f6)](_0x167f43(0x878))[_0x167f43(0x7a9)](_0x167f43(0x911),handleUpdateOldQuizzes),document[_0x167f43(0x2f6)](_0x167f43(0x445))[_0x167f43(0x7a9)]('click',handleResetProjectOrder),document['getElementById'](_0x167f43(0x5d1))['addEventListener'](_0x167f43(0x911),handleSaveVisibilitySettings),document[_0x167f43(0x2f6)](_0x167f43(0x7e7))[_0x167f43(0x7a9)](_0x167f43(0x911),handleAddCustomMathTopic),document[_0x167f43(0x2f6)](_0x167f43(0x6e2))[_0x167f43(0x7a9)](_0x167f43(0x911),handleSelectAllTopics),document['getElementById'](_0x167f43(0x175))[_0x167f43(0x7a9)](_0x167f43(0x911),handleDeselectAllTopics),document[_0x167f43(0x2f6)](_0x167f43(0x36b))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x58baf9=_0x167f43;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x58baf9(0x6ca));}),document[_0x167f43(0x2f6)](_0x167f43(0x965))['addEventListener'](_0x167f43(0x911),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document[_0x167f43(0x2f6)](_0x167f43(0x401))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x1fd30c=_0x167f43;showView(_0x1fd30c(0x6ca));}),document[_0x167f43(0x2f6)](_0x167f43(0x48e))['addEventListener'](_0x167f43(0x911),()=>{const _0x3f4965=_0x167f43;messageModal[_0x3f4965(0x97f)][_0x3f4965(0x218)](_0x3f4965(0x4ba)),typeof modalConfirmAction===_0x3f4965(0x457)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x167f43(0x2f6)](_0x167f43(0x41c))['addEventListener'](_0x167f43(0x911),()=>createProjectModal[_0x167f43(0x97f)]['remove'](_0x167f43(0x4ba))),document[_0x167f43(0x2f6)](_0x167f43(0x13a))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>createProjectModal['classList'][_0x167f43(0x218)](_0x167f43(0x4ba))),document[_0x167f43(0x2f6)](_0x167f43(0x451))['addEventListener']('click',()=>adminPasswordModal[_0x167f43(0x97f)][_0x167f43(0x218)](_0x167f43(0x4ba))),document[_0x167f43(0x2f6)](_0x167f43(0x377))[_0x167f43(0x7a9)]('click',handleAdminLogin),document['getElementById'](_0x167f43(0x807))[_0x167f43(0x7a9)]('keyup',_0x31659e=>{const _0x40bf3b=_0x167f43;if(_0x31659e[_0x40bf3b(0x2af)]===_0x40bf3b(0x6f3))handleAdminLogin();}),document['getElementById']('cancel-delete-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x433814=_0x167f43;confirmationModal['classList'][_0x433814(0x218)]('hidden'),confirmAction=null;}),document['getElementById'](_0x167f43(0x5c5))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x401c28=_0x167f43;confirmAction&&confirmAction(),confirmationModal[_0x401c28(0x97f)][_0x401c28(0x218)]('hidden'),confirmAction=null;}),document['getElementById']('cancel-rename-quiz-btn')[_0x167f43(0x7a9)]('click',()=>renameQuizModal['classList'][_0x167f43(0x218)]('hidden')),document[_0x167f43(0x2f6)]('confirm-rename-quiz-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),confirmRenameQuiz),document[_0x167f43(0x2f6)](_0x167f43(0x185))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>moveQuizModal['classList'][_0x167f43(0x218)](_0x167f43(0x4ba))),document[_0x167f43(0x2f6)](_0x167f43(0x984))[_0x167f43(0x7a9)](_0x167f43(0x911),confirmMoveQuiz),document[_0x167f43(0x2f6)](_0x167f43(0x78d))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>quizSettingsModal[_0x167f43(0x97f)]['add'](_0x167f43(0x4ba))),document[_0x167f43(0x2f6)]('confirm-quiz-settings-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),confirmQuizSettings),document[_0x167f43(0x2f6)](_0x167f43(0x1df))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>quizStatusModal[_0x167f43(0x97f)]['add'](_0x167f43(0x4ba))),document['getElementById']('confirm-quiz-status-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),confirmQuizStatus);const _0x5d0373=document[_0x167f43(0x2f6)](_0x167f43(0x8cd));document[_0x167f43(0x2f6)]('cancel-export-pdf-btn')['addEventListener'](_0x167f43(0x911),()=>{const _0xc0b55d=_0x167f43;_0x5d0373[_0xc0b55d(0x97f)][_0xc0b55d(0x218)](_0xc0b55d(0x4ba));}),document[_0x167f43(0x2f6)]('export-compact-pdf-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),async()=>{const _0x4177d8=_0x167f43,_0x5f5c89=allQuizzes['find'](_0x1d0e02=>_0x1d0e02['id']===actionTargetId);_0x5f5c89?(currentQuizData=_0x5f5c89,exportQuizAsWorksheetPDF()):showMessage(_0x4177d8(0x8bd)),_0x5d0373[_0x4177d8(0x97f)][_0x4177d8(0x218)](_0x4177d8(0x4ba));}),document['getElementById'](_0x167f43(0x3b6))['addEventListener'](_0x167f43(0x911),async()=>{const _0x432539=_0x167f43,_0x8c0014=allQuizzes[_0x432539(0x8dc)](_0x7284ec=>_0x7284ec['id']===actionTargetId);_0x8c0014?(currentQuizData=_0x8c0014,exportQuizAsTutorPDF()):showMessage(_0x432539(0x8bd)),_0x5d0373[_0x432539(0x97f)][_0x432539(0x218)](_0x432539(0x4ba));}),document[_0x167f43(0x2f6)](_0x167f43(0x1eb))['addEventListener'](_0x167f43(0x911),openGlobalLiveModal),document[_0x167f43(0x2f6)](_0x167f43(0x8ba))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x7254ef=_0x167f43;document[_0x7254ef(0x2f6)](_0x7254ef(0x9ac))[_0x7254ef(0x97f)][_0x7254ef(0x218)](_0x7254ef(0x4ba)),selectedGlobalQuizId=null;}),document[_0x167f43(0x2f6)](_0x167f43(0xa2b))[_0x167f43(0x7a9)](_0x167f43(0x508),_0x1bd019=>renderGlobalQuizList(_0x1bd019[_0x167f43(0x4d5)][_0x167f43(0x6b0)])),document[_0x167f43(0x2f6)](_0x167f43(0x22e))['addEventListener']('click',()=>{const _0x9553d9=_0x167f43,_0x4aff0a=selectedGlobalQuizId;if(!_0x4aff0a)return;document[_0x9553d9(0x2f6)](_0x9553d9(0x9ac))[_0x9553d9(0x97f)][_0x9553d9(0x218)]('hidden'),handleStartLiveRace(_0x4aff0a);}),document[_0x167f43(0x2f6)]('project-search-input')[_0x167f43(0x7a9)]('input',renderProjects),document[_0x167f43(0x2f6)](_0x167f43(0x88e))[_0x167f43(0x7a9)](_0x167f43(0x12f),async()=>{const _0x18ad36=_0x167f43,_0x4d15db=document['getElementById'](_0x18ad36(0x88e))[_0x18ad36(0x6b0)],_0x57cc43=doc(db,_0x18ad36(0x685),_0x18ad36(0x5dd));try{await setDoc(_0x57cc43,{'projectSort':_0x4d15db},{'merge':!![]});}catch(_0x14f5fb){console[_0x18ad36(0x4e5)](_0x18ad36(0x7c9),_0x14f5fb),showMessage(_0x18ad36(0x452));}}),document['getElementById'](_0x167f43(0x98b))['addEventListener'](_0x167f43(0x508),renderQuizzes),document[_0x167f43(0x2f6)]('grid-view-btn')[_0x167f43(0x7a9)]('click',()=>{const _0x1bd028=_0x167f43;globalDashboardSettings[_0x1bd028(0x74c)]=_0x1bd028(0x778),saveUserPreference('projectView',_0x1bd028(0x778)),renderProjects();}),document['getElementById']('list-view-btn')['addEventListener'](_0x167f43(0x911),()=>{const _0x1ef51d=_0x167f43;globalDashboardSettings['projectView']='list',saveUserPreference(_0x1ef51d(0x74c),'list'),renderProjects();}),manageTab['addEventListener'](_0x167f43(0x911),()=>switchProjectTab('manage')),resultsTab['addEventListener']('click',()=>switchProjectTab(_0x167f43(0x6ae))),leaderboardTab[_0x167f43(0x7a9)](_0x167f43(0x911),()=>switchProjectTab(_0x167f43(0x163))),document[_0x167f43(0x2f6)](_0x167f43(0x383))['addEventListener'](_0x167f43(0x911),()=>switchQuizDetailTab('analytics')),document[_0x167f43(0x2f6)](_0x167f43(0x227))['addEventListener'](_0x167f43(0x911),()=>switchQuizDetailTab(_0x167f43(0x55f))),document[_0x167f43(0x2f6)]('leaderboard-quiz-tab-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x167f43(0x2f6)]('behavior-log-tab-btn')['addEventListener'](_0x167f43(0x911),()=>switchQuizDetailTab('behavior-log')),document[_0x167f43(0x2f6)]('analyze-strengths-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),handleAnalyzeClass),generateWorksheetBtn[_0x167f43(0x7a9)](_0x167f43(0x911),generateWorksheet);const _0x6a53c8=document[_0x167f43(0x2f6)](_0x167f43(0x585)),_0x47d941=document[_0x167f43(0x2f6)](_0x167f43(0x9e3)),_0x887a74=document[_0x167f43(0x2f6)](_0x167f43(0x5ac)),_0xbea37a=document[_0x167f43(0x2f6)](_0x167f43(0x394)),_0x3be90d=document[_0x167f43(0x2f6)](_0x167f43(0x843)),_0x3942ac=document[_0x167f43(0x2f6)](_0x167f43(0x2a1));topicTab[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x30ce11=_0x167f43;topicTab[_0x30ce11(0x97f)][_0x30ce11(0x218)](_0x30ce11(0x2a5)),textTab['classList'][_0x30ce11(0x8b7)](_0x30ce11(0x2a5)),fileTab['classList']['remove'](_0x30ce11(0x2a5)),worksheetTab['classList'][_0x30ce11(0x8b7)](_0x30ce11(0x2a5));if(_0x6a53c8)_0x6a53c8[_0x30ce11(0x97f)][_0x30ce11(0x8b7)](_0x30ce11(0x2a5));if(_0x887a74)_0x887a74[_0x30ce11(0x97f)][_0x30ce11(0x8b7)](_0x30ce11(0x2a5));if(_0x3be90d)_0x3be90d['classList']['remove'](_0x30ce11(0x2a5));topicInputArea['classList'][_0x30ce11(0x8b7)](_0x30ce11(0x4ba)),textInputArea[_0x30ce11(0x97f)][_0x30ce11(0x218)]('hidden'),fileInputArea[_0x30ce11(0x97f)][_0x30ce11(0x218)](_0x30ce11(0x4ba)),worksheetInputArea['classList'][_0x30ce11(0x218)]('hidden');if(_0x47d941)_0x47d941[_0x30ce11(0x97f)][_0x30ce11(0x218)](_0x30ce11(0x4ba));if(_0xbea37a)_0xbea37a[_0x30ce11(0x97f)]['add'](_0x30ce11(0x4ba));if(_0x3942ac)_0x3942ac[_0x30ce11(0x97f)][_0x30ce11(0x218)](_0x30ce11(0x4ba));}),textTab[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x5b73cf=_0x167f43;textTab[_0x5b73cf(0x97f)][_0x5b73cf(0x218)](_0x5b73cf(0x2a5)),topicTab[_0x5b73cf(0x97f)][_0x5b73cf(0x8b7)](_0x5b73cf(0x2a5)),fileTab['classList'][_0x5b73cf(0x8b7)](_0x5b73cf(0x2a5)),worksheetTab[_0x5b73cf(0x97f)][_0x5b73cf(0x8b7)]('active');if(_0x6a53c8)_0x6a53c8[_0x5b73cf(0x97f)]['remove'](_0x5b73cf(0x2a5));if(_0x887a74)_0x887a74[_0x5b73cf(0x97f)][_0x5b73cf(0x8b7)]('active');if(_0x3be90d)_0x3be90d[_0x5b73cf(0x97f)][_0x5b73cf(0x8b7)](_0x5b73cf(0x2a5));textInputArea[_0x5b73cf(0x97f)]['remove'](_0x5b73cf(0x4ba)),topicInputArea[_0x5b73cf(0x97f)][_0x5b73cf(0x218)](_0x5b73cf(0x4ba)),fileInputArea[_0x5b73cf(0x97f)][_0x5b73cf(0x218)](_0x5b73cf(0x4ba)),worksheetInputArea[_0x5b73cf(0x97f)][_0x5b73cf(0x218)]('hidden');if(_0x47d941)_0x47d941[_0x5b73cf(0x97f)]['add'](_0x5b73cf(0x4ba));if(_0xbea37a)_0xbea37a['classList'][_0x5b73cf(0x218)](_0x5b73cf(0x4ba));if(_0x3942ac)_0x3942ac[_0x5b73cf(0x97f)][_0x5b73cf(0x218)](_0x5b73cf(0x4ba));}),fileTab[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x1b05c1=_0x167f43;fileTab['classList'][_0x1b05c1(0x218)](_0x1b05c1(0x2a5)),topicTab[_0x1b05c1(0x97f)]['remove']('active'),textTab[_0x1b05c1(0x97f)]['remove'](_0x1b05c1(0x2a5)),worksheetTab[_0x1b05c1(0x97f)][_0x1b05c1(0x8b7)](_0x1b05c1(0x2a5));if(_0x6a53c8)_0x6a53c8[_0x1b05c1(0x97f)][_0x1b05c1(0x8b7)](_0x1b05c1(0x2a5));if(_0x887a74)_0x887a74['classList']['remove'](_0x1b05c1(0x2a5));if(_0x3be90d)_0x3be90d['classList'][_0x1b05c1(0x8b7)](_0x1b05c1(0x2a5));fileInputArea[_0x1b05c1(0x97f)][_0x1b05c1(0x8b7)]('hidden'),topicInputArea['classList'][_0x1b05c1(0x218)]('hidden'),textInputArea[_0x1b05c1(0x97f)]['add']('hidden'),worksheetInputArea[_0x1b05c1(0x97f)][_0x1b05c1(0x218)]('hidden');if(_0x47d941)_0x47d941[_0x1b05c1(0x97f)][_0x1b05c1(0x218)](_0x1b05c1(0x4ba));if(_0xbea37a)_0xbea37a[_0x1b05c1(0x97f)]['add'](_0x1b05c1(0x4ba));if(_0x3942ac)_0x3942ac[_0x1b05c1(0x97f)][_0x1b05c1(0x218)](_0x1b05c1(0x4ba));}),worksheetTab[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x3fb506=_0x167f43;worksheetTab[_0x3fb506(0x97f)][_0x3fb506(0x218)](_0x3fb506(0x2a5)),topicTab[_0x3fb506(0x97f)][_0x3fb506(0x8b7)](_0x3fb506(0x2a5)),textTab['classList'][_0x3fb506(0x8b7)](_0x3fb506(0x2a5)),fileTab[_0x3fb506(0x97f)]['remove'](_0x3fb506(0x2a5));if(_0x6a53c8)_0x6a53c8['classList'][_0x3fb506(0x8b7)]('active');if(_0x887a74)_0x887a74[_0x3fb506(0x97f)][_0x3fb506(0x8b7)](_0x3fb506(0x2a5));if(_0x3be90d)_0x3be90d[_0x3fb506(0x97f)]['remove']('active');worksheetInputArea[_0x3fb506(0x97f)][_0x3fb506(0x8b7)](_0x3fb506(0x4ba)),topicInputArea[_0x3fb506(0x97f)]['add'](_0x3fb506(0x4ba)),textInputArea[_0x3fb506(0x97f)][_0x3fb506(0x218)]('hidden'),fileInputArea[_0x3fb506(0x97f)][_0x3fb506(0x218)](_0x3fb506(0x4ba));if(_0x47d941)_0x47d941[_0x3fb506(0x97f)][_0x3fb506(0x218)](_0x3fb506(0x4ba));if(_0xbea37a)_0xbea37a['classList']['add'](_0x3fb506(0x4ba));if(_0x3942ac)_0x3942ac[_0x3fb506(0x97f)][_0x3fb506(0x218)](_0x3fb506(0x4ba));});const _0x3effba=document[_0x167f43(0x2f6)]('bank-tab'),_0x11fe1d=document[_0x167f43(0x2f6)](_0x167f43(0x214));_0x3effba&&_0x3effba['addEventListener'](_0x167f43(0x911),()=>{const _0x12d63b=_0x167f43;topicTab[_0x12d63b(0x97f)][_0x12d63b(0x8b7)](_0x12d63b(0x2a5)),textTab['classList'][_0x12d63b(0x8b7)](_0x12d63b(0x2a5)),fileTab['classList'][_0x12d63b(0x8b7)](_0x12d63b(0x2a5)),worksheetTab['classList'][_0x12d63b(0x8b7)]('active');if(_0x6a53c8)_0x6a53c8['classList'][_0x12d63b(0x8b7)](_0x12d63b(0x2a5));if(_0x887a74)_0x887a74[_0x12d63b(0x97f)][_0x12d63b(0x8b7)](_0x12d63b(0x2a5));if(_0x3be90d)_0x3be90d['classList'][_0x12d63b(0x8b7)](_0x12d63b(0x2a5));_0x3effba[_0x12d63b(0x97f)][_0x12d63b(0x218)](_0x12d63b(0x2a5)),topicInputArea[_0x12d63b(0x97f)][_0x12d63b(0x218)](_0x12d63b(0x4ba)),textInputArea['classList'][_0x12d63b(0x218)](_0x12d63b(0x4ba)),fileInputArea[_0x12d63b(0x97f)][_0x12d63b(0x218)](_0x12d63b(0x4ba)),worksheetInputArea['classList']['add'](_0x12d63b(0x4ba));if(_0x47d941)_0x47d941[_0x12d63b(0x97f)][_0x12d63b(0x218)](_0x12d63b(0x4ba));if(_0xbea37a)_0xbea37a[_0x12d63b(0x97f)][_0x12d63b(0x218)]('hidden');if(_0x3942ac)_0x3942ac['classList'][_0x12d63b(0x218)](_0x12d63b(0x4ba));_0x11fe1d[_0x12d63b(0x97f)][_0x12d63b(0x8b7)]('hidden'),displayQuestionBank();});_0x6a53c8&&(_0x6a53c8['addEventListener'](_0x167f43(0x911),()=>{const _0x351319=_0x167f43;_0x6a53c8['classList'][_0x351319(0x218)](_0x351319(0x2a5)),topicTab['classList'][_0x351319(0x8b7)](_0x351319(0x2a5)),textTab[_0x351319(0x97f)][_0x351319(0x8b7)]('active'),fileTab[_0x351319(0x97f)]['remove'](_0x351319(0x2a5)),worksheetTab[_0x351319(0x97f)][_0x351319(0x8b7)](_0x351319(0x2a5));if(_0x887a74)_0x887a74[_0x351319(0x97f)]['remove']('active');if(_0x3be90d)_0x3be90d[_0x351319(0x97f)][_0x351319(0x8b7)](_0x351319(0x2a5));_0x47d941['classList'][_0x351319(0x8b7)](_0x351319(0x4ba)),topicInputArea[_0x351319(0x97f)][_0x351319(0x218)](_0x351319(0x4ba)),textInputArea[_0x351319(0x97f)]['add'](_0x351319(0x4ba)),fileInputArea[_0x351319(0x97f)][_0x351319(0x218)](_0x351319(0x4ba)),worksheetInputArea['classList'][_0x351319(0x218)](_0x351319(0x4ba));if(_0xbea37a)_0xbea37a[_0x351319(0x97f)][_0x351319(0x218)]('hidden');if(_0x3942ac)_0x3942ac['classList'][_0x351319(0x218)](_0x351319(0x4ba));}),document[_0x167f43(0x2f6)](_0x167f43(0x447))[_0x167f43(0x7a9)](_0x167f43(0x911),handleGenerateFromLink));_0x887a74&&_0x887a74[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x5d4cd0=_0x167f43;_0x887a74[_0x5d4cd0(0x97f)]['add'](_0x5d4cd0(0x2a5)),topicTab['classList']['remove'](_0x5d4cd0(0x2a5)),textTab[_0x5d4cd0(0x97f)][_0x5d4cd0(0x8b7)](_0x5d4cd0(0x2a5)),fileTab['classList'][_0x5d4cd0(0x8b7)](_0x5d4cd0(0x2a5)),worksheetTab[_0x5d4cd0(0x97f)]['remove'](_0x5d4cd0(0x2a5));if(_0x6a53c8)_0x6a53c8[_0x5d4cd0(0x97f)][_0x5d4cd0(0x8b7)]('active');if(_0x3effba)_0x3effba[_0x5d4cd0(0x97f)][_0x5d4cd0(0x8b7)]('active');if(_0x3be90d)_0x3be90d[_0x5d4cd0(0x97f)][_0x5d4cd0(0x8b7)](_0x5d4cd0(0x2a5));_0xbea37a['classList'][_0x5d4cd0(0x8b7)]('hidden'),topicInputArea[_0x5d4cd0(0x97f)][_0x5d4cd0(0x218)](_0x5d4cd0(0x4ba)),textInputArea[_0x5d4cd0(0x97f)][_0x5d4cd0(0x218)](_0x5d4cd0(0x4ba)),fileInputArea[_0x5d4cd0(0x97f)][_0x5d4cd0(0x218)]('hidden'),worksheetInputArea[_0x5d4cd0(0x97f)]['add'](_0x5d4cd0(0x4ba));if(_0x47d941)_0x47d941[_0x5d4cd0(0x97f)]['add'](_0x5d4cd0(0x4ba));if(_0x11fe1d)_0x11fe1d['classList'][_0x5d4cd0(0x218)](_0x5d4cd0(0x4ba));if(_0x3942ac)_0x3942ac['classList'][_0x5d4cd0(0x218)](_0x5d4cd0(0x4ba));});_0x3be90d&&_0x3be90d[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x3948bf=_0x167f43;_0x3be90d['classList']['add'](_0x3948bf(0x2a5)),topicTab[_0x3948bf(0x97f)][_0x3948bf(0x8b7)](_0x3948bf(0x2a5)),textTab['classList'][_0x3948bf(0x8b7)]('active'),fileTab[_0x3948bf(0x97f)][_0x3948bf(0x8b7)](_0x3948bf(0x2a5)),worksheetTab[_0x3948bf(0x97f)][_0x3948bf(0x8b7)]('active');if(_0x6a53c8)_0x6a53c8[_0x3948bf(0x97f)][_0x3948bf(0x8b7)](_0x3948bf(0x2a5));if(_0x887a74)_0x887a74['classList'][_0x3948bf(0x8b7)](_0x3948bf(0x2a5));if(_0x3effba)_0x3effba['classList'][_0x3948bf(0x8b7)]('active');_0x3942ac[_0x3948bf(0x97f)][_0x3948bf(0x8b7)]('hidden'),topicInputArea[_0x3948bf(0x97f)][_0x3948bf(0x218)](_0x3948bf(0x4ba)),textInputArea[_0x3948bf(0x97f)][_0x3948bf(0x218)]('hidden'),fileInputArea['classList'][_0x3948bf(0x218)](_0x3948bf(0x4ba)),worksheetInputArea[_0x3948bf(0x97f)][_0x3948bf(0x218)](_0x3948bf(0x4ba));if(_0x47d941)_0x47d941[_0x3948bf(0x97f)][_0x3948bf(0x218)](_0x3948bf(0x4ba));if(_0xbea37a)_0xbea37a[_0x3948bf(0x97f)][_0x3948bf(0x218)](_0x3948bf(0x4ba));if(_0x11fe1d)_0x11fe1d['classList'][_0x3948bf(0x218)](_0x3948bf(0x4ba));});const _0x1e34b4=document[_0x167f43(0x2f6)]('blueprint-upload-input'),_0x1e9607=document[_0x167f43(0x2f6)](_0x167f43(0x515));_0x1e34b4&&_0x1e34b4['addEventListener']('change',_0x2865ae=>{const _0x139aa3=_0x167f43;_0x2865ae['target'][_0x139aa3(0x6ce)][_0x139aa3(0x4f1)]>0x0?_0x1e9607['disabled']=![]:_0x1e9607[_0x139aa3(0x6bc)]=!![];});_0x1e9607&&_0x1e9607['addEventListener'](_0x167f43(0x911),handleGenerateFromBlueprint);const _0x5d6d8a=document[_0x167f43(0x2f6)](_0x167f43(0x9a7)),_0x3d90cf=document[_0x167f43(0x2f6)](_0x167f43(0x35a));_0x5d6d8a&&_0x5d6d8a['addEventListener'](_0x167f43(0x12f),_0x17f839=>{const _0xa741d3=_0x167f43;_0x3d90cf[_0xa741d3(0x6bc)]=_0x17f839[_0xa741d3(0x4d5)]['files']['length']===0x0;});_0x3d90cf&&_0x3d90cf[_0x167f43(0x7a9)](_0x167f43(0x911),handleGenerateParallelTest);loadQuizBtn[_0x167f43(0x7a9)](_0x167f43(0x911),handleLoadQuiz),startQuizBtn[_0x167f43(0x7a9)](_0x167f43(0x911),async()=>{const _0x505f57=_0x167f43,_0x4b976e=document[_0x505f57(0x2f6)](_0x505f57(0x8cb));currentStudentName=_0x4b976e[_0x505f57(0x6b0)];if(!currentStudentName){showMessage(_0x505f57(0x5d3));return;}try{const _0x4b1749=currentQuizData['id'],_0x5f26cf=doc(db,_0x505f57(0x50e)+appId+_0x505f57(0x150)+_0x4b1749+'/submissions',currentStudentName),_0x2b1c75=await getDoc(_0x5f26cf);!_0x2b1c75[_0x505f57(0x4bc)]()?await setDoc(_0x5f26cf,{'studentName':currentStudentName,'startedAt':new Date()[_0x505f57(0x9a6)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5f26cf,{'startedAt':new Date()[_0x505f57(0x9a6)]()});}catch(_0x5aba28){console[_0x505f57(0x4e5)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x5aba28),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x505f57(0x97f)][_0x505f57(0x218)](_0x505f57(0x4ba)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x167f43(0x82a))[_0x167f43(0x7a9)](_0x167f43(0x911),showJoinGameView),document['getElementById'](_0x167f43(0x7f6))[_0x167f43(0x7a9)](_0x167f43(0x911),handleJoinLiveGame),document[_0x167f43(0x2f6)](_0x167f43(0x720))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>showView(_0x167f43(0x14d)));const _0x5816e7=()=>{const _0x4dfeaa=_0x167f43,_0x53c9e9=document[_0x4dfeaa(0x2f6)]('results-quiz-title')[_0x4dfeaa(0x8c8)]['replace'](/[^a-z0-9]/gi,'_')[_0x4dfeaa(0x6a7)]();return _0x4dfeaa(0x923)+(_0x53c9e9||_0x4dfeaa(0x7db));},_0xe026cd=document['getElementById']('math-topic-search-input');_0xe026cd&&_0xe026cd['addEventListener'](_0x167f43(0x508),_0x24099b=>{const _0x4dbdcc=_0x167f43,_0x306ced=_0x24099b[_0x4dbdcc(0x4d5)][_0x4dbdcc(0x6b0)]['toLowerCase']()[_0x4dbdcc(0x48c)](),_0x442f85=document[_0x4dbdcc(0x2f6)](_0x4dbdcc(0xa0e)),_0x32935b=_0x442f85[_0x4dbdcc(0xa09)]('.topic-category');_0x32935b[_0x4dbdcc(0x87f)](_0x165017=>{const _0x1a2e6a=_0x4dbdcc;let _0x175ab1=![];const _0x4b9ea2=_0x165017['querySelectorAll'](_0x1a2e6a(0x559));_0x4b9ea2[_0x1a2e6a(0x87f)](_0x446909=>{const _0x1e2f4d=_0x1a2e6a,_0x1c0053=_0x446909[_0x1e2f4d(0x70d)](_0x1e2f4d(0x41f))[_0x1e2f4d(0x8c8)]['toLowerCase']();_0x1c0053[_0x1e2f4d(0x12a)](_0x306ced)?(_0x446909[_0x1e2f4d(0x7c1)]['display']='flex',_0x175ab1=!![]):_0x446909[_0x1e2f4d(0x7c1)][_0x1e2f4d(0x72f)]=_0x1e2f4d(0x929);}),_0x175ab1?_0x165017[_0x1a2e6a(0x7c1)]['display']='block':_0x165017[_0x1a2e6a(0x7c1)][_0x1a2e6a(0x72f)]='none';});});document['getElementById'](_0x167f43(0x24f))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>exportTableAsImage(_0x167f43(0x808),_0x5816e7())),document['getElementById'](_0x167f43(0x58a))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>exportTableAsPDF(_0x167f43(0x823),_0x5816e7())),document['getElementById'](_0x167f43(0x186))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>exportTableAsWord(_0x167f43(0x808),_0x5816e7())),document['getElementById']('export-excel-btn')['addEventListener'](_0x167f43(0x911),()=>exportTableAsExcel(_0x167f43(0x823),_0x5816e7()));const _0x8b715=()=>{const _0xd08e1f=_0x167f43,_0x1532f4=document[_0xd08e1f(0x2f6)](_0xd08e1f(0x21e))[_0xd08e1f(0x8c8)]['replace'](/[^a-z0-9]/gi,'_')[_0xd08e1f(0x6a7)]();return'leaderboard_'+(_0x1532f4||_0xd08e1f(0x7db));};document[_0x167f43(0x2f6)]('export-leaderboard-image-btn')[_0x167f43(0x7a9)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x8b715())),document['getElementById']('export-leaderboard-pdf-btn')['addEventListener'](_0x167f43(0x911),()=>exportTableAsPDF(_0x167f43(0x496),_0x8b715())),document['getElementById'](_0x167f43(0x80e))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>exportTableAsWord(_0x167f43(0x752),_0x8b715())),document[_0x167f43(0x2f6)]('export-leaderboard-excel-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),()=>exportTableAsExcel(_0x167f43(0x496),_0x8b715())),projectQuizzesList['addEventListener']('click',async _0x5ae70e=>{const _0x1f8925=_0x167f43,_0x4aa008=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x90a)),_0x2f30c4=_0x5ae70e['target'][_0x1f8925(0x4e4)](_0x1f8925(0x12c)),_0x46ed80=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x89c)),_0x40e276=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x88d)),_0x23f4c7=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)]('.star-quiz-btn'),_0x5f4203=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x6c3)),_0x14ee40=_0x5ae70e[_0x1f8925(0x4d5)]['closest'](_0x1f8925(0x4be)),_0x3973de=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x84f)),_0x15758c=_0x5ae70e[_0x1f8925(0x4d5)]['closest'](_0x1f8925(0x550)),_0xc7525=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x4c9)),_0x114ba3=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x415)),_0x76cef0=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x635)),_0x35e328=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x87e)),_0x11e2a7=_0x5ae70e['target'][_0x1f8925(0x4e4)](_0x1f8925(0x56b)),_0x329c0a=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x329)),_0x525b69=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x3a0)),_0xa85b6d=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x554)),_0x9a2409=_0x5ae70e[_0x1f8925(0x4d5)]['closest'](_0x1f8925(0x3ed)),_0x352ba2=_0x5ae70e[_0x1f8925(0x4d5)]['closest'](_0x1f8925(0x5d0)),_0x18b8a9=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x6f0)),_0x4db66e=_0x5ae70e[_0x1f8925(0x4d5)][_0x1f8925(0x4e4)](_0x1f8925(0x4ab)),_0x38390f=_0x5ae70e['target']['closest'](_0x1f8925(0x8d7)),_0x486cdd=_0x5ae70e['target'][_0x1f8925(0x4e4)](_0x1f8925(0x9e9));if(_0x38390f){const _0x4084a0=_0x38390f[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)],_0x3968c0=_0x38390f[_0x1f8925(0x7c7)][_0x1f8925(0x837)],_0x1c44f0=allQuizzes[_0x1f8925(0x8dc)](_0x29de4a=>_0x29de4a['id']===_0x4084a0);_0x1c44f0&&showGameStartConfirmationModal(_0x4084a0,_0x3968c0,_0x1c44f0[_0x1f8925(0x6a6)]);}else{if(_0x486cdd){const _0x585b7c=_0x486cdd['dataset'][_0x1f8925(0x8a9)];handleStartLiveRace(_0x585b7c);}else{if(_0x18b8a9){const _0xe48a02=_0x18b8a9[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)],_0xb1610e=document['getElementById'](_0x1f8925(0x16f)+_0xe48a02);_0xb1610e&&_0xb1610e[_0x1f8925(0x97f)][_0x1f8925(0x95b)](_0x1f8925(0x4ba));}else{if(_0x2f30c4){const _0xaf43bd=_0x2f30c4['dataset'][_0x1f8925(0x8a9)],_0xb5d45f=allQuizzes['find'](_0x3214c6=>_0x3214c6['id']===_0xaf43bd);_0xb5d45f&&handleGenerateParallelPostTest(_0xb5d45f);}else{if(_0x46ed80)handleCompareResults(_0x46ed80[_0x1f8925(0x7c7)]['quizId'],_0x46ed80[_0x1f8925(0x7c7)][_0x1f8925(0x58c)]);else{if(_0x40e276){const _0x52fb1d=_0x40e276[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)],_0x414525=allQuizzes[_0x1f8925(0x8dc)](_0x40f0a8=>_0x40f0a8['id']===_0x52fb1d);_0x414525&&_0x414525[_0x1f8925(0x9f7)]?(displayLessonPlan(_0x414525[_0x1f8925(0x9f7)],_0x414525),showConfirmation(_0x1f8925(0xa4d),()=>handleGenerateLessonPlan(_0x52fb1d)),document['getElementById'](_0x1f8925(0x242))['querySelector']('h3')['textContent']=_0x1f8925(0x751),document[_0x1f8925(0x2f6)](_0x1f8925(0x5c5))[_0x1f8925(0x8c8)]='สร้างใหม่'):handleGenerateLessonPlan(_0x52fb1d);}else{if(_0x23f4c7)handleToggleStarQuiz(_0x23f4c7[_0x1f8925(0x7c7)]['quizId']);else{if(_0x5f4203)copyTextToClipboard(_0x5f4203[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)],_0x1f8925(0x28a));else{if(_0x14ee40)handleOpenQuizEditor(_0x14ee40[_0x1f8925(0x7c7)]['quizId']);else{if(_0x3973de)handleQuizSettings(_0x3973de[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)]);else{if(_0x15758c)handleDuplicateQuiz(_0x15758c[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)]);else{if(_0xc7525)handleRenameQuiz(_0xc7525[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)],_0xc7525[_0x1f8925(0x7c7)][_0x1f8925(0x6a6)]);else{if(_0x114ba3){const _0x27ff88=_0x114ba3[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)],_0x464451=allQuizzes[_0x1f8925(0x8dc)](_0x148a21=>_0x148a21['id']===_0x27ff88);_0x464451&&handleGenerateParallelFromBank(_0x464451);}else{if(_0x76cef0)handleMoveQuiz(_0x76cef0['dataset'][_0x1f8925(0x8a9)]);else{if(_0x35e328)handleManualQuizPairing(_0x35e328[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)]);else{if(_0x11e2a7)handleUnpairQuiz(_0x11e2a7[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)]);else{if(_0x329c0a){const _0x41fa2c=_0x329c0a['dataset'][_0x1f8925(0x8a9)],_0xd0c05c=allQuizzes[_0x1f8925(0x8dc)](_0x266481=>_0x266481['id']===_0x41fa2c);if(_0xd0c05c)startPresentation(_0xd0c05c);}else{if(_0x525b69){const _0x4fe12d=_0x525b69[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)],_0x179583=allQuizzes[_0x1f8925(0x8dc)](_0x46aa9c=>_0x46aa9c['id']===_0x4fe12d);_0x179583&&(currentQuizData=_0x179583,startAdminTest());}else{if(_0xa85b6d)actionTargetId=_0xa85b6d['dataset'][_0x1f8925(0x8a9)],document['getElementById'](_0x1f8925(0x8cd))[_0x1f8925(0x97f)]['remove'](_0x1f8925(0x4ba));else{if(_0x9a2409)showConfirmation(_0x1f8925(0x490)+_0x9a2409[_0x1f8925(0x7c7)][_0x1f8925(0x6a6)]+_0x1f8925(0x282),()=>handleDeleteQuiz(_0x9a2409[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)]));else{if(_0x352ba2)handleQuizStatus(_0x352ba2[_0x1f8925(0x7c7)][_0x1f8925(0x8a9)]);else{if(_0x4db66e)handleGenerateEasyVersionQuiz(_0x4db66e['dataset'][_0x1f8925(0x8a9)]);else _0x4aa008&&showQuizDetailView(_0x4aa008['dataset'][_0x1f8925(0x8a9)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x167f43(0x2f6)](_0x167f43(0x157))['addEventListener'](_0x167f43(0x911),()=>showView(_0x167f43(0x14d))),document['getElementById'](_0x167f43(0x760))[_0x167f43(0x7a9)]('click',confirmAndStartTeamQuiz),document[_0x167f43(0x2f6)](_0x167f43(0x496))[_0x167f43(0x70d)](_0x167f43(0x481))['addEventListener']('click',_0x2df19c=>{const _0x1e34bf=_0x167f43,_0x4ba16a=_0x2df19c[_0x1e34bf(0x4d5)][_0x1e34bf(0x4e4)](_0x1e34bf(0x244));if(!_0x4ba16a||!_0x4ba16a[_0x1e34bf(0x7c7)][_0x1e34bf(0x933)])return;const _0x2a20c3=_0x4ba16a['dataset'][_0x1e34bf(0x933)];if(quizLeaderboardSortBy===_0x2a20c3)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x1e34bf(0x1a0)?_0x1e34bf(0x8c1):'asc';else{quizLeaderboardSortBy=_0x2a20c3;const _0xfa81df=[_0x1e34bf(0xa63)];quizLeaderboardSortOrder=_0xfa81df['includes'](_0x2a20c3)?_0x1e34bf(0x1a0):_0x1e34bf(0x8c1);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x1e34bf(0x9b2));}),document[_0x167f43(0x2f6)]('close-presentation-btn')['addEventListener'](_0x167f43(0x911),closePresentation),document[_0x167f43(0x2f6)](_0x167f43(0x517))['addEventListener'](_0x167f43(0x911),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x167f43(0x2f6)](_0x167f43(0xa5f))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x15b8d1=_0x167f43;currentQuizData[_0x15b8d1(0x7d4)]&&currentPresentationSlide<currentQuizData['questions'][_0x15b8d1(0x4f1)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x167f43(0x7a9)](_0x167f43(0x54f),()=>{const _0x3f9e3a=_0x167f43;!document['fullscreenElement']&&(presentationModal[_0x3f9e3a(0x7c1)][_0x3f9e3a(0x72f)]=_0x3f9e3a(0x929));}),document[_0x167f43(0x2f6)]('delete-all-students-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),handleDeleteAllStudents),studentList[_0x167f43(0x7a9)](_0x167f43(0x911),_0x1a6969=>{const _0x4262c3=_0x167f43,_0x46d8a3=_0x1a6969['target'][_0x4262c3(0x4e4)](_0x4262c3(0x856));if(_0x46d8a3){const _0x25162a=_0x46d8a3[_0x4262c3(0x7c7)][_0x4262c3(0xa63)];handleDeleteStudent(_0x25162a);}}),document['getElementById']('generate-from-file-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),handleGenerateFromFileClick),fileUploadInput[_0x167f43(0x7a9)](_0x167f43(0x12f),_0x4dcd38=>{const _0xceac8d=_0x167f43,_0x713940=_0x4dcd38[_0xceac8d(0x4d5)][_0xceac8d(0x6ce)][0x0],_0x16cf2d=document[_0xceac8d(0x2f6)](_0xceac8d(0x57b));_0x713940?(selectedFile=_0x713940,_0x16cf2d[_0xceac8d(0x6bc)]=![]):(selectedFile=null,_0x16cf2d[_0xceac8d(0x6bc)]=!![]);}),document[_0x167f43(0x2f6)](_0x167f43(0xa6f))['addEventListener'](_0x167f43(0x12f),_0x8819c8=>{const _0x5c7280=_0x167f43,_0x207bf6=document['getElementById']('timer-duration-container'),_0x3ea1e1=document[_0x5c7280(0x2f6)]('timer-duration-label'),_0x265fa9=document[_0x5c7280(0x2f6)](_0x5c7280(0x9ce));_0x8819c8[_0x5c7280(0x4d5)][_0x5c7280(0x6b0)]===_0x5c7280(0x929)?_0x207bf6['classList']['add']('hidden'):(_0x207bf6[_0x5c7280(0x97f)]['remove'](_0x5c7280(0x4ba)),_0x8819c8[_0x5c7280(0x4d5)]['value']===_0x5c7280(0x4b9)?(_0x3ea1e1[_0x5c7280(0x8c8)]=_0x5c7280(0x27c),_0x265fa9[_0x5c7280(0x6b0)]='10'):(_0x3ea1e1['textContent']=_0x5c7280(0x3f9),_0x265fa9[_0x5c7280(0x6b0)]='30'));}),document[_0x167f43(0x2f6)](_0x167f43(0x3bf))[_0x167f43(0x7a9)](_0x167f43(0x12f),_0x27650d=>{const _0x132c09=_0x167f43,_0x59bb19=document[_0x132c09(0x2f6)](_0x132c09(0x5c4)),_0x3b910e=_0x27650d[_0x132c09(0x4d5)][_0x132c09(0x6b0)],_0x5a6c5e=document[_0x132c09(0x70d)]('label[for=\x22num-questions\x22]'),_0x3b5e6d=document[_0x132c09(0x2f6)](_0x132c09(0x7b5)),_0x1d7c89=document[_0x132c09(0x2f6)](_0x132c09(0x99f));_0x3b910e==='matching'?_0x5a6c5e[_0x132c09(0x8c8)]=_0x132c09(0x24b):_0x5a6c5e[_0x132c09(0x8c8)]=_0x132c09(0x607),_0x3b910e==='multiple_choice'||_0x3b910e===_0x132c09(0x893)||_0x3b910e===_0x132c09(0x3f8)?_0x59bb19[_0x132c09(0x97f)]['remove'](_0x132c09(0x4ba)):_0x59bb19[_0x132c09(0x97f)][_0x132c09(0x218)](_0x132c09(0x4ba)),_0x3b5e6d[_0x132c09(0x5c8)]=_0x1d7c89[_0x132c09(0x6b0)];}),document[_0x167f43(0x2f6)]('num-questions')[_0x167f43(0x7a9)](_0x167f43(0x508),_0x3d6f0f=>{const _0x147904=_0x167f43;document[_0x147904(0x2f6)](_0x147904(0x7b5))[_0x147904(0x5c8)]=_0x3d6f0f[_0x147904(0x4d5)][_0x147904(0x6b0)];}),document['getElementById'](_0x167f43(0x6f5))[_0x167f43(0x7a9)](_0x167f43(0x12f),_0x53f81c=>{const _0x20d8b5=_0x167f43,_0x3f89a3=document[_0x20d8b5(0x2f6)](_0x20d8b5(0x398)),_0x42df91=document[_0x20d8b5(0x2f6)](_0x20d8b5(0x5d2)),_0x1a941f=document['getElementById'](_0x20d8b5(0x1bd));_0x53f81c[_0x20d8b5(0x4d5)][_0x20d8b5(0x6b0)]==='none'?_0x3f89a3[_0x20d8b5(0x97f)]['add'](_0x20d8b5(0x4ba)):(_0x3f89a3[_0x20d8b5(0x97f)][_0x20d8b5(0x8b7)]('hidden'),_0x53f81c[_0x20d8b5(0x4d5)][_0x20d8b5(0x6b0)]===_0x20d8b5(0x4b9)?_0x42df91[_0x20d8b5(0x8c8)]='ระยะเวลา\x20(นาที):':_0x42df91[_0x20d8b5(0x8c8)]='ระยะเวลา\x20(วินาที):');}),document['getElementById'](_0x167f43(0x482))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0xb81137=_0x167f43;document[_0xb81137(0x2f6)]('quiz-editor-modal')[_0xb81137(0x97f)][_0xb81137(0x218)](_0xb81137(0x4ba));}),document[_0x167f43(0x2f6)]('cancel-quiz-edits-btn-footer')[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0xe95579=_0x167f43;document['getElementById'](_0xe95579(0x1e1))['classList'][_0xe95579(0x218)]('hidden');}),document[_0x167f43(0x2f6)](_0x167f43(0x545))['addEventListener'](_0x167f43(0x911),handleVerifyAnswersInEditor),document[_0x167f43(0x2f6)](_0x167f43(0x454))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x25a44c=_0x167f43;document[_0x25a44c(0x2f6)](_0x25a44c(0x1e1))[_0x25a44c(0x97f)][_0x25a44c(0x218)](_0x25a44c(0x4ba)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x167f43(0x2f6)](_0x167f43(0x461))[_0x167f43(0x7a9)]('click',handleAutoFixLatex);const _0x2881b8=document[_0x167f43(0x2f6)](_0x167f43(0x392));_0x2881b8&&_0x2881b8[_0x167f43(0x7a9)]('click',_0x106717=>{const _0x167c17=_0x167f43,_0x806f36=_0x106717[_0x167c17(0x4d5)]['closest'](_0x167c17(0xa33)),_0x297907=_0x106717['target'][_0x167c17(0x4e4)](_0x167c17(0x8cf));if(_0x806f36){const _0x2ac04d=_0x806f36['closest']('.question-editor-item'),_0x1e71b0=parseInt(_0x2ac04d['dataset'][_0x167c17(0x57c)],0xa);handleRegenerateQuestionInEditor(_0x1e71b0);}else{if(_0x297907){const _0x1184a1=_0x297907['closest']('.question-editor-item'),_0x28f3c8=parseInt(_0x1184a1['dataset']['qIndex'],0xa);handleAiFixFormula(_0x28f3c8);}}});document[_0x167f43(0x2f6)](_0x167f43(0x3a7))['addEventListener'](_0x167f43(0x911),openQuizBankModal),document[_0x167f43(0x2f6)]('cancel-quiz-bank-btn')['addEventListener']('click',()=>{const _0x222a3b=_0x167f43;document[_0x222a3b(0x2f6)](_0x222a3b(0x8c4))[_0x222a3b(0x97f)][_0x222a3b(0x218)](_0x222a3b(0x4ba));}),document[_0x167f43(0x2f6)](_0x167f43(0x2d5))['addEventListener']('input',_0x5caddb=>renderQuizBankList(_0x5caddb[_0x167f43(0x4d5)][_0x167f43(0x6b0)]));const _0x37b1f1=document[_0x167f43(0x2f6)]('math-topics-checkbox-container');if(_0x37b1f1){let _0x18615=null;_0x37b1f1[_0x167f43(0x7a9)](_0x167f43(0x911),_0x5d53e5=>{const _0x2502eb=_0x167f43,_0x20da2e=_0x5d53e5[_0x2502eb(0x4d5)],_0x370cda=_0x20da2e[_0x2502eb(0x4e4)]('.edit-custom-topic-btn'),_0x1ceea6=_0x20da2e[_0x2502eb(0x4e4)](_0x2502eb(0xa42)),_0x1634e3=_0x20da2e[_0x2502eb(0x4e4)]('.save-custom-topic-btn'),_0x40b8e6=_0x20da2e[_0x2502eb(0x4e4)](_0x2502eb(0xa1d));if(_0x1ceea6){_0x5d53e5[_0x2502eb(0x167)]();const _0x2ab8e0=_0x1ceea6[_0x2502eb(0x7c7)]['id'],_0x383a47=_0x1ceea6[_0x2502eb(0x4e4)](_0x2502eb(0x29a))[_0x2502eb(0x70d)](_0x2502eb(0x41f))[_0x2502eb(0x8c8)];showConfirmation(_0x2502eb(0x677)+_0x383a47+'\x22?',()=>handleDeleteCustomTopic(_0x2ab8e0));}else{if(_0x370cda){_0x5d53e5[_0x2502eb(0x167)]();_0x18615&&toggleTopicEditMode(_0x18615,![]);const _0x3893a2=_0x370cda[_0x2502eb(0x4e4)](_0x2502eb(0x8d4));_0x18615=_0x3893a2,toggleTopicEditMode(_0x3893a2,!![]);}else{if(_0x1634e3){_0x5d53e5['preventDefault']();const _0xb8a365=_0x1634e3[_0x2502eb(0x7c7)]['id'],_0x2efb43=_0x1634e3['closest'](_0x2502eb(0x8d4)),_0x5e38cf=_0x2efb43['querySelector'](_0x2502eb(0x6ff))[_0x2502eb(0x6b0)];handleUpdateCustomTopic(_0xb8a365,_0x5e38cf),_0x18615=null;}else{if(_0x40b8e6){_0x5d53e5[_0x2502eb(0x167)]();const _0x2658db=_0x40b8e6[_0x2502eb(0x4e4)](_0x2502eb(0x8d4));toggleTopicEditMode(_0x2658db,![]),_0x18615=null;}}}}}),document[_0x167f43(0x2f6)](_0x167f43(0x2f5))[_0x167f43(0x7a9)]('click',()=>{const _0x29b0d2=_0x167f43;document[_0x29b0d2(0x2f6)](_0x29b0d2(0x430))[_0x29b0d2(0x97f)]['add'](_0x29b0d2(0x4ba));}),document[_0x167f43(0x2f6)](_0x167f43(0x6ef))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x2ab0dc=_0x167f43;document[_0x2ab0dc(0x2f6)](_0x2ab0dc(0x430))[_0x2ab0dc(0x97f)][_0x2ab0dc(0x218)]('hidden');}),document[_0x167f43(0x2f6)]('export-lesson-pdf-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),handleExportLessonPDF);}document[_0x167f43(0x2f6)]('close-comparison-modal-btn')[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x28f1cb=_0x167f43;document[_0x28f1cb(0x2f6)](_0x28f1cb(0x9bb))[_0x28f1cb(0x97f)][_0x28f1cb(0x218)]('hidden');}),document[_0x167f43(0x2f6)](_0x167f43(0x565))[_0x167f43(0x7a9)](_0x167f43(0x911),()=>{const _0x50c528=_0x167f43;document['getElementById']('comparison-modal')[_0x50c528(0x97f)]['add'](_0x50c528(0x4ba));}),setupComparisonModalTabs(),document[_0x167f43(0x20e)][_0x167f43(0x7a9)](_0x167f43(0x911),function(_0x4a0fae){const _0x59e3e3=_0x167f43;if(_0x4a0fae[_0x59e3e3(0x4d5)][_0x59e3e3(0x97f)]['contains'](_0x59e3e3(0x7bd))){const _0x570cf2=unescape(_0x4a0fae[_0x59e3e3(0x4d5)][_0x59e3e3(0x7c7)][_0x59e3e3(0x6a6)]);startSkillPractice(_0x570cf2);}}),document['getElementById'](_0x167f43(0x420))[_0x167f43(0x7a9)](_0x167f43(0x911),_0x55e29d=>{const _0x358146=_0x167f43,_0x5da419=_0x55e29d[_0x358146(0x4d5)][_0x358146(0x4e4)](_0x358146(0x783));if(_0x5da419){const _0x38ec9c=_0x5da419['dataset'][_0x358146(0xa63)];handleDeleteSubmission(_0x38ec9c);}});}async function handleStartGroupMode(_0x4f5065,_0x4f8708=![]){const _0x568bc0=_0x53e3b0,_0x855d08=allQuizzes[_0x568bc0(0x8dc)](_0x365fba=>_0x365fba['id']===_0x4f5065)||allQuizzesGlobal['find'](_0x435517=>_0x435517['id']===_0x4f5065);if(!_0x855d08){showMessage(_0x568bc0(0x8bd));return;}currentQuizData=getShuffledQuiz(_0x855d08);const _0x4ab977=Math[_0x568bc0(0x671)](0x3e8+Math[_0x568bc0(0x7de)]()*0x2328)[_0x568bc0(0x2d8)]();try{const _0x18384d=await addDoc(collection(db,_0x568bc0(0x50e)+appId+'/public/data/teamQuizzes'),{'quizId':_0x855d08['id'],'projectId':_0x855d08[_0x568bc0(0x63c)],'status':_0x568bc0(0x88a),'pin':_0x4ab977,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4f8708});currentTeamQuizId=_0x18384d['id'],showView(_0x568bc0(0x525)),renderAdminTeamQuizDashboard(_0x4ab977,_0x855d08['topic'],_0x568bc0(0x5d8)),listenForTeamQuizUpdates();}catch(_0xbe5e21){console[_0x568bc0(0x4e5)]('Error\x20starting\x20group\x20quiz:',_0xbe5e21),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x1de8ba=_0x53e3b0;studentInitialView[_0x1de8ba(0x97f)]['add'](_0x1de8ba(0x4ba)),document[_0x1de8ba(0x2f6)](_0x1de8ba(0x966))['classList'][_0x1de8ba(0x8b7)](_0x1de8ba(0x4ba));const _0x3210e0=document[_0x1de8ba(0x2f6)](_0x1de8ba(0x470)),_0xf6de33=document[_0x1de8ba(0x2f6)](_0x1de8ba(0x29c)),_0x13d17e=document['getElementById'](_0x1de8ba(0x9f1));_0x13d17e[_0x1de8ba(0x735)]=_0x1de8ba(0x2b7),_0xf6de33[_0x1de8ba(0x735)]=_0x1de8ba(0x59d),_0xf6de33[_0x1de8ba(0x6bc)]=!![],_0x3210e0[_0x1de8ba(0x735)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects['length']===0x0){const _0x119339=collection(db,_0x1de8ba(0x50e)+appId+'/public/data/projects'),_0x38c994=await getDocs(_0x119339);allProjects=_0x38c994[_0x1de8ba(0x51f)][_0x1de8ba(0x6e9)](_0x36c56b=>({'id':_0x36c56b['id'],..._0x36c56b['data']()}));}const _0x18843a=allProjects[_0x1de8ba(0x845)](_0x4d56cd=>_0x4d56cd[_0x1de8ba(0x6d9)]?.[_0x1de8ba(0x9a1)]!==![]);_0x18843a[_0x1de8ba(0x933)]((_0x214646,_0x45ff72)=>_0x214646[_0x1de8ba(0x39f)][_0x1de8ba(0x8ff)](_0x45ff72[_0x1de8ba(0x39f)],'th')),_0x3210e0[_0x1de8ba(0x735)]=_0x1de8ba(0x638)+_0x18843a[_0x1de8ba(0x6e9)](_0x4881ab=>_0x1de8ba(0x313)+_0x4881ab['id']+'\x22>'+_0x4881ab[_0x1de8ba(0x39f)]+_0x1de8ba(0x6d7))[_0x1de8ba(0x728)](''),_0x3210e0[_0x1de8ba(0x87c)]=()=>{const _0x77dbec=_0x1de8ba,_0x55429b=_0xf6de33[_0x77dbec(0x6b0)],_0xcc302=_0x3210e0['value'];_0xf6de33['disabled']=!![],_0xf6de33[_0x77dbec(0x735)]=_0x77dbec(0x59d),_0x13d17e[_0x77dbec(0x735)]=_0x77dbec(0x3cf);if(!_0xcc302)return;const _0x178af4=allProjects[_0x77dbec(0x8dc)](_0xd0be05=>_0xd0be05['id']===_0xcc302);if(!_0x178af4||!_0x178af4[_0x77dbec(0x3f3)])return;const _0x684e8d=()=>{const _0x394dec=_0x77dbec;_0xf6de33[_0x394dec(0x735)]=_0x394dec(0x59d)+_0x178af4[_0x394dec(0x3f3)]['map'](_0x2a1f0e=>_0x394dec(0x313)+_0x2a1f0e+'\x22>'+_0x2a1f0e+'</option>')['join'](''),_0xf6de33[_0x394dec(0x6bc)]=![];const _0x20e137=Array['from'](_0xf6de33['options'])[_0x394dec(0x6e9)](_0x59f949=>_0x59f949[_0x394dec(0x6b0)]);if(_0x55429b&&_0x20e137['includes'](_0x55429b))_0xf6de33[_0x394dec(0x6b0)]=_0x55429b,_0xf6de33[_0x394dec(0xa68)](new Event(_0x394dec(0x12f)));else _0x178af4[_0x394dec(0x3f3)][_0x394dec(0x4f1)]===0x1&&(_0xf6de33['value']=_0x178af4[_0x394dec(0x3f3)][0x0],_0xf6de33['dispatchEvent'](new Event('change')));};if(_0x178af4[_0x77dbec(0x6d9)]?.[_0x77dbec(0x9e6)]){if(sessionStorage[_0x77dbec(0x11f)](_0x77dbec(0x640)+_0xcc302)===_0x77dbec(0x3e6)){_0x684e8d();return;}const _0x3b9d7a=document[_0x77dbec(0x2f6)](_0x77dbec(0x2e7)),_0x1f4ef6=document['getElementById']('confirm-passcode-btn'),_0x12e724=document['getElementById'](_0x77dbec(0xa3e)),_0xab7670=document[_0x77dbec(0x2f6)]('student-passcode-input'),_0x653fe6=document[_0x77dbec(0x2f6)](_0x77dbec(0x173));document['getElementById']('passcode-prompt-message')[_0x77dbec(0x8c8)]=_0x77dbec(0x593)+_0x178af4[_0x77dbec(0x39f)],_0xab7670[_0x77dbec(0x6b0)]='',_0x653fe6[_0x77dbec(0x97f)][_0x77dbec(0x218)](_0x77dbec(0x4ba)),_0x3b9d7a[_0x77dbec(0x97f)]['remove'](_0x77dbec(0x4ba));const _0x1f98df=()=>{const _0x5117f9=_0x77dbec,_0x850855=_0xab7670[_0x5117f9(0x6b0)][_0x5117f9(0x48c)]();_0x850855===_0x178af4['settings'][_0x5117f9(0x905)]?(sessionStorage['setItem'](_0x5117f9(0x640)+_0xcc302,_0x5117f9(0x3e6)),_0x3b9d7a['classList'][_0x5117f9(0x218)](_0x5117f9(0x4ba)),_0x684e8d(),_0x1f4ef6[_0x5117f9(0x8a2)](_0x5117f9(0x911),_0x1f98df)):_0x653fe6[_0x5117f9(0x97f)][_0x5117f9(0x8b7)](_0x5117f9(0x4ba));};_0x1f4ef6[_0x77dbec(0x252)]=_0x1f98df,_0x12e724[_0x77dbec(0x252)]=()=>{const _0x377ca7=_0x77dbec;_0x3b9d7a[_0x377ca7(0x97f)][_0x377ca7(0x218)](_0x377ca7(0x4ba)),_0x3210e0['value']='',_0x1f4ef6[_0x377ca7(0x8a2)](_0x377ca7(0x911),_0x1f98df);};}else _0x684e8d();},_0xf6de33[_0x1de8ba(0x87c)]=()=>{const _0x5f4da3=_0x1de8ba,_0x167007=_0x3210e0[_0x5f4da3(0x6b0)],_0x127135=_0xf6de33[_0x5f4da3(0x6b0)];_0x167007&&_0x127135&&renderStudentProgressDashboard(_0x167007,_0x127135);};}async function confirmAndJoinSyncGame(){const _0x1ed34f=_0x53e3b0,_0x3bcc0a=Array['from'](document[_0x1ed34f(0xa09)](_0x1ed34f(0xa03)))[_0x1ed34f(0x6e9)](_0x7ff183=>_0x7ff183[_0x1ed34f(0x6b0)]);if(_0x3bcc0a[_0x1ed34f(0x4f1)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x3bcc0a,localPlayerTurnIndex=0x0;const _0x177108=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x404e8b={};_0x3bcc0a['forEach'](_0x4387c8=>{const _0x4e02db=_0x1ed34f;_0x404e8b[_0x4e02db(0x11b)+_0x4387c8]={'name':_0x4387c8,'score':0x0,'answered':![]};});try{await updateDoc(_0x177108,_0x404e8b),document[_0x1ed34f(0x2f6)]('student-team-selection-view')[_0x1ed34f(0x97f)][_0x1ed34f(0x218)](_0x1ed34f(0x4ba)),currentStudentName=_0x3bcc0a[0x0],listenForSyncGameUpdates();const _0x3f5fb0={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1ed34f(0x7ba)](_0x1ed34f(0x40a),JSON[_0x1ed34f(0x84c)](_0x3f5fb0));}catch(_0x1c69cb){console[_0x1ed34f(0x4e5)]('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x1c69cb),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x39ef36=_0x53e3b0,_0x1db21b=sessionStorage['getItem'](_0x39ef36(0x40a));if(!_0x1db21b)return;const _0x3b958f=JSON[_0x39ef36(0x975)](_0x1db21b),{gameId:_0x3bd9d2,mode:_0x1c4be6,players:_0x43a453,turnIndex:_0x1e0661}=_0x3b958f;try{let _0x556d3f,_0x252a63;_0x1c4be6===_0x39ef36(0x69f)?_0x556d3f=doc(db,'artifacts/'+appId+_0x39ef36(0x551),_0x3bd9d2):_0x556d3f=doc(db,_0x39ef36(0x50e)+appId+_0x39ef36(0x57a),_0x3bd9d2);_0x252a63=await getDoc(_0x556d3f);if(!_0x252a63[_0x39ef36(0x4bc)]()||_0x252a63['data']()[_0x39ef36(0x25f)]==='finished'||_0x252a63[_0x39ef36(0x1b4)]()['status']===_0x39ef36(0x1ac)){sessionStorage[_0x39ef36(0x44f)](_0x39ef36(0x40a));return;}console[_0x39ef36(0x303)](_0x39ef36(0x1ff)+_0x1c4be6+_0x39ef36(0x4a2)+_0x3bd9d2+')'),localTeamPlayers=_0x43a453,localPlayerTurnIndex=_0x1e0661;if(_0x1c4be6===_0x39ef36(0x69f))currentLiveGameId=_0x3bd9d2,currentStudentName=_0x43a453[0x0],showView(_0x39ef36(0x525)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x3bd9d2;const _0xf8bc7e=_0x252a63[_0x39ef36(0x1b4)](),_0x5efb58=doc(db,'artifacts/'+appId+_0x39ef36(0x7ee),_0xf8bc7e[_0x39ef36(0x8a9)]),_0x2b874e=await getDoc(_0x5efb58);_0x2b874e[_0x39ef36(0x4bc)]()&&(currentQuizData=getShuffledQuiz({'id':_0x2b874e['id'],..._0x2b874e[_0x39ef36(0x1b4)]()}),showView(_0x39ef36(0x14d)),studentInitialView[_0x39ef36(0x97f)][_0x39ef36(0x218)](_0x39ef36(0x4ba)),renderTeamQuizQuestion());}}catch(_0x1f6e79){console[_0x39ef36(0x4e5)](_0x39ef36(0x29d),_0x1f6e79),sessionStorage[_0x39ef36(0x44f)](_0x39ef36(0x40a));}}async function handleKickPlayerSync(_0x59a3c1){const _0x14e371=_0x53e3b0;if(!currentLiveGameId||!_0x59a3c1)return;const _0x29304f=doc(db,_0x14e371(0x50e)+appId+_0x14e371(0x551),currentLiveGameId),_0x2f90df={};_0x2f90df[_0x14e371(0x11b)+_0x59a3c1+_0x14e371(0x669)]=_0x14e371(0x1f0);try{await updateDoc(_0x29304f,_0x2f90df);}catch(_0x83ef5){console[_0x14e371(0x4e5)](_0x14e371(0x1cb)+_0x59a3c1+_0x14e371(0x93e),_0x83ef5),showMessage(_0x14e371(0x62f));}}async function renderStudentProgressDashboard(_0x3a8447,_0x403b14){const _0x4ad0a7=_0x53e3b0,_0x131fa8=document[_0x4ad0a7(0x2f6)](_0x4ad0a7(0x9f1));_0x131fa8[_0x4ad0a7(0x735)]=_0x4ad0a7(0x67d);try{const _0x2ebb9d=collection(db,_0x4ad0a7(0x50e)+appId+_0x4ad0a7(0x7ee)),_0x11826a=query(_0x2ebb9d,where(_0x4ad0a7(0x63c),'==',_0x3a8447)),_0x5f38a4=await getDocs(_0x11826a),_0x2f6c52=_0x5f38a4[_0x4ad0a7(0x51f)][_0x4ad0a7(0x6e9)](_0x36a3c9=>({'id':_0x36a3c9['id'],..._0x36a3c9[_0x4ad0a7(0x1b4)]()})),_0x33c627=_0x2f6c52[_0x4ad0a7(0x6e9)](_0x32bf73=>getDoc(doc(db,_0x4ad0a7(0x50e)+appId+_0x4ad0a7(0x150)+_0x32bf73['id']+_0x4ad0a7(0x80f),_0x403b14))),_0x320dbf=await Promise['all'](_0x33c627),_0x4c8a0f=_0x320dbf[_0x4ad0a7(0x845)](_0x2a53b5=>_0x2a53b5[_0x4ad0a7(0x4bc)]())['map'](_0x308cd4=>({'quizId':_0x308cd4[_0x4ad0a7(0x3be)][_0x4ad0a7(0x7b7)][_0x4ad0a7(0x7b7)]['id'],..._0x308cd4[_0x4ad0a7(0x1b4)]()}));if(_0x4c8a0f[_0x4ad0a7(0x4f1)]===0x0){_0x131fa8['innerHTML']=_0x4ad0a7(0x219);return;}let _0x2d6cd9=_0x4ad0a7(0x860);_0x4c8a0f[_0x4ad0a7(0x87f)](_0x11658d=>{const _0x5ecf6d=_0x4ad0a7,_0x7a1f42=_0x2f6c52[_0x5ecf6d(0x8dc)](_0x215521=>_0x215521['id']===_0x11658d[_0x5ecf6d(0x8a9)]),_0x4f74ec=_0x7a1f42[_0x5ecf6d(0x6d9)]?.[_0x5ecf6d(0x572)]||_0x5ecf6d(0x925),_0x4a6a88=_0x7a1f42[_0x5ecf6d(0x6d9)]?.[_0x5ecf6d(0x993)]??0x0,_0x21aaaf=_0x11658d[_0x5ecf6d(0x8db)]>=_0x4a6a88;let _0x268cc1='',_0x34b047='bg-gray-50';switch(_0x4f74ec){case'show_results_and_answers':case _0x5ecf6d(0x143):_0x34b047=_0x21aaaf?_0x5ecf6d(0x91e):_0x5ecf6d(0x968),_0x268cc1=_0x5ecf6d(0x9ba)+(_0x21aaaf?_0x5ecf6d(0x1fc):_0x5ecf6d(0x8fc))+'\x22>'+_0x11658d[_0x5ecf6d(0x8db)]+'\x20/\x20'+_0x11658d[_0x5ecf6d(0x3a6)]+_0x5ecf6d(0x2ed)+(_0x21aaaf?'bg-green-200\x20text-green-800':'bg-red-200\x20text-red-800')+'\x22>'+(_0x21aaaf?_0x5ecf6d(0x53f):'ไม่ผ่าน')+_0x5ecf6d(0x5c6);break;case _0x5ecf6d(0x6e3):_0x34b047=_0x21aaaf?_0x5ecf6d(0x91e):_0x5ecf6d(0x968),_0x268cc1=_0x5ecf6d(0x5a9)+(_0x21aaaf?'bg-green-200\x20text-green-800':_0x5ecf6d(0x937))+'\x22>'+(_0x21aaaf?'ผ่าน':_0x5ecf6d(0x5f9))+_0x5ecf6d(0x5c6);break;case _0x5ecf6d(0x1c2):_0x34b047=_0x5ecf6d(0x833),_0x268cc1=_0x5ecf6d(0x7dd);break;}_0x2d6cd9+=_0x5ecf6d(0x5ef)+_0x34b047+_0x5ecf6d(0x1d2)+_0x7a1f42['topic']+_0x5ecf6d(0x1d6)+_0x11658d['attempts'][_0x5ecf6d(0x4f1)]+_0x5ecf6d(0x56e)+new Date(_0x11658d[_0x5ecf6d(0x25e)])['toLocaleDateString'](_0x5ecf6d(0x619))+_0x5ecf6d(0xa30)+_0x268cc1+_0x5ecf6d(0x62d);}),_0x2d6cd9+='</div>',_0x131fa8[_0x4ad0a7(0x735)]=_0x2d6cd9;}catch(_0x511508){console[_0x4ad0a7(0x4e5)](_0x4ad0a7(0x43b),_0x511508),_0x131fa8['innerHTML']=_0x4ad0a7(0x50f);}}function setupStudentProgressListeners(){const _0x54df13=_0x53e3b0;document['getElementById'](_0x54df13(0x450))['addEventListener'](_0x54df13(0x911),showStudentProgressView),document[_0x54df13(0x2f6)](_0x54df13(0x46c))[_0x54df13(0x7a9)](_0x54df13(0x911),()=>{const _0x4d63f1=_0x54df13;document[_0x4d63f1(0x2f6)](_0x4d63f1(0x966))[_0x4d63f1(0x97f)]['add'](_0x4d63f1(0x4ba)),document[_0x4d63f1(0x2f6)](_0x4d63f1(0x738))[_0x4d63f1(0x97f)][_0x4d63f1(0x8b7)]('hidden');});}async function startSkillPractice(_0xa6c75e){const _0x289d22=_0x53e3b0;studentResultArea[_0x289d22(0x97f)][_0x289d22(0x218)](_0x289d22(0x4ba)),studentQuizArea['innerHTML']=_0x289d22(0xa3f),studentQuizArea['classList'][_0x289d22(0x8b7)](_0x289d22(0x4ba));try{const _0x177834=await getStandardizedTopic(_0xa6c75e);console[_0x289d22(0x303)](_0x289d22(0x4f2)+_0xa6c75e+_0x289d22(0x897)+_0x177834+'\x22'),studentQuizArea[_0x289d22(0x70d)]('p')[_0x289d22(0x8c8)]=_0x289d22(0x848)+_0x177834+'\x22...';const _0x5a7ef1=collection(db,_0x289d22(0x50e)+appId+_0x289d22(0xa43)),_0x4e3303=query(_0x5a7ef1,where(_0x289d22(0x6a6),'==',_0x177834)),_0x4a7f89=await getDocs(_0x4e3303);if(_0x4a7f89['docs'][_0x289d22(0x4f1)]>=0x3){console['log'](_0x289d22(0x1bb)+_0x4a7f89[_0x289d22(0x51f)][_0x289d22(0x4f1)]+_0x289d22(0x2b5)+_0x177834+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x24d734=_0x4a7f89[_0x289d22(0x51f)]['map'](_0x26ee87=>_0x26ee87[_0x289d22(0x1b4)]());shuffleArray(_0x24d734);const _0x48ffc2={'topic':_0x177834,'questions':_0x24d734['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x48ffc2);}else{console[_0x289d22(0x303)](_0x289d22(0x9e1)+_0x177834+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x2be71d=await generatePracticeQuestions(_0x177834);await saveDrillToPracticeBank(_0x2be71d,_0x177834),displaySkillPracticeDrill(_0x2be71d);}}catch(_0x3bbe8c){console[_0x289d22(0x4e5)](_0x289d22(0x4d3),_0x3bbe8c),showMessage(_0x289d22(0x31a)),studentQuizArea[_0x289d22(0x97f)][_0x289d22(0x218)](_0x289d22(0x4ba)),studentResultArea[_0x289d22(0x97f)][_0x289d22(0x8b7)](_0x289d22(0x4ba));}}async function saveDrillToPracticeBank(_0x184842,_0x131e3c){const _0x48e725=_0x53e3b0,_0x2f7a20=collection(db,_0x48e725(0x50e)+appId+_0x48e725(0xa43)),_0x5f2166=writeBatch(db);_0x184842[_0x48e725(0x7d4)][_0x48e725(0x87f)](_0x4b4052=>{const _0x145242=_0x48e725,_0xac11d5=doc(_0x2f7a20);_0x5f2166[_0x145242(0xa72)](_0xac11d5,{'topic':_0x131e3c,'questionText':_0x4b4052[_0x145242(0x8bc)],'options':_0x4b4052[_0x145242(0x9b6)],'correctAnswerIndex':_0x4b4052[_0x145242(0x94a)],'explanation':_0x4b4052['explanation'],'createdAt':serverTimestamp()});});try{await _0x5f2166[_0x48e725(0xa46)](),console[_0x48e725(0x303)]('บันทึกคำถามใหม่\x20'+_0x184842[_0x48e725(0x7d4)][_0x48e725(0x4f1)]+_0x48e725(0x774));}catch(_0x534cfc){console[_0x48e725(0x4e5)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x534cfc);}}async function getStandardizedTopic(_0x548c49){const _0x2c0433=_0x53e3b0,_0x3c7144=_0x2c0433(0x160)+_0x548c49+_0x2c0433(0x91c),_0x427c81={'type':_0x2c0433(0x446),'properties':{'standardTopic':{'type':_0x2c0433(0x1ab)}},'required':[_0x2c0433(0x16b)]};try{const _0xab2bd=await callAnalysisApi(_0x3c7144,_0x427c81);return _0xab2bd[_0x2c0433(0x16b)];}catch(_0x344f34){return console[_0x2c0433(0x4e5)](_0x2c0433(0x6f2),_0x344f34),_0x548c49;}}async function handleGenerateEasyVersionQuiz(_0x3ee59d){const _0x41f85d=_0x53e3b0,_0x552084=document[_0x41f85d(0x2f6)]('results-tab-content'),_0x5f1f17=document[_0x41f85d(0x2f6)]('project-quizzes-list');_0x5f1f17['classList'][_0x41f85d(0x218)](_0x41f85d(0x4ba));const _0x452cfa=_0x41f85d(0xa51);_0x552084[_0x41f85d(0x288)]('beforeend',_0x452cfa);try{const _0x9b2b77=allQuizzes[_0x41f85d(0x8dc)](_0x1c0174=>_0x1c0174['id']===_0x3ee59d);if(!_0x9b2b77)throw new Error(_0x41f85d(0x4c2));const _0x5b7a4c=_0x41f85d(0x418)+JSON[_0x41f85d(0x84c)](_0x9b2b77[_0x41f85d(0x7d4)])+_0x41f85d(0x970),_0x2cc81d={'type':_0x41f85d(0x446),'properties':{'questionText':{'type':_0x41f85d(0x1ab)},'questionType':{'type':'STRING'},'options':{'type':_0x41f85d(0xa25),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x41f85d(0x1ab)}},'required':[_0x41f85d(0x8bc),_0x41f85d(0x281),_0x41f85d(0x1ba)]},_0x35055b={'type':_0x41f85d(0x446),'properties':{'questions':{'type':_0x41f85d(0xa25),'items':_0x2cc81d}},'required':[_0x41f85d(0x7d4)]},_0x116505=await callAnalysisApi(_0x5b7a4c,_0x35055b);_0x116505&&_0x116505[_0x41f85d(0x7d4)]&&_0x116505[_0x41f85d(0x7d4)]['forEach'](_0x4090c2=>{const _0x4a0654=_0x41f85d;if(_0x4090c2[_0x4a0654(0x7af)]('imageCode')){const _0xa53e22=String(_0x4090c2[_0x4a0654(0x170)])[_0x4a0654(0x48c)]();(_0xa53e22===''||_0xa53e22[_0x4a0654(0x6a7)]()===_0x4a0654(0x7e4)||!_0xa53e22[_0x4a0654(0x3c9)](_0x4a0654(0x2d6)))&&delete _0x4090c2[_0x4a0654(0x170)];}});if(!_0x116505||!_0x116505[_0x41f85d(0x7d4)]||_0x116505[_0x41f85d(0x7d4)][_0x41f85d(0x4f1)]===0x0)throw new Error(_0x41f85d(0x89e));const _0x294db5=_0x116505[_0x41f85d(0x7d4)]['map']((_0x1d2ab4,_0xab27b9)=>({..._0x1d2ab4,'id':'q_'+Date[_0x41f85d(0x988)]()+'_'+_0xab27b9})),_0x457ca2={'projectId':_0x9b2b77[_0x41f85d(0x63c)],'quizType':_0x9b2b77[_0x41f85d(0x509)],'settings':_0x9b2b77[_0x41f85d(0x6d9)],'createdBy':_0x9b2b77[_0x41f85d(0x6e4)],'status':_0x41f85d(0x2a5),'topic':'(ฉบับง่าย)\x20'+_0x9b2b77[_0x41f85d(0x6a6)],'questions':_0x294db5,'createdAt':new Date()[_0x41f85d(0x9a6)](),'quizMode':'standard','pairedQuizId':null};let _0x259599;while(!![]){_0x259599=Math[_0x41f85d(0x671)](0x3e8+Math['random']()*0x2328)[_0x41f85d(0x2d8)]();const _0xe8a6a=await getDoc(doc(db,_0x41f85d(0x50e)+appId+_0x41f85d(0x7ee),_0x259599));if(!_0xe8a6a[_0x41f85d(0x4bc)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x41f85d(0x7ee),_0x259599),_0x457ca2),showMessage(_0x41f85d(0x181));}catch(_0xb1e749){console[_0x41f85d(0x4e5)](_0x41f85d(0xa0c),_0xb1e749),showMessage(_0x41f85d(0xa32)+_0xb1e749[_0x41f85d(0x405)]);}finally{const _0x340337=document[_0x41f85d(0x2f6)]('temp-loader-results');_0x340337&&_0x340337[_0x41f85d(0x8b7)](),_0x5f1f17['classList'][_0x41f85d(0x8b7)]('hidden');}}async function generatePracticeQuestions(_0x57162e){const _0x4cd7df=_0x53e3b0,_0x1769ac=_0x4cd7df(0x769)+_0x57162e+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x4cd7df(0x570),_0x5e0ad7={'type':_0x4cd7df(0x446),'properties':{'questionText':{'type':_0x4cd7df(0x1ab)},'options':{'type':_0x4cd7df(0xa25),'items':{'type':_0x4cd7df(0x1ab)}},'correctAnswerIndex':{'type':_0x4cd7df(0x4cd)},'explanation':{'type':_0x4cd7df(0x1ab)}},'required':[_0x4cd7df(0x8bc),'options',_0x4cd7df(0x94a),_0x4cd7df(0x1ba)]},_0x545864={'type':'OBJECT','properties':{'topic':{'type':_0x4cd7df(0x1ab)},'questions':{'type':_0x4cd7df(0xa25),'items':_0x5e0ad7}},'required':[_0x4cd7df(0x6a6),'questions']};return await callAnalysisApi(_0x1769ac,_0x545864);}function displayLessonPlan(_0x374d31,_0x4c254f){const _0x411aae=_0x53e3b0,_0x3c037b=_0x411aae(0x597)+_0x4c254f[_0x411aae(0x6a6)]+_0x411aae(0x193)+_0x374d31[_0x411aae(0x84b)][_0x411aae(0x6e9)](_0xed4643=>'<li>'+_0xed4643+_0x411aae(0x235))[_0x411aae(0x728)]('')+_0x411aae(0x363)+_0x374d31['teachingContent']+_0x411aae(0x71c)+_0x374d31[_0x411aae(0x651)][_0x411aae(0x6e9)](_0x783166=>_0x411aae(0x314)+_0x783166[_0x411aae(0x6dc)]+_0x411aae(0x61f)+_0x783166[_0x411aae(0x257)]+'</p></div>')[_0x411aae(0x728)]('')+_0x411aae(0x60a);document[_0x411aae(0x2f6)](_0x411aae(0x189))['textContent']=_0x411aae(0x413)+_0x4c254f[_0x411aae(0x6a6)],document[_0x411aae(0x2f6)](_0x411aae(0x9c0))['innerHTML']=_0x3c037b,document[_0x411aae(0x2f6)](_0x411aae(0x430))['classList'][_0x411aae(0x8b7)](_0x411aae(0x4ba));if(window[_0x411aae(0x4b0)])MathJax[_0x411aae(0x1d1)]();}function displaySkillPracticeDrill(_0x5c1e15){const _0x4bff98=_0x53e3b0;let _0x41d7cb=0x0;const _0x17536a=_0x5c1e15[_0x4bff98(0x7d4)],_0x46a2aa=()=>{const _0x577997=_0x4bff98,_0x529737=_0x17536a[_0x41d7cb],_0x471bff=_0x577997(0x522)+(_0x41d7cb+0x1)+'\x20/\x20'+_0x17536a['length']+_0x577997(0x56d)+_0x529737[_0x577997(0x8bc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x529737[_0x577997(0x9b6)][_0x577997(0x6e9)]((_0x5482ba,_0x58bc66)=>_0x577997(0x248)+_0x58bc66+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x58bc66+_0x577997(0x59a)+_0x58bc66+'\x22>'+_0x5482ba+_0x577997(0xa59))[_0x577997(0x728)]('')+_0x577997(0x814);studentQuizArea[_0x577997(0x735)]=_0x471bff;if(window[_0x577997(0x4b0)])MathJax['typesetPromise']([studentQuizArea]);document[_0x577997(0x2f6)](_0x577997(0x733))[_0x577997(0x7a9)](_0x577997(0x911),async()=>{const _0x299dbc=await getHintForQuestion(_0x529737['questionText']);showMessage(_0x299dbc);}),document[_0x577997(0x2f6)](_0x577997(0x52f))[_0x577997(0x7a9)](_0x577997(0x911),()=>{const _0x8770e6=_0x577997,_0x495b6f=document[_0x8770e6(0x70d)]('input[name=\x22drill_answer\x22]:checked');if(!_0x495b6f){showMessage(_0x8770e6(0x6f6));return;}const _0x4bf5d8=document[_0x8770e6(0x2f6)](_0x8770e6(0x202)),_0x56d726=parseInt(_0x495b6f['value'])===_0x529737[_0x8770e6(0x94a)];_0x56d726?(_0x4bf5d8[_0x8770e6(0x192)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x4bf5d8[_0x8770e6(0x735)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x529737[_0x8770e6(0x1ba)]):(_0x4bf5d8[_0x8770e6(0x192)]=_0x8770e6(0x6db),_0x4bf5d8['innerHTML']=_0x8770e6(0x920)+_0x529737['explanation']);_0x4bf5d8[_0x8770e6(0x97f)][_0x8770e6(0x8b7)](_0x8770e6(0x4ba));if(window[_0x8770e6(0x4b0)])MathJax['typesetPromise']([_0x4bf5d8]);document[_0x8770e6(0x2f6)](_0x8770e6(0x52f))[_0x8770e6(0x97f)]['add'](_0x8770e6(0x4ba)),document['getElementById']('hint-btn')[_0x8770e6(0x97f)][_0x8770e6(0x218)]('hidden'),document['getElementById'](_0x8770e6(0xa49))[_0x8770e6(0x97f)][_0x8770e6(0x8b7)]('hidden');}),document['getElementById']('next-drill-btn')['addEventListener']('click',()=>{const _0x221fc4=_0x577997;_0x41d7cb++,_0x41d7cb<_0x17536a[_0x221fc4(0x4f1)]?_0x46a2aa():(studentQuizArea['innerHTML']=_0x221fc4(0x8b0),document['getElementById'](_0x221fc4(0x3a5))['addEventListener']('click',()=>{const _0xcc08b9=_0x221fc4;studentQuizArea[_0xcc08b9(0x97f)][_0xcc08b9(0x218)](_0xcc08b9(0x4ba)),studentResultArea['classList'][_0xcc08b9(0x8b7)](_0xcc08b9(0x4ba));}));});};_0x46a2aa();}async function getHintForQuestion(_0x7714b0){const _0xe4c2c0=_0x53e3b0,_0x2a6fc8=_0xe4c2c0(0x79b)+_0x7714b0+_0xe4c2c0(0x997),_0xf540f3={'type':'OBJECT','properties':{'hint':{'type':_0xe4c2c0(0x1ab)}},'required':['hint']};try{const _0x104714=await callAnalysisApi(_0x2a6fc8,_0xf540f3);return _0x104714[_0xe4c2c0(0x3b1)];}catch(_0x51225d){return console['error']('Failed\x20to\x20get\x20hint:',_0x51225d),_0xe4c2c0(0x369);}}async function extractTextFromPdf(_0x35da3e){const _0x31a134=_0x53e3b0;pdfjsLib[_0x31a134(0x7c3)][_0x31a134(0x5e8)]=_0x31a134(0x265);const _0x3ac5a1=await _0x35da3e[_0x31a134(0x89b)](),_0x491084=await pdfjsLib['getDocument'](_0x3ac5a1)[_0x31a134(0x286)],_0x4fd422=_0x491084[_0x31a134(0x4fc)];let _0xb8c593='';for(let _0x4b24c1=0x1;_0x4b24c1<=_0x4fd422;_0x4b24c1++){const _0xf829d1=await _0x491084[_0x31a134(0x1c7)](_0x4b24c1),_0x1fd742=await _0xf829d1[_0x31a134(0x967)](),_0x818f60=_0x1fd742[_0x31a134(0x836)]['map'](_0x10fc77=>_0x10fc77[_0x31a134(0x6eb)])[_0x31a134(0x728)]('\x20');_0xb8c593+=_0x818f60+'\x0a\x0a';}return _0xb8c593;}async function handleGenerateFromBlueprint(){const _0x2a2e08=_0x53e3b0,_0x585144=document[_0x2a2e08(0x2f6)](_0x2a2e08(0x295)),_0x31973b=document[_0x2a2e08(0x2f6)](_0x2a2e08(0x7b3)),_0x25d842=_0x585144['files'][0x0],_0x57e69b=_0x31973b[_0x2a2e08(0x6ce)][_0x2a2e08(0x4f1)]>0x0?_0x31973b[_0x2a2e08(0x6ce)][0x0]:null;if(!_0x25d842){showMessage(_0x2a2e08(0x67e));return;}const _0x59321a=document[_0x2a2e08(0x2f6)](_0x2a2e08(0x49c)),_0x224f3c=document[_0x2a2e08(0x2f6)](_0x2a2e08(0x903)),_0x5a489d=document[_0x2a2e08(0x2f6)]('generated-quiz-container'),_0x3df9aa=document[_0x2a2e08(0x2f6)](_0x2a2e08(0x515));_0x3df9aa[_0x2a2e08(0x6bc)]=!![],document['getElementById']('quiz-generation-area')[_0x2a2e08(0x97f)]['remove'](_0x2a2e08(0x4ba)),_0x5a489d[_0x2a2e08(0x735)]='',_0x59321a[_0x2a2e08(0x97f)][_0x2a2e08(0x8b7)](_0x2a2e08(0x4ba));try{_0x224f3c[_0x2a2e08(0x8c8)]=_0x2a2e08(0x762);const _0xb09fbd=await extractTextFromPdf(_0x25d842);if(!_0xb09fbd[_0x2a2e08(0x48c)]())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x11e2f8='';_0x57e69b&&(_0x224f3c[_0x2a2e08(0x8c8)]=_0x2a2e08(0x382),_0x11e2f8=await extractTextFromPdf(_0x57e69b));_0x224f3c[_0x2a2e08(0x8c8)]=_0x2a2e08(0x6a9);const _0x59c19b=document[_0x2a2e08(0x2f6)](_0x2a2e08(0x1b8))[_0x2a2e08(0x3a8)],_0x181ef3=_0x59c19b?_0x2a2e08(0x280):'',_0x56a10f=_0x11e2f8?_0x2a2e08(0x73c)+_0x11e2f8+_0x2a2e08(0x99e):'',_0x171ef1=_0x2a2e08(0x19f)+(_0x11e2f8?_0x2a2e08(0x6c8):'')+_0x2a2e08(0x6e8)+_0xb09fbd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56a10f+_0x2a2e08(0x7eb)+_0x181ef3+_0x2a2e08(0x53a)+simpleMathPrompt+_0x2a2e08(0x435),_0x33418e={'type':'OBJECT','properties':{'questionText':{'type':_0x2a2e08(0x1ab)},'questionType':{'type':_0x2a2e08(0x1ab),'enum':[_0x2a2e08(0x7f3),'short_answer']},'options':{'type':_0x2a2e08(0xa25),'items':{'type':_0x2a2e08(0x1ab)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2a2e08(0x1ab)}},'required':['questionText',_0x2a2e08(0x281),_0x2a2e08(0x1ba)]},_0x2b3119={'type':_0x2a2e08(0x446),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2a2e08(0xa25),'items':_0x33418e}},'required':[_0x2a2e08(0x6a6),_0x2a2e08(0x7d4)]};await handleApiCall(_0x171ef1,_0x2a2e08(0x6d8),_0x2b3119);}catch(_0x85077b){console[_0x2a2e08(0x4e5)]('Error\x20generating\x20from\x20blueprint:',_0x85077b),showMessage(_0x2a2e08(0xa32)+_0x85077b[_0x2a2e08(0x405)]),_0x5a489d[_0x2a2e08(0x735)]=_0x2a2e08(0x75f);}finally{_0x59321a['classList'][_0x2a2e08(0x218)](_0x2a2e08(0x4ba)),_0x3df9aa[_0x2a2e08(0x6bc)]=![];}}function proceedToNextQuestion(_0x3c58b4){const _0x56b34b=_0x53e3b0;studentAnswersPerQuestion[_0x56b34b(0x8c3)](_0x3c58b4),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x56b34b(0x7d4)][_0x56b34b(0x4f1)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x3a8286,_0x71d9a6){const _0x1ac151=_0x53e3b0,_0x24d58=Object[_0x1ac151(0x74d)](_0x3a8286[_0x1ac151(0x46d)]||{}),_0xbf2ef3=_0x24d58[_0x1ac151(0x4f1)],_0x2735fa=[..._0x24d58][_0x1ac151(0x933)]((_0x23adcf,_0x33482b)=>_0x33482b[_0x1ac151(0x19e)]-_0x23adcf['score']),_0x244703=_0x3a8286['currentQuestionIndex'];let _0x44b765='';const _0x339f23=_0x3a8286['shuffledQuiz'][_0x1ac151(0x7d4)],_0x1e6bd0=_0x339f23[_0x244703],_0x1f0425=_0xcffa93=>String[_0x1ac151(0x2b3)](0x41+_0xcffa93);let _0x57ba12='',_0xd02f99='';if(_0x1e6bd0){const _0x7dcb98=_0x1e6bd0['questionType']||_0x3a8286[_0x1ac151(0x8f4)][_0x1ac151(0x509)];if(_0x7dcb98===_0x1ac151(0x7f3)&&_0x1e6bd0[_0x1ac151(0x9b6)]&&_0x1e6bd0[_0x1ac151(0x94a)]!==undefined){const _0x4fd466=_0x1e6bd0[_0x1ac151(0x94a)];_0x57ba12=_0x1e6bd0[_0x1ac151(0x9b6)][_0x4fd466],_0xd02f99=_0x1f0425(_0x4fd466)+'.';}else{if(_0x7dcb98===_0x1ac151(0x529)){const _0x44a476=_0x1e6bd0[_0x1ac151(0x9fe)]===!![]||String(_0x1e6bd0['correctAnswer'])[_0x1ac151(0x6a7)]()===_0x1ac151(0x3e6);_0x44a476?(_0x57ba12='ใช่\x20/\x20ถูก',_0xd02f99='ก.'):(_0x57ba12=_0x1ac151(0x416),_0xd02f99='ข.');}else{if(_0x7dcb98===_0x1ac151(0x8f9))_0x57ba12=_0x1e6bd0[_0x1ac151(0x209)]||'-',_0xd02f99='';else _0x7dcb98==='short_answer'&&(_0x57ba12=_0x1e6bd0[_0x1ac151(0x4b4)]||'-',_0xd02f99='');}}}_0x57ba12&&(_0x44b765=_0x1ac151(0x3eb)+(_0x244703+0x1)+_0x1ac151(0x866)+_0xd02f99+'\x20'+_0x57ba12+_0x1ac151(0x8ac));const _0x529edf=_0x2735fa['map'](_0x1e48ab=>{const _0x1b213e=_0x1ac151;let _0x3411d7=![];if(_0x1e48ab[_0x1b213e(0x1b0)]&&_0x244703!==-0x1){const _0x3490d2=_0x1e48ab['answers']['find'](_0x1aedfb=>_0x1aedfb[_0x1b213e(0x19d)]===_0x244703);_0x3490d2&&_0x3490d2[_0x1b213e(0x294)]&&(_0x3411d7=!![]);}const _0x1f5ace=_0x3411d7?_0x1b213e(0x159):_0x1b213e(0x990);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x1f5ace+'\x22><span>'+_0x1e48ab[_0x1b213e(0x682)]+'</span><span\x20class=\x22font-bold\x22>'+_0x1e48ab[_0x1b213e(0x19e)]+_0x1b213e(0x924);})[_0x1ac151(0x728)](''),_0x2d0ae1=_0x339f23[_0x1ac151(0x6e9)]((_0x33342d,_0x436b96)=>{const _0x3c0e45=_0x1ac151,_0x40265a=_0x24d58['filter'](_0x1e1a57=>_0x1e1a57['answers']&&_0x1e1a57[_0x3c0e45(0x1b0)][_0x3c0e45(0x8dc)](_0x216d6a=>_0x216d6a[_0x3c0e45(0x19d)]===_0x436b96&&_0x216d6a[_0x3c0e45(0x294)]))[_0x3c0e45(0x4f1)],_0x4e3dc3=_0x436b96===_0x244703,_0x300ed0=_0x4e3dc3?_0x3c0e45(0x3aa):_0x3c0e45(0x32b);return _0x3c0e45(0x7e2)+_0x300ed0+_0x3c0e45(0x8ea)+(_0x436b96+0x1)+_0x3c0e45(0x50d)+_0x40265a+'\x20/\x20'+_0xbf2ef3+_0x3c0e45(0x236);})['join']('');let _0x32c45e='',_0x5eb605='';if(_0x71d9a6){const _0x2f75bf=_0x3a8286['currentQuestionIndex']>=_0x339f23[_0x1ac151(0x4f1)]-0x1;_0x32c45e=_0x1ac151(0x9d4)+(_0x2f75bf?_0x1ac151(0x851):'ข้อต่อไป')+_0x1ac151(0x6ad),_0x5eb605='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x29a041=_0x1ac151(0x1a1)+_0x3a8286['shuffledQuiz'][_0x1ac151(0x6a6)]+_0x1ac151(0x221)+_0x5eb605+_0x1ac151(0x1fd)+_0x44b765+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x529edf||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x2d0ae1+_0x1ac151(0x7cc)+(_0x71d9a6?_0x1ac151(0x20d)+_0x32c45e+'</div>':'')+_0x1ac151(0x176);liveGameView[_0x1ac151(0x735)]=_0x29a041;if(window[_0x1ac151(0x4b0)]){const _0x5b657b=document[_0x1ac151(0x2f6)](_0x1ac151(0x854));_0x5b657b&&MathJax[_0x1ac151(0x1d1)]([_0x5b657b]);}if(_0x71d9a6){document[_0x1ac151(0x2f6)](_0x1ac151(0x600))[_0x1ac151(0x252)]=async()=>{const _0x5acc86=_0x1ac151,_0xbdbd92=doc(db,'artifacts/'+appId+_0x5acc86(0x551),currentLiveGameId),_0x600771=_0x3a8286[_0x5acc86(0x691)]+0x1;if(_0x600771<_0x339f23[_0x5acc86(0x4f1)]){const _0x350456={};Object[_0x5acc86(0x4e6)](_0x3a8286['players'])[_0x5acc86(0x87f)](_0x2caac8=>{const _0x31f259=_0x5acc86;_0x350456['players.'+_0x2caac8+_0x31f259(0x2e5)]=![],_0x350456[_0x31f259(0x11b)+_0x2caac8+'.lastAnswerIndex']=null;}),await updateDoc(_0xbdbd92,{..._0x350456,'status':_0x5acc86(0x6dc),'currentQuestionIndex':_0x600771,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0xbdbd92,{'status':_0x5acc86(0x1ac)});};const _0x40c296=document['getElementById'](_0x1ac151(0x82d));_0x40c296&&(_0x40c296[_0x1ac151(0x252)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x1b2a1d=_0x26e1,_0x584488=doc(db,_0x1b2a1d(0x50e)+appId+_0x1b2a1d(0x551),currentLiveGameId);await updateDoc(_0x584488,{'status':_0x1b2a1d(0x1ac)});});});}}async function handleGenerateParallelFromBank(_0x55b472){const _0x1bda49=_0x53e3b0,_0x6d2cef=document[_0x1bda49(0x2f6)](_0x1bda49(0x5a1)),_0x43b172=document[_0x1bda49(0x2f6)](_0x1bda49(0x609));_0x43b172[_0x1bda49(0x97f)][_0x1bda49(0x218)](_0x1bda49(0x4ba));const _0xf1e654=_0x1bda49(0x8c0)+_0x55b472[_0x1bda49(0x6a6)]+_0x1bda49(0x731);_0x6d2cef[_0x1bda49(0x288)](_0x1bda49(0x52e),_0xf1e654);const _0x1e1ae7=document['getElementById']('temp-loader-text-results');try{const _0x1143b0=_0x55b472[_0x1bda49(0x7d4)][_0x1bda49(0x6e9)]((_0x53cc53,_0x225729)=>{const _0x44e2f3=_0x1bda49;let _0x599251=_0x225729+0x1+'.\x20'+(_0x53cc53[_0x44e2f3(0x8bc)]||_0x53cc53['stem'])+'\x0a';if(_0x53cc53[_0x44e2f3(0x9b6)])_0x599251+=_0x53cc53[_0x44e2f3(0x9b6)][_0x44e2f3(0x6e9)]((_0x3c7214,_0x4b73a8)=>_0x44e2f3(0x46f)+(_0x4b73a8===_0x53cc53[_0x44e2f3(0x94a)]?'[*]':'')+'\x20'+_0x3c7214)['join']('\x0a');else _0x53cc53[_0x44e2f3(0x4b4)]&&(_0x599251+=_0x44e2f3(0x6e0)+_0x53cc53[_0x44e2f3(0x4b4)]);return _0x599251;})[_0x1bda49(0x728)]('\x0a\x0a');_0x1e1ae7[_0x1bda49(0x8c8)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x1d628c=_0x1bda49(0x469)+_0x55b472[_0x1bda49(0x6a6)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1143b0+_0x1bda49(0x49e)+simpleMathPrompt+_0x1bda49(0x435),_0x1828c0={'type':_0x1bda49(0x446),'properties':{'questionText':{'type':_0x1bda49(0x1ab)},'questionType':{'type':_0x1bda49(0x1ab),'enum':[_0x1bda49(0x7f3),'short_answer',_0x1bda49(0x529),_0x1bda49(0x8f9)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1bda49(0x4cd)},'idealAnswer':{'type':_0x1bda49(0x1ab)},'correctAnswer':{'type':_0x1bda49(0xa1a)},'stem':{'type':_0x1bda49(0x1ab)},'correctResponse':{'type':_0x1bda49(0x1ab)},'allResponses':{'type':'ARRAY','items':{'type':_0x1bda49(0x1ab)}},'explanation':{'type':_0x1bda49(0x1ab)},'imageCode':{'type':'STRING'}},'required':[_0x1bda49(0x281),_0x1bda49(0x1ba)]},_0x18fc28={'type':_0x1bda49(0x446),'properties':{'topic':{'type':_0x1bda49(0x1ab)},'questions':{'type':'ARRAY','items':_0x1828c0}},'required':['topic',_0x1bda49(0x7d4)]},_0x4def86=await callAnalysisApi(_0x1d628c,_0x18fc28),_0x56f21f=_0x4def86[_0x1bda49(0x7d4)]['map']((_0x2cb2ed,_0xbdf3aa)=>({..._0x2cb2ed,'id':'q_'+Date['now']()+'_'+_0xbdf3aa})),_0x53946b=_0x1bda49(0x4d8)+_0x55b472['topic'],_0xb04603={'topic':_0x53946b,'questions':_0x56f21f,'quizType':_0x55b472[_0x1bda49(0x509)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1bda49(0x9a6)](),'status':'active','settings':_0x55b472['settings'],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x51fc90;while(!![]){_0x51fc90=Math[_0x1bda49(0x671)](0x3e8+Math[_0x1bda49(0x7de)]()*0x2328)['toString']();const _0x193693=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x51fc90));if(!_0x193693[_0x1bda49(0x4bc)]())break;}await setDoc(doc(db,_0x1bda49(0x50e)+appId+_0x1bda49(0x7ee),_0x51fc90),_0xb04603),showMessage(_0x1bda49(0x981));}catch(_0x44c558){console[_0x1bda49(0x4e5)](_0x1bda49(0x11e),_0x44c558),showMessage(_0x1bda49(0xa32)+_0x44c558[_0x1bda49(0x405)]);}finally{const _0xb0b29b=document[_0x1bda49(0x2f6)]('temp-loader-results');_0xb0b29b&&_0xb0b29b['remove'](),_0x43b172[_0x1bda49(0x97f)][_0x1bda49(0x8b7)](_0x1bda49(0x4ba));}}async function handleGenerateParallelPostTest(_0x55352f){const _0x5701a5=_0x53e3b0,_0x3ff742=document[_0x5701a5(0x2f6)](_0x5701a5(0x5a1)),_0x495929=document[_0x5701a5(0x2f6)](_0x5701a5(0x609));_0x495929[_0x5701a5(0x97f)][_0x5701a5(0x218)](_0x5701a5(0x4ba));const _0x7dd536=_0x5701a5(0x5d6);_0x3ff742['insertAdjacentHTML'](_0x5701a5(0x52e),_0x7dd536);try{const _0xbc9d56=_0x55352f['questions'][_0x5701a5(0x6e9)]((_0x5d9ec2,_0x30da56)=>{const _0x45e101=_0x5701a5;let _0x16a87d=_0x30da56+0x1+'.\x20'+(_0x5d9ec2['questionText']||_0x5d9ec2[_0x45e101(0x4ae)]);if(_0x5d9ec2[_0x45e101(0x9b6)])_0x16a87d+=_0x45e101(0x47f)+_0x5d9ec2['options'][_0x45e101(0x728)](',\x20');return _0x16a87d;})['join']('\x0a\x0a'),_0x2e6cec=_0x5701a5(0x465)+_0x55352f[_0x5701a5(0x6a6)]+_0x5701a5(0x2d1)+_0xbc9d56+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x5701a5(0x435),_0x9e83fa={'type':_0x5701a5(0x446),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':_0x5701a5(0x446),'properties':{'questionText':{'type':_0x5701a5(0x1ab)},'questionType':{'type':_0x5701a5(0x1ab)},'options':{'type':_0x5701a5(0xa25),'items':{'type':_0x5701a5(0x1ab)}},'correctAnswerIndex':{'type':_0x5701a5(0x4cd)},'idealAnswer':{'type':_0x5701a5(0x1ab)},'explanation':{'type':_0x5701a5(0x1ab)}},'required':[_0x5701a5(0x8bc),_0x5701a5(0x1ba)]}}},'required':[_0x5701a5(0x6a6),_0x5701a5(0x7d4)]},_0x276983=await callAnalysisApi(_0x2e6cec,_0x9e83fa),_0x583d55=_0x55352f[_0x5701a5(0x6a6)]['replace'](_0x5701a5(0x42d),'')[_0x5701a5(0x48c)](),_0x4b6044=_0x5701a5(0x801)+_0x583d55,_0x46eab9={..._0x276983,'topic':_0x4b6044,'quizType':_0x55352f[_0x5701a5(0x509)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5701a5(0x9a6)](),'status':_0x5701a5(0x2a5),'settings':_0x55352f[_0x5701a5(0x6d9)],'quizMode':'post-test','pairedQuizId':_0x55352f['id']};let _0x4abf47;while(!![]){_0x4abf47=Math[_0x5701a5(0x671)](0x3e8+Math['random']()*0x2328)[_0x5701a5(0x2d8)]();const _0x46e5b3=await getDoc(doc(db,'artifacts/'+appId+_0x5701a5(0x7ee),_0x4abf47));if(!_0x46e5b3[_0x5701a5(0x4bc)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4abf47),_0x46eab9);const _0x31f72b=doc(db,_0x5701a5(0x50e)+appId+'/public/data/quizzes',_0x55352f['id']);await updateDoc(_0x31f72b,{'pairedQuizId':_0x4abf47}),showMessage(_0x5701a5(0x962));}catch(_0xbec31a){console['error'](_0x5701a5(0x538),_0xbec31a),showMessage(_0x5701a5(0xa32)+_0xbec31a[_0x5701a5(0x405)]);}finally{const _0x2664c3=document[_0x5701a5(0x2f6)](_0x5701a5(0x946));if(_0x2664c3)_0x2664c3[_0x5701a5(0x8b7)]();_0x495929[_0x5701a5(0x97f)][_0x5701a5(0x8b7)](_0x5701a5(0x4ba));}}async function handleGenerateParallelTest(){const _0x5c29f2=_0x53e3b0,_0x343600=document['getElementById'](_0x5c29f2(0x9a7)),_0xbb366e=_0x343600[_0x5c29f2(0x6ce)][0x0];if(!_0xbb366e){showMessage(_0x5c29f2(0x7f8));return;}const _0x21f205=document[_0x5c29f2(0x2f6)](_0x5c29f2(0x49c)),_0x4a230a=document[_0x5c29f2(0x2f6)](_0x5c29f2(0x903)),_0xe672dd=document[_0x5c29f2(0x2f6)](_0x5c29f2(0x52b)),_0x175f8d=document[_0x5c29f2(0x2f6)](_0x5c29f2(0x35a));_0x175f8d[_0x5c29f2(0x6bc)]=!![],document[_0x5c29f2(0x2f6)](_0x5c29f2(0x734))[_0x5c29f2(0x97f)][_0x5c29f2(0x8b7)](_0x5c29f2(0x4ba)),_0xe672dd['innerHTML']='',_0x21f205[_0x5c29f2(0x97f)]['remove']('hidden'),_0x4a230a[_0x5c29f2(0x8c8)]='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x583338=await extractTextFromPdf(_0xbb366e);if(!_0x583338[_0x5c29f2(0x48c)]())throw new Error(_0x5c29f2(0x7c6));_0x4a230a[_0x5c29f2(0x8c8)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x30f671=document['getElementById']('include-images-checkbox')[_0x5c29f2(0x3a8)],_0x5e6ec9=_0x30f671?_0x5c29f2(0x280):'',_0x1cef36=_0x5c29f2(0x882)+_0x583338+_0x5c29f2(0x350)+_0x5e6ec9+_0x5c29f2(0x53a)+simpleMathPrompt+_0x5c29f2(0x435),_0x27b7c1={'type':_0x5c29f2(0x446),'properties':{'questionText':{'type':_0x5c29f2(0x1ab)},'questionType':{'type':_0x5c29f2(0x1ab),'enum':[_0x5c29f2(0x7f3),_0x5c29f2(0x331)]},'options':{'type':_0x5c29f2(0xa25),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5c29f2(0x4cd)},'idealAnswer':{'type':_0x5c29f2(0x1ab)},'explanation':{'type':_0x5c29f2(0x1ab)},'imageCode':{'type':_0x5c29f2(0x1ab)}},'required':[_0x5c29f2(0x8bc),_0x5c29f2(0x281),_0x5c29f2(0x1ba)]},_0x26a14e={'type':_0x5c29f2(0x446),'properties':{'topic':{'type':_0x5c29f2(0x1ab)},'questions':{'type':'ARRAY','items':_0x27b7c1}},'required':[_0x5c29f2(0x6a6),'questions']};await handleApiCall(_0x1cef36,_0x5c29f2(0x1b9),_0x26a14e);}catch(_0x2998dd){console[_0x5c29f2(0x4e5)](_0x5c29f2(0x95a),_0x2998dd),showMessage(_0x5c29f2(0xa32)+_0x2998dd[_0x5c29f2(0x405)]),_0xe672dd['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x21f205[_0x5c29f2(0x97f)]['add']('hidden'),_0x175f8d[_0x5c29f2(0x6bc)]=![];}}async function handleRegenerateQuestionInEditor(_0x134da8){const _0xfad1b1=_0x53e3b0;if(currentEditingQuizData===null)return;const _0x26209a=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x134da8+'\x22]');_0x26209a&&(_0x26209a[_0xfad1b1(0x735)]=_0xfad1b1(0x690));const _0x35bed1=currentEditingQuizData[_0xfad1b1(0x7d4)][_0x134da8],_0x5ab3a5=currentEditingQuizData[_0xfad1b1(0x6a6)],_0x3497c7=_0x35bed1[_0xfad1b1(0x281)],_0x20d296={'type':_0xfad1b1(0x446),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0xfad1b1(0xa25),'items':{'type':_0xfad1b1(0x1ab)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0xfad1b1(0x8bc),_0xfad1b1(0x9b6),_0xfad1b1(0x94a),_0xfad1b1(0x1ba)]},_0x3ffcad={'type':_0xfad1b1(0x446),'properties':{'questionText':{'type':_0xfad1b1(0x1ab)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xfad1b1(0x1ab)}},'required':[_0xfad1b1(0x8bc),_0xfad1b1(0x4b4),_0xfad1b1(0x1ba)]};let _0x3037da,_0xf13247='';_0x3497c7===_0xfad1b1(0x7f3)?(_0x3037da=_0x20d296,_0xf13247=_0xfad1b1(0xa2a)):(_0x3037da=_0x3ffcad,_0xf13247=_0xfad1b1(0x74e));const _0x144342=_0xfad1b1(0x307)+_0x5ab3a5+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0xf13247+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x35bed1['questionText']||_0x35bed1[_0xfad1b1(0x4ae)])+_0xfad1b1(0x678)+simpleMathPrompt;try{const _0x35df2f=await callAnalysisApi(_0x144342,_0x3037da);currentEditingQuizData[_0xfad1b1(0x7d4)][_0x134da8]={..._0x35bed1,..._0x35df2f},renderQuizEditor(currentEditingQuizData);}catch(_0x5658fe){console[_0xfad1b1(0x4e5)](_0xfad1b1(0x758),_0x5658fe),showMessage(_0xfad1b1(0x4cf)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x392430=_0x53e3b0,_0x3a16ec=document[_0x392430(0x2f6)]('mode-switcher-btn');currentMode===_0x392430(0x14d)?(currentMode='admin',_0x3a16ec[_0x392430(0x735)]=_0x392430(0x996),_0x3a16ec[_0x392430(0x98a)]='สลับไปโหมดนักเรียน',showView(_0x392430(0x6ca))):(currentMode=_0x392430(0x14d),_0x3a16ec[_0x392430(0x735)]=_0x392430(0x3b3),_0x3a16ec['title']='สลับไปโหมดผู้ควบคุม',showView(_0x392430(0x14d)));}function handleAdminLogin(){const _0x3f8263=_0x53e3b0,_0x10eff0=document[_0x3f8263(0x2f6)]('admin-password-input'),_0x67440b=document[_0x3f8263(0x2f6)](_0x3f8263(0x3d4));if(_0x10eff0[_0x3f8263(0x6b0)]===_0x3f8263(0x912)){adminPasswordModal[_0x3f8263(0x97f)][_0x3f8263(0x218)](_0x3f8263(0x4ba)),_0x10eff0['value']='',_0x67440b[_0x3f8263(0x97f)][_0x3f8263(0x218)](_0x3f8263(0x4ba)),currentMode=_0x3f8263(0x4c1);const _0x2c4a11=document[_0x3f8263(0x2f6)](_0x3f8263(0x76c));_0x2c4a11[_0x3f8263(0x735)]=_0x3f8263(0x996),_0x2c4a11[_0x3f8263(0x98a)]='สลับไปโหมดนักเรียน',showView(_0x3f8263(0x6ca));}else _0x67440b[_0x3f8263(0x97f)][_0x3f8263(0x8b7)](_0x3f8263(0x4ba)),_0x10eff0[_0x3f8263(0x6b0)]='';}function switchProjectTab(_0x3425df){const _0x2a8512=_0x53e3b0;[_0x2a8512(0x354),_0x2a8512(0x6ae),_0x2a8512(0x163)]['forEach'](_0x51cd08=>{const _0x595263=_0x2a8512;document[_0x595263(0x2f6)](_0x51cd08+'-tab')[_0x595263(0x97f)]['remove'](_0x595263(0x2a5)),document[_0x595263(0x2f6)](_0x51cd08+_0x595263(0x7ca))[_0x595263(0x97f)]['add']('hidden');}),document['getElementById'](_0x3425df+_0x2a8512(0x133))[_0x2a8512(0x97f)][_0x2a8512(0x218)](_0x2a8512(0x2a5)),document[_0x2a8512(0x2f6)](_0x3425df+_0x2a8512(0x7ca))[_0x2a8512(0x97f)][_0x2a8512(0x8b7)](_0x2a8512(0x4ba));}function switchQuizDetailTab(_0x2ea6d8){const _0x3431bd=_0x53e3b0,_0x4c34c3={'analytics':{'btn':_0x3431bd(0x383),'content':'analytics-tab-content'},'scores':{'btn':_0x3431bd(0x227),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x3431bd(0x45c),'content':_0x3431bd(0x217)},'behavior-log':{'btn':_0x3431bd(0x224),'content':_0x3431bd(0x16d)}};for(const _0x463ec6 in _0x4c34c3){document['getElementById'](_0x4c34c3[_0x463ec6][_0x3431bd(0x524)])[_0x3431bd(0x97f)]['remove'](_0x3431bd(0x2a5)),document[_0x3431bd(0x2f6)](_0x4c34c3[_0x463ec6][_0x3431bd(0x37b)])[_0x3431bd(0x97f)][_0x3431bd(0x218)](_0x3431bd(0x4ba));}document[_0x3431bd(0x2f6)](_0x4c34c3[_0x2ea6d8][_0x3431bd(0x524)])[_0x3431bd(0x97f)]['add'](_0x3431bd(0x2a5)),document[_0x3431bd(0x2f6)](_0x4c34c3[_0x2ea6d8][_0x3431bd(0x37b)])['classList'][_0x3431bd(0x8b7)]('hidden');}function showMessage(_0x2cbddf,_0x566ec9=null){const _0x5ca49b=_0x53e3b0;modalMessage[_0x5ca49b(0x8c8)]=_0x2cbddf,modalConfirmAction=_0x566ec9,messageModal['classList']['remove']('hidden');}function showConfirmation(_0x5401c2,_0x2a765b){const _0x136239=_0x53e3b0;document['getElementById'](_0x136239(0x9f8))[_0x136239(0x8c8)]=_0x5401c2,document[_0x136239(0x2f6)]('confirmation-modal')[_0x136239(0x70d)]('h3')['textContent']='ยืนยันการกระทำ',confirmAction=_0x2a765b,confirmationModal[_0x136239(0x97f)][_0x136239(0x8b7)](_0x136239(0x4ba));}function listenForProjects(){const _0x40418b=_0x53e3b0,_0x59014c=doc(db,_0x40418b(0x685),_0x40418b(0x5dd));onSnapshot(_0x59014c,_0x2350f8=>{const _0x4745c3=_0x40418b;if(_0x2350f8[_0x4745c3(0x4bc)]()){const _0x2e413e=_0x2350f8[_0x4745c3(0x1b4)]();globalDashboardSettings[_0x4745c3(0x579)]=_0x2e413e[_0x4745c3(0x579)]||_0x4745c3(0x322),globalDashboardSettings[_0x4745c3(0x2a8)]=_0x2e413e['pinnedProjects']||[],globalDashboardSettings['projectOrder']=_0x2e413e[_0x4745c3(0x821)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x57ac3c=collection(db,'artifacts/'+appId+_0x40418b(0x33e));unsubscribeProjectsListener=onSnapshot(_0x57ac3c,_0x5f1d0f=>{const _0x13c7c2=_0x40418b;allProjects=_0x5f1d0f[_0x13c7c2(0x51f)][_0x13c7c2(0x6e9)](_0x5bc45d=>({'id':_0x5bc45d['id'],..._0x5bc45d[_0x13c7c2(0x1b4)]()})),renderProjects();},_0x7f6077=>{const _0x240d36=_0x40418b;console[_0x240d36(0x4e5)](_0x240d36(0x174),_0x7f6077),showMessage(_0x240d36(0x8c9));});}function showColorPalette(_0x29c867,_0x35a4f5){const _0x4de4d7=_0x53e3b0;document[_0x4de4d7(0xa09)](_0x4de4d7(0x81f))['forEach'](_0x5a70ed=>_0x5a70ed[_0x4de4d7(0x8b7)]());const _0x5a7d97=[_0x4de4d7(0x228),_0x4de4d7(0x973),_0x4de4d7(0x74f),_0x4de4d7(0x327),_0x4de4d7(0x617),_0x4de4d7(0x3bb),_0x4de4d7(0x546),_0x4de4d7(0x8f7),_0x4de4d7(0x7c4)],_0x3beb2f=document[_0x4de4d7(0x59b)]('div');_0x3beb2f[_0x4de4d7(0x192)]=_0x4de4d7(0x49d),_0x5a7d97[_0x4de4d7(0x87f)](_0xeda9fc=>{const _0x2eced3=_0x4de4d7,_0x429678=document['createElement'](_0x2eced3(0x61c));_0x429678[_0x2eced3(0x192)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x429678[_0x2eced3(0x7c1)][_0x2eced3(0x27d)]=_0xeda9fc,_0x429678[_0x2eced3(0x7a9)](_0x2eced3(0x911),()=>{handleProjectColorChange(_0x35a4f5,_0xeda9fc),_0x3beb2f['remove']();}),_0x3beb2f[_0x2eced3(0x310)](_0x429678);}),document['body'][_0x4de4d7(0x310)](_0x3beb2f);const _0x289193=_0x29c867['getBoundingClientRect']();_0x3beb2f[_0x4de4d7(0x7c1)][_0x4de4d7(0x78a)]=_0x289193[_0x4de4d7(0x27a)]+window[_0x4de4d7(0x1a2)]+'px',_0x3beb2f[_0x4de4d7(0x7c1)]['left']=_0x289193['left']+window['scrollX']-_0x3beb2f['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x47d398,_0x1117bf){const _0x3123c7=_0x53e3b0,_0x1f17bd=doc(db,'artifacts/'+appId+_0x3123c7(0x33e),_0x47d398);try{await updateDoc(_0x1f17bd,{'color':_0x1117bf});}catch(_0x22dee1){console[_0x3123c7(0x4e5)](_0x3123c7(0x934),_0x22dee1),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x6e092a=_0x53e3b0,_0x5ea252=globalDashboardSettings[_0x6e092a(0x579)]||_0x6e092a(0x322),_0x529914=new Set(globalDashboardSettings[_0x6e092a(0x2a8)]||[]),_0x166342=globalDashboardSettings[_0x6e092a(0x74c)]||'grid',_0x27b140=document[_0x6e092a(0x2f6)]('grid-view-btn'),_0x2cc4c2=document[_0x6e092a(0x2f6)](_0x6e092a(0x788));_0x27b140[_0x6e092a(0x97f)][_0x6e092a(0x95b)](_0x6e092a(0x2a5),_0x166342===_0x6e092a(0x778)),_0x2cc4c2['classList'][_0x6e092a(0x95b)](_0x6e092a(0x2a5),_0x166342===_0x6e092a(0x536)),document[_0x6e092a(0x2f6)](_0x6e092a(0x88e))[_0x6e092a(0x6b0)]=_0x5ea252;const _0x178297=document[_0x6e092a(0x2f6)]('project-search-input')[_0x6e092a(0x6b0)][_0x6e092a(0x6a7)]();let _0x412661=allProjects[_0x6e092a(0x845)](_0x3f5a53=>_0x3f5a53['projectName']['toLowerCase']()['includes'](_0x178297));const _0x20614b=_0x412661[_0x6e092a(0x845)](_0x3ca859=>_0x529914[_0x6e092a(0x6f1)](_0x3ca859['id'])),_0x24b26b=_0x412661[_0x6e092a(0x845)](_0xc065b8=>!_0x529914[_0x6e092a(0x6f1)](_0xc065b8['id'])),_0x13b85e=(_0x205b2e,_0x53262e)=>{const _0x9b8e21=_0x6e092a;switch(_0x5ea252){case _0x9b8e21(0x296):return _0x205b2e[_0x9b8e21(0x39f)][_0x9b8e21(0x8ff)](_0x53262e[_0x9b8e21(0x39f)],'th');case'name_desc':return _0x53262e[_0x9b8e21(0x39f)][_0x9b8e21(0x8ff)](_0x205b2e[_0x9b8e21(0x39f)],'th');case _0x9b8e21(0xa45):return new Date(_0x205b2e[_0x9b8e21(0x269)])-new Date(_0x53262e['createdAt']);default:return new Date(_0x53262e[_0x9b8e21(0x269)])-new Date(_0x205b2e[_0x9b8e21(0x269)]);}};_0x20614b[_0x6e092a(0x933)](_0x13b85e),_0x24b26b[_0x6e092a(0x933)](_0x13b85e);const _0x5aa6cf=[..._0x20614b,..._0x24b26b],_0x100fd5=globalDashboardSettings[_0x6e092a(0x821)]||[];_0x100fd5[_0x6e092a(0x4f1)]>0x0&&_0x166342===_0x6e092a(0x778)&&_0x5aa6cf['sort']((_0x48aad9,_0x4c4f0d)=>{const _0x12e80=_0x6e092a,_0x59c456=_0x100fd5[_0x12e80(0xa2c)](_0x48aad9['id']),_0x35b7bc=_0x100fd5['indexOf'](_0x4c4f0d['id']);if(_0x59c456===-0x1)return 0x1;if(_0x35b7bc===-0x1)return-0x1;return _0x59c456-_0x35b7bc;});const _0x440d0d={};await Promise['all'](_0x5aa6cf[_0x6e092a(0x6e9)](async _0x3f5f67=>{const _0x5c0a11=_0x6e092a,_0x2d9972=query(collection(db,'artifacts/'+appId+_0x5c0a11(0x7ee)),where(_0x5c0a11(0x63c),'==',_0x3f5f67['id'])),_0x11de43=await getDocs(_0x2d9972);_0x440d0d[_0x3f5f67['id']]=_0x11de43['size'];}));const _0x44bb74=document[_0x6e092a(0x2f6)](_0x6e092a(0x701));let _0x29f25a='';if(_0x166342==='grid'){_0x44bb74[_0x6e092a(0x192)]=_0x6e092a(0x80a);if(starredQuizzes['length']>0x0&&_0x178297===''){const _0x4e7d49=starredQuizzes['map'](_0x1e3bf5=>{const _0x292a55=_0x6e092a,_0x94e1a5=allProjects[_0x292a55(0x8dc)](_0x205485=>_0x205485['id']===_0x1e3bf5[_0x292a55(0x63c)]);return{..._0x1e3bf5,'projectName':_0x94e1a5?_0x94e1a5[_0x292a55(0x39f)]:_0x292a55(0x499)};});_0x29f25a+=_0x6e092a(0x2e6)+_0x4e7d49[_0x6e092a(0x6e9)](_0x216fe8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x216fe8[_0x6e092a(0x6a6)]+'\x22>'+_0x216fe8[_0x6e092a(0x6a6)]+_0x6e092a(0x212)+_0x216fe8[_0x6e092a(0x39f)]+'\x22>จาก:\x20'+_0x216fe8[_0x6e092a(0x39f)]+_0x6e092a(0x332))['join']('')+_0x6e092a(0x940)+starredQuizzes[_0x6e092a(0x4f1)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x5aa6cf[_0x6e092a(0x87f)](_0x89f966=>{const _0x411d9e=_0x6e092a,_0x174b4a=_0x440d0d[_0x89f966['id']]??0x0,_0x5b0db1=_0x529914['has'](_0x89f966['id']),_0x123552=_0x89f966[_0x411d9e(0xa27)]||'#FFFFFF',_0x3bd513=parseInt(_0x123552[_0x411d9e(0x5fc)](0x1,0x3),0x10)*0.299+parseInt(_0x123552[_0x411d9e(0x5fc)](0x3,0x5),0x10)*0.587+parseInt(_0x123552[_0x411d9e(0x5fc)](0x5,0x7),0x10)*0.114<0xba,_0x250138=_0x3bd513?'text-white':_0x411d9e(0x2a4),_0x5991a2=_0x3bd513?_0x411d9e(0x655):_0x411d9e(0x951);_0x29f25a+=_0x411d9e(0x36d)+(_0x5b0db1?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x411d9e(0x246))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x123552+';\x22\x20data-id=\x22'+_0x89f966['id']+_0x411d9e(0x262)+_0x89f966['id']+_0x411d9e(0x7d6)+(_0x3bd513?_0x411d9e(0x9be):_0x411d9e(0x726))+_0x411d9e(0x9df)+_0x89f966['id']+_0x411d9e(0x7ec)+(_0x3bd513?_0x411d9e(0x9be):_0x411d9e(0x726))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x5b0db1?_0x3bd513?_0x411d9e(0x96d):'text-indigo-600':'')+_0x411d9e(0x884)+_0x89f966['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x250138+_0x411d9e(0x379)+_0x89f966[_0x411d9e(0x39f)]+_0x411d9e(0x804)+_0x5991a2+_0x411d9e(0x4d4)+new Date(_0x89f966['createdAt'])[_0x411d9e(0x33b)](_0x411d9e(0x619))+_0x411d9e(0x5ba)+(_0x3bd513?_0x411d9e(0x754):'text-gray-700')+_0x411d9e(0x4fd)+_0x174b4a+_0x411d9e(0x365)+_0x89f966['id']+_0x411d9e(0x2a2)+_0x89f966[_0x411d9e(0x39f)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x3bd513?_0x411d9e(0x715):_0x411d9e(0x7cb))+_0x411d9e(0x21a);});}else _0x44bb74['className']='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0x178297===''&&(_0x29f25a+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes['length']+_0x6e092a(0x2c1)),_0x29f25a+=_0x6e092a(0x243),_0x5aa6cf['forEach'](_0x4d1012=>{const _0x4a52f6=_0x6e092a,_0xcab099=_0x440d0d[_0x4d1012['id']]??0x0,_0x50c2e8=_0x529914['has'](_0x4d1012['id']);_0x29f25a+=_0x4a52f6(0x4cb)+(_0x4d1012[_0x4a52f6(0xa27)]||_0x4a52f6(0x7c4))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x4d1012['id']+_0x4a52f6(0x169)+_0x4d1012[_0x4a52f6(0x39f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0xcab099+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x4d1012[_0x4a52f6(0x269)])['toLocaleString']('th-TH')+_0x4a52f6(0x710)+_0x4d1012['id']+_0x4a52f6(0x433)+(_0x50c2e8?_0x4a52f6(0x213):'')+_0x4a52f6(0x850)+_0x4d1012['id']+_0x4a52f6(0x2a2)+_0x4d1012[_0x4a52f6(0x39f)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList['innerHTML']=_0x29f25a,noProjectsMsg[_0x6e092a(0x97f)]['toggle'](_0x6e092a(0x4ba),_0x29f25a[_0x6e092a(0x4f1)]>0x0);}document['getElementById']('confirm-create-project-btn')[_0x53e3b0(0x7a9)](_0x53e3b0(0x911),async()=>{const _0x385b7f=_0x53e3b0,_0xf94fdb=document[_0x385b7f(0x2f6)](_0x385b7f(0x83a)),_0x3cb368=_0xf94fdb[_0x385b7f(0x6b0)][_0x385b7f(0x48c)]();if(!_0x3cb368){showMessage(_0x385b7f(0x872));return;}try{const _0x350dd0=doc(collection(db,_0x385b7f(0x50e)+appId+'/public/data/projects'));await setDoc(_0x350dd0,{'projectName':_0x3cb368,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x385b7f(0x929),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x385b7f(0x929),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x385b7f(0x9a6)]()}),_0xf94fdb[_0x385b7f(0x6b0)]='',createProjectModal[_0x385b7f(0x97f)][_0x385b7f(0x218)]('hidden'),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x840f61){console[_0x385b7f(0x4e5)](_0x385b7f(0xa62),_0x840f61),showMessage(_0x385b7f(0x7f7));}}),projectList[_0x53e3b0(0x7a9)]('click',async _0x4c7b2a=>{const _0x18bcde=_0x53e3b0,_0x5ad366=_0x4c7b2a[_0x18bcde(0x4d5)][_0x18bcde(0x4e4)](_0x18bcde(0x2a3)),_0x42b520=_0x4c7b2a[_0x18bcde(0x4d5)][_0x18bcde(0x4e4)](_0x18bcde(0x660)),_0x29f11b=_0x4c7b2a['target'][_0x18bcde(0x4e4)](_0x18bcde(0x84a)),_0x3366a1=_0x4c7b2a['target'][_0x18bcde(0x4e4)](_0x18bcde(0x96e));if(_0x29f11b){const _0xdc39fd=_0x29f11b[_0x18bcde(0x7c7)]['id'],_0x33d57b=doc(db,_0x18bcde(0x685),_0x18bcde(0x5dd)),_0xaa1e70=globalDashboardSettings['pinnedProjects'];let _0x374332;_0xaa1e70[_0x18bcde(0x12a)](_0xdc39fd)?_0x374332=_0xaa1e70['filter'](_0x10d2b2=>_0x10d2b2!==_0xdc39fd):_0x374332=[..._0xaa1e70,_0xdc39fd];try{await setDoc(_0x33d57b,{'pinnedProjects':_0x374332},{'merge':!![]});}catch(_0x205d18){console[_0x18bcde(0x4e5)](_0x18bcde(0x301),_0x205d18),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x3366a1){const _0x33a95f=_0x3366a1[_0x18bcde(0x7c7)]['id'];showColorPalette(_0x3366a1,_0x33a95f);}else{if(_0x5ad366){const _0x3b55e4=_0x5ad366['dataset']['id'];_0x3b55e4===_0x18bcde(0x3c5)?showStarredProjectView():(currentProjectId=_0x3b55e4,await loadProjectDetails(currentProjectId),showView(_0x18bcde(0x497)));}else{if(_0x42b520){const _0x5da68e=_0x42b520[_0x18bcde(0x7c7)]['id'],_0x1098fa=_0x42b520[_0x18bcde(0x7c7)][_0x18bcde(0x682)];showConfirmation(_0x18bcde(0x1f2)+_0x1098fa+_0x18bcde(0x282),()=>handleDeleteProject(_0x5da68e));}}}}}),projectList[_0x53e3b0(0x7a9)]('dragstart',_0x3161ce=>{const _0x693bff=_0x53e3b0,_0x4cf1bb=_0x3161ce[_0x693bff(0x4d5)][_0x693bff(0x4e4)](_0x693bff(0x506));_0x4cf1bb&&_0x4cf1bb[_0x693bff(0x97f)][_0x693bff(0x218)](_0x693bff(0x9cb));}),projectList[_0x53e3b0(0x7a9)](_0x53e3b0(0x237),_0x2399d=>{const _0x4d0ecf=_0x53e3b0,_0x30eb70=_0x2399d[_0x4d0ecf(0x4d5)][_0x4d0ecf(0x4e4)](_0x4d0ecf(0x506));_0x30eb70&&_0x30eb70[_0x4d0ecf(0x97f)][_0x4d0ecf(0x8b7)]('opacity-50');}),projectList[_0x53e3b0(0x7a9)](_0x53e3b0(0x877),_0x32ddea=>{const _0x3cd473=_0x53e3b0;_0x32ddea[_0x3cd473(0x167)]();const _0x36267f=document[_0x3cd473(0x70d)](_0x3cd473(0x60f));if(!_0x36267f)return;const _0x3321fa=getDragAfterElement(projectList,_0x32ddea[_0x3cd473(0x741)]);_0x3321fa==null?projectList[_0x3cd473(0x310)](_0x36267f):projectList['insertBefore'](_0x36267f,_0x3321fa);}),projectList[_0x53e3b0(0x7a9)](_0x53e3b0(0x4d6),_0xfb518=>{const _0x541c87=_0x53e3b0;_0xfb518[_0x541c87(0x167)]();const _0xa293a2=[...projectList[_0x541c87(0xa09)](_0x541c87(0x2cf))][_0x541c87(0x6e9)](_0x400be8=>_0x400be8[_0x541c87(0x7c7)]['id']);saveProjectOrder(_0xa293a2);});function renderBehaviorLog(_0x4a6fc5){const _0x378dba=_0x53e3b0,_0x3ef741=document[_0x378dba(0x2f6)](_0x378dba(0x6d0));if(!_0x3ef741)return;const _0x1c3210=_0x4a6fc5[_0x378dba(0x845)](_0xa8776c=>_0xa8776c[_0x378dba(0x4c3)]&&_0xa8776c[_0x378dba(0x4c3)][_0x378dba(0x4f1)]>0x0);if(_0x1c3210[_0x378dba(0x4f1)]===0x0){_0x3ef741[_0x378dba(0x735)]=_0x378dba(0x88b);return;}let _0x3c6b33='';_0x1c3210[_0x378dba(0x87f)](_0x44d0ab=>{const _0x494842=_0x378dba;_0x3c6b33+=_0x494842(0x791)+_0x44d0ab[_0x494842(0xa63)]+_0x494842(0x507),_0x44d0ab['behaviorLog']['sort']((_0x5b961d,_0x344582)=>new Date(_0x344582[_0x494842(0x904)])-new Date(_0x5b961d[_0x494842(0x904)]))[_0x494842(0x87f)](_0x48a811=>{const _0x581264=_0x494842,_0x3f2966=new Date(_0x48a811['timestamp'])[_0x581264(0x271)](_0x581264(0x619),{'dateStyle':'short','timeStyle':'medium'});_0x3c6b33+=_0x581264(0x740)+_0x48a811['attemptNumber']+_0x581264(0x92d)+_0x3f2966+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3c6b33+=_0x494842(0x37f);}),_0x3ef741[_0x378dba(0x735)]=_0x3c6b33;}function getDragAfterElement(_0x2831b9,_0x3e90cb){const _0x50cf68=_0x53e3b0,_0x266509=[..._0x2831b9[_0x50cf68(0xa09)](_0x50cf68(0x9c1))];return _0x266509[_0x50cf68(0x26f)]((_0x54630c,_0x15ce66)=>{const _0x5b76d3=_0x50cf68,_0x2dbdea=_0x15ce66[_0x5b76d3(0x400)](),_0x2dd690=_0x3e90cb-_0x2dbdea[_0x5b76d3(0x78a)]-_0x2dbdea['height']/0x2;return _0x2dd690<0x0&&_0x2dd690>_0x54630c[_0x5b76d3(0x8d0)]?{'offset':_0x2dd690,'element':_0x15ce66}:_0x54630c;},{'offset':Number[_0x50cf68(0x98d)]})['element'];}async function saveProjectOrder(_0x39e6e8){const _0x26965f=_0x53e3b0,_0xa44a02=doc(db,'globalSettings',_0x26965f(0x5dd));try{await setDoc(_0xa44a02,{'projectOrder':_0x39e6e8},{'merge':!![]});}catch(_0x290cb4){console['error'](_0x26965f(0x63e),_0x290cb4),showMessage(_0x26965f(0x478));}}async function logBehaviorEvent(_0x5b5df7,_0x3dba2f={}){const _0x39bbe2=_0x53e3b0;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x39bbe2(0x6cf)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x584ca1=doc(db,'artifacts/'+appId+_0x39bbe2(0x150)+currentQuizData['id']+'/submissions',currentStudentName),_0x4d5a3b={'event':_0x5b5df7,'timestamp':new Date()[_0x39bbe2(0x9a6)](),..._0x3dba2f};try{await updateDoc(_0x584ca1,{'behaviorLog':arrayUnion(_0x4d5a3b)}),console[_0x39bbe2(0x303)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x39bbe2(0x6c6));}catch(_0x23b7c8){_0x23b7c8[_0x39bbe2(0x258)]==='not-found'?console[_0x39bbe2(0x6cf)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x39bbe2(0x4e5)](_0x39bbe2(0x78b),_0x23b7c8);}}function calculateMeanAndStdDev(_0x3d123d){const _0x5848da=_0x53e3b0;if(_0x3d123d['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x14c4f3=_0x3d123d['reduce']((_0x4cad6e,_0x550579)=>_0x4cad6e+_0x550579,0x0)/_0x3d123d[_0x5848da(0x4f1)];if(_0x3d123d[_0x5848da(0x4f1)]===0x1)return{'mean':_0x14c4f3,'stdDev':0x0};const _0x1811d5=Math[_0x5848da(0x198)](_0x3d123d['map'](_0x3d57f2=>Math[_0x5848da(0x29e)](_0x3d57f2-_0x14c4f3,0x2))['reduce']((_0x5740ce,_0x2eeddb)=>_0x5740ce+_0x2eeddb,0x0)/(_0x3d123d[_0x5848da(0x4f1)]-0x1));return{'mean':_0x14c4f3,'stdDev':_0x1811d5};}function calculateZScore(_0x5766ce,_0x43d391,_0x165d2d){if(_0x165d2d===0x0)return 0x0;return(_0x5766ce-_0x43d391)/_0x165d2d;}function calculateTScore(_0x4b0300){return 0xa*_0x4b0300+0x32;}function showStarredProjectView(){const _0x21f7e5=_0x53e3b0;currentProjectId=_0x21f7e5(0x4c6),currentProjectData=null,projectTitle[_0x21f7e5(0x8c8)]=_0x21f7e5(0x3bc),projectIdDisplay[_0x21f7e5(0x8c8)]=_0x21f7e5(0xa1b),showView(_0x21f7e5(0x497)),manageTab[_0x21f7e5(0x97f)][_0x21f7e5(0x218)](_0x21f7e5(0x4ba)),leaderboardTab[_0x21f7e5(0x97f)]['add']('hidden'),switchProjectTab(_0x21f7e5(0x6ae)),renderQuizzes();}async function loadProjectDetails(_0x47fdeb){const _0x138e67=_0x53e3b0,_0x40d143=doc(db,_0x138e67(0x50e)+appId+_0x138e67(0x33e),_0x47fdeb),_0x2def89=await getDoc(_0x40d143);if(_0x2def89[_0x138e67(0x4bc)]()){manageTab[_0x138e67(0x97f)][_0x138e67(0x8b7)]('hidden'),leaderboardTab[_0x138e67(0x97f)][_0x138e67(0x8b7)]('hidden'),currentProjectData=_0x2def89[_0x138e67(0x1b4)](),projectTitle['textContent']=currentProjectData[_0x138e67(0x39f)],projectIdDisplay['textContent']=_0x47fdeb;const _0x3e8119=currentProjectData[_0x138e67(0x6d9)]||{};document[_0x138e67(0x2f6)](_0x138e67(0x5d9))['value']=_0x3e8119['shuffleSetting']||_0x138e67(0x929);const _0x35b08d=document[_0x138e67(0x2f6)](_0x138e67(0x15b));_0x35b08d['checked']=_0x3e8119[_0x138e67(0x9a1)]!==![];const _0x5a5208=document[_0x138e67(0x2f6)]('enable-passcode-checkbox'),_0x454d6e=document[_0x138e67(0x2f6)](_0x138e67(0x826)),_0x13b5aa=document['getElementById'](_0x138e67(0x7b8)),_0x3ca29d=_0x3e8119['isPasscodeEnabled']||![];_0x5a5208[_0x138e67(0x3a8)]=_0x3ca29d,_0x13b5aa[_0x138e67(0x6b0)]=_0x3e8119['passcode']||'',_0x454d6e[_0x138e67(0x97f)][_0x138e67(0x95b)](_0x138e67(0x4ba),!_0x3ca29d),_0x5a5208[_0x138e67(0x87c)]=()=>{const _0xf96895=_0x138e67;_0x454d6e['classList'][_0xf96895(0x95b)](_0xf96895(0x4ba),!_0x5a5208[_0xf96895(0x3a8)]);},document[_0x138e67(0x2f6)](_0x138e67(0x9d8))['checked']=_0x3e8119[_0x138e67(0x33f)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x47fdeb),listenForProjectQuizzes(_0x47fdeb),listenForStudentProfiles(_0x47fdeb);}else showMessage(_0x138e67(0x5b8)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x3f35b9=_0x53e3b0,_0x693e46=doc(db,'globalSettings',_0x3f35b9(0x5dd));try{await setDoc(_0x693e46,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x541a01){console['error'](_0x3f35b9(0x13d),_0x541a01),showMessage(_0x3f35b9(0x9ec));}}async function handleTogglePinProject(_0x5122cd){const _0x4cc2f1=_0x53e3b0;if(!_0x5122cd)return;const _0x3f0a1b=doc(db,_0x4cc2f1(0x50e)+appId+_0x4cc2f1(0x33e),_0x5122cd);try{const _0x4202fe=await getDoc(_0x3f0a1b);if(_0x4202fe[_0x4cc2f1(0x4bc)]()){const _0x4d8fbc=_0x4202fe['data']()[_0x4cc2f1(0xa41)]||![];await updateDoc(_0x3f0a1b,{'isPinned':!_0x4d8fbc});}}catch(_0x32180e){console['error'](_0x4cc2f1(0x6b2),_0x32180e),showMessage(_0x4cc2f1(0x797));}}async function handleDeleteProject(_0x19b230){const _0x19121c=_0x53e3b0;try{const _0x1645e4=writeBatch(db),_0x466280=collection(db,'artifacts/'+appId+_0x19121c(0x7ee)),_0x23abea=query(_0x466280,where(_0x19121c(0x63c),'==',_0x19b230)),_0x392b44=await getDocs(_0x23abea);for(const _0x28d64a of _0x392b44[_0x19121c(0x51f)]){const _0x4bb996=collection(db,_0x19121c(0x50e)+appId+'/public/data/quizzes/'+_0x28d64a['id']+_0x19121c(0x80f)),_0x88e631=await getDocs(_0x4bb996);_0x88e631['forEach'](_0x200928=>{const _0x2e145b=_0x19121c;_0x1645e4[_0x2e145b(0x472)](_0x200928['ref']);}),_0x1645e4[_0x19121c(0x472)](_0x28d64a['ref']);}const _0x1c7159=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x19b230+_0x19121c(0x2de)),_0x2faf23=await getDocs(_0x1c7159);_0x2faf23[_0x19121c(0x87f)](_0x16c9d9=>{const _0x45ca56=_0x19121c;_0x1645e4[_0x45ca56(0x472)](_0x16c9d9[_0x45ca56(0x3be)]);});const _0x41c73a=doc(db,_0x19121c(0x50e)+appId+_0x19121c(0x33e),_0x19b230);_0x1645e4[_0x19121c(0x472)](_0x41c73a),await _0x1645e4[_0x19121c(0xa46)](),showMessage(_0x19121c(0x1c0)),showView('admin-dashboard');}catch(_0x3c0ac4){console[_0x19121c(0x4e5)](_0x19121c(0x9bf),_0x3c0ac4),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x53e3b0(0x2f6)]('save-settings-btn')[_0x53e3b0(0x7a9)]('click',async()=>{const _0x5339b0=_0x53e3b0;if(!currentProjectId)return;const _0x27f2d2={'defaultNumQuestions':parseInt(document['getElementById'](_0x5339b0(0x99f))[_0x5339b0(0x6b0)]),'defaultNumChoices':parseInt(document[_0x5339b0(0x2f6)](_0x5339b0(0x590))[_0x5339b0(0x6b0)]),'defaultPassingScore':parseInt(document[_0x5339b0(0x2f6)](_0x5339b0(0x7b5))['value']),'resultsDisplay':document[_0x5339b0(0x2f6)](_0x5339b0(0x719))[_0x5339b0(0x6b0)],'shuffleSetting':document[_0x5339b0(0x2f6)](_0x5339b0(0x5d9))['value'],'timerMode':document['getElementById'](_0x5339b0(0xa6f))[_0x5339b0(0x6b0)],'timerDuration':parseInt(document[_0x5339b0(0x2f6)](_0x5339b0(0x9ce))[_0x5339b0(0x6b0)]),'isConfidenceScoringEnabled':document[_0x5339b0(0x2f6)](_0x5339b0(0x9d8))[_0x5339b0(0x3a8)],'confidenceMode':document[_0x5339b0(0x2f6)](_0x5339b0(0x5e9))[_0x5339b0(0x6b0)]};try{const _0x13b802=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x13b802,{'settings':_0x27f2d2}),showMessage(_0x5339b0(0x494));}catch(_0x235b8e){console[_0x5339b0(0x4e5)](_0x5339b0(0x706),_0x235b8e),showMessage(_0x5339b0(0x634));}});function listenForStudents(_0x242bbf){const _0x2671a6=_0x53e3b0,_0xeff596=doc(db,_0x2671a6(0x50e)+appId+_0x2671a6(0x33e),_0x242bbf);unsubscribeStudentsListener=onSnapshot(_0xeff596,_0x1a222a=>{const _0x57e8aa=_0x2671a6;if(_0x1a222a[_0x57e8aa(0x4bc)]()){const _0xbb9fcb=_0x1a222a[_0x57e8aa(0x1b4)]();currentProjectData=_0xbb9fcb,renderStudentList(_0xbb9fcb[_0x57e8aa(0x3f3)]||[]);}});}function renderStudentList(_0x3aab72){const _0x36478d=_0x53e3b0,_0x4b747f=document[_0x36478d(0x2f6)](_0x36478d(0x341));_0x3aab72['length']===0x0?(studentList[_0x36478d(0x735)]=_0x36478d(0x2b4),_0x4b747f[_0x36478d(0x97f)][_0x36478d(0x218)](_0x36478d(0x4ba))):(studentList[_0x36478d(0x735)]=_0x3aab72[_0x36478d(0x6e9)](_0x12fba1=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x12fba1+_0x36478d(0x3d7)+_0x12fba1+_0x36478d(0x72c))[_0x36478d(0x728)](''),_0x4b747f['classList'][_0x36478d(0x8b7)](_0x36478d(0x4ba)));}document[_0x53e3b0(0x2f6)](_0x53e3b0(0x9bc))[_0x53e3b0(0x7a9)](_0x53e3b0(0x911),async()=>{const _0x502b32=_0x53e3b0;if(!currentProjectId)return;const _0x57535d=document['getElementById'](_0x502b32(0x9b0)),_0x5114a3=_0x57535d[_0x502b32(0x6b0)][_0x502b32(0x48c)]();if(!_0x5114a3){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0xd46a0d=_0x5114a3[_0x502b32(0x29b)]('\x0a')[_0x502b32(0x6e9)](_0xdfb794=>_0xdfb794[_0x502b32(0x48c)]())[_0x502b32(0x845)](_0x4330d1=>_0x4330d1);if(_0xd46a0d[_0x502b32(0x4f1)]===0x0)return;try{const _0x110531=doc(db,'artifacts/'+appId+_0x502b32(0x33e),currentProjectId),_0x4f92b6=await getDoc(_0x110531);if(_0x4f92b6['exists']()){const _0x5bcb98=_0x4f92b6[_0x502b32(0x1b4)]()[_0x502b32(0x3f3)]||[],_0x1ed08a=[...new Set([..._0x5bcb98,..._0xd46a0d])];await updateDoc(_0x110531,{'students':_0x1ed08a}),_0x57535d['value']='';}}catch(_0x5a238d){console[_0x502b32(0x4e5)](_0x502b32(0x142),_0x5a238d),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x59da77){const _0x5a69d5=_0x53e3b0,_0x4ade2d=document[_0x5a69d5(0x2f6)]('move-quiz-modal'),_0xb14348=document[_0x5a69d5(0x2f6)](_0x5a69d5(0x380)),_0x3f6b56=_0x4ade2d[_0x5a69d5(0x70d)]('h3'),_0x284f73=document[_0x5a69d5(0x2f6)]('confirm-move-quiz-btn'),_0x543248=document[_0x5a69d5(0x2f6)](_0x5a69d5(0x185));_0x3f6b56[_0x5a69d5(0x8c8)]=_0x5a69d5(0x53d),_0xb14348[_0x5a69d5(0x735)]=_0x5a69d5(0x18d),_0x284f73[_0x5a69d5(0x8c8)]=_0x5a69d5(0x91f),_0x4ade2d['classList'][_0x5a69d5(0x8b7)](_0x5a69d5(0x4ba));const _0x3fba44=allQuizzes[_0x5a69d5(0x845)](_0x58964d=>_0x58964d['id']!==_0x59da77);_0x3fba44[_0x5a69d5(0x4f1)]===0x0?(_0xb14348[_0x5a69d5(0x735)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x284f73['disabled']=!![]):(_0xb14348[_0x5a69d5(0x735)]=_0x5a69d5(0x645)+_0x3fba44[_0x5a69d5(0x6e9)](_0x1ef456=>_0x5a69d5(0x313)+_0x1ef456['id']+'\x22>'+_0x1ef456[_0x5a69d5(0x6a6)]+_0x5a69d5(0x6d7))[_0x5a69d5(0x728)](''),_0x284f73[_0x5a69d5(0x6bc)]=![]);const _0x1b996b=async()=>{const _0x38d867=_0x5a69d5,_0xf7fa73=_0xb14348[_0x38d867(0x6b0)];if(!_0xf7fa73){showMessage(_0x38d867(0x13f));return;}_0x284f73['disabled']=!![],_0x284f73[_0x38d867(0x8c8)]=_0x38d867(0x8d3);try{const _0x27cb95=doc(db,_0x38d867(0x50e)+appId+_0x38d867(0x7ee),_0x59da77),_0x3f3a7e=doc(db,_0x38d867(0x50e)+appId+_0x38d867(0x7ee),_0xf7fa73),_0x5a8718=writeBatch(db);_0x5a8718[_0x38d867(0x5aa)](_0x27cb95,{'pairedQuizId':_0xf7fa73}),_0x5a8718['update'](_0x3f3a7e,{'pairedQuizId':_0x59da77}),await _0x5a8718[_0x38d867(0xa46)](),showMessage(_0x38d867(0x567)),_0x4ade2d[_0x38d867(0x97f)]['add'](_0x38d867(0x4ba));}catch(_0x355fbc){console['error'](_0x38d867(0x1cf),_0x355fbc),showMessage(_0x38d867(0x20f));}finally{_0x3f6b56[_0x38d867(0x8c8)]=_0x38d867(0x5f2),_0x284f73[_0x38d867(0x8c8)]=_0x38d867(0x9ee),_0x284f73[_0x38d867(0x6bc)]=![],_0x284f73['removeEventListener'](_0x38d867(0x911),_0x1b996b),_0x543248['removeEventListener'](_0x38d867(0x911),_0x10251f);}},_0x10251f=()=>{const _0x51f853=_0x5a69d5;_0x4ade2d['classList']['add']('hidden'),_0x3f6b56['textContent']=_0x51f853(0x5f2),_0x284f73[_0x51f853(0x8c8)]=_0x51f853(0x9ee),_0x284f73['removeEventListener'](_0x51f853(0x911),_0x1b996b),_0x543248[_0x51f853(0x8a2)](_0x51f853(0x911),_0x10251f);};_0x284f73[_0x5a69d5(0x7a9)](_0x5a69d5(0x911),_0x1b996b),_0x543248[_0x5a69d5(0x7a9)](_0x5a69d5(0x911),_0x10251f);}function handleDeleteStudent(_0x2fe677){const _0x52e59c=_0x53e3b0;showConfirmation(_0x52e59c(0x7c0)+_0x2fe677+_0x52e59c(0x65e),async()=>{const _0x326d3d=_0x52e59c;if(!currentProjectId||!currentProjectData)return;const _0x978295=currentProjectData[_0x326d3d(0x3f3)][_0x326d3d(0x845)](_0x1c557c=>_0x1c557c!==_0x2fe677);try{const _0xd1c2f=doc(db,'artifacts/'+appId+_0x326d3d(0x33e),currentProjectId),_0x229825=doc(db,_0x326d3d(0x50e)+appId+'/public/data/projects/'+currentProjectId+_0x326d3d(0x2de),_0x2fe677),_0x2880ca=writeBatch(db);_0x2880ca[_0x326d3d(0x5aa)](_0xd1c2f,{'students':_0x978295}),_0x2880ca[_0x326d3d(0x472)](_0x229825),await _0x2880ca[_0x326d3d(0xa46)]();}catch(_0x388743){console[_0x326d3d(0x4e5)](_0x326d3d(0x8a4),_0x388743),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x559a92=_0x53e3b0;showConfirmation(_0x559a92(0x378),async()=>{const _0x10f56c=_0x559a92;if(!currentProjectId)return;try{const _0x6b11af=doc(db,_0x10f56c(0x50e)+appId+'/public/data/projects',currentProjectId),_0x398fd4=collection(db,_0x10f56c(0x50e)+appId+_0x10f56c(0x961)+currentProjectId+_0x10f56c(0x2de)),_0x16c1c6=await getDocs(_0x398fd4),_0x215701=writeBatch(db);_0x215701[_0x10f56c(0x5aa)](_0x6b11af,{'students':[]}),_0x16c1c6[_0x10f56c(0x87f)](_0x4fed9f=>_0x215701[_0x10f56c(0x472)](_0x4fed9f[_0x10f56c(0x3be)])),await _0x215701[_0x10f56c(0xa46)]();}catch(_0x24db39){console['error'](_0x10f56c(0x8e2),_0x24db39),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x5f5bc2=_0x53e3b0;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x4a8b2a=document[_0x5f5bc2(0x2f6)]('loader'),_0x4e9ee1=document[_0x5f5bc2(0x2f6)](_0x5f5bc2(0x903)),_0x4ea042=document[_0x5f5bc2(0x2f6)](_0x5f5bc2(0x52b)),_0x3ba5ce=document['getElementById'](_0x5f5bc2(0x57b));_0x3ba5ce[_0x5f5bc2(0x6bc)]=!![],document[_0x5f5bc2(0x2f6)](_0x5f5bc2(0x734))[_0x5f5bc2(0x97f)]['remove'](_0x5f5bc2(0x4ba)),_0x4ea042[_0x5f5bc2(0x735)]='',_0x4a8b2a['classList'][_0x5f5bc2(0x8b7)]('hidden'),_0x4e9ee1[_0x5f5bc2(0x8c8)]=_0x5f5bc2(0x17f);const _0x8baa90=new FileReader();_0x8baa90[_0x5f5bc2(0x1a9)](selectedFile),_0x8baa90[_0x5f5bc2(0x94f)]=async()=>{const _0xef88e5=_0x5f5bc2;try{const _0x5ad396=_0x8baa90[_0xef88e5(0x408)][_0xef88e5(0x29b)](',')[0x1],_0xdbf21b=selectedFile['type'];await generateQuizFromFile(_0xdbf21b,_0x5ad396);}catch(_0x144464){console[_0xef88e5(0x4e5)](_0xef88e5(0xa23),_0x144464),showMessage(_0xef88e5(0x92b)+_0x144464['message']),_0x4a8b2a['classList'][_0xef88e5(0x218)](_0xef88e5(0x4ba));}finally{}},_0x8baa90[_0x5f5bc2(0x34e)]=_0x1c32ca=>{const _0x3eb95a=_0x5f5bc2;console[_0x3eb95a(0x4e5)](_0x3eb95a(0x24a),_0x1c32ca),showMessage(_0x3eb95a(0x605)),_0x4a8b2a[_0x3eb95a(0x97f)]['add']('hidden'),_0x3ba5ce['disabled']=![];};}function autoFormatMath(_0x2b08fe){const _0x1f3f6e=_0x53e3b0;if(typeof _0x2b08fe!=='string'||!_0x2b08fe)return _0x2b08fe;const _0xa38727=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0xf8d4d4=_0x2b08fe[_0x1f3f6e(0x15c)](_0xa38727,_0x53d80d=>{return'$'+_0x53d80d['trim']()+'$';});return _0xf8d4d4;}function sanitizeQuizData(_0xff92ad){const _0x5bbac3=_0x53e3b0;if(!_0xff92ad||!_0xff92ad[_0x5bbac3(0x7d4)])return _0xff92ad;const _0x4eccb4={'imes':_0x5bbac3(0x571),'div':_0x5bbac3(0x432)},_0x4eb640=_0x27435c=>{const _0x4b37c2=_0x5bbac3;if(typeof _0x27435c!==_0x4b37c2(0x1a5))return _0x27435c;let _0x1fdb90=_0x27435c;for(const [_0x21a049,_0x13f865]of Object['entries'](_0x4eccb4)){const _0x2350d9=new RegExp('\x5cb'+_0x21a049+'\x5cb','g');_0x1fdb90=_0x1fdb90[_0x4b37c2(0x15c)](_0x2350d9,_0x13f865);}return _0x1fdb90=_0x1fdb90[_0x4b37c2(0x15c)](/\\\//g,'\x5cdiv'),_0x1fdb90=_0x1fdb90[_0x4b37c2(0x15c)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4b37c2(0x432))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x4b37c2(0x571))['replace'](/÷/g,_0x4b37c2(0x432))[_0x4b37c2(0x15c)](/×/g,_0x4b37c2(0x571)),_0x1fdb90=_0x1fdb90[_0x4b37c2(0x15c)](/(\d)(\\frac)/g,_0x4b37c2(0x5cc)),_0x1fdb90=autoFormatMath(_0x1fdb90),_0x1fdb90;};return _0xff92ad[_0x5bbac3(0x6a6)]&&(_0xff92ad[_0x5bbac3(0x6a6)]=_0x4eb640(_0xff92ad['topic'])),_0xff92ad[_0x5bbac3(0x7d4)][_0x5bbac3(0x87f)](_0x1d0126=>{const _0x37dc07=_0x5bbac3;_0x1d0126['questionText']=_0x4eb640(_0x1d0126[_0x37dc07(0x8bc)]),_0x1d0126[_0x37dc07(0x9b6)]&&(_0x1d0126[_0x37dc07(0x9b6)]=_0x1d0126[_0x37dc07(0x9b6)]['map'](_0x4eb640)),_0x1d0126[_0x37dc07(0x1ba)]&&(_0x1d0126[_0x37dc07(0x1ba)]=_0x4eb640(_0x1d0126[_0x37dc07(0x1ba)])),_0x1d0126[_0x37dc07(0x4ae)]&&(_0x1d0126[_0x37dc07(0x4ae)]=_0x4eb640(_0x1d0126['stem'])),_0x1d0126[_0x37dc07(0x209)]&&(_0x1d0126[_0x37dc07(0x209)]=_0x4eb640(_0x1d0126['correctResponse'])),_0x1d0126[_0x37dc07(0x15f)]&&(_0x1d0126[_0x37dc07(0x15f)]=_0x1d0126['allResponses'][_0x37dc07(0x6e9)](_0x4eb640));}),_0xff92ad;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x48d3d8=_0x53e3b0,_0xfc3a3=document[_0x48d3d8(0x2f6)](_0x48d3d8(0x86d)),_0x8b59b8=document[_0x48d3d8(0x2f6)]('link-topic-input'),_0x2a8dd9=_0xfc3a3[_0x48d3d8(0x6b0)]['trim'](),_0x2d03ce=_0x8b59b8[_0x48d3d8(0x6b0)]['trim']();if(!_0x2a8dd9){showMessage(_0x48d3d8(0x519));return;}const _0x358420=document[_0x48d3d8(0x2f6)](_0x48d3d8(0x49c)),_0x5d270e=document[_0x48d3d8(0x2f6)](_0x48d3d8(0x903)),_0x57110d=document[_0x48d3d8(0x2f6)](_0x48d3d8(0x52b)),_0x5e2e8c=document[_0x48d3d8(0x2f6)](_0x48d3d8(0x447));document[_0x48d3d8(0x2f6)](_0x48d3d8(0x734))[_0x48d3d8(0x97f)][_0x48d3d8(0x8b7)]('hidden'),_0x57110d['innerHTML']='',_0x358420[_0x48d3d8(0x97f)][_0x48d3d8(0x8b7)](_0x48d3d8(0x4ba)),_0x5d270e[_0x48d3d8(0x8c8)]=_0x48d3d8(0x62b),_0x5e2e8c[_0x48d3d8(0x6bc)]=!![];try{const _0x326f59='https://corsproxy.io/?'+encodeURIComponent(_0x2a8dd9),_0x1bf3d=await fetch(_0x326f59);if(!_0x1bf3d['ok'])throw new Error(_0x48d3d8(0x3f2)+_0x1bf3d[_0x48d3d8(0x25f)]+')');const _0x565ceb=await _0x1bf3d[_0x48d3d8(0x437)](),_0x5774e4=extractTextFromHtml(_0x565ceb);if(!_0x5774e4||_0x5774e4[_0x48d3d8(0x4f1)]<0x64)throw new Error(_0x48d3d8(0x1ce));await generateQuiz(_0x2d03ce,_0x5774e4);}catch(_0x2ce316){console[_0x48d3d8(0x4e5)]('Error\x20generating\x20from\x20link:',_0x2ce316),showMessage(_0x48d3d8(0xa32)+_0x2ce316[_0x48d3d8(0x405)]),_0x57110d['innerHTML']=_0x48d3d8(0x73b);}finally{_0x358420[_0x48d3d8(0x97f)][_0x48d3d8(0x218)](_0x48d3d8(0x4ba)),_0x5e2e8c[_0x48d3d8(0x6bc)]=![];}}function extractTextFromHtml(_0x12e83d){const _0x220fbe=_0x53e3b0,_0x530f36=new DOMParser()[_0x220fbe(0x1fb)](_0x12e83d,'text/html');return _0x530f36[_0x220fbe(0xa09)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')['forEach'](_0x120280=>_0x120280[_0x220fbe(0x8b7)]()),_0x530f36[_0x220fbe(0x20e)][_0x220fbe(0x8c8)]||'';}document[_0x53e3b0(0x2f6)]('generate-from-topic-btn')[_0x53e3b0(0x7a9)](_0x53e3b0(0x911),()=>{const _0x52898a=_0x53e3b0,_0x1b1d63=document[_0x52898a(0x2f6)](_0x52898a(0x505))[_0x52898a(0x6b0)][_0x52898a(0x48c)]();generateQuiz(_0x1b1d63,null);}),document[_0x53e3b0(0x2f6)](_0x53e3b0(0x528))['addEventListener'](_0x53e3b0(0x911),()=>{const _0xa3d9c2=_0x53e3b0,_0x385f04=document[_0xa3d9c2(0x2f6)](_0xa3d9c2(0x9cf))['value'][_0xa3d9c2(0x48c)]();if(!_0x385f04){showMessage(_0xa3d9c2(0x867));return;}const _0x564328=document[_0xa3d9c2(0x2f6)](_0xa3d9c2(0x505))[_0xa3d9c2(0x6b0)][_0xa3d9c2(0x48c)]();generateQuiz(_0x564328,_0x385f04);});async function generateQuiz(_0x243f39,_0x40d9b1,_0x5cb33f=null){const _0x317729=_0x53e3b0,_0x59c256=document[_0x317729(0x2f6)](_0x317729(0x1b8))[_0x317729(0x3a8)],_0x521230=document['getElementById'](_0x317729(0x3bf))[_0x317729(0x6b0)],_0x2102f4=document['getElementById'](_0x317729(0x99f))[_0x317729(0x6b0)],_0x2e0c2c=document[_0x317729(0x2f6)](_0x317729(0x590))[_0x317729(0x6b0)],_0x2707f9=document[_0x317729(0x2f6)]('force-math-checkbox')[_0x317729(0x3a8)],_0x5afa9e=_0x2707f9?'':'คณิตศาสตร์',_0x5e701c=document[_0x317729(0x2f6)](_0x317729(0x49b)),_0x3843e5=_0x5e701c[_0x317729(0x6b0)];let _0x3e0dfa='';_0x3843e5!==_0x317729(0x9e2)&&(_0x3e0dfa=_0x317729(0x1f6)+_0x3843e5+'\x22');const _0x1d0794=document[_0x317729(0x2f6)]('question-complexity-select'),_0x45f2bb=_0x1d0794[_0x317729(0x6b0)];let _0x319b10='';_0x45f2bb!==_0x317729(0x3f8)&&(_0x319b10=_0x317729(0x85f)+_0x45f2bb+_0x317729(0x5fb));const _0x36bb44=document[_0x317729(0xa09)](_0x317729(0x1f7)),_0x38f266=Array['from'](_0x36bb44)[_0x317729(0x6e9)](_0x1716e8=>_0x1716e8[_0x317729(0x6b0)]);let _0x884f4d='';_0x38f266[_0x317729(0x4f1)]>0x0&&(_0x884f4d=_0x317729(0x191)+_0x38f266[_0x317729(0x728)](',\x20')+_0x317729(0x70e));let _0x431277='',_0x528d86='',_0x412ce1,_0x5eb781=_0x317729(0x6c4)+_0x243f39+'\x22';if(!_0x243f39&&_0x40d9b1)_0x5eb781=_0x317729(0x498);else!_0x243f39&&!_0x40d9b1&&(_0x5eb781='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x3ab18f={'type':_0x317729(0x446),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x317729(0xa25),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x317729(0x4cd)},'explanation':{'type':_0x317729(0x1ab)},'imageCode':{'type':_0x317729(0x1ab)}},'required':['questionText','options',_0x317729(0x94a),_0x317729(0x1ba)]},_0x287dd5={'type':_0x317729(0x446),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x317729(0x1ab)},'imageCode':{'type':'STRING'}},'required':[_0x317729(0x8bc),_0x317729(0x4b4),'explanation']},_0x50c493={'type':_0x317729(0x446),'properties':{'questionText':{'type':_0x317729(0x1ab)},'questionType':{'type':'STRING','enum':[_0x317729(0x7f3),_0x317729(0x331)]},'options':{'type':_0x317729(0xa25),'items':{'type':_0x317729(0x1ab)}},'correctAnswerIndex':{'type':_0x317729(0x4cd)},'idealAnswer':{'type':_0x317729(0x1ab)},'explanation':{'type':_0x317729(0x1ab)},'imageCode':{'type':_0x317729(0x1ab)}},'required':[_0x317729(0x8bc),_0x317729(0x281),'explanation']},_0x41462f={'type':_0x317729(0x446),'properties':{'questionText':{'type':_0x317729(0x1ab)},'correctAnswer':{'type':_0x317729(0xa1a)},'explanation':{'type':_0x317729(0x1ab)},'imageCode':{'type':_0x317729(0x1ab)}},'required':[_0x317729(0x8bc),_0x317729(0x9fe),_0x317729(0x1ba)]},_0x5128d1={'type':_0x317729(0x446),'properties':{'questionType':{'type':'STRING','enum':[_0x317729(0x8f9)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x317729(0x1ab)},'allResponses':{'type':_0x317729(0xa25),'items':{'type':_0x317729(0x1ab)}},'explanation':{'type':_0x317729(0x1ab)},'imageCode':{'type':'STRING'}},'required':[_0x317729(0x281),_0x317729(0x4ae),_0x317729(0x209),_0x317729(0x15f),_0x317729(0x1ba)]};let _0x36e25f;if(_0x5cb33f!==null){const _0x152899=currentQuizData[_0x317729(0x7d4)][_0x5cb33f][_0x317729(0x281)],_0x56c6c7=_0x59c256?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x431277=_0x317729(0x502)+_0x5eb781+'\x20'+_0x884f4d+'\x20'+_0x3e0dfa+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x56c6c7+'\x20'+simpleMathPrompt;if(_0x152899==='multiple_choice')_0x412ce1=_0x3ab18f;else{if(_0x152899===_0x317729(0x8f9))_0x412ce1={'type':_0x317729(0x446),'properties':{'questionType':{'type':_0x317729(0x1ab),'enum':[_0x317729(0x8f9)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x317729(0x1ab)},'explanation':{'type':_0x317729(0x1ab)},'imageCode':{'type':_0x317729(0x1ab)}},'required':[_0x317729(0x281),'stem',_0x317729(0x209),_0x317729(0x1ba)]};else _0x412ce1=_0x287dd5;}_0x36e25f=_0x412ce1;}else{const _0x5308de=_0x59c256?_0x317729(0x135):'',_0x1c22fe='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x521230){case _0x317729(0x7f3):_0x431277='สร้างแบบทดสอบปรนัย'+_0x5afa9e+'\x20'+_0x2102f4+_0x317729(0x707)+_0x5eb781+'\x20'+_0x884f4d+'\x20'+_0x3e0dfa+'\x20'+_0x319b10+_0x317729(0x9e0)+_0x2e0c2c+_0x317729(0x674)+_0x5308de+'\x20'+simpleMathPrompt,_0x412ce1=_0x3ab18f;break;case'fill_in_with_choices':_0x431277=_0x317729(0x963)+_0x5afa9e+'\x20'+_0x2102f4+_0x317729(0x707)+_0x5eb781+'\x20'+_0x884f4d+'\x20'+_0x3e0dfa+'\x20'+_0x319b10+_0x317729(0x42f)+_0x2e0c2c+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5308de+'\x20'+simpleMathPrompt,_0x412ce1=_0x3ab18f;break;case _0x317729(0x776):_0x431277=_0x317729(0x963)+_0x5afa9e+'\x20'+_0x2102f4+_0x317729(0x707)+_0x5eb781+'\x20'+_0x884f4d+'\x20'+_0x3e0dfa+'\x20'+_0x319b10+_0x317729(0x2f9)+_0x5308de+'\x20'+simpleMathPrompt,_0x412ce1=_0x287dd5;break;case _0x317729(0x3f8):_0x431277=_0x317729(0x9b4)+_0x5afa9e+'\x20'+_0x2102f4+'\x20ข้อ\x20'+_0x5eb781+'\x20'+_0x884f4d+'\x20'+_0x3e0dfa+'\x20'+_0x319b10+_0x317729(0x274)+_0x2e0c2c+'\x20ตัวเลือก.\x20'+_0x5308de+'\x20'+simpleMathPrompt+'.',_0x412ce1=_0x50c493;break;case _0x317729(0x529):_0x431277=_0x317729(0x426)+_0x5afa9e+'\x20'+_0x2102f4+'\x20ข้อ\x20'+_0x5eb781+'\x20'+_0x884f4d+'\x20'+_0x3e0dfa+'\x20'+_0x319b10+_0x317729(0xa31)+_0x5308de+'\x20'+simpleMathPrompt,_0x412ce1=_0x41462f;break;case _0x317729(0x7ad):_0x431277='สร้างชุดคำถามจับคู่'+_0x5afa9e+'\x20'+_0x2102f4+'\x20คู่\x20'+_0x5eb781+'\x20'+_0x884f4d+'\x20'+_0x3e0dfa+'\x20'+_0x319b10+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x5308de+'\x20'+simpleMathPrompt,_0x412ce1=_0x5128d1;break;}_0x36e25f={'type':'OBJECT','properties':{'topic':{'type':_0x317729(0x1ab)},'questions':{'type':_0x317729(0xa25),'items':_0x412ce1}},'required':['topic',_0x317729(0x7d4)]};}return _0x40d9b1?(_0x431277=_0x317729(0x80d)+_0x40d9b1+_0x317729(0x38e)+_0x431277,_0x528d86='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x528d86='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x431277,_0x528d86,_0x36e25f,_0x5cb33f);}async function generateQuizFromFile(_0x2c4f5b,_0x1d875a){const _0x27054a=_0x53e3b0,_0x4ffc4e=document[_0x27054a(0x2f6)]('file-topic-input')[_0x27054a(0x6b0)][_0x27054a(0x48c)](),_0x3cdd6e=document[_0x27054a(0x2f6)]('quiz-type-select')[_0x27054a(0x6b0)],_0x10d4ec=document['getElementById'](_0x27054a(0x99f))[_0x27054a(0x6b0)],_0x4dfbb8=document[_0x27054a(0x2f6)]('num-choices')[_0x27054a(0x6b0)],_0x52576b=document[_0x27054a(0x2f6)](_0x27054a(0x1b8))['checked'],_0x13a413=document[_0x27054a(0x2f6)](_0x27054a(0x489))[_0x27054a(0x3a8)],_0x21eec4=_0x13a413?'':_0x27054a(0x663);let _0x25f903='',_0x4469ba,_0x318f9a='เกี่ยวกับหัวข้อ\x20\x22'+_0x4ffc4e+'\x22';!_0x4ffc4e&&(_0x318f9a=_0x27054a(0x717));const _0x1408d4=_0x52576b?_0x27054a(0x135):'';switch(_0x3cdd6e){case _0x27054a(0x7f3):_0x25f903=_0x27054a(0x948)+_0x21eec4+'\x20'+_0x10d4ec+_0x27054a(0x707)+_0x318f9a+_0x27054a(0x9e0)+_0x4dfbb8+_0x27054a(0x674)+_0x1408d4+'\x20'+simpleMathPrompt,_0x4469ba={'type':_0x27054a(0x446),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x27054a(0xa25),'items':{'type':_0x27054a(0x1ab)}},'correctAnswerIndex':{'type':_0x27054a(0x4cd)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x27054a(0x8bc),'options',_0x27054a(0x94a),'explanation']};break;case _0x27054a(0x893):_0x25f903=_0x27054a(0x963)+_0x21eec4+'\x20'+_0x10d4ec+_0x27054a(0x707)+_0x318f9a+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x4dfbb8+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1408d4+'\x20'+simpleMathPrompt,_0x4469ba={'type':_0x27054a(0x446),'properties':{'questionText':{'type':_0x27054a(0x1ab)},'options':{'type':_0x27054a(0xa25),'items':{'type':_0x27054a(0x1ab)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x27054a(0x1ab)},'imageCode':{'type':_0x27054a(0x1ab)}},'required':[_0x27054a(0x8bc),_0x27054a(0x9b6),_0x27054a(0x94a),_0x27054a(0x1ba)]};break;case _0x27054a(0x776):_0x25f903=_0x27054a(0x963)+_0x21eec4+'\x20'+_0x10d4ec+_0x27054a(0x707)+_0x318f9a+_0x27054a(0x2f9)+_0x1408d4+'\x20'+simpleMathPrompt,_0x4469ba={'type':_0x27054a(0x446),'properties':{'questionText':{'type':_0x27054a(0x1ab)},'idealAnswer':{'type':_0x27054a(0x1ab)},'explanation':{'type':_0x27054a(0x1ab)},'imageCode':{'type':_0x27054a(0x1ab)}},'required':[_0x27054a(0x8bc),_0x27054a(0x4b4),_0x27054a(0x1ba)]};break;case'mixed':_0x25f903=_0x27054a(0x9b4)+_0x21eec4+'\x20'+_0x10d4ec+'\x20ข้อ\x20'+_0x318f9a+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x4dfbb8+_0x27054a(0x4b5)+_0x1408d4+'\x20'+simpleMathPrompt+_0x27054a(0x7a1),_0x4469ba={'type':_0x27054a(0x446),'properties':{'questionText':{'type':_0x27054a(0x1ab)},'questionType':{'type':_0x27054a(0x1ab),'enum':[_0x27054a(0x7f3),_0x27054a(0x331)]},'options':{'type':_0x27054a(0xa25),'items':{'type':_0x27054a(0x1ab)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x27054a(0x1ab)},'explanation':{'type':_0x27054a(0x1ab)},'imageCode':{'type':_0x27054a(0x1ab)}},'required':[_0x27054a(0x8bc),_0x27054a(0x281),_0x27054a(0x1ba)]};break;case _0x27054a(0x529):_0x25f903=_0x27054a(0x426)+_0x21eec4+'\x20'+_0x10d4ec+_0x27054a(0x707)+_0x318f9a+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1408d4+'\x20'+simpleMathPrompt,_0x4469ba={'type':'OBJECT','properties':{'questionText':{'type':_0x27054a(0x1ab)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x27054a(0x1ab)},'imageCode':{'type':_0x27054a(0x1ab)}},'required':[_0x27054a(0x8bc),'correctAnswer',_0x27054a(0x1ba)]};break;case _0x27054a(0x7ad):_0x25f903=_0x27054a(0x708)+_0x21eec4+'\x20'+_0x10d4ec+_0x27054a(0x54a)+_0x318f9a+_0x27054a(0xa2f)+_0x10d4ec+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x1408d4+'\x20'+simpleMathPrompt,_0x4469ba={'type':_0x27054a(0x446),'properties':{'questionType':{'type':_0x27054a(0x1ab),'enum':[_0x27054a(0x8f9)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x27054a(0x1ab)},'allResponses':{'type':_0x27054a(0xa25),'items':{'type':'STRING'}},'explanation':{'type':_0x27054a(0x1ab)},'imageCode':{'type':_0x27054a(0x1ab)}},'required':[_0x27054a(0x281),'stem',_0x27054a(0x209),_0x27054a(0x15f),_0x27054a(0x1ba)]};break;}const _0x531aa3={'type':_0x27054a(0x446),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x27054a(0xa25),'items':_0x4469ba}},'required':['topic',_0x27054a(0x7d4)]},_0x12f8e7=_0x27054a(0x4ec)+_0x25f903,_0x289403={'contents':[{'parts':[{'text':_0x12f8e7},{'inlineData':{'mimeType':_0x2c4f5b,'data':_0x1d875a}}]}],'generationConfig':{'responseMimeType':_0x27054a(0x17d),'responseSchema':_0x531aa3}};return handleApiCall(_0x289403[_0x27054a(0x5d7)][0x0][_0x27054a(0x862)],_0x27054a(0x81e),_0x531aa3);}async function handleApiCall(_0x1b2cd4,_0x2be983,_0x2b30ed,_0x30148d=null){const _0x65381=_0x53e3b0,_0x19c996=document[_0x65381(0x2f6)](_0x65381(0x734)),_0x194bc2=document[_0x65381(0x2f6)](_0x65381(0x49c)),_0x1024ef=document[_0x65381(0x2f6)](_0x65381(0x903)),_0x21ac6f=document['getElementById'](_0x65381(0x52b));_0x19c996[_0x65381(0x97f)][_0x65381(0x8b7)]('hidden');_0x30148d===null&&(_0x21ac6f[_0x65381(0x735)]='');_0x194bc2[_0x65381(0x97f)][_0x65381(0x8b7)](_0x65381(0x4ba)),_0x1024ef[_0x65381(0x8c8)]=_0x2be983,document[_0x65381(0x2f6)](_0x65381(0x840))[_0x65381(0x6bc)]=!![],document[_0x65381(0x2f6)](_0x65381(0x528))[_0x65381(0x6bc)]=!![],document[_0x65381(0x2f6)]('generate-from-link-btn')['disabled']=!![];try{const _0x570b04={'responseMimeType':_0x65381(0x17d),'responseSchema':_0x2b30ed},_0x3c7a89=Array[_0x65381(0x45e)](_0x1b2cd4)?_0x1b2cd4:[{'text':_0x1b2cd4}],_0x561190={'contents':[{'role':_0x65381(0x43c),'parts':_0x3c7a89}],'generationConfig':_0x570b04},_0x35c07d='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x2c9467='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x35c07d,_0x1ac0cd=await fetch(_0x2c9467,{'method':_0x65381(0x5ea),'headers':{'Content-Type':_0x65381(0x17d)},'body':JSON[_0x65381(0x84c)](_0x561190)});if(!_0x1ac0cd['ok'])throw new Error(_0x65381(0x15a)+_0x1ac0cd[_0x65381(0x25f)]);const _0x2f717c=await _0x1ac0cd[_0x65381(0x250)]();if(_0x2f717c[_0x65381(0x6d1)]?.[0x0]?.[_0x65381(0x37b)]?.[_0x65381(0x862)]?.[0x0]){let _0x1bb408=_0x2f717c[_0x65381(0x6d1)][0x0]['content'][_0x65381(0x862)][0x0][_0x65381(0x437)],_0x117745;try{if(_0x1bb408[_0x65381(0x3c9)](_0x65381(0x9c3)))_0x1bb408=_0x1bb408[_0x65381(0x5fc)](0x7,_0x1bb408[_0x65381(0x4f1)]-0x3)['trim']();else _0x1bb408[_0x65381(0x3c9)]('```')&&(_0x1bb408=_0x1bb408['substring'](0x3,_0x1bb408[_0x65381(0x4f1)]-0x3)[_0x65381(0x48c)]());_0x117745=JSON[_0x65381(0x975)](_0x1bb408);}catch(_0x2c1969){console['error']('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x2c1969,_0x1bb408);throw new Error(_0x65381(0x636));}if(_0x30148d!==null){if(_0x117745[_0x65381(0x281)]===_0x65381(0x8f9)){const _0x3e500a=currentQuizData[_0x65381(0x7d4)][_0x65381(0x6e9)](_0xa2edec=>_0xa2edec['correctResponse']);_0x117745[_0x65381(0x15f)]=_0x3e500a;const _0x503049=currentQuizData[_0x65381(0x7d4)][_0x30148d][_0x65381(0x209)],_0x203034=_0x3e500a['indexOf'](_0x503049);_0x203034>-0x1&&(_0x3e500a[_0x203034]=_0x117745[_0x65381(0x209)]),currentQuizData[_0x65381(0x7d4)][_0x65381(0x87f)](_0x3a9676=>{const _0x25cb4f=_0x65381;if(_0x3a9676[_0x25cb4f(0x281)]===_0x25cb4f(0x8f9))_0x3a9676[_0x25cb4f(0x15f)]=_0x3e500a;});}currentQuizData[_0x65381(0x7d4)][_0x30148d]=_0x117745,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x117745;const _0x598243=document[_0x65381(0x2f6)](_0x65381(0x3bf))[_0x65381(0x6b0)];currentQuizData[_0x65381(0x509)]=_0x598243,currentQuizData[_0x65381(0x7d4)]&&currentQuizData[_0x65381(0x7d4)]['forEach'](_0x4d40a1=>{const _0x5c6edb=_0x65381;if(!_0x4d40a1[_0x5c6edb(0x281)]){if(_0x598243===_0x5c6edb(0x893))_0x4d40a1[_0x5c6edb(0x281)]='multiple_choice';else _0x598243===_0x5c6edb(0x776)?_0x4d40a1[_0x5c6edb(0x281)]=_0x5c6edb(0x331):_0x4d40a1['questionType']=_0x598243;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0x65381(0x8d6),JSON[_0x65381(0x84c)](_0x2f717c));throw new Error(_0x65381(0x636));}}catch(_0x27ae70){console[_0x65381(0x4e5)](_0x65381(0x6c0),_0x27ae70),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x30148d===null&&(_0x21ac6f[_0x65381(0x735)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0x194bc2[_0x65381(0x97f)]['add'](_0x65381(0x4ba)),document[_0x65381(0x2f6)](_0x65381(0x840))['disabled']=![],document[_0x65381(0x2f6)]('generate-from-text-btn')['disabled']=![],document['getElementById'](_0x65381(0x447))[_0x65381(0x6bc)]=![];const _0x755398=document['getElementById'](_0x65381(0x57b));_0x755398&&(_0x755398['disabled']=![]);}}function exitFullscreen(){const _0xa63693=_0x53e3b0;if(document['exitFullscreen'])document[_0xa63693(0x1ee)]()[_0xa63693(0x798)](_0x39743d=>console[_0xa63693(0x4e5)](_0x39743d));else{if(document[_0xa63693(0x39d)])document['webkitExitFullscreen']();else document['msExitFullscreen']&&document['msExitFullscreen']();}}function enterFullscreen(){const _0xf54952=_0x53e3b0,_0xd79e49=document[_0xf54952(0x4d0)];if(_0xd79e49[_0xf54952(0x232)])_0xd79e49[_0xf54952(0x232)]()[_0xf54952(0x798)](_0x40f234=>{const _0x3c7308=_0xf54952;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x40f234[_0x3c7308(0x405)]+'\x20('+_0x40f234[_0x3c7308(0x682)]+')');});else{if(_0xd79e49[_0xf54952(0x608)])_0xd79e49[_0xf54952(0x608)]();else _0xd79e49[_0xf54952(0x15d)]&&_0xd79e49['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x123afd=_0x53e3b0;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x123afd(0x8ec)),document[_0x123afd(0x2f6)](_0x123afd(0x53b))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x123afd(0x8a2)](_0x123afd(0x69c),handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage(_0x123afd(0x4a5)+cheatAttempts+'/'+maxCheatAttempts+_0x123afd(0x6dd),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x39b7fc=_0x53e3b0;if(currentMode===_0x39b7fc(0x171)||!isQuizActive)return;if(document[_0x39b7fc(0x2c0)]==='hidden')handleCheatingEvent();else document[_0x39b7fc(0x2c0)]===_0x39b7fc(0x785)&&(console[_0x39b7fc(0x303)](_0x39b7fc(0x11a)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x4933e9=_0x53e3b0;if(currentMode===_0x4933e9(0x171)||!isQuizActive)return;!document[_0x4933e9(0x9ef)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x267958){const _0x2f5f10=_0x53e3b0,_0x50cddb=document[_0x2f5f10(0x2f6)](_0x2f5f10(0x52b));let _0x57ac9f=_0x2f5f10(0x824)+_0x267958[_0x2f5f10(0x6a6)]+_0x2f5f10(0x9b7);_0x267958['questions'][_0x2f5f10(0x87f)]((_0x31be5a,_0x20486b)=>{const _0x1311a3=_0x2f5f10;!_0x31be5a['id']&&(_0x31be5a['id']='q_'+Date['now']()+'_'+_0x20486b);const _0x87d6e9=_0x31be5a['questionType']||_0x267958[_0x1311a3(0x509)];_0x57ac9f+=_0x1311a3(0x63d)+_0x20486b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x20486b+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x20486b+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x20486b+_0x1311a3(0x8aa);switch(_0x87d6e9){case _0x1311a3(0x8f9):_0x57ac9f+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x20486b+'\x22>'+(_0x20486b+0x1)+'.\x20'+_0x31be5a['stem']+_0x1311a3(0x853);_0x31be5a['imageCode']&&(_0x57ac9f+=_0x1311a3(0x1d3)+_0x20486b+_0x1311a3(0x876)+_0x31be5a[_0x1311a3(0x170)]+_0x1311a3(0x245));_0x57ac9f+=_0x1311a3(0x95e)+_0x20486b+'\x22>'+_0x31be5a[_0x1311a3(0x209)]+_0x1311a3(0x616),_0x57ac9f+=_0x1311a3(0x796)+_0x20486b+'\x22>'+_0x31be5a[_0x1311a3(0x1ba)]+_0x1311a3(0x616);break;case _0x1311a3(0x331):_0x57ac9f+=_0x1311a3(0x6fe)+_0x20486b+'\x22>'+(_0x20486b+0x1)+'.\x20'+_0x31be5a[_0x1311a3(0x8bc)]+_0x1311a3(0x853);_0x31be5a[_0x1311a3(0x170)]&&(_0x57ac9f+='<div\x20id=\x22q-image-container-'+_0x20486b+_0x1311a3(0x876)+_0x31be5a[_0x1311a3(0x170)]+_0x1311a3(0x245));_0x57ac9f+=_0x1311a3(0x31f)+_0x20486b+'\x22>'+_0x31be5a[_0x1311a3(0x4b4)]+_0x1311a3(0x616),_0x57ac9f+=_0x1311a3(0x796)+_0x20486b+'\x22>'+_0x31be5a['explanation']+'</span></div>';break;case'true_false':_0x57ac9f+=_0x1311a3(0x6fe)+_0x20486b+'\x22>'+(_0x20486b+0x1)+'.\x20'+_0x31be5a['questionText']+_0x1311a3(0x853);_0x31be5a[_0x1311a3(0x170)]&&(_0x57ac9f+=_0x1311a3(0x1d3)+_0x20486b+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x31be5a[_0x1311a3(0x170)]+'</div>');_0x57ac9f+=_0x1311a3(0x1e9)+(_0x31be5a['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+_0x1311a3(0x7e1)+(_0x31be5a[_0x1311a3(0x9fe)]===![]?'text-green-600\x20font-bold':'')+_0x1311a3(0x699),_0x57ac9f+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x20486b+'\x22>'+_0x31be5a[_0x1311a3(0x1ba)]+_0x1311a3(0x616);break;case _0x1311a3(0x468):case'multiple_choice':default:_0x57ac9f+=_0x1311a3(0x6fe)+_0x20486b+'\x22>'+(_0x20486b+0x1)+'.\x20'+_0x31be5a[_0x1311a3(0x8bc)]+_0x1311a3(0x853);_0x31be5a[_0x1311a3(0x170)]&&(_0x57ac9f+='<div\x20id=\x22q-image-container-'+_0x20486b+_0x1311a3(0x876)+_0x31be5a[_0x1311a3(0x170)]+_0x1311a3(0x245));_0x57ac9f+=_0x1311a3(0xa24)+_0x20486b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31be5a[_0x1311a3(0x9b6)][_0x1311a3(0x6e9)]((_0xb09203,_0x5426b4)=>_0x1311a3(0x61e)+(_0x5426b4===_0x31be5a['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0xb09203+'</li>')[_0x1311a3(0x728)]('')+_0x1311a3(0x6e5),_0x57ac9f+=_0x1311a3(0x796)+_0x20486b+'\x22>'+_0x31be5a[_0x1311a3(0x1ba)]+'</span></div>';break;}_0x57ac9f+=_0x1311a3(0x245);}),_0x57ac9f+=_0x2f5f10(0x1b1),_0x50cddb['innerHTML']=_0x57ac9f,document[_0x2f5f10(0xa09)](_0x2f5f10(0x85a))['forEach'](_0x50230f=>_0x50230f[_0x2f5f10(0x7a9)](_0x2f5f10(0x911),handleEditQuestion)),document[_0x2f5f10(0xa09)](_0x2f5f10(0x865))[_0x2f5f10(0x87f)](_0x3166d1=>_0x3166d1[_0x2f5f10(0x7a9)]('click',handleRegenerateQuestion)),document[_0x2f5f10(0xa09)](_0x2f5f10(0x6c2))[_0x2f5f10(0x87f)](_0x592aa6=>_0x592aa6[_0x2f5f10(0x7a9)](_0x2f5f10(0x911),handleSaveToBank)),document['getElementById'](_0x2f5f10(0x4d2))[_0x2f5f10(0x7a9)](_0x2f5f10(0x911),exportQuizAsWorksheetPDF),document['getElementById'](_0x2f5f10(0x633))[_0x2f5f10(0x7a9)](_0x2f5f10(0x911),saveQuiz),document[_0x2f5f10(0x2f6)](_0x2f5f10(0x253))[_0x2f5f10(0x7a9)]('click',handleVerifyAnswers);if(window['MathJax'])window[_0x2f5f10(0x4b0)][_0x2f5f10(0x1d1)]([_0x50cddb]);}function handleRegenerateQuestion(_0x2585de){const _0x7a3847=_0x53e3b0,_0x2cd804=_0x2585de['currentTarget'][_0x7a3847(0x7c7)][_0x7a3847(0x492)],_0x2d5024=currentQuizData[_0x7a3847(0x6a6)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x2cd804)+0x1)+_0x7a3847(0x334)),generateQuiz(_0x2d5024,null,parseInt(_0x2cd804));}function getPointerPosition(_0x48bbd1,_0x1b1d66){const _0x4b1244=_0x53e3b0,_0x43ed7e=_0x48bbd1['getScreenCTM']();let _0xad9cb7,_0x1ae4d6;return _0x1b1d66['touches']&&_0x1b1d66[_0x4b1244(0x81a)]['length']>0x0?(_0xad9cb7=_0x1b1d66['touches'][0x0][_0x4b1244(0x5fa)],_0x1ae4d6=_0x1b1d66[_0x4b1244(0x81a)][0x0][_0x4b1244(0x741)]):(_0xad9cb7=_0x1b1d66['clientX'],_0x1ae4d6=_0x1b1d66[_0x4b1244(0x741)]),{'x':(_0xad9cb7-_0x43ed7e['e'])/_0x43ed7e['a'],'y':(_0x1ae4d6-_0x43ed7e['f'])/_0x43ed7e['d']};}function startDrag(_0x2cfbe3){const _0x2c5555=_0x53e3b0;_0x2cfbe3[_0x2c5555(0x449)]==='touchstart'&&_0x2cfbe3[_0x2c5555(0x167)]();const _0x3b31ff=_0x2cfbe3['target'][_0x2c5555(0x4e4)](_0x2c5555(0x945));if(_0x3b31ff){draggedSvgElement=_0x3b31ff;const _0xeb2e25=draggedSvgElement[_0x2c5555(0x9c5)],_0x5ef6ab=getPointerPosition(_0xeb2e25,_0x2cfbe3);svgOffset['x']=_0x5ef6ab['x']-parseFloat(draggedSvgElement[_0x2c5555(0x495)](null,'x')),svgOffset['y']=_0x5ef6ab['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x1053b8,_0x4d83ac){const _0x259453=_0x53e3b0,_0x193ddc={};if(_0x4d83ac[_0x259453(0x4f1)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2675bf=[..._0x4d83ac][_0x259453(0x933)]((_0x1c16d7,_0x385421)=>{const _0x2f0b81=_0x259453,_0x40ea96=_0x385421[_0x2f0b81(0x12d)]-_0x1c16d7[_0x2f0b81(0x12d)];if(_0x40ea96!==0x0)return _0x40ea96;const _0x55bb93=_0x1c16d7['attempts']?.['length']||0x1,_0x4911fb=_0x385421[_0x2f0b81(0x371)]?.[_0x2f0b81(0x4f1)]||0x1,_0x1b3826=_0x55bb93-_0x4911fb;if(_0x1b3826!==0x0)return _0x1b3826;const _0x4a4159=new Date(_0x1c16d7[_0x2f0b81(0x25e)]),_0x48d0c8=new Date(_0x385421[_0x2f0b81(0x25e)]),_0x17b329=_0x4a4159-_0x48d0c8;if(_0x17b329!==0x0)return _0x17b329;return _0x1c16d7[_0x2f0b81(0xa63)][_0x2f0b81(0x8ff)](_0x385421[_0x2f0b81(0xa63)],'th');}),_0x5abdd2=_0x2675bf['length'],_0xe10b3e=Math[_0x259453(0x5c8)](0x1,Math[_0x259453(0x671)](_0x5abdd2*0.33));if(_0xe10b3e===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0xf8a48e=_0x2675bf[_0x259453(0x54e)](0x0,_0xe10b3e),_0x21ad17=_0x2675bf[_0x259453(0x54e)](-_0xe10b3e),_0x563e35=_0xf8a48e[_0x259453(0x6e9)](_0x30e49c=>_0x30e49c[_0x259453(0xa63)]),_0x2123ca=_0x21ad17[_0x259453(0x6e9)](_0x30468b=>_0x30468b[_0x259453(0xa63)]);return _0x1053b8['questions'][_0x259453(0x87f)]((_0x2d003f,_0x4e365c)=>{const _0x14957a=_0x259453,_0x38280a=_0x2d003f[_0x14957a(0x4ae)]||_0x2d003f[_0x14957a(0x8bc)];let _0x134fca=0x0,_0x6b91ae=0x0,_0x3b7b28=0x0;const _0x340b4c=[],_0x55763c=[];_0xf8a48e[_0x14957a(0x87f)](_0x2cfde5=>{const _0x189257=_0x14957a,_0x7c1317=_0x2cfde5[_0x189257(0x371)][_0x2cfde5['attempts'][_0x189257(0x4f1)]-0x1],_0x191bc5=_0x7c1317[_0x189257(0x1b0)][_0x189257(0x8dc)](_0x58569b=>_0x58569b[_0x189257(0x869)]===_0x38280a);_0x340b4c[_0x189257(0x8c3)]({'name':_0x2cfde5[_0x189257(0xa63)],'isCorrect':_0x191bc5?_0x191bc5['isCorrect']:![]}),_0x191bc5&&_0x191bc5['isCorrect']&&_0x6b91ae++;}),_0x21ad17['forEach'](_0x393669=>{const _0x1b9d2c=_0x14957a,_0x5f1022=_0x393669['attempts'][_0x393669[_0x1b9d2c(0x371)][_0x1b9d2c(0x4f1)]-0x1],_0x1d8943=_0x5f1022[_0x1b9d2c(0x1b0)][_0x1b9d2c(0x8dc)](_0x482c5b=>_0x482c5b[_0x1b9d2c(0x869)]===_0x38280a);_0x55763c[_0x1b9d2c(0x8c3)]({'name':_0x393669[_0x1b9d2c(0xa63)],'isCorrect':_0x1d8943?_0x1d8943[_0x1b9d2c(0x294)]:![]}),_0x1d8943&&_0x1d8943[_0x1b9d2c(0x294)]&&_0x3b7b28++;}),_0x4d83ac[_0x14957a(0x87f)](_0x35d5e2=>{const _0x4602cc=_0x14957a,_0x17f8e4=_0x35d5e2['attempts'][_0x35d5e2[_0x4602cc(0x371)][_0x4602cc(0x4f1)]-0x1],_0xd81c6f=_0x17f8e4[_0x4602cc(0x1b0)][_0x4602cc(0x8dc)](_0x51dfff=>_0x51dfff['originalQuestionText']===_0x38280a);_0xd81c6f&&_0xd81c6f[_0x4602cc(0x294)]&&_0x134fca++;});const _0x4ecd5c=_0x5abdd2>0x0?_0x134fca/_0x5abdd2:0x0,_0x2dee71=_0xe10b3e>0x0?_0x6b91ae/_0xe10b3e-_0x3b7b28/_0xe10b3e:0x0;_0x193ddc[_0x4e365c]={'p':_0x4ecd5c,'r':_0x2dee71,'upperGroupResponders':_0x340b4c,'lowerGroupResponders':_0x55763c};}),{'perQuestionStats':_0x193ddc,'overallGroups':{'upperGroupNames':_0x563e35,'lowerGroupNames':_0x2123ca}};}function drag(_0xb3d3bd){const _0x35587b=_0x53e3b0;if(draggedSvgElement){_0xb3d3bd[_0x35587b(0x167)]();const _0x33b37e=draggedSvgElement[_0x35587b(0x9c5)],_0x2b2a25=getPointerPosition(_0x33b37e,_0xb3d3bd),_0x490886=_0x33b37e[_0x35587b(0x7d8)][_0x35587b(0x381)];let _0x5d0ad4=_0x2b2a25['x']-svgOffset['x'],_0x31a756=_0x2b2a25['y']-svgOffset['y'];const _0x4b721e=draggedSvgElement[_0x35587b(0x71a)]();_0x5d0ad4=Math[_0x35587b(0x5c8)](_0x490886['x'],Math[_0x35587b(0x31e)](_0x5d0ad4,_0x490886['x']+_0x490886[_0x35587b(0x652)]-_0x4b721e['width'])),_0x31a756=Math[_0x35587b(0x5c8)](_0x490886['y'],Math[_0x35587b(0x31e)](_0x31a756,_0x490886['y']+_0x490886[_0x35587b(0x57e)]-_0x4b721e[_0x35587b(0x57e)])),draggedSvgElement[_0x35587b(0x6a0)](null,'x',_0x5d0ad4),draggedSvgElement[_0x35587b(0x6a0)](null,'y',_0x31a756);}}function endDrag(_0x338265){draggedSvgElement=null;}function handleSvgEditClick(_0x3eebcb){const _0x29b118=_0x53e3b0;if(_0x3eebcb[_0x29b118(0x4d5)]['classList'][_0x29b118(0x632)](_0x29b118(0x225))){const _0x5eeee3=_0x3eebcb['target'][_0x29b118(0x7c7)][_0x29b118(0x596)],_0x60e24a=_0x3eebcb[_0x29b118(0x439)],_0x56ba79=_0x60e24a['querySelector']('#'+_0x5eeee3);_0x56ba79&&_0x56ba79[_0x29b118(0x8b7)](),_0x3eebcb[_0x29b118(0x4d5)][_0x29b118(0x8b7)]();}}function handleEditQuestion(_0x1d7fd2){const _0x35c9ea=_0x53e3b0,_0x2f4680=_0x1d7fd2[_0x35c9ea(0x439)],_0x1b723a=_0x2f4680[_0x35c9ea(0x7c7)]['index'],_0x338323=currentQuizData[_0x35c9ea(0x7d4)][_0x1b723a],_0x539df3=document[_0x35c9ea(0x2f6)](_0x35c9ea(0x3d9)+_0x1b723a),_0x1c6d93=document[_0x35c9ea(0x2f6)](_0x35c9ea(0x77d)+_0x1b723a),_0x43ad2f=document[_0x35c9ea(0x2f6)](_0x35c9ea(0x994)+_0x1b723a);if(_0x2f4680[_0x35c9ea(0x735)][_0x35c9ea(0x12a)]('fa-pen')){_0x2f4680[_0x35c9ea(0x735)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x2f4680['title']=_0x35c9ea(0x716);if(_0x539df3)_0x539df3[_0x35c9ea(0x958)]=!![];if(_0x1c6d93)_0x1c6d93[_0x35c9ea(0x958)]=!![];if(_0x43ad2f){const _0x12f140=_0x43ad2f[_0x35c9ea(0x70d)](_0x35c9ea(0x8a5));if(_0x12f140){const _0x5000b9=_0x12f140['querySelectorAll'](_0x35c9ea(0x437));_0x5000b9[_0x35c9ea(0x87f)]((_0x5bb518,_0x21d18f)=>{const _0x147c09=_0x35c9ea,_0x4b07b1=_0x147c09(0x1cd)+_0x1b723a+'-'+_0x21d18f;_0x5bb518['id']=_0x4b07b1,_0x5bb518[_0x147c09(0x97f)]['add'](_0x147c09(0x768)),_0x5bb518[_0x147c09(0x7c1)][_0x147c09(0x38a)]=_0x147c09(0x7e5);const _0x45a052=document[_0x147c09(0x9f9)](_0x147c09(0xa20),_0x147c09(0x72a)),_0x37a6dd=_0x5bb518[_0x147c09(0x71a)]();_0x45a052[_0x147c09(0x504)]('cx',String(_0x37a6dd['x']+_0x37a6dd[_0x147c09(0x652)]+0x5)),_0x45a052['setAttribute']('cy',String(_0x37a6dd['y']+_0x37a6dd['height']/0x2-0x5)),_0x45a052[_0x147c09(0x504)]('r','5'),_0x45a052['setAttribute']('fill',_0x147c09(0x5a8)),_0x45a052[_0x147c09(0x504)](_0x147c09(0x261),_0x147c09(0x225)),_0x45a052['dataset'][_0x147c09(0x596)]=_0x4b07b1,_0x5bb518['after'](_0x45a052);}),_0x12f140[_0x35c9ea(0x7a9)](_0x35c9ea(0x30e),startDrag),_0x12f140['addEventListener'](_0x35c9ea(0x6cc),drag),_0x12f140[_0x35c9ea(0x7a9)](_0x35c9ea(0x2f3),endDrag),_0x12f140['addEventListener'](_0x35c9ea(0x287),endDrag),_0x12f140[_0x35c9ea(0x7a9)]('touchstart',startDrag,{'passive':![]}),_0x12f140[_0x35c9ea(0x7a9)](_0x35c9ea(0x4ed),drag,{'passive':![]}),_0x12f140[_0x35c9ea(0x7a9)](_0x35c9ea(0x45a),endDrag),_0x12f140[_0x35c9ea(0x7a9)](_0x35c9ea(0x557),endDrag),_0x12f140[_0x35c9ea(0x7a9)](_0x35c9ea(0x911),handleSvgEditClick);}}if(_0x539df3)_0x539df3['focus']();}else{_0x2f4680[_0x35c9ea(0x735)]=_0x35c9ea(0x697),_0x2f4680[_0x35c9ea(0x98a)]=_0x35c9ea(0x8e8);if(_0x539df3){_0x539df3[_0x35c9ea(0x958)]=![];const _0x512750=_0x338323[_0x35c9ea(0x281)]||currentQuizData[_0x35c9ea(0x509)];_0x512750===_0x35c9ea(0x8f9)?_0x338323[_0x35c9ea(0x4ae)]=_0x539df3[_0x35c9ea(0x930)][_0x35c9ea(0x5fc)](_0x539df3[_0x35c9ea(0x930)]['indexOf']('.')+0x2)[_0x35c9ea(0x48c)]():_0x338323[_0x35c9ea(0x8bc)]=_0x539df3['innerText'][_0x35c9ea(0x5fc)](_0x539df3['innerText']['indexOf']('.')+0x2)[_0x35c9ea(0x48c)]();}_0x1c6d93&&(_0x1c6d93[_0x35c9ea(0x958)]=![],_0x338323[_0x35c9ea(0x1ba)]=_0x1c6d93[_0x35c9ea(0x930)]);if(_0x43ad2f){const _0x36e7f4=_0x43ad2f['querySelector'](_0x35c9ea(0x8a5));if(_0x36e7f4){const _0x28794e=_0x36e7f4[_0x35c9ea(0x8b1)](!![]);_0x28794e[_0x35c9ea(0xa09)](_0x35c9ea(0x440))['forEach'](_0x248d14=>_0x248d14[_0x35c9ea(0x8b7)]()),_0x28794e[_0x35c9ea(0xa09)]('.draggable-text')[_0x35c9ea(0x87f)](_0x4f3589=>{const _0x253931=_0x35c9ea;_0x4f3589[_0x253931(0x97f)][_0x253931(0x8b7)](_0x253931(0x768)),_0x4f3589['style'][_0x253931(0x38a)]='default',_0x4f3589[_0x253931(0x4f4)]('id');}),_0x338323[_0x35c9ea(0x170)]=_0x28794e['outerHTML'],_0x36e7f4[_0x35c9ea(0x8a2)](_0x35c9ea(0x30e),startDrag),_0x36e7f4[_0x35c9ea(0x8a2)]('mousemove',drag),_0x36e7f4[_0x35c9ea(0x8a2)](_0x35c9ea(0x2f3),endDrag),_0x36e7f4[_0x35c9ea(0x8a2)](_0x35c9ea(0x287),endDrag),_0x36e7f4[_0x35c9ea(0x8a2)](_0x35c9ea(0x781),startDrag),_0x36e7f4[_0x35c9ea(0x8a2)](_0x35c9ea(0x4ed),drag),_0x36e7f4['removeEventListener'](_0x35c9ea(0x45a),endDrag),_0x36e7f4[_0x35c9ea(0x8a2)](_0x35c9ea(0x557),endDrag),_0x36e7f4['removeEventListener'](_0x35c9ea(0x911),handleSvgEditClick),_0x36e7f4[_0x35c9ea(0xa09)](_0x35c9ea(0x440))['forEach'](_0x5ed88e=>_0x5ed88e[_0x35c9ea(0x8b7)]()),_0x36e7f4[_0x35c9ea(0xa09)](_0x35c9ea(0x945))[_0x35c9ea(0x87f)](_0x3fded5=>{const _0x349cb7=_0x35c9ea;_0x3fded5['classList']['remove'](_0x349cb7(0x768)),_0x3fded5[_0x349cb7(0x7c1)][_0x349cb7(0x38a)]=_0x349cb7(0x97e);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x43f10a){const _0x276a33=_0x53e3b0,_0x4fb937=document['getElementById'](_0x276a33(0x1e1)),_0x3d0da5=document[_0x276a33(0x2f6)]('quiz-editor-questions-container');_0x3d0da5[_0x276a33(0x735)]=_0x276a33(0x67d),_0x4fb937[_0x276a33(0x97f)][_0x276a33(0x8b7)]('hidden');try{const _0x145a6d=doc(db,_0x276a33(0x50e)+appId+_0x276a33(0x7ee),_0x43f10a),_0x1414ff=await getDoc(_0x145a6d);if(!_0x1414ff[_0x276a33(0x4bc)]())throw new Error(_0x276a33(0x488));currentEditingQuizData={'id':_0x43f10a,..._0x1414ff[_0x276a33(0x1b4)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xb0ab57){console[_0x276a33(0x4e5)]('Error\x20opening\x20quiz\x20editor:',_0xb0ab57),showMessage(_0x276a33(0x3c4)),_0x4fb937[_0x276a33(0x97f)][_0x276a33(0x218)](_0x276a33(0x4ba));}}function renderQuizEditor(_0x34b1e2){const _0x18be55=_0x53e3b0;document['getElementById'](_0x18be55(0x92c))[_0x18be55(0x6b0)]=_0x34b1e2[_0x18be55(0x6a6)];const _0x5cb11a=document['getElementById'](_0x18be55(0x392));let _0x4edbf2=_0x34b1e2[_0x18be55(0x7d4)][_0x18be55(0x6e9)]((_0x5a05a2,_0x4fe001)=>{const _0x146fe8=_0x18be55;let _0x2ff220='';const _0x18789e=_0x5a05a2['questionType']||_0x34b1e2[_0x146fe8(0x509)];switch(_0x18789e){case _0x146fe8(0x7f3):const _0x32cfd6=(_0x5a05a2[_0x146fe8(0x9b6)]||[])['map']((_0x52850b,_0x2f72ec)=>_0x146fe8(0x95c)+_0x4fe001+'\x22\x20value=\x22'+_0x2f72ec+'\x22\x20'+(_0x2f72ec===_0x5a05a2[_0x146fe8(0x94a)]?_0x146fe8(0x3a8):'')+_0x146fe8(0x761)+_0x52850b+_0x146fe8(0x315))[_0x146fe8(0x728)]('');_0x2ff220=_0x146fe8(0xa58)+_0x32cfd6+_0x146fe8(0x915);break;case _0x146fe8(0x331):_0x2ff220=_0x146fe8(0x9d6)+(_0x5a05a2[_0x146fe8(0x4b4)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x146fe8(0x529):_0x2ff220=_0x146fe8(0x55d)+_0x4fe001+'\x22\x20value=\x22true\x22\x20'+(_0x5a05a2[_0x146fe8(0x9fe)]===!![]?_0x146fe8(0x3a8):'')+_0x146fe8(0x5e4)+_0x4fe001+_0x146fe8(0xa39)+(_0x5a05a2[_0x146fe8(0x9fe)]===![]?_0x146fe8(0x3a8):'')+_0x146fe8(0x4bf);break;case _0x146fe8(0x8f9):_0x2ff220=_0x146fe8(0x4bd)+(_0x5a05a2[_0x146fe8(0x209)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x3846e5=_0x5a05a2[_0x146fe8(0x8bc)]||_0x5a05a2[_0x146fe8(0x4ae)]||'';return _0x146fe8(0x520)+_0x4fe001+'\x22\x20data-q-type=\x22'+_0x18789e+_0x146fe8(0x22c)+(_0x4fe001+0x1)+'\x20('+_0x18789e+_0x146fe8(0x49a)+_0x3846e5+_0x146fe8(0x3f7)+_0x2ff220+'</div>\x0a</div>\x0a';})[_0x18be55(0x728)]('');_0x5cb11a[_0x18be55(0x735)]=_0x4edbf2,_0x5cb11a[_0x18be55(0xa09)](_0x18be55(0x9ad))[_0x18be55(0x87f)](_0x55bc80=>{const _0x231fdd=_0x18be55;_0x55bc80[_0x231fdd(0x7a9)]('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x41dc9c){const _0x129e60=_0x53e3b0,_0x4c0190=_0x41dc9c[_0x129e60(0x439)],_0x59db6f=_0x4c0190['closest'](_0x129e60(0x9dc));if(!_0x59db6f)return;const _0x1cf358=parseInt(_0x59db6f[_0x129e60(0x7c7)]['qIndex'],0xa);if(isNaN(_0x1cf358)||!currentEditingQuizData[_0x129e60(0x7d4)][_0x1cf358]){showMessage(_0x129e60(0x182));return;}const _0x4fc840=currentEditingQuizData[_0x129e60(0x7d4)][_0x1cf358];_0x4c0190[_0x129e60(0x735)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x4c0190[_0x129e60(0x6bc)]=!![];const _0x28f207=_0x129e60(0x48b)+JSON[_0x129e60(0x84c)](_0x4fc840)+_0x129e60(0x55a);let _0xaced87;const _0x1c160d=_0x4fc840[_0x129e60(0x281)]||currentEditingQuizData['quizType'];switch(_0x1c160d){case _0x129e60(0x331):_0xaced87={'type':_0x129e60(0x446),'properties':{'questionText':{'type':_0x129e60(0x1ab)},'idealAnswer':{'type':_0x129e60(0x1ab)},'explanation':{'type':_0x129e60(0x1ab)},'imageCode':{'type':'STRING'}},'required':[_0x129e60(0x8bc),_0x129e60(0x4b4),_0x129e60(0x1ba)]};break;case _0x129e60(0x7f3):default:_0xaced87={'type':_0x129e60(0x446),'properties':{'questionText':{'type':_0x129e60(0x1ab)},'options':{'type':_0x129e60(0xa25),'items':{'type':_0x129e60(0x1ab)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x129e60(0x1ab)}},'required':[_0x129e60(0x8bc),'options',_0x129e60(0x94a),_0x129e60(0x1ba)]};break;}try{let _0x4866aa=await callAnalysisApi(_0x28f207,_0xaced87);_0x4866aa[_0x129e60(0x9b6)]&&Array[_0x129e60(0x45e)](_0x4866aa[_0x129e60(0x9b6)])&&(_0x4866aa[_0x129e60(0x9b6)]=_0x4866aa[_0x129e60(0x9b6)][_0x129e60(0x6e9)](_0x33f9b4=>typeof _0x33f9b4===_0x129e60(0x1a5)?_0x33f9b4[_0x129e60(0x15c)](/S(\s*[\d_]+?\s*)S/g,_0x129e60(0x3a4)):_0x33f9b4)),_0x4fc840[_0x129e60(0x170)]&&_0x4fc840[_0x129e60(0x170)][_0x129e60(0x12a)](_0x129e60(0x39e))&&(_0x4866aa[_0x129e60(0x170)]=''),currentEditingQuizData[_0x129e60(0x7d4)][_0x1cf358]={..._0x4fc840,..._0x4866aa},renderQuizEditor(currentEditingQuizData),showMessage(_0x129e60(0x4a8));}catch(_0x496251){console[_0x129e60(0x4e5)]('AI\x20Fix\x20Error:',_0x496251),showMessage(_0x129e60(0x5dc)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x17d68f=_0x53e3b0,_0x2cffe3=document[_0x17d68f(0x2f6)](_0x17d68f(0x454));_0x2cffe3[_0x17d68f(0x6bc)]=!![],_0x2cffe3[_0x17d68f(0x735)]=_0x17d68f(0x656);try{const _0x1f7361=document[_0x17d68f(0x2f6)](_0x17d68f(0x92c))['value'],_0x152304=document[_0x17d68f(0xa09)](_0x17d68f(0x9dc));let _0xaa486c=[];const _0x42017c=Array['from'](_0x152304)[_0x17d68f(0x6e9)]((_0x130d61,_0x4b6238)=>{const _0x180dd0=_0x17d68f,_0x3052f3=_0x130d61[_0x180dd0(0x7c7)][_0x180dd0(0x4f6)],_0x3c96b3=_0x130d61['querySelector'](_0x180dd0(0x61a))[_0x180dd0(0x6b0)];let _0x5e7f02={'questionType':_0x3052f3};const _0x48f896=currentEditingQuizData[_0x180dd0(0x7d4)][_0x4b6238];switch(_0x3052f3){case'multiple_choice':_0x5e7f02[_0x180dd0(0x8bc)]=_0x3c96b3;const _0x7c753a=_0x130d61[_0x180dd0(0xa09)](_0x180dd0(0x179));_0x5e7f02['options']=Array[_0x180dd0(0x535)](_0x7c753a)['map'](_0x48a02f=>_0x48a02f[_0x180dd0(0x6b0)]);const _0x1ce7e9=_0x130d61['querySelector'](_0x180dd0(0x68d));_0x5e7f02['correctAnswerIndex']=_0x1ce7e9?parseInt(_0x1ce7e9[_0x180dd0(0x6b0)]):0x0;break;case _0x180dd0(0x331):_0x5e7f02[_0x180dd0(0x8bc)]=_0x3c96b3,_0x5e7f02[_0x180dd0(0x4b4)]=_0x130d61[_0x180dd0(0x70d)](_0x180dd0(0x700))['value'];break;case'true_false':_0x5e7f02[_0x180dd0(0x8bc)]=_0x3c96b3;const _0x2f40cb=_0x130d61['querySelector'](_0x180dd0(0x68d));_0x5e7f02['correctAnswer']=_0x2f40cb?_0x2f40cb[_0x180dd0(0x6b0)]===_0x180dd0(0x3e6):!![];break;case _0x180dd0(0x8f9):_0x5e7f02['stem']=_0x3c96b3;const _0x3ae696=_0x130d61['querySelector'](_0x180dd0(0x773));_0x5e7f02[_0x180dd0(0x209)]=_0x3ae696?_0x3ae696[_0x180dd0(0x6b0)]:'',_0xaa486c[_0x180dd0(0x8c3)](_0x5e7f02[_0x180dd0(0x209)]);break;default:_0x5e7f02['questionText']=_0x3c96b3;break;}return{..._0x48f896,..._0x5e7f02};});_0xaa486c[_0x17d68f(0x4f1)]>0x0&&_0x42017c[_0x17d68f(0x87f)](_0x7cfad2=>{const _0x47d349=_0x17d68f;_0x7cfad2[_0x47d349(0x281)]===_0x47d349(0x8f9)&&(_0x7cfad2['allResponses']=_0xaa486c);});const _0x25a4ea=currentEditingQuizData['id'],_0x2a08b3=doc(db,_0x17d68f(0x50e)+appId+'/public/data/quizzes',_0x25a4ea);await updateDoc(_0x2a08b3,{'topic':_0x1f7361,'questions':_0x42017c}),document['getElementById'](_0x17d68f(0x1e1))[_0x17d68f(0x97f)][_0x17d68f(0x218)](_0x17d68f(0x4ba)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x25a4ea));}catch(_0xbea43a){console[_0x17d68f(0x4e5)]('Error\x20saving\x20quiz\x20edits:',_0xbea43a),showMessage(_0x17d68f(0x87a));}finally{_0x2cffe3['disabled']=![],_0x2cffe3[_0x17d68f(0x735)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x6ddf2d){const _0x100b6d=_0x53e3b0;showMessage(_0x100b6d(0x58e));try{const _0x5f1e14=doc(db,_0x100b6d(0x50e)+appId+_0x100b6d(0x7ee),_0x6ddf2d),_0xed997f=await getDoc(_0x5f1e14);if(!_0xed997f[_0x100b6d(0x4bc)]())throw new Error(_0x100b6d(0x8bd));const _0x208dc4={'id':_0x6ddf2d,..._0xed997f['data']()},_0x585644=collection(db,'artifacts/'+appId+_0x100b6d(0x7ee),_0x6ddf2d,'submissions'),_0xfdaeb0=await getDocs(_0x585644);if(_0xfdaeb0[_0x100b6d(0x553)]){showMessage(_0x100b6d(0x1ef));return;}const _0x18433d=_0xfdaeb0[_0x100b6d(0x51f)][_0x100b6d(0x6e9)](_0x3a92cc=>reGradeSingleSubmission(_0x3a92cc,_0x208dc4));await Promise[_0x100b6d(0x260)](_0x18433d);if(_0x208dc4[_0x100b6d(0x63c)]){const _0x3224d7=doc(db,_0x100b6d(0x50e)+appId+_0x100b6d(0x33e),_0x208dc4[_0x100b6d(0x63c)]),_0xcdeeff=await getDoc(_0x3224d7);if(_0xcdeeff[_0x100b6d(0x4bc)]()&&_0xcdeeff[_0x100b6d(0x1b4)]()[_0x100b6d(0x3f3)]){const _0x42fc5c=_0xcdeeff['data']()[_0x100b6d(0x3f3)]['map'](_0xdb87cd=>updateStudentProfile(_0x208dc4[_0x100b6d(0x63c)],_0xdb87cd));await Promise[_0x100b6d(0x260)](_0x42fc5c);}}showMessage(_0x100b6d(0x5de)+_0xfdaeb0['size']+_0x100b6d(0x8ce));}catch(_0x43cf6e){console['error'](_0x100b6d(0x7f4),_0x43cf6e),showMessage(_0x100b6d(0x48d)+_0x43cf6e['message']);}}async function reGradeSingleSubmission(_0x24df0b,_0x3b2175){const _0x51ace3=_0x53e3b0,_0x5ab64c=_0x24df0b['data'](),_0x26bf2f=_0x5ab64c[_0x51ace3(0xa63)],_0x14be74=_0x5ab64c[_0x51ace3(0x371)]||[],_0x3ffc10=[];for(const _0x4a18f9 of _0x14be74){let _0x4701f5=0x0,_0xf3d3ec=[],_0x348ecb=0x0;const _0x11ba30=[];for(const _0x218e4b of _0x4a18f9[_0x51ace3(0x1b0)]){let _0x21d6ae;_0x218e4b['questionId']&&(_0x21d6ae=_0x3b2175['questions'][_0x51ace3(0x8dc)](_0x47cd79=>_0x47cd79['id']===_0x218e4b[_0x51ace3(0x172)]));!_0x21d6ae&&_0x218e4b[_0x51ace3(0x869)]&&(_0x21d6ae=_0x3b2175[_0x51ace3(0x7d4)][_0x51ace3(0x8dc)](_0x2b7bf6=>(_0x2b7bf6[_0x51ace3(0x4ae)]||_0x2b7bf6['questionText'])===_0x218e4b['originalQuestionText']));let _0x21fdc2=![];if(_0x21d6ae){const _0x3717ea=_0x21d6ae['questionType']||_0x3b2175[_0x51ace3(0x509)];switch(_0x3717ea){case _0x51ace3(0x7f3):if(_0x21d6ae[_0x51ace3(0x9b6)]&&_0x21d6ae[_0x51ace3(0x94a)]<_0x21d6ae[_0x51ace3(0x9b6)][_0x51ace3(0x4f1)]){const _0x3031b5=_0x21d6ae[_0x51ace3(0x9b6)][_0x21d6ae[_0x51ace3(0x94a)]];_0x21fdc2=_0x218e4b['answerText']===_0x3031b5;}break;case'true_false':const _0x36f6ca=_0x218e4b[_0x51ace3(0x58b)]===!![]||_0x218e4b['answer']==='true';_0x21fdc2=_0x36f6ca===_0x21d6ae['correctAnswer'];break;case _0x51ace3(0x8f9):_0x21fdc2=_0x218e4b[_0x51ace3(0x58b)]===_0x21d6ae[_0x51ace3(0x209)];break;case _0x51ace3(0x331):_0x21fdc2=await gradeShortAnswer(_0x218e4b[_0x51ace3(0x58b)],_0x21d6ae);break;default:_0x21fdc2=_0x218e4b['isCorrect'];break;}}if(_0x21fdc2){_0x4701f5++,_0x348ecb++;if(_0x348ecb===0x3)_0xf3d3ec[_0x51ace3(0x8c3)](BADGES[_0x51ace3(0x566)]['id']);}else _0x348ecb=0x0;_0x11ba30['push']({..._0x218e4b,'isCorrect':_0x21fdc2});}let _0x519bbe=_0x4701f5*0xa;_0x4701f5===_0x3b2175['questions'][_0x51ace3(0x4f1)]&&(_0x519bbe+=0x32,_0xf3d3ec['push'](BADGES[_0x51ace3(0xa53)]['id'])),_0x3ffc10[_0x51ace3(0x8c3)]({..._0x4a18f9,'score':_0x4701f5,'points':_0x519bbe,'badges':Array[_0x51ace3(0x535)](new Set(_0xf3d3ec)),'answers':_0x11ba30});}const _0x50cc62=_0x3ffc10[_0x51ace3(0x4f1)]>0x0?_0x3ffc10[0x0][_0x51ace3(0x19e)]:0x0,_0x405e3c=Math[_0x51ace3(0x5c8)](..._0x3ffc10[_0x51ace3(0x6e9)](_0x1e6aff=>_0x1e6aff['score'])),_0x547fc0=_0x3ffc10[_0x51ace3(0x4f1)]>0x0?_0x3ffc10[_0x3ffc10[_0x51ace3(0x4f1)]-0x1][_0x51ace3(0x19e)]:0x0,_0x4a8069=_0x3ffc10[_0x51ace3(0x4f1)]>0x0?_0x3ffc10[_0x3ffc10[_0x51ace3(0x4f1)]-0x1][_0x51ace3(0x3ef)]:0x0,_0x31ab57=doc(db,_0x51ace3(0x50e)+appId+_0x51ace3(0x150)+_0x3b2175['id']+_0x51ace3(0x80f),_0x26bf2f);await updateDoc(_0x31ab57,{'attempts':_0x3ffc10,'firstScore':_0x50cc62,'bestScore':_0x405e3c,'latestScore':_0x547fc0,'points':_0x4a8069});}function cleanupQuizOptions(_0x4923d6){const _0x203970=_0x53e3b0,_0x22f8e4=(_0x26fab0,_0x29d162)=>_0x29d162===0x0?_0x26fab0:_0x22f8e4(_0x29d162,_0x26fab0%_0x29d162),_0x38f774=_0x42a84f=>{const _0x4d877e=_0x26e1;if(typeof _0x42a84f!==_0x4d877e(0x1a5))return null;_0x42a84f=_0x42a84f['trim']();const _0x381796=_0x42a84f[_0x4d877e(0x29b)](/[ /]/)[_0x4d877e(0x845)](_0x4b3f75=>_0x4b3f75!=='');if(_0x381796['length']===0x3)return parseInt(_0x381796[0x0])+parseInt(_0x381796[0x1])/parseInt(_0x381796[0x2]);else{if(_0x381796['length']===0x2)return parseInt(_0x381796[0x0])/parseInt(_0x381796[0x1]);else{if(_0x381796['length']===0x1&&!isNaN(_0x381796[0x0]))return parseFloat(_0x381796[0x0]);}}return null;},_0xd9773b=_0x147f5d=>{const _0x2f6816=_0x26e1;if(typeof _0x147f5d!==_0x2f6816(0x1a5))return _0x147f5d;const _0x3cb1f6=_0x147f5d[_0x2f6816(0x800)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3cb1f6){const _0x4d6273=parseInt(_0x3cb1f6[0x1]);let _0x53e3f3=parseInt(_0x3cb1f6[0x2]),_0x4fcc4a=parseInt(_0x3cb1f6[0x3]);const _0x2e7348=_0x22f8e4(_0x53e3f3,_0x4fcc4a);_0x53e3f3/=_0x2e7348,_0x4fcc4a/=_0x2e7348;if(_0x4fcc4a===0x1)return(_0x4d6273+_0x53e3f3)['toString']();return _0x4d6273+'\x20'+_0x53e3f3+'/'+_0x4fcc4a;}return _0x147f5d;};return _0x4923d6&&_0x4923d6[_0x203970(0x7d4)]&&_0x4923d6[_0x203970(0x7d4)]['forEach'](_0x76800a=>{const _0x45debd=_0x203970;if(_0x76800a[_0x45debd(0x281)]===_0x45debd(0x7f3)&&_0x76800a['options']){const _0xb570f1=new Map(),_0x4db1ce=_0x76800a['options'][_0x76800a[_0x45debd(0x94a)]];_0x76800a['options'][_0x45debd(0x87f)](_0x1fb08e=>{const _0x112fe0=_0x45debd,_0x5cf6fd=_0xd9773b(_0x1fb08e),_0x593776=_0x38f774(_0x5cf6fd);_0x593776!==null&&!_0xb570f1[_0x112fe0(0x6f1)](_0x593776)&&_0xb570f1['set'](_0x593776,_0x5cf6fd);}),_0x76800a[_0x45debd(0x9b6)]=Array['from'](_0xb570f1[_0x45debd(0x74d)]());const _0x400ab2=_0x76800a[_0x45debd(0x9b6)][_0x45debd(0x8b9)](_0x4d19b8=>_0x4d19b8===_0xd9773b(_0x4db1ce));_0x76800a[_0x45debd(0x94a)]=_0x400ab2!==-0x1?_0x400ab2:0x0;}}),_0x4923d6;}function showGameStartConfirmationModal(_0x16ee0b,_0x8e80c1,_0x4882eb){const _0x2be3d7=_0x53e3b0,_0x12b7b4=document[_0x2be3d7(0x2f6)](_0x2be3d7(0xa3b));document['getElementById'](_0x2be3d7(0x344))[_0x2be3d7(0x8c8)]=_0x2be3d7(0x233)+_0x4882eb,document['getElementById'](_0x2be3d7(0x841))[_0x2be3d7(0x6b0)]=_0x16ee0b,document[_0x2be3d7(0x2f6)](_0x2be3d7(0x23c))[_0x2be3d7(0x6b0)]=_0x8e80c1,document[_0x2be3d7(0x2f6)]('save-game-results-checkbox')[_0x2be3d7(0x3a8)]=!![],_0x12b7b4[_0x2be3d7(0x97f)]['remove']('hidden');}async function saveGameResultsAsSubmissions(_0x4406b0){const _0x2f799f=_0x53e3b0;console['log']('Attempting\x20to\x20save\x20game\x20results...',_0x4406b0);const _0x361723=_0x4406b0['quizId'];let _0x431d0f=[];if(_0x4406b0[_0x2f799f(0x46d)])_0x431d0f=Object['entries'](_0x4406b0[_0x2f799f(0x46d)])[_0x2f799f(0x6e9)](([_0x264e7d,_0xc52c5c])=>({'name':_0x264e7d,..._0xc52c5c}));else{if(_0x4406b0['groups'])Object['values'](_0x4406b0[_0x2f799f(0x646)])[_0x2f799f(0x87f)](_0x511b3a=>{const _0x104c32=_0x2f799f;_0x511b3a['members'][_0x104c32(0x87f)](_0x908966=>{const _0x4b3a90=_0x104c32;_0x431d0f[_0x4b3a90(0x8c3)]({'name':_0x908966,'score':_0x511b3a[_0x4b3a90(0x19e)]});});});else _0x4406b0[_0x2f799f(0x668)]&&Object['entries'](_0x4406b0[_0x2f799f(0x668)])[_0x2f799f(0x87f)](([_0x38806a,_0x3d9a92])=>{const _0x39a747=_0x2f799f;_0x431d0f[_0x39a747(0x8c3)]({'name':_0x38806a,..._0x3d9a92});});}if(_0x431d0f[_0x2f799f(0x4f1)]===0x0){console[_0x2f799f(0x303)](_0x2f799f(0x8b8));return;}const _0x3e00d4=_0x4406b0[_0x2f799f(0x8f4)]?.[_0x2f799f(0x7d4)][_0x2f799f(0x4f1)]||currentQuizData['questions'][_0x2f799f(0x4f1)],_0x2bca34=writeBatch(db);for(const _0x3dd109 of _0x431d0f){const _0x5ab393=_0x3dd109[_0x2f799f(0x19e)]||0x0,_0x11482f=doc(db,_0x2f799f(0x50e)+appId+_0x2f799f(0x150)+_0x361723+_0x2f799f(0x80f),_0x3dd109[_0x2f799f(0x682)]),_0x4e62f2={'score':_0x5ab393,'points':_0x5ab393*0xa,'badges':_0x3dd109['badges']||[],'submittedAt':new Date()[_0x2f799f(0x9a6)](),'answers':(_0x3dd109['answers']||[])['map'](_0x9cbb58=>({'questionId':_0x9cbb58[_0x2f799f(0x172)],'answer':_0x9cbb58[_0x2f799f(0x58b)],'answerText':_0x9cbb58['answerText'],'isCorrect':_0x9cbb58[_0x2f799f(0x294)],'originalQuestionText':_0x9cbb58[_0x2f799f(0x869)]}))},_0x411a61=await getDoc(_0x11482f),_0x5bb104=_0x411a61[_0x2f799f(0x4bc)]()?_0x411a61[_0x2f799f(0x1b4)]():{},_0x4ccbf5=_0x5bb104[_0x2f799f(0x8db)]||0x0,_0x426716=_0x5bb104[_0x2f799f(0x371)]||[],_0x151211={'studentName':_0x3dd109[_0x2f799f(0x682)],'totalQuestions':_0x3e00d4,'attempts':arrayUnion(_0x4e62f2),'latestScore':_0x5ab393,'latestSubmittedAt':_0x4e62f2['submittedAt'],'bestScore':Math[_0x2f799f(0x5c8)](_0x4ccbf5,_0x5ab393),'firstScore':_0x426716[_0x2f799f(0x4f1)]===0x0?_0x5ab393:_0x5bb104[_0x2f799f(0x28c)]||0x0};_0x2bca34[_0x2f799f(0xa72)](_0x11482f,_0x151211,{'merge':!![]});}try{await _0x2bca34[_0x2f799f(0xa46)](),showMessage('บันทึกผลการเล่นเกมของ\x20'+_0x431d0f[_0x2f799f(0x4f1)]+_0x2f799f(0x5bf));const _0x98d6a0=_0x4406b0[_0x2f799f(0x8f4)]?.[_0x2f799f(0x63c)]||currentQuizData?.[_0x2f799f(0x63c)]||currentProjectId;if(_0x98d6a0){const _0x5f551b=[...new Set(_0x431d0f['map'](_0x126f68=>_0x126f68[_0x2f799f(0x682)]))];for(const _0x273364 of _0x5f551b){await updateStudentProfile(_0x98d6a0,_0x273364);}}}catch(_0x4a9aab){console[_0x2f799f(0x4e5)](_0x2f799f(0x455),_0x4a9aab),showMessage(_0x2f799f(0x5f8));}}async function saveQuiz(){const _0x417fc9=_0x53e3b0;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x417fc9(0x7d4)]||!userId){showMessage(_0x417fc9(0x757));return;}const _0x36922a=document[_0x417fc9(0x2f6)]('save-quiz-btn');_0x36922a[_0x417fc9(0x6bc)]=!![],_0x36922a[_0x417fc9(0x735)]=_0x417fc9(0x656);const _0x3c55a9=document[_0x417fc9(0x2f6)](_0x417fc9(0x83e))[_0x417fc9(0x3a8)];let _0x21fe3e=document[_0x417fc9(0x2f6)](_0x417fc9(0x72b))['innerText']['trim']();_0x3c55a9&&!_0x21fe3e['startsWith'](_0x417fc9(0x42d))&&(_0x21fe3e=_0x417fc9(0x8b4)+_0x21fe3e);try{const _0x399142={'resultsDisplay':document['getElementById'](_0x417fc9(0x719))[_0x417fc9(0x6b0)],'shuffle':document['getElementById'](_0x417fc9(0x5d9))['value'],'timerMode':document[_0x417fc9(0x2f6)]('timer-mode-select')[_0x417fc9(0x6b0)],'timerDuration':parseInt(document[_0x417fc9(0x2f6)](_0x417fc9(0x9ce))['value'])||0xa,'passingScore':parseInt(document[_0x417fc9(0x2f6)](_0x417fc9(0x7b5))[_0x417fc9(0x6b0)])||0x0,'isAdaptive':document['getElementById']('adaptive-quiz-checkbox')[_0x417fc9(0x3a8)],'loopUntilPass':document[_0x417fc9(0x2f6)](_0x417fc9(0x88c))[_0x417fc9(0x3a8)]},_0x181019=(currentQuizData[_0x417fc9(0x7d4)]||[])[_0x417fc9(0x6e9)]((_0x223fb5,_0x3935e1)=>{const _0x96735d=_0x417fc9,_0x19fc32=document[_0x96735d(0x2f6)]('quiz-type-select')['value'],_0x21da22={'id':'q_'+Date[_0x96735d(0x988)]()+'_'+_0x3935e1,'questionText':_0x223fb5[_0x96735d(0x8bc)]||'','explanation':_0x223fb5[_0x96735d(0x1ba)]||_0x96735d(0x3ac),'questionType':_0x223fb5[_0x96735d(0x281)]||_0x19fc32,'imageCode':_0x223fb5[_0x96735d(0x170)]||null};return(_0x21da22[_0x96735d(0x281)]==='multiple_choice'||_0x21da22['questionType']==='fill_in_with_choices'||_0x21da22[_0x96735d(0x281)]===_0x96735d(0x3f8)&&_0x223fb5[_0x96735d(0x9b6)])&&(_0x21da22[_0x96735d(0x9b6)]=_0x223fb5[_0x96735d(0x9b6)]||[],_0x21da22[_0x96735d(0x94a)]=_0x223fb5['correctAnswerIndex']!==undefined?_0x223fb5[_0x96735d(0x94a)]:0x0),(_0x21da22[_0x96735d(0x281)]===_0x96735d(0x331)||_0x21da22[_0x96735d(0x281)]===_0x96735d(0x776)||_0x21da22[_0x96735d(0x281)]===_0x96735d(0x3f8)&&_0x223fb5[_0x96735d(0x4b4)])&&(_0x21da22['idealAnswer']=_0x223fb5[_0x96735d(0x4b4)]||''),_0x21da22[_0x96735d(0x281)]==='true_false'&&(_0x21da22[_0x96735d(0x9fe)]=_0x223fb5[_0x96735d(0x9fe)]===!![]),_0x21da22[_0x96735d(0x281)]===_0x96735d(0x8f9)&&(_0x21da22[_0x96735d(0x4ae)]=_0x223fb5[_0x96735d(0x4ae)]||'',_0x21da22[_0x96735d(0x209)]=_0x223fb5[_0x96735d(0x209)]||'',_0x21da22[_0x96735d(0x15f)]=_0x223fb5['allResponses']||[]),_0x21da22;}),_0x12e75f={'topic':_0x21fe3e,'quizType':currentQuizData[_0x417fc9(0x509)]||_0x417fc9(0x7f3),'questions':_0x181019,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x417fc9(0x9a6)](),'status':_0x417fc9(0x2a5),'settings':_0x399142,'quizMode':_0x3c55a9?_0x417fc9(0x516):_0x417fc9(0x9f3),'pairedQuizId':null,'lessonPlan':null};let _0xff1e5b;while(!![]){_0xff1e5b=Math[_0x417fc9(0x671)](0x3e8+Math[_0x417fc9(0x7de)]()*0x2328)[_0x417fc9(0x2d8)]();const _0x3f6abd=await getDoc(doc(db,'artifacts/'+appId+_0x417fc9(0x7ee),_0xff1e5b));if(!_0x3f6abd[_0x417fc9(0x4bc)]())break;}await setDoc(doc(db,_0x417fc9(0x50e)+appId+_0x417fc9(0x7ee),_0xff1e5b),_0x12e75f),currentQuizData[_0x417fc9(0x6d9)]=_0x399142,currentQuizData['id']=_0xff1e5b;const _0x41fd30=document[_0x417fc9(0x2f6)](_0x417fc9(0x30d));_0x41fd30[_0x417fc9(0x735)]=_0x417fc9(0x2bc)+_0xff1e5b+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x417fc9(0x2f6)](_0x417fc9(0x5f5))['addEventListener'](_0x417fc9(0x911),()=>copyTextToClipboard(_0xff1e5b,_0x417fc9(0x28a))),document['getElementById'](_0x417fc9(0x959))[_0x417fc9(0x7a9)]('click',()=>handleStartLiveRace(_0xff1e5b)),document['getElementById']('start-presentation-btn')[_0x417fc9(0x7a9)](_0x417fc9(0x911),()=>startPresentation(currentQuizData)),document[_0x417fc9(0x2f6)](_0x417fc9(0x47d))['addEventListener'](_0x417fc9(0x911),startAdminTest),showMessage(_0x417fc9(0x67a));}catch(_0x6e04f0){console[_0x417fc9(0x4e5)]('Error\x20saving\x20quiz:',_0x6e04f0),showMessage(_0x417fc9(0x7fa)),_0x36922a[_0x417fc9(0x6bc)]=![],_0x36922a[_0x417fc9(0x735)]=_0x417fc9(0x9cc);}}function promptForProjectAndSave(){const _0x54cde3=_0x53e3b0,_0x44271a=document[_0x54cde3(0x2f6)]('move-quiz-modal'),_0x5a624e=document[_0x54cde3(0x2f6)](_0x54cde3(0x380)),_0x488f47=_0x44271a[_0x54cde3(0x70d)]('h3'),_0x1dd17d=document[_0x54cde3(0x2f6)](_0x54cde3(0x984));_0x488f47[_0x54cde3(0x8c8)]=_0x54cde3(0x273),_0x1dd17d['textContent']=_0x54cde3(0x9ab);allProjects[_0x54cde3(0x4f1)]===0x0?(_0x5a624e[_0x54cde3(0x735)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x1dd17d[_0x54cde3(0x6bc)]=!![]):(_0x5a624e[_0x54cde3(0x735)]=allProjects[_0x54cde3(0x6e9)](_0x19a8ba=>'<option\x20value=\x22'+_0x19a8ba['id']+'\x22>'+_0x19a8ba['projectName']+_0x54cde3(0x6d7))['join'](''),_0x1dd17d[_0x54cde3(0x6bc)]=![]);_0x44271a['classList'][_0x54cde3(0x8b7)](_0x54cde3(0x4ba));const _0x1ca7a7=()=>{const _0x14b75a=_0x54cde3,_0x260fd9=_0x5a624e[_0x14b75a(0x6b0)];_0x260fd9?(currentProjectId=_0x260fd9,_0x44271a[_0x14b75a(0x97f)][_0x14b75a(0x218)]('hidden'),saveQuiz(),_0x488f47[_0x14b75a(0x8c8)]=_0x14b75a(0x5f2),_0x1dd17d[_0x14b75a(0x8c8)]=_0x14b75a(0x9ee),_0x1dd17d['removeEventListener'](_0x14b75a(0x911),_0x1ca7a7),_0x1dd17d[_0x14b75a(0x7a9)](_0x14b75a(0x911),confirmMoveQuiz)):showMessage(_0x14b75a(0x357));};_0x1dd17d[_0x54cde3(0x8a2)](_0x54cde3(0x911),confirmMoveQuiz),_0x1dd17d[_0x54cde3(0x7a9)](_0x54cde3(0x911),_0x1ca7a7);}function copyTextToClipboard(_0x5dd03a,_0x57f996){const _0x1a6715=_0x53e3b0,_0x2f02da=document['createElement'](_0x1a6715(0x61a));_0x2f02da[_0x1a6715(0x6b0)]=_0x5dd03a,_0x2f02da[_0x1a6715(0x7c1)]['position']='fixed',_0x2f02da['style']['opacity']='0',document[_0x1a6715(0x20e)][_0x1a6715(0x310)](_0x2f02da),_0x2f02da[_0x1a6715(0x4a4)](),_0x2f02da[_0x1a6715(0xa2d)]();try{const _0x1386c3=document[_0x1a6715(0x81b)]('copy');showMessage(_0x1386c3?_0x57f996:'คัดลอกไม่สำเร็จ');}catch(_0x111e54){showMessage(_0x1a6715(0x610)),console['error'](_0x1a6715(0x75b),_0x111e54);}document[_0x1a6715(0x20e)][_0x1a6715(0x1f5)](_0x2f02da);}function listenForProjectQuizzes(_0x50f7bb){const _0x43e8e1=_0x53e3b0,_0x1209d9=collection(db,_0x43e8e1(0x50e)+appId+_0x43e8e1(0x7ee)),_0x5c3954=query(_0x1209d9,where(_0x43e8e1(0x63c),'==',_0x50f7bb));unsubscribeQuizzesListener=onSnapshot(_0x5c3954,async _0x33749d=>{const _0x14b0a8=_0x43e8e1;allQuizzes=_0x33749d['docs'][_0x14b0a8(0x6e9)](_0xc7a8d9=>({'id':_0xc7a8d9['id'],..._0xc7a8d9[_0x14b0a8(0x1b4)]()})),renderQuizzes();},_0x26adbe=>{const _0x565734=_0x43e8e1;console[_0x565734(0x4e5)](_0x565734(0x932),_0x26adbe),document['getElementById'](_0x565734(0x609))[_0x565734(0x735)]=_0x565734(0x6fa);});}async function renderQuizzes(){const _0x355199=_0x53e3b0,_0x57e51a=document[_0x355199(0x2f6)](_0x355199(0x609)),_0x567629=document[_0x355199(0x2f6)]('quiz-search-input')['value']['toLowerCase']();let _0x49e38b;currentProjectId===_0x355199(0x4c6)?_0x49e38b=starredQuizzes:_0x49e38b=allQuizzes;let _0x3db972=_0x49e38b[_0x355199(0x845)](_0x2439d8=>_0x2439d8['topic'][_0x355199(0x6a7)]()[_0x355199(0x12a)](_0x567629));_0x3db972[_0x355199(0x933)]((_0x85e5db,_0x3ce750)=>new Date(_0x3ce750[_0x355199(0x269)])-new Date(_0x85e5db[_0x355199(0x269)]));if(_0x3db972['length']===0x0){_0x57e51a[_0x355199(0x735)]=_0x355199(0x846);return;}const _0x1a53a7={},_0x545ff0=_0x3db972[_0x355199(0x6e9)](async _0x4c4817=>{const _0x52f313=_0x355199,_0x36814a=collection(db,_0x52f313(0x50e)+appId+'/public/data/quizzes/'+_0x4c4817['id']+_0x52f313(0x80f)),_0x43513f=await getDocs(_0x36814a);_0x1a53a7[_0x4c4817['id']]=_0x43513f['size'];});await Promise[_0x355199(0x260)](_0x545ff0);let _0x5050e3='';_0x3db972[_0x355199(0x87f)](_0x11b918=>{const _0x1db8c2=_0x355199,_0x5e47d8=_0x1a53a7[_0x11b918['id']]||0x0,_0x4a8dce=_0x11b918[_0x1db8c2(0x25f)]||'active',_0x1499d9=_0x11b918[_0x1db8c2(0x6d9)]?.[_0x1db8c2(0x9b5)]||_0x1db8c2(0x929);let _0x15bd12='',_0xc342e0='';const _0x543139=new Date();let _0x102c86=_0x4a8dce;if(_0x4a8dce===_0x1db8c2(0x127)){const _0xcd0a71=_0x11b918['startTime']?new Date(_0x11b918['startTime']):null,_0x224f98=_0x11b918[_0x1db8c2(0x4db)]?new Date(_0x11b918[_0x1db8c2(0x4db)]):null;if(_0x224f98&&_0x543139>_0x224f98)_0x102c86=_0x1db8c2(0x1f0);else _0xcd0a71&&_0x543139<_0xcd0a71?_0x102c86=_0x1db8c2(0x587):_0x102c86='active';}switch(_0x102c86){case'inactive':_0x15bd12=_0x1db8c2(0x6c7),_0xc342e0=_0x1db8c2(0x724);break;case'scheduled_pending':_0x15bd12='รอเปิด',_0xc342e0=_0x1db8c2(0x675);break;case'active':_0x15bd12=_0x1499d9!==_0x1db8c2(0x929)?'เปิด\x20(จับเวลา)':_0x1db8c2(0x60c),_0xc342e0='text-green-700\x20bg-green-100';break;default:_0x15bd12='ตั้งเวลา\x20(เปิด)',_0xc342e0=_0x1db8c2(0x650);break;}let _0x2cc40e='';const _0x127b9b={'day':_0x1db8c2(0x998),'month':_0x1db8c2(0x998),'year':_0x1db8c2(0x789),'hour':_0x1db8c2(0x998),'minute':_0x1db8c2(0x998),'hour12':![]};if(_0x4a8dce===_0x1db8c2(0x127)){if(_0x11b918[_0x1db8c2(0x977)])_0x2cc40e+=_0x1db8c2(0x534)+new Date(_0x11b918[_0x1db8c2(0x977)])[_0x1db8c2(0x271)](_0x1db8c2(0x619),_0x127b9b)+_0x1db8c2(0x853);if(_0x11b918[_0x1db8c2(0x4db)])_0x2cc40e+=_0x1db8c2(0x41b)+new Date(_0x11b918[_0x1db8c2(0x4db)])[_0x1db8c2(0x271)]('th-TH',_0x127b9b)+_0x1db8c2(0x853);}let _0x5799f6='';if(_0x11b918['pairedQuizId']){const _0x1593f9=allQuizzes[_0x1db8c2(0x8dc)](_0x5de6a1=>_0x5de6a1['id']===_0x11b918[_0x1db8c2(0x90c)]);if(_0x1593f9){let _0x32cf5d,_0x371327;new Date(_0x11b918[_0x1db8c2(0x269)])<new Date(_0x1593f9[_0x1db8c2(0x269)])?(_0x32cf5d=_0x11b918['id'],_0x371327=_0x1593f9['id']):(_0x32cf5d=_0x1593f9['id'],_0x371327=_0x11b918['id']),_0x5799f6+=_0x1db8c2(0x4e8)+_0x371327+_0x1db8c2(0x4b3)+_0x32cf5d+_0x1db8c2(0x613);}}else _0x11b918['quizMode']===_0x1db8c2(0x516)&&(_0x5799f6+=_0x1db8c2(0x92f)+_0x11b918['id']+_0x1db8c2(0x60e));if(_0x11b918[_0x1db8c2(0x983)]===_0x1db8c2(0x516)&&_0x5e47d8>0x0)_0x5799f6+=_0x1db8c2(0x92f)+_0x11b918['id']+_0x1db8c2(0x177);else!_0x11b918[_0x1db8c2(0x90c)]&&_0x11b918[_0x1db8c2(0x983)]!==_0x1db8c2(0x516)&&_0x5e47d8>0x0&&(_0x5799f6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x11b918['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x7edb75='';_0x11b918[_0x1db8c2(0x90c)]?_0x7edb75='<button\x20data-quiz-id=\x22'+_0x11b918['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x7edb75='<button\x20data-quiz-id=\x22'+_0x11b918['id']+_0x1db8c2(0xa55),_0x5050e3+=_0x1db8c2(0x30f)+_0x11b918['id']+_0x1db8c2(0x8bb)+_0x11b918[_0x1db8c2(0x6a6)]+_0x1db8c2(0x384)+_0x11b918[_0x1db8c2(0x7d4)]['length']+_0x1db8c2(0x9fd)+new Date(_0x11b918[_0x1db8c2(0x269)])[_0x1db8c2(0x271)](_0x1db8c2(0x619))+_0x1db8c2(0x1ae)+_0x5e47d8+_0x1db8c2(0x555)+_0x2cc40e+_0x1db8c2(0x909)+_0xc342e0+'\x22>'+_0x15bd12+_0x1db8c2(0x335)+_0x11b918['id']+_0x1db8c2(0x2ef)+_0x11b918['id']+_0x1db8c2(0x226)+(_0x11b918[_0x1db8c2(0x387)]?_0x1db8c2(0x4e2):_0x1db8c2(0x4ca))+_0x1db8c2(0x92e)+_0x5799f6+_0x1db8c2(0x631)+_0x11b918['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x11b918['id']+_0x1db8c2(0x8a3)+_0x11b918['id']+_0x1db8c2(0x782)+_0x11b918['id']+_0x1db8c2(0x78c)+_0x11b918['id']+_0x1db8c2(0x918)+_0x11b918['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x11b918['id']+_0x1db8c2(0x688)+_0x11b918['topic']+_0x1db8c2(0x6ee)+_0x11b918['id']+_0x1db8c2(0x21b)+_0x11b918['id']+_0x1db8c2(0x43a)+_0x7edb75+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x11b918['id']+_0x1db8c2(0x5ad)+_0x11b918['id']+_0x1db8c2(0x7a7)+_0x11b918['id']+_0x1db8c2(0x256)+_0x11b918['id']+_0x1db8c2(0x94b)+_0x11b918['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x11b918['id']+_0x1db8c2(0x9cd)+_0x11b918['id']+_0x1db8c2(0x24c)+_0x11b918['id']+_0x1db8c2(0x688)+_0x11b918[_0x1db8c2(0x6a6)]+_0x1db8c2(0x391)+_0x11b918['id']+_0x1db8c2(0x80b);}),_0x57e51a['innerHTML']=_0x5050e3,document[_0x355199(0xa09)](_0x355199(0x90a))[_0x355199(0x87f)](_0x573a75=>{const _0x58b7d1=_0x355199;_0x573a75[_0x58b7d1(0x7a9)](_0x58b7d1(0x911),()=>{const _0x509297=_0x58b7d1,_0x1e391e=_0x573a75[_0x509297(0x7c7)]['quizId'];showQuizDetailView(_0x1e391e);});});}async function handleUnpairQuiz(_0x68dc8e){const _0x5ec14c=_0x53e3b0,_0x4249e8=allQuizzes['find'](_0x3d8b99=>_0x3d8b99['id']===_0x68dc8e);if(!_0x4249e8||!_0x4249e8['pairedQuizId']){showMessage(_0x5ec14c(0x64b));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x15dcea=_0x5ec14c;try{const _0x2e0be8=doc(db,_0x15dcea(0x50e)+appId+_0x15dcea(0x7ee),_0x68dc8e),_0x2d4ab9=doc(db,_0x15dcea(0x50e)+appId+'/public/data/quizzes',_0x4249e8[_0x15dcea(0x90c)]),_0x397ad4=writeBatch(db);_0x397ad4[_0x15dcea(0x5aa)](_0x2e0be8,{'pairedQuizId':null}),_0x397ad4['update'](_0x2d4ab9,{'pairedQuizId':null}),await _0x397ad4[_0x15dcea(0xa46)](),showMessage(_0x15dcea(0x1f3));}catch(_0x54f0b5){console[_0x15dcea(0x4e5)](_0x15dcea(0x2ab),_0x54f0b5),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x1c2d45,_0x57a1a1){const _0x32c9ca=_0x53e3b0,_0x179634=window['open']('',_0x32c9ca(0xa56)),_0x43cfab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x57a1a1[_0x32c9ca(0x6a6)]+_0x32c9ca(0x71b)+_0x57a1a1[_0x32c9ca(0x6a6)]+_0x32c9ca(0x5b2)+_0x1c2d45['learningGaps'][_0x32c9ca(0x6e9)](_0x890c94=>_0x32c9ca(0xa66)+_0x890c94+'</li>')[_0x32c9ca(0x728)]('')+_0x32c9ca(0x3e5)+_0x1c2d45[_0x32c9ca(0x8af)]+_0x32c9ca(0x56c)+_0x1c2d45['practiceProblems']['map'](_0x2e0724=>_0x32c9ca(0x6ab)+_0x2e0724[_0x32c9ca(0x6dc)]+_0x32c9ca(0x22d)+_0x2e0724[_0x32c9ca(0x257)]+_0x32c9ca(0x412))[_0x32c9ca(0x728)]('')+_0x32c9ca(0x7e9);_0x179634[_0x32c9ca(0x881)][_0x32c9ca(0xa0d)](_0x43cfab),_0x179634[_0x32c9ca(0x881)]['close'](),_0x179634[_0x32c9ca(0x94f)]=function(){setTimeout(()=>{const _0x3bb511=_0x26e1;_0x179634[_0x3bb511(0x164)]();},0x3e8);};}async function handleAiFixFormula(_0x3a1a8d){const _0x1f1eb5=_0x53e3b0,_0x4d218f=document[_0x1f1eb5(0x70d)]('.question-editor-item[data-q-index=\x22'+_0x3a1a8d+'\x22]');if(!_0x4d218f)return;const _0x12f179=_0x4d218f[_0x1f1eb5(0x7c7)]['qType'],_0x10aee4=_0x4d218f[_0x1f1eb5(0x70d)](_0x1f1eb5(0x8cf));let _0x4d03dd={'question':_0x4d218f['querySelector'](_0x1f1eb5(0x61a))[_0x1f1eb5(0x6b0)]};switch(_0x12f179){case _0x1f1eb5(0x7f3):_0x4d03dd['options']=Array[_0x1f1eb5(0x535)](_0x4d218f['querySelectorAll'](_0x1f1eb5(0x179)))['map'](_0x13690f=>_0x13690f[_0x1f1eb5(0x6b0)]);break;case _0x1f1eb5(0x331):_0x4d03dd[_0x1f1eb5(0x4b4)]=_0x4d218f[_0x1f1eb5(0x70d)](_0x1f1eb5(0x700))[_0x1f1eb5(0x6b0)];break;case _0x1f1eb5(0x8f9):_0x4d03dd['correctResponse']=_0x4d218f[_0x1f1eb5(0x70d)]('.correct-response-input')[_0x1f1eb5(0x6b0)];break;}_0x10aee4['innerHTML']=_0x1f1eb5(0x3a9),_0x10aee4[_0x1f1eb5(0x6bc)]=!![];try{const _0x5234fe=_0x1f1eb5(0x251)+JSON[_0x1f1eb5(0x84c)](_0x4d03dd)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xc4ea69={'type':_0x1f1eb5(0x446),'properties':{'fixedData':{'type':_0x1f1eb5(0x446),'properties':{'question':{'type':'STRING'},'options':{'type':_0x1f1eb5(0xa25),'items':{'type':_0x1f1eb5(0x1ab)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x1f1eb5(0x1ab)}},'required':['question']}},'required':[_0x1f1eb5(0x4fa)]},_0x4e8c02=await callAnalysisApi(_0x5234fe,_0xc4ea69);if(_0x4e8c02&&_0x4e8c02[_0x1f1eb5(0x4fa)]){const _0xf8094d=_0x4e8c02[_0x1f1eb5(0x4fa)];_0x4d218f[_0x1f1eb5(0x70d)](_0x1f1eb5(0x61a))[_0x1f1eb5(0x6b0)]=_0xf8094d[_0x1f1eb5(0x6dc)]||_0x4d03dd['question'];switch(_0x12f179){case _0x1f1eb5(0x7f3):_0xf8094d[_0x1f1eb5(0x9b6)]&&_0xf8094d[_0x1f1eb5(0x9b6)][_0x1f1eb5(0x4f1)]>0x0&&_0x4d218f[_0x1f1eb5(0xa09)](_0x1f1eb5(0x179))['forEach']((_0x1426e2,_0x2c51d5)=>{const _0x333cd6=_0x1f1eb5;_0x1426e2[_0x333cd6(0x6b0)]=_0xf8094d[_0x333cd6(0x9b6)][_0x2c51d5]||_0x4d03dd['options'][_0x2c51d5];});break;case _0x1f1eb5(0x331):_0x4d218f[_0x1f1eb5(0x70d)](_0x1f1eb5(0x700))['value']=_0xf8094d[_0x1f1eb5(0x4b4)]||_0x4d03dd[_0x1f1eb5(0x4b4)];break;case _0x1f1eb5(0x8f9):_0x4d218f[_0x1f1eb5(0x70d)]('.correct-response-input')[_0x1f1eb5(0x6b0)]=_0xf8094d['correctResponse']||_0x4d03dd[_0x1f1eb5(0x209)];break;}if(_0x4d03dd[_0x1f1eb5(0x6dc)]!==_0xf8094d[_0x1f1eb5(0x6dc)])try{const _0x49e385=collection(db,'artifacts/'+appId+_0x1f1eb5(0x121));await addDoc(_0x49e385,{'broken':_0x4d03dd['question'],'fixed':_0xf8094d['question'],'createdAt':serverTimestamp()});}catch(_0x22f954){console[_0x1f1eb5(0x4e5)](_0x1f1eb5(0x4c7),_0x22f954);}showMessage(_0x1f1eb5(0x980));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x39f1b3){console[_0x1f1eb5(0x4e5)](_0x1f1eb5(0x50c),_0x39f1b3),showMessage(_0x1f1eb5(0x820));}finally{_0x10aee4[_0x1f1eb5(0x735)]=_0x1f1eb5(0x790),_0x10aee4[_0x1f1eb5(0x6bc)]=![];}}async function handleGenerateLessonPlan(_0x4f2061){const _0x3556c0=_0x53e3b0;showMessage(_0x3556c0(0x2bd));try{const _0x4ab202=doc(db,_0x3556c0(0x50e)+appId+'/public/data/quizzes',_0x4f2061),_0x1ee263=await getDoc(_0x4ab202);if(!_0x1ee263[_0x3556c0(0x4bc)]())throw new Error(_0x3556c0(0x8bd));const _0x4881c0={'id':_0x4f2061,..._0x1ee263[_0x3556c0(0x1b4)]()},_0x1c828e=collection(db,_0x3556c0(0x50e)+appId+'/public/data/quizzes',_0x4f2061,_0x3556c0(0x299)),_0x3f7665=await getDocs(_0x1c828e),_0x2106c5=_0x3f7665[_0x3556c0(0x51f)][_0x3556c0(0x6e9)](_0x356275=>_0x356275[_0x3556c0(0x1b4)]());if(_0x2106c5['length']===0x0)throw new Error(_0x3556c0(0x849));const _0x250b6c=calculateItemAnalysis(_0x4881c0,_0x2106c5)[_0x3556c0(0x847)],_0x152a2d=calculateDistractorAnalysis(_0x4881c0,_0x2106c5),_0x598569=_0x513081=>{const _0x58aba5=_0x3556c0;if(!_0x513081)return'';return _0x513081[_0x58aba5(0x15c)](/\\/g,'\x5c\x5c')[_0x58aba5(0x15c)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x144dc8=_0x3556c0(0x4e1);_0x4881c0[_0x3556c0(0x7d4)][_0x3556c0(0x87f)]((_0x49742d,_0x4dab7f)=>{const _0x41f9f1=_0x3556c0,_0x5ed4ca=_0x250b6c[_0x4dab7f]?.['p']['toFixed'](0x2)||_0x41f9f1(0x499),_0x1e9ac5=_0x250b6c[_0x4dab7f]?.['r'][_0x41f9f1(0x830)](0x2)||_0x41f9f1(0x499),_0x1c0a61=_0x598569(_0x49742d[_0x41f9f1(0x8bc)]||_0x49742d[_0x41f9f1(0x4ae)]);_0x144dc8+='-\x20ข้อ\x20'+(_0x4dab7f+0x1)+_0x41f9f1(0x23a)+_0x5ed4ca+',\x20r='+_0x1e9ac5+'):\x20'+_0x1c0a61+'\x5cn';if(_0x49742d[_0x41f9f1(0x281)]===_0x41f9f1(0x7f3)&&_0x152a2d[_0x4dab7f]){const _0x87c63b=_0x152a2d[_0x4dab7f],_0x4ca654=Object[_0x41f9f1(0x4e6)](_0x87c63b)[_0x41f9f1(0x845)](_0x44a883=>parseInt(_0x44a883)!==_0x49742d[_0x41f9f1(0x94a)])[_0x41f9f1(0x933)]((_0x5bb966,_0x4135cd)=>_0x87c63b[_0x4135cd]['total']-_0x87c63b[_0x5bb966][_0x41f9f1(0xa4a)])[0x0];if(_0x4ca654&&_0x87c63b[_0x4ca654][_0x41f9f1(0xa4a)]>0x0){const _0x1acc7d=_0x598569(_0x87c63b[_0x4ca654]['text']);_0x144dc8+=_0x41f9f1(0x5cf)+_0x1acc7d+_0x41f9f1(0x794);}}});const _0x5cf23d=_0x3556c0(0x4e0)+_0x4881c0['topic']+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x144dc8+_0x3556c0(0x913),_0x21cc78={'type':_0x3556c0(0x446),'properties':{'learningGaps':{'type':_0x3556c0(0xa25),'items':{'type':_0x3556c0(0x1ab)}},'teachingContent':{'type':_0x3556c0(0x1ab)},'practiceProblems':{'type':_0x3556c0(0xa25),'items':{'type':_0x3556c0(0x446),'properties':{'question':{'type':_0x3556c0(0x1ab)},'solution':{'type':_0x3556c0(0x1ab)}}}}},'required':[_0x3556c0(0x84b),_0x3556c0(0x8af),_0x3556c0(0x651)]},_0x54a8cd=await callAnalysisApi(_0x5cf23d,_0x21cc78);await updateDoc(_0x4ab202,{'lessonPlan':_0x54a8cd});const _0x47c389=_0x3556c0(0x46a)+_0x4881c0[_0x3556c0(0x6a6)]+_0x3556c0(0x5b1)+_0x54a8cd[_0x3556c0(0x84b)][_0x3556c0(0x6e9)](_0x4a4605=>'<li>'+_0x4a4605+'</li>')[_0x3556c0(0x728)]('')+_0x3556c0(0x76d)+_0x54a8cd[_0x3556c0(0x8af)]+_0x3556c0(0x76a)+_0x54a8cd[_0x3556c0(0x651)][_0x3556c0(0x6e9)](_0x17aa11=>_0x3556c0(0x314)+_0x17aa11['question']+_0x3556c0(0x61f)+_0x17aa11[_0x3556c0(0x257)]+_0x3556c0(0x6e7))[_0x3556c0(0x728)]('')+_0x3556c0(0x644);document[_0x3556c0(0x2f6)](_0x3556c0(0x189))['textContent']=_0x3556c0(0x413)+_0x4881c0[_0x3556c0(0x6a6)],document['getElementById'](_0x3556c0(0x9c0))[_0x3556c0(0x735)]=_0x47c389,document[_0x3556c0(0x2f6)](_0x3556c0(0x430))[_0x3556c0(0x97f)]['remove'](_0x3556c0(0x4ba));if(window[_0x3556c0(0x4b0)])MathJax['typesetPromise']();messageModal['classList']['add'](_0x3556c0(0x4ba));}catch(_0x59d3bb){console[_0x3556c0(0x4e5)](_0x3556c0(0x279),_0x59d3bb),showMessage(_0x3556c0(0xa32)+_0x59d3bb[_0x3556c0(0x405)]);}}async function handleDuplicateQuiz(_0x300193){const _0x2d5fd0=_0x53e3b0;try{const _0x35ffc1=doc(db,_0x2d5fd0(0x50e)+appId+_0x2d5fd0(0x7ee),_0x300193),_0x1957a1=await getDoc(_0x35ffc1);if(_0x1957a1['exists']()){const _0x3ff93a=_0x1957a1[_0x2d5fd0(0x1b4)]();let _0x159449='',_0x5145f4=_0x2d5fd0(0x9f3),_0x571e97=null;if(_0x3ff93a[_0x2d5fd0(0x983)]===_0x2d5fd0(0x516)){let _0x373b45=_0x3ff93a[_0x2d5fd0(0x6a6)][_0x2d5fd0(0x15c)](_0x2d5fd0(0x42d),'')[_0x2d5fd0(0x48c)]();_0x159449=_0x2d5fd0(0x801)+_0x373b45,_0x5145f4='post-test',_0x571e97=_0x300193;}else _0x159449=_0x2d5fd0(0x55e)+_0x3ff93a['topic'];const _0x2cd696={..._0x3ff93a,'topic':_0x159449,'createdAt':new Date()[_0x2d5fd0(0x9a6)](),'quizMode':_0x5145f4,'pairedQuizId':_0x571e97};let _0x2aa3be;while(!![]){_0x2aa3be=Math[_0x2d5fd0(0x671)](0x3e8+Math['random']()*0x2328)['toString']();const _0x1378a5=await getDoc(doc(db,_0x2d5fd0(0x50e)+appId+_0x2d5fd0(0x7ee),_0x2aa3be));if(!_0x1378a5['exists']())break;}const _0x563233=doc(db,_0x2d5fd0(0x50e)+appId+_0x2d5fd0(0x7ee),_0x2aa3be);await setDoc(_0x563233,_0x2cd696),_0x2cd696['quizMode']==='post-test'&&await updateDoc(_0x35ffc1,{'pairedQuizId':_0x2aa3be}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x2d5fd0(0x64c));}catch(_0x15da1e){console['error'](_0x2d5fd0(0x637),_0x15da1e),showMessage(_0x2d5fd0(0x868));}}async function handleDeleteQuiz(_0x3951e8,_0x525d58=!![]){const _0x730a11=_0x53e3b0;try{const _0x8527a9=writeBatch(db),_0x438abc=collection(db,_0x730a11(0x50e)+appId+_0x730a11(0x150)+_0x3951e8+_0x730a11(0x80f)),_0x3331ae=await getDocs(_0x438abc);_0x3331ae[_0x730a11(0x87f)](_0x2e3a99=>{const _0x2d425e=_0x730a11;_0x8527a9[_0x2d425e(0x472)](doc(_0x438abc,_0x2e3a99['id']));});const _0x4e58f1=doc(db,_0x730a11(0x50e)+appId+_0x730a11(0x7ee),_0x3951e8);_0x8527a9['delete'](_0x4e58f1),await _0x8527a9[_0x730a11(0xa46)](),_0x525d58&&showMessage(_0x730a11(0x879));}catch(_0x5cfe3d){console[_0x730a11(0x4e5)](_0x730a11(0xa3a),_0x5cfe3d),_0x525d58&&showMessage(_0x730a11(0x8f3));}}async function showQuizDetailView(_0x5a42a7){const _0x301b3e=_0x53e3b0;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x301b3e(0x2be));try{const _0x35ab7c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5a42a7),_0x1df67a=await getDoc(_0x35ab7c);if(!_0x1df67a[_0x301b3e(0x4bc)]()){showMessage(_0x301b3e(0x8bd));return;}const _0x5d6a53={'id':_0x1df67a['id'],..._0x1df67a[_0x301b3e(0x1b4)]()};currentQuizData=_0x5d6a53;const _0x3a282d=doc(db,_0x301b3e(0x50e)+appId+_0x301b3e(0x33e),_0x5d6a53['projectId']),_0x39027=await getDoc(_0x3a282d);_0x39027[_0x301b3e(0x4bc)]()?(currentProjectData=_0x39027['data'](),currentProjectId=_0x5d6a53[_0x301b3e(0x63c)]):(currentProjectData={'students':[]},currentProjectId=_0x5d6a53[_0x301b3e(0x63c)]);document['getElementById'](_0x301b3e(0x21e))[_0x301b3e(0x8c8)]=_0x5d6a53['topic'],document[_0x301b3e(0x2f6)](_0x301b3e(0x896))[_0x301b3e(0x8c8)]=_0x5a42a7;const _0x239cf9=collection(db,'artifacts/'+appId+_0x301b3e(0x7ee),_0x5a42a7,_0x301b3e(0x299));unsubscribeSubmissionsListener=onSnapshot(_0x239cf9,_0x47c17d=>{const _0x1f8614=_0x301b3e,_0xc26df3=_0x47c17d['docs'][_0x1f8614(0x6e9)](_0x7fafd=>({'id':_0x7fafd['id'],..._0x7fafd['data']()}));currentSubmissions=_0xc26df3;const _0x13e197=_0xc26df3[_0x1f8614(0x845)](_0x1eb44f=>_0x1eb44f[_0x1f8614(0x371)]&&_0x1eb44f[_0x1f8614(0x371)]['length']>0x0);renderBehaviorLog(_0xc26df3),renderAnswerGrid(currentProjectData[_0x1f8614(0x3f3)],_0x13e197,_0x5d6a53),renderAnalytics(_0x5d6a53,_0x13e197),renderQuizResultsTable(currentProjectData[_0x1f8614(0x3f3)],_0xc26df3,_0x5d6a53),renderQuizLeaderboard(_0x13e197,_0x5d6a53,'quiz-leaderboard-table-body');}),showView(_0x301b3e(0x448));}catch(_0x26882b){console[_0x301b3e(0x4e5)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x26882b),showMessage(_0x301b3e(0x69a));}}function renderAnswerGrid(_0x139f70,_0x2a9bc8,_0x18d45e){const _0x426753=_0x53e3b0,_0xcd6d71=document['getElementById'](_0x426753(0x96b));if(!_0xcd6d71)return;if(!_0x139f70||_0x139f70[_0x426753(0x4f1)]===0x0){_0xcd6d71[_0x426753(0x735)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x36d685=_0x18d45e[_0x426753(0x7d4)],_0x1e04e1=_0x2a9bc8[_0x426753(0x26f)]((_0x4a131f,_0x559739)=>{return _0x4a131f[_0x559739['studentName']]=_0x559739,_0x4a131f;},{}),_0x2b216c=_0x548431=>String[_0x426753(0x2b3)](0x41+_0x548431),_0x12795c=_0x5c20cb=>{const _0x1e4dc7=_0x426753,_0xed1145=_0x5c20cb['questionType']||_0x18d45e[_0x1e4dc7(0x509)];switch(_0xed1145){case _0x1e4dc7(0x7f3):return _0x5c20cb[_0x1e4dc7(0x9b6)]&&_0x5c20cb[_0x1e4dc7(0x9b6)][_0x1e4dc7(0x4f1)]>_0x5c20cb[_0x1e4dc7(0x94a)]?_0x2b216c(_0x5c20cb['correctAnswerIndex']):'-';case _0x1e4dc7(0x529):const _0x262d9c=_0x5c20cb['correctAnswer']===!![]||String(_0x5c20cb[_0x1e4dc7(0x9fe)])[_0x1e4dc7(0x6a7)]()===_0x1e4dc7(0x3e6);return _0x262d9c?_0x1e4dc7(0x117):_0x1e4dc7(0x422);case _0x1e4dc7(0x8f9):return _0x5c20cb[_0x1e4dc7(0x209)]||'-';case _0x1e4dc7(0x331):return _0x1e4dc7(0xa5a);default:return'-';}},_0x26bdb9=(_0x19d9de,_0x2938fb)=>{const _0x2624f1=_0x426753;if(_0x2938fb[_0x2624f1(0x58b)]===null||_0x2938fb[_0x2624f1(0x58b)]===undefined)return'-';const _0x1ca409=_0x19d9de[_0x2624f1(0x281)]||_0x18d45e['quizType'];switch(_0x1ca409){case'multiple_choice':const _0x1e27a3=_0x19d9de['options'][_0x2624f1(0x8b9)](_0x5903ca=>_0x5903ca===_0x2938fb[_0x2624f1(0x14f)]);return _0x1e27a3!==-0x1?_0x2b216c(_0x1e27a3):_0x2938fb[_0x2624f1(0x14f)]||'-';case'true_false':if(_0x2938fb[_0x2624f1(0x58b)]=='0'||_0x2938fb['answer']===!![]||_0x2938fb[_0x2624f1(0x58b)]===_0x2624f1(0x3e6))return'ใช่';return'ไม่ใช่';default:return _0x2938fb[_0x2624f1(0x58b)];}};let _0x25bbaa=_0x426753(0x6ed)+_0x36d685['map']((_0x5071b2,_0x1f5780)=>_0x426753(0x40d)+(_0x1f5780+0x1)+'</th>')[_0x426753(0x728)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36d685[_0x426753(0x6e9)](_0x26fa77=>_0x426753(0x1c3)+_0x12795c(_0x26fa77)+'</td>')[_0x426753(0x728)]('')+_0x426753(0x759);_0x139f70[_0x426753(0x87f)](_0x4c2ec7=>{const _0x2b272c=_0x426753;_0x25bbaa+=_0x2b272c(0x404),_0x25bbaa+=_0x2b272c(0x5af)+_0x4c2ec7+'</td>';const _0x203ea9=_0x1e04e1[_0x4c2ec7];if(_0x203ea9){const _0x5606bf=_0x203ea9[_0x2b272c(0x371)][_0x203ea9[_0x2b272c(0x371)][_0x2b272c(0x4f1)]-0x1];_0x36d685['forEach']((_0x246792,_0x43910e)=>{const _0xfe68b1=_0x2b272c,_0x37ad19=_0x5606bf['answers']['find'](_0x13715=>_0x13715[_0xfe68b1(0x172)]===_0x246792['id']);if(_0x37ad19){let _0x35983d='';const _0x4cf62e=_0x37ad19[_0xfe68b1(0x294)]===!![],_0x1be03d=_0x37ad19[_0xfe68b1(0x906)]===!![]||_0x37ad19[_0xfe68b1(0x906)]===_0xfe68b1(0x34d);_0x1be03d?_0x35983d=_0x4cf62e?'bg-green-400\x20text-white\x20font-bold':_0xfe68b1(0x48f):_0x35983d=_0x4cf62e?_0xfe68b1(0x4af):_0xfe68b1(0x6b4),_0x25bbaa+=_0xfe68b1(0x772)+_0x35983d+'\x22>'+_0x26bdb9(_0x246792,_0x37ad19)+_0xfe68b1(0x166);}else _0x25bbaa+=_0xfe68b1(0x16a);});}else _0x25bbaa+=_0x36d685['map'](()=>_0x2b272c(0x4de))['join']('');_0x25bbaa+='</tr>';}),_0x25bbaa+=_0x426753(0x950),_0xcd6d71[_0x426753(0x735)]=_0x25bbaa;}function renderQuizResultsTable(_0x15e0e9,_0x76b345,_0x24b27c){const _0x3e712e=_0x53e3b0,_0x18b927=_0x76b345['reduce']((_0x4239a0,_0x10d600)=>{const _0x20b8c2=_0x26e1;return _0x4239a0[_0x10d600[_0x20b8c2(0xa63)]]=_0x10d600,_0x4239a0;},{}),_0x366657=document[_0x3e712e(0x70d)]('#results-table\x20thead\x20tr');_0x366657&&!_0x366657[_0x3e712e(0x735)][_0x3e712e(0x12a)](_0x3e712e(0x1ea))&&(_0x366657['innerHTML']+=_0x3e712e(0x337));const _0x47752d=document[_0x3e712e(0x2f6)](_0x3e712e(0xa37));if(!_0x15e0e9||_0x15e0e9[_0x3e712e(0x4f1)]===0x0){_0x47752d[_0x3e712e(0x735)]=_0x3e712e(0x477);return;}const _0x359248=_0x24b27c[_0x3e712e(0x514)]===!![],_0x463cc7=_0x24b27c[_0x3e712e(0x6d9)]?.[_0x3e712e(0x993)]??-0x1;let _0x3c8c21='';_0x15e0e9[_0x3e712e(0x87f)](_0x5d7d19=>{const _0x2ee63d=_0x3e712e,_0x6ee522=_0x18b927[_0x5d7d19];let _0x176c04=_0x2ee63d(0x908)+(_0x359248?'bg-amber-100\x20text-amber-800':_0x2ee63d(0x1d4))+'\x22>'+(_0x359248?'สอบซ่อม':_0x2ee63d(0x342))+_0x2ee63d(0x935);if(_0x6ee522){if(_0x6ee522[_0x2ee63d(0x371)]&&_0x6ee522[_0x2ee63d(0x371)][_0x2ee63d(0x4f1)]>0x0){let _0x2a57d5=_0x359248?_0x6ee522['bestScore']===_0x6ee522['totalQuestions']:_0x463cc7!==-0x1&&_0x6ee522[_0x2ee63d(0x8db)]>=_0x463cc7;const _0x44da52=_0x2a57d5?_0x2ee63d(0x340):_0x2ee63d(0x2c4),_0x194940=_0x2a57d5?_0x2ee63d(0x53f):'ไม่ผ่าน',_0xa62873=_0x2ee63d(0x284)+_0x44da52+'\x22>'+_0x194940+_0x2ee63d(0x935),_0x182331='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x6ee522['attempts']?.[_0x2ee63d(0x4f1)]||0x1)+_0x2ee63d(0x7cf);_0x3c8c21+=_0x2ee63d(0x3f0)+_0x5d7d19+_0x2ee63d(0x45d)+_0x6ee522['bestScore']+_0x2ee63d(0x914)+_0x6ee522['totalQuestions']+_0x2ee63d(0x6b1)+_0xa62873+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x176c04+_0x2ee63d(0x330)+_0x6ee522[_0x2ee63d(0x28c)]+_0x2ee63d(0x914)+_0x6ee522[_0x2ee63d(0x3a6)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x6ee522[_0x2ee63d(0x12d)]+_0x2ee63d(0x914)+_0x6ee522['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x6ee522[_0x2ee63d(0x3ef)]||0x0)+_0x2ee63d(0x6b1)+_0x182331+_0x2ee63d(0x55c)+new Date(_0x6ee522[_0x2ee63d(0x25e)])[_0x2ee63d(0x271)]('th-TH')+_0x2ee63d(0x275)+_0x5d7d19+_0x2ee63d(0x902);}else{const _0x1f8b72=_0x2ee63d(0x2e9);_0x3c8c21+=_0x2ee63d(0x319)+_0x5d7d19+_0x2ee63d(0x54b)+_0x176c04+_0x2ee63d(0x28e)+_0x1f8b72+_0x2ee63d(0x55c)+new Date(_0x6ee522[_0x2ee63d(0x434)])['toLocaleString'](_0x2ee63d(0x619))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x5d7d19+_0x2ee63d(0x902);}}else{const _0x24b6a3='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x3c8c21+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5d7d19+_0x2ee63d(0x78f)+_0x176c04+_0x2ee63d(0x702)+_0x24b6a3+_0x2ee63d(0x4f7);}}),_0x47752d[_0x3e712e(0x735)]=_0x3c8c21;}async function confirmRenameQuiz(){const _0x218fe3=_0x53e3b0,_0xd78e7b=document[_0x218fe3(0x2f6)]('rename-quiz-input')[_0x218fe3(0x6b0)][_0x218fe3(0x48c)]();if(!_0xd78e7b){showMessage(_0x218fe3(0x338));return;}if(!actionTargetId)return;const _0x5eb91a=doc(db,_0x218fe3(0x50e)+appId+_0x218fe3(0x7ee),actionTargetId);try{await updateDoc(_0x5eb91a,{'topic':_0xd78e7b}),showMessage(_0x218fe3(0x37e)),renameQuizModal['classList'][_0x218fe3(0x218)](_0x218fe3(0x4ba)),actionTargetId=null;}catch(_0x29976c){console['error'](_0x218fe3(0x886),_0x29976c),showMessage(_0x218fe3(0x428));}}async function handleMoveQuiz(_0xc57be7){const _0x3cb753=_0x53e3b0;actionTargetId=_0xc57be7;const _0x17ee9d=document[_0x3cb753(0x2f6)](_0x3cb753(0x380));_0x17ee9d[_0x3cb753(0x735)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x3cb753(0x97f)]['remove'](_0x3cb753(0x4ba));try{const _0x4482cf=collection(db,_0x3cb753(0x50e)+appId+_0x3cb753(0x33e)),_0x1f6812=await getDocs(_0x4482cf),_0x398376=_0x1f6812[_0x3cb753(0x51f)]['map'](_0x1439d8=>({'id':_0x1439d8['id'],..._0x1439d8['data']()})),_0x46e545=_0x398376[_0x3cb753(0x845)](_0x1ddca5=>_0x1ddca5['id']!==currentProjectId);if(_0x46e545[_0x3cb753(0x4f1)]===0x0){_0x17ee9d[_0x3cb753(0x735)]=_0x3cb753(0x787),document[_0x3cb753(0x2f6)](_0x3cb753(0x984))[_0x3cb753(0x6bc)]=!![];return;}_0x17ee9d[_0x3cb753(0x735)]=_0x46e545[_0x3cb753(0x6e9)](_0x1ee715=>_0x3cb753(0x313)+_0x1ee715['id']+'\x22>'+_0x1ee715[_0x3cb753(0x39f)]+_0x3cb753(0x6d7))[_0x3cb753(0x728)](''),document['getElementById']('confirm-move-quiz-btn')[_0x3cb753(0x6bc)]=![];}catch(_0x47ea81){console[_0x3cb753(0x4e5)](_0x3cb753(0x834),_0x47ea81),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal['classList'][_0x3cb753(0x218)](_0x3cb753(0x4ba));}}async function confirmMoveQuiz(){const _0x226f32=_0x53e3b0,_0x32be34=document['getElementById'](_0x226f32(0x380))[_0x226f32(0x6b0)];if(!_0x32be34){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x4aa9ac=doc(db,'artifacts/'+appId+_0x226f32(0x7ee),actionTargetId);try{await updateDoc(_0x4aa9ac,{'projectId':_0x32be34}),showMessage(_0x226f32(0x128)),moveQuizModal[_0x226f32(0x97f)][_0x226f32(0x218)](_0x226f32(0x4ba)),actionTargetId=null;}catch(_0x49dc33){console['error']('Error\x20moving\x20quiz:',_0x49dc33),showMessage(_0x226f32(0x466));}}async function handleQuizSettings(_0x2e8dc8){const _0x4b4bd1=_0x53e3b0;actionTargetId=_0x2e8dc8;const _0x5cddb8=doc(db,'artifacts/'+appId+_0x4b4bd1(0x7ee),_0x2e8dc8);try{const _0x3cf5df=await getDoc(_0x5cddb8);if(_0x3cf5df[_0x4b4bd1(0x4bc)]()){const _0x52e646=_0x3cf5df[_0x4b4bd1(0x1b4)](),_0x5c1e18=_0x52e646['settings']||{},_0x36f07f=_0x52e646[_0x4b4bd1(0x7d4)][_0x4b4bd1(0x4f1)];document['getElementById'](_0x4b4bd1(0x17e))[_0x4b4bd1(0x6b0)]=_0x5c1e18[_0x4b4bd1(0x871)]||_0x4b4bd1(0x929),document[_0x4b4bd1(0x2f6)]('modal-results-display-select')['value']=_0x5c1e18[_0x4b4bd1(0x572)]||'show_results_and_answers',document[_0x4b4bd1(0x2f6)](_0x4b4bd1(0x6f5))[_0x4b4bd1(0x6b0)]=_0x5c1e18[_0x4b4bd1(0x9b5)]||_0x4b4bd1(0x929),document[_0x4b4bd1(0x2f6)]('modal-timer-duration-input')[_0x4b4bd1(0x6b0)]=_0x5c1e18[_0x4b4bd1(0x51d)]||0xa,document[_0x4b4bd1(0x2f6)](_0x4b4bd1(0x666))[_0x4b4bd1(0x6b0)]=_0x5c1e18['passingScore']||Math[_0x4b4bd1(0x671)](_0x36f07f/0x2),document['getElementById']('modal-passing-score-input')[_0x4b4bd1(0x5c8)]=_0x36f07f,document[_0x4b4bd1(0x2f6)]('modal-adaptive-quiz-checkbox')[_0x4b4bd1(0x3a8)]=_0x5c1e18[_0x4b4bd1(0x4f8)]||![],document[_0x4b4bd1(0x2f6)](_0x4b4bd1(0x14b))[_0x4b4bd1(0x3a8)]=_0x5c1e18['loopUntilPass']||![];const _0x18f2df=_0x5c1e18[_0x4b4bd1(0x33f)]||![];document['getElementById']('modal-confidence-scoring-checkbox')[_0x4b4bd1(0x3a8)]=_0x18f2df,document[_0x4b4bd1(0x2f6)]('modal-confidence-mode-select')['value']=_0x5c1e18[_0x4b4bd1(0x6fb)]||_0x4b4bd1(0x70f);const _0x35542e=document[_0x4b4bd1(0x2f6)]('modal-confidence-mode-container');_0x35542e[_0x4b4bd1(0x97f)][_0x4b4bd1(0x95b)](_0x4b4bd1(0x4ba),!_0x18f2df),document['getElementById'](_0x4b4bd1(0x6f5))['dispatchEvent'](new Event('change')),quizSettingsModal[_0x4b4bd1(0x97f)][_0x4b4bd1(0x8b7)](_0x4b4bd1(0x4ba));}else showMessage(_0x4b4bd1(0x8bd));}catch(_0x35dd86){console['error']('Error\x20fetching\x20quiz\x20settings:',_0x35dd86),showMessage(_0x4b4bd1(0x2e4));}}async function confirmQuizSettings(){const _0x1fd32b=_0x53e3b0;if(!actionTargetId)return;const _0x483a06=doc(db,_0x1fd32b(0x50e)+appId+_0x1fd32b(0x7ee),actionTargetId),_0x4b3762={'shuffle':document[_0x1fd32b(0x2f6)](_0x1fd32b(0x17e))['value'],'resultsDisplay':document[_0x1fd32b(0x2f6)](_0x1fd32b(0x870))[_0x1fd32b(0x6b0)],'timerMode':document[_0x1fd32b(0x2f6)](_0x1fd32b(0x6f5))[_0x1fd32b(0x6b0)],'timerDuration':parseInt(document['getElementById']('modal-timer-duration-input')[_0x1fd32b(0x6b0)])||0xa,'passingScore':parseInt(document[_0x1fd32b(0x2f6)](_0x1fd32b(0x666))['value'])||0x0,'isAdaptive':document[_0x1fd32b(0x2f6)]('modal-adaptive-quiz-checkbox')[_0x1fd32b(0x3a8)],'loopUntilPass':document[_0x1fd32b(0x2f6)](_0x1fd32b(0x14b))[_0x1fd32b(0x3a8)],'isConfidenceScoringEnabled':document[_0x1fd32b(0x2f6)](_0x1fd32b(0x312))[_0x1fd32b(0x3a8)],'confidenceMode':document[_0x1fd32b(0x2f6)](_0x1fd32b(0x38f))['value']};try{await updateDoc(_0x483a06,{'settings':_0x4b3762}),showMessage(_0x1fd32b(0x130)),quizSettingsModal[_0x1fd32b(0x97f)][_0x1fd32b(0x218)]('hidden'),actionTargetId=null;}catch(_0x1f4159){console[_0x1fd32b(0x4e5)]('Error\x20updating\x20quiz\x20settings:',_0x1f4159),showMessage(_0x1fd32b(0x87a));}}async function confirmQuizStatus(){const _0x276990=_0x53e3b0;if(!actionTargetId)return;const _0x110b70=doc(db,_0x276990(0x50e)+appId+_0x276990(0x7ee),actionTargetId),_0x50cd85=document[_0x276990(0x70d)](_0x276990(0x649));if(!_0x50cd85){showMessage(_0x276990(0x79f));return;}const _0x3e2531=_0x50cd85[_0x276990(0x6b0)];let _0x178165={};if(_0x3e2531===_0x276990(0x2a5)||_0x3e2531===_0x276990(0x1f0))_0x178165={'status':_0x3e2531,'startTime':null,'endTime':null};else{if(_0x3e2531===_0x276990(0x76b)){const _0x5d460b=document[_0x276990(0x2f6)](_0x276990(0x693))[_0x276990(0x6b0)],_0x22f09a=document[_0x276990(0x2f6)](_0x276990(0x263))[_0x276990(0x6b0)];if(!_0x5d460b&&!_0x22f09a){showMessage(_0x276990(0x9a2));return;}_0x178165={'status':_0x276990(0x127),'startTime':_0x5d460b?new Date(_0x5d460b)[_0x276990(0x9a6)]():null,'endTime':_0x22f09a?new Date(_0x22f09a)['toISOString']():null};}}try{await updateDoc(_0x110b70,_0x178165),showMessage(_0x276990(0x907)),quizStatusModal[_0x276990(0x97f)]['add'](_0x276990(0x4ba)),actionTargetId=null;}catch(_0x3b1ccb){console['error'](_0x276990(0x818),_0x3b1ccb),showMessage(_0x276990(0x6a8));}}function listenForStudentProfiles(_0x5c3236){const _0x2baf3b=_0x53e3b0,_0x453be7=collection(db,'artifacts/'+appId+_0x2baf3b(0x961)+_0x5c3236+_0x2baf3b(0x2de));unsubscribeStudentProfilesListener=onSnapshot(_0x453be7,_0x3e2974=>{const _0x580718=_0x2baf3b,_0x2e4990=_0x3e2974['docs']['map'](_0x28bb0e=>_0x28bb0e['data']());renderLeaderboard(_0x2e4990,_0x580718(0xa6d));},_0x5ec356=>{const _0x122659=_0x2baf3b;console[_0x122659(0x4e5)](_0x122659(0x453),_0x5ec356),document[_0x122659(0x2f6)](_0x122659(0xa6d))['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x8bdb45,_0xa40ba1){const _0x1887e2=_0x53e3b0,_0x2652c4=document[_0x1887e2(0x2f6)](_0xa40ba1);if(!_0x8bdb45||_0x8bdb45['length']===0x0){_0x2652c4['innerHTML']=_0x1887e2(0x518);return;}_0x8bdb45[_0x1887e2(0x933)]((_0x250389,_0x4ab991)=>{const _0x268d6d=_0x1887e2,_0x1c65c7=(_0x4ab991[_0x268d6d(0x152)]||0x0)-(_0x250389['totalPoints']||0x0);if(_0x1c65c7!==0x0)return _0x1c65c7;const _0x1d54cd=(_0x4ab991['badgesCount']?.[_0x268d6d(0x396)]||0x0)-(_0x250389[_0x268d6d(0x51a)]?.[_0x268d6d(0x396)]||0x0);if(_0x1d54cd!==0x0)return _0x1d54cd;const _0x5b5eac=(_0x4ab991[_0x268d6d(0x51a)]?.[_0x268d6d(0x7b4)]||0x0)-(_0x250389[_0x268d6d(0x51a)]?.[_0x268d6d(0x7b4)]||0x0);if(_0x5b5eac!==0x0)return _0x5b5eac;const _0x256397=(_0x4ab991[_0x268d6d(0x51a)]?.[_0x268d6d(0x62a)]||0x0)-(_0x250389[_0x268d6d(0x51a)]?.['perfect_score']||0x0);if(_0x256397!==0x0)return _0x256397;const _0x4055b2=(_0x4ab991['badgesCount']?.['quick_thinker']||0x0)-(_0x250389[_0x268d6d(0x51a)]?.[_0x268d6d(0x6da)]||0x0);if(_0x4055b2!==0x0)return _0x4055b2;return _0x250389[_0x268d6d(0xa63)]['localeCompare'](_0x4ab991['studentName'],'th');});let _0x424f96='';_0x8bdb45[_0x1887e2(0x87f)]((_0x31a1ac,_0x1f910a)=>{const _0x5c367b=_0x1887e2,_0x4da40d=_0x1f910a+0x1,_0x45fc71=_0x31a1ac[_0x5c367b(0x51a)]||{};let _0x7e782f='';const _0x3070f7=[_0x5c367b(0x396),_0x5c367b(0x62a),'first_try_ace','quick_thinker'];_0x3070f7[_0x5c367b(0x87f)](_0x520b03=>{const _0x1df05c=_0x5c367b;if(_0x45fc71[_0x520b03]>0x0){const _0x58d379=Object[_0x1df05c(0x74d)](BADGES)[_0x1df05c(0x8dc)](_0x20e991=>_0x20e991['id']===_0x520b03);_0x58d379&&(_0x520b03===_0x1df05c(0x396)?_0x7e782f+=_0x1df05c(0x66a)+_0x58d379[_0x1df05c(0x682)]+_0x1df05c(0x9bd)+_0x58d379[_0x1df05c(0x89f)]+_0x1df05c(0x767):_0x7e782f+=_0x1df05c(0x66a)+_0x58d379['name']+'\x20('+_0x45fc71[_0x520b03]+_0x1df05c(0x62c)+_0x58d379['icon']+_0x1df05c(0x953)+_0x45fc71[_0x520b03]+_0x1df05c(0x8fb));}}),_0x424f96+=_0x5c367b(0x79c)+_0x4da40d+_0x5c367b(0x483)+_0x31a1ac[_0x5c367b(0xa63)]+_0x5c367b(0x68b)+(_0x31a1ac[_0x5c367b(0x152)]||0x0)+_0x5c367b(0x483)+(_0x7e782f||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2652c4[_0x1887e2(0x735)]=_0x424f96;}function displayLoopScreen(_0x612342,_0x38d411,_0x346565){const _0x382aaa=_0x53e3b0;let _0x5dee17='';_0x346565!==_0x382aaa(0x6e3)&&(_0x5dee17=_0x382aaa(0x4fe)+_0x612342+_0x382aaa(0x914)+_0x38d411+_0x382aaa(0x628));const _0x5e75f0=_0x382aaa(0x816)+_0x5dee17+_0x382aaa(0x1e5);studentResultArea[_0x382aaa(0x735)]=_0x5e75f0,studentResultArea[_0x382aaa(0x97f)][_0x382aaa(0x8b7)](_0x382aaa(0x4ba)),studentQuizArea['classList'][_0x382aaa(0x218)](_0x382aaa(0x4ba)),document[_0x382aaa(0x2f6)](_0x382aaa(0x3e0))[_0x382aaa(0x7a9)](_0x382aaa(0x911),()=>{const _0xb7d51b=_0x382aaa;studentResultArea[_0xb7d51b(0x97f)]['add'](_0xb7d51b(0x4ba)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x5720e1,_0x22e4ab,_0x1025df){const _0x3c237e=_0x53e3b0,_0x5875aa=document[_0x3c237e(0x2f6)](_0x1025df),_0x20da78=_0x1025df==='student-quiz-leaderboard-table-body',_0x1a718a=_0x22e4ab[_0x3c237e(0x7d4)][_0x3c237e(0x4f1)],_0x1e2d09=document['getElementById'](_0x1025df)[_0x3c237e(0x4e4)](_0x3c237e(0x52d));if(_0x1e2d09&&!_0x20da78){const _0x2e6152=_0x1e2d09[_0x3c237e(0x70d)](_0x3c237e(0x481));_0x2e6152[_0x3c237e(0x735)]=_0x3c237e(0x16e);}if(!_0x5720e1||_0x5720e1[_0x3c237e(0x4f1)]===0x0){_0x5875aa[_0x3c237e(0x735)]='<tr><td\x20colspan=\x22'+(_0x20da78?0x6:0x8)+_0x3c237e(0x771);return;}const _0x25d4de=[..._0x5720e1];_0x25d4de[_0x3c237e(0x933)]((_0x3dbdf9,_0x5c5754)=>{const _0xf6ccce=_0x3c237e;let _0x556aaa,_0xe6533c;switch(quizLeaderboardSortBy){case _0xf6ccce(0xa63):_0x556aaa=_0x3dbdf9[_0xf6ccce(0xa63)]||'',_0xe6533c=_0x5c5754[_0xf6ccce(0xa63)]||'';return quizLeaderboardSortOrder===_0xf6ccce(0x1a0)?_0x556aaa[_0xf6ccce(0x8ff)](_0xe6533c,'th'):_0xe6533c['localeCompare'](_0x556aaa,'th');case'points':_0x556aaa=_0x3dbdf9[_0xf6ccce(0x3ef)]||0x0,_0xe6533c=_0x5c5754[_0xf6ccce(0x3ef)]||0x0;break;case _0xf6ccce(0x371):_0x556aaa=_0x3dbdf9[_0xf6ccce(0x371)]?.[_0xf6ccce(0x4f1)]||0x1,_0xe6533c=_0x5c5754['attempts']?.['length']||0x1;break;case _0xf6ccce(0x25e):_0x556aaa=new Date(_0x3dbdf9[_0xf6ccce(0x25e)]),_0xe6533c=new Date(_0x5c5754[_0xf6ccce(0x25e)]);break;case _0xf6ccce(0x8db):default:_0x556aaa=_0x3dbdf9[_0xf6ccce(0x8db)],_0xe6533c=_0x5c5754['bestScore'];break;}if(_0x556aaa<_0xe6533c)return quizLeaderboardSortOrder===_0xf6ccce(0x1a0)?-0x1:0x1;if(_0x556aaa>_0xe6533c)return quizLeaderboardSortOrder===_0xf6ccce(0x1a0)?0x1:-0x1;return 0x0;});const _0x463cb3=_0x22e4ab[_0x3c237e(0x514)]===!![],_0x2033bd=_0x22e4ab[_0x3c237e(0x6d9)]?.[_0x3c237e(0x993)]??-0x1;let _0x4c2b07='';_0x25d4de[_0x3c237e(0x87f)]((_0x2ebafa,_0x51b45e)=>{const _0x553290=_0x3c237e,_0x146ff9=_0x51b45e+0x1;let _0x40a173=_0x553290(0xa71);if(_0x463cb3||_0x2033bd!==-0x1){let _0xe0896f=_0x463cb3?_0x2ebafa[_0x553290(0x8db)]===_0x1a718a:_0x2ebafa[_0x553290(0x8db)]>=_0x2033bd;const _0xf5514d=_0xe0896f?_0x553290(0x340):_0x553290(0x2c4),_0x34b473=_0xe0896f?_0x553290(0x53f):_0x553290(0x5f9);_0x40a173='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0xf5514d+'\x22>'+_0x34b473+_0x553290(0x935);}const _0x555ece=_0x2ebafa[_0x553290(0x371)][_0x2ebafa['attempts']['length']-0x1],_0x3178bd=(_0x555ece['badges']||[])[_0x553290(0x6e9)](_0x57d80e=>{const _0x17a68e=_0x553290,_0x403586=Object[_0x17a68e(0x74d)](BADGES)[_0x17a68e(0x8dc)](_0x120f43=>_0x120f43['id']===_0x57d80e);return _0x403586?_0x17a68e(0x77c)+_0x403586[_0x17a68e(0x682)]+_0x17a68e(0x88f)+_0x403586['icon']+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x553290(0x728)]('');_0x4c2b07+=_0x553290(0x52c)+_0x146ff9+_0x553290(0x4cc)+_0x2ebafa['studentName']+_0x553290(0x325)+_0x2ebafa[_0x553290(0x8db)]+_0x553290(0x914)+_0x1a718a+_0x553290(0x96f)+_0x40a173+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x2ebafa[_0x553290(0x3ef)]||0x0)+_0x553290(0x96f)+(_0x20da78?'':_0x553290(0x985)+(_0x2ebafa[_0x553290(0x371)]?.[_0x553290(0x4f1)]||0x1)+_0x553290(0x166))+_0x553290(0x6d3)+(_0x20da78?'':_0x553290(0x2ca)+new Date(_0x2ebafa[_0x553290(0x25e)])[_0x553290(0x271)](_0x553290(0x619))+'</td>')+_0x553290(0x122)+(_0x3178bd||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5875aa[_0x3c237e(0x735)]=_0x4c2b07,_0x1e2d09&&!_0x20da78&&_0x1e2d09[_0x3c237e(0xa09)](_0x3c237e(0x2c2))['forEach'](_0x2c9073=>{const _0xd9a7e7=_0x3c237e,_0x15380d=_0x2c9073[_0xd9a7e7(0x70d)]('.sort-indicator');if(_0x15380d)_0x15380d[_0xd9a7e7(0x8b7)]();_0x2c9073[_0xd9a7e7(0x7c7)][_0xd9a7e7(0x933)]===quizLeaderboardSortBy&&(_0x2c9073['innerHTML']+=_0xd9a7e7(0xa02)+(quizLeaderboardSortOrder===_0xd9a7e7(0x1a0)?'▲':'▼')+_0xd9a7e7(0x75a));});}async function handleDeleteSubmission(_0x484efd){const _0x412f40=_0x53e3b0;if(!currentQuizData||!currentQuizData['id']||!_0x484efd){showMessage(_0x412f40(0xa15));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x484efd+_0x412f40(0x939),async()=>{const _0x6bfcba=_0x412f40,_0x1a4e47=currentQuizData['id'],_0x37da90=doc(db,'artifacts/'+appId+_0x6bfcba(0x150)+_0x1a4e47+_0x6bfcba(0x80f),_0x484efd);try{await deleteDoc(_0x37da90),showMessage('ลบผลสอบของ\x20'+_0x484efd+_0x6bfcba(0x6c6));}catch(_0x1be864){console[_0x6bfcba(0x4e5)](_0x6bfcba(0x140),_0x1be864),showMessage(_0x6bfcba(0x1c8));}});}async function handleLoadQuiz(){const _0x174cee=_0x53e3b0,_0x2d25a0=document[_0x174cee(0x2f6)](_0x174cee(0x9eb)),_0xe6feda=_0x2d25a0[_0x174cee(0x6b0)]['trim']();if(!_0xe6feda){showMessage(_0x174cee(0xa0f));return;}loadQuizBtn[_0x174cee(0x6bc)]=!![],loadQuizBtn[_0x174cee(0x735)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x2cf5dd=doc(db,_0x174cee(0x50e)+appId+_0x174cee(0x7ee),_0xe6feda),_0x226af2=await getDoc(_0x2cf5dd);if(!_0x226af2['exists']()){showMessage(_0x174cee(0x442));return;}currentQuizData={'id':_0x226af2['id'],..._0x226af2[_0x174cee(0x1b4)]()};const _0x33e665=currentQuizData[_0x174cee(0x25f)]||_0x174cee(0x2a5),_0x22f2f5=new Date();if(_0x33e665===_0x174cee(0x1f0)){showMessage(_0x174cee(0x2d7));return;}if(_0x33e665==='scheduled'){const _0x47409a=currentQuizData[_0x174cee(0x977)]?new Date(currentQuizData['startTime']):null,_0x2f5b5b=currentQuizData[_0x174cee(0x4db)]?new Date(currentQuizData['endTime']):null;if(_0x47409a&&_0x22f2f5<_0x47409a){showMessage(_0x174cee(0x402)+_0x47409a[_0x174cee(0x271)]('th-TH',{'hour12':![]}));return;}if(_0x2f5b5b&&_0x22f2f5>_0x2f5b5b){showMessage(_0x174cee(0x93c));return;}}const _0x2bba96=currentQuizData['projectId'];currentProjectId=_0x2bba96;const _0x17722e=doc(db,_0x174cee(0x50e)+appId+_0x174cee(0x33e),_0x2bba96),_0x1dd4b6=await getDoc(_0x17722e);if(!_0x1dd4b6[_0x174cee(0x4bc)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0xc9a944=_0x1dd4b6[_0x174cee(0x1b4)]();currentStudentProjectData=_0xc9a944,displayStudentNameSelector(_0xc9a944[_0x174cee(0x3f3)],currentQuizData[_0x174cee(0x6a6)]);}catch(_0x323f7b){console[_0x174cee(0x4e5)]('Error\x20loading\x20quiz\x20for\x20student:',_0x323f7b),showMessage(_0x174cee(0x883));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x174cee(0x735)]=_0x174cee(0x1e3);}}function _0x3761(){const _0x2b0fe5=['<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','(ก่อนเรียน)\x20','<h1></h1>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','remove','No\x20player\x20data\x20to\x20save.','findIndex','cancel-global-live-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','questionText','ไม่พบข้อมูลแบบทดสอบ','globalCompositeOperation','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','desc','จำนวนและการดำเนินการ','push','quiz-bank-modal','\x0a---\x0a','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','pointerdown','textContent','เกิดข้อผิดพลาดในการโหลดโปรเจค','กลุ่มของคุณ','student-name-select','\x5cneq','export-pdf-modal','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','.ai-fix-formula-btn','offset','lineJoin','ไม่พบข้อมูลโปรเจค','กำลังจับคู่...','[data-topic-container-id]','open','Invalid\x20response\x20structure\x20from\x20AI:','.start-game-btn','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','เวกเตอร์และเมทริกซ์\x20(เสริม)','bestScore','find','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','score-distribution-chart','Error\x20deleting\x20all\x20students:','Error\x20updating\x20old\x20quizzes:','text-red-800','.topic-actions-view','team','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','แก้ไขข้อนี้','ผ่านฉลุย','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','sync-player-list','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','dataIndex','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<p\x20class=\x22font-bold\x20text-sm\x20','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','countdown-display','เกิดข้อผิดพลาดในการลบแบบทดสอบ','shuffledQuiz','พื้นที่สามเหลี่ยม','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','#FCE7F3','ผู้ควบคุม\x20(ทดสอบ)','matching_item','.verification-result-editor','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700','พาราโบลา','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','localeCompare','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader-text','timestamp','passcode','wasConfident','อัปเดตสถานะสำเร็จ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.quiz-result-card','.answers','pairedQuizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.png','click','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20/\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','team-quiz-topic','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','74GpESrI','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','bg-green-50','ยืนยันการจับคู่','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','results_','\x20คะแนน</span></div>','show_results_and_answers','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','comparison-overall-tab','$1^{\x5ccirc}\x5ctext{C}','none','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','editor-quiz-topic',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','innerText','lowerGroupNames','Error\x20fetching\x20project\x20quizzes:','sort','Error\x20updating\x20project\x20color:','</span></td>','bg-green-200','bg-red-200\x20text-red-800','.isScored','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','.pen-color-btn','line-through\x20text-red-700','แบบทดสอบนี้หมดเวลาแล้ว','COMEBACK_KING','\x20from\x20sync\x20game:','แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','ตาของ:\x20','finishReason','.draggable-text','temp-loader-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบปรนัย','ความสัมพันธ์ของมุม','correctAnswerIndex','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-tool-btn','onload','</tbody></table>','text-gray-500','nickname-input','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.submittedAt','/questionBank','file-upload-input','contentEditable','start-live-race-generated-btn','Error\x20generating\x20from\x20parallel\x20test\x20file:','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','อัปเดตแบบทดสอบเก่า\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','\x5ctext{$1}','lineWidth','/public/data/projects/','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','สร้างคำถามแบบเติมคำในช่องว่าง','label','back-to-project-btn','student-progress-view','getTextContent','bg-red-50','สมการตรีโกณมิติ','confidence-scoring-description','answer-grid-container','Error\x20submitting\x20group\x20answer:','text-yellow-300','.color-palette-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(ไม่มีชื่อ)','หมดเวลาสำหรับข้อนี้!','#FEE2E2','กฎบวกและกฎคูณ','parse','ระบบสมการเชิงเส้นสองตัวแปร','startTime','Group\x20Mode','คะแนนเฉลี่ย','upper_group_count','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x22\x20value=\x22','ชนิดของข้อมูลและการเก็บข้อมูล','default','classList','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','undefined','quizMode','confirm-move-quiz-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','scale','showRankings','now','question-analytics-container','title','quiz-search-input','strokeStyle','NEGATIVE_INFINITY','tGain','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-dashboard-view','passingScore','q-image-container-','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','2-digit','dfrac','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','promptFeedback','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-questions','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','showInStudentDashboard','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','toISOString','parallel-test-upload-input','สมการค่าสัมบูรณ์','presentation-ai-result','\x20mb-2\x22>','เลือกและบันทึก','global-live-game-modal','.ai-fix-question-btn','คำถามถัดไป','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','student-name-input','interesting-stats-wrapper','quiz-leaderboard-table-body','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบ','timerMode','options','</h3>','start-sync-game-btn','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','comparison-modal','add-student-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','text-gray-300\x20hover:text-white','Error\x20deleting\x20project:','lesson-plan-content','.project-card-container:not(.opacity-50)','สเกลและแผนที่','```json','_opt','ownerSVGElement','ลิมิต','s;\x22\x20title=\x22','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20committing\x20score\x20updates:','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','opacity-50','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','timer-duration-input','text-content-input','<textarea\x20name=\x22question','leaderboard-tab','.scratchpad-content-wrapper','<div\x20class=\x22','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ตอบถูก\x203\x20ข้อติดต่อกัน','confidence-scoring-checkbox','bar','PERSEVERANCE','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','.question-editor-item','ฟังก์ชันค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.\x20แต่ละข้อมี\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','auto','link-input-area','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isPasscodeEnabled','274192258111','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','.start-live-race-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quiz-id-input','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ย้าย','fullscreenElement','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','student-progress-content','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','standard','หัวข้อที่สร้างเอง','wheel','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lessonPlan','confirmation-message','createElementNS','_opt1\x22>ไม่ใช่</label></div>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','fa-bolt\x20text-blue-500','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','correctAnswer','analyze-strengths-btn','bank-quiz-list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','<span\x20class=\x22sort-indicator\x20ml-2\x22>','input[name=\x22team_player\x22]:checked','ความชันเส้นสัมผัส','Error\x20verifying\x20answers\x20in\x20editor:','.summary-bar-item','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','text/csv;charset=utf-8;','querySelectorAll','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','Error\x20generating\x20easy\x20version\x20quiz:','write','math-topics-checkbox-container','กรุณาป้อนรหัสแบบทดสอบ','Error\x20starting\x20game:','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','touch','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','$1\x5c%','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','rgba(79,\x2070,\x20229,\x201)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN','pinned-items','[contenteditable=\x22true\x22]','.cancel-edit-topic-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','1:274192258111:web:4120c9118229b5644dd48a','http://www.w3.org/2000/svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20processing\x20file\x20for\x20AI:','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','ARRAY','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','color','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','อุณหภูมิและการแปลง','แบบปรนัย\x204\x20ตัวเลือก','global-quiz-search-input','indexOf','select','comparison','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','เกิดข้อผิดพลาด:\x20','.regenerate-question-editor-btn','trail','fa-shield-alt\x20text-gray-600','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-table-body','presentation-short-answer-input','\x22\x20value=\x22false\x22\x20','Error\x20deleting\x20quiz:','confirm-game-start-modal','STOP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','rgba(59,\x20130,\x20246,\x200.7)','isPinned','.delete-custom-topic-btn','/public/data/practiceBank','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','date_asc','commit','prod','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','next-drill-btn','total','การนับ','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x20mr-2\x22></i>','save-project-name-btn','/users/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','PERFECT_SCORE','เกิดข้อผิดพลาดในการสร้างใบงาน','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','_blank','<div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิมพ์ตอบ','sync-manage-players-btn','<button\x20data-value=\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','next-question-btn','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','Error\x20creating\x20project:','studentName','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','<li>','กำลังสร้างรูปภาพ...','dispatchEvent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','ดอกเบี้ยอย่างง่าย','ring-purple-400','leaderboard-table-body','.lastAnswerCorrect','timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','set','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ชื่อหัวข้อห้ามว่าง','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','ใช่','move-quiz-modal','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','players.','</button>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','Error\x20generating\x20parallel\x20test\x20from\x20bank:','getItem','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','/public/data/learnedFixes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','border-red-300\x20bg-red-50','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เรขาคณิต','<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','scheduled','ย้ายแบบทดสอบสำเร็จ','Firebase\x20initialization\x20failed:','includes','presentation-scratchpad-btn','.generate-post-test-btn','latestScore','jspdf','change','บันทึกการตั้งค่าสำเร็จ','live-game-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','-tab','ฟังก์ชันผกผัน','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','</label></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','source-over','cancel-create-project-btn','ไม่พบแบบทดสอบในระบบเลย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','Error\x20resetting\x20project\x20order:','resize','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','Error\x20deleting\x20submission:','กรุณาพิมพ์คำตอบของกลุ่ม','Error\x20adding\x20students:','show_results_only','#results-table','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-app-aefee','<div\x20class=\x22my-2\x22>','summary','modal-loop-until-pass-checkbox','select[name=\x22question_single\x22]','student','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','answerText','/public/data/quizzes/','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','totalPoints','confidence-input-','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','start-game-btn','.topic-actions-edit','cancel-team-selection-btn','questions_only','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','API\x20call\x20failed\x20with\x20status:\x20','show-in-student-dashboard-checkbox','replace','msRequestFullscreen','classStrengths','allResponses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','next-question-timed-btn','autoTable','leaderboard','print','การวัด','</td>','preventDefault','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','standardTopic','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','behavior-log-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','actions-container-','imageCode','admin-testing','questionId','passcode-error-msg','Error\x20listening\x20for\x20projects:','deselect-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab-content','input[type=\x22text\x22]','ดีเทอร์มิแนนต์','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','textarea[name=\x22question_single\x22]','application/json','modal-shuffle-select','กำลังอ่านและเตรียมไฟล์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','เซียนสมองไว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','cancel-move-quiz-btn','export-word-btn','_opt0\x22\x20name=\x22question','สมมาตร\x20(แกน/จุด)','lesson-plan-title','แคลคูลัสเบื้องต้น','project-detail-view','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','pointerup','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','className','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','#10B981','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','pin','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','sqrt','กำลังอัปเดตแบบทดสอบ\x20','\x5csum','ข้อต่อไป','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','questionIndex','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','scrollY','live-player-list','toDate','string','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','ฟังก์ชันสัมพัทธ์\x20(rational)','cancel-test-btn','readAsDataURL','size','STRING','podium','AI\x20request\x20was\x20blocked.\x20Reason:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','รหัสไม่ถูกต้อง','answers','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','หน่วยมวล/น้ำหนักและการแปลง','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','data','<p\x20class=\x22text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include-images-checkbox','กำลังสร้างแบบทดสอบคู่ขนาน...','explanation','พบข้อสอบ\x20','</body></html>','modal-timer-duration-input','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','ลบโปรเจคสำเร็จแล้ว','^{\x5ccirc}\x5ctext{C}$','manual_release','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','results-tab','shadowBlur','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','getPage','เกิดข้อผิดพลาดในการลบผลสอบ','custom-math-topic-input','กรุณาป้อนหัวข้อสำหรับใบงาน','Failed\x20to\x20kick\x20player\x20','answered','editable-text-','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','Error\x20pairing\x20quizzes:','\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','typesetPromise','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<div\x20id=\x22q-image-container-','bg-blue-100\x20text-blue-800','text-yellow-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','พบ\x20Sync\x20Game!','พื้นที่สี่เหลี่ยม','ลำดับเรขาคณิต\x20(GP)','Error\x20confirming\x20players:','message-modal','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','cos','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','cancel-quiz-status-btn','input[type=\x22checkbox\x22]:checked','quiz-editor-modal','bg-blue-100','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','presentation-slide-container','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','จัดการ','open-global-live-btn','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','ปรับเพิ่ม/ลดเป็นร้อยละ','exitFullscreen','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','inactive','submittedAt','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','ยกเลิกการจับคู่สำเร็จ','close','removeChild','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','#math-topics-checkbox-container\x20input:checked','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parseFromString','text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','กำลังกลับเข้าสู่เกม\x20','Error\x20loading\x20user\x20preferences:','quiz-settings-modal','drill-feedback','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','<p>','ค่าเฉลี่ย','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-red-700\x20line-through','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','correctResponse','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสัย','ฐานนิยม','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','body','เกิดข้อผิดพลาดในการจับคู่','highlighter-tools-group','Error\x20listening\x20for\x20custom\x20math\x20topics:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','text-indigo-600','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ความต่อเนื่อง','leaderboard-quiz-tab-content','add','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','\x20ชุด)','results-quiz-title','.highlighter-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','behavior-log-tab-btn','delete-svg-btn','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','scores-tab-btn','#FFFFFF','การลบเศษส่วน','ฟังก์ชันยกกำลัง','reveal-answer-btn','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','confirm-global-live-btn','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answering','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','requestFullscreen','เริ่มกิจกรรม:\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','</li>','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','dragend','close-student-rankings-btn','Error\x20during\x20class\x20analysis:','\x20(p=','9uQTrpY','game-start-mode','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','normal','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-modal','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.sortable-header','</div>','border-gray-200','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','manage-tab','FileReader\x20error:','จำนวนคู่:','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','export-image-btn','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','onclick','verify-answers-btn','on_fire','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','solution','code','</span><span\x20class=\x22font-bold\x22>','ไม่พบข้อมูลผู้ใช้','screen','\x5csqrt{$1}','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','latestSubmittedAt','status','all','class','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-end-time','student-quiz-topic','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','595UbESjE','createdAt','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uid','student-quiz-area','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','อัตราส่วนและสัดส่วน','reduce','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','toLocaleString','กราฟฟังก์ชันตรีโกณ','เลือกโปรเจคเพื่อบันทึก',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','การบวก','ยอดเยี่ยม!','confidence','Error\x20generating\x20lesson\x20plan:','bottom','game-pin-input','ระยะเวลา\x20(นาที):','backgroundColor','ระยะทางและจุดกึ่งกลาง','teacherSuggestions','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','questionType','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','API\x20call\x20failed','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','upperGroupResponders','promise','mouseleave','insertAdjacentHTML','worksheet-tab','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.presentation-option','stroke','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','get','isCorrect','blueprint-upload-input','name_asc','bg-purple-50','_opt0\x22>ใช่</label></div>','submissions','.group','split','progress-student-select','Failed\x20to\x20resume\x20game\x20session:','pow','setTransform','quiz-status-modal','parallel-test-input-area','\x22\x20data-name=\x22','.project-card-content','text-indigo-800','active','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','pinnedProjects','classWeaknesses','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20unpairing\x20quizzes:','closePath','raw','ระบบอสมการ','key','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>','<div\x20class=\x22mb-3\x20topic-category\x22>','fromCharCode','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','answeredCurrentQuestion','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#retake-for-improvement-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','analytics','request','visibilityState','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','thead\x20.sortable-header','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-red-100\x20text-red-800','<p><strong>คำตอบที่แนะนำ:</strong>\x20','.quiz-bank-present-btn','multiply','Team\x20Quiz','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','team-player-status-grid','padStart','959872ezdFEr','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container[data-id]','not_confident','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราและอัตราหน่วย','frac','eraser','bank-quiz-search-input','<svg','แบบทดสอบนี้ปิดใช้งานอยู่','toString','border-red-700','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x20หัวข้อ)','.score','/studentProfiles','Error\x20saving\x20user\x20preference:','left','live-options-container','การประยุกต์เวกเตอร์พื้นฐาน','tool','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','.answered','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-modal','text-indigo-700','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','มัธยฐาน','text-green-800','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','per-question-timer-container','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseup','download','close-lesson-plan-modal-btn','getElementById','ยังไม่ส่ง','student-project-leaderboard-table-body','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','div[data-question-index=\x22','suggestedAnswer','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','/public/data/liveGames','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','Error\x20updating\x20pin\x20status:','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','log','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การคูณทศนิยม','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','พื้นที่ผิวรูปทรงสามมิติ','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','slide-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','generated-quiz-actions','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','appendChild','save-game-results-checkbox','modal-confidence-scoring-checkbox','<option\x20value=\x22','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','ระบบเลขและค่าประจำหลัก','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','save','min','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','date_desc','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','การลบ','#D1FAE5','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','.start-presentation-list-btn','ทฤษฎีบทพื้นฐานของแคลคูลัส','p-2\x20bg-black/10\x20rounded-md','player-count','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','ฟังก์ชันลอการิทึม','mjx-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','short_answer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ใหม่...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','กรุณาใส่ชื่อใหม่','scratchpad-header','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','restore','<p\x20class=\x22','/public/data/projects','isConfidenceScoringEnabled','bg-green-100\x20text-green-800','delete-all-students-btn','สอบปกติ','close-game-final-btn','game-start-modal-title','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','strength-weakness-analysis-container','questionDisplayedAt','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','Error\x20updating\x20custom\x20topic:','ค.ร.น.\x20(LCM)','.doc','มุมพิเศษ\x2030°-60°-90°','confident','onerror','text-green-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กลุ่ม:\x20','\x5ccdot','katex','manage','transform','rgba(239,\x2068,\x2068,\x200.7)','กรุณาเลือกโปรเจคที่ต้องการบันทึก','rows','mandatory','generate-from-parallel-test-btn','8358DwtUiw','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','<p\x20class=\x22text-xl\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20to\x20question\x20bank:','</div><div\x20class=\x22space-y-2\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','wakeLock','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isFinished','การแจกแจงปกติและ\x20z-score','.pdf','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-dashboard-btn','submission-status-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','Error\x20joining\x20live\x20game:','open-sync-scratchpad-btn','cancel-bulk-quiz-settings-btn','attempts','getContext','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','duration-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','confirm-admin-login-btn','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x20pointer-events-none\x22>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-project-select','baseVal','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','analytics-tab-btn','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','/preferences/main','isStarred','lastAnswerIndex','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','cursor','</form>','1097900QArjzo','ไม่ได้ตอบ','\x22,\x20','modal-confidence-mode-select','Error\x20saving\x20visibility\x20settings:','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','quiz-editor-questions-container','open-scratchpad-btn','blueprint-input-area','bulk-loop-until-pass-checkbox','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','modal-timer-duration-container','tan','pen-tool-btn','deltaY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','webkitExitFullscreen','fix\x20the\x20option','projectName','.admin-try-quiz-list-btn','เกิดข้อผิดพลาดในการติดดาว','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','$$$1$','back-to-results-btn','totalQuestions','open-quiz-bank-btn','checked','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','การสร้างรูปด้วยวงเวียน–สันตรง','ไม่มีคำอธิบาย','ring-2','bg-green-100\x20font-bold','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','hint','transparent','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','fas\x20fa-bookmark','\x20คะแนน\x20','export-tutor-pdf-btn','transition-all','ที่พิมพ์ได้\x20จำนวน\x20','globalAlpha','half_mark_status','#E0E7FF','แบบทดสอบที่ติดดาว','timed','ref','quiz-type-select','\x20รายการสำเร็จ!','FIRST_TRY_ACE','โดเมนและเรนจ์','</p><div>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','starred-project','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','ลำดับการดำเนินการ\x20(PEMDAS)','คะแนนยังไม่ถึงครึ่ง','startsWith','00:00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','submit-team-answer-btn','per-question-options','จำนวนเต็มบวก','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','student-name-selection-view','instructions','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','password-error-msg','per_question','comparison-individual-content','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','q-text-','<br>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','การลบทศนิยม','ระยะจากจุดถึงเส้นตรง','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','อัตราการเปลี่ยนแปลงทันที','retake-quiz-loop-btn','ไม่พบตารางสำหรับ\x20Export','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','สมการเหตุผล\x20(rational)','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','true','finished','\x20จาก\x20','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','rgba(255,\x20255,\x200,\x200.5)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','ไม่สามารถเริ่มเกมได้','.delete-quiz-btn','สามเหลี่ยม\x20(ชนิด/สมบัติ)','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','students','ทำคะแนนได้เกินครึ่ง','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','confirm-not-confident','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','mixed','ระยะเวลา\x20(วินาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวประกอบและตัวประกอบเฉพาะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','.kick-player-btn-sync','กิจกรรมสิ้นสุดลงแล้ว','getBoundingClientRect','back-to-dashboard-from-results-btn','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','button[data-id]','<tr>','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','release','result','eraser-tool-btn','activeGameSession','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','สุดยอด!\x20ตอบถูกทุกข้อ','comparison-chart','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนการสอน:\x20','rgba(16,\x20185,\x20129,\x200.7)','.parallel-quiz-btn','ไม่ใช่\x20/\x20ผิด','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','ฟังก์ชันแบบชิ้นส่วน','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','create-project-btn','preScore','student-team-selection-view','.topic-name-display','scores-tab-content','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','สร้างคำถามแบบใช่/ไม่ใช่','#confidence-input-','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','(เลือกแล้ว\x20','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','parentElement','(ก่อนเรียน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','lesson-plan-modal','pen','\x5cdiv','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','startedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','รูปแบบการให้เหตุผล','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','currentTarget','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20rendering\x20student\x20progress:','user','confirm-game-start-btn','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','topic-input-area','.delete-svg-btn','พีชคณิตและฟังก์ชัน','ไม่พบแบบทดสอบสำหรับรหัสนี้','justification','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','reset-project-order-btn','OBJECT','generate-from-link-btn','quiz-results','type','การปัดเศษและประมาณค่า','confidence-choice-btn','deg','ทศนิยม\x20(ค่าประจำหลัก)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','removeItem','view-my-progress-btn','cancel-admin-login-btn','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','Error\x20listening\x20for\x20student\x20profiles:','save-quiz-edits-btn','Error\x20saving\x20game\x20results:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','function','ไม่พบข้อมูลข้อสอบหลังเรียน','cdot','touchend','\x5cpm','leaderboard-quiz-tab-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','isArray','จำนวนคละ','pointerType','auto-fix-latex-btn','$1^{$2}','highlighter','pointercancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','correct','fill_in_the_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','back-to-student-home-btn','players','canvas','\x20\x20\x20-\x20','progress-project-select','\x22.\x20Ideal\x20Answer:\x20\x22','delete','สถิติและความน่าจะเป็น','toDataURL','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','false','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','เกิดข้อผิดพลาดในการบันทึกลำดับ','description','live-short-answer-input','student-reading-area','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','admin-try-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','gain','thead','cancel-quiz-edits-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.quiz-bank-move-btn','อสมการค่าสัมบูรณ์','right','student-project-leaderboard-content','ไม่พบแบบทดสอบ','force-math-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','trim','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','modal-close-btn','bg-red-500\x20text-white\x20font-bold','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','index','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','บันทึกการตั้งค่าแล้ว','getAttributeNS','quiz-leaderboard-table','project-detail','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','N/A','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','difficulty-level-select','loader','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนเบี่ยงเบนเฉลี่ย','วงรี','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20(ID:\x20','destroy','focus','คำเตือน\x20(','กฎของโคไซน์','\x5cfrac','AI\x20แก้ไขคำถามสำเร็จ!','จุด\x20เส้น\x20ระนาบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','.generate-easy-version-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','ยืนยันและอัปเดตทั้งหมด','stem','bg-green-100','MathJax','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','กำลังค้นหากิจกรรม...','\x22\x20data-pre-test-id=\x22','idealAnswer','\x20ตัวเลือก.\x20','ไม่มีผู้ตอบตัวเลือกนี้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','beginPath','whole_quiz','hidden','highlighter-size-value','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.edit-quiz-btn','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','behaviorLog','rgba(239,\x2068,\x2068,\x200.9)','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','starred','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','ห.ร.ม.\x20(GCD)','.rename-quiz-btn','far\x20fa-star','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','NUMBER','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','documentElement','button','export-worksheet-pdf-btn','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','target','drop','ร้อยละพื้นฐาน','(คู่ขนาน)\x20','Error\x20fetching\x20student\x20rankings:','flex','endTime','ส่งคำตอบ','player-list-lobby','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','text-red-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','สรุปผลการวิเคราะห์:\x5cn','fas\x20fa-star\x20text-yellow-500','อสมการเชิงเส้น','closest','error','keys','bulk-confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','AI\x20grading\x20failed:','\x20คน\x20ตอบถูก</p></div>','จากไฟล์ที่แนบมานี้,\x20','touchmove','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','global-quiz-list','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','length','คำถามดิบ:\x20\x22','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','removeAttribute','sum','qType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isAdaptive','isScored','fixedData','sync-short-answer-input','numPages','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','category','สร้างคำถามใหม่\x201\x20ข้อ\x20','px)\x20scale(','setAttribute','topic-input','.project-card-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input','quizType','shadowColor','ตรวจทานเฉลยเสร็จสิ้น!','AI\x20Formula\x20Fix\x20Error:',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','artifacts/','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','upperGroupNames','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','every','isRemedial','generate-from-blueprint-btn','pre-test','prev-question-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','กรุณาวาง\x20URL\x20ของบทความก่อน','badgesCount','sync-submit-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerDuration','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','docs','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','input[type=\x22radio\x22][value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','btn','live-game','ท็อปฟอร์ม','bulk-confidence-mode-container','generate-from-text-btn','true_false','text-blue-800','generated-quiz-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','table','beforeend','check-answer-btn','student-team-join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','tfrac','confidence-modal','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','from','list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20parallel\x20post-test:','perfect_score_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-form','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','จับคู่เพื่อเปรียบเทียบผล','\x20\x0a\x20\x20\x20\x20','ผ่าน','loopUntilPass','comparison-individual-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','verify-answers-editor-btn','#F3E8FF','sync-player-management','ตอบถูกทุกข้อในแบบทดสอบนี้','องค์ประกอบของฟังก์ชัน','\x20คู่\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','groups.','confidence-scoring-toggle','slice','fullscreenchange','.duplicate-quiz-btn','/public/data/syncGames','ผลรวมอนุกรม\x20(Σ)','empty','.export-pdf-list-btn','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20displaying\x20question\x20bank:','touchcancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-row','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','(คัดลอก)\x20','scores','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(^|[^\x5c\x5c])\x5cb','close-comparison-modal-footer-btn','ON_FIRE','จับคู่แบบทดสอบสำเร็จ!','earned-badges-container','team-student-list','\x5c\x5c\x5c\x5c(?=(','.unpair-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x5ctimes','resultsDisplay','ข้อ\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','entries','การแปลงรูปอัตลักษณ์','projectSort','/public/data/teamQuizzes','generate-from-file-btn','qIndex','answer-counter','height','ความชันและเส้นตรง','student-progress','#e21b3c','เมทริกซ์:\x20บวก/คูณ','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','trail-tool-btn','link-tab','repeat','scheduled_pending','interesting-stats-container','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','export-pdf-btn','answer','preTestId','splice','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','num-choices','rgba(79,\x2070,\x20229,\x200.8)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','สำหรับโปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','6571pKsIZB','พอใช้','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','createElement','ไม่สามารถโหลดข้อมูลอันดับได้','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','ชื่อโปรเจคห้ามว่าง','.quiz-bank-delete-btn','รากที่สองและที่สาม','results-tab-content','user-id-display','opacity','<button\x20id=\x22','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ฟังก์ชันราก\x20(root)','ai-quiz-app-aefee.firebasestorage.app','red','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','update','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','blueprint-tab','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20name=\x22confidence','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','scratchpad-controls','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointermove','#student-quiz-leaderboard-content\x20thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่พบโปรเจค','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','both','เพิ่มหัวข้อ\x20\x22','mean','\x20รายการ\x20สำเร็จ!','การคูณ','setFont','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','รูปหลายเหลี่ยมและมุมภายใน','num-choices-container','confirm-delete-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','max','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','fa-crown\x20text-yellow-500','$1\x20\x5cfrac','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','.quiz-status-btn','save-visibility-settings-btn','modal-timer-duration-label','กรุณาเลือกชื่อของคุณ','confirm-bulk-quiz-settings-btn','tooltipTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','contents','group','shuffle-setting-select','approx','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','dashboardConfig','ตรวจคะแนนใหม่\x20','bulk-quiz-settings-modal','.ideal-answer-input,\x20.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selected-topics-count','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','devicePixelRatio','workerSrc','confidence-mode-select','POST','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','1545435PbDALU','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-emerald-800','ย้ายแบบทดสอบไปโปรเจคอื่น','gameData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','copy-quiz-id-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','currentMode','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','ไม่ผ่าน','clientX','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','next-sync-question-btn','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนข้อ:','webkitRequestFullscreen','project-quizzes-list','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','เปิดใช้งาน','<div\x20class=\x22flex-1\x22></div>','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container.opacity-50','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','$1_{$2}','</span></div>','#DBEAFE','.lastAnswerIndex','th-TH','textarea','bg-green-500','div','Leaderboard\x20update\x20transaction\x20failed:\x20','<li\x20class=\x22','</p><p><strong>เฉลย:</strong>\x20','G-V90KRM0L63','comparison-overall-content','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fas\x20fa-user-edit','$1^{\x5ccirc}','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong></p>','สมการลอการิทึม','perfect_score','กำลังดึงข้อมูลจากลิงก์...','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','contains','save-quiz-btn','ไม่สามารถบันทึกการตั้งค่าได้','.move-quiz-btn','Invalid\x20response\x20structure\x20from\x20AI.','Error\x20duplicating\x20quiz:','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','per-q-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','projectId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','Error\x20saving\x20project\x20order:','show-results-btn','authed_project_','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sin','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','groups','#view-rankings-btn','admin-password-modal','input[name=\x22status-option\x22]:checked','overallGroups','ไม่พบข้อมูลการจับคู่','Original\x20quiz\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','text-green-700\x20bg-green-100','practiceProblems','width','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','bg-yellow-100','text-gray-200','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','.confidence-choice-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','file-input-area','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','.delete-project-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','กรุณาพิมพ์คำตอบของคุณ','คณิตศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','</tbody></table></div>','modal-passing-score-input','Error\x20joining\x20activity:','responses','.status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerValue','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สรุปผลสุดท้าย','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','floor','Error\x20joining\x20sync\x20game:','modal-message','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','text-blue-700\x20bg-blue-100','กรุณาเลือกคำตอบของกลุ่ม','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x22.\x20','เรขาคณิตวิเคราะห์','บันทึกแบบทดสอบสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','<div\x20class=\x22loader\x20mx-auto\x22></div>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','td,\x20th','#student-project-leaderboard-content\x20thead','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','name','lowerGroupResponders','#6366F1','globalSettings','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','enable-passcode-checkbox','\x22\x20data-topic=\x22','ก่อนเรียน','mouse','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','leq','input[type=\x22radio\x22]:checked','การแจกแจงทวินาม\x20(พื้นฐาน)','lastAnswerCorrect','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','currentQuestionIndex','quadraticCurveTo','quiz-start-time','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','font-bold\x20text-green-700','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','scratchpad-options','visibilitychange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','times','sync','setAttributeNS','scratchpad-close-btn','/public/data/customMathTopics','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','project-title','topic','toLowerCase','เกิดข้อผิดพลาดในการอัปเดตสถานะ','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','button[type=\x22submit\x22]','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','results','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','value','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20pin\x20status:','ค่าคลาดเคลื่อนของการวัด','bg-red-100','bulk-quiz-settings-btn','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','คะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','การหารเศษส่วน','disabled','submission','scratchpad-modal','.ql-editor','Error\x20generating\x20quiz:','เงินงวด\x20(อนุกรมเงินงวด)','.save-to-bank-btn','.copy-quiz-id-list-btn','เกี่ยวกับหัวข้อ\x20\x22','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x20สำเร็จ','ปิดใช้งาน','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','.pointsLastQuestion','admin-dashboard','test','mousemove','\x5cfrac{$1}{$2}','files','warn','behavior-log-container','candidates','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','</option>','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','settings','quick_thinker','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','question','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x20\x20\x20-\x20คำตอบ:\x20','bulk-shuffle-select','select-all-topics-btn','show_pass_fail_only','createdBy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','บันทึกการตั้งค่าการแสดงผลสำเร็จ','</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','\x22\x20name=\x22team_answer\x22\x20value=\x22','str','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-lesson-plan-modal-footer-btn','.toggle-actions-btn','has','Failed\x20to\x20get\x20standardized\x20topic:','Enter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','modal-timer-mode-select','กรุณาเลือกคำตอบก่อนครับ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','อนุพันธ์:\x20กฎพื้นฐาน','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','confidenceMode','การหารทศนิยม','neq','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','.topic-name-input','.ideal-answer-input','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผิด','shouldSaveResults','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','Error\x20saving\x20settings:','\x20ข้อ\x20','สร้างชุดคำถามจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','text-purple-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','querySelector','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','checkbox','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การยืนยันตัวตนล้มเหลว','text-red-300\x20hover:text-red-100','บันทึกการแก้ไข','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','results-display-select','getBBox','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','kick-player-btn','back-to-student-initial-btn','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','QUICK_THINKER','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700\x20bg-red-100','pop','text-gray-400\x20hover:text-indigo-600','geq','join','Error\x20starting\x20team\x20quiz:','circle','editable-quiz-topic','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-summary-tooltip.visible','hasPerfectScoreBonus','display','scratchpad-question','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','hint-btn','quiz-generation-area','innerHTML','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','student-initial-view','sync-matching-select','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-join-game-view','Error\x20submitting\x20team\x20answer:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','clientY','lower_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','input[name=\x22question_single\x22]:checked','<div\x20class=\x22my-6\x22>','projectSortOrder','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x22\x20name=\x22question_single\x22\x20value=\x22','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','projectView','values','แบบเติมคำตอบ','#FEF3C7','ใช่\x20/\x20ถูก','แผนการสอน','quiz-leaderboard-table-container','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','text-gray-100','quiz-results-view','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','Error\x20regenerating\x20question\x20in\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</span>','Copy\x20command\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','selected-answer-index-hidden','live-race','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','confirm-team-players-btn','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','block','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','questionStatus','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','schedule','mode-switcher-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','stopPropagation','.answer-text','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','.correct-response-input','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','fill_in_no_choices','text-white','grid','%</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้ไม่ยอมแพ้','<span\x20title=\x22','q-explanation-','live-submit-short-answer-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','dimmed','touchstart','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.delete-submission-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','visible','round','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','list-view-btn','numeric','top','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cancel-quiz-settings-btn','จำนวนเชิงซ้อน\x20(เสริม)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','.quiz-bank-item','<div\x20class=\x22answer-space\x22></div>','\x22\x5cn','ไฮเพอร์โบลา','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','เกิดข้อผิดพลาดในการปักหมุด','catch','All\x20groups\x20have\x20finished.\x20Ending\x20game.','สมการยกกำลัง','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>',')\x5cb)','ตรีโกณมิติ','กรุณาเลือกสถานะ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','per-question-text','goto-next-question-btn','undo-btn','กฎของไซน์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','addEventListener','show-leaderboard-btn','fill','gamePin','matching','เกมสิ้นสุดลงแล้ว','hasOwnProperty','playerName','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตารางความถี่','reference-pdf-upload','first_try_ace','passing-score-input','Authentication\x20failed:','parent','project-passcode-input','createObjectURL','setItem','ความคล้ายของรูป','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','practice-topic-btn','การแยกตัวประกอบ','</select>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','style','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','GlobalWorkerOptions','#E5E7EB','ความเป็นอิสระของเหตุการณ์','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','dataset','ฟังก์ชันกำลังสองและกราฟ','Error\x20updating\x20sort\x20preference:','-tab-content','text-red-500\x20hover:text-red-700','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','moveTo','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','\x20ครั้ง)</span></td>','input[type=\x22checkbox\x22]','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','student-view','#ffffff','questions',':</p><p\x20class=\x22text-xs\x22>','\x22\x20class=\x22color-palette-btn\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','viewBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการลบหัวข้อ','quiz','.mb-6.p-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','random','bg-red-500','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','กรุณาเลือกคำตอบ','null','move','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','add-custom-math-topic-btn','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','/public/data/quizzes','summary_chart','แก้ไขหัวข้อสำเร็จ','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','option','multiple_choice','Re-grade\x20process\x20failed:','เกิดข้อผิดพลาดในการสร้างห้องเกม','confirm-join-game-btn','ไม่สามารถสร้างโปรเจคได้','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','scratchpad-clear-btn','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','perseverance','ความน่าจะเป็นแบบมีเงื่อนไข','ร้อยละประยุกต์','1168688EKpAxy','rename-quiz-modal','match','(หลังเรียน)\x20','คะแนนเต็ม!','keydown','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','admin-password-input','results-table-container','analytics-summary-cards','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','stdDev','จากเนื้อหาต่อไปนี้:\x20\x22','export-leaderboard-word-btn','/submissions','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','ควรปรับปรุง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-user-astronaut\x20text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','Error\x20updating\x20quiz\x20status:','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','touches','execCommand','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','.color-palette-popup','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','projectOrder','25971bMGygr','results-table','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','student-project-leaderboard-tab','passcode-input-container','$1\x5ctimes','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','helvetica','join-live-game-btn','href','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','end-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','then','toFixed','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x22>ใช่</p>','bg-yellow-50','Error\x20fetching\x20projects\x20for\x20move:','originalTopic','items','mode','answerValue','lineCap','project-name-input','เศษส่วน\x20(ย่อ/ขยาย)','#F59E0B','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','pre-test-checkbox','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-topic-btn','game-start-quiz-id','รูปสแควร์รูท\x20(surd)','parallel-test-tab','Error\x20verifying\x20answers:','filter','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','perQuestionStats','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','ยังไม่มีนักเรียนส่งงาน','.pin-project-btn','learningGaps','stringify','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','<p><strong>คำตอบของคุณ:</strong>\x20','.quiz-settings-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ดูผลสรุปสุดท้าย','confidence_single','</p>','main-correct-answer-display','bulk-results-display-select','.delete-student-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-question-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','.pen-size-btn','Error\x20toggling\x20star\x20status:','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','<div\x20class=\x22space-y-4\x22>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','parts','\x5cfrac{','bg-gray-500','.regenerate-question-btn','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','originalQuestionText','text-blue-700','postTScore','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','link-url-input','การบวกทศนิยม','clearRect','modal-results-display-select','shuffle','กรุณาใส่ชื่อโปรเจค','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุดสำเร็จ!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','dragover','update-old-quizzes-btn','ลบแบบทดสอบสำเร็จแล้ว','เกิดข้อผิดพลาดในการบันทึก','bulk-confidence-mode-select','onchange','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','.pair-quiz-btn','forEach','อนุพันธ์:\x20กฎลูกโซ่','document','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','.csv','Error\x20renaming\x20quiz:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','Failed\x20to\x20end\x20group\x20mode\x20game:','fadeStartTime','lobby','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','loop-until-pass-checkbox','.generate-lesson-btn','project-sort-select','\x22><i\x20class=\x22fas\x20',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit','fill_in_with_choices','จำนวนนักเรียน','grabbing','results-quiz-id-display','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','.option-text','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','student-quiz-leaderboard-content','arrayBuffer','.compare-results-btn','\x22><p\x20class=\x22font-semibold\x22>','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','removeEventListener','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20deleting\x20student:','svg','timer-container','Error\x20saving\x20submission:','admin-view','quizId','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนเต็มในการทำครั้งแรก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','showImproveButton','members','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cloneNode','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'];_0x3761=function(){return _0x2b0fe5;};return _0x3761();}async function handleJoinLiveGame(){const _0x220c7a=_0x53e3b0,_0x34f1ec=document[_0x220c7a(0x2f6)](_0x220c7a(0x27b)),_0x3c0062=document[_0x220c7a(0x2f6)](_0x220c7a(0x952)),_0x2a27f8=document['getElementById'](_0x220c7a(0x7f6)),_0x19427f=_0x34f1ec[_0x220c7a(0x6b0)][_0x220c7a(0x48c)](),_0x3f9de4=_0x3c0062['value']['trim']();if(!_0x19427f||!_0x3f9de4){showMessage(_0x220c7a(0x622));return;}_0x2a27f8['disabled']=!![],_0x2a27f8[_0x220c7a(0x735)]=_0x220c7a(0x2ee);try{const _0x3eeb2d=collection(db,'artifacts/'+appId+_0x220c7a(0x2fe)),_0x55ecc1=query(_0x3eeb2d,where(_0x220c7a(0x7ac),'==',_0x19427f),where(_0x220c7a(0x25f),'in',[_0x220c7a(0x88a),'question'])),_0x33a858=await getDocs(_0x55ecc1);if(_0x33a858[_0x220c7a(0x553)]){showMessage(_0x220c7a(0xa60));return;}const _0x9db514=_0x33a858['docs'][0x0],_0x202fdc=_0x9db514[_0x220c7a(0x1b4)]();currentLiveGameId=_0x9db514['id'];const _0x45e91c=_0x202fdc['quizId'],_0x2b7f59=doc(db,'artifacts/'+appId+_0x220c7a(0x7ee),_0x45e91c),_0x1b24c9=await getDoc(_0x2b7f59);if(!_0x1b24c9[_0x220c7a(0x4bc)]()){showMessage(_0x220c7a(0x53c));return;}currentQuizData={'id':_0x1b24c9['id'],..._0x1b24c9[_0x220c7a(0x1b4)]()};if(_0x202fdc[_0x220c7a(0x46d)]&&_0x202fdc[_0x220c7a(0x46d)][_0x3f9de4]){const _0x47eab1=_0x202fdc[_0x220c7a(0x46d)][_0x3f9de4];if(_0x47eab1[_0x220c7a(0x25f)]===_0x220c7a(0x1f0)){_0x2a27f8[_0x220c7a(0x735)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x326868={};_0x326868['players.'+_0x3f9de4+_0x220c7a(0x669)]=_0x220c7a(0x2a5),await updateDoc(doc(db,_0x220c7a(0x50e)+appId+_0x220c7a(0x2fe),currentLiveGameId),_0x326868),showView(_0x220c7a(0x525)),currentStudentName=_0x3f9de4,listenForLiveGameUpdates();return;}else{showMessage(_0x220c7a(0x2fc));return;}}if(_0x202fdc[_0x220c7a(0x25f)]!=='lobby'){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x2a27f8['innerHTML']=_0x220c7a(0x2ec);const _0x2ab622={};_0x2ab622[_0x220c7a(0x11b)+_0x3f9de4]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x220c7a(0x2a5)},await updateDoc(doc(db,'artifacts/'+appId+_0x220c7a(0x2fe),currentLiveGameId),_0x2ab622),currentStudentName=_0x3f9de4,listenForLiveGameUpdates();}catch(_0x30f1db){console['error'](_0x220c7a(0x36e),_0x30f1db),showMessage(_0x220c7a(0x749));}finally{_0x2a27f8[_0x220c7a(0x6bc)]=![],_0x2a27f8[_0x220c7a(0x735)]=_0x220c7a(0x6aa);}}function displayStudentNameSelector(_0x3e9d5f,_0x2506e5){const _0x22b98d=_0x53e3b0,_0x7a58d8=document[_0x22b98d(0x2f6)](_0x22b98d(0x8cb));document[_0x22b98d(0x2f6)](_0x22b98d(0x264))[_0x22b98d(0x8c8)]=_0x22b98d(0x93f)+_0x2506e5,!_0x3e9d5f||_0x3e9d5f[_0x22b98d(0x4f1)]===0x0?(_0x7a58d8['innerHTML']=_0x22b98d(0x240),startQuizBtn['disabled']=!![]):(_0x7a58d8[_0x22b98d(0x735)]=_0x22b98d(0x411),_0x3e9d5f[_0x22b98d(0x87f)](_0xccef54=>{const _0x22f5a9=_0x22b98d,_0xad3ab3=document[_0x22f5a9(0x59b)](_0x22f5a9(0x7f2));_0xad3ab3[_0x22f5a9(0x6b0)]=_0xccef54,_0xad3ab3[_0x22f5a9(0x8c8)]=_0xccef54,_0x7a58d8[_0x22f5a9(0x310)](_0xad3ab3);}),startQuizBtn[_0x22b98d(0x6bc)]=![]),studentInitialView[_0x22b98d(0x97f)][_0x22b98d(0x218)]('hidden'),studentNameSelectionView[_0x22b98d(0x97f)][_0x22b98d(0x8b7)](_0x22b98d(0x4ba));}function shuffleArray(_0x4fa4f8){const _0x548f35=_0x53e3b0;for(let _0x4b355f=_0x4fa4f8[_0x548f35(0x4f1)]-0x1;_0x4b355f>0x0;_0x4b355f--){const _0x29cf09=Math[_0x548f35(0x671)](Math[_0x548f35(0x7de)]()*(_0x4b355f+0x1));[_0x4fa4f8[_0x4b355f],_0x4fa4f8[_0x29cf09]]=[_0x4fa4f8[_0x29cf09],_0x4fa4f8[_0x4b355f]];}}function getShuffledQuiz(_0x388537){const _0x51a860=_0x53e3b0;let _0x38cb43=JSON[_0x51a860(0x975)](JSON[_0x51a860(0x84c)](_0x388537));const _0x597a0b=_0x38cb43['settings']?.[_0x51a860(0x871)]||_0x51a860(0x929);if(_0x597a0b===_0x51a860(0x929))return _0x38cb43;return(_0x597a0b===_0x51a860(0x158)||_0x597a0b===_0x51a860(0x5bc))&&shuffleArray(_0x38cb43[_0x51a860(0x7d4)]),(_0x597a0b==='choices_only'||_0x597a0b===_0x51a860(0x5bc))&&_0x38cb43[_0x51a860(0x7d4)][_0x51a860(0x87f)](_0x11cefd=>{const _0x59a669=_0x51a860,_0xcdb1ae=_0x11cefd[_0x59a669(0x281)]||_0x38cb43['quizType'];if(_0x11cefd['options']){let _0x1a7b6e=_0x11cefd[_0x59a669(0x9b6)]['map']((_0x1cb47c,_0x5f26a8)=>({'text':_0x1cb47c,'isCorrect':_0x5f26a8===_0x11cefd[_0x59a669(0x94a)]}));shuffleArray(_0x1a7b6e),_0x11cefd[_0x59a669(0x9b6)]=_0x1a7b6e[_0x59a669(0x6e9)](_0x404ab9=>_0x404ab9[_0x59a669(0x437)]),_0x11cefd['correctAnswerIndex']=_0x1a7b6e[_0x59a669(0x8b9)](_0x444562=>_0x444562['isCorrect']);}_0xcdb1ae===_0x59a669(0x8f9)&&_0x11cefd[_0x59a669(0x15f)]&&shuffleArray(_0x11cefd[_0x59a669(0x15f)]);}),_0x38cb43;}function displayQuizForStudent(_0x22ddae){const _0x2d52d9=_0x53e3b0;studentQuizArea[_0x2d52d9(0x97f)]['remove']('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x22ddae);currentMode!==_0x2d52d9(0x171)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x2d52d9(0x54f),handleFullscreenChange),document['addEventListener'](_0x2d52d9(0x69c),handleVisibilityChange),enterFullscreen(),window[_0x2d52d9(0x7a9)](_0x2d52d9(0x6cc),resetDimTimer),window[_0x2d52d9(0x7a9)](_0x2d52d9(0x30e),resetDimTimer),window['addEventListener'](_0x2d52d9(0x781),resetDimTimer),window[_0x2d52d9(0x7a9)]('keydown',resetDimTimer),resetDimTimer());const _0x14c84c=currentDisplayedQuiz['settings']?.[_0x2d52d9(0x9b5)]||_0x2d52d9(0x929);if(_0x14c84c===_0x2d52d9(0x4b9))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2d52d9(0x6d9)][_0x2d52d9(0x51d)]);else _0x14c84c==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x586001=_0x53e3b0,_0x1b4b70=currentDisplayedQuiz[_0x586001(0x6d9)]?.[_0x586001(0x33f)]===!![],_0x40272f=currentDisplayedQuiz['settings']?.[_0x586001(0x6fb)]||_0x586001(0x70f);let _0x246f59='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x586001(0x6a6)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x586001(0x171)?_0x586001(0x292):'')+_0x586001(0x184);currentDisplayedQuiz[_0x586001(0x7d4)][_0x586001(0x87f)]((_0x1ea099,_0x175789)=>{const _0x44aaef=_0x586001,_0x45580f=_0x1ea099['questionType']||currentDisplayedQuiz[_0x44aaef(0x509)];_0x246f59+=_0x44aaef(0x62e);if(_0x45580f===_0x44aaef(0x8f9)){}else _0x246f59+=_0x44aaef(0x204)+(_0x175789+0x1)+'.\x20'+(_0x1ea099['instructions']||_0x1ea099[_0x44aaef(0x8bc)])+'</p>',_0x1ea099[_0x44aaef(0x170)]&&(_0x246f59+=_0x44aaef(0x7f1)+_0x1ea099['imageCode']+_0x44aaef(0x245));_0x246f59+=_0x44aaef(0x362);switch(_0x45580f){case'short_answer':_0x246f59+=_0x44aaef(0x9d0)+_0x175789+_0x44aaef(0x4ee);break;case _0x44aaef(0x529):_0x246f59+=_0x44aaef(0x99b)+_0x175789+_0x44aaef(0x187)+_0x175789+_0x44aaef(0x3a3)+_0x175789+_0x44aaef(0x298),_0x246f59+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x175789+'_opt1\x22\x20name=\x22question'+_0x175789+_0x44aaef(0x917)+_0x175789+_0x44aaef(0x9fa);break;case _0x44aaef(0x8f9):_0x246f59+=_0x44aaef(0xa61)+_0x1ea099[_0x44aaef(0x4ae)]+_0x44aaef(0x456)+_0x175789+_0x44aaef(0xa36)+_0x1ea099[_0x44aaef(0x15f)][_0x44aaef(0x6e9)](_0x49d2b8=>_0x44aaef(0x313)+_0x49d2b8+'\x22>'+_0x49d2b8+_0x44aaef(0x6d7))[_0x44aaef(0x728)]('')+_0x44aaef(0x7ea);break;default:_0x246f59+=_0x1ea099['options'][_0x44aaef(0x6e9)]((_0x5565b6,_0x253855)=>_0x44aaef(0x5fd)+_0x175789+_0x44aaef(0x9c4)+_0x253855+'\x22\x20name=\x22question'+_0x175789+_0x44aaef(0x97c)+_0x253855+_0x44aaef(0x231)+_0x175789+_0x44aaef(0x9c4)+_0x253855+'\x22>'+_0x5565b6+_0x44aaef(0x2f2))[_0x44aaef(0x728)]('');break;}_0x246f59+=_0x44aaef(0x245),_0x1b4b70&&(_0x246f59+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x40272f==='mandatory'?_0x246f59+=_0x44aaef(0x425)+_0x175789+_0x44aaef(0x5ae)+_0x175789+_0x44aaef(0x5db)+_0x175789+_0x44aaef(0x6f8)+_0x175789+_0x44aaef(0x606):_0x246f59+=_0x44aaef(0x3fd)+_0x175789+_0x44aaef(0x5ae)+_0x175789+_0x44aaef(0x9a5)+_0x175789+_0x44aaef(0x22f),_0x246f59+=_0x44aaef(0x245)),_0x246f59+=_0x44aaef(0x245);}),_0x246f59+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x246f59+=_0x586001(0x38b),studentQuizArea[_0x586001(0x735)]=_0x246f59;if(currentMode===_0x586001(0x171)){const _0x4d43be=document['getElementById'](_0x586001(0x1a8));if(_0x4d43be)_0x4d43be[_0x586001(0x7a9)](_0x586001(0x911),cancelAdminTest);}const _0x4de5aa=document[_0x586001(0x2f6)]('quiz-form');_0x4de5aa&&(_0x4de5aa['addEventListener'](_0x586001(0x892),handleSubmitQuiz),_0x4de5aa['addEventListener'](_0x586001(0x911),_0x744df6=>{const _0xf04f17=_0x586001;if(_0x744df6[_0xf04f17(0x4d5)][_0xf04f17(0x97f)]['contains'](_0xf04f17(0x44b))){const _0x2a32b4=_0x744df6['target'],_0xa9e5cf=_0x2a32b4[_0xf04f17(0x7c7)][_0xf04f17(0x19d)],_0x1d6024=_0x2a32b4[_0xf04f17(0x7c7)][_0xf04f17(0x6b0)];document[_0xf04f17(0x2f6)](_0xf04f17(0x153)+_0xa9e5cf)[_0xf04f17(0x6b0)]=_0x1d6024;const _0x2ef66a=_0x2a32b4[_0xf04f17(0x42c)];_0x2ef66a['querySelectorAll'](_0xf04f17(0x658))[_0xf04f17(0x87f)](_0xab5d26=>_0xab5d26[_0xf04f17(0x97f)][_0xf04f17(0x8b7)]('active')),_0x2a32b4[_0xf04f17(0x97f)]['add'](_0xf04f17(0x2a5));}}));if(window['MathJax'])window['MathJax']['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x4d8239){const _0x551885=_0x53e3b0;if(_0x4d8239)_0x4d8239[_0x551885(0x167)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x49f031=document[_0x551885(0x2f6)](_0x551885(0x53b));if(!_0x49f031)return;const _0x2544d7=currentDisplayedQuiz[_0x551885(0x6d9)]?.[_0x551885(0x33f)]===!![],_0x4ea544=currentDisplayedQuiz[_0x551885(0x6d9)]?.[_0x551885(0x6fb)]||_0x551885(0x70f);if(_0x2544d7&&_0x4ea544==='mandatory'){let _0x25bc40=!![];for(let _0x4a878b=0x0;_0x4a878b<currentDisplayedQuiz[_0x551885(0x7d4)][_0x551885(0x4f1)];_0x4a878b++){const _0x340731=_0x49f031[_0x551885(0x70d)](_0x551885(0x427)+_0x4a878b);if(!_0x340731||_0x340731[_0x551885(0x6b0)]===''){_0x25bc40=![];break;}}if(!_0x25bc40){showMessage(_0x551885(0x7ce));return;}}const _0x553314=_0x49f031[_0x551885(0x70d)](_0x551885(0x6ac)),_0x5d7a2e=currentDisplayedQuiz[_0x551885(0x7d4)]['some'](_0x18e314=>_0x18e314[_0x551885(0x281)]===_0x551885(0x331));_0x553314&&(_0x553314['disabled']=!![],_0x553314['innerHTML']=_0x5d7a2e?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x551885(0x328));const _0x464833=new FormData(_0x49f031),_0x487c1b=currentDisplayedQuiz[_0x551885(0x7d4)][_0x551885(0x6e9)]((_0x3d054e,_0x66e7f7)=>{const _0x38cdce=_0x551885,_0x5a6c92=_0x464833[_0x38cdce(0x293)](_0x38cdce(0x6dc)+_0x66e7f7);let _0x40890d;_0x4ea544==='mandatory'?_0x40890d=_0x464833['get']('confidence'+_0x66e7f7):_0x40890d=_0x464833['get'](_0x38cdce(0x278)+_0x66e7f7)==='on';let _0x4d2e38=null;if(_0x5a6c92!==null&&_0x5a6c92!==undefined){const _0x559442=_0x3d054e[_0x38cdce(0x281)]||currentDisplayedQuiz[_0x38cdce(0x509)];_0x559442==='multiple_choice'||_0x559442===_0x38cdce(0x468)?_0x4d2e38=parseInt(_0x5a6c92):_0x4d2e38=_0x5a6c92;}return{'answer':_0x4d2e38,'wasConfident':_0x40890d};}),_0x41ed0e=currentQuizData['id'],_0xab0ab4=doc(db,_0x551885(0x50e)+appId+_0x551885(0x150)+_0x41ed0e+_0x551885(0x80f),currentStudentName),_0x61e8de=await getDoc(_0xab0ab4),_0x27bac8=_0x61e8de[_0x551885(0x4bc)]()?_0x61e8de['data']():{},_0x2cf5f7=_0x27bac8[_0x551885(0x371)]||[];await processAndSubmitAnswers(_0x487c1b,_0x2cf5f7);}async function gradeShortAnswerWithAI(_0x4d494b,_0xbd152a){const _0x11764d=_0x53e3b0;if(!_0x4d494b||!_0xbd152a)return![];try{const _0x2a0e44=_0x11764d(0x805)+_0x4d494b+_0x11764d(0x471)+_0xbd152a+_0x11764d(0x926),_0xdfc7b4={'contents':[{'role':_0x11764d(0x43c),'parts':[{'text':_0x2a0e44}]}]},_0x2ae48f='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x41513b=_0x11764d(0xa0b)+_0x2ae48f,_0x4d3c13=await fetch(_0x41513b,{'method':_0x11764d(0x5ea),'headers':{'Content-Type':_0x11764d(0x17d)},'body':JSON[_0x11764d(0x84c)](_0xdfc7b4)});if(!_0x4d3c13['ok'])throw new Error(_0x11764d(0x283));const _0x23c5a7=await _0x4d3c13[_0x11764d(0x250)](),_0x487cfc=_0x23c5a7['candidates'][0x0][_0x11764d(0x37b)][_0x11764d(0x862)][0x0][_0x11764d(0x437)][_0x11764d(0x48c)]()[_0x11764d(0x6a7)]();return _0x487cfc===_0x11764d(0x3e6);}catch(_0x2bdd9d){return console[_0x11764d(0x4e5)](_0x11764d(0x4ea),_0x2bdd9d),![];}}async function processAndSubmitAnswers(_0x2693e7,_0x2da1cd){const _0x7d3036=_0x53e3b0;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x7d3036(0x8a2)]('visibilitychange',handleVisibilityChange);let _0x2f3351=0x0;const _0x4f18ca=[],_0xa77856=currentDisplayedQuiz[_0x7d3036(0x7d4)][_0x7d3036(0x4f1)];let _0x5db147=0x0,_0x4e76fb=[];const _0x1f804b=currentDisplayedQuiz[_0x7d3036(0x7d4)];for(let _0x17c204=0x0;_0x17c204<_0x1f804b[_0x7d3036(0x4f1)];_0x17c204++){const _0x3d8658=_0x1f804b[_0x17c204],_0x4212d6=_0x2693e7[_0x17c204],_0x33d53e=_0x4212d6?_0x4212d6['answer']:null,_0x1dc457=_0x4212d6?_0x4212d6['wasConfident']:null;let _0x51bad3=![],_0x35709e=0x0;if(_0x33d53e!==null&&_0x33d53e!==''){const _0x503f41=_0x3d8658['questionType']||currentDisplayedQuiz[_0x7d3036(0x509)];switch(_0x503f41){case _0x7d3036(0x8f9):_0x51bad3=_0x33d53e===_0x3d8658[_0x7d3036(0x209)];break;case _0x7d3036(0x529):const _0x236482=_0x33d53e===!![]||_0x33d53e==='true';_0x51bad3=_0x236482===_0x3d8658[_0x7d3036(0x9fe)];break;case _0x7d3036(0x331):_0x51bad3=await gradeShortAnswer(_0x33d53e,_0x3d8658);break;case _0x7d3036(0x7f3):default:_0x51bad3=Number(_0x33d53e)===_0x3d8658[_0x7d3036(0x94a)];break;}}if(currentDisplayedQuiz[_0x7d3036(0x6d9)]?.[_0x7d3036(0x33f)]){const _0x16e7b2=_0x4212d6?_0x4212d6[_0x7d3036(0x906)]:null;if(_0x51bad3&&(_0x16e7b2===!![]||_0x16e7b2===_0x7d3036(0x34d)))_0x35709e=0x2;else{if(_0x51bad3)_0x35709e=0x1;else{if(!_0x51bad3&&(_0x16e7b2===![]||_0x16e7b2===_0x7d3036(0x2d0)||_0x16e7b2===null))_0x35709e=0x0;else!_0x51bad3&&(_0x16e7b2===!![]||_0x16e7b2===_0x7d3036(0x34d))&&(_0x35709e=-0x1);}}}else _0x35709e=_0x51bad3?0x1:0x0;_0x2f3351+=_0x35709e;if(_0x51bad3){_0x5db147++;if(_0x5db147===0x3)_0x4e76fb[_0x7d3036(0x8c3)](BADGES[_0x7d3036(0x566)]['id']);}else _0x5db147=0x0;let _0x245032=null;_0x3d8658[_0x7d3036(0x9b6)]&&_0x33d53e!==null&&(_0x245032=_0x3d8658['options'][_0x33d53e]),_0x4f18ca[_0x7d3036(0x8c3)]({'questionId':_0x3d8658['id'],'answer':_0x33d53e,'answerText':_0x245032,'isCorrect':_0x51bad3,'wasConfident':_0x1dc457,'pointsAwarded':_0x35709e,'originalQuestionText':_0x3d8658[_0x7d3036(0x4ae)]||_0x3d8658[_0x7d3036(0x8bc)]});}const _0x4ffe65=_0x4f18ca['filter'](_0x387673=>_0x387673[_0x7d3036(0x294)])[_0x7d3036(0x4f1)],_0x597025=currentDisplayedQuiz[_0x7d3036(0x6d9)]?.['passingScore']??Math[_0x7d3036(0x671)](_0xa77856/0x2);_0x4ffe65===_0xa77856&&_0xa77856>0x0&&!currentDisplayedQuiz[_0x7d3036(0x514)]&&_0x4e76fb['push'](BADGES['PERFECT_SCORE']['id']);const _0x1a19e5=currentDisplayedQuiz['settings']?.[_0x7d3036(0x9b5)];if(_0x1a19e5===_0x7d3036(0x4b9)&&quizStartTime){const _0x218c49=(new Date()-quizStartTime)/0x3e8,_0x555cd3=currentDisplayedQuiz[_0x7d3036(0x6d9)][_0x7d3036(0x51d)]*0x3c;_0x4ffe65>=_0x597025&&_0x218c49<_0x555cd3/0x2&&_0x4e76fb['push'](BADGES[_0x7d3036(0x722)]['id']);}_0x2da1cd['length']===0x0&&_0x4ffe65===_0xa77856&&_0xa77856>0x0&&_0x4e76fb['push'](BADGES[_0x7d3036(0x3c1)]['id']);if(_0x2da1cd['length']>0x0){const _0x24bbb2=_0x2da1cd[0x0][_0x7d3036(0x19e)];if(_0x24bbb2<_0x597025&&_0x4ffe65>=_0x597025){const _0x16528e=_0x2da1cd['some'](_0x278318=>(_0x278318[_0x7d3036(0x5ee)]||[])[_0x7d3036(0x12a)](BADGES['COMEBACK_KING']['id']));!_0x16528e&&_0x4e76fb['push'](BADGES[_0x7d3036(0x93d)]['id']);}}_0x2da1cd[_0x7d3036(0x4f1)]===0x4&&_0x4e76fb[_0x7d3036(0x8c3)](BADGES[_0x7d3036(0x9da)]['id']);const _0x41089b=currentDisplayedQuiz[_0x7d3036(0x6d9)]['resultsDisplay'];if(currentMode===_0x7d3036(0x171)){handleResultDisplay(_0x41089b,_0x4ffe65,_0x2f3351,_0x4e76fb,_0x4f18ca,_0xa77856);return;}const _0x555bbe=currentQuizData['id'],_0xb48fae=doc(db,_0x7d3036(0x50e)+appId+'/public/data/quizzes/'+_0x555bbe+_0x7d3036(0x80f),currentStudentName);try{const _0x1f2281=[..._0x2da1cd],_0x5a54f6={'score':_0x4ffe65,'points':_0x2f3351,'badges':Array['from'](new Set(_0x4e76fb)),'submittedAt':new Date()[_0x7d3036(0x9a6)](),'answers':_0x4f18ca};_0x1f2281['push'](_0x5a54f6);const _0x4d5137=_0x2da1cd[_0x7d3036(0x4f1)]===0x0?_0x4ffe65:_0x2da1cd[0x0]['score']||0x0,_0x329335=Math[_0x7d3036(0x5c8)](..._0x1f2281[_0x7d3036(0x6e9)](_0x2669b6=>_0x2669b6[_0x7d3036(0x19e)]));await setDoc(_0xb48fae,{'studentName':currentStudentName,'totalQuestions':_0xa77856,'attempts':_0x1f2281,'firstScore':_0x4d5137,'bestScore':_0x329335,'latestScore':_0x4ffe65,'points':_0x2f3351,'latestSubmittedAt':_0x5a54f6[_0x7d3036(0x1f1)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x7d3036(0x63c)],currentStudentName),handleResultDisplay(_0x41089b,_0x4ffe65,_0x2f3351,_0x4e76fb,_0x4f18ca,_0xa77856);}catch(_0x5d931a){console[_0x7d3036(0x4e5)](_0x7d3036(0x8a7),_0x5d931a),showMessage(_0x7d3036(0x3f5));}}async function updateStudentProfile(_0x2f9d5a,_0x2be2e2){const _0x5457d2=_0x53e3b0,_0x2bab19=doc(db,_0x5457d2(0x50e)+appId+_0x5457d2(0x961)+_0x2f9d5a+_0x5457d2(0x2de),_0x2be2e2);try{const _0x191550=query(collection(db,_0x5457d2(0x50e)+appId+'/public/data/quizzes'),where(_0x5457d2(0x63c),'==',_0x2f9d5a)),_0x121bd1=await getDocs(_0x191550),_0x3fe586=new Map(_0x121bd1[_0x5457d2(0x51f)][_0x5457d2(0x6e9)](_0x438177=>[_0x438177['id'],_0x438177['data']()])),_0x263749=Array[_0x5457d2(0x535)](_0x3fe586[_0x5457d2(0x4e6)]());await runTransaction(db,async _0x824de0=>{const _0x101311=_0x5457d2;let _0x1e1311=0x0;const _0x484cdb={};let _0x2e341c=!![],_0x4af410=0x0,_0xc4df0b=0x0;for(const _0x190e76 of _0x263749){const _0x47ee49=_0x3fe586[_0x101311(0x293)](_0x190e76),_0x13e5a0=doc(db,_0x101311(0x50e)+appId+_0x101311(0x150)+_0x190e76+'/submissions',_0x2be2e2),_0x3076b=await _0x824de0['get'](_0x13e5a0);if(_0x3076b[_0x101311(0x4bc)]()){const _0xb45df8=_0x3076b[_0x101311(0x1b4)](),_0x5dd1e7=_0xb45df8[_0x101311(0x371)]||[];if(_0x5dd1e7[_0x101311(0x4f1)]>0x0){const _0x4b17bd=_0x5dd1e7['reduce']((_0x30e966,_0x2a9d08)=>{const _0x297636=_0x101311;if(_0x2a9d08[_0x297636(0x19e)]>_0x30e966[_0x297636(0x19e)])return _0x2a9d08;if(_0x2a9d08[_0x297636(0x19e)]===_0x30e966[_0x297636(0x19e)])return(_0x2a9d08[_0x297636(0x3ef)]||0x0)>(_0x30e966['points']||0x0)?_0x2a9d08:_0x30e966;return _0x30e966;},{'score':-0x1,'points':-0x1});_0x4b17bd['score']>-0x1&&(_0x1e1311+=_0x4b17bd[_0x101311(0x3ef)]||0x0,(_0x4b17bd[_0x101311(0x5ee)]||[])['forEach'](_0x776736=>{_0x484cdb[_0x776736]=(_0x484cdb[_0x776736]||0x0)+0x1;}));}}if(_0x47ee49[_0x101311(0x6a6)]!=='แบบทดสอบซ่อมเสริม'){_0xc4df0b++;if(_0x3076b[_0x101311(0x4bc)]()){_0x4af410++;const _0x5b922e=_0x3076b[_0x101311(0x1b4)]();_0x5b922e[_0x101311(0x8db)]!==_0x5b922e[_0x101311(0x3a6)]&&(_0x2e341c=![]);}else _0x2e341c=![];}}_0xc4df0b>0x0&&_0x4af410===_0xc4df0b&&_0x2e341c?_0x484cdb['specialist']=0x1:_0x484cdb[_0x101311(0x396)]=0x0,_0x824de0[_0x101311(0xa72)](_0x2bab19,{'studentName':_0x2be2e2,'totalPoints':_0x1e1311,'unlockedBadges':Object[_0x101311(0x4e6)](_0x484cdb)['filter'](_0x288e03=>_0x484cdb[_0x288e03]>0x0),'badgesCount':_0x484cdb},{'merge':!![]});});}catch(_0x287c09){console[_0x5457d2(0x4e5)](_0x5457d2(0x61d),_0x287c09),showMessage(_0x5457d2(0x817));}}function startAdminTest(){const _0x41c072=_0x53e3b0;if(!currentQuizData){showMessage(_0x41c072(0x8d8));return;}let _0x2e3b7a=JSON[_0x41c072(0x975)](JSON[_0x41c072(0x84c)](currentQuizData));currentMode=_0x41c072(0x171),currentStudentName=_0x41c072(0x8f8),adminView['classList'][_0x41c072(0x218)]('hidden'),studentView[_0x41c072(0x97f)][_0x41c072(0x8b7)](_0x41c072(0x4ba)),studentInitialView['classList'][_0x41c072(0x218)](_0x41c072(0x4ba)),studentNameSelectionView[_0x41c072(0x97f)][_0x41c072(0x218)]('hidden'),studentResultArea['classList']['add'](_0x41c072(0x4ba)),studentQuizArea[_0x41c072(0x97f)][_0x41c072(0x8b7)](_0x41c072(0x4ba)),quizStartTime=new Date(),displayQuizForStudent(_0x2e3b7a);}function handleResultDisplay(_0xd0ba73,_0x20e80e,_0x344923,_0x3734b5,_0x207fc8,_0x2ac894){const _0x11b88c=_0x53e3b0;if(_0xd0ba73===_0x11b88c(0x1c2)){displaySubmissionConfirmation();return;}const _0x3bbf7c=currentDisplayedQuiz[_0x11b88c(0x6d9)]?.[_0x11b88c(0x993)]??Math[_0x11b88c(0x671)](_0x2ac894/0x2),_0x570b41=currentDisplayedQuiz[_0x11b88c(0x6d9)]?.[_0x11b88c(0x4f8)]??![],_0xd607e9=currentDisplayedQuiz[_0x11b88c(0x6d9)]?.[_0x11b88c(0x540)]===!![],_0x1fcb28=_0x20e80e<_0x3bbf7c,_0x5f1290=_0xd0ba73===_0x11b88c(0x3ba)||_0xd0ba73===_0x11b88c(0x539);if(_0xd607e9&&_0x1fcb28&&!_0x5f1290){_0xd0ba73===_0x11b88c(0x925)?displayResultsWithAnswers(_0x20e80e,_0x344923,_0x3734b5,_0x207fc8,_0x2ac894,!![]):displayLoopScreen(_0x20e80e,_0x2ac894,_0xd0ba73);return;}if(_0x570b41&&_0x1fcb28){startAdaptiveFlow(_0x207fc8,_0x20e80e,_0x2ac894);return;}switch(_0xd0ba73){case _0x11b88c(0x925):displayResultsWithAnswers(_0x20e80e,_0x344923,_0x3734b5,_0x207fc8,_0x2ac894);break;case'show_results_only':displayResultsScoreOnly(_0x20e80e,_0x344923,_0x3734b5,_0x2ac894);break;case _0x11b88c(0x6e3):displayPassFailOnly(_0x20e80e,_0x2ac894);break;case _0x11b88c(0x3ba):displayHalfMarkResult(_0x20e80e,_0x2ac894);break;case _0x11b88c(0x539):displayPerfectScoreResult(_0x20e80e,_0x2ac894);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2b4528){const _0x4f4bfc=_0x53e3b0;studentReadingArea[_0x4f4bfc(0x735)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x209dd5=_0x4f4bfc(0x4c0)+_0x2b4528+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x4f4bfc(0x146),_0x34cf33={'type':_0x4f4bfc(0x446),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4f4bfc(0xa25),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4f4bfc(0x4cd)},'explanation':{'type':_0x4f4bfc(0x1ab)}},'required':[_0x4f4bfc(0x8bc),_0x4f4bfc(0x9b6),_0x4f4bfc(0x94a),_0x4f4bfc(0x1ba)]},_0x23f747={'type':_0x4f4bfc(0x446),'properties':{'topic':{'type':_0x4f4bfc(0x1ab)},'questions':{'type':_0x4f4bfc(0xa25),'items':_0x34cf33}},'required':['topic',_0x4f4bfc(0x7d4)]};try{const _0x25c993=await callAnalysisApi(_0x209dd5,_0x23f747);_0x25c993[_0x4f4bfc(0x514)]=!![],studentReadingArea[_0x4f4bfc(0x97f)][_0x4f4bfc(0x218)]('hidden');const _0x444e11={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x4f4bfc(0x925)};_0x25c993[_0x4f4bfc(0x6d9)]=_0x444e11,displayQuizForStudent(_0x25c993);}catch(_0x11d584){console[_0x4f4bfc(0x4e5)]('Remedial\x20quiz\x20generation\x20failed:',_0x11d584),showMessage(_0x4f4bfc(0x17b)),showView('student');}}function displayPassFailOnly(_0x18db62,_0x11a34d){const _0x28ed9c=_0x53e3b0,_0xddf958=currentDisplayedQuiz[_0x28ed9c(0x6d9)]?.[_0x28ed9c(0x993)]??-0x1,_0x4535bc=currentDisplayedQuiz[_0x28ed9c(0x514)]===!![];let _0x4c3e3f='',_0x5dabb3=![];if(_0x4535bc||_0xddf958!==-0x1){_0x5dabb3=_0x4535bc?_0x18db62===_0x11a34d:_0x18db62>=_0xddf958;const _0xbc316c=_0x5dabb3?'bg-green-100\x20text-green-800':_0x28ed9c(0x2c4),_0x3542d3=_0x5dabb3?_0x28ed9c(0x53f):_0x28ed9c(0x5f9);_0x4c3e3f=_0x28ed9c(0x23f)+_0xbc316c+'\x22>'+_0x3542d3+_0x28ed9c(0x616);}else _0x4c3e3f=_0x28ed9c(0x318);let _0x1068bb=_0x28ed9c(0x664)+currentStudentName+_0x28ed9c(0x360)+_0x4c3e3f+_0x28ed9c(0x176);studentResultArea[_0x28ed9c(0x735)]=_0x1068bb,studentResultArea[_0x28ed9c(0x97f)][_0x28ed9c(0x8b7)](_0x28ed9c(0x4ba)),studentQuizArea[_0x28ed9c(0x97f)][_0x28ed9c(0x218)](_0x28ed9c(0x4ba)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5dabb3});}function cancelAdminTest(){const _0x175e8d=_0x53e3b0;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x175e8d(0x54f),handleFullscreenChange),document[_0x175e8d(0x8a2)]('visibilitychange',handleVisibilityChange),currentMode=_0x175e8d(0x4c1),studentView[_0x175e8d(0x97f)][_0x175e8d(0x218)](_0x175e8d(0x4ba)),adminView[_0x175e8d(0x97f)][_0x175e8d(0x8b7)](_0x175e8d(0x4ba)),showView(_0x175e8d(0x497));}function setupResultScreenBackButton(_0x46c79b){const _0x3586a0=_0x53e3b0,_0x444c72={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x46c79b};if(_0x444c72['isLooping']){const _0x1265a7=_0x3586a0(0x1f9);studentResultArea['insertAdjacentHTML'](_0x3586a0(0x52e),_0x1265a7),document[_0x3586a0(0x2f6)](_0x3586a0(0x3e0))['addEventListener'](_0x3586a0(0x911),()=>{const _0x5423f9=_0x3586a0;studentResultArea[_0x5423f9(0x97f)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0xb9b497='back-from-results-btn',_0x44c641=currentMode===_0x3586a0(0x171),_0x4e5607=_0x44c641?_0x3586a0(0x2fd):_0x3586a0(0x234);let _0x44c461='';_0x444c72[_0x3586a0(0x987)]&&(_0x44c461+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x4d35e4=_0x444c72[_0x3586a0(0x8ad)];_0x4d35e4===undefined&&(_0x4d35e4=_0x444c72['score']<_0x444c72[_0x3586a0(0x3a6)]);_0x4d35e4&&(_0x44c461+=_0x3586a0(0x601));_0x44c461+=_0x3586a0(0x5a4)+_0xb9b497+_0x3586a0(0x9f2)+_0x4e5607+_0x3586a0(0x11c);const _0x376adf='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x44c461+'</div>';studentResultArea[_0x3586a0(0x288)](_0x3586a0(0x52e),_0x376adf),studentResultArea['querySelector'](_0x3586a0(0x647))?.[_0x3586a0(0x7a9)](_0x3586a0(0x911),handleShowStudentRankings);const _0x12faf6=studentResultArea[_0x3586a0(0x70d)](_0x3586a0(0x2bb));_0x12faf6&&_0x12faf6[_0x3586a0(0x7a9)](_0x3586a0(0x911),()=>{const _0x1635c6=_0x3586a0;studentResultArea[_0x1635c6(0x97f)][_0x1635c6(0x218)](_0x1635c6(0x4ba)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3586a0(0x2f6)](_0xb9b497)[_0x3586a0(0x7a9)](_0x3586a0(0x911),()=>{const _0xfa230c=_0x3586a0;_0x44c641?(currentMode='admin',studentView[_0xfa230c(0x97f)]['add']('hidden'),adminView['classList']['remove'](_0xfa230c(0x4ba)),showView(_0xfa230c(0x497))):(showView(_0xfa230c(0x14d)),document[_0xfa230c(0x2f6)](_0xfa230c(0x9eb))[_0xfa230c(0x6b0)]='');});}function displayResultsWithAnswers(_0x195dee,_0xdfaa00,_0x32c1ec,_0x41150a,_0x13b98b,_0x16c6d0=![]){const _0x22ba29=_0x53e3b0,_0x4bf6ad=_0x13b98b>0x0?_0x195dee/_0x13b98b*0x64:0x0,_0x2d00d1=currentDisplayedQuiz[_0x22ba29(0x6d9)]?.['passingScore']??-0x1,_0x27a144=currentDisplayedQuiz[_0x22ba29(0x514)]===!![];let _0x6dddfb='';if(_0x27a144||_0x2d00d1!==-0x1){let _0xe34f75=_0x27a144?_0x195dee===_0x13b98b:_0x195dee>=_0x2d00d1;const _0x1c8964=_0xe34f75?_0x22ba29(0x340):_0x22ba29(0x2c4),_0x3e95d0=_0xe34f75?'ผ่าน':_0x22ba29(0x5f9);_0x6dddfb=_0x22ba29(0x3af)+_0x1c8964+'\x22>'+_0x3e95d0+_0x22ba29(0x853);}let _0x3cb6b6=_0x22ba29(0x765)+currentStudentName+_0x22ba29(0x316)+_0x195dee+_0x22ba29(0x151)+_0x13b98b+_0x22ba29(0x891)+_0x6dddfb+_0x22ba29(0x223)+_0xdfaa00+_0x22ba29(0x2db)+_0x4bf6ad[_0x22ba29(0x830)](0x0)+_0x22ba29(0x4ff);currentDisplayedQuiz['questions'][_0x22ba29(0x87f)]((_0x594346,_0x105c99)=>{const _0x4c5e32=_0x22ba29,_0x2b26c8=_0x41150a[_0x105c99],_0x49205d=_0x2b26c8[_0x4c5e32(0x58b)],_0x2b1140=_0x2b26c8[_0x4c5e32(0x294)],_0x569bb2=_0x594346[_0x4c5e32(0x281)]||currentDisplayedQuiz['quizType'];_0x3cb6b6+=_0x4c5e32(0x8fe)+(_0x2b1140?'border-green-300\x20bg-green-50':_0x4c5e32(0x123))+_0x4c5e32(0x89d)+(_0x105c99+0x1)+'.\x20'+(_0x594346[_0x4c5e32(0x4ae)]||_0x594346['questionText'])+_0x4c5e32(0x510);switch(_0x569bb2){case _0x4c5e32(0x8f9):const _0xdbe1f8=_0x49205d||_0x4c5e32(0x38d),_0x340de9=_0x594346[_0x4c5e32(0x209)];_0x3cb6b6+=_0x4c5e32(0x1e7)+(!_0x2b1140?'line-through\x20text-red-700':'')+'\x22>'+_0xdbe1f8+'</span></p>';!_0x2b1140&&(_0x3cb6b6+=_0x4c5e32(0x87d)+_0x340de9+_0x4c5e32(0x853));break;case _0x4c5e32(0x331):_0x3cb6b6+=_0x4c5e32(0x84e)+(_0x49205d||'ไม่ได้ตอบ')+'</p>',_0x3cb6b6+=_0x4c5e32(0x5b9)+_0x594346[_0x4c5e32(0x4b4)]+'</p>';break;case _0x4c5e32(0x529):_0x3cb6b6+=_0x4c5e32(0x33d)+(_0x594346[_0x4c5e32(0x9fe)]===!![]?_0x4c5e32(0x695):'')+'\x20'+(_0x49205d===_0x4c5e32(0x3e6)&&!_0x2b1140?'line-through\x20text-red-700':'')+_0x4c5e32(0x832),_0x3cb6b6+=_0x4c5e32(0x33d)+(_0x594346['correctAnswer']===![]?_0x4c5e32(0x695):'')+'\x20'+(_0x49205d===_0x4c5e32(0x476)&&!_0x2b1140?_0x4c5e32(0x93b):'')+'\x22>ไม่ใช่</p>';break;default:_0x3cb6b6+=_0x594346['options'][_0x4c5e32(0x6e9)]((_0xf1425f,_0x31e27b)=>{const _0x10ce9b=_0x4c5e32;let _0x43b92a='',_0x43441c='';if(_0x31e27b===_0x594346[_0x10ce9b(0x94a)])_0x43b92a='font-bold\x20text-green-700',_0x43441c=_0x10ce9b(0xa52);else _0x31e27b===_0x49205d&&(_0x43b92a=_0x10ce9b(0x207),_0x43441c=_0x10ce9b(0x810));return _0x10ce9b(0x9d3)+_0x43b92a+'\x22>'+_0x43441c+_0xf1425f+'</div>';})[_0x4c5e32(0x728)]('');break;}_0x3cb6b6+=_0x4c5e32(0x861)+(_0x594346[_0x4c5e32(0x1ba)]||_0x4c5e32(0x3ac))+_0x4c5e32(0x245);if(!_0x2b1140){const _0x533c03=_0x594346[_0x4c5e32(0x4ae)]||_0x594346[_0x4c5e32(0x8bc)];_0x3cb6b6+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x533c03)+_0x4c5e32(0x7a8);}_0x3cb6b6+=_0x4c5e32(0x245);}),studentResultArea[_0x22ba29(0x735)]=_0x3cb6b6,renderEarnedBadges(_0x32c1ec,_0x22ba29(0x568)),studentResultArea[_0x22ba29(0x97f)][_0x22ba29(0x8b7)](_0x22ba29(0x4ba)),studentQuizArea[_0x22ba29(0x97f)]['add'](_0x22ba29(0x4ba)),setupResultScreenBackButton({'isLooping':_0x16c6d0,'score':_0x195dee,'totalQuestions':_0x13b98b,'showRankings':!![]});if(window[_0x22ba29(0x4b0)])window[_0x22ba29(0x4b0)][_0x22ba29(0x1d1)]([studentResultArea]);}function displayResultsScoreOnly(_0x48ccae,_0x141ab3,_0x1ddf62,_0x35904d){const _0x535eb3=_0x53e3b0,_0x29b773=_0x35904d>0x0?_0x48ccae/_0x35904d*0x64:0x0,_0x42332d=currentDisplayedQuiz[_0x535eb3(0x6d9)]?.[_0x535eb3(0x993)]??-0x1,_0x16069e=currentDisplayedQuiz['isRemedial']===!![];let _0x27ab0f='';if(_0x16069e||_0x42332d!==-0x1){let _0x392e80=_0x16069e?_0x48ccae===_0x35904d:_0x48ccae>=_0x42332d;const _0x2c2717=_0x392e80?_0x535eb3(0x340):_0x535eb3(0x2c4),_0x186902=_0x392e80?'ผ่าน':_0x535eb3(0x5f9);_0x27ab0f=_0x535eb3(0x3af)+_0x2c2717+'\x22>'+_0x186902+_0x535eb3(0x853);}let _0xca84ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x535eb3(0x2da)+_0x48ccae+_0x535eb3(0x31c)+_0x35904d+_0x535eb3(0x891)+_0x27ab0f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x141ab3+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x29b773['toFixed'](0x0)+_0x535eb3(0x736);studentResultArea['innerHTML']=_0xca84ea,renderEarnedBadges(_0x1ddf62,_0x535eb3(0x568)),studentResultArea[_0x535eb3(0x97f)][_0x535eb3(0x8b7)](_0x535eb3(0x4ba)),studentQuizArea[_0x535eb3(0x97f)]['add'](_0x535eb3(0x4ba)),setupResultScreenBackButton({'score':_0x48ccae,'totalQuestions':_0x35904d,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x4f46f5=_0x53e3b0;let _0xd029f7=_0x4f46f5(0x397)+currentStudentName+_0x4f46f5(0xa22);studentResultArea[_0x4f46f5(0x735)]=_0xd029f7,studentResultArea[_0x4f46f5(0x97f)][_0x4f46f5(0x8b7)](_0x4f46f5(0x4ba)),studentQuizArea[_0x4f46f5(0x97f)][_0x4f46f5(0x218)](_0x4f46f5(0x4ba)),document['getElementById']('back-to-home-manual-release')['addEventListener'](_0x4f46f5(0x911),()=>{const _0x427db1=_0x4f46f5;showView('student'),document['getElementById'](_0x427db1(0x9eb))[_0x427db1(0x6b0)]='';});}function renderEarnedBadges(_0x140a54,_0xbbbdee){const _0x4a7e77=_0x53e3b0,_0x350e48=document['getElementById'](_0xbbbdee);if(!_0x350e48||!_0x140a54||_0x140a54[_0x4a7e77(0x4f1)]===0x0)return;let _0x397870='';_0x140a54[_0x4a7e77(0x87f)]((_0x168cfc,_0x11c633)=>{const _0x136f3d=_0x4a7e77,_0x5e4e89=Object['values'](BADGES)[_0x136f3d(0x8dc)](_0xa174fd=>_0xa174fd['id']===_0x168cfc);_0x5e4e89&&(_0x397870+=_0x136f3d(0x67b)+_0x11c633*0.2+_0x136f3d(0x9c7)+_0x5e4e89[_0x136f3d(0x479)]+_0x136f3d(0x7a6)+_0x5e4e89[_0x136f3d(0x89f)]+_0x136f3d(0x1ec)+_0x5e4e89[_0x136f3d(0x682)]+_0x136f3d(0x9f6));}),_0x350e48[_0x4a7e77(0x735)]=_0x397870;}function startPresentation(_0x1181f7){const _0x403862=_0x53e3b0;currentQuizData=getShuffledQuiz(_0x1181f7),currentPresentationSlide=0x0,presentationModal[_0x403862(0x7c1)][_0x403862(0x72f)]=_0x403862(0x4da),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x25dcf7=_0x53e3b0;document[_0x25dcf7(0x9ef)]&&document[_0x25dcf7(0x1ee)](),presentationModal['style'][_0x25dcf7(0x72f)]=_0x25dcf7(0x929);}function renderPresentationSlide(_0x276cb8){const _0x2df648=_0x53e3b0,_0x3c1bd9=document[_0x2df648(0x2f6)](_0x2df648(0x1e6));if(!currentQuizData||!currentQuizData[_0x2df648(0x7d4)]||!currentQuizData[_0x2df648(0x7d4)][_0x276cb8]){_0x3c1bd9[_0x2df648(0x735)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x53aeae=currentQuizData[_0x2df648(0x7d4)][_0x276cb8],_0x3919ba=_0x53aeae[_0x2df648(0x281)]||currentQuizData[_0x2df648(0x509)];_0x3c1bd9[_0x2df648(0x735)]='';let _0x20fc2b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x53aeae[_0x2df648(0x170)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x53aeae[_0x2df648(0x170)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x276cb8+0x1)+'.\x20'+(_0x53aeae[_0x2df648(0x4ae)]||_0x53aeae[_0x2df648(0x8bc)])+_0x2df648(0x1b7);switch(_0x3919ba){case _0x2df648(0x8f9):_0x20fc2b+=_0x53aeae[_0x2df648(0x15f)][_0x2df648(0x6e9)](_0xdb3094=>_0x2df648(0x491)+_0xdb3094+_0x2df648(0x6de))[_0x2df648(0x728)]('');break;case'true_false':_0x20fc2b+=_0x2df648(0x744),_0x20fc2b+=_0x2df648(0x336);break;case'fill_in_no_choices':case _0x2df648(0x331):_0x20fc2b+=_0x2df648(0x42e);break;case _0x2df648(0x468):case _0x2df648(0x7f3):default:_0x20fc2b+=_0x53aeae[_0x2df648(0x9b6)][_0x2df648(0x6e9)]((_0x42cfc4,_0x29e37a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x29e37a+_0x2df648(0x563)+_0x42cfc4+_0x2df648(0x6de))[_0x2df648(0x728)]('');break;}_0x20fc2b+=_0x2df648(0x5c7)+(_0x53aeae[_0x2df648(0x1ba)]||_0x2df648(0x3ac))+_0x2df648(0x62d),_0x3c1bd9[_0x2df648(0x735)]=_0x20fc2b;if(window[_0x2df648(0x4b0)])window[_0x2df648(0x4b0)]['typesetPromise']([_0x3c1bd9]);let _0x2cb539=[];switch(_0x3919ba){case _0x2df648(0x8f9):_0x2cb539=_0x53aeae[_0x2df648(0x15f)]||[];break;case _0x2df648(0x529):_0x2cb539=[_0x2df648(0x117),_0x2df648(0x422)];break;default:_0x2cb539=_0x53aeae[_0x2df648(0x9b6)]||[];break;}const _0x3e0638=document['getElementById'](_0x2df648(0x12b));_0x3e0638&&(_0x3e0638[_0x2df648(0x252)]=()=>{openScratchpad(_0x53aeae,_0x2cb539);});document[_0x2df648(0xa09)](_0x2df648(0x28f))[_0x2df648(0x87f)](_0x428003=>{const _0x5eb6fa=_0x2df648;_0x428003[_0x5eb6fa(0x7a9)](_0x5eb6fa(0x911),_0xd2dd5f=>revealAnswerForPresentation(_0x276cb8,_0xd2dd5f[_0x5eb6fa(0x439)]));});const _0x1c2bf4=document[_0x2df648(0x2f6)]('check-presentation-answer-btn');_0x1c2bf4&&_0x1c2bf4[_0x2df648(0x7a9)](_0x2df648(0x911),()=>checkShortAnswerForPresentation(_0x276cb8)),document['getElementById'](_0x2df648(0x30b))[_0x2df648(0x8c8)]='ข้อที่\x20'+(_0x276cb8+0x1)+_0x2df648(0x914)+currentQuizData[_0x2df648(0x7d4)]['length'],document[_0x2df648(0x2f6)](_0x2df648(0x517))[_0x2df648(0x6bc)]=_0x276cb8===0x0,document['getElementById'](_0x2df648(0xa5f))['disabled']=_0x276cb8===currentQuizData['questions'][_0x2df648(0x4f1)]-0x1;}async function checkShortAnswerForPresentation(_0x3ba2e7){const _0x35ba21=_0x53e3b0,_0xaf025a=currentQuizData[_0x35ba21(0x7d4)][_0x3ba2e7],_0x5a791d=document[_0x35ba21(0x2f6)](_0x35ba21(0xa38)),_0x5cf1c2=document['getElementById']('check-presentation-answer-btn'),_0x2536fe=document[_0x35ba21(0x2f6)](_0x35ba21(0x9a9)),_0x37d26b=document[_0x35ba21(0x2f6)]('presentation-explanation');if(!_0x5a791d||!_0x5cf1c2||!_0x2536fe||!_0x37d26b)return;const _0x59450e=_0x5a791d[_0x35ba21(0x6b0)][_0x35ba21(0x48c)]();if(_0x59450e==='')return;_0x5cf1c2[_0x35ba21(0x6bc)]=!![],_0x5cf1c2[_0x35ba21(0x735)]=_0x35ba21(0x857),_0x5a791d['disabled']=!![];const _0x4c4e70=await gradeShortAnswer(_0x59450e,_0xaf025a);_0x4c4e70?_0x2536fe[_0x35ba21(0x735)]=_0x35ba21(0xa73):_0x2536fe[_0x35ba21(0x735)]=_0x35ba21(0x389)+_0xaf025a[_0x35ba21(0x4b4)]+')',_0x2536fe[_0x35ba21(0x97f)][_0x35ba21(0x8b7)]('hidden'),_0x37d26b[_0x35ba21(0x97f)][_0x35ba21(0x8b7)](_0x35ba21(0x4ba)),_0x5cf1c2[_0x35ba21(0x97f)][_0x35ba21(0x218)](_0x35ba21(0x4ba));}function revealAnswerForPresentation(_0x191d40,_0x85f33f){const _0x51d1eb=_0x53e3b0,_0x1a69ed=currentQuizData['questions'][_0x191d40],_0x178102=_0x1a69ed[_0x51d1eb(0x281)]||currentQuizData[_0x51d1eb(0x509)];document[_0x51d1eb(0xa09)](_0x51d1eb(0x28f))[_0x51d1eb(0x87f)](_0x213690=>{const _0x30255b=_0x51d1eb;_0x213690[_0x30255b(0x6bc)]=!![],_0x213690[_0x30255b(0x97f)][_0x30255b(0x8b7)]('hover:bg-indigo-100');let _0x5c19f7=![];if(_0x178102==='multiple_choice'||_0x178102===_0x30255b(0x468)){const _0x5d60fb=parseInt(_0x213690[_0x30255b(0x7c7)][_0x30255b(0x492)]);_0x5c19f7=_0x5d60fb===_0x1a69ed[_0x30255b(0x94a)];}else{if(_0x178102===_0x30255b(0x529)){const _0x42fbee=_0x213690['dataset']['answer']===_0x30255b(0x3e6);_0x5c19f7=_0x42fbee===_0x1a69ed[_0x30255b(0x9fe)];}else _0x178102===_0x30255b(0x8f9)&&(_0x5c19f7=_0x213690[_0x30255b(0x8c8)][_0x30255b(0x48c)]()===_0x1a69ed[_0x30255b(0x209)]);}_0x5c19f7?_0x213690[_0x30255b(0x97f)][_0x30255b(0x218)](_0x30255b(0x61b),'text-white','border-green-700'):_0x213690[_0x30255b(0x97f)][_0x30255b(0x218)](_0x30255b(0x9cb));}),_0x85f33f[_0x51d1eb(0x97f)][_0x51d1eb(0x8b7)]('opacity-50');let _0xc58286=![];if(_0x178102===_0x51d1eb(0x7f3))_0xc58286=parseInt(_0x85f33f['dataset'][_0x51d1eb(0x492)])===_0x1a69ed[_0x51d1eb(0x94a)];else{if(_0x178102==='true_false')_0xc58286=_0x85f33f[_0x51d1eb(0x7c7)][_0x51d1eb(0x58b)]===_0x51d1eb(0x3e6)===_0x1a69ed[_0x51d1eb(0x9fe)];else _0x178102==='matching_item'&&(_0xc58286=_0x85f33f[_0x51d1eb(0x8c8)][_0x51d1eb(0x48c)]()===_0x1a69ed['correctResponse']);}!_0xc58286&&_0x85f33f['classList'][_0x51d1eb(0x218)](_0x51d1eb(0x7df),_0x51d1eb(0x777),_0x51d1eb(0x2d9)),document[_0x51d1eb(0x2f6)]('presentation-explanation')[_0x51d1eb(0x97f)]['remove'](_0x51d1eb(0x4ba));}function startWholeQuizTimer(_0x3afbf6){const _0x4dd619=_0x53e3b0,_0x9622d2=document[_0x4dd619(0x2f6)](_0x4dd619(0x8a6));if(!_0x9622d2)return;const _0x9e1346=Date[_0x4dd619(0x988)]()+_0x3afbf6*0x3c*0x3e8;_0x9622d2[_0x4dd619(0x735)]=_0x4dd619(0x947);const _0xadf22=document['getElementById'](_0x4dd619(0x8f2));quizTimerInterval=setInterval(()=>{const _0x22c427=_0x4dd619,_0x3dc32f=_0x9e1346-Date[_0x22c427(0x988)]();if(_0x3dc32f<=0x0)clearInterval(quizTimerInterval),_0xadf22[_0x22c427(0x8c8)]=_0x22c427(0x3ca),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x209878=Math[_0x22c427(0x671)](_0x3dc32f/0x3e8/0x3c%0x3c)[_0x22c427(0x2d8)]()[_0x22c427(0x2cc)](0x2,'0'),_0xb1e283=Math[_0x22c427(0x671)](_0x3dc32f/0x3e8%0x3c)[_0x22c427(0x2d8)]()[_0x22c427(0x2cc)](0x2,'0');_0xadf22[_0x22c427(0x8c8)]=_0x209878+':'+_0xb1e283;}},0x3e8);}function renderPerQuestionView(){const _0x3332fe=_0x53e3b0;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x315ce5=currentDisplayedQuiz[_0x3332fe(0x7d4)][currentQuestionIndex],_0x28f667=_0x315ce5[_0x3332fe(0x281)]||currentDisplayedQuiz[_0x3332fe(0x509)],_0xf82d17=currentDisplayedQuiz[_0x3332fe(0x6d9)]?.[_0x3332fe(0x33f)]===!![];let _0x10546b=_0x3332fe(0x531)+(currentQuestionIndex+0x1)+_0x3332fe(0x3e8)+currentDisplayedQuiz[_0x3332fe(0x7d4)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x3332fe(0x292):'')+_0x3332fe(0x5ca)+currentDisplayedQuiz[_0x3332fe(0x6a6)]+_0x3332fe(0xa1e);studentQuizArea[_0x3332fe(0x735)]=_0x10546b;let _0x2e1709=_0x315ce5[_0x3332fe(0x4ae)]||_0x315ce5[_0x3332fe(0x8bc)];_0x315ce5['imageCode']&&(_0x2e1709+=_0x3332fe(0x7f1)+_0x315ce5['imageCode']+_0x3332fe(0x245));let _0x24216a='';switch(_0x28f667){case _0x3332fe(0x331):case _0x3332fe(0x776):_0x24216a=_0x3332fe(0x900);break;case _0x3332fe(0x529):_0x24216a='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x3332fe(0x8f9):_0x24216a=_0x3332fe(0x26a)+(_0x315ce5['allResponses']||[])['map'](_0x500fac=>_0x3332fe(0x313)+_0x500fac+'\x22>'+_0x500fac+_0x3332fe(0x6d7))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x315ce5['options']&&(_0x24216a=_0x315ce5[_0x3332fe(0x9b6)]['map']((_0x59a250,_0x1ba509)=>_0x3332fe(0x2a6)+_0x1ba509+_0x3332fe(0x74a)+_0x1ba509+_0x3332fe(0x203)+_0x1ba509+'\x22>'+_0x59a250+_0x3332fe(0x136))[_0x3332fe(0x728)](''));break;}document[_0x3332fe(0x2f6)](_0x3332fe(0x7a2))['innerHTML']=_0x2e1709,document[_0x3332fe(0x2f6)](_0x3332fe(0x3cd))[_0x3332fe(0x735)]=_0x24216a;const _0x5776bc=currentDisplayedQuiz['settings']?.[_0x3332fe(0x33f)]===!![],_0x2aecd0=currentDisplayedQuiz[_0x3332fe(0x6d9)]?.[_0x3332fe(0x6fb)]||_0x3332fe(0x70f);if(_0x5776bc&&_0x2aecd0===_0x3332fe(0x70f)){const _0x349b56='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x3332fe(0x70d)](_0x3332fe(0x7dc))[_0x3332fe(0x288)](_0x3332fe(0x52e),_0x349b56);}studentQuizArea['insertAdjacentHTML'](_0x3332fe(0x52e),_0x3332fe(0x9e5)+(currentQuestionIndex===currentDisplayedQuiz[_0x3332fe(0x7d4)][_0x3332fe(0x4f1)]-0x1?_0x3332fe(0x4dc):_0x3332fe(0x9ae))+_0x3332fe(0x611));currentMode===_0x3332fe(0x171)&&document[_0x3332fe(0x2f6)](_0x3332fe(0x1a8))?.['addEventListener']('click',cancelAdminTest);document[_0x3332fe(0x2f6)](_0x3332fe(0x161))['addEventListener']('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x3332fe(0x4b0)])window['MathJax'][_0x3332fe(0x1d1)]([studentQuizArea]);currentDisplayedQuiz[_0x3332fe(0x6d9)]?.[_0x3332fe(0x9b5)]===_0x3332fe(0x3d5)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x11acfc=_0x53e3b0,_0x3da973=currentDisplayedQuiz[_0x11acfc(0x6d9)][_0x11acfc(0x51d)],_0x494d5b=document[_0x11acfc(0x2f6)](_0x11acfc(0x2f1));if(!_0x494d5b)return;let _0x3c9a24=_0x3da973;_0x494d5b[_0x11acfc(0x735)]=_0x11acfc(0x9a3)+_0x3c9a24+_0x11acfc(0x3a2);const _0x47e49c=document['getElementById']('timer-bar'),_0x2abbec=document[_0x11acfc(0x2f6)](_0x11acfc(0x63a));perQuestionTimerInterval=setInterval(()=>{const _0x2998ab=_0x11acfc;_0x3c9a24--;const _0x5ac866=_0x3c9a24/_0x3da973*0x64;_0x47e49c[_0x2998ab(0x7c1)][_0x2998ab(0x652)]=_0x5ac866+'%',_0x2abbec[_0x2998ab(0x8c8)]=_0x3c9a24,_0x3c9a24<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x2998ab(0x972)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x4cd8ab=![]){const _0xdc0a6b=_0x53e3b0;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x34a5a6=null,_0x57f063=![];if(!_0x4cd8ab){const _0x40d5c9=currentDisplayedQuiz[_0xdc0a6b(0x7d4)][currentQuestionIndex],_0x54ad51=_0x40d5c9[_0xdc0a6b(0x281)]||currentDisplayedQuiz[_0xdc0a6b(0x509)];if(_0x54ad51===_0xdc0a6b(0x331)||_0x54ad51==='fill_in_no_choices')_0x34a5a6=document['querySelector'](_0xdc0a6b(0x17c))?.[_0xdc0a6b(0x6b0)][_0xdc0a6b(0x48c)]()??'';else{if(_0x54ad51===_0xdc0a6b(0x8f9))_0x34a5a6=document[_0xdc0a6b(0x70d)](_0xdc0a6b(0x14c))?.[_0xdc0a6b(0x6b0)]??'';else{const _0x570e3a=document[_0xdc0a6b(0x70d)](_0xdc0a6b(0x745));_0x570e3a&&(_0x34a5a6=_0x570e3a[_0xdc0a6b(0x6b0)]);}}if(_0x34a5a6===null||_0x34a5a6===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x698ef9=currentDisplayedQuiz[_0xdc0a6b(0x6d9)]?.[_0xdc0a6b(0x33f)]===!![],_0x219c59=currentDisplayedQuiz[_0xdc0a6b(0x6d9)]?.[_0xdc0a6b(0x6fb)]||_0xdc0a6b(0x70f);if(_0x698ef9&&_0x219c59===_0xdc0a6b(0x359)){document[_0xdc0a6b(0x2f6)](_0xdc0a6b(0x533))[_0xdc0a6b(0x7c7)][_0xdc0a6b(0x5f7)]=_0xdc0a6b(0x3bd),document[_0xdc0a6b(0x2f6)]('selected-answer-index-hidden')[_0xdc0a6b(0x6b0)]=_0x34a5a6,document[_0xdc0a6b(0x2f6)](_0xdc0a6b(0x533))[_0xdc0a6b(0x97f)][_0xdc0a6b(0x8b7)](_0xdc0a6b(0x4ba));return;}const _0x5df228=document[_0xdc0a6b(0x2f6)](_0xdc0a6b(0x852));_0x5df228&&(_0x57f063=_0x5df228[_0xdc0a6b(0x3a8)]);}const _0x2d54c8={'answer':_0x34a5a6,'wasConfident':_0x57f063};proceedToNextQuestion(_0x2d54c8);}async function finalizePerQuestionQuiz(){const _0x30d6f7=_0x53e3b0,_0x484cb7=currentDisplayedQuiz[_0x30d6f7(0x7d4)]['some'](_0x328910=>_0x328910[_0x30d6f7(0x281)]==='short_answer');_0x484cb7?showMessage(_0x30d6f7(0x4f0)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x3652e3=currentQuizData['id'],_0x3f4a7a=doc(db,'artifacts/'+appId+_0x30d6f7(0x150)+_0x3652e3+_0x30d6f7(0x80f),currentStudentName),_0x419e8f=await getDoc(_0x3f4a7a),_0x2683a7=_0x419e8f[_0x30d6f7(0x4bc)]()?_0x419e8f[_0x30d6f7(0x1b4)]():{},_0x3ec6ac=_0x2683a7[_0x30d6f7(0x371)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x3ec6ac);}function getResultsFilename(){const _0x4341c3=_0x53e3b0,_0x5a32b3=document[_0x4341c3(0x2f6)](_0x4341c3(0x21e))[_0x4341c3(0x8c8)][_0x4341c3(0x15c)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x4341c3(0x923)+(_0x5a32b3||'quiz');}function exportResultsAsImage(){const _0x45e5a0=_0x53e3b0,_0x4d3c7e=document[_0x45e5a0(0x2f6)]('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x4d3c7e)[_0x45e5a0(0x82f)](_0x4ef563=>{const _0x261246=_0x45e5a0,_0x3d4b35=document['createElement']('a');_0x3d4b35[_0x261246(0x2f4)]=getResultsFilename()+_0x261246(0x910),_0x3d4b35[_0x261246(0x82b)]=_0x4ef563[_0x261246(0x474)](_0x261246(0x764)),_0x3d4b35[_0x261246(0x911)](),messageModal['classList'][_0x261246(0x218)](_0x261246(0x4ba));});}function exportResultsAsPDF(){const _0x37e7de=_0x53e3b0,{jsPDF:_0xf336e5}=window[_0x37e7de(0x12e)],_0x5c82df=new _0xf336e5();_0x5c82df[_0x37e7de(0x5c1)](_0x37e7de(0x829),_0x37e7de(0x23e)),_0x5c82df[_0x37e7de(0x162)]({'html':_0x37e7de(0x144)}),_0x5c82df[_0x37e7de(0x31d)](getResultsFilename()+_0x37e7de(0x368));}function exportResultsAsWord(){const _0x45df97=_0x53e3b0,_0xe742a8=_0x45df97(0x373)+_0x45df97(0x544)+_0x45df97(0x641)+_0x45df97(0x8b3),_0x5d34e1='</body></html>',_0x19b69a=_0xe742a8+document[_0x45df97(0x2f6)](_0x45df97(0x808))[_0x45df97(0x735)]+_0x5d34e1,_0x34706f='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x19b69a),_0x546811=document[_0x45df97(0x59b)]('a');document[_0x45df97(0x20e)][_0x45df97(0x310)](_0x546811),_0x546811[_0x45df97(0x82b)]=_0x34706f,_0x546811[_0x45df97(0x2f4)]=getResultsFilename()+'.doc',_0x546811['click'](),document['body'][_0x45df97(0x1f5)](_0x546811);}function exportResultsAsExcel(){const _0x4472d6=_0x53e3b0,_0x173832=document['getElementById'](_0x4472d6(0x823));let _0x541e23=[];for(let _0x388866=0x0;_0x388866<_0x173832['rows']['length'];_0x388866++){let _0x3afe30=[],_0x3749db=_0x173832[_0x4472d6(0x358)][_0x388866][_0x4472d6(0xa09)](_0x4472d6(0x67f));for(let _0x41d4c3=0x0;_0x41d4c3<_0x3749db['length'];_0x41d4c3++){_0x3afe30['push']('\x22'+_0x3749db[_0x41d4c3][_0x4472d6(0x930)][_0x4472d6(0x15c)](/"/g,'\x22\x22')+'\x22');}_0x541e23[_0x4472d6(0x8c3)](_0x3afe30[_0x4472d6(0x728)](','));}const _0x15c3b9=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x541e23[_0x4472d6(0x728)]('\x0a')],{'type':_0x4472d6(0xa08)}),_0xe56ec6=document[_0x4472d6(0x59b)]('a');_0xe56ec6[_0x4472d6(0x82b)]=URL[_0x4472d6(0x7b9)](_0x15c3b9),_0xe56ec6[_0x4472d6(0x2f4)]=getResultsFilename()+_0x4472d6(0x885),_0xe56ec6[_0x4472d6(0x911)]();}function exportTableAsImage(_0x1ddc79,_0x58902a){const _0x145b71=_0x53e3b0,_0x2b0ba5=document[_0x145b71(0x2f6)](_0x1ddc79);if(!_0x2b0ba5){showMessage(_0x145b71(0x3e1));return;}showMessage(_0x145b71(0xa67)),html2canvas(_0x2b0ba5)[_0x145b71(0x82f)](_0x16121b=>{const _0x6d7227=_0x145b71,_0x91fcd=document[_0x6d7227(0x59b)]('a');_0x91fcd[_0x6d7227(0x2f4)]=_0x58902a+'.png',_0x91fcd[_0x6d7227(0x82b)]=_0x16121b['toDataURL'](_0x6d7227(0x764)),_0x91fcd[_0x6d7227(0x911)](),messageModal[_0x6d7227(0x97f)][_0x6d7227(0x218)](_0x6d7227(0x4ba));});}function exportTableAsPDF(_0x4173e6,_0x51bc2a){const _0x1e16b3=_0x53e3b0,{jsPDF:_0x3e1309}=window['jspdf'],_0x28e421=new _0x3e1309();_0x28e421['setFont']('helvetica','normal'),_0x28e421[_0x1e16b3(0x162)]({'html':'#'+_0x4173e6}),_0x28e421[_0x1e16b3(0x31d)](_0x51bc2a+_0x1e16b3(0x368));}function exportTableAsWord(_0x55d953,_0x3b98df){const _0xea4796=_0x53e3b0,_0x511792=document['getElementById'](_0x55d953);if(!_0x511792){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x36c5d3=_0xea4796(0x373)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0xea4796(0x641)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x58bc0f=_0xea4796(0x1bc),_0xf5989e=_0x36c5d3+_0x511792['innerHTML']+_0x58bc0f,_0x2b016d='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0xf5989e),_0x121126=document[_0xea4796(0x59b)]('a');document[_0xea4796(0x20e)][_0xea4796(0x310)](_0x121126),_0x121126[_0xea4796(0x82b)]=_0x2b016d,_0x121126['download']=_0x3b98df+_0xea4796(0x34b),_0x121126[_0xea4796(0x911)](),document['body'][_0xea4796(0x1f5)](_0x121126);}function exportTableAsExcel(_0x108500,_0x5b576f){const _0xdad069=_0x53e3b0,_0x2ab35d=document[_0xdad069(0x2f6)](_0x108500);if(!_0x2ab35d){showMessage(_0xdad069(0x3e1));return;}let _0x599d30=[];for(let _0x154e62=0x0;_0x154e62<_0x2ab35d[_0xdad069(0x358)][_0xdad069(0x4f1)];_0x154e62++){let _0x58f23c=[],_0x3bd1b3=_0x2ab35d['rows'][_0x154e62][_0xdad069(0xa09)](_0xdad069(0x67f));for(let _0x2e79a6=0x0;_0x2e79a6<_0x3bd1b3[_0xdad069(0x4f1)];_0x2e79a6++){_0x58f23c[_0xdad069(0x8c3)]('\x22'+_0x3bd1b3[_0x2e79a6][_0xdad069(0x930)][_0xdad069(0x15c)](/"/g,'\x22\x22')+'\x22');}_0x599d30[_0xdad069(0x8c3)](_0x58f23c[_0xdad069(0x728)](','));}const _0x226048=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x599d30[_0xdad069(0x728)]('\x0a')],{'type':_0xdad069(0xa08)}),_0x22e640=document[_0xdad069(0x59b)]('a');_0x22e640[_0xdad069(0x82b)]=URL['createObjectURL'](_0x226048),_0x22e640[_0xdad069(0x2f4)]=_0x5b576f+'.csv',_0x22e640[_0xdad069(0x911)]();}function renderAnalytics(_0x5bd4bd,_0x4df207){const _0x4ac33=_0x53e3b0,_0x480b8e=_0x4df207[_0x4ac33(0x845)](_0x5a568b=>_0x5a568b[_0x4ac33(0x12d)]!==undefined),_0x47101e=currentProjectData['students']['length'],_0x247fcb=_0x480b8e[_0x4ac33(0x4f1)],_0x484206=_0x47101e-_0x247fcb,_0x493109=_0x47101e>0x0?_0x247fcb/_0x47101e*0x64:0x0,_0x5f40d0=_0x480b8e[_0x4ac33(0x6e9)](_0x3754d8=>_0x3754d8[_0x4ac33(0x12d)]),_0x859f6d=_0x5f40d0[_0x4ac33(0x4f1)]>0x0?_0x5f40d0['reduce']((_0x319d00,_0x31e6ad)=>_0x319d00+_0x31e6ad,0x0)/_0x5f40d0[_0x4ac33(0x4f1)]:0x0,_0x936c78=_0x5bd4bd['questions'][_0x4ac33(0x4f1)],_0xe0af88=_0x936c78>0x0?_0x859f6d/_0x936c78*0x64:0x0,_0x291d74=calculateItemAnalysis(_0x5bd4bd,_0x480b8e),_0x49544e=calculateReliabilityKR20(_0x5bd4bd,_0x480b8e,_0x291d74['perQuestionStats']);let _0x52d247='';if(_0x49544e!==null){let _0x1a80ef='';if(_0x49544e>=0.9)_0x1a80ef=_0x4ac33(0x64e);else{if(_0x49544e>=0.8)_0x1a80ef='ดีมาก';else{if(_0x49544e>=0.7)_0x1a80ef='ดี';else{if(_0x49544e>=0.6)_0x1a80ef=_0x4ac33(0x599);else _0x1a80ef=_0x4ac33(0x811);}}}_0x52d247=_0x4ac33(0x75c)+_0x49544e[_0x4ac33(0x830)](0x2)+_0x4ac33(0x137)+_0x1a80ef+_0x4ac33(0x208);}const _0x174814=document['getElementById'](_0x4ac33(0x809));_0x174814[_0x4ac33(0x735)]=_0x4ac33(0x65f)+_0x493109[_0x4ac33(0x830)](0x0)+_0x4ac33(0x11d)+_0x247fcb+'/'+_0x47101e+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x859f6d[_0x4ac33(0x830)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0xe0af88[_0x4ac33(0x830)](0x0)+_0x4ac33(0x4f3)+(_0x5f40d0[_0x4ac33(0x4f1)]>0x0?Math[_0x4ac33(0x5c8)](..._0x5f40d0):'N/A')+_0x4ac33(0x2b0)+(_0x5f40d0[_0x4ac33(0x4f1)]>0x0?Math['min'](..._0x5f40d0):_0x4ac33(0x499))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52d247+_0x4ac33(0x146);const _0x14a4a8=document[_0x4ac33(0x2f6)](_0x4ac33(0x9b1));_0x14a4a8&&_0x14a4a8[_0x4ac33(0x8b7)]();const _0x2334e1=_0x4ac33(0x5e1);_0x174814[_0x4ac33(0x288)]('afterend',_0x2334e1);const _0x32d859=currentProjectData[_0x4ac33(0x3f3)]||[];renderSubmissionChart(_0x247fcb,_0x484206,_0x480b8e,_0x32d859),renderScoreDistributionChart(_0x480b8e,_0x936c78),renderQuestionAnalytics(_0x5bd4bd,_0x480b8e,_0x32d859),renderInterestingStats(_0x5bd4bd,_0x480b8e);}async function handleExportLessonPDF(){const _0x338d3e=_0x53e3b0,_0x2b1cf1=document[_0x338d3e(0x2f6)](_0x338d3e(0x9c0)),_0x6b9433=document[_0x338d3e(0x2f6)](_0x338d3e(0x189))[_0x338d3e(0x8c8)],_0x3568f2=window['open']('',_0x338d3e(0xa56)),_0x27422c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x6b9433+_0x338d3e(0x33a)+_0x2b1cf1[_0x338d3e(0x735)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3568f2[_0x338d3e(0x881)][_0x338d3e(0xa0d)](_0x27422c),_0x3568f2[_0x338d3e(0x881)][_0x338d3e(0x1f4)](),_0x3568f2['onload']=function(){setTimeout(()=>{const _0x38649c=_0x26e1;_0x3568f2[_0x38649c(0x164)]();},0x5dc);};}function renderInterestingStats(_0x272c4f,_0x461999){const _0x5c1148=_0x53e3b0,_0x3dc03a=document[_0x5c1148(0x2f6)](_0x5c1148(0x588));if(!_0x3dc03a)return;if(_0x461999[_0x5c1148(0x4f1)]===0x0){_0x3dc03a['innerHTML']=_0x5c1148(0x639);return;}const _0x5b1910=_0x272c4f[_0x5c1148(0x7d4)][_0x5c1148(0x6e9)]((_0x40d526,_0x1d82e9)=>({'index':_0x1d82e9+0x1,'text':_0x40d526[_0x5c1148(0x8bc)]||_0x40d526[_0x5c1148(0x4ae)],'correct':0x0}));_0x461999[_0x5c1148(0x87f)](_0x54ccd7=>{const _0x2dfc49=_0x5c1148,_0x49e1de=_0x54ccd7[_0x2dfc49(0x371)][_0x54ccd7['attempts'][_0x2dfc49(0x4f1)]-0x1];_0x49e1de&&_0x49e1de['answers']&&_0x49e1de[_0x2dfc49(0x1b0)]['forEach'](_0x5d81fb=>{const _0x5aa485=_0x2dfc49,_0x48b680=_0x5b1910[_0x5aa485(0x8dc)](_0x4d7470=>_0x4d7470[_0x5aa485(0x437)]===_0x5d81fb[_0x5aa485(0x869)]);_0x5d81fb[_0x5aa485(0x294)]&&_0x48b680&&_0x48b680[_0x5aa485(0x467)]++;});});const _0x54b459=_0x461999[_0x5c1148(0x4f1)],_0x3c1bf3=Math['max'](..._0x5b1910[_0x5c1148(0x6e9)](_0x55760d=>_0x55760d[_0x5c1148(0x467)])),_0xcc015e=Math[_0x5c1148(0x31e)](..._0x5b1910['map'](_0x248f31=>_0x248f31['correct'])),_0x32db58=_0x5b1910[_0x5c1148(0x845)](_0x595538=>_0x595538[_0x5c1148(0x467)]===_0x3c1bf3)['map'](_0x430194=>_0x5c1148(0x573)+_0x430194[_0x5c1148(0x492)]),_0x1de1b9=_0x5b1910['filter'](_0x2022cc=>_0x2022cc[_0x5c1148(0x467)]===_0xcc015e)[_0x5c1148(0x6e9)](_0x3bf026=>_0x5c1148(0x573)+_0x3bf026['index']),_0x2fbdea=_0x461999[_0x5c1148(0x933)]((_0x13272a,_0x236873)=>_0x236873[_0x5c1148(0x12d)]-_0x13272a[_0x5c1148(0x12d)])[_0x5c1148(0x845)]((_0x13d37f,_0x302a67,_0x5e4b65)=>_0x13d37f['latestScore']===_0x5e4b65[0x0][_0x5c1148(0x12d)]),_0x466c81=_0x461999['sort']((_0x3e77c5,_0x585d59)=>_0x3e77c5[_0x5c1148(0x12d)]-_0x585d59[_0x5c1148(0x12d)])[_0x5c1148(0x845)]((_0x354f38,_0x40906f,_0x594c89)=>_0x354f38[_0x5c1148(0x12d)]===_0x594c89[0x0][_0x5c1148(0x12d)]),_0x1e4fb8=_0x5c1148(0x39c)+_0x32db58[_0x5c1148(0x728)](',\x20')+_0x5c1148(0x9d5)+_0x3c1bf3+'\x20/\x20'+_0x54b459+_0x5c1148(0x575)+_0x1de1b9[_0x5c1148(0x728)](',\x20')+_0x5c1148(0x9d5)+(_0x54b459-_0xcc015e)+_0x5c1148(0x914)+_0x54b459+_0x5c1148(0x3db)+_0x2fbdea[_0x5c1148(0x6e9)](_0x3d2587=>_0x3d2587[_0x5c1148(0xa63)])[_0x5c1148(0x728)](',\x20')+_0x5c1148(0x73f)+_0x2fbdea[0x0][_0x5c1148(0x12d)]+_0x5c1148(0x500)+_0x466c81[_0x5c1148(0x6e9)](_0x16a61d=>_0x16a61d[_0x5c1148(0xa63)])['join'](',\x20')+_0x5c1148(0x73f)+_0x466c81[0x0]['latestScore']+_0x5c1148(0x16c);_0x3dc03a[_0x5c1148(0x735)]=_0x1e4fb8;}function renderSubmissionChart(_0x1ed0e6,_0x497abf,_0x3bdc5a,_0x17c6eb){const _0xfcd7a2=_0x53e3b0,_0x31fc06=document[_0xfcd7a2(0x2f6)](_0xfcd7a2(0x36c))[_0xfcd7a2(0x372)]('2d'),_0xe4b501=_0x3bdc5a[_0xfcd7a2(0x6e9)](_0x3acc55=>_0x3acc55['studentName']),_0x5d4127=_0x17c6eb[_0xfcd7a2(0x845)](_0xbbeb15=>!_0xe4b501[_0xfcd7a2(0x12a)](_0xbbeb15));chartInstances[_0xfcd7a2(0x6bd)]&&chartInstances[_0xfcd7a2(0x6bd)][_0xfcd7a2(0x4a3)](),chartInstances['submission']=new Chart(_0x31fc06,{'type':'doughnut','data':{'labels':['ส่งแล้ว',_0xfcd7a2(0x2f7)],'datasets':[{'data':[_0x1ed0e6,_0x497abf],'backgroundColor':[_0xfcd7a2(0x194),_0xfcd7a2(0x83c)],'borderColor':[_0xfcd7a2(0x7d3),_0xfcd7a2(0x7d3)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x4f5b22){const _0x563122=_0xfcd7a2;let _0x2067c8=_0x4f5b22[_0x563122(0x964)]||'';return _0x2067c8&&(_0x2067c8+=':\x20'),_0x2067c8+=_0x4f5b22[_0x563122(0x2ad)],_0x2067c8;},'afterLabel':function(_0x187454){const _0x30f8d5=_0xfcd7a2;let _0x5eece0;return _0x187454[_0x30f8d5(0x8ed)]===0x0?_0x5eece0=_0xe4b501:_0x5eece0=_0x5d4127,_0x5eece0['length']>0x0?_0x5eece0['join']('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x1feeb0,_0x527106){const _0xb5ba5f=_0x53e3b0,_0x4e2b5f=document[_0xb5ba5f(0x2f6)](_0xb5ba5f(0x8e1))['getContext']('2d'),_0xf101a={};for(let _0x3474c6=0x0;_0x3474c6<=_0x527106;_0x3474c6++){_0xf101a[_0x3474c6]=0x0;}_0x1feeb0['forEach'](_0x2d0aa9=>{const _0xf9eee7=_0xb5ba5f;_0xf101a[_0x2d0aa9[_0xf9eee7(0x12d)]]!==undefined&&_0xf101a[_0x2d0aa9['latestScore']]++;}),chartInstances[_0xb5ba5f(0x19e)]&&chartInstances[_0xb5ba5f(0x19e)][_0xb5ba5f(0x4a3)](),chartInstances['score']=new Chart(_0x4e2b5f,{'type':'bar','data':{'labels':Object['keys'](_0xf101a),'datasets':[{'label':_0xb5ba5f(0x894),'data':Object[_0xb5ba5f(0x74d)](_0xf101a),'backgroundColor':_0xb5ba5f(0x591),'borderColor':_0xb5ba5f(0xa18),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x59ccf8){const _0x525978=_0xb5ba5f,_0xddaf45=_0x59ccf8[_0x525978(0x964)],_0x54b15d=_0x1feeb0[_0x525978(0x845)](_0x26bcd5=>_0x26bcd5[_0x525978(0x12d)]==_0xddaf45)['map'](_0xec7247=>_0xec7247[_0x525978(0xa63)]);return _0x54b15d[_0x525978(0x4f1)]>0x0?_0x54b15d[_0x525978(0x728)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x45a639,_0x3f2f38,_0x58702b){const _0x50f763=_0x53e3b0,_0x108738=document[_0x50f763(0x2f6)](_0x50f763(0x989));if(_0x58702b[_0x50f763(0x4f1)]===0x0){_0x108738['innerHTML']=_0x50f763(0xa17);return;}const _0x1c3b7f=calculateItemAnalysis(_0x45a639,_0x3f2f38),_0x5de897=calculateDistractorAnalysis(_0x45a639,_0x3f2f38);let _0x4a2272='';_0x1c3b7f[_0x50f763(0x64a)]&&(_0x4a2272='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x1c3b7f[_0x50f763(0x64a)][_0x50f763(0x511)][_0x50f763(0x4f1)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c3b7f[_0x50f763(0x64a)]['upperGroupNames']['map'](_0x80d941=>_0x50f763(0xa66)+_0x80d941+_0x50f763(0x235))[_0x50f763(0x728)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x1c3b7f[_0x50f763(0x64a)][_0x50f763(0x931)][_0x50f763(0x4f1)]+_0x50f763(0x595)+_0x1c3b7f[_0x50f763(0x64a)]['lowerGroupNames'][_0x50f763(0x6e9)](_0x30d8d1=>'<li>'+_0x30d8d1+'</li>')[_0x50f763(0x728)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x647254='';const _0x228e51=_0x3f2f38[_0x50f763(0x6e9)](_0x9f6358=>_0x9f6358[_0x50f763(0xa63)]),_0x41db68=_0x40e84c=>{const _0x263fce=_0x50f763;if(_0x40e84c>=0.8)return _0x263fce(0x91d);if(_0x40e84c>=0.6)return _0x263fce(0x512);if(_0x40e84c>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x40e84c>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x1979b7=_0x2b3780=>{const _0x44f398=_0x50f763;if(_0x2b3780<0x0)return _0x44f398(0xa14);if(_0x2b3780>=0.4)return _0x44f398(0x5a5);if(_0x2b3780>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x2b3780>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x44f398(0x3c6);},_0x474146=_0x368fff=>{const _0x22c0d4=_0x50f763,_0x3824d9=_0x368fff[_0x22c0d4(0x830)](0x0);if(parseFloat(_0x3824d9)===0x64)return _0x22c0d4(0x6b6)+_0x3824d9+_0x22c0d4(0x779);if(_0x368fff>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3824d9+_0x22c0d4(0x779);return _0x22c0d4(0x1fe)+_0x3824d9+_0x22c0d4(0x779);};_0x45a639['questions'][_0x50f763(0x87f)]((_0xb617ae,_0x4484f7)=>{const _0xee41a7=_0x50f763,_0x40c152=_0x1c3b7f[_0xee41a7(0x847)][_0x4484f7],_0x3f8dec=_0x5de897[_0x4484f7],_0xc22a5d=_0xb617ae[_0xee41a7(0x4ae)]||_0xb617ae[_0xee41a7(0x8bc)]||_0xb617ae[_0xee41a7(0x3d1)];let _0x2dadf3=0x0;const _0x5419dd=[],_0x3dfc13=[];_0x3f2f38['forEach'](_0x2c0c1c=>{const _0x69bfa4=_0xee41a7,_0x5caab2=_0x2c0c1c['attempts'][_0x2c0c1c[_0x69bfa4(0x371)]['length']-0x1];if(_0x5caab2&&_0x5caab2['answers']){const _0x2a1f05=_0x5caab2[_0x69bfa4(0x1b0)][_0x69bfa4(0x8dc)](_0xcc6ab4=>_0xcc6ab4[_0x69bfa4(0x869)]===_0xc22a5d)??_0x5caab2['answers'][_0x4484f7]??null;_0x2a1f05&&(_0x2a1f05[_0x69bfa4(0x294)]?(_0x2dadf3++,_0x5419dd[_0x69bfa4(0x8c3)](_0x2c0c1c[_0x69bfa4(0xa63)])):_0x3dfc13['push'](_0x2c0c1c[_0x69bfa4(0xa63)]));}});const _0x2b1983=_0x3f2f38[_0xee41a7(0x4f1)]>0x0?_0x2dadf3/_0x3f2f38[_0xee41a7(0x4f1)]*0x64:0x0,_0x4f09f7=_0x58702b['filter'](_0x347064=>!_0x228e51[_0xee41a7(0x12a)](_0x347064)),_0x37a428=_0x40c152?_0xee41a7(0x709)+_0x40c152['p'][_0xee41a7(0x830)](0x2)+_0xee41a7(0x3c3)+_0x41db68(_0x40c152['p'])+_0xee41a7(0x6d6)+_0x40c152['r']['toFixed'](0x2)+_0xee41a7(0x3c3)+_0x1979b7(_0x40c152['r'])+_0xee41a7(0x2ce)+_0x474146(_0x2b1983)+_0xee41a7(0x220):'';let _0x1a469a='';_0x3f8dec&&(_0x1a469a=_0xee41a7(0x3cb)+Object[_0xee41a7(0x4e6)](_0x3f8dec)['map'](_0x4b7a8f=>{const _0x5aed5a=_0xee41a7,_0x1ed732=_0x3f8dec[_0x4b7a8f],_0x2f4bf5=parseInt(_0x4b7a8f)===_0xb617ae[_0x5aed5a(0x94a)],_0xdbf976=!_0x2f4bf5&&_0x1ed732['lower_group_count']>_0x1ed732['upper_group_count'];return'<tr\x20class=\x22'+(_0x2f4bf5?_0x5aed5a(0x3ae):'')+_0x5aed5a(0x756)+(_0x2f4bf5?'✔\x20':'')+_0x1ed732[_0x5aed5a(0x437)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x1ed732['upper_group_count']+_0x5aed5a(0x670)+_0x1ed732[_0x5aed5a(0x742)]+'\x20'+(_0xdbf976?'👍':'')+_0x5aed5a(0x670)+_0x1ed732[_0x5aed5a(0xa4a)]+'</td></tr>';})[_0xee41a7(0x728)]('')+_0xee41a7(0x9de));let _0x28478a='';_0x40c152&&_0x40c152['upperGroupResponders']&&(_0x28478a=_0xee41a7(0x698)+_0x40c152[_0xee41a7(0x285)][_0xee41a7(0x4f1)]+_0xee41a7(0x60b)+_0x40c152[_0xee41a7(0x285)][_0xee41a7(0x6e9)](_0x577a34=>_0xee41a7(0xa66)+(_0x577a34[_0xee41a7(0x294)]?_0xee41a7(0xa5e):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x577a34['name']+_0xee41a7(0x235))[_0xee41a7(0x728)]('')+_0xee41a7(0x7d1)+_0x40c152[_0xee41a7(0x683)][_0xee41a7(0x4f1)]+_0xee41a7(0x60b)+_0x40c152[_0xee41a7(0x683)][_0xee41a7(0x6e9)](_0x1d9794=>_0xee41a7(0xa66)+(_0x1d9794['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x1d9794[_0xee41a7(0x682)]+_0xee41a7(0x235))['join']('')+_0xee41a7(0x4a1)),_0x647254+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x4484f7+0x1)+':\x20'+_0xc22a5d+_0xee41a7(0xa01)+_0x37a428+_0xee41a7(0x14e)+_0xc22a5d+_0xee41a7(0x784)+_0x2dadf3+'\x20จาก\x20'+_0x3f2f38[_0xee41a7(0x4f1)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x2b1983[_0xee41a7(0x830)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x5419dd[_0xee41a7(0x4f1)]+_0xee41a7(0x6df)+(_0x5419dd[_0xee41a7(0x4f1)]>0x0?_0x5419dd[_0xee41a7(0x728)](',\x20'):'ไม่มี')+_0xee41a7(0x887)+_0x3dfc13[_0xee41a7(0x4f1)]+_0xee41a7(0x6df)+(_0x3dfc13[_0xee41a7(0x4f1)]>0x0?_0x3dfc13[_0xee41a7(0x728)](',\x20'):'ไม่มี')+_0xee41a7(0x86c)+_0x4f09f7['length']+_0xee41a7(0x6df)+(_0x4f09f7[_0xee41a7(0x4f1)]>0x0?_0x4f09f7['join'](',\x20'):_0xee41a7(0x603))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1a469a+_0xee41a7(0xa3d)+_0x28478a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x108738[_0x50f763(0x735)]=_0x4a2272+_0x647254;try{window['MathJax']&&MathJax[_0x50f763(0x1d1)]&&MathJax[_0x50f763(0x1d1)]([_0x108738]);}catch(_0x135353){console['error']('MathJax\x20typeset\x20error\x20(analytics):',_0x135353);}}function calculateDistractorAnalysis(_0x5d49e3,_0x24ebe0){const _0x35b6a4=_0x53e3b0,_0x3a060f={};if(_0x24ebe0[_0x35b6a4(0x4f1)]<0x2)return _0x3a060f;const _0x25232c=[..._0x24ebe0][_0x35b6a4(0x933)]((_0x476555,_0x2aee73)=>{const _0x5772a3=_0x35b6a4,_0x120258=_0x2aee73[_0x5772a3(0x12d)]-_0x476555[_0x5772a3(0x12d)];if(_0x120258!==0x0)return _0x120258;const _0x22447f=_0x476555[_0x5772a3(0x371)]?.[_0x5772a3(0x4f1)]||0x1,_0x384303=_0x2aee73[_0x5772a3(0x371)]?.[_0x5772a3(0x4f1)]||0x1,_0x2901ae=_0x22447f-_0x384303;if(_0x2901ae!==0x0)return _0x2901ae;const _0x1eb795=new Date(_0x476555['latestSubmittedAt']),_0x3fc435=new Date(_0x2aee73[_0x5772a3(0x25e)]),_0x44343c=_0x1eb795-_0x3fc435;if(_0x44343c!==0x0)return _0x44343c;return _0x476555['studentName'][_0x5772a3(0x8ff)](_0x2aee73[_0x5772a3(0xa63)],'th');}),_0x3ab3d5=_0x25232c['length'],_0x439022=Math[_0x35b6a4(0x5c8)](0x1,Math[_0x35b6a4(0x671)](_0x3ab3d5*0.33)),_0x3ea005=_0x25232c[_0x35b6a4(0x54e)](0x0,_0x439022),_0x33b16b=_0x25232c[_0x35b6a4(0x54e)](-_0x439022);return _0x5d49e3['questions'][_0x35b6a4(0x87f)]((_0x2c73a9,_0x1bd31c)=>{const _0x456029=_0x35b6a4;if(_0x2c73a9[_0x456029(0x281)]!==_0x456029(0x7f3)||!_0x2c73a9[_0x456029(0x9b6)])return;const _0x39a1e9=_0x2c73a9[_0x456029(0x8bc)],_0x3ce3ad={};_0x2c73a9[_0x456029(0x9b6)][_0x456029(0x87f)]((_0x27b594,_0x4e473a)=>{_0x3ce3ad[_0x4e473a]={'text':_0x27b594,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x25232c[_0x456029(0x87f)](_0x4c1187=>{const _0x574f9c=_0x456029,_0x1a45eb=_0x4c1187[_0x574f9c(0x371)][_0x4c1187[_0x574f9c(0x371)]['length']-0x1],_0x489724=_0x1a45eb['answers']['find'](_0x11ff32=>_0x11ff32[_0x574f9c(0x869)]===_0x39a1e9);if(_0x489724&&_0x489724[_0x574f9c(0x58b)]!==null){const _0x4eeed5=_0x2c73a9[_0x574f9c(0x9b6)][_0x574f9c(0x8b9)](_0xeda93f=>_0xeda93f===_0x489724[_0x574f9c(0x14f)]);_0x4eeed5!==-0x1&&_0x3ce3ad[_0x4eeed5]&&(_0x3ce3ad[_0x4eeed5][_0x574f9c(0xa4a)]++,_0x3ea005[_0x574f9c(0x12a)](_0x4c1187)&&_0x3ce3ad[_0x4eeed5][_0x574f9c(0x97a)]++,_0x33b16b[_0x574f9c(0x12a)](_0x4c1187)&&_0x3ce3ad[_0x4eeed5]['lower_group_count']++);}}),_0x3a060f[_0x1bd31c]=_0x3ce3ad;}),_0x3a060f;}function calculateReliabilityKR20(_0x2144a3,_0x2fc128,_0x1e3484){const _0x1d8921=_0x53e3b0,_0x503057=_0x2144a3[_0x1d8921(0x7d4)][_0x1d8921(0x4f1)];if(_0x503057<0x2||_0x2fc128[_0x1d8921(0x4f1)]<0x2)return null;const _0x297aae=_0x2fc128[_0x1d8921(0x6e9)](_0x4bed5f=>_0x4bed5f[_0x1d8921(0x12d)]),_0x1cfbad=_0x297aae[_0x1d8921(0x26f)]((_0x59dc3c,_0x5178ae)=>_0x59dc3c+_0x5178ae,0x0)/_0x297aae[_0x1d8921(0x4f1)],_0x4fc9dd=_0x297aae[_0x1d8921(0x6e9)](_0x3f626e=>Math[_0x1d8921(0x29e)](_0x3f626e-_0x1cfbad,0x2))[_0x1d8921(0x26f)]((_0x110cfc,_0x5739b5)=>_0x110cfc+_0x5739b5,0x0)/_0x297aae[_0x1d8921(0x4f1)];if(_0x4fc9dd===0x0)return null;let _0x3cfd59=0x0;for(let _0x4ed7f3=0x0;_0x4ed7f3<_0x503057;_0x4ed7f3++){const _0x15b472=_0x1e3484[_0x4ed7f3]?.['p'];if(_0x15b472===undefined)continue;const _0x41bcbf=0x1-_0x15b472;_0x3cfd59+=_0x15b472*_0x41bcbf;}if(_0x3cfd59===0x0)return null;const _0x3fe91a=_0x503057/(_0x503057-0x1)*(0x1-_0x3cfd59/_0x4fc9dd);if(_0x3fe91a>0x1)return null;return _0x3fe91a;}async function handleAnalyzeClass(){const _0x275d22=_0x53e3b0;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x275d22(0x40e));return;}const _0x1b1240=collection(db,_0x275d22(0x50e)+appId+_0x275d22(0x150)+currentQuizData['id']+_0x275d22(0x80f)),_0x375a02=await getDocs(_0x1b1240),_0x4d4162=_0x375a02['docs'][_0x275d22(0x6e9)](_0x33239d=>_0x33239d[_0x275d22(0x1b4)]());if(_0x4d4162['length']<0x2){showMessage(_0x275d22(0x775));return;}const _0x471a18=document[_0x275d22(0x2f6)]('strength-weakness-analysis-container');_0x471a18['innerHTML']=_0x275d22(0x168),document['getElementById'](_0x275d22(0x9ff))[_0x275d22(0x6bc)]=!![];const _0x36a117=_0x4d4162[_0x275d22(0x6e9)]((_0x41dbf8,_0xd24e8b)=>{const _0x581e1d=_0x275d22,_0x499aca=_0x41dbf8[_0x581e1d(0x371)][_0x41dbf8[_0x581e1d(0x371)][_0x581e1d(0x4f1)]-0x1];if(!_0x499aca)return'';return _0x581e1d(0x70b)+(_0xd24e8b+0x1)+'\x20('+_0x41dbf8[_0x581e1d(0xa63)]+_0x581e1d(0x9ca)+_0x499aca[_0x581e1d(0x19e)]+'/'+_0x41dbf8['totalQuestions']+_0x581e1d(0x4aa)+JSON[_0x581e1d(0x84c)](_0x499aca[_0x581e1d(0x1b0)])+_0x581e1d(0x435);})['join'](_0x275d22(0x8c5)),_0x2be066='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x275d22(0x6a6)]+_0x275d22(0x66d)+JSON[_0x275d22(0x84c)](currentQuizData['questions'])+_0x275d22(0x83f)+_0x36a117+_0x275d22(0x120),_0x2e3943={'type':_0x275d22(0x446),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x275d22(0x1ab)}},'classWeaknesses':{'type':'ARRAY','items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x275d22(0xa25),'items':{'type':_0x275d22(0x1ab)}}},'required':[_0x275d22(0x15e),_0x275d22(0x2a9),_0x275d22(0x27f)]};try{const _0x47b3d1=await callAnalysisApi(_0x2be066,_0x2e3943);displayClassAnalysis(_0x47b3d1);}catch(_0x2472bd){console[_0x275d22(0x4e5)](_0x275d22(0x239),_0x2472bd),_0x471a18['innerHTML']=_0x275d22(0x324)+_0x2472bd[_0x275d22(0x405)]+_0x275d22(0x6e7);}finally{document['getElementById']('analyze-strengths-btn')[_0x275d22(0x6bc)]=![];}}function displayClassAnalysis(_0x2274c3){const _0x2b4fd7=_0x53e3b0,_0x266798=document[_0x2b4fd7(0x2f6)](_0x2b4fd7(0x346));if(!_0x2274c3){_0x266798[_0x2b4fd7(0x735)]=_0x2b4fd7(0x3d8);return;}_0x266798[_0x2b4fd7(0x735)]=_0x2b4fd7(0x3fa)+_0x2274c3['classStrengths']['map'](_0x4d16a5=>_0x2b4fd7(0xa66)+_0x4d16a5+_0x2b4fd7(0x235))[_0x2b4fd7(0x728)]('')+_0x2b4fd7(0x241)+_0x2274c3['classWeaknesses']['map'](_0x21e544=>_0x2b4fd7(0xa66)+_0x21e544+_0x2b4fd7(0x235))['join']('')+_0x2b4fd7(0x40b)+_0x2274c3[_0x2b4fd7(0x27f)][_0x2b4fd7(0x6e9)](_0xd478fe=>'<li>'+_0xd478fe+'</li>')[_0x2b4fd7(0x728)]('')+_0x2b4fd7(0x542);}function formatAndPrintWorksheet(_0x1aca64,_0x504309){const _0x59bd0f=_0x53e3b0,_0x31dae6=_0x59bd0f(0x8a0)+_0x1aca64[_0x59bd0f(0x6a6)]+_0x59bd0f(0x138)+_0x1aca64[_0x59bd0f(0x6a6)]+_0x59bd0f(0xa5d)+_0x1aca64[_0x59bd0f(0x7d4)][_0x59bd0f(0x6e9)]((_0x5f0e6d,_0x138347)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x138347+0x1)+'.\x20'+_0x5f0e6d[_0x59bd0f(0x8bc)]+_0x59bd0f(0x2aa)+(_0x5f0e6d[_0x59bd0f(0x170)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x5f0e6d[_0x59bd0f(0x170)]+'</div>':'')+_0x59bd0f(0x1b6))[_0x59bd0f(0x728)]('')+_0x59bd0f(0x83d);_0x504309[_0x59bd0f(0x881)][_0x59bd0f(0xa0d)](_0x31dae6),_0x504309['document']['close'](),_0x504309[_0x59bd0f(0x94f)]=function(){setTimeout(()=>{_0x504309['print']();},0x3e8);};}async function generateWorksheet(){const _0x1ab2bc=_0x53e3b0,_0x9cda72=document[_0x1ab2bc(0x2f6)]('worksheet-topic-input')[_0x1ab2bc(0x6b0)][_0x1ab2bc(0x48c)]();if(!_0x9cda72){showMessage(_0x1ab2bc(0x1ca));return;}const _0x46e895=document[_0x1ab2bc(0x2f6)]('force-math-checkbox')[_0x1ab2bc(0x3a8)],_0x569f17=_0x46e895?'':_0x1ab2bc(0x663),_0x584957=window['open']('',_0x1ab2bc(0xa56));_0x584957[_0x1ab2bc(0x881)][_0x1ab2bc(0xa0d)](_0x1ab2bc(0x8b5));const _0x4cf1e4=parseInt(document['getElementById'](_0x1ab2bc(0x99f))[_0x1ab2bc(0x6b0)]),_0x28da45=document[_0x1ab2bc(0x2f6)](_0x1ab2bc(0x1b8))[_0x1ab2bc(0x3a8)],_0x4421a6=_0x28da45?_0x1ab2bc(0x7ed):'',_0x52885c=_0x1ab2bc(0x24e)+_0x569f17+_0x1ab2bc(0x3b8)+_0x4cf1e4+_0x1ab2bc(0x6af)+_0x9cda72+_0x1ab2bc(0x41a)+_0x4421a6+_0x1ab2bc(0x5b3)+simpleMathPrompt+_0x1ab2bc(0x53e),_0x58e9cc={'type':_0x1ab2bc(0x446),'properties':{'topic':{'type':_0x1ab2bc(0x1ab)},'questions':{'type':_0x1ab2bc(0xa25),'items':{'type':_0x1ab2bc(0x446),'properties':{'questionText':{'type':_0x1ab2bc(0x1ab)},'imageCode':{'type':'STRING'}},'required':[_0x1ab2bc(0x8bc)]}}},'required':[_0x1ab2bc(0x6a6),_0x1ab2bc(0x7d4)]};document['getElementById'](_0x1ab2bc(0x903))[_0x1ab2bc(0x8c8)]='',document[_0x1ab2bc(0x2f6)](_0x1ab2bc(0x49c))['classList'][_0x1ab2bc(0x8b7)](_0x1ab2bc(0x4ba)),document[_0x1ab2bc(0x2f6)](_0x1ab2bc(0x734))['classList'][_0x1ab2bc(0x8b7)]('hidden'),generateWorksheetBtn[_0x1ab2bc(0x6bc)]=!![];try{const _0x48c2b8=await callAnalysisApi(_0x52885c,_0x58e9cc);formatAndPrintWorksheet(_0x48c2b8,_0x584957);}catch(_0x264655){console[_0x1ab2bc(0x4e5)]('Error\x20generating\x20worksheet:',_0x264655);if(_0x584957)_0x584957[_0x1ab2bc(0x1f4)]();showMessage(_0x1ab2bc(0xa54));}finally{document['getElementById']('loader')[_0x1ab2bc(0x97f)][_0x1ab2bc(0x218)](_0x1ab2bc(0x4ba)),document[_0x1ab2bc(0x2f6)](_0x1ab2bc(0x734))[_0x1ab2bc(0x97f)][_0x1ab2bc(0x218)](_0x1ab2bc(0x4ba)),generateWorksheetBtn[_0x1ab2bc(0x6bc)]=![];}}async function callAnalysisApi(_0x2bd524,_0x25f3a7){const _0x420ee5=_0x53e3b0,_0x302844={'contents':[{'role':_0x420ee5(0x43c),'parts':[{'text':_0x2bd524}]}],'generationConfig':{'responseMimeType':_0x420ee5(0x17d),'responseSchema':_0x25f3a7}},_0x4fd9a6=_0x420ee5(0x3f1),_0x2ac54f=_0x420ee5(0xa0b)+_0x4fd9a6,_0x5d2975=await fetch(_0x2ac54f,{'method':_0x420ee5(0x5ea),'headers':{'Content-Type':_0x420ee5(0x17d)},'body':JSON[_0x420ee5(0x84c)](_0x302844)});if(!_0x5d2975['ok'])throw new Error(_0x420ee5(0x15a)+_0x5d2975[_0x420ee5(0x25f)]);const _0xc93879=await _0x5d2975[_0x420ee5(0x250)]();if(_0xc93879[_0x420ee5(0x6d1)]?.[0x0]?.[_0x420ee5(0x37b)]?.[_0x420ee5(0x862)]?.[0x0])return JSON[_0x420ee5(0x975)](_0xc93879['candidates'][0x0][_0x420ee5(0x37b)][_0x420ee5(0x862)][0x0][_0x420ee5(0x437)]);else{let _0x58fa62=_0x420ee5(0x636);if(_0xc93879[_0x420ee5(0x99c)]?.[_0x420ee5(0xa11)])_0x58fa62=_0x420ee5(0x1ad)+_0xc93879[_0x420ee5(0x99c)][_0x420ee5(0xa11)]+'.';else _0xc93879[_0x420ee5(0x6d1)]?.[0x0]?.[_0x420ee5(0x944)]&&_0xc93879['candidates'][0x0][_0x420ee5(0x944)]!==_0x420ee5(0xa3c)&&(_0x58fa62=_0x420ee5(0xa64)+_0xc93879[_0x420ee5(0x6d1)][0x0][_0x420ee5(0x944)]+'.');console[_0x420ee5(0x4e5)](_0x58fa62,JSON[_0x420ee5(0x84c)](_0xc93879));throw new Error(_0x58fa62);}}async function handleStartSyncMode(_0x537e74,_0xc18a43=![]){const _0x4e80d7=_0x53e3b0,_0x29fe18=allQuizzes['find'](_0xe48274=>_0xe48274['id']===_0x537e74)||allQuizzesGlobal[_0x4e80d7(0x8dc)](_0x5885fd=>_0x5885fd['id']===_0x537e74);if(!_0x29fe18){showMessage(_0x4e80d7(0x8bd));return;}currentQuizData=getShuffledQuiz(_0x29fe18);const _0x3149c5=Math['floor'](0x3e8+Math[_0x4e80d7(0x7de)]()*0x2328)[_0x4e80d7(0x2d8)]();try{const _0x21df00=await addDoc(collection(db,'artifacts/'+appId+_0x4e80d7(0x551)),{'quizId':_0x29fe18['id'],'pin':_0x3149c5,'status':_0x4e80d7(0x88a),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xc18a43,'players':{}});currentLiveGameId=_0x21df00['id'],showView(_0x4e80d7(0x525)),renderSyncLobbyView(_0x3149c5,_0x29fe18[_0x4e80d7(0x6a6)]),listenForSyncGameUpdates();}catch(_0x43d1cb){console[_0x4e80d7(0x4e5)]('Error\x20starting\x20sync\x20game:',_0x43d1cb),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x1776e0){const _0x1fdb48=_0x53e3b0;if(!_0x1776e0||!_0x1776e0[_0x1fdb48(0x8f4)]||!_0x1776e0[_0x1fdb48(0x46d)])return _0x1776e0[_0x1fdb48(0x46d)]||{};const _0x28fcdd=_0x1776e0[_0x1fdb48(0x8f4)][_0x1fdb48(0x7d4)][_0x1fdb48(0x4f1)],_0xb13c83=JSON[_0x1fdb48(0x975)](JSON['stringify'](_0x1776e0['players']));return Object['values'](_0xb13c83)[_0x1fdb48(0x87f)](_0x4095b0=>{const _0x5a34c9=_0x1fdb48,_0x16b185=_0x4095b0[_0x5a34c9(0x19e)];let _0x29495b=0x0;_0x1776e0['isConfidenceScoringEnabled']&&_0x4095b0[_0x5a34c9(0x1b0)]&&_0x4095b0[_0x5a34c9(0x1b0)]['forEach'](_0xb9d57=>{const _0x37afef=_0x5a34c9;if(_0xb9d57[_0x37afef(0x294)]&&_0xb9d57['wasConfident'])_0x29495b+=0x1;else!_0xb9d57[_0x37afef(0x294)]&&_0xb9d57[_0x37afef(0x906)]&&(_0x29495b-=0x1);}),_0x4095b0[_0x5a34c9(0x19e)]=_0x16b185+_0x29495b,_0x28fcdd>0x0&&_0x16b185===_0x28fcdd&&(_0x4095b0[_0x5a34c9(0x19e)]+=0x1,_0x4095b0[_0x5a34c9(0x72e)]=!![]);}),_0xb13c83;}function listenForSyncGameUpdates(){const _0x36a2e2=_0x53e3b0;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x38f081=doc(db,_0x36a2e2(0x50e)+appId+_0x36a2e2(0x551),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x38f081,_0x4a8d99=>{const _0x7fe58a=_0x36a2e2;if(!_0x4a8d99[_0x7fe58a(0x4bc)]()){sessionStorage[_0x7fe58a(0x44f)](_0x7fe58a(0x40a));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x7fe58a(0x3ff)),showView(currentMode===_0x7fe58a(0x4c1)?_0x7fe58a(0x497):_0x7fe58a(0x14d));return;}const _0x5be185=_0x4a8d99[_0x7fe58a(0x1b4)]();currentMode==='admin'?updateAdminSyncView(_0x5be185):updateStudentSyncView(_0x5be185);});}function renderSyncLobbyView(_0x55a33c,_0x2ce37b){const _0x525a0a=_0x53e3b0;liveGameView[_0x525a0a(0x735)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x2ce37b+_0x525a0a(0x35e)+_0x55a33c+_0x525a0a(0x6d4);const _0x57af88=document[_0x525a0a(0x2f6)](_0x525a0a(0x54d)),_0x288579=document[_0x525a0a(0x2f6)](_0x525a0a(0x96a));_0x57af88[_0x525a0a(0x7a9)](_0x525a0a(0x12f),()=>{const _0x574e3b=_0x525a0a;_0x288579[_0x574e3b(0x7c1)]['display']=_0x57af88[_0x574e3b(0x3a8)]?_0x574e3b(0x763):_0x574e3b(0x929);}),document[_0x525a0a(0x2f6)](_0x525a0a(0x9b8))[_0x525a0a(0x7a9)](_0x525a0a(0x911),async()=>{const _0x3b0439=_0x525a0a,_0x5f06c5=doc(db,_0x3b0439(0x50e)+appId+'/public/data/syncGames',currentLiveGameId),_0x45d054=document[_0x3b0439(0x2f6)](_0x3b0439(0x54d))[_0x3b0439(0x3a8)];await updateDoc(_0x5f06c5,{'status':_0x3b0439(0x6dc),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x45d054});});}function updateAdminSyncView(_0x40497a){const _0x431521=_0x53e3b0;switch(_0x40497a[_0x431521(0x25f)]){case _0x431521(0x88a):renderSyncLobbyView(_0x40497a[_0x431521(0x196)],_0x40497a[_0x431521(0x8f4)][_0x431521(0x6a6)]);const _0x45107e=Object[_0x431521(0x577)](_0x40497a[_0x431521(0x46d)]||{})[_0x431521(0x845)](([_0x2e7daf,_0x596a48])=>_0x596a48[_0x431521(0x25f)]!=='inactive');document[_0x431521(0x2f6)](_0x431521(0x32c))[_0x431521(0x8c8)]=_0x45107e['length'],document[_0x431521(0x2f6)](_0x431521(0x4dd))[_0x431521(0x735)]=_0x45107e['map'](([_0x3abc8,_0x20f08b])=>_0x431521(0x922)+_0x3abc8+_0x431521(0x70c)+_0x3abc8+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x431521(0x728)]('')||_0x431521(0x82c),document[_0x431521(0x2f6)](_0x431521(0x9b8))[_0x431521(0x6bc)]=_0x45107e[_0x431521(0x4f1)]===0x0;break;case _0x431521(0x6dc):const _0x2375f0=Object[_0x431521(0x74d)](_0x40497a[_0x431521(0x46d)]||{})[_0x431521(0x845)](_0x190020=>_0x190020[_0x431521(0x25f)]!==_0x431521(0x1f0)),_0x3f606a=_0x2375f0['filter'](_0x97ae3=>_0x97ae3['answered'])['length'],_0x1cab6f=_0x3f606a===_0x2375f0[_0x431521(0x4f1)]&&_0x2375f0[_0x431521(0x4f1)]>0x0;if(_0x1cab6f&&_0x40497a[_0x431521(0x25f)]===_0x431521(0x6dc)){const _0xe85193=doc(db,'artifacts/'+appId+_0x431521(0x551),currentLiveGameId);updateDoc(_0xe85193,{'status':_0x431521(0x14a)});}else{if(document['getElementById'](_0x431521(0x547))===null)renderAdminSyncQuestionView(_0x40497a);else{const _0x5119a1=document['getElementById'](_0x431521(0x57d));_0x5119a1&&(_0x5119a1[_0x431521(0x8c8)]=_0x3f606a+'/'+_0x2375f0['length']);const _0x70fa9f=document[_0x431521(0x2f6)](_0x431521(0x8eb));_0x70fa9f&&(_0x70fa9f[_0x431521(0x735)]=_0x2375f0[_0x431521(0x6e9)](_0x58619b=>{const _0x485575=_0x431521,_0x2fc774=_0x58619b[_0x485575(0x1cc)]?_0x485575(0x61b):_0x485575(0x864),_0x4f4df9=_0x58619b['answered']?_0x485575(0x385):_0x485575(0x694);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x2fc774+_0x485575(0x7c2)+_0x4f4df9+_0x485575(0x37c)+_0x58619b[_0x485575(0x682)]+_0x485575(0x6f7)+_0x58619b[_0x485575(0x682)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x431521(0x728)](''));}}break;case _0x431521(0x14a):const _0x4229cc=_0x40497a[_0x431521(0x691)],_0x1f7bd8=_0x40497a[_0x431521(0x8f4)]['questions'][_0x4229cc];renderSyncSummaryView(_0x40497a,_0x1f7bd8,!![]);break;case _0x431521(0x6ae):renderAdminSyncDashboard(_0x40497a,!![]);break;case _0x431521(0x1ac):_0x40497a['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x40497a);sessionStorage['removeItem'](_0x431521(0x40a));const _0x10fdcf=calculateFinalPodiumScores(_0x40497a);showPodiumView(_0x10fdcf,'sync');break;}}function renderAdminSyncQuestionView(_0x331940){const _0xa0b0c3=_0x53e3b0,_0x25d50c=_0x331940[_0xa0b0c3(0x691)],_0x45755f=_0x331940[_0xa0b0c3(0x8f4)][_0xa0b0c3(0x7d4)][_0x25d50c],_0x480eb3=_0x331940[_0xa0b0c3(0x8f4)][_0xa0b0c3(0x7d4)]['length'],_0x42ec66=Object[_0xa0b0c3(0x74d)](_0x331940['players']||{})[_0xa0b0c3(0x845)](_0x560a93=>_0x560a93[_0xa0b0c3(0x25f)]!=='inactive'),_0x19c250=_0x42ec66['filter'](_0x335843=>_0x335843['answered'])['length'],_0x350cc9=_0x19c250===_0x42ec66[_0xa0b0c3(0x4f1)]&&_0x42ec66['length']>0x0,_0x32adaa=(_0x45755f[_0xa0b0c3(0x9b6)]||[])['map'](_0x218592=>_0xa0b0c3(0x681)+_0x218592+_0xa0b0c3(0x245))['join']('');liveGameView[_0xa0b0c3(0x735)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x25d50c+0x1)+_0xa0b0c3(0x914)+_0x480eb3+_0xa0b0c3(0xa48)+_0x19c250+'/'+_0x42ec66[_0xa0b0c3(0x4f1)]+_0xa0b0c3(0x124)+_0x45755f[_0xa0b0c3(0x8bc)]+_0xa0b0c3(0x421)+_0x32adaa+_0xa0b0c3(0x3d2)+(!_0x350cc9?_0xa0b0c3(0x6bc):'')+_0xa0b0c3(0x576);if(window[_0xa0b0c3(0x4b0)])MathJax['typesetPromise']();document[_0xa0b0c3(0x2f6)](_0xa0b0c3(0x63f))[_0xa0b0c3(0x7a9)](_0xa0b0c3(0x911),async()=>{const _0x33082b=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x33082b,{'status':'results'});}),document[_0xa0b0c3(0x2f6)](_0xa0b0c3(0x36f))['onclick']=()=>{const _0x55117f=_0xa0b0c3;openScratchpad(_0x45755f,_0x45755f[_0x55117f(0x9b6)]||[]);},document['getElementById'](_0xa0b0c3(0xa5b))[_0xa0b0c3(0x7a9)]('click',()=>{const _0x4a1956=_0xa0b0c3;document[_0x4a1956(0x2f6)](_0x4a1956(0x547))[_0x4a1956(0x97f)][_0x4a1956(0x95b)](_0x4a1956(0x4ba));});}function renderSyncLeaderboardView(_0x48d5fe,_0xa10b62){const _0x38f69d=_0x53e3b0,_0x464b03=Object[_0x38f69d(0x74d)](_0x48d5fe[_0x38f69d(0x46d)]||{});_0x464b03[_0x38f69d(0x933)]((_0x4f86c7,_0x41a7d1)=>_0x41a7d1[_0x38f69d(0x19e)]-_0x4f86c7['score']);const _0x2fb480=_0x464b03['slice'](0x0,0x5);let _0x5044e8='';if(_0xa10b62){const _0x105200=_0x48d5fe[_0x38f69d(0x691)]>=_0x48d5fe[_0x38f69d(0x8f4)][_0x38f69d(0x7d4)][_0x38f69d(0x4f1)]-0x1;_0x5044e8=_0x38f69d(0x2f0)+(_0x105200?'ดูผลสรุปสุดท้าย':_0x38f69d(0x19b))+_0x38f69d(0x6ad);}else _0x5044e8='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x38f69d(0x735)]=_0x38f69d(0x438)+_0x2fb480[_0x38f69d(0x6e9)]((_0x40b25f,_0x357aaf)=>_0x38f69d(0x65b)+(_0x357aaf+0x1)+'.\x20'+_0x40b25f[_0x38f69d(0x682)]+_0x38f69d(0x259)+_0x40b25f[_0x38f69d(0x19e)]+'</span></div>')[_0x38f69d(0x728)]('')+_0x38f69d(0x51c)+_0x5044e8+_0x38f69d(0x176),_0xa10b62&&document[_0x38f69d(0x2f6)](_0x38f69d(0x600))[_0x38f69d(0x7a9)](_0x38f69d(0x911),async()=>{const _0x38e241=_0x38f69d,_0xde2a06=doc(db,'artifacts/'+appId+_0x38e241(0x551),currentLiveGameId),_0x46ccda=_0x48d5fe[_0x38e241(0x691)]+0x1;if(_0x46ccda<_0x48d5fe[_0x38e241(0x8f4)][_0x38e241(0x7d4)][_0x38e241(0x4f1)]){const _0x39bbd7={};Object[_0x38e241(0x4e6)](_0x48d5fe[_0x38e241(0x46d)])['forEach'](_0x1c4983=>{const _0x31587a=_0x38e241;_0x39bbd7[_0x31587a(0x11b)+_0x1c4983+_0x31587a(0x2e5)]=![];}),await updateDoc(_0xde2a06,{..._0x39bbd7,'status':'question','currentQuestionIndex':_0x46ccda,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0xde2a06,{'status':_0x38e241(0x1ac)});});}async function handleJoinSyncGame(){const _0x3772f1=_0x53e3b0,_0x4b7a31=prompt(_0x3772f1(0xa6a));if(!_0x4b7a31||_0x4b7a31[_0x3772f1(0x48c)]()['length']!==0x2){showMessage(_0x3772f1(0x1af));return;}try{const _0x475fdf=collection(db,_0x3772f1(0x50e)+appId+_0x3772f1(0x551)),_0xd3ebd2=query(_0x475fdf,where('pin','==',_0x4b7a31[_0x3772f1(0x48c)]()),where(_0x3772f1(0x25f),'==',_0x3772f1(0x88a))),_0x1dd58b=await getDocs(_0xd3ebd2);if(_0x1dd58b[_0x3772f1(0x553)]){showMessage(_0x3772f1(0x899));return;}const _0x4105eb=_0x1dd58b[_0x3772f1(0x51f)][0x0];currentLiveGameId=_0x4105eb['id'];const _0x419ac9=_0x4105eb[_0x3772f1(0x1b4)](),_0x177b6f=doc(db,_0x3772f1(0x50e)+appId+_0x3772f1(0x7ee),_0x419ac9[_0x3772f1(0x8a9)]),_0x1ffd70=await getDoc(_0x177b6f);if(!_0x1ffd70['exists']())throw new Error(_0x3772f1(0x25d));const _0x294291=_0x1ffd70[_0x3772f1(0x1b4)](),_0x57c41e=doc(db,_0x3772f1(0x50e)+appId+_0x3772f1(0x33e),_0x294291[_0x3772f1(0x63c)]),_0x2619e2=await getDoc(_0x57c41e);if(!_0x2619e2['exists']())throw new Error(_0x3772f1(0x8d2));currentQuizData=_0x419ac9[_0x3772f1(0x8f4)];const _0x5135ef=_0x2619e2[_0x3772f1(0x1b4)]();showView('student-team-join'),showTeamPlayerSelection(_0x5135ef[_0x3772f1(0x3f3)],_0x294291[_0x3772f1(0x6a6)]);const _0x30367c=document[_0x3772f1(0x2f6)](_0x3772f1(0x760));_0x30367c[_0x3772f1(0x252)]=confirmAndJoinSyncGame;}catch(_0x4d152e){console['error'](_0x3772f1(0x672),_0x4d152e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4d152e[_0x3772f1(0x405)]);}}function updateStudentSyncView(_0x1d7499){const _0x24c29a=_0x53e3b0,_0x516ed2=_0x1d7499[_0x24c29a(0x46d)][localTeamPlayers[0x0]];switch(_0x1d7499[_0x24c29a(0x25f)]){case _0x24c29a(0x88a):showView(_0x24c29a(0x525)),liveGameView[_0x24c29a(0x735)]=_0x24c29a(0x8dd);break;case _0x24c29a(0x6dc):const _0x26e8fa=localTeamPlayers[_0x24c29a(0x513)](_0x37a7d0=>_0x1d7499[_0x24c29a(0x46d)][_0x37a7d0]?.[_0x24c29a(0x1cc)]===!![]);_0x26e8fa?liveGameView[_0x24c29a(0x735)]=_0x24c29a(0x37d):renderStudentSyncQuestionView(_0x1d7499);break;case _0x24c29a(0x14a):liveGameView[_0x24c29a(0x735)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x24c29a(0x6ae):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x1d7499);break;case'podium':sessionStorage[_0x24c29a(0x44f)](_0x24c29a(0x40a));const _0x52146e=calculateFinalPodiumScores(_0x1d7499);showPodiumView(_0x52146e,_0x24c29a(0x69f));break;}}function renderStudentSyncResultsView(_0x3d52bc){const _0x29c205=_0x53e3b0,_0x3a2e61=localTeamPlayers['map'](_0x1bf543=>_0x3d52bc[_0x29c205(0x46d)][_0x1bf543])[_0x29c205(0x845)](Boolean);_0x3a2e61[_0x29c205(0x933)]((_0x2faec0,_0xecdbbb)=>(_0xecdbbb[_0x29c205(0x19e)]||0x0)-(_0x2faec0[_0x29c205(0x19e)]||0x0));const _0x44f814=_0x3d52bc['currentQuestionIndex']>=_0x3d52bc[_0x29c205(0x8f4)][_0x29c205(0x7d4)][_0x29c205(0x4f1)]-0x1;let _0x3a4498='';_0x44f814?_0x3a4498=_0x29c205(0x614):_0x3a4498=_0x29c205(0xa0a);const _0x235fb0=_0x29c205(0x1fa)+_0x3a2e61[_0x29c205(0x6e9)]((_0x1f5167,_0x33dc57)=>_0x29c205(0x8ef)+(_0x33dc57+0x1)+_0x29c205(0x4c5)+_0x1f5167[_0x29c205(0x682)]+_0x29c205(0x718)+_0x1f5167[_0x29c205(0x19e)]+_0x29c205(0x828))[_0x29c205(0x728)]('')+_0x29c205(0x5e2)+_0x3a4498+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x29c205(0x735)]=_0x235fb0;}function renderStudentSyncQuestionView(_0xcb09e7){const _0xed7394=_0x53e3b0;while(localPlayerTurnIndex<localTeamPlayers[_0xed7394(0x4f1)]&&_0xcb09e7[_0xed7394(0x46d)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x253a5b=localTeamPlayers[localPlayerTurnIndex];if(!_0x253a5b)return;const _0xc158a1=_0xcb09e7[_0xed7394(0x691)],_0x154060=_0xcb09e7['shuffledQuiz'][_0xed7394(0x7d4)]['length'],_0x5a47ab=_0xcb09e7['shuffledQuiz'][_0xed7394(0x7d4)][_0xc158a1],_0x3a1bb2=_0x5a47ab[_0xed7394(0x281)]||_0xcb09e7[_0xed7394(0x8f4)][_0xed7394(0x509)];let _0x453625='',_0x2c4f02=![];switch(_0x3a1bb2){case _0xed7394(0x529):_0x453625=_0xed7394(0x36a);break;case _0xed7394(0x331):case _0xed7394(0x776):_0x2c4f02=!![],_0x453625=_0xed7394(0x64d);break;case _0xed7394(0x8f9):_0x2c4f02=!![],_0x453625=_0xed7394(0x3fc)+(_0x5a47ab[_0xed7394(0x15f)]||[])['map'](_0x527d42=>'<option\x20value=\x22'+_0x527d42+'\x22>'+_0x527d42+_0xed7394(0x6d7))[_0xed7394(0x728)]('')+_0xed7394(0xa19);break;case _0xed7394(0x7f3):default:_0x453625=(_0x5a47ab[_0xed7394(0x9b6)]||[])['map']((_0x374b34,_0x3cf903)=>_0xed7394(0xa5c)+_0x3cf903+_0xed7394(0x4ac)+_0x374b34+_0xed7394(0x11c))[_0xed7394(0x728)]('');break;}liveGameView[_0xed7394(0x735)]=_0xed7394(0x6a4)+(_0xc158a1+0x1)+_0xed7394(0x914)+_0x154060+_0xed7394(0x2ff)+_0x253a5b+_0xed7394(0x6f4)+(_0x5a47ab[_0xed7394(0x8bc)]||_0x5a47ab[_0xed7394(0x4ae)])+_0xed7394(0x493)+_0x453625+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(window[_0xed7394(0x4b0)])MathJax[_0xed7394(0x1d1)]();function _0xe5e6c(_0x5abb0f,_0x59874e,_0x9fc1cc,_0x1fd954){const _0x49f4e6=_0xed7394,_0x5992b8=_0x9fc1cc[_0x49f4e6(0x33f)]===!![];if(_0x5992b8){document[_0x49f4e6(0x2f6)](_0x49f4e6(0x533))['dataset'][_0x49f4e6(0x5f7)]=_0x49f4e6(0x69f);const _0x143c3b=document[_0x49f4e6(0x2f6)](_0x49f4e6(0x75d));_0x143c3b[_0x49f4e6(0x7c7)][_0x49f4e6(0x838)]=_0x5abb0f,_0x143c3b[_0x49f4e6(0x7c7)][_0x49f4e6(0x6dc)]=JSON[_0x49f4e6(0x84c)](_0x59874e),_0x143c3b[_0x49f4e6(0x7c7)][_0x49f4e6(0x5f3)]=JSON[_0x49f4e6(0x84c)](_0x9fc1cc),_0x143c3b[_0x49f4e6(0x7c7)][_0x49f4e6(0x7b0)]=_0x1fd954,document[_0x49f4e6(0x2f6)](_0x49f4e6(0x533))['classList'][_0x49f4e6(0x8b7)]('hidden');}else handleSyncAnswerSubmit(_0x5abb0f,_0x59874e,_0x9fc1cc,_0x1fd954,![]);}_0x2c4f02?document[_0xed7394(0x2f6)](_0xed7394(0x51b))['addEventListener'](_0xed7394(0x911),()=>{const _0x46930a=_0xed7394,_0x1bb3ba=document[_0x46930a(0x2f6)](_0x46930a(0x4fb))||document[_0x46930a(0x2f6)](_0x46930a(0x739));if(_0x1bb3ba['value'][_0x46930a(0x48c)]()===''){showMessage(_0x46930a(0x51e));return;}_0xe5e6c(_0x1bb3ba[_0x46930a(0x6b0)],_0x5a47ab,_0xcb09e7,_0x253a5b);}):document[_0xed7394(0xa09)]('.live-answer-btn')[_0xed7394(0x87f)](_0x5ab40d=>{_0x5ab40d['addEventListener']('click',()=>{const _0x3f0558=_0x26e1;_0xe5e6c(_0x5ab40d[_0x3f0558(0x7c7)][_0x3f0558(0x6b0)],_0x5a47ab,_0xcb09e7,_0x253a5b);});});}async function handleSyncAnswerSubmit(_0x269da7,_0x24ed89,_0x27e141,_0xf860e3,_0x103438){const _0x613c5f=_0x53e3b0;document[_0x613c5f(0xa09)]('.live-answer-btn,\x20#sync-submit-btn')[_0x613c5f(0x87f)](_0x134518=>_0x134518['disabled']=!![]);const _0x23190f=_0x24ed89[_0x613c5f(0x281)]||_0x27e141[_0x613c5f(0x8f4)][_0x613c5f(0x509)];let _0x2fdc55=![],_0x35929c=_0x269da7;switch(_0x23190f){case _0x613c5f(0x529):const _0x3adfaf=parseInt(_0x269da7),_0x5be4c8=_0x24ed89[_0x613c5f(0x9fe)]===!![]||String(_0x24ed89['correctAnswer'])[_0x613c5f(0x6a7)]()===_0x613c5f(0x3e6);_0x2fdc55=_0x3adfaf===0x0&&_0x5be4c8||_0x3adfaf===0x1&&!_0x5be4c8,_0x35929c=_0x3adfaf===0x0?_0x613c5f(0x750):_0x613c5f(0x416);break;case _0x613c5f(0x331):case _0x613c5f(0x776):_0x2fdc55=await gradeShortAnswer(_0x269da7,_0x24ed89);break;case _0x613c5f(0x8f9):_0x2fdc55=_0x269da7===_0x24ed89[_0x613c5f(0x209)];break;case _0x613c5f(0x7f3):default:const _0x5cf986=parseInt(_0x269da7);_0x2fdc55=_0x5cf986===_0x24ed89['correctAnswerIndex'];_0x24ed89[_0x613c5f(0x9b6)]&&_0x24ed89[_0x613c5f(0x9b6)][_0x5cf986]&&(_0x35929c=_0x24ed89[_0x613c5f(0x9b6)][_0x5cf986]);break;}const _0x581f10=_0x2fdc55?0x1:0x0,_0x1ba019=doc(db,_0x613c5f(0x50e)+appId+'/public/data/syncGames',currentLiveGameId),_0x42a044={};_0x42a044[_0x613c5f(0x11b)+_0xf860e3+_0x613c5f(0x2dd)]=increment(_0x581f10),_0x42a044['players.'+_0xf860e3+_0x613c5f(0x2e5)]=!![];let _0x5d359e=null;(_0x23190f==='multiple_choice'||_0x23190f===_0x613c5f(0x529)||_0x23190f==='fill_in_with_choices')&&(_0x5d359e=parseInt(_0x269da7));_0x42a044[_0x613c5f(0x11b)+_0xf860e3+_0x613c5f(0x618)]=_0x5d359e;const _0x23e46f={'questionIndex':_0x27e141[_0x613c5f(0x691)],'questionId':_0x24ed89['id'],'answer':_0x269da7,'answerText':_0x35929c,'isCorrect':_0x2fdc55,'originalQuestionText':_0x24ed89[_0x613c5f(0x8bc)]||_0x24ed89[_0x613c5f(0x4ae)],'wasConfident':_0x103438};_0x42a044[_0x613c5f(0x11b)+_0xf860e3+_0x613c5f(0x90b)]=arrayUnion(_0x23e46f),await updateDoc(_0x1ba019,_0x42a044);}initialize();
