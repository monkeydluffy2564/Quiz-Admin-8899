const _0x132f6e=_0x5070;(function(_0x3b32e2,_0x45e32c){const _0x36d39d=_0x5070,_0x549add=_0x3b32e2();while(!![]){try{const _0x26f963=parseInt(_0x36d39d(0xb4))/0x1+parseInt(_0x36d39d(0x5f7))/0x2+parseInt(_0x36d39d(0x73e))/0x3*(parseInt(_0x36d39d(0x2df))/0x4)+parseInt(_0x36d39d(0x4de))/0x5+parseInt(_0x36d39d(0x268))/0x6+-parseInt(_0x36d39d(0x566))/0x7*(parseInt(_0x36d39d(0x624))/0x8)+parseInt(_0x36d39d(0xad))/0x9*(parseInt(_0x36d39d(0x1b0))/0xa);if(_0x26f963===_0x45e32c)break;else _0x549add['push'](_0x549add['shift']());}catch(_0x26f343){_0x549add['push'](_0x549add['shift']());}}}(_0x3854,0x987f9));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x39d967=_0x5070;if('wakeLock'in navigator)try{wakeLock=await navigator['wakeLock'][_0x39d967(0x3fe)](_0x39d967(0x74f)),console['log'](_0x39d967(0x462)),wakeLock[_0x39d967(0x28c)](_0x39d967(0x153),()=>{console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x30aaf9){console['error']('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x30aaf9['name']+',\x20'+_0x30aaf9['message']);}else console[_0x39d967(0x45f)](_0x39d967(0x1c5));},releaseWakeLock=async()=>{const _0x5865e1=_0x5070;wakeLock!==null&&(await wakeLock[_0x5865e1(0x153)](),wakeLock=null,console[_0x5865e1(0x5fb)](_0x5865e1(0x175)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0xae0ffa=_0x5070;if(dimTimer)clearTimeout(dimTimer);document[_0xae0ffa(0x428)][_0xae0ffa(0x172)][_0xae0ffa(0x6a9)](_0xae0ffa(0x699)),dimTimer=setTimeout(()=>{const _0x285395=_0xae0ffa;document[_0x285395(0x428)][_0x285395(0x172)][_0x285395(0x96)](_0x285395(0x699)),console['log'](_0x285395(0x4be));},inactivityTime);}function stopDimTimer(){const _0x5742a4=_0x5070;if(dimTimer)clearTimeout(dimTimer);document[_0x5742a4(0x428)][_0x5742a4(0x172)]['remove']('dimmed'),window['removeEventListener'](_0x5742a4(0x677),resetDimTimer),window[_0x5742a4(0x21f)]('mousedown',resetDimTimer),window[_0x5742a4(0x21f)](_0x5742a4(0x687),resetDimTimer),window[_0x5742a4(0x21f)](_0x5742a4(0x9c),resetDimTimer),console[_0x5742a4(0x5fb)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x132f6e(0x35d)};const allMathTopics=[{'category':_0x132f6e(0x767),'name':_0x132f6e(0x2a7)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x753)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x7fa)},{'category':_0x132f6e(0x767),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x801)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x242)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0xc9)},{'category':'จำนวนและการดำเนินการ','name':'การหาร'},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x67c)},{'category':'จำนวนและการดำเนินการ','name':_0x132f6e(0x5a6)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x636)},{'category':'จำนวนและการดำเนินการ','name':_0x132f6e(0x54e)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x746)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x830)},{'category':_0x132f6e(0x767),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x132f6e(0x767),'name':_0x132f6e(0xe1)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x3ae)},{'category':_0x132f6e(0x767),'name':'อัตราและอัตราหน่วย'},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x6bc)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x4ba)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x6ec)},{'category':'จำนวนและการดำเนินการ','name':_0x132f6e(0x79c)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x5e3)},{'category':_0x132f6e(0x767),'name':'จำนวนคละ'},{'category':_0x132f6e(0x767),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x1d5)},{'category':'จำนวนและการดำเนินการ','name':_0x132f6e(0x167)},{'category':'จำนวนและการดำเนินการ','name':'การคูณทศนิยม'},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x17d)},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x132f6e(0x885)},{'category':_0x132f6e(0x767),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x132f6e(0x464)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x7b1)},{'category':'จำนวนและการดำเนินการ','name':_0x132f6e(0x4e7)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x1df)},{'category':_0x132f6e(0x767),'name':_0x132f6e(0x369)},{'category':_0x132f6e(0x358),'name':_0x132f6e(0x75f)},{'category':'การวัด','name':_0x132f6e(0x2bf)},{'category':_0x132f6e(0x358),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x132f6e(0x358),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x132f6e(0x358),'name':_0x132f6e(0x619)},{'category':_0x132f6e(0x358),'name':'เส้นรอบรูป'},{'category':'การวัด','name':_0x132f6e(0x13e)},{'category':'การวัด','name':_0x132f6e(0x4e3)},{'category':_0x132f6e(0x358),'name':_0x132f6e(0xd8)},{'category':'การวัด','name':_0x132f6e(0x4a7)},{'category':_0x132f6e(0x358),'name':_0x132f6e(0x40d)},{'category':_0x132f6e(0x358),'name':'มุมและการวัดมุม'},{'category':_0x132f6e(0x358),'name':_0x132f6e(0x85a)},{'category':_0x132f6e(0x358),'name':_0x132f6e(0x497)},{'category':_0x132f6e(0x123),'name':_0x132f6e(0x546)},{'category':_0x132f6e(0x123),'name':_0x132f6e(0x7d0)},{'category':_0x132f6e(0x123),'name':_0x132f6e(0x317)},{'category':_0x132f6e(0x123),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x132f6e(0x123),'name':_0x132f6e(0x638)},{'category':_0x132f6e(0x123),'name':'ความคล้ายของรูป'},{'category':_0x132f6e(0x123),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x132f6e(0x123),'name':_0x132f6e(0x697)},{'category':_0x132f6e(0x123),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x132f6e(0x123),'name':_0x132f6e(0x2f4)},{'category':_0x132f6e(0x123),'name':_0x132f6e(0x181)},{'category':_0x132f6e(0x123),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x132f6e(0x305)},{'category':'เรขาคณิต','name':_0x132f6e(0x6a7)},{'category':_0x132f6e(0x123),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x132f6e(0x895)},{'category':_0x132f6e(0x666),'name':'การกระจายและการจัดหมู่'},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x564)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแยกตัวประกอบ'},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x258)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x132f6e(0x8c3)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x132f6e(0x325)},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x346)},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x14e)},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x610)},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x78d)},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x33f)},{'category':_0x132f6e(0x666),'name':'อสมการเชิงเส้น'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x132f6e(0x45c)},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x86b)},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x1d3)},{'category':_0x132f6e(0x666),'name':'โดเมนและเรนจ์'},{'category':_0x132f6e(0x666),'name':'องค์ประกอบของฟังก์ชัน'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันผกผัน'},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x862)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x132f6e(0x1bc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x132f6e(0x18b)},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x7e4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x132f6e(0x857)},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x7b7)},{'category':_0x132f6e(0x666),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x132f6e(0x666),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x132f6e(0x666),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x132f6e(0x666),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x588)},{'category':_0x132f6e(0x666),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x5ac)},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x7e9)},{'category':_0x132f6e(0x666),'name':_0x132f6e(0x209)},{'category':_0x132f6e(0x58a),'name':_0x132f6e(0x50c)},{'category':_0x132f6e(0x58a),'name':_0x132f6e(0x4e5)},{'category':_0x132f6e(0x58a),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x132f6e(0x58a),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x132f6e(0x58a),'name':_0x132f6e(0x2e2)},{'category':_0x132f6e(0x58a),'name':_0x132f6e(0x641)},{'category':_0x132f6e(0x58a),'name':_0x132f6e(0x847)},{'category':_0x132f6e(0x58a),'name':_0x132f6e(0x6f1)},{'category':_0x132f6e(0x58a),'name':_0x132f6e(0x176)},{'category':_0x132f6e(0x399),'name':_0x132f6e(0x7a3)},{'category':_0x132f6e(0x399),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x132f6e(0x399),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x132f6e(0x399),'name':_0x132f6e(0x7ac)},{'category':'ตรีโกณมิติ','name':_0x132f6e(0x247)},{'category':_0x132f6e(0x399),'name':_0x132f6e(0x222)},{'category':_0x132f6e(0x399),'name':_0x132f6e(0xfd)},{'category':'ตรีโกณมิติ','name':_0x132f6e(0x193)},{'category':'ตรีโกณมิติ','name':_0x132f6e(0x53a)},{'category':_0x132f6e(0x399),'name':_0x132f6e(0x896)},{'category':_0x132f6e(0x399),'name':_0x132f6e(0x822)},{'category':'สถิติและความน่าจะเป็น','name':_0x132f6e(0x708)},{'category':_0x132f6e(0xdf),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x8ad)},{'category':'สถิติและความน่าจะเป็น','name':_0x132f6e(0x2cf)},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x327)},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x132f6e(0xdf),'name':'ค่าเฉลี่ย'},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x3c8)},{'category':'สถิติและความน่าจะเป็น','name':_0x132f6e(0x1bf)},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x860)},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x438)},{'category':'สถิติและความน่าจะเป็น','name':_0x132f6e(0x68e)},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x415)},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x271)},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x29b)},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x72c)},{'category':'สถิติและความน่าจะเป็น','name':'กฎบวกและกฎคูณ'},{'category':'สถิติและความน่าจะเป็น','name':_0x132f6e(0x29f)},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x4ac)},{'category':'สถิติและความน่าจะเป็น','name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x114)},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x199)},{'category':_0x132f6e(0xdf),'name':_0x132f6e(0x81b)},{'category':'สถิติและความน่าจะเป็น','name':_0x132f6e(0x639)},{'category':_0x132f6e(0x3a0),'name':'ลิมิต'},{'category':_0x132f6e(0x3a0),'name':_0x132f6e(0x72d)},{'category':_0x132f6e(0x3a0),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x132f6e(0x3a0),'name':_0x132f6e(0x51e)},{'category':_0x132f6e(0x3a0),'name':_0x132f6e(0x4ca)},{'category':_0x132f6e(0x3a0),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x132f6e(0x3a0),'name':_0x132f6e(0x6f5)},{'category':_0x132f6e(0x3a0),'name':_0x132f6e(0x8b6)},{'category':_0x132f6e(0x3a0),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x132f6e(0x3a0),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x132f6e(0x3a0),'name':_0x132f6e(0x4ef)},{'category':'แคลคูลัสเบื้องต้น','name':_0x132f6e(0x236)},{'category':_0x132f6e(0x3a0),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x132f6e(0x63a),'name':_0x132f6e(0x330)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x132f6e(0x336)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x132f6e(0x5cd)},{'category':_0x132f6e(0x63a),'name':_0x132f6e(0x1f9)},{'category':_0x132f6e(0x63a),'name':_0x132f6e(0xfa)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x132f6e(0x8a2)},{'category':_0x132f6e(0x12e),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x132f6e(0x12e),'name':_0x132f6e(0x15f)},{'category':_0x132f6e(0x12e),'name':_0x132f6e(0x590)},{'category':_0x132f6e(0x12e),'name':_0x132f6e(0x5c9)},{'category':_0x132f6e(0x12e),'name':_0x132f6e(0x902)},{'category':_0x132f6e(0x7ee),'name':_0x132f6e(0x8cf)},{'category':_0x132f6e(0x7ee),'name':_0x132f6e(0x365)},{'category':_0x132f6e(0x7ee),'name':_0x132f6e(0x656)}];function renderTopicCheckboxes(){const _0x48c5bd=_0x132f6e,_0x2ff91f=document[_0x48c5bd(0x2ae)]('math-topics-checkbox-container');if(!_0x2ff91f)return;const _0x5251b1=allMathTopics,_0x5490c6=customMathTopics[_0x48c5bd(0x58e)](_0x13cf7d=>({'id':_0x13cf7d['id'],'category':_0x48c5bd(0x38b),'name':_0x13cf7d[_0x48c5bd(0x54f)]})),_0x46a514=[..._0x5251b1,..._0x5490c6],_0x8132a5=_0x46a514[_0x48c5bd(0x44b)]((_0x377ab3,_0x47657e)=>{const _0x242abf=_0x48c5bd;return!_0x377ab3[_0x47657e[_0x242abf(0x4f0)]]&&(_0x377ab3[_0x47657e[_0x242abf(0x4f0)]]=[]),_0x377ab3[_0x47657e[_0x242abf(0x4f0)]][_0x242abf(0x57d)](_0x47657e),_0x377ab3;},{});let _0x17764a='';const _0x5e8545=['หัวข้อที่สร้างเอง',...Object['keys'](_0x8132a5)[_0x48c5bd(0x2ca)](_0x25f939=>_0x25f939!==_0x48c5bd(0x38b))];for(const _0x2fa9e3 of _0x5e8545){if(_0x8132a5[_0x2fa9e3]){const _0xbcb78c=_0x2fa9e3==='หัวข้อที่สร้างเอง',_0x17b61c=_0xbcb78c?_0x48c5bd(0x3c7):_0x48c5bd(0x437),_0x53cebc=_0xbcb78c?_0x48c5bd(0x71d):_0x48c5bd(0x6b1);_0x17764a+=_0x48c5bd(0x456),_0x17764a+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x53cebc+_0x48c5bd(0x1cd)+_0x17b61c+_0x48c5bd(0x279)+_0x2fa9e3+_0x48c5bd(0x2be),_0x8132a5[_0x2fa9e3][_0x48c5bd(0x7db)](_0x175840=>{const _0x5da545=_0x48c5bd,_0xe168b2=!!_0x175840['id'],_0x11deb9=_0xe168b2?_0x5da545(0x121)+_0x175840['id']+_0x5da545(0x643)+_0x175840['id']+_0x5da545(0x5fa)+_0x175840['id']+_0x5da545(0xc2)+_0x175840['id']+_0x5da545(0x4e0):'';_0x17764a+=_0x5da545(0x8a6)+(_0x175840['id']||'')+_0x5da545(0x6d8)+_0x175840[_0x5da545(0x54f)]+_0x5da545(0x2b6)+_0x175840[_0x5da545(0x54f)]+_0x5da545(0x341)+(_0xe168b2?_0x5da545(0x2e7)+_0x175840[_0x5da545(0x54f)]+'\x22>':'')+_0x5da545(0x2c0)+_0x11deb9+_0x5da545(0x43c);}),_0x17764a+='</div>';}}_0x2ff91f[_0x48c5bd(0x299)]=_0x17764a||_0x48c5bd(0x743),_0x2ff91f[_0x48c5bd(0x21f)]('change',updateSelectedTopicsCount),_0x2ff91f[_0x48c5bd(0x28c)](_0x48c5bd(0x261),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5db0c1,_0x45b9dc){const _0x390a45=_0x132f6e;if(!_0x5db0c1||!_0x45b9dc[_0x390a45(0x1a0)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x39a3a3=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x5db0c1);await updateDoc(_0x39a3a3,{'name':_0x45b9dc[_0x390a45(0x1a0)]()}),showMessage(_0x390a45(0x36b));}catch(_0x43e13d){console[_0x390a45(0x6e4)]('Error\x20updating\x20custom\x20topic:',_0x43e13d),showMessage(_0x390a45(0x41c));}}function toggleTopicEditMode(_0xd75830,_0xe840a0){const _0x3a3961=_0x132f6e;if(!_0xd75830)return;const _0x2c9992=_0xd75830[_0x3a3961(0x5b4)]('.topic-name-display'),_0x30432c=_0xd75830[_0x3a3961(0x5b4)]('.topic-name-input'),_0x1bf248=_0xd75830[_0x3a3961(0x5b4)](_0x3a3961(0x343)),_0x49d2e6=_0xd75830['querySelector'](_0x3a3961(0x184));_0x2c9992[_0x3a3961(0x172)]['toggle']('hidden',_0xe840a0),_0x30432c['classList'][_0x3a3961(0x223)]('hidden',!_0xe840a0),_0x1bf248[_0x3a3961(0x172)][_0x3a3961(0x223)]('hidden',_0xe840a0),_0x49d2e6[_0x3a3961(0x172)][_0x3a3961(0x223)](_0x3a3961(0x5cb),!_0xe840a0),_0xe840a0&&(_0x30432c[_0x3a3961(0x4ad)](),_0x30432c[_0x3a3961(0x5d9)]());}function updateSelectedTopicsCount(){const _0x48a6ed=_0x132f6e,_0x3fb39a=document['getElementById']('math-topics-checkbox-container'),_0x3f0e2f=_0x3fb39a[_0x48a6ed(0x2b5)](_0x48a6ed(0x83f))[_0x48a6ed(0x409)],_0x49c003=document[_0x48a6ed(0x2ae)](_0x48a6ed(0x17b));_0x3f0e2f>0x0?_0x49c003[_0x48a6ed(0x60a)]=_0x48a6ed(0x163)+_0x3f0e2f+_0x48a6ed(0x861):_0x49c003[_0x48a6ed(0x60a)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x132f6e(0x5c0),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x132f6e(0x192),scratchpadPenColor=_0x132f6e(0x3dc),scratchpadPenSize=0x5;function getDistance(_0x5cfcdd,_0x4e4d50){const _0x3eaacd=_0x132f6e;return Math[_0x3eaacd(0x5a8)](Math[_0x3eaacd(0x6f3)](_0x5cfcdd['x']-_0x4e4d50['x'],0x2)+Math[_0x3eaacd(0x6f3)](_0x5cfcdd['y']-_0x4e4d50['y'],0x2));}function getMidpoint(_0x1a2668,_0x56bb8d){return{'x':(_0x1a2668['x']+_0x56bb8d['x'])/0x2,'y':(_0x1a2668['y']+_0x56bb8d['y'])/0x2};}function getTransformedPoint(_0x476286,_0x4e81ae){return{'x':(_0x476286-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4e81ae-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x3d3548=_0x132f6e;if(!scratchpadCtx)return;const _0x405a57=scratchpadCtx['canvas'],_0x3d533b=window['devicePixelRatio']||0x1,_0x502294=document[_0x3d3548(0x2ae)](_0x3d3548(0x27c));_0x502294&&(_0x502294['style'][_0x3d3548(0xb5)]=_0x3d3548(0x524),_0x502294[_0x3d3548(0x51a)][_0x3d3548(0x487)]=_0x3d3548(0x704)+scratchpadOffset['x']+_0x3d3548(0x3d5)+scratchpadOffset['y']+_0x3d3548(0x74d)+scratchpadScale+_0x3d3548(0x574)),scratchpadCtx[_0x3d3548(0x559)](),scratchpadCtx[_0x3d3548(0x15c)](_0x3d533b,0x0,0x0,_0x3d533b,0x0,0x0),scratchpadCtx[_0x3d3548(0xdc)](0x0,0x0,_0x405a57[_0x3d3548(0x64e)],_0x405a57[_0x3d3548(0x51f)]),scratchpadCtx['restore'](),scratchpadCtx[_0x3d3548(0x559)](),scratchpadCtx[_0x3d3548(0x403)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x3d3548(0x782)](scratchpadScale,scratchpadScale),strokes[_0x3d3548(0x7db)](_0x325ec5=>{drawStroke(_0x325ec5);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function handlePointerDown(_0x228968){const _0x3b3942=_0x132f6e;_0x228968[_0x3b3942(0x75b)]();const _0x235065=scratchpadCtx[_0x3b3942(0x851)],_0x4f014f=_0x235065['getBoundingClientRect'](),_0x3a2579=_0x228968[_0x3b3942(0x4f4)]||(_0x228968['touches']?_0x3b3942(0x63b):_0x3b3942(0x244));if(_0x3a2579==='pen'||_0x3a2579==='mouse'){if(_0x228968[_0x3b3942(0x4f4)]===_0x3b3942(0x244)){if(_0x228968[_0x3b3942(0x765)]===0x1){isMousePanning=!![],panStart={'x':_0x228968[_0x3b3942(0x738)],'y':_0x228968[_0x3b3942(0x16e)]},_0x235065[_0x3b3942(0x51a)][_0x3b3942(0x660)]=_0x3b3942(0x4fc);return;}if(_0x228968[_0x3b3942(0x765)]!==0x0)return;}isDrawingOnScratchpad=!![],redoStrokes=[];const _0x2ea21b=getTransformedPoint(_0x228968[_0x3b3942(0x738)]-_0x4f014f['left'],_0x228968[_0x3b3942(0x16e)]-_0x4f014f['top']);currentStroke={'tool':activeTool,'color':scratchpadPenColor,'size':scratchpadPenSize,'points':[_0x2ea21b],'createdAt':activeTool==='trail'?Date[_0x3b3942(0x667)]():null};}else _0x228968[_0x3b3942(0x308)]&&(_0x228968[_0x3b3942(0x308)][_0x3b3942(0x409)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x228968['touches'][0x0][_0x3b3942(0x738)],'y':_0x228968[_0x3b3942(0x308)][0x0]['clientY']},{'x':_0x228968[_0x3b3942(0x308)][0x1][_0x3b3942(0x738)],'y':_0x228968[_0x3b3942(0x308)][0x1][_0x3b3942(0x16e)]}),initialPinchDistance=getDistance({'x':_0x228968['touches'][0x0][_0x3b3942(0x738)],'y':_0x228968[_0x3b3942(0x308)][0x0][_0x3b3942(0x16e)]},{'x':_0x228968[_0x3b3942(0x308)][0x1][_0x3b3942(0x738)],'y':_0x228968[_0x3b3942(0x308)][0x1][_0x3b3942(0x16e)]})));}function animateTrail(){const _0x3df64c=_0x132f6e,_0x50c8a5=Date[_0x3df64c(0x667)]();let _0x48d954=![];strokes[_0x3df64c(0x7db)](_0x26de5d=>{const _0x338e2c=_0x3df64c;if(_0x26de5d[_0x338e2c(0x32f)]===_0x338e2c(0x43e)){const _0x432598=_0x50c8a5-_0x26de5d['createdAt'];_0x432598<TRAIL_DURATION?(_0x26de5d[_0x338e2c(0x5d5)]=0x1-_0x432598/TRAIL_DURATION,_0x48d954=!![]):_0x26de5d[_0x338e2c(0x5d5)]=0x0;}}),strokes=strokes[_0x3df64c(0x2ca)](_0x265fcf=>_0x265fcf[_0x3df64c(0x32f)]!=='trail'||_0x265fcf[_0x3df64c(0x5d5)]>0x0),redrawScratchpad(),_0x48d954?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x15b086){const _0x566ad8=_0x132f6e;if(!_0x15b086||_0x15b086['points']['length']<0x1)return;scratchpadCtx[_0x566ad8(0x559)](),scratchpadCtx['lineJoin']=_0x566ad8(0x2f5),scratchpadCtx[_0x566ad8(0x196)]=_0x566ad8(0x2f5);if(_0x15b086[_0x566ad8(0x32f)]==='trail'){scratchpadCtx[_0x566ad8(0x5da)]=_0x15b086[_0x566ad8(0x5d5)],scratchpadCtx['shadowColor']=_0x566ad8(0x794),scratchpadCtx[_0x566ad8(0x4d7)]=_0x15b086[_0x566ad8(0x6ff)]*0x3,scratchpadCtx[_0x566ad8(0x542)]=_0x566ad8(0x1aa),scratchpadCtx[_0x566ad8(0x7c2)]=_0x15b086[_0x566ad8(0x6ff)]*2.5,scratchpadCtx[_0x566ad8(0x4c8)](),scratchpadCtx[_0x566ad8(0x684)](_0x15b086[_0x566ad8(0x824)][0x0]['x'],_0x15b086['points'][0x0]['y']);for(let _0xbc5e9=0x1;_0xbc5e9<_0x15b086['points'][_0x566ad8(0x409)]-0x1;_0xbc5e9++){const _0x170749=_0x15b086[_0x566ad8(0x824)][_0xbc5e9],_0x586d65=_0x15b086[_0x566ad8(0x824)][_0xbc5e9+0x1],_0x465d91={'x':(_0x170749['x']+_0x586d65['x'])/0x2,'y':(_0x170749['y']+_0x586d65['y'])/0x2};scratchpadCtx[_0x566ad8(0x76a)](_0x170749['x'],_0x170749['y'],_0x465d91['x'],_0x465d91['y']);}scratchpadCtx[_0x566ad8(0x7a2)](),scratchpadCtx['closePath'](),scratchpadCtx[_0x566ad8(0x404)]=_0x566ad8(0x601),scratchpadCtx[_0x566ad8(0x4d7)]=0x0,scratchpadCtx[_0x566ad8(0x542)]=_0x566ad8(0x384),scratchpadCtx[_0x566ad8(0x7c2)]=_0x15b086[_0x566ad8(0x6ff)],scratchpadCtx[_0x566ad8(0x4c8)](),scratchpadCtx[_0x566ad8(0x684)](_0x15b086[_0x566ad8(0x824)][0x0]['x'],_0x15b086[_0x566ad8(0x824)][0x0]['y']);for(let _0x427e84=0x1;_0x427e84<_0x15b086[_0x566ad8(0x824)][_0x566ad8(0x409)]-0x1;_0x427e84++){const _0x277bdf=_0x15b086[_0x566ad8(0x824)][_0x427e84],_0x2b2c2f=_0x15b086[_0x566ad8(0x824)][_0x427e84+0x1],_0x51f66e={'x':(_0x277bdf['x']+_0x2b2c2f['x'])/0x2,'y':(_0x277bdf['y']+_0x2b2c2f['y'])/0x2};scratchpadCtx[_0x566ad8(0x76a)](_0x277bdf['x'],_0x277bdf['y'],_0x51f66e['x'],_0x51f66e['y']);}scratchpadCtx[_0x566ad8(0x7a2)](),scratchpadCtx[_0x566ad8(0x116)]();}else{scratchpadCtx['globalCompositeOperation']=_0x15b086[_0x566ad8(0x32f)]===_0x566ad8(0x4ab)?_0x566ad8(0x4a4):_0x566ad8(0x1e4),scratchpadCtx[_0x566ad8(0x542)]=_0x15b086[_0x566ad8(0x19a)],scratchpadCtx[_0x566ad8(0x7c2)]=_0x15b086[_0x566ad8(0x6ff)],scratchpadCtx[_0x566ad8(0x4c8)](),scratchpadCtx[_0x566ad8(0x684)](_0x15b086[_0x566ad8(0x824)][0x0]['x'],_0x15b086[_0x566ad8(0x824)][0x0]['y']);for(let _0x33bfff=0x1;_0x33bfff<_0x15b086[_0x566ad8(0x824)]['length']-0x1;_0x33bfff++){const _0x2e2f16=_0x15b086[_0x566ad8(0x824)][_0x33bfff],_0x5c4aa2=_0x15b086[_0x566ad8(0x824)][_0x33bfff+0x1],_0x3d25b7={'x':(_0x2e2f16['x']+_0x5c4aa2['x'])/0x2,'y':(_0x2e2f16['y']+_0x5c4aa2['y'])/0x2};scratchpadCtx[_0x566ad8(0x76a)](_0x2e2f16['x'],_0x2e2f16['y'],_0x3d25b7['x'],_0x3d25b7['y']);}scratchpadCtx[_0x566ad8(0x7a2)](),scratchpadCtx[_0x566ad8(0x116)]();}scratchpadCtx[_0x566ad8(0x7c3)]();}function handlePointerMove(_0x5c2b82){const _0x4e69ec=_0x132f6e;_0x5c2b82[_0x4e69ec(0x75b)]();const _0x40e03d=scratchpadCtx['canvas'],_0x255bd1=_0x40e03d[_0x4e69ec(0x70c)]();if(_0x5c2b82[_0x4e69ec(0x308)]){if(_0x5c2b82[_0x4e69ec(0x308)][_0x4e69ec(0x409)]===0x1&&isDrawingOnScratchpad){const _0x264954=getTransformedPoint(_0x5c2b82['touches'][0x0][_0x4e69ec(0x738)]-_0x255bd1[_0x4e69ec(0x6b8)],_0x5c2b82[_0x4e69ec(0x308)][0x0][_0x4e69ec(0x16e)]-_0x255bd1[_0x4e69ec(0x6a4)]);currentStroke[_0x4e69ec(0x824)][_0x4e69ec(0x57d)](_0x264954),redrawScratchpad();}else{if(_0x5c2b82[_0x4e69ec(0x308)][_0x4e69ec(0x409)]===0x2&&isPanning){const _0x41e962=getDistance({'x':_0x5c2b82['touches'][0x0]['clientX'],'y':_0x5c2b82['touches'][0x0]['clientY']},{'x':_0x5c2b82[_0x4e69ec(0x308)][0x1]['clientX'],'y':_0x5c2b82[_0x4e69ec(0x308)][0x1][_0x4e69ec(0x16e)]}),_0x3aad8f=getMidpoint({'x':_0x5c2b82[_0x4e69ec(0x308)][0x0][_0x4e69ec(0x738)],'y':_0x5c2b82[_0x4e69ec(0x308)][0x0]['clientY']},{'x':_0x5c2b82[_0x4e69ec(0x308)][0x1][_0x4e69ec(0x738)],'y':_0x5c2b82[_0x4e69ec(0x308)][0x1][_0x4e69ec(0x16e)]}),_0x48c1d0=_0x41e962/ initialPinchDistance,_0x6de771=Math['min'](Math[_0x4e69ec(0x405)](scratchpadScale*_0x48c1d0,MIN_SCALE),MAX_SCALE),_0xfe3a5e=_0x3aad8f['x']-panStart['x'],_0x10edce=_0x3aad8f['y']-panStart['y'];scratchpadOffset['x']=_0x3aad8f['x']-(_0x3aad8f['x']-scratchpadOffset['x'])*(_0x6de771/scratchpadScale),scratchpadOffset['y']=_0x3aad8f['y']-(_0x3aad8f['y']-scratchpadOffset['y'])*(_0x6de771/scratchpadScale),scratchpadOffset['x']+=_0xfe3a5e,scratchpadOffset['y']+=_0x10edce,scratchpadScale=_0x6de771,initialPinchDistance=_0x41e962,panStart=_0x3aad8f,redrawScratchpad();}}}else{if(isMousePanning){const _0x32016d=_0x5c2b82[_0x4e69ec(0x738)]-panStart['x'],_0x5f4963=_0x5c2b82[_0x4e69ec(0x16e)]-panStart['y'];scratchpadOffset['x']+=_0x32016d,scratchpadOffset['y']+=_0x5f4963,panStart={'x':_0x5c2b82[_0x4e69ec(0x738)],'y':_0x5c2b82[_0x4e69ec(0x16e)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x178930=getTransformedPoint(_0x5c2b82['clientX']-_0x255bd1['left'],_0x5c2b82['clientY']-_0x255bd1['top']);currentStroke[_0x4e69ec(0x824)][_0x4e69ec(0x57d)](_0x178930),redrawScratchpad();}}}}function handlePointerUp(_0x570fae){const _0x28745a=_0x132f6e;_0x570fae['preventDefault']();const _0x10679c=scratchpadCtx[_0x28745a(0x851)];isMousePanning&&(isMousePanning=![],_0x10679c['style'][_0x28745a(0x660)]=_0x28745a(0x43d)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x28745a(0x824)][_0x28745a(0x409)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x28745a(0x32f)]===_0x28745a(0x43e)&&startTrailAnimation()),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x676cf6){const _0x2a3cfc=_0x132f6e;_0x676cf6['preventDefault']();const _0x1c1f77=_0x676cf6[_0x2a3cfc(0x3ed)]*-0.005,_0x5641ec=Math[_0x2a3cfc(0x55b)](Math[_0x2a3cfc(0x405)](scratchpadScale+_0x1c1f77,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x676cf6['clientX']-(_0x676cf6[_0x2a3cfc(0x738)]-scratchpadOffset['x'])*(_0x5641ec/scratchpadScale),scratchpadOffset['y']=_0x676cf6[_0x2a3cfc(0x16e)]-(_0x676cf6['clientY']-scratchpadOffset['y'])*(_0x5641ec/scratchpadScale),scratchpadScale=_0x5641ec,redrawScratchpad();}function undo(){const _0x1e987a=_0x132f6e;strokes[_0x1e987a(0x409)]>0x0&&(redoStrokes['push'](strokes[_0x1e987a(0x796)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5ba8ea=_0x132f6e;redoStrokes[_0x5ba8ea(0x409)]>0x0&&(strokes[_0x5ba8ea(0x57d)](redoStrokes[_0x5ba8ea(0x796)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x5f4a1d=_0x132f6e;document[_0x5f4a1d(0x2ae)]('undo-btn')['disabled']=strokes[_0x5f4a1d(0x409)]===0x0,document[_0x5f4a1d(0x2ae)](_0x5f4a1d(0x159))[_0x5f4a1d(0x4b3)]=redoStrokes[_0x5f4a1d(0x409)]===0x0;}function openScratchpad(_0xb4d560,_0x1d1bad){const _0x558248=_0x132f6e,_0x2b2f19=document[_0x558248(0x2ae)](_0x558248(0x36a)),_0x29814e=document[_0x558248(0x2ae)](_0x558248(0x754)),_0x4f53b5=document[_0x558248(0x2ae)](_0x558248(0x35c)),_0x1069d5=document[_0x558248(0x2ae)](_0x558248(0x70d));_0x29814e[_0x558248(0x60a)]=_0xb4d560[_0x558248(0x20b)]||_0xb4d560['questionText'],_0x4f53b5[_0x558248(0x299)]=_0x1d1bad[_0x558248(0x58e)]((_0x42bfd7,_0x13df65)=>_0x558248(0x888)+String[_0x558248(0x31f)](0x41+_0x13df65)+'.\x20'+_0x42bfd7+_0x558248(0x303))[_0x558248(0x548)](''),_0x1069d5[_0x558248(0x299)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x2b2f19['classList'][_0x558248(0x6a9)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x558248(0x530)])MathJax[_0x558248(0x8dc)]([_0x29814e,_0x4f53b5]);}function initializeScratchpadCanvas(){const _0x73556a=_0x132f6e,_0x30b9b7=document[_0x73556a(0x2ae)](_0x73556a(0x6a1)),_0x978087=document[_0x73556a(0x5b4)]('.scratchpad-content-wrapper');if(!_0x30b9b7||!_0x978087)return;scratchpadCtx=_0x30b9b7['getContext']('2d',{'willReadFrequently':!![]});const _0x521fdf=window[_0x73556a(0x69a)]||0x1,_0x3f0485=_0x978087[_0x73556a(0x70c)]();_0x30b9b7['width']=_0x3f0485['width']*_0x521fdf,_0x30b9b7[_0x73556a(0x51f)]=_0x3f0485[_0x73556a(0x51f)]*_0x521fdf,_0x30b9b7[_0x73556a(0x51a)][_0x73556a(0x64e)]=_0x3f0485[_0x73556a(0x64e)]+'px',_0x30b9b7[_0x73556a(0x51a)][_0x73556a(0x51f)]=_0x3f0485[_0x73556a(0x51f)]+'px',scratchpadCtx['scale'](_0x521fdf,_0x521fdf),scratchpadCtx[_0x73556a(0x149)]=_0x73556a(0x2f5),scratchpadCtx[_0x73556a(0x196)]=_0x73556a(0x2f5),_0x30b9b7[_0x73556a(0x21f)](_0x73556a(0x3e1),handlePointerDown),_0x30b9b7[_0x73556a(0x21f)]('pointermove',handlePointerMove),_0x30b9b7['removeEventListener'](_0x73556a(0x907),handlePointerUp),_0x30b9b7[_0x73556a(0x21f)]('pointercancel',handlePointerUp),_0x30b9b7[_0x73556a(0x21f)]('wheel',handleWheel),_0x30b9b7['removeEventListener'](_0x73556a(0x687),handlePointerDown),_0x30b9b7[_0x73556a(0x21f)]('touchmove',handlePointerMove),_0x30b9b7[_0x73556a(0x21f)]('touchend',handlePointerUp),_0x30b9b7[_0x73556a(0x28c)]('pointerdown',handlePointerDown),_0x30b9b7[_0x73556a(0x28c)](_0x73556a(0x79d),handlePointerMove),_0x30b9b7[_0x73556a(0x28c)](_0x73556a(0x907),handlePointerUp),_0x30b9b7[_0x73556a(0x28c)](_0x73556a(0xe5),handlePointerUp),_0x30b9b7[_0x73556a(0x28c)](_0x73556a(0x1b8),handleWheel,{'passive':![]}),_0x30b9b7[_0x73556a(0x28c)](_0x73556a(0x687),handlePointerDown,{'passive':![]}),_0x30b9b7[_0x73556a(0x28c)](_0x73556a(0x28f),handlePointerMove,{'passive':![]}),_0x30b9b7[_0x73556a(0x28c)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x41cc18=_0x132f6e,_0x3a5e63=document[_0x41cc18(0x2ae)](_0x41cc18(0x36a));document[_0x41cc18(0x2ae)](_0x41cc18(0xb2))[_0x41cc18(0x28c)]('click',()=>_0x3a5e63[_0x41cc18(0x172)][_0x41cc18(0x96)](_0x41cc18(0x5cb))),document[_0x41cc18(0x2ae)](_0x41cc18(0x255))['addEventListener'](_0x41cc18(0x39a),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x41cc18(0x2ae)](_0x41cc18(0x143))[_0x41cc18(0x28c)](_0x41cc18(0x39a),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x41cc18(0x2ae)](_0x41cc18(0x821))[_0x41cc18(0x28c)](_0x41cc18(0x39a),undo),document['getElementById']('redo-btn')[_0x41cc18(0x28c)]('click',redo),document['querySelectorAll'](_0x41cc18(0x575))['forEach'](_0x136fe5=>{const _0x396e2f=_0x41cc18;_0x136fe5['addEventListener'](_0x396e2f(0x39a),()=>{const _0x392f90=_0x396e2f;scratchpadPenSize=parseInt(_0x136fe5[_0x392f90(0x41a)][_0x392f90(0x6ff)],0xa),document[_0x392f90(0x2b5)](_0x392f90(0x575))[_0x392f90(0x7db)](_0xee27b2=>_0xee27b2[_0x392f90(0x172)][_0x392f90(0x6a9)]('active')),_0x136fe5[_0x392f90(0x172)][_0x392f90(0x96)](_0x392f90(0x298));});});const _0x5b2ea8=document[_0x41cc18(0x2ae)]('pen-tool-btn'),_0x5967c8=document[_0x41cc18(0x2ae)]('eraser-tool-btn'),_0x1f2fa5=document[_0x41cc18(0x2ae)](_0x41cc18(0x11d));_0x5b2ea8[_0x41cc18(0x28c)](_0x41cc18(0x39a),()=>{const _0x37d3a6=_0x41cc18;activeTool=_0x37d3a6(0x192),_0x5b2ea8[_0x37d3a6(0x172)][_0x37d3a6(0x96)]('active'),_0x5967c8['classList'][_0x37d3a6(0x6a9)](_0x37d3a6(0x298)),_0x1f2fa5[_0x37d3a6(0x172)]['remove'](_0x37d3a6(0x298));}),_0x5967c8[_0x41cc18(0x28c)]('click',()=>{const _0x5194b1=_0x41cc18;activeTool=_0x5194b1(0x4ab),_0x5967c8[_0x5194b1(0x172)]['add'](_0x5194b1(0x298)),_0x5b2ea8[_0x5194b1(0x172)][_0x5194b1(0x6a9)]('active'),_0x1f2fa5[_0x5194b1(0x172)][_0x5194b1(0x6a9)]('active');}),_0x1f2fa5[_0x41cc18(0x28c)](_0x41cc18(0x39a),()=>{const _0x37f2ac=_0x41cc18;activeTool=_0x37f2ac(0x43e),_0x1f2fa5[_0x37f2ac(0x172)][_0x37f2ac(0x96)](_0x37f2ac(0x298)),_0x5b2ea8[_0x37f2ac(0x172)][_0x37f2ac(0x6a9)](_0x37f2ac(0x298)),_0x5967c8[_0x37f2ac(0x172)]['remove']('active');}),document['querySelectorAll']('.pen-color-btn')[_0x41cc18(0x7db)](_0x487ebd=>{const _0x2c2f97=_0x41cc18;_0x487ebd[_0x2c2f97(0x28c)](_0x2c2f97(0x39a),()=>{const _0x51b5b5=_0x2c2f97;scratchpadPenColor=_0x487ebd[_0x51b5b5(0x41a)][_0x51b5b5(0x19a)],activeTool=_0x51b5b5(0x192),_0x5b2ea8[_0x51b5b5(0x172)][_0x51b5b5(0x96)](_0x51b5b5(0x298)),_0x5967c8[_0x51b5b5(0x172)][_0x51b5b5(0x6a9)](_0x51b5b5(0x298)),document[_0x51b5b5(0x2b5)]('.pen-color-btn')[_0x51b5b5(0x7db)](_0x5237af=>_0x5237af['classList'][_0x51b5b5(0x6a9)](_0x51b5b5(0x298))),_0x487ebd['classList']['add'](_0x51b5b5(0x298));});}),document[_0x41cc18(0x5b4)](_0x41cc18(0x322))[_0x41cc18(0x172)][_0x41cc18(0x96)](_0x41cc18(0x298)),window[_0x41cc18(0x28c)](_0x41cc18(0xcd),()=>{const _0x4a1d83=_0x41cc18;!_0x3a5e63[_0x4a1d83(0x172)]['contains'](_0x4a1d83(0x5cb))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x132f6e(0x351),'name':_0x132f6e(0x506),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x132f6e(0x889)},'QUICK_THINKER':{'id':_0x132f6e(0x729),'name':_0x132f6e(0x2de),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x132f6e(0x4a9)},'ON_FIRE':{'id':_0x132f6e(0xe3),'name':_0x132f6e(0x128),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x132f6e(0x6e3)},'FIRST_TRY_ACE':{'id':_0x132f6e(0x156),'name':_0x132f6e(0x887),'description':_0x132f6e(0x74a),'icon':_0x132f6e(0x2eb)},'COMEBACK_KING':{'id':'comeback_king','name':'ราชาคัมแบ็ก','description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x132f6e(0x86d)},'SPECIALIST':{'id':_0x132f6e(0x171),'name':_0x132f6e(0x1d0),'description':_0x132f6e(0x296),'icon':_0x132f6e(0x82a)},'PERSEVERANCE':{'id':_0x132f6e(0x4d8),'name':_0x132f6e(0x762),'description':_0x132f6e(0x1da),'icon':_0x132f6e(0x6eb)}},firebaseConfig={'apiKey':_0x132f6e(0x183),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x132f6e(0x67a),'storageBucket':_0x132f6e(0x251),'messagingSenderId':_0x132f6e(0x36e),'appId':_0x132f6e(0x49e),'measurementId':_0x132f6e(0x259)},appId=typeof __app_id!==_0x132f6e(0xc0)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x132f6e(0x2ae)](_0x132f6e(0x59c)),studentView=document[_0x132f6e(0x2ae)](_0x132f6e(0x353)),projectDashboardView=document['getElementById'](_0x132f6e(0x375)),projectDetailView=document[_0x132f6e(0x2ae)](_0x132f6e(0x306)),quizResultsView=document[_0x132f6e(0x2ae)](_0x132f6e(0x72b)),projectList=document[_0x132f6e(0x2ae)](_0x132f6e(0x79b)),noProjectsMsg=document[_0x132f6e(0x2ae)](_0x132f6e(0x14a)),projectTitle=document[_0x132f6e(0x2ae)](_0x132f6e(0x3de)),projectIdDisplay=document[_0x132f6e(0x2ae)]('project-id-display'),studentList=document[_0x132f6e(0x2ae)](_0x132f6e(0x27b)),messageModal=document['getElementById']('message-modal'),modalMessage=document['getElementById'](_0x132f6e(0xe8)),createProjectModal=document[_0x132f6e(0x2ae)]('create-project-modal'),adminPasswordModal=document['getElementById']('admin-password-modal'),confirmationModal=document[_0x132f6e(0x2ae)]('confirmation-modal'),userIdDisplay=document[_0x132f6e(0x2ae)](_0x132f6e(0x515)),topicTab=document[_0x132f6e(0x2ae)](_0x132f6e(0x146)),textTab=document[_0x132f6e(0x2ae)]('text-tab'),topicInputArea=document[_0x132f6e(0x2ae)](_0x132f6e(0x55c)),textInputArea=document['getElementById'](_0x132f6e(0x1af)),manageTab=document[_0x132f6e(0x2ae)](_0x132f6e(0x76d)),resultsTab=document[_0x132f6e(0x2ae)]('results-tab'),leaderboardTab=document['getElementById'](_0x132f6e(0x396)),manageTabContent=document[_0x132f6e(0x2ae)](_0x132f6e(0x284)),resultsTabContent=document[_0x132f6e(0x2ae)](_0x132f6e(0x4c7)),leaderboardTabContent=document[_0x132f6e(0x2ae)]('leaderboard-tab-content'),projectQuizzesList=document[_0x132f6e(0x2ae)](_0x132f6e(0x35b)),fileTab=document[_0x132f6e(0x2ae)](_0x132f6e(0x3ee)),fileInputArea=document[_0x132f6e(0x2ae)](_0x132f6e(0x4a3)),fileUploadInput=document[_0x132f6e(0x2ae)]('file-upload-input'),worksheetTab=document[_0x132f6e(0x2ae)]('worksheet-tab'),worksheetInputArea=document[_0x132f6e(0x2ae)]('worksheet-input-area'),generateWorksheetBtn=document['getElementById'](_0x132f6e(0x60e)),studentInitialView=document[_0x132f6e(0x2ae)](_0x132f6e(0x804)),studentNameSelectionView=document[_0x132f6e(0x2ae)](_0x132f6e(0x8f3)),studentQuizArea=document['getElementById'](_0x132f6e(0x8ae)),studentResultArea=document['getElementById'](_0x132f6e(0x5d7)),studentReadingArea=document[_0x132f6e(0x2ae)](_0x132f6e(0x86a)),loadQuizBtn=document[_0x132f6e(0x2ae)](_0x132f6e(0x2e6)),startQuizBtn=document[_0x132f6e(0x2ae)]('start-quiz-btn'),studentJoinGameView=document['getElementById']('student-join-game-view'),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document[_0x132f6e(0x2ae)](_0x132f6e(0x4ec)),moveQuizModal=document[_0x132f6e(0x2ae)]('move-quiz-modal'),quizSettingsModal=document[_0x132f6e(0x2ae)](_0x132f6e(0x276)),quizStatusModal=document['getElementById'](_0x132f6e(0x216)),liveGameView=document['getElementById'](_0x132f6e(0x8b4));function handleAutoFixLatex(){const _0x4d0596=_0x132f6e,_0x2963c4=document[_0x4d0596(0x2ae)](_0x4d0596(0x6bd))||document,_0x5a294e=_0x2963c4[_0x4d0596(0x2b5)](['textarea',_0x4d0596(0x401),_0x4d0596(0x1eb),_0x4d0596(0x450),_0x4d0596(0x89e),_0x4d0596(0x321),_0x4d0596(0x197),_0x4d0596(0x364),_0x4d0596(0x61a)][_0x4d0596(0x548)](','));let _0x2992a6=0x0;const _0x156a7c=_0x144008=>_0x4d0596(0x864)in _0x144008?String(_0x144008[_0x4d0596(0x864)]):_0x144008['innerText']!==undefined?_0x144008[_0x4d0596(0x2cd)]:_0x144008[_0x4d0596(0x60a)]||'',_0xdee1b6=(_0x497321,_0x15bc33)=>{const _0x5a8207=_0x4d0596;if(_0x5a8207(0x864)in _0x497321){_0x497321[_0x5a8207(0x864)]=_0x15bc33;return;}if(_0x497321[_0x5a8207(0x5b4)]&&_0x497321[_0x5a8207(0x5b4)](_0x5a8207(0x349)))return;if(_0x497321['innerText']!==undefined)_0x497321[_0x5a8207(0x2cd)]=_0x15bc33;else _0x497321[_0x5a8207(0x60a)]=_0x15bc33;},_0x5a78cf=_0x39a357=>_0x39a357[_0x4d0596(0x46b)](/\u00A0/g,'\x20')[_0x4d0596(0x46b)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x19e406=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5b601c=_0x19f3c9=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x4d0596(0x8bc)](_0x19f3c9),_0x27ca71=_0x166436=>{const _0x5a10de=_0x4d0596,_0x16cf24=(_0x166436['match'](/\{/g)||[])[_0x5a10de(0x409)],_0x491e1a=(_0x166436[_0x5a10de(0x302)](/\}/g)||[])[_0x5a10de(0x409)];if(_0x16cf24>_0x491e1a)_0x166436=_0x166436+'}'[_0x5a10de(0x875)](_0x16cf24-_0x491e1a);return _0x166436;},_0x26d9e7=_0x44d15a=>{const _0x4a42a2=_0x4d0596;let _0x2277d4=_0x44d15a[_0x4a42a2(0x1a0)]();const _0x3e6432=['frac',_0x4a42a2(0x6dc),_0x4a42a2(0x848),_0x4a42a2(0x5a8),_0x4a42a2(0x270),'times',_0x4a42a2(0x469),_0x4a42a2(0x23f),'leq',_0x4a42a2(0x203),'le','ge','neq','pm',_0x4a42a2(0x85d),_0x4a42a2(0x8c5),_0x4a42a2(0x280),_0x4a42a2(0x1d2),_0x4a42a2(0x5fb),'ln',_0x4a42a2(0x597),'prod',_0x4a42a2(0x7ba),_0x4a42a2(0x6b8),_0x4a42a2(0x3f2),_0x4a42a2(0x7ce),_0x4a42a2(0x59b),_0x4a42a2(0x557),'deg'];_0x2277d4=_0x2277d4[_0x4a42a2(0x46b)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x3e6432['join']('|')+_0x4a42a2(0x1fc),'g'),'\x5c'),_0x3e6432['forEach'](_0xf83e3d=>{const _0x9a1d89=_0x4a42a2;_0x2277d4=_0x2277d4[_0x9a1d89(0x46b)](new RegExp(_0x9a1d89(0x119)+_0xf83e3d+'\x5cb','g'),(_0x2e36e3,_0x4cedf7)=>_0x4cedf7+'\x5c'+_0xf83e3d);});const _0x40592a=[[/×/g,_0x4a42a2(0x75a)],[/·/g,_0x4a42a2(0x675)],[/÷/g,_0x4a42a2(0x7f2)],[/≤/g,_0x4a42a2(0x8c9)],[/≥/g,_0x4a42a2(0x3a9)],[/≠/g,_0x4a42a2(0x12b)],[/±/g,_0x4a42a2(0x8d3)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x40592a[_0x4a42a2(0x7db)](([_0x2d3f24,_0x314f71])=>{const _0x477cb7=_0x4a42a2;_0x2277d4=_0x2277d4[_0x477cb7(0x46b)](_0x2d3f24,_0x314f71);}),_0x2277d4=_0x2277d4['replace'](/√\s*\(([^)]*)\)/g,_0x4a42a2(0x866)),_0x2277d4=_0x2277d4['replace'](/√\s*([A-Za-z0-9]+)/g,_0x4a42a2(0x866)),_0x2277d4=_0x2277d4[_0x4a42a2(0x46b)](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x4a42a2(0x46b)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x4a42a2(0x269))[_0x4a42a2(0x46b)](/(^|[^\\])ext\{/g,_0x4a42a2(0x1ab))[_0x4a42a2(0x46b)](/(^|[^\\])ext\(/g,_0x4a42a2(0x74e))[_0x4a42a2(0x46b)](/\\text\(([^)]*)\)/g,_0x4a42a2(0x33a))[_0x4a42a2(0x46b)](/\s\\frac/g,_0x4a42a2(0x2ee)),_0x2277d4=_0x2277d4['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x3447fc,_0x3c9573,_0x1ff825,_0x2f5aef)=>_0x3c9573+_0x4a42a2(0xd5)+_0x1ff825+'}{'+_0x2f5aef+'}'),_0x2277d4=_0x2277d4['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')[_0x4a42a2(0x46b)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x4a42a2(0x6a0))[_0x4a42a2(0x46b)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x4a42a2(0x6a0)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x4a42a2(0x3c5)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x4a42a2(0x3c5)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x4a42a2(0x3c5)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x4a42a2(0x3c5)],[/(\d+)\s*°\s*C/g,_0x4a42a2(0x3c5)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x4a42a2(0x900)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x4a42a2(0x3c5)]][_0x4a42a2(0x7db)](([_0x46e109,_0x294c0c])=>{_0x2277d4=_0x2277d4['replace'](_0x46e109,_0x294c0c);}),_0x2277d4=_0x2277d4['replace'](/(\d+)\s*%/g,_0x4a42a2(0x133)),_0x2277d4=_0x2277d4[_0x4a42a2(0x46b)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x4a42a2(0x46b)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x4a42a2(0x46b)](/\{\{([^\{\}]+)\}\}/g,_0x4a42a2(0x516)),[_0x4a42a2(0x8c5),_0x4a42a2(0x280),_0x4a42a2(0x1d2),_0x4a42a2(0x5fb),'ln'][_0x4a42a2(0x7db)](_0xaa298a=>{const _0x154a98=_0x4a42a2;_0x2277d4=_0x2277d4[_0x154a98(0x46b)](new RegExp(_0x154a98(0x119)+_0xaa298a+'\x5cs*\x5c(','g'),(_0xb29267,_0xabac98)=>_0xabac98+'\x5c'+_0xaa298a+'(');});const _0x3ed33b=(_0x2277d4['match'](/\\left\b/g)||[])['length'],_0x58b5b1=(_0x2277d4[_0x4a42a2(0x302)](/\\right\b/g)||[])['length'];if(_0x3ed33b!==_0x58b5b1)_0x2277d4=_0x2277d4[_0x4a42a2(0x46b)](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x2277d4=_0x27ca71(_0x2277d4),_0x2277d4;},_0x5d6cd2=_0x167694=>{const _0x546a79=_0x4d0596;if(/\$|\\\(|\\\[/[_0x546a79(0x8bc)](_0x167694))return _0x167694;if(!_0x19e406['test'](_0x167694))return _0x167694;const _0x234a76=_0x167694['match'](/^\s*/)[0x0],_0xd01333=_0x167694[_0x546a79(0x302)](/\s*$/)[0x0],_0x313a4a=_0x167694[_0x546a79(0x1a0)]();return _0x234a76+'$'+_0x26d9e7(_0x313a4a)+'$'+_0xd01333;},_0x15366b=_0x5403c6=>_0x5403c6[_0x4d0596(0x500)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x5a294e[_0x4d0596(0x7db)](_0x4e7dee=>{const _0x287b21=_0x4d0596;if(_0x4e7dee[_0x287b21(0x5b4)]&&_0x4e7dee[_0x287b21(0x5b4)]('mjx-container'))return;const _0x1cfbf7=_0x156a7c(_0x4e7dee);let _0x5d751f=_0x5a78cf(_0x1cfbf7);_0x5d751f=_0x5d751f[_0x287b21(0x46b)](/\$\$([\s\S]*?)\$\$/g,(_0x1fd963,_0x118775)=>'$$'+_0x26d9e7(_0x118775)+'$$')[_0x287b21(0x46b)](/\$([^$]*?)\$/g,(_0x43e895,_0x25b263)=>'$'+_0x26d9e7(_0x25b263)+'$')[_0x287b21(0x46b)](/\\\(([\s\S]*?)\\\)/g,(_0x2f160b,_0x1e2e9e)=>'\x5c('+_0x26d9e7(_0x1e2e9e)+'\x5c)')[_0x287b21(0x46b)](/\\\[([\s\S]*?)\\\]/g,(_0x1a402e,_0xfbacb1)=>'\x5c['+_0x26d9e7(_0xfbacb1)+'\x5c]');let _0x367d76=_0x5d751f,_0x11c16=0x0;const _0x196394=_0x255ffb=>_0x255ffb[_0x287b21(0x46b)](/S([^S]{0,2000}?)S/g,(_0x437dff,_0x42d07e)=>_0x19e406[_0x287b21(0x8bc)](_0x42d07e)?'$'+_0x26d9e7(_0x42d07e)+'$':_0x437dff);while(_0x11c16++<0x14){const _0x5d57d2=_0x196394(_0x367d76);if(_0x5d57d2===_0x367d76)break;_0x367d76=_0x5d57d2;}_0x5d751f=_0x367d76,_0x5d751f=_0x5d751f[_0x287b21(0x500)]('\x0a')[_0x287b21(0x58e)](_0x2f522d=>{const _0x4a81d2=_0x287b21;if(!(/[,\u3001，;；]/[_0x4a81d2(0x8bc)](_0x2f522d)||/\s(?:และ|หรือ)\s/[_0x4a81d2(0x8bc)](_0x2f522d))||!_0x19e406[_0x4a81d2(0x8bc)](_0x2f522d))return _0x2f522d;return _0x15366b(_0x2f522d)[_0x4a81d2(0x58e)](_0xeca3b2=>{const _0x1a7be5=_0x4a81d2;if(/^\s(?:และ|หรือ)\s$/[_0x1a7be5(0x8bc)](_0xeca3b2)||/^[,\u3001，;；]$/[_0x1a7be5(0x8bc)](_0xeca3b2))return _0xeca3b2;return _0x5d6cd2(_0xeca3b2);})['join']('');})[_0x287b21(0x548)]('\x0a'),_0x5d751f=_0x5d751f[_0x287b21(0x500)]('\x0a')[_0x287b21(0x58e)](_0x222051=>{const _0x27ee74=_0x287b21,_0x50884c=_0x222051[_0x27ee74(0x1a0)]();if(!_0x50884c)return _0x222051;const _0x31ad2a=/\$|\\\(|\\\[/['test'](_0x50884c),_0x49ee2a=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x27ee74(0x8bc)](_0x50884c);if(_0x31ad2a||!_0x49ee2a||_0x5b601c(_0x50884c))return _0x222051;return _0x222051[_0x27ee74(0x46b)](_0x50884c,'$'+_0x26d9e7(_0x50884c)+'$');})[_0x287b21(0x548)]('\x0a'),_0x5d751f=_0x5d751f[_0x287b21(0x46b)](/(\d+)\s*°\s*C\b/g,(_0x178d3e,_0x3542c4,_0xd8c80c,_0x54b5b3)=>{const _0x527d03=_0x287b21,_0x26e68e=_0x54b5b3[_0xd8c80c-0x1];if(_0x26e68e==='$'||_0x26e68e==='S'||_0x26e68e==='\x5c')return _0x178d3e;return'$'+_0x3542c4+_0x527d03(0x9b);})[_0x287b21(0x46b)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x9818d6,_0x1e7e5c,_0x45f6f6,_0x2a890e)=>{const _0x2efce5=_0x287b21,_0x40f9a8=_0x2a890e[_0x45f6f6-0x1];if(_0x40f9a8==='$'||_0x40f9a8==='S'||_0x40f9a8==='\x5c')return _0x9818d6;return'$'+_0x1e7e5c+_0x2efce5(0x9b);})[_0x287b21(0x46b)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x485662,_0x75bf8c,_0xd4e607,_0x2a0ab)=>{const _0x1cab6b=_0x287b21,_0x1fa703=_0x2a0ab[_0xd4e607-0x1];if(_0x1fa703==='$'||_0x1fa703==='S'||_0x1fa703==='\x5c')return _0x485662;return'$'+_0x75bf8c+_0x1cab6b(0x9b);}),_0x5d751f=_0x5d751f[_0x287b21(0x46b)](/\$\s*\$/g,'$$'),_0x5d751f!==_0x1cfbf7&&(_0xdee1b6(_0x4e7dee,_0x5d751f),_0x2992a6++);});if(_0x2992a6>0x0){showMessage(_0x4d0596(0x32a)+_0x2992a6+_0x4d0596(0xf0));try{if(window[_0x4d0596(0x530)]&&MathJax[_0x4d0596(0x8dc)])MathJax['typesetPromise']();window[_0x4d0596(0x4bc)]&&typeof renderMathInElement===_0x4d0596(0x309)&&renderMathInElement(_0x2963c4,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x368695){}}else showMessage(_0x4d0596(0x62e));}async function listenForCustomMathTopics(){const _0x5a4d17=_0x132f6e,_0x1a3511=collection(db,_0x5a4d17(0x493)+appId+_0x5a4d17(0x7c7));onSnapshot(_0x1a3511,_0xdd3c97=>{const _0x189a6c=_0x5a4d17;customMathTopics=_0xdd3c97[_0x189a6c(0x7d9)][_0x189a6c(0x58e)](_0x548885=>({'id':_0x548885['id'],..._0x548885[_0x189a6c(0x416)]()})),renderTopicCheckboxes();},_0x352342=>{const _0x4c1d12=_0x5a4d17;console['error'](_0x4c1d12(0x18d),_0x352342);});}function handleSelectAllTopics(){const _0x219b8c=_0x132f6e,_0x4bce79=document['getElementById'](_0x219b8c(0x4f2)),_0x3e44cf=_0x4bce79[_0x219b8c(0x2b5)]('input[type=\x22checkbox\x22]');_0x3e44cf[_0x219b8c(0x7db)](_0x3c02db=>{const _0x4af96f=_0x219b8c;_0x3c02db[_0x4af96f(0x13b)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x244e51=_0x132f6e,_0x24bac6=document[_0x244e51(0x2ae)]('math-topics-checkbox-container'),_0x3b7313=_0x24bac6[_0x244e51(0x2b5)]('input[type=\x22checkbox\x22]');_0x3b7313[_0x244e51(0x7db)](_0x1e1698=>{const _0x3936b0=_0x244e51;_0x1e1698[_0x3936b0(0x13b)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x224224){const _0x5717cb=_0x132f6e;if(!_0x224224)return;try{const _0x4b0ab6=doc(db,_0x5717cb(0x493)+appId+_0x5717cb(0x7c7),_0x224224);await deleteDoc(_0x4b0ab6),showMessage(_0x5717cb(0x337));}catch(_0x247008){console['error']('Error\x20deleting\x20custom\x20topic:',_0x247008),showMessage(_0x5717cb(0x206));}}async function handleAddCustomMathTopic(){const _0x39843e=_0x132f6e,_0x2e5b87=document[_0x39843e(0x2ae)]('custom-math-topic-input'),_0xe6ebd2=_0x2e5b87[_0x39843e(0x864)][_0x39843e(0x1a0)]();if(!_0xe6ebd2){showMessage(_0x39843e(0x2db));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x5d0938=collection(db,_0x39843e(0x493)+appId+_0x39843e(0x7c7));await addDoc(_0x5d0938,{'name':_0xe6ebd2,'createdAt':serverTimestamp()}),_0x2e5b87[_0x39843e(0x864)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0xe6ebd2+'\x22\x20สำเร็จ');}catch(_0x3795d3){console[_0x39843e(0x6e4)]('Error\x20adding\x20custom\x20topic:',_0x3795d3),showMessage(_0x39843e(0x467));}}async function handleUpdateOldQuizzes(){const _0x4dd100=_0x132f6e;showConfirmation(_0x4dd100(0x8eb),async()=>{const _0x6785a0=_0x4dd100,_0x3f502e=document[_0x6785a0(0x2ae)]('loader'),_0x25c588=document[_0x6785a0(0x2ae)](_0x6785a0(0x691)),_0x36f736=_0x25c588['textContent'];_0x3f502e[_0x6785a0(0x172)][_0x6785a0(0x6a9)](_0x6785a0(0x5cb)),_0x25c588[_0x6785a0(0x60a)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x35a80c=collection(db,_0x6785a0(0x493)+appId+_0x6785a0(0x2f9)),_0x41de59=await getDocs(_0x35a80c);if(_0x41de59['empty']){showMessage(_0x6785a0(0x1e1));return;}const _0x316e84=writeBatch(db);let _0x2f4944=0x0;_0x41de59[_0x6785a0(0x7db)](_0x485d07=>{const _0x302709=_0x6785a0,_0x1996e1=_0x485d07[_0x302709(0x416)](),_0x37c3da=_0x485d07['id'];if(_0x1996e1[_0x302709(0x84d)]&&_0x1996e1[_0x302709(0x84d)][_0x302709(0x409)]>0x0&&!_0x1996e1[_0x302709(0x84d)][0x0][_0x302709(0x311)]('id')){console[_0x302709(0x5fb)](_0x302709(0x1fb)+_0x37c3da+'\x20('+_0x1996e1[_0x302709(0x764)]+')'),_0x2f4944++;const _0x273e8b=_0x1996e1['questions']['map']((_0x2bd770,_0x2317bf)=>{const _0x14a567=_0x302709;return{..._0x2bd770,'id':_0x2bd770['id']||'q_'+Date[_0x14a567(0x667)]()+'_'+_0x37c3da+'_'+_0x2317bf};}),_0x512b37=doc(db,_0x302709(0x493)+appId+_0x302709(0x2f9),_0x37c3da);_0x316e84[_0x302709(0x2ce)](_0x512b37,{'questions':_0x273e8b});}}),_0x2f4944>0x0?(_0x25c588[_0x6785a0(0x60a)]=_0x6785a0(0x535)+_0x2f4944+'\x20รายการ...',await _0x316e84[_0x6785a0(0x32d)](),showMessage(_0x6785a0(0x868)+_0x2f4944+'\x20รายการสำเร็จ!')):showMessage(_0x6785a0(0x8e2));}catch(_0x713474){console[_0x6785a0(0x6e4)]('Error\x20updating\x20old\x20quizzes:',_0x713474),showMessage(_0x6785a0(0x8ca)+_0x713474[_0x6785a0(0x17c)]);}finally{_0x3f502e['classList'][_0x6785a0(0x96)]('hidden'),_0x25c588['textContent']=_0x36f736;}});}async function handleBulkUpdateQuizSettings(){const _0x4852a0=_0x132f6e,_0x4b272b={'shuffle':document[_0x4852a0(0x2ae)](_0x4852a0(0x8a3))[_0x4852a0(0x864)],'resultsDisplay':document[_0x4852a0(0x2ae)](_0x4852a0(0x19c))[_0x4852a0(0x864)],'loopUntilPass':document['getElementById'](_0x4852a0(0xb3))[_0x4852a0(0x13b)]},_0x244af0=allQuizzesGlobal[_0x4852a0(0x409)];showConfirmation(_0x4852a0(0x8df)+_0x244af0+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0xde9b67=_0x4852a0,_0x500476=document[_0xde9b67(0x2ae)]('confirm-bulk-quiz-settings-btn');_0x500476['disabled']=!![],_0x500476[_0xde9b67(0x299)]=_0xde9b67(0x7a8);try{const _0x12f28a=writeBatch(db);allQuizzesGlobal[_0xde9b67(0x7db)](_0x29c786=>{const _0x3a34d7=_0xde9b67,_0x59b773=doc(db,_0x3a34d7(0x493)+appId+_0x3a34d7(0x2f9),_0x29c786['id']),_0x494cb0={..._0x29c786[_0x3a34d7(0x65f)]||{},..._0x4b272b};_0x12f28a[_0x3a34d7(0x2ce)](_0x59b773,{'settings':_0x494cb0});}),await _0x12f28a[_0xde9b67(0x32d)](),document[_0xde9b67(0x2ae)](_0xde9b67(0x2b0))[_0xde9b67(0x172)][_0xde9b67(0x96)](_0xde9b67(0x5cb)),showMessage(_0xde9b67(0x22f)+_0x244af0+_0xde9b67(0x808));}catch(_0x1a340a){console['error']('Error\x20during\x20bulk\x20quiz\x20settings\x20update:',_0x1a340a),showMessage(_0xde9b67(0x445));}finally{_0x500476[_0xde9b67(0x4b3)]=![],_0x500476['innerHTML']=_0xde9b67(0x60d);}});}async function handleSaveProjectName(){const _0x1d04be=_0x132f6e,_0x328f58=document['getElementById'](_0x1d04be(0x3de)),_0x4c522b=document[_0x1d04be(0x2ae)](_0x1d04be(0x2e5)),_0x26352b=_0x328f58[_0x1d04be(0x60a)][_0x1d04be(0x1a0)]();if(!_0x26352b||!currentProjectId){showMessage(_0x1d04be(0x7c8)),_0x328f58['textContent']=currentProjectData[_0x1d04be(0x2a4)];return;}_0x4c522b[_0x1d04be(0x4b3)]=!![],_0x4c522b[_0x1d04be(0x299)]=_0x1d04be(0x849);try{const _0x415d2b=doc(db,_0x1d04be(0x493)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x415d2b,{'projectName':_0x26352b}),currentProjectData&&(currentProjectData['projectName']=_0x26352b),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x14dab5){console['error'](_0x1d04be(0x6e8),_0x14dab5),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x328f58[_0x1d04be(0x60a)]=currentProjectData['projectName'];}finally{_0x4c522b['classList']['add'](_0x1d04be(0x5cb)),_0x4c522b['disabled']=![],_0x4c522b[_0x1d04be(0x299)]=_0x1d04be(0x834);}}async function initialize(){const _0x53def4=_0x132f6e;try{const _0x3bb03f=initializeApp(firebaseConfig);db=getFirestore(_0x3bb03f),auth=getAuth(_0x3bb03f),setupAuthListener(),setupEventListeners(),showView(_0x53def4(0x522)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x564645){console[_0x53def4(0x6e4)](_0x53def4(0x37b),_0x564645),showMessage(_0x53def4(0x828));}}async function handleVerifyAnswersInEditor(){const _0x4c1ccd=_0x132f6e,_0x23a070=document[_0x4c1ccd(0x2ae)](_0x4c1ccd(0x17a));if(!_0x23a070)return;const _0x660f84=document['getElementById'](_0x4c1ccd(0x38a));_0x660f84[_0x4c1ccd(0x4b3)]=!![],_0x660f84['innerHTML']=_0x4c1ccd(0x5f9);try{const _0x3f3316=_0x23a070[_0x4c1ccd(0x2b5)](_0x4c1ccd(0x892)),_0x18e6fe=Array[_0x4c1ccd(0x54c)](_0x3f3316)['map']((_0x1072f4,_0x40a699)=>{const _0xea3f=_0x4c1ccd,_0x3c80db=_0x1072f4['dataset'][_0xea3f(0x679)],_0x24c586=_0x1072f4[_0xea3f(0x5b4)](_0xea3f(0x429))['value'];let _0x14865d=null,_0x3853b9='';switch(_0x3c80db){case _0xea3f(0x7ec):const _0x5cd473=_0x1072f4[_0xea3f(0x2b5)](_0xea3f(0x401));_0x14865d=Array[_0xea3f(0x54c)](_0x5cd473)[_0xea3f(0x58e)](_0x4d3e1f=>_0x4d3e1f[_0xea3f(0x864)]);const _0x207893=_0x1072f4[_0xea3f(0x5b4)](_0xea3f(0x881));_0x207893&&(_0x3853b9=_0x14865d[parseInt(_0x207893[_0xea3f(0x864)])]);break;case _0xea3f(0x420):_0x3853b9=_0x1072f4[_0xea3f(0x5b4)](_0xea3f(0x473))[_0xea3f(0x864)];break;case _0xea3f(0x5d3):const _0x3937d2=_0x1072f4['querySelector'](_0xea3f(0x881));_0x3853b9=_0x3937d2?_0x3937d2['value']:'';break;case _0xea3f(0x58b):_0x3853b9=_0x1072f4['querySelector'](_0xea3f(0xac))[_0xea3f(0x864)];break;}return{'question':_0x24c586,'options':_0x14865d,'proposedAnswer':_0x3853b9};}),_0x4e258f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x18e6fe)+_0x4c1ccd(0x88c),_0x4e99df={'type':_0x4c1ccd(0x7cf),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x4c1ccd(0x83e)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x4c1ccd(0x345)}},'required':[_0x4c1ccd(0xca),_0x4c1ccd(0x106),_0x4c1ccd(0x82d)]}},_0x3f0ff1=await callAnalysisApi(_0x4e258f,{'type':_0x4c1ccd(0x6b3),'properties':{'result':_0x4e99df},'required':['result']});displayVerificationResultsInEditor(_0x3f0ff1[_0x4c1ccd(0x6bf)]);}catch(_0x1de61e){console[_0x4c1ccd(0x6e4)](_0x4c1ccd(0x277),_0x1de61e),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x660f84[_0x4c1ccd(0x4b3)]=![],_0x660f84[_0x4c1ccd(0x299)]=_0x4c1ccd(0x359);}}function displayVerificationResultsInEditor(_0x38040e){const _0x2ee965=_0x132f6e;_0x38040e[_0x2ee965(0x7db)](_0x49d68a=>{const _0x2fc4ec=_0x2ee965,_0x3f9b04=document[_0x2fc4ec(0x5b4)](_0x2fc4ec(0x8dd)+_0x49d68a[_0x2fc4ec(0xca)]+'\x22]');if(!_0x3f9b04)return;const _0x57dbc6=_0x3f9b04[_0x2fc4ec(0x5b4)](_0x2fc4ec(0x59a));if(_0x57dbc6)_0x57dbc6[_0x2fc4ec(0x6a9)]();let _0x253f62='';if(_0x49d68a[_0x2fc4ec(0x106)])_0x253f62='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{const _0xdc0646=_0x49d68a[_0x2fc4ec(0x4d3)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x253f62=_0x2fc4ec(0x2aa)+_0xdc0646+_0x2fc4ec(0x7c6)+_0x49d68a[_0x2fc4ec(0x82d)]+_0x2fc4ec(0x433)+(_0x49d68a['suggestedAnswer']?_0x2fc4ec(0x905)+_0x49d68a[_0x2fc4ec(0x4d3)]+'</p>':'')+_0x2fc4ec(0x527);}_0x3f9b04[_0x2fc4ec(0x725)](_0x2fc4ec(0x69c),_0x253f62);if(!_0x49d68a[_0x2fc4ec(0x106)]&&_0x49d68a[_0x2fc4ec(0x4d3)]){const _0x4648f1=_0x3f9b04[_0x2fc4ec(0x41a)][_0x2fc4ec(0x679)],_0x1118bc=_0x5d633d=>{const _0x4e5c86=_0x2fc4ec;if(!_0x5d633d)return;_0x5d633d[_0x4e5c86(0x172)]['add'](_0x4e5c86(0x558),_0x4e5c86(0x77a),'duration-300'),setTimeout(()=>{const _0x1208ed=_0x4e5c86;_0x5d633d['classList'][_0x1208ed(0x6a9)](_0x1208ed(0x558));},0x9c4);};if(_0x4648f1===_0x2fc4ec(0x7ec)){const _0xae4fb=Array[_0x2fc4ec(0x54c)](_0x3f9b04['querySelectorAll'](_0x2fc4ec(0x401))),_0x245ba5=_0xae4fb[_0x2fc4ec(0x8a9)](_0x562178=>_0x562178[_0x2fc4ec(0x864)][_0x2fc4ec(0x1a0)]()[_0x2fc4ec(0x67d)]()===_0x49d68a['suggestedAnswer'][_0x2fc4ec(0x1a0)]()[_0x2fc4ec(0x67d)]());if(_0x245ba5!==-0x1){const _0x29e556=_0x3f9b04[_0x2fc4ec(0x5b4)](_0x2fc4ec(0x696)+_0x245ba5+'\x22]');_0x29e556&&(_0x29e556['checked']=!![],_0x1118bc(_0x29e556['closest'](_0x2fc4ec(0x23f))));}}else{if(_0x4648f1==='short_answer'||_0x4648f1===_0x2fc4ec(0x58b)){const _0x270267=_0x3f9b04[_0x2fc4ec(0x5b4)]('.ideal-answer-input,\x20.correct-response-input');_0x270267&&(_0x270267['value']=_0x49d68a[_0x2fc4ec(0x4d3)],_0x1118bc(_0x270267));}else{if(_0x4648f1===_0x2fc4ec(0x5d3)){const _0x144236=_0x49d68a['suggestedAnswer']['trim']()[_0x2fc4ec(0x67d)](),_0x1a1483=_0x3f9b04[_0x2fc4ec(0x5b4)](_0x2fc4ec(0x696)+_0x144236+'\x22]');_0x1a1483&&(_0x1a1483[_0x2fc4ec(0x13b)]=!![],_0x1118bc(_0x1a1483['closest']('div')));}}}}}),showMessage(_0x2ee965(0x4b1));}async function handleVerifyAnswers(){const _0x2107e1=_0x132f6e;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x3e2bb6=document['getElementById'](_0x2107e1(0x189));_0x3e2bb6[_0x2107e1(0x4b3)]=!![],_0x3e2bb6['innerHTML']=_0x2107e1(0x5f9);try{const _0x5ec8d2=currentQuizData['questions'][_0x2107e1(0x58e)]((_0x278c9a,_0x4e554e)=>{const _0xddf391=_0x2107e1;let _0x1809c2='';const _0x3fdf69=_0x278c9a['questionType']||currentQuizData[_0xddf391(0x444)];switch(_0x3fdf69){case'multiple_choice':_0x1809c2=_0x278c9a[_0xddf391(0x234)][_0x278c9a[_0xddf391(0x6ed)]];break;case _0xddf391(0x420):_0x1809c2=_0x278c9a[_0xddf391(0xf6)];break;case _0xddf391(0x5d3):_0x1809c2=_0x278c9a['correctAnswer'][_0xddf391(0x883)]();break;case _0xddf391(0x58b):_0x1809c2=_0x278c9a[_0xddf391(0x150)];break;}return{'question':_0x278c9a[_0xddf391(0x20b)]||_0x278c9a[_0xddf391(0x374)],'options':_0x278c9a[_0xddf391(0x234)]||null,'proposedAnswer':_0x1809c2};}),_0x3f79f9=_0x2107e1(0x187)+JSON['stringify'](_0x5ec8d2)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1e0dfc={'type':_0x2107e1(0x7cf),'items':{'type':_0x2107e1(0x6b3),'properties':{'questionIndex':{'type':_0x2107e1(0x83e)},'isCorrect':{'type':_0x2107e1(0x5b6)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x2107e1(0x345)}},'required':[_0x2107e1(0xca),'isCorrect',_0x2107e1(0x82d)]}},_0x59eeea=await callAnalysisApi(_0x3f79f9,{'type':_0x2107e1(0x6b3),'properties':{'result':_0x1e0dfc},'required':[_0x2107e1(0x6bf)]});displayVerificationResults(_0x59eeea['result']);}catch(_0x284e0c){console[_0x2107e1(0x6e4)](_0x2107e1(0x213),_0x284e0c),showMessage(_0x2107e1(0x1cb));}finally{_0x3e2bb6['disabled']=![],_0x3e2bb6['innerHTML']=_0x2107e1(0x64b);}}function displayVerificationResults(_0x32257d){const _0xc4bf4d=_0x132f6e;_0x32257d[_0xc4bf4d(0x7db)](_0xbd17b5=>{const _0x500b5f=_0xc4bf4d,_0x4b374c=document[_0x500b5f(0x5b4)]('div[data-question-index=\x22'+_0xbd17b5['questionIndex']+'\x22]');if(_0x4b374c){const _0x3b7867=_0x4b374c['querySelector'](_0x500b5f(0x554));if(_0x3b7867)_0x3b7867['remove']();let _0x2f4efc='';_0xbd17b5['isCorrect']?_0x2f4efc=_0x500b5f(0xee):_0x2f4efc=_0x500b5f(0x3e5)+_0xbd17b5['justification']+_0x500b5f(0x894)+(_0xbd17b5[_0x500b5f(0x4d3)]?_0x500b5f(0x905)+_0xbd17b5['suggestedAnswer']+_0x500b5f(0x2be):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4b374c[_0x500b5f(0x725)](_0x500b5f(0x69c),_0x2f4efc);}}),showMessage(_0xc4bf4d(0x4b1));}function compareNumericalAnswers(_0x117113,_0x28f038){const _0x452f26=_0x132f6e,_0x89e901=String(_0x117113)[_0x452f26(0x46b)](',','.')[_0x452f26(0x46b)](/[^\d.-]/g,'')['trim'](),_0x1d2801=String(_0x28f038)[_0x452f26(0x46b)](',','.')['replace'](/[^\d.-]/g,'')[_0x452f26(0x1a0)]();if(_0x89e901===''||_0x1d2801==='')return![];const _0x4ced2c=parseFloat(_0x89e901),_0x56b0e4=parseFloat(_0x1d2801);if(isNaN(_0x4ced2c)||isNaN(_0x56b0e4))return![];return Math[_0x452f26(0x8d8)](_0x4ced2c-_0x56b0e4)<0.001;}async function gradeShortAnswer(_0x4cf617,_0x202c24){const _0x49d57a=_0x132f6e,_0x457b1e=_0x202c24[_0x49d57a(0xf6)];if(String(_0x4cf617)[_0x49d57a(0x1a0)]()[_0x49d57a(0x67d)]()===String(_0x457b1e)[_0x49d57a(0x1a0)]()[_0x49d57a(0x67d)]())return!![];if(compareNumericalAnswers(_0x4cf617,_0x457b1e))return!![];return console[_0x49d57a(0x5fb)](_0x49d57a(0x9e)),await gradeShortAnswerWithAI(_0x4cf617,_0x457b1e);}async function revealAnswerForAdmin(_0x3a4d01,_0x5e0fbd){const _0x1c920c=_0x132f6e,_0x2a9904=doc(db,_0x1c920c(0x493)+appId+_0x1c920c(0x32e),currentLiveGameId);await updateDoc(_0x2a9904,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x3a6e79){const _0x5f218d=_0x132f6e,_0x17f26c=Object[_0x5f218d(0x225)](_0x3a6e79[_0x5f218d(0x45d)]||{})['filter'](_0x210edc=>_0x210edc[_0x5f218d(0x5d6)]===_0x5f218d(0x298));_0x17f26c[_0x5f218d(0x6a8)]((_0x25decc,_0x230a93)=>_0x230a93[_0x5f218d(0x66d)]-_0x25decc[_0x5f218d(0x66d)]);const _0x3d1501=_0x17f26c[_0x5f218d(0x10b)](0x0,0x5),_0x4cd727='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d1501[_0x5f218d(0x58e)]((_0x58d69c,_0x2f27f0)=>_0x5f218d(0x3d4)+(_0x2f27f0+0x1)+'.\x20'+(_0x58d69c['name']||Object[_0x5f218d(0x713)](_0x3a6e79[_0x5f218d(0x45d)])[_0x5f218d(0x2fe)](_0x33cfdb=>_0x3a6e79['players'][_0x33cfdb]===_0x58d69c))+_0x5f218d(0x52e)+_0x58d69c['score']+_0x5f218d(0x417))['join']('')+_0x5f218d(0x6fc)+(_0x3a6e79[_0x5f218d(0x10e)]+0x1===currentQuizData[_0x5f218d(0x84d)][_0x5f218d(0x409)]?_0x5f218d(0x36d):_0x5f218d(0x260))+_0x5f218d(0x4af);liveGameView[_0x5f218d(0x299)]=_0x4cd727,document[_0x5f218d(0x2ae)](_0x5f218d(0x3d1))[_0x5f218d(0x28c)](_0x5f218d(0x39a),async()=>{const _0x21c769=_0x5f218d,_0x287f75=doc(db,'artifacts/'+appId+_0x21c769(0x32e),currentLiveGameId),_0x42ccad=_0x3a6e79[_0x21c769(0x10e)]+0x1;if(_0x42ccad<currentQuizData[_0x21c769(0x84d)][_0x21c769(0x409)]){const _0x394f95={'currentQuestionIndex':_0x42ccad,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x21c769(0x3e6)};Object['keys'](_0x3a6e79[_0x21c769(0x45d)])[_0x21c769(0x7db)](_0x2c760=>{const _0x2bdff9=_0x21c769;_0x394f95[_0x2bdff9(0x332)+_0x2c760+_0x2bdff9(0x552)]=![];}),await updateDoc(_0x287f75,_0x394f95);}else await updateDoc(_0x287f75,{'status':_0x21c769(0x422)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x372ba5=>{const _0x551748=_0x5070;if(_0x372ba5){userId=_0x372ba5[_0x551748(0x693)],userIdDisplay[_0x551748(0x60a)]=userId;const _0x86f7ac=await loadUserPreferences();_0x86f7ac[_0x551748(0x6c3)]&&(document[_0x551748(0x2ae)](_0x551748(0x1f6))[_0x551748(0x864)]=_0x86f7ac[_0x551748(0x6c3)]);globalDashboardSettings['projectView']=_0x86f7ac[_0x551748(0x3c9)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x4dabf6,_0x3caf98){const _0x18c952=_0x132f6e;if(!userId)return;try{const _0x2a8ff6=doc(db,_0x18c952(0x493)+appId+_0x18c952(0x5a1)+userId+_0x18c952(0x65c)),_0xb53dab={};_0xb53dab[_0x4dabf6]=_0x3caf98,await setDoc(_0x2a8ff6,_0xb53dab,{'merge':!![]});}catch(_0x4b1f39){console['error']('Error\x20saving\x20user\x20preference:',_0x4b1f39);}}async function loadUserPreferences(){const _0x395fd0=_0x132f6e;if(!userId)return{};try{const _0x233d32=doc(db,'artifacts/'+appId+'/users/'+userId+_0x395fd0(0x65c)),_0x1bf8c4=await getDoc(_0x233d32);if(_0x1bf8c4[_0x395fd0(0x125)]())return _0x1bf8c4['data']();return{};}catch(_0x1ea19d){return console['error'](_0x395fd0(0x28d),_0x1ea19d),{};}}function showPodiumView(_0x2a0590){const _0x4b25e5=_0x132f6e,_0x55dbdb=Object[_0x4b25e5(0x6ce)](_0x2a0590)[_0x4b25e5(0x58e)](([_0x40d416,_0x3ba1b5])=>({'name':_0x40d416,'score':_0x3ba1b5[_0x4b25e5(0x66d)]||0x0,'badges':_0x3ba1b5['badges']||[]}));_0x55dbdb[_0x4b25e5(0x6a8)]((_0x5124c3,_0x553088)=>{const _0x4a554f=_0x4b25e5,_0x5f47aa=_0x553088[_0x4a554f(0x66d)]-_0x5124c3['score'];if(_0x5f47aa!==0x0)return _0x5f47aa;return(_0x553088[_0x4a554f(0x63f)][_0x4a554f(0x409)]||0x0)-(_0x5124c3[_0x4a554f(0x63f)][_0x4a554f(0x409)]||0x0);});const _0x594e4a=_0x531fce=>{const _0x9ac449=_0x4b25e5;if(!_0x531fce||_0x531fce[_0x9ac449(0x409)]===0x0)return'';const _0x2a0f5d={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x9ac449(0x4da)+_0x531fce[_0x9ac449(0x58e)](_0x1e4f98=>_0x2a0f5d[_0x1e4f98]||'')['join']('')+_0x9ac449(0x303);},_0x37f57a=_0x55dbdb[_0x4b25e5(0x10b)](0x3),_0x52673f=_0x37f57a['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37f57a[_0x4b25e5(0x58e)]((_0x136551,_0x4dde8d)=>_0x4b25e5(0x786)+(_0x4dde8d+0x4)+_0x4b25e5(0x397)+_0x136551[_0x4b25e5(0x54f)]+_0x4b25e5(0x27e)+_0x136551[_0x4b25e5(0x66d)]+_0x4b25e5(0x5b5))[_0x4b25e5(0x548)]('')+_0x4b25e5(0x5bd):'',_0x35f83f=_0x4b25e5(0x425)+(_0x55dbdb[0x1]?_0x4b25e5(0x877)+_0x55dbdb[0x1][_0x4b25e5(0x54f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x594e4a(_0x55dbdb[0x1]['badges'])+_0x4b25e5(0x12d)+_0x55dbdb[0x1][_0x4b25e5(0x66d)]+_0x4b25e5(0x553):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x55dbdb[0x0]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x55dbdb[0x0][_0x4b25e5(0x54f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x594e4a(_0x55dbdb[0x0][_0x4b25e5(0x63f)])+_0x4b25e5(0x528)+_0x55dbdb[0x0][_0x4b25e5(0x66d)]+_0x4b25e5(0x34c):_0x4b25e5(0x2d2))+_0x4b25e5(0x4b6)+(_0x55dbdb[0x2]?_0x4b25e5(0x4f1)+_0x55dbdb[0x2][_0x4b25e5(0x54f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x594e4a(_0x55dbdb[0x2][_0x4b25e5(0x63f)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x55dbdb[0x2][_0x4b25e5(0x66d)]+_0x4b25e5(0x6a6):_0x4b25e5(0x2d2))+_0x4b25e5(0xf5)+_0x52673f+_0x4b25e5(0x2da)+(currentMode===_0x4b25e5(0x40e)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4b25e5(0x509))+_0x4b25e5(0x46a);liveGameView[_0x4b25e5(0x299)]=_0x35f83f,currentMode===_0x4b25e5(0x40e)&&document[_0x4b25e5(0x2ae)](_0x4b25e5(0x37c))[_0x4b25e5(0x28c)](_0x4b25e5(0x39a),async()=>{const _0x49824a=_0x4b25e5,_0x2941de=doc(db,'artifacts/'+appId+_0x49824a(0x32e),currentLiveGameId);await deleteDoc(_0x2941de),showView(_0x49824a(0x38f));});}async function handleStartLiveRace(_0x2f1c26){const _0x3c4831=_0x132f6e;let _0x3be4f0=allQuizzes['find'](_0xcba8a8=>_0xcba8a8['id']===_0x2f1c26);if(!_0x3be4f0){const _0x4ffa01=doc(db,'artifacts/'+appId+_0x3c4831(0x2f9),_0x2f1c26),_0x167c31=await getDoc(_0x4ffa01);if(!_0x167c31[_0x3c4831(0x125)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x3be4f0={'id':_0x167c31['id'],..._0x167c31[_0x3c4831(0x416)]()};}const _0x31bea9=getShuffledQuiz(_0x3be4f0);currentQuizData=_0x31bea9;const _0x50ee6a=_0x3be4f0[_0x3c4831(0x763)]||currentProjectId||null,_0x50dbae=Math['floor'](0xa+Math[_0x3c4831(0xd1)]()*0x5a)[_0x3c4831(0x883)]();currentLiveGamePin=_0x50dbae;try{const _0x3006d6=await addDoc(collection(db,_0x3c4831(0x493)+appId+_0x3c4831(0x32e)),{'quizId':_0x2f1c26,'projectId':_0x50ee6a,'status':_0x3c4831(0x1b2),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x50dbae,'createdAt':serverTimestamp(),'shuffledQuiz':_0x31bea9});currentLiveGameId=_0x3006d6['id'],showAdminLobbyView(_0x50dbae,_0x3be4f0[_0x3c4831(0x764)]),listenForLiveGameUpdates();}catch(_0x3659ef){console[_0x3c4831(0x6e4)]('Error\x20starting\x20live\x20race:',_0x3659ef),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x16abc3=_0x132f6e,_0x3e65fa=document[_0x16abc3(0x5b4)](_0x16abc3(0x7ca));_0x3e65fa&&(_0x3e65fa[_0x16abc3(0x299)]=_0x16abc3(0x195));const _0x49bece=document[_0x16abc3(0x5b4)](_0x16abc3(0x1ad));_0x49bece&&(_0x49bece[_0x16abc3(0x299)]=_0x16abc3(0x224));const _0x28ba27=document[_0x16abc3(0x2ae)](_0x16abc3(0x6d7));_0x28ba27[_0x16abc3(0x172)]['remove'](_0x16abc3(0x5cb)),document[_0x16abc3(0x2ae)]('close-student-rankings-btn')['onclick']=()=>_0x28ba27[_0x16abc3(0x172)][_0x16abc3(0x96)](_0x16abc3(0x5cb));const _0x2d5934=document[_0x16abc3(0x2ae)](_0x16abc3(0x161)),_0x5e5451=document[_0x16abc3(0x2ae)](_0x16abc3(0x845)),_0x4a280f=document[_0x16abc3(0x2ae)]('student-quiz-leaderboard-content'),_0x269208=document[_0x16abc3(0x2ae)]('student-project-leaderboard-content');_0x2d5934[_0x16abc3(0x1c1)]=()=>{const _0x4b6a1f=_0x16abc3;_0x2d5934[_0x4b6a1f(0x172)]['add'](_0x4b6a1f(0x298)),_0x5e5451[_0x4b6a1f(0x172)]['remove'](_0x4b6a1f(0x298)),_0x4a280f[_0x4b6a1f(0x172)][_0x4b6a1f(0x6a9)](_0x4b6a1f(0x5cb)),_0x269208[_0x4b6a1f(0x172)][_0x4b6a1f(0x96)](_0x4b6a1f(0x5cb));},_0x5e5451[_0x16abc3(0x1c1)]=()=>{const _0x17fdf2=_0x16abc3;_0x5e5451[_0x17fdf2(0x172)]['add'](_0x17fdf2(0x298)),_0x2d5934[_0x17fdf2(0x172)][_0x17fdf2(0x6a9)](_0x17fdf2(0x298)),_0x269208[_0x17fdf2(0x172)][_0x17fdf2(0x6a9)](_0x17fdf2(0x5cb)),_0x4a280f[_0x17fdf2(0x172)][_0x17fdf2(0x96)]('hidden');};try{const _0x5671a8=collection(db,_0x16abc3(0x493)+appId+_0x16abc3(0x586)+currentQuizData['id']+_0x16abc3(0xd9)),_0x2b1396=await getDocs(_0x5671a8),_0x218c0d=_0x2b1396[_0x16abc3(0x7d9)][_0x16abc3(0x58e)](_0x33b09f=>_0x33b09f[_0x16abc3(0x416)]());renderQuizLeaderboard(_0x218c0d,currentQuizData,_0x16abc3(0x3a8));const _0x2a4ee7=collection(db,_0x16abc3(0x493)+appId+'/public/data/projects/'+currentQuizData[_0x16abc3(0x763)]+_0x16abc3(0x761)),_0x52d3da=await getDocs(_0x2a4ee7),_0x5b6c32=_0x52d3da[_0x16abc3(0x7d9)][_0x16abc3(0x58e)](_0x438f27=>_0x438f27[_0x16abc3(0x416)]());renderLeaderboard(_0x5b6c32,_0x16abc3(0x46f));}catch(_0x4ca52e){console[_0x16abc3(0x6e4)](_0x16abc3(0x37a),_0x4ca52e),showMessage(_0x16abc3(0x82b));}}async function handleSaveToBank(_0x5423b3){const _0x593616=_0x132f6e,_0x1417a1=_0x5423b3[_0x593616(0x78c)],_0x6ee6c0=_0x1417a1[_0x593616(0x41a)][_0x593616(0x80c)],_0x3c39df=currentQuizData['questions'][_0x6ee6c0];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x597f24={..._0x3c39df,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x5de1bf=collection(db,'artifacts/'+appId+'/users/'+userId+_0x593616(0x363));await addDoc(_0x5de1bf,_0x597f24),showMessage(_0x593616(0x543)),_0x1417a1['classList'][_0x593616(0x6a9)]('text-purple-600'),_0x1417a1[_0x593616(0x172)]['add'](_0x593616(0x7c9)),_0x1417a1['disabled']=!![];}catch(_0x44697d){console[_0x593616(0x6e4)](_0x593616(0x21b),_0x44697d),showMessage(_0x593616(0x1ac));}}function listenForStarredQuizzes(){const _0x20146c=_0x132f6e;if(!userId)return;const _0x3a822a=collection(db,_0x20146c(0x493)+appId+_0x20146c(0x2f9)),_0x300c34=query(_0x3a822a,where('isStarred','==',!![]));onSnapshot(_0x300c34,_0x207ac3=>{const _0x423863=_0x20146c;starredQuizzes=_0x207ac3['docs'][_0x423863(0x58e)](_0x3d7e94=>({'id':_0x3d7e94['id'],..._0x3d7e94[_0x423863(0x416)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x3a2f4a=>{const _0x19d5b7=_0x20146c;console[_0x19d5b7(0x6e4)](_0x19d5b7(0x55f),_0x3a2f4a);});}function exportQuizAsWorksheetPDF(){const _0x31bca9=_0x132f6e;if(!currentQuizData||!currentQuizData[_0x31bca9(0x84d)]){showMessage(_0x31bca9(0x267));return;}const _0x55fe06=currentQuizData,_0x33d148=window[_0x31bca9(0x24c)]('',_0x31bca9(0x86f)),_0x2208be=_0x46e325=>String[_0x31bca9(0x31f)](0x41+_0x46e325),_0x5a5fb1=_0x31bca9(0x5b1)+_0x55fe06[_0x31bca9(0x764)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x55fe06['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55fe06[_0x31bca9(0x84d)][_0x31bca9(0x58e)]((_0x3ac565,_0x5403e5)=>{const _0x849a10=_0x31bca9;let _0x5d5f46='';const _0xea9f60=_0x3ac565[_0x849a10(0x135)]||_0x55fe06[_0x849a10(0x444)];switch(_0xea9f60){case _0x849a10(0x7ec):case _0x849a10(0x3e3):_0x5d5f46=_0x849a10(0x8b7)+_0x3ac565[_0x849a10(0x234)][_0x849a10(0x58e)]((_0x5d5d5b,_0xd829)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2208be(_0xd829)+'.\x20'+_0x5d5d5b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('<br>')+'</div>';break;case _0x849a10(0x5d3):_0x5d5f46=_0x849a10(0x858);break;default:_0x5d5f46=_0x849a10(0x219);break;}return _0x849a10(0x6aa)+(_0x5403e5+0x1)+_0x849a10(0x700)+(_0x3ac565[_0x849a10(0x20b)]||_0x3ac565[_0x849a10(0x374)])+_0x849a10(0x7a1)+(_0x3ac565[_0x849a10(0x21e)]?_0x849a10(0x66c)+_0x3ac565['imageCode']+_0x849a10(0x303):'')+_0x849a10(0xff)+_0x5d5f46+_0x849a10(0x155);})['join']('')+_0x31bca9(0x577);_0x33d148['document'][_0x31bca9(0x517)](_0x5a5fb1),_0x33d148[_0x31bca9(0x36c)][_0x31bca9(0x215)](),_0x33d148['onload']=function(){setTimeout(()=>{const _0x105e56=_0x5070;_0x33d148[_0x105e56(0x472)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1d01a1=_0x132f6e;if(!currentQuizData||!currentQuizData[_0x1d01a1(0x84d)]){showMessage(_0x1d01a1(0x267));return;}const _0x211806=currentQuizData,_0x5d109f=window[_0x1d01a1(0x24c)]('','_blank'),_0x23073a=_0x47e7a7=>String[_0x1d01a1(0x31f)](0x41+_0x47e7a7),_0x3dfaab=_0x1d01a1(0x3da)+_0x211806[_0x1d01a1(0x764)]+_0x1d01a1(0x60c)+_0x211806[_0x1d01a1(0x84d)][_0x1d01a1(0x58e)]((_0x10c41a,_0xa8fe22)=>{const _0xd4fa67=_0x1d01a1;let _0xfc22ad='';const _0x2ae94f=_0x10c41a[_0xd4fa67(0x135)]||_0x211806['quizType'];switch(_0x2ae94f){case _0xd4fa67(0x7ec):case'fill_in_with_choices':_0xfc22ad=_0xd4fa67(0x1ce)+_0x10c41a['options'][_0xd4fa67(0x58e)]((_0x37c2e8,_0x24ac1d)=>_0xd4fa67(0x10d)+_0x23073a(_0x24ac1d)+'.\x20'+_0x37c2e8+_0xd4fa67(0x102))[_0xd4fa67(0x548)](_0xd4fa67(0x35a))+_0xd4fa67(0x527);break;case'true_false':_0xfc22ad='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0xfc22ad='';break;}return _0xd4fa67(0x25e)+_0x211806[_0xd4fa67(0x764)]+_0xd4fa67(0x31b)+(_0xa8fe22+0x1)+_0xd4fa67(0x3ff)+(_0x10c41a['stem']||_0x10c41a[_0xd4fa67(0x374)])+_0xd4fa67(0x7a1)+(_0x10c41a[_0xd4fa67(0x21e)]?_0xd4fa67(0x698)+_0x10c41a[_0xd4fa67(0x21e)]+_0xd4fa67(0x303):'')+_0xd4fa67(0xff)+_0xfc22ad+_0xd4fa67(0x2d5);})['join']('')+_0x1d01a1(0x1ff);_0x5d109f['document']['write'](_0x3dfaab),_0x5d109f[_0x1d01a1(0x36c)]['close'](),_0x5d109f[_0x1d01a1(0x2e3)]=function(){setTimeout(()=>{const _0x56b2d1=_0x5070;_0x5d109f[_0x56b2d1(0x472)]();},0x5dc);};}async function handleToggleStarQuiz(_0x5a8f77){const _0x28c8a5=_0x132f6e,_0x4cbe99=doc(db,_0x28c8a5(0x493)+appId+_0x28c8a5(0x2f9),_0x5a8f77);try{const _0x5bfd0d=await getDoc(_0x4cbe99);if(_0x5bfd0d[_0x28c8a5(0x125)]()){const _0x3125d4=_0x5bfd0d[_0x28c8a5(0x416)]()[_0x28c8a5(0x869)]||![];await updateDoc(_0x4cbe99,{'isStarred':!_0x3125d4});}}catch(_0x4e59b5){console[_0x28c8a5(0x6e4)](_0x28c8a5(0x5ad),_0x4e59b5),showMessage(_0x28c8a5(0x3b2));}}async function displayQuestionBank(){const _0x27878b=_0x132f6e,_0x40269e=document[_0x27878b(0x2ae)](_0x27878b(0x6cf));_0x40269e[_0x27878b(0x299)]=_0x27878b(0xf4);try{const _0x5554f3=collection(db,'artifacts/'+appId+_0x27878b(0x5a1)+userId+_0x27878b(0x363)),_0x1a3e09=query(_0x5554f3),_0x3ecfe9=await getDocs(_0x1a3e09);if(_0x3ecfe9['empty']){_0x40269e[_0x27878b(0x299)]=_0x27878b(0x2b7);return;}let _0x38c629=_0x3ecfe9[_0x27878b(0x7d9)][_0x27878b(0x58e)](_0x446852=>{const _0xeb96fb=_0x27878b,_0x430823=_0x446852['data'](),_0x11557d=_0x446852['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0xeb96fb(0x75e)](_0x430823)+_0xeb96fb(0x3a3)+(_0x430823[_0xeb96fb(0x374)]||_0x430823[_0xeb96fb(0x20b)])+_0xeb96fb(0x5ca)+_0x430823['originalTopic']+_0xeb96fb(0x906);})[_0x27878b(0x548)]('');_0x40269e[_0x27878b(0x299)]=_0x27878b(0x8d9)+_0x38c629+_0x27878b(0x6ab),document['getElementById'](_0x27878b(0x806))[_0x27878b(0x28c)](_0x27878b(0x39a),createQuizFromBank);}catch(_0x8899ce){console[_0x27878b(0x6e4)](_0x27878b(0x1ef),_0x8899ce),_0x40269e[_0x27878b(0x299)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x42de42,_0x1f0eba,_0x4f8cc8){const _0x127408=_0x132f6e,_0x4fe25a=_0x42de42['questionType']||currentQuizData[_0x127408(0x444)];let _0x482d36='';if(_0x4fe25a===_0x127408(0x7ec)||_0x4fe25a==='true_false'){const _0x53c763=_0x4fe25a===_0x127408(0x5d3)?['ใช่','ไม่ใช่']:_0x42de42['options'],_0x2705e2=_0x4fe25a===_0x127408(0x5d3)?_0x42de42['correctAnswer']?0x0:0x1:_0x42de42['correctAnswerIndex'];_0x482d36=_0x53c763['map']((_0x13632b,_0x3b77b5)=>_0x127408(0x25c)+(_0x3b77b5===_0x2705e2)+_0x127408(0x556)+_0x13632b+_0x127408(0x7bf))[_0x127408(0x548)]('');}else{if(_0x4fe25a===_0x127408(0x58b)){const _0x18349c=_0x42de42['allResponses']||[];_0x482d36=_0x18349c[_0x127408(0x58e)](_0x3970d3=>_0x127408(0x25c)+(_0x3970d3===_0x42de42['correctResponse'])+_0x127408(0x556)+_0x3970d3+_0x127408(0x7bf))[_0x127408(0x548)]('');}}const _0x1ce2f3=_0x42de42[_0x127408(0x20b)]||_0x42de42['questionText'],_0x482b27=_0x127408(0x5f5)+(_0x1f0eba+0x1)+_0x127408(0x551)+_0x4f8cc8+_0x127408(0x837)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x1ce2f3+_0x127408(0x83c)+_0x482d36+_0x127408(0x231);liveGameView[_0x127408(0x299)]=_0x482b27,window[_0x127408(0x530)]&&MathJax[_0x127408(0x8dc)]&&MathJax[_0x127408(0x8dc)]([liveGameView]),document[_0x127408(0x2ae)](_0x127408(0xf1))[_0x127408(0x28c)](_0x127408(0x39a),()=>revealAnswerForAdmin(_0x1f0eba,_0x4f8cc8)),document[_0x127408(0x2ae)](_0x127408(0x48b))[_0x127408(0x28c)]('click',async()=>{const _0xa0e017=_0x127408;showConfirmation(_0xa0e017(0x301),async()=>{const _0x4b43e3=_0xa0e017,_0x9318ad=doc(db,_0x4b43e3(0x493)+appId+_0x4b43e3(0x32e),currentLiveGameId);await updateDoc(_0x9318ad,{'status':_0x4b43e3(0x422)});});}),document[_0x127408(0x2ae)](_0x127408(0x4a2))['addEventListener'](_0x127408(0x39a),()=>{const _0xd48f48=_0x127408;document[_0xd48f48(0x2ae)]('live-player-management')['classList'][_0xd48f48(0x223)](_0xd48f48(0x5cb));});}function showStudentLiveQuestionView(_0x4dfede,_0x56b929,_0x21cade){const _0xe7058f=_0x132f6e,_0x4bda87=_0x4dfede[_0xe7058f(0x135)]||currentQuizData['quizType'];let _0x5aada7='';if(_0x4bda87==='multiple_choice'||_0x4bda87===_0xe7058f(0x5d3)){const _0x2c26ff=_0x4bda87==='true_false'?['ใช่',_0xe7058f(0xd2)]:_0x4dfede[_0xe7058f(0x234)];_0x5aada7=_0x2c26ff[_0xe7058f(0x58e)]((_0x31056f,_0x1fc592)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1fc592+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31056f+_0xe7058f(0x595))[_0xe7058f(0x548)]('');}else{if(_0x4bda87===_0xe7058f(0x58b)){const _0x9a3057=_0x4dfede[_0xe7058f(0x5d8)]||[];_0x5aada7=_0x9a3057['map']((_0x43d914,_0x12e0ba)=>_0xe7058f(0x411)+_0x12e0ba+_0xe7058f(0x34a)+_0x43d914+_0xe7058f(0x595))['join']('');}else _0x4bda87===_0xe7058f(0x420)&&(_0x5aada7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x44ebcc=_0x4dfede['stem']||_0x4dfede[_0xe7058f(0x374)],_0x5c0fa6=_0xe7058f(0x15a)+(_0x56b929+0x1)+_0xe7058f(0x551)+_0x21cade+_0xe7058f(0x602)+_0x44ebcc+_0xe7058f(0x383)+_0x5aada7+_0xe7058f(0x8f4);liveGameView[_0xe7058f(0x299)]=_0x5c0fa6;window[_0xe7058f(0x530)]&&MathJax[_0xe7058f(0x8dc)]&&MathJax[_0xe7058f(0x8dc)]([liveGameView]);const _0x128998=document[_0xe7058f(0x2ae)](_0xe7058f(0x4f9));_0x128998&&_0x128998[_0xe7058f(0x28c)]('click',()=>{const _0x10089e=_0xe7058f,_0x2d875e=document[_0x10089e(0x2ae)](_0x10089e(0x264))['value'];handleLiveAnswer(_0x2d875e,_0x4dfede);}),document[_0xe7058f(0x2ae)]('live-options-container')[_0xe7058f(0x28c)](_0xe7058f(0x39a),_0x4492db=>{const _0x3f55b0=_0xe7058f,_0x59a498=_0x4492db[_0x3f55b0(0x783)]['closest'](_0x3f55b0(0x22b));if(_0x59a498){const _0x407fe3=parseInt(_0x59a498['dataset']['index']);handleLiveAnswer(_0x407fe3,_0x4dfede);}});}async function handleLiveAnswer(_0x49548f,_0x35b205){const _0x5cbe16=_0x132f6e;document[_0x5cbe16(0x2b5)](_0x5cbe16(0x290))[_0x5cbe16(0x7db)](_0x38e55b=>_0x38e55b[_0x5cbe16(0x4b3)]=!![]);const _0x300d3c=_0x35b205[_0x5cbe16(0x135)]||currentQuizData[_0x5cbe16(0x444)];let _0x4c42b2=![],_0x558440=_0x49548f;if(_0x300d3c===_0x5cbe16(0x420)){const _0xbee2ba=(_0x49548f||'')['toString']();_0x4c42b2=await gradeShortAnswer(_0xbee2ba,_0x35b205);}else{if(_0x300d3c==='multiple_choice')_0x4c42b2=_0x49548f===_0x35b205[_0x5cbe16(0x6ed)];else{if(_0x300d3c===_0x5cbe16(0x5d3)){const _0x3dd70b=_0x35b205[_0x5cbe16(0x6ea)];_0x4c42b2=_0x49548f===0x0&&_0x3dd70b||_0x49548f===0x1&&!_0x3dd70b;}else{if(_0x300d3c==='matching_item'){const _0x22055b=_0x35b205['allResponses'][_0x49548f];_0x4c42b2=_0x22055b===_0x35b205[_0x5cbe16(0x150)],_0x558440=_0x22055b;}}}}const _0x84792=doc(db,'artifacts/'+appId+_0x5cbe16(0x32e),currentLiveGameId),_0x201327={};_0x201327[_0x5cbe16(0x332)+currentStudentName+_0x5cbe16(0x552)]=!![],_0x201327[_0x5cbe16(0x332)+currentStudentName+_0x5cbe16(0x655)]=_0x4c42b2,_0x201327[_0x5cbe16(0x332)+currentStudentName+'.lastAnswerIndex']=_0x300d3c==='short_answer'||_0x300d3c===_0x5cbe16(0x58b)?null:_0x49548f,_0x201327['players.'+currentStudentName+_0x5cbe16(0xe2)]=_0x558440,_0x201327[_0x5cbe16(0x332)+currentStudentName+_0x5cbe16(0x394)]=serverTimestamp(),_0x201327[_0x5cbe16(0x332)+currentStudentName+_0x5cbe16(0x511)]=![],await updateDoc(_0x84792,_0x201327),liveGameView[_0x5cbe16(0x299)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x31bbd1,_0x51deb3){const _0x1be5a2=_0x132f6e,_0x5b858e=Object[_0x1be5a2(0x225)](_0x31bbd1[_0x1be5a2(0x45d)]||{}),_0x1c1d98=_0x51deb3[_0x1be5a2(0x135)]||currentQuizData[_0x1be5a2(0x444)],_0x1c3375=_0x1c1d98==='true_false'?[_0x1be5a2(0x31e),_0x1be5a2(0xd2)]:_0x51deb3[_0x1be5a2(0x234)]||_0x51deb3['allResponses']||[],_0x3972d5={},_0x2c2c60=new Array(_0x1c3375['length'])[_0x1be5a2(0x2d0)](0x0);_0x1c3375['forEach']((_0x2686d5,_0x59c597)=>{_0x3972d5[_0x59c597]=[];}),Object[_0x1be5a2(0x6ce)](_0x31bbd1[_0x1be5a2(0x45d)]||{})[_0x1be5a2(0x7db)](([_0x2d5ed3,_0x222424])=>{const _0x155b33=_0x1be5a2;if(_0x222424[_0x155b33(0x5d6)]===_0x155b33(0x298)&&_0x222424['lastAnswerIndex']!==undefined){const _0x5af28c=_0x222424['lastAnswerIndex'];_0x3972d5[_0x5af28c]&&(_0x3972d5[_0x5af28c]['push'](_0x2d5ed3),_0x2c2c60[_0x5af28c]++);}});const _0x3f83a2=Math[_0x1be5a2(0x405)](..._0x2c2c60,0x1),_0x579fc9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x51deb3[_0x1be5a2(0x20b)]||_0x51deb3[_0x1be5a2(0x374)])+_0x1be5a2(0x26a)+_0x2c2c60[_0x1be5a2(0x58e)]((_0x2e517a,_0x13e269)=>{const _0x5a662d=_0x1be5a2,_0x4dfe5f=_0x3972d5[_0x13e269]['length']>0x0?_0x3972d5[_0x13e269][_0x5a662d(0x548)](',\x20'):_0x5a662d(0x585);let _0x493e57=![];if(_0x1c1d98===_0x5a662d(0x7ec))_0x493e57=_0x13e269===_0x51deb3['correctAnswerIndex'];else{if(_0x1c1d98===_0x5a662d(0x5d3)){const _0x26cea7=_0x51deb3['correctAnswer'];_0x493e57=_0x26cea7&&_0x13e269===0x0||!_0x26cea7&&_0x13e269===0x1;}else _0x1c1d98===_0x5a662d(0x58b)&&(_0x493e57=_0x1c3375[_0x13e269]===_0x51deb3[_0x5a662d(0x150)]);}const _0x5967b5=_0x493e57?_0x5a662d(0x736):_0x5a662d(0x2c4);return _0x5a662d(0x635)+_0x2e517a+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x5967b5+_0x5a662d(0x8a0)+_0x13e269+_0x5a662d(0xe4)+_0x1c3375[_0x13e269]+_0x5a662d(0x389)+_0x13e269+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4dfe5f+_0x5a662d(0x793);})['join']('')+_0x1be5a2(0x6ee);liveGameView[_0x1be5a2(0x299)]=_0x579fc9;if(window[_0x1be5a2(0x530)])MathJax[_0x1be5a2(0x8dc)]();document[_0x1be5a2(0x2ae)](_0x1be5a2(0x8ce))[_0x1be5a2(0x28c)](_0x1be5a2(0x39a),async()=>{const _0x51f7dd=_0x1be5a2,_0x777306=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x777306,{'questionStatus':_0x51f7dd(0x49b)});}),document['getElementById'](_0x1be5a2(0x8ef))['addEventListener']('click',()=>{openScratchpad(_0x51deb3,_0x1c3375);});}function showPlayerSummaryView(_0xbdb967,_0x4f7d8d){const _0x398359=_0x132f6e,_0x12ef71=Object[_0x398359(0x225)](_0xbdb967[_0x398359(0x45d)]||{}),_0x1523cd=_0xbdb967[_0x398359(0x45d)][_0x4f7d8d],_0x2ca31e=_0x12ef71[_0x398359(0x2ca)](_0x4444be=>_0x4444be['status']===_0x398359(0x298))['sort']((_0x17b2a8,_0x4534c7)=>_0x4534c7[_0x398359(0x66d)]-_0x17b2a8[_0x398359(0x66d)]),_0x308c84=_0x2ca31e[_0x398359(0x8a9)](_0x119a6b=>_0x119a6b===_0x1523cd)+0x1,_0x2c31c8=_0x1523cd['lastAnswerCorrect']?'ถูกต้อง!':'ผิด',_0x4d4118=_0x1523cd[_0x398359(0x4e2)]?_0x398359(0x838):'bg-red-500',_0x30775e=_0x1523cd[_0x398359(0x1fa)]||0x0,_0x1eae11=_0x398359(0x435),_0x2ca180=_0x398359(0x2e1)+_0x1eae11+_0x398359(0x49f)+_0x4d4118+_0x398359(0xe0)+_0x2c31c8+_0x398359(0x454)+_0x30775e+_0x398359(0x633)+(_0x308c84>0x0?_0x308c84:'-')+_0x398359(0x52c);liveGameView[_0x398359(0x299)]=_0x2ca180;}function createQuizFromBank(){const _0x4bad7c=_0x132f6e,_0x2c9e8e=document[_0x4bad7c(0x2b5)](_0x4bad7c(0x1d1));if(_0x2c9e8e[_0x4bad7c(0x409)]===0x0){showMessage(_0x4bad7c(0x239));return;}const _0x26c50e=[];_0x2c9e8e[_0x4bad7c(0x7db)](_0x3c30bd=>{const _0x3d7f30=_0x4bad7c;_0x26c50e[_0x3d7f30(0x57d)](JSON[_0x3d7f30(0x292)](_0x3c30bd[_0x3d7f30(0x864)]));});const _0x3659cf={'topic':_0x4bad7c(0x484),'questions':_0x26c50e};displayGeneratedQuiz(_0x3659cf);}function showAdminLobbyView(_0x21a699,_0x42c64d){const _0x4f24b8=_0x132f6e;showView(_0x4f24b8(0x80f));const _0x2f9af1=_0x4f24b8(0x5ce)+_0x42c64d+_0x4f24b8(0x80d)+_0x21a699+_0x4f24b8(0x5c2);liveGameView[_0x4f24b8(0x299)]=_0x2f9af1,document['getElementById']('start-game-btn')[_0x4f24b8(0x28c)](_0x4f24b8(0x39a),async()=>{const _0xa96d25=_0x4f24b8;if(!currentQuizData||!currentQuizData['questions']||currentQuizData['questions'][_0xa96d25(0x409)]===0x0){showMessage(_0xa96d25(0x5a3));return;}try{const _0x4e6127=doc(db,_0xa96d25(0x493)+appId+_0xa96d25(0x32e),currentLiveGameId);await updateDoc(_0x4e6127,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x17c163=currentQuizData[_0xa96d25(0x84d)][0x0],_0xd31862=currentQuizData['questions'][_0xa96d25(0x409)];showAdminLiveQuestionView(_0x17c163,0x0,_0xd31862);}catch(_0x49d8ed){console[_0xa96d25(0x6e4)](_0xa96d25(0x6ef),_0x49d8ed),showMessage(_0xa96d25(0x31a));}});}async function openGlobalLiveModal(){const _0x27a5be=_0x132f6e;if(allQuizzesGlobal[_0x27a5be(0x409)]===0x0){const _0x591195=await getDocs(collection(db,_0x27a5be(0x493)+appId+_0x27a5be(0x2f9)));allQuizzesGlobal=_0x591195[_0x27a5be(0x7d9)][_0x27a5be(0x58e)](_0x2a59c7=>({'id':_0x2a59c7['id'],..._0x2a59c7[_0x27a5be(0x416)]()}));}renderGlobalQuizList(''),document[_0x27a5be(0x2ae)](_0x27a5be(0x58c))[_0x27a5be(0x172)]['remove'](_0x27a5be(0x5cb));}async function openQuizBankModal(){const _0x18c511=_0x132f6e;if(allQuizzesGlobal[_0x18c511(0x409)]===0x0){const _0x2e21f0=await getDocs(collection(db,_0x18c511(0x493)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x2e21f0[_0x18c511(0x7d9)]['map'](_0x3aabd4=>({'id':_0x3aabd4['id'],..._0x3aabd4[_0x18c511(0x416)]()}));}renderQuizBankList(''),document[_0x18c511(0x2ae)]('quiz-bank-modal')[_0x18c511(0x172)][_0x18c511(0x6a9)](_0x18c511(0x5cb));}function renderQuizBankList(_0x21d32c=''){const _0x3fb0d2=_0x132f6e,_0xcb01d7=document['getElementById'](_0x3fb0d2(0x680)),_0xae18fa=_0x21d32c[_0x3fb0d2(0x67d)]()[_0x3fb0d2(0x1a0)](),_0x561a02=allQuizzesGlobal['map'](_0xc9563b=>({..._0xc9563b,'projectName':allProjects[_0x3fb0d2(0x2fe)](_0x56ebdb=>_0x56ebdb['id']===_0xc9563b[_0x3fb0d2(0x763)])?.[_0x3fb0d2(0x2a4)]||'N/A'}))[_0x3fb0d2(0x2ca)](_0x59da95=>(_0x59da95['topic']||'')[_0x3fb0d2(0x67d)]()[_0x3fb0d2(0x229)](_0xae18fa)||(_0x59da95[_0x3fb0d2(0x2a4)]||'')[_0x3fb0d2(0x67d)]()[_0x3fb0d2(0x229)](_0xae18fa)||_0x59da95['id']['toString']()[_0x3fb0d2(0x229)](_0xae18fa));document[_0x3fb0d2(0x2ae)](_0x3fb0d2(0x7d1))[_0x3fb0d2(0x60a)]='('+_0x561a02[_0x3fb0d2(0x409)]+'\x20ชุด)',_0xcb01d7[_0x3fb0d2(0x299)]=_0x561a02[_0x3fb0d2(0x409)]?_0x561a02[_0x3fb0d2(0x58e)](_0x59a10a=>_0x3fb0d2(0x2b1)+_0x59a10a['id']+_0x3fb0d2(0xe7)+(_0x59a10a['topic']||_0x3fb0d2(0x3f6))+_0x3fb0d2(0x78b)+(_0x59a10a['questions']?.[_0x3fb0d2(0x409)]||0x0)+_0x3fb0d2(0x4fb)+_0x59a10a[_0x3fb0d2(0x2a4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x59a10a['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x59a10a['id']+_0x3fb0d2(0x148)+_0x59a10a['id']+_0x3fb0d2(0x766)+_0x59a10a['id']+_0x3fb0d2(0x18a)+_0x59a10a['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x59a10a['id']+_0x3fb0d2(0x1a1)+_0x59a10a['id']+_0x3fb0d2(0x458)+_0x59a10a['topic']+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join'](''):_0x3fb0d2(0x899),_0xcb01d7['querySelectorAll']('.quiz-bank-item')[_0x3fb0d2(0x7db)](_0x3fca6b=>{const _0xfcb028=_0x3fb0d2;_0x3fca6b[_0xfcb028(0x28c)](_0xfcb028(0x39a),()=>{const _0x4f264e=_0xfcb028,_0x586079=_0x3fca6b['dataset']['id'];document['getElementById'](_0x4f264e(0x596))['classList']['add'](_0x4f264e(0x5cb)),showQuizDetailView(_0x586079);});}),_0xcb01d7['querySelectorAll']('.quiz-bank-try-btn')[_0x3fb0d2(0x7db)](_0x71026d=>{const _0x27ad29=_0x3fb0d2;_0x71026d[_0x27ad29(0x28c)](_0x27ad29(0x39a),_0x38f244=>{const _0x2fae9d=_0x27ad29;_0x38f244[_0x2fae9d(0x71b)]();const _0x112b57=_0x71026d[_0x2fae9d(0x41a)]['id'],_0xb59d4d=allQuizzesGlobal[_0x2fae9d(0x2fe)](_0x16e1d0=>_0x16e1d0['id']===_0x112b57);_0xb59d4d?(currentQuizData=_0xb59d4d,document[_0x2fae9d(0x2ae)]('quiz-bank-modal')[_0x2fae9d(0x172)][_0x2fae9d(0x96)](_0x2fae9d(0x5cb)),startAdminTest()):showMessage(_0x2fae9d(0x759));});}),_0xcb01d7[_0x3fb0d2(0x2b5)](_0x3fb0d2(0x62c))[_0x3fb0d2(0x7db)](_0x219bae=>{const _0x1fbef8=_0x3fb0d2;_0x219bae[_0x1fbef8(0x28c)](_0x1fbef8(0x39a),_0x32b945=>{const _0x282b94=_0x1fbef8;_0x32b945[_0x282b94(0x71b)]();const _0x56028c=_0x219bae[_0x282b94(0x41a)]['id'],_0x34fa71=allQuizzesGlobal[_0x282b94(0x2fe)](_0x488e21=>_0x488e21['id']===_0x56028c);_0x34fa71?(document['getElementById'](_0x282b94(0x596))[_0x282b94(0x172)][_0x282b94(0x96)](_0x282b94(0x5cb)),handleGenerateParallelFromBank(_0x34fa71)):showMessage(_0x282b94(0x759));});}),_0xcb01d7[_0x3fb0d2(0x2b5)](_0x3fb0d2(0x673))[_0x3fb0d2(0x7db)](_0x1234d0=>{const _0x24703e=_0x3fb0d2;_0x1234d0[_0x24703e(0x28c)]('click',_0x34259f=>{const _0x3e9a32=_0x24703e;_0x34259f[_0x3e9a32(0x71b)]();const _0x3329e7=_0x1234d0['dataset']['id'],_0x403aa7=allQuizzesGlobal[_0x3e9a32(0x2fe)](_0xb335a0=>_0xb335a0['id']===_0x3329e7);_0x403aa7?(document[_0x3e9a32(0x2ae)](_0x3e9a32(0x596))[_0x3e9a32(0x172)][_0x3e9a32(0x96)]('hidden'),startPresentation(_0x403aa7)):showMessage(_0x3e9a32(0x759));});}),_0xcb01d7[_0x3fb0d2(0x2b5)]('.quiz-bank-move-btn')[_0x3fb0d2(0x7db)](_0x5d9797=>{const _0x16dd03=_0x3fb0d2;_0x5d9797[_0x16dd03(0x28c)]('click',_0x2a5767=>{const _0x4b46a5=_0x16dd03;_0x2a5767[_0x4b46a5(0x71b)]();const _0x44a9b1=_0x5d9797[_0x4b46a5(0x41a)]['id'];document[_0x4b46a5(0x2ae)](_0x4b46a5(0x596))[_0x4b46a5(0x172)][_0x4b46a5(0x96)](_0x4b46a5(0x5cb)),handleMoveQuiz(_0x44a9b1);});}),_0xcb01d7['querySelectorAll']('.quiz-bank-settings-btn')[_0x3fb0d2(0x7db)](_0xf402ce=>{const _0x2d595b=_0x3fb0d2;_0xf402ce[_0x2d595b(0x28c)](_0x2d595b(0x39a),_0x107e81=>{const _0x1c2a2d=_0x2d595b;_0x107e81[_0x1c2a2d(0x71b)]();const _0x284e8f=_0xf402ce[_0x1c2a2d(0x41a)]['id'];document[_0x1c2a2d(0x2ae)]('quiz-bank-modal')[_0x1c2a2d(0x172)][_0x1c2a2d(0x96)](_0x1c2a2d(0x5cb)),handleQuizSettings(_0x284e8f);});}),_0xcb01d7[_0x3fb0d2(0x2b5)]('.quiz-bank-delete-btn')[_0x3fb0d2(0x7db)](_0x1b1c24=>{const _0x34cea6=_0x3fb0d2;_0x1b1c24[_0x34cea6(0x28c)]('click',_0x168081=>{const _0x5203d7=_0x34cea6;_0x168081[_0x5203d7(0x71b)]();const _0x4a1222=_0x1b1c24[_0x5203d7(0x41a)]['id'],_0x587712=_0x1b1c24[_0x5203d7(0x41a)][_0x5203d7(0x764)];showConfirmation(_0x5203d7(0x11a)+_0x587712+_0x5203d7(0x7fc),()=>handleDeleteQuiz(_0x4a1222));});});}async function handleCompareResults(_0x5455b8,_0x58630f){const _0x4fc6f3=_0x132f6e,_0x4cbb43=document['getElementById'](_0x4fc6f3(0x76e)),_0xa089f4=document['getElementById'](_0x4fc6f3(0xc3)),_0x288c52=document[_0x4fc6f3(0x2ae)](_0x4fc6f3(0x286));document[_0x4fc6f3(0x2ae)](_0x4fc6f3(0x300))[_0x4fc6f3(0x172)][_0x4fc6f3(0x96)]('active'),document['getElementById'](_0x4fc6f3(0x34d))[_0x4fc6f3(0x172)][_0x4fc6f3(0x6a9)](_0x4fc6f3(0x298)),_0xa089f4[_0x4fc6f3(0x172)][_0x4fc6f3(0x6a9)](_0x4fc6f3(0x5cb)),_0x288c52[_0x4fc6f3(0x172)][_0x4fc6f3(0x96)](_0x4fc6f3(0x5cb)),_0xa089f4[_0x4fc6f3(0x299)]=_0x4fc6f3(0xf4),_0x288c52['innerHTML']='',_0x4cbb43[_0x4fc6f3(0x172)]['remove'](_0x4fc6f3(0x5cb));try{const _0x3c3704=doc(db,_0x4fc6f3(0x493)+appId+'/public/data/quizzes',_0x5455b8),_0x406aae=await getDoc(_0x3c3704);if(!_0x406aae[_0x4fc6f3(0x125)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x25270b=_0x406aae[_0x4fc6f3(0x416)](),_0x25aa50=_0x25270b['questions'][_0x4fc6f3(0x409)],_0x355dcb=collection(db,_0x4fc6f3(0x493)+appId+_0x4fc6f3(0x586)+_0x58630f+_0x4fc6f3(0xd9)),_0x3f7aef=collection(db,_0x4fc6f3(0x493)+appId+_0x4fc6f3(0x586)+_0x5455b8+_0x4fc6f3(0xd9)),[_0x2c8aec,_0x4b75c7]=await Promise['all']([getDocs(_0x355dcb),getDocs(_0x3f7aef)]),_0x558431=_0x2c8aec['docs'][_0x4fc6f3(0x58e)](_0x3abb7d=>_0x3abb7d['data']()),_0x5a8e73=_0x4b75c7[_0x4fc6f3(0x7d9)][_0x4fc6f3(0x58e)](_0x4bff24=>_0x4bff24['data']()),_0x3cb62a=_0x558431['map'](_0x22d410=>_0x22d410['latestScore']),_0x4c2309=_0x5a8e73['map'](_0x5d04ae=>_0x5d04ae[_0x4fc6f3(0x568)]),_0x5c3d91=calculateMeanAndStdDev(_0x3cb62a),_0x151530=calculateMeanAndStdDev(_0x4c2309),_0x5059d8=_0x5c3d91[_0x4fc6f3(0x776)],_0x35d12c=_0x151530[_0x4fc6f3(0x776)],_0x103b3d=_0x35d12c-_0x5059d8;let _0x463242=_0x4fc6f3(0x719)+_0x5059d8[_0x4fc6f3(0x835)](0x2)+_0x4fc6f3(0x2ed)+_0x35d12c[_0x4fc6f3(0x835)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x103b3d>=0x0?_0x4fc6f3(0x480):'bg-red-100')+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x103b3d>=0x0?'text-emerald-800':_0x4fc6f3(0x614))+_0x4fc6f3(0x534)+(_0x103b3d>=0x0?'text-emerald-900':'text-red-900')+'\x22>'+(_0x103b3d>=0x0?'+':'')+_0x103b3d[_0x4fc6f3(0x835)](0x2)+_0x4fc6f3(0x89a);_0xa089f4[_0x4fc6f3(0x299)]=_0x463242;const _0x565293=document[_0x4fc6f3(0x2ae)](_0x4fc6f3(0x1ea))[_0x4fc6f3(0x1c7)]('2d');if(chartInstances[_0x4fc6f3(0x8b0)])chartInstances[_0x4fc6f3(0x8b0)][_0x4fc6f3(0x49d)]();chartInstances['comparison']=new Chart(_0x565293,{'type':_0x4fc6f3(0x80a),'data':{'labels':[_0x4fc6f3(0x145)],'datasets':[{'label':'ก่อนเรียน','data':[_0x5059d8],'backgroundColor':_0x4fc6f3(0x289)},{'label':'หลังเรียน','data':[_0x35d12c],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x25aa50}}}});const _0x2cf900=currentProjectData[_0x4fc6f3(0x6b4)]||[],_0x578d1c=_0x2cf900[_0x4fc6f3(0x58e)](_0x1a31ad=>{const _0x38f7b3=_0x4fc6f3,_0x4f0ec2=_0x558431['find'](_0x285925=>_0x285925[_0x38f7b3(0x3d9)]===_0x1a31ad),_0x461ac4=_0x5a8e73[_0x38f7b3(0x2fe)](_0x1cbf7f=>_0x1cbf7f['studentName']===_0x1a31ad),_0x3e6367=_0x4f0ec2?_0x4f0ec2[_0x38f7b3(0x568)]:null,_0x11fc5a=_0x461ac4?_0x461ac4['latestScore']:null,_0x14b2c3=_0x3e6367!==null&&_0x11fc5a!==null?_0x11fc5a-_0x3e6367:null,_0x2768dd=_0x3e6367!==null?calculateZScore(_0x3e6367,_0x5c3d91[_0x38f7b3(0x776)],_0x5c3d91[_0x38f7b3(0x2ab)]):null,_0x224a53=_0x11fc5a!==null?calculateZScore(_0x11fc5a,_0x151530[_0x38f7b3(0x776)],_0x151530[_0x38f7b3(0x2ab)]):null,_0x2bbff3=_0x2768dd!==null?calculateTScore(_0x2768dd):null,_0x35f0cc=_0x224a53!==null?calculateTScore(_0x224a53):null,_0x46d69f=_0x2bbff3!==null&&_0x35f0cc!==null?_0x35f0cc-_0x2bbff3:null;return{'name':_0x1a31ad,'preScore':_0x3e6367,'postScore':_0x11fc5a,'gain':_0x14b2c3,'preTScore':_0x2bbff3,'postTScore':_0x35f0cc,'tGain':_0x46d69f};});renderIndividualComparisonTable(_0x578d1c,_0x288c52);}catch(_0x406ada){console[_0x4fc6f3(0x6e4)](_0x4fc6f3(0x2d9),_0x406ada),_0xa089f4[_0x4fc6f3(0x299)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x59b6fe,_0x3c8ff4){const _0x227247=_0x132f6e,_0x489054=_0x59b6fe>=_0x3c8ff4/0x2,_0x5d9526=_0x489054?_0x227247(0x8fb):_0x227247(0x97),_0x4b2b75=_0x489054?_0x227247(0x813):_0x227247(0xa9),_0x2f2635=_0x489054?_0x227247(0x8c2):_0x227247(0x614),_0x161e1e=_0x489054?'ทำคะแนนได้เกินครึ่ง':_0x227247(0x65a),_0x399ac1=_0x489054?'ยอดเยี่ยม!':'สู้ๆ\x20ลองอีกครั้งนะ';let _0x20b956=_0x227247(0x4b4)+_0x5d9526+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b2b75+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x2f2635+_0x227247(0x712)+_0x161e1e+_0x227247(0x3e0)+_0x399ac1+_0x227247(0x8c8);studentResultArea['innerHTML']=_0x20b956,studentResultArea[_0x227247(0x172)][_0x227247(0x6a9)]('hidden'),studentQuizArea['classList'][_0x227247(0x96)](_0x227247(0x5cb)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x489054});}function displayPerfectScoreResult(_0x57ed9e,_0x39633c){const _0x5c9f29=_0x132f6e,_0x36883e=_0x57ed9e===_0x39633c,_0x364c24=_0x36883e?_0x5c9f29(0x662):_0x5c9f29(0x607),_0x36c47a=_0x36883e?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x5c9f29(0x62a),_0xbcf209=_0x36883e?_0x5c9f29(0x320):'text-blue-800',_0x570857=_0x36883e?_0x5c9f29(0x25d):_0x5c9f29(0x3d6),_0x3cf3f7=_0x36883e?_0x5c9f29(0x609):_0x5c9f29(0x85f);let _0x5a80f3=_0x5c9f29(0x4b4)+_0x364c24+_0x5c9f29(0x649)+_0x36c47a+_0x5c9f29(0x2ea)+_0xbcf209+_0x5c9f29(0x712)+_0x570857+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x3cf3f7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x5c9f29(0x299)]=_0x5a80f3,studentResultArea[_0x5c9f29(0x172)][_0x5c9f29(0x6a9)](_0x5c9f29(0x5cb)),studentQuizArea[_0x5c9f29(0x172)][_0x5c9f29(0x96)](_0x5c9f29(0x5cb)),setupResultScreenBackButton({'showRankings':![],'score':_0x57ed9e,'totalQuestions':_0x39633c});}function renderIndividualComparisonTable(_0x32f25f,_0x379a15){const _0x59e707=_0x132f6e;_0x32f25f[_0x59e707(0x6a8)]((_0x424a46,_0x35a646)=>(_0x35a646[_0x59e707(0x6c0)]??-Infinity)-(_0x424a46[_0x59e707(0x6c0)]??-Infinity));let _0x5e3b1c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x32f25f[_0x59e707(0x409)]===0x0?_0x5e3b1c+=_0x59e707(0x4e4):_0x32f25f[_0x59e707(0x7db)]((_0x952d85,_0x46f4af)=>{const _0x5be862=_0x59e707;let _0x43f6ce='-',_0x35d40c='';if(_0x952d85['gain']!==null){const _0x2918a5=_0x952d85[_0x5be862(0x207)]>0x0?_0x5be862(0x7c9):_0x952d85[_0x5be862(0x207)]<0x0?'text-red-600':_0x5be862(0x447),_0x81c08d=_0x952d85['gain']>0x0?'+':'';_0x43f6ce=_0x5be862(0x47e)+_0x2918a5+'\x22>'+_0x81c08d+_0x952d85['gain']+_0x5be862(0x102);if(_0x952d85[_0x5be862(0x207)]>0x0)_0x35d40c='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x952d85[_0x5be862(0x207)]<0x0?_0x35d40c='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x35d40c=_0x5be862(0x8c4);}let _0x500943='-';if(_0x952d85['tGain']!==null){const _0x3e89ce=_0x952d85[_0x5be862(0x6c0)]>0x0?_0x5be862(0x7c9):_0x952d85['tGain']<0x0?_0x5be862(0x385):_0x5be862(0x447),_0x7062fa=_0x952d85[_0x5be862(0x6c0)]>0x0?'+':'';_0x500943=_0x5be862(0x47e)+_0x3e89ce+'\x22>'+_0x7062fa+_0x952d85['tGain'][_0x5be862(0x835)](0x2)+_0x5be862(0x102);}_0x5e3b1c+=_0x5be862(0xcc)+(_0x46f4af+0x1)+_0x5be862(0x294)+_0x952d85[_0x5be862(0x54f)]+_0x5be862(0x5ee)+(_0x952d85[_0x5be862(0xa4)]??'-')+_0x5be862(0xa1)+(_0x952d85[_0x5be862(0x71e)]??'-')+_0x5be862(0x5ee)+_0x43f6ce+_0x5be862(0x113)+_0x35d40c+_0x5be862(0x7b3)+(_0x952d85[_0x5be862(0x6fe)]?.[_0x5be862(0x835)](0x2)??'-')+_0x5be862(0x30d)+(_0x952d85[_0x5be862(0x802)]?.[_0x5be862(0x835)](0x2)??'-')+_0x5be862(0x5ee)+_0x500943+_0x5be862(0x658);}),_0x5e3b1c+=_0x59e707(0x42c),_0x379a15['innerHTML']=_0x5e3b1c;}function handleRenameQuiz(_0x548358,_0x55030c){const _0x1a15d8=_0x132f6e;actionTargetId=_0x548358,document[_0x1a15d8(0x2ae)](_0x1a15d8(0x893))[_0x1a15d8(0x864)]=_0x55030c,renameQuizModal['classList']['remove']('hidden');}function setupComparisonModalTabs(){const _0x3acf8b=_0x132f6e,_0x2c90b1=document[_0x3acf8b(0x2ae)]('comparison-overall-tab'),_0x349a20=document[_0x3acf8b(0x2ae)](_0x3acf8b(0x34d)),_0x2ccabd=document[_0x3acf8b(0x2ae)](_0x3acf8b(0xc3)),_0xc8b8d9=document[_0x3acf8b(0x2ae)](_0x3acf8b(0x286));_0x2c90b1['addEventListener'](_0x3acf8b(0x39a),()=>{const _0x4b969c=_0x3acf8b;_0x2c90b1[_0x4b969c(0x172)][_0x4b969c(0x96)](_0x4b969c(0x298)),_0x349a20[_0x4b969c(0x172)][_0x4b969c(0x6a9)](_0x4b969c(0x298)),_0x2ccabd['classList'][_0x4b969c(0x6a9)](_0x4b969c(0x5cb)),_0xc8b8d9['classList'][_0x4b969c(0x96)](_0x4b969c(0x5cb));}),_0x349a20[_0x3acf8b(0x28c)](_0x3acf8b(0x39a),()=>{const _0x50c75b=_0x3acf8b;_0x349a20[_0x50c75b(0x172)][_0x50c75b(0x96)](_0x50c75b(0x298)),_0x2c90b1[_0x50c75b(0x172)]['remove'](_0x50c75b(0x298)),_0xc8b8d9['classList'][_0x50c75b(0x6a9)]('hidden'),_0x2ccabd[_0x50c75b(0x172)][_0x50c75b(0x96)]('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x1ed290=''){const _0x380ded=_0x132f6e,_0x4e923e=document['getElementById'](_0x380ded(0x6af)),_0x565a5f=_0x1ed290[_0x380ded(0x67d)]()[_0x380ded(0x1a0)](),_0xe3b41a=allQuizzesGlobal[_0x380ded(0x58e)](_0x52cf18=>({..._0x52cf18,'projectName':allProjects[_0x380ded(0x2fe)](_0x2a2a56=>_0x2a2a56['id']===_0x52cf18['projectId'])?.['projectName']||_0x52cf18['projectId']}))[_0x380ded(0x2ca)](_0x49e84a=>(_0x49e84a[_0x380ded(0x764)]||'')[_0x380ded(0x67d)]()[_0x380ded(0x229)](_0x565a5f)||(_0x49e84a[_0x380ded(0x2a4)]||'')['toLowerCase']()['includes'](_0x565a5f));document[_0x380ded(0x2ae)](_0x380ded(0x651))[_0x380ded(0x60a)]='('+_0xe3b41a[_0x380ded(0x409)]+'\x20ชุด)',_0x4e923e[_0x380ded(0x299)]=_0xe3b41a['length']?_0xe3b41a[_0x380ded(0x58e)](_0x428284=>_0x380ded(0x3cf)+_0x428284['id']+_0x380ded(0x3f9)+(_0x428284['topic']||_0x380ded(0x3f6))+_0x380ded(0x3ba)+(_0x428284[_0x380ded(0x84d)]?.[_0x380ded(0x409)]||0x0)+_0x380ded(0x1fd)+_0x428284[_0x380ded(0x2a4)]+_0x380ded(0x3e2))[_0x380ded(0x548)](''):_0x380ded(0x7b0),selectedGlobalQuizId=null,document[_0x380ded(0x2ae)](_0x380ded(0x468))[_0x380ded(0x4b3)]=!![],_0x4e923e[_0x380ded(0x2b5)](_0x380ded(0x22d))[_0x380ded(0x7db)](_0x14e337=>{const _0x7a549=_0x380ded;_0x14e337[_0x7a549(0x28c)](_0x7a549(0x39a),()=>{const _0x4c58f1=_0x7a549;selectedGlobalQuizId=_0x14e337['dataset']['id'],_0x4e923e['querySelectorAll'](_0x4c58f1(0x765))[_0x4c58f1(0x7db)](_0x369929=>_0x369929[_0x4c58f1(0x172)][_0x4c58f1(0x6a9)](_0x4c58f1(0x5bb),'ring-2',_0x4c58f1(0x25f))),_0x14e337[_0x4c58f1(0x172)][_0x4c58f1(0x96)]('bg-purple-50',_0x4c58f1(0x512),_0x4c58f1(0x25f)),document[_0x4c58f1(0x2ae)]('confirm-global-live-btn')['disabled']=![];});});}function listenForLiveGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x40e59e=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x40e59e,_0x449190=>{const _0x193ca5=_0x5070;if(!_0x449190[_0x193ca5(0x125)]()){showMessage(_0x193ca5(0x1ae)),showView(currentMode);return;}const _0x593954=_0x449190['data']();_0x593954[_0x193ca5(0x436)]&&(currentQuizData=_0x593954[_0x193ca5(0x436)]);!currentQuizData&&_0x593954[_0x193ca5(0x47c)]&&((async()=>{const _0x1bbc83=_0x193ca5;try{const _0x437d12=doc(db,_0x1bbc83(0x493)+appId+'/public/data/quizzes',_0x593954['quizId']),_0x467e07=await getDoc(_0x437d12);_0x467e07[_0x1bbc83(0x125)]()&&(currentQuizData={'id':_0x467e07['id'],..._0x467e07[_0x1bbc83(0x416)]()});}catch(_0x44b083){console[_0x1bbc83(0x6e4)](_0x1bbc83(0x617),_0x44b083);}})());switch(_0x593954['status']){case _0x193ca5(0x1b2):if(currentMode===_0x193ca5(0x40e)){const _0x44d334=_0x593954[_0x193ca5(0x45d)]?Object[_0x193ca5(0x6ce)](_0x593954[_0x193ca5(0x45d)]):[],_0x5b558d=_0x44d334[_0x193ca5(0x2ca)](([_0x51fdd0,_0x20e825])=>_0x20e825[_0x193ca5(0x5d6)]==='active'),_0x4e7d8f=document[_0x193ca5(0x2ae)]('player-count');if(_0x4e7d8f)_0x4e7d8f[_0x193ca5(0x60a)]=_0x5b558d[_0x193ca5(0x409)];const _0x271877=document[_0x193ca5(0x2ae)](_0x193ca5(0x79f));_0x271877&&(_0x271877[_0x193ca5(0x299)]=_0x5b558d[_0x193ca5(0x58e)](([_0xebe7c1,_0x3f34ac])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xebe7c1+_0x193ca5(0x13c)+_0xebe7c1+_0x193ca5(0x685))['join'](''));const _0xef2a9f=document[_0x193ca5(0x2ae)]('start-game-btn');_0xef2a9f&&(_0xef2a9f[_0x193ca5(0x4b3)]=_0x5b558d[_0x193ca5(0x409)]===0x0);}else showView(_0x193ca5(0x80f)),liveGameView[_0x193ca5(0x299)]=_0x193ca5(0x626)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x193ca5(0x6a5):const _0x4a71b9=_0x593954['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x193ca5(0x84d)][_0x4a71b9]){const _0x5ce04a=currentQuizData['questions'][_0x4a71b9],_0x19c9bd=_0x593954['questionStatus']||_0x193ca5(0x3e6);switch(_0x19c9bd){case _0x193ca5(0x760):currentMode===_0x193ca5(0x40e)?showAdminSummaryView(_0x593954,_0x5ce04a):showPlayerSummaryView(_0x593954,currentStudentName);break;case _0x193ca5(0x49b):currentMode===_0x193ca5(0x40e)&&showTop5LeaderboardView(_0x593954);break;case _0x193ca5(0x3e6):default:if(currentMode===_0x193ca5(0x40e)){const _0x5a0783=writeBatch(db);let _0x45a47d=![];Object[_0x193ca5(0x6ce)](_0x593954[_0x193ca5(0x45d)])['forEach'](([_0x4ce444,_0x2e91de])=>{const _0x57fe7b=_0x193ca5;if(_0x2e91de[_0x57fe7b(0x5d6)]==='active'&&_0x2e91de[_0x57fe7b(0x7d2)]&&!_0x2e91de['isScored']){_0x45a47d=!![];const _0x13182a=_0x2e91de[_0x57fe7b(0x7d2)][_0x57fe7b(0x55e)]()-_0x593954[_0x57fe7b(0x1d4)][_0x57fe7b(0x55e)]();let _0x3a506f=0x0;if(_0x2e91de[_0x57fe7b(0x4e2)]){const _0x6b250f=0x3e8,_0x3599f2=0x1f4,_0x45c1e8=0x4e20;let _0x44d85c=_0x13182a/_0x45c1e8;if(_0x44d85c>0x1)_0x44d85c=0x1;const _0x1b8753=Math[_0x57fe7b(0x2f5)](_0x44d85c*_0x3599f2);_0x3a506f=_0x6b250f-_0x1b8753;}const _0x1d9aae=doc(db,_0x57fe7b(0x493)+appId+_0x57fe7b(0x32e),currentLiveGameId);_0x5a0783[_0x57fe7b(0x2ce)](_0x1d9aae,{[_0x57fe7b(0x332)+_0x4ce444+_0x57fe7b(0x190)]:increment(_0x3a506f),['players.'+_0x4ce444+_0x57fe7b(0x668)]:_0x3a506f,[_0x57fe7b(0x332)+_0x4ce444+_0x57fe7b(0x511)]:!![]});}});_0x45a47d&&_0x5a0783['commit']()[_0x193ca5(0x664)](_0x35ed53=>console[_0x193ca5(0x6e4)](_0x193ca5(0x583),_0x35ed53));lastRenderedAdminQuestionIndex!==_0x4a71b9&&(showAdminLiveQuestionView(_0x5ce04a,_0x4a71b9,currentQuizData[_0x193ca5(0x84d)][_0x193ca5(0x409)]),lastRenderedAdminQuestionIndex=_0x4a71b9);const _0x20a036=_0x593954[_0x193ca5(0x45d)]||{},_0x52283b=Object[_0x193ca5(0x225)](_0x20a036)[_0x193ca5(0x2ca)](_0xe356ba=>_0xe356ba[_0x193ca5(0x5d6)]===_0x193ca5(0x298)),_0xc7d6b4=_0x52283b[_0x193ca5(0x409)],_0x31ac4f=_0x52283b[_0x193ca5(0x2ca)](_0x583512=>_0x583512[_0x193ca5(0x237)]===!![])[_0x193ca5(0x409)],_0x331e89=document['getElementById'](_0x193ca5(0x30b));if(_0x331e89)_0x331e89[_0x193ca5(0x60a)]=_0x31ac4f+'/'+_0xc7d6b4;const _0x144f2a=document[_0x193ca5(0x2ae)](_0x193ca5(0x282));if(_0x144f2a){let _0x28feb1=Object[_0x193ca5(0x6ce)](_0x20a036)['filter'](([_0x3b3bb7,_0x1e8b30])=>_0x1e8b30[_0x193ca5(0x5d6)]===_0x193ca5(0x298))['map'](([_0x10bcb5,_0x2e8997])=>{const _0x3b466d=_0x193ca5,_0x2adecf=_0x2e8997[_0x3b466d(0x237)]===!![],_0x3884a5=_0x2adecf?'bg-green-500':_0x3b466d(0x295),_0xdb2465=_0x2adecf?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x3b466d(0x2bb);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x3884a5+_0x3b466d(0x65d)+_0xdb2465+_0x3b466d(0x628)+_0x10bcb5+_0x3b466d(0x51c)+_0x10bcb5+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x193ca5(0x548)]('');_0x144f2a[_0x193ca5(0x299)]=_0x28feb1||_0x193ca5(0x40b);}_0xc7d6b4>0x0&&_0x31ac4f===_0xc7d6b4&&revealAnswerForAdmin(_0x4a71b9,currentQuizData[_0x193ca5(0x84d)][_0x193ca5(0x409)]);}else{const _0x275293=_0x593954[_0x193ca5(0x45d)][currentStudentName];_0x275293&&!_0x275293['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x5ce04a,_0x4a71b9,currentQuizData[_0x193ca5(0x84d)][_0x193ca5(0x409)]);}break;}}break;case _0x193ca5(0x422):showPodiumView(_0x593954['players']);break;}});}async function handleKickPlayer(_0x505fa6){const _0x5b748f=_0x132f6e;if(!currentLiveGameId||!_0x505fa6)return;const _0x239c51=doc(db,_0x5b748f(0x493)+appId+'/public/data/liveGames',currentLiveGameId),_0x592ff2={};_0x592ff2[_0x5b748f(0x332)+_0x505fa6+_0x5b748f(0x1d6)]='inactive';try{await updateDoc(_0x239c51,_0x592ff2);}catch(_0x21c4fa){console[_0x5b748f(0x6e4)](_0x5b748f(0x23d)+_0x505fa6+':',_0x21c4fa),showMessage(_0x5b748f(0x654));}}async function authenticateUser(){const _0x8ef430=_0x132f6e;try{typeof __initial_auth_token!==_0x8ef430(0xc0)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x296b9f){console['error'](_0x8ef430(0x756),_0x296b9f),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x299f26){const _0x5c8ae8=_0x132f6e,_0x57f71e=[_0x5c8ae8(0x59c),_0x5c8ae8(0x353),'project-dashboard-view','project-detail-view',_0x5c8ae8(0x72b),_0x5c8ae8(0x8b4),_0x5c8ae8(0x8b1)];_0x57f71e[_0x5c8ae8(0x7db)](_0xe39705=>document['getElementById'](_0xe39705)?.[_0x5c8ae8(0x172)]['add'](_0x5c8ae8(0x5cb)));if(_0x299f26===_0x5c8ae8(0x38f))adminView[_0x5c8ae8(0x172)][_0x5c8ae8(0x6a9)](_0x5c8ae8(0x5cb)),projectDashboardView[_0x5c8ae8(0x172)]['remove'](_0x5c8ae8(0x5cb));else{if(_0x299f26===_0x5c8ae8(0x522))studentView['classList'][_0x5c8ae8(0x6a9)](_0x5c8ae8(0x5cb)),studentInitialView['classList'][_0x5c8ae8(0x6a9)](_0x5c8ae8(0x5cb)),studentNameSelectionView[_0x5c8ae8(0x172)][_0x5c8ae8(0x96)](_0x5c8ae8(0x5cb)),studentQuizArea[_0x5c8ae8(0x172)]['add']('hidden'),studentResultArea[_0x5c8ae8(0x172)][_0x5c8ae8(0x96)](_0x5c8ae8(0x5cb)),studentReadingArea['classList'][_0x5c8ae8(0x96)]('hidden'),studentJoinGameView['classList'][_0x5c8ae8(0x96)]('hidden');else{if(_0x299f26==='project-detail')adminView[_0x5c8ae8(0x172)][_0x5c8ae8(0x6a9)](_0x5c8ae8(0x5cb)),projectDetailView[_0x5c8ae8(0x172)][_0x5c8ae8(0x6a9)](_0x5c8ae8(0x5cb));else{if(_0x299f26===_0x5c8ae8(0x1a6))adminView[_0x5c8ae8(0x172)][_0x5c8ae8(0x6a9)](_0x5c8ae8(0x5cb)),quizResultsView[_0x5c8ae8(0x172)][_0x5c8ae8(0x6a9)]('hidden');else _0x299f26==='live-game'&&liveGameView[_0x5c8ae8(0x172)]['remove'](_0x5c8ae8(0x5cb));}}}}function showJoinGameView(){const _0x51eab8=_0x132f6e;studentInitialView[_0x51eab8(0x172)][_0x51eab8(0x96)]('hidden'),studentJoinGameView[_0x51eab8(0x172)][_0x51eab8(0x6a9)](_0x51eab8(0x5cb));}async function handleSaveVisibilitySettings(){const _0x250c3a=_0x132f6e;if(!currentProjectId)return;const _0x8727e5=doc(db,_0x250c3a(0x493)+appId+_0x250c3a(0x855),currentProjectId);try{await updateDoc(_0x8727e5,{'settings.showInStudentDashboard':document[_0x250c3a(0x2ae)](_0x250c3a(0x249))[_0x250c3a(0x13b)],'settings.isPasscodeEnabled':document[_0x250c3a(0x2ae)](_0x250c3a(0x227))[_0x250c3a(0x13b)],'settings.passcode':document[_0x250c3a(0x2ae)](_0x250c3a(0x43b))[_0x250c3a(0x864)]['trim']()}),showMessage(_0x250c3a(0x2cb));}catch(_0x30a88e){console[_0x250c3a(0x6e4)](_0x250c3a(0x7f4),_0x30a88e),showMessage(_0x250c3a(0x1ac));}}function setupEventListeners(){const _0x354504=_0x132f6e,_0x5b5dce=document[_0x354504(0x2ae)](_0x354504(0x8b4));_0x5b5dce['addEventListener'](_0x354504(0x39a),_0x2a0b47=>{const _0x13d103=_0x354504,_0x3fe19f=_0x2a0b47[_0x13d103(0x783)][_0x13d103(0x611)](_0x13d103(0x4ce));document['querySelectorAll'](_0x13d103(0x348))[_0x13d103(0x7db)](_0x55745f=>{const _0x1772b4=_0x13d103;(!_0x3fe19f||_0x55745f['id']!==_0x3fe19f[_0x1772b4(0x41a)][_0x1772b4(0x1d7)])&&_0x55745f[_0x1772b4(0x172)][_0x1772b4(0x6a9)](_0x1772b4(0x28b));});if(!_0x3fe19f)return;const _0x34e07a=_0x3fe19f[_0x13d103(0x41a)][_0x13d103(0x1d7)],_0x532b5a=document[_0x13d103(0x2ae)](_0x34e07a);_0x532b5a&&_0x532b5a[_0x13d103(0x172)][_0x13d103(0x223)](_0x13d103(0x28b));}),_0x5b5dce['addEventListener'](_0x354504(0x39a),_0xd1fa82=>{const _0xaa5bce=_0x354504;if(_0xd1fa82[_0xaa5bce(0x783)][_0xaa5bce(0x172)][_0xaa5bce(0x7ad)](_0xaa5bce(0x540))){const _0x52ba14=_0xd1fa82['target'][_0xaa5bce(0x41a)][_0xaa5bce(0x486)];_0x52ba14&&handleKickPlayer(_0x52ba14);}}),document[_0x354504(0x2ae)](_0x354504(0x3de))[_0x354504(0x28c)]('focus',()=>document[_0x354504(0x2ae)](_0x354504(0x2e5))[_0x354504(0x172)]['remove'](_0x354504(0x5cb))),document[_0x354504(0x2ae)](_0x354504(0x2e5))[_0x354504(0x28c)]('click',handleSaveProjectName),document[_0x354504(0x2ae)](_0x354504(0x3de))[_0x354504(0x28c)](_0x354504(0x9c),_0x2d1106=>{const _0x101391=_0x354504;_0x2d1106[_0x101391(0x8ea)]===_0x101391(0x8a4)&&(_0x2d1106[_0x101391(0x75b)](),_0x2d1106[_0x101391(0x783)][_0x101391(0x39d)](),handleSaveProjectName());}),document['getElementById']('bulk-quiz-settings-btn')[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0x1a82b5=_0x354504;document[_0x1a82b5(0x2ae)](_0x1a82b5(0x2b0))['classList'][_0x1a82b5(0x6a9)](_0x1a82b5(0x5cb));}),document['getElementById'](_0x354504(0x5f4))[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0xc390ad=_0x354504;document['getElementById'](_0xc390ad(0x2b0))[_0xc390ad(0x172)][_0xc390ad(0x96)]('hidden');}),document['getElementById'](_0x354504(0x5c7))[_0x354504(0x28c)](_0x354504(0x39a),handleBulkUpdateQuizSettings),document[_0x354504(0x2ae)](_0x354504(0x8f5))[_0x354504(0x28c)]('click',handleModeSwitch),document['getElementById']('update-old-quizzes-btn')['addEventListener']('click',handleUpdateOldQuizzes),document[_0x354504(0x2ae)](_0x354504(0x28e))[_0x354504(0x28c)](_0x354504(0x39a),handleResetProjectOrder),document[_0x354504(0x2ae)](_0x354504(0x30f))[_0x354504(0x28c)]('click',handleSaveVisibilitySettings),document[_0x354504(0x2ae)](_0x354504(0x809))['addEventListener'](_0x354504(0x39a),handleAddCustomMathTopic),document[_0x354504(0x2ae)](_0x354504(0x198))[_0x354504(0x28c)]('click',handleSelectAllTopics),document[_0x354504(0x2ae)](_0x354504(0x129))['addEventListener'](_0x354504(0x39a),handleDeselectAllTopics),document[_0x354504(0x2ae)](_0x354504(0x6e2))[_0x354504(0x28c)]('click',()=>{const _0x471dfc=_0x354504;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x471dfc(0x38f));}),document[_0x354504(0x2ae)](_0x354504(0x27f))['addEventListener'](_0x354504(0x39a),()=>{const _0xfc8e4d=_0x354504;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0xfc8e4d(0x483));}),document[_0x354504(0x2ae)](_0x354504(0x5ab))['addEventListener'](_0x354504(0x39a),()=>{const _0x52b708=_0x354504;showView(_0x52b708(0x38f));}),document[_0x354504(0x2ae)](_0x354504(0x38d))['addEventListener'](_0x354504(0x39a),()=>{const _0x2b254c=_0x354504;messageModal[_0x2b254c(0x172)][_0x2b254c(0x96)]('hidden'),typeof modalConfirmAction===_0x2b254c(0x309)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x354504(0x2ae)]('create-project-btn')[_0x354504(0x28c)](_0x354504(0x39a),()=>createProjectModal[_0x354504(0x172)][_0x354504(0x6a9)](_0x354504(0x5cb))),document[_0x354504(0x2ae)]('cancel-create-project-btn')[_0x354504(0x28c)](_0x354504(0x39a),()=>createProjectModal[_0x354504(0x172)]['add'](_0x354504(0x5cb))),document[_0x354504(0x2ae)](_0x354504(0x3c1))[_0x354504(0x28c)](_0x354504(0x39a),()=>adminPasswordModal[_0x354504(0x172)][_0x354504(0x96)]('hidden')),document[_0x354504(0x2ae)](_0x354504(0x1be))['addEventListener'](_0x354504(0x39a),handleAdminLogin),document[_0x354504(0x2ae)]('admin-password-input')[_0x354504(0x28c)](_0x354504(0x5a4),_0x135b85=>{const _0x12d3ec=_0x354504;if(_0x135b85[_0x12d3ec(0x8ea)]==='Enter')handleAdminLogin();}),document[_0x354504(0x2ae)](_0x354504(0x84e))[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0xd71e15=_0x354504;confirmationModal[_0xd71e15(0x172)]['add'](_0xd71e15(0x5cb)),confirmAction=null;}),document[_0x354504(0x2ae)](_0x354504(0x144))[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0x414131=_0x354504;confirmAction&&confirmAction(),confirmationModal['classList'][_0x414131(0x96)]('hidden'),confirmAction=null;}),document[_0x354504(0x2ae)](_0x354504(0x453))[_0x354504(0x28c)](_0x354504(0x39a),()=>renameQuizModal['classList'][_0x354504(0x96)](_0x354504(0x5cb))),document['getElementById'](_0x354504(0x4bd))[_0x354504(0x28c)](_0x354504(0x39a),confirmRenameQuiz),document[_0x354504(0x2ae)]('cancel-move-quiz-btn')[_0x354504(0x28c)]('click',()=>moveQuizModal[_0x354504(0x172)][_0x354504(0x96)](_0x354504(0x5cb))),document[_0x354504(0x2ae)](_0x354504(0x620))[_0x354504(0x28c)](_0x354504(0x39a),confirmMoveQuiz),document[_0x354504(0x2ae)](_0x354504(0x4f5))[_0x354504(0x28c)](_0x354504(0x39a),()=>quizSettingsModal['classList'][_0x354504(0x96)](_0x354504(0x5cb))),document['getElementById']('confirm-quiz-settings-btn')[_0x354504(0x28c)](_0x354504(0x39a),confirmQuizSettings),document[_0x354504(0x2ae)]('cancel-quiz-status-btn')[_0x354504(0x28c)](_0x354504(0x39a),()=>quizStatusModal[_0x354504(0x172)][_0x354504(0x96)](_0x354504(0x5cb))),document[_0x354504(0x2ae)](_0x354504(0x3e4))['addEventListener']('click',confirmQuizStatus);const _0x332753=document[_0x354504(0x2ae)](_0x354504(0xc8));document['getElementById'](_0x354504(0xf3))['addEventListener'](_0x354504(0x39a),()=>{const _0x5e165a=_0x354504;_0x332753[_0x5e165a(0x172)][_0x5e165a(0x96)](_0x5e165a(0x5cb));}),document[_0x354504(0x2ae)](_0x354504(0x8e8))[_0x354504(0x28c)](_0x354504(0x39a),async()=>{const _0x1ea655=_0x354504,_0x58ea77=allQuizzes['find'](_0x19becf=>_0x19becf['id']===actionTargetId);_0x58ea77?(currentQuizData=_0x58ea77,exportQuizAsWorksheetPDF()):showMessage(_0x1ea655(0x759)),_0x332753[_0x1ea655(0x172)][_0x1ea655(0x96)](_0x1ea655(0x5cb));}),document[_0x354504(0x2ae)](_0x354504(0x5d4))[_0x354504(0x28c)](_0x354504(0x39a),async()=>{const _0x3c2637=_0x354504,_0x1f685e=allQuizzes[_0x3c2637(0x2fe)](_0x4ff3cf=>_0x4ff3cf['id']===actionTargetId);_0x1f685e?(currentQuizData=_0x1f685e,exportQuizAsTutorPDF()):showMessage(_0x3c2637(0x759)),_0x332753[_0x3c2637(0x172)][_0x3c2637(0x96)](_0x3c2637(0x5cb));}),document[_0x354504(0x2ae)](_0x354504(0x7c4))[_0x354504(0x28c)](_0x354504(0x39a),openGlobalLiveModal),document[_0x354504(0x2ae)](_0x354504(0x84c))['addEventListener'](_0x354504(0x39a),()=>{const _0x38772b=_0x354504;document[_0x38772b(0x2ae)](_0x38772b(0x58c))[_0x38772b(0x172)][_0x38772b(0x96)](_0x38772b(0x5cb)),selectedGlobalQuizId=null;}),document[_0x354504(0x2ae)](_0x354504(0x836))[_0x354504(0x28c)](_0x354504(0x70b),_0x2e482a=>renderGlobalQuizList(_0x2e482a[_0x354504(0x783)]['value'])),document[_0x354504(0x2ae)](_0x354504(0x468))[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0xacab45=_0x354504,_0xc217c3=selectedGlobalQuizId;if(!_0xc217c3)return;document['getElementById']('global-live-game-modal')[_0xacab45(0x172)]['add']('hidden'),handleStartLiveRace(_0xc217c3);}),document[_0x354504(0x2ae)](_0x354504(0x825))[_0x354504(0x28c)](_0x354504(0x70b),renderProjects),document[_0x354504(0x2ae)](_0x354504(0x1f6))[_0x354504(0x28c)](_0x354504(0x261),async()=>{const _0x181f60=_0x354504,_0x5be96d=document[_0x181f60(0x2ae)]('project-sort-select')[_0x181f60(0x864)],_0x5d8bf0=doc(db,_0x181f60(0x5b2),'dashboardConfig');try{await setDoc(_0x5d8bf0,{'projectSort':_0x5be96d},{'merge':!![]});}catch(_0x1b3325){console[_0x181f60(0x6e4)](_0x181f60(0x338),_0x1b3325),showMessage(_0x181f60(0x75c));}}),document[_0x354504(0x2ae)]('quiz-search-input')[_0x354504(0x28c)](_0x354504(0x70b),renderQuizzes),document[_0x354504(0x2ae)](_0x354504(0x829))['addEventListener']('click',()=>{const _0x161cb5=_0x354504;globalDashboardSettings[_0x161cb5(0x3c9)]='grid',saveUserPreference(_0x161cb5(0x3c9),_0x161cb5(0x35d)),renderProjects();}),document['getElementById'](_0x354504(0x347))[_0x354504(0x28c)]('click',()=>{const _0x9d58d2=_0x354504;globalDashboardSettings[_0x9d58d2(0x3c9)]=_0x9d58d2(0x40f),saveUserPreference('projectView','list'),renderProjects();}),manageTab[_0x354504(0x28c)](_0x354504(0x39a),()=>switchProjectTab(_0x354504(0x74c))),resultsTab[_0x354504(0x28c)](_0x354504(0x39a),()=>switchProjectTab('results')),leaderboardTab[_0x354504(0x28c)](_0x354504(0x39a),()=>switchProjectTab('leaderboard')),document[_0x354504(0x2ae)](_0x354504(0x565))[_0x354504(0x28c)]('click',()=>switchQuizDetailTab(_0x354504(0x263))),document[_0x354504(0x2ae)](_0x354504(0x54b))[_0x354504(0x28c)](_0x354504(0x39a),()=>switchQuizDetailTab(_0x354504(0x54a))),document[_0x354504(0x2ae)](_0x354504(0x6f8))['addEventListener']('click',()=>switchQuizDetailTab(_0x354504(0x39c))),document[_0x354504(0x2ae)](_0x354504(0x95))[_0x354504(0x28c)](_0x354504(0x39a),()=>switchQuizDetailTab(_0x354504(0x7d3))),document[_0x354504(0x2ae)](_0x354504(0x2d7))[_0x354504(0x28c)](_0x354504(0x39a),handleAnalyzeClass),generateWorksheetBtn[_0x354504(0x28c)](_0x354504(0x39a),generateWorksheet);const _0x133da2=document[_0x354504(0x2ae)]('link-tab'),_0x40c421=document[_0x354504(0x2ae)](_0x354504(0x1dc)),_0xce91cb=document['getElementById']('blueprint-tab'),_0x2ead5d=document[_0x354504(0x2ae)](_0x354504(0x63d)),_0x2a360b=document[_0x354504(0x2ae)](_0x354504(0x1dd)),_0x571574=document[_0x354504(0x2ae)]('parallel-test-input-area');topicTab[_0x354504(0x28c)]('click',()=>{const _0x3ce600=_0x354504;topicTab[_0x3ce600(0x172)][_0x3ce600(0x96)](_0x3ce600(0x298)),textTab[_0x3ce600(0x172)][_0x3ce600(0x6a9)](_0x3ce600(0x298)),fileTab[_0x3ce600(0x172)]['remove'](_0x3ce600(0x298)),worksheetTab[_0x3ce600(0x172)]['remove'](_0x3ce600(0x298));if(_0x133da2)_0x133da2[_0x3ce600(0x172)]['remove'](_0x3ce600(0x298));if(_0xce91cb)_0xce91cb[_0x3ce600(0x172)][_0x3ce600(0x6a9)](_0x3ce600(0x298));if(_0x2a360b)_0x2a360b[_0x3ce600(0x172)][_0x3ce600(0x6a9)](_0x3ce600(0x298));topicInputArea[_0x3ce600(0x172)][_0x3ce600(0x6a9)](_0x3ce600(0x5cb)),textInputArea[_0x3ce600(0x172)][_0x3ce600(0x96)]('hidden'),fileInputArea[_0x3ce600(0x172)][_0x3ce600(0x96)](_0x3ce600(0x5cb)),worksheetInputArea[_0x3ce600(0x172)]['add']('hidden');if(_0x40c421)_0x40c421[_0x3ce600(0x172)][_0x3ce600(0x96)]('hidden');if(_0x2ead5d)_0x2ead5d[_0x3ce600(0x172)][_0x3ce600(0x96)](_0x3ce600(0x5cb));if(_0x571574)_0x571574[_0x3ce600(0x172)][_0x3ce600(0x96)]('hidden');}),textTab['addEventListener'](_0x354504(0x39a),()=>{const _0x35bf9b=_0x354504;textTab[_0x35bf9b(0x172)][_0x35bf9b(0x96)](_0x35bf9b(0x298)),topicTab[_0x35bf9b(0x172)][_0x35bf9b(0x6a9)](_0x35bf9b(0x298)),fileTab['classList']['remove'](_0x35bf9b(0x298)),worksheetTab[_0x35bf9b(0x172)][_0x35bf9b(0x6a9)](_0x35bf9b(0x298));if(_0x133da2)_0x133da2['classList'][_0x35bf9b(0x6a9)](_0x35bf9b(0x298));if(_0xce91cb)_0xce91cb['classList']['remove']('active');if(_0x2a360b)_0x2a360b[_0x35bf9b(0x172)][_0x35bf9b(0x6a9)]('active');textInputArea[_0x35bf9b(0x172)][_0x35bf9b(0x6a9)](_0x35bf9b(0x5cb)),topicInputArea[_0x35bf9b(0x172)][_0x35bf9b(0x96)]('hidden'),fileInputArea[_0x35bf9b(0x172)][_0x35bf9b(0x96)](_0x35bf9b(0x5cb)),worksheetInputArea[_0x35bf9b(0x172)][_0x35bf9b(0x96)](_0x35bf9b(0x5cb));if(_0x40c421)_0x40c421[_0x35bf9b(0x172)][_0x35bf9b(0x96)](_0x35bf9b(0x5cb));if(_0x2ead5d)_0x2ead5d[_0x35bf9b(0x172)][_0x35bf9b(0x96)](_0x35bf9b(0x5cb));if(_0x571574)_0x571574[_0x35bf9b(0x172)]['add']('hidden');}),fileTab[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0x3199bf=_0x354504;fileTab[_0x3199bf(0x172)][_0x3199bf(0x96)](_0x3199bf(0x298)),topicTab[_0x3199bf(0x172)][_0x3199bf(0x6a9)](_0x3199bf(0x298)),textTab[_0x3199bf(0x172)][_0x3199bf(0x6a9)]('active'),worksheetTab[_0x3199bf(0x172)]['remove'](_0x3199bf(0x298));if(_0x133da2)_0x133da2[_0x3199bf(0x172)][_0x3199bf(0x6a9)]('active');if(_0xce91cb)_0xce91cb[_0x3199bf(0x172)][_0x3199bf(0x6a9)](_0x3199bf(0x298));if(_0x2a360b)_0x2a360b['classList'][_0x3199bf(0x6a9)](_0x3199bf(0x298));fileInputArea[_0x3199bf(0x172)][_0x3199bf(0x6a9)](_0x3199bf(0x5cb)),topicInputArea[_0x3199bf(0x172)]['add']('hidden'),textInputArea['classList'][_0x3199bf(0x96)](_0x3199bf(0x5cb)),worksheetInputArea[_0x3199bf(0x172)]['add'](_0x3199bf(0x5cb));if(_0x40c421)_0x40c421[_0x3199bf(0x172)][_0x3199bf(0x96)](_0x3199bf(0x5cb));if(_0x2ead5d)_0x2ead5d[_0x3199bf(0x172)][_0x3199bf(0x96)](_0x3199bf(0x5cb));if(_0x571574)_0x571574[_0x3199bf(0x172)][_0x3199bf(0x96)](_0x3199bf(0x5cb));}),worksheetTab[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0x3463a0=_0x354504;worksheetTab[_0x3463a0(0x172)]['add'](_0x3463a0(0x298)),topicTab['classList'][_0x3463a0(0x6a9)](_0x3463a0(0x298)),textTab[_0x3463a0(0x172)][_0x3463a0(0x6a9)](_0x3463a0(0x298)),fileTab['classList'][_0x3463a0(0x6a9)](_0x3463a0(0x298));if(_0x133da2)_0x133da2[_0x3463a0(0x172)][_0x3463a0(0x6a9)]('active');if(_0xce91cb)_0xce91cb[_0x3463a0(0x172)]['remove']('active');if(_0x2a360b)_0x2a360b[_0x3463a0(0x172)][_0x3463a0(0x6a9)]('active');worksheetInputArea[_0x3463a0(0x172)]['remove'](_0x3463a0(0x5cb)),topicInputArea[_0x3463a0(0x172)][_0x3463a0(0x96)](_0x3463a0(0x5cb)),textInputArea[_0x3463a0(0x172)]['add'](_0x3463a0(0x5cb)),fileInputArea[_0x3463a0(0x172)][_0x3463a0(0x96)](_0x3463a0(0x5cb));if(_0x40c421)_0x40c421['classList'][_0x3463a0(0x96)](_0x3463a0(0x5cb));if(_0x2ead5d)_0x2ead5d['classList'][_0x3463a0(0x96)]('hidden');if(_0x571574)_0x571574[_0x3463a0(0x172)][_0x3463a0(0x96)](_0x3463a0(0x5cb));});const _0x38f09e=document[_0x354504(0x2ae)](_0x354504(0x41b)),_0x56a53f=document[_0x354504(0x2ae)](_0x354504(0x6cf));_0x38f09e&&_0x38f09e['addEventListener']('click',()=>{const _0x1d7a10=_0x354504;topicTab[_0x1d7a10(0x172)]['remove'](_0x1d7a10(0x298)),textTab[_0x1d7a10(0x172)][_0x1d7a10(0x6a9)](_0x1d7a10(0x298)),fileTab[_0x1d7a10(0x172)][_0x1d7a10(0x6a9)](_0x1d7a10(0x298)),worksheetTab[_0x1d7a10(0x172)][_0x1d7a10(0x6a9)]('active');if(_0x133da2)_0x133da2['classList'][_0x1d7a10(0x6a9)](_0x1d7a10(0x298));if(_0xce91cb)_0xce91cb[_0x1d7a10(0x172)][_0x1d7a10(0x6a9)]('active');if(_0x2a360b)_0x2a360b[_0x1d7a10(0x172)][_0x1d7a10(0x6a9)](_0x1d7a10(0x298));_0x38f09e[_0x1d7a10(0x172)]['add']('active'),topicInputArea[_0x1d7a10(0x172)][_0x1d7a10(0x96)](_0x1d7a10(0x5cb)),textInputArea[_0x1d7a10(0x172)][_0x1d7a10(0x96)]('hidden'),fileInputArea[_0x1d7a10(0x172)][_0x1d7a10(0x96)](_0x1d7a10(0x5cb)),worksheetInputArea['classList'][_0x1d7a10(0x96)]('hidden');if(_0x40c421)_0x40c421['classList']['add'](_0x1d7a10(0x5cb));if(_0x2ead5d)_0x2ead5d[_0x1d7a10(0x172)][_0x1d7a10(0x96)](_0x1d7a10(0x5cb));if(_0x571574)_0x571574[_0x1d7a10(0x172)][_0x1d7a10(0x96)]('hidden');_0x56a53f[_0x1d7a10(0x172)]['remove'](_0x1d7a10(0x5cb)),displayQuestionBank();});_0x133da2&&(_0x133da2[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0xd29be2=_0x354504;_0x133da2[_0xd29be2(0x172)][_0xd29be2(0x96)]('active'),topicTab['classList'][_0xd29be2(0x6a9)](_0xd29be2(0x298)),textTab[_0xd29be2(0x172)][_0xd29be2(0x6a9)](_0xd29be2(0x298)),fileTab[_0xd29be2(0x172)][_0xd29be2(0x6a9)](_0xd29be2(0x298)),worksheetTab[_0xd29be2(0x172)][_0xd29be2(0x6a9)]('active');if(_0xce91cb)_0xce91cb[_0xd29be2(0x172)]['remove']('active');if(_0x2a360b)_0x2a360b[_0xd29be2(0x172)][_0xd29be2(0x6a9)](_0xd29be2(0x298));_0x40c421[_0xd29be2(0x172)][_0xd29be2(0x6a9)](_0xd29be2(0x5cb)),topicInputArea[_0xd29be2(0x172)]['add'](_0xd29be2(0x5cb)),textInputArea['classList']['add'](_0xd29be2(0x5cb)),fileInputArea['classList'][_0xd29be2(0x96)](_0xd29be2(0x5cb)),worksheetInputArea[_0xd29be2(0x172)][_0xd29be2(0x96)](_0xd29be2(0x5cb));if(_0x2ead5d)_0x2ead5d[_0xd29be2(0x172)][_0xd29be2(0x96)](_0xd29be2(0x5cb));if(_0x571574)_0x571574[_0xd29be2(0x172)][_0xd29be2(0x96)](_0xd29be2(0x5cb));}),document['getElementById'](_0x354504(0x8b9))[_0x354504(0x28c)]('click',handleGenerateFromLink));_0xce91cb&&_0xce91cb[_0x354504(0x28c)]('click',()=>{const _0x1c463b=_0x354504;_0xce91cb[_0x1c463b(0x172)]['add'](_0x1c463b(0x298)),topicTab['classList'][_0x1c463b(0x6a9)](_0x1c463b(0x298)),textTab['classList'][_0x1c463b(0x6a9)](_0x1c463b(0x298)),fileTab[_0x1c463b(0x172)][_0x1c463b(0x6a9)](_0x1c463b(0x298)),worksheetTab[_0x1c463b(0x172)][_0x1c463b(0x6a9)](_0x1c463b(0x298));if(_0x133da2)_0x133da2['classList'][_0x1c463b(0x6a9)](_0x1c463b(0x298));if(_0x38f09e)_0x38f09e[_0x1c463b(0x172)][_0x1c463b(0x6a9)](_0x1c463b(0x298));if(_0x2a360b)_0x2a360b['classList']['remove'](_0x1c463b(0x298));_0x2ead5d[_0x1c463b(0x172)][_0x1c463b(0x6a9)](_0x1c463b(0x5cb)),topicInputArea[_0x1c463b(0x172)][_0x1c463b(0x96)](_0x1c463b(0x5cb)),textInputArea[_0x1c463b(0x172)][_0x1c463b(0x96)](_0x1c463b(0x5cb)),fileInputArea[_0x1c463b(0x172)][_0x1c463b(0x96)](_0x1c463b(0x5cb)),worksheetInputArea[_0x1c463b(0x172)][_0x1c463b(0x96)]('hidden');if(_0x40c421)_0x40c421[_0x1c463b(0x172)][_0x1c463b(0x96)](_0x1c463b(0x5cb));if(_0x56a53f)_0x56a53f[_0x1c463b(0x172)][_0x1c463b(0x96)](_0x1c463b(0x5cb));if(_0x571574)_0x571574[_0x1c463b(0x172)][_0x1c463b(0x96)](_0x1c463b(0x5cb));});_0x2a360b&&_0x2a360b['addEventListener']('click',()=>{const _0x21dbd6=_0x354504;_0x2a360b['classList'][_0x21dbd6(0x96)]('active'),topicTab[_0x21dbd6(0x172)][_0x21dbd6(0x6a9)](_0x21dbd6(0x298)),textTab[_0x21dbd6(0x172)][_0x21dbd6(0x6a9)]('active'),fileTab[_0x21dbd6(0x172)][_0x21dbd6(0x6a9)]('active'),worksheetTab[_0x21dbd6(0x172)][_0x21dbd6(0x6a9)](_0x21dbd6(0x298));if(_0x133da2)_0x133da2[_0x21dbd6(0x172)][_0x21dbd6(0x6a9)]('active');if(_0xce91cb)_0xce91cb[_0x21dbd6(0x172)]['remove']('active');if(_0x38f09e)_0x38f09e[_0x21dbd6(0x172)][_0x21dbd6(0x6a9)](_0x21dbd6(0x298));_0x571574[_0x21dbd6(0x172)][_0x21dbd6(0x6a9)](_0x21dbd6(0x5cb)),topicInputArea[_0x21dbd6(0x172)][_0x21dbd6(0x96)](_0x21dbd6(0x5cb)),textInputArea[_0x21dbd6(0x172)][_0x21dbd6(0x96)](_0x21dbd6(0x5cb)),fileInputArea[_0x21dbd6(0x172)][_0x21dbd6(0x96)](_0x21dbd6(0x5cb)),worksheetInputArea[_0x21dbd6(0x172)][_0x21dbd6(0x96)](_0x21dbd6(0x5cb));if(_0x40c421)_0x40c421[_0x21dbd6(0x172)][_0x21dbd6(0x96)](_0x21dbd6(0x5cb));if(_0x2ead5d)_0x2ead5d[_0x21dbd6(0x172)][_0x21dbd6(0x96)](_0x21dbd6(0x5cb));if(_0x56a53f)_0x56a53f[_0x21dbd6(0x172)]['add'](_0x21dbd6(0x5cb));});const _0x49f48f=document[_0x354504(0x2ae)](_0x354504(0x477)),_0x46cd99=document[_0x354504(0x2ae)]('generate-from-blueprint-btn');_0x49f48f&&_0x49f48f['addEventListener']('change',_0x3b39df=>{const _0x343bf7=_0x354504;_0x3b39df[_0x343bf7(0x783)][_0x343bf7(0x36f)][_0x343bf7(0x409)]>0x0?_0x46cd99[_0x343bf7(0x4b3)]=![]:_0x46cd99['disabled']=!![];});_0x46cd99&&_0x46cd99[_0x354504(0x28c)](_0x354504(0x39a),handleGenerateFromBlueprint);const _0x5487af=document[_0x354504(0x2ae)]('parallel-test-upload-input'),_0x2daa48=document['getElementById'](_0x354504(0x392));_0x5487af&&_0x5487af['addEventListener'](_0x354504(0x261),_0x4db4d9=>{const _0x1b464f=_0x354504;_0x2daa48[_0x1b464f(0x4b3)]=_0x4db4d9[_0x1b464f(0x783)][_0x1b464f(0x36f)]['length']===0x0;});_0x2daa48&&_0x2daa48[_0x354504(0x28c)](_0x354504(0x39a),handleGenerateParallelTest);loadQuizBtn[_0x354504(0x28c)]('click',handleLoadQuiz),startQuizBtn[_0x354504(0x28c)](_0x354504(0x39a),async()=>{const _0x4a4153=_0x354504,_0x53dad7=document[_0x4a4153(0x2ae)](_0x4a4153(0x8d0));currentStudentName=_0x53dad7[_0x4a4153(0x864)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x15dbcd=currentQuizData['id'],_0x24d43e=doc(db,_0x4a4153(0x493)+appId+_0x4a4153(0x586)+_0x15dbcd+_0x4a4153(0xd9),currentStudentName);await setDoc(_0x24d43e,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x59b36b){console['error'](_0x4a4153(0x3ad),_0x59b36b),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x4a4153(0x172)][_0x4a4153(0x96)](_0x4a4153(0x5cb)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x354504(0x2ae)](_0x354504(0x6e1))[_0x354504(0x28c)](_0x354504(0x39a),showJoinGameView),document['getElementById']('confirm-join-game-btn')['addEventListener'](_0x354504(0x39a),handleJoinLiveGame),document[_0x354504(0x2ae)]('back-to-student-initial-btn')[_0x354504(0x28c)]('click',()=>showView('student'));const _0xfe4514=()=>{const _0xc05529=_0x354504,_0x22eda0=document[_0xc05529(0x2ae)](_0xc05529(0x354))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0xc05529(0x67d)]();return _0xc05529(0x5ea)+(_0x22eda0||'quiz');},_0xc06946=document[_0x354504(0x2ae)](_0x354504(0x50e));_0xc06946&&_0xc06946['addEventListener']('input',_0x3b8fee=>{const _0x56198c=_0x354504,_0xaaf045=_0x3b8fee[_0x56198c(0x783)]['value'][_0x56198c(0x67d)]()[_0x56198c(0x1a0)](),_0x189f64=document[_0x56198c(0x2ae)](_0x56198c(0x4f2)),_0x1c18ba=_0x189f64[_0x56198c(0x2b5)]('.topic-category');_0x1c18ba[_0x56198c(0x7db)](_0x160062=>{const _0x52a3c2=_0x56198c;let _0x508a44=![];const _0x2368d3=_0x160062['querySelectorAll'](_0x52a3c2(0x9f));_0x2368d3[_0x52a3c2(0x7db)](_0x226474=>{const _0x1cad4a=_0x52a3c2,_0x128a6d=_0x226474['querySelector'](_0x1cad4a(0x26e))[_0x1cad4a(0x60a)]['toLowerCase']();_0x128a6d[_0x1cad4a(0x229)](_0xaaf045)?(_0x226474[_0x1cad4a(0x51a)]['display']=_0x1cad4a(0x90b),_0x508a44=!![]):_0x226474[_0x1cad4a(0x51a)][_0x1cad4a(0x2dc)]='none';}),_0x508a44?_0x160062[_0x52a3c2(0x51a)][_0x52a3c2(0x2dc)]=_0x52a3c2(0x205):_0x160062[_0x52a3c2(0x51a)][_0x52a3c2(0x2dc)]=_0x52a3c2(0x1c4);});});document[_0x354504(0x2ae)](_0x354504(0x137))['addEventListener'](_0x354504(0x39a),()=>exportTableAsImage(_0x354504(0x7fd),_0xfe4514())),document['getElementById'](_0x354504(0x357))['addEventListener'](_0x354504(0x39a),()=>exportTableAsPDF(_0x354504(0x4ee),_0xfe4514())),document[_0x354504(0x2ae)](_0x354504(0x7e8))[_0x354504(0x28c)](_0x354504(0x39a),()=>exportTableAsWord('results-table-container',_0xfe4514())),document['getElementById']('export-excel-btn')['addEventListener'](_0x354504(0x39a),()=>exportTableAsExcel('results-table',_0xfe4514()));const _0x4b81db=()=>{const _0x3bb1bd=_0x354504,_0x4f9fc3=document[_0x3bb1bd(0x2ae)]('results-quiz-title')[_0x3bb1bd(0x60a)][_0x3bb1bd(0x46b)](/[^a-z0-9]/gi,'_')[_0x3bb1bd(0x67d)]();return _0x3bb1bd(0x82c)+(_0x4f9fc3||_0x3bb1bd(0xea));};document[_0x354504(0x2ae)](_0x354504(0x81c))[_0x354504(0x28c)](_0x354504(0x39a),()=>exportTableAsImage(_0x354504(0x426),_0x4b81db())),document[_0x354504(0x2ae)](_0x354504(0x482))[_0x354504(0x28c)](_0x354504(0x39a),()=>exportTableAsPDF(_0x354504(0x4b0),_0x4b81db())),document[_0x354504(0x2ae)](_0x354504(0x140))[_0x354504(0x28c)](_0x354504(0x39a),()=>exportTableAsWord(_0x354504(0x426),_0x4b81db())),document[_0x354504(0x2ae)](_0x354504(0x220))[_0x354504(0x28c)](_0x354504(0x39a),()=>exportTableAsExcel(_0x354504(0x4b0),_0x4b81db())),projectQuizzesList[_0x354504(0x28c)](_0x354504(0x39a),async _0x4bc49e=>{const _0x3cecb6=_0x354504,_0x307ff0=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0x2af)),_0x5913b9=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0x710)),_0x674e14=_0x4bc49e['target'][_0x3cecb6(0x611)](_0x3cecb6(0x872)),_0x47b6fc=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)]('.generate-lesson-btn'),_0x6276fa=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0x519)),_0x1ce7ce=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)]('.copy-quiz-id-list-btn'),_0x83869b=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0x903)),_0x4d8314=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0x20f)),_0x26dc1e=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0x616)),_0xbda360=_0x4bc49e['target']['closest'](_0x3cecb6(0x3cd)),_0x5647f8=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)]('.parallel-quiz-btn'),_0x2a24f4=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0x58d)),_0x101964=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)]('.pair-quiz-btn'),_0x178e1d=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)]('.unpair-quiz-btn'),_0x47e64b=_0x4bc49e['target'][_0x3cecb6(0x611)](_0x3cecb6(0x7ed)),_0xb84d9c=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0xeb)),_0x15c5c9=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0x510)),_0x7e6bf4=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0x645)),_0x5e1f68=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0x191)),_0x32a778=_0x4bc49e[_0x3cecb6(0x783)]['closest'](_0x3cecb6(0x217)),_0x4fb36a=_0x4bc49e[_0x3cecb6(0x783)]['closest'](_0x3cecb6(0xce)),_0x260c7e=_0x4bc49e[_0x3cecb6(0x783)][_0x3cecb6(0x611)](_0x3cecb6(0x4ff));if(_0x4fb36a){const _0x171866=_0x4fb36a[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)],_0x2ea562=document[_0x3cecb6(0x2ae)]('actions-container-'+_0x171866);_0x2ea562&&_0x2ea562['classList'][_0x3cecb6(0x223)](_0x3cecb6(0x5cb));}else{if(_0x5913b9){const _0x35d83e=_0x5913b9['dataset'][_0x3cecb6(0x47c)],_0x1b9a91=allQuizzes[_0x3cecb6(0x2fe)](_0x45591d=>_0x45591d['id']===_0x35d83e);_0x1b9a91&&handleGenerateParallelPostTest(_0x1b9a91);}else{if(_0x674e14)handleCompareResults(_0x674e14[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)],_0x674e14[_0x3cecb6(0x41a)][_0x3cecb6(0x254)]);else{if(_0x47b6fc){const _0x553422=_0x47b6fc['dataset']['quizId'],_0x4c50ef=allQuizzes[_0x3cecb6(0x2fe)](_0x50264e=>_0x50264e['id']===_0x553422);_0x4c50ef&&_0x4c50ef[_0x3cecb6(0x692)]?(displayLessonPlan(_0x4c50ef['lessonPlan'],_0x4c50ef),showConfirmation(_0x3cecb6(0x339),()=>handleGenerateLessonPlan(_0x553422)),document[_0x3cecb6(0x2ae)]('confirmation-modal')[_0x3cecb6(0x5b4)]('h3')[_0x3cecb6(0x60a)]=_0x3cecb6(0x714),document[_0x3cecb6(0x2ae)](_0x3cecb6(0x144))['textContent']='สร้างใหม่'):handleGenerateLessonPlan(_0x553422);}else{if(_0x6276fa)handleToggleStarQuiz(_0x6276fa[_0x3cecb6(0x41a)]['quizId']);else{if(_0x1ce7ce)copyTextToClipboard(_0x1ce7ce['dataset'][_0x3cecb6(0x47c)],_0x3cecb6(0x8d2));else{if(_0x83869b)handleOpenQuizEditor(_0x83869b['dataset']['quizId']);else{if(_0x4d8314)handleQuizSettings(_0x4d8314[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)]);else{if(_0x26dc1e)handleDuplicateQuiz(_0x26dc1e['dataset'][_0x3cecb6(0x47c)]);else{if(_0xbda360)handleRenameQuiz(_0xbda360[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)],_0xbda360[_0x3cecb6(0x41a)][_0x3cecb6(0x764)]);else{if(_0x5647f8){const _0x16cd6f=_0x5647f8[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)],_0x1504c5=allQuizzes[_0x3cecb6(0x2fe)](_0x2e0d42=>_0x2e0d42['id']===_0x16cd6f);_0x1504c5&&handleGenerateParallelFromBank(_0x1504c5);}else{if(_0x2a24f4)handleMoveQuiz(_0x2a24f4[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)]);else{if(_0x101964)handleManualQuizPairing(_0x101964[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)]);else{if(_0x178e1d)handleUnpairQuiz(_0x178e1d[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)]);else{if(_0x47e64b){const _0x33a293=_0x47e64b['dataset'][_0x3cecb6(0x47c)],_0x517358=allQuizzes[_0x3cecb6(0x2fe)](_0x58aaf9=>_0x58aaf9['id']===_0x33a293);if(_0x517358)startPresentation(_0x517358);}else{if(_0xb84d9c){const _0x3e0bef=_0xb84d9c[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)],_0x19f964=allQuizzes[_0x3cecb6(0x2fe)](_0x10e01d=>_0x10e01d['id']===_0x3e0bef);_0x19f964&&(currentQuizData=_0x19f964,startAdminTest());}else{if(_0x15c5c9)handleStartLiveRace(_0x15c5c9[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)]);else{if(_0x7e6bf4)actionTargetId=_0x7e6bf4[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)],document['getElementById']('export-pdf-modal')['classList'][_0x3cecb6(0x6a9)](_0x3cecb6(0x5cb));else{if(_0x5e1f68)showConfirmation(_0x3cecb6(0x11a)+_0x5e1f68['dataset'][_0x3cecb6(0x764)]+_0x3cecb6(0x3ec),()=>handleDeleteQuiz(_0x5e1f68[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)]));else{if(_0x32a778)handleQuizStatus(_0x32a778[_0x3cecb6(0x41a)][_0x3cecb6(0x47c)]);else{if(_0x260c7e)handleGenerateEasyVersionQuiz(_0x260c7e['dataset'][_0x3cecb6(0x47c)]);else _0x307ff0&&showQuizDetailView(_0x307ff0['dataset']['quizId']);}}}}}}}}}}}}}}}}}}}}}),document[_0x354504(0x2ae)](_0x354504(0x4b0))[_0x354504(0x5b4)](_0x354504(0x8d7))[_0x354504(0x28c)](_0x354504(0x39a),_0xe312ef=>{const _0x1348b0=_0x354504,_0x88739=_0xe312ef[_0x1348b0(0x783)]['closest']('.sortable-header');if(!_0x88739||!_0x88739[_0x1348b0(0x41a)]['sort'])return;const _0x3d06d4=_0x88739[_0x1348b0(0x41a)][_0x1348b0(0x6a8)];if(quizLeaderboardSortBy===_0x3d06d4)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x1348b0(0x5c0):_0x1348b0(0x582);else{quizLeaderboardSortBy=_0x3d06d4;const _0x405e14=[_0x1348b0(0x3d9)];quizLeaderboardSortOrder=_0x405e14[_0x1348b0(0x229)](_0x3d06d4)?_0x1348b0(0x582):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document['getElementById'](_0x354504(0x599))[_0x354504(0x28c)](_0x354504(0x39a),closePresentation),document[_0x354504(0x2ae)](_0x354504(0x3f8))[_0x354504(0x28c)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x354504(0x2ae)]('next-question-btn')[_0x354504(0x28c)]('click',()=>{const _0x533e45=_0x354504;currentQuizData[_0x533e45(0x84d)]&&currentPresentationSlide<currentQuizData[_0x533e45(0x84d)][_0x533e45(0x409)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x354504(0x28c)](_0x354504(0x1a4),()=>{const _0x226a9e=_0x354504;!document[_0x226a9e(0x313)]&&(presentationModal[_0x226a9e(0x51a)][_0x226a9e(0x2dc)]=_0x226a9e(0x1c4));}),document[_0x354504(0x2ae)](_0x354504(0x49c))[_0x354504(0x28c)]('click',handleDeleteAllStudents),studentList[_0x354504(0x28c)](_0x354504(0x39a),_0x428a1d=>{const _0x1d73db=_0x354504,_0x45973c=_0x428a1d['target'][_0x1d73db(0x611)](_0x1d73db(0x4b7));if(_0x45973c){const _0x254efd=_0x45973c[_0x1d73db(0x41a)][_0x1d73db(0x3d9)];handleDeleteStudent(_0x254efd);}}),document['getElementById'](_0x354504(0x1bd))['addEventListener'](_0x354504(0x39a),handleGenerateFromFileClick),fileUploadInput[_0x354504(0x28c)]('change',_0x2d5260=>{const _0x3488c6=_0x354504,_0x2b92d2=_0x2d5260[_0x3488c6(0x783)][_0x3488c6(0x36f)][0x0],_0xc75c34=document[_0x3488c6(0x2ae)](_0x3488c6(0x1bd));_0x2b92d2?(selectedFile=_0x2b92d2,_0xc75c34[_0x3488c6(0x4b3)]=![]):(selectedFile=null,_0xc75c34[_0x3488c6(0x4b3)]=!![]);}),document[_0x354504(0x2ae)](_0x354504(0x18c))['addEventListener']('change',_0x459121=>{const _0x3a3bc5=_0x354504,_0x2565a8=document['getElementById'](_0x3a3bc5(0x8f8)),_0x27c544=document[_0x3a3bc5(0x2ae)](_0x3a3bc5(0x94)),_0xff4ddc=document[_0x3a3bc5(0x2ae)](_0x3a3bc5(0x211));_0x459121[_0x3a3bc5(0x783)][_0x3a3bc5(0x864)]===_0x3a3bc5(0x1c4)?_0x2565a8[_0x3a3bc5(0x172)][_0x3a3bc5(0x96)](_0x3a3bc5(0x5cb)):(_0x2565a8[_0x3a3bc5(0x172)][_0x3a3bc5(0x6a9)]('hidden'),_0x459121[_0x3a3bc5(0x783)][_0x3a3bc5(0x864)]===_0x3a3bc5(0x504)?(_0x27c544[_0x3a3bc5(0x60a)]=_0x3a3bc5(0x4fe),_0xff4ddc[_0x3a3bc5(0x864)]='10'):(_0x27c544[_0x3a3bc5(0x60a)]=_0x3a3bc5(0x604),_0xff4ddc[_0x3a3bc5(0x864)]='30'));}),document['getElementById']('quiz-type-select')[_0x354504(0x28c)]('change',_0x16a7f4=>{const _0x3030be=_0x354504,_0x5238ff=document['getElementById']('num-choices-container'),_0x59a1e5=_0x16a7f4['target'][_0x3030be(0x864)],_0x484c41=document[_0x3030be(0x5b4)](_0x3030be(0x7d8)),_0x1dd45b=document['getElementById'](_0x3030be(0x6f9)),_0x3bcc7f=document[_0x3030be(0x2ae)](_0x3030be(0x318));_0x59a1e5==='matching'?_0x484c41[_0x3030be(0x60a)]=_0x3030be(0x71a):_0x484c41[_0x3030be(0x60a)]=_0x3030be(0x253),_0x59a1e5==='multiple_choice'||_0x59a1e5===_0x3030be(0x3e3)||_0x59a1e5===_0x3030be(0x63c)?_0x5238ff['classList'][_0x3030be(0x6a9)](_0x3030be(0x5cb)):_0x5238ff[_0x3030be(0x172)]['add'](_0x3030be(0x5cb)),_0x1dd45b[_0x3030be(0x405)]=_0x3bcc7f[_0x3030be(0x864)];}),document[_0x354504(0x2ae)](_0x354504(0x318))['addEventListener'](_0x354504(0x70b),_0x3fc61e=>{const _0x1f88c1=_0x354504;document[_0x1f88c1(0x2ae)](_0x1f88c1(0x6f9))[_0x1f88c1(0x405)]=_0x3fc61e[_0x1f88c1(0x783)][_0x1f88c1(0x864)];}),document[_0x354504(0x2ae)](_0x354504(0x1a5))[_0x354504(0x28c)](_0x354504(0x261),_0x41971d=>{const _0x2e4d27=_0x354504,_0x28820f=document['getElementById'](_0x2e4d27(0x391)),_0x41a2ff=document['getElementById']('modal-timer-duration-label'),_0xfa8836=document['getElementById'](_0x2e4d27(0x15d));_0x41971d[_0x2e4d27(0x783)]['value']===_0x2e4d27(0x1c4)?_0x28820f['classList'][_0x2e4d27(0x96)](_0x2e4d27(0x5cb)):(_0x28820f['classList']['remove'](_0x2e4d27(0x5cb)),_0x41971d[_0x2e4d27(0x783)][_0x2e4d27(0x864)]==='whole_quiz'?_0x41a2ff[_0x2e4d27(0x60a)]='ระยะเวลา\x20(นาที):':_0x41a2ff[_0x2e4d27(0x60a)]='ระยะเวลา\x20(วินาที):');}),document[_0x354504(0x2ae)](_0x354504(0x27d))[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0x1673d2=_0x354504;document[_0x1673d2(0x2ae)](_0x1673d2(0x17a))[_0x1673d2(0x172)][_0x1673d2(0x96)](_0x1673d2(0x5cb));}),document[_0x354504(0x2ae)](_0x354504(0x380))[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0x1d69e8=_0x354504;document[_0x1d69e8(0x2ae)]('quiz-editor-modal')[_0x1d69e8(0x172)][_0x1d69e8(0x96)](_0x1d69e8(0x5cb));}),document[_0x354504(0x2ae)](_0x354504(0x38a))['addEventListener'](_0x354504(0x39a),handleVerifyAnswersInEditor),document[_0x354504(0x2ae)](_0x354504(0x45a))['addEventListener'](_0x354504(0x39a),()=>{const _0x427f3b=_0x354504;document[_0x427f3b(0x2ae)]('quiz-editor-modal')[_0x427f3b(0x172)][_0x427f3b(0x96)](_0x427f3b(0x5cb)),showConfirmation(_0x427f3b(0x52b),handleSaveChanges);}),document[_0x354504(0x2ae)](_0x354504(0x160))['addEventListener'](_0x354504(0x39a),handleAutoFixLatex);const _0x4acdde=document[_0x354504(0x2ae)](_0x354504(0x6bd));_0x4acdde&&_0x4acdde[_0x354504(0x28c)]('click',_0x2d3952=>{const _0x14ea02=_0x354504,_0x1c809c=_0x2d3952[_0x14ea02(0x783)][_0x14ea02(0x611)](_0x14ea02(0xfe)),_0x41e5ed=_0x2d3952[_0x14ea02(0x783)]['closest'](_0x14ea02(0x4d9));if(_0x1c809c){const _0x59b575=_0x1c809c[_0x14ea02(0x611)]('.question-editor-item'),_0x1fce56=parseInt(_0x59b575['dataset'][_0x14ea02(0x3ea)],0xa);handleRegenerateQuestionInEditor(_0x1fce56);}else{if(_0x41e5ed){const _0x119cd1=_0x41e5ed['closest']('.question-editor-item'),_0x1809e7=parseInt(_0x119cd1[_0x14ea02(0x41a)][_0x14ea02(0x3ea)],0xa);handleAiFixFormula(_0x1809e7);}}});document[_0x354504(0x2ae)](_0x354504(0x495))['addEventListener'](_0x354504(0x39a),openQuizBankModal),document[_0x354504(0x2ae)](_0x354504(0x774))[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0xeedbb3=_0x354504;document[_0xeedbb3(0x2ae)]('quiz-bank-modal')['classList'][_0xeedbb3(0x96)](_0xeedbb3(0x5cb));}),document[_0x354504(0x2ae)](_0x354504(0xbd))['addEventListener'](_0x354504(0x70b),_0x107520=>renderQuizBankList(_0x107520[_0x354504(0x783)][_0x354504(0x864)]));const _0x178e6c=document[_0x354504(0x2ae)](_0x354504(0x4f2));if(_0x178e6c){let _0x2202aa=null;_0x178e6c[_0x354504(0x28c)](_0x354504(0x39a),_0x81e38f=>{const _0x5b3161=_0x354504,_0x3f7783=_0x81e38f[_0x5b3161(0x783)],_0x504480=_0x3f7783[_0x5b3161(0x611)](_0x5b3161(0x2c6)),_0x3d2304=_0x3f7783['closest'](_0x5b3161(0x7f0)),_0x43cda4=_0x3f7783[_0x5b3161(0x611)](_0x5b3161(0x424)),_0x81b9fc=_0x3f7783[_0x5b3161(0x611)]('.cancel-edit-topic-btn');if(_0x3d2304){_0x81e38f[_0x5b3161(0x75b)]();const _0x59382e=_0x3d2304[_0x5b3161(0x41a)]['id'],_0x1600e7=_0x3d2304[_0x5b3161(0x611)](_0x5b3161(0x1e8))['querySelector'](_0x5b3161(0x26e))['textContent'];showConfirmation(_0x5b3161(0x7f7)+_0x1600e7+'\x22?',()=>handleDeleteCustomTopic(_0x59382e));}else{if(_0x504480){_0x81e38f[_0x5b3161(0x75b)]();_0x2202aa&&toggleTopicEditMode(_0x2202aa,![]);const _0x3f5178=_0x504480[_0x5b3161(0x611)](_0x5b3161(0x7e5));_0x2202aa=_0x3f5178,toggleTopicEditMode(_0x3f5178,!![]);}else{if(_0x43cda4){_0x81e38f[_0x5b3161(0x75b)]();const _0x25b4fb=_0x43cda4[_0x5b3161(0x41a)]['id'],_0x208542=_0x43cda4['closest']('[data-topic-container-id]'),_0x1f4e24=_0x208542['querySelector'](_0x5b3161(0x344))[_0x5b3161(0x864)];handleUpdateCustomTopic(_0x25b4fb,_0x1f4e24),_0x2202aa=null;}else{if(_0x81b9fc){_0x81e38f[_0x5b3161(0x75b)]();const _0x374f9c=_0x81b9fc[_0x5b3161(0x611)](_0x5b3161(0x7e5));toggleTopicEditMode(_0x374f9c,![]),_0x2202aa=null;}}}}}),document[_0x354504(0x2ae)](_0x354504(0x627))[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0x1ffaf5=_0x354504;document[_0x1ffaf5(0x2ae)](_0x1ffaf5(0x2a9))['classList'][_0x1ffaf5(0x96)](_0x1ffaf5(0x5cb));}),document[_0x354504(0x2ae)](_0x354504(0x8ab))[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0x4f6948=_0x354504;document['getElementById'](_0x4f6948(0x2a9))[_0x4f6948(0x172)]['add']('hidden');}),document['getElementById'](_0x354504(0x5fe))[_0x354504(0x28c)](_0x354504(0x39a),handleExportLessonPDF);}document[_0x354504(0x2ae)](_0x354504(0x38e))['addEventListener'](_0x354504(0x39a),()=>{const _0x1f7769=_0x354504;document[_0x1f7769(0x2ae)]('comparison-modal')['classList'][_0x1f7769(0x96)]('hidden');}),document[_0x354504(0x2ae)]('close-comparison-modal-footer-btn')[_0x354504(0x28c)](_0x354504(0x39a),()=>{const _0x1b7be8=_0x354504;document[_0x1b7be8(0x2ae)]('comparison-modal')['classList']['add'](_0x1b7be8(0x5cb));}),setupComparisonModalTabs(),document['body'][_0x354504(0x28c)](_0x354504(0x39a),function(_0x272119){const _0x572e75=_0x354504;if(_0x272119['target'][_0x572e75(0x172)][_0x572e75(0x7ad)](_0x572e75(0x5e8))){const _0x5ab56e=unescape(_0x272119['target']['dataset'][_0x572e75(0x764)]);startSkillPractice(_0x5ab56e);}}),document['getElementById'](_0x354504(0x722))[_0x354504(0x28c)](_0x354504(0x39a),_0x2d1417=>{const _0x508d6d=_0x354504,_0x53f4c0=_0x2d1417['target'][_0x508d6d(0x611)](_0x508d6d(0x24e));if(_0x53f4c0){const _0x260da0=_0x53f4c0['dataset']['studentName'];handleDeleteSubmission(_0x260da0);}});}async function showStudentProgressView(){const _0x176819=_0x132f6e;studentInitialView['classList'][_0x176819(0x96)](_0x176819(0x5cb)),document[_0x176819(0x2ae)](_0x176819(0x8b1))[_0x176819(0x172)][_0x176819(0x6a9)](_0x176819(0x5cb));const _0x21d386=document[_0x176819(0x2ae)](_0x176819(0x372)),_0x1139a5=document[_0x176819(0x2ae)](_0x176819(0x5ba)),_0x1ff0bb=document['getElementById'](_0x176819(0x72e));_0x1ff0bb[_0x176819(0x299)]=_0x176819(0x66b),_0x1139a5[_0x176819(0x299)]=_0x176819(0x362),_0x1139a5['disabled']=!![],_0x21d386[_0x176819(0x299)]=_0x176819(0x57f);if(allProjects['length']===0x0){const _0x591c42=collection(db,'artifacts/'+appId+_0x176819(0x855)),_0x143c8a=await getDocs(_0x591c42);allProjects=_0x143c8a['docs'][_0x176819(0x58e)](_0x4e0084=>({'id':_0x4e0084['id'],..._0x4e0084[_0x176819(0x416)]()}));}const _0x5b68a9=allProjects[_0x176819(0x2ca)](_0x2b22aa=>_0x2b22aa[_0x176819(0x65f)]?.[_0x176819(0x2f7)]!==![]);_0x5b68a9[_0x176819(0x6a8)]((_0x505db9,_0x5021a2)=>_0x505db9['projectName']['localeCompare'](_0x5021a2['projectName'],'th')),_0x21d386[_0x176819(0x299)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x5b68a9['map'](_0x15cd55=>_0x176819(0x8fd)+_0x15cd55['id']+'\x22>'+_0x15cd55[_0x176819(0x2a4)]+'</option>')[_0x176819(0x548)](''),_0x21d386[_0x176819(0x6bb)]=()=>{const _0x1268c3=_0x176819,_0x118500=_0x1139a5[_0x1268c3(0x864)],_0x53951e=_0x21d386[_0x1268c3(0x864)];_0x1139a5['disabled']=!![],_0x1139a5['innerHTML']=_0x1268c3(0x362),_0x1ff0bb['innerHTML']=_0x1268c3(0x8cc);if(!_0x53951e)return;const _0x1921d0=allProjects[_0x1268c3(0x2fe)](_0x434dad=>_0x434dad['id']===_0x53951e);if(!_0x1921d0||!_0x1921d0[_0x1268c3(0x6b4)])return;const _0x496f1a=()=>{const _0xd8b807=_0x1268c3;_0x1139a5[_0xd8b807(0x299)]=_0xd8b807(0x362)+_0x1921d0['students'][_0xd8b807(0x58e)](_0x5bb0b1=>_0xd8b807(0x8fd)+_0x5bb0b1+'\x22>'+_0x5bb0b1+_0xd8b807(0x41d))['join'](''),_0x1139a5[_0xd8b807(0x4b3)]=![];const _0x5394ce=Array['from'](_0x1139a5[_0xd8b807(0x234)])[_0xd8b807(0x58e)](_0x3569d4=>_0x3569d4[_0xd8b807(0x864)]);if(_0x118500&&_0x5394ce[_0xd8b807(0x229)](_0x118500))_0x1139a5['value']=_0x118500,_0x1139a5[_0xd8b807(0x43a)](new Event(_0xd8b807(0x261)));else _0x1921d0[_0xd8b807(0x6b4)][_0xd8b807(0x409)]===0x1&&(_0x1139a5[_0xd8b807(0x864)]=_0x1921d0['students'][0x0],_0x1139a5[_0xd8b807(0x43a)](new Event('change')));};if(_0x1921d0[_0x1268c3(0x65f)]?.[_0x1268c3(0x2d4)]){if(sessionStorage[_0x1268c3(0x315)](_0x1268c3(0x908)+_0x53951e)==='true'){_0x496f1a();return;}const _0x2a1626=document[_0x1268c3(0x2ae)](_0x1268c3(0x876)),_0x1ddf6a=document[_0x1268c3(0x2ae)](_0x1268c3(0x386)),_0x5cad02=document[_0x1268c3(0x2ae)](_0x1268c3(0x513)),_0xfbe019=document['getElementById']('student-passcode-input'),_0x4e5f3e=document['getElementById'](_0x1268c3(0x281));document[_0x1268c3(0x2ae)](_0x1268c3(0x6f6))[_0x1268c3(0x60a)]=_0x1268c3(0x226)+_0x1921d0['projectName'],_0xfbe019['value']='',_0x4e5f3e[_0x1268c3(0x172)][_0x1268c3(0x96)](_0x1268c3(0x5cb)),_0x2a1626[_0x1268c3(0x172)]['remove'](_0x1268c3(0x5cb));const _0x536791=()=>{const _0x338182=_0x1268c3,_0x42ac06=_0xfbe019['value'][_0x338182(0x1a0)]();_0x42ac06===_0x1921d0[_0x338182(0x65f)]['passcode']?(sessionStorage['setItem'](_0x338182(0x908)+_0x53951e,_0x338182(0x208)),_0x2a1626[_0x338182(0x172)][_0x338182(0x96)]('hidden'),_0x496f1a(),_0x1ddf6a[_0x338182(0x21f)](_0x338182(0x39a),_0x536791)):_0x4e5f3e[_0x338182(0x172)][_0x338182(0x6a9)](_0x338182(0x5cb));};_0x1ddf6a[_0x1268c3(0x1c1)]=_0x536791,_0x5cad02['onclick']=()=>{const _0x1d2e13=_0x1268c3;_0x2a1626[_0x1d2e13(0x172)][_0x1d2e13(0x96)](_0x1d2e13(0x5cb)),_0x21d386[_0x1d2e13(0x864)]='',_0x1ddf6a[_0x1d2e13(0x21f)](_0x1d2e13(0x39a),_0x536791);};}else _0x496f1a();},_0x1139a5['onchange']=()=>{const _0x22e24b=_0x176819,_0x871a85=_0x21d386[_0x22e24b(0x864)],_0x2d0479=_0x1139a5[_0x22e24b(0x864)];_0x871a85&&_0x2d0479&&renderStudentProgressDashboard(_0x871a85,_0x2d0479);};}async function renderStudentProgressDashboard(_0x1b123f,_0x3dda9c){const _0x83d275=_0x132f6e,_0x3a2d86=document['getElementById'](_0x83d275(0x72e));_0x3a2d86[_0x83d275(0x299)]=_0x83d275(0xf4);try{const _0x4403ca=collection(db,_0x83d275(0x493)+appId+_0x83d275(0x2f9)),_0x413872=query(_0x4403ca,where('projectId','==',_0x1b123f)),_0x3736cd=await getDocs(_0x413872),_0x5e4139=_0x3736cd['docs'][_0x83d275(0x58e)](_0x1bbd73=>({'id':_0x1bbd73['id'],..._0x1bbd73[_0x83d275(0x416)]()})),_0x48e7b4=_0x5e4139[_0x83d275(0x58e)](_0x36d55f=>getDoc(doc(db,_0x83d275(0x493)+appId+'/public/data/quizzes/'+_0x36d55f['id']+_0x83d275(0xd9),_0x3dda9c))),_0x28627d=await Promise[_0x83d275(0x5a9)](_0x48e7b4),_0x2250db=_0x28627d[_0x83d275(0x2ca)](_0x30e302=>_0x30e302[_0x83d275(0x125)]())['map'](_0x533218=>({'quizId':_0x533218[_0x83d275(0x8be)][_0x83d275(0x55d)][_0x83d275(0x55d)]['id'],..._0x533218['data']()}));if(_0x2250db[_0x83d275(0x409)]===0x0){_0x3a2d86['innerHTML']=_0x83d275(0x718);return;}let _0x1d978d='<div\x20class=\x22space-y-4\x22>';_0x2250db[_0x83d275(0x7db)](_0x571128=>{const _0x125c13=_0x83d275,_0x340f78=_0x5e4139['find'](_0x9c320=>_0x9c320['id']===_0x571128['quizId']),_0x2c5568=_0x340f78[_0x125c13(0x65f)]?.[_0x125c13(0x4df)]||_0x125c13(0x1bb),_0x31121a=_0x340f78['settings']?.[_0x125c13(0x8cb)]??0x0,_0x36c433=_0x571128[_0x125c13(0x62b)]>=_0x31121a;let _0xefd0a8='',_0x446d90=_0x125c13(0x88b);switch(_0x2c5568){case'show_results_and_answers':case _0x125c13(0x157):_0x446d90=_0x36c433?'bg-green-50':_0x125c13(0x316),_0xefd0a8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x36c433?'text-green-700':_0x125c13(0xbe))+'\x22>'+_0x571128['bestScore']+_0x125c13(0x551)+_0x571128[_0x125c13(0xf8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x36c433?_0x125c13(0x4a8):_0x125c13(0x5ec))+'\x22>'+(_0x36c433?'ผ่าน':_0x125c13(0x771))+_0x125c13(0x19b);break;case _0x125c13(0x629):_0x446d90=_0x36c433?_0x125c13(0x3d7):'bg-red-50',_0xefd0a8=_0x125c13(0x57b)+(_0x36c433?_0x125c13(0x4a8):_0x125c13(0x5ec))+'\x22>'+(_0x36c433?_0x125c13(0x6b9):_0x125c13(0x771))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x125c13(0x8e5):_0x446d90=_0x125c13(0x547),_0xefd0a8=_0x125c13(0x647);break;}_0x1d978d+=_0x125c13(0x8ec)+_0x446d90+_0x125c13(0x46d)+_0x340f78[_0x125c13(0x764)]+_0x125c13(0x5c1)+_0x571128[_0x125c13(0x68f)][_0x125c13(0x409)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x571128[_0x125c13(0x11f)])[_0x125c13(0x7dc)]('th-TH')+_0x125c13(0x180)+_0xefd0a8+_0x125c13(0x5bd);}),_0x1d978d+=_0x83d275(0x303),_0x3a2d86[_0x83d275(0x299)]=_0x1d978d;}catch(_0x2dd484){console[_0x83d275(0x6e4)]('Error\x20rendering\x20student\x20progress:',_0x2dd484),_0x3a2d86['innerHTML']=_0x83d275(0x1f2);}}function setupStudentProgressListeners(){const _0xb311b0=_0x132f6e;document[_0xb311b0(0x2ae)](_0xb311b0(0x47d))[_0xb311b0(0x28c)](_0xb311b0(0x39a),showStudentProgressView),document[_0xb311b0(0x2ae)](_0xb311b0(0x5bc))[_0xb311b0(0x28c)](_0xb311b0(0x39a),()=>{const _0x426417=_0xb311b0;document[_0x426417(0x2ae)](_0x426417(0x8b1))[_0x426417(0x172)]['add'](_0x426417(0x5cb)),document['getElementById'](_0x426417(0x804))[_0x426417(0x172)][_0x426417(0x6a9)]('hidden');});}async function startSkillPractice(_0x4dca64){const _0x444c8e=_0x132f6e;studentResultArea[_0x444c8e(0x172)][_0x444c8e(0x96)](_0x444c8e(0x5cb)),studentQuizArea['innerHTML']=_0x444c8e(0x29e),studentQuizArea[_0x444c8e(0x172)][_0x444c8e(0x6a9)]('hidden');try{const _0x176f1a=await getStandardizedTopic(_0x4dca64);console['log'](_0x444c8e(0x32c)+_0x4dca64+_0x444c8e(0x87b)+_0x176f1a+'\x22'),studentQuizArea[_0x444c8e(0x5b4)]('p')[_0x444c8e(0x60a)]=_0x444c8e(0x4dd)+_0x176f1a+'\x22...';const _0x48706d=collection(db,_0x444c8e(0x493)+appId+'/public/data/practiceBank'),_0x52bab1=query(_0x48706d,where(_0x444c8e(0x764),'==',_0x176f1a)),_0x50b0ff=await getDocs(_0x52bab1);if(_0x50b0ff[_0x444c8e(0x7d9)][_0x444c8e(0x409)]>=0x3){console[_0x444c8e(0x5fb)](_0x444c8e(0xa5)+_0x50b0ff[_0x444c8e(0x7d9)][_0x444c8e(0x409)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x176f1a+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x351377=_0x50b0ff[_0x444c8e(0x7d9)][_0x444c8e(0x58e)](_0x1a9ac3=>_0x1a9ac3[_0x444c8e(0x416)]());shuffleArray(_0x351377);const _0x5a242a={'topic':_0x176f1a,'questions':_0x351377[_0x444c8e(0x10b)](0x0,0x3)};displaySkillPracticeDrill(_0x5a242a);}else{console['log']('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x176f1a+_0x444c8e(0x366));const _0x3221bc=await generatePracticeQuestions(_0x176f1a);await saveDrillToPracticeBank(_0x3221bc,_0x176f1a),displaySkillPracticeDrill(_0x3221bc);}}catch(_0x408a02){console[_0x444c8e(0x6e4)](_0x444c8e(0x89c),_0x408a02),showMessage(_0x444c8e(0x120)),studentQuizArea[_0x444c8e(0x172)][_0x444c8e(0x96)]('hidden'),studentResultArea[_0x444c8e(0x172)][_0x444c8e(0x6a9)](_0x444c8e(0x5cb));}}async function saveDrillToPracticeBank(_0x248321,_0x2fdadd){const _0x59b41d=_0x132f6e,_0x31c403=collection(db,_0x59b41d(0x493)+appId+_0x59b41d(0x22c)),_0xc52968=writeBatch(db);_0x248321[_0x59b41d(0x84d)][_0x59b41d(0x7db)](_0x422875=>{const _0x3318b7=_0x59b41d,_0x24eb34=doc(_0x31c403);_0xc52968['set'](_0x24eb34,{'topic':_0x2fdadd,'questionText':_0x422875[_0x3318b7(0x374)],'options':_0x422875[_0x3318b7(0x234)],'correctAnswerIndex':_0x422875[_0x3318b7(0x6ed)],'explanation':_0x422875[_0x3318b7(0x5cc)],'createdAt':serverTimestamp()});});try{await _0xc52968[_0x59b41d(0x32d)](),console[_0x59b41d(0x5fb)]('บันทึกคำถามใหม่\x20'+_0x248321[_0x59b41d(0x84d)][_0x59b41d(0x409)]+_0x59b41d(0x127));}catch(_0x269dd8){console[_0x59b41d(0x6e4)](_0x59b41d(0x402),_0x269dd8);}}async function getStandardizedTopic(_0x294bae){const _0x327d38=_0x132f6e,_0x2a31d5=_0x327d38(0x89b)+_0x294bae+_0x327d38(0x64c),_0xe1b39a={'type':_0x327d38(0x6b3),'properties':{'standardTopic':{'type':_0x327d38(0x345)}},'required':[_0x327d38(0x1d8)]};try{const _0x358c3f=await callAnalysisApi(_0x2a31d5,_0xe1b39a);return _0x358c3f[_0x327d38(0x1d8)];}catch(_0x37b8eb){return console['error'](_0x327d38(0x124),_0x37b8eb),_0x294bae;}}async function handleGenerateEasyVersionQuiz(_0x6fb429){const _0x32f7d5=_0x132f6e;showConfirmation(_0x32f7d5(0x799),async()=>{const _0x53b912=_0x32f7d5;showMessage(_0x53b912(0x4c2));try{const _0x140da1=allQuizzes[_0x53b912(0x2fe)](_0x118a23=>_0x118a23['id']===_0x6fb429);if(!_0x140da1)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x5b8b62=_0x53b912(0x7ea)+JSON[_0x53b912(0x75e)](_0x140da1[_0x53b912(0x84d)])+_0x53b912(0x652),_0x1b8992={'type':_0x53b912(0x6b3),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x53b912(0x7cf),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x53b912(0x345)},'explanation':{'type':_0x53b912(0x345)},'imageCode':{'type':_0x53b912(0x345)}},'required':[_0x53b912(0x374),_0x53b912(0x135),_0x53b912(0x5cc)]},_0x5c1152={'type':'OBJECT','properties':{'questions':{'type':_0x53b912(0x7cf),'items':_0x1b8992}},'required':[_0x53b912(0x84d)]},_0x45624b=await callAnalysisApi(_0x5b8b62,_0x5c1152);_0x45624b&&_0x45624b[_0x53b912(0x84d)]&&_0x45624b[_0x53b912(0x84d)][_0x53b912(0x7db)](_0x262c42=>{const _0x5c7527=_0x53b912;_0x262c42[_0x5c7527(0x374)]&&(_0x262c42[_0x5c7527(0x374)]=_0x262c42[_0x5c7527(0x374)][_0x5c7527(0x1a0)]()[_0x5c7527(0x46b)](/,$/,'')[_0x5c7527(0x1a0)]());_0x262c42[_0x5c7527(0x234)]&&Array[_0x5c7527(0x185)](_0x262c42[_0x5c7527(0x234)])&&(_0x262c42['options']=_0x262c42[_0x5c7527(0x234)][_0x5c7527(0x58e)](_0x2925f2=>_0x2925f2||_0x5c7527(0x904)));if(_0x262c42[_0x5c7527(0x21e)]){const _0x5d9625=_0x262c42[_0x5c7527(0x21e)]['trim']();_0x5d9625===''||_0x5d9625[_0x5c7527(0x67d)]()===_0x5c7527(0x608)||!_0x5d9625[_0x5c7527(0x4c4)](_0x5c7527(0x1de))?delete _0x262c42['imageCode']:_0x262c42[_0x5c7527(0x21e)]=_0x5d9625;}});if(!_0x45624b||!_0x45624b['questions']||_0x45624b[_0x53b912(0x84d)][_0x53b912(0x409)]===0x0)throw new Error(_0x53b912(0x378));const _0x2270e9={'projectId':_0x140da1[_0x53b912(0x763)],'quizType':_0x140da1[_0x53b912(0x444)],'settings':_0x140da1[_0x53b912(0x65f)],'createdBy':_0x140da1[_0x53b912(0x245)],'status':'active','topic':'(ฉบับง่าย)\x20'+_0x140da1[_0x53b912(0x764)],'questions':_0x45624b[_0x53b912(0x84d)],'createdAt':new Date()['toISOString'](),'quizMode':_0x53b912(0x440),'pairedQuizId':null};let _0x17a62a;while(!![]){_0x17a62a=Math[_0x53b912(0x7fb)](0x3e8+Math[_0x53b912(0xd1)]()*0x2328)[_0x53b912(0x883)]();const _0x4dcd7e=await getDoc(doc(db,'artifacts/'+appId+_0x53b912(0x2f9),_0x17a62a));if(!_0x4dcd7e[_0x53b912(0x125)]())break;}await setDoc(doc(db,_0x53b912(0x493)+appId+_0x53b912(0x2f9),_0x17a62a),_0x2270e9),showMessage(_0x53b912(0x418));}catch(_0x7d6891){console[_0x53b912(0x6e4)](_0x53b912(0x105),_0x7d6891),showMessage(_0x53b912(0x1b6)+_0x7d6891['message']);}});}async function generatePracticeQuestions(_0x8241af){const _0x683151=_0x132f6e,_0x4afb68=_0x683151(0x755)+_0x8241af+_0x683151(0x1f8)+simpleMathPrompt+_0x683151(0x111),_0x25f715={'type':_0x683151(0x6b3),'properties':{'questionText':{'type':_0x683151(0x345)},'options':{'type':_0x683151(0x7cf),'items':{'type':_0x683151(0x345)}},'correctAnswerIndex':{'type':_0x683151(0x83e)},'explanation':{'type':_0x683151(0x345)}},'required':[_0x683151(0x374),'options','correctAnswerIndex',_0x683151(0x5cc)]},_0x1c7a01={'type':'OBJECT','properties':{'topic':{'type':_0x683151(0x345)},'questions':{'type':_0x683151(0x7cf),'items':_0x25f715}},'required':[_0x683151(0x764),_0x683151(0x84d)]};return await callAnalysisApi(_0x4afb68,_0x1c7a01);}function displayLessonPlan(_0x59babf,_0x5c563d){const _0x4334e1=_0x132f6e,_0x37911f=_0x4334e1(0x5c8)+_0x5c563d[_0x4334e1(0x764)]+_0x4334e1(0xb9)+_0x59babf['learningGaps'][_0x4334e1(0x58e)](_0x397860=>_0x4334e1(0x6ca)+_0x397860+_0x4334e1(0x750))[_0x4334e1(0x548)]('')+_0x4334e1(0x8e3)+_0x59babf[_0x4334e1(0x33d)]+_0x4334e1(0x7bd)+_0x59babf[_0x4334e1(0x273)][_0x4334e1(0x58e)](_0x2b4453=>_0x4334e1(0x53b)+_0x2b4453[_0x4334e1(0x6a5)]+_0x4334e1(0x637)+_0x2b4453[_0x4334e1(0x475)]+_0x4334e1(0x285))['join']('')+_0x4334e1(0x5f1);document[_0x4334e1(0x2ae)](_0x4334e1(0x701))[_0x4334e1(0x60a)]=_0x4334e1(0x439)+_0x5c563d[_0x4334e1(0x764)],document[_0x4334e1(0x2ae)](_0x4334e1(0x1c0))[_0x4334e1(0x299)]=_0x37911f,document[_0x4334e1(0x2ae)]('lesson-plan-modal')[_0x4334e1(0x172)][_0x4334e1(0x6a9)](_0x4334e1(0x5cb));if(window['MathJax'])MathJax[_0x4334e1(0x8dc)]();}function displaySkillPracticeDrill(_0x58159b){const _0x271343=_0x132f6e;let _0x282076=0x0;const _0x5cac78=_0x58159b[_0x271343(0x84d)],_0x24210a=()=>{const _0x1225f8=_0x271343,_0x1396d7=_0x5cac78[_0x282076],_0x4a7cf9=_0x1225f8(0x423)+(_0x282076+0x1)+_0x1225f8(0x551)+_0x5cac78[_0x1225f8(0x409)]+_0x1225f8(0x3b7)+_0x1396d7[_0x1225f8(0x374)]+_0x1225f8(0x52f)+_0x1396d7[_0x1225f8(0x234)]['map']((_0x2addae,_0x33087e)=>_0x1225f8(0xa8)+_0x33087e+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x33087e+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x33087e+'\x22>'+_0x2addae+_0x1225f8(0x6e7))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x1225f8(0x299)]=_0x4a7cf9;if(window['MathJax'])MathJax[_0x1225f8(0x8dc)]([studentQuizArea]);document[_0x1225f8(0x2ae)](_0x1225f8(0x8ba))['addEventListener'](_0x1225f8(0x39a),async()=>{const _0x50bb79=_0x1225f8,_0x296f2f=await getHintForQuestion(_0x1396d7[_0x50bb79(0x374)]);showMessage(_0x296f2f);}),document['getElementById'](_0x1225f8(0x3d3))[_0x1225f8(0x28c)]('click',()=>{const _0x1ebd5c=_0x1225f8,_0x196c21=document[_0x1ebd5c(0x5b4)]('input[name=\x22drill_answer\x22]:checked');if(!_0x196c21){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x1f32c0=document['getElementById'](_0x1ebd5c(0x122)),_0x428257=parseInt(_0x196c21[_0x1ebd5c(0x864)])===_0x1396d7[_0x1ebd5c(0x6ed)];_0x428257?(_0x1f32c0['className']=_0x1ebd5c(0x650),_0x1f32c0[_0x1ebd5c(0x299)]=_0x1ebd5c(0x676)+_0x1396d7[_0x1ebd5c(0x5cc)]):(_0x1f32c0[_0x1ebd5c(0x3ab)]=_0x1ebd5c(0x1e7),_0x1f32c0[_0x1ebd5c(0x299)]=_0x1ebd5c(0x69f)+_0x1396d7[_0x1ebd5c(0x5cc)]);_0x1f32c0[_0x1ebd5c(0x172)][_0x1ebd5c(0x6a9)](_0x1ebd5c(0x5cb));if(window[_0x1ebd5c(0x530)])MathJax[_0x1ebd5c(0x8dc)]([_0x1f32c0]);document[_0x1ebd5c(0x2ae)](_0x1ebd5c(0x3d3))[_0x1ebd5c(0x172)][_0x1ebd5c(0x96)](_0x1ebd5c(0x5cb)),document['getElementById'](_0x1ebd5c(0x8ba))[_0x1ebd5c(0x172)][_0x1ebd5c(0x96)](_0x1ebd5c(0x5cb)),document['getElementById'](_0x1ebd5c(0x62f))['classList']['remove']('hidden');}),document[_0x1225f8(0x2ae)](_0x1225f8(0x62f))['addEventListener'](_0x1225f8(0x39a),()=>{const _0x1f09e8=_0x1225f8;_0x282076++,_0x282076<_0x5cac78[_0x1f09e8(0x409)]?_0x24210a():(studentQuizArea[_0x1f09e8(0x299)]=_0x1f09e8(0xb7),document[_0x1f09e8(0x2ae)](_0x1f09e8(0x368))[_0x1f09e8(0x28c)](_0x1f09e8(0x39a),()=>{const _0x335e2d=_0x1f09e8;studentQuizArea[_0x335e2d(0x172)]['add'](_0x335e2d(0x5cb)),studentResultArea[_0x335e2d(0x172)][_0x335e2d(0x6a9)](_0x335e2d(0x5cb));}));});};_0x24210a();}async function getHintForQuestion(_0x50d990){const _0x23a243=_0x132f6e,_0x5f1d08='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x50d990+_0x23a243(0xc5),_0x5715a0={'type':_0x23a243(0x6b3),'properties':{'hint':{'type':_0x23a243(0x345)}},'required':[_0x23a243(0x257)]};try{const _0x6415e7=await callAnalysisApi(_0x5f1d08,_0x5715a0);return _0x6415e7['hint'];}catch(_0x4bcf24){return console['error'](_0x23a243(0x550),_0x4bcf24),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x560fa3){const _0x3ac947=_0x132f6e;pdfjsLib[_0x3ac947(0x8ed)][_0x3ac947(0x27a)]=_0x3ac947(0x7a7);const _0x11ffb0=await _0x560fa3[_0x3ac947(0x8c1)](),_0x36edc9=await pdfjsLib[_0x3ac947(0x6ae)](_0x11ffb0)[_0x3ac947(0x1ba)],_0x536f0a=_0x36edc9[_0x3ac947(0x5c4)];let _0x19a222='';for(let _0x74cc4b=0x1;_0x74cc4b<=_0x536f0a;_0x74cc4b++){const _0x7f7285=await _0x36edc9[_0x3ac947(0x909)](_0x74cc4b),_0x2da6d9=await _0x7f7285[_0x3ac947(0x8de)](),_0x222d8e=_0x2da6d9[_0x3ac947(0x886)][_0x3ac947(0x58e)](_0x57d6bf=>_0x57d6bf[_0x3ac947(0x2d1)])['join']('\x20');_0x19a222+=_0x222d8e+'\x0a\x0a';}return _0x19a222;}async function handleGenerateFromBlueprint(){const _0x2cf107=_0x132f6e,_0x457657=document[_0x2cf107(0x2ae)](_0x2cf107(0x477)),_0x10b66f=document[_0x2cf107(0x2ae)](_0x2cf107(0x7ab)),_0x3a8b83=_0x457657[_0x2cf107(0x36f)][0x0],_0x4c47c3=_0x10b66f[_0x2cf107(0x36f)][_0x2cf107(0x409)]>0x0?_0x10b66f[_0x2cf107(0x36f)][0x0]:null;if(!_0x3a8b83){showMessage(_0x2cf107(0x52a));return;}const _0x4fd19c=document[_0x2cf107(0x2ae)](_0x2cf107(0x2f8)),_0x33778f=document[_0x2cf107(0x2ae)]('loader-text'),_0x3a39e4=document['getElementById'](_0x2cf107(0x897)),_0x5909eb=document['getElementById']('generate-from-blueprint-btn');_0x5909eb[_0x2cf107(0x4b3)]=!![],document['getElementById'](_0x2cf107(0x68d))[_0x2cf107(0x172)]['remove'](_0x2cf107(0x5cb)),_0x3a39e4[_0x2cf107(0x299)]='',_0x4fd19c[_0x2cf107(0x172)]['remove'](_0x2cf107(0x5cb));try{_0x33778f[_0x2cf107(0x60a)]='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x4eaf22=await extractTextFromPdf(_0x3a8b83);if(!_0x4eaf22[_0x2cf107(0x1a0)]())throw new Error(_0x2cf107(0x2fa));let _0x54f3b4='';_0x4c47c3&&(_0x33778f[_0x2cf107(0x60a)]=_0x2cf107(0x739),_0x54f3b4=await extractTextFromPdf(_0x4c47c3));_0x33778f['textContent']=_0x2cf107(0x1e6);const _0x2c4605=document['getElementById'](_0x2cf107(0x7b8))[_0x2cf107(0x13b)],_0x492a79=_0x2c4605?_0x2cf107(0x188):'',_0x3537e8=_0x54f3b4?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54f3b4+_0x2cf107(0x8fe):'',_0x26ebb6=_0x2cf107(0x13a)+(_0x54f3b4?_0x2cf107(0x8a7):'')+_0x2cf107(0x2ef)+_0x4eaf22+_0x2cf107(0x8fe)+_0x3537e8+_0x2cf107(0x536)+_0x492a79+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2cf107(0x47f),_0x4aa736={'type':_0x2cf107(0x6b3),'properties':{'questionText':{'type':_0x2cf107(0x345)},'questionType':{'type':'STRING','enum':[_0x2cf107(0x7ec),_0x2cf107(0x420)]},'options':{'type':_0x2cf107(0x7cf),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2cf107(0x83e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2cf107(0x345)}},'required':[_0x2cf107(0x374),'questionType',_0x2cf107(0x5cc)]},_0xcaf918={'type':_0x2cf107(0x6b3),'properties':{'topic':{'type':_0x2cf107(0x345)},'questions':{'type':_0x2cf107(0x7cf),'items':_0x4aa736}},'required':['topic','questions']};await handleApiCall(_0x26ebb6,'กำลังสร้างแบบทดสอบจาก\x20Blueprint...',_0xcaf918);}catch(_0x36c459){console[_0x2cf107(0x6e4)](_0x2cf107(0x57e),_0x36c459),showMessage(_0x2cf107(0x1b6)+_0x36c459[_0x2cf107(0x17c)]),_0x3a39e4[_0x2cf107(0x299)]=_0x2cf107(0xa3);}finally{_0x4fd19c[_0x2cf107(0x172)][_0x2cf107(0x96)]('hidden'),_0x5909eb[_0x2cf107(0x4b3)]=![];}}async function handleGenerateParallelFromBank(_0x48d17f){const _0x3649f4=_0x132f6e;switchProjectTab(_0x3649f4(0x74c));const _0x4c2ac8=document[_0x3649f4(0x2ae)](_0x3649f4(0x2f8)),_0x1640fe=document['getElementById'](_0x3649f4(0x691)),_0xbd8925=document[_0x3649f4(0x2ae)](_0x3649f4(0x897));document[_0x3649f4(0x2ae)](_0x3649f4(0x68d))[_0x3649f4(0x172)]['remove'](_0x3649f4(0x5cb)),_0xbd8925[_0x3649f4(0x299)]='',_0x4c2ac8[_0x3649f4(0x172)][_0x3649f4(0x6a9)](_0x3649f4(0x5cb)),_0x1640fe[_0x3649f4(0x60a)]='กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x48d17f[_0x3649f4(0x764)]+_0x3649f4(0x42a);try{const _0x10aa4d=_0x48d17f['questions'][_0x3649f4(0x58e)]((_0x51aadc,_0x1de3f3)=>{const _0x108d78=_0x3649f4;let _0x5d7cc5=_0x1de3f3+0x1+'.\x20'+(_0x51aadc['questionText']||_0x51aadc[_0x108d78(0x20b)])+'\x0a';if(_0x51aadc[_0x108d78(0x234)])_0x5d7cc5+=_0x51aadc[_0x108d78(0x234)]['map']((_0x729d22,_0x58039a)=>_0x108d78(0x2a3)+(_0x58039a===_0x51aadc[_0x108d78(0x6ed)]?_0x108d78(0x4d6):'')+'\x20'+_0x729d22)['join']('\x0a');else _0x51aadc['idealAnswer']&&(_0x5d7cc5+=_0x108d78(0x7e2)+_0x51aadc['idealAnswer']);return _0x5d7cc5;})[_0x3649f4(0x548)]('\x0a\x0a');_0x1640fe['textContent']=_0x3649f4(0x882);const _0x16428f=_0x48d17f['questions']['length'],_0x2940ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22'+_0x48d17f[_0x3649f4(0x764)]+_0x3649f4(0x7b6)+_0x16428f+_0x3649f4(0x18f)+_0x10aa4d+_0x3649f4(0x6a2)+_0x16428f+_0x3649f4(0x790)+simpleMathPrompt+_0x3649f4(0x47f),_0x943b24={'type':_0x3649f4(0x6b3),'properties':{'questionText':{'type':_0x3649f4(0x345)},'questionType':{'type':_0x3649f4(0x345),'enum':['multiple_choice',_0x3649f4(0x420),_0x3649f4(0x5d3),_0x3649f4(0x58b)]},'options':{'type':_0x3649f4(0x7cf),'items':{'type':_0x3649f4(0x345)}},'correctAnswerIndex':{'type':_0x3649f4(0x83e)},'idealAnswer':{'type':_0x3649f4(0x345)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x3649f4(0x345)},'correctResponse':{'type':_0x3649f4(0x345)},'allResponses':{'type':_0x3649f4(0x7cf),'items':{'type':_0x3649f4(0x345)}},'explanation':{'type':_0x3649f4(0x345)},'imageCode':{'type':_0x3649f4(0x345)}},'required':['questionText',_0x3649f4(0x135),_0x3649f4(0x5cc)]},_0x1a98f4={'type':_0x3649f4(0x6b3),'properties':{'topic':{'type':_0x3649f4(0x345)},'questions':{'type':'ARRAY','items':_0x943b24}},'required':[_0x3649f4(0x764),_0x3649f4(0x84d)]},_0x4e4f5f=await callAnalysisApi(_0x2940ea,_0x1a98f4);_0x4e4f5f[_0x3649f4(0x84d)][_0x3649f4(0x409)]>_0x16428f&&(_0x4e4f5f[_0x3649f4(0x84d)]=_0x4e4f5f[_0x3649f4(0x84d)][_0x3649f4(0x10b)](0x0,_0x16428f)),_0x4e4f5f[_0x3649f4(0x764)]=_0x3649f4(0x3e7)+_0x48d17f[_0x3649f4(0x764)],_0x4e4f5f[_0x3649f4(0x444)]=_0x48d17f[_0x3649f4(0x444)],currentQuizData=_0x4e4f5f,displayGeneratedQuiz(_0x4e4f5f),document['getElementById'](_0x3649f4(0x284))['scrollIntoView']({'behavior':_0x3649f4(0xab)});}catch(_0x3222fe){console['error'](_0x3649f4(0x398),_0x3222fe),showMessage(_0x3649f4(0x1b6)+_0x3222fe[_0x3649f4(0x17c)]),_0xbd8925[_0x3649f4(0x299)]=_0x3649f4(0x7bb);}finally{_0x4c2ac8[_0x3649f4(0x172)]['add']('hidden');}}async function handleGenerateParallelPostTest(_0x88d3e){const _0x5b4d50=_0x132f6e,_0x522e13=document[_0x5b4d50(0x2ae)]('results-tab-content'),_0x281702=document[_0x5b4d50(0x2ae)]('project-quizzes-list');_0x281702['classList']['add'](_0x5b4d50(0x5cb));const _0x18c1a0=_0x5b4d50(0x6d2);_0x522e13['insertAdjacentHTML'](_0x5b4d50(0x69c),_0x18c1a0);try{const _0x512adc=_0x88d3e['questions'][_0x5b4d50(0x58e)]((_0x12f956,_0x3ae34c)=>{const _0x4689b5=_0x5b4d50;let _0x398c8b=_0x3ae34c+0x1+'.\x20'+(_0x12f956[_0x4689b5(0x374)]||_0x12f956[_0x4689b5(0x20b)]);if(_0x12f956[_0x4689b5(0x234)])_0x398c8b+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x12f956[_0x4689b5(0x234)][_0x4689b5(0x548)](',\x20');return _0x398c8b;})[_0x5b4d50(0x548)]('\x0a\x0a'),_0x26aaf0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x88d3e[_0x5b4d50(0x764)]+_0x5b4d50(0x84f)+_0x512adc+_0x5b4d50(0x164)+simpleMathPrompt+_0x5b4d50(0x47f),_0x6a5a33={'type':_0x5b4d50(0x6b3),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':_0x5b4d50(0x6b3),'properties':{'questionText':{'type':_0x5b4d50(0x345)},'questionType':{'type':_0x5b4d50(0x345)},'options':{'type':_0x5b4d50(0x7cf),'items':{'type':_0x5b4d50(0x345)}},'correctAnswerIndex':{'type':_0x5b4d50(0x83e)},'idealAnswer':{'type':_0x5b4d50(0x345)},'explanation':{'type':_0x5b4d50(0x345)}},'required':['questionText',_0x5b4d50(0x5cc)]}}},'required':['topic',_0x5b4d50(0x84d)]},_0x52d59b=await callAnalysisApi(_0x26aaf0,_0x6a5a33),_0x2e7939=_0x88d3e['topic'][_0x5b4d50(0x46b)](_0x5b4d50(0x815),'')['trim'](),_0x14c0b1=_0x5b4d50(0x14c)+_0x2e7939,_0x159200={..._0x52d59b,'topic':_0x14c0b1,'quizType':_0x88d3e[_0x5b4d50(0x444)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5b4d50(0x503)](),'status':_0x5b4d50(0x298),'settings':_0x88d3e[_0x5b4d50(0x65f)],'quizMode':_0x5b4d50(0x3df),'pairedQuizId':_0x88d3e['id']};let _0x218feb;while(!![]){_0x218feb=Math[_0x5b4d50(0x7fb)](0x3e8+Math[_0x5b4d50(0xd1)]()*0x2328)[_0x5b4d50(0x883)]();const _0x5398f5=await getDoc(doc(db,_0x5b4d50(0x493)+appId+'/public/data/quizzes',_0x218feb));if(!_0x5398f5['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5b4d50(0x2f9),_0x218feb),_0x159200);const _0x460b77=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x88d3e['id']);await updateDoc(_0x460b77,{'pairedQuizId':_0x218feb}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x4c933c){console[_0x5b4d50(0x6e4)](_0x5b4d50(0x81e),_0x4c933c),showMessage(_0x5b4d50(0x1b6)+_0x4c933c[_0x5b4d50(0x17c)]);}finally{const _0x5e5df6=document['getElementById'](_0x5b4d50(0x24b));if(_0x5e5df6)_0x5e5df6[_0x5b4d50(0x6a9)]();_0x281702[_0x5b4d50(0x172)][_0x5b4d50(0x6a9)](_0x5b4d50(0x5cb));}}async function handleGenerateParallelTest(){const _0x59e64f=_0x132f6e,_0x19400d=document[_0x59e64f(0x2ae)](_0x59e64f(0x6d3)),_0x19fbdc=_0x19400d[_0x59e64f(0x36f)][0x0];if(!_0x19fbdc){showMessage(_0x59e64f(0x19f));return;}const _0x43da7f=document[_0x59e64f(0x2ae)](_0x59e64f(0x2f8)),_0x5248de=document['getElementById'](_0x59e64f(0x691)),_0x24b297=document['getElementById'](_0x59e64f(0x897)),_0x29d765=document[_0x59e64f(0x2ae)]('generate-from-parallel-test-btn');_0x29d765[_0x59e64f(0x4b3)]=!![],document[_0x59e64f(0x2ae)](_0x59e64f(0x68d))['classList'][_0x59e64f(0x6a9)](_0x59e64f(0x5cb)),_0x24b297['innerHTML']='',_0x43da7f[_0x59e64f(0x172)]['remove'](_0x59e64f(0x5cb)),_0x5248de[_0x59e64f(0x60a)]=_0x59e64f(0x7e3);try{const _0x861d05=await extractTextFromPdf(_0x19fbdc);if(!_0x861d05[_0x59e64f(0x1a0)]())throw new Error(_0x59e64f(0x715));_0x5248de[_0x59e64f(0x60a)]=_0x59e64f(0x882);const _0x3eb0d2=document[_0x59e64f(0x2ae)](_0x59e64f(0x7b8))[_0x59e64f(0x13b)],_0x15ada7=_0x3eb0d2?_0x59e64f(0x188):'',_0x123c9c=_0x59e64f(0x4ae)+_0x861d05+_0x59e64f(0x7d4)+_0x15ada7+_0x59e64f(0x769)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x29132c={'type':_0x59e64f(0x6b3),'properties':{'questionText':{'type':_0x59e64f(0x345)},'questionType':{'type':_0x59e64f(0x345),'enum':[_0x59e64f(0x7ec),_0x59e64f(0x420)]},'options':{'type':_0x59e64f(0x7cf),'items':{'type':_0x59e64f(0x345)}},'correctAnswerIndex':{'type':_0x59e64f(0x83e)},'idealAnswer':{'type':_0x59e64f(0x345)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x59e64f(0x345)}},'required':[_0x59e64f(0x374),_0x59e64f(0x135),_0x59e64f(0x5cc)]},_0x344a6c={'type':'OBJECT','properties':{'topic':{'type':_0x59e64f(0x345)},'questions':{'type':_0x59e64f(0x7cf),'items':_0x29132c}},'required':[_0x59e64f(0x764),_0x59e64f(0x84d)]};await handleApiCall(_0x123c9c,_0x59e64f(0x549),_0x344a6c);}catch(_0x2a1a0e){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x2a1a0e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2a1a0e[_0x59e64f(0x17c)]),_0x24b297[_0x59e64f(0x299)]=_0x59e64f(0x7bb);}finally{_0x43da7f[_0x59e64f(0x172)][_0x59e64f(0x96)](_0x59e64f(0x5cb)),_0x29d765[_0x59e64f(0x4b3)]=![];}}async function handleRegenerateQuestionInEditor(_0x2958ba){const _0x40e41f=_0x132f6e;if(currentEditingQuizData===null)return;const _0x538cf8=document[_0x40e41f(0x5b4)]('.question-editor-item[data-q-index=\x22'+_0x2958ba+'\x22]');_0x538cf8&&(_0x538cf8[_0x40e41f(0x299)]=_0x40e41f(0x178));const _0x47a82d=currentEditingQuizData[_0x40e41f(0x84d)][_0x2958ba],_0x216e03=currentEditingQuizData[_0x40e41f(0x764)],_0x42483e=_0x47a82d[_0x40e41f(0x135)],_0x17827d={'type':'OBJECT','properties':{'questionText':{'type':_0x40e41f(0x345)},'options':{'type':_0x40e41f(0x7cf),'items':{'type':_0x40e41f(0x345)}},'correctAnswerIndex':{'type':_0x40e41f(0x83e)},'explanation':{'type':_0x40e41f(0x345)}},'required':[_0x40e41f(0x374),_0x40e41f(0x234),'correctAnswerIndex','explanation']},_0x327544={'type':_0x40e41f(0x6b3),'properties':{'questionText':{'type':_0x40e41f(0x345)},'idealAnswer':{'type':_0x40e41f(0x345)},'explanation':{'type':_0x40e41f(0x345)}},'required':[_0x40e41f(0x374),_0x40e41f(0xf6),'explanation']};let _0x2c8e06,_0x23cbd8='';_0x42483e===_0x40e41f(0x7ec)?(_0x2c8e06=_0x17827d,_0x23cbd8=_0x40e41f(0x287)):(_0x2c8e06=_0x327544,_0x23cbd8=_0x40e41f(0x1b3));const _0x3fa554='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x216e03+_0x40e41f(0x842)+_0x23cbd8+_0x40e41f(0x319)+(_0x47a82d['questionText']||_0x47a82d['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x34a1f6=await callAnalysisApi(_0x3fa554,_0x2c8e06);currentEditingQuizData['questions'][_0x2958ba]={..._0x47a82d,..._0x34a1f6},renderQuizEditor(currentEditingQuizData);}catch(_0x4d41b7){console['error'](_0x40e41f(0xa2),_0x4d41b7),showMessage(_0x40e41f(0x3c6)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x309caa=_0x132f6e,_0x46ef1d=document[_0x309caa(0x2ae)](_0x309caa(0x8f5));currentMode==='student'?(currentMode=_0x309caa(0x40e),_0x46ef1d[_0x309caa(0x299)]=_0x309caa(0x578),_0x46ef1d[_0x309caa(0x6c5)]=_0x309caa(0x35e),showView('admin-dashboard')):(currentMode='student',_0x46ef1d['innerHTML']=_0x309caa(0x470),_0x46ef1d[_0x309caa(0x6c5)]=_0x309caa(0x810),showView('student'));}function handleAdminLogin(){const _0x179436=_0x132f6e,_0x39be08=document[_0x179436(0x2ae)](_0x179436(0x781)),_0x129156=document[_0x179436(0x2ae)](_0x179436(0x4c0));if(_0x39be08[_0x179436(0x864)]===_0x179436(0x4a6)){adminPasswordModal['classList'][_0x179436(0x96)](_0x179436(0x5cb)),_0x39be08['value']='',_0x129156[_0x179436(0x172)][_0x179436(0x96)](_0x179436(0x5cb)),currentMode=_0x179436(0x40e);const _0x270dc8=document['getElementById'](_0x179436(0x8f5));_0x270dc8[_0x179436(0x299)]=_0x179436(0x578),_0x270dc8[_0x179436(0x6c5)]=_0x179436(0x35e),showView(_0x179436(0x38f));}else _0x129156[_0x179436(0x172)]['remove'](_0x179436(0x5cb)),_0x39be08['value']='';}function switchProjectTab(_0x150994){const _0x87a126=_0x132f6e;[_0x87a126(0x74c),_0x87a126(0x3a7),_0x87a126(0x49b)][_0x87a126(0x7db)](_0x4be874=>{const _0x437820=_0x87a126;document[_0x437820(0x2ae)](_0x4be874+'-tab')[_0x437820(0x172)][_0x437820(0x6a9)](_0x437820(0x298)),document['getElementById'](_0x4be874+_0x437820(0x735))[_0x437820(0x172)][_0x437820(0x96)](_0x437820(0x5cb));}),document[_0x87a126(0x2ae)](_0x150994+_0x87a126(0x1a3))[_0x87a126(0x172)]['add']('active'),document['getElementById'](_0x150994+_0x87a126(0x735))[_0x87a126(0x172)][_0x87a126(0x6a9)](_0x87a126(0x5cb));}function switchQuizDetailTab(_0x2cd4af){const _0x4a2c22=_0x132f6e,_0x1e5e58={'analytics':{'btn':_0x4a2c22(0x565),'content':_0x4a2c22(0x2ff)},'scores':{'btn':_0x4a2c22(0x54b),'content':_0x4a2c22(0x722)},'leaderboard-quiz':{'btn':_0x4a2c22(0x6f8),'content':_0x4a2c22(0x7e1)},'behavior-log':{'btn':_0x4a2c22(0x95),'content':'behavior-log-tab-content'}};for(const _0x3f5a52 in _0x1e5e58){document[_0x4a2c22(0x2ae)](_0x1e5e58[_0x3f5a52][_0x4a2c22(0x3f5)])['classList'][_0x4a2c22(0x6a9)]('active'),document[_0x4a2c22(0x2ae)](_0x1e5e58[_0x3f5a52][_0x4a2c22(0x138)])[_0x4a2c22(0x172)]['add'](_0x4a2c22(0x5cb));}document[_0x4a2c22(0x2ae)](_0x1e5e58[_0x2cd4af]['btn'])['classList'][_0x4a2c22(0x96)](_0x4a2c22(0x298)),document[_0x4a2c22(0x2ae)](_0x1e5e58[_0x2cd4af][_0x4a2c22(0x138)])[_0x4a2c22(0x172)][_0x4a2c22(0x6a9)](_0x4a2c22(0x5cb));}function showMessage(_0x2de282,_0x2b9632=null){const _0x105588=_0x132f6e;modalMessage[_0x105588(0x60a)]=_0x2de282,modalConfirmAction=_0x2b9632,messageModal['classList']['remove'](_0x105588(0x5cb));}function showConfirmation(_0x13bb16,_0x5f5637){const _0x53513c=_0x132f6e;document[_0x53513c(0x2ae)]('confirmation-message')[_0x53513c(0x60a)]=_0x13bb16,document[_0x53513c(0x2ae)](_0x53513c(0x646))[_0x53513c(0x5b4)]('h3')[_0x53513c(0x60a)]=_0x53513c(0x2fc),confirmAction=_0x5f5637,confirmationModal[_0x53513c(0x172)]['remove'](_0x53513c(0x5cb));}function listenForProjects(){const _0x43340f=_0x132f6e,_0x1a8ab9=doc(db,_0x43340f(0x5b2),_0x43340f(0x518));onSnapshot(_0x1a8ab9,_0x30b147=>{const _0x38601d=_0x43340f;if(_0x30b147['exists']()){const _0x1fcda6=_0x30b147[_0x38601d(0x416)]();globalDashboardSettings['projectSort']=_0x1fcda6[_0x38601d(0x1ed)]||_0x38601d(0x49a),globalDashboardSettings[_0x38601d(0x2c8)]=_0x1fcda6['pinnedProjects']||[],globalDashboardSettings[_0x38601d(0x23e)]=_0x1fcda6[_0x38601d(0x23e)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x3cd5ca=collection(db,_0x43340f(0x493)+appId+_0x43340f(0x855));unsubscribeProjectsListener=onSnapshot(_0x3cd5ca,_0x1f29f5=>{const _0x3b5dce=_0x43340f;allProjects=_0x1f29f5[_0x3b5dce(0x7d9)]['map'](_0x43d180=>({'id':_0x43d180['id'],..._0x43d180[_0x3b5dce(0x416)]()})),renderProjects();},_0x2cabc0=>{const _0x3fd0ae=_0x43340f;console[_0x3fd0ae(0x6e4)](_0x3fd0ae(0x455),_0x2cabc0),showMessage(_0x3fd0ae(0x71c));});}function showColorPalette(_0x9d7e81,_0x19233b){const _0x3b5bad=_0x132f6e;document[_0x3b5bad(0x2b5)](_0x3b5bad(0x4eb))['forEach'](_0x48e842=>_0x48e842[_0x3b5bad(0x6a9)]());const _0x1836ef=['#FFFFFF',_0x3b5bad(0x5f3),_0x3b5bad(0x407),_0x3b5bad(0xd6),_0x3b5bad(0x731),_0x3b5bad(0x37e),_0x3b5bad(0x1f4),_0x3b5bad(0x748),_0x3b5bad(0x34e)],_0x10fb82=document[_0x3b5bad(0x230)]('div');_0x10fb82[_0x3b5bad(0x3ab)]=_0x3b5bad(0x2c2),_0x1836ef[_0x3b5bad(0x7db)](_0x19352d=>{const _0x18a7bc=_0x3b5bad,_0x47e99e=document['createElement']('div');_0x47e99e['className']=_0x18a7bc(0x657),_0x47e99e[_0x18a7bc(0x51a)]['backgroundColor']=_0x19352d,_0x47e99e[_0x18a7bc(0x28c)](_0x18a7bc(0x39a),()=>{const _0x296eca=_0x18a7bc;handleProjectColorChange(_0x19233b,_0x19352d),_0x10fb82[_0x296eca(0x6a9)]();}),_0x10fb82[_0x18a7bc(0x168)](_0x47e99e);}),document['body'][_0x3b5bad(0x168)](_0x10fb82);const _0x329ea3=_0x9d7e81[_0x3b5bad(0x70c)]();_0x10fb82[_0x3b5bad(0x51a)]['top']=_0x329ea3[_0x3b5bad(0x7a0)]+window[_0x3b5bad(0x533)]+'px',_0x10fb82[_0x3b5bad(0x51a)][_0x3b5bad(0x6b8)]=_0x329ea3[_0x3b5bad(0x6b8)]+window[_0x3b5bad(0x44e)]-_0x10fb82['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x80630,_0x7b5bfa){const _0x3602ab=_0x132f6e,_0x1c7361=doc(db,_0x3602ab(0x493)+appId+_0x3602ab(0x855),_0x80630);try{await updateDoc(_0x1c7361,{'color':_0x7b5bfa});}catch(_0x5bcb72){console[_0x3602ab(0x6e4)](_0x3602ab(0x73c),_0x5bcb72),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x59894e=_0x132f6e,_0x425b65=globalDashboardSettings[_0x59894e(0x1ed)]||'date_desc',_0x3c1842=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x140bc6=globalDashboardSettings[_0x59894e(0x3c9)]||_0x59894e(0x35d),_0x5ac1f9=document[_0x59894e(0x2ae)](_0x59894e(0x829)),_0x59c2a1=document['getElementById']('list-view-btn');_0x5ac1f9[_0x59894e(0x172)]['toggle'](_0x59894e(0x298),_0x140bc6==='grid'),_0x59c2a1[_0x59894e(0x172)][_0x59894e(0x223)]('active',_0x140bc6===_0x59894e(0x40f)),document['getElementById'](_0x59894e(0x1f6))[_0x59894e(0x864)]=_0x425b65;const _0x32c81b=document['getElementById'](_0x59894e(0x825))[_0x59894e(0x864)][_0x59894e(0x67d)]();let _0x471adb=allProjects[_0x59894e(0x2ca)](_0x340f65=>_0x340f65[_0x59894e(0x2a4)][_0x59894e(0x67d)]()[_0x59894e(0x229)](_0x32c81b));const _0x5f0066=_0x471adb[_0x59894e(0x2ca)](_0x561a70=>_0x3c1842[_0x59894e(0x5e1)](_0x561a70['id'])),_0x140f2a=_0x471adb[_0x59894e(0x2ca)](_0x3f7c7a=>!_0x3c1842[_0x59894e(0x5e1)](_0x3f7c7a['id'])),_0xcf13d7=(_0x2b0e8b,_0x4e2cd4)=>{const _0x287856=_0x59894e;switch(_0x425b65){case'name_asc':return _0x2b0e8b[_0x287856(0x2a4)][_0x287856(0x50f)](_0x4e2cd4[_0x287856(0x2a4)],'th');case _0x287856(0x14b):return _0x4e2cd4[_0x287856(0x2a4)][_0x287856(0x50f)](_0x2b0e8b['projectName'],'th');case _0x287856(0x4d0):return new Date(_0x2b0e8b[_0x287856(0x758)])-new Date(_0x4e2cd4[_0x287856(0x758)]);default:return new Date(_0x4e2cd4[_0x287856(0x758)])-new Date(_0x2b0e8b[_0x287856(0x758)]);}};_0x5f0066[_0x59894e(0x6a8)](_0xcf13d7),_0x140f2a['sort'](_0xcf13d7);const _0x2841ab=[..._0x5f0066,..._0x140f2a],_0x41cb02=globalDashboardSettings[_0x59894e(0x23e)]||[];_0x41cb02[_0x59894e(0x409)]>0x0&&_0x140bc6===_0x59894e(0x35d)&&_0x2841ab['sort']((_0x13c4ec,_0x26aced)=>{const _0x536b0d=_0x59894e,_0x4beb17=_0x41cb02['indexOf'](_0x13c4ec['id']),_0x2521fa=_0x41cb02[_0x536b0d(0x7ef)](_0x26aced['id']);if(_0x4beb17===-0x1)return 0x1;if(_0x2521fa===-0x1)return-0x1;return _0x4beb17-_0x2521fa;});const _0xe7f1ad={};await Promise['all'](_0x2841ab[_0x59894e(0x58e)](async _0x51dd50=>{const _0x5d68dd=_0x59894e,_0x56de7b=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x5d68dd(0x763),'==',_0x51dd50['id'])),_0x4f830e=await getDocs(_0x56de7b);_0xe7f1ad[_0x51dd50['id']]=_0x4f830e[_0x5d68dd(0x6ff)];}));const _0x5e0d68=document[_0x59894e(0x2ae)](_0x59894e(0x79b));let _0x4409b4='';if(_0x140bc6==='grid'){_0x5e0d68['className']=_0x59894e(0x5e9);if(starredQuizzes[_0x59894e(0x409)]>0x0&&_0x32c81b===''){const _0x10d47f=starredQuizzes['map'](_0x1f19e1=>{const _0xc4f7e4=_0x59894e,_0x21ad01=allProjects[_0xc4f7e4(0x2fe)](_0x29dc9c=>_0x29dc9c['id']===_0x1f19e1['projectId']);return{..._0x1f19e1,'projectName':_0x21ad01?_0x21ad01['projectName']:_0xc4f7e4(0x5de)};});_0x4409b4+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10d47f[_0x59894e(0x58e)](_0x2c552e=>_0x59894e(0x6fd)+_0x2c552e['topic']+'\x22>'+_0x2c552e[_0x59894e(0x764)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x2c552e[_0x59894e(0x2a4)]+_0x59894e(0x2a2)+_0x2c552e[_0x59894e(0x2a4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x59894e(0x548)]('')+_0x59894e(0x4e1)+starredQuizzes[_0x59894e(0x409)]+_0x59894e(0x307);}_0x2841ab[_0x59894e(0x7db)](_0x3535cb=>{const _0x263e42=_0x59894e,_0x5b3479=_0xe7f1ad[_0x3535cb['id']]??0x0,_0x142d16=_0x3c1842[_0x263e42(0x5e1)](_0x3535cb['id']),_0x3bf56a=_0x3535cb['color']||_0x263e42(0x384),_0x2e7c8b=parseInt(_0x3bf56a['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x3bf56a[_0x263e42(0xd4)](0x3,0x5),0x10)*0.587+parseInt(_0x3bf56a['substring'](0x5,0x7),0x10)*0.114<0xba,_0x32add7=_0x2e7c8b?_0x263e42(0x431):_0x263e42(0x537),_0x1ea33b=_0x2e7c8b?_0x263e42(0x232):_0x263e42(0x447);_0x4409b4+=_0x263e42(0x312)+(_0x142d16?_0x263e42(0x8cd):_0x263e42(0x5ed))+_0x263e42(0x29d)+_0x3bf56a+_0x263e42(0x5a7)+_0x3535cb['id']+_0x263e42(0x690)+_0x3535cb['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x2e7c8b?_0x263e42(0x8a5):_0x263e42(0x5e5))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3535cb['id']+_0x263e42(0x6ad)+(_0x2e7c8b?_0x263e42(0x8a5):_0x263e42(0x5e5))+_0x263e42(0x644)+(_0x142d16?_0x2e7c8b?_0x263e42(0x737):_0x263e42(0x6da):'')+_0x263e42(0x3c0)+_0x3535cb['id']+_0x263e42(0x3be)+_0x32add7+'\x20pointer-events-none\x22>'+_0x3535cb[_0x263e42(0x2a4)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x1ea33b+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x3535cb[_0x263e42(0x758)])['toLocaleDateString'](_0x263e42(0x5af))+_0x263e42(0x52d)+(_0x2e7c8b?_0x263e42(0x853):_0x263e42(0x5df))+_0x263e42(0x8da)+_0x5b3479+_0x263e42(0x7a6)+_0x3535cb['id']+_0x263e42(0x87f)+_0x3535cb[_0x263e42(0x2a4)]+_0x263e42(0x412)+(_0x2e7c8b?'text-red-300\x20hover:text-red-100':_0x263e42(0x5e0))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x5e0d68[_0x59894e(0x3ab)]='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0x32c81b===''&&(_0x4409b4+=_0x59894e(0x6d4)+starredQuizzes['length']+_0x59894e(0x757)),_0x4409b4+=_0x59894e(0x5ef),_0x2841ab['forEach'](_0x56b6b4=>{const _0x3a6099=_0x59894e,_0xb3854f=_0xe7f1ad[_0x56b6b4['id']]??0x0,_0x4dfa60=_0x3c1842[_0x3a6099(0x5e1)](_0x56b6b4['id']);_0x4409b4+=_0x3a6099(0x214)+(_0x56b6b4['color']||_0x3a6099(0x34e))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x56b6b4['id']+_0x3a6099(0x38c)+_0x56b6b4['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0xb3854f+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x56b6b4[_0x3a6099(0x758)])[_0x3a6099(0x31c)](_0x3a6099(0x5af))+_0x3a6099(0x898)+_0x56b6b4['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x4dfa60?_0x3a6099(0x6da):'')+_0x3a6099(0x6f4)+_0x56b6b4['id']+_0x3a6099(0x87f)+_0x56b6b4[_0x3a6099(0x2a4)]+_0x3a6099(0x87c);});projectList[_0x59894e(0x299)]=_0x4409b4,noProjectsMsg[_0x59894e(0x172)]['toggle'](_0x59894e(0x5cb),_0x4409b4[_0x59894e(0x409)]>0x0);}document[_0x132f6e(0x2ae)](_0x132f6e(0x5d0))[_0x132f6e(0x28c)]('click',async()=>{const _0x3b8422=_0x132f6e,_0x48bd46=document['getElementById'](_0x3b8422(0x4c1)),_0x20cf7e=_0x48bd46['value'][_0x3b8422(0x1a0)]();if(!_0x20cf7e){showMessage(_0x3b8422(0x478));return;}try{const _0x402a5a=doc(collection(db,_0x3b8422(0x493)+appId+'/public/data/projects'));await setDoc(_0x402a5a,{'projectName':_0x20cf7e,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x3b8422(0x1c4),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x3b8422(0x503)]()}),_0x48bd46['value']='',createProjectModal[_0x3b8422(0x172)]['add'](_0x3b8422(0x5cb)),showMessage(_0x3b8422(0x3f4));}catch(_0x594ca1){console[_0x3b8422(0x6e4)](_0x3b8422(0x621),_0x594ca1),showMessage(_0x3b8422(0x8d4));}}),projectList['addEventListener']('click',async _0x121b86=>{const _0x4b6f72=_0x132f6e,_0x1559b5=_0x121b86[_0x4b6f72(0x783)][_0x4b6f72(0x611)](_0x4b6f72(0x8e6)),_0x39d687=_0x121b86[_0x4b6f72(0x783)][_0x4b6f72(0x611)](_0x4b6f72(0x498)),_0x2132c9=_0x121b86[_0x4b6f72(0x783)][_0x4b6f72(0x611)]('.pin-project-btn'),_0x1de418=_0x121b86[_0x4b6f72(0x783)][_0x4b6f72(0x611)](_0x4b6f72(0x238));if(_0x2132c9){const _0x18e542=_0x2132c9[_0x4b6f72(0x41a)]['id'],_0x157d71=doc(db,_0x4b6f72(0x5b2),'dashboardConfig'),_0x417f99=globalDashboardSettings[_0x4b6f72(0x2c8)];let _0x1e0146;_0x417f99[_0x4b6f72(0x229)](_0x18e542)?_0x1e0146=_0x417f99['filter'](_0x3481ad=>_0x3481ad!==_0x18e542):_0x1e0146=[..._0x417f99,_0x18e542];try{await setDoc(_0x157d71,{'pinnedProjects':_0x1e0146},{'merge':!![]});}catch(_0x2edf75){console[_0x4b6f72(0x6e4)](_0x4b6f72(0x74b),_0x2edf75),showMessage(_0x4b6f72(0x5fc));}}else{if(_0x1de418){const _0x423002=_0x1de418['dataset']['id'];showColorPalette(_0x1de418,_0x423002);}else{if(_0x1559b5){const _0x6971a=_0x1559b5[_0x4b6f72(0x41a)]['id'];_0x6971a===_0x4b6f72(0xd0)?showStarredProjectView():(currentProjectId=_0x6971a,await loadProjectDetails(currentProjectId),showView(_0x4b6f72(0x483)));}else{if(_0x39d687){const _0x223572=_0x39d687[_0x4b6f72(0x41a)]['id'],_0x360c36=_0x39d687[_0x4b6f72(0x41a)][_0x4b6f72(0x54f)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x360c36+_0x4b6f72(0x3ec),()=>handleDeleteProject(_0x223572));}}}}}),projectList[_0x132f6e(0x28c)](_0x132f6e(0x324),_0x54dbf2=>{const _0x4eb383=_0x132f6e,_0x4cca00=_0x54dbf2[_0x4eb383(0x783)][_0x4eb383(0x611)]('.project-card-container');_0x4cca00&&_0x4cca00[_0x4eb383(0x172)]['add'](_0x4eb383(0x3ef));}),projectList['addEventListener'](_0x132f6e(0x110),_0x9d98db=>{const _0x292c62=_0x132f6e,_0x4ef416=_0x9d98db[_0x292c62(0x783)][_0x292c62(0x611)](_0x292c62(0x1e0));_0x4ef416&&_0x4ef416[_0x292c62(0x172)][_0x292c62(0x6a9)](_0x292c62(0x3ef));}),projectList[_0x132f6e(0x28c)]('dragover',_0x349d73=>{const _0x269d4b=_0x132f6e;_0x349d73[_0x269d4b(0x75b)]();const _0x27acba=document[_0x269d4b(0x5b4)](_0x269d4b(0x23b));if(!_0x27acba)return;const _0x15c841=getDragAfterElement(projectList,_0x349d73[_0x269d4b(0x16e)]);_0x15c841==null?projectList['appendChild'](_0x27acba):projectList[_0x269d4b(0x5c3)](_0x27acba,_0x15c841);}),projectList[_0x132f6e(0x28c)]('drop',_0x456e5a=>{const _0x3471b0=_0x132f6e;_0x456e5a[_0x3471b0(0x75b)]();const _0x28582c=[...projectList['querySelectorAll']('.project-card-container[data-id]')][_0x3471b0(0x58e)](_0x4749fd=>_0x4749fd[_0x3471b0(0x41a)]['id']);saveProjectOrder(_0x28582c);});function renderBehaviorLog(_0x22990a){const _0x1fb565=_0x132f6e,_0x24270e=document[_0x1fb565(0x2ae)](_0x1fb565(0x5f2));if(!_0x24270e)return;const _0x21a039=_0x22990a[_0x1fb565(0x2ca)](_0x2ab988=>_0x2ab988[_0x1fb565(0xfc)]&&_0x2ab988[_0x1fb565(0xfc)][_0x1fb565(0x409)]>0x0);if(_0x21a039[_0x1fb565(0x409)]===0x0){_0x24270e[_0x1fb565(0x299)]=_0x1fb565(0x4e9);return;}let _0x4dd909='';_0x21a039['forEach'](_0x59c9d8=>{const _0x12c5f8=_0x1fb565;_0x4dd909+=_0x12c5f8(0x326)+_0x59c9d8['studentName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x59c9d8[_0x12c5f8(0xfc)][_0x12c5f8(0x6a8)]((_0x46850e,_0x325d38)=>new Date(_0x325d38[_0x12c5f8(0x108)])-new Date(_0x46850e[_0x12c5f8(0x108)]))[_0x12c5f8(0x7db)](_0x39bb9f=>{const _0x390b00=_0x12c5f8,_0x36644d=new Date(_0x39bb9f[_0x390b00(0x108)])[_0x390b00(0x31c)]('th-TH',{'dateStyle':'short','timeStyle':_0x390b00(0x703)});_0x4dd909+=_0x390b00(0x4bb)+_0x39bb9f[_0x390b00(0x53d)]+_0x390b00(0x85c)+_0x36644d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4dd909+=_0x12c5f8(0x18e);}),_0x24270e[_0x1fb565(0x299)]=_0x4dd909;}function getDragAfterElement(_0x34b0c1,_0x59bb24){const _0x1ef0a6=_0x132f6e,_0x30f4a2=[..._0x34b0c1[_0x1ef0a6(0x2b5)](_0x1ef0a6(0x6c4))];return _0x30f4a2[_0x1ef0a6(0x44b)]((_0x3161f1,_0x48729c)=>{const _0x3c6d15=_0x1ef0a6,_0x356717=_0x48729c['getBoundingClientRect'](),_0x3f4601=_0x59bb24-_0x356717[_0x3c6d15(0x6a4)]-_0x356717[_0x3c6d15(0x51f)]/0x2;return _0x3f4601<0x0&&_0x3f4601>_0x3161f1[_0x3c6d15(0x34f)]?{'offset':_0x3f4601,'element':_0x48729c}:_0x3161f1;},{'offset':Number[_0x1ef0a6(0x891)]})[_0x1ef0a6(0x514)];}async function saveProjectOrder(_0x2b00a3){const _0x1e50f6=_0x132f6e,_0xd96b34=doc(db,_0x1e50f6(0x5b2),_0x1e50f6(0x518));try{await setDoc(_0xd96b34,{'projectOrder':_0x2b00a3},{'merge':!![]});}catch(_0x7f169){console[_0x1e50f6(0x6e4)](_0x1e50f6(0x414),_0x7f169),showMessage(_0x1e50f6(0x4f8));}}async function logBehaviorEvent(_0x5ebd3a,_0xa9de58={}){const _0x4f7dd1=_0x132f6e;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x4f7dd1(0x45f)](_0x4f7dd1(0x3db));return;}const _0x5b9f5f=doc(db,_0x4f7dd1(0x493)+appId+_0x4f7dd1(0x586)+currentQuizData['id']+'/submissions',currentStudentName),_0x4dc5ff={'event':_0x5ebd3a,'timestamp':new Date()[_0x4f7dd1(0x503)](),..._0xa9de58};try{await updateDoc(_0x5b9f5f,{'behaviorLog':arrayUnion(_0x4dc5ff)}),console[_0x4f7dd1(0x5fb)](_0x4f7dd1(0x572)+currentStudentName+_0x4f7dd1(0x14f));}catch(_0x26436d){_0x26436d[_0x4f7dd1(0x256)]===_0x4f7dd1(0x4fd)?console[_0x4f7dd1(0x45f)](_0x4f7dd1(0x532)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x4f7dd1(0x6e4)](_0x4f7dd1(0x100),_0x26436d);}}function calculateMeanAndStdDev(_0x4c764b){const _0x5cd7ae=_0x132f6e;if(_0x4c764b[_0x5cd7ae(0x409)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x468929=_0x4c764b['reduce']((_0x432bb6,_0x39d7f3)=>_0x432bb6+_0x39d7f3,0x0)/_0x4c764b[_0x5cd7ae(0x409)];if(_0x4c764b[_0x5cd7ae(0x409)]===0x1)return{'mean':_0x468929,'stdDev':0x0};const _0x25ab12=Math[_0x5cd7ae(0x5a8)](_0x4c764b[_0x5cd7ae(0x58e)](_0x203824=>Math[_0x5cd7ae(0x6f3)](_0x203824-_0x468929,0x2))[_0x5cd7ae(0x44b)]((_0x2a8c80,_0x20ad42)=>_0x2a8c80+_0x20ad42,0x0)/(_0x4c764b[_0x5cd7ae(0x409)]-0x1));return{'mean':_0x468929,'stdDev':_0x25ab12};}function calculateZScore(_0x7b75d6,_0x4a4c92,_0x55b535){if(_0x55b535===0x0)return 0x0;return(_0x7b75d6-_0x4a4c92)/_0x55b535;}function calculateTScore(_0x4d4477){return 0xa*_0x4d4477+0x32;}function showStarredProjectView(){const _0x11e97f=_0x132f6e;currentProjectId=_0x11e97f(0x47b),currentProjectData=null,projectTitle[_0x11e97f(0x60a)]=_0x11e97f(0x2a5),projectIdDisplay[_0x11e97f(0x60a)]=_0x11e97f(0x173),showView(_0x11e97f(0x483)),manageTab[_0x11e97f(0x172)][_0x11e97f(0x96)](_0x11e97f(0x5cb)),leaderboardTab['classList']['add']('hidden'),switchProjectTab(_0x11e97f(0x3a7)),renderQuizzes();}async function loadProjectDetails(_0x2c9946){const _0x3052eb=_0x132f6e,_0x9c678f=doc(db,'artifacts/'+appId+_0x3052eb(0x855),_0x2c9946),_0x390e02=await getDoc(_0x9c678f);if(_0x390e02['exists']()){manageTab['classList'][_0x3052eb(0x6a9)](_0x3052eb(0x5cb)),leaderboardTab[_0x3052eb(0x172)]['remove'](_0x3052eb(0x5cb)),currentProjectData=_0x390e02[_0x3052eb(0x416)](),projectTitle[_0x3052eb(0x60a)]=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x2c9946;const _0x437d64=currentProjectData['settings']||{};document[_0x3052eb(0x2ae)](_0x3052eb(0x1f1))['value']=_0x437d64[_0x3052eb(0x40a)]||_0x3052eb(0x1c4);const _0x1a890d=document[_0x3052eb(0x2ae)]('show-in-student-dashboard-checkbox');_0x1a890d[_0x3052eb(0x13b)]=_0x437d64[_0x3052eb(0x2f7)]!==![];const _0x3d8f3d=document[_0x3052eb(0x2ae)](_0x3052eb(0x227)),_0x393ab7=document[_0x3052eb(0x2ae)](_0x3052eb(0x7c0)),_0xb80926=document['getElementById'](_0x3052eb(0x43b)),_0x2e6b42=_0x437d64['isPasscodeEnabled']||![];_0x3d8f3d[_0x3052eb(0x13b)]=_0x2e6b42,_0xb80926[_0x3052eb(0x864)]=_0x437d64[_0x3052eb(0xd3)]||'',_0x393ab7['classList'][_0x3052eb(0x223)](_0x3052eb(0x5cb),!_0x2e6b42),_0x3d8f3d[_0x3052eb(0x6bb)]=()=>{const _0xea5dc6=_0x3052eb;_0x393ab7[_0xea5dc6(0x172)][_0xea5dc6(0x223)](_0xea5dc6(0x5cb),!_0x3d8f3d[_0xea5dc6(0x13b)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2c9946),listenForProjectQuizzes(_0x2c9946),listenForStudentProfiles(_0x2c9946);}else showMessage(_0x3052eb(0x69b)),showView(_0x3052eb(0x38f));}async function handleResetProjectOrder(){const _0xf4610a=_0x132f6e,_0x8817d8=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x8817d8,{'projectOrder':[]},{'merge':!![]}),showMessage(_0xf4610a(0x1f3));}catch(_0x3dbccb){console[_0xf4610a(0x6e4)](_0xf4610a(0x6f2),_0x3dbccb),showMessage(_0xf4610a(0x118));}}async function handleTogglePinProject(_0x393c77){const _0x14e626=_0x132f6e;if(!_0x393c77)return;const _0x10c031=doc(db,_0x14e626(0x493)+appId+_0x14e626(0x855),_0x393c77);try{const _0xebff96=await getDoc(_0x10c031);if(_0xebff96['exists']()){const _0xbaa625=_0xebff96[_0x14e626(0x416)]()[_0x14e626(0x752)]||![];await updateDoc(_0x10c031,{'isPinned':!_0xbaa625});}}catch(_0x763c9d){console[_0x14e626(0x6e4)](_0x14e626(0x560),_0x763c9d),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x327d93){const _0x113da3=_0x132f6e;try{const _0x3530fb=writeBatch(db),_0x44a882=collection(db,_0x113da3(0x493)+appId+_0x113da3(0x2f9)),_0x4da749=query(_0x44a882,where(_0x113da3(0x763),'==',_0x327d93)),_0x4a4bc5=await getDocs(_0x4da749);for(const _0xa537f5 of _0x4a4bc5[_0x113da3(0x7d9)]){const _0x40f53e=collection(db,_0x113da3(0x493)+appId+_0x113da3(0x586)+_0xa537f5['id']+'/submissions'),_0x12e2ff=await getDocs(_0x40f53e);_0x12e2ff[_0x113da3(0x7db)](_0x5629ff=>{const _0x456bdf=_0x113da3;_0x3530fb[_0x456bdf(0x5e6)](_0x5629ff[_0x456bdf(0x8be)]);}),_0x3530fb[_0x113da3(0x5e6)](_0xa537f5[_0x113da3(0x8be)]);}const _0x1c2017=collection(db,_0x113da3(0x493)+appId+_0x113da3(0x2f6)+_0x327d93+_0x113da3(0x761)),_0x80a27e=await getDocs(_0x1c2017);_0x80a27e[_0x113da3(0x7db)](_0x1148b8=>{const _0x128fd6=_0x113da3;_0x3530fb[_0x128fd6(0x5e6)](_0x1148b8['ref']);});const _0x4a5e74=doc(db,_0x113da3(0x493)+appId+'/public/data/projects',_0x327d93);_0x3530fb[_0x113da3(0x5e6)](_0x4a5e74),await _0x3530fb[_0x113da3(0x32d)](),showMessage(_0x113da3(0x56c)),showView('admin-dashboard');}catch(_0x3d7f05){console['error'](_0x113da3(0x3a1),_0x3d7f05),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x132f6e(0x2ae)]('save-settings-btn')[_0x132f6e(0x28c)](_0x132f6e(0x39a),async()=>{const _0x2dc43b=_0x132f6e;if(!currentProjectId)return;const _0x5050be={'defaultNumQuestions':parseInt(document['getElementById'](_0x2dc43b(0x318))[_0x2dc43b(0x864)]),'defaultNumChoices':parseInt(document['getElementById']('num-choices')['value']),'defaultPassingScore':parseInt(document['getElementById'](_0x2dc43b(0x6f9))['value']),'resultsDisplay':document['getElementById'](_0x2dc43b(0x3a2))[_0x2dc43b(0x864)],'shuffleSetting':document['getElementById']('shuffle-setting-select')[_0x2dc43b(0x864)],'timerMode':document[_0x2dc43b(0x2ae)](_0x2dc43b(0x18c))['value'],'timerDuration':parseInt(document[_0x2dc43b(0x2ae)]('timer-duration-input')['value'])};try{const _0x538610=doc(db,_0x2dc43b(0x493)+appId+_0x2dc43b(0x855),currentProjectId);await updateDoc(_0x538610,{'settings':_0x5050be}),showMessage(_0x2dc43b(0x381));}catch(_0x49cb25){console[_0x2dc43b(0x6e4)](_0x2dc43b(0x57a),_0x49cb25),showMessage(_0x2dc43b(0xb6));}});function listenForStudents(_0x22c852){const _0x126360=_0x132f6e,_0x42c4df=doc(db,_0x126360(0x493)+appId+_0x126360(0x855),_0x22c852);unsubscribeStudentsListener=onSnapshot(_0x42c4df,_0x2728ed=>{const _0x732fe6=_0x126360;if(_0x2728ed[_0x732fe6(0x125)]()){const _0x3ad684=_0x2728ed['data']();currentProjectData=_0x3ad684,renderStudentList(_0x3ad684[_0x732fe6(0x6b4)]||[]);}});}function renderStudentList(_0x2931eb){const _0x5a0c96=_0x132f6e,_0x5d083b=document[_0x5a0c96(0x2ae)](_0x5a0c96(0x49c));_0x2931eb[_0x5a0c96(0x409)]===0x0?(studentList[_0x5a0c96(0x299)]=_0x5a0c96(0x4d5),_0x5d083b['classList'][_0x5a0c96(0x96)]('hidden')):(studentList['innerHTML']=_0x2931eb[_0x5a0c96(0x58e)](_0x8435df=>_0x5a0c96(0x30e)+_0x8435df+_0x5a0c96(0x6c1)+_0x8435df+_0x5a0c96(0x104))[_0x5a0c96(0x548)](''),_0x5d083b[_0x5a0c96(0x172)]['remove']('hidden'));}function _0x3854(){const _0x3f0995=['items','ผ่านฉลุย','<div>','fa-crown\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getScreenCTM','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','fas\x20fa-star\x20text-yellow-500','NEGATIVE_INFINITY','.question-editor-item','rename-quiz-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวแปรและนิพจน์','กราฟฟังก์ชันตรีโกณ','generated-quiz-container','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','quiz-search-input','.ql-editor','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','.draggable-text','แก้ระบบสมการด้วยเมทริกซ์','bulk-shuffle-select','Enter','text-gray-300\x20hover:text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','close-lesson-plan-modal-footer-btn','<li\x20class=\x22','ตารางความถี่','student-quiz-area','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','comparison','student-progress-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','live-game-view','Invalid\x20response\x20structure\x20from\x20AI:','อัตราการเปลี่ยนแปลงทันที','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','#ffffff','generate-from-link-btn','hint-btn','presentation-scratchpad-btn','test','กรุณาวาง\x20URL\x20ของบทความก่อน','ref','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','arrayBuffer','text-green-800','ระบบสมการเชิงเส้นสองตัวแปร','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','sin','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x5cle','เกิดข้อผิดพลาดในการอัปเดต:\x20','passingScore','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','border-indigo-400\x20ring-2\x20ring-indigo-200','show-leaderboard-btn','ค่าความจริง/ตารางค่าความจริง','student-name-select','</form>','คัดลอกรหัสแล้ว!','\x5cpm','ไม่สามารถสร้างโปรเจคได้','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','typesetPromise','.question-editor-item[data-q-index=\x22','getTextContent','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','00:00','retake-quiz-loop-btn','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','pre-test','manual_release','.project-card-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','export-compact-pdf-btn','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','key','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','GlobalWorkerOptions','<option>กำลังโหลดโปรเจค...</option>','open-scratchpad-btn','border-green-300\x20bg-green-50','กำลังอ่านและเตรียมไฟล์...','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','student-name-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mode-switcher-btn','option','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','timer-duration-container','firstScore','bg-green-100\x20font-bold','bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classWeaknesses','$1^{\x5ccirc}','bg-amber-100\x20text-amber-800','ร้อยละประยุกต์','.edit-quiz-btn','(ตัวเลือกผิดพลาด)','<p><strong>คำตอบที่แนะนำ:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerup','authed_project_','getPage','.\x20แต่ละข้อมี\x20','flex','timer-duration-label','behavior-log-tab-btn','add','bg-red-100','สอบปกติ','game-pin-input','slide-counter','^{\x5ccirc}\x5ctext{C}$','keydown','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','.topic-row','สร้างชุดคำถามจับคู่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','Error\x20regenerating\x20question\x20in\x20editor:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','preScore','พบข้อสอบ\x20','strength-weakness-analysis-container','parts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','กำลังสร้างรูปภาพ...','smooth','.correct-response-input','20277joENZi','#results-table','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-close-btn','bulk-loop-until-pass-checkbox','390346tnZjLb','transformOrigin','ไม่สามารถบันทึกการตั้งค่าได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','text-green-600\x20font-bold','</td></tr>','#F59E0B','bank-quiz-search-input','text-red-700','gamePin','undefined','จำนวนนักเรียน','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','export-pdf-modal','การคูณ','questionIndex','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','resize','.toggle-actions-btn','visibilityState','starred-project','random','ไม่ใช่','passcode','substring','\x5cfrac{','#D1FAE5','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','/submissions','link-url-input','startedAt','clearRect','จากไฟล์ที่แนบมานี้,\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','สถิติและความน่าจะเป็น','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','ค.ร.น.\x20(LCM)','.lastAnswerValue','on_fire','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','pointercancel','Error\x20opening\x20quiz\x20editor:','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','modal-message','จัดการ','quiz','.admin-try-quiz-list-btn','teacherSuggestions','quiz-schedule-start-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','\x20ช่อง','reveal-answer-btn','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','cancel-export-pdf-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','idealAnswer','Original\x20quiz\x20not\x20found','totalQuestions','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','อินเวอร์สของเมทริกซ์','createObjectURL','behaviorLog','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','.regenerate-question-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','blockReason','</span>','Error\x20deleting\x20all\x20students:','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20easy\x20version\x20quiz:','isCorrect','ยอดเยี่ยม','timestamp','สร้างแบบทดสอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slice','.doc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','currentQuestionIndex','questions_only','dragend','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','<button\x20id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','closePath','_opt0\x22>ใช่</label></div>','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','(^|[^\x5c\x5c])\x5cb','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','trail-tool-btn','\x20ครั้ง)</span></td>','latestSubmittedAt','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','drill-feedback','เรขาคณิต','Failed\x20to\x20get\x20standardized\x20topic:','exists','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','ท็อปฟอร์ม','deselect-all-topics-btn','inactive','\x5cneq','presentation-slide-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20','ไม่พบแบบทดสอบ','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','finishReason','$1\x5c%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','questionType','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','export-image-btn','content','ไม่พบข้อมูลการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checked','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สี่เหลี่ยม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','export-leaderboard-word-btn','empty','isRemedial','scratchpad-clear-btn','confirm-delete-btn','คะแนนเฉลี่ย','topic-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','lineJoin','no-projects-msg','name_desc','(หลังเรียน)\x20','เปลี่ยนชื่อแบบทดสอบสำเร็จ','สมการเหตุผล\x20(rational)','\x20สำเร็จ','correctResponse','\x20(p=','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','release','Error\x20generating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','first_try_ace','show_results_only','Error\x20deleting\x20student:','redo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setTransform','modal-timer-duration-input','ปิดใช้งาน','ดอกเบี้ยทบต้น','auto-fix-latex-btn','student-quiz-leaderboard-tab','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','(เลือกแล้ว\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','td,\x20th','การลบทศนิยม','appendChild','พอใช้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20submission:','clientY','lowerGroupResponders','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','specialist','classList','pinned-items','delete-svg-btn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','ไฮเพอร์โบลา','quiz-schedule-end-container','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','quiz-editor-modal','selected-topics-count','message','การหารทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','.topic-actions-edit','isArray','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','verify-answers-btn','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ฟังก์ชันกำลังสองและกราฟ','timer-mode-select','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.score','.delete-quiz-btn','pen','การแปลงรูปอัตลักษณ์','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','lineCap','.choice-text','select-all-topics-btn','การจัดหมู่\x20(Combination)','color','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-results-display-select','instructions','ยังไม่ส่ง','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','trim','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','per-question-options','-tab','fullscreenchange','modal-timer-mode-select','quiz-results','add-student-btn','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(239,\x2068,\x2068,\x200.7)','$1\x5ctext{','เกิดข้อผิดพลาดในการบันทึก','#student-project-leaderboard-content\x20thead','เกมสิ้นสุดลงแล้ว','text-input-area','60LqhxCu','visibilitychange','lobby','แบบเติมคำตอบ','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','เกิดข้อผิดพลาด:\x20','interesting-stats-container','wheel','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','promise','show_results_and_answers','ฟังก์ชันเชิงเส้นและกราฟ','generate-from-file-btn','confirm-admin-login-btn','ฐานนิยม','lesson-plan-content','onclick','scheduled','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','jspdf','getContext','next-question-timed-btn','upper_group_count','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','ผู้เชี่ยวชาญ','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','tan','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','questionDisplayedAt','การบวกทศนิยม','.status','tooltipTarget','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','กำลังสร้างแบบทดสอบจากหัวข้อ...','link-input-area','parallel-test-tab','<svg','รูปสแควร์รูท\x20(surd)','.project-card-container','ไม่พบแบบทดสอบในระบบเลย','เกิดข้อผิดพลาดในการอ่านไฟล์','red','source-over','getAttributeNS','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','.group','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','comparison-chart','[contenteditable=\x22true\x22]','then','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','Error\x20displaying\x20question\x20bank:','badgesCount','shuffle-setting-select','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','รีเซ็ตลำดับโปรเจคแล้ว','#F3E8FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','project-sort-select','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เมทริกซ์:\x20บวก/คูณ','pointsLastQuestion','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20',')\x5cb)','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ย้าย','geq','Error\x20pairing\x20quizzes:','block','เกิดข้อผิดพลาดในการลบหัวข้อ','gain','true','จำนวนเชิงซ้อน\x20(เสริม)','Error\x20fetching\x20quiz\x20status:','stem','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนน','ไม่ได้ตอบ','.quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','timer-duration-input','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','Error\x20verifying\x20answers:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','close','quiz-status-modal','.quiz-status-btn','</span></td>','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','Error\x20saving\x20to\x20question\x20bank:','both','upperGroupResponders','imageCode','removeEventListener','export-leaderboard-excel-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','กฎของโคไซน์','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','values','สำหรับโปรเจค:\x20','enable-passcode-checkbox','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','includes','per-q-countdown','.live-answer-btn','/public/data/practiceBank','button[data-id]','Error\x20deleting\x20quiz:','อัปเดตการตั้งค่าของแบบทดสอบ\x20','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-gray-200','กรุณาเลือกโปรเจคปลายทาง','options','<i\x20class=\x22fas\x20fa-save\x22></i>','ทฤษฎีบทพื้นฐานของแคลคูลัส','answeredCurrentQuestion','.color-palette-btn','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','_opt1\x22\x20name=\x22question','.project-card-container.opacity-50','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','Failed\x20to\x20kick\x20player\x20','projectOrder','div','Error\x20processing\x20file\x20for\x20AI:','after','การลบ','text-blue-700\x20bg-blue-100','mouse','createdBy','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กฎของไซน์','quiz-start-time','show-in-student-dashboard-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','temp-loader-results','open',',\x20r=','.delete-submission-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','editor-quiz-topic','ai-quiz-app-aefee.firebasestorage.app','ข้อที่\x20','จำนวนข้อ:','preTestId','reset-view-btn','code','hint','สมการเชิงเส้นตัวแปรเดียว','G-V90KRM0L63','requestFullscreen','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','คะแนนเต็ม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','ring-purple-400','ข้อต่อไป','change','setFont','analytics','live-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','892008QiNtSr','$1\x5cfrac','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-text-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','เกิดข้อผิดพลาดในการสร้างใบงาน','.topic-name-display','modal-loop-until-pass-checkbox','text','การแจกแจงปกติและ\x20z-score','Failed\x20to\x20parse\x20JSON\x20from\x20AI','practiceProblems','เปิด\x20(จับเวลา)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-settings-modal','Error\x20verifying\x20answers\x20in\x20editor:','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x20mr-2\x22></i>','workerSrc','student-list','scratchpad-header','cancel-quiz-edits-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','back-to-project-btn','cos','passcode-error-msg','live-player-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','manage-tab-content','</p></div>','comparison-individual-content','แบบปรนัย\x204\x20ตัวเลือก','ที่พิมพ์ได้\x20จำนวน\x20','rgba(59,\x20130,\x20246,\x200.7)','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','visible','addEventListener','Error\x20loading\x20user\x20preferences:','reset-project-order-btn','touchmove','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','bg-gray-500','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','generate-from-topic-btn','active','innerHTML','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แผนภาพเวนน์','เกิดข้อผิดพลาดในการอัปเดตสถานะ','exitFullscreen','\x22>จาก:\x20','\x20\x20\x20-\x20','projectName','แบบทดสอบที่ติดดาว','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','การนับ','</td>','lesson-plan-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','stdDev','\x20\x0a\x20\x20\x20\x20','#per-question-options\x20select','getElementById','.quiz-result-card','bulk-quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','far\x20fa-star','กรุณาเลือกไฟล์ก่อน','querySelectorAll','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','.save-to-bank-btn','</tr>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','outerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','#e21b3c','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','.edit-custom-topic-btn','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','pinnedProjects','earned-badges-container','filter','บันทึกการตั้งค่าการแสดงผลสำเร็จ','q-explanation-','innerText','update','กราฟแท่ง\x20กราฟเส้น','fill','str','<div\x20class=\x22flex-1\x22></div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','isPasscodeEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','analyze-strengths-btn','border-red-700','Error\x20comparing\x20results:','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','display','Error\x20unpairing\x20quizzes:','เซียนสมองไว','2956796JsZpbC','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','ระยะจากจุดถึงเส้นตรง','onload','answer','save-project-name-btn','load-quiz-btn','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','fa-rocket\x20text-purple-500','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สรุปผลการวิเคราะห์:\x5cn','เปิดใช้งาน','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','download','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','round','/public/data/projects/','showInStudentDashboard','loader','/public/data/quizzes','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','num-choices','ยืนยันการกระทำ','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','find','analytics-tab-content','comparison-overall-tab','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','match','</div>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','สมมาตร\x20(แกน/จุด)','project-detail-view','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','touches','function','lower_group_count','answer-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','save-visibility-settings-btn','bg-red-100\x20text-red-800','hasOwnProperty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','fullscreenElement','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','getItem','bg-red-50','สามเหลี่ยม\x20(ชนิด/สมบัติ)','num-questions','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','ไม่สามารถเริ่มเกมได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','toLocaleString','เกี่ยวกับหัวข้อ\x20\x22','ใช่','fromCharCode','text-yellow-800','label','.pen-color-btn[data-color=\x22#000000\x22]','Error\x20renaming\x20quiz:','dragstart','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','ฮิสโตแกรม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','เกิดข้อผิดพลาดในการจับคู่','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','คำถามดิบ:\x20\x22','commit','/public/data/liveGames','tool','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','players.','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','autoTable','ดอทโปรดักต์\x20(dot)','ลบหัวข้อสำเร็จ','Error\x20updating\x20sort\x20preference:','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x5ctext{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teachingContent','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','สมการลอการิทึม','Error\x20during\x20class\x20analysis:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','.topic-actions-view','.topic-name-input','STRING','สมการค่าสัมบูรณ์','list-view-btn','.live-summary-tooltip.visible','mjx-container','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-tab','#E5E7EB','offset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','perfect_score','\x20จาก\x20','student-view','results-quiz-title','perQuestionStats','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','export-pdf-btn','การวัด','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','<br>','project-quizzes-list','scratchpad-options','grid','สลับไปโหมดนักเรียน','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','difficulty-level-select','border-red-300\x20bg-red-50','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','/questionBank','.option-text','รูปแบบการให้เหตุผล','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','http://www.w3.org/2000/svg','back-to-results-btn','สัญกรณ์วิทยาศาสตร์','scratchpad-modal','แก้ไขหัวข้อสำเร็จ','document','สรุปผลสุดท้าย','274192258111','files','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','bg-green-100\x20text-green-800','progress-project-select','ลบผลสอบของ\x20','questionText','project-dashboard-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','Copy\x20command\x20failed','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','modal-results-display-select','Error\x20fetching\x20student\x20rankings:','Firebase\x20initialization\x20failed:','close-game-final-btn','shuffle','#E0E7FF','พิมพ์ตอบ','cancel-quiz-edits-btn-footer','บันทึกการตั้งค่าแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#FFFFFF','text-red-600','confirm-passcode-btn','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','student-quiz-topic','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','verify-answers-editor-btn','หัวข้อที่สร้างเอง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','modal-close-btn','close-comparison-modal-btn','admin-dashboard','originalQuestionText','modal-timer-duration-container','generate-from-parallel-test-btn','viewBox','.submittedAt','กำลังดึงข้อมูลจากลิงก์...','leaderboard-tab','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','ตรีโกณมิติ','click','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','leaderboard-quiz','blur','cancel-test-btn','string','แคลคูลัสเบื้องต้น','Error\x20deleting\x20project:','results-display-select','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','save-quiz-btn','results','student-quiz-leaderboard-table-body','\x5cge','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','className','<p\x20class=\x22','Failed\x20to\x20create\x20initial\x20submission\x20record:','อัตราส่วนและสัดส่วน','presentation-explanation','start-presentation-btn','-\x20ข้อ\x20','เกิดข้อผิดพลาดในการติดดาว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','Error\x20fetching\x20project\x20quizzes:','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/learnedFixes','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','removeChild','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22><i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','lowerGroupNames','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','cancel-admin-login-btn','schedule','icon','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','$1^{\x5ccirc}\x5ctext{C}','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','fas\x20fa-user-edit','มัธยฐาน','projectView','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','.rename-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','timerMode','goto-next-question-btn','ไม่สามารถโหลดรายการโปรเจคได้','check-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','px,\x20','ยังไม่เต็มนะ','bg-green-50','ย้ายแบบทดสอบไปโปรเจคอื่น','studentName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','#000000','ไม่มี','project-title','post-test','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','pointerdown','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','fill_in_with_choices','confirm-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','answering','(คู่ขนาน)\x20','POST','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','qIndex','rows','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','deltaY','file-tab','opacity-50','msExitFullscreen','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','right','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','สร้างโปรเจคสำเร็จ!','btn','(ไม่มีชื่อ)','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','prev-question-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','STOP','<h1></h1>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','back-from-results-btn','request','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x22\x20data-pre-test-id=\x22','input[type=\x22text\x22]','Error\x20saving\x20questions\x20to\x20practice\x20bank:','translate','shadowColor','max','webkitRequestFullscreen','#FEF3C7','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','length','shuffleSetting','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','position','ปริมาตรรูปทรงสามมิติ','admin','list','getBBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22\x20class=\x22delete-project-btn\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','Error\x20saving\x20project\x20order:','ส่วนเบี่ยงเบนมาตรฐาน','data','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','choices_only','dataset','bank-tab','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','</option>','endTime','mouseup','short_answer',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','.save-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-container','ควรปรับปรุง','body','textarea','\x22\x20เพื่อสร้างชุดคู่ขนาน...','สร้างคำถามใหม่\x201\x20ข้อ\x20','</tbody></table></div>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','AI\x20grading\x20failed:','fill_in_the_blank','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','text-white','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','false','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','shuffledQuiz','fas\x20fa-bookmark','ส่วนเบี่ยงเบนเฉลี่ย','แผนการสอน:\x20','dispatchEvent','project-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default','trail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','standard','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','<tr>','pairedQuizId','quizType','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','classStrengths','text-gray-500','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','reduce','totalPoints','setAttribute','scrollX','perfect_score_status','[role=\x22textbox\x22]','description','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','cancel-rename-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','Error\x20listening\x20for\x20projects:','<div\x20class=\x22mb-3\x20topic-category\x22>','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20data-topic=\x22','countdown-display','save-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','อสมการค่าสัมบูรณ์','players','some','warn','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','API\x20call\x20failed','บันทึกแบบทดสอบสำเร็จแล้ว!','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','confirm-global-live-btn','cdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','replace','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-project-leaderboard-table-body','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','webkitExitFullscreen','print','.ideal-answer-input','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','solution','copy-quiz-id-btn','blueprint-upload-input','กรุณาใส่ชื่อโปรเจค','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','starred','quizId','view-my-progress-btn','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-emerald-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-pdf-btn','project-detail','แบบทดสอบจากคลังส่วนตัว','border-green-700','playerName','transform','contents','<span\x20title=\x22','\x20ข้อ\x20','end-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','Error\x20saving\x20quiz\x20edits:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','artifacts/','fixedData','open-quiz-bank-btn','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','ค่าคลาดเคลื่อนของการวัด','.delete-project-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','date_desc','leaderboard','delete-all-students-btn','destroy','1:274192258111:web:4120c9118229b5644dd48a','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','COMEBACK_KING','\x20mx-1\x20text-lg\x22></i></span>','manage-players-btn','file-input-area','destination-out','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','27411472','พื้นที่ผิวรูปทรงสามมิติ','bg-green-200\x20text-green-800','fa-bolt\x20text-blue-500','fixed','eraser','ความน่าจะเป็นแบบมีเงื่อนไข','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table','ตรวจทานเฉลยเสร็จสิ้น!','touchcancel','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','check-presentation-answer-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-student-btn','interesting-stats-wrapper','submission','การบวกเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','katex','confirm-rename-quiz-btn','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','Invalid\x20response\x20structure\x20from\x20AI.','password-error-msg','project-name-input','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','timerDuration','startsWith','PERFECT_SCORE','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','results-tab-content','beginPath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','learningGaps','.summary-bar-item','presentation-ai-result','date_asc','line-through\x20text-red-700','helvetica','suggestedAnswer','Error\x20duplicating\x20quiz:','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','[*]','shadowBlur','perseverance','.ai-fix-formula-btn','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','force-math-checkbox','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','1618460kvxJJn','resultsDisplay','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','lastAnswerCorrect','พื้นที่สามเหลี่ยม','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','ความชันและเส้นตรง','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','รากที่สองและที่สาม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.color-palette-popup','rename-quiz-modal','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','results-table','ปริพันธ์จำกัด','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','math-topics-checkbox-container','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','pointerType','cancel-quiz-settings-btn','ownerSVGElement','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','เกิดข้อผิดพลาดในการบันทึกลำดับ','live-submit-short-answer-btn','กรุณาป้อนรหัสแบบทดสอบ','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','grabbing','not-found','ระยะเวลา\x20(นาที):','.generate-easy-version-btn','split','API\x20call\x20failed\x20with\x20status:\x20','createElementNS','toISOString','whole_quiz','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','คะแนนเต็ม','quiz-type-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะทางและจุดกึ่งกลาง','.png','math-topic-search-input','localeCompare','.start-live-race-btn','.isScored','ring-2','cancel-passcode-btn','element','user-id-display','{$1}','write','dashboardConfig','.star-quiz-btn','style','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','numeric','อนุพันธ์:\x20กฎลูกโซ่','height','ตั้งเวลา\x20(เปิด)','คัดลอกแบบทดสอบสำเร็จ','student','คำถามถัดไป','0\x200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','timer-bar','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','ไม่พบเอกสารการส่งงานของ\x20','scrollY','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','กำลังอัปเดตแบบทดสอบ\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-800','สร้างแบบทดสอบปรนัย','แบบทดสอบซ่อมเสริม','สมการตรีโกณมิติ','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','button[type=\x22submit\x22]','attemptNumber','text-red-700\x20bg-red-100','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','kick-player-btn','toDataURL','strokeStyle','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','contentEditable','Error\x20updating\x20quiz\x20status:','จุด\x20เส้น\x20ระนาบ','bg-yellow-50','join','กำลังสร้างแบบทดสอบคู่ขนาน...','scores','scores-tab-btn','from','กำลังสร้างคำถามข้อ\x20','ค่าสัมบูรณ์','name','Failed\x20to\x20get\x20hint:','\x20/\x20','.answeredCurrentQuestion','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result','ข้อ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','circ','bg-green-200','save','กรุณาใส่ชื่อนักเรียน','min','topic-input-area','parent','toDate','Error\x20listening\x20for\x20starred\x20quizzes:','Error\x20toggling\x20pin\x20status:','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่มีนักเรียนส่งงาน','text-content-input','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','analytics-tab-btn','6790vNbDmH','หมดเวลา!\x20กำลังส่งคำตอบ...','latestScore','overallGroups','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','submission-status-chart','ลบโปรเจคสำเร็จแล้ว','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','แบบทดสอบนี้ปิดใช้งานอยู่','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','score-distribution-chart','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','อัปเดตพฤติกรรมสำหรับ\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22',')\x20translateZ(0)','.pen-size-btn','AI\x20Fix\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','#retake-for-improvement-btn','push','Error\x20generating\x20from\x20blueprint:','<option\x20value=\x22\x22>กำลังโหลด...</option>','_opt1\x22>ไม่ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','asc','Error\x20committing\x20score\x20updates:','#per-question-options\x20textarea','ไม่มีผู้ตอบตัวเลือกนี้','/public/data/quizzes/','<tr\x20class=\x22','ลำดับเลขคณิต\x20(AP)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิตวิเคราะห์','matching_item','global-live-game-modal','.move-quiz-btn','map','half_mark_status','เงินงวด\x20(อนุกรมเงินงวด)','set','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','</p><div>','cloneNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','sum','</div><div\x20class=\x22space-y-2\x22>','close-presentation-btn','.verification-result-editor','underline','admin-view','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','start-live-race-generated-btn','Error\x20updating\x20quiz\x20settings:','/users/','เกิดข้อผิดพลาดในการลบนักเรียน','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','keyup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','จำนวนเต็มลบ',';\x22\x20data-id=\x22','sqrt','all','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','back-to-dashboard-from-results-btn','ผลรวมอนุกรม\x20(Σ)','Error\x20toggling\x20star\x20status:','แบบทดสอบนี้หมดเวลาแล้ว','th-TH','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','querySelector','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN','กรุณาป้อนหัวข้อสำหรับใบงาน','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','progress-student-select','bg-purple-50','back-to-student-home-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>','desc','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertBefore','numPages','คณิตศาสตร์','กำลังจับคู่...','confirm-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ค่าเสื่อมราคา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','hidden','explanation','การประยุกต์เวกเตอร์พื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','Error\x20fetching\x20projects\x20for\x20move:','confirm-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','.presentation-option','true_false','export-tutor-pdf-btn','opacity','status','student-result-area','allResponses','select','globalAlpha','answerText','\x22\x20data-q-type=\x22','application/json','N/A','text-gray-700','text-red-500\x20hover:text-red-700','has','input[name=\x22status-option\x22]:checked','การหารเศษส่วน','\x20ตัวเลือก.\x20','text-gray-400\x20hover:text-indigo-600','delete','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','practice-topic-btn','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','results_','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','bg-red-200\x20text-red-800','border-gray-200','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</strong></p>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','behavior-log-container','#FEE2E2','cancel-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','matching','458940kNlmWh','ไม่พบแบบทดสอบสำหรับรหัสนี้','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','log','เกิดข้อผิดพลาดในการปักหมุด','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','export-lesson-pdf-btn','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','transparent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','ระยะเวลา\x20(วินาที):','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','bg-blue-100','null','สุดยอด!\x20ตอบถูกทุกข้อ','textContent','hover:bg-indigo-100','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันและอัปเดตทั้งหมด','generate-worksheet-btn','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','สมการราก\x20(radical)','closest','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','(ก่อนเรียน)\x20','text-red-800','ไม่มีคำอธิบาย','.duplicate-quiz-btn','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','อุณหภูมิและการแปลง','.answer-text','</body></html>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','.csv','confirm-move-quiz-btn','Error\x20creating\x20project:','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','10064oMtIRd','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','close-lesson-plan-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','show_pass_fail_only','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','bestScore','.quiz-bank-parallel-btn','%</span>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','next-drill-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isAdaptive','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ศูนย์','</p><p><strong>เฉลย:</strong>\x20','ความเท่ากันทุกประการของสามเหลี่ยม','ความคาดหมาย\x20(Expected\x20value)','เวกเตอร์และเมทริกซ์\x20(เสริม)','touch','mixed','blueprint-input-area','</div>\x0a</div>\x0a','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','วงกลม:\x20สมการและสมบัติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.export-pdf-list-btn','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','screen_exit','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20แก้ไขคำถามสำเร็จ!','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','width','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','global-live-game-count','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','.lastAnswerCorrect','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-quiz-id-display','คะแนนยังไม่ถึงครึ่ง','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/preferences/main','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','table','settings','cursor','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','bg-yellow-100','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','catch','pre-test-checkbox','พีชคณิตและฟังก์ชัน','now','.pointsLastQuestion','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกสถานะ','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<div\x20class=\x22my-2\x22>','score','Error\x20adding\x20students:','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','msRequestFullscreen','<i\x20class=\x22fas\x20fa-pen\x22></i>','.quiz-bank-present-btn','thead\x20.sortable-header','\x5ccdot','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','mousemove','\x22\x20value=\x22true\x22\x20','qType','ai-quiz-app-aefee','admin-testing','จำนวนเต็มบวก','toLowerCase','href','dataIndex','bank-quiz-list','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','quiz-form','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','moveTo','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','touchstart','Error\x20joining\x20live\x20game:','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบแบบทดสอบสำเร็จแล้ว','quiz-generation-area','ความแปรปรวน','attempts','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','loader-text','lessonPlan','uid','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-join-game-btn','input[type=\x22radio\x22][value=\x22','รูปหลายเหลี่ยมและมุมภายใน','<div\x20class=\x22my-6\x22>','dimmed','devicePixelRatio','ไม่พบโปรเจค','beforeend','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x5cfrac{$1}{$2}','scratchpad-canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','timer-container','top','question','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การสร้างรูปด้วยวงเวียน–สันตรง','sort','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parseFromString','\x22\x20class=\x22pin-project-btn\x20','getDocument','global-quiz-list','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-indigo-700','move-quiz-project-select','OBJECT','students','เลือกและบันทึก','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','modal-shuffle-select','left','ผ่าน','Error\x20saving\x20quiz:','onchange','เศษส่วน\x20(ย่อ/ขยาย)','quiz-editor-questions-container','font-bold\x20text-green-700','result','tGain','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','projectSortOrder','.project-card-container:not(.opacity-50)','title','\x0a---\x0a','\x22,\x20','editable-text-','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<li>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','mousedown','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','entries','bank-input-area','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','parallel-test-upload-input','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','student-rankings-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','text-indigo-600','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dfrac','showRankings','ยืนยันการจับคู่','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','touchend','join-live-game-btn','back-to-dashboard-btn','fa-fire\x20text-orange-500','error','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20project\x20name:','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','correctAnswer','fa-dumbbell\x20text-gray-700','การลบเศษส่วน','correctAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20starting\x20game:','answers','วงรี','Error\x20resetting\x20project\x20order:','pow','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ความชันเส้นสัมผัส','passcode-prompt-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','leaderboard-quiz-tab-btn','passing-score-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','preTScore','size','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','lesson-plan-title','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','medium','translate(','บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x20คู่\x20','ชนิดของข้อมูลและการเก็บข้อมูล','startTime','กรุณาใส่ชื่อใหม่','input','getBoundingClientRect','scratchpad-controls','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-post-test-btn','text/html','\x20mb-2\x22>','keys','แผนการสอน','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','จับคู่เพื่อเปรียบเทียบผล','image/png','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','จำนวนคู่:','stopPropagation','เกิดข้อผิดพลาดในการโหลดโปรเจค','text-blue-700','postScore','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20id=\x22q-image-container-','scores-tab-content','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','(คัดลอก)\x20','insertAdjacentHTML','Error\x20deleting\x20submission:','.regenerate-question-btn','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','quick_thinker','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','quiz-results-view','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','ความต่อเนื่อง','student-progress-content','quiz-id-input','questionId','#DBEAFE','upperGroupNames','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','บันทึกการตั้งค่าสำเร็จ','-tab-content','#26890c','text-yellow-300','clientX','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','setAttributeNS','</span></div>','Error\x20updating\x20project\x20color:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','3lySKrB','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.sort-indicator','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','</label>\x0a\x20\x20\x20\x20</div>\x0a','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','เส้นจำนวน','\x22>ไม่ใช่</p>','#FCE7F3','nickname-input','ทำคะแนนเต็มในการทำครั้งแรก','Error\x20updating\x20pin\x20status:','manage','px)\x20scale(','$1\x5ctext(','screen','</li>','class','isPinned','ระบบเลขและค่าประจำหลัก','scratchpad-question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','Authentication\x20failed:','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','createdAt','ไม่พบข้อมูลแบบทดสอบ','\x5ctimes','preventDefault','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','stringify','หน่วยความยาวและการแปลง','summary_chart','/studentProfiles','ผู้ไม่ยอมแพ้','projectId','topic','button','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','จำนวนและการดำเนินการ','auto','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quadraticCurveTo','topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab','comparison-modal','execCommand','_opt0\x22\x20name=\x22question','ไม่ผ่าน','คำเตือน\x20(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','cancel-quiz-bank-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','mean','question-analytics-container','answer-grid-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','transition-all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','text-green-700\x20bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','admin-password-input','scale','target','candidates','text/csv;charset=utf-8;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','คัดลอกไม่สำเร็จ','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','currentTarget','สมการยกกำลัง','Error\x20listening\x20for\x20student\x20profiles:','fix\x20the\x20option','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','rgba(239,\x2068,\x2068,\x200.9)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','pop','\x22\x20value=\x22false\x22\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','<textarea\x20name=\x22question','project-list','การคูณเศษส่วน','pointermove','quiz-status-options','player-list-lobby','bottom','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stroke','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','reference-pdf-upload','เรเดียนและการแปลงหน่วย','contains','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','เกิดข้อผิดพลาดในการโหลดสถานะ','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','ON_FIRE','adaptive-quiz-checkbox','\x22\x20ซึ่งมีทั้งหมด\x20','ฟังก์ชันราก\x20(root)','include-images-checkbox','per-question-text','binom','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','submit','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<p><strong>คำตอบของคุณ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','passcode-input-container','fill_in_no_choices','lineWidth','restore','open-global-live-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','/public/data/customMathTopics','ชื่อโปรเจคห้ามว่าง','text-green-600','#student-quiz-leaderboard-content\x20thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','overline','ARRAY','ความสัมพันธ์ของมุม','quiz-bank-count','submittedAt','behavior-log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2-digit','MathJax\x20typeset\x20error\x20(analytics):','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','label[for=\x22num-questions\x22]','docs','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','forEach','toLocaleDateString','svg','input[name=\x22question_single\x22]:checked','ส่งคำตอบ','move-quiz-modal','leaderboard-quiz-tab-content','\x20\x20\x20-\x20คำตอบ:\x20','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','ฟังก์ชันพหุนาม','[data-topic-container-id]','raw','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','export-word-btn','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','multiple_choice','.start-presentation-list-btn','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','indexOf','.delete-custom-topic-btn','quizMode','\x5cdiv','rgba(79,\x2070,\x20229,\x200.8)','Error\x20saving\x20visibility\x20settings:','modal-passing-score-input','data:application/vnd.ms-word;charset=utf-8,','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','readAsDataURL','export-worksheet-pdf-btn','การปัดเศษและประมาณค่า','floor','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','results-table-container','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวก','postTScore','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','student-initial-view','back-to-home-manual-release','create-from-bank-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุดสำเร็จ!','add-custom-math-topic-btn','bar','ยกเลิกการจับคู่สำเร็จ','index','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','draggable-text','live-game','สลับไปโหมดผู้ควบคุม','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','json','(ก่อนเรียน)','padStart','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','การแจกแจงทวินาม\x20(พื้นฐาน)','export-leaderboard-image-btn','```json','Error\x20generating\x20parallel\x20post-test:','Error\x20showing\x20quiz\x20detail\x20view:','FileReader\x20error:','undo-btn','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','fa-pen','points','project-search-input','doughnut','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','grid-view-btn','fa-user-astronaut\x20text-blue-700','ไม่สามารถโหลดข้อมูลอันดับได้','leaderboard_','justification','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ตัวประกอบและตัวประกอบเฉพาะ','Error\x20generating\x20lesson\x20plan:','Leaderboard\x20update\x20transaction\x20failed:\x20','ดีมาก','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','toFixed','global-quiz-search-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','bg-green-500','next-question-btn','ผู้ควบคุม\x20(ทดสอบ)','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบเติมคำในช่องว่าง','NUMBER','input[type=\x22checkbox\x22]:checked','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x22\x20ให้เป็นคำถามประเภท\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x22>','student-project-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พาราโบลา','tfrac','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','เลือกโปรเจคเพื่อบันทึก','cancel-global-live-btn','questions','cancel-delete-btn','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','canvas','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','text-gray-100','total','/public/data/projects','quiz-leaderboard-table-body','ฟังก์ชันสัมพัทธ์\x20(rational)','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','mouseleave','สเกลและแผนที่','#math-topics-checkbox-container\x20input:checked',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','approx','\x22\x20value=\x22','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','พิสัย','\x20หัวข้อ)','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','value','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x5csqrt{$1}','correct','อัปเดตแบบทดสอบเก่า\x20','isStarred','student-reading-area','ระบบอสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','fa-shield-alt\x20text-gray-600','จับคู่แบบทดสอบสำเร็จ!','_blank','แก้ไขข้อนี้','จากเนื้อหาต่อไปนี้:\x20\x22','.compare-results-btn','Error\x20generating\x20worksheet:','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','repeat','project-passcode-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','modal-adaptive-quiz-checkbox','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','loopUntilPass','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-red-700\x20line-through','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x22\x20data-name=\x22','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','input[type=\x22radio\x22]:checked','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','toString','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','ร้อยละพื้นฐาน'];_0x3854=function(){return _0x3f0995;};return _0x3854();}document[_0x132f6e(0x2ae)](_0x132f6e(0x1a7))[_0x132f6e(0x28c)](_0x132f6e(0x39a),async()=>{const _0x10a691=_0x132f6e;if(!currentProjectId)return;const _0x20f0d1=document[_0x10a691(0x2ae)]('student-name-input'),_0x183828=_0x20f0d1['value'][_0x10a691(0x1a0)]();if(!_0x183828){showMessage(_0x10a691(0x55a));return;}const _0x1ee64e=_0x183828[_0x10a691(0x500)]('\x0a')[_0x10a691(0x58e)](_0x39e6b1=>_0x39e6b1[_0x10a691(0x1a0)]())[_0x10a691(0x2ca)](_0x35d3cb=>_0x35d3cb);if(_0x1ee64e[_0x10a691(0x409)]===0x0)return;try{const _0x40f48c=doc(db,'artifacts/'+appId+_0x10a691(0x855),currentProjectId),_0x14c96c=await getDoc(_0x40f48c);if(_0x14c96c[_0x10a691(0x125)]()){const _0x7730ac=_0x14c96c[_0x10a691(0x416)]()[_0x10a691(0x6b4)]||[],_0x31dfbd=[...new Set([..._0x7730ac,..._0x1ee64e])];await updateDoc(_0x40f48c,{'students':_0x31dfbd}),_0x20f0d1[_0x10a691(0x864)]='';}}catch(_0x2bda97){console[_0x10a691(0x6e4)](_0x10a691(0x66e),_0x2bda97),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x5f1b91){const _0x220257=_0x132f6e,_0x410956=document['getElementById'](_0x220257(0x7e0)),_0x4d6847=document[_0x220257(0x2ae)](_0x220257(0x6b2)),_0x2d4f30=_0x410956[_0x220257(0x5b4)]('h3'),_0x1a820c=document['getElementById'](_0x220257(0x620)),_0x18162a=document[_0x220257(0x2ae)]('cancel-move-quiz-btn');_0x2d4f30[_0x220257(0x60a)]=_0x220257(0x716),_0x4d6847['innerHTML']='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x1a820c[_0x220257(0x60a)]=_0x220257(0x6de),_0x410956[_0x220257(0x172)][_0x220257(0x6a9)](_0x220257(0x5cb));const _0x149fa4=allQuizzes['filter'](_0x4c6e67=>_0x4c6e67['id']!==_0x5f1b91);_0x149fa4['length']===0x0?(_0x4d6847[_0x220257(0x299)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x1a820c['disabled']=!![]):(_0x4d6847[_0x220257(0x299)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x149fa4['map'](_0xccd177=>_0x220257(0x8fd)+_0xccd177['id']+'\x22>'+_0xccd177['topic']+_0x220257(0x41d))[_0x220257(0x548)](''),_0x1a820c['disabled']=![]);const _0x5d8961=async()=>{const _0x2b9444=_0x220257,_0x1e94a0=_0x4d6847[_0x2b9444(0x864)];if(!_0x1e94a0){showMessage(_0x2b9444(0x606));return;}_0x1a820c[_0x2b9444(0x4b3)]=!![],_0x1a820c[_0x2b9444(0x60a)]=_0x2b9444(0x5c6);try{const _0xc670c4=doc(db,_0x2b9444(0x493)+appId+'/public/data/quizzes',_0x5f1b91),_0x41e18a=doc(db,'artifacts/'+appId+_0x2b9444(0x2f9),_0x1e94a0),_0x4cb12a=writeBatch(db);_0x4cb12a[_0x2b9444(0x2ce)](_0xc670c4,{'pairedQuizId':_0x1e94a0}),_0x4cb12a[_0x2b9444(0x2ce)](_0x41e18a,{'pairedQuizId':_0x5f1b91}),await _0x4cb12a[_0x2b9444(0x32d)](),showMessage(_0x2b9444(0x86e)),_0x410956['classList'][_0x2b9444(0x96)]('hidden');}catch(_0x39f6d7){console[_0x2b9444(0x6e4)](_0x2b9444(0x204),_0x39f6d7),showMessage(_0x2b9444(0x329));}finally{_0x2d4f30[_0x2b9444(0x60a)]=_0x2b9444(0x3d8),_0x1a820c[_0x2b9444(0x60a)]=_0x2b9444(0x202),_0x1a820c[_0x2b9444(0x4b3)]=![],_0x1a820c['removeEventListener'](_0x2b9444(0x39a),_0x5d8961),_0x18162a[_0x2b9444(0x21f)](_0x2b9444(0x39a),_0x414d6b);}},_0x414d6b=()=>{const _0x31e679=_0x220257;_0x410956[_0x31e679(0x172)]['add'](_0x31e679(0x5cb)),_0x2d4f30[_0x31e679(0x60a)]=_0x31e679(0x3d8),_0x1a820c[_0x31e679(0x60a)]=_0x31e679(0x202),_0x1a820c[_0x31e679(0x21f)]('click',_0x5d8961),_0x18162a[_0x31e679(0x21f)]('click',_0x414d6b);};_0x1a820c[_0x220257(0x28c)](_0x220257(0x39a),_0x5d8961),_0x18162a['addEventListener'](_0x220257(0x39a),_0x414d6b);}function handleDeleteStudent(_0x51139a){const _0x11d912=_0x132f6e;showConfirmation(_0x11d912(0x64f)+_0x51139a+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x4a300d=_0x11d912;if(!currentProjectId||!currentProjectData)return;const _0x2993b0=currentProjectData[_0x4a300d(0x6b4)]['filter'](_0x509534=>_0x509534!==_0x51139a);try{const _0xe19a17=doc(db,_0x4a300d(0x493)+appId+_0x4a300d(0x855),currentProjectId),_0x5814d5=doc(db,_0x4a300d(0x493)+appId+_0x4a300d(0x2f6)+currentProjectId+'/studentProfiles',_0x51139a),_0x2af17e=writeBatch(db);_0x2af17e['update'](_0xe19a17,{'students':_0x2993b0}),_0x2af17e['delete'](_0x5814d5),await _0x2af17e[_0x4a300d(0x32d)]();}catch(_0x20fb46){console['error'](_0x4a300d(0x158),_0x20fb46),showMessage(_0x4a300d(0x5a2));}});}function handleDeleteAllStudents(){const _0x22b032=_0x132f6e;showConfirmation(_0x22b032(0x1fe),async()=>{const _0x5f05af=_0x22b032;if(!currentProjectId)return;try{const _0x1762ce=doc(db,'artifacts/'+appId+_0x5f05af(0x855),currentProjectId),_0x335496=collection(db,_0x5f05af(0x493)+appId+_0x5f05af(0x2f6)+currentProjectId+_0x5f05af(0x761)),_0x4ae845=await getDocs(_0x335496),_0xc4934a=writeBatch(db);_0xc4934a[_0x5f05af(0x2ce)](_0x1762ce,{'students':[]}),_0x4ae845[_0x5f05af(0x7db)](_0x356823=>_0xc4934a[_0x5f05af(0x5e6)](_0x356823[_0x5f05af(0x8be)])),await _0xc4934a[_0x5f05af(0x32d)]();}catch(_0xa08bcd){console[_0x5f05af(0x6e4)](_0x5f05af(0x103),_0xa08bcd),showMessage(_0x5f05af(0x8d5));}});}async function handleGenerateFromFileClick(){const _0x522ccc=_0x132f6e;if(!selectedFile){showMessage(_0x522ccc(0x2b4));return;}const _0x8cda2=document[_0x522ccc(0x2ae)]('loader'),_0x1616aa=document[_0x522ccc(0x2ae)](_0x522ccc(0x691)),_0x240537=document[_0x522ccc(0x2ae)]('generated-quiz-container'),_0x3265e8=document[_0x522ccc(0x2ae)](_0x522ccc(0x1bd));_0x3265e8[_0x522ccc(0x4b3)]=!![],document['getElementById'](_0x522ccc(0x68d))[_0x522ccc(0x172)][_0x522ccc(0x6a9)]('hidden'),_0x240537[_0x522ccc(0x299)]='',_0x8cda2[_0x522ccc(0x172)][_0x522ccc(0x6a9)](_0x522ccc(0x5cb)),_0x1616aa[_0x522ccc(0x60a)]=_0x522ccc(0x8f1);const _0x546bc1=new FileReader();_0x546bc1[_0x522ccc(0x7f8)](selectedFile),_0x546bc1[_0x522ccc(0x2e3)]=async()=>{const _0x5d5fb1=_0x522ccc;try{const _0x20365a=_0x546bc1[_0x5d5fb1(0x6bf)][_0x5d5fb1(0x500)](',')[0x1],_0x260fde=selectedFile[_0x5d5fb1(0x78a)];await generateQuizFromFile(_0x260fde,_0x20365a);}catch(_0x412575){console[_0x5d5fb1(0x6e4)](_0x5d5fb1(0x240),_0x412575),showMessage(_0x5d5fb1(0x6e9)+_0x412575[_0x5d5fb1(0x17c)]),_0x8cda2[_0x5d5fb1(0x172)][_0x5d5fb1(0x96)](_0x5d5fb1(0x5cb));}finally{}},_0x546bc1['onerror']=_0xe4c051=>{const _0x2a6eae=_0x522ccc;console[_0x2a6eae(0x6e4)](_0x2a6eae(0x820),_0xe4c051),showMessage(_0x2a6eae(0x1e2)),_0x8cda2[_0x2a6eae(0x172)][_0x2a6eae(0x96)](_0x2a6eae(0x5cb)),_0x3265e8['disabled']=![];};}function autoFormatMath(_0x288445){if(typeof _0x288445!=='string'||!_0x288445)return _0x288445;const _0x5a2e2d=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1bcfe1=_0x288445['replace'](_0x5a2e2d,_0x377cc3=>{const _0xa9f0a8=_0x5070;return'$'+_0x377cc3[_0xa9f0a8(0x1a0)]()+'$';});return _0x1bcfe1;}function sanitizeQuizData(_0x87b172){const _0x21b069=_0x132f6e;if(!_0x87b172||!_0x87b172[_0x21b069(0x84d)])return _0x87b172;const _0x2a8955={'imes':'\x5ctimes','div':_0x21b069(0x7f2)},_0x33c4a4=_0x3acd1f=>{const _0x5b32a8=_0x21b069;if(typeof _0x3acd1f!=='string')return _0x3acd1f;let _0x9e5c37=_0x3acd1f;for(const [_0x28e9fd,_0x55b8fc]of Object[_0x5b32a8(0x6ce)](_0x2a8955)){const _0x515d64=new RegExp('\x5cb'+_0x28e9fd+'\x5cb','g');_0x9e5c37=_0x9e5c37[_0x5b32a8(0x46b)](_0x515d64,_0x55b8fc);}return _0x9e5c37=_0x9e5c37[_0x5b32a8(0x46b)](/\\\//g,_0x5b32a8(0x7f2)),_0x9e5c37=_0x9e5c37[_0x5b32a8(0x46b)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x5b32a8(0x7f2))[_0x5b32a8(0x46b)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x5b32a8(0x75a))['replace'](/÷/g,_0x5b32a8(0x7f2))[_0x5b32a8(0x46b)](/×/g,_0x5b32a8(0x75a)),_0x9e5c37=_0x9e5c37['replace'](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x9e5c37=autoFormatMath(_0x9e5c37),_0x9e5c37;};return _0x87b172['topic']&&(_0x87b172[_0x21b069(0x764)]=_0x33c4a4(_0x87b172[_0x21b069(0x764)])),_0x87b172[_0x21b069(0x84d)][_0x21b069(0x7db)](_0x5f0c85=>{const _0x5ebfd3=_0x21b069;_0x5f0c85['questionText']=_0x33c4a4(_0x5f0c85['questionText']),_0x5f0c85[_0x5ebfd3(0x234)]&&(_0x5f0c85[_0x5ebfd3(0x234)]=_0x5f0c85[_0x5ebfd3(0x234)]['map'](_0x33c4a4)),_0x5f0c85['explanation']&&(_0x5f0c85['explanation']=_0x33c4a4(_0x5f0c85[_0x5ebfd3(0x5cc)])),_0x5f0c85[_0x5ebfd3(0x20b)]&&(_0x5f0c85[_0x5ebfd3(0x20b)]=_0x33c4a4(_0x5f0c85[_0x5ebfd3(0x20b)])),_0x5f0c85[_0x5ebfd3(0x150)]&&(_0x5f0c85[_0x5ebfd3(0x150)]=_0x33c4a4(_0x5f0c85[_0x5ebfd3(0x150)])),_0x5f0c85[_0x5ebfd3(0x5d8)]&&(_0x5f0c85[_0x5ebfd3(0x5d8)]=_0x5f0c85[_0x5ebfd3(0x5d8)][_0x5ebfd3(0x58e)](_0x33c4a4));}),_0x87b172;}const simpleMathPrompt=_0x132f6e(0x571);async function handleGenerateFromLink(){const _0x53ac2e=_0x132f6e,_0x5e3779=document['getElementById'](_0x53ac2e(0xda)),_0x39a425=document[_0x53ac2e(0x2ae)]('link-topic-input'),_0x1a9ae6=_0x5e3779[_0x53ac2e(0x864)][_0x53ac2e(0x1a0)](),_0x1bff97=_0x39a425[_0x53ac2e(0x864)]['trim']();if(!_0x1a9ae6){showMessage(_0x53ac2e(0x8bd));return;}const _0x459c07=document[_0x53ac2e(0x2ae)](_0x53ac2e(0x2f8)),_0x4ba645=document[_0x53ac2e(0x2ae)](_0x53ac2e(0x691)),_0x401b1e=document['getElementById'](_0x53ac2e(0x897)),_0x2ee7c4=document['getElementById'](_0x53ac2e(0x8b9));document[_0x53ac2e(0x2ae)](_0x53ac2e(0x68d))[_0x53ac2e(0x172)][_0x53ac2e(0x6a9)]('hidden'),_0x401b1e[_0x53ac2e(0x299)]='',_0x459c07[_0x53ac2e(0x172)][_0x53ac2e(0x6a9)](_0x53ac2e(0x5cb)),_0x4ba645[_0x53ac2e(0x60a)]=_0x53ac2e(0x395),_0x2ee7c4['disabled']=!![];try{const _0x5427ae='https://corsproxy.io/?'+encodeURIComponent(_0x1a9ae6),_0xc4b869=await fetch(_0x5427ae);if(!_0xc4b869['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0xc4b869[_0x53ac2e(0x5d6)]+')');const _0x9d2abf=await _0xc4b869[_0x53ac2e(0x270)](),_0x390438=extractTextFromHtml(_0x9d2abf);if(!_0x390438||_0x390438['length']<0x64)throw new Error(_0x53ac2e(0x7aa));await generateQuiz(_0x1bff97,_0x390438);}catch(_0x59757b){console[_0x53ac2e(0x6e4)]('Error\x20generating\x20from\x20link:',_0x59757b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x59757b[_0x53ac2e(0x17c)]),_0x401b1e['innerHTML']=_0x53ac2e(0x795);}finally{_0x459c07[_0x53ac2e(0x172)]['add'](_0x53ac2e(0x5cb)),_0x2ee7c4['disabled']=![];}}function extractTextFromHtml(_0x58e430){const _0x5693f5=_0x132f6e,_0x11ef62=new DOMParser()[_0x5693f5(0x6ac)](_0x58e430,_0x5693f5(0x711));return _0x11ef62[_0x5693f5(0x2b5)](_0x5693f5(0x35f))[_0x5693f5(0x7db)](_0x163e39=>_0x163e39[_0x5693f5(0x6a9)]()),_0x11ef62[_0x5693f5(0x428)]['textContent']||'';}document[_0x132f6e(0x2ae)](_0x132f6e(0x297))[_0x132f6e(0x28c)]('click',()=>{const _0x316d46=_0x132f6e,_0x13d728=document['getElementById'](_0x316d46(0x76b))[_0x316d46(0x864)][_0x316d46(0x1a0)]();generateQuiz(_0x13d728,null);}),document[_0x132f6e(0x2ae)](_0x132f6e(0x26b))[_0x132f6e(0x28c)](_0x132f6e(0x39a),()=>{const _0x36d4ff=_0x132f6e,_0xbf4526=document[_0x36d4ff(0x2ae)](_0x36d4ff(0x563))['value']['trim']();if(!_0xbf4526){showMessage(_0x36d4ff(0x841));return;}const _0x342bf0=document[_0x36d4ff(0x2ae)]('topic-input')[_0x36d4ff(0x864)][_0x36d4ff(0x1a0)]();generateQuiz(_0x342bf0,_0xbf4526);});async function generateQuiz(_0x212a3a,_0x35e96a,_0x4f3801=null){const _0x171914=_0x132f6e,_0x2fd777=document[_0x171914(0x2ae)](_0x171914(0x7b8))['checked'],_0x30865a=document[_0x171914(0x2ae)](_0x171914(0x507))[_0x171914(0x864)],_0x27c3fc=document[_0x171914(0x2ae)]('num-questions')[_0x171914(0x864)],_0x424a15=document['getElementById'](_0x171914(0x2fb))['value'],_0x4f00cb=document['getElementById']('force-math-checkbox')[_0x171914(0x13b)],_0x5205c9=_0x4f00cb?'':_0x171914(0x5c5),_0x3d1973=document[_0x171914(0x2ae)](_0x171914(0x360)),_0x4ba415=_0x3d1973[_0x171914(0x864)];let _0x52d1d5='';_0x4ba415!==_0x171914(0x768)&&(_0x52d1d5=_0x171914(0x1e9)+_0x4ba415+'\x22');const _0x48f593=document['getElementById']('question-complexity-select'),_0x11e53a=_0x48f593[_0x171914(0x864)];let _0x43d84f='';_0x11e53a!==_0x171914(0x63c)&&(_0x43d84f=_0x171914(0x880)+_0x11e53a+_0x171914(0x2e0));const _0x27918c=document['querySelectorAll'](_0x171914(0x85b)),_0x475dbf=Array[_0x171914(0x54c)](_0x27918c)['map'](_0x315ad1=>_0x315ad1[_0x171914(0x864)]);let _0x52484c='';_0x475dbf[_0x171914(0x409)]>0x0&&(_0x52484c=_0x171914(0x728)+_0x475dbf[_0x171914(0x548)](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x5a03d2='',_0xe0a6ec='',_0x22e6b5,_0x23cd2b=_0x171914(0x31d)+_0x212a3a+'\x22';if(!_0x212a3a&&_0x35e96a)_0x23cd2b=_0x171914(0x2b8);else!_0x212a3a&&!_0x35e96a&&(_0x23cd2b=_0x171914(0x6df));const _0x49c5ae={'type':_0x171914(0x6b3),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x171914(0x7cf),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x171914(0x83e)},'explanation':{'type':_0x171914(0x345)},'imageCode':{'type':'STRING'}},'required':[_0x171914(0x374),_0x171914(0x234),_0x171914(0x6ed),_0x171914(0x5cc)]},_0x3fd19f={'type':_0x171914(0x6b3),'properties':{'questionText':{'type':_0x171914(0x345)},'idealAnswer':{'type':_0x171914(0x345)},'explanation':{'type':_0x171914(0x345)},'imageCode':{'type':_0x171914(0x345)}},'required':[_0x171914(0x374),_0x171914(0xf6),_0x171914(0x5cc)]},_0x1b354f={'type':_0x171914(0x6b3),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x171914(0x345),'enum':[_0x171914(0x7ec),_0x171914(0x420)]},'options':{'type':_0x171914(0x7cf),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x171914(0x83e)},'idealAnswer':{'type':_0x171914(0x345)},'explanation':{'type':_0x171914(0x345)},'imageCode':{'type':'STRING'}},'required':['questionText','questionType',_0x171914(0x5cc)]},_0x5332fd={'type':_0x171914(0x6b3),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x171914(0x345)}},'required':['questionText',_0x171914(0x6ea),'explanation']},_0x57c66d={'type':_0x171914(0x6b3),'properties':{'questionType':{'type':_0x171914(0x345),'enum':['matching_item']},'stem':{'type':_0x171914(0x345)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x171914(0x7cf),'items':{'type':_0x171914(0x345)}},'explanation':{'type':_0x171914(0x345)},'imageCode':{'type':_0x171914(0x345)}},'required':[_0x171914(0x135),_0x171914(0x20b),_0x171914(0x150),_0x171914(0x5d8),_0x171914(0x5cc)]};let _0x91e7d8;if(_0x4f3801!==null){const _0x23579d=currentQuizData[_0x171914(0x84d)][_0x4f3801][_0x171914(0x135)],_0x4e0ea5=_0x2fd777?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x5a03d2=_0x171914(0x42b)+_0x23cd2b+'\x20'+_0x52484c+'\x20'+_0x52d1d5+_0x171914(0x75d)+_0x4e0ea5+'\x20'+simpleMathPrompt;if(_0x23579d===_0x171914(0x7ec))_0x22e6b5=_0x49c5ae;else{if(_0x23579d===_0x171914(0x58b))_0x22e6b5={'type':'OBJECT','properties':{'questionType':{'type':_0x171914(0x345),'enum':[_0x171914(0x58b)]},'stem':{'type':_0x171914(0x345)},'correctResponse':{'type':_0x171914(0x345)},'explanation':{'type':_0x171914(0x345)},'imageCode':{'type':_0x171914(0x345)}},'required':[_0x171914(0x135),'stem',_0x171914(0x150),_0x171914(0x5cc)]};else _0x22e6b5=_0x3fd19f;}_0x91e7d8=_0x22e6b5;}else{const _0x59e577=_0x2fd777?_0x171914(0x83b):'',_0x55ef5f=_0x171914(0x8b3);switch(_0x30865a){case _0x171914(0x7ec):_0x5a03d2=_0x171914(0x538)+_0x5205c9+'\x20'+_0x27c3fc+_0x171914(0x48a)+_0x23cd2b+'\x20'+_0x52484c+'\x20'+_0x52d1d5+'\x20'+_0x43d84f+'.\x20แต่ละข้อมี\x20'+_0x424a15+_0x171914(0x314)+_0x59e577+'\x20'+simpleMathPrompt,_0x22e6b5=_0x49c5ae;break;case _0x171914(0x3e3):_0x5a03d2=_0x171914(0x83d)+_0x5205c9+'\x20'+_0x27c3fc+_0x171914(0x48a)+_0x23cd2b+'\x20'+_0x52484c+'\x20'+_0x52d1d5+'\x20'+_0x43d84f+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x424a15+_0x171914(0x69e)+_0x59e577+'\x20'+simpleMathPrompt,_0x22e6b5=_0x49c5ae;break;case'fill_in_no_choices':_0x5a03d2=_0x171914(0x83d)+_0x5205c9+'\x20'+_0x27c3fc+_0x171914(0x48a)+_0x23cd2b+'\x20'+_0x52484c+'\x20'+_0x52d1d5+'\x20'+_0x43d84f+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x59e577+'\x20'+simpleMathPrompt,_0x22e6b5=_0x3fd19f;break;case'mixed':_0x5a03d2=_0x171914(0x109)+_0x5205c9+'\x20'+_0x27c3fc+_0x171914(0x48a)+_0x23cd2b+'\x20'+_0x52484c+'\x20'+_0x52d1d5+'\x20'+_0x43d84f+_0x171914(0x421)+_0x424a15+_0x171914(0x5e4)+_0x59e577+'\x20'+simpleMathPrompt+'.',_0x22e6b5=_0x1b354f;break;case'true_false':_0x5a03d2='สร้างคำถามแบบใช่/ไม่ใช่'+_0x5205c9+'\x20'+_0x27c3fc+_0x171914(0x48a)+_0x23cd2b+'\x20'+_0x52484c+'\x20'+_0x52d1d5+'\x20'+_0x43d84f+_0x171914(0x2c7)+_0x59e577+'\x20'+simpleMathPrompt,_0x22e6b5=_0x5332fd;break;case'matching':_0x5a03d2=_0x171914(0xa0)+_0x5205c9+'\x20'+_0x27c3fc+_0x171914(0x707)+_0x23cd2b+'\x20'+_0x52484c+'\x20'+_0x52d1d5+'\x20'+_0x43d84f+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x59e577+'\x20'+simpleMathPrompt,_0x22e6b5=_0x57c66d;break;}_0x91e7d8={'type':_0x171914(0x6b3),'properties':{'topic':{'type':_0x171914(0x345)},'questions':{'type':'ARRAY','items':_0x22e6b5}},'required':['topic',_0x171914(0x84d)]};}return _0x35e96a?(_0x5a03d2=_0x171914(0x871)+_0x35e96a+_0x171914(0x6c7)+_0x5a03d2,_0xe0a6ec=_0x171914(0x474)):_0xe0a6ec=_0x171914(0x1db),handleApiCall(_0x5a03d2,_0xe0a6ec,_0x91e7d8,_0x4f3801);}async function generateQuizFromFile(_0x4c2dc0,_0x1dbbf8){const _0xbd70e1=_0x132f6e,_0x5bb2f3=document['getElementById']('file-topic-input')['value']['trim'](),_0x3dc5fd=document[_0xbd70e1(0x2ae)](_0xbd70e1(0x507))[_0xbd70e1(0x864)],_0x2ed76c=document[_0xbd70e1(0x2ae)]('num-questions')[_0xbd70e1(0x864)],_0x589cd3=document[_0xbd70e1(0x2ae)](_0xbd70e1(0x2fb))[_0xbd70e1(0x864)],_0x5e8475=document['getElementById'](_0xbd70e1(0x7b8))[_0xbd70e1(0x13b)],_0x224354=document['getElementById'](_0xbd70e1(0x4dc))[_0xbd70e1(0x13b)],_0x4ac536=_0x224354?'':_0xbd70e1(0x5c5);let _0x24f053='',_0x3e9357,_0xab4713=_0xbd70e1(0x31d)+_0x5bb2f3+'\x22';!_0x5bb2f3&&(_0xab4713=_0xbd70e1(0x852));const _0x4585cc=_0x5e8475?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x3dc5fd){case _0xbd70e1(0x7ec):_0x24f053=_0xbd70e1(0x538)+_0x4ac536+'\x20'+_0x2ed76c+'\x20ข้อ\x20'+_0xab4713+_0xbd70e1(0x90a)+_0x589cd3+_0xbd70e1(0x314)+_0x4585cc+'\x20'+simpleMathPrompt,_0x3e9357={'type':_0xbd70e1(0x6b3),'properties':{'questionText':{'type':_0xbd70e1(0x345)},'options':{'type':_0xbd70e1(0x7cf),'items':{'type':_0xbd70e1(0x345)}},'correctAnswerIndex':{'type':_0xbd70e1(0x83e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xbd70e1(0x345)}},'required':[_0xbd70e1(0x374),_0xbd70e1(0x234),_0xbd70e1(0x6ed),'explanation']};break;case'fill_in_with_choices':_0x24f053='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4ac536+'\x20'+_0x2ed76c+_0xbd70e1(0x48a)+_0xab4713+_0xbd70e1(0x5e7)+_0x589cd3+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4585cc+'\x20'+simpleMathPrompt,_0x3e9357={'type':_0xbd70e1(0x6b3),'properties':{'questionText':{'type':_0xbd70e1(0x345)},'options':{'type':_0xbd70e1(0x7cf),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xbd70e1(0x83e)},'explanation':{'type':_0xbd70e1(0x345)},'imageCode':{'type':_0xbd70e1(0x345)}},'required':[_0xbd70e1(0x374),'options',_0xbd70e1(0x6ed),_0xbd70e1(0x5cc)]};break;case _0xbd70e1(0x7c1):_0x24f053=_0xbd70e1(0x83d)+_0x4ac536+'\x20'+_0x2ed76c+_0xbd70e1(0x48a)+_0xab4713+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4585cc+'\x20'+simpleMathPrompt,_0x3e9357={'type':_0xbd70e1(0x6b3),'properties':{'questionText':{'type':_0xbd70e1(0x345)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0xbd70e1(0x345)}},'required':[_0xbd70e1(0x374),_0xbd70e1(0xf6),_0xbd70e1(0x5cc)]};break;case _0xbd70e1(0x63c):_0x24f053=_0xbd70e1(0x109)+_0x4ac536+'\x20'+_0x2ed76c+_0xbd70e1(0x48a)+_0xab4713+_0xbd70e1(0x775)+_0x589cd3+_0xbd70e1(0x5e4)+_0x4585cc+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x3e9357={'type':'OBJECT','properties':{'questionText':{'type':_0xbd70e1(0x345)},'questionType':{'type':_0xbd70e1(0x345),'enum':['multiple_choice',_0xbd70e1(0x420)]},'options':{'type':'ARRAY','items':{'type':_0xbd70e1(0x345)}},'correctAnswerIndex':{'type':_0xbd70e1(0x83e)},'idealAnswer':{'type':_0xbd70e1(0x345)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xbd70e1(0x345)}},'required':[_0xbd70e1(0x374),'questionType',_0xbd70e1(0x5cc)]};break;case _0xbd70e1(0x5d3):_0x24f053='สร้างคำถามแบบใช่/ไม่ใช่'+_0x4ac536+'\x20'+_0x2ed76c+'\x20ข้อ\x20'+_0xab4713+_0xbd70e1(0x7a9)+_0x4585cc+'\x20'+simpleMathPrompt,_0x3e9357={'type':_0xbd70e1(0x6b3),'properties':{'questionText':{'type':_0xbd70e1(0x345)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0xbd70e1(0x345)},'imageCode':{'type':'STRING'}},'required':[_0xbd70e1(0x374),_0xbd70e1(0x6ea),'explanation']};break;case _0xbd70e1(0x5f6):_0x24f053=_0xbd70e1(0xa0)+_0x4ac536+'\x20'+_0x2ed76c+_0xbd70e1(0x707)+_0xab4713+_0xbd70e1(0x61d)+_0x2ed76c+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x4585cc+'\x20'+simpleMathPrompt,_0x3e9357={'type':_0xbd70e1(0x6b3),'properties':{'questionType':{'type':_0xbd70e1(0x345),'enum':['matching_item']},'stem':{'type':_0xbd70e1(0x345)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0xbd70e1(0x7cf),'items':{'type':'STRING'}},'explanation':{'type':_0xbd70e1(0x345)},'imageCode':{'type':_0xbd70e1(0x345)}},'required':['questionType',_0xbd70e1(0x20b),_0xbd70e1(0x150),_0xbd70e1(0x5d8),_0xbd70e1(0x5cc)]};break;}const _0xee33d5={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0xbd70e1(0x7cf),'items':_0x3e9357}},'required':[_0xbd70e1(0x764),_0xbd70e1(0x84d)]},_0x17ed50=_0xbd70e1(0xdd)+_0x24f053,_0x42a55d={'contents':[{'parts':[{'text':_0x17ed50},{'inlineData':{'mimeType':_0x4c2dc0,'data':_0x1dbbf8}}]}],'generationConfig':{'responseMimeType':_0xbd70e1(0x5dd),'responseSchema':_0xee33d5}};return handleApiCall(_0x42a55d[_0xbd70e1(0x488)][0x0][_0xbd70e1(0xa7)],_0xbd70e1(0x8f2),_0xee33d5);}async function handleApiCall(_0x254308,_0x2b4dc5,_0x348fd7,_0xfcc323=null){const _0x4b2e20=_0x132f6e,_0x2f7f92=document['getElementById'](_0x4b2e20(0x68d)),_0x366641=document[_0x4b2e20(0x2ae)]('loader'),_0x49c84f=document[_0x4b2e20(0x2ae)](_0x4b2e20(0x691)),_0xd0caf9=document[_0x4b2e20(0x2ae)](_0x4b2e20(0x897));_0x2f7f92['classList']['remove']('hidden');_0xfcc323===null&&(_0xd0caf9[_0x4b2e20(0x299)]='');_0x366641[_0x4b2e20(0x172)][_0x4b2e20(0x6a9)](_0x4b2e20(0x5cb)),_0x49c84f[_0x4b2e20(0x60a)]=_0x2b4dc5,document[_0x4b2e20(0x2ae)](_0x4b2e20(0x297))[_0x4b2e20(0x4b3)]=!![],document[_0x4b2e20(0x2ae)](_0x4b2e20(0x26b))['disabled']=!![],document['getElementById'](_0x4b2e20(0x8b9))[_0x4b2e20(0x4b3)]=!![];try{const _0x2c6464={'responseMimeType':'application/json','responseSchema':_0x348fd7},_0x39684c=Array[_0x4b2e20(0x185)](_0x254308)?_0x254308:[{'text':_0x254308}],_0x111340={'contents':[{'role':'user','parts':_0x39684c}],'generationConfig':_0x2c6464},_0x281d0d='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x5b9303=_0x4b2e20(0x5fd)+_0x281d0d,_0x4ca6f7=await fetch(_0x5b9303,{'method':_0x4b2e20(0x3e8),'headers':{'Content-Type':_0x4b2e20(0x5dd)},'body':JSON[_0x4b2e20(0x75e)](_0x111340)});if(!_0x4ca6f7['ok'])throw new Error(_0x4b2e20(0x501)+_0x4ca6f7[_0x4b2e20(0x5d6)]);const _0x33ba73=await _0x4ca6f7[_0x4b2e20(0x814)]();if(_0x33ba73[_0x4b2e20(0x784)]?.[0x0]?.[_0x4b2e20(0x138)]?.['parts']?.[0x0]){let _0x54f04f=_0x33ba73['candidates'][0x0][_0x4b2e20(0x138)][_0x4b2e20(0xa7)][0x0]['text'],_0x1dc0f3;try{if(_0x54f04f[_0x4b2e20(0x4c4)](_0x4b2e20(0x81d)))_0x54f04f=_0x54f04f[_0x4b2e20(0xd4)](0x7,_0x54f04f[_0x4b2e20(0x409)]-0x3)['trim']();else _0x54f04f[_0x4b2e20(0x4c4)]('```')&&(_0x54f04f=_0x54f04f[_0x4b2e20(0xd4)](0x3,_0x54f04f[_0x4b2e20(0x409)]-0x3)[_0x4b2e20(0x1a0)]());_0x1dc0f3=JSON[_0x4b2e20(0x292)](_0x54f04f);}catch(_0x5e87b5){console[_0x4b2e20(0x6e4)](_0x4b2e20(0x272),_0x5e87b5,_0x54f04f);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0xfcc323!==null){if(_0x1dc0f3[_0x4b2e20(0x135)]==='matching_item'){const _0x24b509=currentQuizData['questions'][_0x4b2e20(0x58e)](_0x1dc2c2=>_0x1dc2c2[_0x4b2e20(0x150)]);_0x1dc0f3[_0x4b2e20(0x5d8)]=_0x24b509;const _0x21fa69=currentQuizData[_0x4b2e20(0x84d)][_0xfcc323][_0x4b2e20(0x150)],_0x1444f8=_0x24b509[_0x4b2e20(0x7ef)](_0x21fa69);_0x1444f8>-0x1&&(_0x24b509[_0x1444f8]=_0x1dc0f3[_0x4b2e20(0x150)]),currentQuizData['questions'][_0x4b2e20(0x7db)](_0x1dc4ce=>{const _0x481c44=_0x4b2e20;if(_0x1dc4ce[_0x481c44(0x135)]==='matching_item')_0x1dc4ce[_0x481c44(0x5d8)]=_0x24b509;});}currentQuizData['questions'][_0xfcc323]=_0x1dc0f3,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x1dc0f3;const _0x284c48=document[_0x4b2e20(0x2ae)](_0x4b2e20(0x507))['value'];currentQuizData[_0x4b2e20(0x444)]=_0x284c48,currentQuizData['questions']&&currentQuizData[_0x4b2e20(0x84d)]['forEach'](_0x258603=>{const _0x31794b=_0x4b2e20;if(!_0x258603[_0x31794b(0x135)]){if(_0x284c48===_0x31794b(0x3e3))_0x258603[_0x31794b(0x135)]=_0x31794b(0x7ec);else _0x284c48===_0x31794b(0x7c1)?_0x258603['questionType']='short_answer':_0x258603[_0x31794b(0x135)]=_0x284c48;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x4b2e20(0x6e4)](_0x4b2e20(0x8b5),JSON[_0x4b2e20(0x75e)](_0x33ba73));throw new Error(_0x4b2e20(0x4bf));}}catch(_0x57d99c){console[_0x4b2e20(0x6e4)](_0x4b2e20(0x154),_0x57d99c),showMessage(_0x4b2e20(0x77d)),_0xfcc323===null&&(_0xd0caf9[_0x4b2e20(0x299)]=_0x4b2e20(0x304));}finally{_0x366641[_0x4b2e20(0x172)][_0x4b2e20(0x96)](_0x4b2e20(0x5cb)),document[_0x4b2e20(0x2ae)](_0x4b2e20(0x297))[_0x4b2e20(0x4b3)]=![],document[_0x4b2e20(0x2ae)]('generate-from-text-btn')[_0x4b2e20(0x4b3)]=![],document[_0x4b2e20(0x2ae)](_0x4b2e20(0x8b9))[_0x4b2e20(0x4b3)]=![];const _0x5a3f15=document[_0x4b2e20(0x2ae)](_0x4b2e20(0x1bd));_0x5a3f15&&(_0x5a3f15[_0x4b2e20(0x4b3)]=![]);}}function exitFullscreen(){const _0xa2ecb4=_0x132f6e;if(document['exitFullscreen'])document[_0xa2ecb4(0x2a1)]()[_0xa2ecb4(0x664)](_0x33e44a=>console['error'](_0x33e44a));else{if(document[_0xa2ecb4(0x471)])document[_0xa2ecb4(0x471)]();else document[_0xa2ecb4(0x3f0)]&&document[_0xa2ecb4(0x3f0)]();}}function enterFullscreen(){const _0x3c88fe=_0x132f6e,_0x4df154=document['documentElement'];if(_0x4df154[_0x3c88fe(0x25a)])_0x4df154[_0x3c88fe(0x25a)]()['catch'](_0xe17c93=>{const _0x579270=_0x3c88fe;console[_0x579270(0x6e4)](_0x579270(0x1f7)+_0xe17c93['message']+'\x20('+_0xe17c93[_0x579270(0x54f)]+')');});else{if(_0x4df154[_0x3c88fe(0x406)])_0x4df154[_0x3c88fe(0x406)]();else _0x4df154['msRequestFullscreen']&&_0x4df154[_0x3c88fe(0x671)]();}}function handleCheatingEvent(){const _0x4ba4e0=_0x132f6e;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x4ba4e0(0x648),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x4ba4e0(0x5ff)),document[_0x4ba4e0(0x2ae)](_0x4ba4e0(0x682))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x4ba4e0(0x21f)]('visibilitychange',handleVisibilityChange),document[_0x4ba4e0(0x21f)](_0x4ba4e0(0x1a4),handleFullscreenChange)):showMessage(_0x4ba4e0(0x772)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x3a7d48=_0x132f6e;if(currentMode===_0x3a7d48(0x67b)||!isQuizActive)return;if(document[_0x3a7d48(0xcf)]===_0x3a7d48(0x5cb))handleCheatingEvent();else document[_0x3a7d48(0xcf)]===_0x3a7d48(0x28b)&&(console['log']('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x3cdfb1=_0x132f6e;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x3cdfb1(0x313)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x13dc12){const _0x25c119=_0x132f6e,_0x57f38b=document[_0x25c119(0x2ae)](_0x25c119(0x897));let _0x2aa399=_0x25c119(0x689)+_0x13dc12[_0x25c119(0x764)]+'</h3>';_0x13dc12[_0x25c119(0x84d)][_0x25c119(0x7db)]((_0x5efbdf,_0x1b3c8c)=>{const _0x5ebacf=_0x25c119;!_0x5efbdf['id']&&(_0x5efbdf['id']='q_'+Date['now']()+'_'+_0x1b3c8c);const _0xee6cb5=_0x5efbdf[_0x5ebacf(0x135)]||_0x13dc12['quizType'];_0x2aa399+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x1b3c8c+_0x5ebacf(0x779)+_0x1b3c8c+_0x5ebacf(0x788)+_0x1b3c8c+_0x5ebacf(0x3a5)+_0x1b3c8c+_0x5ebacf(0x561);switch(_0xee6cb5){case'matching_item':_0x2aa399+=_0x5ebacf(0x600)+_0x1b3c8c+'\x22>'+(_0x1b3c8c+0x1)+'.\x20'+_0x5efbdf[_0x5ebacf(0x20b)]+'</p>';_0x5efbdf['imageCode']&&(_0x2aa399+=_0x5ebacf(0x721)+_0x1b3c8c+_0x5ebacf(0x7a4)+_0x5efbdf['imageCode']+'</div>');_0x2aa399+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x1b3c8c+'\x22>'+_0x5efbdf['correctResponse']+'</span></div>',_0x2aa399+=_0x5ebacf(0x803)+_0x1b3c8c+'\x22>'+_0x5efbdf[_0x5ebacf(0x5cc)]+_0x5ebacf(0x73b);break;case _0x5ebacf(0x420):_0x2aa399+=_0x5ebacf(0x600)+_0x1b3c8c+'\x22>'+(_0x1b3c8c+0x1)+'.\x20'+_0x5efbdf['questionText']+_0x5ebacf(0x2be);_0x5efbdf[_0x5ebacf(0x21e)]&&(_0x2aa399+=_0x5ebacf(0x721)+_0x1b3c8c+_0x5ebacf(0x7a4)+_0x5efbdf['imageCode']+_0x5ebacf(0x303));_0x2aa399+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x1b3c8c+'\x22>'+_0x5efbdf[_0x5ebacf(0xf6)]+'</span></div>',_0x2aa399+=_0x5ebacf(0x803)+_0x1b3c8c+'\x22>'+_0x5efbdf[_0x5ebacf(0x5cc)]+_0x5ebacf(0x73b);break;case _0x5ebacf(0x5d3):_0x2aa399+=_0x5ebacf(0x600)+_0x1b3c8c+'\x22>'+(_0x1b3c8c+0x1)+'.\x20'+_0x5efbdf[_0x5ebacf(0x374)]+_0x5ebacf(0x2be);_0x5efbdf[_0x5ebacf(0x21e)]&&(_0x2aa399+='<div\x20id=\x22q-image-container-'+_0x1b3c8c+_0x5ebacf(0x7a4)+_0x5efbdf[_0x5ebacf(0x21e)]+_0x5ebacf(0x303));_0x2aa399+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x5efbdf[_0x5ebacf(0x6ea)]===!![]?_0x5ebacf(0xba):'')+_0x5ebacf(0x44a)+(_0x5efbdf[_0x5ebacf(0x6ea)]===![]?'text-green-600\x20font-bold':'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x2aa399+=_0x5ebacf(0x803)+_0x1b3c8c+'\x22>'+_0x5efbdf['explanation']+_0x5ebacf(0x73b);break;case _0x5ebacf(0x42f):case _0x5ebacf(0x7ec):default:_0x2aa399+=_0x5ebacf(0x600)+_0x1b3c8c+'\x22>'+(_0x1b3c8c+0x1)+'.\x20'+_0x5efbdf[_0x5ebacf(0x374)]+_0x5ebacf(0x2be);_0x5efbdf[_0x5ebacf(0x21e)]&&(_0x2aa399+=_0x5ebacf(0x721)+_0x1b3c8c+_0x5ebacf(0x7a4)+_0x5efbdf['imageCode']+_0x5ebacf(0x303));_0x2aa399+=_0x5ebacf(0x4e6)+_0x1b3c8c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5efbdf[_0x5ebacf(0x234)][_0x5ebacf(0x58e)]((_0x40629c,_0x453fa8)=>_0x5ebacf(0x8ac)+(_0x453fa8===_0x5efbdf[_0x5ebacf(0x6ed)]?_0x5ebacf(0xba):'')+'\x22>'+_0x40629c+'</li>')[_0x5ebacf(0x548)]('')+_0x5ebacf(0x818),_0x2aa399+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1b3c8c+'\x22>'+_0x5efbdf['explanation']+_0x5ebacf(0x73b);break;}_0x2aa399+=_0x5ebacf(0x303);}),_0x2aa399+=_0x25c119(0x3fc),_0x57f38b[_0x25c119(0x299)]=_0x2aa399,document[_0x25c119(0x2b5)]('.edit-question-btn')[_0x25c119(0x7db)](_0x52600a=>_0x52600a[_0x25c119(0x28c)](_0x25c119(0x39a),handleEditQuestion)),document['querySelectorAll'](_0x25c119(0x727))['forEach'](_0x3b96a6=>_0x3b96a6[_0x25c119(0x28c)](_0x25c119(0x39a),handleRegenerateQuestion)),document[_0x25c119(0x2b5)](_0x25c119(0x2b9))[_0x25c119(0x7db)](_0xeba18d=>_0xeba18d[_0x25c119(0x28c)](_0x25c119(0x39a),handleSaveToBank)),document[_0x25c119(0x2ae)](_0x25c119(0x7f9))[_0x25c119(0x28c)](_0x25c119(0x39a),exportQuizAsWorksheetPDF),document[_0x25c119(0x2ae)](_0x25c119(0x3a6))[_0x25c119(0x28c)](_0x25c119(0x39a),saveQuiz),document[_0x25c119(0x2ae)](_0x25c119(0x189))[_0x25c119(0x28c)](_0x25c119(0x39a),handleVerifyAnswers);if(window[_0x25c119(0x530)])window['MathJax']['typesetPromise']([_0x57f38b]);}function handleRegenerateQuestion(_0x2127bd){const _0x89cf84=_0x132f6e,_0x1ece00=_0x2127bd['currentTarget'][_0x89cf84(0x41a)]['index'],_0x1486c3=currentQuizData[_0x89cf84(0x764)];showMessage(_0x89cf84(0x54d)+(parseInt(_0x1ece00)+0x1)+'\x20ใหม่...'),generateQuiz(_0x1486c3,null,parseInt(_0x1ece00));}function getPointerPosition(_0xfc9848,_0x4afbc6){const _0x357e7e=_0x132f6e,_0x553597=_0xfc9848[_0x357e7e(0x88d)]();let _0x107901,_0x1bd094;return _0x4afbc6[_0x357e7e(0x308)]&&_0x4afbc6['touches'][_0x357e7e(0x409)]>0x0?(_0x107901=_0x4afbc6[_0x357e7e(0x308)][0x0][_0x357e7e(0x738)],_0x1bd094=_0x4afbc6['touches'][0x0][_0x357e7e(0x16e)]):(_0x107901=_0x4afbc6[_0x357e7e(0x738)],_0x1bd094=_0x4afbc6[_0x357e7e(0x16e)]),{'x':(_0x107901-_0x553597['e'])/_0x553597['a'],'y':(_0x1bd094-_0x553597['f'])/_0x553597['d']};}function startDrag(_0x2a5a72){const _0x1eae92=_0x132f6e;_0x2a5a72[_0x1eae92(0x78a)]===_0x1eae92(0x687)&&_0x2a5a72[_0x1eae92(0x75b)]();const _0x5e6fbe=_0x2a5a72['target'][_0x1eae92(0x611)](_0x1eae92(0x8a1));if(_0x5e6fbe){draggedSvgElement=_0x5e6fbe;const _0x3184b4=draggedSvgElement[_0x1eae92(0x4f6)],_0x1195e9=getPointerPosition(_0x3184b4,_0x2a5a72);svgOffset['x']=_0x1195e9['x']-parseFloat(draggedSvgElement[_0x1eae92(0x1e5)](null,'x')),svgOffset['y']=_0x1195e9['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x5dd3ac,_0x2596ee){const _0x27de40=_0x132f6e,_0x3640a2={};if(_0x2596ee[_0x27de40(0x409)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x3cd83f=[..._0x2596ee]['sort']((_0x53424b,_0x40a46a)=>{const _0x3faf4a=_0x27de40,_0x3810b6=_0x40a46a[_0x3faf4a(0x568)]-_0x53424b['latestScore'];if(_0x3810b6!==0x0)return _0x3810b6;const _0x950d61=_0x53424b[_0x3faf4a(0x68f)]?.['length']||0x1,_0x35abd9=_0x40a46a[_0x3faf4a(0x68f)]?.[_0x3faf4a(0x409)]||0x1,_0x1ecd1c=_0x950d61-_0x35abd9;if(_0x1ecd1c!==0x0)return _0x1ecd1c;const _0x1a2c2d=new Date(_0x53424b[_0x3faf4a(0x11f)]),_0x1dad7a=new Date(_0x40a46a['latestSubmittedAt']),_0x257805=_0x1a2c2d-_0x1dad7a;if(_0x257805!==0x0)return _0x257805;return _0x53424b['studentName'][_0x3faf4a(0x50f)](_0x40a46a[_0x3faf4a(0x3d9)],'th');}),_0x1f2f53=_0x3cd83f[_0x27de40(0x409)],_0x3431df=Math[_0x27de40(0x405)](0x1,Math[_0x27de40(0x7fb)](_0x1f2f53*0.33));if(_0x3431df===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x6e2482=_0x3cd83f[_0x27de40(0x10b)](0x0,_0x3431df),_0x578dfe=_0x3cd83f[_0x27de40(0x10b)](-_0x3431df),_0x325975=_0x6e2482[_0x27de40(0x58e)](_0x3afc15=>_0x3afc15[_0x27de40(0x3d9)]),_0x16d2e2=_0x578dfe[_0x27de40(0x58e)](_0x1b8516=>_0x1b8516[_0x27de40(0x3d9)]);return _0x5dd3ac[_0x27de40(0x84d)][_0x27de40(0x7db)]((_0x22548c,_0x48a3fe)=>{const _0x1afae3=_0x27de40,_0x459222=_0x22548c[_0x1afae3(0x20b)]||_0x22548c['questionText'];let _0x32d037=0x0,_0x10665d=0x0,_0x5dbb8c=0x0;const _0x460b9a=[],_0x19d844=[];_0x6e2482[_0x1afae3(0x7db)](_0x367b86=>{const _0xf17fe5=_0x1afae3,_0x5242e5=_0x367b86[_0xf17fe5(0x68f)][_0x367b86[_0xf17fe5(0x68f)][_0xf17fe5(0x409)]-0x1],_0x2ad9d1=_0x5242e5[_0xf17fe5(0x6f0)][_0xf17fe5(0x2fe)](_0x5f3e40=>_0x5f3e40['originalQuestionText']===_0x459222);_0x460b9a[_0xf17fe5(0x57d)]({'name':_0x367b86[_0xf17fe5(0x3d9)],'isCorrect':_0x2ad9d1?_0x2ad9d1[_0xf17fe5(0x106)]:![]}),_0x2ad9d1&&_0x2ad9d1[_0xf17fe5(0x106)]&&_0x10665d++;}),_0x578dfe['forEach'](_0x581055=>{const _0x4ff8b6=_0x1afae3,_0x3cb744=_0x581055[_0x4ff8b6(0x68f)][_0x581055[_0x4ff8b6(0x68f)]['length']-0x1],_0x34f9a9=_0x3cb744[_0x4ff8b6(0x6f0)][_0x4ff8b6(0x2fe)](_0x27c23e=>_0x27c23e[_0x4ff8b6(0x390)]===_0x459222);_0x19d844[_0x4ff8b6(0x57d)]({'name':_0x581055['studentName'],'isCorrect':_0x34f9a9?_0x34f9a9['isCorrect']:![]}),_0x34f9a9&&_0x34f9a9[_0x4ff8b6(0x106)]&&_0x5dbb8c++;}),_0x2596ee[_0x1afae3(0x7db)](_0x3069fc=>{const _0x10d478=_0x1afae3,_0x2316af=_0x3069fc[_0x10d478(0x68f)][_0x3069fc[_0x10d478(0x68f)][_0x10d478(0x409)]-0x1],_0x5dbf00=_0x2316af[_0x10d478(0x6f0)][_0x10d478(0x2fe)](_0x2ee9df=>_0x2ee9df['originalQuestionText']===_0x459222);_0x5dbf00&&_0x5dbf00['isCorrect']&&_0x32d037++;});const _0x2734c8=_0x1f2f53>0x0?_0x32d037/_0x1f2f53:0x0,_0x14c563=_0x3431df>0x0?_0x10665d/_0x3431df-_0x5dbb8c/_0x3431df:0x0;_0x3640a2[_0x48a3fe]={'p':_0x2734c8,'r':_0x14c563,'upperGroupResponders':_0x460b9a,'lowerGroupResponders':_0x19d844};}),{'perQuestionStats':_0x3640a2,'overallGroups':{'upperGroupNames':_0x325975,'lowerGroupNames':_0x16d2e2}};}function drag(_0x5a2a30){const _0x4225ae=_0x132f6e;if(draggedSvgElement){_0x5a2a30[_0x4225ae(0x75b)]();const _0x1f62ff=draggedSvgElement[_0x4225ae(0x4f6)],_0x547fea=getPointerPosition(_0x1f62ff,_0x5a2a30),_0xb138d7=_0x1f62ff[_0x4225ae(0x393)]['baseVal'];let _0x32ad4f=_0x547fea['x']-svgOffset['x'],_0x13f7ef=_0x547fea['y']-svgOffset['y'];const _0x427e8a=draggedSvgElement[_0x4225ae(0x410)]();_0x32ad4f=Math['max'](_0xb138d7['x'],Math['min'](_0x32ad4f,_0xb138d7['x']+_0xb138d7['width']-_0x427e8a[_0x4225ae(0x64e)])),_0x13f7ef=Math[_0x4225ae(0x405)](_0xb138d7['y'],Math['min'](_0x13f7ef,_0xb138d7['y']+_0xb138d7[_0x4225ae(0x51f)]-_0x427e8a[_0x4225ae(0x51f)])),draggedSvgElement[_0x4225ae(0x73a)](null,'x',_0x32ad4f),draggedSvgElement[_0x4225ae(0x73a)](null,'y',_0x13f7ef);}}function endDrag(_0x5f1eb7){draggedSvgElement=null;}function handleSvgEditClick(_0xf2c23d){const _0x1af156=_0x132f6e;if(_0xf2c23d[_0x1af156(0x783)][_0x1af156(0x172)]['contains'](_0x1af156(0x174))){const _0x5d4b1e=_0xf2c23d['target'][_0x1af156(0x41a)]['targetId'],_0x292e47=_0xf2c23d['currentTarget'],_0x51aa01=_0x292e47[_0x1af156(0x5b4)]('#'+_0x5d4b1e);_0x51aa01&&_0x51aa01[_0x1af156(0x6a9)](),_0xf2c23d[_0x1af156(0x783)][_0x1af156(0x6a9)]();}}function handleEditQuestion(_0x31364f){const _0x36a74c=_0x132f6e,_0x4661af=_0x31364f[_0x36a74c(0x78c)],_0x1a53b6=_0x4661af[_0x36a74c(0x41a)][_0x36a74c(0x80c)],_0x2ed7a0=currentQuizData[_0x36a74c(0x84d)][_0x1a53b6],_0x55ae6f=document['getElementById']('q-text-'+_0x1a53b6),_0x379285=document[_0x36a74c(0x2ae)](_0x36a74c(0x2cc)+_0x1a53b6),_0x1effd5=document[_0x36a74c(0x2ae)]('q-image-container-'+_0x1a53b6);if(_0x4661af[_0x36a74c(0x299)]['includes'](_0x36a74c(0x823))){_0x4661af['innerHTML']=_0x36a74c(0x235),_0x4661af['title']=_0x36a74c(0x705);if(_0x55ae6f)_0x55ae6f['contentEditable']=!![];if(_0x379285)_0x379285[_0x36a74c(0x544)]=!![];if(_0x1effd5){const _0x5c5402=_0x1effd5[_0x36a74c(0x5b4)](_0x36a74c(0x7dd));if(_0x5c5402){const _0x135142=_0x5c5402[_0x36a74c(0x2b5)](_0x36a74c(0x270));_0x135142[_0x36a74c(0x7db)]((_0x4d2017,_0x756293)=>{const _0x5dc03e=_0x36a74c,_0x284f26=_0x5dc03e(0x6c8)+_0x1a53b6+'-'+_0x756293;_0x4d2017['id']=_0x284f26,_0x4d2017[_0x5dc03e(0x172)][_0x5dc03e(0x96)](_0x5dc03e(0x80e)),_0x4d2017[_0x5dc03e(0x51a)][_0x5dc03e(0x660)]='move';const _0x24c1e2=document[_0x5dc03e(0x502)](_0x5dc03e(0x367),'circle'),_0x6ec05b=_0x4d2017['getBBox']();_0x24c1e2[_0x5dc03e(0x44d)]('cx',String(_0x6ec05b['x']+_0x6ec05b[_0x5dc03e(0x64e)]+0x5)),_0x24c1e2[_0x5dc03e(0x44d)]('cy',String(_0x6ec05b['y']+_0x6ec05b[_0x5dc03e(0x51f)]/0x2-0x5)),_0x24c1e2[_0x5dc03e(0x44d)]('r','5'),_0x24c1e2['setAttribute'](_0x5dc03e(0x2d0),_0x5dc03e(0x1e3)),_0x24c1e2[_0x5dc03e(0x44d)](_0x5dc03e(0x751),_0x5dc03e(0x174)),_0x24c1e2[_0x5dc03e(0x41a)]['targetId']=_0x284f26,_0x4d2017[_0x5dc03e(0x241)](_0x24c1e2);}),_0x5c5402[_0x36a74c(0x28c)](_0x36a74c(0x6cc),startDrag),_0x5c5402[_0x36a74c(0x28c)](_0x36a74c(0x677),drag),_0x5c5402[_0x36a74c(0x28c)](_0x36a74c(0x41f),endDrag),_0x5c5402['addEventListener'](_0x36a74c(0x859),endDrag),_0x5c5402[_0x36a74c(0x28c)]('touchstart',startDrag,{'passive':![]}),_0x5c5402['addEventListener']('touchmove',drag,{'passive':![]}),_0x5c5402['addEventListener'](_0x36a74c(0x6e0),endDrag),_0x5c5402['addEventListener']('touchcancel',endDrag),_0x5c5402[_0x36a74c(0x28c)]('click',handleSvgEditClick);}}if(_0x55ae6f)_0x55ae6f[_0x36a74c(0x4ad)]();}else{_0x4661af[_0x36a74c(0x299)]=_0x36a74c(0x672),_0x4661af['title']=_0x36a74c(0x870);if(_0x55ae6f){_0x55ae6f[_0x36a74c(0x544)]=![];const _0x5af9ad=_0x2ed7a0[_0x36a74c(0x135)]||currentQuizData[_0x36a74c(0x444)];_0x5af9ad===_0x36a74c(0x58b)?_0x2ed7a0['stem']=_0x55ae6f[_0x36a74c(0x2cd)]['substring'](_0x55ae6f[_0x36a74c(0x2cd)][_0x36a74c(0x7ef)]('.')+0x2)[_0x36a74c(0x1a0)]():_0x2ed7a0[_0x36a74c(0x374)]=_0x55ae6f[_0x36a74c(0x2cd)][_0x36a74c(0xd4)](_0x55ae6f[_0x36a74c(0x2cd)][_0x36a74c(0x7ef)]('.')+0x2)['trim']();}_0x379285&&(_0x379285[_0x36a74c(0x544)]=![],_0x2ed7a0['explanation']=_0x379285['innerText']);if(_0x1effd5){const _0x1be06d=_0x1effd5[_0x36a74c(0x5b4)]('svg');if(_0x1be06d){const _0x4e4391=_0x1be06d[_0x36a74c(0x594)](!![]);_0x4e4391[_0x36a74c(0x2b5)](_0x36a74c(0x186))[_0x36a74c(0x7db)](_0xb012dc=>_0xb012dc['remove']()),_0x4e4391[_0x36a74c(0x2b5)](_0x36a74c(0x8a1))[_0x36a74c(0x7db)](_0x20d93c=>{const _0x1c0831=_0x36a74c;_0x20d93c[_0x1c0831(0x172)]['remove'](_0x1c0831(0x80e)),_0x20d93c[_0x1c0831(0x51a)][_0x1c0831(0x660)]=_0x1c0831(0x43d),_0x20d93c['removeAttribute']('id');}),_0x2ed7a0[_0x36a74c(0x21e)]=_0x4e4391[_0x36a74c(0x2bc)],_0x1be06d[_0x36a74c(0x21f)](_0x36a74c(0x6cc),startDrag),_0x1be06d[_0x36a74c(0x21f)]('mousemove',drag),_0x1be06d[_0x36a74c(0x21f)](_0x36a74c(0x41f),endDrag),_0x1be06d[_0x36a74c(0x21f)](_0x36a74c(0x859),endDrag),_0x1be06d[_0x36a74c(0x21f)]('touchstart',startDrag),_0x1be06d['removeEventListener'](_0x36a74c(0x28f),drag),_0x1be06d[_0x36a74c(0x21f)](_0x36a74c(0x6e0),endDrag),_0x1be06d[_0x36a74c(0x21f)](_0x36a74c(0x4b2),endDrag),_0x1be06d['removeEventListener'](_0x36a74c(0x39a),handleSvgEditClick),_0x1be06d[_0x36a74c(0x2b5)](_0x36a74c(0x186))[_0x36a74c(0x7db)](_0x360140=>_0x360140['remove']()),_0x1be06d['querySelectorAll']('.draggable-text')[_0x36a74c(0x7db)](_0x4a3048=>{const _0x4e6960=_0x36a74c;_0x4a3048[_0x4e6960(0x172)][_0x4e6960(0x6a9)](_0x4e6960(0x80e)),_0x4a3048[_0x4e6960(0x51a)]['cursor']=_0x4e6960(0x43d);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x472aa3){const _0x4c59a4=_0x132f6e,_0x187444=document[_0x4c59a4(0x2ae)](_0x4c59a4(0x17a)),_0x566aeb=document['getElementById'](_0x4c59a4(0x6bd));_0x566aeb[_0x4c59a4(0x299)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x187444[_0x4c59a4(0x172)][_0x4c59a4(0x6a9)](_0x4c59a4(0x5cb));try{const _0x14a822=doc(db,_0x4c59a4(0x493)+appId+'/public/data/quizzes',_0x472aa3),_0x330d24=await getDoc(_0x14a822);if(!_0x330d24['exists']())throw new Error(_0x4c59a4(0x130));currentEditingQuizData={'id':_0x472aa3,..._0x330d24[_0x4c59a4(0x416)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x5474d5){console[_0x4c59a4(0x6e4)](_0x4c59a4(0xe6),_0x5474d5),showMessage(_0x4c59a4(0x69d)),_0x187444[_0x4c59a4(0x172)][_0x4c59a4(0x96)](_0x4c59a4(0x5cb));}}function renderQuizEditor(_0x349a8e){const _0x2d416c=_0x132f6e;document[_0x2d416c(0x2ae)](_0x2d416c(0x250))[_0x2d416c(0x864)]=_0x349a8e[_0x2d416c(0x764)];const _0x4fce92=document[_0x2d416c(0x2ae)](_0x2d416c(0x6bd));let _0x114368=_0x349a8e['questions']['map']((_0x1a006c,_0x165586)=>{const _0x2c9ab8=_0x2d416c;let _0x16c663='';const _0x119595=_0x1a006c[_0x2c9ab8(0x135)]||_0x349a8e['quizType'];switch(_0x119595){case _0x2c9ab8(0x7ec):const _0x115ef3=(_0x1a006c[_0x2c9ab8(0x234)]||[])[_0x2c9ab8(0x58e)]((_0x3ef55f,_0x457182)=>_0x2c9ab8(0x4db)+_0x165586+_0x2c9ab8(0x85e)+_0x457182+'\x22\x20'+(_0x457182===_0x1a006c[_0x2c9ab8(0x6ed)]?_0x2c9ab8(0x13b):'')+_0x2c9ab8(0x819)+_0x3ef55f+_0x2c9ab8(0x7ff))['join']('');_0x16c663=_0x2c9ab8(0x5d1)+_0x115ef3+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2c9ab8(0x420):_0x16c663=_0x2c9ab8(0x640)+(_0x1a006c['idealAnswer']||'')+_0x2c9ab8(0x33c);break;case _0x2c9ab8(0x5d3):_0x16c663=_0x2c9ab8(0x82f)+_0x165586+_0x2c9ab8(0x678)+(_0x1a006c[_0x2c9ab8(0x6ea)]===!![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x165586+_0x2c9ab8(0x797)+(_0x1a006c['correctAnswer']===![]?_0x2c9ab8(0x13b):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x16c663=_0x2c9ab8(0x8aa)+(_0x1a006c['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x49120a=_0x1a006c['questionText']||_0x1a006c['stem']||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x165586+_0x2c9ab8(0x5dc)+_0x119595+_0x2c9ab8(0x228)+(_0x165586+0x1)+'\x20('+_0x119595+_0x2c9ab8(0x670)+_0x49120a+_0x2c9ab8(0xaf)+_0x16c663+_0x2c9ab8(0x63e);})[_0x2d416c(0x548)]('');_0x4fce92[_0x2d416c(0x299)]=_0x114368,_0x4fce92['querySelectorAll']('.ai-fix-question-btn')['forEach'](_0x4952d9=>{const _0x3b6eaf=_0x2d416c;_0x4952d9[_0x3b6eaf(0x28c)](_0x3b6eaf(0x39a),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x4249b1){const _0x1082d6=_0x132f6e,_0x5c43d7=_0x4249b1[_0x1082d6(0x78c)],_0x41bee8=_0x5c43d7['closest'](_0x1082d6(0x892));if(!_0x41bee8)return;const _0xb20994=parseInt(_0x41bee8['dataset']['qIndex'],0xa);if(isNaN(_0xb20994)||!currentEditingQuizData[_0x1082d6(0x84d)][_0xb20994]){showMessage(_0x1082d6(0x66f));return;}const _0x386af9=currentEditingQuizData[_0x1082d6(0x84d)][_0xb20994];_0x5c43d7[_0x1082d6(0x299)]=_0x1082d6(0x849),_0x5c43d7['disabled']=!![];const _0x38e182=_0x1082d6(0x68a)+JSON['stringify'](_0x386af9)+_0x1082d6(0x376);let _0x1c25e9;const _0x3fd52d=_0x386af9[_0x1082d6(0x135)]||currentEditingQuizData['quizType'];switch(_0x3fd52d){case _0x1082d6(0x420):_0x1c25e9={'type':_0x1082d6(0x6b3),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1082d6(0x345)},'explanation':{'type':_0x1082d6(0x345)},'imageCode':{'type':_0x1082d6(0x345)}},'required':['questionText',_0x1082d6(0xf6),_0x1082d6(0x5cc)]};break;case _0x1082d6(0x7ec):default:_0x1c25e9={'type':_0x1082d6(0x6b3),'properties':{'questionText':{'type':_0x1082d6(0x345)},'options':{'type':_0x1082d6(0x7cf),'items':{'type':_0x1082d6(0x345)}},'correctAnswerIndex':{'type':_0x1082d6(0x83e)},'explanation':{'type':_0x1082d6(0x345)},'imageCode':{'type':_0x1082d6(0x345)}},'required':[_0x1082d6(0x374),_0x1082d6(0x234),_0x1082d6(0x6ed),_0x1082d6(0x5cc)]};break;}try{let _0x2790c6=await callAnalysisApi(_0x38e182,_0x1c25e9);_0x2790c6[_0x1082d6(0x234)]&&Array[_0x1082d6(0x185)](_0x2790c6[_0x1082d6(0x234)])&&(_0x2790c6[_0x1082d6(0x234)]=_0x2790c6['options'][_0x1082d6(0x58e)](_0x22ba65=>typeof _0x22ba65==='string'?_0x22ba65['replace'](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x22ba65)),_0x386af9[_0x1082d6(0x21e)]&&_0x386af9['imageCode'][_0x1082d6(0x229)](_0x1082d6(0x78f))&&(_0x2790c6['imageCode']=''),currentEditingQuizData['questions'][_0xb20994]={..._0x386af9,..._0x2790c6},renderQuizEditor(currentEditingQuizData),showMessage(_0x1082d6(0x64a));}catch(_0x5aa3da){console[_0x1082d6(0x6e4)](_0x1082d6(0x576),_0x5aa3da),showMessage(_0x1082d6(0x70e)),renderQuizEditor(currentEditingQuizData);}}function _0x5070(_0x385462,_0x1a1feb){const _0x38545f=_0x3854();return _0x5070=function(_0x507015,_0x54b23a){_0x507015=_0x507015-0x94;let _0x123f5d=_0x38545f[_0x507015];return _0x123f5d;},_0x5070(_0x385462,_0x1a1feb);}async function handleSaveChanges(){const _0xf0ae24=_0x132f6e,_0x485638=document[_0xf0ae24(0x2ae)]('save-quiz-edits-btn');_0x485638['disabled']=!![],_0x485638['innerHTML']=_0xf0ae24(0x356);try{const _0x4edfbd=document['getElementById'](_0xf0ae24(0x250))[_0xf0ae24(0x864)],_0x53b11d=document[_0xf0ae24(0x2b5)](_0xf0ae24(0x892));let _0x2aae59=[];const _0x3e1e86=Array[_0xf0ae24(0x54c)](_0x53b11d)[_0xf0ae24(0x58e)]((_0x57cd47,_0x397700)=>{const _0x13033f=_0xf0ae24,_0x9c63bf=_0x57cd47[_0x13033f(0x41a)][_0x13033f(0x679)],_0x8e99f8=_0x57cd47[_0x13033f(0x5b4)](_0x13033f(0x429))[_0x13033f(0x864)];let _0x7d76be={'questionType':_0x9c63bf};const _0x100c37=currentEditingQuizData[_0x13033f(0x84d)][_0x397700];switch(_0x9c63bf){case'multiple_choice':_0x7d76be['questionText']=_0x8e99f8;const _0x3cd586=_0x57cd47[_0x13033f(0x2b5)]('input[type=\x22text\x22]');_0x7d76be['options']=Array[_0x13033f(0x54c)](_0x3cd586)['map'](_0x1e760c=>_0x1e760c[_0x13033f(0x864)]);const _0x4635ee=_0x57cd47[_0x13033f(0x5b4)](_0x13033f(0x881));_0x7d76be[_0x13033f(0x6ed)]=_0x4635ee?parseInt(_0x4635ee[_0x13033f(0x864)]):0x0;break;case _0x13033f(0x420):_0x7d76be[_0x13033f(0x374)]=_0x8e99f8,_0x7d76be[_0x13033f(0xf6)]=_0x57cd47[_0x13033f(0x5b4)](_0x13033f(0x473))[_0x13033f(0x864)];break;case _0x13033f(0x5d3):_0x7d76be['questionText']=_0x8e99f8;const _0x4946b6=_0x57cd47[_0x13033f(0x5b4)](_0x13033f(0x881));_0x7d76be['correctAnswer']=_0x4946b6?_0x4946b6[_0x13033f(0x864)]===_0x13033f(0x208):!![];break;case _0x13033f(0x58b):_0x7d76be['stem']=_0x8e99f8;const _0x34ee34=_0x57cd47[_0x13033f(0x5b4)](_0x13033f(0xac));_0x7d76be[_0x13033f(0x150)]=_0x34ee34?_0x34ee34[_0x13033f(0x864)]:'',_0x2aae59[_0x13033f(0x57d)](_0x7d76be[_0x13033f(0x150)]);break;default:_0x7d76be['questionText']=_0x8e99f8;break;}return{..._0x100c37,..._0x7d76be};});_0x2aae59[_0xf0ae24(0x409)]>0x0&&_0x3e1e86[_0xf0ae24(0x7db)](_0x602e4d=>{const _0x46813d=_0xf0ae24;_0x602e4d[_0x46813d(0x135)]===_0x46813d(0x58b)&&(_0x602e4d[_0x46813d(0x5d8)]=_0x2aae59);});const _0x2c9a18=currentEditingQuizData['id'],_0x4a3dd6=doc(db,_0xf0ae24(0x493)+appId+_0xf0ae24(0x2f9),_0x2c9a18);await updateDoc(_0x4a3dd6,{'topic':_0x4edfbd,'questions':_0x3e1e86}),document[_0xf0ae24(0x2ae)](_0xf0ae24(0x17a))[_0xf0ae24(0x172)][_0xf0ae24(0x96)](_0xf0ae24(0x5cb)),showMessage(_0xf0ae24(0x61e),()=>initiateReGradeProcess(_0x2c9a18));}catch(_0xfbf7e6){console[_0xf0ae24(0x6e4)](_0xf0ae24(0x48e),_0xfbf7e6),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x485638[_0xf0ae24(0x4b3)]=![],_0x485638[_0xf0ae24(0x299)]=_0xf0ae24(0x6d6);}}async function initiateReGradeProcess(_0x4dadbc){const _0x139c3f=_0x132f6e;showMessage(_0x139c3f(0x496));try{const _0x2deb8b=doc(db,_0x139c3f(0x493)+appId+'/public/data/quizzes',_0x4dadbc),_0x409202=await getDoc(_0x2deb8b);if(!_0x409202[_0x139c3f(0x125)]())throw new Error(_0x139c3f(0x759));const _0x2159c8={'id':_0x4dadbc,..._0x409202[_0x139c3f(0x416)]()},_0x31803f=collection(db,_0x139c3f(0x493)+appId+_0x139c3f(0x2f9),_0x4dadbc,'submissions'),_0x2619db=await getDocs(_0x31803f);if(_0x2619db[_0x139c3f(0x141)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x1be517=_0x2619db[_0x139c3f(0x7d9)][_0x139c3f(0x58e)](_0x169826=>reGradeSingleSubmission(_0x169826,_0x2159c8));await Promise['all'](_0x1be517);if(_0x2159c8['projectId']){const _0xe8fefd=doc(db,_0x139c3f(0x493)+appId+_0x139c3f(0x855),_0x2159c8[_0x139c3f(0x763)]),_0xa98676=await getDoc(_0xe8fefd);if(_0xa98676[_0x139c3f(0x125)]()&&_0xa98676[_0x139c3f(0x416)]()[_0x139c3f(0x6b4)]){const _0x321b56=_0xa98676['data']()[_0x139c3f(0x6b4)][_0x139c3f(0x58e)](_0x3ca58d=>updateStudentProfile(_0x2159c8[_0x139c3f(0x763)],_0x3ca58d));await Promise[_0x139c3f(0x5a9)](_0x321b56);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x2619db[_0x139c3f(0x6ff)]+_0x139c3f(0x3c4));}catch(_0x1055ce){console[_0x139c3f(0x6e4)]('Re-grade\x20process\x20failed:',_0x1055ce),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x1055ce['message']);}}async function reGradeSingleSubmission(_0x579162,_0x5ebd77){const _0x2ccb28=_0x132f6e,_0x51b83f=_0x579162['data'](),_0x372f58=_0x51b83f[_0x2ccb28(0x3d9)],_0x24e441=_0x51b83f[_0x2ccb28(0x68f)]||[],_0x2ee579=[];for(const _0x4ebcbd of _0x24e441){let _0x9086ba=0x0,_0x27e379=[],_0x23950b=0x0;const _0x416d5f=[];for(const _0x30a3be of _0x4ebcbd[_0x2ccb28(0x6f0)]){let _0x195280;_0x30a3be[_0x2ccb28(0x730)]&&(_0x195280=_0x5ebd77['questions'][_0x2ccb28(0x2fe)](_0x438d88=>_0x438d88['id']===_0x30a3be[_0x2ccb28(0x730)]));!_0x195280&&_0x30a3be[_0x2ccb28(0x390)]&&(_0x195280=_0x5ebd77[_0x2ccb28(0x84d)]['find'](_0x4be601=>(_0x4be601[_0x2ccb28(0x20b)]||_0x4be601[_0x2ccb28(0x374)])===_0x30a3be[_0x2ccb28(0x390)]));let _0x35e29b=![];if(_0x195280){const _0x526ac5=_0x195280['questionType']||_0x5ebd77[_0x2ccb28(0x444)];switch(_0x526ac5){case _0x2ccb28(0x7ec):if(_0x195280[_0x2ccb28(0x234)]&&_0x195280[_0x2ccb28(0x6ed)]<_0x195280[_0x2ccb28(0x234)][_0x2ccb28(0x409)]){const _0x110237=_0x195280['options'][_0x195280[_0x2ccb28(0x6ed)]];_0x35e29b=_0x30a3be[_0x2ccb28(0x5db)]===_0x110237;}break;case _0x2ccb28(0x5d3):const _0x39874c=_0x30a3be[_0x2ccb28(0x2e4)]===!![]||_0x30a3be[_0x2ccb28(0x2e4)]==='true';_0x35e29b=_0x39874c===_0x195280[_0x2ccb28(0x6ea)];break;case _0x2ccb28(0x58b):_0x35e29b=_0x30a3be[_0x2ccb28(0x2e4)]===_0x195280[_0x2ccb28(0x150)];break;case'short_answer':_0x35e29b=await gradeShortAnswer(_0x30a3be[_0x2ccb28(0x2e4)],_0x195280);break;default:_0x35e29b=_0x30a3be['isCorrect'];break;}}if(_0x35e29b){_0x9086ba++,_0x23950b++;if(_0x23950b===0x3)_0x27e379[_0x2ccb28(0x57d)](BADGES[_0x2ccb28(0x7b4)]['id']);}else _0x23950b=0x0;_0x416d5f['push']({..._0x30a3be,'isCorrect':_0x35e29b});}let _0x5d69f0=_0x9086ba*0xa;_0x9086ba===_0x5ebd77['questions'][_0x2ccb28(0x409)]&&(_0x5d69f0+=0x32,_0x27e379[_0x2ccb28(0x57d)](BADGES[_0x2ccb28(0x4c5)]['id'])),_0x2ee579['push']({..._0x4ebcbd,'score':_0x9086ba,'points':_0x5d69f0,'badges':Array[_0x2ccb28(0x54c)](new Set(_0x27e379)),'answers':_0x416d5f});}const _0x25e3cd=_0x2ee579[_0x2ccb28(0x409)]>0x0?_0x2ee579[0x0][_0x2ccb28(0x66d)]:0x0,_0x11dce3=Math[_0x2ccb28(0x405)](..._0x2ee579['map'](_0x450e9b=>_0x450e9b[_0x2ccb28(0x66d)])),_0x3e5d26=_0x2ee579[_0x2ccb28(0x409)]>0x0?_0x2ee579[_0x2ee579['length']-0x1][_0x2ccb28(0x66d)]:0x0,_0x250262=_0x2ee579[_0x2ccb28(0x409)]>0x0?_0x2ee579[_0x2ee579[_0x2ccb28(0x409)]-0x1][_0x2ccb28(0x824)]:0x0,_0x2ded1c=doc(db,'artifacts/'+appId+_0x2ccb28(0x586)+_0x5ebd77['id']+_0x2ccb28(0xd9),_0x372f58);await updateDoc(_0x2ded1c,{'attempts':_0x2ee579,'firstScore':_0x25e3cd,'bestScore':_0x11dce3,'latestScore':_0x3e5d26,'points':_0x250262});}function cleanupQuizOptions(_0x51deb8){const _0x2f5c41=_0x132f6e,_0x28a398=(_0x5d9c63,_0x434514)=>_0x434514===0x0?_0x5d9c63:_0x28a398(_0x434514,_0x5d9c63%_0x434514),_0x503fc8=_0x26248d=>{const _0x2cac0e=_0x5070;if(typeof _0x26248d!==_0x2cac0e(0x39f))return null;_0x26248d=_0x26248d[_0x2cac0e(0x1a0)]();const _0x78e15a=_0x26248d[_0x2cac0e(0x500)](/[ /]/)[_0x2cac0e(0x2ca)](_0x2be8ef=>_0x2be8ef!=='');if(_0x78e15a[_0x2cac0e(0x409)]===0x3)return parseInt(_0x78e15a[0x0])+parseInt(_0x78e15a[0x1])/parseInt(_0x78e15a[0x2]);else{if(_0x78e15a[_0x2cac0e(0x409)]===0x2)return parseInt(_0x78e15a[0x0])/parseInt(_0x78e15a[0x1]);else{if(_0x78e15a['length']===0x1&&!isNaN(_0x78e15a[0x0]))return parseFloat(_0x78e15a[0x0]);}}return null;},_0x1c1888=_0x23c197=>{const _0x391df3=_0x5070;if(typeof _0x23c197!==_0x391df3(0x39f))return _0x23c197;const _0x4936d2=_0x23c197[_0x391df3(0x302)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x4936d2){const _0x1a2430=parseInt(_0x4936d2[0x1]);let _0x5a6a0b=parseInt(_0x4936d2[0x2]),_0x275858=parseInt(_0x4936d2[0x3]);const _0x311b52=_0x28a398(_0x5a6a0b,_0x275858);_0x5a6a0b/=_0x311b52,_0x275858/=_0x311b52;if(_0x275858===0x1)return(_0x1a2430+_0x5a6a0b)[_0x391df3(0x883)]();return _0x1a2430+'\x20'+_0x5a6a0b+'/'+_0x275858;}return _0x23c197;};return _0x51deb8&&_0x51deb8['questions']&&_0x51deb8[_0x2f5c41(0x84d)][_0x2f5c41(0x7db)](_0xbcb0b5=>{const _0x3b5866=_0x2f5c41;if(_0xbcb0b5[_0x3b5866(0x135)]===_0x3b5866(0x7ec)&&_0xbcb0b5[_0x3b5866(0x234)]){const _0x39c0d3=new Map(),_0x2ef2cb=_0xbcb0b5['options'][_0xbcb0b5[_0x3b5866(0x6ed)]];_0xbcb0b5[_0x3b5866(0x234)]['forEach'](_0x58e102=>{const _0x125549=_0x3b5866,_0x479105=_0x1c1888(_0x58e102),_0x24e898=_0x503fc8(_0x479105);_0x24e898!==null&&!_0x39c0d3[_0x125549(0x5e1)](_0x24e898)&&_0x39c0d3[_0x125549(0x591)](_0x24e898,_0x479105);}),_0xbcb0b5['options']=Array[_0x3b5866(0x54c)](_0x39c0d3[_0x3b5866(0x225)]());const _0xb1d70c=_0xbcb0b5[_0x3b5866(0x234)]['findIndex'](_0x522a24=>_0x522a24===_0x1c1888(_0x2ef2cb));_0xbcb0b5[_0x3b5866(0x6ed)]=_0xb1d70c!==-0x1?_0xb1d70c:0x0;}}),_0x51deb8;}async function saveQuiz(){const _0x3699da=_0x132f6e;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x3699da(0x84d)]||!userId){showMessage(_0x3699da(0xf2));return;}const _0x10fdfa=document['getElementById'](_0x3699da(0x3a6));_0x10fdfa['disabled']=!![],_0x10fdfa[_0x3699da(0x299)]=_0x3699da(0x356);const _0x9f2566=document['getElementById'](_0x3699da(0x665))['checked'];let _0x52b2b8=document[_0x3699da(0x2ae)]('editable-quiz-topic')[_0x3699da(0x2cd)][_0x3699da(0x1a0)]();_0x9f2566&&!_0x52b2b8['startsWith'](_0x3699da(0x815))&&(_0x52b2b8=_0x3699da(0x613)+_0x52b2b8);try{const _0x11b70f={'resultsDisplay':document[_0x3699da(0x2ae)](_0x3699da(0x3a2))['value'],'shuffle':document[_0x3699da(0x2ae)](_0x3699da(0x1f1))[_0x3699da(0x864)],'timerMode':document[_0x3699da(0x2ae)]('timer-mode-select')[_0x3699da(0x864)],'timerDuration':parseInt(document[_0x3699da(0x2ae)](_0x3699da(0x211))[_0x3699da(0x864)])||0xa,'passingScore':parseInt(document[_0x3699da(0x2ae)](_0x3699da(0x6f9))[_0x3699da(0x864)])||0x0,'isAdaptive':document[_0x3699da(0x2ae)](_0x3699da(0x7b5))[_0x3699da(0x13b)],'loopUntilPass':document[_0x3699da(0x2ae)]('loop-until-pass-checkbox')[_0x3699da(0x13b)]},_0x26b760=(currentQuizData['questions']||[])[_0x3699da(0x58e)]((_0x34e8c5,_0x58384e)=>{const _0x234325=_0x3699da,_0x5bf1b5=document[_0x234325(0x2ae)](_0x234325(0x507))[_0x234325(0x864)],_0x5891a4={'id':'q_'+Date[_0x234325(0x667)]()+'_'+_0x58384e,'questionText':_0x34e8c5['questionText']||'','explanation':_0x34e8c5['explanation']||_0x234325(0x615),'questionType':_0x34e8c5[_0x234325(0x135)]||_0x5bf1b5,'imageCode':_0x34e8c5[_0x234325(0x21e)]||null};return(_0x5891a4['questionType']===_0x234325(0x7ec)||_0x5891a4['questionType']===_0x234325(0x3e3)||_0x5891a4[_0x234325(0x135)]===_0x234325(0x63c)&&_0x34e8c5[_0x234325(0x234)])&&(_0x5891a4[_0x234325(0x234)]=_0x34e8c5['options']||[],_0x5891a4[_0x234325(0x6ed)]=_0x34e8c5[_0x234325(0x6ed)]!==undefined?_0x34e8c5['correctAnswerIndex']:0x0),(_0x5891a4[_0x234325(0x135)]===_0x234325(0x420)||_0x5891a4[_0x234325(0x135)]===_0x234325(0x7c1)||_0x5891a4['questionType']===_0x234325(0x63c)&&_0x34e8c5[_0x234325(0xf6)])&&(_0x5891a4[_0x234325(0xf6)]=_0x34e8c5['idealAnswer']||''),_0x5891a4[_0x234325(0x135)]===_0x234325(0x5d3)&&(_0x5891a4[_0x234325(0x6ea)]=_0x34e8c5['correctAnswer']===!![]),_0x5891a4[_0x234325(0x135)]===_0x234325(0x58b)&&(_0x5891a4['stem']=_0x34e8c5['stem']||'',_0x5891a4[_0x234325(0x150)]=_0x34e8c5['correctResponse']||'',_0x5891a4[_0x234325(0x5d8)]=_0x34e8c5['allResponses']||[]),_0x5891a4;}),_0x3992ff={'topic':_0x52b2b8,'quizType':currentQuizData[_0x3699da(0x444)]||'multiple_choice','questions':_0x26b760,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x3699da(0x298),'settings':_0x11b70f,'quizMode':_0x9f2566?'pre-test':_0x3699da(0x440),'pairedQuizId':null,'lessonPlan':null};let _0x18886d;while(!![]){_0x18886d=Math[_0x3699da(0x7fb)](0x3e8+Math['random']()*0x2328)[_0x3699da(0x883)]();const _0x1f4c24=await getDoc(doc(db,_0x3699da(0x493)+appId+_0x3699da(0x2f9),_0x18886d));if(!_0x1f4c24[_0x3699da(0x125)]())break;}await setDoc(doc(db,_0x3699da(0x493)+appId+'/public/data/quizzes',_0x18886d),_0x3992ff),currentQuizData[_0x3699da(0x65f)]=_0x11b70f,currentQuizData['id']=_0x18886d;const _0x1ee536=document['getElementById']('generated-quiz-actions');_0x1ee536[_0x3699da(0x299)]=_0x3699da(0x342)+_0x18886d+_0x3699da(0x874),document[_0x3699da(0x2ae)](_0x3699da(0x476))['addEventListener'](_0x3699da(0x39a),()=>copyTextToClipboard(_0x18886d,_0x3699da(0x8d2))),document[_0x3699da(0x2ae)](_0x3699da(0x59f))[_0x3699da(0x28c)](_0x3699da(0x39a),()=>handleStartLiveRace(_0x18886d)),document[_0x3699da(0x2ae)](_0x3699da(0x3b0))[_0x3699da(0x28c)]('click',()=>startPresentation(currentQuizData)),document['getElementById']('admin-try-quiz-btn')[_0x3699da(0x28c)](_0x3699da(0x39a),startAdminTest),showMessage(_0x3699da(0x466));}catch(_0x34bf31){console[_0x3699da(0x6e4)](_0x3699da(0x6ba),_0x34bf31),showMessage(_0x3699da(0x2fd)),_0x10fdfa[_0x3699da(0x4b3)]=![],_0x10fdfa['innerHTML']='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x2fee11=_0x132f6e,_0x4e2135=document[_0x2fee11(0x2ae)](_0x2fee11(0x7e0)),_0x599842=document[_0x2fee11(0x2ae)](_0x2fee11(0x6b2)),_0x37e367=_0x4e2135['querySelector']('h3'),_0x38ce33=document[_0x2fee11(0x2ae)](_0x2fee11(0x620));_0x37e367[_0x2fee11(0x60a)]=_0x2fee11(0x84b),_0x38ce33['textContent']=_0x2fee11(0x6b5);allProjects[_0x2fee11(0x409)]===0x0?(_0x599842[_0x2fee11(0x299)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x38ce33['disabled']=!![]):(_0x599842[_0x2fee11(0x299)]=allProjects[_0x2fee11(0x58e)](_0x51e515=>'<option\x20value=\x22'+_0x51e515['id']+'\x22>'+_0x51e515['projectName']+_0x2fee11(0x41d))[_0x2fee11(0x548)](''),_0x38ce33[_0x2fee11(0x4b3)]=![]);_0x4e2135[_0x2fee11(0x172)][_0x2fee11(0x6a9)](_0x2fee11(0x5cb));const _0x2e7656=()=>{const _0x3971d6=_0x2fee11,_0x1ea35d=_0x599842[_0x3971d6(0x864)];_0x1ea35d?(currentProjectId=_0x1ea35d,_0x4e2135[_0x3971d6(0x172)]['add'](_0x3971d6(0x5cb)),saveQuiz(),_0x37e367[_0x3971d6(0x60a)]=_0x3971d6(0x3d8),_0x38ce33[_0x3971d6(0x60a)]='ย้าย',_0x38ce33['removeEventListener'](_0x3971d6(0x39a),_0x2e7656),_0x38ce33[_0x3971d6(0x28c)](_0x3971d6(0x39a),confirmMoveQuiz)):showMessage(_0x3971d6(0x1cf));};_0x38ce33['removeEventListener'](_0x2fee11(0x39a),confirmMoveQuiz),_0x38ce33[_0x2fee11(0x28c)]('click',_0x2e7656);}function copyTextToClipboard(_0x7db224,_0x1ae458){const _0x307c1e=_0x132f6e,_0x518cc0=document[_0x307c1e(0x230)]('textarea');_0x518cc0['value']=_0x7db224,_0x518cc0[_0x307c1e(0x51a)][_0x307c1e(0x40c)]=_0x307c1e(0x4aa),_0x518cc0[_0x307c1e(0x51a)][_0x307c1e(0x5d5)]='0',document['body'][_0x307c1e(0x168)](_0x518cc0),_0x518cc0[_0x307c1e(0x4ad)](),_0x518cc0[_0x307c1e(0x5d9)]();try{const _0x6118bd=document[_0x307c1e(0x76f)]('copy');showMessage(_0x6118bd?_0x1ae458:_0x307c1e(0x787));}catch(_0x1224d7){showMessage(_0x307c1e(0x787)),console['error'](_0x307c1e(0x377),_0x1224d7);}document[_0x307c1e(0x428)][_0x307c1e(0x3b9)](_0x518cc0);}function listenForProjectQuizzes(_0x4185b9){const _0x5b662e=_0x132f6e,_0x4b5c87=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x57bc28=query(_0x4b5c87,where(_0x5b662e(0x763),'==',_0x4185b9));unsubscribeQuizzesListener=onSnapshot(_0x57bc28,async _0x197500=>{const _0x1c0e6b=_0x5b662e;allQuizzes=_0x197500[_0x1c0e6b(0x7d9)]['map'](_0x6fe8aa=>({'id':_0x6fe8aa['id'],..._0x6fe8aa[_0x1c0e6b(0x416)]()})),renderQuizzes();},_0x495e8e=>{const _0x1deda0=_0x5b662e;console[_0x1deda0(0x6e4)](_0x1deda0(0x3b4),_0x495e8e),document[_0x1deda0(0x2ae)](_0x1deda0(0x35b))[_0x1deda0(0x299)]=_0x1deda0(0x603);});}async function renderQuizzes(){const _0x276940=_0x132f6e,_0x359a6e=document[_0x276940(0x2ae)](_0x276940(0x35b)),_0xa1077c=document['getElementById'](_0x276940(0x89d))['value']['toLowerCase']();let _0x2f9f6d;currentProjectId===_0x276940(0x47b)?_0x2f9f6d=starredQuizzes:_0x2f9f6d=allQuizzes;let _0x1b7667=_0x2f9f6d[_0x276940(0x2ca)](_0x35e892=>_0x35e892['topic'][_0x276940(0x67d)]()[_0x276940(0x229)](_0xa1077c));_0x1b7667[_0x276940(0x6a8)]((_0x285e10,_0x314818)=>new Date(_0x314818[_0x276940(0x758)])-new Date(_0x285e10['createdAt']));if(_0x1b7667[_0x276940(0x409)]===0x0){_0x359a6e[_0x276940(0x299)]=_0x276940(0x432);return;}const _0x71ca55={},_0x1d80dc=_0x1b7667[_0x276940(0x58e)](async _0x41dcb8=>{const _0x458e15=_0x276940,_0x352bf4=collection(db,'artifacts/'+appId+_0x458e15(0x586)+_0x41dcb8['id']+_0x458e15(0xd9)),_0x376946=await getDocs(_0x352bf4);_0x71ca55[_0x41dcb8['id']]=_0x376946[_0x458e15(0x6ff)];});await Promise[_0x276940(0x5a9)](_0x1d80dc);let _0x3c009d='';_0x1b7667[_0x276940(0x7db)](_0x582e20=>{const _0x3c4876=_0x276940,_0x4eac2c=_0x71ca55[_0x582e20['id']]||0x0,_0x486d13=_0x582e20[_0x3c4876(0x5d6)]||_0x3c4876(0x298),_0x1175d1=_0x582e20[_0x3c4876(0x65f)]?.['timerMode']||'none';let _0x5b35de='',_0x13037f='';const _0x41e505=new Date();let _0x5445a5=_0x486d13;if(_0x486d13===_0x3c4876(0x1c2)){const _0x4792fa=_0x582e20[_0x3c4876(0x709)]?new Date(_0x582e20[_0x3c4876(0x709)]):null,_0x20792b=_0x582e20[_0x3c4876(0x41e)]?new Date(_0x582e20[_0x3c4876(0x41e)]):null;if(_0x20792b&&_0x41e505>_0x20792b)_0x5445a5=_0x3c4876(0x12a);else _0x4792fa&&_0x41e505<_0x4792fa?_0x5445a5=_0x3c4876(0x6d1):_0x5445a5=_0x3c4876(0x298);}switch(_0x5445a5){case'inactive':_0x5b35de=_0x3c4876(0x15e),_0x13037f=_0x3c4876(0x53e);break;case'scheduled_pending':_0x5b35de='รอเปิด',_0x13037f=_0x3c4876(0x243);break;case _0x3c4876(0x298):_0x5b35de=_0x1175d1!==_0x3c4876(0x1c4)?_0x3c4876(0x274):_0x3c4876(0x2f1),_0x13037f='text-green-700\x20bg-green-100';break;default:_0x5b35de=_0x3c4876(0x520),_0x13037f=_0x3c4876(0x77e);break;}let _0x529ec6='';const _0x2d81f9={'day':_0x3c4876(0x7d5),'month':'2-digit','year':_0x3c4876(0x51d),'hour':_0x3c4876(0x7d5),'minute':'2-digit','hour12':![]};if(_0x486d13===_0x3c4876(0x1c2)){if(_0x582e20['startTime'])_0x529ec6+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x582e20[_0x3c4876(0x709)])[_0x3c4876(0x31c)]('th-TH',_0x2d81f9)+_0x3c4876(0x2be);if(_0x582e20['endTime'])_0x529ec6+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x582e20[_0x3c4876(0x41e)])[_0x3c4876(0x31c)](_0x3c4876(0x5af),_0x2d81f9)+_0x3c4876(0x2be);}let _0x5b918f='';if(_0x582e20['pairedQuizId']){const _0x133b2b=allQuizzes['find'](_0x35a841=>_0x35a841['id']===_0x582e20['pairedQuizId']);if(_0x133b2b){let _0x575e02,_0x2fb376;new Date(_0x582e20[_0x3c4876(0x758)])<new Date(_0x133b2b[_0x3c4876(0x758)])?(_0x575e02=_0x582e20['id'],_0x2fb376=_0x133b2b['id']):(_0x575e02=_0x133b2b['id'],_0x2fb376=_0x582e20['id']),_0x5b918f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2fb376+_0x3c4876(0x400)+_0x575e02+_0x3c4876(0x1a8);}}else _0x582e20[_0x3c4876(0x7f1)]===_0x3c4876(0x8e4)&&(_0x5b918f+=_0x3c4876(0x45b)+_0x582e20['id']+_0x3c4876(0x70f));if(_0x582e20[_0x3c4876(0x7f1)]==='pre-test'&&_0x4eac2c>0x0)_0x5b918f+=_0x3c4876(0x45b)+_0x582e20['id']+_0x3c4876(0x7d7);else!_0x582e20[_0x3c4876(0x443)]&&_0x582e20[_0x3c4876(0x7f1)]!=='pre-test'&&_0x4eac2c>0x0&&(_0x5b918f+=_0x3c4876(0x45b)+_0x582e20['id']+_0x3c4876(0x744));let _0x34bafc='';_0x582e20[_0x3c4876(0x443)]?_0x34bafc='<button\x20data-quiz-id=\x22'+_0x582e20['id']+_0x3c4876(0x7cd):_0x34bafc='<button\x20data-quiz-id=\x22'+_0x582e20['id']+_0x3c4876(0x531),_0x3c009d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x582e20['id']+_0x3c4876(0x13f)+_0x582e20[_0x3c4876(0x764)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x582e20['questions'][_0x3c4876(0x409)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x582e20[_0x3c4876(0x758)])[_0x3c4876(0x31c)](_0x3c4876(0x5af))+_0x3c4876(0x3bf)+_0x4eac2c+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x529ec6+_0x3c4876(0x350)+_0x13037f+'\x22>'+_0x5b35de+_0x3c4876(0x3aa)+_0x582e20['id']+_0x3c4876(0x579)+_0x582e20['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x582e20['isStarred']?_0x3c4876(0x890):_0x3c4876(0x2b3))+_0x3c4876(0x6db)+_0x5b918f+_0x3c4876(0x3ce)+_0x582e20['id']+_0x3c4876(0x6c2)+_0x582e20['id']+_0x3c4876(0x490)+_0x582e20['id']+_0x3c4876(0x457)+_0x582e20['id']+_0x3c4876(0x863)+_0x582e20['id']+_0x3c4876(0x4a5)+_0x582e20['id']+_0x3c4876(0x6cd)+_0x582e20['id']+_0x3c4876(0x458)+_0x582e20[_0x3c4876(0x764)]+_0x3c4876(0x8c7)+_0x582e20['id']+_0x3c4876(0x165)+_0x582e20['id']+_0x3c4876(0x65b)+_0x34bafc+_0x3c4876(0x5b3)+_0x582e20['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x582e20['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x582e20['id']+_0x3c4876(0x6b0)+_0x582e20['id']+_0x3c4876(0x126)+_0x582e20['id']+'\x22\x20data-topic=\x22'+_0x582e20[_0x3c4876(0x764)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x582e20['id']+_0x3c4876(0x827);}),_0x359a6e[_0x276940(0x299)]=_0x3c009d,document[_0x276940(0x2b5)](_0x276940(0x2af))[_0x276940(0x7db)](_0x57ecec=>{const _0x348ffe=_0x276940;_0x57ecec[_0x348ffe(0x28c)](_0x348ffe(0x39a),()=>{const _0x2b7e10=_0x348ffe,_0x479ec5=_0x57ecec[_0x2b7e10(0x41a)][_0x2b7e10(0x47c)];showQuizDetailView(_0x479ec5);});});}async function handleUnpairQuiz(_0x2328e5){const _0x4d5fa6=_0x132f6e,_0x3beab8=allQuizzes[_0x4d5fa6(0x2fe)](_0x5ed691=>_0x5ed691['id']===_0x2328e5);if(!_0x3beab8||!_0x3beab8['pairedQuizId']){showMessage(_0x4d5fa6(0x139));return;}showConfirmation(_0x4d5fa6(0x686),async()=>{const _0x365574=_0x4d5fa6;try{const _0x3bbeeb=doc(db,_0x365574(0x493)+appId+_0x365574(0x2f9),_0x2328e5),_0x301d98=doc(db,_0x365574(0x493)+appId+_0x365574(0x2f9),_0x3beab8[_0x365574(0x443)]),_0x50f0f3=writeBatch(db);_0x50f0f3[_0x365574(0x2ce)](_0x3bbeeb,{'pairedQuizId':null}),_0x50f0f3['update'](_0x301d98,{'pairedQuizId':null}),await _0x50f0f3[_0x365574(0x32d)](),showMessage(_0x365574(0x80b));}catch(_0x1c441b){console[_0x365574(0x6e4)](_0x365574(0x2dd),_0x1c441b),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x5d75ec,_0x3a977a){const _0x3200fd=_0x132f6e,_0x1042ee=window[_0x3200fd(0x24c)]('','_blank'),_0x57f879=_0x3200fd(0x7b2)+_0x3a977a[_0x3200fd(0x764)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x3a977a[_0x3200fd(0x764)]+_0x3200fd(0x4ea)+_0x5d75ec['learningGaps'][_0x3200fd(0x58e)](_0x52c567=>_0x3200fd(0x6ca)+_0x52c567+_0x3200fd(0x750))[_0x3200fd(0x548)]('')+_0x3200fd(0xc7)+_0x5d75ec['teachingContent']+_0x3200fd(0x7cc)+_0x5d75ec[_0x3200fd(0x273)]['map'](_0x389131=>_0x3200fd(0x33b)+_0x389131[_0x3200fd(0x6a5)]+_0x3200fd(0x6d5)+_0x389131[_0x3200fd(0x475)]+_0x3200fd(0x843))['join']('')+_0x3200fd(0x39b);_0x1042ee['document'][_0x3200fd(0x517)](_0x57f879),_0x1042ee[_0x3200fd(0x36c)][_0x3200fd(0x215)](),_0x1042ee[_0x3200fd(0x2e3)]=function(){setTimeout(()=>{_0x1042ee['print']();},0x3e8);};}async function handleAiFixFormula(_0x285127){const _0x4e3441=_0x132f6e,_0x3ee684=document[_0x4e3441(0x5b4)](_0x4e3441(0x8dd)+_0x285127+'\x22]');if(!_0x3ee684)return;const _0x5e09b2=_0x3ee684['dataset'][_0x4e3441(0x679)],_0x5c83f9=_0x3ee684[_0x4e3441(0x5b4)](_0x4e3441(0x4d9));let _0x44b962={'question':_0x3ee684[_0x4e3441(0x5b4)]('textarea')['value']};switch(_0x5e09b2){case _0x4e3441(0x7ec):_0x44b962[_0x4e3441(0x234)]=Array[_0x4e3441(0x54c)](_0x3ee684[_0x4e3441(0x2b5)]('input[type=\x22text\x22]'))[_0x4e3441(0x58e)](_0x1c5d34=>_0x1c5d34[_0x4e3441(0x864)]);break;case _0x4e3441(0x420):_0x44b962['idealAnswer']=_0x3ee684[_0x4e3441(0x5b4)]('.ideal-answer-input')[_0x4e3441(0x864)];break;case _0x4e3441(0x58b):_0x44b962[_0x4e3441(0x150)]=_0x3ee684['querySelector'](_0x4e3441(0xac))[_0x4e3441(0x864)];break;}_0x5c83f9['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x5c83f9[_0x4e3441(0x4b3)]=!![];try{const _0x3592f1=_0x4e3441(0x134)+JSON['stringify'](_0x44b962)+_0x4e3441(0x73f),_0x5ad25b={'type':_0x4e3441(0x6b3),'properties':{'fixedData':{'type':_0x4e3441(0x6b3),'properties':{'question':{'type':_0x4e3441(0x345)},'options':{'type':_0x4e3441(0x7cf),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x4e3441(0x345)},'correctResponse':{'type':_0x4e3441(0x345)}},'required':['question']}},'required':['fixedData']},_0x4e0dc5=await callAnalysisApi(_0x3592f1,_0x5ad25b);if(_0x4e0dc5&&_0x4e0dc5[_0x4e3441(0x494)]){const _0x4156a3=_0x4e0dc5['fixedData'];_0x3ee684[_0x4e3441(0x5b4)](_0x4e3441(0x429))[_0x4e3441(0x864)]=_0x4156a3[_0x4e3441(0x6a5)]||_0x44b962['question'];switch(_0x5e09b2){case _0x4e3441(0x7ec):_0x4156a3[_0x4e3441(0x234)]&&_0x4156a3['options'][_0x4e3441(0x409)]>0x0&&_0x3ee684[_0x4e3441(0x2b5)](_0x4e3441(0x401))[_0x4e3441(0x7db)]((_0x22cb4f,_0x512e68)=>{const _0x390953=_0x4e3441;_0x22cb4f['value']=_0x4156a3['options'][_0x512e68]||_0x44b962[_0x390953(0x234)][_0x512e68];});break;case _0x4e3441(0x420):_0x3ee684[_0x4e3441(0x5b4)](_0x4e3441(0x473))['value']=_0x4156a3['idealAnswer']||_0x44b962['idealAnswer'];break;case _0x4e3441(0x58b):_0x3ee684[_0x4e3441(0x5b4)]('.correct-response-input')[_0x4e3441(0x864)]=_0x4156a3[_0x4e3441(0x150)]||_0x44b962[_0x4e3441(0x150)];break;}if(_0x44b962[_0x4e3441(0x6a5)]!==_0x4156a3[_0x4e3441(0x6a5)])try{const _0x3f74fa=collection(db,_0x4e3441(0x493)+appId+_0x4e3441(0x3b6));await addDoc(_0x3f74fa,{'broken':_0x44b962[_0x4e3441(0x6a5)],'fixed':_0x4156a3[_0x4e3441(0x6a5)],'createdAt':serverTimestamp()});}catch(_0x5bff14){console[_0x4e3441(0x6e4)](_0x4e3441(0x2a6),_0x5bff14);}showMessage(_0x4e3441(0x663));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x84c586){console[_0x4e3441(0x6e4)]('AI\x20Formula\x20Fix\x20Error:',_0x84c586),showMessage(_0x4e3441(0x612));}finally{_0x5c83f9[_0x4e3441(0x299)]='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x5c83f9['disabled']=![];}}async function handleGenerateLessonPlan(_0x4990ab){const _0x311cca=_0x132f6e;showMessage(_0x311cca(0x622));try{const _0x10a7a8=doc(db,_0x311cca(0x493)+appId+_0x311cca(0x2f9),_0x4990ab),_0x2b6b97=await getDoc(_0x10a7a8);if(!_0x2b6b97['exists']())throw new Error(_0x311cca(0x759));const _0x173b91={'id':_0x4990ab,..._0x2b6b97[_0x311cca(0x416)]()},_0x2bc6cc=collection(db,_0x311cca(0x493)+appId+'/public/data/quizzes',_0x4990ab,'submissions'),_0xedb4cc=await getDocs(_0x2bc6cc),_0xb0bf0a=_0xedb4cc[_0x311cca(0x7d9)]['map'](_0x591c4c=>_0x591c4c['data']());if(_0xb0bf0a[_0x311cca(0x409)]===0x0)throw new Error(_0x311cca(0x562));const _0x1d1b0a=calculateItemAnalysis(_0x173b91,_0xb0bf0a)[_0x311cca(0x355)],_0x18388a=calculateDistractorAnalysis(_0x173b91,_0xb0bf0a),_0x2258dc=_0x10253d=>{const _0x19b07d=_0x311cca;if(!_0x10253d)return'';return _0x10253d[_0x19b07d(0x46b)](/\\/g,'\x5c\x5c')[_0x19b07d(0x46b)](/"/g,'\x5c\x22')[_0x19b07d(0x46b)](/\n/g,'\x5cn');};let _0x1c0ada=_0x311cca(0x2f0);_0x173b91[_0x311cca(0x84d)][_0x311cca(0x7db)]((_0x8fc83a,_0x3f29c8)=>{const _0x4b8031=_0x311cca,_0x3afa4d=_0x1d1b0a[_0x3f29c8]?.['p'][_0x4b8031(0x835)](0x2)||_0x4b8031(0x5de),_0x3bf975=_0x1d1b0a[_0x3f29c8]?.['r'][_0x4b8031(0x835)](0x2)||_0x4b8031(0x5de),_0x484744=_0x2258dc(_0x8fc83a[_0x4b8031(0x374)]||_0x8fc83a[_0x4b8031(0x20b)]);_0x1c0ada+=_0x4b8031(0x3b1)+(_0x3f29c8+0x1)+_0x4b8031(0x151)+_0x3afa4d+_0x4b8031(0x24d)+_0x3bf975+'):\x20'+_0x484744+'\x5cn';if(_0x8fc83a[_0x4b8031(0x135)]===_0x4b8031(0x7ec)&&_0x18388a[_0x3f29c8]){const _0xe7aeea=_0x18388a[_0x3f29c8],_0x138c11=Object[_0x4b8031(0x713)](_0xe7aeea)['filter'](_0x452be8=>parseInt(_0x452be8)!==_0x8fc83a[_0x4b8031(0x6ed)])['sort']((_0x1b9f16,_0x2abbe8)=>_0xe7aeea[_0x2abbe8]['total']-_0xe7aeea[_0x1b9f16][_0x4b8031(0x854)])[0x0];if(_0x138c11&&_0xe7aeea[_0x138c11][_0x4b8031(0x854)]>0x0){const _0x3fd2ba=_0x2258dc(_0xe7aeea[_0x138c11][_0x4b8031(0x270)]);_0x1c0ada+=_0x4b8031(0x573)+_0x3fd2ba+'\x22\x5cn';}}});const _0x3b114a=_0x311cca(0x86c)+_0x173b91[_0x311cca(0x764)]+_0x311cca(0x5be)+_0x1c0ada+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x321be4={'type':_0x311cca(0x6b3),'properties':{'learningGaps':{'type':_0x311cca(0x7cf),'items':{'type':_0x311cca(0x345)}},'teachingContent':{'type':_0x311cca(0x345)},'practiceProblems':{'type':_0x311cca(0x7cf),'items':{'type':_0x311cca(0x6b3),'properties':{'question':{'type':_0x311cca(0x345)},'solution':{'type':_0x311cca(0x345)}}}}},'required':[_0x311cca(0x4cd),_0x311cca(0x33d),_0x311cca(0x273)]},_0x2f8d98=await callAnalysisApi(_0x3b114a,_0x321be4);await updateDoc(_0x10a7a8,{'lessonPlan':_0x2f8d98});const _0x496b38='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x173b91[_0x311cca(0x764)]+_0x311cca(0x115)+_0x2f8d98[_0x311cca(0x4cd)][_0x311cca(0x58e)](_0x489fb9=>_0x311cca(0x6ca)+_0x489fb9+_0x311cca(0x750))[_0x311cca(0x548)]('')+_0x311cca(0x7a5)+_0x2f8d98[_0x311cca(0x33d)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x2f8d98[_0x311cca(0x273)][_0x311cca(0x58e)](_0x112d6b=>_0x311cca(0x53b)+_0x112d6b[_0x311cca(0x6a5)]+_0x311cca(0x637)+_0x112d6b['solution']+_0x311cca(0x285))[_0x311cca(0x548)]('')+_0x311cca(0x499);document[_0x311cca(0x2ae)](_0x311cca(0x701))[_0x311cca(0x60a)]=_0x311cca(0x439)+_0x173b91[_0x311cca(0x764)],document['getElementById'](_0x311cca(0x1c0))['innerHTML']=_0x496b38,document['getElementById']('lesson-plan-modal')[_0x311cca(0x172)][_0x311cca(0x6a9)]('hidden');if(window[_0x311cca(0x530)])MathJax[_0x311cca(0x8dc)]();messageModal[_0x311cca(0x172)][_0x311cca(0x96)]('hidden');}catch(_0x580da1){console['error'](_0x311cca(0x831),_0x580da1),showMessage(_0x311cca(0x1b6)+_0x580da1[_0x311cca(0x17c)]);}}async function handleDuplicateQuiz(_0x424783){const _0x479cf6=_0x132f6e;try{const _0x84cab2=doc(db,_0x479cf6(0x493)+appId+'/public/data/quizzes',_0x424783),_0xc04a27=await getDoc(_0x84cab2);if(_0xc04a27['exists']()){const _0x1092c7=_0xc04a27[_0x479cf6(0x416)]();let _0x1e44b5='',_0x6f2f0e=_0x479cf6(0x440),_0x20008a=null;if(_0x1092c7[_0x479cf6(0x7f1)]===_0x479cf6(0x8e4)){let _0x37593b=_0x1092c7[_0x479cf6(0x764)][_0x479cf6(0x46b)](_0x479cf6(0x815),'')['trim']();_0x1e44b5='(หลังเรียน)\x20'+_0x37593b,_0x6f2f0e=_0x479cf6(0x3df),_0x20008a=_0x424783;}else _0x1e44b5=_0x479cf6(0x724)+_0x1092c7[_0x479cf6(0x764)];const _0xd49f29={..._0x1092c7,'topic':_0x1e44b5,'createdAt':new Date()[_0x479cf6(0x503)](),'quizMode':_0x6f2f0e,'pairedQuizId':_0x20008a};let _0x4b703e;while(!![]){_0x4b703e=Math['floor'](0x3e8+Math[_0x479cf6(0xd1)]()*0x2328)[_0x479cf6(0x883)]();const _0x2c4414=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4b703e));if(!_0x2c4414[_0x479cf6(0x125)]())break;}const _0x5ef286=doc(db,_0x479cf6(0x493)+appId+_0x479cf6(0x2f9),_0x4b703e);await setDoc(_0x5ef286,_0xd49f29),_0xd49f29[_0x479cf6(0x7f1)]===_0x479cf6(0x3df)&&await updateDoc(_0x84cab2,{'pairedQuizId':_0x4b703e}),showMessage(_0x479cf6(0x521));}else throw new Error(_0x479cf6(0xf7));}catch(_0x5bd61c){console['error'](_0x479cf6(0x4d4),_0x5bd61c),showMessage(_0x479cf6(0x2f2));}}async function handleDeleteQuiz(_0x1aab51,_0x2d45fb=!![]){const _0x5698c9=_0x132f6e;try{const _0x1d24a8=writeBatch(db),_0xfe828f=collection(db,_0x5698c9(0x493)+appId+_0x5698c9(0x586)+_0x1aab51+'/submissions'),_0xde0456=await getDocs(_0xfe828f);_0xde0456['forEach'](_0x3ad573=>{_0x1d24a8['delete'](doc(_0xfe828f,_0x3ad573['id']));});const _0x1e87ae=doc(db,_0x5698c9(0x493)+appId+_0x5698c9(0x2f9),_0x1aab51);_0x1d24a8[_0x5698c9(0x5e6)](_0x1e87ae),await _0x1d24a8[_0x5698c9(0x32d)](),_0x2d45fb&&showMessage(_0x5698c9(0x68c));}catch(_0x55b31c){console[_0x5698c9(0x6e4)](_0x5698c9(0x22e),_0x55b31c),_0x2d45fb&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x538bf0){const _0x563d94=_0x132f6e;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x563d94(0x263));try{const _0x58b20e=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x538bf0),_0x28f241=await getDoc(_0x58b20e);if(!_0x28f241[_0x563d94(0x125)]()){showMessage(_0x563d94(0x759));return;}const _0x1592d3={'id':_0x28f241['id'],..._0x28f241['data']()};currentQuizData=_0x1592d3;const _0x5099d1=doc(db,_0x563d94(0x493)+appId+_0x563d94(0x855),_0x1592d3[_0x563d94(0x763)]),_0x449a1d=await getDoc(_0x5099d1);_0x449a1d[_0x563d94(0x125)]()?(currentProjectData=_0x449a1d[_0x563d94(0x416)](),currentProjectId=_0x1592d3['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x1592d3[_0x563d94(0x763)]);document[_0x563d94(0x2ae)](_0x563d94(0x354))[_0x563d94(0x60a)]=_0x1592d3[_0x563d94(0x764)],document['getElementById'](_0x563d94(0x659))['textContent']=_0x538bf0;const _0x108816=collection(db,'artifacts/'+appId+_0x563d94(0x2f9),_0x538bf0,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x108816,_0x256d55=>{const _0x23cd56=_0x563d94,_0x24bb97=_0x256d55[_0x23cd56(0x7d9)][_0x23cd56(0x58e)](_0xc56d=>({'id':_0xc56d['id'],..._0xc56d['data']()}));currentSubmissions=_0x24bb97;const _0x17fc8a=_0x24bb97[_0x23cd56(0x2ca)](_0x316a92=>_0x316a92[_0x23cd56(0x68f)]&&_0x316a92[_0x23cd56(0x68f)][_0x23cd56(0x409)]>0x0);renderBehaviorLog(_0x24bb97),renderAnswerGrid(currentProjectData[_0x23cd56(0x6b4)],_0x17fc8a,_0x1592d3),renderAnalytics(_0x1592d3,_0x17fc8a),renderQuizResultsTable(currentProjectData[_0x23cd56(0x6b4)],_0x24bb97,_0x1592d3),renderQuizLeaderboard(_0x17fc8a,_0x1592d3,_0x23cd56(0x856));}),showView(_0x563d94(0x1a6));}catch(_0x52a737){console[_0x563d94(0x6e4)](_0x563d94(0x81f),_0x52a737),showMessage(_0x563d94(0x53f));}}function renderAnswerGrid(_0x50c2b2,_0x55d35a,_0x415068){const _0x517d97=_0x132f6e,_0x30191b=document[_0x517d97(0x2ae)](_0x517d97(0x778));if(!_0x30191b)return;if(!_0x50c2b2||_0x50c2b2[_0x517d97(0x409)]===0x0){_0x30191b['innerHTML']=_0x517d97(0x194);return;}const _0x1040bc=_0x415068['questions'],_0xe01bb9=_0x55d35a[_0x517d97(0x44b)]((_0x16bea1,_0x4c9fc9)=>{return _0x16bea1[_0x4c9fc9['studentName']]=_0x4c9fc9,_0x16bea1;},{}),_0x221021=_0x34f7f1=>String[_0x517d97(0x31f)](0x41+_0x34f7f1),_0x68b246=_0x57d472=>{const _0x53ad8b=_0x517d97,_0x596496=_0x57d472[_0x53ad8b(0x135)]||_0x415068['quizType'];switch(_0x596496){case _0x53ad8b(0x7ec):return _0x57d472[_0x53ad8b(0x234)]&&_0x57d472[_0x53ad8b(0x234)]['length']>_0x57d472[_0x53ad8b(0x6ed)]?_0x221021(_0x57d472['correctAnswerIndex']):'-';case _0x53ad8b(0x5d3):return _0x57d472[_0x53ad8b(0x6ea)]?'ใช่':_0x53ad8b(0xd2);case'matching_item':return _0x57d472[_0x53ad8b(0x150)]||'-';case _0x53ad8b(0x420):return _0x53ad8b(0x37f);default:return'-';}},_0x3c1b0e=(_0x23c900,_0x205414)=>{const _0x41e41e=_0x517d97;if(_0x205414['answer']===null||_0x205414[_0x41e41e(0x2e4)]===undefined)return'-';const _0x2bc55e=_0x23c900[_0x41e41e(0x135)]||_0x415068[_0x41e41e(0x444)];switch(_0x2bc55e){case _0x41e41e(0x7ec):const _0xb6d49d=_0x23c900[_0x41e41e(0x234)][_0x41e41e(0x8a9)](_0x24a505=>_0x24a505===_0x205414['answerText']);return _0xb6d49d!==-0x1?_0x221021(_0xb6d49d):_0x205414['answerText']||'-';case _0x41e41e(0x5d3):return _0x205414[_0x41e41e(0x2e4)]==='true'||_0x205414[_0x41e41e(0x2e4)]===!![]?_0x41e41e(0x31e):_0x41e41e(0xd2);default:return _0x205414['answer'];}};let _0x1647bb=_0x517d97(0x291)+_0x1040bc['map']((_0x354916,_0x581cd6)=>_0x517d97(0x430)+(_0x581cd6+0x1)+'</th>')[_0x517d97(0x548)]('')+_0x517d97(0x265)+_0x1040bc['map'](_0x6f630d=>_0x517d97(0x64d)+_0x68b246(_0x6f630d)+_0x517d97(0x2a8))[_0x517d97(0x548)]('')+_0x517d97(0x792);_0x50c2b2[_0x517d97(0x7db)](_0x47c0ae=>{const _0xb87f07=_0x517d97;_0x1647bb+=_0xb87f07(0x442),_0x1647bb+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x47c0ae+_0xb87f07(0x2a8);const _0x19fe0e=_0xe01bb9[_0x47c0ae];if(_0x19fe0e){const _0x3ef0a2=_0x19fe0e[_0xb87f07(0x68f)][_0x19fe0e[_0xb87f07(0x68f)][_0xb87f07(0x409)]-0x1];_0x1040bc[_0xb87f07(0x7db)]((_0x4506a3,_0x1d8b05)=>{const _0x21fd9f=_0xb87f07,_0xfb725=_0x3ef0a2[_0x21fd9f(0x6f0)][_0x21fd9f(0x2fe)](_0x7dc7ce=>_0x7dc7ce['originalQuestionText']===(_0x4506a3[_0x21fd9f(0x20b)]||_0x4506a3[_0x21fd9f(0x374)]));if(_0xfb725){let _0x43b032=![];const _0xb42661=_0x4506a3[_0x21fd9f(0x135)]||_0x415068[_0x21fd9f(0x444)];if(_0xfb725[_0x21fd9f(0x2e4)]!==null&&_0xfb725[_0x21fd9f(0x2e4)]!==undefined)switch(_0xb42661){case _0x21fd9f(0x7ec):const _0x33acd1=_0x4506a3['options'][_0x4506a3[_0x21fd9f(0x6ed)]];_0x43b032=_0xfb725[_0x21fd9f(0x5db)]===_0x33acd1;break;case _0x21fd9f(0x5d3):const _0x660a9f=_0xfb725[_0x21fd9f(0x2e4)]===!![]||_0xfb725['answer']==='true';_0x43b032=_0x660a9f===_0x4506a3[_0x21fd9f(0x6ea)];break;case _0x21fd9f(0x58b):_0x43b032=_0xfb725[_0x21fd9f(0x2e4)]===_0x4506a3[_0x21fd9f(0x150)];break;default:_0x43b032=_0xfb725['isCorrect'];break;}const _0x3ed75a=_0x43b032?'bg-green-100':_0x21fd9f(0x97);_0x1647bb+=_0x21fd9f(0xde)+_0x3ed75a+'\x22>'+_0x3c1b0e(_0x4506a3,_0xfb725)+_0x21fd9f(0x2a8);}else _0x1647bb+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x1647bb+=_0x1040bc[_0xb87f07(0x58e)](()=>_0xb87f07(0x33e))[_0xb87f07(0x548)]('');_0x1647bb+=_0xb87f07(0x2ba);}),_0x1647bb+='</tbody></table>',_0x30191b[_0x517d97(0x299)]=_0x1647bb;}function renderQuizResultsTable(_0x1994a7,_0x17c31b,_0x2f4480){const _0x5d8cb8=_0x132f6e,_0x547fd3=_0x17c31b[_0x5d8cb8(0x44b)]((_0x11510a,_0xc339b9)=>{const _0x274c22=_0x5d8cb8;return _0x11510a[_0xc339b9[_0x274c22(0x3d9)]]=_0xc339b9,_0x11510a;},{}),_0x24f15d=document[_0x5d8cb8(0x5b4)]('#results-table\x20thead\x20tr');_0x24f15d&&!_0x24f15d['innerHTML'][_0x5d8cb8(0x229)](_0x5d8cb8(0xe9))&&(_0x24f15d['innerHTML']+=_0x5d8cb8(0xf9));const _0xec13aa=document['getElementById']('quiz-results-table-body');if(!_0x1994a7||_0x1994a7[_0x5d8cb8(0x409)]===0x0){_0xec13aa['innerHTML']='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x24f3a8=_0x2f4480['isRemedial']===!![],_0x8b1f6b=_0x2f4480['settings']?.[_0x5d8cb8(0x8cb)]??-0x1;let _0x338760='';_0x1994a7[_0x5d8cb8(0x7db)](_0x302e03=>{const _0xe9781e=_0x5d8cb8,_0x57a4c4=_0x547fd3[_0x302e03];let _0x54823b=_0xe9781e(0x221)+(_0x24f3a8?_0xe9781e(0x901):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x24f3a8?'สอบซ่อม':_0xe9781e(0x98))+_0xe9781e(0x218);if(_0x57a4c4){if(_0x57a4c4[_0xe9781e(0x68f)]&&_0x57a4c4[_0xe9781e(0x68f)][_0xe9781e(0x409)]>0x0){let _0x3586c3=_0x24f3a8?_0x57a4c4[_0xe9781e(0x62b)]===_0x57a4c4['totalQuestions']:_0x8b1f6b!==-0x1&&_0x57a4c4[_0xe9781e(0x62b)]>=_0x8b1f6b;const _0x492e68=_0x3586c3?_0xe9781e(0x371):'bg-red-100\x20text-red-800',_0x2125c9=_0x3586c3?_0xe9781e(0x6b9):_0xe9781e(0x771),_0xe31837=_0xe9781e(0x162)+_0x492e68+'\x22>'+_0x2125c9+'</span></td>',_0x57e113='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x57a4c4[_0xe9781e(0x68f)]?.['length']||0x1)+_0xe9781e(0x11e);_0x338760+=_0xe9781e(0x201)+_0x302e03+_0xe9781e(0x6fa)+_0x57a4c4[_0xe9781e(0x62b)]+'\x20/\x20'+_0x57a4c4[_0xe9781e(0xf8)]+_0xe9781e(0x491)+_0xe31837+_0xe9781e(0x88a)+_0x54823b+_0xe9781e(0x5a5)+_0x57a4c4[_0xe9781e(0x8f9)]+'\x20/\x20'+_0x57a4c4[_0xe9781e(0xf8)]+_0xe9781e(0x81a)+_0x57a4c4[_0xe9781e(0x568)]+_0xe9781e(0x551)+_0x57a4c4[_0xe9781e(0xf8)]+_0xe9781e(0x84a)+(_0x57a4c4[_0xe9781e(0x824)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57e113+_0xe9781e(0x3b8)+new Date(_0x57a4c4[_0xe9781e(0x11f)])[_0xe9781e(0x31c)](_0xe9781e(0x5af))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x302e03+_0xe9781e(0x20c);}else{const _0x5827cf=_0xe9781e(0x16a);_0x338760+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x302e03+_0xe9781e(0x4e8)+_0x54823b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5827cf+_0xe9781e(0x3b8)+new Date(_0x57a4c4[_0xe9781e(0xdb)])[_0xe9781e(0x31c)](_0xe9781e(0x5af))+_0xe9781e(0x408)+_0x302e03+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x6cc9b4=_0xe9781e(0x4c6);_0x338760+=_0xe9781e(0x210)+_0x302e03+_0xe9781e(0x631)+_0x54823b+_0xe9781e(0x43f)+_0x6cc9b4+_0xe9781e(0xb1);}}),_0xec13aa['innerHTML']=_0x338760;}async function confirmRenameQuiz(){const _0x2708c0=_0x132f6e,_0x1ef7a1=document[_0x2708c0(0x2ae)](_0x2708c0(0x893))[_0x2708c0(0x864)][_0x2708c0(0x1a0)]();if(!_0x1ef7a1){showMessage(_0x2708c0(0x70a));return;}if(!actionTargetId)return;const _0x312985=doc(db,_0x2708c0(0x493)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x312985,{'topic':_0x1ef7a1}),showMessage(_0x2708c0(0x14d)),renameQuizModal[_0x2708c0(0x172)]['add'](_0x2708c0(0x5cb)),actionTargetId=null;}catch(_0x295422){console[_0x2708c0(0x6e4)](_0x2708c0(0x323),_0x295422),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x16de5c){const _0x525127=_0x132f6e;actionTargetId=_0x16de5c;const _0x49291d=document[_0x525127(0x2ae)](_0x525127(0x6b2));_0x49291d[_0x525127(0x299)]=_0x525127(0x8ee),moveQuizModal[_0x525127(0x172)][_0x525127(0x6a9)](_0x525127(0x5cb));try{const _0x570feb=collection(db,_0x525127(0x493)+appId+_0x525127(0x855)),_0x56a4fd=await getDocs(_0x570feb),_0x347d8e=_0x56a4fd[_0x525127(0x7d9)][_0x525127(0x58e)](_0x65574d=>({'id':_0x65574d['id'],..._0x65574d[_0x525127(0x416)]()})),_0x481389=_0x347d8e[_0x525127(0x2ca)](_0x576111=>_0x576111['id']!==currentProjectId);if(_0x481389[_0x525127(0x409)]===0x0){_0x49291d[_0x525127(0x299)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x525127(0x2ae)]('confirm-move-quiz-btn')[_0x525127(0x4b3)]=!![];return;}_0x49291d[_0x525127(0x299)]=_0x481389[_0x525127(0x58e)](_0x4692a7=>_0x525127(0x8fd)+_0x4692a7['id']+'\x22>'+_0x4692a7['projectName']+_0x525127(0x41d))[_0x525127(0x548)](''),document[_0x525127(0x2ae)]('confirm-move-quiz-btn')[_0x525127(0x4b3)]=![];}catch(_0x11eac3){console[_0x525127(0x6e4)](_0x525127(0x5cf),_0x11eac3),showMessage(_0x525127(0x3d2)),moveQuizModal[_0x525127(0x172)][_0x525127(0x96)](_0x525127(0x5cb));}}async function confirmMoveQuiz(){const _0x304325=_0x132f6e,_0x230fad=document['getElementById'](_0x304325(0x6b2))[_0x304325(0x864)];if(!_0x230fad){showMessage(_0x304325(0x233));return;}if(!actionTargetId)return;const _0x2f6098=doc(db,_0x304325(0x493)+appId+_0x304325(0x2f9),actionTargetId);try{await updateDoc(_0x2f6098,{'projectId':_0x230fad}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal['classList'][_0x304325(0x96)]('hidden'),actionTargetId=null;}catch(_0xd57f39){console[_0x304325(0x6e4)](_0x304325(0x791),_0xd57f39),showMessage(_0x304325(0x136));}}async function handleQuizSettings(_0x531a13){const _0x4a10f0=_0x132f6e;actionTargetId=_0x531a13;const _0x56a88f=doc(db,_0x4a10f0(0x493)+appId+_0x4a10f0(0x2f9),_0x531a13);try{const _0x4459cc=await getDoc(_0x56a88f);if(_0x4459cc[_0x4a10f0(0x125)]()){const _0x4fa85e=_0x4459cc['data'](),_0x3353bd=_0x4fa85e['settings']||{},_0x59a308=_0x4fa85e[_0x4a10f0(0x84d)][_0x4a10f0(0x409)];document[_0x4a10f0(0x2ae)](_0x4a10f0(0x6b7))['value']=_0x3353bd[_0x4a10f0(0x37d)]||_0x4a10f0(0x1c4),document[_0x4a10f0(0x2ae)](_0x4a10f0(0x379))[_0x4a10f0(0x864)]=_0x3353bd[_0x4a10f0(0x4df)]||_0x4a10f0(0x1bb),document['getElementById']('modal-timer-mode-select')['value']=_0x3353bd[_0x4a10f0(0x3d0)]||_0x4a10f0(0x1c4),document[_0x4a10f0(0x2ae)](_0x4a10f0(0x15d))[_0x4a10f0(0x864)]=_0x3353bd[_0x4a10f0(0x4c3)]||0xa,document[_0x4a10f0(0x2ae)](_0x4a10f0(0x7f5))[_0x4a10f0(0x864)]=_0x3353bd[_0x4a10f0(0x8cb)]||Math[_0x4a10f0(0x7fb)](_0x59a308/0x2),document['getElementById'](_0x4a10f0(0x7f5))[_0x4a10f0(0x405)]=_0x59a308,document['getElementById'](_0x4a10f0(0x878))[_0x4a10f0(0x13b)]=_0x3353bd[_0x4a10f0(0x632)]||![],document[_0x4a10f0(0x2ae)](_0x4a10f0(0x26f))[_0x4a10f0(0x13b)]=_0x3353bd[_0x4a10f0(0x87a)]||![],document[_0x4a10f0(0x2ae)](_0x4a10f0(0x1a5))[_0x4a10f0(0x43a)](new Event(_0x4a10f0(0x261))),quizSettingsModal[_0x4a10f0(0x172)][_0x4a10f0(0x6a9)](_0x4a10f0(0x5cb));}else showMessage(_0x4a10f0(0x759));}catch(_0x49b1e0){console['error']('Error\x20fetching\x20quiz\x20settings:',_0x49b1e0),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x35a994=_0x132f6e;if(!actionTargetId)return;const _0x3e74a=doc(db,'artifacts/'+appId+_0x35a994(0x2f9),actionTargetId),_0x5ad4ff={'shuffle':document[_0x35a994(0x2ae)](_0x35a994(0x6b7))[_0x35a994(0x864)],'resultsDisplay':document[_0x35a994(0x2ae)](_0x35a994(0x379))[_0x35a994(0x864)],'timerMode':document[_0x35a994(0x2ae)](_0x35a994(0x1a5))['value'],'timerDuration':parseInt(document[_0x35a994(0x2ae)](_0x35a994(0x15d))[_0x35a994(0x864)])||0xa,'passingScore':parseInt(document[_0x35a994(0x2ae)](_0x35a994(0x7f5))[_0x35a994(0x864)])||0x0,'passingScore':parseInt(document[_0x35a994(0x2ae)](_0x35a994(0x7f5))[_0x35a994(0x864)])||0x0,'isAdaptive':document[_0x35a994(0x2ae)](_0x35a994(0x878))[_0x35a994(0x13b)],'loopUntilPass':document[_0x35a994(0x2ae)]('modal-loop-until-pass-checkbox')['checked']};try{await updateDoc(_0x3e74a,{'settings':_0x5ad4ff}),showMessage(_0x35a994(0x734)),quizSettingsModal[_0x35a994(0x172)]['add'](_0x35a994(0x5cb)),actionTargetId=null;}catch(_0x3cac31){console['error'](_0x35a994(0x5a0),_0x3cac31),showMessage(_0x35a994(0x1ac));}}async function handleQuizStatus(_0x59f43a){const _0x2d2a03=_0x132f6e;actionTargetId=_0x59f43a;const _0x3b71ad=doc(db,_0x2d2a03(0x493)+appId+_0x2d2a03(0x2f9),_0x59f43a);try{const _0x48d6b3=await getDoc(_0x3b71ad);if(_0x48d6b3[_0x2d2a03(0x125)]()){const _0xd009ae=_0x48d6b3[_0x2d2a03(0x416)](),_0x13b443=_0xd009ae[_0x2d2a03(0x5d6)]||_0x2d2a03(0x298),_0x3ceb23=document[_0x2d2a03(0x2ae)](_0x2d2a03(0x79e)),_0x3c77fa=document[_0x2d2a03(0x2ae)](_0x2d2a03(0xed)),_0xa9256d=document[_0x2d2a03(0x2ae)](_0x2d2a03(0x177));let _0x129c67=_0x2d2a03(0x17f)+(_0x13b443==='active'?_0x2d2a03(0x13b):'')+_0x2d2a03(0x8f7)+(_0x13b443==='inactive'?_0x2d2a03(0x13b):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x13b443===_0x2d2a03(0x1c2)?_0x2d2a03(0x13b):'')+_0x2d2a03(0x71f);_0x3ceb23[_0x2d2a03(0x299)]=_0x129c67;const _0x2719c3=_0x13b443===_0x2d2a03(0x1c2);_0x3c77fa[_0x2d2a03(0x172)][_0x2d2a03(0x223)](_0x2d2a03(0x5cb),!_0x2719c3),_0xa9256d[_0x2d2a03(0x172)][_0x2d2a03(0x223)](_0x2d2a03(0x5cb),!_0x2719c3),document[_0x2d2a03(0x2ae)](_0x2d2a03(0x248))[_0x2d2a03(0x864)]=_0xd009ae[_0x2d2a03(0x709)]?_0xd009ae[_0x2d2a03(0x709)][_0x2d2a03(0xd4)](0x0,0x10):'',document['getElementById']('quiz-end-time')[_0x2d2a03(0x864)]=_0xd009ae['endTime']?_0xd009ae[_0x2d2a03(0x41e)][_0x2d2a03(0xd4)](0x0,0x10):'',_0x3ceb23[_0x2d2a03(0x2b5)]('input[name=\x22status-option\x22]')[_0x2d2a03(0x7db)](_0x192a33=>{const _0x4621c3=_0x2d2a03;_0x192a33[_0x4621c3(0x28c)]('change',_0x374dd1=>{const _0x55d8c3=_0x4621c3,_0x4a1ce1=_0x374dd1[_0x55d8c3(0x783)][_0x55d8c3(0x864)]===_0x55d8c3(0x3c2);_0x3c77fa['classList'][_0x55d8c3(0x223)](_0x55d8c3(0x5cb),!_0x4a1ce1),_0xa9256d[_0x55d8c3(0x172)][_0x55d8c3(0x223)]('hidden',!_0x4a1ce1);});}),quizStatusModal['classList']['remove'](_0x2d2a03(0x5cb));}}catch(_0x276fd8){console[_0x2d2a03(0x6e4)](_0x2d2a03(0x20a),_0x276fd8),showMessage(_0x2d2a03(0x7af));}}async function confirmQuizStatus(){const _0x464d2b=_0x132f6e;if(!actionTargetId)return;const _0x1574ef=doc(db,_0x464d2b(0x493)+appId+_0x464d2b(0x2f9),actionTargetId),_0xdba06=document['querySelector'](_0x464d2b(0x5e2));if(!_0xdba06){showMessage(_0x464d2b(0x66a));return;}const _0x153111=_0xdba06[_0x464d2b(0x864)];let _0xf78f53={};if(_0x153111==='active'||_0x153111===_0x464d2b(0x12a))_0xf78f53={'status':_0x153111,'startTime':null,'endTime':null};else{if(_0x153111==='schedule'){const _0x238f1c=document[_0x464d2b(0x2ae)](_0x464d2b(0x248))['value'],_0x511de6=document['getElementById']('quiz-end-time')[_0x464d2b(0x864)];if(!_0x238f1c&&!_0x511de6){showMessage(_0x464d2b(0x8e9));return;}_0xf78f53={'status':_0x464d2b(0x1c2),'startTime':_0x238f1c?new Date(_0x238f1c)[_0x464d2b(0x503)]():null,'endTime':_0x511de6?new Date(_0x511de6)[_0x464d2b(0x503)]():null};}}try{await updateDoc(_0x1574ef,_0xf78f53),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal['classList'][_0x464d2b(0x96)]('hidden'),actionTargetId=null;}catch(_0x5d72ce){console[_0x464d2b(0x6e4)](_0x464d2b(0x545),_0x5d72ce),showMessage(_0x464d2b(0x2a0));}}function listenForStudentProfiles(_0x1a1ab8){const _0x455fc7=_0x132f6e,_0x3cea77=collection(db,_0x455fc7(0x493)+appId+_0x455fc7(0x2f6)+_0x1a1ab8+_0x455fc7(0x761));unsubscribeStudentProfilesListener=onSnapshot(_0x3cea77,_0x37d1a6=>{const _0x186fd2=_0x455fc7,_0x2f04bc=_0x37d1a6[_0x186fd2(0x7d9)][_0x186fd2(0x58e)](_0x2be3fe=>_0x2be3fe['data']());renderLeaderboard(_0x2f04bc,'leaderboard-table-body');},_0x4f044a=>{const _0x1a8efb=_0x455fc7;console['error'](_0x1a8efb(0x78e),_0x4f044a),document['getElementById']('leaderboard-table-body')[_0x1a8efb(0x299)]=_0x1a8efb(0x331);});}function renderLeaderboard(_0x4ace96,_0x435e43){const _0x390ac6=_0x132f6e,_0x16cacc=document['getElementById'](_0x435e43);if(!_0x4ace96||_0x4ace96[_0x390ac6(0x409)]===0x0){_0x16cacc[_0x390ac6(0x299)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x4ace96['sort']((_0x591447,_0x8979f2)=>{const _0x546fab=_0x390ac6,_0x17f2bf=(_0x8979f2[_0x546fab(0x44c)]||0x0)-(_0x591447[_0x546fab(0x44c)]||0x0);if(_0x17f2bf!==0x0)return _0x17f2bf;const _0x35790e=(_0x8979f2['badgesCount']?.[_0x546fab(0x171)]||0x0)-(_0x591447[_0x546fab(0x1f0)]?.[_0x546fab(0x171)]||0x0);if(_0x35790e!==0x0)return _0x35790e;const _0x529e64=(_0x8979f2[_0x546fab(0x1f0)]?.[_0x546fab(0x156)]||0x0)-(_0x591447[_0x546fab(0x1f0)]?.[_0x546fab(0x156)]||0x0);if(_0x529e64!==0x0)return _0x529e64;const _0x3c04f0=(_0x8979f2['badgesCount']?.[_0x546fab(0x351)]||0x0)-(_0x591447['badgesCount']?.[_0x546fab(0x351)]||0x0);if(_0x3c04f0!==0x0)return _0x3c04f0;const _0x20f048=(_0x8979f2[_0x546fab(0x1f0)]?.[_0x546fab(0x729)]||0x0)-(_0x591447[_0x546fab(0x1f0)]?.[_0x546fab(0x729)]||0x0);if(_0x20f048!==0x0)return _0x20f048;return _0x591447['studentName'][_0x546fab(0x50f)](_0x8979f2[_0x546fab(0x3d9)],'th');});let _0x4f91af='';_0x4ace96['forEach']((_0x455027,_0xc0a88d)=>{const _0x370521=_0x390ac6,_0x2b7d10=_0xc0a88d+0x1,_0x271303=_0x455027[_0x370521(0x1f0)]||{};let _0x3e7449='';const _0x5cf33c=['specialist',_0x370521(0x351),'first_try_ace',_0x370521(0x729)];_0x5cf33c['forEach'](_0x4dbac8=>{const _0x512269=_0x370521;if(_0x271303[_0x4dbac8]>0x0){const _0x3e2648=Object[_0x512269(0x225)](BADGES)[_0x512269(0x2fe)](_0x22bf6d=>_0x22bf6d['id']===_0x4dbac8);_0x3e2648&&(_0x4dbac8===_0x512269(0x171)?_0x3e7449+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x3e2648[_0x512269(0x54f)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x3e2648[_0x512269(0x3c3)]+_0x512269(0x6e6):_0x3e7449+=_0x512269(0x77c)+_0x3e2648[_0x512269(0x54f)]+'\x20('+_0x271303[_0x4dbac8]+_0x512269(0x625)+_0x3e2648['icon']+_0x512269(0x16b)+_0x271303[_0x4dbac8]+_0x512269(0x1c3));}}),_0x4f91af+=_0x370521(0x2c1)+_0x2b7d10+_0x370521(0x773)+_0x455027[_0x370521(0x3d9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x455027[_0x370521(0x44c)]||0x0)+_0x370521(0x773)+(_0x3e7449||'-')+_0x370521(0x817);}),_0x16cacc[_0x390ac6(0x299)]=_0x4f91af;}function displayLoopScreen(_0x174cb9,_0x1a5dd5,_0xf5d7cb){const _0x528e17=_0x132f6e;let _0x4b3042='';_0xf5d7cb!==_0x528e17(0x629)&&(_0x4b3042=_0x528e17(0x7ae)+_0x174cb9+_0x528e17(0x551)+_0x1a5dd5+_0x528e17(0x5f0));const _0x42c099=_0x528e17(0x8d6)+_0x4b3042+_0x528e17(0x11b);studentResultArea[_0x528e17(0x299)]=_0x42c099,studentResultArea[_0x528e17(0x172)]['remove']('hidden'),studentQuizArea[_0x528e17(0x172)][_0x528e17(0x96)]('hidden'),document[_0x528e17(0x2ae)](_0x528e17(0x8e1))[_0x528e17(0x28c)](_0x528e17(0x39a),()=>{const _0x4c9a74=_0x528e17;studentResultArea[_0x4c9a74(0x172)][_0x4c9a74(0x96)](_0x4c9a74(0x5cb)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x572a75,_0x2c2907,_0x19c5fa){const _0x5752f9=_0x132f6e,_0x2dbece=document[_0x5752f9(0x2ae)](_0x19c5fa),_0x5bda9e=_0x19c5fa===_0x5752f9(0x3a8),_0x393280=_0x2c2907[_0x5752f9(0x84d)]['length'],_0x24d9d2=document[_0x5752f9(0x2ae)](_0x19c5fa)[_0x5752f9(0x611)](_0x5752f9(0x65e));if(_0x24d9d2&&!_0x5bda9e){const _0x5a1997=_0x24d9d2[_0x5752f9(0x5b4)](_0x5752f9(0x8d7));_0x5a1997[_0x5752f9(0x299)]=_0x5752f9(0x2e8);}if(!_0x572a75||_0x572a75[_0x5752f9(0x409)]===0x0){_0x2dbece[_0x5752f9(0x299)]='<tr><td\x20colspan=\x22'+(_0x5bda9e?0x6:0x8)+_0x5752f9(0x131);return;}const _0x1b7dcd=[..._0x572a75];_0x1b7dcd[_0x5752f9(0x6a8)]((_0x4a33e0,_0x1705b3)=>{const _0x50f374=_0x5752f9;let _0x30a59b,_0x54955d;switch(quizLeaderboardSortBy){case'studentName':_0x30a59b=_0x4a33e0['studentName']||'',_0x54955d=_0x1705b3['studentName']||'';return quizLeaderboardSortOrder===_0x50f374(0x582)?_0x30a59b['localeCompare'](_0x54955d,'th'):_0x54955d[_0x50f374(0x50f)](_0x30a59b,'th');case'points':_0x30a59b=_0x4a33e0[_0x50f374(0x824)]||0x0,_0x54955d=_0x1705b3[_0x50f374(0x824)]||0x0;break;case _0x50f374(0x68f):_0x30a59b=_0x4a33e0[_0x50f374(0x68f)]?.[_0x50f374(0x409)]||0x1,_0x54955d=_0x1705b3['attempts']?.['length']||0x1;break;case _0x50f374(0x11f):_0x30a59b=new Date(_0x4a33e0[_0x50f374(0x11f)]),_0x54955d=new Date(_0x1705b3[_0x50f374(0x11f)]);break;case'bestScore':default:_0x30a59b=_0x4a33e0[_0x50f374(0x62b)],_0x54955d=_0x1705b3[_0x50f374(0x62b)];break;}if(_0x30a59b<_0x54955d)return quizLeaderboardSortOrder===_0x50f374(0x582)?-0x1:0x1;if(_0x30a59b>_0x54955d)return quizLeaderboardSortOrder===_0x50f374(0x582)?0x1:-0x1;return 0x0;});const _0xa77a31=_0x2c2907[_0x5752f9(0x142)]===!![],_0x537334=_0x2c2907[_0x5752f9(0x65f)]?.[_0x5752f9(0x8cb)]??-0x1;let _0x2d5c2b='';_0x1b7dcd[_0x5752f9(0x7db)]((_0x312ad3,_0x2afd8e)=>{const _0x2b7df4=_0x5752f9,_0x5ad9b8=_0x2afd8e+0x1;let _0x25db6b='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0xa77a31||_0x537334!==-0x1){let _0x23cfd7=_0xa77a31?_0x312ad3[_0x2b7df4(0x62b)]===_0x393280:_0x312ad3[_0x2b7df4(0x62b)]>=_0x537334;const _0x2b1044=_0x23cfd7?_0x2b7df4(0x371):_0x2b7df4(0x310),_0xffa9bf=_0x23cfd7?_0x2b7df4(0x6b9):_0x2b7df4(0x771);_0x25db6b='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x2b1044+'\x22>'+_0xffa9bf+_0x2b7df4(0x218);}const _0x4ff718=_0x312ad3[_0x2b7df4(0x68f)][_0x312ad3[_0x2b7df4(0x68f)][_0x2b7df4(0x409)]-0x1],_0x356e43=(_0x4ff718['badges']||[])[_0x2b7df4(0x58e)](_0x968061=>{const _0x54b0ac=_0x2b7df4,_0x29d2c9=Object[_0x54b0ac(0x225)](BADGES)['find'](_0x1477f0=>_0x1477f0['id']===_0x968061);return _0x29d2c9?_0x54b0ac(0x489)+_0x29d2c9[_0x54b0ac(0x54f)]+_0x54b0ac(0x3bb)+_0x29d2c9[_0x54b0ac(0x3c3)]+_0x54b0ac(0x4a1):'';})[_0x2b7df4(0x548)]('');_0x2d5c2b+=_0x2b7df4(0x7cb)+_0x5ad9b8+_0x2b7df4(0x246)+_0x312ad3['studentName']+_0x2b7df4(0x798)+_0x312ad3[_0x2b7df4(0x62b)]+_0x2b7df4(0x551)+_0x393280+_0x2b7df4(0x10a)+_0x25db6b+_0x2b7df4(0x24a)+(_0x312ad3[_0x2b7df4(0x824)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5bda9e?'':_0x2b7df4(0x88e)+(_0x312ad3[_0x2b7df4(0x68f)]?.[_0x2b7df4(0x409)]||0x1)+_0x2b7df4(0x2a8))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5bda9e?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x312ad3['latestSubmittedAt'])[_0x2b7df4(0x31c)](_0x2b7df4(0x5af))+_0x2b7df4(0x2a8))+_0x2b7df4(0x48c)+(_0x356e43||'-')+_0x2b7df4(0x479);}),_0x2dbece[_0x5752f9(0x299)]=_0x2d5c2b,_0x24d9d2&&!_0x5bda9e&&_0x24d9d2[_0x5752f9(0x2b5)](_0x5752f9(0x674))[_0x5752f9(0x7db)](_0x485bc0=>{const _0xb6dc60=_0x5752f9,_0xea21f9=_0x485bc0[_0xb6dc60(0x5b4)](_0xb6dc60(0x740));if(_0xea21f9)_0xea21f9[_0xb6dc60(0x6a9)]();_0x485bc0[_0xb6dc60(0x41a)][_0xb6dc60(0x6a8)]===quizLeaderboardSortBy&&(_0x485bc0['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0xb6dc60(0x582)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x17a189){const _0x55d8d7=_0x132f6e;if(!currentQuizData||!currentQuizData['id']||!_0x17a189){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x17a189+_0x55d8d7(0x3f1),async()=>{const _0x247a8b=_0x55d8d7,_0x48eb8e=currentQuizData['id'],_0x40fb7b=doc(db,_0x247a8b(0x493)+appId+_0x247a8b(0x586)+_0x48eb8e+'/submissions',_0x17a189);try{await deleteDoc(_0x40fb7b),showMessage(_0x247a8b(0x373)+_0x17a189+_0x247a8b(0x14f));}catch(_0x492743){console[_0x247a8b(0x6e4)](_0x247a8b(0x726),_0x492743),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x552193=_0x132f6e,_0x3a76f7=document[_0x552193(0x2ae)](_0x552193(0x72f)),_0x34b42e=_0x3a76f7[_0x552193(0x864)][_0x552193(0x1a0)]();if(!_0x34b42e){showMessage(_0x552193(0x4fa));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x552193(0x299)]=_0x552193(0x6e5);try{const _0x40e731=doc(db,_0x552193(0x493)+appId+_0x552193(0x2f9),_0x34b42e),_0x2933c7=await getDoc(_0x40e731);if(!_0x2933c7[_0x552193(0x125)]()){showMessage(_0x552193(0x5f8));return;}currentQuizData={'id':_0x2933c7['id'],..._0x2933c7[_0x552193(0x416)]()};const _0x24a995=currentQuizData[_0x552193(0x5d6)]||'active',_0x354076=new Date();if(_0x24a995===_0x552193(0x12a)){showMessage(_0x552193(0x56e));return;}if(_0x24a995===_0x552193(0x1c2)){const _0x999e4d=currentQuizData['startTime']?new Date(currentQuizData[_0x552193(0x709)]):null,_0x3f4c0b=currentQuizData[_0x552193(0x41e)]?new Date(currentQuizData[_0x552193(0x41e)]):null;if(_0x999e4d&&_0x354076<_0x999e4d){showMessage(_0x552193(0x11c)+_0x999e4d[_0x552193(0x31c)](_0x552193(0x5af),{'hour12':![]}));return;}if(_0x3f4c0b&&_0x354076>_0x3f4c0b){showMessage(_0x552193(0x5ae));return;}}const _0x4d58fe=currentQuizData[_0x552193(0x763)];currentProjectId=_0x4d58fe;const _0x250e0c=doc(db,'artifacts/'+appId+_0x552193(0x855),_0x4d58fe),_0x53ace1=await getDoc(_0x250e0c);if(!_0x53ace1[_0x552193(0x125)]()){showMessage(_0x552193(0x5b8));return;}const _0x427052=_0x53ace1[_0x552193(0x416)]();currentStudentProjectData=_0x427052,displayStudentNameSelector(_0x427052[_0x552193(0x6b4)],currentQuizData[_0x552193(0x764)]);}catch(_0x3f250a){console['error']('Error\x20loading\x20quiz\x20for\x20student:',_0x3f250a),showMessage(_0x552193(0x56a));}finally{loadQuizBtn[_0x552193(0x4b3)]=![],loadQuizBtn[_0x552193(0x299)]=_0x552193(0x4cc);}}async function handleJoinLiveGame(){const _0x39801a=_0x132f6e,_0x4037f0=document[_0x39801a(0x2ae)](_0x39801a(0x99)),_0x5ee783=document[_0x39801a(0x2ae)](_0x39801a(0x749)),_0x2362c3=document[_0x39801a(0x2ae)](_0x39801a(0x695)),_0x2ba844=_0x4037f0[_0x39801a(0x864)][_0x39801a(0x1a0)](),_0x365c13=_0x5ee783[_0x39801a(0x864)][_0x39801a(0x1a0)]();if(!_0x2ba844||!_0x365c13){showMessage(_0x39801a(0x2c3));return;}_0x2362c3[_0x39801a(0x4b3)]=!![],_0x2362c3[_0x39801a(0x299)]=_0x39801a(0xc6);try{const _0x14a407=collection(db,'artifacts/'+appId+'/public/data/liveGames'),_0x4d7a17=query(_0x14a407,where(_0x39801a(0xbf),'==',_0x2ba844),where(_0x39801a(0x5d6),'in',[_0x39801a(0x1b2),_0x39801a(0x6a5)])),_0x368de0=await getDocs(_0x4d7a17);if(_0x368de0[_0x39801a(0x141)]){showMessage(_0x39801a(0x5b9));return;}const _0x1a2030=_0x368de0['docs'][0x0],_0x27c898=_0x1a2030[_0x39801a(0x416)]();currentLiveGameId=_0x1a2030['id'];const _0x3af93f=_0x27c898['quizId'],_0x498672=doc(db,_0x39801a(0x493)+appId+_0x39801a(0x2f9),_0x3af93f),_0x43218e=await getDoc(_0x498672);if(!_0x43218e[_0x39801a(0x125)]()){showMessage(_0x39801a(0x4ed));return;}currentQuizData={'id':_0x43218e['id'],..._0x43218e['data']()};if(_0x27c898[_0x39801a(0x45d)]&&_0x27c898[_0x39801a(0x45d)][_0x365c13]){const _0x5c9abf=_0x27c898[_0x39801a(0x45d)][_0x365c13];if(_0x5c9abf[_0x39801a(0x5d6)]===_0x39801a(0x12a)){_0x2362c3[_0x39801a(0x299)]=_0x39801a(0x6b6);const _0x5ae17e={};_0x5ae17e[_0x39801a(0x332)+_0x365c13+_0x39801a(0x1d6)]=_0x39801a(0x298),await updateDoc(doc(db,'artifacts/'+appId+_0x39801a(0x32e),currentLiveGameId),_0x5ae17e),showView('live-game'),currentStudentName=_0x365c13,listenForLiveGameUpdates();return;}else{showMessage(_0x39801a(0x48d));return;}}if(_0x27c898[_0x39801a(0x5d6)]!==_0x39801a(0x1b2)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x2362c3[_0x39801a(0x299)]=_0x39801a(0x334);const _0xf3e5a0={};_0xf3e5a0[_0x39801a(0x332)+_0x365c13]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x39801a(0x298)},await updateDoc(doc(db,_0x39801a(0x493)+appId+_0x39801a(0x32e),currentLiveGameId),_0xf3e5a0),currentStudentName=_0x365c13,listenForLiveGameUpdates();}catch(_0x2d592e){console[_0x39801a(0x6e4)](_0x39801a(0x688),_0x2d592e),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x2362c3[_0x39801a(0x4b3)]=![],_0x2362c3[_0x39801a(0x299)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x3d30b0,_0x49d0fa){const _0x13430e=_0x132f6e,_0x313475=document[_0x13430e(0x2ae)]('student-name-select');document[_0x13430e(0x2ae)](_0x13430e(0x388))[_0x13430e(0x60a)]='แบบทดสอบ:\x20'+_0x49d0fa,!_0x3d30b0||_0x3d30b0['length']===0x0?(_0x313475[_0x13430e(0x299)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x13430e(0x4b3)]=!![]):(_0x313475[_0x13430e(0x299)]=_0x13430e(0x884),_0x3d30b0[_0x13430e(0x7db)](_0x194576=>{const _0x4f1ca9=_0x13430e,_0x2384c5=document[_0x4f1ca9(0x230)](_0x4f1ca9(0x8f6));_0x2384c5[_0x4f1ca9(0x864)]=_0x194576,_0x2384c5[_0x4f1ca9(0x60a)]=_0x194576,_0x313475['appendChild'](_0x2384c5);}),startQuizBtn[_0x13430e(0x4b3)]=![]),studentInitialView[_0x13430e(0x172)][_0x13430e(0x96)](_0x13430e(0x5cb)),studentNameSelectionView[_0x13430e(0x172)][_0x13430e(0x6a9)](_0x13430e(0x5cb));}function shuffleArray(_0x2ef5f8){const _0x439b98=_0x132f6e;for(let _0x42c272=_0x2ef5f8[_0x439b98(0x409)]-0x1;_0x42c272>0x0;_0x42c272--){const _0x19282d=Math[_0x439b98(0x7fb)](Math[_0x439b98(0xd1)]()*(_0x42c272+0x1));[_0x2ef5f8[_0x42c272],_0x2ef5f8[_0x19282d]]=[_0x2ef5f8[_0x19282d],_0x2ef5f8[_0x42c272]];}}function getShuffledQuiz(_0x2337ed){const _0x3a7c97=_0x132f6e;let _0xcf81f5=JSON['parse'](JSON[_0x3a7c97(0x75e)](_0x2337ed));const _0x1e95cd=_0xcf81f5[_0x3a7c97(0x65f)]?.[_0x3a7c97(0x37d)]||_0x3a7c97(0x1c4);if(_0x1e95cd===_0x3a7c97(0x1c4))return _0xcf81f5;return(_0x1e95cd===_0x3a7c97(0x10f)||_0x1e95cd===_0x3a7c97(0x21c))&&shuffleArray(_0xcf81f5[_0x3a7c97(0x84d)]),(_0x1e95cd===_0x3a7c97(0x419)||_0x1e95cd==='both')&&_0xcf81f5[_0x3a7c97(0x84d)]['forEach'](_0xc73cc1=>{const _0x347173=_0x3a7c97,_0x49dad2=_0xc73cc1[_0x347173(0x135)]||_0xcf81f5[_0x347173(0x444)];if(_0xc73cc1['options']){let _0x4438d7=_0xc73cc1[_0x347173(0x234)]['map']((_0x1da5e4,_0x5dd226)=>({'text':_0x1da5e4,'isCorrect':_0x5dd226===_0xc73cc1['correctAnswerIndex']}));shuffleArray(_0x4438d7),_0xc73cc1['options']=_0x4438d7[_0x347173(0x58e)](_0x1bc6b6=>_0x1bc6b6[_0x347173(0x270)]),_0xc73cc1[_0x347173(0x6ed)]=_0x4438d7[_0x347173(0x8a9)](_0x5de1d5=>_0x5de1d5[_0x347173(0x106)]);}_0x49dad2===_0x347173(0x58b)&&_0xc73cc1[_0x347173(0x5d8)]&&shuffleArray(_0xc73cc1[_0x347173(0x5d8)]);}),_0xcf81f5;}function displayQuizForStudent(_0x2f1049){const _0x3d94d1=_0x132f6e;studentQuizArea['classList'][_0x3d94d1(0x6a9)](_0x3d94d1(0x5cb)),currentDisplayedQuiz=getShuffledQuiz(_0x2f1049);currentMode!==_0x3d94d1(0x67b)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x3d94d1(0x1a4),handleFullscreenChange),document[_0x3d94d1(0x28c)](_0x3d94d1(0x1b1),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x3d94d1(0x677),resetDimTimer),window[_0x3d94d1(0x28c)](_0x3d94d1(0x6cc),resetDimTimer),window[_0x3d94d1(0x28c)](_0x3d94d1(0x687),resetDimTimer),window[_0x3d94d1(0x28c)](_0x3d94d1(0x9c),resetDimTimer),resetDimTimer());const _0x2b81d1=currentDisplayedQuiz[_0x3d94d1(0x65f)]?.[_0x3d94d1(0x3d0)]||'none';if(_0x2b81d1==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x3d94d1(0x65f)][_0x3d94d1(0x4c3)]);else _0x2b81d1==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x531909=_0x132f6e;let _0x4e8f74=_0x531909(0x581)+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x531909(0x8bf);currentDisplayedQuiz[_0x531909(0x84d)][_0x531909(0x7db)]((_0x54ceed,_0x4a00d8)=>{const _0x17eb75=_0x531909,_0x568da4=_0x54ceed[_0x17eb75(0x135)]||currentDisplayedQuiz[_0x17eb75(0x444)];_0x4e8f74+=_0x17eb75(0x846);_0x568da4===_0x17eb75(0x58b)?_0x4e8f74+=_0x17eb75(0x3bc)+(_0x4a00d8+0x1)+'.\x20'+_0x54ceed[_0x17eb75(0x20b)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x4a00d8+_0x17eb75(0x6c9)+_0x54ceed['allResponses']['map'](_0x591f00=>_0x17eb75(0x8fd)+_0x591f00+'\x22>'+_0x591f00+_0x17eb75(0x41d))['join']('')+_0x17eb75(0x812):(_0x4e8f74+=_0x17eb75(0x2e9)+(_0x4a00d8+0x1)+'.\x20'+(_0x54ceed[_0x17eb75(0x19d)]||_0x54ceed[_0x17eb75(0x374)])+_0x17eb75(0x2be),_0x54ceed['imageCode']&&(_0x4e8f74+=_0x17eb75(0x780)+_0x54ceed['imageCode']+_0x17eb75(0x303)));_0x4e8f74+=_0x17eb75(0x598);switch(_0x568da4){case _0x17eb75(0x420):_0x4e8f74+=_0x17eb75(0x79a)+_0x4a00d8+_0x17eb75(0x152);break;case _0x17eb75(0x5d3):_0x4e8f74+=_0x17eb75(0x634)+_0x4a00d8+_0x17eb75(0x770)+_0x4a00d8+_0x17eb75(0x2ec)+_0x4a00d8+_0x17eb75(0x117),_0x4e8f74+=_0x17eb75(0x634)+_0x4a00d8+_0x17eb75(0x23a)+_0x4a00d8+_0x17eb75(0x5eb)+_0x4a00d8+_0x17eb75(0x580);break;case _0x17eb75(0x58b):break;case _0x17eb75(0x42f):case _0x17eb75(0x7ec):default:_0x4e8f74+=_0x54ceed['options']['map']((_0xddde3b,_0x204ec4)=>_0x17eb75(0x6fb)+_0x4a00d8+_0x17eb75(0xb8)+_0x204ec4+'\x22\x20name=\x22question'+_0x4a00d8+_0x17eb75(0x85e)+_0x204ec4+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x4a00d8+'_opt'+_0x204ec4+'\x22>'+_0xddde3b+_0x17eb75(0x742))[_0x17eb75(0x548)]('');break;}_0x4e8f74+=_0x17eb75(0x2bd);}),_0x4e8f74+=_0x531909(0x89f),_0x4e8f74+=_0x531909(0x8d1),studentQuizArea[_0x531909(0x299)]=_0x4e8f74;if(currentMode===_0x531909(0x67b)){const _0x3d61b6=document[_0x531909(0x2ae)](_0x531909(0x39e));if(_0x3d61b6)_0x3d61b6[_0x531909(0x28c)]('click',cancelAdminTest);}document['getElementById'](_0x531909(0x682))[_0x531909(0x28c)](_0x531909(0x7bc),handleSubmitQuiz);if(window[_0x531909(0x530)])window[_0x531909(0x530)][_0x531909(0x8dc)]([studentQuizArea]);}async function handleSubmitQuiz(_0x3d3eff){const _0x738386=_0x132f6e;if(_0x3d3eff)_0x3d3eff['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x21d82d=document['getElementById'](_0x738386(0x682));if(!_0x21d82d)return;const _0x2e2468=_0x21d82d[_0x738386(0x5b4)](_0x738386(0x53c)),_0x2e37b6=currentDisplayedQuiz[_0x738386(0x84d)]['some'](_0x3da678=>_0x3da678[_0x738386(0x135)]===_0x738386(0x420));_0x2e2468&&(_0x2e2468['disabled']=!![],_0x2e37b6?_0x2e2468[_0x738386(0x299)]=_0x738386(0x733):_0x2e2468[_0x738386(0x299)]=_0x738386(0x8c6));const _0x5083ca=new FormData(_0x21d82d),_0x2ed9e3=currentDisplayedQuiz['questions'][_0x738386(0x58e)]((_0x5b7cae,_0x129268)=>{const _0x2e7492=_0x738386,_0x454b26=_0x5b7cae['questionType']||currentDisplayedQuiz[_0x2e7492(0x444)],_0x20fe73=_0x5083ca[_0x2e7492(0xcb)](_0x2e7492(0x6a5)+_0x129268);if(_0x20fe73!==null&&_0x20fe73!==undefined){if(_0x454b26==='multiple_choice'||_0x454b26===_0x2e7492(0x42f))return parseInt(_0x20fe73);return _0x20fe73;}return null;}),_0xe7ac4=currentQuizData['id'],_0x16f1ca=doc(db,_0x738386(0x493)+appId+'/public/data/quizzes/'+_0xe7ac4+'/submissions',currentStudentName),_0x7a629=await getDoc(_0x16f1ca),_0x523589=_0x7a629[_0x738386(0x125)]()?_0x7a629[_0x738386(0x416)]():{},_0x1d09db=_0x523589[_0x738386(0x68f)]||[];await processAndSubmitAnswers(_0x2ed9e3,_0x1d09db);}async function gradeShortAnswerWithAI(_0xc00125,_0x5b22d9){const _0x35eacb=_0x132f6e;if(!_0xc00125||!_0x5b22d9)return![];try{const _0x227a77=_0x35eacb(0x4f7)+_0xc00125+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x5b22d9+_0x35eacb(0x460),_0x1422c7={'contents':[{'role':_0x35eacb(0x492),'parts':[{'text':_0x227a77}]}]},_0x57f2c1='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x3db50c=_0x35eacb(0x5fd)+_0x57f2c1,_0x2e5ef6=await fetch(_0x3db50c,{'method':_0x35eacb(0x3e8),'headers':{'Content-Type':_0x35eacb(0x5dd)},'body':JSON['stringify'](_0x1422c7)});if(!_0x2e5ef6['ok'])throw new Error(_0x35eacb(0x465));const _0x1d76bd=await _0x2e5ef6[_0x35eacb(0x814)](),_0x574b9b=_0x1d76bd[_0x35eacb(0x784)][0x0][_0x35eacb(0x138)][_0x35eacb(0xa7)][0x0]['text'][_0x35eacb(0x1a0)]()['toLowerCase']();return _0x574b9b==='true';}catch(_0x5030ce){return console['error'](_0x35eacb(0x42e),_0x5030ce),![];}}async function processAndSubmitAnswers(_0x5d7c21,_0x1d5c0d){const _0xcaa18=_0x132f6e;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0xcaa18(0x21f)](_0xcaa18(0x1a4),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange);let _0x2a6f2c=0x0,_0x12baca=0x0,_0x4eef1d=[];const _0x135af9=[],_0x544385=currentDisplayedQuiz[_0xcaa18(0x84d)][_0xcaa18(0x409)];let _0x327b03=0x0;const _0x23ae9a=currentDisplayedQuiz[_0xcaa18(0x84d)];for(let _0x2dfd79=0x0;_0x2dfd79<_0x23ae9a[_0xcaa18(0x409)];_0x2dfd79++){const _0xb596a6=_0x23ae9a[_0x2dfd79],_0x132fd3=_0x5d7c21[_0x2dfd79],_0xfe8e48=_0xb596a6['questionType']||currentDisplayedQuiz[_0xcaa18(0x444)];let _0x4f31c2=![];if(_0x132fd3!==null&&_0x132fd3!=='')switch(_0xfe8e48){case _0xcaa18(0x58b):_0x4f31c2=_0x132fd3===_0xb596a6[_0xcaa18(0x150)];break;case _0xcaa18(0x5d3):const _0x326288=_0x132fd3===!![]||_0x132fd3===_0xcaa18(0x208);_0x4f31c2=_0x326288===_0xb596a6['correctAnswer'];break;case _0xcaa18(0x42f):case _0xcaa18(0x7ec):default:_0x4f31c2=Number(_0x132fd3)===_0xb596a6[_0xcaa18(0x6ed)];break;case _0xcaa18(0x420):_0x4f31c2=await gradeShortAnswer(_0x132fd3,_0xb596a6);break;}_0x4f31c2?(_0x2a6f2c++,_0x327b03++,_0x327b03===0x3&&(_0x4eef1d[_0xcaa18(0x57d)](BADGES['ON_FIRE']['id']),_0x327b03=0x0)):_0x327b03=0x0;let _0x381acc=null;_0xb596a6['options']&&_0x132fd3!==null&&(_0x381acc=_0xb596a6[_0xcaa18(0x234)][_0x132fd3]),_0x135af9[_0xcaa18(0x57d)]({'questionId':_0xb596a6['id'],'answer':_0x132fd3,'answerText':_0x381acc,'isCorrect':_0x4f31c2,'originalQuestionText':_0xb596a6[_0xcaa18(0x20b)]||_0xb596a6['questionText']});}_0x12baca=_0x2a6f2c*0xa;_0x2a6f2c===_0x544385&&_0x544385>0x0&&!currentDisplayedQuiz['isRemedial']&&(_0x12baca+=0x32,_0x4eef1d[_0xcaa18(0x57d)](BADGES['PERFECT_SCORE']['id']));const _0x13fc89=currentDisplayedQuiz['settings']?.[_0xcaa18(0x8cb)]??Math['floor'](_0x544385/0x2),_0x2cb333=currentDisplayedQuiz[_0xcaa18(0x65f)]?.['timerMode'];if(_0x2cb333==='whole_quiz'&&quizStartTime){const _0x1d12cd=(new Date()-quizStartTime)/0x3e8,_0x152445=currentDisplayedQuiz[_0xcaa18(0x65f)][_0xcaa18(0x4c3)]*0x3c;_0x2a6f2c>=_0x13fc89&&_0x1d12cd<_0x152445/0x2&&(_0x12baca+=0x14,_0x4eef1d[_0xcaa18(0x57d)](BADGES['QUICK_THINKER']['id']));}_0x1d5c0d[_0xcaa18(0x409)]===0x0&&_0x2a6f2c===_0x544385&&_0x544385>0x0&&_0x4eef1d[_0xcaa18(0x57d)](BADGES['FIRST_TRY_ACE']['id']);if(_0x1d5c0d[_0xcaa18(0x409)]>0x0){const _0x11e489=_0x1d5c0d[0x0]['score'];if(_0x11e489<_0x13fc89&&_0x2a6f2c>=_0x13fc89){const _0x293560=_0x1d5c0d[_0xcaa18(0x45e)](_0x5d257d=>(_0x5d257d[_0xcaa18(0x63f)]||[])[_0xcaa18(0x229)](BADGES[_0xcaa18(0x4a0)]['id']));!_0x293560&&_0x4eef1d[_0xcaa18(0x57d)](BADGES[_0xcaa18(0x4a0)]['id']);}}_0x1d5c0d['length']===0x4&&_0x4eef1d[_0xcaa18(0x57d)](BADGES['PERSEVERANCE']['id']);const _0x254a5f=currentDisplayedQuiz[_0xcaa18(0x65f)]['resultsDisplay'];if(currentMode==='admin-testing'){handleResultDisplay(_0x254a5f,_0x2a6f2c,_0x12baca,_0x4eef1d,_0x135af9,_0x544385);return;}const _0x3e86c6=currentQuizData['id'],_0x1b8522=doc(db,_0xcaa18(0x493)+appId+_0xcaa18(0x586)+_0x3e86c6+_0xcaa18(0xd9),currentStudentName);try{const _0x3f8ca0=[..._0x1d5c0d],_0x36ce8c={'score':_0x2a6f2c,'points':_0x12baca,'badges':_0x4eef1d,'submittedAt':new Date()[_0xcaa18(0x503)](),'answers':_0x135af9};_0x3f8ca0['push'](_0x36ce8c);const _0x2dad21=_0x3f8ca0[0x0]['score'],_0x29ca57=Math[_0xcaa18(0x405)](..._0x3f8ca0[_0xcaa18(0x58e)](_0x148a16=>_0x148a16[_0xcaa18(0x66d)])),_0xdb7d=_0x2a6f2c,_0x426978=_0x36ce8c[_0xcaa18(0x7d2)];await setDoc(_0x1b8522,{'studentName':currentStudentName,'totalQuestions':_0x544385,'attempts':_0x3f8ca0,'firstScore':_0x2dad21,'bestScore':_0x29ca57,'latestScore':_0xdb7d,'points':_0x12baca,'latestSubmittedAt':_0x426978},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0xcaa18(0x763)],currentStudentName),handleResultDisplay(_0x254a5f,_0x2a6f2c,_0x12baca,_0x4eef1d,_0x135af9,_0x544385);}catch(_0x9e906b){console[_0xcaa18(0x6e4)](_0xcaa18(0x16d),_0x9e906b),showMessage(_0xcaa18(0x8a8));}}async function updateStudentProfile(_0x13e7cd,_0x320294){const _0x3e096e=_0x132f6e,_0x587589=doc(db,_0x3e096e(0x493)+appId+_0x3e096e(0x2f6)+_0x13e7cd+_0x3e096e(0x761),_0x320294);try{const _0xcd0e2b=query(collection(db,_0x3e096e(0x493)+appId+_0x3e096e(0x2f9)),where(_0x3e096e(0x763),'==',_0x13e7cd)),_0x12eccf=await getDocs(_0xcd0e2b),_0x2772ff=new Map(_0x12eccf['docs'][_0x3e096e(0x58e)](_0x10d826=>[_0x10d826['id'],_0x10d826['data']()])),_0x32c396=Array['from'](_0x2772ff[_0x3e096e(0x713)]());await runTransaction(db,async _0x415b8e=>{const _0x2b4506=_0x3e096e;let _0x4aeb8b=0x0;const _0x272d2a={};let _0x16e74a=!![],_0x2a6095=0x0,_0x4a95c7=0x0;for(const _0x37b67f of _0x32c396){const _0xb63d2c=_0x2772ff[_0x2b4506(0xcb)](_0x37b67f),_0x38d4aa=doc(db,_0x2b4506(0x493)+appId+_0x2b4506(0x586)+_0x37b67f+'/submissions',_0x320294),_0x5ddf70=await _0x415b8e[_0x2b4506(0xcb)](_0x38d4aa);if(_0x5ddf70['exists']()){const _0x4b7c08=_0x5ddf70[_0x2b4506(0x416)](),_0x10c3f8=_0x4b7c08['attempts']||[];if(_0x10c3f8[_0x2b4506(0x409)]>0x0){const _0x2b1c5b=_0x10c3f8[_0x2b4506(0x44b)]((_0x31f2df,_0x34f014)=>{const _0x31f8f4=_0x2b4506;if(_0x34f014[_0x31f8f4(0x66d)]>_0x31f2df['score'])return _0x34f014;if(_0x34f014['score']===_0x31f2df[_0x31f8f4(0x66d)])return(_0x34f014['points']||0x0)>(_0x31f2df['points']||0x0)?_0x34f014:_0x31f2df;return _0x31f2df;},{'score':-0x1,'points':-0x1});_0x2b1c5b[_0x2b4506(0x66d)]>-0x1&&(_0x4aeb8b+=_0x2b1c5b[_0x2b4506(0x824)]||0x0,(_0x2b1c5b['badges']||[])[_0x2b4506(0x7db)](_0x1c7ac2=>{_0x272d2a[_0x1c7ac2]=(_0x272d2a[_0x1c7ac2]||0x0)+0x1;}));}}if(_0xb63d2c[_0x2b4506(0x764)]!==_0x2b4506(0x539)){_0x4a95c7++;if(_0x5ddf70['exists']()){_0x2a6095++;const _0x4b0eb0=_0x5ddf70[_0x2b4506(0x416)]();_0x4b0eb0['bestScore']!==_0x4b0eb0[_0x2b4506(0xf8)]&&(_0x16e74a=![]);}else _0x16e74a=![];}}_0x4a95c7>0x0&&_0x2a6095===_0x4a95c7&&_0x16e74a?_0x272d2a[_0x2b4506(0x171)]=0x1:_0x272d2a['specialist']=0x0,_0x415b8e[_0x2b4506(0x591)](_0x587589,{'studentName':_0x320294,'totalPoints':_0x4aeb8b,'unlockedBadges':Object[_0x2b4506(0x713)](_0x272d2a)[_0x2b4506(0x2ca)](_0x5214ea=>_0x272d2a[_0x5214ea]>0x0),'badgesCount':_0x272d2a},{'merge':!![]});});}catch(_0x9093a9){console['error'](_0x3e096e(0x832),_0x9093a9),showMessage(_0x3e096e(0x56d));}}function startAdminTest(){const _0x205d89=_0x132f6e;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x258263=JSON['parse'](JSON['stringify'](currentQuizData));currentMode='admin-testing',currentStudentName=_0x205d89(0x83a),adminView['classList'][_0x205d89(0x96)]('hidden'),studentView[_0x205d89(0x172)]['remove']('hidden'),studentInitialView['classList'][_0x205d89(0x96)](_0x205d89(0x5cb)),studentNameSelectionView[_0x205d89(0x172)][_0x205d89(0x96)](_0x205d89(0x5cb)),studentResultArea[_0x205d89(0x172)][_0x205d89(0x96)](_0x205d89(0x5cb)),studentQuizArea['classList'][_0x205d89(0x6a9)](_0x205d89(0x5cb)),quizStartTime=new Date(),displayQuizForStudent(_0x258263);}function handleResultDisplay(_0x244b29,_0x1bb925,_0x4a4c6b,_0x37fdd0,_0x1537d7,_0x53d237){const _0x70a24d=_0x132f6e;if(_0x244b29===_0x70a24d(0x8e5)){displaySubmissionConfirmation();return;}const _0x3420fe=currentDisplayedQuiz[_0x70a24d(0x65f)]?.[_0x70a24d(0x8cb)]??Math[_0x70a24d(0x7fb)](_0x53d237/0x2),_0x37aae2=currentDisplayedQuiz[_0x70a24d(0x65f)]?.[_0x70a24d(0x632)]??![],_0x381ff3=currentDisplayedQuiz[_0x70a24d(0x65f)]?.[_0x70a24d(0x87a)]===!![],_0x9dcd55=_0x1bb925<_0x3420fe,_0x5e5812=_0x244b29==='half_mark_status'||_0x244b29===_0x70a24d(0x44f);if(_0x381ff3&&_0x9dcd55&&!_0x5e5812){_0x244b29===_0x70a24d(0x1bb)?displayResultsWithAnswers(_0x1bb925,_0x4a4c6b,_0x37fdd0,_0x1537d7,_0x53d237,!![]):displayLoopScreen(_0x1bb925,_0x53d237,_0x244b29);return;}if(_0x37aae2&&_0x9dcd55){startAdaptiveFlow(_0x1537d7,_0x1bb925,_0x53d237);return;}switch(_0x244b29){case _0x70a24d(0x1bb):displayResultsWithAnswers(_0x1bb925,_0x4a4c6b,_0x37fdd0,_0x1537d7,_0x53d237);break;case _0x70a24d(0x157):displayResultsScoreOnly(_0x1bb925,_0x4a4c6b,_0x37fdd0,_0x53d237);break;case'show_pass_fail_only':displayPassFailOnly(_0x1bb925,_0x53d237);break;case _0x70a24d(0x58f):displayHalfMarkResult(_0x1bb925,_0x53d237);break;case _0x70a24d(0x44f):displayPerfectScoreResult(_0x1bb925,_0x53d237);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2f39ea){const _0x4c15e6=_0x132f6e;studentReadingArea[_0x4c15e6(0x299)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2bff1b=_0x4c15e6(0x8fc)+_0x2f39ea+_0x4c15e6(0x653)+simpleMathPrompt+_0x4c15e6(0x12f),_0x54cd94={'type':_0x4c15e6(0x6b3),'properties':{'questionText':{'type':_0x4c15e6(0x345)},'options':{'type':_0x4c15e6(0x7cf),'items':{'type':_0x4c15e6(0x345)}},'correctAnswerIndex':{'type':_0x4c15e6(0x83e)},'explanation':{'type':'STRING'}},'required':[_0x4c15e6(0x374),_0x4c15e6(0x234),_0x4c15e6(0x6ed),_0x4c15e6(0x5cc)]},_0x2c4aa6={'type':_0x4c15e6(0x6b3),'properties':{'topic':{'type':_0x4c15e6(0x345)},'questions':{'type':_0x4c15e6(0x7cf),'items':_0x54cd94}},'required':['topic',_0x4c15e6(0x84d)]};try{const _0x426a80=await callAnalysisApi(_0x2bff1b,_0x2c4aa6);_0x426a80[_0x4c15e6(0x142)]=!![],studentReadingArea[_0x4c15e6(0x172)][_0x4c15e6(0x96)](_0x4c15e6(0x5cb));const _0x4fd35f={...currentDisplayedQuiz[_0x4c15e6(0x65f)],'isAdaptive':![],'resultsDisplay':_0x4c15e6(0x1bb)};_0x426a80[_0x4c15e6(0x65f)]=_0x4fd35f,displayQuizForStudent(_0x426a80);}catch(_0x27d937){console['error']('Remedial\x20quiz\x20generation\x20failed:',_0x27d937),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x4c15e6(0x522));}}function displayPassFailOnly(_0x5a9693,_0x4974b4){const _0x1e29e6=_0x132f6e,_0x1ff217=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x453d9a=currentDisplayedQuiz[_0x1e29e6(0x142)]===!![];let _0x13c6c6='',_0x20f199=![];if(_0x453d9a||_0x1ff217!==-0x1){_0x20f199=_0x453d9a?_0x5a9693===_0x4974b4:_0x5a9693>=_0x1ff217;const _0xf53ffa=_0x20f199?_0x1e29e6(0x371):'bg-red-100\x20text-red-800',_0x6adba1=_0x20f199?_0x1e29e6(0x6b9):_0x1e29e6(0x771);_0x13c6c6=_0x1e29e6(0x618)+_0xf53ffa+'\x22>'+_0x6adba1+_0x1e29e6(0x73b);}else _0x13c6c6='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x58982a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x1e29e6(0x50b)+_0x13c6c6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x1e29e6(0x299)]=_0x58982a,studentResultArea[_0x1e29e6(0x172)][_0x1e29e6(0x6a9)](_0x1e29e6(0x5cb)),studentQuizArea['classList'][_0x1e29e6(0x96)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x20f199});}function cancelAdminTest(){const _0x4a2c13=_0x132f6e;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x4a2c13(0x21f)](_0x4a2c13(0x1a4),handleFullscreenChange),document[_0x4a2c13(0x21f)]('visibilitychange',handleVisibilityChange),currentMode=_0x4a2c13(0x40e),studentView['classList'][_0x4a2c13(0x96)](_0x4a2c13(0x5cb)),adminView[_0x4a2c13(0x172)]['remove']('hidden'),showView('project-detail');}function setupResultScreenBackButton(_0x13ae97){const _0x4e5de0=_0x132f6e,_0x13ecd6={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x13ae97};if(_0x13ecd6['isLooping']){const _0x4918a9=_0x4e5de0(0x50a);studentResultArea[_0x4e5de0(0x725)](_0x4e5de0(0x69c),_0x4918a9),document[_0x4e5de0(0x2ae)](_0x4e5de0(0x8e1))[_0x4e5de0(0x28c)](_0x4e5de0(0x39a),()=>{const _0x1b55f2=_0x4e5de0;studentResultArea['classList'][_0x1b55f2(0x96)](_0x1b55f2(0x5cb)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4da356=_0x4e5de0(0x3fd),_0x3ac8f2=currentMode===_0x4e5de0(0x67b),_0x27b1f0=_0x3ac8f2?_0x4e5de0(0x51b):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x5cd667='';_0x13ecd6[_0x4e5de0(0x6dd)]&&(_0x5cd667+=_0x4e5de0(0x278));let _0x43e2ce=_0x13ecd6['showImproveButton'];_0x43e2ce===undefined&&(_0x43e2ce=_0x13ecd6[_0x4e5de0(0x66d)]<_0x13ecd6['totalQuestions']);_0x43e2ce&&(_0x5cd667+=_0x4e5de0(0x605));_0x5cd667+=_0x4e5de0(0x112)+_0x4da356+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x27b1f0+_0x4e5de0(0x5bf);const _0x20b6ae=_0x4e5de0(0x387)+_0x5cd667+'</div>';studentResultArea['insertAdjacentHTML'](_0x4e5de0(0x69c),_0x20b6ae),studentResultArea[_0x4e5de0(0x5b4)]('#view-rankings-btn')?.['addEventListener'](_0x4e5de0(0x39a),handleShowStudentRankings);const _0x21d3f3=studentResultArea[_0x4e5de0(0x5b4)](_0x4e5de0(0x57c));_0x21d3f3&&_0x21d3f3[_0x4e5de0(0x28c)](_0x4e5de0(0x39a),()=>{const _0x46aa0e=_0x4e5de0;studentResultArea[_0x46aa0e(0x172)][_0x46aa0e(0x96)](_0x46aa0e(0x5cb)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4e5de0(0x2ae)](_0x4da356)['addEventListener'](_0x4e5de0(0x39a),()=>{const _0x4aa08c=_0x4e5de0;_0x3ac8f2?(currentMode=_0x4aa08c(0x40e),studentView['classList']['add'](_0x4aa08c(0x5cb)),adminView['classList'][_0x4aa08c(0x6a9)](_0x4aa08c(0x5cb)),showView(_0x4aa08c(0x483))):(showView(_0x4aa08c(0x522)),document[_0x4aa08c(0x2ae)](_0x4aa08c(0x72f))[_0x4aa08c(0x864)]='');});}function displayResultsWithAnswers(_0x5c44a9,_0x84e14b,_0x9f5cbc,_0x18c2bb,_0x1abd2e,_0x2aec48=![]){const _0x3f71e0=_0x132f6e,_0x2a60e2=_0x1abd2e>0x0?_0x5c44a9/_0x1abd2e*0x64:0x0,_0x46462a=currentDisplayedQuiz[_0x3f71e0(0x65f)]?.[_0x3f71e0(0x8cb)]??-0x1,_0x43df6e=currentDisplayedQuiz[_0x3f71e0(0x142)]===!![];let _0xe24fb3='';if(_0x43df6e||_0x46462a!==-0x1){let _0x3f0d22=_0x43df6e?_0x5c44a9===_0x1abd2e:_0x5c44a9>=_0x46462a;const _0x46938f=_0x3f0d22?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x3b5a2f=_0x3f0d22?_0x3f71e0(0x6b9):_0x3f71e0(0x771);_0xe24fb3=_0x3f71e0(0x441)+_0x46938f+'\x22>'+_0x3b5a2f+_0x3f71e0(0x2be);}let _0x28a2ed='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x3f71e0(0x7c5)+_0x5c44a9+_0x3f71e0(0x452)+_0x1abd2e+_0x3f71e0(0x1ca)+_0xe24fb3+_0x3f71e0(0x17e)+_0x84e14b+_0x3f71e0(0x5aa)+_0x2a60e2[_0x3f71e0(0x835)](0x0)+_0x3f71e0(0x723);currentDisplayedQuiz['questions'][_0x3f71e0(0x7db)]((_0x11dfe7,_0x25bd03)=>{const _0x12a0d4=_0x3f71e0,_0x300987=_0x18c2bb[_0x25bd03],_0x260f08=_0x300987[_0x12a0d4(0x2e4)],_0x3e8bf0=_0x300987[_0x12a0d4(0x106)],_0x5d0ec8=_0x11dfe7[_0x12a0d4(0x135)]||currentDisplayedQuiz['quizType'];_0x28a2ed+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x3e8bf0?_0x12a0d4(0x8f0):_0x12a0d4(0x361))+_0x12a0d4(0x844)+(_0x25bd03+0x1)+'.\x20'+(_0x11dfe7['stem']||_0x11dfe7['questionText'])+_0x12a0d4(0x23c);switch(_0x5d0ec8){case'matching_item':const _0x510d91=_0x260f08||'ไม่ได้ตอบ',_0x2a9495=_0x11dfe7[_0x12a0d4(0x150)];_0x28a2ed+=_0x12a0d4(0x46c)+(!_0x3e8bf0?_0x12a0d4(0x4d1):'')+'\x22>'+_0x510d91+'</span></p>';!_0x3e8bf0&&(_0x28a2ed+=_0x12a0d4(0x681)+_0x2a9495+_0x12a0d4(0x2be));break;case _0x12a0d4(0x420):_0x28a2ed+=_0x12a0d4(0x7be)+(_0x260f08||_0x12a0d4(0x20e))+'</p>',_0x28a2ed+=_0x12a0d4(0x87e)+_0x11dfe7[_0x12a0d4(0xf6)]+'</p>';break;case _0x12a0d4(0x5d3):_0x28a2ed+=_0x12a0d4(0x3ac)+(_0x11dfe7['correctAnswer']===!![]?_0x12a0d4(0x6be):'')+'\x20'+(_0x260f08===_0x12a0d4(0x208)&&!_0x3e8bf0?_0x12a0d4(0x4d1):'')+'\x22>ใช่</p>',_0x28a2ed+=_0x12a0d4(0x3ac)+(_0x11dfe7[_0x12a0d4(0x6ea)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x260f08===_0x12a0d4(0x434)&&!_0x3e8bf0?_0x12a0d4(0x4d1):'')+_0x12a0d4(0x747);break;default:_0x28a2ed+=_0x11dfe7[_0x12a0d4(0x234)][_0x12a0d4(0x58e)]((_0x3f188b,_0x585095)=>{const _0x2ff38b=_0x12a0d4;let _0x550813='',_0x3da5fa='';if(_0x585095===_0x11dfe7[_0x2ff38b(0x6ed)])_0x550813=_0x2ff38b(0x6be),_0x3da5fa=_0x2ff38b(0x449);else _0x585095===_0x260f08&&(_0x550813=_0x2ff38b(0x87d),_0x3da5fa='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0x550813+'\x22>'+_0x3da5fa+_0x3f188b+'</div>';})[_0x12a0d4(0x548)]('');break;}_0x28a2ed+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x11dfe7['explanation']||_0x12a0d4(0x615))+_0x12a0d4(0x303);if(!_0x3e8bf0){const _0x172657=_0x11dfe7['stem']||_0x11dfe7[_0x12a0d4(0x374)];_0x28a2ed+=_0x12a0d4(0x2d6)+escape(_0x172657)+_0x12a0d4(0x3a4);}_0x28a2ed+=_0x12a0d4(0x303);}),studentResultArea['innerHTML']=_0x28a2ed,renderEarnedBadges(_0x9f5cbc,_0x3f71e0(0x2c9)),studentResultArea[_0x3f71e0(0x172)]['remove'](_0x3f71e0(0x5cb)),studentQuizArea[_0x3f71e0(0x172)]['add'](_0x3f71e0(0x5cb)),setupResultScreenBackButton({'isLooping':_0x2aec48,'score':_0x5c44a9,'totalQuestions':_0x1abd2e,'showRankings':!![]});if(window[_0x3f71e0(0x530)])window['MathJax']['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x391e8d,_0xfc99b1,_0x5b9c26,_0x332cad){const _0x1a7a58=_0x132f6e,_0x48a1f5=_0x332cad>0x0?_0x391e8d/_0x332cad*0x64:0x0,_0x2d430=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x1d54f5=currentDisplayedQuiz[_0x1a7a58(0x142)]===!![];let _0x27b64d='';if(_0x1d54f5||_0x2d430!==-0x1){let _0x1c8e0a=_0x1d54f5?_0x391e8d===_0x332cad:_0x391e8d>=_0x2d430;const _0x389dc7=_0x1c8e0a?_0x1a7a58(0x371):_0x1a7a58(0x310),_0x50469e=_0x1c8e0a?_0x1a7a58(0x6b9):_0x1a7a58(0x771);_0x27b64d='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x389dc7+'\x22>'+_0x50469e+'</p>';}let _0x3096a0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x391e8d+_0x1a7a58(0x42d)+_0x332cad+_0x1a7a58(0x1ca)+_0x27b64d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0xfc99b1+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x48a1f5['toFixed'](0x0)+_0x1a7a58(0x3b5);studentResultArea[_0x1a7a58(0x299)]=_0x3096a0,renderEarnedBadges(_0x5b9c26,_0x1a7a58(0x2c9)),studentResultArea[_0x1a7a58(0x172)][_0x1a7a58(0x6a9)](_0x1a7a58(0x5cb)),studentQuizArea[_0x1a7a58(0x172)][_0x1a7a58(0x96)](_0x1a7a58(0x5cb)),setupResultScreenBackButton({'score':_0x391e8d,'totalQuestions':_0x332cad,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x1096c5=_0x132f6e;let _0x1941b3=_0x1096c5(0x370)+currentStudentName+_0x1096c5(0x2d3);studentResultArea[_0x1096c5(0x299)]=_0x1941b3,studentResultArea['classList'][_0x1096c5(0x6a9)](_0x1096c5(0x5cb)),studentQuizArea[_0x1096c5(0x172)]['add'](_0x1096c5(0x5cb)),document['getElementById'](_0x1096c5(0x805))[_0x1096c5(0x28c)]('click',()=>{const _0x28dd40=_0x1096c5;showView(_0x28dd40(0x522)),document[_0x28dd40(0x2ae)](_0x28dd40(0x72f))[_0x28dd40(0x864)]='';});}function renderEarnedBadges(_0xe71ab9,_0x65bc90){const _0x504028=_0x132f6e,_0x4300ec=document[_0x504028(0x2ae)](_0x65bc90);if(!_0x4300ec||!_0xe71ab9||_0xe71ab9[_0x504028(0x409)]===0x0)return;let _0x11ccc3='';_0xe71ab9[_0x504028(0x7db)]((_0x48ef04,_0x39e0b9)=>{const _0x171862=_0x504028,_0x1a5aa2=Object['values'](BADGES)[_0x171862(0x2fe)](_0x516b98=>_0x516b98['id']===_0x48ef04);_0x1a5aa2&&(_0x11ccc3+=_0x171862(0x7eb)+_0x39e0b9*0.2+'s;\x22\x20title=\x22'+_0x1a5aa2[_0x171862(0x451)]+_0x171862(0x448)+_0x1a5aa2[_0x171862(0x3c3)]+_0x171862(0x505)+_0x1a5aa2[_0x171862(0x54f)]+_0x171862(0x694));}),_0x4300ec['innerHTML']=_0x11ccc3;}function startPresentation(_0xeedc){const _0x2bd9a9=_0x132f6e;currentQuizData=getShuffledQuiz(_0xeedc),currentPresentationSlide=0x0,presentationModal[_0x2bd9a9(0x51a)][_0x2bd9a9(0x2dc)]=_0x2bd9a9(0x90b),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x434517=_0x132f6e;document[_0x434517(0x313)]&&document['exitFullscreen'](),presentationModal['style'][_0x434517(0x2dc)]=_0x434517(0x1c4);}function renderPresentationSlide(_0x5f26bc){const _0x4969e4=_0x132f6e,_0x3e2950=document[_0x4969e4(0x2ae)](_0x4969e4(0x12c));if(!currentQuizData||!currentQuizData[_0x4969e4(0x84d)]||!currentQuizData['questions'][_0x5f26bc]){_0x3e2950[_0x4969e4(0x299)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x2cbcd3=currentQuizData[_0x4969e4(0x84d)][_0x5f26bc],_0x45e243=_0x2cbcd3[_0x4969e4(0x135)]||currentQuizData['quizType'];_0x3e2950[_0x4969e4(0x299)]='';let _0x5a3bd3=_0x4969e4(0x76c)+(_0x2cbcd3[_0x4969e4(0x21e)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2cbcd3['imageCode']+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x5f26bc+0x1)+'.\x20'+(_0x2cbcd3[_0x4969e4(0x20b)]||_0x2cbcd3[_0x4969e4(0x374)])+_0x4969e4(0x73d);switch(_0x45e243){case _0x4969e4(0x58b):_0x5a3bd3+=_0x2cbcd3[_0x4969e4(0x5d8)][_0x4969e4(0x58e)](_0x312630=>_0x4969e4(0x46e)+_0x312630+_0x4969e4(0x16c))[_0x4969e4(0x548)]('');break;case _0x4969e4(0x5d3):_0x5a3bd3+=_0x4969e4(0x592),_0x5a3bd3+=_0x4969e4(0x683);break;case'fill_in_no_choices':case _0x4969e4(0x420):_0x5a3bd3+=_0x4969e4(0xc4);break;case _0x4969e4(0x42f):case _0x4969e4(0x7ec):default:_0x5a3bd3+=_0x2cbcd3[_0x4969e4(0x234)][_0x4969e4(0x58e)]((_0xda3779,_0x58762d)=>_0x4969e4(0x200)+_0x58762d+_0x4969e4(0x1b9)+_0xda3779+_0x4969e4(0x16c))['join']('');break;}_0x5a3bd3+=_0x4969e4(0x8b2)+(_0x2cbcd3['explanation']||_0x4969e4(0x615))+_0x4969e4(0x5bd),_0x3e2950['innerHTML']=_0x5a3bd3;if(window[_0x4969e4(0x530)])window[_0x4969e4(0x530)][_0x4969e4(0x8dc)]([_0x3e2950]);let _0x41167a=[];switch(_0x45e243){case _0x4969e4(0x58b):_0x41167a=_0x2cbcd3[_0x4969e4(0x5d8)]||[];break;case _0x4969e4(0x5d3):_0x41167a=[_0x4969e4(0x31e),'ไม่ใช่'];break;default:_0x41167a=_0x2cbcd3[_0x4969e4(0x234)]||[];break;}const _0x5c516c=document['getElementById'](_0x4969e4(0x8bb));_0x5c516c&&(_0x5c516c[_0x4969e4(0x1c1)]=()=>{openScratchpad(_0x2cbcd3,_0x41167a);});document[_0x4969e4(0x2b5)](_0x4969e4(0x5d2))[_0x4969e4(0x7db)](_0x17b78c=>{const _0x26c465=_0x4969e4;_0x17b78c[_0x26c465(0x28c)]('click',_0x27a174=>revealAnswerForPresentation(_0x5f26bc,_0x27a174[_0x26c465(0x78c)]));});const _0x31e638=document[_0x4969e4(0x2ae)]('check-presentation-answer-btn');_0x31e638&&_0x31e638[_0x4969e4(0x28c)](_0x4969e4(0x39a),()=>checkShortAnswerForPresentation(_0x5f26bc)),document[_0x4969e4(0x2ae)](_0x4969e4(0x9a))['textContent']=_0x4969e4(0x252)+(_0x5f26bc+0x1)+'\x20/\x20'+currentQuizData[_0x4969e4(0x84d)][_0x4969e4(0x409)],document['getElementById'](_0x4969e4(0x3f8))['disabled']=_0x5f26bc===0x0,document[_0x4969e4(0x2ae)](_0x4969e4(0x839))['disabled']=_0x5f26bc===currentQuizData['questions'][_0x4969e4(0x409)]-0x1;}async function checkShortAnswerForPresentation(_0x3c80ad){const _0x5e3ace=_0x132f6e,_0x478d89=currentQuizData[_0x5e3ace(0x84d)][_0x3c80ad],_0x21c311=document[_0x5e3ace(0x2ae)]('presentation-short-answer-input'),_0x29f1f6=document[_0x5e3ace(0x2ae)](_0x5e3ace(0x4b5)),_0x3b105a=document['getElementById'](_0x5e3ace(0x4cf)),_0x3deb5c=document['getElementById']('presentation-explanation');if(!_0x21c311||!_0x29f1f6||!_0x3b105a||!_0x3deb5c)return;const _0x568a89=_0x21c311[_0x5e3ace(0x864)][_0x5e3ace(0x1a0)]();if(_0x568a89==='')return;_0x29f1f6[_0x5e3ace(0x4b3)]=!![],_0x29f1f6[_0x5e3ace(0x299)]=_0x5e3ace(0x328),_0x21c311[_0x5e3ace(0x4b3)]=!![];const _0x2f79bf=await gradeShortAnswer(_0x568a89,_0x478d89);_0x2f79bf?_0x3b105a['innerHTML']='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x3b105a[_0x5e3ace(0x299)]=_0x5e3ace(0x29a)+_0x478d89[_0x5e3ace(0xf6)]+')',_0x3b105a[_0x5e3ace(0x172)]['remove'](_0x5e3ace(0x5cb)),_0x3deb5c[_0x5e3ace(0x172)][_0x5e3ace(0x6a9)](_0x5e3ace(0x5cb)),_0x29f1f6[_0x5e3ace(0x172)][_0x5e3ace(0x96)]('hidden');}function revealAnswerForPresentation(_0x5bf2d4,_0x26791e){const _0x361b10=_0x132f6e,_0x48266b=currentQuizData[_0x361b10(0x84d)][_0x5bf2d4],_0x3c8fae=_0x48266b[_0x361b10(0x135)]||currentQuizData[_0x361b10(0x444)];document[_0x361b10(0x2b5)](_0x361b10(0x5d2))['forEach'](_0x207ecf=>{const _0x438597=_0x361b10;_0x207ecf[_0x438597(0x4b3)]=!![],_0x207ecf['classList'][_0x438597(0x6a9)](_0x438597(0x60b));let _0x3353b9=![];if(_0x3c8fae===_0x438597(0x7ec)||_0x3c8fae===_0x438597(0x42f)){const _0xb0221a=parseInt(_0x207ecf[_0x438597(0x41a)][_0x438597(0x80c)]);_0x3353b9=_0xb0221a===_0x48266b['correctAnswerIndex'];}else{if(_0x3c8fae===_0x438597(0x5d3)){const _0x46cf06=_0x207ecf['dataset'][_0x438597(0x2e4)]===_0x438597(0x208);_0x3353b9=_0x46cf06===_0x48266b[_0x438597(0x6ea)];}else _0x3c8fae===_0x438597(0x58b)&&(_0x3353b9=_0x207ecf[_0x438597(0x60a)]['trim']()===_0x48266b[_0x438597(0x150)]);}_0x3353b9?_0x207ecf[_0x438597(0x172)][_0x438597(0x96)](_0x438597(0x838),_0x438597(0x431),_0x438597(0x485)):_0x207ecf['classList'][_0x438597(0x96)](_0x438597(0x3ef));}),_0x26791e[_0x361b10(0x172)]['remove'](_0x361b10(0x3ef));let _0xa3fa25=![];if(_0x3c8fae==='multiple_choice')_0xa3fa25=parseInt(_0x26791e[_0x361b10(0x41a)]['index'])===_0x48266b[_0x361b10(0x6ed)];else{if(_0x3c8fae===_0x361b10(0x5d3))_0xa3fa25=_0x26791e[_0x361b10(0x41a)][_0x361b10(0x2e4)]===_0x361b10(0x208)===_0x48266b[_0x361b10(0x6ea)];else _0x3c8fae===_0x361b10(0x58b)&&(_0xa3fa25=_0x26791e[_0x361b10(0x60a)][_0x361b10(0x1a0)]()===_0x48266b['correctResponse']);}!_0xa3fa25&&_0x26791e[_0x361b10(0x172)][_0x361b10(0x96)]('bg-red-500',_0x361b10(0x431),_0x361b10(0x2d8)),document[_0x361b10(0x2ae)](_0x361b10(0x3af))['classList'][_0x361b10(0x6a9)]('hidden');}function startWholeQuizTimer(_0x23d48e){const _0x23b393=_0x132f6e,_0x39c8e3=document[_0x23b393(0x2ae)](_0x23b393(0x6a3));if(!_0x39c8e3)return;const _0x12fb23=Date[_0x23b393(0x667)]()+_0x23d48e*0x3c*0x3e8;_0x39c8e3[_0x23b393(0x299)]=_0x23b393(0x800);const _0x2b384c=document[_0x23b393(0x2ae)](_0x23b393(0x459));quizTimerInterval=setInterval(()=>{const _0xda67be=_0x23b393,_0x120028=_0x12fb23-Date[_0xda67be(0x667)]();if(_0x120028<=0x0)clearInterval(quizTimerInterval),_0x2b384c[_0xda67be(0x60a)]=_0xda67be(0x8e0),showMessage(_0xda67be(0x567)),handleSubmitQuiz(null);else{const _0xd529d9=Math['floor'](_0x120028/0x3e8/0x3c%0x3c)[_0xda67be(0x883)]()[_0xda67be(0x816)](0x2,'0'),_0x136454=Math[_0xda67be(0x7fb)](_0x120028/0x3e8%0x3c)['toString']()[_0xda67be(0x816)](0x2,'0');_0x2b384c['textContent']=_0xd529d9+':'+_0x136454;}},0x3e8);}function renderPerQuestionView(){const _0x54c8eb=_0x132f6e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0xd86153=currentDisplayedQuiz[_0x54c8eb(0x84d)][currentQuestionIndex],_0x5f0d02=_0xd86153[_0x54c8eb(0x135)]||currentDisplayedQuiz[_0x54c8eb(0x444)];let _0x3e1002='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x54c8eb(0x352)+currentDisplayedQuiz[_0x54c8eb(0x84d)][_0x54c8eb(0x409)]+_0x54c8eb(0x382)+(currentMode===_0x54c8eb(0x67b)?_0x54c8eb(0x6d9):'')+_0x54c8eb(0x30c)+currentDisplayedQuiz[_0x54c8eb(0x764)]+_0x54c8eb(0x2b2)+(currentQuestionIndex===currentDisplayedQuiz[_0x54c8eb(0x84d)][_0x54c8eb(0x409)]-0x1?_0x54c8eb(0x7df):_0x54c8eb(0x523))+_0x54c8eb(0x3f3);studentQuizArea[_0x54c8eb(0x299)]=_0x3e1002;let _0x16bd20='',_0x506c00='';switch(_0x5f0d02){case'matching_item':_0x16bd20=currentQuestionIndex+0x1+'.\x20'+_0xd86153['stem'],_0x506c00=_0x54c8eb(0x4cb)+_0xd86153['allResponses']['map'](_0x4e695c=>'<option\x20value=\x22'+_0x4e695c+'\x22>'+_0x4e695c+'</option>')[_0x54c8eb(0x548)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x54c8eb(0x5d3):_0x16bd20=currentQuestionIndex+0x1+'.\x20'+_0xd86153[_0x54c8eb(0x374)],_0x506c00=_0x54c8eb(0x15b);break;case _0x54c8eb(0x420):case _0x54c8eb(0x7c1):_0x16bd20=currentQuestionIndex+0x1+'.\x20'+_0xd86153['questionText'],_0x506c00=_0x54c8eb(0x3e9);break;case'multiple_choice':case _0x54c8eb(0x3e3):default:_0x16bd20=currentQuestionIndex+0x1+'.\x20'+_0xd86153[_0x54c8eb(0x374)],_0x506c00=_0xd86153['options']['map']((_0xe0167,_0x3ce4f2)=>_0x54c8eb(0x525)+_0x3ce4f2+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x3ce4f2+_0x54c8eb(0xb0)+_0x3ce4f2+'\x22>'+_0xe0167+_0x54c8eb(0x807))[_0x54c8eb(0x548)]('');break;}_0xd86153[_0x54c8eb(0x21e)]&&(_0x16bd20+=_0x54c8eb(0x780)+_0xd86153[_0x54c8eb(0x21e)]+_0x54c8eb(0x303));document[_0x54c8eb(0x2ae)](_0x54c8eb(0x7b9))[_0x54c8eb(0x299)]=_0x16bd20,document[_0x54c8eb(0x2ae)](_0x54c8eb(0x1a2))[_0x54c8eb(0x299)]=_0x506c00;if(currentMode==='admin-testing'){const _0x16a4b2=document['getElementById'](_0x54c8eb(0x39e));if(_0x16a4b2)_0x16a4b2[_0x54c8eb(0x28c)]('click',cancelAdminTest);}document[_0x54c8eb(0x2ae)](_0x54c8eb(0x1c8))[_0x54c8eb(0x28c)](_0x54c8eb(0x39a),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x54c8eb(0x530)][_0x54c8eb(0x8dc)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5f1fbb=_0x132f6e,_0xbc2f83=currentDisplayedQuiz['settings'][_0x5f1fbb(0x4c3)],_0x347e2d=document['getElementById']('per-question-timer-container');if(!_0x347e2d)return;let _0x33a4df=_0xbc2f83;_0x347e2d[_0x5f1fbb(0x299)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x33a4df+_0x5f1fbb(0x13d);const _0x3c63a4=document['getElementById'](_0x5f1fbb(0x529)),_0x30175d=document[_0x5f1fbb(0x2ae)](_0x5f1fbb(0x22a));perQuestionTimerInterval=setInterval(()=>{const _0x17cbd1=_0x5f1fbb;_0x33a4df--;const _0x50490c=_0x33a4df/_0xbc2f83*0x64;_0x3c63a4['style']['width']=_0x50490c+'%',_0x30175d[_0x17cbd1(0x60a)]=_0x33a4df,_0x33a4df<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5e2082=![]){const _0x446ae3=_0x132f6e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x47acab=null;if(!_0x5e2082){const _0x2f0355=currentDisplayedQuiz[_0x446ae3(0x84d)][currentQuestionIndex],_0x5d383c=_0x2f0355[_0x446ae3(0x135)]||currentDisplayedQuiz[_0x446ae3(0x444)];if(_0x5d383c===_0x446ae3(0x420)||_0x5d383c==='fill_in_no_choices'){const _0x43b70e=document['querySelector'](_0x446ae3(0x584));_0x47acab=_0x43b70e?_0x43b70e[_0x446ae3(0x864)][_0x446ae3(0x1a0)]():'';}else{if(_0x5d383c===_0x446ae3(0x58b)){const _0x28035e=document['querySelector'](_0x446ae3(0x2ad));_0x47acab=_0x28035e?_0x28035e[_0x446ae3(0x864)]:'';}else{const _0x3ec078=document[_0x446ae3(0x5b4)](_0x446ae3(0x7de));if(_0x3ec078){const _0x12e71f=_0x3ec078[_0x446ae3(0x864)];_0x47acab=!isNaN(parseInt(_0x12e71f,0xa))&&_0x12e71f[_0x446ae3(0x1a0)]()!==''?parseInt(_0x12e71f,0xa):_0x12e71f;}}}}studentAnswersPerQuestion['push'](_0x47acab),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x446ae3(0x409)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x17b7bf=_0x132f6e,_0x2de699=currentDisplayedQuiz['questions'][_0x17b7bf(0x45e)](_0x1eaebd=>_0x1eaebd[_0x17b7bf(0x135)]==='short_answer');_0x2de699?showMessage(_0x17b7bf(0x623)):showMessage(_0x17b7bf(0x741));const _0x2f7e96=currentQuizData['id'],_0x3838f7=doc(db,_0x17b7bf(0x493)+appId+_0x17b7bf(0x586)+_0x2f7e96+_0x17b7bf(0xd9),currentStudentName),_0x3618a8=await getDoc(_0x3838f7),_0x626d2f=_0x3618a8[_0x17b7bf(0x125)]()?_0x3618a8[_0x17b7bf(0x416)]():{},_0x51c68c=_0x626d2f[_0x17b7bf(0x68f)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x51c68c);}function getResultsFilename(){const _0x3452c3=_0x132f6e,_0x1f7807=document[_0x3452c3(0x2ae)](_0x3452c3(0x354))['textContent']['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3452c3(0x5ea)+(_0x1f7807||_0x3452c3(0xea));}function exportResultsAsImage(){const _0x8e4b75=_0x132f6e,_0x567bdb=document[_0x8e4b75(0x2ae)]('results-table-container');showMessage(_0x8e4b75(0xaa)),html2canvas(_0x567bdb)[_0x8e4b75(0x1ec)](_0x34fae7=>{const _0x5c45f9=_0x8e4b75,_0x5ab249=document[_0x5c45f9(0x230)]('a');_0x5ab249[_0x5c45f9(0x2f3)]=getResultsFilename()+_0x5c45f9(0x50d),_0x5ab249[_0x5c45f9(0x67e)]=_0x34fae7[_0x5c45f9(0x541)](_0x5c45f9(0x717)),_0x5ab249['click'](),messageModal[_0x5c45f9(0x172)]['add']('hidden');});}function exportResultsAsPDF(){const _0x22065f=_0x132f6e,{jsPDF:_0x28a722}=window[_0x22065f(0x1c6)],_0x2eaaf6=new _0x28a722();_0x2eaaf6['setFont'](_0x22065f(0x4d2),'normal'),_0x2eaaf6[_0x22065f(0x335)]({'html':_0x22065f(0xae)}),_0x2eaaf6[_0x22065f(0x559)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x7273ed=_0x132f6e,_0x2313a1=_0x7273ed(0x8c0)+_0x7273ed(0x56f)+_0x7273ed(0x8af)+_0x7273ed(0x661),_0x1ff649=_0x7273ed(0x61b),_0x237efe=_0x2313a1+document[_0x7273ed(0x2ae)](_0x7273ed(0x7fd))[_0x7273ed(0x299)]+_0x1ff649,_0x14589c=_0x7273ed(0x7f6)+encodeURIComponent(_0x237efe),_0x12d808=document[_0x7273ed(0x230)]('a');document[_0x7273ed(0x428)][_0x7273ed(0x168)](_0x12d808),_0x12d808['href']=_0x14589c,_0x12d808[_0x7273ed(0x2f3)]=getResultsFilename()+_0x7273ed(0x10c),_0x12d808['click'](),document[_0x7273ed(0x428)]['removeChild'](_0x12d808);}function exportResultsAsExcel(){const _0xb2347f=_0x132f6e,_0x180b20=document['getElementById']('results-table');let _0x363505=[];for(let _0x4b33dc=0x0;_0x4b33dc<_0x180b20[_0xb2347f(0x3eb)][_0xb2347f(0x409)];_0x4b33dc++){let _0x347a91=[],_0x38cd23=_0x180b20[_0xb2347f(0x3eb)][_0x4b33dc]['querySelectorAll']('td,\x20th');for(let _0x44546f=0x0;_0x44546f<_0x38cd23['length'];_0x44546f++){_0x347a91[_0xb2347f(0x57d)]('\x22'+_0x38cd23[_0x44546f][_0xb2347f(0x2cd)][_0xb2347f(0x46b)](/"/g,'\x22\x22')+'\x22');}_0x363505[_0xb2347f(0x57d)](_0x347a91[_0xb2347f(0x548)](','));}const _0x3fcc0c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x363505[_0xb2347f(0x548)]('\x0a')],{'type':_0xb2347f(0x785)}),_0xa2b9c0=document[_0xb2347f(0x230)]('a');_0xa2b9c0[_0xb2347f(0x67e)]=URL[_0xb2347f(0xfb)](_0x3fcc0c),_0xa2b9c0[_0xb2347f(0x2f3)]=getResultsFilename()+_0xb2347f(0x61f),_0xa2b9c0['click']();}function exportTableAsImage(_0x188a89,_0x14ef31){const _0x192b01=_0x132f6e,_0x16d426=document[_0x192b01(0x2ae)](_0x188a89);if(!_0x16d426){showMessage(_0x192b01(0x34b));return;}showMessage(_0x192b01(0xaa)),html2canvas(_0x16d426)[_0x192b01(0x1ec)](_0x64c137=>{const _0x461a1a=_0x192b01,_0x29e349=document[_0x461a1a(0x230)]('a');_0x29e349[_0x461a1a(0x2f3)]=_0x14ef31+'.png',_0x29e349[_0x461a1a(0x67e)]=_0x64c137['toDataURL'](_0x461a1a(0x717)),_0x29e349[_0x461a1a(0x39a)](),messageModal[_0x461a1a(0x172)][_0x461a1a(0x96)](_0x461a1a(0x5cb));});}function exportTableAsPDF(_0x3003c5,_0x1560cb){const _0x2efcb0=_0x132f6e,{jsPDF:_0x318265}=window[_0x2efcb0(0x1c6)],_0x1cb2b8=new _0x318265();_0x1cb2b8[_0x2efcb0(0x262)](_0x2efcb0(0x4d2),'normal'),_0x1cb2b8[_0x2efcb0(0x335)]({'html':'#'+_0x3003c5}),_0x1cb2b8[_0x2efcb0(0x559)](_0x1560cb+_0x2efcb0(0x266));}function exportTableAsWord(_0x5fb62d,_0x372710){const _0x479b58=_0x132f6e,_0x431540=document[_0x479b58(0x2ae)](_0x5fb62d);if(!_0x431540){showMessage(_0x479b58(0x34b));return;}const _0x475e87='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x479b58(0x56f)+_0x479b58(0x8af)+_0x479b58(0x661),_0x1f7171='</body></html>',_0x317dad=_0x475e87+_0x431540['innerHTML']+_0x1f7171,_0x2a0b82='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x317dad),_0x335966=document['createElement']('a');document[_0x479b58(0x428)][_0x479b58(0x168)](_0x335966),_0x335966['href']=_0x2a0b82,_0x335966[_0x479b58(0x2f3)]=_0x372710+_0x479b58(0x10c),_0x335966[_0x479b58(0x39a)](),document[_0x479b58(0x428)][_0x479b58(0x3b9)](_0x335966);}function exportTableAsExcel(_0x34cef1,_0x4b0238){const _0x48510c=_0x132f6e,_0x5dc5a4=document[_0x48510c(0x2ae)](_0x34cef1);if(!_0x5dc5a4){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x3e2b4a=[];for(let _0x592ab3=0x0;_0x592ab3<_0x5dc5a4[_0x48510c(0x3eb)][_0x48510c(0x409)];_0x592ab3++){let _0x2ffc0a=[],_0x1a8738=_0x5dc5a4[_0x48510c(0x3eb)][_0x592ab3][_0x48510c(0x2b5)](_0x48510c(0x166));for(let _0x61d762=0x0;_0x61d762<_0x1a8738[_0x48510c(0x409)];_0x61d762++){_0x2ffc0a[_0x48510c(0x57d)]('\x22'+_0x1a8738[_0x61d762][_0x48510c(0x2cd)][_0x48510c(0x46b)](/"/g,'\x22\x22')+'\x22');}_0x3e2b4a['push'](_0x2ffc0a[_0x48510c(0x548)](','));}const _0x3d26ca=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3e2b4a[_0x48510c(0x548)]('\x0a')],{'type':_0x48510c(0x785)}),_0xd5f54d=document[_0x48510c(0x230)]('a');_0xd5f54d['href']=URL[_0x48510c(0xfb)](_0x3d26ca),_0xd5f54d[_0x48510c(0x2f3)]=_0x4b0238+'.csv',_0xd5f54d['click']();}function renderAnalytics(_0x466614,_0x1dd088){const _0xf1309d=_0x132f6e,_0x292c14=_0x1dd088['filter'](_0xa6253f=>_0xa6253f[_0xf1309d(0x568)]!==undefined),_0x1c2bdf=currentProjectData['students'][_0xf1309d(0x409)],_0x170107=_0x292c14['length'],_0x5d0626=_0x1c2bdf-_0x170107,_0x553e17=_0x1c2bdf>0x0?_0x170107/_0x1c2bdf*0x64:0x0,_0x40869a=_0x292c14[_0xf1309d(0x58e)](_0x43ccb3=>_0x43ccb3['latestScore']),_0x194ed9=_0x40869a[_0xf1309d(0x409)]>0x0?_0x40869a['reduce']((_0xfabc40,_0x21be87)=>_0xfabc40+_0x21be87,0x0)/_0x40869a['length']:0x0,_0xd4a5eb=_0x466614['questions'][_0xf1309d(0x409)],_0x8346e1=_0xd4a5eb>0x0?_0x194ed9/_0xd4a5eb*0x64:0x0,_0x4afd18=calculateItemAnalysis(_0x466614,_0x292c14),_0x1cf123=calculateReliabilityKR20(_0x466614,_0x292c14,_0x4afd18[_0xf1309d(0x355)]);let _0x3f4b5b='';if(_0x1cf123!==null){let _0x4cde18='';if(_0x1cf123>=0.9)_0x4cde18=_0xf1309d(0x107);else{if(_0x1cf123>=0.8)_0x4cde18=_0xf1309d(0x833);else{if(_0x1cf123>=0.7)_0x4cde18='ดี';else{if(_0x1cf123>=0.6)_0x4cde18=_0xf1309d(0x169);else _0x4cde18=_0xf1309d(0x427);}}}_0x3f4b5b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x1cf123['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x4cde18+_0xf1309d(0x1cc);}const _0x699529=document[_0xf1309d(0x2ae)]('analytics-summary-cards');_0x699529[_0xf1309d(0x299)]=_0xf1309d(0x21a)+_0x553e17[_0xf1309d(0x835)](0x0)+_0xf1309d(0x25b)+_0x170107+'/'+_0x1c2bdf+_0xf1309d(0x463)+_0x194ed9[_0xf1309d(0x835)](0x2)+_0xf1309d(0x48f)+_0x8346e1[_0xf1309d(0x835)](0x0)+_0xf1309d(0x1b5)+(_0x40869a['length']>0x0?Math[_0xf1309d(0x405)](..._0x40869a):'N/A')+_0xf1309d(0x642)+(_0x40869a['length']>0x0?Math['min'](..._0x40869a):_0xf1309d(0x5de))+_0xf1309d(0x508)+_0x3f4b5b+_0xf1309d(0x12f);const _0x1f87ff=document[_0xf1309d(0x2ae)](_0xf1309d(0x4b8));_0x1f87ff&&_0x1f87ff[_0xf1309d(0x6a9)]();const _0x295d4d=_0xf1309d(0x720);_0x699529[_0xf1309d(0x725)]('afterend',_0x295d4d);const _0x17098c=currentProjectData[_0xf1309d(0x6b4)]||[];renderSubmissionChart(_0x170107,_0x5d0626,_0x292c14,_0x17098c),renderScoreDistributionChart(_0x292c14,_0xd4a5eb),renderQuestionAnalytics(_0x466614,_0x292c14,_0x17098c),renderInterestingStats(_0x466614,_0x292c14);}async function handleExportLessonPDF(){const _0x1590c7=_0x132f6e,_0x215eaa=document[_0x1590c7(0x2ae)]('lesson-plan-content'),_0x4f3d39=document[_0x1590c7(0x2ae)](_0x1590c7(0x701))['textContent'],_0x30beea=window['open']('',_0x1590c7(0x86f)),_0x42ef7b=_0x1590c7(0x77f)+_0x4f3d39+_0x1590c7(0x170)+_0x215eaa[_0x1590c7(0x299)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x30beea['document'][_0x1590c7(0x517)](_0x42ef7b),_0x30beea['document']['close'](),_0x30beea[_0x1590c7(0x2e3)]=function(){setTimeout(()=>{const _0x30cead=_0x5070;_0x30beea[_0x30cead(0x472)]();},0x5dc);};}function renderInterestingStats(_0x5af677,_0x3dde88){const _0x471ad4=_0x132f6e,_0x239dd4=document[_0x471ad4(0x2ae)](_0x471ad4(0x1b7));if(!_0x239dd4)return;if(_0x3dde88[_0x471ad4(0x409)]===0x0){_0x239dd4[_0x471ad4(0x299)]=_0x471ad4(0x32b);return;}const _0x5186ed=_0x5af677[_0x471ad4(0x84d)][_0x471ad4(0x58e)]((_0x1b1fe4,_0xb94209)=>({'index':_0xb94209+0x1,'text':_0x1b1fe4[_0x471ad4(0x374)]||_0x1b1fe4[_0x471ad4(0x20b)],'correct':0x0}));_0x3dde88['forEach'](_0x2f2eb2=>{const _0x119d63=_0x471ad4,_0x2ca2c2=_0x2f2eb2['attempts'][_0x2f2eb2['attempts'][_0x119d63(0x409)]-0x1];_0x2ca2c2&&_0x2ca2c2[_0x119d63(0x6f0)]&&_0x2ca2c2[_0x119d63(0x6f0)][_0x119d63(0x7db)](_0xa16460=>{const _0x1bb36e=_0x119d63,_0xe86d16=_0x5186ed[_0x1bb36e(0x2fe)](_0x50d44b=>_0x50d44b['text']===_0xa16460['originalQuestionText']);_0xa16460[_0x1bb36e(0x106)]&&_0xe86d16&&_0xe86d16['correct']++;});});const _0x17796e=_0x3dde88[_0x471ad4(0x409)],_0x23c5c2=Math[_0x471ad4(0x405)](..._0x5186ed[_0x471ad4(0x58e)](_0xc0b9c=>_0xc0b9c[_0x471ad4(0x867)])),_0x33bacc=Math['min'](..._0x5186ed[_0x471ad4(0x58e)](_0x5487fe=>_0x5487fe['correct'])),_0xdfb4a3=_0x5186ed[_0x471ad4(0x2ca)](_0x30e3f0=>_0x30e3f0['correct']===_0x23c5c2)[_0x471ad4(0x58e)](_0x3bf07d=>_0x471ad4(0x555)+_0x3bf07d[_0x471ad4(0x80c)]),_0x57c553=_0x5186ed[_0x471ad4(0x2ca)](_0x2b63d3=>_0x2b63d3[_0x471ad4(0x867)]===_0x33bacc)[_0x471ad4(0x58e)](_0x466c89=>'ข้อ\x20'+_0x466c89[_0x471ad4(0x80c)]),_0x1c529a=_0x3dde88['sort']((_0x1645a6,_0x463d9c)=>_0x463d9c[_0x471ad4(0x568)]-_0x1645a6[_0x471ad4(0x568)])[_0x471ad4(0x2ca)]((_0x5ad357,_0x218ef4,_0x23f437)=>_0x5ad357[_0x471ad4(0x568)]===_0x23f437[0x0][_0x471ad4(0x568)]),_0x45ac6a=_0x3dde88[_0x471ad4(0x6a8)]((_0x25a737,_0x396852)=>_0x25a737[_0x471ad4(0x568)]-_0x396852[_0x471ad4(0x568)])[_0x471ad4(0x2ca)]((_0x59b0ec,_0x4a9286,_0x273425)=>_0x59b0ec[_0x471ad4(0x568)]===_0x273425[0x0][_0x471ad4(0x568)]),_0x1f7397=_0x471ad4(0x8e7)+_0xdfb4a3[_0x471ad4(0x548)](',\x20')+_0x471ad4(0x840)+_0x23c5c2+_0x471ad4(0x551)+_0x17796e+_0x471ad4(0x7fe)+_0x57c553['join'](',\x20')+_0x471ad4(0x840)+(_0x17796e-_0x33bacc)+_0x471ad4(0x551)+_0x17796e+_0x471ad4(0x3cb)+_0x1c529a[_0x471ad4(0x58e)](_0x33dc59=>_0x33dc59[_0x471ad4(0x3d9)])['join'](',\x20')+_0x471ad4(0x283)+_0x1c529a[0x0][_0x471ad4(0x568)]+_0x471ad4(0x8db)+_0x45ac6a[_0x471ad4(0x58e)](_0x3f2bea=>_0x3f2bea[_0x471ad4(0x3d9)])[_0x471ad4(0x548)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x45ac6a[0x0][_0x471ad4(0x568)]+_0x471ad4(0x5b0);_0x239dd4[_0x471ad4(0x299)]=_0x1f7397;}function renderSubmissionChart(_0x476653,_0x390daa,_0x2c9c00,_0x3b4339){const _0x1b93da=_0x132f6e,_0x29622b=document[_0x1b93da(0x2ae)](_0x1b93da(0x56b))[_0x1b93da(0x1c7)]('2d'),_0x50adff=_0x2c9c00[_0x1b93da(0x58e)](_0x186382=>_0x186382[_0x1b93da(0x3d9)]),_0x296a59=_0x3b4339[_0x1b93da(0x2ca)](_0xb174be=>!_0x50adff[_0x1b93da(0x229)](_0xb174be));chartInstances['submission']&&chartInstances[_0x1b93da(0x4b9)][_0x1b93da(0x49d)](),chartInstances[_0x1b93da(0x4b9)]=new Chart(_0x29622b,{'type':_0x1b93da(0x826),'data':{'labels':['ส่งแล้ว',_0x1b93da(0x19e)],'datasets':[{'data':[_0x476653,_0x390daa],'backgroundColor':['#10B981',_0x1b93da(0xbc)],'borderColor':[_0x1b93da(0x8b8),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x1b93da(0x7a0)},'tooltip':{'callbacks':{'label':function(_0x2373be){const _0x44c3d8=_0x1b93da;let _0x45bad3=_0x2373be['label']||'';return _0x45bad3&&(_0x45bad3+=':\x20'),_0x45bad3+=_0x2373be[_0x44c3d8(0x7e6)],_0x45bad3;},'afterLabel':function(_0x38a66c){const _0x15ef66=_0x1b93da;let _0x4d33c8;return _0x38a66c[_0x15ef66(0x67f)]===0x0?_0x4d33c8=_0x50adff:_0x4d33c8=_0x296a59,_0x4d33c8[_0x15ef66(0x409)]>0x0?_0x4d33c8['join']('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x4e96ab,_0x4051a2){const _0x229ec=_0x132f6e,_0x5d179b=document['getElementById'](_0x229ec(0x570))[_0x229ec(0x1c7)]('2d'),_0x2c273d={};for(let _0x198ad2=0x0;_0x198ad2<=_0x4051a2;_0x198ad2++){_0x2c273d[_0x198ad2]=0x0;}_0x4e96ab[_0x229ec(0x7db)](_0xb412a1=>{_0x2c273d[_0xb412a1['latestScore']]!==undefined&&_0x2c273d[_0xb412a1['latestScore']]++;}),chartInstances[_0x229ec(0x66d)]&&chartInstances[_0x229ec(0x66d)][_0x229ec(0x49d)](),chartInstances['score']=new Chart(_0x5d179b,{'type':_0x229ec(0x80a),'data':{'labels':Object[_0x229ec(0x713)](_0x2c273d),'datasets':[{'label':_0x229ec(0xc1),'data':Object['values'](_0x2c273d),'backgroundColor':_0x229ec(0x7f3),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x229ec(0x20d)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x16aeb4){const _0x173b2e=_0x229ec,_0x174dd8=_0x16aeb4['label'],_0xb09e50=_0x4e96ab[_0x173b2e(0x2ca)](_0x36c285=>_0x36c285[_0x173b2e(0x568)]==_0x174dd8)[_0x173b2e(0x58e)](_0x444273=>_0x444273[_0x173b2e(0x3d9)]);return _0xb09e50['length']>0x0?_0xb09e50[_0x173b2e(0x548)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x5e2262,_0x31d37d,_0x4c3517){const _0x15bb51=_0x132f6e,_0x6bc032=document['getElementById'](_0x15bb51(0x777));if(_0x4c3517[_0x15bb51(0x409)]===0x0){_0x6bc032[_0x15bb51(0x299)]=_0x15bb51(0x413);return;}const _0x343876=calculateItemAnalysis(_0x5e2262,_0x31d37d),_0x2f5f21=calculateDistractorAnalysis(_0x5e2262,_0x31d37d);let _0x5a5fc1='';_0x343876[_0x15bb51(0x569)]&&(_0x5a5fc1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x343876[_0x15bb51(0x569)][_0x15bb51(0x732)]['length']+_0x15bb51(0x333)+_0x343876[_0x15bb51(0x569)][_0x15bb51(0x732)][_0x15bb51(0x58e)](_0x33797=>'<li>'+_0x33797+_0x15bb51(0x750))[_0x15bb51(0x548)]('')+_0x15bb51(0x26c)+_0x343876['overallGroups'][_0x15bb51(0x3bd)]['length']+_0x15bb51(0x333)+_0x343876[_0x15bb51(0x569)]['lowerGroupNames'][_0x15bb51(0x58e)](_0x9a59d0=>_0x15bb51(0x6ca)+_0x9a59d0+'</li>')[_0x15bb51(0x548)]('')+_0x15bb51(0x789));let _0x467933='';const _0x132203=_0x31d37d[_0x15bb51(0x58e)](_0x1b4fd1=>_0x1b4fd1[_0x15bb51(0x3d9)]),_0x3baf55=_0x3a4b0c=>{const _0x2c8a92=_0x15bb51;if(_0x3a4b0c>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x3a4b0c>=0.6)return _0x2c8a92(0xef);if(_0x3a4b0c>=0.4)return _0x2c8a92(0x2c5);if(_0x3a4b0c>=0.2)return _0x2c8a92(0x28a);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x2dd391=_0xd8ddb8=>{const _0x37c04f=_0x15bb51;if(_0xd8ddb8<0x0)return _0x37c04f(0x60f);if(_0xd8ddb8>=0.4)return _0x37c04f(0x72a);if(_0xd8ddb8>=0.3)return _0x37c04f(0x6d0);if(_0xd8ddb8>=0.2)return _0x37c04f(0x630);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0xe5dda=_0xf280f3=>{const _0x1ca485=_0x15bb51,_0xc001a1=_0xf280f3[_0x1ca485(0x835)](0x0);if(parseFloat(_0xc001a1)===0x64)return _0x1ca485(0x59e)+_0xc001a1+_0x1ca485(0x62d);if(_0xf280f3>=0x32)return _0x1ca485(0x6cb)+_0xc001a1+'%</span>';return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0xc001a1+_0x1ca485(0x62d);};_0x5e2262[_0x15bb51(0x84d)]['forEach']((_0x1a1464,_0x2283b4)=>{const _0x13e121=_0x15bb51,_0x3063e2=_0x343876[_0x13e121(0x355)][_0x2283b4],_0x51b2ef=_0x2f5f21[_0x2283b4],_0x1b5689=_0x1a1464[_0x13e121(0x20b)]||_0x1a1464['questionText']||_0x1a1464[_0x13e121(0x19d)];let _0x18e669=0x0;const _0x1a64e9=[],_0x37ccee=[];_0x31d37d['forEach'](_0x522540=>{const _0x1fb7f1=_0x13e121,_0x29d36b=_0x522540['attempts'][_0x522540[_0x1fb7f1(0x68f)][_0x1fb7f1(0x409)]-0x1];if(_0x29d36b&&_0x29d36b[_0x1fb7f1(0x6f0)]){const _0x992418=_0x29d36b['answers'][_0x1fb7f1(0x2fe)](_0x14e561=>_0x14e561[_0x1fb7f1(0x390)]===_0x1b5689)??_0x29d36b[_0x1fb7f1(0x6f0)][_0x2283b4]??null;_0x992418&&(_0x992418[_0x1fb7f1(0x106)]?(_0x18e669++,_0x1a64e9['push'](_0x522540[_0x1fb7f1(0x3d9)])):_0x37ccee[_0x1fb7f1(0x57d)](_0x522540[_0x1fb7f1(0x3d9)]));}});const _0x53b08f=_0x31d37d[_0x13e121(0x409)]>0x0?_0x18e669/_0x31d37d[_0x13e121(0x409)]*0x64:0x0,_0x41bc68=_0x4c3517[_0x13e121(0x2ca)](_0x3dc613=>!_0x132203[_0x13e121(0x229)](_0x3dc613)),_0x30e3ce=_0x3063e2?_0x13e121(0x461)+_0x3063e2['p'][_0x13e121(0x835)](0x2)+'</p><div>'+_0x3baf55(_0x3063e2['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x3063e2['r'][_0x13e121(0x835)](0x2)+_0x13e121(0x593)+_0x2dd391(_0x3063e2['r'])+_0x13e121(0x275)+_0xe5dda(_0x53b08f)+_0x13e121(0x1d9):'';let _0x64209f='';_0x51b2ef&&(_0x64209f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x13e121(0x713)](_0x51b2ef)[_0x13e121(0x58e)](_0x4b7cd5=>{const _0x4d36da=_0x13e121,_0xde9415=_0x51b2ef[_0x4b7cd5],_0x36c3f6=parseInt(_0x4b7cd5)===_0x1a1464[_0x4d36da(0x6ed)],_0x5df63a=!_0x36c3f6&&_0xde9415[_0x4d36da(0x30a)]>_0xde9415[_0x4d36da(0x1c9)];return _0x4d36da(0x587)+(_0x36c3f6?_0x4d36da(0x8fa):'')+_0x4d36da(0x879)+(_0x36c3f6?'✔\x20':'')+_0xde9415['text']+_0x4d36da(0x7da)+_0xde9415['upper_group_count']+_0x4d36da(0x7da)+_0xde9415[_0x4d36da(0x30a)]+'\x20'+(_0x5df63a?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0xde9415[_0x4d36da(0x854)]+_0x4d36da(0xbb);})[_0x13e121(0x548)]('')+_0x13e121(0x745));let _0x40f5f7='';_0x3063e2&&_0x3063e2['upperGroupResponders']&&(_0x40f5f7=_0x13e121(0x179)+_0x3063e2[_0x13e121(0x21d)][_0x13e121(0x409)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x3063e2['upperGroupResponders'][_0x13e121(0x58e)](_0x50bfe1=>_0x13e121(0x6ca)+(_0x50bfe1[_0x13e121(0x106)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x50bfe1['name']+_0x13e121(0x750))[_0x13e121(0x548)]('')+_0x13e121(0x811)+_0x3063e2[_0x13e121(0x16f)][_0x13e121(0x409)]+_0x13e121(0x9d)+_0x3063e2[_0x13e121(0x16f)]['map'](_0x563c54=>_0x13e121(0x6ca)+(_0x563c54['isCorrect']?_0x13e121(0x82e):_0x13e121(0x850))+'\x20'+_0x563c54[_0x13e121(0x54f)]+_0x13e121(0x750))['join']('')+_0x13e121(0x182)),_0x467933+=_0x13e121(0x706)+(_0x2283b4+0x1)+':\x20'+_0x1b5689+_0x13e121(0x3b3)+_0x30e3ce+_0x13e121(0x3f7)+_0x1b5689+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x18e669+'\x20จาก\x20'+_0x31d37d[_0x13e121(0x409)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x53b08f[_0x13e121(0x835)](0x0)+_0x13e121(0x4f3)+_0x1a64e9[_0x13e121(0x409)]+_0x13e121(0x88f)+(_0x1a64e9[_0x13e121(0x409)]>0x0?_0x1a64e9[_0x13e121(0x548)](',\x20'):_0x13e121(0x3dd))+_0x13e121(0x3ca)+_0x37ccee[_0x13e121(0x409)]+_0x13e121(0x88f)+(_0x37ccee[_0x13e121(0x409)]>0x0?_0x37ccee[_0x13e121(0x548)](',\x20'):_0x13e121(0x3dd))+_0x13e121(0x865)+_0x41bc68[_0x13e121(0x409)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x41bc68[_0x13e121(0x409)]>0x0?_0x41bc68[_0x13e121(0x548)](',\x20'):'ไม่มี')+_0x13e121(0x669)+_0x64209f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40f5f7+_0x13e121(0x1a9);}),_0x6bc032[_0x15bb51(0x299)]=_0x5a5fc1+_0x467933;try{window[_0x15bb51(0x530)]&&MathJax['typesetPromise']&&MathJax[_0x15bb51(0x8dc)]([_0x6bc032]);}catch(_0x976997){console[_0x15bb51(0x6e4)](_0x15bb51(0x7d6),_0x976997);}}function calculateDistractorAnalysis(_0x461053,_0x2b836f){const _0xd034b0=_0x132f6e,_0x481195={};if(_0x2b836f['length']<0x2)return _0x481195;const _0x2ecf25=[..._0x2b836f]['sort']((_0x1581a0,_0x16b2ed)=>{const _0x3c1c63=_0x5070,_0xa2cca8=_0x16b2ed[_0x3c1c63(0x568)]-_0x1581a0[_0x3c1c63(0x568)];if(_0xa2cca8!==0x0)return _0xa2cca8;const _0x1c8ccc=_0x1581a0['attempts']?.['length']||0x1,_0x349ae3=_0x16b2ed['attempts']?.['length']||0x1,_0x51ab16=_0x1c8ccc-_0x349ae3;if(_0x51ab16!==0x0)return _0x51ab16;const _0x34a49a=new Date(_0x1581a0[_0x3c1c63(0x11f)]),_0x42c357=new Date(_0x16b2ed['latestSubmittedAt']),_0x147080=_0x34a49a-_0x42c357;if(_0x147080!==0x0)return _0x147080;return _0x1581a0[_0x3c1c63(0x3d9)][_0x3c1c63(0x50f)](_0x16b2ed[_0x3c1c63(0x3d9)],'th');}),_0x21ac2d=_0x2ecf25[_0xd034b0(0x409)],_0xd8c258=Math[_0xd034b0(0x405)](0x1,Math[_0xd034b0(0x7fb)](_0x21ac2d*0.33)),_0xc8a49b=_0x2ecf25[_0xd034b0(0x10b)](0x0,_0xd8c258),_0x178475=_0x2ecf25[_0xd034b0(0x10b)](-_0xd8c258);return _0x461053[_0xd034b0(0x84d)][_0xd034b0(0x7db)]((_0x1c2723,_0x350c14)=>{const _0xf3423d=_0xd034b0;if(_0x1c2723[_0xf3423d(0x135)]!==_0xf3423d(0x7ec)||!_0x1c2723['options'])return;const _0x584ae8=_0x1c2723[_0xf3423d(0x374)],_0x2b6c05={};_0x1c2723[_0xf3423d(0x234)][_0xf3423d(0x7db)]((_0x8f914a,_0x48aea0)=>{_0x2b6c05[_0x48aea0]={'text':_0x8f914a,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2ecf25['forEach'](_0xf9599b=>{const _0x14ab7c=_0xf3423d,_0x47c513=_0xf9599b[_0x14ab7c(0x68f)][_0xf9599b[_0x14ab7c(0x68f)][_0x14ab7c(0x409)]-0x1],_0xa85e77=_0x47c513[_0x14ab7c(0x6f0)][_0x14ab7c(0x2fe)](_0x16aedf=>_0x16aedf['originalQuestionText']===_0x584ae8);if(_0xa85e77&&_0xa85e77[_0x14ab7c(0x2e4)]!==null){const _0x3158f0=_0x1c2723[_0x14ab7c(0x234)][_0x14ab7c(0x8a9)](_0x286c95=>_0x286c95===_0xa85e77[_0x14ab7c(0x5db)]);_0x3158f0!==-0x1&&_0x2b6c05[_0x3158f0]&&(_0x2b6c05[_0x3158f0]['total']++,_0xc8a49b[_0x14ab7c(0x229)](_0xf9599b)&&_0x2b6c05[_0x3158f0][_0x14ab7c(0x1c9)]++,_0x178475[_0x14ab7c(0x229)](_0xf9599b)&&_0x2b6c05[_0x3158f0]['lower_group_count']++);}}),_0x481195[_0x350c14]=_0x2b6c05;}),_0x481195;}function calculateReliabilityKR20(_0x41bafa,_0x2d4431,_0x5703f9){const _0x35a512=_0x132f6e,_0x22c2bb=_0x41bafa[_0x35a512(0x84d)][_0x35a512(0x409)];if(_0x22c2bb<0x2||_0x2d4431[_0x35a512(0x409)]<0x2)return null;const _0x2b46d9=_0x2d4431[_0x35a512(0x58e)](_0x244dc7=>_0x244dc7[_0x35a512(0x568)]),_0x2894e1=_0x2b46d9['reduce']((_0x43ebac,_0x51e2f7)=>_0x43ebac+_0x51e2f7,0x0)/_0x2b46d9[_0x35a512(0x409)],_0x44dfa1=_0x2b46d9[_0x35a512(0x58e)](_0x46e179=>Math['pow'](_0x46e179-_0x2894e1,0x2))['reduce']((_0x178571,_0x5cd22f)=>_0x178571+_0x5cd22f,0x0)/_0x2b46d9['length'];if(_0x44dfa1===0x0)return null;let _0x235dea=0x0;for(let _0x510767=0x0;_0x510767<_0x22c2bb;_0x510767++){const _0x9dd62f=_0x5703f9[_0x510767]?.['p'];if(_0x9dd62f===undefined)continue;const _0x150c5b=0x1-_0x9dd62f;_0x235dea+=_0x9dd62f*_0x150c5b;}if(_0x235dea===0x0)return null;const _0x274d27=_0x22c2bb/(_0x22c2bb-0x1)*(0x1-_0x235dea/_0x44dfa1);if(_0x274d27>0x1)return null;return _0x274d27;}async function handleAnalyzeClass(){const _0x4f31b6=_0x132f6e;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0xb8680d=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x4f31b6(0xd9)),_0x1edbe4=await getDocs(_0xb8680d),_0x4bb564=_0x1edbe4[_0x4f31b6(0x7d9)][_0x4f31b6(0x58e)](_0x5e3ab1=>_0x5e3ab1[_0x4f31b6(0x416)]());if(_0x4bb564[_0x4f31b6(0x409)]<0x2){showMessage(_0x4f31b6(0x3cc));return;}const _0x3855d5=document[_0x4f31b6(0x2ae)](_0x4f31b6(0xa6));_0x3855d5[_0x4f31b6(0x299)]=_0x4f31b6(0x29c),document[_0x4f31b6(0x2ae)](_0x4f31b6(0x2d7))[_0x4f31b6(0x4b3)]=!![];const _0x1f97a5=_0x4bb564[_0x4f31b6(0x58e)]((_0x5ed62a,_0x589878)=>{const _0x1940b9=_0x4f31b6,_0x695342=_0x5ed62a['attempts'][_0x5ed62a[_0x1940b9(0x68f)][_0x1940b9(0x409)]-0x1];if(!_0x695342)return'';return _0x1940b9(0x4c9)+(_0x589878+0x1)+'\x20('+_0x5ed62a['studentName']+_0x1940b9(0x702)+_0x695342[_0x1940b9(0x66d)]+'/'+_0x5ed62a[_0x1940b9(0xf8)]+_0x1940b9(0x1f5)+JSON['stringify'](_0x695342['answers'])+_0x1940b9(0x47f);})[_0x4f31b6(0x548)](_0x4f31b6(0x6c6)),_0x2e3a6c=_0x4f31b6(0x6f7)+currentQuizData[_0x4f31b6(0x764)]+_0x4f31b6(0x526)+JSON['stringify'](currentQuizData[_0x4f31b6(0x84d)])+_0x4f31b6(0xd7)+_0x1f97a5+_0x4f31b6(0x47a),_0x3cd0a3={'type':_0x4f31b6(0x6b3),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x4f31b6(0x345)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x4f31b6(0x345)}},'teacherSuggestions':{'type':_0x4f31b6(0x7cf),'items':{'type':'STRING'}}},'required':[_0x4f31b6(0x446),_0x4f31b6(0x8ff),_0x4f31b6(0xec)]};try{const _0x43edfd=await callAnalysisApi(_0x2e3a6c,_0x3cd0a3);displayClassAnalysis(_0x43edfd);}catch(_0x2c54ab){console[_0x4f31b6(0x6e4)](_0x4f31b6(0x340),_0x2c54ab),_0x3855d5[_0x4f31b6(0x299)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x2c54ab[_0x4f31b6(0x17c)]+_0x4f31b6(0x285);}finally{document['getElementById'](_0x4f31b6(0x2d7))[_0x4f31b6(0x4b3)]=![];}}function displayClassAnalysis(_0x4658a1){const _0x161b3d=_0x132f6e,_0x265aa3=document['getElementById']('strength-weakness-analysis-container');if(!_0x4658a1){_0x265aa3[_0x161b3d(0x299)]=_0x161b3d(0x7e7);return;}_0x265aa3['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4658a1[_0x161b3d(0x446)][_0x161b3d(0x58e)](_0x47eb73=>_0x161b3d(0x6ca)+_0x47eb73+_0x161b3d(0x750))[_0x161b3d(0x548)]('')+_0x161b3d(0x481)+_0x4658a1[_0x161b3d(0x8ff)]['map'](_0x4b5510=>_0x161b3d(0x6ca)+_0x4b5510+'</li>')[_0x161b3d(0x548)]('')+_0x161b3d(0x147)+_0x4658a1[_0x161b3d(0xec)][_0x161b3d(0x58e)](_0x1cc934=>'<li>'+_0x1cc934+'</li>')[_0x161b3d(0x548)]('')+_0x161b3d(0x24f);}function formatAndPrintWorksheet(_0x18d4b5,_0x10f33e){const _0x5d1043=_0x132f6e,_0x99343c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x18d4b5[_0x5d1043(0x764)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x18d4b5['topic']+_0x5d1043(0x61c)+_0x18d4b5[_0x5d1043(0x84d)][_0x5d1043(0x58e)]((_0x523dc6,_0x44fc13)=>_0x5d1043(0x1ee)+(_0x44fc13+0x1)+'.\x20'+_0x523dc6[_0x5d1043(0x374)]+_0x5d1043(0x293)+(_0x523dc6[_0x5d1043(0x21e)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x523dc6[_0x5d1043(0x21e)]+_0x5d1043(0x303):'')+_0x5d1043(0x68b))[_0x5d1043(0x548)]('')+_0x5d1043(0x577);_0x10f33e[_0x5d1043(0x36c)][_0x5d1043(0x517)](_0x99343c),_0x10f33e[_0x5d1043(0x36c)][_0x5d1043(0x215)](),_0x10f33e[_0x5d1043(0x2e3)]=function(){setTimeout(()=>{const _0x147d53=_0x5070;_0x10f33e[_0x147d53(0x472)]();},0x3e8);};}async function generateWorksheet(){const _0x34f542=_0x132f6e,_0xc9f199=document[_0x34f542(0x2ae)]('worksheet-topic-input')[_0x34f542(0x864)]['trim']();if(!_0xc9f199){showMessage(_0x34f542(0x5b7));return;}const _0x2e6780=document[_0x34f542(0x2ae)](_0x34f542(0x4dc))[_0x34f542(0x13b)],_0x1c1a76=_0x2e6780?'':_0x34f542(0x5c5),_0x406bd2=window[_0x34f542(0x24c)]('','_blank');_0x406bd2[_0x34f542(0x36c)][_0x34f542(0x517)](_0x34f542(0x3fb));const _0x2f77b4=parseInt(document[_0x34f542(0x2ae)](_0x34f542(0x318))[_0x34f542(0x864)]),_0x37031b=document[_0x34f542(0x2ae)]('include-images-checkbox')['checked'],_0x537310=_0x37031b?_0x34f542(0x212):'',_0x4b8050=_0x34f542(0x77b)+_0x1c1a76+_0x34f542(0x288)+_0x2f77b4+_0x34f542(0x1b4)+_0xc9f199+_0x34f542(0x59d)+_0x537310+_0x34f542(0x589)+simpleMathPrompt+_0x34f542(0x2ac),_0x3d85f6={'type':_0x34f542(0x6b3),'properties':{'topic':{'type':_0x34f542(0x345)},'questions':{'type':_0x34f542(0x7cf),'items':{'type':_0x34f542(0x6b3),'properties':{'questionText':{'type':_0x34f542(0x345)},'imageCode':{'type':'STRING'}},'required':[_0x34f542(0x374)]}}},'required':[_0x34f542(0x764),_0x34f542(0x84d)]};document[_0x34f542(0x2ae)](_0x34f542(0x691))['textContent']='',document[_0x34f542(0x2ae)](_0x34f542(0x2f8))[_0x34f542(0x172)][_0x34f542(0x6a9)](_0x34f542(0x5cb)),document['getElementById']('quiz-generation-area')['classList']['remove'](_0x34f542(0x5cb)),generateWorksheetBtn[_0x34f542(0x4b3)]=!![];try{const _0x56ffcd=await callAnalysisApi(_0x4b8050,_0x3d85f6);formatAndPrintWorksheet(_0x56ffcd,_0x406bd2);}catch(_0x57f890){console[_0x34f542(0x6e4)](_0x34f542(0x873),_0x57f890);if(_0x406bd2)_0x406bd2[_0x34f542(0x215)]();showMessage(_0x34f542(0x26d));}finally{document[_0x34f542(0x2ae)](_0x34f542(0x2f8))[_0x34f542(0x172)][_0x34f542(0x96)](_0x34f542(0x5cb)),document[_0x34f542(0x2ae)](_0x34f542(0x68d))['classList'][_0x34f542(0x96)](_0x34f542(0x5cb)),generateWorksheetBtn[_0x34f542(0x4b3)]=![];}}async function callAnalysisApi(_0x4f54f8,_0x19c4bd){const _0x148d91=_0x132f6e,_0x5a519a={'contents':[{'role':_0x148d91(0x492),'parts':[{'text':_0x4f54f8}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x19c4bd}},_0x5522a0='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0xb674bb=_0x148d91(0x5fd)+_0x5522a0,_0x52cce9=await fetch(_0xb674bb,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x148d91(0x75e)](_0x5a519a)});if(!_0x52cce9['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x52cce9[_0x148d91(0x5d6)]);const _0x4d0390=await _0x52cce9['json']();if(_0x4d0390['candidates']?.[0x0]?.[_0x148d91(0x138)]?.[_0x148d91(0xa7)]?.[0x0])return JSON[_0x148d91(0x292)](_0x4d0390['candidates'][0x0]['content']['parts'][0x0]['text']);else{let _0x383d00=_0x148d91(0x4bf);if(_0x4d0390['promptFeedback']?.[_0x148d91(0x101)])_0x383d00='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x4d0390['promptFeedback']['blockReason']+'.';else _0x4d0390[_0x148d91(0x784)]?.[0x0]?.[_0x148d91(0x132)]&&_0x4d0390[_0x148d91(0x784)][0x0]['finishReason']!==_0x148d91(0x3fa)&&(_0x383d00='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x4d0390[_0x148d91(0x784)][0x0][_0x148d91(0x132)]+'.');console[_0x148d91(0x6e4)](_0x383d00,JSON[_0x148d91(0x75e)](_0x4d0390));throw new Error(_0x383d00);}}initialize();
