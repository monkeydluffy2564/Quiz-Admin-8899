const _0x4ce511=_0x5a5c;(function(_0x45ee87,_0x1a0615){const _0x1bff14=_0x5a5c,_0x41dff9=_0x45ee87();while(!![]){try{const _0xd1906e=-parseInt(_0x1bff14(0x6fd))/0x1*(-parseInt(_0x1bff14(0xea8))/0x2)+-parseInt(_0x1bff14(0xda0))/0x3*(parseInt(_0x1bff14(0x82e))/0x4)+parseInt(_0x1bff14(0xacc))/0x5+-parseInt(_0x1bff14(0xe79))/0x6*(-parseInt(_0x1bff14(0x26f))/0x7)+parseInt(_0x1bff14(0xdc2))/0x8*(parseInt(_0x1bff14(0x771))/0x9)+-parseInt(_0x1bff14(0xaf6))/0xa*(parseInt(_0x1bff14(0xadd))/0xb)+parseInt(_0x1bff14(0xd0c))/0xc*(-parseInt(_0x1bff14(0x35a))/0xd);if(_0xd1906e===_0x1a0615)break;else _0x41dff9['push'](_0x41dff9['shift']());}catch(_0x3e92f3){_0x41dff9['push'](_0x41dff9['shift']());}}}(_0x103e,0xded9a));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x4ce511(0x41a),_0x4ce511(0xc49),_0x4ce511(0x746),_0x4ce511(0x7a3),_0x4ce511(0xaea),_0x4ce511(0x461),_0x4ce511(0xf0a),'สิงโตยิ้ม',_0x4ce511(0x356),_0x4ce511(0x271),_0x4ce511(0x602),'มือปราบสายรุ้ง',_0x4ce511(0xa7d),'สายลมแห่งโชคชะตา',_0x4ce511(0xd5d),'จอมเวทย์ขนมหวาน',_0x4ce511(0xf02),_0x4ce511(0x22b),_0x4ce511(0x6b6),_0x4ce511(0x8b2),_0x4ce511(0x632),_0x4ce511(0x210),_0x4ce511(0x8c7),_0x4ce511(0x79c),_0x4ce511(0x869),'หมาป่าเดียวดาย',_0x4ce511(0xbd5),_0x4ce511(0x390),_0x4ce511(0x6dd),_0x4ce511(0xe72),'ยอดนักสืบ','สายลับจับบ้านเล็ก','คนดีศรีสยาม','ดาวTikTok',_0x4ce511(0xde8),_0x4ce511(0x3c3),_0x4ce511(0x859),_0x4ce511(0xc24),_0x4ce511(0xc8f),_0x4ce511(0x65b),_0x4ce511(0x6df),_0x4ce511(0x7f6),_0x4ce511(0x3f8),_0x4ce511(0x37a),_0x4ce511(0xb4a),'ข้าวมันไก่พิเศษ','หมูกระทะจะเยียวยาทุกสิ่ง',_0x4ce511(0xb94),_0x4ce511(0x6b0),_0x4ce511(0x9b0),_0x4ce511(0xb7f),_0x4ce511(0xcfa),_0x4ce511(0xebf),_0x4ce511(0x7b2),_0x4ce511(0x872),_0x4ce511(0xe2b),'เน็ตช้า',_0x4ce511(0x227),_0x4ce511(0x6a6),_0x4ce511(0x809),'จันทร์เจ้า',_0x4ce511(0x4a6),_0x4ce511(0xd31),_0x4ce511(0x7a5),_0x4ce511(0x66c),_0x4ce511(0x9eb),_0x4ce511(0xf4f),_0x4ce511(0xdb2),_0x4ce511(0x564),_0x4ce511(0x53b),_0x4ce511(0x4a4),_0x4ce511(0x9a8),_0x4ce511(0xe2e),_0x4ce511(0x43f),_0x4ce511(0xc19),_0x4ce511(0xa14),_0x4ce511(0x3be),_0x4ce511(0x918),_0x4ce511(0xe0d),'ครูใหญ่',_0x4ce511(0x6dc),_0x4ce511(0x624),_0x4ce511(0x7ec),'ตัวแทนแห่งดวงจันทร์',_0x4ce511(0x267),_0x4ce511(0xf08),_0x4ce511(0xc83),_0x4ce511(0x328),'กัปตัน',_0x4ce511(0x6e0),'รักแรกพบ',_0x4ce511(0x8eb),_0x4ce511(0x5d0),'อกหัก',_0x4ce511(0x342),'คู่จิ้น',_0x4ce511(0x9df),_0x4ce511(0xcae),_0x4ce511(0x7fa),_0x4ce511(0xd27)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x4ce511(0x408),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x4ce511(0x408),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x4ce511(0x408),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x303b14=_0x4ce511;if(_0x303b14(0x8f5)in navigator)try{wakeLock=await navigator[_0x303b14(0x8f5)][_0x303b14(0x9da)](_0x303b14(0x4d7)),console[_0x303b14(0x2c0)](_0x303b14(0xef8)),wakeLock[_0x303b14(0x79a)](_0x303b14(0xc2b),()=>{const _0x4f3bf6=_0x303b14;console['log'](_0x4f3bf6(0x83c));});}catch(_0x282854){console[_0x303b14(0xd74)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x282854[_0x303b14(0x631)]+',\x20'+_0x282854[_0x303b14(0x68f)]);}else console[_0x303b14(0xbfc)](_0x303b14(0xed7));},releaseWakeLock=async()=>{const _0x4f5cda=_0x4ce511;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log'](_0x4f5cda(0x367)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2c7ec2=_0x4ce511;if(!document['body'][_0x2c7ec2(0xa1f)][_0x2c7ec2(0xa3f)]('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x5968cc=_0x2c7ec2;document[_0x5968cc(0xdc7)]['classList']['add'](_0x5968cc(0x308)),console[_0x5968cc(0x2c0)](_0x5968cc(0xd1e));},inactivityTime);}}function wakeUpScreen(_0x4ec92e){const _0x5e677f=_0x4ce511;_0x4ec92e&&(_0x4ec92e['stopPropagation'](),_0x4ec92e[_0x5e677f(0xcaa)]());document[_0x5e677f(0xdc7)][_0x5e677f(0xa1f)][_0x5e677f(0x711)](_0x5e677f(0x308));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x2da729=_0x5e677f;document[_0x2da729(0xdc7)][_0x2da729(0xa1f)]['add'](_0x2da729(0x308));},inactivityTime);}function stopDimTimer(){const _0x49a896=_0x4ce511;if(dimTimer)clearTimeout(dimTimer);document[_0x49a896(0xdc7)][_0x49a896(0xa1f)]['remove'](_0x49a896(0x308)),window['removeEventListener'](_0x49a896(0xec3),resetDimTimer),window[_0x49a896(0x8fb)](_0x49a896(0xaac),resetDimTimer),window[_0x49a896(0x8fb)]('touchstart',resetDimTimer),window[_0x49a896(0x8fb)](_0x49a896(0x7a9),resetDimTimer),console[_0x49a896(0x2c0)](_0x49a896(0xa6c));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0xbfd1ef,_0x1fac00=![]){const _0x54d565=_0x4ce511,_0x2e9155=allQuizzes['find'](_0x309c1f=>_0x309c1f['id']===_0xbfd1ef)||allQuizzesGlobal[_0x54d565(0x340)](_0x537942=>_0x537942['id']===_0xbfd1ef);if(!_0x2e9155){showMessage(_0x54d565(0x5c0));return;}currentQuizData=getShuffledQuiz(_0x2e9155);const _0x50fad9=Math[_0x54d565(0x8c6)](0x3e8+Math[_0x54d565(0x3c9)]()*0x2328)[_0x54d565(0x823)]();try{const _0x300b98=await addDoc(collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),{'quizId':_0x2e9155['id'],'projectId':_0x2e9155['projectId'],'status':_0x54d565(0xcb9),'pin':_0x50fad9,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1fac00});currentTeamQuizId=_0x300b98['id'],showView(_0x54d565(0x934)),renderAdminTeamQuizDashboard(_0x50fad9,_0x2e9155[_0x54d565(0x8ba)]),listenForTeamQuizUpdates();}catch(_0x35c350){console[_0x54d565(0xd74)](_0x54d565(0xdbb),_0x35c350),showMessage(_0x54d565(0x9f2));}}function renderAdminTeamQuizDashboard(_0x596722,_0x2aa71f,_0x38608d=_0x4ce511(0xd29)){const _0x270a1c=_0x4ce511,_0x480b5a=_0x38608d===_0x270a1c(0x4fb)?'Group\x20Mode':_0x270a1c(0x1f5);liveGameView['innerHTML']=_0x270a1c(0xf50)+_0x480b5a+':\x20'+_0x2aa71f+_0x270a1c(0xaf9)+_0x596722+_0x270a1c(0x3f4),document[_0x270a1c(0xbeb)](_0x270a1c(0x418))['addEventListener'](_0x270a1c(0xc64),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x501e83=_0x5a5c;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x501e83(0xcaf)+appId+_0x501e83(0xd89),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x54c682=_0x4ce511;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x1a72fe=doc(db,_0x54c682(0xcaf)+appId+_0x54c682(0xd89),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x1a72fe,_0x33e472=>{const _0x49c3df=_0x54c682;if(!_0x33e472[_0x49c3df(0x358)]()){sessionStorage['removeItem'](_0x49c3df(0xaed));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x49c3df(0xad7));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x49c3df(0xe1e)):showView(_0x49c3df(0x2ec));return;}const _0xeec52d=_0x33e472['data']();if(currentMode==='admin'){if(_0xeec52d['mode']===_0x49c3df(0x4fb)&&_0xeec52d[_0x49c3df(0x3a7)]!=='podium'&&_0xeec52d[_0x49c3df(0x3a7)]!==_0x49c3df(0xf5d)){const _0x579d93=Object[_0x49c3df(0xb18)](_0xeec52d[_0x49c3df(0x948)]||{});if(_0x579d93[_0x49c3df(0x81c)]>0x0){const _0x18438e=_0x579d93[_0x49c3df(0xdd3)](_0x1381c1=>_0x1381c1[_0x49c3df(0x98a)]===!![]);_0x18438e&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0xeec52d);}else{if(_0xeec52d[_0x49c3df(0x3a7)]===_0x49c3df(0x9d4)||_0xeec52d[_0x49c3df(0x3a7)]===_0x49c3df(0xf5d)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0xeec52d['mode']===_0x49c3df(0x4fb)){const _0x282f45=_0xeec52d[_0x49c3df(0x948)][userId];(!_0x282f45||!_0x282f45[_0x49c3df(0x98a)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x45ff78){const _0xafb03b=_0x4ce511;console[_0xafb03b(0x2c0)](_0xafb03b(0x23b));const _0x35f928=doc(db,_0xafb03b(0xcaf)+appId+'/public/data/teamQuizzes',_0x45ff78);try{const _0x3ed45d=await getDoc(_0x35f928);if(_0x3ed45d[_0xafb03b(0x358)]()){const _0x4da9f9=_0x3ed45d[_0xafb03b(0xbfb)]();_0x4da9f9[_0xafb03b(0xb9d)]&&await saveGameResultsAsSubmissions(_0x4da9f9);}await updateDoc(_0x35f928,{'status':_0xafb03b(0x9d4)});}catch(_0x3c28e5){console[_0xafb03b(0xd74)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x3c28e5);}}function updateAdminTeamDashboard(_0x3382be){const _0x5cb65b=_0x4ce511,_0xcf18ce=document[_0x5cb65b(0xbeb)](_0x5cb65b(0x457));if(!_0xcf18ce)return;const _0x15bd03=_0x3382be[_0x5cb65b(0xaa6)]||'team',_0x17ceb3=currentQuizData[_0x5cb65b(0x7bb)][_0x5cb65b(0x81c)];if(_0x15bd03==='group'){const _0x344c2e=Object[_0x5cb65b(0xb18)](_0x3382be['groups']||{});if(_0x344c2e['length']===0x0){_0xcf18ce[_0x5cb65b(0x28a)]=_0x5cb65b(0x950);return;}const _0xdc3e7=[..._0x344c2e][_0x5cb65b(0x2b3)]((_0x13d2d7,_0x9f11bf)=>_0x9f11bf[_0x5cb65b(0x9c2)]-_0x13d2d7[_0x5cb65b(0x9c2)]),_0x571cdc=_0xdc3e7[_0x5cb65b(0xa15)]((_0xa37306,_0x2a38c7)=>{const _0xbeb2ce=_0x5cb65b,_0x4cebce=_0xa37306['answers']?.[_0xbeb2ce(0x81c)]||0x0;return _0xbeb2ce(0xb59)+(_0x2a38c7+0x1)+_0xbeb2ce(0xca1)+_0xa37306[_0xbeb2ce(0x2cc)][_0xbeb2ce(0x919)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x4cebce+'/'+_0x17ceb3+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0xa37306['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x380345=currentQuizData[_0x5cb65b(0x7bb)][_0x5cb65b(0xa15)]((_0x444d6b,_0x1690e2)=>{const _0x1a14e7=_0x5cb65b;let _0x30980f=0x0,_0x5a8e54=0x0;_0x344c2e['forEach'](_0x4acd85=>{const _0xdc195f=_0x5a5c,_0x3100bd=_0x4acd85[_0xdc195f(0xb0f)]?.[_0xdc195f(0x340)](_0x2eb1b8=>_0x2eb1b8['questionIndex']===_0x1690e2);if(_0x3100bd){_0x5a8e54++;if(_0x3100bd[_0xdc195f(0xc70)])_0x30980f++;}});const _0x1da62b=_0x5a8e54>0x0&&_0x5a8e54===_0x344c2e[_0x1a14e7(0x81c)],_0x4cae9b=_0x1da62b?'bg-green-200\x20text-green-900\x20font-bold':_0x1a14e7(0x5df),_0x38a96f=_0x1da62b?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x1a14e7(0x7e4)+_0x4cae9b+_0x1a14e7(0x4a1)+(_0x1690e2+0x1)+_0x1a14e7(0xcb3)+_0x38a96f+_0x1a14e7(0xeae)+_0x30980f+'/'+_0x344c2e['length']+_0x1a14e7(0xe9c);})[_0x5cb65b(0x919)]('');_0xcf18ce[_0x5cb65b(0x28a)]=_0x5cb65b(0x601)+_0x571cdc+_0x5cb65b(0x4f3)+_0x380345+_0x5cb65b(0x483);return;}const _0x45f58b=_0x3382be[_0x5cb65b(0x2b9)]||{},_0x303667=Object[_0x5cb65b(0xafa)](_0x45f58b);if(_0x303667[_0x5cb65b(0x81c)]===0x0){_0xcf18ce[_0x5cb65b(0x28a)]=_0x5cb65b(0xc80);return;}const _0x4a399e=_0x303667[_0x5cb65b(0xa15)](_0x2c8f7d=>({'name':_0x2c8f7d,'score':_0x45f58b[_0x2c8f7d]['score']||0x0}))[_0x5cb65b(0x2b3)]((_0xaa6bca,_0x52e99b)=>_0x52e99b[_0x5cb65b(0x9c2)]-_0xaa6bca[_0x5cb65b(0x9c2)]),_0x501e19=_0x4a399e['map'](_0x25bf97=>{const _0x373012=_0x5cb65b,_0x1efd0e=_0x45f58b[_0x25bf97[_0x373012(0x631)]]?.[_0x373012(0xb0f)]?.[_0x373012(0x81c)]||0x0,_0x41ffdb=Math['ceil'](_0x17ceb3/_0x303667[_0x373012(0x81c)]);return _0x373012(0xb95)+_0x25bf97[_0x373012(0x631)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x1efd0e+'/'+_0x41ffdb+_0x373012(0x741)+_0x25bf97['score']+_0x373012(0xea2);})[_0x5cb65b(0x919)](''),_0x250389=_0x303667[_0x5cb65b(0x6f2)]((_0x10dce5,_0x46ef2b)=>_0x10dce5+(_0x45f58b[_0x46ef2b][_0x5cb65b(0xb0f)]?.[_0x5cb65b(0x81c)]||0x0),0x0),_0x1d1130=currentQuizData[_0x5cb65b(0x7bb)][_0x5cb65b(0xa15)]((_0x1df933,_0x5ae33b)=>{const _0x4978dc=_0x5cb65b;let _0x4839d5=null,_0x546b37=null;for(const _0x21dd72 of _0x303667){const _0x5130d8=_0x45f58b[_0x21dd72][_0x4978dc(0xb0f)]?.[_0x4978dc(0x340)](_0xe2277a=>_0xe2277a['questionIndex']===_0x5ae33b);if(_0x5130d8){_0x4839d5=_0x5130d8,_0x546b37=_0x21dd72;break;}}const _0x1f82a7=!!_0x4839d5,_0x3d7775=_0x1f82a7&&_0x4839d5[_0x4978dc(0xc70)],_0x5a59b1=(Math[_0x4978dc(0x8c6)](_0x5ae33b/_0x303667['length'])+0x1)*_0x303667[_0x4978dc(0x81c)],_0x3d53ed=_0x250389>=_0x5a59b1,_0x17d920=_0x3d53ed?_0x4978dc(0xa58):'bg-black/10',_0x4294de=_0x3d53ed?_0x4978dc(0xc68):'';let _0x531947=_0x4978dc(0xbe8);return _0x1f82a7&&(_0x531947=_0x546b37+_0x4978dc(0xa45)+(_0x3d7775?_0x4978dc(0xbaa):_0x4978dc(0xbf8))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x17d920+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x5ae33b+0x1)+_0x4978dc(0xcb3)+_0x4294de+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x531947+_0x4978dc(0x559);})[_0x5cb65b(0x919)]('');_0xcf18ce[_0x5cb65b(0x28a)]=_0x5cb65b(0x56d)+_0x501e19+_0x5cb65b(0xa13)+_0x1d1130+_0x5cb65b(0x483);}async function handleJoinTeamQuiz(){const _0x47f98e=_0x4ce511,_0x201671=prompt(_0x47f98e(0x5e1));if(!_0x201671||_0x201671['trim']()['length']!==0x4){showMessage(_0x47f98e(0xb39));return;}try{const _0x4f58ca=collection(db,_0x47f98e(0xcaf)+appId+_0x47f98e(0xd89)),_0x32b71f=query(_0x4f58ca,where(_0x47f98e(0xf58),'==',_0x201671[_0x47f98e(0x88c)]()),where(_0x47f98e(0x3a7),'==',_0x47f98e(0xcb9))),_0x3441bb=await getDocs(_0x32b71f);if(_0x3441bb[_0x47f98e(0x68b)]){showMessage(_0x47f98e(0x537));return;}const _0x1c4e59=_0x3441bb['docs'][0x0];currentTeamQuizId=_0x1c4e59['id'];const _0x343204=_0x1c4e59[_0x47f98e(0xbfb)](),_0x11cc86=doc(db,_0x47f98e(0xcaf)+appId+'/public/data/projects',_0x343204[_0x47f98e(0xc3a)]),_0x2d98f9=doc(db,_0x47f98e(0xcaf)+appId+'/public/data/quizzes',_0x343204['quizId']),[_0x1414b4,_0x36d9f7]=await Promise['all']([getDoc(_0x11cc86),getDoc(_0x2d98f9)]);if(!_0x1414b4[_0x47f98e(0x358)]()||!_0x36d9f7['exists']())throw new Error(_0x47f98e(0x65e));currentQuizData=getShuffledQuiz({'id':_0x36d9f7['id'],..._0x36d9f7[_0x47f98e(0xbfb)]()});const _0x2409ef=_0x1414b4['data']();showTeamPlayerSelection(_0x2409ef[_0x47f98e(0x7cd)],currentQuizData['topic']);}catch(_0x4399a1){console['error'](_0x47f98e(0xf14),_0x4399a1),showMessage(_0x47f98e(0x571)+_0x4399a1[_0x47f98e(0x68f)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x265794=_0x4ce511;currentInputPin='',updatePinDisplay(),document['getElementById']('pin-entry-modal')[_0x265794(0xa1f)][_0x265794(0x711)](_0x265794(0x9d8));}function updatePinDisplay(){const _0x1fa8b3=_0x4ce511,_0x57aa48=document[_0x1fa8b3(0xb02)]('.pin-digit-box');_0x57aa48[_0x1fa8b3(0xbd3)]((_0x56fefc,_0x466d26)=>{const _0x1f1794=_0x1fa8b3;_0x466d26<currentInputPin[_0x1f1794(0x81c)]?(_0x56fefc['textContent']=currentInputPin[_0x466d26],_0x56fefc[_0x1f1794(0xa1f)]['add'](_0x1f1794(0xd72),_0x1f1794(0xb57)),_0x56fefc[_0x1f1794(0xa1f)]['remove'](_0x1f1794(0x6a5),_0x1f1794(0xf1d))):(_0x56fefc['textContent']='',_0x56fefc[_0x1f1794(0xa1f)][_0x1f1794(0x711)](_0x1f1794(0xd72),_0x1f1794(0xb57)),_0x56fefc[_0x1f1794(0xa1f)]['add'](_0x1f1794(0x6a5),_0x1f1794(0xf1d)));});}async function handlePinKeyPress(_0x1ebf3a){const _0x3eb02a=_0x4ce511;if(_0x1ebf3a===_0x3eb02a(0x282))currentInputPin=currentInputPin[_0x3eb02a(0x2c1)](0x0,-0x1);else currentInputPin[_0x3eb02a(0x81c)]<0x4&&(currentInputPin+=_0x1ebf3a);updatePinDisplay(),currentInputPin['length']===0x4&&setTimeout(async()=>{const _0xd3b41=_0x3eb02a;document[_0xd3b41(0xbeb)](_0xd3b41(0x8ea))['classList'][_0xd3b41(0x7e0)]('hidden'),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x10ee4b){const _0x18eef2=_0x4ce511,_0xb187a6=_0x10ee4b['trim']();showMessage('กำลังค้นหากิจกรรม...');try{const _0x4ff250=collection(db,'artifacts/'+appId+_0x18eef2(0xd89)),_0x2fac8d=query(_0x4ff250,where('pin','==',_0xb187a6),where(_0x18eef2(0x3a7),'==','lobby')),_0x3953e1=await getDocs(_0x2fac8d);if(!_0x3953e1[_0x18eef2(0x68b)]){console[_0x18eef2(0x2c0)](_0x18eef2(0xa05)),await proceedWithTeamQuizJoin(_0x3953e1[_0x18eef2(0xf3c)][0x0]);return;}const _0x56395a=collection(db,_0x18eef2(0xcaf)+appId+_0x18eef2(0x2a0)),_0x123028=query(_0x56395a,where(_0x18eef2(0xf58),'==',_0xb187a6),where(_0x18eef2(0x3a7),'in',[_0x18eef2(0xcb9),_0x18eef2(0x5f4),_0x18eef2(0x891),_0x18eef2(0x783)])),_0x3b3b06=await getDocs(_0x123028);if(!_0x3b3b06[_0x18eef2(0x68b)]){console['log'](_0x18eef2(0x2d3)),await proceedWithSyncQuizJoin(_0x3b3b06[_0x18eef2(0xf3c)][0x0]);return;}showMessage(_0x18eef2(0x8d5));}catch(_0x5a6d9d){console['error'](_0x18eef2(0x5f7),_0x5a6d9d),showMessage(_0x18eef2(0x803)+_0x5a6d9d[_0x18eef2(0x68f)]);}}async function proceedWithTeamQuizJoin(_0x379814){const _0x33b59e=_0x4ce511;currentTeamQuizId=_0x379814['id'];const _0x5ebbd8=_0x379814[_0x33b59e(0xbfb)](),_0xd8241e=doc(db,'artifacts/'+appId+_0x33b59e(0x74c),_0x5ebbd8['projectId']),_0xc26fb=doc(db,'artifacts/'+appId+_0x33b59e(0x24f),_0x5ebbd8[_0x33b59e(0xc9b)]),[_0x563972,_0x40db49]=await Promise[_0x33b59e(0x408)]([getDoc(_0xd8241e),getDoc(_0xc26fb)]);if(!_0x563972[_0x33b59e(0x358)]()||!_0x40db49[_0x33b59e(0x358)]())throw new Error(_0x33b59e(0x65e));currentQuizData=getShuffledQuiz({'id':_0x40db49['id'],..._0x40db49[_0x33b59e(0xbfb)]()}),showTeamPlayerSelection(_0x563972['data']()[_0x33b59e(0x7cd)],currentQuizData[_0x33b59e(0x8ba)],_0x5ebbd8[_0x33b59e(0xaa6)]||'team'),messageModal[_0x33b59e(0xa1f)][_0x33b59e(0x7e0)]('hidden');}async function proceedWithSyncQuizJoin(_0x250fdd){const _0x3117eb=_0x4ce511;currentLiveGameId=_0x250fdd['id'];const _0x435254=_0x250fdd[_0x3117eb(0xbfb)](),_0x36038b=doc(db,_0x3117eb(0xcaf)+appId+'/public/data/quizzes',_0x435254[_0x3117eb(0xc9b)]),_0x39b1d0=await getDoc(_0x36038b);if(!_0x39b1d0[_0x3117eb(0x358)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x30de7b=_0x39b1d0[_0x3117eb(0xbfb)](),_0x46e959=doc(db,_0x3117eb(0xcaf)+appId+_0x3117eb(0x74c),_0x30de7b[_0x3117eb(0xc3a)]),_0x308c99=await getDoc(_0x46e959);if(!_0x308c99[_0x3117eb(0x358)]())throw new Error(_0x3117eb(0xcac));currentQuizData=_0x435254['shuffledQuiz'],showView(_0x3117eb(0x48c)),showTeamPlayerSelection(_0x308c99[_0x3117eb(0xbfb)]()[_0x3117eb(0x7cd)],_0x30de7b['topic'],_0x3117eb(0xe25));const _0x267129=document[_0x3117eb(0xbeb)](_0x3117eb(0x4d3)),_0x35ec1d=_0x267129[_0x3117eb(0x9aa)](!![]);_0x267129[_0x3117eb(0x9b6)][_0x3117eb(0xe3e)](_0x35ec1d,_0x267129),_0x35ec1d[_0x3117eb(0x810)]=confirmAndJoinSyncGame,messageModal['classList']['add'](_0x3117eb(0x9d8));}function getCleanApplicationHTML(){const _0x3557d7=_0x4ce511,_0x5be577=document[_0x3557d7(0xbeb)]('applicationContent');if(!_0x5be577)return'';const _0x33d472=_0x5be577[_0x3557d7(0x9aa)](!![]);return _0x33d472[_0x3557d7(0xb02)](_0x3557d7(0x52f))[_0x3557d7(0xbd3)](_0x19a95c=>{const _0x320c93=_0x3557d7;_0x19a95c[_0x320c93(0xa1f)][_0x320c93(0x711)](_0x320c93(0x89a),_0x320c93(0x487)),_0x19a95c['disabled']=![];}),_0x33d472[_0x3557d7(0x28a)];}function showTeamPlayerSelection(_0x548315,_0x20e134,_0x4e7867=_0x4ce511(0xd29)){const _0x4ceb1c=_0x4ce511;studentInitialView[_0x4ceb1c(0xa1f)][_0x4ceb1c(0x7e0)](_0x4ceb1c(0x9d8)),studentJoinGameView[_0x4ceb1c(0xa1f)][_0x4ceb1c(0x7e0)]('hidden'),document[_0x4ceb1c(0xbeb)](_0x4ceb1c(0xd5e))[_0x4ceb1c(0xa1f)][_0x4ceb1c(0x711)](_0x4ceb1c(0x9d8));let _0x50f7e4=_0x4ceb1c(0x1f5);if(_0x4e7867==='group')_0x50f7e4=_0x4ceb1c(0x969);else _0x4e7867===_0x4ceb1c(0xe25)&&(_0x50f7e4='Sync\x20Mode');document[_0x4ceb1c(0xbeb)]('team-quiz-topic')[_0x4ceb1c(0x211)]=_0x50f7e4+':\x20'+_0x20e134;const _0x2bf33e=document['getElementById']('team-student-list');if(!_0x548315||_0x548315['length']===0x0){_0x2bf33e[_0x4ceb1c(0x28a)]=_0x4ceb1c(0xd4f),document[_0x4ceb1c(0xbeb)](_0x4ceb1c(0x4d3))[_0x4ceb1c(0x272)]=!![];return;}_0x2bf33e['innerHTML']=_0x548315[_0x4ceb1c(0xa15)](_0x440582=>_0x4ceb1c(0x925)+_0x440582+_0x4ceb1c(0x8f7)+_0x440582+_0x4ceb1c(0x917))['join'](''),document[_0x4ceb1c(0xbeb)](_0x4ceb1c(0x4d3))[_0x4ceb1c(0x272)]=![];}async function confirmAndStartTeamQuiz(){const _0x2012f6=_0x4ce511,_0xcbd6f8=Array['from'](document[_0x2012f6(0xb02)](_0x2012f6(0x1cc)))['map'](_0xce9cdb=>_0xce9cdb['value']);if(_0xcbd6f8[_0x2012f6(0x81c)]===0x0){showMessage(_0x2012f6(0xa80));return;}localTeamPlayers=_0xcbd6f8,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x199db8=doc(db,'artifacts/'+appId+_0x2012f6(0xd89),currentTeamQuizId);try{const _0x47a0d9=await getDoc(_0x199db8);if(!_0x47a0d9[_0x2012f6(0x358)]())throw new Error('ไม่พบข้อมูลเกม');const _0x104145=_0x47a0d9[_0x2012f6(0xbfb)]();if(_0x104145[_0x2012f6(0xaa6)]===_0x2012f6(0x4fb)){const _0x1c4ef1={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x199db8,_0x1c4ef1);}else{const _0x5ee19a=_0x104145[_0x2012f6(0x2b9)]||{};localTeamPlayers[_0x2012f6(0xbd3)](_0x3f7106=>{!_0x5ee19a[_0x3f7106]&&(_0x5ee19a[_0x3f7106]={'score':0x0,'answers':[]});}),await updateDoc(_0x199db8,{'responses':_0x5ee19a});}document[_0x2012f6(0xbeb)]('student-team-selection-view')[_0x2012f6(0xa1f)][_0x2012f6(0x7e0)]('hidden'),renderTeamQuizQuestion();const _0x2c1f5a={'gameId':currentTeamQuizId,'mode':_0x104145['mode']||_0x2012f6(0xd29),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x2012f6(0x8b9)]('activeGameSession',JSON['stringify'](_0x2c1f5a)),listenForTeamQuizUpdates();}catch(_0x20e820){console[_0x2012f6(0xd74)](_0x2012f6(0xce5),_0x20e820),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x411798=_0x4ce511;if(localQuestionIndex>=currentQuizData[_0x411798(0x7bb)][_0x411798(0x81c)]){displayTeamQuizFinalResults();return;}const _0x402b3c=currentQuizData[_0x411798(0x7bb)][localQuestionIndex],_0x3059bc=localTeamPlayers[localPlayerIndex],_0x1cb737=_0x402b3c[_0x411798(0xd06)]||currentQuizData['quizType'];let _0x4abfda=_0x402b3c[_0x411798(0x4dd)]||_0x402b3c[_0x411798(0xbc2)],_0x39093f='';switch(_0x1cb737){case _0x411798(0x8be):case _0x411798(0xa4d):_0x39093f=_0x402b3c[_0x411798(0xdf0)][_0x411798(0xa15)]((_0x43c218,_0x7f1bdd)=>_0x411798(0x7e2)+_0x7f1bdd+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x7f1bdd+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x7f1bdd+'\x22>'+_0x43c218+_0x411798(0x79e))['join']('');break;case'true_false':_0x39093f='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x411798(0xc63):case _0x411798(0x2fc):_0x39093f=_0x411798(0x309);break;case _0x411798(0x700):_0x39093f=_0x411798(0xa67)+_0x402b3c[_0x411798(0x638)][_0x411798(0xa15)](_0xb9aa5b=>_0x411798(0xd26)+_0xb9aa5b+'\x22>'+_0xb9aa5b+_0x411798(0xb03))[_0x411798(0x919)]('')+_0x411798(0x325);break;default:_0x39093f=_0x411798(0x762);break;}studentQuizArea[_0x411798(0x28a)]=_0x411798(0x35c)+(localQuestionIndex+0x1)+_0x411798(0xeac)+currentQuizData['questions']['length']+_0x411798(0xd14)+_0x3059bc+_0x411798(0x406)+(localQuestionIndex+0x1)+'.\x20'+_0x4abfda+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x402b3c[_0x411798(0xf2d)]?_0x411798(0x594)+_0x402b3c[_0x411798(0xf2d)]+_0x411798(0xc6a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x39093f+_0x411798(0xec5),studentQuizArea[_0x411798(0xa1f)]['remove'](_0x411798(0x9d8));if(window[_0x411798(0xeb4)])MathJax['typesetPromise']([studentQuizArea]);document[_0x411798(0xbeb)](_0x411798(0x407))[_0x411798(0x79a)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x4e486f=_0x4ce511,_0x5abc9f=currentQuizData[_0x4e486f(0x7bb)][localQuestionIndex],_0x30e6c7=_0x5abc9f['questionType']||currentQuizData['quizType'];let _0x112e5b=null,_0x3d512b=![];if(_0x30e6c7===_0x4e486f(0xc63)||_0x30e6c7===_0x4e486f(0x2fc)){const _0xf8b96f=document[_0x4e486f(0x2d0)](_0x4e486f(0x4a0));if(!_0xf8b96f||!_0xf8b96f[_0x4e486f(0xc07)][_0x4e486f(0x88c)]()){showMessage(_0x4e486f(0xcf6));return;}_0x112e5b=_0xf8b96f[_0x4e486f(0xc07)][_0x4e486f(0x88c)](),_0x3d512b=await gradeShortAnswer(_0x112e5b,_0x5abc9f);}else{const _0x586476=document[_0x4e486f(0x2d0)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x586476||_0x586476[_0x4e486f(0xc07)]===''){showMessage(_0x4e486f(0x623));return;}_0x112e5b=_0x586476[_0x4e486f(0xc07)];switch(_0x30e6c7){case _0x4e486f(0x4ac):_0x3d512b=_0x112e5b===_0x4e486f(0xdff)===_0x5abc9f[_0x4e486f(0xdec)];break;case'matching_item':_0x3d512b=_0x112e5b===_0x5abc9f[_0x4e486f(0x5c9)];break;default:_0x3d512b=parseInt(_0x112e5b)===_0x5abc9f[_0x4e486f(0xae5)];break;}}const _0x6fcaf4={'questionIndex':localQuestionIndex,'isCorrect':_0x3d512b},_0x46b3bd=userId,_0x1d983={[_0x4e486f(0xe60)+_0x46b3bd+_0x4e486f(0xa64)]:arrayUnion(_0x6fcaf4)};_0x3d512b&&(_0x1d983[_0x4e486f(0xe60)+_0x46b3bd+_0x4e486f(0xc7e)]=increment(0x1));try{await updateDoc(doc(db,_0x4e486f(0xcaf)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x1d983),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions']['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x3e7627){console[_0x4e486f(0xd74)]('Error\x20submitting\x20group\x20answer:',_0x3e7627),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x391b60=_0x4ce511,_0x422716=await getDoc(doc(db,_0x391b60(0xcaf)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x422716[_0x391b60(0x358)]())return;const _0x301e38=_0x422716[_0x391b60(0xbfb)]();if(_0x301e38[_0x391b60(0xaa6)]===_0x391b60(0x4fb)){handleGroupAnswerSubmit();return;}const _0x2a15bb=localTeamPlayers[localPlayerIndex],_0x46825a=currentQuizData[_0x391b60(0x7bb)][localQuestionIndex],_0x4c19ab=_0x46825a['questionType']||currentQuizData[_0x391b60(0xd15)];let _0x279fff=null,_0x9860ef=![];if(_0x4c19ab===_0x391b60(0xc63)||_0x4c19ab===_0x391b60(0x2fc)){const _0x7098a1=document['querySelector'](_0x391b60(0x4a0));if(!_0x7098a1||!_0x7098a1[_0x391b60(0xc07)][_0x391b60(0x88c)]()){showMessage(_0x391b60(0x940));return;}_0x279fff=_0x7098a1[_0x391b60(0xc07)][_0x391b60(0x88c)](),_0x9860ef=await gradeShortAnswer(_0x279fff,_0x46825a);}else{const _0x5aa562=document[_0x391b60(0x2d0)](_0x391b60(0xa6d));if(!_0x5aa562||_0x5aa562['value']===''){showMessage(_0x391b60(0xc97));return;}_0x279fff=_0x5aa562[_0x391b60(0xc07)];switch(_0x4c19ab){case _0x391b60(0x4ac):_0x9860ef=_0x279fff===_0x391b60(0xdff)===_0x46825a[_0x391b60(0xdec)];break;case _0x391b60(0x700):_0x9860ef=_0x279fff===_0x46825a[_0x391b60(0x5c9)];break;default:_0x9860ef=parseInt(_0x279fff)===_0x46825a[_0x391b60(0xae5)];break;}}const _0x419398={'questionIndex':localQuestionIndex,'isCorrect':_0x9860ef,'answerValue':_0x279fff},_0x4a40a6={[_0x391b60(0x2c3)+_0x2a15bb+_0x391b60(0xa64)]:arrayUnion(_0x419398)};_0x9860ef&&(_0x4a40a6[_0x391b60(0x2c3)+_0x2a15bb+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x391b60(0xcaf)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4a40a6),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0xa78b7a){console[_0x391b60(0xd74)](_0x391b60(0x5e0),_0xa78b7a),showMessage(_0x391b60(0x44e));}}async function displayTeamQuizFinalResults(){const _0x27143b=_0x4ce511;studentQuizArea[_0x27143b(0xa1f)][_0x27143b(0x7e0)](_0x27143b(0x9d8)),studentResultArea[_0x27143b(0xa1f)][_0x27143b(0x711)]('hidden');const _0x5bff0c=doc(db,_0x27143b(0xcaf)+appId+_0x27143b(0xd89),currentTeamQuizId),_0xb9c540=await getDoc(_0x5bff0c);if(!_0xb9c540[_0x27143b(0x358)]()){studentResultArea['innerHTML']=_0x27143b(0xb2c);return;}const _0x4d2562=_0xb9c540['data']();let _0x464ad3=[];const _0x45c316=_0x4d2562['mode']||_0x27143b(0xd29);if(_0x45c316==='group'){const _0x2bc2da=_0x4d2562[_0x27143b(0x948)][userId];_0x2bc2da?_0x464ad3=[{'name':_0x27143b(0xba3)+localTeamPlayers['join'](',\x20'),'score':_0x2bc2da[_0x27143b(0x9c2)]||0x0}]:_0x464ad3=[{'name':_0x27143b(0x5e4),'score':'N/A'}];}else _0x464ad3=localTeamPlayers[_0x27143b(0xa15)](_0x2e563b=>({'name':_0x2e563b,'score':_0x4d2562[_0x27143b(0x2b9)][_0x2e563b]?.[_0x27143b(0x9c2)]||0x0}))[_0x27143b(0x2b3)]((_0x5d43e6,_0x443b32)=>_0x443b32[_0x27143b(0x9c2)]-_0x5d43e6['score']);studentResultArea[_0x27143b(0x28a)]=_0x27143b(0x209)+_0x464ad3[_0x27143b(0xa15)](_0x56d782=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x56d782[_0x27143b(0x631)]+_0x27143b(0x341)+_0x56d782[_0x27143b(0x9c2)]+_0x27143b(0x5bd))[_0x27143b(0x919)]('')+_0x27143b(0x718),sessionStorage[_0x27143b(0x822)](_0x27143b(0xaed)),currentMode===_0x27143b(0x203)&&currentTeamQuizId&&setTimeout(()=>{const _0x3982d1=_0x27143b;deleteDoc(doc(db,_0x3982d1(0xcaf)+appId+_0x3982d1(0xd89),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x4ce511(0x9e8),'pinnedProjects':[],'projectView':_0x4ce511(0xd82)};const allMathTopics=[{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x714)},{'category':'จำนวนและการดำเนินการ','name':_0x4ce511(0xb25)},{'category':'จำนวนและการดำเนินการ','name':_0x4ce511(0x331)},{'category':'จำนวนและการดำเนินการ','name':_0x4ce511(0xa7e)},{'category':_0x4ce511(0x3fe),'name':'การบวก'},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x6b9)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x69b)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0xa0a)},{'category':_0x4ce511(0x3fe),'name':'จำนวนเต็มบวก'},{'category':_0x4ce511(0x3fe),'name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x4ce511(0x3ad)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x28e)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x370)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x5e5)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x44a)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x880)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x463)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x2ee)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x668)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0xa0b)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0xbc8)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x262)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0xd2c)},{'category':_0x4ce511(0x3fe),'name':'จำนวนคละ'},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x5f0)},{'category':'จำนวนและการดำเนินการ','name':_0x4ce511(0xd1d)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x283)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0xb47)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0xd3c)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x7db)},{'category':_0x4ce511(0x3fe),'name':'ร้อยละพื้นฐาน'},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x91a)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x645)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x48a)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x8aa)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0x96b)},{'category':_0x4ce511(0x3fe),'name':_0x4ce511(0xb5c)},{'category':_0x4ce511(0xb98),'name':_0x4ce511(0xd21)},{'category':_0x4ce511(0xb98),'name':_0x4ce511(0x613)},{'category':_0x4ce511(0xb98),'name':_0x4ce511(0x96e)},{'category':_0x4ce511(0xb98),'name':_0x4ce511(0x892)},{'category':_0x4ce511(0xb98),'name':_0x4ce511(0x295)},{'category':_0x4ce511(0xb98),'name':_0x4ce511(0xa51)},{'category':'การวัด','name':_0x4ce511(0x9ad)},{'category':'การวัด','name':_0x4ce511(0x33c)},{'category':_0x4ce511(0xb98),'name':_0x4ce511(0x770)},{'category':'การวัด','name':_0x4ce511(0x784)},{'category':'การวัด','name':_0x4ce511(0x5c5)},{'category':'การวัด','name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x4ce511(0xcc1)},{'category':_0x4ce511(0xb98),'name':_0x4ce511(0x23d)},{'category':_0x4ce511(0x8ad),'name':_0x4ce511(0x82d)},{'category':'เรขาคณิต','name':_0x4ce511(0x287)},{'category':_0x4ce511(0x8ad),'name':_0x4ce511(0x781)},{'category':_0x4ce511(0x8ad),'name':_0x4ce511(0x33c)},{'category':'เรขาคณิต','name':_0x4ce511(0xbff)},{'category':_0x4ce511(0x8ad),'name':'ความคล้ายของรูป'},{'category':'เรขาคณิต','name':_0x4ce511(0x551)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x4ce511(0x8ad),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x4ce511(0x8ad),'name':_0x4ce511(0xb56)},{'category':_0x4ce511(0x8ad),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x4ce511(0x8ad),'name':_0x4ce511(0x566)},{'category':_0x4ce511(0x8ad),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x4ce511(0x8ad),'name':_0x4ce511(0x4cb)},{'category':_0x4ce511(0x8ad),'name':_0x4ce511(0xd65)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0x6ae)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4ce511(0xeb8)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0xebb)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4ce511(0x8ee)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0x824)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4ce511(0x732)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4ce511(0x755)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0xaf2)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0xf01)},{'category':_0x4ce511(0x2ef),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0x517)},{'category':_0x4ce511(0x2ef),'name':'สมการยกกำลัง'},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0x98c)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0xdc1)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0x789)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4ce511(0x425)},{'category':_0x4ce511(0x2ef),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0xed3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4ce511(0x4de)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4ce511(0x8cc)},{'category':_0x4ce511(0x2ef),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0x456)},{'category':_0x4ce511(0x2ef),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0xf55)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0x3d4)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0x996)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0xe9f)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0xce1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4ce511(0x90e)},{'category':_0x4ce511(0x2ef),'name':'ฟังก์ชันลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4ce511(0x396)},{'category':_0x4ce511(0x2ef),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0x4ef)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4ce511(0x58f)},{'category':_0x4ce511(0x2ef),'name':_0x4ce511(0x31b)},{'category':_0x4ce511(0x821),'name':_0x4ce511(0xa31)},{'category':_0x4ce511(0x821),'name':_0x4ce511(0xde3)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4ce511(0xd4b)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4ce511(0x2f8)},{'category':_0x4ce511(0x821),'name':_0x4ce511(0x2e9)},{'category':_0x4ce511(0x821),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':'เรขาคณิตวิเคราะห์','name':_0x4ce511(0xee4)},{'category':_0x4ce511(0x821),'name':'วงรี'},{'category':'เรขาคณิตวิเคราะห์','name':_0x4ce511(0x5b0)},{'category':_0x4ce511(0x5b2),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2030°-60°-90°'},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x4ce511(0x5b2),'name':_0x4ce511(0x3e3)},{'category':_0x4ce511(0x5b2),'name':_0x4ce511(0xc4a)},{'category':'ตรีโกณมิติ','name':_0x4ce511(0x3d6)},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x4ce511(0x5b2),'name':_0x4ce511(0x621)},{'category':'ตรีโกณมิติ','name':_0x4ce511(0x4c2)},{'category':_0x4ce511(0x5b2),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x4ce511(0x5b2),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':_0x4ce511(0x240)},{'category':'สถิติและความน่าจะเป็น','name':_0x4ce511(0x2b4)},{'category':'สถิติและความน่าจะเป็น','name':_0x4ce511(0x8d9)},{'category':'สถิติและความน่าจะเป็น','name':_0x4ce511(0x570)},{'category':'สถิติและความน่าจะเป็น','name':'ฮิสโตแกรม'},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0x9bb)},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0x55c)},{'category':'สถิติและความน่าจะเป็น','name':_0x4ce511(0xa27)},{'category':'สถิติและความน่าจะเป็น','name':_0x4ce511(0x50e)},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0x66e)},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0x481)},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0xd68)},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0x82b)},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0x6c1)},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0xa35)},{'category':_0x4ce511(0xd36),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x4ce511(0xd36),'name':'กฎบวกและกฎคูณ'},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0x7a0)},{'category':'สถิติและความน่าจะเป็น','name':_0x4ce511(0xa1c)},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0x99e)},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0x982)},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0xbb7)},{'category':_0x4ce511(0xd36),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x4ce511(0xd36),'name':_0x4ce511(0x7ff)},{'category':_0x4ce511(0xa5e),'name':_0x4ce511(0xeaa)},{'category':_0x4ce511(0xa5e),'name':_0x4ce511(0x41d)},{'category':_0x4ce511(0xa5e),'name':_0x4ce511(0x3d7)},{'category':_0x4ce511(0xa5e),'name':_0x4ce511(0x8e2)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4ce511(0x40e)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4ce511(0xe1f)},{'category':_0x4ce511(0xa5e),'name':_0x4ce511(0xd76)},{'category':'แคลคูลัสเบื้องต้น','name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x4ce511(0xa5e),'name':_0x4ce511(0xe17)},{'category':_0x4ce511(0xa5e),'name':_0x4ce511(0xb38)},{'category':_0x4ce511(0xa5e),'name':_0x4ce511(0x5ef)},{'category':_0x4ce511(0xa5e),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x4ce511(0xa5e),'name':_0x4ce511(0xf31)},{'category':_0x4ce511(0x6c8),'name':_0x4ce511(0xc95)},{'category':_0x4ce511(0x6c8),'name':_0x4ce511(0x70e)},{'category':_0x4ce511(0x6c8),'name':_0x4ce511(0x4e9)},{'category':_0x4ce511(0x6c8),'name':_0x4ce511(0x33e)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4ce511(0xa61)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4ce511(0xa4b)},{'category':_0x4ce511(0x6c8),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x4ce511(0x3ba),'name':_0x4ce511(0x26b)},{'category':_0x4ce511(0x3ba),'name':_0x4ce511(0x943)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4ce511(0x304)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4ce511(0xb00)},{'category':_0x4ce511(0x3ba),'name':_0x4ce511(0xa71)},{'category':_0x4ce511(0x8f4),'name':_0x4ce511(0x49b)},{'category':_0x4ce511(0x8f4),'name':'รูปแบบการให้เหตุผล'},{'category':_0x4ce511(0x8f4),'name':_0x4ce511(0x751)}];function renderTopicCheckboxes(){const _0x1aa4ca=_0x4ce511,_0x4fd58e=document[_0x1aa4ca(0xbeb)](_0x1aa4ca(0xe93));if(!_0x4fd58e)return;const _0x1042d3=allMathTopics,_0x13ad48=customMathTopics[_0x1aa4ca(0xa15)](_0x5769e7=>({'id':_0x5769e7['id'],'category':_0x1aa4ca(0x391),'name':_0x5769e7[_0x1aa4ca(0x631)]})),_0x75fb31=[..._0x1042d3,..._0x13ad48],_0x3dae8a=_0x75fb31[_0x1aa4ca(0x6f2)]((_0x3bafcf,_0x5a1819)=>{const _0x17cf1b=_0x1aa4ca;return!_0x3bafcf[_0x5a1819[_0x17cf1b(0xd75)]]&&(_0x3bafcf[_0x5a1819['category']]=[]),_0x3bafcf[_0x5a1819[_0x17cf1b(0xd75)]]['push'](_0x5a1819),_0x3bafcf;},{});let _0x14c1bf='';const _0x5ca399=['หัวข้อที่สร้างเอง',...Object[_0x1aa4ca(0xafa)](_0x3dae8a)[_0x1aa4ca(0x395)](_0x59f8a5=>_0x59f8a5!==_0x1aa4ca(0x391))];for(const _0x32daf4 of _0x5ca399){if(_0x3dae8a[_0x32daf4]){const _0x3cd45b=_0x32daf4===_0x1aa4ca(0x391),_0x4e1dc6=_0x3cd45b?_0x1aa4ca(0xe58):_0x1aa4ca(0xae6),_0x33004b=_0x3cd45b?_0x1aa4ca(0x5f8):_0x1aa4ca(0x3c5);_0x14c1bf+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x14c1bf+=_0x1aa4ca(0x554)+_0x33004b+_0x1aa4ca(0x91f)+_0x4e1dc6+'\x20mr-2\x22></i>'+_0x32daf4+_0x1aa4ca(0x8d0),_0x3dae8a[_0x32daf4]['forEach'](_0x44aeef=>{const _0x2411be=_0x1aa4ca,_0x406418=!!_0x44aeef['id'],_0x2c1e19=_0x406418?_0x2411be(0x64b)+_0x44aeef['id']+_0x2411be(0x275)+_0x44aeef['id']+_0x2411be(0x9e2)+_0x44aeef['id']+_0x2411be(0xba4)+_0x44aeef['id']+_0x2411be(0x89e):'';_0x14c1bf+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x44aeef['id']||'')+_0x2411be(0xbab)+_0x44aeef[_0x2411be(0x631)]+_0x2411be(0xdcc)+_0x44aeef[_0x2411be(0x631)]+_0x2411be(0x1fd)+(_0x406418?_0x2411be(0x77d)+_0x44aeef[_0x2411be(0x631)]+'\x22>':'')+_0x2411be(0x85b)+_0x2c1e19+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x14c1bf+=_0x1aa4ca(0xc6a);}}_0x4fd58e[_0x1aa4ca(0x28a)]=_0x14c1bf||_0x1aa4ca(0xabf),_0x4fd58e['removeEventListener'](_0x1aa4ca(0xb5d),updateSelectedTopicsCount),_0x4fd58e[_0x1aa4ca(0x79a)](_0x1aa4ca(0xb5d),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x236fef,_0x3ec573){const _0x548a74=_0x4ce511;if(!_0x236fef||!_0x3ec573[_0x548a74(0x88c)]()){showMessage(_0x548a74(0xc31));return;}try{const _0x4956e3=doc(db,_0x548a74(0xcaf)+appId+'/public/data/customMathTopics',_0x236fef);await updateDoc(_0x4956e3,{'name':_0x3ec573[_0x548a74(0x88c)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x223182){console[_0x548a74(0xd74)](_0x548a74(0x5f6),_0x223182),showMessage(_0x548a74(0x7ed));}}function toggleTopicEditMode(_0x179485,_0x8abf09){const _0x141fc9=_0x4ce511;if(!_0x179485)return;const _0x207630=_0x179485[_0x141fc9(0x2d0)](_0x141fc9(0x44d)),_0x42b1e4=_0x179485[_0x141fc9(0x2d0)](_0x141fc9(0xb2b)),_0x799345=_0x179485['querySelector'](_0x141fc9(0x708)),_0x4ca68c=_0x179485[_0x141fc9(0x2d0)](_0x141fc9(0xf12));_0x207630[_0x141fc9(0xa1f)][_0x141fc9(0x4c3)](_0x141fc9(0x9d8),_0x8abf09),_0x42b1e4[_0x141fc9(0xa1f)]['toggle'](_0x141fc9(0x9d8),!_0x8abf09),_0x799345[_0x141fc9(0xa1f)][_0x141fc9(0x4c3)](_0x141fc9(0x9d8),_0x8abf09),_0x4ca68c['classList'][_0x141fc9(0x4c3)](_0x141fc9(0x9d8),!_0x8abf09),_0x8abf09&&(_0x42b1e4[_0x141fc9(0xd7d)](),_0x42b1e4[_0x141fc9(0x362)]());}async function handleStartLiveRace(_0x54653a){const _0x17f061=_0x4ce511;let _0x3ba237=allQuizzes['find'](_0x523bda=>_0x523bda['id']===_0x54653a);if(!_0x3ba237){const _0x8f3342=doc(db,_0x17f061(0xcaf)+appId+_0x17f061(0x24f),_0x54653a),_0x4ed4e2=await getDoc(_0x8f3342);if(!_0x4ed4e2[_0x17f061(0x358)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x3ba237={'id':_0x4ed4e2['id'],..._0x4ed4e2[_0x17f061(0xbfb)]()};}const _0x56d38b=getShuffledQuiz(_0x3ba237);currentQuizData=_0x56d38b;const _0x40c5ed=_0x3ba237[_0x17f061(0xc3a)]||currentProjectId||null,_0x1e21a1=Math[_0x17f061(0x8c6)](0x3e8+Math[_0x17f061(0x3c9)]()*0x2328)[_0x17f061(0x823)]();currentLiveGamePin=_0x1e21a1;try{const _0x1bd6aa=await addDoc(collection(db,'artifacts/'+appId+_0x17f061(0x834)),{'quizId':_0x54653a,'projectId':_0x40c5ed,'status':_0x17f061(0xcb9),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1e21a1,'createdAt':serverTimestamp(),'shuffledQuiz':_0x56d38b});currentLiveGameId=_0x1bd6aa['id'],showAdminLobbyView(_0x1e21a1,_0x3ba237[_0x17f061(0x8ba)]),listenForLiveGameUpdates();}catch(_0x17f6ef){console['error'](_0x17f061(0x7b9),_0x17f6ef),showMessage(_0x17f061(0xc2c));}}function updateSelectedTopicsCount(){const _0x4b962f=_0x4ce511,_0x538510=document[_0x4b962f(0xbeb)](_0x4b962f(0xe93)),_0x8b9ea8=_0x538510[_0x4b962f(0xb02)](_0x4b962f(0xc7f))[_0x4b962f(0x81c)],_0xfbce50=document[_0x4b962f(0xbeb)](_0x4b962f(0xe2a));_0x8b9ea8>0x0?_0xfbce50['textContent']=_0x4b962f(0x278)+_0x8b9ea8+_0x4b962f(0x7bf):_0xfbce50[_0x4b962f(0x211)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x4ce511(0x2ec),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x4ce511(0x4e7),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x4ce511(0xe44),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x4ce511(0xc87),scratchpadPenColor='#000000',scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x17f59f,_0x138735){const _0x563941=_0x4ce511;return Math[_0x563941(0xa8a)](Math[_0x563941(0xb9c)](_0x17f59f['x']-_0x138735['x'],0x2)+Math[_0x563941(0xb9c)](_0x17f59f['y']-_0x138735['y'],0x2));}function getMidpoint(_0x11fb75,_0x356abe){return{'x':(_0x11fb75['x']+_0x356abe['x'])/0x2,'y':(_0x11fb75['y']+_0x356abe['y'])/0x2};}function getTransformedPoint(_0xdba531,_0x11118b){return{'x':(_0xdba531-scratchpadOffset['x'])/scratchpadScale,'y':(_0x11118b-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x4f97e0=_0x4ce511;if(!scratchpadCtx)return;const _0x26b1e2=scratchpadCtx[_0x4f97e0(0x98d)],_0x1c1689=window[_0x4f97e0(0xcc2)]||0x1,_0x119ce0=document[_0x4f97e0(0xbeb)](_0x4f97e0(0xbd9));_0x119ce0&&(_0x119ce0[_0x4f97e0(0xbcb)][_0x4f97e0(0x515)]=_0x4f97e0(0xc74),_0x119ce0['style']['transform']='translate('+scratchpadOffset['x']+_0x4f97e0(0xb97)+scratchpadOffset['y']+_0x4f97e0(0x94e)+scratchpadScale+')'),scratchpadCtx[_0x4f97e0(0x912)](),scratchpadCtx['setTransform'](_0x1c1689,0x0,0x0,_0x1c1689,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x26b1e2[_0x4f97e0(0x52d)],_0x26b1e2[_0x4f97e0(0x8bb)]),scratchpadCtx[_0x4f97e0(0xdc8)](),scratchpadCtx[_0x4f97e0(0x912)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x4f97e0(0xb51)](scratchpadScale,scratchpadScale),strokes[_0x4f97e0(0xbd3)](_0xe57c3=>{drawStroke(_0xe57c3);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x4f97e0(0xdc8)]();}function renderGroupModeQuestion(){const _0x2fbcd3=_0x4ce511;if(localQuestionIndex>=currentQuizData[_0x2fbcd3(0x7bb)]['length']){displayTeamQuizFinalResults();return;}const _0x56f54d=currentQuizData[_0x2fbcd3(0x7bb)][localQuestionIndex],_0x2becfb=_0x56f54d['questionType']||currentQuizData[_0x2fbcd3(0xd15)];let _0x197c19=_0x56f54d['stem']||_0x56f54d[_0x2fbcd3(0xbc2)],_0x3119dd='';switch(_0x2becfb){case'multiple_choice':case _0x2fbcd3(0xa4d):_0x3119dd=_0x56f54d[_0x2fbcd3(0xdf0)]['map']((_0x2de9d5,_0x1b5e32)=>_0x2fbcd3(0x7e2)+_0x1b5e32+_0x2fbcd3(0x3d5)+_0x1b5e32+_0x2fbcd3(0x512)+_0x1b5e32+'\x22>'+_0x2de9d5+_0x2fbcd3(0x79e))[_0x2fbcd3(0x919)]('');break;case _0x2fbcd3(0x4ac):_0x3119dd=_0x2fbcd3(0x697);break;case _0x2fbcd3(0xc63):case _0x2fbcd3(0x2fc):_0x3119dd=_0x2fbcd3(0xc62);break;case _0x2fbcd3(0x700):_0x3119dd=_0x2fbcd3(0xa67)+_0x56f54d[_0x2fbcd3(0x638)][_0x2fbcd3(0xa15)](_0x2eb3b7=>_0x2fbcd3(0xd26)+_0x2eb3b7+'\x22>'+_0x2eb3b7+_0x2fbcd3(0xb03))[_0x2fbcd3(0x919)]('')+_0x2fbcd3(0x325);break;default:_0x3119dd=_0x2fbcd3(0x762);break;}studentQuizArea[_0x2fbcd3(0x28a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x2fbcd3(0xeac)+currentQuizData['questions'][_0x2fbcd3(0x81c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x2fbcd3(0x919)](',\x20')+_0x2fbcd3(0x406)+(localQuestionIndex+0x1)+'.\x20'+_0x197c19+_0x2fbcd3(0xdac)+(_0x56f54d[_0x2fbcd3(0xf2d)]?_0x2fbcd3(0x594)+_0x56f54d['imageCode']+_0x2fbcd3(0xc6a):'')+_0x2fbcd3(0xc18)+_0x3119dd+_0x2fbcd3(0xef5),studentQuizArea[_0x2fbcd3(0xa1f)][_0x2fbcd3(0x711)](_0x2fbcd3(0x9d8));if(window[_0x2fbcd3(0xeb4)])MathJax[_0x2fbcd3(0x61b)]([studentQuizArea]);document[_0x2fbcd3(0xbeb)](_0x2fbcd3(0x2d7))[_0x2fbcd3(0x79a)](_0x2fbcd3(0xc64),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x30a0c1,_0x54f63d=null,_0x498730,_0x43e8d5=null,_0x578ff3=![],_0x1943e9=null){const _0x3585bf=_0x4ce511,_0x1e8214=document['getElementById']('quiz-generation-area');_0x1e8214&&_0x1e8214[_0x3585bf(0xadf)]({'behavior':_0x3585bf(0x6d4),'block':_0x3585bf(0x590)}),generateQuiz(_0x30a0c1,_0x54f63d,null,_0x1943e9,!![],_0x498730,_0x43e8d5,_0x578ff3);}function handleGenerateAndShowLesson(_0x168cd4,_0x2e4cf2){const _0xa0d1ff=_0x4ce511,_0x2d3c45=document['getElementById'](_0xa0d1ff(0xc4e)),_0x62ea89=document[_0xa0d1ff(0xbeb)]('lesson-view-title'),_0x5177a5=document[_0xa0d1ff(0xbeb)](_0xa0d1ff(0x257)),_0x1ec7d0=document['getElementById'](_0xa0d1ff(0x7c2));['pointContent',_0xa0d1ff(0x1d6),_0xa0d1ff(0x591),_0xa0d1ff(0xd9b)][_0xa0d1ff(0xbd3)](_0x123bdb=>{const _0x558a1e=_0xa0d1ff,_0x142cb3=document[_0x558a1e(0xbeb)](_0x123bdb)[_0x558a1e(0x27b)];_0x142cb3&&(_0x142cb3[_0x558a1e(0xbcb)]['display']=_0x558a1e(0x797));}),_0x62ea89['textContent']=_0xa0d1ff(0xcc6)+_0x168cd4,_0x1ec7d0[_0xa0d1ff(0xa1f)][_0xa0d1ff(0x7e0)](_0xa0d1ff(0x9d8)),_0x5177a5[_0xa0d1ff(0xa1f)][_0xa0d1ff(0x711)](_0xa0d1ff(0x9d8)),_0x2d3c45[_0xa0d1ff(0xa1f)]['remove'](_0xa0d1ff(0x9d8)),generateLesson(_0x168cd4,_0x2e4cf2)[_0xa0d1ff(0x7d9)](_0x58bb4e=>{const _0x3bf04e=_0xa0d1ff;console[_0x3bf04e(0xd74)](_0x3bf04e(0xcd8),_0x58bb4e),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x2d3c45['classList'][_0x3bf04e(0x7e0)](_0x3bf04e(0x9d8));});}function handlePointerDown(_0x2c0d0b){const _0xf8f66b=_0x4ce511;_0x2c0d0b[_0xf8f66b(0xcaa)]();const _0x228277=scratchpadCtx['canvas'],_0x119fce=_0x228277['getBoundingClientRect'](),_0x146bcb=_0x2c0d0b['pointerType']||(_0x2c0d0b[_0xf8f66b(0x84d)]?_0xf8f66b(0x488):_0xf8f66b(0x20a));if(_0x146bcb===_0xf8f66b(0xc87)||_0x146bcb===_0xf8f66b(0x20a)){if(_0x2c0d0b['pointerType']===_0xf8f66b(0x20a)&&_0x2c0d0b[_0xf8f66b(0x6c0)]!==0x0){_0x2c0d0b[_0xf8f66b(0x6c0)]===0x1&&(isMousePanning=!![],panStart={'x':_0x2c0d0b[_0xf8f66b(0xb7b)],'y':_0x2c0d0b[_0xf8f66b(0x64a)]},_0x228277[_0xf8f66b(0xbcb)][_0xf8f66b(0x76e)]=_0xf8f66b(0xc1a));return;}activeTool===_0xf8f66b(0x712)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x54dfdc=getTransformedPoint(_0x2c0d0b['clientX']-_0x119fce[_0xf8f66b(0x205)],_0x2c0d0b[_0xf8f66b(0x64a)]-_0x119fce['top']);let _0x5aed9e={'tool':activeTool,'points':[_0x54dfdc]};if(activeTool==='pen')_0x5aed9e['color']=scratchpadPenColor,_0x5aed9e[_0xf8f66b(0x72f)]=scratchpadPenSize;else{if(activeTool===_0xf8f66b(0x2de))_0x5aed9e[_0xf8f66b(0xa66)]=scratchpadPenColor,_0x5aed9e['size']=scratchpadEraserSize;else{if(activeTool==='highlighter')_0x5aed9e[_0xf8f66b(0xa66)]=scratchpadHighlighterColor,_0x5aed9e[_0xf8f66b(0x72f)]=scratchpadHighlighterSize;else activeTool===_0xf8f66b(0x712)&&(_0x5aed9e[_0xf8f66b(0xa66)]=scratchpadPenColor,_0x5aed9e[_0xf8f66b(0x72f)]=scratchpadPenSize);}}currentStroke=_0x5aed9e;}else _0x2c0d0b[_0xf8f66b(0x84d)]&&(_0x2c0d0b['touches'][_0xf8f66b(0x81c)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2c0d0b[_0xf8f66b(0x84d)][0x0]['clientX'],'y':_0x2c0d0b[_0xf8f66b(0x84d)][0x0]['clientY']},{'x':_0x2c0d0b[_0xf8f66b(0x84d)][0x1][_0xf8f66b(0xb7b)],'y':_0x2c0d0b[_0xf8f66b(0x84d)][0x1][_0xf8f66b(0x64a)]}),initialPinchDistance=getDistance({'x':_0x2c0d0b[_0xf8f66b(0x84d)][0x0][_0xf8f66b(0xb7b)],'y':_0x2c0d0b['touches'][0x0][_0xf8f66b(0x64a)]},{'x':_0x2c0d0b[_0xf8f66b(0x84d)][0x1]['clientX'],'y':_0x2c0d0b['touches'][0x1][_0xf8f66b(0x64a)]})));}function animateTrail(){const _0xa65ff9=_0x4ce511,_0xf62dbb=Date[_0xa65ff9(0xced)]();let _0x517890=![];for(let _0x454acf=strokes['length']-0x1;_0x454acf>=0x0;_0x454acf--){const _0x3c9581=strokes[_0x454acf];if(_0x3c9581['tool']===_0xa65ff9(0x712)&&_0x3c9581['fadeStartTime']){const _0x1e9f57=_0xf62dbb-_0x3c9581[_0xa65ff9(0x5c1)];_0x1e9f57>=TRAIL_DURATION?strokes[_0xa65ff9(0x355)](_0x454acf,0x1):(_0x3c9581['opacity']=0x1-_0x1e9f57/TRAIL_DURATION,_0x517890=!![]);}}redrawScratchpad(),_0x517890?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x492b08){const _0x287ddb=_0x4ce511;if(!_0x492b08||_0x492b08['points'][_0x287ddb(0x81c)]<0x1)return;scratchpadCtx[_0x287ddb(0x912)](),scratchpadCtx[_0x287ddb(0xb6b)]=_0x287ddb(0xe7c),scratchpadCtx[_0x287ddb(0x580)]=_0x287ddb(0xe7c);if(_0x492b08[_0x287ddb(0xae2)]===_0x287ddb(0x712)){const _0x3cf718=_0x492b08[_0x287ddb(0x72f)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x492b08[_0x287ddb(0xe67)]??0x1,scratchpadCtx[_0x287ddb(0x78b)]=_0x287ddb(0x743),scratchpadCtx[_0x287ddb(0x5b7)]=_0x3cf718*0x3,scratchpadCtx[_0x287ddb(0xe98)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x287ddb(0x583)]=_0x3cf718*2.5,scratchpadCtx[_0x287ddb(0xbc6)](),scratchpadCtx[_0x287ddb(0xacb)](_0x492b08[_0x287ddb(0x636)][0x0]['x'],_0x492b08[_0x287ddb(0x636)][0x0]['y']);for(let _0xb7b013=0x1;_0xb7b013<_0x492b08[_0x287ddb(0x636)][_0x287ddb(0x81c)]-0x1;_0xb7b013++){const _0x43ce79=getMidpoint(_0x492b08[_0x287ddb(0x636)][_0xb7b013],_0x492b08[_0x287ddb(0x636)][_0xb7b013+0x1]);scratchpadCtx['quadraticCurveTo'](_0x492b08[_0x287ddb(0x636)][_0xb7b013]['x'],_0x492b08[_0x287ddb(0x636)][_0xb7b013]['y'],_0x43ce79['x'],_0x43ce79['y']);}scratchpadCtx[_0x287ddb(0x5da)](),scratchpadCtx[_0x287ddb(0x78b)]='transparent',scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x287ddb(0xe98)]=_0x287ddb(0x435),scratchpadCtx[_0x287ddb(0x583)]=_0x3cf718,scratchpadCtx[_0x287ddb(0x5da)](),scratchpadCtx['closePath']();}else{if(_0x492b08[_0x287ddb(0xae2)]===_0x287ddb(0x8a0)){scratchpadCtx['globalCompositeOperation']='multiply',scratchpadCtx[_0x287ddb(0xe98)]=_0x492b08[_0x287ddb(0xa66)],scratchpadCtx['lineWidth']=_0x492b08[_0x287ddb(0x72f)],scratchpadCtx[_0x287ddb(0xbc6)](),scratchpadCtx[_0x287ddb(0xacb)](_0x492b08[_0x287ddb(0x636)][0x0]['x'],_0x492b08[_0x287ddb(0x636)][0x0]['y']);for(let _0x4683a7=0x1;_0x4683a7<_0x492b08[_0x287ddb(0x636)][_0x287ddb(0x81c)]-0x1;_0x4683a7++){const _0x109623=getMidpoint(_0x492b08[_0x287ddb(0x636)][_0x4683a7],_0x492b08[_0x287ddb(0x636)][_0x4683a7+0x1]);scratchpadCtx[_0x287ddb(0xa96)](_0x492b08[_0x287ddb(0x636)][_0x4683a7]['x'],_0x492b08[_0x287ddb(0x636)][_0x4683a7]['y'],_0x109623['x'],_0x109623['y']);}scratchpadCtx[_0x287ddb(0x5da)](),scratchpadCtx[_0x287ddb(0x6f1)]();}else{scratchpadCtx[_0x287ddb(0x849)]=_0x492b08[_0x287ddb(0xae2)]===_0x287ddb(0x2de)?_0x287ddb(0xc2a):'source-over',scratchpadCtx['strokeStyle']=_0x492b08[_0x287ddb(0xa66)],scratchpadCtx[_0x287ddb(0x583)]=_0x492b08[_0x287ddb(0x72f)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x287ddb(0xacb)](_0x492b08['points'][0x0]['x'],_0x492b08[_0x287ddb(0x636)][0x0]['y']);for(let _0x1bd730=0x1;_0x1bd730<_0x492b08[_0x287ddb(0x636)][_0x287ddb(0x81c)]-0x1;_0x1bd730++){const _0x320462=getMidpoint(_0x492b08[_0x287ddb(0x636)][_0x1bd730],_0x492b08[_0x287ddb(0x636)][_0x1bd730+0x1]);scratchpadCtx[_0x287ddb(0xa96)](_0x492b08[_0x287ddb(0x636)][_0x1bd730]['x'],_0x492b08['points'][_0x1bd730]['y'],_0x320462['x'],_0x320462['y']);}scratchpadCtx[_0x287ddb(0x5da)](),scratchpadCtx[_0x287ddb(0x6f1)]();}}scratchpadCtx[_0x287ddb(0xdc8)]();}function handlePointerMove(_0x35d9cb){const _0x2b9f39=_0x4ce511;_0x35d9cb[_0x2b9f39(0xcaa)]();const _0x164ec9=scratchpadCtx[_0x2b9f39(0x98d)],_0x1a925a=_0x164ec9['getBoundingClientRect']();if(_0x35d9cb[_0x2b9f39(0x84d)]){if(_0x35d9cb['touches'][_0x2b9f39(0x81c)]===0x1&&isDrawingOnScratchpad){const _0x3303ec=getTransformedPoint(_0x35d9cb[_0x2b9f39(0x84d)][0x0][_0x2b9f39(0xb7b)]-_0x1a925a['left'],_0x35d9cb['touches'][0x0]['clientY']-_0x1a925a[_0x2b9f39(0xdaf)]);currentStroke[_0x2b9f39(0x636)][_0x2b9f39(0x9ba)](_0x3303ec),redrawScratchpad();}else{if(_0x35d9cb[_0x2b9f39(0x84d)][_0x2b9f39(0x81c)]===0x2&&isPanning){const _0x386f26=getDistance({'x':_0x35d9cb[_0x2b9f39(0x84d)][0x0][_0x2b9f39(0xb7b)],'y':_0x35d9cb[_0x2b9f39(0x84d)][0x0][_0x2b9f39(0x64a)]},{'x':_0x35d9cb['touches'][0x1]['clientX'],'y':_0x35d9cb[_0x2b9f39(0x84d)][0x1][_0x2b9f39(0x64a)]}),_0x337e68=getMidpoint({'x':_0x35d9cb[_0x2b9f39(0x84d)][0x0][_0x2b9f39(0xb7b)],'y':_0x35d9cb[_0x2b9f39(0x84d)][0x0]['clientY']},{'x':_0x35d9cb[_0x2b9f39(0x84d)][0x1][_0x2b9f39(0xb7b)],'y':_0x35d9cb[_0x2b9f39(0x84d)][0x1][_0x2b9f39(0x64a)]}),_0x309fce=_0x386f26/ initialPinchDistance,_0xfb3a73=Math[_0x2b9f39(0x67d)](Math[_0x2b9f39(0xddc)](scratchpadScale*_0x309fce,MIN_SCALE),MAX_SCALE),_0x3122ae=_0x337e68['x']-panStart['x'],_0x1f57df=_0x337e68['y']-panStart['y'];scratchpadOffset['x']=_0x337e68['x']-(_0x337e68['x']-scratchpadOffset['x'])*(_0xfb3a73/scratchpadScale),scratchpadOffset['y']=_0x337e68['y']-(_0x337e68['y']-scratchpadOffset['y'])*(_0xfb3a73/scratchpadScale),scratchpadOffset['x']+=_0x3122ae,scratchpadOffset['y']+=_0x1f57df,scratchpadScale=_0xfb3a73,initialPinchDistance=_0x386f26,panStart=_0x337e68,redrawScratchpad();}}}else{if(isMousePanning){const _0xdfc5c0=_0x35d9cb['clientX']-panStart['x'],_0x44fb73=_0x35d9cb[_0x2b9f39(0x64a)]-panStart['y'];scratchpadOffset['x']+=_0xdfc5c0,scratchpadOffset['y']+=_0x44fb73,panStart={'x':_0x35d9cb[_0x2b9f39(0xb7b)],'y':_0x35d9cb[_0x2b9f39(0x64a)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x198537=getTransformedPoint(_0x35d9cb[_0x2b9f39(0xb7b)]-_0x1a925a[_0x2b9f39(0x205)],_0x35d9cb[_0x2b9f39(0x64a)]-_0x1a925a['top']);currentStroke['points'][_0x2b9f39(0x9ba)](_0x198537),redrawScratchpad();}}}}function handlePointerUp(_0x3ad6f5){const _0x5682e1=_0x4ce511;_0x3ad6f5[_0x5682e1(0xcaa)]();const _0x56b9e6=scratchpadCtx[_0x5682e1(0x98d)];isMousePanning&&(isMousePanning=![],_0x56b9e6[_0x5682e1(0xbcb)][_0x5682e1(0x76e)]=_0x5682e1(0xaf3)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x5682e1(0x636)]['length']>0x1&&(strokes[_0x5682e1(0x9ba)](currentStroke),currentStroke[_0x5682e1(0xae2)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0xe7128c=_0x5682e1,_0x593619=strokes[_0xe7128c(0x395)](_0x44c598=>_0x44c598[_0xe7128c(0xae2)]==='trail'&&!_0x44c598[_0xe7128c(0x5c1)]);if(_0x593619[_0xe7128c(0x81c)]>0x0){const _0x2db75c=Date[_0xe7128c(0xced)]();_0x593619[_0xe7128c(0xbd3)](_0x29d499=>_0x29d499[_0xe7128c(0x5c1)]=_0x2db75c),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1af9bf){const _0x436499=_0x4ce511;_0x1af9bf[_0x436499(0xcaa)]();const _0x1a26c7=_0x1af9bf[_0x436499(0x9d1)]*-0.005,_0x3d47f=Math[_0x436499(0x67d)](Math[_0x436499(0xddc)](scratchpadScale+_0x1a26c7,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1af9bf[_0x436499(0xb7b)]-(_0x1af9bf[_0x436499(0xb7b)]-scratchpadOffset['x'])*(_0x3d47f/scratchpadScale),scratchpadOffset['y']=_0x1af9bf[_0x436499(0x64a)]-(_0x1af9bf[_0x436499(0x64a)]-scratchpadOffset['y'])*(_0x3d47f/scratchpadScale),scratchpadScale=_0x3d47f,redrawScratchpad();}function undo(){const _0x27a937=_0x4ce511;strokes[_0x27a937(0x81c)]>0x0&&(redoStrokes[_0x27a937(0x9ba)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x183e2a=_0x4ce511;redoStrokes['length']>0x0&&(strokes[_0x183e2a(0x9ba)](redoStrokes[_0x183e2a(0x234)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x349691=_0x4ce511;document['getElementById']('undo-btn')['disabled']=strokes['length']===0x0,document[_0x349691(0xbeb)](_0x349691(0xa38))[_0x349691(0x272)]=redoStrokes['length']===0x0;}function openScratchpad(_0x212218,_0x18c9ea){const _0x4a8af5=_0x4ce511,_0x47fbb0=document[_0x4a8af5(0xbeb)](_0x4a8af5(0x4bc)),_0xf70f13=document[_0x4a8af5(0xbeb)](_0x4a8af5(0x55e)),_0x1a0889=document[_0x4a8af5(0xbeb)]('scratchpad-options'),_0x3ec957=document[_0x4a8af5(0xbeb)]('scratchpad-controls');_0xf70f13[_0x4a8af5(0x28a)]=_0x212218[_0x4a8af5(0x4dd)]||_0x212218[_0x4a8af5(0xbc2)],_0x1a0889[_0x4a8af5(0x28a)]=_0x18c9ea[_0x4a8af5(0xa15)]((_0x46d387,_0x28f2b2)=>_0x4a8af5(0x756)+String[_0x4a8af5(0x540)](0x41+_0x28f2b2)+'.\x20'+_0x46d387+_0x4a8af5(0xc6a))[_0x4a8af5(0x919)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x47fbb0[_0x4a8af5(0xa1f)][_0x4a8af5(0x711)](_0x4a8af5(0x9d8)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x4a8af5(0xeb4)])MathJax[_0x4a8af5(0x61b)]([_0xf70f13,_0x1a0889]);}function openBlueprintQuizSettings(){const _0x111433=_0x4ce511,_0x27a82a=document[_0x111433(0xbeb)](_0x111433(0xf26)),_0x4767c7=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x111433(0xbeb)](_0x111433(0xb07))['value']=_0x4767c7[_0x111433(0xd15)]||document['getElementById'](_0x111433(0xdad))[_0x111433(0xc07)],document[_0x111433(0xbeb)](_0x111433(0xd51))[_0x111433(0x28a)]=document[_0x111433(0xbeb)](_0x111433(0x63f))[_0x111433(0x28a)],document['getElementById'](_0x111433(0xd51))[_0x111433(0xc07)]=_0x4767c7[_0x111433(0x25d)]||document[_0x111433(0xbeb)](_0x111433(0x63f))[_0x111433(0xc07)],document[_0x111433(0xbeb)](_0x111433(0x82f))[_0x111433(0x28a)]=document[_0x111433(0xbeb)](_0x111433(0xc69))[_0x111433(0x28a)],document['getElementById']('bp-modal-question-complexity-select')[_0x111433(0xc07)]=_0x4767c7[_0x111433(0xeba)]||document[_0x111433(0xbeb)]('question-complexity-select')[_0x111433(0xc07)],document[_0x111433(0xbeb)](_0x111433(0x8cd))['value']=_0x4767c7[_0x111433(0xf2b)]||document[_0x111433(0xbeb)](_0x111433(0x701))[_0x111433(0xc07)],document[_0x111433(0xbeb)](_0x111433(0xc4b))['value']=_0x4767c7[_0x111433(0x2b5)]||document[_0x111433(0xbeb)]('passing-score-input')[_0x111433(0xc07)],document[_0x111433(0xbeb)](_0x111433(0xf21))[_0x111433(0xc07)]=_0x4767c7['numChoices']||document[_0x111433(0xbeb)]('num-choices')[_0x111433(0xc07)],document['getElementById'](_0x111433(0x1f6))[_0x111433(0xc07)]=_0x4767c7[_0x111433(0xd3a)]||document[_0x111433(0xbeb)](_0x111433(0xdaa))['value'],document['getElementById']('bp-modal-include-images-checkbox')[_0x111433(0x375)]=_0x4767c7[_0x111433(0x890)]||document[_0x111433(0xbeb)](_0x111433(0xe28))['checked'],_0x27a82a[_0x111433(0xa1f)][_0x111433(0x711)](_0x111433(0x9d8));}function handleSaveBlueprintPageSettings(){const _0x54c78c=_0x4ce511;blueprintPageSettings={'quizType':document['getElementById'](_0x54c78c(0xb07))[_0x54c78c(0xc07)],'difficultyValue':document[_0x54c78c(0xbeb)](_0x54c78c(0xd51))[_0x54c78c(0xc07)],'complexityValue':document[_0x54c78c(0xbeb)](_0x54c78c(0x82f))[_0x54c78c(0xc07)],'numQuestions':document[_0x54c78c(0xbeb)]('bp-modal-num-questions')[_0x54c78c(0xc07)],'passingScore':document[_0x54c78c(0xbeb)](_0x54c78c(0xc4b))['value'],'numChoices':document[_0x54c78c(0xbeb)](_0x54c78c(0xf21))['value'],'shuffle':document[_0x54c78c(0xbeb)]('bp-modal-shuffle-setting-select')[_0x54c78c(0xc07)],'includeImages':document[_0x54c78c(0xbeb)](_0x54c78c(0xa98))['checked']},showMessage(_0x54c78c(0xcf1)),document[_0x54c78c(0xbeb)](_0x54c78c(0xf26))['classList'][_0x54c78c(0x7e0)]('hidden');}function listenForParallelTestShortcuts(){const _0x42d46c=_0x4ce511,_0xf31782=doc(db,_0x42d46c(0xc3f),_0x42d46c(0x1cf));onSnapshot(_0xf31782,_0x2e662b=>{const _0x1d3fab=_0x42d46c;let _0x134465=[],_0x246de9=[],_0x2a62c8={};if(_0x2e662b[_0x1d3fab(0x358)]()){const _0x48154b=_0x2e662b[_0x1d3fab(0xbfb)]();_0x134465=_0x48154b[_0x1d3fab(0xc57)]||[],_0x246de9=_0x48154b[_0x1d3fab(0x2ba)]||[],_0x2a62c8=_0x48154b[_0x1d3fab(0x4b3)]||{};}!_0x246de9['find'](_0x1ac1c1=>_0x1ac1c1['id']===_0x1d3fab(0x408))&&_0x246de9[_0x1d3fab(0xcc4)]({'id':'all','name':_0x1d3fab(0x4f4),'isDefault':!![]}),!_0x134465[_0x1d3fab(0x340)](_0x338656=>_0x338656['id']===_0x1d3fab(0x235))&&_0x134465[_0x1d3fab(0xcc4)]({'id':_0x1d3fab(0x235),'name':_0x1d3fab(0xe7d),'url':'','isDefault':!![]}),!_0x134465[_0x1d3fab(0x340)](_0x44589e=>_0x44589e['id']===_0x1d3fab(0x86f))&&_0x134465[_0x1d3fab(0xcc4)]({'id':_0x1d3fab(0x86f),'name':_0x1d3fab(0x9e5),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x134465,parallelShortcutTabs=_0x246de9,parallelShortcutOrder=_0x2a62c8,renderParallelTestShortcuts(),!document[_0x1d3fab(0xbeb)](_0x1d3fab(0x364))[_0x1d3fab(0xa1f)][_0x1d3fab(0xa3f)](_0x1d3fab(0x9d8))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x179ed7=_0x4ce511,_0x58f92f=doc(db,_0x179ed7(0xc3f),_0x179ed7(0x1cf));try{await setDoc(_0x58f92f,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x415efe){console[_0x179ed7(0xd74)](_0x179ed7(0x963),_0x415efe);}}function renderAdditionalParallelShortcutsModal(){const _0x30f564=_0x4ce511,_0x133fb0=document[_0x30f564(0xbeb)]('parallel-shortcut-tabs-nav'),_0x50a156=document[_0x30f564(0xbeb)](_0x30f564(0x7fb));if(!_0x133fb0||!_0x50a156)return;_0x133fb0[_0x30f564(0x28a)]=parallelShortcutTabs[_0x30f564(0xa15)](_0x224154=>{const _0x129431=_0x30f564,_0x4fbf4e=_0x224154['id']===activeParallelShortcutTabId;return _0x129431(0x5ce)+_0x224154['id']+_0x129431(0xa7b)+(_0x4fbf4e?_0x129431(0x935):_0x129431(0xf40))+_0x129431(0x373)+_0x224154[_0x129431(0x631)]+_0x129431(0xe03)+_0x224154['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x224154[_0x129431(0x83d)]?_0x129431(0x23c)+_0x224154['id']+_0x129431(0x592):'')+_0x129431(0x9c9);})[_0x30f564(0x919)]('');const _0x36359e=parallelShortcutTabs['find'](_0x2e9111=>_0x2e9111['id']===activeParallelShortcutTabId);let _0x3fd6e4=_0x36359e?.[_0x30f564(0x83d)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x48e414=>(_0x36359e?.[_0x30f564(0x78c)]||[])[_0x30f564(0x87a)](_0x48e414['id']));const _0x3bfdf7=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x3fd6e4['sort']((_0x17dc5b,_0x3b6502)=>{const _0x3cbe6a=_0x30f564,_0x5fbc89=_0x3bfdf7[_0x3cbe6a(0xf23)](_0x17dc5b['id']),_0x4916e6=_0x3bfdf7[_0x3cbe6a(0xf23)](_0x3b6502['id']);return(_0x5fbc89===-0x1?Infinity:_0x5fbc89)-(_0x4916e6===-0x1?Infinity:_0x4916e6);}),_0x50a156[_0x30f564(0x28a)]=_0x3fd6e4[_0x30f564(0xa15)](_0x4578e9=>{const _0x49d6b7=_0x30f564,_0x2b68c7=_0x4578e9[_0x49d6b7(0xe65)]?'🔁':'🔗',_0x33b43d=parallelShortcutTabs[_0x49d6b7(0x395)](_0x338deb=>!_0x338deb[_0x49d6b7(0x83d)]),_0x8f8c03=_0x36359e[_0x49d6b7(0x83d)]&&_0x33b43d[_0x49d6b7(0x81c)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33b43d[_0x49d6b7(0xa15)](_0x366305=>_0x49d6b7(0x96d)+_0x4578e9['id']+_0x49d6b7(0x297)+_0x366305['id']+'\x22>'+_0x366305[_0x49d6b7(0x631)]+'</a>')[_0x49d6b7(0x919)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x49d6b7(0xd99)+_0x4578e9['id']+_0x49d6b7(0x4f5)+_0x2b68c7+'\x20'+_0x4578e9['name']+_0x49d6b7(0xdbf)+_0x4578e9['id']+_0x49d6b7(0xf09)+_0x4578e9['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4578e9[_0x49d6b7(0x83d)]?'<button\x20data-id=\x22'+_0x4578e9['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x49d6b7(0x337)+(!_0x36359e['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x4578e9['id']+_0x49d6b7(0xaba):'')+_0x49d6b7(0x337)+_0x8f8c03+_0x49d6b7(0xf19);})[_0x30f564(0x919)]('')||_0x30f564(0x474),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x37d667=_0x4ce511;document[_0x37d667(0xb02)](_0x37d667(0x702))[_0x37d667(0xbd3)](_0x317f3c=>{const _0x362a08=_0x37d667;_0x317f3c['onclick']=_0x42067c=>{const _0x13d36d=_0x5a5c;activeParallelShortcutTabId=_0x42067c[_0x13d36d(0xb60)][_0x13d36d(0x6b1)][_0x13d36d(0x9ee)],renderAdditionalParallelShortcutsModal();},_0x317f3c[_0x362a08(0xccf)]=_0x1c89ec=>{const _0x13f633=_0x362a08,_0x3d1b0a=_0x1c89ec['currentTarget'][_0x13f633(0x2d0)](_0x13f633(0x577));_0x1c89ec[_0x13f633(0xb60)]['querySelector'](_0x13f633(0x4ee))['classList'][_0x13f633(0x7e0)](_0x13f633(0x9d8)),_0x3d1b0a[_0x13f633(0xa1f)][_0x13f633(0x711)]('hidden'),_0x3d1b0a['focus'](),_0x3d1b0a['select']();};}),document[_0x37d667(0xb02)](_0x37d667(0x589))[_0x37d667(0xbd3)](_0x400d6d=>{const _0x1c17cd=_0x37d667,_0x54308c=()=>{const _0x581207=_0x5a5c,_0x483f5b=_0x400d6d[_0x581207(0x253)]('.parallel-shortcut-tab-btn')[_0x581207(0x6b1)][_0x581207(0x9ee)],_0x2a72fa=parallelShortcutTabs[_0x581207(0x340)](_0x5b18c1=>_0x5b18c1['id']===_0x483f5b);_0x2a72fa&&(_0x2a72fa[_0x581207(0x631)]=_0x400d6d[_0x581207(0xc07)][_0x581207(0x88c)]()||_0x2a72fa[_0x581207(0x631)],saveParallelShortcutConfig());};_0x400d6d['onblur']=_0x54308c,_0x400d6d[_0x1c17cd(0xcb1)]=_0x37fc46=>{const _0x411039=_0x1c17cd;if(_0x37fc46[_0x411039(0x7a4)]===_0x411039(0xee0))_0x400d6d[_0x411039(0x5ab)]();};}),document['querySelectorAll'](_0x37d667(0xe90))[_0x37d667(0xbd3)](_0x557adf=>_0x557adf[_0x37d667(0x810)]=_0x5b62f4=>{const _0x195e00=_0x37d667,_0x322f2e=_0x5b62f4[_0x195e00(0xb60)][_0x195e00(0x6b1)][_0x195e00(0x9ee)];showConfirmation(_0x195e00(0x401),()=>{const _0x13ba4d=_0x195e00;parallelShortcutTabs=parallelShortcutTabs[_0x13ba4d(0x395)](_0x4b6cdb=>_0x4b6cdb['id']!==_0x322f2e),delete parallelShortcutOrder[_0x322f2e];if(activeParallelShortcutTabId===_0x322f2e)activeParallelShortcutTabId=_0x13ba4d(0x408);saveParallelShortcutConfig();});}),document[_0x37d667(0xb02)](_0x37d667(0x3aa))[_0x37d667(0xbd3)](_0x27748f=>_0x27748f[_0x37d667(0x810)]=_0x4259a4=>{const _0x3d0c07=_0x37d667;_0x4259a4[_0x3d0c07(0xcaa)]();const {shortcutId:_0x1dcdca,targetTabId:_0x53008f}=_0x4259a4[_0x3d0c07(0xb60)][_0x3d0c07(0x6b1)],_0x11fff8=parallelShortcutTabs[_0x3d0c07(0x340)](_0x3abb5d=>_0x3abb5d['id']===_0x53008f);_0x11fff8&&!_0x11fff8[_0x3d0c07(0x78c)][_0x3d0c07(0x87a)](_0x1dcdca)&&(_0x11fff8[_0x3d0c07(0x78c)]['push'](_0x1dcdca),saveParallelShortcutConfig());}),document[_0x37d667(0xb02)](_0x37d667(0x77a))['forEach'](_0x16f96e=>_0x16f96e['onclick']=_0x278435=>{const _0xb9e33b=_0x37d667,_0x285266=_0x278435[_0xb9e33b(0xb60)][_0xb9e33b(0x6b1)][_0xb9e33b(0xa99)],_0x33beef=parallelShortcutTabs[_0xb9e33b(0x340)](_0x1669cb=>_0x1669cb['id']===activeParallelShortcutTabId);_0x33beef&&!_0x33beef[_0xb9e33b(0x83d)]&&(_0x33beef[_0xb9e33b(0x78c)]=_0x33beef[_0xb9e33b(0x78c)][_0xb9e33b(0x395)](_0x5778cf=>_0x5778cf!==_0x285266),saveParallelShortcutConfig());}),document[_0x37d667(0xb02)](_0x37d667(0x94f))[_0x37d667(0xbd3)](_0x5dafe3=>_0x5dafe3[_0x37d667(0x810)]=_0x365320=>{const _0x404742=_0x37d667;_0x365320[_0x404742(0xed5)]();const _0x451c4b=_0x365320['currentTarget'][_0x404742(0xd1f)];document[_0x404742(0xb02)](_0x404742(0xc81))['forEach'](_0x5ea17e=>_0x5ea17e['classList']['add'](_0x404742(0x9d8))),_0x451c4b['classList']['remove']('hidden');});const _0x420abf=document[_0x37d667(0xbeb)](_0x37d667(0x7fb));let _0x465ee9=null;_0x420abf[_0x37d667(0xc6d)]=_0x3c6e77=>{const _0x4ad7bc=_0x37d667;_0x465ee9=_0x3c6e77[_0x4ad7bc(0x544)]['closest'](_0x4ad7bc(0xe02));if(_0x465ee9)setTimeout(()=>_0x465ee9[_0x4ad7bc(0xa1f)][_0x4ad7bc(0x7e0)](_0x4ad7bc(0x42d)),0x0);},_0x420abf[_0x37d667(0x7f0)]=()=>{const _0x32f10c=_0x37d667;_0x465ee9&&(_0x465ee9[_0x32f10c(0xa1f)][_0x32f10c(0x711)](_0x32f10c(0x42d)),_0x465ee9=null);},_0x420abf[_0x37d667(0xb8b)]=_0x41b241=>{const _0xfbbea0=_0x37d667;_0x41b241[_0xfbbea0(0xcaa)]();},_0x420abf[_0x37d667(0x72d)]=_0xce138b=>{const _0xabdf0d=_0x37d667;_0xce138b['preventDefault']();if(_0x465ee9){const _0x373882=[..._0x420abf[_0xabdf0d(0xb02)]('.shortcut-list-item:not(.opacity-50)')][_0xabdf0d(0x6f2)]((_0x559cda,_0x3ba69b)=>{const _0x1b2cf3=_0xabdf0d,_0x4aec56=_0x3ba69b[_0x1b2cf3(0x9af)](),_0x257ed8=_0xce138b['clientY']-_0x4aec56[_0x1b2cf3(0xdaf)]-_0x4aec56[_0x1b2cf3(0x8bb)]/0x2;return _0x257ed8<0x0&&_0x257ed8>_0x559cda['offset']?{'offset':_0x257ed8,'element':_0x3ba69b}:_0x559cda;},{'offset':Number[_0xabdf0d(0xb9a)]})[_0xabdf0d(0x44c)];_0x373882==null?_0x420abf[_0xabdf0d(0x620)](_0x465ee9):_0x420abf[_0xabdf0d(0x7b4)](_0x465ee9,_0x373882);const _0xcfd76e=[..._0x420abf[_0xabdf0d(0xb02)](_0xabdf0d(0xe02))][_0xabdf0d(0xa15)](_0x432603=>_0x432603['dataset']['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0xcfd76e,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0xb31497=_0x4ce511,_0x343dad=prompt(_0xb31497(0x92b),_0xb31497(0xdce));_0x343dad&&_0x343dad['trim']()&&(parallelShortcutTabs[_0xb31497(0x9ba)]({'id':_0xb31497(0xcea)+Date[_0xb31497(0xced)](),'name':_0x343dad[_0xb31497(0x88c)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x3f81e4=_0x4ce511,_0x14f08f=document['getElementById'](_0x3f81e4(0x80d)),_0x5f5c5e=document['getElementById'](_0x3f81e4(0x7fb)),_0x457e99=document[_0x3f81e4(0xbeb)](_0x3f81e4(0x45b));if(_0x457e99)_0x457e99[_0x3f81e4(0xa1f)][_0x3f81e4(0x7e0)](_0x3f81e4(0x9d8));if(!_0x14f08f||!_0x5f5c5e)return;const _0x417eb9=parallelTestShortcuts[_0x3f81e4(0x2c1)](0x0,0x4),_0x365a84=parallelTestShortcuts[_0x3f81e4(0x2c1)](0x4);_0x14f08f['innerHTML']=_0x417eb9[_0x3f81e4(0xa15)](_0x41a217=>{const _0x2216e3=_0x3f81e4,_0x4f1893=_0x41a217[_0x2216e3(0xe65)]&&_0x41a217[_0x2216e3(0xe65)]['trim']()!=='',_0x302dd6=_0x4f1893?_0x2216e3(0x1fe):_0x2216e3(0xd8e),_0x46168b=_0x4f1893?'🔁':'🔗',_0xa2cae2=!_0x41a217['isDefault']?_0x2216e3(0x938)+_0x41a217['id']+_0x2216e3(0x31a):'';return _0x2216e3(0x22c)+_0x41a217['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x302dd6+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x46168b+'\x20'+_0x41a217[_0x2216e3(0x631)]+_0x2216e3(0x43b)+_0x41a217['id']+_0x2216e3(0x560)+_0xa2cae2+_0x2216e3(0x971);})['join'](''),_0x365a84['length']>0x0&&(_0x14f08f[_0x3f81e4(0x28a)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x365a84[_0x3f81e4(0x81c)]>0x0?_0x5f5c5e['innerHTML']=_0x365a84[_0x3f81e4(0xa15)](_0x517ddf=>_0x3f81e4(0x9d6)+(_0x517ddf[_0x3f81e4(0xe65)]?'🔁':'🔗')+'\x20'+_0x517ddf[_0x3f81e4(0x631)]+_0x3f81e4(0x74b)+_0x517ddf['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x517ddf['id']+_0x3f81e4(0xe62)+(!_0x517ddf[_0x3f81e4(0x83d)]?'<button\x20data-id=\x22'+_0x517ddf['id']+_0x3f81e4(0x508):'')+_0x3f81e4(0x6a0))[_0x3f81e4(0x919)](''):_0x5f5c5e[_0x3f81e4(0x28a)]=_0x3f81e4(0xaab);}function openParallelTestShortcutEditor(_0x57eda0=null){const _0x285dfe=_0x4ce511,_0xbcdebe=document[_0x285dfe(0xbeb)]('parallel-shortcut-editor-modal'),_0x2497e9=document[_0x285dfe(0xbeb)](_0x285dfe(0xd53)),_0x395983=document[_0x285dfe(0xbeb)]('parallel-shortcut-id-input'),_0x1211c5=document[_0x285dfe(0xbeb)](_0x285dfe(0x673)),_0x370249=document[_0x285dfe(0xbeb)]('parallel-shortcut-url-input');if(_0x57eda0){const _0x25296f=parallelTestShortcuts['find'](_0x152956=>_0x152956['id']===_0x57eda0);if(!_0x25296f)return;_0x2497e9[_0x285dfe(0x211)]=_0x285dfe(0xbc7),_0x395983['value']=_0x25296f['id'],_0x1211c5[_0x285dfe(0xc07)]=_0x25296f['name'],_0x370249[_0x285dfe(0xc07)]=_0x25296f[_0x285dfe(0xe65)]||'';}else _0x2497e9[_0x285dfe(0x211)]='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x395983['value']='',_0x1211c5[_0x285dfe(0xc07)]='',_0x370249['value']='';_0xbcdebe[_0x285dfe(0xa1f)][_0x285dfe(0x711)](_0x285dfe(0x9d8));}async function saveParallelTestShortcutChanges(){const _0x1013e9=_0x4ce511,_0x13f792=document['getElementById'](_0x1013e9(0x276))[_0x1013e9(0xc07)],_0xe4f821=document[_0x1013e9(0xbeb)](_0x1013e9(0x673))[_0x1013e9(0xc07)][_0x1013e9(0x88c)](),_0x554fbb=document[_0x1013e9(0xbeb)](_0x1013e9(0x361))[_0x1013e9(0xc07)]['trim']();if(!_0xe4f821){showMessage(_0x1013e9(0xb1e));return;}const _0x3c2040={'id':_0x13f792||_0x1013e9(0x41b)+Date[_0x1013e9(0xced)](),'name':_0xe4f821,'url':_0x554fbb,'isDefault':_0x13f792[_0x1013e9(0x733)](_0x1013e9(0xefa))};let _0x32f967;_0x13f792?_0x32f967=parallelTestShortcuts['map'](_0x9b808c=>_0x9b808c['id']===_0x13f792?_0x3c2040:_0x9b808c):_0x32f967=[...parallelTestShortcuts,_0x3c2040];try{const _0x27f7f3=doc(db,_0x1013e9(0xc3f),_0x1013e9(0x1cf));await setDoc(_0x27f7f3,{'shortcuts':_0x32f967},{'merge':!![]}),document[_0x1013e9(0xbeb)](_0x1013e9(0xb20))['classList']['add'](_0x1013e9(0x9d8));}catch(_0x42e49f){console[_0x1013e9(0xd74)](_0x1013e9(0x97e),_0x42e49f),showMessage(_0x1013e9(0xe5b));}}async function handleParallelTestShortcutClick(_0x46b69c){const _0x238e55=_0x4ce511,_0x1f30f4=parallelTestShortcuts[_0x238e55(0x340)](_0x4f2078=>_0x4f2078['id']===_0x46b69c);if(!_0x1f30f4)return;if(!_0x1f30f4[_0x238e55(0xe65)]||_0x1f30f4[_0x238e55(0xe65)][_0x238e55(0x88c)]()===''){openParallelTestShortcutEditor(_0x46b69c);return;}const _0x578c5d=document[_0x238e55(0xbeb)](_0x238e55(0xf5e)),_0x5602f6=document[_0x238e55(0xbeb)]('loader-text');document[_0x238e55(0xbeb)](_0x238e55(0x91c))[_0x238e55(0xa1f)][_0x238e55(0x711)](_0x238e55(0x9d8)),document[_0x238e55(0xbeb)]('generated-quiz-container')[_0x238e55(0x28a)]='',_0x578c5d[_0x238e55(0xa1f)][_0x238e55(0x711)]('hidden'),_0x5602f6['textContent']='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x281c77;_0x1f30f4[_0x238e55(0xe65)]['toLowerCase']()['includes'](_0x238e55(0xdd8))?_0x281c77=_0x238e55(0xb63):_0x281c77='source_document.pdf';const _0x2f492a=await fetchFileFromUrl(_0x1f30f4[_0x238e55(0xe65)],_0x281c77);await handleGenerateParallelTest(_0x2f492a);}catch(_0x1d3c83){console['error'](_0x238e55(0x37f),_0x1d3c83),showMessage(_0x238e55(0x571)+_0x1d3c83[_0x238e55(0x68f)]),_0x578c5d[_0x238e55(0xa1f)][_0x238e55(0x7e0)]('hidden');}}function initializeScratchpadCanvas(){const _0x3b9be4=_0x4ce511,_0xdb5d3e=document[_0x3b9be4(0xbeb)](_0x3b9be4(0x9fa)),_0x5b7a66=document[_0x3b9be4(0x2d0)](_0x3b9be4(0xd19));if(!_0xdb5d3e||!_0x5b7a66)return;scratchpadCtx=_0xdb5d3e[_0x3b9be4(0xd69)]('2d',{'willReadFrequently':!![]});const _0x20898e=window[_0x3b9be4(0xcc2)]||0x1,_0x394ae1=_0x5b7a66['getBoundingClientRect']();_0xdb5d3e[_0x3b9be4(0x52d)]=_0x394ae1[_0x3b9be4(0x52d)]*_0x20898e,_0xdb5d3e['height']=_0x394ae1[_0x3b9be4(0x8bb)]*_0x20898e,_0xdb5d3e['style']['width']=_0x394ae1['width']+'px',_0xdb5d3e[_0x3b9be4(0xbcb)][_0x3b9be4(0x8bb)]=_0x394ae1['height']+'px',scratchpadCtx[_0x3b9be4(0xb51)](_0x20898e,_0x20898e),scratchpadCtx[_0x3b9be4(0xb6b)]=_0x3b9be4(0xe7c),scratchpadCtx[_0x3b9be4(0x580)]=_0x3b9be4(0xe7c),_0xdb5d3e[_0x3b9be4(0x8fb)](_0x3b9be4(0xd59),handlePointerDown),_0xdb5d3e[_0x3b9be4(0x8fb)](_0x3b9be4(0xe8f),handlePointerMove),_0xdb5d3e[_0x3b9be4(0x8fb)](_0x3b9be4(0x4d1),handlePointerUp),_0xdb5d3e[_0x3b9be4(0x8fb)](_0x3b9be4(0xb04),handlePointerUp),_0xdb5d3e['removeEventListener']('wheel',handleWheel),_0xdb5d3e[_0x3b9be4(0x8fb)]('touchstart',handlePointerDown),_0xdb5d3e['removeEventListener'](_0x3b9be4(0x81a),handlePointerMove),_0xdb5d3e[_0x3b9be4(0x8fb)]('touchend',handlePointerUp),_0xdb5d3e['addEventListener'](_0x3b9be4(0xd59),handlePointerDown),_0xdb5d3e[_0x3b9be4(0x79a)](_0x3b9be4(0xe8f),handlePointerMove),_0xdb5d3e[_0x3b9be4(0x79a)](_0x3b9be4(0x4d1),handlePointerUp),_0xdb5d3e[_0x3b9be4(0x79a)](_0x3b9be4(0xb04),handlePointerUp),_0xdb5d3e['addEventListener'](_0x3b9be4(0xb74),handleWheel,{'passive':![]}),_0xdb5d3e[_0x3b9be4(0x79a)](_0x3b9be4(0x4b0),handlePointerDown,{'passive':![]}),_0xdb5d3e['addEventListener'](_0x3b9be4(0x81a),handlePointerMove,{'passive':![]}),_0xdb5d3e[_0x3b9be4(0x79a)](_0x3b9be4(0x585),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2e34f7=_0x4ce511,_0x1f8c8d=document[_0x2e34f7(0xbeb)]('scratchpad-modal'),_0x4b4365=document['getElementById'](_0x2e34f7(0x400));_0x4b4365['innerHTML']=_0x2e34f7(0x790)+scratchpadHighlighterSize+_0x2e34f7(0x52b);const _0x4ccb31=document[_0x2e34f7(0xbeb)](_0x2e34f7(0x736)),_0x160ea9=document[_0x2e34f7(0xbeb)](_0x2e34f7(0xa3e)),_0x76441f=document[_0x2e34f7(0xbeb)](_0x2e34f7(0x300)),_0x50892c=document['getElementById']('highlighter-tool-btn'),_0x10479f=document['getElementById'](_0x2e34f7(0x1d0)),_0x3dcc4e=document[_0x2e34f7(0xbeb)](_0x2e34f7(0x55f)),_0x3228e6=document[_0x2e34f7(0xbeb)]('eraser-tools-group'),_0x3ade37=[_0x4ccb31,_0x160ea9,_0x76441f,_0x50892c];document[_0x2e34f7(0xbeb)](_0x2e34f7(0x500))[_0x2e34f7(0x79a)](_0x2e34f7(0xc64),()=>_0x1f8c8d[_0x2e34f7(0xa1f)][_0x2e34f7(0x7e0)]('hidden')),document['getElementById'](_0x2e34f7(0x68e))[_0x2e34f7(0x79a)](_0x2e34f7(0xc64),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x2e34f7(0xbeb)](_0x2e34f7(0x812))[_0x2e34f7(0x79a)]('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById']('undo-btn')[_0x2e34f7(0x79a)](_0x2e34f7(0xc64),undo),document['getElementById'](_0x2e34f7(0xa38))['addEventListener'](_0x2e34f7(0xc64),redo);const _0x26cf16=_0x34aafd=>{const _0x2fa864=_0x2e34f7;_0x3ade37[_0x2fa864(0xbd3)](_0x558ca9=>_0x558ca9[_0x2fa864(0xa1f)][_0x2fa864(0x711)](_0x2fa864(0x829))),_0x34aafd[_0x2fa864(0xa1f)][_0x2fa864(0x7e0)](_0x2fa864(0x829)),_0x10479f[_0x2fa864(0xa1f)][_0x2fa864(0x7e0)](_0x2fa864(0x9d8)),_0x3dcc4e['classList'][_0x2fa864(0x7e0)](_0x2fa864(0x9d8)),_0x3228e6['classList'][_0x2fa864(0x7e0)]('hidden');if(activeTool===_0x2fa864(0xc87)||activeTool==='trail')_0x10479f[_0x2fa864(0xa1f)][_0x2fa864(0x711)](_0x2fa864(0x9d8));else{if(activeTool==='highlighter')_0x3dcc4e[_0x2fa864(0xa1f)][_0x2fa864(0x711)](_0x2fa864(0x9d8));else activeTool===_0x2fa864(0x2de)&&_0x3228e6[_0x2fa864(0xa1f)][_0x2fa864(0x711)](_0x2fa864(0x9d8));}};_0x4ccb31[_0x2e34f7(0x79a)](_0x2e34f7(0xc64),()=>{const _0x2416d6=_0x2e34f7;activeTool=_0x2416d6(0xc87),_0x26cf16(_0x4ccb31);}),_0x160ea9[_0x2e34f7(0x79a)](_0x2e34f7(0xc64),()=>{const _0x264507=_0x2e34f7;activeTool=_0x264507(0x2de),_0x26cf16(_0x160ea9);}),_0x76441f['addEventListener']('click',()=>{const _0x59c79b=_0x2e34f7;activeTool=_0x59c79b(0x712),_0x26cf16(_0x76441f);}),_0x50892c[_0x2e34f7(0x79a)]('click',()=>{const _0x1a8275=_0x2e34f7;activeTool=_0x1a8275(0x8a0),_0x26cf16(_0x50892c);}),_0x10479f[_0x2e34f7(0xb02)](_0x2e34f7(0x3c1))['forEach'](_0x1d68ac=>{const _0x35dc54=_0x2e34f7;_0x1d68ac[_0x35dc54(0x79a)]('click',_0x5057f9=>{const _0x4164b2=_0x35dc54;scratchpadPenSize=parseInt(_0x5057f9['target']['dataset'][_0x4164b2(0x72f)],0xa),_0x10479f[_0x4164b2(0xb02)](_0x4164b2(0x3c1))[_0x4164b2(0xbd3)](_0xb17278=>_0xb17278[_0x4164b2(0xa1f)]['remove'](_0x4164b2(0x829))),_0x5057f9['target'][_0x4164b2(0xa1f)][_0x4164b2(0x7e0)](_0x4164b2(0x829));});}),_0x3228e6[_0x2e34f7(0xb02)](_0x2e34f7(0xb4c))[_0x2e34f7(0xbd3)](_0x4c0967=>{const _0x4630bc=_0x2e34f7;_0x4c0967['addEventListener'](_0x4630bc(0xc64),_0x154a85=>{const _0x41888b=_0x4630bc,_0x54136d=_0x154a85['currentTarget'];scratchpadEraserSize=parseInt(_0x54136d[_0x41888b(0x6b1)][_0x41888b(0x72f)],0xa),_0x3228e6['querySelectorAll'](_0x41888b(0xb4c))[_0x41888b(0xbd3)](_0x11bac2=>_0x11bac2[_0x41888b(0xa1f)][_0x41888b(0x711)](_0x41888b(0x829))),_0x54136d[_0x41888b(0xa1f)][_0x41888b(0x7e0)](_0x41888b(0x829));});}),_0x10479f[_0x2e34f7(0xb02)](_0x2e34f7(0x6c2))[_0x2e34f7(0xbd3)](_0x47fb36=>{const _0x129bc4=_0x2e34f7;_0x47fb36[_0x129bc4(0x79a)](_0x129bc4(0xc64),_0x3bc810=>{const _0x47bf76=_0x129bc4;scratchpadPenColor=_0x3bc810[_0x47bf76(0x544)][_0x47bf76(0x6b1)][_0x47bf76(0xa66)],_0x10479f[_0x47bf76(0xb02)](_0x47bf76(0x6c2))[_0x47bf76(0xbd3)](_0x51db3b=>_0x51db3b[_0x47bf76(0xa1f)][_0x47bf76(0x711)](_0x47bf76(0x829))),_0x3bc810['target'][_0x47bf76(0xa1f)]['add'](_0x47bf76(0x829));});}),_0x3dcc4e['querySelectorAll'](_0x2e34f7(0xc6e))[_0x2e34f7(0xbd3)](_0x50ff31=>{const _0x5137b8=_0x2e34f7;_0x50ff31[_0x5137b8(0x79a)]('click',_0x16c940=>{const _0x68b542=_0x5137b8;scratchpadHighlighterColor=_0x16c940['target'][_0x68b542(0x6b1)][_0x68b542(0xa66)],_0x3dcc4e[_0x68b542(0xb02)](_0x68b542(0xc6e))[_0x68b542(0xbd3)](_0x3f431e=>_0x3f431e['classList'][_0x68b542(0x711)](_0x68b542(0x829))),_0x16c940['target'][_0x68b542(0xa1f)][_0x68b542(0x7e0)](_0x68b542(0x829));});});const _0x4cef3c=document['getElementById'](_0x2e34f7(0x660)),_0x5771b2=document[_0x2e34f7(0xbeb)](_0x2e34f7(0x445));_0x4cef3c[_0x2e34f7(0x79a)](_0x2e34f7(0x208),_0xc425e4=>{const _0x4ea888=_0x2e34f7,_0x42eb90=parseInt(_0xc425e4['target'][_0x4ea888(0xc07)],0xa);scratchpadHighlighterSize=_0x42eb90,_0x5771b2['textContent']=_0x42eb90;}),window['addEventListener'](_0x2e34f7(0x3bd),()=>{const _0x515e2f=_0x2e34f7;!_0x1f8c8d[_0x515e2f(0xa1f)][_0x515e2f(0xa3f)](_0x515e2f(0x9d8))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x4ce511(0x89d),'description':_0x4ce511(0xa5c),'icon':_0x4ce511(0x424)},'QUICK_THINKER':{'id':_0x4ce511(0xb9b),'name':'เซียนสมองไว','description':_0x4ce511(0x20c),'icon':_0x4ce511(0xd86)},'ON_FIRE':{'id':_0x4ce511(0x7c8),'name':_0x4ce511(0x90f),'description':_0x4ce511(0xca2),'icon':_0x4ce511(0xf4d)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':'ผ่านฉลุย','description':_0x4ce511(0xd30),'icon':_0x4ce511(0x53e)},'COMEBACK_KING':{'id':_0x4ce511(0x862),'name':_0x4ce511(0x233),'description':_0x4ce511(0x1e9),'icon':_0x4ce511(0xaf5)},'SPECIALIST':{'id':_0x4ce511(0x4f2),'name':_0x4ce511(0x8d1),'description':_0x4ce511(0xf20),'icon':_0x4ce511(0xd01)},'PERSEVERANCE':{'id':_0x4ce511(0x5be),'name':_0x4ce511(0x450),'description':_0x4ce511(0x1e6),'icon':_0x4ce511(0x59e)}},firebaseConfig={'apiKey':_0x4ce511(0xd43),'authDomain':_0x4ce511(0x63b),'projectId':_0x4ce511(0xeb5),'storageBucket':_0x4ce511(0xa9c),'messagingSenderId':_0x4ce511(0x75b),'appId':_0x4ce511(0x1d1),'measurementId':_0x4ce511(0xe51)},appId=typeof __app_id!=='undefined'?__app_id:_0x4ce511(0xca3),adminView=document['getElementById']('admin-view'),studentView=document[_0x4ce511(0xbeb)](_0x4ce511(0x83a)),projectDashboardView=document[_0x4ce511(0xbeb)](_0x4ce511(0x5ad)),projectDetailView=document[_0x4ce511(0xbeb)]('project-detail-view'),quizResultsView=document[_0x4ce511(0xbeb)](_0x4ce511(0xe4c)),projectList=document['getElementById']('project-list'),noProjectsMsg=document[_0x4ce511(0xbeb)]('no-projects-msg'),projectTitle=document[_0x4ce511(0xbeb)](_0x4ce511(0x34e)),projectIdDisplay=document['getElementById'](_0x4ce511(0xea7)),studentList=document[_0x4ce511(0xbeb)]('student-list'),messageModal=document[_0x4ce511(0xbeb)](_0x4ce511(0x932)),modalMessage=document[_0x4ce511(0xbeb)](_0x4ce511(0x901)),createProjectModal=document[_0x4ce511(0xbeb)](_0x4ce511(0xd42)),adminPasswordModal=document[_0x4ce511(0xbeb)](_0x4ce511(0x9f9)),confirmationModal=document['getElementById'](_0x4ce511(0x9e3)),userIdDisplay=document['getElementById'](_0x4ce511(0xae1)),topicTab=document[_0x4ce511(0xbeb)](_0x4ce511(0x413)),textTab=document['getElementById'](_0x4ce511(0x6ef)),topicInputArea=document[_0x4ce511(0xbeb)](_0x4ce511(0xce8)),textInputArea=document[_0x4ce511(0xbeb)](_0x4ce511(0xd61)),manageTab=document[_0x4ce511(0xbeb)]('manage-tab'),resultsTab=document['getElementById'](_0x4ce511(0x852)),leaderboardTab=document[_0x4ce511(0xbeb)](_0x4ce511(0x4e3)),manageTabContent=document['getElementById'](_0x4ce511(0x6cb)),resultsTabContent=document[_0x4ce511(0xbeb)](_0x4ce511(0xb19)),leaderboardTabContent=document[_0x4ce511(0xbeb)]('leaderboard-tab-content'),projectQuizzesList=document[_0x4ce511(0xbeb)](_0x4ce511(0xa01)),fileTab=document[_0x4ce511(0xbeb)]('file-tab'),fileInputArea=document[_0x4ce511(0xbeb)](_0x4ce511(0x7e9)),fileUploadInput=document[_0x4ce511(0xbeb)](_0x4ce511(0x333)),worksheetTab=document['getElementById'](_0x4ce511(0xe40)),worksheetInputArea=document['getElementById'](_0x4ce511(0x31d)),generateWorksheetBtn=document[_0x4ce511(0xbeb)](_0x4ce511(0x5fd)),studentInitialView=document[_0x4ce511(0xbeb)]('student-initial-view'),studentNameSelectionView=document['getElementById'](_0x4ce511(0xe12)),studentQuizArea=document[_0x4ce511(0xbeb)]('student-quiz-area'),studentResultArea=document['getElementById'](_0x4ce511(0xc12)),studentReadingArea=document[_0x4ce511(0xbeb)](_0x4ce511(0xa6f)),loadQuizBtn=document['getElementById']('load-quiz-btn'),startQuizBtn=document[_0x4ce511(0xbeb)](_0x4ce511(0x2d5)),studentJoinGameView=document[_0x4ce511(0xbeb)](_0x4ce511(0x67e)),presentationModal=document[_0x4ce511(0xbeb)](_0x4ce511(0xd52)),renameQuizModal=document['getElementById'](_0x4ce511(0xac8)),moveQuizModal=document[_0x4ce511(0xbeb)](_0x4ce511(0x5c6)),quizSettingsModal=document[_0x4ce511(0xbeb)](_0x4ce511(0x509)),quizStatusModal=document[_0x4ce511(0xbeb)](_0x4ce511(0xbb1)),liveGameView=document[_0x4ce511(0xbeb)](_0x4ce511(0xace));function handleFixLessonLatex(){const _0x1b39f0=_0x4ce511,_0x479c0e=document[_0x1b39f0(0xbeb)](_0x1b39f0(0xbe2));if(!_0x479c0e){showMessage(_0x1b39f0(0x5dc));return;}const _0x2a97a3=_0x479c0e[_0x1b39f0(0xb02)]([_0x1b39f0(0x379),_0x1b39f0(0xac9),_0x1b39f0(0x306),'.ai-content\x20td',_0x1b39f0(0x930)]['join'](','));let _0x198cef=0x0;const _0x4b7dd2=_0x1de247=>_0x1de247[_0x1b39f0(0x211)]||'',_0x39a4e2=(_0x123afd,_0x194c54)=>{const _0x1d856e=_0x1b39f0;if(_0x123afd[_0x1d856e(0x2d0)]&&_0x123afd['querySelector'](_0x1d856e(0x268)))return;_0x123afd[_0x1d856e(0x211)]=_0x194c54;},_0xf82860=_0x44044b=>_0x44044b[_0x1b39f0(0xea1)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0xdcfbc8=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x27efb6=_0x48d8d3=>{const _0x2e658c=_0x1b39f0;let _0x151f93=_0x48d8d3[_0x2e658c(0x88c)]();const _0x29bf62=['frac','dfrac',_0x2e658c(0x204),_0x2e658c(0xa8a),_0x2e658c(0xa19),_0x2e658c(0x1e0),_0x2e658c(0xb1b),_0x2e658c(0x3ae),'leq',_0x2e658c(0xf33),'le','ge','neq','pm',_0x2e658c(0xe74),_0x2e658c(0x549),_0x2e658c(0xbd6),_0x2e658c(0xaeb),_0x2e658c(0x2c0),'ln',_0x2e658c(0x679),_0x2e658c(0xeb2),_0x2e658c(0xaf4),'left',_0x2e658c(0xc9a),'overline',_0x2e658c(0x875),_0x2e658c(0x9b2),'deg'];_0x29bf62['forEach'](_0x209e81=>{const _0x6eb24d=_0x2e658c;_0x151f93=_0x151f93[_0x6eb24d(0xea1)](new RegExp(_0x6eb24d(0x71d)+_0x209e81+'\x5cb','g'),(_0x180bb2,_0x5edccf)=>_0x5edccf+'\x5c'+_0x209e81);});const _0x202ecd=[[/×/g,'\x5ctimes'],[/·/g,_0x2e658c(0x2f1)],[/÷/g,'\x5cdiv'],[/≤/g,'\x5cle'],[/≥/g,'\x5cge'],[/≠/g,_0x2e658c(0x970)],[/±/g,_0x2e658c(0xe54)],[/∑/g,_0x2e658c(0x656)],[/−/g,'-']];return _0x202ecd[_0x2e658c(0xbd3)](([_0x421663,_0x5d329c])=>{const _0xf902df=_0x2e658c;_0x151f93=_0x151f93[_0xf902df(0xea1)](_0x421663,_0x5d329c);}),_0x151f93=_0x151f93[_0x2e658c(0xea1)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x151f93=_0x151f93[_0x2e658c(0xea1)](/(\d+)\s*%/g,_0x2e658c(0x3c7)),_0x151f93;},_0x14a31e=_0x40c9f6=>{const _0x5a8d15=_0x1b39f0;if(/\$|\\\(|\\\[/[_0x5a8d15(0xc3c)](_0x40c9f6))return _0x40c9f6;if(!_0xdcfbc8[_0x5a8d15(0xc3c)](_0x40c9f6))return _0x40c9f6;const _0x33d844=_0x40c9f6[_0x5a8d15(0xafb)](/^\s*/)[0x0],_0x429338=_0x40c9f6[_0x5a8d15(0xafb)](/\s*$/)[0x0],_0x524a42=_0x40c9f6['trim']();return _0x33d844+'$'+_0x27efb6(_0x524a42)+'$'+_0x429338;};_0x2a97a3[_0x1b39f0(0xbd3)](_0xf57e24=>{const _0x421351=_0x1b39f0,_0x43b7a0=_0x4b7dd2(_0xf57e24);let _0x5bad10=_0xf82860(_0x43b7a0);_0x5bad10=_0x5bad10[_0x421351(0xea1)](/\$([^$]*?)\$/g,(_0xaddde8,_0xabf3cc)=>'$'+_0x27efb6(_0xabf3cc)+'$');const _0x278f61=_0x5bad10[_0x421351(0xa00)](/(\s+)/),_0x59a5af=_0x278f61[_0x421351(0xa15)](_0x1592d3=>{const _0x1d0919=_0x421351;if(/\s+/[_0x1d0919(0xc3c)](_0x1592d3))return _0x1592d3;return _0x14a31e(_0x1592d3);});_0x5bad10=_0x59a5af[_0x421351(0x919)](''),_0x5bad10!==_0x43b7a0&&(_0x39a4e2(_0xf57e24,_0x5bad10),_0x198cef++);});if(_0x198cef>0x0){showMessage(_0x1b39f0(0xa6e)+_0x198cef+_0x1b39f0(0x750));try{window['MathJax']&&MathJax[_0x1b39f0(0x61b)]&&MathJax[_0x1b39f0(0x61b)]([_0x479c0e]);}catch(_0x2c7737){console['error'](_0x1b39f0(0xf0b),_0x2c7737);}}else showMessage(_0x1b39f0(0xadc));}function handleAutoFixLatex(){const _0x565789=_0x4ce511,_0x4fdfc2=document['getElementById']('quiz-editor-questions-container')||document,_0x5059f2=_0x4fdfc2[_0x565789(0xb02)](_0x565789(0xd44));let _0x5d143=0x0;const _0x1652b4=_0x59fc63=>_0x565789(0xc07)in _0x59fc63?String(_0x59fc63[_0x565789(0xc07)]):_0x59fc63[_0x565789(0xf61)]!==undefined?_0x59fc63[_0x565789(0xf61)]:_0x59fc63[_0x565789(0x211)]||'',_0x45b3ab=(_0x219842,_0x414dc1)=>{const _0x2824f4=_0x565789;if(_0x2824f4(0xc07)in _0x219842){_0x219842[_0x2824f4(0xc07)]=_0x414dc1;return;}if(_0x219842[_0x2824f4(0x2d0)]&&_0x219842['querySelector'](_0x2824f4(0x268)))return;if(_0x219842[_0x2824f4(0xf61)]!==undefined)_0x219842['innerText']=_0x414dc1;else _0x219842[_0x2824f4(0x211)]=_0x414dc1;},_0x743473=_0x356014=>_0x356014[_0x565789(0xea1)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x565789(0xea1)](/\r\n?/g,'\x0a'),_0x42ceea=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x32d9d3=_0x3f354a=>{const _0x2577e0=_0x565789;let _0x45ba70=_0x3f354a[_0x2577e0(0x88c)]();_0x45ba70=_0x45ba70[_0x2577e0(0xea1)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x2577e0(0xecd)),_0x45ba70=_0x45ba70[_0x2577e0(0xea1)](/\bfrac(\d)(\d)/g,_0x2577e0(0xecd));const _0x4ce9f6=[_0x2577e0(0xee8),'sqrt',_0x2577e0(0x1e0),_0x2577e0(0xb1b),'div',_0x2577e0(0x55a),'geq','neq','pm','sin',_0x2577e0(0xbd6),'tan',_0x2577e0(0x2c0),'ln'];_0x4ce9f6[_0x2577e0(0xbd3)](_0x29adbd=>{const _0x55b851=_0x2577e0;_0x45ba70=_0x45ba70['replace'](new RegExp(_0x55b851(0x71d)+_0x29adbd+'\x5cb','g'),(_0x951ece,_0x3b6a4d)=>_0x3b6a4d+'\x5c'+_0x29adbd);});const _0x1977c3=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,_0x2577e0(0x721)],[/≤/g,_0x2577e0(0x763)],[/≥/g,_0x2577e0(0xbae)],[/≠/g,_0x2577e0(0x970)],[/±/g,_0x2577e0(0xe54)]];return _0x1977c3[_0x2577e0(0xbd3)](([_0x5a67c1,_0x4fb02a])=>{const _0x3f66f8=_0x2577e0;_0x45ba70=_0x45ba70[_0x3f66f8(0xea1)](_0x5a67c1,_0x4fb02a);}),_0x45ba70;},_0x31c979=_0x1fc621=>{const _0xa84710=_0x565789;if(/\$|\\\(|\\\[/[_0xa84710(0xc3c)](_0x1fc621))return _0x1fc621;if(!_0x42ceea[_0xa84710(0xc3c)](_0x1fc621))return _0x1fc621;const _0x4776c0=_0x1fc621[_0xa84710(0xafb)](/^\s*/)[0x0],_0x10e331=_0x1fc621[_0xa84710(0xafb)](/\s*$/)[0x0],_0x5e018c=_0x1fc621['trim']();return _0x4776c0+'$'+_0x32d9d3(_0x5e018c)+'$'+_0x10e331;};_0x5059f2[_0x565789(0xbd3)](_0x2c2b8e=>{const _0x404b88=_0x565789,_0x1f5fcf=_0x1652b4(_0x2c2b8e);let _0x309519=_0x743473(_0x1f5fcf);_0x309519=_0x309519['replace'](/\$([^$]*?)\$/g,(_0xad162b,_0x55aeb7)=>'$'+_0x32d9d3(_0x55aeb7)+'$');const _0x4b8312=_0x309519[_0x404b88(0xa00)](/(\s+)/),_0x469a16=_0x4b8312[_0x404b88(0xa15)](_0x29cb23=>/\s+/[_0x404b88(0xc3c)](_0x29cb23)?_0x29cb23:_0x31c979(_0x29cb23));_0x309519=_0x469a16['join'](''),_0x309519!==_0x1f5fcf&&(_0x45b3ab(_0x2c2b8e,_0x309519),_0x5d143++);});if(_0x5d143>0x0){showMessage(_0x565789(0xabb)+_0x5d143+'\x20จุด');try{if(window[_0x565789(0xeb4)]&&MathJax[_0x565789(0x61b)])MathJax['typesetPromise']();}catch(_0x13ccfa){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x4f51bf=_0x4ce511,_0x587ade=collection(db,_0x4f51bf(0xcaf)+appId+_0x4f51bf(0xe0a));onSnapshot(_0x587ade,_0x177c45=>{const _0x521150=_0x4f51bf;customMathTopics=_0x177c45['docs'][_0x521150(0xa15)](_0x892e94=>({'id':_0x892e94['id'],..._0x892e94[_0x521150(0xbfb)]()})),renderTopicCheckboxes();},_0x1e43ec=>{const _0x21e79c=_0x4f51bf;console[_0x21e79c(0xd74)](_0x21e79c(0x97f),_0x1e43ec);});}function handleSelectAllTopics(){const _0x2b9338=_0x4ce511,_0x3a87cb=document[_0x2b9338(0xbeb)](_0x2b9338(0xe93)),_0x46584b=_0x3a87cb[_0x2b9338(0xb02)](_0x2b9338(0x924));_0x46584b[_0x2b9338(0xbd3)](_0x4805a5=>{_0x4805a5['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4dd640=_0x4ce511,_0xe958f3=document[_0x4dd640(0xbeb)](_0x4dd640(0xe93)),_0x2cf79a=_0xe958f3['querySelectorAll']('input[type=\x22checkbox\x22]');_0x2cf79a[_0x4dd640(0xbd3)](_0x2cae80=>{_0x2cae80['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x40f4b8){const _0x3b46e3=_0x4ce511;if(!_0x40f4b8)return;try{const _0xd5f850=doc(db,_0x3b46e3(0xcaf)+appId+_0x3b46e3(0xe0a),_0x40f4b8);await deleteDoc(_0xd5f850),showMessage(_0x3b46e3(0x957));}catch(_0x230dc9){console['error'](_0x3b46e3(0xacf),_0x230dc9),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x5b36ad=_0x4ce511,_0x243ced=document[_0x5b36ad(0xbeb)](_0x5b36ad(0x1f2)),_0x560717=_0x243ced[_0x5b36ad(0xc07)]['trim']();if(!_0x560717){showMessage(_0x5b36ad(0x4d8));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x4e2ea8=collection(db,_0x5b36ad(0xcaf)+appId+_0x5b36ad(0xe0a));await addDoc(_0x4e2ea8,{'name':_0x560717,'createdAt':serverTimestamp()}),_0x243ced[_0x5b36ad(0xc07)]='',showMessage(_0x5b36ad(0xacd)+_0x560717+'\x22\x20สำเร็จ');}catch(_0x2e5a67){console[_0x5b36ad(0xd74)]('Error\x20adding\x20custom\x20topic:',_0x2e5a67),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x445f72=_0x4ce511;showConfirmation(_0x445f72(0xa73),async()=>{const _0x388194=_0x445f72,_0xdde316=document[_0x388194(0xbeb)](_0x388194(0xf5e)),_0x360211=document['getElementById']('loader-text'),_0xd2455e=_0x360211['textContent'];_0xdde316[_0x388194(0xa1f)]['remove'](_0x388194(0x9d8)),_0x360211[_0x388194(0x211)]=_0x388194(0x8b1);try{const _0x3bcb8b=collection(db,_0x388194(0xcaf)+appId+_0x388194(0x24f)),_0x289b62=await getDocs(_0x3bcb8b);if(_0x289b62[_0x388194(0x68b)]){showMessage(_0x388194(0x7d7));return;}const _0x5a38e5=writeBatch(db);let _0x49614a=0x0;_0x289b62[_0x388194(0xbd3)](_0x586632=>{const _0x543b2b=_0x388194,_0xbe6cc2=_0x586632[_0x543b2b(0xbfb)](),_0x20c95f=_0x586632['id'];if(_0xbe6cc2[_0x543b2b(0x7bb)]&&_0xbe6cc2[_0x543b2b(0x7bb)]['length']>0x0&&!_0xbe6cc2[_0x543b2b(0x7bb)][0x0][_0x543b2b(0x93b)]('id')){console['log'](_0x543b2b(0x1c6)+_0x20c95f+'\x20('+_0xbe6cc2['topic']+')'),_0x49614a++;const _0x22fa73=_0xbe6cc2[_0x543b2b(0x7bb)]['map']((_0x26f8b8,_0x5a33dd)=>{const _0x45bb4a=_0x543b2b;return{..._0x26f8b8,'id':_0x26f8b8['id']||'q_'+Date[_0x45bb4a(0xced)]()+'_'+_0x20c95f+'_'+_0x5a33dd};}),_0x5b9c6b=doc(db,_0x543b2b(0xcaf)+appId+_0x543b2b(0x24f),_0x20c95f);_0x5a38e5[_0x543b2b(0x55d)](_0x5b9c6b,{'questions':_0x22fa73});}}),_0x49614a>0x0?(_0x360211[_0x388194(0x211)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x49614a+'\x20รายการ...',await _0x5a38e5[_0x388194(0xe24)](),showMessage(_0x388194(0xac6)+_0x49614a+'\x20รายการสำเร็จ!')):showMessage(_0x388194(0x6b4));}catch(_0x359892){console['error'](_0x388194(0xe77),_0x359892),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x359892[_0x388194(0x68f)]);}finally{_0xdde316[_0x388194(0xa1f)]['add'](_0x388194(0x9d8)),_0x360211[_0x388194(0x211)]=_0xd2455e;}});}async function handleBulkUpdateQuizSettings(){const _0x53210f=_0x4ce511,_0x2043f1={'shuffle':document[_0x53210f(0xbeb)](_0x53210f(0xdc6))[_0x53210f(0xc07)],'resultsDisplay':document[_0x53210f(0xbeb)]('bulk-results-display-select')['value'],'loopUntilPass':document[_0x53210f(0xbeb)](_0x53210f(0xbb0))['checked'],'isConfidenceScoringEnabled':document[_0x53210f(0xbeb)](_0x53210f(0x294))[_0x53210f(0x375)],'confidenceMode':document[_0x53210f(0xbeb)]('bulk-confidence-mode-select')[_0x53210f(0xc07)]};try{showMessage(_0x53210f(0xbf4));const _0x27c33c=await getDocs(collection(db,'artifacts/'+appId+_0x53210f(0x24f))),_0x555feb=_0x27c33c['docs']['map'](_0x511539=>({'id':_0x511539['id'],'data':_0x511539['data']()})),_0x232e42=_0x555feb[_0x53210f(0x81c)];showConfirmation(_0x53210f(0xa1d)+_0x232e42+_0x53210f(0x40a),async()=>{const _0x335688=_0x53210f,_0x45c47f=document[_0x335688(0xbeb)](_0x335688(0xe8a));_0x45c47f[_0x335688(0x272)]=!![],_0x45c47f[_0x335688(0x28a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x120175=writeBatch(db);_0x555feb[_0x335688(0xbd3)](_0x17a483=>{const _0x2882f6=_0x335688,_0x1be08b=doc(db,_0x2882f6(0xcaf)+appId+_0x2882f6(0x24f),_0x17a483['id']),_0x469482={..._0x17a483[_0x2882f6(0xbfb)]['settings']||{},..._0x2043f1};_0x120175[_0x2882f6(0x55d)](_0x1be08b,{'settings':_0x469482});}),await _0x120175[_0x335688(0xe24)](),document['getElementById'](_0x335688(0xb2f))['classList'][_0x335688(0x7e0)]('hidden'),showMessage(_0x335688(0xd41)+_0x232e42+_0x335688(0x455));}catch(_0x2ba8de){console[_0x335688(0xd74)](_0x335688(0x399),_0x2ba8de),showMessage(_0x335688(0xb42));}finally{_0x45c47f[_0x335688(0x272)]=![],_0x45c47f[_0x335688(0x28a)]=_0x335688(0x315);}});}catch(_0x200421){console[_0x53210f(0xd74)](_0x53210f(0x8c5),_0x200421),showMessage(_0x53210f(0x73d));}}async function handleSaveProjectName(){const _0x140374=_0x4ce511,_0x2673cc=document[_0x140374(0xbeb)]('project-title'),_0x261d55=document[_0x140374(0xbeb)]('save-project-name-btn'),_0x16794b=_0x2673cc[_0x140374(0x211)][_0x140374(0x88c)]();if(!_0x16794b||!currentProjectId){showMessage(_0x140374(0xaa7)),_0x2673cc['textContent']=currentProjectData[_0x140374(0x9e0)];return;}_0x261d55['disabled']=!![],_0x261d55[_0x140374(0x28a)]=_0x140374(0x360);try{const _0x4b890f=doc(db,_0x140374(0xcaf)+appId+_0x140374(0x74c),currentProjectId);await updateDoc(_0x4b890f,{'projectName':_0x16794b}),currentProjectData&&(currentProjectData[_0x140374(0x9e0)]=_0x16794b),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x1a6972){console['error'](_0x140374(0xcf4),_0x1a6972),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x2673cc['textContent']=currentProjectData[_0x140374(0x9e0)];}finally{_0x261d55[_0x140374(0xa1f)][_0x140374(0x7e0)](_0x140374(0x9d8)),_0x261d55['disabled']=![],_0x261d55[_0x140374(0x28a)]=_0x140374(0xc38);}}function handleGeneratePracticeTest(_0x3c01ff,_0x56d01b){const _0x3fa1cf=_0x4ce511,_0x4eb892=document[_0x3fa1cf(0xbeb)]('lesson-view-modal'),_0x2c9d4c=document[_0x3fa1cf(0xbeb)](_0x3fa1cf(0xa47)),_0x47495a=document['getElementById'](_0x3fa1cf(0x257)),_0x54e9a0=document[_0x3fa1cf(0xbeb)](_0x3fa1cf(0x7c2));_0x2c9d4c[_0x3fa1cf(0x211)]=_0x3fa1cf(0x96a)+_0x3c01ff,_0x54e9a0['classList'][_0x3fa1cf(0x7e0)](_0x3fa1cf(0x9d8)),_0x47495a[_0x3fa1cf(0xa1f)]['remove'](_0x3fa1cf(0x9d8)),_0x4eb892[_0x3fa1cf(0xa1f)]['remove']('hidden'),generatePracticeTest(_0x3c01ff,_0x56d01b)[_0x3fa1cf(0x7d9)](_0x1b26e5=>{const _0x195b30=_0x3fa1cf;console[_0x195b30(0xd74)](_0x195b30(0xa79),_0x1b26e5),showMessage(_0x195b30(0x850)),_0x4eb892['classList'][_0x195b30(0x7e0)](_0x195b30(0x9d8));});}async function generatePracticeTest(_0x5478d2,_0x337734){const _0x44bfd9=_0x4ce511;[_0x44bfd9(0x800),'memoryContent',_0x44bfd9(0x591),'summaryContent'][_0x44bfd9(0xbd3)](_0x4d619b=>{const _0x81ec36=_0x44bfd9,_0x2a3394=document['getElementById'](_0x4d619b)[_0x81ec36(0x27b)];_0x2a3394&&(_0x2a3394[_0x81ec36(0xbcb)]['display']=_0x81ec36(0x434));});try{const _0x50187f='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x4ab473='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x337734+'\x27\x20ในหัวข้อ\x20\x27'+_0x5478d2+_0x44bfd9(0xd7e),_0x3be12b=await callGemini(_0x4ab473,!![]),_0x1afe8a=document[_0x44bfd9(0xbeb)]('lesson-view-title'),_0x434823=document[_0x44bfd9(0xbeb)](_0x44bfd9(0x257)),_0x233254=document[_0x44bfd9(0xbeb)]('lesson-sections-container'),_0x378766=document[_0x44bfd9(0xbeb)](_0x44bfd9(0x591))[_0x44bfd9(0x27b)];_0x1afe8a['innerText']=_0x44bfd9(0x230)+_0x5478d2[_0x44bfd9(0xea1)](/•\s/g,'')+_0x44bfd9(0xa42)+_0x337734+')',currentApplicationData=JSON[_0x44bfd9(0x6d2)](_0x3be12b);const _0x4f2a03=document[_0x44bfd9(0xbeb)](_0x44bfd9(0x591));_0x4f2a03[_0x44bfd9(0x28a)]=currentApplicationData[_0x44bfd9(0xa15)]((_0x33f46a,_0x248917)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x248917+0x1)+'.\x20'+marked[_0x44bfd9(0x9c5)](_0x33f46a['question'])+_0x44bfd9(0x485)+_0x248917+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33f46a['options'][_0x44bfd9(0xa15)]((_0x3d857a,_0x435238)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x248917+',\x20'+_0x435238+_0x44bfd9(0x629)+String['fromCharCode'](0x61+_0x435238)+'.\x20'+marked['parseInline'](_0x3d857a)+_0x44bfd9(0x1e5))[_0x44bfd9(0x919)]('')+_0x44bfd9(0x6a0))[_0x44bfd9(0x919)](''),window['MathJax']&&MathJax[_0x44bfd9(0x61b)]([_0x4f2a03]),_0x378766&&(_0x378766[_0x44bfd9(0xbcb)][_0x44bfd9(0x9be)]='block'),_0x434823['classList'][_0x44bfd9(0x7e0)](_0x44bfd9(0x9d8)),_0x233254[_0x44bfd9(0xa1f)][_0x44bfd9(0x711)](_0x44bfd9(0x9d8));}catch(_0x315328){console[_0x44bfd9(0xd74)](_0x315328);throw _0x315328;}}async function callGemini(_0x57d9ec,_0xad9231=![]){const _0x3347f1=_0x4ce511,_0x4cf20d=_0x3347f1(0x71a),_0x1f1772='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x4cf20d,_0xc1b121={'contents':[{'parts':[{'text':_0x57d9ec}]}]};_0xad9231&&(_0xc1b121[_0x3347f1(0x26d)]={'responseMimeType':_0x3347f1(0xad0)},_0x57d9ec['includes'](_0x3347f1(0xd8f))?_0xc1b121[_0x3347f1(0x26d)][_0x3347f1(0x384)]={'type':_0x3347f1(0x24c),'properties':{'gradeLevel':{'type':_0x3347f1(0xa2b)},'curriculum':{'type':_0x3347f1(0x216),'items':{'type':_0x3347f1(0x24c),'properties':{'sara':{'type':_0x3347f1(0xa2b)},'mainTopics':{'type':_0x3347f1(0x216),'items':{'type':_0x3347f1(0x24c),'properties':{'topicName':{'type':_0x3347f1(0xa2b)},'subTopics':{'type':_0x3347f1(0x216),'items':{'type':_0x3347f1(0xa2b)}}},'required':[_0x3347f1(0x3a6),_0x3347f1(0xe68)]}}},'required':[_0x3347f1(0xb87),_0x3347f1(0x351)]}}},'required':[_0x3347f1(0x777),'curriculum']}:_0xc1b121[_0x3347f1(0x26d)][_0x3347f1(0x384)]={'type':'ARRAY','items':{'type':_0x3347f1(0x24c),'properties':{'question':{'type':_0x3347f1(0xa2b)},'options':{'type':_0x3347f1(0x216),'items':{'type':_0x3347f1(0xa2b)}},'answer':{'type':_0x3347f1(0xd7b)}},'required':[_0x3347f1(0x5f4),_0x3347f1(0xdf0),_0x3347f1(0x64e)]}});try{const _0x5ed248=await fetch(_0x1f1772,{'method':'POST','headers':{'Content-Type':_0x3347f1(0xad0)},'body':JSON[_0x3347f1(0xe4f)](_0xc1b121)});if(!_0x5ed248['ok']){const _0xbc63d9=await _0x5ed248[_0x3347f1(0xa19)]();console[_0x3347f1(0xd74)](_0x3347f1(0xa3d),_0xbc63d9);throw new Error(_0x3347f1(0x414)+_0x5ed248['status']);}const _0x1bf549=await _0x5ed248[_0x3347f1(0x4f0)]();if(_0x1bf549[_0x3347f1(0x7c6)]&&_0x1bf549[_0x3347f1(0x7c6)][0x0][_0x3347f1(0x59c)]&&_0x1bf549[_0x3347f1(0x7c6)][0x0]['content'][_0x3347f1(0x459)][0x0])return _0x1bf549[_0x3347f1(0x7c6)][0x0][_0x3347f1(0x59c)][_0x3347f1(0x459)][0x0][_0x3347f1(0xa19)];else{console[_0x3347f1(0xd74)]('Unexpected\x20API\x20response\x20structure:',_0x1bf549);if(_0x1bf549[_0x3347f1(0x7c6)]&&_0x1bf549[_0x3347f1(0x7c6)][0x0][_0x3347f1(0x5d8)]===_0x3347f1(0x93f))return JSON[_0x3347f1(0xe4f)]({'error':_0x3347f1(0x3cc)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x139cd3){console[_0x3347f1(0xd74)](_0x3347f1(0xddf),_0x139cd3);throw _0x139cd3;}}async function generateLesson(_0x4873f7=null,_0x4582fb=null){const _0x171134=_0x4ce511,_0x4de3ea=_0x4873f7,_0x2ca5fc=_0x4582fb||_0x171134(0x22d),_0x39bb45=document[_0x171134(0xbeb)](_0x171134(0x257)),_0x5e7183=document[_0x171134(0xbeb)](_0x171134(0x8e4));_0x5e7183[_0x171134(0x211)]=_0x171134(0xc04)+_0x4de3ea+'\x22...';try{let _0x2093b5=[];const _0x48e6ea=document['getElementById'](_0x171134(0xd71))?.[_0x171134(0xc07)]['trim']();if(_0x48e6ea)try{_0x5e7183[_0x171134(0x211)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x4ce0d6=await fetchFileFromUrl(_0x48e6ea,_0x171134(0xb0a)),_0x5916e4=await new Promise((_0x2215b3,_0x191ff7)=>{const _0x4ea73=_0x171134,_0x5e58a9=new FileReader();_0x5e58a9[_0x4ea73(0xf1b)](_0x4ce0d6),_0x5e58a9[_0x4ea73(0x48b)]=()=>_0x2215b3(_0x5e58a9['result'][_0x4ea73(0xa00)](',')[0x1]),_0x5e58a9['onerror']=_0x191ff7;});_0x2093b5[_0x171134(0x9ba)]({'inlineData':{'mimeType':_0x4ce0d6[_0x171134(0x562)],'data':_0x5916e4}});}catch(_0x4947f8){console[_0x171134(0xd74)](_0x171134(0x21c),_0x4947f8),showMessage(_0x171134(0xdc3));}const _0x44d25b=_0x171134(0xdf3)+_0x4de3ea+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x4de3ea+_0x171134(0x5af);_0x5e7183[_0x171134(0x211)]=_0x171134(0xc04)+_0x4de3ea+_0x171134(0xd11);const _0x5e2519='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x2ca5fc+_0x171134(0xa68)+_0x4de3ea+_0x171134(0x347)+_0x44d25b+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x107837='สำหรับหัวข้อ\x20\x27'+_0x4de3ea+_0x171134(0xa41)+_0x2ca5fc+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x44d25b+_0x171134(0x5e3),_0x1871e8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x34fe1f='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x2ca5fc+'\x27\x20ในหัวข้อ\x20\x27'+_0x4de3ea+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44d25b+_0x171134(0x8a1)+_0x1871e8+_0x171134(0x9bc),_0xb28d7c=_0x171134(0x695)+_0x4de3ea+_0x171134(0xe81)+_0x2ca5fc+_0x171134(0x520)+_0x44d25b+_0x171134(0x986),_0x200b3e={'type':_0x171134(0x216),'items':{'type':'OBJECT','properties':{'question':{'type':_0x171134(0xa2b)},'options':{'type':_0x171134(0x216),'items':{'type':_0x171134(0xa2b)}},'answer':{'type':_0x171134(0xd7b)}},'required':[_0x171134(0x5f4),'options',_0x171134(0x64e)]}},[_0x3019fc,_0x13a8b9,_0x3e2855,_0x10b3ee]=await Promise[_0x171134(0x408)]([handleApiCall([{'text':_0x5e2519},..._0x2093b5],'...',null,null,![]),handleApiCall([{'text':_0x107837},..._0x2093b5],_0x171134(0xdd6),null,null,![]),handleApiCall([{'text':_0x34fe1f},..._0x2093b5],'...',_0x200b3e,null,![]),handleApiCall([{'text':_0xb28d7c},..._0x2093b5],_0x171134(0xdd6),null,null,![])]),_0x3ef7e8=JSON[_0x171134(0xe4f)](_0x3e2855||[]),_0x3607a5=document['getElementById'](_0x171134(0xa47)),_0x56d6d2=document[_0x171134(0xbeb)]('lesson-sections-container');_0x3607a5['innerText']=_0x171134(0x4d0)+_0x4de3ea['replace'](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x2ca5fc+')',['pointContent',_0x171134(0x1d6),_0x171134(0xd9b)]['forEach'](_0x1e9c74=>{const _0x301786=_0x171134;document[_0x301786(0xbeb)](_0x1e9c74)[_0x301786(0x28a)]='';}),document[_0x171134(0xbeb)](_0x171134(0x800))['innerHTML']=_0x3019fc?marked[_0x171134(0x6d2)](_0x3019fc):_0x171134(0xc73),document[_0x171134(0xbeb)](_0x171134(0x1d6))[_0x171134(0x28a)]=_0x13a8b9?marked[_0x171134(0x6d2)](_0x13a8b9):_0x171134(0xc73),document['getElementById'](_0x171134(0xd9b))[_0x171134(0x28a)]=_0x10b3ee?marked[_0x171134(0x6d2)](_0x10b3ee):_0x171134(0xc73),currentApplicationData=JSON['parse'](_0x3ef7e8);const _0x4fbb6d=document[_0x171134(0xbeb)](_0x171134(0x591));_0x4fbb6d[_0x171134(0x28a)]=(currentApplicationData||[])[_0x171134(0xa15)]((_0x4cc3fa,_0x3892ca)=>_0x171134(0x9a9)+(_0x3892ca+0x1)+'.\x20'+marked[_0x171134(0x9c5)](_0x4cc3fa[_0x171134(0x5f4)]||'')+_0x171134(0x485)+_0x3892ca+_0x171134(0xe89)+(_0x4cc3fa['options']||[])[_0x171134(0xa15)]((_0x1648f3,_0x56d2cb)=>_0x171134(0xf1a)+_0x3892ca+',\x20'+_0x56d2cb+')\x22>'+String[_0x171134(0x540)](0x61+_0x56d2cb)+'.\x20'+marked[_0x171134(0x9c5)](_0x1648f3||'')+_0x171134(0x1e5))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x171134(0x919)]('')||'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>',window['MathJax']&&MathJax[_0x171134(0x61b)]([_0x56d6d2]),_0x39bb45['classList'][_0x171134(0x7e0)](_0x171134(0x9d8)),_0x56d6d2['classList'][_0x171134(0x711)](_0x171134(0x9d8));}catch(_0x32df80){console[_0x171134(0xd74)](_0x32df80);throw _0x32df80;}}function checkAnswer(_0x4ed6c3,_0x2bae0d){const _0x5a061b=_0x4ce511,_0x14980b=currentApplicationData[_0x4ed6c3],_0x566776=document[_0x5a061b(0xbeb)]('q'+_0x4ed6c3+_0x5a061b(0x350)),_0x481029=_0x566776['getElementsByTagName'](_0x5a061b(0x6c0));for(let _0x469d34 of _0x481029){_0x469d34[_0x5a061b(0x272)]=!![];}_0x2bae0d===_0x14980b[_0x5a061b(0x64e)]?_0x481029[_0x2bae0d][_0x5a061b(0xa1f)][_0x5a061b(0x7e0)](_0x5a061b(0x89a)):(_0x481029[_0x2bae0d][_0x5a061b(0xa1f)][_0x5a061b(0x7e0)]('incorrect'),_0x481029[_0x14980b[_0x5a061b(0x64e)]][_0x5a061b(0xa1f)][_0x5a061b(0x7e0)]('correct'));}window[_0x4ce511(0x652)]=handleGenerateAndShowLesson,window[_0x4ce511(0xa0c)]=checkAnswer,window[_0x4ce511(0xe42)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x2cfa40=_0x4ce511;if(document[_0x2cfa40(0xbeb)]('cropper-modal'))return;const _0x414963=_0x2cfa40(0x7f5);document[_0x2cfa40(0xdc7)][_0x2cfa40(0x312)](_0x2cfa40(0x5ba),_0x414963),setupCropperButtons();}function setupCropperButtons(){const _0x596a46=_0x4ce511;document['getElementById'](_0x596a46(0xc52))[_0x596a46(0x79a)]('click',()=>{const _0x87eaee=_0x596a46;document[_0x87eaee(0xbeb)](_0x87eaee(0x754))[_0x87eaee(0xa1f)][_0x87eaee(0x7e0)]('hidden'),cropperInstance&&(cropperInstance['destroy'](),cropperInstance=null),document['getElementById'](_0x87eaee(0x825))[_0x87eaee(0xc07)]='';}),document[_0x596a46(0xbeb)](_0x596a46(0x28d))[_0x596a46(0x79a)](_0x596a46(0xc64),()=>{const _0x1ff632=_0x596a46;if(!cropperInstance)return;const _0x129874=document[_0x1ff632(0xbeb)](_0x1ff632(0x28d)),_0x4265ea=_0x129874['innerHTML'];_0x129874[_0x1ff632(0x28a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...',_0x129874[_0x1ff632(0x272)]=!![],cropperInstance['getCroppedCanvas']()['toBlob'](async _0x1e8048=>{const _0x5dbc0a=_0x1ff632;document[_0x5dbc0a(0xbeb)](_0x5dbc0a(0x754))[_0x5dbc0a(0xa1f)][_0x5dbc0a(0x7e0)](_0x5dbc0a(0x9d8));const _0x1ebc9c=new File([_0x1e8048],_0x5dbc0a(0xda4),{'type':'image/png'});await handleScanImageForText(_0x1ebc9c),_0x129874[_0x5dbc0a(0x28a)]=_0x4265ea,_0x129874[_0x5dbc0a(0x272)]=![],cropperInstance['destroy'](),cropperInstance=null;},_0x1ff632(0x97c));});}function startCropper(_0x5a7b1f){const _0xa1ad7c=_0x4ce511;ensureCropperModalExists();const _0x4a56e2=document['getElementById'](_0xa1ad7c(0x754)),_0x35fe68=document[_0xa1ad7c(0xbeb)]('image-to-crop'),_0x5be4d1=new FileReader();_0x5be4d1[_0xa1ad7c(0x48b)]=_0x1eddf8=>{const _0x5b960f=_0xa1ad7c;_0x35fe68['src']=_0x1eddf8[_0x5b960f(0x544)][_0x5b960f(0xb58)],_0x4a56e2[_0x5b960f(0xa1f)][_0x5b960f(0x711)](_0x5b960f(0x9d8));if(cropperInstance)cropperInstance[_0x5b960f(0x1e8)]();cropperInstance=new Cropper(_0x35fe68,{'viewMode':0x1,'dragMode':'move','autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x5be4d1[_0xa1ad7c(0xf1b)](_0x5a7b1f);}document['addEventListener'](_0x4ce511(0xd64),()=>{const _0x1f62db=_0x4ce511,_0x56a26c=document['getElementById'](_0x1f62db(0x825)),_0x20b90b=document['getElementById'](_0x1f62db(0xedf));_0x20b90b&&_0x56a26c&&(_0x20b90b['addEventListener']('click',()=>{const _0xc8c754=_0x1f62db;_0x56a26c[_0xc8c754(0xc07)]='',_0x56a26c[_0xc8c754(0xc64)]();}),_0x56a26c[_0x1f62db(0x79a)](_0x1f62db(0xb5d),_0x2811c0=>{const _0x33dae6=_0x1f62db;_0x2811c0[_0x33dae6(0x544)][_0x33dae6(0x200)]&&_0x2811c0[_0x33dae6(0x544)][_0x33dae6(0x200)][_0x33dae6(0x81c)]>0x0&&startCropper(_0x2811c0[_0x33dae6(0x544)]['files'][0x0]);}));});async function handleScanImageForText(_0x16e2ad){const _0x376b76=_0x4ce511,_0xc697b1=document[_0x376b76(0xbeb)](_0x376b76(0x727)),_0x5afbee=document['getElementById'](_0x376b76(0x27e));if(!_0x16e2ad)return;_0x5afbee[_0x376b76(0x272)]=!![],_0x5afbee['innerHTML']=_0x376b76(0xd17),_0xc697b1[_0x376b76(0x393)]=_0x376b76(0x7ee);try{const _0xc3cf1e=await new Promise((_0x15ef35,_0x311d00)=>{const _0x6d62e6=_0x376b76,_0x48da0d=new FileReader();_0x48da0d[_0x6d62e6(0xf1b)](_0x16e2ad),_0x48da0d[_0x6d62e6(0x48b)]=()=>_0x15ef35(_0x48da0d[_0x6d62e6(0xb58)]['split'](',')[0x1]),_0x48da0d[_0x6d62e6(0xdf9)]=_0x311d00;}),_0x33e666=_0x376b76(0x239),_0x269404=[{'text':_0x33e666},{'inlineData':{'mimeType':_0x16e2ad['type'],'data':_0xc3cf1e}}],_0x4a1d17=await handleApiCall(_0x269404,_0x376b76(0x8bc),null,null,![]);if(_0x4a1d17){const _0x22cd8d=_0xc697b1[_0x376b76(0xc07)][_0x376b76(0x88c)]();_0xc697b1['value']=_0x22cd8d?_0x22cd8d+'\x0a\x0a'+_0x4a1d17:_0x4a1d17,showMessage('สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ');}else throw new Error(_0x376b76(0x579));}catch(_0x372043){console[_0x376b76(0xd74)](_0x376b76(0x7ab),_0x372043),showMessage('เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20'+_0x372043['message']);}finally{_0x5afbee['disabled']=![],_0x5afbee[_0x376b76(0x28a)]=_0x376b76(0x405),document[_0x376b76(0xbeb)](_0x376b76(0xd5a))['value']='';}}async function initialize(){const _0x2308d1=_0x4ce511;try{const _0x84baf5=initializeApp(firebaseConfig);db=getFirestore(_0x84baf5),auth=getAuth(_0x84baf5),setupAuthListener(),setupEventListeners(),showView(_0x2308d1(0x2ec)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x932df5){console[_0x2308d1(0xd74)](_0x2308d1(0xaf8),_0x932df5),showMessage(_0x2308d1(0x8cb));}}async function handleVerifyAnswersInEditor(){const _0x4b768d=_0x4ce511,_0x18820f=document[_0x4b768d(0xbeb)]('quiz-editor-modal');if(!_0x18820f)return;const _0x22ba95=document[_0x4b768d(0xbeb)]('verify-answers-editor-btn');_0x22ba95[_0x4b768d(0x272)]=!![],_0x22ba95[_0x4b768d(0x28a)]=_0x4b768d(0x8e6);try{const _0x7a22a1=_0x18820f[_0x4b768d(0xb02)](_0x4b768d(0x8ec)),_0xf37c19=Array[_0x4b768d(0xc0c)](_0x7a22a1)['map']((_0x217f05,_0x3be1eb)=>{const _0x26e50c=_0x4b768d,_0x4eebfc=_0x217f05[_0x26e50c(0x6b1)][_0x26e50c(0xbe3)],_0x316b0c=_0x217f05['querySelector'](_0x26e50c(0xaa9))['value'];let _0x6a5333=null,_0x254e7b='';switch(_0x4eebfc){case _0x26e50c(0x8be):const _0x50e0e8=_0x217f05[_0x26e50c(0xb02)](_0x26e50c(0xda2));_0x6a5333=Array[_0x26e50c(0xc0c)](_0x50e0e8)[_0x26e50c(0xa15)](_0x107939=>_0x107939[_0x26e50c(0xc07)]);const _0x3db84f=_0x217f05[_0x26e50c(0x2d0)](_0x26e50c(0xa3b));_0x3db84f&&(_0x254e7b=_0x6a5333[parseInt(_0x3db84f['value'])]||'');break;case _0x26e50c(0xc63):case _0x26e50c(0x2fc):_0x6a5333=[],_0x254e7b=_0x217f05[_0x26e50c(0x2d0)](_0x26e50c(0x43a))[_0x26e50c(0xc07)];break;case _0x26e50c(0x4ac):_0x6a5333=[_0x26e50c(0xdff),'false'];const _0x5064d1=_0x217f05['querySelector'](_0x26e50c(0xa3b));_0x254e7b=_0x5064d1?_0x5064d1['value']:'';break;case _0x26e50c(0x700):_0x6a5333=[],_0x254e7b=_0x217f05['querySelector'](_0x26e50c(0x3f6))[_0x26e50c(0xc07)];break;}return{'questionIndex':_0x3be1eb,'questionType':_0x4eebfc,'question':_0x316b0c,'options':_0x6a5333,'proposedAnswer':_0x254e7b};}),_0x40a6aa=_0x4b768d(0x59b)+JSON[_0x4b768d(0xe4f)](_0xf37c19)+_0x4b768d(0x675),_0x3c4679={'type':_0x4b768d(0x216),'items':{'type':_0x4b768d(0x24c),'properties':{'questionIndex':{'type':_0x4b768d(0xd7b)},'isCorrect':{'type':_0x4b768d(0xb06)},'justification':{'type':_0x4b768d(0xa2b)},'correctOptionExists':{'type':'BOOLEAN'},'suggestedAnswer':{'type':_0x4b768d(0xa2b)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':'ARRAY','items':{'type':_0x4b768d(0xa2b)}},'newCorrectIndex':{'type':_0x4b768d(0xd7b)}},'required':['newOptions',_0x4b768d(0x9f1)]}},'required':[_0x4b768d(0x4cd),_0x4b768d(0xc70),_0x4b768d(0x3b3)]}},_0x25b3ed=await callAnalysisApi(_0x40a6aa,{'type':'OBJECT','properties':{'result':_0x3c4679},'required':['result']});if(_0x25b3ed&&_0x25b3ed['result'])displayVerificationResultsInEditor(_0x25b3ed['result']);else throw new Error('AI\x20ไม่ส่งผลลัพธ์กลับมา');}catch(_0x218919){console[_0x4b768d(0xd74)](_0x4b768d(0x247),_0x218919),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20'+_0x218919['message']);}finally{_0x22ba95[_0x4b768d(0x272)]=![],_0x22ba95[_0x4b768d(0x28a)]=_0x4b768d(0x939);}}function displayVerificationResultsInEditor(_0x109bea){const _0x47a073=_0x4ce511;_0x109bea[_0x47a073(0xbd3)](_0x2693fd=>{const _0x13dc43=_0x47a073,_0x2d5a34=document[_0x13dc43(0x2d0)](_0x13dc43(0xba7)+_0x2693fd[_0x13dc43(0x4cd)]+'\x22]');if(!_0x2d5a34)return;const _0x2d8d98=_0x2d5a34[_0x13dc43(0x2d0)](_0x13dc43(0x976));if(_0x2d8d98)_0x2d8d98[_0x13dc43(0x711)]();let _0x2c9bfe='';if(_0x2693fd[_0x13dc43(0xc3b)]&&_0x2693fd[_0x13dc43(0xc3b)]['newOptions']){const _0x2860de=_0x2693fd[_0x13dc43(0xc3b)]['newOptions'],_0x80bb7c=_0x2693fd[_0x13dc43(0xc3b)][_0x13dc43(0x9f1)],_0x44b094=_0x2d5a34[_0x13dc43(0x6b1)]['qType'];if(_0x44b094===_0x13dc43(0x8be)){const _0x542c3c=_0x2d5a34[_0x13dc43(0xb02)](_0x13dc43(0xda2));_0x542c3c[_0x13dc43(0xbd3)]((_0x43d409,_0xb00ef1)=>{const _0x4c4f51=_0x13dc43;_0x2860de[_0xb00ef1]?_0x43d409['value']=_0x2860de[_0xb00ef1]:_0x43d409[_0x4c4f51(0xc07)]=_0x4c4f51(0xad1);});const _0x36dcc6=_0x2d5a34[_0x13dc43(0x2d0)](_0x13dc43(0x30e)+_0x80bb7c+'\x22]');_0x36dcc6&&(_0x36dcc6['checked']=!![]),_0x2c9bfe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x2d5a34[_0x13dc43(0xa1f)][_0x13dc43(0x7e0)]('bg-yellow-200',_0x13dc43(0x667),_0x13dc43(0xb54)),setTimeout(()=>{const _0x449ef1=_0x13dc43;_0x2d5a34['classList'][_0x449ef1(0x711)]('bg-yellow-200');},0x9c4);}}else{if(!_0x2693fd[_0x13dc43(0xc70)]&&_0x2693fd[_0x13dc43(0x3af)]){const _0x53b0f4=_0x2693fd['suggestedAnswer']?_0x13dc43(0x792):'';_0x2c9bfe=_0x13dc43(0xaf7)+_0x53b0f4+_0x13dc43(0x5d9)+_0x2693fd['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2693fd['suggestedAnswer']?_0x13dc43(0x31e)+_0x2693fd['suggestedAnswer']+_0x13dc43(0x8d0):'')+_0x13dc43(0x7cb);const _0x37e3c4=_0x2d5a34[_0x13dc43(0x6b1)]['qType'],_0x16bc37=_0x26bba2=>{const _0x41cc9f=_0x13dc43;if(!_0x26bba2)return;_0x26bba2[_0x41cc9f(0xa1f)][_0x41cc9f(0x7e0)](_0x41cc9f(0x84f),_0x41cc9f(0x667),_0x41cc9f(0xb54)),setTimeout(()=>{const _0x350404=_0x41cc9f;_0x26bba2[_0x350404(0xa1f)][_0x350404(0x711)](_0x350404(0x84f));},0x9c4);};if(_0x37e3c4===_0x13dc43(0x8be)){const _0x4e24a1=Array[_0x13dc43(0xc0c)](_0x2d5a34[_0x13dc43(0xb02)]('input[type=\x22text\x22]')),_0x407f1e=_0x4e24a1[_0x13dc43(0x9db)](_0x3a1e58=>_0x3a1e58[_0x13dc43(0xc07)]['trim']()['toLowerCase']()===_0x2693fd[_0x13dc43(0x3af)][_0x13dc43(0x88c)]()[_0x13dc43(0x298)]());if(_0x407f1e!==-0x1){const _0x4789a0=_0x2d5a34[_0x13dc43(0x2d0)](_0x13dc43(0x30e)+_0x407f1e+'\x22]');_0x4789a0&&(_0x4789a0[_0x13dc43(0x375)]=!![],_0x16bc37(_0x4789a0[_0x13dc43(0x253)]('div')));}}else{if(_0x37e3c4===_0x13dc43(0xc63)||_0x37e3c4===_0x13dc43(0x700)){const _0x2309da=_0x2d5a34[_0x13dc43(0x2d0)](_0x13dc43(0x60e));_0x2309da&&(_0x2309da[_0x13dc43(0xc07)]=_0x2693fd[_0x13dc43(0x3af)],_0x16bc37(_0x2309da));}else{if(_0x37e3c4===_0x13dc43(0x4ac)){const _0x1cb9e7=_0x2693fd[_0x13dc43(0x3af)][_0x13dc43(0x88c)]()['toLowerCase'](),_0x50ba44=_0x2d5a34[_0x13dc43(0x2d0)](_0x13dc43(0x30e)+_0x1cb9e7+'\x22]');_0x50ba44&&(_0x50ba44[_0x13dc43(0x375)]=!![],_0x16bc37(_0x50ba44['closest'](_0x13dc43(0x3ae))));}}}}else _0x2693fd[_0x13dc43(0xc70)]&&(_0x2c9bfe=_0x13dc43(0x837));}_0x2d5a34[_0x13dc43(0x312)](_0x13dc43(0x5ba),_0x2c9bfe);}),showMessage(_0x47a073(0xde9));}async function handleVerifyAnswers(){const _0x4479e1=_0x4ce511;if(!currentQuizData||!currentQuizData[_0x4479e1(0x7bb)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x515364=document[_0x4479e1(0xbeb)](_0x4479e1(0x998));_0x515364['disabled']=!![],_0x515364['innerHTML']=_0x4479e1(0x8e6);try{const _0x1037e2=currentQuizData[_0x4479e1(0x7bb)][_0x4479e1(0xa15)]((_0x312015,_0x5c3960)=>{const _0x2260db=_0x4479e1;let _0x50a220='';const _0x431785=_0x312015['questionType']||currentQuizData[_0x2260db(0xd15)];switch(_0x431785){case'multiple_choice':_0x50a220=_0x312015[_0x2260db(0xdf0)][_0x312015[_0x2260db(0xae5)]];break;case _0x2260db(0xc63):_0x50a220=_0x312015[_0x2260db(0xe56)];break;case _0x2260db(0x4ac):_0x50a220=_0x312015['correctAnswer']['toString']();break;case'matching_item':_0x50a220=_0x312015[_0x2260db(0x5c9)];break;}return{'question':_0x312015['stem']||_0x312015[_0x2260db(0xbc2)],'options':_0x312015[_0x2260db(0xdf0)]||null,'proposedAnswer':_0x50a220};}),_0x56a950='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x4479e1(0xe4f)](_0x1037e2)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x35d770={'type':_0x4479e1(0x216),'items':{'type':_0x4479e1(0x24c),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x4479e1(0xb06)},'justification':{'type':_0x4479e1(0xa2b)},'suggestedAnswer':{'type':_0x4479e1(0xa2b)}},'required':[_0x4479e1(0x4cd),_0x4479e1(0xc70),_0x4479e1(0x3b3)]}},_0x5155ba=await callAnalysisApi(_0x56a950,{'type':_0x4479e1(0x24c),'properties':{'result':_0x35d770},'required':['result']});displayVerificationResults(_0x5155ba[_0x4479e1(0xb58)]);}catch(_0x35d4cc){console[_0x4479e1(0xd74)](_0x4479e1(0xa57),_0x35d4cc),showMessage(_0x4479e1(0x962));}finally{_0x515364['disabled']=![],_0x515364['innerHTML']=_0x4479e1(0x69f);}}function _0x103e(){const _0xbe8d3f=['<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','.parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','comparison-overall-content','perfect_score','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','replaceChild','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','worksheet-tab','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','handleGeneratePracticeTest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','rgba(255,\x20255,\x200,\x200.5)','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','.topic-category','.bp-create-content-quiz-btn','สลับไปโหมดผู้ควบคุม','.live-answer-btn,\x20#sync-submit-btn','คำถามถัดไป','<li>','quiz-results-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','comparison-individual-tab','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','G-V90KRM0L63','.pointsLastQuestion','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','idealAnswer','teacherTips','fas\x20fa-user-edit','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gain','เกิดข้อผิดพลาดในการบันทึก','players.','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','isScored','groups.','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','playerNicknames','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','url','dispatchEvent','opacity','subTopics','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','text-green-800','asc','\x20ชิ้น)','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setFont','wager-slider','show-final-results-btn','หนอนหนังสือ','open-scratchpad-btn','approx','⏳\x20ซื้อเวลา','คำถามดิบ:\x20\x22','Error\x20updating\x20old\x20quizzes:','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','6906MWonsk','text-green-700\x20bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','round','ต้นฉบับ\x201','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','powerupUsed_q','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','.file-topic-selection-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','export-lesson-to-pdf-btn','blueprintShortcuts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','pointermove','.delete-parallel-shortcut-tab-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','math-topics-checkbox-container',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','choices_only','point','latestSubmittedAt','strokeStyle','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','%</span>','referenceFileUrl','\x20กลุ่ม</p></div>','text-red-300\x20hover:text-red-100','dataIndex','ฟังก์ชันค่าสัมบูรณ์','Error\x20generating\x20from\x20parallel\x20test\x20file:','replace','\x20คะแนน</span></div>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','project-id-display','47732FXNPLD','topic-input','ลิมิต','/public/data/projects/','\x20/\x20','pointsLastQuestion','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','AI\x20แก้ไขคำถามสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','prod','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','MathJax','ai-quiz-app-aefee','project-passcode-input','open-market-btn','การกระจายและการจัดหมู่','เกิดข้อผิดพลาดในการปักหมุด','complexityValue','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','getDocument','ออฟฟิศซินโดรม','exponentialRampToValueAtTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','mousemove','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/questionBank','currentTime','practice-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','delete-all-students-btn','bg-yellow-100','anon-show-answer-toggle','\x5cfrac{$1}{$2}','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','อัปเดตสถานะสำเร็จ','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','.subTopic','\x20mx-1\x20text-lg\x22></i></span>','โดเมนและเรนจ์',',\x20r=','stopPropagation','<div\x20style=\x22','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','.move-file-shortcut-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกโปรเจคปลายทาง','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','.edit-custom-topic-btn','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','camera-crop-btn','Enter','endsWith','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','พาราโบลา','pointer-events-none','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','frac','.delete-student-btn','cancel-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','cancel-global-activity-btn','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','ตรวจพบการออกจากหน้าจอครบ\x20','comparison-individual-content','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','onSecondChance','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','.mb-6.p-4','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a---\x0a','/public/data/blueprintProjects','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','parallel-default-','referenceUrl','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกโปรเจคเพื่อบันทึก','linkedQuizIds','per_question','isBlackMarketEnabled','สมการค่าสัมบูรณ์','นินจาชาเขียว','behavior-log','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','[data-topic-container-id]','เกิดข้อผิดพลาดในการติดดาว','คาถาแยกเงาพันร่าง','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','โลมาบิน','MathJax\x20re-render\x20failed:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.remove-shortcut-from-tab-btn','Error\x20fetching\x20quiz\x20settings:','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','mean','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','.topic-actions-edit','cancel-file-shortcut-edit-btn','Error\x20joining\x20team\x20quiz:','not_generated','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20quiz\x20settings:','manual-blueprint-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','readAsDataURL','selected-text-','bg-gray-50','perQuestionStats','reveal-answer-btn','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','bp-modal-num-choices','minHeight','indexOf','\x20ชุด)','สุดยอด!\x20ตอบถูกทุกข้อ','blueprint-settings-modal','ดีมาก','bp-project-title','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','per-question-text','numQuestions','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','imageCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','.project-card-container[data-id]','พื้นที่ใต้กราฟ/ระหว่างกราฟ','back-from-results-btn','geq','สร้างใหม่','promise','cancel-admin-login-btn','ไม่พบข้อมูลการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','บันทึกโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','กำลังกลับเข้าสู่เกม\x20','docs','<span\x20title=\x22','authed_project_','sync-player-management','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','print','timestamp','</tbody></table></div>','parseFromString','delete','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','student-passcode-input','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','Loaded\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','Error\x20displaying\x20blueprint\x20project:','upper_group_count','fa-fire\x20text-orange-500','rgba(59,\x20130,\x20246,\x200.7)','ทะเล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','state','cancel-blueprint-projects-btn','Error\x20joining\x20live\x20game:','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฟังก์ชันพหุนาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','project-list','pin','Error\x20loading\x20blueprint\x20projects:','temp-loader-results','global-activity-modal','_opt','finished','loader','.export-pdf-list-btn','wasForced','innerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','bg-indigo-600\x20hover:bg-indigo-700','</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-upload-input','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','fontFamily','after','first_try_ace','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22team_player\x22]:checked','mixed','timer-bar','parallelTestShortcutsConfig','pen-tools-group','1:274192258111:web:4120c9118229b5644dd48a','wager-amount-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','text-emerald-900','get','memoryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','black-market-settings-container','player-count','\x22\x20สำเร็จ!','#confidence-input-','confirm-quiz-settings-btn','.pdf','isPinned','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','times','.png',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resultsSaved','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','parallel-test-upload-input','destroy','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','live-player-management','\x22\x20title=\x22','/public/data/syncGames/','z-index:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','(หลังเรียน)\x20','custom-math-topic-input','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','classStrengths','Team\x20Quiz','bp-modal-shuffle-setting-select','confirm-not-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','กำลังเตรียมไฟล์อ้างอิง...','\x20คน\x20เรียบร้อยแล้ว!','application/pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-teal-500\x20hover:bg-teal-600\x20text-white','reference-pdf-upload','files','fill_in_the_blank','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','admin','tfrac','left','download','lesson-plan-content','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouse','<span>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','เกิดข้อผิดพลาดในการใช้ตัวช่วย','bg-gray-500','quiz-id-input','แมวเก้าชีวิต','textContent','reference.txt','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','href','ARRAY','[data-field=\x22subTopic\x22]','\x20to\x20','setAttribute','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','AI\x20Fix\x20Error:','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','.delete-shortcut-tab-btn','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','ยังไม่เต็มนะ','เพิ่ม\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','projectSortOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','#F3E8FF','โหลดนาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','sync-timer-enable-checkbox','ซามูไรสายเดี่ยว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','ไม่ระบุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/preferences/main','แบบทดสอบฝึกฝนเรื่อง:\x20','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','dashboardConfig','ราชาคัมแบ็ก','pop','parallel-default-1','readAsArrayBuffer','shortcut-tabs-nav','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Attempting\x20to\x20save\x20game\x20results...','All\x20groups\x20have\x20finished.\x20Ending\x20game.','<button\x20data-tab-id=\x22','ค่าคลาดเคลื่อนของการวัด','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','arrayBuffer','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','add-file-shortcut-btn','text-gray-100','Error\x20verifying\x20answers\x20in\x20editor:','Error\x20saving\x20game\x20results:','.quiz-bank-move-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','subTopic','OBJECT','จากไฟล์ที่แนบมานี้,\x20','confidence-scoring-description','/public/data/quizzes','Error\x20during\x20class\x20analysis:','bg-green-100','getTextContent','closest','showImproveButton','width\x2060s\x20linear','Authentication\x20failed:','lesson-loader','Error\x20rendering\x20student\x20progress:','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','modal-timer-duration-label','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','classic','difficultyValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','topic-bank-list','overflow','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','การคูณเศษส่วน','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','buyTime','ดาบพิฆาตอสูร','mjx-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-shuffle-select','ดอกเบี้ยอย่างง่าย','timer-duration-input','generationConfig','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','4039YOEAue','Original\x20quiz\x20not\x20found','จิงโจ้สโลว์ไลฟ์','disabled','กรุณาใส่ชื่อโปรเจค','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-shortcut-id-input','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','(เลือกแล้ว\x20','.edit-points-btn','PERSEVERANCE','parentElement','bg-red-100','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scan-text-image-btn','half_mark_status','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','</span><button\x20data-player-name=\x22','backspace','การลบทศนิยม','/public/data/quizzes/','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x22,\x20','ความสัมพันธ์ของมุม','passing-score-input','.space-y-1.pl-4','innerHTML','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hiddenOptions_q','confirm-crop-btn','ค่าสัมบูรณ์','.edit-hidden-shortcut-btn','.quiz-bank-settings-btn','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','_opt1\x22\x20name=\x22question','bulk-confidence-scoring-checkbox','อุณหภูมิและการแปลง','publicLeaderboard','\x22\x20data-target-tab-id=\x22','toLowerCase','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hint','#view-rankings-btn','สรุปผลการวิเคราะห์:\x5cn','/public/data/syncGames','summary_chart','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','close-topic-bank-btn','cancel-test-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','auto','รายการนี้','.generate-lesson-btn','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','loopUntilPass','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','สู้ๆ\x20ลองอีกครั้งนะ','\x22\x20จำนวน\x20','สร้างชุดคำถามจับคู่','.live-answer-btn,\x20#live-submit-short-answer-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','sort','การจัดกลุ่มข้อมูล','passingScore','market-current-points','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','added','responses','parallelShortcutTabs','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','submissions','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','log','slice','scheduled_pending','responses.','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wasConfident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','สลับไปโหมดนักเรียน','game-pin-input','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','members','</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','...\x22)?','Could\x20not\x20fetch\x20reference\x20file:','querySelector','.sort-indicator','bg-red-500','พบ\x20Sync\x20Game!','parallel-test-tab','start-quiz-btn','promptFeedback','submit-group-answer-btn','wager-max-points','แบบทดสอบนี้ปิดใช้งานอยู่','isPasscodeEnabled','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','👁️','(นำโด่ง)','eraser','จับคู่แบบทดสอบสำเร็จ!','#E0E7FF','pinnedProjects','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','ลบแบบทดสอบสำเร็จแล้ว','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','countdown-display','blueprint-topics-list','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','getTime','ระยะจากจุดถึงเส้นตรง','ไม่สามารถเพิ่มนักเรียนได้','Failed\x20to\x20refund\x20powerup:','student','แก้ไขปุ่มลัด','อัตราและอัตราหน่วย','พีชคณิตและฟังก์ชัน','dblclick','\x5ccdot','<div\x20class=\x22answer-space\x22></div>','.quiz-bank-checkbox:checked','line-height:\x201.3;\x20min-width:\x200;','pinned-items','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','confirm-rename-quiz-btn','เส้นตรง:\x20ขนาน/ตั้งฉาก','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectOrder','ไม่พบข้อมูลข้อสอบหลังเรียน','fill_in_no_choices','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','<div><input\x20type=\x22radio\x22\x20id=\x22q','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','trail-tool-btn','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','leaderboard','applicationHTML','เงินงวด\x20(อนุกรมเงินงวด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.ai-content\x20blockquote','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dimmed','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','<div\x20class=\x22','N/A','จากเนื้อหาต่อไปนี้:\x20\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','input[type=\x22radio\x22][value=\x22','fix-lesson-latex-btn','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ก่อนเรียน','insertAdjacentHTML','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20data-shortcut-id=\x22','ยืนยันและอัปเดตทั้งหมด','สรุปผลสุดท้าย','cutOne','solution','Error\x20updating\x20quiz\x20status:','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','จำนวนเชิงซ้อน\x20(เสริม)','pin-backspace-btn','worksheet-input-area','<p><strong>คำตอบที่แนะนำ:</strong>\x20','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','comparison-overall-tab','presentation-explanation','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','scoresCalculated','</select>','str','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','ไอรอนแมน','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','analytics-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่สร้าง','text-red-600','backgroundColor','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','การปัดเศษและประมาณค่า','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','file-upload-input','\x22\x20value=\x22true\x22\x20','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','กรุณาวาง\x20URL\x20ของบทความก่อน','Error\x20deleting\x20student:','พื้นที่สามเหลี่ยม','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เมทริกซ์:\x20บวก/คูณ','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','find','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เพื่อนสนิท','.status','powerupUsed','leaderboard-quiz-tab-btn','close-student-rankings-btn','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','next-review-question-btn','realScore','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ไม่มีผู้ตอบตัวเลือกนี้','\x22\x20data-index=\x22','ไม่พบโปรเจค','project-title','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','-options','mainTopics','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','พิมพ์ตอบ','splice','เพนกวินไฟ','ใช้\x20\x22คำสาป\x22\x20กับ\x20','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','13014131CUXbDH',')\x22><span\x20style=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','Blueprint\x20O-NET\x20ป.6','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','shortcut-reference-url-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','parallel-shortcut-url-input','select','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','additional-parallel-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','student-project-leaderboard-tab','answer-counter','.save-custom-topic-btn','border-red-300\x20bg-red-50','Error\x20saving\x20visibility\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','confirmation-message','👁️\x20เผยตัวเลือก','เส้นจำนวน','lowerGroupResponders','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','/studentProfiles','checked','powerups.','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','กรุณากรอกข้อมูลให้ครบทุกช่อง','.ai-content\x20p','พิซซ่าหน้าทุเรียน','project-passcode-modal','presentation-ai-result','file-default-1','.bp-generate-lesson-btn','Error\x20processing\x20parallel\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','responseSchema','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','Error\x20during\x20deep\x20delete:','close-market-btn','.bp-unlink-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','ไม่สามารถบันทึกการตั้งค่าได้','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','createElement','ระยะเวลา\x20(นาที):','createOscillator','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','เสือซ่อนเล็บ','หัวข้อที่สร้างเอง','gameVariant','placeholder','clear-all-links-btn','filter','ลำดับเลขคณิต\x20(AP)','.delete-project-btn','some','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','bg-red-100\x20text-red-900','<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','shortcut-editor-modal','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','view-my-progress-btn','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','createElementNS','<p\x20class=\x22','topicName','status','createGain','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.move-parallel-shortcut-item','ไม่สามารถเริ่มเกมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','ศูนย์','div','suggestedAnswer','thead','curriculum','shuffleSetting','justification','ไม่ผ่าน','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-live-race-btn','save-quiz-btn','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','คณิตการเงิน/บูรณาการ','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','confidence-scoring-checkbox','resize','นักวิทยาศาสตร์','order','tGain','.pen-size-btn','quiz-search-input','CEOพันล้าน','analytics-tab-content','text-indigo-700','Error\x20adding\x20topic:','$1\x5c%','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','random','.option-input','currentPoints','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','student-rankings-modal','ไม่พบโปรเจคที่ต้องการลบ','ไม่พบแบบทดสอบ','confidence-scoring-toggle','sync-timer-bar','generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ฟังก์ชันสัมพัทธ์\x20(rational)','\x22\x20name=\x22team_answer\x22\x20value=\x22','กฎของโคไซน์','อนุพันธ์:\x20กฎพื้นฐาน','suspended','comparison-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20displaying\x20question\x20bank:','blueprint-topics-list-container','<div\x20class=\x22my-2\x22>','move','submittedAt','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','เรเดียนและการแปลงหน่วย','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','cancel-parallel-shortcut-edit-btn','answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-table-body','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','กำลังสร้างแบบทดสอบ\x20\x22','บันทึกการตั้งค่าสำเร็จ','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ยกเลิกการเชื่อมโยงสำเร็จ','file-shortcut-name-input','gamePin','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span>:\x20','.correct-response-input','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','ส้มตำปูปลาร้า','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x20(Player)\x20(ID:\x20','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','จำนวนและการดำเนินการ','substr','scratchpad-controls','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','<h1></h1>','-options\x22>','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','submit-team-answer-btn','all','bestScore','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x20name=\x22question','text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','#file-shortcut-tabs-nav\x20.tab-name-input','#e21b3c','topic-tab','API\x20call\x20failed\x20with\x20status:\x20','.lastAnswerIndex','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','Leaderboard\x20update\x20transaction\x20failed:\x20','end-team-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','นักล่าฝัน','parallel-shortcut_','\x22\x20data-quiz-id=\x22','ความต่อเนื่อง','project-sort-select','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','ไม่สามารถโหลดข้อมูลอันดับได้','rows','.generate-content-btn','confirm-game-start-modal','fa-crown\x20text-yellow-500','ระบบอสมการ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','bg-red-700\x20text-white\x20font-bold','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','Error\x20joining\x20sync\x20game:','สร้างแบบทดสอบปรนัย','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</li>','label[for=\x22num-questions\x22]','sync-timer-duration-input','none','#FFFFFF','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','close-comparison-modal-btn','.ideal-answer-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','.linkedQuizId','ศิลปิน','firstScore','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','highlighter-size-value','bulk-confidence-mode-container','.file-shortcut-btn[data-id=\x22','presentation-short-answer-input','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','ห.ร.ม.\x20(GCD)','boolean','element','.topic-name-display','เกิดข้อผิดพลาดในการส่งคำตอบ','Failed\x20to\x20get\x20hint:','ผู้ไม่ยอมแพ้','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','ย้ายแบบทดสอบไปโปรเจคอื่น','game-start-quiz-id','ที่พิมพ์ได้\x20จำนวน\x20','\x20ชุดสำเร็จ!','ฟังก์ชันเชิงเส้นและกราฟ','team-player-status-grid','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parts','submission','parallel-shortcuts-loading-msg','passcode-prompt-message','(ก่อนเรียน)','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','behavior-log-container','function','เต่าสายฟ้า','มี\x20Points\x20ไม่เพียงพอ','อัตราส่วนและสัดส่วน','admin-testing','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docChanges','next-question-timed-btn','close-game-final-btn','text-red-700\x20bg-red-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','bg-red-500\x20text-white\x20font-bold','คัดลอกรหัสแล้ว!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','shortcut-name-input','.draggable-text','.group\x5c/dropdown-parallel','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','total','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20</div>','ไม่ได้ตอบ','bg-green-500\x20hover:bg-green-600\x20text-white','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','padding','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','(พยายามอยู่)','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','behavior-log-tab-btn','ส่วนเบี่ยงเบนเฉลี่ย','baseVal','</div></div></div>','Error\x20processing\x20file\x20for\x20AI:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','applicationData','incorrect','touch','back-to-home-manual-release','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','onload','student-team-join','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','text-white','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','disabled\x20bg-gray-400\x20cursor-not-allowed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','fas\x20fa-star\x20text-yellow-500','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','keyConcepts','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','questionDisplayedAt','จัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete-svg-btn','ค่าความจริง/ตารางค่าความจริง','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','verify-answers-editor-btn','</td>','force-math-checkbox','textarea[name=\x22team_answer\x22]','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','(รอคะแนน)','wasJinxed','นักเดินทาง','topic_','ตะวันฉาย','live-player-list','<i\x20class=\x22fas\x20fa-pen\x22></i>','select[name=\x22question_single\x22]','application','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','true_false','FileReader\x20error:','แบบทดสอบที่ติดดาว','export-tutor-pdf-btn','touchstart','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','q-explanation-','parallelShortcutOrder','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_new','start','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','.delete-file-shortcut-btn','bg-red-50','actions-container-','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','scratchpad-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','.move-shortcut-dropdown','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','Error\x20analyzing\x20file\x20for\x20topics:','สมการตรีโกณมิติ','toggle','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','กรุณาเลือกโปรเจคก่อน','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20วินาที','กำลังโหลดคลังข้อสอบทั้งหมด...','stop','raw','การสร้างรูปด้วยวงเวียน–สันตรง','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','questionIndex','Error\x20linking\x20quizzes:','slide-counter','บทเรียนเรื่อง:\x20','pointerup','toLocaleString','confirm-team-players-btn','results_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','student-progress-content','screen','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','cancel-move-quiz-btn','cancel-game-start-btn','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','stem','องค์ประกอบของฟังก์ชัน','(ฉบับง่าย)\x20','-tab-content','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','กรุณาใส่ชื่อใหม่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','desc','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','การประยุกต์เวกเตอร์พื้นฐาน','settings','shortcutOrder','---\x20[คำถามใหม่]\x20---','questionId','.tab-name-display','ผลรวมอนุกรม\x20(Σ)','json','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','specialist','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','ต้นฉบับทั้งหมด','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','เลือกและเริ่มสร้าง','timerDuration','getAttributeNS','text-emerald-800','group','post-test','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','(คู่ขนาน)\x20','scratchpad-close-btn','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','New\x20question\x20detected.\x20Cleaning\x20up.','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','whole_quiz','30px','cancel-confidence-btn','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','quiz-settings-modal','Remedial\x20quiz\x20generation\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22loader\x20mx-auto\x22></div>','show-results-btn','ฐานนิยม','/lessons','standard','https://drive.google.com/uc?export=download&id=','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','transformOrigin','COMEBACK_KING','สมการราก\x20(radical)','</body></html>','ref','loader-text','\x20in\x20all\x20blueprint\x20projects.','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown(','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','ไม่มี','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','answering','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22syncVariant\x22][value=\x22','✂️\x20ตัด\x201\x20ตัวเลือก','toLocaleDateString','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.bp-delete-topic-btn','width','\x20คนที่ส่ง\x20ตอบถูก\x20(','.application-options\x20button','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','position','kick-player-btn','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','.quiz-bank-present-btn','.ai-fix-question-btn','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','red','pathname','-9999px','แม่น้ำ','generate-from-text-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','powerups','<span\x20class=\x22font-bold\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','target','fixedData','move-quiz-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STOP','sin','perfect_score_status','.group','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','.bp-live-btn','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','รูปสี่เหลี่ยมและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','matching','<p\x20class=\x22font-bold\x20text-sm\x20','พบข้อสอบ\x20','manage','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','</p></div>','leq','ไฟล์ลัด\x201','ค่าเฉลี่ย','update','scratchpad-question','highlighter-tools-group','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-input','type','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','ป่าไม้','border-green-300\x20bg-green-50','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','standardTopic','currentQuestionIndex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','ผ่าน','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','ใช้ไอเทม\x20','sawtooth','กราฟแท่ง\x20กราฟเส้น','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','.delete-quiz-btn','sync-variant-selector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','.tab-name-input','.buy-time-confirm-btn','AI\x20ไม่สามารถอ่านข้อความได้','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','getPage','removed','confirm-link-quiz-btn','</h3>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','lineCap','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ตั้งเวลา\x20(เปิด)','lineWidth','text/html','touchend','webkitRequestFullscreen','live-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#parallel-shortcut-tabs-nav\x20.tab-name-input','topic-quiz-bank-modal','explanation','requestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','helvetica','ทฤษฎีทวินาม\x20(เบื้องต้น)','center','applicationContent','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','เกิดข้อผิดพลาดในการลบโปรเจค','questions_only','text-gray-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Failed\x20to\x20kick\x20player\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20','content','.delete-question-editor-btn','fa-dumbbell\x20text-gray-700','back-to-results-btn','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','add-parallel-shortcut-tab-btn','project-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20ให้เป็นคำถามประเภท\x20\x22','document','เปิด\x20(จับเวลา)','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','blur','\x20P)','project-dashboard-view','live-submit-short-answer-btn','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไฮเพอร์โบลา','show-in-student-dashboard-checkbox','ตรีโกณมิติ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-default-','td,\x20th','shadowBlur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beforeend','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','อยู่ในสาระการเรียนรู้ใด:','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perseverance','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','ไม่พบข้อมูลแบบทดสอบ','fadeStartTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','wager-modal','freeMarketEntryUsed_q','ปริมาตรรูปทรงสามมิติ','move-quiz-modal','Invalid\x20response\x20structure\x20from\x20AI.','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','correctResponse','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','ไม่พบตารางสำหรับ\x20Export','\x20ชุด)</span>','admin-dashboard','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','แอบชอบ','API\x20Error\x20Response:','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','finishReason','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','stroke','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','(ตามมาติดๆ)','className','bg-black/10','Error\x20submitting\x20team\x20answer:','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','passcode','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','กลุ่มของคุณ','ตัวประกอบและตัวประกอบเฉพาะ','Error\x20analyzing\x20blueprint\x20topics:','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','[data-topic-id=\x22','gameData','<i\x20class=\x22fas\x20fa-save\x22></i>','Error\x20loading\x20quiz\x20for\x20student:','AI\x20Formula\x20Fix\x20Error:','padStart','touchcancel','ปริพันธ์จำกัด','ทศนิยม\x20(ค่าประจำหลัก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22syncVariant\x22]:checked','เปลี่ยนชื่อแบบทดสอบสำเร็จ','question','บันทึกการตั้งค่าการแสดงผลสำเร็จ','Error\x20updating\x20custom\x20topic:','Error\x20joining\x20activity:','text-blue-700','#26890c','jspdf','isAnonymousRevealed','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generate-worksheet-btn','ไฟล์ลัด\x202','anon-settings-container','.cancel-edit-topic-btn','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','ผู้พิชิตดาว','\x20ตัวเลือก.\x20','save-file-shortcut-btn','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','leaderboard-table-body','.custom-math-dropdown','table','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Failed\x20to\x20get\x20standardized\x20topic:','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','prev-question-btn','.ideal-answer-input,\x20.correct-response-input','text-yellow-300','start-sync-game-btn','[id^=\x22dropdown-list-\x22]','บันทึกแบบทดสอบสำเร็จแล้ว!','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','connect','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drill-feedback','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','typesetPromise','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','use-powerup-buyTime','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','\x22\x20data-q-type=\x22','appendChild','การแปลงรูปอัตลักษณ์','P/อัน)','กรุณาเลือกคำตอบของกลุ่ม','ปล่อยพลัง','triangle','สร้างแล้ว','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',')\x22>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','PERFECT_SCORE','dragover','insurance','name','หมีขั้วโลกใต้','แผนการสอน:\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.file-shortcut-tab-btn','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','allResponses','save-parallel-shortcut-btn','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ai-quiz-app-aefee.firebaseapp.com','name_asc','\x20สำเร็จ','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','difficulty-level-select','memory','game-start-mode','export-leaderboard-image-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-file-shortcut-tab-btn','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','starred','<span\x20class=\x22block\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default-2','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-bank-modal','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','answer','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','handleGenerateAndShowLesson','#6366F1','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','.quiz-settings-btn','\x5csum','resultsDisplay','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ใช่','ดาวสภา','manual-create-blueprint-btn','selectedTopicNames','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','/submissions','highlighter-size-slider','save-game-results-checkbox','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','shuffledQuiz','bg-[#4ADE80]\x20text-green-900\x20font-bold','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','live-short-answer-input','transition-all','เศษส่วน\x20(ย่อ/ขยาย)','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','file-topic-input','ดวงดาว','student-quiz-topic','พิสัย','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','originalQuestionText','parallel-shortcut-name-input','default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','sum','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','(ไม่มีชื่อ)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','min','student-join-game-view',')</span></div>','\x22>ไม่ใช่</p>','???','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x20ใหม่...','border-gray-200','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Re-grade\x20process\x20failed:','กำลังอ่านและเตรียมไฟล์...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','quiz-editor-questions-container','empty','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','.pin-key','reset-view-btn','message','confirm-manual-bp-btn','fontSize','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x20<span>เวลาโบนัสทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','คำถาม...','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','txt','ย้าย','analytics','การคูณ','results-table','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','itemId','ตลาดมืด\x20(-1\x20P)','border-gray-300','404\x20Not\x20Found','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','คะแนนเต็ม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้าง:\x20','Error\x20starting\x20game:','.move-file-shortcut-menu-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','ตัวแปรและนิพจน์','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','ชีสเค้ก','dataset','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','main-correct-answer-display','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','โจรสลัดอวกาศ','เกิดข้อผิดพลาดในการลบผลสอบ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การลบ','.confidence-choice-btn','(กำลังไล่ตาม)','.presentation-option','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','setAttributeNS','button','การแจกแจงปกติและ\x20z-score','.pen-color-btn','<textarea\x20name=\x22question','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','เวกเตอร์และเมทริกซ์\x20(เสริม)','reviewQuestionIndex','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','manage-tab-content','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','อัปเดตพฤติกรรมสำหรับ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','usedBuyTime','live-race','parse','แบบทดสอบซ่อมเสริม','smooth','numeric','.sortable-header','export-lesson-pdf-btn','button[type=\x22submit\x22]','</strong></p>','pointsAwarded','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','พลังคลื่นเต่า','ม้าดีดกะโหลก','ใช่\x20/\x20ถูก','กาแฟขม','ฮัลค์','entries','text-green-600\x20font-bold','save-bp-reference-btn','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','contents','text-gray-300\x20hover:text-white','competition','\x22>ใช่</p>','isSyncGame','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','manual-bp-grade-level','[*]','text-tab','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','closePath','reduce','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','back-to-dashboard-from-bp-btn','deselect-all-topics-btn','.view-bp-lesson-btn','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','Failed\x20to\x20resume\x20game\x20session:','เกิดข้อผิดพลาดในการบันทึกโปรเจค','Error\x20updating\x20pin\x20status:','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','62PSvhIC','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','bg-amber-100\x20text-amber-800','matching_item','num-questions','.parallel-shortcut-tab-btn','</span>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','.project-card-container.opacity-50','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','fiftyFifty','.topic-actions-view','adaptive-quiz-checkbox','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','strategyScan','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','student-progress-view','ดอทโปรดักต์\x20(dot)','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<p\x20class=\x22text-xl\x22>','remove','trail','Error\x20saving\x20file\x20shortcut:','การนับ','endTime','.doc','afterend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','earned-badges-container','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','#DBEAFE','บันทึกผลการเรียนของนักเรียน\x20','\x5cdiv','interesting-stats-container','bank-tab','contentEditable','reveal-names-btn','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','text-content-input','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','.start-game-btn','-tab','border-indigo-400\x20ring-2\x20ring-indigo-200','AI\x20grading\x20failed:','ondrop','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','size','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','confidence-modal','ระบบสมการเชิงเส้นสองตัวแปร','startsWith','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','players','pen-tool-btn','Export\x20Image\x20Error:','learningGaps','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>','#add-question-editor-btn','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-emerald-100','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','Error\x20saving\x20shortcut\x20config:','rgba(239,\x2068,\x2068,\x200.9)','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','close-lesson-plan-modal-btn','เทพทรู','.verification-result','100px','classWeaknesses','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','/public/data/projects','\x22\x20style=\x22','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','\x20จุดเรียบร้อยแล้ว','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','start-live-race-generated-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cropper-modal','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','<div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-id-input','schedule','removeChild','274192258111','scores-tab-btn','file-shortcut-editor-modal','.delete-hidden-file-shortcut-btn','Error\x20fetching\x20projects\x20for\x20move:','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','\x5cle','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','index','กรุณากรอกเป็นตัวเลขเท่านั้น','<span\x20title=\x22โดนบังคับ\x22>👻</span>','cursor','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','พื้นที่วงกลม/ส่วนของวงกลม','9xLjIoK','.file-shortcut-btn','playerName','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','bp-topic-list-container','projectView','gradeLevel','submit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','.remove-parallel-shortcut-from-tab-btn','28px','fontWeight','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','mouseup','auto-fix-latex-btn','AI\x20request\x20was\x20blocked.\x20Reason:\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','เกิดข้อผิดพลาดในการอัปเดตสถานะ','results','พื้นที่ผิวรูปทรงสามมิติ','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','data:application/vnd.ms-word;charset=utf-8,','อสมการค่าสัมบูรณ์','pre-test','shadowColor','shortcutIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','additional-shortcuts-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','bg-green-500','\x20\x20\x20-\x20','block','\x20quizzes\x20into\x20global\x20cache.','.auto-resize-textarea','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','ไก่ฟ้าพญาลอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label></div>','กำลังวิเคราะห์หัวข้อ...','แผนภาพเวนน์','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','.edit-quiz-btn','เหมียวขี้เซา','key','ก้อนเมฆ','.edit-parallel-shortcut-btn','toFixed','drop','keydown','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','OCR\x20Error:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','save-settings-btn','manual-bp-project-name','ข้อต่อไป','.move-shortcut-menu-btn','textAlign','นอนไม่พอ',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-','insertBefore','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','1000px','parallel-test-input-area','Error\x20starting\x20live\x20race:','Auto-linking\x20new\x20quiz\x20','questions','next-drill-btn','[data-topic-id]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20หัวข้อ)','<div\x20class=\x22flex-1\x22></div>','student-quiz-leaderboard-tab','lesson-sections-container','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','text-green-600','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','on_fire','input[name=\x22syncVariant\x22]','#open-additional-parallel-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','submission-status-chart','students','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','add-student-btn','progress-project-select','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','.linkedQuizIds','ปุ่มลัดทั้งหมด','<option\x20value=\x22\x22>กำลังโหลด...</option>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','blueprint-options-container','ไม่พบแบบทดสอบในระบบเลย','back-to-dashboard-from-results-btn','catch','timeBonusThisQuestion','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','text-gray-700','กรุณาป้อนรหัสแบบทดสอบ','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','text-blue-700\x20bg-blue-100','add','quiz-results','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','Error\x20deleting\x20submission:','<div\x20class=\x22p-2\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confidenceMode','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','เกิดข้อผิดพลาดในการลบแบบทดสอบ','file-input-area','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','checkbox','แปลงร่าง','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','กรุณาเลือกคำตอบก่อนครับ','ondragend','\x20แล้ว!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>','ชาไข่มุก','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','badgesCount','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','สถานะไม่ชัดเจน','additional-parallel-shortcuts-list','bank-quiz-list','Error\x20generating\x20hybrid\x20quiz:','anonymous_reveal_end','ความคาดหมาย\x20(Expected\x20value)','pointContent','file-shortcut-tabs-nav','behaviorLog','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','back-to-student-home-btn','.generate-easy-version-btn','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่มีนักเรียนส่งงาน','กองดอง','list','เลือกและบันทึก','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>','parallel-shortcut-container','cancel-passcode-btn','\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-','onclick','draggable-text','scratchpad-clear-btn','Error\x20generating\x20lesson\x20plan:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','.regenerate-question-btn','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','Error\x20renaming\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','touchmove','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','length','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','lowerGroupNames','isStarred','ไม่สามารถโหลดรายการโปรเจคได้','เรขาคณิตวิเคราะห์','removeItem','toString','สมการเชิงเส้นตัวแปรเดียว','camera-input','#FEE2E2','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','modal-timer-mode-select','active','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','ส่วนเบี่ยงเบนมาตรฐาน','.kick-player-btn-sync','จุด\x20เส้น\x20ระนาบ','416wSRhou','bp-modal-question-complexity-select','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','bg-green-50','powerup','/public/data/liveGames','topicId','blueprint-projects-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','.star-quiz-btn','student-view','modal-confidence-mode-container','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','isDefault','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','timer-duration-container','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','.game-start-btn','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','No\x20players\x20data\x20found\x20to\x20save\x20yet.','.quiz-status-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','globalCompositeOperation','.toggle-hidden-options-btn','default-','sync-matching-select','touches','.edit-hidden-parallel-shortcut-btn','bg-green-200','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','comparison','results-tab','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','confidence-input-','generate-from-blueprint-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showAnswerInAnonymous','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','เศรษฐีดูไบ','reset-project-order-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','description','#D1FAE5','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','comeback_king','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20project\x20order:','ยอดเยี่ยม','open-sync-scratchpad-btn','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กุ้งเต้นแร้งกา','AudioContext','mode-switcher-btn','close-additional-parallel-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','parallel-default-2','Error\x20calculating\x20final\x20scores:','กำลังดึงไฟล์อ้างอิงจากลิงก์...','ติดซีรีส์','global-quiz-count','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','underline','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.bp-create-onet-quiz-btn','modal-loop-until-pass-checkbox','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','includes','แบบเติมคำตอบ','.compare-results-btn','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','เพิ่มปุ่มลัดจากไฟล์ใหม่',';\x22\x20data-id=\x22','ค.ร.น.\x20(LCM)','open-global-live-btn','text/csv;charset=utf-8;','.copy-quiz-id-list-btn','Successfully\x20removed\x20','editor-quiz-topic','Error\x20deleting\x20quiz:','frequency','<span\x20title=\x22ใช้ไอเทม\x22>','buy-time-quantity-input','global-activity-quiz-list','fix\x20the\x20option','trim','attemptNumber','quiz-start-time','.buy-item-btn','includeImages','summary','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','บันทึกการตั้งค่าแล้ว','.move-quiz-btn','ไม่สามารถสร้างโปรเจคได้','Error\x20generating\x20worksheet:','secondChance','correct','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คะแนนเต็ม','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','highlighter','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x22\x20class=\x22color-palette-btn\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','คะแนน','visible','both','รากที่สองและที่สาม','bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','เรขาคณิต','.admin-try-quiz-list-btn','<div\x20class=\x22flex\x20items-center\x20gap-2\x22>','tooltipTarget','กำลังสแกนหาแบบทดสอบเก่า...','มังกรกินจุ','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20from\x20link:','<div\x20class=\x22my-6\x22>','setItem','topic','height','AI\x20กำลังสแกนข้อความ...','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','multiple_choice','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','คณิตศาสตร์','\x22\x20data-name=\x22','.delete-submission-btn','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','floor','ปลาทูคะนอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','fullscreenElement','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','ฟังก์ชันผกผัน','bp-modal-num-questions','file-shortcut-modal-title','admin-try-quiz-btn','</p>','ผู้เชี่ยวชาญ','#F59E0B','#10B981','เกิดข้อผิดพลาดในการจับคู่','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','attempts','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ตารางความถี่','\x22\x20data-topic=\x22','Error\x20saving\x20quiz\x20edits:','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','bg-black/20','.bp-try-btn','studentName','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','label','อนุพันธ์:\x20กฎลูกโซ่','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','lesson-loader-text','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','toDate','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','pin-entry-modal','คนโสด','.question-editor-item','cancel-quiz-edits-btn-footer','การแยกตัวประกอบ','question-analytics-container','confirm-delete-btn','_blank','destination','then','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','wakeLock','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','circle','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','rename-quiz-input','removeEventListener','cancel-delete-btn','confidence-mode-select','quizMode','Error\x20processing\x20file\x20shortcut\x20click:','quiz-leaderboard-table-container','modal-message','เพิ่มปุ่มลัดใหม่','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','correctStreak','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','separate-by-content-checkbox','results-table-container','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','editable-text-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ฟังก์ชันยกกำลัง','ท็อปฟอร์ม','bg-gray-100\x20opacity-70','.quiz-result-card','save','fill','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i><span>ON\x20FIRE!\x20คะแนน\x20x2</span><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','นักประดิษฐ์','join','ปรับเพิ่ม/ลดเป็นร้อยละ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','quiz-generation-area','isArray','startedAt','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','\x20สำเร็จ!','ยอดเยี่ยม!','medium','input[type=\x22checkbox\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','รอเปิด','bar','คะแนนยังไม่ถึงครึ่ง','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x22.\x20Ideal\x20Answer:\x20\x22','กรุณาตั้งชื่อแท็บใหม่:','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','.move-shortcut-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','.ai-content\x20h3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','message-modal','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','live-game','border-indigo-500\x20text-indigo-600','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','#retake-for-improvement-btn','<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','export-image-btn','hasOwnProperty','overallGroups','scrollHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','SAFETY','กรุณาพิมพ์คำตอบ','</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>','generate-from-parallel-test-btn','ดอกเบี้ยทบต้น','teacherSuggestions','.duplicate-quiz-btn','#results-table\x20thead\x20tr','.lastAnswerValue','groups','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>',';\x22\x20data-tooltip-target=\x22tooltip-','ซื้อ\x20(','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','px)\x20scale(','.move-parallel-shortcut-menu-btn','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','เกิดข้อผิดพลาดในการโหลดโปรเจค','enable-black-market-checkbox','postTScore','bg-[#EF4444]\x20text-white\x20font-bold','กำลังจับคู่...','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','ลบหัวข้อสำเร็จ','Error\x20generating\x20teaching\x20content:','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','.pointsLastRound','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-back-to-home-btn','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','Error\x20saving\x20parallel\x20shortcut\x20config:','\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','inactive','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','fullscreenchange','Group\x20Mode','กำลังสร้างแบบทดสอบ:\x20','รูปสแควร์รูท\x20(surd)','scores-tab-content','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','หน่วยเวลาและการคำนวณเวลา','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','additional-file-shortcuts-list','.verification-result-editor','num-choices-container','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','ตัวเลือก\x20ง','</button>','image/png','use-powerup-cutOne','Error\x20saving\x20parallel\x20shortcut:','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x20แบบทดสอบลงในคลังสำเร็จ!','normal','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','timer-container','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','\x22\x20value=\x22','ข้อ\x20','pointsLastRound','isFinished','เกิดข้อผิดพลาดในการลบ','สมการลอการิทึม','canvas','qIndex','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','onloadend','show_results_only','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','workerSrc','confidence_single','ฟังก์ชันราก\x20(root)','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','verify-answers-btn','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','quiz-results-table-body','```','ความเป็นอิสระของเหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','offsetWidth','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','onchange','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','ช่างภาพ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','cloneNode','student-name-select','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','พื้นที่สี่เหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','getBoundingClientRect','ลาเต้ไม่หวาน','GlobalWorkerOptions','circ','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','hint-btn','parentNode','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','add-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','push','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bottom','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','parseInline','original-mode-checkbox','/users/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','screen_exit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy-quiz-id-btn','textarea[name=\x22question_single\x22]','confirm-join-game-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deltaY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คัดลอกไม่สำเร็จ','podium','bg-blue-500\x20hover:bg-blue-600\x20text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','สร้างแบบทดสอบ','hidden','export-compact-pdf-btn','request','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','บันทึกการแก้ไข','reveal_at_end','แฟนทิพย์','projectName','text-gray-500','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirmation-modal','file-default-2','ต้นฉบับ\x202','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','หมดเวลา!\x20กำลังส่งคำตอบ...','date_desc','กำลังสร้างคำถามข้อ\x20','สร้างคำถามแบบใช่/ไม่ใช่','ท้องฟ้า','md:col-span-3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','tabId','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','.bp-view-analysis-btn','newCorrectIndex','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','ไม่ใช่\x20/\x20ผิด','\x20จาก\x20','admin-password-modal','scratchpad-canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','presentation-slide-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Auto-cleanup\x20failed:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','split','project-quizzes-list','.toggle-actions-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','พบ\x20Team\x20Quiz!','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','การหาร','การบวกเศษส่วน','checkAnswer','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mr-1\x22>','ส่งแล้ว','):\x20','save-bp-settings-btn','check-presentation-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','นักเขียน','map','bulk-quiz-settings-btn','title','quiz-leaderboard-table','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','Error\x20updating\x20project\x20color:','ความน่าจะเป็นแบบมีเงื่อนไข','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','text-gray-200','classList','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','use-powerup-wagerMultiplier','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','mandatory','มัธยฐาน','admin-password-input','confirm-move-quiz-btn','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','STRING','confidence','generate-from-topic-btn','lastAnswerCorrect','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะทางและจุดกึ่งกลาง','🛡️','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','topics','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','getItem','redo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','input[type=\x22radio\x22]:checked','fileShortcutsConfig','API\x20Error\x20Body:','eraser-tool-btn','contains','\x20คะแนน\x20','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','\x20(สำหรับ\x20','close-pin-modal-btn','เกิดข้อผิดพลาดในการใช้ไอเทม','\x20ตอบ','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','lesson-view-title','bg-yellow-300\x20text-yellow-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','ดีเทอร์มิแนนต์','commonMistakes','fill_in_with_choices','</h4>','.move-file-shortcut-dropdown','text-blue-800','เส้นรอบรูป','retake-quiz-loop-btn','instructions','isForcedConfident','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','Error\x20verifying\x20answers:','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','#student-project-leaderboard-content\x20thead','#ffffff','ตอบถูกทุกข้อในแบบทดสอบนี้','Failed\x20to\x20apply\x20forceConfident:','แคลคูลัสเบื้องต้น','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','อินเวอร์สของเมทริกซ์','blueprint-project-manager-view','.quiz-bank-parallel-btn','.answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','color','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x27\x20ในหัวข้อ\x20\x27','currentMode','add-from-global-bank-btn','modal-results-display-select','หยุดระบบจับเวลาหรี่หน้าจอ','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','แก้ไขสูตรคณิตศาสตร์\x20','student-reading-area','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','ร้อยละประยุกต์','ควรปรับปรุง','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','Error\x20listening\x20for\x20projects:','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','null','analyze-strengths-btn','กำลังสร้างเนื้อหา:\x20','Failed\x20to\x20generate\x20practice\x20test:','.pin-project-btn','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เงาปริศนา','ลำดับการดำเนินการ\x20(PEMDAS)','/public/data/blueprintProjects/','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','offset','bg-white\x20text-gray-800','isAdaptive','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-value=\x22','นำแบบทดสอบออกจากคลังนี้แล้ว','flex','join-live-game-btn','sqrt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','.bp-edit-topic-btn','webkitExitFullscreen','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','ON_FIRE','bg-gray-400','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','\x20คู่\x20','numPages','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','quadraticCurveTo','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','bp-modal-include-images-checkbox','shortcutId','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','bg-green-200\x20text-green-800','ai-quiz-app-aefee.firebasestorage.app','bank-quiz-search-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','timerMode','mode','ชื่อโปรเจคห้ามว่าง','set','textarea','use-powerup-fiftyFifty','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','mousedown','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','execCommand','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','lessonPlan','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overflowY','\x20ครั้ง)</span></td>','end-game-btn','badges','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','Error\x20saving\x20file\x20shortcut\x20config:','text-green-700','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','show_results_and_answers','localeCompare','sync-manage-players-btn','answered','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20\x27','อัปเดตแบบทดสอบเก่า\x20','flex\x20flex-col\x20gap-2','rename-quiz-modal','.ai-content\x20li','<span\x20title=\x22โดนคำสาป\x22>😈</span>','moveTo','5881335SbMnDK','เพิ่มหัวข้อ\x20\x22','live-game-view','Error\x20deleting\x20custom\x20topic:','application/json','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','.submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','text/plain','🔁\x20โอกาสครั้งที่สอง','กิจกรรมสิ้นสุดลงแล้ว','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','selected-answer-index-hidden-wager','https://corsproxy.io/?','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','11DBFkdk','setValueAtTime','scrollIntoView','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','user-id-display','tool','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','bg-red-100\x20text-red-800','correctAnswerIndex','fas\x20fa-bookmark','Error\x20fetching\x20lesson\x20content:','write','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','นกฮูกกลางวัน','tan','pairedQuizId','activeGameSession','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','หลังเรียน','API\x20call\x20failed','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','default','binom','fa-shield-alt\x20text-gray-600','5063570yfeXLY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','Firebase\x20initialization\x20failed:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','keys','match','scheduled','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ไม่ตอบ)','ค่าเสื่อมราคา','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','querySelectorAll','</option>','pointercancel','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','BOOLEAN','bp-modal-quiz-type-select','scale-125','quiz-form','reference_onet.pdf','.shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','</span></td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answers','เกิดข้อผิดพลาดในการนำผู้เล่นออก','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','.project-card-container:not(.opacity-50)','instantWager','text-yellow-800','Error\x20loading\x20user\x20preferences:','จำนวนคู่:','poll','values','results-tab-content','ไม่มีคำอธิบาย','cdot','#open-additional-shortcuts-btn','student-quiz-leaderboard-content','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','parallel-shortcut-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','selectMathOption','<button\x20data-quiz-id=\x22','เกี่ยวกับหัวข้อ\x20\x22','ระบบเลขและค่าประจำหลัก','transition','lower_group_count','show_pass_fail_only','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','th-TH','.topic-name-input','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','.bp-game-btn','bulk-quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20',')</button>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','FIRST_TRY_ACE','\x20ตัวเลือก)','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','ปริพันธ์ไม่จำกัด','รหัสไม่ถูกต้อง','createdBy','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','file-shortcut-container','not-found','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22\x20ออกจากคลังนี้?','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','การคูณทศนิยม','ระยะเวลา\x20(วินาที):','file-topics-list-container','ไอติมทอด','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.eraser-size-btn','removeAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','md:col-span-1','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scale','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div>','duration-300','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','bg-white','result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','สัญกรณ์วิทยาศาสตร์','change','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','.flex.justify-between.items-center','currentTarget','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','projectSort','source_document.txt','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','open','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','isConfidenceScoringEnabled','ส่งคำตอบ','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','lineJoin','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','link-input-area','บทเรียน','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','visibilityState','lesson-plan-title','substring','Error\x20generating\x20parallel\x20post-test:','wheel','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-content','playerIndex','input-','student-project-leaderboard-content','file.pdf','clientX','totalQuestions','leaderboard-quiz-tab-content','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','สายตาสั้น','text-indigo-600','Error\x20fetching\x20student\x20rankings:','autoTable','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','targetId','export-worksheet-pdf-btn','sara','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','ondragover','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','ซื้อ\x20\x22','ตัวเลือก\x20ค','Refunded\x20','doc','results-display-select','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generate-from-link-btn','ครัวซองต์','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','items','px,\x20','การวัด','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','NEGATIVE_INFINITY','quick_thinker','pow','shouldSaveResults','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20','shortcut-blueprint-url-input','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<tr><td\x20colspan=\x22','กลุ่ม:\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','topics.','webkitAudioContext','.question-editor-item[data-q-index=\x22','string','ดูผลสรุปสุดท้าย','ถูก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','select-all-topics-btn','\x5cge','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','bulk-loop-until-pass-checkbox','quiz-status-modal','.ai-fix-formula-btn','อยู่ในหัวข้อหลักใด:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-team-selection-btn','modal-passing-score-input','การจัดหมู่\x20(Combination)','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','<p><strong>คำตอบของคุณ:</strong>\x20','แก้ไขชื่อหัวข้อย่อย:','cancel-bp-settings-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','เกิดข้อผิดพลาดในการแก้ไข','questionText','toDataURL','ยังไม่ส่ง','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beginPath','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','การลบเศษส่วน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numChoices','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','🚀\x20คุณเดิมพันหมดหน้าตัก!','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','latestScore','linearRampToValueAtTime','</form>','forEach','Failed\x20to\x20create/update\x20submission\x20record:','กระต่ายตื่นตูม','cos','additional-file-shortcuts-modal','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','scratchpad-header','showInStudentDashboard','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-label','\x22\x20x','cancel-shortcut-edit-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lesson-view-content','qType','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20blueprint\x20project:','.edit-shortcut-btn','รอ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','blueprintUrl','getElementById','comparison-chart','bg-green-100\x20text-green-800','blueprint-shortcut-container','revealOptions','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','300','font-bold\x20text-green-700','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','<div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','ผิด','.csv','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','data','warn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','100%','ความเท่ากันทุกประการของสามเหลี่ยม','Copy\x20command\x20failed','selected-answer-index-hidden','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','Error\x20regenerating\x20question\x20in\x20editor:','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','value','additional-shortcuts-modal','separate-by-content-from-file-checkbox','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','from','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','กรุณาเลือกสถานะ','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','student-result-area','powerupUsedThisTurn','cancel-quiz-status-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','คุณใช้ตัวช่วย\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','นักดนตรี','grabbing','timed','hasPerfectScoreBonus','MathJax\x20typeset\x20error\x20(analytics):','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','.bp-create-topic-quiz-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','blueprint-tab','อินฟลูเอนเซอร์','ข้อที่\x20','#student-quiz-leaderboard-content\x20thead','\x20(p=','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','destination-out','release','เกิดข้อผิดพลาดในการสร้างห้องเกม','not_confident','file-shortcuts-loading-msg','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','answerValue','ชื่อหัวข้อห้ามว่าง','ตลาดมืด\x20(','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x22><span\x20style=\x22','Error\x20saving\x20lesson\x20to\x20project:','strength-weakness-analysis-container','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','per-question-options','projectId','newOptionsPayload','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','globalSettings','#E5E7EB','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','close-presentation-btn','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','dragstart','เกมสิ้นสุดลงแล้ว','manual_release','บักแตงโม','กฎของไซน์','bp-modal-passing-score-input','27411472','div[data-question-index=\x22','lesson-view-modal','\x5ctimes','student-initial-view','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','cancel-crop-btn','#4338ca','blob','.delete-parallel-shortcut-btn','lastAnswerIndex','shortcuts','#FCE7F3','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.topic-row','back-to-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','short_answer','click','กรุณาป้อนหัวข้อสำหรับใบงาน','teachingContent','wagerMultiplier','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','question-complexity-select','</div>','sync-timer-duration-container','documentElement','ondragstart','.highlighter-color-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isCorrect','price','</tr>','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','0\x200','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','start-game-btn','update-old-quizzes-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.score','input[type=\x22checkbox\x22]:checked','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','.move-parallel-shortcut-dropdown','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ธอร์ค้อนบิน','export-pdf-modal','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','confirm-create-project-btn','pen','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','กรุณาเลือกไฟล์ก่อน','isJinxed','text-red-900','Error\x20saving\x20manual\x20blueprint\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','กำลังเตรียมไฟล์...','เน็ตไอดอล','.open-bp-project-btn','number','.quiz-bank-item','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','shortcut_','กรุณาเลือกคำตอบ','marginBottom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','right','quizId','.pair-quiz-btn','.parallel-quiz-btn','zIndex','ถูกต้อง!','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','ตอบถูก\x203\x20ข้อติดต่อกัน','ai-quiz-generator-v3','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','icon','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','back-to-dashboard-btn','preventDefault','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','ไม่พบข้อมูลโปรเจค','.use-hidden-file-shortcut-btn','คนคุย','artifacts/','lesson-plan-modal','onkeydown','quiz-editor-modal',':</span><span>','modified','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','.summary-bar-item','btn','POST','lobby','close-additional-file-shortcuts-btn','save-blueprint-as-project-btn','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','สเกลและแผนที่','devicePixelRatio','</tbody></table>','unshift','decode','กำลังสร้างบทเรียน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','rgba(79,\x2070,\x20229,\x200.8)','q-image-container-','Error\x20editing\x20topic:','text-gray-400\x20hover:text-indigo-600','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end-sync-game-btn','ondblclick','ยกเลิกการจับคู่สำเร็จ','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','Error\x20committing\x20score\x20updates:','manual-bp-content','.hidden-option-input','PROMPT_PLACEHOLDER','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','Failed\x20to\x20generate\x20lesson:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','onblur','Matching\x20options\x20synced:','Blueprint\x202','.question-editor-item:last-of-type','Error\x20duplicating\x20quiz:','modal-confidence-scoring-checkbox','ฟังก์ชันแบบชิ้นส่วน','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','visibilitychange','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','Error\x20confirming\x20players:','<option>กำลังโหลดโปรเจค...</option>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','topic-input-area','ปิดใช้งาน','tab_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getBBox','now','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard_','interesting-stats-wrapper','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','stepByStepExamples','join-group-activity-btn','Error\x20updating\x20project\x20name:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาพิมพ์คำตอบของกลุ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fa-pen','.edit-file-shortcut-btn','ปวดหลัง','\x20|\x20','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','project-search-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20in\x20handleApiCall:','fa-user-astronaut\x20text-blue-700','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','bg-red-200\x20text-red-800','ownerSVGElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','questionType','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','answerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เปิดใช้งาน','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','24QvHBvF','\x20link(s)\x20for\x20quiz\x20ID:\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','save-shortcut-btn','2-digit','\x22...','/public/data/practiceBank','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','quizType','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','.scratchpad-content-wrapper','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การบวกทศนิยม','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','nextElementSibling','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','หน่วยความยาวและการแปลง','QUICK_THINKER','val','file-shortcut-url-input','ตัวเลือก\x20ข','<option\x20value=\x22','มูเตลู','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','team','Error\x20saving\x20reference\x20URL:','grid-view-btn','การหารเศษส่วน','.quiz-bank-try-btn','parent','แก้ไขข้อนี้','ทำคะแนนเต็มในการทำครั้งแรก','สายหมอก','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.use-hidden-shortcut-btn','code','เกิดข้อผิดพลาดในการสร้างรูปภาพ','สถิติและความน่าจะเป็น','.delete-bp-project-btn','สร้างคำถามแบบเติมคำในช่องว่าง','Error\x20toggling\x20star\x20status:','shuffle','font-bold','การหารทศนิยม','Game\x20results\x20already\x20saved.\x20Skipping.','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','อัปเดตการตั้งค่าของแบบทดสอบ\x20','create-project-modal','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','hover:bg-indigo-100','พอใช้','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','คะแนนเฉลี่ย','add-shortcut-btn','เส้นตรง:\x20รูปแบบสมการ','\x22\x20name=\x22confidence','สำหรับโปรเจค:\x20','mouseleave','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','user','bp-modal-difficulty-level-select','presentation-modal','parallel-shortcut-modal-title','false','transition-transform','</p><p><strong>เฉลย:</strong>\x20','sync-short-answer-input','ไม่พบเอกสารการส่งงานของ\x20','pointerdown','scan-text-image-input','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','อัศวินรัตติกาล','student-team-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','text-input-area','ไม่พบข้อมูลผู้เล่น','Error\x20deleting\x20shortcut:','DOMContentLoaded','ทฤษฎีบทพีทาโกรัสและการประยุกต์','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','ความแปรปรวน','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20deleting\x20all\x20students:','cancel-quiz-settings-btn','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','bg-blue-100','ยืนยันการกระทำ','bg-green-100\x20font-bold','bp-reference-file-url','border-indigo-500','results-quiz-id-display','error','category','ความชันเส้นสัมผัส','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','แบบปรนัย\x204\x20ตัวเลือก','.project-card-container','text-red-500\x20hover:text-red-700','NUMBER','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','focus','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','upperGroupResponders','confident','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','grid','</strong></div>','fileShortcutOrder','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','fa-bolt\x20text-blue-500','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','/public/data/teamQuizzes','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','.delete-hidden-shortcut-btn','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','Test\x20Blueprint','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','player-list-lobby','</span></div>','save-quiz-edits-btn','/players','analytics-summary-cards','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','.answeredCurrentQuestion','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','list-view-btn','summaryContent','.edit-question-btn','line-through\x20text-red-700','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','36276FbhbBD','Error\x20deleting\x20project:','input[type=\x22text\x22]','20px','cropped_image.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','nickname-input','isRemedial','Error\x20during\x20blueprint\x20link\x20cleanup:','createdAt','shuffle-setting-select','bg-[#DCFCE7]\x20text-green-900','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','top','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','per-q-countdown','ภูเขา','startTime','per-question-timer-container','next-sync-question-btn','upperGroupNames','back-to-student-initial-btn','scrollY','cancel-wager-btn','rgba(16,\x20185,\x20129,\x200.7)','Error\x20starting\x20team\x20quiz:','.isScored','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','msExitFullscreen','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','close','อสมการเชิงเส้น','10870456KpajGN','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','เกิดข้อผิดพลาดในการลบนักเรียน','bulk-shuffle-select','body','restore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','exitFullscreen','คู่คำตอบ...','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','postScore','แท็บใหม่','$$$1$','pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-add-topic-btn','every','enable-passcode-checkbox','doughnut','...','use-powerup-','.txt','<br>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','file-topics-list','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','Error\x20calling\x20Gemini\x20API:','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','เพิ่มรายการที่เลือก','cancel-export-pdf-btn','ความชันและเส้นตรง','s;\x22\x20title=\x22','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','has','shortcutTabs','ยูทูปเบอร์ฝึกหัด','ตรวจทานเฉลยเสร็จสิ้น!','<div\x20class=\x22space-y-4\x22>','กำลังอ่านไฟล์\x20Test\x20Blueprint...','correctAnswer','firstElementChild','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','shortcut-id-input','options','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','จำนวนข้อ:','%PDF','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','onerror','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','practiceProblems','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','copy','global-quiz-search-input','true','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','#math-topics-checkbox-container\x20input:checked','.shortcut-list-item','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ทำคะแนนได้เกินครึ่ง','border-green-700','<span\x20title=\x22ใช้\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','quiz-leaderboard-table-body','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','/public/data/customMathTopics','modal-close-btn','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','นักกีฬา','add-custom-math-topic-btn','แผนการสอน','<button\x20id=\x22open-market-btn\x22\x20class=\x22','check-answer-btn','student-name-selection-view','ไม่ใช่','resume','.delete-custom-topic-btn','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','Error\x20creating\x20project:','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','getScreenCTM','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','dropdown-list-','project-detail','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','word-break:\x20break-all;','.color-palette-popup','\x20เป็น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','commit','sync','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','include-images-checkbox','Error\x20clearing\x20all\x20links:','selected-topics-count','แบตหมด','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','cancel-quiz-edits-btn','เกมเมอร์','results-quiz-title','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','.delete-shortcut-btn','สาระที่\x201','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anonymous'];_0x103e=function(){return _0xbe8d3f;};return _0x103e();}function displayVerificationResults(_0x661e38){_0x661e38['forEach'](_0x39393b=>{const _0x4931e1=_0x5a5c,_0x5e9660=document[_0x4931e1(0x2d0)](_0x4931e1(0xc4d)+_0x39393b['questionIndex']+'\x22]');if(_0x5e9660){const _0x52da30=_0x5e9660['querySelector'](_0x4931e1(0x747));if(_0x52da30)_0x52da30[_0x4931e1(0x711)]();let _0x16246e='';_0x39393b[_0x4931e1(0xc70)]?_0x16246e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x16246e=_0x4931e1(0xbcc)+_0x39393b[_0x4931e1(0x3b3)]+_0x4931e1(0xb3d)+(_0x39393b['suggestedAnswer']?_0x4931e1(0x31e)+_0x39393b[_0x4931e1(0x3af)]+'</p>':'')+_0x4931e1(0x614),_0x5e9660['insertAdjacentHTML'](_0x4931e1(0x5ba),_0x16246e);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x5c0308,_0x29d37e){const _0x1c5531=_0x4ce511,_0x1d15be=String(_0x5c0308)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x1c5531(0x88c)](),_0x2c3906=String(_0x29d37e)[_0x1c5531(0xea1)](',','.')[_0x1c5531(0xea1)](/[^\d.-]/g,'')[_0x1c5531(0x88c)]();if(_0x1d15be===''||_0x2c3906==='')return![];const _0x1ff530=parseFloat(_0x1d15be),_0x53b514=parseFloat(_0x2c3906);if(isNaN(_0x1ff530)||isNaN(_0x53b514))return![];return Math['abs'](_0x1ff530-_0x53b514)<0.001;}function isPotentiallyNumeric(_0x170e33){const _0x2741e7=_0x4ce511;if(typeof _0x170e33!==_0x2741e7(0xba8)&&typeof _0x170e33!==_0x2741e7(0xc91))return![];const _0x49ab63=String(_0x170e33)[_0x2741e7(0xea1)](',','.')[_0x2741e7(0x88c)]();return _0x49ab63!==''&&!isNaN(parseFloat(_0x49ab63))&&isFinite(_0x49ab63);}async function gradeShortAnswer(_0x3b7d1f,_0x516e59){const _0x55c662=_0x4ce511,_0x2c6fdc=_0x516e59[_0x55c662(0xe56)],_0x5121bd=String(_0x3b7d1f)[_0x55c662(0xea1)](/\$/g,'')['trim'](),_0x39ec36=String(_0x2c6fdc)[_0x55c662(0xea1)](/\$/g,'')[_0x55c662(0x88c)]();if(_0x5121bd[_0x55c662(0x298)]()===_0x39ec36['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x5121bd)&&isPotentiallyNumeric(_0x39ec36)){if(compareNumericalAnswers(_0x5121bd,_0x39ec36))return!![];}return console[_0x55c662(0x2c0)](_0x55c662(0x2bb)),![];}async function revealAnswerForAdmin(_0x325959,_0x518267){const _0x53c1cb=_0x4ce511,_0x33e9f6=doc(db,_0x53c1cb(0xcaf)+appId+_0x53c1cb(0x834),currentLiveGameId);await updateDoc(_0x33e9f6,{'questionStatus':_0x53c1cb(0x2a1)});}function showTop5LeaderboardView(_0x1c3ff0){const _0x36c61b=_0x4ce511,_0x1a4352=Object[_0x36c61b(0xb18)](_0x1c3ff0[_0x36c61b(0x735)]||{})[_0x36c61b(0x395)](_0x4de461=>_0x4de461[_0x36c61b(0x3a7)]==='active');_0x1a4352[_0x36c61b(0x2b3)]((_0x1b1917,_0x2cb187)=>_0x2cb187[_0x36c61b(0x9c2)]-_0x1b1917[_0x36c61b(0x9c2)]);const _0x3c5d1e=_0x1a4352[_0x36c61b(0x2c1)](0x0,0x5),_0x38aabe=_0x36c61b(0x46f)+_0x3c5d1e[_0x36c61b(0xa15)]((_0x1587fb,_0x192709)=>_0x36c61b(0x3b9)+(_0x192709+0x1)+'.\x20'+(_0x1587fb[_0x36c61b(0x631)]||Object[_0x36c61b(0xafa)](_0x1c3ff0['players'])[_0x36c61b(0x340)](_0x34f7ec=>_0x1c3ff0[_0x36c61b(0x735)][_0x34f7ec]===_0x1587fb))+_0x36c61b(0xe5e)+_0x1587fb[_0x36c61b(0x9c2)]+_0x36c61b(0xe88))[_0x36c61b(0x919)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1c3ff0[_0x36c61b(0x568)]+0x1===currentQuizData['questions']['length']?_0x36c61b(0x316):_0x36c61b(0x7af))+_0x36c61b(0x769);liveGameView[_0x36c61b(0x28a)]=_0x38aabe,document[_0x36c61b(0xbeb)]('goto-next-question-btn')[_0x36c61b(0x79a)](_0x36c61b(0xc64),async()=>{const _0x4031c4=_0x36c61b,_0x1f142d=doc(db,_0x4031c4(0xcaf)+appId+_0x4031c4(0x834),currentLiveGameId),_0x5518a6=_0x1c3ff0[_0x4031c4(0x568)]+0x1;if(_0x5518a6<currentQuizData[_0x4031c4(0x7bb)][_0x4031c4(0x81c)]){const _0x1db5e0={'currentQuestionIndex':_0x5518a6,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x4031c4(0x521)};Object[_0x4031c4(0xafa)](_0x1c3ff0[_0x4031c4(0x735)])[_0x4031c4(0xbd3)](_0x18c494=>{const _0x131921=_0x4031c4;_0x1db5e0['players.'+_0x18c494+_0x131921(0xd97)]=![];}),await updateDoc(_0x1f142d,_0x1db5e0);}else await updateDoc(_0x1f142d,{'status':_0x4031c4(0x9d4)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x179094=>{const _0x3d4896=_0x5a5c;if(_0x179094){userId=_0x179094['uid'],userIdDisplay[_0x3d4896(0x211)]=userId;const _0x4d2788=await loadUserPreferences();_0x4d2788[_0x3d4896(0x223)]&&(document[_0x3d4896(0xbeb)]('project-sort-select')[_0x3d4896(0xc07)]=_0x4d2788['projectSortOrder']);globalDashboardSettings[_0x3d4896(0x776)]=_0x4d2788[_0x3d4896(0x776)]||_0x3d4896(0xd82);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x42e009,_0x59e33e){const _0x43212a=_0x4ce511;if(!userId)return;try{const _0x57a69b=doc(db,_0x43212a(0xcaf)+appId+_0x43212a(0x9c7)+userId+_0x43212a(0x22f)),_0x394205={};_0x394205[_0x42e009]=_0x59e33e,await setDoc(_0x57a69b,_0x394205,{'merge':!![]});}catch(_0x25530e){console[_0x43212a(0xd74)]('Error\x20saving\x20user\x20preference:',_0x25530e);}}async function loadUserPreferences(){const _0x7b3fcf=_0x4ce511;if(!userId)return{};try{const _0x20e7a4=doc(db,_0x7b3fcf(0xcaf)+appId+_0x7b3fcf(0x9c7)+userId+_0x7b3fcf(0x22f)),_0x19f9a5=await getDoc(_0x20e7a4);if(_0x19f9a5['exists']())return _0x19f9a5['data']();return{};}catch(_0xc4007f){return console[_0x7b3fcf(0xd74)](_0x7b3fcf(0xb15),_0xc4007f),{};}}function parseIndentedBlueprint(_0x9bd817){const _0x3a72f4=_0x4ce511,_0x3d0cc3=_0x9bd817[_0x3a72f4(0xa00)]('\x0a')['filter'](_0x2891cc=>_0x2891cc[_0x3a72f4(0x88c)]()!==''),_0x24dbb0=[];let _0x4ba9da=null,_0x36dbd6=null;return _0x3d0cc3[_0x3a72f4(0xbd3)](_0x339bb7=>{const _0x2bb0ff=_0x3a72f4,_0x3842a4=_0x339bb7[_0x2bb0ff(0xafb)](/^\s*/)[0x0][_0x2bb0ff(0x81c)],_0x1e02cf=_0x339bb7['trim']();if(_0x3842a4===0x0)_0x4ba9da={'sara':_0x1e02cf,'mainTopics':[]},_0x24dbb0[_0x2bb0ff(0x9ba)](_0x4ba9da),_0x36dbd6=null;else{if(_0x3842a4>0x0&&_0x3842a4<0x8&&_0x4ba9da)_0x36dbd6={'topicName':_0x1e02cf,'subTopics':[]},_0x4ba9da[_0x2bb0ff(0x351)][_0x2bb0ff(0x9ba)](_0x36dbd6);else _0x3842a4>=0x8&&_0x36dbd6&&_0x36dbd6[_0x2bb0ff(0xe68)]['push'](_0x1e02cf);}}),{'curriculum':_0x24dbb0};}async function handleManualBlueprintSave(){const _0xf9df53=_0x4ce511,_0x32e3dc=document[_0xf9df53(0xbeb)](_0xf9df53(0x7ae))[_0xf9df53(0xc07)][_0xf9df53(0x88c)](),_0x40c209=document['getElementById'](_0xf9df53(0x6ed))[_0xf9df53(0xc07)][_0xf9df53(0x88c)](),_0x4b323f=document['getElementById'](_0xf9df53(0xcd4))[_0xf9df53(0xc07)];if(!_0x32e3dc||!_0x40c209||!_0x4b323f){showMessage(_0xf9df53(0x378));return;}const _0x573453=parseIndentedBlueprint(_0x4b323f);if(!_0x573453[_0xf9df53(0x3b1)]||_0x573453[_0xf9df53(0x3b1)][_0xf9df53(0x81c)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x51a067={};let _0x427da1=0x0;_0x573453['curriculum'][_0xf9df53(0xbd3)](_0x35c1ef=>{_0x35c1ef['mainTopics']['forEach'](_0xbf970c=>{const _0x370d1f=_0x5a5c;_0xbf970c[_0x370d1f(0xe68)][_0x370d1f(0xbd3)](_0x52330e=>{const _0xfb0ce5=_0x370d1f,_0x7f26fb=_0xfb0ce5(0x4a5)+Date[_0xfb0ce5(0xced)]()+Math[_0xfb0ce5(0x3c9)]()[_0xfb0ce5(0x823)](0x24)[_0xfb0ce5(0x3ff)](0x2,0x9);_0x51a067[_0x7f26fb]={'sara':_0x35c1ef[_0xfb0ce5(0xb87)],'mainTopic':_0xbf970c[_0xfb0ce5(0x3a6)],'subTopic':_0x52330e,'status':_0xfb0ce5(0xf15),'lessonContent':null,'order':_0x427da1++};});});});try{const _0x593fce=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects');await addDoc(_0x593fce,{'projectName':_0x32e3dc,'gradeLevel':_0x40c209,'topics':_0x51a067,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x32e3dc+_0xf9df53(0x1da)),document[_0xf9df53(0xbeb)](_0xf9df53(0xf18))['classList'][_0xf9df53(0x7e0)]('hidden');}catch(_0x16b3a9){console[_0xf9df53(0xd74)](_0xf9df53(0xc8c),_0x16b3a9),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x4f37b9){const _0x583d15=_0x4ce511;showConfirmation(_0x583d15(0x8f9),async()=>{const _0x5665c9=_0x583d15;try{const _0x4c2239=doc(db,'artifacts/'+appId+_0x5665c9(0xef7),currentBlueprintProjectId);await updateDoc(_0x4c2239,{[_0x5665c9(0xba5)+_0x4f37b9+_0x5665c9(0x7d2)]:[]}),showMessage(_0x5665c9(0x831)),openTopicQuizBank(_0x4f37b9),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x43c998){console[_0x5665c9(0xd74)](_0x5665c9(0xe29),_0x43c998),showMessage(_0x5665c9(0xa4a));}});}function showPodiumView(_0x312554,_0x5009e2=_0x4ce511(0x6d1),_0x21ffcd=null){const _0x6f2fc6=_0x4ce511,_0x3c088f=_0x21ffcd?.[_0x6f2fc6(0xf00)]===!![],_0x2678f1=Object[_0x6f2fc6(0x6e1)](_0x312554)['map'](([_0x148839,_0x987319])=>({'name':_0x148839,'realScore':_0x987319[_0x6f2fc6(0x349)]||_0x987319[_0x6f2fc6(0x9c2)]||0x0,'totalPoints':_0x987319[_0x6f2fc6(0xaa1)]||0x0,'badges':_0x987319[_0x6f2fc6(0xab9)]||[],'hasPerfectScoreBonus':_0x987319['hasPerfectScoreBonus']||![]})),_0x5af481=Math['max'](..._0x2678f1[_0x6f2fc6(0xa15)](_0xacc275=>_0xacc275[_0x6f2fc6(0xaa1)]),-Infinity),_0x150826=Math[_0x6f2fc6(0xddc)](..._0x2678f1['map'](_0x2cd36f=>_0x2cd36f['realScore']),-Infinity);_0x2678f1[_0x6f2fc6(0x2b3)]((_0x469859,_0x2b16a2)=>{const _0xb560c9=_0x6f2fc6;if(_0x3c088f){const _0x7529f3=_0x2b16a2[_0xb560c9(0xaa1)]-_0x469859[_0xb560c9(0xaa1)];if(_0x7529f3!==0x0)return _0x7529f3;const _0x4bc8e3=_0x2b16a2[_0xb560c9(0x349)]-_0x469859['realScore'];if(_0x4bc8e3!==0x0)return _0x4bc8e3;return _0x469859[_0xb560c9(0x631)][_0xb560c9(0xac1)](_0x2b16a2[_0xb560c9(0x631)],'th');}else{const _0xfd00fb=_0x2b16a2[_0xb560c9(0xaa1)]-_0x469859['totalPoints'];if(_0xfd00fb!==0x0)return _0xfd00fb;return _0x2b16a2[_0xb560c9(0x349)]-_0x469859[_0xb560c9(0x349)];}});const _0x30a5bf=_0x56e453=>{const _0x519f7d=_0x6f2fc6;if(!_0x56e453||_0x56e453[_0x519f7d(0x81c)]===0x0)return'';const _0x3494e8={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x519f7d(0xd48)+_0x56e453[_0x519f7d(0xa15)](_0x5192f3=>_0x3494e8[_0x5192f3]||'')['join']('')+'</div>';},_0x53b7f2=_0x167728=>{const _0x2901d6=_0x6f2fc6;let _0x17a884='';if(_0x3c088f){if(_0x167728[_0x2901d6(0xaa1)]===_0x5af481&&_0x5af481>0x0)_0x17a884+=_0x2901d6(0xb5a);if(_0x167728[_0x2901d6(0x349)]===_0x150826&&_0x150826>0x0)_0x17a884+=_0x2901d6(0x277);}else{if(_0x167728[_0x2901d6(0xc1c)])_0x17a884=_0x2901d6(0xd1b);}if(_0x3c088f){const _0x4176cd=_0x167728['totalPoints']>=0x0?'(+'+_0x167728[_0x2901d6(0xaa1)][_0x2901d6(0x4d2)]()+')':'('+_0x167728[_0x2901d6(0xaa1)][_0x2901d6(0x4d2)]()+')';return'<p\x20class=\x22text-xl\x22>'+_0x167728[_0x2901d6(0x349)]+_0x2901d6(0xa40)+_0x4176cd+'\x20'+_0x17a884+_0x2901d6(0x8d0);}else return _0x2901d6(0x710)+_0x167728['totalPoints']['toLocaleString']()+_0x2901d6(0xa40)+_0x17a884+_0x2901d6(0x8d0);},_0x42cfc3=_0x2678f1[_0x6f2fc6(0x2c1)](0x3),_0x2e8c72=_0x42cfc3[_0x6f2fc6(0x81c)]>0x0?_0x6f2fc6(0x73f)+_0x42cfc3['map']((_0x12d2e2,_0x5c0d7b)=>{const _0x3f32d3=_0x6f2fc6;return _0x3f32d3(0xa04)+(_0x5c0d7b+0x4)+_0x3f32d3(0x658)+_0x12d2e2[_0x3f32d3(0x631)]+_0x3f32d3(0x734)+_0x53b7f2(_0x12d2e2)+_0x3f32d3(0x670);})[_0x6f2fc6(0x919)]('')+_0x6f2fc6(0x228):'',_0x423589='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2678f1[0x1]?_0x6f2fc6(0xef2)+_0x2678f1[0x1][_0x6f2fc6(0x631)]+_0x6f2fc6(0x8d0)+_0x30a5bf(_0x2678f1[0x1]['badges'])+_0x53b7f2(_0x2678f1[0x1])+_0x6f2fc6(0xebd):_0x6f2fc6(0x7c0))+_0x6f2fc6(0x1fc)+(_0x2678f1[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x2678f1[0x0]['name']+_0x6f2fc6(0x8d0)+_0x30a5bf(_0x2678f1[0x0][_0x6f2fc6(0xab9)])+_0x53b7f2(_0x2678f1[0x0])+_0x6f2fc6(0x9b7):_0x6f2fc6(0x7c0))+_0x6f2fc6(0x1fc)+(_0x2678f1[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x2678f1[0x2][_0x6f2fc6(0x631)]+_0x6f2fc6(0x8d0)+_0x30a5bf(_0x2678f1[0x2][_0x6f2fc6(0xab9)])+_0x53b7f2(_0x2678f1[0x2])+'<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x6f2fc6(0x7c0))+_0x6f2fc6(0x547)+_0x2e8c72+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x6f2fc6(0x203)?_0x6f2fc6(0x961):'<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x6f2fc6(0x28a)]=_0x423589,currentMode===_0x6f2fc6(0x203)?document[_0x6f2fc6(0xbeb)](_0x6f2fc6(0x468))[_0x6f2fc6(0x79a)]('click',async()=>{const _0x438ca5=_0x6f2fc6;let _0x34524b;_0x5009e2===_0x438ca5(0xe25)?_0x34524b=doc(db,_0x438ca5(0xcaf)+appId+'/public/data/syncGames',currentLiveGameId):_0x34524b=doc(db,_0x438ca5(0xcaf)+appId+_0x438ca5(0x834),currentLiveGameId),await deleteDoc(_0x34524b);}):document[_0x6f2fc6(0xbeb)](_0x6f2fc6(0x960))?.['addEventListener']('click',()=>{const _0x5f26e8=_0x6f2fc6;showView(_0x5f26e8(0x2ec));});}function renderSyncSummaryView(_0x544e38,_0x49c700,_0x40e6b9){const _0x583ca8=_0x4ce511,_0x42ec24=_0x544e38[_0x583ca8(0x392)]||_0x583ca8(0x25c),_0x252182=(_0x42ec24===_0x583ca8(0xe34)||_0x42ec24===_0x583ca8(0x7fe))&&_0x544e38['isAnonymousRevealed']===![],_0x4672ad=_0x42ec24==='reveal_at_end'||_0x42ec24==='anonymous_reveal_end',_0x5cf5e7=_0x544e38[_0x583ca8(0x663)][_0x583ca8(0x7bb)],_0x4c68a5=_0x49c700[_0x583ca8(0xd06)]||_0x544e38[_0x583ca8(0x663)][_0x583ca8(0xd15)],_0x429f15=_0x4c68a5===_0x583ca8(0xc63)||_0x4c68a5===_0x583ca8(0x2fc);let _0x39f251='';if(_0x429f15){let _0xcf7be6=0x0,_0xd6a483=0x0;const _0x431282=[],_0x2b21c6=[];Object[_0x583ca8(0x6e1)](_0x544e38['players']||{})['forEach'](([_0x5ecc7d,_0x4eb016])=>{const _0x2df310=_0x583ca8,_0x41ff1c=(_0x4eb016['answers']||[])[_0x2df310(0x340)](_0x45e2ab=>_0x45e2ab[_0x2df310(0x4cd)]===_0x544e38[_0x2df310(0x568)]);if(_0x4eb016[_0x2df310(0x3a7)]!==_0x2df310(0x966)&&_0x41ff1c){const _0x196ad8=_0x41ff1c[_0x2df310(0xd08)],_0x3afead=_0x252182?_0x544e38['playerNicknames'][_0x5ecc7d]||_0x2df310(0x681):_0x5ecc7d;_0x41ff1c['isCorrect']?(_0xcf7be6++,_0x431282[_0x2df310(0x9ba)](_0x3afead)):(_0xd6a483++,_0x2b21c6['push'](_0x2df310(0x42c)+_0x3afead+_0x2df310(0x3f5)+(_0x196ad8||_0x2df310(0xaff))));}}),_0x39f251=_0x583ca8(0xf3a)+_0xcf7be6+_0x583ca8(0x9a4)+(_0x431282[_0x583ca8(0x81c)]>0x0?_0x431282[_0x583ca8(0x919)](',\x20'):'-')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0xd6a483+_0x583ca8(0xb64)+(_0x2b21c6['length']>0x0?_0x2b21c6[_0x583ca8(0x919)](_0x583ca8(0xdd9)):'-')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}else{let _0x29b6c2=[];_0x4c68a5===_0x583ca8(0x4ac)?_0x29b6c2=[_0x583ca8(0x6de),_0x583ca8(0x9f7)]:_0x29b6c2=_0x49c700[_0x583ca8(0xdf0)]||[];const _0x48d35f=new Array(_0x29b6c2[_0x583ca8(0x81c)])[_0x583ca8(0x913)](0x0),_0x83a53a={};_0x29b6c2[_0x583ca8(0xbd3)]((_0x599043,_0x4f1bb6)=>{_0x83a53a[_0x4f1bb6]=[];}),Object[_0x583ca8(0x6e1)](_0x544e38[_0x583ca8(0x735)]||{})['forEach'](([_0x5173d8,_0x2a1896])=>{const _0x50b245=_0x583ca8,_0x4de96c=(_0x2a1896[_0x50b245(0xb0f)]||[])[_0x50b245(0x340)](_0x59961c=>_0x59961c[_0x50b245(0x4cd)]===_0x544e38[_0x50b245(0x568)]);if(_0x2a1896[_0x50b245(0x3a7)]!=='inactive'&&_0x4de96c&&_0x4de96c[_0x50b245(0x64e)]!==null){const _0x2fef63=parseInt(_0x4de96c[_0x50b245(0x64e)]);if(!isNaN(_0x2fef63)&&_0x83a53a[_0x2fef63]!==undefined){const _0x253063=_0x252182?_0x544e38[_0x50b245(0xe63)][_0x5173d8]||_0x50b245(0x681):_0x5173d8;_0x83a53a[_0x2fef63][_0x50b245(0x9ba)](_0x253063),_0x48d35f[_0x2fef63]++;}}}),_0x39f251=_0x583ca8(0x761)+_0x48d35f['map']((_0x449e0e,_0x5629f5)=>{const _0x9f6cb6=_0x583ca8,_0x1cd68e=_0x83a53a[_0x5629f5][_0x9f6cb6(0x81c)]>0x0?_0x83a53a[_0x5629f5][_0x9f6cb6(0x919)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x49cd79=_0x9f6cb6(0x653);return _0x9f6cb6(0x8e7)+_0x449e0e+_0x9f6cb6(0xd8a)+_0x49cd79+_0x9f6cb6(0x94a)+_0x5629f5+_0x9f6cb6(0xcd9)+_0x29b6c2[_0x5629f5]+_0x9f6cb6(0x43d)+_0x5629f5+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>'+_0x1cd68e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x583ca8(0x919)]('')+_0x583ca8(0x9c8);}let _0x809035='';const _0x7b0848=_0x544e38['currentQuestionIndex']>=_0x5cf5e7[_0x583ca8(0x81c)]-0x1;_0x40e6b9?_0x4672ad?_0x7b0848?_0x809035=_0x583ca8(0x959):_0x809035=_0x583ca8(0x74e):_0x809035=_0x583ca8(0x807):_0x4672ad?_0x809035=_0x583ca8(0xc28):_0x809035='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x41c3ff=_0x40e6b9?_0x583ca8(0x7a1)+_0x544e38[_0x583ca8(0xf58)]+_0x583ca8(0xd83):'',_0x30e040=_0x583ca8(0xb21)+_0x41c3ff+_0x583ca8(0xe91)+(_0x49c700['questionText']||_0x49c700['stem']||'')+_0x583ca8(0xe85)+_0x39f251+_0x583ca8(0xdda)+_0x809035+_0x583ca8(0x6b8);liveGameView['innerHTML']=_0x30e040;if(window[_0x583ca8(0xeb4)])MathJax[_0x583ca8(0x61b)]();if(_0x40e6b9){const _0x5deead=doc(db,'artifacts/'+appId+_0x583ca8(0x2a0),currentLiveGameId);document[_0x583ca8(0xbeb)](_0x583ca8(0x50d))?.[_0x583ca8(0x79a)](_0x583ca8(0xc64),async()=>{const _0x333082=_0x583ca8,_0x5d3355=Object[_0x333082(0xb18)](_0x544e38['players']||{})['map'](_0x549966=>({'name':_0x549966['name'],'score':_0x549966['score']||0x0,'totalPoints':_0x549966[_0x333082(0xaa1)]||0x0,'pointsLastRound':_0x549966[_0x333082(0x989)]||0x0,'answers':_0x549966['answers']||[],'correctStreak':_0x549966[_0x333082(0x905)]||0x0}));await updateDoc(_0x5deead,{'status':_0x333082(0x783),'publicLeaderboard':_0x5d3355});}),document[_0x583ca8(0xbeb)]('open-sync-scratchpad-btn')?.[_0x583ca8(0x79a)](_0x583ca8(0xc64),()=>{openScratchpad(_0x49c700,_0x49c700['options']||[]);}),document[_0x583ca8(0xbeb)](_0x583ca8(0xdb5))?.['addEventListener'](_0x583ca8(0xc64),async()=>{const _0x4e4272=_0x583ca8,_0x50cc2f=_0x544e38[_0x4e4272(0x568)]+0x1;await updateDoc(_0x5deead,{'status':_0x4e4272(0x5f4),'currentQuestionIndex':_0x50cc2f,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x583ca8(0xbeb)](_0x583ca8(0xe71))?.['addEventListener']('click',async()=>{const _0x7f828d=_0x583ca8,_0x5f4cbe=Object[_0x7f828d(0xb18)](_0x544e38[_0x7f828d(0x735)]||{})[_0x7f828d(0xa15)](_0x35b498=>({'name':_0x35b498[_0x7f828d(0x631)],'score':_0x35b498[_0x7f828d(0x9c2)]||0x0,'totalPoints':_0x35b498[_0x7f828d(0xaa1)]||0x0,'pointsLastRound':_0x35b498[_0x7f828d(0x989)]||0x0,'answers':_0x35b498['answers']||[],'correctStreak':_0x35b498[_0x7f828d(0x905)]||0x0}));await updateDoc(_0x5deead,{'status':_0x7f828d(0x783),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x5f4cbe});});}}function renderAnonymousStudentResultsView(_0x1ed599){const _0x3437ec=_0x4ce511,_0x260568=_0x1ed599[_0x3437ec(0x568)]>=_0x1ed599[_0x3437ec(0x663)][_0x3437ec(0x7bb)][_0x3437ec(0x81c)]-0x1;let _0x351f32='';if(_0x1ed599[_0x3437ec(0x5fb)]===!![]){const _0x4d60ee=_0x1ed599[_0x3437ec(0x735)][localTeamPlayers[0x0]],_0x55c282=_0x4d60ee[_0x3437ec(0x631)],_0x46da44=_0x4d60ee[_0x3437ec(0x9c2)];_0x351f32=_0x3437ec(0x4bd)+_0x55c282+_0x3437ec(0x785)+_0x46da44+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x351f32=_0x3437ec(0x8b5)+(_0x260568?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':'รอผู้ควบคุมไปข้อต่อไป...')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x1df35a=_0x3437ec(0x79d)+_0x351f32+_0x3437ec(0x588);liveGameView[_0x3437ec(0x28a)]=_0x1df35a;}async function handleShowStudentRankings(){const _0x41395a=_0x4ce511,_0x535da1=document[_0x41395a(0x2d0)](_0x41395a(0xc26));_0x535da1&&(_0x535da1['innerHTML']=_0x41395a(0x6a9));const _0x37d28c=document[_0x41395a(0x2d0)](_0x41395a(0xa5a));_0x37d28c&&(_0x37d28c[_0x41395a(0x28a)]=_0x41395a(0x42e));const _0x17692f=document[_0x41395a(0xbeb)](_0x41395a(0x3cd));_0x17692f[_0x41395a(0xa1f)]['remove'](_0x41395a(0x9d8)),document['getElementById'](_0x41395a(0x346))['onclick']=()=>_0x17692f[_0x41395a(0xa1f)][_0x41395a(0x7e0)](_0x41395a(0x9d8));const _0x216331=document[_0x41395a(0xbeb)](_0x41395a(0x7c1)),_0x547424=document[_0x41395a(0xbeb)](_0x41395a(0x368)),_0x3bafed=document['getElementById'](_0x41395a(0xb1d)),_0x5628dd=document['getElementById'](_0x41395a(0xb79));_0x216331['onclick']=()=>{const _0x5e938f=_0x41395a;_0x216331[_0x5e938f(0xa1f)]['add'](_0x5e938f(0x829)),_0x547424['classList'][_0x5e938f(0x711)]('active'),_0x3bafed[_0x5e938f(0xa1f)]['remove'](_0x5e938f(0x9d8)),_0x5628dd['classList'][_0x5e938f(0x7e0)](_0x5e938f(0x9d8));},_0x547424['onclick']=()=>{const _0xb6158f=_0x41395a;_0x547424['classList'][_0xb6158f(0x7e0)]('active'),_0x216331[_0xb6158f(0xa1f)][_0xb6158f(0x711)](_0xb6158f(0x829)),_0x5628dd[_0xb6158f(0xa1f)][_0xb6158f(0x711)](_0xb6158f(0x9d8)),_0x3bafed['classList'][_0xb6158f(0x7e0)](_0xb6158f(0x9d8));};try{const _0x3f8125=collection(db,_0x41395a(0xcaf)+appId+_0x41395a(0x284)+currentQuizData['id']+_0x41395a(0x65f)),_0x50af54=await getDocs(_0x3f8125),_0x5d92c0=_0x50af54['docs'][_0x41395a(0xa15)](_0x5db372=>_0x5db372[_0x41395a(0xbfb)]());renderQuizLeaderboard(_0x5d92c0,currentQuizData,_0x41395a(0x3e9));const _0x4547fa=collection(db,_0x41395a(0xcaf)+appId+_0x41395a(0xeab)+currentQuizData[_0x41395a(0xc3a)]+_0x41395a(0x374)),_0x3ee730=await getDocs(_0x4547fa),_0x46250c=_0x3ee730[_0x41395a(0xf3c)][_0x41395a(0xa15)](_0x4440d9=>_0x4440d9['data']());renderLeaderboard(_0x46250c,'student-project-leaderboard-table-body');}catch(_0x598493){console[_0x41395a(0xd74)](_0x41395a(0xb81),_0x598493),showMessage(_0x41395a(0x420));}}async function handleSaveToBank(_0x5a66d7){const _0x259051=_0x4ce511,_0x11ba18=_0x5a66d7[_0x259051(0xb60)],_0x360021=_0x11ba18['dataset'][_0x259051(0x76b)],_0x44b637=currentQuizData[_0x259051(0x7bb)][_0x360021];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x2fa2f6={..._0x44b637,'originalTopic':currentQuizData[_0x259051(0x8ba)],'savedAt':serverTimestamp()},_0x2035de=collection(db,'artifacts/'+appId+_0x259051(0x9c7)+userId+_0x259051(0xec6));await addDoc(_0x2035de,_0x2fa2f6),showMessage(_0x259051(0x3bb)),_0x11ba18[_0x259051(0xa1f)][_0x259051(0x711)]('text-purple-600'),_0x11ba18[_0x259051(0xa1f)]['add'](_0x259051(0x7c5)),_0x11ba18['disabled']=!![];}catch(_0x1a36e5){console[_0x259051(0xd74)]('Error\x20saving\x20to\x20question\x20bank:',_0x1a36e5),showMessage(_0x259051(0xe5b));}}async function selectProjectAndGenerateBlueprintQuiz(_0x5cec0c,_0x45c587=null,_0x36b3c2=null,_0x38888e=![]){const _0x27ec46=_0x4ce511;cameFromBlueprint=!![];const _0x586f14=document[_0x27ec46(0xbeb)](_0x27ec46(0xd71))?.[_0x27ec46(0xc07)][_0x27ec46(0x88c)]();let _0x45c2ae=null;if(_0x586f14){showMessage('กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...');try{const _0x15b494=await fetchFileFromUrl(_0x586f14,_0x27ec46(0xb0a)),_0x2cc800=await new Promise((_0x5d8b63,_0x3f5716)=>{const _0x2ce6ae=_0x27ec46,_0x54f2b8=new FileReader();_0x54f2b8[_0x2ce6ae(0xf1b)](_0x15b494),_0x54f2b8[_0x2ce6ae(0x48b)]=()=>_0x5d8b63(_0x54f2b8[_0x2ce6ae(0xb58)][_0x2ce6ae(0xa00)](',')[0x1]),_0x54f2b8[_0x2ce6ae(0xdf9)]=_0x3f5716;});_0x45c2ae=[{'inlineData':{'mimeType':_0x15b494[_0x27ec46(0x562)],'data':_0x2cc800}}],messageModal[_0x27ec46(0xa1f)][_0x27ec46(0x7e0)](_0x27ec46(0x9d8));}catch(_0x463dae){console[_0x27ec46(0xd74)](_0x27ec46(0x2cf),_0x463dae),showMessage(_0x27ec46(0x563));}}const _0x5f067c=document['getElementById'](_0x27ec46(0x5c6)),_0x381f7d=document[_0x27ec46(0xbeb)](_0x27ec46(0x546)),_0x111c9f=_0x5f067c[_0x27ec46(0x2d0)]('h3'),_0x58072c=document['getElementById'](_0x27ec46(0xa29)),_0x12a54c=document[_0x27ec46(0xbeb)](_0x27ec46(0x4da));_0x111c9f['textContent']=_0x27ec46(0x34f),_0x58072c[_0x27ec46(0x211)]=_0x27ec46(0x4f7),_0x58072c[_0x27ec46(0x272)]=!![];allProjects['length']===0x0?_0x381f7d[_0x27ec46(0x28a)]=_0x27ec46(0x573):(_0x381f7d[_0x27ec46(0x28a)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x27ec46(0xa15)](_0x2246f8=>_0x27ec46(0xd26)+_0x2246f8['id']+'\x22>'+_0x2246f8['projectName']+'</option>')['join'](''),_0x58072c[_0x27ec46(0x272)]=![]);_0x5f067c[_0x27ec46(0xa1f)]['remove']('hidden');const _0x46b78a=async()=>{const _0x566a60=_0x27ec46,_0x57ab62=_0x381f7d[_0x566a60(0xc07)];if(!_0x57ab62){showMessage(_0x566a60(0x4c5));return;}_0x5f067c[_0x566a60(0xa1f)][_0x566a60(0x7e0)](_0x566a60(0x9d8)),document[_0x566a60(0xbeb)](_0x566a60(0xa62))[_0x566a60(0xa1f)][_0x566a60(0x7e0)](_0x566a60(0x9d8)),await loadProjectDetails(_0x57ab62),showView(_0x566a60(0xe1e)),handleGenerateQuizFromBlueprintTopic(_0x5cec0c,_0x45c587,_0x57ab62,_0x36b3c2,_0x38888e,_0x45c2ae),_0x49da0c();},_0x49da0c=()=>{const _0x5f5c52=_0x27ec46;_0x111c9f['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x58072c[_0x5f5c52(0x211)]=_0x5f5c52(0x699),_0x58072c[_0x5f5c52(0x8fb)](_0x5f5c52(0xc64),_0x46b78a),_0x12a54c['removeEventListener'](_0x5f5c52(0xc64),_0x49da0c),_0x58072c[_0x5f5c52(0x79a)](_0x5f5c52(0xc64),confirmMoveQuiz);};_0x58072c[_0x27ec46(0x8fb)](_0x27ec46(0xc64),confirmMoveQuiz),_0x58072c[_0x27ec46(0x79a)](_0x27ec46(0xc64),_0x46b78a),_0x12a54c['addEventListener'](_0x27ec46(0xc64),_0x49da0c);}function listenForStarredQuizzes(){const _0x5520f2=_0x4ce511;if(!userId)return;const _0x28ca45=collection(db,_0x5520f2(0xcaf)+appId+'/public/data/quizzes'),_0x5c607d=query(_0x28ca45,where(_0x5520f2(0x81f),'==',!![]));onSnapshot(_0x5c607d,_0x328383=>{const _0x4b6ffb=_0x5520f2;starredQuizzes=_0x328383[_0x4b6ffb(0xf3c)][_0x4b6ffb(0xa15)](_0xdf6845=>({'id':_0xdf6845['id'],..._0xdf6845[_0x4b6ffb(0xbfb)]()})),currentProjectId===_0x4b6ffb(0x646)?renderQuizzes():renderProjects();},_0x2f7023=>{const _0x570594=_0x5520f2;console[_0x570594(0xd74)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x2f7023);});}function listenForFileShortcuts(){const _0x2986b5=_0x4ce511,_0x12a310=doc(db,_0x2986b5(0xc3f),_0x2986b5(0xa3c));onSnapshot(_0x12a310,_0x3d5fb4=>{const _0x39464b=_0x2986b5;let _0x14204b=[],_0x2de398=[],_0x5780a6={};if(_0x3d5fb4['exists']()){const _0x3df2eb=_0x3d5fb4['data']();_0x14204b=_0x3df2eb['shortcuts']||[],_0x2de398=_0x3df2eb['fileShortcutTabs']||[],_0x5780a6=_0x3df2eb[_0x39464b(0xd84)]||{};}!_0x2de398[_0x39464b(0x340)](_0x1ecada=>_0x1ecada['id']===_0x39464b(0x408))&&_0x2de398[_0x39464b(0xcc4)]({'id':_0x39464b(0x408),'name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x14204b[_0x39464b(0x340)](_0x4accad=>_0x4accad['id']===_0x39464b(0x37d))&&_0x14204b[_0x39464b(0xcc4)]({'id':_0x39464b(0x37d),'name':_0x39464b(0x55b),'url':'','isDefault':!![]}),!_0x14204b[_0x39464b(0x340)](_0x51da06=>_0x51da06['id']===_0x39464b(0x9e4))&&_0x14204b[_0x39464b(0xcc4)]({'id':'file-default-2','name':_0x39464b(0x5fe),'url':'','isDefault':!![]}),fileShortcuts=_0x14204b,fileShortcutTabs=_0x2de398,fileShortcutOrder=_0x5780a6,renderFileShortcuts(),!document[_0x39464b(0xbeb)](_0x39464b(0xbd7))[_0x39464b(0xa1f)][_0x39464b(0xa3f)](_0x39464b(0x9d8))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x166429=_0x4ce511,_0x37da83=doc(db,_0x166429(0xc3f),'fileShortcutsConfig');try{await setDoc(_0x37da83,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x378f57){console[_0x166429(0xd74)](_0x166429(0xabc),_0x378f57);}}function renderAdditionalFileShortcutsModal(){const _0xfeed9b=_0x4ce511,_0x28cfbd=document['getElementById'](_0xfeed9b(0x801)),_0x172980=document[_0xfeed9b(0xbeb)]('additional-file-shortcuts-list');if(!_0x28cfbd||!_0x172980)return;_0x28cfbd[_0xfeed9b(0x28a)]=fileShortcutTabs[_0xfeed9b(0xa15)](_0x370df9=>{const _0x851520=_0xfeed9b,_0x30ed88=_0x370df9['id']===activeFileShortcutTabId;return _0x851520(0x5ce)+_0x370df9['id']+_0x851520(0x2e4)+(_0x30ed88?_0x851520(0x935):_0x851520(0xf40))+_0x851520(0x373)+_0x370df9['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x370df9[_0x851520(0x631)]+_0x851520(0xca0)+(!_0x370df9[_0x851520(0x83d)]?_0x851520(0x23c)+_0x370df9['id']+_0x851520(0x5c8):'')+_0x851520(0x9c9);})[_0xfeed9b(0x919)]('');const _0x1222a6=fileShortcutTabs[_0xfeed9b(0x340)](_0x6de7cb=>_0x6de7cb['id']===activeFileShortcutTabId);let _0x359247=_0x1222a6?.[_0xfeed9b(0x83d)]?[...fileShortcuts]:fileShortcuts['filter'](_0x5ab53b=>(_0x1222a6?.[_0xfeed9b(0x78c)]||[])['includes'](_0x5ab53b['id']));const _0xf2a58a=fileShortcutOrder[activeFileShortcutTabId]||[];_0x359247[_0xfeed9b(0x2b3)]((_0x8eae28,_0x581a90)=>{const _0x23a37e=_0xfeed9b,_0x975059=_0xf2a58a['indexOf'](_0x8eae28['id']),_0x98bf16=_0xf2a58a[_0x23a37e(0xf23)](_0x581a90['id']);return(_0x975059===-0x1?Infinity:_0x975059)-(_0x98bf16===-0x1?Infinity:_0x98bf16);}),_0x172980[_0xfeed9b(0x28a)]=_0x359247[_0xfeed9b(0xa15)](_0x29cd5e=>{const _0x26b1c4=_0xfeed9b,_0x39e2dd=_0x29cd5e[_0x26b1c4(0xe65)]?'📄':'🔗',_0x147145=fileShortcutTabs[_0x26b1c4(0x395)](_0x11041a=>!_0x11041a[_0x26b1c4(0x83d)]),_0x89a4ae=_0x1222a6[_0x26b1c4(0x83d)]&&_0x147145['length']>0x0?_0x26b1c4(0x523)+_0x147145[_0x26b1c4(0xa15)](_0x525637=>_0x26b1c4(0xb3b)+_0x29cd5e['id']+_0x26b1c4(0x297)+_0x525637['id']+'\x22>'+_0x525637['name']+'</a>')[_0x26b1c4(0x919)]('')+_0x26b1c4(0x50b):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x29cd5e['id']+_0x26b1c4(0xd3e)+_0x39e2dd+'\x20'+_0x29cd5e['name']+_0x26b1c4(0xdbf)+_0x29cd5e['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x29cd5e['id']+_0x26b1c4(0x3b5)+(!_0x29cd5e[_0x26b1c4(0x83d)]?_0x26b1c4(0x938)+_0x29cd5e['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1222a6[_0x26b1c4(0x83d)]?_0x26b1c4(0x314)+_0x29cd5e['id']+_0x26b1c4(0xea4):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x89a4ae+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xfeed9b(0x919)]('')||_0xfeed9b(0x474),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x45f8bc=_0x4ce511;document[_0x45f8bc(0xb02)](_0x45f8bc(0x635))[_0x45f8bc(0xbd3)](_0x506657=>{const _0xc0e978=_0x45f8bc;_0x506657[_0xc0e978(0x810)]=_0x56f3e0=>{const _0x234683=_0xc0e978;activeFileShortcutTabId=_0x56f3e0[_0x234683(0xb60)]['dataset']['tabId'],renderAdditionalFileShortcutsModal();},_0x506657[_0xc0e978(0xccf)]=_0x25e29d=>{const _0xa498d8=_0xc0e978,_0x483348=_0x25e29d[_0xa498d8(0xb60)][_0xa498d8(0x2d0)](_0xa498d8(0x577));_0x25e29d[_0xa498d8(0xb60)][_0xa498d8(0x2d0)](_0xa498d8(0x4ee))['classList']['add'](_0xa498d8(0x9d8)),_0x483348[_0xa498d8(0xa1f)][_0xa498d8(0x711)]('hidden'),_0x483348[_0xa498d8(0xd7d)](),_0x483348['select']();};}),document[_0x45f8bc(0xb02)](_0x45f8bc(0x411))[_0x45f8bc(0xbd3)](_0x12dea2=>{const _0x4e3cab=_0x45f8bc,_0x53b79d=()=>{const _0x2784cb=_0x5a5c,_0x20b7ea=_0x12dea2['closest'](_0x2784cb(0x635))['dataset'][_0x2784cb(0x9ee)],_0x2fad02=fileShortcutTabs['find'](_0x416eb8=>_0x416eb8['id']===_0x20b7ea);_0x2fad02&&(_0x2fad02['name']=_0x12dea2[_0x2784cb(0xc07)][_0x2784cb(0x88c)]()||_0x2fad02['name'],saveFileShortcutConfig());};_0x12dea2[_0x4e3cab(0xcdb)]=_0x53b79d,_0x12dea2['onkeydown']=_0x2a3dd7=>{const _0x1dd214=_0x4e3cab;if(_0x2a3dd7[_0x1dd214(0x7a4)]===_0x1dd214(0xee0))_0x12dea2[_0x1dd214(0x5ab)]();};}),document[_0x45f8bc(0xb02)](_0x45f8bc(0x644))[_0x45f8bc(0xbd3)](_0x4357ec=>_0x4357ec[_0x45f8bc(0x810)]=_0x33737e=>{const _0x23098b=_0x45f8bc,_0x5467c1=_0x33737e[_0x23098b(0xb60)][_0x23098b(0x6b1)][_0x23098b(0x9ee)];showConfirmation(_0x23098b(0x401),()=>{const _0x4defb1=_0x23098b;fileShortcutTabs=fileShortcutTabs[_0x4defb1(0x395)](_0x122cb4=>_0x122cb4['id']!==_0x5467c1),delete fileShortcutOrder[_0x5467c1];if(activeFileShortcutTabId===_0x5467c1)activeFileShortcutTabId=_0x4defb1(0x408);saveFileShortcutConfig();});}),document[_0x45f8bc(0xb02)](_0x45f8bc(0xed8))['forEach'](_0x424001=>_0x424001[_0x45f8bc(0x810)]=_0x5a93ac=>{const _0x284b4f=_0x45f8bc;_0x5a93ac[_0x284b4f(0xcaa)]();const {shortcutId:_0x424aa9,targetTabId:_0x1318ab}=_0x5a93ac[_0x284b4f(0xb60)][_0x284b4f(0x6b1)],_0x87a4cc=fileShortcutTabs[_0x284b4f(0x340)](_0xd0ebef=>_0xd0ebef['id']===_0x1318ab);_0x87a4cc&&!_0x87a4cc[_0x284b4f(0x78c)][_0x284b4f(0x87a)](_0x424aa9)&&(_0x87a4cc[_0x284b4f(0x78c)][_0x284b4f(0x9ba)](_0x424aa9),saveFileShortcutConfig());}),document['querySelectorAll']('.remove-file-shortcut-from-tab-btn')['forEach'](_0x52299d=>_0x52299d['onclick']=_0x37bd55=>{const _0xba49c9=_0x45f8bc,_0x2223ec=_0x37bd55[_0xba49c9(0xb60)][_0xba49c9(0x6b1)][_0xba49c9(0xa99)],_0x43f952=fileShortcutTabs[_0xba49c9(0x340)](_0xe2c26b=>_0xe2c26b['id']===activeFileShortcutTabId);_0x43f952&&!_0x43f952[_0xba49c9(0x83d)]&&(_0x43f952['shortcutIds']=_0x43f952[_0xba49c9(0x78c)][_0xba49c9(0x395)](_0x570572=>_0x570572!==_0x2223ec),saveFileShortcutConfig());}),document[_0x45f8bc(0xb02)](_0x45f8bc(0x6ac))[_0x45f8bc(0xbd3)](_0x344f44=>_0x344f44[_0x45f8bc(0x810)]=_0x3c80fa=>{const _0x4689f4=_0x45f8bc;_0x3c80fa[_0x4689f4(0xed5)]();const _0x102c4c=_0x3c80fa[_0x4689f4(0xb60)][_0x4689f4(0xd1f)];document['querySelectorAll'](_0x4689f4(0xa4f))['forEach'](_0x4672a9=>_0x4672a9[_0x4689f4(0xa1f)][_0x4689f4(0x7e0)]('hidden')),_0x102c4c['classList'][_0x4689f4(0x711)](_0x4689f4(0x9d8));});const _0x203174=document['getElementById'](_0x45f8bc(0x975));let _0x3fc68d=null;_0x203174[_0x45f8bc(0xc6d)]=_0x274fed=>{const _0x453be8=_0x45f8bc;_0x3fc68d=_0x274fed[_0x453be8(0x544)]['closest'](_0x453be8(0xe02));if(_0x3fc68d)setTimeout(()=>_0x3fc68d[_0x453be8(0xa1f)][_0x453be8(0x7e0)](_0x453be8(0x42d)),0x0);},_0x203174[_0x45f8bc(0x7f0)]=()=>{const _0x12dc69=_0x45f8bc;_0x3fc68d&&(_0x3fc68d[_0x12dc69(0xa1f)]['remove'](_0x12dc69(0x42d)),_0x3fc68d=null);},_0x203174[_0x45f8bc(0xb8b)]=_0xc9ad09=>{_0xc9ad09['preventDefault']();},_0x203174[_0x45f8bc(0x72d)]=_0x1a4757=>{const _0x20375a=_0x45f8bc;_0x1a4757['preventDefault']();if(_0x3fc68d){const _0x168e56=[..._0x203174[_0x20375a(0xb02)]('.shortcut-list-item:not(.opacity-50)')][_0x20375a(0x6f2)]((_0x582588,_0x40e8e0)=>{const _0x1bba1d=_0x20375a,_0x5f30d3=_0x40e8e0[_0x1bba1d(0x9af)](),_0x5bb097=_0x1a4757[_0x1bba1d(0x64a)]-_0x5f30d3[_0x1bba1d(0xdaf)]-_0x5f30d3[_0x1bba1d(0x8bb)]/0x2;return _0x5bb097<0x0&&_0x5bb097>_0x582588[_0x1bba1d(0xa81)]?{'offset':_0x5bb097,'element':_0x40e8e0}:_0x582588;},{'offset':Number[_0x20375a(0xb9a)]})[_0x20375a(0x44c)];_0x168e56==null?_0x203174[_0x20375a(0x620)](_0x3fc68d):_0x203174['insertBefore'](_0x3fc68d,_0x168e56);const _0x508a2e=[..._0x203174['querySelectorAll'](_0x20375a(0xe02))][_0x20375a(0xa15)](_0x30181d=>_0x30181d[_0x20375a(0x6b1)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x508a2e,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x395e3e=_0x4ce511,_0x98565d=prompt(_0x395e3e(0x92b),_0x395e3e(0xdce));_0x98565d&&_0x98565d[_0x395e3e(0x88c)]()&&(fileShortcutTabs[_0x395e3e(0x9ba)]({'id':_0x395e3e(0xcea)+Date['now'](),'name':_0x98565d[_0x395e3e(0x88c)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x4129b1=_0x4ce511,_0x924060=document['getElementById'](_0x4129b1(0xb40)),_0x3846ab=document['getElementById'](_0x4129b1(0x975)),_0x212a22=document[_0x4129b1(0xbeb)](_0x4129b1(0xc2e));if(_0x212a22)_0x212a22[_0x4129b1(0xa1f)][_0x4129b1(0x7e0)](_0x4129b1(0x9d8));if(!_0x924060||!_0x3846ab)return;const _0x430ce5=fileShortcuts[_0x4129b1(0x2c1)](0x0,0x4),_0x212825=fileShortcuts[_0x4129b1(0x2c1)](0x4);_0x924060[_0x4129b1(0x28a)]=_0x430ce5[_0x4129b1(0xa15)](_0x538273=>{const _0x5a0cab=_0x4129b1,_0x440bae=_0x538273['url']&&_0x538273['url'][_0x5a0cab(0x88c)]()!=='',_0x3d154d=selectedFile&&selectedFile['shortcutId']===_0x538273['id'];let _0x1eea23=_0x5a0cab(0xd8e),_0x3ff6b3='🔗';if(_0x3d154d)_0x1eea23='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x3ff6b3=_0x5a0cab(0x4d9);else _0x440bae&&(_0x1eea23=_0x5a0cab(0x9d5),_0x3ff6b3='📄');const _0x493079=!_0x538273['isDefault']?_0x5a0cab(0x938)+_0x538273['id']+_0x5a0cab(0x213):'';return _0x5a0cab(0x22c)+_0x538273['id']+_0x5a0cab(0x92c)+_0x1eea23+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x3ff6b3+_0x5a0cab(0x285)+_0x538273[_0x5a0cab(0x631)]+_0x5a0cab(0xc7d)+_0x538273['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x493079+_0x5a0cab(0x971);})[_0x4129b1(0x919)](''),_0x212825[_0x4129b1(0x81c)]>0x0&&(_0x924060['innerHTML']+=_0x4129b1(0x6fc)),_0x212825[_0x4129b1(0x81c)]>0x0?_0x3846ab[_0x4129b1(0x28a)]=_0x212825[_0x4129b1(0xa15)](_0x39bca4=>_0x4129b1(0xe8e)+(_0x39bca4[_0x4129b1(0xe65)]?'📄':'🔗')+'\x20'+_0x39bca4[_0x4129b1(0x631)]+_0x4129b1(0x74b)+_0x39bca4['id']+_0x4129b1(0xb3f)+_0x39bca4['id']+_0x4129b1(0x686)+(!_0x39bca4[_0x4129b1(0x83d)]?'<button\x20data-id=\x22'+_0x39bca4['id']+_0x4129b1(0x63a):'')+_0x4129b1(0x6a0))[_0x4129b1(0x919)](''):_0x3846ab['innerHTML']=_0x4129b1(0xaab);}function openFileShortcutEditor(_0x1ec31d=null){const _0x253670=_0x4ce511,_0x11f4a4=document[_0x253670(0xbeb)](_0x253670(0x75d)),_0x163eec=document[_0x253670(0xbeb)](_0x253670(0x8ce)),_0x527d0d=document[_0x253670(0xbeb)](_0x253670(0x758)),_0x10b46d=document[_0x253670(0xbeb)]('file-shortcut-name-input'),_0x5c9a4b=document[_0x253670(0xbeb)](_0x253670(0xd24));if(_0x1ec31d){const _0x537dd4=fileShortcuts[_0x253670(0x340)](_0x48993d=>_0x48993d['id']===_0x1ec31d);if(!_0x537dd4)return;_0x163eec['textContent']='แก้ไขปุ่มลัดจากไฟล์',_0x527d0d[_0x253670(0xc07)]=_0x537dd4['id'],_0x10b46d[_0x253670(0xc07)]=_0x537dd4[_0x253670(0x631)],_0x5c9a4b[_0x253670(0xc07)]=_0x537dd4[_0x253670(0xe65)]||'';}else _0x163eec[_0x253670(0x211)]=_0x253670(0x87e),_0x527d0d[_0x253670(0xc07)]='',_0x10b46d[_0x253670(0xc07)]='',_0x5c9a4b[_0x253670(0xc07)]='';_0x11f4a4['classList']['remove'](_0x253670(0x9d8));}async function saveFileShortcutChanges(){const _0xae9cf7=_0x4ce511,_0x2903be=document['getElementById'](_0xae9cf7(0x758))[_0xae9cf7(0xc07)],_0x44862a=document[_0xae9cf7(0xbeb)](_0xae9cf7(0x3f1))[_0xae9cf7(0xc07)][_0xae9cf7(0x88c)](),_0x3d2d2e=document[_0xae9cf7(0xbeb)](_0xae9cf7(0xd24))[_0xae9cf7(0xc07)][_0xae9cf7(0x88c)]();if(!_0x44862a){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x38108b={'id':_0x2903be||'file-shortcut_'+Date[_0xae9cf7(0xced)](),'name':_0x44862a,'url':_0x3d2d2e,'isDefault':_0x2903be[_0xae9cf7(0x733)](_0xae9cf7(0x5b5))};let _0x1cf22b;_0x2903be?_0x1cf22b=fileShortcuts['map'](_0xfa4f92=>_0xfa4f92['id']===_0x2903be?_0x38108b:_0xfa4f92):_0x1cf22b=[...fileShortcuts,_0x38108b];try{const _0x42325b=doc(db,_0xae9cf7(0xc3f),'fileShortcutsConfig');await setDoc(_0x42325b,{'shortcuts':_0x1cf22b},{'merge':!![]}),document[_0xae9cf7(0xbeb)]('file-shortcut-editor-modal')[_0xae9cf7(0xa1f)]['add'](_0xae9cf7(0x9d8));}catch(_0x2b821){console[_0xae9cf7(0xd74)](_0xae9cf7(0x713),_0x2b821),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x437b04){const _0x1a31e0=_0x4ce511,_0x4f6d1b=fileShortcuts[_0x1a31e0(0x340)](_0xf51116=>_0xf51116['id']===_0x437b04);if(!_0x4f6d1b)return;if(!_0x4f6d1b[_0x1a31e0(0xe65)]||_0x4f6d1b[_0x1a31e0(0xe65)][_0x1a31e0(0x88c)]()===''){openFileShortcutEditor(_0x437b04);return;}const _0x55bfc4=document[_0x1a31e0(0x2d0)](_0x1a31e0(0x447)+_0x437b04+'\x22]');if(_0x55bfc4){const _0x2b6b77=_0x55bfc4[_0x1a31e0(0x28a)];_0x55bfc4['innerHTML']=_0x1a31e0(0xd40),_0x55bfc4[_0x1a31e0(0x272)]=!![];}document['querySelectorAll'](_0x1a31e0(0x772))[_0x1a31e0(0xbd3)](_0x62e583=>{const _0x391580=_0x1a31e0;if(_0x62e583['dataset']['id']!==_0x437b04)_0x62e583[_0x391580(0xa1f)]['add'](_0x391580(0x42d),_0x391580(0xee5));});try{const _0x52ab38=new URL(_0x4f6d1b[_0x1a31e0(0xe65)])[_0x1a31e0(0x539)],_0x54a534=_0x52ab38['substring'](_0x52ab38['lastIndexOf']('/')+0x1)||(_0x4f6d1b[_0x1a31e0(0xe65)]['includes'](_0x1a31e0(0xdd8))?'file.txt':_0x1a31e0(0xb7a)),_0x16487d=await fetchFileFromUrl(_0x4f6d1b[_0x1a31e0(0xe65)],_0x54a534);_0x16487d['shortcutId']=_0x437b04,selectedFile=_0x16487d,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x1a31e0(0xbeb)](_0x1a31e0(0x7e9))[_0x1a31e0(0xadf)]({'behavior':_0x1a31e0(0x6d4),'block':_0x1a31e0(0x590)});}catch(_0x4eb8cd){console['error'](_0x1a31e0(0x8ff),_0x4eb8cd),showMessage(_0x1a31e0(0x8c9)+_0x4eb8cd[_0x1a31e0(0x68f)]),renderFileShortcuts();}finally{document[_0x1a31e0(0xb02)](_0x1a31e0(0x772))[_0x1a31e0(0xbd3)](_0x17efe6=>{const _0x5936a7=_0x1a31e0;_0x17efe6[_0x5936a7(0xa1f)][_0x5936a7(0x711)](_0x5936a7(0x42d),_0x5936a7(0xee5)),_0x17efe6['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x5789e9=_0x4ce511;if(allQuizzesGlobal[_0x5789e9(0x81c)]>0x0)return;console[_0x5789e9(0x2c0)](_0x5789e9(0x4bb)),showMessage(_0x5789e9(0x4c8));try{const _0x25d207=await getDocs(collection(db,_0x5789e9(0xcaf)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x25d207['docs']['map'](_0x575de7=>({'id':_0x575de7['id'],..._0x575de7[_0x5789e9(0xbfb)]()})),console[_0x5789e9(0x2c0)](_0x5789e9(0xf49)+allQuizzesGlobal[_0x5789e9(0x81c)]+_0x5789e9(0x798)),messageModal[_0x5789e9(0xa1f)][_0x5789e9(0x7e0)]('hidden');}catch(_0x1d5ca5){console[_0x5789e9(0xd74)](_0x5789e9(0x21a),_0x1d5ca5),messageModal[_0x5789e9(0xa1f)][_0x5789e9(0x7e0)](_0x5789e9(0x9d8));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0xa3e62a=_0x4ce511;if(!currentQuizData||!currentQuizData[_0xa3e62a(0x7bb)]){showMessage(_0xa3e62a(0x3f7));return;}const _0x47ea5b=currentQuizData,_0x1f20aa=window[_0xa3e62a(0xb66)]('',_0xa3e62a(0x8f1)),_0x1660f5=_0x2960ec=>String[_0xa3e62a(0x540)](0x41+_0x2960ec),_0x2f1a5c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x47ea5b['topic']+_0xa3e62a(0x7ce)+_0x47ea5b[_0xa3e62a(0x8ba)]+_0xa3e62a(0xf0c)+_0x47ea5b[_0xa3e62a(0x7bb)][_0xa3e62a(0xa15)]((_0x19fe0e,_0x457da9)=>{const _0x25d482=_0xa3e62a;let _0x252125='';const _0x9c9e30=_0x19fe0e[_0x25d482(0xd06)]||_0x47ea5b[_0x25d482(0xd15)];switch(_0x9c9e30){case'multiple_choice':case _0x25d482(0xa4d):_0x252125=_0x25d482(0xb6a)+_0x19fe0e[_0x25d482(0xdf0)][_0x25d482(0xa15)]((_0xca880f,_0xb02ff8)=>_0x25d482(0x6ec)+_0x1660f5(_0xb02ff8)+'.\x20'+_0xca880f+_0x25d482(0x1cb))['join'](_0x25d482(0xdd9))+'</div>';break;case _0x25d482(0x4ac):_0x252125='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x252125=_0x25d482(0x2f2);break;}return _0x25d482(0x9ae)+(_0x457da9+0x1)+_0x25d482(0xa97)+(_0x19fe0e[_0x25d482(0x4dd)]||_0x19fe0e[_0x25d482(0xbc2)])+_0x25d482(0xac4)+(_0x19fe0e['imageCode']?_0x25d482(0x3dd)+_0x19fe0e['imageCode']+_0x25d482(0xc6a):'')+_0x25d482(0xd5f)+_0x252125+_0x25d482(0xaa2);})[_0xa3e62a(0x919)]('')+_0xa3e62a(0x305);_0x1f20aa[_0xa3e62a(0x5a6)][_0xa3e62a(0xae8)](_0x2f1a5c),_0x1f20aa[_0xa3e62a(0x5a6)]['close'](),_0x1f20aa[_0xa3e62a(0x48b)]=function(){setTimeout(()=>{const _0x32fc41=_0x5a5c;_0x1f20aa[_0x32fc41(0xf41)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x2a775d=_0x4ce511;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x2a775d(0x3f7));return;}const _0x2c65e0=currentQuizData,_0x390887=window['open']('',_0x2a775d(0x8f1)),_0x4ebddb=_0x25267e=>String[_0x2a775d(0x540)](0x41+_0x25267e),_0x3bea44=_0x2a775d(0x3fb)+_0x2c65e0[_0x2a775d(0x8ba)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c65e0[_0x2a775d(0x7bb)]['map']((_0x3744cc,_0x19abd1)=>{const _0x1b36df=_0x2a775d;let _0x51e0fb='';const _0x1c18da=_0x3744cc[_0x1b36df(0xd06)]||_0x2c65e0[_0x1b36df(0xd15)];switch(_0x1c18da){case _0x1b36df(0x8be):case _0x1b36df(0xa4d):_0x51e0fb=_0x1b36df(0x8e3)+_0x3744cc['options']['map']((_0x14f34c,_0x2efa02)=>_0x1b36df(0x676)+_0x4ebddb(_0x2efa02)+'.\x20'+_0x14f34c+_0x1b36df(0x1c3))['join'](_0x1b36df(0xdd9))+_0x1b36df(0x7cb);break;case _0x1b36df(0x4ac):_0x51e0fb=_0x1b36df(0x89c);break;default:_0x51e0fb='';break;}return _0x1b36df(0xb30)+_0x2c65e0['topic']+_0x1b36df(0xc94)+(_0x19abd1+0x1)+_0x1b36df(0x6f7)+(_0x3744cc[_0x1b36df(0x4dd)]||_0x3744cc[_0x1b36df(0xbc2)])+_0x1b36df(0xac4)+(_0x3744cc[_0x1b36df(0xf2d)]?_0x1b36df(0x8b8)+_0x3744cc[_0x1b36df(0xf2d)]+_0x1b36df(0xc6a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51e0fb+_0x1b36df(0x893);})['join']('')+_0x2a775d(0xa65);_0x390887[_0x2a775d(0x5a6)][_0x2a775d(0xae8)](_0x3bea44),_0x390887[_0x2a775d(0x5a6)][_0x2a775d(0xdc0)](),_0x390887[_0x2a775d(0x48b)]=function(){setTimeout(()=>{const _0x377efb=_0x5a5c;_0x390887[_0x377efb(0xf41)]();},0x5dc);};}async function handleToggleStarQuiz(_0x594882){const _0x322b1f=_0x4ce511,_0x2a3ac2=doc(db,_0x322b1f(0xcaf)+appId+'/public/data/quizzes',_0x594882);try{const _0x354815=await getDoc(_0x2a3ac2);if(_0x354815[_0x322b1f(0x358)]()){const _0x18cb90=_0x354815['data']()['isStarred']||![];await updateDoc(_0x2a3ac2,{'isStarred':!_0x18cb90});}}catch(_0xd3520e){console[_0x322b1f(0xd74)](_0x322b1f(0xd39),_0xd3520e),showMessage(_0x322b1f(0xf07));}}async function displayQuestionBank(){const _0x365e3a=_0x4ce511,_0x1034d0=document[_0x365e3a(0xbeb)]('bank-input-area');_0x1034d0[_0x365e3a(0x28a)]=_0x365e3a(0x50c);try{const _0x52e363=collection(db,'artifacts/'+appId+_0x365e3a(0x9c7)+userId+'/questionBank'),_0x5d9ef9=query(_0x52e363),_0xc839a4=await getDocs(_0x5d9ef9);if(_0xc839a4['empty']){_0x1034d0[_0x365e3a(0x28a)]=_0x365e3a(0xa95);return;}let _0x3338d8=_0xc839a4[_0x365e3a(0xf3c)][_0x365e3a(0xa15)](_0x32dffc=>{const _0x5493be=_0x365e3a,_0x35bbda=_0x32dffc[_0x5493be(0xbfb)](),_0x134b73=_0x32dffc['id'];return _0x5493be(0x9fb)+JSON[_0x5493be(0xe4f)](_0x35bbda)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x35bbda[_0x5493be(0xbc2)]||_0x35bbda[_0x5493be(0x4dd)])+_0x5493be(0x9ef)+_0x35bbda['originalTopic']+_0x5493be(0xbdb);})[_0x365e3a(0x919)]('');_0x1034d0[_0x365e3a(0x28a)]=_0x365e3a(0xe8b)+_0x3338d8+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x365e3a(0xbeb)]('create-from-bank-btn')[_0x365e3a(0x79a)]('click',createQuizFromBank);}catch(_0x4615dc){console[_0x365e3a(0xd74)](_0x365e3a(0x3db),_0x4615dc),_0x1034d0[_0x365e3a(0x28a)]=_0x365e3a(0x6a2);}}async function handleExportLessonToPDF(){const _0x1fe410=_0x4ce511,_0x52f1e1=document[_0x1fe410(0xbeb)](_0x1fe410(0x7c2)),_0x3e0735=document['getElementById']('lesson-view-title')['textContent']||_0x1fe410(0xb6e);if(!_0x52f1e1){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x11aadf=window[_0x1fe410(0xb66)]('',_0x1fe410(0x8f1)),_0x105b94=_0x1fe410(0x779)+_0x3e0735+_0x1fe410(0x81d)+_0x3e0735+_0x1fe410(0x9a3)+_0x52f1e1[_0x1fe410(0x28a)]+_0x1fe410(0xd6a);_0x11aadf[_0x1fe410(0x5a6)]['write'](_0x105b94),_0x11aadf[_0x1fe410(0x5a6)][_0x1fe410(0xdc0)](),_0x11aadf[_0x1fe410(0x48b)]=function(){setTimeout(()=>{_0x11aadf['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x58a6e1,_0x1cf782,_0x3b12a3){const _0x42703c=_0x4ce511,_0x54b62e=_0x58a6e1[_0x42703c(0xd06)]||currentQuizData[_0x42703c(0xd15)];let _0x16fd89='';if(_0x54b62e===_0x42703c(0x8be)||_0x54b62e===_0x42703c(0x4ac)){const _0xd9c540=_0x54b62e===_0x42703c(0x4ac)?[_0x42703c(0x65a),_0x42703c(0xe13)]:_0x58a6e1[_0x42703c(0xdf0)],_0x482206=_0x54b62e===_0x42703c(0x4ac)?_0x58a6e1[_0x42703c(0xdec)]?0x0:0x1:_0x58a6e1[_0x42703c(0xae5)];_0x16fd89=_0xd9c540[_0x42703c(0xa15)]((_0x1bd905,_0x5e21d8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x5e21d8===_0x482206)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bd905+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x42703c(0x919)]('');}else{if(_0x54b62e===_0x42703c(0x700)){const _0x4cea4c=_0x58a6e1['allResponses']||[];_0x16fd89=_0x4cea4c[_0x42703c(0xa15)](_0x3beec9=>_0x42703c(0x3e2)+(_0x3beec9===_0x58a6e1[_0x42703c(0x5c9)])+_0x42703c(0x8bf)+_0x3beec9+_0x42703c(0x971))[_0x42703c(0x919)]('');}}const _0x5e13fb=_0x58a6e1[_0x42703c(0x4dd)]||_0x58a6e1['questionText'],_0x4deb1d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x1cf782+0x1)+'\x20/\x20'+_0x3b12a3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x42703c(0x1f8)+_0x5e13fb+_0x42703c(0xefc)+_0x16fd89+_0x42703c(0xe7f);liveGameView[_0x42703c(0x28a)]=_0x4deb1d,window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x42703c(0x61b)]([liveGameView]),document[_0x42703c(0xbeb)](_0x42703c(0xf1f))[_0x42703c(0x79a)](_0x42703c(0xc64),()=>revealAnswerForAdmin(_0x1cf782,_0x3b12a3)),document[_0x42703c(0xbeb)](_0x42703c(0xab8))['addEventListener']('click',async()=>{const _0x3e8b53=_0x42703c;showConfirmation(_0x3e8b53(0xd85),async()=>{const _0x141541=_0x3e8b53,_0x27ce69=doc(db,_0x141541(0xcaf)+appId+_0x141541(0x834),currentLiveGameId);await updateDoc(_0x27ce69,{'status':'podium'});});}),document[_0x42703c(0xbeb)]('manage-players-btn')[_0x42703c(0x79a)](_0x42703c(0xc64),()=>{const _0x3bace2=_0x42703c;document[_0x3bace2(0xbeb)](_0x3bace2(0x1ea))['classList'][_0x3bace2(0x4c3)](_0x3bace2(0x9d8));});}function promptForProjectBeforeGenerating(_0x2a7726){const _0x1e2f99=_0x4ce511,_0x2808fd=document[_0x1e2f99(0xbeb)](_0x1e2f99(0x5c6)),_0x454290=document[_0x1e2f99(0xbeb)](_0x1e2f99(0x546)),_0x3fcce0=_0x2808fd['querySelector']('h3'),_0x40eae0=document[_0x1e2f99(0xbeb)]('confirm-move-quiz-btn'),_0x332110=document['getElementById'](_0x1e2f99(0x4da));_0x3fcce0[_0x1e2f99(0x211)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x40eae0[_0x1e2f99(0x211)]=_0x1e2f99(0x4f7),_0x40eae0[_0x1e2f99(0x272)]=!![];allProjects[_0x1e2f99(0x81c)]===0x0?_0x454290[_0x1e2f99(0x28a)]=_0x1e2f99(0x573):(_0x454290[_0x1e2f99(0x28a)]=_0x1e2f99(0xa8f)+allProjects['map'](_0x5aeb3a=>'<option\x20value=\x22'+_0x5aeb3a['id']+'\x22>'+_0x5aeb3a[_0x1e2f99(0x9e0)]+'</option>')[_0x1e2f99(0x919)](''),_0x40eae0[_0x1e2f99(0x272)]=![]);_0x2808fd[_0x1e2f99(0xa1f)][_0x1e2f99(0x711)](_0x1e2f99(0x9d8));const _0x2c6463=async()=>{const _0x6fedd2=_0x1e2f99,_0x60887e=_0x454290[_0x6fedd2(0xc07)];if(!_0x60887e){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x2808fd['classList'][_0x6fedd2(0x7e0)](_0x6fedd2(0x9d8)),await loadProjectDetails(_0x60887e),showView(_0x6fedd2(0xe1e)),handleGenerateQuizFromBlueprintTopic(_0x2a7726),_0x8cd5d6();},_0x8cd5d6=()=>{const _0x257ec4=_0x1e2f99;_0x3fcce0['textContent']=_0x257ec4(0x452),_0x40eae0[_0x257ec4(0x211)]=_0x257ec4(0x699),_0x40eae0[_0x257ec4(0x8fb)](_0x257ec4(0xc64),_0x2c6463),_0x332110[_0x257ec4(0x8fb)](_0x257ec4(0xc64),_0x8cd5d6),_0x40eae0['addEventListener'](_0x257ec4(0xc64),confirmMoveQuiz);};_0x40eae0['removeEventListener'](_0x1e2f99(0xc64),confirmMoveQuiz),_0x40eae0[_0x1e2f99(0x79a)](_0x1e2f99(0xc64),_0x2c6463),_0x332110[_0x1e2f99(0x79a)](_0x1e2f99(0xc64),_0x8cd5d6);}function _0x5a5c(_0x5bdf5c,_0x2e9b11){const _0x103ee8=_0x103e();return _0x5a5c=function(_0x5a5cea,_0x325f66){_0x5a5cea=_0x5a5cea-0x1c2;let _0x32c6d3=_0x103ee8[_0x5a5cea];return _0x32c6d3;},_0x5a5c(_0x5bdf5c,_0x2e9b11);}function showStudentLiveQuestionView(_0x881dec,_0x490495,_0x13b15a){const _0x39650f=_0x4ce511,_0x1f9b2c=_0x881dec['questionType']||currentQuizData[_0x39650f(0xd15)];let _0x8f8bb3='';if(_0x1f9b2c===_0x39650f(0x8be)||_0x1f9b2c==='true_false'){const _0x24ac66=_0x1f9b2c===_0x39650f(0x4ac)?[_0x39650f(0x65a),_0x39650f(0xe13)]:_0x881dec[_0x39650f(0xdf0)];_0x8f8bb3=_0x24ac66[_0x39650f(0xa15)]((_0x25ebdc,_0x3fe82c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3fe82c+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25ebdc+_0x39650f(0xafe))[_0x39650f(0x919)]('');}else{if(_0x1f9b2c==='matching_item'){const _0x5a7e51=_0x881dec[_0x39650f(0x638)]||[];_0x8f8bb3=_0x5a7e51[_0x39650f(0xa15)]((_0x582939,_0x404f43)=>_0x39650f(0x58d)+_0x404f43+_0x39650f(0x627)+_0x582939+_0x39650f(0xafe))[_0x39650f(0x919)]('');}else _0x1f9b2c===_0x39650f(0xc63)&&(_0x8f8bb3=_0x39650f(0xebc));}const _0x52e187=_0x881dec[_0x39650f(0x4dd)]||_0x881dec[_0x39650f(0xbc2)],_0x2ad984='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x490495+0x1)+'\x20/\x20'+_0x13b15a+_0x39650f(0xd07)+_0x52e187+_0x39650f(0x53d)+_0x8f8bb3+_0x39650f(0x931);liveGameView[_0x39650f(0x28a)]=_0x2ad984;window['MathJax']&&MathJax[_0x39650f(0x61b)]&&MathJax['typesetPromise']([liveGameView]);const _0x158621=document[_0x39650f(0xbeb)](_0x39650f(0x5ae));_0x158621&&_0x158621[_0x39650f(0x79a)](_0x39650f(0xc64),()=>{const _0x175c99=_0x39650f,_0x5b577a=document[_0x175c99(0xbeb)](_0x175c99(0x666))[_0x175c99(0xc07)];handleLiveAnswer(_0x5b577a,_0x881dec);}),document['getElementById'](_0x39650f(0x587))[_0x39650f(0x79a)](_0x39650f(0xc64),_0x170af0=>{const _0x1ea5c0=_0x39650f,_0x5ce1ee=_0x170af0[_0x1ea5c0(0x544)]['closest']('.live-answer-btn');if(_0x5ce1ee){const _0x35866e=parseInt(_0x5ce1ee['dataset'][_0x1ea5c0(0x76b)]);handleLiveAnswer(_0x35866e,_0x881dec);}});}function listenForBlueprintShortcuts(){const _0x98a9e8=_0x4ce511,_0x3ba394=doc(db,_0x98a9e8(0xc3f),_0x98a9e8(0x232));onSnapshot(_0x3ba394,_0x3e9863=>{const _0x5eb45e=_0x98a9e8;let _0x528698=[],_0x614c0d=[],_0x125e8a={};if(_0x3e9863['exists']()){const _0x140cb5=_0x3e9863[_0x5eb45e(0xbfb)]();_0x528698=_0x140cb5[_0x5eb45e(0xe8d)]||[],_0x614c0d=_0x140cb5[_0x5eb45e(0xde7)]||[],_0x125e8a=_0x140cb5[_0x5eb45e(0x4eb)]||{};}!_0x614c0d[_0x5eb45e(0x340)](_0x55c5be=>_0x55c5be['id']==='all')&&_0x614c0d[_0x5eb45e(0xcc4)]({'id':_0x5eb45e(0x408),'name':_0x5eb45e(0x7d3),'isDefault':!![]}),!_0x528698[_0x5eb45e(0x340)](_0x530828=>_0x530828['id']===_0x5eb45e(0x674))&&_0x528698[_0x5eb45e(0xcc4)]({'id':_0x5eb45e(0x674),'name':'Blueprint\x201','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x528698[_0x5eb45e(0x340)](_0x36fa5a=>_0x36fa5a['id']===_0x5eb45e(0x649))&&_0x528698['unshift']({'id':_0x5eb45e(0x649),'name':_0x5eb45e(0xcdd),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x528698,shortcutTabs=_0x614c0d,shortcutOrder=_0x125e8a,renderBlueprintShortcuts(),!document['getElementById'](_0x5eb45e(0xc08))[_0x5eb45e(0xa1f)][_0x5eb45e(0xa3f)](_0x5eb45e(0x9d8))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x2e4f33=_0x4ce511,_0x418e3e=document[_0x2e4f33(0xbeb)](_0x2e4f33(0x237)),_0x27f442=document[_0x2e4f33(0xbeb)](_0x2e4f33(0x78f));if(!_0x418e3e||!_0x27f442)return;_0x418e3e[_0x2e4f33(0x28a)]=shortcutTabs['map'](_0x1aa948=>{const _0x4c0a89=_0x2e4f33,_0x44f76f=_0x1aa948['id']===activeShortcutTabId,_0x3d59ab='border-indigo-500\x20text-indigo-600',_0x42ef53=_0x4c0a89(0xf40);return _0x4c0a89(0x5d5)+_0x1aa948['id']+_0x4c0a89(0xb29)+(_0x44f76f?_0x3d59ab:_0x42ef53)+_0x4c0a89(0xc16)+_0x1aa948['name']+_0x4c0a89(0xd3f)+_0x1aa948[_0x4c0a89(0x631)]+_0x4c0a89(0xdf6)+(!_0x1aa948['isDefault']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x1aa948['id']+_0x4c0a89(0xcee):'')+_0x4c0a89(0x971);})[_0x2e4f33(0x919)]('');const _0x1487b1=shortcutTabs[_0x2e4f33(0x340)](_0x3ba406=>_0x3ba406['id']===activeShortcutTabId);let _0x1781f1=[];if(_0x1487b1){if(_0x1487b1['isDefault'])_0x1781f1=[...blueprintShortcuts];else{const _0x145346=_0x1487b1[_0x2e4f33(0x78c)]||[];_0x1781f1=blueprintShortcuts['filter'](_0x2ae013=>_0x145346[_0x2e4f33(0x87a)](_0x2ae013['id']));}}const _0x3ea06c=shortcutOrder[activeShortcutTabId]||[];_0x1781f1['sort']((_0x1c1785,_0x494d74)=>{const _0x1e880b=_0x2e4f33,_0x953a02=_0x3ea06c[_0x1e880b(0xf23)](_0x1c1785['id']),_0x52f32c=_0x3ea06c[_0x1e880b(0xf23)](_0x494d74['id']);if(_0x953a02===-0x1)return 0x1;if(_0x52f32c===-0x1)return-0x1;return _0x953a02-_0x52f32c;}),_0x27f442[_0x2e4f33(0x28a)]=_0x1781f1['length']>0x0?_0x1781f1[_0x2e4f33(0xa15)](_0x20ab02=>{const _0x1106bf=_0x2e4f33;let _0x40d67d='🧩';if(_0x20ab02[_0x1106bf(0xbea)]&&_0x20ab02[_0x1106bf(0xefb)])_0x40d67d='📗';else{if(_0x20ab02[_0x1106bf(0xbea)])_0x40d67d='📘';}const _0x1e24d7=shortcutTabs[_0x1106bf(0x395)](_0x398b29=>!_0x398b29[_0x1106bf(0x83d)]),_0x4c8881=_0x1487b1['isDefault']&&_0x1e24d7['length']>0x0?_0x1106bf(0xc59)+_0x1e24d7['map'](_0x19c34f=>_0x1106bf(0x719)+_0x20ab02['id']+_0x1106bf(0x297)+_0x19c34f['id']+'\x22>'+_0x19c34f[_0x1106bf(0x631)]+_0x1106bf(0xc06))['join']('')+_0x1106bf(0x9fd):'';return _0x1106bf(0xf62)+_0x20ab02['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x40d67d+'\x20'+_0x20ab02[_0x1106bf(0x631)]+_0x1106bf(0x7f2)+_0x20ab02['id']+_0x1106bf(0x61a)+_0x20ab02['id']+_0x1106bf(0xd32)+(!_0x20ab02[_0x1106bf(0x83d)]?_0x1106bf(0x938)+_0x20ab02['id']+_0x1106bf(0x3ea):'')+_0x1106bf(0xa12)+(!_0x1487b1[_0x1106bf(0x83d)]?_0x1106bf(0x314)+_0x20ab02['id']+_0x1106bf(0x879):'')+_0x1106bf(0xa12)+_0x4c8881+_0x1106bf(0x9bf);})['join'](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x4f9d64=_0x4ce511;document[_0x4f9d64(0xb02)]('.shortcut-tab-btn')[_0x4f9d64(0xbd3)](_0x3f4919=>{const _0x57142f=_0x4f9d64;_0x3f4919[_0x57142f(0x79a)]('click',_0x553f39=>{const _0x434583=_0x57142f;activeShortcutTabId=_0x553f39[_0x434583(0xb60)][_0x434583(0x6b1)][_0x434583(0x9ee)],renderAdditionalShortcutsModal();}),_0x3f4919[_0x57142f(0x79a)](_0x57142f(0x2f0),_0x2ad131=>{const _0x5ecea6=_0x57142f,_0xd68be2=_0x2ad131[_0x5ecea6(0xb60)];_0xd68be2[_0x5ecea6(0x2d0)](_0x5ecea6(0x4ee))[_0x5ecea6(0xa1f)]['add'](_0x5ecea6(0x9d8));const _0x4808bd=_0xd68be2[_0x5ecea6(0x2d0)](_0x5ecea6(0x577));_0x4808bd[_0x5ecea6(0xa1f)][_0x5ecea6(0x711)](_0x5ecea6(0x9d8)),_0x4808bd[_0x5ecea6(0xd7d)](),_0x4808bd[_0x5ecea6(0x362)]();});}),document[_0x4f9d64(0xb02)](_0x4f9d64(0x577))['forEach'](_0x3b9992=>{const _0x1d21b9=_0x4f9d64,_0x2a46cf=()=>{const _0x4ee429=_0x5a5c,_0x1335a4=_0x3b9992[_0x4ee429(0x253)]('.shortcut-tab-btn')[_0x4ee429(0x6b1)]['tabId'];handleRenameShortcutTab(_0x1335a4,_0x3b9992[_0x4ee429(0xc07)]);};_0x3b9992['addEventListener'](_0x1d21b9(0x5ab),_0x2a46cf),_0x3b9992[_0x1d21b9(0x79a)](_0x1d21b9(0x7a9),_0xe6a446=>{const _0x54956a=_0x1d21b9;if(_0xe6a446[_0x54956a(0x7a4)]===_0x54956a(0xee0))_0x3b9992['blur']();});}),document[_0x4f9d64(0xb02)](_0x4f9d64(0x21d))['forEach'](_0xa6ed5f=>{const _0x400866=_0x4f9d64;_0xa6ed5f[_0x400866(0x79a)]('click',_0x79fa90=>handleDeleteShortcutTab(_0x79fa90[_0x400866(0xb60)]['dataset'][_0x400866(0x9ee)]));}),document[_0x4f9d64(0xb02)](_0x4f9d64(0x92e))[_0x4f9d64(0xbd3)](_0x3fb8ad=>{const _0x5a57df=_0x4f9d64;_0x3fb8ad[_0x5a57df(0x79a)](_0x5a57df(0xc64),_0x592349=>{const _0x33d69c=_0x5a57df;_0x592349[_0x33d69c(0xcaa)]();const {shortcutId:_0x554313,targetTabId:_0x5a3338}=_0x592349['currentTarget'][_0x33d69c(0x6b1)];handleMoveShortcutToTab(_0x554313,_0x5a3338);});}),document[_0x4f9d64(0xb02)](_0x4f9d64(0xf0d))[_0x4f9d64(0xbd3)](_0x227027=>{const _0x4872f8=_0x4f9d64;_0x227027[_0x4872f8(0x79a)](_0x4872f8(0xc64),_0x462c43=>{handleRemoveShortcutFromTab(_0x462c43['currentTarget']['dataset']['shortcutId'],activeShortcutTabId);});});const _0xaceeb=document[_0x4f9d64(0xbeb)](_0x4f9d64(0x78f));_0xaceeb[_0x4f9d64(0xb02)](_0x4f9d64(0xd33))[_0x4f9d64(0xbd3)](_0x33ae54=>{const _0x1c7ecd=_0x4f9d64;_0x33ae54[_0x1c7ecd(0x79a)](_0x1c7ecd(0xc64),()=>{const _0x140249=_0x1c7ecd;document[_0x140249(0xbeb)]('additional-shortcuts-modal')[_0x140249(0xa1f)][_0x140249(0x7e0)](_0x140249(0x9d8)),handleShortcutClick(_0x33ae54[_0x140249(0x6b1)]['id']);});});let _0x2aad0c=null;_0xaceeb['addEventListener'](_0x4f9d64(0xc46),_0x5c54c1=>{const _0x2a7b20=_0x4f9d64;_0x2aad0c=_0x5c54c1[_0x2a7b20(0x544)][_0x2a7b20(0x253)](_0x2a7b20(0xe02)),_0x2aad0c&&setTimeout(()=>_0x2aad0c[_0x2a7b20(0xa1f)][_0x2a7b20(0x7e0)](_0x2a7b20(0x42d)),0x0);}),_0xaceeb[_0x4f9d64(0x79a)]('dragend',()=>{const _0x19f3a0=_0x4f9d64;_0x2aad0c&&(_0x2aad0c[_0x19f3a0(0xa1f)][_0x19f3a0(0x711)]('opacity-50'),_0x2aad0c=null);}),_0xaceeb[_0x4f9d64(0x79a)]('dragover',_0x402e83=>{const _0x289b10=_0x4f9d64;_0x402e83[_0x289b10(0xcaa)]();const _0x32eacd=[..._0xaceeb[_0x289b10(0xb02)]('.shortcut-list-item:not(.opacity-50)')][_0x289b10(0x6f2)]((_0x365f6f,_0x284efa)=>{const _0x5a75d6=_0x289b10,_0x4877dc=_0x284efa[_0x5a75d6(0x9af)](),_0x428768=_0x402e83['clientY']-_0x4877dc[_0x5a75d6(0xdaf)]-_0x4877dc[_0x5a75d6(0x8bb)]/0x2;return _0x428768<0x0&&_0x428768>_0x365f6f[_0x5a75d6(0xa81)]?{'offset':_0x428768,'element':_0x284efa}:_0x365f6f;},{'offset':Number[_0x289b10(0xb9a)]})['element'];_0x32eacd==null?_0xaceeb[_0x289b10(0x620)](_0x2aad0c):_0xaceeb[_0x289b10(0x7b4)](_0x2aad0c,_0x32eacd);}),_0xaceeb['addEventListener']('drop',_0x171140=>{const _0x3a5982=_0x4f9d64;_0x171140['preventDefault']();if(_0x2aad0c){const _0x260460=[..._0xaceeb[_0x3a5982(0xb02)](_0x3a5982(0xe02))][_0x3a5982(0xa15)](_0x321178=>_0x321178[_0x3a5982(0x6b1)][_0x3a5982(0xa99)]);handleShortcutOrderChange(activeShortcutTabId,_0x260460);}}),document[_0x4f9d64(0xb02)](_0x4f9d64(0x7b0))[_0x4f9d64(0xbd3)](_0x5216dd=>{const _0x4b29b1=_0x4f9d64;_0x5216dd[_0x4b29b1(0x79a)](_0x4b29b1(0xc64),_0x423554=>{const _0x19b10f=_0x4b29b1;_0x423554[_0x19b10f(0xed5)]();const _0x237902=_0x423554[_0x19b10f(0xb60)][_0x19b10f(0xd1f)],_0x1882ca=_0x237902[_0x19b10f(0xa1f)][_0x19b10f(0xa3f)](_0x19b10f(0x9d8));document[_0x19b10f(0xb02)](_0x19b10f(0x4bf))['forEach'](_0xf8904c=>_0xf8904c[_0x19b10f(0xa1f)]['add'](_0x19b10f(0x9d8))),_0x1882ca&&_0x237902[_0x19b10f(0xa1f)]['remove'](_0x19b10f(0x9d8));});});}document[_0x4ce511(0x79a)](_0x4ce511(0xc64),_0x5f1544=>{const _0x59a2ef=_0x4ce511;!_0x5f1544[_0x59a2ef(0x544)][_0x59a2ef(0x253)]('.group\x5c/dropdown')&&document[_0x59a2ef(0xb02)]('.move-shortcut-dropdown')[_0x59a2ef(0xbd3)](_0x9f16f6=>_0x9f16f6[_0x59a2ef(0xa1f)][_0x59a2ef(0x7e0)](_0x59a2ef(0x9d8)));});async function saveShortcutConfig(){const _0x1f36fb=_0x4ce511,_0x43c881=doc(db,_0x1f36fb(0xc3f),_0x1f36fb(0x232));try{await setDoc(_0x43c881,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x562843){console[_0x1f36fb(0xd74)](_0x1f36fb(0x742),_0x562843);}}async function handleAddShortcutTab(){const _0xb8fbd=_0x4ce511,_0x2e891d=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');if(!_0x2e891d||_0x2e891d['trim']()==='')return;shortcutTabs[_0xb8fbd(0x9ba)]({'id':'tab_'+Date[_0xb8fbd(0xced)](),'name':_0x2e891d[_0xb8fbd(0x88c)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x3088af,_0x2b6e8){const _0x17a9d2=_0x4ce511,_0x547ce0=shortcutTabs[_0x17a9d2(0x340)](_0x3e0544=>_0x3e0544['id']===_0x3088af);_0x547ce0&&_0x2b6e8[_0x17a9d2(0x88c)]()!==''&&(_0x547ce0[_0x17a9d2(0x631)]=_0x2b6e8[_0x17a9d2(0x88c)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x574d6a){const _0x64cc01=_0x4ce511,_0x56be51=shortcutTabs[_0x64cc01(0x340)](_0x3aa878=>_0x3aa878['id']===_0x574d6a);_0x56be51&&!_0x56be51['isDefault']&&showConfirmation(_0x64cc01(0x5bf)+_0x56be51['name']+_0x64cc01(0x377),async()=>{const _0x23efb9=_0x64cc01;shortcutTabs=shortcutTabs[_0x23efb9(0x395)](_0x6b5ddb=>_0x6b5ddb['id']!==_0x574d6a),delete shortcutOrder[_0x574d6a];if(activeShortcutTabId===_0x574d6a)activeShortcutTabId=_0x23efb9(0x408);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x9a28bf,_0x3f9f7b){const _0x2e10f5=_0x4ce511,_0x1c4caf=shortcutTabs[_0x2e10f5(0x340)](_0x1c70b7=>_0x1c70b7['id']===_0x3f9f7b);_0x1c4caf&&!_0x1c4caf[_0x2e10f5(0x78c)][_0x2e10f5(0x87a)](_0x9a28bf)&&(_0x1c4caf[_0x2e10f5(0x78c)][_0x2e10f5(0x9ba)](_0x9a28bf),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x30d967,_0x307d73){const _0x2edfb3=_0x4ce511,_0x4463be=shortcutTabs[_0x2edfb3(0x340)](_0x12354d=>_0x12354d['id']===_0x307d73);_0x4463be&&!_0x4463be['isDefault']&&(_0x4463be['shortcutIds']=_0x4463be['shortcutIds'][_0x2edfb3(0x395)](_0x2baaa4=>_0x2baaa4!==_0x30d967),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x38c579,_0x427882){shortcutOrder[_0x38c579]=_0x427882,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x310366=_0x4ce511,_0x1bf329=document[_0x310366(0xbeb)](_0x310366(0xbee)),_0x529b4d=document[_0x310366(0xbeb)](_0x310366(0x78f)),_0x1521f9=document[_0x310366(0xbeb)]('shortcuts-loading-msg');_0x1521f9&&_0x1521f9[_0x310366(0xa1f)][_0x310366(0x7e0)](_0x310366(0x9d8));if(!_0x1bf329||!_0x529b4d)return;const _0x29aff0=blueprintShortcuts[_0x310366(0x2c1)](0x0,0x4),_0x184bae=blueprintShortcuts[_0x310366(0x2c1)](0x4);_0x1bf329[_0x310366(0x28a)]=_0x29aff0[_0x310366(0xa15)](_0x431275=>{const _0x50163d=_0x310366;let _0x34366a=_0x50163d(0xd8e),_0x35da45='🧩';if(_0x431275[_0x50163d(0xbea)]&&_0x431275['referenceUrl'])_0x34366a=_0x50163d(0x479),_0x35da45='📗';else _0x431275[_0x50163d(0xbea)]&&(_0x34366a='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x35da45='📘');const _0x4b92fa=!_0x431275[_0x50163d(0x83d)]?_0x50163d(0x938)+_0x431275['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x50163d(0x22c)+_0x431275['id']+_0x50163d(0x671)+_0x34366a+_0x50163d(0x85f)+_0x35da45+'\x20'+_0x431275['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x431275['id']+_0x50163d(0xc41)+_0x4b92fa+_0x50163d(0x971);})[_0x310366(0x919)](''),_0x184bae[_0x310366(0x81c)]>0x0&&(_0x1bf329[_0x310366(0x28a)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x184bae['length']>0x0?_0x529b4d[_0x310366(0x28a)]=_0x184bae[_0x310366(0xa15)](_0x311692=>{const _0x3ce1db=_0x310366;let _0x56e861='🧩';if(_0x311692[_0x3ce1db(0xbea)]&&_0x311692['referenceUrl'])_0x56e861='📗';else _0x311692[_0x3ce1db(0xbea)]&&(_0x56e861='📘');return _0x3ce1db(0xc99)+_0x56e861+'\x20'+_0x311692[_0x3ce1db(0x631)]+_0x3ce1db(0x7f2)+_0x311692['id']+_0x3ce1db(0x61a)+_0x311692['id']+_0x3ce1db(0xd32)+(!_0x311692['isDefault']?'<button\x20data-id=\x22'+_0x311692['id']+_0x3ce1db(0x3ea):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x310366(0x919)](''):_0x529b4d[_0x310366(0x28a)]=_0x310366(0xaab);}function getMimeTypeFromFilename(_0x33e400){const _0x2d6892=_0x4ce511,_0x5a99ac=_0x33e400[_0x2d6892(0xa00)]('.')[_0x2d6892(0x234)]()[_0x2d6892(0x298)]();switch(_0x5a99ac){case _0x2d6892(0xdd0):return _0x2d6892(0x1fb);case _0x2d6892(0x698):return _0x2d6892(0xad5);default:return _0x2d6892(0x1fb);}}function openShortcutEditor(_0x58e6af=null){const _0x556f50=_0x4ce511,_0x421565=document[_0x556f50(0xbeb)]('shortcut-editor-modal'),_0x997ed6=document['getElementById']('shortcut-modal-title'),_0x1e96dc=document[_0x556f50(0xbeb)]('shortcut-id-input'),_0xc223d5=document[_0x556f50(0xbeb)]('shortcut-name-input'),_0x2581d0=document[_0x556f50(0xbeb)]('shortcut-blueprint-url-input'),_0x279191=document[_0x556f50(0xbeb)](_0x556f50(0x35f));if(_0x58e6af){const _0x382ff2=blueprintShortcuts[_0x556f50(0x340)](_0x41ccad=>_0x41ccad['id']===_0x58e6af);if(!_0x382ff2)return;_0x997ed6['textContent']=_0x556f50(0x2ed),_0x1e96dc[_0x556f50(0xc07)]=_0x382ff2['id'],_0xc223d5[_0x556f50(0xc07)]=_0x382ff2[_0x556f50(0x631)],_0x2581d0[_0x556f50(0xc07)]=_0x382ff2[_0x556f50(0xbea)]||'',_0x279191[_0x556f50(0xc07)]=_0x382ff2[_0x556f50(0xefb)]||'';}else _0x997ed6[_0x556f50(0x211)]=_0x556f50(0x902),_0x1e96dc[_0x556f50(0xc07)]='',_0xc223d5[_0x556f50(0xc07)]='',_0x2581d0[_0x556f50(0xc07)]='',_0x279191[_0x556f50(0xc07)]='';_0x421565[_0x556f50(0xa1f)]['remove'](_0x556f50(0x9d8));}async function saveShortcutChanges(){const _0x4279a3=_0x4ce511,_0x51e62b=document[_0x4279a3(0xbeb)](_0x4279a3(0xdef))[_0x4279a3(0xc07)],_0x1519db=document[_0x4279a3(0xbeb)](_0x4279a3(0x471))[_0x4279a3(0xc07)][_0x4279a3(0x88c)](),_0x4740b9=document[_0x4279a3(0xbeb)](_0x4279a3(0xb9f))['value']['trim']();if(!_0x1519db||!_0x4740b9){showMessage(_0x4279a3(0xdbd));return;}const _0xb1108e={'id':_0x51e62b||_0x4279a3(0xc96)+Date['now'](),'name':_0x1519db,'blueprintUrl':_0x4740b9,'referenceUrl':document['getElementById'](_0x4279a3(0x35f))[_0x4279a3(0xc07)][_0x4279a3(0x88c)](),'isDefault':_0x51e62b[_0x4279a3(0x733)](_0x4279a3(0x84b))};let _0x140a32;_0x51e62b?_0x140a32=blueprintShortcuts[_0x4279a3(0xa15)](_0x16d0c9=>_0x16d0c9['id']===_0x51e62b?_0xb1108e:_0x16d0c9):_0x140a32=[...blueprintShortcuts,_0xb1108e];try{const _0x40ee8d=doc(db,_0x4279a3(0xc3f),_0x4279a3(0x232));await setDoc(_0x40ee8d,{'blueprintShortcuts':_0x140a32},{'merge':!![]}),document[_0x4279a3(0xbeb)]('shortcut-editor-modal')[_0x4279a3(0xa1f)][_0x4279a3(0x7e0)](_0x4279a3(0x9d8));}catch(_0x5bde38){console['error']('Error\x20saving\x20shortcut:',_0x5bde38),showMessage(_0x4279a3(0xe5b));}}async function handleShortcutClick(_0x1183c5){const _0x19637c=_0x4ce511,_0x22de73=blueprintShortcuts['find'](_0x54eb78=>_0x54eb78['id']===_0x1183c5);if(!_0x22de73||!_0x22de73[_0x19637c(0xbea)])return;document[_0x19637c(0xbeb)](_0x19637c(0x7d6))[_0x19637c(0xa1f)]['add'](_0x19637c(0x9d8)),document[_0x19637c(0xbeb)](_0x19637c(0x855))[_0x19637c(0x272)]=!![];const _0x36e0d1=document[_0x19637c(0xbeb)](_0x19637c(0xf5e)),_0x47ee63=document[_0x19637c(0xbeb)](_0x19637c(0x51a));document[_0x19637c(0xbeb)]('quiz-generation-area')['classList'][_0x19637c(0x711)](_0x19637c(0x9d8)),document[_0x19637c(0xbeb)]('generated-quiz-container')[_0x19637c(0x28a)]='',_0x36e0d1[_0x19637c(0xa1f)][_0x19637c(0x711)](_0x19637c(0x9d8));try{_0x47ee63[_0x19637c(0x211)]=_0x19637c(0xd6d);const _0x16dee8=await fetchFileFromUrl(_0x22de73[_0x19637c(0xbea)],'blueprint.pdf');let _0x19834d=null;if(_0x22de73[_0x19637c(0xefb)]){_0x47ee63[_0x19637c(0x211)]=_0x19637c(0x871);const _0x29e20a=_0x22de73[_0x19637c(0xefb)]['toLowerCase']()[_0x19637c(0xee1)](_0x19637c(0xdd8))?_0x19637c(0x212):'reference.pdf';_0x19834d=await fetchFileFromUrl(_0x22de73[_0x19637c(0xefb)],_0x29e20a);}await handleGenerateFromBlueprintWithFiles(_0x16dee8,_0x19834d);}catch(_0x2bf36b){console[_0x19637c(0xd74)]('Error\x20processing\x20shortcut\x20click:',_0x2bf36b),showMessage(_0x19637c(0x571)+_0x2bf36b['message']),_0x36e0d1['classList'][_0x19637c(0x7e0)](_0x19637c(0x9d8));}}function getDirectDownloadUrl(_0x402957){const _0x18350d=_0x4ce511,_0x2e8d68=_0x402957[_0x18350d(0xafb)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x2e8d68&&_0x2e8d68[0x1])return _0x18350d(0x511)+_0x2e8d68[0x1];return _0x402957;}async function fetchFileFromUrl(_0x26a808,_0x37868b){const _0x496fc9=_0x4ce511,_0x5db424=getDirectDownloadUrl(_0x26a808),_0x27b213=_0x496fc9(0xada)+encodeURIComponent(_0x5db424),_0x3d7b76=await fetch(_0x27b213);if(!_0x3d7b76['ok'])throw new Error(_0x496fc9(0x956)+_0x3d7b76['status']+')');const _0x441956=await _0x3d7b76[_0x496fc9(0xc54)](),_0x3a1b2b=await new Promise((_0x695d8d,_0x2778e1)=>{const _0x3d7e76=_0x496fc9,_0x40a8ec=new FileReader();_0x40a8ec[_0x3d7e76(0x991)]=()=>_0x695d8d(new Uint8Array(_0x40a8ec[_0x3d7e76(0xb58)])),_0x40a8ec[_0x3d7e76(0xdf9)]=_0x2778e1,_0x40a8ec[_0x3d7e76(0x236)](_0x441956[_0x3d7e76(0x2c1)](0x0,0x4));});let _0x326d6b='';const _0xedeaea=new TextDecoder()[_0x496fc9(0xcc5)](_0x3a1b2b);return _0xedeaea===_0x496fc9(0xdf5)?(_0x326d6b=_0x496fc9(0x1fb),console[_0x496fc9(0x2c0)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x326d6b=_0x496fc9(0xad5),console[_0x496fc9(0x2c0)](_0x496fc9(0xab2))),new File([_0x441956],_0x37868b,{'type':_0x326d6b});}async function handleGenerateFromBlueprintWithFiles(_0x2929d2,_0x98ddee=null){const _0x193a8b=_0x4ce511;if(!_0x2929d2){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x21e63e=document['getElementById'](_0x193a8b(0xf5e)),_0x4f45d8=document['getElementById'](_0x193a8b(0x51a));_0x21e63e['classList'][_0x193a8b(0x711)](_0x193a8b(0x9d8)),document[_0x193a8b(0xbeb)](_0x193a8b(0x91c))[_0x193a8b(0xa1f)][_0x193a8b(0x711)](_0x193a8b(0x9d8)),document['getElementById'](_0x193a8b(0xdf7))[_0x193a8b(0x28a)]='';try{_0x4f45d8[_0x193a8b(0x211)]=_0x193a8b(0xdeb);const _0x2d2a22=await new Promise((_0x37133d,_0xf188b7)=>{const _0x129a1e=_0x193a8b,_0x320d20=new FileReader();_0x320d20[_0x129a1e(0xf1b)](_0x2929d2),_0x320d20[_0x129a1e(0x48b)]=()=>_0x37133d(_0x320d20['result'][_0x129a1e(0xa00)](',')[0x1]),_0x320d20[_0x129a1e(0xdf9)]=_0xf188b7;}),_0x568720=[];if(_0x98ddee){_0x4f45d8[_0x193a8b(0x211)]='กำลังอ่านไฟล์อ้างอิง...';const _0x4a5528=await _0x98ddee[_0x193a8b(0xa19)]();_0x568720[_0x193a8b(0x9ba)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'+_0x4a5528});}const _0x4b91c2=[{'text':_0x193a8b(0xdd6)},{'inlineData':{'mimeType':_0x2929d2[_0x193a8b(0x562)],'data':_0x2d2a22}},..._0x568720];await handleGenerateFromBlueprint(_0x4b91c2);}catch(_0x4af8ca){console[_0x193a8b(0xd74)]('Error\x20in\x20generating\x20from\x20files:',_0x4af8ca),showMessage(_0x193a8b(0x571)+_0x4af8ca[_0x193a8b(0x68f)]),_0x21e63e[_0x193a8b(0xa1f)][_0x193a8b(0x7e0)](_0x193a8b(0x9d8));}}async function handleLiveAnswer(_0x380190,_0x11a1f5){const _0x3b1057=_0x4ce511;document[_0x3b1057(0xb02)](_0x3b1057(0x2b0))['forEach'](_0x29be67=>_0x29be67[_0x3b1057(0x272)]=!![]);const _0x2d33cb=_0x11a1f5[_0x3b1057(0xd06)]||currentQuizData['quizType'];let _0x15f5bf=![],_0x441afc=_0x380190;if(_0x2d33cb==='short_answer'){const _0x30b540=(_0x380190||'')[_0x3b1057(0x823)]();_0x15f5bf=await gradeShortAnswer(_0x30b540,_0x11a1f5);}else{if(_0x2d33cb===_0x3b1057(0x8be))_0x15f5bf=_0x380190===_0x11a1f5[_0x3b1057(0xae5)];else{if(_0x2d33cb==='true_false'){const _0x3c9e5d=_0x11a1f5[_0x3b1057(0xdec)];_0x15f5bf=_0x380190===0x0&&_0x3c9e5d||_0x380190===0x1&&!_0x3c9e5d;}else{if(_0x2d33cb===_0x3b1057(0x700)){const _0x367f66=_0x11a1f5[_0x3b1057(0x638)][_0x380190];_0x15f5bf=_0x367f66===_0x11a1f5['correctResponse'],_0x441afc=_0x367f66;}}}}const _0x4b7d36=doc(db,_0x3b1057(0xcaf)+appId+'/public/data/liveGames',currentLiveGameId),_0x2a5a58={};_0x2a5a58[_0x3b1057(0xe5c)+currentStudentName+_0x3b1057(0xd97)]=!![],_0x2a5a58[_0x3b1057(0xe5c)+currentStudentName+'.lastAnswerCorrect']=_0x15f5bf,_0x2a5a58[_0x3b1057(0xe5c)+currentStudentName+_0x3b1057(0x415)]=_0x2d33cb===_0x3b1057(0xc63)||_0x2d33cb==='matching_item'?null:_0x380190,_0x2a5a58['players.'+currentStudentName+_0x3b1057(0x947)]=_0x441afc,_0x2a5a58[_0x3b1057(0xe5c)+currentStudentName+_0x3b1057(0xad2)]=serverTimestamp(),_0x2a5a58['players.'+currentStudentName+'.isScored']=![],await updateDoc(_0x4b7d36,_0x2a5a58),liveGameView[_0x3b1057(0x28a)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x274193,_0x3d9abb){const _0x1e6596=_0x4ce511,_0x73dc7a=Object[_0x1e6596(0xb18)](_0x274193[_0x1e6596(0x735)]||{}),_0x463610=_0x3d9abb[_0x1e6596(0xd06)]||currentQuizData[_0x1e6596(0xd15)],_0x553080=_0x463610===_0x1e6596(0x4ac)?['ใช่','ไม่ใช่']:_0x3d9abb['options']||_0x3d9abb['allResponses']||[],_0x1a1315={},_0x310a7a=new Array(_0x553080['length'])[_0x1e6596(0x913)](0x0);_0x553080[_0x1e6596(0xbd3)]((_0x2ecb48,_0x26acf2)=>{_0x1a1315[_0x26acf2]=[];}),Object['entries'](_0x274193[_0x1e6596(0x735)]||{})[_0x1e6596(0xbd3)](([_0x1a61ac,_0x351ec9])=>{const _0x5c53e9=_0x1e6596;if(_0x351ec9[_0x5c53e9(0x3a7)]==='active'&&_0x351ec9[_0x5c53e9(0xc56)]!==undefined){const _0x507054=_0x351ec9[_0x5c53e9(0xc56)];_0x1a1315[_0x507054]&&(_0x1a1315[_0x507054][_0x5c53e9(0x9ba)](_0x1a61ac),_0x310a7a[_0x507054]++);}});const _0x456ea=Math[_0x1e6596(0xddc)](..._0x310a7a,0x1),_0x37d70c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x3d9abb[_0x1e6596(0x4dd)]||_0x3d9abb[_0x1e6596(0xbc2)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x310a7a[_0x1e6596(0xa15)]((_0x2ab36b,_0x214ce2)=>{const _0x35c7b9=_0x1e6596,_0x6c167a=_0x1a1315[_0x214ce2]['length']>0x0?_0x1a1315[_0x214ce2][_0x35c7b9(0x919)](',\x20'):_0x35c7b9(0x34b);let _0x36f11b=![];if(_0x463610===_0x35c7b9(0x8be))_0x36f11b=_0x214ce2===_0x3d9abb[_0x35c7b9(0xae5)];else{if(_0x463610===_0x35c7b9(0x4ac)){const _0xf29d7e=_0x3d9abb['correctAnswer'];_0x36f11b=_0xf29d7e&&_0x214ce2===0x0||!_0xf29d7e&&_0x214ce2===0x1;}else _0x463610===_0x35c7b9(0x700)&&(_0x36f11b=_0x553080[_0x214ce2]===_0x3d9abb[_0x35c7b9(0x5c9)]);}const _0x13ec6a=_0x36f11b?_0x35c7b9(0x5f9):_0x35c7b9(0x412);return _0x35c7b9(0x659)+_0x2ab36b+_0x35c7b9(0x221)+_0x13ec6a+_0x35c7b9(0xe94)+_0x214ce2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x553080[_0x214ce2]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x214ce2+_0x35c7b9(0xb4b)+_0x6c167a+_0x35c7b9(0xe23);})[_0x1e6596(0x919)]('')+_0x1e6596(0x2c7);liveGameView['innerHTML']=_0x37d70c;if(window[_0x1e6596(0xeb4)])MathJax[_0x1e6596(0x61b)]();document[_0x1e6596(0xbeb)]('show-leaderboard-btn')[_0x1e6596(0x79a)](_0x1e6596(0xc64),async()=>{const _0x341653=_0x1e6596,_0x16f0d4=doc(db,_0x341653(0xcaf)+appId+_0x341653(0x834),currentLiveGameId);await updateDoc(_0x16f0d4,{'questionStatus':_0x341653(0x302)});}),document[_0x1e6596(0xbeb)](_0x1e6596(0xe73))[_0x1e6596(0x79a)](_0x1e6596(0xc64),()=>{openScratchpad(_0x3d9abb,_0x553080);});}function showPlayerSummaryView(_0x2b151a,_0x43bff4){const _0x17cd31=_0x4ce511,_0x416714=Object['values'](_0x2b151a['players']||{}),_0x436347=_0x2b151a[_0x17cd31(0x735)][_0x43bff4],_0x55576c=_0x416714[_0x17cd31(0x395)](_0x2a8818=>_0x2a8818[_0x17cd31(0x3a7)]===_0x17cd31(0x829))[_0x17cd31(0x2b3)]((_0x2a008a,_0x5011ce)=>_0x5011ce[_0x17cd31(0x9c2)]-_0x2a008a[_0x17cd31(0x9c2)]),_0x54ff9c=_0x55576c['findIndex'](_0x2e7407=>_0x2e7407===_0x436347)+0x1,_0x10c568=_0x436347[_0x17cd31(0xa2e)]?_0x17cd31(0xc9f):'ผิด',_0x557c76=_0x436347[_0x17cd31(0xa2e)]?_0x17cd31(0x795):_0x17cd31(0x2d2),_0x5aa5ae=_0x436347[_0x17cd31(0xead)]||0x0,_0x2869e5=_0x17cd31(0xbbc),_0x1ab0cb=_0x17cd31(0x402)+_0x2869e5+_0x17cd31(0x990)+_0x557c76+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x10c568+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x5aa5ae+_0x17cd31(0x57f)+(_0x54ff9c>0x0?_0x54ff9c:'-')+_0x17cd31(0x307);liveGameView[_0x17cd31(0x28a)]=_0x1ab0cb;}function createQuizFromBank(){const _0x4022b4=_0x4ce511,_0x2a7953=document[_0x4022b4(0xb02)](_0x4022b4(0x867));if(_0x2a7953[_0x4022b4(0x81c)]===0x0){showMessage(_0x4022b4(0x1f3));return;}const _0x2ede78=[];_0x2a7953[_0x4022b4(0xbd3)](_0x4c49fa=>{const _0x5d91b7=_0x4022b4;_0x2ede78['push'](JSON['parse'](_0x4c49fa[_0x5d91b7(0xc07)]));});const _0x18aad2={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x2ede78};displayGeneratedQuiz(_0x18aad2);}function showAdminLobbyView(_0x12bb5d,_0x36a3aa){const _0x247c06=_0x4ce511;showView(_0x247c06(0x934));const _0x5ad293='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x36a3aa+_0x247c06(0xaf9)+_0x12bb5d+_0x247c06(0x491);liveGameView[_0x247c06(0x28a)]=_0x5ad293,document['getElementById'](_0x247c06(0xc77))['addEventListener'](_0x247c06(0xc64),async()=>{const _0x59cc61=_0x247c06;if(!currentQuizData||!currentQuizData[_0x59cc61(0x7bb)]||currentQuizData['questions']['length']===0x0){showMessage(_0x59cc61(0x2bd));return;}try{const _0x3bd4b2=doc(db,_0x59cc61(0xcaf)+appId+_0x59cc61(0x834),currentLiveGameId);await updateDoc(_0x3bd4b2,{'status':_0x59cc61(0x5f4),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2602c1=currentQuizData[_0x59cc61(0x7bb)][0x0],_0x47cd2f=currentQuizData[_0x59cc61(0x7bb)][_0x59cc61(0x81c)];showAdminLiveQuestionView(_0x2602c1,0x0,_0x47cd2f);}catch(_0xe6e808){console['error'](_0x59cc61(0x6ab),_0xe6e808),showMessage(_0x59cc61(0x3ab));}});}async function openQuizBankModal(){const _0x3a604e=_0x4ce511;if(allQuizzesGlobal[_0x3a604e(0x81c)]===0x0){const _0x4a44d3=await getDocs(collection(db,_0x3a604e(0xcaf)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x4a44d3['docs'][_0x3a604e(0xa15)](_0x4f47a7=>({'id':_0x4f47a7['id'],..._0x4f47a7[_0x3a604e(0xbfb)]()}));}renderQuizBankList(''),document[_0x3a604e(0xbeb)]('quiz-bank-modal')[_0x3a604e(0xa1f)][_0x3a604e(0x711)]('hidden');}function renderQuizBankList(_0x269f8f='',_0x26a8c6=![]){const _0x45748d=_0x4ce511,_0x2abf75=document['getElementById']('bank-quiz-list'),_0x8f2bce=_0x269f8f['toLowerCase']()[_0x45748d(0x88c)](),_0x3aba74=allQuizzesGlobal[_0x45748d(0xa15)](_0x22b19a=>({..._0x22b19a,'projectName':allProjects[_0x45748d(0x340)](_0x181bf=>_0x181bf['id']===_0x22b19a[_0x45748d(0xc3a)])?.[_0x45748d(0x9e0)]||_0x45748d(0x30b)}))['filter'](_0x9ac1f6=>(_0x9ac1f6['topic']||'')[_0x45748d(0x298)]()[_0x45748d(0x87a)](_0x8f2bce)||(_0x9ac1f6[_0x45748d(0x9e0)]||'')[_0x45748d(0x298)]()['includes'](_0x8f2bce)||_0x9ac1f6['id'][_0x45748d(0x823)]()[_0x45748d(0x87a)](_0x8f2bce));document['getElementById']('quiz-bank-count')[_0x45748d(0x211)]='('+_0x3aba74[_0x45748d(0x81c)]+_0x45748d(0xf24),_0x2abf75[_0x45748d(0x28a)]=_0x3aba74[_0x45748d(0x81c)]?_0x3aba74[_0x45748d(0xa15)](_0x5902ca=>{const _0x47529d=_0x45748d,_0x19b242=!_0x26a8c6?_0x47529d(0x550)+_0x5902ca['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5902ca['id']+_0x47529d(0x8c0)+_0x5902ca['id']+_0x47529d(0x8b6)+_0x5902ca['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5902ca['id']+_0x47529d(0xdf2)+_0x5902ca['id']+'\x22\x20data-topic=\x22'+_0x5902ca[_0x47529d(0x8ba)]+_0x47529d(0x56a):'';return _0x47529d(0xd8c)+_0x5902ca['id']+_0x47529d(0x56c)+(_0x5902ca['topic']||_0x47529d(0x67b))+_0x47529d(0x99f)+(_0x5902ca['questions']?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x5902ca['projectName']+_0x47529d(0xd05)+_0x5902ca['id']+_0x47529d(0xceb)+_0x19b242+_0x47529d(0x477);})['join'](''):_0x45748d(0x310),!_0x26a8c6&&(_0x2abf75[_0x45748d(0xb02)](_0x45748d(0xc92))[_0x45748d(0xbd3)](_0x30763c=>{const _0x427d2f=_0x45748d;_0x30763c[_0x427d2f(0x79a)](_0x427d2f(0xc64),()=>{const _0x478da6=_0x427d2f,_0x3ab8c0=_0x30763c[_0x478da6(0x6b1)]['id'];document[_0x478da6(0xbeb)](_0x478da6(0x64c))[_0x478da6(0xa1f)][_0x478da6(0x7e0)](_0x478da6(0x9d8)),showQuizDetailView(_0x3ab8c0);});}),_0x2abf75[_0x45748d(0xb02)](_0x45748d(0xd2d))[_0x45748d(0xbd3)](_0x286b1d=>{const _0x3dd4c6=_0x45748d;_0x286b1d[_0x3dd4c6(0x79a)](_0x3dd4c6(0xc64),_0x3c8863=>{const _0x27992d=_0x3dd4c6;_0x3c8863[_0x27992d(0xed5)]();const _0x446f73=_0x286b1d[_0x27992d(0x6b1)]['id'],_0x461aa6=allQuizzesGlobal[_0x27992d(0x340)](_0x667eaa=>_0x667eaa['id']===_0x446f73);_0x461aa6?(currentQuizData=_0x461aa6,document[_0x27992d(0xbeb)](_0x27992d(0x64c))[_0x27992d(0xa1f)]['add']('hidden'),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x2abf75[_0x45748d(0xb02)](_0x45748d(0xa63))['forEach'](_0x789807=>{const _0x1d587e=_0x45748d;_0x789807['addEventListener'](_0x1d587e(0xc64),_0x5a688f=>{const _0x442aa8=_0x1d587e;_0x5a688f[_0x442aa8(0xed5)]();const _0x175264=_0x789807['dataset']['id'],_0x417db2=allQuizzesGlobal['find'](_0x198c08=>_0x198c08['id']===_0x175264);_0x417db2?(document[_0x442aa8(0xbeb)]('quiz-bank-modal')['classList'][_0x442aa8(0x7e0)](_0x442aa8(0x9d8)),handleGenerateParallelFromBank(_0x417db2)):showMessage(_0x442aa8(0x5c0));});}),_0x2abf75['querySelectorAll'](_0x45748d(0x535))['forEach'](_0x1640f2=>{const _0x32a7d9=_0x45748d;_0x1640f2['addEventListener'](_0x32a7d9(0xc64),_0x96e031=>{const _0x521670=_0x32a7d9;_0x96e031[_0x521670(0xed5)]();const _0x529012=_0x1640f2[_0x521670(0x6b1)]['id'],_0x3ca19d=allQuizzesGlobal['find'](_0x44583e=>_0x44583e['id']===_0x529012);_0x3ca19d?(document[_0x521670(0xbeb)](_0x521670(0x64c))[_0x521670(0xa1f)][_0x521670(0x7e0)](_0x521670(0x9d8)),startPresentation(_0x3ca19d)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x2abf75[_0x45748d(0xb02)](_0x45748d(0x249))[_0x45748d(0xbd3)](_0x10d6ce=>{const _0x3b004d=_0x45748d;_0x10d6ce['addEventListener'](_0x3b004d(0xc64),_0x330982=>{const _0x6a8650=_0x3b004d;_0x330982[_0x6a8650(0xed5)]();const _0x176e64=_0x10d6ce[_0x6a8650(0x6b1)]['id'];document[_0x6a8650(0xbeb)]('quiz-bank-modal')[_0x6a8650(0xa1f)][_0x6a8650(0x7e0)](_0x6a8650(0x9d8)),handleMoveQuiz(_0x176e64);});}),_0x2abf75['querySelectorAll'](_0x45748d(0x290))[_0x45748d(0xbd3)](_0x50d50e=>{const _0x34a9c6=_0x45748d;_0x50d50e[_0x34a9c6(0x79a)](_0x34a9c6(0xc64),_0x478df2=>{const _0x50e7f9=_0x34a9c6;_0x478df2[_0x50e7f9(0xed5)]();const _0x55846c=_0x50d50e[_0x50e7f9(0x6b1)]['id'];document[_0x50e7f9(0xbeb)](_0x50e7f9(0x64c))[_0x50e7f9(0xa1f)]['add'](_0x50e7f9(0x9d8)),handleQuizSettings(_0x55846c);});}),_0x2abf75[_0x45748d(0xb02)]('.quiz-bank-delete-btn')['forEach'](_0x3d97c7=>{const _0x29f19d=_0x45748d;_0x3d97c7[_0x29f19d(0x79a)](_0x29f19d(0xc64),_0x509323=>{const _0x157046=_0x29f19d;_0x509323[_0x157046(0xed5)]();const _0x5d223a=_0x3d97c7['dataset']['id'],_0x1f7929=_0x3d97c7[_0x157046(0x6b1)][_0x157046(0x8ba)];showConfirmation(_0x157046(0x5db)+_0x1f7929+_0x157046(0xa25),()=>handleDeleteQuiz(_0x5d223a));});}));}async function handleCompareResults(_0x1c804d,_0x7d068c){const _0x49ab90=_0x4ce511,_0x5d50e6=document[_0x49ab90(0xbeb)](_0x49ab90(0x3d9)),_0x359701=document[_0x49ab90(0xbeb)]('comparison-overall-content'),_0x46ad12=document[_0x49ab90(0xbeb)](_0x49ab90(0xeef));document[_0x49ab90(0xbeb)](_0x49ab90(0x320))['classList']['add'](_0x49ab90(0x829)),document['getElementById'](_0x49ab90(0xe4e))[_0x49ab90(0xa1f)]['remove'](_0x49ab90(0x829)),_0x359701['classList'][_0x49ab90(0x711)](_0x49ab90(0x9d8)),_0x46ad12[_0x49ab90(0xa1f)][_0x49ab90(0x7e0)](_0x49ab90(0x9d8)),_0x359701[_0x49ab90(0x28a)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x46ad12[_0x49ab90(0x28a)]='',_0x5d50e6[_0x49ab90(0xa1f)]['remove']('hidden');try{const _0x1b1f06=doc(db,_0x49ab90(0xcaf)+appId+_0x49ab90(0x24f),_0x1c804d),_0x2aa85f=await getDoc(_0x1b1f06);if(!_0x2aa85f[_0x49ab90(0x358)]())throw new Error(_0x49ab90(0x2fb));const _0x2b628b=_0x2aa85f[_0x49ab90(0xbfb)](),_0x296dbd=_0x2b628b['questions'][_0x49ab90(0x81c)],_0x56d7fe=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x7d068c+_0x49ab90(0x65f)),_0x7b6841=collection(db,_0x49ab90(0xcaf)+appId+_0x49ab90(0x284)+_0x1c804d+_0x49ab90(0x65f)),[_0x2ce6fa,_0x2f839b]=await Promise[_0x49ab90(0x408)]([getDocs(_0x56d7fe),getDocs(_0x7b6841)]),_0x41dfea=_0x2ce6fa[_0x49ab90(0xf3c)][_0x49ab90(0xa15)](_0x5bd61=>_0x5bd61['data']()),_0x32af37=_0x2f839b[_0x49ab90(0xf3c)]['map'](_0x3cd0bc=>_0x3cd0bc[_0x49ab90(0xbfb)]()),_0x5d4385=_0x41dfea[_0x49ab90(0xa15)](_0x4cadb4=>_0x4cadb4[_0x49ab90(0xbd0)]),_0x81d40a=_0x32af37['map'](_0x45cf83=>_0x45cf83['latestScore']),_0x3a0e89=calculateMeanAndStdDev(_0x5d4385),_0x580c58=calculateMeanAndStdDev(_0x81d40a),_0x2940f1=_0x3a0e89[_0x49ab90(0xf10)],_0xeb06e8=_0x580c58[_0x49ab90(0xf10)],_0x2fd587=_0xeb06e8-_0x2940f1;let _0x4b415d=_0x49ab90(0x6ad)+_0x2940f1[_0x49ab90(0x7a7)](0x2)+_0x49ab90(0x9b4)+_0xeb06e8[_0x49ab90(0x7a7)](0x2)+_0x49ab90(0xe1b)+(_0x2fd587>=0x0?_0x49ab90(0x740):_0x49ab90(0x27c))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x2fd587>=0x0?_0x49ab90(0x4fa):'text-red-800')+_0x49ab90(0x7f4)+(_0x2fd587>=0x0?_0x49ab90(0x1d4):_0x49ab90(0xc8b))+'\x22>'+(_0x2fd587>=0x0?'+':'')+_0x2fd587[_0x49ab90(0x7a7)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x359701[_0x49ab90(0x28a)]=_0x4b415d;const _0x10c4ec=document[_0x49ab90(0xbeb)](_0x49ab90(0xbec))['getContext']('2d');if(chartInstances[_0x49ab90(0x851)])chartInstances[_0x49ab90(0x851)][_0x49ab90(0x1e8)]();chartInstances['comparison']=new Chart(_0x10c4ec,{'type':_0x49ab90(0x927),'data':{'labels':[_0x49ab90(0xd49)],'datasets':[{'label':_0x49ab90(0x311),'data':[_0x2940f1],'backgroundColor':_0x49ab90(0xf4e)},{'label':_0x49ab90(0xaf0),'data':[_0xeb06e8],'backgroundColor':_0x49ab90(0xdba)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x296dbd}}}});const _0x5c8d9f=currentProjectData[_0x49ab90(0x7cd)]||[],_0x4bc119=_0x5c8d9f[_0x49ab90(0xa15)](_0x3a3505=>{const _0x329a12=_0x49ab90,_0x4f32a4=_0x41dfea[_0x329a12(0x340)](_0x31e5bb=>_0x31e5bb[_0x329a12(0x8df)]===_0x3a3505),_0x4c5ce8=_0x32af37[_0x329a12(0x340)](_0x1b3cb1=>_0x1b3cb1[_0x329a12(0x8df)]===_0x3a3505),_0x5edb7b=_0x4f32a4?_0x4f32a4[_0x329a12(0xbd0)]:null,_0x6f571f=_0x4c5ce8?_0x4c5ce8[_0x329a12(0xbd0)]:null,_0x493229=_0x5edb7b!==null&&_0x6f571f!==null?_0x6f571f-_0x5edb7b:null,_0x1352f0=_0x5edb7b!==null?calculateZScore(_0x5edb7b,_0x3a0e89[_0x329a12(0xf10)],_0x3a0e89['stdDev']):null,_0x2a7141=_0x6f571f!==null?calculateZScore(_0x6f571f,_0x580c58['mean'],_0x580c58['stdDev']):null,_0x527032=_0x1352f0!==null?calculateTScore(_0x1352f0):null,_0x5c322a=_0x2a7141!==null?calculateTScore(_0x2a7141):null,_0x5cfec6=_0x527032!==null&&_0x5c322a!==null?_0x5c322a-_0x527032:null;return{'name':_0x3a3505,'preScore':_0x5edb7b,'postScore':_0x6f571f,'gain':_0x493229,'preTScore':_0x527032,'postTScore':_0x5c322a,'tGain':_0x5cfec6};});renderIndividualComparisonTable(_0x4bc119,_0x46ad12);}catch(_0x46c5e9){console[_0x49ab90(0xd74)]('Error\x20comparing\x20results:',_0x46c5e9),_0x359701[_0x49ab90(0x28a)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0xb50563=_0x4ce511;if(!extractedBlueprintData||!extractedBlueprintData[_0xb50563(0x3b1)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x4ca4ee=prompt(_0xb50563(0xd7c),_0xb50563(0x35d));if(!_0x4ca4ee||_0x4ca4ee['trim']()==='')return;const _0x2cf162={};extractedBlueprintData[_0xb50563(0x3b1)][_0xb50563(0xbd3)](_0x271d4c=>{const _0x5de070=_0xb50563;_0x271d4c['mainTopics'][_0x5de070(0xbd3)](_0x455764=>{const _0x52808f=_0x5de070;_0x455764[_0x52808f(0xe68)][_0x52808f(0xbd3)](_0x5980e7=>{const _0x562853=_0x52808f,_0xd92b2e='topic_'+Date['now']()+Math[_0x562853(0x3c9)]()[_0x562853(0x823)](0x24)[_0x562853(0x3ff)](0x2,0x9);_0x2cf162[_0xd92b2e]={'sara':_0x271d4c[_0x562853(0xb87)],'mainTopic':_0x455764[_0x562853(0x3a6)],'subTopic':_0x5980e7,'status':'not_generated','lessonContent':null};});});});try{const _0x22c750=collection(db,_0xb50563(0xcaf)+appId+_0xb50563(0xef7));await addDoc(_0x22c750,{'projectName':_0x4ca4ee[_0xb50563(0x88c)](),'gradeLevel':extractedBlueprintData[_0xb50563(0x777)],'topics':_0x2cf162,'createdAt':serverTimestamp()}),showMessage(_0xb50563(0xf39)+_0x4ca4ee[_0xb50563(0x88c)]()+'\x22\x20สำเร็จ!'),document['getElementById'](_0xb50563(0xcbb))['classList'][_0xb50563(0x7e0)]('hidden');}catch(_0x28c055){console[_0xb50563(0xd74)](_0xb50563(0xbe6),_0x28c055),showMessage(_0xb50563(0x6f9));}}async function showBlueprintProjects(){const _0x4e265e=_0x4ce511,_0x47fd7e=document[_0x4e265e(0xbeb)](_0x4e265e(0x836)),_0x4a733b=document[_0x4e265e(0xbeb)]('blueprint-project-list');_0x4a733b[_0x4e265e(0x28a)]=_0x4e265e(0x617),_0x47fd7e[_0x4e265e(0xa1f)]['remove'](_0x4e265e(0x9d8));try{const _0x4f5113=collection(db,_0x4e265e(0xcaf)+appId+_0x4e265e(0xef7)),_0x4bc33c=await getDocs(_0x4f5113);if(_0x4bc33c[_0x4e265e(0x68b)]){_0x4a733b[_0x4e265e(0x28a)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x2cf3d8=_0x4bc33c[_0x4e265e(0xf3c)]['map'](_0x156177=>({'id':_0x156177['id'],..._0x156177['data']()}));_0x2cf3d8['sort']((_0x191461,_0x27df39)=>_0x191461[_0x4e265e(0x9e0)][_0x4e265e(0xac1)](_0x27df39['projectName'],'th')),_0x4a733b[_0x4e265e(0x28a)]=_0x2cf3d8['map'](_0x8093d9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x8093d9[_0x4e265e(0x9e0)]+_0x4e265e(0xb88)+_0x8093d9[_0x4e265e(0x777)]+_0x4e265e(0xcfb)+Object['keys'](_0x8093d9['topics'])[_0x4e265e(0x81c)]+_0x4e265e(0xbcd)+_0x8093d9['id']+_0x4e265e(0x860)+_0x8093d9['id']+_0x4e265e(0x1ef))['join']('');}catch(_0x126f9c){console[_0x4e265e(0xd74)](_0x4e265e(0xf59),_0x126f9c),_0x4a733b['innerHTML']=_0x4e265e(0x61e);}}async function displayBlueprintProjectManager(_0x3ed8a4){const _0x467749=_0x4ce511;currentBlueprintProjectId=_0x3ed8a4,document['getElementById'](_0x467749(0x836))[_0x467749(0xa1f)]['add'](_0x467749(0x9d8)),showView(_0x467749(0x5cd)),projectDashboardView[_0x467749(0xa1f)]['add']('hidden');const _0x5a3fcf=document[_0x467749(0xbeb)](_0x467749(0xa62));_0x5a3fcf[_0x467749(0xa1f)][_0x467749(0x711)](_0x467749(0x9d8)),document[_0x467749(0xbeb)](_0x467749(0x775))[_0x467749(0x28a)]=_0x467749(0x50c);try{const _0x507819=doc(db,_0x467749(0xcaf)+appId+_0x467749(0xef7),_0x3ed8a4),_0x4b3c1d=await getDoc(_0x507819);if(!_0x4b3c1d['exists']())throw new Error(_0x467749(0x34d));const _0x2829ff={'id':_0x4b3c1d['id'],..._0x4b3c1d[_0x467749(0xbfb)]()};document[_0x467749(0xbeb)](_0x467749(0xf28))[_0x467749(0x211)]=_0x2829ff[_0x467749(0x9e0)],document[_0x467749(0xbeb)](_0x467749(0xd71))[_0x467749(0xc07)]=_0x2829ff[_0x467749(0xe9b)]||'',renderBlueprintTopicManager(_0x2829ff);}catch(_0x5361c5){console[_0x467749(0xd74)](_0x467749(0xf4b),_0x5361c5),showMessage(_0x5361c5[_0x467749(0x68f)]),showView(_0x467749(0x5cd));}}function renderBlueprintTopicManager(_0x2b735b){const _0x5d5d56=_0x4ce511,_0x54ec4c=document[_0x5d5d56(0xbeb)]('bp-topic-list-container'),_0x40550e=_0x2b735b[_0x5d5d56(0xa34)]||{};if(Object[_0x5d5d56(0xafa)](_0x40550e)[_0x5d5d56(0x81c)]===0x0){_0x54ec4c['innerHTML']=_0x5d5d56(0x436);return;}const _0x2752bc=Object['entries'](_0x40550e)['map'](([_0x50cdf8,_0x401462])=>({'id':_0x50cdf8,..._0x401462}))['sort']((_0x20024c,_0x46769e)=>(_0x20024c['order']??Infinity)-(_0x46769e[_0x5d5d56(0x3bf)]??Infinity)),_0x1d84e4={};_0x2752bc[_0x5d5d56(0xbd3)](_0x312748=>{const _0x62dbf2=_0x5d5d56,{sara:_0x97da6d,mainTopic:_0x1376b2}=_0x312748;!_0x1d84e4[_0x97da6d]&&(_0x1d84e4[_0x97da6d]={}),!_0x1d84e4[_0x97da6d][_0x1376b2]&&(_0x1d84e4[_0x97da6d][_0x1376b2]=[]),_0x1d84e4[_0x97da6d][_0x1376b2][_0x62dbf2(0x9ba)](_0x312748);});let _0x46a861='';for(const _0x1175a6 in _0x1d84e4){_0x46a861+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x1175a6+_0x5d5d56(0xa4e);for(const _0x673415 in _0x1d84e4[_0x1175a6]){_0x46a861+=_0x5d5d56(0x39a)+_0x673415+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x1d84e4[_0x1175a6][_0x673415][_0x5d5d56(0xbd3)](_0x28a622=>{const _0x179893=_0x5d5d56,_0x14edc1=_0x28a622['id'],_0x20a5aa=_0x28a622[_0x179893(0xefe)]||[],_0x44cca4=_0x20a5aa['length']>0x0,_0x268095=_0x28a622[_0x179893(0x3a7)]===_0x179893(0x3d2);let _0x4320ae='';_0x44cca4?_0x4320ae=_0x179893(0xbcf)+_0x20a5aa[_0x179893(0x81c)]+_0x179893(0x5cc):_0x4320ae=_0x179893(0x34a)+(_0x268095?_0x179893(0xa9b):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x268095?_0x179893(0x626):_0x179893(0x32d))+_0x179893(0x1c3);const _0x259bd9=!_0x268095?_0x179893(0x490):'',_0x59b78e=!_0x268095?'กรุณาสร้างบทเรียนก่อน':'';let _0x39b5c4=_0x268095?_0x179893(0xe84):_0x179893(0x47b);_0x46a861+=_0x179893(0xb5b)+_0x14edc1+_0x179893(0xa3a)+_0x28a622['subTopic']+_0x179893(0x7be)+_0x4320ae+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x259bd9+_0x179893(0xeed)+_0x59b78e+_0x179893(0xc0e)+_0x39b5c4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x46a861+=_0x5d5d56(0x73b);}_0x46a861+=_0x5d5d56(0xc6a);}_0x54ec4c[_0x5d5d56(0x28a)]=_0x46a861;}async function handleDeepDeleteBlueprintProject(_0x190611){const _0x17d15b=_0x4ce511,_0x381b3c=doc(db,_0x17d15b(0xcaf)+appId+_0x17d15b(0xef7),_0x190611),_0x19ebb9=await getDoc(_0x381b3c);if(!_0x19ebb9['exists']()){showMessage(_0x17d15b(0x3ce));return;}const _0x5545ba=_0x19ebb9['data']()[_0x17d15b(0x9e0)];showConfirmation(_0x17d15b(0xe87)+_0x5545ba+_0x17d15b(0x984),async()=>{const _0x101b2d=_0x17d15b;showMessage(_0x101b2d(0xc02));try{const _0x68fd45=writeBatch(db),_0x2687e3=_0x19ebb9['data'](),_0x21d81e=_0x2687e3[_0x101b2d(0xa34)]||{};for(const _0x280584 in _0x21d81e){const _0x176936=doc(db,_0x101b2d(0xcaf)+appId+'/public/data/blueprintProjects/'+_0x190611+_0x101b2d(0x50f),_0x280584);_0x68fd45['delete'](_0x176936);}const _0x548f0e=new Set();for(const _0x1c5b76 in _0x21d81e){_0x21d81e[_0x1c5b76][_0x101b2d(0xefe)]&&_0x21d81e[_0x1c5b76][_0x101b2d(0xefe)][_0x101b2d(0xbd3)](_0x497014=>_0x548f0e['add'](_0x497014));}for(const _0x170b10 of _0x548f0e){await handleDeleteQuiz(_0x170b10,![]);}_0x68fd45[_0x101b2d(0xf45)](_0x381b3c),await _0x68fd45[_0x101b2d(0xe24)](),showMessage('ลบโปรเจค\x20\x22'+_0x5545ba+_0x101b2d(0xd90)),showBlueprintProjects();}catch(_0x5ae420){console['error'](_0x101b2d(0x386),_0x5ae420),showMessage(_0x101b2d(0x2db));}});}async function openTopicQuizBank(_0x37506c){const _0x26cece=_0x4ce511,_0xe0122d=document[_0x26cece(0xbeb)](_0x26cece(0x58a)),_0x466c9d=document[_0x26cece(0xbeb)](_0x26cece(0x25f)),_0x594c53=document[_0x26cece(0xbeb)](_0x26cece(0x394));try{await ensureGlobalQuizzesLoaded();const _0x563a8c=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x4fe080=await getDoc(_0x563a8c);if(!_0x4fe080['exists']())return;const _0x1ae429=_0x4fe080['data'](),_0x978556=_0x1ae429['topics'][_0x37506c];document['getElementById']('topic-bank-subtopic-name')[_0x26cece(0x211)]=_0x978556[_0x26cece(0x24b)];const _0x1e9db8=_0x978556[_0x26cece(0xefe)]||[];_0x594c53[_0x26cece(0xa1f)][_0x26cece(0x4c3)](_0x26cece(0x9d8),_0x1e9db8[_0x26cece(0x81c)]===0x0),_0x594c53[_0x26cece(0x810)]=()=>handleClearAllLinksForTopic(_0x37506c);if(_0x1e9db8[_0x26cece(0x81c)]===0x0)_0x466c9d[_0x26cece(0x28a)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0xc88be5=allQuizzesGlobal['filter'](_0x216b57=>_0x1e9db8[_0x26cece(0x87a)](_0x216b57['id']));_0x466c9d[_0x26cece(0x28a)]=_0xc88be5['map'](_0x42807e=>_0x26cece(0xddd)+_0x42807e['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0x42807e[_0x26cece(0x8ba)]+_0x26cece(0xc15)+_0x42807e['id']+_0x26cece(0xcfb)+_0x42807e['questions'][_0x26cece(0x81c)]+_0x26cece(0xe41)+_0x42807e['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22'+_0x42807e['id']+_0x26cece(0xcfc)+_0x42807e['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22'+_0x42807e['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22'+_0x37506c+_0x26cece(0x41c)+_0x42807e['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}document[_0x26cece(0xbeb)](_0x26cece(0xa6a))['onclick']=()=>{openQuizSelectorForBlueprint(_0x37506c);},document['getElementById'](_0x26cece(0x2a3))[_0x26cece(0x810)]=()=>_0xe0122d[_0x26cece(0xa1f)][_0x26cece(0x7e0)](_0x26cece(0x9d8)),_0xe0122d[_0x26cece(0xa1f)][_0x26cece(0x711)](_0x26cece(0x9d8));}catch(_0x610bc5){showMessage(_0x610bc5[_0x26cece(0x68f)]);}}async function openQuizSelectorForBlueprint(_0xffb407){const _0xbad622=_0x4ce511,_0x57a8fe=document[_0xbad622(0xbeb)]('quiz-bank-modal'),_0x55a0bb=document[_0xbad622(0xbeb)](_0xbad622(0x58a));_0x55a0bb['classList'][_0xbad622(0x7e0)](_0xbad622(0x9d8)),document[_0xbad622(0xbeb)](_0xbad622(0x57d))?.[_0xbad622(0x711)]();const _0x257c18=document[_0xbad622(0x38c)](_0xbad622(0x6c0));_0x257c18['id']=_0xbad622(0x57d),_0x257c18[_0xbad622(0x5de)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x257c18[_0xbad622(0x211)]=_0xbad622(0xde1),_0x257c18['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x57a8fe[_0xbad622(0xa1f)]['remove'](_0xbad622(0x9d8)),renderQuizBankListForMultiSelect(''),document[_0xbad622(0xbeb)](_0xbad622(0xa16))[_0xbad622(0xbcb)]['display']=_0xbad622(0x434),_0x57a8fe[_0xbad622(0x2d0)](_0xbad622(0xb5f))[_0xbad622(0x620)](_0x257c18);const _0x38f9ca=(_0x1bc94c=![])=>{const _0x555a77=_0xbad622;_0x57a8fe['classList'][_0x555a77(0x7e0)](_0x555a77(0x9d8)),document[_0x555a77(0xbeb)](_0x555a77(0xa16))['style']['display']='flex',_0x257c18[_0x555a77(0x711)](),_0x1bc94c&&openTopicQuizBank(_0xffb407);};_0x257c18[_0xbad622(0x810)]=async()=>{const _0x1d60af=_0xbad622,_0x2f6a59=Array[_0x1d60af(0xc0c)](document['querySelectorAll']('.quiz-bank-checkbox:checked'))[_0x1d60af(0xa15)](_0x5e1e40=>_0x5e1e40['value']);if(_0x2f6a59['length']===0x0)return;try{const _0x111dc4=doc(db,_0x1d60af(0xcaf)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x16e37a=(await getDoc(_0x111dc4))[_0x1d60af(0xbfb)](),_0x2ea39f=_0x16e37a[_0x1d60af(0xa34)][_0xffb407][_0x1d60af(0xefe)]||[],_0x432279=[...new Set([..._0x2ea39f,..._0x2f6a59])];await updateDoc(_0x111dc4,{[_0x1d60af(0xba5)+_0xffb407+_0x1d60af(0x7d2)]:_0x432279}),showMessage(_0x1d60af(0x220)+_0x2f6a59['length']+_0x1d60af(0x980)),_0x38f9ca(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x350ca4){console['error'](_0x1d60af(0x4ce),_0x350ca4);}},document[_0xbad622(0xbeb)]('cancel-quiz-bank-btn')['onclick']=()=>_0x38f9ca(!![]);}catch(_0x2baea4){showMessage(_0x2baea4['message']),_0x55a0bb[_0xbad622(0xa1f)][_0xbad622(0x711)](_0xbad622(0x9d8));}}function handleClearLinkedQuiz(_0x409ffb){const _0x11267e=_0x4ce511;showConfirmation(_0x11267e(0x73e),async()=>{const _0x3b8c8d=_0x11267e;try{const _0x4d43e8=doc(db,_0x3b8c8d(0xcaf)+appId+_0x3b8c8d(0xef7),currentBlueprintProjectId);await updateDoc(_0x4d43e8,{[_0x3b8c8d(0xba5)+_0x409ffb+_0x3b8c8d(0x43e)]:deleteField()}),showMessage(_0x3b8c8d(0x3f0)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1c9fbb){console[_0x3b8c8d(0xd74)]('Error\x20clearing\x20linked\x20quiz:',_0x1c9fbb),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x13e44f=_0x4ce511,_0x279254=prompt(_0x13e44f(0xbf3));if(!_0x279254||_0x279254[_0x13e44f(0x88c)]()==='')return;const _0x567d66=prompt(_0x13e44f(0x5bc),_0x13e44f(0xe32)),_0xcea6bc=prompt(_0x13e44f(0xbb3),'หัวข้อหลักใหม่'),_0x49aed4=_0x13e44f(0x4a5)+Date[_0x13e44f(0xced)]()+Math[_0x13e44f(0x3c9)]()[_0x13e44f(0x823)](0x24)[_0x13e44f(0x3ff)](0x2,0x9),_0x159945={'sara':_0x567d66,'mainTopic':_0xcea6bc,'subTopic':_0x279254['trim'](),'status':_0x13e44f(0xf15),'lessonContent':null};try{const _0x3fe877=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x3fe877,{[_0x13e44f(0xba5)+_0x49aed4]:_0x159945}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3bc51d){console['error'](_0x13e44f(0x3c6),_0x3bc51d),showMessage(_0x13e44f(0x62d));}}async function editTopicInProject(_0x15969a){const _0x49be32=_0x4ce511,_0x368f38=document[_0x49be32(0x2d0)](_0x49be32(0x5e8)+_0x15969a+'\x22]'),_0xe6242f=_0x368f38[_0x49be32(0x2d0)](_0x49be32(0x217)),_0x5cef15=_0xe6242f[_0x49be32(0x211)],_0x1c1815=prompt(_0x49be32(0xbbe),_0x5cef15);if(!_0x1c1815||_0x1c1815[_0x49be32(0x88c)]()===''||_0x1c1815['trim']()===_0x5cef15)return;try{const _0x23c6aa=doc(db,_0x49be32(0xcaf)+appId+_0x49be32(0xef7),currentBlueprintProjectId);await updateDoc(_0x23c6aa,{[_0x49be32(0xba5)+_0x15969a+_0x49be32(0xed1)]:_0x1c1815['trim']()}),_0xe6242f[_0x49be32(0x211)]=_0x1c1815[_0x49be32(0x88c)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x779c56){console['error'](_0x49be32(0xcca),_0x779c56),showMessage(_0x49be32(0xbc1));}}async function deleteTopicFromProject(_0x5aec07){const _0x53f686=_0x4ce511;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x210ec1=doc(db,_0x53f686(0xcaf)+appId+_0x53f686(0xef7),currentBlueprintProjectId);await updateDoc(_0x210ec1,{[_0x53f686(0xba5)+_0x5aec07]:deleteField()}),document[_0x53f686(0x2d0)](_0x53f686(0x5e8)+_0x5aec07+'\x22]')[_0x53f686(0x711)](),showMessage(_0x53f686(0x957));}catch(_0x1681a5){console[_0x53f686(0xd74)]('Error\x20deleting\x20topic:',_0x1681a5),showMessage(_0x53f686(0x98b));}}async function generateAndSaveLessonForBlueprint(_0x35d5ab,_0x55f8d7,_0x485a2c){handleGenerateAndShowLesson(_0x55f8d7,_0x485a2c);const _0x35ff7c=setInterval(async()=>{const _0x513a10=_0x5a5c,_0x45ea64=document[_0x513a10(0xbeb)](_0x513a10(0xc4e)),_0xc2f8e8=_0x45ea64[_0x513a10(0xa1f)][_0x513a10(0xa3f)](_0x513a10(0x9d8));if(_0xc2f8e8){clearInterval(_0x35ff7c);if(currentApplicationData&&currentApplicationData[_0x513a10(0x81c)]>0x0){const _0x5854d3={'point':document['getElementById'](_0x513a10(0x800))['innerHTML'],'memory':document[_0x513a10(0xbeb)](_0x513a10(0x1d6))[_0x513a10(0x28a)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x513a10(0xbeb)](_0x513a10(0xd9b))[_0x513a10(0x28a)]};try{const _0x43b87e=doc(db,_0x513a10(0xcaf)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x27c2f9=doc(db,_0x513a10(0xcaf)+appId+_0x513a10(0xa7f)+currentBlueprintProjectId+'/lessons',_0x35d5ab),_0x330bfe=writeBatch(db);_0x330bfe[_0x513a10(0xaa8)](_0x27c2f9,{'content':_0x5854d3}),_0x330bfe[_0x513a10(0x55d)](_0x43b87e,{[_0x513a10(0xba5)+_0x35d5ab+_0x513a10(0x343)]:_0x513a10(0x3d2)}),await _0x330bfe['commit'](),console[_0x513a10(0x2c0)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x35d5ab+_0x513a10(0x63d)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x509081){console[_0x513a10(0xd74)](_0x513a10(0xc35),_0x509081);}}}},0x3e8);}function displayHalfMarkResult(_0x2e01c7,_0x2066b1){const _0x5c06fc=_0x4ce511,_0x26f2b5=_0x2e01c7>=_0x2066b1/0x2,_0x3c313a=_0x26f2b5?_0x5c06fc(0x251):_0x5c06fc(0x27c),_0x1dc29e=_0x26f2b5?_0x5c06fc(0x9c4):_0x5c06fc(0xae9),_0x3d3b16=_0x26f2b5?_0x5c06fc(0xe6a):_0x5c06fc(0x40c),_0x470278=_0x26f2b5?_0x5c06fc(0xe04):_0x5c06fc(0x928),_0x4b2324=_0x26f2b5?_0x5c06fc(0x922):_0x5c06fc(0x2ad);let _0x2e291e=_0x5c06fc(0x531)+_0x3c313a+_0x5c06fc(0xec4)+_0x1dc29e+_0x5c06fc(0xc0b)+_0x3d3b16+'\x20mb-2\x22>'+_0x470278+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x4b2324+_0x5c06fc(0x876);studentResultArea[_0x5c06fc(0x28a)]=_0x2e291e,studentResultArea['classList'][_0x5c06fc(0x711)](_0x5c06fc(0x9d8)),studentQuizArea[_0x5c06fc(0xa1f)][_0x5c06fc(0x7e0)](_0x5c06fc(0x9d8)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x26f2b5});}function displayPerfectScoreResult(_0x1eee43,_0xd8bf38){const _0x29a628=_0x4ce511,_0x271178=_0x1eee43===_0xd8bf38,_0x1f6dc0=_0x271178?_0x29a628(0xecb):_0x29a628(0xd6e),_0x59837d=_0x271178?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x29a628(0x5a0),_0x57539b=_0x271178?'text-yellow-800':_0x29a628(0xa50),_0x1418fb=_0x271178?_0x29a628(0x6a8):_0x29a628(0x21f),_0x4fcc40=_0x271178?_0x29a628(0xf25):_0x29a628(0xf48);let _0x2211c3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x1f6dc0+_0x29a628(0xec4)+_0x59837d+_0x29a628(0xc0b)+_0x57539b+'\x20mb-2\x22>'+_0x1418fb+_0x29a628(0xc61)+_0x4fcc40+_0x29a628(0x876);studentResultArea[_0x29a628(0x28a)]=_0x2211c3,studentResultArea[_0x29a628(0xa1f)]['remove']('hidden'),studentQuizArea[_0x29a628(0xa1f)][_0x29a628(0x7e0)](_0x29a628(0x9d8)),setupResultScreenBackButton({'showRankings':![],'score':_0x1eee43,'totalQuestions':_0xd8bf38});}function renderIndividualComparisonTable(_0x29d7a1,_0x565f91){const _0x25b024=_0x4ce511;_0x29d7a1[_0x25b024(0x2b3)]((_0x3fa6fe,_0x572930)=>(_0x572930[_0x25b024(0x3c0)]??-Infinity)-(_0x3fa6fe['tGain']??-Infinity));let _0x175188=_0x25b024(0xbf7);_0x29d7a1['length']===0x0?_0x175188+=_0x25b024(0xa08):_0x29d7a1[_0x25b024(0xbd3)]((_0x2241dd,_0x405878)=>{const _0x55474d=_0x25b024;let _0x3ca53e='-',_0x5ac670='';if(_0x2241dd[_0x55474d(0xe5a)]!==null){const _0x297f22=_0x2241dd['gain']>0x0?_0x55474d(0x7c5):_0x2241dd[_0x55474d(0xe5a)]<0x0?_0x55474d(0x32e):_0x55474d(0x9e1),_0x1dabb5=_0x2241dd['gain']>0x0?'+':'';_0x3ca53e=_0x55474d(0x542)+_0x297f22+'\x22>'+_0x1dabb5+_0x2241dd[_0x55474d(0xe5a)]+_0x55474d(0x1c3);if(_0x2241dd[_0x55474d(0xe5a)]>0x0)_0x5ac670=_0x55474d(0xdf1);else _0x2241dd['gain']<0x0?_0x5ac670='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x5ac670=_0x55474d(0xdb0);}let _0x5cdc95='-';if(_0x2241dd[_0x55474d(0x3c0)]!==null){const _0x489327=_0x2241dd[_0x55474d(0x3c0)]>0x0?'text-green-600':_0x2241dd[_0x55474d(0x3c0)]<0x0?_0x55474d(0x32e):'text-gray-500',_0x254a65=_0x2241dd[_0x55474d(0x3c0)]>0x0?'+':'';_0x5cdc95=_0x55474d(0x542)+_0x489327+'\x22>'+_0x254a65+_0x2241dd['tGain']['toFixed'](0x2)+_0x55474d(0x1c3);}_0x175188+=_0x55474d(0x5c2)+(_0x405878+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x2241dd[_0x55474d(0x631)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x2241dd['preScore']??'-')+_0x55474d(0xbc0)+(_0x2241dd[_0x55474d(0xdcd)]??'-')+_0x55474d(0x4fd)+_0x3ca53e+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x5ac670+_0x55474d(0x292)+(_0x2241dd['preTScore']?.[_0x55474d(0x7a7)](0x2)??'-')+_0x55474d(0x9f3)+(_0x2241dd[_0x55474d(0x953)]?.[_0x55474d(0x7a7)](0x2)??'-')+_0x55474d(0x4fd)+_0x5cdc95+_0x55474d(0x3f3);}),_0x175188+=_0x25b024(0xf43),_0x565f91[_0x25b024(0x28a)]=_0x175188;}function handleRenameQuiz(_0x3300f0,_0x161428){const _0xdb2c15=_0x4ce511;actionTargetId=_0x3300f0,document['getElementById'](_0xdb2c15(0x8fa))['value']=_0x161428,renameQuizModal['classList'][_0xdb2c15(0x711)](_0xdb2c15(0x9d8));}function setupComparisonModalTabs(){const _0x2412b1=_0x4ce511,_0x160957=document[_0x2412b1(0xbeb)](_0x2412b1(0x320)),_0x59b81b=document['getElementById'](_0x2412b1(0xe4e)),_0x477932=document['getElementById'](_0x2412b1(0xe3a)),_0x410303=document['getElementById'](_0x2412b1(0xeef));_0x160957['addEventListener'](_0x2412b1(0xc64),()=>{const _0x21734c=_0x2412b1;_0x160957[_0x21734c(0xa1f)][_0x21734c(0x7e0)](_0x21734c(0x829)),_0x59b81b[_0x21734c(0xa1f)][_0x21734c(0x711)](_0x21734c(0x829)),_0x477932[_0x21734c(0xa1f)]['remove']('hidden'),_0x410303[_0x21734c(0xa1f)]['add']('hidden');}),_0x59b81b[_0x2412b1(0x79a)]('click',()=>{const _0x46a0c4=_0x2412b1;_0x59b81b[_0x46a0c4(0xa1f)][_0x46a0c4(0x7e0)](_0x46a0c4(0x829)),_0x160957['classList'][_0x46a0c4(0x711)](_0x46a0c4(0x829)),_0x410303[_0x46a0c4(0xa1f)][_0x46a0c4(0x711)]('hidden'),_0x477932[_0x46a0c4(0xa1f)][_0x46a0c4(0x7e0)](_0x46a0c4(0x9d8));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0xb35dab=_0x4ce511;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1e3586=doc(db,_0xb35dab(0xcaf)+appId+_0xb35dab(0x834),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1e3586,_0x326196=>{const _0x1c0c06=_0xb35dab;if(!_0x326196[_0x1c0c06(0x358)]()){showMessage(_0x1c0c06(0xc47));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1c0c06(0x203)?showView(_0x1c0c06(0xe1e)):showView(_0x1c0c06(0x2ec));return;}const _0x3c6cec=_0x326196[_0x1c0c06(0xbfb)]();_0x3c6cec['shuffledQuiz']&&(currentQuizData=_0x3c6cec['shuffledQuiz']);!currentQuizData&&_0x3c6cec[_0x1c0c06(0xc9b)]&&((async()=>{const _0x1e908c=_0x1c0c06;try{const _0x2656cb=doc(db,_0x1e908c(0xcaf)+appId+_0x1e908c(0x24f),_0x3c6cec['quizId']),_0x5b8e5e=await getDoc(_0x2656cb);_0x5b8e5e[_0x1e908c(0x358)]()&&(currentQuizData={'id':_0x5b8e5e['id'],..._0x5b8e5e[_0x1e908c(0xbfb)]()});}catch(_0x233cf1){console[_0x1e908c(0xd74)](_0x1e908c(0x5a8),_0x233cf1);}})());switch(_0x3c6cec[_0x1c0c06(0x3a7)]){case _0x1c0c06(0xcb9):if(currentMode===_0x1c0c06(0x203)){const _0x392ccf=_0x3c6cec['players']?Object[_0x1c0c06(0x6e1)](_0x3c6cec['players']):[],_0x12112d=_0x392ccf['filter'](([_0x4b70a3,_0x463e78])=>_0x463e78['status']==='active'),_0x166768=document[_0x1c0c06(0xbeb)](_0x1c0c06(0x1d9));if(_0x166768)_0x166768['textContent']=_0x12112d[_0x1c0c06(0x81c)];const _0x19d25f=document[_0x1c0c06(0xbeb)]('player-list-lobby');_0x19d25f&&(_0x19d25f['innerHTML']=_0x12112d[_0x1c0c06(0xa15)](([_0x56f70f,_0x18ce35])=>_0x1c0c06(0x40d)+_0x56f70f+_0x1c0c06(0x4e6)+_0x56f70f+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1c0c06(0x919)](''));const _0x4e9945=document[_0x1c0c06(0xbeb)](_0x1c0c06(0xc77));_0x4e9945&&(_0x4e9945['disabled']=_0x12112d['length']===0x0);}else showView(_0x1c0c06(0x934)),liveGameView[_0x1c0c06(0x28a)]=_0x1c0c06(0x8d8)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'question':const _0x4ed971=_0x3c6cec[_0x1c0c06(0x568)];if(currentQuizData&&currentQuizData['questions'][_0x4ed971]){const _0x3b88b4=currentQuizData[_0x1c0c06(0x7bb)][_0x4ed971],_0x352319=_0x3c6cec['questionStatus']||_0x1c0c06(0x521);switch(_0x352319){case _0x1c0c06(0x2a1):currentMode===_0x1c0c06(0x203)?showAdminSummaryView(_0x3c6cec,_0x3b88b4):showPlayerSummaryView(_0x3c6cec,currentStudentName);break;case _0x1c0c06(0x302):currentMode===_0x1c0c06(0x203)&&showTop5LeaderboardView(_0x3c6cec);break;case _0x1c0c06(0x521):default:if(currentMode===_0x1c0c06(0x203)){const _0x5b1693=writeBatch(db);let _0x3a6700=![];Object[_0x1c0c06(0x6e1)](_0x3c6cec[_0x1c0c06(0x735)])[_0x1c0c06(0xbd3)](([_0x4630b5,_0x465743])=>{const _0xfe896=_0x1c0c06;if(_0x465743[_0xfe896(0x3a7)]===_0xfe896(0x829)&&_0x465743['submittedAt']&&!_0x465743[_0xfe896(0xe5f)]){_0x3a6700=!![];const _0x3abf32=_0x465743['submittedAt'][_0xfe896(0x8e8)]()-_0x3c6cec[_0xfe896(0x497)][_0xfe896(0x8e8)]();let _0x154dbb=0x0;if(_0x465743['lastAnswerCorrect']){const _0x6ac202=0x3e8,_0x23a4dc=0x1f4,_0x437eda=0x4e20;let _0x1d4619=_0x3abf32/_0x437eda;if(_0x1d4619>0x1)_0x1d4619=0x1;const _0x36245c=Math[_0xfe896(0xe7c)](_0x1d4619*_0x23a4dc);_0x154dbb=_0x6ac202-_0x36245c;}const _0x20dd8c=doc(db,_0xfe896(0xcaf)+appId+_0xfe896(0x834),currentLiveGameId);_0x5b1693[_0xfe896(0x55d)](_0x20dd8c,{['players.'+_0x4630b5+_0xfe896(0xc7e)]:increment(_0x154dbb),['players.'+_0x4630b5+_0xfe896(0xe52)]:_0x154dbb,[_0xfe896(0xe5c)+_0x4630b5+_0xfe896(0xdbc)]:!![]});}});_0x3a6700&&_0x5b1693['commit']()[_0x1c0c06(0x7d9)](_0x2f2820=>console[_0x1c0c06(0xd74)](_0x1c0c06(0xcd3),_0x2f2820));lastRenderedAdminQuestionIndex!==_0x4ed971&&(showAdminLiveQuestionView(_0x3b88b4,_0x4ed971,currentQuizData['questions']['length']),lastRenderedAdminQuestionIndex=_0x4ed971);const _0x3d5e6f=_0x3c6cec[_0x1c0c06(0x735)]||{},_0x3e440f=Object[_0x1c0c06(0xb18)](_0x3d5e6f)[_0x1c0c06(0x395)](_0x18c451=>_0x18c451[_0x1c0c06(0x3a7)]===_0x1c0c06(0x829)),_0x150e2f=_0x3e440f['length'],_0x4544a3=_0x3e440f[_0x1c0c06(0x395)](_0x10780f=>_0x10780f[_0x1c0c06(0x3e6)]===!![])['length'],_0x4aeb2a=document[_0x1c0c06(0xbeb)]('answer-counter');if(_0x4aeb2a)_0x4aeb2a[_0x1c0c06(0x211)]=_0x4544a3+'/'+_0x150e2f;const _0x5db485=document[_0x1c0c06(0xbeb)](_0x1c0c06(0x4a7));if(_0x5db485){let _0x1fbdb2=Object[_0x1c0c06(0x6e1)](_0x3d5e6f)[_0x1c0c06(0x395)](([_0x5a161f,_0x55ec03])=>_0x55ec03[_0x1c0c06(0x3a7)]===_0x1c0c06(0x829))[_0x1c0c06(0xa15)](([_0xe875e9,_0x250082])=>{const _0x20909e=_0x1c0c06,_0x32d9c2=_0x250082[_0x20909e(0x3e6)]===!![],_0x5a0831=_0x32d9c2?_0x20909e(0x795):'bg-gray-500',_0x36157f=_0x32d9c2?_0x20909e(0x4d9):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x20909e(0xcc7)+_0x5a0831+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36157f+_0x20909e(0xf56)+_0xe875e9+_0x20909e(0xe36)+_0xe875e9+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1c0c06(0x919)]('');_0x5db485[_0x1c0c06(0x28a)]=_0x1fbdb2||_0x1c0c06(0xbfa);}_0x150e2f>0x0&&_0x4544a3===_0x150e2f&&revealAnswerForAdmin(_0x4ed971,currentQuizData[_0x1c0c06(0x7bb)][_0x1c0c06(0x81c)]);}else{const _0x32becc=_0x3c6cec[_0x1c0c06(0x735)][currentStudentName];_0x32becc&&!_0x32becc[_0x1c0c06(0x3e6)]&&showStudentLiveQuestionView(_0x3b88b4,_0x4ed971,currentQuizData[_0x1c0c06(0x7bb)][_0x1c0c06(0x81c)]);}break;}}break;case _0x1c0c06(0x9d4):showPodiumView(_0x3c6cec['players'],_0x1c0c06(0x6d1));break;}});}async function openGlobalActivityModal(){const _0x26f31f=_0x4ce511;if(allQuizzesGlobal[_0x26f31f(0x81c)]===0x0){const _0x210378=await getDocs(collection(db,_0x26f31f(0xcaf)+appId+_0x26f31f(0x24f)));allQuizzesGlobal=_0x210378['docs']['map'](_0x2f0428=>({'id':_0x2f0428['id'],..._0x2f0428[_0x26f31f(0xbfb)]()}));}renderGlobalActivityList(''),document[_0x26f31f(0xbeb)](_0x26f31f(0xf5b))[_0x26f31f(0xa1f)][_0x26f31f(0x711)]('hidden');}function renderGlobalActivityList(_0x5c03d0=''){const _0x51a385=_0x4ce511,_0x141085=document[_0x51a385(0xbeb)](_0x51a385(0x88a)),_0x293a7e=_0x5c03d0['toLowerCase']()[_0x51a385(0x88c)](),_0x239067=allQuizzesGlobal[_0x51a385(0xa15)](_0x45fe96=>({..._0x45fe96,'projectName':allProjects[_0x51a385(0x340)](_0x3b4e11=>_0x3b4e11['id']===_0x45fe96[_0x51a385(0xc3a)])?.[_0x51a385(0x9e0)]||_0x51a385(0x30b)}))[_0x51a385(0x395)](_0x5840da=>(_0x5840da['topic']||'')['toLowerCase']()[_0x51a385(0x87a)](_0x293a7e)||(_0x5840da[_0x51a385(0x9e0)]||'')[_0x51a385(0x298)]()[_0x51a385(0x87a)](_0x293a7e));document[_0x51a385(0xbeb)](_0x51a385(0x873))[_0x51a385(0x211)]='('+_0x239067[_0x51a385(0x81c)]+_0x51a385(0xf24),_0x141085['innerHTML']=_0x239067[_0x51a385(0x81c)]?_0x239067[_0x51a385(0xa15)](_0x4e316b=>_0x51a385(0x502)+(_0x4e316b['topic']||'(ไม่มีชื่อ)')+_0x51a385(0x767)+(_0x4e316b[_0x51a385(0x7bb)]?.[_0x51a385(0x81c)]||0x0)+_0x51a385(0x30d)+_0x4e316b[_0x51a385(0x9e0)]+_0x51a385(0x313)+_0x4e316b['id']+_0x51a385(0xc5b)+_0x4e316b['id']+_0x51a385(0xd5b))[_0x51a385(0x919)](''):_0x51a385(0x310);}async function handleKickPlayer(_0x2b6872){const _0x209409=_0x4ce511;if(!currentLiveGameId||!_0x2b6872)return;const _0x2844ea=doc(db,_0x209409(0xcaf)+appId+_0x209409(0x834),currentLiveGameId),_0x3fd1f1={};_0x3fd1f1[_0x209409(0xe5c)+_0x2b6872+_0x209409(0x343)]=_0x209409(0x966);try{await updateDoc(_0x2844ea,_0x3fd1f1);}catch(_0x3dc4d8){console['error'](_0x209409(0x599)+_0x2b6872+':',_0x3dc4d8),showMessage(_0x209409(0xb10));}}async function authenticateUser(){const _0x2f5bee=_0x4ce511;try{typeof __initial_auth_token!==_0x2f5bee(0xa84)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x22a05d){console[_0x2f5bee(0xd74)](_0x2f5bee(0x256),_0x22a05d),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x1d9767){const _0x1a31aa=_0x4ce511;adminView[_0x1a31aa(0xa1f)][_0x1a31aa(0x7e0)](_0x1a31aa(0x9d8)),studentView['classList'][_0x1a31aa(0x7e0)](_0x1a31aa(0x9d8)),projectDashboardView[_0x1a31aa(0xa1f)]['add'](_0x1a31aa(0x9d8)),projectDetailView[_0x1a31aa(0xa1f)][_0x1a31aa(0x7e0)](_0x1a31aa(0x9d8)),quizResultsView[_0x1a31aa(0xa1f)][_0x1a31aa(0x7e0)](_0x1a31aa(0x9d8)),liveGameView[_0x1a31aa(0xa1f)][_0x1a31aa(0x7e0)]('hidden'),document[_0x1a31aa(0xbeb)]('blueprint-project-manager-view')[_0x1a31aa(0xa1f)][_0x1a31aa(0x7e0)](_0x1a31aa(0x9d8)),studentInitialView[_0x1a31aa(0xa1f)][_0x1a31aa(0x7e0)](_0x1a31aa(0x9d8)),studentJoinGameView[_0x1a31aa(0xa1f)]['add'](_0x1a31aa(0x9d8)),studentNameSelectionView[_0x1a31aa(0xa1f)]['add'](_0x1a31aa(0x9d8)),studentQuizArea[_0x1a31aa(0xa1f)][_0x1a31aa(0x7e0)](_0x1a31aa(0x9d8)),studentResultArea[_0x1a31aa(0xa1f)][_0x1a31aa(0x7e0)]('hidden'),studentReadingArea[_0x1a31aa(0xa1f)][_0x1a31aa(0x7e0)]('hidden');const _0x3c07d7=document[_0x1a31aa(0xbeb)](_0x1a31aa(0xd5e)),_0x492ef4=document[_0x1a31aa(0xbeb)](_0x1a31aa(0x70d));if(_0x3c07d7)_0x3c07d7['classList']['add'](_0x1a31aa(0x9d8));if(_0x492ef4)_0x492ef4[_0x1a31aa(0xa1f)][_0x1a31aa(0x7e0)]('hidden');switch(_0x1d9767){case _0x1a31aa(0x5cd):adminView[_0x1a31aa(0xa1f)][_0x1a31aa(0x711)](_0x1a31aa(0x9d8)),projectDashboardView[_0x1a31aa(0xa1f)][_0x1a31aa(0x711)]('hidden');break;case'project-detail':adminView['classList'][_0x1a31aa(0x711)]('hidden'),projectDetailView['classList'][_0x1a31aa(0x711)](_0x1a31aa(0x9d8));break;case _0x1a31aa(0x7e1):adminView[_0x1a31aa(0xa1f)][_0x1a31aa(0x711)]('hidden'),quizResultsView[_0x1a31aa(0xa1f)][_0x1a31aa(0x711)](_0x1a31aa(0x9d8));break;case'student':studentView[_0x1a31aa(0xa1f)][_0x1a31aa(0x711)](_0x1a31aa(0x9d8)),studentInitialView[_0x1a31aa(0xa1f)][_0x1a31aa(0x711)]('hidden');break;case _0x1a31aa(0x934):liveGameView[_0x1a31aa(0xa1f)][_0x1a31aa(0x711)]('hidden');break;case'student-team-join':studentView[_0x1a31aa(0xa1f)][_0x1a31aa(0x711)](_0x1a31aa(0x9d8));if(_0x3c07d7)_0x3c07d7[_0x1a31aa(0xa1f)][_0x1a31aa(0x711)](_0x1a31aa(0x9d8));break;case'student-progress':studentView['classList'][_0x1a31aa(0x711)]('hidden');if(_0x492ef4)_0x492ef4[_0x1a31aa(0xa1f)][_0x1a31aa(0x711)](_0x1a31aa(0x9d8));break;default:studentView[_0x1a31aa(0xa1f)]['remove'](_0x1a31aa(0x9d8)),studentInitialView['classList'][_0x1a31aa(0x711)]('hidden');break;}}function showJoinGameView(){const _0x167535=_0x4ce511;studentInitialView['classList'][_0x167535(0x7e0)](_0x167535(0x9d8)),studentJoinGameView['classList'][_0x167535(0x711)](_0x167535(0x9d8));}async function handleSaveVisibilitySettings(){const _0x58f4fd=_0x4ce511;if(!currentProjectId)return;const _0x572ece=doc(db,_0x58f4fd(0xcaf)+appId+_0x58f4fd(0x74c),currentProjectId);try{await updateDoc(_0x572ece,{'settings.showInStudentDashboard':document['getElementById'](_0x58f4fd(0x5b1))[_0x58f4fd(0x375)],'settings.isPasscodeEnabled':document[_0x58f4fd(0xbeb)](_0x58f4fd(0xdd4))['checked'],'settings.passcode':document[_0x58f4fd(0xbeb)](_0x58f4fd(0xeb6))['value'][_0x58f4fd(0x88c)]()}),showMessage(_0x58f4fd(0x5f5));}catch(_0x5dfd9e){console[_0x58f4fd(0xd74)](_0x58f4fd(0x36c),_0x5dfd9e),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x5418d1=_0x4ce511,_0x3c5b78=document[_0x5418d1(0xbeb)]('scan-text-image-input'),_0x223948=document[_0x5418d1(0xbeb)]('scan-text-image-btn');_0x3c5b78&&_0x223948&&(_0x223948[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>_0x3c5b78[_0x5418d1(0xc64)]()),_0x3c5b78[_0x5418d1(0x79a)](_0x5418d1(0xb5d),_0x2c9bd2=>{const _0x13a1a9=_0x5418d1;_0x2c9bd2[_0x13a1a9(0x544)][_0x13a1a9(0x200)][_0x13a1a9(0x81c)]>0x0&&handleScanImageForText(_0x2c9bd2[_0x13a1a9(0x544)]['files'][0x0]);}));const _0x2334f5=document[_0x5418d1(0xbeb)]('wager-all-in-btn');_0x2334f5&&_0x2334f5['addEventListener'](_0x5418d1(0xc64),()=>{const _0x3451a0=_0x5418d1,_0xd447d1=document['getElementById'](_0x3451a0(0xe70)),_0x4e57b8=document[_0x3451a0(0xbeb)](_0x3451a0(0x1d2));_0xd447d1&&(_0xd447d1[_0x3451a0(0xc07)]=_0xd447d1[_0x3451a0(0xddc)],_0x4e57b8&&(_0x4e57b8[_0x3451a0(0x211)]=_0xd447d1[_0x3451a0(0xc07)],_0x4e57b8[_0x3451a0(0xa1f)][_0x3451a0(0x711)](_0x3451a0(0xb08)),void _0x4e57b8[_0x3451a0(0x9a0)],_0x4e57b8[_0x3451a0(0xa1f)]['add']('transform',_0x3451a0(0xd55),_0x3451a0(0xb08),'text-red-600'),setTimeout(()=>_0x4e57b8[_0x3451a0(0xa1f)][_0x3451a0(0x711)]('scale-125',_0x3451a0(0x32e)),0xc8)));});document[_0x5418d1(0xbeb)](_0x5418d1(0xdb9))[_0x5418d1(0x79a)]('click',()=>{const _0x213ad3=_0x5418d1;document[_0x213ad3(0xbeb)](_0x213ad3(0x5c3))[_0x213ad3(0xa1f)]['add']('hidden');}),document[_0x5418d1(0xbeb)]('confirm-wager-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x20848b=_0x5418d1,_0x419eca=document['getElementById']('wager-modal'),_0x4af649=document[_0x20848b(0xbeb)](_0x20848b(0xad9)),_0x4407f8=document[_0x20848b(0xbeb)](_0x20848b(0xe70))[_0x20848b(0xc07)],_0x3b515e=_0x4af649[_0x20848b(0x6b1)][_0x20848b(0xc30)],_0x1c3f89=JSON[_0x20848b(0x6d2)](_0x4af649[_0x20848b(0x6b1)][_0x20848b(0x5f4)]),_0x58deac=JSON[_0x20848b(0x6d2)](_0x4af649[_0x20848b(0x6b1)]['gameData']),_0x3cb9e5=_0x4af649[_0x20848b(0x6b1)][_0x20848b(0x773)];_0x419eca[_0x20848b(0xa1f)][_0x20848b(0x7e0)]('hidden'),handleSyncAnswerSubmit(_0x3b515e,_0x1c3f89,_0x58deac,_0x3cb9e5,![],_0x4407f8);}),document[_0x5418d1(0xb02)](_0x5418d1(0x7c9))[_0x5418d1(0xbd3)](_0x3c65d2=>{const _0x55a61a=_0x5418d1;_0x3c65d2[_0x55a61a(0x79a)](_0x55a61a(0xb5d),_0x405657=>{const _0x256c01=_0x55a61a,_0x4c45d3=document['getElementById']('anon-settings-container');_0x405657[_0x256c01(0x544)]['value']===_0x256c01(0xe34)?_0x4c45d3['classList'][_0x256c01(0x711)](_0x256c01(0x9d8)):_0x4c45d3[_0x256c01(0xa1f)][_0x256c01(0x7e0)](_0x256c01(0x9d8));});}),document[_0x5418d1(0xbeb)]('sync-timer-enable-checkbox')[_0x5418d1(0x79a)]('change',_0x29c19e=>{const _0xce2006=_0x5418d1;document[_0xce2006(0xbeb)](_0xce2006(0xc6b))[_0xce2006(0xa1f)][_0xce2006(0x4c3)](_0xce2006(0x9d8),!_0x29c19e[_0xce2006(0x544)][_0xce2006(0x375)]);});const _0x5e79a8=document[_0x5418d1(0xbeb)](_0x5418d1(0x507)),_0x1ed452=document[_0x5418d1(0xbeb)]('confidence-modal');_0x5e79a8&&_0x1ed452&&_0x5e79a8[_0x5418d1(0x79a)]('click',()=>{const _0x337463=_0x5418d1;_0x1ed452[_0x337463(0xa1f)][_0x337463(0x7e0)](_0x337463(0x9d8)),_0x1ed452['dataset'][_0x337463(0xa69)]='';});const _0x1bdd14=document['getElementById']('dim-overlay');_0x1bdd14&&(_0x1bdd14[_0x5418d1(0x79a)](_0x5418d1(0xaac),wakeUpScreen),_0x1bdd14[_0x5418d1(0x79a)]('touchstart',wakeUpScreen));document[_0x5418d1(0xbeb)](_0x5418d1(0x6e3))[_0x5418d1(0x79a)](_0x5418d1(0xc64),async()=>{const _0x5bce4d=_0x5418d1;if(!currentBlueprintProjectId)return;const _0x275a95=document[_0x5bce4d(0xbeb)](_0x5bce4d(0xd71))[_0x5bce4d(0xc07)][_0x5bce4d(0x88c)](),_0x3797cd=doc(db,_0x5bce4d(0xcaf)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x3797cd,{'referenceFileUrl':_0x275a95}),showMessage(_0x5bce4d(0xc5a));}catch(_0xd38967){console[_0x5bce4d(0xd74)](_0x5bce4d(0xd2a),_0xd38967),showMessage(_0x5bce4d(0xe5b));}}),document[_0x5418d1(0xbeb)](_0x5418d1(0x5a2))[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleAddParallelShortcutTab),document[_0x5418d1(0xbeb)](_0x5418d1(0x7b8))[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x5685d5=>{const _0xa02a59=_0x5418d1;_0x5685d5[_0xa02a59(0x544)][_0xa02a59(0x253)]('#open-additional-parallel-shortcuts-btn')&&(activeParallelShortcutTabId=_0xa02a59(0x408),renderAdditionalParallelShortcutsModal(),document['getElementById'](_0xa02a59(0x364))[_0xa02a59(0xa1f)][_0xa02a59(0x711)](_0xa02a59(0x9d8)));}),document[_0x5418d1(0xbeb)]('close-additional-parallel-shortcuts-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x2fcd83=_0x5418d1;document[_0x2fcd83(0xbeb)](_0x2fcd83(0x364))[_0x2fcd83(0xa1f)][_0x2fcd83(0x7e0)]('hidden');}),document[_0x5418d1(0x79a)]('click',_0x14dcc0=>{const _0x412f12=_0x5418d1;!_0x14dcc0[_0x412f12(0x544)]['closest'](_0x412f12(0x473))&&document[_0x412f12(0xb02)]('.move-parallel-shortcut-dropdown')[_0x412f12(0xbd3)](_0x4a9166=>_0x4a9166['classList'][_0x412f12(0x7e0)](_0x412f12(0x9d8)));}),document[_0x5418d1(0xbeb)]('add-file-shortcut-tab-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleAddFileShortcutTab),document[_0x5418d1(0xbeb)](_0x5418d1(0x7e9))[_0x5418d1(0x79a)]('click',_0x169522=>{const _0x17d292=_0x5418d1;_0x169522[_0x17d292(0x544)][_0x17d292(0x253)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId=_0x17d292(0x408),renderAdditionalFileShortcutsModal(),document[_0x17d292(0xbeb)](_0x17d292(0xbd7))['classList'][_0x17d292(0x711)](_0x17d292(0x9d8)));}),document[_0x5418d1(0xbeb)](_0x5418d1(0xcba))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x1b2ef3=_0x5418d1;document[_0x1b2ef3(0xbeb)](_0x1b2ef3(0xbd7))['classList']['add']('hidden');}),document['addEventListener'](_0x5418d1(0xc64),_0x16cb4d=>{const _0x15f039=_0x5418d1;!_0x16cb4d['target']['closest']('.group\x5c/dropdown-file')&&document[_0x15f039(0xb02)]('.move-file-shortcut-dropdown')[_0x15f039(0xbd3)](_0x7eac4d=>_0x7eac4d[_0x15f039(0xa1f)][_0x15f039(0x7e0)]('hidden'));}),document[_0x5418d1(0xbeb)]('add-shortcut-tab-btn')['addEventListener'](_0x5418d1(0xc64),handleAddShortcutTab),document[_0x5418d1(0xbeb)](_0x5418d1(0x80d))['addEventListener'](_0x5418d1(0xc64),_0x47516b=>{const _0x5d068b=_0x5418d1,_0x53f9a8=_0x47516b[_0x5d068b(0x544)]['closest'](_0x5d068b(0xe38)),_0x53857e=_0x47516b['target'][_0x5d068b(0x253)](_0x5d068b(0x7a6)),_0x53437a=_0x47516b['target'][_0x5d068b(0x253)](_0x5d068b(0xc55));if(_0x53857e)openParallelTestShortcutEditor(_0x53857e[_0x5d068b(0x6b1)]['id']);else{if(_0x53437a){const _0x30d49e=_0x53437a[_0x5d068b(0x6b1)]['id'];showConfirmation(_0x5d068b(0x997),async()=>{const _0x2f442e=_0x5d068b,_0x41bfa3=parallelTestShortcuts['filter'](_0x76def=>_0x76def['id']!==_0x30d49e),_0x4cc144=doc(db,_0x2f442e(0xc3f),'parallelTestShortcutsConfig');await setDoc(_0x4cc144,{'shortcuts':_0x41bfa3},{'merge':!![]});});}else _0x53f9a8&&handleParallelTestShortcutClick(_0x53f9a8[_0x5d068b(0x6b1)]['id']);}}),document['getElementById'](_0x5418d1(0x9b8))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>openParallelTestShortcutEditor(null)),document[_0x5418d1(0xbeb)](_0x5418d1(0x3e5))['addEventListener'](_0x5418d1(0xc64),()=>{const _0x18dc90=_0x5418d1;document[_0x18dc90(0xbeb)](_0x18dc90(0xb20))['classList']['add']('hidden');}),document[_0x5418d1(0xbeb)](_0x5418d1(0x639))[_0x5418d1(0x79a)]('click',saveParallelTestShortcutChanges),document['getElementById'](_0x5418d1(0x7b8))[_0x5418d1(0x79a)]('click',_0x57b8a2=>{const _0x3c9a5e=_0x5418d1;_0x57b8a2[_0x3c9a5e(0x544)]['closest'](_0x3c9a5e(0x7ca))&&document[_0x3c9a5e(0xbeb)](_0x3c9a5e(0x364))['classList'][_0x3c9a5e(0x711)](_0x3c9a5e(0x9d8));}),document['getElementById'](_0x5418d1(0x86c))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x4a7863=_0x5418d1;document[_0x4a7863(0xbeb)]('additional-parallel-shortcuts-modal')[_0x4a7863(0xa1f)]['add'](_0x4a7863(0x9d8));}),document[_0x5418d1(0xbeb)]('additional-parallel-shortcuts-list')[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x5a0780=>{const _0x99213c=_0x5418d1,_0xa7ca90=document['getElementById'](_0x99213c(0x364)),_0x50b96f=_0x5a0780['target'][_0x99213c(0x253)]('.use-hidden-parallel-shortcut-btn'),_0x538eb6=_0x5a0780[_0x99213c(0x544)][_0x99213c(0x253)](_0x99213c(0x84e)),_0x3bf9fb=_0x5a0780[_0x99213c(0x544)][_0x99213c(0x253)]('.delete-hidden-parallel-shortcut-btn');if(_0x50b96f)_0xa7ca90[_0x99213c(0xa1f)][_0x99213c(0x7e0)](_0x99213c(0x9d8)),handleParallelTestShortcutClick(_0x50b96f[_0x99213c(0x6b1)]['id']);else{if(_0x538eb6)_0xa7ca90[_0x99213c(0xa1f)][_0x99213c(0x7e0)](_0x99213c(0x9d8)),openParallelTestShortcutEditor(_0x538eb6[_0x99213c(0x6b1)]['id']);else{if(_0x3bf9fb){const _0x16651b=_0x3bf9fb[_0x99213c(0x6b1)]['id'];showConfirmation(_0x99213c(0x997),async()=>{const _0x1a2e79=_0x99213c,_0x341c46=parallelTestShortcuts[_0x1a2e79(0x395)](_0x1b735c=>_0x1b735c['id']!==_0x16651b),_0x5d0ef0=doc(db,_0x1a2e79(0xc3f),_0x1a2e79(0x1cf));await setDoc(_0x5d0ef0,{'shortcuts':_0x341c46},{'merge':!![]});});}}}}),document['getElementById'](_0x5418d1(0xb40))[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x191539=>{const _0x39d108=_0x5418d1,_0x3451ed=_0x191539[_0x39d108(0x544)][_0x39d108(0x253)]('.file-shortcut-btn'),_0x454374=_0x191539[_0x39d108(0x544)][_0x39d108(0x253)](_0x39d108(0xcf9)),_0x1deb3e=_0x191539[_0x39d108(0x544)]['closest'](_0x39d108(0x4b8));if(_0x454374)openFileShortcutEditor(_0x454374[_0x39d108(0x6b1)]['id']);else{if(_0x1deb3e){const _0x16060d=_0x1deb3e[_0x39d108(0x6b1)]['id'];showConfirmation(_0x39d108(0x997),async()=>{const _0x23f53f=_0x39d108,_0x5a2da7=fileShortcuts[_0x23f53f(0x395)](_0x15c0e3=>_0x15c0e3['id']!==_0x16060d),_0x273fda=doc(db,'globalSettings',_0x23f53f(0xa3c));await setDoc(_0x273fda,{'shortcuts':_0x5a2da7},{'merge':!![]});});}else _0x3451ed&&handleFileShortcutClick(_0x3451ed[_0x39d108(0x6b1)]['id']);}}),document[_0x5418d1(0xbeb)](_0x5418d1(0x245))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>openFileShortcutEditor(null)),document[_0x5418d1(0xbeb)](_0x5418d1(0xf13))['addEventListener'](_0x5418d1(0xc64),()=>{const _0x1c06b0=_0x5418d1;document[_0x1c06b0(0xbeb)](_0x1c06b0(0x75d))[_0x1c06b0(0xa1f)][_0x1c06b0(0x7e0)]('hidden');}),document[_0x5418d1(0xbeb)](_0x5418d1(0x604))[_0x5418d1(0x79a)](_0x5418d1(0xc64),saveFileShortcutChanges),document[_0x5418d1(0xbeb)]('file-input-area')['addEventListener'](_0x5418d1(0xc64),_0x3bdbdf=>{const _0x2a619c=_0x5418d1;_0x3bdbdf[_0x2a619c(0x544)][_0x2a619c(0x253)]('#open-additional-file-shortcuts-btn')&&document[_0x2a619c(0xbeb)](_0x2a619c(0xbd7))[_0x2a619c(0xa1f)]['remove'](_0x2a619c(0x9d8));}),document[_0x5418d1(0xbeb)](_0x5418d1(0xcba))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x50b5f7=_0x5418d1;document['getElementById'](_0x50b5f7(0xbd7))[_0x50b5f7(0xa1f)]['add'](_0x50b5f7(0x9d8));}),document[_0x5418d1(0xbeb)](_0x5418d1(0x975))[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x4d0807=>{const _0x13b494=_0x5418d1,_0x5b4b57=document[_0x13b494(0xbeb)]('additional-file-shortcuts-modal'),_0x25c3bd=_0x4d0807[_0x13b494(0x544)][_0x13b494(0x253)](_0x13b494(0xcad)),_0x4c6bc7=_0x4d0807[_0x13b494(0x544)]['closest']('.edit-hidden-file-shortcut-btn'),_0x44d55f=_0x4d0807[_0x13b494(0x544)][_0x13b494(0x253)](_0x13b494(0x75e));if(_0x25c3bd)_0x5b4b57[_0x13b494(0xa1f)][_0x13b494(0x7e0)]('hidden'),handleFileShortcutClick(_0x25c3bd['dataset']['id']);else{if(_0x4c6bc7)_0x5b4b57[_0x13b494(0xa1f)]['add'](_0x13b494(0x9d8)),openFileShortcutEditor(_0x4c6bc7[_0x13b494(0x6b1)]['id']);else{if(_0x44d55f){const _0x1d8e21=_0x44d55f['dataset']['id'];showConfirmation(_0x13b494(0x997),async()=>{const _0xa52c95=_0x13b494,_0x183e81=fileShortcuts[_0xa52c95(0x395)](_0x5ac4aa=>_0x5ac4aa['id']!==_0x1d8e21),_0xff0e29=doc(db,_0xa52c95(0xc3f),'fileShortcutsConfig');await setDoc(_0xff0e29,{'shortcuts':_0x183e81},{'merge':!![]});});}}}}),document[_0x5418d1(0xbeb)]('blueprint-input-area')[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x342cc1=>{const _0x4822c8=_0x5418d1;_0x342cc1[_0x4822c8(0x544)][_0x4822c8(0x253)](_0x4822c8(0xb1c))&&(activeShortcutTabId=_0x4822c8(0x408),renderAdditionalShortcutsModal(),document[_0x4822c8(0xbeb)]('additional-shortcuts-modal')[_0x4822c8(0xa1f)][_0x4822c8(0x711)](_0x4822c8(0x9d8)));}),document[_0x5418d1(0xbeb)]('close-additional-shortcuts-btn')[_0x5418d1(0x79a)]('click',()=>{const _0x3831b0=_0x5418d1;document[_0x3831b0(0xbeb)]('additional-shortcuts-modal')[_0x3831b0(0xa1f)]['add'](_0x3831b0(0x9d8));}),document['getElementById']('additional-shortcuts-list')['addEventListener'](_0x5418d1(0xc64),_0x1fe7ca=>{const _0x46179e=_0x5418d1,_0x33ee40=_0x1fe7ca[_0x46179e(0x544)]['closest'](_0x46179e(0xd33)),_0x233641=_0x1fe7ca[_0x46179e(0x544)][_0x46179e(0x253)](_0x46179e(0x28f)),_0x5ddf4a=_0x1fe7ca[_0x46179e(0x544)][_0x46179e(0x253)](_0x46179e(0xd8d)),_0x319ff1=document[_0x46179e(0xbeb)]('additional-shortcuts-modal');if(_0x33ee40)_0x319ff1[_0x46179e(0xa1f)]['add'](_0x46179e(0x9d8)),handleShortcutClick(_0x33ee40[_0x46179e(0x6b1)]['id']);else{if(_0x233641)_0x319ff1['classList'][_0x46179e(0x7e0)]('hidden'),openShortcutEditor(_0x233641['dataset']['id']);else{if(_0x5ddf4a){const _0x492504=_0x5ddf4a[_0x46179e(0x6b1)]['id'],_0x5b21ec=blueprintShortcuts[_0x46179e(0x340)](_0xdc9126=>_0xdc9126['id']===_0x492504)?.[_0x46179e(0x631)];showConfirmation(_0x46179e(0xd47)+_0x5b21ec+'\x22?',async()=>{const _0x599f1a=_0x46179e,_0x413eb1=blueprintShortcuts[_0x599f1a(0x395)](_0x22dc2f=>_0x22dc2f['id']!==_0x492504);try{const _0x50c8c1=doc(db,_0x599f1a(0xc3f),'dashboardConfig');await setDoc(_0x50c8c1,{'blueprintShortcuts':_0x413eb1},{'merge':!![]});}catch(_0x454a5a){console[_0x599f1a(0xd74)](_0x599f1a(0xd63),_0x454a5a);}});}}}}),document[_0x5418d1(0xbeb)](_0x5418d1(0xbee))[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x57db92=>{const _0xb0e357=_0x5418d1,_0x2cb175=_0x57db92['target'][_0xb0e357(0x253)](_0xb0e357(0xb0b)),_0x3f30a3=_0x57db92[_0xb0e357(0x544)][_0xb0e357(0x253)](_0xb0e357(0xbe7)),_0x36ed66=_0x57db92[_0xb0e357(0x544)][_0xb0e357(0x253)](_0xb0e357(0xe31));if(_0x3f30a3)openShortcutEditor(_0x3f30a3[_0xb0e357(0x6b1)]['id']);else{if(_0x36ed66){const _0x5395e1=_0x36ed66[_0xb0e357(0x6b1)]['id'],_0x578538=blueprintShortcuts[_0xb0e357(0x340)](_0x161214=>_0x161214['id']===_0x5395e1)?.[_0xb0e357(0x631)];showConfirmation(_0xb0e357(0xd47)+_0x578538+'\x22?',async()=>{const _0x504ee4=_0xb0e357,_0x50acaf=blueprintShortcuts[_0x504ee4(0x395)](_0x53fb11=>_0x53fb11['id']!==_0x5395e1);try{const _0x57823c=doc(db,_0x504ee4(0xc3f),'dashboardConfig');await setDoc(_0x57823c,{'blueprintShortcuts':_0x50acaf},{'merge':!![]});}catch(_0x1c959f){console[_0x504ee4(0xd74)]('Error\x20deleting\x20shortcut:',_0x1c959f);}});}else _0x2cb175&&handleShortcutClick(_0x2cb175[_0xb0e357(0x6b1)]['id']);}}),document[_0x5418d1(0xbeb)](_0x5418d1(0xd4a))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>openShortcutEditor(null)),document[_0x5418d1(0xbeb)](_0x5418d1(0xbde))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x26bdc1=_0x5418d1;document[_0x26bdc1(0xbeb)](_0x26bdc1(0x3a0))[_0x26bdc1(0xa1f)][_0x26bdc1(0x7e0)](_0x26bdc1(0x9d8));}),document['getElementById'](_0x5418d1(0xd0f))[_0x5418d1(0x79a)](_0x5418d1(0xc64),saveShortcutChanges),document[_0x5418d1(0xbeb)](_0x5418d1(0x855))['addEventListener'](_0x5418d1(0xc64),async()=>{const _0x645203=_0x5418d1,_0x449c11=document[_0x645203(0xbeb)](_0x645203(0x1c5)),_0x436446=document[_0x645203(0xbeb)](_0x645203(0x1ff));_0x449c11[_0x645203(0x200)][_0x645203(0x81c)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x449c11[_0x645203(0x200)][0x0],_0x436446[_0x645203(0x200)][0x0]||null):showMessage(_0x645203(0x4ab));}),document['getElementById'](_0x5418d1(0x58a))['addEventListener'](_0x5418d1(0xc64),async _0x221c44=>{const _0x55a73e=_0x5418d1,_0x5ab007=document[_0x55a73e(0xbeb)](_0x55a73e(0x58a)),_0x1b46a2=_0x221c44[_0x55a73e(0x544)][_0x55a73e(0x253)](_0x55a73e(0x9f0)),_0x36dd56=_0x221c44[_0x55a73e(0x544)][_0x55a73e(0x253)](_0x55a73e(0x388)),_0x32c542=_0x221c44['target'][_0x55a73e(0x253)]('.bp-present-btn'),_0x17efea=_0x221c44[_0x55a73e(0x544)][_0x55a73e(0x253)](_0x55a73e(0x8de)),_0x44860c=_0x221c44[_0x55a73e(0x544)]['closest'](_0x55a73e(0x54d)),_0x4788e5=_0x221c44[_0x55a73e(0x544)][_0x55a73e(0x253)](_0x55a73e(0xb2e));if(_0x1b46a2){cameFromBlueprint=!![];const _0x2ae9f9=_0x1b46a2['dataset']['quizId'];showQuizDetailView(_0x2ae9f9),_0x5ab007['classList']['add']('hidden');}else{if(_0x36dd56){const _0x912e49=_0x36dd56[_0x55a73e(0x6b1)][_0x55a73e(0x835)],_0x317b85=_0x36dd56['dataset'][_0x55a73e(0xc9b)],_0xd1c79a=allQuizzesGlobal[_0x55a73e(0x340)](_0x4481c6=>_0x4481c6['id']===_0x317b85),_0x436f7a=_0xd1c79a?_0xd1c79a[_0x55a73e(0x8ba)]:_0x55a73e(0x2a8);showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x436f7a+_0x55a73e(0xb44),async()=>{const _0x4be620=_0x55a73e;try{const _0x1d8142=doc(db,_0x4be620(0xcaf)+appId+_0x4be620(0xef7),currentBlueprintProjectId);await updateDoc(_0x1d8142,{[_0x4be620(0xba5)+_0x912e49+_0x4be620(0x7d2)]:arrayRemove(_0x317b85)}),showMessage(_0x4be620(0xa87)),openTopicQuizBank(_0x912e49),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x190854){console[_0x4be620(0xd74)]('Error\x20unlinking\x20quiz:',_0x190854),showMessage(_0x4be620(0x263));}});}else{if(_0x32c542){cameFromBlueprint=!![];const _0x30d1d8=_0x32c542[_0x55a73e(0x6b1)][_0x55a73e(0xc9b)],_0x1f7e22=allQuizzesGlobal['find'](_0x178f22=>_0x178f22['id']===_0x30d1d8);_0x1f7e22&&(startPresentation(_0x1f7e22),_0x5ab007[_0x55a73e(0xa1f)][_0x55a73e(0x7e0)]('hidden'));}else{if(_0x17efea){cameFromBlueprint=!![];const _0x5557a2=_0x17efea[_0x55a73e(0x6b1)][_0x55a73e(0xc9b)],_0x2bcd5a=allQuizzesGlobal['find'](_0x1290ce=>_0x1290ce['id']===_0x5557a2);_0x2bcd5a&&(currentQuizData=_0x2bcd5a,startAdminTest(),_0x5ab007[_0x55a73e(0xa1f)][_0x55a73e(0x7e0)](_0x55a73e(0x9d8)));}else{if(_0x44860c)cameFromBlueprint=!![],handleStartLiveRace(_0x44860c['dataset'][_0x55a73e(0xc9b)]),_0x5ab007[_0x55a73e(0xa1f)][_0x55a73e(0x7e0)](_0x55a73e(0x9d8));else{if(_0x4788e5){cameFromBlueprint=!![];const _0x6b567c=_0x4788e5[_0x55a73e(0x6b1)][_0x55a73e(0xc9b)],_0x9d451e=_0x4788e5[_0x55a73e(0x6b1)]['mode'],_0x53c5c3=allQuizzesGlobal[_0x55a73e(0x340)](_0xa32c1e=>_0xa32c1e['id']===_0x6b567c);_0x53c5c3&&(showGameStartConfirmationModal(_0x6b567c,_0x9d451e,_0x53c5c3[_0x55a73e(0x8ba)]),_0x5ab007['classList']['add']('hidden'));}}}}}}}),document[_0x5418d1(0xbeb)](_0x5418d1(0x65c))['addEventListener'](_0x5418d1(0xc64),()=>{const _0x146410=_0x5418d1;document[_0x146410(0xbeb)](_0x146410(0xf18))[_0x146410(0xa1f)][_0x146410(0x711)](_0x146410(0x9d8)),document[_0x146410(0xbeb)](_0x146410(0x7ae))['value']='',document['getElementById']('manual-bp-grade-level')[_0x146410(0xc07)]='',document[_0x146410(0xbeb)](_0x146410(0xcd4))['value']='';}),document[_0x5418d1(0xbeb)]('cancel-manual-bp-btn')[_0x5418d1(0x79a)]('click',()=>{const _0x313e59=_0x5418d1;document[_0x313e59(0xbeb)](_0x313e59(0xf18))[_0x313e59(0xa1f)][_0x313e59(0x7e0)]('hidden');}),document[_0x5418d1(0xbeb)](_0x5418d1(0x690))[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleManualBlueprintSave),document[_0x5418d1(0xbeb)](_0x5418d1(0xbbf))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>document[_0x5418d1(0xbeb)](_0x5418d1(0xf26))['classList'][_0x5418d1(0x7e0)](_0x5418d1(0x9d8))),document[_0x5418d1(0xbeb)](_0x5418d1(0xa10))[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleSaveBlueprintPageSettings),document['getElementById']('bp-quiz-settings-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),openBlueprintQuizSettings),document['getElementById']('save-blueprint-as-project-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),saveBlueprintProject),document[_0x5418d1(0xbeb)]('open-blueprint-projects-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),showBlueprintProjects),document[_0x5418d1(0xbeb)](_0x5418d1(0xf52))['addEventListener'](_0x5418d1(0xc64),()=>{const _0x292bd2=_0x5418d1;document[_0x292bd2(0xbeb)](_0x292bd2(0x836))['classList'][_0x292bd2(0x7e0)]('hidden');}),document[_0x5418d1(0xbeb)]('blueprint-project-list')[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x442f16=>{const _0x59ea63=_0x5418d1,_0x5a7e80=_0x442f16[_0x59ea63(0x544)][_0x59ea63(0x253)](_0x59ea63(0xc90)),_0x196bea=_0x442f16[_0x59ea63(0x544)]['closest'](_0x59ea63(0xd37));if(_0x5a7e80)displayBlueprintProjectManager(_0x5a7e80['dataset']['id']);else _0x196bea&&handleDeepDeleteBlueprintProject(_0x196bea[_0x59ea63(0x6b1)]['id']);}),document[_0x5418d1(0xbeb)](_0x5418d1(0x6f4))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x139f38=_0x5418d1;currentBlueprintProjectId=null,currentProjectId=null,document[_0x139f38(0xbeb)]('blueprint-project-manager-view')[_0x139f38(0xa1f)][_0x139f38(0x7e0)](_0x139f38(0x9d8)),showView(_0x139f38(0x5cd));}),document[_0x5418d1(0xbeb)](_0x5418d1(0xdd2))[_0x5418d1(0x79a)](_0x5418d1(0xc64),addTopicToProject),document[_0x5418d1(0xbeb)](_0x5418d1(0x775))[_0x5418d1(0x79a)](_0x5418d1(0xc64),async _0x21501b=>{const _0x17cb5e=_0x5418d1,_0x7613ac=_0x21501b[_0x17cb5e(0x544)][_0x17cb5e(0x253)](_0x17cb5e(0x7bd));if(!_0x7613ac)return;const _0x38d631=_0x7613ac['dataset'][_0x17cb5e(0x835)],_0x367f9c=_0x21501b[_0x17cb5e(0x544)][_0x17cb5e(0x253)](_0x17cb5e(0x877)),_0x5b7eed=_0x21501b[_0x17cb5e(0x544)][_0x17cb5e(0x253)](_0x17cb5e(0xe47)),_0x1cbfdd=_0x21501b[_0x17cb5e(0x544)][_0x17cb5e(0x253)](_0x17cb5e(0xc20)),_0x10b7f8=_0x21501b['target'][_0x17cb5e(0x253)]('.bp-open-topic-bank-btn'),_0x4ab139=_0x21501b['target']['closest'](_0x17cb5e(0x6f6)),_0x5aa957=_0x21501b[_0x17cb5e(0x544)]['closest'](_0x17cb5e(0x37e)),_0x40fce4=_0x21501b[_0x17cb5e(0x544)][_0x17cb5e(0x253)](_0x17cb5e(0xa8d)),_0x1b4362=_0x21501b[_0x17cb5e(0x544)]['closest'](_0x17cb5e(0x52c)),_0x362ac0=_0x545e04=>{const _0x4ad754=_0x17cb5e,_0x4b5c6b=_0x545e04[_0x4ad754(0x2d0)](_0x4ad754(0x217))[_0x4ad754(0x211)][_0x4ad754(0x88c)](),_0x15708a=_0x545e04[_0x4ad754(0x253)](_0x4ad754(0x289))['previousElementSibling'],_0x4241b5=_0x15708a?_0x15708a['textContent'][_0x4ad754(0x88c)]():'';return _0x4241b5+':\x20'+_0x4b5c6b;};if(_0x10b7f8)openTopicQuizBank(_0x38d631);else{if(_0x367f9c){const _0x468228=_0x362ac0(_0x7613ac);selectProjectAndGenerateBlueprintQuiz(_0x468228,null,_0x38d631,!![]);}else{if(_0x5b7eed){const _0x2a3254=_0x362ac0(_0x7613ac);try{const _0x238375=doc(db,_0x17cb5e(0xcaf)+appId+_0x17cb5e(0xa7f)+currentBlueprintProjectId+_0x17cb5e(0x50f),_0x38d631),_0x901546=await getDoc(_0x238375);if(_0x901546['exists']()){const _0x3d1cb0=_0x901546[_0x17cb5e(0xbfb)]()[_0x17cb5e(0x59c)],_0xb5e034=document[_0x17cb5e(0x38c)](_0x17cb5e(0x3ae)),_0x1d6883=_0x512382=>{const _0x1eaded=_0x17cb5e;if(!_0x512382)return'';return _0xb5e034[_0x1eaded(0x28a)]=_0x512382,_0xb5e034[_0x1eaded(0x211)]||_0xb5e034[_0x1eaded(0xf61)]||'';},_0x5b8e8c=(_0x1d6883(_0x3d1cb0[_0x17cb5e(0xe96)])+'\x20'+_0x1d6883(_0x3d1cb0[_0x17cb5e(0x640)])+'\x20'+_0x1d6883(_0x3d1cb0['summary']))[_0x17cb5e(0x88c)]();selectProjectAndGenerateBlueprintQuiz(_0x2a3254,_0x5b8e8c,_0x38d631,![]);}else showMessage(_0x17cb5e(0x38b));}catch(_0x211f29){console[_0x17cb5e(0xd74)]('Error\x20preparing\x20content\x20quiz:',_0x211f29),showMessage(_0x17cb5e(0xaee));}}else{if(_0x1cbfdd){const _0x5e3537=_0x362ac0(_0x7613ac);selectProjectAndGenerateBlueprintQuiz(_0x5e3537,null,_0x38d631,![]);}else{if(_0x4ab139){const _0x1eaad0=doc(db,_0x17cb5e(0xcaf)+appId+_0x17cb5e(0xef7),currentBlueprintProjectId),_0x365004=await getDoc(_0x1eaad0);if(_0x365004[_0x17cb5e(0x358)]()){const _0x51a358=_0x365004[_0x17cb5e(0xbfb)](),_0x375e91=_0x51a358['topics'][_0x38d631];if(_0x375e91&&_0x375e91[_0x17cb5e(0x3a7)]===_0x17cb5e(0x3d2))try{const _0x5a23e3=doc(db,'artifacts/'+appId+_0x17cb5e(0xa7f)+currentBlueprintProjectId+_0x17cb5e(0x50f),_0x38d631),_0xf012d5=await getDoc(_0x5a23e3);if(_0xf012d5[_0x17cb5e(0x358)]()){const _0x2fcd04=_0xf012d5[_0x17cb5e(0xbfb)]()[_0x17cb5e(0x59c)];document[_0x17cb5e(0xbeb)](_0x17cb5e(0xa47))['textContent']=_0x17cb5e(0x4d0)+_0x362ac0(_0x7613ac),document[_0x17cb5e(0xbeb)](_0x17cb5e(0x800))[_0x17cb5e(0x28a)]=_0x2fcd04['point'],document[_0x17cb5e(0xbeb)](_0x17cb5e(0x1d6))[_0x17cb5e(0x28a)]=_0x2fcd04['memory'],document[_0x17cb5e(0xbeb)](_0x17cb5e(0xd9b))[_0x17cb5e(0x28a)]=_0x2fcd04[_0x17cb5e(0x891)];const _0x19f371=document[_0x17cb5e(0xbeb)](_0x17cb5e(0x591));_0x2fcd04[_0x17cb5e(0x486)]?(currentApplicationData=_0x2fcd04[_0x17cb5e(0x486)],_0x19f371[_0x17cb5e(0x28a)]=currentApplicationData[_0x17cb5e(0xa15)]((_0x1c3952,_0x186dd6)=>_0x17cb5e(0x87d)+(_0x186dd6+0x1)+'.\x20'+marked[_0x17cb5e(0x9c5)](_0x1c3952[_0x17cb5e(0x5f4)])+_0x17cb5e(0xf05)+_0x186dd6+_0x17cb5e(0x404)+_0x1c3952[_0x17cb5e(0xdf0)]['map']((_0x4e3ebf,_0x46359d)=>_0x17cb5e(0xd18)+_0x186dd6+',\x20'+_0x46359d+_0x17cb5e(0x629)+String['fromCharCode'](0x61+_0x46359d)+'.\x20'+marked['parseInline'](_0x4e3ebf)+'</button>')[_0x17cb5e(0x919)]('')+'</div></div>')[_0x17cb5e(0x919)]('')):(currentApplicationData=[],_0x19f371[_0x17cb5e(0x28a)]=_0x2fcd04[_0x17cb5e(0x303)]||_0x2fcd04[_0x17cb5e(0x4aa)]),document[_0x17cb5e(0xbeb)](_0x17cb5e(0x257))['classList']['add'](_0x17cb5e(0x9d8)),document[_0x17cb5e(0xbeb)](_0x17cb5e(0x7c2))[_0x17cb5e(0xa1f)][_0x17cb5e(0x711)](_0x17cb5e(0x9d8)),document[_0x17cb5e(0xbeb)]('lesson-view-modal')[_0x17cb5e(0xa1f)][_0x17cb5e(0x711)](_0x17cb5e(0x9d8)),window[_0x17cb5e(0xeb4)]&&MathJax[_0x17cb5e(0x61b)]([document[_0x17cb5e(0xbeb)]('lesson-view-content')]);}else showMessage(_0x17cb5e(0x332));}catch(_0x2a2345){console[_0x17cb5e(0xd74)](_0x17cb5e(0xae7),_0x2a2345),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x17cb5e(0xe64));}}else{if(_0x5aa957){const _0x512a0d=_0x362ac0(_0x7613ac),_0x4cd456=doc(db,_0x17cb5e(0xcaf)+appId+_0x17cb5e(0xef7),currentBlueprintProjectId),_0x3b0510=await getDoc(_0x4cd456);if(_0x3b0510[_0x17cb5e(0x358)]()){const _0x1b2647=_0x3b0510[_0x17cb5e(0xbfb)]();generateAndSaveLessonForBlueprint(_0x38d631,_0x512a0d,_0x1b2647[_0x17cb5e(0x777)]);}}else{if(_0x40fce4)editTopicInProject(_0x38d631);else _0x1b4362&&deleteTopicFromProject(_0x38d631);}}}}}}}),document[_0x5418d1(0xbeb)](_0x5418d1(0x30f))[_0x5418d1(0x79a)]('click',handleFixLessonLatex),document[_0x5418d1(0xbeb)](_0x5418d1(0xe8c))['addEventListener']('click',handleExportLessonToPDF),document[_0x5418d1(0xbeb)]('close-lesson-view-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x4175be=_0x5418d1;document['getElementById'](_0x4175be(0xc4e))[_0x4175be(0xa1f)][_0x4175be(0x7e0)](_0x4175be(0x9d8));});const _0x3e8df6=document[_0x5418d1(0xbeb)](_0x5418d1(0x294)),_0x26e82a=document[_0x5418d1(0xbeb)](_0x5418d1(0x446));_0x3e8df6['addEventListener'](_0x5418d1(0xb5d),()=>{const _0x5ee937=_0x5418d1;_0x26e82a[_0x5ee937(0xa1f)][_0x5ee937(0x4c3)]('hidden',!_0x3e8df6['checked']);});const _0x1f4512=document[_0x5418d1(0xbeb)]('confidence-scoring-checkbox'),_0x46f002=document[_0x5418d1(0xbeb)]('confidence-mode-container');_0x1f4512[_0x5418d1(0x79a)](_0x5418d1(0xb5d),()=>{const _0x2e4703=_0x5418d1;_0x46f002[_0x2e4703(0xa1f)][_0x2e4703(0x4c3)](_0x2e4703(0x9d8),!_0x1f4512['checked']);});const _0x1102d8=document[_0x5418d1(0xbeb)](_0x5418d1(0xce0)),_0x4fb281=document[_0x5418d1(0xbeb)]('modal-confidence-mode-container');_0x1102d8[_0x5418d1(0x79a)](_0x5418d1(0xb5d),()=>{const _0x416bc3=_0x5418d1;_0x4fb281[_0x416bc3(0xa1f)][_0x416bc3(0x4c3)](_0x416bc3(0x9d8),!_0x1102d8[_0x416bc3(0x375)]);});const _0x4b0d9a=document[_0x5418d1(0xbeb)](_0x5418d1(0x731)),_0x21f604=async _0x358146=>{const _0x4238a6=_0x5418d1,_0x440bd7=document[_0x4238a6(0xbeb)](_0x4238a6(0x731)),_0xb5c007=_0x440bd7['dataset'][_0x4238a6(0xa69)],_0x2206f1=document[_0x4238a6(0xbeb)](_0x4238a6(0xc01));_0x440bd7[_0x4238a6(0xa1f)]['add'](_0x4238a6(0x9d8));if(_0xb5c007===_0x4238a6(0xc1b)){const _0x500e2b=_0x2206f1[_0x4238a6(0xc07)],_0x19e08d={'answer':_0x500e2b,'wasConfident':_0x358146};proceedToNextQuestion(_0x19e08d);}else{if(_0xb5c007===_0x4238a6(0xe25)){const _0x105e2f=_0x2206f1['dataset'][_0x4238a6(0xc30)],_0x373ef2=JSON[_0x4238a6(0x6d2)](_0x2206f1['dataset']['question']),_0x3615d4=JSON[_0x4238a6(0x6d2)](_0x2206f1[_0x4238a6(0x6b1)][_0x4238a6(0x5e9)]),_0x94531c=_0x2206f1[_0x4238a6(0x6b1)]['playerName'];handleSyncAnswerSubmit(_0x105e2f,_0x373ef2,_0x3615d4,_0x94531c,_0x358146);}}_0x440bd7[_0x4238a6(0x6b1)]['currentMode']='';};document[_0x5418d1(0xbeb)]('confirm-confident')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>_0x21f604(!![])),document[_0x5418d1(0xbeb)](_0x5418d1(0x1f7))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>_0x21f604(![])),liveGameView[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x3023f4=>{const _0x24c03d=_0x5418d1,_0x526d0e=_0x3023f4[_0x24c03d(0x544)][_0x24c03d(0x253)](_0x24c03d(0x82c));if(_0x526d0e){const _0x433482=_0x526d0e[_0x24c03d(0x6b1)][_0x24c03d(0x773)];_0x433482&&handleKickPlayerSync(_0x433482);}});const _0x322e88=document[_0x5418d1(0xbeb)]('confirm-game-start-btn'),_0x49eb8e=document[_0x5418d1(0xbeb)](_0x5418d1(0x4db));_0x49eb8e['addEventListener'](_0x5418d1(0xc64),()=>{const _0x3ca891=_0x5418d1;document[_0x3ca891(0xbeb)](_0x3ca891(0x423))[_0x3ca891(0xa1f)][_0x3ca891(0x7e0)](_0x3ca891(0x9d8));}),_0x322e88[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x10e9f2=_0x5418d1,_0x1ffe3a=document['getElementById'](_0x10e9f2(0x453))['value'],_0x54bbdf=document[_0x10e9f2(0xbeb)]('game-start-mode')[_0x10e9f2(0xc07)],_0x2a63b2=document['getElementById']('save-game-results-checkbox')[_0x10e9f2(0x375)];document[_0x10e9f2(0xbeb)](_0x10e9f2(0x423))[_0x10e9f2(0xa1f)][_0x10e9f2(0x7e0)](_0x10e9f2(0x9d8));switch(_0x54bbdf){case'live-race':handleStartLiveRace(_0x1ffe3a,_0x2a63b2);break;case _0x10e9f2(0xd29):handleStartTeamQuiz(_0x1ffe3a,_0x2a63b2);break;case'group':handleStartGroupMode(_0x1ffe3a,_0x2a63b2);break;case _0x10e9f2(0xe25):const _0x386bc8=document[_0x10e9f2(0x2d0)](_0x10e9f2(0x5f2))[_0x10e9f2(0xc07)]||'classic';handleStartSyncMode(_0x1ffe3a,_0x2a63b2,_0x386bc8);break;}}),document[_0x5418d1(0xbeb)](_0x5418d1(0xcf3))[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleJoinGroupActivity),liveGameView['addEventListener'](_0x5418d1(0xc64),_0x2245a3=>{const _0x5cad28=_0x5418d1,_0x469fda=_0x2245a3[_0x5cad28(0x544)][_0x5cad28(0x253)](_0x5cad28(0xcb6));document[_0x5cad28(0xb02)]('.live-summary-tooltip.visible')[_0x5cad28(0xbd3)](_0x4dd46c=>{const _0x150434=_0x5cad28;(!_0x469fda||_0x4dd46c['id']!==_0x469fda[_0x150434(0x6b1)][_0x150434(0x8b0)])&&_0x4dd46c[_0x150434(0xa1f)][_0x150434(0x711)](_0x150434(0x8a8));});if(!_0x469fda)return;const _0x4153a4=_0x469fda[_0x5cad28(0x6b1)][_0x5cad28(0x8b0)],_0x355245=document['getElementById'](_0x4153a4);_0x355245&&_0x355245[_0x5cad28(0xa1f)][_0x5cad28(0x4c3)]('visible');}),liveGameView[_0x5418d1(0x79a)]('click',_0x2f2e8a=>{const _0x4f0261=_0x5418d1;if(_0x2f2e8a['target']['classList'][_0x4f0261(0xa3f)](_0x4f0261(0x533))){const _0x1703d7=_0x2f2e8a[_0x4f0261(0x544)]['dataset'][_0x4f0261(0x773)];_0x1703d7&&handleKickPlayer(_0x1703d7);}}),document['getElementById'](_0x5418d1(0x34e))[_0x5418d1(0x79a)](_0x5418d1(0xd7d),()=>document['getElementById']('save-project-name-btn')[_0x5418d1(0xa1f)][_0x5418d1(0x711)](_0x5418d1(0x9d8))),document[_0x5418d1(0xbeb)]('save-project-name-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleSaveProjectName),document[_0x5418d1(0xbeb)](_0x5418d1(0x34e))[_0x5418d1(0x79a)](_0x5418d1(0x7a9),_0xa35287=>{const _0x39204d=_0x5418d1;_0xa35287[_0x39204d(0x7a4)]===_0x39204d(0xee0)&&(_0xa35287[_0x39204d(0xcaa)](),_0xa35287[_0x39204d(0x544)][_0x39204d(0x5ab)](),handleSaveProjectName());}),document[_0x5418d1(0xbeb)](_0x5418d1(0xa16))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x398fb0=_0x5418d1;document[_0x398fb0(0xbeb)](_0x398fb0(0xb2f))[_0x398fb0(0xa1f)][_0x398fb0(0x711)](_0x398fb0(0x9d8));}),document['getElementById']('cancel-bulk-quiz-settings-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x236cdc=_0x5418d1;document[_0x236cdc(0xbeb)](_0x236cdc(0xb2f))[_0x236cdc(0xa1f)][_0x236cdc(0x7e0)](_0x236cdc(0x9d8));}),document[_0x5418d1(0xbeb)](_0x5418d1(0xe8a))['addEventListener'](_0x5418d1(0xc64),handleBulkUpdateQuizSettings),document[_0x5418d1(0xbeb)](_0x5418d1(0x86b))[_0x5418d1(0x79a)]('click',handleModeSwitch),document['getElementById'](_0x5418d1(0xc78))[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleUpdateOldQuizzes),document[_0x5418d1(0xbeb)](_0x5418d1(0x85a))[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleResetProjectOrder),document['getElementById']('save-visibility-settings-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleSaveVisibilitySettings),document[_0x5418d1(0xbeb)](_0x5418d1(0xe0e))[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleAddCustomMathTopic),document[_0x5418d1(0xbeb)](_0x5418d1(0xbad))[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleSelectAllTopics),document['getElementById'](_0x5418d1(0x6f5))[_0x5418d1(0x79a)]('click',handleDeselectAllTopics),document['getElementById'](_0x5418d1(0xca9))['addEventListener'](_0x5418d1(0xc64),()=>{const _0x2cd187=_0x5418d1;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x2cd187(0x5cd));}}),document[_0x5418d1(0xbeb)](_0x5418d1(0xc5d))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document['getElementById'](_0x5418d1(0x7d8))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x413bbf=_0x5418d1;showView(_0x413bbf(0x5cd));}),document['getElementById'](_0x5418d1(0xe0b))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x126df5=_0x5418d1;messageModal[_0x126df5(0xa1f)][_0x126df5(0x7e0)](_0x126df5(0x9d8)),typeof modalConfirmAction===_0x126df5(0x460)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x5418d1(0xbeb)]('create-project-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>createProjectModal[_0x5418d1(0xa1f)][_0x5418d1(0x711)]('hidden')),document[_0x5418d1(0xbeb)](_0x5418d1(0xeea))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>createProjectModal['classList'][_0x5418d1(0x7e0)]('hidden')),document[_0x5418d1(0xbeb)](_0x5418d1(0xf36))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>adminPasswordModal[_0x5418d1(0xa1f)][_0x5418d1(0x7e0)](_0x5418d1(0x9d8))),document['getElementById']('confirm-admin-login-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleAdminLogin),document[_0x5418d1(0xbeb)](_0x5418d1(0xa28))[_0x5418d1(0x79a)]('keyup',_0x26222b=>{const _0x90f830=_0x5418d1;if(_0x26222b[_0x90f830(0x7a4)]===_0x90f830(0xee0))handleAdminLogin();}),document[_0x5418d1(0xbeb)](_0x5418d1(0x8fc))[_0x5418d1(0x79a)]('click',()=>{const _0x22b8ea=_0x5418d1;confirmationModal['classList'][_0x22b8ea(0x7e0)]('hidden'),typeof cancelAction===_0x22b8ea(0x460)&&cancelAction(),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x5418d1(0x8f0))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x4b1a2e=_0x5418d1;confirmAction&&confirmAction(),confirmationModal['classList'][_0x4b1a2e(0x7e0)](_0x4b1a2e(0x9d8)),confirmAction=null,cancelAction=null;}),document['getElementById']('cancel-rename-quiz-btn')['addEventListener'](_0x5418d1(0xc64),()=>renameQuizModal['classList'][_0x5418d1(0x7e0)](_0x5418d1(0x9d8))),document[_0x5418d1(0xbeb)](_0x5418d1(0x2f7))['addEventListener'](_0x5418d1(0xc64),confirmRenameQuiz),document[_0x5418d1(0xbeb)]('cancel-move-quiz-btn')[_0x5418d1(0x79a)]('click',()=>moveQuizModal['classList'][_0x5418d1(0x7e0)](_0x5418d1(0x9d8))),document['getElementById'](_0x5418d1(0xa29))[_0x5418d1(0x79a)](_0x5418d1(0xc64),confirmMoveQuiz),document['getElementById'](_0x5418d1(0xd6c))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>quizSettingsModal[_0x5418d1(0xa1f)][_0x5418d1(0x7e0)](_0x5418d1(0x9d8))),document[_0x5418d1(0xbeb)](_0x5418d1(0x1dc))[_0x5418d1(0x79a)](_0x5418d1(0xc64),confirmQuizSettings),document['getElementById'](_0x5418d1(0xc14))['addEventListener']('click',()=>quizStatusModal[_0x5418d1(0xa1f)][_0x5418d1(0x7e0)]('hidden')),document[_0x5418d1(0xbeb)]('confirm-quiz-status-btn')['addEventListener']('click',confirmQuizStatus);const _0x29a317=document[_0x5418d1(0xbeb)](_0x5418d1(0xc84));document[_0x5418d1(0xbeb)](_0x5418d1(0xde2))['addEventListener']('click',()=>{const _0x2a7734=_0x5418d1;_0x29a317['classList'][_0x2a7734(0x7e0)]('hidden');}),document[_0x5418d1(0xbeb)](_0x5418d1(0x9d9))['addEventListener'](_0x5418d1(0xc64),async()=>{const _0x26d7cb=_0x5418d1,_0x1a2a5a=allQuizzes['find'](_0xce5cc7=>_0xce5cc7['id']===actionTargetId);_0x1a2a5a?(currentQuizData=_0x1a2a5a,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x29a317[_0x26d7cb(0xa1f)]['add'](_0x26d7cb(0x9d8));}),document[_0x5418d1(0xbeb)](_0x5418d1(0x4af))['addEventListener'](_0x5418d1(0xc64),async()=>{const _0x54ab3f=_0x5418d1,_0x12ec3b=allQuizzes[_0x54ab3f(0x340)](_0x49fe2c=>_0x49fe2c['id']===actionTargetId);_0x12ec3b?(currentQuizData=_0x12ec3b,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x29a317[_0x54ab3f(0xa1f)][_0x54ab3f(0x7e0)](_0x54ab3f(0x9d8));});const _0x87c107=document[_0x5418d1(0xbeb)](_0x5418d1(0x881));_0x87c107[_0x5418d1(0x28a)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x87c107[_0x5418d1(0x79a)]('click',openGlobalActivityModal),document[_0x5418d1(0xbeb)](_0x5418d1(0xeec))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x1dcd96=_0x5418d1;document[_0x1dcd96(0xbeb)](_0x1dcd96(0xf5b))[_0x1dcd96(0xa1f)][_0x1dcd96(0x7e0)](_0x1dcd96(0x9d8));}),document[_0x5418d1(0xbeb)](_0x5418d1(0xdfe))['addEventListener']('input',_0x31586f=>{const _0x5a010e=_0x5418d1;renderGlobalActivityList(_0x31586f[_0x5a010e(0x544)][_0x5a010e(0xc07)]);}),document[_0x5418d1(0xbeb)]('global-activity-quiz-list')[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x116918=>{const _0x518578=_0x5418d1,_0x9fccaa=_0x116918[_0x518578(0x544)]['closest'](_0x518578(0x843));if(!_0x9fccaa)return;const _0x2559bc=_0x9fccaa[_0x518578(0x6b1)]['id'],_0x3ac891=_0x9fccaa[_0x518578(0x6b1)][_0x518578(0xaa6)],_0x4e8496=allQuizzesGlobal[_0x518578(0x340)](_0x3eb7db=>_0x3eb7db['id']===_0x2559bc);_0x4e8496&&(document['getElementById'](_0x518578(0xf5b))[_0x518578(0xa1f)][_0x518578(0x7e0)](_0x518578(0x9d8)),_0x3ac891===_0x518578(0x6d1)?handleStartLiveRace(_0x2559bc):showGameStartConfirmationModal(_0x2559bc,_0x3ac891,_0x4e8496['topic']));}),document[_0x5418d1(0xbeb)](_0x5418d1(0xcfd))[_0x5418d1(0x79a)]('input',renderProjects),document['getElementById'](_0x5418d1(0x41e))[_0x5418d1(0x79a)](_0x5418d1(0xb5d),async()=>{const _0x3cc9c2=_0x5418d1,_0x3492ea=document[_0x3cc9c2(0xbeb)](_0x3cc9c2(0x41e))['value'],_0x5f1985=doc(db,_0x3cc9c2(0xc3f),_0x3cc9c2(0x232));try{await setDoc(_0x5f1985,{'projectSort':_0x3492ea},{'merge':!![]});}catch(_0x36f9f3){console['error']('Error\x20updating\x20sort\x20preference:',_0x36f9f3),showMessage(_0x3cc9c2(0x662));}}),document[_0x5418d1(0xbeb)](_0x5418d1(0x3c2))['addEventListener']('input',renderQuizzes),document[_0x5418d1(0xbeb)](_0x5418d1(0xd2b))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x45b429=_0x5418d1;globalDashboardSettings['projectView']=_0x45b429(0xd82),saveUserPreference(_0x45b429(0x776),_0x45b429(0xd82)),renderProjects();}),document[_0x5418d1(0xbeb)](_0x5418d1(0xd9a))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x39ec64=_0x5418d1;globalDashboardSettings[_0x39ec64(0x776)]='list',saveUserPreference(_0x39ec64(0x776),_0x39ec64(0x80a)),renderProjects();}),manageTab[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>switchProjectTab(_0x5418d1(0x556))),resultsTab[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>switchProjectTab(_0x5418d1(0x783))),leaderboardTab[_0x5418d1(0x79a)]('click',()=>switchProjectTab('leaderboard')),document[_0x5418d1(0xbeb)]('analytics-tab-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>switchQuizDetailTab(_0x5418d1(0x69a))),document['getElementById'](_0x5418d1(0x75c))[_0x5418d1(0x79a)]('click',()=>switchQuizDetailTab('scores')),document[_0x5418d1(0xbeb)]('leaderboard-quiz-tab-btn')[_0x5418d1(0x79a)]('click',()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x5418d1(0xbeb)]('behavior-log-tab-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>switchQuizDetailTab(_0x5418d1(0xf03))),document[_0x5418d1(0xbeb)](_0x5418d1(0xa77))['addEventListener'](_0x5418d1(0xc64),handleAnalyzeClass),generateWorksheetBtn[_0x5418d1(0x79a)](_0x5418d1(0xc64),generateWorksheet);const _0x1b2b09=document['getElementById']('link-tab'),_0x5c4150=document[_0x5418d1(0xbeb)](_0x5418d1(0xb6d)),_0x31e1eb=document['getElementById'](_0x5418d1(0xc23)),_0x42ca18=document[_0x5418d1(0xbeb)]('blueprint-input-area'),_0x945068=document[_0x5418d1(0xbeb)](_0x5418d1(0x2d4)),_0x5a3da9=document['getElementById'](_0x5418d1(0x7b8));topicTab[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x283fc4=_0x5418d1;topicTab[_0x283fc4(0xa1f)][_0x283fc4(0x7e0)](_0x283fc4(0x829)),textTab[_0x283fc4(0xa1f)][_0x283fc4(0x711)](_0x283fc4(0x829)),fileTab[_0x283fc4(0xa1f)][_0x283fc4(0x711)](_0x283fc4(0x829)),worksheetTab[_0x283fc4(0xa1f)][_0x283fc4(0x711)](_0x283fc4(0x829));if(_0x1b2b09)_0x1b2b09[_0x283fc4(0xa1f)][_0x283fc4(0x711)](_0x283fc4(0x829));if(_0x31e1eb)_0x31e1eb[_0x283fc4(0xa1f)][_0x283fc4(0x711)](_0x283fc4(0x829));if(_0x945068)_0x945068[_0x283fc4(0xa1f)][_0x283fc4(0x711)](_0x283fc4(0x829));topicInputArea['classList'][_0x283fc4(0x711)](_0x283fc4(0x9d8)),textInputArea[_0x283fc4(0xa1f)]['add'](_0x283fc4(0x9d8)),fileInputArea['classList'][_0x283fc4(0x7e0)](_0x283fc4(0x9d8)),worksheetInputArea['classList']['add']('hidden');if(_0x5c4150)_0x5c4150[_0x283fc4(0xa1f)][_0x283fc4(0x7e0)](_0x283fc4(0x9d8));if(_0x42ca18)_0x42ca18[_0x283fc4(0xa1f)]['add'](_0x283fc4(0x9d8));if(_0x5a3da9)_0x5a3da9['classList']['add']('hidden');}),textTab[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x4c4467=_0x5418d1;textTab[_0x4c4467(0xa1f)][_0x4c4467(0x7e0)](_0x4c4467(0x829)),topicTab[_0x4c4467(0xa1f)][_0x4c4467(0x711)](_0x4c4467(0x829)),fileTab[_0x4c4467(0xa1f)][_0x4c4467(0x711)](_0x4c4467(0x829)),worksheetTab[_0x4c4467(0xa1f)][_0x4c4467(0x711)]('active');if(_0x1b2b09)_0x1b2b09['classList'][_0x4c4467(0x711)]('active');if(_0x31e1eb)_0x31e1eb[_0x4c4467(0xa1f)]['remove']('active');if(_0x945068)_0x945068[_0x4c4467(0xa1f)][_0x4c4467(0x711)](_0x4c4467(0x829));textInputArea[_0x4c4467(0xa1f)][_0x4c4467(0x711)]('hidden'),topicInputArea[_0x4c4467(0xa1f)][_0x4c4467(0x7e0)](_0x4c4467(0x9d8)),fileInputArea[_0x4c4467(0xa1f)][_0x4c4467(0x7e0)](_0x4c4467(0x9d8)),worksheetInputArea[_0x4c4467(0xa1f)][_0x4c4467(0x7e0)](_0x4c4467(0x9d8));if(_0x5c4150)_0x5c4150['classList']['add'](_0x4c4467(0x9d8));if(_0x42ca18)_0x42ca18[_0x4c4467(0xa1f)][_0x4c4467(0x7e0)](_0x4c4467(0x9d8));if(_0x5a3da9)_0x5a3da9['classList'][_0x4c4467(0x7e0)](_0x4c4467(0x9d8));}),fileTab['addEventListener'](_0x5418d1(0xc64),()=>{const _0x158760=_0x5418d1;fileTab[_0x158760(0xa1f)][_0x158760(0x7e0)](_0x158760(0x829)),topicTab[_0x158760(0xa1f)][_0x158760(0x711)](_0x158760(0x829)),textTab[_0x158760(0xa1f)][_0x158760(0x711)](_0x158760(0x829)),worksheetTab[_0x158760(0xa1f)][_0x158760(0x711)](_0x158760(0x829));if(_0x1b2b09)_0x1b2b09[_0x158760(0xa1f)][_0x158760(0x711)]('active');if(_0x31e1eb)_0x31e1eb[_0x158760(0xa1f)][_0x158760(0x711)](_0x158760(0x829));if(_0x945068)_0x945068[_0x158760(0xa1f)][_0x158760(0x711)](_0x158760(0x829));fileInputArea['classList'][_0x158760(0x711)](_0x158760(0x9d8)),topicInputArea[_0x158760(0xa1f)][_0x158760(0x7e0)](_0x158760(0x9d8)),textInputArea['classList'][_0x158760(0x7e0)]('hidden'),worksheetInputArea['classList'][_0x158760(0x7e0)](_0x158760(0x9d8));if(_0x5c4150)_0x5c4150[_0x158760(0xa1f)][_0x158760(0x7e0)](_0x158760(0x9d8));if(_0x42ca18)_0x42ca18[_0x158760(0xa1f)]['add'](_0x158760(0x9d8));if(_0x5a3da9)_0x5a3da9['classList'][_0x158760(0x7e0)](_0x158760(0x9d8));}),worksheetTab[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x3b017c=_0x5418d1;worksheetTab['classList'][_0x3b017c(0x7e0)](_0x3b017c(0x829)),topicTab[_0x3b017c(0xa1f)]['remove'](_0x3b017c(0x829)),textTab[_0x3b017c(0xa1f)][_0x3b017c(0x711)](_0x3b017c(0x829)),fileTab[_0x3b017c(0xa1f)][_0x3b017c(0x711)](_0x3b017c(0x829));if(_0x1b2b09)_0x1b2b09[_0x3b017c(0xa1f)][_0x3b017c(0x711)]('active');if(_0x31e1eb)_0x31e1eb[_0x3b017c(0xa1f)][_0x3b017c(0x711)](_0x3b017c(0x829));if(_0x945068)_0x945068[_0x3b017c(0xa1f)][_0x3b017c(0x711)](_0x3b017c(0x829));worksheetInputArea['classList'][_0x3b017c(0x711)]('hidden'),topicInputArea[_0x3b017c(0xa1f)][_0x3b017c(0x7e0)](_0x3b017c(0x9d8)),textInputArea[_0x3b017c(0xa1f)]['add'](_0x3b017c(0x9d8)),fileInputArea[_0x3b017c(0xa1f)][_0x3b017c(0x7e0)](_0x3b017c(0x9d8));if(_0x5c4150)_0x5c4150['classList'][_0x3b017c(0x7e0)](_0x3b017c(0x9d8));if(_0x42ca18)_0x42ca18[_0x3b017c(0xa1f)]['add'](_0x3b017c(0x9d8));if(_0x5a3da9)_0x5a3da9[_0x3b017c(0xa1f)][_0x3b017c(0x7e0)](_0x3b017c(0x9d8));});const _0x3c47b8=document[_0x5418d1(0xbeb)](_0x5418d1(0x723)),_0xfc458e=document[_0x5418d1(0xbeb)](_0x5418d1(0x806));_0x3c47b8&&_0x3c47b8[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x102f82=_0x5418d1;topicTab[_0x102f82(0xa1f)][_0x102f82(0x711)]('active'),textTab[_0x102f82(0xa1f)]['remove'](_0x102f82(0x829)),fileTab[_0x102f82(0xa1f)][_0x102f82(0x711)](_0x102f82(0x829)),worksheetTab['classList'][_0x102f82(0x711)]('active');if(_0x1b2b09)_0x1b2b09[_0x102f82(0xa1f)][_0x102f82(0x711)](_0x102f82(0x829));if(_0x31e1eb)_0x31e1eb[_0x102f82(0xa1f)]['remove'](_0x102f82(0x829));if(_0x945068)_0x945068[_0x102f82(0xa1f)][_0x102f82(0x711)](_0x102f82(0x829));_0x3c47b8[_0x102f82(0xa1f)]['add'](_0x102f82(0x829)),topicInputArea[_0x102f82(0xa1f)]['add'](_0x102f82(0x9d8)),textInputArea['classList'][_0x102f82(0x7e0)](_0x102f82(0x9d8)),fileInputArea[_0x102f82(0xa1f)]['add'](_0x102f82(0x9d8)),worksheetInputArea[_0x102f82(0xa1f)][_0x102f82(0x7e0)](_0x102f82(0x9d8));if(_0x5c4150)_0x5c4150['classList'][_0x102f82(0x7e0)](_0x102f82(0x9d8));if(_0x42ca18)_0x42ca18[_0x102f82(0xa1f)][_0x102f82(0x7e0)](_0x102f82(0x9d8));if(_0x5a3da9)_0x5a3da9['classList'][_0x102f82(0x7e0)](_0x102f82(0x9d8));_0xfc458e[_0x102f82(0xa1f)][_0x102f82(0x711)](_0x102f82(0x9d8)),displayQuestionBank();});_0x1b2b09&&(_0x1b2b09[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x5c0cda=_0x5418d1;_0x1b2b09['classList']['add']('active'),topicTab['classList'][_0x5c0cda(0x711)](_0x5c0cda(0x829)),textTab['classList'][_0x5c0cda(0x711)](_0x5c0cda(0x829)),fileTab[_0x5c0cda(0xa1f)][_0x5c0cda(0x711)]('active'),worksheetTab[_0x5c0cda(0xa1f)][_0x5c0cda(0x711)](_0x5c0cda(0x829));if(_0x31e1eb)_0x31e1eb[_0x5c0cda(0xa1f)][_0x5c0cda(0x711)]('active');if(_0x945068)_0x945068['classList'][_0x5c0cda(0x711)](_0x5c0cda(0x829));_0x5c4150[_0x5c0cda(0xa1f)]['remove'](_0x5c0cda(0x9d8)),topicInputArea['classList'][_0x5c0cda(0x7e0)](_0x5c0cda(0x9d8)),textInputArea[_0x5c0cda(0xa1f)][_0x5c0cda(0x7e0)]('hidden'),fileInputArea[_0x5c0cda(0xa1f)]['add'](_0x5c0cda(0x9d8)),worksheetInputArea[_0x5c0cda(0xa1f)][_0x5c0cda(0x7e0)](_0x5c0cda(0x9d8));if(_0x42ca18)_0x42ca18[_0x5c0cda(0xa1f)]['add'](_0x5c0cda(0x9d8));if(_0x5a3da9)_0x5a3da9[_0x5c0cda(0xa1f)][_0x5c0cda(0x7e0)]('hidden');}),document[_0x5418d1(0xbeb)](_0x5418d1(0xb93))[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleGenerateFromLink));_0x31e1eb&&_0x31e1eb['addEventListener'](_0x5418d1(0xc64),()=>{const _0x54698e=_0x5418d1;_0x31e1eb[_0x54698e(0xa1f)][_0x54698e(0x7e0)]('active'),topicTab[_0x54698e(0xa1f)][_0x54698e(0x711)]('active'),textTab['classList']['remove'](_0x54698e(0x829)),fileTab[_0x54698e(0xa1f)]['remove'](_0x54698e(0x829)),worksheetTab[_0x54698e(0xa1f)]['remove'](_0x54698e(0x829));if(_0x1b2b09)_0x1b2b09[_0x54698e(0xa1f)][_0x54698e(0x711)](_0x54698e(0x829));if(_0x3c47b8)_0x3c47b8[_0x54698e(0xa1f)][_0x54698e(0x711)](_0x54698e(0x829));if(_0x945068)_0x945068[_0x54698e(0xa1f)]['remove'](_0x54698e(0x829));_0x42ca18['classList'][_0x54698e(0x711)]('hidden'),topicInputArea[_0x54698e(0xa1f)][_0x54698e(0x7e0)]('hidden'),textInputArea['classList'][_0x54698e(0x7e0)](_0x54698e(0x9d8)),fileInputArea[_0x54698e(0xa1f)][_0x54698e(0x7e0)](_0x54698e(0x9d8)),worksheetInputArea[_0x54698e(0xa1f)][_0x54698e(0x7e0)](_0x54698e(0x9d8));if(_0x5c4150)_0x5c4150[_0x54698e(0xa1f)][_0x54698e(0x7e0)]('hidden');if(_0xfc458e)_0xfc458e[_0x54698e(0xa1f)][_0x54698e(0x7e0)]('hidden');if(_0x5a3da9)_0x5a3da9['classList']['add'](_0x54698e(0x9d8));});_0x945068&&_0x945068[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x2fbadc=_0x5418d1;_0x945068[_0x2fbadc(0xa1f)][_0x2fbadc(0x7e0)](_0x2fbadc(0x829)),topicTab[_0x2fbadc(0xa1f)][_0x2fbadc(0x711)](_0x2fbadc(0x829)),textTab[_0x2fbadc(0xa1f)][_0x2fbadc(0x711)]('active'),fileTab[_0x2fbadc(0xa1f)][_0x2fbadc(0x711)](_0x2fbadc(0x829)),worksheetTab[_0x2fbadc(0xa1f)][_0x2fbadc(0x711)](_0x2fbadc(0x829));if(_0x1b2b09)_0x1b2b09['classList'][_0x2fbadc(0x711)](_0x2fbadc(0x829));if(_0x31e1eb)_0x31e1eb[_0x2fbadc(0xa1f)][_0x2fbadc(0x711)](_0x2fbadc(0x829));if(_0x3c47b8)_0x3c47b8['classList']['remove'](_0x2fbadc(0x829));_0x5a3da9[_0x2fbadc(0xa1f)]['remove'](_0x2fbadc(0x9d8)),topicInputArea[_0x2fbadc(0xa1f)][_0x2fbadc(0x7e0)](_0x2fbadc(0x9d8)),textInputArea[_0x2fbadc(0xa1f)]['add'](_0x2fbadc(0x9d8)),fileInputArea[_0x2fbadc(0xa1f)]['add']('hidden'),worksheetInputArea[_0x2fbadc(0xa1f)][_0x2fbadc(0x7e0)](_0x2fbadc(0x9d8));if(_0x5c4150)_0x5c4150[_0x2fbadc(0xa1f)][_0x2fbadc(0x7e0)]('hidden');if(_0x42ca18)_0x42ca18[_0x2fbadc(0xa1f)][_0x2fbadc(0x7e0)](_0x2fbadc(0x9d8));if(_0xfc458e)_0xfc458e[_0x2fbadc(0xa1f)][_0x2fbadc(0x7e0)](_0x2fbadc(0x9d8));});const _0x5ca3f9=document['getElementById'](_0x5418d1(0x1c5)),_0x508dc6=document['getElementById'](_0x5418d1(0x855));if(_0x5ca3f9){const _0x7a6fa5=document[_0x5418d1(0xbeb)]('blueprint-upload-input'),_0x40d11c=document[_0x5418d1(0xbeb)]('generate-from-blueprint-btn'),_0x109eba=document[_0x5418d1(0xbeb)]('blueprint-options-container'),_0x303c80=document[_0x5418d1(0xbeb)](_0x5418d1(0x908)),_0x327953=document['getElementById'](_0x5418d1(0x3dc)),_0x53252b=document[_0x5418d1(0xbeb)](_0x5418d1(0x2e6));_0x7a6fa5&&_0x7a6fa5[_0x5418d1(0x79a)](_0x5418d1(0xb5d),async _0x196f3e=>{const _0x4d2744=_0x5418d1;_0x109eba['classList'][_0x4d2744(0x7e0)](_0x4d2744(0x9d8)),_0x327953[_0x4d2744(0xa1f)][_0x4d2744(0x7e0)](_0x4d2744(0x9d8)),_0x303c80[_0x4d2744(0x375)]=![],_0x40d11c[_0x4d2744(0x272)]=!![];const _0x1816c6=_0x196f3e['target']['files'][0x0];if(_0x1816c6){_0x40d11c[_0x4d2744(0x272)]=![];try{const _0x44e036=await extractTextFromPdf(_0x1816c6);await analyzeBlueprintForTopics(_0x44e036);}catch(_0x5c07d8){showMessage(_0x4d2744(0x327)),_0x109eba[_0x4d2744(0xa1f)][_0x4d2744(0x7e0)](_0x4d2744(0x9d8));}}}),_0x303c80&&_0x303c80['addEventListener'](_0x5418d1(0xb5d),_0x4eaec2=>{const _0x5acbe6=_0x5418d1,_0x12c27d=_0x4eaec2[_0x5acbe6(0x544)][_0x5acbe6(0x375)];_0x327953[_0x5acbe6(0xa1f)][_0x5acbe6(0x4c3)](_0x5acbe6(0x9d8),!_0x12c27d),_0x40d11c[_0x5acbe6(0x272)]=_0x12c27d;}),_0x53252b&&(_0x53252b&&_0x53252b['addEventListener'](_0x5418d1(0xc64),_0x472212=>{const _0x2399d9=_0x5418d1,_0x2b4140=_0x472212[_0x2399d9(0x544)]['closest']('.topic-selection-btn'),_0x1fae75=_0x472212[_0x2399d9(0x544)][_0x2399d9(0x253)]('.generate-content-btn');if(_0x2b4140){const _0x2c9ee9=unescape(_0x2b4140[_0x2399d9(0x6b1)][_0x2399d9(0x8ba)]);generateQuizForSingleTopic(_0x2c9ee9);}else{if(_0x1fae75){const _0x37dff0=unescape(_0x1fae75[_0x2399d9(0x6b1)][_0x2399d9(0x8ba)]);handleGenerateTeachingContent(_0x37dff0);}}}));}_0x508dc6&&_0x508dc6[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleGenerateFromBlueprint);const _0x3001f7=document[_0x5418d1(0xbeb)]('parallel-test-upload-input'),_0x6edcf3=document[_0x5418d1(0xbeb)](_0x5418d1(0x942));_0x3001f7&&_0x3001f7[_0x5418d1(0x79a)]('change',_0x59e289=>{const _0x10c085=_0x5418d1;_0x6edcf3[_0x10c085(0x272)]=_0x59e289[_0x10c085(0x544)][_0x10c085(0x200)][_0x10c085(0x81c)]===0x0;});_0x6edcf3&&_0x6edcf3[_0x5418d1(0x79a)]('click',()=>{handleGenerateParallelTest();});loadQuizBtn[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleLoadQuiz),startQuizBtn[_0x5418d1(0x79a)](_0x5418d1(0xc64),async()=>{const _0xbcc3d5=_0x5418d1,_0x3c3535=document[_0xbcc3d5(0xbeb)](_0xbcc3d5(0x9ab));currentStudentName=_0x3c3535['value'];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x31702a=currentQuizData['id'],_0x41a7cb=doc(db,_0xbcc3d5(0xcaf)+appId+'/public/data/quizzes/'+_0x31702a+'/submissions',currentStudentName),_0x3113=await getDoc(_0x41a7cb);!_0x3113[_0xbcc3d5(0x358)]()?await setDoc(_0x41a7cb,{'studentName':currentStudentName,'startedAt':new Date()[_0xbcc3d5(0x760)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x41a7cb,{'startedAt':new Date()[_0xbcc3d5(0x760)]()});}catch(_0x1b5b00){console[_0xbcc3d5(0xd74)](_0xbcc3d5(0xbd4),_0x1b5b00),showMessage(_0xbcc3d5(0xd81));return;}studentNameSelectionView[_0xbcc3d5(0xa1f)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5418d1(0xbeb)](_0x5418d1(0xa89))[_0x5418d1(0x79a)](_0x5418d1(0xc64),showJoinGameView),document['getElementById']('confirm-join-game-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleJoinLiveGame),document['getElementById'](_0x5418d1(0xdb7))['addEventListener'](_0x5418d1(0xc64),()=>showView(_0x5418d1(0x2ec)));const _0x3c4773=()=>{const _0x525e68=_0x5418d1,_0x175dc4=document[_0x525e68(0xbeb)](_0x525e68(0xe2f))[_0x525e68(0x211)][_0x525e68(0xea1)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x525e68(0x4d4)+(_0x175dc4||'quiz');},_0x2ae648=document[_0x5418d1(0xbeb)]('math-topic-search-input');_0x2ae648&&_0x2ae648['addEventListener'](_0x5418d1(0x208),_0xce528c=>{const _0x320611=_0x5418d1,_0x5d7345=_0xce528c['target'][_0x320611(0xc07)][_0x320611(0x298)]()[_0x320611(0x88c)](),_0x24f29b=document[_0x320611(0xbeb)]('math-topics-checkbox-container'),_0x47865c=_0x24f29b[_0x320611(0xb02)](_0x320611(0xe46));_0x47865c[_0x320611(0xbd3)](_0x43ab00=>{const _0x3ddbe4=_0x320611;let _0x10742b=![];const _0x23724e=_0x43ab00[_0x3ddbe4(0xb02)](_0x3ddbe4(0xc5c));_0x23724e['forEach'](_0x1d7380=>{const _0xe014b7=_0x3ddbe4,_0x1368a0=_0x1d7380[_0xe014b7(0x2d0)](_0xe014b7(0x44d))[_0xe014b7(0x211)][_0xe014b7(0x298)]();_0x1368a0[_0xe014b7(0x87a)](_0x5d7345)?(_0x1d7380[_0xe014b7(0xbcb)][_0xe014b7(0x9be)]=_0xe014b7(0xa88),_0x10742b=!![]):_0x1d7380[_0xe014b7(0xbcb)]['display']=_0xe014b7(0x434);}),_0x10742b?_0x43ab00['style'][_0x3ddbe4(0x9be)]=_0x3ddbe4(0x797):_0x43ab00['style'][_0x3ddbe4(0x9be)]=_0x3ddbe4(0x434);});});document[_0x5418d1(0xbeb)](_0x5418d1(0x93a))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>exportTableAsImage(_0x5418d1(0x909),_0x3c4773())),document['getElementById']('export-pdf-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>exportTableAsPDF('results-table',_0x3c4773())),document[_0x5418d1(0xbeb)]('export-word-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>exportTableAsWord('results-table-container',_0x3c4773())),document[_0x5418d1(0xbeb)]('export-excel-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>exportTableAsExcel(_0x5418d1(0x69c),_0x3c4773()));const _0x338120=()=>{const _0x801c96=_0x5418d1,_0x35e2a1=document[_0x801c96(0xbeb)]('results-quiz-title')[_0x801c96(0x211)][_0x801c96(0xea1)](/[^a-z0-9]/gi,'_')[_0x801c96(0x298)]();return _0x801c96(0xcef)+(_0x35e2a1||_0x801c96(0x3b8));};document[_0x5418d1(0xbeb)](_0x5418d1(0x642))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>exportTableAsImage(_0x5418d1(0x900),_0x338120())),document['getElementById']('export-leaderboard-pdf-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>exportTableAsPDF('quiz-leaderboard-table',_0x338120())),document[_0x5418d1(0xbeb)]('export-leaderboard-word-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x338120())),document[_0x5418d1(0xbeb)]('export-leaderboard-excel-btn')[_0x5418d1(0x79a)]('click',()=>exportTableAsExcel(_0x5418d1(0xa18),_0x338120())),projectQuizzesList[_0x5418d1(0x79a)](_0x5418d1(0xc64),async _0x4c7bbc=>{const _0x5c5541=_0x5418d1,_0x208a72=_0x4c7bbc['target']['closest'](_0x5c5541(0x911)),_0x366562=_0x4c7bbc[_0x5c5541(0x544)][_0x5c5541(0x253)]('.generate-post-test-btn'),_0x42d164=_0x4c7bbc[_0x5c5541(0x544)][_0x5c5541(0x253)](_0x5c5541(0x87c)),_0x16e1e6=_0x4c7bbc['target']['closest'](_0x5c5541(0x2a9)),_0x22bd6e=_0x4c7bbc['target']['closest'](_0x5c5541(0x839)),_0x58ae4a=_0x4c7bbc[_0x5c5541(0x544)]['closest'](_0x5c5541(0x883)),_0x11cc83=_0x4c7bbc['target'][_0x5c5541(0x253)](_0x5c5541(0x7a2)),_0x34eca7=_0x4c7bbc[_0x5c5541(0x544)][_0x5c5541(0x253)](_0x5c5541(0x655)),_0xb7731=_0x4c7bbc[_0x5c5541(0x544)][_0x5c5541(0x253)](_0x5c5541(0x945)),_0x358758=_0x4c7bbc[_0x5c5541(0x544)]['closest']('.rename-quiz-btn'),_0x4da13e=_0x4c7bbc[_0x5c5541(0x544)][_0x5c5541(0x253)](_0x5c5541(0xc9d)),_0x53dd14=_0x4c7bbc['target'][_0x5c5541(0x253)](_0x5c5541(0x896)),_0x2f7d99=_0x4c7bbc['target']['closest'](_0x5c5541(0xc9c)),_0x3cc049=_0x4c7bbc[_0x5c5541(0x544)][_0x5c5541(0x253)]('.unpair-quiz-btn'),_0x251937=_0x4c7bbc[_0x5c5541(0x544)][_0x5c5541(0x253)]('.start-presentation-list-btn'),_0x2c4461=_0x4c7bbc[_0x5c5541(0x544)][_0x5c5541(0x253)](_0x5c5541(0x8ae)),_0x47cfc4=_0x4c7bbc[_0x5c5541(0x544)][_0x5c5541(0x253)](_0x5c5541(0xf5f)),_0x4cebf7=_0x4c7bbc['target'][_0x5c5541(0x253)](_0x5c5541(0x574)),_0x27e96c=_0x4c7bbc['target'][_0x5c5541(0x253)](_0x5c5541(0x847)),_0x46952d=_0x4c7bbc[_0x5c5541(0x544)]['closest'](_0x5c5541(0xa02)),_0x3f6e3b=_0x4c7bbc[_0x5c5541(0x544)]['closest'](_0x5c5541(0x805)),_0x1ffdc5=_0x4c7bbc['target'][_0x5c5541(0x253)](_0x5c5541(0x729)),_0x22160f=_0x4c7bbc['target'][_0x5c5541(0x253)](_0x5c5541(0x3b6));if(_0x1ffdc5){const _0x446fb5=_0x1ffdc5['dataset'][_0x5c5541(0xc9b)],_0x2ceee0=_0x1ffdc5[_0x5c5541(0x6b1)][_0x5c5541(0xaa6)],_0x1db700=allQuizzes[_0x5c5541(0x340)](_0x50a5e3=>_0x50a5e3['id']===_0x446fb5);_0x1db700&&showGameStartConfirmationModal(_0x446fb5,_0x2ceee0,_0x1db700[_0x5c5541(0x8ba)]);}else{if(_0x22160f){const _0x20a376=_0x22160f[_0x5c5541(0x6b1)]['quizId'];handleStartLiveRace(_0x20a376);}else{if(_0x46952d){const _0x240456=_0x46952d[_0x5c5541(0x6b1)]['quizId'],_0x4a1c51=document[_0x5c5541(0xbeb)](_0x5c5541(0x4ba)+_0x240456);_0x4a1c51&&_0x4a1c51[_0x5c5541(0xa1f)][_0x5c5541(0x4c3)](_0x5c5541(0x9d8));}else{if(_0x366562){const _0x4e6e6a=_0x366562['dataset'][_0x5c5541(0xc9b)],_0x3f25bf=allQuizzes['find'](_0x57439d=>_0x57439d['id']===_0x4e6e6a);_0x3f25bf&&handleGenerateParallelPostTest(_0x3f25bf);}else{if(_0x42d164)handleCompareResults(_0x42d164[_0x5c5541(0x6b1)][_0x5c5541(0xc9b)],_0x42d164[_0x5c5541(0x6b1)]['preTestId']);else{if(_0x16e1e6){const _0x18a1cf=_0x16e1e6[_0x5c5541(0x6b1)][_0x5c5541(0xc9b)],_0x80bcc0=allQuizzes[_0x5c5541(0x340)](_0x41eda2=>_0x41eda2['id']===_0x18a1cf);_0x80bcc0&&_0x80bcc0[_0x5c5541(0xab3)]?(displayLessonPlan(_0x80bcc0[_0x5c5541(0xab3)],_0x80bcc0),showConfirmation(_0x5c5541(0x496),()=>handleGenerateLessonPlan(_0x18a1cf)),document['getElementById'](_0x5c5541(0x9e3))[_0x5c5541(0x2d0)]('h3')['textContent']=_0x5c5541(0xe0f),document['getElementById'](_0x5c5541(0x8f0))[_0x5c5541(0x211)]=_0x5c5541(0xf34)):handleGenerateLessonPlan(_0x18a1cf);}else{if(_0x22bd6e)handleToggleStarQuiz(_0x22bd6e[_0x5c5541(0x6b1)][_0x5c5541(0xc9b)]);else{if(_0x58ae4a)copyTextToClipboard(_0x58ae4a[_0x5c5541(0x6b1)][_0x5c5541(0xc9b)],'คัดลอกรหัสแล้ว!');else{if(_0x11cc83)handleOpenQuizEditor(_0x11cc83[_0x5c5541(0x6b1)][_0x5c5541(0xc9b)]);else{if(_0x34eca7)handleQuizSettings(_0x34eca7[_0x5c5541(0x6b1)][_0x5c5541(0xc9b)]);else{if(_0xb7731)handleDuplicateQuiz(_0xb7731[_0x5c5541(0x6b1)][_0x5c5541(0xc9b)]);else{if(_0x358758)handleRenameQuiz(_0x358758['dataset'][_0x5c5541(0xc9b)],_0x358758[_0x5c5541(0x6b1)][_0x5c5541(0x8ba)]);else{if(_0x4da13e){const _0x5c79cb=_0x4da13e[_0x5c5541(0x6b1)]['quizId'],_0x2a2029=allQuizzes[_0x5c5541(0x340)](_0xb95e74=>_0xb95e74['id']===_0x5c79cb);_0x2a2029&&handleGenerateParallelFromBank(_0x2a2029);}else{if(_0x53dd14)handleMoveQuiz(_0x53dd14['dataset'][_0x5c5541(0xc9b)]);else{if(_0x2f7d99)handleManualQuizPairing(_0x2f7d99[_0x5c5541(0x6b1)][_0x5c5541(0xc9b)]);else{if(_0x3cc049)handleUnpairQuiz(_0x3cc049['dataset'][_0x5c5541(0xc9b)]);else{if(_0x251937){const _0x3cf377=_0x251937[_0x5c5541(0x6b1)][_0x5c5541(0xc9b)],_0x4d9361=allQuizzes[_0x5c5541(0x340)](_0x22c639=>_0x22c639['id']===_0x3cf377);if(_0x4d9361)startPresentation(_0x4d9361);}else{if(_0x2c4461){const _0xaa2f4d=_0x2c4461['dataset'][_0x5c5541(0xc9b)],_0x357569=allQuizzes['find'](_0x562c84=>_0x562c84['id']===_0xaa2f4d);_0x357569&&(currentQuizData=_0x357569,startAdminTest());}else{if(_0x47cfc4)actionTargetId=_0x47cfc4['dataset']['quizId'],document[_0x5c5541(0xbeb)](_0x5c5541(0xc84))[_0x5c5541(0xa1f)][_0x5c5541(0x711)](_0x5c5541(0x9d8));else{if(_0x4cebf7)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x4cebf7[_0x5c5541(0x6b1)][_0x5c5541(0x8ba)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x4cebf7[_0x5c5541(0x6b1)]['quizId']));else{if(_0x27e96c)handleQuizStatus(_0x27e96c[_0x5c5541(0x6b1)][_0x5c5541(0xc9b)]);else{if(_0x3f6e3b)handleGenerateEasyVersionQuiz(_0x3f6e3b[_0x5c5541(0x6b1)][_0x5c5541(0xc9b)]);else _0x208a72&&showQuizDetailView(_0x208a72['dataset'][_0x5c5541(0xc9b)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x5418d1(0xbeb)](_0x5418d1(0xbb5))[_0x5418d1(0x79a)]('click',()=>showView(_0x5418d1(0x2ec))),document[_0x5418d1(0xbeb)](_0x5418d1(0x4d3))['addEventListener']('click',confirmAndStartTeamQuiz),document['getElementById']('quiz-leaderboard-table')[_0x5418d1(0x2d0)](_0x5418d1(0x3b0))[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x6fdb60=>{const _0x489f10=_0x5418d1,_0x44f0ee=_0x6fdb60[_0x489f10(0x544)]['closest'](_0x489f10(0x6d6));if(!_0x44f0ee||!_0x44f0ee[_0x489f10(0x6b1)][_0x489f10(0x2b3)])return;const _0x5625fc=_0x44f0ee[_0x489f10(0x6b1)]['sort'];if(quizLeaderboardSortBy===_0x5625fc)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x489f10(0xe6b)?_0x489f10(0x4e7):_0x489f10(0xe6b);else{quizLeaderboardSortBy=_0x5625fc;const _0x1ec394=['studentName'];quizLeaderboardSortOrder=_0x1ec394['includes'](_0x5625fc)?_0x489f10(0xe6b):_0x489f10(0x4e7);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x489f10(0xe08));}),document['getElementById'](_0x5418d1(0xc43))[_0x5418d1(0x79a)](_0x5418d1(0xc64),closePresentation),document[_0x5418d1(0xbeb)](_0x5418d1(0x60d))['addEventListener'](_0x5418d1(0xc64),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x5418d1(0xbeb)](_0x5418d1(0x6eb))[_0x5418d1(0x79a)]('click',()=>{const _0x3a3d1c=_0x5418d1;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x3a3d1c(0x7bb)][_0x3a3d1c(0x81c)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener']('fullscreenchange',()=>{const _0x367aad=_0x5418d1;!document[_0x367aad(0x8ca)]&&(presentationModal[_0x367aad(0xbcb)]['display']=_0x367aad(0x434));}),document[_0x5418d1(0xbeb)](_0x5418d1(0xeca))[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleDeleteAllStudents),studentList[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x368a2f=>{const _0x15b4fe=_0x5418d1,_0x4a77a6=_0x368a2f[_0x15b4fe(0x544)][_0x15b4fe(0x253)](_0x15b4fe(0xee9));if(_0x4a77a6){const _0x2860e5=_0x4a77a6[_0x15b4fe(0x6b1)][_0x15b4fe(0x8df)];handleDeleteStudent(_0x2860e5);}}),document[_0x5418d1(0xbeb)](_0x5418d1(0x915))['addEventListener']('click',handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x5418d1(0xb5d),_0x9de3f6=>{const _0x14465e=_0x5418d1,_0x299007=_0x9de3f6[_0x14465e(0x544)][_0x14465e(0x200)][0x0],_0x37568f=document[_0x14465e(0xbeb)]('generate-from-file-btn'),_0xcca6d2=document[_0x14465e(0xbeb)](_0x14465e(0xb49)),_0x123cc5=document[_0x14465e(0xbeb)](_0x14465e(0xc09));_0x299007?(selectedFile=_0x299007,_0x123cc5[_0x14465e(0x375)]?(_0x37568f['disabled']=!![],analyzeFileForTopics(_0x299007)):(_0x37568f[_0x14465e(0x272)]=![],_0xcca6d2['classList'][_0x14465e(0x7e0)](_0x14465e(0x9d8)))):(selectedFile=null,_0x37568f[_0x14465e(0x272)]=!![],_0xcca6d2[_0x14465e(0xa1f)][_0x14465e(0x7e0)](_0x14465e(0x9d8)));}),document[_0x5418d1(0xbeb)](_0x5418d1(0xc09))[_0x5418d1(0x79a)](_0x5418d1(0xb5d),_0x4a8868=>{const _0x546185=_0x5418d1,_0x3f6a59=_0x4a8868['target'][_0x546185(0x375)],_0x4d684f=document[_0x546185(0xbeb)]('generate-from-file-btn'),_0x416e99=document[_0x546185(0xbeb)](_0x546185(0xb49));_0x3f6a59?(_0x4d684f[_0x546185(0x272)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x416e99['classList'][_0x546185(0x711)](_0x546185(0x9d8)),document['getElementById'](_0x546185(0xddb))[_0x546185(0x28a)]=_0x546185(0x9ac))):(_0x416e99[_0x546185(0xa1f)]['add'](_0x546185(0x9d8)),_0x4d684f[_0x546185(0x272)]=!selectedFile);}),document['getElementById']('file-topics-list-container')['addEventListener'](_0x5418d1(0xc64),_0x3822e4=>{const _0x42f831=_0x5418d1,_0x141856=_0x3822e4[_0x42f831(0x544)][_0x42f831(0x253)](_0x42f831(0xe82)),_0x20f56b=_0x3822e4['target']['closest'](_0x42f831(0x422));if(_0x141856){const _0x2fbe8d=unescape(_0x141856['dataset'][_0x42f831(0x8ba)]);generateHybridQuizForTopic(_0x2fbe8d);}else{if(_0x20f56b){const _0x17434a=unescape(_0x20f56b[_0x42f831(0x6b1)][_0x42f831(0x8ba)]),_0x5a6b87=document[_0x42f831(0xbeb)](_0x42f831(0x63f))[_0x42f831(0xc07)];handleGenerateAndShowLesson(_0x17434a,_0x5a6b87);}}}),document[_0x5418d1(0xbeb)]('timer-mode-select')[_0x5418d1(0x79a)](_0x5418d1(0xb5d),_0x5a68fa=>{const _0x2b766b=_0x5418d1,_0x2bd23e=document['getElementById'](_0x2b766b(0x840)),_0x32170f=document[_0x2b766b(0xbeb)](_0x2b766b(0xbdc)),_0x406b78=document[_0x2b766b(0xbeb)](_0x2b766b(0x26c));_0x5a68fa[_0x2b766b(0x544)][_0x2b766b(0xc07)]===_0x2b766b(0x434)?_0x2bd23e[_0x2b766b(0xa1f)][_0x2b766b(0x7e0)]('hidden'):(_0x2bd23e['classList']['remove'](_0x2b766b(0x9d8)),_0x5a68fa[_0x2b766b(0x544)][_0x2b766b(0xc07)]==='whole_quiz'?(_0x32170f[_0x2b766b(0x211)]='ระยะเวลา\x20(นาที):',_0x406b78[_0x2b766b(0xc07)]='10'):(_0x32170f[_0x2b766b(0x211)]=_0x2b766b(0xb48),_0x406b78['value']='30'));}),document[_0x5418d1(0xbeb)]('quiz-type-select')['addEventListener'](_0x5418d1(0xb5d),_0x39250a=>{const _0x3cd5c5=_0x5418d1,_0x4db69c=document[_0x3cd5c5(0xbeb)](_0x3cd5c5(0x977)),_0x18b952=_0x39250a['target']['value'],_0x2a6597=document['querySelector'](_0x3cd5c5(0x432)),_0x5c9c94=document['getElementById']('passing-score-input'),_0x56a454=document[_0x3cd5c5(0xbeb)](_0x3cd5c5(0x701));_0x18b952===_0x3cd5c5(0x553)?_0x2a6597[_0x3cd5c5(0x211)]=_0x3cd5c5(0xb16):_0x2a6597[_0x3cd5c5(0x211)]=_0x3cd5c5(0xdf4),_0x18b952===_0x3cd5c5(0x8be)||_0x18b952===_0x3cd5c5(0xa4d)||_0x18b952===_0x3cd5c5(0x1cd)?_0x4db69c[_0x3cd5c5(0xa1f)]['remove'](_0x3cd5c5(0x9d8)):_0x4db69c[_0x3cd5c5(0xa1f)][_0x3cd5c5(0x7e0)](_0x3cd5c5(0x9d8)),_0x5c9c94[_0x3cd5c5(0xddc)]=_0x56a454[_0x3cd5c5(0xc07)];}),document[_0x5418d1(0xbeb)]('num-questions')['addEventListener']('input',_0x173db3=>{const _0x4b5b31=_0x5418d1;document[_0x4b5b31(0xbeb)]('passing-score-input')['max']=_0x173db3[_0x4b5b31(0x544)]['value'];}),document[_0x5418d1(0xbeb)](_0x5418d1(0x828))[_0x5418d1(0x79a)](_0x5418d1(0xb5d),_0x177a79=>{const _0x4a208a=_0x5418d1,_0x20fbe5=document[_0x4a208a(0xbeb)]('modal-timer-duration-container'),_0x595046=document[_0x4a208a(0xbeb)](_0x4a208a(0x25a)),_0x524065=document['getElementById'](_0x4a208a(0x561));_0x177a79['target']['value']===_0x4a208a(0x434)?_0x20fbe5[_0x4a208a(0xa1f)][_0x4a208a(0x7e0)](_0x4a208a(0x9d8)):(_0x20fbe5[_0x4a208a(0xa1f)][_0x4a208a(0x711)](_0x4a208a(0x9d8)),_0x177a79[_0x4a208a(0x544)]['value']==='whole_quiz'?_0x595046[_0x4a208a(0x211)]=_0x4a208a(0x38d):_0x595046[_0x4a208a(0x211)]=_0x4a208a(0xb48));}),document[_0x5418d1(0xbeb)](_0x5418d1(0xe2d))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x21c437=_0x5418d1;document[_0x21c437(0xbeb)](_0x21c437(0xcb2))['classList']['add'](_0x21c437(0x9d8));}),document[_0x5418d1(0xbeb)](_0x5418d1(0x8ed))[_0x5418d1(0x79a)]('click',()=>{const _0x3ca0ce=_0x5418d1;document[_0x3ca0ce(0xbeb)](_0x3ca0ce(0xcb2))['classList'][_0x3ca0ce(0x7e0)](_0x3ca0ce(0x9d8));}),document['getElementById'](_0x5418d1(0x49d))['addEventListener']('click',handleVerifyAnswersInEditor),document['getElementById'](_0x5418d1(0xd93))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x518375=_0x5418d1;document[_0x518375(0xbeb)](_0x518375(0xcb2))[_0x518375(0xa1f)][_0x518375(0x7e0)](_0x518375(0x9d8)),showConfirmation(_0x518375(0x48d),handleSaveChanges);}),document[_0x5418d1(0xbeb)](_0x5418d1(0x77f))[_0x5418d1(0x79a)](_0x5418d1(0xc64),handleAutoFixLatex);const _0x775bb1=document[_0x5418d1(0xbeb)](_0x5418d1(0x68a));_0x775bb1&&_0x775bb1[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x34898a=>{const _0x2831cf=_0x5418d1,_0x5cb80c=_0x34898a[_0x2831cf(0x544)][_0x2831cf(0x253)]('.regenerate-question-editor-btn');if(_0x5cb80c){const _0x53186f=_0x5cb80c[_0x2831cf(0x253)](_0x2831cf(0x8ec)),_0x5c52c1=parseInt(_0x53186f[_0x2831cf(0x6b1)][_0x2831cf(0x98e)],0xa);handleRegenerateQuestionInEditor(_0x5c52c1);return;}const _0x1aa55e=_0x34898a['target'][_0x2831cf(0x253)](_0x2831cf(0x59d));if(_0x1aa55e){const _0x169a54=_0x1aa55e[_0x2831cf(0x253)]('.question-editor-item'),_0x28c8e3=parseInt(_0x169a54[_0x2831cf(0x6b1)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x28c8e3);return;}const _0x3253ff=_0x34898a[_0x2831cf(0x544)][_0x2831cf(0x253)](_0x2831cf(0x73c));if(_0x3253ff){handleAddQuestionInEditor();return;}});document[_0x5418d1(0xbeb)]('open-quiz-bank-btn')[_0x5418d1(0x79a)]('click',openQuizBankModal),document[_0x5418d1(0xbeb)]('cancel-quiz-bank-btn')[_0x5418d1(0x79a)]('click',()=>{const _0x2c5f1c=_0x5418d1;document['getElementById'](_0x2c5f1c(0x64c))[_0x2c5f1c(0xa1f)][_0x2c5f1c(0x7e0)](_0x2c5f1c(0x9d8));}),document[_0x5418d1(0xbeb)](_0x5418d1(0xa9d))[_0x5418d1(0x79a)](_0x5418d1(0x208),_0x582783=>renderQuizBankList(_0x582783[_0x5418d1(0x544)][_0x5418d1(0xc07)]));const _0x503821=document[_0x5418d1(0xbeb)](_0x5418d1(0xe93));if(_0x503821){let _0x4eae88=null;_0x503821[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x26dc32=>{const _0x5c6e9c=_0x5418d1,_0x19404e=_0x26dc32['target'],_0x45a5af=_0x19404e[_0x5c6e9c(0x253)](_0x5c6e9c(0xedc)),_0x564dd6=_0x19404e[_0x5c6e9c(0x253)](_0x5c6e9c(0xe15)),_0x971147=_0x19404e[_0x5c6e9c(0x253)](_0x5c6e9c(0x36a)),_0x3b270e=_0x19404e['closest'](_0x5c6e9c(0x600));if(_0x564dd6){_0x26dc32['preventDefault']();const _0x4379c3=_0x564dd6['dataset']['id'],_0x4a757e=_0x564dd6[_0x5c6e9c(0x253)](_0x5c6e9c(0x54b))[_0x5c6e9c(0x2d0)](_0x5c6e9c(0x44d))[_0x5c6e9c(0x211)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x4a757e+'\x22?',()=>handleDeleteCustomTopic(_0x4379c3));}else{if(_0x45a5af){_0x26dc32[_0x5c6e9c(0xcaa)]();_0x4eae88&&toggleTopicEditMode(_0x4eae88,![]);const _0x2cff39=_0x45a5af[_0x5c6e9c(0x253)]('[data-topic-container-id]');_0x4eae88=_0x2cff39,toggleTopicEditMode(_0x2cff39,!![]);}else{if(_0x971147){_0x26dc32[_0x5c6e9c(0xcaa)]();const _0xcd16e1=_0x971147[_0x5c6e9c(0x6b1)]['id'],_0x528cde=_0x971147[_0x5c6e9c(0x253)](_0x5c6e9c(0xf06)),_0x455abb=_0x528cde[_0x5c6e9c(0x2d0)](_0x5c6e9c(0xb2b))['value'];handleUpdateCustomTopic(_0xcd16e1,_0x455abb),_0x4eae88=null;}else{if(_0x3b270e){_0x26dc32[_0x5c6e9c(0xcaa)]();const _0x144536=_0x3b270e[_0x5c6e9c(0x253)](_0x5c6e9c(0xf06));toggleTopicEditMode(_0x144536,![]),_0x4eae88=null;}}}}}),document[_0x5418d1(0xbeb)](_0x5418d1(0x745))[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x49671e=_0x5418d1;document[_0x49671e(0xbeb)](_0x49671e(0xcb0))[_0x49671e(0xa1f)]['add'](_0x49671e(0x9d8));}),document[_0x5418d1(0xbeb)]('close-lesson-plan-modal-footer-btn')[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0xd750e=_0x5418d1;document[_0xd750e(0xbeb)](_0xd750e(0xcb0))[_0xd750e(0xa1f)][_0xd750e(0x7e0)](_0xd750e(0x9d8));}),document[_0x5418d1(0xbeb)](_0x5418d1(0x6d7))[_0x5418d1(0x79a)]('click',handleExportLessonPDF);}document[_0x5418d1(0xbeb)](_0x5418d1(0x439))['addEventListener'](_0x5418d1(0xc64),()=>{const _0x44be13=_0x5418d1;document[_0x44be13(0xbeb)](_0x44be13(0x3d9))[_0x44be13(0xa1f)][_0x44be13(0x7e0)](_0x44be13(0x9d8));}),document[_0x5418d1(0xbeb)]('close-comparison-modal-footer-btn')['addEventListener']('click',()=>{const _0x4e12bb=_0x5418d1;document[_0x4e12bb(0xbeb)]('comparison-modal')['classList']['add']('hidden');}),setupComparisonModalTabs(),document['body'][_0x5418d1(0x79a)](_0x5418d1(0xc64),function(_0x4e827d){const _0x3845d4=_0x5418d1;if(_0x4e827d[_0x3845d4(0x544)][_0x3845d4(0xa1f)][_0x3845d4(0xa3f)](_0x3845d4(0xec8))){const _0x5ea244=unescape(_0x4e827d[_0x3845d4(0x544)]['dataset'][_0x3845d4(0x8ba)]);startSkillPractice(_0x5ea244);}}),document[_0x5418d1(0xbeb)](_0x5418d1(0x96c))[_0x5418d1(0x79a)](_0x5418d1(0xc64),_0x551271=>{const _0x10432c=_0x5418d1,_0x57545e=_0x551271[_0x10432c(0x544)][_0x10432c(0x253)](_0x10432c(0x8c4));if(_0x57545e){const _0x1fde0c=_0x57545e[_0x10432c(0x6b1)]['studentName'];handleDeleteSubmission(_0x1fde0c);return;}const _0x7300cf=_0x551271[_0x10432c(0x544)][_0x10432c(0x253)](_0x10432c(0x279));if(_0x7300cf){const _0x515b58=_0x7300cf['dataset'][_0x10432c(0x8df)],_0x1aa16b=_0x7300cf[_0x10432c(0x6b1)][_0x10432c(0x3cb)],_0x521382=prompt(_0x10432c(0x54c)+_0x515b58+_0x10432c(0x728),_0x1aa16b);if(_0x521382!==null&&_0x521382[_0x10432c(0x88c)]()!==''){const _0x521336=parseInt(_0x521382,0xa);!isNaN(_0x521336)?handleManualEditPoints(_0x515b58,_0x521336):alert(_0x10432c(0x76c));}}}),document['getElementById'](_0x5418d1(0xa43))?.[_0x5418d1(0x79a)](_0x5418d1(0xc64),()=>{const _0x3e3e3d=_0x5418d1;document[_0x3e3e3d(0xbeb)]('pin-entry-modal')[_0x3e3e3d(0xa1f)]['add'](_0x3e3e3d(0x9d8));}),document[_0x5418d1(0xb02)](_0x5418d1(0x68d))[_0x5418d1(0xbd3)](_0x173596=>{const _0x35215f=_0x5418d1;_0x173596[_0x35215f(0x79a)](_0x35215f(0xc64),()=>{const _0x38c874=_0x35215f;handlePinKeyPress(_0x173596['dataset'][_0x38c874(0xd23)]);});}),document[_0x5418d1(0xbeb)](_0x5418d1(0x31c))?.[_0x5418d1(0x79a)]('click',()=>{handlePinKeyPress('backspace');});}async function handleStartGroupMode(_0xbc696b,_0x93f287=![]){const _0x5bd3a4=_0x4ce511,_0x55a124=allQuizzes[_0x5bd3a4(0x340)](_0x3a18fd=>_0x3a18fd['id']===_0xbc696b)||allQuizzesGlobal[_0x5bd3a4(0x340)](_0x222e61=>_0x222e61['id']===_0xbc696b);if(!_0x55a124){showMessage(_0x5bd3a4(0x5c0));return;}currentQuizData=getShuffledQuiz(_0x55a124);const _0x222498=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x5bd3a4(0x823)]();try{const _0x1fb8cf=await addDoc(collection(db,_0x5bd3a4(0xcaf)+appId+'/public/data/teamQuizzes'),{'quizId':_0x55a124['id'],'projectId':_0x55a124['projectId'],'status':_0x5bd3a4(0xcb9),'pin':_0x222498,'mode':_0x5bd3a4(0x4fb),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x93f287});currentTeamQuizId=_0x1fb8cf['id'],showView(_0x5bd3a4(0x934)),renderAdminTeamQuizDashboard(_0x222498,_0x55a124['topic'],'group'),listenForTeamQuizUpdates();}catch(_0x36017e){console[_0x5bd3a4(0xd74)]('Error\x20starting\x20group\x20quiz:',_0x36017e),showMessage(_0x5bd3a4(0xeb1));}}async function showStudentProgressView(){const _0x2929f8=_0x4ce511;studentInitialView[_0x2929f8(0xa1f)][_0x2929f8(0x7e0)](_0x2929f8(0x9d8)),document[_0x2929f8(0xbeb)]('student-progress-view')['classList'][_0x2929f8(0x711)](_0x2929f8(0x9d8));const _0x42e828=document[_0x2929f8(0xbeb)](_0x2929f8(0x7d0)),_0x29b4a2=document['getElementById']('progress-student-select'),_0x1b2107=document[_0x2929f8(0xbeb)](_0x2929f8(0x4d6));_0x1b2107[_0x2929f8(0x28a)]=_0x2929f8(0x9ca),_0x29b4a2[_0x2929f8(0x28a)]=_0x2929f8(0x8e5),_0x29b4a2[_0x2929f8(0x272)]=!![],_0x42e828[_0x2929f8(0x28a)]=_0x2929f8(0x7d4);if(allProjects[_0x2929f8(0x81c)]===0x0){const _0x38ef8c=collection(db,_0x2929f8(0xcaf)+appId+_0x2929f8(0x74c)),_0x2ad2dc=await getDocs(_0x38ef8c);allProjects=_0x2ad2dc[_0x2929f8(0xf3c)][_0x2929f8(0xa15)](_0x56b74f=>({'id':_0x56b74f['id'],..._0x56b74f[_0x2929f8(0xbfb)]()}));}const _0x119eff=allProjects[_0x2929f8(0x395)](_0x2b2c37=>_0x2b2c37[_0x2929f8(0x4ea)]?.[_0x2929f8(0xbda)]!==![]);_0x119eff['sort']((_0x43c965,_0x3c639d)=>_0x43c965['projectName']['localeCompare'](_0x3c639d[_0x2929f8(0x9e0)],'th')),_0x42e828[_0x2929f8(0x28a)]=_0x2929f8(0xa8f)+_0x119eff['map'](_0x1df09b=>'<option\x20value=\x22'+_0x1df09b['id']+'\x22>'+_0x1df09b['projectName']+'</option>')['join'](''),_0x42e828['onchange']=()=>{const _0x4d1138=_0x2929f8,_0x30d8ce=_0x29b4a2[_0x4d1138(0xc07)],_0x4038fc=_0x42e828[_0x4d1138(0xc07)];_0x29b4a2['disabled']=!![],_0x29b4a2[_0x4d1138(0x28a)]=_0x4d1138(0x8e5),_0x1b2107['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x4038fc)return;const _0x172a5c=allProjects['find'](_0xd46a4c=>_0xd46a4c['id']===_0x4038fc);if(!_0x172a5c||!_0x172a5c['students'])return;const _0x260494=()=>{const _0x562158=_0x4d1138;_0x29b4a2[_0x562158(0x28a)]=_0x562158(0x8e5)+_0x172a5c[_0x562158(0x7cd)]['map'](_0x208ced=>_0x562158(0xd26)+_0x208ced+'\x22>'+_0x208ced+'</option>')[_0x562158(0x919)](''),_0x29b4a2['disabled']=![];const _0x3de7d9=Array['from'](_0x29b4a2['options'])[_0x562158(0xa15)](_0x5494fb=>_0x5494fb[_0x562158(0xc07)]);if(_0x30d8ce&&_0x3de7d9[_0x562158(0x87a)](_0x30d8ce))_0x29b4a2[_0x562158(0xc07)]=_0x30d8ce,_0x29b4a2[_0x562158(0xe66)](new Event(_0x562158(0xb5d)));else _0x172a5c[_0x562158(0x7cd)][_0x562158(0x81c)]===0x1&&(_0x29b4a2[_0x562158(0xc07)]=_0x172a5c[_0x562158(0x7cd)][0x0],_0x29b4a2[_0x562158(0xe66)](new Event(_0x562158(0xb5d))));};if(_0x172a5c[_0x4d1138(0x4ea)]?.[_0x4d1138(0x2da)]){if(sessionStorage[_0x4d1138(0xa37)](_0x4d1138(0xf3e)+_0x4038fc)===_0x4d1138(0xdff)){_0x260494();return;}const _0x4175d7=document[_0x4d1138(0xbeb)](_0x4d1138(0x37b)),_0x5b859b=document['getElementById']('confirm-passcode-btn'),_0x1b5bc6=document[_0x4d1138(0xbeb)](_0x4d1138(0x80e)),_0x4d0fb0=document[_0x4d1138(0xbeb)](_0x4d1138(0xf47)),_0x16b2bb=document[_0x4d1138(0xbeb)]('passcode-error-msg');document[_0x4d1138(0xbeb)](_0x4d1138(0x45c))[_0x4d1138(0x211)]=_0x4d1138(0xd4d)+_0x172a5c['projectName'],_0x4d0fb0[_0x4d1138(0xc07)]='',_0x16b2bb[_0x4d1138(0xa1f)]['add'](_0x4d1138(0x9d8)),_0x4175d7[_0x4d1138(0xa1f)][_0x4d1138(0x711)](_0x4d1138(0x9d8));const _0x2c61ca=()=>{const _0x3e9a2a=_0x4d1138,_0x5d855d=_0x4d0fb0['value']['trim']();_0x5d855d===_0x172a5c[_0x3e9a2a(0x4ea)][_0x3e9a2a(0x5e2)]?(sessionStorage[_0x3e9a2a(0x8b9)]('authed_project_'+_0x4038fc,_0x3e9a2a(0xdff)),_0x4175d7[_0x3e9a2a(0xa1f)][_0x3e9a2a(0x7e0)](_0x3e9a2a(0x9d8)),_0x260494(),_0x5b859b[_0x3e9a2a(0x8fb)](_0x3e9a2a(0xc64),_0x2c61ca)):_0x16b2bb[_0x3e9a2a(0xa1f)][_0x3e9a2a(0x711)]('hidden');};_0x5b859b['onclick']=_0x2c61ca,_0x1b5bc6[_0x4d1138(0x810)]=()=>{const _0x5a3b3d=_0x4d1138;_0x4175d7[_0x5a3b3d(0xa1f)][_0x5a3b3d(0x7e0)](_0x5a3b3d(0x9d8)),_0x42e828['value']='',_0x5b859b['removeEventListener'](_0x5a3b3d(0xc64),_0x2c61ca);};}else _0x260494();},_0x29b4a2[_0x2929f8(0x9a6)]=()=>{const _0x18ab84=_0x42e828['value'],_0xc15842=_0x29b4a2['value'];_0x18ab84&&_0xc15842&&renderStudentProgressDashboard(_0x18ab84,_0xc15842);};}async function confirmAndJoinSyncGame(){const _0x34c9cd=_0x4ce511;lastSeenQuestionIndex=-0x1,sessionStorage[_0x34c9cd(0x822)]('pollUsedThisTurn'),sessionStorage[_0x34c9cd(0x822)](_0x34c9cd(0xef1)),Object[_0x34c9cd(0xafa)](sessionStorage)[_0x34c9cd(0xbd3)](_0x38da43=>{const _0x2294d6=_0x34c9cd;(_0x38da43[_0x2294d6(0x733)]('freeMarketEntryUsed_q')||_0x38da43[_0x2294d6(0x733)](_0x2294d6(0xe80))||_0x38da43[_0x2294d6(0x733)](_0x2294d6(0x28c)))&&sessionStorage[_0x2294d6(0x822)](_0x38da43);});const _0x368dde=Array['from'](document['querySelectorAll'](_0x34c9cd(0x1cc)))[_0x34c9cd(0xa15)](_0x68d80c=>_0x68d80c[_0x34c9cd(0xc07)]);if(_0x368dde[_0x34c9cd(0x81c)]===0x0){showMessage(_0x34c9cd(0xa80));return;}localTeamPlayers=_0x368dde,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x1b39d3=writeBatch(db),_0x5495b5=serverTimestamp();_0x368dde[_0x34c9cd(0xbd3)](_0x15eb0e=>{const _0x301377=_0x34c9cd,_0x50557f=doc(db,_0x301377(0xcaf)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x301377(0xd94),_0x15eb0e),_0x385b1a={'name':_0x15eb0e,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x301377(0x829),'answers':[],'joinedAt':_0x5495b5,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x1b39d3[_0x301377(0xaa8)](_0x50557f,_0x385b1a,{'merge':!![]});}),await _0x1b39d3[_0x34c9cd(0xe24)](),showView(_0x34c9cd(0x934)),document['getElementById']('student-team-selection-view')[_0x34c9cd(0xa1f)][_0x34c9cd(0x7e0)](_0x34c9cd(0x9d8)),currentStudentName=_0x368dde[0x0],listenForSyncGameUpdates();const _0x150a24={'gameId':currentLiveGameId,'mode':_0x34c9cd(0xe25),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x34c9cd(0x8b9)](_0x34c9cd(0xaed),JSON[_0x34c9cd(0xe4f)](_0x150a24)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x34c9cd(0x79a)](_0x34c9cd(0x968),handleFullscreenChange),document['addEventListener'](_0x34c9cd(0xce3),handleVisibilityChange),enterFullscreen(),window[_0x34c9cd(0x79a)](_0x34c9cd(0xec3),resetDimTimer),window[_0x34c9cd(0x79a)](_0x34c9cd(0xaac),resetDimTimer),window[_0x34c9cd(0x79a)](_0x34c9cd(0x4b0),resetDimTimer),window[_0x34c9cd(0x79a)](_0x34c9cd(0x7a9),resetDimTimer),resetDimTimer());}catch(_0xa05b7a){console['error'](_0x34c9cd(0x42a),_0xa05b7a),showMessage(_0x34c9cd(0xe78)+_0xa05b7a[_0x34c9cd(0x68f)]);}}async function resumeActiveGameSession(){const _0x3b54db=_0x4ce511,_0x5ec7b9=sessionStorage[_0x3b54db(0xa37)](_0x3b54db(0xaed));if(!_0x5ec7b9)return;const _0x196a04=JSON[_0x3b54db(0x6d2)](_0x5ec7b9),{gameId:_0x332ee8,mode:_0x12c996,role:_0x3f9215,players:_0x70b943,turnIndex:_0x38c708}=_0x196a04;try{if(_0x3f9215==='admin'&&_0x12c996===_0x3b54db(0xe25)){const _0x2b0612=doc(db,'artifacts/'+appId+_0x3b54db(0x2a0),_0x332ee8),_0x163e34=await getDoc(_0x2b0612);if(!_0x163e34[_0x3b54db(0x358)]()||_0x163e34[_0x3b54db(0xbfb)]()[_0x3b54db(0x3a7)]===_0x3b54db(0x9d4)||_0x163e34[_0x3b54db(0xbfb)]()[_0x3b54db(0x3a7)]===_0x3b54db(0xf5d)){sessionStorage['removeItem'](_0x3b54db(0xaed));return;}console['log'](_0x3b54db(0x8bd)+_0x332ee8+')'),currentMode=_0x3b54db(0x203),currentLiveGameId=_0x332ee8,currentQuizData=_0x163e34[_0x3b54db(0xbfb)]()[_0x3b54db(0x663)],showView(_0x3b54db(0x934)),listenForSyncGameUpdates();}else{if(_0x12c996===_0x3b54db(0xe25)&&_0x70b943){const _0x2478fe=doc(db,_0x3b54db(0xcaf)+appId+_0x3b54db(0x2a0),_0x332ee8),_0x25459a=await getDoc(_0x2478fe);if(!_0x25459a[_0x3b54db(0x358)]()||_0x25459a[_0x3b54db(0xbfb)]()[_0x3b54db(0x3a7)]===_0x3b54db(0x9d4)||_0x25459a[_0x3b54db(0xbfb)]()[_0x3b54db(0x3a7)]===_0x3b54db(0xf5d)){sessionStorage[_0x3b54db(0x822)]('activeGameSession');return;}console[_0x3b54db(0x2c0)](_0x3b54db(0x514)+_0x332ee8+')'),currentLiveGameId=_0x332ee8,currentStudentName=_0x70b943[0x0],localTeamPlayers=_0x70b943,showView(_0x3b54db(0x934)),listenForSyncGameUpdates();}else{if((_0x12c996===_0x3b54db(0xd29)||_0x12c996===_0x3b54db(0x4fb))&&_0x70b943){const _0x286ac6=doc(db,_0x3b54db(0xcaf)+appId+'/public/data/teamQuizzes',_0x332ee8),_0x553a1e=await getDoc(_0x286ac6);if(!_0x553a1e[_0x3b54db(0x358)]()||_0x553a1e[_0x3b54db(0xbfb)]()[_0x3b54db(0x3a7)]===_0x3b54db(0x9d4)||_0x553a1e[_0x3b54db(0xbfb)]()[_0x3b54db(0x3a7)]===_0x3b54db(0xf5d)){sessionStorage[_0x3b54db(0x822)]('activeGameSession');return;}console[_0x3b54db(0x2c0)](_0x3b54db(0xf3b)+_0x12c996+_0x3b54db(0x3fc)+_0x332ee8+')'),currentTeamQuizId=_0x332ee8,localTeamPlayers=_0x70b943,localQuestionIndex=_0x196a04['questionIndex']||0x0,localPlayerIndex=_0x196a04[_0x3b54db(0xb77)]||0x0;const _0xa2e5e4=_0x553a1e['data'](),_0x550fea=doc(db,_0x3b54db(0xcaf)+appId+_0x3b54db(0x24f),_0xa2e5e4[_0x3b54db(0xc9b)]),_0x478152=await getDoc(_0x550fea);_0x478152[_0x3b54db(0x358)]()&&(currentQuizData=getShuffledQuiz({'id':_0x478152['id'],..._0x478152[_0x3b54db(0xbfb)]()}),showView(_0x3b54db(0x2ec)),studentInitialView[_0x3b54db(0xa1f)]['add'](_0x3b54db(0x9d8)),_0x12c996===_0x3b54db(0x4fb)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x4a774f){console['error'](_0x3b54db(0x6f8),_0x4a774f),sessionStorage[_0x3b54db(0x822)](_0x3b54db(0xaed));}}async function handleUsePowerup(_0x36a6c3,_0x451158,_0x20e8a5,_0x3347e3,_0x5e4cab){const _0x4ff181=_0x4ce511,_0x2ae28f=_0x3347e3[_0x4ff181(0x568)],_0x4fe964=_0x4ff181(0xe80)+_0x2ae28f+'_p'+_0x36a6c3,_0x4d7bb8=sessionStorage[_0x4ff181(0xa37)](_0x4fe964);if(_0x4d7bb8&&_0x451158!==_0x4ff181(0x266)&&_0x451158!==_0x4ff181(0x70b)){showMessage(_0x4ff181(0x2c4));const _0x150fd6=document['getElementById'](_0x4ff181(0xdd7)+_0x451158);if(_0x150fd6)_0x150fd6[_0x4ff181(0x272)]=![];return;}if(_0x451158==='wagerMultiplier'){sessionStorage[_0x4ff181(0x8b9)](_0x4fe964,_0x451158),playSystemSound('powerup'),renderStudentSyncQuestionView(_0x3347e3);return;}const _0x5aad7f=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x36a6c3);try{await runTransaction(db,async _0x396915=>{const _0x2c2806=_0x4ff181,_0x360971=await _0x396915['get'](_0x5aad7f);if(!_0x360971[_0x2c2806(0x358)]())throw _0x2c2806(0xd62);const _0x386bba=_0x360971[_0x2c2806(0xbfb)](),_0x1b6556=_0x386bba['powerups']||{},_0x18690b=_0x1b6556[_0x451158]||0x0;if(_0x18690b<=0x0)throw'คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)';const _0x601bd1={};_0x601bd1[_0x2c2806(0x376)+_0x451158]=increment(-0x1);_0x451158!=='wagerMultiplier'&&(_0x601bd1[_0x2c2806(0x905)]=0x0);if(_0x451158==='buyTime'){const _0x3a7ee1=(_0x3347e3['timerDuration']||0xf0)*0x3e8,_0x38f703=_0x3a7ee1*0.25;_0x601bd1[_0x2c2806(0x7da)]=increment(_0x38f703);}_0x396915[_0x2c2806(0x55d)](_0x5aad7f,_0x601bd1);}),_0x451158===_0x4ff181(0xb17)&&sessionStorage[_0x4ff181(0x8b9)]('pollUsedThisTurn',_0x4ff181(0xdff)),_0x451158!==_0x4ff181(0x266)&&_0x451158!=='strategyScan'&&sessionStorage[_0x4ff181(0x8b9)](_0x4fe964,_0x451158),playSystemSound(_0x4ff181(0x833)),applyPowerupEffect(_0x36a6c3,_0x451158,_0x20e8a5,_0x3347e3,_0x5e4cab),(_0x451158==='cutOne'||_0x451158===_0x4ff181(0x707)||_0x451158===_0x4ff181(0x630)||_0x451158===_0x4ff181(0xbef))&&renderStudentSyncQuestionView(_0x3347e3),_0x451158!=='wagerMultiplier'&&_0x5e4cab[_0x4ff181(0x905)]>0x0&&showMessage(_0x4ff181(0xc17)+_0x451158+_0x4ff181(0xcbe));}catch(_0x284af5){console['error']('Powerup\x20use\x20failed:',_0x284af5),showMessage(typeof _0x284af5===_0x4ff181(0xba8)?_0x284af5:_0x4ff181(0x20d));const _0x153f39=document['getElementById'](_0x4ff181(0xdd7)+_0x451158);if(_0x153f39)_0x153f39['disabled']=![];}}async function getCachedOtherPlayers(_0x4329ee,_0x5525ee){const _0x232a0d=_0x4ce511,_0x4af736=_0x4329ee[_0x232a0d(0x568)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x4af736)return console[_0x232a0d(0x2c0)]('ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)'),cachedOtherPlayersForQuestion;console[_0x232a0d(0x2c0)](_0x232a0d(0xb61));const _0x3b31b7=collection(db,_0x232a0d(0xcaf)+appId+_0x232a0d(0x1ec)+currentLiveGameId+'/players'),_0x94f981=query(_0x3b31b7,where('status','==',_0x232a0d(0x829))),_0x13f367=await getDocs(_0x94f981),_0x25e06e=[];return _0x13f367[_0x232a0d(0xbd3)](_0x13ddcf=>{const _0x5ad7a1=_0x232a0d,_0x366815=_0x13ddcf[_0x5ad7a1(0xbfb)]();_0x25e06e[_0x5ad7a1(0x9ba)](_0x366815);}),cachedOtherPlayersForQuestion=_0x25e06e,cachedQuestionIndexForPlayers=_0x4af736,_0x25e06e;}async function applyPowerupEffect(_0x247f9b,_0x136504,_0x1f81ab,_0x12100b,_0x23949d){const _0x3b8715=_0x4ce511,_0x4532a8=_0x1f81ab,_0x15ed60=_0x12100b[_0x3b8715(0x568)];switch(_0x136504){case _0x3b8715(0xc67):showMessage('💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน');break;case _0x3b8715(0x899):showMessage('🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง');break;case'buyTime':const _0x40e603=(_0x12100b['timerDuration']||0xf0)*0.25;showMessage('⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20'+_0x40e603+_0x3b8715(0x4c7));break;case _0x3b8715(0x317):case'fiftyFifty':const _0x2c21fc=document['querySelectorAll'](_0x3b8715(0x62c));if(_0x2c21fc[_0x3b8715(0x81c)]===0x0){showMessage(_0x3b8715(0x4b1));return;}const _0x40ef90=_0x3b8715(0x28c)+_0x15ed60+'_p'+_0x247f9b,_0x40dd76=JSON['parse'](sessionStorage[_0x3b8715(0xa37)](_0x40ef90)||'[]');let _0x1db7bf;const _0x2e23c8=_0x4532a8[_0x3b8715(0xd06)]||_0x12100b[_0x3b8715(0x663)][_0x3b8715(0xd15)];_0x2e23c8==='true_false'?_0x1db7bf=String(_0x4532a8[_0x3b8715(0xdec)])[_0x3b8715(0x298)]()===_0x3b8715(0xdff)?0x0:0x1:_0x1db7bf=_0x4532a8['correctAnswerIndex'];const _0xc2182e=Array['from'](_0x2c21fc)['filter'](_0x21b8ab=>parseInt(_0x21b8ab[_0x3b8715(0x6b1)][_0x3b8715(0xc07)])!==_0x1db7bf&&!_0x40dd76[_0x3b8715(0x87a)](_0x21b8ab['dataset'][_0x3b8715(0xc07)]));if(_0xc2182e[_0x3b8715(0x81c)]===0x0){showMessage('ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!');return;}shuffleArray(_0xc2182e);const _0xa26ca9=_0x136504===_0x3b8715(0x317)?0x1:0x2,_0x315ce8=[];for(let _0x1d3b3e=0x0;_0x1d3b3e<_0xa26ca9;_0x1d3b3e++){_0xc2182e[_0x1d3b3e]&&(_0xc2182e[_0x1d3b3e][_0x3b8715(0xa1f)][_0x3b8715(0x7e0)]('hidden'),_0x315ce8['push'](_0xc2182e[_0x1d3b3e][_0x3b8715(0x6b1)][_0x3b8715(0xc07)]));}const _0x33c984=[..._0x40dd76,..._0x315ce8];sessionStorage['setItem'](_0x40ef90,JSON[_0x3b8715(0xe4f)](_0x33c984)),showMessage(_0x136504===_0x3b8715(0x317)?_0x3b8715(0x45e):_0x3b8715(0x98f));break;default:showMessage(_0x3b8715(0x56e)+_0x136504+_0x3b8715(0x7f1));}}async function handleForceConfident(_0x2ef983,_0x5a48ca){const _0xa160c1=_0x4ce511;if(!currentLiveGameId||!_0x2ef983)return;const _0x2a3eee=doc(db,_0xa160c1(0xcaf)+appId+'/public/data/syncGames/'+currentLiveGameId+_0xa160c1(0xd94),_0x2ef983);try{await updateDoc(_0x2a3eee,{'isForcedConfident':!![]}),showMessage('ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20'+_0x5a48ca+'\x20สำเร็จ!');}catch(_0x44ece1){console[_0xa160c1(0xd74)](_0xa160c1(0xa5d),_0x44ece1),showMessage(_0xa160c1(0xa44));}}async function handleRefundPowerup(_0x2b7136,_0xd492bc){const _0x578f78=_0x4ce511,_0x1a8b9c=doc(db,_0x578f78(0xcaf)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x2b7136);try{const _0x2a19f2={};_0x2a19f2['powerups.'+_0xd492bc]=increment(0x1),await updateDoc(_0x1a8b9c,_0x2a19f2),console[_0x578f78(0x2c0)](_0x578f78(0xb8f)+_0xd492bc+_0x578f78(0x218)+_0x2b7136);}catch(_0x3fe21e){console[_0x578f78(0xd74)](_0x578f78(0x2eb),_0x3fe21e);}}async function handleApplyJinx(_0x225788,_0x5222a6){const _0x57cb77=_0x4ce511;if(!currentLiveGameId||!_0x225788)return;const _0x2092a2=doc(db,_0x57cb77(0xcaf)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x225788);try{await updateDoc(_0x2092a2,{'isJinxed':!![]}),showMessage(_0x57cb77(0x357)+_0x5222a6+_0x57cb77(0x921));}catch(_0x3d551c){console['error']('Failed\x20to\x20apply\x20jinx:',_0x3d551c),showMessage(_0x57cb77(0xa44));}}function activateFileInputAreaWithLoadedFile(){const _0x3f0a10=_0x4ce511,_0x39ddb4=document[_0x3f0a10(0xbeb)](_0x3f0a10(0x915)),_0x133c9c=document[_0x3f0a10(0xbeb)](_0x3f0a10(0xb49)),_0x2c1350=document[_0x3f0a10(0xbeb)](_0x3f0a10(0xc09));selectedFile?_0x2c1350['checked']?(_0x39ddb4['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x39ddb4[_0x3f0a10(0x272)]=![],_0x133c9c[_0x3f0a10(0xa1f)][_0x3f0a10(0x7e0)](_0x3f0a10(0x9d8))):(_0x39ddb4[_0x3f0a10(0x272)]=!![],_0x133c9c['classList'][_0x3f0a10(0x7e0)](_0x3f0a10(0x9d8)));}async function handleKickPlayerSync(_0x4bb631){const _0x1dc107=_0x4ce511;if(!currentLiveGameId||!_0x4bb631)return;const _0x6ebaaf=doc(db,'artifacts/'+appId+_0x1dc107(0x1ec)+currentLiveGameId+_0x1dc107(0xd94),_0x4bb631);try{await updateDoc(_0x6ebaaf,{'status':'inactive'});}catch(_0x1e3bbd){console[_0x1dc107(0xd74)](_0x1dc107(0x599)+_0x4bb631+':',_0x1e3bbd),showMessage(_0x1dc107(0xb10));}}async function renderStudentProgressDashboard(_0x109352,_0xcddfb){const _0x3c033f=_0x4ce511,_0xfec816=document[_0x3c033f(0xbeb)](_0x3c033f(0x4d6));_0xfec816[_0x3c033f(0x28a)]=_0x3c033f(0x50c);try{const _0x48c591=collection(db,_0x3c033f(0xcaf)+appId+_0x3c033f(0x24f)),_0x2ce300=query(_0x48c591,where(_0x3c033f(0xc3a),'==',_0x109352)),_0x5d64dd=await getDocs(_0x2ce300),_0xd7891f=_0x5d64dd[_0x3c033f(0xf3c)][_0x3c033f(0xa15)](_0x500f10=>({'id':_0x500f10['id'],..._0x500f10[_0x3c033f(0xbfb)]()})),_0x1037af=_0xd7891f[_0x3c033f(0xa15)](_0x143f11=>getDoc(doc(db,_0x3c033f(0xcaf)+appId+_0x3c033f(0x284)+_0x143f11['id']+_0x3c033f(0x65f),_0xcddfb))),_0x1a131e=await Promise[_0x3c033f(0x408)](_0x1037af),_0x3bfa4b=_0x1a131e[_0x3c033f(0x395)](_0x30cc9e=>_0x30cc9e[_0x3c033f(0x358)]())[_0x3c033f(0xa15)](_0x5ee60f=>({'quizId':_0x5ee60f[_0x3c033f(0x519)][_0x3c033f(0xd2e)][_0x3c033f(0xd2e)]['id'],..._0x5ee60f[_0x3c033f(0xbfb)]()}));if(_0x3bfa4b['length']===0x0){_0xfec816[_0x3c033f(0x28a)]=_0x3c033f(0x929);return;}let _0x2b8041=_0x3c033f(0xdea);_0x3bfa4b[_0x3c033f(0xbd3)](_0x56e21f=>{const _0x4c93e6=_0x3c033f,_0x203b2f=_0xd7891f[_0x4c93e6(0x340)](_0x3d4cb9=>_0x3d4cb9['id']===_0x56e21f[_0x4c93e6(0xc9b)]),_0x155094=_0x203b2f['settings']?.[_0x4c93e6(0x657)]||_0x4c93e6(0xac0),_0x839870=_0x203b2f[_0x4c93e6(0x4ea)]?.[_0x4c93e6(0x2b5)]??0x0,_0x3d251a=_0x56e21f[_0x4c93e6(0x409)]>=_0x839870;let _0x4da56a='',_0x30621b=_0x4c93e6(0xf1d);switch(_0x155094){case _0x4c93e6(0xac0):case _0x4c93e6(0x992):_0x30621b=_0x3d251a?_0x4c93e6(0x832):_0x4c93e6(0x4b9),_0x4da56a=_0x4c93e6(0x419)+(_0x3d251a?_0x4c93e6(0xabd):'text-red-700')+'\x22>'+_0x56e21f[_0x4c93e6(0x409)]+_0x4c93e6(0xeac)+_0x56e21f['totalQuestions']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x3d251a?'bg-green-200\x20text-green-800':_0x4c93e6(0xd03))+'\x22>'+(_0x3d251a?_0x4c93e6(0x56b):_0x4c93e6(0x3b4))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4c93e6(0xb28):_0x30621b=_0x3d251a?_0x4c93e6(0x832):_0x4c93e6(0x4b9),_0x4da56a=_0x4c93e6(0x36d)+(_0x3d251a?_0x4c93e6(0xa9b):_0x4c93e6(0xd03))+'\x22>'+(_0x3d251a?_0x4c93e6(0x56b):_0x4c93e6(0x3b4))+_0x4c93e6(0xdac);break;case _0x4c93e6(0xc48):_0x30621b='bg-yellow-50',_0x4da56a=_0x4c93e6(0x32c);break;}_0x2b8041+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x30621b+_0x4c93e6(0x3da)+_0x203b2f['topic']+_0x4c93e6(0x730)+_0x56e21f[_0x4c93e6(0x8d7)]['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x56e21f[_0x4c93e6(0xe97)])[_0x4c93e6(0x52a)]('th-TH')+_0x4c93e6(0x465)+_0x4da56a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2b8041+='</div>',_0xfec816['innerHTML']=_0x2b8041;}catch(_0x133e61){console['error'](_0x3c033f(0x258),_0x133e61),_0xfec816['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x1276ad=''){const _0x2ce9a8=_0x4ce511,_0x5e01d6=document['getElementById'](_0x2ce9a8(0x7fc)),_0x269e29=_0x1276ad[_0x2ce9a8(0x298)]()[_0x2ce9a8(0x88c)](),_0xd80bd3=allQuizzesGlobal[_0x2ce9a8(0xa15)](_0x3b080a=>({..._0x3b080a,'projectName':allProjects[_0x2ce9a8(0x340)](_0x487277=>_0x487277['id']===_0x3b080a[_0x2ce9a8(0xc3a)])?.['projectName']||_0x2ce9a8(0x30b)}))['filter'](_0xc4296b=>(_0xc4296b[_0x2ce9a8(0x8ba)]||'')[_0x2ce9a8(0x298)]()[_0x2ce9a8(0x87a)](_0x269e29)||(_0xc4296b[_0x2ce9a8(0x9e0)]||'')['toLowerCase']()[_0x2ce9a8(0x87a)](_0x269e29)||_0xc4296b['id'][_0x2ce9a8(0x823)]()[_0x2ce9a8(0x87a)](_0x269e29));_0x5e01d6['innerHTML']=_0xd80bd3[_0x2ce9a8(0x81c)]?_0xd80bd3['map'](_0x95cb7=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x95cb7['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x95cb7['topic']||_0x2ce9a8(0x67b))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x95cb7[_0x2ce9a8(0x9e0)]+'\x20|\x20ID:\x20'+_0x95cb7['id']+_0x2ce9a8(0x410))['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x5e01d6[_0x2ce9a8(0x9a6)]=()=>{const _0xf0d063=_0x2ce9a8,_0x1ec16e=document[_0xf0d063(0x2d0)](_0xf0d063(0x2f3));document[_0xf0d063(0xbeb)]('confirm-link-quiz-btn')[_0xf0d063(0x272)]=!_0x1ec16e;};}function setupStudentProgressListeners(){const _0x2d808e=_0x4ce511;document[_0x2d808e(0xbeb)](_0x2d808e(0x3a2))[_0x2d808e(0x79a)](_0x2d808e(0xc64),showStudentProgressView),document['getElementById'](_0x2d808e(0x804))[_0x2d808e(0x79a)]('click',()=>{const _0x49a87a=_0x2d808e;document['getElementById']('student-progress-view')['classList'][_0x49a87a(0x7e0)](_0x49a87a(0x9d8)),document['getElementById'](_0x49a87a(0xc50))[_0x49a87a(0xa1f)][_0x49a87a(0x711)](_0x49a87a(0x9d8));});}async function startSkillPractice(_0x114572){const _0x48abd8=_0x4ce511;studentResultArea[_0x48abd8(0xa1f)][_0x48abd8(0x7e0)](_0x48abd8(0x9d8)),studentQuizArea[_0x48abd8(0x28a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x48abd8(0xa1f)][_0x48abd8(0x711)]('hidden');try{const _0x3d7b41=await getStandardizedTopic(_0x114572);console[_0x48abd8(0x2c0)](_0x48abd8(0xe76)+_0x114572+_0x48abd8(0xe0c)+_0x3d7b41+'\x22'),studentQuizArea[_0x48abd8(0x2d0)]('p')[_0x48abd8(0x211)]=_0x48abd8(0x7d5)+_0x3d7b41+_0x48abd8(0xd11);const _0x3368ae=collection(db,_0x48abd8(0xcaf)+appId+_0x48abd8(0xd12)),_0x4a7db4=query(_0x3368ae,where(_0x48abd8(0x8ba),'==',_0x3d7b41)),_0xed7580=await getDocs(_0x4a7db4);if(_0xed7580[_0x48abd8(0xf3c)][_0x48abd8(0x81c)]>=0x3){console[_0x48abd8(0x2c0)](_0x48abd8(0x555)+_0xed7580[_0x48abd8(0xf3c)][_0x48abd8(0x81c)]+_0x48abd8(0xdfc)+_0x3d7b41+_0x48abd8(0x974));let _0x134d61=_0xed7580['docs'][_0x48abd8(0xa15)](_0x15b797=>_0x15b797[_0x48abd8(0xbfb)]());shuffleArray(_0x134d61);const _0x4b10e2={'topic':_0x3d7b41,'questions':_0x134d61[_0x48abd8(0x2c1)](0x0,0x3)};displaySkillPracticeDrill(_0x4b10e2);}else{console[_0x48abd8(0x2c0)](_0x48abd8(0xd87)+_0x3d7b41+_0x48abd8(0x49c));const _0x2a6995=await generatePracticeQuestions(_0x3d7b41);await saveDrillToPracticeBank(_0x2a6995,_0x3d7b41),displaySkillPracticeDrill(_0x2a6995);}}catch(_0x238c90){console[_0x48abd8(0xd74)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x238c90),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x48abd8(0xa1f)][_0x48abd8(0x7e0)](_0x48abd8(0x9d8)),studentResultArea['classList']['remove'](_0x48abd8(0x9d8));}}async function saveDrillToPracticeBank(_0x426f2c,_0x41f0dc){const _0x22be99=_0x4ce511,_0x2b0d83=collection(db,'artifacts/'+appId+_0x22be99(0xd12)),_0x2d45df=writeBatch(db);_0x426f2c['questions'][_0x22be99(0xbd3)](_0x3dbdf0=>{const _0x36e668=_0x22be99,_0x34947c=doc(_0x2b0d83);_0x2d45df['set'](_0x34947c,{'topic':_0x41f0dc,'questionText':_0x3dbdf0['questionText'],'options':_0x3dbdf0[_0x36e668(0xdf0)],'correctAnswerIndex':_0x3dbdf0[_0x36e668(0xae5)],'explanation':_0x3dbdf0[_0x36e668(0x58b)],'createdAt':serverTimestamp()});});try{await _0x2d45df[_0x22be99(0xe24)](),console[_0x22be99(0x2c0)]('บันทึกคำถามใหม่\x20'+_0x426f2c[_0x22be99(0x7bb)][_0x22be99(0x81c)]+_0x22be99(0x4f6));}catch(_0x57d82d){console['error']('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x57d82d);}}async function getStandardizedTopic(_0x26e73b){const _0x2e5087=_0x4ce511,_0xdd1bb2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x26e73b+_0x2e5087(0x2bf),_0x140cee={'type':_0x2e5087(0x24c),'properties':{'standardTopic':{'type':_0x2e5087(0xa2b)}},'required':[_0x2e5087(0x567)]};try{const _0x236ac2=await callAnalysisApi(_0xdd1bb2,_0x140cee);return _0x236ac2[_0x2e5087(0x567)];}catch(_0x3f760b){return console[_0x2e5087(0xd74)](_0x2e5087(0x60b),_0x3f760b),_0x26e73b;}}async function handleGenerateEasyVersionQuiz(_0x54cb2a){const _0x4c9318=_0x4ce511,_0x25555c=document[_0x4c9318(0xbeb)](_0x4c9318(0xb19)),_0x91b906=document['getElementById'](_0x4c9318(0xa01));_0x91b906[_0x4c9318(0xa1f)][_0x4c9318(0x7e0)](_0x4c9318(0x9d8));const _0x1f5aba='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x25555c[_0x4c9318(0x312)](_0x4c9318(0x5ba),_0x1f5aba);try{const _0x2dc7bc=allQuizzes[_0x4c9318(0x340)](_0x3b21eb=>_0x3b21eb['id']===_0x54cb2a);if(!_0x2dc7bc)throw new Error(_0x4c9318(0x2cb));const _0x5613a0=_0x4c9318(0x572)+JSON['stringify'](_0x2dc7bc[_0x4c9318(0x7bb)])+_0x4c9318(0x3e7),_0x47d2a1={'type':_0x4c9318(0x24c),'properties':{'questionText':{'type':_0x4c9318(0xa2b)},'questionType':{'type':_0x4c9318(0xa2b)},'options':{'type':_0x4c9318(0x216),'items':{'type':_0x4c9318(0xa2b)}},'correctAnswerIndex':{'type':_0x4c9318(0xd7b)},'idealAnswer':{'type':_0x4c9318(0xa2b)},'explanation':{'type':_0x4c9318(0xa2b)},'imageCode':{'type':'STRING'}},'required':[_0x4c9318(0xbc2),'questionType',_0x4c9318(0x58b)]},_0x299838={'type':_0x4c9318(0x24c),'properties':{'questions':{'type':_0x4c9318(0x216),'items':_0x47d2a1}},'required':[_0x4c9318(0x7bb)]},_0x2b1711=await callAnalysisApi(_0x5613a0,_0x299838);_0x2b1711&&_0x2b1711['questions']&&_0x2b1711[_0x4c9318(0x7bb)][_0x4c9318(0xbd3)](_0x15fe94=>{const _0x30b2b7=_0x4c9318;if(_0x15fe94[_0x30b2b7(0x93b)](_0x30b2b7(0xf2d))){const _0x3be043=String(_0x15fe94[_0x30b2b7(0xf2d)])[_0x30b2b7(0x88c)]();(_0x3be043===''||_0x3be043['toLowerCase']()===_0x30b2b7(0xa76)||!_0x3be043['startsWith']('<svg'))&&delete _0x15fe94[_0x30b2b7(0xf2d)];}});if(!_0x2b1711||!_0x2b1711[_0x4c9318(0x7bb)]||_0x2b1711[_0x4c9318(0x7bb)][_0x4c9318(0x81c)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x251f69=_0x2b1711[_0x4c9318(0x7bb)][_0x4c9318(0xa15)]((_0x43aa66,_0x33735e)=>({..._0x43aa66,'id':'q_'+Date['now']()+'_'+_0x33735e})),_0x624166={'projectId':_0x2dc7bc[_0x4c9318(0xc3a)],'quizType':_0x2dc7bc[_0x4c9318(0xd15)],'settings':_0x2dc7bc[_0x4c9318(0x4ea)],'createdBy':_0x2dc7bc[_0x4c9318(0xb3a)],'status':_0x4c9318(0x829),'topic':_0x4c9318(0x4df)+_0x2dc7bc[_0x4c9318(0x8ba)],'questions':_0x251f69,'createdAt':new Date()['toISOString'](),'quizMode':'standard','pairedQuizId':null};let _0x55e227;while(!![]){_0x55e227=Math['floor'](0x3e8+Math[_0x4c9318(0x3c9)]()*0x2328)[_0x4c9318(0x823)]();const _0x3502da=await getDoc(doc(db,'artifacts/'+appId+_0x4c9318(0x24f),_0x55e227));if(!_0x3502da[_0x4c9318(0x358)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x4c9318(0x24f),_0x55e227),_0x624166),showMessage(_0x4c9318(0x372));}catch(_0x1c25b5){console['error']('Error\x20generating\x20easy\x20version\x20quiz:',_0x1c25b5),showMessage(_0x4c9318(0x571)+_0x1c25b5[_0x4c9318(0x68f)]);}finally{const _0x2b6c91=document[_0x4c9318(0xbeb)](_0x4c9318(0xf5a));_0x2b6c91&&_0x2b6c91[_0x4c9318(0x711)](),_0x91b906[_0x4c9318(0xa1f)][_0x4c9318(0x711)](_0x4c9318(0x9d8));}}async function generatePracticeQuestions(_0x42c169){const _0x269415=_0x4ce511,_0x35e965='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x42c169+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x3a485c={'type':'OBJECT','properties':{'questionText':{'type':_0x269415(0xa2b)},'options':{'type':_0x269415(0x216),'items':{'type':_0x269415(0xa2b)}},'correctAnswerIndex':{'type':_0x269415(0xd7b)},'explanation':{'type':_0x269415(0xa2b)}},'required':[_0x269415(0xbc2),'options',_0x269415(0xae5),_0x269415(0x58b)]},_0x154226={'type':'OBJECT','properties':{'topic':{'type':_0x269415(0xa2b)},'questions':{'type':_0x269415(0x216),'items':_0x3a485c}},'required':['topic',_0x269415(0x7bb)]};return await callAnalysisApi(_0x35e965,_0x154226);}function displayLessonPlan(_0x55ff37,_0x52f92b){const _0x57413f=_0x4ce511,_0x156acf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x52f92b['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x55ff37[_0x57413f(0x738)]['map'](_0x455a10=>_0x57413f(0xe4b)+_0x455a10+_0x57413f(0x431))['join']('')+_0x57413f(0xc21)+_0x55ff37[_0x57413f(0xc66)]+_0x57413f(0xb32)+_0x55ff37[_0x57413f(0xdfb)][_0x57413f(0xa15)](_0x2a817e=>_0x57413f(0x858)+_0x2a817e[_0x57413f(0x5f4)]+_0x57413f(0xd56)+_0x2a817e[_0x57413f(0x318)]+'</p></div>')[_0x57413f(0x919)]('')+_0x57413f(0x67c);document[_0x57413f(0xbeb)](_0x57413f(0xb71))[_0x57413f(0x211)]=_0x57413f(0x633)+_0x52f92b['topic'],document[_0x57413f(0xbeb)]('lesson-plan-content')[_0x57413f(0x28a)]=_0x156acf,document[_0x57413f(0xbeb)](_0x57413f(0xcb0))[_0x57413f(0xa1f)][_0x57413f(0x711)](_0x57413f(0x9d8));if(window[_0x57413f(0xeb4)])MathJax[_0x57413f(0x61b)]();}function displaySkillPracticeDrill(_0x239842){const _0x249b88=_0x4ce511;let _0x4d041d=0x0;const _0x39a0cb=_0x239842[_0x249b88(0x7bb)],_0x3a5128=()=>{const _0xf96fa4=_0x249b88,_0x4226fc=_0x39a0cb[_0x4d041d],_0x1581dc=_0xf96fa4(0x92f)+(_0x4d041d+0x1)+_0xf96fa4(0xeac)+_0x39a0cb['length']+_0xf96fa4(0xc1e)+_0x4226fc[_0xf96fa4(0xbc2)]+_0xf96fa4(0x618)+_0x4226fc[_0xf96fa4(0xdf0)][_0xf96fa4(0xa15)]((_0x255bcd,_0x3da3f3)=>_0xf96fa4(0xdc4)+_0x3da3f3+_0xf96fa4(0x894)+_0x3da3f3+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x3da3f3+'\x22>'+_0x255bcd+_0xf96fa4(0xb75))[_0xf96fa4(0x919)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x1581dc;if(window[_0xf96fa4(0xeb4)])MathJax[_0xf96fa4(0x61b)]([studentQuizArea]);document[_0xf96fa4(0xbeb)](_0xf96fa4(0x9b5))[_0xf96fa4(0x79a)](_0xf96fa4(0xc64),async()=>{const _0x592431=_0xf96fa4,_0x55bbb4=await getHintForQuestion(_0x4226fc[_0x592431(0xbc2)]);showMessage(_0x55bbb4);}),document[_0xf96fa4(0xbeb)]('check-answer-btn')[_0xf96fa4(0x79a)](_0xf96fa4(0xc64),()=>{const _0x53ff23=_0xf96fa4,_0x10a05b=document[_0x53ff23(0x2d0)]('input[name=\x22drill_answer\x22]:checked');if(!_0x10a05b){showMessage(_0x53ff23(0x7ef));return;}const _0x590dd1=document[_0x53ff23(0xbeb)](_0x53ff23(0x619)),_0x59b833=parseInt(_0x10a05b[_0x53ff23(0xc07)])===_0x4226fc['correctAnswerIndex'];_0x59b833?(_0x590dd1['className']=_0x53ff23(0xe99),_0x590dd1['innerHTML']=_0x53ff23(0xaae)+_0x4226fc['explanation']):(_0x590dd1[_0x53ff23(0x5de)]=_0x53ff23(0xc44),_0x590dd1['innerHTML']='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x4226fc['explanation']);_0x590dd1[_0x53ff23(0xa1f)][_0x53ff23(0x711)](_0x53ff23(0x9d8));if(window[_0x53ff23(0xeb4)])MathJax['typesetPromise']([_0x590dd1]);document['getElementById'](_0x53ff23(0xe11))[_0x53ff23(0xa1f)][_0x53ff23(0x7e0)](_0x53ff23(0x9d8)),document[_0x53ff23(0xbeb)](_0x53ff23(0x9b5))[_0x53ff23(0xa1f)][_0x53ff23(0x7e0)]('hidden'),document['getElementById'](_0x53ff23(0x7bc))['classList'][_0x53ff23(0x711)](_0x53ff23(0x9d8));}),document[_0xf96fa4(0xbeb)](_0xf96fa4(0x7bc))[_0xf96fa4(0x79a)](_0xf96fa4(0xc64),()=>{const _0x6a6fc3=_0xf96fa4;_0x4d041d++,_0x4d041d<_0x39a0cb['length']?_0x3a5128():(studentQuizArea[_0x6a6fc3(0x28a)]=_0x6a6fc3(0x43c),document['getElementById'](_0x6a6fc3(0x59f))[_0x6a6fc3(0x79a)](_0x6a6fc3(0xc64),()=>{const _0x2028fc=_0x6a6fc3;studentQuizArea[_0x2028fc(0xa1f)][_0x2028fc(0x7e0)](_0x2028fc(0x9d8)),studentResultArea[_0x2028fc(0xa1f)][_0x2028fc(0x711)]('hidden');}));});};_0x3a5128();}async function getHintForQuestion(_0x3b6360){const _0x52b557=_0x4ce511,_0x3deb4a=_0x52b557(0xb5e)+_0x3b6360+_0x52b557(0x936),_0x3506b2={'type':_0x52b557(0x24c),'properties':{'hint':{'type':_0x52b557(0xa2b)}},'required':[_0x52b557(0x29d)]};try{const _0x138417=await callAnalysisApi(_0x3deb4a,_0x3506b2);return _0x138417[_0x52b557(0x29d)];}catch(_0xa72ef){return console[_0x52b557(0xd74)](_0x52b557(0x44f),_0xa72ef),_0x52b557(0x522);}}async function extractTextFromPdf(_0x579792){const _0x31381c=_0x4ce511;pdfjsLib[_0x31381c(0x9b1)][_0x31381c(0x994)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x771223=await _0x579792[_0x31381c(0x241)](),_0x3e0a53=await pdfjsLib[_0x31381c(0xebe)](_0x771223)[_0x31381c(0xf35)],_0x5086a8=_0x3e0a53[_0x31381c(0xa94)];let _0x4a7f90='';for(let _0x3a75be=0x1;_0x3a75be<=_0x5086a8;_0x3a75be++){const _0x5ae1b0=await _0x3e0a53[_0x31381c(0x57b)](_0x3a75be),_0x45a523=await _0x5ae1b0[_0x31381c(0x252)](),_0x9434f1=_0x45a523[_0x31381c(0xb96)][_0x31381c(0xa15)](_0x131ad0=>_0x131ad0[_0x31381c(0x326)])['join']('\x20');_0x4a7f90+=_0x9434f1+'\x0a\x0a';}return _0x4a7f90;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x55df66){const _0xcd1720=_0x4ce511,_0x4b3892=document['getElementById']('blueprint-options-container'),_0xf9ef8d=document[_0xcd1720(0xbeb)](_0xcd1720(0x2e6)),_0x4d81f8=document[_0xcd1720(0xbeb)]('save-blueprint-as-project-btn');_0x4b3892['classList'][_0xcd1720(0x711)]('hidden'),_0xf9ef8d[_0xcd1720(0x28a)]=_0xcd1720(0x95d),_0x4d81f8['classList'][_0xcd1720(0x7e0)](_0xcd1720(0x9d8));try{const _0x3c48f0=_0xcd1720(0x3c8)+_0x55df66+_0xcd1720(0x51e),_0x258595={'type':_0xcd1720(0x24c),'properties':{'gradeLevel':{'type':_0xcd1720(0xa2b)},'curriculum':{'type':_0xcd1720(0x216),'items':{'type':_0xcd1720(0x24c),'properties':{'sara':{'type':_0xcd1720(0xa2b)},'mainTopics':{'type':_0xcd1720(0x216),'items':{'type':_0xcd1720(0x24c),'properties':{'topicName':{'type':_0xcd1720(0xa2b)},'subTopics':{'type':_0xcd1720(0x216),'items':{'type':_0xcd1720(0xa2b)}}},'required':[_0xcd1720(0x3a6),'subTopics']}}},'required':[_0xcd1720(0xb87),_0xcd1720(0x351)]}}},'required':['gradeLevel',_0xcd1720(0x3b1)]},_0x502dfb=await callAnalysisApi(_0x3c48f0,_0x258595);if(_0x502dfb&&_0x502dfb[_0xcd1720(0x3b1)])extractedBlueprintData=_0x502dfb,renderBlueprintTopics(_0x502dfb),_0x4d81f8['classList'][_0xcd1720(0x711)]('hidden');else throw new Error(_0xcd1720(0x72e));}catch(_0xe43a53){console[_0xcd1720(0xd74)](_0xcd1720(0x5e6),_0xe43a53),_0xf9ef8d[_0xcd1720(0x28a)]=_0xcd1720(0x64d);}}function renderBlueprintTopics(_0x5dbe94){const _0x189bc3=_0x4ce511,_0x60dcde=document[_0x189bc3(0xbeb)]('blueprint-topics-list'),_0x57333f=_0x5dbe94[_0x189bc3(0x777)],_0x2b51e4='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x57333f+_0x189bc3(0x57e);let _0x197f65='';_0x5dbe94[_0x189bc3(0x3b1)][_0x189bc3(0xbd3)](_0x26a8c5=>{const _0x684f22=_0x189bc3;_0x197f65+=_0x684f22(0xbe9)+_0x26a8c5['sara']+'</h4>',_0x26a8c5['mainTopics'][_0x684f22(0xbd3)](_0x14710a=>{const _0x5049b0=_0x684f22;_0x197f65+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x14710a[_0x5049b0(0x3a6)]+_0x5049b0(0x513),_0x14710a[_0x5049b0(0xe68)]['forEach'](_0x517f4c=>{const _0x558300=_0x5049b0;_0x197f65+=_0x558300(0xd67)+_0x517f4c[_0x558300(0xea1)](/'/g,'\x5c\x27')+_0x558300(0xac5)+_0x57333f[_0x558300(0xea1)](/'/g,'\x5c\x27')+_0x558300(0x616)+_0x517f4c+_0x558300(0x9c3)+_0x517f4c[_0x558300(0xea1)](/'/g,'\x5c\x27')+_0x558300(0xb05);}),_0x197f65+=_0x5049b0(0x73b);}),_0x197f65+=_0x684f22(0xc6a);}),_0x60dcde['innerHTML']=_0x2b51e4+_0x197f65;}async function handleGenerateTeachingContent(_0x385bd1){const _0x3ab32c=_0x4ce511,_0x4d435e=document[_0x3ab32c(0xbeb)]('lesson-plan-modal'),_0x2dd181=document['getElementById'](_0x3ab32c(0x207));document[_0x3ab32c(0xbeb)](_0x3ab32c(0xb71))['textContent']=_0x3ab32c(0xa78)+_0x385bd1,_0x2dd181[_0x3ab32c(0x28a)]=_0x3ab32c(0xb65),_0x4d435e[_0x3ab32c(0xa1f)]['remove'](_0x3ab32c(0x9d8));try{const _0x135bc3=_0x3ab32c(0xe7b)+_0x385bd1+_0x3ab32c(0x4e1),_0xbd1079={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x3ab32c(0x216),'items':{'type':_0x3ab32c(0xa2b)}},'commonMistakes':{'type':_0x3ab32c(0x216),'items':{'type':_0x3ab32c(0xa2b)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x3ab32c(0xa2b)},'solution':{'type':'STRING'}},'required':['question','solution']}},'teacherTips':{'type':_0x3ab32c(0x216),'items':{'type':'STRING'}}},'required':[_0x3ab32c(0x495),_0x3ab32c(0xa4c),_0x3ab32c(0xcf2),_0x3ab32c(0xe57)]},_0x44cb9b=await callAnalysisApi(_0x135bc3,_0xbd1079);displayTeachingContent(_0x44cb9b,_0x385bd1);}catch(_0x55805a){console[_0x3ab32c(0xd74)](_0x3ab32c(0x958),_0x55805a),_0x2dd181[_0x3ab32c(0x28a)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x55805a[_0x3ab32c(0x68f)]+'</p>';}}function displayTeachingContent(_0x5afc22,_0x54b5cf){const _0x1fb30b=_0x4ce511,_0x18ea9d=document[_0x1fb30b(0xbeb)](_0x1fb30b(0x207));document[_0x1fb30b(0xbeb)](_0x1fb30b(0xb71))[_0x1fb30b(0x211)]='เนื้อหาสำหรับสอน:\x20'+_0x54b5cf;const _0x5b0faa=_0x1fb30b(0x359)+_0x5afc22['keyConcepts']['map'](_0xfe63f1=>'<li>'+_0xfe63f1+_0x1fb30b(0x431))[_0x1fb30b(0x919)]('')+_0x1fb30b(0xe69)+_0x5afc22[_0x1fb30b(0xa4c)][_0x1fb30b(0xa15)](_0x3426cc=>_0x1fb30b(0xe4b)+_0x3426cc+_0x1fb30b(0x431))[_0x1fb30b(0x919)]('')+_0x1fb30b(0xe83)+_0x5afc22[_0x1fb30b(0xcf2)][_0x1fb30b(0xa15)](_0x41a1cb=>_0x1fb30b(0x6fe)+_0x41a1cb[_0x1fb30b(0x5f4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x41a1cb[_0x1fb30b(0x318)]+_0x1fb30b(0xbc9))[_0x1fb30b(0x919)]('')+_0x1fb30b(0x6bd)+_0x5afc22[_0x1fb30b(0xe57)][_0x1fb30b(0xa15)](_0x6f5aa2=>'<li>'+_0x6f5aa2+_0x1fb30b(0x431))[_0x1fb30b(0x919)]('')+_0x1fb30b(0xd0e);_0x18ea9d[_0x1fb30b(0x28a)]=_0x5b0faa;if(window[_0x1fb30b(0xeb4)])MathJax[_0x1fb30b(0x61b)]([_0x18ea9d]);}async function generateQuizForSingleTopic(_0x2895cf){const _0x112a19=_0x4ce511;console[_0x112a19(0x2c0)](_0x112a19(0x54e)+_0x2895cf+'\x22');const _0x1c08c0=document[_0x112a19(0xbeb)]('reference-pdf-upload'),_0x4fc342=_0x1c08c0[_0x112a19(0x200)]['length']>0x0?_0x1c08c0['files'][0x0]:null;let _0x36c9a4=null;if(_0x4fc342)try{const _0x5a7763=new FileReader();_0x5a7763[_0x112a19(0xf1b)](_0x4fc342);const _0x162167=await new Promise((_0x54ea71,_0x2d112e)=>{const _0x2097bf=_0x112a19;_0x5a7763[_0x2097bf(0x48b)]=()=>_0x54ea71(_0x5a7763['result']['split'](',')[0x1]),_0x5a7763['onerror']=_0x4f4de5=>_0x2d112e(_0x4f4de5);});_0x36c9a4=[{'inlineData':{'mimeType':_0x4fc342[_0x112a19(0x562)],'data':_0x162167}}];}catch(_0x24c7a9){console['error'](_0x112a19(0xb37),_0x24c7a9),showMessage(_0x112a19(0x2e7));return;}generateQuiz(_0x2895cf,null,null,_0x36c9a4,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x210cbb=null){const _0xaa924d=_0x4ce511,_0x1e31bf=document[_0xaa924d(0xbeb)]('loader'),_0x132f9d=document[_0xaa924d(0xbeb)](_0xaa924d(0x51a));let _0x52af3d,_0x430c01=[];if(_0x210cbb)_0x52af3d=_0x210cbb,_0x430c01=_0x52af3d[_0xaa924d(0x2c1)](0x2);else{const _0x355a30=document[_0xaa924d(0xbeb)](_0xaa924d(0x1c5)),_0x35da33=document[_0xaa924d(0xbeb)](_0xaa924d(0x1ff)),_0x41af7e=_0x355a30[_0xaa924d(0x200)][0x0];if(!_0x41af7e){showMessage(_0xaa924d(0x9c1));return;}_0x132f9d[_0xaa924d(0x211)]=_0xaa924d(0xc8e);const _0x44c95a=await new Promise((_0x38f0ed,_0x46d50b)=>{const _0x38db03=_0xaa924d,_0xf58f1=new FileReader();_0xf58f1[_0x38db03(0xf1b)](_0x41af7e),_0xf58f1[_0x38db03(0x48b)]=()=>_0x38f0ed(_0xf58f1[_0x38db03(0xb58)][_0x38db03(0xa00)](',')[0x1]),_0xf58f1[_0x38db03(0xdf9)]=_0x46d50b;});_0x52af3d=[{'text':_0xaa924d(0xcd6)},{'inlineData':{'mimeType':_0x41af7e[_0xaa924d(0x562)],'data':_0x44c95a}}];if(_0x35da33[_0xaa924d(0x200)][_0xaa924d(0x81c)]>0x0){const _0x20855b=_0x35da33[_0xaa924d(0x200)][0x0];_0x132f9d[_0xaa924d(0x211)]=_0xaa924d(0x1f9);const _0x56ee2f=await new Promise((_0x2ab21b,_0x52d395)=>{const _0x4234da=_0xaa924d,_0x6d7449=new FileReader();_0x6d7449[_0x4234da(0xf1b)](_0x20855b),_0x6d7449[_0x4234da(0x48b)]=()=>_0x2ab21b(_0x6d7449[_0x4234da(0xb58)][_0x4234da(0xa00)](',')[0x1]),_0x6d7449[_0x4234da(0xdf9)]=_0x52d395;}),_0x13952c={'inlineData':{'mimeType':_0x20855b[_0xaa924d(0x562)],'data':_0x56ee2f}};_0x52af3d['push'](_0x13952c),_0x430c01['push'](_0x13952c);}}const _0xbc9129='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a',_0x461ce8=_0xaa924d(0x7c3);let _0x4defaa='';_0x430c01&&_0x430c01[_0xaa924d(0x81c)]>0x0?_0x4defaa=_0xbc9129:_0x4defaa=_0x461ce8;const _0x2374c3=_0xaa924d(0x429)+_0x4defaa+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x2f27a4={'type':'OBJECT','properties':{'questionText':{'type':_0xaa924d(0xa2b)},'questionType':{'type':'STRING','enum':[_0xaa924d(0x8be),'short_answer',_0xaa924d(0x4ac),_0xaa924d(0x700)]},'options':{'type':_0xaa924d(0x216),'items':{'type':_0xaa924d(0xa2b)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0xaa924d(0xa2b)},'correctAnswer':{'type':_0xaa924d(0xb06)},'explanation':{'type':_0xaa924d(0xa2b)},'imageCode':{'type':_0xaa924d(0xa2b)}},'required':[_0xaa924d(0xd06),_0xaa924d(0x58b)]},_0x3adceb={'type':_0xaa924d(0x24c),'properties':{'topic':{'type':_0xaa924d(0xa2b)},'questions':{'type':_0xaa924d(0x216),'items':_0x2f27a4}},'required':[_0xaa924d(0x8ba),'questions']};_0x52af3d[0x0][_0xaa924d(0xa19)]=_0x2374c3,await handleApiCall(_0x52af3d,_0xaa924d(0x9f5),_0x3adceb);}function proceedToNextQuestion(_0x3b40af){const _0x4b9ffa=_0x4ce511;studentAnswersPerQuestion[_0x4b9ffa(0x9ba)](_0x3b40af),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x4b9ffa(0x7bb)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x1b139f,_0x196208,_0x4c22a9){const _0x19349b=_0x4ce511,_0x4b5de3=Object[_0x19349b(0xb18)](_0x1b139f[_0x19349b(0x735)]||{}),_0x2d5876=_0x4b5de3[_0x19349b(0x81c)],_0x49b1ad=_0x4c22a9,_0x27cfb8=_0x1b139f[_0x19349b(0x392)]||_0x19349b(0x25c),_0xa46f4b=_0x27cfb8===_0x19349b(0xe34)||_0x27cfb8===_0x19349b(0x7fe),_0x2c3ae9=_0x27cfb8===_0x19349b(0x9de)||_0x27cfb8==='anonymous_reveal_end',_0x1ef578=_0x1b139f[_0x19349b(0x5fb)]===!![],_0x1366ad=_0x27cfb8===_0x19349b(0x6e7),_0xe60559=_0x1b139f[_0x19349b(0x663)]['questions'],_0x2860e9=_0xe60559[_0x49b1ad],_0x47fb45=_0x198af0=>String[_0x19349b(0x540)](0x41+_0x198af0),_0x3997fb=_0x4b5de3[_0x19349b(0xa15)](_0x6d8aa8=>{const _0x1473c1=_0x19349b,_0x356513=(_0x6d8aa8[_0x1473c1(0xb0f)]||[])[_0x1473c1(0x395)](_0x37aaa1=>{const _0x11856d=_0x1473c1;if(_0x2c3ae9)return _0x37aaa1[_0x11856d(0x4cd)]<=_0x49b1ad;return!![];});let _0x530662=0x0,_0xf2b3ac=0x0;_0x2c3ae9?(_0x530662=_0x356513[_0x1473c1(0x395)](_0x593d1f=>_0x593d1f[_0x1473c1(0xc70)])[_0x1473c1(0x81c)],_0xf2b3ac=_0x356513['reduce']((_0x3cb2c6,_0x445d2c)=>_0x3cb2c6+(_0x445d2c[_0x1473c1(0x6da)]||0x0),0x0)):(_0x530662=_0x6d8aa8['score']||0x0,_0xf2b3ac=_0x6d8aa8[_0x1473c1(0xaa1)]||0x0);const _0x48a650=[..._0x356513][_0x1473c1(0x2b3)]((_0x2e5c2b,_0x28134f)=>_0x2e5c2b[_0x1473c1(0x4cd)]-_0x28134f[_0x1473c1(0x4cd)]);let _0x2486ee=0x0;return _0x48a650[_0x1473c1(0xbd3)](_0x48d767=>{const _0x2e25ad=_0x1473c1,_0x300f9d=_0x48d767[_0x2e25ad(0x344)]&&_0x48d767[_0x2e25ad(0x344)]!=='wagerMultiplier'||_0x48d767[_0x2e25ad(0x6d0)];_0x48d767[_0x2e25ad(0xc70)]?_0x300f9d?_0x2486ee=0x0:_0x2486ee++:_0x2486ee=0x0;}),{..._0x6d8aa8,'realScore':_0x530662,'totalPoints':_0xf2b3ac,'answers':_0x356513,'correctStreak':_0x2486ee};}),_0x37bd9e=Math[_0x19349b(0xddc)](..._0x3997fb['map'](_0x1429d6=>_0x1429d6[_0x19349b(0xaa1)]),-Infinity),_0x5f4ad8=Math[_0x19349b(0xddc)](..._0x3997fb[_0x19349b(0xa15)](_0x116685=>_0x116685[_0x19349b(0x349)]),-Infinity),_0x2f4696=_0x1b139f[_0x19349b(0xf00)]===!![],_0x468453=[..._0x3997fb][_0x19349b(0x2b3)]((_0x4703b4,_0x40592a)=>{const _0x48a249=_0x19349b;if(_0x2f4696){const _0x34c0b8=_0x40592a[_0x48a249(0xaa1)]-_0x4703b4['totalPoints'];if(_0x34c0b8!==0x0)return _0x34c0b8;const _0xd2cd1b=_0x40592a['realScore']-_0x4703b4['realScore'];if(_0xd2cd1b!==0x0)return _0xd2cd1b;return(_0x4703b4['name']||'')[_0x48a249(0xac1)](_0x40592a['name']||'','th');}else{const _0x804485=_0x40592a['totalPoints']-_0x4703b4[_0x48a249(0xaa1)];if(_0x804485!==0x0)return _0x804485;const _0x21fdf4=_0x40592a['realScore']-_0x4703b4[_0x48a249(0x349)];if(_0x21fdf4!==0x0)return _0x21fdf4;return(_0x4703b4['name']||'')[_0x48a249(0xac1)](_0x40592a[_0x48a249(0x631)]||'','th');}});let _0x3d656f='';const _0x3617a1=!_0x1366ad&&!(_0xa46f4b&&_0x1b139f[_0x19349b(0x857)]===![]);if(_0x2860e9&&_0x3617a1){let _0x5e24f6='',_0x1b320e='';const _0x2df003=_0x2860e9['questionType']||_0x1b139f['shuffledQuiz']['quizType'];if(_0x2df003==='multiple_choice'&&_0x2860e9['options']){const _0xa37aa7=_0x2860e9[_0x19349b(0xae5)];_0x5e24f6=_0x2860e9[_0x19349b(0xdf0)][_0xa37aa7],_0x1b320e=_0x47fb45(_0xa37aa7)+'.';}else{if(_0x2df003==='true_false'){const _0xa1a4cf=String(_0x2860e9['correctAnswer'])[_0x19349b(0x298)]()==='true';_0x5e24f6=_0xa1a4cf?_0x19349b(0x6de):_0x19349b(0x9f7),_0x1b320e=_0xa1a4cf?'ก.':'ข.';}else{if(_0x2df003===_0x19349b(0x700))_0x5e24f6=_0x2860e9[_0x19349b(0x5c9)]||'-';else(_0x2df003==='short_answer'||_0x2df003==='fill_in_no_choices')&&(_0x5e24f6=_0x2860e9[_0x19349b(0xe56)]||'-');}}_0x5e24f6&&(_0x3d656f=_0x19349b(0x86d)+(_0x49b1ad+0x1)+_0x19349b(0x83f)+_0x1b320e+'\x20'+_0x5e24f6+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x2b33c5=_0x468453[_0x19349b(0xa15)]((_0x2c05a6,_0xfcab15)=>{const _0x2229f2=_0x19349b,_0x6d95d8=_0x2c05a6['realScore'],_0x39daeb=_0x2c05a6[_0x2229f2(0xaa1)],_0x48bee2=(_0x2c05a6[_0x2229f2(0xb0f)]||[])[_0x2229f2(0x340)](_0xa10061=>_0xa10061[_0x2229f2(0x4cd)]===_0x4c22a9),_0x17c555=_0x2c05a6[_0x2229f2(0xb0f)][_0x2229f2(0x81c)];let _0x5ee370='';if(_0x48bee2){if(_0x48bee2['wasForced'])_0x5ee370+=_0x2229f2(0xe92);if(_0x48bee2[_0x2229f2(0x4a3)])_0x5ee370+=_0x2229f2(0xaca);if(_0x48bee2[_0x2229f2(0x6d0)])_0x5ee370+=_0x2229f2(0x6f3);const _0x23a418=_0x48bee2[_0x2229f2(0x344)];if(_0x23a418){const _0x1ff67b={'poll':'📊','cutOne':'✂️','insurance':_0x2229f2(0xa32),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x2229f2(0x2dc)};if(_0x1ff67b[_0x23a418])_0x5ee370+=_0x2229f2(0x888)+_0x1ff67b[_0x23a418]+_0x2229f2(0x1c3);}}let _0x1a8500='';const _0x3627d8=_0x2c05a6[_0x2229f2(0x905)]||0x0,_0x29045b=_0x48bee2&&_0x48bee2[_0x2229f2(0x6d0)],_0x4f4356=_0x48bee2&&_0x48bee2['powerupUsed']&&_0x48bee2[_0x2229f2(0x344)]!==_0x2229f2(0xc67);!_0x1366ad&&_0x3627d8>=0x3&&!_0x29045b&&!_0x4f4356&&(_0x1a8500+=_0x2229f2(0xe2c)+_0x3627d8+'</span>');if(!_0x1366ad&&_0x17c555>0x0){if(_0x2f4696){if(_0x39daeb===_0x37bd9e&&_0x37bd9e>0x0)_0x1a8500+=_0x2229f2(0x853);if(_0x6d95d8===_0x5f4ad8&&_0x5f4ad8>0x0)_0x1a8500+=_0x2229f2(0x231);}else{const _0x1df525=_0x2c05a6['realScore']===_0x4c22a9+0x1;if(_0x1df525)_0x1a8500+=_0x2229f2(0x5d2);}if(_0x1a8500===''&&_0x39daeb<0x0)_0x1a8500+='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';}let _0x5cc5fa='bg-black/20',_0xa579d6=![],_0x4b2aa6=![];if(!_0x1366ad){const _0x3c81b2=(_0x2c05a6[_0x2229f2(0xb0f)]||[])['find'](_0x133f22=>_0x133f22[_0x2229f2(0x4cd)]===_0x49b1ad);if(_0x3c81b2){const _0x12c311=_0x3c81b2[_0x2229f2(0xc70)],_0x1ccba0=_0x3c81b2[_0x2229f2(0x2c6)]===!![]||_0x3c81b2['wasConfident']==='confident',_0x12cace=_0x3c81b2['powerupUsed'];if(_0x12cace===_0x2229f2(0xc67))_0x12c311?(_0x5cc5fa=_0x2229f2(0xa48),_0xa579d6=!![]):(_0x5cc5fa=_0x2229f2(0x428),_0x4b2aa6=!![]);else{if(_0x1ccba0)_0x5cc5fa=_0x12c311?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x2229f2(0x954);else _0x12c311&&(_0x5cc5fa=_0x2229f2(0xdab));}}}let _0x5bd332='';const _0x182930=_0x2c05a6[_0x2229f2(0x631)],_0x1983d7=_0x1b139f[_0x2229f2(0xe63)][_0x2c05a6[_0x2229f2(0x631)]]||_0x2229f2(0x681),_0x3c2fab='line-height:\x201.3;\x20min-width:\x200;',_0x278ada=_0x2229f2(0xe20),_0x26c104=_0xa579d6?_0x2229f2(0xb14):_0x2229f2(0x597);let _0x2b7348='';const _0x1ab58d=_0x39daeb>=0x0?'(+'+_0x39daeb[_0x2229f2(0x4d2)]()+')':'('+_0x39daeb[_0x2229f2(0x4d2)]()+')',_0x358896=_0x2229f2(0xa92)+_0x6d95d8+_0x2229f2(0xa40)+_0x1ab58d+_0x2229f2(0x1c3);if(_0x196208){if(_0xa46f4b&&!_0x1ef578)_0x4b2aa6?_0x5bd332=_0x2229f2(0xed6)+_0x3c2fab+_0x2229f2(0x1eb)+_0x182930+'\x20('+_0x1983d7+_0x2229f2(0x35b)+_0x278ada+'\x22>'+_0x182930+_0x2229f2(0x703)+_0x5ee370+'\x20'+_0x1a8500+_0x2229f2(0x647)+_0x26c104+_0x2229f2(0x74d)+_0x278ada+_0x2229f2(0x964)+_0x1983d7+_0x2229f2(0x67f):_0x5bd332='<div\x20style=\x22'+_0x3c2fab+_0x2229f2(0x1eb)+_0x1983d7+'\x22><span\x20style=\x22'+_0x278ada+'\x22>'+_0x1983d7+_0x2229f2(0x703)+_0x5ee370+'\x20'+_0x1a8500+_0x2229f2(0xc6a),_0x2b7348=_0x358896;else{if(_0xa46f4b&&_0x1ef578)_0x5bd332='<div\x20style=\x22'+_0x3c2fab+_0x2229f2(0x1eb)+_0x182930+_0x2229f2(0xc34)+_0x278ada+'\x22>'+_0x182930+_0x2229f2(0x703)+_0x5ee370+'\x20'+_0x1a8500+_0x2229f2(0x647)+_0x26c104+_0x2229f2(0x74d)+_0x278ada+'\x22>('+_0x1983d7+_0x2229f2(0x67f),_0x2b7348=_0x358896;else _0x1366ad?(_0x5bd332=_0x2229f2(0xed6)+_0x3c2fab+_0x2229f2(0x1eb)+_0x182930+_0x2229f2(0xc34)+_0x278ada+'\x22>'+_0x182930+_0x2229f2(0x703)+_0x5ee370+'\x20'+_0x1a8500+_0x2229f2(0xc6a),_0x2b7348=''):(_0x5bd332=_0x2229f2(0xed6)+_0x3c2fab+'\x22\x20title=\x22'+_0x182930+'\x22><span\x20style=\x22'+_0x278ada+'\x22>'+_0x182930+_0x2229f2(0x703)+_0x5ee370+'\x20'+_0x1a8500+_0x2229f2(0xc6a),_0x2b7348=_0x358896);}}return _0x2229f2(0x8c8)+_0x5cc5fa+_0x2229f2(0x8d6)+(_0xfcab15+0x1)+_0x2229f2(0xbdf)+_0x5bd332+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b7348+_0x2229f2(0x9c8);})[_0x19349b(0x919)](''),_0x232b32=_0xe60559[_0x19349b(0xa15)]((_0x14b854,_0x47832b)=>{const _0xffd360=_0x19349b;if(_0x2c3ae9&&_0x47832b>_0x49b1ad||_0x1366ad)return'';const _0x73e26c=_0x3997fb[_0xffd360(0x395)](_0x26a891=>_0x26a891[_0xffd360(0xb0f)]&&_0x26a891[_0xffd360(0xb0f)][_0xffd360(0x340)](_0x898e1=>_0x898e1[_0xffd360(0x4cd)]===_0x47832b&&_0x898e1[_0xffd360(0xc70)]))[_0xffd360(0x81c)],_0x513f20=_0x47832b===_0x49b1ad,_0x559533=_0x513f20?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':'p-2\x20bg-black/10\x20rounded-md';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x559533+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x47832b+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x73e26c+'\x20/\x20'+_0x2d5876+_0xffd360(0x933);})[_0x19349b(0x919)]('');let _0x2cdb08='',_0x563995='';if(_0x196208){const _0x3f72cc=_0x27cfb8==='classic'&&_0x1b139f[_0x19349b(0x568)]>=_0xe60559[_0x19349b(0x81c)]-0x1,_0x38a591=_0x2c3ae9&&_0x1b139f[_0x19349b(0x6c9)]>=_0xe60559[_0x19349b(0x81c)]-0x1,_0x3f1089=_0x27cfb8===_0x19349b(0x6e7)&&_0x1b139f['currentQuestionIndex']>=_0xe60559['length']-0x1,_0x35ca13=_0xa46f4b&&!_0x2c3ae9&&_0x1b139f[_0x19349b(0x568)]>=_0xe60559[_0x19349b(0x81c)]-0x1;if(_0x2c3ae9)_0x38a591?_0xa46f4b&&!_0x1ef578?_0x2cdb08=_0x19349b(0xc0d):_0x2cdb08=_0x19349b(0xcbf):_0x2cdb08=_0x19349b(0x903);else _0x3f72cc||_0x3f1089||_0x35ca13?_0xa46f4b&&!_0x1ef578?_0x2cdb08=_0x19349b(0xc0d):_0x2cdb08=_0x19349b(0xcbf):_0x2cdb08='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';_0x563995=_0x19349b(0xad4);}const _0xd241aa=_0x1366ad||_0xa46f4b&&!_0x1b139f[_0x19349b(0x857)]?'':_0x19349b(0x3e4)+_0x232b32+_0x19349b(0x73b),_0x279e81=_0x1366ad||_0xa46f4b&&!_0x1b139f['showAnswerInAnonymous']?_0x19349b(0x9ec):_0x19349b(0xb4f),_0x33ebef=_0x19349b(0x682)+_0x1b139f[_0x19349b(0x663)][_0x19349b(0x8ba)]+_0x19349b(0xef0)+_0x1b139f[_0x19349b(0xf58)]+_0x19349b(0x2f9)+_0x563995+_0x19349b(0x547)+_0x3d656f+_0x19349b(0x576)+_0x279e81+_0x19349b(0x845)+(_0x2b33c5||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd241aa+_0x19349b(0x5f1)+(_0x196208?_0x19349b(0xe27)+_0x2cdb08+_0x19349b(0xc6a):'')+_0x19349b(0x588);liveGameView[_0x19349b(0x28a)]=_0x33ebef;if(window[_0x19349b(0xeb4)]){const _0x1cffb4=document[_0x19349b(0xbeb)](_0x19349b(0x6b3));_0x1cffb4&&MathJax[_0x19349b(0x61b)]([_0x1cffb4]);}if(_0x196208){const _0xbe3f46=document[_0x19349b(0xbeb)]('next-sync-question-btn');_0xbe3f46&&(_0xbe3f46[_0x19349b(0x810)]=async()=>{const _0xdb7334=_0x19349b,_0x4117d6=doc(db,_0xdb7334(0xcaf)+appId+_0xdb7334(0x2a0),currentLiveGameId),_0x226c2d=_0x1b139f[_0xdb7334(0x568)]+0x1,_0x57277e=_0x1b139f['shuffledQuiz'][_0xdb7334(0x7bb)][_0xdb7334(0x81c)];!_0x2c3ae9&&_0x226c2d<_0x57277e?await updateDoc(_0x4117d6,{'status':'question','currentQuestionIndex':_0x226c2d,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x4117d6,{'status':'podium'});});const _0x9682bb=document['getElementById'](_0x19349b(0x348));_0x9682bb&&(_0x9682bb[_0x19349b(0x810)]=async()=>{const _0x59bddf=_0x19349b,_0x317e68=doc(db,_0x59bddf(0xcaf)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x317e68,{'reviewQuestionIndex':increment(0x1)});});document['getElementById'](_0x19349b(0x725))?.[_0x19349b(0x79a)](_0x19349b(0xc64),async()=>{const _0x5c6e5c=_0x19349b;await updateDoc(doc(db,_0x5c6e5c(0xcaf)+appId+_0x5c6e5c(0x2a0),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x236e22=document[_0x19349b(0xbeb)](_0x19349b(0xcce));_0x236e22&&(_0x236e22['onclick']=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x10512f=_0x5a5c;await updateDoc(doc(db,_0x10512f(0xcaf)+appId+'/public/data/syncGames',currentLiveGameId),{'status':_0x10512f(0x9d4)});});});}}async function handleGenerateParallelFromBank(_0x6a7489){const _0xf53b77=_0x4ce511,_0x121cc4=document['getElementById'](_0xf53b77(0xb19)),_0x5a855a=document[_0xf53b77(0xbeb)](_0xf53b77(0xa01));_0x5a855a[_0xf53b77(0xa1f)][_0xf53b77(0x7e0)]('hidden');const _0x2584cf=_0xf53b77(0xb89)+_0x6a7489[_0xf53b77(0x8ba)]+_0xf53b77(0x9a2);_0x121cc4['insertAdjacentHTML']('beforeend',_0x2584cf);const _0x520c43=document['getElementById']('temp-loader-text-results');try{const _0x54b22a=_0x6a7489[_0xf53b77(0x7bb)][_0xf53b77(0xa15)]((_0x5d3dd4,_0x27c45d)=>{const _0x220a9d=_0xf53b77;let _0x2f46dd=_0x27c45d+0x1+'.\x20'+(_0x5d3dd4[_0x220a9d(0xbc2)]||_0x5d3dd4['stem'])+'\x0a';if(_0x5d3dd4[_0x220a9d(0xdf0)])_0x2f46dd+=_0x5d3dd4['options'][_0x220a9d(0xa15)]((_0x42b152,_0x438445)=>_0x220a9d(0x796)+(_0x438445===_0x5d3dd4[_0x220a9d(0xae5)]?_0x220a9d(0x6ee):'')+'\x20'+_0x42b152)[_0x220a9d(0x919)]('\x0a');else _0x5d3dd4[_0x220a9d(0xe56)]&&(_0x2f46dd+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x5d3dd4[_0x220a9d(0xe56)]);return _0x2f46dd;})[_0xf53b77(0x919)]('\x0a\x0a');_0x520c43['textContent']=_0xf53b77(0xf04);const _0x28ef40=_0xf53b77(0xa1a)+_0x6a7489[_0xf53b77(0x8ba)]+_0xf53b77(0xf16)+_0x54b22a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x16a72c={'type':_0xf53b77(0x24c),'properties':{'questionText':{'type':_0xf53b77(0xa2b)},'questionType':{'type':'STRING','enum':[_0xf53b77(0x8be),_0xf53b77(0xc63),'true_false',_0xf53b77(0x700)]},'options':{'type':_0xf53b77(0x216),'items':{'type':_0xf53b77(0xa2b)}},'correctAnswerIndex':{'type':_0xf53b77(0xd7b)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0xf53b77(0xa2b)},'correctResponse':{'type':_0xf53b77(0xa2b)},'allResponses':{'type':_0xf53b77(0x216),'items':{'type':_0xf53b77(0xa2b)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0xf53b77(0xa2b)}},'required':[_0xf53b77(0xd06),'explanation']},_0x59fd2f={'type':_0xf53b77(0x24c),'properties':{'topic':{'type':_0xf53b77(0xa2b)},'questions':{'type':_0xf53b77(0x216),'items':_0x16a72c}},'required':[_0xf53b77(0x8ba),_0xf53b77(0x7bb)]},_0x2bcf82=await callAnalysisApi(_0x28ef40,_0x59fd2f),_0x5536e9=_0x2bcf82['questions'][_0xf53b77(0xa15)]((_0x587051,_0x7d5438)=>({..._0x587051,'id':'q_'+Date[_0xf53b77(0xced)]()+'_'+_0x7d5438})),_0x4ac67c=_0xf53b77(0x4ff)+_0x6a7489[_0xf53b77(0x8ba)],_0x1b26c0={'topic':_0x4ac67c,'questions':_0x5536e9,'quizType':_0x6a7489[_0xf53b77(0xd15)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xf53b77(0x760)](),'status':_0xf53b77(0x829),'settings':_0x6a7489[_0xf53b77(0x4ea)],'quizMode':_0xf53b77(0x510),'pairedQuizId':null,'lessonPlan':null};let _0x442c1a;while(!![]){_0x442c1a=Math[_0xf53b77(0x8c6)](0x3e8+Math[_0xf53b77(0x3c9)]()*0x2328)[_0xf53b77(0x823)]();const _0xe9a496=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x442c1a));if(!_0xe9a496[_0xf53b77(0x358)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0xf53b77(0x24f),_0x442c1a),_0x1b26c0),showMessage(_0xf53b77(0xd20));}catch(_0x2c46c9){console[_0xf53b77(0xd74)](_0xf53b77(0x6c7),_0x2c46c9),showMessage(_0xf53b77(0x571)+_0x2c46c9[_0xf53b77(0x68f)]);}finally{const _0x386d91=document[_0xf53b77(0xbeb)](_0xf53b77(0xf5a));_0x386d91&&_0x386d91['remove'](),_0x5a855a['classList'][_0xf53b77(0x711)](_0xf53b77(0x9d8));}}async function handleGenerateParallelPostTest(_0x2eda2d){const _0x2844c2=_0x4ce511,_0x4eb332=document[_0x2844c2(0xbeb)](_0x2844c2(0xb19)),_0x3c2617=document['getElementById']('project-quizzes-list');_0x3c2617[_0x2844c2(0xa1f)][_0x2844c2(0x7e0)](_0x2844c2(0x9d8));const _0x17eed1=_0x2844c2(0xe55);_0x4eb332[_0x2844c2(0x312)](_0x2844c2(0x5ba),_0x17eed1);try{const _0x31576a=_0x2eda2d[_0x2844c2(0x7bb)][_0x2844c2(0xa15)]((_0x1e711f,_0x2eb31f)=>{const _0x5dbcbd=_0x2844c2;let _0x167b82=_0x2eb31f+0x1+'.\x20'+(_0x1e711f['questionText']||_0x1e711f[_0x5dbcbd(0x4dd)]);if(_0x1e711f['options'])_0x167b82+=_0x5dbcbd(0xce2)+_0x1e711f[_0x5dbcbd(0xdf0)][_0x5dbcbd(0x919)](',\x20');return _0x167b82;})['join']('\x0a\x0a'),_0x8412bd=_0x2844c2(0x365)+_0x2eda2d['topic']+_0x2844c2(0xe59)+_0x31576a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x454883={'type':_0x2844c2(0x24c),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2844c2(0x216),'items':{'type':_0x2844c2(0x24c),'properties':{'questionText':{'type':_0x2844c2(0xa2b)},'questionType':{'type':_0x2844c2(0xa2b)},'options':{'type':_0x2844c2(0x216),'items':{'type':_0x2844c2(0xa2b)}},'correctAnswerIndex':{'type':_0x2844c2(0xd7b)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':['questionText',_0x2844c2(0x58b)]}}},'required':['topic',_0x2844c2(0x7bb)]},_0x28043c=await callAnalysisApi(_0x8412bd,_0x454883),_0x54138e=_0x2eda2d[_0x2844c2(0x8ba)][_0x2844c2(0xea1)]('(ก่อนเรียน)','')['trim'](),_0x5a0c5e=_0x2844c2(0x1f1)+_0x54138e,_0xdad75f={..._0x28043c,'topic':_0x5a0c5e,'quizType':_0x2eda2d[_0x2844c2(0xd15)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2844c2(0x760)](),'status':_0x2844c2(0x829),'settings':_0x2eda2d[_0x2844c2(0x4ea)],'quizMode':'post-test','pairedQuizId':_0x2eda2d['id']};let _0x24fe16;while(!![]){_0x24fe16=Math[_0x2844c2(0x8c6)](0x3e8+Math[_0x2844c2(0x3c9)]()*0x2328)['toString']();const _0x56fde4=await getDoc(doc(db,_0x2844c2(0xcaf)+appId+_0x2844c2(0x24f),_0x24fe16));if(!_0x56fde4[_0x2844c2(0x358)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x2844c2(0x24f),_0x24fe16),_0xdad75f);const _0x254c54=doc(db,_0x2844c2(0xcaf)+appId+_0x2844c2(0x24f),_0x2eda2d['id']);await updateDoc(_0x254c54,{'pairedQuizId':_0x24fe16}),showMessage(_0x2844c2(0xb6c));}catch(_0x244af8){console[_0x2844c2(0xd74)](_0x2844c2(0xb73),_0x244af8),showMessage(_0x2844c2(0x571)+_0x244af8[_0x2844c2(0x68f)]);}finally{const _0x379a7c=document[_0x2844c2(0xbeb)](_0x2844c2(0xf5a));if(_0x379a7c)_0x379a7c[_0x2844c2(0x711)]();_0x3c2617[_0x2844c2(0xa1f)]['remove'](_0x2844c2(0x9d8));}}async function handleGenerateParallelTest(_0x19e583=null){const _0x416b29=_0x4ce511;let _0x19a9ca=_0x19e583;if(!_0x19a9ca){const _0x5793cf=document[_0x416b29(0xbeb)](_0x416b29(0x1e7));_0x5793cf[_0x416b29(0x200)][_0x416b29(0x81c)]>0x0&&(_0x19a9ca=_0x5793cf[_0x416b29(0x200)][0x0]);}if(!_0x19a9ca){showMessage(_0x416b29(0xc37));return;}const _0xfefff7=document[_0x416b29(0xbeb)]('loader'),_0x54d2a0=document[_0x416b29(0xbeb)](_0x416b29(0x51a)),_0x1dda9e=document[_0x416b29(0xbeb)](_0x416b29(0xdf7)),_0x2f2653=document['getElementById'](_0x416b29(0x942));_0x2f2653[_0x416b29(0x272)]=!![],document[_0x416b29(0xbeb)](_0x416b29(0x91c))[_0x416b29(0xa1f)][_0x416b29(0x711)](_0x416b29(0x9d8)),_0x1dda9e[_0x416b29(0x28a)]='',_0xfefff7[_0x416b29(0xa1f)]['remove'](_0x416b29(0x9d8)),_0x54d2a0[_0x416b29(0x211)]=_0x416b29(0xe19);const _0x55e205=new FileReader();_0x55e205[_0x416b29(0xf1b)](_0x19a9ca),_0x55e205['onload']=async()=>{const _0x42a25d=_0x416b29;try{const _0x5ac595=_0x55e205['result'][_0x42a25d(0xa00)](',')[0x1],_0x4f0d9d=_0x19a9ca[_0x42a25d(0x562)];_0x54d2a0[_0x42a25d(0x211)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x4e1046=document[_0x42a25d(0xbeb)]('include-images-checkbox')[_0x42a25d(0x375)],_0x5ae66a=_0x4e1046?_0x42a25d(0xe07):'',_0x240ae3=_0x42a25d(0xed9),_0x59be9c={'type':_0x42a25d(0x24c),'properties':{'questionText':{'type':_0x42a25d(0xa2b)},'questionType':{'type':_0x42a25d(0xa2b),'enum':['multiple_choice',_0x42a25d(0xc63)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x42a25d(0xd7b)},'idealAnswer':{'type':_0x42a25d(0xa2b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x42a25d(0xa2b)}},'required':[_0x42a25d(0xbc2),'questionType','explanation']},_0x4e414e={'type':'OBJECT','properties':{'topic':{'type':_0x42a25d(0xa2b)},'questions':{'type':'ARRAY','items':_0x59be9c}},'required':[_0x42a25d(0x8ba),_0x42a25d(0x7bb)]},_0x5c1793=[{'text':_0x240ae3},{'inlineData':{'mimeType':_0x4f0d9d,'data':_0x5ac595}}];await handleApiCall(_0x5c1793,_0x42a25d(0x557),_0x4e414e);}catch(_0x242767){console[_0x42a25d(0xd74)](_0x42a25d(0xea0),_0x242767),showMessage('เกิดข้อผิดพลาด:\x20'+_0x242767['message']),_0x1dda9e[_0x42a25d(0x28a)]=_0x42a25d(0xce7);}finally{_0xfefff7['classList']['add'](_0x42a25d(0x9d8)),_0x2f2653[_0x42a25d(0x272)]=![];}},_0x55e205[_0x416b29(0xdf9)]=_0x266218=>{const _0x13adf9=_0x416b29;console[_0x13adf9(0xd74)](_0x13adf9(0x4ad),_0x266218),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0xfefff7[_0x13adf9(0xa1f)][_0x13adf9(0x7e0)](_0x13adf9(0x9d8)),_0x2f2653[_0x13adf9(0x272)]=![];};}async function handleRegenerateQuestionInEditor(_0x3dcc4d){const _0x546633=_0x4ce511;if(currentEditingQuizData===null)return;const _0x13d7e6=document[_0x546633(0x2d0)](_0x546633(0xba7)+_0x3dcc4d+'\x22]');_0x13d7e6&&(_0x13d7e6[_0x546633(0x28a)]=_0x546633(0x451));const _0x2413d9=currentEditingQuizData[_0x546633(0x7bb)][_0x3dcc4d],_0x4ed797=currentEditingQuizData['topic'],_0x70a8ba=_0x2413d9[_0x546633(0xd06)],_0x9ac9b1={'type':_0x546633(0x24c),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x546633(0x216),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x546633(0xd7b)},'explanation':{'type':_0x546633(0xa2b)}},'required':[_0x546633(0xbc2),_0x546633(0xdf0),_0x546633(0xae5),'explanation']},_0x1655cf={'type':'OBJECT','properties':{'questionText':{'type':_0x546633(0xa2b)},'idealAnswer':{'type':_0x546633(0xa2b)},'explanation':{'type':_0x546633(0xa2b)}},'required':[_0x546633(0xbc2),'idealAnswer',_0x546633(0x58b)]};let _0x491c55,_0x4cce0b='';_0x70a8ba===_0x546633(0x8be)?(_0x491c55=_0x9ac9b1,_0x4cce0b=_0x546633(0xd78)):(_0x491c55=_0x1655cf,_0x4cce0b=_0x546633(0x87b));const _0x14d590=_0x546633(0xd0b)+_0x4ed797+_0x546633(0x5a5)+_0x4cce0b+_0x546633(0x5cf)+(_0x2413d9[_0x546633(0xbc2)]||_0x2413d9['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x174beb=await callAnalysisApi(_0x14d590,_0x491c55);currentEditingQuizData['questions'][_0x3dcc4d]={..._0x2413d9,..._0x174beb},renderQuizEditor(currentEditingQuizData);}catch(_0x8558b6){console[_0x546633(0xd74)](_0x546633(0xc03),_0x8558b6),showMessage(_0x546633(0x8f6)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x19b71d=_0x4ce511,_0x4eb3cb=document[_0x19b71d(0xbeb)](_0x19b71d(0x86b));currentMode===_0x19b71d(0x2ec)?(adminPasswordModal[_0x19b71d(0xa1f)][_0x19b71d(0x711)](_0x19b71d(0x9d8)),document[_0x19b71d(0xbeb)](_0x19b71d(0xa28))[_0x19b71d(0xd7d)]()):(currentMode=_0x19b71d(0x2ec),_0x4eb3cb['innerHTML']=_0x19b71d(0xb3c),_0x4eb3cb[_0x19b71d(0xa17)]=_0x19b71d(0xe48),showView(_0x19b71d(0x2ec)));}function handleAdminLogin(){const _0x3c2d0a=_0x4ce511,_0x22ad10=document[_0x3c2d0a(0xbeb)](_0x3c2d0a(0xa28)),_0x3179cd=document[_0x3c2d0a(0xbeb)]('password-error-msg');if(_0x22ad10[_0x3c2d0a(0xc07)]===_0x3c2d0a(0xc4c)){adminPasswordModal['classList'][_0x3c2d0a(0x7e0)]('hidden'),_0x22ad10['value']='',_0x3179cd[_0x3c2d0a(0xa1f)]['add'](_0x3c2d0a(0x9d8)),currentMode=_0x3c2d0a(0x203);const _0x40a473=document[_0x3c2d0a(0xbeb)](_0x3c2d0a(0x86b));_0x40a473[_0x3c2d0a(0x28a)]=_0x3c2d0a(0x768),_0x40a473[_0x3c2d0a(0xa17)]=_0x3c2d0a(0x2c9),showView(_0x3c2d0a(0x5cd));}else _0x3179cd['classList'][_0x3c2d0a(0x711)](_0x3c2d0a(0x9d8)),_0x22ad10[_0x3c2d0a(0xc07)]='';}function switchProjectTab(_0x119e2b){const _0x3f372b=_0x4ce511;[_0x3f372b(0x556),_0x3f372b(0x783),_0x3f372b(0x302)][_0x3f372b(0xbd3)](_0x5b143a=>{const _0x4a3b6c=_0x3f372b;document[_0x4a3b6c(0xbeb)](_0x5b143a+_0x4a3b6c(0x72a))[_0x4a3b6c(0xa1f)]['remove']('active'),document['getElementById'](_0x5b143a+_0x4a3b6c(0x4e0))[_0x4a3b6c(0xa1f)][_0x4a3b6c(0x7e0)](_0x4a3b6c(0x9d8));}),document[_0x3f372b(0xbeb)](_0x119e2b+_0x3f372b(0x72a))[_0x3f372b(0xa1f)][_0x3f372b(0x7e0)](_0x3f372b(0x829)),document[_0x3f372b(0xbeb)](_0x119e2b+_0x3f372b(0x4e0))[_0x3f372b(0xa1f)][_0x3f372b(0x711)](_0x3f372b(0x9d8));}function switchQuizDetailTab(_0x5427da){const _0x4a7f14=_0x4ce511,_0x2e9049={'analytics':{'btn':_0x4a7f14(0x32b),'content':_0x4a7f14(0x3c4)},'scores':{'btn':'scores-tab-btn','content':_0x4a7f14(0x96c)},'leaderboard-quiz':{'btn':_0x4a7f14(0x345),'content':_0x4a7f14(0xb7d)},'behavior-log':{'btn':_0x4a7f14(0x480),'content':'behavior-log-tab-content'}};for(const _0x51fe99 in _0x2e9049){document['getElementById'](_0x2e9049[_0x51fe99][_0x4a7f14(0xcb7)])[_0x4a7f14(0xa1f)][_0x4a7f14(0x711)](_0x4a7f14(0x829)),document[_0x4a7f14(0xbeb)](_0x2e9049[_0x51fe99][_0x4a7f14(0x59c)])[_0x4a7f14(0xa1f)][_0x4a7f14(0x7e0)](_0x4a7f14(0x9d8));}document[_0x4a7f14(0xbeb)](_0x2e9049[_0x5427da][_0x4a7f14(0xcb7)])[_0x4a7f14(0xa1f)][_0x4a7f14(0x7e0)](_0x4a7f14(0x829)),document['getElementById'](_0x2e9049[_0x5427da][_0x4a7f14(0x59c)])[_0x4a7f14(0xa1f)][_0x4a7f14(0x711)]('hidden');}function showMessage(_0x4e4fe7,_0x15feb1=null){const _0x2ccd59=_0x4ce511;modalMessage[_0x2ccd59(0x28a)]=_0x4e4fe7[_0x2ccd59(0xea1)](/\n/g,_0x2ccd59(0xdd9)),modalConfirmAction=_0x15feb1,messageModal[_0x2ccd59(0xa1f)][_0x2ccd59(0x711)](_0x2ccd59(0x9d8));}function showConfirmation(_0x247f42,_0x469fa0,_0x119c54=null){const _0x118ea8=_0x4ce511;document[_0x118ea8(0xbeb)](_0x118ea8(0x36e))[_0x118ea8(0x211)]=_0x247f42,document['getElementById'](_0x118ea8(0x9e3))[_0x118ea8(0x2d0)]('h3')[_0x118ea8(0x211)]=_0x118ea8(0xd6f),confirmAction=_0x469fa0,cancelAction=_0x119c54,confirmationModal[_0x118ea8(0xa1f)]['remove'](_0x118ea8(0x9d8));}function listenForProjects(){const _0x48c076=_0x4ce511,_0x3e2512=doc(db,'globalSettings',_0x48c076(0x232));onSnapshot(_0x3e2512,_0x324e13=>{const _0x416abc=_0x48c076;if(_0x324e13[_0x416abc(0x358)]()){const _0x14c9b8=_0x324e13['data']();globalDashboardSettings['projectSort']=_0x14c9b8['projectSort']||_0x416abc(0x9e8),globalDashboardSettings[_0x416abc(0x2e1)]=_0x14c9b8[_0x416abc(0x2e1)]||[],globalDashboardSettings[_0x416abc(0x2fa)]=_0x14c9b8[_0x416abc(0x2fa)]||[];}allProjects[_0x416abc(0x81c)]>0x0&&renderProjects();});const _0xec7964=collection(db,_0x48c076(0xcaf)+appId+_0x48c076(0x74c));unsubscribeProjectsListener=onSnapshot(_0xec7964,_0x27cffe=>{const _0x2fbbe2=_0x48c076;allProjects=_0x27cffe[_0x2fbbe2(0xf3c)][_0x2fbbe2(0xa15)](_0x513285=>({'id':_0x513285['id'],..._0x513285[_0x2fbbe2(0xbfb)]()})),renderProjects();},_0x5bf022=>{const _0x63a711=_0x48c076;console[_0x63a711(0xd74)](_0x63a711(0xa74),_0x5bf022),showMessage(_0x63a711(0x951));});}function showColorPalette(_0x401167,_0x1f3d42){const _0x6822f0=_0x4ce511;document['querySelectorAll'](_0x6822f0(0xe21))[_0x6822f0(0xbd3)](_0x5ca054=>_0x5ca054['remove']());const _0x2cb62d=[_0x6822f0(0x435),_0x6822f0(0x826),'#FEF3C7',_0x6822f0(0x85e),_0x6822f0(0x71f),_0x6822f0(0x2e0),_0x6822f0(0x226),_0x6822f0(0xc58),_0x6822f0(0xc40)],_0xfbeddb=document[_0x6822f0(0x38c)](_0x6822f0(0x3ae));_0xfbeddb[_0x6822f0(0x5de)]=_0x6822f0(0x29b),_0x2cb62d[_0x6822f0(0xbd3)](_0x47a6d2=>{const _0x22d30d=_0x6822f0,_0x33d7d7=document[_0x22d30d(0x38c)](_0x22d30d(0x3ae));_0x33d7d7[_0x22d30d(0x5de)]=_0x22d30d(0x66f),_0x33d7d7[_0x22d30d(0xbcb)][_0x22d30d(0x32f)]=_0x47a6d2,_0x33d7d7[_0x22d30d(0x79a)](_0x22d30d(0xc64),()=>{const _0x9f2d0f=_0x22d30d;handleProjectColorChange(_0x1f3d42,_0x47a6d2),_0xfbeddb[_0x9f2d0f(0x711)]();}),_0xfbeddb[_0x22d30d(0x620)](_0x33d7d7);}),document['body'][_0x6822f0(0x620)](_0xfbeddb);const _0x39083d=_0x401167[_0x6822f0(0x9af)]();_0xfbeddb[_0x6822f0(0xbcb)][_0x6822f0(0xdaf)]=_0x39083d[_0x6822f0(0x9c0)]+window[_0x6822f0(0xdb8)]+'px',_0xfbeddb[_0x6822f0(0xbcb)][_0x6822f0(0x205)]=_0x39083d['left']+window['scrollX']-_0xfbeddb[_0x6822f0(0x9a0)]/0x2+'px';}async function handleProjectColorChange(_0x24d4f3,_0x5b4d9c){const _0x1c803b=_0x4ce511,_0x1f1892=doc(db,_0x1c803b(0xcaf)+appId+_0x1c803b(0x74c),_0x24d4f3);try{await updateDoc(_0x1f1892,{'color':_0x5b4d9c});}catch(_0x465244){console['error'](_0x1c803b(0xa1b),_0x465244),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x5850da=_0x4ce511,_0x35d918=globalDashboardSettings[_0x5850da(0xb62)]||_0x5850da(0x9e8),_0x201209=new Set(globalDashboardSettings[_0x5850da(0x2e1)]||[]),_0x1c6b7d=globalDashboardSettings[_0x5850da(0x776)]||_0x5850da(0xd82),_0x5dd12b=document['getElementById'](_0x5850da(0xd2b)),_0x57d36b=document[_0x5850da(0xbeb)](_0x5850da(0xd9a));_0x5dd12b[_0x5850da(0xa1f)][_0x5850da(0x4c3)](_0x5850da(0x829),_0x1c6b7d===_0x5850da(0xd82)),_0x57d36b[_0x5850da(0xa1f)][_0x5850da(0x4c3)]('active',_0x1c6b7d===_0x5850da(0x80a)),document[_0x5850da(0xbeb)](_0x5850da(0x41e))[_0x5850da(0xc07)]=_0x35d918;const _0x1f2325=document[_0x5850da(0xbeb)](_0x5850da(0xcfd))[_0x5850da(0xc07)][_0x5850da(0x298)]();let _0x31d7ce=allProjects[_0x5850da(0x395)](_0x1be068=>_0x1be068[_0x5850da(0x9e0)][_0x5850da(0x298)]()[_0x5850da(0x87a)](_0x1f2325));const _0x3a5b2d=_0x31d7ce['filter'](_0xe76be2=>_0x201209[_0x5850da(0xde6)](_0xe76be2['id'])),_0x496a64=_0x31d7ce['filter'](_0x2ad1c9=>!_0x201209['has'](_0x2ad1c9['id'])),_0x5582f6=(_0x26ce06,_0x1c771a)=>{const _0x40d4ee=_0x5850da;switch(_0x35d918){case _0x40d4ee(0x63c):return _0x26ce06[_0x40d4ee(0x9e0)][_0x40d4ee(0xac1)](_0x1c771a['projectName'],'th');case'name_desc':return _0x1c771a[_0x40d4ee(0x9e0)][_0x40d4ee(0xac1)](_0x26ce06[_0x40d4ee(0x9e0)],'th');case'date_asc':return new Date(_0x26ce06['createdAt'])-new Date(_0x1c771a[_0x40d4ee(0xda9)]);default:return new Date(_0x1c771a[_0x40d4ee(0xda9)])-new Date(_0x26ce06[_0x40d4ee(0xda9)]);}};_0x3a5b2d['sort'](_0x5582f6),_0x496a64[_0x5850da(0x2b3)](_0x5582f6);const _0x13add5=[..._0x3a5b2d,..._0x496a64],_0x120f40=globalDashboardSettings[_0x5850da(0x2fa)]||[];_0x120f40[_0x5850da(0x81c)]>0x0&&_0x1c6b7d===_0x5850da(0xd82)&&_0x13add5[_0x5850da(0x2b3)]((_0x2f8661,_0xb795a2)=>{const _0x77fb1c=_0x5850da,_0x35f49e=_0x120f40[_0x77fb1c(0xf23)](_0x2f8661['id']),_0x27457e=_0x120f40[_0x77fb1c(0xf23)](_0xb795a2['id']);if(_0x35f49e===-0x1)return 0x1;if(_0x27457e===-0x1)return-0x1;return _0x35f49e-_0x27457e;});const _0x2de5d9={};await Promise[_0x5850da(0x408)](_0x13add5['map'](async _0xa56ee9=>{const _0x17af4d=_0x5850da,_0xd9f907=query(collection(db,_0x17af4d(0xcaf)+appId+'/public/data/quizzes'),where('projectId','==',_0xa56ee9['id'])),_0xf4e36e=await getDocs(_0xd9f907);_0x2de5d9[_0xa56ee9['id']]=_0xf4e36e[_0x17af4d(0x72f)];}));const _0x36d154=document[_0x5850da(0xbeb)](_0x5850da(0xf57));let _0x28f6f1='';if(_0x1c6b7d===_0x5850da(0xd82)){_0x36d154[_0x5850da(0x5de)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x5850da(0x81c)]>0x0&&_0x1f2325===''){const _0x106c64=starredQuizzes[_0x5850da(0xa15)](_0x380f52=>{const _0x17a600=_0x5850da,_0x37cea3=allProjects[_0x17a600(0x340)](_0x4320fb=>_0x4320fb['id']===_0x380f52[_0x17a600(0xc3a)]);return{..._0x380f52,'projectName':_0x37cea3?_0x37cea3[_0x17a600(0x9e0)]:_0x17a600(0x30b)};});_0x28f6f1+=_0x5850da(0xabe)+_0x106c64[_0x5850da(0xa15)](_0x2d434b=>_0x5850da(0xe43)+_0x2d434b[_0x5850da(0x8ba)]+'\x22>'+_0x2d434b[_0x5850da(0x8ba)]+_0x5850da(0xe53)+_0x2d434b[_0x5850da(0x9e0)]+'\x22>จาก:\x20'+_0x2d434b[_0x5850da(0x9e0)]+_0x5850da(0x2a5))['join']('')+_0x5850da(0x9ed)+starredQuizzes[_0x5850da(0x81c)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x13add5[_0x5850da(0xbd3)](_0x61860=>{const _0x3eb8a4=_0x5850da,_0x2ba35d=_0x2de5d9[_0x61860['id']]??0x0,_0x4e131a=_0x201209['has'](_0x61860['id']),_0x4ba980=_0x61860[_0x3eb8a4(0xa66)]||_0x3eb8a4(0x435),_0x51f766=parseInt(_0x4ba980[_0x3eb8a4(0xb72)](0x1,0x3),0x10)*0.299+parseInt(_0x4ba980[_0x3eb8a4(0xb72)](0x3,0x5),0x10)*0.587+parseInt(_0x4ba980['substring'](0x5,0x7),0x10)*0.114<0xba,_0x293486=_0x51f766?_0x3eb8a4(0x48e):'text-indigo-800',_0x3da189=_0x51f766?_0x3eb8a4(0xa1e):_0x3eb8a4(0x9e1);_0x28f6f1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x4e131a?_0x3eb8a4(0x72b):_0x3eb8a4(0x685))+_0x3eb8a4(0x222)+_0x4ba980+_0x3eb8a4(0x87f)+_0x61860['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x61860['id']+_0x3eb8a4(0x8a4)+(_0x51f766?'text-gray-300\x20hover:text-white':_0x3eb8a4(0xccb))+_0x3eb8a4(0xafd)+_0x61860['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x51f766?_0x3eb8a4(0x6e6):_0x3eb8a4(0xccb))+_0x3eb8a4(0x476)+(_0x4e131a?_0x51f766?_0x3eb8a4(0x60f):_0x3eb8a4(0xb80):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x61860['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x293486+'\x20pointer-events-none\x22>'+_0x61860[_0x3eb8a4(0x9e0)]+_0x3eb8a4(0xbb9)+_0x3da189+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x61860['createdAt'])[_0x3eb8a4(0x52a)]('th-TH')+_0x3eb8a4(0x650)+(_0x51f766?_0x3eb8a4(0x246):_0x3eb8a4(0x7dc))+_0x3eb8a4(0x817)+_0x2ba35d+_0x3eb8a4(0xcbd)+_0x61860['id']+_0x3eb8a4(0x8c3)+_0x61860[_0x3eb8a4(0x9e0)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x51f766?_0x3eb8a4(0xe9d):_0x3eb8a4(0xd7a))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x36d154[_0x5850da(0x5de)]=_0x5850da(0xac7),starredQuizzes['length']>0x0&&_0x1f2325===''&&(_0x28f6f1+=_0x5850da(0x8ac)+starredQuizzes[_0x5850da(0x81c)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x28f6f1+=_0x5850da(0x628),_0x13add5['forEach'](_0x3ba2db=>{const _0x2e6b97=_0x5850da,_0x35edb1=_0x2de5d9[_0x3ba2db['id']]??0x0,_0x51d247=_0x201209['has'](_0x3ba2db['id']);_0x28f6f1+=_0x2e6b97(0x9b9)+(_0x3ba2db[_0x2e6b97(0xa66)]||'#E5E7EB')+_0x2e6b97(0xa9a)+_0x3ba2db['id']+_0x2e6b97(0x842)+_0x3ba2db[_0x2e6b97(0x9e0)]+_0x2e6b97(0x1d3)+_0x35edb1+_0x2e6b97(0x96f)+new Date(_0x3ba2db['createdAt'])['toLocaleString'](_0x2e6b97(0xb2a))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ba2db['id']+_0x2e6b97(0xb84)+(_0x51d247?_0x2e6b97(0xb80):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ba2db['id']+_0x2e6b97(0x8c3)+_0x3ba2db[_0x2e6b97(0x9e0)]+_0x2e6b97(0xbbb);});projectList[_0x5850da(0x28a)]=_0x28f6f1,noProjectsMsg['classList']['toggle']('hidden',_0x28f6f1[_0x5850da(0x81c)]>0x0);}document[_0x4ce511(0xbeb)](_0x4ce511(0xc86))[_0x4ce511(0x79a)]('click',async()=>{const _0x1703b5=_0x4ce511,_0x4e52f1=document['getElementById'](_0x1703b5(0x5a3)),_0x10cd5c=_0x4e52f1[_0x1703b5(0xc07)][_0x1703b5(0x88c)]();if(!_0x10cd5c){showMessage(_0x1703b5(0x273));return;}try{const _0x1b171b=doc(collection(db,_0x1703b5(0xcaf)+appId+'/public/data/projects'));await setDoc(_0x1b171b,{'projectName':_0x10cd5c,'students':[],'settings':{'resultsDisplay':_0x1703b5(0xac0),'shuffleSetting':_0x1703b5(0x434),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x1703b5(0x760)]()}),_0x4e52f1[_0x1703b5(0xc07)]='',createProjectModal[_0x1703b5(0xa1f)][_0x1703b5(0x7e0)](_0x1703b5(0x9d8)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x2ed9d5){console['error'](_0x1703b5(0xe18),_0x2ed9d5),showMessage(_0x1703b5(0x897));}}),projectList[_0x4ce511(0x79a)]('click',async _0x141a7a=>{const _0x2971b0=_0x4ce511,_0x3404ed=_0x141a7a['target'][_0x2971b0(0x253)](_0x2971b0(0xb76)),_0x209ab6=_0x141a7a[_0x2971b0(0x544)][_0x2971b0(0x253)](_0x2971b0(0x397)),_0x5471ea=_0x141a7a[_0x2971b0(0x544)][_0x2971b0(0x253)](_0x2971b0(0xa7a)),_0x12917d=_0x141a7a[_0x2971b0(0x544)][_0x2971b0(0x253)]('.color-palette-btn');if(_0x5471ea){const _0x1db079=_0x5471ea[_0x2971b0(0x6b1)]['id'],_0xcd39f4=doc(db,_0x2971b0(0xc3f),_0x2971b0(0x232)),_0x381c39=globalDashboardSettings['pinnedProjects'];let _0x588a3f;_0x381c39[_0x2971b0(0x87a)](_0x1db079)?_0x588a3f=_0x381c39[_0x2971b0(0x395)](_0x5e0835=>_0x5e0835!==_0x1db079):_0x588a3f=[..._0x381c39,_0x1db079];try{await setDoc(_0xcd39f4,{'pinnedProjects':_0x588a3f},{'merge':!![]});}catch(_0x4f0a48){console[_0x2971b0(0xd74)](_0x2971b0(0x6fa),_0x4f0a48),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x12917d){const _0x3ce611=_0x12917d['dataset']['id'];showColorPalette(_0x12917d,_0x3ce611);}else{if(_0x3404ed){const _0x59ffc0=_0x3404ed[_0x2971b0(0x6b1)]['id'];_0x59ffc0==='starred-project'?showStarredProjectView():(currentProjectId=_0x59ffc0,await loadProjectDetails(currentProjectId),showView(_0x2971b0(0xe1e)));}else{if(_0x209ab6){const _0x877503=_0x209ab6[_0x2971b0(0x6b1)]['id'],_0x1903ed=_0x209ab6[_0x2971b0(0x6b1)][_0x2971b0(0x631)];showConfirmation(_0x2971b0(0x830)+_0x1903ed+_0x2971b0(0x6f0),()=>handleDeleteProject(_0x877503));}}}}}),projectList[_0x4ce511(0x79a)](_0x4ce511(0xc46),_0x1cc03e=>{const _0x13f93a=_0x4ce511,_0x2a5013=_0x1cc03e[_0x13f93a(0x544)][_0x13f93a(0x253)](_0x13f93a(0xd79));_0x2a5013&&_0x2a5013[_0x13f93a(0xa1f)][_0x13f93a(0x7e0)](_0x13f93a(0x42d));}),projectList['addEventListener']('dragend',_0x3923b7=>{const _0x186a6e=_0x4ce511,_0x3c784f=_0x3923b7['target']['closest']('.project-card-container');_0x3c784f&&_0x3c784f['classList'][_0x186a6e(0x711)](_0x186a6e(0x42d));}),projectList['addEventListener'](_0x4ce511(0x62f),_0x1019ec=>{const _0x5296f7=_0x4ce511;_0x1019ec['preventDefault']();const _0x2d32e4=document[_0x5296f7(0x2d0)](_0x5296f7(0x705));if(!_0x2d32e4)return;const _0x5efead=getDragAfterElement(projectList,_0x1019ec[_0x5296f7(0x64a)]);_0x5efead==null?projectList[_0x5296f7(0x620)](_0x2d32e4):projectList[_0x5296f7(0x7b4)](_0x2d32e4,_0x5efead);}),projectList[_0x4ce511(0x79a)](_0x4ce511(0x7a8),_0x1e060e=>{const _0x4a5c9e=_0x4ce511;_0x1e060e['preventDefault']();const _0x3bc16c=[...projectList[_0x4a5c9e(0xb02)](_0x4a5c9e(0xf30))][_0x4a5c9e(0xa15)](_0x306950=>_0x306950[_0x4a5c9e(0x6b1)]['id']);saveProjectOrder(_0x3bc16c);});function renderBehaviorLog(_0x392783){const _0x12cd47=_0x4ce511,_0x50c035=document[_0x12cd47(0xbeb)](_0x12cd47(0x45f));if(!_0x50c035)return;const _0x39ce38=_0x392783[_0x12cd47(0x395)](_0x34c047=>_0x34c047['behaviorLog']&&_0x34c047[_0x12cd47(0x802)][_0x12cd47(0x81c)]>0x0);if(_0x39ce38[_0x12cd47(0x81c)]===0x0){_0x50c035['innerHTML']=_0x12cd47(0xab1);return;}let _0x3375eb='';_0x39ce38[_0x12cd47(0xbd3)](_0x5537f7=>{const _0x302579=_0x12cd47;_0x3375eb+=_0x302579(0xf2e)+_0x5537f7[_0x302579(0x8df)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5537f7[_0x302579(0x802)]['sort']((_0x8313e6,_0x3bc6b4)=>new Date(_0x3bc6b4['timestamp'])-new Date(_0x8313e6[_0x302579(0xf42)]))[_0x302579(0xbd3)](_0x4bbb2b=>{const _0x7610ca=_0x302579,_0x294947=new Date(_0x4bbb2b[_0x7610ca(0xf42)])[_0x7610ca(0x4d2)]('th-TH',{'dateStyle':'short','timeStyle':_0x7610ca(0x923)});_0x3375eb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x4bbb2b[_0x7610ca(0x88d)]+_0x7610ca(0x1e2)+_0x294947+_0x7610ca(0x27d);}),_0x3375eb+=_0x302579(0x6a0);}),_0x50c035[_0x12cd47(0x28a)]=_0x3375eb;}function getDragAfterElement(_0x2a52c7,_0x45820e){const _0x152fde=_0x4ce511,_0x3b889a=[..._0x2a52c7[_0x152fde(0xb02)](_0x152fde(0xb12))];return _0x3b889a[_0x152fde(0x6f2)]((_0x4b118a,_0xb3d881)=>{const _0x384af8=_0x152fde,_0x3df1e6=_0xb3d881[_0x384af8(0x9af)](),_0x4bd590=_0x45820e-_0x3df1e6[_0x384af8(0xdaf)]-_0x3df1e6['height']/0x2;return _0x4bd590<0x0&&_0x4bd590>_0x4b118a[_0x384af8(0xa81)]?{'offset':_0x4bd590,'element':_0xb3d881}:_0x4b118a;},{'offset':Number[_0x152fde(0xb9a)]})[_0x152fde(0x44c)];}async function saveProjectOrder(_0x2afbce){const _0x37ba0f=_0x4ce511,_0x1de863=doc(db,_0x37ba0f(0xc3f),_0x37ba0f(0x232));try{await setDoc(_0x1de863,{'projectOrder':_0x2afbce},{'merge':!![]});}catch(_0x2b61da){console['error'](_0x37ba0f(0x864),_0x2b61da),showMessage(_0x37ba0f(0xccc));}}async function logBehaviorEvent(_0x6f15b3,_0x1e459f={}){const _0x3d4902=_0x4ce511;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x3d4902(0xaad));return;}const _0x2a3c71=doc(db,_0x3d4902(0xcaf)+appId+_0x3d4902(0x284)+currentQuizData['id']+_0x3d4902(0x65f),currentStudentName),_0x16a704={'event':_0x6f15b3,'timestamp':new Date()[_0x3d4902(0x760)](),..._0x1e459f};try{await updateDoc(_0x2a3c71,{'behaviorLog':arrayUnion(_0x16a704)}),console[_0x3d4902(0x2c0)](_0x3d4902(0x6ce)+currentStudentName+_0x3d4902(0x63d));}catch(_0xea7656){_0xea7656[_0x3d4902(0xd34)]===_0x3d4902(0xb41)?console[_0x3d4902(0xbfc)](_0x3d4902(0xd58)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x3d4902(0xd74)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0xea7656);}}function getScoreTier(_0x42eb15,_0x2d4377){const _0x555a05=_0x4ce511;if(_0x2d4377===0x0){if(_0x42eb15===0x0)return{'text':_0x555a05(0x4a2),'icon':'⏳'};return{'text':'(พยายามอยู่)','icon':'😥'};}const _0x7bfaf0=_0x42eb15/(_0x2d4377===0x0?0x1:_0x2d4377);if(_0x7bfaf0===0x1)return{'text':_0x555a05(0x2dd),'icon':'👑'};if(_0x7bfaf0>=0.7)return{'text':_0x555a05(0x5dd),'icon':'🔥'};if(_0x7bfaf0>=0.4)return{'text':_0x555a05(0x6bb),'icon':'🏃'};return{'text':_0x555a05(0x47e),'icon':'😥'};}function calculateMeanAndStdDev(_0x1abac7){const _0x2e236d=_0x4ce511;if(_0x1abac7[_0x2e236d(0x81c)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x2519d0=_0x1abac7[_0x2e236d(0x6f2)]((_0x4ce029,_0x352db3)=>_0x4ce029+_0x352db3,0x0)/_0x1abac7[_0x2e236d(0x81c)];if(_0x1abac7[_0x2e236d(0x81c)]===0x1)return{'mean':_0x2519d0,'stdDev':0x0};const _0x359969=Math[_0x2e236d(0xa8a)](_0x1abac7['map'](_0x81b9df=>Math['pow'](_0x81b9df-_0x2519d0,0x2))[_0x2e236d(0x6f2)]((_0x32202d,_0x286488)=>_0x32202d+_0x286488,0x0)/(_0x1abac7[_0x2e236d(0x81c)]-0x1));return{'mean':_0x2519d0,'stdDev':_0x359969};}function calculateZScore(_0x3d994d,_0x8bdc6b,_0x9db3f5){if(_0x9db3f5===0x0)return 0x0;return(_0x3d994d-_0x8bdc6b)/_0x9db3f5;}function calculateTScore(_0xee8a4d){return 0xa*_0xee8a4d+0x32;}function showStarredProjectView(){const _0x5a7d55=_0x4ce511;currentProjectId=_0x5a7d55(0x646),currentProjectData=null,projectTitle[_0x5a7d55(0x211)]=_0x5a7d55(0x4ae),projectIdDisplay['textContent']=_0x5a7d55(0x2f5),showView(_0x5a7d55(0xe1e)),manageTab['classList'][_0x5a7d55(0x7e0)](_0x5a7d55(0x9d8)),leaderboardTab['classList']['add']('hidden'),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x4271d2){const _0x7320b0=_0x4ce511,_0x18fb8f=doc(db,_0x7320b0(0xcaf)+appId+'/public/data/projects',_0x4271d2),_0x11f7d8=await getDoc(_0x18fb8f);if(_0x11f7d8[_0x7320b0(0x358)]()){manageTab[_0x7320b0(0xa1f)][_0x7320b0(0x711)](_0x7320b0(0x9d8)),leaderboardTab[_0x7320b0(0xa1f)]['remove'](_0x7320b0(0x9d8)),currentProjectData=_0x11f7d8[_0x7320b0(0xbfb)](),projectTitle[_0x7320b0(0x211)]=currentProjectData[_0x7320b0(0x9e0)],projectIdDisplay[_0x7320b0(0x211)]=_0x4271d2;const _0x48419c=currentProjectData['settings']||{};document[_0x7320b0(0xbeb)](_0x7320b0(0xdaa))['value']=_0x48419c[_0x7320b0(0x3b2)]||_0x7320b0(0x434);const _0x36e90e=document['getElementById'](_0x7320b0(0x5b1));_0x36e90e['checked']=_0x48419c[_0x7320b0(0xbda)]!==![];const _0x5b3a8d=document[_0x7320b0(0xbeb)](_0x7320b0(0xdd4)),_0x324d1f=document[_0x7320b0(0xbeb)]('passcode-input-container'),_0x41d8e9=document[_0x7320b0(0xbeb)](_0x7320b0(0xeb6)),_0x35689f=_0x48419c[_0x7320b0(0x2da)]||![];_0x5b3a8d[_0x7320b0(0x375)]=_0x35689f,_0x41d8e9[_0x7320b0(0xc07)]=_0x48419c[_0x7320b0(0x5e2)]||'',_0x324d1f['classList']['toggle']('hidden',!_0x35689f),_0x5b3a8d[_0x7320b0(0x9a6)]=()=>{const _0x5adaa9=_0x7320b0;_0x324d1f[_0x5adaa9(0xa1f)][_0x5adaa9(0x4c3)](_0x5adaa9(0x9d8),!_0x5b3a8d[_0x5adaa9(0x375)]);},document[_0x7320b0(0xbeb)](_0x7320b0(0x3bc))['checked']=_0x48419c[_0x7320b0(0xb68)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x4271d2),listenForProjectQuizzes(_0x4271d2),listenForStudentProfiles(_0x4271d2);}else showMessage(_0x7320b0(0x34d)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x5ef8d1=_0x4ce511,_0x327ce0=doc(db,'globalSettings',_0x5ef8d1(0x232));try{await setDoc(_0x327ce0,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x2fc05e){console[_0x5ef8d1(0xd74)]('Error\x20resetting\x20project\x20order:',_0x2fc05e),showMessage(_0x5ef8d1(0xee6));}}async function handleTogglePinProject(_0x41494e){const _0x3d9dce=_0x4ce511;if(!_0x41494e)return;const _0x5040f6=doc(db,_0x3d9dce(0xcaf)+appId+_0x3d9dce(0x74c),_0x41494e);try{const _0x3123cf=await getDoc(_0x5040f6);if(_0x3123cf[_0x3d9dce(0x358)]()){const _0x46c42b=_0x3123cf[_0x3d9dce(0xbfb)]()[_0x3d9dce(0x1de)]||![];await updateDoc(_0x5040f6,{'isPinned':!_0x46c42b});}}catch(_0x579bd3){console[_0x3d9dce(0xd74)]('Error\x20toggling\x20pin\x20status:',_0x579bd3),showMessage(_0x3d9dce(0xeb9));}}async function handleDeleteProject(_0x180a80){const _0x1b77cc=_0x4ce511;try{const _0x4211ab=writeBatch(db),_0x1eb6b7=collection(db,_0x1b77cc(0xcaf)+appId+_0x1b77cc(0x24f)),_0x532718=query(_0x1eb6b7,where('projectId','==',_0x180a80)),_0x3cb592=await getDocs(_0x532718);for(const _0x3684bf of _0x3cb592[_0x1b77cc(0xf3c)]){const _0x26f3c2=collection(db,_0x1b77cc(0xcaf)+appId+_0x1b77cc(0x284)+_0x3684bf['id']+_0x1b77cc(0x65f)),_0x5ca0cc=await getDocs(_0x26f3c2);_0x5ca0cc[_0x1b77cc(0xbd3)](_0x464016=>{const _0x25f97c=_0x1b77cc;_0x4211ab[_0x25f97c(0xf45)](_0x464016[_0x25f97c(0x519)]);}),_0x4211ab['delete'](_0x3684bf[_0x1b77cc(0x519)]);}const _0x28dd51=collection(db,_0x1b77cc(0xcaf)+appId+'/public/data/projects/'+_0x180a80+_0x1b77cc(0x374)),_0x19f639=await getDocs(_0x28dd51);_0x19f639[_0x1b77cc(0xbd3)](_0x24f686=>{const _0x576279=_0x1b77cc;_0x4211ab['delete'](_0x24f686[_0x576279(0x519)]);});const _0x358474=doc(db,_0x1b77cc(0xcaf)+appId+'/public/data/projects',_0x180a80);_0x4211ab[_0x1b77cc(0xf45)](_0x358474),await _0x4211ab[_0x1b77cc(0xe24)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x1b77cc(0x5cd));}catch(_0x2d4266){console[_0x1b77cc(0xd74)](_0x1b77cc(0xda1),_0x2d4266),showMessage(_0x1b77cc(0x595));}}document['getElementById'](_0x4ce511(0x7ad))[_0x4ce511(0x79a)](_0x4ce511(0xc64),async()=>{const _0x3fa8f2=_0x4ce511;if(!currentProjectId)return;const _0x106839={'defaultNumQuestions':parseInt(document[_0x3fa8f2(0xbeb)]('num-questions')['value']),'defaultNumChoices':parseInt(document[_0x3fa8f2(0xbeb)](_0x3fa8f2(0x524))['value']),'defaultPassingScore':parseInt(document[_0x3fa8f2(0xbeb)](_0x3fa8f2(0x288))[_0x3fa8f2(0xc07)]),'resultsDisplay':document[_0x3fa8f2(0xbeb)](_0x3fa8f2(0xb91))[_0x3fa8f2(0xc07)],'shuffleSetting':document[_0x3fa8f2(0xbeb)](_0x3fa8f2(0xdaa))['value'],'timerMode':document[_0x3fa8f2(0xbeb)]('timer-mode-select')[_0x3fa8f2(0xc07)],'timerDuration':parseInt(document[_0x3fa8f2(0xbeb)](_0x3fa8f2(0x26c))[_0x3fa8f2(0xc07)]),'isConfidenceScoringEnabled':document[_0x3fa8f2(0xbeb)]('confidence-scoring-checkbox')[_0x3fa8f2(0x375)],'confidenceMode':document[_0x3fa8f2(0xbeb)](_0x3fa8f2(0x8fd))[_0x3fa8f2(0xc07)]};try{const _0x37a89b=doc(db,_0x3fa8f2(0xcaf)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x37a89b,{'settings':_0x106839}),showMessage(_0x3fa8f2(0x895));}catch(_0x14d3c9){console[_0x3fa8f2(0xd74)]('Error\x20saving\x20settings:',_0x14d3c9),showMessage(_0x3fa8f2(0x38a));}});function listenForStudents(_0x186d58){const _0x38b08b=_0x4ce511,_0x2bb2ab=doc(db,'artifacts/'+appId+_0x38b08b(0x74c),_0x186d58);unsubscribeStudentsListener=onSnapshot(_0x2bb2ab,_0x120bc1=>{const _0x88d6f6=_0x38b08b;if(_0x120bc1['exists']()){const _0x104a98=_0x120bc1[_0x88d6f6(0xbfb)]();currentProjectData=_0x104a98,renderStudentList(_0x104a98[_0x88d6f6(0x7cd)]||[]);}});}function renderStudentList(_0x369c62){const _0xf650cf=_0x4ce511,_0x30617e=document['getElementById']('delete-all-students-btn');_0x369c62[_0xf650cf(0x81c)]===0x0?(studentList[_0xf650cf(0x28a)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x30617e[_0xf650cf(0xa1f)][_0xf650cf(0x7e0)]('hidden')):(studentList['innerHTML']=_0x369c62[_0xf650cf(0xa15)](_0x3d9b0b=>_0xf650cf(0x914)+_0x3d9b0b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x3d9b0b+_0xf650cf(0x26e))[_0xf650cf(0x919)](''),_0x30617e[_0xf650cf(0xa1f)][_0xf650cf(0x711)](_0xf650cf(0x9d8)));}document[_0x4ce511(0xbeb)](_0x4ce511(0x7cf))[_0x4ce511(0x79a)](_0x4ce511(0xc64),async()=>{const _0x939c31=_0x4ce511;if(!currentProjectId)return;const _0x16e0c3=document['getElementById']('student-name-input'),_0x543d8c=_0x16e0c3[_0x939c31(0xc07)][_0x939c31(0x88c)]();if(!_0x543d8c){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x330b2b=_0x543d8c[_0x939c31(0xa00)]('\x0a')[_0x939c31(0xa15)](_0x3e0067=>_0x3e0067[_0x939c31(0x88c)]())['filter'](_0x59230c=>_0x59230c);if(_0x330b2b['length']===0x0)return;try{const _0x371f27=doc(db,_0x939c31(0xcaf)+appId+_0x939c31(0x74c),currentProjectId),_0x1f7e87=await getDoc(_0x371f27);if(_0x1f7e87[_0x939c31(0x358)]()){const _0x4d1948=_0x1f7e87[_0x939c31(0xbfb)]()['students']||[],_0x1c5b4e=[...new Set([..._0x4d1948,..._0x330b2b])];await updateDoc(_0x371f27,{'students':_0x1c5b4e}),_0x16e0c3['value']='';}}catch(_0x275ea0){console[_0x939c31(0xd74)]('Error\x20adding\x20students:',_0x275ea0),showMessage(_0x939c31(0x2ea));}});async function handleManualQuizPairing(_0x12fb73){const _0x3acbc9=_0x4ce511,_0x4a11c2=document['getElementById']('move-quiz-modal'),_0x1e458c=document['getElementById'](_0x3acbc9(0x546)),_0x193bf8=_0x4a11c2[_0x3acbc9(0x2d0)]('h3'),_0x5873e8=document['getElementById'](_0x3acbc9(0xa29)),_0x390fc1=document[_0x3acbc9(0xbeb)](_0x3acbc9(0x4da));_0x193bf8['textContent']='จับคู่เพื่อเปรียบเทียบผล',_0x1e458c[_0x3acbc9(0x28a)]=_0x3acbc9(0xa60),_0x5873e8[_0x3acbc9(0x211)]='ยืนยันการจับคู่',_0x4a11c2[_0x3acbc9(0xa1f)][_0x3acbc9(0x711)](_0x3acbc9(0x9d8));const _0x10e27f=allQuizzes[_0x3acbc9(0x395)](_0x18f689=>_0x18f689['id']!==_0x12fb73);_0x10e27f[_0x3acbc9(0x81c)]===0x0?(_0x1e458c[_0x3acbc9(0x28a)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x5873e8[_0x3acbc9(0x272)]=!![]):(_0x1e458c['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x10e27f['map'](_0x15b155=>_0x3acbc9(0xd26)+_0x15b155['id']+'\x22>'+_0x15b155[_0x3acbc9(0x8ba)]+_0x3acbc9(0xb03))[_0x3acbc9(0x919)](''),_0x5873e8[_0x3acbc9(0x272)]=![]);const _0x6fdffa=async()=>{const _0x161fbc=_0x3acbc9,_0x18c6b=_0x1e458c[_0x161fbc(0xc07)];if(!_0x18c6b){showMessage(_0x161fbc(0xa46));return;}_0x5873e8[_0x161fbc(0x272)]=!![],_0x5873e8[_0x161fbc(0x211)]=_0x161fbc(0x955);try{const _0x2197ca=doc(db,_0x161fbc(0xcaf)+appId+_0x161fbc(0x24f),_0x12fb73),_0x188ce5=doc(db,_0x161fbc(0xcaf)+appId+_0x161fbc(0x24f),_0x18c6b),_0x15e33e=writeBatch(db);_0x15e33e[_0x161fbc(0x55d)](_0x2197ca,{'pairedQuizId':_0x18c6b}),_0x15e33e['update'](_0x188ce5,{'pairedQuizId':_0x12fb73}),await _0x15e33e[_0x161fbc(0xe24)](),showMessage(_0x161fbc(0x2df)),_0x4a11c2[_0x161fbc(0xa1f)]['add'](_0x161fbc(0x9d8));}catch(_0x11bebb){console[_0x161fbc(0xd74)]('Error\x20pairing\x20quizzes:',_0x11bebb),showMessage(_0x161fbc(0x8d4));}finally{_0x193bf8[_0x161fbc(0x211)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5873e8[_0x161fbc(0x211)]=_0x161fbc(0x699),_0x5873e8[_0x161fbc(0x272)]=![],_0x5873e8[_0x161fbc(0x8fb)](_0x161fbc(0xc64),_0x6fdffa),_0x390fc1[_0x161fbc(0x8fb)]('click',_0x4e58e4);}},_0x4e58e4=()=>{const _0xc82764=_0x3acbc9;_0x4a11c2[_0xc82764(0xa1f)]['add']('hidden'),_0x193bf8[_0xc82764(0x211)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5873e8[_0xc82764(0x211)]=_0xc82764(0x699),_0x5873e8['removeEventListener'](_0xc82764(0xc64),_0x6fdffa),_0x390fc1[_0xc82764(0x8fb)](_0xc82764(0xc64),_0x4e58e4);};_0x5873e8[_0x3acbc9(0x79a)](_0x3acbc9(0xc64),_0x6fdffa),_0x390fc1['addEventListener'](_0x3acbc9(0xc64),_0x4e58e4);}function handleDeleteStudent(_0x497095){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x497095+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x1c6e36=_0x5a5c;if(!currentProjectId||!currentProjectData)return;const _0x12bc7c=currentProjectData[_0x1c6e36(0x7cd)][_0x1c6e36(0x395)](_0x495b69=>_0x495b69!==_0x497095);try{const _0x4664b4=doc(db,_0x1c6e36(0xcaf)+appId+_0x1c6e36(0x74c),currentProjectId),_0x3e82ad=doc(db,_0x1c6e36(0xcaf)+appId+_0x1c6e36(0xeab)+currentProjectId+_0x1c6e36(0x374),_0x497095),_0xbab1e6=writeBatch(db);_0xbab1e6[_0x1c6e36(0x55d)](_0x4664b4,{'students':_0x12bc7c}),_0xbab1e6['delete'](_0x3e82ad),await _0xbab1e6[_0x1c6e36(0xe24)]();}catch(_0x532400){console[_0x1c6e36(0xd74)](_0x1c6e36(0x33b),_0x532400),showMessage(_0x1c6e36(0xdc5));}});}function handleDeleteAllStudents(){const _0x5cf9e6=_0x4ce511;showConfirmation(_0x5cf9e6(0xef9),async()=>{const _0x46733a=_0x5cf9e6;if(!currentProjectId)return;try{const _0x47753a=doc(db,_0x46733a(0xcaf)+appId+_0x46733a(0x74c),currentProjectId),_0x1f69ea=collection(db,_0x46733a(0xcaf)+appId+_0x46733a(0xeab)+currentProjectId+_0x46733a(0x374)),_0x4a38ce=await getDocs(_0x1f69ea),_0x5ba3e0=writeBatch(db);_0x5ba3e0[_0x46733a(0x55d)](_0x47753a,{'students':[]}),_0x4a38ce[_0x46733a(0xbd3)](_0x1e48fa=>_0x5ba3e0[_0x46733a(0xf45)](_0x1e48fa[_0x46733a(0x519)])),await _0x5ba3e0[_0x46733a(0xe24)]();}catch(_0x252d19){console[_0x46733a(0xd74)](_0x46733a(0xd6b),_0x252d19),showMessage(_0x46733a(0x678));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0xe6faaa){const _0x33743e=_0x4ce511,_0x22fbed=document['getElementById'](_0x33743e(0xb49)),_0xe38bae=document[_0x33743e(0xbeb)]('file-topics-list');_0x22fbed[_0x33743e(0xa1f)][_0x33743e(0x711)](_0x33743e(0x9d8)),_0xe38bae[_0x33743e(0x28a)]=_0x33743e(0xb11);try{const _0x41c750=new FileReader();_0x41c750[_0x33743e(0xf1b)](_0xe6faaa),await new Promise((_0x123b95,_0x1f414e)=>{const _0x2d6c69=_0x33743e;_0x41c750[_0x2d6c69(0x48b)]=()=>{const _0xd2d79c=_0x2d6c69;fileDataBase64=_0x41c750[_0xd2d79c(0xb58)][_0xd2d79c(0xa00)](',')[0x1],fileMimeType=_0xe6faaa[_0xd2d79c(0x562)],_0x123b95();},_0x41c750['onerror']=_0x55938d=>_0x1f414e(_0x55938d);});if(!fileDataBase64)throw new Error(_0x33743e(0x95a));const _0x395a9b=_0x33743e(0xd09),_0x1fd3ca={'type':_0x33743e(0x24c),'properties':{'topics':{'type':_0x33743e(0x216),'items':{'type':_0x33743e(0xa2b)}}},'required':[_0x33743e(0xa34)]},_0x29f0e4=[{'text':_0x395a9b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x138042=await handleApiCall(_0x29f0e4,_0x33743e(0x79f),_0x1fd3ca,null,![]);if(_0x138042&&_0x138042[_0x33743e(0xa34)])extractedFileTopics=_0x138042[_0x33743e(0xa34)],renderFileTopics();else throw new Error(_0x33743e(0xc33));}catch(_0x2a586b){console['error'](_0x33743e(0x4c1),_0x2a586b),_0xe38bae['innerHTML']=_0x33743e(0x322)+_0x2a586b[_0x33743e(0x68f)]+_0x33743e(0x8d0);}}function renderFileTopics(){const _0x2a540f=_0x4ce511,_0x3ec485=document['getElementById'](_0x2a540f(0xddb));if(extractedFileTopics[_0x2a540f(0x81c)]===0x0){_0x3ec485[_0x2a540f(0x28a)]=_0x2a540f(0xa75);return;}_0x3ec485['innerHTML']=extractedFileTopics['map'](_0x607c8c=>_0x2a540f(0x25e)+_0x607c8c+_0x2a540f(0xb46)+escape(_0x607c8c)+_0x2a540f(0x2e2)+escape(_0x607c8c)+_0x2a540f(0x973))[_0x2a540f(0x919)]('');}async function generateHybridQuizForTopic(_0x2b7d80){const _0x25270c=_0x4ce511,_0x27ca57=parseInt(document[_0x25270c(0xbeb)]('num-questions')[_0x25270c(0xc07)],0xa),_0x4e7334=document[_0x25270c(0xbeb)](_0x25270c(0xdad))['value'],_0x4224c8=document[_0x25270c(0xbeb)](_0x25270c(0x524))['value'],_0x3b8b43=document[_0x25270c(0xbeb)]('include-images-checkbox')[_0x25270c(0x375)],_0x411209=_0x3b8b43?_0x25270c(0x4cc):_0x25270c(0x291);let _0x559927='',_0x2c2077;const _0x46af33={'type':_0x25270c(0x24c),'properties':{'questionText':{'type':_0x25270c(0xa2b)},'options':{'type':_0x25270c(0x216),'items':{'type':_0x25270c(0xa2b)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x25270c(0xa2b)},'imageCode':{'type':_0x25270c(0xa2b)}},'required':[_0x25270c(0xbc2),_0x25270c(0xdf0),_0x25270c(0xae5),_0x25270c(0x58b)]},_0x1e7e8d={'type':'OBJECT','properties':{'questionText':{'type':_0x25270c(0xa2b)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x25270c(0xa2b)},'imageCode':{'type':_0x25270c(0xa2b)}},'required':['questionText','correctAnswer',_0x25270c(0x58b)]},_0x51c29c={'type':_0x25270c(0x24c),'properties':{'questionText':{'type':_0x25270c(0xa2b)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x25270c(0xa2b)}},'required':['questionText',_0x25270c(0xe56),'explanation']},_0x349da3={'type':'OBJECT','properties':{'questionType':{'type':_0x25270c(0xa2b),'enum':[_0x25270c(0x700)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x25270c(0xa2b)},'allResponses':{'type':_0x25270c(0x216),'items':{'type':_0x25270c(0xa2b)}},'explanation':{'type':_0x25270c(0xa2b)},'imageCode':{'type':_0x25270c(0xa2b)}},'required':[_0x25270c(0xd06),_0x25270c(0x4dd),'correctResponse',_0x25270c(0x638),_0x25270c(0x58b)]};switch(_0x4e7334){case'multiple_choice':const _0x3466c6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด';prompt=_0x25270c(0x42b)+subjectPrefix+'\x20'+settings['numQuestions']+_0x25270c(0x441)+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x25270c(0xee3)+settings['numChoices']+_0x25270c(0x5b9)+_0x3466c6+_0x25270c(0x79b)+_0x411209+'\x20'+simpleMathPrompt,schema=_0x46af33;break;case'true_false':_0x559927='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x2c2077=_0x1e7e8d;break;case _0x25270c(0x2fc):_0x559927=_0x25270c(0xa24),_0x2c2077=_0x51c29c;break;case _0x25270c(0x553):_0x559927=_0x25270c(0xde0),_0x2c2077=_0x349da3;break;case _0x25270c(0xa4d):_0x559927=_0x25270c(0x2ac)+_0x4224c8+_0x25270c(0xb34),_0x2c2077=_0x46af33;break;default:_0x559927=_0x25270c(0x726)+_0x4224c8+'\x20ตัวเลือก)',_0x2c2077=_0x46af33;break;}const _0x5c9236=_0x25270c(0x335),_0x24d164=document['getElementById']('loader'),_0x137a89=document['getElementById'](_0x25270c(0x51a)),_0x98bf9b=document[_0x25270c(0xbeb)](_0x25270c(0xdf7));document[_0x25270c(0xbeb)](_0x25270c(0x91c))[_0x25270c(0xa1f)]['remove'](_0x25270c(0x9d8)),_0x98bf9b[_0x25270c(0x28a)]='',_0x24d164[_0x25270c(0xa1f)][_0x25270c(0x711)](_0x25270c(0x9d8)),_0x137a89['textContent']='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x2b7d80+_0x25270c(0x2ae)+_0x27ca57+'\x20ข้อ...';try{const _0x5d57f1=_0x25270c(0x21e),_0x4f2783='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x2b7d80+_0x25270c(0x6db)+_0x27ca57+_0x25270c(0x40f)+_0x2b7d80+_0x25270c(0xa33)+_0x27ca57+_0x25270c(0x665)+_0x411209+_0x25270c(0xc8d)+_0x559927+_0x25270c(0x25b)+_0x5c9236+_0x25270c(0x3a1)+_0x5d57f1+_0x25270c(0x8a2)+simpleMathPrompt+_0x25270c(0x675),_0x505c09={'type':_0x25270c(0x24c),'properties':{'topic':{'type':_0x25270c(0xa2b)},'questions':{'type':'ARRAY','items':_0x2c2077}},'required':[_0x25270c(0x8ba),_0x25270c(0x7bb)]},_0x338c38=[{'text':_0x4f2783},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x338c38,_0x25270c(0x3ec)+_0x2b7d80+_0x25270c(0xd11),_0x505c09);}catch(_0x5c051d){console[_0x25270c(0xd74)](_0x25270c(0x7fd),_0x5c051d),showMessage(_0x25270c(0x571)+_0x5c051d['message']),_0x98bf9b[_0x25270c(0x28a)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x24d164[_0x25270c(0xa1f)][_0x25270c(0x7e0)](_0x25270c(0x9d8));}}async function handleGenerateFromFileClick(){const _0x57e9b5=_0x4ce511;if(!selectedFile){showMessage(_0x57e9b5(0xc89));return;}const _0x5df252=document['getElementById']('loader'),_0xf30348=document[_0x57e9b5(0xbeb)]('loader-text'),_0x33d0cf=document['getElementById'](_0x57e9b5(0xdf7)),_0xe3f4d1=document[_0x57e9b5(0xbeb)]('generate-from-file-btn');_0xe3f4d1['disabled']=!![],document[_0x57e9b5(0xbeb)](_0x57e9b5(0x91c))[_0x57e9b5(0xa1f)][_0x57e9b5(0x711)]('hidden'),_0x33d0cf[_0x57e9b5(0x28a)]='',_0x5df252['classList'][_0x57e9b5(0x711)](_0x57e9b5(0x9d8)),_0xf30348['textContent']=_0x57e9b5(0x688);try{const _0x46e6ab=await new Promise((_0x39291d,_0x15bb9c)=>{const _0x3d3b2d=_0x57e9b5,_0x5ee700=new FileReader();_0x5ee700[_0x3d3b2d(0xf1b)](selectedFile),_0x5ee700[_0x3d3b2d(0x48b)]=()=>_0x39291d(_0x5ee700[_0x3d3b2d(0xb58)][_0x3d3b2d(0xa00)](',')[0x1]),_0x5ee700['onerror']=_0x5cd57f=>_0x15bb9c(_0x5cd57f);});await generateQuizFromFile(selectedFile['type'],_0x46e6ab);}catch(_0xd26ac4){console[_0x57e9b5(0xd74)](_0x57e9b5(0x484),_0xd26ac4),showMessage(_0x57e9b5(0x764)+_0xd26ac4[_0x57e9b5(0x68f)]),_0x5df252['classList'][_0x57e9b5(0x7e0)](_0x57e9b5(0x9d8)),_0xe3f4d1[_0x57e9b5(0x272)]=![];}}function autoFormatMath(_0x286430){const _0x250582=_0x4ce511;if(typeof _0x286430!==_0x250582(0xba8)||!_0x286430)return _0x286430;const _0x2747be=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x15d96a=_0x286430[_0x250582(0xea1)](_0x2747be,_0x266e85=>{return'$'+_0x266e85['trim']()+'$';});return _0x15d96a;}function sanitizeQuizData(_0x53ff2a){const _0x1c4f6b=_0x4ce511;if(!_0x53ff2a||!_0x53ff2a['questions'])return _0x53ff2a;const _0x2fc995=_0x415112=>{const _0x34ab06=_0x5a5c;if(typeof _0x415112!==_0x34ab06(0xba8))return _0x415112;let _0x408a54=_0x415112;_0x408a54=_0x408a54[_0x34ab06(0xea1)](/\\\(/g,'$')[_0x34ab06(0xea1)](/\\\)/g,'$'),_0x408a54=_0x408a54[_0x34ab06(0xea1)](/\\\[/g,'$$')[_0x34ab06(0xea1)](/\\\]/g,'$$'),_0x408a54=_0x408a54[_0x34ab06(0xea1)](/\\?imes\b/g,_0x34ab06(0xc4f));const _0x5203b3=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x408a54=_0x408a54[_0x34ab06(0xea1)](_0x5203b3,_0x3e952=>{const _0x4e78fa=_0x34ab06;return'$'+_0x3e952[_0x4e78fa(0x88c)]()+'$';}),_0x408a54;};return _0x53ff2a[_0x1c4f6b(0x8ba)]&&(_0x53ff2a[_0x1c4f6b(0x8ba)]=_0x2fc995(_0x53ff2a[_0x1c4f6b(0x8ba)])),_0x53ff2a[_0x1c4f6b(0x7bb)]['forEach'](_0x48da23=>{const _0x1e24ca=_0x1c4f6b;_0x48da23[_0x1e24ca(0xbc2)]=_0x2fc995(_0x48da23[_0x1e24ca(0xbc2)]),_0x48da23[_0x1e24ca(0x4dd)]=_0x2fc995(_0x48da23[_0x1e24ca(0x4dd)]),_0x48da23[_0x1e24ca(0xdf0)]&&(_0x48da23[_0x1e24ca(0xdf0)]=_0x48da23[_0x1e24ca(0xdf0)][_0x1e24ca(0xa15)](_0x26f43c=>_0x2fc995(_0x26f43c))),_0x48da23[_0x1e24ca(0x58b)]&&(_0x48da23[_0x1e24ca(0x58b)]=_0x2fc995(_0x48da23[_0x1e24ca(0x58b)])),_0x48da23[_0x1e24ca(0x5c9)]&&(_0x48da23[_0x1e24ca(0x5c9)]=_0x2fc995(_0x48da23[_0x1e24ca(0x5c9)])),_0x48da23['allResponses']&&(_0x48da23[_0x1e24ca(0x638)]=_0x48da23[_0x1e24ca(0x638)][_0x1e24ca(0xa15)](_0x57cd2e=>_0x2fc995(_0x57cd2e))),_0x48da23[_0x1e24ca(0xe56)]&&(_0x48da23[_0x1e24ca(0xe56)]=_0x2fc995(_0x48da23[_0x1e24ca(0xe56)]));}),_0x53ff2a;}const simpleMathPrompt=_0x4ce511(0xd66);async function handleGenerateFromLink(){const _0xf44456=_0x4ce511,_0x3bf481=document[_0xf44456(0xbeb)]('link-url-input'),_0xae8d69=document[_0xf44456(0xbeb)]('link-topic-input'),_0x5a0c24=_0x3bf481[_0xf44456(0xc07)][_0xf44456(0x88c)](),_0x183fa8=_0xae8d69[_0xf44456(0xc07)][_0xf44456(0x88c)]();if(!_0x5a0c24){showMessage(_0xf44456(0x33a));return;}const _0x1c3001=document[_0xf44456(0xbeb)](_0xf44456(0xf5e)),_0x4cdc9b=document[_0xf44456(0xbeb)](_0xf44456(0x51a)),_0x615f6b=document[_0xf44456(0xbeb)]('generated-quiz-container'),_0x3c1ee5=document[_0xf44456(0xbeb)](_0xf44456(0xb93));document[_0xf44456(0xbeb)](_0xf44456(0x91c))['classList'][_0xf44456(0x711)](_0xf44456(0x9d8)),_0x615f6b['innerHTML']='',_0x1c3001[_0xf44456(0xa1f)]['remove']('hidden'),_0x4cdc9b['textContent']='กำลังดึงข้อมูลจากลิงก์...',_0x3c1ee5[_0xf44456(0x272)]=!![];try{const _0x531973='https://corsproxy.io/?'+encodeURIComponent(_0x5a0c24),_0x396843=await fetch(_0x531973);if(!_0x396843['ok'])throw new Error(_0xf44456(0x8b3)+_0x396843[_0xf44456(0x3a7)]+')');const _0x40a4b1=await _0x396843[_0xf44456(0xa19)](),_0x463d4c=extractTextFromHtml(_0x40a4b1);if(!_0x463d4c||_0x463d4c[_0xf44456(0x81c)]<0x64)throw new Error(_0xf44456(0xcda));await generateQuiz(_0x183fa8,_0x463d4c);}catch(_0x1012b0){console[_0xf44456(0xd74)](_0xf44456(0x8b7),_0x1012b0),showMessage(_0xf44456(0x571)+_0x1012b0['message']),_0x615f6b[_0xf44456(0x28a)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x1c3001['classList'][_0xf44456(0x7e0)]('hidden'),_0x3c1ee5[_0xf44456(0x272)]=![];}}function extractTextFromHtml(_0x353a15){const _0xa6da24=_0x4ce511,_0x2d6599=new DOMParser()[_0xa6da24(0xf44)](_0x353a15,_0xa6da24(0x584));return _0x2d6599[_0xa6da24(0xb02)](_0xa6da24(0x352))[_0xa6da24(0xbd3)](_0x4c2292=>_0x4c2292[_0xa6da24(0x711)]()),_0x2d6599['body'][_0xa6da24(0x211)]||'';}document[_0x4ce511(0xbeb)](_0x4ce511(0xa2d))[_0x4ce511(0x79a)](_0x4ce511(0xc64),()=>{const _0x287153=_0x4ce511,_0x4fcbb9=document['getElementById']('topic-input')[_0x287153(0xc07)][_0x287153(0x88c)]();generateQuiz(_0x4fcbb9,null);}),document[_0x4ce511(0xbeb)](_0x4ce511(0x53c))[_0x4ce511(0x79a)](_0x4ce511(0xc64),()=>{const _0x5aebfc=_0x4ce511,_0x456923=document[_0x5aebfc(0xbeb)](_0x5aebfc(0x727))[_0x5aebfc(0xc07)]['trim']();if(!_0x456923){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0xf44e61=document['getElementById'](_0x5aebfc(0xea9))[_0x5aebfc(0xc07)][_0x5aebfc(0x88c)]();generateQuiz(_0xf44e61,_0x456923);});async function generateQuiz(_0x181593,_0x3d3bd9,_0x59caff=null,_0x303bc2=null,_0x1e5181=![],_0x4f015a=null,_0x4d0517=null,_0x42c7fd=![]){const _0x193648=_0x4ce511;let _0x15a1f9={};if(_0x1e5181&&blueprintPageSettings)_0x15a1f9=blueprintPageSettings;else{const _0x31670e=document[_0x193648(0xb02)](_0x193648(0xe01));_0x15a1f9={'quizType':document['getElementById'](_0x193648(0xdad))[_0x193648(0xc07)],'numQuestions':document['getElementById'](_0x193648(0x701))[_0x193648(0xc07)],'numChoices':document[_0x193648(0xbeb)](_0x193648(0x524))[_0x193648(0xc07)],'includeImages':document[_0x193648(0xbeb)](_0x193648(0xe28))[_0x193648(0x375)],'isNormalTopic':document[_0x193648(0xbeb)](_0x193648(0x49f))[_0x193648(0x375)],'difficultyValue':document[_0x193648(0xbeb)]('difficulty-level-select')[_0x193648(0xc07)],'complexityValue':document['getElementById']('question-complexity-select')[_0x193648(0xc07)],'selectedTopicNames':Array[_0x193648(0xc0c)](_0x31670e)[_0x193648(0xa15)](_0x142433=>_0x142433[_0x193648(0xc07)])};}const _0x1879e4=_0x15a1f9['isNormalTopic']?'':_0x193648(0x8c2),_0x21e98f=_0x15a1f9[_0x193648(0x25d)]!==_0x193648(0x2a7)?_0x193648(0xc85)+_0x15a1f9['difficultyValue']+'\x22':'',_0x5b51d0=_0x15a1f9['complexityValue']!==_0x193648(0x1cd)?_0x193648(0x4dc)+_0x15a1f9[_0x193648(0xeba)]+_0x193648(0xf4a):'';let _0x1d89f7='';_0x15a1f9[_0x193648(0x65d)]&&_0x15a1f9[_0x193648(0x65d)][_0x193648(0x81c)]>0x0&&(_0x1d89f7=_0x193648(0x874)+_0x15a1f9[_0x193648(0x65d)][_0x193648(0x919)](',\x20')+'.');let _0x36ca7f='';_0x303bc2&&(_0x36ca7f=_0x193648(0xa85));let _0x389cfd='',_0x3587b4='',_0x402ccd,_0x51921f=_0x193648(0xb24)+_0x181593+'\x22';if(!_0x181593&&_0x3d3bd9)_0x51921f=_0x193648(0x526);else!_0x181593&&!_0x3d3bd9&&(_0x51921f=_0x193648(0x7e7));const _0x239f5f={'type':_0x193648(0x24c),'properties':{'questionText':{'type':_0x193648(0xa2b)},'options':{'type':_0x193648(0x216),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x193648(0xd7b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x193648(0xa2b)}},'required':['questionText',_0x193648(0xdf0),_0x193648(0xae5),_0x193648(0x58b)]},_0xe01dfb={'type':_0x193648(0x24c),'properties':{'questionText':{'type':_0x193648(0xa2b)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x193648(0xa2b)},'imageCode':{'type':_0x193648(0xa2b)}},'required':['questionText',_0x193648(0xe56),'explanation']},_0x617560={'type':_0x193648(0x24c),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':['multiple_choice',_0x193648(0xc63)]},'options':{'type':_0x193648(0x216),'items':{'type':_0x193648(0xa2b)}},'correctAnswerIndex':{'type':_0x193648(0xd7b)},'idealAnswer':{'type':_0x193648(0xa2b)},'explanation':{'type':_0x193648(0xa2b)},'imageCode':{'type':'STRING'}},'required':[_0x193648(0xbc2),'questionType',_0x193648(0x58b)]},_0x1f2ffd={'type':_0x193648(0x24c),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x193648(0xb06)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x193648(0xa2b)}},'required':['questionText',_0x193648(0xdec),'explanation']},_0x1bba20={'type':_0x193648(0x24c),'properties':{'questionType':{'type':_0x193648(0xa2b),'enum':[_0x193648(0x700)]},'stem':{'type':_0x193648(0xa2b)},'correctResponse':{'type':_0x193648(0xa2b)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x193648(0xa2b)},'imageCode':{'type':_0x193648(0xa2b)}},'required':[_0x193648(0xd06),_0x193648(0x4dd),_0x193648(0x5c9),'allResponses',_0x193648(0x58b)]};let _0x4926e7;if(_0x59caff!==null){const _0x1cfe31=currentQuizData['questions'][_0x59caff][_0x193648(0xd06)],_0x1fe763=_0x15a1f9[_0x193648(0x890)]?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x389cfd='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x51921f+'\x20'+_0x1d89f7+'\x20'+_0x21e98f+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x1fe763+'\x20'+simpleMathPrompt;if(_0x1cfe31===_0x193648(0x8be))_0x402ccd=_0x239f5f;else{if(_0x1cfe31===_0x193648(0x700))_0x402ccd={'type':_0x193648(0x24c),'properties':{'questionType':{'type':_0x193648(0xa2b),'enum':[_0x193648(0x700)]},'stem':{'type':_0x193648(0xa2b)},'correctResponse':{'type':_0x193648(0xa2b)},'explanation':{'type':_0x193648(0xa2b)},'imageCode':{'type':_0x193648(0xa2b)}},'required':[_0x193648(0xd06),_0x193648(0x4dd),_0x193648(0x5c9),_0x193648(0x58b)]};else _0x402ccd=_0xe01dfb;}_0x4926e7=_0x402ccd;}else{const _0x4fdff1=_0x15a1f9[_0x193648(0x890)]?_0x193648(0xad8):'';switch(_0x15a1f9['quizType']){case _0x193648(0x8be):const _0x2dc30f=_0x193648(0xe39);_0x389cfd=_0x193648(0x42b)+_0x1879e4+'\x20'+_0x15a1f9['numQuestions']+_0x193648(0x441)+_0x51921f+'\x20'+_0x1d89f7+'\x20'+_0x21e98f+'\x20'+_0x5b51d0+'\x20'+_0x36ca7f+_0x193648(0xee3)+_0x15a1f9[_0x193648(0xbca)]+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2dc30f+_0x193648(0x79b)+_0x4fdff1+'\x20'+simpleMathPrompt,_0x402ccd=_0x239f5f;break;case _0x193648(0xa4d):_0x389cfd=_0x193648(0xd38)+_0x1879e4+'\x20'+_0x15a1f9[_0x193648(0xf2b)]+_0x193648(0x441)+_0x51921f+'\x20'+_0x1d89f7+'\x20'+_0x21e98f+'\x20'+_0x5b51d0+'\x20'+_0x36ca7f+_0x193648(0x301)+_0x15a1f9[_0x193648(0xbca)]+_0x193648(0x848)+_0x4fdff1+'\x20'+simpleMathPrompt,_0x402ccd=_0x239f5f;break;case _0x193648(0x2fc):_0x389cfd=_0x193648(0xd38)+_0x1879e4+'\x20'+_0x15a1f9[_0x193648(0xf2b)]+_0x193648(0x441)+_0x51921f+'\x20'+_0x1d89f7+'\x20'+_0x21e98f+'\x20'+_0x5b51d0+'\x20'+_0x36ca7f+_0x193648(0x530)+_0x4fdff1+'\x20'+simpleMathPrompt,_0x402ccd=_0xe01dfb;break;case _0x193648(0x1cd):_0x389cfd=_0x193648(0x9d7)+_0x1879e4+'\x20'+_0x15a1f9[_0x193648(0xf2b)]+_0x193648(0x441)+_0x51921f+'\x20'+_0x1d89f7+'\x20'+_0x21e98f+'\x20'+_0x5b51d0+'\x20'+_0x36ca7f+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x15a1f9[_0x193648(0xbca)]+_0x193648(0x603)+_0x4fdff1+'\x20'+simpleMathPrompt+'.',_0x402ccd=_0x617560;break;case _0x193648(0x4ac):_0x389cfd=_0x193648(0x9ea)+_0x1879e4+'\x20'+_0x15a1f9['numQuestions']+'\x20ข้อ\x20'+_0x51921f+'\x20'+_0x1d89f7+'\x20'+_0x21e98f+'\x20'+_0x5b51d0+'\x20'+_0x36ca7f+_0x193648(0xd9e)+_0x4fdff1+'\x20'+simpleMathPrompt,_0x402ccd=_0x1f2ffd;break;case _0x193648(0x553):_0x389cfd=_0x193648(0x2af)+_0x1879e4+'\x20'+_0x15a1f9['numQuestions']+'\x20คู่\x20'+_0x51921f+'\x20'+_0x1d89f7+'\x20'+_0x21e98f+'\x20'+_0x5b51d0+'\x20'+_0x36ca7f+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x4fdff1+'\x20'+simpleMathPrompt,_0x402ccd=_0x1bba20;break;}_0x4926e7={'type':'OBJECT','properties':{'topic':{'type':_0x193648(0xa2b)},'questions':{'type':_0x193648(0x216),'items':_0x402ccd}},'required':[_0x193648(0x8ba),'questions']};}const _0x5ad529=_0x193648(0x70c);_0x3d3bd9?(_0x42c7fd?_0x389cfd=_0x193648(0x30c)+_0x3d3bd9+_0x193648(0x286)+_0x389cfd+_0x5ad529:_0x389cfd=_0x193648(0x30c)+_0x3d3bd9+_0x193648(0x286)+_0x389cfd,_0x3587b4=_0x193648(0x2ff)):(_0x42c7fd&&(_0x389cfd+=_0x5ad529),_0x3587b4='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x43b930;return _0x303bc2?(_0x43b930=[{'text':_0x389cfd},..._0x303bc2],_0x3587b4=_0x193648(0x967)):_0x43b930=_0x389cfd,handleApiCall(_0x43b930,_0x3587b4,_0x4926e7,_0x59caff,!![],_0x4f015a,_0x4d0517);}async function generateQuizFromFile(_0x13a920,_0x2bc405){const _0x4b5137=_0x4ce511,_0xa3a06f=document[_0x4b5137(0xbeb)](_0x4b5137(0x66b))[_0x4b5137(0xc07)][_0x4b5137(0x88c)](),_0x9181a4=document['getElementById']('quiz-type-select')[_0x4b5137(0xc07)],_0x376e4c=document[_0x4b5137(0xbeb)](_0x4b5137(0x701))['value'],_0x26c357=document[_0x4b5137(0xbeb)](_0x4b5137(0x524))[_0x4b5137(0xc07)],_0x2d4453=document[_0x4b5137(0xbeb)](_0x4b5137(0xe28))['checked'],_0x21f555=document[_0x4b5137(0xbeb)](_0x4b5137(0x49f))[_0x4b5137(0x375)],_0x4f280e=_0x21f555?'':_0x4b5137(0x8c2),_0x43de67=document[_0x4b5137(0xbeb)](_0x4b5137(0x9c6))['checked'];let _0x1f96fa='',_0x3e4c34;const _0x20c3bf=_0x2d4453?_0x4b5137(0xad8):'';if(_0x43de67)_0x1f96fa=_0x4b5137(0x6cd)+_0x20c3bf+'\x0a'+simpleMathPrompt+'\x0a',_0x3e4c34={'type':_0x4b5137(0x24c),'properties':{'questionText':{'type':_0x4b5137(0xa2b)},'questionType':{'type':_0x4b5137(0xa2b),'enum':['multiple_choice',_0x4b5137(0xc63),_0x4b5137(0x4ac),_0x4b5137(0x700)]},'options':{'type':_0x4b5137(0x216),'items':{'type':_0x4b5137(0xa2b)}},'correctAnswerIndex':{'type':_0x4b5137(0xd7b)},'idealAnswer':{'type':_0x4b5137(0xa2b)},'correctAnswer':{'type':_0x4b5137(0xb06)},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x4b5137(0x216),'items':{'type':_0x4b5137(0xa2b)}},'explanation':{'type':_0x4b5137(0xa2b)},'imageCode':{'type':'STRING'}},'required':[_0x4b5137(0xd06),_0x4b5137(0x58b)]};else{let _0x58c078='เกี่ยวกับหัวข้อ\x20\x22'+_0xa3a06f+'\x22';!_0xa3a06f&&(_0x58c078=_0x4b5137(0x280));switch(_0x9181a4){case _0x4b5137(0x8be):const _0x58a8ea=_0x4b5137(0x29a);_0x1f96fa=_0x4b5137(0x42b)+_0x4f280e+'\x20'+_0x376e4c+'\x20ข้อ\x20'+_0x58c078+_0x4b5137(0x90a)+_0x26c357+_0x4b5137(0xb9e)+_0x58a8ea+_0x4b5137(0xc93)+_0x20c3bf+'\x20'+simpleMathPrompt,_0x3e4c34={'type':'OBJECT','properties':{'questionText':{'type':_0x4b5137(0xa2b)},'options':{'type':_0x4b5137(0x216),'items':{'type':_0x4b5137(0xa2b)}},'correctAnswerIndex':{'type':_0x4b5137(0xd7b)},'explanation':{'type':_0x4b5137(0xa2b)},'imageCode':{'type':_0x4b5137(0xa2b)}},'required':['questionText',_0x4b5137(0xdf0),_0x4b5137(0xae5),_0x4b5137(0x58b)]};break;case'fill_in_with_choices':_0x1f96fa='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4f280e+'\x20'+_0x376e4c+'\x20ข้อ\x20'+_0x58c078+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x26c357+_0x4b5137(0x848)+_0x20c3bf+'\x20'+simpleMathPrompt,_0x3e4c34={'type':_0x4b5137(0x24c),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4b5137(0xd7b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4b5137(0xa2b)}},'required':['questionText',_0x4b5137(0xdf0),_0x4b5137(0xae5),_0x4b5137(0x58b)]};break;case _0x4b5137(0x2fc):_0x1f96fa=_0x4b5137(0xd38)+_0x4f280e+'\x20'+_0x376e4c+_0x4b5137(0x441)+_0x58c078+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x20c3bf+'\x20'+simpleMathPrompt,_0x3e4c34={'type':_0x4b5137(0x24c),'properties':{'questionText':{'type':_0x4b5137(0xa2b)},'idealAnswer':{'type':_0x4b5137(0xa2b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4b5137(0xa2b)}},'required':[_0x4b5137(0xbc2),_0x4b5137(0xe56),_0x4b5137(0x58b)]};break;case _0x4b5137(0x1cd):_0x1f96fa=_0x4b5137(0x9d7)+_0x4f280e+'\x20'+_0x376e4c+_0x4b5137(0x441)+_0x58c078+_0x4b5137(0xc60)+_0x26c357+_0x4b5137(0xa55)+_0x20c3bf+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x3e4c34={'type':_0x4b5137(0x24c),'properties':{'questionText':{'type':_0x4b5137(0xa2b)},'questionType':{'type':_0x4b5137(0xa2b),'enum':[_0x4b5137(0x8be),_0x4b5137(0xc63)]},'options':{'type':_0x4b5137(0x216),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4b5137(0xd7b)},'idealAnswer':{'type':_0x4b5137(0xa2b)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText','questionType',_0x4b5137(0x58b)]};break;case _0x4b5137(0x4ac):_0x1f96fa=_0x4b5137(0x9ea)+_0x4f280e+'\x20'+_0x376e4c+_0x4b5137(0x441)+_0x58c078+_0x4b5137(0x920)+_0x20c3bf+'\x20'+simpleMathPrompt,_0x3e4c34={'type':_0x4b5137(0x24c),'properties':{'questionText':{'type':_0x4b5137(0xa2b)},'correctAnswer':{'type':_0x4b5137(0xb06)},'explanation':{'type':_0x4b5137(0xa2b)},'imageCode':{'type':_0x4b5137(0xa2b)}},'required':[_0x4b5137(0xbc2),'correctAnswer','explanation']};break;case _0x4b5137(0x553):_0x1f96fa=_0x4b5137(0x2af)+_0x4f280e+'\x20'+_0x376e4c+_0x4b5137(0xa93)+_0x58c078+_0x4b5137(0xca8)+_0x376e4c+_0x4b5137(0x7f9)+_0x20c3bf+'\x20'+simpleMathPrompt,_0x3e4c34={'type':_0x4b5137(0x24c),'properties':{'questionType':{'type':_0x4b5137(0xa2b),'enum':[_0x4b5137(0x700)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4b5137(0xa2b)},'allResponses':{'type':_0x4b5137(0x216),'items':{'type':_0x4b5137(0xa2b)}},'explanation':{'type':_0x4b5137(0xa2b)},'imageCode':{'type':_0x4b5137(0xa2b)}},'required':[_0x4b5137(0xd06),_0x4b5137(0x4dd),'correctResponse','allResponses',_0x4b5137(0x58b)]};break;}}const _0x439ab8={'type':_0x4b5137(0x24c),'properties':{'topic':{'type':_0x4b5137(0xa2b)},'questions':{'type':_0x4b5137(0x216),'items':_0x3e4c34}},'required':[_0x4b5137(0x8ba),'questions']},_0x15e822=_0x4b5137(0x24d)+_0x1f96fa,_0x1809bc={'contents':[{'parts':[{'text':_0x15e822},{'inlineData':{'mimeType':_0x13a920,'data':_0x2bc405}}]}],'generationConfig':{'responseMimeType':_0x4b5137(0xad0),'responseSchema':_0x439ab8}};return handleApiCall(_0x1809bc[_0x4b5137(0x6e5)][0x0][_0x4b5137(0x459)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x439ab8);}async function handleApiCall(_0x2cb68e,_0x554868,_0x4fe77c,_0x183b82=null,_0x364077=!![],_0x45dc68=null,_0xcb32f7=null){const _0x305275=_0x4ce511,_0x175fe7=document[_0x305275(0xbeb)](_0x305275(0x91c)),_0x22fd05=document['getElementById'](_0x305275(0xf5e)),_0x3f3353=document[_0x305275(0xbeb)]('loader-text'),_0x17c72a=document['getElementById']('generated-quiz-container');_0x175fe7[_0x305275(0xa1f)]['remove']('hidden');_0x183b82===null&&_0x364077&&(_0x17c72a[_0x305275(0x28a)]='');_0x22fd05['classList']['remove'](_0x305275(0x9d8)),_0x3f3353[_0x305275(0x211)]=_0x554868,document[_0x305275(0xbeb)](_0x305275(0xa2d))[_0x305275(0x272)]=!![],document[_0x305275(0xbeb)]('generate-from-text-btn')[_0x305275(0x272)]=!![],document['getElementById'](_0x305275(0xb93))[_0x305275(0x272)]=!![];const _0x3af6f4=document['getElementById'](_0x305275(0x915));if(_0x3af6f4)_0x3af6f4[_0x305275(0x272)]=!![];const _0x178dd5=document[_0x305275(0xbeb)]('generate-from-blueprint-btn');if(_0x178dd5)_0x178dd5[_0x305275(0x272)]=!![];const _0x2e4d6e=document[_0x305275(0xbeb)](_0x305275(0x942));if(_0x2e4d6e)_0x2e4d6e[_0x305275(0x272)]=!![];try{const _0x6c77ab=Array[_0x305275(0x91d)](_0x2cb68e)?_0x2cb68e:[{'text':_0x2cb68e}],_0x377d43={'contents':[{'role':_0x305275(0xd50),'parts':_0x6c77ab}]};_0x4fe77c&&(_0x377d43['generationConfig']={'responseMimeType':_0x305275(0xad0),'responseSchema':_0x4fe77c});const _0x2b9f6d=_0x305275(0x71a),_0x48ba7b=_0x305275(0xe61)+_0x2b9f6d,_0x2aece2=await fetch(_0x48ba7b,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x305275(0xe4f)](_0x377d43)});if(!_0x2aece2['ok']){const _0x2baa4f=await _0x2aece2[_0x305275(0xa19)]();console['error'](_0x305275(0x5d1),_0x2baa4f);throw new Error(_0x305275(0x414)+_0x2aece2['status']);}const _0x45183b=await _0x2aece2['json']();if(!_0x45183b[_0x305275(0x7c6)]||_0x45183b[_0x305275(0x7c6)][_0x305275(0x81c)]===0x0){let _0x1151da='AI\x20did\x20not\x20return\x20any\x20content.';return _0x45183b['promptFeedback']?.[_0x305275(0x5d4)]&&(_0x1151da=_0x305275(0xcc0)+_0x45183b[_0x305275(0x2d6)][_0x305275(0x5d4)]+'.'),console[_0x305275(0xd74)](_0x1151da,JSON['stringify'](_0x45183b)),null;}const _0x161f6e=_0x45183b['candidates'][0x0][_0x305275(0x59c)][_0x305275(0x459)][0x0][_0x305275(0xa19)];if(_0x4fe77c){let _0x323013=_0x161f6e;if(_0x323013[_0x305275(0x733)]('```json'))_0x323013=_0x323013[_0x305275(0xb72)](0x7,_0x323013['length']-0x3)[_0x305275(0x88c)]();else _0x323013[_0x305275(0x733)](_0x305275(0x99d))&&(_0x323013=_0x323013[_0x305275(0xb72)](0x3,_0x323013[_0x305275(0x81c)]-0x3)[_0x305275(0x88c)]());let _0x3fe3a8=JSON[_0x305275(0x6d2)](_0x323013);if(_0x3fe3a8['questions']&&Array[_0x305275(0x91d)](_0x3fe3a8[_0x305275(0x7bb)])){const _0x3f0c12=_0x3fe3a8[_0x305275(0x7bb)][_0x305275(0x395)](_0x4c37a0=>_0x4c37a0[_0x305275(0xd06)]===_0x305275(0x700));if(_0x3f0c12[_0x305275(0x81c)]>0x1){const _0x476166=_0x3f0c12[_0x305275(0xa15)](_0x5c3d46=>_0x5c3d46['correctResponse'])[_0x305275(0x395)](_0xe13ee0=>_0xe13ee0&&_0xe13ee0[_0x305275(0x88c)]()!=='');shuffleArray(_0x476166),_0x3f0c12[_0x305275(0xbd3)](_0x4e0dac=>{const _0x32602e=_0x305275;_0x4e0dac[_0x32602e(0x638)]=[..._0x476166];}),console[_0x305275(0x2c0)](_0x305275(0xcdc),_0x476166);}}if(_0x364077){if(_0x183b82!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x305275(0x7bb)]){}}else currentQuizData=_0x3fe3a8,displayGeneratedQuiz(currentQuizData,_0x45dc68,_0xcb32f7);}return _0x3fe3a8;}else return _0x161f6e;}catch(_0x3cf330){console[_0x305275(0xd74)](_0x305275(0xd00),_0x3cf330),showMessage(_0x305275(0x6aa)+_0x3cf330[_0x305275(0x68f)]);_0x364077&&(_0x17c72a['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x3cf330;}finally{_0x22fd05[_0x305275(0xa1f)][_0x305275(0x7e0)]('hidden'),document[_0x305275(0xbeb)](_0x305275(0xa2d))[_0x305275(0x272)]=![],document[_0x305275(0xbeb)](_0x305275(0x53c))[_0x305275(0x272)]=![],document['getElementById']('generate-from-link-btn')[_0x305275(0x272)]=![];if(_0x3af6f4)_0x3af6f4['disabled']=![];if(_0x178dd5)_0x178dd5[_0x305275(0x272)]=![];if(_0x2e4d6e)_0x2e4d6e['disabled']=![];}}function exitFullscreen(){const _0x2feba4=_0x4ce511;if(document[_0x2feba4(0xdca)])document['exitFullscreen']()[_0x2feba4(0x7d9)](_0x57111f=>console[_0x2feba4(0xd74)](_0x57111f));else{if(document['webkitExitFullscreen'])document[_0x2feba4(0xa8e)]();else document[_0x2feba4(0xdbe)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x543c81=_0x4ce511,_0x1ec8d3=document[_0x543c81(0xc6c)];if(_0x1ec8d3[_0x543c81(0x58c)])_0x1ec8d3[_0x543c81(0x58c)]()[_0x543c81(0x7d9)](_0x241f2b=>{const _0x3dd468=_0x543c81;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x241f2b[_0x3dd468(0x68f)]+'\x20('+_0x241f2b[_0x3dd468(0x631)]+')');});else{if(_0x1ec8d3[_0x543c81(0x586)])_0x1ec8d3[_0x543c81(0x586)]();else _0x1ec8d3['msRequestFullscreen']&&_0x1ec8d3['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x69e2b5=_0x4ce511;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x69e2b5(0x9cb),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x69e2b5(0xeee)+maxCheatAttempts+_0x69e2b5(0xbf0)),document[_0x69e2b5(0xbeb)](_0x69e2b5(0xb09))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x69e2b5(0x8fb)](_0x69e2b5(0xce3),handleVisibilityChange),document[_0x69e2b5(0x8fb)](_0x69e2b5(0x968),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x143251=_0x4ce511;if(currentMode===_0x143251(0x464)||!isQuizActive)return;if(document[_0x143251(0xb70)]===_0x143251(0x9d8))handleCheatingEvent();else document[_0x143251(0xb70)]===_0x143251(0x8a8)&&(console[_0x143251(0x2c0)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x260ce1=_0x4ce511;if(currentMode===_0x260ce1(0x464)||!isQuizActive)return;!document[_0x260ce1(0x8ca)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x267157,_0x396056=null,_0x5e567c=null){const _0x413570=_0x4ce511,_0x512480=document[_0x413570(0xbeb)]('generated-quiz-container');let _0x590600=_0x413570(0x3fa)+_0x267157[_0x413570(0x8ba)]+_0x413570(0x57e);_0x267157['questions'][_0x413570(0xbd3)]((_0x41018a,_0x316e85)=>{const _0x9f5723=_0x413570;!_0x41018a['id']&&(_0x41018a['id']='q_'+Date[_0x9f5723(0xced)]()+'_'+_0x316e85);const _0x1dee3d=_0x41018a['questionType']||_0x267157[_0x9f5723(0xd15)];_0x590600+=_0x9f5723(0xdae)+_0x316e85+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x316e85+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x316e85+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x1dee3d===_0x9f5723(0x700)?_0x590600+=_0x9f5723(0x64f)+_0x316e85+'\x22>'+(_0x316e85+0x1)+'.\x20'+_0x41018a[_0x9f5723(0x4dd)]+'</p>':_0x590600+=_0x9f5723(0x64f)+_0x316e85+'\x22>'+(_0x316e85+0x1)+'.\x20'+_0x41018a['questionText']+_0x9f5723(0x8d0);_0x41018a[_0x9f5723(0xf2d)]&&(_0x590600+='<div\x20id=\x22q-image-container-'+_0x316e85+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x41018a[_0x9f5723(0xf2d)]+_0x9f5723(0xc6a));if(_0x41018a[_0x9f5723(0xdf0)]&&Array[_0x9f5723(0x91d)](_0x41018a[_0x9f5723(0xdf0)])&&_0x41018a[_0x9f5723(0xdf0)][_0x9f5723(0x81c)]>0x0)_0x590600+=_0x9f5723(0x259)+_0x316e85+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x41018a[_0x9f5723(0xdf0)]['map']((_0x1b5d6a,_0x23e68d)=>'<li\x20class=\x22'+(_0x23e68d===_0x41018a[_0x9f5723(0xae5)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x1b5d6a+_0x9f5723(0x431))[_0x9f5723(0x919)]('')+_0x9f5723(0x59a);else{if(_0x1dee3d==='matching_item'||_0x41018a[_0x9f5723(0x5c9)])_0x590600+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x316e85+'\x22>'+_0x41018a[_0x9f5723(0x5c9)]+_0x9f5723(0xd92);else{if(_0x1dee3d===_0x9f5723(0x4ac)||typeof _0x41018a[_0x9f5723(0xdec)]===_0x9f5723(0x44b))_0x590600+=_0x9f5723(0x504)+(_0x41018a[_0x9f5723(0xdec)]===!![]?_0x9f5723(0x6e2):'')+_0x9f5723(0x6cc)+(_0x41018a[_0x9f5723(0xdec)]===![]?_0x9f5723(0x6e2):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0x41018a[_0x9f5723(0xe56)]?_0x590600+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x316e85+'\x22>'+_0x41018a[_0x9f5723(0xe56)]+_0x9f5723(0xd92):_0x590600+=_0x9f5723(0xb45);}}_0x590600+=_0x9f5723(0xa8c)+_0x316e85+'\x22>'+_0x41018a['explanation']+'</span></div>',_0x590600+='</div>';}),_0x590600+=_0x413570(0x907),_0x512480[_0x413570(0x28a)]=_0x590600,document['querySelectorAll'](_0x413570(0xd9c))[_0x413570(0xbd3)](_0x41ec5a=>_0x41ec5a[_0x413570(0x79a)](_0x413570(0xc64),handleEditQuestion)),document[_0x413570(0xb02)](_0x413570(0x816))['forEach'](_0x5a288f=>_0x5a288f[_0x413570(0x79a)](_0x413570(0xc64),handleRegenerateQuestion)),document['getElementById'](_0x413570(0xb86))[_0x413570(0x79a)](_0x413570(0xc64),exportQuizAsWorksheetPDF),document[_0x413570(0xbeb)](_0x413570(0x998))['addEventListener'](_0x413570(0xc64),handleVerifyAnswers);const _0x1bb1c2=document[_0x413570(0xbeb)](_0x413570(0x3b7));if(_0x1bb1c2){const _0x2caa63=_0x396056||currentProjectId;_0x1bb1c2[_0x413570(0x79a)]('click',()=>saveQuiz(_0x2caa63,_0x5e567c));}if(window[_0x413570(0xeb4)])window[_0x413570(0xeb4)][_0x413570(0x61b)]([_0x512480]);}function handleRegenerateQuestion(_0x17636f){const _0xa18e7c=_0x4ce511,_0xbbd625=_0x17636f[_0xa18e7c(0xb60)]['dataset'][_0xa18e7c(0x76b)],_0x3c93dc=currentQuizData[_0xa18e7c(0x8ba)];showMessage(_0xa18e7c(0x9e9)+(parseInt(_0xbbd625)+0x1)+_0xa18e7c(0x684)),generateQuiz(_0x3c93dc,null,parseInt(_0xbbd625));}function getPointerPosition(_0x5edec7,_0x37f089){const _0xff31b0=_0x4ce511,_0x14c24e=_0x5edec7[_0xff31b0(0xe1a)]();let _0x1e8941,_0x436134;return _0x37f089[_0xff31b0(0x84d)]&&_0x37f089[_0xff31b0(0x84d)][_0xff31b0(0x81c)]>0x0?(_0x1e8941=_0x37f089[_0xff31b0(0x84d)][0x0][_0xff31b0(0xb7b)],_0x436134=_0x37f089[_0xff31b0(0x84d)][0x0][_0xff31b0(0x64a)]):(_0x1e8941=_0x37f089[_0xff31b0(0xb7b)],_0x436134=_0x37f089['clientY']),{'x':(_0x1e8941-_0x14c24e['e'])/_0x14c24e['a'],'y':(_0x436134-_0x14c24e['f'])/_0x14c24e['d']};}function startDrag(_0xd44648){const _0x226492=_0x4ce511;_0xd44648[_0x226492(0x562)]===_0x226492(0x4b0)&&_0xd44648[_0x226492(0xcaa)]();const _0x15e4bd=_0xd44648[_0x226492(0x544)][_0x226492(0x253)](_0x226492(0x472));if(_0x15e4bd){draggedSvgElement=_0x15e4bd;const _0x56ae27=draggedSvgElement[_0x226492(0xd04)],_0x1ad07e=getPointerPosition(_0x56ae27,_0xd44648);svgOffset['x']=_0x1ad07e['x']-parseFloat(draggedSvgElement[_0x226492(0x4f9)](null,'x')),svgOffset['y']=_0x1ad07e['y']-parseFloat(draggedSvgElement[_0x226492(0x4f9)](null,'y'));}}function calculateItemAnalysis(_0x595a5d,_0x63b7c5){const _0x5d1b89=_0x4ce511,_0x45faee={};if(_0x63b7c5[_0x5d1b89(0x81c)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x27abab=[..._0x63b7c5]['sort']((_0x593efa,_0x294d1f)=>{const _0x2b4800=_0x5d1b89,_0x268353=_0x294d1f['latestScore']-_0x593efa['latestScore'];if(_0x268353!==0x0)return _0x268353;const _0x3eae66=_0x593efa[_0x2b4800(0x8d7)]?.[_0x2b4800(0x81c)]||0x1,_0x787302=_0x294d1f[_0x2b4800(0x8d7)]?.['length']||0x1,_0x5c0dfa=_0x3eae66-_0x787302;if(_0x5c0dfa!==0x0)return _0x5c0dfa;const _0x275133=new Date(_0x593efa['latestSubmittedAt']),_0x1e41d7=new Date(_0x294d1f[_0x2b4800(0xe97)]),_0xf31de0=_0x275133-_0x1e41d7;if(_0xf31de0!==0x0)return _0xf31de0;return _0x593efa[_0x2b4800(0x8df)]['localeCompare'](_0x294d1f[_0x2b4800(0x8df)],'th');}),_0x85f493=_0x27abab[_0x5d1b89(0x81c)],_0x1bf857=Math[_0x5d1b89(0xddc)](0x1,Math['floor'](_0x85f493*0.33));if(_0x1bf857===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3fd92e=_0x27abab[_0x5d1b89(0x2c1)](0x0,_0x1bf857),_0x1841e5=_0x27abab[_0x5d1b89(0x2c1)](-_0x1bf857),_0x415259=_0x3fd92e[_0x5d1b89(0xa15)](_0x595bd4=>_0x595bd4['studentName']),_0x193ba2=_0x1841e5['map'](_0x1ef536=>_0x1ef536[_0x5d1b89(0x8df)]);return _0x595a5d[_0x5d1b89(0x7bb)][_0x5d1b89(0xbd3)]((_0x3d2bc3,_0x38d560)=>{const _0x5bb311=_0x5d1b89,_0x10fd5d=_0x3d2bc3['stem']||_0x3d2bc3[_0x5bb311(0xbc2)];let _0x34f326=0x0,_0x27ce64=0x0,_0x5ec494=0x0;const _0x4befc2=[],_0x53453a=[];_0x3fd92e['forEach'](_0x3ea5ad=>{const _0x2e87fc=_0x5bb311,_0x559ea2=_0x3ea5ad['attempts'][_0x3ea5ad[_0x2e87fc(0x8d7)][_0x2e87fc(0x81c)]-0x1],_0x28c725=_0x559ea2[_0x2e87fc(0xb0f)]['find'](_0x4799a9=>_0x4799a9['originalQuestionText']===_0x10fd5d);_0x4befc2[_0x2e87fc(0x9ba)]({'name':_0x3ea5ad[_0x2e87fc(0x8df)],'isCorrect':_0x28c725?_0x28c725[_0x2e87fc(0xc70)]:![]}),_0x28c725&&_0x28c725['isCorrect']&&_0x27ce64++;}),_0x1841e5[_0x5bb311(0xbd3)](_0x4ac23b=>{const _0x44e8d9=_0x5bb311,_0x4ea944=_0x4ac23b[_0x44e8d9(0x8d7)][_0x4ac23b[_0x44e8d9(0x8d7)][_0x44e8d9(0x81c)]-0x1],_0x52039b=_0x4ea944[_0x44e8d9(0xb0f)][_0x44e8d9(0x340)](_0x12bea7=>_0x12bea7[_0x44e8d9(0x672)]===_0x10fd5d);_0x53453a['push']({'name':_0x4ac23b[_0x44e8d9(0x8df)],'isCorrect':_0x52039b?_0x52039b[_0x44e8d9(0xc70)]:![]}),_0x52039b&&_0x52039b[_0x44e8d9(0xc70)]&&_0x5ec494++;}),_0x63b7c5['forEach'](_0x3442e0=>{const _0x5aa95d=_0x5bb311,_0x3565ad=_0x3442e0[_0x5aa95d(0x8d7)][_0x3442e0[_0x5aa95d(0x8d7)][_0x5aa95d(0x81c)]-0x1],_0x2d9ed0=_0x3565ad['answers'][_0x5aa95d(0x340)](_0x4bae67=>_0x4bae67[_0x5aa95d(0x672)]===_0x10fd5d);_0x2d9ed0&&_0x2d9ed0[_0x5aa95d(0xc70)]&&_0x34f326++;});const _0x50aa08=_0x85f493>0x0?_0x34f326/_0x85f493:0x0,_0x5ca03b=_0x1bf857>0x0?_0x27ce64/_0x1bf857-_0x5ec494/_0x1bf857:0x0;_0x45faee[_0x38d560]={'p':_0x50aa08,'r':_0x5ca03b,'upperGroupResponders':_0x4befc2,'lowerGroupResponders':_0x53453a};}),{'perQuestionStats':_0x45faee,'overallGroups':{'upperGroupNames':_0x415259,'lowerGroupNames':_0x193ba2}};}function drag(_0xbeb513){const _0x274cac=_0x4ce511;if(draggedSvgElement){_0xbeb513['preventDefault']();const _0x2d2963=draggedSvgElement[_0x274cac(0xd04)],_0x49deb1=getPointerPosition(_0x2d2963,_0xbeb513),_0x3b66e3=_0x2d2963['viewBox'][_0x274cac(0x482)];let _0x4c654e=_0x49deb1['x']-svgOffset['x'],_0x115604=_0x49deb1['y']-svgOffset['y'];const _0x1cb536=draggedSvgElement[_0x274cac(0xcec)]();_0x4c654e=Math[_0x274cac(0xddc)](_0x3b66e3['x'],Math[_0x274cac(0x67d)](_0x4c654e,_0x3b66e3['x']+_0x3b66e3[_0x274cac(0x52d)]-_0x1cb536[_0x274cac(0x52d)])),_0x115604=Math[_0x274cac(0xddc)](_0x3b66e3['y'],Math[_0x274cac(0x67d)](_0x115604,_0x3b66e3['y']+_0x3b66e3[_0x274cac(0x8bb)]-_0x1cb536[_0x274cac(0x8bb)])),draggedSvgElement[_0x274cac(0x6bf)](null,'x',_0x4c654e),draggedSvgElement[_0x274cac(0x6bf)](null,'y',_0x115604);}}function endDrag(_0x2106c8){draggedSvgElement=null;}function handleSvgEditClick(_0x2eec06){const _0x2444cc=_0x4ce511;if(_0x2eec06[_0x2444cc(0x544)][_0x2444cc(0xa1f)][_0x2444cc(0xa3f)](_0x2444cc(0x49a))){const _0x5e3ee6=_0x2eec06['target'][_0x2444cc(0x6b1)][_0x2444cc(0xb85)],_0x274bdd=_0x2eec06[_0x2444cc(0xb60)],_0x3f3015=_0x274bdd[_0x2444cc(0x2d0)]('#'+_0x5e3ee6);_0x3f3015&&_0x3f3015[_0x2444cc(0x711)](),_0x2eec06[_0x2444cc(0x544)][_0x2444cc(0x711)]();}}function handleEditQuestion(_0x35bda4){const _0x5df192=_0x4ce511,_0x57fff4=_0x35bda4['currentTarget'],_0x58226e=_0x57fff4[_0x5df192(0x6b1)][_0x5df192(0x76b)],_0x5163ea=currentQuizData[_0x5df192(0x7bb)][_0x58226e],_0x430882=document[_0x5df192(0xbeb)](_0x5df192(0x95b)+_0x58226e),_0x49d825=document['getElementById'](_0x5df192(0x4b2)+_0x58226e),_0xf22f78=document[_0x5df192(0xbeb)](_0x5df192(0xcc9)+_0x58226e);if(_0x57fff4['innerHTML'][_0x5df192(0x87a)](_0x5df192(0xcf8))){_0x57fff4[_0x5df192(0x28a)]=_0x5df192(0x5ea),_0x57fff4[_0x5df192(0xa17)]=_0x5df192(0x9dd);if(_0x430882)_0x430882['contentEditable']=!![];if(_0x49d825)_0x49d825[_0x5df192(0x724)]=!![];if(_0xf22f78){const _0x318496=_0xf22f78['querySelector']('svg');if(_0x318496){const _0x1add45=_0x318496[_0x5df192(0xb02)](_0x5df192(0xa19));_0x1add45[_0x5df192(0xbd3)]((_0x290723,_0xa6a300)=>{const _0x2e8e29=_0x5df192,_0xe8cc=_0x2e8e29(0x90b)+_0x58226e+'-'+_0xa6a300;_0x290723['id']=_0xe8cc,_0x290723[_0x2e8e29(0xa1f)][_0x2e8e29(0x7e0)](_0x2e8e29(0x811)),_0x290723['style'][_0x2e8e29(0x76e)]=_0x2e8e29(0x3de);const _0x759316=document[_0x2e8e29(0x3a4)]('http://www.w3.org/2000/svg',_0x2e8e29(0x8f8)),_0x4480df=_0x290723[_0x2e8e29(0xcec)]();_0x759316[_0x2e8e29(0x219)]('cx',String(_0x4480df['x']+_0x4480df[_0x2e8e29(0x52d)]+0x5)),_0x759316['setAttribute']('cy',String(_0x4480df['y']+_0x4480df[_0x2e8e29(0x8bb)]/0x2-0x5)),_0x759316[_0x2e8e29(0x219)]('r','5'),_0x759316[_0x2e8e29(0x219)](_0x2e8e29(0x913),_0x2e8e29(0x538)),_0x759316['setAttribute']('class',_0x2e8e29(0x49a)),_0x759316['dataset'][_0x2e8e29(0xb85)]=_0xe8cc,_0x290723[_0x2e8e29(0x1c8)](_0x759316);}),_0x318496['addEventListener'](_0x5df192(0xaac),startDrag),_0x318496['addEventListener'](_0x5df192(0xec3),drag),_0x318496[_0x5df192(0x79a)](_0x5df192(0x77e),endDrag),_0x318496[_0x5df192(0x79a)](_0x5df192(0xd4e),endDrag),_0x318496[_0x5df192(0x79a)]('touchstart',startDrag,{'passive':![]}),_0x318496['addEventListener'](_0x5df192(0x81a),drag,{'passive':![]}),_0x318496[_0x5df192(0x79a)](_0x5df192(0x585),endDrag),_0x318496[_0x5df192(0x79a)]('touchcancel',endDrag),_0x318496[_0x5df192(0x79a)](_0x5df192(0xc64),handleSvgEditClick);}}if(_0x430882)_0x430882[_0x5df192(0xd7d)]();}else{_0x57fff4[_0x5df192(0x28a)]=_0x5df192(0x4a8),_0x57fff4[_0x5df192(0xa17)]=_0x5df192(0xd2f);if(_0x430882){_0x430882[_0x5df192(0x724)]=![];const _0x4f0a06=_0x5163ea[_0x5df192(0xd06)]||currentQuizData['quizType'];_0x4f0a06==='matching_item'?_0x5163ea[_0x5df192(0x4dd)]=_0x430882[_0x5df192(0xf61)]['substring'](_0x430882[_0x5df192(0xf61)][_0x5df192(0xf23)]('.')+0x2)[_0x5df192(0x88c)]():_0x5163ea[_0x5df192(0xbc2)]=_0x430882[_0x5df192(0xf61)][_0x5df192(0xb72)](_0x430882[_0x5df192(0xf61)][_0x5df192(0xf23)]('.')+0x2)[_0x5df192(0x88c)]();}_0x49d825&&(_0x49d825[_0x5df192(0x724)]=![],_0x5163ea[_0x5df192(0x58b)]=_0x49d825[_0x5df192(0xf61)]);if(_0xf22f78){const _0x1750d2=_0xf22f78[_0x5df192(0x2d0)]('svg');if(_0x1750d2){const _0x176824=_0x1750d2[_0x5df192(0x9aa)](!![]);_0x176824['querySelectorAll']('.delete-svg-btn')[_0x5df192(0xbd3)](_0x5ee9a4=>_0x5ee9a4['remove']()),_0x176824[_0x5df192(0xb02)](_0x5df192(0x472))[_0x5df192(0xbd3)](_0x61bfbc=>{const _0xc19a51=_0x5df192;_0x61bfbc[_0xc19a51(0xa1f)][_0xc19a51(0x711)](_0xc19a51(0x811)),_0x61bfbc[_0xc19a51(0xbcb)][_0xc19a51(0x76e)]='default',_0x61bfbc[_0xc19a51(0xb4d)]('id');}),_0x5163ea[_0x5df192(0xf2d)]=_0x176824['outerHTML'],_0x1750d2[_0x5df192(0x8fb)](_0x5df192(0xaac),startDrag),_0x1750d2[_0x5df192(0x8fb)](_0x5df192(0xec3),drag),_0x1750d2[_0x5df192(0x8fb)](_0x5df192(0x77e),endDrag),_0x1750d2[_0x5df192(0x8fb)]('mouseleave',endDrag),_0x1750d2[_0x5df192(0x8fb)](_0x5df192(0x4b0),startDrag),_0x1750d2[_0x5df192(0x8fb)](_0x5df192(0x81a),drag),_0x1750d2[_0x5df192(0x8fb)]('touchend',endDrag),_0x1750d2['removeEventListener'](_0x5df192(0x5ee),endDrag),_0x1750d2[_0x5df192(0x8fb)]('click',handleSvgEditClick),_0x1750d2[_0x5df192(0xb02)](_0x5df192(0x94c))[_0x5df192(0xbd3)](_0x1d58d8=>_0x1d58d8['remove']()),_0x1750d2[_0x5df192(0xb02)](_0x5df192(0x472))[_0x5df192(0xbd3)](_0x20a31f=>{const _0x53fc40=_0x5df192;_0x20a31f[_0x53fc40(0xa1f)][_0x53fc40(0x711)](_0x53fc40(0x811)),_0x20a31f[_0x53fc40(0xbcb)]['cursor']=_0x53fc40(0xaf3);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2a851e){const _0x26d8bb=_0x4ce511,_0x40fa2b=document[_0x26d8bb(0xbeb)](_0x26d8bb(0xcb2)),_0x478753=document[_0x26d8bb(0xbeb)](_0x26d8bb(0x68a));_0x478753[_0x26d8bb(0x28a)]=_0x26d8bb(0x50c),_0x40fa2b['classList'][_0x26d8bb(0x711)](_0x26d8bb(0x9d8));try{const _0x2811b6=doc(db,_0x26d8bb(0xcaf)+appId+_0x26d8bb(0x24f),_0x2a851e),_0x1f6370=await getDoc(_0x2811b6);if(!_0x1f6370[_0x26d8bb(0x358)]())throw new Error(_0x26d8bb(0x3cf));currentEditingQuizData={'id':_0x2a851e,..._0x1f6370[_0x26d8bb(0xbfb)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4c57f){console['error']('Error\x20opening\x20quiz\x20editor:',_0x4c57f),showMessage(_0x26d8bb(0x815)),_0x40fa2b[_0x26d8bb(0xa1f)][_0x26d8bb(0x7e0)](_0x26d8bb(0x9d8));}}function renderQuizEditor(_0x147d59){const _0x3a3aaa=_0x4ce511;document['getElementById']('editor-quiz-topic')[_0x3a3aaa(0xc07)]=_0x147d59[_0x3a3aaa(0x8ba)];const _0x4c3fb7=document[_0x3a3aaa(0xbeb)](_0x3a3aaa(0x68a));let _0x4f6b7f=_0x147d59['questions']['map']((_0x132a66,_0x24fc76)=>{const _0x40c146=_0x3a3aaa;let _0x42ab3e='';const _0x477a7e=_0x132a66[_0x40c146(0xd06)]||_0x147d59[_0x40c146(0xd15)],_0x4e754a=(_0x477a7e===_0x40c146(0xc63)||_0x477a7e==='fill_in_no_choices')&&_0x132a66[_0x40c146(0xdf0)]&&_0x132a66[_0x40c146(0xdf0)][_0x40c146(0x81c)]>0x0;switch(_0x477a7e){case _0x40c146(0x8be):const _0x5327e9=(_0x132a66[_0x40c146(0xdf0)]||[])[_0x40c146(0xa15)]((_0x9bd4cf,_0x1c6f91)=>_0x40c146(0xb43)+_0x24fc76+_0x40c146(0x987)+_0x1c6f91+'\x22\x20'+(_0x1c6f91===_0x132a66[_0x40c146(0xae5)]?_0x40c146(0x375):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x9bd4cf+_0x40c146(0x4e2))[_0x40c146(0x919)]('');_0x42ab3e=_0x40c146(0x78e)+_0x5327e9+_0x40c146(0x6c4);break;case _0x40c146(0x2fc):case _0x40c146(0xc63):_0x42ab3e=_0x40c146(0x5d3)+(_0x132a66[_0x40c146(0xe56)]||'')+_0x40c146(0x692);if(_0x4e754a){const _0x584dd5=(_0x132a66[_0x40c146(0xdf0)]||[])['map']((_0x190eb0,_0x36821f)=>_0x40c146(0xb0c)+_0x24fc76+_0x40c146(0x987)+_0x36821f+'\x22\x20'+(_0x36821f===_0x132a66[_0x40c146(0xae5)]?_0x40c146(0x375):'')+'\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x190eb0+'\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x40c146(0x919)]('');_0x42ab3e+=_0x40c146(0xcd2)+_0x584dd5+_0x40c146(0xcff);}break;case'true_false':_0x42ab3e=_0x40c146(0x637)+_0x24fc76+_0x40c146(0x334)+(_0x132a66[_0x40c146(0xdec)]===!![]?_0x40c146(0x375):'')+_0x40c146(0x202)+_0x24fc76+_0x40c146(0xaa3)+(_0x132a66[_0x40c146(0xdec)]===![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x40c146(0x700):_0x42ab3e=_0x40c146(0xba1)+(_0x132a66[_0x40c146(0x5c9)]||'')+_0x40c146(0xca5);break;}let _0x42d4fe=_0x132a66['questionText']||_0x132a66['stem']||'';_0x42d4fe=_0x42d4fe[_0x40c146(0xea1)](/<br\s*\/?>/gi,'\x0a');let _0x5db302='';if(_0x477a7e===_0x40c146(0x8be))_0x5db302=_0x40c146(0xaa4);else _0x4e754a&&(_0x5db302='<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>');return _0x40c146(0x1d7)+_0x24fc76+_0x40c146(0x61f)+_0x477a7e+'\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5db302+_0x40c146(0x3e1)+(_0x24fc76+0x1)+'\x20('+_0x477a7e+_0x40c146(0x9a7)+_0x42d4fe+_0x40c146(0xe3c)+_0x42ab3e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3a3aaa(0x919)]('');_0x4c3fb7['innerHTML']=_0x4f6b7f;const _0xa07d24='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4c3fb7[_0x3a3aaa(0x312)](_0x3a3aaa(0x5ba),_0xa07d24),_0x4c3fb7['querySelectorAll'](_0x3a3aaa(0x799))[_0x3a3aaa(0xbd3)](_0x6ded12=>{const _0x186c0c=_0x3a3aaa;_0x6ded12[_0x186c0c(0xbcb)][_0x186c0c(0xab6)]=_0x186c0c(0x9d8),_0x6ded12['style'][_0x186c0c(0xf22)]=_0x186c0c(0x748),_0x6ded12[_0x186c0c(0x421)]=0x4;const _0x1ab931=()=>{const _0xa88418=_0x186c0c;_0x6ded12[_0xa88418(0xbcb)]['height']=_0xa88418(0x2a7),_0x6ded12['style'][_0xa88418(0x8bb)]=_0x6ded12[_0xa88418(0x93d)]+'px';};_0x6ded12[_0x186c0c(0x79a)](_0x186c0c(0x208),_0x1ab931),_0x1ab931();}),_0x4c3fb7['querySelectorAll'](_0x3a3aaa(0x536))[_0x3a3aaa(0xbd3)](_0x275ddf=>{const _0xbb8a94=_0x3a3aaa;_0x275ddf[_0xbb8a94(0x79a)](_0xbb8a94(0xc64),handleAiFixQuestion);}),_0x4c3fb7[_0x3a3aaa(0xb02)](_0x3a3aaa(0xbb2))['forEach'](_0x1fea36=>{const _0x4e8d8d=_0x3a3aaa;_0x1fea36[_0x4e8d8d(0x79a)](_0x4e8d8d(0xc64),_0x1d38c3=>{const _0x3b30d5=_0x4e8d8d,_0x1e72e6=parseInt(_0x1d38c3[_0x3b30d5(0xb60)][_0x3b30d5(0x253)](_0x3b30d5(0x8ec))[_0x3b30d5(0x6b1)][_0x3b30d5(0x98e)],0xa);handleAiFixFormula(_0x1e72e6);});}),_0x4c3fb7[_0x3a3aaa(0xb02)](_0x3a3aaa(0x84a))[_0x3a3aaa(0xbd3)](_0x50b025=>{const _0x3c358f=_0x3a3aaa;_0x50b025[_0x3c358f(0x79a)](_0x3c358f(0xc64),_0x18fc8e=>{const _0x4a9a30=_0x3c358f,_0x27fecd=parseInt(_0x18fc8e[_0x4a9a30(0xb60)][_0x4a9a30(0x253)](_0x4a9a30(0x8ec))[_0x4a9a30(0x6b1)][_0x4a9a30(0x98e)],0xa);handleToggleHiddenOptions(_0x27fecd);});});}function handleToggleHiddenOptions(_0x225fd2){const _0xf38257=_0x4ce511;if(!currentEditingQuizData||!currentEditingQuizData[_0xf38257(0x7bb)][_0x225fd2])return;const _0x373e66=currentEditingQuizData[_0xf38257(0x7bb)][_0x225fd2],_0x1c9f00=_0x373e66[_0xf38257(0xd06)]||_0xf38257(0x8be),_0x16cdcf=document[_0xf38257(0x2d0)](_0xf38257(0xba7)+_0x225fd2+'\x22]');if(_0x16cdcf){_0x373e66[_0xf38257(0xbc2)]=_0x16cdcf[_0xf38257(0x2d0)]('textarea')[_0xf38257(0xc07)];if(_0x1c9f00==='multiple_choice'){const _0x404e23=_0x16cdcf[_0xf38257(0xb02)](_0xf38257(0x3ca));_0x373e66[_0xf38257(0xdf0)]=Array[_0xf38257(0xc0c)](_0x404e23)['map'](_0x2b0be0=>_0x2b0be0[_0xf38257(0xc07)]);const _0x51341c=_0x16cdcf[_0xf38257(0x2d0)](_0xf38257(0xa3b));if(_0x51341c)_0x373e66[_0xf38257(0xae5)]=parseInt(_0x51341c[_0xf38257(0xc07)]);}else{if(_0x1c9f00==='short_answer'||_0x1c9f00==='fill_in_no_choices'){const _0x571257=_0x16cdcf[_0xf38257(0x2d0)](_0xf38257(0x43a));if(_0x571257)_0x373e66['idealAnswer']=_0x571257[_0xf38257(0xc07)];const _0x355737=_0x16cdcf[_0xf38257(0xb02)](_0xf38257(0xcd5));_0x355737[_0xf38257(0x81c)]>0x0&&(_0x373e66[_0xf38257(0xdf0)]=Array['from'](_0x355737)['map'](_0x3001fe=>_0x3001fe[_0xf38257(0xc07)]));}}}_0x1c9f00===_0xf38257(0x8be)?(_0x373e66[_0xf38257(0xd06)]='short_answer',_0x373e66[_0xf38257(0xdf0)]&&_0x373e66[_0xf38257(0xae5)]!==undefined&&(_0x373e66['idealAnswer']=_0x373e66[_0xf38257(0xdf0)][_0x373e66[_0xf38257(0xae5)]]||'')):_0x373e66['questionType']='multiple_choice',renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x53d5e5){const _0xb3ee16=_0x4ce511;if(!currentEditingQuizData||!currentEditingQuizData[_0xb3ee16(0x7bb)][_0x53d5e5])return;const _0x258129=currentEditingQuizData[_0xb3ee16(0x7bb)][_0x53d5e5][_0xb3ee16(0xbc2)]||currentEditingQuizData[_0xb3ee16(0x7bb)][_0x53d5e5][_0xb3ee16(0x4dd)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20'+(_0x53d5e5+0x1)+'\x20(\x22'+_0x258129[_0xb3ee16(0xb72)](0x0,0x14)+_0xb3ee16(0x2ce),()=>{const _0x149428=_0xb3ee16;currentEditingQuizData[_0x149428(0x7bb)][_0x149428(0x355)](_0x53d5e5,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x149428(0x3fd));});}function handleAddQuestionInEditor(){const _0x5ce0dc=_0x4ce511;if(!currentEditingQuizData)return;const _0x1642d0=document[_0x5ce0dc(0xbeb)]('new-question-type-select'),_0x406ccf=_0x1642d0?_0x1642d0[_0x5ce0dc(0xc07)]:'multiple_choice';let _0x2d6ffd={'id':'q_'+Date[_0x5ce0dc(0xced)]()+_0x5ce0dc(0x4b5),'questionType':_0x406ccf,'questionText':_0x5ce0dc(0x4ec),'explanation':'คำอธิบาย...'};switch(_0x406ccf){case'multiple_choice':_0x2d6ffd[_0x5ce0dc(0xdf0)]=['ตัวเลือก\x20ก',_0x5ce0dc(0xd25),_0x5ce0dc(0xb8e),_0x5ce0dc(0x97a)],_0x2d6ffd[_0x5ce0dc(0xae5)]=0x0;break;case _0x5ce0dc(0xc63):case _0x5ce0dc(0x2fc):_0x2d6ffd['idealAnswer']='คำตอบที่ถูกต้อง';break;case _0x5ce0dc(0x4ac):_0x2d6ffd[_0x5ce0dc(0xdec)]=!![];break;case _0x5ce0dc(0x700):_0x2d6ffd[_0x5ce0dc(0x4dd)]=_0x5ce0dc(0x696),_0x2d6ffd[_0x5ce0dc(0x5c9)]=_0x5ce0dc(0xdcb),_0x2d6ffd[_0x5ce0dc(0xbc2)]=_0x5ce0dc(0x696);break;}currentEditingQuizData[_0x5ce0dc(0x7bb)][_0x5ce0dc(0x9ba)](_0x2d6ffd),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x2ef70e=_0x5ce0dc,_0x1131eb=document['querySelector'](_0x2ef70e(0xcde));if(_0x1131eb){_0x1131eb['scrollIntoView']({'behavior':'smooth','block':_0x2ef70e(0x590)});const _0x18274e=_0x1131eb[_0x2ef70e(0x2d0)]('textarea');if(_0x18274e)_0x18274e[_0x2ef70e(0xd7d)]();}},0x64);}async function handleAiFixQuestion(_0x33a258){const _0x1678b4=_0x4ce511,_0x4a49c7=_0x33a258[_0x1678b4(0xb60)],_0x52c8be=_0x4a49c7[_0x1678b4(0x253)](_0x1678b4(0x8ec));if(!_0x52c8be)return;const _0x2733a0=parseInt(_0x52c8be['dataset'][_0x1678b4(0x98e)],0xa);if(isNaN(_0x2733a0)||!currentEditingQuizData[_0x1678b4(0x7bb)][_0x2733a0]){showMessage(_0x1678b4(0x999));return;}const _0x2d8218=currentEditingQuizData[_0x1678b4(0x7bb)][_0x2733a0];_0x4a49c7[_0x1678b4(0x28a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x4a49c7[_0x1678b4(0x272)]=!![];const _0x3acf05=_0x1678b4(0x704)+JSON['stringify'](_0x2d8218)+_0x1678b4(0xa22);let _0x5c45bf;const _0x1b38ee=_0x2d8218['questionType']||currentEditingQuizData['quizType'];switch(_0x1b38ee){case _0x1678b4(0xc63):_0x5c45bf={'type':'OBJECT','properties':{'questionText':{'type':_0x1678b4(0xa2b)},'idealAnswer':{'type':_0x1678b4(0xa2b)},'explanation':{'type':_0x1678b4(0xa2b)},'imageCode':{'type':_0x1678b4(0xa2b)}},'required':[_0x1678b4(0xbc2),'idealAnswer','explanation']};break;case _0x1678b4(0x8be):default:_0x5c45bf={'type':_0x1678b4(0x24c),'properties':{'questionText':{'type':_0x1678b4(0xa2b)},'options':{'type':_0x1678b4(0x216),'items':{'type':_0x1678b4(0xa2b)}},'correctAnswerIndex':{'type':_0x1678b4(0xd7b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1678b4(0xa2b)}},'required':[_0x1678b4(0xbc2),_0x1678b4(0xdf0),_0x1678b4(0xae5),'explanation']};break;}try{let _0x140f6d=await callAnalysisApi(_0x3acf05,_0x5c45bf);_0x140f6d['options']&&Array['isArray'](_0x140f6d[_0x1678b4(0xdf0)])&&(_0x140f6d[_0x1678b4(0xdf0)]=_0x140f6d['options'][_0x1678b4(0xa15)](_0x39ca62=>typeof _0x39ca62===_0x1678b4(0xba8)?_0x39ca62['replace'](/S(\s*[\d_]+?\s*)S/g,_0x1678b4(0xdcf)):_0x39ca62)),_0x2d8218[_0x1678b4(0xf2d)]&&_0x2d8218[_0x1678b4(0xf2d)][_0x1678b4(0x87a)](_0x1678b4(0x88b))&&(_0x140f6d[_0x1678b4(0xf2d)]=''),currentEditingQuizData[_0x1678b4(0x7bb)][_0x2733a0]={..._0x2d8218,..._0x140f6d},renderQuizEditor(currentEditingQuizData),showMessage(_0x1678b4(0xeaf));}catch(_0x311eb4){console[_0x1678b4(0xd74)](_0x1678b4(0x21b),_0x311eb4),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x4d6a0e=_0x4ce511,_0x40c993=document['getElementById'](_0x4d6a0e(0xd93));_0x40c993[_0x4d6a0e(0x272)]=!![],_0x40c993[_0x4d6a0e(0x28a)]=_0x4d6a0e(0x9ff);try{const _0x4ce667=document[_0x4d6a0e(0xbeb)](_0x4d6a0e(0x885))[_0x4d6a0e(0xc07)],_0x343598=document[_0x4d6a0e(0xb02)](_0x4d6a0e(0x8ec));let _0x51fde3=[];const _0x1ae803=Array['from'](_0x343598)[_0x4d6a0e(0xa15)]((_0xb3510b,_0x32c5df)=>{const _0x2219ec=_0x4d6a0e,_0x2fe5a0=_0xb3510b[_0x2219ec(0x6b1)][_0x2219ec(0xbe3)],_0xb94357=_0xb3510b[_0x2219ec(0x2d0)](_0x2219ec(0xaa9))[_0x2219ec(0xc07)][_0x2219ec(0xea1)](/\n/g,'<br>');let _0x269bba={'questionType':_0x2fe5a0};const _0x511313=currentEditingQuizData[_0x2219ec(0x7bb)][_0x32c5df]||{};switch(_0x2fe5a0){case'multiple_choice':_0x269bba[_0x2219ec(0xbc2)]=_0xb94357;const _0x3c4925=_0xb3510b[_0x2219ec(0xb02)](_0x2219ec(0x3ca));_0x269bba[_0x2219ec(0xdf0)]=Array[_0x2219ec(0xc0c)](_0x3c4925)['map'](_0x27dfc3=>_0x27dfc3[_0x2219ec(0xc07)]);const _0x5ea1f5=_0xb3510b[_0x2219ec(0x2d0)](_0x2219ec(0xa3b));_0x269bba['correctAnswerIndex']=_0x5ea1f5?parseInt(_0x5ea1f5[_0x2219ec(0xc07)]):0x0;break;case'fill_in_no_choices':case _0x2219ec(0xc63):_0x269bba['questionText']=_0xb94357,_0x269bba['idealAnswer']=_0xb3510b[_0x2219ec(0x2d0)](_0x2219ec(0x43a))['value'];const _0x2aca0c=_0xb3510b[_0x2219ec(0xb02)](_0x2219ec(0xcd5));_0x2aca0c[_0x2219ec(0x81c)]>0x0?(_0x269bba[_0x2219ec(0xdf0)]=Array[_0x2219ec(0xc0c)](_0x2aca0c)[_0x2219ec(0xa15)](_0x31085b=>_0x31085b['value']),_0x511313[_0x2219ec(0xae5)]!==undefined?_0x269bba[_0x2219ec(0xae5)]=_0x511313[_0x2219ec(0xae5)]:_0x269bba[_0x2219ec(0xae5)]=0x0):(delete _0x269bba['options'],delete _0x269bba[_0x2219ec(0xae5)]);break;case _0x2219ec(0x4ac):_0x269bba[_0x2219ec(0xbc2)]=_0xb94357;const _0x54f948=_0xb3510b[_0x2219ec(0x2d0)](_0x2219ec(0xa3b));_0x269bba[_0x2219ec(0xdec)]=_0x54f948?_0x54f948[_0x2219ec(0xc07)]===_0x2219ec(0xdff):!![];break;case _0x2219ec(0x700):_0x269bba[_0x2219ec(0x4dd)]=_0xb94357;const _0x8f4386=_0xb3510b[_0x2219ec(0x2d0)](_0x2219ec(0x3f6));_0x269bba[_0x2219ec(0x5c9)]=_0x8f4386?_0x8f4386['value']:'',_0x51fde3['push'](_0x269bba[_0x2219ec(0x5c9)]);break;default:_0x269bba[_0x2219ec(0xbc2)]=_0xb94357;break;}return{..._0x511313,..._0x269bba};});_0x51fde3['length']>0x0&&_0x1ae803[_0x4d6a0e(0xbd3)](_0x4e6d97=>{const _0x5d8e51=_0x4d6a0e;_0x4e6d97[_0x5d8e51(0xd06)]===_0x5d8e51(0x700)&&(_0x4e6d97[_0x5d8e51(0x638)]=_0x51fde3);});const _0x192c90=currentEditingQuizData['id'],_0x1bc09e=doc(db,_0x4d6a0e(0xcaf)+appId+_0x4d6a0e(0x24f),_0x192c90);await updateDoc(_0x1bc09e,{'topic':_0x4ce667,'questions':_0x1ae803}),document[_0x4d6a0e(0xbeb)](_0x4d6a0e(0xcb2))['classList'][_0x4d6a0e(0x7e0)](_0x4d6a0e(0x9d8)),showMessage(_0x4d6a0e(0x81b),()=>initiateReGradeProcess(_0x192c90));}catch(_0x132203){console[_0x4d6a0e(0xd74)](_0x4d6a0e(0x8db),_0x132203),showMessage(_0x4d6a0e(0xe5b));}finally{_0x40c993[_0x4d6a0e(0x272)]=![],_0x40c993[_0x4d6a0e(0x28a)]=_0x4d6a0e(0x6b2);}}async function initiateReGradeProcess(_0x9f9e26){const _0x5d85bd=_0x4ce511;showMessage(_0x5d85bd(0xedd));try{const _0x32d44d=doc(db,_0x5d85bd(0xcaf)+appId+_0x5d85bd(0x24f),_0x9f9e26),_0x2268f0=await getDoc(_0x32d44d);if(!_0x2268f0[_0x5d85bd(0x358)]())throw new Error(_0x5d85bd(0x5c0));const _0x41ce4e={'id':_0x9f9e26,..._0x2268f0[_0x5d85bd(0xbfb)]()},_0x3171ac=collection(db,_0x5d85bd(0xcaf)+appId+_0x5d85bd(0x24f),_0x9f9e26,_0x5d85bd(0x2be)),_0x6d14fc=await getDocs(_0x3171ac);if(_0x6d14fc[_0x5d85bd(0x68b)]){showMessage(_0x5d85bd(0x534));return;}const _0x45af42=_0x6d14fc[_0x5d85bd(0xf3c)][_0x5d85bd(0xa15)](_0x38a51a=>reGradeSingleSubmission(_0x38a51a,_0x41ce4e));await Promise['all'](_0x45af42);if(_0x41ce4e['projectId']){const _0x128750=doc(db,_0x5d85bd(0xcaf)+appId+'/public/data/projects',_0x41ce4e[_0x5d85bd(0xc3a)]),_0x52ba36=await getDoc(_0x128750);if(_0x52ba36[_0x5d85bd(0x358)]()&&_0x52ba36[_0x5d85bd(0xbfb)]()['students']){const _0x1a51d5=_0x52ba36[_0x5d85bd(0xbfb)]()[_0x5d85bd(0x7cd)][_0x5d85bd(0xa15)](_0x434399=>updateStudentProfile(_0x41ce4e[_0x5d85bd(0xc3a)],_0x434399));await Promise[_0x5d85bd(0x408)](_0x1a51d5);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x6d14fc[_0x5d85bd(0x72f)]+_0x5d85bd(0x6af));}catch(_0x4c518e){console[_0x5d85bd(0xd74)](_0x5d85bd(0x687),_0x4c518e),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x4c518e[_0x5d85bd(0x68f)]);}}async function reGradeSingleSubmission(_0x172f84,_0x1b90be){const _0x59327c=_0x4ce511,_0x119931=_0x172f84['data'](),_0x544308=_0x119931[_0x59327c(0x8df)],_0x52f5f2=_0x119931[_0x59327c(0x8d7)]||[],_0x52180d=[];for(const _0x56ef82 of _0x52f5f2){let _0x25ee2f=0x0,_0x7129b1=[],_0x3f5d32=0x0;const _0x71332f=[];for(const _0x273408 of _0x56ef82[_0x59327c(0xb0f)]){let _0x4d2673;_0x273408[_0x59327c(0x4ed)]&&(_0x4d2673=_0x1b90be[_0x59327c(0x7bb)][_0x59327c(0x340)](_0x2774a6=>_0x2774a6['id']===_0x273408['questionId']));!_0x4d2673&&_0x273408[_0x59327c(0x672)]&&(_0x4d2673=_0x1b90be[_0x59327c(0x7bb)][_0x59327c(0x340)](_0x3cf066=>(_0x3cf066['stem']||_0x3cf066['questionText'])===_0x273408[_0x59327c(0x672)]));let _0x315a48=![];if(_0x4d2673){const _0x4a7864=_0x4d2673[_0x59327c(0xd06)]||_0x1b90be[_0x59327c(0xd15)];switch(_0x4a7864){case _0x59327c(0x8be):if(_0x4d2673[_0x59327c(0xdf0)]&&_0x4d2673[_0x59327c(0xae5)]<_0x4d2673[_0x59327c(0xdf0)][_0x59327c(0x81c)]){const _0x1eebb3=_0x4d2673[_0x59327c(0xdf0)][_0x4d2673[_0x59327c(0xae5)]];_0x315a48=_0x273408['answerText']===_0x1eebb3;}break;case _0x59327c(0x4ac):const _0x611116=_0x273408[_0x59327c(0x64e)]===!![]||_0x273408[_0x59327c(0x64e)]==='true';_0x315a48=_0x611116===_0x4d2673['correctAnswer'];break;case'matching_item':_0x315a48=_0x273408['answer']===_0x4d2673[_0x59327c(0x5c9)];break;case _0x59327c(0xc63):_0x315a48=await gradeShortAnswer(_0x273408['answer'],_0x4d2673);break;default:_0x315a48=_0x273408['isCorrect'];break;}}if(_0x315a48){_0x25ee2f++,_0x3f5d32++;if(_0x3f5d32===0x3)_0x7129b1[_0x59327c(0x9ba)](BADGES[_0x59327c(0xa90)]['id']);}else _0x3f5d32=0x0;_0x71332f[_0x59327c(0x9ba)]({..._0x273408,'isCorrect':_0x315a48});}let _0x2452d3=0x0;const _0x483a76=_0x56ef82[_0x59327c(0x6e9)]===!![]||_0x56ef82['points']>_0x1b90be['questions']['length']*0x14;_0x483a76?_0x2452d3=_0x56ef82[_0x59327c(0x636)]:(_0x2452d3=_0x25ee2f*0xa,_0x25ee2f===_0x1b90be[_0x59327c(0x7bb)][_0x59327c(0x81c)]&&(_0x2452d3+=0x32,_0x7129b1[_0x59327c(0x9ba)](BADGES[_0x59327c(0x62e)]['id']))),_0x52180d[_0x59327c(0x9ba)]({..._0x56ef82,'score':_0x25ee2f,'points':_0x2452d3,'badges':Array[_0x59327c(0xc0c)](new Set(_0x7129b1)),'answers':_0x71332f});}const _0x241474=_0x52180d['length']>0x0?_0x52180d[0x0]['score']:0x0,_0x3e28a1=Math[_0x59327c(0xddc)](..._0x52180d['map'](_0x216b00=>_0x216b00[_0x59327c(0x9c2)])),_0x597544=_0x52180d['length']>0x0?_0x52180d[_0x52180d[_0x59327c(0x81c)]-0x1][_0x59327c(0x9c2)]:0x0,_0x5c10e8=_0x52180d[_0x59327c(0x81c)]>0x0?_0x52180d[_0x52180d[_0x59327c(0x81c)]-0x1][_0x59327c(0x636)]:0x0,_0x574900=doc(db,'artifacts/'+appId+_0x59327c(0x284)+_0x1b90be['id']+_0x59327c(0x65f),_0x544308);await updateDoc(_0x574900,{'attempts':_0x52180d,'firstScore':_0x241474,'bestScore':_0x3e28a1,'latestScore':_0x597544,'points':_0x5c10e8});}function cleanupQuizOptions(_0x4dea7e){const _0x5870ed=_0x4ce511,_0x57b9c6=(_0x1edcae,_0x16606e)=>_0x16606e===0x0?_0x1edcae:_0x57b9c6(_0x16606e,_0x1edcae%_0x16606e),_0x56f4d9=_0x44c0f7=>{const _0x161f79=_0x5a5c;if(typeof _0x44c0f7!==_0x161f79(0xba8))return null;_0x44c0f7=_0x44c0f7[_0x161f79(0x88c)]();const _0xd2e6de=_0x44c0f7[_0x161f79(0xa00)](/[ /]/)[_0x161f79(0x395)](_0x3d87b0=>_0x3d87b0!=='');if(_0xd2e6de['length']===0x3)return parseInt(_0xd2e6de[0x0])+parseInt(_0xd2e6de[0x1])/parseInt(_0xd2e6de[0x2]);else{if(_0xd2e6de[_0x161f79(0x81c)]===0x2)return parseInt(_0xd2e6de[0x0])/parseInt(_0xd2e6de[0x1]);else{if(_0xd2e6de[_0x161f79(0x81c)]===0x1&&!isNaN(_0xd2e6de[0x0]))return parseFloat(_0xd2e6de[0x0]);}}return null;},_0x39737a=_0x2c9b2d=>{const _0x3f755e=_0x5a5c;if(typeof _0x2c9b2d!==_0x3f755e(0xba8))return _0x2c9b2d;const _0x362c51=_0x2c9b2d[_0x3f755e(0xafb)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x362c51){const _0x21465c=parseInt(_0x362c51[0x1]);let _0x45e272=parseInt(_0x362c51[0x2]),_0x2a8107=parseInt(_0x362c51[0x3]);const _0x38d525=_0x57b9c6(_0x45e272,_0x2a8107);_0x45e272/=_0x38d525,_0x2a8107/=_0x38d525;if(_0x2a8107===0x1)return(_0x21465c+_0x45e272)['toString']();return _0x21465c+'\x20'+_0x45e272+'/'+_0x2a8107;}return _0x2c9b2d;};return _0x4dea7e&&_0x4dea7e['questions']&&_0x4dea7e['questions'][_0x5870ed(0xbd3)](_0xf0a32d=>{const _0x51024e=_0x5870ed;if(_0xf0a32d[_0x51024e(0xd06)]===_0x51024e(0x8be)&&_0xf0a32d['options']){const _0x32b647=new Map(),_0xcc5900=_0xf0a32d[_0x51024e(0xdf0)][_0xf0a32d[_0x51024e(0xae5)]];_0xf0a32d['options']['forEach'](_0x4e7a7c=>{const _0xe04861=_0x51024e,_0x2915eb=_0x39737a(_0x4e7a7c),_0x1ec580=_0x56f4d9(_0x2915eb);_0x1ec580!==null&&!_0x32b647[_0xe04861(0xde6)](_0x1ec580)&&_0x32b647[_0xe04861(0xaa8)](_0x1ec580,_0x2915eb);}),_0xf0a32d[_0x51024e(0xdf0)]=Array['from'](_0x32b647[_0x51024e(0xb18)]());const _0x180a3f=_0xf0a32d[_0x51024e(0xdf0)]['findIndex'](_0x10e62b=>_0x10e62b===_0x39737a(_0xcc5900));_0xf0a32d[_0x51024e(0xae5)]=_0x180a3f!==-0x1?_0x180a3f:0x0;}}),_0x4dea7e;}function showGameStartConfirmationModal(_0x52f32d,_0x4fa4af,_0x187979){const _0xbf8506=_0x4ce511,_0x4447a9=document[_0xbf8506(0xbeb)](_0xbf8506(0x423));document[_0xbf8506(0xbeb)]('game-start-modal-title')[_0xbf8506(0x211)]='เริ่มกิจกรรม:\x20'+_0x187979,document['getElementById'](_0xbf8506(0x453))['value']=_0x52f32d,document[_0xbf8506(0xbeb)](_0xbf8506(0x641))[_0xbf8506(0xc07)]=_0x4fa4af,document[_0xbf8506(0xbeb)](_0xbf8506(0x661))['checked']=!![];const _0x2a161c=document[_0xbf8506(0xbeb)](_0xbf8506(0x575)),_0x18191b=document['getElementById'](_0xbf8506(0x22a)),_0xd6ed72=document[_0xbf8506(0xbeb)](_0xbf8506(0xc6b)),_0x4254b4=document[_0xbf8506(0xbeb)](_0xbf8506(0x1d8)),_0x2c31f9=document[_0xbf8506(0xbeb)](_0xbf8506(0x5ff));if(_0x4fa4af===_0xbf8506(0xe25)){_0x2a161c['classList'][_0xbf8506(0x711)](_0xbf8506(0x9d8));const _0x32870a=_0xbf8506(0xe34);document['querySelector'](_0xbf8506(0x528)+_0x32870a+'\x22]')['checked']=!![];if(_0x2c31f9)_0x2c31f9[_0xbf8506(0xa1f)][_0xbf8506(0x711)](_0xbf8506(0x9d8));_0x18191b[_0xbf8506(0x375)]=!![],_0xd6ed72[_0xbf8506(0xa1f)]['remove'](_0xbf8506(0x9d8)),document[_0xbf8506(0xbeb)](_0xbf8506(0x433))['value']=_0xbf8506(0xbf1),_0x4254b4[_0xbf8506(0xa1f)][_0xbf8506(0x711)](_0xbf8506(0x9d8)),document[_0xbf8506(0xbeb)](_0xbf8506(0x952))[_0xbf8506(0x375)]=!![];}else{_0x2a161c['classList'][_0xbf8506(0x7e0)](_0xbf8506(0x9d8));if(_0x2c31f9)_0x2c31f9[_0xbf8506(0xa1f)][_0xbf8506(0x7e0)](_0xbf8506(0x9d8));_0x18191b[_0xbf8506(0x375)]=![],_0xd6ed72[_0xbf8506(0xa1f)][_0xbf8506(0x7e0)]('hidden'),_0x4254b4['classList'][_0xbf8506(0x7e0)](_0xbf8506(0x9d8));}_0x4447a9[_0xbf8506(0xa1f)][_0xbf8506(0x711)](_0xbf8506(0x9d8));}async function saveGameResultsAsSubmissions(_0x111ff1){const _0x11a4f1=_0x4ce511;if(_0x111ff1[_0x11a4f1(0x1e4)]){console[_0x11a4f1(0x2c0)](_0x11a4f1(0xd3d));return;}console[_0x11a4f1(0x2c0)](_0x11a4f1(0x23a),_0x111ff1);const _0x411052=_0x111ff1[_0x11a4f1(0xc9b)];let _0x4fa17=[];if(_0x111ff1[_0x11a4f1(0x735)])_0x4fa17=Object[_0x11a4f1(0x6e1)](_0x111ff1[_0x11a4f1(0x735)])[_0x11a4f1(0xa15)](([_0x4314b1,_0x1b402c])=>({'name':_0x4314b1,..._0x1b402c}));else{if(_0x111ff1[_0x11a4f1(0x948)])Object['values'](_0x111ff1['groups'])['forEach'](_0x41df92=>{const _0x3aab4f=_0x11a4f1;_0x41df92[_0x3aab4f(0x2cc)][_0x3aab4f(0xbd3)](_0x47bfee=>{const _0x275fee=_0x3aab4f;_0x4fa17[_0x275fee(0x9ba)]({'name':_0x47bfee,'score':_0x41df92[_0x275fee(0x9c2)],'answers':_0x41df92['answers']});});});else _0x111ff1[_0x11a4f1(0x2b9)]&&Object[_0x11a4f1(0x6e1)](_0x111ff1[_0x11a4f1(0x2b9)])[_0x11a4f1(0xbd3)](([_0x2cffa3,_0x253968])=>{_0x4fa17['push']({'name':_0x2cffa3,..._0x253968});});}if(_0x4fa17[_0x11a4f1(0x81c)]===0x0){console[_0x11a4f1(0xbfc)](_0x11a4f1(0x846));return;}const _0x195fdf=_0x111ff1[_0x11a4f1(0x663)]?.[_0x11a4f1(0x7bb)][_0x11a4f1(0x81c)]||currentQuizData[_0x11a4f1(0x7bb)][_0x11a4f1(0x81c)],_0x1e7dcb=writeBatch(db);for(const _0x8f998f of _0x4fa17){const _0x4fb4ba=doc(db,_0x11a4f1(0xcaf)+appId+_0x11a4f1(0x284)+_0x411052+_0x11a4f1(0x65f),_0x8f998f[_0x11a4f1(0x631)]),_0x3cb67e=(_0x8f998f[_0x11a4f1(0xb0f)]||[])[_0x11a4f1(0x395)](_0x5eacda=>_0x5eacda[_0x11a4f1(0xc70)])[_0x11a4f1(0x81c)];let _0xa36e1b=_0x8f998f[_0x11a4f1(0xaa1)]!==undefined?_0x8f998f['totalPoints']:_0x3cb67e,_0x37de36=_0x8f998f[_0x11a4f1(0xab9)]||[];_0x3cb67e===_0x195fdf&&_0x195fdf>0x0&&(!_0x37de36[_0x11a4f1(0x87a)]('perfect_score')&&_0x37de36[_0x11a4f1(0x9ba)](_0x11a4f1(0xe3b)));const _0x39579b={'score':_0x3cb67e,'points':_0xa36e1b,'badges':_0x37de36,'submittedAt':new Date()[_0x11a4f1(0x760)](),'isSyncGame':!![],'answers':(_0x8f998f['answers']||[])[_0x11a4f1(0xa15)](_0x99a625=>({'questionId':_0x99a625['questionId'],'answer':_0x99a625[_0x11a4f1(0x64e)],'answerText':_0x99a625[_0x11a4f1(0xd08)],'isCorrect':_0x99a625[_0x11a4f1(0xc70)],'originalQuestionText':_0x99a625['originalQuestionText'],'wasConfident':_0x99a625[_0x11a4f1(0x2c6)],'powerupUsed':_0x99a625[_0x11a4f1(0x344)]||null}))},_0x256452=await getDoc(_0x4fb4ba),_0x2aa653=_0x256452[_0x11a4f1(0x358)]()?_0x256452[_0x11a4f1(0xbfb)]():{},_0x4b756a=_0x2aa653[_0x11a4f1(0x409)]||0x0,_0x2f7d96=_0x2aa653[_0x11a4f1(0x8d7)]||[];_0x2f7d96[_0x11a4f1(0x81c)]===0x0&&_0x3cb67e===_0x195fdf&&_0x195fdf>0x0&&(!_0x39579b[_0x11a4f1(0xab9)][_0x11a4f1(0x87a)](_0x11a4f1(0x1c9))&&_0x39579b['badges']['push'](_0x11a4f1(0x1c9)));const _0x7f1be4={'studentName':_0x8f998f['name'],'totalQuestions':_0x195fdf,'attempts':arrayUnion(_0x39579b),'latestScore':_0x3cb67e,'points':_0xa36e1b,'latestSubmittedAt':_0x39579b['submittedAt'],'bestScore':Math[_0x11a4f1(0xddc)](_0x4b756a,_0x3cb67e),'firstScore':_0x2f7d96['length']===0x0?_0x3cb67e:_0x2aa653[_0x11a4f1(0x440)]||0x0};_0x1e7dcb[_0x11a4f1(0xaa8)](_0x4fb4ba,_0x7f1be4,{'merge':!![]});}try{if(currentLiveGameId){const _0x182918=doc(db,_0x11a4f1(0xcaf)+appId+_0x11a4f1(0x2a0),currentLiveGameId);_0x1e7dcb['update'](_0x182918,{'resultsSaved':!![]});}await _0x1e7dcb['commit'](),showMessage(_0x11a4f1(0x720)+_0x4fa17['length']+_0x11a4f1(0x1fa));const _0x78eed0=_0x111ff1[_0x11a4f1(0x663)]?.[_0x11a4f1(0xc3a)]||currentQuizData?.[_0x11a4f1(0xc3a)]||currentProjectId;if(_0x78eed0){const _0x6a7dfc=[...new Set(_0x4fa17['map'](_0x5da2c4=>_0x5da2c4['name']))];for(const _0x346cc8 of _0x6a7dfc){await updateStudentProfile(_0x78eed0,_0x346cc8);}}}catch(_0xf1a387){console[_0x11a4f1(0xd74)](_0x11a4f1(0x248),_0xf1a387),showMessage(_0x11a4f1(0x69d));}}async function saveQuiz(_0x28daf9=null,_0x5d0361=null){const _0x12d618=_0x4ce511,_0x57cd88=_0x28daf9||currentProjectId;if(!_0x57cd88){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x12d618(0x7bb)]||!userId){showMessage(_0x12d618(0x339));return;}const _0x1d1d5c=document[_0x12d618(0xbeb)]('save-quiz-btn');_0x1d1d5c[_0x12d618(0x272)]=!![],_0x1d1d5c[_0x12d618(0x28a)]=_0x12d618(0x9ff);const _0x50067a=document['getElementById']('pre-test-checkbox')[_0x12d618(0x375)];let _0x2f7aff=document[_0x12d618(0xbeb)]('editable-quiz-topic')['innerText'][_0x12d618(0x88c)]();_0x50067a&&!_0x2f7aff[_0x12d618(0x733)]('(ก่อนเรียน)')&&(_0x2f7aff='(ก่อนเรียน)\x20'+_0x2f7aff);try{const _0x2df59b={'resultsDisplay':document[_0x12d618(0xbeb)](_0x12d618(0xb91))[_0x12d618(0xc07)],'shuffle':document[_0x12d618(0xbeb)](_0x12d618(0xdaa))[_0x12d618(0xc07)],'timerMode':document['getElementById']('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x12d618(0xbeb)](_0x12d618(0x26c))[_0x12d618(0xc07)])||0xa,'passingScore':parseInt(document[_0x12d618(0xbeb)](_0x12d618(0x288))[_0x12d618(0xc07)])||0x0,'isAdaptive':document[_0x12d618(0xbeb)](_0x12d618(0x709))['checked'],'loopUntilPass':document[_0x12d618(0xbeb)]('loop-until-pass-checkbox')[_0x12d618(0x375)]},_0x45c9e2=(currentQuizData[_0x12d618(0x7bb)]||[])['map']((_0x2a112b,_0x2b86c1)=>{const _0x17dc36=_0x12d618,_0x406f4b=document['getElementById'](_0x17dc36(0xdad))[_0x17dc36(0xc07)],_0x222de6={'id':'q_'+Date[_0x17dc36(0xced)]()+'_'+_0x2b86c1,'questionText':_0x2a112b['questionText']||'','explanation':_0x2a112b[_0x17dc36(0x58b)]||_0x17dc36(0xb1a),'questionType':_0x2a112b[_0x17dc36(0xd06)]||_0x406f4b,'imageCode':_0x2a112b[_0x17dc36(0xf2d)]||null};return(_0x222de6[_0x17dc36(0xd06)]===_0x17dc36(0x8be)||_0x222de6['questionType']===_0x17dc36(0xa4d)||_0x222de6[_0x17dc36(0xd06)]===_0x17dc36(0x1cd)&&_0x2a112b[_0x17dc36(0xdf0)])&&(_0x222de6['options']=_0x2a112b[_0x17dc36(0xdf0)]||[],_0x222de6[_0x17dc36(0xae5)]=_0x2a112b[_0x17dc36(0xae5)]!==undefined?_0x2a112b[_0x17dc36(0xae5)]:0x0),(_0x222de6['questionType']===_0x17dc36(0xc63)||_0x222de6[_0x17dc36(0xd06)]===_0x17dc36(0x2fc)||_0x222de6[_0x17dc36(0xd06)]===_0x17dc36(0x1cd)&&_0x2a112b[_0x17dc36(0xe56)])&&(_0x222de6['idealAnswer']=_0x2a112b[_0x17dc36(0xe56)]||''),_0x222de6[_0x17dc36(0xd06)]===_0x17dc36(0x4ac)&&(_0x222de6[_0x17dc36(0xdec)]=_0x2a112b['correctAnswer']===!![]),_0x222de6['questionType']===_0x17dc36(0x700)&&(_0x222de6[_0x17dc36(0x4dd)]=_0x2a112b[_0x17dc36(0x4dd)]||'',_0x222de6['correctResponse']=_0x2a112b[_0x17dc36(0x5c9)]||'',_0x222de6[_0x17dc36(0x638)]=_0x2a112b[_0x17dc36(0x638)]||[]),_0x222de6;}),_0x1891c5={'topic':_0x2f7aff,'quizType':currentQuizData[_0x12d618(0xd15)]||_0x12d618(0x8be),'questions':_0x45c9e2,'projectId':_0x57cd88,'createdBy':userId,'createdAt':new Date()[_0x12d618(0x760)](),'status':_0x12d618(0x829),'settings':_0x2df59b,'quizMode':_0x50067a?_0x12d618(0x78a):_0x12d618(0x510),'pairedQuizId':null,'lessonPlan':null};let _0x1df2d3;while(!![]){_0x1df2d3=Math[_0x12d618(0x8c6)](0x3e8+Math[_0x12d618(0x3c9)]()*0x2328)[_0x12d618(0x823)]();const _0x47083b=await getDoc(doc(db,_0x12d618(0xcaf)+appId+_0x12d618(0x24f),_0x1df2d3));if(!_0x47083b[_0x12d618(0x358)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x12d618(0x24f),_0x1df2d3),_0x1891c5);if(_0x5d0361&&currentBlueprintProjectId){console[_0x12d618(0x2c0)](_0x12d618(0x7ba)+_0x1df2d3+'\x20to\x20blueprint\x20topic\x20'+_0x5d0361);try{const _0x3ea12d=doc(db,_0x12d618(0xcaf)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x3ea12d,{[_0x12d618(0xba5)+_0x5d0361+_0x12d618(0x7d2)]:arrayUnion(_0x1df2d3)});}catch(_0x1c3c1e){console['error'](_0x12d618(0x4c0),_0x1c3c1e);}}currentQuizData[_0x12d618(0x4ea)]=_0x2df59b,currentQuizData['id']=_0x1df2d3;const _0x36b107=document['getElementById']('generated-quiz-actions');_0x36b107[_0x12d618(0x28a)]=_0x12d618(0x6c6)+_0x1df2d3+_0x12d618(0x634),document[_0x12d618(0xbeb)](_0x12d618(0x9cd))[_0x12d618(0x79a)](_0x12d618(0xc64),()=>copyTextToClipboard(_0x1df2d3,_0x12d618(0x46d))),document[_0x12d618(0xbeb)](_0x12d618(0x752))[_0x12d618(0x79a)](_0x12d618(0xc64),()=>handleStartLiveRace(_0x1df2d3)),document['getElementById']('start-presentation-btn')[_0x12d618(0x79a)](_0x12d618(0xc64),()=>startPresentation(currentQuizData)),document[_0x12d618(0xbeb)](_0x12d618(0x8cf))[_0x12d618(0x79a)](_0x12d618(0xc64),startAdminTest),showMessage(_0x12d618(0x612));}catch(_0x25f4c9){console[_0x12d618(0xd74)]('Error\x20saving\x20quiz:',_0x25f4c9),showMessage(_0x12d618(0xedb));}finally{_0x1d1d5c[_0x12d618(0x272)]=![],_0x1d1d5c[_0x12d618(0x28a)]=_0x12d618(0xd9f);}}function promptForProjectAndSave(){const _0x2267cc=_0x4ce511,_0x1f583a=document['getElementById'](_0x2267cc(0x5c6)),_0x3cc00b=document[_0x2267cc(0xbeb)](_0x2267cc(0x546)),_0x4a272a=_0x1f583a[_0x2267cc(0x2d0)]('h3'),_0x1acdf1=document['getElementById'](_0x2267cc(0xa29));_0x4a272a[_0x2267cc(0x211)]=_0x2267cc(0xefd),_0x1acdf1[_0x2267cc(0x211)]=_0x2267cc(0x80b);allProjects[_0x2267cc(0x81c)]===0x0?(_0x3cc00b['innerHTML']=_0x2267cc(0xc7b),_0x1acdf1[_0x2267cc(0x272)]=!![]):(_0x3cc00b['innerHTML']=allProjects['map'](_0x2f1ef9=>'<option\x20value=\x22'+_0x2f1ef9['id']+'\x22>'+_0x2f1ef9[_0x2267cc(0x9e0)]+_0x2267cc(0xb03))[_0x2267cc(0x919)](''),_0x1acdf1[_0x2267cc(0x272)]=![]);_0x1f583a['classList'][_0x2267cc(0x711)](_0x2267cc(0x9d8));const _0x5a5799=()=>{const _0x2a8c55=_0x2267cc,_0x558a4e=_0x3cc00b[_0x2a8c55(0xc07)];_0x558a4e?(currentProjectId=_0x558a4e,_0x1f583a['classList'][_0x2a8c55(0x7e0)](_0x2a8c55(0x9d8)),saveQuiz(),_0x4a272a['textContent']=_0x2a8c55(0x452),_0x1acdf1[_0x2a8c55(0x211)]=_0x2a8c55(0x699),_0x1acdf1[_0x2a8c55(0x8fb)](_0x2a8c55(0xc64),_0x5a5799),_0x1acdf1[_0x2a8c55(0x79a)](_0x2a8c55(0xc64),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x1acdf1[_0x2267cc(0x8fb)](_0x2267cc(0xc64),confirmMoveQuiz),_0x1acdf1[_0x2267cc(0x79a)](_0x2267cc(0xc64),_0x5a5799);}function copyTextToClipboard(_0x2afa57,_0x3d81db){const _0xf0ae45=_0x4ce511,_0x520e28=document[_0xf0ae45(0x38c)](_0xf0ae45(0xaa9));_0x520e28[_0xf0ae45(0xc07)]=_0x2afa57,_0x520e28['style'][_0xf0ae45(0x532)]='fixed',_0x520e28[_0xf0ae45(0xbcb)][_0xf0ae45(0xe67)]='0',document[_0xf0ae45(0xdc7)][_0xf0ae45(0x620)](_0x520e28),_0x520e28[_0xf0ae45(0xd7d)](),_0x520e28[_0xf0ae45(0x362)]();try{const _0x242e69=document[_0xf0ae45(0xab0)](_0xf0ae45(0xdfd));showMessage(_0x242e69?_0x3d81db:_0xf0ae45(0x9d3));}catch(_0xfcc0a1){showMessage(_0xf0ae45(0x9d3)),console[_0xf0ae45(0xd74)](_0xf0ae45(0xc00),_0xfcc0a1);}document[_0xf0ae45(0xdc7)]['removeChild'](_0x520e28);}function listenForProjectQuizzes(_0x3cf1e1){const _0x2ab25d=_0x4ce511,_0x3b68f6=collection(db,_0x2ab25d(0xcaf)+appId+_0x2ab25d(0x24f)),_0x342e24=query(_0x3b68f6,where(_0x2ab25d(0xc3a),'==',_0x3cf1e1));unsubscribeQuizzesListener=onSnapshot(_0x342e24,async _0x580fa2=>{const _0x32883a=_0x2ab25d;allQuizzes=_0x580fa2[_0x32883a(0xf3c)][_0x32883a(0xa15)](_0x2befcf=>({'id':_0x2befcf['id'],..._0x2befcf[_0x32883a(0xbfb)]()})),renderQuizzes();},_0x3de746=>{const _0x46d16e=_0x2ab25d;console[_0x46d16e(0xd74)]('Error\x20fetching\x20project\x20quizzes:',_0x3de746),document[_0x46d16e(0xbeb)](_0x46d16e(0xa01))[_0x46d16e(0x28a)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x59f457=_0x4ce511,_0x3bb2ea=document[_0x59f457(0xbeb)](_0x59f457(0xa01)),_0x410e41=document[_0x59f457(0xbeb)](_0x59f457(0x3c2))[_0x59f457(0xc07)][_0x59f457(0x298)]();let _0x3921d9;currentProjectId==='starred'?_0x3921d9=starredQuizzes:_0x3921d9=allQuizzes;let _0x224635=_0x3921d9[_0x59f457(0x395)](_0x21cbf5=>_0x21cbf5['topic'][_0x59f457(0x298)]()[_0x59f457(0x87a)](_0x410e41));_0x224635[_0x59f457(0x2b3)]((_0x47e1c7,_0x492d09)=>new Date(_0x492d09['createdAt'])-new Date(_0x47e1c7[_0x59f457(0xda9)]));if(_0x224635[_0x59f457(0x81c)]===0x0){_0x3bb2ea[_0x59f457(0x28a)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x2b154c={},_0x3b3cf5=_0x224635[_0x59f457(0xa15)](async _0x4c26ac=>{const _0x44bf7d=_0x59f457,_0x349f20=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x4c26ac['id']+_0x44bf7d(0x65f)),_0x403307=await getDocs(_0x349f20);_0x2b154c[_0x4c26ac['id']]=_0x403307[_0x44bf7d(0x72f)];});await Promise[_0x59f457(0x408)](_0x3b3cf5);let _0x305586='';_0x224635[_0x59f457(0xbd3)](_0x550eca=>{const _0x196db0=_0x59f457,_0x576161=_0x2b154c[_0x550eca['id']]||0x0,_0x1284e9=_0x550eca[_0x196db0(0x3a7)]||_0x196db0(0x829),_0x5ad7ba=_0x550eca[_0x196db0(0x4ea)]?.['timerMode']||_0x196db0(0x434);let _0x570370='',_0x71bce2='';const _0x1947d9=new Date();let _0x13df04=_0x1284e9;if(_0x1284e9==='scheduled'){const _0x306680=_0x550eca['startTime']?new Date(_0x550eca['startTime']):null,_0x64c548=_0x550eca[_0x196db0(0x715)]?new Date(_0x550eca[_0x196db0(0x715)]):null;if(_0x64c548&&_0x1947d9>_0x64c548)_0x13df04=_0x196db0(0x966);else _0x306680&&_0x1947d9<_0x306680?_0x13df04=_0x196db0(0x2c2):_0x13df04=_0x196db0(0x829);}switch(_0x13df04){case _0x196db0(0x966):_0x570370=_0x196db0(0xce9),_0x71bce2=_0x196db0(0x469);break;case'scheduled_pending':_0x570370=_0x196db0(0x926),_0x71bce2=_0x196db0(0x7df);break;case _0x196db0(0x829):_0x570370=_0x5ad7ba!==_0x196db0(0x434)?_0x196db0(0x5a7):_0x196db0(0xd0a),_0x71bce2=_0x196db0(0xe7a);break;default:_0x570370=_0x196db0(0x582),_0x71bce2=_0x196db0(0xe7a);break;}let _0x51744c='';const _0x5412ea={'day':'2-digit','month':'2-digit','year':_0x196db0(0x6d5),'hour':_0x196db0(0xd10),'minute':_0x196db0(0xd10),'hour12':![]};if(_0x1284e9===_0x196db0(0xafc)){if(_0x550eca[_0x196db0(0xdb3)])_0x51744c+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x550eca[_0x196db0(0xdb3)])[_0x196db0(0x4d2)](_0x196db0(0xb2a),_0x5412ea)+'</p>';if(_0x550eca['endTime'])_0x51744c+=_0x196db0(0x669)+new Date(_0x550eca[_0x196db0(0x715)])['toLocaleString'](_0x196db0(0xb2a),_0x5412ea)+_0x196db0(0x8d0);}let _0xc58ed2='';if(_0x550eca['pairedQuizId']){const _0xbd8d34=allQuizzes[_0x196db0(0x340)](_0xecd4be=>_0xecd4be['id']===_0x550eca[_0x196db0(0xaec)]);if(_0xbd8d34){let _0x46f960,_0x25f5bf;new Date(_0x550eca[_0x196db0(0xda9)])<new Date(_0xbd8d34[_0x196db0(0xda9)])?(_0x46f960=_0x550eca['id'],_0x25f5bf=_0xbd8d34['id']):(_0x46f960=_0xbd8d34['id'],_0x25f5bf=_0x550eca['id']),_0xc58ed2+=_0x196db0(0x5a4)+_0x25f5bf+'\x22\x20data-pre-test-id=\x22'+_0x46f960+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x550eca[_0x196db0(0x8fe)]===_0x196db0(0x78a)&&(_0xc58ed2+=_0x196db0(0xe4d)+_0x550eca['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x550eca[_0x196db0(0x8fe)]===_0x196db0(0x78a)&&_0x576161>0x0)_0xc58ed2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x550eca['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x550eca[_0x196db0(0xaec)]&&_0x550eca[_0x196db0(0x8fe)]!==_0x196db0(0x78a)&&_0x576161>0x0&&(_0xc58ed2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x550eca['id']+_0x196db0(0xab4));let _0x51933e='';_0x550eca[_0x196db0(0xaec)]?_0x51933e=_0x196db0(0xb23)+_0x550eca['id']+_0x196db0(0x238):_0x51933e=_0x196db0(0xb23)+_0x550eca['id']+_0x196db0(0xb01);const _0x30c7be=_0x196db0(0xbe1)+_0x550eca['id']+_0x196db0(0x5b4);_0x305586+=_0x196db0(0x786)+_0x550eca['id']+_0x196db0(0x91b)+_0x550eca[_0x196db0(0x8ba)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x550eca[_0x196db0(0x7bb)][_0x196db0(0x81c)]+_0x196db0(0xbba)+new Date(_0x550eca[_0x196db0(0xda9)])['toLocaleString'](_0x196db0(0xb2a))+_0x196db0(0x689)+_0x576161+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51744c+_0x196db0(0x86e)+_0x71bce2+'\x22>'+_0x570370+_0x196db0(0xb55)+_0x550eca['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x550eca['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x550eca[_0x196db0(0x81f)]?_0x196db0(0x493):'far\x20fa-star')+_0x196db0(0x2a6)+_0xc58ed2+_0x196db0(0x648)+_0x30c7be+_0x196db0(0x819)+_0x550eca['id']+_0x196db0(0x385)+_0x550eca['id']+_0x196db0(0x458)+_0x550eca['id']+_0x196db0(0x83e)+_0x550eca['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x550eca['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x550eca['id']+_0x196db0(0x264)+_0x550eca['id']+_0x196db0(0x8da)+_0x550eca[_0x196db0(0x8ba)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x550eca['id']+_0x196db0(0x6e4)+_0x550eca['id']+_0x196db0(0xbb8)+_0x51933e+_0x196db0(0xec9)+_0x550eca['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x550eca['id']+_0x196db0(0x868)+_0x550eca['id']+_0x196db0(0x1ca)+_0x550eca['id']+_0x196db0(0xf54)+_0x550eca['id']+_0x196db0(0x8da)+_0x550eca[_0x196db0(0x8ba)]+_0x196db0(0x57a)+_0x550eca['id']+_0x196db0(0xe5d);}),_0x3bb2ea['innerHTML']=_0x305586,document['querySelectorAll'](_0x59f457(0x911))[_0x59f457(0xbd3)](_0x498217=>{const _0x2bfd71=_0x59f457;_0x498217[_0x2bfd71(0x79a)](_0x2bfd71(0xc64),()=>{const _0x1273ab=_0x2bfd71,_0x4e5b5d=_0x498217['dataset'][_0x1273ab(0xc9b)];showQuizDetailView(_0x4e5b5d);});});}async function handleUnpairQuiz(_0x22ecee){const _0x2ca2cc=_0x4ce511,_0x4bc17f=allQuizzes[_0x2ca2cc(0x340)](_0x3b8b0d=>_0x3b8b0d['id']===_0x22ecee);if(!_0x4bc17f||!_0x4bc17f['pairedQuizId']){showMessage(_0x2ca2cc(0xf37));return;}showConfirmation(_0x2ca2cc(0x774),async()=>{const _0x2a27c0=_0x2ca2cc;try{const _0x3e51ed=doc(db,_0x2a27c0(0xcaf)+appId+'/public/data/quizzes',_0x22ecee),_0x5566c2=doc(db,_0x2a27c0(0xcaf)+appId+_0x2a27c0(0x24f),_0x4bc17f['pairedQuizId']),_0x2f1afc=writeBatch(db);_0x2f1afc['update'](_0x3e51ed,{'pairedQuizId':null}),_0x2f1afc[_0x2a27c0(0x55d)](_0x5566c2,{'pairedQuizId':null}),await _0x2f1afc['commit'](),showMessage(_0x2a27c0(0xcd0));}catch(_0x43c8a1){console['error']('Error\x20unpairing\x20quizzes:',_0x43c8a1),showMessage(_0x2a27c0(0x6be));}});}function formatAndPrintLessonPlan(_0x2b4c8a,_0x369685){const _0x1e8936=_0x4ce511,_0x10d263=window[_0x1e8936(0xb66)]('','_blank'),_0x4c4ef4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x369685[_0x1e8936(0x8ba)]+_0x1e8936(0xb35)+_0x369685[_0x1e8936(0x8ba)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b4c8a[_0x1e8936(0x738)][_0x1e8936(0xa15)](_0x551b51=>_0x1e8936(0xe4b)+_0x551b51+_0x1e8936(0x431))[_0x1e8936(0x919)]('')+_0x1e8936(0xae3)+_0x2b4c8a['teachingContent']+_0x1e8936(0xc79)+_0x2b4c8a['practiceProblems']['map'](_0x233db9=>_0x1e8936(0xee7)+_0x233db9[_0x1e8936(0x5f4)]+_0x1e8936(0x35e)+_0x233db9[_0x1e8936(0x318)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1e8936(0x919)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x10d263[_0x1e8936(0x5a6)][_0x1e8936(0xae8)](_0x4c4ef4),_0x10d263[_0x1e8936(0x5a6)]['close'](),_0x10d263[_0x1e8936(0x48b)]=function(){setTimeout(()=>{const _0x2f615b=_0x5a5c;_0x10d263[_0x2f615b(0xf41)]();},0x3e8);};}async function handleAiFixFormula(_0x140bd2){const _0x155e10=_0x4ce511,_0x1b95c6=document[_0x155e10(0x2d0)](_0x155e10(0xba7)+_0x140bd2+'\x22]');if(!_0x1b95c6)return;const _0x4020ce=_0x1b95c6[_0x155e10(0x6b1)][_0x155e10(0xbe3)],_0x237fba=_0x1b95c6[_0x155e10(0x2d0)](_0x155e10(0xbb2));let _0x1cb8b7={'question':_0x1b95c6[_0x155e10(0x2d0)](_0x155e10(0xaa9))['value']};switch(_0x4020ce){case _0x155e10(0x8be):_0x1cb8b7[_0x155e10(0xdf0)]=Array[_0x155e10(0xc0c)](_0x1b95c6[_0x155e10(0xb02)](_0x155e10(0xda2)))['map'](_0x56a1ec=>_0x56a1ec[_0x155e10(0xc07)]);break;case'fill_in_no_choices':case _0x155e10(0xc63):_0x1cb8b7['idealAnswer']=_0x1b95c6[_0x155e10(0x2d0)](_0x155e10(0x43a))[_0x155e10(0xc07)];break;case _0x155e10(0x700):_0x1cb8b7[_0x155e10(0x5c9)]=_0x1b95c6[_0x155e10(0x2d0)]('.correct-response-input')[_0x155e10(0xc07)];break;}_0x237fba[_0x155e10(0x28a)]=_0x155e10(0x360),_0x237fba[_0x155e10(0x272)]=!![];try{const _0x38b366=_0x155e10(0x66a)+JSON[_0x155e10(0xe4f)](_0x1cb8b7)+_0x155e10(0x6ea),_0x553e39={'type':_0x155e10(0x24c),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x155e10(0xa2b)},'options':{'type':_0x155e10(0x216),'items':{'type':_0x155e10(0xa2b)}},'idealAnswer':{'type':_0x155e10(0xa2b)},'correctResponse':{'type':_0x155e10(0xa2b)}},'required':[_0x155e10(0x5f4)]}},'required':[_0x155e10(0x545)]},_0x1d02b1=await callAnalysisApi(_0x38b366,_0x553e39);if(_0x1d02b1&&_0x1d02b1[_0x155e10(0x545)]){const _0x1d4bda=_0x1d02b1[_0x155e10(0x545)];_0x1b95c6[_0x155e10(0x2d0)](_0x155e10(0xaa9))['value']=_0x1d4bda['question']||_0x1cb8b7[_0x155e10(0x5f4)];switch(_0x4020ce){case _0x155e10(0x8be):_0x1d4bda[_0x155e10(0xdf0)]&&_0x1d4bda[_0x155e10(0xdf0)][_0x155e10(0x81c)]>0x0&&_0x1b95c6[_0x155e10(0xb02)](_0x155e10(0xda2))[_0x155e10(0xbd3)]((_0x366502,_0x3a80c1)=>{const _0xc8cb08=_0x155e10;_0x366502[_0xc8cb08(0xc07)]=_0x1d4bda[_0xc8cb08(0xdf0)][_0x3a80c1]||_0x1cb8b7[_0xc8cb08(0xdf0)][_0x3a80c1];});break;case'fill_in_no_choices':case _0x155e10(0xc63):_0x1b95c6[_0x155e10(0x2d0)]('.ideal-answer-input')[_0x155e10(0xc07)]=_0x1d4bda[_0x155e10(0xe56)]||_0x1cb8b7['idealAnswer'];break;case _0x155e10(0x700):_0x1b95c6[_0x155e10(0x2d0)](_0x155e10(0x3f6))[_0x155e10(0xc07)]=_0x1d4bda['correctResponse']||_0x1cb8b7[_0x155e10(0x5c9)];break;}showMessage(_0x155e10(0xd98));}else throw new Error(_0x155e10(0x39e));}catch(_0x2282ae){console[_0x155e10(0xd74)](_0x155e10(0x5ec),_0x2282ae),showMessage(_0x155e10(0x2fd));}finally{_0x237fba['innerHTML']=_0x155e10(0xc3e),_0x237fba[_0x155e10(0x272)]=![];}}async function handleGenerateLessonPlan(_0x1c522c){const _0x381469=_0x4ce511;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x1db84b=doc(db,'artifacts/'+appId+_0x381469(0x24f),_0x1c522c),_0x4529da=await getDoc(_0x1db84b);if(!_0x4529da[_0x381469(0x358)]())throw new Error(_0x381469(0x5c0));const _0x1c984a={'id':_0x1c522c,..._0x4529da[_0x381469(0xbfb)]()},_0x4f8c7f=collection(db,'artifacts/'+appId+_0x381469(0x24f),_0x1c522c,_0x381469(0x2be)),_0x3bf140=await getDocs(_0x4f8c7f),_0x218ccf=_0x3bf140[_0x381469(0xf3c)][_0x381469(0xa15)](_0x454130=>_0x454130[_0x381469(0xbfb)]());if(_0x218ccf['length']===0x0)throw new Error(_0x381469(0x808));const _0x55bfab=calculateItemAnalysis(_0x1c984a,_0x218ccf)[_0x381469(0xf1e)],_0x485769=calculateDistractorAnalysis(_0x1c984a,_0x218ccf),_0x16fee=_0x4a5353=>{const _0x4f9321=_0x381469;if(!_0x4a5353)return'';return _0x4a5353[_0x4f9321(0xea1)](/\\/g,'\x5c\x5c')[_0x4f9321(0xea1)](/"/g,'\x5c\x22')[_0x4f9321(0xea1)](/\n/g,'\x5cn');};let _0x12096f=_0x381469(0x29f);_0x1c984a['questions'][_0x381469(0xbd3)]((_0x2f3e42,_0x125a07)=>{const _0x33e7f8=_0x381469,_0x1c88ae=_0x55bfab[_0x125a07]?.['p'][_0x33e7f8(0x7a7)](0x2)||_0x33e7f8(0x30b),_0x370ae4=_0x55bfab[_0x125a07]?.['r'][_0x33e7f8(0x7a7)](0x2)||_0x33e7f8(0x30b),_0x50418d=_0x16fee(_0x2f3e42[_0x33e7f8(0xbc2)]||_0x2f3e42['stem']);_0x12096f+='-\x20ข้อ\x20'+(_0x125a07+0x1)+_0x33e7f8(0xc27)+_0x1c88ae+_0x33e7f8(0xed4)+_0x370ae4+_0x33e7f8(0xa0f)+_0x50418d+'\x5cn';if(_0x2f3e42['questionType']==='multiple_choice'&&_0x485769[_0x125a07]){const _0xac1aa=_0x485769[_0x125a07],_0x13599d=Object[_0x33e7f8(0xafa)](_0xac1aa)['filter'](_0xbe3f58=>parseInt(_0xbe3f58)!==_0x2f3e42['correctAnswerIndex'])['sort']((_0x33443d,_0x2df575)=>_0xac1aa[_0x2df575]['total']-_0xac1aa[_0x33443d][_0x33e7f8(0x475)])[0x0];if(_0x13599d&&_0xac1aa[_0x13599d][_0x33e7f8(0x475)]>0x0){const _0x220e7d=_0x16fee(_0xac1aa[_0x13599d]['text']);_0x12096f+=_0x33e7f8(0x4e8)+_0x220e7d+'\x22\x5cn';}}});const _0x3860d1=_0x381469(0xa8b)+_0x1c984a[_0x381469(0x8ba)]+_0x381469(0xe33)+_0x12096f+_0x381469(0x5d7),_0x2ccbf8={'type':_0x381469(0x24c),'properties':{'learningGaps':{'type':_0x381469(0x216),'items':{'type':'STRING'}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x381469(0x216),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'solution':{'type':_0x381469(0xa2b)}}}}},'required':['learningGaps',_0x381469(0xc66),'practiceProblems']},_0x43098d=await callAnalysisApi(_0x3860d1,_0x2ccbf8);await updateDoc(_0x1db84b,{'lessonPlan':_0x43098d});const _0x1bf688=_0x381469(0xa36)+_0x1c984a['topic']+_0x381469(0x82a)+_0x43098d[_0x381469(0x738)][_0x381469(0xa15)](_0x30e0fe=>'<li>'+_0x30e0fe+_0x381469(0x431))['join']('')+_0x381469(0x426)+_0x43098d['teachingContent']+_0x381469(0xef4)+_0x43098d[_0x381469(0xdfb)]['map'](_0x91c31=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x91c31[_0x381469(0x5f4)]+_0x381469(0xd56)+_0x91c31[_0x381469(0x318)]+_0x381469(0x559))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x381469(0xbeb)](_0x381469(0xb71))[_0x381469(0x211)]='แผนการสอน:\x20'+_0x1c984a[_0x381469(0x8ba)],document[_0x381469(0xbeb)](_0x381469(0x207))[_0x381469(0x28a)]=_0x1bf688,document[_0x381469(0xbeb)](_0x381469(0xcb0))[_0x381469(0xa1f)][_0x381469(0x711)]('hidden');if(window[_0x381469(0xeb4)])MathJax[_0x381469(0x61b)]();messageModal[_0x381469(0xa1f)][_0x381469(0x7e0)](_0x381469(0x9d8));}catch(_0x5a7070){console[_0x381469(0xd74)](_0x381469(0x813),_0x5a7070),showMessage(_0x381469(0x571)+_0x5a7070[_0x381469(0x68f)]);}}async function handleDuplicateQuiz(_0x3ad752){const _0x40203f=_0x4ce511;try{const _0x70a5cf=doc(db,_0x40203f(0xcaf)+appId+_0x40203f(0x24f),_0x3ad752),_0x26548f=await getDoc(_0x70a5cf);if(_0x26548f[_0x40203f(0x358)]()){const _0x5cb86b=_0x26548f['data']();let _0xfb6013='',_0x302cad=_0x40203f(0x510),_0x17209f=null;if(_0x5cb86b[_0x40203f(0x8fe)]==='pre-test'){let _0x9ecefd=_0x5cb86b[_0x40203f(0x8ba)][_0x40203f(0xea1)](_0x40203f(0x45d),'')[_0x40203f(0x88c)]();_0xfb6013=_0x40203f(0x1f1)+_0x9ecefd,_0x302cad=_0x40203f(0x4fc),_0x17209f=_0x3ad752;}else _0xfb6013='(คัดลอก)\x20'+_0x5cb86b[_0x40203f(0x8ba)];const _0x2eeac5={..._0x5cb86b,'topic':_0xfb6013,'createdAt':new Date()['toISOString'](),'quizMode':_0x302cad,'pairedQuizId':_0x17209f};let _0x2f2271;while(!![]){_0x2f2271=Math[_0x40203f(0x8c6)](0x3e8+Math[_0x40203f(0x3c9)]()*0x2328)['toString']();const _0x1347e4=await getDoc(doc(db,_0x40203f(0xcaf)+appId+'/public/data/quizzes',_0x2f2271));if(!_0x1347e4[_0x40203f(0x358)]())break;}const _0x2c3042=doc(db,_0x40203f(0xcaf)+appId+_0x40203f(0x24f),_0x2f2271);await setDoc(_0x2c3042,_0x2eeac5),_0x2eeac5[_0x40203f(0x8fe)]===_0x40203f(0x4fc)&&await updateDoc(_0x70a5cf,{'pairedQuizId':_0x2f2271}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x40203f(0x270));}catch(_0xac1094){console['error'](_0x40203f(0xcdf),_0xac1094),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x59e226,_0xd01aaf=!![]){const _0x2b0e96=_0x4ce511;try{const _0x2e518a=writeBatch(db),_0x339779=collection(db,_0x2b0e96(0xcaf)+appId+'/public/data/quizzes/'+_0x59e226+_0x2b0e96(0x65f)),_0x4d271a=await getDocs(_0x339779);_0x4d271a['forEach'](_0x77306c=>{_0x2e518a['delete'](doc(_0x339779,_0x77306c['id']));});const _0x1bc47a=doc(db,_0x2b0e96(0xcaf)+appId+'/public/data/quizzes',_0x59e226);_0x2e518a[_0x2b0e96(0xf45)](_0x1bc47a),await _0x2e518a['commit']();try{console[_0x2b0e96(0x2c0)](_0x2b0e96(0x363)+_0x59e226+_0x2b0e96(0x51b));const _0x424ae4=collection(db,_0x2b0e96(0xcaf)+appId+'/public/data/blueprintProjects'),_0x530611=await getDocs(_0x424ae4),_0x4afee6=[];_0x530611[_0x2b0e96(0xbd3)](_0x3e8d4b=>{const _0x2322ef=_0x2b0e96,_0x20a1d9=_0x3e8d4b[_0x2322ef(0xbfb)](),_0x611bd4=_0x20a1d9['topics']||{};let _0xeb0cdc=![];for(const _0x45b7e4 in _0x611bd4){const _0x3090b7=_0x611bd4[_0x45b7e4];if(_0x3090b7['linkedQuizIds']&&_0x3090b7['linkedQuizIds']['includes'](_0x59e226)){_0xeb0cdc=!![];const _0x113d0c=doc(db,_0x2322ef(0xcaf)+appId+_0x2322ef(0xef7),_0x3e8d4b['id']),_0x1ab4ac=updateDoc(_0x113d0c,{[_0x2322ef(0xba5)+_0x45b7e4+_0x2322ef(0x7d2)]:arrayRemove(_0x59e226)});_0x4afee6[_0x2322ef(0x9ba)](_0x1ab4ac);}}}),_0x4afee6[_0x2b0e96(0x81c)]>0x0&&(await Promise[_0x2b0e96(0x408)](_0x4afee6),console[_0x2b0e96(0x2c0)](_0x2b0e96(0x884)+_0x4afee6[_0x2b0e96(0x81c)]+_0x2b0e96(0xd0d)+_0x59e226+'.'));}catch(_0x185406){console[_0x2b0e96(0xd74)](_0x2b0e96(0xda8),_0x185406);}_0xd01aaf&&showMessage(_0x2b0e96(0x2e3));}catch(_0x336f7d){console[_0x2b0e96(0xd74)](_0x2b0e96(0x886),_0x336f7d),_0xd01aaf&&showMessage(_0x2b0e96(0x7e8));}}async function showQuizDetailView(_0x4950d4){const _0x3ac39d=_0x4ce511;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x1180b0=doc(db,_0x3ac39d(0xcaf)+appId+_0x3ac39d(0x24f),_0x4950d4),_0x36e42f=await getDoc(_0x1180b0);if(!_0x36e42f[_0x3ac39d(0x358)]()){showMessage(_0x3ac39d(0x5c0));return;}const _0x32a2ee={'id':_0x36e42f['id'],..._0x36e42f[_0x3ac39d(0xbfb)]()};currentQuizData=_0x32a2ee;const _0x555773=doc(db,_0x3ac39d(0xcaf)+appId+_0x3ac39d(0x74c),_0x32a2ee[_0x3ac39d(0xc3a)]),_0x378f0e=await getDoc(_0x555773);_0x378f0e['exists']()?(currentProjectData=_0x378f0e[_0x3ac39d(0xbfb)](),currentProjectId=_0x32a2ee[_0x3ac39d(0xc3a)]):(currentProjectData={'students':[]},currentProjectId=_0x32a2ee[_0x3ac39d(0xc3a)]);document['getElementById'](_0x3ac39d(0xe2f))['textContent']=_0x32a2ee['topic'],document['getElementById'](_0x3ac39d(0xd73))[_0x3ac39d(0x211)]=_0x4950d4;const _0x312016=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x4950d4,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x312016,_0x232418=>{const _0x4895d9=_0x3ac39d,_0x41dcbf=_0x232418[_0x4895d9(0xf3c)][_0x4895d9(0xa15)](_0x1fa1e6=>({'id':_0x1fa1e6['id'],..._0x1fa1e6[_0x4895d9(0xbfb)]()}));currentSubmissions=_0x41dcbf;const _0x405bac=_0x41dcbf[_0x4895d9(0x395)](_0x18e45e=>_0x18e45e['attempts']&&_0x18e45e[_0x4895d9(0x8d7)][_0x4895d9(0x81c)]>0x0);renderBehaviorLog(_0x41dcbf),renderAnswerGrid(currentProjectData['students'],_0x405bac,_0x32a2ee),renderAnalytics(_0x32a2ee,_0x405bac),renderQuizResultsTable(currentProjectData['students'],_0x41dcbf,_0x32a2ee),renderQuizLeaderboard(_0x405bac,_0x32a2ee,_0x4895d9(0xe08));}),showView(_0x3ac39d(0x7e1));}catch(_0x5a9923){console[_0x3ac39d(0xd74)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x5a9923),showMessage(_0x3ac39d(0x606));}}function renderAnswerGrid(_0x3437b8,_0x2fd66d,_0xea045d){const _0x2b2f60=_0x4ce511,_0xb7534b=document[_0x2b2f60(0xbeb)]('answer-grid-container');if(!_0xb7534b)return;if(!_0x3437b8||_0x3437b8['length']===0x0){_0xb7534b[_0x2b2f60(0x28a)]=_0x2b2f60(0x706);return;}const _0x31c127=_0xea045d[_0x2b2f60(0x7bb)],_0x478bfe=_0x2fd66d[_0x2b2f60(0x6f2)]((_0x216f43,_0xab9332)=>{return _0x216f43[_0xab9332['studentName']]=_0xab9332,_0x216f43;},{}),_0x299024=_0x9d1e3d=>String[_0x2b2f60(0x540)](0x41+_0x9d1e3d),_0x500bad=_0x142ee8=>{const _0x3c7232=_0x2b2f60,_0x3a3a3d=_0x142ee8[_0x3c7232(0xd06)]||_0xea045d['quizType'];switch(_0x3a3a3d){case _0x3c7232(0x8be):return _0x142ee8[_0x3c7232(0xdf0)]&&_0x142ee8[_0x3c7232(0xdf0)][_0x3c7232(0x81c)]>_0x142ee8['correctAnswerIndex']?_0x299024(_0x142ee8['correctAnswerIndex']):'-';case _0x3c7232(0x4ac):const _0x5713c2=_0x142ee8[_0x3c7232(0xdec)]===!![]||String(_0x142ee8[_0x3c7232(0xdec)])[_0x3c7232(0x298)]()===_0x3c7232(0xdff);return _0x5713c2?_0x3c7232(0x65a):_0x3c7232(0xe13);case _0x3c7232(0x700):return _0x142ee8[_0x3c7232(0x5c9)]||'-';case _0x3c7232(0xc63):return _0x3c7232(0x354);default:return'-';}},_0x4c9c09=(_0x5ec1b6,_0x42677c)=>{const _0x1f4c33=_0x2b2f60;if(_0x42677c[_0x1f4c33(0x64e)]===null||_0x42677c[_0x1f4c33(0x64e)]===undefined)return'-';const _0x4b2e3f=_0x5ec1b6[_0x1f4c33(0xd06)]||_0xea045d[_0x1f4c33(0xd15)];switch(_0x4b2e3f){case _0x1f4c33(0x8be):const _0x5c8345=_0x5ec1b6[_0x1f4c33(0xdf0)]['findIndex'](_0x448a1f=>_0x448a1f===_0x42677c['answerText']);return _0x5c8345!==-0x1?_0x299024(_0x5c8345):_0x42677c[_0x1f4c33(0xd08)]||'-';case'true_false':if(_0x42677c[_0x1f4c33(0x64e)]=='0'||_0x42677c['answer']===!![]||_0x42677c[_0x1f4c33(0x64e)]===_0x1f4c33(0xdff))return _0x1f4c33(0x65a);return _0x1f4c33(0xe13);default:return _0x42677c[_0x1f4c33(0x64e)];}};let _0x4152b7=_0x2b2f60(0x73a)+_0x31c127[_0x2b2f60(0xa15)]((_0x320502,_0x29d31f)=>_0x2b2f60(0x1f0)+(_0x29d31f+0x1)+'</th>')['join']('')+_0x2b2f60(0x22e)+_0x31c127[_0x2b2f60(0xa15)](_0x697f3a=>_0x2b2f60(0xb83)+_0x500bad(_0x697f3a)+_0x2b2f60(0x49e))[_0x2b2f60(0x919)]('')+_0x2b2f60(0xec1);_0x3437b8['forEach'](_0x5b5bef=>{const _0x1bf7ca=_0x2b2f60;_0x4152b7+='<tr>',_0x4152b7+=_0x1bf7ca(0x70a)+_0x5b5bef+_0x1bf7ca(0x49e);const _0x43bacb=_0x478bfe[_0x5b5bef];if(_0x43bacb){const _0x417565=_0x43bacb[_0x1bf7ca(0x8d7)][_0x43bacb[_0x1bf7ca(0x8d7)][_0x1bf7ca(0x81c)]-0x1];_0x31c127['forEach']((_0x324566,_0x5f339a)=>{const _0x108092=_0x1bf7ca,_0x1c6cd7=_0x417565[_0x108092(0xb0f)][_0x108092(0x340)](_0x3a2139=>_0x3a2139[_0x108092(0x4ed)]===_0x324566['id']);if(_0x1c6cd7){let _0x5a69cc='';const _0x12e289=_0x1c6cd7[_0x108092(0xc70)]===!![],_0x57972c=_0x1c6cd7['wasConfident']===!![]||_0x1c6cd7[_0x108092(0x2c6)]===_0x108092(0xd80),_0x2dac5a=_0x1c6cd7[_0x108092(0x344)];if(_0x2dac5a==='wagerMultiplier')_0x12e289?_0x5a69cc=_0x108092(0xa48):_0x5a69cc=_0x108092(0x428);else _0x57972c?_0x5a69cc=_0x12e289?'bg-green-400\x20text-white\x20font-bold':_0x108092(0x46c):_0x5a69cc=_0x12e289?_0x108092(0xbed):_0x108092(0xae4);_0x4152b7+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x5a69cc+'\x22>'+_0x4c9c09(_0x324566,_0x1c6cd7)+_0x108092(0x49e);}else _0x4152b7+=_0x108092(0xb67);});}else _0x4152b7+=_0x31c127[_0x1bf7ca(0xa15)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x1bf7ca(0x919)]('');_0x4152b7+=_0x1bf7ca(0xc72);}),_0x4152b7+=_0x2b2f60(0xcc3),_0xb7534b[_0x2b2f60(0x28a)]=_0x4152b7;}function renderQuizResultsTable(_0xeb434e,_0x43b89f,_0x3c42fd){const _0xbfdda0=_0x4ce511,_0xa60032=_0x43b89f['reduce']((_0x183073,_0x5406c4)=>{return _0x183073[_0x5406c4['studentName']]=_0x5406c4,_0x183073;},{}),_0xf9ec0c=document['querySelector'](_0xbfdda0(0x946));_0xf9ec0c&&!_0xf9ec0c['innerHTML'][_0xbfdda0(0x87a)](_0xbfdda0(0x498))&&(_0xf9ec0c['innerHTML']+=_0xbfdda0(0xf2f));const _0x55b6c0=document[_0xbfdda0(0xbeb)](_0xbfdda0(0x99c));if(!_0xeb434e||_0xeb434e[_0xbfdda0(0x81c)]===0x0){_0x55b6c0['innerHTML']=_0xbfdda0(0xb2d);return;}const _0x3b186f=_0x3c42fd[_0xbfdda0(0xda7)]===!![],_0x3ed6a8=_0x3c42fd[_0xbfdda0(0x4ea)]?.[_0xbfdda0(0x2b5)]??-0x1;let _0xe6bd12='';_0xeb434e[_0xbfdda0(0xbd3)](_0x2954ce=>{const _0x3bab5d=_0xbfdda0,_0x4756a7=_0xa60032[_0x2954ce];let _0x584817=_0x3bab5d(0x51d)+(_0x3b186f?_0x3bab5d(0x6ff):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x3b186f?'สอบซ่อม':'สอบปกติ')+_0x3bab5d(0xb0d);if(_0x4756a7){if(_0x4756a7[_0x3bab5d(0x8d7)]&&_0x4756a7[_0x3bab5d(0x8d7)][_0x3bab5d(0x81c)]>0x0){let _0x57e255=_0x3b186f?_0x4756a7[_0x3bab5d(0x409)]===_0x4756a7[_0x3bab5d(0xb7c)]:_0x3ed6a8!==-0x1&&_0x4756a7[_0x3bab5d(0x409)]>=_0x3ed6a8;const _0x81dca5=_0x57e255?_0x3bab5d(0xbed):_0x3bab5d(0xae4),_0x37406f=_0x57e255?_0x3bab5d(0x56b):_0x3bab5d(0x3b4),_0x43b57d=_0x3bab5d(0xf29)+_0x81dca5+'\x22>'+_0x37406f+_0x3bab5d(0xb0d),_0x7921fd='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x4756a7[_0x3bab5d(0x8d7)]?.[_0x3bab5d(0x81c)]||0x1)+_0x3bab5d(0xab7),_0x8da73e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>'+(_0x4756a7[_0x3bab5d(0x636)]||0x0)[_0x3bab5d(0x4d2)]()+_0x3bab5d(0xe3f)+_0x2954ce+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22'+(_0x4756a7[_0x3bab5d(0x636)]||0x0)+_0x3bab5d(0xc6f);_0xe6bd12+=_0x3bab5d(0xa49)+_0x2954ce+_0x3bab5d(0x5ca)+_0x4756a7[_0x3bab5d(0x409)]+'\x20/\x20'+_0x4756a7['totalQuestions']+_0x3bab5d(0x53f)+_0x43b57d+_0x3bab5d(0x337)+_0x584817+_0x3bab5d(0x2c8)+_0x4756a7[_0x3bab5d(0x440)]+_0x3bab5d(0xeac)+_0x4756a7[_0x3bab5d(0xb7c)]+_0x3bab5d(0x5b3)+_0x4756a7[_0x3bab5d(0xbd0)]+_0x3bab5d(0xeac)+_0x4756a7[_0x3bab5d(0xb7c)]+_0x3bab5d(0x46e)+_0x8da73e+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7921fd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x4756a7['latestSubmittedAt'])[_0x3bab5d(0x4d2)](_0x3bab5d(0xb2a))+_0x3bab5d(0x581)+_0x2954ce+_0x3bab5d(0x1e3);}else{const _0x50d633=_0x3bab5d(0x23e);_0xe6bd12+=_0x3bab5d(0xaef)+_0x2954ce+_0x3bab5d(0xb50)+_0x584817+_0x3bab5d(0xeb0)+_0x50d633+_0x3bab5d(0xf38)+new Date(_0x4756a7[_0x3bab5d(0x91e)])[_0x3bab5d(0x4d2)]('th-TH')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x2954ce+_0x3bab5d(0x1e3);}}else{const _0x28cde7=_0x3bab5d(0x438);_0xe6bd12+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x2954ce+_0x3bab5d(0x543)+_0x584817+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28cde7+_0x3bab5d(0xccd);}}),_0x55b6c0['innerHTML']=_0xe6bd12;}async function confirmRenameQuiz(){const _0x16dc4b=_0x4ce511,_0xd00d1=document[_0x16dc4b(0xbeb)](_0x16dc4b(0x8fa))[_0x16dc4b(0xc07)]['trim']();if(!_0xd00d1){showMessage(_0x16dc4b(0x4e5));return;}if(!actionTargetId)return;const _0x1553a7=doc(db,_0x16dc4b(0xcaf)+appId+_0x16dc4b(0x24f),actionTargetId);try{await updateDoc(_0x1553a7,{'topic':_0xd00d1}),showMessage(_0x16dc4b(0x5f3)),renameQuizModal[_0x16dc4b(0xa1f)][_0x16dc4b(0x7e0)](_0x16dc4b(0x9d8)),actionTargetId=null;}catch(_0x258d88){console[_0x16dc4b(0xd74)](_0x16dc4b(0x818),_0x258d88),showMessage(_0x16dc4b(0x47f));}}async function handleMoveQuiz(_0x4e64ee){const _0x5ea0fe=_0x4ce511;actionTargetId=_0x4e64ee;const _0x39e7d6=document[_0x5ea0fe(0xbeb)](_0x5ea0fe(0x546));_0x39e7d6[_0x5ea0fe(0x28a)]=_0x5ea0fe(0xce6),moveQuizModal[_0x5ea0fe(0xa1f)][_0x5ea0fe(0x711)](_0x5ea0fe(0x9d8));try{const _0x50eaf2=collection(db,_0x5ea0fe(0xcaf)+appId+_0x5ea0fe(0x74c)),_0x484f82=await getDocs(_0x50eaf2),_0x1382c8=_0x484f82[_0x5ea0fe(0xf3c)][_0x5ea0fe(0xa15)](_0x1ad0f3=>({'id':_0x1ad0f3['id'],..._0x1ad0f3['data']()})),_0x2d4eeb=_0x1382c8['filter'](_0x1db61f=>_0x1db61f['id']!==currentProjectId);if(_0x2d4eeb[_0x5ea0fe(0x81c)]===0x0){_0x39e7d6[_0x5ea0fe(0x28a)]=_0x5ea0fe(0x605),document['getElementById'](_0x5ea0fe(0xa29))[_0x5ea0fe(0x272)]=!![];return;}_0x39e7d6[_0x5ea0fe(0x28a)]=_0x2d4eeb[_0x5ea0fe(0xa15)](_0x21bc82=>_0x5ea0fe(0xd26)+_0x21bc82['id']+'\x22>'+_0x21bc82[_0x5ea0fe(0x9e0)]+'</option>')['join'](''),document[_0x5ea0fe(0xbeb)](_0x5ea0fe(0xa29))['disabled']=![];}catch(_0x4352ad){console[_0x5ea0fe(0xd74)](_0x5ea0fe(0x75f),_0x4352ad),showMessage(_0x5ea0fe(0x820)),moveQuizModal[_0x5ea0fe(0xa1f)]['add'](_0x5ea0fe(0x9d8));}}async function confirmMoveQuiz(){const _0x212eae=_0x4ce511,_0x1e3177=document['getElementById'](_0x212eae(0x546))[_0x212eae(0xc07)];if(!_0x1e3177){showMessage(_0x212eae(0xeda));return;}if(!actionTargetId)return;const _0x466739=doc(db,_0x212eae(0xcaf)+appId+_0x212eae(0x24f),actionTargetId);try{await updateDoc(_0x466739,{'projectId':_0x1e3177}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal['classList'][_0x212eae(0x7e0)](_0x212eae(0x9d8)),actionTargetId=null;}catch(_0x24598e){console[_0x212eae(0xd74)]('Error\x20moving\x20quiz:',_0x24598e),showMessage(_0x212eae(0xee2));}}async function handleQuizSettings(_0x2e38d3){const _0x5b9e64=_0x4ce511;actionTargetId=_0x2e38d3;const _0x51ef89=doc(db,_0x5b9e64(0xcaf)+appId+'/public/data/quizzes',_0x2e38d3);try{const _0x544856=await getDoc(_0x51ef89);if(_0x544856[_0x5b9e64(0x358)]()){const _0x57a20e=_0x544856[_0x5b9e64(0xbfb)](),_0xa32526=_0x57a20e[_0x5b9e64(0x4ea)]||{},_0x529076=_0x57a20e[_0x5b9e64(0x7bb)][_0x5b9e64(0x81c)];document['getElementById'](_0x5b9e64(0x26a))[_0x5b9e64(0xc07)]=_0xa32526[_0x5b9e64(0xd3a)]||_0x5b9e64(0x434),document[_0x5b9e64(0xbeb)](_0x5b9e64(0xa6b))['value']=_0xa32526[_0x5b9e64(0x657)]||_0x5b9e64(0xac0),document[_0x5b9e64(0xbeb)](_0x5b9e64(0x828))['value']=_0xa32526[_0x5b9e64(0xaa5)]||'none',document[_0x5b9e64(0xbeb)](_0x5b9e64(0x561))[_0x5b9e64(0xc07)]=_0xa32526[_0x5b9e64(0x4f8)]||0xa,document[_0x5b9e64(0xbeb)]('modal-passing-score-input')[_0x5b9e64(0xc07)]=_0xa32526['passingScore']||Math[_0x5b9e64(0x8c6)](_0x529076/0x2),document[_0x5b9e64(0xbeb)](_0x5b9e64(0xbb6))['max']=_0x529076,document['getElementById'](_0x5b9e64(0x693))['checked']=_0xa32526[_0x5b9e64(0xa83)]||![],document[_0x5b9e64(0xbeb)](_0x5b9e64(0x878))['checked']=_0xa32526['loopUntilPass']||![];const _0x57731f=_0xa32526[_0x5b9e64(0xb68)]||![];document[_0x5b9e64(0xbeb)](_0x5b9e64(0xce0))['checked']=_0x57731f,document[_0x5b9e64(0xbeb)](_0x5b9e64(0x766))[_0x5b9e64(0xc07)]=_0xa32526[_0x5b9e64(0x7e6)]||'checkbox';const _0x354615=document[_0x5b9e64(0xbeb)](_0x5b9e64(0x83b));_0x354615['classList'][_0x5b9e64(0x4c3)](_0x5b9e64(0x9d8),!_0x57731f),document[_0x5b9e64(0xbeb)](_0x5b9e64(0x828))[_0x5b9e64(0xe66)](new Event('change')),quizSettingsModal[_0x5b9e64(0xa1f)][_0x5b9e64(0x711)](_0x5b9e64(0x9d8));}else showMessage(_0x5b9e64(0x5c0));}catch(_0x41049c){console[_0x5b9e64(0xd74)](_0x5b9e64(0xf0e),_0x41049c),showMessage(_0x5b9e64(0x67a));}}async function confirmQuizSettings(){const _0x3b844d=_0x4ce511;if(!actionTargetId)return;const _0x220ed4=doc(db,'artifacts/'+appId+_0x3b844d(0x24f),actionTargetId),_0xa9f18c={'shuffle':document[_0x3b844d(0xbeb)](_0x3b844d(0x26a))[_0x3b844d(0xc07)],'resultsDisplay':document[_0x3b844d(0xbeb)](_0x3b844d(0xa6b))[_0x3b844d(0xc07)],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x3b844d(0xc07)],'timerDuration':parseInt(document['getElementById'](_0x3b844d(0x561))[_0x3b844d(0xc07)])||0xa,'passingScore':parseInt(document[_0x3b844d(0xbeb)](_0x3b844d(0xbb6))[_0x3b844d(0xc07)])||0x0,'isAdaptive':document['getElementById'](_0x3b844d(0x693))[_0x3b844d(0x375)],'loopUntilPass':document[_0x3b844d(0xbeb)](_0x3b844d(0x878))[_0x3b844d(0x375)],'isConfidenceScoringEnabled':document[_0x3b844d(0xbeb)](_0x3b844d(0xce0))[_0x3b844d(0x375)],'confidenceMode':document[_0x3b844d(0xbeb)]('modal-confidence-mode-select')[_0x3b844d(0xc07)]};try{await updateDoc(_0x220ed4,{'settings':_0xa9f18c}),showMessage(_0x3b844d(0x3ed)),quizSettingsModal[_0x3b844d(0xa1f)][_0x3b844d(0x7e0)](_0x3b844d(0x9d8)),actionTargetId=null;}catch(_0x51122a){console[_0x3b844d(0xd74)](_0x3b844d(0xf17),_0x51122a),showMessage(_0x3b844d(0xe5b));}}async function confirmQuizStatus(){const _0x36c422=_0x4ce511;if(!actionTargetId)return;const _0xa41bc3=doc(db,'artifacts/'+appId+_0x36c422(0x24f),actionTargetId),_0x1c6851=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x1c6851){showMessage(_0x36c422(0xc10));return;}const _0x354a3b=_0x1c6851[_0x36c422(0xc07)];let _0x47ef28={};if(_0x354a3b===_0x36c422(0x829)||_0x354a3b===_0x36c422(0x966))_0x47ef28={'status':_0x354a3b,'startTime':null,'endTime':null};else{if(_0x354a3b===_0x36c422(0x759)){const _0x3116dc=document[_0x36c422(0xbeb)](_0x36c422(0x88e))[_0x36c422(0xc07)],_0x4c497d=document[_0x36c422(0xbeb)]('quiz-end-time')[_0x36c422(0xc07)];if(!_0x3116dc&&!_0x4c497d){showMessage(_0x36c422(0xde5));return;}_0x47ef28={'status':'scheduled','startTime':_0x3116dc?new Date(_0x3116dc)[_0x36c422(0x760)]():null,'endTime':_0x4c497d?new Date(_0x4c497d)[_0x36c422(0x760)]():null};}}try{await updateDoc(_0xa41bc3,_0x47ef28),showMessage(_0x36c422(0xecf)),quizStatusModal[_0x36c422(0xa1f)][_0x36c422(0x7e0)](_0x36c422(0x9d8)),actionTargetId=null;}catch(_0x59741d){console[_0x36c422(0xd74)](_0x36c422(0x319),_0x59741d),showMessage(_0x36c422(0x782));}}function listenForStudentProfiles(_0x29cd73){const _0xd17fc5=_0x4ce511,_0x2318ef=collection(db,'artifacts/'+appId+_0xd17fc5(0xeab)+_0x29cd73+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x2318ef,_0x16e2ab=>{const _0x1b48af=_0xd17fc5,_0x559cd7=_0x16e2ab['docs']['map'](_0x1b5473=>_0x1b5473[_0x1b48af(0xbfb)]());renderLeaderboard(_0x559cd7,_0x1b48af(0x607));},_0x328dd7=>{const _0x2d7e82=_0xd17fc5;console[_0x2d7e82(0xd74)]('Error\x20listening\x20for\x20student\x20profiles:',_0x328dd7),document[_0x2d7e82(0xbeb)](_0x2d7e82(0x607))[_0x2d7e82(0x28a)]=_0x2d7e82(0xcd1);});}function renderLeaderboard(_0x157254,_0x16af66){const _0x480129=_0x4ce511,_0x2e27c8=document[_0x480129(0xbeb)](_0x16af66);if(!_0x157254||_0x157254['length']===0x0){_0x2e27c8[_0x480129(0x28a)]=_0x480129(0xa20);return;}_0x157254['sort']((_0x3682c2,_0x3811af)=>{const _0x5091b8=_0x480129,_0x2047bc=(_0x3811af[_0x5091b8(0xaa1)]||0x0)-(_0x3682c2[_0x5091b8(0xaa1)]||0x0);if(_0x2047bc!==0x0)return _0x2047bc;const _0x23f428=(_0x3811af[_0x5091b8(0x7f8)]?.[_0x5091b8(0x4f2)]||0x0)-(_0x3682c2[_0x5091b8(0x7f8)]?.['specialist']||0x0);if(_0x23f428!==0x0)return _0x23f428;const _0x1a858c=(_0x3811af[_0x5091b8(0x7f8)]?.[_0x5091b8(0x1c9)]||0x0)-(_0x3682c2['badgesCount']?.['first_try_ace']||0x0);if(_0x1a858c!==0x0)return _0x1a858c;const _0x190379=(_0x3811af[_0x5091b8(0x7f8)]?.['perfect_score']||0x0)-(_0x3682c2[_0x5091b8(0x7f8)]?.['perfect_score']||0x0);if(_0x190379!==0x0)return _0x190379;const _0x3e5c1e=(_0x3811af[_0x5091b8(0x7f8)]?.['quick_thinker']||0x0)-(_0x3682c2['badgesCount']?.[_0x5091b8(0xb9b)]||0x0);if(_0x3e5c1e!==0x0)return _0x3e5c1e;return _0x3682c2[_0x5091b8(0x8df)]['localeCompare'](_0x3811af['studentName'],'th');});let _0x4e884a='';_0x157254[_0x480129(0xbd3)]((_0x18e1d7,_0x2a0ae6)=>{const _0x597361=_0x480129,_0x265445=_0x2a0ae6+0x1,_0x439fb3=_0x18e1d7['badgesCount']||{};let _0x3160ca='';const _0x489f44=['specialist',_0x597361(0xe3b),_0x597361(0x1c9),'quick_thinker'];_0x489f44[_0x597361(0xbd3)](_0xc449f=>{const _0x57adac=_0x597361;if(_0x439fb3[_0xc449f]>0x0){const _0x5b8444=Object[_0x57adac(0xb18)](BADGES)[_0x57adac(0x340)](_0x3b6b45=>_0x3b6b45['id']===_0xc449f);_0x5b8444&&(_0xc449f===_0x57adac(0x4f2)?_0x3160ca+=_0x57adac(0x9dc)+_0x5b8444['name']+_0x57adac(0xdee)+_0x5b8444[_0x57adac(0xca6)]+_0x57adac(0x4c6):_0x3160ca+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x5b8444[_0x57adac(0x631)]+'\x20('+_0x439fb3[_0xc449f]+_0x57adac(0x33d)+_0x5b8444[_0x57adac(0xca6)]+_0x57adac(0x6a7)+_0x439fb3[_0xc449f]+_0x57adac(0x90c));}}),_0x4e884a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x265445+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x18e1d7[_0x597361(0x8df)]+_0x597361(0x569)+(_0x18e1d7[_0x597361(0xaa1)]||0x0)['toLocaleString']()+_0x597361(0x46e)+(_0x3160ca||'-')+_0x597361(0xb0e);}),_0x2e27c8[_0x480129(0x28a)]=_0x4e884a;}function displayLoopScreen(_0x3fca7f,_0x15205c,_0xb298bc){const _0x388e71=_0x4ce511;let _0x27e3ff='';_0xb298bc!==_0x388e71(0xb28)&&(_0x27e3ff=_0x388e71(0x4c4)+_0x3fca7f+'\x20/\x20'+_0x15205c+_0x388e71(0x6d9));const _0x2fe163='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27e3ff+_0x388e71(0x7e5);studentResultArea[_0x388e71(0x28a)]=_0x2fe163,studentResultArea[_0x388e71(0xa1f)][_0x388e71(0x711)]('hidden'),studentQuizArea[_0x388e71(0xa1f)][_0x388e71(0x7e0)]('hidden'),document['getElementById'](_0x388e71(0xa52))[_0x388e71(0x79a)]('click',()=>{const _0x35ed85=_0x388e71;studentResultArea[_0x35ed85(0xa1f)][_0x35ed85(0x7e0)](_0x35ed85(0x9d8)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4e214d,_0x3daf3c,_0x1be07f){const _0x372478=_0x4ce511,_0x473bab=document[_0x372478(0xbeb)](_0x1be07f),_0x55f06f=_0x1be07f===_0x372478(0x3e9),_0x2e46b8=_0x3daf3c['questions'][_0x372478(0x81c)],_0xcdd5c0=document['getElementById'](_0x1be07f)[_0x372478(0x253)](_0x372478(0x609));if(_0xcdd5c0&&!_0x55f06f){const _0x55961c=_0xcdd5c0[_0x372478(0x2d0)](_0x372478(0x3b0));_0x55961c[_0x372478(0x28a)]=_0x372478(0xa39);}if(!_0x4e214d||_0x4e214d[_0x372478(0x81c)]===0x0){_0x473bab[_0x372478(0x28a)]=_0x372478(0xba2)+(_0x55f06f?0x6:0x8)+_0x372478(0x470);return;}const _0x1b1594=[..._0x4e214d];_0x1b1594[_0x372478(0x2b3)]((_0x79c9e2,_0x1eb30d)=>{const _0x3a6746=_0x372478;let _0x2ffd8e,_0x20ad37;switch(quizLeaderboardSortBy){case _0x3a6746(0x8df):_0x2ffd8e=_0x79c9e2[_0x3a6746(0x8df)]||'',_0x20ad37=_0x1eb30d[_0x3a6746(0x8df)]||'';return quizLeaderboardSortOrder===_0x3a6746(0xe6b)?_0x2ffd8e['localeCompare'](_0x20ad37,'th'):_0x20ad37[_0x3a6746(0xac1)](_0x2ffd8e,'th');case _0x3a6746(0x636):_0x2ffd8e=_0x79c9e2[_0x3a6746(0x636)]||0x0,_0x20ad37=_0x1eb30d[_0x3a6746(0x636)]||0x0;break;case _0x3a6746(0x8d7):_0x2ffd8e=_0x79c9e2[_0x3a6746(0x8d7)]?.[_0x3a6746(0x81c)]||0x1,_0x20ad37=_0x1eb30d[_0x3a6746(0x8d7)]?.[_0x3a6746(0x81c)]||0x1;break;case _0x3a6746(0xe97):_0x2ffd8e=new Date(_0x79c9e2[_0x3a6746(0xe97)]),_0x20ad37=new Date(_0x1eb30d[_0x3a6746(0xe97)]);break;case _0x3a6746(0x409):default:_0x2ffd8e=_0x79c9e2[_0x3a6746(0x409)],_0x20ad37=_0x1eb30d[_0x3a6746(0x409)];break;}if(_0x2ffd8e<_0x20ad37)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x2ffd8e>_0x20ad37)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x4b2c35=_0x3daf3c[_0x372478(0xda7)]===!![],_0xdced3b=_0x3daf3c[_0x372478(0x4ea)]?.[_0x372478(0x2b5)]??-0x1;let _0x1f0e0f='';_0x1b1594[_0x372478(0xbd3)]((_0xbf099d,_0xf67ff9)=>{const _0x185cc5=_0x372478,_0x3a1da8=_0xf67ff9+0x1;let _0x2cfad9=_0x185cc5(0x949);if(_0x4b2c35||_0xdced3b!==-0x1){let _0x29bdde=_0x4b2c35?_0xbf099d['bestScore']===_0x2e46b8:_0xbf099d[_0x185cc5(0x409)]>=_0xdced3b;const _0x5ef8cd=_0x29bdde?_0x185cc5(0xbed):_0x185cc5(0xae4),_0x322804=_0x29bdde?_0x185cc5(0x56b):_0x185cc5(0x3b4);_0x2cfad9=_0x185cc5(0x444)+_0x5ef8cd+'\x22>'+_0x322804+_0x185cc5(0xb0d);}const _0x239955=_0xbf099d[_0x185cc5(0x8d7)][_0xbf099d['attempts'][_0x185cc5(0x81c)]-0x1],_0x3137e1=(_0x239955['badges']||[])[_0x185cc5(0xa15)](_0x2bc89e=>{const _0x42cc01=_0x185cc5,_0x11fe87=Object[_0x42cc01(0xb18)](BADGES)[_0x42cc01(0x340)](_0x1a3cd4=>_0x1a3cd4['id']===_0x2bc89e);return _0x11fe87?_0x42cc01(0xf3d)+_0x11fe87[_0x42cc01(0x631)]+'\x22><i\x20class=\x22fas\x20'+_0x11fe87['icon']+_0x42cc01(0xed2):'';})[_0x185cc5(0x919)]('');_0x1f0e0f+=_0x185cc5(0x683)+_0x3a1da8+_0x185cc5(0x6cf)+_0xbf099d[_0x185cc5(0x8df)]+_0x185cc5(0xa56)+_0xbf099d[_0x185cc5(0x409)]+_0x185cc5(0xeac)+_0x2e46b8+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2cfad9+_0x185cc5(0x323)+(_0xbf099d[_0x185cc5(0x636)]||0x0)['toLocaleString']()+_0x185cc5(0xd28)+(_0x55f06f?'':_0x185cc5(0xece)+(_0xbf099d[_0x185cc5(0x8d7)]?.[_0x185cc5(0x81c)]||0x1)+_0x185cc5(0x49e))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x55f06f?'':_0x185cc5(0xd77)+new Date(_0xbf099d[_0x185cc5(0xe97)])[_0x185cc5(0x4d2)](_0x185cc5(0xb2a))+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x3137e1||'-')+_0x185cc5(0x28b);}),_0x473bab[_0x372478(0x28a)]=_0x1f0e0f,_0xcdd5c0&&!_0x55f06f&&_0xcdd5c0[_0x372478(0xb02)]('thead\x20.sortable-header')[_0x372478(0xbd3)](_0x156fa0=>{const _0xe650a6=_0x372478,_0x2e8f4b=_0x156fa0[_0xe650a6(0x2d0)](_0xe650a6(0x2d1));if(_0x2e8f4b)_0x2e8f4b[_0xe650a6(0x711)]();_0x156fa0[_0xe650a6(0x6b1)][_0xe650a6(0x2b3)]===quizLeaderboardSortBy&&(_0x156fa0[_0xe650a6(0x28a)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0xe650a6(0xe6b)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x3c95cb){const _0x28b3f7=_0x4ce511;if(!currentQuizData||!currentQuizData['id']||!_0x3c95cb){showMessage(_0x28b3f7(0xf46));return;}showConfirmation(_0x28b3f7(0x501)+_0x3c95cb+_0x28b3f7(0x8dc),async()=>{const _0x9d3473=_0x28b3f7,_0x1cb0b3=currentQuizData['id'],_0x53ab23=doc(db,_0x9d3473(0xcaf)+appId+'/public/data/quizzes/'+_0x1cb0b3+_0x9d3473(0x65f),_0x3c95cb);try{await deleteDoc(_0x53ab23),showMessage('ลบผลสอบของ\x20'+_0x3c95cb+_0x9d3473(0x63d));}catch(_0x506540){console[_0x9d3473(0xd74)](_0x9d3473(0x7e3),_0x506540),showMessage(_0x9d3473(0x6b7));}});}async function handleLoadQuiz(){const _0x2010d9=_0x4ce511,_0x2d2dd0=document['getElementById'](_0x2010d9(0x20f)),_0x185de9=_0x2d2dd0[_0x2010d9(0xc07)][_0x2010d9(0x88c)]();if(!_0x185de9){showMessage(_0x2010d9(0x7dd));return;}loadQuizBtn[_0x2010d9(0x272)]=!![],loadQuizBtn[_0x2010d9(0x28a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x28cc27=doc(db,_0x2010d9(0xcaf)+appId+_0x2010d9(0x24f),_0x185de9),_0x4b36f3=await getDoc(_0x28cc27);if(!_0x4b36f3[_0x2010d9(0x358)]()){showMessage(_0x2010d9(0x3ee));return;}currentQuizData={'id':_0x4b36f3['id'],..._0x4b36f3[_0x2010d9(0xbfb)]()};const _0x571355=currentQuizData[_0x2010d9(0x3a7)]||'active',_0x384529=new Date();if(_0x571355===_0x2010d9(0x966)){showMessage(_0x2010d9(0x2d9));return;}if(_0x571355===_0x2010d9(0xafc)){const _0x217de1=currentQuizData[_0x2010d9(0xdb3)]?new Date(currentQuizData['startTime']):null,_0x38c930=currentQuizData[_0x2010d9(0x715)]?new Date(currentQuizData[_0x2010d9(0x715)]):null;if(_0x217de1&&_0x384529<_0x217de1){showMessage(_0x2010d9(0xb1f)+_0x217de1[_0x2010d9(0x4d2)](_0x2010d9(0xb2a),{'hour12':![]}));return;}if(_0x38c930&&_0x384529>_0x38c930){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x46da2a=currentQuizData[_0x2010d9(0xc3a)];currentProjectId=_0x46da2a;const _0x3e04e8=doc(db,'artifacts/'+appId+_0x2010d9(0x74c),_0x46da2a),_0x3e2504=await getDoc(_0x3e04e8);if(!_0x3e2504[_0x2010d9(0x358)]()){showMessage(_0x2010d9(0x979));return;}const _0x3eda39=_0x3e2504[_0x2010d9(0xbfb)]();currentStudentProjectData=_0x3eda39,displayStudentNameSelector(_0x3eda39[_0x2010d9(0x7cd)],currentQuizData[_0x2010d9(0x8ba)]);}catch(_0x1c0c48){console[_0x2010d9(0xd74)](_0x2010d9(0x5eb),_0x1c0c48),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x2010d9(0x272)]=![],loadQuizBtn['innerHTML']=_0x2010d9(0x353);}}async function handleManualEditPoints(_0x3a27d6,_0x14f4a7){const _0x147d19=_0x4ce511;if(!currentQuizData||!currentQuizData['id'])return;const _0x2c094e=currentQuizData['id'],_0x1852b4=doc(db,_0x147d19(0xcaf)+appId+_0x147d19(0x284)+_0x2c094e+_0x147d19(0x65f),_0x3a27d6);try{const _0x12c96d=await getDoc(_0x1852b4);if(!_0x12c96d[_0x147d19(0x358)]())return;const _0x27595e=_0x12c96d[_0x147d19(0xbfb)](),_0x203b23=_0x27595e['attempts']||[];_0x203b23[_0x147d19(0x81c)]>0x0&&(_0x203b23[_0x203b23[_0x147d19(0x81c)]-0x1]['points']=_0x14f4a7,_0x203b23[_0x203b23[_0x147d19(0x81c)]-0x1][_0x147d19(0x6e9)]=!![]),await updateDoc(_0x1852b4,{'points':_0x14f4a7,'attempts':_0x203b23}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x3a27d6),showMessage('แก้ไข\x20Points\x20ของ\x20'+_0x3a27d6+_0x147d19(0xe22)+_0x14f4a7+_0x147d19(0x921));}catch(_0x2b3249){console[_0x147d19(0xd74)]('Error\x20updating\x20points:',_0x2b3249),showMessage('เกิดข้อผิดพลาดในการบันทึกคะแนน');}}async function handleJoinLiveGame(){const _0x5340fd=_0x4ce511,_0x4f5d95=document[_0x5340fd(0xbeb)](_0x5340fd(0x2ca)),_0x5c95ab=document['getElementById'](_0x5340fd(0xda6)),_0x5e1b71=document['getElementById'](_0x5340fd(0x9cf)),_0x3c7c2f=_0x4f5d95[_0x5340fd(0xc07)][_0x5340fd(0x88c)](),_0x4b9051=_0x5c95ab[_0x5340fd(0xc07)][_0x5340fd(0x88c)]();if(!_0x3c7c2f||!_0x4b9051){showMessage(_0x5340fd(0x6c5));return;}_0x5e1b71[_0x5340fd(0x272)]=!![],_0x5e1b71['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x5dc44d=collection(db,'artifacts/'+appId+_0x5340fd(0x834)),_0x30c06e=query(_0x5dc44d,where(_0x5340fd(0x3f2),'==',_0x3c7c2f),where(_0x5340fd(0x3a7),'in',['lobby',_0x5340fd(0x5f4)])),_0x5a3e8c=await getDocs(_0x30c06e);if(_0x5a3e8c[_0x5340fd(0x68b)]){showMessage(_0x5340fd(0x99a));return;}const _0x1e3b4f=_0x5a3e8c['docs'][0x0],_0x43b377=_0x1e3b4f[_0x5340fd(0xbfb)]();currentLiveGameId=_0x1e3b4f['id'];const _0x38dcc8=_0x43b377[_0x5340fd(0xc9b)],_0x39a0d9=doc(db,'artifacts/'+appId+_0x5340fd(0x24f),_0x38dcc8),_0x5920b5=await getDoc(_0x39a0d9);if(!_0x5920b5['exists']()){showMessage(_0x5340fd(0xc51));return;}currentQuizData={'id':_0x5920b5['id'],..._0x5920b5[_0x5340fd(0xbfb)]()};if(_0x43b377['players']&&_0x43b377['players'][_0x4b9051]){const _0x1ade0c=_0x43b377[_0x5340fd(0x735)][_0x4b9051];if(_0x1ade0c[_0x5340fd(0x3a7)]===_0x5340fd(0x966)){_0x5e1b71[_0x5340fd(0x28a)]=_0x5340fd(0x8c1);const _0x63bd2={};_0x63bd2[_0x5340fd(0xe5c)+_0x4b9051+'.status']=_0x5340fd(0x829),await updateDoc(doc(db,_0x5340fd(0xcaf)+appId+_0x5340fd(0x834),currentLiveGameId),_0x63bd2),showView(_0x5340fd(0x934)),currentStudentName=_0x4b9051,listenForLiveGameUpdates();return;}else{showMessage(_0x5340fd(0x9e6));return;}}if(_0x43b377['status']!=='lobby'){showMessage(_0x5340fd(0x60c));return;}_0x5e1b71[_0x5340fd(0x28a)]=_0x5340fd(0xdf8);const _0x277c8e={};_0x277c8e['players.'+_0x4b9051]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x5340fd(0x829)},await updateDoc(doc(db,_0x5340fd(0xcaf)+appId+_0x5340fd(0x834),currentLiveGameId),_0x277c8e),currentStudentName=_0x4b9051,listenForLiveGameUpdates();}catch(_0x41767e){console[_0x5340fd(0xd74)](_0x5340fd(0xf53),_0x41767e),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x5e1b71[_0x5340fd(0x272)]=![],_0x5e1b71[_0x5340fd(0x28a)]=_0x5340fd(0xe26);}}function displayStudentNameSelector(_0x47f035,_0x3cad01){const _0x465600=_0x4ce511,_0x551430=document[_0x465600(0xbeb)](_0x465600(0x9ab));document[_0x465600(0xbeb)](_0x465600(0x66d))[_0x465600(0x211)]='แบบทดสอบ:\x20'+_0x3cad01,!_0x47f035||_0x47f035[_0x465600(0x81c)]===0x0?(_0x551430[_0x465600(0x28a)]=_0x465600(0xca7),startQuizBtn[_0x465600(0x272)]=!![]):(_0x551430[_0x465600(0x28a)]=_0x465600(0x8a3),_0x47f035[_0x465600(0xbd3)](_0x46bb00=>{const _0x2e8b34=_0x465600,_0x10a746=document[_0x2e8b34(0x38c)]('option');_0x10a746[_0x2e8b34(0xc07)]=_0x46bb00,_0x10a746['textContent']=_0x46bb00,_0x551430[_0x2e8b34(0x620)](_0x10a746);}),startQuizBtn[_0x465600(0x272)]=![]),studentInitialView[_0x465600(0xa1f)]['add']('hidden'),studentNameSelectionView['classList'][_0x465600(0x711)](_0x465600(0x9d8));}function shuffleArray(_0x4dac1c){const _0x30d724=_0x4ce511;for(let _0x113a99=_0x4dac1c[_0x30d724(0x81c)]-0x1;_0x113a99>0x0;_0x113a99--){const _0x317dfa=Math[_0x30d724(0x8c6)](Math[_0x30d724(0x3c9)]()*(_0x113a99+0x1));[_0x4dac1c[_0x113a99],_0x4dac1c[_0x317dfa]]=[_0x4dac1c[_0x317dfa],_0x4dac1c[_0x113a99]];}}function getShuffledQuiz(_0x37e1d1){const _0x348338=_0x4ce511;let _0x48f927=JSON['parse'](JSON['stringify'](_0x37e1d1));const _0x2070f3=_0x48f927[_0x348338(0x4ea)]?.[_0x348338(0xd3a)]||_0x348338(0x434);if(_0x2070f3===_0x348338(0x434))return _0x48f927;return(_0x2070f3===_0x348338(0x596)||_0x2070f3===_0x348338(0x8a9))&&shuffleArray(_0x48f927['questions']),(_0x2070f3===_0x348338(0xe95)||_0x2070f3==='both')&&_0x48f927[_0x348338(0x7bb)][_0x348338(0xbd3)](_0x300178=>{const _0x327b93=_0x348338,_0xb3338e=_0x300178['questionType']||_0x48f927['quizType'];if(_0x300178['options']){let _0x2f20ff=_0x300178[_0x327b93(0xdf0)][_0x327b93(0xa15)]((_0x26082f,_0x438338)=>({'text':_0x26082f,'isCorrect':_0x438338===_0x300178[_0x327b93(0xae5)]}));shuffleArray(_0x2f20ff),_0x300178['options']=_0x2f20ff[_0x327b93(0xa15)](_0x237d91=>_0x237d91[_0x327b93(0xa19)]),_0x300178['correctAnswerIndex']=_0x2f20ff['findIndex'](_0x59e241=>_0x59e241[_0x327b93(0xc70)]);}_0xb3338e===_0x327b93(0x700)&&_0x300178[_0x327b93(0x638)]&&shuffleArray(_0x300178['allResponses']);}),_0x48f927;}function displayQuizForStudent(_0x5e69a0){const _0x166fd5=_0x4ce511;studentQuizArea[_0x166fd5(0xa1f)][_0x166fd5(0x711)](_0x166fd5(0x9d8)),currentDisplayedQuiz=getShuffledQuiz(_0x5e69a0);currentMode!==_0x166fd5(0x464)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x166fd5(0x79a)](_0x166fd5(0x968),handleFullscreenChange),document[_0x166fd5(0x79a)](_0x166fd5(0xce3),handleVisibilityChange),enterFullscreen(),window[_0x166fd5(0x79a)](_0x166fd5(0xec3),resetDimTimer),window[_0x166fd5(0x79a)](_0x166fd5(0xaac),resetDimTimer),window[_0x166fd5(0x79a)](_0x166fd5(0x4b0),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x4c83b4=currentDisplayedQuiz[_0x166fd5(0x4ea)]?.[_0x166fd5(0xaa5)]||'none';if(_0x4c83b4===_0x166fd5(0x505))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x166fd5(0x4ea)][_0x166fd5(0x4f8)]);else _0x4c83b4===_0x166fd5(0xeff)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window['toggleMathDropdown']=function(_0x3d678b){const _0x57bcc1=_0x4ce511,_0x23d94d=document[_0x57bcc1(0xbeb)](_0x57bcc1(0xe1d)+_0x3d678b),_0x559bb7=document[_0x57bcc1(0xb02)](_0x57bcc1(0x611));_0x559bb7[_0x57bcc1(0xbd3)](_0x1b3dfc=>{const _0x38639e=_0x57bcc1;if(_0x1b3dfc['id']!=='dropdown-list-'+_0x3d678b)_0x1b3dfc['classList'][_0x38639e(0x7e0)](_0x38639e(0x9d8));});if(_0x23d94d)_0x23d94d[_0x57bcc1(0xa1f)][_0x57bcc1(0x4c3)](_0x57bcc1(0x9d8));},window[_0x4ce511(0xb22)]=function(_0x2ce88c,_0x1b17fd){const _0xe86152=_0x4ce511,_0x52a959=currentDisplayedQuiz;if(!_0x52a959)return;const _0x2c34f5=_0x52a959[_0xe86152(0x7bb)][_0x2ce88c],_0x3a0bc0=_0x2c34f5[_0xe86152(0x638)][_0x1b17fd],_0x3a63e6=document[_0xe86152(0xbeb)](_0xe86152(0xb78)+_0x2ce88c);if(_0x3a63e6)_0x3a63e6[_0xe86152(0xc07)]=_0x3a0bc0;const _0x500fa1=document['getElementById'](_0xe86152(0xf1c)+_0x2ce88c);if(_0x500fa1){_0x500fa1[_0xe86152(0x28a)]=_0x3a0bc0;if(window[_0xe86152(0xeb4)])MathJax['typesetPromise']([_0x500fa1]);_0x500fa1[_0xe86152(0xa1f)][_0xe86152(0x7e0)](_0xe86152(0x3c5),_0xe86152(0xd3b));}const _0x11f4a6=document[_0xe86152(0xbeb)](_0xe86152(0xe1d)+_0x2ce88c);if(_0x11f4a6)_0x11f4a6[_0xe86152(0xa1f)][_0xe86152(0x7e0)](_0xe86152(0x9d8));},document[_0x4ce511(0x79a)]('click',_0x4b0b3d=>{const _0x2dfd37=_0x4ce511;!_0x4b0b3d[_0x2dfd37(0x544)][_0x2dfd37(0x253)](_0x2dfd37(0x608))&&document['querySelectorAll'](_0x2dfd37(0x611))[_0x2dfd37(0xbd3)](_0x3d7cd8=>_0x3d7cd8[_0x2dfd37(0xa1f)]['add']('hidden'));});function renderFullQuizForm(){const _0x24c7bc=_0x4ce511,_0x55f077=currentDisplayedQuiz[_0x24c7bc(0x4ea)]?.[_0x24c7bc(0xb68)]===!![],_0x3242a1=currentDisplayedQuiz[_0x24c7bc(0x4ea)]?.[_0x24c7bc(0x7e6)]||_0x24c7bc(0x7eb);let _0x15c39d=![],_0x1331af=_0x24c7bc(0x71e)+currentDisplayedQuiz['topic']+_0x24c7bc(0xbc5)+(currentMode===_0x24c7bc(0x464)?_0x24c7bc(0xe3d):'')+_0x24c7bc(0x92d);currentDisplayedQuiz[_0x24c7bc(0x7bb)][_0x24c7bc(0xbd3)]((_0x765ebf,_0x1eb813)=>{const _0x55223e=_0x24c7bc,_0x2f99b1=_0x765ebf[_0x55223e(0xd06)]||currentDisplayedQuiz['quizType'],_0x1af600=_0x55223e(0x1ed)+(0x64-_0x1eb813)+';';_0x2f99b1==='matching_item'&&!_0x15c39d&&(_0x1331af+=_0x55223e(0x9cc),_0x15c39d=!![]);_0x1331af+=_0x55223e(0x651)+_0x1af600+'\x22>';_0x2f99b1!=='matching_item'&&(_0x1331af+=_0x55223e(0xbaf)+(_0x1eb813+0x1)+'.\x20'+(_0x765ebf[_0x55223e(0xa53)]||_0x765ebf[_0x55223e(0xbc2)])+_0x55223e(0xdac)+(_0x765ebf[_0x55223e(0xf2d)]?_0x55223e(0x594)+_0x765ebf[_0x55223e(0xf2d)]+_0x55223e(0xc6a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');_0x1331af+=_0x55223e(0xbf6);if(_0x2f99b1===_0x55223e(0x700)&&_0x765ebf[_0x55223e(0x638)])_0x1331af+=_0x55223e(0xe50)+(_0x1eb813+0x1)+_0x55223e(0x3e0)+_0x765ebf['stem']+_0x55223e(0x46b)+_0x1eb813+'\x22\x20id=\x22input-'+_0x1eb813+_0x55223e(0x51c)+_0x1eb813+_0x55223e(0x7b3)+_0x1eb813+_0x55223e(0x80f)+_0x1eb813+_0x55223e(0x863)+_0x765ebf[_0x55223e(0x638)][_0x55223e(0xa15)]((_0x599741,_0x22051e)=>_0x55223e(0x965)+_0x1eb813+',\x20'+_0x22051e+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x599741+_0x55223e(0x499))[_0x55223e(0x919)]('')+_0x55223e(0xc3d);else{if(_0x2f99b1==='true_false')_0x1331af+=_0x55223e(0x2fe)+_0x1eb813+'_opt0\x22\x20name=\x22question'+_0x1eb813+_0x55223e(0x69e)+_0x1eb813+'_opt0\x22>ใช่</label></div>',_0x1331af+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x1eb813+_0x55223e(0x293)+_0x1eb813+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x1eb813+'_opt1\x22>ไม่ใช่</label></div>';else _0x765ebf[_0x55223e(0xdf0)]&&Array[_0x55223e(0x91d)](_0x765ebf['options'])&&_0x765ebf[_0x55223e(0xdf0)][_0x55223e(0x81c)]>0x0?_0x1331af+=_0x765ebf[_0x55223e(0xdf0)][_0x55223e(0xa15)]((_0x107e55,_0x33d81c)=>_0x55223e(0x794)+_0x1eb813+'_opt'+_0x33d81c+_0x55223e(0x40b)+_0x1eb813+'\x22\x20value=\x22'+_0x33d81c+_0x55223e(0xf2c)+_0x1eb813+_0x55223e(0xf5c)+_0x33d81c+'\x22>'+_0x107e55+_0x55223e(0x39d))[_0x55223e(0x919)](''):_0x1331af+=_0x55223e(0x6c3)+_0x1eb813+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';}_0x1331af+=_0x55223e(0xc6a),_0x55f077&&(_0x1331af+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x3242a1===_0x55223e(0xa26)?_0x1331af+=_0x55223e(0x389)+_0x1eb813+_0x55223e(0xd4c)+_0x1eb813+_0x55223e(0xbac)+_0x1eb813+_0x55223e(0x63e)+_0x1eb813+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1331af+=_0x55223e(0x5b8)+_0x1eb813+_0x55223e(0xd4c)+_0x1eb813+_0x55223e(0xaa0)+_0x1eb813+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1331af+=_0x55223e(0xc6a)),_0x1331af+=_0x55223e(0xc6a);}),_0x1331af+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x1331af+=_0x24c7bc(0xbd2),studentQuizArea[_0x24c7bc(0x28a)]=_0x1331af;if(currentMode===_0x24c7bc(0x464)){const _0x393321=document['getElementById']('cancel-test-btn');if(_0x393321)_0x393321[_0x24c7bc(0x79a)](_0x24c7bc(0xc64),cancelAdminTest);}const _0x5f1577=document[_0x24c7bc(0xbeb)](_0x24c7bc(0xb09));_0x5f1577&&(_0x5f1577[_0x24c7bc(0x79a)](_0x24c7bc(0x778),handleSubmitQuiz),_0x5f1577['addEventListener'](_0x24c7bc(0xc64),_0x780eff=>{const _0x4efb03=_0x24c7bc;if(_0x780eff['target'][_0x4efb03(0xa1f)][_0x4efb03(0xa3f)]('confidence-choice-btn')){const _0x44c440=_0x780eff[_0x4efb03(0x544)],_0x27e8b4=_0x44c440[_0x4efb03(0x6b1)][_0x4efb03(0x4cd)],_0x172ce0=_0x44c440['dataset'][_0x4efb03(0xc07)];document['getElementById'](_0x4efb03(0x854)+_0x27e8b4)[_0x4efb03(0xc07)]=_0x172ce0;const _0x393b0d=_0x44c440[_0x4efb03(0x27b)];_0x393b0d['querySelectorAll'](_0x4efb03(0x6ba))['forEach'](_0x217cf3=>_0x217cf3[_0x4efb03(0xa1f)]['remove']('active')),_0x44c440[_0x4efb03(0xa1f)][_0x4efb03(0x7e0)](_0x4efb03(0x829));}})),window[_0x24c7bc(0xeb4)]&&setTimeout(()=>{const _0x129158=_0x24c7bc;window[_0x129158(0xeb4)][_0x129158(0x61b)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x39636f){const _0x575e45=_0x4ce511;if(_0x39636f)_0x39636f[_0x575e45(0xcaa)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x578bc3=document['getElementById'](_0x575e45(0xb09));if(!_0x578bc3)return;const _0x5be245=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x3c94a5=currentDisplayedQuiz[_0x575e45(0x4ea)]?.[_0x575e45(0x7e6)]||_0x575e45(0x7eb);if(_0x5be245&&_0x3c94a5===_0x575e45(0xa26)){let _0x33dbe7=!![];for(let _0x1bcaff=0x0;_0x1bcaff<currentDisplayedQuiz[_0x575e45(0x7bb)]['length'];_0x1bcaff++){const _0x36bc64=_0x578bc3[_0x575e45(0x2d0)](_0x575e45(0x1db)+_0x1bcaff);if(!_0x36bc64||_0x36bc64[_0x575e45(0xc07)]===''){_0x33dbe7=![];break;}}if(!_0x33dbe7){showMessage(_0x575e45(0x5a9));return;}}const _0x381bfe=_0x578bc3[_0x575e45(0x2d0)](_0x575e45(0x6d8)),_0x5dfa5c=currentDisplayedQuiz[_0x575e45(0x7bb)][_0x575e45(0x398)](_0x5313d3=>_0x5313d3[_0x575e45(0xd06)]===_0x575e45(0xc63));_0x381bfe&&(_0x381bfe['disabled']=!![],_0x381bfe[_0x575e45(0x28a)]=_0x5dfa5c?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x4ab554=new FormData(_0x578bc3),_0x2a108a=currentDisplayedQuiz[_0x575e45(0x7bb)][_0x575e45(0xa15)]((_0x33f599,_0x14354b)=>{const _0x100dec=_0x575e45,_0x44e44f=_0x4ab554['get'](_0x100dec(0x5f4)+_0x14354b);let _0x4f2db1;_0x3c94a5==='mandatory'?_0x4f2db1=_0x4ab554[_0x100dec(0x1d5)](_0x100dec(0xa2c)+_0x14354b):_0x4f2db1=_0x4ab554[_0x100dec(0x1d5)](_0x100dec(0xa2c)+_0x14354b)==='on';let _0x5dd434=null;if(_0x44e44f!==null&&_0x44e44f!==undefined){const _0x89e410=_0x33f599[_0x100dec(0xd06)]||currentDisplayedQuiz[_0x100dec(0xd15)];_0x89e410==='multiple_choice'||_0x89e410===_0x100dec(0x201)?_0x5dd434=parseInt(_0x44e44f):_0x5dd434=_0x44e44f;}return{'answer':_0x5dd434,'wasConfident':_0x4f2db1};}),_0x5b17a1=currentQuizData['id'],_0x53bb71=doc(db,_0x575e45(0xcaf)+appId+_0x575e45(0x284)+_0x5b17a1+_0x575e45(0x65f),currentStudentName),_0x144efb=await getDoc(_0x53bb71),_0x1a2648=_0x144efb[_0x575e45(0x358)]()?_0x144efb[_0x575e45(0xbfb)]():{},_0x2ca62b=_0x1a2648[_0x575e45(0x8d7)]||[];await processAndSubmitAnswers(_0x2a108a,_0x2ca62b);}async function gradeShortAnswerWithAI(_0x2a18c4,_0x53514e){const _0x2acde2=_0x4ce511;if(!_0x2a18c4||!_0x53514e)return![];try{const _0x2615ce=_0x2acde2(0xe16)+_0x2a18c4+_0x2acde2(0x92a)+_0x53514e+_0x2acde2(0xcbc),_0x3ecc6e={'contents':[{'role':_0x2acde2(0xd50),'parts':[{'text':_0x2615ce}]}]},_0x24e1f9='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x38976c=_0x2acde2(0xe61)+_0x24e1f9,_0x334fac=await fetch(_0x38976c,{'method':_0x2acde2(0xcb8),'headers':{'Content-Type':_0x2acde2(0xad0)},'body':JSON['stringify'](_0x3ecc6e)});if(!_0x334fac['ok'])throw new Error(_0x2acde2(0xaf1));const _0x3829fd=await _0x334fac[_0x2acde2(0x4f0)](),_0x239b82=_0x3829fd[_0x2acde2(0x7c6)][0x0][_0x2acde2(0x59c)][_0x2acde2(0x459)][0x0]['text'][_0x2acde2(0x88c)]()[_0x2acde2(0x298)]();return _0x239b82===_0x2acde2(0xdff);}catch(_0x49aa41){return console[_0x2acde2(0xd74)](_0x2acde2(0x72c),_0x49aa41),![];}}async function processAndSubmitAnswers(_0x2fcdb9,_0x3a918a){const _0x52345d=_0x4ce511;releaseWakeLock(),stopDimTimer();try{document[_0x52345d(0x8ca)]&&await document['exitFullscreen']();}catch(_0x54873f){console[_0x52345d(0xbfc)](_0x52345d(0x593),_0x54873f);}isQuizActive=![],document[_0x52345d(0x8fb)](_0x52345d(0x968),handleFullscreenChange),document['removeEventListener'](_0x52345d(0xce3),handleVisibilityChange);let _0x3b1623=0x0;const _0x4c880f=[],_0x28543f=currentDisplayedQuiz[_0x52345d(0x7bb)][_0x52345d(0x81c)];let _0x444569=0x0,_0x1d4a4a=[];const _0x458b1b=currentDisplayedQuiz[_0x52345d(0x7bb)];for(let _0x101eda=0x0;_0x101eda<_0x458b1b[_0x52345d(0x81c)];_0x101eda++){const _0x429644=_0x458b1b[_0x101eda],_0x42f356=_0x2fcdb9[_0x101eda],_0x52e619=_0x42f356?_0x42f356['answer']:null,_0x323b4a=_0x42f356?_0x42f356[_0x52345d(0x2c6)]:null;let _0x490eec=![],_0x9cc9a6=0x0;if(_0x52e619!==null&&_0x52e619!==''){const _0x7cbfbd=_0x429644['questionType']||currentDisplayedQuiz['quizType'];switch(_0x7cbfbd){case _0x52345d(0x700):_0x490eec=_0x52e619===_0x429644[_0x52345d(0x5c9)];break;case _0x52345d(0x4ac):const _0x38b2ef=_0x52e619===!![]||_0x52e619===_0x52345d(0xdff);_0x490eec=_0x38b2ef===_0x429644[_0x52345d(0xdec)];break;case _0x52345d(0x2fc):case _0x52345d(0xc63):_0x490eec=await gradeShortAnswer(_0x52e619,_0x429644);break;case'multiple_choice':case'fill_in_with_choices':default:_0x490eec=Number(_0x52e619)===_0x429644[_0x52345d(0xae5)];break;}}if(currentDisplayedQuiz[_0x52345d(0x4ea)]?.[_0x52345d(0xb68)]){const _0x244c1e=_0x42f356?_0x42f356[_0x52345d(0x2c6)]:null;if(_0x490eec&&(_0x244c1e===!![]||_0x244c1e===_0x52345d(0xd80)))_0x9cc9a6=0x2;else{if(_0x490eec)_0x9cc9a6=0x1;else{if(!_0x490eec&&(_0x244c1e===![]||_0x244c1e==='not_confident'||_0x244c1e===null))_0x9cc9a6=0x0;else!_0x490eec&&(_0x244c1e===!![]||_0x244c1e===_0x52345d(0xd80))&&(_0x9cc9a6=-0x1);}}}else _0x9cc9a6=_0x490eec?0x1:0x0;_0x3b1623+=_0x9cc9a6;if(_0x490eec){_0x444569++;if(_0x444569===0x3)_0x1d4a4a[_0x52345d(0x9ba)](BADGES['ON_FIRE']['id']);}else _0x444569=0x0;let _0x161d33=null;_0x429644[_0x52345d(0xdf0)]&&(_0x429644[_0x52345d(0xd06)]===_0x52345d(0x8be)||_0x429644['questionType']===_0x52345d(0xa4d))&&_0x52e619!==null?_0x161d33=_0x429644[_0x52345d(0xdf0)][_0x52e619]:_0x161d33=_0x52e619,_0x4c880f[_0x52345d(0x9ba)]({'questionId':_0x429644['id'],'answer':_0x52e619,'answerText':_0x161d33,'isCorrect':_0x490eec,'wasConfident':_0x323b4a,'pointsAwarded':_0x9cc9a6,'originalQuestionText':_0x429644[_0x52345d(0x4dd)]||_0x429644['questionText']});}const _0x4de65c=_0x4c880f[_0x52345d(0x395)](_0x5dad7d=>_0x5dad7d['isCorrect'])['length'],_0x2ab0dd=currentDisplayedQuiz[_0x52345d(0x4ea)]?.[_0x52345d(0x2b5)]??Math[_0x52345d(0x8c6)](_0x28543f/0x2);_0x4de65c===_0x28543f&&_0x28543f>0x0&&!currentDisplayedQuiz[_0x52345d(0xda7)]&&_0x1d4a4a[_0x52345d(0x9ba)](BADGES['PERFECT_SCORE']['id']);const _0x4523c7=currentDisplayedQuiz[_0x52345d(0x4ea)]?.[_0x52345d(0xaa5)];if(_0x4523c7==='whole_quiz'&&quizStartTime){const _0x3d8b1c=(new Date()-quizStartTime)/0x3e8,_0x40928f=currentDisplayedQuiz[_0x52345d(0x4ea)][_0x52345d(0x4f8)]*0x3c;_0x4de65c>=_0x2ab0dd&&_0x3d8b1c<_0x40928f/0x2&&_0x1d4a4a[_0x52345d(0x9ba)](BADGES[_0x52345d(0xd22)]['id']);}_0x3a918a[_0x52345d(0x81c)]===0x0&&_0x4de65c===_0x28543f&&_0x28543f>0x0&&_0x1d4a4a[_0x52345d(0x9ba)](BADGES[_0x52345d(0xb33)]['id']);if(_0x3a918a[_0x52345d(0x81c)]>0x0){const _0x3dd195=_0x3a918a[0x0][_0x52345d(0x9c2)];if(_0x3dd195<_0x2ab0dd&&_0x4de65c>=_0x2ab0dd){const _0x4d3084=_0x3a918a[_0x52345d(0x398)](_0x1a9cf7=>(_0x1a9cf7[_0x52345d(0xab9)]||[])[_0x52345d(0x87a)](BADGES[_0x52345d(0x516)]['id']));!_0x4d3084&&_0x1d4a4a['push'](BADGES[_0x52345d(0x516)]['id']);}}_0x3a918a[_0x52345d(0x81c)]===0x4&&_0x1d4a4a[_0x52345d(0x9ba)](BADGES[_0x52345d(0x27a)]['id']);const _0x27d7eb=currentDisplayedQuiz[_0x52345d(0x4ea)][_0x52345d(0x657)];if(currentMode===_0x52345d(0x464)){handleResultDisplay(_0x27d7eb,_0x4de65c,_0x3b1623,_0x1d4a4a,_0x4c880f,_0x28543f);return;}const _0x43cbd4=currentQuizData['id'],_0x429ee5=doc(db,_0x52345d(0xcaf)+appId+_0x52345d(0x284)+_0x43cbd4+_0x52345d(0x65f),currentStudentName);try{const _0x22a820=[..._0x3a918a],_0x571a4b={'score':_0x4de65c,'points':_0x3b1623,'badges':Array[_0x52345d(0xc0c)](new Set(_0x1d4a4a)),'submittedAt':new Date()[_0x52345d(0x760)](),'answers':_0x4c880f};_0x22a820[_0x52345d(0x9ba)](_0x571a4b);const _0x5e47a7=_0x3a918a['length']===0x0?_0x4de65c:_0x3a918a[0x0]['score']||0x0,_0x6b58f7=Math[_0x52345d(0xddc)](..._0x22a820[_0x52345d(0xa15)](_0x4951e6=>_0x4951e6[_0x52345d(0x9c2)]));await setDoc(_0x429ee5,{'studentName':currentStudentName,'totalQuestions':_0x28543f,'attempts':_0x22a820,'firstScore':_0x5e47a7,'bestScore':_0x6b58f7,'latestScore':_0x4de65c,'points':_0x3b1623,'latestSubmittedAt':_0x571a4b[_0x52345d(0x3df)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x27d7eb,_0x4de65c,_0x3b1623,_0x1d4a4a,_0x4c880f,_0x28543f);}catch(_0x45efdf){console[_0x52345d(0xd74)]('Error\x20saving\x20submission:',_0x45efdf),showMessage(_0x52345d(0xcd7));}}async function updateStudentProfile(_0x1a251c,_0xab8328){const _0x377732=_0x4ce511,_0x4b2e3e=doc(db,_0x377732(0xcaf)+appId+'/public/data/projects/'+_0x1a251c+_0x377732(0x374),_0xab8328);try{const _0x429b89=query(collection(db,_0x377732(0xcaf)+appId+'/public/data/quizzes'),where('projectId','==',_0x1a251c)),_0x2de974=await getDocs(_0x429b89),_0x1b4d13=new Map(_0x2de974[_0x377732(0xf3c)][_0x377732(0xa15)](_0x10908d=>[_0x10908d['id'],_0x10908d['data']()])),_0x60177=Array[_0x377732(0xc0c)](_0x1b4d13[_0x377732(0xafa)]());await runTransaction(db,async _0xf4d9ca=>{const _0x1a18a8=_0x377732;let _0x128fd8=0x0;const _0x247847={};let _0x320535=!![],_0x27e78b=0x0,_0xdaccc1=0x0;for(const _0x366007 of _0x60177){const _0x322702=_0x1b4d13[_0x1a18a8(0x1d5)](_0x366007),_0x19d3ef=doc(db,_0x1a18a8(0xcaf)+appId+'/public/data/quizzes/'+_0x366007+'/submissions',_0xab8328),_0x13e019=await _0xf4d9ca['get'](_0x19d3ef);if(_0x13e019[_0x1a18a8(0x358)]()){const _0x519d86=_0x13e019['data'](),_0x4aab6f=_0x519d86[_0x1a18a8(0x8d7)]||[];if(_0x4aab6f[_0x1a18a8(0x81c)]>0x0){const _0x59079c=_0x4aab6f[_0x1a18a8(0x6f2)]((_0x36443d,_0x3b4028)=>{const _0x120600=_0x1a18a8;if(_0x3b4028[_0x120600(0x9c2)]>_0x36443d['score'])return _0x3b4028;if(_0x3b4028[_0x120600(0x9c2)]===_0x36443d[_0x120600(0x9c2)])return(_0x3b4028[_0x120600(0x636)]||0x0)>(_0x36443d['points']||0x0)?_0x3b4028:_0x36443d;return _0x36443d;},{'score':-0x1,'points':-0x1});_0x59079c[_0x1a18a8(0x9c2)]>-0x1&&(_0x128fd8+=_0x59079c[_0x1a18a8(0x636)]||0x0,(_0x59079c[_0x1a18a8(0xab9)]||[])['forEach'](_0x5895a0=>{_0x247847[_0x5895a0]=(_0x247847[_0x5895a0]||0x0)+0x1;}));}}if(_0x322702['topic']!==_0x1a18a8(0x6d3)){_0xdaccc1++;if(_0x13e019[_0x1a18a8(0x358)]()){_0x27e78b++;const _0x29e5a2=_0x13e019[_0x1a18a8(0xbfb)]();_0x29e5a2['bestScore']!==_0x29e5a2[_0x1a18a8(0xb7c)]&&(_0x320535=![]);}else _0x320535=![];}}_0xdaccc1>0x0&&_0x27e78b===_0xdaccc1&&_0x320535?_0x247847[_0x1a18a8(0x4f2)]=0x1:_0x247847[_0x1a18a8(0x4f2)]=0x0,_0xf4d9ca[_0x1a18a8(0xaa8)](_0x4b2e3e,{'studentName':_0xab8328,'totalPoints':_0x128fd8,'unlockedBadges':Object['keys'](_0x247847)[_0x1a18a8(0x395)](_0x347dec=>_0x247847[_0x347dec]>0x0),'badgesCount':_0x247847},{'merge':!![]});});}catch(_0x3351c6){console[_0x377732(0xd74)](_0x377732(0x417),_0x3351c6),showMessage(_0x377732(0x9bd));}}function startAdminTest(){const _0x3b1b37=_0x4ce511;if(!currentQuizData){showMessage(_0x3b1b37(0x382));return;}let _0xbe9789=JSON[_0x3b1b37(0x6d2)](JSON[_0x3b1b37(0xe4f)](currentQuizData));currentMode='admin-testing',currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x3b1b37(0xa1f)][_0x3b1b37(0x7e0)](_0x3b1b37(0x9d8)),studentView[_0x3b1b37(0xa1f)]['remove'](_0x3b1b37(0x9d8)),studentInitialView[_0x3b1b37(0xa1f)][_0x3b1b37(0x7e0)](_0x3b1b37(0x9d8)),studentNameSelectionView[_0x3b1b37(0xa1f)][_0x3b1b37(0x7e0)]('hidden'),studentResultArea[_0x3b1b37(0xa1f)][_0x3b1b37(0x7e0)](_0x3b1b37(0x9d8)),studentQuizArea['classList'][_0x3b1b37(0x711)](_0x3b1b37(0x9d8)),quizStartTime=new Date(),displayQuizForStudent(_0xbe9789);}function handleResultDisplay(_0x4832cd,_0x48822b,_0x29a665,_0x502d99,_0x5a291a,_0xa61126){const _0x184c55=_0x4ce511;if(_0x4832cd===_0x184c55(0xc48)){displaySubmissionConfirmation();return;}const _0x20b433=currentDisplayedQuiz[_0x184c55(0x4ea)]?.[_0x184c55(0x2b5)]??Math['floor'](_0xa61126/0x2),_0x1df437=currentDisplayedQuiz[_0x184c55(0x4ea)]?.[_0x184c55(0xa83)]??![],_0x2e2cfc=currentDisplayedQuiz[_0x184c55(0x4ea)]?.[_0x184c55(0x2ab)]===!![],_0x534bbe=_0x48822b<_0x20b433,_0x5f2e26=_0x4832cd===_0x184c55(0x27f)||_0x4832cd==='perfect_score_status';if(_0x2e2cfc&&_0x534bbe&&!_0x5f2e26){_0x4832cd==='show_results_and_answers'?displayResultsWithAnswers(_0x48822b,_0x29a665,_0x502d99,_0x5a291a,_0xa61126,!![]):displayLoopScreen(_0x48822b,_0xa61126,_0x4832cd);return;}if(_0x1df437&&_0x534bbe){startAdaptiveFlow(_0x5a291a,_0x48822b,_0xa61126);return;}switch(_0x4832cd){case _0x184c55(0xac0):displayResultsWithAnswers(_0x48822b,_0x29a665,_0x502d99,_0x5a291a,_0xa61126);break;case'show_results_only':displayResultsScoreOnly(_0x48822b,_0x29a665,_0x502d99,_0xa61126);break;case _0x184c55(0xb28):displayPassFailOnly(_0x48822b,_0xa61126);break;case'half_mark_status':displayHalfMarkResult(_0x48822b,_0xa61126);break;case _0x184c55(0x54a):displayPerfectScoreResult(_0x48822b,_0xa61126);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x1c82bd){const _0x11955b=_0x4ce511;studentReadingArea[_0x11955b(0x28a)]=_0x11955b(0xc76);const _0x389d5c=_0x11955b(0x753)+_0x1c82bd+_0x11955b(0xe37)+simpleMathPrompt+_0x11955b(0x366),_0x31f356={'type':_0x11955b(0x24c),'properties':{'questionText':{'type':_0x11955b(0xa2b)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x11955b(0xd7b)},'explanation':{'type':_0x11955b(0xa2b)}},'required':['questionText',_0x11955b(0xdf0),_0x11955b(0xae5),_0x11955b(0x58b)]},_0x5a6c69={'type':_0x11955b(0x24c),'properties':{'topic':{'type':_0x11955b(0xa2b)},'questions':{'type':_0x11955b(0x216),'items':_0x31f356}},'required':[_0x11955b(0x8ba),'questions']};try{const _0x34bcfb=await callAnalysisApi(_0x389d5c,_0x5a6c69);_0x34bcfb['isRemedial']=!![],studentReadingArea[_0x11955b(0xa1f)]['add'](_0x11955b(0x9d8));const _0x456f7c={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x34bcfb[_0x11955b(0x4ea)]=_0x456f7c,displayQuizForStudent(_0x34bcfb);}catch(_0x1edb01){console[_0x11955b(0xd74)](_0x11955b(0x50a),_0x1edb01),showMessage(_0x11955b(0x7ac)),showView(_0x11955b(0x2ec));}}function displayPassFailOnly(_0x4c2891,_0x12fd20){const _0x1d1e0f=_0x4ce511,_0x456115=currentDisplayedQuiz[_0x1d1e0f(0x4ea)]?.[_0x1d1e0f(0x2b5)]??-0x1,_0xde0b31=currentDisplayedQuiz[_0x1d1e0f(0xda7)]===!![];let _0x4db4ce='',_0x50dd99=![];if(_0xde0b31||_0x456115!==-0x1){_0x50dd99=_0xde0b31?_0x4c2891===_0x12fd20:_0x4c2891>=_0x456115;const _0x258999=_0x50dd99?_0x1d1e0f(0xbed):_0x1d1e0f(0xae4),_0x181095=_0x50dd99?_0x1d1e0f(0x56b):_0x1d1e0f(0x3b4);_0x4db4ce=_0x1d1e0f(0xbe0)+_0x258999+'\x22>'+_0x181095+'</span></div>';}else _0x4db4ce=_0x1d1e0f(0x6fb);let _0x94598a=_0x1d1e0f(0x525)+currentStudentName+_0x1d1e0f(0x4b4)+_0x4db4ce+_0x1d1e0f(0x588);studentResultArea[_0x1d1e0f(0x28a)]=_0x94598a,studentResultArea[_0x1d1e0f(0xa1f)][_0x1d1e0f(0x711)](_0x1d1e0f(0x9d8)),studentQuizArea['classList'][_0x1d1e0f(0x7e0)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x50dd99});}function cancelAdminTest(){const _0x149bc4=_0x4ce511;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x149bc4(0x8fb)](_0x149bc4(0x968),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange),currentMode=_0x149bc4(0x203),studentView[_0x149bc4(0xa1f)]['add'](_0x149bc4(0x9d8)),adminView[_0x149bc4(0xa1f)][_0x149bc4(0x711)]('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x149bc4(0xe1e));}function setupResultScreenBackButton(_0x56439b){const _0x5d3965=_0x4ce511,_0x5abcf2={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x56439b};if(_0x5abcf2['isLooping']){const _0x438f37='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x5d3965(0x312)]('beforeend',_0x438f37),document[_0x5d3965(0xbeb)]('retake-quiz-loop-btn')[_0x5d3965(0x79a)]('click',()=>{const _0x270251=_0x5d3965;studentResultArea['classList'][_0x270251(0x7e0)](_0x270251(0x9d8)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x469d73=_0x5d3965(0xf32),_0x2560a4=currentMode===_0x5d3965(0x464),_0x192980=_0x2560a4?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x5d3965(0xe35);let _0x5b65db='';_0x5abcf2['showRankings']&&(_0x5b65db+=_0x5d3965(0xc7a));let _0x45b73c=_0x5abcf2[_0x5d3965(0x254)];_0x45b73c===undefined&&(_0x45b73c=_0x5abcf2['score']<_0x5abcf2[_0x5d3965(0xb7c)]);_0x45b73c&&(_0x5b65db+=_0x5d3965(0x243));_0x5b65db+='<button\x20id=\x22'+_0x469d73+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x192980+'</button>';const _0x583d7e=_0x5d3965(0xed0)+_0x5b65db+_0x5d3965(0xc6a);studentResultArea['insertAdjacentHTML'](_0x5d3965(0x5ba),_0x583d7e),studentResultArea[_0x5d3965(0x2d0)](_0x5d3965(0x29e))?.[_0x5d3965(0x79a)](_0x5d3965(0xc64),handleShowStudentRankings);const _0x44ad95=studentResultArea[_0x5d3965(0x2d0)](_0x5d3965(0x937));_0x44ad95&&_0x44ad95[_0x5d3965(0x79a)](_0x5d3965(0xc64),()=>{const _0x2e692f=_0x5d3965;studentResultArea[_0x2e692f(0xa1f)][_0x2e692f(0x7e0)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x469d73)[_0x5d3965(0x79a)]('click',()=>{const _0x37d922=_0x5d3965;_0x2560a4?(currentMode=_0x37d922(0x203),studentView['classList'][_0x37d922(0x7e0)](_0x37d922(0x9d8)),adminView[_0x37d922(0xa1f)][_0x37d922(0x711)]('hidden'),showView(_0x37d922(0xe1e))):(showView(_0x37d922(0x2ec)),document[_0x37d922(0xbeb)](_0x37d922(0x20f))[_0x37d922(0xc07)]='');});}function displayResultsWithAnswers(_0xe4922c,_0x7e2f87,_0x56ac23,_0x18fd20,_0xb22d6d,_0x4f60ad=![]){const _0x388b21=_0x4ce511,_0x23e6f3=_0xb22d6d>0x0?_0xe4922c/_0xb22d6d*0x64:0x0,_0x27b4a5=currentDisplayedQuiz['settings']?.[_0x388b21(0x2b5)]??-0x1,_0x3f6ec3=currentDisplayedQuiz[_0x388b21(0xda7)]===!![];let _0x58f465='';if(_0x3f6ec3||_0x27b4a5!==-0x1){let _0x16690e=_0x3f6ec3?_0xe4922c===_0xb22d6d:_0xe4922c>=_0x27b4a5;const _0x432e66=_0x16690e?_0x388b21(0xbed):_0x388b21(0xae4),_0x2d8942=_0x16690e?_0x388b21(0x56b):_0x388b21(0x3b4);_0x58f465=_0x388b21(0xd60)+_0x432e66+'\x22>'+_0x2d8942+_0x388b21(0x8d0);}let _0x5a3ee6=_0x388b21(0xeeb)+currentStudentName+_0x388b21(0x904)+_0xe4922c+_0x388b21(0x4be)+_0xb22d6d+_0x388b21(0xd1a)+_0x58f465+_0x388b21(0xede)+_0x7e2f87+_0x388b21(0x5aa)+_0x23e6f3['toFixed'](0x0)+_0x388b21(0x225);currentDisplayedQuiz[_0x388b21(0x7bb)][_0x388b21(0xbd3)]((_0x1c2a1d,_0x3d9e5b)=>{const _0x58187b=_0x388b21,_0x2d7046=_0x18fd20[_0x3d9e5b],_0x460b86=_0x2d7046['answer'],_0x16c8ef=_0x2d7046['isCorrect'],_0x26da51=_0x1c2a1d[_0x58187b(0xd06)]||currentDisplayedQuiz[_0x58187b(0xd15)];_0x5a3ee6+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x16c8ef?_0x58187b(0x565):_0x58187b(0x36b))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x3d9e5b+0x1)+'.\x20'+(_0x1c2a1d['stem']||_0x1c2a1d[_0x58187b(0xbc2)])+_0x58187b(0x8e0);switch(_0x26da51){case'matching_item':const _0x659f5d=_0x460b86||'ไม่ได้ตอบ',_0x228169=_0x1c2a1d[_0x58187b(0x5c9)];_0x5a3ee6+=_0x58187b(0x89f)+(!_0x16c8ef?_0x58187b(0xd9d):'')+'\x22>'+_0x659f5d+'</span></p>';!_0x16c8ef&&(_0x5a3ee6+=_0x58187b(0x3f9)+_0x228169+_0x58187b(0x8d0));break;case _0x58187b(0x2fc):case _0x58187b(0xc63):_0x5a3ee6+=_0x58187b(0xbbd)+(_0x460b86||_0x58187b(0x478))+_0x58187b(0x8d0),_0x5a3ee6+=_0x58187b(0xf11)+_0x1c2a1d['idealAnswer']+_0x58187b(0x8d0);break;case _0x58187b(0x4ac):_0x5a3ee6+=_0x58187b(0x3a5)+(_0x1c2a1d[_0x58187b(0xdec)]===!![]?_0x58187b(0xbf2):'')+'\x20'+(_0x460b86===_0x58187b(0xdff)&&!_0x16c8ef?'line-through\x20text-red-700':'')+_0x58187b(0x6e8),_0x5a3ee6+=_0x58187b(0x3a5)+(_0x1c2a1d[_0x58187b(0xdec)]===![]?_0x58187b(0xbf2):'')+'\x20'+(_0x460b86===_0x58187b(0xd54)&&!_0x16c8ef?_0x58187b(0xd9d):'')+_0x58187b(0x680);break;case _0x58187b(0x8be):case'fill_in_with_choices':default:if(_0x1c2a1d[_0x58187b(0xdf0)]&&Array[_0x58187b(0x91d)](_0x1c2a1d['options']))_0x5a3ee6+=_0x1c2a1d[_0x58187b(0xdf0)][_0x58187b(0xa15)]((_0x39a3c7,_0x4a41a7)=>{const _0x51ad59=_0x58187b;let _0x481549='',_0x4dc337='';if(_0x4a41a7===_0x1c2a1d[_0x51ad59(0xae5)])_0x481549=_0x51ad59(0xbf2),_0x4dc337=_0x51ad59(0x841);else _0x4a41a7===_0x460b86&&(_0x481549='font-bold\x20text-red-700\x20line-through',_0x4dc337=_0x51ad59(0xbd8));return _0x51ad59(0x30a)+_0x481549+'\x22>'+_0x4dc337+_0x39a3c7+_0x51ad59(0xc6a);})[_0x58187b(0x919)]('');else{_0x5a3ee6+=_0x58187b(0xbbd)+(_0x460b86||'ไม่ได้ตอบ')+'</p>';if(!_0x16c8ef)_0x5a3ee6+=_0x58187b(0xb36);}break;}_0x5a3ee6+=_0x58187b(0x32a)+(_0x1c2a1d[_0x58187b(0x58b)]||_0x58187b(0xb1a))+'</div>';if(!_0x16c8ef){const _0x27ddad=_0x1c2a1d['stem']||_0x1c2a1d[_0x58187b(0xbc2)];_0x5a3ee6+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x27ddad)+_0x58187b(0xb8a);}_0x5a3ee6+=_0x58187b(0xc6a);}),studentResultArea[_0x388b21(0x28a)]=_0x5a3ee6,renderEarnedBadges(_0x56ac23,'earned-badges-container'),studentResultArea[_0x388b21(0xa1f)][_0x388b21(0x711)]('hidden'),studentQuizArea[_0x388b21(0xa1f)][_0x388b21(0x7e0)](_0x388b21(0x9d8)),setupResultScreenBackButton({'isLooping':_0x4f60ad,'score':_0xe4922c,'totalQuestions':_0xb22d6d,'showRankings':!![]});if(window[_0x388b21(0xeb4)])window[_0x388b21(0xeb4)][_0x388b21(0x61b)]([studentResultArea]);}function displayResultsScoreOnly(_0x73f0fa,_0x314003,_0x5ed6b6,_0x2f72a1){const _0x59b3bc=_0x4ce511,_0xc500f7=_0x2f72a1>0x0?_0x73f0fa/_0x2f72a1*0x64:0x0,_0x585861=currentDisplayedQuiz[_0x59b3bc(0x4ea)]?.[_0x59b3bc(0x2b5)]??-0x1,_0x690fe=currentDisplayedQuiz[_0x59b3bc(0xda7)]===!![];let _0x2ef87e='';if(_0x690fe||_0x585861!==-0x1){let _0x24bc5e=_0x690fe?_0x73f0fa===_0x2f72a1:_0x73f0fa>=_0x585861;const _0xd3a9a8=_0x24bc5e?_0x59b3bc(0xbed):_0x59b3bc(0xae4),_0x59b331=_0x24bc5e?_0x59b3bc(0x56b):'ไม่ผ่าน';_0x2ef87e=_0x59b3bc(0xd60)+_0xd3a9a8+'\x22>'+_0x59b331+_0x59b3bc(0x8d0);}let _0x3acee1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x59b3bc(0xea5)+_0x73f0fa+_0x59b3bc(0xe45)+_0x2f72a1+_0x59b3bc(0xd1a)+_0x2ef87e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x314003+_0x59b3bc(0x744)+_0xc500f7[_0x59b3bc(0x7a7)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x59b3bc(0x28a)]=_0x3acee1,renderEarnedBadges(_0x5ed6b6,_0x59b3bc(0x71b)),studentResultArea['classList'][_0x59b3bc(0x711)]('hidden'),studentQuizArea['classList'][_0x59b3bc(0x7e0)](_0x59b3bc(0x9d8)),setupResultScreenBackButton({'score':_0x73f0fa,'totalQuestions':_0x2f72a1,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0xb7c104=_0x4ce511;let _0x49e3c1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0xb7c104(0xa03);studentResultArea[_0xb7c104(0x28a)]=_0x49e3c1,studentResultArea[_0xb7c104(0xa1f)][_0xb7c104(0x711)](_0xb7c104(0x9d8)),studentQuizArea[_0xb7c104(0xa1f)][_0xb7c104(0x7e0)](_0xb7c104(0x9d8)),document['getElementById'](_0xb7c104(0x489))[_0xb7c104(0x79a)](_0xb7c104(0xc64),()=>{const _0x45c51c=_0xb7c104;showView('student'),document['getElementById'](_0x45c51c(0x20f))['value']='';});}function renderEarnedBadges(_0xa6c8e4,_0x3825a0){const _0x44a264=_0x4ce511,_0x51b6d5=document[_0x44a264(0xbeb)](_0x3825a0);if(!_0x51b6d5||!_0xa6c8e4||_0xa6c8e4['length']===0x0)return;let _0x4904f9='';_0xa6c8e4[_0x44a264(0xbd3)]((_0x102831,_0x2aef63)=>{const _0x52ece5=_0x44a264,_0x3388c6=Object[_0x52ece5(0xb18)](BADGES)[_0x52ece5(0x340)](_0x5eb9e6=>_0x5eb9e6['id']===_0x102831);_0x3388c6&&(_0x4904f9+=_0x52ece5(0x838)+_0x2aef63*0.2+_0x52ece5(0xde4)+_0x3388c6[_0x52ece5(0x85d)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x3388c6[_0x52ece5(0xca6)]+_0x52ece5(0xc0f)+_0x3388c6[_0x52ece5(0x631)]+_0x52ece5(0xab5));}),_0x51b6d5['innerHTML']=_0x4904f9;}function startPresentation(_0x5f4064){const _0x5189b6=_0x4ce511;currentQuizData=getShuffledQuiz(_0x5f4064),currentPresentationSlide=0x0,presentationModal[_0x5189b6(0xbcb)]['display']=_0x5189b6(0xa88),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x59c6e5=_0x4ce511;document[_0x59c6e5(0x8ca)]&&document[_0x59c6e5(0xdca)](),presentationModal[_0x59c6e5(0xbcb)][_0x59c6e5(0x9be)]=_0x59c6e5(0x434);}function renderPresentationSlide(_0x5cdc88){const _0x28e147=_0x4ce511,_0x4db9ef=document[_0x28e147(0xbeb)](_0x28e147(0x9fc));if(!currentQuizData||!currentQuizData[_0x28e147(0x7bb)]||!currentQuizData[_0x28e147(0x7bb)][_0x5cdc88]){_0x4db9ef[_0x28e147(0x28a)]=_0x28e147(0x3a3);return;}const _0x1df21b=currentQuizData[_0x28e147(0x7bb)][_0x5cdc88],_0x21a9be=_0x1df21b[_0x28e147(0xd06)]||currentQuizData['quizType'];_0x4db9ef[_0x28e147(0x28a)]='';let _0x3cf6c9=_0x28e147(0xe6e)+(_0x1df21b['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1df21b[_0x28e147(0xf2d)]+_0x28e147(0xc6a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x5cdc88+0x1)+'.\x20'+(_0x1df21b[_0x28e147(0x4dd)]||_0x1df21b[_0x28e147(0xbc2)])+_0x28e147(0x46a);switch(_0x21a9be){case _0x28e147(0x700):_0x3cf6c9+=_0x1df21b[_0x28e147(0x638)]['map'](_0x54210e=>_0x28e147(0x442)+_0x54210e+_0x28e147(0x1df))[_0x28e147(0x919)]('');break;case _0x28e147(0x4ac):_0x3cf6c9+=_0x28e147(0xbf5),_0x3cf6c9+=_0x28e147(0x844);break;case _0x28e147(0x2fc):case'short_answer':_0x3cf6c9+=_0x28e147(0xb52);break;case _0x28e147(0x201):case _0x28e147(0x8be):default:_0x3cf6c9+=_0x1df21b['options'][_0x28e147(0xa15)]((_0x199484,_0x4965c7)=>_0x28e147(0x224)+_0x4965c7+_0x28e147(0xa30)+_0x199484+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x28e147(0x919)]('');break;}_0x3cf6c9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x1df21b[_0x28e147(0x58b)]||_0x28e147(0xb1a))+_0x28e147(0x7c7),_0x4db9ef[_0x28e147(0x28a)]=_0x3cf6c9;if(window[_0x28e147(0xeb4)])window[_0x28e147(0xeb4)][_0x28e147(0x61b)]([_0x4db9ef]);let _0x3f9998=[];switch(_0x21a9be){case _0x28e147(0x700):_0x3f9998=_0x1df21b[_0x28e147(0x638)]||[];break;case _0x28e147(0x4ac):_0x3f9998=[_0x28e147(0x65a),'ไม่ใช่'];break;default:_0x3f9998=_0x1df21b[_0x28e147(0xdf0)]||[];break;}const _0x37f0ec=document[_0x28e147(0xbeb)]('presentation-scratchpad-btn');_0x37f0ec&&(_0x37f0ec[_0x28e147(0x810)]=()=>{openScratchpad(_0x1df21b,_0x3f9998);});document[_0x28e147(0xb02)](_0x28e147(0x6bc))[_0x28e147(0xbd3)](_0x2c691d=>{const _0x306a7e=_0x28e147;_0x2c691d[_0x306a7e(0x79a)]('click',_0x36e9ec=>revealAnswerForPresentation(_0x5cdc88,_0x36e9ec[_0x306a7e(0xb60)]));});const _0x14c0e6=document[_0x28e147(0xbeb)]('check-presentation-answer-btn');_0x14c0e6&&_0x14c0e6[_0x28e147(0x79a)](_0x28e147(0xc64),()=>checkShortAnswerForPresentation(_0x5cdc88)),document[_0x28e147(0xbeb)](_0x28e147(0x4cf))['textContent']=_0x28e147(0xc25)+(_0x5cdc88+0x1)+'\x20/\x20'+currentQuizData['questions']['length'],document[_0x28e147(0xbeb)](_0x28e147(0x60d))[_0x28e147(0x272)]=_0x5cdc88===0x0,document['getElementById'](_0x28e147(0x6eb))['disabled']=_0x5cdc88===currentQuizData[_0x28e147(0x7bb)][_0x28e147(0x81c)]-0x1;}async function checkShortAnswerForPresentation(_0x301f5f){const _0x36ec03=_0x4ce511,_0x1e0987=currentQuizData[_0x36ec03(0x7bb)][_0x301f5f],_0x4fec0e=document[_0x36ec03(0xbeb)](_0x36ec03(0x448)),_0x50f21d=document[_0x36ec03(0xbeb)](_0x36ec03(0xa11)),_0x489751=document[_0x36ec03(0xbeb)](_0x36ec03(0x37c)),_0x4b5fcd=document[_0x36ec03(0xbeb)]('presentation-explanation');if(!_0x4fec0e||!_0x50f21d||!_0x489751||!_0x4b5fcd)return;const _0x132554=_0x4fec0e[_0x36ec03(0xc07)]['trim']();if(_0x132554==='')return;_0x50f21d['disabled']=!![],_0x50f21d[_0x36ec03(0x28a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x4fec0e[_0x36ec03(0x272)]=!![];const _0x236e0b=await gradeShortAnswer(_0x132554,_0x1e0987);_0x236e0b?_0x489751['innerHTML']=_0x36ec03(0x8e9):_0x489751[_0x36ec03(0x28a)]=_0x36ec03(0x265)+_0x1e0987[_0x36ec03(0xe56)]+')',_0x489751['classList'][_0x36ec03(0x711)]('hidden'),_0x4b5fcd[_0x36ec03(0xa1f)]['remove'](_0x36ec03(0x9d8)),_0x50f21d[_0x36ec03(0xa1f)][_0x36ec03(0x7e0)]('hidden');}function revealAnswerForPresentation(_0x239e57,_0x366886){const _0x40a9a4=_0x4ce511,_0x11db54=currentQuizData[_0x40a9a4(0x7bb)][_0x239e57],_0x1307b8=_0x11db54[_0x40a9a4(0xd06)]||currentQuizData[_0x40a9a4(0xd15)];document[_0x40a9a4(0xb02)](_0x40a9a4(0x6bc))[_0x40a9a4(0xbd3)](_0x5b5a12=>{const _0x13f489=_0x40a9a4;_0x5b5a12[_0x13f489(0x272)]=!![],_0x5b5a12[_0x13f489(0xa1f)][_0x13f489(0x711)](_0x13f489(0xd45));let _0x134148=![];if(_0x1307b8===_0x13f489(0x8be)||_0x1307b8===_0x13f489(0x201)){const _0x3c1f61=parseInt(_0x5b5a12[_0x13f489(0x6b1)][_0x13f489(0x76b)]);_0x134148=_0x3c1f61===_0x11db54[_0x13f489(0xae5)];}else{if(_0x1307b8===_0x13f489(0x4ac)){const _0x575a8a=_0x5b5a12[_0x13f489(0x6b1)][_0x13f489(0x64e)]===_0x13f489(0xdff);_0x134148=_0x575a8a===_0x11db54[_0x13f489(0xdec)];}else _0x1307b8===_0x13f489(0x700)&&(_0x134148=_0x5b5a12[_0x13f489(0x211)]['trim']()===_0x11db54[_0x13f489(0x5c9)]);}_0x134148?_0x5b5a12[_0x13f489(0xa1f)][_0x13f489(0x7e0)](_0x13f489(0x795),'text-white',_0x13f489(0xe05)):_0x5b5a12[_0x13f489(0xa1f)][_0x13f489(0x7e0)](_0x13f489(0x42d));}),_0x366886[_0x40a9a4(0xa1f)][_0x40a9a4(0x711)](_0x40a9a4(0x42d));let _0x5bc1fa=![];if(_0x1307b8==='multiple_choice')_0x5bc1fa=parseInt(_0x366886[_0x40a9a4(0x6b1)]['index'])===_0x11db54['correctAnswerIndex'];else{if(_0x1307b8===_0x40a9a4(0x4ac))_0x5bc1fa=_0x366886['dataset'][_0x40a9a4(0x64e)]===_0x40a9a4(0xdff)===_0x11db54[_0x40a9a4(0xdec)];else _0x1307b8===_0x40a9a4(0x700)&&(_0x5bc1fa=_0x366886[_0x40a9a4(0x211)]['trim']()===_0x11db54[_0x40a9a4(0x5c9)]);}!_0x5bc1fa&&_0x366886[_0x40a9a4(0xa1f)][_0x40a9a4(0x7e0)](_0x40a9a4(0x2d2),_0x40a9a4(0x48e),'border-red-700'),document['getElementById'](_0x40a9a4(0x321))[_0x40a9a4(0xa1f)][_0x40a9a4(0x711)](_0x40a9a4(0x9d8));}function startWholeQuizTimer(_0xf108f4){const _0x28d1f3=_0x4ce511,_0x4533ba=document[_0x28d1f3(0xbeb)](_0x28d1f3(0x985));if(!_0x4533ba)return;const _0x36bb75=Date[_0x28d1f3(0xced)]()+_0xf108f4*0x3c*0x3e8;_0x4533ba[_0x28d1f3(0x28a)]=_0x28d1f3(0xbe5);const _0x3c5b98=document[_0x28d1f3(0xbeb)](_0x28d1f3(0x2e5));quizTimerInterval=setInterval(()=>{const _0x2aa88e=_0x28d1f3,_0x310dac=_0x36bb75-Date[_0x2aa88e(0xced)]();if(_0x310dac<=0x0)clearInterval(quizTimerInterval),_0x3c5b98[_0x2aa88e(0x211)]='00:00',showMessage(_0x2aa88e(0x9e7)),handleSubmitQuiz(null);else{const _0x199704=Math[_0x2aa88e(0x8c6)](_0x310dac/0x3e8/0x3c%0x3c)[_0x2aa88e(0x823)]()[_0x2aa88e(0x5ed)](0x2,'0'),_0x170d5e=Math[_0x2aa88e(0x8c6)](_0x310dac/0x3e8%0x3c)[_0x2aa88e(0x823)]()[_0x2aa88e(0x5ed)](0x2,'0');_0x3c5b98[_0x2aa88e(0x211)]=_0x199704+':'+_0x170d5e;}},0x3e8);}function renderPerQuestionView(){const _0x1d9975=_0x4ce511;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x5da99b=currentDisplayedQuiz[_0x1d9975(0x7bb)][currentQuestionIndex],_0xc40a73=_0x5da99b[_0x1d9975(0xd06)]||currentDisplayedQuiz[_0x1d9975(0xd15)],_0x327f6e=currentDisplayedQuiz[_0x1d9975(0x4ea)]?.[_0x1d9975(0xb68)]===!![];let _0xbfa155=_0x1d9975(0x99b)+(currentQuestionIndex+0x1)+_0x1d9975(0x9f8)+currentDisplayedQuiz[_0x1d9975(0x7bb)]['length']+_0x1d9975(0x643)+(currentMode===_0x1d9975(0x464)?_0x1d9975(0xe3d):'')+_0x1d9975(0xe1c)+currentDisplayedQuiz[_0x1d9975(0x8ba)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0xbfa155;let _0x3cea88=_0x5da99b[_0x1d9975(0x4dd)]||_0x5da99b['questionText'];_0x5da99b[_0x1d9975(0xf2d)]&&(_0x3cea88+=_0x1d9975(0x594)+_0x5da99b['imageCode']+_0x1d9975(0xc6a));let _0x4331f8='';switch(_0xc40a73){case'short_answer':case'fill_in_no_choices':_0x4331f8=_0x1d9975(0xea6);break;case _0x1d9975(0x4ac):_0x4331f8=_0x1d9975(0x972);break;case'matching_item':_0x4331f8=_0x1d9975(0x62a)+(_0x5da99b[_0x1d9975(0x638)]||[])[_0x1d9975(0xa15)](_0x511a01=>'<option\x20value=\x22'+_0x511a01+'\x22>'+_0x511a01+_0x1d9975(0xb03))[_0x1d9975(0x919)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x5da99b[_0x1d9975(0xdf0)]&&(_0x4331f8=_0x5da99b[_0x1d9975(0xdf0)][_0x1d9975(0xa15)]((_0x4f2504,_0x36519e)=>_0x1d9975(0xb99)+_0x36519e+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x36519e+_0x1d9975(0xca4)+_0x36519e+'\x22>'+_0x4f2504+_0x1d9975(0x79e))[_0x1d9975(0x919)](''));break;}document[_0x1d9975(0xbeb)](_0x1d9975(0xf2a))['innerHTML']=_0x3cea88,document[_0x1d9975(0xbeb)](_0x1d9975(0xc39))['innerHTML']=_0x4331f8;const _0x154a52=currentDisplayedQuiz[_0x1d9975(0x4ea)]?.[_0x1d9975(0xb68)]===!![],_0x3abd6a=currentDisplayedQuiz['settings']?.[_0x1d9975(0x7e6)]||_0x1d9975(0x7eb);if(_0x154a52&&_0x3abd6a===_0x1d9975(0x7eb)){const _0x5e06ca=_0x1d9975(0x598);studentQuizArea[_0x1d9975(0x2d0)](_0x1d9975(0xef3))['insertAdjacentHTML'](_0x1d9975(0x5ba),_0x5e06ca);}studentQuizArea[_0x1d9975(0x312)](_0x1d9975(0x5ba),_0x1d9975(0xcf5)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x1d9975(0x81c)]-0x1?_0x1d9975(0xb69):_0x1d9975(0xe4a))+_0x1d9975(0x244));currentMode===_0x1d9975(0x464)&&document[_0x1d9975(0xbeb)](_0x1d9975(0x2a4))?.['addEventListener'](_0x1d9975(0xc64),cancelAdminTest);document[_0x1d9975(0xbeb)](_0x1d9975(0x467))[_0x1d9975(0x79a)](_0x1d9975(0xc64),()=>handleNextQuestionInTimedMode(![]));if(window[_0x1d9975(0xeb4)])window[_0x1d9975(0xeb4)][_0x1d9975(0x61b)]([studentQuizArea]);currentDisplayedQuiz[_0x1d9975(0x4ea)]?.['timerMode']===_0x1d9975(0xeff)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3b611b=_0x4ce511,_0x209c2b=currentDisplayedQuiz[_0x3b611b(0x4ea)]['timerDuration'],_0xeb6a41=document[_0x3b611b(0xbeb)](_0x3b611b(0xdb4));if(!_0xeb6a41)return;let _0x1ca3c4=_0x209c2b;_0xeb6a41[_0x3b611b(0x28a)]=_0x3b611b(0x4e4)+_0x1ca3c4+_0x3b611b(0x23f);const _0x33febb=document[_0x3b611b(0xbeb)](_0x3b611b(0x1ce)),_0x3ac0a0=document[_0x3b611b(0xbeb)](_0x3b611b(0xdb1));perQuestionTimerInterval=setInterval(()=>{const _0x1e0c86=_0x3b611b;_0x1ca3c4--;const _0x1cea1a=_0x1ca3c4/_0x209c2b*0x64;_0x33febb[_0x1e0c86(0xbcb)][_0x1e0c86(0x52d)]=_0x1cea1a+'%',_0x3ac0a0[_0x1e0c86(0x211)]=_0x1ca3c4,_0x1ca3c4<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x60577a=![]){const _0x5059ed=_0x4ce511;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4f1875=null,_0xcfea5=![];if(!_0x60577a){const _0x54f50a=currentDisplayedQuiz[_0x5059ed(0x7bb)][currentQuestionIndex],_0x81c03=_0x54f50a[_0x5059ed(0xd06)]||currentDisplayedQuiz[_0x5059ed(0xd15)];if(_0x81c03==='short_answer'||_0x81c03===_0x5059ed(0x2fc))_0x4f1875=document[_0x5059ed(0x2d0)](_0x5059ed(0x9ce))?.[_0x5059ed(0xc07)][_0x5059ed(0x88c)]()??'';else{if(_0x81c03===_0x5059ed(0x700))_0x4f1875=document[_0x5059ed(0x2d0)](_0x5059ed(0x4a9))?.['value']??'';else{const _0x252692=document[_0x5059ed(0x2d0)]('input[name=\x22question_single\x22]:checked');_0x252692&&(_0x4f1875=_0x252692['value']);}}if(_0x4f1875===null||_0x4f1875===''){showMessage(_0x5059ed(0x8b4)),startPerQuestionTimer();return;}const _0x3f7243=currentDisplayedQuiz['settings']?.[_0x5059ed(0xb68)]===!![],_0x471d19=currentDisplayedQuiz[_0x5059ed(0x4ea)]?.['confidenceMode']||'checkbox';if(_0x3f7243&&_0x471d19==='mandatory'){document[_0x5059ed(0xbeb)]('confidence-modal')[_0x5059ed(0x6b1)][_0x5059ed(0xa69)]='timed',document[_0x5059ed(0xbeb)](_0x5059ed(0xc01))[_0x5059ed(0xc07)]=_0x4f1875,document[_0x5059ed(0xbeb)](_0x5059ed(0x731))[_0x5059ed(0xa1f)][_0x5059ed(0x711)]('hidden');return;}const _0x2ed6f6=document[_0x5059ed(0xbeb)](_0x5059ed(0x995));_0x2ed6f6&&(_0xcfea5=_0x2ed6f6[_0x5059ed(0x375)]);}const _0x41386e={'answer':_0x4f1875,'wasConfident':_0xcfea5};proceedToNextQuestion(_0x41386e);}async function finalizePerQuestionQuiz(){const _0x4045cd=_0x4ce511,_0x320938=currentDisplayedQuiz[_0x4045cd(0x7bb)][_0x4045cd(0x398)](_0x209abd=>_0x209abd[_0x4045cd(0xd06)]==='short_answer');_0x320938?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x4045cd(0x558));const _0x52f938=currentQuizData['id'],_0x293193=doc(db,_0x4045cd(0xcaf)+appId+_0x4045cd(0x284)+_0x52f938+_0x4045cd(0x65f),currentStudentName),_0x32e2d1=await getDoc(_0x293193),_0x2a5496=_0x32e2d1['exists']()?_0x32e2d1[_0x4045cd(0xbfb)]():{},_0xe5f20c=_0x2a5496[_0x4045cd(0x8d7)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0xe5f20c);}function getResultsFilename(){const _0x48e331=_0x4ce511,_0x2cb2aa=document[_0x48e331(0xbeb)]('results-quiz-title')[_0x48e331(0x211)][_0x48e331(0xea1)](/[^a-z0-9]/gi,'_')[_0x48e331(0x298)]();return _0x48e331(0x4d4)+(_0x2cb2aa||_0x48e331(0x3b8));}function exportResultsAsImage(){const _0x38abd2=_0x4ce511,_0x416675=document[_0x38abd2(0xbeb)](_0x38abd2(0x909));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x416675)[_0x38abd2(0x8f3)](_0x3ddf6d=>{const _0x37f440=_0x38abd2,_0x24e74c=document[_0x37f440(0x38c)]('a');_0x24e74c[_0x37f440(0x206)]=getResultsFilename()+'.png',_0x24e74c[_0x37f440(0x215)]=_0x3ddf6d[_0x37f440(0xbc3)](_0x37f440(0x97c)),_0x24e74c['click'](),messageModal[_0x37f440(0xa1f)][_0x37f440(0x7e0)]('hidden');});}function exportResultsAsPDF(){const _0x166736=_0x4ce511,{jsPDF:_0x514579}=window[_0x166736(0x5fa)],_0x527994=new _0x514579();_0x527994[_0x166736(0xe6f)](_0x166736(0x58e),_0x166736(0x981)),_0x527994[_0x166736(0xb82)]({'html':'#results-table'}),_0x527994[_0x166736(0x912)](getResultsFilename()+_0x166736(0x1dd));}function exportResultsAsWord(){const _0x3ed3e1=_0x4ce511,_0x299626='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x3ed3e1(0xc75),_0x2828be='</body></html>',_0x2bcbbc=_0x299626+document[_0x3ed3e1(0xbeb)](_0x3ed3e1(0x909))[_0x3ed3e1(0x28a)]+_0x2828be,_0x58711a='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x2bcbbc),_0x21b2b1=document['createElement']('a');document[_0x3ed3e1(0xdc7)][_0x3ed3e1(0x620)](_0x21b2b1),_0x21b2b1['href']=_0x58711a,_0x21b2b1[_0x3ed3e1(0x206)]=getResultsFilename()+_0x3ed3e1(0x716),_0x21b2b1[_0x3ed3e1(0xc64)](),document[_0x3ed3e1(0xdc7)]['removeChild'](_0x21b2b1);}function exportResultsAsExcel(){const _0x339a83=_0x4ce511,_0x3e08a2=document['getElementById'](_0x339a83(0x69c));let _0x57fc82=[];for(let _0x304ae6=0x0;_0x304ae6<_0x3e08a2[_0x339a83(0x421)][_0x339a83(0x81c)];_0x304ae6++){let _0x35fb80=[],_0x4a1d16=_0x3e08a2['rows'][_0x304ae6][_0x339a83(0xb02)](_0x339a83(0x5b6));for(let _0x4d3869=0x0;_0x4d3869<_0x4a1d16['length'];_0x4d3869++){_0x35fb80[_0x339a83(0x9ba)]('\x22'+_0x4a1d16[_0x4d3869][_0x339a83(0xf61)][_0x339a83(0xea1)](/"/g,'\x22\x22')+'\x22');}_0x57fc82[_0x339a83(0x9ba)](_0x35fb80[_0x339a83(0x919)](','));}const _0x3ebda8=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x57fc82['join']('\x0a')],{'type':_0x339a83(0x882)}),_0x3a8e1e=document['createElement']('a');_0x3a8e1e[_0x339a83(0x215)]=URL['createObjectURL'](_0x3ebda8),_0x3a8e1e[_0x339a83(0x206)]=getResultsFilename()+'.csv',_0x3a8e1e[_0x339a83(0xc64)]();}function exportTableAsImage(_0x1992d4,_0x2bfcff){const _0x192bc1=_0x4ce511,_0x1565e4=document[_0x192bc1(0xbeb)](_0x1992d4),_0x5a5b90=document['getElementById'](_0x192bc1(0xe2f));if(!_0x1565e4){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x192bc1(0x61c));const _0x2951f5=document['createElement'](_0x192bc1(0x3ae));_0x2951f5[_0x192bc1(0xbcb)]['backgroundColor']='#ffffff',_0x2951f5['style'][_0x192bc1(0x47c)]=_0x192bc1(0x506),_0x2951f5[_0x192bc1(0xbcb)][_0x192bc1(0x52d)]=_0x192bc1(0x7b7),_0x2951f5['style'][_0x192bc1(0x532)]='fixed',_0x2951f5[_0x192bc1(0xbcb)]['left']=_0x192bc1(0x53a),_0x2951f5['style'][_0x192bc1(0xdaf)]='0',_0x2951f5['style'][_0x192bc1(0xc9e)]='-1';const _0x3e184b=document[_0x192bc1(0x38c)]('h1');_0x3e184b['innerText']=_0x5a5b90?_0x5a5b90[_0x192bc1(0xf61)]:'รายงานผลคะแนน',_0x3e184b[_0x192bc1(0xbcb)][_0x192bc1(0x7b1)]=_0x192bc1(0x590),_0x3e184b[_0x192bc1(0xbcb)][_0x192bc1(0x1c7)]='\x27Sarabun\x27,\x20sans-serif',_0x3e184b[_0x192bc1(0xbcb)][_0x192bc1(0x691)]=_0x192bc1(0x77b),_0x3e184b[_0x192bc1(0xbcb)][_0x192bc1(0x77c)]='bold',_0x3e184b[_0x192bc1(0xbcb)]['color']=_0x192bc1(0xc53),_0x3e184b[_0x192bc1(0xbcb)][_0x192bc1(0xc98)]=_0x192bc1(0xda3);const _0x43a818=_0x1565e4['cloneNode'](!![]);_0x43a818['style']['maxHeight']='none',_0x43a818[_0x192bc1(0xbcb)][_0x192bc1(0x260)]=_0x192bc1(0x8a8);const _0x4a9a82=_0x43a818[_0x192bc1(0xb02)]('th');let _0x6080a1=-0x1;_0x4a9a82[_0x192bc1(0xbd3)]((_0x4e9bb9,_0xba9224)=>{const _0x5819e7=_0x192bc1;_0x4e9bb9['textContent'][_0x5819e7(0x88c)]()==='ผล'&&(_0x4e9bb9[_0x5819e7(0xbcb)][_0x5819e7(0x9be)]=_0x5819e7(0x434),_0x6080a1=_0xba9224);});if(_0x6080a1!==-0x1){const _0x3f122b=_0x43a818['querySelectorAll']('tr');_0x3f122b[_0x192bc1(0xbd3)](_0x3c7aa1=>{const _0x1a4fdc=_0x192bc1,_0x19a649=_0x3c7aa1[_0x1a4fdc(0xb02)]('td');_0x19a649[_0x1a4fdc(0x81c)]>_0x6080a1&&(_0x19a649[_0x6080a1][_0x1a4fdc(0xbcb)][_0x1a4fdc(0x9be)]=_0x1a4fdc(0x434));});}_0x2951f5[_0x192bc1(0x620)](_0x3e184b),_0x2951f5[_0x192bc1(0x620)](_0x43a818),document[_0x192bc1(0xdc7)][_0x192bc1(0x620)](_0x2951f5),html2canvas(_0x2951f5,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x192bc1(0xa5b)})[_0x192bc1(0x8f3)](_0x3781e6=>{const _0x2cb990=_0x192bc1,_0x1d5463=document[_0x2cb990(0x38c)]('a');_0x1d5463['download']=_0x2bfcff+_0x2cb990(0x1e1),_0x1d5463[_0x2cb990(0x215)]=_0x3781e6[_0x2cb990(0xbc3)](_0x2cb990(0x97c)),_0x1d5463[_0x2cb990(0xc64)](),document[_0x2cb990(0xdc7)][_0x2cb990(0x75a)](_0x2951f5),messageModal[_0x2cb990(0xa1f)]['add'](_0x2cb990(0x9d8));})[_0x192bc1(0x7d9)](_0x1ff87b=>{const _0x12b5c3=_0x192bc1;console[_0x12b5c3(0xd74)](_0x12b5c3(0x737),_0x1ff87b),document['body'][_0x12b5c3(0x75a)](_0x2951f5),showMessage(_0x12b5c3(0xd35));});}function exportTableAsPDF(_0x1adc5b,_0x3b98d1){const _0x5d623f=_0x4ce511,{jsPDF:_0x1fed6a}=window[_0x5d623f(0x5fa)],_0x283a5c=new _0x1fed6a();_0x283a5c[_0x5d623f(0xe6f)]('helvetica',_0x5d623f(0x981)),_0x283a5c[_0x5d623f(0xb82)]({'html':'#'+_0x1adc5b}),_0x283a5c[_0x5d623f(0x912)](_0x3b98d1+'.pdf');}function exportTableAsWord(_0x30d5a5,_0x3bd63a){const _0x2e61ac=_0x4ce511,_0x4aff96=document[_0x2e61ac(0xbeb)](_0x30d5a5);if(!_0x4aff96){showMessage(_0x2e61ac(0x5cb));return;}const _0x408cb3=_0x2e61ac(0x42f)+_0x2e61ac(0xa9f)+_0x2e61ac(0x827)+_0x2e61ac(0xc75),_0x4adc28=_0x2e61ac(0x518),_0x5b114c=_0x408cb3+_0x4aff96[_0x2e61ac(0x28a)]+_0x4adc28,_0x498e12=_0x2e61ac(0x788)+encodeURIComponent(_0x5b114c),_0x25a392=document[_0x2e61ac(0x38c)]('a');document[_0x2e61ac(0xdc7)][_0x2e61ac(0x620)](_0x25a392),_0x25a392[_0x2e61ac(0x215)]=_0x498e12,_0x25a392[_0x2e61ac(0x206)]=_0x3bd63a+'.doc',_0x25a392[_0x2e61ac(0xc64)](),document[_0x2e61ac(0xdc7)][_0x2e61ac(0x75a)](_0x25a392);}function exportTableAsExcel(_0x8b630d,_0x837e58){const _0x519de4=_0x4ce511,_0x4151c2=document[_0x519de4(0xbeb)](_0x8b630d);if(!_0x4151c2){showMessage(_0x519de4(0x5cb));return;}let _0x48f780=[];for(let _0x45a6af=0x0;_0x45a6af<_0x4151c2['rows']['length'];_0x45a6af++){let _0x314afa=[],_0x1f63e6=_0x4151c2[_0x519de4(0x421)][_0x45a6af][_0x519de4(0xb02)](_0x519de4(0x5b6));for(let _0x31bb1d=0x0;_0x31bb1d<_0x1f63e6[_0x519de4(0x81c)];_0x31bb1d++){_0x314afa[_0x519de4(0x9ba)]('\x22'+_0x1f63e6[_0x31bb1d][_0x519de4(0xf61)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x48f780[_0x519de4(0x9ba)](_0x314afa[_0x519de4(0x919)](','));}const _0x584535=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x48f780[_0x519de4(0x919)]('\x0a')],{'type':_0x519de4(0x882)}),_0x1b0b4d=document['createElement']('a');_0x1b0b4d[_0x519de4(0x215)]=URL['createObjectURL'](_0x584535),_0x1b0b4d[_0x519de4(0x206)]=_0x837e58+_0x519de4(0xbf9),_0x1b0b4d[_0x519de4(0xc64)]();}function renderAnalytics(_0x5701af,_0x6085fa){const _0x18155f=_0x4ce511,_0x313edd=_0x6085fa[_0x18155f(0x395)](_0x52dc92=>_0x52dc92['latestScore']!==undefined),_0x372b10=currentProjectData[_0x18155f(0x7cd)][_0x18155f(0x81c)],_0x5ad86a=_0x313edd[_0x18155f(0x81c)],_0x16174b=_0x372b10-_0x5ad86a,_0x259392=_0x372b10>0x0?_0x5ad86a/_0x372b10*0x64:0x0,_0x1af003=_0x313edd[_0x18155f(0xa15)](_0x459368=>_0x459368['latestScore']),_0x3c18ef=_0x1af003[_0x18155f(0x81c)]>0x0?_0x1af003[_0x18155f(0x6f2)]((_0x1f9bac,_0x874019)=>_0x1f9bac+_0x874019,0x0)/_0x1af003['length']:0x0,_0x350a37=_0x5701af[_0x18155f(0x7bb)]['length'],_0xc627ac=_0x350a37>0x0?_0x3c18ef/_0x350a37*0x64:0x0,_0x2da000=calculateItemAnalysis(_0x5701af,_0x313edd),_0x29a4a5=calculateReliabilityKR20(_0x5701af,_0x313edd,_0x2da000['perQuestionStats']);let _0x37b5e9='';if(_0x29a4a5!==null){let _0x471471='';if(_0x29a4a5>=0.9)_0x471471=_0x18155f(0x865);else{if(_0x29a4a5>=0.8)_0x471471=_0x18155f(0xf27);else{if(_0x29a4a5>=0.7)_0x471471='ดี';else{if(_0x29a4a5>=0.6)_0x471471=_0x18155f(0xd46);else _0x471471=_0x18155f(0xa72);}}}_0x37b5e9=_0x18155f(0xc22)+_0x29a4a5[_0x18155f(0x7a7)](0x2)+_0x18155f(0x4d5)+_0x471471+_0x18155f(0x765);}const _0x12e9f1=document[_0x18155f(0xbeb)](_0x18155f(0xd95));_0x12e9f1[_0x18155f(0x28a)]=_0x18155f(0xc5f)+_0x259392['toFixed'](0x0)+_0x18155f(0x9f6)+_0x5ad86a+'/'+_0x372b10+_0x18155f(0x430)+_0x3c18ef[_0x18155f(0x7a7)](0x2)+_0x18155f(0xdc9)+_0xc627ac[_0x18155f(0x7a7)](0x0)+_0x18155f(0xea3)+(_0x1af003[_0x18155f(0x81c)]>0x0?Math['max'](..._0x1af003):'N/A')+_0x18155f(0xa9e)+(_0x1af003[_0x18155f(0x81c)]>0x0?Math[_0x18155f(0x67d)](..._0x1af003):_0x18155f(0x30b))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37b5e9+_0x18155f(0x366);const _0x958f71=document[_0x18155f(0xbeb)](_0x18155f(0xcf0));_0x958f71&&_0x958f71['remove']();const _0x2db8c4=_0x18155f(0xd1c);_0x12e9f1[_0x18155f(0x312)](_0x18155f(0x717),_0x2db8c4);const _0x433627=currentProjectData[_0x18155f(0x7cd)]||[];renderSubmissionChart(_0x5ad86a,_0x16174b,_0x313edd,_0x433627),renderScoreDistributionChart(_0x313edd,_0x350a37),renderQuestionAnalytics(_0x5701af,_0x313edd,_0x433627),renderInterestingStats(_0x5701af,_0x313edd);}async function handleExportLessonPDF(){const _0x195c8c=_0x4ce511,_0x1726ca=document['getElementById']('lesson-plan-content'),_0x27eb51=document['getElementById'](_0x195c8c(0xb71))[_0x195c8c(0x211)],_0x599984=window[_0x195c8c(0xb66)]('',_0x195c8c(0x8f1)),_0x30e930=_0x195c8c(0x779)+_0x27eb51+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1726ca[_0x195c8c(0x28a)]+_0x195c8c(0x427);_0x599984['document'][_0x195c8c(0xae8)](_0x30e930),_0x599984[_0x195c8c(0x5a6)][_0x195c8c(0xdc0)](),_0x599984[_0x195c8c(0x48b)]=function(){setTimeout(()=>{const _0xe2e67b=_0x5a5c;_0x599984[_0xe2e67b(0xf41)]();},0x5dc);};}function renderInterestingStats(_0x1e5dee,_0x1415ac){const _0x163f04=_0x4ce511,_0x4af60d=document[_0x163f04(0xbeb)](_0x163f04(0x722));if(!_0x4af60d)return;if(_0x1415ac[_0x163f04(0x81c)]===0x0){_0x4af60d[_0x163f04(0x28a)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x34e6c8=_0x1e5dee[_0x163f04(0x7bb)][_0x163f04(0xa15)]((_0x1b8a27,_0x3ca3d6)=>({'index':_0x3ca3d6+0x1,'text':_0x1b8a27['questionText']||_0x1b8a27[_0x163f04(0x4dd)],'correct':0x0}));_0x1415ac['forEach'](_0x44091d=>{const _0x3d73fd=_0x163f04,_0x55f1f8=_0x44091d['attempts'][_0x44091d[_0x3d73fd(0x8d7)][_0x3d73fd(0x81c)]-0x1];_0x55f1f8&&_0x55f1f8[_0x3d73fd(0xb0f)]&&_0x55f1f8[_0x3d73fd(0xb0f)]['forEach'](_0x217b95=>{const _0x20004f=_0x3d73fd,_0x3b8cdb=_0x34e6c8[_0x20004f(0x340)](_0x5eed0d=>_0x5eed0d['text']===_0x217b95[_0x20004f(0x672)]);_0x217b95[_0x20004f(0xc70)]&&_0x3b8cdb&&_0x3b8cdb[_0x20004f(0x89a)]++;});});const _0x590f87=_0x1415ac['length'],_0x267fa1=Math[_0x163f04(0xddc)](..._0x34e6c8[_0x163f04(0xa15)](_0x348461=>_0x348461[_0x163f04(0x89a)])),_0x5c3240=Math[_0x163f04(0x67d)](..._0x34e6c8[_0x163f04(0xa15)](_0x28fed0=>_0x28fed0[_0x163f04(0x89a)])),_0x106f29=_0x34e6c8[_0x163f04(0x395)](_0x191627=>_0x191627[_0x163f04(0x89a)]===_0x267fa1)[_0x163f04(0xa15)](_0x36b70f=>'ข้อ\x20'+_0x36b70f['index']),_0x38b840=_0x34e6c8[_0x163f04(0x395)](_0x417cf4=>_0x417cf4['correct']===_0x5c3240)[_0x163f04(0xa15)](_0xc84e35=>_0x163f04(0x988)+_0xc84e35[_0x163f04(0x76b)]),_0x282cc4=_0x1415ac[_0x163f04(0x2b3)]((_0xe3b60e,_0x287920)=>_0x287920[_0x163f04(0xbd0)]-_0xe3b60e[_0x163f04(0xbd0)])[_0x163f04(0x395)]((_0x3b810b,_0x5e601a,_0x3c558f)=>_0x3b810b[_0x163f04(0xbd0)]===_0x3c558f[0x0][_0x163f04(0xbd0)]),_0x1884e7=_0x1415ac['sort']((_0x94fbfc,_0x486628)=>_0x94fbfc[_0x163f04(0xbd0)]-_0x486628[_0x163f04(0xbd0)])[_0x163f04(0x395)]((_0x501089,_0x2c39fb,_0x4c35d7)=>_0x501089['latestScore']===_0x4c35d7[0x0][_0x163f04(0xbd0)]),_0x29b3f0=_0x163f04(0x74f)+_0x106f29[_0x163f04(0x919)](',\x20')+_0x163f04(0xcfe)+_0x267fa1+_0x163f04(0xeac)+_0x590f87+_0x163f04(0xbfd)+_0x38b840['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x590f87-_0x5c3240)+_0x163f04(0xeac)+_0x590f87+_0x163f04(0x47d)+_0x282cc4[_0x163f04(0xa15)](_0x5db32c=>_0x5db32c[_0x163f04(0x8df)])[_0x163f04(0x919)](',\x20')+_0x163f04(0x4f1)+_0x282cc4[0x0]['latestScore']+_0x163f04(0xe00)+_0x1884e7[_0x163f04(0xa15)](_0x49d831=>_0x49d831[_0x163f04(0x8df)])[_0x163f04(0x919)](',\x20')+_0x163f04(0x4f1)+_0x1884e7[0x0][_0x163f04(0xbd0)]+_0x163f04(0x60a);_0x4af60d[_0x163f04(0x28a)]=_0x29b3f0;}function renderSubmissionChart(_0x550615,_0x4f4ba6,_0x6e8566,_0x30f3cd){const _0x38112f=_0x4ce511,_0x3a20ae=document[_0x38112f(0xbeb)](_0x38112f(0x7cc))[_0x38112f(0xd69)]('2d'),_0x4aa1a8=_0x6e8566['map'](_0x1815c1=>_0x1815c1[_0x38112f(0x8df)]),_0x15def0=_0x30f3cd[_0x38112f(0x395)](_0x4a13e0=>!_0x4aa1a8['includes'](_0x4a13e0));chartInstances[_0x38112f(0x45a)]&&chartInstances[_0x38112f(0x45a)][_0x38112f(0x1e8)](),chartInstances[_0x38112f(0x45a)]=new Chart(_0x3a20ae,{'type':_0x38112f(0xdd5),'data':{'labels':[_0x38112f(0xa0e),_0x38112f(0xbc4)],'datasets':[{'data':[_0x550615,_0x4f4ba6],'backgroundColor':[_0x38112f(0x8d3),_0x38112f(0x8d2)],'borderColor':[_0x38112f(0xa5b),_0x38112f(0xa5b)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x38112f(0x9c0)},'tooltip':{'callbacks':{'label':function(_0xe89ce0){const _0x5243e3=_0x38112f;let _0x27790e=_0xe89ce0[_0x5243e3(0x8e1)]||'';return _0x27790e&&(_0x27790e+=':\x20'),_0x27790e+=_0xe89ce0[_0x5243e3(0x4ca)],_0x27790e;},'afterLabel':function(_0x49aae3){const _0x4aa6f7=_0x38112f;let _0x5e68c8;return _0x49aae3[_0x4aa6f7(0xe9e)]===0x0?_0x5e68c8=_0x4aa1a8:_0x5e68c8=_0x15def0,_0x5e68c8[_0x4aa6f7(0x81c)]>0x0?_0x5e68c8[_0x4aa6f7(0x919)]('\x0a'):_0x4aa6f7(0x51f);}}}}}});}function renderScoreDistributionChart(_0xdd8f3a,_0x2a96ce){const _0x58ba66=_0x4ce511,_0x4df6fc=document[_0x58ba66(0xbeb)]('score-distribution-chart')['getContext']('2d'),_0x44a391={};for(let _0xd64b73=0x0;_0xd64b73<=_0x2a96ce;_0xd64b73++){_0x44a391[_0xd64b73]=0x0;}_0xdd8f3a[_0x58ba66(0xbd3)](_0x363b9e=>{const _0x671629=_0x58ba66;_0x44a391[_0x363b9e['latestScore']]!==undefined&&_0x44a391[_0x363b9e[_0x671629(0xbd0)]]++;}),chartInstances[_0x58ba66(0x9c2)]&&chartInstances['score'][_0x58ba66(0x1e8)](),chartInstances[_0x58ba66(0x9c2)]=new Chart(_0x4df6fc,{'type':'bar','data':{'labels':Object[_0x58ba66(0xafa)](_0x44a391),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x44a391),'backgroundColor':_0x58ba66(0xcc8),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x58ba66(0x8a7)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4bbb91){const _0x323fbc=_0x58ba66,_0x223980=_0x4bbb91[_0x323fbc(0x8e1)],_0x4825d8=_0xdd8f3a[_0x323fbc(0x395)](_0x4c5569=>_0x4c5569[_0x323fbc(0xbd0)]==_0x223980)['map'](_0x20a685=>_0x20a685['studentName']);return _0x4825d8[_0x323fbc(0x81c)]>0x0?_0x4825d8[_0x323fbc(0x919)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x409b74,_0x2a5059,_0x5c610a){const _0x1feabe=_0x4ce511,_0x3e8ccb=document[_0x1feabe(0xbeb)](_0x1feabe(0x8ef));if(_0x5c610a[_0x1feabe(0x81c)]===0x0){_0x3e8ccb[_0x1feabe(0x28a)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x29d2eb=calculateItemAnalysis(_0x409b74,_0x2a5059),_0x41ddbf=calculateDistractorAnalysis(_0x409b74,_0x2a5059);let _0x40bf9a='';_0x29d2eb[_0x1feabe(0x93c)]&&(_0x40bf9a=_0x1feabe(0xaaf)+_0x29d2eb[_0x1feabe(0x93c)][_0x1feabe(0xdb6)][_0x1feabe(0x81c)]+_0x1feabe(0xc0a)+_0x29d2eb[_0x1feabe(0x93c)][_0x1feabe(0xdb6)][_0x1feabe(0xa15)](_0x50e21e=>_0x1feabe(0xe4b)+_0x50e21e+_0x1feabe(0x431))['join']('')+_0x1feabe(0x380)+_0x29d2eb[_0x1feabe(0x93c)][_0x1feabe(0x81e)][_0x1feabe(0x81c)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29d2eb[_0x1feabe(0x93c)]['lowerGroupNames'][_0x1feabe(0xa15)](_0x52837e=>_0x1feabe(0xe4b)+_0x52837e+'</li>')['join']('')+_0x1feabe(0x94d));let _0x36255a='';const _0x565979=_0x2a5059[_0x1feabe(0xa15)](_0x7a1e05=>_0x7a1e05[_0x1feabe(0x8df)]),_0x3ba7c4=_0x568f2a=>{const _0x2c04b8=_0x1feabe;if(_0x568f2a>=0.8)return _0x2c04b8(0x3eb);if(_0x568f2a>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x568f2a>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x568f2a>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x2c04b8(0x7b5);},_0x161097=_0x4b9a74=>{const _0x176944=_0x1feabe;if(_0x4b9a74<0x0)return _0x176944(0xc45);if(_0x4b9a74>=0.4)return _0x176944(0xe86);if(_0x4b9a74>=0.3)return _0x176944(0x2f6);if(_0x4b9a74>=0.2)return _0x176944(0x791);return _0x176944(0x38f);},_0x58607e=_0x301fa4=>{const _0x413ea3=_0x1feabe,_0x33c80a=_0x301fa4[_0x413ea3(0x7a7)](0x0);if(parseFloat(_0x33c80a)===0x64)return _0x413ea3(0x5d6)+_0x33c80a+_0x413ea3(0xe9a);if(_0x301fa4>=0x32)return _0x413ea3(0xc82)+_0x33c80a+_0x413ea3(0xe9a);return _0x413ea3(0x2aa)+_0x33c80a+_0x413ea3(0xe9a);};_0x409b74['questions'][_0x1feabe(0xbd3)]((_0x16c808,_0x3511f2)=>{const _0x3fcff7=_0x1feabe,_0x11d728=_0x29d2eb[_0x3fcff7(0xf1e)][_0x3511f2],_0x37440d=_0x41ddbf[_0x3511f2],_0x1c0fa1=_0x16c808['stem']||_0x16c808['questionText']||_0x16c808[_0x3fcff7(0xa53)];let _0x294c40=0x0;const _0xd7e4cb=[],_0x556570=[];_0x2a5059[_0x3fcff7(0xbd3)](_0x1e4abf=>{const _0x23747f=_0x3fcff7,_0x12a069=_0x1e4abf[_0x23747f(0x8d7)][_0x1e4abf[_0x23747f(0x8d7)]['length']-0x1];if(_0x12a069&&_0x12a069[_0x23747f(0xb0f)]){const _0x1f417b=_0x12a069[_0x23747f(0xb0f)][_0x23747f(0x340)](_0x165380=>_0x165380[_0x23747f(0x672)]===_0x1c0fa1)??_0x12a069[_0x23747f(0xb0f)][_0x3511f2]??null;_0x1f417b&&(_0x1f417b[_0x23747f(0xc70)]?(_0x294c40++,_0xd7e4cb['push'](_0x1e4abf['studentName'])):_0x556570['push'](_0x1e4abf[_0x23747f(0x8df)]));}});const _0x2c8c72=_0x2a5059[_0x3fcff7(0x81c)]>0x0?_0x294c40/_0x2a5059[_0x3fcff7(0x81c)]*0x64:0x0,_0x5f30bb=_0x5c610a[_0x3fcff7(0x395)](_0x23bb1e=>!_0x565979[_0x3fcff7(0x87a)](_0x23bb1e)),_0x2b50f0=_0x11d728?_0x3fcff7(0xd96)+_0x11d728['p'][_0x3fcff7(0x7a7)](0x2)+_0x3fcff7(0xb53)+_0x3ba7c4(_0x11d728['p'])+_0x3fcff7(0xa07)+_0x11d728['r'][_0x3fcff7(0x7a7)](0x2)+_0x3fcff7(0xb53)+_0x161097(_0x11d728['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58607e(_0x2c8c72)+_0x3fcff7(0xa7c):'';let _0x32abcb='';_0x37440d&&(_0x32abcb=_0x3fcff7(0x95c)+Object[_0x3fcff7(0xafa)](_0x37440d)[_0x3fcff7(0xa15)](_0x380fec=>{const _0x2f89ba=_0x3fcff7,_0x420132=_0x37440d[_0x380fec],_0x47cf2c=parseInt(_0x380fec)===_0x16c808['correctAnswerIndex'],_0x46a0e0=!_0x47cf2c&&_0x420132[_0x2f89ba(0xb27)]>_0x420132[_0x2f89ba(0xf4c)];return'<tr\x20class=\x22'+(_0x47cf2c?_0x2f89ba(0xd70):'')+_0x2f89ba(0xc7c)+(_0x47cf2c?'✔\x20':'')+_0x420132[_0x2f89ba(0xa19)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x420132[_0x2f89ba(0xf4c)]+_0x2f89ba(0x9a1)+_0x420132[_0x2f89ba(0xb27)]+'\x20'+(_0x46a0e0?'👍':'')+_0x2f89ba(0x9a1)+_0x420132['total']+'</td></tr>';})[_0x3fcff7(0x919)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x47e105='';_0x11d728&&_0x11d728['upperGroupResponders']&&(_0x47e105=_0x3fcff7(0x1ee)+_0x11d728[_0x3fcff7(0xd7f)][_0x3fcff7(0x81c)]+_0x3fcff7(0x416)+_0x11d728[_0x3fcff7(0xd7f)]['map'](_0xffc2d6=>_0x3fcff7(0xe4b)+(_0xffc2d6['isCorrect']?_0x3fcff7(0xce4):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0xffc2d6[_0x3fcff7(0x631)]+_0x3fcff7(0x431))[_0x3fcff7(0x919)]('')+_0x3fcff7(0x74a)+_0x11d728[_0x3fcff7(0x371)][_0x3fcff7(0x81c)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x11d728[_0x3fcff7(0x371)][_0x3fcff7(0xa15)](_0x3ed9dd=>'<li>'+(_0x3ed9dd[_0x3fcff7(0xc70)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x3fcff7(0x41f))+'\x20'+_0x3ed9dd['name']+_0x3fcff7(0x431))['join']('')+_0x3fcff7(0x214)),_0x36255a+=_0x3fcff7(0x3ac)+(_0x3511f2+0x1)+':\x20'+_0x1c0fa1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x2b50f0+_0x3fcff7(0x242)+_0x1c0fa1+_0x3fcff7(0x2b7)+_0x294c40+_0x3fcff7(0x9f8)+_0x2a5059[_0x3fcff7(0x81c)]+_0x3fcff7(0x52e)+_0x2c8c72[_0x3fcff7(0x7a7)](0x0)+_0x3fcff7(0xb7e)+_0xd7e4cb[_0x3fcff7(0x81c)]+_0x3fcff7(0x654)+(_0xd7e4cb[_0x3fcff7(0x81c)]>0x0?_0xd7e4cb[_0x3fcff7(0x919)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x556570[_0x3fcff7(0x81c)]+_0x3fcff7(0x654)+(_0x556570[_0x3fcff7(0x81c)]>0x0?_0x556570[_0x3fcff7(0x919)](',\x20'):_0x3fcff7(0x51f))+_0x3fcff7(0xba0)+_0x5f30bb[_0x3fcff7(0x81c)]+_0x3fcff7(0x654)+(_0x5f30bb['length']>0x0?_0x5f30bb[_0x3fcff7(0x919)](',\x20'):_0x3fcff7(0x51f))+_0x3fcff7(0x8a5)+_0x32abcb+_0x3fcff7(0xa12)+_0x47e105+_0x3fcff7(0x757);}),_0x3e8ccb[_0x1feabe(0x28a)]=_0x40bf9a+_0x36255a;try{window[_0x1feabe(0xeb4)]&&MathJax[_0x1feabe(0x61b)]&&MathJax[_0x1feabe(0x61b)]([_0x3e8ccb]);}catch(_0xe6bd4f){console['error'](_0x1feabe(0xc1d),_0xe6bd4f);}}function calculateDistractorAnalysis(_0x4dbf3d,_0x2e9a78){const _0x17feda=_0x4ce511,_0x2b7ac4={};if(_0x2e9a78[_0x17feda(0x81c)]<0x2)return _0x2b7ac4;const _0x5eb33c=[..._0x2e9a78][_0x17feda(0x2b3)]((_0x2cd057,_0x1cb3c5)=>{const _0x36dbf4=_0x17feda,_0x28d291=_0x1cb3c5[_0x36dbf4(0xbd0)]-_0x2cd057[_0x36dbf4(0xbd0)];if(_0x28d291!==0x0)return _0x28d291;const _0x5b8263=_0x2cd057[_0x36dbf4(0x8d7)]?.[_0x36dbf4(0x81c)]||0x1,_0x1543f4=_0x1cb3c5[_0x36dbf4(0x8d7)]?.['length']||0x1,_0x3ed33e=_0x5b8263-_0x1543f4;if(_0x3ed33e!==0x0)return _0x3ed33e;const _0x16220c=new Date(_0x2cd057[_0x36dbf4(0xe97)]),_0x2df425=new Date(_0x1cb3c5[_0x36dbf4(0xe97)]),_0x235938=_0x16220c-_0x2df425;if(_0x235938!==0x0)return _0x235938;return _0x2cd057[_0x36dbf4(0x8df)]['localeCompare'](_0x1cb3c5[_0x36dbf4(0x8df)],'th');}),_0x56ad76=_0x5eb33c[_0x17feda(0x81c)],_0x5f4974=Math['max'](0x1,Math['floor'](_0x56ad76*0.33)),_0x4558a6=_0x5eb33c[_0x17feda(0x2c1)](0x0,_0x5f4974),_0x27af4d=_0x5eb33c[_0x17feda(0x2c1)](-_0x5f4974);return _0x4dbf3d[_0x17feda(0x7bb)][_0x17feda(0xbd3)]((_0x5343b1,_0x2bbbfe)=>{const _0x49f31a=_0x17feda;if(_0x5343b1['questionType']!=='multiple_choice'||!_0x5343b1[_0x49f31a(0xdf0)])return;const _0x88a4dd=_0x5343b1['questionText'],_0x2fedf2={};_0x5343b1[_0x49f31a(0xdf0)][_0x49f31a(0xbd3)]((_0x20d143,_0xe6d693)=>{_0x2fedf2[_0xe6d693]={'text':_0x20d143,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5eb33c[_0x49f31a(0xbd3)](_0x4ec72d=>{const _0x4613a6=_0x49f31a,_0x211bba=_0x4ec72d[_0x4613a6(0x8d7)][_0x4ec72d[_0x4613a6(0x8d7)]['length']-0x1],_0x5685db=_0x211bba[_0x4613a6(0xb0f)][_0x4613a6(0x340)](_0x592d74=>_0x592d74[_0x4613a6(0x672)]===_0x88a4dd);if(_0x5685db&&_0x5685db[_0x4613a6(0x64e)]!==null){const _0x1f5621=_0x5343b1['options']['findIndex'](_0x126101=>_0x126101===_0x5685db[_0x4613a6(0xd08)]);_0x1f5621!==-0x1&&_0x2fedf2[_0x1f5621]&&(_0x2fedf2[_0x1f5621][_0x4613a6(0x475)]++,_0x4558a6['includes'](_0x4ec72d)&&_0x2fedf2[_0x1f5621]['upper_group_count']++,_0x27af4d[_0x4613a6(0x87a)](_0x4ec72d)&&_0x2fedf2[_0x1f5621][_0x4613a6(0xb27)]++);}}),_0x2b7ac4[_0x2bbbfe]=_0x2fedf2;}),_0x2b7ac4;}function calculateReliabilityKR20(_0x1795b3,_0x1cf4ab,_0x7d252d){const _0xef8621=_0x4ce511,_0x5cdc86=_0x1795b3[_0xef8621(0x7bb)]['length'];if(_0x5cdc86<0x2||_0x1cf4ab[_0xef8621(0x81c)]<0x2)return null;const _0x17b1a2=_0x1cf4ab['map'](_0x534242=>_0x534242[_0xef8621(0xbd0)]),_0x241a46=_0x17b1a2['reduce']((_0x165959,_0x289551)=>_0x165959+_0x289551,0x0)/_0x17b1a2[_0xef8621(0x81c)],_0x20a1d5=_0x17b1a2[_0xef8621(0xa15)](_0x4b077c=>Math[_0xef8621(0xb9c)](_0x4b077c-_0x241a46,0x2))[_0xef8621(0x6f2)]((_0x565811,_0x7450e0)=>_0x565811+_0x7450e0,0x0)/_0x17b1a2[_0xef8621(0x81c)];if(_0x20a1d5===0x0)return null;let _0x501f7c=0x0;for(let _0x4ba35f=0x0;_0x4ba35f<_0x5cdc86;_0x4ba35f++){const _0x2ecca2=_0x7d252d[_0x4ba35f]?.['p'];if(_0x2ecca2===undefined)continue;const _0x414bd2=0x1-_0x2ecca2;_0x501f7c+=_0x2ecca2*_0x414bd2;}if(_0x501f7c===0x0)return null;const _0x4e91f8=_0x5cdc86/(_0x5cdc86-0x1)*(0x1-_0x501f7c/_0x20a1d5);if(_0x4e91f8>0x1)return null;return _0x4e91f8;}async function handleAnalyzeClass(){const _0x469f08=_0x4ce511;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x469f08(0xc1f));return;}const _0x26d153=collection(db,_0x469f08(0xcaf)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x469f08(0x65f)),_0x2cf773=await getDocs(_0x26d153),_0x3cd5c3=_0x2cf773[_0x469f08(0xf3c)][_0x469f08(0xa15)](_0x39ce29=>_0x39ce29['data']());if(_0x3cd5c3[_0x469f08(0x81c)]<0x2){showMessage(_0x469f08(0x2b2));return;}const _0x26d64a=document[_0x469f08(0xbeb)](_0x469f08(0xc36));_0x26d64a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x469f08(0xbeb)](_0x469f08(0xa77))[_0x469f08(0x272)]=!![];const _0x45c4ed=_0x3cd5c3[_0x469f08(0xa15)]((_0x2ae8dd,_0x4fa838)=>{const _0x9a2cc4=_0x469f08,_0xb3394f=_0x2ae8dd['attempts'][_0x2ae8dd[_0x9a2cc4(0x8d7)][_0x9a2cc4(0x81c)]-0x1];if(!_0xb3394f)return'';return _0x9a2cc4(0x3ef)+(_0x4fa838+0x1)+'\x20('+_0x2ae8dd[_0x9a2cc4(0x8df)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0xb3394f['score']+'/'+_0x2ae8dd[_0x9a2cc4(0xb7c)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON['stringify'](_0xb3394f['answers'])+_0x9a2cc4(0x675);})[_0x469f08(0x919)](_0x469f08(0xef6)),_0x2d3f17='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x469f08(0x8ba)]+_0x469f08(0x299)+JSON[_0x469f08(0xe4f)](currentQuizData['questions'])+_0x469f08(0x3a9)+_0x45c4ed+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x502a4b={'type':_0x469f08(0x24c),'properties':{'classStrengths':{'type':_0x469f08(0x216),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x469f08(0x216),'items':{'type':_0x469f08(0xa2b)}},'teacherSuggestions':{'type':_0x469f08(0x216),'items':{'type':'STRING'}}},'required':[_0x469f08(0x1f4),_0x469f08(0x749),_0x469f08(0x944)]};try{const _0x49cb60=await callAnalysisApi(_0x2d3f17,_0x502a4b);displayClassAnalysis(_0x49cb60);}catch(_0x2a39ee){console[_0x469f08(0xd74)](_0x469f08(0x250),_0x2a39ee),_0x26d64a[_0x469f08(0x28a)]=_0x469f08(0x7ea)+_0x2a39ee[_0x469f08(0x68f)]+'</p></div>';}finally{document[_0x469f08(0xbeb)](_0x469f08(0xa77))[_0x469f08(0x272)]=![];}}function displayClassAnalysis(_0x5cd4d8){const _0x2569a2=_0x4ce511,_0x92074d=document[_0x2569a2(0xbeb)](_0x2569a2(0xc36));if(!_0x5cd4d8){_0x92074d[_0x2569a2(0x28a)]=_0x2569a2(0x494);return;}_0x92074d[_0x2569a2(0x28a)]=_0x2569a2(0x1c4)+_0x5cd4d8['classStrengths'][_0x2569a2(0xa15)](_0xc524b3=>_0x2569a2(0xe4b)+_0xc524b3+_0x2569a2(0x431))[_0x2569a2(0x919)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5cd4d8[_0x2569a2(0x749)][_0x2569a2(0xa15)](_0x1a26e6=>_0x2569a2(0xe4b)+_0x1a26e6+_0x2569a2(0x431))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5cd4d8[_0x2569a2(0x944)]['map'](_0x348893=>_0x2569a2(0xe4b)+_0x348893+'</li>')['join']('')+_0x2569a2(0x78d);}function formatAndPrintWorksheet(_0x2d2594,_0x27f71b){const _0x1f08fb=_0x4ce511,_0xff7f91='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x2d2594[_0x1f08fb(0x8ba)]+_0x1f08fb(0xa70)+_0x2d2594[_0x1f08fb(0x8ba)]+_0x1f08fb(0x6a1)+_0x2d2594[_0x1f08fb(0x7bb)][_0x1f08fb(0xa15)]((_0x1c9faf,_0x5f2bf6)=>_0x1f08fb(0x9a5)+(_0x5f2bf6+0x1)+'.\x20'+_0x1c9faf[_0x1f08fb(0xbc2)]+_0x1f08fb(0x856)+(_0x1c9faf[_0x1f08fb(0xf2d)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x1c9faf[_0x1f08fb(0xf2d)]+_0x1f08fb(0xc6a):'')+_0x1f08fb(0x2c5))[_0x1f08fb(0x919)]('')+_0x1f08fb(0xd6a);_0x27f71b[_0x1f08fb(0x5a6)]['write'](_0xff7f91),_0x27f71b[_0x1f08fb(0x5a6)][_0x1f08fb(0xdc0)](),_0x27f71b[_0x1f08fb(0x48b)]=function(){setTimeout(()=>{const _0x59b66d=_0x5a5c;_0x27f71b[_0x59b66d(0xf41)]();},0x3e8);};}async function generateWorksheet(){const _0x5320ff=_0x4ce511,_0x58e8a4=document[_0x5320ff(0xbeb)]('worksheet-topic-input')[_0x5320ff(0xc07)][_0x5320ff(0x88c)]();if(!_0x58e8a4){showMessage(_0x5320ff(0xc65));return;}const _0x5415b4=document[_0x5320ff(0xbeb)](_0x5320ff(0x49f))[_0x5320ff(0x375)],_0x5707ac=_0x5415b4?'':'คณิตศาสตร์',_0x47191d=window[_0x5320ff(0xb66)]('',_0x5320ff(0x8f1));_0x47191d[_0x5320ff(0x5a6)]['write'](_0x5320ff(0x403));const _0x198293=parseInt(document[_0x5320ff(0xbeb)](_0x5320ff(0x701))['value']),_0x3b749c=document[_0x5320ff(0xbeb)]('include-images-checkbox')[_0x5320ff(0x375)],_0x3c63fb=_0x3b749c?_0x5320ff(0x274):'',_0x55bad9=_0x5320ff(0xda5)+_0x5707ac+_0x5320ff(0x454)+_0x198293+_0x5320ff(0x7f3)+_0x58e8a4+_0x5320ff(0x527)+_0x3c63fb+_0x5320ff(0x89b)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0xb612ea={'type':_0x5320ff(0x24c),'properties':{'topic':{'type':_0x5320ff(0xa2b)},'questions':{'type':_0x5320ff(0x216),'items':{'type':_0x5320ff(0x24c),'properties':{'questionText':{'type':_0x5320ff(0xa2b)},'imageCode':{'type':_0x5320ff(0xa2b)}},'required':[_0x5320ff(0xbc2)]}}},'required':[_0x5320ff(0x8ba),_0x5320ff(0x7bb)]};document[_0x5320ff(0xbeb)](_0x5320ff(0x51a))['textContent']='',document[_0x5320ff(0xbeb)](_0x5320ff(0xf5e))[_0x5320ff(0xa1f)][_0x5320ff(0x711)](_0x5320ff(0x9d8)),document[_0x5320ff(0xbeb)](_0x5320ff(0x91c))[_0x5320ff(0xa1f)][_0x5320ff(0x711)](_0x5320ff(0x9d8)),generateWorksheetBtn[_0x5320ff(0x272)]=!![];try{const _0x13a1c9=await callAnalysisApi(_0x55bad9,_0xb612ea);formatAndPrintWorksheet(_0x13a1c9,_0x47191d);}catch(_0x1c79a2){console['error'](_0x5320ff(0x898),_0x1c79a2);if(_0x47191d)_0x47191d[_0x5320ff(0xdc0)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x5320ff(0xbeb)](_0x5320ff(0xf5e))[_0x5320ff(0xa1f)][_0x5320ff(0x7e0)](_0x5320ff(0x9d8)),document[_0x5320ff(0xbeb)](_0x5320ff(0x91c))[_0x5320ff(0xa1f)][_0x5320ff(0x7e0)](_0x5320ff(0x9d8)),generateWorksheetBtn[_0x5320ff(0x272)]=![];}}async function callAnalysisApi(_0x49904b,_0x744401){const _0x3da343=_0x4ce511,_0x2afc5f={'contents':[{'role':'user','parts':[{'text':_0x49904b}]}],'generationConfig':{'responseMimeType':_0x3da343(0xad0),'responseSchema':_0x744401}},_0x4f4bcc=_0x3da343(0x71a),_0x52cc1d=_0x3da343(0xe61)+_0x4f4bcc,_0x3c8c3a=await fetch(_0x52cc1d,{'method':_0x3da343(0xcb8),'headers':{'Content-Type':_0x3da343(0xad0)},'body':JSON[_0x3da343(0xe4f)](_0x2afc5f)});if(!_0x3c8c3a['ok'])throw new Error(_0x3da343(0x414)+_0x3c8c3a[_0x3da343(0x3a7)]);const _0x203158=await _0x3c8c3a[_0x3da343(0x4f0)]();if(_0x203158[_0x3da343(0x7c6)]?.[0x0]?.[_0x3da343(0x59c)]?.[_0x3da343(0x459)]?.[0x0])return JSON[_0x3da343(0x6d2)](_0x203158[_0x3da343(0x7c6)][0x0][_0x3da343(0x59c)][_0x3da343(0x459)][0x0][_0x3da343(0xa19)]);else{let _0x39f2cc=_0x3da343(0x5c7);if(_0x203158[_0x3da343(0x2d6)]?.[_0x3da343(0x5d4)])_0x39f2cc=_0x3da343(0x780)+_0x203158[_0x3da343(0x2d6)][_0x3da343(0x5d4)]+'.';else _0x203158[_0x3da343(0x7c6)]?.[0x0]?.[_0x3da343(0x5d8)]&&_0x203158[_0x3da343(0x7c6)][0x0][_0x3da343(0x5d8)]!==_0x3da343(0x548)&&(_0x39f2cc='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x203158[_0x3da343(0x7c6)][0x0][_0x3da343(0x5d8)]+'.');console[_0x3da343(0xd74)](_0x39f2cc,JSON['stringify'](_0x203158));throw new Error(_0x39f2cc);}}async function handleStartSyncMode(_0xdf7993,_0x106e7e=![],_0x181cca='classic'){const _0x7c12a9=_0x4ce511,_0x2c30f6=allQuizzes[_0x7c12a9(0x340)](_0x3907d3=>_0x3907d3['id']===_0xdf7993)||allQuizzesGlobal[_0x7c12a9(0x340)](_0x458dc9=>_0x458dc9['id']===_0xdf7993);if(!_0x2c30f6){showMessage(_0x7c12a9(0x5c0));return;}currentQuizData=getShuffledQuiz(_0x2c30f6);const _0xafa567=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x7c12a9(0x823)](),_0x5b04b0=doc(db,_0x7c12a9(0xcaf)+appId+'/public/data/projects',_0x2c30f6['projectId']),_0x4d2387=await getDoc(_0x5b04b0);if(!_0x4d2387[_0x7c12a9(0x358)]()){showMessage(_0x7c12a9(0x7d1));return;}const _0x58c0b0=_0x4d2387[_0x7c12a9(0xbfb)]()[_0x7c12a9(0x7cd)]||[],_0x19fd74={};if(_0x181cca===_0x7c12a9(0xe34)||_0x181cca==='anonymous_reveal_end'){const _0x24a389=[...ANONYMOUS_NAMES][_0x7c12a9(0x2b3)](()=>0.5-Math[_0x7c12a9(0x3c9)]());_0x58c0b0[_0x7c12a9(0xbd3)]((_0x2f3149,_0x4f67d8)=>{_0x19fd74[_0x2f3149]=_0x24a389[_0x4f67d8]||'ผู้เล่น\x20'+(_0x4f67d8+0x1);});}const _0x4d051b=document[_0x7c12a9(0xbeb)](_0x7c12a9(0x22a))[_0x7c12a9(0x375)],_0xe28d7a=parseInt(document['getElementById'](_0x7c12a9(0x433))[_0x7c12a9(0xc07)],0xa);let _0x4c7ebe={'timerMode':_0x7c12a9(0x434),'timerDuration':0x0};_0x4d051b&&(_0x4c7ebe[_0x7c12a9(0xaa5)]=_0x7c12a9(0xeff),_0x4c7ebe[_0x7c12a9(0x4f8)]=_0xe28d7a||0xf0);const _0x175051=document[_0x7c12a9(0xbeb)](_0x7c12a9(0xecc))[_0x7c12a9(0x375)],_0x2e529f=document['getElementById']('enable-black-market-checkbox')[_0x7c12a9(0x375)];try{const _0x2a7e9f=await addDoc(collection(db,_0x7c12a9(0xcaf)+appId+_0x7c12a9(0x2a0)),{'quizId':_0x2c30f6['id'],'pin':_0xafa567,'status':_0x7c12a9(0xcb9),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x106e7e,'players':{},'gameVariant':_0x181cca,'reviewQuestionIndex':0x0,'playerNicknames':_0x19fd74,'isAnonymousRevealed':![],..._0x4c7ebe,'showAnswerInAnonymous':_0x175051,'isBlackMarketEnabled':_0x2e529f});currentLiveGameId=_0x2a7e9f['id'],showView('live-game'),renderSyncLobbyView(_0xafa567,_0x2c30f6[_0x7c12a9(0x8ba)]),listenForSyncGameUpdates();const _0x11eb28={'gameId':currentLiveGameId,'mode':_0x7c12a9(0xe25),'role':_0x7c12a9(0x203)};sessionStorage[_0x7c12a9(0x8b9)](_0x7c12a9(0xaed),JSON[_0x7c12a9(0xe4f)](_0x11eb28));}catch(_0x32c3bb){console[_0x7c12a9(0xd74)]('Error\x20starting\x20sync\x20game:',_0x32c3bb),showMessage(_0x7c12a9(0x85c));}}function calculateFinalPodiumScores(_0x5d832e){const _0x543d32=_0x4ce511;if(!_0x5d832e||!_0x5d832e['shuffledQuiz']||!_0x5d832e[_0x543d32(0x735)])return _0x5d832e[_0x543d32(0x735)]||{};const _0x572079=_0x5d832e[_0x543d32(0x663)]['questions'][_0x543d32(0x81c)],_0x2a5fe6=JSON[_0x543d32(0x6d2)](JSON[_0x543d32(0xe4f)](_0x5d832e[_0x543d32(0x735)]));return Object[_0x543d32(0xb18)](_0x2a5fe6)['forEach'](_0x4d1cf2=>{const _0x4ec0c9=_0x543d32,_0x4bbddd=_0x4d1cf2[_0x4ec0c9(0x9c2)]||0x0,_0x4c2a62=_0x4d1cf2[_0x4ec0c9(0xaa1)]||0x0;_0x572079>0x0&&_0x4bbddd===_0x572079?_0x4d1cf2['hasPerfectScoreBonus']=!![]:_0x4d1cf2[_0x4ec0c9(0xc1c)]=![],_0x4d1cf2[_0x4ec0c9(0x349)]=_0x4bbddd,_0x4d1cf2[_0x4ec0c9(0xaa1)]=_0x4c2a62;}),_0x2a5fe6;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x53c306=_0x4ce511;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x546d2b=doc(db,_0x53c306(0xcaf)+appId+_0x53c306(0x2a0),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x546d2b,_0x411f53=>{const _0x3efacc=_0x53c306;if(!_0x411f53[_0x3efacc(0x358)]()){sessionStorage[_0x3efacc(0x822)](_0x3efacc(0xaed)),showMessage(_0x3efacc(0xad7));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x3efacc(0x203)?showView('project-detail'):showView(_0x3efacc(0x2ec));return;}cachedGameData=_0x411f53['data'](),cachedGameData[_0x3efacc(0x663)]&&(currentQuizData=cachedGameData[_0x3efacc(0x663)]),syncDataAndRender();});const _0x30439a=collection(db,_0x53c306(0xcaf)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players');if(currentMode===_0x53c306(0x203))unsubscribePlayersCollectionListener=onSnapshot(_0x30439a,_0x587d5d=>{const _0x47bb61=_0x53c306;_0x587d5d[_0x47bb61(0x466)]()[_0x47bb61(0xbd3)](_0x3a0e0b=>{const _0x99e5bf=_0x47bb61;if(_0x3a0e0b[_0x99e5bf(0x562)]===_0x99e5bf(0x2b8)||_0x3a0e0b[_0x99e5bf(0x562)]===_0x99e5bf(0xcb4))cachedPlayerData[_0x3a0e0b[_0x99e5bf(0xb90)]['id']]=_0x3a0e0b[_0x99e5bf(0xb90)][_0x99e5bf(0xbfb)]();else _0x3a0e0b[_0x99e5bf(0x562)]===_0x99e5bf(0x57c)&&delete cachedPlayerData[_0x3a0e0b[_0x99e5bf(0xb90)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers['length']>0x0){const _0x3232ef=query(_0x30439a,where(_0x53c306(0x631),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x3232ef,_0x1c9c49=>{_0x1c9c49['docChanges']()['forEach'](_0x627376=>{const _0x5ceb55=_0x5a5c;(_0x627376[_0x5ceb55(0x562)]==='added'||_0x627376[_0x5ceb55(0x562)]==='modified')&&(cachedPlayerData[_0x627376['doc']['id']]=_0x627376[_0x5ceb55(0xb90)][_0x5ceb55(0xbfb)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x15b7d8=_0x4ce511;if(!cachedGameData)return;const _0x2ec9ca={},_0x4b8c90=cachedGameData['currentQuestionIndex'];Object[_0x15b7d8(0xafa)](cachedPlayerData)[_0x15b7d8(0xbd3)](_0x1a0a4c=>{const _0x5b51c7=_0x15b7d8,_0x3f52aa=cachedPlayerData[_0x1a0a4c],_0x3bac28=_0x3f52aa['answers']&&_0x3f52aa['answers'][_0x5b51c7(0x398)](_0x276e22=>_0x276e22[_0x5b51c7(0x4cd)]===_0x4b8c90);_0x2ec9ca[_0x1a0a4c]={..._0x3f52aa,'answered':_0x3bac28};});const _0x39669a={...cachedGameData,'players':_0x2ec9ca};currentMode===_0x15b7d8(0x203)?updateAdminSyncView(_0x39669a):updateStudentSyncView(_0x39669a);}function renderSyncLobbyView(_0x2e2cd7,_0x220161){const _0x434844=_0x4ce511;liveGameView['innerHTML']=_0x434844(0xeb3)+_0x220161+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x2e2cd7+_0x434844(0x269);const _0x2c94ef=document[_0x434844(0xbeb)](_0x434844(0x3d0)),_0x5c3e7d=document['getElementById'](_0x434844(0x24e));_0x2c94ef[_0x434844(0x79a)](_0x434844(0xb5d),()=>{const _0x1388ce=_0x434844;_0x5c3e7d[_0x1388ce(0xbcb)][_0x1388ce(0x9be)]=_0x2c94ef[_0x1388ce(0x375)]?'block':'none';}),document['getElementById'](_0x434844(0x610))['addEventListener'](_0x434844(0xc64),async()=>{const _0x232a9f=_0x434844,_0x422e77=doc(db,_0x232a9f(0xcaf)+appId+'/public/data/syncGames',currentLiveGameId),_0x1666dc=document[_0x232a9f(0xbeb)](_0x232a9f(0x3d0))[_0x232a9f(0x375)];await updateDoc(_0x422e77,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x1666dc});});}function updateAdminSyncView(_0x1fb289){const _0x488013=_0x4ce511;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x1fb289[_0x488013(0x3a7)]){case'lobby':renderSyncLobbyView(_0x1fb289[_0x488013(0xf58)],_0x1fb289[_0x488013(0x663)][_0x488013(0x8ba)]);const _0x52025e=Object['entries'](_0x1fb289[_0x488013(0x735)]||{})[_0x488013(0x395)](([_0x14745e,_0xd51e98])=>_0xd51e98[_0x488013(0x3a7)]!==_0x488013(0x966));document['getElementById'](_0x488013(0x1d9))[_0x488013(0x211)]=_0x52025e[_0x488013(0x81c)],document[_0x488013(0xbeb)](_0x488013(0xd91))[_0x488013(0x28a)]=_0x52025e[_0x488013(0xa15)](([_0x281ec8,_0x8d72a6])=>_0x488013(0x90d)+_0x281ec8+_0x488013(0x7c4)+_0x281ec8+_0x488013(0x95f))['join']('')||_0x488013(0x793),document[_0x488013(0xbeb)]('start-sync-game-btn')[_0x488013(0x272)]=_0x52025e['length']===0x0;break;case _0x488013(0x5f4):const _0x3bc7db=Object['values'](_0x1fb289[_0x488013(0x735)]||{})[_0x488013(0x395)](_0x34894d=>_0x34894d[_0x488013(0x3a7)]!==_0x488013(0x966)),_0x2e658e=_0x3bc7db[_0x488013(0x395)](_0x3ffdaf=>_0x3ffdaf[_0x488013(0xac3)])[_0x488013(0x81c)],_0x2db319=_0x2e658e===_0x3bc7db['length']&&_0x3bc7db['length']>0x0;if(_0x2db319&&_0x1fb289[_0x488013(0x3a7)]===_0x488013(0x5f4)){const _0x144934=doc(db,_0x488013(0xcaf)+appId+_0x488013(0x2a0),currentLiveGameId);updateDoc(_0x144934,{'status':'summary'});return;}if(document[_0x488013(0xbeb)](_0x488013(0xf3f))===null)renderAdminSyncQuestionView(_0x1fb289);else{const _0x5ba9d7=document[_0x488013(0xbeb)](_0x488013(0x369));_0x5ba9d7&&(_0x5ba9d7[_0x488013(0x211)]=_0x2e658e+'/'+_0x3bc7db[_0x488013(0x81c)]);const _0x1ddae4=document['getElementById']('sync-player-list');_0x1ddae4&&(_0x1ddae4[_0x488013(0x28a)]=_0x3bc7db[_0x488013(0xa15)](_0x16a8be=>{const _0x1e52de=_0x488013,_0x3c8621=_0x16a8be[_0x1e52de(0xac3)]?_0x1e52de(0x795):_0x1e52de(0x20e),_0x91b496=_0x16a8be[_0x1e52de(0xac3)]?_0x1e52de(0x4d9):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x3c8621+'\x22>'+_0x91b496+_0x1e52de(0x20b)+_0x16a8be[_0x1e52de(0x631)]+_0x1e52de(0x281)+_0x16a8be[_0x1e52de(0x631)]+_0x1e52de(0xae0);})['join'](''));}const _0xa2115e=_0x1fb289['timerMode']===_0x488013(0xeff)&&_0x1fb289[_0x488013(0x497)];if(_0xa2115e){const _0x130862=_0x1fb289[_0x488013(0x497)][_0x488013(0x8e8)]()[_0x488013(0x2e8)](),_0x5c9e4a=_0x1fb289[_0x488013(0x4f8)]*0x3e8,_0x11c61f=_0x130862+_0x5c9e4a,_0x1d555d=document[_0x488013(0xbeb)](_0x488013(0x3d1)),_0x4c9cb9=document['getElementById']('sync-timer-countdown');syncQuestionTimerInterval=setInterval(()=>{const _0x4a75bf=_0x488013,_0x35214c=Date[_0x4a75bf(0xced)](),_0x21987c=_0x3bc7db[_0x4a75bf(0x81c)]>0x0&&_0x3bc7db['every'](_0x12d4e5=>{const _0x2f34d8=_0x4a75bf;if(_0x12d4e5[_0x2f34d8(0xac3)])return!![];const _0x453728=_0x12d4e5['timeBonusThisQuestion']||0x0;return _0x35214c>=_0x130862+_0x5c9e4a+_0x453728;});if(_0x21987c){clearInterval(syncQuestionTimerInterval);const _0x3d11f1=doc(db,_0x4a75bf(0xcaf)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x3d11f1,{'status':_0x4a75bf(0x891)});return;}const _0x4278c8=_0x11c61f-_0x35214c;if(_0x4278c8<=0x0){if(_0x1d555d)_0x1d555d[_0x4a75bf(0xbcb)][_0x4a75bf(0x52d)]='0%';if(_0x4c9cb9)_0x4c9cb9['textContent']='0\x20(รอโบนัส)';}else{if(_0x1d555d&&_0x4c9cb9){const _0x50ef3a=_0x4278c8/_0x5c9e4a*0x64;_0x1d555d['style'][_0x4a75bf(0x52d)]=_0x50ef3a+'%',_0x4c9cb9[_0x4a75bf(0x211)]=Math['ceil'](_0x4278c8/0x3e8);}}},0x1f4);}break;case _0x488013(0x891):const _0x6e9109=_0x1fb289[_0x488013(0x568)],_0x1e6f93=_0x1fb289[_0x488013(0x663)]['questions'][_0x6e9109];renderSyncSummaryView(_0x1fb289,_0x1e6f93,!![]);break;case _0x488013(0x783):const _0x321931=_0x1fb289['gameVariant']||_0x488013(0x25c);_0x321931===_0x488013(0x9de)||_0x321931==='anonymous_reveal_end'?renderAdminSyncDashboard(_0x1fb289,!![],_0x1fb289[_0x488013(0x6c9)]):(_0x1fb289[_0x488013(0x3a7)]===_0x488013(0x783)&&!_0x1fb289[_0x488013(0x324)]&&((async()=>{const _0x45ec49=_0x488013;try{const _0x3be11b=doc(db,_0x45ec49(0xcaf)+appId+_0x45ec49(0x2a0),currentLiveGameId);await updateDoc(_0x3be11b,{'scoresCalculated':!![]});const _0x2c28eb=cachedPlayerData||{},_0x48b56f=_0x1fb289[_0x45ec49(0x663)][_0x45ec49(0x7bb)][_0x45ec49(0x81c)],_0x32e11d={};Object['values'](_0x2c28eb)[_0x45ec49(0xbd3)](_0x3b0b96=>{const _0x3cacdb=_0x45ec49;if(_0x3b0b96[_0x3cacdb(0x3a7)]!==_0x3cacdb(0x966)){const _0x10e297=_0x3b0b96[_0x3cacdb(0x631)],_0x2b7cba=_0x3b0b96[_0x3cacdb(0x9c2)]||0x0,_0x3e92ee=_0x3b0b96[_0x3cacdb(0xaa1)]||0x0;let _0xe1bb53=_0x3e92ee;_0x48b56f>0x0&&_0x2b7cba===_0x48b56f&&(_0xe1bb53+=0x1),_0x32e11d[_0x3cacdb(0xe5c)+_0x10e297+_0x3cacdb(0xc7e)]=_0x2b7cba,_0x32e11d[_0x3cacdb(0xe5c)+_0x10e297+'.totalPoints']=_0xe1bb53,_0x32e11d[_0x3cacdb(0xe5c)+_0x10e297+_0x3cacdb(0x95e)]=_0xe1bb53;}}),await updateDoc(_0x3be11b,{..._0x32e11d});}catch(_0x2e719c){console[_0x45ec49(0xd74)](_0x45ec49(0x870),_0x2e719c);}})()),renderAdminSyncDashboard(_0x1fb289,!![],_0x1fb289[_0x488013(0x568)]));break;case'podium':const _0x16bbbb=Object['keys'](_0x1fb289[_0x488013(0x735)]||{})[_0x488013(0x81c)]>0x0,_0x5d3de5=_0x1fb289['resultsSaved']===!![],_0x5bebcc=_0x1fb289[_0x488013(0xb9d)]===!![];_0x5bebcc&&!_0x5d3de5&&_0x16bbbb&&saveGameResultsAsSubmissions(_0x1fb289);sessionStorage[_0x488013(0x822)](_0x488013(0xaed));const _0x10a8c1=calculateFinalPodiumScores(_0x1fb289);showPodiumView(_0x10a8c1,_0x488013(0xe25),_0x1fb289);break;}}function renderAdminSyncQuestionView(_0x13b252){const _0x53a091=_0x4ce511,_0x570997=_0x13b252[_0x53a091(0x568)],_0x323a65=_0x13b252['shuffledQuiz'][_0x53a091(0x7bb)][_0x570997],_0x272f4c=_0x13b252[_0x53a091(0x663)][_0x53a091(0x7bb)][_0x53a091(0x81c)],_0xc72e12=Object[_0x53a091(0xb18)](_0x13b252['players']||{})[_0x53a091(0x395)](_0x5dab46=>_0x5dab46['status']!==_0x53a091(0x966)),_0x2a849e=_0xc72e12[_0x53a091(0x395)](_0xb23558=>_0xb23558[_0x53a091(0xac3)])[_0x53a091(0x81c)],_0x9b1f53=_0x2a849e===_0xc72e12[_0x53a091(0x81c)]&&_0xc72e12['length']>0x0,_0xbe94c6=_0x323a65[_0x53a091(0xd06)]||_0x13b252[_0x53a091(0x663)][_0x53a091(0xd15)],_0x1fd41c=(_0xbe94c6===_0x53a091(0xc63)||_0xbe94c6===_0x53a091(0x2fc))&&_0x323a65[_0x53a091(0xdf0)]&&_0x323a65[_0x53a091(0xdf0)][_0x53a091(0x81c)]>0x0;let _0x46db8f='';_0x1fd41c?_0x46db8f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x46db8f=(_0x323a65[_0x53a091(0xdf0)]||[])[_0x53a091(0xa15)](_0x2c84bf=>_0x53a091(0xe30)+_0x2c84bf+_0x53a091(0xc6a))[_0x53a091(0x919)]('');let _0x3ad126='';_0x13b252[_0x53a091(0xaa5)]===_0x53a091(0xeff)&&(_0x3ad126='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x13b252['timerDuration']+_0x53a091(0x29c));liveGameView[_0x53a091(0x28a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x570997+0x1)+_0x53a091(0xeac)+_0x272f4c+_0x53a091(0xd5c)+_0x13b252[_0x53a091(0xf58)]+_0x53a091(0xad3)+_0x2a849e+'/'+_0xc72e12[_0x53a091(0x81c)]+_0x53a091(0x993)+_0x3ad126+_0x53a091(0x70f)+(_0x323a65[_0x53a091(0xbc2)]||_0x323a65[_0x53a091(0x4dd)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x46db8f+_0x53a091(0x24a)+(!_0x9b1f53?'disabled':'')+_0x53a091(0x5fc);if(window[_0x53a091(0xeb4)])MathJax[_0x53a091(0x61b)]();const _0x5efb1d=doc(db,_0x53a091(0xcaf)+appId+_0x53a091(0x2a0),currentLiveGameId);document[_0x53a091(0xbeb)]('show-results-btn')[_0x53a091(0x79a)](_0x53a091(0xc64),async()=>{const _0x4be49a=_0x53a091;await updateDoc(_0x5efb1d,{'status':_0x4be49a(0x891)});}),document['getElementById'](_0x53a091(0x866))[_0x53a091(0x810)]=()=>{openScratchpad(_0x323a65,_0x323a65['options']||[]);},document[_0x53a091(0xbeb)](_0x53a091(0xac2))[_0x53a091(0x79a)]('click',()=>{const _0x3f924c=_0x53a091;document['getElementById'](_0x3f924c(0xf3f))[_0x3f924c(0xa1f)][_0x3f924c(0x4c3)](_0x3f924c(0x9d8));});const _0x36d763=document[_0x53a091(0xbeb)](_0x53a091(0xcce));_0x36d763&&(_0x36d763['onclick']=()=>{const _0x466a2d=_0x53a091;showConfirmation(_0x466a2d(0xd85),async()=>{await updateDoc(_0x5efb1d,{'status':'podium'});});});}function renderSyncLeaderboardView(_0x250357,_0x111c34){const _0x52622b=_0x4ce511,_0x52b79e=Object['values'](_0x250357['players']||{});_0x52b79e[_0x52622b(0x2b3)]((_0x110853,_0x1e413a)=>_0x1e413a[_0x52622b(0x9c2)]-_0x110853[_0x52622b(0x9c2)]);const _0x3a68a7=_0x52b79e[_0x52622b(0x2c1)](0x0,0x5);let _0x21404e='';if(_0x111c34){const _0xcb4fb1=_0x250357[_0x52622b(0x568)]>=_0x250357[_0x52622b(0x663)][_0x52622b(0x7bb)][_0x52622b(0x81c)]-0x1;_0x21404e='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0xcb4fb1?_0x52622b(0xba9):_0x52622b(0x7af))+_0x52622b(0xc2f);}else _0x21404e=_0x52622b(0x5a1);liveGameView[_0x52622b(0x28a)]=_0x52622b(0x338)+_0x3a68a7[_0x52622b(0xa15)]((_0x4a2240,_0x22dd9d)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x22dd9d+0x1)+'.\x20'+_0x4a2240[_0x52622b(0x631)]+'</span><span\x20class=\x22font-bold\x22>'+_0x4a2240[_0x52622b(0x9c2)]+'</span></div>')[_0x52622b(0x919)]('')+_0x52622b(0x381)+_0x21404e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x111c34&&document['getElementById'](_0x52622b(0xdb5))['addEventListener']('click',async()=>{const _0x20b59c=_0x52622b,_0x836977=doc(db,'artifacts/'+appId+_0x20b59c(0x2a0),currentLiveGameId),_0x1b5532=_0x250357[_0x20b59c(0x568)]+0x1;if(_0x1b5532<_0x250357[_0x20b59c(0x663)][_0x20b59c(0x7bb)]['length']){const _0x3ea18c={};Object[_0x20b59c(0xafa)](_0x250357[_0x20b59c(0x735)])[_0x20b59c(0xbd3)](_0x173e60=>{const _0x2dc32b=_0x20b59c;_0x3ea18c[_0x2dc32b(0xe5c)+_0x173e60+'.answered']=![];}),await updateDoc(_0x836977,{'status':_0x20b59c(0x5f4),'currentQuestionIndex':_0x1b5532,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x836977,{'status':_0x20b59c(0x9d4)});});}async function handleJoinSyncGame(){const _0x4d2c0b=_0x4ce511,_0x558910=prompt(_0x4d2c0b(0xc11));if(!_0x558910||_0x558910[_0x4d2c0b(0x88c)]()[_0x4d2c0b(0x81c)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x2f0500=collection(db,_0x4d2c0b(0xcaf)+appId+_0x4d2c0b(0x2a0)),_0x158192=query(_0x2f0500,where(_0x4d2c0b(0xf58),'==',_0x558910[_0x4d2c0b(0x88c)]()),where(_0x4d2c0b(0x3a7),'==',_0x4d2c0b(0xcb9))),_0x2261e8=await getDocs(_0x158192);if(_0x2261e8[_0x4d2c0b(0x68b)]){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x3296cf=_0x2261e8[_0x4d2c0b(0xf3c)][0x0];currentLiveGameId=_0x3296cf['id'];const _0xfeb5de=_0x3296cf['data'](),_0x26c7bf=doc(db,_0x4d2c0b(0xcaf)+appId+_0x4d2c0b(0x24f),_0xfeb5de[_0x4d2c0b(0xc9b)]),_0x14144a=await getDoc(_0x26c7bf);if(!_0x14144a[_0x4d2c0b(0x358)]())throw new Error(_0x4d2c0b(0xa09));const _0x1a67e0=_0x14144a['data'](),_0x32372c=doc(db,_0x4d2c0b(0xcaf)+appId+_0x4d2c0b(0x74c),_0x1a67e0['projectId']),_0x30f40f=await getDoc(_0x32372c);if(!_0x30f40f[_0x4d2c0b(0x358)]())throw new Error(_0x4d2c0b(0xcac));currentQuizData=_0xfeb5de[_0x4d2c0b(0x663)];const _0xfdcf34=_0x30f40f[_0x4d2c0b(0xbfb)]();showView(_0x4d2c0b(0x48c)),showTeamPlayerSelection(_0xfdcf34[_0x4d2c0b(0x7cd)],_0x1a67e0[_0x4d2c0b(0x8ba)]);const _0x4676ff=document[_0x4d2c0b(0xbeb)]('confirm-team-players-btn');_0x4676ff[_0x4d2c0b(0x810)]=confirmAndJoinSyncGame;}catch(_0x2aa122){console['error'](_0x4d2c0b(0x42a),_0x2aa122),showMessage(_0x4d2c0b(0x571)+_0x2aa122[_0x4d2c0b(0x68f)]);}}function updateStudentSyncView(_0x14bb95){const _0x1010ca=_0x4ce511,_0x508dcf=localTeamPlayers[0x0],_0x560352=_0x14bb95['players'][_0x508dcf]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x14bb95['status']){case _0x1010ca(0xcb9):showView(_0x1010ca(0x934)),liveGameView[_0x1010ca(0x28a)]=_0x1010ca(0x48f);break;case _0x1010ca(0x5f4):if(_0x14bb95[_0x1010ca(0x568)]!==lastSeenQuestionIndex){console[_0x1010ca(0x2c0)](_0x1010ca(0x503)),sessionStorage[_0x1010ca(0x822)](_0x1010ca(0xc13)),sessionStorage[_0x1010ca(0x822)](_0x1010ca(0xef1)),sessionStorage[_0x1010ca(0x822)]('pollUsedThisTurn');const _0x87df3=_0x1010ca(0x5c4)+lastSeenQuestionIndex,_0x17baf4=_0x1010ca(0xe80)+lastSeenQuestionIndex,_0x5d10fa=_0x1010ca(0x28c)+lastSeenQuestionIndex;Object[_0x1010ca(0xafa)](sessionStorage)[_0x1010ca(0xbd3)](_0x291767=>{const _0x22784c=_0x1010ca;(_0x291767[_0x22784c(0x733)](_0x87df3)||_0x291767[_0x22784c(0x733)](_0x17baf4)||_0x291767[_0x22784c(0x733)](_0x5d10fa))&&sessionStorage[_0x22784c(0x822)](_0x291767);});if(_0x560352[_0x1010ca(0xc8a)]||_0x560352[_0x1010ca(0xa54)]||(_0x560352[_0x1010ca(0x7da)]||0x0)>0x0){const _0x39faba=doc(db,_0x1010ca(0xcaf)+appId+_0x1010ca(0x1ec)+currentLiveGameId+_0x1010ca(0xd94),_0x508dcf);updateDoc(_0x39faba,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x1010ca(0x7d9)](_0x5a1d15=>console[_0x1010ca(0xd74)](_0x1010ca(0x9fe),_0x5a1d15));}lastSeenQuestionIndex=_0x14bb95['currentQuestionIndex'];}localPlayerTurnIndex=0x0;const _0x2656aa=localTeamPlayers[_0x1010ca(0xdd3)](_0x485dcb=>_0x14bb95[_0x1010ca(0x735)][_0x485dcb]?.[_0x1010ca(0xac3)]===!![]);if(_0x2656aa)liveGameView['innerHTML']='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>';else{renderStudentSyncQuestionView(_0x14bb95);if(_0x14bb95[_0x1010ca(0xaa5)]===_0x1010ca(0xeff)){if(!_0x14bb95[_0x1010ca(0x497)]){console[_0x1010ca(0x2c0)](_0x1010ca(0xa2a));return;}const _0x95800a=_0x14bb95[_0x1010ca(0x497)]['toDate']()[_0x1010ca(0x2e8)](),_0xf4fea7=_0x14bb95[_0x1010ca(0x4f8)]*0x3e8,_0x1d50f7=localTeamPlayers[_0x1010ca(0xa15)](_0x46019a=>_0x14bb95[_0x1010ca(0x735)][_0x46019a]?.[_0x1010ca(0x7da)]||0x0),_0xebc512=Math['max'](..._0x1d50f7,0x0),_0x87d58=_0x95800a+_0xf4fea7+_0xebc512;syncQuestionTimerInterval=setInterval(()=>{const _0x3ae211=_0x1010ca,_0x54afd8=_0x87d58-Date[_0x3ae211(0xced)](),_0xf7d2ff=document[_0x3ae211(0xbeb)](_0x3ae211(0x3d1)),_0x24398e=document[_0x3ae211(0xbeb)]('sync-timer-countdown');if(_0x54afd8<=0x0){clearInterval(syncQuestionTimerInterval);if(_0xf7d2ff)_0xf7d2ff[_0x3ae211(0xbcb)][_0x3ae211(0x52d)]='0%';if(_0x24398e)_0x24398e['textContent']='0';liveGameView[_0x3ae211(0x28a)]=_0x3ae211(0xc5e);}else{if(_0xf7d2ff&&_0x24398e){const _0x158c39=_0xf4fea7+_0xebc512,_0x4001bd=_0x158c39>0x0?_0x54afd8/_0x158c39*0x64:0x0;_0xf7d2ff[_0x3ae211(0xbcb)][_0x3ae211(0x52d)]=_0x4001bd+'%',_0x24398e[_0x3ae211(0x211)]=Math['ceil'](_0x54afd8/0x3e8);}}},0x1f4);}}break;case _0x1010ca(0x891):liveGameView[_0x1010ca(0x28a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'results':localPlayerTurnIndex=0x0;const _0x4ebc4f=_0x14bb95[_0x1010ca(0x392)]||_0x1010ca(0x25c);if(_0x4ebc4f===_0x1010ca(0xe34)||_0x4ebc4f===_0x1010ca(0x7fe))renderStudentAnonymousResultsView(_0x14bb95,_0x14bb95[_0x1010ca(0x568)]);else _0x4ebc4f===_0x1010ca(0x6e7)?renderStudentCompetitionResultsView(_0x14bb95,_0x14bb95[_0x1010ca(0x568)]):renderStudentSyncResultsView(_0x14bb95);break;case _0x1010ca(0x9d4):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x1010ca(0x8fb)](_0x1010ca(0x968),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange),sessionStorage[_0x1010ca(0x822)](_0x1010ca(0xaed));const _0x27f48d=_0x14bb95['gameVariant']||_0x1010ca(0x25c),_0x1d46fe=_0x14bb95[_0x1010ca(0x663)][_0x1010ca(0x7bb)][_0x1010ca(0x81c)]-0x1;if(_0x27f48d==='anonymous'||_0x27f48d==='anonymous_reveal_end')renderStudentAnonymousResultsView(_0x14bb95,_0x1d46fe);else _0x27f48d===_0x1010ca(0x6e7)?renderStudentCompetitionResultsView(_0x14bb95,_0x1d46fe):renderStudentSyncResultsView(_0x14bb95);const _0x26b645=liveGameView[_0x1010ca(0x2d0)]('.animate-pulse');_0x26b645&&(_0x26b645[_0x1010ca(0xbcb)]['display']=_0x1010ca(0x434));const _0x2797b6=liveGameView[_0x1010ca(0x2d0)]('.text-indigo-200');_0x2797b6&&(_0x2797b6['style']['display']=_0x1010ca(0x434));const _0x42235e=_0x1010ca(0x3e8);liveGameView[_0x1010ca(0xded)]?liveGameView[_0x1010ca(0xded)]['insertAdjacentHTML']('beforeend',_0x42235e):liveGameView[_0x1010ca(0x312)](_0x1010ca(0x5ba),_0x42235e);break;}}function renderStudentSyncResultsView(_0x4ce19a){const _0x22315b=_0x4ce511;let _0x26fa3d=[];_0x4ce19a[_0x22315b(0x296)]&&Array[_0x22315b(0x91d)](_0x4ce19a[_0x22315b(0x296)])&&_0x4ce19a[_0x22315b(0x296)][_0x22315b(0x81c)]>0x0?_0x26fa3d=_0x4ce19a['publicLeaderboard']:_0x26fa3d=Object['values'](_0x4ce19a[_0x22315b(0x735)]||{});const _0x5c57c0=_0x4ce19a[_0x22315b(0x392)]||'classic',_0xe813b4=_0x5c57c0===_0x22315b(0x9de)||_0x5c57c0===_0x22315b(0x7fe),_0x2ed34e=_0x4ce19a['shuffledQuiz'][_0x22315b(0x7bb)],_0x38601f=_0xe813b4&&_0x4ce19a[_0x22315b(0x6c9)]!==undefined?_0x4ce19a[_0x22315b(0x6c9)]:_0x4ce19a['currentQuestionIndex'],_0x544b38=_0xe813b4?_0x4ce19a[_0x22315b(0x6c9)]:_0x4ce19a[_0x22315b(0x568)],_0x1feb19=_0x26fa3d[_0x22315b(0xa15)](_0xcf25e2=>{const _0x1daeb7=_0x22315b,_0x5a2d42=(_0xcf25e2[_0x1daeb7(0xb0f)]||[])[_0x1daeb7(0x395)](_0x5cf380=>_0x5cf380[_0x1daeb7(0x4cd)]<=_0x38601f);let _0x2b61a1=0x0,_0x2b0dca=0x0;_0xe813b4?(_0x2b61a1=_0x5a2d42[_0x1daeb7(0x395)](_0xc521f1=>_0xc521f1['isCorrect'])[_0x1daeb7(0x81c)],_0x2b0dca=_0x5a2d42[_0x1daeb7(0x6f2)]((_0x4d3167,_0x5dd456)=>_0x4d3167+(_0x5dd456[_0x1daeb7(0x6da)]||0x0),0x0)):(_0x2b61a1=_0xcf25e2[_0x1daeb7(0x9c2)]||0x0,_0x2b0dca=_0xcf25e2['totalPoints']||0x0);const _0x8432b9=[..._0x5a2d42][_0x1daeb7(0x2b3)]((_0x44f212,_0xb97aa0)=>_0x44f212[_0x1daeb7(0x4cd)]-_0xb97aa0[_0x1daeb7(0x4cd)]);let _0x57b2de=0x0;return _0x8432b9['forEach'](_0x233c6a=>{const _0x435ea6=_0x1daeb7,_0xdc7256=_0x233c6a['powerupUsed']&&_0x233c6a[_0x435ea6(0x344)]!==_0x435ea6(0xc67)||_0x233c6a[_0x435ea6(0x6d0)];_0x233c6a[_0x435ea6(0xc70)]?_0x57b2de=_0xdc7256?0x0:_0x57b2de+0x1:_0x57b2de=0x0;}),{..._0xcf25e2,'realScore':_0x2b61a1,'totalPoints':_0x2b0dca,'answers':_0xcf25e2[_0x1daeb7(0xb0f)],'correctStreak':_0x57b2de};}),_0xcc7b78=Math['max'](..._0x1feb19[_0x22315b(0xa15)](_0x4a5465=>_0x4a5465['totalPoints']),-Infinity),_0x2cad50=Math['max'](..._0x1feb19[_0x22315b(0xa15)](_0x31ff15=>_0x31ff15[_0x22315b(0x349)]),-Infinity),_0x4a9b26=_0x4ce19a[_0x22315b(0xf00)]===!![];let _0x2ca702=_0x1feb19[_0x22315b(0x395)](_0x446638=>localTeamPlayers['includes'](_0x446638[_0x22315b(0x631)]));_0x2ca702[_0x22315b(0x2b3)]((_0x6041fc,_0x481512)=>(_0x481512[_0x22315b(0xaa1)]||0x0)-(_0x6041fc[_0x22315b(0xaa1)]||0x0));let _0x2d5b5a='';const _0x12d210=_0xe813b4?_0x38601f>=_0x2ed34e[_0x22315b(0x81c)]-0x1:_0x4ce19a[_0x22315b(0x568)]>=_0x2ed34e['length']-0x1;if(_0x4ce19a['status']===_0x22315b(0x9d4))_0x2d5b5a='';else _0x12d210?_0x2d5b5a=_0x22315b(0x677):_0x2d5b5a=_0x22315b(0xc28);const _0x2ecf4c=_0x22315b(0xdd1)+_0x2ca702[_0x22315b(0xa15)]((_0x16042e,_0x3c88b0)=>{const _0x37d6fb=_0x22315b;let _0x476031=_0x37d6fb(0xa82);const _0x1beef7=(_0x16042e[_0x37d6fb(0xb0f)]||[])['find'](_0x1cb865=>_0x1cb865['questionIndex']===_0x544b38);let _0x374af7='';if(_0x1beef7){if(_0x1beef7[_0x37d6fb(0xf60)])_0x374af7+=_0x37d6fb(0x76d);if(_0x1beef7[_0x37d6fb(0x4a3)])_0x374af7+=_0x37d6fb(0xaca);if(_0x1beef7['usedBuyTime'])_0x374af7+=_0x37d6fb(0x330);const _0x3eb3ca=_0x1beef7[_0x37d6fb(0x344)];if(_0x3eb3ca){const _0xd76262={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x37d6fb(0x2dc)};if(_0xd76262[_0x3eb3ca])_0x374af7+=_0x37d6fb(0xe06)+_0x3eb3ca+'\x22>'+_0xd76262[_0x3eb3ca]+_0x37d6fb(0x1c3);}}if(_0x1beef7){const _0x41fe71=_0x1beef7[_0x37d6fb(0xc70)],_0x3fdaad=_0x1beef7['wasConfident']===!![]||_0x1beef7[_0x37d6fb(0x2c6)]===_0x37d6fb(0xd80),_0x5320ac=_0x1beef7[_0x37d6fb(0x344)];if(_0x5320ac===_0x37d6fb(0xc67))_0x476031=_0x41fe71?'bg-yellow-300\x20text-yellow-900\x20font-bold':_0x37d6fb(0x428);else{if(_0x3fdaad)_0x476031=_0x41fe71?_0x37d6fb(0x664):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x41fe71?_0x476031=_0x37d6fb(0xdab):_0x476031=_0x37d6fb(0x39b);}}let _0x3c2ef9='';_0x1beef7&&_0x1beef7[_0x37d6fb(0x344)]===_0x37d6fb(0xc67)&&!_0x1beef7[_0x37d6fb(0xc70)]&&(_0x3c2ef9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');const _0x4e90cb=_0x16042e['totalPoints']>=0x0?'(+'+_0x16042e[_0x37d6fb(0xaa1)][_0x37d6fb(0x4d2)]()+')':'('+_0x16042e[_0x37d6fb(0xaa1)][_0x37d6fb(0x4d2)]()+')';let _0x176554='';const _0x4852a3=_0x16042e[_0x37d6fb(0xb0f)][_0x37d6fb(0x81c)],_0x71bfdb=_0x38601f+0x1;if(_0x4852a3>0x0){_0x4a9b26?(_0x16042e['totalPoints']===_0xcc7b78&&_0xcc7b78>0x0&&(_0x176554+=_0x37d6fb(0x39f)),_0x16042e[_0x37d6fb(0x349)]===_0x2cad50&&_0x2cad50>0x0&&(_0x176554+='<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>')):_0x16042e['realScore']===_0x71bfdb&&(_0x176554+=_0x37d6fb(0xd13));const _0x20415a=_0x176554[_0x37d6fb(0x87a)]('👑')||_0x176554['includes']('🎓')||_0x176554[_0x37d6fb(0x87a)]('⭐');!_0x20415a&&_0x16042e[_0x37d6fb(0xaa1)]<0x0&&(_0x176554+='<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>');}let _0x3306de='';const _0x5e5d72=_0x1beef7&&_0x1beef7[_0x37d6fb(0x6d0)],_0x2c02ef=_0x1beef7&&_0x1beef7[_0x37d6fb(0x344)]&&_0x1beef7[_0x37d6fb(0x344)]!==_0x37d6fb(0xc67);if(!_0x5e5d72&&!_0x2c02ef){const _0x408876=_0x16042e[_0x37d6fb(0x905)]||0x0;_0x408876>=0x3&&(_0x3306de=_0x37d6fb(0x68c)+_0x408876+_0x37d6fb(0x1c3));}return _0x37d6fb(0x229)+_0x476031+_0x37d6fb(0x80c)+(_0x3c88b0+0x1)+_0x37d6fb(0xa0d)+_0x16042e[_0x37d6fb(0x631)]+_0x37d6fb(0xa21)+_0x374af7+'\x20'+_0x176554+'\x20'+_0x3306de+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16042e[_0x37d6fb(0x349)]+_0x37d6fb(0xa40)+_0x4e90cb+_0x37d6fb(0x983)+_0x3c2ef9+_0x37d6fb(0x62b);})[_0x22315b(0x919)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d5b5a+_0x22315b(0xb92);liveGameView[_0x22315b(0x28a)]=_0x2ecf4c;}function renderStudentAnonymousResultsView(_0x3bd2c4,_0x558504){const _0x25a9a6=_0x4ce511;let _0x2ed29b=[];_0x3bd2c4[_0x25a9a6(0x296)]?_0x2ed29b=_0x3bd2c4[_0x25a9a6(0x296)]:_0x2ed29b=Object[_0x25a9a6(0xb18)](_0x3bd2c4[_0x25a9a6(0x735)]||{});const _0x7f3f33=_0x3bd2c4[_0x25a9a6(0x392)]||_0x25a9a6(0x25c),_0x30ff30=_0x7f3f33===_0x25a9a6(0x9de)||_0x7f3f33==='anonymous_reveal_end',_0x27fe9d=_0x3bd2c4[_0x25a9a6(0x5fb)]===!![],_0x252b45=_0x3bd2c4[_0x25a9a6(0x663)][_0x25a9a6(0x7bb)],_0x39ac8d=_0x30ff30&&_0x3bd2c4[_0x25a9a6(0x6c9)]!==undefined?_0x3bd2c4['reviewQuestionIndex']:_0x558504,_0x416c49=_0x2ed29b[_0x25a9a6(0xa15)](_0x599368=>{const _0x523955=_0x25a9a6,_0x48f649=(_0x599368[_0x523955(0xb0f)]||[])[_0x523955(0x395)](_0x104443=>_0x104443[_0x523955(0x4cd)]<=_0x39ac8d);let _0x4f05da=0x0,_0x349d3f=0x0;_0x30ff30?(_0x4f05da=_0x48f649['filter'](_0x49f422=>_0x49f422[_0x523955(0xc70)])['length'],_0x349d3f=_0x48f649[_0x523955(0x6f2)]((_0xf2a085,_0x7c069b)=>_0xf2a085+(_0x7c069b[_0x523955(0x6da)]||0x0),0x0)):(_0x4f05da=_0x599368[_0x523955(0x9c2)]||0x0,_0x349d3f=_0x599368['totalPoints']||0x0);const _0x6e7950=[..._0x48f649][_0x523955(0x2b3)]((_0x50206c,_0x35438c)=>_0x50206c[_0x523955(0x4cd)]-_0x35438c[_0x523955(0x4cd)]);let _0x191300=0x0;return _0x6e7950['forEach'](_0x176725=>{const _0x2227ce=_0x523955,_0x4e47de=_0x176725[_0x2227ce(0x344)]&&_0x176725[_0x2227ce(0x344)]!==_0x2227ce(0xc67)||_0x176725[_0x2227ce(0x6d0)];_0x176725[_0x2227ce(0xc70)]?_0x4e47de?_0x191300=0x0:_0x191300++:_0x191300=0x0;}),{..._0x599368,'realScore':_0x4f05da,'totalPoints':_0x349d3f,'answers':_0x599368[_0x523955(0xb0f)],'correctStreak':_0x191300};}),_0x252d9a=Math[_0x25a9a6(0xddc)](..._0x416c49['map'](_0x19a946=>_0x19a946['totalPoints']),-Infinity),_0x20ed1a=Math[_0x25a9a6(0xddc)](..._0x416c49['map'](_0x4f8a93=>_0x4f8a93[_0x25a9a6(0x349)]),-Infinity),_0x47a28d=_0x3bd2c4[_0x25a9a6(0xf00)]===!![],_0x142cc9=[..._0x416c49][_0x25a9a6(0x2b3)]((_0x1bd144,_0x498df3)=>{const _0x490193=_0x25a9a6;if(_0x47a28d){if(_0x498df3[_0x490193(0xaa1)]!==_0x1bd144[_0x490193(0xaa1)])return _0x498df3[_0x490193(0xaa1)]-_0x1bd144[_0x490193(0xaa1)];if(_0x498df3[_0x490193(0x349)]!==_0x1bd144[_0x490193(0x349)])return _0x498df3[_0x490193(0x349)]-_0x1bd144['realScore'];}else{if(_0x498df3[_0x490193(0xaa1)]!==_0x1bd144[_0x490193(0xaa1)])return _0x498df3['totalPoints']-_0x1bd144[_0x490193(0xaa1)];if(_0x498df3[_0x490193(0x349)]!==_0x1bd144[_0x490193(0x349)])return _0x498df3['realScore']-_0x1bd144[_0x490193(0x349)];}return(_0x1bd144[_0x490193(0x631)]||'')[_0x490193(0xac1)](_0x498df3[_0x490193(0x631)]||'','th');});let _0x3cfb3b=null;const _0x4fbccd=_0x416c49[_0x25a9a6(0x395)](_0x63da7f=>localTeamPlayers['includes'](_0x63da7f['name']));_0x3cfb3b=_0x4fbccd[_0x25a9a6(0x81c)]>0x0?_0x4fbccd[_0x25a9a6(0x2b3)]((_0x532aa9,_0x5d1a3f)=>_0x5d1a3f[_0x25a9a6(0xaa1)]-_0x532aa9[_0x25a9a6(0xaa1)])[0x0]:null;if(!_0x3cfb3b){liveGameView[_0x25a9a6(0x28a)]=_0x25a9a6(0xec2);return;}const _0x411d46=_0x47a28d?_0x3cfb3b[_0x25a9a6(0xaa1)]:_0x3cfb3b[_0x25a9a6(0xaa1)],_0xd7bf48=_0x39ac8d+0x1,_0x3dd2e7=_0x142cc9[_0x25a9a6(0xa15)]((_0x16fc38,_0x53284d)=>{const _0x51e117=_0x25a9a6,_0x23f3c4=_0x16fc38[_0x51e117(0x349)],_0x5937aa=_0x16fc38[_0x51e117(0xaa1)],_0x35d6c8=(_0x16fc38[_0x51e117(0xb0f)]||[])[_0x51e117(0x340)](_0x331005=>_0x331005[_0x51e117(0x4cd)]===_0x39ac8d);let _0x1aa597='';if(_0x35d6c8){if(_0x35d6c8[_0x51e117(0xf60)])_0x1aa597+=_0x51e117(0x336);if(_0x35d6c8[_0x51e117(0x4a3)])_0x1aa597+='<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>';if(_0x35d6c8[_0x51e117(0x6d0)])_0x1aa597+=_0x51e117(0x6f3);const _0x160528=_0x35d6c8[_0x51e117(0x344)];if(_0x160528){const _0x10126b={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x51e117(0x2dc)};if(_0x10126b[_0x160528])_0x1aa597+=_0x51e117(0x888)+_0x10126b[_0x160528]+_0x51e117(0x1c3);}}let _0x2f60ba='';if(_0xd7bf48>0x0){if(_0x47a28d){if(_0x5937aa===_0x252d9a&&_0x252d9a>0x0)_0x2f60ba+='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>';if(_0x23f3c4===_0x20ed1a&&_0x20ed1a>0x0)_0x2f60ba+=_0x51e117(0x231);}else{const _0x4fe40f=_0x16fc38[_0x51e117(0x349)]===_0xd7bf48&&_0xd7bf48>0x0;if(_0x4fe40f)_0x2f60ba=_0x51e117(0x5d2);}if(_0x2f60ba===''&&_0x5937aa<0x0)_0x2f60ba=_0x51e117(0x787);}let _0xdecbea='';const _0x26f629=_0x35d6c8&&_0x35d6c8[_0x51e117(0x6d0)],_0xb5fdb=_0x35d6c8&&_0x35d6c8[_0x51e117(0x344)]&&_0x35d6c8[_0x51e117(0x344)]!==_0x51e117(0xc67);if(!_0x26f629&&!_0xb5fdb){const _0x1536fd=_0x16fc38['correctStreak']||0x0;_0x1536fd>=0x3&&(_0xdecbea=_0x51e117(0x7de)+_0x1536fd+_0x51e117(0x1c3));}let _0x15ebe9=_0x51e117(0x8dd),_0x38d946=![];if(_0x35d6c8){const _0x3ab6df=_0x35d6c8[_0x51e117(0xc70)],_0x530c2a=_0x35d6c8[_0x51e117(0x2c6)]===!![]||_0x35d6c8['wasConfident']===_0x51e117(0xd80),_0x5474c5=_0x35d6c8[_0x51e117(0x344)];if(_0x5474c5==='wagerMultiplier')_0x3ab6df?(_0x15ebe9=_0x51e117(0xa48),_0x38d946=!![]):_0x15ebe9=_0x51e117(0x428);else{if(_0x530c2a)_0x15ebe9=_0x3ab6df?_0x51e117(0x664):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x3ab6df&&(_0x15ebe9=_0x51e117(0xdab));}}let _0x4e4509='';const _0x46d329=_0x16fc38[_0x51e117(0x631)],_0x2ecff8=_0x3bd2c4['playerNicknames'][_0x16fc38['name']]||_0x51e117(0x681),_0x2b277c=_0x51e117(0x2f4),_0x35320f=_0x51e117(0xe20),_0x4ce75f=localTeamPlayers[_0x51e117(0x87a)](_0x46d329),_0x1ec6b4=_0x38d946?_0x51e117(0xb14):'text-gray-300',_0x1f40d1=_0x47a28d?_0x16fc38[_0x51e117(0xaa1)]:_0x16fc38[_0x51e117(0xaa1)],_0x2c1c54=_0x27fe9d||_0x4ce75f||_0x411d46>_0x1f40d1;_0x2c1c54?_0x4e4509=_0x51e117(0xed6)+_0x2b277c+_0x51e117(0x1eb)+_0x46d329+'\x20('+_0x2ecff8+_0x51e117(0x35b)+_0x35320f+'\x22>'+_0x46d329+'</span>\x20'+_0x1aa597+'\x20'+_0x2f60ba+'\x20'+_0xdecbea+_0x51e117(0x647)+_0x1ec6b4+_0x51e117(0x74d)+_0x35320f+_0x51e117(0x964)+_0x2ecff8+')</span></div>':_0x4e4509=_0x51e117(0xed6)+_0x2b277c+_0x51e117(0x1eb)+_0x2ecff8+'\x22><span\x20style=\x22'+_0x35320f+'\x22>'+_0x2ecff8+_0x51e117(0x703)+_0x1aa597+'\x20'+_0x2f60ba+'\x20'+_0xdecbea+_0x51e117(0xc6a);_0x4ce75f&&(_0x4e4509=_0x51e117(0x8af)+_0x4e4509+_0x51e117(0x437));const _0x2e5bf2=_0x5937aa>=0x0?'(+'+_0x5937aa[_0x51e117(0x4d2)]()+')':'('+_0x5937aa[_0x51e117(0x4d2)]()+')',_0x25b608=_0x51e117(0xa92)+_0x23f3c4+_0x51e117(0xa40)+_0x2e5bf2+_0x51e117(0x1c3);return _0x51e117(0x8a6)+_0x15ebe9+_0x51e117(0x5e7)+(_0x53284d+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x4e4509+_0x51e117(0x6c4)+_0x25b608+_0x51e117(0x9c8);})['join']('');let _0x85bb06='';const _0x2c72dc=_0x30ff30?_0x39ac8d>=_0x252b45[_0x25a9a6(0x81c)]-0x1:_0x3bd2c4[_0x25a9a6(0x568)]>=_0x252b45[_0x25a9a6(0x81c)]-0x1;if(_0x3bd2c4[_0x25a9a6(0x3a7)]===_0x25a9a6(0x9d4))_0x85bb06='';else _0x2c72dc?_0x85bb06=_0x25a9a6(0x677):_0x85bb06=_0x25a9a6(0xc28);const _0x33171c=_0x25a9a6(0xb4e)+_0x3dd2e7+_0x25a9a6(0x381)+_0x85bb06+_0x25a9a6(0x588);liveGameView['innerHTML']=_0x33171c;}function renderStudentCompetitionResultsView(_0x518e0d,_0x591939){const _0x3007cc=_0x4ce511,_0x3f60e6=Object['values'](_0x518e0d[_0x3007cc(0x735)]||{}),_0x30bcbe=_0x591939,_0x374372=_0x518e0d['gameVariant']||_0x3007cc(0x25c),_0x284d63=_0x518e0d[_0x3007cc(0x663)]['questions'],_0x46ed4c=_0x3f60e6[_0x3007cc(0xa15)](_0x59cf74=>{const _0x1bf245=_0x3007cc,_0x566d2b=_0x59cf74['score']||0x0,_0x4369b1=_0x59cf74['totalPoints']||0x0,_0xe411a0=(_0x59cf74['answers']||[])[_0x1bf245(0x395)](_0x4ef4d2=>_0x374372===_0x1bf245(0x9de)?_0x4ef4d2[_0x1bf245(0x4cd)]<=_0x30bcbe:!![]);return{..._0x59cf74,'realScore':_0x566d2b,'totalPoints':_0x4369b1,'answers':_0xe411a0};}),_0x41d75e=_0x518e0d[_0x3007cc(0xf00)]===!![],_0x4013ba=[..._0x46ed4c][_0x3007cc(0x2b3)]((_0x2c0d57,_0x11018c)=>{const _0x4bb91c=_0x3007cc;if(_0x41d75e){const _0x1d2765=_0x11018c['realScore']-_0x2c0d57[_0x4bb91c(0x349)];if(_0x1d2765!==0x0)return _0x1d2765;const _0x20ea90=_0x11018c[_0x4bb91c(0xaa1)]-_0x2c0d57[_0x4bb91c(0xaa1)];if(_0x20ea90!==0x0)return _0x20ea90;return(_0x2c0d57[_0x4bb91c(0x631)]||'')[_0x4bb91c(0xac1)](_0x11018c[_0x4bb91c(0x631)]||'','th');}else{const _0x221966=_0x11018c['totalPoints']-_0x2c0d57['totalPoints'];if(_0x221966!==0x0)return _0x221966;const _0x1aaa81=_0x11018c[_0x4bb91c(0x349)]-_0x2c0d57['realScore'];if(_0x1aaa81!==0x0)return _0x1aaa81;return(_0x2c0d57['name']||'')[_0x4bb91c(0xac1)](_0x11018c['name']||'','th');}}),_0x5c8d39=_0x4013ba[_0x3007cc(0xa15)]((_0x329558,_0x405753)=>{const _0x41d1ed=_0x3007cc,_0x1a6ab4='';let _0x1e0b75=_0x41d1ed(0x8dd);const _0x29c39e=_0x329558[_0x41d1ed(0x631)],_0x104f60=_0x41d1ed(0x2f4),_0x2f379a=_0x41d1ed(0xe20),_0x1f6cf8=_0x41d1ed(0xed6)+_0x104f60+_0x41d1ed(0x1eb)+_0x29c39e+_0x41d1ed(0xc34)+_0x2f379a+'\x22>'+_0x29c39e+'</span>'+_0x1a6ab4+'</div>',_0x1c8f62='';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x1e0b75+_0x41d1ed(0x5e7)+(_0x405753+0x1)+_0x41d1ed(0x739)+_0x1f6cf8+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c8f62+_0x41d1ed(0x9c8);})[_0x3007cc(0x919)]('');let _0x777972='';const _0x2288aa=_0x374372===_0x3007cc(0x9de)?_0x518e0d[_0x3007cc(0x6c9)]>=_0x284d63[_0x3007cc(0x81c)]-0x1:_0x518e0d[_0x3007cc(0x568)]>=_0x284d63[_0x3007cc(0x81c)]-0x1;_0x2288aa?_0x777972=_0x3007cc(0x677):_0x777972=_0x3007cc(0xc28);const _0x1419d0=_0x3007cc(0x552)+_0x5c8d39+_0x3007cc(0x5f1)+_0x777972+_0x3007cc(0x588);liveGameView['innerHTML']=_0x1419d0;}function renderStudentSyncQuestionView(_0x24efc2){const _0x1d9598=_0x4ce511;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x24efc2[_0x1d9598(0x735)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x1d9598(0xac3)]===!![]){localPlayerTurnIndex++;}const _0x49afc4=localTeamPlayers[localPlayerTurnIndex];if(!_0x49afc4)return;const _0x33d509=_0x24efc2[_0x1d9598(0x735)][_0x49afc4],_0x40282f=_0x24efc2[_0x1d9598(0x568)],_0x3e8efe=_0x24efc2[_0x1d9598(0x663)][_0x1d9598(0x7bb)]['length'],_0x3b85f7=_0x24efc2[_0x1d9598(0x663)]['questions'][_0x40282f],_0x452cb6=_0x3b85f7[_0x1d9598(0xd06)]||_0x24efc2['shuffledQuiz'][_0x1d9598(0xd15)];let _0x3a80de='',_0x1a113c=![];const _0x8da8e6=_0x1d9598(0xe80)+_0x40282f+'_p'+_0x49afc4,_0x26bf93=sessionStorage[_0x1d9598(0xa37)](_0x8da8e6),_0xf7f5b5=_0x26bf93===_0x1d9598(0xbef),_0x225414=_0x1d9598(0x28c)+_0x40282f+'_p'+_0x49afc4,_0x113ac4=JSON[_0x1d9598(0x6d2)](sessionStorage['getItem'](_0x225414)||'[]')[_0x1d9598(0xa15)](String);if((_0x452cb6===_0x1d9598(0xc63)||_0x452cb6===_0x1d9598(0x2fc))&&_0xf7f5b5&&_0x3b85f7[_0x1d9598(0xdf0)]&&_0x3b85f7['options'][_0x1d9598(0x81c)]>0x0)_0x3a80de=_0x3b85f7[_0x1d9598(0xdf0)][_0x1d9598(0xa15)]((_0x3e76df,_0x2eeb02)=>{const _0x46845a=_0x1d9598;if(_0x113ac4[_0x46845a(0x87a)](String(_0x2eeb02)))return'';return _0x46845a(0xa86)+_0x3e76df+_0x46845a(0x34c)+_0x2eeb02+_0x46845a(0xe6d)+_0x3e76df+_0x46845a(0x97b);})[_0x1d9598(0x919)]('');else{if(_0x452cb6==='short_answer'||_0x452cb6===_0x1d9598(0x2fc))_0x1a113c=!![],_0x3a80de=_0x1d9598(0xcf7);else switch(_0x452cb6){case _0x1d9598(0x4ac):const _0x4a21bd=_0x113ac4[_0x1d9598(0x87a)]('0')?'':_0x1d9598(0xbe4),_0x55d1a1=_0x113ac4[_0x1d9598(0x87a)]('1')?'':_0x1d9598(0xc29);_0x3a80de=_0x4a21bd+_0x55d1a1;break;case _0x1d9598(0x700):_0x1a113c=!![],_0x3a80de=_0x1d9598(0xa59)+(_0x3b85f7[_0x1d9598(0x638)]||[])[_0x1d9598(0xa15)](_0x2f9f0f=>_0x1d9598(0xd26)+_0x2f9f0f+'\x22>'+_0x2f9f0f+_0x1d9598(0xb03))[_0x1d9598(0x919)]('')+_0x1d9598(0x2cd);break;case'multiple_choice':default:_0x3a80de=(_0x3b85f7[_0x1d9598(0xdf0)]||[])[_0x1d9598(0xa15)]((_0xe580e8,_0x4ff424)=>{const _0x3f09ce=_0x1d9598;if(_0x113ac4[_0x3f09ce(0x87a)](String(_0x4ff424)))return'';return _0x3f09ce(0xa86)+_0x4ff424+_0x3f09ce(0x34c)+_0x4ff424+_0x3f09ce(0xdde)+_0xe580e8+'</button>';})['join']('');break;}}let _0x12b492='';_0x24efc2[_0x1d9598(0xaa5)]===_0x1d9598(0xeff)&&(_0x12b492=_0x1d9598(0xcab)+_0x24efc2['timerDuration']+_0x1d9598(0x383));let _0x5ca9f1='';const _0x190815=_0x24efc2[_0x1d9598(0x392)]||_0x1d9598(0x25c),_0x3fd525=['reveal_at_end','anonymous_reveal_end',_0x1d9598(0x6e7)][_0x1d9598(0x87a)](_0x190815);if(_0x24efc2[_0x1d9598(0xf00)]===!![]){if(_0x3fd525)!_0x26bf93&&(_0x5ca9f1=_0x1d9598(0x814));else{const _0x15c2bf=_0x33d509[_0x1d9598(0xaa1)]||0x0,_0x1f271b=_0x33d509[_0x1d9598(0x541)]||{},_0x7e3e7=[_0x1f271b[_0x1d9598(0x266)]>0x0?_0x1d9598(0x2a2)+_0x1f271b['buyTime']+_0x1d9598(0xb31):'',_0x1f271b[_0x1d9598(0xbef)]>0x0?_0x1d9598(0x492)+_0x1f271b[_0x1d9598(0xbef)]+_0x1d9598(0xb31):'',_0x1f271b[_0x1d9598(0x317)]>0x0?_0x1d9598(0xe09)+_0x1f271b[_0x1d9598(0x317)]+_0x1d9598(0xb31):'',_0x1f271b[_0x1d9598(0x630)]>0x0?_0x1d9598(0x6ca)+_0x1f271b['insurance']+_0x1d9598(0xb31):'',_0x1f271b['fiftyFifty']>0x0?'<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20('+_0x1f271b['fiftyFifty']+')</button>':'',_0x1f271b[_0x1d9598(0x899)]>0x0?_0x1d9598(0xadb)+_0x1f271b[_0x1d9598(0x899)]+_0x1d9598(0xb31):''][_0x1d9598(0x395)](Boolean)[_0x1d9598(0x919)]('\x20'),_0x242187='freeMarketEntryUsed_q'+_0x40282f+'_p'+_0x49afc4,_0xd43b2f=sessionStorage[_0x1d9598(0xa37)](_0x242187)==='true',_0x5bb5db=_0x15c2bf>0x0&&(!_0xd43b2f||_0x15c2bf>=0x1),_0x391de7=_0x15c2bf===0x0?'ตลาดมืด\x20(0\x20P)':_0xd43b2f?_0x1d9598(0x6a4):_0x1d9598(0xc32)+_0x15c2bf+_0x1d9598(0x5ac),_0x5e3090=_0x5bb5db?_0x1d9598(0xd88):_0x1d9598(0x906),_0x2b4535=_0x5bb5db?'':_0x1d9598(0x272);let _0x8ae8eb=_0x1d9598(0xe10)+_0x5e3090+_0x1d9598(0x4b7)+_0x2b4535+'><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20'+_0x391de7+_0x1d9598(0x97b);if(!_0x26bf93){const _0x32ebbc=_0x15c2bf>0x0,_0xacd37a=_0x32ebbc?'bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1':_0x1d9598(0x8ab),_0x5676c9=_0x32ebbc?_0x1d9598(0x33f):'bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x277471=_0x32ebbc?'':'disabled';_0x8ae8eb+=_0x1d9598(0x76a)+_0xacd37a+_0x1d9598(0xb8c)+_0x277471+_0x1d9598(0x71c)+_0x5676c9+_0x1d9598(0xb8c)+_0x277471+_0x1d9598(0xdfa);}_0x5ca9f1=_0x1d9598(0x39c)+_0x8ae8eb+_0x1d9598(0x941)+(_0x7e3e7||'')+_0x1d9598(0x73b);}}let _0xa6c173='';_0x33d509[_0x1d9598(0xc8a)]&&(_0xa6c173+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');_0x33d509[_0x1d9598(0xa54)]&&(_0xa6c173+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');(_0x33d509[_0x1d9598(0x7da)]||0x0)>0x0&&(_0xa6c173+=_0x1d9598(0x694));if(_0x26bf93){if(_0x26bf93===_0x1d9598(0xc67)){const _0x915db9=_0x3fd525?_0x1d9598(0xbce):'💰\x20โหมดเดิมพันทำงานอยู่!';_0xa6c173+=_0x1d9598(0x93e)+_0x915db9+_0x1d9598(0xb6f);}else{if(_0x26bf93==='cutOne')_0xa6c173+=_0x1d9598(0x9d2);else{if(_0x26bf93==='fiftyFifty')_0xa6c173+=_0x1d9598(0x861);else{if(_0x26bf93==='secondChance')_0xa6c173+=_0x1d9598(0xc42);else{if(_0x26bf93==='revealOptions')_0xa6c173+=_0x1d9598(0x3d3);else _0x26bf93===_0x1d9598(0x630)?_0xa6c173+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':_0xa6c173+=_0x1d9598(0x329)+_0x26bf93+'\x20ทำงานอยู่!</div>';}}}}}let _0x58de4a='';if(!_0x3fd525){const _0x3a73cd=_0x33d509[_0x1d9598(0x905)]||0x0;if(_0x3a73cd>=0x3)_0x58de4a=_0x1d9598(0x916)+_0x3a73cd+_0x1d9598(0x54f);else _0x3a73cd>0x0&&(_0x58de4a=_0x1d9598(0xd16)+_0x3a73cd+'/3</span></div>');}liveGameView[_0x1d9598(0x28a)]=_0x1d9598(0xc05)+(_0x40282f+0x1)+_0x1d9598(0xeac)+_0x3e8efe+_0x1d9598(0x2b1)+_0x49afc4+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58de4a+'\x20'+_0x12b492+'\x20'+_0x5ca9f1+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa6c173+_0x1d9598(0x4fe)+(_0x3b85f7[_0x1d9598(0xbc2)]||_0x3b85f7[_0x1d9598(0x4dd)])+_0x1d9598(0xa2f)+_0x3a80de+_0x1d9598(0xbb4);if(window[_0x1d9598(0xeb4)])MathJax['typesetPromise']();function _0x3e196b(_0x2f68ac,_0x180774,_0x6fe87,_0x351be9){const _0x4999f1=_0x1d9598,_0x3545ad=_0x6fe87[_0x4999f1(0xb68)]===!![],_0x3afdc6=_0x6fe87[_0x4999f1(0x568)],_0x5ed35a='powerupUsed_q'+_0x3afdc6+'_p'+_0x351be9,_0x33bc7d=sessionStorage[_0x4999f1(0xa37)](_0x5ed35a),_0x596766=_0x33bc7d===_0x4999f1(0xc67),_0x4c63d7=_0x6fe87['players'][_0x351be9];if(_0x596766){const _0x440ca5=sessionStorage[_0x4999f1(0xa37)](_0x4999f1(0xb13))==='true';if(_0x3fd525||_0x440ca5){const _0x54962a=_0x4c63d7[_0x4999f1(0xaa1)]||0x0;sessionStorage['removeItem']('instantWager'),handleSyncAnswerSubmit(_0x2f68ac,_0x180774,_0x6fe87,_0x351be9,![],_0x54962a);}else{const _0x44af6d=document[_0x4999f1(0xbeb)](_0x4999f1(0x5c3)),_0x3a1536=document[_0x4999f1(0xbeb)](_0x4999f1(0xe70)),_0x2b7e0b=document[_0x4999f1(0xbeb)](_0x4999f1(0x1d2)),_0x282979=document[_0x4999f1(0xbeb)](_0x4999f1(0x2d8)),_0xd164cd=_0x4c63d7[_0x4999f1(0xaa1)]||0x0;_0x3a1536[_0x4999f1(0xddc)]=_0xd164cd,_0x3a1536[_0x4999f1(0xc07)]=_0xd164cd,_0x2b7e0b[_0x4999f1(0x211)]=_0xd164cd,_0x282979['textContent']=_0xd164cd,_0x3a1536['oninput']=()=>{const _0x5547eb=_0x4999f1;_0x2b7e0b[_0x5547eb(0x211)]=_0x3a1536[_0x5547eb(0xc07)];};const _0x12a8fb=document[_0x4999f1(0xbeb)]('selected-answer-index-hidden-wager');_0x12a8fb['dataset']['answerValue']=_0x2f68ac,_0x12a8fb['dataset'][_0x4999f1(0x5f4)]=JSON[_0x4999f1(0xe4f)](_0x180774),_0x12a8fb[_0x4999f1(0x6b1)][_0x4999f1(0x5e9)]=JSON[_0x4999f1(0xe4f)](_0x6fe87),_0x12a8fb[_0x4999f1(0x6b1)]['playerName']=_0x351be9,_0x44af6d['classList'][_0x4999f1(0x711)](_0x4999f1(0x9d8));}}else{if(_0x3545ad){document[_0x4999f1(0xbeb)](_0x4999f1(0x731))[_0x4999f1(0x6b1)][_0x4999f1(0xa69)]=_0x4999f1(0xe25);const _0x1f9604=document[_0x4999f1(0xbeb)]('selected-answer-index-hidden');_0x1f9604['dataset'][_0x4999f1(0xc30)]=_0x2f68ac,_0x1f9604[_0x4999f1(0x6b1)][_0x4999f1(0x5f4)]=JSON[_0x4999f1(0xe4f)](_0x180774),_0x1f9604['dataset'][_0x4999f1(0x5e9)]=JSON[_0x4999f1(0xe4f)](_0x6fe87),_0x1f9604[_0x4999f1(0x6b1)][_0x4999f1(0x773)]=_0x351be9,document[_0x4999f1(0xbeb)](_0x4999f1(0x731))[_0x4999f1(0xa1f)][_0x4999f1(0x711)](_0x4999f1(0x9d8));}else handleSyncAnswerSubmit(_0x2f68ac,_0x180774,_0x6fe87,_0x351be9,![],0x0);}}_0x1a113c?document[_0x1d9598(0xbeb)]('sync-submit-btn')[_0x1d9598(0x79a)]('click',()=>{const _0x388414=_0x1d9598,_0x4e35bd=document[_0x388414(0xbeb)](_0x388414(0xd57))||document[_0x388414(0xbeb)](_0x388414(0x84c));if(_0x4e35bd[_0x388414(0xc07)]['trim']()===''){showMessage(_0x388414(0x31f));return;}_0x3e196b(_0x4e35bd['value'],_0x3b85f7,_0x24efc2,_0x49afc4);}):document[_0x1d9598(0xb02)]('.live-answer-btn')[_0x1d9598(0xbd3)](_0xf1d826=>{_0xf1d826['addEventListener']('click',()=>{const _0x3ccf62=_0x5a5c;_0x3e196b(_0xf1d826['dataset'][_0x3ccf62(0xc07)],_0x3b85f7,_0x24efc2,_0x49afc4);});});if(_0x24efc2['isBlackMarketEnabled']===!![]){if(!_0x3fd525){const _0x24356d=document['getElementById'](_0x1d9598(0xeb7));_0x24356d&&_0x24356d[_0x1d9598(0x79a)](_0x1d9598(0xc64),()=>{const _0x217f38=_0x1d9598,_0x477b14='freeMarketEntryUsed_q'+_0x40282f+'_p'+_0x49afc4,_0x208e74=sessionStorage[_0x217f38(0xa37)](_0x477b14)==='true';if(!_0x208e74)openBlackMarket(_0x24efc2,_0x33d509),sessionStorage['setItem'](_0x477b14,'true'),renderStudentSyncQuestionView(_0x24efc2);else{if(_0x33d509[_0x217f38(0xaa1)]<0x1){showMessage(_0x217f38(0x261));return;}showConfirmation(_0x217f38(0x7f7),()=>{handlePayForMarketEntry(_0x49afc4,_0x24efc2,_0x33d509);});}}),document[_0x1d9598(0xbeb)](_0x1d9598(0x61d))?.['addEventListener'](_0x1d9598(0xc64),_0x28386d=>{const _0x1d05a4=_0x1d9598;_0x28386d[_0x1d05a4(0x544)][_0x1d05a4(0x272)]=!![],handleUsePowerup(_0x49afc4,'buyTime',_0x3b85f7,_0x24efc2,_0x33d509);}),document['getElementById'](_0x1d9598(0x97d))?.['addEventListener'](_0x1d9598(0xc64),_0x24099f=>{const _0x2bad47=_0x1d9598;_0x24099f[_0x2bad47(0x544)]['disabled']=!![],handleUsePowerup(_0x49afc4,_0x2bad47(0x317),_0x3b85f7,_0x24efc2,_0x33d509);}),document[_0x1d9598(0xbeb)]('use-powerup-insurance')?.[_0x1d9598(0x79a)](_0x1d9598(0xc64),_0x2a7764=>{const _0x42c0ea=_0x1d9598;_0x2a7764[_0x42c0ea(0x544)][_0x42c0ea(0x272)]=!![],handleUsePowerup(_0x49afc4,'insurance',_0x3b85f7,_0x24efc2,_0x33d509);}),document[_0x1d9598(0xbeb)](_0x1d9598(0xaaa))?.['addEventListener'](_0x1d9598(0xc64),_0x20fc67=>{const _0x25f7d6=_0x1d9598;_0x20fc67[_0x25f7d6(0x544)][_0x25f7d6(0x272)]=!![],handleUsePowerup(_0x49afc4,'fiftyFifty',_0x3b85f7,_0x24efc2,_0x33d509);}),document['getElementById']('use-powerup-secondChance')?.['addEventListener'](_0x1d9598(0xc64),_0x5133be=>{const _0x23db07=_0x1d9598;_0x5133be[_0x23db07(0x544)][_0x23db07(0x272)]=!![],handleUsePowerup(_0x49afc4,'secondChance',_0x3b85f7,_0x24efc2,_0x33d509);}),document['getElementById']('use-powerup-revealOptions')?.[_0x1d9598(0x79a)](_0x1d9598(0xc64),_0x177e78=>{const _0x379dc0=_0x1d9598;_0x177e78[_0x379dc0(0x544)][_0x379dc0(0x272)]=!![],handleUsePowerup(_0x49afc4,'revealOptions',_0x3b85f7,_0x24efc2,_0x33d509);}),document[_0x1d9598(0xbeb)](_0x1d9598(0xa23))?.[_0x1d9598(0x79a)](_0x1d9598(0xc64),_0x413bf2=>{const _0x44a192=_0x1d9598;_0x413bf2[_0x44a192(0x544)][_0x44a192(0x272)]=!![],sessionStorage[_0x44a192(0x8b9)](_0x44a192(0xb13),'false'),handleUsePowerup(_0x49afc4,_0x44a192(0xc67),_0x3b85f7,_0x24efc2,_0x33d509);});}document['getElementById']('use-powerup-wagerMultiplier-instant')?.[_0x1d9598(0x79a)](_0x1d9598(0xc64),_0x29018a=>{const _0x554563=_0x1d9598;_0x29018a['target'][_0x554563(0x272)]=!![],sessionStorage[_0x554563(0x8b9)]('instantWager',_0x554563(0xdff)),handleUsePowerup(_0x49afc4,_0x554563(0xc67),_0x3b85f7,_0x24efc2,_0x33d509);});}}async function handleSyncAnswerSubmit(_0x3c6d85,_0xbf6e50,_0x19d78a,_0x548cc0,_0x6b1fa6,_0x3cfc5d=0x0){const _0x466bc0=_0x4ce511;document[_0x466bc0(0xb02)](_0x466bc0(0xe49))[_0x466bc0(0xbd3)](_0x32fde1=>_0x32fde1[_0x466bc0(0x272)]=!![]);const _0x25d7b3=_0x19d78a[_0x466bc0(0x568)],_0x5922b7=_0x466bc0(0xe80)+_0x25d7b3+'_p'+_0x548cc0,_0x28530b=sessionStorage[_0x466bc0(0xa37)](_0x5922b7),_0x3cac27=_0x19d78a[_0x466bc0(0x735)][_0x548cc0]||{},_0x53f7dd=_0x3cac27[_0x466bc0(0xa54)]===!![],_0x48f4f6=sessionStorage[_0x466bc0(0xa37)](_0x466bc0(0xef1))==='true';let _0x5921a9=_0x3cac27[_0x466bc0(0x905)]||0x0;_0x28530b&&_0x28530b!==_0x466bc0(0xc67)&&(_0x5921a9=0x0);const _0x26e62f=_0x5921a9>=0x3,_0x425f7d=_0xbf6e50[_0x466bc0(0xd06)]||_0x19d78a[_0x466bc0(0x663)]['quizType'];let _0x243486=![],_0x3507b5=_0x3c6d85;switch(_0x425f7d){case _0x466bc0(0x4ac):const _0x59eb67=parseInt(_0x3c6d85),_0x154baa=_0xbf6e50[_0x466bc0(0xdec)]===!![]||String(_0xbf6e50[_0x466bc0(0xdec)])[_0x466bc0(0x298)]()===_0x466bc0(0xdff);_0x243486=_0x59eb67===0x0&&_0x154baa||_0x59eb67===0x1&&!_0x154baa,_0x3507b5=_0x59eb67===0x0?_0x466bc0(0x6de):_0x466bc0(0x9f7);break;case _0x466bc0(0xc63):case _0x466bc0(0x2fc):_0x243486=await gradeShortAnswer(_0x3c6d85,_0xbf6e50);break;case _0x466bc0(0x700):_0x243486=_0x3c6d85===_0xbf6e50[_0x466bc0(0x5c9)];break;case'multiple_choice':default:const _0x18a995=parseInt(_0x3c6d85);_0x243486=_0x18a995===_0xbf6e50[_0x466bc0(0xae5)];_0xbf6e50[_0x466bc0(0xdf0)]&&_0xbf6e50[_0x466bc0(0xdf0)][_0x18a995]&&(_0x3507b5=_0xbf6e50[_0x466bc0(0xdf0)][_0x18a995]);break;}if(!_0x243486&&_0x28530b==='secondChance'&&!_0x48f4f6){sessionStorage['removeItem'](_0x5922b7),sessionStorage[_0x466bc0(0x8b9)](_0x466bc0(0xef1),_0x466bc0(0xdff)),showMessage('คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง'),document[_0x466bc0(0xb02)](_0x466bc0(0xe49))[_0x466bc0(0xbd3)](_0x5ef1e3=>{const _0x238f91=_0x466bc0;if(!_0x5ef1e3[_0x238f91(0xa1f)]['contains'](_0x238f91(0x9d8)))_0x5ef1e3[_0x238f91(0x272)]=![];});return;}let _0x56807a=0x0;const _0x368146=_0x28530b===_0x466bc0(0xc67),_0x53d1f5=_0x28530b===_0x466bc0(0x630),_0x2e18f8=sessionStorage[_0x466bc0(0xa37)]('pollUsedThisTurn')==='true',_0xfb3a97=_0x3cac27['isJinxed']===!![];if(_0x368146){const _0x5ca02c=parseInt(_0x3cfc5d,0xa)||0x0;_0x56807a=_0x243486?_0x5ca02c*0x2:-_0x5ca02c;}else{if(_0x2e18f8&&!_0x243486)_0x56807a=_0x6b1fa6===!![]||_0x6b1fa6===_0x466bc0(0xd80)||_0x53f7dd?-0x4:-0x2;else{if(_0x53f7dd)_0x56807a=_0x243486?0x2:-0x1;else{if(_0x19d78a[_0x466bc0(0xb68)]){if(_0x243486&&(_0x6b1fa6===!![]||_0x6b1fa6===_0x466bc0(0xd80)))_0x56807a=0x2;else{if(_0x243486)_0x56807a=0x1;else{if(!_0x243486&&(_0x6b1fa6===![]||_0x6b1fa6===_0x466bc0(0xc2d)||_0x6b1fa6===null))_0x56807a=0x0;else{if(!_0x243486&&(_0x6b1fa6===!![]||_0x6b1fa6===_0x466bc0(0xd80)))_0x56807a=-0x1;}}}}else _0x56807a=_0x243486?0x1:0x0;}}}_0x26e62f&&_0x56807a>0x0&&(_0x56807a*=0x2);if(_0xfb3a97&&!_0x243486&&_0x56807a<0x0)_0x56807a*=0x2;if(!_0x243486&&_0x53d1f5)_0x56807a=0x0;const _0x31f936=(_0x3cac27['timeBonusThisQuestion']||0x0)>0x0,_0xb09ddb=_0x28530b&&_0x28530b!==_0x466bc0(0xc67);let _0xb665e5=0x0;_0x243486&&(_0xb665e5=_0xb09ddb?0x0:_0x5921a9+0x1);const _0x4a13ce={'questionIndex':_0x19d78a[_0x466bc0(0x568)],'questionId':_0xbf6e50['id'],'answer':_0x3c6d85,'answerText':_0x3507b5,'isCorrect':_0x243486,'originalQuestionText':_0xbf6e50[_0x466bc0(0xbc2)]||_0xbf6e50[_0x466bc0(0x4dd)],'wasConfident':_0x53f7dd?_0x466bc0(0xd80):_0x6b1fa6||![],'pointsAwarded':_0x56807a,'powerupUsed':_0x28530b||null,'wasJinxed':_0xfb3a97||![],'wasForced':_0x53f7dd||![],'usedPoll':_0x2e18f8||![],'usedBuyTime':_0x31f936,'streakActive':_0x26e62f},_0x165e4f=doc(db,_0x466bc0(0xcaf)+appId+_0x466bc0(0x1ec)+currentLiveGameId+'/players',_0x548cc0),_0x2f04fb=_0x3cac27['answers']||[],_0x4c2e76=_0x2f04fb[_0x466bc0(0x395)](_0x9e56fd=>_0x9e56fd[_0x466bc0(0x4cd)]!==_0x19d78a[_0x466bc0(0x568)]),_0x593443=[..._0x4c2e76,_0x4a13ce],_0xfadb7c=_0x593443[_0x466bc0(0x395)](_0x475d62=>_0x475d62[_0x466bc0(0xc70)])[_0x466bc0(0x81c)],_0x3ec05a={'answers':_0x593443,'score':_0xfadb7c,'totalPoints':increment(_0x56807a),'answered':!![],'lastAnswerIndex':_0x425f7d===_0x466bc0(0x8be)||_0x425f7d===_0x466bc0(0x4ac)?parseInt(_0x3c6d85):null,'lastAnswerValue':_0x3507b5,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0xb665e5};if(_0x48f4f6)sessionStorage['removeItem']('onSecondChance');try{await updateDoc(_0x165e4f,_0x3ec05a);}catch(_0x18c41c){console[_0x466bc0(0xd74)]('Error\x20submitting\x20answer:',_0x18c41c),showMessage(_0x466bc0(0x7aa)),document[_0x466bc0(0xb02)](_0x466bc0(0xe49))[_0x466bc0(0xbd3)](_0x260b9d=>_0x260b9d['disabled']=![]);}}const allMarketItems=[{'id':'buyTime','name':_0x4ce511(0xe75),'price':0x1,'desc':_0x4ce511(0xe7e)},{'id':_0x4ce511(0x317),'name':_0x4ce511(0x529),'price':0x2,'desc':_0x4ce511(0x6b5)},{'id':'fiftyFifty','name':'🌗\x2050:50','price':0x5,'desc':_0x4ce511(0xf0f)},{'id':_0x4ce511(0x899),'name':_0x4ce511(0xad6),'price':0x7,'desc':_0x4ce511(0x9f4)},{'id':_0x4ce511(0xbef),'name':_0x4ce511(0x36f),'price':0xc,'desc':'เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)'}];function openBlackMarket(_0x53db6d,_0x2c2ace){const _0x4487f1=_0x4ce511;let _0x194f59=null;const _0x36e2fd=document[_0x4487f1(0xbeb)]('black-market-modal'),_0x2a13a7=document[_0x4487f1(0xbeb)]('market-item-list'),_0x52ad63=document[_0x4487f1(0xbeb)](_0x4487f1(0x2b6)),_0x4d2d9a=document[_0x4487f1(0xbeb)]('market-timer-bar'),_0x4791c1=_0x2c2ace[_0x4487f1(0xaa1)]||0x0;_0x52ad63[_0x4487f1(0x211)]=_0x4791c1;const _0x252fae=_0x53db6d['currentQuestionIndex'],_0x77ef22=_0x53db6d[_0x4487f1(0x663)][_0x4487f1(0x7bb)][_0x252fae],_0x2123b3=_0x77ef22['questionType']||_0x53db6d[_0x4487f1(0x663)]['quizType'],_0x3374ec=_0x53db6d[_0x4487f1(0xaa5)]===_0x4487f1(0xeff),_0x23bd2e=allMarketItems;_0x2a13a7['innerHTML']=_0x23bd2e[_0x4487f1(0xa15)](_0x41000d=>{const _0x852cb7=_0x4487f1,_0x5984c4=_0x4791c1>=_0x41000d['price'];if(_0x41000d['id']==='buyTime'){const _0x39d2d2=_0x5984c4?Math[_0x852cb7(0x8c6)](_0x4791c1/_0x41000d[_0x852cb7(0xc71)]):0x0,_0x3e3313=_0x5984c4&&_0x3374ec;let _0x52417e=_0x852cb7(0x94b)+_0x41000d['price']+_0x852cb7(0x622),_0x11530e=_0x3e3313?'bg-indigo-600\x20hover:bg-indigo-700':_0x852cb7(0xa91);return!_0x3374ec&&(_0x52417e='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา',_0x11530e='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300'),_0x852cb7(0x2bc)+(!_0x3e3313?_0x852cb7(0x910):'bg-white')+_0x852cb7(0xd02)+_0x41000d[_0x852cb7(0x631)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x41000d[_0x852cb7(0x4e7)]+_0x852cb7(0xcb5)+_0x39d2d2+'\x22\x20'+(!_0x3e3313?_0x852cb7(0x272):'')+_0x852cb7(0x978)+_0x11530e+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22'+_0x41000d['id']+_0x852cb7(0xa5f)+_0x41000d['price']+_0x852cb7(0x9d0)+(!_0x3e3313?_0x852cb7(0x272):'')+_0x852cb7(0x9b3)+_0x52417e+_0x852cb7(0xd8b);}else{let _0x1ae8e2=!_0x5984c4,_0x2139f0=_0x5984c4?_0x852cb7(0x1c2):'bg-gray-400',_0x222125='ซื้อ\x20('+_0x41000d[_0x852cb7(0xc71)]+'P)';if(_0x41000d['id']===_0x852cb7(0xbef)){const _0x2d6e99=_0x77ef22[_0x852cb7(0xdf0)]&&_0x77ef22[_0x852cb7(0xdf0)][_0x852cb7(0x81c)]>0x0,_0x1b4a06=_0x2123b3===_0x852cb7(0xc63)||_0x2123b3==='fill_in_no_choices';(!_0x2d6e99||!_0x1b4a06)&&(_0x1ae8e2=!![],_0x2139f0='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x222125='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้');}if(_0x41000d['id']===_0x852cb7(0x317)||_0x41000d['id']===_0x852cb7(0x707)){const _0x227907=_0x2123b3===_0x852cb7(0xc63)||_0x2123b3===_0x852cb7(0x2fc),_0x973f64=_0x77ef22[_0x852cb7(0xdf0)]&&_0x77ef22[_0x852cb7(0xdf0)][_0x852cb7(0x81c)]>0x0;(_0x227907||!_0x973f64)&&(_0x1ae8e2=!![],_0x2139f0=_0x852cb7(0x449),_0x222125=_0x852cb7(0xa06));}return _0x852cb7(0x2bc)+(_0x1ae8e2?_0x852cb7(0x910):_0x852cb7(0xb57))+_0x852cb7(0xd02)+_0x41000d[_0x852cb7(0x631)]+_0x852cb7(0xb88)+_0x41000d[_0x852cb7(0x4e7)]+_0x852cb7(0xb3e)+_0x2139f0+_0x852cb7(0xc88)+_0x41000d['id']+_0x852cb7(0x5bb)+_0x41000d[_0x852cb7(0xc71)]+_0x852cb7(0x47a)+(_0x1ae8e2?_0x852cb7(0x272):'')+_0x852cb7(0x443)+_0x222125+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}})[_0x4487f1(0x919)](''),_0x36e2fd[_0x4487f1(0xa1f)][_0x4487f1(0x711)](_0x4487f1(0x9d8)),_0x4d2d9a['style'][_0x4487f1(0xb26)]=_0x4487f1(0x434),_0x4d2d9a[_0x4487f1(0xbcb)][_0x4487f1(0x52d)]=_0x4487f1(0xbfe),setTimeout(()=>{const _0x161262=_0x4487f1;_0x4d2d9a[_0x161262(0xbcb)][_0x161262(0xb26)]=_0x161262(0x255),_0x4d2d9a['style'][_0x161262(0x52d)]='0%';},0x32),_0x194f59=setTimeout(()=>{const _0x539e56=_0x4487f1;_0x36e2fd['classList'][_0x539e56(0x7e0)](_0x539e56(0x9d8));},0xea60),document[_0x4487f1(0xbeb)](_0x4487f1(0x387))[_0x4487f1(0x810)]=()=>{const _0x1b65f3=_0x4487f1;clearTimeout(_0x194f59),_0x36e2fd['classList'][_0x1b65f3(0x7e0)](_0x1b65f3(0x9d8));},_0x2a13a7[_0x4487f1(0xb02)](_0x4487f1(0x88f))[_0x4487f1(0xbd3)](_0x2dc1e9=>{const _0x3dbe94=_0x4487f1;_0x2dc1e9[_0x3dbe94(0x810)]=_0xea6952=>{const _0x51b3e1=_0x3dbe94,_0x387cf1=_0xea6952[_0x51b3e1(0x544)][_0x51b3e1(0x6b1)]['itemId'],_0x170c5b=parseInt(_0xea6952[_0x51b3e1(0x544)][_0x51b3e1(0x6b1)][_0x51b3e1(0xc71)],0xa);clearTimeout(_0x194f59),_0x36e2fd['classList'][_0x51b3e1(0x7e0)](_0x51b3e1(0x9d8)),handleBuyItem(_0x2c2ace[_0x51b3e1(0x631)],_0x387cf1,_0x170c5b,0x1);};}),_0x2a13a7[_0x4487f1(0xb02)](_0x4487f1(0x578))['forEach'](_0x6592e4=>{const _0x2a52d8=_0x4487f1;_0x6592e4[_0x2a52d8(0x810)]=_0x22e140=>{const _0x45ebf8=_0x2a52d8,_0x21aecd=_0x22e140[_0x45ebf8(0x544)][_0x45ebf8(0x6b1)][_0x45ebf8(0x6a3)],_0x361dfc=parseInt(_0x22e140[_0x45ebf8(0x544)]['dataset'][_0x45ebf8(0xc71)],0xa),_0x2cf278=document[_0x45ebf8(0xbeb)](_0x45ebf8(0x889)),_0x4b0b6d=parseInt(_0x2cf278['value'],0xa),_0x291641=parseInt(_0x2cf278[_0x45ebf8(0xddc)],0xa);if(!_0x4b0b6d||_0x4b0b6d<0x1){showMessage(_0x45ebf8(0x7b6));return;}if(_0x4b0b6d>_0x291641){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20'+_0x291641+_0x45ebf8(0xe6c));return;}clearTimeout(_0x194f59),_0x36e2fd[_0x45ebf8(0xa1f)][_0x45ebf8(0x7e0)](_0x45ebf8(0x9d8)),handleBuyItem(_0x2c2ace[_0x45ebf8(0x631)],_0x21aecd,_0x361dfc,_0x4b0b6d);};});}async function handleBuyItem(_0x2ca5e3,_0x515586,_0x383eba,_0x4c4532=0x1){const _0x5901fe=_0x4ce511,_0x58cd78=doc(db,_0x5901fe(0xcaf)+appId+_0x5901fe(0x1ec)+currentLiveGameId+'/players',_0x2ca5e3);try{await runTransaction(db,async _0x1f1475=>{const _0x31383b=_0x5901fe,_0x55318f=await _0x1f1475[_0x31383b(0x1d5)](_0x58cd78);if(!_0x55318f['exists']())throw _0x31383b(0xd62);const _0x20fc5b=_0x55318f[_0x31383b(0xbfb)]()[_0x31383b(0xaa1)]||0x0,_0x5c9458=_0x383eba*_0x4c4532;if(_0x20fc5b<_0x5c9458)throw _0x31383b(0x462);const _0x1e5db9={};_0x1e5db9[_0x31383b(0xaa1)]=increment(-_0x5c9458),_0x1e5db9[_0x31383b(0x376)+_0x515586]=increment(_0x4c4532),_0x1f1475[_0x31383b(0x55d)](_0x58cd78,_0x1e5db9);}),showMessage(_0x5901fe(0xb8d)+_0x515586+_0x5901fe(0xbdd)+_0x4c4532+_0x5901fe(0x921));}catch(_0x196997){console[_0x5901fe(0xd74)]('Buy\x20Item\x20failed:\x20',_0x196997),showMessage(typeof _0x196997===_0x5901fe(0xba8)?_0x196997:'เกิดข้อผิดพลาดในการซื้อ');}}async function handlePayForMarketEntry(_0x3d7551,_0x3b94fe,_0x32c9c3){const _0x4dd311=_0x4ce511,_0xc4e47c=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x4dd311(0xd94),_0x3d7551);try{await runTransaction(db,async _0x45ca3e=>{const _0x3de0db=_0x4dd311,_0xb179c0=await _0x45ca3e['get'](_0xc4e47c);if(!_0xb179c0[_0x3de0db(0x358)]())throw _0x3de0db(0xd62);const _0x4b4a4a=_0xb179c0[_0x3de0db(0xbfb)]()['totalPoints']||0x0;if(_0x4b4a4a<0x1)throw _0x3de0db(0x76f);const _0x401cf5={};_0x401cf5[_0x3de0db(0xaa1)]=increment(-0x1),_0x45ca3e[_0x3de0db(0x55d)](_0xc4e47c,_0x401cf5);});const _0x4fc4f3={..._0x32c9c3,'totalPoints':(_0x32c9c3[_0x4dd311(0xaa1)]||0x0)-0x1};openBlackMarket(_0x3b94fe,_0x4fc4f3);}catch(_0x475767){console['error']('Market\x20entry\x20payment\x20failed:',_0x475767),showMessage(typeof _0x475767===_0x4dd311(0xba8)?_0x475767:'เกิดข้อผิดพลาดในการเข้าตลาดมืด');}}const audioCtx=new(window[(_0x4ce511(0x86a))]||window[(_0x4ce511(0xba6))])();function playSystemSound(_0x576aa7){const _0x6aa6ca=_0x4ce511;if(audioCtx[_0x6aa6ca(0xf51)]===_0x6aa6ca(0x3d8))audioCtx[_0x6aa6ca(0xe14)]();const _0x16dd03=audioCtx[_0x6aa6ca(0x38e)](),_0x17cc75=audioCtx[_0x6aa6ca(0x3a8)]();_0x16dd03['connect'](_0x17cc75),_0x17cc75[_0x6aa6ca(0x615)](audioCtx[_0x6aa6ca(0x8f2)]);const _0x31bd5b=audioCtx[_0x6aa6ca(0xec7)];if(_0x576aa7===_0x6aa6ca(0x89a))_0x16dd03[_0x6aa6ca(0x562)]='sine',_0x16dd03[_0x6aa6ca(0x887)][_0x6aa6ca(0xade)](0x258,_0x31bd5b),_0x16dd03['frequency']['exponentialRampToValueAtTime'](0x4b0,_0x31bd5b+0.1),_0x17cc75['gain'][_0x6aa6ca(0xade)](0.1,_0x31bd5b),_0x17cc75['gain'][_0x6aa6ca(0xec0)](0.01,_0x31bd5b+0.5),_0x16dd03[_0x6aa6ca(0x4b6)](_0x31bd5b),_0x16dd03[_0x6aa6ca(0x4c9)](_0x31bd5b+0.5);else{if(_0x576aa7==='incorrect')_0x16dd03[_0x6aa6ca(0x562)]=_0x6aa6ca(0x56f),_0x16dd03[_0x6aa6ca(0x887)][_0x6aa6ca(0xade)](0x96,_0x31bd5b),_0x16dd03[_0x6aa6ca(0x887)][_0x6aa6ca(0xec0)](0x64,_0x31bd5b+0.2),_0x17cc75[_0x6aa6ca(0xe5a)][_0x6aa6ca(0xade)](0.1,_0x31bd5b),_0x17cc75[_0x6aa6ca(0xe5a)]['exponentialRampToValueAtTime'](0.01,_0x31bd5b+0.3),_0x16dd03[_0x6aa6ca(0x4b6)](_0x31bd5b),_0x16dd03[_0x6aa6ca(0x4c9)](_0x31bd5b+0.3);else _0x576aa7===_0x6aa6ca(0x833)&&(_0x16dd03[_0x6aa6ca(0x562)]=_0x6aa6ca(0x625),_0x16dd03[_0x6aa6ca(0x887)]['setValueAtTime'](0x12c,_0x31bd5b),_0x16dd03[_0x6aa6ca(0x887)][_0x6aa6ca(0xbd1)](0x258,_0x31bd5b+0.1),_0x17cc75['gain']['setValueAtTime'](0.1,_0x31bd5b),_0x17cc75[_0x6aa6ca(0xe5a)][_0x6aa6ca(0xbd1)](0.01,_0x31bd5b+0.3),_0x16dd03['start'](_0x31bd5b),_0x16dd03[_0x6aa6ca(0x4c9)](_0x31bd5b+0.3));}}initialize();
