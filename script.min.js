const _0x1bb21e=_0x4611;(function(_0x2d91bc,_0x19298c){const _0x51afdb=_0x4611,_0x2ec0f5=_0x2d91bc();while(!![]){try{const _0x3c8af2=-parseInt(_0x51afdb(0x454))/0x1*(-parseInt(_0x51afdb(0x89a))/0x2)+parseInt(_0x51afdb(0x5bb))/0x3+-parseInt(_0x51afdb(0x659))/0x4+parseInt(_0x51afdb(0x580))/0x5+-parseInt(_0x51afdb(0x472))/0x6*(-parseInt(_0x51afdb(0x57e))/0x7)+-parseInt(_0x51afdb(0x479))/0x8*(-parseInt(_0x51afdb(0x7c8))/0x9)+-parseInt(_0x51afdb(0x695))/0xa;if(_0x3c8af2===_0x19298c)break;else _0x2ec0f5['push'](_0x2ec0f5['shift']());}catch(_0x3a0558){_0x2ec0f5['push'](_0x2ec0f5['shift']());}}}(_0x20ec,0xe1ff8));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';function _0x20ec(){const _0x3daa73=['ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20user\x20preference:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','matching','.regenerate-question-editor-btn','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','$1\x5ctext(','student-project-leaderboard-content','.generate-lesson-btn','กรุณาเลือกคำตอบก่อนครับ','ส่วนเบี่ยงเบนเฉลี่ย','bank-quiz-search-input','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','href','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#results-table','student-name-input','text-blue-700\x20bg-blue-100','ผู้ไม่ยอมแพ้','lesson-plan-content','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ข้อที่\x20','Enter','เกิดข้อผิดพลาดในการติดดาว','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20สำเร็จ','border-green-700','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','#D1FAE5','เปลี่ยนชื่อแบบทดสอบสำเร็จ','backgroundColor','correctStreak','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','player-list-lobby','name_asc','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','artifacts/','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','Error\x20fetching\x20student\x20rankings:','ownerSVGElement','เกิดข้อผิดพลาดในการบันทึกลำดับ','thead\x20.sortable-header','move-quiz-project-select','ไม่พบข้อมูลข้อสอบหลังเรียน','lesson-plan-title','qType','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','message','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','start-live-race-generated-btn','ที่พิมพ์ได้\x20จำนวน\x20','comparison-individual-tab','close','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','เปิดใช้งาน','MathJax','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','/public/data/projects/','สร้างแบบทดสอบ','learningGaps','parallel-test-input-area','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','score','classStrengths','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','ปิดใช้งาน','ข้อต่อไป','generate-from-text-btn','firstScore','เกมสิ้นสุดลงแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','quiz-form','/public/data/practiceBank','attemptNumber','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#math-topics-checkbox-container\x20input:checked','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','perQuestionStats','จำนวนคละ','ดอกเบี้ยทบต้น','[data-topic-container-id]','projectView','topic','อัตราและอัตราหน่วย','แคลคูลัสเบื้องต้น','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','Failed\x20to\x20get\x20hint:','results','sort','insertBefore','เกิดข้อผิดพลาดในการเข้าร่วมเกม','ring-purple-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','27411472','teachingContent','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x5csum','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x22\x20class=\x22delete-project-btn\x20','fas\x20fa-star\x20text-yellow-500','visibility_hidden','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะจากจุดถึงเส้นตรง','.quiz-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','สมการลอการิทึม','\x5cpm','</label>\x0a\x20\x20\x20\x20</div>\x0a','line-through\x20text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','commit','both','อัปเดตแบบทดสอบเก่า\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','isLooping','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','data','text-yellow-300','map','จำนวนเต็มบวก','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</th>','projectId','Error\x20saving\x20project\x20order:','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','opacity-50','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-close-btn','loop-until-pass-checkbox','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','กำลังสร้างรูปภาพ...','border-red-700','show-in-student-dashboard-checkbox','\x20\x20\x20-\x20','candidates','content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','การแปลงรูปอัตลักษณ์','project-detail','replace','.score','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','text-red-300\x20hover:text-red-100','project-detail-view','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','.rename-quiz-btn','confirm-delete-btn','การหารทศนิยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','asc','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','topic-input','on_fire','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','target','ผู้เชี่ยวชาญ','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pairedQuizId','print','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','162tlppoj','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','บันทึกคำถามใหม่\x20','project-search-input','fromCharCode','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','practiceProblems','#per-question-options\x20select','scrollX','parts','quiz-bank-count','หลังเรียน','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','ยังไม่ส่ง',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','ตรวจคะแนนใหม่\x20','back-to-student-initial-btn','\x22\x20value=\x22true\x22\x20','getAttributeNS','\x20คู่\x20','คัดลอกรหัสแล้ว!','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-end-time','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20deleting\x20quiz:','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','touchend','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบผลสอบของ\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','checked','.unpair-quiz-btn','showRankings','getBBox','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','currentTarget','interesting-stats-wrapper','OBJECT','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','adaptive-quiz-checkbox','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x22>จาก:\x20','first_try_ace','generate-from-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','reset-project-order-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','presentation-short-answer-input','สุดยอด!\x20ตอบถูกทุกข้อ','ฟังก์ชันสัมพัทธ์\x20(rational)','rename-quiz-modal','get','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','quiz-results','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','การแจกแจงปกติและ\x20z-score','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','include-images-checkbox','แผนการสอน','รูปแบบการให้เหตุผล','\x20รายการสำเร็จ!','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','export-leaderboard-excel-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','ท็อปฟอร์ม','fullscreenElement','forEach','Error\x20updating\x20sort\x20preference:','confirmation-message','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','some','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','/submissions','ระยะเวลา\x20(วินาที):','scheduled','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','Error\x20updating\x20quiz\x20settings:','.topic-name-display','_opt1\x22>ไม่ใช่</label></div>','baseVal','input[type=\x22radio\x22]:checked','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','text-tab','open-quiz-bank-btn','file-input-area','ปรับเพิ่ม/ลดเป็นร้อยละ','กำลังอ่านและเตรียมไฟล์...','readAsDataURL','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','lessonPlan','สร้างใหม่','ลำดับเรขาคณิต\x20(GP)','บันทึกการตั้งค่าสำเร็จ','NUMBER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','confirm-global-live-btn','text-green-900','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-input','ชนิดของข้อมูลและการเก็บข้อมูล','):\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','แบบทดสอบที่ติดดาว','สเกลและแผนที่','bg-green-300','/questionBank','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','textContent','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','timerDuration','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','difficulty-level-select','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','เกิดข้อผิดพลาดในการสร้างห้องเกม','จำนวนและการดำเนินการ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','วงกลม:\x20คอร์ดและเส้นสัมผัส','back-to-project-btn','แบบทดสอบซ่อมเสริม','helvetica','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20submission:','เส้นตรง:\x20ขนาน/ตั้งฉาก','confirm-passcode-btn','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x22\x20เพื่อสร้างชุดคู่ขนาน...','PERSEVERANCE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','คะแนนเฉลี่ย','rows','onload','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','no-projects-msg','project-passcode-input','<tr><td\x20colspan=\x22','input[type=\x22text\x22]','text-purple-600','POST','contents','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','scrollY','text-red-700','modal-loop-until-pass-checkbox','วงรี','#E5E7EB','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','resultsDisplay','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touches','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','ON_FIRE','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log','Leaderboard\x20update\x20transaction\x20failed:\x20','authed_project_','Error\x20regenerating\x20question\x20in\x20editor:','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','generated-quiz-container','q-text-','onerror','Error\x20listening\x20for\x20custom\x20math\x20topics:','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','แผนภาพกล่อง\x20(box\x20plot)','rgba(16,\x20185,\x20129,\x200.7)','.delete-student-btn','.sortable-header','tfrac','frac','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','catch','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','reference-pdf-upload','text-indigo-700','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','length','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-btn','bg-green-50','onclick','\x22\x20data-name=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','.live-answer-btn,\x20#live-submit-short-answer-btn','offset','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','10562VynbxE','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เลือกโปรเจคเพื่อบันทึก','รอเปิด','passcode-input-container','.save-to-bank-btn','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','Error\x20saving\x20quiz:','progress-student-select','project-dashboard-view','comparison-modal','ระยะเวลา\x20(นาที):','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','</div>','/public/data/projects','text-blue-700','per_question','เลือกและบันทึก','bank-tab','per-question-text','ทำคะแนนเต็มในการทำครั้งแรก','true','student-reading-area','dragstart','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-upload-input','\x5c\x5c\x5c\x5c(?=(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','text-blue-800','.project-card-content','คำถามถัดไป','add-custom-math-topic-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','documentElement','ตัวประกอบและตัวประกอบเฉพาะ','pinnedProjects','_blank','loopUntilPass','ใช่','ตรวจพบการออกจากโหมดเต็มหน้าจอครบ\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','dataIndex','approx','innerText','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','document','1:274192258111:web:4120c9118229b5644dd48a','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','timerMode','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','perfect_score','</span></td>','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','drill-feedback','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการค่าสัมบูรณ์','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','.verification-result','generated-quiz-actions','Error\x20fetching\x20quiz\x20status:','bg-blue-100\x20text-blue-800','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','opacity','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','กำลังจับคู่...','<div\x20class=\x22flex-1\x22></div>','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','lobby','standard','removeChild','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<h1></h1>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ไม่สามารถเพิ่มนักเรียนได้','การลบเศษส่วน','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ค่าคลาดเคลื่อนของการวัด','/users/','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','$1\x5ctext{','.lastAnswerCorrect','next-live-question-btn','\x20ช่อง','leaderboard','text-indigo-800','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','fas\x20fa-bookmark','Error\x20starting\x20game:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันราก\x20(root)','msRequestFullscreen','Error\x20resetting\x20project\x20order:','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','whole_quiz','startTime','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','worksheet-input-area','แก้ไขข้อนี้','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','th-TH','cloneNode','modal-message','verify-answers-btn','typesetPromise','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','/studentProfiles','/public/data/liveGames','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','ชื่อหัวข้อห้ามว่าง','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','\x20จาก\x20','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','solution','getTextContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','admin-password-modal','suggestedAnswer','export-worksheet-pdf-btn','add','เงินงวด\x20(อนุกรมเงินงวด)','isPasscodeEnabled','cancel-move-quiz-btn','preTestId','.group','imageCode','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','Error\x20adding\x20custom\x20topic:','Error\x20displaying\x20question\x20bank:','add-student-btn','.color-palette-popup','#FFFFFF','ทศนิยม\x20(ค่าประจำหลัก)','s;\x22\x20title=\x22','answering','selected-topics-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','find','postScore','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','querySelectorAll','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','appendChild','behaviorLog','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','กรุณาเลือกชื่อของคุณ','description','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','submission','bottom','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','getContext','พาราโบลา','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','Error\x20duplicating\x20quiz:','toString','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','results_','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','$1\x5ctimes','type','num-questions','/public/data/quizzes/','neq','players','presentation-explanation','temp-loader-results','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','จำนวนเชิงซ้อน\x20(เสริม)','\x20/\x20','live-short-answer-input','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','binom','$1\x5cfrac','block','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','circ','ราชาคัมแบ็ก','ค.ร.น.\x20(LCM)','bg-green-200\x20text-green-800','เกิดข้อผิดพลาด:\x20','Error\x20generating\x20parallel\x20post-test:','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','กรุณาเลือกไฟล์ก่อน','quiz-status-options','quiz-leaderboard-table-body','เกิดข้อผิดพลาดในการบันทึก','.answeredCurrentQuestion','prod','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short','274192258111','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','เกิดข้อผิดพลาดในการลบนักเรียน','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','timer-container','global-live-game-count','text/csv;charset=utf-8;','<tr\x20class=\x22','อสมการเชิงเส้น','จากไฟล์ที่แนบมานี้,\x20','[contenteditable=\x22true\x22]','ค่าความจริง/ตารางค่าความจริง','.save-custom-topic-btn','\x20mb-2\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','badges','<li>','pre-test','</h3>','export-compact-pdf-btn','active','comparison-overall-tab','<button\x20id=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','generate-from-parallel-test-btn','dataset','ดอกเบี้ยอย่างง่าย','stem','deselect-all-topics-btn','copy-quiz-id-btn','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','numeric','style','fill_in_with_choices','สถิติและความน่าจะเป็น','per-q-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','blueprint-input-area','quiz-bank-modal','totalPoints','num-choices','text-red-600','string','custom-math-topic-input','\x20คนที่ส่ง\x20ตอบถูก\x20(','all','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','application/json','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','question','clientY','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','draggable-text','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closest','ความเป็นอิสระของเหตุการณ์','_opt1\x22\x20name=\x22question','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizId','startsWith','.question-editor-item[data-q-index=\x22','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','questions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','idealAnswer','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','visibilitychange','\x22,\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม','label[for=\x22num-questions\x22]','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirmation-modal','close-lesson-plan-modal-footer-btn','<p>','(ไม่มีชื่อ)','choices_only','.cancel-edit-topic-btn','.project-card-container','numPages','questionText','generate-from-link-btn','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','nickname-input','leaderboard-tab-content','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','download','setItem','removeAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','manage-tab','cancel-quiz-status-btn','confirm-move-quiz-btn','student-quiz-leaderboard-table-body','getScreenCTM','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คำตอบผิด','leaderboard-quiz-tab-btn','บันทึกพฤติกรรมสำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>','q-explanation-','bg-amber-100\x20text-amber-800','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-topic=\x22','results-display-select','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20',';\x22\x20data-id=\x22','json','แบบทดสอบนี้หมดเวลาแล้ว','projectSort','เศษส่วน\x20(ย่อ/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','thead','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','select','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-initial-view','การบวก','classWeaknesses','$1^{\x5ccirc}\x5ctext{C}','<option\x20value=\x22','ตอบถูกทุกข้อในแบบทดสอบนี้','project-id-display','Invalid\x20response\x20structure\x20from\x20AI.','passcode-error-msg','fa-user-astronaut\x20text-blue-700','reduce','[data-is-correct=\x22true\x22]','element','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','originalTopic','text-gray-200','webkitRequestFullscreen','undefined','.csv','show_pass_fail_only','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','rgba(59,\x20130,\x20246,\x200.7)','Error\x20listening\x20for\x20starred\x20quizzes:','การลบทศนิยม','-tab-content','(หลังเรียน)\x20','min','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','total','กำลังสร้างแบบทดสอบคู่ขนาน...','confirm-rename-quiz-btn','shuffleSetting','จุด\x20เส้น\x20ระนาบ','admin-dashboard','totalQuestions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700\x20bg-red-100','textarea','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','Error\x20processing\x20file\x20for\x20AI:','เกิดข้อผิดพลาดในการลบแบบทดสอบ','comparison-individual-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x5csqrt{$1}','ความคล้ายของรูป','กำลังสแกนหาแบบทดสอบเก่า...','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','กราฟแท่ง\x20กราฟเส้น','timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันแบบชิ้นส่วน','bg-green-100\x20font-bold','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','inactive','</p></div>','modal-timer-mode-select','<br>','quizType','\x20ใหม่...','getBoundingClientRect','topic-input-area','\x20คะแนน','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','player-count','reveal-answer-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','position','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Invalid\x20response\x20structure\x20from\x20AI:','quiz-type-select','.regenerate-question-btn','items','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','border-red-300\x20bg-red-50','สร้างคำถามแบบเติมคำในช่องว่าง','settings','ระบบเลขและค่าประจำหลัก','.correct-response-input','หน่วยมวล/น้ำหนักและการแปลง','.ideal-answer-input','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','date_desc','border-green-500','แผนภาพเวนน์','text-red-900','\x20หัวข้อ)','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','student-view','\x5cfrac{$1}{$2}','behavior-log-container','interesting-stats-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600\x20font-bold','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','Failed\x20to\x20get\x20standardized\x20topic:','earned-badges-container','[role=\x22textbox\x22]','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','createObjectURL','bg-red-100\x20text-red-800','upperGroupResponders','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','width','AI\x20request\x20was\x20blocked.\x20Reason:\x20','doughnut','text-red-800','student-rankings-modal','<i\x20class=\x22fas\x20fa-save\x22></i>','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','students','bg-green-100\x20text-green-800','questionId','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','now','toDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','-\x20ข้อ\x20','answers','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-project-select','text-gray-400\x20hover:text-indigo-600','results-table-container','touchmove','เกิดข้อผิดพลาดในการอัปเดตสถานะ','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','cancel-quiz-bank-btn','สมการราก\x20(radical)','ข้อ\x20','N/A','isPinned','(ก่อนเรียน)','focus','cancel-create-project-btn','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','matching_item','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','trim','geq','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','text-gray-100','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','has','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','lesson-plan-modal','ก่อนเรียน','classList','global-live-game-modal','จับคู่เพื่อเปรียบเทียบผล','password-error-msg','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','แบบทดสอบจากคลังส่วนตัว','parent','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','การวัด','gain','ฟังก์ชันลอการิทึม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มุมพิเศษ\x2030°-60°-90°','<button\x20data-quiz-id=\x22','ไม่มีคำอธิบาย','student-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22','_opt','passcode','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','$1^{$2}','explanation','after','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','API\x20call\x20failed','file-tab','dragend','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x22>ใช่</p>','ย้ายแบบทดสอบไปโปรเจคอื่น','2-digit','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กราฟฟังก์ชันตรีโกณ','hint-btn','mean','#student-project-leaderboard-content\x20thead','quiz-editor-modal','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','mouseup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','Error\x20deleting\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeEventListener','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','findIndex','generate-from-file-btn','offsetWidth','bank-quiz-list','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','then','\x22><p\x20class=\x22font-semibold\x22>','exited_fullscreen','Error\x20toggling\x20pin\x20status:','select-all-topics-btn','เพิ่มหัวข้อ\x20\x22','แบบเติมคำตอบ','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','fa-shield-alt\x20text-gray-600','next-drill-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','student-name-select','half_mark_status','list','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','remove','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','</p><p><strong>เฉลย:</strong>\x20','ไม่ผ่าน','กฎบวกและกฎคูณ','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','</p><div>','ลบโปรเจคสำเร็จแล้ว','parse','scores-tab-content','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','correct','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','student','border-indigo-400\x20ring-2\x20ring-indigo-200','การปัดเศษและประมาณค่า','Error\x20generating\x20quiz:','originalQuestionText','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','modal-timer-duration-container','หน่วยเวลาและการคำนวณเวลา','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','(^|[^\x5c\x5c])\x5cb','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','allResponses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','results-tab','ทำคะแนนได้เกินครึ่ง','\x22\x5cn','การจัดหมู่\x20(Combination)','force-math-checkbox','bg-gray-50','.answer-text','#DBEAFE','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','underline','answer-counter','fixed','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','student-progress-view','cancel-rename-quiz-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','specialist','pow','addEventListener','str','หัวข้อที่สร้างเอง','Error\x20showing\x20quiz\x20detail\x20view:','.edit-quiz-btn','projectSortOrder','isRemedial','project-list','ทฤษฎีทวินาม\x20(เบื้องต้น)','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','ไม่ใช่','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','<span\x20title=\x22','math-topics-checkbox-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','ค่าเฉลี่ย','student-join-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ไฮเพอร์โบลา','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','standardTopic','quiz-results-table-body','การประยุกต์เวกเตอร์พื้นฐาน','result','ฮิสโตแกรม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#E0E7FF','เกิดข้อผิดพลาดในการจับคู่','category','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','bg-yellow-50','clientX','passcode-prompt-message','สลับไปโหมดผู้ควบคุม','ไม่สามารถสร้างโปรเจคได้','behavior-log-tab-btn','fa-bolt\x20text-blue-500','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab-content','student-name-selection-view','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-passcode-input','display','cancel-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#F59E0B','/preferences/main','rename-quiz-input','beforeend','stdDev','เกิดข้อผิดพลาดในการลบผลสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','click','getElementById','%</span>','PERFECT_SCORE','comparison-chart','load-quiz-btn','max','Error\x20updating\x20quiz\x20status:','border-gray-200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','toLowerCase','input[name=\x22drill_answer\x22]:checked','upperGroupNames','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','badgesCount','ai-quiz-app-aefee','.draggable-text','ลำดับการดำเนินการ\x20(PEMDAS)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','hasOwnProperty','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','preventDefault','Error\x20fetching\x20projects\x20for\x20move:','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','พอใช้','questionDisplayedAt','answer','open-global-live-btn','quizMode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','สรุปผลการวิเคราะห์:\x5cn','bg-green-100','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','per-question-options','<div\x20class=\x22space-y-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ไม่พบตารางสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','toggle','className','correctResponse','Error\x20deleting\x20student:','.\x20แต่ละข้อมี\x20','join-live-game-btn','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ไม่สามารถโหลดรายการโปรเจคได้','bestScore','button','Error\x20pairing\x20quizzes:','cancel-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','scrollIntoView','admin-password-input','circle','auto','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','from','repeat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','schedule','สำหรับโปรเจค:\x20','การคูณเศษส่วน','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดเมนและเรนจ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','results-quiz-title','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','isCorrect','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','push','</tbody></table></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','show_results_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-test-btn','<p\x20class=\x22font-bold\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','per-question-timer-container','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-input-area','analytics-tab-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดูสรุปผล','leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','update','move-quiz-modal','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','setFont','raw','.pdf','ศูนย์','justification','visibilityState','student-progress-content','คำตอบถูกต้อง!\x20+','touchstart','\x22\x20value=\x22false\x22\x20','admin-try-quiz-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','live-submit-short-answer-btn','short_answer','font-bold','ring-2','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','\x22.\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','admin-action-buttons','ไม่พบข้อมูลการจับคู่','tan','ตรวจพบการสลับหน้าจอครบ\x20','ความน่าจะเป็นแบบมีเงื่อนไข','ไม่พบแบบทดสอบในระบบเลย','end-game-btn','student-quiz-leaderboard-content','พื้นที่ใต้กราฟ/ระหว่างกราฟ','รูปสแควร์รูท\x20(surd)','border-4','Error\x20listening\x20for\x20projects:','/public/data/customMathTopics','.doc','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','uid','\x20สำเร็จ:\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','-tab','loader','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','ความสัมพันธ์ของมุม','promptFeedback','slide-counter','correctAnswerIndex','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','รูปหลายเหลี่ยมและมุมภายใน','ลบหัวข้อสำเร็จ','createdAt','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','execCommand','\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FIRST_TRY_ACE','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','topic-tab','cancel-quiz-edits-btn','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','size','สร้างโปรเจคสำเร็จ!','สัญกรณ์วิทยาศาสตร์','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','manage','confirm-quiz-settings-btn','setAttribute','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','เรขาคณิตวิเคราะห์','name_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ส่งคำตอบ','.export-pdf-list-btn','ref','text-gray-700','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','question-complexity-select','latestScore','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','รากที่สองและที่สาม','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','Error\x20adding\x20students:','score-distribution-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDate','button[type=\x22submit\x22]','```','isStarred','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','option','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','scores-tab-btn','125GmVWfQ','questionStatus','ทฤษฎีบทพื้นฐานของแคลคูลัส','points','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','close-presentation-btn','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','indexOf','pre-test-checkbox','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','currentQuestionIndex','.delete-submission-btn','BOOLEAN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ความแปรปรวน','คัดลอกไม่สำเร็จ','ผู้ควบคุม\x20(ทดสอบ)','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','quiz-search-input','presentation-ai-result','ยกเลิกการจับคู่สำเร็จ','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','warn','.project-card-container[data-id]','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','138222JBTuhY','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.toggle-actions-btn','comparison','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','times','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','39928ZYrHOD','players.','สร้างแบบทดสอบปรนัย','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','autoTable','<div><input\x20type=\x22radio\x22\x20id=\x22q','MathJax\x20typeset\x20error\x20(analytics):','values','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20value=\x22','เส้นจำนวน','title','match','body','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','Error\x20saving\x20visibility\x20settings:','.option-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','tGain','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','value','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','modal-adaptive-quiz-checkbox','change','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','กำลังวิเคราะห์ข้อสอบ\x20\x22','สมการยกกำลัง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','.quiz-bank-item','student-quiz-leaderboard-tab','mousedown','กำลังดึงข้อมูลจากลิงก์...','Error\x20joining\x20live\x20game:','\x5ctimes','ผลรวมอนุกรม\x20(Σ)','ยืนยันการจับคู่','upper_group_count','.pair-quiz-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','live-options-container','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','cancel-admin-login-btn','text-white','multiple_choice','วงกลม:\x20สมการและสมบัติ','overallGroups',',\x20r=','bg-green-500','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','input[type=\x22checkbox\x22]','</span>','cancel-passcode-btn','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','round','floor','สลับไปโหมดนักเรียน','back-from-results-btn','เกิดข้อผิดพลาดในการอัปเดต:\x20','สมมาตร\x20(แกน/จุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','shuffle-setting-select','text-gray-500','เกิดข้อผิดพลาดในการเปลี่ยนสี','แผนการสอน:\x20','text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20verifying\x20answers:','quick_thinker','ไม่ได้ตอบ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','submit','cancel-global-live-btn','\x22>ไม่ใช่</p>','questionType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','files','text','\x22><i\x20class=\x22fas\x20','instructions','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','คะแนนยังไม่ถึงครึ่ง','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20id=\x22q-image-container-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','join','teacherSuggestions','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','save-quiz-btn','คณิตการเงิน/บูรณาการ','ลิมิต','submissions','input[type=\x22checkbox\x22]:checked','project-passcode-modal','fullscreenchange','```json','.png','Error\x20generating\x20worksheet:','text-green-700\x20bg-green-100','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','live-game','หน่วยความยาวและการแปลง','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.correctStreak','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','สอบปกติ','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','</p>','เส้นตรง:\x20รูปแบบสมการ','Error\x20deleting\x20all\x20students:','none','\x20ครั้ง)</span></td>','input[name=\x22status-option\x22]:checked','bar','create-from-bank-btn','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เรเดียนและการแปลงหน่วย','text-yellow-800','quiz-start-time','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','.quiz-bank-try-btn','far\x20fa-star','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','\x22\x20name=\x22drill_answer\x22\x20value=\x22','generate-from-blueprint-btn','STRING','color','timestamp','substring','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','start-quiz-btn','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','global-quiz-search-input','contains','เกี่ยวกับหัวข้อ\x20\x22','update-old-quizzes-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','modal-passing-score-input','การหารเศษส่วน','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','สมการค่าสัมบูรณ์','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','การหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x5cle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dispatchEvent','onchange','^{\x5ccirc}\x5ctext{C}$','ตรวจทานเฉลยเสร็จสิ้น!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-view','\x20mx-1\x20text-lg\x22></i></span>','.copy-quiz-id-list-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','export-word-btn','สร้างคำถามแบบใช่/ไม่ใช่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','ฟังก์ชันผกผัน','setAttributeNS','false','msExitFullscreen','random','Error\x20generating\x20lesson\x20plan:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','sum','btn','table','export-leaderboard-image-btn','results-quiz-id-display','targetId','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','bg-yellow-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','Error\x20saving\x20to\x20question\x20bank:','confirm-admin-login-btn','show_results_and_answers','Error\x20unpairing\x20quizzes:','</strong></p>','การจัดกลุ่มข้อมูล','</body></html>','quiz','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','icon','start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','กรุณาเลือกโปรเจคที่ต้องการบันทึก','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includes','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','https://corsproxy.io/?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-300\x20bg-green-50','mjx-container','requestFullscreen','เกิดข้อผิดพลาดในการปักหมุด','</li>','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','toFixed','quiz-editor-questions-container','leq','export-pdf-btn','quiz-id-input','user','timer-mode-select','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','close-student-rankings-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','พบข้อสอบ\x20','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','text-green-600','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','top','Error\x20verifying\x20answers\x20in\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การนับ','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',')\x5cb)','bg-emerald-100','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','lowerGroupResponders','perseverance','text-gray-300\x20hover:text-white','prev-question-btn','hint','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','student-project-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','เซียนสมองไว','cos','ปริมาตรรูปทรงสามมิติ','คำเตือน\x20(','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','บันทึกการตั้งค่าแล้ว','259schLAE','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','9097900JxTWJs','ความชันเส้นสัมผัส','Error\x20generating\x20parallel\x20test\x20from\x20bank:','generate-worksheet-btn','Error\x20renaming\x20quiz:','lower_group_count','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','Error\x20updating\x20pin\x20status:','fill_in_no_choices','close-lesson-plan-modal-btn','question-analytics-container','mouseleave','manual_release','hover:bg-indigo-100','countdown-display','แก้ไขหัวข้อสำเร็จ','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกแบบทดสอบสำเร็จ','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','back-to-dashboard-btn','ลำดับเลขคณิต\x20(AP)','qIndex','mixed','/public/data/quizzes','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','Copy\x20command\x20failed','leaderboard-quiz-tab-content','shuffle','.quiz-result-card','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','export-excel-btn','</td>','#FCE7F3','แบบทดสอบ:\x20','ฟังก์ชันค่าสัมบูรณ์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','answeredCurrentQuestion','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab-content','Error\x20opening\x20quiz\x20editor:','move','start-presentation-btn','.badges','ai-quiz-app-aefee.firebaseapp.com','ปริมาตร/ความจุและการแปลง','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','check-answer-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','.compare-results-btn','\x22\x20class=\x22color-palette-btn\x20','leaderboard-table-body','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','bg-red-50','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','1856364gNREsz','.ql-editor','admin-testing','bg-purple-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','ไม่พบแบบทดสอบ','leaderboard_','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','ฟังก์ชันเชิงเส้นและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','quiz-generation-area','fill_in_the_blank','ตรีโกณมิติ','projectOrder','\x22...','font-bold\x20text-red-700\x20line-through','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','deg','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswer','insertAdjacentHTML','ย้ายแบบทดสอบสำเร็จ','filter','จากเนื้อหาต่อไปนี้:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','text-indigo-600','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','กำลังอัปเดตแบบทดสอบ\x20','ค่าสัมบูรณ์','drop','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','confirm-join-game-btn','cdot','พื้นที่วงกลม/ส่วนของวงกลม','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','quiz-schedule-end-container','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','Original\x20quiz\x20not\x20found','hidden','passing-score-input','project-quizzes-list','Error\x20saving\x20quiz\x20edits:','ย้าย','index','text/html','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','ไม่มี','gamePin','<span\x20class=\x22font-bold\x20','disabled','delete','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x20รายการ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','\x22\x20สำเร็จ','preScore','projectName','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','docs','list-view-btn','จำนวนนักเรียน','message-modal','blueprint-tab','export-pdf-modal','blockReason','\x5cdiv','scores','ARRAY','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','attempts','finishReason','default','เส้นรอบรูป','):\x20กรุณาอย่าสลับหน้าจอหรือออกจากแอปพลิเคชันระหว่างทำแบบทดสอบ','คำถามดิบ:\x20\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เมทริกซ์:\x20บวก/คูณ','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','arrayBuffer','Firebase\x20initialization\x20failed:','actions-container-','enable-passcode-checkbox','ระยะทางและจุดกึ่งกลาง','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','querySelector','แก้ระบบสมการด้วยเมทริกซ์','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','endTime','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','ระบบอสมการ','function','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','strength-weakness-analysis-container','#retake-for-improvement-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exists','div','<p><strong>คำตอบที่แนะนำ:</strong>\x20','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x22\x20name=\x22question','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','COMEBACK_KING','{$1}','save-quiz-edits-btn','starred','verify-answers-editor-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','localeCompare','mousemove','export-lesson-pdf-btn','#10B981','\x20\x20\x20-\x20คำตอบ:\x20','.delete-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','.delete-svg-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x5ccdot','dragover','ร้อยละประยุกต์','link-url-input','label','stringify','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','สมการตรีโกณมิติ','QUICK_THINKER','ปริพันธ์ไม่จำกัด','bg-red-100','results-table','contentEditable','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิมพ์ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','scheduled_pending','#results-table\x20thead\x20tr','Error\x20during\x20class\x20analysis:','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','คะแนน','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','5673832vuUccU','latestSubmittedAt','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','.quiz-status-btn','หมดเวลา!\x20กำลังส่งคำตอบ...','image/png','toLocaleString','leaderboard-quiz','Error\x20saving\x20submission:','left','.topic-actions-edit','Error\x20rendering\x20student\x20progress:','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','.project-card-container:not(.opacity-50)','(คู่ขนาน)\x20','createElementNS','globalSettings','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','close-game-final-btn','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','export-leaderboard-pdf-btn','retake-quiz-loop-btn','delete-all-students-btn','ค่าเสื่อมราคา','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','การบวกเศษส่วน','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','presentation-modal','admin-view','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแยกตัวประกอบ','<p><strong>คำตอบของคุณ:</strong>\x20','bg-red-200\x20text-red-800','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<option>กำลังโหลดโปรเจค...</option>','คณิตศาสตร์','modal-results-display-select','เกิดข้อผิดพลาดในการอ่านไฟล์','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','.pin-project-btn','ดีเทอร์มิแนนต์','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','desc','quiz-leaderboard-table','_opt0\x22\x20name=\x22question','copy','exitFullscreen','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','ไม่พบโปรเจค','keys','loader-text','ตัวแปรและนิพจน์','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','Error\x20generating\x20from\x20blueprint:','ยังไม่เต็มนะ','Failed\x20to\x20parse\x20JSON\x20from\x20AI','[*]','16965540kJgkWh','close-comparison-modal-btn','API\x20call\x20failed\x20with\x20status:\x20','svg','post-test','questions_only','cursor','\x20\x0a\x20\x20\x20\x20','quiz-status-modal','.duplicate-quiz-btn','data:application/vnd.ms-word;charset=utf-8,','medium','normal','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.question-editor-item','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sqrt','questionIndex','delete-svg-btn','parseFromString','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','analytics','\x20ข้อ\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','modal-shuffle-select','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','padStart','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิต','เกิดข้อผิดพลาดในการสร้างใบงาน','font-bold\x20text-green-700','toLocaleDateString','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','empty','revealed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','passingScore','destroy','timer-duration-input','.topic-actions-view','กฎของโคไซน์','dashboardConfig','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','stopPropagation','Error\x20listening\x20for\x20student\x20profiles:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','flex','ห.ร.ม.\x20(GCD)','quiz-leaderboard-table-container','project-sort-select','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','name','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','analyze-strengths-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','.move-quiz-btn','ทฤษฎีบทพีทาโกรัสและการประยุกต์','class','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button[data-id]','touchcancel','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','getPage','presentation-slide-container','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','true_false','math-topic-search-input','open','\x0a\x20\x20\x20\x20','options','สร้างชุดคำถามจับคู่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','outerHTML','ไม่พบข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','webkitExitFullscreen','</div><div\x20class=\x22space-y-2\x22>','.start-live-race-btn','</option>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','.edit-question-btn','ผ่าน','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','student-quiz-area','studentName','</span></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','พีชคณิตและฟังก์ชัน','</tr>','ยังไม่มีนักเรียนส่งงาน','อนุพันธ์:\x20ผลคูณ/ผลหาร','answerText','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','fa-crown\x20text-yellow-500','getDocument','Error\x20generating\x20from\x20link:','starred-project','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','perfect_score_status','.topic-row','\x20ชุด)','ai-quiz-app-aefee.appspot.com','height','create-project-modal','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20'];_0x20ec=function(){return _0x3daa73;};return _0x20ec();}import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let modalConfirmAction=null,cheatAttempts=0x0;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1bb21e(0x295),'pinnedProjects':[],'projectView':_0x1bb21e(0x170)};const allMathTopics=[{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x568)},{'category':'จำนวนและการดำเนินการ','name':_0x1bb21e(0x28f)},{'category':'จำนวนและการดำเนินการ','name':_0x1bb21e(0x336)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x39e)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x23a)},{'category':_0x1bb21e(0x847),'name':'การลบ'},{'category':_0x1bb21e(0x847),'name':'การคูณ'},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x518)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x797)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x1bb21e(0x3f4)},{'category':'จำนวนและการดำเนินการ','name':_0x1bb21e(0x5de)},{'category':'จำนวนและการดำเนินการ','name':_0x1bb21e(0x484)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x8c5)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x6c8)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x1a5)},{'category':_0x1bb21e(0x847),'name':'อัตราส่วนและสัดส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x1bb21e(0x76e)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x232)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x675)},{'category':'จำนวนและการดำเนินการ','name':_0x1bb21e(0x12b)},{'category':'จำนวนและการดำเนินการ','name':_0x1bb21e(0x3d4)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x511)},{'category':'จำนวนและการดำเนินการ','name':_0x1bb21e(0x769)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x16a)},{'category':_0x1bb21e(0x847),'name':'การบวกทศนิยม'},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x253)},{'category':_0x1bb21e(0x847),'name':'การคูณทศนิยม'},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x7bb)},{'category':_0x1bb21e(0x847),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x1bb21e(0x847),'name':'ร้อยละพื้นฐาน'},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x828)},{'category':'จำนวนและการดำเนินการ','name':_0x1bb21e(0x616)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x600)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x446)},{'category':_0x1bb21e(0x847),'name':_0x1bb21e(0x40f)},{'category':'จำนวนและการดำเนินการ','name':_0x1bb21e(0x431)},{'category':_0x1bb21e(0x2e6),'name':_0x1bb21e(0x4e7)},{'category':_0x1bb21e(0x2e6),'name':_0x1bb21e(0x291)},{'category':'การวัด','name':_0x1bb21e(0x33b)},{'category':_0x1bb21e(0x2e6),'name':_0x1bb21e(0x5b0)},{'category':_0x1bb21e(0x2e6),'name':'อุณหภูมิและการแปลง'},{'category':_0x1bb21e(0x2e6),'name':_0x1bb21e(0x60f)},{'category':_0x1bb21e(0x2e6),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x1bb21e(0x2e6),'name':_0x1bb21e(0x7fb)},{'category':'การวัด','name':_0x1bb21e(0x5e3)},{'category':_0x1bb21e(0x2e6),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x1bb21e(0x2e6),'name':_0x1bb21e(0x579)},{'category':_0x1bb21e(0x2e6),'name':'มุมและการวัดมุม'},{'category':_0x1bb21e(0x2e6),'name':_0x1bb21e(0x83a)},{'category':'การวัด','name':_0x1bb21e(0x12e)},{'category':_0x1bb21e(0x6b4),'name':_0x1bb21e(0x25d)},{'category':_0x1bb21e(0x6b4),'name':_0x1bb21e(0x41d)},{'category':_0x1bb21e(0x6b4),'name':_0x1bb21e(0x5ce)},{'category':_0x1bb21e(0x6b4),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x1bb21e(0x6b4),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x1bb21e(0x6b4),'name':_0x1bb21e(0x26b)},{'category':_0x1bb21e(0x6b4),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x1bb21e(0x6b4),'name':_0x1bb21e(0x422)},{'category':_0x1bb21e(0x6b4),'name':_0x1bb21e(0x84a)},{'category':_0x1bb21e(0x6b4),'name':_0x1bb21e(0x6b8)},{'category':_0x1bb21e(0x6b4),'name':_0x1bb21e(0x6d0)},{'category':'เรขาคณิต','name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x1bb21e(0x4b8)},{'category':_0x1bb21e(0x6b4),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':_0x1bb21e(0x6d4)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x68f)},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x35e)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x67a)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x250)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1bb21e(0x401)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x515)},{'category':_0x1bb21e(0x6f7),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x2c7)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x497)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x786)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x1bd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1bb21e(0x8de)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x623)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x70b)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x3d7)},{'category':_0x1bb21e(0x6f7),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x52a)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x2a5)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x5c5)},{'category':_0x1bb21e(0x6f7),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x1bb21e(0x6f7),'name':'ฟังก์ชันพหุนาม'},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x800)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x13c)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x5a5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1bb21e(0x272)},{'category':_0x1bb21e(0x6f7),'name':'ฟังก์ชันยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1bb21e(0x2e8)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x597)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x82e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1bb21e(0x49f)},{'category':_0x1bb21e(0x6f7),'name':_0x1bb21e(0x35b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1bb21e(0x198)},{'category':_0x1bb21e(0x437),'name':_0x1bb21e(0x61b)},{'category':_0x1bb21e(0x437),'name':'ความชันและเส้นตรง'},{'category':_0x1bb21e(0x437),'name':_0x1bb21e(0x4f0)},{'category':_0x1bb21e(0x437),'name':_0x1bb21e(0x851)},{'category':_0x1bb21e(0x437),'name':_0x1bb21e(0x782)},{'category':_0x1bb21e(0x437),'name':_0x1bb21e(0x4aa)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1bb21e(0x186)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1bb21e(0x86c)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1bb21e(0x36a)},{'category':'ตรีโกณมิติ','name':_0x1bb21e(0x77a)},{'category':'ตรีโกณมิติ','name':_0x1bb21e(0x2eb)},{'category':_0x1bb21e(0x5c9),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x1bb21e(0x5c9),'name':_0x1bb21e(0x4f8)},{'category':_0x1bb21e(0x5c9),'name':'กฎของไซน์'},{'category':_0x1bb21e(0x5c9),'name':_0x1bb21e(0x6c1)},{'category':'ตรีโกณมิติ','name':_0x1bb21e(0x7a4)},{'category':'ตรีโกณมิติ','name':_0x1bb21e(0x7ad)},{'category':'ตรีโกณมิติ','name':_0x1bb21e(0x646)},{'category':_0x1bb21e(0x5c9),'name':_0x1bb21e(0x306)},{'category':'ตรีโกณมิติ','name':_0x1bb21e(0x1a9)},{'category':_0x1bb21e(0x1db),'name':_0x1bb21e(0x836)},{'category':'สถิติและความน่าจะเป็น','name':_0x1bb21e(0x53f)},{'category':_0x1bb21e(0x1db),'name':'ตารางความถี่'},{'category':_0x1bb21e(0x1db),'name':_0x1bb21e(0x26f)},{'category':_0x1bb21e(0x1db),'name':_0x1bb21e(0x370)},{'category':_0x1bb21e(0x1db),'name':_0x1bb21e(0x883)},{'category':'สถิติและความน่าจะเป็น','name':_0x1bb21e(0x366)},{'category':'สถิติและความน่าจะเป็น','name':'มัธยฐาน'},{'category':'สถิติและความน่าจะเป็น','name':'ฐานนิยม'},{'category':_0x1bb21e(0x1db),'name':'พิสัย'},{'category':_0x1bb21e(0x1db),'name':_0x1bb21e(0x718)},{'category':'สถิติและความน่าจะเป็น','name':_0x1bb21e(0x466)},{'category':_0x1bb21e(0x1db),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x1bb21e(0x1db),'name':_0x1bb21e(0x806)},{'category':_0x1bb21e(0x1db),'name':_0x1bb21e(0x6af)},{'category':_0x1bb21e(0x1db),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x1bb21e(0x1db),'name':_0x1bb21e(0x32b)},{'category':'สถิติและความน่าจะเป็น','name':_0x1bb21e(0x297)},{'category':'สถิติและความน่าจะเป็น','name':_0x1bb21e(0x40a)},{'category':_0x1bb21e(0x1db),'name':_0x1bb21e(0x1f0)},{'category':_0x1bb21e(0x1db),'name':_0x1bb21e(0x8ab)},{'category':_0x1bb21e(0x1db),'name':_0x1bb21e(0x344)},{'category':_0x1bb21e(0x1db),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x1bb21e(0x1db),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x1bb21e(0x4dc)},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':_0x1bb21e(0x76f),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x1bb21e(0x76f),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x1bb21e(0x76f),'name':_0x1bb21e(0x6fa)},{'category':_0x1bb21e(0x76f),'name':_0x1bb21e(0x8e0)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1bb21e(0x581)},{'category':_0x1bb21e(0x76f),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':'แคลคูลัสเบื้องต้น','name':_0x1bb21e(0x854)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1bb21e(0x648)},{'category':_0x1bb21e(0x76f),'name':'ปริพันธ์จำกัด'},{'category':_0x1bb21e(0x76f),'name':_0x1bb21e(0x456)},{'category':_0x1bb21e(0x76f),'name':_0x1bb21e(0x40e)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x1bb21e(0x13f),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x1bb21e(0x13f),'name':_0x1bb21e(0x36e)},{'category':_0x1bb21e(0x13f),'name':_0x1bb21e(0x615)},{'category':_0x1bb21e(0x13f),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x1bb21e(0x13f),'name':_0x1bb21e(0x684)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1bb21e(0x61e)},{'category':_0x1bb21e(0x4db),'name':_0x1bb21e(0x1d0)},{'category':_0x1bb21e(0x4db),'name':_0x1bb21e(0x76a)},{'category':_0x1bb21e(0x4db),'name':_0x1bb21e(0x15e)},{'category':_0x1bb21e(0x4db),'name':_0x1bb21e(0x673)},{'category':_0x1bb21e(0x4db),'name':_0x1bb21e(0x641)},{'category':_0x1bb21e(0x17e),'name':_0x1bb21e(0x1c0)},{'category':_0x1bb21e(0x17e),'name':_0x1bb21e(0x80a)},{'category':_0x1bb21e(0x17e),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x3bdd83=_0x1bb21e,_0x2137fb=document[_0x3bdd83(0x38e)](_0x3bdd83(0x360));if(!_0x2137fb)return;const _0x2db8a9=allMathTopics,_0x2f5b32=customMathTopics[_0x3bdd83(0x796)](_0x10d74f=>({'id':_0x10d74f['id'],'category':'หัวข้อที่สร้างเอง','name':_0x10d74f['name']})),_0x51abd5=[..._0x2db8a9,..._0x2f5b32],_0x14890f=_0x51abd5[_0x3bdd83(0x243)]((_0x55d428,_0xf1441b)=>{const _0x31010b=_0x3bdd83;return!_0x55d428[_0xf1441b['category']]&&(_0x55d428[_0xf1441b[_0x31010b(0x374)]]=[]),_0x55d428[_0xf1441b[_0x31010b(0x374)]][_0x31010b(0x3dd)](_0xf1441b),_0x55d428;},{});let _0x4dfbbc='';const _0xfeba86=['หัวข้อที่สร้างเอง',...Object['keys'](_0x14890f)[_0x3bdd83(0x5d6)](_0x4e50f6=>_0x4e50f6!==_0x3bdd83(0x355))];for(const _0x4fdae5 of _0xfeba86){if(_0x14890f[_0x4fdae5]){const _0x226026=_0x4fdae5===_0x3bdd83(0x355),_0x5eefb7=_0x226026?'fas\x20fa-user-edit':_0x3bdd83(0x139),_0xcf4db2=_0x226026?_0x3bdd83(0x8af):_0x3bdd83(0x88e);_0x4dfbbc+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x4dfbbc+=_0x3bdd83(0x3e3)+_0xcf4db2+_0x3bdd83(0x174)+_0x5eefb7+'\x20mr-2\x22></i>'+_0x4fdae5+_0x3bdd83(0x4ef),_0x14890f[_0x4fdae5][_0x3bdd83(0x813)](_0x5ddce8=>{const _0x2b8694=_0x3bdd83,_0x40cedd=!!_0x5ddce8['id'],_0xd18b93=_0x40cedd?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5ddce8['id']+_0x2b8694(0x33e)+_0x5ddce8['id']+_0x2b8694(0x331)+_0x5ddce8['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5ddce8['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x4dfbbc+=_0x2b8694(0x4eb)+(_0x5ddce8['id']||'')+_0x2b8694(0x84e)+_0x5ddce8['name']+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x5ddce8[_0x2b8694(0x6cc)]+_0x2b8694(0x2ff)+(_0x40cedd?_0x2b8694(0x365)+_0x5ddce8['name']+'\x22>':'')+_0x2b8694(0x777)+_0xd18b93+_0x2b8694(0x1d5);}),_0x4dfbbc+=_0x3bdd83(0x8ad);}}_0x2137fb[_0x3bdd83(0x7ac)]=_0x4dfbbc||_0x3bdd83(0x561),_0x2137fb[_0x3bdd83(0x310)](_0x3bdd83(0x494),updateSelectedTopicsCount),_0x2137fb['addEventListener'](_0x3bdd83(0x494),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2f5d5a,_0x23fc90){const _0x514cff=_0x1bb21e;if(!_0x2f5d5a||!_0x23fc90[_0x514cff(0x2d2)]()){showMessage(_0x514cff(0x152));return;}try{const _0x3ad2fb=doc(db,_0x514cff(0x736)+appId+_0x514cff(0x412),_0x2f5d5a);await updateDoc(_0x3ad2fb,{'name':_0x23fc90['trim']()}),showMessage(_0x514cff(0x58f));}catch(_0x331600){console['error']('Error\x20updating\x20custom\x20topic:',_0x331600),showMessage(_0x514cff(0x257));}}function toggleTopicEditMode(_0x42fe62,_0x3d505a){const _0x447f50=_0x1bb21e;if(!_0x42fe62)return;const _0x323bf7=_0x42fe62[_0x447f50(0x61d)](_0x447f50(0x820)),_0x78d967=_0x42fe62[_0x447f50(0x61d)]('.topic-name-input'),_0x115a19=_0x42fe62[_0x447f50(0x61d)](_0x447f50(0x6c0)),_0x50b6aa=_0x42fe62[_0x447f50(0x61d)](_0x447f50(0x664));_0x323bf7[_0x447f50(0x2db)]['toggle'](_0x447f50(0x5e8),_0x3d505a),_0x78d967[_0x447f50(0x2db)][_0x447f50(0x3bb)](_0x447f50(0x5e8),!_0x3d505a),_0x115a19[_0x447f50(0x2db)][_0x447f50(0x3bb)](_0x447f50(0x5e8),_0x3d505a),_0x50b6aa[_0x447f50(0x2db)][_0x447f50(0x3bb)](_0x447f50(0x5e8),!_0x3d505a),_0x3d505a&&(_0x78d967[_0x447f50(0x2cc)](),_0x78d967[_0x447f50(0x237)]());}function updateSelectedTopicsCount(){const _0x3993d2=_0x1bb21e,_0x27f02a=document[_0x3993d2(0x38e)](_0x3993d2(0x360)),_0x3743fa=_0x27f02a[_0x3993d2(0x175)](_0x3993d2(0x4de))[_0x3993d2(0x890)],_0x35f1fa=document[_0x3993d2(0x38e)](_0x3993d2(0x16d));_0x3743fa>0x0?_0x35f1fa[_0x3993d2(0x83f)]='(เลือกแล้ว\x20'+_0x3743fa+_0x3993d2(0x299):_0x35f1fa[_0x3993d2(0x83f)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1bb21e(0x334),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x1bb21e(0x8d8),'name':'คะแนนเต็ม','description':_0x1bb21e(0x23e),'icon':_0x1bb21e(0x6fd)},'QUICK_THINKER':{'id':_0x1bb21e(0x4c1),'name':_0x1bb21e(0x577),'description':_0x1bb21e(0x78f),'icon':_0x1bb21e(0x37c)},'ON_FIRE':{'id':_0x1bb21e(0x7c0),'name':_0x1bb21e(0x811),'description':_0x1bb21e(0x741),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':'first_try_ace','name':'ผ่านฉลุย','description':_0x1bb21e(0x8b4),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':'comeback_king','name':_0x1bb21e(0x1a4),'description':_0x1bb21e(0x676),'icon':_0x1bb21e(0x31f)},'SPECIALIST':{'id':_0x1bb21e(0x351),'name':_0x1bb21e(0x7c3),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x1bb21e(0x242)},'PERSEVERANCE':{'id':_0x1bb21e(0x56f),'name':_0x1bb21e(0x720),'description':_0x1bb21e(0x860),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x1bb21e(0x5af),'projectId':_0x1bb21e(0x39c),'storageBucket':_0x1bb21e(0x706),'messagingSenderId':_0x1bb21e(0x1b3),'appId':_0x1bb21e(0x8d3),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x1bb21e(0x24a)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x1bb21e(0x38e)](_0x1bb21e(0x678)),studentView=document[_0x1bb21e(0x38e)](_0x1bb21e(0x29d)),projectDashboardView=document['getElementById']('project-dashboard-view'),projectDetailView=document[_0x1bb21e(0x38e)](_0x1bb21e(0x7b4)),quizResultsView=document[_0x1bb21e(0x38e)](_0x1bb21e(0x521)),projectList=document[_0x1bb21e(0x38e)](_0x1bb21e(0x35a)),noProjectsMsg=document[_0x1bb21e(0x38e)](_0x1bb21e(0x861)),projectTitle=document[_0x1bb21e(0x38e)]('project-title'),projectIdDisplay=document[_0x1bb21e(0x38e)](_0x1bb21e(0x23f)),studentList=document[_0x1bb21e(0x38e)]('student-list'),messageModal=document['getElementById'](_0x1bb21e(0x604)),modalMessage=document[_0x1bb21e(0x38e)](_0x1bb21e(0x14b)),createProjectModal=document['getElementById'](_0x1bb21e(0x708)),adminPasswordModal=document[_0x1bb21e(0x38e)](_0x1bb21e(0x15a)),confirmationModal=document[_0x1bb21e(0x38e)]('confirmation-modal'),userIdDisplay=document[_0x1bb21e(0x38e)]('user-id-display'),topicTab=document['getElementById'](_0x1bb21e(0x42c)),textTab=document[_0x1bb21e(0x38e)](_0x1bb21e(0x825)),topicInputArea=document[_0x1bb21e(0x38e)](_0x1bb21e(0x27c)),textInputArea=document[_0x1bb21e(0x38e)]('text-input-area'),manageTab=document['getElementById'](_0x1bb21e(0x21a)),resultsTab=document[_0x1bb21e(0x38e)](_0x1bb21e(0x341)),leaderboardTab=document[_0x1bb21e(0x38e)](_0x1bb21e(0x3eb)),manageTabContent=document[_0x1bb21e(0x38e)](_0x1bb21e(0x37f)),resultsTabContent=document['getElementById'](_0x1bb21e(0x5aa)),leaderboardTabContent=document[_0x1bb21e(0x38e)](_0x1bb21e(0x211)),projectQuizzesList=document[_0x1bb21e(0x38e)]('project-quizzes-list'),fileTab=document[_0x1bb21e(0x38e)](_0x1bb21e(0x2f9)),fileInputArea=document['getElementById'](_0x1bb21e(0x827)),fileUploadInput=document[_0x1bb21e(0x38e)]('file-upload-input'),worksheetTab=document[_0x1bb21e(0x38e)]('worksheet-tab'),worksheetInputArea=document[_0x1bb21e(0x38e)](_0x1bb21e(0x144)),generateWorksheetBtn=document[_0x1bb21e(0x38e)](_0x1bb21e(0x583)),studentInitialView=document[_0x1bb21e(0x38e)](_0x1bb21e(0x239)),studentNameSelectionView=document[_0x1bb21e(0x38e)](_0x1bb21e(0x380)),studentQuizArea=document['getElementById'](_0x1bb21e(0x6f3)),studentResultArea=document[_0x1bb21e(0x38e)]('student-result-area'),studentReadingArea=document['getElementById'](_0x1bb21e(0x8b6)),loadQuizBtn=document[_0x1bb21e(0x38e)](_0x1bb21e(0x392)),startQuizBtn=document[_0x1bb21e(0x38e)](_0x1bb21e(0x507)),studentJoinGameView=document['getElementById'](_0x1bb21e(0x367)),presentationModal=document[_0x1bb21e(0x38e)](_0x1bb21e(0x677)),renameQuizModal=document[_0x1bb21e(0x38e)](_0x1bb21e(0x801)),moveQuizModal=document[_0x1bb21e(0x38e)](_0x1bb21e(0x3ef)),quizSettingsModal=document[_0x1bb21e(0x38e)]('quiz-settings-modal'),quizStatusModal=document['getElementById'](_0x1bb21e(0x69d)),liveGameView=document['getElementById']('live-game-view');function handleAutoFixLatex(){const _0x2b25a9=_0x1bb21e,_0x3b183e=document[_0x2b25a9(0x38e)](_0x2b25a9(0x555))||document,_0x2fc5ee=_0x3b183e[_0x2b25a9(0x175)]([_0x2b25a9(0x262),_0x2b25a9(0x864),_0x2b25a9(0x1bf),_0x2b25a9(0x2a8),_0x2b25a9(0x5bc),_0x2b25a9(0x643),'.choice-text',_0x2b25a9(0x48a),_0x2b25a9(0x347)][_0x2b25a9(0x4d7)](','));let _0xc99ce8=0x0;const _0x2a385b=_0x13d88b=>_0x2b25a9(0x491)in _0x13d88b?String(_0x13d88b['value']):_0x13d88b[_0x2b25a9(0x8ce)]!==undefined?_0x13d88b['innerText']:_0x13d88b[_0x2b25a9(0x83f)]||'',_0xdccaa=(_0x4a08d0,_0x55b624)=>{const _0x32b107=_0x2b25a9;if(_0x32b107(0x491)in _0x4a08d0){_0x4a08d0[_0x32b107(0x491)]=_0x55b624;return;}if(_0x4a08d0[_0x32b107(0x61d)]&&_0x4a08d0[_0x32b107(0x61d)](_0x32b107(0x54f)))return;if(_0x4a08d0['innerText']!==undefined)_0x4a08d0[_0x32b107(0x8ce)]=_0x55b624;else _0x4a08d0[_0x32b107(0x83f)]=_0x55b624;},_0x1824c2=_0x43b7b8=>_0x43b7b8[_0x2b25a9(0x7af)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x2b25a9(0x7af)](/\r\n?/g,'\x0a'),_0x1c51e6=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x25e664=_0x52d20f=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x52d20f),_0x11a7d7=_0x3c7052=>{const _0x2d49cb=_0x2b25a9,_0x2d3a96=(_0x3c7052[_0x2d49cb(0x486)](/\{/g)||[])[_0x2d49cb(0x890)],_0x2d2fe7=(_0x3c7052[_0x2d49cb(0x486)](/\}/g)||[])[_0x2d49cb(0x890)];if(_0x2d3a96>_0x2d2fe7)_0x3c7052=_0x3c7052+'}'[_0x2d49cb(0x3d0)](_0x2d3a96-_0x2d2fe7);return _0x3c7052;},_0x114cdb=_0xf55f79=>{const _0x2fdba8=_0x2b25a9;let _0x327b9c=_0xf55f79[_0x2fdba8(0x2d2)]();const _0x87faa0=[_0x2fdba8(0x888),'dfrac',_0x2fdba8(0x887),_0x2fdba8(0x6a6),_0x2fdba8(0x4ca),_0x2fdba8(0x477),_0x2fdba8(0x5e2),_0x2fdba8(0x62b),_0x2fdba8(0x556),_0x2fdba8(0x2d3),'le','ge',_0x2fdba8(0x191),'pm',_0x2fdba8(0x8cd),'sin',_0x2fdba8(0x578),_0x2fdba8(0x408),_0x2fdba8(0x7e7),'ln',_0x2fdba8(0x531),_0x2fdba8(0x1af),_0x2fdba8(0x19d),_0x2fdba8(0x663),'right','overline',_0x2fdba8(0x34a),_0x2fdba8(0x1a3),_0x2fdba8(0x5d0)];_0x327b9c=_0x327b9c[_0x2fdba8(0x7af)](new RegExp(_0x2fdba8(0x8ba)+_0x87faa0[_0x2fdba8(0x4d7)]('|')+_0x2fdba8(0x56a),'g'),'\x5c'),_0x87faa0[_0x2fdba8(0x813)](_0x33065c=>{const _0x5c0314=_0x2fdba8;_0x327b9c=_0x327b9c[_0x5c0314(0x7af)](new RegExp(_0x5c0314(0x33d)+_0x33065c+'\x5cb','g'),(_0x2449d4,_0x4711e8)=>_0x4711e8+'\x5c'+_0x33065c);});const _0x4056c4=[[/×/g,_0x2fdba8(0x49e)],[/·/g,_0x2fdba8(0x63f)],[/÷/g,'\x5cdiv'],[/≤/g,_0x2fdba8(0x51a)],[/≥/g,'\x5cge'],[/≠/g,'\x5cneq'],[/±/g,_0x2fdba8(0x787)],[/∑/g,_0x2fdba8(0x77b)],[/−/g,'-']];_0x4056c4[_0x2fdba8(0x813)](([_0x5d7653,_0x5e7312])=>{const _0xb76f30=_0x2fdba8;_0x327b9c=_0x327b9c[_0xb76f30(0x7af)](_0x5d7653,_0x5e7312);}),_0x327b9c=_0x327b9c[_0x2fdba8(0x7af)](/√\s*\(([^)]*)\)/g,_0x2fdba8(0x26a)),_0x327b9c=_0x327b9c['replace'](/√\s*([A-Za-z0-9]+)/g,_0x2fdba8(0x26a)),_0x327b9c=_0x327b9c[_0x2fdba8(0x7af)](/(^|[^\\])\bimes\b/g,_0x2fdba8(0x18d))[_0x2fdba8(0x7af)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x2fdba8(0x19e))[_0x2fdba8(0x7af)](/(^|[^\\])ext\{/g,_0x2fdba8(0x132))['replace'](/(^|[^\\])ext\(/g,_0x2fdba8(0x714))[_0x2fdba8(0x7af)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x2fdba8(0x7af)](/\s\\frac/g,'\x5cfrac'),_0x327b9c=_0x327b9c[_0x2fdba8(0x7af)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x62ba0a,_0x631f7d,_0x4e822e,_0x26643e)=>_0x631f7d+'\x5cfrac{'+_0x4e822e+'}{'+_0x26643e+'}'),_0x327b9c=_0x327b9c[_0x2fdba8(0x7af)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')[_0x2fdba8(0x7af)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x2fdba8(0x29e))[_0x2fdba8(0x7af)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x2fdba8(0x29e)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x2fdba8(0x23c)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x2fdba8(0x23c)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,_0x2fdba8(0x23c)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x2fdba8(0x23c)],[/(\d+)\s*°\s*C/g,_0x2fdba8(0x23c)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x2fdba8(0x813)](([_0xc83465,_0x2c1a37])=>{_0x327b9c=_0x327b9c['replace'](_0xc83465,_0x2c1a37);}),_0x327b9c=_0x327b9c[_0x2fdba8(0x7af)](/(\d+)\s*%/g,'$1\x5c%'),_0x327b9c=_0x327b9c[_0x2fdba8(0x7af)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2fdba8(0x2f4))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x2fdba8(0x7af)](/\{\{([^\{\}]+)\}\}/g,_0x2fdba8(0x631)),['sin',_0x2fdba8(0x578),_0x2fdba8(0x408),_0x2fdba8(0x7e7),'ln']['forEach'](_0x230eac=>{const _0x3e2f85=_0x2fdba8;_0x327b9c=_0x327b9c[_0x3e2f85(0x7af)](new RegExp(_0x3e2f85(0x33d)+_0x230eac+'\x5cs*\x5c(','g'),(_0x175a0b,_0x96f662)=>_0x96f662+'\x5c'+_0x230eac+'(');});const _0x1230d7=(_0x327b9c['match'](/\\left\b/g)||[])[_0x2fdba8(0x890)],_0xdf7d83=(_0x327b9c[_0x2fdba8(0x486)](/\\right\b/g)||[])['length'];if(_0x1230d7!==_0xdf7d83)_0x327b9c=_0x327b9c[_0x2fdba8(0x7af)](/\\left\b/g,'')[_0x2fdba8(0x7af)](/\\right\b/g,'');return _0x327b9c=_0x11a7d7(_0x327b9c),_0x327b9c;},_0x54f02f=_0x49c277=>{const _0x39e2db=_0x2b25a9;if(/\$|\\\(|\\\[/['test'](_0x49c277))return _0x49c277;if(!_0x1c51e6['test'](_0x49c277))return _0x49c277;const _0x533172=_0x49c277['match'](/^\s*/)[0x0],_0x4501e2=_0x49c277[_0x39e2db(0x486)](/\s*$/)[0x0],_0x23d770=_0x49c277[_0x39e2db(0x2d2)]();return _0x533172+'$'+_0x114cdb(_0x23d770)+'$'+_0x4501e2;},_0x3f70e0=_0xc76e56=>_0xc76e56[_0x2b25a9(0x1d4)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x2fc5ee[_0x2b25a9(0x813)](_0x3ec87a=>{const _0x428da0=_0x2b25a9;if(_0x3ec87a['querySelector']&&_0x3ec87a[_0x428da0(0x61d)]('mjx-container'))return;const _0x348f10=_0x2a385b(_0x3ec87a);let _0x10df71=_0x1824c2(_0x348f10);_0x10df71=_0x10df71[_0x428da0(0x7af)](/\$\$([\s\S]*?)\$\$/g,(_0x267893,_0x3a06d3)=>'$$'+_0x114cdb(_0x3a06d3)+'$$')[_0x428da0(0x7af)](/\$([^$]*?)\$/g,(_0x298601,_0x48232e)=>'$'+_0x114cdb(_0x48232e)+'$')[_0x428da0(0x7af)](/\\\(([\s\S]*?)\\\)/g,(_0x2e6fb3,_0x2137b7)=>'\x5c('+_0x114cdb(_0x2137b7)+'\x5c)')[_0x428da0(0x7af)](/\\\[([\s\S]*?)\\\]/g,(_0x358861,_0x5407d1)=>'\x5c['+_0x114cdb(_0x5407d1)+'\x5c]');let _0x25ba13=_0x10df71,_0x488e58=0x0;const _0x2a69cd=_0x237b97=>_0x237b97[_0x428da0(0x7af)](/S([^S]{0,2000}?)S/g,(_0x33588b,_0x38efe5)=>_0x1c51e6['test'](_0x38efe5)?'$'+_0x114cdb(_0x38efe5)+'$':_0x33588b);while(_0x488e58++<0x14){const _0x5463e0=_0x2a69cd(_0x25ba13);if(_0x5463e0===_0x25ba13)break;_0x25ba13=_0x5463e0;}_0x10df71=_0x25ba13,_0x10df71=_0x10df71[_0x428da0(0x1d4)]('\x0a')['map'](_0x90e0cf=>{const _0x4e6266=_0x428da0;if(!(/[,\u3001，;；]/[_0x4e6266(0x8d0)](_0x90e0cf)||/\s(?:และ|หรือ)\s/[_0x4e6266(0x8d0)](_0x90e0cf))||!_0x1c51e6['test'](_0x90e0cf))return _0x90e0cf;return _0x3f70e0(_0x90e0cf)[_0x4e6266(0x796)](_0x503bec=>{const _0x298b32=_0x4e6266;if(/^\s(?:และ|หรือ)\s$/[_0x298b32(0x8d0)](_0x503bec)||/^[,\u3001，;；]$/['test'](_0x503bec))return _0x503bec;return _0x54f02f(_0x503bec);})[_0x4e6266(0x4d7)]('');})[_0x428da0(0x4d7)]('\x0a'),_0x10df71=_0x10df71['split']('\x0a')[_0x428da0(0x796)](_0x378763=>{const _0x190abd=_0x428da0,_0x29b44=_0x378763[_0x190abd(0x2d2)]();if(!_0x29b44)return _0x378763;const _0x2dfd0e=/\$|\\\(|\\\[/[_0x190abd(0x8d0)](_0x29b44),_0x455fb6=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x190abd(0x8d0)](_0x29b44);if(_0x2dfd0e||!_0x455fb6||_0x25e664(_0x29b44))return _0x378763;return _0x378763[_0x190abd(0x7af)](_0x29b44,'$'+_0x114cdb(_0x29b44)+'$');})['join']('\x0a'),_0x10df71=_0x10df71[_0x428da0(0x7af)](/(\d+)\s*°\s*C\b/g,(_0x4dbc71,_0x359ff,_0x596fcd,_0x2ae06d)=>{const _0x5c7714=_0x428da0,_0x3b9df6=_0x2ae06d[_0x596fcd-0x1];if(_0x3b9df6==='$'||_0x3b9df6==='S'||_0x3b9df6==='\x5c')return _0x4dbc71;return'$'+_0x359ff+_0x5c7714(0x51e);})['replace'](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x8210a0,_0x10584e,_0x13e660,_0x162951)=>{const _0x2b8e64=_0x428da0,_0x478330=_0x162951[_0x13e660-0x1];if(_0x478330==='$'||_0x478330==='S'||_0x478330==='\x5c')return _0x8210a0;return'$'+_0x10584e+_0x2b8e64(0x51e);})[_0x428da0(0x7af)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x5da3cb,_0x40b161,_0x3e1beb,_0xd40c43)=>{const _0x29c9eb=_0x428da0,_0x1067f8=_0xd40c43[_0x3e1beb-0x1];if(_0x1067f8==='$'||_0x1067f8==='S'||_0x1067f8==='\x5c')return _0x5da3cb;return'$'+_0x40b161+_0x29c9eb(0x51e);}),_0x10df71=_0x10df71[_0x428da0(0x7af)](/\$\s*\$/g,'$$'),_0x10df71!==_0x348f10&&(_0xdccaa(_0x3ec87a,_0x10df71),_0xc99ce8++);});if(_0xc99ce8>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0xc99ce8+_0x2b25a9(0x135));try{if(window[_0x2b25a9(0x74c)]&&MathJax[_0x2b25a9(0x14d)])MathJax[_0x2b25a9(0x14d)]();window['katex']&&typeof renderMathInElement===_0x2b25a9(0x624)&&renderMathInElement(_0x3b183e,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x2ac342){}}else showMessage(_0x2b25a9(0x200));}async function listenForCustomMathTopics(){const _0x166404=_0x1bb21e,_0x257ee4=collection(db,_0x166404(0x736)+appId+_0x166404(0x412));onSnapshot(_0x257ee4,_0x3b2d75=>{const _0x452095=_0x166404;customMathTopics=_0x3b2d75[_0x452095(0x601)][_0x452095(0x796)](_0x4ec04b=>({'id':_0x4ec04b['id'],..._0x4ec04b[_0x452095(0x794)]()})),renderTopicCheckboxes();},_0x2cb0d7=>{const _0xa7ad46=_0x166404;console[_0xa7ad46(0x146)](_0xa7ad46(0x881),_0x2cb0d7);});}function handleSelectAllTopics(){const _0x4b100e=_0x1bb21e,_0x3ac150=document['getElementById']('math-topics-checkbox-container'),_0x29b72d=_0x3ac150[_0x4b100e(0x175)](_0x4b100e(0x4af));_0x29b72d[_0x4b100e(0x813)](_0x16a14b=>{const _0x346127=_0x4b100e;_0x16a14b[_0x346127(0x7eb)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x7da236=_0x1bb21e,_0x337066=document[_0x7da236(0x38e)](_0x7da236(0x360)),_0x59e0d1=_0x337066[_0x7da236(0x175)]('input[type=\x22checkbox\x22]');_0x59e0d1[_0x7da236(0x813)](_0x11658a=>{const _0xc1e674=_0x7da236;_0x11658a[_0xc1e674(0x7eb)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x59eb6c){const _0x9e7bac=_0x1bb21e;if(!_0x59eb6c)return;try{const _0x262e3e=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x59eb6c);await deleteDoc(_0x262e3e),showMessage(_0x9e7bac(0x423));}catch(_0x2c987f){console[_0x9e7bac(0x146)](_0x9e7bac(0x30e),_0x2c987f),showMessage(_0x9e7bac(0x42b));}}async function handleAddCustomMathTopic(){const _0x4966f5=_0x1bb21e,_0x34d93d=document[_0x4966f5(0x38e)](_0x4966f5(0x1e4)),_0x50ab05=_0x34d93d[_0x4966f5(0x491)][_0x4966f5(0x2d2)]();if(!_0x50ab05){showMessage(_0x4966f5(0x3dc));return;}if(!userId){showMessage(_0x4966f5(0x2d4));return;}try{const _0x37a3a1=collection(db,'artifacts/'+appId+_0x4966f5(0x412));await addDoc(_0x37a3a1,{'name':_0x50ab05,'createdAt':serverTimestamp()}),_0x34d93d[_0x4966f5(0x491)]='',showMessage(_0x4966f5(0x31c)+_0x50ab05+_0x4966f5(0x5fc));}catch(_0x87a7f5){console[_0x4966f5(0x146)](_0x4966f5(0x165),_0x87a7f5),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x585802=_0x1bb21e;showConfirmation(_0x585802(0x2b9),async()=>{const _0x50997b=_0x585802,_0x41bb2a=document[_0x50997b(0x38e)](_0x50997b(0x41a)),_0x18ab14=document[_0x50997b(0x38e)](_0x50997b(0x68e)),_0x294ac5=_0x18ab14[_0x50997b(0x83f)];_0x41bb2a[_0x50997b(0x2db)][_0x50997b(0x327)](_0x50997b(0x5e8)),_0x18ab14[_0x50997b(0x83f)]=_0x50997b(0x26c);try{const _0x3ef50c=collection(db,_0x50997b(0x736)+appId+_0x50997b(0x59a)),_0x1e79e3=await getDocs(_0x3ef50c);if(_0x1e79e3[_0x50997b(0x6b9)]){showMessage(_0x50997b(0x40b));return;}const _0x158e49=writeBatch(db);let _0x4cac50=0x0;_0x1e79e3[_0x50997b(0x813)](_0x2200e2=>{const _0xd5be34=_0x50997b,_0x185198=_0x2200e2[_0xd5be34(0x794)](),_0x1c807c=_0x2200e2['id'];if(_0x185198['questions']&&_0x185198['questions'][_0xd5be34(0x890)]>0x0&&!_0x185198['questions'][0x0][_0xd5be34(0x3a2)]('id')){console[_0xd5be34(0x7e7)](_0xd5be34(0x8da)+_0x1c807c+'\x20('+_0x185198[_0xd5be34(0x76d)]+')'),_0x4cac50++;const _0x5b9b36=_0x185198['questions']['map']((_0x4ef60a,_0x4b3eb3)=>{const _0x1e1e5a=_0xd5be34;return{..._0x4ef60a,'id':_0x4ef60a['id']||'q_'+Date[_0x1e1e5a(0x2ba)]()+'_'+_0x1c807c+'_'+_0x4b3eb3};}),_0x30c04e=doc(db,_0xd5be34(0x736)+appId+_0xd5be34(0x59a),_0x1c807c);_0x158e49[_0xd5be34(0x3ee)](_0x30c04e,{'questions':_0x5b9b36});}}),_0x4cac50>0x0?(_0x18ab14[_0x50997b(0x83f)]=_0x50997b(0x5dd)+_0x4cac50+_0x50997b(0x5f9),await _0x158e49[_0x50997b(0x78c)](),showMessage(_0x50997b(0x78e)+_0x4cac50+_0x50997b(0x80b))):showMessage(_0x50997b(0x667));}catch(_0xd631ad){console[_0x50997b(0x146)]('Error\x20updating\x20old\x20quizzes:',_0xd631ad),showMessage(_0x50997b(0x4b7)+_0xd631ad[_0x50997b(0x743)]);}finally{_0x41bb2a['classList'][_0x50997b(0x15d)](_0x50997b(0x5e8)),_0x18ab14[_0x50997b(0x83f)]=_0x294ac5;}});}async function initialize(){const _0x5cc03f=_0x1bb21e;try{const _0x2cd224=initializeApp(firebaseConfig);db=getFirestore(_0x2cd224),auth=getAuth(_0x2cd224),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0xdc4f5a){console[_0x5cc03f(0x146)](_0x5cc03f(0x618),_0xdc4f5a),showMessage(_0x5cc03f(0x294));}}async function handleVerifyAnswersInEditor(){const _0x2c3f47=_0x1bb21e,_0x5c5fdb=document[_0x2c3f47(0x38e)](_0x2c3f47(0x30a));if(!_0x5c5fdb)return;const _0x305ef1=document[_0x2c3f47(0x38e)](_0x2c3f47(0x634));_0x305ef1[_0x2c3f47(0x5f4)]=!![],_0x305ef1['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x193846=_0x5c5fdb[_0x2c3f47(0x175)](_0x2c3f47(0x6a4)),_0xb4704e=Array[_0x2c3f47(0x3cf)](_0x193846)[_0x2c3f47(0x796)]((_0x2f6abd,_0x224bba)=>{const _0x4c61d6=_0x2c3f47,_0x3d299d=_0x2f6abd[_0x4c61d6(0x1cf)][_0x4c61d6(0x73f)],_0x55e77d=_0x2f6abd[_0x4c61d6(0x61d)](_0x4c61d6(0x262))[_0x4c61d6(0x491)];let _0x84d11c=null,_0x343c74='';switch(_0x3d299d){case _0x4c61d6(0x4a9):const _0x3b90e7=_0x2f6abd[_0x4c61d6(0x175)](_0x4c61d6(0x864));_0x84d11c=Array[_0x4c61d6(0x3cf)](_0x3b90e7)[_0x4c61d6(0x796)](_0x50d2f5=>_0x50d2f5['value']);const _0x2fa7ac=_0x2f6abd[_0x4c61d6(0x61d)](_0x4c61d6(0x823));_0x2fa7ac&&(_0x343c74=_0x84d11c[parseInt(_0x2fa7ac[_0x4c61d6(0x491)])]);break;case _0x4c61d6(0x3fe):_0x343c74=_0x2f6abd['querySelector'](_0x4c61d6(0x292))[_0x4c61d6(0x491)];break;case _0x4c61d6(0x6df):const _0x387a0b=_0x2f6abd[_0x4c61d6(0x61d)](_0x4c61d6(0x823));_0x343c74=_0x387a0b?_0x387a0b[_0x4c61d6(0x491)]:'';break;case _0x4c61d6(0x2cf):_0x343c74=_0x2f6abd[_0x4c61d6(0x61d)](_0x4c61d6(0x290))['value'];break;}return{'question':_0x55e77d,'options':_0x84d11c,'proposedAnswer':_0x343c74};}),_0x502d8b=_0x2c3f47(0x3d1)+JSON[_0x2c3f47(0x644)](_0xb4704e)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3279ca={'type':_0x2c3f47(0x60a),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x2c3f47(0x830)},'isCorrect':{'type':_0x2c3f47(0x462)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x2c3f47(0x501)}},'required':[_0x2c3f47(0x6a7),_0x2c3f47(0x3db),_0x2c3f47(0x3f5)]}},_0x3ce2c6=await callAnalysisApi(_0x502d8b,{'type':_0x2c3f47(0x7f2),'properties':{'result':_0x3279ca},'required':['result']});displayVerificationResultsInEditor(_0x3ce2c6[_0x2c3f47(0x36f)]);}catch(_0x1394f9){console[_0x2c3f47(0x146)](_0x2c3f47(0x566),_0x1394f9),showMessage(_0x2c3f47(0x4d9));}finally{_0x305ef1[_0x2c3f47(0x5f4)]=![],_0x305ef1[_0x2c3f47(0x7ac)]=_0x2c3f47(0x3a4);}}function displayVerificationResultsInEditor(_0x5e2a51){const _0x12a0d0=_0x1bb21e;_0x5e2a51[_0x12a0d0(0x813)](_0x5c3af6=>{const _0x157473=_0x12a0d0,_0x3ac7a2=document['querySelector'](_0x157473(0x1f5)+_0x5c3af6[_0x157473(0x6a7)]+'\x22]');if(_0x3ac7a2){const _0x32c5a9=_0x3ac7a2[_0x157473(0x61d)]('.verification-result-editor');if(_0x32c5a9)_0x32c5a9[_0x157473(0x327)]();let _0x28f735='';_0x5c3af6[_0x157473(0x3db)]?_0x28f735=_0x157473(0x3a8):_0x28f735='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x5c3af6[_0x157473(0x3f5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5c3af6[_0x157473(0x15b)]?_0x157473(0x62c)+_0x5c3af6[_0x157473(0x15b)]+_0x157473(0x4ef):'')+_0x157473(0x21f),_0x3ac7a2[_0x157473(0x5d4)](_0x157473(0x389),_0x28f735);}}),showMessage(_0x12a0d0(0x51f));}async function handleVerifyAnswers(){const _0x2e4fbd=_0x1bb21e;if(!currentQuizData||!currentQuizData[_0x2e4fbd(0x1f8)]){showMessage(_0x2e4fbd(0x3b7));return;}const _0x35f6bc=document[_0x2e4fbd(0x38e)](_0x2e4fbd(0x14c));_0x35f6bc[_0x2e4fbd(0x5f4)]=!![],_0x35f6bc['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x41ff64=currentQuizData[_0x2e4fbd(0x1f8)][_0x2e4fbd(0x796)]((_0x2359e6,_0x3da025)=>{const _0x329fd1=_0x2e4fbd;let _0x327126='';const _0xc29e6=_0x2359e6[_0x329fd1(0x4c7)]||currentQuizData['quizType'];switch(_0xc29e6){case _0x329fd1(0x4a9):_0x327126=_0x2359e6[_0x329fd1(0x6e3)][_0x2359e6['correctAnswerIndex']];break;case _0x329fd1(0x3fe):_0x327126=_0x2359e6[_0x329fd1(0x1fb)];break;case _0x329fd1(0x6df):_0x327126=_0x2359e6['correctAnswer'][_0x329fd1(0x189)]();break;case'matching_item':_0x327126=_0x2359e6['correctResponse'];break;}return{'question':_0x2359e6[_0x329fd1(0x1d1)]||_0x2359e6[_0x329fd1(0x20d)],'options':_0x2359e6[_0x329fd1(0x6e3)]||null,'proposedAnswer':_0x327126};}),_0xed3be5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x41ff64)+_0x2e4fbd(0x543),_0x3100f6={'type':_0x2e4fbd(0x60a),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x2e4fbd(0x830)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x2e4fbd(0x501)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x2e4fbd(0x6a7),'isCorrect',_0x2e4fbd(0x3f5)]}},_0x4a4bfd=await callAnalysisApi(_0xed3be5,{'type':_0x2e4fbd(0x7f2),'properties':{'result':_0x3100f6},'required':[_0x2e4fbd(0x36f)]});displayVerificationResults(_0x4a4bfd['result']);}catch(_0x3e0f6d){console['error'](_0x2e4fbd(0x4c0),_0x3e0f6d),showMessage(_0x2e4fbd(0x4d9));}finally{_0x35f6bc[_0x2e4fbd(0x5f4)]=![],_0x35f6bc[_0x2e4fbd(0x7ac)]=_0x2e4fbd(0x7a0);}}function displayVerificationResults(_0x4daa56){const _0x4e0952=_0x1bb21e;_0x4daa56['forEach'](_0x117c2d=>{const _0x56b723=_0x4611,_0x219d68=document[_0x56b723(0x61d)]('div[data-question-index=\x22'+_0x117c2d[_0x56b723(0x6a7)]+'\x22]');if(_0x219d68){const _0x40cd8c=_0x219d68[_0x56b723(0x61d)](_0x56b723(0x8e1));if(_0x40cd8c)_0x40cd8c[_0x56b723(0x327)]();let _0x26f525='';_0x117c2d['isCorrect']?_0x26f525=_0x56b723(0x37e):_0x26f525=_0x56b723(0x1b4)+_0x117c2d[_0x56b723(0x3f5)]+_0x56b723(0x13b)+(_0x117c2d['suggestedAnswer']?_0x56b723(0x62c)+_0x117c2d[_0x56b723(0x15b)]+'</p>':'')+_0x56b723(0x22a),_0x219d68[_0x56b723(0x5d4)](_0x56b723(0x389),_0x26f525);}}),showMessage(_0x4e0952(0x51f));}function compareNumericalAnswers(_0x4841ad,_0x253406){const _0x11edb0=_0x1bb21e,_0x26b8ff=String(_0x4841ad)[_0x11edb0(0x7af)](',','.')['replace'](/[^\d.-]/g,'')[_0x11edb0(0x2d2)](),_0x266f99=String(_0x253406)[_0x11edb0(0x7af)](',','.')['replace'](/[^\d.-]/g,'')[_0x11edb0(0x2d2)]();if(_0x26b8ff===''||_0x266f99==='')return![];const _0x16cbd6=parseFloat(_0x26b8ff),_0x1330a0=parseFloat(_0x266f99);if(isNaN(_0x16cbd6)||isNaN(_0x1330a0))return![];return Math['abs'](_0x16cbd6-_0x1330a0)<0.001;}async function gradeShortAnswer(_0x26025a,_0x4a9352){const _0x15a168=_0x1bb21e,_0x111773=_0x4a9352[_0x15a168(0x1fb)];if(String(_0x26025a)[_0x15a168(0x2d2)]()[_0x15a168(0x397)]()===String(_0x111773)['trim']()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x26025a,_0x111773))return!![];return console[_0x15a168(0x7e7)](_0x15a168(0x6ed)),await gradeShortAnswerWithAI(_0x26025a,_0x111773);}async function revealAnswerForAdmin(_0x48cae6,_0x2153b0){const _0x54051c=_0x1bb21e;if(document[_0x54051c(0x38e)](_0x54051c(0x134)))return;const _0x2ad58d=doc(db,_0x54051c(0x736)+appId+_0x54051c(0x150),currentLiveGameId);await updateDoc(_0x2ad58d,{'questionStatus':_0x54051c(0x6ba)});const _0x21a8ff=liveGameView[_0x54051c(0x61d)](_0x54051c(0x244));_0x21a8ff&&(_0x21a8ff[_0x54051c(0x2db)]['remove']('bg-white/30'),_0x21a8ff[_0x54051c(0x2db)][_0x54051c(0x15d)](_0x54051c(0x83b),_0x54051c(0x833),_0x54051c(0x3ff),_0x54051c(0x410),_0x54051c(0x296)),_0x21a8ff[_0x54051c(0x7ac)]=_0x54051c(0x459)+_0x21a8ff[_0x54051c(0x7ac)]);const _0x4a97c4=document[_0x54051c(0x38e)](_0x54051c(0x406));_0x4a97c4&&(_0x4a97c4[_0x54051c(0x7ac)]=_0x54051c(0x147)+(_0x48cae6+0x1===_0x2153b0?_0x54051c(0x3ea):_0x54051c(0x75b))+_0x54051c(0x878),document[_0x54051c(0x38e)](_0x54051c(0x134))[_0x54051c(0x353)]('click',async()=>{const _0x2dc9ba=_0x54051c,_0x132169=doc(db,'artifacts/'+appId+_0x2dc9ba(0x150),currentLiveGameId),_0x1f6d46=await getDoc(_0x132169);if(!_0x1f6d46[_0x2dc9ba(0x62a)]())return;const _0xcf90f6=_0x1f6d46[_0x2dc9ba(0x794)](),_0x198bae={};if(_0xcf90f6[_0x2dc9ba(0x192)])for(const _0x29e4bf in _0xcf90f6['players']){_0x198bae['players.'+_0x29e4bf+'.answeredCurrentQuestion']=![];}const _0x37e7e3=_0x48cae6+0x1;_0x37e7e3<_0x2153b0?(_0x198bae[_0x2dc9ba(0x460)]=_0x37e7e3,_0x198bae[_0x2dc9ba(0x3aa)]=serverTimestamp(),_0x198bae[_0x2dc9ba(0x455)]=_0x2dc9ba(0x16c),await updateDoc(_0x132169,_0x198bae)):await updateDoc(_0x132169,{'status':_0x2dc9ba(0x283)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x1c9b63=>{const _0xbb4d79=_0x4611;if(_0x1c9b63){userId=_0x1c9b63[_0xbb4d79(0x415)],userIdDisplay[_0xbb4d79(0x83f)]=userId;const _0x39f4f7=await loadUserPreferences();_0x39f4f7['projectSortOrder']&&(document[_0xbb4d79(0x38e)](_0xbb4d79(0x6ca))[_0xbb4d79(0x491)]=_0x39f4f7[_0xbb4d79(0x358)]);globalDashboardSettings[_0xbb4d79(0x76c)]=_0x39f4f7[_0xbb4d79(0x76c)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x4a3d91,_0x1d0ec8){const _0x3fe747=_0x1bb21e;if(!userId)return;try{const _0x23c554=doc(db,_0x3fe747(0x736)+appId+_0x3fe747(0x12f)+userId+'/preferences/main'),_0x21caf7={};_0x21caf7[_0x4a3d91]=_0x1d0ec8,await setDoc(_0x23c554,_0x21caf7,{'merge':!![]});}catch(_0x22ec85){console['error'](_0x3fe747(0x70d),_0x22ec85);}}async function loadUserPreferences(){const _0x3b4331=_0x1bb21e;if(!userId)return{};try{const _0x2f492d=doc(db,_0x3b4331(0x736)+appId+_0x3b4331(0x12f)+userId+_0x3b4331(0x387)),_0x4b0b02=await getDoc(_0x2f492d);if(_0x4b0b02[_0x3b4331(0x62a)]())return _0x4b0b02[_0x3b4331(0x794)]();return{};}catch(_0x361d4c){return console[_0x3b4331(0x146)]('Error\x20loading\x20user\x20preferences:',_0x361d4c),{};}}function showPodiumView(_0x2094fa){const _0xca6545=_0x1bb21e,_0x2ea201=Object['entries'](_0x2094fa)[_0xca6545(0x796)](([_0x7bbcee,_0x9244f8])=>({'name':_0x7bbcee,'score':_0x9244f8['score']||0x0,'badges':_0x9244f8[_0xca6545(0x1c4)]||[]}));_0x2ea201['sort']((_0x27d7e5,_0x4460f2)=>{const _0x575730=_0xca6545,_0x3c9901=_0x4460f2[_0x575730(0x757)]-_0x27d7e5[_0x575730(0x757)];if(_0x3c9901!==0x0)return _0x3c9901;return(_0x4460f2[_0x575730(0x1c4)][_0x575730(0x890)]||0x0)-(_0x27d7e5[_0x575730(0x1c4)]['length']||0x0);});const _0xd4155f=_0x3fa8d6=>{const _0x305cfc=_0xca6545;if(!_0x3fa8d6||_0x3fa8d6[_0x305cfc(0x890)]===0x0)return'';const _0x2ff7fe={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x305cfc(0x767)+_0x3fa8d6[_0x305cfc(0x796)](_0x1a53f5=>_0x2ff7fe[_0x1a53f5]||'')[_0x305cfc(0x4d7)]('')+_0x305cfc(0x8ad);},_0x1ea1fb=_0x2ea201[_0xca6545(0x2e4)](0x3),_0x3045a5=_0x1ea1fb['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ea1fb[_0xca6545(0x796)]((_0x17aaf8,_0x1bf050)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x1bf050+0x4)+_0xca6545(0x55d)+_0x17aaf8[_0xca6545(0x6cc)]+_0xca6545(0x339)+_0x17aaf8[_0xca6545(0x757)]+_0xca6545(0x56c))[_0xca6545(0x4d7)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0xae52ee=_0xca6545(0x592)+(_0x2ea201[0x1]?_0xca6545(0x233)+_0x2ea201[0x1][_0xca6545(0x6cc)]+_0xca6545(0x84f)+_0xd4155f(_0x2ea201[0x1][_0xca6545(0x1c4)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x2ea201[0x1][_0xca6545(0x757)]+_0xca6545(0x57f):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2ea201[0x0]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x2ea201[0x0][_0xca6545(0x6cc)]+_0xca6545(0x84f)+_0xd4155f(_0x2ea201[0x0]['badges'])+_0xca6545(0x7d7)+_0x2ea201[0x0][_0xca6545(0x757)]+_0xca6545(0x1ee):_0xca6545(0x8ea))+_0xca6545(0x224)+(_0x2ea201[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x2ea201[0x2]['name']+_0xca6545(0x84f)+_0xd4155f(_0x2ea201[0x2]['badges'])+_0xca6545(0x3e4)+_0x2ea201[0x2][_0xca6545(0x757)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xca6545(0x8ea))+_0xca6545(0x742)+_0x3045a5+_0xca6545(0x258)+(currentMode===_0xca6545(0x300)?_0xca6545(0x2a2):_0xca6545(0x29b))+_0xca6545(0x629);liveGameView['innerHTML']=_0xae52ee,currentMode===_0xca6545(0x300)&&document[_0xca6545(0x38e)](_0xca6545(0x66e))[_0xca6545(0x353)](_0xca6545(0x38d),async()=>{const _0x420214=_0xca6545,_0x34a215=doc(db,_0x420214(0x736)+appId+_0x420214(0x150),currentLiveGameId);await deleteDoc(_0x34a215),showView('admin-dashboard');});}async function handleStartLiveRace(_0x138abb){const _0x11f976=_0x1bb21e;let _0x49cad8=allQuizzes[_0x11f976(0x172)](_0x52e300=>_0x52e300['id']===_0x138abb);if(!_0x49cad8){const _0xabf21c=doc(db,_0x11f976(0x736)+appId+'/public/data/quizzes',_0x138abb),_0x33fe8c=await getDoc(_0xabf21c);if(!_0x33fe8c[_0x11f976(0x62a)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x49cad8={'id':_0x33fe8c['id'],..._0x33fe8c[_0x11f976(0x794)]()};}currentQuizData=getShuffledQuiz(_0x49cad8);const _0x5439f7=_0x49cad8[_0x11f976(0x79a)]||currentProjectId||null,_0x4a05fa=Math[_0x11f976(0x4b4)](0x3e8+Math['random']()*0x2328)[_0x11f976(0x189)]();currentLiveGamePin=_0x4a05fa;try{const _0x45441f=await addDoc(collection(db,_0x11f976(0x736)+appId+'/public/data/liveGames'),{'quizId':_0x138abb,'projectId':_0x5439f7,'status':_0x11f976(0x8ec),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4a05fa,'createdAt':serverTimestamp()});currentLiveGameId=_0x45441f['id'],showAdminLobbyView(_0x4a05fa,_0x49cad8[_0x11f976(0x76d)]),listenForLiveGameUpdates();}catch(_0x11bce2){console[_0x11f976(0x146)]('Error\x20starting\x20live\x20race:',_0x11bce2),showMessage(_0x11f976(0x846));}}async function handleShowStudentRankings(){const _0x12548a=_0x1bb21e,_0x4869bb=document[_0x12548a(0x61d)]('#student-quiz-leaderboard-content\x20thead');_0x4869bb&&(_0x4869bb['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x2fc38f=document[_0x12548a(0x61d)](_0x12548a(0x309));_0x2fc38f&&(_0x2fc38f[_0x12548a(0x7ac)]=_0x12548a(0x1dd));const _0x1b20a0=document[_0x12548a(0x38e)](_0x12548a(0x2b2));_0x1b20a0[_0x12548a(0x2db)][_0x12548a(0x327)](_0x12548a(0x5e8)),document[_0x12548a(0x38e)](_0x12548a(0x55e))[_0x12548a(0x894)]=()=>_0x1b20a0['classList']['add']('hidden');const _0xd6da48=document[_0x12548a(0x38e)](_0x12548a(0x49a)),_0x5ba78f=document['getElementById'](_0x12548a(0x575)),_0x1c3815=document[_0x12548a(0x38e)](_0x12548a(0x40d)),_0x3f4610=document[_0x12548a(0x38e)](_0x12548a(0x715));_0xd6da48[_0x12548a(0x894)]=()=>{const _0x10b0c0=_0x12548a;_0xd6da48[_0x10b0c0(0x2db)][_0x10b0c0(0x15d)]('active'),_0x5ba78f[_0x10b0c0(0x2db)][_0x10b0c0(0x327)]('active'),_0x1c3815[_0x10b0c0(0x2db)][_0x10b0c0(0x327)]('hidden'),_0x3f4610['classList'][_0x10b0c0(0x15d)]('hidden');},_0x5ba78f[_0x12548a(0x894)]=()=>{const _0x537c9c=_0x12548a;_0x5ba78f['classList'][_0x537c9c(0x15d)](_0x537c9c(0x1c9)),_0xd6da48['classList']['remove']('active'),_0x3f4610['classList'][_0x537c9c(0x327)](_0x537c9c(0x5e8)),_0x1c3815[_0x537c9c(0x2db)][_0x537c9c(0x15d)]('hidden');};try{const _0x1fee72=collection(db,_0x12548a(0x736)+appId+_0x12548a(0x190)+currentQuizData['id']+_0x12548a(0x81a)),_0x275768=await getDocs(_0x1fee72),_0x24084b=_0x275768[_0x12548a(0x601)]['map'](_0x551751=>_0x551751['data']());renderQuizLeaderboard(_0x24084b,currentQuizData,_0x12548a(0x21d));const _0x413d3f=collection(db,'artifacts/'+appId+_0x12548a(0x752)+currentQuizData[_0x12548a(0x79a)]+_0x12548a(0x14f)),_0x51f0ca=await getDocs(_0x413d3f),_0x748e84=_0x51f0ca['docs']['map'](_0x363f22=>_0x363f22[_0x12548a(0x794)]());renderLeaderboard(_0x748e84,'student-project-leaderboard-table-body');}catch(_0xbcd22c){console[_0x12548a(0x146)](_0x12548a(0x738),_0xbcd22c),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x465dc4){const _0xc93bd5=_0x1bb21e,_0x2dc333=_0x465dc4['currentTarget'],_0x5bd17e=_0x2dc333[_0xc93bd5(0x1cf)][_0xc93bd5(0x5ed)],_0x2724ec=currentQuizData[_0xc93bd5(0x1f8)][_0x5bd17e];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x56bde9={..._0x2724ec,'originalTopic':currentQuizData[_0xc93bd5(0x76d)],'savedAt':serverTimestamp()},_0x302db5=collection(db,_0xc93bd5(0x736)+appId+_0xc93bd5(0x12f)+userId+_0xc93bd5(0x83c));await addDoc(_0x302db5,_0x56bde9),showMessage(_0xc93bd5(0x45b)),_0x2dc333['classList'][_0xc93bd5(0x327)](_0xc93bd5(0x865)),_0x2dc333[_0xc93bd5(0x2db)]['add'](_0xc93bd5(0x562)),_0x2dc333[_0xc93bd5(0x5f4)]=!![];}catch(_0x48c438){console[_0xc93bd5(0x146)](_0xc93bd5(0x53a),_0x48c438),showMessage(_0xc93bd5(0x1ad));}}function listenForStarredQuizzes(){const _0xf8094c=_0x1bb21e;if(!userId)return;const _0xf2ce22=collection(db,_0xf8094c(0x736)+appId+_0xf8094c(0x59a)),_0x121b7e=query(_0xf2ce22,where(_0xf8094c(0x44e),'==',!![]));onSnapshot(_0x121b7e,_0x4f85c8=>{const _0xcca04c=_0xf8094c;starredQuizzes=_0x4f85c8[_0xcca04c(0x601)][_0xcca04c(0x796)](_0x283de9=>({'id':_0x283de9['id'],..._0x283de9['data']()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x49a47c=>{const _0x564285=_0xf8094c;console[_0x564285(0x146)](_0x564285(0x252),_0x49a47c);});}function exportQuizAsWorksheetPDF(){const _0x541cd0=_0x1bb21e;if(!currentQuizData||!currentQuizData[_0x541cd0(0x1f8)]){showMessage(_0x541cd0(0x853));return;}const _0x33feb0=currentQuizData,_0x388e37=window[_0x541cd0(0x6e1)]('',_0x541cd0(0x8c7)),_0x38c4ff=_0x5e3476=>String[_0x541cd0(0x7cc)](0x41+_0x5e3476),_0x5828be='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x33feb0[_0x541cd0(0x76d)]+_0x541cd0(0x74e)+_0x33feb0['topic']+_0x541cd0(0x549)+_0x33feb0[_0x541cd0(0x1f8)][_0x541cd0(0x796)]((_0x80a071,_0x14680a)=>{const _0x582a2b=_0x541cd0;let _0x430efe='';const _0x4233ed=_0x80a071[_0x582a2b(0x4c7)]||_0x33feb0['quizType'];switch(_0x4233ed){case _0x582a2b(0x4a9):case'fill_in_with_choices':_0x430efe='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x80a071['options'][_0x582a2b(0x796)]((_0x2cfc0e,_0x41a032)=>_0x582a2b(0x626)+_0x38c4ff(_0x41a032)+'.\x20'+_0x2cfc0e+_0x582a2b(0x764))['join'](_0x582a2b(0x278))+_0x582a2b(0x8ad);break;case _0x582a2b(0x6df):_0x430efe=_0x582a2b(0x286);break;default:_0x430efe='<div\x20class=\x22answer-space\x22></div>';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x14680a+0x1)+_0x582a2b(0x595)+(_0x80a071[_0x582a2b(0x1d1)]||_0x80a071[_0x582a2b(0x20d)])+_0x582a2b(0x3ae)+(_0x80a071[_0x582a2b(0x163)]?'<div\x20class=\x22my-2\x22>'+_0x80a071[_0x582a2b(0x163)]+_0x582a2b(0x8ad):'')+_0x582a2b(0x7ab)+_0x430efe+_0x582a2b(0x201);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x388e37[_0x541cd0(0x8d2)][_0x541cd0(0x85d)](_0x5828be),_0x388e37[_0x541cd0(0x8d2)][_0x541cd0(0x748)](),_0x388e37[_0x541cd0(0x85c)]=function(){setTimeout(()=>{const _0x2007c5=_0x4611;_0x388e37[_0x2007c5(0x7c6)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x4f6bbd=_0x1bb21e;if(!currentQuizData||!currentQuizData[_0x4f6bbd(0x1f8)]){showMessage(_0x4f6bbd(0x853));return;}const _0x563bbb=currentQuizData,_0x30b136=window['open']('','_blank'),_0x51d296=_0x495c2a=>String['fromCharCode'](0x41+_0x495c2a),_0x130e26=_0x4f6bbd(0x4a4)+_0x563bbb[_0x4f6bbd(0x76d)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x563bbb[_0x4f6bbd(0x1f8)][_0x4f6bbd(0x796)]((_0x3e829d,_0x50601b)=>{const _0x13db54=_0x4f6bbd;let _0xee2a0c='';const _0x2a8f68=_0x3e829d[_0x13db54(0x4c7)]||_0x563bbb[_0x13db54(0x279)];switch(_0x2a8f68){case _0x13db54(0x4a9):case _0x13db54(0x1da):_0xee2a0c=_0x13db54(0x4d1)+_0x3e829d[_0x13db54(0x6e3)][_0x13db54(0x796)]((_0x19be92,_0x26d23c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x51d296(_0x26d23c)+'.\x20'+_0x19be92+_0x13db54(0x4b0))['join'](_0x13db54(0x278))+_0x13db54(0x445);break;case'true_false':_0xee2a0c='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0xee2a0c='';break;}return _0x13db54(0x759)+_0x563bbb[_0x13db54(0x76d)]+_0x13db54(0x785)+(_0x50601b+0x1)+_0x13db54(0x31e)+(_0x3e829d[_0x13db54(0x1d1)]||_0x3e829d['questionText'])+_0x13db54(0x3ae)+(_0x3e829d[_0x13db54(0x163)]?'<div\x20class=\x22my-6\x22>'+_0x3e829d['imageCode']+_0x13db54(0x8ad):'')+_0x13db54(0x7ab)+_0xee2a0c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4f6bbd(0x4d7)]('')+_0x4f6bbd(0x223);_0x30b136[_0x4f6bbd(0x8d2)][_0x4f6bbd(0x85d)](_0x130e26),_0x30b136['document']['close'](),_0x30b136[_0x4f6bbd(0x85c)]=function(){setTimeout(()=>{const _0x30bfe6=_0x4611;_0x30b136[_0x30bfe6(0x7c6)]();},0x5dc);};}async function handleToggleStarQuiz(_0x554522){const _0x825c74=_0x1bb21e,_0x37c67c=doc(db,_0x825c74(0x736)+appId+_0x825c74(0x59a),_0x554522);try{const _0x45419a=await getDoc(_0x37c67c);if(_0x45419a['exists']()){const _0x597da2=_0x45419a[_0x825c74(0x794)]()[_0x825c74(0x44e)]||![];await updateDoc(_0x37c67c,{'isStarred':!_0x597da2});}}catch(_0x4eb9cf){console['error']('Error\x20toggling\x20star\x20status:',_0x4eb9cf),showMessage(_0x825c74(0x726));}}async function displayQuestionBank(){const _0xec7f75=_0x1bb21e,_0x5134b1=document[_0xec7f75(0x38e)]('bank-input-area');_0x5134b1[_0xec7f75(0x7ac)]=_0xec7f75(0x80f);try{const _0x34a96a=collection(db,_0xec7f75(0x736)+appId+_0xec7f75(0x12f)+userId+_0xec7f75(0x83c)),_0x449d7b=query(_0x34a96a),_0x1f97b1=await getDocs(_0x449d7b);if(_0x1f97b1['empty']){_0x5134b1[_0xec7f75(0x7ac)]=_0xec7f75(0x197);return;}let _0x42cf0a=_0x1f97b1[_0xec7f75(0x601)][_0xec7f75(0x796)](_0x328a08=>{const _0x4537a0=_0xec7f75,_0x260aff=_0x328a08[_0x4537a0(0x794)](),_0x422e21=_0x328a08['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON['stringify'](_0x260aff)+_0x4537a0(0x3c1)+(_0x260aff[_0x4537a0(0x20d)]||_0x260aff[_0x4537a0(0x1d1)])+_0x4537a0(0x45f)+_0x260aff[_0x4537a0(0x247)]+_0x4537a0(0x2fc);})[_0xec7f75(0x4d7)]('');_0x5134b1[_0xec7f75(0x7ac)]=_0xec7f75(0x79d)+_0x42cf0a+_0xec7f75(0x793),document[_0xec7f75(0x38e)](_0xec7f75(0x4f6))[_0xec7f75(0x353)](_0xec7f75(0x38d),createQuizFromBank);}catch(_0x173027){console[_0xec7f75(0x146)](_0xec7f75(0x166),_0x173027),_0x5134b1['innerHTML']=_0xec7f75(0x29c);}}function showAdminLiveQuestionView(_0x183662,_0x13665f,_0x59d684){const _0x4990d2=_0x1bb21e,_0x27ef4e=_0x183662['questionType']||currentQuizData[_0x4990d2(0x279)];let _0x453a1c='';if(_0x27ef4e==='multiple_choice'||_0x27ef4e==='true_false'){const _0xff7cbe=_0x27ef4e==='true_false'?['ใช่',_0x4990d2(0x35d)]:_0x183662['options'],_0x312c72=_0x27ef4e===_0x4990d2(0x6df)?_0x183662['correctAnswer']?0x0:0x1:_0x183662[_0x4990d2(0x420)];_0x453a1c=_0xff7cbe[_0x4990d2(0x796)]((_0x758942,_0x286813)=>_0x4990d2(0x6ef)+(_0x286813===_0x312c72)+_0x4990d2(0x2fb)+_0x758942+_0x4990d2(0x749))[_0x4990d2(0x4d7)]('');}else{if(_0x27ef4e===_0x4990d2(0x2cf)){const _0x1682af=_0x183662[_0x4990d2(0x33f)]||[];_0x453a1c=_0x1682af['map'](_0x39552f=>_0x4990d2(0x6ef)+(_0x39552f===_0x183662[_0x4990d2(0x3bd)])+_0x4990d2(0x2fb)+_0x39552f+_0x4990d2(0x749))[_0x4990d2(0x4d7)]('');}}const _0x40950f=_0x183662[_0x4990d2(0x1d1)]||_0x183662[_0x4990d2(0x20d)],_0x2623da=_0x4990d2(0x1f7)+(_0x13665f+0x1)+_0x4990d2(0x199)+_0x59d684+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x40950f+_0x4990d2(0x3e6)+_0x453a1c+_0x4990d2(0x30f);liveGameView[_0x4990d2(0x7ac)]=_0x2623da;window[_0x4990d2(0x74c)]&&MathJax[_0x4990d2(0x14d)]&&MathJax[_0x4990d2(0x14d)]([liveGameView]);const _0x1076a5=document['getElementById'](_0x4990d2(0x406));document[_0x4990d2(0x38e)](_0x4990d2(0x280))[_0x4990d2(0x353)](_0x4990d2(0x38d),async()=>{const _0x448f2d=_0x4990d2,_0x127866=doc(db,_0x448f2d(0x736)+appId+_0x448f2d(0x150),currentLiveGameId);await updateDoc(_0x127866,{'questionStatus':'revealed'});const _0x54827e=liveGameView[_0x448f2d(0x61d)](_0x448f2d(0x244));_0x54827e&&(_0x54827e[_0x448f2d(0x2db)][_0x448f2d(0x327)]('bg-white/30'),_0x54827e['classList'][_0x448f2d(0x15d)](_0x448f2d(0x83b),_0x448f2d(0x833),'font-bold',_0x448f2d(0x410),_0x448f2d(0x296)),_0x54827e[_0x448f2d(0x7ac)]=_0x448f2d(0x459)+_0x54827e['innerHTML']),_0x1076a5[_0x448f2d(0x7ac)]=_0x448f2d(0x147)+(_0x13665f+0x1===_0x59d684?_0x448f2d(0x3ea):'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById']('next-live-question-btn')['addEventListener'](_0x448f2d(0x38d),async()=>{const _0x2ab174=_0x448f2d,_0x2eef76=doc(db,_0x2ab174(0x736)+appId+'/public/data/liveGames',currentLiveGameId),_0x3d1c6a=await getDoc(_0x2eef76);if(!_0x3d1c6a['exists']())return;const _0x3c61bc=_0x3d1c6a[_0x2ab174(0x794)](),_0x4b3ecf={};if(_0x3c61bc[_0x2ab174(0x192)])for(const _0x4004f9 in _0x3c61bc[_0x2ab174(0x192)]){_0x4b3ecf[_0x2ab174(0x47a)+_0x4004f9+'.answeredCurrentQuestion']=![];}const _0x4a3754=_0x13665f+0x1;_0x4a3754<_0x59d684?(_0x4b3ecf[_0x2ab174(0x460)]=_0x4a3754,_0x4b3ecf[_0x2ab174(0x3aa)]=serverTimestamp(),_0x4b3ecf[_0x2ab174(0x455)]='answering',await updateDoc(_0x2eef76,_0x4b3ecf)):await updateDoc(_0x2eef76,{'status':_0x2ab174(0x283)});});}),document['getElementById'](_0x4990d2(0x40c))['addEventListener'](_0x4990d2(0x38d),async()=>{const _0x473b51=_0x4990d2,_0x5b1647=doc(db,_0x473b51(0x736)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x5b1647),showView(_0x473b51(0x25e));});}function showStudentLiveQuestionView(_0x2688ab,_0x5649b2,_0x57ee48){const _0x24bd37=_0x1bb21e,_0x54eb5e=_0x2688ab['questionType']||currentQuizData['quizType'];let _0x24db52='';if(_0x54eb5e===_0x24bd37(0x4a9)||_0x54eb5e===_0x24bd37(0x6df)){const _0x5814db=_0x54eb5e==='true_false'?[_0x24bd37(0x8c9),_0x24bd37(0x35d)]:_0x2688ab['options'];_0x24db52=_0x5814db[_0x24bd37(0x796)]((_0x44eeca,_0xf75abf)=>_0x24bd37(0x50f)+_0xf75abf+_0x24bd37(0x130)+_0x44eeca+_0x24bd37(0x385))[_0x24bd37(0x4d7)]('');}else{if(_0x54eb5e===_0x24bd37(0x2cf)){const _0x41a20e=_0x2688ab[_0x24bd37(0x33f)]||[];_0x24db52=_0x41a20e[_0x24bd37(0x796)]((_0x48e7ea,_0x3d9ca2)=>_0x24bd37(0x50f)+_0x3d9ca2+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x48e7ea+_0x24bd37(0x385))[_0x24bd37(0x4d7)]('');}else _0x54eb5e==='short_answer'&&(_0x24db52='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x10bc69=_0x2688ab[_0x24bd37(0x1d1)]||_0x2688ab[_0x24bd37(0x20d)],_0x4cc8c7=_0x24bd37(0x3a0)+(_0x5649b2+0x1)+'\x20/\x20'+_0x57ee48+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x10bc69+_0x24bd37(0x238)+_0x24db52+_0x24bd37(0x368);liveGameView['innerHTML']=_0x4cc8c7;window[_0x24bd37(0x74c)]&&MathJax[_0x24bd37(0x14d)]&&MathJax[_0x24bd37(0x14d)]([liveGameView]);const _0x22c8bc=document[_0x24bd37(0x38e)](_0x24bd37(0x3fd));_0x22c8bc&&_0x22c8bc[_0x24bd37(0x353)](_0x24bd37(0x38d),()=>{const _0x791a61=_0x24bd37,_0x5b88bc=document[_0x791a61(0x38e)](_0x791a61(0x19a))[_0x791a61(0x491)];handleLiveAnswer(_0x5b88bc,_0x2688ab);}),document['getElementById'](_0x24bd37(0x4a5))[_0x24bd37(0x353)]('click',_0x55969f=>{const _0x178014=_0x24bd37,_0x474b8c=_0x55969f[_0x178014(0x7c2)]['closest']('.live-answer-btn');if(_0x474b8c){const _0x1dfae2=parseInt(_0x474b8c[_0x178014(0x1cf)][_0x178014(0x5ed)]);handleLiveAnswer(_0x1dfae2,_0x2688ab);}});}async function handleLiveAnswer(_0x574d7e,_0x4326e4){const _0x509d31=_0x1bb21e;document[_0x509d31(0x175)](_0x509d31(0x897))[_0x509d31(0x813)](_0x122284=>_0x122284[_0x509d31(0x5f4)]=!![]);const _0x2af785=_0x4326e4[_0x509d31(0x4c7)]||currentQuizData[_0x509d31(0x279)];let _0x590944=![];if(_0x2af785===_0x509d31(0x3fe)){const _0xbc1f62=(_0x574d7e||'')[_0x509d31(0x189)]();_0x590944=await gradeShortAnswer(_0xbc1f62,_0x4326e4);}else{if(_0x2af785==='multiple_choice')_0x590944=_0x574d7e===_0x4326e4['correctAnswerIndex'];else{if(_0x2af785===_0x509d31(0x6df)){const _0x4c7b2b=_0x4326e4[_0x509d31(0x5d3)];_0x590944=_0x574d7e===0x0&&_0x4c7b2b||_0x574d7e===0x1&&!_0x4c7b2b;}else{if(_0x2af785===_0x509d31(0x2cf)){const _0x1d93bf=_0x4326e4['allResponses'][_0x574d7e];_0x590944=_0x1d93bf===_0x4326e4[_0x509d31(0x3bd)];}}}}const _0x1c6e8e=doc(db,_0x509d31(0x736)+appId+_0x509d31(0x150),currentLiveGameId),_0x553930=await getDoc(_0x1c6e8e);if(!_0x553930[_0x509d31(0x62a)]())return;const _0x5ec3f1=_0x553930[_0x509d31(0x794)](),_0x1ee684=_0x5ec3f1[_0x509d31(0x192)][currentStudentName];let _0x5e6c8b=_0x1ee684[_0x509d31(0x1c4)]||[],_0x14003f=_0x1ee684[_0x509d31(0x72f)]||0x0;const _0x536b19={};let _0x127f7a=0x0;if(_0x5ec3f1[_0x509d31(0x3aa)]){const _0x1e7c15=_0x5ec3f1[_0x509d31(0x3aa)][_0x509d31(0x44b)](),_0x33f4a1=new Date()-_0x1e7c15;if(_0x590944){const _0x4284fb=0x3e8,_0x44b720=0x1f4,_0x3d896d=0x4e20;let _0x4ba7c5=_0x33f4a1/_0x3d896d;if(_0x4ba7c5>0x1)_0x4ba7c5=0x1;const _0x322465=Math[_0x509d31(0x4b3)](_0x4ba7c5*_0x44b720);_0x127f7a=_0x4284fb-_0x322465,_0x33f4a1<=0x1388&&!_0x5e6c8b[_0x509d31(0x54a)](_0x509d31(0x4c1))&&_0x5e6c8b['push'](_0x509d31(0x4c1));}}_0x590944?(_0x14003f++,_0x14003f===0x3&&!_0x5e6c8b[_0x509d31(0x54a)]('on_fire')&&(_0x5e6c8b[_0x509d31(0x3dd)](_0x509d31(0x7c0)),_0x14003f=0x0)):_0x14003f=0x0,_0x590944&&(_0x536b19[_0x509d31(0x47a)+currentStudentName+_0x509d31(0x7b0)]=increment(_0x127f7a)),_0x536b19[_0x509d31(0x47a)+currentStudentName+_0x509d31(0x5ae)]=_0x5e6c8b,_0x536b19['players.'+currentStudentName+_0x509d31(0x4e9)]=_0x14003f,_0x536b19['players.'+currentStudentName+_0x509d31(0x1ae)]=!![],_0x536b19['players.'+currentStudentName+_0x509d31(0x133)]=_0x590944,_0x536b19['players.'+currentStudentName+'.pointsLastQuestion']=_0x127f7a,await updateDoc(_0x1c6e8e,_0x536b19),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function createQuizFromBank(){const _0x19fc8c=_0x1bb21e,_0x3f833f=document[_0x19fc8c(0x175)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x3f833f[_0x19fc8c(0x890)]===0x0){showMessage(_0x19fc8c(0x2e1));return;}const _0x18af4c=[];_0x3f833f[_0x19fc8c(0x813)](_0x210bbb=>{const _0x409561=_0x19fc8c;_0x18af4c[_0x409561(0x3dd)](JSON[_0x409561(0x32f)](_0x210bbb['value']));});const _0x55d6cc={'topic':_0x19fc8c(0x2e2),'questions':_0x18af4c};displayGeneratedQuiz(_0x55d6cc);}function showAdminLobbyView(_0x1d82ba,_0x2e0691){const _0x54f8f2=_0x1bb21e;showView(_0x54f8f2(0x4e6));const _0x103bc8=_0x54f8f2(0x6e8)+_0x2e0691+_0x54f8f2(0x65c)+_0x1d82ba+_0x54f8f2(0x784);liveGameView[_0x54f8f2(0x7ac)]=_0x103bc8,document[_0x54f8f2(0x38e)](_0x54f8f2(0x545))[_0x54f8f2(0x353)](_0x54f8f2(0x38d),async()=>{const _0x3e6588=_0x54f8f2;if(!currentQuizData||!currentQuizData[_0x3e6588(0x1f8)]||currentQuizData[_0x3e6588(0x1f8)][_0x3e6588(0x890)]===0x0){showMessage(_0x3e6588(0x4c3));return;}try{const _0x23094d=doc(db,'artifacts/'+appId+_0x3e6588(0x150),currentLiveGameId);await updateDoc(_0x23094d,{'status':_0x3e6588(0x1ea),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1cfcfc=currentQuizData[_0x3e6588(0x1f8)][0x0],_0x57a572=currentQuizData[_0x3e6588(0x1f8)]['length'];showAdminLiveQuestionView(_0x1cfcfc,0x0,_0x57a572);}catch(_0x12efac){console[_0x3e6588(0x146)](_0x3e6588(0x13a),_0x12efac),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x10fcce=_0x1bb21e;if(allQuizzesGlobal[_0x10fcce(0x890)]===0x0){const _0x4f2d9e=await getDocs(collection(db,_0x10fcce(0x736)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x4f2d9e['docs']['map'](_0x13527b=>({'id':_0x13527b['id'],..._0x13527b[_0x10fcce(0x794)]()}));}renderGlobalQuizList(''),document[_0x10fcce(0x38e)](_0x10fcce(0x2dc))[_0x10fcce(0x2db)][_0x10fcce(0x327)](_0x10fcce(0x5e8));}async function openQuizBankModal(){const _0x99e7f4=_0x1bb21e;if(allQuizzesGlobal[_0x99e7f4(0x890)]===0x0){const _0x5d2dd8=await getDocs(collection(db,_0x99e7f4(0x736)+appId+_0x99e7f4(0x59a)));allQuizzesGlobal=_0x5d2dd8[_0x99e7f4(0x601)][_0x99e7f4(0x796)](_0x5a939b=>({'id':_0x5a939b['id'],..._0x5a939b[_0x99e7f4(0x794)]()}));}renderQuizBankList(''),document['getElementById']('quiz-bank-modal')[_0x99e7f4(0x2db)][_0x99e7f4(0x327)]('hidden');}function renderQuizBankList(_0xf9fc19=''){const _0x2a690e=_0x1bb21e,_0x1a0551=document[_0x2a690e(0x38e)](_0x2a690e(0x315)),_0x16084b=_0xf9fc19[_0x2a690e(0x397)]()[_0x2a690e(0x2d2)](),_0x4dabe7=allQuizzesGlobal[_0x2a690e(0x796)](_0x43ac8b=>({..._0x43ac8b,'projectName':allProjects[_0x2a690e(0x172)](_0x5604ae=>_0x5604ae['id']===_0x43ac8b[_0x2a690e(0x79a)])?.[_0x2a690e(0x5fe)]||_0x2a690e(0x2c9)}))[_0x2a690e(0x5d6)](_0x239251=>(_0x239251['topic']||'')[_0x2a690e(0x397)]()[_0x2a690e(0x54a)](_0x16084b)||(_0x239251[_0x2a690e(0x5fe)]||'')[_0x2a690e(0x397)]()[_0x2a690e(0x54a)](_0x16084b)||_0x239251['id'][_0x2a690e(0x189)]()[_0x2a690e(0x54a)](_0x16084b));document[_0x2a690e(0x38e)](_0x2a690e(0x7d2))[_0x2a690e(0x83f)]='('+_0x4dabe7[_0x2a690e(0x890)]+_0x2a690e(0x705),_0x1a0551[_0x2a690e(0x7ac)]=_0x4dabe7['length']?_0x4dabe7[_0x2a690e(0x796)](_0x418c7d=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x418c7d['id']+_0x2a690e(0x67d)+(_0x418c7d[_0x2a690e(0x76d)]||_0x2a690e(0x208))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x418c7d[_0x2a690e(0x1f8)]?.[_0x2a690e(0x890)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x418c7d[_0x2a690e(0x5fe)]+_0x2a690e(0x737)+_0x418c7d['id']+_0x2a690e(0x464)+_0x418c7d['id']+_0x2a690e(0x482)+_0x418c7d['id']+_0x2a690e(0x4f7)+_0x418c7d['id']+_0x2a690e(0x228))[_0x2a690e(0x4d7)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x1a0551['querySelectorAll'](_0x2a690e(0x499))[_0x2a690e(0x813)](_0x2f167f=>{const _0x268674=_0x2a690e;_0x2f167f[_0x268674(0x353)](_0x268674(0x38d),()=>{const _0x3abae3=_0x268674,_0xadf279=_0x2f167f['dataset']['id'];document[_0x3abae3(0x38e)](_0x3abae3(0x1df))[_0x3abae3(0x2db)]['add']('hidden'),showQuizDetailView(_0xadf279);});}),_0x1a0551[_0x2a690e(0x175)](_0x2a690e(0x4fc))[_0x2a690e(0x813)](_0x3dda3c=>{const _0x31e94a=_0x2a690e;_0x3dda3c['addEventListener'](_0x31e94a(0x38d),_0xf1cb66=>{const _0x1f3204=_0x31e94a;_0xf1cb66['stopPropagation']();const _0x2c42de=_0x3dda3c[_0x1f3204(0x1cf)]['id'],_0x345916=allQuizzesGlobal['find'](_0x41b672=>_0x41b672['id']===_0x2c42de);_0x345916?(currentQuizData=_0x345916,document['getElementById'](_0x1f3204(0x1df))[_0x1f3204(0x2db)][_0x1f3204(0x15d)](_0x1f3204(0x5e8)),startAdminTest()):showMessage(_0x1f3204(0x6e7));});}),_0x1a0551[_0x2a690e(0x175)]('.quiz-bank-parallel-btn')[_0x2a690e(0x813)](_0x530141=>{const _0x3abe1f=_0x2a690e;_0x530141['addEventListener'](_0x3abe1f(0x38d),_0x613ee0=>{const _0x432760=_0x3abe1f;_0x613ee0['stopPropagation']();const _0x49bfa6=_0x530141[_0x432760(0x1cf)]['id'],_0x3ae543=allQuizzesGlobal[_0x432760(0x172)](_0x28b4bd=>_0x28b4bd['id']===_0x49bfa6);_0x3ae543?(document[_0x432760(0x38e)](_0x432760(0x1df))[_0x432760(0x2db)][_0x432760(0x15d)](_0x432760(0x5e8)),handleGenerateParallelFromBank(_0x3ae543)):showMessage(_0x432760(0x6e7));});}),_0x1a0551[_0x2a690e(0x175)]('.quiz-bank-present-btn')[_0x2a690e(0x813)](_0x2e548f=>{const _0x503e70=_0x2a690e;_0x2e548f[_0x503e70(0x353)](_0x503e70(0x38d),_0x48ec94=>{const _0x200f11=_0x503e70;_0x48ec94[_0x200f11(0x6c4)]();const _0x48d018=_0x2e548f[_0x200f11(0x1cf)]['id'],_0x493312=allQuizzesGlobal[_0x200f11(0x172)](_0x507bb5=>_0x507bb5['id']===_0x48d018);_0x493312?(document[_0x200f11(0x38e)](_0x200f11(0x1df))[_0x200f11(0x2db)][_0x200f11(0x15d)](_0x200f11(0x5e8)),startPresentation(_0x493312)):showMessage(_0x200f11(0x6e7));});});}async function handleCompareResults(_0xc8d924,_0x4020b8){const _0xab5429=_0x1bb21e,_0xdf6510=document['getElementById'](_0xab5429(0x8a7)),_0x3f5b39=document[_0xab5429(0x38e)](_0xab5429(0x362)),_0x78130f=document[_0xab5429(0x38e)](_0xab5429(0x267));document['getElementById'](_0xab5429(0x1ca))[_0xab5429(0x2db)][_0xab5429(0x15d)](_0xab5429(0x1c9)),document[_0xab5429(0x38e)]('comparison-individual-tab')[_0xab5429(0x2db)][_0xab5429(0x327)](_0xab5429(0x1c9)),_0x3f5b39['classList'][_0xab5429(0x327)](_0xab5429(0x5e8)),_0x78130f[_0xab5429(0x2db)]['add']('hidden'),_0x3f5b39[_0xab5429(0x7ac)]=_0xab5429(0x80f),_0x78130f['innerHTML']='',_0xdf6510[_0xab5429(0x2db)][_0xab5429(0x327)](_0xab5429(0x5e8));try{const _0x1f9ddb=doc(db,_0xab5429(0x736)+appId+'/public/data/quizzes',_0xc8d924),_0x10a9a9=await getDoc(_0x1f9ddb);if(!_0x10a9a9[_0xab5429(0x62a)]())throw new Error(_0xab5429(0x73d));const _0x29b15e=_0x10a9a9[_0xab5429(0x794)](),_0x160a2e=_0x29b15e[_0xab5429(0x1f8)][_0xab5429(0x890)],_0x125602=collection(db,_0xab5429(0x736)+appId+_0xab5429(0x190)+_0x4020b8+'/submissions'),_0x26f1b6=collection(db,_0xab5429(0x736)+appId+_0xab5429(0x190)+_0xc8d924+'/submissions'),[_0x1474b1,_0x41c0fb]=await Promise[_0xab5429(0x1e6)]([getDocs(_0x125602),getDocs(_0x26f1b6)]),_0x2c3f33=_0x1474b1[_0xab5429(0x601)][_0xab5429(0x796)](_0x320c3c=>_0x320c3c[_0xab5429(0x794)]()),_0x324fa6=_0x41c0fb['docs'][_0xab5429(0x796)](_0x1e2881=>_0x1e2881[_0xab5429(0x794)]()),_0x4fcba5=_0x2c3f33[_0xab5429(0x796)](_0x2ac595=>_0x2ac595['latestScore']),_0x45ee6f=_0x324fa6['map'](_0x430be5=>_0x430be5['latestScore']),_0x1fb03e=calculateMeanAndStdDev(_0x4fcba5),_0x3a90f6=calculateMeanAndStdDev(_0x45ee6f),_0x118ae1=_0x1fb03e['mean'],_0x46bbe3=_0x3a90f6[_0xab5429(0x308)],_0xd27d85=_0x46bbe3-_0x118ae1;let _0x2ac3ca=_0xab5429(0x519)+_0x118ae1[_0xab5429(0x554)](0x2)+_0xab5429(0x7ef)+_0x46bbe3[_0xab5429(0x554)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0xd27d85>=0x0?_0xab5429(0x56b):_0xab5429(0x649))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0xd27d85>=0x0?'text-emerald-800':_0xab5429(0x2b1))+_0xab5429(0x3af)+(_0xd27d85>=0x0?'text-emerald-900':_0xab5429(0x298))+'\x22>'+(_0xd27d85>=0x0?'+':'')+_0xd27d85[_0xab5429(0x554)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x3f5b39[_0xab5429(0x7ac)]=_0x2ac3ca;const _0x16ea98=document[_0xab5429(0x38e)](_0xab5429(0x391))[_0xab5429(0x185)]('2d');if(chartInstances[_0xab5429(0x475)])chartInstances[_0xab5429(0x475)]['destroy']();chartInstances['comparison']=new Chart(_0x16ea98,{'type':_0xab5429(0x4f5),'data':{'labels':[_0xab5429(0x85a)],'datasets':[{'label':_0xab5429(0x2da),'data':[_0x118ae1],'backgroundColor':_0xab5429(0x251)},{'label':_0xab5429(0x7d3),'data':[_0x46bbe3],'backgroundColor':_0xab5429(0x884)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x160a2e}}}});const _0x19ff96=currentProjectData['students']||[],_0x127597=_0x19ff96[_0xab5429(0x796)](_0x478f0f=>{const _0x4775d9=_0xab5429,_0x1b5f46=_0x2c3f33[_0x4775d9(0x172)](_0x38bde6=>_0x38bde6['studentName']===_0x478f0f),_0x45270c=_0x324fa6[_0x4775d9(0x172)](_0x35ea47=>_0x35ea47['studentName']===_0x478f0f),_0x3355cf=_0x1b5f46?_0x1b5f46['latestScore']:null,_0x208440=_0x45270c?_0x45270c['latestScore']:null,_0x547f32=_0x3355cf!==null&&_0x208440!==null?_0x208440-_0x3355cf:null,_0x483815=_0x3355cf!==null?calculateZScore(_0x3355cf,_0x1fb03e[_0x4775d9(0x308)],_0x1fb03e[_0x4775d9(0x38a)]):null,_0x5ce489=_0x208440!==null?calculateZScore(_0x208440,_0x3a90f6[_0x4775d9(0x308)],_0x3a90f6[_0x4775d9(0x38a)]):null,_0x55927e=_0x483815!==null?calculateTScore(_0x483815):null,_0x1da4a8=_0x5ce489!==null?calculateTScore(_0x5ce489):null,_0x2ac476=_0x55927e!==null&&_0x1da4a8!==null?_0x1da4a8-_0x55927e:null;return{'name':_0x478f0f,'preScore':_0x3355cf,'postScore':_0x208440,'gain':_0x547f32,'preTScore':_0x55927e,'postTScore':_0x1da4a8,'tGain':_0x2ac476};});renderIndividualComparisonTable(_0x127597,_0x78130f);}catch(_0x23712a){console[_0xab5429(0x146)]('Error\x20comparing\x20results:',_0x23712a),_0x3f5b39[_0xab5429(0x7ac)]=_0xab5429(0x896);}}function displayHalfMarkResult(_0x3ca5d1,_0x2f42f9){const _0x531a32=_0x1bb21e,_0x40a60a=_0x3ca5d1>=_0x2f42f9/0x2,_0xb57021=_0x40a60a?_0x531a32(0x3b2):_0x531a32(0x649),_0x3b99cf=_0x40a60a?_0x531a32(0x14e):_0x531a32(0x46e),_0x22f3a1=_0x40a60a?_0x531a32(0x4be):'text-red-800',_0x130a24=_0x40a60a?_0x531a32(0x342):_0x531a32(0x4d0),_0x1ebb09=_0x40a60a?'ยอดเยี่ยม!':'สู้ๆ\x20ลองอีกครั้งนะ';let _0x2b7f12='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0xb57021+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b99cf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x22f3a1+_0x531a32(0x1c2)+_0x130a24+_0x531a32(0x131)+_0x1ebb09+_0x531a32(0x5a0);studentResultArea[_0x531a32(0x7ac)]=_0x2b7f12,studentResultArea[_0x531a32(0x2db)][_0x531a32(0x327)](_0x531a32(0x5e8)),studentQuizArea[_0x531a32(0x2db)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x40a60a});}function displayPerfectScoreResult(_0x16fc2c,_0x3e3b46){const _0x3b3eb9=_0x1bb21e,_0x331861=_0x16fc2c===_0x3e3b46,_0x5e23fc=_0x331861?_0x3b3eb9(0x538):'bg-blue-100',_0x25b08b=_0x331861?_0x3b3eb9(0x1ec):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x3d8103=_0x331861?_0x3b3eb9(0x4f9):_0x3b3eb9(0x8bf),_0x2aea12=_0x331861?'คะแนนเต็ม!':_0x3b3eb9(0x692),_0x143b01=_0x331861?_0x3b3eb9(0x7ff):_0x3b3eb9(0x478);let _0x1d0749='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x5e23fc+_0x3b3eb9(0x590)+_0x25b08b+_0x3b3eb9(0x3b6)+_0x3d8103+_0x3b3eb9(0x1c2)+_0x2aea12+_0x3b3eb9(0x131)+_0x143b01+_0x3b3eb9(0x5a0);studentResultArea[_0x3b3eb9(0x7ac)]=_0x1d0749,studentResultArea[_0x3b3eb9(0x2db)]['remove'](_0x3b3eb9(0x5e8)),studentQuizArea[_0x3b3eb9(0x2db)][_0x3b3eb9(0x15d)](_0x3b3eb9(0x5e8)),setupResultScreenBackButton({'showRankings':![],'score':_0x16fc2c,'totalQuestions':_0x3e3b46});}function renderIndividualComparisonTable(_0x57766c,_0x3367fb){const _0x308908=_0x1bb21e;_0x57766c[_0x308908(0x773)]((_0x2094b3,_0x49b3dd)=>(_0x49b3dd['tGain']??-Infinity)-(_0x2094b3[_0x308908(0x48c)]??-Infinity));let _0x472495='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x57766c[_0x308908(0x890)]===0x0?_0x472495+=_0x308908(0x56d):_0x57766c[_0x308908(0x813)]((_0x48ee41,_0x5da06a)=>{const _0x106a6c=_0x308908;let _0x20afc4='-',_0x42ed69='';if(_0x48ee41['gain']!==null){const _0x23043e=_0x48ee41['gain']>0x0?'text-green-600':_0x48ee41[_0x106a6c(0x2e7)]<0x0?_0x106a6c(0x1e2):_0x106a6c(0x4bb),_0x38bc7d=_0x48ee41[_0x106a6c(0x2e7)]>0x0?'+':'';_0x20afc4=_0x106a6c(0x5f3)+_0x23043e+'\x22>'+_0x38bc7d+_0x48ee41[_0x106a6c(0x2e7)]+_0x106a6c(0x4b0);if(_0x48ee41['gain']>0x0)_0x42ed69=_0x106a6c(0x4fb);else _0x48ee41['gain']<0x0?_0x42ed69='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x42ed69='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x368b77='-';if(_0x48ee41['tGain']!==null){const _0x594909=_0x48ee41[_0x106a6c(0x48c)]>0x0?_0x106a6c(0x562):_0x48ee41[_0x106a6c(0x48c)]<0x0?_0x106a6c(0x1e2):'text-gray-500',_0x48923e=_0x48ee41[_0x106a6c(0x48c)]>0x0?'+':'';_0x368b77=_0x106a6c(0x5f3)+_0x594909+'\x22>'+_0x48923e+_0x48ee41[_0x106a6c(0x48c)]['toFixed'](0x2)+_0x106a6c(0x4b0);}_0x472495+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x5da06a+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x48ee41[_0x106a6c(0x6cc)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x48ee41[_0x106a6c(0x5fd)]??'-')+_0x106a6c(0x5c0)+(_0x48ee41[_0x106a6c(0x173)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x20afc4+_0x106a6c(0x75f)+_0x42ed69+_0x106a6c(0x730)+(_0x48ee41['preTScore']?.[_0x106a6c(0x554)](0x2)??'-')+_0x106a6c(0x151)+(_0x48ee41['postTScore']?.[_0x106a6c(0x554)](0x2)??'-')+_0x106a6c(0x187)+_0x368b77+_0x106a6c(0x24f);}),_0x472495+=_0x308908(0x3de),_0x3367fb[_0x308908(0x7ac)]=_0x472495;}function handleRenameQuiz(_0x3b12e2,_0xe3529f){const _0x926c60=_0x1bb21e;actionTargetId=_0x3b12e2,document[_0x926c60(0x38e)](_0x926c60(0x388))[_0x926c60(0x491)]=_0xe3529f,renameQuizModal[_0x926c60(0x2db)][_0x926c60(0x327)]('hidden');}function setupComparisonModalTabs(){const _0x473c58=_0x1bb21e,_0x2f4b83=document[_0x473c58(0x38e)](_0x473c58(0x1ca)),_0x3b27e7=document[_0x473c58(0x38e)](_0x473c58(0x747)),_0x9fa75e=document[_0x473c58(0x38e)](_0x473c58(0x362)),_0x276fcc=document[_0x473c58(0x38e)](_0x473c58(0x267));_0x2f4b83[_0x473c58(0x353)](_0x473c58(0x38d),()=>{const _0x13367d=_0x473c58;_0x2f4b83[_0x13367d(0x2db)][_0x13367d(0x15d)]('active'),_0x3b27e7[_0x13367d(0x2db)][_0x13367d(0x327)](_0x13367d(0x1c9)),_0x9fa75e[_0x13367d(0x2db)][_0x13367d(0x327)](_0x13367d(0x5e8)),_0x276fcc[_0x13367d(0x2db)][_0x13367d(0x15d)]('hidden');}),_0x3b27e7[_0x473c58(0x353)](_0x473c58(0x38d),()=>{const _0x2f1da1=_0x473c58;_0x3b27e7[_0x2f1da1(0x2db)][_0x2f1da1(0x15d)](_0x2f1da1(0x1c9)),_0x2f4b83['classList'][_0x2f1da1(0x327)](_0x2f1da1(0x1c9)),_0x276fcc[_0x2f1da1(0x2db)][_0x2f1da1(0x327)](_0x2f1da1(0x5e8)),_0x9fa75e[_0x2f1da1(0x2db)][_0x2f1da1(0x15d)](_0x2f1da1(0x5e8));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x32dce1=''){const _0x2237b4=_0x1bb21e,_0x3ee30b=document['getElementById']('global-quiz-list'),_0xc07934=_0x32dce1[_0x2237b4(0x397)]()['trim'](),_0x4e17d7=allQuizzesGlobal[_0x2237b4(0x796)](_0xaf1c04=>({..._0xaf1c04,'projectName':allProjects[_0x2237b4(0x172)](_0x24da2a=>_0x24da2a['id']===_0xaf1c04['projectId'])?.[_0x2237b4(0x5fe)]||_0xaf1c04['projectId']}))['filter'](_0x3ed373=>(_0x3ed373[_0x2237b4(0x76d)]||'')['toLowerCase']()[_0x2237b4(0x54a)](_0xc07934)||(_0x3ed373[_0x2237b4(0x5fe)]||'')[_0x2237b4(0x397)]()[_0x2237b4(0x54a)](_0xc07934));document[_0x2237b4(0x38e)](_0x2237b4(0x1ba))['textContent']='('+_0x4e17d7[_0x2237b4(0x890)]+_0x2237b4(0x705),_0x3ee30b[_0x2237b4(0x7ac)]=_0x4e17d7[_0x2237b4(0x890)]?_0x4e17d7[_0x2237b4(0x796)](_0xe57e29=>_0x2237b4(0x2e9)+_0xe57e29['id']+_0x2237b4(0x213)+(_0xe57e29[_0x2237b4(0x76d)]||_0x2237b4(0x208))+_0x2237b4(0x155)+(_0xe57e29[_0x2237b4(0x1f8)]?.[_0x2237b4(0x890)]||0x0)+_0x2237b4(0x2b4)+_0xe57e29[_0x2237b4(0x5fe)]+_0x2237b4(0x89b))[_0x2237b4(0x4d7)](''):_0x2237b4(0x83d),selectedGlobalQuizId=null,document['getElementById'](_0x2237b4(0x832))[_0x2237b4(0x5f4)]=!![],_0x3ee30b['querySelectorAll'](_0x2237b4(0x6d7))[_0x2237b4(0x813)](_0x9119f2=>{const _0x3bb3e2=_0x2237b4;_0x9119f2[_0x3bb3e2(0x353)](_0x3bb3e2(0x38d),()=>{const _0x34c1ff=_0x3bb3e2;selectedGlobalQuizId=_0x9119f2[_0x34c1ff(0x1cf)]['id'],_0x3ee30b[_0x34c1ff(0x175)](_0x34c1ff(0x3c6))[_0x34c1ff(0x813)](_0x352740=>_0x352740[_0x34c1ff(0x2db)]['remove'](_0x34c1ff(0x5be),'ring-2',_0x34c1ff(0x776))),_0x9119f2[_0x34c1ff(0x2db)]['add'](_0x34c1ff(0x5be),_0x34c1ff(0x400),_0x34c1ff(0x776)),document[_0x34c1ff(0x38e)]('confirm-global-live-btn')['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x7524cc=_0x1bb21e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x392e05=doc(db,_0x7524cc(0x736)+appId+_0x7524cc(0x150),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x392e05,_0x3779a6=>{const _0x220a92=_0x7524cc;if(!_0x3779a6[_0x220a92(0x62a)]()){showMessage(_0x220a92(0x75e)),showView(currentMode);return;}const _0x31723b=_0x3779a6['data']();!currentQuizData&&_0x31723b[_0x220a92(0x1f3)]&&((async()=>{const _0x5c0ed7=_0x220a92;try{const _0x1a59af=doc(db,_0x5c0ed7(0x736)+appId+_0x5c0ed7(0x59a),_0x31723b[_0x5c0ed7(0x1f3)]),_0x198084=await getDoc(_0x1a59af);_0x198084['exists']()&&(currentQuizData={'id':_0x198084['id'],..._0x198084[_0x5c0ed7(0x794)]()});}catch(_0x21fe35){console[_0x5c0ed7(0x146)](_0x5c0ed7(0x6de),_0x21fe35);}})());switch(_0x31723b[_0x220a92(0x613)]){case _0x220a92(0x8ec):if(currentMode===_0x220a92(0x300)){const _0x73c741=_0x31723b[_0x220a92(0x192)]?Object[_0x220a92(0x68d)](_0x31723b[_0x220a92(0x192)]):[];document[_0x220a92(0x38e)](_0x220a92(0x27f))[_0x220a92(0x83f)]=_0x73c741[_0x220a92(0x890)],document[_0x220a92(0x38e)](_0x220a92(0x731))[_0x220a92(0x7ac)]=_0x73c741[_0x220a92(0x796)](_0x13c940=>'<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>'+_0x13c940+_0x220a92(0x4b0))[_0x220a92(0x4d7)]('');const _0x245847=document[_0x220a92(0x38e)](_0x220a92(0x545));_0x245847&&(_0x245847[_0x220a92(0x5f4)]=_0x73c741[_0x220a92(0x890)]===0x0);}else showView(_0x220a92(0x4e6)),liveGameView[_0x220a92(0x7ac)]=_0x220a92(0x12d)+currentStudentName+_0x220a92(0x78b);break;case _0x220a92(0x1ea):const _0x55edb3=_0x31723b[_0x220a92(0x460)];if(currentQuizData&&currentQuizData[_0x220a92(0x1f8)][_0x55edb3]){const _0xa04f0e=currentQuizData['questions'][_0x55edb3],_0x2d0b4a=currentQuizData[_0x220a92(0x1f8)][_0x220a92(0x890)];if(currentMode==='admin'){lastRenderedAdminQuestionIndex!==_0x55edb3&&(showAdminLiveQuestionView(_0xa04f0e,_0x55edb3,_0x2d0b4a),lastRenderedAdminQuestionIndex=_0x55edb3);const _0x13385f=document['getElementById'](_0x220a92(0x34b));if(_0x13385f&&_0x31723b[_0x220a92(0x192)]){const _0x14d0cb=Object[_0x220a92(0x68d)](_0x31723b[_0x220a92(0x192)])['length'],_0x5eb21d=Object[_0x220a92(0x481)](_0x31723b[_0x220a92(0x192)])[_0x220a92(0x5d6)](_0x33e362=>_0x33e362[_0x220a92(0x5a8)]===!![])[_0x220a92(0x890)];_0x13385f[_0x220a92(0x83f)]=_0x5eb21d+'/'+_0x14d0cb,_0x14d0cb>0x0&&_0x5eb21d===_0x14d0cb&&_0x31723b[_0x220a92(0x455)]!==_0x220a92(0x6ba)&&revealAnswerForAdmin(_0x55edb3,_0x2d0b4a);}}else{const _0x5c31e4=_0x31723b['players'][currentStudentName];if(_0x31723b['questionStatus']===_0x220a92(0x6ba)){if(_0x5c31e4[_0x220a92(0x5a8)]){const _0x43a1b9=_0x5c31e4['lastAnswerCorrect'],_0x36bec3=_0x5c31e4['pointsLastQuestion']||0x0,_0x5da05d=_0x43a1b9?_0x220a92(0x3f8)+_0x36bec3+_0x220a92(0x27d):_0x220a92(0x220);liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>'+_0x5da05d+'</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else liveGameView['innerHTML']=_0x220a92(0x790);}else!_0x5c31e4[_0x220a92(0x5a8)]&&showStudentLiveQuestionView(_0xa04f0e,_0x55edb3,_0x2d0b4a);}}break;case _0x220a92(0x283):showPodiumView(_0x31723b['players']);break;}});}async function authenticateUser(){const _0x4cb981=_0x1bb21e;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x412586){console[_0x4cb981(0x146)]('Authentication\x20failed:',_0x412586),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x4e494d){const _0x40bf2c=_0x1bb21e,_0x52b820=[_0x40bf2c(0x678),_0x40bf2c(0x29d),_0x40bf2c(0x8a6),_0x40bf2c(0x7b4),'quiz-results-view','live-game-view',_0x40bf2c(0x34e)];_0x52b820[_0x40bf2c(0x813)](_0x592f16=>document[_0x40bf2c(0x38e)](_0x592f16)?.[_0x40bf2c(0x2db)][_0x40bf2c(0x15d)](_0x40bf2c(0x5e8)));if(_0x4e494d==='admin-dashboard')adminView['classList'][_0x40bf2c(0x327)](_0x40bf2c(0x5e8)),projectDashboardView[_0x40bf2c(0x2db)][_0x40bf2c(0x327)](_0x40bf2c(0x5e8));else{if(_0x4e494d===_0x40bf2c(0x334))studentView[_0x40bf2c(0x2db)]['remove'](_0x40bf2c(0x5e8)),studentInitialView[_0x40bf2c(0x2db)][_0x40bf2c(0x327)]('hidden'),studentNameSelectionView[_0x40bf2c(0x2db)][_0x40bf2c(0x15d)]('hidden'),studentQuizArea[_0x40bf2c(0x2db)]['add'](_0x40bf2c(0x5e8)),studentResultArea['classList'][_0x40bf2c(0x15d)](_0x40bf2c(0x5e8)),studentReadingArea[_0x40bf2c(0x2db)]['add'](_0x40bf2c(0x5e8)),studentJoinGameView[_0x40bf2c(0x2db)][_0x40bf2c(0x15d)](_0x40bf2c(0x5e8));else{if(_0x4e494d===_0x40bf2c(0x7ae))adminView['classList']['remove'](_0x40bf2c(0x5e8)),projectDetailView[_0x40bf2c(0x2db)][_0x40bf2c(0x327)](_0x40bf2c(0x5e8));else{if(_0x4e494d===_0x40bf2c(0x804))adminView['classList'][_0x40bf2c(0x327)](_0x40bf2c(0x5e8)),quizResultsView['classList']['remove']('hidden');else _0x4e494d===_0x40bf2c(0x4e6)&&liveGameView['classList'][_0x40bf2c(0x327)](_0x40bf2c(0x5e8));}}}}function showJoinGameView(){const _0x296d55=_0x1bb21e;studentInitialView[_0x296d55(0x2db)][_0x296d55(0x15d)](_0x296d55(0x5e8)),studentJoinGameView[_0x296d55(0x2db)][_0x296d55(0x327)](_0x296d55(0x5e8));}async function handleSaveVisibilitySettings(){const _0x56fc45=_0x1bb21e;if(!currentProjectId)return;const _0x40ca70=doc(db,_0x56fc45(0x736)+appId+_0x56fc45(0x8ae),currentProjectId);try{await updateDoc(_0x40ca70,{'settings.showInStudentDashboard':document['getElementById'](_0x56fc45(0x7a7))[_0x56fc45(0x7eb)],'settings.isPasscodeEnabled':document[_0x56fc45(0x38e)](_0x56fc45(0x61a))['checked'],'settings.passcode':document['getElementById'](_0x56fc45(0x862))['value'][_0x56fc45(0x2d2)]()}),showMessage(_0x56fc45(0x542));}catch(_0x26310c){console[_0x56fc45(0x146)](_0x56fc45(0x489),_0x26310c),showMessage(_0x56fc45(0x1ad));}}function setupEventListeners(){const _0x2bc518=_0x1bb21e;document[_0x2bc518(0x38e)]('mode-switcher-btn')[_0x2bc518(0x353)](_0x2bc518(0x38d),handleModeSwitch),document[_0x2bc518(0x38e)](_0x2bc518(0x50c))['addEventListener'](_0x2bc518(0x38d),handleUpdateOldQuizzes),document[_0x2bc518(0x38e)](_0x2bc518(0x7fc))[_0x2bc518(0x353)]('click',handleResetProjectOrder),document['getElementById']('save-visibility-settings-btn')[_0x2bc518(0x353)](_0x2bc518(0x38d),handleSaveVisibilitySettings),document[_0x2bc518(0x38e)](_0x2bc518(0x8c2))['addEventListener']('click',handleAddCustomMathTopic),document['getElementById'](_0x2bc518(0x31b))[_0x2bc518(0x353)](_0x2bc518(0x38d),handleSelectAllTopics),document['getElementById'](_0x2bc518(0x1d2))[_0x2bc518(0x353)](_0x2bc518(0x38d),handleDeselectAllTopics),document[_0x2bc518(0x38e)](_0x2bc518(0x596))['addEventListener'](_0x2bc518(0x38d),()=>{const _0xd6cb46=_0x2bc518;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0xd6cb46(0x25e));}),document[_0x2bc518(0x38e)](_0x2bc518(0x84b))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x1155bf=_0x2bc518;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x1155bf(0x7ae));}),document[_0x2bc518(0x38e)]('back-to-dashboard-from-results-btn')['addEventListener']('click',()=>{const _0x18d2bf=_0x2bc518;showView(_0x18d2bf(0x25e));}),document[_0x2bc518(0x38e)](_0x2bc518(0x7a2))[_0x2bc518(0x353)]('click',()=>{const _0x4b44c9=_0x2bc518;messageModal[_0x4b44c9(0x2db)][_0x4b44c9(0x15d)](_0x4b44c9(0x5e8)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x2bc518(0x38e)]('create-project-btn')[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>createProjectModal[_0x2bc518(0x2db)]['remove'](_0x2bc518(0x5e8))),document[_0x2bc518(0x38e)](_0x2bc518(0x2cd))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>createProjectModal[_0x2bc518(0x2db)][_0x2bc518(0x15d)](_0x2bc518(0x5e8))),document[_0x2bc518(0x38e)](_0x2bc518(0x4a7))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>adminPasswordModal[_0x2bc518(0x2db)][_0x2bc518(0x15d)]('hidden')),document[_0x2bc518(0x38e)](_0x2bc518(0x53b))['addEventListener'](_0x2bc518(0x38d),handleAdminLogin),document['getElementById'](_0x2bc518(0x3cb))[_0x2bc518(0x353)]('keyup',_0x3f38ba=>{const _0x3f2076=_0x2bc518;if(_0x3f38ba['key']===_0x3f2076(0x725))handleAdminLogin();}),document[_0x2bc518(0x38e)](_0x2bc518(0x384))['addEventListener'](_0x2bc518(0x38d),()=>{const _0x31e1ea=_0x2bc518;confirmationModal[_0x31e1ea(0x2db)][_0x31e1ea(0x15d)]('hidden'),confirmAction=null;}),document[_0x2bc518(0x38e)](_0x2bc518(0x7ba))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x206de1=_0x2bc518;confirmAction&&confirmAction(),confirmationModal['classList'][_0x206de1(0x15d)](_0x206de1(0x5e8)),confirmAction=null;}),document['getElementById'](_0x2bc518(0x34f))['addEventListener'](_0x2bc518(0x38d),()=>renameQuizModal[_0x2bc518(0x2db)]['add'](_0x2bc518(0x5e8))),document[_0x2bc518(0x38e)](_0x2bc518(0x25b))[_0x2bc518(0x353)](_0x2bc518(0x38d),confirmRenameQuiz),document[_0x2bc518(0x38e)](_0x2bc518(0x160))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>moveQuizModal[_0x2bc518(0x2db)][_0x2bc518(0x15d)]('hidden')),document['getElementById']('confirm-move-quiz-btn')[_0x2bc518(0x353)]('click',confirmMoveQuiz),document[_0x2bc518(0x38e)](_0x2bc518(0x3c8))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>quizSettingsModal[_0x2bc518(0x2db)][_0x2bc518(0x15d)]('hidden')),document[_0x2bc518(0x38e)](_0x2bc518(0x434))[_0x2bc518(0x353)](_0x2bc518(0x38d),confirmQuizSettings),document[_0x2bc518(0x38e)](_0x2bc518(0x21b))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>quizStatusModal[_0x2bc518(0x2db)][_0x2bc518(0x15d)]('hidden')),document[_0x2bc518(0x38e)]('confirm-quiz-status-btn')[_0x2bc518(0x353)](_0x2bc518(0x38d),confirmQuizStatus);const _0x47e4d4=document[_0x2bc518(0x38e)](_0x2bc518(0x606));document[_0x2bc518(0x38e)]('cancel-export-pdf-btn')[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x10e24b=_0x2bc518;_0x47e4d4['classList']['add'](_0x10e24b(0x5e8));}),document[_0x2bc518(0x38e)](_0x2bc518(0x1c8))[_0x2bc518(0x353)](_0x2bc518(0x38d),async()=>{const _0x1935b5=_0x2bc518,_0x38b5d0=allQuizzes['find'](_0x262dac=>_0x262dac['id']===actionTargetId);_0x38b5d0?(currentQuizData=_0x38b5d0,exportQuizAsWorksheetPDF()):showMessage(_0x1935b5(0x6e7)),_0x47e4d4[_0x1935b5(0x2db)]['add']('hidden');}),document[_0x2bc518(0x38e)]('export-tutor-pdf-btn')['addEventListener'](_0x2bc518(0x38d),async()=>{const _0x5a5bd3=_0x2bc518,_0x538015=allQuizzes[_0x5a5bd3(0x172)](_0x5ddf1e=>_0x5ddf1e['id']===actionTargetId);_0x538015?(currentQuizData=_0x538015,exportQuizAsTutorPDF()):showMessage(_0x5a5bd3(0x6e7)),_0x47e4d4[_0x5a5bd3(0x2db)]['add'](_0x5a5bd3(0x5e8));}),document[_0x2bc518(0x38e)](_0x2bc518(0x3ac))['addEventListener']('click',openGlobalLiveModal),document['getElementById'](_0x2bc518(0x4c5))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x2b40a3=_0x2bc518;document['getElementById'](_0x2b40a3(0x2dc))[_0x2b40a3(0x2db)][_0x2b40a3(0x15d)](_0x2b40a3(0x5e8)),selectedGlobalQuizId=null;}),document['getElementById'](_0x2bc518(0x509))['addEventListener'](_0x2bc518(0x182),_0x5ab86d=>renderGlobalQuizList(_0x5ab86d[_0x2bc518(0x7c2)]['value'])),document['getElementById'](_0x2bc518(0x832))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x359d95=_0x2bc518,_0x436f95=selectedGlobalQuizId;if(!_0x436f95)return;document[_0x359d95(0x38e)](_0x359d95(0x2dc))[_0x359d95(0x2db)]['add'](_0x359d95(0x5e8)),handleStartLiveRace(_0x436f95);}),document[_0x2bc518(0x38e)](_0x2bc518(0x7cb))[_0x2bc518(0x353)](_0x2bc518(0x182),renderProjects),document[_0x2bc518(0x38e)](_0x2bc518(0x6ca))['addEventListener'](_0x2bc518(0x494),async()=>{const _0x3cdb34=_0x2bc518,_0xc39e2c=document['getElementById'](_0x3cdb34(0x6ca))[_0x3cdb34(0x491)],_0x50f494=doc(db,'globalSettings',_0x3cdb34(0x6c2));try{await setDoc(_0x50f494,{'projectSort':_0xc39e2c},{'merge':!![]});}catch(_0x127d16){console[_0x3cdb34(0x146)](_0x3cdb34(0x814),_0x127d16),showMessage(_0x3cdb34(0x1e7));}}),document['getElementById'](_0x2bc518(0x46b))[_0x2bc518(0x353)](_0x2bc518(0x182),renderQuizzes),document['getElementById']('grid-view-btn')[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x27d360=_0x2bc518;globalDashboardSettings['projectView']='grid',saveUserPreference(_0x27d360(0x76c),_0x27d360(0x170)),renderProjects();}),document[_0x2bc518(0x38e)]('list-view-btn')[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x25130f=_0x2bc518;globalDashboardSettings[_0x25130f(0x76c)]=_0x25130f(0x324),saveUserPreference(_0x25130f(0x76c),_0x25130f(0x324)),renderProjects();}),manageTab[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>switchProjectTab(_0x2bc518(0x433))),resultsTab[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>switchProjectTab('results')),leaderboardTab[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>switchProjectTab(_0x2bc518(0x136))),document['getElementById'](_0x2bc518(0x892))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>switchQuizDetailTab(_0x2bc518(0x6ab))),document[_0x2bc518(0x38e)]('scores-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab(_0x2bc518(0x609))),document[_0x2bc518(0x38e)](_0x2bc518(0x221))[_0x2bc518(0x353)]('click',()=>switchQuizDetailTab(_0x2bc518(0x661))),document[_0x2bc518(0x38e)](_0x2bc518(0x37b))['addEventListener']('click',()=>switchQuizDetailTab(_0x2bc518(0x879))),document['getElementById'](_0x2bc518(0x6d1))[_0x2bc518(0x353)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x2bc518(0x353)](_0x2bc518(0x38d),generateWorksheet);const _0x32bbee=document[_0x2bc518(0x38e)]('link-tab'),_0x366616=document[_0x2bc518(0x38e)]('link-input-area'),_0x112ad2=document[_0x2bc518(0x38e)](_0x2bc518(0x605)),_0x74a7c0=document[_0x2bc518(0x38e)](_0x2bc518(0x1de)),_0x4e497f=document['getElementById']('parallel-test-tab'),_0x3e0402=document[_0x2bc518(0x38e)](_0x2bc518(0x755));topicTab[_0x2bc518(0x353)]('click',()=>{const _0x1a7112=_0x2bc518;topicTab[_0x1a7112(0x2db)][_0x1a7112(0x15d)](_0x1a7112(0x1c9)),textTab[_0x1a7112(0x2db)][_0x1a7112(0x327)](_0x1a7112(0x1c9)),fileTab[_0x1a7112(0x2db)][_0x1a7112(0x327)](_0x1a7112(0x1c9)),worksheetTab[_0x1a7112(0x2db)][_0x1a7112(0x327)](_0x1a7112(0x1c9));if(_0x32bbee)_0x32bbee['classList']['remove'](_0x1a7112(0x1c9));if(_0x112ad2)_0x112ad2['classList'][_0x1a7112(0x327)](_0x1a7112(0x1c9));if(_0x4e497f)_0x4e497f[_0x1a7112(0x2db)][_0x1a7112(0x327)](_0x1a7112(0x1c9));topicInputArea[_0x1a7112(0x2db)][_0x1a7112(0x327)]('hidden'),textInputArea[_0x1a7112(0x2db)]['add'](_0x1a7112(0x5e8)),fileInputArea[_0x1a7112(0x2db)][_0x1a7112(0x15d)](_0x1a7112(0x5e8)),worksheetInputArea[_0x1a7112(0x2db)]['add'](_0x1a7112(0x5e8));if(_0x366616)_0x366616[_0x1a7112(0x2db)][_0x1a7112(0x15d)](_0x1a7112(0x5e8));if(_0x74a7c0)_0x74a7c0[_0x1a7112(0x2db)][_0x1a7112(0x15d)](_0x1a7112(0x5e8));if(_0x3e0402)_0x3e0402[_0x1a7112(0x2db)][_0x1a7112(0x15d)](_0x1a7112(0x5e8));}),textTab[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x4d6b14=_0x2bc518;textTab['classList'][_0x4d6b14(0x15d)](_0x4d6b14(0x1c9)),topicTab[_0x4d6b14(0x2db)][_0x4d6b14(0x327)]('active'),fileTab[_0x4d6b14(0x2db)][_0x4d6b14(0x327)]('active'),worksheetTab[_0x4d6b14(0x2db)][_0x4d6b14(0x327)]('active');if(_0x32bbee)_0x32bbee[_0x4d6b14(0x2db)][_0x4d6b14(0x327)](_0x4d6b14(0x1c9));if(_0x112ad2)_0x112ad2[_0x4d6b14(0x2db)][_0x4d6b14(0x327)]('active');if(_0x4e497f)_0x4e497f[_0x4d6b14(0x2db)][_0x4d6b14(0x327)](_0x4d6b14(0x1c9));textInputArea['classList'][_0x4d6b14(0x327)](_0x4d6b14(0x5e8)),topicInputArea[_0x4d6b14(0x2db)][_0x4d6b14(0x15d)](_0x4d6b14(0x5e8)),fileInputArea[_0x4d6b14(0x2db)]['add'](_0x4d6b14(0x5e8)),worksheetInputArea[_0x4d6b14(0x2db)]['add'](_0x4d6b14(0x5e8));if(_0x366616)_0x366616[_0x4d6b14(0x2db)]['add'](_0x4d6b14(0x5e8));if(_0x74a7c0)_0x74a7c0[_0x4d6b14(0x2db)][_0x4d6b14(0x15d)](_0x4d6b14(0x5e8));if(_0x3e0402)_0x3e0402[_0x4d6b14(0x2db)]['add'](_0x4d6b14(0x5e8));}),fileTab[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x35c4dc=_0x2bc518;fileTab['classList']['add'](_0x35c4dc(0x1c9)),topicTab[_0x35c4dc(0x2db)]['remove'](_0x35c4dc(0x1c9)),textTab[_0x35c4dc(0x2db)][_0x35c4dc(0x327)](_0x35c4dc(0x1c9)),worksheetTab[_0x35c4dc(0x2db)][_0x35c4dc(0x327)](_0x35c4dc(0x1c9));if(_0x32bbee)_0x32bbee[_0x35c4dc(0x2db)][_0x35c4dc(0x327)](_0x35c4dc(0x1c9));if(_0x112ad2)_0x112ad2['classList'][_0x35c4dc(0x327)](_0x35c4dc(0x1c9));if(_0x4e497f)_0x4e497f['classList'][_0x35c4dc(0x327)]('active');fileInputArea['classList']['remove'](_0x35c4dc(0x5e8)),topicInputArea[_0x35c4dc(0x2db)][_0x35c4dc(0x15d)](_0x35c4dc(0x5e8)),textInputArea[_0x35c4dc(0x2db)][_0x35c4dc(0x15d)]('hidden'),worksheetInputArea[_0x35c4dc(0x2db)][_0x35c4dc(0x15d)](_0x35c4dc(0x5e8));if(_0x366616)_0x366616[_0x35c4dc(0x2db)]['add'](_0x35c4dc(0x5e8));if(_0x74a7c0)_0x74a7c0[_0x35c4dc(0x2db)][_0x35c4dc(0x15d)](_0x35c4dc(0x5e8));if(_0x3e0402)_0x3e0402[_0x35c4dc(0x2db)]['add'](_0x35c4dc(0x5e8));}),worksheetTab[_0x2bc518(0x353)]('click',()=>{const _0x1e0074=_0x2bc518;worksheetTab[_0x1e0074(0x2db)][_0x1e0074(0x15d)](_0x1e0074(0x1c9)),topicTab[_0x1e0074(0x2db)][_0x1e0074(0x327)](_0x1e0074(0x1c9)),textTab[_0x1e0074(0x2db)][_0x1e0074(0x327)](_0x1e0074(0x1c9)),fileTab[_0x1e0074(0x2db)]['remove']('active');if(_0x32bbee)_0x32bbee[_0x1e0074(0x2db)]['remove'](_0x1e0074(0x1c9));if(_0x112ad2)_0x112ad2[_0x1e0074(0x2db)][_0x1e0074(0x327)](_0x1e0074(0x1c9));if(_0x4e497f)_0x4e497f[_0x1e0074(0x2db)]['remove']('active');worksheetInputArea[_0x1e0074(0x2db)]['remove'](_0x1e0074(0x5e8)),topicInputArea[_0x1e0074(0x2db)][_0x1e0074(0x15d)]('hidden'),textInputArea['classList'][_0x1e0074(0x15d)](_0x1e0074(0x5e8)),fileInputArea[_0x1e0074(0x2db)][_0x1e0074(0x15d)](_0x1e0074(0x5e8));if(_0x366616)_0x366616[_0x1e0074(0x2db)][_0x1e0074(0x15d)](_0x1e0074(0x5e8));if(_0x74a7c0)_0x74a7c0[_0x1e0074(0x2db)][_0x1e0074(0x15d)](_0x1e0074(0x5e8));if(_0x3e0402)_0x3e0402[_0x1e0074(0x2db)][_0x1e0074(0x15d)](_0x1e0074(0x5e8));});const _0x243757=document[_0x2bc518(0x38e)](_0x2bc518(0x8b2)),_0x1887f0=document[_0x2bc518(0x38e)](_0x2bc518(0x3e7));_0x243757&&_0x243757['addEventListener']('click',()=>{const _0x46e415=_0x2bc518;topicTab[_0x46e415(0x2db)][_0x46e415(0x327)]('active'),textTab[_0x46e415(0x2db)][_0x46e415(0x327)](_0x46e415(0x1c9)),fileTab['classList'][_0x46e415(0x327)](_0x46e415(0x1c9)),worksheetTab[_0x46e415(0x2db)]['remove'](_0x46e415(0x1c9));if(_0x32bbee)_0x32bbee[_0x46e415(0x2db)]['remove']('active');if(_0x112ad2)_0x112ad2['classList']['remove'](_0x46e415(0x1c9));if(_0x4e497f)_0x4e497f['classList']['remove'](_0x46e415(0x1c9));_0x243757[_0x46e415(0x2db)]['add'](_0x46e415(0x1c9)),topicInputArea[_0x46e415(0x2db)]['add'](_0x46e415(0x5e8)),textInputArea[_0x46e415(0x2db)]['add'](_0x46e415(0x5e8)),fileInputArea[_0x46e415(0x2db)][_0x46e415(0x15d)](_0x46e415(0x5e8)),worksheetInputArea[_0x46e415(0x2db)]['add'](_0x46e415(0x5e8));if(_0x366616)_0x366616[_0x46e415(0x2db)][_0x46e415(0x15d)](_0x46e415(0x5e8));if(_0x74a7c0)_0x74a7c0[_0x46e415(0x2db)]['add'](_0x46e415(0x5e8));if(_0x3e0402)_0x3e0402[_0x46e415(0x2db)]['add'](_0x46e415(0x5e8));_0x1887f0[_0x46e415(0x2db)][_0x46e415(0x327)](_0x46e415(0x5e8)),displayQuestionBank();});_0x32bbee&&(_0x32bbee[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x3d6fea=_0x2bc518;_0x32bbee[_0x3d6fea(0x2db)][_0x3d6fea(0x15d)](_0x3d6fea(0x1c9)),topicTab[_0x3d6fea(0x2db)][_0x3d6fea(0x327)](_0x3d6fea(0x1c9)),textTab[_0x3d6fea(0x2db)][_0x3d6fea(0x327)](_0x3d6fea(0x1c9)),fileTab['classList'][_0x3d6fea(0x327)]('active'),worksheetTab[_0x3d6fea(0x2db)][_0x3d6fea(0x327)](_0x3d6fea(0x1c9));if(_0x112ad2)_0x112ad2[_0x3d6fea(0x2db)][_0x3d6fea(0x327)](_0x3d6fea(0x1c9));if(_0x4e497f)_0x4e497f['classList']['remove']('active');_0x366616[_0x3d6fea(0x2db)][_0x3d6fea(0x327)](_0x3d6fea(0x5e8)),topicInputArea[_0x3d6fea(0x2db)]['add']('hidden'),textInputArea['classList'][_0x3d6fea(0x15d)](_0x3d6fea(0x5e8)),fileInputArea[_0x3d6fea(0x2db)][_0x3d6fea(0x15d)](_0x3d6fea(0x5e8)),worksheetInputArea[_0x3d6fea(0x2db)]['add'](_0x3d6fea(0x5e8));if(_0x74a7c0)_0x74a7c0[_0x3d6fea(0x2db)][_0x3d6fea(0x15d)]('hidden');if(_0x3e0402)_0x3e0402[_0x3d6fea(0x2db)][_0x3d6fea(0x15d)](_0x3d6fea(0x5e8));}),document[_0x2bc518(0x38e)]('generate-from-link-btn')[_0x2bc518(0x353)](_0x2bc518(0x38d),handleGenerateFromLink));_0x112ad2&&_0x112ad2[_0x2bc518(0x353)]('click',()=>{const _0x46bc8e=_0x2bc518;_0x112ad2[_0x46bc8e(0x2db)][_0x46bc8e(0x15d)]('active'),topicTab[_0x46bc8e(0x2db)][_0x46bc8e(0x327)](_0x46bc8e(0x1c9)),textTab[_0x46bc8e(0x2db)][_0x46bc8e(0x327)](_0x46bc8e(0x1c9)),fileTab[_0x46bc8e(0x2db)]['remove'](_0x46bc8e(0x1c9)),worksheetTab[_0x46bc8e(0x2db)][_0x46bc8e(0x327)](_0x46bc8e(0x1c9));if(_0x32bbee)_0x32bbee['classList'][_0x46bc8e(0x327)]('active');if(_0x243757)_0x243757['classList'][_0x46bc8e(0x327)]('active');if(_0x4e497f)_0x4e497f['classList']['remove'](_0x46bc8e(0x1c9));_0x74a7c0['classList']['remove'](_0x46bc8e(0x5e8)),topicInputArea[_0x46bc8e(0x2db)]['add'](_0x46bc8e(0x5e8)),textInputArea[_0x46bc8e(0x2db)][_0x46bc8e(0x15d)]('hidden'),fileInputArea[_0x46bc8e(0x2db)][_0x46bc8e(0x15d)](_0x46bc8e(0x5e8)),worksheetInputArea[_0x46bc8e(0x2db)][_0x46bc8e(0x15d)](_0x46bc8e(0x5e8));if(_0x366616)_0x366616['classList'][_0x46bc8e(0x15d)](_0x46bc8e(0x5e8));if(_0x1887f0)_0x1887f0[_0x46bc8e(0x2db)]['add'](_0x46bc8e(0x5e8));if(_0x3e0402)_0x3e0402[_0x46bc8e(0x2db)][_0x46bc8e(0x15d)](_0x46bc8e(0x5e8));});_0x4e497f&&_0x4e497f[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x3c4f3f=_0x2bc518;_0x4e497f[_0x3c4f3f(0x2db)][_0x3c4f3f(0x15d)](_0x3c4f3f(0x1c9)),topicTab['classList'][_0x3c4f3f(0x327)]('active'),textTab[_0x3c4f3f(0x2db)][_0x3c4f3f(0x327)](_0x3c4f3f(0x1c9)),fileTab[_0x3c4f3f(0x2db)]['remove'](_0x3c4f3f(0x1c9)),worksheetTab[_0x3c4f3f(0x2db)]['remove'](_0x3c4f3f(0x1c9));if(_0x32bbee)_0x32bbee[_0x3c4f3f(0x2db)][_0x3c4f3f(0x327)](_0x3c4f3f(0x1c9));if(_0x112ad2)_0x112ad2[_0x3c4f3f(0x2db)][_0x3c4f3f(0x327)](_0x3c4f3f(0x1c9));if(_0x243757)_0x243757[_0x3c4f3f(0x2db)][_0x3c4f3f(0x327)](_0x3c4f3f(0x1c9));_0x3e0402['classList']['remove']('hidden'),topicInputArea[_0x3c4f3f(0x2db)][_0x3c4f3f(0x15d)](_0x3c4f3f(0x5e8)),textInputArea[_0x3c4f3f(0x2db)][_0x3c4f3f(0x15d)](_0x3c4f3f(0x5e8)),fileInputArea['classList'][_0x3c4f3f(0x15d)](_0x3c4f3f(0x5e8)),worksheetInputArea[_0x3c4f3f(0x2db)][_0x3c4f3f(0x15d)](_0x3c4f3f(0x5e8));if(_0x366616)_0x366616[_0x3c4f3f(0x2db)]['add'](_0x3c4f3f(0x5e8));if(_0x74a7c0)_0x74a7c0[_0x3c4f3f(0x2db)][_0x3c4f3f(0x15d)](_0x3c4f3f(0x5e8));if(_0x1887f0)_0x1887f0[_0x3c4f3f(0x2db)][_0x3c4f3f(0x15d)]('hidden');});const _0x57473d=document['getElementById']('blueprint-upload-input'),_0x5d85dc=document[_0x2bc518(0x38e)]('generate-from-blueprint-btn');_0x57473d&&_0x57473d[_0x2bc518(0x353)]('change',_0x1dc133=>{const _0x4b2a7d=_0x2bc518;_0x1dc133[_0x4b2a7d(0x7c2)][_0x4b2a7d(0x4c9)]['length']>0x0?_0x5d85dc[_0x4b2a7d(0x5f4)]=![]:_0x5d85dc[_0x4b2a7d(0x5f4)]=!![];});_0x5d85dc&&_0x5d85dc[_0x2bc518(0x353)](_0x2bc518(0x38d),handleGenerateFromBlueprint);const _0x101ca3=document[_0x2bc518(0x38e)](_0x2bc518(0x8b9)),_0xef4968=document[_0x2bc518(0x38e)]('generate-from-parallel-test-btn');_0x101ca3&&_0x101ca3[_0x2bc518(0x353)](_0x2bc518(0x494),_0x17e363=>{const _0xe00695=_0x2bc518;_0xef4968['disabled']=_0x17e363[_0xe00695(0x7c2)][_0xe00695(0x4c9)][_0xe00695(0x890)]===0x0;});_0xef4968&&_0xef4968[_0x2bc518(0x353)](_0x2bc518(0x38d),handleGenerateParallelTest);loadQuizBtn[_0x2bc518(0x353)](_0x2bc518(0x38d),handleLoadQuiz),startQuizBtn[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x32e02a=_0x2bc518,_0x12ac0a=document[_0x32e02a(0x38e)](_0x32e02a(0x322));currentStudentName=_0x12ac0a[_0x32e02a(0x491)];if(!currentStudentName){showMessage(_0x32e02a(0x17c));return;}studentNameSelectionView[_0x32e02a(0x2db)][_0x32e02a(0x15d)](_0x32e02a(0x5e8)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2bc518(0x38e)](_0x2bc518(0x3c0))[_0x2bc518(0x353)](_0x2bc518(0x38d),showJoinGameView),document[_0x2bc518(0x38e)](_0x2bc518(0x5e1))[_0x2bc518(0x353)](_0x2bc518(0x38d),handleJoinLiveGame),document['getElementById'](_0x2bc518(0x7da))[_0x2bc518(0x353)]('click',()=>showView('student'));const _0x2733aa=()=>{const _0x588b78=_0x2bc518,_0xcc5d18=document[_0x588b78(0x38e)]('results-quiz-title')[_0x588b78(0x83f)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x588b78(0x18b)+(_0xcc5d18||_0x588b78(0x541));},_0x3cc9ec=document[_0x2bc518(0x38e)](_0x2bc518(0x6e0));_0x3cc9ec&&_0x3cc9ec[_0x2bc518(0x353)](_0x2bc518(0x182),_0x2a937b=>{const _0x4ea841=_0x2bc518,_0xfc4109=_0x2a937b['target']['value'][_0x4ea841(0x397)]()['trim'](),_0x644e23=document[_0x4ea841(0x38e)](_0x4ea841(0x360)),_0x2480ce=_0x644e23[_0x4ea841(0x175)]('.topic-category');_0x2480ce[_0x4ea841(0x813)](_0x49fc2b=>{const _0x7554df=_0x4ea841;let _0x3b356a=![];const _0x1dc5ed=_0x49fc2b['querySelectorAll'](_0x7554df(0x704));_0x1dc5ed['forEach'](_0x43c0d1=>{const _0x34a2e3=_0x7554df,_0x25a051=_0x43c0d1[_0x34a2e3(0x61d)](_0x34a2e3(0x820))[_0x34a2e3(0x83f)][_0x34a2e3(0x397)]();_0x25a051[_0x34a2e3(0x54a)](_0xfc4109)?(_0x43c0d1[_0x34a2e3(0x1d9)][_0x34a2e3(0x383)]='flex',_0x3b356a=!![]):_0x43c0d1[_0x34a2e3(0x1d9)][_0x34a2e3(0x383)]='none';}),_0x3b356a?_0x49fc2b[_0x7554df(0x1d9)][_0x7554df(0x383)]=_0x7554df(0x19f):_0x49fc2b[_0x7554df(0x1d9)]['display']=_0x7554df(0x4f2);});});document['getElementById']('export-image-btn')['addEventListener']('click',()=>exportTableAsImage('results-table-container',_0x2733aa())),document['getElementById'](_0x2bc518(0x557))[_0x2bc518(0x353)]('click',()=>exportTableAsPDF(_0x2bc518(0x64a),_0x2733aa())),document[_0x2bc518(0x38e)](_0x2bc518(0x525))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>exportTableAsWord(_0x2bc518(0x2c2),_0x2733aa())),document[_0x2bc518(0x38e)](_0x2bc518(0x5a1))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>exportTableAsExcel(_0x2bc518(0x64a),_0x2733aa()));const _0x1b06e3=()=>{const _0x492727=_0x2bc518,_0x315e58=document[_0x492727(0x38e)](_0x492727(0x3d9))[_0x492727(0x83f)][_0x492727(0x7af)](/[^a-z0-9]/gi,'_')[_0x492727(0x397)]();return _0x492727(0x5c3)+(_0x315e58||_0x492727(0x541));};document[_0x2bc518(0x38e)](_0x2bc518(0x534))['addEventListener'](_0x2bc518(0x38d),()=>exportTableAsImage(_0x2bc518(0x6c9),_0x1b06e3())),document['getElementById'](_0x2bc518(0x670))['addEventListener'](_0x2bc518(0x38d),()=>exportTableAsPDF(_0x2bc518(0x687),_0x1b06e3())),document[_0x2bc518(0x38e)]('export-leaderboard-word-btn')[_0x2bc518(0x353)]('click',()=>exportTableAsWord(_0x2bc518(0x6c9),_0x1b06e3())),document['getElementById'](_0x2bc518(0x80e))[_0x2bc518(0x353)]('click',()=>exportTableAsExcel(_0x2bc518(0x687),_0x1b06e3())),projectQuizzesList[_0x2bc518(0x353)](_0x2bc518(0x38d),async _0x330746=>{const _0x1e3a55=_0x2bc518,_0xeb03a0=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)](_0x1e3a55(0x59f)),_0x231423=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)]('.generate-post-test-btn'),_0x143528=_0x330746['target']['closest'](_0x1e3a55(0x5b4)),_0x34e5b7=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)](_0x1e3a55(0x716)),_0x3ed8c8=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)]('.star-quiz-btn'),_0x24026d=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)](_0x1e3a55(0x523)),_0x2c683c=_0x330746['target'][_0x1e3a55(0x1ef)](_0x1e3a55(0x357)),_0x443fd9=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)](_0x1e3a55(0x783)),_0x5f296f=_0x330746['target'][_0x1e3a55(0x1ef)](_0x1e3a55(0x69e)),_0x57ac4f=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)](_0x1e3a55(0x7b9)),_0x4560c6=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)]('.parallel-quiz-btn'),_0x524025=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)](_0x1e3a55(0x6d3)),_0x12d926=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)](_0x1e3a55(0x4a2)),_0x636727=_0x330746['target'][_0x1e3a55(0x1ef)](_0x1e3a55(0x7ec)),_0x1d4e6f=_0x330746[_0x1e3a55(0x7c2)]['closest']('.start-presentation-list-btn'),_0x5e5517=_0x330746['target'][_0x1e3a55(0x1ef)]('.admin-try-quiz-list-btn'),_0x3cb0ab=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)](_0x1e3a55(0x6eb)),_0x43e64b=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)](_0x1e3a55(0x43b)),_0x387f25=_0x330746[_0x1e3a55(0x7c2)][_0x1e3a55(0x1ef)](_0x1e3a55(0x63b)),_0x30c551=_0x330746['target'][_0x1e3a55(0x1ef)](_0x1e3a55(0x65d)),_0x5cea41=_0x330746[_0x1e3a55(0x7c2)]['closest'](_0x1e3a55(0x474));if(_0x5cea41){const _0x4af169=_0x5cea41[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)],_0x4af5db=document[_0x1e3a55(0x38e)](_0x1e3a55(0x619)+_0x4af169);_0x4af5db&&_0x4af5db[_0x1e3a55(0x2db)][_0x1e3a55(0x3bb)](_0x1e3a55(0x5e8));}else{if(_0x231423){const _0x2cbc29=_0x231423[_0x1e3a55(0x1cf)]['quizId'],_0x279dd9=allQuizzes[_0x1e3a55(0x172)](_0x321f65=>_0x321f65['id']===_0x2cbc29);_0x279dd9&&handleGenerateParallelPostTest(_0x279dd9);}else{if(_0x143528)handleCompareResults(_0x143528[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)],_0x143528[_0x1e3a55(0x1cf)][_0x1e3a55(0x161)]);else{if(_0x34e5b7){const _0x34b87b=_0x34e5b7[_0x1e3a55(0x1cf)]['quizId'],_0x8a2ea3=allQuizzes['find'](_0x5118b4=>_0x5118b4['id']===_0x34b87b);_0x8a2ea3&&_0x8a2ea3[_0x1e3a55(0x82c)]?(displayLessonPlan(_0x8a2ea3[_0x1e3a55(0x82c)],_0x8a2ea3),showConfirmation(_0x1e3a55(0x770),()=>handleGenerateLessonPlan(_0x34b87b)),document['getElementById'](_0x1e3a55(0x205))['querySelector']('h3')[_0x1e3a55(0x83f)]=_0x1e3a55(0x809),document[_0x1e3a55(0x38e)](_0x1e3a55(0x7ba))[_0x1e3a55(0x83f)]=_0x1e3a55(0x82d)):handleGenerateLessonPlan(_0x34b87b);}else{if(_0x3ed8c8)handleToggleStarQuiz(_0x3ed8c8[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)]);else{if(_0x24026d)copyTextToClipboard(_0x24026d[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)],_0x1e3a55(0x7de));else{if(_0x2c683c)handleOpenQuizEditor(_0x2c683c['dataset'][_0x1e3a55(0x1f3)]);else{if(_0x443fd9)handleQuizSettings(_0x443fd9[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)]);else{if(_0x5f296f)handleDuplicateQuiz(_0x5f296f['dataset']['quizId']);else{if(_0x57ac4f)handleRenameQuiz(_0x57ac4f[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)],_0x57ac4f['dataset'][_0x1e3a55(0x76d)]);else{if(_0x4560c6){const _0x583b68=_0x4560c6[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)],_0x289902=allQuizzes[_0x1e3a55(0x172)](_0x1df25d=>_0x1df25d['id']===_0x583b68);_0x289902&&handleGenerateParallelFromBank(_0x289902);}else{if(_0x524025)handleMoveQuiz(_0x524025[_0x1e3a55(0x1cf)]['quizId']);else{if(_0x12d926)handleManualQuizPairing(_0x12d926[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)]);else{if(_0x636727)handleUnpairQuiz(_0x636727[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)]);else{if(_0x1d4e6f){const _0x148a12=_0x1d4e6f[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)],_0x1fcea3=allQuizzes['find'](_0x4a02f4=>_0x4a02f4['id']===_0x148a12);if(_0x1fcea3)startPresentation(_0x1fcea3);}else{if(_0x5e5517){const _0x5ab23e=_0x5e5517[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)],_0x43f0b1=allQuizzes[_0x1e3a55(0x172)](_0x41e0de=>_0x41e0de['id']===_0x5ab23e);_0x43f0b1&&(currentQuizData=_0x43f0b1,startAdminTest());}else{if(_0x3cb0ab)handleStartLiveRace(_0x3cb0ab['dataset'][_0x1e3a55(0x1f3)]);else{if(_0x43e64b)actionTargetId=_0x43e64b[_0x1e3a55(0x1cf)][_0x1e3a55(0x1f3)],document[_0x1e3a55(0x38e)](_0x1e3a55(0x606))[_0x1e3a55(0x2db)]['remove'](_0x1e3a55(0x5e8));else{if(_0x387f25)showConfirmation(_0x1e3a55(0x8cf)+_0x387f25[_0x1e3a55(0x1cf)][_0x1e3a55(0x76d)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x387f25['dataset'][_0x1e3a55(0x1f3)]));else{if(_0x30c551)handleQuizStatus(_0x30c551['dataset'][_0x1e3a55(0x1f3)]);else _0xeb03a0&&showQuizDetailView(_0xeb03a0['dataset']['quizId']);}}}}}}}}}}}}}}}}}}}}),document[_0x2bc518(0x38e)]('quiz-leaderboard-table')[_0x2bc518(0x61d)](_0x2bc518(0x235))['addEventListener']('click',_0x3f077f=>{const _0x3b54ce=_0x2bc518,_0x5e8095=_0x3f077f[_0x3b54ce(0x7c2)]['closest'](_0x3b54ce(0x886));if(!_0x5e8095||!_0x5e8095[_0x3b54ce(0x1cf)][_0x3b54ce(0x773)])return;const _0x13d939=_0x5e8095['dataset'][_0x3b54ce(0x773)];if(quizLeaderboardSortBy===_0x13d939)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x3b54ce(0x7bd)?_0x3b54ce(0x686):_0x3b54ce(0x7bd);else{quizLeaderboardSortBy=_0x13d939;const _0x520cd0=[_0x3b54ce(0x6f4)];quizLeaderboardSortOrder=_0x520cd0['includes'](_0x13d939)?'asc':_0x3b54ce(0x686);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x2bc518(0x38e)](_0x2bc518(0x45a))[_0x2bc518(0x353)]('click',closePresentation),document[_0x2bc518(0x38e)](_0x2bc518(0x571))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x2bc518(0x1d6))[_0x2bc518(0x353)]('click',()=>{const _0x3292f2=_0x2bc518;currentQuizData[_0x3292f2(0x1f8)]&&currentPresentationSlide<currentQuizData['questions']['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x2bc518(0x353)](_0x2bc518(0x4e0),()=>{const _0x12e5b7=_0x2bc518;!document[_0x12e5b7(0x812)]&&(presentationModal['style'][_0x12e5b7(0x383)]=_0x12e5b7(0x4f2));}),document[_0x2bc518(0x38e)](_0x2bc518(0x672))['addEventListener']('click',handleDeleteAllStudents),studentList[_0x2bc518(0x353)](_0x2bc518(0x38d),_0x5b2790=>{const _0x1fdb8a=_0x2bc518,_0x54aeee=_0x5b2790[_0x1fdb8a(0x7c2)][_0x1fdb8a(0x1ef)](_0x1fdb8a(0x885));if(_0x54aeee){const _0x141bfe=_0x54aeee['dataset']['studentName'];handleDeleteStudent(_0x141bfe);}}),document[_0x2bc518(0x38e)](_0x2bc518(0x313))[_0x2bc518(0x353)]('click',handleGenerateFromFileClick),fileUploadInput[_0x2bc518(0x353)](_0x2bc518(0x494),_0x5cdb8e=>{const _0x5ed522=_0x2bc518,_0x2337d2=_0x5cdb8e['target']['files'][0x0],_0x55a180=document['getElementById'](_0x5ed522(0x313));_0x2337d2?(selectedFile=_0x2337d2,_0x55a180[_0x5ed522(0x5f4)]=![]):(selectedFile=null,_0x55a180['disabled']=!![]);}),document['getElementById'](_0x2bc518(0x55a))[_0x2bc518(0x353)]('change',_0x25c3e5=>{const _0x7ad997=_0x2bc518,_0x53a74f=document[_0x7ad997(0x38e)]('timer-duration-container'),_0x28c6c8=document[_0x7ad997(0x38e)](_0x7ad997(0x270)),_0x536ed5=document['getElementById'](_0x7ad997(0x6bf));_0x25c3e5[_0x7ad997(0x7c2)]['value']===_0x7ad997(0x4f2)?_0x53a74f[_0x7ad997(0x2db)][_0x7ad997(0x15d)]('hidden'):(_0x53a74f[_0x7ad997(0x2db)][_0x7ad997(0x327)](_0x7ad997(0x5e8)),_0x25c3e5['target'][_0x7ad997(0x491)]===_0x7ad997(0x141)?(_0x28c6c8[_0x7ad997(0x83f)]=_0x7ad997(0x8a8),_0x536ed5[_0x7ad997(0x491)]='10'):(_0x28c6c8['textContent']=_0x7ad997(0x81b),_0x536ed5[_0x7ad997(0x491)]='30'));}),document[_0x2bc518(0x38e)](_0x2bc518(0x288))['addEventListener'](_0x2bc518(0x494),_0x4c27c0=>{const _0x305093=_0x2bc518,_0x401637=document[_0x305093(0x38e)]('num-choices-container'),_0x31187d=_0x4c27c0[_0x305093(0x7c2)]['value'],_0x369591=document['querySelector'](_0x305093(0x203)),_0x5c9d42=document[_0x305093(0x38e)](_0x305093(0x5e9)),_0x6b7c78=document['getElementById'](_0x305093(0x18f));_0x31187d===_0x305093(0x710)?_0x369591[_0x305093(0x83f)]='จำนวนคู่:':_0x369591[_0x305093(0x83f)]='จำนวนข้อ:',_0x31187d===_0x305093(0x4a9)||_0x31187d===_0x305093(0x1da)||_0x31187d==='mixed'?_0x401637[_0x305093(0x2db)][_0x305093(0x327)](_0x305093(0x5e8)):_0x401637[_0x305093(0x2db)][_0x305093(0x15d)](_0x305093(0x5e8)),_0x5c9d42[_0x305093(0x393)]=_0x6b7c78[_0x305093(0x491)];}),document[_0x2bc518(0x38e)]('num-questions')[_0x2bc518(0x353)](_0x2bc518(0x182),_0x4a84ec=>{const _0x137af1=_0x2bc518;document['getElementById'](_0x137af1(0x5e9))[_0x137af1(0x393)]=_0x4a84ec[_0x137af1(0x7c2)][_0x137af1(0x491)];}),document[_0x2bc518(0x38e)](_0x2bc518(0x277))[_0x2bc518(0x353)]('change',_0x5d3964=>{const _0x2e474c=_0x2bc518,_0x551acf=document[_0x2e474c(0x38e)](_0x2e474c(0x33a)),_0x117b95=document['getElementById']('modal-timer-duration-label'),_0x29cd24=document[_0x2e474c(0x38e)]('modal-timer-duration-input');_0x5d3964[_0x2e474c(0x7c2)][_0x2e474c(0x491)]===_0x2e474c(0x4f2)?_0x551acf['classList'][_0x2e474c(0x15d)](_0x2e474c(0x5e8)):(_0x551acf[_0x2e474c(0x2db)][_0x2e474c(0x327)](_0x2e474c(0x5e8)),_0x5d3964[_0x2e474c(0x7c2)][_0x2e474c(0x491)]===_0x2e474c(0x141)?_0x117b95[_0x2e474c(0x83f)]='ระยะเวลา\x20(นาที):':_0x117b95[_0x2e474c(0x83f)]='ระยะเวลา\x20(วินาที):');}),document['getElementById'](_0x2bc518(0x42d))['addEventListener'](_0x2bc518(0x38d),()=>{const _0x3937f9=_0x2bc518;document[_0x3937f9(0x38e)](_0x3937f9(0x30a))['classList']['add'](_0x3937f9(0x5e8));}),document[_0x2bc518(0x38e)]('cancel-quiz-edits-btn-footer')[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x11320b=_0x2bc518;document[_0x11320b(0x38e)](_0x11320b(0x30a))[_0x11320b(0x2db)][_0x11320b(0x15d)](_0x11320b(0x5e8));}),document[_0x2bc518(0x38e)](_0x2bc518(0x634))['addEventListener'](_0x2bc518(0x38d),handleVerifyAnswersInEditor),document['getElementById'](_0x2bc518(0x632))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x18e6ba=_0x2bc518;document[_0x18e6ba(0x38e)]('quiz-editor-modal')[_0x18e6ba(0x2db)][_0x18e6ba(0x15d)](_0x18e6ba(0x5e8)),showConfirmation(_0x18e6ba(0x44f),handleSaveChanges);}),document['getElementById']('auto-fix-latex-btn')[_0x2bc518(0x353)]('click',handleAutoFixLatex);const _0x333ebe=document[_0x2bc518(0x38e)](_0x2bc518(0x555));_0x333ebe&&_0x333ebe['addEventListener'](_0x2bc518(0x38d),_0x124682=>{const _0x3f9daa=_0x2bc518,_0x32aee3=_0x124682[_0x3f9daa(0x7c2)][_0x3f9daa(0x1ef)](_0x3f9daa(0x711));if(_0x32aee3){const _0x4f4963=_0x32aee3['closest'](_0x3f9daa(0x6a4)),_0x3f264b=parseInt(_0x4f4963[_0x3f9daa(0x1cf)][_0x3f9daa(0x598)],0xa);handleRegenerateQuestionInEditor(_0x3f264b);}});document[_0x2bc518(0x38e)](_0x2bc518(0x826))[_0x2bc518(0x353)](_0x2bc518(0x38d),openQuizBankModal),document['getElementById'](_0x2bc518(0x2c6))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x1f55b5=_0x2bc518;document['getElementById'](_0x1f55b5(0x1df))['classList']['add'](_0x1f55b5(0x5e8));}),document[_0x2bc518(0x38e)](_0x2bc518(0x719))[_0x2bc518(0x353)](_0x2bc518(0x182),_0x16ce45=>renderQuizBankList(_0x16ce45['target'][_0x2bc518(0x491)]));const _0x4a8eb1=document[_0x2bc518(0x38e)](_0x2bc518(0x360));if(_0x4a8eb1){let _0x359df9=null;_0x4a8eb1[_0x2bc518(0x353)](_0x2bc518(0x38d),_0xf52584=>{const _0x57dbdd=_0x2bc518,_0x3775ec=_0xf52584['target'],_0x502a17=_0x3775ec[_0x57dbdd(0x1ef)]('.edit-custom-topic-btn'),_0x143b1c=_0x3775ec[_0x57dbdd(0x1ef)]('.delete-custom-topic-btn'),_0x478033=_0x3775ec[_0x57dbdd(0x1ef)](_0x57dbdd(0x1c1)),_0x229c28=_0x3775ec['closest'](_0x57dbdd(0x20a));if(_0x143b1c){_0xf52584[_0x57dbdd(0x3a5)]();const _0x3c33e1=_0x143b1c[_0x57dbdd(0x1cf)]['id'],_0x449420=_0x143b1c['closest'](_0x57dbdd(0x162))['querySelector'](_0x57dbdd(0x820))[_0x57dbdd(0x83f)];showConfirmation(_0x57dbdd(0x3f0)+_0x449420+'\x22?',()=>handleDeleteCustomTopic(_0x3c33e1));}else{if(_0x502a17){_0xf52584['preventDefault']();_0x359df9&&toggleTopicEditMode(_0x359df9,![]);const _0x59af0d=_0x502a17[_0x57dbdd(0x1ef)]('[data-topic-container-id]');_0x359df9=_0x59af0d,toggleTopicEditMode(_0x59af0d,!![]);}else{if(_0x478033){_0xf52584['preventDefault']();const _0x50d362=_0x478033['dataset']['id'],_0x214083=_0x478033[_0x57dbdd(0x1ef)](_0x57dbdd(0x76b)),_0x243cc3=_0x214083[_0x57dbdd(0x61d)]('.topic-name-input')['value'];handleUpdateCustomTopic(_0x50d362,_0x243cc3),_0x359df9=null;}else{if(_0x229c28){_0xf52584['preventDefault']();const _0xe587e3=_0x229c28[_0x57dbdd(0x1ef)](_0x57dbdd(0x76b));toggleTopicEditMode(_0xe587e3,![]),_0x359df9=null;}}}}}),document[_0x2bc518(0x38e)](_0x2bc518(0x589))[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x478cf7=_0x2bc518;document['getElementById']('lesson-plan-modal')['classList']['add'](_0x478cf7(0x5e8));}),document['getElementById'](_0x2bc518(0x206))['addEventListener'](_0x2bc518(0x38d),()=>{const _0x51ad83=_0x2bc518;document[_0x51ad83(0x38e)](_0x51ad83(0x2d9))['classList'][_0x51ad83(0x15d)](_0x51ad83(0x5e8));}),document[_0x2bc518(0x38e)](_0x2bc518(0x638))[_0x2bc518(0x353)](_0x2bc518(0x38d),handleExportLessonPDF);}document['getElementById'](_0x2bc518(0x696))['addEventListener']('click',()=>{const _0x555791=_0x2bc518;document[_0x555791(0x38e)]('comparison-modal')[_0x555791(0x2db)][_0x555791(0x15d)]('hidden');}),document[_0x2bc518(0x38e)]('close-comparison-modal-footer-btn')[_0x2bc518(0x353)](_0x2bc518(0x38d),()=>{const _0x160c6f=_0x2bc518;document[_0x160c6f(0x38e)](_0x160c6f(0x8a7))[_0x160c6f(0x2db)][_0x160c6f(0x15d)](_0x160c6f(0x5e8));}),setupComparisonModalTabs(),document[_0x2bc518(0x487)][_0x2bc518(0x353)]('click',function(_0x552b96){const _0x31a801=_0x2bc518;if(_0x552b96['target']['classList'][_0x31a801(0x50a)]('practice-topic-btn')){const _0x348cf2=unescape(_0x552b96[_0x31a801(0x7c2)]['dataset'][_0x31a801(0x76d)]);startSkillPractice(_0x348cf2);}}),document[_0x2bc518(0x38e)]('scores-tab-content')[_0x2bc518(0x353)](_0x2bc518(0x38d),_0x4fdf61=>{const _0x540bf8=_0x2bc518,_0xe5a12a=_0x4fdf61[_0x540bf8(0x7c2)]['closest'](_0x540bf8(0x461));if(_0xe5a12a){const _0x5d4e44=_0xe5a12a[_0x540bf8(0x1cf)][_0x540bf8(0x6f4)];handleDeleteSubmission(_0x5d4e44);}});}async function showStudentProgressView(){const _0x1c27d3=_0x1bb21e;studentInitialView[_0x1c27d3(0x2db)]['add'](_0x1c27d3(0x5e8)),document['getElementById'](_0x1c27d3(0x34e))[_0x1c27d3(0x2db)][_0x1c27d3(0x327)](_0x1c27d3(0x5e8));const _0x5c1ea0=document[_0x1c27d3(0x38e)](_0x1c27d3(0x2c0)),_0x4f5106=document[_0x1c27d3(0x38e)](_0x1c27d3(0x8a5)),_0x361cb4=document[_0x1c27d3(0x38e)](_0x1c27d3(0x3f7));_0x361cb4[_0x1c27d3(0x7ac)]=_0x1c27d3(0x164),_0x4f5106[_0x1c27d3(0x7ac)]=_0x1c27d3(0x39a),_0x4f5106[_0x1c27d3(0x5f4)]=!![],_0x5c1ea0[_0x1c27d3(0x7ac)]=_0x1c27d3(0x74f);if(allProjects['length']===0x0){const _0x2b8497=collection(db,_0x1c27d3(0x736)+appId+'/public/data/projects'),_0x46bab5=await getDocs(_0x2b8497);allProjects=_0x46bab5['docs'][_0x1c27d3(0x796)](_0x3b3be3=>({'id':_0x3b3be3['id'],..._0x3b3be3['data']()}));}const _0x57cc1c=allProjects[_0x1c27d3(0x5d6)](_0x582b12=>_0x582b12['settings']?.['showInStudentDashboard']!==![]);_0x57cc1c[_0x1c27d3(0x773)]((_0x1fef6a,_0x34733e)=>_0x1fef6a[_0x1c27d3(0x5fe)]['localeCompare'](_0x34733e[_0x1c27d3(0x5fe)],'th')),_0x5c1ea0['innerHTML']=_0x1c27d3(0x301)+_0x57cc1c[_0x1c27d3(0x796)](_0x3487c5=>_0x1c27d3(0x23d)+_0x3487c5['id']+'\x22>'+_0x3487c5['projectName']+_0x1c27d3(0x6ec))[_0x1c27d3(0x4d7)](''),_0x5c1ea0[_0x1c27d3(0x51d)]=()=>{const _0x250870=_0x1c27d3,_0x2edfdd=_0x4f5106[_0x250870(0x491)],_0x391320=_0x5c1ea0[_0x250870(0x491)];_0x4f5106['disabled']=!![],_0x4f5106['innerHTML']=_0x250870(0x39a),_0x361cb4[_0x250870(0x7ac)]=_0x250870(0x8c3);if(!_0x391320)return;const _0x48c5e0=allProjects[_0x250870(0x172)](_0x4e7fe4=>_0x4e7fe4['id']===_0x391320);if(!_0x48c5e0||!_0x48c5e0['students'])return;const _0x420f3a=()=>{const _0x3bd77e=_0x250870;_0x4f5106[_0x3bd77e(0x7ac)]=_0x3bd77e(0x39a)+_0x48c5e0[_0x3bd77e(0x2b6)][_0x3bd77e(0x796)](_0x2f5d0e=>_0x3bd77e(0x23d)+_0x2f5d0e+'\x22>'+_0x2f5d0e+'</option>')[_0x3bd77e(0x4d7)](''),_0x4f5106[_0x3bd77e(0x5f4)]=![];const _0x3e45f8=Array['from'](_0x4f5106[_0x3bd77e(0x6e3)])[_0x3bd77e(0x796)](_0x3b0154=>_0x3b0154[_0x3bd77e(0x491)]);if(_0x2edfdd&&_0x3e45f8[_0x3bd77e(0x54a)](_0x2edfdd))_0x4f5106[_0x3bd77e(0x491)]=_0x2edfdd,_0x4f5106[_0x3bd77e(0x51c)](new Event(_0x3bd77e(0x494)));else _0x48c5e0[_0x3bd77e(0x2b6)]['length']===0x1&&(_0x4f5106['value']=_0x48c5e0[_0x3bd77e(0x2b6)][0x0],_0x4f5106[_0x3bd77e(0x51c)](new Event(_0x3bd77e(0x494))));};if(_0x48c5e0[_0x250870(0x28e)]?.[_0x250870(0x15f)]){if(sessionStorage['getItem']('authed_project_'+_0x391320)===_0x250870(0x8b5)){_0x420f3a();return;}const _0x9e26b1=document[_0x250870(0x38e)](_0x250870(0x4df)),_0x46e99c=document['getElementById'](_0x250870(0x852)),_0x2dcaa3=document[_0x250870(0x38e)](_0x250870(0x4b1)),_0x987768=document[_0x250870(0x38e)](_0x250870(0x382)),_0x2782a7=document['getElementById'](_0x250870(0x241));document[_0x250870(0x38e)](_0x250870(0x378))[_0x250870(0x83f)]=_0x250870(0x3d3)+_0x48c5e0['projectName'],_0x987768['value']='',_0x2782a7[_0x250870(0x2db)][_0x250870(0x15d)](_0x250870(0x5e8)),_0x9e26b1['classList'][_0x250870(0x327)]('hidden');const _0x11a0aa=()=>{const _0x2f193f=_0x250870,_0x50a888=_0x987768[_0x2f193f(0x491)]['trim']();_0x50a888===_0x48c5e0[_0x2f193f(0x28e)][_0x2f193f(0x2f2)]?(sessionStorage[_0x2f193f(0x216)](_0x2f193f(0x87b)+_0x391320,_0x2f193f(0x8b5)),_0x9e26b1[_0x2f193f(0x2db)][_0x2f193f(0x15d)](_0x2f193f(0x5e8)),_0x420f3a(),_0x46e99c['removeEventListener']('click',_0x11a0aa)):_0x2782a7[_0x2f193f(0x2db)]['remove'](_0x2f193f(0x5e8));};_0x46e99c['onclick']=_0x11a0aa,_0x2dcaa3[_0x250870(0x894)]=()=>{const _0x1979cd=_0x250870;_0x9e26b1['classList']['add']('hidden'),_0x5c1ea0['value']='',_0x46e99c[_0x1979cd(0x310)](_0x1979cd(0x38d),_0x11a0aa);};}else _0x420f3a();},_0x4f5106['onchange']=()=>{const _0x13ab3c=_0x1c27d3,_0xcc273e=_0x5c1ea0[_0x13ab3c(0x491)],_0xd88567=_0x4f5106[_0x13ab3c(0x491)];_0xcc273e&&_0xd88567&&renderStudentProgressDashboard(_0xcc273e,_0xd88567);};}async function renderStudentProgressDashboard(_0x340c61,_0x20a9a9){const _0x331147=_0x1bb21e,_0xb155b1=document[_0x331147(0x38e)](_0x331147(0x3f7));_0xb155b1[_0x331147(0x7ac)]=_0x331147(0x80f);try{const _0x49001c=collection(db,_0x331147(0x736)+appId+_0x331147(0x59a)),_0x50d180=query(_0x49001c,where(_0x331147(0x79a),'==',_0x340c61)),_0x21e0b2=await getDocs(_0x50d180),_0xf4ec52=_0x21e0b2[_0x331147(0x601)][_0x331147(0x796)](_0x47a7d5=>({'id':_0x47a7d5['id'],..._0x47a7d5[_0x331147(0x794)]()})),_0x57a66d=_0xf4ec52['map'](_0x547609=>getDoc(doc(db,_0x331147(0x736)+appId+_0x331147(0x190)+_0x547609['id']+_0x331147(0x81a),_0x20a9a9))),_0xc1c6e5=await Promise[_0x331147(0x1e6)](_0x57a66d),_0x46e4=_0xc1c6e5[_0x331147(0x5d6)](_0x3993e4=>_0x3993e4[_0x331147(0x62a)]())[_0x331147(0x796)](_0x29421c=>({'quizId':_0x29421c['ref'][_0x331147(0x2e3)][_0x331147(0x2e3)]['id'],..._0x29421c[_0x331147(0x794)]()}));if(_0x46e4[_0x331147(0x890)]===0x0){_0xb155b1['innerHTML']=_0x331147(0x3fc);return;}let _0x45cca7=_0x331147(0x3b5);_0x46e4[_0x331147(0x813)](_0x4c11b5=>{const _0x54f038=_0x331147,_0x38150d=_0xf4ec52['find'](_0x190d78=>_0x190d78['id']===_0x4c11b5[_0x54f038(0x1f3)]),_0x22e42b=_0x38150d['settings']?.[_0x54f038(0x86f)]||'show_results_and_answers',_0x5d7697=_0x38150d[_0x54f038(0x28e)]?.[_0x54f038(0x6bd)]??0x0,_0x2554ef=_0x4c11b5[_0x54f038(0x3c5)]>=_0x5d7697;let _0x5afe27='',_0x125821=_0x54f038(0x346);switch(_0x22e42b){case _0x54f038(0x53c):case _0x54f038(0x3e0):_0x125821=_0x2554ef?_0x54f038(0x893):_0x54f038(0x5b9),_0x5afe27=_0x54f038(0x6d2)+(_0x2554ef?'text-green-700':_0x54f038(0x86a))+'\x22>'+_0x4c11b5[_0x54f038(0x3c5)]+_0x54f038(0x199)+_0x4c11b5[_0x54f038(0x25f)]+_0x54f038(0x396)+(_0x2554ef?_0x54f038(0x1a6):_0x54f038(0x67c))+'\x22>'+(_0x2554ef?_0x54f038(0x6f1):'ไม่ผ่าน')+_0x54f038(0x371);break;case _0x54f038(0x24c):_0x125821=_0x2554ef?'bg-green-50':_0x54f038(0x5b9),_0x5afe27='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x2554ef?_0x54f038(0x1a6):_0x54f038(0x67c))+'\x22>'+(_0x2554ef?'ผ่าน':_0x54f038(0x32a))+_0x54f038(0x371);break;case'manual_release':_0x125821=_0x54f038(0x376),_0x5afe27='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x45cca7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x125821+_0x54f038(0x8be)+_0x38150d[_0x54f038(0x76d)]+_0x54f038(0x5d8)+_0x4c11b5['attempts'][_0x54f038(0x890)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x4c11b5['latestSubmittedAt'])['toLocaleDateString']('th-TH')+_0x54f038(0x305)+_0x5afe27+_0x54f038(0x8bb);}),_0x45cca7+='</div>',_0xb155b1[_0x331147(0x7ac)]=_0x45cca7;}catch(_0x1656e9){console['error'](_0x331147(0x665),_0x1656e9),_0xb155b1[_0x331147(0x7ac)]=_0x331147(0x316);}}function setupStudentProgressListeners(){const _0xc28a0f=_0x1bb21e;document['getElementById']('view-my-progress-btn')[_0xc28a0f(0x353)]('click',showStudentProgressView),document[_0xc28a0f(0x38e)]('back-to-student-home-btn')[_0xc28a0f(0x353)](_0xc28a0f(0x38d),()=>{const _0x4d898a=_0xc28a0f;document[_0x4d898a(0x38e)]('student-progress-view')['classList'][_0x4d898a(0x15d)]('hidden'),document[_0x4d898a(0x38e)](_0x4d898a(0x239))[_0x4d898a(0x2db)][_0x4d898a(0x327)](_0x4d898a(0x5e8));});}async function startSkillPractice(_0x4560fb){const _0x5bbbf7=_0x1bb21e;studentResultArea[_0x5bbbf7(0x2db)][_0x5bbbf7(0x15d)](_0x5bbbf7(0x5e8)),studentQuizArea[_0x5bbbf7(0x7ac)]=_0x5bbbf7(0x439),studentQuizArea[_0x5bbbf7(0x2db)][_0x5bbbf7(0x327)](_0x5bbbf7(0x5e8));try{const _0x3dfbda=await getStandardizedTopic(_0x4560fb);console[_0x5bbbf7(0x7e7)](_0x5bbbf7(0x611)+_0x4560fb+_0x5bbbf7(0x88b)+_0x3dfbda+'\x22'),studentQuizArea[_0x5bbbf7(0x61d)]('p')['textContent']=_0x5bbbf7(0x7e2)+_0x3dfbda+_0x5bbbf7(0x5cb);const _0x4b78bc=collection(db,'artifacts/'+appId+_0x5bbbf7(0x761)),_0x560a59=query(_0x4b78bc,where('topic','==',_0x3dfbda)),_0x420b38=await getDocs(_0x560a59);if(_0x420b38[_0x5bbbf7(0x601)][_0x5bbbf7(0x890)]>=0x3){console[_0x5bbbf7(0x7e7)](_0x5bbbf7(0x560)+_0x420b38[_0x5bbbf7(0x601)][_0x5bbbf7(0x890)]+_0x5bbbf7(0x57c)+_0x3dfbda+_0x5bbbf7(0x682));let _0x57f455=_0x420b38[_0x5bbbf7(0x601)][_0x5bbbf7(0x796)](_0x42dae6=>_0x42dae6['data']());shuffleArray(_0x57f455);const _0x1f8b0c={'topic':_0x3dfbda,'questions':_0x57f455[_0x5bbbf7(0x2e4)](0x0,0x3)};displaySkillPracticeDrill(_0x1f8b0c);}else{console[_0x5bbbf7(0x7e7)](_0x5bbbf7(0x8e8)+_0x3dfbda+_0x5bbbf7(0x293));const _0x23c7bc=await generatePracticeQuestions(_0x3dfbda);await saveDrillToPracticeBank(_0x23c7bc,_0x3dfbda),displaySkillPracticeDrill(_0x23c7bc);}}catch(_0x23f555){console[_0x5bbbf7(0x146)](_0x5bbbf7(0x458),_0x23f555),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea['classList'][_0x5bbbf7(0x15d)](_0x5bbbf7(0x5e8)),studentResultArea['classList'][_0x5bbbf7(0x327)](_0x5bbbf7(0x5e8));}}async function saveDrillToPracticeBank(_0x524204,_0x174892){const _0x3b10d5=_0x1bb21e,_0x39a805=collection(db,'artifacts/'+appId+_0x3b10d5(0x761)),_0x4131e7=writeBatch(db);_0x524204[_0x3b10d5(0x1f8)][_0x3b10d5(0x813)](_0x57ac79=>{const _0x95163=_0x3b10d5,_0x3efd21=doc(_0x39a805);_0x4131e7[_0x95163(0x6b2)](_0x3efd21,{'topic':_0x174892,'questionText':_0x57ac79['questionText'],'options':_0x57ac79[_0x95163(0x6e3)],'correctAnswerIndex':_0x57ac79[_0x95163(0x420)],'explanation':_0x57ac79[_0x95163(0x2f5)],'createdAt':serverTimestamp()});});try{await _0x4131e7[_0x3b10d5(0x78c)](),console[_0x3b10d5(0x7e7)](_0x3b10d5(0x7ca)+_0x524204['questions'][_0x3b10d5(0x890)]+_0x3b10d5(0x219));}catch(_0x1324f2){console[_0x3b10d5(0x146)](_0x3b10d5(0x19b),_0x1324f2);}}async function getStandardizedTopic(_0x17eb04){const _0xa27809=_0x1bb21e,_0x3a6e9d=_0xa27809(0x841)+_0x17eb04+_0xa27809(0x425),_0x26209b={'type':_0xa27809(0x7f2),'properties':{'standardTopic':{'type':_0xa27809(0x501)}},'required':[_0xa27809(0x36c)]};try{const _0x1ceed=await callAnalysisApi(_0x3a6e9d,_0x26209b);return _0x1ceed[_0xa27809(0x36c)];}catch(_0x13cb0c){return console['error'](_0xa27809(0x2a6),_0x13cb0c),_0x17eb04;}}async function generatePracticeQuestions(_0x30b459){const _0x3e2d4c=_0x1bb21e,_0x199054=_0x3e2d4c(0x5bf)+_0x30b459+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x3e2d4c(0x6cd),_0x1b818d={'type':'OBJECT','properties':{'questionText':{'type':_0x3e2d4c(0x501)},'options':{'type':_0x3e2d4c(0x60a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3e2d4c(0x830)},'explanation':{'type':_0x3e2d4c(0x501)}},'required':[_0x3e2d4c(0x20d),'options',_0x3e2d4c(0x420),_0x3e2d4c(0x2f5)]},_0x55d88c={'type':'OBJECT','properties':{'topic':{'type':_0x3e2d4c(0x501)},'questions':{'type':_0x3e2d4c(0x60a),'items':_0x1b818d}},'required':[_0x3e2d4c(0x76d),_0x3e2d4c(0x1f8)]};return await callAnalysisApi(_0x199054,_0x55d88c);}function displayLessonPlan(_0x271114,_0x54033e){const _0x4f96c9=_0x1bb21e,_0x193f54='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x54033e['topic']+_0x4f96c9(0x4ce)+_0x271114[_0x4f96c9(0x754)][_0x4f96c9(0x796)](_0x2d6d66=>_0x4f96c9(0x1c5)+_0x2d6d66+_0x4f96c9(0x552))[_0x4f96c9(0x4d7)]('')+_0x4f96c9(0x274)+_0x271114[_0x4f96c9(0x779)]+_0x4f96c9(0x269)+_0x271114[_0x4f96c9(0x7ce)][_0x4f96c9(0x796)](_0x19d8c4=>_0x4f96c9(0x819)+_0x19d8c4[_0x4f96c9(0x1ea)]+_0x4f96c9(0x329)+_0x19d8c4['solution']+'</p></div>')[_0x4f96c9(0x4d7)]('')+_0x4f96c9(0x492);document[_0x4f96c9(0x38e)](_0x4f96c9(0x73e))['textContent']=_0x4f96c9(0x4bd)+_0x54033e[_0x4f96c9(0x76d)],document[_0x4f96c9(0x38e)](_0x4f96c9(0x721))[_0x4f96c9(0x7ac)]=_0x193f54,document[_0x4f96c9(0x38e)](_0x4f96c9(0x2d9))[_0x4f96c9(0x2db)][_0x4f96c9(0x327)](_0x4f96c9(0x5e8));if(window[_0x4f96c9(0x74c)])MathJax[_0x4f96c9(0x14d)]();}function displaySkillPracticeDrill(_0x983243){const _0x1d37b9=_0x1bb21e;let _0x46c261=0x0;const _0x5d1809=_0x983243[_0x1d37b9(0x1f8)],_0x4acb77=()=>{const _0x38ec09=_0x1d37b9,_0x2c8723=_0x5d1809[_0x46c261],_0x2841fd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x46c261+0x1)+_0x38ec09(0x199)+_0x5d1809[_0x38ec09(0x890)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x2c8723[_0x38ec09(0x20d)]+_0x38ec09(0x891)+_0x2c8723['options']['map']((_0x3656a9,_0x1b4854)=>_0x38ec09(0x361)+_0x1b4854+_0x38ec09(0x4ff)+_0x1b4854+_0x38ec09(0x7ea)+_0x1b4854+'\x22>'+_0x3656a9+_0x38ec09(0x5a9))[_0x38ec09(0x4d7)]('')+_0x38ec09(0x858);studentQuizArea[_0x38ec09(0x7ac)]=_0x2841fd;if(window[_0x38ec09(0x74c)])MathJax[_0x38ec09(0x14d)]([studentQuizArea]);document[_0x38ec09(0x38e)](_0x38ec09(0x307))[_0x38ec09(0x353)](_0x38ec09(0x38d),async()=>{const _0x3901af=_0x38ec09,_0xf5d9a=await getHintForQuestion(_0x2c8723[_0x3901af(0x20d)]);showMessage(_0xf5d9a);}),document[_0x38ec09(0x38e)](_0x38ec09(0x5b2))[_0x38ec09(0x353)]('click',()=>{const _0x1215ff=_0x38ec09,_0x4ea201=document[_0x1215ff(0x61d)](_0x1215ff(0x398));if(!_0x4ea201){showMessage(_0x1215ff(0x717));return;}const _0x5720b4=document[_0x1215ff(0x38e)](_0x1215ff(0x8db)),_0x3639e0=parseInt(_0x4ea201[_0x1215ff(0x491)])===_0x2c8723[_0x1215ff(0x420)];_0x3639e0?(_0x5720b4['className']=_0x1215ff(0x2a4),_0x5720b4[_0x1215ff(0x7ac)]=_0x1215ff(0x62d)+_0x2c8723[_0x1215ff(0x2f5)]):(_0x5720b4['className']=_0x1215ff(0x7f6),_0x5720b4[_0x1215ff(0x7ac)]=_0x1215ff(0x654)+_0x2c8723[_0x1215ff(0x2f5)]);_0x5720b4[_0x1215ff(0x2db)]['remove']('hidden');if(window[_0x1215ff(0x74c)])MathJax[_0x1215ff(0x14d)]([_0x5720b4]);document[_0x1215ff(0x38e)](_0x1215ff(0x5b2))[_0x1215ff(0x2db)][_0x1215ff(0x15d)](_0x1215ff(0x5e8)),document['getElementById'](_0x1215ff(0x307))['classList'][_0x1215ff(0x15d)](_0x1215ff(0x5e8)),document[_0x1215ff(0x38e)](_0x1215ff(0x320))[_0x1215ff(0x2db)]['remove'](_0x1215ff(0x5e8));}),document[_0x38ec09(0x38e)]('next-drill-btn')[_0x38ec09(0x353)]('click',()=>{const _0x127a7f=_0x38ec09;_0x46c261++,_0x46c261<_0x5d1809['length']?_0x4acb77():(studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x127a7f(0x38e)]('back-to-results-btn')[_0x127a7f(0x353)]('click',()=>{const _0x55b8c3=_0x127a7f;studentQuizArea[_0x55b8c3(0x2db)]['add'](_0x55b8c3(0x5e8)),studentResultArea[_0x55b8c3(0x2db)][_0x55b8c3(0x327)]('hidden');}));});};_0x4acb77();}async function getHintForQuestion(_0x2a1742){const _0x4021da=_0x1bb21e,_0xdc0428=_0x4021da(0x5d1)+_0x2a1742+_0x4021da(0x417),_0x238674={'type':_0x4021da(0x7f2),'properties':{'hint':{'type':_0x4021da(0x501)}},'required':[_0x4021da(0x572)]};try{const _0x3f1c04=await callAnalysisApi(_0xdc0428,_0x238674);return _0x3f1c04[_0x4021da(0x572)];}catch(_0x1b81c5){return console['error'](_0x4021da(0x771),_0x1b81c5),_0x4021da(0x666);}}async function extractTextFromPdf(_0x2185bb){const _0x33ea52=_0x1bb21e;pdfjsLib[_0x33ea52(0x55b)]['workerSrc']=_0x33ea52(0x43e);const _0x559d8c=await _0x2185bb[_0x33ea52(0x617)](),_0x4dfe5e=await pdfjsLib[_0x33ea52(0x6fe)](_0x559d8c)['promise'],_0x222b2e=_0x4dfe5e[_0x33ea52(0x20c)];let _0x458c97='';for(let _0x1f6789=0x1;_0x1f6789<=_0x222b2e;_0x1f6789++){const _0x2120f6=await _0x4dfe5e[_0x33ea52(0x6db)](_0x1f6789),_0xce6796=await _0x2120f6[_0x33ea52(0x157)](),_0x565ecb=_0xce6796[_0x33ea52(0x28a)]['map'](_0x4f7340=>_0x4f7340[_0x33ea52(0x354)])[_0x33ea52(0x4d7)]('\x20');_0x458c97+=_0x565ecb+'\x0a\x0a';}return _0x458c97;}async function handleGenerateFromBlueprint(){const _0x3bfef9=_0x1bb21e,_0x4e3bc3=document[_0x3bfef9(0x38e)]('blueprint-upload-input'),_0x3563fe=document['getElementById'](_0x3bfef9(0x88d)),_0x39dd68=_0x4e3bc3[_0x3bfef9(0x4c9)][0x0],_0x2d8b55=_0x3563fe['files']['length']>0x0?_0x3563fe['files'][0x0]:null;if(!_0x39dd68){showMessage(_0x3bfef9(0x8a3));return;}const _0x3444e2=document[_0x3bfef9(0x38e)](_0x3bfef9(0x41a)),_0x4003a5=document[_0x3bfef9(0x38e)]('loader-text'),_0x4fee3b=document[_0x3bfef9(0x38e)]('generated-quiz-container'),_0x19f296=document[_0x3bfef9(0x38e)](_0x3bfef9(0x500));_0x19f296['disabled']=!![],document[_0x3bfef9(0x38e)](_0x3bfef9(0x5c7))[_0x3bfef9(0x2db)][_0x3bfef9(0x327)](_0x3bfef9(0x5e8)),_0x4fee3b[_0x3bfef9(0x7ac)]='',_0x3444e2[_0x3bfef9(0x2db)][_0x3bfef9(0x327)]('hidden');try{_0x4003a5['textContent']=_0x3bfef9(0x59b);const _0x3eeae8=await extractTextFromPdf(_0x39dd68);if(!_0x3eeae8[_0x3bfef9(0x2d2)]())throw new Error(_0x3bfef9(0x5fb));let _0x21acd7='';_0x2d8b55&&(_0x4003a5[_0x3bfef9(0x83f)]=_0x3bfef9(0x4fe),_0x21acd7=await extractTextFromPdf(_0x2d8b55));_0x4003a5[_0x3bfef9(0x83f)]=_0x3bfef9(0x444);const _0x6b2f09=document[_0x3bfef9(0x38e)]('include-images-checkbox')[_0x3bfef9(0x7eb)],_0x26a3e6=_0x6b2f09?_0x3bfef9(0x5f0):'',_0x5431de=_0x21acd7?_0x3bfef9(0x271)+_0x21acd7+_0x3bfef9(0x6b3):'',_0xa1af7d=_0x3bfef9(0x64e)+(_0x21acd7?'2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ':'')+_0x3bfef9(0x44a)+_0x3eeae8+_0x3bfef9(0x6b3)+_0x5431de+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x26a3e6+_0x3bfef9(0x8dd)+simpleMathPrompt+_0x3bfef9(0x70a),_0x3e79bc={'type':_0x3bfef9(0x7f2),'properties':{'questionText':{'type':_0x3bfef9(0x501)},'questionType':{'type':_0x3bfef9(0x501),'enum':[_0x3bfef9(0x4a9),_0x3bfef9(0x3fe)]},'options':{'type':_0x3bfef9(0x60a),'items':{'type':_0x3bfef9(0x501)}},'correctAnswerIndex':{'type':_0x3bfef9(0x830)},'idealAnswer':{'type':_0x3bfef9(0x501)},'explanation':{'type':_0x3bfef9(0x501)},'imageCode':{'type':_0x3bfef9(0x501)}},'required':[_0x3bfef9(0x20d),_0x3bfef9(0x4c7),_0x3bfef9(0x2f5)]},_0x2acb45={'type':_0x3bfef9(0x7f2),'properties':{'topic':{'type':_0x3bfef9(0x501)},'questions':{'type':_0x3bfef9(0x60a),'items':_0x3e79bc}},'required':[_0x3bfef9(0x76d),'questions']};await handleApiCall(_0xa1af7d,_0x3bfef9(0x153),_0x2acb45);}catch(_0x4e71e4){console[_0x3bfef9(0x146)](_0x3bfef9(0x691),_0x4e71e4),showMessage(_0x3bfef9(0x1a7)+_0x4e71e4[_0x3bfef9(0x743)]),_0x4fee3b[_0x3bfef9(0x7ac)]=_0x3bfef9(0x4d3);}finally{_0x3444e2['classList']['add']('hidden'),_0x19f296[_0x3bfef9(0x5f4)]=![];}}async function handleGenerateParallelFromBank(_0x39a0e4){const _0x4a7271=_0x1bb21e;switchProjectTab(_0x4a7271(0x433));const _0xe8c310=document[_0x4a7271(0x38e)](_0x4a7271(0x41a)),_0x3ea6bb=document['getElementById'](_0x4a7271(0x68e)),_0x1bdfa9=document[_0x4a7271(0x38e)](_0x4a7271(0x87e));document['getElementById'](_0x4a7271(0x5c7))[_0x4a7271(0x2db)]['remove'](_0x4a7271(0x5e8)),_0x1bdfa9[_0x4a7271(0x7ac)]='',_0xe8c310[_0x4a7271(0x2db)][_0x4a7271(0x327)](_0x4a7271(0x5e8)),_0x3ea6bb[_0x4a7271(0x83f)]=_0x4a7271(0x496)+_0x39a0e4[_0x4a7271(0x76d)]+_0x4a7271(0x856);try{const _0x507f1c=_0x39a0e4['questions'][_0x4a7271(0x796)]((_0x4f082d,_0x593f05)=>{const _0x3c645f=_0x4a7271;let _0x8abc7=_0x593f05+0x1+'.\x20'+(_0x4f082d[_0x3c645f(0x20d)]||_0x4f082d[_0x3c645f(0x1d1)])+'\x0a';if(_0x4f082d[_0x3c645f(0x6e3)])_0x8abc7+=_0x4f082d['options'][_0x3c645f(0x796)]((_0x164b11,_0x4e5d3c)=>_0x3c645f(0x7a8)+(_0x4e5d3c===_0x4f082d[_0x3c645f(0x420)]?_0x3c645f(0x694):'')+'\x20'+_0x164b11)[_0x3c645f(0x4d7)]('\x0a');else _0x4f082d[_0x3c645f(0x1fb)]&&(_0x8abc7+=_0x3c645f(0x63a)+_0x4f082d[_0x3c645f(0x1fb)]);return _0x8abc7;})[_0x4a7271(0x4d7)]('\x0a\x0a');_0x3ea6bb['textContent']=_0x4a7271(0x87d);const _0x12f695=_0x4a7271(0x5c6)+_0x39a0e4[_0x4a7271(0x76d)]+_0x4a7271(0x573)+_0x507f1c+_0x4a7271(0x16e)+simpleMathPrompt+_0x4a7271(0x70a),_0x53d8b4={'type':_0x4a7271(0x7f2),'properties':{'questionText':{'type':_0x4a7271(0x501)},'questionType':{'type':_0x4a7271(0x501),'enum':[_0x4a7271(0x4a9),'short_answer',_0x4a7271(0x6df),_0x4a7271(0x2cf)]},'options':{'type':_0x4a7271(0x60a),'items':{'type':_0x4a7271(0x501)}},'correctAnswerIndex':{'type':_0x4a7271(0x830)},'idealAnswer':{'type':_0x4a7271(0x501)},'correctAnswer':{'type':_0x4a7271(0x462)},'stem':{'type':_0x4a7271(0x501)},'correctResponse':{'type':_0x4a7271(0x501)},'allResponses':{'type':'ARRAY','items':{'type':_0x4a7271(0x501)}},'explanation':{'type':_0x4a7271(0x501)},'imageCode':{'type':_0x4a7271(0x501)}},'required':[_0x4a7271(0x20d),_0x4a7271(0x4c7),_0x4a7271(0x6e3),_0x4a7271(0x420),'explanation']},_0x4e5601={'type':_0x4a7271(0x7f2),'properties':{'topic':{'type':_0x4a7271(0x501)},'questions':{'type':_0x4a7271(0x60a),'items':_0x53d8b4}},'required':[_0x4a7271(0x76d),_0x4a7271(0x1f8)]},_0x2e49a0=await callAnalysisApi(_0x12f695,_0x4e5601);_0x2e49a0[_0x4a7271(0x76d)]=_0x4a7271(0x669)+_0x39a0e4[_0x4a7271(0x76d)],_0x2e49a0[_0x4a7271(0x279)]=_0x39a0e4[_0x4a7271(0x279)],currentQuizData=_0x2e49a0,displayGeneratedQuiz(_0x2e49a0),document['getElementById'](_0x4a7271(0x37f))[_0x4a7271(0x3ca)]({'behavior':'smooth'});}catch(_0x50ffdc){console[_0x4a7271(0x146)](_0x4a7271(0x582),_0x50ffdc),showMessage('เกิดข้อผิดพลาด:\x20'+_0x50ffdc[_0x4a7271(0x743)]),_0x1bdfa9[_0x4a7271(0x7ac)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0xe8c310[_0x4a7271(0x2db)][_0x4a7271(0x15d)](_0x4a7271(0x5e8));}}async function handleGenerateParallelPostTest(_0x4d6aec){const _0x40e58b=_0x1bb21e,_0x5c712c=document[_0x40e58b(0x38e)](_0x40e58b(0x5aa)),_0x5aecda=document[_0x40e58b(0x38e)]('project-quizzes-list');_0x5aecda[_0x40e58b(0x2db)]['add'](_0x40e58b(0x5e8));const _0x2db8f0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5c712c['insertAdjacentHTML'](_0x40e58b(0x389),_0x2db8f0);try{const _0x1fcc00=_0x4d6aec['questions'][_0x40e58b(0x796)]((_0x1de9ab,_0x34aa31)=>{const _0x1a26e3=_0x40e58b;let _0x23bdfb=_0x34aa31+0x1+'.\x20'+(_0x1de9ab[_0x1a26e3(0x20d)]||_0x1de9ab[_0x1a26e3(0x1d1)]);if(_0x1de9ab[_0x1a26e3(0x6e3)])_0x23bdfb+=_0x1a26e3(0x740)+_0x1de9ab[_0x1a26e3(0x6e3)][_0x1a26e3(0x4d7)](',\x20');return _0x23bdfb;})[_0x40e58b(0x4d7)]('\x0a\x0a'),_0x32ba7a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x4d6aec[_0x40e58b(0x76d)]+_0x40e58b(0x679)+_0x1fcc00+_0x40e58b(0x70c)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x36552a={'type':_0x40e58b(0x7f2),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x40e58b(0x60a),'items':{'type':_0x40e58b(0x7f2),'properties':{'questionText':{'type':_0x40e58b(0x501)},'questionType':{'type':'STRING'},'options':{'type':_0x40e58b(0x60a),'items':{'type':_0x40e58b(0x501)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x40e58b(0x501)},'explanation':{'type':_0x40e58b(0x501)}},'required':['questionText',_0x40e58b(0x2f5)]}}},'required':[_0x40e58b(0x76d),_0x40e58b(0x1f8)]},_0x581c82=await callAnalysisApi(_0x32ba7a,_0x36552a),_0x3d0732=_0x4d6aec['topic']['replace'](_0x40e58b(0x2cb),'')[_0x40e58b(0x2d2)](),_0x4d7c79=_0x40e58b(0x255)+_0x3d0732,_0x764325={..._0x581c82,'topic':_0x4d7c79,'quizType':_0x4d6aec[_0x40e58b(0x279)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x40e58b(0x709)](),'status':'active','settings':_0x4d6aec[_0x40e58b(0x28e)],'quizMode':'post-test','pairedQuizId':_0x4d6aec['id']};let _0x3e51e2;while(!![]){_0x3e51e2=Math[_0x40e58b(0x4b4)](0x3e8+Math[_0x40e58b(0x52e)]()*0x2328)[_0x40e58b(0x189)]();const _0x34d462=await getDoc(doc(db,_0x40e58b(0x736)+appId+_0x40e58b(0x59a),_0x3e51e2));if(!_0x34d462[_0x40e58b(0x62a)]())break;}await setDoc(doc(db,_0x40e58b(0x736)+appId+'/public/data/quizzes',_0x3e51e2),_0x764325);const _0x1bacb8=doc(db,_0x40e58b(0x736)+appId+'/public/data/quizzes',_0x4d6aec['id']);await updateDoc(_0x1bacb8,{'pairedQuizId':_0x3e51e2}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x47c1af){console[_0x40e58b(0x146)](_0x40e58b(0x1a8),_0x47c1af),showMessage('เกิดข้อผิดพลาด:\x20'+_0x47c1af[_0x40e58b(0x743)]);}finally{const _0x276b24=document[_0x40e58b(0x38e)](_0x40e58b(0x194));if(_0x276b24)_0x276b24[_0x40e58b(0x327)]();_0x5aecda['classList'][_0x40e58b(0x327)](_0x40e58b(0x5e8));}}async function handleGenerateParallelTest(){const _0x49720e=_0x1bb21e,_0x302d7e=document['getElementById']('parallel-test-upload-input'),_0x343f43=_0x302d7e[_0x49720e(0x4c9)][0x0];if(!_0x343f43){showMessage(_0x49720e(0x83e));return;}const _0x447eeb=document[_0x49720e(0x38e)](_0x49720e(0x41a)),_0x5b5b4d=document[_0x49720e(0x38e)]('loader-text'),_0x216a75=document[_0x49720e(0x38e)](_0x49720e(0x87e)),_0x55f3bf=document[_0x49720e(0x38e)](_0x49720e(0x1ce));_0x55f3bf['disabled']=!![],document[_0x49720e(0x38e)](_0x49720e(0x5c7))['classList']['remove'](_0x49720e(0x5e8)),_0x216a75[_0x49720e(0x7ac)]='',_0x447eeb[_0x49720e(0x2db)][_0x49720e(0x327)](_0x49720e(0x5e8)),_0x5b5b4d[_0x49720e(0x83f)]=_0x49720e(0x751);try{const _0x2f5a96=await extractTextFromPdf(_0x343f43);if(!_0x2f5a96[_0x49720e(0x2d2)]())throw new Error(_0x49720e(0x18a));_0x5b5b4d['textContent']='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x1e7db2=document[_0x49720e(0x38e)](_0x49720e(0x808))[_0x49720e(0x7eb)],_0x64d3c8=_0x1e7db2?_0x49720e(0x5f0):'',_0xca4d42=_0x49720e(0x567)+_0x2f5a96+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x64d3c8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x49720e(0x70a),_0x2cf151={'type':_0x49720e(0x7f2),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x49720e(0x501),'enum':[_0x49720e(0x4a9),'short_answer']},'options':{'type':_0x49720e(0x60a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x49720e(0x830)},'idealAnswer':{'type':_0x49720e(0x501)},'explanation':{'type':_0x49720e(0x501)},'imageCode':{'type':_0x49720e(0x501)}},'required':[_0x49720e(0x20d),_0x49720e(0x4c7),'explanation']},_0x25805c={'type':_0x49720e(0x7f2),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x2cf151}},'required':['topic','questions']};await handleApiCall(_0xca4d42,_0x49720e(0x25a),_0x25805c);}catch(_0x550e27){console[_0x49720e(0x146)](_0x49720e(0x3d5),_0x550e27),showMessage(_0x49720e(0x1a7)+_0x550e27[_0x49720e(0x743)]),_0x216a75[_0x49720e(0x7ac)]=_0x49720e(0x516);}finally{_0x447eeb['classList'][_0x49720e(0x15d)]('hidden'),_0x55f3bf[_0x49720e(0x5f4)]=![];}}async function handleRegenerateQuestionInEditor(_0x183efa){const _0x4c3816=_0x1bb21e;if(currentEditingQuizData===null)return;const _0x564c4a=document[_0x4c3816(0x61d)](_0x4c3816(0x1f5)+_0x183efa+'\x22]');_0x564c4a&&(_0x564c4a['innerHTML']=_0x4c3816(0x5dc));const _0x3c1e4e=currentEditingQuizData[_0x4c3816(0x1f8)][_0x183efa],_0x46d224=currentEditingQuizData[_0x4c3816(0x76d)],_0x58aefe=_0x3c1e4e['questionType'],_0x4d886b={'type':_0x4c3816(0x7f2),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x4c3816(0x501)}},'correctAnswerIndex':{'type':_0x4c3816(0x830)},'explanation':{'type':'STRING'}},'required':[_0x4c3816(0x20d),_0x4c3816(0x6e3),_0x4c3816(0x420),'explanation']},_0x4ccf08={'type':'OBJECT','properties':{'questionText':{'type':_0x4c3816(0x501)},'idealAnswer':{'type':_0x4c3816(0x501)},'explanation':{'type':_0x4c3816(0x501)}},'required':[_0x4c3816(0x20d),_0x4c3816(0x1fb),_0x4c3816(0x2f5)]};let _0x4a8e6a,_0xfbf138='';_0x58aefe===_0x4c3816(0x4a9)?(_0x4a8e6a=_0x4d886b,_0xfbf138='แบบปรนัย\x204\x20ตัวเลือก'):(_0x4a8e6a=_0x4ccf08,_0xfbf138=_0x4c3816(0x31d));const _0x1a2708=_0x4c3816(0x586)+_0x46d224+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0xfbf138+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x3c1e4e['questionText']||_0x3c1e4e[_0x4c3816(0x1d1)])+_0x4c3816(0x403)+simpleMathPrompt;try{const _0xb0423d=await callAnalysisApi(_0x1a2708,_0x4a8e6a);currentEditingQuizData['questions'][_0x183efa]={..._0x3c1e4e,..._0xb0423d},renderQuizEditor(currentEditingQuizData);}catch(_0x111c1a){console['error'](_0x4c3816(0x87c),_0x111c1a),showMessage(_0x4c3816(0x8bc)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x11d127=_0x1bb21e,_0x2760ef=document[_0x11d127(0x38e)]('mode-switcher-btn');currentMode===_0x11d127(0x334)?(currentMode=_0x11d127(0x300),_0x2760ef['innerHTML']=_0x11d127(0x311),_0x2760ef['title']=_0x11d127(0x4b5),showView(_0x11d127(0x25e))):(currentMode=_0x11d127(0x334),_0x2760ef[_0x11d127(0x7ac)]=_0x11d127(0x8eb),_0x2760ef[_0x11d127(0x485)]=_0x11d127(0x379),showView(_0x11d127(0x334)));}function handleAdminLogin(){const _0x26f5ba=_0x1bb21e,_0x584e49=document[_0x26f5ba(0x38e)](_0x26f5ba(0x3cb)),_0x49401a=document[_0x26f5ba(0x38e)](_0x26f5ba(0x2de));if(_0x584e49[_0x26f5ba(0x491)]===_0x26f5ba(0x778)){adminPasswordModal[_0x26f5ba(0x2db)][_0x26f5ba(0x15d)]('hidden'),_0x584e49[_0x26f5ba(0x491)]='',_0x49401a[_0x26f5ba(0x2db)]['add']('hidden'),currentMode='admin';const _0x585fb6=document[_0x26f5ba(0x38e)]('mode-switcher-btn');_0x585fb6[_0x26f5ba(0x7ac)]=_0x26f5ba(0x311),_0x585fb6[_0x26f5ba(0x485)]='สลับไปโหมดนักเรียน',showView('admin-dashboard');}else _0x49401a[_0x26f5ba(0x2db)][_0x26f5ba(0x327)](_0x26f5ba(0x5e8)),_0x584e49['value']='';}function switchProjectTab(_0x452523){const _0x288648=_0x1bb21e;[_0x288648(0x433),_0x288648(0x772),_0x288648(0x136)][_0x288648(0x813)](_0x2041e2=>{const _0x2e0c32=_0x288648;document[_0x2e0c32(0x38e)](_0x2041e2+'-tab')['classList'][_0x2e0c32(0x327)]('active'),document[_0x2e0c32(0x38e)](_0x2041e2+_0x2e0c32(0x254))[_0x2e0c32(0x2db)][_0x2e0c32(0x15d)](_0x2e0c32(0x5e8));}),document[_0x288648(0x38e)](_0x452523+_0x288648(0x419))[_0x288648(0x2db)][_0x288648(0x15d)](_0x288648(0x1c9)),document[_0x288648(0x38e)](_0x452523+'-tab-content')[_0x288648(0x2db)][_0x288648(0x327)](_0x288648(0x5e8));}function switchQuizDetailTab(_0x26f127){const _0x18dce5=_0x1bb21e,_0x3c8a78={'analytics':{'btn':_0x18dce5(0x892),'content':_0x18dce5(0x3e8)},'scores':{'btn':_0x18dce5(0x453),'content':_0x18dce5(0x330)},'leaderboard-quiz':{'btn':_0x18dce5(0x221),'content':_0x18dce5(0x59d)},'behavior-log':{'btn':_0x18dce5(0x37b),'content':'behavior-log-tab-content'}};for(const _0x15fc4c in _0x3c8a78){document[_0x18dce5(0x38e)](_0x3c8a78[_0x15fc4c][_0x18dce5(0x532)])[_0x18dce5(0x2db)][_0x18dce5(0x327)](_0x18dce5(0x1c9)),document[_0x18dce5(0x38e)](_0x3c8a78[_0x15fc4c]['content'])['classList'][_0x18dce5(0x15d)](_0x18dce5(0x5e8));}document[_0x18dce5(0x38e)](_0x3c8a78[_0x26f127]['btn'])[_0x18dce5(0x2db)][_0x18dce5(0x15d)](_0x18dce5(0x1c9)),document['getElementById'](_0x3c8a78[_0x26f127][_0x18dce5(0x7aa)])[_0x18dce5(0x2db)][_0x18dce5(0x327)]('hidden');}function showMessage(_0x2ab4d4,_0x1d174a=null){const _0x41e89a=_0x1bb21e;modalMessage['textContent']=_0x2ab4d4,modalConfirmAction=_0x1d174a,messageModal[_0x41e89a(0x2db)]['remove'](_0x41e89a(0x5e8));}function showConfirmation(_0x1df7da,_0xdc3d9){const _0x212ae0=_0x1bb21e;document[_0x212ae0(0x38e)](_0x212ae0(0x815))[_0x212ae0(0x83f)]=_0x1df7da,document[_0x212ae0(0x38e)]('confirmation-modal')[_0x212ae0(0x61d)]('h3')[_0x212ae0(0x83f)]='ยืนยันการกระทำ',confirmAction=_0xdc3d9,confirmationModal[_0x212ae0(0x2db)][_0x212ae0(0x327)](_0x212ae0(0x5e8));}function listenForProjects(){const _0x4faca4=_0x1bb21e,_0x55ef80=doc(db,_0x4faca4(0x66b),_0x4faca4(0x6c2));onSnapshot(_0x55ef80,_0x493c41=>{const _0xbb21f9=_0x4faca4;if(_0x493c41[_0xbb21f9(0x62a)]()){const _0x58e80a=_0x493c41[_0xbb21f9(0x794)]();globalDashboardSettings['projectSort']=_0x58e80a[_0xbb21f9(0x231)]||_0xbb21f9(0x295),globalDashboardSettings[_0xbb21f9(0x8c6)]=_0x58e80a['pinnedProjects']||[],globalDashboardSettings[_0xbb21f9(0x5ca)]=_0x58e80a[_0xbb21f9(0x5ca)]||[];}allProjects[_0xbb21f9(0x890)]>0x0&&renderProjects();});const _0x13ffbd=collection(db,_0x4faca4(0x736)+appId+_0x4faca4(0x8ae));unsubscribeProjectsListener=onSnapshot(_0x13ffbd,_0x6a5362=>{const _0x11c10b=_0x4faca4;allProjects=_0x6a5362[_0x11c10b(0x601)][_0x11c10b(0x796)](_0x63efb7=>({'id':_0x63efb7['id'],..._0x63efb7[_0x11c10b(0x794)]()})),renderProjects();},_0x4eb4df=>{const _0x31c1d8=_0x4faca4;console[_0x31c1d8(0x146)](_0x31c1d8(0x411),_0x4eb4df),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x50764b,_0x460f78){const _0x2900fc=_0x1bb21e;document[_0x2900fc(0x175)](_0x2900fc(0x168))[_0x2900fc(0x813)](_0x42c076=>_0x42c076[_0x2900fc(0x327)]());const _0x36a574=[_0x2900fc(0x169),'#FEE2E2','#FEF3C7',_0x2900fc(0x72c),_0x2900fc(0x348),_0x2900fc(0x372),'#F3E8FF',_0x2900fc(0x5a3),_0x2900fc(0x86d)],_0x423aee=document[_0x2900fc(0x7df)]('div');_0x423aee[_0x2900fc(0x3bc)]=_0x2900fc(0x508),_0x36a574[_0x2900fc(0x813)](_0x4fc84a=>{const _0x43a92b=_0x2900fc,_0x18ed42=document['createElement'](_0x43a92b(0x62b));_0x18ed42[_0x43a92b(0x3bc)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x18ed42[_0x43a92b(0x1d9)][_0x43a92b(0x72e)]=_0x4fc84a,_0x18ed42[_0x43a92b(0x353)]('click',()=>{const _0xc54415=_0x43a92b;handleProjectColorChange(_0x460f78,_0x4fc84a),_0x423aee[_0xc54415(0x327)]();}),_0x423aee[_0x43a92b(0x179)](_0x18ed42);}),document[_0x2900fc(0x487)]['appendChild'](_0x423aee);const _0xeacc08=_0x50764b[_0x2900fc(0x27b)]();_0x423aee[_0x2900fc(0x1d9)][_0x2900fc(0x565)]=_0xeacc08[_0x2900fc(0x181)]+window[_0x2900fc(0x869)]+'px',_0x423aee[_0x2900fc(0x1d9)][_0x2900fc(0x663)]=_0xeacc08[_0x2900fc(0x663)]+window[_0x2900fc(0x7d0)]-_0x423aee[_0x2900fc(0x314)]/0x2+'px';}async function handleProjectColorChange(_0x2e8a49,_0x45b466){const _0x5cf701=_0x1bb21e,_0x25c425=doc(db,_0x5cf701(0x736)+appId+_0x5cf701(0x8ae),_0x2e8a49);try{await updateDoc(_0x25c425,{'color':_0x45b466});}catch(_0x365c69){console[_0x5cf701(0x146)]('Error\x20updating\x20project\x20color:',_0x365c69),showMessage(_0x5cf701(0x4bc));}}async function renderProjects(){const _0x42d8aa=_0x1bb21e,_0x27e364=globalDashboardSettings['projectSort']||'date_desc',_0x4e1eba=new Set(globalDashboardSettings[_0x42d8aa(0x8c6)]||[]),_0x418b48=globalDashboardSettings['projectView']||_0x42d8aa(0x170),_0x82a96d=document[_0x42d8aa(0x38e)]('grid-view-btn'),_0x3fe7df=document[_0x42d8aa(0x38e)](_0x42d8aa(0x602));_0x82a96d['classList'][_0x42d8aa(0x3bb)](_0x42d8aa(0x1c9),_0x418b48===_0x42d8aa(0x170)),_0x3fe7df[_0x42d8aa(0x2db)]['toggle']('active',_0x418b48===_0x42d8aa(0x324)),document['getElementById'](_0x42d8aa(0x6ca))[_0x42d8aa(0x491)]=_0x27e364;const _0x3850e5=document[_0x42d8aa(0x38e)](_0x42d8aa(0x7cb))[_0x42d8aa(0x491)][_0x42d8aa(0x397)]();let _0x586278=allProjects[_0x42d8aa(0x5d6)](_0xaaeb71=>_0xaaeb71[_0x42d8aa(0x5fe)][_0x42d8aa(0x397)]()['includes'](_0x3850e5));const _0x2e7bbe=_0x586278[_0x42d8aa(0x5d6)](_0x4d2d0b=>_0x4e1eba['has'](_0x4d2d0b['id'])),_0x2ce8a5=_0x586278[_0x42d8aa(0x5d6)](_0xe8773d=>!_0x4e1eba['has'](_0xe8773d['id'])),_0x1b6d03=(_0x2f2b25,_0x202594)=>{const _0x5607c5=_0x42d8aa;switch(_0x27e364){case _0x5607c5(0x732):return _0x2f2b25[_0x5607c5(0x5fe)][_0x5607c5(0x636)](_0x202594[_0x5607c5(0x5fe)],'th');case _0x5607c5(0x438):return _0x202594[_0x5607c5(0x5fe)][_0x5607c5(0x636)](_0x2f2b25[_0x5607c5(0x5fe)],'th');case _0x5607c5(0x29a):return new Date(_0x2f2b25[_0x5607c5(0x424)])-new Date(_0x202594[_0x5607c5(0x424)]);default:return new Date(_0x202594[_0x5607c5(0x424)])-new Date(_0x2f2b25[_0x5607c5(0x424)]);}};_0x2e7bbe[_0x42d8aa(0x773)](_0x1b6d03),_0x2ce8a5[_0x42d8aa(0x773)](_0x1b6d03);const _0x56b280=[..._0x2e7bbe,..._0x2ce8a5],_0x4dc6=globalDashboardSettings[_0x42d8aa(0x5ca)]||[];_0x4dc6[_0x42d8aa(0x890)]>0x0&&_0x418b48==='grid'&&_0x56b280['sort']((_0x247c51,_0x1f4727)=>{const _0x232648=_0x42d8aa,_0x53c81a=_0x4dc6[_0x232648(0x45c)](_0x247c51['id']),_0x3375a1=_0x4dc6[_0x232648(0x45c)](_0x1f4727['id']);if(_0x53c81a===-0x1)return 0x1;if(_0x3375a1===-0x1)return-0x1;return _0x53c81a-_0x3375a1;});const _0x4b2708={};await Promise[_0x42d8aa(0x1e6)](_0x56b280[_0x42d8aa(0x796)](async _0x532b66=>{const _0x1036de=_0x42d8aa,_0xf37ed2=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where('projectId','==',_0x532b66['id'])),_0x5a37df=await getDocs(_0xf37ed2);_0x4b2708[_0x532b66['id']]=_0x5a37df[_0x1036de(0x42f)];}));const _0x101de1=document[_0x42d8aa(0x38e)]('project-list');let _0x4375ff='';if(_0x418b48===_0x42d8aa(0x170)){_0x101de1['className']=_0x42d8aa(0x4ae);if(starredQuizzes[_0x42d8aa(0x890)]>0x0&&_0x3850e5===''){const _0xc737ab=starredQuizzes['map'](_0x3a713f=>{const _0x30de90=_0x42d8aa,_0x4b6c98=allProjects[_0x30de90(0x172)](_0x1a681f=>_0x1a681f['id']===_0x3a713f[_0x30de90(0x79a)]);return{..._0x3a713f,'projectName':_0x4b6c98?_0x4b6c98[_0x30de90(0x5fe)]:_0x30de90(0x2c9)};});_0x4375ff+=_0x42d8aa(0x177)+_0xc737ab['map'](_0x31fef9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x31fef9['topic']+'\x22>'+_0x31fef9[_0x42d8aa(0x76d)]+_0x42d8aa(0x349)+_0x31fef9[_0x42d8aa(0x5fe)]+_0x42d8aa(0x7f7)+_0x31fef9[_0x42d8aa(0x5fe)]+_0x42d8aa(0x527))[_0x42d8aa(0x4d7)]('')+_0x42d8aa(0x2bc)+starredQuizzes[_0x42d8aa(0x890)]+_0x42d8aa(0x7b7);}_0x56b280[_0x42d8aa(0x813)](_0x331f1e=>{const _0x55e5a5=_0x42d8aa,_0x2de3fb=_0x4b2708[_0x331f1e['id']]??0x0,_0x24c1cf=_0x4e1eba['has'](_0x331f1e['id']),_0x58bd21=_0x331f1e[_0x55e5a5(0x502)]||_0x55e5a5(0x169),_0x32dd17=parseInt(_0x58bd21[_0x55e5a5(0x504)](0x1,0x3),0x10)*0.299+parseInt(_0x58bd21[_0x55e5a5(0x504)](0x3,0x5),0x10)*0.587+parseInt(_0x58bd21[_0x55e5a5(0x504)](0x5,0x7),0x10)*0.114<0xba,_0x4ef71f=_0x32dd17?'text-white':_0x55e5a5(0x137),_0x5abb27=_0x32dd17?_0x55e5a5(0x248):_0x55e5a5(0x4bb);_0x4375ff+=_0x55e5a5(0x46a)+(_0x24c1cf?_0x55e5a5(0x335):_0x55e5a5(0x395))+_0x55e5a5(0x414)+_0x58bd21+_0x55e5a5(0x22e)+_0x331f1e['id']+_0x55e5a5(0x79f)+_0x331f1e['id']+_0x55e5a5(0x5b5)+(_0x32dd17?'text-gray-300\x20hover:text-white':_0x55e5a5(0x2c1))+_0x55e5a5(0x8e6)+_0x331f1e['id']+_0x55e5a5(0x2fd)+(_0x32dd17?_0x55e5a5(0x570):_0x55e5a5(0x2c1))+_0x55e5a5(0x452)+(_0x24c1cf?_0x32dd17?_0x55e5a5(0x795):_0x55e5a5(0x5db):'')+_0x55e5a5(0x702)+_0x331f1e['id']+_0x55e5a5(0x33c)+_0x4ef71f+_0x55e5a5(0x427)+_0x331f1e[_0x55e5a5(0x5fe)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x5abb27+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x331f1e['createdAt'])[_0x55e5a5(0x6b7)]('th-TH')+_0x55e5a5(0x7c1)+(_0x32dd17?_0x55e5a5(0x2d5):_0x55e5a5(0x43d))+_0x55e5a5(0x30b)+_0x2de3fb+_0x55e5a5(0x4d4)+_0x331f1e['id']+_0x55e5a5(0x895)+_0x331f1e[_0x55e5a5(0x5fe)]+_0x55e5a5(0x77e)+(_0x32dd17?_0x55e5a5(0x7b3):'text-red-500\x20hover:text-red-700')+_0x55e5a5(0x7c4);});}else _0x101de1[_0x42d8aa(0x3bc)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x42d8aa(0x890)]>0x0&&_0x3850e5===''&&(_0x4375ff+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x42d8aa(0x890)]+_0x42d8aa(0x7c9)),_0x4375ff+=_0x42d8aa(0x381),_0x56b280[_0x42d8aa(0x813)](_0x30618b=>{const _0x32de3d=_0x42d8aa,_0x571627=_0x4b2708[_0x30618b['id']]??0x0,_0x77bf10=_0x4e1eba[_0x32de3d(0x2d7)](_0x30618b['id']);_0x4375ff+=_0x32de3d(0x2a1)+(_0x30618b[_0x32de3d(0x502)]||'#E5E7EB')+_0x32de3d(0x1f6)+_0x30618b['id']+_0x32de3d(0x68b)+_0x30618b[_0x32de3d(0x5fe)]+_0x32de3d(0x539)+_0x571627+_0x32de3d(0x805)+new Date(_0x30618b[_0x32de3d(0x424)])[_0x32de3d(0x660)](_0x32de3d(0x149))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x30618b['id']+_0x32de3d(0x1fa)+(_0x77bf10?_0x32de3d(0x5db):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x30618b['id']+_0x32de3d(0x895)+_0x30618b[_0x32de3d(0x5fe)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x42d8aa(0x7ac)]=_0x4375ff,noProjectsMsg['classList'][_0x42d8aa(0x3bb)](_0x42d8aa(0x5e8),_0x4375ff[_0x42d8aa(0x890)]>0x0);}document[_0x1bb21e(0x38e)]('confirm-create-project-btn')[_0x1bb21e(0x353)](_0x1bb21e(0x38d),async()=>{const _0x8288a2=_0x1bb21e,_0x532abb=document[_0x8288a2(0x38e)]('project-name-input'),_0x54f953=_0x532abb['value'][_0x8288a2(0x2d2)]();if(!_0x54f953){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x53d879=doc(collection(db,_0x8288a2(0x736)+appId+_0x8288a2(0x8ae)));await setDoc(_0x53d879,{'projectName':_0x54f953,'students':[],'settings':{'resultsDisplay':_0x8288a2(0x53c),'shuffleSetting':_0x8288a2(0x4f2),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x8288a2(0x4f2),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x8288a2(0x709)]()}),_0x532abb[_0x8288a2(0x491)]='',createProjectModal['classList'][_0x8288a2(0x15d)]('hidden'),showMessage(_0x8288a2(0x430));}catch(_0x1f9c07){console[_0x8288a2(0x146)]('Error\x20creating\x20project:',_0x1f9c07),showMessage(_0x8288a2(0x37a));}}),projectList[_0x1bb21e(0x353)]('click',async _0x1f7628=>{const _0x1c4151=_0x1bb21e,_0x339090=_0x1f7628[_0x1c4151(0x7c2)]['closest'](_0x1c4151(0x8c0)),_0x438bb9=_0x1f7628[_0x1c4151(0x7c2)][_0x1c4151(0x1ef)]('.delete-project-btn'),_0x1f7a5d=_0x1f7628['target'][_0x1c4151(0x1ef)](_0x1c4151(0x683)),_0x1142c6=_0x1f7628[_0x1c4151(0x7c2)][_0x1c4151(0x1ef)]('.color-palette-btn');if(_0x1f7a5d){const _0x4a100c=_0x1f7a5d[_0x1c4151(0x1cf)]['id'],_0x4e2c6d=doc(db,_0x1c4151(0x66b),_0x1c4151(0x6c2)),_0x3ad001=globalDashboardSettings['pinnedProjects'];let _0x2ccb90;_0x3ad001[_0x1c4151(0x54a)](_0x4a100c)?_0x2ccb90=_0x3ad001['filter'](_0x1037f7=>_0x1037f7!==_0x4a100c):_0x2ccb90=[..._0x3ad001,_0x4a100c];try{await setDoc(_0x4e2c6d,{'pinnedProjects':_0x2ccb90},{'merge':!![]});}catch(_0x1fbb09){console['error'](_0x1c4151(0x587),_0x1fbb09),showMessage(_0x1c4151(0x551));}}else{if(_0x1142c6){const _0x31525a=_0x1142c6[_0x1c4151(0x1cf)]['id'];showColorPalette(_0x1142c6,_0x31525a);}else{if(_0x339090){const _0x1cad54=_0x339090[_0x1c4151(0x1cf)]['id'];_0x1cad54===_0x1c4151(0x700)?showStarredProjectView():(currentProjectId=_0x1cad54,await loadProjectDetails(currentProjectId),showView(_0x1c4151(0x7ae)));}else{if(_0x438bb9){const _0x513bc6=_0x438bb9[_0x1c4151(0x1cf)]['id'],_0x1d131f=_0x438bb9[_0x1c4151(0x1cf)][_0x1c4151(0x6cc)];showConfirmation(_0x1c4151(0x1b6)+_0x1d131f+_0x1c4151(0x658),()=>handleDeleteProject(_0x513bc6));}}}}}),projectList[_0x1bb21e(0x353)](_0x1bb21e(0x8b7),_0x59ea91=>{const _0x5969a5=_0x1bb21e,_0x2d5874=_0x59ea91[_0x5969a5(0x7c2)][_0x5969a5(0x1ef)](_0x5969a5(0x20b));_0x2d5874&&_0x2d5874['classList']['add'](_0x5969a5(0x79e));}),projectList['addEventListener'](_0x1bb21e(0x2fa),_0xe535d=>{const _0x50c7e0=_0x1bb21e,_0x470d96=_0xe535d[_0x50c7e0(0x7c2)][_0x50c7e0(0x1ef)](_0x50c7e0(0x20b));_0x470d96&&_0x470d96[_0x50c7e0(0x2db)][_0x50c7e0(0x327)](_0x50c7e0(0x79e));}),projectList[_0x1bb21e(0x353)](_0x1bb21e(0x640),_0x47cafa=>{const _0x18bb8c=_0x1bb21e;_0x47cafa['preventDefault']();const _0x39d944=document[_0x18bb8c(0x61d)]('.project-card-container.opacity-50');if(!_0x39d944)return;const _0x2c5195=getDragAfterElement(projectList,_0x47cafa[_0x18bb8c(0x1eb)]);_0x2c5195==null?projectList[_0x18bb8c(0x179)](_0x39d944):projectList[_0x18bb8c(0x774)](_0x39d944,_0x2c5195);}),projectList[_0x1bb21e(0x353)](_0x1bb21e(0x5df),_0x109cb9=>{const _0x5f3edd=_0x1bb21e;_0x109cb9['preventDefault']();const _0x57cd2a=[...projectList['querySelectorAll'](_0x5f3edd(0x470))][_0x5f3edd(0x796)](_0x191a5a=>_0x191a5a[_0x5f3edd(0x1cf)]['id']);saveProjectOrder(_0x57cd2a);});function renderBehaviorLog(_0x2f1001){const _0xe72ea6=_0x1bb21e,_0x283f6d=document['getElementById'](_0xe72ea6(0x29f));if(!_0x283f6d)return;const _0x1309ba=_0x2f1001['filter'](_0x3a705e=>_0x3a705e[_0xe72ea6(0x17a)]&&_0x3a705e[_0xe72ea6(0x17a)][_0xe72ea6(0x890)]>0x0);if(_0x1309ba['length']===0x0){_0x283f6d[_0xe72ea6(0x7ac)]=_0xe72ea6(0x1fc);return;}let _0x207957='';_0x1309ba[_0xe72ea6(0x813)](_0x8b102c=>{const _0x1b1d7a=_0xe72ea6;_0x207957+=_0x1b1d7a(0x7b2)+_0x8b102c['studentName']+_0x1b1d7a(0x260),_0x8b102c[_0x1b1d7a(0x17a)][_0x1b1d7a(0x773)]((_0x47a7b2,_0x2eca93)=>new Date(_0x2eca93[_0x1b1d7a(0x503)])-new Date(_0x47a7b2[_0x1b1d7a(0x503)]))[_0x1b1d7a(0x813)](_0x372f85=>{const _0x5b4afd=_0x1b1d7a,_0x327327=new Date(_0x372f85[_0x5b4afd(0x503)])[_0x5b4afd(0x660)]('th-TH',{'dateStyle':_0x5b4afd(0x1b2),'timeStyle':_0x5b4afd(0x6a0)});_0x207957+=_0x5b4afd(0x546)+_0x372f85[_0x5b4afd(0x762)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x327327+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x207957+=_0x1b1d7a(0x3ed);}),_0x283f6d['innerHTML']=_0x207957;}function getDragAfterElement(_0x119be0,_0x31badb){const _0x15aff4=_0x1bb21e,_0x23f99c=[..._0x119be0[_0x15aff4(0x175)](_0x15aff4(0x668))];return _0x23f99c[_0x15aff4(0x243)]((_0x1d1e99,_0x1996ca)=>{const _0xfeb990=_0x15aff4,_0x3f8ac6=_0x1996ca[_0xfeb990(0x27b)](),_0x4a2f1c=_0x31badb-_0x3f8ac6[_0xfeb990(0x565)]-_0x3f8ac6[_0xfeb990(0x707)]/0x2;return _0x4a2f1c<0x0&&_0x4a2f1c>_0x1d1e99[_0xfeb990(0x898)]?{'offset':_0x4a2f1c,'element':_0x1996ca}:_0x1d1e99;},{'offset':Number['NEGATIVE_INFINITY']})[_0x15aff4(0x245)];}async function saveProjectOrder(_0x21f3b1){const _0x192b4b=_0x1bb21e,_0x286fe3=doc(db,_0x192b4b(0x66b),'dashboardConfig');try{await setDoc(_0x286fe3,{'projectOrder':_0x21f3b1},{'merge':!![]});}catch(_0x113cdc){console['error'](_0x192b4b(0x79b),_0x113cdc),showMessage(_0x192b4b(0x73a));}}async function logBehaviorEvent(_0x5a8c8c,_0x2c128f={}){const _0x40a89b=_0x1bb21e;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x40a89b(0x46f)](_0x40a89b(0x333));return;}const _0x45fa82=doc(db,_0x40a89b(0x736)+appId+_0x40a89b(0x190)+currentQuizData['id']+'/submissions',currentStudentName),_0x562105={'event':_0x5a8c8c,'timestamp':new Date()[_0x40a89b(0x709)](),..._0x2c128f};try{await setDoc(_0x45fa82,{'behaviorLog':arrayUnion(_0x562105)},{'merge':!![]}),console[_0x40a89b(0x7e7)](_0x40a89b(0x222)+currentStudentName+_0x40a89b(0x416)+_0x5a8c8c);}catch(_0x5e9f92){console['error']('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x5e9f92);}}function calculateMeanAndStdDev(_0x32dfca){const _0x1631ac=_0x1bb21e;if(_0x32dfca[_0x1631ac(0x890)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1020be=_0x32dfca[_0x1631ac(0x243)]((_0x587b78,_0x1eb72e)=>_0x587b78+_0x1eb72e,0x0)/_0x32dfca[_0x1631ac(0x890)];if(_0x32dfca[_0x1631ac(0x890)]===0x1)return{'mean':_0x1020be,'stdDev':0x0};const _0x26342e=Math[_0x1631ac(0x6a6)](_0x32dfca[_0x1631ac(0x796)](_0x58eb77=>Math[_0x1631ac(0x352)](_0x58eb77-_0x1020be,0x2))['reduce']((_0x47ad98,_0x3e1a7b)=>_0x47ad98+_0x3e1a7b,0x0)/(_0x32dfca[_0x1631ac(0x890)]-0x1));return{'mean':_0x1020be,'stdDev':_0x26342e};}function calculateZScore(_0x5adb73,_0x3dd5,_0x3f536b){if(_0x3f536b===0x0)return 0x0;return(_0x5adb73-_0x3dd5)/_0x3f536b;}function calculateTScore(_0x2fc40c){return 0xa*_0x2fc40c+0x32;}function showStarredProjectView(){const _0x1736be=_0x1bb21e;currentProjectId='starred',currentProjectData=null,projectTitle[_0x1736be(0x83f)]=_0x1736be(0x839),projectIdDisplay[_0x1736be(0x83f)]='pinned-items',showView('project-detail'),manageTab[_0x1736be(0x2db)][_0x1736be(0x15d)]('hidden'),leaderboardTab[_0x1736be(0x2db)][_0x1736be(0x15d)](_0x1736be(0x5e8)),switchProjectTab(_0x1736be(0x772)),renderQuizzes();}async function loadProjectDetails(_0x51bf11){const _0x3253cd=_0x1bb21e,_0x41aa20=doc(db,'artifacts/'+appId+'/public/data/projects',_0x51bf11),_0x35c769=await getDoc(_0x41aa20);if(_0x35c769['exists']()){manageTab[_0x3253cd(0x2db)]['remove'](_0x3253cd(0x5e8)),leaderboardTab['classList'][_0x3253cd(0x327)](_0x3253cd(0x5e8)),currentProjectData=_0x35c769['data'](),projectTitle['textContent']=currentProjectData[_0x3253cd(0x5fe)],projectIdDisplay[_0x3253cd(0x83f)]=_0x51bf11;const _0x2d71b1=currentProjectData['settings']||{};document[_0x3253cd(0x38e)](_0x3253cd(0x4ba))[_0x3253cd(0x491)]=_0x2d71b1[_0x3253cd(0x25c)]||'none';const _0x55b6ff=document['getElementById'](_0x3253cd(0x7a7));_0x55b6ff[_0x3253cd(0x7eb)]=_0x2d71b1['showInStudentDashboard']!==![];const _0x296c14=document[_0x3253cd(0x38e)]('enable-passcode-checkbox'),_0x553344=document[_0x3253cd(0x38e)](_0x3253cd(0x8a1)),_0x3ad7ce=document[_0x3253cd(0x38e)](_0x3253cd(0x862)),_0xf1b54c=_0x2d71b1[_0x3253cd(0x15f)]||![];_0x296c14[_0x3253cd(0x7eb)]=_0xf1b54c,_0x3ad7ce[_0x3253cd(0x491)]=_0x2d71b1[_0x3253cd(0x2f2)]||'',_0x553344[_0x3253cd(0x2db)]['toggle'](_0x3253cd(0x5e8),!_0xf1b54c),_0x296c14[_0x3253cd(0x51d)]=()=>{const _0x45493e=_0x3253cd;_0x553344['classList']['toggle']('hidden',!_0x296c14[_0x45493e(0x7eb)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x51bf11),listenForProjectQuizzes(_0x51bf11),listenForStudentProfiles(_0x51bf11);}else showMessage(_0x3253cd(0x68c)),showView(_0x3253cd(0x25e));}async function handleResetProjectOrder(){const _0x50bb56=_0x1bb21e,_0x2fb898=doc(db,_0x50bb56(0x66b),_0x50bb56(0x6c2));try{await setDoc(_0x2fb898,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x25d242){console[_0x50bb56(0x146)](_0x50bb56(0x13e),_0x25d242),showMessage(_0x50bb56(0x1a0));}}async function handleTogglePinProject(_0x35a4c0){const _0x185434=_0x1bb21e;if(!_0x35a4c0)return;const _0x20e8da=doc(db,_0x185434(0x736)+appId+_0x185434(0x8ae),_0x35a4c0);try{const _0x8edae7=await getDoc(_0x20e8da);if(_0x8edae7[_0x185434(0x62a)]()){const _0xb2f309=_0x8edae7[_0x185434(0x794)]()[_0x185434(0x2ca)]||![];await updateDoc(_0x20e8da,{'isPinned':!_0xb2f309});}}catch(_0xdd77d2){console[_0x185434(0x146)](_0x185434(0x31a),_0xdd77d2),showMessage(_0x185434(0x551));}}async function handleDeleteProject(_0x28487f){const _0x25224b=_0x1bb21e;try{const _0x1242c4=writeBatch(db),_0x5762a8=collection(db,_0x25224b(0x736)+appId+_0x25224b(0x59a)),_0x29fcdf=query(_0x5762a8,where(_0x25224b(0x79a),'==',_0x28487f)),_0x3d53be=await getDocs(_0x29fcdf);for(const _0x3f3de7 of _0x3d53be[_0x25224b(0x601)]){const _0x1b4c15=collection(db,_0x25224b(0x736)+appId+'/public/data/quizzes/'+_0x3f3de7['id']+_0x25224b(0x81a)),_0x544be3=await getDocs(_0x1b4c15);_0x544be3[_0x25224b(0x813)](_0x522c69=>{const _0x499b39=_0x25224b;_0x1242c4[_0x499b39(0x5f5)](_0x522c69[_0x499b39(0x43c)]);}),_0x1242c4['delete'](_0x3f3de7[_0x25224b(0x43c)]);}const _0x2470da=collection(db,_0x25224b(0x736)+appId+_0x25224b(0x752)+_0x28487f+_0x25224b(0x14f)),_0x17d424=await getDocs(_0x2470da);_0x17d424[_0x25224b(0x813)](_0x275a0e=>{const _0x2b5522=_0x25224b;_0x1242c4[_0x2b5522(0x5f5)](_0x275a0e['ref']);});const _0x4525ad=doc(db,_0x25224b(0x736)+appId+_0x25224b(0x8ae),_0x28487f);_0x1242c4[_0x25224b(0x5f5)](_0x4525ad),await _0x1242c4[_0x25224b(0x78c)](),showMessage(_0x25224b(0x32e)),showView('admin-dashboard');}catch(_0x53ff83){console[_0x25224b(0x146)]('Error\x20deleting\x20project:',_0x53ff83),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x1bb21e(0x38e)]('save-settings-btn')['addEventListener'](_0x1bb21e(0x38d),async()=>{const _0x58cb6f=_0x1bb21e;if(!currentProjectId)return;const _0x2e89ac={'defaultNumQuestions':parseInt(document[_0x58cb6f(0x38e)](_0x58cb6f(0x18f))[_0x58cb6f(0x491)]),'defaultNumChoices':parseInt(document[_0x58cb6f(0x38e)]('num-choices')['value']),'defaultPassingScore':parseInt(document[_0x58cb6f(0x38e)](_0x58cb6f(0x5e9))[_0x58cb6f(0x491)]),'resultsDisplay':document[_0x58cb6f(0x38e)](_0x58cb6f(0x22c))[_0x58cb6f(0x491)],'shuffleSetting':document[_0x58cb6f(0x38e)](_0x58cb6f(0x4ba))[_0x58cb6f(0x491)],'timerMode':document[_0x58cb6f(0x38e)](_0x58cb6f(0x55a))[_0x58cb6f(0x491)],'timerDuration':parseInt(document['getElementById'](_0x58cb6f(0x6bf))[_0x58cb6f(0x491)])};try{const _0x82ddbb=doc(db,_0x58cb6f(0x736)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x82ddbb,{'settings':_0x2e89ac}),showMessage(_0x58cb6f(0x57d));}catch(_0x3bdad9){console[_0x58cb6f(0x146)]('Error\x20saving\x20settings:',_0x3bdad9),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x301103){const _0x39bbdd=_0x1bb21e,_0x491853=doc(db,_0x39bbdd(0x736)+appId+_0x39bbdd(0x8ae),_0x301103);unsubscribeStudentsListener=onSnapshot(_0x491853,_0x1554c1=>{const _0x4d19af=_0x39bbdd;if(_0x1554c1[_0x4d19af(0x62a)]()){const _0x194e35=_0x1554c1[_0x4d19af(0x794)]();currentProjectData=_0x194e35,renderStudentList(_0x194e35[_0x4d19af(0x2b6)]||[]);}});}function renderStudentList(_0x2d2926){const _0x119db3=_0x1bb21e,_0x5963e3=document[_0x119db3(0x38e)](_0x119db3(0x672));_0x2d2926[_0x119db3(0x890)]===0x0?(studentList[_0x119db3(0x7ac)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x5963e3[_0x119db3(0x2db)][_0x119db3(0x15d)](_0x119db3(0x5e8))):(studentList[_0x119db3(0x7ac)]=_0x2d2926['map'](_0x47c22a=>_0x119db3(0x405)+_0x47c22a+_0x119db3(0x656)+_0x47c22a+_0x119db3(0x2ea))['join'](''),_0x5963e3['classList'][_0x119db3(0x327)](_0x119db3(0x5e8)));}document[_0x1bb21e(0x38e)](_0x1bb21e(0x167))['addEventListener'](_0x1bb21e(0x38d),async()=>{const _0x4e87a5=_0x1bb21e;if(!currentProjectId)return;const _0x269bef=document[_0x4e87a5(0x38e)](_0x4e87a5(0x71e)),_0x2d677a=_0x269bef[_0x4e87a5(0x491)][_0x4e87a5(0x2d2)]();if(!_0x2d677a){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x2d55f9=_0x2d677a[_0x4e87a5(0x1d4)]('\x0a')[_0x4e87a5(0x796)](_0x333b86=>_0x333b86[_0x4e87a5(0x2d2)]())[_0x4e87a5(0x5d6)](_0x56dab4=>_0x56dab4);if(_0x2d55f9['length']===0x0)return;try{const _0x91dcb2=doc(db,_0x4e87a5(0x736)+appId+_0x4e87a5(0x8ae),currentProjectId),_0x27f507=await getDoc(_0x91dcb2);if(_0x27f507[_0x4e87a5(0x62a)]()){const _0x341762=_0x27f507[_0x4e87a5(0x794)]()[_0x4e87a5(0x2b6)]||[],_0x24f1bb=[...new Set([..._0x341762,..._0x2d55f9])];await updateDoc(_0x91dcb2,{'students':_0x24f1bb}),_0x269bef[_0x4e87a5(0x491)]='';}}catch(_0x446cf7){console[_0x4e87a5(0x146)](_0x4e87a5(0x448),_0x446cf7),showMessage(_0x4e87a5(0x12a));}});async function handleManualQuizPairing(_0x34fd8){const _0x593e54=_0x1bb21e,_0x2009f0=document[_0x593e54(0x38e)](_0x593e54(0x3ef)),_0xc4afbf=document[_0x593e54(0x38e)]('move-quiz-project-select'),_0xef54ba=_0x2009f0[_0x593e54(0x61d)]('h3'),_0x2e41d2=document[_0x593e54(0x38e)](_0x593e54(0x21c)),_0x440b76=document[_0x593e54(0x38e)](_0x593e54(0x160));_0xef54ba[_0x593e54(0x83f)]=_0x593e54(0x2dd),_0xc4afbf['innerHTML']=_0x593e54(0x4ea),_0x2e41d2[_0x593e54(0x83f)]=_0x593e54(0x4a0),_0x2009f0[_0x593e54(0x2db)][_0x593e54(0x327)](_0x593e54(0x5e8));const _0x20eb58=allQuizzes[_0x593e54(0x5d6)](_0x12cec4=>_0x12cec4['id']!==_0x34fd8);_0x20eb58[_0x593e54(0x890)]===0x0?(_0xc4afbf[_0x593e54(0x7ac)]=_0x593e54(0x7b5),_0x2e41d2[_0x593e54(0x5f4)]=!![]):(_0xc4afbf['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x20eb58[_0x593e54(0x796)](_0x4d431b=>_0x593e54(0x23d)+_0x4d431b['id']+'\x22>'+_0x4d431b['topic']+_0x593e54(0x6ec))[_0x593e54(0x4d7)](''),_0x2e41d2[_0x593e54(0x5f4)]=![]);const _0x5d0728=async()=>{const _0x57bbb8=_0x593e54,_0x4cc22e=_0xc4afbf[_0x57bbb8(0x491)];if(!_0x4cc22e){showMessage(_0x57bbb8(0x6f2));return;}_0x2e41d2[_0x57bbb8(0x5f4)]=!![],_0x2e41d2[_0x57bbb8(0x83f)]=_0x57bbb8(0x8e9);try{const _0x994b74=doc(db,'artifacts/'+appId+_0x57bbb8(0x59a),_0x34fd8),_0x197371=doc(db,_0x57bbb8(0x736)+appId+'/public/data/quizzes',_0x4cc22e),_0x1fb849=writeBatch(db);_0x1fb849[_0x57bbb8(0x3ee)](_0x994b74,{'pairedQuizId':_0x4cc22e}),_0x1fb849[_0x57bbb8(0x3ee)](_0x197371,{'pairedQuizId':_0x34fd8}),await _0x1fb849[_0x57bbb8(0x78c)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x2009f0[_0x57bbb8(0x2db)][_0x57bbb8(0x15d)](_0x57bbb8(0x5e8));}catch(_0xbf0155){console['error'](_0x57bbb8(0x3c7),_0xbf0155),showMessage(_0x57bbb8(0x373));}finally{_0xef54ba[_0x57bbb8(0x83f)]=_0x57bbb8(0x303),_0x2e41d2[_0x57bbb8(0x83f)]='ย้าย',_0x2e41d2[_0x57bbb8(0x5f4)]=![],_0x2e41d2[_0x57bbb8(0x310)](_0x57bbb8(0x38d),_0x5d0728),_0x440b76['removeEventListener'](_0x57bbb8(0x38d),_0x4db1dd);}},_0x4db1dd=()=>{const _0x123d99=_0x593e54;_0x2009f0[_0x123d99(0x2db)][_0x123d99(0x15d)](_0x123d99(0x5e8)),_0xef54ba['textContent']=_0x123d99(0x303),_0x2e41d2['textContent']='ย้าย',_0x2e41d2['removeEventListener'](_0x123d99(0x38d),_0x5d0728),_0x440b76[_0x123d99(0x310)](_0x123d99(0x38d),_0x4db1dd);};_0x2e41d2[_0x593e54(0x353)](_0x593e54(0x38d),_0x5d0728),_0x440b76[_0x593e54(0x353)]('click',_0x4db1dd);}function handleDeleteStudent(_0x14a082){const _0x1adf48=_0x1bb21e;showConfirmation(_0x1adf48(0x469)+_0x14a082+_0x1adf48(0x2d6),async()=>{const _0x4e64ad=_0x1adf48;if(!currentProjectId||!currentProjectData)return;const _0x11f958=currentProjectData[_0x4e64ad(0x2b6)][_0x4e64ad(0x5d6)](_0x29dabf=>_0x29dabf!==_0x14a082);try{const _0x13151c=doc(db,_0x4e64ad(0x736)+appId+_0x4e64ad(0x8ae),currentProjectId),_0x484c6b=doc(db,'artifacts/'+appId+_0x4e64ad(0x752)+currentProjectId+'/studentProfiles',_0x14a082),_0x5d3dc2=writeBatch(db);_0x5d3dc2['update'](_0x13151c,{'students':_0x11f958}),_0x5d3dc2[_0x4e64ad(0x5f5)](_0x484c6b),await _0x5d3dc2[_0x4e64ad(0x78c)]();}catch(_0x2c89e6){console['error'](_0x4e64ad(0x3be),_0x2c89e6),showMessage(_0x4e64ad(0x1b7));}});}function handleDeleteAllStudents(){const _0x38655e=_0x1bb21e;showConfirmation(_0x38655e(0x6d9),async()=>{const _0x1edd55=_0x38655e;if(!currentProjectId)return;try{const _0xc82095=doc(db,_0x1edd55(0x736)+appId+_0x1edd55(0x8ae),currentProjectId),_0x38fd2d=collection(db,_0x1edd55(0x736)+appId+_0x1edd55(0x752)+currentProjectId+'/studentProfiles'),_0x3a22e1=await getDocs(_0x38fd2d),_0x1fdeae=writeBatch(db);_0x1fdeae[_0x1edd55(0x3ee)](_0xc82095,{'students':[]}),_0x3a22e1['forEach'](_0xc3576d=>_0x1fdeae[_0x1edd55(0x5f5)](_0xc3576d[_0x1edd55(0x43c)])),await _0x1fdeae[_0x1edd55(0x78c)]();}catch(_0x2a5f92){console['error'](_0x1edd55(0x4f1),_0x2a5f92),showMessage(_0x1edd55(0x26d));}});}async function handleGenerateFromFileClick(){const _0x43c83d=_0x1bb21e;if(!selectedFile){showMessage(_0x43c83d(0x1aa));return;}const _0x21eb20=document[_0x43c83d(0x38e)](_0x43c83d(0x41a)),_0x9a5db3=document['getElementById'](_0x43c83d(0x68e)),_0xe39332=document[_0x43c83d(0x38e)](_0x43c83d(0x87e)),_0x40d79a=document[_0x43c83d(0x38e)](_0x43c83d(0x313));_0x40d79a[_0x43c83d(0x5f4)]=!![],document[_0x43c83d(0x38e)](_0x43c83d(0x5c7))['classList']['remove'](_0x43c83d(0x5e8)),_0xe39332['innerHTML']='',_0x21eb20[_0x43c83d(0x2db)][_0x43c83d(0x327)](_0x43c83d(0x5e8)),_0x9a5db3[_0x43c83d(0x83f)]=_0x43c83d(0x829);const _0x3bb741=new FileReader();_0x3bb741[_0x43c83d(0x82a)](selectedFile),_0x3bb741[_0x43c83d(0x85c)]=async()=>{const _0x285005=_0x43c83d;try{const _0x76f158=_0x3bb741[_0x285005(0x36f)][_0x285005(0x1d4)](',')[0x1],_0x35dce3=selectedFile['type'];await generateQuizFromFile(_0x35dce3,_0x76f158);}catch(_0x415f8f){console['error'](_0x285005(0x265),_0x415f8f),showMessage(_0x285005(0x574)+_0x415f8f[_0x285005(0x743)]),_0x21eb20[_0x285005(0x2db)][_0x285005(0x15d)](_0x285005(0x5e8));}finally{}},_0x3bb741[_0x43c83d(0x880)]=_0x275b09=>{const _0x42ce0f=_0x43c83d;console[_0x42ce0f(0x146)]('FileReader\x20error:',_0x275b09),showMessage(_0x42ce0f(0x681)),_0x21eb20['classList']['add']('hidden'),_0x40d79a[_0x42ce0f(0x5f4)]=![];};}function autoFormatMath(_0x1f8185){const _0x53f9d4=_0x1bb21e;if(typeof _0x1f8185!==_0x53f9d4(0x1e3)||!_0x1f8185)return _0x1f8185;const _0x8848fa=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0xe90223=_0x1f8185[_0x53f9d4(0x7af)](_0x8848fa,_0x231302=>{const _0x56541c=_0x53f9d4;return'$'+_0x231302[_0x56541c(0x2d2)]()+'$';});return _0xe90223;}function sanitizeQuizData(_0xd7d8d7){const _0x554be2=_0x1bb21e;if(!_0xd7d8d7||!_0xd7d8d7[_0x554be2(0x1f8)])return _0xd7d8d7;const _0x324f00={'imes':_0x554be2(0x49e),'div':_0x554be2(0x608)},_0x451502=_0x1a2356=>{const _0x3c59b6=_0x554be2;if(typeof _0x1a2356!==_0x3c59b6(0x1e3))return _0x1a2356;let _0x4c9a29=_0x1a2356;for(const [_0x4bbe8e,_0x5b9a65]of Object['entries'](_0x324f00)){const _0x550a56=new RegExp('\x5cb'+_0x4bbe8e+'\x5cb','g');_0x4c9a29=_0x4c9a29['replace'](_0x550a56,_0x5b9a65);}return _0x4c9a29=_0x4c9a29[_0x3c59b6(0x7af)](/\\\//g,_0x3c59b6(0x608)),_0x4c9a29=_0x4c9a29['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x3c59b6(0x608))[_0x3c59b6(0x7af)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')['replace'](/÷/g,_0x3c59b6(0x608))[_0x3c59b6(0x7af)](/×/g,_0x3c59b6(0x49e)),_0x4c9a29=_0x4c9a29[_0x3c59b6(0x7af)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x4c9a29=autoFormatMath(_0x4c9a29),_0x4c9a29;};return _0xd7d8d7[_0x554be2(0x76d)]&&(_0xd7d8d7[_0x554be2(0x76d)]=_0x451502(_0xd7d8d7[_0x554be2(0x76d)])),_0xd7d8d7[_0x554be2(0x1f8)]['forEach'](_0x2f0ca0=>{const _0x1cff25=_0x554be2;_0x2f0ca0[_0x1cff25(0x20d)]=_0x451502(_0x2f0ca0[_0x1cff25(0x20d)]),_0x2f0ca0[_0x1cff25(0x6e3)]&&(_0x2f0ca0[_0x1cff25(0x6e3)]=_0x2f0ca0[_0x1cff25(0x6e3)]['map'](_0x451502)),_0x2f0ca0['explanation']&&(_0x2f0ca0[_0x1cff25(0x2f5)]=_0x451502(_0x2f0ca0[_0x1cff25(0x2f5)])),_0x2f0ca0[_0x1cff25(0x1d1)]&&(_0x2f0ca0[_0x1cff25(0x1d1)]=_0x451502(_0x2f0ca0['stem'])),_0x2f0ca0['correctResponse']&&(_0x2f0ca0[_0x1cff25(0x3bd)]=_0x451502(_0x2f0ca0[_0x1cff25(0x3bd)])),_0x2f0ca0[_0x1cff25(0x33f)]&&(_0x2f0ca0[_0x1cff25(0x33f)]=_0x2f0ca0['allResponses'][_0x1cff25(0x796)](_0x451502));}),_0xd7d8d7;}const simpleMathPrompt=_0x1bb21e(0x855);async function handleGenerateFromLink(){const _0x131239=_0x1bb21e,_0x298daf=document[_0x131239(0x38e)](_0x131239(0x642)),_0x196ef3=document[_0x131239(0x38e)]('link-topic-input'),_0x3788c1=_0x298daf[_0x131239(0x491)]['trim'](),_0x9411d0=_0x196ef3['value'][_0x131239(0x2d2)]();if(!_0x3788c1){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x384f18=document['getElementById'](_0x131239(0x41a)),_0x5cb91e=document[_0x131239(0x38e)]('loader-text'),_0x3fab6b=document[_0x131239(0x38e)](_0x131239(0x87e)),_0x239a89=document[_0x131239(0x38e)]('generate-from-link-btn');document[_0x131239(0x38e)]('quiz-generation-area')[_0x131239(0x2db)][_0x131239(0x327)](_0x131239(0x5e8)),_0x3fab6b[_0x131239(0x7ac)]='',_0x384f18[_0x131239(0x2db)][_0x131239(0x327)](_0x131239(0x5e8)),_0x5cb91e[_0x131239(0x83f)]=_0x131239(0x49c),_0x239a89[_0x131239(0x5f4)]=!![];try{const _0x128e49=_0x131239(0x54c)+encodeURIComponent(_0x3788c1),_0x3ebb1c=await fetch(_0x128e49);if(!_0x3ebb1c['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x3ebb1c[_0x131239(0x613)]+')');const _0x34c731=await _0x3ebb1c['text'](),_0x155506=extractTextFromHtml(_0x34c731);if(!_0x155506||_0x155506[_0x131239(0x890)]<0x64)throw new Error(_0x131239(0x6cb));await generateQuiz(_0x9411d0,_0x155506);}catch(_0x281725){console[_0x131239(0x146)](_0x131239(0x6ff),_0x281725),showMessage(_0x131239(0x1a7)+_0x281725[_0x131239(0x743)]),_0x3fab6b[_0x131239(0x7ac)]=_0x131239(0x735);}finally{_0x384f18[_0x131239(0x2db)][_0x131239(0x15d)](_0x131239(0x5e8)),_0x239a89['disabled']=![];}}function extractTextFromHtml(_0x109bb0){const _0x3f85d7=_0x1bb21e,_0xaa46f6=new DOMParser()[_0x3f85d7(0x6a9)](_0x109bb0,_0x3f85d7(0x5ee));return _0xaa46f6[_0x3f85d7(0x175)](_0x3f85d7(0x645))[_0x3f85d7(0x813)](_0x4c5d46=>_0x4c5d46[_0x3f85d7(0x327)]()),_0xaa46f6[_0x3f85d7(0x487)][_0x3f85d7(0x83f)]||'';}document[_0x1bb21e(0x38e)](_0x1bb21e(0x7f9))[_0x1bb21e(0x353)](_0x1bb21e(0x38d),()=>{const _0xddffb2=_0x1bb21e,_0x2b844b=document[_0xddffb2(0x38e)](_0xddffb2(0x7bf))[_0xddffb2(0x491)]['trim']();generateQuiz(_0x2b844b,null);}),document[_0x1bb21e(0x38e)](_0x1bb21e(0x75c))[_0x1bb21e(0x353)](_0x1bb21e(0x38d),()=>{const _0x119446=_0x1bb21e,_0x4af2ad=document[_0x119446(0x38e)]('text-content-input')[_0x119446(0x491)][_0x119446(0x2d2)]();if(!_0x4af2ad){showMessage(_0x119446(0x843));return;}const _0x304111=document[_0x119446(0x38e)](_0x119446(0x7bf))[_0x119446(0x491)][_0x119446(0x2d2)]();generateQuiz(_0x304111,_0x4af2ad);});async function generateQuiz(_0xf8307a,_0x2dfcf1,_0x7a9dda=null){const _0x5b5734=_0x1bb21e,_0xdcc13f=document[_0x5b5734(0x38e)](_0x5b5734(0x808))['checked'],_0x3e9f74=document[_0x5b5734(0x38e)]('quiz-type-select')[_0x5b5734(0x491)],_0xea0d4=document[_0x5b5734(0x38e)]('num-questions')['value'],_0x41fab8=document[_0x5b5734(0x38e)]('num-choices')['value'],_0x5a3eea=document['getElementById'](_0x5b5734(0x345))['checked'],_0x3a1cfe=_0x5a3eea?'':_0x5b5734(0x67f),_0x3bcf34=document[_0x5b5734(0x38e)](_0x5b5734(0x844)),_0x598cb7=_0x3bcf34[_0x5b5734(0x491)];let _0x581e6d='';_0x598cb7!==_0x5b5734(0x3cd)&&(_0x581e6d=_0x5b5734(0x8d4)+_0x598cb7+'\x22');const _0x1aa258=document[_0x5b5734(0x38e)](_0x5b5734(0x441)),_0x503c76=_0x1aa258['value'];let _0x13ec6c='';_0x503c76!==_0x5b5734(0x599)&&(_0x13ec6c=_0x5b5734(0x66f)+_0x503c76+_0x5b5734(0x85f));const _0x36fa6d=document[_0x5b5734(0x175)](_0x5b5734(0x765)),_0x516ad9=Array[_0x5b5734(0x3cf)](_0x36fa6d)[_0x5b5734(0x796)](_0x2da3a6=>_0x2da3a6[_0x5b5734(0x491)]);let _0x44a609='';_0x516ad9['length']>0x0&&(_0x44a609=_0x5b5734(0x859)+_0x516ad9[_0x5b5734(0x4d7)](',\x20')+_0x5b5734(0x517));let _0x35745a='',_0x3a887c='',_0x251eab,_0x269c4f=_0x5b5734(0x50b)+_0xf8307a+'\x22';if(!_0xf8307a&&_0x2dfcf1)_0x269c4f=_0x5b5734(0x61c);else!_0xf8307a&&!_0x2dfcf1&&(_0x269c4f=_0x5b5734(0x5c4));const _0x26b3a7={'type':_0x5b5734(0x7f2),'properties':{'questionText':{'type':_0x5b5734(0x501)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5b5734(0x501)},'imageCode':{'type':_0x5b5734(0x501)}},'required':[_0x5b5734(0x20d),_0x5b5734(0x6e3),_0x5b5734(0x420),_0x5b5734(0x2f5)]},_0x4ac620={'type':_0x5b5734(0x7f2),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x5b5734(0x501)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5b5734(0x20d),_0x5b5734(0x1fb),'explanation']},_0x550d3c={'type':_0x5b5734(0x7f2),'properties':{'questionText':{'type':_0x5b5734(0x501)},'questionType':{'type':_0x5b5734(0x501),'enum':['multiple_choice',_0x5b5734(0x3fe)]},'options':{'type':_0x5b5734(0x60a),'items':{'type':_0x5b5734(0x501)}},'correctAnswerIndex':{'type':_0x5b5734(0x830)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5b5734(0x501)},'imageCode':{'type':_0x5b5734(0x501)}},'required':['questionText',_0x5b5734(0x4c7),_0x5b5734(0x2f5)]},_0x592981={'type':'OBJECT','properties':{'questionText':{'type':_0x5b5734(0x501)},'correctAnswer':{'type':_0x5b5734(0x462)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5b5734(0x501)}},'required':['questionText',_0x5b5734(0x5d3),_0x5b5734(0x2f5)]},_0x3efe21={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x5b5734(0x2cf)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x5b5734(0x501)},'allResponses':{'type':'ARRAY','items':{'type':_0x5b5734(0x501)}},'explanation':{'type':_0x5b5734(0x501)},'imageCode':{'type':_0x5b5734(0x501)}},'required':['questionType',_0x5b5734(0x1d1),_0x5b5734(0x3bd),_0x5b5734(0x33f),_0x5b5734(0x2f5)]};let _0x4b5794;if(_0x7a9dda!==null){const _0x665f93=currentQuizData[_0x5b5734(0x1f8)][_0x7a9dda][_0x5b5734(0x4c7)],_0x3d2f37=_0xdcc13f?_0x5b5734(0x1b5):'';_0x35745a='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x269c4f+'\x20'+_0x44a609+'\x20'+_0x581e6d+_0x5b5734(0x840)+_0x3d2f37+'\x20'+simpleMathPrompt;if(_0x665f93===_0x5b5734(0x4a9))_0x251eab=_0x26b3a7;else{if(_0x665f93==='matching_item')_0x251eab={'type':_0x5b5734(0x7f2),'properties':{'questionType':{'type':'STRING','enum':[_0x5b5734(0x2cf)]},'stem':{'type':_0x5b5734(0x501)},'correctResponse':{'type':_0x5b5734(0x501)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5b5734(0x501)}},'required':['questionType',_0x5b5734(0x1d1),_0x5b5734(0x3bd),'explanation']};else _0x251eab=_0x4ac620;}_0x4b5794=_0x251eab;}else{const _0x52352a=_0xdcc13f?_0x5b5734(0x48d):'',_0x55e428='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x3e9f74){case _0x5b5734(0x4a9):_0x35745a=_0x5b5734(0x47b)+_0x3a1cfe+'\x20'+_0xea0d4+_0x5b5734(0x6ac)+_0x269c4f+'\x20'+_0x44a609+'\x20'+_0x581e6d+'\x20'+_0x13ec6c+_0x5b5734(0x3bf)+_0x41fab8+_0x5b5734(0x876)+_0x52352a+'\x20'+simpleMathPrompt,_0x251eab=_0x26b3a7;break;case _0x5b5734(0x1da):_0x35745a=_0x5b5734(0x28d)+_0x3a1cfe+'\x20'+_0xea0d4+'\x20ข้อ\x20'+_0x269c4f+'\x20'+_0x44a609+'\x20'+_0x581e6d+'\x20'+_0x13ec6c+_0x5b5734(0x88c)+_0x41fab8+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x52352a+'\x20'+simpleMathPrompt,_0x251eab=_0x26b3a7;break;case _0x5b5734(0x588):_0x35745a=_0x5b5734(0x28d)+_0x3a1cfe+'\x20'+_0xea0d4+_0x5b5734(0x6ac)+_0x269c4f+'\x20'+_0x44a609+'\x20'+_0x581e6d+'\x20'+_0x13ec6c+_0x5b5734(0x184)+_0x52352a+'\x20'+simpleMathPrompt,_0x251eab=_0x4ac620;break;case _0x5b5734(0x599):_0x35745a=_0x5b5734(0x753)+_0x3a1cfe+'\x20'+_0xea0d4+_0x5b5734(0x6ac)+_0x269c4f+'\x20'+_0x44a609+'\x20'+_0x581e6d+'\x20'+_0x13ec6c+_0x5b5734(0x7d6)+_0x41fab8+'\x20ตัวเลือก.\x20'+_0x52352a+'\x20'+simpleMathPrompt+'.',_0x251eab=_0x550d3c;break;case'true_false':_0x35745a=_0x5b5734(0x526)+_0x3a1cfe+'\x20'+_0xea0d4+_0x5b5734(0x6ac)+_0x269c4f+'\x20'+_0x44a609+'\x20'+_0x581e6d+'\x20'+_0x13ec6c+_0x5b5734(0x6bc)+_0x52352a+'\x20'+simpleMathPrompt,_0x251eab=_0x592981;break;case _0x5b5734(0x710):_0x35745a=_0x5b5734(0x6e4)+_0x3a1cfe+'\x20'+_0xea0d4+_0x5b5734(0x7dd)+_0x269c4f+'\x20'+_0x44a609+'\x20'+_0x581e6d+'\x20'+_0x13ec6c+_0x5b5734(0x5ff)+_0x52352a+'\x20'+simpleMathPrompt,_0x251eab=_0x3efe21;break;}_0x4b5794={'type':_0x5b5734(0x7f2),'properties':{'topic':{'type':_0x5b5734(0x501)},'questions':{'type':'ARRAY','items':_0x251eab}},'required':[_0x5b5734(0x76d),_0x5b5734(0x1f8)]};}return _0x2dfcf1?(_0x35745a=_0x5b5734(0x5d7)+_0x2dfcf1+_0x5b5734(0x1fe)+_0x35745a,_0x3a887c='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x3a887c='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x35745a,_0x3a887c,_0x4b5794,_0x7a9dda);}async function generateQuizFromFile(_0x360ffd,_0x18e2f3){const _0x4a48c5=_0x1bb21e,_0x4b864c=document['getElementById']('file-topic-input')[_0x4a48c5(0x491)][_0x4a48c5(0x2d2)](),_0x1f86b6=document[_0x4a48c5(0x38e)](_0x4a48c5(0x288))[_0x4a48c5(0x491)],_0x22b8ed=document[_0x4a48c5(0x38e)]('num-questions')[_0x4a48c5(0x491)],_0x52c587=document[_0x4a48c5(0x38e)](_0x4a48c5(0x1e1))[_0x4a48c5(0x491)],_0xba6bb4=document['getElementById']('include-images-checkbox')[_0x4a48c5(0x7eb)],_0x101946=document['getElementById'](_0x4a48c5(0x345))['checked'],_0x5479c1=_0x101946?'':'คณิตศาสตร์';let _0x26b688='',_0x3fd56f,_0x5cd5d7=_0x4a48c5(0x50b)+_0x4b864c+'\x22';!_0x4b864c&&(_0x5cd5d7=_0x4a48c5(0x2d8));const _0x22d58a=_0xba6bb4?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x1f86b6){case _0x4a48c5(0x4a9):_0x26b688=_0x4a48c5(0x47b)+_0x5479c1+'\x20'+_0x22b8ed+_0x4a48c5(0x6ac)+_0x5cd5d7+'.\x20แต่ละข้อมี\x20'+_0x52c587+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x22d58a+'\x20'+simpleMathPrompt,_0x3fd56f={'type':_0x4a48c5(0x7f2),'properties':{'questionText':{'type':_0x4a48c5(0x501)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x4a48c5(0x501)},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x4a48c5(0x420),_0x4a48c5(0x2f5)]};break;case'fill_in_with_choices':_0x26b688='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x5479c1+'\x20'+_0x22b8ed+_0x4a48c5(0x6ac)+_0x5cd5d7+_0x4a48c5(0x88c)+_0x52c587+_0x4a48c5(0x3c2)+_0x22d58a+'\x20'+simpleMathPrompt,_0x3fd56f={'type':'OBJECT','properties':{'questionText':{'type':_0x4a48c5(0x501)},'options':{'type':_0x4a48c5(0x60a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4a48c5(0x830)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4a48c5(0x501)}},'required':[_0x4a48c5(0x20d),_0x4a48c5(0x6e3),_0x4a48c5(0x420),_0x4a48c5(0x2f5)]};break;case'fill_in_no_choices':_0x26b688=_0x4a48c5(0x28d)+_0x5479c1+'\x20'+_0x22b8ed+_0x4a48c5(0x6ac)+_0x5cd5d7+_0x4a48c5(0x184)+_0x22d58a+'\x20'+simpleMathPrompt,_0x3fd56f={'type':_0x4a48c5(0x7f2),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x4a48c5(0x501)},'explanation':{'type':_0x4a48c5(0x501)},'imageCode':{'type':_0x4a48c5(0x501)}},'required':[_0x4a48c5(0x20d),_0x4a48c5(0x1fb),'explanation']};break;case _0x4a48c5(0x599):_0x26b688=_0x4a48c5(0x753)+_0x5479c1+'\x20'+_0x22b8ed+_0x4a48c5(0x6ac)+_0x5cd5d7+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x52c587+'\x20ตัวเลือก.\x20'+_0x22d58a+'\x20'+simpleMathPrompt+_0x4a48c5(0x471),_0x3fd56f={'type':'OBJECT','properties':{'questionText':{'type':_0x4a48c5(0x501)},'questionType':{'type':_0x4a48c5(0x501),'enum':[_0x4a48c5(0x4a9),_0x4a48c5(0x3fe)]},'options':{'type':_0x4a48c5(0x60a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4a48c5(0x830)},'idealAnswer':{'type':_0x4a48c5(0x501)},'explanation':{'type':_0x4a48c5(0x501)},'imageCode':{'type':_0x4a48c5(0x501)}},'required':[_0x4a48c5(0x20d),_0x4a48c5(0x4c7),'explanation']};break;case _0x4a48c5(0x6df):_0x26b688=_0x4a48c5(0x526)+_0x5479c1+'\x20'+_0x22b8ed+_0x4a48c5(0x6ac)+_0x5cd5d7+_0x4a48c5(0x22d)+_0x22d58a+'\x20'+simpleMathPrompt,_0x3fd56f={'type':_0x4a48c5(0x7f2),'properties':{'questionText':{'type':_0x4a48c5(0x501)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x4a48c5(0x501)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x4a48c5(0x5d3),_0x4a48c5(0x2f5)]};break;case _0x4a48c5(0x710):_0x26b688=_0x4a48c5(0x6e4)+_0x5479c1+'\x20'+_0x22b8ed+_0x4a48c5(0x7dd)+_0x5cd5d7+_0x4a48c5(0x8ac)+_0x22b8ed+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x22d58a+'\x20'+simpleMathPrompt,_0x3fd56f={'type':'OBJECT','properties':{'questionType':{'type':_0x4a48c5(0x501),'enum':['matching_item']},'stem':{'type':_0x4a48c5(0x501)},'correctResponse':{'type':_0x4a48c5(0x501)},'allResponses':{'type':_0x4a48c5(0x60a),'items':{'type':'STRING'}},'explanation':{'type':_0x4a48c5(0x501)},'imageCode':{'type':_0x4a48c5(0x501)}},'required':['questionType',_0x4a48c5(0x1d1),_0x4a48c5(0x3bd),_0x4a48c5(0x33f),_0x4a48c5(0x2f5)]};break;}const _0x55931c={'type':'OBJECT','properties':{'topic':{'type':_0x4a48c5(0x501)},'questions':{'type':'ARRAY','items':_0x3fd56f}},'required':['topic',_0x4a48c5(0x1f8)]},_0x3c8b52=_0x4a48c5(0x1be)+_0x26b688,_0x312e4f={'contents':[{'parts':[{'text':_0x3c8b52},{'inlineData':{'mimeType':_0x360ffd,'data':_0x18e2f3}}]}],'generationConfig':{'responseMimeType':_0x4a48c5(0x1e8),'responseSchema':_0x55931c}};return handleApiCall(_0x312e4f[_0x4a48c5(0x867)][0x0][_0x4a48c5(0x7d1)],_0x4a48c5(0x16f),_0x55931c);}async function handleApiCall(_0x3d5a4d,_0x2c9571,_0x140be4,_0x52d3b6=null){const _0x26a4e6=_0x1bb21e,_0x10fe85=document[_0x26a4e6(0x38e)](_0x26a4e6(0x5c7)),_0x159342=document[_0x26a4e6(0x38e)]('loader'),_0x143529=document[_0x26a4e6(0x38e)](_0x26a4e6(0x68e)),_0x44ac56=document[_0x26a4e6(0x38e)]('generated-quiz-container');_0x10fe85[_0x26a4e6(0x2db)][_0x26a4e6(0x327)](_0x26a4e6(0x5e8));_0x52d3b6===null&&(_0x44ac56[_0x26a4e6(0x7ac)]='');_0x159342['classList'][_0x26a4e6(0x327)](_0x26a4e6(0x5e8)),_0x143529['textContent']=_0x2c9571,document[_0x26a4e6(0x38e)]('generate-from-topic-btn')[_0x26a4e6(0x5f4)]=!![],document[_0x26a4e6(0x38e)](_0x26a4e6(0x75c))[_0x26a4e6(0x5f4)]=!![],document[_0x26a4e6(0x38e)](_0x26a4e6(0x20e))[_0x26a4e6(0x5f4)]=!![];try{const _0x5a6db0={'responseMimeType':'application/json','responseSchema':_0x140be4},_0x3c28fc=Array[_0x26a4e6(0x733)](_0x3d5a4d)?_0x3d5a4d:[{'text':_0x3d5a4d}],_0x26dc74={'contents':[{'role':_0x26a4e6(0x559),'parts':_0x3c28fc}],'generationConfig':_0x5a6db0},_0x5a80c4='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x5d0795=_0x26a4e6(0x88f)+_0x5a80c4,_0x4124d8=await fetch(_0x5d0795,{'method':_0x26a4e6(0x866),'headers':{'Content-Type':'application/json'},'body':JSON[_0x26a4e6(0x644)](_0x26dc74)});if(!_0x4124d8['ok'])throw new Error(_0x26a4e6(0x697)+_0x4124d8[_0x26a4e6(0x613)]);const _0xcd4b9f=await _0x4124d8[_0x26a4e6(0x22f)]();if(_0xcd4b9f['candidates']?.[0x0]?.[_0x26a4e6(0x7aa)]?.[_0x26a4e6(0x7d1)]?.[0x0]){let _0x46c7ba=_0xcd4b9f[_0x26a4e6(0x7a9)][0x0][_0x26a4e6(0x7aa)][_0x26a4e6(0x7d1)][0x0]['text'],_0x452d29;try{if(_0x46c7ba[_0x26a4e6(0x1f4)](_0x26a4e6(0x4e1)))_0x46c7ba=_0x46c7ba[_0x26a4e6(0x504)](0x7,_0x46c7ba[_0x26a4e6(0x890)]-0x3)[_0x26a4e6(0x2d2)]();else _0x46c7ba[_0x26a4e6(0x1f4)](_0x26a4e6(0x44d))&&(_0x46c7ba=_0x46c7ba[_0x26a4e6(0x504)](0x3,_0x46c7ba[_0x26a4e6(0x890)]-0x3)[_0x26a4e6(0x2d2)]());_0x452d29=JSON['parse'](_0x46c7ba);}catch(_0x1936d6){console[_0x26a4e6(0x146)](_0x26a4e6(0x693),_0x1936d6,_0x46c7ba);throw new Error(_0x26a4e6(0x240));}if(_0x52d3b6!==null){if(_0x452d29[_0x26a4e6(0x4c7)]==='matching_item'){const _0x56648c=currentQuizData[_0x26a4e6(0x1f8)][_0x26a4e6(0x796)](_0x4859f4=>_0x4859f4[_0x26a4e6(0x3bd)]);_0x452d29[_0x26a4e6(0x33f)]=_0x56648c;const _0x1b1cb1=currentQuizData[_0x26a4e6(0x1f8)][_0x52d3b6]['correctResponse'],_0x1ea8bb=_0x56648c['indexOf'](_0x1b1cb1);_0x1ea8bb>-0x1&&(_0x56648c[_0x1ea8bb]=_0x452d29[_0x26a4e6(0x3bd)]),currentQuizData[_0x26a4e6(0x1f8)]['forEach'](_0x33c059=>{const _0x363fbb=_0x26a4e6;if(_0x33c059[_0x363fbb(0x4c7)]===_0x363fbb(0x2cf))_0x33c059[_0x363fbb(0x33f)]=_0x56648c;});}currentQuizData[_0x26a4e6(0x1f8)][_0x52d3b6]=_0x452d29,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x452d29;const _0x455e9c=document[_0x26a4e6(0x38e)](_0x26a4e6(0x288))[_0x26a4e6(0x491)];currentQuizData[_0x26a4e6(0x279)]=_0x455e9c,currentQuizData[_0x26a4e6(0x1f8)]&&currentQuizData[_0x26a4e6(0x1f8)]['forEach'](_0x15cb6e=>{const _0x57ae8d=_0x26a4e6;if(!_0x15cb6e['questionType']){if(_0x455e9c==='fill_in_with_choices')_0x15cb6e['questionType']='multiple_choice';else _0x455e9c==='fill_in_no_choices'?_0x15cb6e['questionType']=_0x57ae8d(0x3fe):_0x15cb6e[_0x57ae8d(0x4c7)]=_0x455e9c;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x26a4e6(0x146)](_0x26a4e6(0x287),JSON[_0x26a4e6(0x644)](_0xcd4b9f));throw new Error(_0x26a4e6(0x240));}}catch(_0x3f4c3d){console[_0x26a4e6(0x146)](_0x26a4e6(0x337),_0x3f4c3d),showMessage(_0x26a4e6(0x537)),_0x52d3b6===null&&(_0x44ac56[_0x26a4e6(0x7ac)]=_0x26a4e6(0x690));}finally{_0x159342[_0x26a4e6(0x2db)]['add'](_0x26a4e6(0x5e8)),document['getElementById'](_0x26a4e6(0x7f9))[_0x26a4e6(0x5f4)]=![],document[_0x26a4e6(0x38e)](_0x26a4e6(0x75c))['disabled']=![],document[_0x26a4e6(0x38e)]('generate-from-link-btn')[_0x26a4e6(0x5f4)]=![];const _0x1a86ad=document['getElementById'](_0x26a4e6(0x313));_0x1a86ad&&(_0x1a86ad[_0x26a4e6(0x5f4)]=![]);}}function exitFullscreen(){const _0x59374d=_0x1bb21e;if(document[_0x59374d(0x68a)])document['exitFullscreen']()['catch'](_0x51d6c6=>console[_0x59374d(0x146)](_0x51d6c6));else{if(document[_0x59374d(0x6e9)])document[_0x59374d(0x6e9)]();else document[_0x59374d(0x52d)]&&document[_0x59374d(0x52d)]();}}function enterFullscreen(){const _0x1bd69b=_0x1bb21e,_0xf5075c=document[_0x1bd69b(0x8c4)];if(_0xf5075c[_0x1bd69b(0x550)])_0xf5075c[_0x1bd69b(0x550)]()[_0x1bd69b(0x88a)](_0xf1557c=>{const _0x3521f1=_0x1bd69b;console[_0x3521f1(0x146)](_0x3521f1(0x766)+_0xf1557c[_0x3521f1(0x743)]+'\x20('+_0xf1557c[_0x3521f1(0x6cc)]+')');});else{if(_0xf5075c['webkitRequestFullscreen'])_0xf5075c[_0x1bd69b(0x249)]();else _0xf5075c[_0x1bd69b(0x13d)]&&_0xf5075c[_0x1bd69b(0x13d)]();}}function handleVisibilityChange(){const _0x3ceac6=_0x1bb21e;if(currentMode===_0x3ceac6(0x5bd))return;isQuizActive&&document[_0x3ceac6(0x3f6)]==='hidden'&&(cheatAttempts++,logBehaviorEvent(_0x3ceac6(0x780),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x3ceac6(0x409)+maxCheatAttempts+_0x3ceac6(0x42e)),document[_0x3ceac6(0x38e)](_0x3ceac6(0x760))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x3ceac6(0x310)](_0x3ceac6(0x1fd),handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage(_0x3ceac6(0x57a)+cheatAttempts+'/'+maxCheatAttempts+_0x3ceac6(0x610)));}function handleFullscreenChange(){const _0x373588=_0x1bb21e;if(currentMode===_0x373588(0x5bd))return;!document[_0x373588(0x812)]&&isQuizActive&&(cheatAttempts++,logBehaviorEvent(_0x373588(0x319),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x373588(0x8ca)+maxCheatAttempts+_0x373588(0x42e)),document[_0x373588(0x38e)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x373588(0x310)](_0x373588(0x4e0),handleFullscreenChange)):showMessage(_0x373588(0x57a)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากโหมดเต็มหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen));}function displayGeneratedQuiz(_0x1274b0){const _0x430a64=_0x1bb21e,_0x28425a=document[_0x430a64(0x38e)](_0x430a64(0x87e));let _0x337234=_0x430a64(0x8bd)+_0x1274b0[_0x430a64(0x76d)]+_0x430a64(0x1c7);_0x1274b0[_0x430a64(0x1f8)][_0x430a64(0x813)]((_0x2f1604,_0x24807d)=>{const _0x32b7e0=_0x430a64;!_0x2f1604['id']&&(_0x2f1604['id']='q_'+Date['now']()+'_'+_0x24807d);const _0x8f1aab=_0x2f1604['questionType']||_0x1274b0['quizType'];_0x337234+=_0x32b7e0(0x2e5)+_0x24807d+_0x32b7e0(0x848)+_0x24807d+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x24807d+_0x32b7e0(0x443)+_0x24807d+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x8f1aab){case _0x32b7e0(0x2cf):_0x337234+=_0x32b7e0(0x5ba)+_0x24807d+'\x22>'+(_0x24807d+0x1)+'.\x20'+_0x2f1604[_0x32b7e0(0x1d1)]+_0x32b7e0(0x4ef);_0x2f1604[_0x32b7e0(0x163)]&&(_0x337234+=_0x32b7e0(0x4d5)+_0x24807d+_0x32b7e0(0x196)+_0x2f1604['imageCode']+'</div>');_0x337234+=_0x32b7e0(0x64f)+_0x24807d+'\x22>'+_0x2f1604[_0x32b7e0(0x3bd)]+_0x32b7e0(0x6f5),_0x337234+=_0x32b7e0(0x65b)+_0x24807d+'\x22>'+_0x2f1604[_0x32b7e0(0x2f5)]+_0x32b7e0(0x6f5);break;case _0x32b7e0(0x3fe):_0x337234+=_0x32b7e0(0x5ba)+_0x24807d+'\x22>'+(_0x24807d+0x1)+'.\x20'+_0x2f1604[_0x32b7e0(0x20d)]+_0x32b7e0(0x4ef);_0x2f1604[_0x32b7e0(0x163)]&&(_0x337234+=_0x32b7e0(0x4d5)+_0x24807d+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2f1604[_0x32b7e0(0x163)]+'</div>');_0x337234+=_0x32b7e0(0x6ce)+_0x24807d+'\x22>'+_0x2f1604[_0x32b7e0(0x1fb)]+_0x32b7e0(0x6f5),_0x337234+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x24807d+'\x22>'+_0x2f1604[_0x32b7e0(0x2f5)]+_0x32b7e0(0x6f5);break;case _0x32b7e0(0x6df):_0x337234+=_0x32b7e0(0x5ba)+_0x24807d+'\x22>'+(_0x24807d+0x1)+'.\x20'+_0x2f1604['questionText']+'</p>';_0x2f1604[_0x32b7e0(0x163)]&&(_0x337234+='<div\x20id=\x22q-image-container-'+_0x24807d+_0x32b7e0(0x196)+_0x2f1604[_0x32b7e0(0x163)]+_0x32b7e0(0x8ad));_0x337234+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x2f1604['correctAnswer']===!![]?_0x32b7e0(0x2a3):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x2f1604['correctAnswer']===![]?_0x32b7e0(0x2a3):'')+_0x32b7e0(0x66c),_0x337234+=_0x32b7e0(0x65b)+_0x24807d+'\x22>'+_0x2f1604[_0x32b7e0(0x2f5)]+_0x32b7e0(0x6f5);break;case _0x32b7e0(0x5c8):case _0x32b7e0(0x4a9):default:_0x337234+=_0x32b7e0(0x5ba)+_0x24807d+'\x22>'+(_0x24807d+0x1)+'.\x20'+_0x2f1604['questionText']+_0x32b7e0(0x4ef);_0x2f1604[_0x32b7e0(0x163)]&&(_0x337234+=_0x32b7e0(0x4d5)+_0x24807d+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2f1604[_0x32b7e0(0x163)]+_0x32b7e0(0x8ad));_0x337234+=_0x32b7e0(0x2d1)+_0x24807d+_0x32b7e0(0x5d2)+_0x2f1604['options'][_0x32b7e0(0x796)]((_0x3df836,_0x1f793e)=>'<li\x20class=\x22'+(_0x1f793e===_0x2f1604[_0x32b7e0(0x420)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x3df836+_0x32b7e0(0x552))[_0x32b7e0(0x4d7)]('')+_0x32b7e0(0x28b),_0x337234+=_0x32b7e0(0x65b)+_0x24807d+'\x22>'+_0x2f1604[_0x32b7e0(0x2f5)]+_0x32b7e0(0x6f5);break;}_0x337234+=_0x32b7e0(0x8ad);}),_0x337234+=_0x430a64(0x3a7),_0x28425a[_0x430a64(0x7ac)]=_0x337234,document[_0x430a64(0x175)](_0x430a64(0x6f0))[_0x430a64(0x813)](_0x5cde94=>_0x5cde94['addEventListener'](_0x430a64(0x38d),handleEditQuestion)),document['querySelectorAll'](_0x430a64(0x289))['forEach'](_0x345682=>_0x345682[_0x430a64(0x353)]('click',handleRegenerateQuestion)),document[_0x430a64(0x175)](_0x430a64(0x8a2))['forEach'](_0x25ba4f=>_0x25ba4f[_0x430a64(0x353)](_0x430a64(0x38d),handleSaveToBank)),document[_0x430a64(0x38e)](_0x430a64(0x15c))[_0x430a64(0x353)]('click',exportQuizAsWorksheetPDF),document[_0x430a64(0x38e)](_0x430a64(0x4da))[_0x430a64(0x353)]('click',saveQuiz),document[_0x430a64(0x38e)](_0x430a64(0x14c))[_0x430a64(0x353)]('click',handleVerifyAnswers);if(window[_0x430a64(0x74c)])window[_0x430a64(0x74c)][_0x430a64(0x14d)]([_0x28425a]);}function handleRegenerateQuestion(_0x4dd64f){const _0x4e7720=_0x1bb21e,_0x5eb0fd=_0x4dd64f[_0x4e7720(0x7f0)]['dataset'][_0x4e7720(0x5ed)],_0xc8b62=currentQuizData[_0x4e7720(0x76d)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x5eb0fd)+0x1)+_0x4e7720(0x27a)),generateQuiz(_0xc8b62,null,parseInt(_0x5eb0fd));}function getPointerPosition(_0x462794,_0x12b998){const _0x227ce0=_0x1bb21e,_0x562134=_0x462794[_0x227ce0(0x21e)]();let _0x48e2f9,_0x1ec760;return _0x12b998['touches']&&_0x12b998[_0x227ce0(0x873)][_0x227ce0(0x890)]>0x0?(_0x48e2f9=_0x12b998[_0x227ce0(0x873)][0x0][_0x227ce0(0x377)],_0x1ec760=_0x12b998[_0x227ce0(0x873)][0x0][_0x227ce0(0x1eb)]):(_0x48e2f9=_0x12b998[_0x227ce0(0x377)],_0x1ec760=_0x12b998[_0x227ce0(0x1eb)]),{'x':(_0x48e2f9-_0x562134['e'])/_0x562134['a'],'y':(_0x1ec760-_0x562134['f'])/_0x562134['d']};}function startDrag(_0x5a8199){const _0x435ab9=_0x1bb21e;_0x5a8199[_0x435ab9(0x18e)]===_0x435ab9(0x3f9)&&_0x5a8199['preventDefault']();const _0x3ed0dc=_0x5a8199[_0x435ab9(0x7c2)][_0x435ab9(0x1ef)](_0x435ab9(0x39d));if(_0x3ed0dc){draggedSvgElement=_0x3ed0dc;const _0x1041d7=draggedSvgElement['ownerSVGElement'],_0xc234ed=getPointerPosition(_0x1041d7,_0x5a8199);svgOffset['x']=_0xc234ed['x']-parseFloat(draggedSvgElement[_0x435ab9(0x7dc)](null,'x')),svgOffset['y']=_0xc234ed['y']-parseFloat(draggedSvgElement[_0x435ab9(0x7dc)](null,'y'));}}function calculateItemAnalysis(_0x498583,_0x312829){const _0x2e7c57=_0x1bb21e,_0xa2f77={};if(_0x312829[_0x2e7c57(0x890)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xfb9113=[..._0x312829]['sort']((_0x59adf8,_0x2e279b)=>{const _0x1e8bef=_0x2e7c57,_0x41ead9=_0x2e279b[_0x1e8bef(0x442)]-_0x59adf8[_0x1e8bef(0x442)];if(_0x41ead9!==0x0)return _0x41ead9;const _0x42f503=_0x59adf8[_0x1e8bef(0x60c)]?.[_0x1e8bef(0x890)]||0x1,_0x26d368=_0x2e279b[_0x1e8bef(0x60c)]?.[_0x1e8bef(0x890)]||0x1,_0x1f9dc0=_0x42f503-_0x26d368;if(_0x1f9dc0!==0x0)return _0x1f9dc0;const _0x476967=new Date(_0x59adf8[_0x1e8bef(0x65a)]),_0x3aad4f=new Date(_0x2e279b['latestSubmittedAt']),_0x25f4d3=_0x476967-_0x3aad4f;if(_0x25f4d3!==0x0)return _0x25f4d3;return _0x59adf8['studentName'][_0x1e8bef(0x636)](_0x2e279b[_0x1e8bef(0x6f4)],'th');}),_0x3c9e69=_0xfb9113['length'],_0x131a0c=Math[_0x2e7c57(0x393)](0x1,Math[_0x2e7c57(0x4b4)](_0x3c9e69*0.33));if(_0x131a0c===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3a3aaf=_0xfb9113['slice'](0x0,_0x131a0c),_0x34e789=_0xfb9113['slice'](-_0x131a0c),_0x1944d2=_0x3a3aaf['map'](_0x1e8ecc=>_0x1e8ecc[_0x2e7c57(0x6f4)]),_0x522ba7=_0x34e789[_0x2e7c57(0x796)](_0x2d0278=>_0x2d0278['studentName']);return _0x498583[_0x2e7c57(0x1f8)][_0x2e7c57(0x813)]((_0x3268ae,_0x5c361f)=>{const _0x369518=_0x2e7c57,_0x4ca320=_0x3268ae[_0x369518(0x1d1)]||_0x3268ae[_0x369518(0x20d)];let _0x547027=0x0,_0x15a176=0x0,_0x227447=0x0;const _0x3ab713=[],_0x368a69=[];_0x3a3aaf[_0x369518(0x813)](_0xc44f62=>{const _0x496eaf=_0x369518,_0x1e95e5=_0xc44f62['attempts'][_0xc44f62[_0x496eaf(0x60c)][_0x496eaf(0x890)]-0x1],_0x565697=_0x1e95e5[_0x496eaf(0x2be)][_0x496eaf(0x172)](_0xdadbda=>_0xdadbda[_0x496eaf(0x338)]===_0x4ca320);_0x3ab713[_0x496eaf(0x3dd)]({'name':_0xc44f62[_0x496eaf(0x6f4)],'isCorrect':_0x565697?_0x565697[_0x496eaf(0x3db)]:![]}),_0x565697&&_0x565697['isCorrect']&&_0x15a176++;}),_0x34e789['forEach'](_0x56acc1=>{const _0x481a45=_0x369518,_0x2eb4a7=_0x56acc1['attempts'][_0x56acc1['attempts']['length']-0x1],_0x5728ff=_0x2eb4a7[_0x481a45(0x2be)]['find'](_0x105465=>_0x105465[_0x481a45(0x338)]===_0x4ca320);_0x368a69['push']({'name':_0x56acc1['studentName'],'isCorrect':_0x5728ff?_0x5728ff['isCorrect']:![]}),_0x5728ff&&_0x5728ff[_0x481a45(0x3db)]&&_0x227447++;}),_0x312829[_0x369518(0x813)](_0x27dad8=>{const _0x20891d=_0x369518,_0x1272a6=_0x27dad8[_0x20891d(0x60c)][_0x27dad8['attempts'][_0x20891d(0x890)]-0x1],_0x8d24f0=_0x1272a6[_0x20891d(0x2be)]['find'](_0x193c9a=>_0x193c9a['originalQuestionText']===_0x4ca320);_0x8d24f0&&_0x8d24f0['isCorrect']&&_0x547027++;});const _0x545680=_0x3c9e69>0x0?_0x547027/_0x3c9e69:0x0,_0x47368a=_0x131a0c>0x0?_0x15a176/_0x131a0c-_0x227447/_0x131a0c:0x0;_0xa2f77[_0x5c361f]={'p':_0x545680,'r':_0x47368a,'upperGroupResponders':_0x3ab713,'lowerGroupResponders':_0x368a69};}),{'perQuestionStats':_0xa2f77,'overallGroups':{'upperGroupNames':_0x1944d2,'lowerGroupNames':_0x522ba7}};}function drag(_0x5898f1){const _0x1480ed=_0x1bb21e;if(draggedSvgElement){_0x5898f1['preventDefault']();const _0x90dd7f=draggedSvgElement[_0x1480ed(0x739)],_0x8a795c=getPointerPosition(_0x90dd7f,_0x5898f1),_0x5268af=_0x90dd7f['viewBox'][_0x1480ed(0x822)];let _0x3fef9c=_0x8a795c['x']-svgOffset['x'],_0x2188e2=_0x8a795c['y']-svgOffset['y'];const _0x11ec4d=draggedSvgElement[_0x1480ed(0x7ee)]();_0x3fef9c=Math[_0x1480ed(0x393)](_0x5268af['x'],Math[_0x1480ed(0x256)](_0x3fef9c,_0x5268af['x']+_0x5268af[_0x1480ed(0x2ae)]-_0x11ec4d[_0x1480ed(0x2ae)])),_0x2188e2=Math['max'](_0x5268af['y'],Math['min'](_0x2188e2,_0x5268af['y']+_0x5268af['height']-_0x11ec4d[_0x1480ed(0x707)])),draggedSvgElement[_0x1480ed(0x52b)](null,'x',_0x3fef9c),draggedSvgElement[_0x1480ed(0x52b)](null,'y',_0x2188e2);}}function endDrag(_0x1b62d1){draggedSvgElement=null;}function handleSvgEditClick(_0x40b48f){const _0x446f90=_0x1bb21e;if(_0x40b48f[_0x446f90(0x7c2)]['classList'][_0x446f90(0x50a)](_0x446f90(0x6a8))){const _0x465cca=_0x40b48f['target']['dataset'][_0x446f90(0x536)],_0x2f7b8b=_0x40b48f[_0x446f90(0x7f0)],_0x34d61c=_0x2f7b8b[_0x446f90(0x61d)]('#'+_0x465cca);_0x34d61c&&_0x34d61c[_0x446f90(0x327)](),_0x40b48f[_0x446f90(0x7c2)]['remove']();}}function handleEditQuestion(_0xe4474d){const _0x5f4dc8=_0x1bb21e,_0xee3716=_0xe4474d[_0x5f4dc8(0x7f0)],_0x14711e=_0xee3716[_0x5f4dc8(0x1cf)]['index'],_0x18b6c7=currentQuizData[_0x5f4dc8(0x1f8)][_0x14711e],_0x39207c=document[_0x5f4dc8(0x38e)](_0x5f4dc8(0x87f)+_0x14711e),_0x28181e=document[_0x5f4dc8(0x38e)](_0x5f4dc8(0x226)+_0x14711e),_0x4e0b65=document[_0x5f4dc8(0x38e)]('q-image-container-'+_0x14711e);if(_0xee3716[_0x5f4dc8(0x7ac)][_0x5f4dc8(0x54a)]('fa-pen')){_0xee3716[_0x5f4dc8(0x7ac)]=_0x5f4dc8(0x2b3),_0xee3716[_0x5f4dc8(0x485)]='บันทึกการแก้ไข';if(_0x39207c)_0x39207c[_0x5f4dc8(0x64b)]=!![];if(_0x28181e)_0x28181e[_0x5f4dc8(0x64b)]=!![];if(_0x4e0b65){const _0xb15361=_0x4e0b65[_0x5f4dc8(0x61d)](_0x5f4dc8(0x698));if(_0xb15361){const _0x16982a=_0xb15361['querySelectorAll'](_0x5f4dc8(0x4ca));_0x16982a['forEach']((_0x1fe953,_0x4cc0e5)=>{const _0x5e67e3=_0x5f4dc8,_0x43c262='editable-text-'+_0x14711e+'-'+_0x4cc0e5;_0x1fe953['id']=_0x43c262,_0x1fe953[_0x5e67e3(0x2db)]['add'](_0x5e67e3(0x1ed)),_0x1fe953[_0x5e67e3(0x1d9)][_0x5e67e3(0x69b)]=_0x5e67e3(0x5ac);const _0x244463=document[_0x5e67e3(0x66a)]('http://www.w3.org/2000/svg',_0x5e67e3(0x3cc)),_0x4ed9fc=_0x1fe953[_0x5e67e3(0x7ee)]();_0x244463[_0x5e67e3(0x435)]('cx',String(_0x4ed9fc['x']+_0x4ed9fc[_0x5e67e3(0x2ae)]+0x5)),_0x244463[_0x5e67e3(0x435)]('cy',String(_0x4ed9fc['y']+_0x4ed9fc[_0x5e67e3(0x707)]/0x2-0x5)),_0x244463[_0x5e67e3(0x435)]('r','5'),_0x244463[_0x5e67e3(0x435)]('fill','red'),_0x244463['setAttribute'](_0x5e67e3(0x6d5),_0x5e67e3(0x6a8)),_0x244463['dataset'][_0x5e67e3(0x536)]=_0x43c262,_0x1fe953[_0x5e67e3(0x2f6)](_0x244463);}),_0xb15361['addEventListener'](_0x5f4dc8(0x49b),startDrag),_0xb15361[_0x5f4dc8(0x353)](_0x5f4dc8(0x637),drag),_0xb15361['addEventListener'](_0x5f4dc8(0x30c),endDrag),_0xb15361[_0x5f4dc8(0x353)]('mouseleave',endDrag),_0xb15361['addEventListener']('touchstart',startDrag,{'passive':![]}),_0xb15361[_0x5f4dc8(0x353)](_0x5f4dc8(0x2c3),drag,{'passive':![]}),_0xb15361[_0x5f4dc8(0x353)](_0x5f4dc8(0x7e6),endDrag),_0xb15361[_0x5f4dc8(0x353)](_0x5f4dc8(0x6d8),endDrag),_0xb15361['addEventListener'](_0x5f4dc8(0x38d),handleSvgEditClick);}}if(_0x39207c)_0x39207c['focus']();}else{_0xee3716[_0x5f4dc8(0x7ac)]=_0x5f4dc8(0x24d),_0xee3716['title']=_0x5f4dc8(0x145);if(_0x39207c){_0x39207c[_0x5f4dc8(0x64b)]=![];const _0x4a0a4a=_0x18b6c7[_0x5f4dc8(0x4c7)]||currentQuizData[_0x5f4dc8(0x279)];_0x4a0a4a===_0x5f4dc8(0x2cf)?_0x18b6c7[_0x5f4dc8(0x1d1)]=_0x39207c[_0x5f4dc8(0x8ce)][_0x5f4dc8(0x504)](_0x39207c[_0x5f4dc8(0x8ce)]['indexOf']('.')+0x2)['trim']():_0x18b6c7[_0x5f4dc8(0x20d)]=_0x39207c[_0x5f4dc8(0x8ce)][_0x5f4dc8(0x504)](_0x39207c['innerText'][_0x5f4dc8(0x45c)]('.')+0x2)[_0x5f4dc8(0x2d2)]();}_0x28181e&&(_0x28181e['contentEditable']=![],_0x18b6c7[_0x5f4dc8(0x2f5)]=_0x28181e['innerText']);if(_0x4e0b65){const _0x439110=_0x4e0b65['querySelector'](_0x5f4dc8(0x698));if(_0x439110){const _0x389975=_0x439110[_0x5f4dc8(0x14a)](!![]);_0x389975[_0x5f4dc8(0x175)](_0x5f4dc8(0x63d))[_0x5f4dc8(0x813)](_0x25aeff=>_0x25aeff['remove']()),_0x389975[_0x5f4dc8(0x175)](_0x5f4dc8(0x39d))[_0x5f4dc8(0x813)](_0x5eef4e=>{const _0x171eb5=_0x5f4dc8;_0x5eef4e[_0x171eb5(0x2db)]['remove']('draggable-text'),_0x5eef4e[_0x171eb5(0x1d9)]['cursor']=_0x171eb5(0x60e),_0x5eef4e[_0x171eb5(0x217)]('id');}),_0x18b6c7[_0x5f4dc8(0x163)]=_0x389975[_0x5f4dc8(0x6e6)],_0x439110[_0x5f4dc8(0x310)](_0x5f4dc8(0x49b),startDrag),_0x439110[_0x5f4dc8(0x310)](_0x5f4dc8(0x637),drag),_0x439110[_0x5f4dc8(0x310)](_0x5f4dc8(0x30c),endDrag),_0x439110[_0x5f4dc8(0x310)](_0x5f4dc8(0x58b),endDrag),_0x439110[_0x5f4dc8(0x310)](_0x5f4dc8(0x3f9),startDrag),_0x439110[_0x5f4dc8(0x310)]('touchmove',drag),_0x439110[_0x5f4dc8(0x310)](_0x5f4dc8(0x7e6),endDrag),_0x439110[_0x5f4dc8(0x310)](_0x5f4dc8(0x6d8),endDrag),_0x439110[_0x5f4dc8(0x310)](_0x5f4dc8(0x38d),handleSvgEditClick),_0x439110[_0x5f4dc8(0x175)]('.delete-svg-btn')['forEach'](_0x4016c2=>_0x4016c2[_0x5f4dc8(0x327)]()),_0x439110[_0x5f4dc8(0x175)](_0x5f4dc8(0x39d))['forEach'](_0x11e59c=>{const _0x28c970=_0x5f4dc8;_0x11e59c[_0x28c970(0x2db)][_0x28c970(0x327)](_0x28c970(0x1ed)),_0x11e59c[_0x28c970(0x1d9)][_0x28c970(0x69b)]=_0x28c970(0x60e);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5c94ab){const _0x4f8634=_0x1bb21e,_0xcbbb4f=document[_0x4f8634(0x38e)](_0x4f8634(0x30a)),_0x55f45f=document['getElementById'](_0x4f8634(0x555));_0x55f45f[_0x4f8634(0x7ac)]=_0x4f8634(0x80f),_0xcbbb4f[_0x4f8634(0x2db)][_0x4f8634(0x327)](_0x4f8634(0x5e8));try{const _0x20c12b=doc(db,_0x4f8634(0x736)+appId+_0x4f8634(0x59a),_0x5c94ab),_0x3c389c=await getDoc(_0x20c12b);if(!_0x3c389c['exists']())throw new Error(_0x4f8634(0x5c2));currentEditingQuizData={'id':_0x5c94ab,..._0x3c389c[_0x4f8634(0x794)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x3ad115){console[_0x4f8634(0x146)](_0x4f8634(0x5ab),_0x3ad115),showMessage(_0x4f8634(0x849)),_0xcbbb4f[_0x4f8634(0x2db)]['add']('hidden');}}function renderQuizEditor(_0x2afbee){const _0x35e212=_0x1bb21e;document[_0x35e212(0x38e)](_0x35e212(0x871))['value']=_0x2afbee[_0x35e212(0x76d)];const _0x49f6f8=document['getElementById'](_0x35e212(0x555));let _0x4b188f=_0x2afbee[_0x35e212(0x1f8)][_0x35e212(0x796)]((_0x337b16,_0x584966)=>{const _0x4e6089=_0x35e212;let _0x6dc880='';const _0x475ccd=_0x337b16[_0x4e6089(0x4c7)]||_0x2afbee[_0x4e6089(0x279)];switch(_0x475ccd){case _0x4e6089(0x4a9):const _0x2bace0=(_0x337b16[_0x4e6089(0x6e3)]||[])[_0x4e6089(0x796)]((_0x258fe2,_0x579a15)=>_0x4e6089(0x3c9)+_0x584966+_0x4e6089(0x483)+_0x579a15+'\x22\x20'+(_0x579a15===_0x337b16['correctAnswerIndex']?'checked':'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x258fe2+_0x4e6089(0x6d6))[_0x4e6089(0x4d7)]('');_0x6dc880='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x2bace0+_0x4e6089(0x781);break;case _0x4e6089(0x3fe):_0x6dc880=_0x4e6089(0x6c6)+(_0x337b16[_0x4e6089(0x1fb)]||'')+_0x4e6089(0x874);break;case'true_false':_0x6dc880=_0x4e6089(0x4c8)+_0x584966+_0x4e6089(0x7db)+(_0x337b16['correctAnswer']===!![]?'checked':'')+_0x4e6089(0x495)+_0x584966+_0x4e6089(0x3fa)+(_0x337b16['correctAnswer']===![]?'checked':'')+_0x4e6089(0x1b0);break;case _0x4e6089(0x2cf):_0x6dc880=_0x4e6089(0x868)+(_0x337b16[_0x4e6089(0x3bd)]||'')+_0x4e6089(0x37d);break;}const _0x11f28f=_0x337b16['questionText']||_0x337b16[_0x4e6089(0x1d1)]||'';return'\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x584966+'\x22\x20data-q-type=\x22'+_0x475ccd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x584966+0x1)+'\x20('+_0x475ccd+_0x4e6089(0x803)+_0x11f28f+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x6dc880+_0x4e6089(0x727);})[_0x35e212(0x4d7)]('');_0x49f6f8[_0x35e212(0x7ac)]=_0x4b188f;}async function handleSaveChanges(){const _0x423062=_0x1bb21e,_0x155fe4=document[_0x423062(0x38e)](_0x423062(0x632));_0x155fe4['disabled']=!![],_0x155fe4[_0x423062(0x7ac)]=_0x423062(0x5b3);try{const _0x2b6a95=document[_0x423062(0x38e)](_0x423062(0x871))[_0x423062(0x491)],_0x587e7a=document['querySelectorAll'](_0x423062(0x6a4));let _0xfe5609=[];const _0x5e92db=Array[_0x423062(0x3cf)](_0x587e7a)[_0x423062(0x796)]((_0x2bbfdc,_0x31d10c)=>{const _0x2d4f4c=_0x423062,_0x4f1299=_0x2bbfdc['dataset'][_0x2d4f4c(0x73f)],_0x1095f8=_0x2bbfdc[_0x2d4f4c(0x61d)](_0x2d4f4c(0x262))[_0x2d4f4c(0x491)];let _0x2480b1={'questionType':_0x4f1299};const _0x347f5e=currentEditingQuizData[_0x2d4f4c(0x1f8)][_0x31d10c];switch(_0x4f1299){case'multiple_choice':_0x2480b1[_0x2d4f4c(0x20d)]=_0x1095f8;const _0x4df881=_0x2bbfdc[_0x2d4f4c(0x175)](_0x2d4f4c(0x864));_0x2480b1['options']=Array[_0x2d4f4c(0x3cf)](_0x4df881)['map'](_0x4a206a=>_0x4a206a[_0x2d4f4c(0x491)]);const _0x163478=_0x2bbfdc[_0x2d4f4c(0x61d)]('input[type=\x22radio\x22]:checked');_0x2480b1['correctAnswerIndex']=_0x163478?parseInt(_0x163478['value']):0x0;break;case _0x2d4f4c(0x3fe):_0x2480b1[_0x2d4f4c(0x20d)]=_0x1095f8,_0x2480b1[_0x2d4f4c(0x1fb)]=_0x2bbfdc['querySelector'](_0x2d4f4c(0x292))[_0x2d4f4c(0x491)];break;case _0x2d4f4c(0x6df):_0x2480b1[_0x2d4f4c(0x20d)]=_0x1095f8;const _0x4fe7c3=_0x2bbfdc['querySelector'](_0x2d4f4c(0x823));_0x2480b1['correctAnswer']=_0x4fe7c3?_0x4fe7c3[_0x2d4f4c(0x491)]===_0x2d4f4c(0x8b5):!![];break;case _0x2d4f4c(0x2cf):_0x2480b1[_0x2d4f4c(0x1d1)]=_0x1095f8;const _0x574469=_0x2bbfdc[_0x2d4f4c(0x61d)](_0x2d4f4c(0x290));_0x2480b1[_0x2d4f4c(0x3bd)]=_0x574469?_0x574469[_0x2d4f4c(0x491)]:'',_0xfe5609[_0x2d4f4c(0x3dd)](_0x2480b1[_0x2d4f4c(0x3bd)]);break;default:_0x2480b1[_0x2d4f4c(0x20d)]=_0x1095f8;break;}return{..._0x347f5e,..._0x2480b1};});_0xfe5609[_0x423062(0x890)]>0x0&&_0x5e92db[_0x423062(0x813)](_0x1ab99c=>{const _0x3b945d=_0x423062;_0x1ab99c['questionType']===_0x3b945d(0x2cf)&&(_0x1ab99c[_0x3b945d(0x33f)]=_0xfe5609);});const _0x4d0da4=currentEditingQuizData['id'],_0x1921da=doc(db,_0x423062(0x736)+appId+_0x423062(0x59a),_0x4d0da4);await updateDoc(_0x1921da,{'topic':_0x2b6a95,'questions':_0x5e92db}),document[_0x423062(0x38e)](_0x423062(0x30a))[_0x423062(0x2db)][_0x423062(0x15d)](_0x423062(0x5e8)),showMessage(_0x423062(0x2a9),()=>initiateReGradeProcess(_0x4d0da4));}catch(_0x3abf80){console['error'](_0x423062(0x5eb),_0x3abf80),showMessage(_0x423062(0x1ad));}finally{_0x155fe4[_0x423062(0x5f4)]=![],_0x155fe4['innerHTML']='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x3b693c){const _0x49a3b4=_0x1bb21e;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x2f838e=doc(db,'artifacts/'+appId+_0x49a3b4(0x59a),_0x3b693c),_0x1799d3=await getDoc(_0x2f838e);if(!_0x1799d3[_0x49a3b4(0x62a)]())throw new Error(_0x49a3b4(0x6e7));const _0x338bb3={'id':_0x3b693c,..._0x1799d3[_0x49a3b4(0x794)]()},_0x55447e=collection(db,_0x49a3b4(0x736)+appId+_0x49a3b4(0x59a),_0x3b693c,_0x49a3b4(0x4dd)),_0x7d8021=await getDocs(_0x55447e);if(_0x7d8021[_0x49a3b4(0x6b9)]){showMessage(_0x49a3b4(0x5cd));return;}const _0xa95bd0=_0x7d8021[_0x49a3b4(0x601)][_0x49a3b4(0x796)](_0x4ed940=>reGradeSingleSubmission(_0x4ed940,_0x338bb3));await Promise[_0x49a3b4(0x1e6)](_0xa95bd0);if(_0x338bb3[_0x49a3b4(0x79a)]){const _0x5afe9d=doc(db,_0x49a3b4(0x736)+appId+_0x49a3b4(0x8ae),_0x338bb3[_0x49a3b4(0x79a)]),_0x386ace=await getDoc(_0x5afe9d);if(_0x386ace[_0x49a3b4(0x62a)]()&&_0x386ace[_0x49a3b4(0x794)]()[_0x49a3b4(0x2b6)]){const _0x59cc27=_0x386ace[_0x49a3b4(0x794)]()[_0x49a3b4(0x2b6)][_0x49a3b4(0x796)](_0x37c3fc=>updateStudentProfile(_0x338bb3[_0x49a3b4(0x79a)],_0x37c3fc));await Promise[_0x49a3b4(0x1e6)](_0x59cc27);}}showMessage(_0x49a3b4(0x7d9)+_0x7d8021['size']+_0x49a3b4(0x5ef));}catch(_0x103af2){console[_0x49a3b4(0x146)]('Re-grade\x20process\x20failed:',_0x103af2),showMessage(_0x49a3b4(0x54b)+_0x103af2[_0x49a3b4(0x743)]);}}async function reGradeSingleSubmission(_0x168158,_0x5346e4){const _0x209e3a=_0x1bb21e,_0x242f4d=_0x168158['data'](),_0x4deae2=_0x242f4d[_0x209e3a(0x6f4)],_0x9e7515=_0x242f4d[_0x209e3a(0x60c)]||[],_0x2a881b=[];for(const _0x20b7b2 of _0x9e7515){let _0x2deb92=0x0,_0x25e646=[],_0x11b1dc=0x0;const _0x9f3cf1=[];for(const _0x165792 of _0x20b7b2['answers']){let _0x40e682;_0x165792[_0x209e3a(0x2b8)]&&(_0x40e682=_0x5346e4[_0x209e3a(0x1f8)][_0x209e3a(0x172)](_0x9cbd1e=>_0x9cbd1e['id']===_0x165792[_0x209e3a(0x2b8)]));!_0x40e682&&_0x165792['originalQuestionText']&&(_0x40e682=_0x5346e4[_0x209e3a(0x1f8)][_0x209e3a(0x172)](_0x3cdd55=>(_0x3cdd55[_0x209e3a(0x1d1)]||_0x3cdd55[_0x209e3a(0x20d)])===_0x165792[_0x209e3a(0x338)]));let _0x5dba3c=![];if(_0x40e682){const _0x2b5257=_0x40e682['questionType']||_0x5346e4['quizType'];switch(_0x2b5257){case _0x209e3a(0x4a9):if(_0x40e682[_0x209e3a(0x6e3)]&&_0x40e682[_0x209e3a(0x420)]<_0x40e682['options'][_0x209e3a(0x890)]){const _0x2a506d=_0x40e682[_0x209e3a(0x6e3)][_0x40e682[_0x209e3a(0x420)]];_0x5dba3c=_0x165792[_0x209e3a(0x6fb)]===_0x2a506d;}break;case _0x209e3a(0x6df):const _0x41043f=_0x165792[_0x209e3a(0x3ab)]===!![]||_0x165792['answer']===_0x209e3a(0x8b5);_0x5dba3c=_0x41043f===_0x40e682['correctAnswer'];break;case _0x209e3a(0x2cf):_0x5dba3c=_0x165792[_0x209e3a(0x3ab)]===_0x40e682[_0x209e3a(0x3bd)];break;case _0x209e3a(0x3fe):_0x5dba3c=await gradeShortAnswer(_0x165792['answer'],_0x40e682);break;default:_0x5dba3c=_0x165792[_0x209e3a(0x3db)];break;}}if(_0x5dba3c){_0x2deb92++,_0x11b1dc++;if(_0x11b1dc===0x3)_0x25e646[_0x209e3a(0x3dd)](BADGES['ON_FIRE']['id']);}else _0x11b1dc=0x0;_0x9f3cf1[_0x209e3a(0x3dd)]({..._0x165792,'isCorrect':_0x5dba3c});}let _0x218e95=_0x2deb92*0xa;_0x2deb92===_0x5346e4[_0x209e3a(0x1f8)][_0x209e3a(0x890)]&&(_0x218e95+=0x32,_0x25e646[_0x209e3a(0x3dd)](BADGES[_0x209e3a(0x390)]['id'])),_0x2a881b[_0x209e3a(0x3dd)]({..._0x20b7b2,'score':_0x2deb92,'points':_0x218e95,'badges':Array[_0x209e3a(0x3cf)](new Set(_0x25e646)),'answers':_0x9f3cf1});}const _0x257562=_0x2a881b[_0x209e3a(0x890)]>0x0?_0x2a881b[0x0][_0x209e3a(0x757)]:0x0,_0x5242e2=Math['max'](..._0x2a881b[_0x209e3a(0x796)](_0x3464c1=>_0x3464c1[_0x209e3a(0x757)])),_0x4baaf0=_0x2a881b[_0x209e3a(0x890)]>0x0?_0x2a881b[_0x2a881b['length']-0x1][_0x209e3a(0x757)]:0x0,_0x1f75d2=_0x2a881b[_0x209e3a(0x890)]>0x0?_0x2a881b[_0x2a881b[_0x209e3a(0x890)]-0x1][_0x209e3a(0x457)]:0x0,_0x363fbf=doc(db,'artifacts/'+appId+_0x209e3a(0x190)+_0x5346e4['id']+_0x209e3a(0x81a),_0x4deae2);await updateDoc(_0x363fbf,{'attempts':_0x2a881b,'firstScore':_0x257562,'bestScore':_0x5242e2,'latestScore':_0x4baaf0,'points':_0x1f75d2});}function cleanupQuizOptions(_0x17c6a2){const _0x36a8e6=_0x1bb21e,_0x1a5bf9=(_0x5de089,_0x1d6e7a)=>_0x1d6e7a===0x0?_0x5de089:_0x1a5bf9(_0x1d6e7a,_0x5de089%_0x1d6e7a),_0x56a543=_0x5b5f16=>{const _0x302277=_0x4611;if(typeof _0x5b5f16!==_0x302277(0x1e3))return null;_0x5b5f16=_0x5b5f16['trim']();const _0x39796f=_0x5b5f16['split'](/[ /]/)['filter'](_0x20039b=>_0x20039b!=='');if(_0x39796f[_0x302277(0x890)]===0x3)return parseInt(_0x39796f[0x0])+parseInt(_0x39796f[0x1])/parseInt(_0x39796f[0x2]);else{if(_0x39796f[_0x302277(0x890)]===0x2)return parseInt(_0x39796f[0x0])/parseInt(_0x39796f[0x1]);else{if(_0x39796f[_0x302277(0x890)]===0x1&&!isNaN(_0x39796f[0x0]))return parseFloat(_0x39796f[0x0]);}}return null;},_0x573de6=_0x25aa51=>{const _0x39fc2d=_0x4611;if(typeof _0x25aa51!==_0x39fc2d(0x1e3))return _0x25aa51;const _0x3d0772=_0x25aa51['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3d0772){const _0x3814cc=parseInt(_0x3d0772[0x1]);let _0x1ed97f=parseInt(_0x3d0772[0x2]),_0x179067=parseInt(_0x3d0772[0x3]);const _0x37593c=_0x1a5bf9(_0x1ed97f,_0x179067);_0x1ed97f/=_0x37593c,_0x179067/=_0x37593c;if(_0x179067===0x1)return(_0x3814cc+_0x1ed97f)[_0x39fc2d(0x189)]();return _0x3814cc+'\x20'+_0x1ed97f+'/'+_0x179067;}return _0x25aa51;};return _0x17c6a2&&_0x17c6a2[_0x36a8e6(0x1f8)]&&_0x17c6a2[_0x36a8e6(0x1f8)][_0x36a8e6(0x813)](_0x5100b9=>{const _0xf9704e=_0x36a8e6;if(_0x5100b9[_0xf9704e(0x4c7)]==='multiple_choice'&&_0x5100b9[_0xf9704e(0x6e3)]){const _0x55b76d=new Map(),_0x4ce700=_0x5100b9[_0xf9704e(0x6e3)][_0x5100b9['correctAnswerIndex']];_0x5100b9[_0xf9704e(0x6e3)]['forEach'](_0x8d32fc=>{const _0x1a2266=_0xf9704e,_0x5f06da=_0x573de6(_0x8d32fc),_0x361470=_0x56a543(_0x5f06da);_0x361470!==null&&!_0x55b76d[_0x1a2266(0x2d7)](_0x361470)&&_0x55b76d[_0x1a2266(0x6b2)](_0x361470,_0x5f06da);}),_0x5100b9[_0xf9704e(0x6e3)]=Array[_0xf9704e(0x3cf)](_0x55b76d[_0xf9704e(0x481)]());const _0x5c6bc0=_0x5100b9['options'][_0xf9704e(0x312)](_0x5d9b88=>_0x5d9b88===_0x573de6(_0x4ce700));_0x5100b9[_0xf9704e(0x420)]=_0x5c6bc0!==-0x1?_0x5c6bc0:0x0;}}),_0x17c6a2;}async function saveQuiz(){const _0x1aec9a=_0x1bb21e;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1aec9a(0x1f8)]||!userId){showMessage(_0x1aec9a(0x81e));return;}const _0x2acb1c=document[_0x1aec9a(0x38e)]('save-quiz-btn');_0x2acb1c['disabled']=!![],_0x2acb1c[_0x1aec9a(0x7ac)]=_0x1aec9a(0x5b3);const _0x259abb=document[_0x1aec9a(0x38e)](_0x1aec9a(0x45d))[_0x1aec9a(0x7eb)];let _0x1d79b5=document[_0x1aec9a(0x38e)]('editable-quiz-topic')[_0x1aec9a(0x8ce)][_0x1aec9a(0x2d2)]();_0x259abb&&!_0x1d79b5['startsWith'](_0x1aec9a(0x2cb))&&(_0x1d79b5='(ก่อนเรียน)\x20'+_0x1d79b5);try{const _0x22a150={'resultsDisplay':document[_0x1aec9a(0x38e)](_0x1aec9a(0x22c))[_0x1aec9a(0x491)],'shuffle':document[_0x1aec9a(0x38e)](_0x1aec9a(0x4ba))[_0x1aec9a(0x491)],'timerMode':document['getElementById'](_0x1aec9a(0x55a))[_0x1aec9a(0x491)],'timerDuration':parseInt(document[_0x1aec9a(0x38e)](_0x1aec9a(0x6bf))['value'])||0xa,'passingScore':parseInt(document[_0x1aec9a(0x38e)](_0x1aec9a(0x5e9))[_0x1aec9a(0x491)])||0x0,'isAdaptive':document[_0x1aec9a(0x38e)](_0x1aec9a(0x7f5))[_0x1aec9a(0x7eb)],'loopUntilPass':document['getElementById'](_0x1aec9a(0x7a3))['checked']},_0x3e7dc0=(currentQuizData['questions']||[])[_0x1aec9a(0x796)]((_0x211295,_0x28db89)=>{const _0x613dc8=_0x1aec9a,_0x194b85=document[_0x613dc8(0x38e)](_0x613dc8(0x288))[_0x613dc8(0x491)],_0x4d6889={'id':'q_'+Date['now']()+'_'+_0x28db89,'questionText':_0x211295['questionText']||'','explanation':_0x211295[_0x613dc8(0x2f5)]||'ไม่มีคำอธิบาย','questionType':_0x211295[_0x613dc8(0x4c7)]||_0x194b85,'imageCode':_0x211295[_0x613dc8(0x163)]||null};return(_0x4d6889['questionType']===_0x613dc8(0x4a9)||_0x4d6889[_0x613dc8(0x4c7)]===_0x613dc8(0x1da)||_0x4d6889[_0x613dc8(0x4c7)]==='mixed'&&_0x211295[_0x613dc8(0x6e3)])&&(_0x4d6889[_0x613dc8(0x6e3)]=_0x211295['options']||[],_0x4d6889[_0x613dc8(0x420)]=_0x211295[_0x613dc8(0x420)]!==undefined?_0x211295[_0x613dc8(0x420)]:0x0),(_0x4d6889[_0x613dc8(0x4c7)]===_0x613dc8(0x3fe)||_0x4d6889['questionType']==='fill_in_no_choices'||_0x4d6889[_0x613dc8(0x4c7)]===_0x613dc8(0x599)&&_0x211295[_0x613dc8(0x1fb)])&&(_0x4d6889[_0x613dc8(0x1fb)]=_0x211295[_0x613dc8(0x1fb)]||''),_0x4d6889['questionType']===_0x613dc8(0x6df)&&(_0x4d6889[_0x613dc8(0x5d3)]=_0x211295[_0x613dc8(0x5d3)]===!![]),_0x4d6889[_0x613dc8(0x4c7)]==='matching_item'&&(_0x4d6889['stem']=_0x211295[_0x613dc8(0x1d1)]||'',_0x4d6889[_0x613dc8(0x3bd)]=_0x211295['correctResponse']||'',_0x4d6889[_0x613dc8(0x33f)]=_0x211295[_0x613dc8(0x33f)]||[]),_0x4d6889;}),_0x55bfab={'topic':_0x1d79b5,'quizType':currentQuizData[_0x1aec9a(0x279)]||'multiple_choice','questions':_0x3e7dc0,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1aec9a(0x709)](),'status':_0x1aec9a(0x1c9),'settings':_0x22a150,'quizMode':_0x259abb?'pre-test':_0x1aec9a(0x8ed),'pairedQuizId':null,'lessonPlan':null};let _0x363082;while(!![]){_0x363082=Math['floor'](0x3e8+Math[_0x1aec9a(0x52e)]()*0x2328)[_0x1aec9a(0x189)]();const _0x33cd95=await getDoc(doc(db,'artifacts/'+appId+_0x1aec9a(0x59a),_0x363082));if(!_0x33cd95['exists']())break;}await setDoc(doc(db,_0x1aec9a(0x736)+appId+_0x1aec9a(0x59a),_0x363082),_0x55bfab),currentQuizData['settings']=_0x22a150,currentQuizData['id']=_0x363082;const _0xbf1534=document['getElementById'](_0x1aec9a(0x8e2));_0xbf1534[_0x1aec9a(0x7ac)]=_0x1aec9a(0x24e)+_0x363082+_0x1aec9a(0x569),document[_0x1aec9a(0x38e)](_0x1aec9a(0x1d3))['addEventListener'](_0x1aec9a(0x38d),()=>copyTextToClipboard(_0x363082,_0x1aec9a(0x7de))),document['getElementById'](_0x1aec9a(0x745))[_0x1aec9a(0x353)](_0x1aec9a(0x38d),()=>handleStartLiveRace(_0x363082)),document[_0x1aec9a(0x38e)](_0x1aec9a(0x5ad))['addEventListener'](_0x1aec9a(0x38d),()=>startPresentation(currentQuizData)),document[_0x1aec9a(0x38e)](_0x1aec9a(0x3fb))['addEventListener'](_0x1aec9a(0x38d),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x1b8bac){console[_0x1aec9a(0x146)](_0x1aec9a(0x8a4),_0x1b8bac),showMessage(_0x1aec9a(0x8dc)),_0x2acb1c['disabled']=![],_0x2acb1c[_0x1aec9a(0x7ac)]=_0x1aec9a(0x4cf);}}function promptForProjectAndSave(){const _0x5968c=_0x1bb21e,_0x333d4e=document['getElementById'](_0x5968c(0x3ef)),_0x23ef33=document['getElementById'](_0x5968c(0x73c)),_0x383e77=_0x333d4e[_0x5968c(0x61d)]('h3'),_0x167bdd=document[_0x5968c(0x38e)](_0x5968c(0x21c));_0x383e77[_0x5968c(0x83f)]=_0x5968c(0x89f),_0x167bdd[_0x5968c(0x83f)]=_0x5968c(0x8b1);allProjects[_0x5968c(0x890)]===0x0?(_0x23ef33[_0x5968c(0x7ac)]=_0x5968c(0x17f),_0x167bdd[_0x5968c(0x5f4)]=!![]):(_0x23ef33[_0x5968c(0x7ac)]=allProjects[_0x5968c(0x796)](_0x1f8c37=>'<option\x20value=\x22'+_0x1f8c37['id']+'\x22>'+_0x1f8c37['projectName']+_0x5968c(0x6ec))[_0x5968c(0x4d7)](''),_0x167bdd['disabled']=![]);_0x333d4e[_0x5968c(0x2db)]['remove'](_0x5968c(0x5e8));const _0x15ee65=()=>{const _0x54b41f=_0x5968c,_0x327986=_0x23ef33['value'];_0x327986?(currentProjectId=_0x327986,_0x333d4e[_0x54b41f(0x2db)][_0x54b41f(0x15d)](_0x54b41f(0x5e8)),saveQuiz(),_0x383e77[_0x54b41f(0x83f)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x167bdd[_0x54b41f(0x83f)]=_0x54b41f(0x5ec),_0x167bdd[_0x54b41f(0x310)](_0x54b41f(0x38d),_0x15ee65),_0x167bdd[_0x54b41f(0x353)](_0x54b41f(0x38d),confirmMoveQuiz)):showMessage(_0x54b41f(0x547));};_0x167bdd[_0x5968c(0x310)](_0x5968c(0x38d),confirmMoveQuiz),_0x167bdd['addEventListener'](_0x5968c(0x38d),_0x15ee65);}function copyTextToClipboard(_0x557969,_0x53c783){const _0x337ac6=_0x1bb21e,_0x36c1c3=document['createElement'](_0x337ac6(0x262));_0x36c1c3['value']=_0x557969,_0x36c1c3[_0x337ac6(0x1d9)][_0x337ac6(0x282)]=_0x337ac6(0x34c),_0x36c1c3[_0x337ac6(0x1d9)][_0x337ac6(0x8e7)]='0',document[_0x337ac6(0x487)]['appendChild'](_0x36c1c3),_0x36c1c3[_0x337ac6(0x2cc)](),_0x36c1c3[_0x337ac6(0x237)]();try{const _0x21dbe9=document[_0x337ac6(0x426)](_0x337ac6(0x689));showMessage(_0x21dbe9?_0x53c783:'คัดลอกไม่สำเร็จ');}catch(_0x46bbee){showMessage(_0x337ac6(0x467)),console[_0x337ac6(0x146)](_0x337ac6(0x59c),_0x46bbee);}document[_0x337ac6(0x487)][_0x337ac6(0x8ee)](_0x36c1c3);}function listenForProjectQuizzes(_0xd5dcd9){const _0x358e98=_0x1bb21e,_0x5474bc=collection(db,_0x358e98(0x736)+appId+_0x358e98(0x59a)),_0x17fd9d=query(_0x5474bc,where(_0x358e98(0x79a),'==',_0xd5dcd9));unsubscribeQuizzesListener=onSnapshot(_0x17fd9d,async _0x1a240a=>{const _0x309f12=_0x358e98;allQuizzes=_0x1a240a['docs'][_0x309f12(0x796)](_0xec2936=>({'id':_0xec2936['id'],..._0xec2936[_0x309f12(0x794)]()})),renderQuizzes();},_0x45a0e1=>{const _0xa264b9=_0x358e98;console[_0xa264b9(0x146)]('Error\x20fetching\x20project\x20quizzes:',_0x45a0e1),document[_0xa264b9(0x38e)]('project-quizzes-list')[_0xa264b9(0x7ac)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x1150dc=_0x1bb21e,_0x18a007=document[_0x1150dc(0x38e)](_0x1150dc(0x5ea)),_0x5dd9d2=document[_0x1150dc(0x38e)](_0x1150dc(0x46b))[_0x1150dc(0x491)]['toLowerCase']();let _0x1d30db;currentProjectId===_0x1150dc(0x633)?_0x1d30db=starredQuizzes:_0x1d30db=allQuizzes;let _0x151f88=_0x1d30db[_0x1150dc(0x5d6)](_0x25d034=>_0x25d034['topic'][_0x1150dc(0x397)]()[_0x1150dc(0x54a)](_0x5dd9d2));_0x151f88[_0x1150dc(0x773)]((_0x40be6e,_0x483b0e)=>new Date(_0x483b0e[_0x1150dc(0x424)])-new Date(_0x40be6e['createdAt']));if(_0x151f88['length']===0x0){_0x18a007[_0x1150dc(0x7ac)]=_0x1150dc(0x512);return;}const _0x2ff0d3={},_0x3d2f47=_0x151f88[_0x1150dc(0x796)](async _0x2b5dda=>{const _0x4500b3=_0x1150dc,_0x735e03=collection(db,_0x4500b3(0x736)+appId+_0x4500b3(0x190)+_0x2b5dda['id']+_0x4500b3(0x81a)),_0x576866=await getDocs(_0x735e03);_0x2ff0d3[_0x2b5dda['id']]=_0x576866['size'];});await Promise[_0x1150dc(0x1e6)](_0x3d2f47);let _0x22951='';_0x151f88[_0x1150dc(0x813)](_0x49e299=>{const _0x1aa7c5=_0x1150dc,_0x533000=_0x2ff0d3[_0x49e299['id']]||0x0,_0x260b0f=_0x49e299[_0x1aa7c5(0x613)]||_0x1aa7c5(0x1c9),_0x32e979=_0x49e299[_0x1aa7c5(0x28e)]?.['timerMode']||_0x1aa7c5(0x4f2);let _0x5b1069='',_0x176612='';const _0x9c54d=new Date();let _0xbbcbf4=_0x260b0f;if(_0x260b0f===_0x1aa7c5(0x81c)){const _0x36c88f=_0x49e299['startTime']?new Date(_0x49e299['startTime']):null,_0x5b9df8=_0x49e299['endTime']?new Date(_0x49e299[_0x1aa7c5(0x621)]):null;if(_0x5b9df8&&_0x9c54d>_0x5b9df8)_0xbbcbf4=_0x1aa7c5(0x275);else _0x36c88f&&_0x9c54d<_0x36c88f?_0xbbcbf4='scheduled_pending':_0xbbcbf4='active';}switch(_0xbbcbf4){case _0x1aa7c5(0x275):_0x5b1069=_0x1aa7c5(0x75a),_0x176612=_0x1aa7c5(0x261);break;case _0x1aa7c5(0x651):_0x5b1069=_0x1aa7c5(0x8a0),_0x176612=_0x1aa7c5(0x71f);break;case _0x1aa7c5(0x1c9):_0x5b1069=_0x32e979!==_0x1aa7c5(0x4f2)?'เปิด\x20(จับเวลา)':_0x1aa7c5(0x74b),_0x176612=_0x1aa7c5(0x4e4);break;default:_0x5b1069='ตั้งเวลา\x20(เปิด)',_0x176612=_0x1aa7c5(0x4e4);break;}let _0x5107d2='';const _0x2189fb={'day':_0x1aa7c5(0x304),'month':_0x1aa7c5(0x304),'year':_0x1aa7c5(0x1d8),'hour':'2-digit','minute':_0x1aa7c5(0x304),'hour12':![]};if(_0x260b0f===_0x1aa7c5(0x81c)){if(_0x49e299[_0x1aa7c5(0x142)])_0x5107d2+=_0x1aa7c5(0x5f8)+new Date(_0x49e299[_0x1aa7c5(0x142)])[_0x1aa7c5(0x660)](_0x1aa7c5(0x149),_0x2189fb)+'</p>';if(_0x49e299[_0x1aa7c5(0x621)])_0x5107d2+=_0x1aa7c5(0x264)+new Date(_0x49e299[_0x1aa7c5(0x621)])[_0x1aa7c5(0x660)](_0x1aa7c5(0x149),_0x2189fb)+_0x1aa7c5(0x4ef);}let _0x1bdb18='';if(_0x49e299['pairedQuizId']){const _0x31ed4b=allQuizzes[_0x1aa7c5(0x172)](_0x29c6ba=>_0x29c6ba['id']===_0x49e299[_0x1aa7c5(0x7c5)]);if(_0x31ed4b){let _0x577c27,_0x54c639;new Date(_0x49e299[_0x1aa7c5(0x424)])<new Date(_0x31ed4b[_0x1aa7c5(0x424)])?(_0x577c27=_0x49e299['id'],_0x54c639=_0x31ed4b['id']):(_0x577c27=_0x31ed4b['id'],_0x54c639=_0x49e299['id']),_0x1bdb18+=_0x1aa7c5(0x614)+_0x54c639+'\x22\x20data-pre-test-id=\x22'+_0x577c27+_0x1aa7c5(0x4cd);}}else _0x49e299['quizMode']===_0x1aa7c5(0x1c6)&&(_0x1bdb18+=_0x1aa7c5(0x85e)+_0x49e299['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x49e299[_0x1aa7c5(0x3ad)]==='pre-test'&&_0x533000>0x0)_0x1bdb18+=_0x1aa7c5(0x85e)+_0x49e299['id']+_0x1aa7c5(0x6b1);else!_0x49e299['pairedQuizId']&&_0x49e299[_0x1aa7c5(0x3ad)]!==_0x1aa7c5(0x1c6)&&_0x533000>0x0&&(_0x1bdb18+=_0x1aa7c5(0x85e)+_0x49e299['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x3559ef='';_0x49e299[_0x1aa7c5(0x7c5)]?_0x3559ef=_0x1aa7c5(0x2ec)+_0x49e299['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x3559ef=_0x1aa7c5(0x2ec)+_0x49e299['id']+_0x1aa7c5(0x440),_0x22951+=_0x1aa7c5(0x55c)+_0x49e299['id']+_0x1aa7c5(0x476)+_0x49e299[_0x1aa7c5(0x76d)]+_0x1aa7c5(0x5cf)+_0x49e299[_0x1aa7c5(0x1f8)][_0x1aa7c5(0x890)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x49e299[_0x1aa7c5(0x424)])[_0x1aa7c5(0x660)](_0x1aa7c5(0x149))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x533000+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5107d2+_0x1aa7c5(0x723)+_0x176612+'\x22>'+_0x5b1069+_0x1aa7c5(0x71c)+_0x49e299['id']+_0x1aa7c5(0x20f)+_0x49e299['id']+_0x1aa7c5(0x6dd)+(_0x49e299[_0x1aa7c5(0x44e)]?_0x1aa7c5(0x77f):_0x1aa7c5(0x4fd))+_0x1aa7c5(0x1cc)+_0x1bdb18+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49e299['id']+_0x1aa7c5(0x18c)+_0x49e299['id']+_0x1aa7c5(0x553)+_0x49e299['id']+_0x1aa7c5(0x7be)+_0x49e299['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49e299['id']+_0x1aa7c5(0x36b)+_0x49e299['id']+_0x1aa7c5(0x421)+_0x49e299['id']+_0x1aa7c5(0x22b)+_0x49e299[_0x1aa7c5(0x76d)]+_0x1aa7c5(0x60b)+_0x49e299['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49e299['id']+_0x1aa7c5(0x1ff)+_0x3559ef+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x49e299['id']+_0x1aa7c5(0x490)+_0x49e299['id']+_0x1aa7c5(0x6cf)+_0x49e299['id']+_0x1aa7c5(0x204)+_0x49e299['id']+_0x1aa7c5(0x807)+_0x49e299['id']+_0x1aa7c5(0x22b)+_0x49e299[_0x1aa7c5(0x76d)]+_0x1aa7c5(0x89e);}),_0x18a007['innerHTML']=_0x22951,document[_0x1150dc(0x175)]('.quiz-result-card')[_0x1150dc(0x813)](_0x3ab128=>{_0x3ab128['addEventListener']('click',()=>{const _0x37c08a=_0x4611,_0x19e924=_0x3ab128[_0x37c08a(0x1cf)]['quizId'];showQuizDetailView(_0x19e924);});});}async function handleUnpairQuiz(_0x23c39a){const _0x73706e=_0x1bb21e,_0x386f1d=allQuizzes['find'](_0x5d6086=>_0x5d6086['id']===_0x23c39a);if(!_0x386f1d||!_0x386f1d['pairedQuizId']){showMessage(_0x73706e(0x407));return;}showConfirmation(_0x73706e(0x74a),async()=>{const _0x28a0f6=_0x73706e;try{const _0xe81c4a=doc(db,'artifacts/'+appId+_0x28a0f6(0x59a),_0x23c39a),_0x4d7098=doc(db,'artifacts/'+appId+_0x28a0f6(0x59a),_0x386f1d[_0x28a0f6(0x7c5)]),_0xa826aa=writeBatch(db);_0xa826aa[_0x28a0f6(0x3ee)](_0xe81c4a,{'pairedQuizId':null}),_0xa826aa[_0x28a0f6(0x3ee)](_0x4d7098,{'pairedQuizId':null}),await _0xa826aa[_0x28a0f6(0x78c)](),showMessage(_0x28a0f6(0x46d));}catch(_0x260740){console['error'](_0x28a0f6(0x53d),_0x260740),showMessage(_0x28a0f6(0x79c));}});}function formatAndPrintLessonPlan(_0x564deb,_0x513209){const _0x1b25f5=_0x1bb21e,_0x3962d0=window[_0x1b25f5(0x6e1)]('','_blank'),_0x1eb17a=_0x1b25f5(0x77d)+_0x513209['topic']+_0x1b25f5(0x229)+_0x513209[_0x1b25f5(0x76d)]+_0x1b25f5(0x50e)+_0x564deb['learningGaps'][_0x1b25f5(0x796)](_0x41a3d8=>_0x1b25f5(0x1c5)+_0x41a3d8+'</li>')[_0x1b25f5(0x4d7)]('')+_0x1b25f5(0x5da)+_0x564deb[_0x1b25f5(0x779)]+_0x1b25f5(0x38c)+_0x564deb[_0x1b25f5(0x7ce)]['map'](_0x2f923e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x2f923e[_0x1b25f5(0x1ea)]+_0x1b25f5(0x7bc)+_0x2f923e[_0x1b25f5(0x156)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1b25f5(0x4d7)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3962d0['document'][_0x1b25f5(0x85d)](_0x1eb17a),_0x3962d0['document']['close'](),_0x3962d0[_0x1b25f5(0x85c)]=function(){setTimeout(()=>{const _0x5a79f8=_0x4611;_0x3962d0[_0x5a79f8(0x7c6)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x46aa78){const _0x177a94=_0x1bb21e;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x9f6897=doc(db,_0x177a94(0x736)+appId+_0x177a94(0x59a),_0x46aa78),_0x434aee=await getDoc(_0x9f6897);if(!_0x434aee[_0x177a94(0x62a)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x4698f3={'id':_0x46aa78,..._0x434aee[_0x177a94(0x794)]()},_0x205ec8=collection(db,_0x177a94(0x736)+appId+_0x177a94(0x59a),_0x46aa78,_0x177a94(0x4dd)),_0x1212bc=await getDocs(_0x205ec8),_0x44eeb6=_0x1212bc[_0x177a94(0x601)][_0x177a94(0x796)](_0xa020fa=>_0xa020fa['data']());if(_0x44eeb6[_0x177a94(0x890)]===0x0)throw new Error(_0x177a94(0x6f9));const _0x527d18=calculateItemAnalysis(_0x4698f3,_0x44eeb6)[_0x177a94(0x768)],_0x56c4ed=calculateDistractorAnalysis(_0x4698f3,_0x44eeb6),_0x47251f=_0x260dc2=>{const _0x483804=_0x177a94;if(!_0x260dc2)return'';return _0x260dc2[_0x483804(0x7af)](/\\/g,'\x5c\x5c')[_0x483804(0x7af)](/"/g,'\x5c\x22')[_0x483804(0x7af)](/\n/g,'\x5cn');};let _0x3289b1=_0x177a94(0x3b1);_0x4698f3[_0x177a94(0x1f8)][_0x177a94(0x813)]((_0x2368c2,_0x54bb31)=>{const _0x3d6445=_0x177a94,_0x36ec23=_0x527d18[_0x54bb31]?.['p']['toFixed'](0x2)||_0x3d6445(0x2c9),_0x55d7c9=_0x527d18[_0x54bb31]?.['r'][_0x3d6445(0x554)](0x2)||'N/A',_0x40d341=_0x47251f(_0x2368c2[_0x3d6445(0x20d)]||_0x2368c2[_0x3d6445(0x1d1)]);_0x3289b1+=_0x3d6445(0x2bd)+(_0x54bb31+0x1)+'\x20(p='+_0x36ec23+_0x3d6445(0x4ac)+_0x55d7c9+_0x3d6445(0x837)+_0x40d341+'\x5cn';if(_0x2368c2[_0x3d6445(0x4c7)]===_0x3d6445(0x4a9)&&_0x56c4ed[_0x54bb31]){const _0x1a7aa0=_0x56c4ed[_0x54bb31],_0x1023c1=Object[_0x3d6445(0x68d)](_0x1a7aa0)[_0x3d6445(0x5d6)](_0x2d6506=>parseInt(_0x2d6506)!==_0x2368c2[_0x3d6445(0x420)])['sort']((_0x4f47ad,_0x2dda2d)=>_0x1a7aa0[_0x2dda2d]['total']-_0x1a7aa0[_0x4f47ad][_0x3d6445(0x259)])[0x0];if(_0x1023c1&&_0x1a7aa0[_0x1023c1][_0x3d6445(0x259)]>0x0){const _0x4559ca=_0x47251f(_0x1a7aa0[_0x1023c1][_0x3d6445(0x4ca)]);_0x3289b1+=_0x3d6445(0x2e0)+_0x4559ca+_0x3d6445(0x343);}}});const _0x210ea9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x4698f3[_0x177a94(0x76d)]+_0x177a94(0x1f2)+_0x3289b1+_0x177a94(0x7fa),_0x17849c={'type':'OBJECT','properties':{'learningGaps':{'type':_0x177a94(0x60a),'items':{'type':_0x177a94(0x501)}},'teachingContent':{'type':_0x177a94(0x501)},'practiceProblems':{'type':_0x177a94(0x60a),'items':{'type':_0x177a94(0x7f2),'properties':{'question':{'type':_0x177a94(0x501)},'solution':{'type':_0x177a94(0x501)}}}}},'required':[_0x177a94(0x754),_0x177a94(0x779),_0x177a94(0x7ce)]},_0x1f6476=await callAnalysisApi(_0x210ea9,_0x17849c);await updateDoc(_0x9f6897,{'lessonPlan':_0x1f6476});const _0x3554a5=_0x177a94(0x284)+_0x4698f3['topic']+_0x177a94(0x47c)+_0x1f6476[_0x177a94(0x754)][_0x177a94(0x796)](_0x14ef2a=>'<li>'+_0x14ef2a+_0x177a94(0x552))[_0x177a94(0x4d7)]('')+_0x177a94(0x129)+_0x1f6476[_0x177a94(0x779)]+_0x177a94(0x465)+_0x1f6476['practiceProblems']['map'](_0x56e021=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x56e021[_0x177a94(0x1ea)]+_0x177a94(0x329)+_0x56e021[_0x177a94(0x156)]+_0x177a94(0x276))[_0x177a94(0x4d7)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x177a94(0x73e))[_0x177a94(0x83f)]='แผนการสอน:\x20'+_0x4698f3['topic'],document['getElementById']('lesson-plan-content')['innerHTML']=_0x3554a5,document[_0x177a94(0x38e)](_0x177a94(0x2d9))['classList'][_0x177a94(0x327)](_0x177a94(0x5e8));if(window[_0x177a94(0x74c)])MathJax[_0x177a94(0x14d)]();messageModal[_0x177a94(0x2db)]['add'](_0x177a94(0x5e8));}catch(_0x3990c3){console[_0x177a94(0x146)](_0x177a94(0x52f),_0x3990c3),showMessage(_0x177a94(0x1a7)+_0x3990c3[_0x177a94(0x743)]);}}async function handleDuplicateQuiz(_0xa897a3){const _0x28cfda=_0x1bb21e;try{const _0x4d6f65=doc(db,_0x28cfda(0x736)+appId+'/public/data/quizzes',_0xa897a3),_0x9c8682=await getDoc(_0x4d6f65);if(_0x9c8682['exists']()){const _0x1efb8d=_0x9c8682[_0x28cfda(0x794)]();let _0x4ce636='',_0x20d069=_0x28cfda(0x8ed),_0x227001=null;if(_0x1efb8d[_0x28cfda(0x3ad)]==='pre-test'){let _0x2af240=_0x1efb8d['topic'][_0x28cfda(0x7af)]('(ก่อนเรียน)','')[_0x28cfda(0x2d2)]();_0x4ce636=_0x28cfda(0x255)+_0x2af240,_0x20d069=_0x28cfda(0x699),_0x227001=_0xa897a3;}else _0x4ce636='(คัดลอก)\x20'+_0x1efb8d['topic'];const _0x333e0c={..._0x1efb8d,'topic':_0x4ce636,'createdAt':new Date()[_0x28cfda(0x709)](),'quizMode':_0x20d069,'pairedQuizId':_0x227001};let _0x2f348b;while(!![]){_0x2f348b=Math[_0x28cfda(0x4b4)](0x3e8+Math['random']()*0x2328)[_0x28cfda(0x189)]();const _0x378a9b=await getDoc(doc(db,_0x28cfda(0x736)+appId+_0x28cfda(0x59a),_0x2f348b));if(!_0x378a9b[_0x28cfda(0x62a)]())break;}const _0x4a07f2=doc(db,_0x28cfda(0x736)+appId+_0x28cfda(0x59a),_0x2f348b);await setDoc(_0x4a07f2,_0x333e0c),_0x333e0c[_0x28cfda(0x3ad)]===_0x28cfda(0x699)&&await updateDoc(_0x4d6f65,{'pairedQuizId':_0x2f348b}),showMessage(_0x28cfda(0x593));}else throw new Error(_0x28cfda(0x5e7));}catch(_0x55e2c9){console[_0x28cfda(0x146)](_0x28cfda(0x188),_0x55e2c9),showMessage(_0x28cfda(0x528));}}async function handleDeleteQuiz(_0x3a6bca,_0x48ef0a=!![]){const _0x3bb58a=_0x1bb21e;try{const _0x7d7f2e=writeBatch(db),_0x102a9a=collection(db,_0x3bb58a(0x736)+appId+_0x3bb58a(0x190)+_0x3a6bca+_0x3bb58a(0x81a)),_0x2754fb=await getDocs(_0x102a9a);_0x2754fb[_0x3bb58a(0x813)](_0x3d4707=>{_0x7d7f2e['delete'](doc(_0x102a9a,_0x3d4707['id']));});const _0x3f46a2=doc(db,_0x3bb58a(0x736)+appId+_0x3bb58a(0x59a),_0x3a6bca);_0x7d7f2e[_0x3bb58a(0x5f5)](_0x3f46a2),await _0x7d7f2e[_0x3bb58a(0x78c)](),_0x48ef0a&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x5655e3){console['error'](_0x3bb58a(0x7e4),_0x5655e3),_0x48ef0a&&showMessage(_0x3bb58a(0x266));}}async function showQuizDetailView(_0x45933c){const _0x2b6b6a=_0x1bb21e;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x1a4450=doc(db,_0x2b6b6a(0x736)+appId+'/public/data/quizzes',_0x45933c),_0x116675=await getDoc(_0x1a4450);if(!_0x116675['exists']()){showMessage(_0x2b6b6a(0x6e7));return;}const _0x46e03a={'id':_0x116675['id'],..._0x116675[_0x2b6b6a(0x794)]()};currentQuizData=_0x46e03a;const _0x1dfff3=doc(db,_0x2b6b6a(0x736)+appId+'/public/data/projects',_0x46e03a[_0x2b6b6a(0x79a)]),_0x593abb=await getDoc(_0x1dfff3);_0x593abb[_0x2b6b6a(0x62a)]()?(currentProjectData=_0x593abb[_0x2b6b6a(0x794)](),currentProjectId=_0x46e03a[_0x2b6b6a(0x79a)]):(currentProjectData={'students':[]},currentProjectId=_0x46e03a[_0x2b6b6a(0x79a)]);document[_0x2b6b6a(0x38e)](_0x2b6b6a(0x3d9))[_0x2b6b6a(0x83f)]=_0x46e03a['topic'],document[_0x2b6b6a(0x38e)](_0x2b6b6a(0x535))[_0x2b6b6a(0x83f)]=_0x45933c;const _0x332d8e=collection(db,_0x2b6b6a(0x736)+appId+'/public/data/quizzes',_0x45933c,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x332d8e,_0x40d416=>{const _0x55c5e0=_0x2b6b6a,_0x721790=_0x40d416[_0x55c5e0(0x601)][_0x55c5e0(0x796)](_0x55a327=>({'id':_0x55a327['id'],..._0x55a327[_0x55c5e0(0x794)]()}));currentSubmissions=_0x721790,renderBehaviorLog(_0x721790),renderAnswerGrid(currentProjectData[_0x55c5e0(0x2b6)],_0x721790,_0x46e03a),renderAnalytics(_0x46e03a,_0x721790),renderQuizResultsTable(currentProjectData[_0x55c5e0(0x2b6)],_0x721790,_0x46e03a),renderQuizLeaderboard(_0x721790,_0x46e03a,_0x55c5e0(0x1ac));}),showView(_0x2b6b6a(0x804));}catch(_0x33703a){console['error'](_0x2b6b6a(0x356),_0x33703a),showMessage(_0x2b6b6a(0x4ee));}}function renderAnswerGrid(_0xd964ab,_0x46e727,_0x3a9922){const _0x4f5108=_0x1bb21e,_0x37db1a=document[_0x4f5108(0x38e)]('answer-grid-container');if(!_0x37db1a)return;if(!_0xd964ab||_0xd964ab[_0x4f5108(0x890)]===0x0){_0x37db1a['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x2f69ed=_0x3a9922['questions'],_0x325859=_0x46e727['reduce']((_0x4c64c8,_0x21006e)=>{const _0x50f8ab=_0x4f5108;return _0x4c64c8[_0x21006e[_0x50f8ab(0x6f4)]]=_0x21006e,_0x4c64c8;},{}),_0x11fb27=_0xf0398d=>String[_0x4f5108(0x7cc)](0x41+_0xf0398d),_0x4d5de1=_0x4e5353=>{const _0x574840=_0x4f5108,_0x1f94c3=_0x4e5353['questionType']||_0x3a9922[_0x574840(0x279)];switch(_0x1f94c3){case _0x574840(0x4a9):return _0x4e5353[_0x574840(0x6e3)]&&_0x4e5353[_0x574840(0x6e3)][_0x574840(0x890)]>_0x4e5353[_0x574840(0x420)]?_0x11fb27(_0x4e5353['correctAnswerIndex']):'-';case'true_false':return _0x4e5353[_0x574840(0x5d3)]?_0x574840(0x8c9):_0x574840(0x35d);case _0x574840(0x2cf):return _0x4e5353['correctResponse']||'-';case'short_answer':return _0x574840(0x64d);default:return'-';}},_0x4967c7=(_0x430de6,_0x2a4a35)=>{const _0x595f8b=_0x4f5108;if(_0x2a4a35[_0x595f8b(0x3ab)]===null||_0x2a4a35[_0x595f8b(0x3ab)]===undefined)return'-';const _0x10d542=_0x430de6[_0x595f8b(0x4c7)]||_0x3a9922[_0x595f8b(0x279)];switch(_0x10d542){case _0x595f8b(0x4a9):const _0x5ce6e=_0x430de6[_0x595f8b(0x6e3)][_0x595f8b(0x312)](_0x558fd7=>_0x558fd7===_0x2a4a35[_0x595f8b(0x6fb)]);return _0x5ce6e!==-0x1?_0x11fb27(_0x5ce6e):_0x2a4a35[_0x595f8b(0x6fb)]||'-';case _0x595f8b(0x6df):return _0x2a4a35[_0x595f8b(0x3ab)]==='true'||_0x2a4a35[_0x595f8b(0x3ab)]===!![]?_0x595f8b(0x8c9):_0x595f8b(0x35d);default:return _0x2a4a35[_0x595f8b(0x3ab)];}};let _0x2544da=_0x4f5108(0x3e1)+_0x2f69ed[_0x4f5108(0x796)]((_0x5cc086,_0x6958e4)=>_0x4f5108(0x791)+(_0x6958e4+0x1)+_0x4f5108(0x799))[_0x4f5108(0x4d7)]('')+_0x4f5108(0x54d)+_0x2f69ed[_0x4f5108(0x796)](_0x2e8953=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x4d5de1(_0x2e8953)+_0x4f5108(0x5a2))[_0x4f5108(0x4d7)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0xd964ab[_0x4f5108(0x813)](_0x54e933=>{const _0x36c04c=_0x4f5108;_0x2544da+='<tr>',_0x2544da+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x54e933+'</td>';const _0x676704=_0x325859[_0x54e933];if(_0x676704){const _0x216831=_0x676704[_0x36c04c(0x60c)][_0x676704[_0x36c04c(0x60c)][_0x36c04c(0x890)]-0x1];_0x2f69ed['forEach']((_0x3ac631,_0x13e2e7)=>{const _0x145621=_0x36c04c,_0x2b03c0=_0x216831[_0x145621(0x2be)][_0x145621(0x172)](_0x14ece7=>_0x14ece7[_0x145621(0x338)]===(_0x3ac631[_0x145621(0x1d1)]||_0x3ac631[_0x145621(0x20d)]));if(_0x2b03c0){let _0xede63=![];const _0x17a819=_0x3ac631['questionType']||_0x3a9922['quizType'];if(_0x2b03c0[_0x145621(0x3ab)]!==null&&_0x2b03c0[_0x145621(0x3ab)]!==undefined)switch(_0x17a819){case'multiple_choice':const _0x57c8d4=_0x3ac631[_0x145621(0x6e3)][_0x3ac631[_0x145621(0x420)]];_0xede63=_0x2b03c0[_0x145621(0x6fb)]===_0x57c8d4;break;case _0x145621(0x6df):const _0x57a0e4=_0x2b03c0[_0x145621(0x3ab)]===!![]||_0x2b03c0[_0x145621(0x3ab)]==='true';_0xede63=_0x57a0e4===_0x3ac631[_0x145621(0x5d3)];break;case _0x145621(0x2cf):_0xede63=_0x2b03c0[_0x145621(0x3ab)]===_0x3ac631[_0x145621(0x3bd)];break;default:_0xede63=_0x2b03c0[_0x145621(0x3db)];break;}const _0x3d3828=_0xede63?_0x145621(0x3b2):_0x145621(0x649);_0x2544da+=_0x145621(0x375)+_0x3d3828+'\x22>'+_0x4967c7(_0x3ac631,_0x2b03c0)+_0x145621(0x5a2);}else _0x2544da+=_0x145621(0x234);});}else _0x2544da+=_0x2f69ed['map'](()=>_0x36c04c(0x1c3))['join']('');_0x2544da+=_0x36c04c(0x6f8);}),_0x2544da+='</tbody></table>',_0x37db1a[_0x4f5108(0x7ac)]=_0x2544da;}function renderQuizResultsTable(_0x3eec6e,_0x339447,_0xd83ec5){const _0x55b781=_0x1bb21e,_0x4eb8c3=_0x339447[_0x55b781(0x243)]((_0x1b1dee,_0x458b9a)=>{const _0xdf89c8=_0x55b781;return _0x1b1dee[_0x458b9a[_0xdf89c8(0x6f4)]]=_0x458b9a,_0x1b1dee;},{}),_0x5b53a5=document[_0x55b781(0x61d)](_0x55b781(0x652));_0x5b53a5&&!_0x5b53a5['innerHTML'][_0x55b781(0x54a)]('จัดการ')&&(_0x5b53a5['innerHTML']+=_0x55b781(0x7d8));const _0x2f737a=document['getElementById'](_0x55b781(0x36d));if(!_0x3eec6e||_0x3eec6e[_0x55b781(0x890)]===0x0){_0x2f737a['innerHTML']='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x515fb5=_0xd83ec5['isRemedial']===!![],_0x4f1ace=_0xd83ec5['settings']?.[_0x55b781(0x6bd)]??-0x1;let _0x18531d='';_0x3eec6e[_0x55b781(0x813)](_0x2bc185=>{const _0x54ae39=_0x55b781,_0x3cdf79=_0x4eb8c3[_0x2bc185];let _0x46db20=_0x54ae39(0x321),_0x73f3d6=_0x54ae39(0x212)+(_0x515fb5?_0x54ae39(0x227):_0x54ae39(0x8e4))+'\x22>'+(_0x515fb5?'สอบซ่อม':_0x54ae39(0x4ec))+'</span></td>';if(_0x3cdf79){let _0x3a8158=_0x515fb5?_0x3cdf79[_0x54ae39(0x3c5)]===_0x3cdf79[_0x54ae39(0x25f)]:_0x4f1ace!==-0x1&&_0x3cdf79[_0x54ae39(0x3c5)]>=_0x4f1ace;if(_0x515fb5||_0x4f1ace!==-0x1){const _0x582eca=_0x3a8158?_0x54ae39(0x2b7):'bg-red-100\x20text-red-800',_0x2a36e4=_0x3a8158?'ผ่าน':_0x54ae39(0x32a);_0x46db20=_0x54ae39(0x35c)+_0x582eca+'\x22>'+_0x2a36e4+_0x54ae39(0x8d9);}const _0x2c7ea0=_0x54ae39(0x6fc)+(_0x3cdf79[_0x54ae39(0x60c)]?.[_0x54ae39(0x890)]||0x1)+_0x54ae39(0x4f3);_0x18531d+=_0x54ae39(0x655)+_0x2bc185+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x3cdf79[_0x54ae39(0x3c5)]+_0x54ae39(0x199)+_0x3cdf79['totalQuestions']+_0x54ae39(0x591)+_0x46db20+_0x54ae39(0x520)+_0x73f3d6+_0x54ae39(0x326)+_0x3cdf79[_0x54ae39(0x75d)]+_0x54ae39(0x199)+_0x3cdf79[_0x54ae39(0x25f)]+_0x54ae39(0x4e8)+_0x3cdf79[_0x54ae39(0x442)]+_0x54ae39(0x199)+_0x3cdf79[_0x54ae39(0x25f)]+'</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x3cdf79['points']||0x0)+_0x54ae39(0x591)+_0x2c7ea0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x3cdf79[_0x54ae39(0x65a)])[_0x54ae39(0x660)]('th-TH')+_0x54ae39(0x6e5)+_0x2bc185+_0x54ae39(0x798);}else{const _0x15938d=_0x54ae39(0x5e4);_0x18531d+=_0x54ae39(0x655)+_0x2bc185+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x73f3d6+_0x54ae39(0x5f7)+_0x15938d+_0x54ae39(0x7e0);}}),_0x2f737a[_0x55b781(0x7ac)]=_0x18531d;}async function confirmRenameQuiz(){const _0x19f746=_0x1bb21e,_0x19cb34=document[_0x19f746(0x38e)]('rename-quiz-input')[_0x19f746(0x491)][_0x19f746(0x2d2)]();if(!_0x19cb34){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x3be3df=doc(db,_0x19f746(0x736)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x3be3df,{'topic':_0x19cb34}),showMessage(_0x19f746(0x72d)),renameQuizModal[_0x19f746(0x2db)][_0x19f746(0x15d)](_0x19f746(0x5e8)),actionTargetId=null;}catch(_0x4658cf){console[_0x19f746(0x146)](_0x19f746(0x584),_0x4658cf),showMessage(_0x19f746(0x436));}}async function handleMoveQuiz(_0x4da37f){const _0x5de963=_0x1bb21e;actionTargetId=_0x4da37f;const _0x3127a2=document['getElementById'](_0x5de963(0x73c));_0x3127a2[_0x5de963(0x7ac)]=_0x5de963(0x67e),moveQuizModal[_0x5de963(0x2db)]['remove'](_0x5de963(0x5e8));try{const _0x268783=collection(db,'artifacts/'+appId+_0x5de963(0x8ae)),_0x4a5041=await getDocs(_0x268783),_0x3d6bc6=_0x4a5041[_0x5de963(0x601)][_0x5de963(0x796)](_0x289504=>({'id':_0x289504['id'],..._0x289504[_0x5de963(0x794)]()})),_0x234685=_0x3d6bc6[_0x5de963(0x5d6)](_0x2ea6e1=>_0x2ea6e1['id']!==currentProjectId);if(_0x234685['length']===0x0){_0x3127a2[_0x5de963(0x7ac)]=_0x5de963(0x514),document[_0x5de963(0x38e)](_0x5de963(0x21c))[_0x5de963(0x5f4)]=!![];return;}_0x3127a2['innerHTML']=_0x234685[_0x5de963(0x796)](_0x1b5797=>_0x5de963(0x23d)+_0x1b5797['id']+'\x22>'+_0x1b5797[_0x5de963(0x5fe)]+'</option>')[_0x5de963(0x4d7)](''),document[_0x5de963(0x38e)](_0x5de963(0x21c))[_0x5de963(0x5f4)]=![];}catch(_0x43cfe2){console['error'](_0x5de963(0x3a6),_0x43cfe2),showMessage(_0x5de963(0x3c4)),moveQuizModal[_0x5de963(0x2db)][_0x5de963(0x15d)](_0x5de963(0x5e8));}}async function confirmMoveQuiz(){const _0x1092a1=_0x1bb21e,_0x4ca90f=document['getElementById'](_0x1092a1(0x73c))['value'];if(!_0x4ca90f){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0xe17440=doc(db,_0x1092a1(0x736)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0xe17440,{'projectId':_0x4ca90f}),showMessage(_0x1092a1(0x5d5)),moveQuizModal['classList']['add'](_0x1092a1(0x5e8)),actionTargetId=null;}catch(_0x643f6c){console['error'](_0x1092a1(0x5d9),_0x643f6c),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x4755b6){const _0x2095f2=_0x1bb21e;actionTargetId=_0x4755b6;const _0x5d50f5=doc(db,_0x2095f2(0x736)+appId+_0x2095f2(0x59a),_0x4755b6);try{const _0x320e45=await getDoc(_0x5d50f5);if(_0x320e45[_0x2095f2(0x62a)]()){const _0x337ae8=_0x320e45['data'](),_0x1c31ec=_0x337ae8[_0x2095f2(0x28e)]||{},_0x3d3929=_0x337ae8[_0x2095f2(0x1f8)]['length'];document[_0x2095f2(0x38e)]('modal-shuffle-select')[_0x2095f2(0x491)]=_0x1c31ec[_0x2095f2(0x59e)]||'none',document[_0x2095f2(0x38e)]('modal-results-display-select')[_0x2095f2(0x491)]=_0x1c31ec[_0x2095f2(0x86f)]||_0x2095f2(0x53c),document[_0x2095f2(0x38e)](_0x2095f2(0x277))[_0x2095f2(0x491)]=_0x1c31ec[_0x2095f2(0x8d6)]||'none',document[_0x2095f2(0x38e)](_0x2095f2(0x835))['value']=_0x1c31ec['timerDuration']||0xa,document[_0x2095f2(0x38e)]('modal-passing-score-input')['value']=_0x1c31ec[_0x2095f2(0x6bd)]||Math[_0x2095f2(0x4b4)](_0x3d3929/0x2),document[_0x2095f2(0x38e)](_0x2095f2(0x510))[_0x2095f2(0x393)]=_0x3d3929,document['getElementById'](_0x2095f2(0x493))[_0x2095f2(0x7eb)]=_0x1c31ec['isAdaptive']||![],document[_0x2095f2(0x38e)](_0x2095f2(0x86b))[_0x2095f2(0x7eb)]=_0x1c31ec[_0x2095f2(0x8c8)]||![],document['getElementById']('modal-timer-mode-select')[_0x2095f2(0x51c)](new Event(_0x2095f2(0x494))),quizSettingsModal[_0x2095f2(0x2db)][_0x2095f2(0x327)](_0x2095f2(0x5e8));}else showMessage(_0x2095f2(0x6e7));}catch(_0x2e295d){console['error']('Error\x20fetching\x20quiz\x20settings:',_0x2e295d),showMessage(_0x2095f2(0x80d));}}async function confirmQuizSettings(){const _0x3d55af=_0x1bb21e;if(!actionTargetId)return;const _0x58fccf=doc(db,_0x3d55af(0x736)+appId+_0x3d55af(0x59a),actionTargetId),_0x4e9779={'shuffle':document[_0x3d55af(0x38e)](_0x3d55af(0x6ae))['value'],'resultsDisplay':document[_0x3d55af(0x38e)](_0x3d55af(0x680))['value'],'timerMode':document[_0x3d55af(0x38e)](_0x3d55af(0x277))[_0x3d55af(0x491)],'timerDuration':parseInt(document[_0x3d55af(0x38e)](_0x3d55af(0x835))[_0x3d55af(0x491)])||0xa,'passingScore':parseInt(document[_0x3d55af(0x38e)](_0x3d55af(0x510))[_0x3d55af(0x491)])||0x0,'passingScore':parseInt(document[_0x3d55af(0x38e)](_0x3d55af(0x510))[_0x3d55af(0x491)])||0x0,'isAdaptive':document[_0x3d55af(0x38e)]('modal-adaptive-quiz-checkbox')[_0x3d55af(0x7eb)],'loopUntilPass':document['getElementById'](_0x3d55af(0x86b))[_0x3d55af(0x7eb)]};try{await updateDoc(_0x58fccf,{'settings':_0x4e9779}),showMessage(_0x3d55af(0x82f)),quizSettingsModal[_0x3d55af(0x2db)]['add'](_0x3d55af(0x5e8)),actionTargetId=null;}catch(_0x2e33a7){console['error'](_0x3d55af(0x81f),_0x2e33a7),showMessage(_0x3d55af(0x1ad));}}async function handleQuizStatus(_0x5bd64d){const _0x1bfec5=_0x1bb21e;actionTargetId=_0x5bd64d;const _0x303317=doc(db,_0x1bfec5(0x736)+appId+_0x1bfec5(0x59a),_0x5bd64d);try{const _0x312253=await getDoc(_0x303317);if(_0x312253[_0x1bfec5(0x62a)]()){const _0x2cee4b=_0x312253[_0x1bfec5(0x794)](),_0x1d796b=_0x2cee4b[_0x1bfec5(0x613)]||_0x1bfec5(0x1c9),_0x11518a=document[_0x1bfec5(0x38e)](_0x1bfec5(0x1ab)),_0x443ec4=document[_0x1bfec5(0x38e)]('quiz-schedule-start-container'),_0x2fc091=document['getElementById'](_0x1bfec5(0x5e5));let _0x1ffe4b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20'+(_0x1d796b===_0x1bfec5(0x1c9)?'checked':'')+_0x1bfec5(0x3a3)+(_0x1d796b===_0x1bfec5(0x275)?_0x1bfec5(0x7eb):'')+_0x1bfec5(0x4ed)+(_0x1d796b===_0x1bfec5(0x81c)?_0x1bfec5(0x7eb):'')+_0x1bfec5(0x4b2);_0x11518a[_0x1bfec5(0x7ac)]=_0x1ffe4b;const _0x4ff75c=_0x1d796b===_0x1bfec5(0x81c);_0x443ec4[_0x1bfec5(0x2db)]['toggle']('hidden',!_0x4ff75c),_0x2fc091[_0x1bfec5(0x2db)]['toggle'](_0x1bfec5(0x5e8),!_0x4ff75c),document[_0x1bfec5(0x38e)](_0x1bfec5(0x4fa))[_0x1bfec5(0x491)]=_0x2cee4b[_0x1bfec5(0x142)]?_0x2cee4b[_0x1bfec5(0x142)][_0x1bfec5(0x504)](0x0,0x10):'',document[_0x1bfec5(0x38e)](_0x1bfec5(0x7e1))['value']=_0x2cee4b[_0x1bfec5(0x621)]?_0x2cee4b[_0x1bfec5(0x621)][_0x1bfec5(0x504)](0x0,0x10):'',_0x11518a[_0x1bfec5(0x175)]('input[name=\x22status-option\x22]')[_0x1bfec5(0x813)](_0x3270c1=>{const _0xda7c=_0x1bfec5;_0x3270c1['addEventListener'](_0xda7c(0x494),_0x10025e=>{const _0x221a50=_0xda7c,_0x28fe2b=_0x10025e[_0x221a50(0x7c2)][_0x221a50(0x491)]===_0x221a50(0x3d2);_0x443ec4[_0x221a50(0x2db)]['toggle'](_0x221a50(0x5e8),!_0x28fe2b),_0x2fc091['classList'][_0x221a50(0x3bb)]('hidden',!_0x28fe2b);});}),quizStatusModal['classList'][_0x1bfec5(0x327)](_0x1bfec5(0x5e8));}}catch(_0x5e6eaa){console[_0x1bfec5(0x146)](_0x1bfec5(0x8e3),_0x5e6eaa),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x571681=_0x1bb21e;if(!actionTargetId)return;const _0x52fcfd=doc(db,_0x571681(0x736)+appId+_0x571681(0x59a),actionTargetId),_0x4ec41e=document[_0x571681(0x61d)](_0x571681(0x4f4));if(!_0x4ec41e){showMessage('กรุณาเลือกสถานะ');return;}const _0x41165f=_0x4ec41e['value'];let _0x8c59b2={};if(_0x41165f===_0x571681(0x1c9)||_0x41165f===_0x571681(0x275))_0x8c59b2={'status':_0x41165f,'startTime':null,'endTime':null};else{if(_0x41165f===_0x571681(0x3d2)){const _0x142ff6=document[_0x571681(0x38e)](_0x571681(0x4fa))[_0x571681(0x491)],_0x19cbba=document['getElementById'](_0x571681(0x7e1))[_0x571681(0x491)];if(!_0x142ff6&&!_0x19cbba){showMessage(_0x571681(0x77c));return;}_0x8c59b2={'status':'scheduled','startTime':_0x142ff6?new Date(_0x142ff6)['toISOString']():null,'endTime':_0x19cbba?new Date(_0x19cbba)[_0x571681(0x709)]():null};}}try{await updateDoc(_0x52fcfd,_0x8c59b2),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x571681(0x2db)]['add'](_0x571681(0x5e8)),actionTargetId=null;}catch(_0x133cd7){console[_0x571681(0x146)](_0x571681(0x394),_0x133cd7),showMessage(_0x571681(0x2c4));}}function listenForStudentProfiles(_0x120a5d){const _0x20cf6e=_0x1bb21e,_0x251a33=collection(db,_0x20cf6e(0x736)+appId+_0x20cf6e(0x752)+_0x120a5d+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x251a33,_0x42090b=>{const _0x1b0136=_0x20cf6e,_0x36dc4e=_0x42090b['docs'][_0x1b0136(0x796)](_0x2b3153=>_0x2b3153[_0x1b0136(0x794)]());renderLeaderboard(_0x36dc4e,_0x1b0136(0x5b6));},_0x5dbc38=>{const _0x22cd62=_0x20cf6e;console[_0x22cd62(0x146)](_0x22cd62(0x6c5),_0x5dbc38),document[_0x22cd62(0x38e)](_0x22cd62(0x5b6))['innerHTML']=_0x22cd62(0x81d);});}function renderLeaderboard(_0x270a2e,_0x2dee4e){const _0x1389d3=_0x1bb21e,_0x47d7d5=document['getElementById'](_0x2dee4e);if(!_0x270a2e||_0x270a2e['length']===0x0){_0x47d7d5['innerHTML']=_0x1389d3(0x810);return;}_0x270a2e[_0x1389d3(0x773)]((_0x4fc4ec,_0x22c034)=>{const _0x372bae=_0x1389d3,_0x1908a3=(_0x22c034[_0x372bae(0x1e0)]||0x0)-(_0x4fc4ec[_0x372bae(0x1e0)]||0x0);if(_0x1908a3!==0x0)return _0x1908a3;const _0x219cda=(_0x22c034['badgesCount']?.[_0x372bae(0x351)]||0x0)-(_0x4fc4ec[_0x372bae(0x39b)]?.['specialist']||0x0);if(_0x219cda!==0x0)return _0x219cda;const _0x3fb785=(_0x22c034[_0x372bae(0x39b)]?.['first_try_ace']||0x0)-(_0x4fc4ec[_0x372bae(0x39b)]?.[_0x372bae(0x7f8)]||0x0);if(_0x3fb785!==0x0)return _0x3fb785;const _0x311ac5=(_0x22c034['badgesCount']?.['perfect_score']||0x0)-(_0x4fc4ec[_0x372bae(0x39b)]?.['perfect_score']||0x0);if(_0x311ac5!==0x0)return _0x311ac5;const _0xa44f2d=(_0x22c034[_0x372bae(0x39b)]?.[_0x372bae(0x4c1)]||0x0)-(_0x4fc4ec[_0x372bae(0x39b)]?.[_0x372bae(0x4c1)]||0x0);if(_0xa44f2d!==0x0)return _0xa44f2d;return _0x4fc4ec[_0x372bae(0x6f4)][_0x372bae(0x636)](_0x22c034['studentName'],'th');});let _0xfb0fd='';_0x270a2e[_0x1389d3(0x813)]((_0x220a12,_0x513e5d)=>{const _0x5a761d=_0x1389d3,_0x3e786f=_0x513e5d+0x1,_0x267324=_0x220a12[_0x5a761d(0x39b)]||{};let _0x26d6f9='';const _0x2b4d2e=['specialist','perfect_score',_0x5a761d(0x7f8),_0x5a761d(0x4c1)];_0x2b4d2e[_0x5a761d(0x813)](_0x46e805=>{const _0x526cc4=_0x5a761d;if(_0x267324[_0x46e805]>0x0){const _0x2c22f6=Object[_0x526cc4(0x481)](BADGES)['find'](_0x59cf12=>_0x59cf12['id']===_0x46e805);_0x2c22f6&&(_0x46e805===_0x526cc4(0x351)?_0x26d6f9+=_0x526cc4(0x6bb)+_0x2c22f6[_0x526cc4(0x6cc)]+_0x526cc4(0x63e)+_0x2c22f6[_0x526cc4(0x544)]+_0x526cc4(0x8e5):_0x26d6f9+=_0x526cc4(0x6bb)+_0x2c22f6[_0x526cc4(0x6cc)]+'\x20('+_0x267324[_0x46e805]+_0x526cc4(0x42a)+_0x2c22f6[_0x526cc4(0x544)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x267324[_0x46e805]+_0x526cc4(0x5a6));}}),_0xfb0fd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x3e786f+_0x5a761d(0x176)+_0x220a12[_0x5a761d(0x6f4)]+_0x5a761d(0x404)+(_0x220a12[_0x5a761d(0x1e0)]||0x0)+_0x5a761d(0x176)+(_0x26d6f9||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x47d7d5[_0x1389d3(0x7ac)]=_0xfb0fd;}function displayLoopScreen(_0x488e65,_0x5e3965,_0x2f9117){const _0xa2ea70=_0x1bb21e;let _0x4dabdc='';_0x2f9117!==_0xa2ea70(0x24c)&&(_0x4dabdc=_0xa2ea70(0x328)+_0x488e65+_0xa2ea70(0x199)+_0x5e3965+_0xa2ea70(0x53e));const _0x26def8=_0xa2ea70(0x7e8)+_0x4dabdc+_0xa2ea70(0x734);studentResultArea['innerHTML']=_0x26def8,studentResultArea[_0xa2ea70(0x2db)]['remove'](_0xa2ea70(0x5e8)),studentQuizArea[_0xa2ea70(0x2db)]['add']('hidden'),document[_0xa2ea70(0x38e)](_0xa2ea70(0x671))[_0xa2ea70(0x353)]('click',()=>{const _0x2e7b4f=_0xa2ea70;studentResultArea['classList'][_0x2e7b4f(0x15d)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x3ec68f,_0x51919a,_0x441ea4){const _0x2e50e6=_0x1bb21e,_0x2c2f61=document[_0x2e50e6(0x38e)](_0x441ea4),_0x1aeec2=_0x441ea4==='student-quiz-leaderboard-table-body',_0x3b8696=_0x51919a[_0x2e50e6(0x1f8)][_0x2e50e6(0x890)],_0x43e05f=document['getElementById'](_0x441ea4)[_0x2e50e6(0x1ef)](_0x2e50e6(0x533));if(_0x43e05f&&!_0x1aeec2){const _0x241b7e=_0x43e05f['querySelector']('thead');_0x241b7e[_0x2e50e6(0x7ac)]=_0x2e50e6(0x3d8);}if(!_0x3ec68f||_0x3ec68f['length']===0x0){_0x2c2f61[_0x2e50e6(0x7ac)]=_0x2e50e6(0x863)+(_0x1aeec2?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x58f6a7=[..._0x3ec68f];_0x58f6a7['sort']((_0x3923e4,_0x25f0e3)=>{const _0x18b4ef=_0x2e50e6;let _0x103771,_0x50cee1;switch(quizLeaderboardSortBy){case _0x18b4ef(0x6f4):_0x103771=_0x3923e4['studentName']||'',_0x50cee1=_0x25f0e3[_0x18b4ef(0x6f4)]||'';return quizLeaderboardSortOrder===_0x18b4ef(0x7bd)?_0x103771[_0x18b4ef(0x636)](_0x50cee1,'th'):_0x50cee1[_0x18b4ef(0x636)](_0x103771,'th');case _0x18b4ef(0x457):_0x103771=_0x3923e4[_0x18b4ef(0x457)]||0x0,_0x50cee1=_0x25f0e3[_0x18b4ef(0x457)]||0x0;break;case'attempts':_0x103771=_0x3923e4['attempts']?.[_0x18b4ef(0x890)]||0x1,_0x50cee1=_0x25f0e3[_0x18b4ef(0x60c)]?.[_0x18b4ef(0x890)]||0x1;break;case'latestSubmittedAt':_0x103771=new Date(_0x3923e4[_0x18b4ef(0x65a)]),_0x50cee1=new Date(_0x25f0e3[_0x18b4ef(0x65a)]);break;case _0x18b4ef(0x3c5):default:_0x103771=_0x3923e4[_0x18b4ef(0x3c5)],_0x50cee1=_0x25f0e3[_0x18b4ef(0x3c5)];break;}if(_0x103771<_0x50cee1)return quizLeaderboardSortOrder===_0x18b4ef(0x7bd)?-0x1:0x1;if(_0x103771>_0x50cee1)return quizLeaderboardSortOrder===_0x18b4ef(0x7bd)?0x1:-0x1;return 0x0;});const _0x350961=_0x51919a['isRemedial']===!![],_0x5aa15f=_0x51919a[_0x2e50e6(0x28e)]?.['passingScore']??-0x1;let _0x4f8770='';_0x58f6a7['forEach']((_0x5a1aeb,_0x3e38b1)=>{const _0x1e5a2b=_0x2e50e6,_0x55b8f4=_0x3e38b1+0x1;let _0x2455ab=_0x1e5a2b(0x524);if(_0x350961||_0x5aa15f!==-0x1){let _0x296495=_0x350961?_0x5a1aeb[_0x1e5a2b(0x3c5)]===_0x3b8696:_0x5a1aeb[_0x1e5a2b(0x3c5)]>=_0x5aa15f;const _0x17db15=_0x296495?_0x1e5a2b(0x2b7):_0x1e5a2b(0x2ab),_0x4e5036=_0x296495?'ผ่าน':_0x1e5a2b(0x32a);_0x2455ab='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x17db15+'\x22>'+_0x4e5036+_0x1e5a2b(0x8d9);}const _0x11f0d1=_0x5a1aeb[_0x1e5a2b(0x60c)][_0x5a1aeb[_0x1e5a2b(0x60c)]['length']-0x1],_0x1c4936=(_0x11f0d1['badges']||[])[_0x1e5a2b(0x796)](_0x37df47=>{const _0x1b8509=_0x1e5a2b,_0xffafae=Object[_0x1b8509(0x481)](BADGES)[_0x1b8509(0x172)](_0x3615fb=>_0x3615fb['id']===_0x37df47);return _0xffafae?_0x1b8509(0x35f)+_0xffafae['name']+_0x1b8509(0x4cb)+_0xffafae[_0x1b8509(0x544)]+_0x1b8509(0x522):'';})[_0x1e5a2b(0x4d7)]('');_0x4f8770+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x55b8f4+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5a1aeb[_0x1e5a2b(0x6f4)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x5a1aeb[_0x1e5a2b(0x3c5)]+_0x1e5a2b(0x199)+_0x3b8696+_0x1e5a2b(0x834)+_0x2455ab+_0x1e5a2b(0x63c)+(_0x5a1aeb[_0x1e5a2b(0x457)]||0x0)+_0x1e5a2b(0x834)+(_0x1aeec2?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x5a1aeb[_0x1e5a2b(0x60c)]?.['length']||0x1)+'</td>')+_0x1e5a2b(0x1b1)+(_0x1aeec2?'':_0x1e5a2b(0x7cd)+new Date(_0x5a1aeb[_0x1e5a2b(0x65a)])[_0x1e5a2b(0x660)](_0x1e5a2b(0x149))+_0x1e5a2b(0x5a2))+_0x1e5a2b(0x78a)+(_0x1c4936||'-')+_0x1e5a2b(0x750);}),_0x2c2f61[_0x2e50e6(0x7ac)]=_0x4f8770,_0x43e05f&&!_0x1aeec2&&_0x43e05f['querySelectorAll'](_0x2e50e6(0x73b))[_0x2e50e6(0x813)](_0x4851c7=>{const _0xb5ddbd=_0x2e50e6,_0x440fd4=_0x4851c7[_0xb5ddbd(0x61d)]('.sort-indicator');if(_0x440fd4)_0x440fd4[_0xb5ddbd(0x327)]();_0x4851c7['dataset']['sort']===quizLeaderboardSortBy&&(_0x4851c7[_0xb5ddbd(0x7ac)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0xb5ddbd(0x4b0));});}async function handleDeleteSubmission(_0x4eaaba){const _0x51f6c0=_0x1bb21e;if(!currentQuizData||!currentQuizData['id']||!_0x4eaaba){showMessage(_0x51f6c0(0x8cb));return;}showConfirmation(_0x51f6c0(0x6ee)+_0x4eaaba+_0x51f6c0(0x889),async()=>{const _0x4a1e49=_0x51f6c0,_0x20b61e=currentQuizData['id'],_0x55bf03=doc(db,_0x4a1e49(0x736)+appId+_0x4a1e49(0x190)+_0x20b61e+_0x4a1e49(0x81a),_0x4eaaba);try{await deleteDoc(_0x55bf03),showMessage(_0x4a1e49(0x7e9)+_0x4eaaba+_0x4a1e49(0x728));}catch(_0x23201e){console[_0x4a1e49(0x146)](_0x4a1e49(0x850),_0x23201e),showMessage(_0x4a1e49(0x38b));}});}async function handleLoadQuiz(){const _0x45a678=_0x1bb21e,_0x428c85=document[_0x45a678(0x38e)](_0x45a678(0x558)),_0x480466=_0x428c85['value']['trim']();if(!_0x480466){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn['disabled']=!![],loadQuizBtn['innerHTML']=_0x45a678(0x498);try{const _0x18e6a3=doc(db,_0x45a678(0x736)+appId+_0x45a678(0x59a),_0x480466),_0x2e3760=await getDoc(_0x18e6a3);if(!_0x2e3760[_0x45a678(0x62a)]()){showMessage(_0x45a678(0x57b));return;}currentQuizData={'id':_0x2e3760['id'],..._0x2e3760['data']()};const _0x2d7638=currentQuizData[_0x45a678(0x613)]||_0x45a678(0x1c9),_0x4175c5=new Date();if(_0x2d7638==='inactive'){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x2d7638==='scheduled'){const _0x543470=currentQuizData['startTime']?new Date(currentQuizData[_0x45a678(0x142)]):null,_0xd320d3=currentQuizData[_0x45a678(0x621)]?new Date(currentQuizData[_0x45a678(0x621)]):null;if(_0x543470&&_0x4175c5<_0x543470){showMessage(_0x45a678(0x72b)+_0x543470[_0x45a678(0x660)](_0x45a678(0x149),{'hour12':![]}));return;}if(_0xd320d3&&_0x4175c5>_0xd320d3){showMessage(_0x45a678(0x230));return;}}const _0xa2b79b=currentQuizData[_0x45a678(0x79a)];currentProjectId=_0xa2b79b;const _0x1a7089=doc(db,_0x45a678(0x736)+appId+_0x45a678(0x8ae),_0xa2b79b),_0x496467=await getDoc(_0x1a7089);if(!_0x496467[_0x45a678(0x62a)]()){showMessage(_0x45a678(0x47d));return;}const _0x30390f=_0x496467[_0x45a678(0x794)]();currentStudentProjectData=_0x30390f,displayStudentNameSelector(_0x30390f[_0x45a678(0x2b6)],currentQuizData['topic']);}catch(_0x5388ea){console[_0x45a678(0x146)]('Error\x20loading\x20quiz\x20for\x20student:',_0x5388ea),showMessage(_0x45a678(0x1cd));}finally{loadQuizBtn[_0x45a678(0x5f4)]=![],loadQuizBtn['innerHTML']=_0x45a678(0x7b8);}}async function handleJoinLiveGame(){const _0x38bfea=_0x1bb21e,_0x4305f7=document[_0x38bfea(0x38e)]('game-pin-input'),_0x3bb2b2=document['getElementById'](_0x38bfea(0x210)),_0x6225dc=document[_0x38bfea(0x38e)](_0x38bfea(0x5e1)),_0x15fcb5=_0x4305f7[_0x38bfea(0x491)][_0x38bfea(0x2d2)](),_0x4927f3=_0x3bb2b2[_0x38bfea(0x491)][_0x38bfea(0x2d2)]();if(!_0x15fcb5||!_0x4927f3){showMessage(_0x38bfea(0x5c1));return;}_0x6225dc['disabled']=!![],_0x6225dc[_0x38bfea(0x7ac)]=_0x38bfea(0x870);try{const _0x35664d=collection(db,_0x38bfea(0x736)+appId+_0x38bfea(0x150)),_0x19cfd7=query(_0x35664d,where(_0x38bfea(0x5f2),'==',_0x15fcb5),where('status','==',_0x38bfea(0x8ec))),_0x24625e=await getDocs(_0x19cfd7);if(_0x24625e['empty']){showMessage(_0x38bfea(0x513));return;}const _0x1583f0=_0x24625e[_0x38bfea(0x601)][0x0],_0x3b40ba=_0x1583f0[_0x38bfea(0x794)]();currentLiveGameId=_0x1583f0['id'];const _0x8b62bc=_0x3b40ba[_0x38bfea(0x1f3)],_0x29818b=doc(db,_0x38bfea(0x736)+appId+'/public/data/quizzes',_0x8b62bc),_0x1be8b0=await getDoc(_0x29818b);if(!_0x1be8b0['exists']()){showMessage(_0x38bfea(0x3a1));return;}currentQuizData={'id':_0x1be8b0['id'],..._0x1be8b0['data']()};if(_0x3b40ba[_0x38bfea(0x192)]&&_0x3b40ba[_0x38bfea(0x192)][_0x4927f3]){showMessage(_0x38bfea(0x744));return;}const _0xf63ff2={};_0xf63ff2['players.'+_0x4927f3]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x38bfea(0x736)+appId+_0x38bfea(0x150),currentLiveGameId),_0xf63ff2),currentStudentName=_0x4927f3,listenForLiveGameUpdates();}catch(_0x5800d2){console[_0x38bfea(0x146)](_0x38bfea(0x49d),_0x5800d2),showMessage(_0x38bfea(0x775));}finally{_0x6225dc[_0x38bfea(0x5f4)]=![],_0x6225dc[_0x38bfea(0x7ac)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x176f4a,_0x1215ba){const _0x200db7=_0x1bb21e,_0x368279=document['getElementById'](_0x200db7(0x322));document[_0x200db7(0x38e)](_0x200db7(0x2ee))[_0x200db7(0x83f)]=_0x200db7(0x5a4)+_0x1215ba,!_0x176f4a||_0x176f4a['length']===0x0?(_0x368279[_0x200db7(0x7ac)]=_0x200db7(0x564),startQuizBtn[_0x200db7(0x5f4)]=!![]):(_0x368279[_0x200db7(0x7ac)]=_0x200db7(0x48f),_0x176f4a[_0x200db7(0x813)](_0x27bc8a=>{const _0x576c9a=_0x200db7,_0x47a724=document[_0x576c9a(0x7df)](_0x576c9a(0x451));_0x47a724['value']=_0x27bc8a,_0x47a724[_0x576c9a(0x83f)]=_0x27bc8a,_0x368279[_0x576c9a(0x179)](_0x47a724);}),startQuizBtn[_0x200db7(0x5f4)]=![]),studentInitialView[_0x200db7(0x2db)]['add']('hidden'),studentNameSelectionView['classList']['remove'](_0x200db7(0x5e8));}function shuffleArray(_0x4108a5){const _0x1d9b23=_0x1bb21e;for(let _0x1dd636=_0x4108a5[_0x1d9b23(0x890)]-0x1;_0x1dd636>0x0;_0x1dd636--){const _0x3f5308=Math[_0x1d9b23(0x4b4)](Math['random']()*(_0x1dd636+0x1));[_0x4108a5[_0x1dd636],_0x4108a5[_0x3f5308]]=[_0x4108a5[_0x3f5308],_0x4108a5[_0x1dd636]];}}function getShuffledQuiz(_0x541547){const _0x2bd33a=_0x1bb21e;let _0x56f65b=JSON[_0x2bd33a(0x32f)](JSON[_0x2bd33a(0x644)](_0x541547));const _0x3aa2c5=_0x56f65b[_0x2bd33a(0x28e)]?.[_0x2bd33a(0x59e)]||_0x2bd33a(0x4f2);if(_0x3aa2c5===_0x2bd33a(0x4f2))return _0x56f65b;return(_0x3aa2c5===_0x2bd33a(0x69a)||_0x3aa2c5===_0x2bd33a(0x78d))&&shuffleArray(_0x56f65b[_0x2bd33a(0x1f8)]),(_0x3aa2c5===_0x2bd33a(0x209)||_0x3aa2c5===_0x2bd33a(0x78d))&&_0x56f65b['questions'][_0x2bd33a(0x813)](_0x56b095=>{const _0x38ec05=_0x2bd33a,_0x1ad1f7=_0x56b095[_0x38ec05(0x4c7)]||_0x56f65b[_0x38ec05(0x279)];if(_0x56b095[_0x38ec05(0x6e3)]){let _0xae70d2=_0x56b095[_0x38ec05(0x6e3)]['map']((_0x2fac91,_0x6adab9)=>({'text':_0x2fac91,'isCorrect':_0x6adab9===_0x56b095[_0x38ec05(0x420)]}));shuffleArray(_0xae70d2),_0x56b095[_0x38ec05(0x6e3)]=_0xae70d2[_0x38ec05(0x796)](_0x461625=>_0x461625[_0x38ec05(0x4ca)]),_0x56b095[_0x38ec05(0x420)]=_0xae70d2['findIndex'](_0x1cb89b=>_0x1cb89b['isCorrect']);}_0x1ad1f7===_0x38ec05(0x2cf)&&_0x56b095[_0x38ec05(0x33f)]&&shuffleArray(_0x56b095[_0x38ec05(0x33f)]);}),_0x56f65b;}function displayQuizForStudent(_0x59433f){const _0x2a0bf9=_0x1bb21e;studentQuizArea[_0x2a0bf9(0x2db)][_0x2a0bf9(0x327)](_0x2a0bf9(0x5e8)),currentDisplayedQuiz=getShuffledQuiz(_0x59433f),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x2a0bf9(0x4e0),handleFullscreenChange),document['addEventListener'](_0x2a0bf9(0x1fd),handleVisibilityChange);currentMode!==_0x2a0bf9(0x5bd)&&enterFullscreen();const _0x19d67f=currentDisplayedQuiz[_0x2a0bf9(0x28e)]?.[_0x2a0bf9(0x8d6)]||_0x2a0bf9(0x4f2);if(_0x19d67f===_0x2a0bf9(0x141))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2a0bf9(0x28e)][_0x2a0bf9(0x842)]);else _0x19d67f===_0x2a0bf9(0x8b0)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x5a3c60=_0x1bb21e;let _0x410446=_0x5a3c60(0x246)+currentDisplayedQuiz[_0x5a3c60(0x76d)]+_0x5a3c60(0x70f)+(currentMode===_0x5a3c60(0x5bd)?_0x5a3c60(0x4d2):'')+_0x5a3c60(0x872);currentDisplayedQuiz[_0x5a3c60(0x1f8)][_0x5a3c60(0x813)]((_0x1bc2c5,_0x5647e3)=>{const _0xf23059=_0x5a3c60,_0x4ab98b=_0x1bc2c5[_0xf23059(0x4c7)]||currentDisplayedQuiz['quizType'];_0x410446+=_0xf23059(0x3ec);_0x4ab98b===_0xf23059(0x2cf)?_0x410446+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x5647e3+0x1)+'.\x20'+_0x1bc2c5[_0xf23059(0x1d1)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x5647e3+_0xf23059(0x6a5)+_0x1bc2c5[_0xf23059(0x33f)][_0xf23059(0x796)](_0x311f8f=>_0xf23059(0x23d)+_0x311f8f+'\x22>'+_0x311f8f+_0xf23059(0x6ec))[_0xf23059(0x4d7)]('')+_0xf23059(0x41c):(_0x410446+=_0xf23059(0x207)+(_0x5647e3+0x1)+'.\x20'+(_0x1bc2c5[_0xf23059(0x4cc)]||_0x1bc2c5[_0xf23059(0x20d)])+_0xf23059(0x4ef),_0x1bc2c5[_0xf23059(0x163)]&&(_0x410446+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1bc2c5['imageCode']+_0xf23059(0x8ad)));_0x410446+=_0xf23059(0x6ea);switch(_0x4ab98b){case _0xf23059(0x3fe):_0x410446+='<textarea\x20name=\x22question'+_0x5647e3+_0xf23059(0x1b8);break;case _0xf23059(0x6df):_0x410446+=_0xf23059(0x47f)+_0x5647e3+_0xf23059(0x688)+_0x5647e3+_0xf23059(0x45e)+_0x5647e3+'_opt0\x22>ใช่</label></div>',_0x410446+=_0xf23059(0x47f)+_0x5647e3+_0xf23059(0x1f1)+_0x5647e3+_0xf23059(0x712)+_0x5647e3+_0xf23059(0x821);break;case _0xf23059(0x2cf):break;case _0xf23059(0x5c8):case _0xf23059(0x4a9):default:_0x410446+=_0x1bc2c5[_0xf23059(0x6e3)]['map']((_0x17722f,_0x122f7a)=>_0xf23059(0x5f6)+_0x5647e3+_0xf23059(0x2f1)+_0x122f7a+_0xf23059(0x62e)+_0x5647e3+'\x22\x20value=\x22'+_0x122f7a+_0xf23059(0x5a7)+_0x5647e3+_0xf23059(0x2f1)+_0x122f7a+'\x22>'+_0x17722f+_0xf23059(0x788))[_0xf23059(0x4d7)]('');break;}_0x410446+=_0xf23059(0x450);}),_0x410446+=_0x5a3c60(0x2f7),_0x410446+='</form>',studentQuizArea['innerHTML']=_0x410446;if(currentMode===_0x5a3c60(0x5bd)){const _0x3a96fe=document['getElementById']('cancel-test-btn');if(_0x3a96fe)_0x3a96fe['addEventListener'](_0x5a3c60(0x38d),cancelAdminTest);}document['getElementById'](_0x5a3c60(0x760))['addEventListener'](_0x5a3c60(0x4c4),handleSubmitQuiz);if(window[_0x5a3c60(0x74c)])window[_0x5a3c60(0x74c)][_0x5a3c60(0x14d)]([studentQuizArea]);}async function handleSubmitQuiz(_0x45233f){const _0x1bdc63=_0x1bb21e;if(_0x45233f)_0x45233f[_0x1bdc63(0x3a5)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x2ea54d=document[_0x1bdc63(0x38e)](_0x1bdc63(0x760));if(!_0x2ea54d)return;const _0x49f47f=_0x2ea54d['querySelector'](_0x1bdc63(0x44c)),_0xe28102=currentDisplayedQuiz[_0x1bdc63(0x1f8)]['some'](_0x33131a=>_0x33131a[_0x1bdc63(0x4c7)]===_0x1bdc63(0x3fe));_0x49f47f&&(_0x49f47f[_0x1bdc63(0x5f4)]=!![],_0xe28102?_0x49f47f['innerHTML']=_0x1bdc63(0x3b3):_0x49f47f[_0x1bdc63(0x7ac)]=_0x1bdc63(0x281));const _0x55b02a=new FormData(_0x2ea54d),_0x1f8237=currentDisplayedQuiz['questions'][_0x1bdc63(0x796)]((_0x552640,_0x3177bc)=>{const _0xef6f2f=_0x1bdc63,_0x1f2ea6=_0x552640[_0xef6f2f(0x4c7)]||currentDisplayedQuiz[_0xef6f2f(0x279)],_0x16260c=_0x55b02a['get'](_0xef6f2f(0x1ea)+_0x3177bc);if(_0x16260c!==null&&_0x16260c!==undefined){if(_0x1f2ea6===_0xef6f2f(0x4a9)||_0x1f2ea6===_0xef6f2f(0x5c8))return parseInt(_0x16260c);return _0x16260c;}return null;}),_0x36eee5=currentQuizData['id'],_0x514290=doc(db,_0x1bdc63(0x736)+appId+_0x1bdc63(0x190)+_0x36eee5+_0x1bdc63(0x81a),currentStudentName),_0x4818b5=await getDoc(_0x514290),_0x498347=_0x4818b5['exists']()?_0x4818b5[_0x1bdc63(0x794)]():{},_0x5dd8a9=_0x498347[_0x1bdc63(0x60c)]||[];await processAndSubmitAnswers(_0x1f8237,_0x5dd8a9);}async function gradeShortAnswerWithAI(_0x8670f5,_0x1ab77a){const _0x27e9a6=_0x1bb21e;if(!_0x8670f5||!_0x1ab77a)return![];try{const _0x322782=_0x27e9a6(0x1e9)+_0x8670f5+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x1ab77a+_0x27e9a6(0x838),_0x538bb7={'contents':[{'role':_0x27e9a6(0x559),'parts':[{'text':_0x322782}]}]},_0x670ba5=_0x27e9a6(0x2df),_0x31835b=_0x27e9a6(0x88f)+_0x670ba5,_0x834296=await fetch(_0x31835b,{'method':'POST','headers':{'Content-Type':_0x27e9a6(0x1e8)},'body':JSON[_0x27e9a6(0x644)](_0x538bb7)});if(!_0x834296['ok'])throw new Error(_0x27e9a6(0x2f8));const _0x134317=await _0x834296[_0x27e9a6(0x22f)](),_0x33d919=_0x134317[_0x27e9a6(0x7a9)][0x0][_0x27e9a6(0x7aa)][_0x27e9a6(0x7d1)][0x0]['text'][_0x27e9a6(0x2d2)]()[_0x27e9a6(0x397)]();return _0x33d919===_0x27e9a6(0x8b5);}catch(_0x1e1285){return console[_0x27e9a6(0x146)]('AI\x20grading\x20failed:',_0x1e1285),![];}}async function processAndSubmitAnswers(_0x2e01ab,_0x362f92){const _0x46de05=_0x1bb21e;exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x46de05(0x310)]('visibilitychange',handleVisibilityChange);let _0x58f277=0x0,_0x51dde2=0x0,_0x565a4c=[];const _0x1861bf=[],_0x17109f=currentDisplayedQuiz[_0x46de05(0x1f8)]['length'];let _0x183bef=0x0;const _0x2715bb=currentDisplayedQuiz[_0x46de05(0x1f8)];for(let _0x325b2c=0x0;_0x325b2c<_0x2715bb[_0x46de05(0x890)];_0x325b2c++){const _0x5aaa85=_0x2715bb[_0x325b2c],_0x62da00=_0x2e01ab[_0x325b2c],_0x2caf1a=_0x5aaa85[_0x46de05(0x4c7)]||currentDisplayedQuiz[_0x46de05(0x279)];let _0x806bf7=![];if(_0x62da00!==null&&_0x62da00!=='')switch(_0x2caf1a){case _0x46de05(0x2cf):_0x806bf7=_0x62da00===_0x5aaa85[_0x46de05(0x3bd)];break;case _0x46de05(0x6df):const _0x35b740=_0x62da00===!![]||_0x62da00===_0x46de05(0x8b5);_0x806bf7=_0x35b740===_0x5aaa85[_0x46de05(0x5d3)];break;case _0x46de05(0x5c8):case'multiple_choice':default:_0x806bf7=Number(_0x62da00)===_0x5aaa85[_0x46de05(0x420)];break;case _0x46de05(0x3fe):_0x806bf7=await gradeShortAnswer(_0x62da00,_0x5aaa85);break;}_0x806bf7?(_0x58f277++,_0x183bef++,_0x183bef===0x3&&(_0x565a4c[_0x46de05(0x3dd)](BADGES[_0x46de05(0x877)]['id']),_0x183bef=0x0)):_0x183bef=0x0;let _0x8eeb10=null;_0x5aaa85['options']&&_0x62da00!==null&&(_0x8eeb10=_0x5aaa85[_0x46de05(0x6e3)][_0x62da00]),_0x1861bf[_0x46de05(0x3dd)]({'questionId':_0x5aaa85['id'],'answer':_0x62da00,'answerText':_0x8eeb10,'isCorrect':_0x806bf7,'originalQuestionText':_0x5aaa85[_0x46de05(0x1d1)]||_0x5aaa85[_0x46de05(0x20d)]});}_0x51dde2=_0x58f277*0xa;_0x58f277===_0x17109f&&_0x17109f>0x0&&!currentDisplayedQuiz[_0x46de05(0x359)]&&(_0x51dde2+=0x32,_0x565a4c[_0x46de05(0x3dd)](BADGES[_0x46de05(0x390)]['id']));const _0x144bcf=currentDisplayedQuiz['settings']?.[_0x46de05(0x6bd)]??Math[_0x46de05(0x4b4)](_0x17109f/0x2),_0x1da421=currentDisplayedQuiz[_0x46de05(0x28e)]?.['timerMode'];if(_0x1da421===_0x46de05(0x141)&&quizStartTime){const _0x2625b3=(new Date()-quizStartTime)/0x3e8,_0x2c1cd8=currentDisplayedQuiz['settings']['timerDuration']*0x3c;_0x58f277>=_0x144bcf&&_0x2625b3<_0x2c1cd8/0x2&&(_0x51dde2+=0x14,_0x565a4c[_0x46de05(0x3dd)](BADGES[_0x46de05(0x647)]['id']));}_0x362f92['length']===0x0&&_0x58f277===_0x17109f&&_0x17109f>0x0&&_0x565a4c[_0x46de05(0x3dd)](BADGES[_0x46de05(0x429)]['id']);if(_0x362f92[_0x46de05(0x890)]>0x0){const _0x1b400b=_0x362f92[0x0][_0x46de05(0x757)];if(_0x1b400b<_0x144bcf&&_0x58f277>=_0x144bcf){const _0x5579c5=_0x362f92[_0x46de05(0x817)](_0x4f6728=>(_0x4f6728[_0x46de05(0x1c4)]||[])['includes'](BADGES[_0x46de05(0x630)]['id']));!_0x5579c5&&_0x565a4c[_0x46de05(0x3dd)](BADGES[_0x46de05(0x630)]['id']);}}_0x362f92['length']===0x4&&_0x565a4c[_0x46de05(0x3dd)](BADGES[_0x46de05(0x857)]['id']);const _0x32697d=currentDisplayedQuiz[_0x46de05(0x28e)]['resultsDisplay'];if(currentMode===_0x46de05(0x5bd)){handleResultDisplay(_0x32697d,_0x58f277,_0x51dde2,_0x565a4c,_0x1861bf,_0x17109f);return;}const _0x4999f8=currentQuizData['id'],_0x23172e=doc(db,'artifacts/'+appId+_0x46de05(0x190)+_0x4999f8+_0x46de05(0x81a),currentStudentName);try{const _0x3130a6=[..._0x362f92],_0x95a9a4={'score':_0x58f277,'points':_0x51dde2,'badges':_0x565a4c,'submittedAt':new Date()['toISOString'](),'answers':_0x1861bf};_0x3130a6[_0x46de05(0x3dd)](_0x95a9a4);const _0x5980d4=_0x3130a6[0x0][_0x46de05(0x757)],_0x32386a=Math['max'](..._0x3130a6[_0x46de05(0x796)](_0x6e6a33=>_0x6e6a33[_0x46de05(0x757)])),_0x36d6c1=_0x58f277,_0x2fe746=_0x95a9a4['submittedAt'];await setDoc(_0x23172e,{'studentName':currentStudentName,'totalQuestions':_0x17109f,'attempts':_0x3130a6,'firstScore':_0x5980d4,'bestScore':_0x32386a,'latestScore':_0x36d6c1,'points':_0x51dde2,'latestSubmittedAt':_0x2fe746},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x46de05(0x79a)],currentStudentName),handleResultDisplay(_0x32697d,_0x58f277,_0x51dde2,_0x565a4c,_0x1861bf,_0x17109f);}catch(_0x53fd87){console[_0x46de05(0x146)](_0x46de05(0x662),_0x53fd87),showMessage(_0x46de05(0x3b8));}}async function updateStudentProfile(_0x4dcea7,_0x4117be){const _0x6572ce=_0x1bb21e,_0x484836=doc(db,_0x6572ce(0x736)+appId+_0x6572ce(0x752)+_0x4dcea7+'/studentProfiles',_0x4117be);try{const _0x248666=query(collection(db,_0x6572ce(0x736)+appId+_0x6572ce(0x59a)),where(_0x6572ce(0x79a),'==',_0x4dcea7)),_0x316dcc=await getDocs(_0x248666),_0x49bd7f=new Map(_0x316dcc[_0x6572ce(0x601)][_0x6572ce(0x796)](_0x321663=>[_0x321663['id'],_0x321663[_0x6572ce(0x794)]()])),_0x17cf6b=Array[_0x6572ce(0x3cf)](_0x49bd7f[_0x6572ce(0x68d)]());await runTransaction(db,async _0x3f97bc=>{const _0x498619=_0x6572ce;let _0x3b7896=0x0;const _0x430257={};let _0x244d3b=!![],_0xb326bb=0x0,_0x2a3372=0x0;for(const _0x115f63 of _0x17cf6b){const _0x4bb554=_0x49bd7f[_0x498619(0x802)](_0x115f63),_0x37e562=doc(db,_0x498619(0x736)+appId+_0x498619(0x190)+_0x115f63+_0x498619(0x81a),_0x4117be),_0x146cd3=await _0x3f97bc[_0x498619(0x802)](_0x37e562);if(_0x146cd3[_0x498619(0x62a)]()){const _0x22f3f0=_0x146cd3[_0x498619(0x794)](),_0x126e6c=_0x22f3f0['attempts']||[];if(_0x126e6c[_0x498619(0x890)]>0x0){const _0xb0239a=_0x126e6c[_0x498619(0x243)]((_0x4c13bf,_0x5c5ac9)=>{const _0x5ec082=_0x498619;if(_0x5c5ac9['score']>_0x4c13bf['score'])return _0x5c5ac9;if(_0x5c5ac9[_0x5ec082(0x757)]===_0x4c13bf[_0x5ec082(0x757)])return(_0x5c5ac9[_0x5ec082(0x457)]||0x0)>(_0x4c13bf[_0x5ec082(0x457)]||0x0)?_0x5c5ac9:_0x4c13bf;return _0x4c13bf;},{'score':-0x1,'points':-0x1});_0xb0239a[_0x498619(0x757)]>-0x1&&(_0x3b7896+=_0xb0239a[_0x498619(0x457)]||0x0,(_0xb0239a[_0x498619(0x1c4)]||[])['forEach'](_0x1e80a1=>{_0x430257[_0x1e80a1]=(_0x430257[_0x1e80a1]||0x0)+0x1;}));}}if(_0x4bb554['topic']!==_0x498619(0x84c)){_0x2a3372++;if(_0x146cd3['exists']()){_0xb326bb++;const _0x5bbc6f=_0x146cd3['data']();_0x5bbc6f['bestScore']!==_0x5bbc6f[_0x498619(0x25f)]&&(_0x244d3b=![]);}else _0x244d3b=![];}}_0x2a3372>0x0&&_0xb326bb===_0x2a3372&&_0x244d3b?_0x430257['specialist']=0x1:_0x430257['specialist']=0x0,_0x3f97bc[_0x498619(0x6b2)](_0x484836,{'studentName':_0x4117be,'totalPoints':_0x3b7896,'unlockedBadges':Object['keys'](_0x430257)[_0x498619(0x5d6)](_0x3f254f=>_0x430257[_0x3f254f]>0x0),'badgesCount':_0x430257},{'merge':!![]});});}catch(_0x4bff48){console[_0x6572ce(0x146)](_0x6572ce(0x87a),_0x4bff48),showMessage(_0x6572ce(0x62f));}}function startAdminTest(){const _0x4db88e=_0x1bb21e;if(!currentQuizData){showMessage(_0x4db88e(0x3ce));return;}let _0x138f03=JSON[_0x4db88e(0x32f)](JSON['stringify'](currentQuizData));currentMode='admin-testing',currentStudentName=_0x4db88e(0x468),adminView[_0x4db88e(0x2db)][_0x4db88e(0x15d)](_0x4db88e(0x5e8)),studentView[_0x4db88e(0x2db)]['remove'](_0x4db88e(0x5e8)),studentInitialView[_0x4db88e(0x2db)]['add'](_0x4db88e(0x5e8)),studentNameSelectionView[_0x4db88e(0x2db)][_0x4db88e(0x15d)](_0x4db88e(0x5e8)),studentResultArea['classList'][_0x4db88e(0x15d)](_0x4db88e(0x5e8)),studentQuizArea[_0x4db88e(0x2db)]['remove']('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x138f03);}function handleResultDisplay(_0x559f91,_0x497109,_0x47cc71,_0x5e2651,_0xb299e,_0x4f80d2){const _0x3f4ec8=_0x1bb21e;if(_0x559f91===_0x3f4ec8(0x58c)){displaySubmissionConfirmation();return;}const _0x4f0359=currentDisplayedQuiz['settings']?.[_0x3f4ec8(0x6bd)]??Math[_0x3f4ec8(0x4b4)](_0x4f80d2/0x2),_0x436871=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0x4b0f88=currentDisplayedQuiz[_0x3f4ec8(0x28e)]?.['loopUntilPass']===!![],_0xbbd9b0=_0x497109<_0x4f0359,_0x42cf66=_0x559f91===_0x3f4ec8(0x323)||_0x559f91===_0x3f4ec8(0x703);if(_0x4b0f88&&_0xbbd9b0&&!_0x42cf66){_0x559f91===_0x3f4ec8(0x53c)?displayResultsWithAnswers(_0x497109,_0x47cc71,_0x5e2651,_0xb299e,_0x4f80d2,!![]):displayLoopScreen(_0x497109,_0x4f80d2,_0x559f91);return;}if(_0x436871&&_0xbbd9b0){startAdaptiveFlow(_0xb299e,_0x497109,_0x4f80d2);return;}switch(_0x559f91){case'show_results_and_answers':displayResultsWithAnswers(_0x497109,_0x47cc71,_0x5e2651,_0xb299e,_0x4f80d2);break;case'show_results_only':displayResultsScoreOnly(_0x497109,_0x47cc71,_0x5e2651,_0x4f80d2);break;case _0x3f4ec8(0x24c):displayPassFailOnly(_0x497109,_0x4f80d2);break;case _0x3f4ec8(0x323):displayHalfMarkResult(_0x497109,_0x4f80d2);break;case'perfect_score_status':displayPerfectScoreResult(_0x497109,_0x4f80d2);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x10507b){const _0x333a6b=_0x1bb21e;studentReadingArea[_0x333a6b(0x7ac)]=_0x333a6b(0x48b);const _0x43fd99='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10507b+_0x333a6b(0x325)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x50f53b={'type':_0x333a6b(0x7f2),'properties':{'questionText':{'type':_0x333a6b(0x501)},'options':{'type':'ARRAY','items':{'type':_0x333a6b(0x501)}},'correctAnswerIndex':{'type':_0x333a6b(0x830)},'explanation':{'type':_0x333a6b(0x501)}},'required':[_0x333a6b(0x20d),_0x333a6b(0x6e3),_0x333a6b(0x420),'explanation']},_0x967bd2={'type':'OBJECT','properties':{'topic':{'type':_0x333a6b(0x501)},'questions':{'type':_0x333a6b(0x60a),'items':_0x50f53b}},'required':[_0x333a6b(0x76d),_0x333a6b(0x1f8)]};try{const _0x211241=await callAnalysisApi(_0x43fd99,_0x967bd2);_0x211241[_0x333a6b(0x359)]=!![],studentReadingArea[_0x333a6b(0x2db)][_0x333a6b(0x15d)](_0x333a6b(0x5e8));const _0x41e582={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x211241[_0x333a6b(0x28e)]=_0x41e582,displayQuizForStudent(_0x211241);}catch(_0x2113fa){console[_0x333a6b(0x146)]('Remedial\x20quiz\x20generation\x20failed:',_0x2113fa),showMessage(_0x333a6b(0x5e0)),showView(_0x333a6b(0x334));}}function displayPassFailOnly(_0x31ff1f,_0x32a5ee){const _0x511691=_0x1bb21e,_0x492488=currentDisplayedQuiz['settings']?.[_0x511691(0x6bd)]??-0x1,_0x16089a=currentDisplayedQuiz[_0x511691(0x359)]===!![];let _0x3c53c9='',_0x5710bd=![];if(_0x16089a||_0x492488!==-0x1){_0x5710bd=_0x16089a?_0x31ff1f===_0x32a5ee:_0x31ff1f>=_0x492488;const _0x315d1e=_0x5710bd?'bg-green-100\x20text-green-800':_0x511691(0x2ab),_0x493134=_0x5710bd?_0x511691(0x6f1):_0x511691(0x32a);_0x3c53c9=_0x511691(0x285)+_0x315d1e+'\x22>'+_0x493134+_0x511691(0x6f5);}else _0x3c53c9=_0x511691(0x899);let _0x2609f0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x511691(0x2bf)+_0x3c53c9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x511691(0x7ac)]=_0x2609f0,studentResultArea['classList'][_0x511691(0x327)](_0x511691(0x5e8)),studentQuizArea[_0x511691(0x2db)][_0x511691(0x15d)](_0x511691(0x5e8)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5710bd});}function cancelAdminTest(){const _0x58a15c=_0x1bb21e;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);exitFullscreen(),document[_0x58a15c(0x310)](_0x58a15c(0x4e0),handleFullscreenChange),document['removeEventListener'](_0x58a15c(0x1fd),handleVisibilityChange),currentMode='admin',studentView[_0x58a15c(0x2db)]['add'](_0x58a15c(0x5e8)),adminView[_0x58a15c(0x2db)][_0x58a15c(0x327)](_0x58a15c(0x5e8)),showView('project-detail');}function setupResultScreenBackButton(_0x181463){const _0x2c54ba=_0x1bb21e,_0x3da928={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x181463};if(_0x3da928[_0x2c54ba(0x792)]){const _0x6e023a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x2c54ba(0x5d4)]('beforeend',_0x6e023a),document['getElementById']('retake-quiz-loop-btn')[_0x2c54ba(0x353)](_0x2c54ba(0x38d),()=>{const _0x2b871e=_0x2c54ba;studentResultArea[_0x2b871e(0x2db)]['add'](_0x2b871e(0x5e8)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x2343d4=_0x2c54ba(0x4b6),_0x7a40e=currentMode==='admin-testing',_0x34ebc9=_0x7a40e?_0x2c54ba(0x505):_0x2c54ba(0x6ad);let _0x5e69e9='';_0x3da928[_0x2c54ba(0x7ed)]&&(_0x5e69e9+=_0x2c54ba(0x650));let _0x52131c=_0x3da928['showImproveButton'];_0x52131c===undefined&&(_0x52131c=_0x3da928[_0x2c54ba(0x757)]<_0x3da928[_0x2c54ba(0x25f)]);_0x52131c&&(_0x5e69e9+=_0x2c54ba(0x432));_0x5e69e9+=_0x2c54ba(0x1cb)+_0x2343d4+_0x2c54ba(0x7e5)+_0x34ebc9+_0x2c54ba(0x225);const _0x50ee47=_0x2c54ba(0x685)+_0x5e69e9+_0x2c54ba(0x8ad);studentResultArea[_0x2c54ba(0x5d4)](_0x2c54ba(0x389),_0x50ee47),studentResultArea[_0x2c54ba(0x61d)]('#view-rankings-btn')?.[_0x2c54ba(0x353)](_0x2c54ba(0x38d),handleShowStudentRankings);const _0x48e87d=studentResultArea[_0x2c54ba(0x61d)](_0x2c54ba(0x628));_0x48e87d&&_0x48e87d[_0x2c54ba(0x353)]('click',()=>{const _0x192ad0=_0x2c54ba;studentResultArea[_0x192ad0(0x2db)]['add'](_0x192ad0(0x5e8)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x2343d4)['addEventListener'](_0x2c54ba(0x38d),()=>{const _0x1c203e=_0x2c54ba;_0x7a40e?(currentMode='admin',studentView[_0x1c203e(0x2db)][_0x1c203e(0x15d)]('hidden'),adminView['classList'][_0x1c203e(0x327)](_0x1c203e(0x5e8)),showView('project-detail')):(showView(_0x1c203e(0x334)),document['getElementById'](_0x1c203e(0x558))['value']='');});}function displayResultsWithAnswers(_0x3403a9,_0x3401f0,_0x40c900,_0x3d885c,_0x136a54,_0x51c9bf=![]){const _0x5968d3=_0x1bb21e,_0x35ea98=_0x136a54>0x0?_0x3403a9/_0x136a54*0x64:0x0,_0x98364e=currentDisplayedQuiz[_0x5968d3(0x28e)]?.[_0x5968d3(0x6bd)]??-0x1,_0x48fc11=currentDisplayedQuiz[_0x5968d3(0x359)]===!![];let _0xc14b6a='';if(_0x48fc11||_0x98364e!==-0x1){let _0x312c8d=_0x48fc11?_0x3403a9===_0x136a54:_0x3403a9>=_0x98364e;const _0x11eb94=_0x312c8d?_0x5968d3(0x2b7):_0x5968d3(0x2ab),_0x2d05b7=_0x312c8d?'ผ่าน':_0x5968d3(0x32a);_0xc14b6a=_0x5968d3(0x882)+_0x11eb94+'\x22>'+_0x2d05b7+_0x5968d3(0x4ef);}let _0x5f530b=_0x5968d3(0x369)+currentStudentName+_0x5968d3(0x2d0)+_0x3403a9+_0x5968d3(0x12c)+_0x136a54+_0x5968d3(0x8b8)+_0xc14b6a+_0x5968d3(0x340)+_0x3401f0+_0x5968d3(0x48e)+_0x35ea98['toFixed'](0x0)+_0x5968d3(0x7fd);currentDisplayedQuiz[_0x5968d3(0x1f8)][_0x5968d3(0x813)]((_0x22d1c3,_0x230da9)=>{const _0x590bd4=_0x5968d3,_0x15e1ca=_0x3d885c[_0x230da9],_0x5a43ee=_0x15e1ca[_0x590bd4(0x3ab)],_0x26dff9=_0x15e1ca[_0x590bd4(0x3db)],_0x3d571d=_0x22d1c3[_0x590bd4(0x4c7)]||currentDisplayedQuiz[_0x590bd4(0x279)];_0x5f530b+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x26dff9?_0x590bd4(0x54e):_0x590bd4(0x28c))+_0x590bd4(0x318)+(_0x230da9+0x1)+'.\x20'+(_0x22d1c3[_0x590bd4(0x1d1)]||_0x22d1c3[_0x590bd4(0x20d)])+_0x590bd4(0x402);switch(_0x3d571d){case _0x590bd4(0x2cf):const _0xf9af2d=_0x5a43ee||_0x590bd4(0x4c2),_0x46dd19=_0x22d1c3[_0x590bd4(0x3bd)];_0x5f530b+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x26dff9?_0x590bd4(0x789):'')+'\x22>'+_0xf9af2d+'</span></p>';!_0x26dff9&&(_0x5f530b+=_0x590bd4(0x32c)+_0x46dd19+_0x590bd4(0x4ef));break;case _0x590bd4(0x3fe):_0x5f530b+=_0x590bd4(0x67b)+(_0x5a43ee||_0x590bd4(0x4c2))+_0x590bd4(0x4ef),_0x5f530b+=_0x590bd4(0x71a)+_0x22d1c3['idealAnswer']+_0x590bd4(0x4ef);break;case _0x590bd4(0x6df):_0x5f530b+='<p\x20class=\x22'+(_0x22d1c3[_0x590bd4(0x5d3)]===!![]?_0x590bd4(0x6b6):'')+'\x20'+(_0x5a43ee===_0x590bd4(0x8b5)&&!_0x26dff9?_0x590bd4(0x789):'')+_0x590bd4(0x302),_0x5f530b+=_0x590bd4(0x625)+(_0x22d1c3[_0x590bd4(0x5d3)]===![]?_0x590bd4(0x6b6):'')+'\x20'+(_0x5a43ee===_0x590bd4(0x52c)&&!_0x26dff9?_0x590bd4(0x789):'')+_0x590bd4(0x4c6);break;default:_0x5f530b+=_0x22d1c3[_0x590bd4(0x6e3)]['map']((_0x156fa9,_0x268cc5)=>{const _0x57497f=_0x590bd4;let _0x3f1b1e='',_0x9168ac='';if(_0x268cc5===_0x22d1c3[_0x57497f(0x420)])_0x3f1b1e=_0x57497f(0x6b6),_0x9168ac=_0x57497f(0x756);else _0x268cc5===_0x5a43ee&&(_0x3f1b1e=_0x57497f(0x5cc),_0x9168ac=_0x57497f(0x2ce));return _0x57497f(0x2f0)+_0x3f1b1e+'\x22>'+_0x9168ac+_0x156fa9+'</div>';})['join']('');break;}_0x5f530b+=_0x590bd4(0x7b6)+(_0x22d1c3[_0x590bd4(0x2f5)]||'ไม่มีคำอธิบาย')+_0x590bd4(0x8ad);if(!_0x26dff9){const _0x1a4992=_0x22d1c3[_0x590bd4(0x1d1)]||_0x22d1c3[_0x590bd4(0x20d)];_0x5f530b+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x1a4992)+_0x590bd4(0x86e);}_0x5f530b+='</div>';}),studentResultArea['innerHTML']=_0x5f530b,renderEarnedBadges(_0x40c900,'earned-badges-container'),studentResultArea[_0x5968d3(0x2db)][_0x5968d3(0x327)](_0x5968d3(0x5e8)),studentQuizArea[_0x5968d3(0x2db)][_0x5968d3(0x15d)](_0x5968d3(0x5e8)),setupResultScreenBackButton({'isLooping':_0x51c9bf,'score':_0x3403a9,'totalQuestions':_0x136a54,'showRankings':!![]});if(window['MathJax'])window[_0x5968d3(0x74c)][_0x5968d3(0x14d)]([studentResultArea]);}function displayResultsScoreOnly(_0x2c0a84,_0x47a206,_0x3d0d06,_0xe585c){const _0x5deb66=_0x1bb21e,_0x2da446=_0xe585c>0x0?_0x2c0a84/_0xe585c*0x64:0x0,_0x340062=currentDisplayedQuiz[_0x5deb66(0x28e)]?.[_0x5deb66(0x6bd)]??-0x1,_0x429640=currentDisplayedQuiz[_0x5deb66(0x359)]===!![];let _0x1e40e0='';if(_0x429640||_0x340062!==-0x1){let _0x25a927=_0x429640?_0x2c0a84===_0xe585c:_0x2c0a84>=_0x340062;const _0x45aff8=_0x25a927?_0x5deb66(0x2b7):'bg-red-100\x20text-red-800',_0x35101e=_0x25a927?'ผ่าน':_0x5deb66(0x32a);_0x1e40e0=_0x5deb66(0x882)+_0x45aff8+'\x22>'+_0x35101e+'</p>';}let _0x139614=_0x5deb66(0x66d)+currentStudentName+_0x5deb66(0x418)+_0x2c0a84+_0x5deb66(0x594)+_0xe585c+_0x5deb66(0x8b8)+_0x1e40e0+_0x5deb66(0x340)+_0x47a206+_0x5deb66(0x612)+_0x2da446[_0x5deb66(0x554)](0x0)+_0x5deb66(0x4a3);studentResultArea[_0x5deb66(0x7ac)]=_0x139614,renderEarnedBadges(_0x3d0d06,_0x5deb66(0x2a7)),studentResultArea[_0x5deb66(0x2db)][_0x5deb66(0x327)](_0x5deb66(0x5e8)),studentQuizArea[_0x5deb66(0x2db)][_0x5deb66(0x15d)]('hidden'),setupResultScreenBackButton({'score':_0x2c0a84,'totalQuestions':_0xe585c,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x41a34d=_0x1bb21e;let _0x58ef15=_0x41a34d(0x831)+currentStudentName+_0x41a34d(0x548);studentResultArea[_0x41a34d(0x7ac)]=_0x58ef15,studentResultArea[_0x41a34d(0x2db)][_0x41a34d(0x327)](_0x41a34d(0x5e8)),studentQuizArea['classList'][_0x41a34d(0x15d)]('hidden'),document[_0x41a34d(0x38e)]('back-to-home-manual-release')[_0x41a34d(0x353)](_0x41a34d(0x38d),()=>{const _0x2c2961=_0x41a34d;showView(_0x2c2961(0x334)),document[_0x2c2961(0x38e)]('quiz-id-input')[_0x2c2961(0x491)]='';});}function renderEarnedBadges(_0x5696d8,_0x3b5328){const _0x1d7e4f=_0x1bb21e,_0x225801=document[_0x1d7e4f(0x38e)](_0x3b5328);if(!_0x225801||!_0x5696d8||_0x5696d8[_0x1d7e4f(0x890)]===0x0)return;let _0xe1c784='';_0x5696d8[_0x1d7e4f(0x813)]((_0x231cd0,_0x1ba42c)=>{const _0x3cd6ad=_0x1d7e4f,_0x46bfc6=Object[_0x3cd6ad(0x481)](BADGES)[_0x3cd6ad(0x172)](_0x13f3c1=>_0x13f3c1['id']===_0x231cd0);_0x46bfc6&&(_0xe1c784+=_0x3cd6ad(0x171)+_0x1ba42c*0.2+_0x3cd6ad(0x16b)+_0x46bfc6[_0x3cd6ad(0x17d)]+_0x3cd6ad(0x55f)+_0x46bfc6[_0x3cd6ad(0x544)]+_0x3cd6ad(0x563)+_0x46bfc6[_0x3cd6ad(0x6cc)]+_0x3cd6ad(0x3e9));}),_0x225801[_0x1d7e4f(0x7ac)]=_0xe1c784;}function startPresentation(_0x8a3100){const _0x79d8ae=_0x1bb21e;currentQuizData=getShuffledQuiz(_0x8a3100),currentPresentationSlide=0x0,presentationModal['style'][_0x79d8ae(0x383)]=_0x79d8ae(0x6c7),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1ad81e=_0x1bb21e;document[_0x1ad81e(0x812)]&&document[_0x1ad81e(0x68a)](),presentationModal[_0x1ad81e(0x1d9)][_0x1ad81e(0x383)]='none';}function renderPresentationSlide(_0x36cba5){const _0x37dc3a=_0x1bb21e,_0x1f4d25=document['getElementById'](_0x37dc3a(0x6dc));if(!currentQuizData||!currentQuizData[_0x37dc3a(0x1f8)]||!currentQuizData[_0x37dc3a(0x1f8)][_0x36cba5]){_0x1f4d25[_0x37dc3a(0x7ac)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x46d2d9=currentQuizData['questions'][_0x36cba5],_0x254f4d=_0x46d2d9[_0x37dc3a(0x4c7)]||currentQuizData['quizType'];_0x1f4d25['innerHTML']='';let _0x1490d7=_0x37dc3a(0x4bf)+(_0x46d2d9[_0x37dc3a(0x163)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x46d2d9['imageCode']+_0x37dc3a(0x8ad):'')+_0x37dc3a(0x463)+(_0x36cba5+0x1)+'.\x20'+(_0x46d2d9['stem']||_0x46d2d9['questionText'])+_0x37dc3a(0x70e);switch(_0x254f4d){case'matching_item':_0x1490d7+=_0x46d2d9['allResponses']['map'](_0xa52690=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa52690+_0x37dc3a(0x7a1))['join']('');break;case _0x37dc3a(0x6df):_0x1490d7+=_0x37dc3a(0x214),_0x1490d7+=_0x37dc3a(0x845);break;case'fill_in_no_choices':case _0x37dc3a(0x3fe):_0x1490d7+=_0x37dc3a(0x3d6);break;case'fill_in_the_blank':case'multiple_choice':default:_0x1490d7+=_0x46d2d9['options']['map']((_0x39760e,_0x2215a9)=>_0x37dc3a(0x3ba)+_0x2215a9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39760e+_0x37dc3a(0x7a1))[_0x37dc3a(0x4d7)]('');break;}_0x1490d7+=_0x37dc3a(0x159)+(_0x46d2d9[_0x37dc3a(0x2f5)]||_0x37dc3a(0x2ed))+_0x37dc3a(0x8bb),_0x1f4d25[_0x37dc3a(0x7ac)]=_0x1490d7;if(window[_0x37dc3a(0x74c)])window[_0x37dc3a(0x74c)]['typesetPromise']([_0x1f4d25]);document['querySelectorAll']('.presentation-option')[_0x37dc3a(0x813)](_0x66c3ab=>{const _0x20c374=_0x37dc3a;_0x66c3ab[_0x20c374(0x353)](_0x20c374(0x38d),_0x1ca263=>revealAnswerForPresentation(_0x36cba5,_0x1ca263[_0x20c374(0x7f0)]));});const _0x2e05c4=document[_0x37dc3a(0x38e)](_0x37dc3a(0x364));_0x2e05c4&&_0x2e05c4[_0x37dc3a(0x353)](_0x37dc3a(0x38d),()=>checkShortAnswerForPresentation(_0x36cba5)),document[_0x37dc3a(0x38e)](_0x37dc3a(0x41f))[_0x37dc3a(0x83f)]=_0x37dc3a(0x724)+(_0x36cba5+0x1)+_0x37dc3a(0x199)+currentQuizData['questions'][_0x37dc3a(0x890)],document[_0x37dc3a(0x38e)]('prev-question-btn')[_0x37dc3a(0x5f4)]=_0x36cba5===0x0,document['getElementById']('next-question-btn')['disabled']=_0x36cba5===currentQuizData['questions'][_0x37dc3a(0x890)]-0x1;}async function checkShortAnswerForPresentation(_0x1f68f2){const _0x54016d=_0x1bb21e,_0x370fc1=currentQuizData[_0x54016d(0x1f8)][_0x1f68f2],_0xc3a909=document[_0x54016d(0x38e)](_0x54016d(0x7fe)),_0x481c07=document[_0x54016d(0x38e)](_0x54016d(0x364)),_0x6337c7=document[_0x54016d(0x38e)](_0x54016d(0x46c)),_0x205809=document[_0x54016d(0x38e)](_0x54016d(0x193));if(!_0xc3a909||!_0x481c07||!_0x6337c7||!_0x205809)return;const _0x3a74dc=_0xc3a909[_0x54016d(0x491)][_0x54016d(0x2d2)]();if(_0x3a74dc==='')return;_0x481c07[_0x54016d(0x5f4)]=!![],_0x481c07[_0x54016d(0x7ac)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0xc3a909['disabled']=!![];const _0x18f7d4=await gradeShortAnswer(_0x3a74dc,_0x370fc1);_0x18f7d4?_0x6337c7['innerHTML']='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x6337c7['innerHTML']=_0x54016d(0x27e)+_0x370fc1[_0x54016d(0x1fb)]+')',_0x6337c7[_0x54016d(0x2db)][_0x54016d(0x327)](_0x54016d(0x5e8)),_0x205809[_0x54016d(0x2db)][_0x54016d(0x327)](_0x54016d(0x5e8)),_0x481c07[_0x54016d(0x2db)]['add'](_0x54016d(0x5e8));}function revealAnswerForPresentation(_0x1f873a,_0x59156f){const _0x5aec70=_0x1bb21e,_0x3a2789=currentQuizData['questions'][_0x1f873a],_0x56f4bf=_0x3a2789['questionType']||currentQuizData[_0x5aec70(0x279)];document['querySelectorAll']('.presentation-option')[_0x5aec70(0x813)](_0x4cefa9=>{const _0x522abf=_0x5aec70;_0x4cefa9[_0x522abf(0x5f4)]=!![],_0x4cefa9[_0x522abf(0x2db)]['remove'](_0x522abf(0x58d));let _0x5b17d0=![];if(_0x56f4bf===_0x522abf(0x4a9)||_0x56f4bf===_0x522abf(0x5c8)){const _0x4b0ea5=parseInt(_0x4cefa9['dataset'][_0x522abf(0x5ed)]);_0x5b17d0=_0x4b0ea5===_0x3a2789[_0x522abf(0x420)];}else{if(_0x56f4bf===_0x522abf(0x6df)){const _0x57cb76=_0x4cefa9[_0x522abf(0x1cf)][_0x522abf(0x3ab)]===_0x522abf(0x8b5);_0x5b17d0=_0x57cb76===_0x3a2789['correctAnswer'];}else _0x56f4bf===_0x522abf(0x2cf)&&(_0x5b17d0=_0x4cefa9[_0x522abf(0x83f)][_0x522abf(0x2d2)]()===_0x3a2789['correctResponse']);}_0x5b17d0?_0x4cefa9[_0x522abf(0x2db)]['add'](_0x522abf(0x4ad),_0x522abf(0x4a8),_0x522abf(0x729)):_0x4cefa9[_0x522abf(0x2db)][_0x522abf(0x15d)](_0x522abf(0x79e));}),_0x59156f[_0x5aec70(0x2db)][_0x5aec70(0x327)]('opacity-50');let _0x2774f6=![];if(_0x56f4bf===_0x5aec70(0x4a9))_0x2774f6=parseInt(_0x59156f['dataset'][_0x5aec70(0x5ed)])===_0x3a2789['correctAnswerIndex'];else{if(_0x56f4bf===_0x5aec70(0x6df))_0x2774f6=_0x59156f[_0x5aec70(0x1cf)][_0x5aec70(0x3ab)]===_0x5aec70(0x8b5)===_0x3a2789['correctAnswer'];else _0x56f4bf===_0x5aec70(0x2cf)&&(_0x2774f6=_0x59156f[_0x5aec70(0x83f)]['trim']()===_0x3a2789[_0x5aec70(0x3bd)]);}!_0x2774f6&&_0x59156f[_0x5aec70(0x2db)][_0x5aec70(0x15d)]('bg-red-500','text-white',_0x5aec70(0x7a6)),document[_0x5aec70(0x38e)](_0x5aec70(0x193))['classList'][_0x5aec70(0x327)](_0x5aec70(0x5e8));}function startWholeQuizTimer(_0x25755e){const _0x41336d=_0x1bb21e,_0x41a451=document[_0x41336d(0x38e)](_0x41336d(0x1b9));if(!_0x41a451)return;const _0x1172cc=Date[_0x41336d(0x2ba)]()+_0x25755e*0x3c*0x3e8;_0x41a451[_0x41336d(0x7ac)]=_0x41336d(0x428);const _0x1ebb76=document[_0x41336d(0x38e)](_0x41336d(0x58e));quizTimerInterval=setInterval(()=>{const _0x297374=_0x41336d,_0x475bd0=_0x1172cc-Date['now']();if(_0x475bd0<=0x0)clearInterval(quizTimerInterval),_0x1ebb76[_0x297374(0x83f)]='00:00',showMessage(_0x297374(0x65e)),handleSubmitQuiz(null);else{const _0x33b1d5=Math['floor'](_0x475bd0/0x3e8/0x3c%0x3c)[_0x297374(0x189)]()[_0x297374(0x6b0)](0x2,'0'),_0x3f0a07=Math[_0x297374(0x4b4)](_0x475bd0/0x3e8%0x3c)[_0x297374(0x189)]()[_0x297374(0x6b0)](0x2,'0');_0x1ebb76['textContent']=_0x33b1d5+':'+_0x3f0a07;}},0x3e8);}function renderPerQuestionView(){const _0x50166b=_0x1bb21e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x359477=currentDisplayedQuiz[_0x50166b(0x1f8)][currentQuestionIndex],_0x41dcc2=_0x359477[_0x50166b(0x4c7)]||currentDisplayedQuiz['quizType'];let _0x3226d3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x50166b(0x1f8)][_0x50166b(0x890)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x50166b(0x5bd)?_0x50166b(0x4d2):'')+_0x50166b(0x158)+currentDisplayedQuiz[_0x50166b(0x76d)]+_0x50166b(0x8df)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x50166b(0x890)]-0x1?_0x50166b(0x43a):_0x50166b(0x8c1))+_0x50166b(0x183);studentQuizArea['innerHTML']=_0x3226d3;let _0x1aeec5='',_0x2391c5='';switch(_0x41dcc2){case _0x50166b(0x2cf):_0x1aeec5=currentQuestionIndex+0x1+'.\x20'+_0x359477[_0x50166b(0x1d1)],_0x2391c5=_0x50166b(0x218)+_0x359477[_0x50166b(0x33f)][_0x50166b(0x796)](_0x137823=>_0x50166b(0x23d)+_0x137823+'\x22>'+_0x137823+_0x50166b(0x6ec))[_0x50166b(0x4d7)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x50166b(0x6df):_0x1aeec5=currentQuestionIndex+0x1+'.\x20'+_0x359477['questionText'],_0x2391c5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x50166b(0x3fe):case _0x50166b(0x588):_0x1aeec5=currentQuestionIndex+0x1+'.\x20'+_0x359477[_0x50166b(0x20d)],_0x2391c5=_0x50166b(0x6aa);break;case _0x50166b(0x4a9):case _0x50166b(0x1da):default:_0x1aeec5=currentQuestionIndex+0x1+'.\x20'+_0x359477[_0x50166b(0x20d)],_0x2391c5=_0x359477['options'][_0x50166b(0x796)]((_0xa1e92b,_0x140fda)=>_0x50166b(0x5fa)+_0x140fda+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x140fda+_0x50166b(0x6c3)+_0x140fda+'\x22>'+_0xa1e92b+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x50166b(0x4d7)]('');break;}_0x359477[_0x50166b(0x163)]&&(_0x1aeec5+=_0x50166b(0x72a)+_0x359477['imageCode']+'</div>');document['getElementById'](_0x50166b(0x8b3))[_0x50166b(0x7ac)]=_0x1aeec5,document[_0x50166b(0x38e)](_0x50166b(0x3b4))[_0x50166b(0x7ac)]=_0x2391c5;if(currentMode==='admin-testing'){const _0x5282f2=document[_0x50166b(0x38e)](_0x50166b(0x3e2));if(_0x5282f2)_0x5282f2[_0x50166b(0x353)]('click',cancelAdminTest);}document['getElementById']('next-question-timed-btn')[_0x50166b(0x353)](_0x50166b(0x38d),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window['MathJax'][_0x50166b(0x14d)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3f1e6e=_0x1bb21e,_0x246f80=currentDisplayedQuiz[_0x3f1e6e(0x28e)][_0x3f1e6e(0x842)],_0x582770=document[_0x3f1e6e(0x38e)](_0x3f1e6e(0x3e5));if(!_0x582770)return;let _0x451ac4=_0x246f80;_0x582770[_0x3f1e6e(0x7ac)]=_0x3f1e6e(0x30d)+_0x451ac4+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x8bc23=document[_0x3f1e6e(0x38e)]('timer-bar'),_0x29428a=document[_0x3f1e6e(0x38e)](_0x3f1e6e(0x1dc));perQuestionTimerInterval=setInterval(()=>{const _0xaca5d7=_0x3f1e6e;_0x451ac4--;const _0x2a4bfe=_0x451ac4/_0x246f80*0x64;_0x8bc23[_0xaca5d7(0x1d9)][_0xaca5d7(0x2ae)]=_0x2a4bfe+'%',_0x29428a[_0xaca5d7(0x83f)]=_0x451ac4,_0x451ac4<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x4e9abc=![]){const _0xa496a2=_0x1bb21e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x17bbfb=null;if(!_0x4e9abc){const _0x11872a=currentDisplayedQuiz[_0xa496a2(0x1f8)][currentQuestionIndex],_0xacb3c8=_0x11872a[_0xa496a2(0x4c7)]||currentDisplayedQuiz[_0xa496a2(0x279)];if(_0xacb3c8===_0xa496a2(0x3fe)||_0xacb3c8==='fill_in_no_choices'){const _0x3143e0=document['querySelector']('#per-question-options\x20textarea');_0x17bbfb=_0x3143e0?_0x3143e0[_0xa496a2(0x491)][_0xa496a2(0x2d2)]():'';}else{if(_0xacb3c8==='matching_item'){const _0x4b6d85=document['querySelector'](_0xa496a2(0x7cf));_0x17bbfb=_0x4b6d85?_0x4b6d85[_0xa496a2(0x491)]:'';}else{const _0x112a19=document['querySelector']('input[name=\x22question_single\x22]:checked');if(_0x112a19){const _0x47aa99=_0x112a19[_0xa496a2(0x491)];_0x17bbfb=!isNaN(parseInt(_0x47aa99,0xa))&&_0x47aa99[_0xa496a2(0x2d2)]()!==''?parseInt(_0x47aa99,0xa):_0x47aa99;}}}}studentAnswersPerQuestion['push'](_0x17bbfb),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0xa496a2(0x1f8)][_0xa496a2(0x890)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x524a90=_0x1bb21e,_0x1d4ed7=currentDisplayedQuiz[_0x524a90(0x1f8)]['some'](_0x103ff6=>_0x103ff6[_0x524a90(0x4c7)]===_0x524a90(0x3fe));_0x1d4ed7?showMessage(_0x524a90(0x5b8)):showMessage(_0x524a90(0x4e5));const _0x1cf8f5=currentQuizData['id'],_0x169772=doc(db,'artifacts/'+appId+_0x524a90(0x190)+_0x1cf8f5+_0x524a90(0x81a),currentStudentName),_0x1b1c30=await getDoc(_0x169772),_0x3174c4=_0x1b1c30[_0x524a90(0x62a)]()?_0x1b1c30[_0x524a90(0x794)]():{},_0x130a94=_0x3174c4[_0x524a90(0x60c)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x130a94);}function getResultsFilename(){const _0x5ab422=_0x1bb21e,_0x3db4be=document[_0x5ab422(0x38e)](_0x5ab422(0x3d9))[_0x5ab422(0x83f)][_0x5ab422(0x7af)](/[^a-z0-9]/gi,'_')[_0x5ab422(0x397)]();return'results_'+(_0x3db4be||_0x5ab422(0x541));}function exportResultsAsImage(){const _0x4a30d1=_0x1bb21e,_0x90eed2=document['getElementById'](_0x4a30d1(0x2c2));showMessage(_0x4a30d1(0x7a5)),html2canvas(_0x90eed2)[_0x4a30d1(0x317)](_0x2f8c52=>{const _0x37d97b=_0x4a30d1,_0x1a4aa5=document[_0x37d97b(0x7df)]('a');_0x1a4aa5[_0x37d97b(0x215)]=getResultsFilename()+_0x37d97b(0x4e2),_0x1a4aa5['href']=_0x2f8c52[_0x37d97b(0x2bb)](_0x37d97b(0x65f)),_0x1a4aa5[_0x37d97b(0x38d)](),messageModal[_0x37d97b(0x2db)][_0x37d97b(0x15d)](_0x37d97b(0x5e8));});}function exportResultsAsPDF(){const _0x25a0ec=_0x1bb21e,{jsPDF:_0x472f01}=window[_0x25a0ec(0x8a9)],_0x3ddd6a=new _0x472f01();_0x3ddd6a[_0x25a0ec(0x3f1)](_0x25a0ec(0x84d),_0x25a0ec(0x6a1)),_0x3ddd6a[_0x25a0ec(0x47e)]({'html':_0x25a0ec(0x71d)}),_0x3ddd6a['save'](getResultsFilename()+_0x25a0ec(0x3f3));}function exportResultsAsWord(){const _0x3f9cea=_0x1bb21e,_0x487901='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x3f9cea(0x143)+_0x3f9cea(0x5e6)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x18ce6a='</body></html>',_0x257d9a=_0x487901+document[_0x3f9cea(0x38e)](_0x3f9cea(0x2c2))[_0x3f9cea(0x7ac)]+_0x18ce6a,_0x58ad91=_0x3f9cea(0x69f)+encodeURIComponent(_0x257d9a),_0x159235=document['createElement']('a');document[_0x3f9cea(0x487)][_0x3f9cea(0x179)](_0x159235),_0x159235[_0x3f9cea(0x71b)]=_0x58ad91,_0x159235[_0x3f9cea(0x215)]=getResultsFilename()+_0x3f9cea(0x413),_0x159235[_0x3f9cea(0x38d)](),document[_0x3f9cea(0x487)][_0x3f9cea(0x8ee)](_0x159235);}function exportResultsAsExcel(){const _0x3d5769=_0x1bb21e,_0x1fcfb3=document[_0x3d5769(0x38e)](_0x3d5769(0x64a));let _0x14f48d=[];for(let _0x3c6632=0x0;_0x3c6632<_0x1fcfb3[_0x3d5769(0x85b)]['length'];_0x3c6632++){let _0x358c7f=[],_0x58291d=_0x1fcfb3[_0x3d5769(0x85b)][_0x3c6632][_0x3d5769(0x175)]('td,\x20th');for(let _0x474840=0x0;_0x474840<_0x58291d[_0x3d5769(0x890)];_0x474840++){_0x358c7f['push']('\x22'+_0x58291d[_0x474840][_0x3d5769(0x8ce)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x14f48d[_0x3d5769(0x3dd)](_0x358c7f[_0x3d5769(0x4d7)](','));}const _0x17e17b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x14f48d[_0x3d5769(0x4d7)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0xf1ac19=document['createElement']('a');_0xf1ac19['href']=URL[_0x3d5769(0x2aa)](_0x17e17b),_0xf1ac19[_0x3d5769(0x215)]=getResultsFilename()+_0x3d5769(0x24b),_0xf1ac19[_0x3d5769(0x38d)]();}function exportTableAsImage(_0x4d2c87,_0xa0ae64){const _0x2387c2=_0x1bb21e,_0x2282d2=document['getElementById'](_0x4d2c87);if(!_0x2282d2){showMessage(_0x2387c2(0x3b9));return;}showMessage(_0x2387c2(0x7a5)),html2canvas(_0x2282d2)[_0x2387c2(0x317)](_0x548cff=>{const _0x309b30=_0x2387c2,_0x16d9c1=document[_0x309b30(0x7df)]('a');_0x16d9c1[_0x309b30(0x215)]=_0xa0ae64+'.png',_0x16d9c1[_0x309b30(0x71b)]=_0x548cff[_0x309b30(0x2bb)]('image/png'),_0x16d9c1[_0x309b30(0x38d)](),messageModal[_0x309b30(0x2db)][_0x309b30(0x15d)]('hidden');});}function exportTableAsPDF(_0x5c8d0c,_0x2fdb14){const _0x34d070=_0x1bb21e,{jsPDF:_0x56348e}=window[_0x34d070(0x8a9)],_0x45a4fe=new _0x56348e();_0x45a4fe['setFont'](_0x34d070(0x84d),_0x34d070(0x6a1)),_0x45a4fe['autoTable']({'html':'#'+_0x5c8d0c}),_0x45a4fe['save'](_0x2fdb14+_0x34d070(0x3f3));}function exportTableAsWord(_0x4b4243,_0x41cee7){const _0x4dbdcf=_0x1bb21e,_0x3e6d24=document['getElementById'](_0x4b4243);if(!_0x3e6d24){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x5a9fa6=_0x4dbdcf(0x41b)+_0x4dbdcf(0x143)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x41b86c=_0x4dbdcf(0x540),_0x24c21f=_0x5a9fa6+_0x3e6d24[_0x4dbdcf(0x7ac)]+_0x41b86c,_0x6ea038=_0x4dbdcf(0x69f)+encodeURIComponent(_0x24c21f),_0x5ded95=document[_0x4dbdcf(0x7df)]('a');document[_0x4dbdcf(0x487)][_0x4dbdcf(0x179)](_0x5ded95),_0x5ded95[_0x4dbdcf(0x71b)]=_0x6ea038,_0x5ded95[_0x4dbdcf(0x215)]=_0x41cee7+_0x4dbdcf(0x413),_0x5ded95[_0x4dbdcf(0x38d)](),document['body']['removeChild'](_0x5ded95);}function exportTableAsExcel(_0x360c39,_0x849c16){const _0x366731=_0x1bb21e,_0x4b84df=document[_0x366731(0x38e)](_0x360c39);if(!_0x4b84df){showMessage(_0x366731(0x3b9));return;}let _0x549ca8=[];for(let _0x491a71=0x0;_0x491a71<_0x4b84df[_0x366731(0x85b)][_0x366731(0x890)];_0x491a71++){let _0x5a9fc7=[],_0x4b3565=_0x4b84df['rows'][_0x491a71][_0x366731(0x175)](_0x366731(0x7b1));for(let _0xcc2bcf=0x0;_0xcc2bcf<_0x4b3565[_0x366731(0x890)];_0xcc2bcf++){_0x5a9fc7[_0x366731(0x3dd)]('\x22'+_0x4b3565[_0xcc2bcf][_0x366731(0x8ce)][_0x366731(0x7af)](/"/g,'\x22\x22')+'\x22');}_0x549ca8['push'](_0x5a9fc7[_0x366731(0x4d7)](','));}const _0x44fe9d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x549ca8[_0x366731(0x4d7)]('\x0a')],{'type':_0x366731(0x1bb)}),_0x21094c=document[_0x366731(0x7df)]('a');_0x21094c[_0x366731(0x71b)]=URL[_0x366731(0x2aa)](_0x44fe9d),_0x21094c[_0x366731(0x215)]=_0x849c16+_0x366731(0x24b),_0x21094c[_0x366731(0x38d)]();}function renderAnalytics(_0x57afa2,_0x3d5b3a){const _0x5f461e=_0x1bb21e,_0x24b988=currentProjectData[_0x5f461e(0x2b6)][_0x5f461e(0x890)],_0x35ed39=_0x3d5b3a['length'],_0x38e7f4=_0x24b988-_0x35ed39,_0x2eb492=_0x24b988>0x0?_0x35ed39/_0x24b988*0x64:0x0,_0x16a05a=_0x3d5b3a[_0x5f461e(0x796)](_0x4652cc=>_0x4652cc['latestScore']),_0x4b1a27=_0x16a05a[_0x5f461e(0x890)]>0x0?_0x16a05a['reduce']((_0x290c00,_0x551688)=>_0x290c00+_0x551688,0x0)/_0x16a05a[_0x5f461e(0x890)]:0x0,_0x1134c5=_0x57afa2['questions']['length'],_0x58ebbd=_0x1134c5>0x0?_0x4b1a27/_0x1134c5*0x64:0x0,_0x2288c8=calculateItemAnalysis(_0x57afa2,_0x3d5b3a),_0x486958=calculateReliabilityKR20(_0x57afa2,_0x3d5b3a,_0x2288c8['perQuestionStats']);let _0x5471bf='';if(_0x486958!==null){let _0x57d809='';if(_0x486958>=0.9)_0x57d809=_0x5f461e(0x202);else{if(_0x486958>=0.8)_0x57d809='ดีมาก';else{if(_0x486958>=0.7)_0x57d809='ดี';else{if(_0x486958>=0.6)_0x57d809=_0x5f461e(0x3a9);else _0x57d809='ควรปรับปรุง';}}}_0x5471bf=_0x5f461e(0x6da)+_0x486958['toFixed'](0x2)+_0x5f461e(0x50d)+_0x57d809+_0x5f461e(0x3df);}const _0x319f0c=document[_0x5f461e(0x38e)]('analytics-summary-cards');_0x319f0c[_0x5f461e(0x7ac)]=_0x5f461e(0x19c)+_0x2eb492[_0x5f461e(0x554)](0x0)+_0x5f461e(0x82b)+_0x35ed39+'/'+_0x24b988+_0x5f461e(0x61f)+_0x4b1a27[_0x5f461e(0x554)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x58ebbd[_0x5f461e(0x554)](0x0)+_0x5f461e(0x529)+(_0x16a05a[_0x5f461e(0x890)]>0x0?Math[_0x5f461e(0x393)](..._0x16a05a):_0x5f461e(0x2c9))+_0x5f461e(0x4d6)+(_0x16a05a[_0x5f461e(0x890)]>0x0?Math[_0x5f461e(0x256)](..._0x16a05a):'N/A')+_0x5f461e(0x1f9)+_0x5471bf+_0x5f461e(0x6e2);const _0xe327bf=document[_0x5f461e(0x38e)](_0x5f461e(0x7f1));_0xe327bf&&_0xe327bf[_0x5f461e(0x327)]();const _0x277c0f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x319f0c[_0x5f461e(0x5d4)]('afterend',_0x277c0f);const _0x44ad87=currentProjectData[_0x5f461e(0x2b6)]||[];renderSubmissionChart(_0x35ed39,_0x38e7f4,_0x3d5b3a,_0x44ad87),renderScoreDistributionChart(_0x3d5b3a,_0x1134c5),renderQuestionAnalytics(_0x57afa2,_0x3d5b3a,_0x44ad87),renderInterestingStats(_0x57afa2,_0x3d5b3a);}async function handleExportLessonPDF(){const _0x1c7923=_0x1bb21e,_0xe21fe=document[_0x1c7923(0x38e)]('lesson-plan-content'),_0x190348=document[_0x1c7923(0x38e)](_0x1c7923(0x73e))[_0x1c7923(0x83f)],_0x16466e=window[_0x1c7923(0x6e1)]('',_0x1c7923(0x8c7)),_0x2783fa=_0x1c7923(0x43f)+_0x190348+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe21fe['innerHTML']+_0x1c7923(0x3c3);_0x16466e[_0x1c7923(0x8d2)][_0x1c7923(0x85d)](_0x2783fa),_0x16466e['document']['close'](),_0x16466e[_0x1c7923(0x85c)]=function(){setTimeout(()=>{const _0xe05016=_0x4611;_0x16466e[_0xe05016(0x7c6)]();},0x5dc);};}function renderInterestingStats(_0x43190f,_0x2b263f){const _0x23ae64=_0x1bb21e,_0x69f0b3=document[_0x23ae64(0x38e)](_0x23ae64(0x2a0));if(!_0x69f0b3)return;if(_0x2b263f['length']===0x0){_0x69f0b3[_0x23ae64(0x7ac)]=_0x23ae64(0x195);return;}const _0x3137c7=_0x43190f[_0x23ae64(0x1f8)][_0x23ae64(0x796)]((_0x39a71a,_0x254963)=>({'index':_0x254963+0x1,'text':_0x39a71a[_0x23ae64(0x20d)]||_0x39a71a[_0x23ae64(0x1d1)],'correct':0x0}));_0x2b263f[_0x23ae64(0x813)](_0x1fa9c4=>{const _0x78de2=_0x23ae64,_0x37f616=_0x1fa9c4[_0x78de2(0x60c)][_0x1fa9c4['attempts'][_0x78de2(0x890)]-0x1];_0x37f616&&_0x37f616[_0x78de2(0x2be)]&&_0x37f616[_0x78de2(0x2be)]['forEach'](_0x7a7beb=>{const _0x1ce684=_0x78de2,_0x10f481=_0x3137c7[_0x1ce684(0x172)](_0x19ff5c=>_0x19ff5c[_0x1ce684(0x4ca)]===_0x7a7beb[_0x1ce684(0x338)]);_0x7a7beb[_0x1ce684(0x3db)]&&_0x10f481&&_0x10f481[_0x1ce684(0x332)]++;});});const _0x2f1482=_0x2b263f['length'],_0x4edb48=Math['max'](..._0x3137c7['map'](_0x39111c=>_0x39111c[_0x23ae64(0x332)])),_0x516d3d=Math['min'](..._0x3137c7[_0x23ae64(0x796)](_0x47c277=>_0x47c277[_0x23ae64(0x332)])),_0x195b77=_0x3137c7['filter'](_0x48cb7a=>_0x48cb7a[_0x23ae64(0x332)]===_0x4edb48)[_0x23ae64(0x796)](_0x41457a=>'ข้อ\x20'+_0x41457a[_0x23ae64(0x5ed)]),_0x514104=_0x3137c7['filter'](_0x703e34=>_0x703e34[_0x23ae64(0x332)]===_0x516d3d)[_0x23ae64(0x796)](_0x2d9713=>_0x23ae64(0x2c8)+_0x2d9713[_0x23ae64(0x5ed)]),_0x168fee=_0x2b263f[_0x23ae64(0x773)]((_0x2c286c,_0x500ab5)=>_0x500ab5['latestScore']-_0x2c286c[_0x23ae64(0x442)])[_0x23ae64(0x5d6)]((_0x4fd089,_0x228c00,_0x400b24)=>_0x4fd089[_0x23ae64(0x442)]===_0x400b24[0x0][_0x23ae64(0x442)]),_0x2c3c16=_0x2b263f[_0x23ae64(0x773)]((_0xbc3182,_0xcb28b9)=>_0xbc3182[_0x23ae64(0x442)]-_0xcb28b9['latestScore'])[_0x23ae64(0x5d6)]((_0x273a1f,_0x245aeb,_0x1751cf)=>_0x273a1f[_0x23ae64(0x442)]===_0x1751cf[0x0][_0x23ae64(0x442)]),_0x46c2ec=_0x23ae64(0x178)+_0x195b77[_0x23ae64(0x4d7)](',\x20')+_0x23ae64(0x127)+_0x4edb48+'\x20/\x20'+_0x2f1482+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x514104[_0x23ae64(0x4d7)](',\x20')+_0x23ae64(0x127)+(_0x2f1482-_0x516d3d)+_0x23ae64(0x199)+_0x2f1482+_0x23ae64(0x713)+_0x168fee[_0x23ae64(0x796)](_0x209575=>_0x209575[_0x23ae64(0x6f4)])[_0x23ae64(0x4d7)](',\x20')+_0x23ae64(0x2ad)+_0x168fee[0x0][_0x23ae64(0x442)]+_0x23ae64(0x2b5)+_0x2c3c16[_0x23ae64(0x796)](_0x8cfee7=>_0x8cfee7[_0x23ae64(0x6f4)])[_0x23ae64(0x4d7)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x2c3c16[0x0][_0x23ae64(0x442)]+_0x23ae64(0x74d);_0x69f0b3[_0x23ae64(0x7ac)]=_0x46c2ec;}function renderSubmissionChart(_0x24e8e2,_0x494622,_0x76f0cf,_0xf13426){const _0x20dc29=_0x1bb21e,_0x26fe06=document['getElementById']('submission-status-chart')[_0x20dc29(0x185)]('2d'),_0x4e9ac8=_0x76f0cf[_0x20dc29(0x796)](_0x4602c7=>_0x4602c7[_0x20dc29(0x6f4)]),_0x2b8321=_0xf13426['filter'](_0x515e39=>!_0x4e9ac8[_0x20dc29(0x54a)](_0x515e39));chartInstances[_0x20dc29(0x180)]&&chartInstances['submission'][_0x20dc29(0x6be)](),chartInstances[_0x20dc29(0x180)]=new Chart(_0x26fe06,{'type':_0x20dc29(0x2b0),'data':{'labels':['ส่งแล้ว',_0x20dc29(0x7d5)],'datasets':[{'data':[_0x24e8e2,_0x494622],'backgroundColor':[_0x20dc29(0x639),_0x20dc29(0x386)],'borderColor':['#ffffff','#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x20dc29(0x181)},'tooltip':{'callbacks':{'label':function(_0x25728f){const _0x8cac58=_0x20dc29;let _0x31ad7f=_0x25728f['label']||'';return _0x31ad7f&&(_0x31ad7f+=':\x20'),_0x31ad7f+=_0x25728f[_0x8cac58(0x3f2)],_0x31ad7f;},'afterLabel':function(_0x2dd1ea){const _0x516c36=_0x20dc29;let _0x5dd6c1;return _0x2dd1ea[_0x516c36(0x8cc)]===0x0?_0x5dd6c1=_0x4e9ac8:_0x5dd6c1=_0x2b8321,_0x5dd6c1[_0x516c36(0x890)]>0x0?_0x5dd6c1['join']('\x0a'):_0x516c36(0x5f1);}}}}}});}function renderScoreDistributionChart(_0x4d6942,_0xe95911){const _0x52cd90=_0x1bb21e,_0x6fab4d=document[_0x52cd90(0x38e)](_0x52cd90(0x449))[_0x52cd90(0x185)]('2d'),_0xd775b4={};for(let _0x17aaa3=0x0;_0x17aaa3<=_0xe95911;_0x17aaa3++){_0xd775b4[_0x17aaa3]=0x0;}_0x4d6942[_0x52cd90(0x813)](_0x3418c5=>{const _0x44fc6b=_0x52cd90;_0xd775b4[_0x3418c5[_0x44fc6b(0x442)]]!==undefined&&_0xd775b4[_0x3418c5[_0x44fc6b(0x442)]]++;}),chartInstances[_0x52cd90(0x757)]&&chartInstances[_0x52cd90(0x757)][_0x52cd90(0x6be)](),chartInstances[_0x52cd90(0x757)]=new Chart(_0x6fab4d,{'type':_0x52cd90(0x4f5),'data':{'labels':Object[_0x52cd90(0x68d)](_0xd775b4),'datasets':[{'label':_0x52cd90(0x603),'data':Object['values'](_0xd775b4),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x52cd90(0x657)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x24350d){const _0x3b4b10=_0x52cd90,_0xac9817=_0x24350d[_0x3b4b10(0x643)],_0x120912=_0x4d6942[_0x3b4b10(0x5d6)](_0x51ff0c=>_0x51ff0c['latestScore']==_0xac9817)[_0x3b4b10(0x796)](_0x5d9f8f=>_0x5d9f8f[_0x3b4b10(0x6f4)]);return _0x120912[_0x3b4b10(0x890)]>0x0?_0x120912['join']('\x0a'):'';}}}}}});}function _0x4611(_0x4c3a16,_0x1dc646){const _0x20ec4a=_0x20ec();return _0x4611=function(_0x4611a2,_0x1ffe7e){_0x4611a2=_0x4611a2-0x127;let _0x56026c=_0x20ec4a[_0x4611a2];return _0x56026c;},_0x4611(_0x4c3a16,_0x1dc646);}function renderQuestionAnalytics(_0xb7c231,_0x50e289,_0x16bc9f){const _0x5f35c3=_0x1bb21e,_0x3b7582=document[_0x5f35c3(0x38e)](_0x5f35c3(0x58a));if(_0x16bc9f[_0x5f35c3(0x890)]===0x0){_0x3b7582['innerHTML']=_0x5f35c3(0x722);return;}const _0x67603a=calculateItemAnalysis(_0xb7c231,_0x50e289),_0x586099=calculateDistractorAnalysis(_0xb7c231,_0x50e289);let _0x457718='';_0x67603a[_0x5f35c3(0x4ab)]&&(_0x457718='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x67603a['overallGroups'][_0x5f35c3(0x399)][_0x5f35c3(0x890)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x67603a['overallGroups']['upperGroupNames'][_0x5f35c3(0x796)](_0xc26cd9=>'<li>'+_0xc26cd9+_0x5f35c3(0x552))[_0x5f35c3(0x4d7)]('')+_0x5f35c3(0x8d5)+_0x67603a[_0x5f35c3(0x4ab)]['lowerGroupNames']['length']+_0x5f35c3(0x148)+_0x67603a[_0x5f35c3(0x4ab)]['lowerGroupNames'][_0x5f35c3(0x796)](_0x1624f9=>_0x5f35c3(0x1c5)+_0x1624f9+'</li>')['join']('')+_0x5f35c3(0x89c));let _0x16d7cc='';const _0x3d8550=_0x50e289[_0x5f35c3(0x796)](_0x2827b3=>_0x2827b3[_0x5f35c3(0x6f4)]),_0x44349b=_0x12453f=>{const _0x4e0e24=_0x5f35c3;if(_0x12453f>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x12453f>=0.6)return _0x4e0e24(0x80c);if(_0x12453f>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x12453f>=0.2)return _0x4e0e24(0x488);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x43b3e9=_0x4e2bf9=>{const _0x563d3a=_0x5f35c3;if(_0x4e2bf9<0x0)return _0x563d3a(0x622);if(_0x4e2bf9>=0.4)return _0x563d3a(0x7f3);if(_0x4e2bf9>=0.3)return _0x563d3a(0x816);if(_0x4e2bf9>=0.2)return _0x563d3a(0x2c5);return _0x563d3a(0x674);},_0x3d4558=_0x196c47=>{const _0x81d674=_0x5f35c3,_0x5b1155=_0x196c47[_0x81d674(0x554)](0x0);if(parseFloat(_0x5b1155)===0x64)return _0x81d674(0x763)+_0x5b1155+_0x81d674(0x38f);if(_0x196c47>=0x32)return _0x81d674(0x89d)+_0x5b1155+_0x81d674(0x38f);return _0x81d674(0x6a3)+_0x5b1155+'%</span>';};_0xb7c231[_0x5f35c3(0x1f8)]['forEach']((_0xc399b5,_0x380f24)=>{const _0x4449fe=_0x5f35c3,_0x1fa4ff=_0x67603a[_0x4449fe(0x768)][_0x380f24],_0x3b93cc=_0x586099[_0x380f24],_0x12ff31=_0xc399b5[_0x4449fe(0x1d1)]||_0xc399b5[_0x4449fe(0x20d)]||_0xc399b5[_0x4449fe(0x4cc)];let _0x83d6d6=0x0;const _0x5141c0=[],_0x4c1002=[];_0x50e289[_0x4449fe(0x813)](_0x1886dd=>{const _0x2a66f3=_0x4449fe,_0x59fb95=_0x1886dd[_0x2a66f3(0x60c)][_0x1886dd[_0x2a66f3(0x60c)][_0x2a66f3(0x890)]-0x1];if(_0x59fb95&&_0x59fb95[_0x2a66f3(0x2be)]){const _0x20c460=_0x59fb95[_0x2a66f3(0x2be)][_0x2a66f3(0x172)](_0x2e269c=>_0x2e269c[_0x2a66f3(0x338)]===_0x12ff31)??_0x59fb95[_0x2a66f3(0x2be)][_0x380f24]??null;_0x20c460&&(_0x20c460['isCorrect']?(_0x83d6d6++,_0x5141c0[_0x2a66f3(0x3dd)](_0x1886dd[_0x2a66f3(0x6f4)])):_0x4c1002[_0x2a66f3(0x3dd)](_0x1886dd[_0x2a66f3(0x6f4)]));}});const _0x349ba1=_0x50e289['length']>0x0?_0x83d6d6/_0x50e289[_0x4449fe(0x890)]*0x64:0x0,_0x21c279=_0x16bc9f[_0x4449fe(0x5d6)](_0x3c4f7c=>!_0x3d8550[_0x4449fe(0x54a)](_0x3c4f7c)),_0x304a14=_0x1fa4ff?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x1fa4ff['p']['toFixed'](0x2)+_0x4449fe(0x32d)+_0x44349b(_0x1fa4ff['p'])+_0x4449fe(0x7d4)+_0x1fa4ff['r']['toFixed'](0x2)+_0x4449fe(0x32d)+_0x43b3e9(_0x1fa4ff['r'])+_0x4449fe(0x473)+_0x3d4558(_0x349ba1)+_0x4449fe(0x6f6):'';let _0x2ddffb='';_0x3b93cc&&(_0x2ddffb=_0x4449fe(0x701)+Object[_0x4449fe(0x68d)](_0x3b93cc)[_0x4449fe(0x796)](_0x51fd73=>{const _0x19f05f=_0x4449fe,_0x966d93=_0x3b93cc[_0x51fd73],_0x10ff1d=parseInt(_0x51fd73)===_0xc399b5[_0x19f05f(0x420)],_0x1eea3b=!_0x10ff1d&&_0x966d93[_0x19f05f(0x585)]>_0x966d93[_0x19f05f(0x4a1)];return _0x19f05f(0x1bc)+(_0x10ff1d?_0x19f05f(0x273):'')+_0x19f05f(0x7c7)+(_0x10ff1d?'✔\x20':'')+_0x966d93[_0x19f05f(0x4ca)]+_0x19f05f(0x1a2)+_0x966d93[_0x19f05f(0x4a1)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x966d93[_0x19f05f(0x585)]+'\x20'+(_0x1eea3b?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x966d93['total']+'</td></tr>';})[_0x4449fe(0x4d7)]('')+_0x4449fe(0x506));let _0x2fcdad='';_0x1fa4ff&&_0x1fa4ff['upperGroupResponders']&&(_0x2fcdad=_0x4449fe(0x4b9)+_0x1fa4ff[_0x4449fe(0x2ac)][_0x4449fe(0x890)]+_0x4449fe(0x447)+_0x1fa4ff[_0x4449fe(0x2ac)][_0x4449fe(0x796)](_0x2094d8=>'<li>'+(_0x2094d8[_0x4449fe(0x3db)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x4449fe(0x34d))+'\x20'+_0x2094d8[_0x4449fe(0x6cc)]+_0x4449fe(0x552))[_0x4449fe(0x4d7)]('')+_0x4449fe(0x138)+_0x1fa4ff['lowerGroupResponders']['length']+_0x4449fe(0x447)+_0x1fa4ff[_0x4449fe(0x56e)][_0x4449fe(0x796)](_0x3030fe=>_0x4449fe(0x1c5)+(_0x3030fe[_0x4449fe(0x3db)]?_0x4449fe(0x3da):_0x4449fe(0x34d))+'\x20'+_0x3030fe[_0x4449fe(0x6cc)]+_0x4449fe(0x552))[_0x4449fe(0x4d7)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x16d7cc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x380f24+0x1)+':\x20'+_0x12ff31+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x304a14+_0x4449fe(0x824)+_0x12ff31+_0x4449fe(0x530)+_0x83d6d6+_0x4449fe(0x154)+_0x50e289[_0x4449fe(0x890)]+_0x4449fe(0x1e5)+_0x349ba1[_0x4449fe(0x554)](0x0)+_0x4449fe(0x236)+_0x5141c0['length']+_0x4449fe(0x6a2)+(_0x5141c0[_0x4449fe(0x890)]>0x0?_0x5141c0[_0x4449fe(0x4d7)](',\x20'):'ไม่มี')+_0x4449fe(0x8d7)+_0x4c1002['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x4c1002['length']>0x0?_0x4c1002[_0x4449fe(0x4d7)](',\x20'):'ไม่มี')+_0x4449fe(0x5b1)+_0x21c279[_0x4449fe(0x890)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x21c279['length']>0x0?_0x21c279[_0x4449fe(0x4d7)](',\x20'):_0x4449fe(0x5f1))+_0x4449fe(0x64c)+_0x2ddffb+_0x4449fe(0x520)+_0x2fcdad+_0x4449fe(0x1d7);}),_0x3b7582[_0x5f35c3(0x7ac)]=_0x457718+_0x16d7cc;try{window['MathJax']&&MathJax[_0x5f35c3(0x14d)]&&MathJax[_0x5f35c3(0x14d)]([_0x3b7582]);}catch(_0x4a5913){console[_0x5f35c3(0x146)](_0x5f35c3(0x480),_0x4a5913);}}function calculateDistractorAnalysis(_0x4b9e6e,_0x5ca95f){const _0x512100=_0x1bb21e,_0x200673={};if(_0x5ca95f[_0x512100(0x890)]<0x2)return _0x200673;const _0x25e256=[..._0x5ca95f][_0x512100(0x773)]((_0x8cf2e0,_0x421eb5)=>{const _0x2cc643=_0x512100,_0x548b1a=_0x421eb5[_0x2cc643(0x442)]-_0x8cf2e0[_0x2cc643(0x442)];if(_0x548b1a!==0x0)return _0x548b1a;const _0x387a47=_0x8cf2e0[_0x2cc643(0x60c)]?.[_0x2cc643(0x890)]||0x1,_0x405215=_0x421eb5['attempts']?.[_0x2cc643(0x890)]||0x1,_0x1ce78a=_0x387a47-_0x405215;if(_0x1ce78a!==0x0)return _0x1ce78a;const _0x3b61b9=new Date(_0x8cf2e0[_0x2cc643(0x65a)]),_0x162d6b=new Date(_0x421eb5[_0x2cc643(0x65a)]),_0x4cfb86=_0x3b61b9-_0x162d6b;if(_0x4cfb86!==0x0)return _0x4cfb86;return _0x8cf2e0['studentName'][_0x2cc643(0x636)](_0x421eb5[_0x2cc643(0x6f4)],'th');}),_0x5a049f=_0x25e256['length'],_0x33f806=Math[_0x512100(0x393)](0x1,Math[_0x512100(0x4b4)](_0x5a049f*0.33)),_0x31bf78=_0x25e256[_0x512100(0x2e4)](0x0,_0x33f806),_0x20387d=_0x25e256[_0x512100(0x2e4)](-_0x33f806);return _0x4b9e6e[_0x512100(0x1f8)][_0x512100(0x813)]((_0x43cea9,_0x301cf5)=>{const _0x2848db=_0x512100;if(_0x43cea9['questionType']!==_0x2848db(0x4a9)||!_0x43cea9[_0x2848db(0x6e3)])return;const _0x5c72d7=_0x43cea9['questionText'],_0x5c967a={};_0x43cea9[_0x2848db(0x6e3)][_0x2848db(0x813)]((_0x4661ce,_0x341028)=>{_0x5c967a[_0x341028]={'text':_0x4661ce,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x25e256[_0x2848db(0x813)](_0x419f8f=>{const _0x537db4=_0x2848db,_0x3b3c73=_0x419f8f['attempts'][_0x419f8f[_0x537db4(0x60c)]['length']-0x1],_0x76b533=_0x3b3c73['answers'][_0x537db4(0x172)](_0x398e82=>_0x398e82[_0x537db4(0x338)]===_0x5c72d7);if(_0x76b533&&_0x76b533[_0x537db4(0x3ab)]!==null){const _0x41992f=_0x43cea9[_0x537db4(0x6e3)][_0x537db4(0x312)](_0xf2faa7=>_0xf2faa7===_0x76b533[_0x537db4(0x6fb)]);_0x41992f!==-0x1&&_0x5c967a[_0x41992f]&&(_0x5c967a[_0x41992f][_0x537db4(0x259)]++,_0x31bf78[_0x537db4(0x54a)](_0x419f8f)&&_0x5c967a[_0x41992f][_0x537db4(0x4a1)]++,_0x20387d['includes'](_0x419f8f)&&_0x5c967a[_0x41992f][_0x537db4(0x585)]++);}}),_0x200673[_0x301cf5]=_0x5c967a;}),_0x200673;}function calculateReliabilityKR20(_0x3fcf9d,_0x53bace,_0x374327){const _0x5f1716=_0x1bb21e,_0x28ddf0=_0x3fcf9d[_0x5f1716(0x1f8)][_0x5f1716(0x890)];if(_0x28ddf0<0x2||_0x53bace[_0x5f1716(0x890)]<0x2)return null;const _0x48b54d=_0x53bace[_0x5f1716(0x796)](_0x226121=>_0x226121[_0x5f1716(0x442)]),_0x34ed38=_0x48b54d[_0x5f1716(0x243)]((_0x118b1e,_0x414180)=>_0x118b1e+_0x414180,0x0)/_0x48b54d[_0x5f1716(0x890)],_0x21319f=_0x48b54d[_0x5f1716(0x796)](_0x18858d=>Math[_0x5f1716(0x352)](_0x18858d-_0x34ed38,0x2))[_0x5f1716(0x243)]((_0x14aaa7,_0x402ef2)=>_0x14aaa7+_0x402ef2,0x0)/_0x48b54d['length'];if(_0x21319f===0x0)return null;let _0x4649a4=0x0;for(let _0x19ebd0=0x0;_0x19ebd0<_0x28ddf0;_0x19ebd0++){const _0x43ddd4=_0x374327[_0x19ebd0]?.['p'];if(_0x43ddd4===undefined)continue;const _0x534fed=0x1-_0x43ddd4;_0x4649a4+=_0x43ddd4*_0x534fed;}if(_0x4649a4===0x0)return null;const _0x5b4ad1=_0x28ddf0/(_0x28ddf0-0x1)*(0x1-_0x4649a4/_0x21319f);if(_0x5b4ad1>0x1)return null;return _0x5b4ad1;}async function handleAnalyzeClass(){const _0x5d2edf=_0x1bb21e;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x5aba02=collection(db,_0x5d2edf(0x736)+appId+_0x5d2edf(0x190)+currentQuizData['id']+_0x5d2edf(0x81a)),_0xec5fa8=await getDocs(_0x5aba02),_0x23f67=_0xec5fa8[_0x5d2edf(0x601)][_0x5d2edf(0x796)](_0x27fd08=>_0x27fd08[_0x5d2edf(0x794)]());if(_0x23f67[_0x5d2edf(0x890)]<0x2){showMessage(_0x5d2edf(0x7f4));return;}const _0x35385c=document[_0x5d2edf(0x38e)](_0x5d2edf(0x627));_0x35385c[_0x5d2edf(0x7ac)]=_0x5d2edf(0x268),document['getElementById'](_0x5d2edf(0x6d1))[_0x5d2edf(0x5f4)]=!![];const _0x1ef8c0=_0x23f67[_0x5d2edf(0x796)]((_0x45c787,_0x2c627d)=>{const _0x983165=_0x5d2edf,_0x15687a=_0x45c787[_0x983165(0x60c)][_0x45c787[_0x983165(0x60c)][_0x983165(0x890)]-0x1];if(!_0x15687a)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x2c627d+0x1)+'\x20('+_0x45c787[_0x983165(0x6f4)]+_0x983165(0x263)+_0x15687a[_0x983165(0x757)]+'/'+_0x45c787['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON['stringify'](_0x15687a[_0x983165(0x2be)])+_0x983165(0x70a);})[_0x5d2edf(0x4d7)]('\x0a---\x0a'),_0x5c0a37=_0x5d2edf(0x8d1)+currentQuizData['topic']+_0x5d2edf(0x5b7)+JSON[_0x5d2edf(0x644)](currentQuizData[_0x5d2edf(0x1f8)])+_0x5d2edf(0x818)+_0x1ef8c0+_0x5d2edf(0x2fe),_0x186fde={'type':_0x5d2edf(0x7f2),'properties':{'classStrengths':{'type':_0x5d2edf(0x60a),'items':{'type':_0x5d2edf(0x501)}},'classWeaknesses':{'type':_0x5d2edf(0x60a),'items':{'type':_0x5d2edf(0x501)}},'teacherSuggestions':{'type':_0x5d2edf(0x60a),'items':{'type':'STRING'}}},'required':['classStrengths',_0x5d2edf(0x23b),'teacherSuggestions']};try{const _0x533adc=await callAnalysisApi(_0x5c0a37,_0x186fde);displayClassAnalysis(_0x533adc);}catch(_0x1e2d9b){console[_0x5d2edf(0x146)](_0x5d2edf(0x653),_0x1e2d9b),_0x35385c['innerHTML']='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x1e2d9b[_0x5d2edf(0x743)]+_0x5d2edf(0x276);}finally{document[_0x5d2edf(0x38e)](_0x5d2edf(0x6d1))['disabled']=![];}}function displayClassAnalysis(_0x4286fe){const _0x3aba74=_0x1bb21e,_0x4e63a1=document['getElementById'](_0x3aba74(0x627));if(!_0x4286fe){_0x4e63a1[_0x3aba74(0x7ac)]=_0x3aba74(0x4a6);return;}_0x4e63a1['innerHTML']=_0x3aba74(0x51b)+_0x4286fe[_0x3aba74(0x758)][_0x3aba74(0x796)](_0xdceea0=>'<li>'+_0xdceea0+_0x3aba74(0x552))[_0x3aba74(0x4d7)]('')+_0x3aba74(0x140)+_0x4286fe[_0x3aba74(0x23b)][_0x3aba74(0x796)](_0x24b907=>_0x3aba74(0x1c5)+_0x24b907+_0x3aba74(0x552))['join']('')+_0x3aba74(0x363)+_0x4286fe[_0x3aba74(0x4d8)]['map'](_0x3c1dc6=>_0x3aba74(0x1c5)+_0x3c1dc6+'</li>')[_0x3aba74(0x4d7)]('')+_0x3aba74(0x1a1);}function formatAndPrintWorksheet(_0x4143b0,_0x40cdc1){const _0x56c56b=_0x1bb21e,_0x243716=_0x56c56b(0x576)+_0x4143b0[_0x56c56b(0x76d)]+_0x56c56b(0x635)+_0x4143b0[_0x56c56b(0x76d)]+_0x56c56b(0x350)+_0x4143b0['questions'][_0x56c56b(0x796)]((_0x667bb1,_0x46f289)=>_0x56c56b(0x8aa)+(_0x46f289+0x1)+'.\x20'+_0x667bb1['questionText']+_0x56c56b(0x620)+(_0x667bb1[_0x56c56b(0x163)]?_0x56c56b(0x3b0)+_0x667bb1['imageCode']+_0x56c56b(0x8ad):'')+_0x56c56b(0x2ef))['join']('')+_0x56c56b(0x7e3);_0x40cdc1[_0x56c56b(0x8d2)][_0x56c56b(0x85d)](_0x243716),_0x40cdc1[_0x56c56b(0x8d2)][_0x56c56b(0x748)](),_0x40cdc1[_0x56c56b(0x85c)]=function(){setTimeout(()=>{_0x40cdc1['print']();},0x3e8);};}async function generateWorksheet(){const _0x41b958=_0x1bb21e,_0x432e43=document[_0x41b958(0x38e)]('worksheet-topic-input')[_0x41b958(0x491)][_0x41b958(0x2d2)]();if(!_0x432e43){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x18bcd3=document[_0x41b958(0x38e)](_0x41b958(0x345))[_0x41b958(0x7eb)],_0x2795aa=_0x18bcd3?'':_0x41b958(0x67f),_0x59e1b4=window[_0x41b958(0x6e1)]('',_0x41b958(0x8c7));_0x59e1b4[_0x41b958(0x8d2)][_0x41b958(0x85d)](_0x41b958(0x128));const _0x29a79e=parseInt(document[_0x41b958(0x38e)](_0x41b958(0x18f))[_0x41b958(0x491)]),_0x22165b=document[_0x41b958(0x38e)](_0x41b958(0x808))['checked'],_0x8f2bb3=_0x22165b?_0x41b958(0x2f3):'',_0x43a767=_0x41b958(0x39f)+_0x2795aa+_0x41b958(0x746)+_0x29a79e+_0x41b958(0x26e)+_0x432e43+_0x41b958(0x875)+_0x8f2bb3+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x41b958(0x69c),_0x1b8db9={'type':_0x41b958(0x7f2),'properties':{'topic':{'type':_0x41b958(0x501)},'questions':{'type':_0x41b958(0x60a),'items':{'type':_0x41b958(0x7f2),'properties':{'questionText':{'type':_0x41b958(0x501)},'imageCode':{'type':_0x41b958(0x501)}},'required':['questionText']}}},'required':[_0x41b958(0x76d),_0x41b958(0x1f8)]};document[_0x41b958(0x38e)]('loader-text')[_0x41b958(0x83f)]='',document[_0x41b958(0x38e)](_0x41b958(0x41a))['classList'][_0x41b958(0x327)]('hidden'),document[_0x41b958(0x38e)](_0x41b958(0x5c7))[_0x41b958(0x2db)][_0x41b958(0x327)](_0x41b958(0x5e8)),generateWorksheetBtn[_0x41b958(0x5f4)]=!![];try{const _0x507ddb=await callAnalysisApi(_0x43a767,_0x1b8db9);formatAndPrintWorksheet(_0x507ddb,_0x59e1b4);}catch(_0x11cdcc){console[_0x41b958(0x146)](_0x41b958(0x4e3),_0x11cdcc);if(_0x59e1b4)_0x59e1b4[_0x41b958(0x748)]();showMessage(_0x41b958(0x6b5));}finally{document[_0x41b958(0x38e)]('loader')[_0x41b958(0x2db)]['add']('hidden'),document[_0x41b958(0x38e)](_0x41b958(0x5c7))['classList']['add'](_0x41b958(0x5e8)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x50ea81,_0x262a4d){const _0x5ee2a2=_0x1bb21e,_0xa4795c={'contents':[{'role':_0x5ee2a2(0x559),'parts':[{'text':_0x50ea81}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x262a4d}},_0x118688='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x23a65b=_0x5ee2a2(0x88f)+_0x118688,_0x499ee5=await fetch(_0x23a65b,{'method':_0x5ee2a2(0x866),'headers':{'Content-Type':_0x5ee2a2(0x1e8)},'body':JSON[_0x5ee2a2(0x644)](_0xa4795c)});if(!_0x499ee5['ok'])throw new Error(_0x5ee2a2(0x697)+_0x499ee5[_0x5ee2a2(0x613)]);const _0x3143fb=await _0x499ee5[_0x5ee2a2(0x22f)]();if(_0x3143fb[_0x5ee2a2(0x7a9)]?.[0x0]?.['content']?.['parts']?.[0x0])return JSON[_0x5ee2a2(0x32f)](_0x3143fb[_0x5ee2a2(0x7a9)][0x0][_0x5ee2a2(0x7aa)]['parts'][0x0][_0x5ee2a2(0x4ca)]);else{let _0x1d997e='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x3143fb[_0x5ee2a2(0x41e)]?.[_0x5ee2a2(0x607)])_0x1d997e=_0x5ee2a2(0x2af)+_0x3143fb['promptFeedback']['blockReason']+'.';else _0x3143fb['candidates']?.[0x0]?.['finishReason']&&_0x3143fb[_0x5ee2a2(0x7a9)][0x0]['finishReason']!=='STOP'&&(_0x1d997e=_0x5ee2a2(0x17b)+_0x3143fb['candidates'][0x0][_0x5ee2a2(0x60d)]+'.');console[_0x5ee2a2(0x146)](_0x1d997e,JSON[_0x5ee2a2(0x644)](_0x3143fb));throw new Error(_0x1d997e);}}initialize();
