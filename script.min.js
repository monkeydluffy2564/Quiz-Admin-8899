const _0x4813c4=_0x3082;(function(_0x585fc8,_0x7b1722){const _0x188e07=_0x3082,_0x1d331a=_0x585fc8();while(!![]){try{const _0x1532c7=-parseInt(_0x188e07(0x172))/0x1*(-parseInt(_0x188e07(0xb2d))/0x2)+-parseInt(_0x188e07(0x204))/0x3+parseInt(_0x188e07(0x71b))/0x4+-parseInt(_0x188e07(0xae2))/0x5*(-parseInt(_0x188e07(0x5d1))/0x6)+-parseInt(_0x188e07(0x84e))/0x7+parseInt(_0x188e07(0xcd9))/0x8+parseInt(_0x188e07(0x84c))/0x9*(-parseInt(_0x188e07(0x83))/0xa);if(_0x1532c7===_0x7b1722)break;else _0x1d331a['push'](_0x1d331a['shift']());}catch(_0x103b3d){_0x1d331a['push'](_0x1d331a['shift']());}}}(_0x4b47,0xefe6f));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x4813c4(0x463),_0x4813c4(0xa0f),_0x4813c4(0x22f),'เหมียวขี้เซา',_0x4813c4(0x849),'เต่าสายฟ้า',_0x4813c4(0xb71),_0x4813c4(0xb34),_0x4813c4(0xe1f),'จิงโจ้สโลว์ไลฟ์',_0x4813c4(0x4bb),_0x4813c4(0xe07),_0x4813c4(0x834),_0x4813c4(0xdac),_0x4813c4(0xc80),'จอมเวทย์ขนมหวาน',_0x4813c4(0x1e3),_0x4813c4(0x72e),_0x4813c4(0x90d),_0x4813c4(0x5cf),_0x4813c4(0x977),_0x4813c4(0x1cd),_0x4813c4(0x3d3),'ไก่ฟ้าพญาลอ','กุ้งเต้นแร้งกา','หมาป่าเดียวดาย',_0x4813c4(0x80e),_0x4813c4(0x40b),_0x4813c4(0xd4),_0x4813c4(0x55e),_0x4813c4(0xbe3),'สายลับจับบ้านเล็ก','คนดีศรีสยาม',_0x4813c4(0xe6),_0x4813c4(0x803),'CEOพันล้าน',_0x4813c4(0x26f),_0x4813c4(0x78c),_0x4813c4(0xba2),'ดาวสภา',_0x4813c4(0x76e),_0x4813c4(0xe1a),_0x4813c4(0x675),_0x4813c4(0x5d2),_0x4813c4(0x93d),_0x4813c4(0x2a8),_0x4813c4(0x5e8),'ครัวซองต์',_0x4813c4(0x6ec),_0x4813c4(0xbd),_0x4813c4(0x5c1),_0x4813c4(0x1c4),_0x4813c4(0x1ce),_0x4813c4(0x7fb),_0x4813c4(0x555),_0x4813c4(0x65a),_0x4813c4(0x824),_0x4813c4(0x168),_0x4813c4(0x380),_0x4813c4(0xb38),_0x4813c4(0x31f),_0x4813c4(0x802),_0x4813c4(0x419),_0x4813c4(0xcf8),_0x4813c4(0xe01),_0x4813c4(0x2d0),_0x4813c4(0x7da),_0x4813c4(0x184),_0x4813c4(0x7cf),'แม่น้ำ',_0x4813c4(0x170),'ช่างภาพ',_0x4813c4(0xaf3),_0x4813c4(0x549),_0x4813c4(0xb2c),_0x4813c4(0x10f),_0x4813c4(0x8aa),_0x4813c4(0xca6),_0x4813c4(0x854),_0x4813c4(0xd87),_0x4813c4(0x6b1),'ปล่อยพลัง',_0x4813c4(0x43e),_0x4813c4(0xa61),_0x4813c4(0xd27),_0x4813c4(0xafa),_0x4813c4(0x60e),_0x4813c4(0x4e5),_0x4813c4(0xd6b),'ฮัลค์','รักแรกพบ',_0x4813c4(0xb07),_0x4813c4(0xbce),_0x4813c4(0xdf),_0x4813c4(0x6a4),_0x4813c4(0xafc),_0x4813c4(0x234),_0x4813c4(0x344),'สถานะไม่ชัดเจน',_0x4813c4(0x9a5)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x4813c4(0xa19),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x4813c4(0xa19),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x2a588b=_0x4813c4;if(_0x2a588b(0x7d6)in navigator)try{wakeLock=await navigator['wakeLock'][_0x2a588b(0x2ce)]('screen'),console[_0x2a588b(0x84)](_0x2a588b(0x90e)),wakeLock['addEventListener'](_0x2a588b(0x188),()=>{const _0xf03a6e=_0x2a588b;console[_0xf03a6e(0x84)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0xc02b32){console[_0x2a588b(0xabd)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0xc02b32['name']+',\x20'+_0xc02b32[_0x2a588b(0xbd0)]);}else console[_0x2a588b(0x174)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x4d1def=_0x4813c4;wakeLock!==null&&(await wakeLock[_0x4d1def(0x188)](),wakeLock=null,console[_0x4d1def(0x84)](_0x4d1def(0x5ce)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x47d551=_0x4813c4;if(!document['body'][_0x47d551(0xcde)][_0x47d551(0xca5)]('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x696e0d=_0x47d551;document[_0x696e0d(0x281)][_0x696e0d(0xcde)]['add'](_0x696e0d(0x1cf)),console[_0x696e0d(0x84)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}}function wakeUpScreen(_0x1c1e73){const _0x57826d=_0x4813c4;_0x1c1e73&&(_0x1c1e73[_0x57826d(0xa99)](),_0x1c1e73['preventDefault']());document[_0x57826d(0x281)]['classList']['remove'](_0x57826d(0x1cf));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x33c5f2=_0x57826d;document[_0x33c5f2(0x281)][_0x33c5f2(0xcde)]['add'](_0x33c5f2(0x1cf));},inactivityTime);}function stopDimTimer(){const _0x3b937f=_0x4813c4;if(dimTimer)clearTimeout(dimTimer);document[_0x3b937f(0x281)]['classList'][_0x3b937f(0xa30)](_0x3b937f(0x1cf)),window['removeEventListener']('mousemove',resetDimTimer),window[_0x3b937f(0x751)]('mousedown',resetDimTimer),window[_0x3b937f(0x751)](_0x3b937f(0xc32),resetDimTimer),window[_0x3b937f(0x751)](_0x3b937f(0xac3),resetDimTimer),console[_0x3b937f(0x84)](_0x3b937f(0x96e));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0xd15396,_0x460fb3=![]){const _0x40b466=_0x4813c4,_0x7a49df=allQuizzes[_0x40b466(0x5d9)](_0x36db1e=>_0x36db1e['id']===_0xd15396)||allQuizzesGlobal[_0x40b466(0x5d9)](_0x4e92fc=>_0x4e92fc['id']===_0xd15396);if(!_0x7a49df){showMessage(_0x40b466(0x776));return;}currentQuizData=getShuffledQuiz(_0x7a49df);const _0xac0858=Math[_0x40b466(0x304)](0x3e8+Math[_0x40b466(0x89e)]()*0x2328)[_0x40b466(0x101)]();try{const _0x498e9a=await addDoc(collection(db,_0x40b466(0x2b3)+appId+_0x40b466(0xd1b)),{'quizId':_0x7a49df['id'],'projectId':_0x7a49df['projectId'],'status':_0x40b466(0x1b6),'pin':_0xac0858,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x460fb3});currentTeamQuizId=_0x498e9a['id'],showView(_0x40b466(0x2cd)),renderAdminTeamQuizDashboard(_0xac0858,_0x7a49df[_0x40b466(0x1e8)]),listenForTeamQuizUpdates();}catch(_0x441b97){console['error'](_0x40b466(0xaa7),_0x441b97),showMessage(_0x40b466(0x985));}}function renderAdminTeamQuizDashboard(_0x39f597,_0xb21f26,_0x1ca22e=_0x4813c4(0x727)){const _0x25be9e=_0x4813c4,_0x4c5d77=_0x1ca22e===_0x25be9e(0xac9)?'Group\x20Mode':_0x25be9e(0x129);liveGameView[_0x25be9e(0xc7e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x4c5d77+':\x20'+_0xb21f26+_0x25be9e(0xd58)+_0x39f597+_0x25be9e(0xc29),document[_0x25be9e(0x3a5)]('end-team-quiz-btn')[_0x25be9e(0x9f0)]('click',async()=>{const _0x523198=_0x25be9e;showConfirmation(_0x523198(0xa2f),async()=>{const _0xde0c14=_0x523198;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0xde0c14(0x2b3)+appId+_0xde0c14(0xd1b),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x55b19c=_0x4813c4;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x207603=doc(db,'artifacts/'+appId+_0x55b19c(0xd1b),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x207603,_0x97909a=>{const _0xbcaa88=_0x55b19c;if(!_0x97909a[_0xbcaa88(0x3ea)]()){sessionStorage[_0xbcaa88(0xaf1)](_0xbcaa88(0x4d6));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0xbcaa88(0x79f));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0xbcaa88(0x623)):showView(_0xbcaa88(0x6e2));return;}const _0x277305=_0x97909a[_0xbcaa88(0x1ea)]();if(currentMode===_0xbcaa88(0xa16)){if(_0x277305[_0xbcaa88(0x12c)]===_0xbcaa88(0xac9)&&_0x277305[_0xbcaa88(0xd0e)]!=='podium'&&_0x277305[_0xbcaa88(0xd0e)]!==_0xbcaa88(0x8fc)){const _0x21916e=Object[_0xbcaa88(0x3fb)](_0x277305['groups']||{});if(_0x21916e['length']>0x0){const _0x406924=_0x21916e[_0xbcaa88(0x441)](_0x524749=>_0x524749[_0xbcaa88(0x396)]===!![]);_0x406924&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x277305);}else{if(_0x277305['status']===_0xbcaa88(0x471)||_0x277305[_0xbcaa88(0xd0e)]===_0xbcaa88(0x8fc)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x277305[_0xbcaa88(0x12c)]===_0xbcaa88(0xac9)){const _0x2e596b=_0x277305[_0xbcaa88(0x23a)][userId];(!_0x2e596b||!_0x2e596b[_0xbcaa88(0x396)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x45ec1d){const _0x341c60=_0x4813c4;console[_0x341c60(0x84)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x92ad42=doc(db,'artifacts/'+appId+_0x341c60(0xd1b),_0x45ec1d);try{const _0x5c2019=await getDoc(_0x92ad42);if(_0x5c2019[_0x341c60(0x3ea)]()){const _0x2f59e5=_0x5c2019[_0x341c60(0x1ea)]();_0x2f59e5[_0x341c60(0x764)]&&await saveGameResultsAsSubmissions(_0x2f59e5);}await updateDoc(_0x92ad42,{'status':'podium'});}catch(_0x7880e1){console[_0x341c60(0xabd)](_0x341c60(0xb9c),_0x7880e1);}}function updateAdminTeamDashboard(_0x41fb23){const _0x5522ec=_0x4813c4,_0x34160c=document[_0x5522ec(0x3a5)](_0x5522ec(0xc9a));if(!_0x34160c)return;const _0x244d92=_0x41fb23[_0x5522ec(0x12c)]||_0x5522ec(0x727),_0x265f92=currentQuizData[_0x5522ec(0x1bc)][_0x5522ec(0xdbe)];if(_0x244d92==='group'){const _0x194c6e=Object[_0x5522ec(0x3fb)](_0x41fb23[_0x5522ec(0x23a)]||{});if(_0x194c6e[_0x5522ec(0xdbe)]===0x0){_0x34160c[_0x5522ec(0xc7e)]=_0x5522ec(0x96);return;}const _0xf9314d=[..._0x194c6e][_0x5522ec(0x9a1)]((_0x30faab,_0x4f8681)=>_0x4f8681[_0x5522ec(0x863)]-_0x30faab['score']),_0x5a3f34=_0xf9314d[_0x5522ec(0x86c)]((_0x3286e3,_0x1d1046)=>{const _0x489640=_0x5522ec,_0x523c53=_0x3286e3[_0x489640(0x1b8)]?.['length']||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x1d1046+0x1)+_0x489640(0x721)+_0x3286e3['members'][_0x489640(0x15d)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x523c53+'/'+_0x265f92+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x3286e3['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x337546=currentQuizData[_0x5522ec(0x1bc)]['map']((_0x107954,_0x397a55)=>{const _0x5cef88=_0x5522ec;let _0x303bd4=0x0,_0xce3ca1=0x0;_0x194c6e[_0x5cef88(0x140)](_0x13ab9a=>{const _0x38acc0=_0x5cef88,_0x1a6261=_0x13ab9a[_0x38acc0(0x1b8)]?.['find'](_0x41e6cf=>_0x41e6cf['questionIndex']===_0x397a55);if(_0x1a6261){_0xce3ca1++;if(_0x1a6261[_0x38acc0(0x8a)])_0x303bd4++;}});const _0x2635fa=_0xce3ca1>0x0&&_0xce3ca1===_0x194c6e[_0x5cef88(0xdbe)],_0x4d7a41=_0x2635fa?_0x5cef88(0xbad):_0x5cef88(0xdca),_0x382342=_0x2635fa?_0x5cef88(0x43a):'';return _0x5cef88(0x7cd)+_0x4d7a41+_0x5cef88(0xcfe)+(_0x397a55+0x1)+':</span><span>'+_0x382342+_0x5cef88(0x816)+_0x303bd4+'/'+_0x194c6e['length']+_0x5cef88(0xb5a);})[_0x5522ec(0x15d)]('');_0x34160c[_0x5522ec(0xc7e)]=_0x5522ec(0xa79)+_0x5a3f34+_0x5522ec(0x833)+_0x337546+_0x5522ec(0x8b0);return;}const _0x2c9608=_0x41fb23['responses']||{},_0x3b9483=Object[_0x5522ec(0xaab)](_0x2c9608);if(_0x3b9483[_0x5522ec(0xdbe)]===0x0){_0x34160c['innerHTML']=_0x5522ec(0x546);return;}const _0x4a352a=_0x3b9483[_0x5522ec(0x86c)](_0x5b0846=>({'name':_0x5b0846,'score':_0x2c9608[_0x5b0846][_0x5522ec(0x863)]||0x0}))['sort']((_0x56277c,_0x367128)=>_0x367128[_0x5522ec(0x863)]-_0x56277c[_0x5522ec(0x863)]),_0x4eefa7=_0x4a352a[_0x5522ec(0x86c)](_0x166464=>{const _0x36ed26=_0x5522ec,_0x4abf10=_0x2c9608[_0x166464[_0x36ed26(0x4a4)]]?.[_0x36ed26(0x1b8)]?.[_0x36ed26(0xdbe)]||0x0,_0x329701=Math[_0x36ed26(0x6ba)](_0x265f92/_0x3b9483[_0x36ed26(0xdbe)]);return _0x36ed26(0x7b7)+_0x166464[_0x36ed26(0x4a4)]+_0x36ed26(0xe05)+_0x4abf10+'/'+_0x329701+_0x36ed26(0x972)+_0x166464[_0x36ed26(0x863)]+'\x20คะแนน</span></div>';})[_0x5522ec(0x15d)](''),_0x4ec8b9=_0x3b9483[_0x5522ec(0x4c5)]((_0x31c1b6,_0x6a2ad6)=>_0x31c1b6+(_0x2c9608[_0x6a2ad6]['answers']?.[_0x5522ec(0xdbe)]||0x0),0x0),_0x2ebae1=currentQuizData[_0x5522ec(0x1bc)]['map']((_0x592f7a,_0x44ca3b)=>{const _0x180f51=_0x5522ec;let _0x2dd5c0=null,_0x296317=null;for(const _0x4f6365 of _0x3b9483){const _0x2a5315=_0x2c9608[_0x4f6365][_0x180f51(0x1b8)]?.[_0x180f51(0x5d9)](_0x153893=>_0x153893[_0x180f51(0x792)]===_0x44ca3b);if(_0x2a5315){_0x2dd5c0=_0x2a5315,_0x296317=_0x4f6365;break;}}const _0x12d075=!!_0x2dd5c0,_0xf16628=_0x12d075&&_0x2dd5c0['isCorrect'],_0x112725=(Math['floor'](_0x44ca3b/_0x3b9483[_0x180f51(0xdbe)])+0x1)*_0x3b9483[_0x180f51(0xdbe)],_0x358be4=_0x4ec8b9>=_0x112725,_0x2c106d=_0x358be4?_0x180f51(0xa7b):_0x180f51(0xdca),_0x410f11=_0x358be4?_0x180f51(0x43a):'';let _0x40d795=_0x180f51(0xb86);return _0x12d075&&(_0x40d795=_0x296317+_0x180f51(0x58e)+(_0xf16628?_0x180f51(0x713):_0x180f51(0x353))),_0x180f51(0x7cd)+_0x2c106d+_0x180f51(0xcfe)+(_0x44ca3b+0x1)+_0x180f51(0x48b)+_0x410f11+_0x180f51(0x986)+_0x40d795+'</p></div>';})[_0x5522ec(0x15d)]('');_0x34160c['innerHTML']=_0x5522ec(0xbf8)+_0x4eefa7+_0x5522ec(0x6ce)+_0x2ebae1+_0x5522ec(0x8b0);}async function handleJoinTeamQuiz(){const _0x35bdb8=_0x4813c4,_0x3d58d2=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x3d58d2||_0x3d58d2['trim']()['length']!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x25f321=collection(db,_0x35bdb8(0x2b3)+appId+_0x35bdb8(0xd1b)),_0x481b8b=query(_0x25f321,where('pin','==',_0x3d58d2[_0x35bdb8(0x7f3)]()),where('status','==',_0x35bdb8(0x1b6))),_0x20f141=await getDocs(_0x481b8b);if(_0x20f141['empty']){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x5c6970=_0x20f141[_0x35bdb8(0xb32)][0x0];currentTeamQuizId=_0x5c6970['id'];const _0x14ee84=_0x5c6970[_0x35bdb8(0x1ea)](),_0x42033b=doc(db,'artifacts/'+appId+_0x35bdb8(0xa9c),_0x14ee84[_0x35bdb8(0xb91)]),_0x37a1a5=doc(db,_0x35bdb8(0x2b3)+appId+_0x35bdb8(0x60d),_0x14ee84[_0x35bdb8(0x737)]),[_0x3372d4,_0x2703e8]=await Promise[_0x35bdb8(0xa19)]([getDoc(_0x42033b),getDoc(_0x37a1a5)]);if(!_0x3372d4['exists']()||!_0x2703e8[_0x35bdb8(0x3ea)]())throw new Error(_0x35bdb8(0x4e2));currentQuizData=getShuffledQuiz({'id':_0x2703e8['id'],..._0x2703e8[_0x35bdb8(0x1ea)]()});const _0x3c3d1b=_0x3372d4[_0x35bdb8(0x1ea)]();showTeamPlayerSelection(_0x3c3d1b[_0x35bdb8(0x3a0)],currentQuizData[_0x35bdb8(0x1e8)]);}catch(_0x154c09){console[_0x35bdb8(0xabd)](_0x35bdb8(0x71d),_0x154c09),showMessage('เกิดข้อผิดพลาด:\x20'+_0x154c09['message']);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x5f28ce=_0x4813c4;currentInputPin='',updatePinDisplay(),document[_0x5f28ce(0x3a5)]('pin-entry-modal')[_0x5f28ce(0xcde)][_0x5f28ce(0xa30)](_0x5f28ce(0xc15));}function updatePinDisplay(){const _0x3b1aee=_0x4813c4,_0x25e1e3=document[_0x3b1aee(0x660)](_0x3b1aee(0x5bc));_0x25e1e3[_0x3b1aee(0x140)]((_0x701e0f,_0x5d2a56)=>{const _0x4d1561=_0x3b1aee;_0x5d2a56<currentInputPin[_0x4d1561(0xdbe)]?(_0x701e0f[_0x4d1561(0xd68)]=currentInputPin[_0x5d2a56],_0x701e0f['classList']['add'](_0x4d1561(0x9ac),_0x4d1561(0x585)),_0x701e0f[_0x4d1561(0xcde)][_0x4d1561(0xa30)]('border-gray-300',_0x4d1561(0x532))):(_0x701e0f['textContent']='',_0x701e0f[_0x4d1561(0xcde)][_0x4d1561(0xa30)]('border-indigo-500','bg-white'),_0x701e0f[_0x4d1561(0xcde)]['add'](_0x4d1561(0x9ec),_0x4d1561(0x532)));});}async function handlePinKeyPress(_0x201f05){const _0x11b832=_0x4813c4;if(_0x201f05===_0x11b832(0xdd0))currentInputPin=currentInputPin['slice'](0x0,-0x1);else currentInputPin[_0x11b832(0xdbe)]<0x4&&(currentInputPin+=_0x201f05);updatePinDisplay(),currentInputPin[_0x11b832(0xdbe)]===0x4&&setTimeout(async()=>{const _0x5b94e0=_0x11b832;document[_0x5b94e0(0x3a5)](_0x5b94e0(0xb0b))[_0x5b94e0(0xcde)][_0x5b94e0(0x483)](_0x5b94e0(0xc15)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x489353){const _0x1dedd0=_0x4813c4,_0x5f264c=_0x489353[_0x1dedd0(0x7f3)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x573639=collection(db,'artifacts/'+appId+_0x1dedd0(0xd1b)),_0x26102a=query(_0x573639,where(_0x1dedd0(0x5db),'==',_0x5f264c),where(_0x1dedd0(0xd0e),'==','lobby')),_0x2b69cb=await getDocs(_0x26102a);if(!_0x2b69cb['empty']){console[_0x1dedd0(0x84)](_0x1dedd0(0x651)),await proceedWithTeamQuizJoin(_0x2b69cb[_0x1dedd0(0xb32)][0x0]);return;}const _0x8beb04=collection(db,_0x1dedd0(0x2b3)+appId+_0x1dedd0(0xa04)),_0x3f9062=query(_0x8beb04,where(_0x1dedd0(0x5db),'==',_0x5f264c),where(_0x1dedd0(0xd0e),'in',[_0x1dedd0(0x1b6),_0x1dedd0(0x8a8),_0x1dedd0(0x494),_0x1dedd0(0x53f)])),_0xbbf519=await getDocs(_0x3f9062);if(!_0xbbf519[_0x1dedd0(0xc3f)]){console[_0x1dedd0(0x84)](_0x1dedd0(0xb50)),await proceedWithSyncQuizJoin(_0xbbf519[_0x1dedd0(0xb32)][0x0]);return;}showMessage(_0x1dedd0(0xa49));}catch(_0x47e77b){console[_0x1dedd0(0xabd)](_0x1dedd0(0x23e),_0x47e77b),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x47e77b['message']);}}async function proceedWithTeamQuizJoin(_0x53e494){const _0x7ed15d=_0x4813c4;currentTeamQuizId=_0x53e494['id'];const _0x31a0d9=_0x53e494[_0x7ed15d(0x1ea)](),_0x5780da=doc(db,_0x7ed15d(0x2b3)+appId+_0x7ed15d(0xa9c),_0x31a0d9[_0x7ed15d(0xb91)]),_0x252753=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x31a0d9[_0x7ed15d(0x737)]),[_0x442246,_0x3b019d]=await Promise[_0x7ed15d(0xa19)]([getDoc(_0x5780da),getDoc(_0x252753)]);if(!_0x442246['exists']()||!_0x3b019d[_0x7ed15d(0x3ea)]())throw new Error(_0x7ed15d(0x4e2));currentQuizData=getShuffledQuiz({'id':_0x3b019d['id'],..._0x3b019d[_0x7ed15d(0x1ea)]()}),showTeamPlayerSelection(_0x442246[_0x7ed15d(0x1ea)]()[_0x7ed15d(0x3a0)],currentQuizData[_0x7ed15d(0x1e8)],_0x31a0d9[_0x7ed15d(0x12c)]||_0x7ed15d(0x727)),messageModal[_0x7ed15d(0xcde)]['add']('hidden');}async function proceedWithSyncQuizJoin(_0x3a4494){const _0x431049=_0x4813c4;currentLiveGameId=_0x3a4494['id'];const _0x396444=_0x3a4494['data'](),_0x5a487c=doc(db,'artifacts/'+appId+_0x431049(0x60d),_0x396444[_0x431049(0x737)]),_0x57b4cd=await getDoc(_0x5a487c);if(!_0x57b4cd[_0x431049(0x3ea)]())throw new Error(_0x431049(0x776));const _0x25578b=_0x57b4cd[_0x431049(0x1ea)](),_0x2badfd=doc(db,_0x431049(0x2b3)+appId+_0x431049(0xa9c),_0x25578b[_0x431049(0xb91)]),_0x5c688e=await getDoc(_0x2badfd);if(!_0x5c688e[_0x431049(0x3ea)]())throw new Error(_0x431049(0x5ec));currentQuizData=_0x396444[_0x431049(0x953)],showView(_0x431049(0x3d8)),showTeamPlayerSelection(_0x5c688e[_0x431049(0x1ea)]()[_0x431049(0x3a0)],_0x25578b[_0x431049(0x1e8)],_0x431049(0x66c));const _0x4e4a20=document[_0x431049(0x3a5)](_0x431049(0x2fb)),_0x570790=_0x4e4a20['cloneNode'](!![]);_0x4e4a20[_0x431049(0xc53)][_0x431049(0xd49)](_0x570790,_0x4e4a20),_0x570790[_0x431049(0x8d)]=confirmAndJoinSyncGame,messageModal['classList'][_0x431049(0x483)](_0x431049(0xc15));}function getCleanApplicationHTML(){const _0x24f887=_0x4813c4,_0x513a03=document['getElementById']('applicationContent');if(!_0x513a03)return'';const _0xbc6638=_0x513a03[_0x24f887(0xa21)](!![]);return _0xbc6638[_0x24f887(0x660)](_0x24f887(0xc13))['forEach'](_0x176e87=>{const _0x4407a0=_0x24f887;_0x176e87['classList'][_0x4407a0(0xa30)](_0x4407a0(0x203),_0x4407a0(0x5ad)),_0x176e87[_0x4407a0(0x88c)]=![];}),_0xbc6638[_0x24f887(0xc7e)];}function showTeamPlayerSelection(_0x48c5f1,_0x56b675,_0x3227ca=_0x4813c4(0x727)){const _0x39a93d=_0x4813c4;studentInitialView[_0x39a93d(0xcde)]['add'](_0x39a93d(0xc15)),studentJoinGameView[_0x39a93d(0xcde)][_0x39a93d(0x483)](_0x39a93d(0xc15)),document[_0x39a93d(0x3a5)]('student-team-selection-view')[_0x39a93d(0xcde)][_0x39a93d(0xa30)]('hidden');let _0x15f434=_0x39a93d(0x129);if(_0x3227ca===_0x39a93d(0xac9))_0x15f434='Group\x20Mode';else _0x3227ca===_0x39a93d(0x66c)&&(_0x15f434=_0x39a93d(0x561));document[_0x39a93d(0x3a5)](_0x39a93d(0xab6))[_0x39a93d(0xd68)]=_0x15f434+':\x20'+_0x56b675;const _0x2a66ab=document['getElementById'](_0x39a93d(0x91c));if(!_0x48c5f1||_0x48c5f1[_0x39a93d(0xdbe)]===0x0){_0x2a66ab[_0x39a93d(0xc7e)]=_0x39a93d(0xa63),document['getElementById'](_0x39a93d(0x2fb))[_0x39a93d(0x88c)]=!![];return;}_0x2a66ab[_0x39a93d(0xc7e)]=_0x48c5f1['map'](_0x3c169c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x3c169c+_0x39a93d(0xed)+_0x3c169c+_0x39a93d(0x25c))[_0x39a93d(0x15d)](''),document[_0x39a93d(0x3a5)](_0x39a93d(0x2fb))[_0x39a93d(0x88c)]=![];}async function confirmAndStartTeamQuiz(){const _0x185e9b=_0x4813c4,_0xe9b775=Array[_0x185e9b(0x1a4)](document[_0x185e9b(0x660)](_0x185e9b(0x37f)))[_0x185e9b(0x86c)](_0x44a828=>_0x44a828[_0x185e9b(0x909)]);if(_0xe9b775[_0x185e9b(0xdbe)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0xe9b775,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x911b0f=doc(db,_0x185e9b(0x2b3)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x4092f0=await getDoc(_0x911b0f);if(!_0x4092f0[_0x185e9b(0x3ea)]())throw new Error(_0x185e9b(0x477));const _0x1cb3c6=_0x4092f0[_0x185e9b(0x1ea)]();if(_0x1cb3c6[_0x185e9b(0x12c)]==='group'){const _0x33348b={[_0x185e9b(0x157)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x911b0f,_0x33348b);}else{const _0xbe9db4=_0x1cb3c6[_0x185e9b(0x12d)]||{};localTeamPlayers[_0x185e9b(0x140)](_0x328f31=>{!_0xbe9db4[_0x328f31]&&(_0xbe9db4[_0x328f31]={'score':0x0,'answers':[]});}),await updateDoc(_0x911b0f,{'responses':_0xbe9db4});}document[_0x185e9b(0x3a5)](_0x185e9b(0x502))[_0x185e9b(0xcde)][_0x185e9b(0x483)](_0x185e9b(0xc15)),renderTeamQuizQuestion();const _0x26baaf={'gameId':currentTeamQuizId,'mode':_0x1cb3c6[_0x185e9b(0x12c)]||_0x185e9b(0x727),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x185e9b(0x4d6),JSON[_0x185e9b(0xe22)](_0x26baaf)),listenForTeamQuizUpdates();}catch(_0xeaef5d){console[_0x185e9b(0xabd)](_0x185e9b(0x876),_0xeaef5d),showMessage(_0x185e9b(0xb25));}}async function renderTeamQuizQuestion(){const _0xf7c994=_0x4813c4;if(localQuestionIndex>=currentQuizData[_0xf7c994(0x1bc)][_0xf7c994(0xdbe)]){displayTeamQuizFinalResults();return;}const _0x3e5142=currentQuizData['questions'][localQuestionIndex],_0x29c612=localTeamPlayers[localPlayerIndex],_0x9cd566=_0x3e5142['questionType']||currentQuizData['quizType'];let _0x1b945d=_0x3e5142['stem']||_0x3e5142[_0xf7c994(0x929)],_0x55e48c='';switch(_0x9cd566){case _0xf7c994(0x260):case _0xf7c994(0x43b):_0x55e48c=_0x3e5142[_0xf7c994(0x7f6)][_0xf7c994(0x86c)]((_0x59f455,_0x537f85)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x537f85+_0xf7c994(0x62e)+_0x537f85+_0xf7c994(0xe19)+_0x537f85+'\x22>'+_0x59f455+_0xf7c994(0xbc0))['join']('');break;case'true_false':_0x55e48c=_0xf7c994(0x85d);break;case _0xf7c994(0x311):case _0xf7c994(0x87d):_0x55e48c=_0xf7c994(0x2e9);break;case'matching_item':_0x55e48c=_0xf7c994(0xb6d)+_0x3e5142[_0xf7c994(0xd2c)][_0xf7c994(0x86c)](_0x44971a=>_0xf7c994(0x437)+_0x44971a+'\x22>'+_0x44971a+'</option>')['join']('')+_0xf7c994(0xdfe);break;default:_0x55e48c=_0xf7c994(0xcc0);break;}studentQuizArea[_0xf7c994(0xc7e)]=_0xf7c994(0xb66)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData['questions']['length']+_0xf7c994(0x1ed)+_0x29c612+_0xf7c994(0x261)+(localQuestionIndex+0x1)+'.\x20'+_0x1b945d+_0xf7c994(0x642)+(_0x3e5142[_0xf7c994(0x690)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3e5142[_0xf7c994(0x690)]+'</div>':'')+_0xf7c994(0x228)+_0x55e48c+_0xf7c994(0x77a),studentQuizArea[_0xf7c994(0xcde)][_0xf7c994(0xa30)]('hidden');if(window[_0xf7c994(0xe2)])MathJax[_0xf7c994(0xacf)]([studentQuizArea]);document['getElementById'](_0xf7c994(0x5aa))[_0xf7c994(0x9f0)](_0xf7c994(0x79c),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x38bdfb=_0x4813c4,_0x21781f=currentQuizData[_0x38bdfb(0x1bc)][localQuestionIndex],_0x1146bc=_0x21781f[_0x38bdfb(0x51d)]||currentQuizData[_0x38bdfb(0xa34)];let _0x3ed91e=null,_0x126102=![];if(_0x1146bc===_0x38bdfb(0x311)||_0x1146bc===_0x38bdfb(0x87d)){const _0x18b4c6=document[_0x38bdfb(0x169)](_0x38bdfb(0xa64));if(!_0x18b4c6||!_0x18b4c6[_0x38bdfb(0x909)]['trim']()){showMessage(_0x38bdfb(0x817));return;}_0x3ed91e=_0x18b4c6['value'][_0x38bdfb(0x7f3)](),_0x126102=await gradeShortAnswer(_0x3ed91e,_0x21781f);}else{const _0x28baac=document[_0x38bdfb(0x169)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x28baac||_0x28baac[_0x38bdfb(0x909)]===''){showMessage(_0x38bdfb(0xbc3));return;}_0x3ed91e=_0x28baac[_0x38bdfb(0x909)];switch(_0x1146bc){case _0x38bdfb(0x162):_0x126102=_0x3ed91e===_0x38bdfb(0xa55)===_0x21781f['correctAnswer'];break;case'matching_item':_0x126102=_0x3ed91e===_0x21781f[_0x38bdfb(0x18a)];break;default:_0x126102=parseInt(_0x3ed91e)===_0x21781f[_0x38bdfb(0x54b)];break;}}const _0x35fc01={'questionIndex':localQuestionIndex,'isCorrect':_0x126102},_0x470c77=userId,_0x38e4bc={[_0x38bdfb(0x157)+_0x470c77+_0x38bdfb(0x6e9)]:arrayUnion(_0x35fc01)};_0x126102&&(_0x38e4bc[_0x38bdfb(0x157)+_0x470c77+_0x38bdfb(0xd39)]=increment(0x1));try{await updateDoc(doc(db,_0x38bdfb(0x2b3)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x38e4bc),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x38bdfb(0x1bc)][_0x38bdfb(0xdbe)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x3b7845){console['error'](_0x38bdfb(0xd84),_0x3b7845),showMessage(_0x38bdfb(0xe2f));}}async function handleTeamAnswerSubmit(){const _0xf6a380=_0x4813c4,_0x40a6b3=await getDoc(doc(db,_0xf6a380(0x2b3)+appId+_0xf6a380(0xd1b),currentTeamQuizId));if(!_0x40a6b3[_0xf6a380(0x3ea)]())return;const _0x1c86e5=_0x40a6b3[_0xf6a380(0x1ea)]();if(_0x1c86e5['mode']===_0xf6a380(0xac9)){handleGroupAnswerSubmit();return;}const _0x38a0ed=localTeamPlayers[localPlayerIndex],_0x1dc882=currentQuizData[_0xf6a380(0x1bc)][localQuestionIndex],_0x556d8d=_0x1dc882['questionType']||currentQuizData[_0xf6a380(0xa34)];let _0x44ce8d=null,_0x29a997=![];if(_0x556d8d===_0xf6a380(0x311)||_0x556d8d===_0xf6a380(0x87d)){const _0x136fd2=document[_0xf6a380(0x169)](_0xf6a380(0xa64));if(!_0x136fd2||!_0x136fd2[_0xf6a380(0x909)][_0xf6a380(0x7f3)]()){showMessage(_0xf6a380(0x99e));return;}_0x44ce8d=_0x136fd2[_0xf6a380(0x909)][_0xf6a380(0x7f3)](),_0x29a997=await gradeShortAnswer(_0x44ce8d,_0x1dc882);}else{const _0x2cbbe8=document[_0xf6a380(0x169)](_0xf6a380(0xb84));if(!_0x2cbbe8||_0x2cbbe8['value']===''){showMessage(_0xf6a380(0xbd2));return;}_0x44ce8d=_0x2cbbe8[_0xf6a380(0x909)];switch(_0x556d8d){case _0xf6a380(0x162):_0x29a997=_0x44ce8d==='true'===_0x1dc882[_0xf6a380(0xa25)];break;case _0xf6a380(0x392):_0x29a997=_0x44ce8d===_0x1dc882[_0xf6a380(0x18a)];break;default:_0x29a997=parseInt(_0x44ce8d)===_0x1dc882[_0xf6a380(0x54b)];break;}}const _0x1ade3b={'questionIndex':localQuestionIndex,'isCorrect':_0x29a997,'answerValue':_0x44ce8d},_0x1fd15e={['responses.'+_0x38a0ed+_0xf6a380(0x6e9)]:arrayUnion(_0x1ade3b)};_0x29a997&&(_0x1fd15e[_0xf6a380(0x166)+_0x38a0ed+_0xf6a380(0xd39)]=increment(0x1));try{await updateDoc(doc(db,_0xf6a380(0x2b3)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x1fd15e),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0xf6a380(0xdbe)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x23a3b4){console[_0xf6a380(0xabd)]('Error\x20submitting\x20team\x20answer:',_0x23a3b4),showMessage(_0xf6a380(0xe2f));}}async function displayTeamQuizFinalResults(){const _0x132ee9=_0x4813c4;studentQuizArea[_0x132ee9(0xcde)]['add'](_0x132ee9(0xc15)),studentResultArea['classList']['remove'](_0x132ee9(0xc15));const _0x64d0cc=doc(db,_0x132ee9(0x2b3)+appId+_0x132ee9(0xd1b),currentTeamQuizId),_0x55cd68=await getDoc(_0x64d0cc);if(!_0x55cd68[_0x132ee9(0x3ea)]()){studentResultArea[_0x132ee9(0xc7e)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x5d467c=_0x55cd68['data']();let _0x44dcbe=[];const _0x41ad29=_0x5d467c[_0x132ee9(0x12c)]||'team';if(_0x41ad29==='group'){const _0x50affb=_0x5d467c[_0x132ee9(0x23a)][userId];_0x50affb?_0x44dcbe=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x132ee9(0x15d)](',\x20'),'score':_0x50affb['score']||0x0}]:_0x44dcbe=[{'name':_0x132ee9(0x7d5),'score':'N/A'}];}else _0x44dcbe=localTeamPlayers[_0x132ee9(0x86c)](_0x264e96=>({'name':_0x264e96,'score':_0x5d467c['responses'][_0x264e96]?.[_0x132ee9(0x863)]||0x0}))[_0x132ee9(0x9a1)]((_0x30b73e,_0x5130f5)=>_0x5130f5[_0x132ee9(0x863)]-_0x30b73e['score']);studentResultArea[_0x132ee9(0xc7e)]=_0x132ee9(0xb08)+_0x44dcbe[_0x132ee9(0x86c)](_0x1c8421=>_0x132ee9(0xde8)+_0x1c8421[_0x132ee9(0x4a4)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1c8421[_0x132ee9(0x863)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x132ee9(0x15d)]('')+_0x132ee9(0x2ed),sessionStorage[_0x132ee9(0xaf1)]('activeGameSession'),currentMode===_0x132ee9(0xa16)&&currentTeamQuizId&&setTimeout(()=>{const _0x3d3422=_0x132ee9;deleteDoc(doc(db,_0x3d3422(0x2b3)+appId+_0x3d3422(0xd1b),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x4813c4(0x74a),'pinnedProjects':[],'projectView':_0x4813c4(0x4b3)};const allMathTopics=[{'category':_0x4813c4(0x171),'name':_0x4813c4(0xda)},{'category':'จำนวนและการดำเนินการ','name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x1df)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x572)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x5a6)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x9b0)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x75d)},{'category':'จำนวนและการดำเนินการ','name':'การหาร'},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x9b6)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x26c)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0xdc1)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0xc94)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x324)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x276)},{'category':'จำนวนและการดำเนินการ','name':_0x4813c4(0x5ba)},{'category':'จำนวนและการดำเนินการ','name':_0x4813c4(0xaa2)},{'category':'จำนวนและการดำเนินการ','name':_0x4813c4(0x8b)},{'category':_0x4813c4(0x171),'name':'อัตราและอัตราหน่วย'},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x971)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0xc2e)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x903)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0xdcd)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x5a2)},{'category':'จำนวนและการดำเนินการ','name':_0x4813c4(0x2ec)},{'category':_0x4813c4(0x171),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x4a3)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x57b)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x595)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0xaa)},{'category':'จำนวนและการดำเนินการ','name':_0x4813c4(0xd11)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0xc89)},{'category':_0x4813c4(0x171),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x4813c4(0x171),'name':_0x4813c4(0x8b2)},{'category':_0x4813c4(0x171),'name':_0x4813c4(0xcec)},{'category':'จำนวนและการดำเนินการ','name':'รากที่สองและที่สาม'},{'category':_0x4813c4(0x171),'name':_0x4813c4(0xb6)},{'category':'จำนวนและการดำเนินการ','name':_0x4813c4(0xc33)},{'category':_0x4813c4(0xa01),'name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':_0x4813c4(0x6fe)},{'category':_0x4813c4(0xa01),'name':_0x4813c4(0x71a)},{'category':_0x4813c4(0xa01),'name':_0x4813c4(0xd12)},{'category':_0x4813c4(0xa01),'name':_0x4813c4(0x3cd)},{'category':_0x4813c4(0xa01),'name':_0x4813c4(0x78b)},{'category':_0x4813c4(0xa01),'name':_0x4813c4(0x444)},{'category':_0x4813c4(0xa01),'name':_0x4813c4(0x8ae)},{'category':'การวัด','name':_0x4813c4(0xc1)},{'category':_0x4813c4(0xa01),'name':_0x4813c4(0x8b7)},{'category':_0x4813c4(0xa01),'name':_0x4813c4(0x3e9)},{'category':_0x4813c4(0xa01),'name':_0x4813c4(0xa74)},{'category':_0x4813c4(0xa01),'name':'สเกลและแผนที่'},{'category':_0x4813c4(0xa01),'name':_0x4813c4(0xc61)},{'category':_0x4813c4(0x378),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x4813c4(0x378),'name':_0x4813c4(0x996)},{'category':_0x4813c4(0x378),'name':_0x4813c4(0xd66)},{'category':_0x4813c4(0x378),'name':_0x4813c4(0x8ae)},{'category':'เรขาคณิต','name':_0x4813c4(0x740)},{'category':_0x4813c4(0x378),'name':_0x4813c4(0x266)},{'category':_0x4813c4(0x378),'name':_0x4813c4(0xdf3)},{'category':_0x4813c4(0x378),'name':_0x4813c4(0x8f7)},{'category':_0x4813c4(0x378),'name':_0x4813c4(0xa5f)},{'category':_0x4813c4(0x378),'name':_0x4813c4(0x6d4)},{'category':_0x4813c4(0x378),'name':_0x4813c4(0xdf0)},{'category':_0x4813c4(0x378),'name':_0x4813c4(0x335)},{'category':_0x4813c4(0x378),'name':_0x4813c4(0x77f)},{'category':'เรขาคณิต','name':_0x4813c4(0x207)},{'category':_0x4813c4(0x378),'name':_0x4813c4(0xb5)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x569)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x91f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4813c4(0x388)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x4c7)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0xb45)},{'category':_0x4813c4(0xbb3),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x66a)},{'category':_0x4813c4(0xbb3),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x64c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4813c4(0xcfc)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x75c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4813c4(0x196)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x6d3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4813c4(0x122)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0xb3d)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x867)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x1a3)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0xadf)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x334)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0xb11)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x960)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4813c4(0xce)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x5c2)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x684)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x9ba)},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0xd3)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4813c4(0xe15)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4813c4(0xce3)},{'category':_0x4813c4(0xbb3),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x4813c4(0xbb3),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x4813c4(0xbb3),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4813c4(0x4f2)},{'category':_0x4813c4(0xbb3),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x4813c4(0xbb3),'name':_0x4813c4(0x505)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4813c4(0xbcc)},{'category':_0x4813c4(0xa86),'name':_0x4813c4(0x3d6)},{'category':_0x4813c4(0xa86),'name':_0x4813c4(0xaf6)},{'category':_0x4813c4(0xa86),'name':_0x4813c4(0x964)},{'category':_0x4813c4(0xa86),'name':_0x4813c4(0xc28)},{'category':_0x4813c4(0xa86),'name':_0x4813c4(0x325)},{'category':_0x4813c4(0xa86),'name':_0x4813c4(0xaaa)},{'category':_0x4813c4(0xa86),'name':_0x4813c4(0xef)},{'category':_0x4813c4(0xa86),'name':_0x4813c4(0x1e7)},{'category':_0x4813c4(0x264),'name':_0x4813c4(0xa39)},{'category':_0x4813c4(0x264),'name':_0x4813c4(0x511)},{'category':_0x4813c4(0x264),'name':_0x4813c4(0x6a2)},{'category':_0x4813c4(0x264),'name':_0x4813c4(0x309)},{'category':'ตรีโกณมิติ','name':'กฎของไซน์'},{'category':_0x4813c4(0x264),'name':_0x4813c4(0xd41)},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x4813c4(0x264),'name':_0x4813c4(0x86a)},{'category':_0x4813c4(0x264),'name':_0x4813c4(0x2b2)},{'category':_0x4813c4(0x264),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':'ตรีโกณมิติ','name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x4813c4(0x9f8),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x4813c4(0x9f8),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x4813c4(0x9f8),'name':'ตารางความถี่'},{'category':'สถิติและความน่าจะเป็น','name':_0x4813c4(0x3da)},{'category':_0x4813c4(0x9f8),'name':_0x4813c4(0x451)},{'category':_0x4813c4(0x9f8),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x4813c4(0x9f8),'name':_0x4813c4(0x9db)},{'category':_0x4813c4(0x9f8),'name':_0x4813c4(0xa59)},{'category':_0x4813c4(0x9f8),'name':_0x4813c4(0x616)},{'category':_0x4813c4(0x9f8),'name':_0x4813c4(0x6a1)},{'category':'สถิติและความน่าจะเป็น','name':_0x4813c4(0x2f5)},{'category':_0x4813c4(0x9f8),'name':_0x4813c4(0x1e6)},{'category':_0x4813c4(0x9f8),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':'สถิติและความน่าจะเป็น','name':_0x4813c4(0x410)},{'category':_0x4813c4(0x9f8),'name':_0x4813c4(0x153)},{'category':'สถิติและความน่าจะเป็น','name':_0x4813c4(0xc19)},{'category':'สถิติและความน่าจะเป็น','name':_0x4813c4(0x9c1)},{'category':'สถิติและความน่าจะเป็น','name':_0x4813c4(0x4ee)},{'category':_0x4813c4(0x9f8),'name':_0x4813c4(0x9ce)},{'category':'สถิติและความน่าจะเป็น','name':_0x4813c4(0x9e4)},{'category':_0x4813c4(0x9f8),'name':_0x4813c4(0x875)},{'category':_0x4813c4(0x9f8),'name':_0x4813c4(0x970)},{'category':_0x4813c4(0x9f8),'name':_0x4813c4(0x1f9)},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x4813c4(0x8e4),'name':_0x4813c4(0xe11)},{'category':_0x4813c4(0x8e4),'name':_0x4813c4(0x873)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4813c4(0x447)},{'category':_0x4813c4(0x8e4),'name':_0x4813c4(0xdf1)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4813c4(0x5d7)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4813c4(0xaa4)},{'category':_0x4813c4(0x8e4),'name':'ความชันเส้นสัมผัส'},{'category':_0x4813c4(0x8e4),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':'แคลคูลัสเบื้องต้น','name':_0x4813c4(0xb13)},{'category':_0x4813c4(0x8e4),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x4813c4(0x8e4),'name':_0x4813c4(0x7b4)},{'category':_0x4813c4(0x8e4),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x4813c4(0x8e4),'name':_0x4813c4(0x762)},{'category':_0x4813c4(0x5fc),'name':_0x4813c4(0xb14)},{'category':_0x4813c4(0x5fc),'name':_0x4813c4(0x48c)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4813c4(0x432)},{'category':_0x4813c4(0x5fc),'name':_0x4813c4(0x70f)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4813c4(0xbf2)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4813c4(0xad3)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4813c4(0x3cc)},{'category':_0x4813c4(0x3ad),'name':_0x4813c4(0xd5c)},{'category':_0x4813c4(0x3ad),'name':_0x4813c4(0x38b)},{'category':_0x4813c4(0x3ad),'name':_0x4813c4(0xc1d)},{'category':_0x4813c4(0x3ad),'name':_0x4813c4(0x422)},{'category':_0x4813c4(0xb6e),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x4813c4(0xb6e),'name':'รูปแบบการให้เหตุผล'},{'category':_0x4813c4(0xb6e),'name':_0x4813c4(0x247)}];function renderTopicCheckboxes(){const _0xd82a8f=_0x4813c4,_0x2c5824=document[_0xd82a8f(0x3a5)](_0xd82a8f(0x14a));if(!_0x2c5824)return;const _0x373647=allMathTopics,_0x2805d8=customMathTopics[_0xd82a8f(0x86c)](_0x5f0d00=>({'id':_0x5f0d00['id'],'category':_0xd82a8f(0x8da),'name':_0x5f0d00[_0xd82a8f(0x4a4)]})),_0xed5a7b=[..._0x373647,..._0x2805d8],_0xd2d00a=_0xed5a7b[_0xd82a8f(0x4c5)]((_0xb9c40e,_0x28e4c4)=>{const _0x4ca81e=_0xd82a8f;return!_0xb9c40e[_0x28e4c4[_0x4ca81e(0x3b7)]]&&(_0xb9c40e[_0x28e4c4[_0x4ca81e(0x3b7)]]=[]),_0xb9c40e[_0x28e4c4[_0x4ca81e(0x3b7)]][_0x4ca81e(0x8a5)](_0x28e4c4),_0xb9c40e;},{});let _0x5da250='';const _0x4f03dc=[_0xd82a8f(0x8da),...Object[_0xd82a8f(0xaab)](_0xd2d00a)[_0xd82a8f(0xd05)](_0x5699ef=>_0x5699ef!==_0xd82a8f(0x8da))];for(const _0x571f72 of _0x4f03dc){if(_0xd2d00a[_0x571f72]){const _0x566483=_0x571f72==='หัวข้อที่สร้างเอง',_0x7eacad=_0x566483?_0xd82a8f(0xd96):_0xd82a8f(0xd71),_0x31b664=_0x566483?_0xd82a8f(0xd4d):'text-indigo-700';_0x5da250+=_0xd82a8f(0xdfc),_0x5da250+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x31b664+_0xd82a8f(0x4d8)+_0x7eacad+_0xd82a8f(0x1f8)+_0x571f72+_0xd82a8f(0x340),_0xd2d00a[_0x571f72][_0xd82a8f(0x140)](_0x13d792=>{const _0x4d03d2=_0xd82a8f,_0x24e148=!!_0x13d792['id'],_0x51e870=_0x24e148?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x13d792['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x13d792['id']+_0x4d03d2(0x6c8)+_0x13d792['id']+_0x4d03d2(0x923)+_0x13d792['id']+_0x4d03d2(0x812):'';_0x5da250+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x13d792['id']||'')+_0x4d03d2(0x79d)+_0x13d792[_0x4d03d2(0x4a4)]+_0x4d03d2(0x967)+_0x13d792[_0x4d03d2(0x4a4)]+_0x4d03d2(0xd32)+(_0x24e148?_0x4d03d2(0x3f3)+_0x13d792['name']+'\x22>':'')+_0x4d03d2(0x9fd)+_0x51e870+_0x4d03d2(0xb7a);}),_0x5da250+='</div>';}}_0x2c5824[_0xd82a8f(0xc7e)]=_0x5da250||_0xd82a8f(0x252),_0x2c5824['removeEventListener'](_0xd82a8f(0xdff),updateSelectedTopicsCount),_0x2c5824[_0xd82a8f(0x9f0)](_0xd82a8f(0xdff),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x9b9634,_0xcda57e){const _0x28154d=_0x4813c4;if(!_0x9b9634||!_0xcda57e['trim']()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x316eae=doc(db,_0x28154d(0x2b3)+appId+'/public/data/customMathTopics',_0x9b9634);await updateDoc(_0x316eae,{'name':_0xcda57e[_0x28154d(0x7f3)]()}),showMessage(_0x28154d(0xcda));}catch(_0x45fad3){console[_0x28154d(0xabd)](_0x28154d(0xc6b),_0x45fad3),showMessage(_0x28154d(0xa4));}}function toggleTopicEditMode(_0x485751,_0x1f850e){const _0x119903=_0x4813c4;if(!_0x485751)return;const _0x41e6ca=_0x485751[_0x119903(0x169)](_0x119903(0x981)),_0x541ee7=_0x485751['querySelector'](_0x119903(0x272)),_0x346509=_0x485751['querySelector'](_0x119903(0x52a)),_0x417375=_0x485751[_0x119903(0x169)]('.topic-actions-edit');_0x41e6ca[_0x119903(0xcde)][_0x119903(0x1a2)](_0x119903(0xc15),_0x1f850e),_0x541ee7['classList'][_0x119903(0x1a2)](_0x119903(0xc15),!_0x1f850e),_0x346509[_0x119903(0xcde)]['toggle'](_0x119903(0xc15),_0x1f850e),_0x417375['classList'][_0x119903(0x1a2)](_0x119903(0xc15),!_0x1f850e),_0x1f850e&&(_0x541ee7[_0x119903(0x4af)](),_0x541ee7['select']());}async function handleStartLiveRace(_0xacc150){const _0x218227=_0x4813c4;let _0x31adf2=allQuizzes[_0x218227(0x5d9)](_0xfa8ef8=>_0xfa8ef8['id']===_0xacc150);if(!_0x31adf2){const _0x27c265=doc(db,_0x218227(0x2b3)+appId+_0x218227(0x60d),_0xacc150),_0x5ba2f5=await getDoc(_0x27c265);if(!_0x5ba2f5['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x31adf2={'id':_0x5ba2f5['id'],..._0x5ba2f5[_0x218227(0x1ea)]()};}const _0xcbfb57=getShuffledQuiz(_0x31adf2);currentQuizData=_0xcbfb57;const _0x18da0e=_0x31adf2['projectId']||currentProjectId||null,_0x551cea=Math[_0x218227(0x304)](0x3e8+Math[_0x218227(0x89e)]()*0x2328)['toString']();currentLiveGamePin=_0x551cea;try{const _0x85ad8c=await addDoc(collection(db,_0x218227(0x2b3)+appId+_0x218227(0xd18)),{'quizId':_0xacc150,'projectId':_0x18da0e,'status':_0x218227(0x1b6),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x551cea,'createdAt':serverTimestamp(),'shuffledQuiz':_0xcbfb57});currentLiveGameId=_0x85ad8c['id'],showAdminLobbyView(_0x551cea,_0x31adf2[_0x218227(0x1e8)]),listenForLiveGameUpdates();}catch(_0x5170a3){console[_0x218227(0xabd)](_0x218227(0x3f1),_0x5170a3),showMessage(_0x218227(0xc4));}}function updateSelectedTopicsCount(){const _0x245121=_0x4813c4,_0x31cfd4=document[_0x245121(0x3a5)](_0x245121(0x14a)),_0x32c7c5=_0x31cfd4[_0x245121(0x660)](_0x245121(0x44e))[_0x245121(0xdbe)],_0x2663c3=document[_0x245121(0x3a5)](_0x245121(0x7c2));_0x32c7c5>0x0?_0x2663c3['textContent']=_0x245121(0xb8a)+_0x32c7c5+_0x245121(0x778):_0x2663c3[_0x245121(0xd68)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x4813c4(0x6e2),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x4813c4(0xb35),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x4813c4(0x113),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x4813c4(0x2a6),scratchpadPenColor=_0x4813c4(0xbd3),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x14ddaa,_0x34cd8a){const _0x1ff49=_0x4813c4;return Math[_0x1ff49(0x50a)](Math[_0x1ff49(0x91a)](_0x14ddaa['x']-_0x34cd8a['x'],0x2)+Math[_0x1ff49(0x91a)](_0x14ddaa['y']-_0x34cd8a['y'],0x2));}function getMidpoint(_0xd3aa82,_0x1a3eb8){return{'x':(_0xd3aa82['x']+_0x1a3eb8['x'])/0x2,'y':(_0xd3aa82['y']+_0x1a3eb8['y'])/0x2};}function getTransformedPoint(_0x32fbd9,_0x103b80){return{'x':(_0x32fbd9-scratchpadOffset['x'])/scratchpadScale,'y':(_0x103b80-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x3aac09=_0x4813c4;if(!scratchpadCtx)return;const _0x146dff=scratchpadCtx['canvas'],_0x2fc34f=window[_0x3aac09(0x16c)]||0x1,_0x373b9e=document[_0x3aac09(0x3a5)](_0x3aac09(0x42b));_0x373b9e&&(_0x373b9e[_0x3aac09(0x40d)][_0x3aac09(0xbff)]=_0x3aac09(0x857),_0x373b9e[_0x3aac09(0x40d)][_0x3aac09(0x68c)]='translate('+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x3aac09(0x34b)+scratchpadScale+')'),scratchpadCtx[_0x3aac09(0xa47)](),scratchpadCtx[_0x3aac09(0x249)](_0x2fc34f,0x0,0x0,_0x2fc34f,0x0,0x0),scratchpadCtx[_0x3aac09(0x90f)](0x0,0x0,_0x146dff[_0x3aac09(0x7e9)],_0x146dff[_0x3aac09(0x65f)]),scratchpadCtx[_0x3aac09(0x2ae)](),scratchpadCtx[_0x3aac09(0xa47)](),scratchpadCtx[_0x3aac09(0x10e)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x3aac09(0x3a8)](scratchpadScale,scratchpadScale),strokes[_0x3aac09(0x140)](_0x362dec=>{drawStroke(_0x362dec);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x3aac09(0x2ae)]();}function renderGroupModeQuestion(){const _0x415304=_0x4813c4;if(localQuestionIndex>=currentQuizData[_0x415304(0x1bc)][_0x415304(0xdbe)]){displayTeamQuizFinalResults();return;}const _0x382589=currentQuizData[_0x415304(0x1bc)][localQuestionIndex],_0x457604=_0x382589[_0x415304(0x51d)]||currentQuizData[_0x415304(0xa34)];let _0xbfe169=_0x382589[_0x415304(0xd4c)]||_0x382589[_0x415304(0x929)],_0x237ea9='';switch(_0x457604){case _0x415304(0x260):case _0x415304(0x43b):_0x237ea9=_0x382589['options'][_0x415304(0x86c)]((_0x350e3e,_0x5e7ea1)=>_0x415304(0xbc1)+_0x5e7ea1+_0x415304(0x62e)+_0x5e7ea1+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x5e7ea1+'\x22>'+_0x350e3e+'</label></div>')[_0x415304(0x15d)]('');break;case _0x415304(0x162):_0x237ea9='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x415304(0x311):case _0x415304(0x87d):_0x237ea9=_0x415304(0x7b2);break;case'matching_item':_0x237ea9=_0x415304(0xb6d)+_0x382589[_0x415304(0xd2c)][_0x415304(0x86c)](_0x55abd2=>_0x415304(0x437)+_0x55abd2+'\x22>'+_0x55abd2+_0x415304(0xc01))[_0x415304(0x15d)]('')+_0x415304(0xdfe);break;default:_0x237ea9=_0x415304(0xcc0);break;}studentQuizArea[_0x415304(0xc7e)]=_0x415304(0xb66)+(localQuestionIndex+0x1)+_0x415304(0x6eb)+currentQuizData['questions']['length']+_0x415304(0x4e1)+localTeamPlayers['join'](',\x20')+_0x415304(0x261)+(localQuestionIndex+0x1)+'.\x20'+_0xbfe169+_0x415304(0x642)+(_0x382589['imageCode']?_0x415304(0xca9)+_0x382589[_0x415304(0x690)]+_0x415304(0x2fc):'')+_0x415304(0x228)+_0x237ea9+_0x415304(0x18f),studentQuizArea['classList']['remove'](_0x415304(0xc15));if(window['MathJax'])MathJax[_0x415304(0xacf)]([studentQuizArea]);document[_0x415304(0x3a5)](_0x415304(0xccd))[_0x415304(0x9f0)](_0x415304(0x79c),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x1a4953,_0x1e39a2=null,_0x2deabd,_0xd3d111=null,_0x4a59af=![],_0x309f72=null){const _0x4c9463=_0x4813c4,_0x49ffb5=document[_0x4c9463(0x3a5)]('quiz-generation-area');_0x49ffb5&&_0x49ffb5[_0x4c9463(0xc82)]({'behavior':_0x4c9463(0xe8),'block':_0x4c9463(0xd36)}),generateQuiz(_0x1a4953,_0x1e39a2,null,_0x309f72,!![],_0x2deabd,_0xd3d111,_0x4a59af);}function handleGenerateAndShowLesson(_0x1aabf4,_0x28164a){const _0x5988f4=_0x4813c4,_0x447f1f=document[_0x5988f4(0x3a5)](_0x5988f4(0x40a)),_0x1c5260=document[_0x5988f4(0x3a5)](_0x5988f4(0x12b)),_0x5c5551=document['getElementById'](_0x5988f4(0xc26)),_0x176133=document[_0x5988f4(0x3a5)](_0x5988f4(0xa45));['pointContent',_0x5988f4(0xa32),_0x5988f4(0xd97),_0x5988f4(0x6fd)][_0x5988f4(0x140)](_0x2dfa26=>{const _0x2cb087=_0x5988f4,_0x2c15c7=document[_0x2cb087(0x3a5)](_0x2dfa26)[_0x2cb087(0x589)];_0x2c15c7&&(_0x2c15c7['style'][_0x2cb087(0x4c3)]=_0x2cb087(0xca2));}),_0x1c5260[_0x5988f4(0xd68)]=_0x5988f4(0x80a)+_0x1aabf4,_0x176133[_0x5988f4(0xcde)][_0x5988f4(0x483)](_0x5988f4(0xc15)),_0x5c5551[_0x5988f4(0xcde)][_0x5988f4(0xa30)]('hidden'),_0x447f1f[_0x5988f4(0xcde)][_0x5988f4(0xa30)](_0x5988f4(0xc15)),generateLesson(_0x1aabf4,_0x28164a)['catch'](_0x4e46cd=>{const _0xedde0d=_0x5988f4;console[_0xedde0d(0xabd)]('Failed\x20to\x20generate\x20lesson:',_0x4e46cd),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x447f1f[_0xedde0d(0xcde)]['add'](_0xedde0d(0xc15));});}function handlePointerDown(_0x2a882f){const _0x453cc3=_0x4813c4;_0x2a882f[_0x453cc3(0xb49)]();const _0x8c9d34=scratchpadCtx[_0x453cc3(0xbbf)],_0x187c7b=_0x8c9d34[_0x453cc3(0x880)](),_0x1f2123=_0x2a882f[_0x453cc3(0x2e6)]||(_0x2a882f[_0x453cc3(0x75e)]?_0x453cc3(0x5a9):_0x453cc3(0xa90));if(_0x1f2123===_0x453cc3(0x2a6)||_0x1f2123===_0x453cc3(0xa90)){if(_0x2a882f[_0x453cc3(0x2e6)]===_0x453cc3(0xa90)&&_0x2a882f[_0x453cc3(0xe1d)]!==0x0){_0x2a882f[_0x453cc3(0xe1d)]===0x1&&(isMousePanning=!![],panStart={'x':_0x2a882f['clientX'],'y':_0x2a882f[_0x453cc3(0xaca)]},_0x8c9d34['style']['cursor']=_0x453cc3(0x6cb));return;}activeTool===_0x453cc3(0x41f)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x51b52b=getTransformedPoint(_0x2a882f[_0x453cc3(0xb99)]-_0x187c7b[_0x453cc3(0x56f)],_0x2a882f[_0x453cc3(0xaca)]-_0x187c7b[_0x453cc3(0x3ef)]);let _0x5aa560={'tool':activeTool,'points':[_0x51b52b]};if(activeTool==='pen')_0x5aa560[_0x453cc3(0x18d)]=scratchpadPenColor,_0x5aa560[_0x453cc3(0xd52)]=scratchpadPenSize;else{if(activeTool===_0x453cc3(0x6f1))_0x5aa560[_0x453cc3(0x18d)]=scratchpadPenColor,_0x5aa560[_0x453cc3(0xd52)]=scratchpadEraserSize;else{if(activeTool===_0x453cc3(0xc4d))_0x5aa560['color']=scratchpadHighlighterColor,_0x5aa560[_0x453cc3(0xd52)]=scratchpadHighlighterSize;else activeTool===_0x453cc3(0x41f)&&(_0x5aa560['color']=scratchpadPenColor,_0x5aa560[_0x453cc3(0xd52)]=scratchpadPenSize);}}currentStroke=_0x5aa560;}else _0x2a882f[_0x453cc3(0x75e)]&&(_0x2a882f[_0x453cc3(0x75e)][_0x453cc3(0xdbe)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2a882f['touches'][0x0][_0x453cc3(0xb99)],'y':_0x2a882f['touches'][0x0][_0x453cc3(0xaca)]},{'x':_0x2a882f[_0x453cc3(0x75e)][0x1]['clientX'],'y':_0x2a882f[_0x453cc3(0x75e)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x2a882f[_0x453cc3(0x75e)][0x0][_0x453cc3(0xb99)],'y':_0x2a882f['touches'][0x0]['clientY']},{'x':_0x2a882f[_0x453cc3(0x75e)][0x1][_0x453cc3(0xb99)],'y':_0x2a882f[_0x453cc3(0x75e)][0x1][_0x453cc3(0xaca)]})));}function animateTrail(){const _0x53c6f4=_0x4813c4,_0x330749=Date['now']();let _0x48a41d=![];for(let _0x3a67e9=strokes[_0x53c6f4(0xdbe)]-0x1;_0x3a67e9>=0x0;_0x3a67e9--){const _0x58c185=strokes[_0x3a67e9];if(_0x58c185[_0x53c6f4(0x89)]===_0x53c6f4(0x41f)&&_0x58c185['fadeStartTime']){const _0x25400a=_0x330749-_0x58c185['fadeStartTime'];_0x25400a>=TRAIL_DURATION?strokes['splice'](_0x3a67e9,0x1):(_0x58c185['opacity']=0x1-_0x25400a/TRAIL_DURATION,_0x48a41d=!![]);}}redrawScratchpad(),_0x48a41d?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x2f6f75){const _0x5726cf=_0x4813c4;if(!_0x2f6f75||_0x2f6f75[_0x5726cf(0x5da)][_0x5726cf(0xdbe)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx['lineJoin']=_0x5726cf(0xb23),scratchpadCtx['lineCap']=_0x5726cf(0xb23);if(_0x2f6f75['tool']===_0x5726cf(0x41f)){const _0x98a73a=_0x2f6f75[_0x5726cf(0xd52)]/scratchpadScale;scratchpadCtx[_0x5726cf(0x1da)]=_0x2f6f75[_0x5726cf(0xae)]??0x1,scratchpadCtx[_0x5726cf(0x19b)]=_0x5726cf(0x318),scratchpadCtx[_0x5726cf(0x7a1)]=_0x98a73a*0x3,scratchpadCtx[_0x5726cf(0xb2e)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x5726cf(0x124)]=_0x98a73a*2.5,scratchpadCtx[_0x5726cf(0xa12)](),scratchpadCtx[_0x5726cf(0x45d)](_0x2f6f75[_0x5726cf(0x5da)][0x0]['x'],_0x2f6f75[_0x5726cf(0x5da)][0x0]['y']);for(let _0x339236=0x1;_0x339236<_0x2f6f75[_0x5726cf(0x5da)][_0x5726cf(0xdbe)]-0x1;_0x339236++){const _0x10646f=getMidpoint(_0x2f6f75[_0x5726cf(0x5da)][_0x339236],_0x2f6f75[_0x5726cf(0x5da)][_0x339236+0x1]);scratchpadCtx[_0x5726cf(0x137)](_0x2f6f75['points'][_0x339236]['x'],_0x2f6f75[_0x5726cf(0x5da)][_0x339236]['y'],_0x10646f['x'],_0x10646f['y']);}scratchpadCtx[_0x5726cf(0xaa0)](),scratchpadCtx[_0x5726cf(0x19b)]=_0x5726cf(0xe1c),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x5726cf(0xb2e)]=_0x5726cf(0x748),scratchpadCtx[_0x5726cf(0x124)]=_0x98a73a,scratchpadCtx[_0x5726cf(0xaa0)](),scratchpadCtx['closePath']();}else{if(_0x2f6f75[_0x5726cf(0x89)]==='highlighter'){scratchpadCtx[_0x5726cf(0x331)]=_0x5726cf(0x83c),scratchpadCtx[_0x5726cf(0xb2e)]=_0x2f6f75[_0x5726cf(0x18d)],scratchpadCtx[_0x5726cf(0x124)]=_0x2f6f75[_0x5726cf(0xd52)],scratchpadCtx[_0x5726cf(0xa12)](),scratchpadCtx[_0x5726cf(0x45d)](_0x2f6f75[_0x5726cf(0x5da)][0x0]['x'],_0x2f6f75[_0x5726cf(0x5da)][0x0]['y']);for(let _0x1a365b=0x1;_0x1a365b<_0x2f6f75[_0x5726cf(0x5da)]['length']-0x1;_0x1a365b++){const _0x2da22c=getMidpoint(_0x2f6f75['points'][_0x1a365b],_0x2f6f75[_0x5726cf(0x5da)][_0x1a365b+0x1]);scratchpadCtx[_0x5726cf(0x137)](_0x2f6f75[_0x5726cf(0x5da)][_0x1a365b]['x'],_0x2f6f75['points'][_0x1a365b]['y'],_0x2da22c['x'],_0x2da22c['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}else{scratchpadCtx[_0x5726cf(0x331)]=_0x2f6f75[_0x5726cf(0x89)]===_0x5726cf(0x6f1)?_0x5726cf(0xbfa):_0x5726cf(0x95a),scratchpadCtx['strokeStyle']=_0x2f6f75[_0x5726cf(0x18d)],scratchpadCtx[_0x5726cf(0x124)]=_0x2f6f75[_0x5726cf(0xd52)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x5726cf(0x45d)](_0x2f6f75[_0x5726cf(0x5da)][0x0]['x'],_0x2f6f75[_0x5726cf(0x5da)][0x0]['y']);for(let _0x55d172=0x1;_0x55d172<_0x2f6f75[_0x5726cf(0x5da)]['length']-0x1;_0x55d172++){const _0x2035a4=getMidpoint(_0x2f6f75[_0x5726cf(0x5da)][_0x55d172],_0x2f6f75[_0x5726cf(0x5da)][_0x55d172+0x1]);scratchpadCtx[_0x5726cf(0x137)](_0x2f6f75[_0x5726cf(0x5da)][_0x55d172]['x'],_0x2f6f75[_0x5726cf(0x5da)][_0x55d172]['y'],_0x2035a4['x'],_0x2035a4['y']);}scratchpadCtx[_0x5726cf(0xaa0)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x5726cf(0x2ae)]();}function handlePointerMove(_0x441b83){const _0x2cd6e1=_0x4813c4;_0x441b83[_0x2cd6e1(0xb49)]();const _0x3d3d19=scratchpadCtx[_0x2cd6e1(0xbbf)],_0x3ce502=_0x3d3d19[_0x2cd6e1(0x880)]();if(_0x441b83[_0x2cd6e1(0x75e)]){if(_0x441b83[_0x2cd6e1(0x75e)][_0x2cd6e1(0xdbe)]===0x1&&isDrawingOnScratchpad){const _0x1e0ea1=getTransformedPoint(_0x441b83[_0x2cd6e1(0x75e)][0x0][_0x2cd6e1(0xb99)]-_0x3ce502['left'],_0x441b83[_0x2cd6e1(0x75e)][0x0]['clientY']-_0x3ce502[_0x2cd6e1(0x3ef)]);currentStroke[_0x2cd6e1(0x5da)][_0x2cd6e1(0x8a5)](_0x1e0ea1),redrawScratchpad();}else{if(_0x441b83[_0x2cd6e1(0x75e)][_0x2cd6e1(0xdbe)]===0x2&&isPanning){const _0x49482e=getDistance({'x':_0x441b83[_0x2cd6e1(0x75e)][0x0][_0x2cd6e1(0xb99)],'y':_0x441b83[_0x2cd6e1(0x75e)][0x0][_0x2cd6e1(0xaca)]},{'x':_0x441b83[_0x2cd6e1(0x75e)][0x1]['clientX'],'y':_0x441b83[_0x2cd6e1(0x75e)][0x1][_0x2cd6e1(0xaca)]}),_0x2b0e37=getMidpoint({'x':_0x441b83[_0x2cd6e1(0x75e)][0x0][_0x2cd6e1(0xb99)],'y':_0x441b83[_0x2cd6e1(0x75e)][0x0][_0x2cd6e1(0xaca)]},{'x':_0x441b83['touches'][0x1]['clientX'],'y':_0x441b83[_0x2cd6e1(0x75e)][0x1][_0x2cd6e1(0xaca)]}),_0x1b44fa=_0x49482e/ initialPinchDistance,_0x19b203=Math[_0x2cd6e1(0xcfb)](Math[_0x2cd6e1(0x4c9)](scratchpadScale*_0x1b44fa,MIN_SCALE),MAX_SCALE),_0x5c6c6b=_0x2b0e37['x']-panStart['x'],_0x35d702=_0x2b0e37['y']-panStart['y'];scratchpadOffset['x']=_0x2b0e37['x']-(_0x2b0e37['x']-scratchpadOffset['x'])*(_0x19b203/scratchpadScale),scratchpadOffset['y']=_0x2b0e37['y']-(_0x2b0e37['y']-scratchpadOffset['y'])*(_0x19b203/scratchpadScale),scratchpadOffset['x']+=_0x5c6c6b,scratchpadOffset['y']+=_0x35d702,scratchpadScale=_0x19b203,initialPinchDistance=_0x49482e,panStart=_0x2b0e37,redrawScratchpad();}}}else{if(isMousePanning){const _0x51273a=_0x441b83[_0x2cd6e1(0xb99)]-panStart['x'],_0x1d6bcb=_0x441b83[_0x2cd6e1(0xaca)]-panStart['y'];scratchpadOffset['x']+=_0x51273a,scratchpadOffset['y']+=_0x1d6bcb,panStart={'x':_0x441b83[_0x2cd6e1(0xb99)],'y':_0x441b83[_0x2cd6e1(0xaca)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x21cfcf=getTransformedPoint(_0x441b83['clientX']-_0x3ce502[_0x2cd6e1(0x56f)],_0x441b83[_0x2cd6e1(0xaca)]-_0x3ce502[_0x2cd6e1(0x3ef)]);currentStroke['points'][_0x2cd6e1(0x8a5)](_0x21cfcf),redrawScratchpad();}}}}function handlePointerUp(_0x6b925f){const _0x5f4ddb=_0x4813c4;_0x6b925f['preventDefault']();const _0x467d32=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x467d32[_0x5f4ddb(0x40d)][_0x5f4ddb(0x759)]=_0x5f4ddb(0x28a)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points']['length']>0x1&&(strokes[_0x5f4ddb(0x8a5)](currentStroke),currentStroke[_0x5f4ddb(0x89)]===_0x5f4ddb(0x41f)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x434ea8=_0x5f4ddb,_0xfff3ac=strokes[_0x434ea8(0xd05)](_0xf5c623=>_0xf5c623[_0x434ea8(0x89)]===_0x434ea8(0x41f)&&!_0xf5c623[_0x434ea8(0x9be)]);if(_0xfff3ac['length']>0x0){const _0xee1e36=Date['now']();_0xfff3ac[_0x434ea8(0x140)](_0x1d2c00=>_0x1d2c00['fadeStartTime']=_0xee1e36),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x268373){const _0x4192b6=_0x4813c4;_0x268373[_0x4192b6(0xb49)]();const _0x44c282=_0x268373[_0x4192b6(0xcf2)]*-0.005,_0x156338=Math[_0x4192b6(0xcfb)](Math[_0x4192b6(0x4c9)](scratchpadScale+_0x44c282,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x268373[_0x4192b6(0xb99)]-(_0x268373[_0x4192b6(0xb99)]-scratchpadOffset['x'])*(_0x156338/scratchpadScale),scratchpadOffset['y']=_0x268373['clientY']-(_0x268373[_0x4192b6(0xaca)]-scratchpadOffset['y'])*(_0x156338/scratchpadScale),scratchpadScale=_0x156338,redrawScratchpad();}function undo(){const _0x441866=_0x4813c4;strokes[_0x441866(0xdbe)]>0x0&&(redoStrokes[_0x441866(0x8a5)](strokes[_0x441866(0xc8b)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x264a03=_0x4813c4;redoStrokes[_0x264a03(0xdbe)]>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x406b5d=_0x4813c4;document[_0x406b5d(0x3a5)]('undo-btn')[_0x406b5d(0x88c)]=strokes[_0x406b5d(0xdbe)]===0x0,document[_0x406b5d(0x3a5)](_0x406b5d(0x84f))[_0x406b5d(0x88c)]=redoStrokes[_0x406b5d(0xdbe)]===0x0;}function openScratchpad(_0x381eee,_0x181a2a){const _0x414f60=_0x4813c4,_0x17df00=document['getElementById'](_0x414f60(0x4c8)),_0x3dea5d=document[_0x414f60(0x3a5)](_0x414f60(0x4ae)),_0x10830c=document[_0x414f60(0x3a5)](_0x414f60(0x74d)),_0x118737=document['getElementById'](_0x414f60(0x5d0));_0x3dea5d[_0x414f60(0xc7e)]=_0x381eee[_0x414f60(0xd4c)]||_0x381eee[_0x414f60(0x929)],_0x10830c[_0x414f60(0xc7e)]=_0x181a2a['map']((_0x3c3c33,_0x5741d0)=>'<div>'+String[_0x414f60(0x612)](0x41+_0x5741d0)+'.\x20'+_0x3c3c33+_0x414f60(0x2fc))[_0x414f60(0x15d)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x17df00[_0x414f60(0xcde)][_0x414f60(0xa30)](_0x414f60(0xc15)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x414f60(0xacf)]([_0x3dea5d,_0x10830c]);}function openBlueprintQuizSettings(){const _0x2d980e=_0x4813c4,_0x4c91da=document[_0x2d980e(0x3a5)](_0x2d980e(0xc2d)),_0x4a8047=blueprintPageSettings||(currentProjectData?currentProjectData[_0x2d980e(0x436)]:{})||{};document[_0x2d980e(0x3a5)](_0x2d980e(0x881))[_0x2d980e(0x909)]=_0x4a8047[_0x2d980e(0xa34)]||document[_0x2d980e(0x3a5)](_0x2d980e(0x28c))['value'],document[_0x2d980e(0x3a5)](_0x2d980e(0x8a7))['innerHTML']=document[_0x2d980e(0x3a5)](_0x2d980e(0xd22))[_0x2d980e(0xc7e)],document[_0x2d980e(0x3a5)](_0x2d980e(0x8a7))[_0x2d980e(0x909)]=_0x4a8047['difficultyValue']||document[_0x2d980e(0x3a5)]('difficulty-level-select')[_0x2d980e(0x909)],document[_0x2d980e(0x3a5)](_0x2d980e(0x4ea))[_0x2d980e(0xc7e)]=document['getElementById']('question-complexity-select')[_0x2d980e(0xc7e)],document[_0x2d980e(0x3a5)](_0x2d980e(0x4ea))[_0x2d980e(0x909)]=_0x4a8047[_0x2d980e(0x3a4)]||document[_0x2d980e(0x3a5)](_0x2d980e(0x8fb))[_0x2d980e(0x909)],document[_0x2d980e(0x3a5)](_0x2d980e(0x503))['value']=_0x4a8047['numQuestions']||document['getElementById'](_0x2d980e(0x118))['value'],document[_0x2d980e(0x3a5)](_0x2d980e(0xb36))[_0x2d980e(0x909)]=_0x4a8047[_0x2d980e(0xb9e)]||document[_0x2d980e(0x3a5)](_0x2d980e(0x5c3))[_0x2d980e(0x909)],document[_0x2d980e(0x3a5)](_0x2d980e(0x291))[_0x2d980e(0x909)]=_0x4a8047[_0x2d980e(0x98d)]||document[_0x2d980e(0x3a5)](_0x2d980e(0x456))[_0x2d980e(0x909)],document[_0x2d980e(0x3a5)](_0x2d980e(0x541))[_0x2d980e(0x909)]=_0x4a8047[_0x2d980e(0x2c1)]||document[_0x2d980e(0x3a5)]('shuffle-setting-select')['value'],document[_0x2d980e(0x3a5)](_0x2d980e(0x131))[_0x2d980e(0x2e0)]=_0x4a8047[_0x2d980e(0x4f7)]||document[_0x2d980e(0x3a5)]('include-images-checkbox')[_0x2d980e(0x2e0)],_0x4c91da[_0x2d980e(0xcde)][_0x2d980e(0xa30)](_0x2d980e(0xc15));}function handleSaveBlueprintPageSettings(){const _0x59d089=_0x4813c4;blueprintPageSettings={'quizType':document[_0x59d089(0x3a5)]('bp-modal-quiz-type-select')[_0x59d089(0x909)],'difficultyValue':document[_0x59d089(0x3a5)](_0x59d089(0x8a7))[_0x59d089(0x909)],'complexityValue':document['getElementById'](_0x59d089(0x4ea))['value'],'numQuestions':document['getElementById'](_0x59d089(0x503))['value'],'passingScore':document[_0x59d089(0x3a5)](_0x59d089(0xb36))[_0x59d089(0x909)],'numChoices':document['getElementById'](_0x59d089(0x291))[_0x59d089(0x909)],'shuffle':document[_0x59d089(0x3a5)](_0x59d089(0x541))[_0x59d089(0x909)],'includeImages':document['getElementById'](_0x59d089(0x131))[_0x59d089(0x2e0)]},showMessage(_0x59d089(0x597)),document['getElementById']('blueprint-settings-modal')[_0x59d089(0xcde)][_0x59d089(0x483)](_0x59d089(0xc15));}function listenForParallelTestShortcuts(){const _0x530b70=_0x4813c4,_0x494972=doc(db,_0x530b70(0xb67),_0x530b70(0x747));onSnapshot(_0x494972,_0xa04155=>{const _0x33fd67=_0x530b70;let _0x363d02=[],_0x1d3f50=[],_0x1247f3={};if(_0xa04155[_0x33fd67(0x3ea)]()){const _0x26ad7c=_0xa04155['data']();_0x363d02=_0x26ad7c['shortcuts']||[],_0x1d3f50=_0x26ad7c[_0x33fd67(0xcfd)]||[],_0x1247f3=_0x26ad7c[_0x33fd67(0xb4a)]||{};}!_0x1d3f50[_0x33fd67(0x5d9)](_0x55aa7b=>_0x55aa7b['id']===_0x33fd67(0xa19))&&_0x1d3f50[_0x33fd67(0x47e)]({'id':_0x33fd67(0xa19),'name':_0x33fd67(0x919),'isDefault':!![]}),!_0x363d02[_0x33fd67(0x5d9)](_0x546f16=>_0x546f16['id']==='parallel-default-1')&&_0x363d02[_0x33fd67(0x47e)]({'id':_0x33fd67(0x415),'name':_0x33fd67(0x567),'url':'','isDefault':!![]}),!_0x363d02['find'](_0x4f5168=>_0x4f5168['id']===_0x33fd67(0xa10))&&_0x363d02[_0x33fd67(0x47e)]({'id':_0x33fd67(0xa10),'name':_0x33fd67(0x626),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x363d02,parallelShortcutTabs=_0x1d3f50,parallelShortcutOrder=_0x1247f3,renderParallelTestShortcuts(),!document[_0x33fd67(0x3a5)]('additional-parallel-shortcuts-modal')[_0x33fd67(0xcde)][_0x33fd67(0xca5)](_0x33fd67(0xc15))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x4b84da=_0x4813c4,_0x130ead=doc(db,_0x4b84da(0xb67),_0x4b84da(0x747));try{await setDoc(_0x130ead,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x11b5ec){console[_0x4b84da(0xabd)](_0x4b84da(0xd17),_0x11b5ec);}}function renderAdditionalParallelShortcutsModal(){const _0x5d6f85=_0x4813c4,_0x505430=document[_0x5d6f85(0x3a5)](_0x5d6f85(0x5cd)),_0x47b553=document[_0x5d6f85(0x3a5)](_0x5d6f85(0x6b3));if(!_0x505430||!_0x47b553)return;_0x505430[_0x5d6f85(0xc7e)]=parallelShortcutTabs['map'](_0x21b4b1=>{const _0x3bd48a=_0x5d6f85,_0x3ae1e0=_0x21b4b1['id']===activeParallelShortcutTabId;return _0x3bd48a(0x56d)+_0x21b4b1['id']+_0x3bd48a(0x931)+(_0x3ae1e0?_0x3bd48a(0x230):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x3bd48a(0x491)+_0x21b4b1[_0x3bd48a(0x4a4)]+_0x3bd48a(0x68e)+_0x21b4b1[_0x3bd48a(0x4a4)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x21b4b1['isDefault']?_0x3bd48a(0xd03)+_0x21b4b1['id']+_0x3bd48a(0x286):'')+_0x3bd48a(0xadc);})['join']('');const _0x4b5688=parallelShortcutTabs[_0x5d6f85(0x5d9)](_0x3f3f9c=>_0x3f3f9c['id']===activeParallelShortcutTabId);let _0x3273a3=_0x4b5688?.[_0x5d6f85(0x856)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x2c7e4f=>(_0x4b5688?.[_0x5d6f85(0x151)]||[])[_0x5d6f85(0xc4f)](_0x2c7e4f['id']));const _0x27f791=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x3273a3[_0x5d6f85(0x9a1)]((_0x36366c,_0xb3e262)=>{const _0x474c32=_0x5d6f85,_0x27f290=_0x27f791[_0x474c32(0x513)](_0x36366c['id']),_0x3d9eb7=_0x27f791[_0x474c32(0x513)](_0xb3e262['id']);return(_0x27f290===-0x1?Infinity:_0x27f290)-(_0x3d9eb7===-0x1?Infinity:_0x3d9eb7);}),_0x47b553[_0x5d6f85(0xc7e)]=_0x3273a3[_0x5d6f85(0x86c)](_0x1dad9d=>{const _0x32ae88=_0x5d6f85,_0x496b8d=_0x1dad9d[_0x32ae88(0x27f)]?'🔁':'🔗',_0x52aa97=parallelShortcutTabs[_0x32ae88(0xd05)](_0xdd0453=>!_0xdd0453[_0x32ae88(0x856)]),_0xe29106=_0x4b5688[_0x32ae88(0x856)]&&_0x52aa97[_0x32ae88(0xdbe)]>0x0?_0x32ae88(0x698)+_0x52aa97[_0x32ae88(0x86c)](_0x54e936=>_0x32ae88(0xda5)+_0x1dad9d['id']+'\x22\x20data-target-tab-id=\x22'+_0x54e936['id']+'\x22>'+_0x54e936[_0x32ae88(0x4a4)]+'</a>')[_0x32ae88(0x15d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x1dad9d['id']+_0x32ae88(0x548)+_0x496b8d+'\x20'+_0x1dad9d['name']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1dad9d['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1dad9d['id']+_0x32ae88(0x14e)+(!_0x1dad9d[_0x32ae88(0x856)]?_0x32ae88(0x1a1)+_0x1dad9d['id']+_0x32ae88(0xad):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4b5688[_0x32ae88(0x856)]?_0x32ae88(0x705)+_0x1dad9d['id']+'\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe29106+_0x32ae88(0x282);})[_0x5d6f85(0x15d)]('')||_0x5d6f85(0x9b),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x5270a8=_0x4813c4;document[_0x5270a8(0x660)](_0x5270a8(0x3e0))[_0x5270a8(0x140)](_0x352bd2=>{const _0x4e139b=_0x5270a8;_0x352bd2[_0x4e139b(0x8d)]=_0x55fa84=>{const _0x44b7c1=_0x4e139b;activeParallelShortcutTabId=_0x55fa84['currentTarget'][_0x44b7c1(0x315)][_0x44b7c1(0xe9)],renderAdditionalParallelShortcutsModal();},_0x352bd2[_0x4e139b(0xb92)]=_0x4ef297=>{const _0x1386ae=_0x4e139b,_0x5542c4=_0x4ef297[_0x1386ae(0x45b)][_0x1386ae(0x169)](_0x1386ae(0x17e));_0x4ef297[_0x1386ae(0x45b)][_0x1386ae(0x169)](_0x1386ae(0x2a5))[_0x1386ae(0xcde)][_0x1386ae(0x483)](_0x1386ae(0xc15)),_0x5542c4[_0x1386ae(0xcde)][_0x1386ae(0xa30)](_0x1386ae(0xc15)),_0x5542c4[_0x1386ae(0x4af)](),_0x5542c4[_0x1386ae(0x36d)]();};}),document[_0x5270a8(0x660)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x5270a8(0x140)](_0x1a3f4f=>{const _0x1f06c7=_0x5270a8,_0x2efd17=()=>{const _0x4eaeb4=_0x3082,_0xa7bf9a=_0x1a3f4f['closest'](_0x4eaeb4(0x3e0))[_0x4eaeb4(0x315)][_0x4eaeb4(0xe9)],_0x1695e5=parallelShortcutTabs['find'](_0x495e4e=>_0x495e4e['id']===_0xa7bf9a);_0x1695e5&&(_0x1695e5[_0x4eaeb4(0x4a4)]=_0x1a3f4f[_0x4eaeb4(0x909)][_0x4eaeb4(0x7f3)]()||_0x1695e5[_0x4eaeb4(0x4a4)],saveParallelShortcutConfig());};_0x1a3f4f[_0x1f06c7(0x14c)]=_0x2efd17,_0x1a3f4f['onkeydown']=_0x2edd7c=>{const _0x5aeea6=_0x1f06c7;if(_0x2edd7c['key']===_0x5aeea6(0xbbd))_0x1a3f4f[_0x5aeea6(0xae1)]();};}),document[_0x5270a8(0x660)](_0x5270a8(0x6d8))['forEach'](_0xa3d4db=>_0xa3d4db[_0x5270a8(0x8d)]=_0x339b63=>{const _0x3e43cb=_0x5270a8,_0x3b966f=_0x339b63[_0x3e43cb(0x45b)][_0x3e43cb(0x315)]['tabId'];showConfirmation(_0x3e43cb(0x8ee),()=>{const _0x4a6aa8=_0x3e43cb;parallelShortcutTabs=parallelShortcutTabs[_0x4a6aa8(0xd05)](_0x5917a6=>_0x5917a6['id']!==_0x3b966f),delete parallelShortcutOrder[_0x3b966f];if(activeParallelShortcutTabId===_0x3b966f)activeParallelShortcutTabId=_0x4a6aa8(0xa19);saveParallelShortcutConfig();});}),document['querySelectorAll'](_0x5270a8(0x10d))[_0x5270a8(0x140)](_0x45929a=>_0x45929a[_0x5270a8(0x8d)]=_0x1608fa=>{const _0x1ec9fb=_0x5270a8;_0x1608fa['preventDefault']();const {shortcutId:_0x1f385d,targetTabId:_0x816c94}=_0x1608fa['currentTarget'][_0x1ec9fb(0x315)],_0xf8ff19=parallelShortcutTabs[_0x1ec9fb(0x5d9)](_0x39387c=>_0x39387c['id']===_0x816c94);_0xf8ff19&&!_0xf8ff19[_0x1ec9fb(0x151)][_0x1ec9fb(0xc4f)](_0x1f385d)&&(_0xf8ff19['shortcutIds']['push'](_0x1f385d),saveParallelShortcutConfig());}),document[_0x5270a8(0x660)]('.remove-parallel-shortcut-from-tab-btn')[_0x5270a8(0x140)](_0x43629c=>_0x43629c[_0x5270a8(0x8d)]=_0x4a8c81=>{const _0x25e3b5=_0x5270a8,_0x532b4d=_0x4a8c81['currentTarget'][_0x25e3b5(0x315)][_0x25e3b5(0x395)],_0x3aa0ba=parallelShortcutTabs['find'](_0x5f1098=>_0x5f1098['id']===activeParallelShortcutTabId);_0x3aa0ba&&!_0x3aa0ba['isDefault']&&(_0x3aa0ba[_0x25e3b5(0x151)]=_0x3aa0ba[_0x25e3b5(0x151)]['filter'](_0x40c1dc=>_0x40c1dc!==_0x532b4d),saveParallelShortcutConfig());}),document[_0x5270a8(0x660)](_0x5270a8(0x838))[_0x5270a8(0x140)](_0x103251=>_0x103251[_0x5270a8(0x8d)]=_0x151e0e=>{const _0x181148=_0x5270a8;_0x151e0e[_0x181148(0xa99)]();const _0x50c603=_0x151e0e['currentTarget'][_0x181148(0x9a)];document['querySelectorAll'](_0x181148(0x9e2))[_0x181148(0x140)](_0x38d3b4=>_0x38d3b4[_0x181148(0xcde)][_0x181148(0x483)](_0x181148(0xc15))),_0x50c603[_0x181148(0xcde)][_0x181148(0xa30)](_0x181148(0xc15));});const _0x33a259=document[_0x5270a8(0x3a5)](_0x5270a8(0x6b3));let _0x386e7a=null;_0x33a259[_0x5270a8(0x9bc)]=_0x58a116=>{const _0x10399e=_0x5270a8;_0x386e7a=_0x58a116[_0x10399e(0x940)]['closest']('.shortcut-list-item');if(_0x386e7a)setTimeout(()=>_0x386e7a[_0x10399e(0xcde)]['add']('opacity-50'),0x0);},_0x33a259[_0x5270a8(0x869)]=()=>{const _0x44035d=_0x5270a8;_0x386e7a&&(_0x386e7a[_0x44035d(0xcde)][_0x44035d(0xa30)]('opacity-50'),_0x386e7a=null);},_0x33a259[_0x5270a8(0x370)]=_0x5a4269=>{_0x5a4269['preventDefault']();},_0x33a259[_0x5270a8(0x12f)]=_0x1f3fb1=>{const _0x508363=_0x5270a8;_0x1f3fb1['preventDefault']();if(_0x386e7a){const _0x6b7e33=[..._0x33a259['querySelectorAll'](_0x508363(0xf1))]['reduce']((_0x37aefa,_0xdafb2d)=>{const _0x9607d2=_0x508363,_0x2bc791=_0xdafb2d['getBoundingClientRect'](),_0x23a030=_0x1f3fb1[_0x9607d2(0xaca)]-_0x2bc791[_0x9607d2(0x3ef)]-_0x2bc791[_0x9607d2(0x65f)]/0x2;return _0x23a030<0x0&&_0x23a030>_0x37aefa['offset']?{'offset':_0x23a030,'element':_0xdafb2d}:_0x37aefa;},{'offset':Number[_0x508363(0xb7c)]})[_0x508363(0x524)];_0x6b7e33==null?_0x33a259[_0x508363(0xaf7)](_0x386e7a):_0x33a259[_0x508363(0xdc9)](_0x386e7a,_0x6b7e33);const _0x4509ba=[..._0x33a259[_0x508363(0x660)](_0x508363(0xbdb))]['map'](_0x2a35c3=>_0x2a35c3['dataset'][_0x508363(0x395)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x4509ba,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x4964d1=_0x4813c4,_0x473e74=prompt(_0x4964d1(0x537),_0x4964d1(0x64d));_0x473e74&&_0x473e74[_0x4964d1(0x7f3)]()&&(parallelShortcutTabs[_0x4964d1(0x8a5)]({'id':'tab_'+Date[_0x4964d1(0x2d9)](),'name':_0x473e74[_0x4964d1(0x7f3)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x178e2f=_0x4813c4,_0x345354=document[_0x178e2f(0x3a5)]('parallel-shortcut-container'),_0x16f7a3=document['getElementById'](_0x178e2f(0x6b3)),_0x45d199=document[_0x178e2f(0x3a5)](_0x178e2f(0x495));if(_0x45d199)_0x45d199[_0x178e2f(0xcde)]['add']('hidden');if(!_0x345354||!_0x16f7a3)return;const _0xd80ad2=parallelTestShortcuts[_0x178e2f(0xa8a)](0x0,0x4),_0x578e78=parallelTestShortcuts[_0x178e2f(0xa8a)](0x4);_0x345354['innerHTML']=_0xd80ad2['map'](_0x3dd76a=>{const _0x2a3b1f=_0x178e2f,_0x47d77d=_0x3dd76a['url']&&_0x3dd76a['url']['trim']()!=='',_0x4f8302=_0x47d77d?_0x2a3b1f(0x13e):_0x2a3b1f(0x190),_0x42f323=_0x47d77d?'🔁':'🔗',_0x260543=!_0x3dd76a[_0x2a3b1f(0x856)]?_0x2a3b1f(0x1a1)+_0x3dd76a['id']+_0x2a3b1f(0xb01):'';return _0x2a3b1f(0x32b)+_0x3dd76a['id']+_0x2a3b1f(0x3e3)+_0x4f8302+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x42f323+'\x20'+_0x3dd76a[_0x2a3b1f(0x4a4)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3dd76a['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x260543+_0x2a3b1f(0x609);})['join'](''),_0x578e78[_0x178e2f(0xdbe)]>0x0&&(_0x345354[_0x178e2f(0xc7e)]+=_0x178e2f(0x136)),_0x578e78[_0x178e2f(0xdbe)]>0x0?_0x16f7a3[_0x178e2f(0xc7e)]=_0x578e78[_0x178e2f(0x86c)](_0x4f964c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x4f964c[_0x178e2f(0x27f)]?'🔁':'🔗')+'\x20'+_0x4f964c[_0x178e2f(0x4a4)]+_0x178e2f(0xe09)+_0x4f964c['id']+_0x178e2f(0xa1f)+_0x4f964c['id']+_0x178e2f(0x98a)+(!_0x4f964c[_0x178e2f(0x856)]?_0x178e2f(0x1a1)+_0x4f964c['id']+_0x178e2f(0xad):'')+_0x178e2f(0x35a))[_0x178e2f(0x15d)](''):_0x16f7a3[_0x178e2f(0xc7e)]=_0x178e2f(0x57e);}function openParallelTestShortcutEditor(_0x2cf52a=null){const _0x48531f=_0x4813c4,_0x3511af=document[_0x48531f(0x3a5)](_0x48531f(0x9b4)),_0x35a941=document[_0x48531f(0x3a5)]('parallel-shortcut-modal-title'),_0x1abe52=document[_0x48531f(0x3a5)]('parallel-shortcut-id-input'),_0xa336e9=document[_0x48531f(0x3a5)](_0x48531f(0x5b0)),_0x42b732=document[_0x48531f(0x3a5)](_0x48531f(0x45a));if(_0x2cf52a){const _0xc0d4de=parallelTestShortcuts['find'](_0x49f90f=>_0x49f90f['id']===_0x2cf52a);if(!_0xc0d4de)return;_0x35a941[_0x48531f(0xd68)]='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x1abe52[_0x48531f(0x909)]=_0xc0d4de['id'],_0xa336e9[_0x48531f(0x909)]=_0xc0d4de[_0x48531f(0x4a4)],_0x42b732['value']=_0xc0d4de[_0x48531f(0x27f)]||'';}else _0x35a941[_0x48531f(0xd68)]=_0x48531f(0x6ca),_0x1abe52[_0x48531f(0x909)]='',_0xa336e9['value']='',_0x42b732['value']='';_0x3511af[_0x48531f(0xcde)][_0x48531f(0xa30)](_0x48531f(0xc15));}async function saveParallelTestShortcutChanges(){const _0x3a5c16=_0x4813c4,_0x505eec=document[_0x3a5c16(0x3a5)](_0x3a5c16(0x152))[_0x3a5c16(0x909)],_0x1feb7b=document[_0x3a5c16(0x3a5)](_0x3a5c16(0x5b0))['value'][_0x3a5c16(0x7f3)](),_0x1b6302=document[_0x3a5c16(0x3a5)](_0x3a5c16(0x45a))[_0x3a5c16(0x909)][_0x3a5c16(0x7f3)]();if(!_0x1feb7b){showMessage(_0x3a5c16(0x3bc));return;}const _0x5804b9={'id':_0x505eec||_0x3a5c16(0xbbc)+Date[_0x3a5c16(0x2d9)](),'name':_0x1feb7b,'url':_0x1b6302,'isDefault':_0x505eec['startsWith'](_0x3a5c16(0xa09))};let _0x4bd527;_0x505eec?_0x4bd527=parallelTestShortcuts[_0x3a5c16(0x86c)](_0x140935=>_0x140935['id']===_0x505eec?_0x5804b9:_0x140935):_0x4bd527=[...parallelTestShortcuts,_0x5804b9];try{const _0xee3d9c=doc(db,'globalSettings',_0x3a5c16(0x747));await setDoc(_0xee3d9c,{'shortcuts':_0x4bd527},{'merge':!![]}),document[_0x3a5c16(0x3a5)](_0x3a5c16(0x9b4))[_0x3a5c16(0xcde)][_0x3a5c16(0x483)](_0x3a5c16(0xc15));}catch(_0x40d7d3){console[_0x3a5c16(0xabd)](_0x3a5c16(0x76d),_0x40d7d3),showMessage(_0x3a5c16(0xdc0));}}async function handleParallelTestShortcutClick(_0x139edf){const _0x5c10d4=_0x4813c4,_0x45bba8=parallelTestShortcuts[_0x5c10d4(0x5d9)](_0x37df92=>_0x37df92['id']===_0x139edf);if(!_0x45bba8)return;if(!_0x45bba8[_0x5c10d4(0x27f)]||_0x45bba8['url'][_0x5c10d4(0x7f3)]()===''){openParallelTestShortcutEditor(_0x139edf);return;}const _0x3d7ffa=document['getElementById'](_0x5c10d4(0x69a)),_0x3a1907=document['getElementById'](_0x5c10d4(0x3ba));document[_0x5c10d4(0x3a5)](_0x5c10d4(0x8bc))[_0x5c10d4(0xcde)]['remove'](_0x5c10d4(0xc15)),document[_0x5c10d4(0x3a5)](_0x5c10d4(0x7f9))[_0x5c10d4(0xc7e)]='',_0x3d7ffa['classList'][_0x5c10d4(0xa30)](_0x5c10d4(0xc15)),_0x3a1907[_0x5c10d4(0xd68)]=_0x5c10d4(0xc6f);try{let _0x51dfb2;_0x45bba8[_0x5c10d4(0x27f)][_0x5c10d4(0x7c4)]()[_0x5c10d4(0xc4f)](_0x5c10d4(0x636))?_0x51dfb2=_0x5c10d4(0xdef):_0x51dfb2=_0x5c10d4(0xe1e);const _0x2c1113=await fetchFileFromUrl(_0x45bba8[_0x5c10d4(0x27f)],_0x51dfb2);await handleGenerateParallelTest(_0x2c1113);}catch(_0x44b77a){console['error']('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x44b77a),showMessage('เกิดข้อผิดพลาด:\x20'+_0x44b77a[_0x5c10d4(0xbd0)]),_0x3d7ffa[_0x5c10d4(0xcde)][_0x5c10d4(0x483)](_0x5c10d4(0xc15));}}function initializeScratchpadCanvas(){const _0x29c154=_0x4813c4,_0x2326c2=document[_0x29c154(0x3a5)](_0x29c154(0x8c8)),_0x4c3288=document[_0x29c154(0x169)](_0x29c154(0xb8f));if(!_0x2326c2||!_0x4c3288)return;scratchpadCtx=_0x2326c2['getContext']('2d',{'willReadFrequently':!![]});const _0x514099=window[_0x29c154(0x16c)]||0x1,_0x33121d=_0x4c3288[_0x29c154(0x880)]();_0x2326c2['width']=_0x33121d['width']*_0x514099,_0x2326c2[_0x29c154(0x65f)]=_0x33121d[_0x29c154(0x65f)]*_0x514099,_0x2326c2[_0x29c154(0x40d)][_0x29c154(0x7e9)]=_0x33121d[_0x29c154(0x7e9)]+'px',_0x2326c2[_0x29c154(0x40d)][_0x29c154(0x65f)]=_0x33121d['height']+'px',scratchpadCtx[_0x29c154(0x3a8)](_0x514099,_0x514099),scratchpadCtx[_0x29c154(0x44c)]='round',scratchpadCtx[_0x29c154(0xa8e)]=_0x29c154(0xb23),_0x2326c2[_0x29c154(0x751)](_0x29c154(0xaa9),handlePointerDown),_0x2326c2['removeEventListener'](_0x29c154(0xd26),handlePointerMove),_0x2326c2[_0x29c154(0x751)]('pointerup',handlePointerUp),_0x2326c2[_0x29c154(0x751)](_0x29c154(0x107),handlePointerUp),_0x2326c2[_0x29c154(0x751)](_0x29c154(0x24d),handleWheel),_0x2326c2[_0x29c154(0x751)](_0x29c154(0xc32),handlePointerDown),_0x2326c2[_0x29c154(0x751)](_0x29c154(0xd59),handlePointerMove),_0x2326c2[_0x29c154(0x751)](_0x29c154(0xa78),handlePointerUp),_0x2326c2[_0x29c154(0x9f0)](_0x29c154(0xaa9),handlePointerDown),_0x2326c2['addEventListener']('pointermove',handlePointerMove),_0x2326c2['addEventListener'](_0x29c154(0xdcb),handlePointerUp),_0x2326c2['addEventListener']('pointercancel',handlePointerUp),_0x2326c2[_0x29c154(0x9f0)](_0x29c154(0x24d),handleWheel,{'passive':![]}),_0x2326c2['addEventListener'](_0x29c154(0xc32),handlePointerDown,{'passive':![]}),_0x2326c2[_0x29c154(0x9f0)](_0x29c154(0xd59),handlePointerMove,{'passive':![]}),_0x2326c2[_0x29c154(0x9f0)](_0x29c154(0xa78),handlePointerUp,{'passive':![]});}function _0x4b47(){const _0x3a7532=['.csv','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','modal-adaptive-quiz-checkbox','shortcut-editor-modal','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</strong></p>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','lowerGroupNames','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','toDate','length','บทเรียนเรื่อง:\x20','เกิดข้อผิดพลาดในการบันทึก','ศูนย์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','password-error-msg','dragstart','fas\x20fa-star\x20text-yellow-500','insertBefore','bg-black/10','pointerup','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','การคูณเศษส่วน','Error\x20deleting\x20quiz:','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','backspace','.quiz-bank-delete-btn','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','back-to-student-home-btn','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','<li\x20class=\x22','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','Error\x20clearing\x20all\x20links:','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','goto-next-question-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','ผ่านฉลุย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-700','\x20mb-2\x22>','.file-shortcut-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.pointsLastRound','เลือกและบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','leq','exponentialRampToValueAtTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','/public/data/syncGames/','line-height:\x201.3;\x20min-width:\x200;','starred-project','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','source_document.txt','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','อนุพันธ์:\x20กฎลูกโซ่','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','รูปสี่เหลี่ยมและสมบัติ','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','---\x20[คำถามใหม่]\x20---','กรุณาเลือกโปรเจคก่อน','.hidden-option-input','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','desc','<div\x20class=\x22mb-3\x20topic-category\x22>','match','</select>','change','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ดวงดาว','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','insertAdjacentHTML','#file-shortcut-tabs-nav\x20.tab-name-input','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','มือปราบสายรุ้ง','show-results-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','getElementsByTagName','confirm-wager-btn','reveal-names-btn','AI\x20Fix\x20Error:','submit','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','justification','ลิมิต','<li>','removeAttribute','text-white','ฟังก์ชันค่าสัมบูรณ์','nickname-input','จำนวนนักเรียน','isArray','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','ชาไข่มุก','highlighter-tools-group','transparent','button','source_document.pdf','เพนกวินไฟ','blueprint-topics-list-container','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','stringify','???','-9999px','Error\x20starting\x20game:','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','default-2','Invalid\x20response\x20structure\x20from\x20API.','<div\x20class=\x22flex-1\x22></div>','.generate-easy-version-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เกิดข้อผิดพลาดในการส่งคำตอบ','Failed\x20to\x20apply\x20jinx:','เปิด\x20(จับเวลา)','bg-white\x20text-gray-800','afterend','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22answer-space\x22></div>','Error\x20listening\x20for\x20custom\x20math\x20topics:','topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','getPage','30SQTyLE','log','table','Error\x20adding\x20students:','show-leaderboard-btn','cancel-crop-btn','tool','isCorrect','อัตราส่วนและสัดส่วน','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','onclick','progress-student-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)</span>','subTopics','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','cancel-quiz-status-btn','ไม่พบข้อมูลผู้เล่น','copy','nextElementSibling','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','project-title','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','check-answer-btn','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','สร้างโปรเจคสำเร็จ!','generated','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','answering','\x20วินาที','การหารทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','Error\x20saving\x20project\x20order:','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','opacity','Error\x20listening\x20for\x20projects:','.delete-parallel-shortcut-btn','isAdaptive','Authentication\x20failed:','💰\x20โหมดเดิมพันทำงานอยู่!','/public/data/projects/','ทฤษฎีบทพีทาโกรัสและการประยุกต์','รูปสแควร์รูท\x20(surd)','visibilitychange','result','pairedQuizId','Attempting\x20to\x20save\x20game\x20results...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','ลาเต้ไม่หวาน','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','th-TH','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','พื้นที่วงกลม/ส่วนของวงกลม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','เกิดข้อผิดพลาดในการสร้างห้องเกม','text-gray-400\x20hover:text-indigo-600','border-red-700','overline','ref','Error\x20starting\x20sync\x20game:','Error\x20listening\x20for\x20student\x20profiles:','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','ฟังก์ชันเชิงเส้นและกราฟ','requestFullscreen','geq','.start-presentation-list-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','ฟังก์ชันราก\x20(root)','ม้าดีดกะโหลก','move-quiz-project-select','sync-player-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','student-name-input','auto-fix-latex-btn','การนับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analyze-strengths-btn','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','อกหัก','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','toLocaleString','MathJax','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','confirm-quiz-settings-btn','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','ดาวTikTok','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','smooth','tabId','bg-red-50','questionStatus','presentation-ai-result','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','(ก่อนเรียน)','วงรี','additional-shortcuts-list','.shortcut-list-item:not(.opacity-50)','กรุณาสร้างบทเรียนก่อน','quizMode','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','\x20quizzes\x20into\x20global\x20cache.','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','add-file-shortcut-btn','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','จำนวนข้อ:','\x20ชุดสำเร็จ!','projectOrder','/3</span></div>','create-from-bank-btn','Error\x20updating\x20points:','toString','1:274192258111:web:4120c9118229b5644dd48a','.bp-generate-lesson-btn','</span></p>','open-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','pointercancel','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','tfrac','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','2-digit','</form>','.move-parallel-shortcut-item','translate','นักเขียน','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','firstElementChild','P/อัน)','rgba(255,\x20255,\x200,\x200.5)','.doc','text-indigo-600','กำลังสร้างแบบทดสอบ\x20\x22','.color-palette-btn','num-questions','mainTopics','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','bp-reference-file-url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','mjx-container','\x5cneq','use-powerup-wagerMultiplier-instant','อสมการเชิงเส้น','teacherSuggestions','lineWidth','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','gain','Team\x20Quiz','quiz','lesson-view-title','mode','responses','คัดลอกรหัสแล้ว!','ondrop','\x20ชิ้น)','bp-modal-include-images-checkbox','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','live-options-container','.move-shortcut-item','Error\x20deleting\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quadraticCurveTo','text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','bg-teal-500\x20hover:bg-teal-600\x20text-white','input-','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','timer-container','quiz-end-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','docChanges','Error\x20clearing\x20linked\x20quiz:','ใช้\x20\x22คำสาป\x22\x20กับ\x20','math-topics-checkbox-container','sync-timer-duration-container','onblur','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','per-q-countdown','shortcutIds','parallel-shortcut-id-input','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','linearRampToValueAtTime','topics.','เกิดข้อผิดพลาดในการติดดาว','groups.','bg-yellow-300\x20text-yellow-900\x20font-bold','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ให้เป็นคำถามประเภท\x20\x22','join','manual-bp-content','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','true_false','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','pointContent','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','responses.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','โหลดนาน','querySelector','.bp-create-onet-quiz-btn','className','devicePixelRatio','choices_only','Error\x20calculating\x20final\x20scores:','\x27,\x20\x27','นักเดินทาง','จำนวนและการดำเนินการ','1188263xdOVNy','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','warn','<div\x20class=\x22space-y-2\x22>','qIndex','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','set','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','boolean','transition','.tab-name-input','red','some','Error\x20processing\x20file\x20shortcut\x20click:','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','totalPoints','ภูเขา','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันการกระทำ','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','release','use-powerup-cutOne','correctResponse','แบบทดสอบ:\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','color','ไม่สามารถโหลดรายการโปรเจคได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','postScore','live-player-list','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','sync-timer-duration-input','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมการยกกำลัง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','pinned-items','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','shadowColor','list-view-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(นำโด่ง)','on_fire','<button\x20data-id=\x22','toggle','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','from','สลับไปโหมดผู้ควบคุม','startTime','\x22>ไม่ใช่</p>','startedAt','timerMode','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','cdot','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group\x5c/dropdown-parallel','kick-player-btn','studentName','Failed\x20to\x20refund\x20powerup:','สร้างใหม่','input[name=\x22drill_answer\x22]:checked','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','bg-red-700\x20text-white\x20font-bold','keyup','lobby','live-game-view','answers','bulk-confidence-mode-container','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','.delete-student-btn','questions','กำลังสร้างรูปภาพ...','dfrac','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','export-compact-pdf-btn','\x5cpm','.bp-open-topic-bank-btn','ปวดหลัง','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','blueprint-project-list','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.linkedQuizId','Error\x20processing\x20file\x20for\x20AI:','getTextContent','#6366F1','/public/data/blueprintProjects/','แมวเก้าชีวิต','ออฟฟิศซินโดรม','dimmed','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','timer-duration-input','update','แบบเติมคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','.eraser-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','start','inactive','globalAlpha','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','quiz-start-time','กำลังอ่านไฟล์อ้างอิง...','eraser-tool-btn','การปัดเศษและประมาณค่า','ไม่พบข้อมูลหัวข้อที่จะบันทึก','firstScore','cancel-rename-quiz-btn','นินจาชาเขียว','\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','ความแปรปรวน','ไฮเพอร์โบลา','topic','comparison-individual-tab','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','student-view','disabled\x20bg-gray-400\x20cursor-not-allowed','เกิดข้อผิดพลาดในการอ่านไฟล์','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','Error\x20joining\x20live\x20game:','(ฉบับง่าย)\x20','save-file-shortcut-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x20mr-2\x22></i>','การแจกแจงทวินาม\x20(พื้นฐาน)','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','.generate-lesson-btn','additional-shortcuts-modal','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','destination','ไม่พบเอกสารการส่งงานของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','circle','correct','5760585wBdHqV','.delete-svg-btn','icon','การสร้างรูปด้วยวงเวียน–สันตรง','quiz-search-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','.move-file-shortcut-menu-btn','powerup','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','timeBonusThisQuestion','pre-test-checkbox','ถูกต้อง!','</h3>','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','close-additional-file-shortcuts-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','quiz-form','confirm-move-quiz-btn','\x20แล้ว!','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','presentation-explanation','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','default-1','<button\x20data-value=\x22','bg-gray-200\x20text-gray-700','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','project-passcode-modal','padding','pin-backspace-btn','กรุณาเลือกโปรเจคที่ต้องการบันทึก','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','currentMode','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mr-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','ตั้งเวลา\x20(เปิด)','cancel-export-pdf-btn','เทพทรู','border-indigo-500\x20text-indigo-600','modal-confidence-mode-select','อัปเดตพฤติกรรมสำหรับ\x20','SAFETY','แฟนทิพย์','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add-parallel-shortcut-tab-btn','frequency','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','groups','parent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','wager-modal','Error\x20joining\x20activity:','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','join-live-game-btn','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','.pair-quiz-btn','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','Error\x20deleting\x20shortcut:','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','flex','setTransform','PERFECT_SCORE','</span>:\x20','setItem','wheel','.text-indigo-200','แก้ไขปุ่มลัด','select[name=\x22question_single\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','starred','text-red-700\x20bg-red-100','gameVariant','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','shortcut-name-input','use-powerup-','tooltipTarget','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','practiceProblems','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','multiple_choice','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','shortcutTabs','ตรีโกณมิติ','save-visibility-settings-btn','ความคล้ายของรูป','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','Error\x20updating\x20project\x20name:','modal-close-btn','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','authed_project_','จำนวนเต็มลบ','scratchpad-close-btn','comparison-chart','เศรษฐีดูไบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','.topic-name-input','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','ตัวประกอบและตัวประกอบเฉพาะ','preTestId','quiz-settings-modal','abs','viewBox','publicLeaderboard','next-sync-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','Firebase\x20initialization\x20failed:','url','#e21b3c','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','lessonPlan','#student-project-leaderboard-content\x20thead','cancel-quiz-bank-btn','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','both','กรุณาป้อนหัวข้อสำหรับใบงาน','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','default','สร้างคำถามแบบใช่/ไม่ใช่','quiz-type-select','stepByStepExamples','เลือกโปรเจคเพื่อบันทึก','bp-quiz-settings-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bp-modal-num-choices','เกิดข้อผิดพลาดในการอัปเดตสถานะ','presentation-modal','.topic-selection-btn','anon-settings-container','.bp-unlink-quiz-btn','\x20\x0a\x20\x20\x20\x20','export-excel-btn','isStarred','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','timer-mode-select','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NUMBER','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','standard','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#retake-for-improvement-btn','exitFullscreen','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.tab-name-display','pen','bank-tab','ข้าวมันไก่พิเศษ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','Error\x20generating\x20from\x20link:','\x22...','topic-quiz-bank-modal','restore','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','createObjectURL','post-test','สมการตรีโกณมิติ','artifacts/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','Could\x20not\x20fetch\x20reference\x20file:','per-question-options','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22><span\x20style=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ใช่\x20/\x20ถูก','shuffle','ใช่','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','anon-show-answer-toggle','project-passcode-input','.file-topic-selection-btn','[*]','draggable-text','\x22\x20value=\x22false\x22\x20','bulk-results-display-select','add-file-shortcut-tab-btn','ยังไม่เต็มนะ','live-game','request','Error\x20saving\x20quiz:','ท้องฟ้า','ผู้เชี่ยวชาญ','ไม่ใช่','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','live-short-answer-input','\x5cge','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','.pen-size-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','now','ไม่มี','text-emerald-900','ไม่ผ่าน','bulk-confidence-scoring-checkbox','Error\x20adding\x20custom\x20topic:','บันทึกการตั้งค่าการแสดงผลสำเร็จ','checked','lower_group_count','far\x20fa-star','confirm-delete-btn','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','pointerType','[data-field=\x22subTopic\x22]','players','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>','จำนวนคละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.save-custom-topic-btn','modal-timer-duration-input','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','สำหรับหัวข้อ\x20\x27','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x20รายการสำเร็จ!','ส่วนเบี่ยงเบนเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','topicId','AI\x20ไม่สามารถอ่านข้อความได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-team-players-btn','</div>','back-to-dashboard-from-results-btn','N/A','manual-bp-project-name','.submittedAt','.lastAnswerIndex','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','back-to-home-manual-release','floor','sync-variant-selector','.edit-question-btn','main-correct-answer-display','hint','เรเดียนและการแปลงหน่วย','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','manual_release','questionDisplayedAt','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','half_mark_status','.admin-try-quiz-list-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','short_answer','ai-quiz-generator-v3','webkitRequestFullscreen','manual-bp-grade-level','dataset','separate-by-content-from-file-checkbox','\x20สำเร็จ!','rgba(239,\x2068,\x2068,\x200.9)','finishReason','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','จันทร์เจ้า','wasConfident','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','27411472','.unpair-quiz-btn','เส้นจำนวน','วงกลม:\x20สมการและสมบัติ','black-market-settings-container','274192258111','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','100%','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','previousElementSibling','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','export-leaderboard-excel-btn','scores','<button\x20data-quiz-id=\x22','globalCompositeOperation','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','loopUntilPass','องค์ประกอบของฟังก์ชัน','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','screen_exit','cancel-move-quiz-btn','project-quizzes-list','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','first_try_ace','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงข้อมูลจากลิงก์...','\x27\x20ในหัวข้อ\x20\x27','mouseleave','classStrengths','</p>','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','entries','เริ่มกิจกรรม:\x20','คนคุย','isForcedConfident','bg-green-100\x20text-green-800','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','font-bold\x20text-red-700\x20line-through','getAttributeNS','px)\x20scale(','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-comparison-modal-footer-btn','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','text-blue-700\x20bg-blue-100','บทเรียน','.delete-question-editor-btn','confirm-not-confident','ผิด','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','file.pdf','topics','\x20ใหม่...','</span></div>','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hiddenOptions_q','\x22\x20style=\x22','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-confidence-mode-container','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x22','force-math-checkbox','parseFromString','tan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','สร้างคำถามใหม่\x201\x20ข้อ\x20','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','modal-timer-mode-select','close-pin-modal-btn','global-activity-modal','export-leaderboard-pdf-btn','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ondragover','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','modal-timer-duration-label','สร้างคำถามแบบเติมคำในช่องว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','oninput','เรขาคณิต','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','reveal_at_end','<i\x20class=\x22fas\x20fa-pen\x22></i>','live-player-management','ปิดใช้งาน','editor-quiz-topic','input[name=\x22team_player\x22]:checked','404\x20Not\x20Found','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','binom','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','autoTable','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','คำถามถัดไป','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','blueprint-input-area','เงินงวด\x20(อนุกรมเงินงวด)','Auto-linking\x20new\x20quiz\x20','admin-password-input','start-game-btn','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','thead\x20.sortable-header','matching_item','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','has','shortcutId','isFinished','visible','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','ยังไม่สร้าง','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','z-index:\x20','deselect-all-topics-btn','camera-input','submissions','students','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','confirmation-modal','complexityValue','getElementById','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','Error\x20analyzing\x20file\x20for\x20topics:','scale','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','text-green-600\x20font-bold','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','prod','คณิตการเงิน/บูรณาการ','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','.quiz-status-btn','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-hidden-file-shortcut-btn','comparison-overall-tab','getDocument','scratchpad-clear-btn','category','topicName','opacity-50','loader-text','กำลังกลับเข้าสู่เกม\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','Blueprint\x202','doc','AI\x20request\x20was\x20blocked.\x20Reason:\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','original-mode-checkbox','</a>','src','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','.duplicate-quiz-btn','blueprint-tab','bulk-quiz-settings-btn','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','ดอกเบี้ยอย่างง่าย','อุณหภูมิและการแปลง','date_asc','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','<p><strong>คำตอบที่แนะนำ:</strong>\x20','student-list','ปลาทูคะนอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความชันและเส้นตรง','เกิดข้อผิดพลาดในการลบโปรเจค','student-team-join','ไฟล์ลัด\x202','กราฟแท่ง\x20กราฟเส้น','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','correctStreak','ตัวเลือก\x20ข','.parallel-shortcut-tab-btn','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','Error\x20calling\x20Gemini\x20API:','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','ปริมาตรรูปทรงสามมิติ','exists','.delete-hidden-parallel-shortcut-btn','export-leaderboard-image-btn','numQuestions','project-sort-select','top','instructions','Error\x20starting\x20live\x20race:','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','.game-start-btn','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','document','checkAnswer','fontSize','dragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','values','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','AI\x20แก้ไขคำถามสำเร็จ!','shortcuts-loading-msg','open-sync-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i><span>ON\x20FIRE!\x20คะแนน\x20x2</span><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','write','.start-game-btn','Error\x20opening\x20quiz\x20editor:','clear-all-links-btn','grid-view-btn','.use-hidden-file-shortcut-btn','Error\x20fetching\x20project\x20quizzes:','#results-table','lesson-view-modal','เสือซ่อนเล็บ','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','style','.flex.justify-between.items-center','\x0a\x20\x20\x20\x20','การแจกแจงปกติและ\x20z-score','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<svg','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','parallel-default-1','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','textarea','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','สายหมอก','.edit-hidden-parallel-shortcut-btn','API\x20Error\x20Response:','label','file-default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','trail','ไม่พบข้อมูลข้อสอบหลังเรียน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','ร้อยละประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','numeric','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','ไม่ใช่\x20/\x20ผิด','\x22\x20name=\x22confidence','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','scratchpad-header','</tbody></table>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','cutOne','rgba(16,\x20185,\x20129,\x200.7)','text-green-700\x20bg-green-100','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','เมทริกซ์:\x20บวก/คูณ','schedule','sawtooth','close-lesson-plan-modal-btn','settings','<option\x20value=\x22','application/pdf','items','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','fill_in_with_choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','text/plain','แปลงร่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','every','.regenerate-question-editor-btn','\x20จุด','พื้นที่สี่เหลี่ยม','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','อนุพันธ์:\x20กฎพื้นฐาน','\x5csum','add-shortcut-btn','submission-status-chart','use-powerup-revealOptions','lineJoin','join-group-activity-btn','input[type=\x22checkbox\x22]:checked','baseVal','catch','ฮิสโตแกรม','parse','bg-red-100\x20text-red-800','blueprint-upload-input','DOMContentLoaded','num-choices','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','worksheet-topic-input','index','parallel-shortcut-url-input','currentTarget','.subTopic','moveTo','generate-worksheet-btn','usedBuyTime','.isScored','projectView','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','นักล่าฝัน','buyTime','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','#open-additional-parallel-shortcuts-btn','#10B981','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-global-live-btn','ผู้ไม่ยอมแพ้','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','\x22,\x20','onerror','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','20px','podium','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','confirm-admin-login-btn','<option\x20value=\x22\x22>กำลังโหลด...</option>','หมดเวลา!\x20กำลังส่งคำตอบ...','ไม่พบข้อมูลเกม','wager-all-in-btn','competition','กำลังสแกนหาแบบทดสอบเก่า...','.ai-content\x20h3','จากไฟล์ที่แนบมานี้,\x20','อัปเดตแบบทดสอบเก่า\x20','unshift','text-red-900','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-label','next-question-timed-btn','add','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','content','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','ปุ่มลัดทั้งหมด','fileShortcutTabs','กำลังโหลดคลังข้อสอบทั้งหมด...','bg-yellow-200',':</span><span>','ดอทโปรดักต์\x20(dot)','interesting-stats-container','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','#E0E7FF','bg-green-500','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','onkeydown','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','summary','parallel-shortcuts-loading-msg','\x20in\x20all\x20blueprint\x20projects.','bg-green-400\x20text-white\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกคำถามใหม่\x20','export-leaderboard-word-btn','ที่พิมพ์ได้\x20จำนวน\x20','<span\x20title=\x22โดนคำสาป\x22>😈</span>','#open-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','close-student-rankings-btn','/public/data/practiceBank','include-images-checkbox','mousemove','การบวกทศนิยม','name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','.quiz-result-card','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x20แบบทดสอบลงในคลังสำเร็จ!','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','function','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','#view-rankings-btn','scratchpad-question','focus','medium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','grid','#FCE7F3','ไม่สามารถโหลดคลังข้อสอบได้','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','cancel-manual-bp-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answerText','ผู้พิชิตดาว','timerDuration','update-old-quizzes-btn','Error\x20listening\x20for\x20starred\x20quizzes:','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','duration-300','quiz-leaderboard-table-container','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','display','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','reduce','ส่งแล้ว','การแยกตัวประกอบ','scratchpad-modal','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','modified','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','text-yellow-800','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x20(Player)\x20(ID:\x20','(พยายามอยู่)','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','pollUsedThisTurn','activeGameSession','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','strength-weakness-analysis-container','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','newCorrectIndex','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','jspdf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไอรอนแมน','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','leaderboard-table-body','manage-tab-content','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','bp-modal-question-complexity-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offsetWidth','quiz-bank-count','แผนภาพเวนน์','บันทึกโปรเจค\x20\x22','shortcut-tabs-nav','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','ลำดับเรขาคณิต\x20(GP)','Invalid\x20response\x20structure\x20from\x20AI.','.correct-response-input','input[name=\x22syncVariant\x22][value=\x22','manage','includeImages','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','bg-emerald-100','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','onSecondChance','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','</span><button\x20data-player-name=\x22','blueprint-project-manager-view','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','student-team-selection-view','bp-modal-num-questions','comparison-modal','จำนวนเชิงซ้อน\x20(เสริม)','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','#FEE2E2','lastAnswerCorrect','sqrt','admin-dashboard','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Matching\x20options\x20synced:','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','print','มุมพิเศษ\x2030°-60°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','indexOf','practice-topic-btn','Error\x20deleting\x20custom\x20topic:','แบบปรนัย\x204\x20ตัวเลือก','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','กำลังดึงไฟล์อ้างอิงจากลิงก์...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','normal','standardTopic','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','questionType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','cancel-wager-btn','leaderboard','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','element','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','substr','bg-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','.topic-actions-view','decode','shuffle-setting-select','generationConfig','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แก้ไข\x20Points\x20ของ\x20','game-start-mode','bg-gray-50','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20lesson\x20plan:','q-text-','กรุณาตั้งชื่อแท็บใหม่:','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','ผ่าน','scrollX','results','เกิดข้อผิดพลาดในการเปลี่ยนสี','bp-modal-shuffle-setting-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','close-lesson-plan-modal-footer-btn','add-parallel-shortcut-btn','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','ศิลปิน','confirm-game-start-modal','correctAnswerIndex','open','_opt1\x22\x20name=\x22question','input[name=\x22syncVariant\x22]','behaviorLog','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','powerupUsed_q','Failed\x20to\x20kick\x20player\x20','frac','position','ติดซีรีส์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','editable-text-','close-comparison-modal-btn','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','substring','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic_','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','หนอนหนังสือ','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','presentation-slide-container','Sync\x20Mode','timer-duration-container','แก้ไขสูตรคณิตศาสตร์\x20','export-pdf-btn','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','Error\x20showing\x20quiz\x20detail\x20view:','ต้นฉบับ\x201','.group\x5c/dropdown-file','ตัวแปรและนิพจน์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','start-quiz-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','</p><p><strong>เฉลย:</strong>\x20','left','save-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลำดับการดำเนินการ\x20(PEMDAS)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','isConfidenceScoringEnabled','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','save-quiz-btn','การลบทศนิยม','market-item-list','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','editable-quiz-topic','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','transition-all','Error\x20processing\x20shortcut\x20click:','questions_only','bg-white','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','price','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','parentElement','promptFeedback','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x20ตอบ','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','blueprint-projects-modal','\x20(\x22','<i\x20class=\x22fas\x20fa-save\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','showRankings','การคูณทศนิยม','save-bp-reference-btn','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','powerups','bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','เกิดข้อผิดพลาดในการบันทึกคะแนน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x5cdiv','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','commit','การหารเศษส่วน','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','manage-players-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','การบวก','\x22\x20title=\x22','Error\x20generating\x20easy\x20version\x20quiz:','touch','submit-team-answer-btn','.generate-content-btn','(ก่อนเรียน)\x20','incorrect','ตอบถูกทุกข้อในแบบทดสอบนี้','thead','parallel-shortcut-name-input','bulk-shuffle-select','confirmation-message','visibilityState','live-race','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export',')</span></div>','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','mandatory','ห.ร.ม.\x20(GCD)','scale-125','.pin-digit-box','interesting-stats-wrapper','confidence-mode-select','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สายตาสั้น','ฟังก์ชันกำลังสองและกราฟ','passing-score-input','leaderboard-tab-content','handleGenerateQuizFromBlueprintTopic','quiz-leaderboard-table-body','setAttribute','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','attemptNumber','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','parallel-shortcut-tabs-nav','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','มังกรกินจุ','scratchpad-controls','1150638NusVkJ','พิซซ่าหน้าทุเรียน','Error\x20deleting\x20topic:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>','รายการนี้','อนุพันธ์:\x20ผลคูณ/ผลหาร','ดีมาก','find','points','pin','พอใช้','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','student-quiz-topic','กรุณาเลือกชื่อของคุณ','text-yellow-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','earned-badges-container','.quiz-bank-settings-btn','/public/data/quizzes/','pointsLastQuestion','player-list-lobby','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','หมูกระทะจะเยียวยาทุกสิ่ง','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','bg-black/20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','ไม่พบข้อมูลโปรเจค','คู่คำตอบ...','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','สร้างแบบทดสอบปรนัย','submittedAt','wasJinxed','</button>','.topic-category','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','localeCompare','show-final-results-btn','closest','.delete-file-shortcut-tab-btn','(^|[^\x5c\x5c])\x5cb','.buy-item-btn','เวกเตอร์และเมทริกซ์\x20(เสริม)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','timestamp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','export-word-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','realScore','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','commonMistakes','quiz-results-table-body','...\x22)?','answer-grid-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20Formula\x20Fix\x20Error:','curriculum','ลบโปรเจคสำเร็จแล้ว','/public/data/quizzes','ธอร์ค้อนบิน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','Error\x20generating\x20teaching\x20content:','เปิดใช้งาน','fromCharCode','<div\x20id=\x22q-image-container-','ยอดเยี่ยม','\x20(p=','ฐานนิยม','image/png','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','link-topic-input','move-quiz-modal','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','quiz-editor-questions-container','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x22\x20data-name=\x22','behavior-log','คะแนนเต็ม!','เกี่ยวกับหัวข้อ\x20\x22','project-detail','execCommand','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ต้นฉบับ\x202','neq','bg-green-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไข','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','upperGroupNames','.quiz-bank-try-btn','\x22\x20name=\x22team_answer\x22\x20value=\x22','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topics-list','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','รอผู้ควบคุมไปข้อต่อไป...','.edit-quiz-btn','.txt','cancel-confidence-btn','parseInline','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','export-image-btn','project-name-input','stop','/players','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','sync-short-answer-input','question-analytics-container','new-question-type-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','Error\x20verifying\x20answers:','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','</tr>','\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-','msExitFullscreen','confidence-modal','(คู่ขนาน)\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','สมการค่าสัมบูรณ์','แท็บใหม่','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','retake-quiz-loop-btn','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','พบ\x20Team\x20Quiz!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','underline','suggestedAnswer','handleGenerateAndShowLesson','save-shortcut-btn','lesson-plan-title','export-pdf-modal','แบตหมด','.ai-fix-formula-btn','download','fa-fire\x20text-orange-500','description','height','querySelectorAll','passcode-error-msg','สุดยอด!\x20ตอบถูกทุกข้อ','Error\x20updating\x20sort\x20preference:','currentTime','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','Blueprint\x20O-NET\x20ป.6','test','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','.remove-shortcut-from-tab-btn','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','</td>','sync','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','```','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#E5E7EB','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','live-submit-short-answer-btn','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','ส้มตำปูปลาร้า','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','confirm-link-quiz-btn','\x20mx-1\x20text-lg\x22></i></span>','input[type=\x22radio\x22][value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x20','-tab-content',';\x22\x20data-id=\x22',',\x20r=','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','type','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอัปเดตแบบทดสอบ\x20','cancel-quiz-edits-btn','ฟังก์ชันพหุนาม','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-crop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress-content','แบบทดสอบนี้ปิดใช้งานอยู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-shortcut-dropdown','transform','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','imageCode','</h4>','rows','default-','OCR\x20Error:','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','\x20ตัวเลือก)','bg-red-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','loader','fix-lesson-latex-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','student-progress-view','memory','badges','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสัย','มุมพิเศษ\x2045°-45°-90°','perfect_score_status','เพื่อนสนิท','sara','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','text-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','selected-answer-index-hidden','<span\x20title=\x22ใช้ไอเทม\x22>','confirm-manual-bp-btn','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','projectSortOrder','พลังคลื่นเต่า','actions-container-','additional-parallel-shortcuts-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20','application/json','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','results-table-container','file-shortcut-id-input','ceil','scheduled_pending','export-lesson-pdf-btn','text-red-500\x20hover:text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','get','/lessons','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','marginBottom','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','input[type=\x22text\x22]','.shortcut-tab-btn','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','mean','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','grabbing','Test\x20Blueprint','confirm-quiz-status-btn','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','shortcut-blueprint-url-input','สมการลอการิทึม','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','mousedown','<p\x20class=\x22','Error\x20regenerating\x20question\x20in\x20editor:','.delete-parallel-shortcut-tab-btn','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','<p><strong>คำตอบของคุณ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20topic:','explanation','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','.bp-present-btn','เกิดข้อผิดพลาดในการซื้อ','preScore','student','AI\x20กำลังสแกนข้อความ...','คำเตือน\x20(','placeholder','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','Error\x20during\x20deep\x20delete:','mouseup','.answers','fiftyFifty','\x20/\x20','ชีสเค้ก','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','td,\x20th','eraser','files','lesson-plan-content','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-passcode-btn','.lastAnswerValue','คะแนน','questionId','Error\x20updating\x20old\x20quizzes:','เกิดข้อผิดพลาดในการเข้าร่วมเกม','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','summaryContent','หน่วยมวล/น้ำหนักและการแปลง','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','Original\x20quiz\x20not\x20found','quiz-leaderboard-table','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','<button\x20data-shortcut-id=\x22','คะแนนเต็ม','Error\x20saving\x20to\x20question\x20bank:','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','30px','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','สร้างแบบทดสอบ','fa-shield-alt\x20text-gray-600','show_results_only','Error\x20generating\x20hybrid\x20quiz:','อินเวอร์สของเมทริกซ์','leaderboard-quiz','getBBox','.kick-player-btn-sync','ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','order','/users/','blueprintShortcuts','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยเวลาและการคำนวณเวลา','1473004VBjcdH','สู้ๆ\x20ลองอีกครั้งนะ','Error\x20joining\x20team\x20quiz:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-loop-until-pass-checkbox','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','cancel-blueprint-projects-btn','Error\x20generating\x20worksheet:','file-shortcut-editor-modal','student-join-game-view','team','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quick_thinker','modal-results-display-select','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-project-leaderboard-table-body','ท็อปฟอร์ม','ซามูไรสายเดี่ยว','ยืนยันและอัปเดตทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<span\x20title=\x22ใช้\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','quizId','analytics-tab-btn','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','.live-answer-btn','latestSubmittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ไม่สามารถสร้างโปรเจคได้','.status','ความเท่ากันทุกประการของสามเหลี่ยม','สร้างชุดคำถามจับคู่','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','move','bg-amber-100\x20text-amber-800','parallelTestShortcutsConfig','#FFFFFF','.ai-content\x20p','date_desc','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x22\x20data-pre-test-id=\x22','scratchpad-options','lesson-plan-modal','\x20จุดเรียบร้อยแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','removeEventListener','onchange','data:application/vnd.ms-word;charset=utf-8,','\x20คนที่ส่ง\x20ตอบถูก\x20(','<textarea\x20name=\x22question','fixed','modal-timer-duration-container','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cursor','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','sum','สมการราก\x20(radical)','การคูณ','touches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณใช้ตัวช่วย\x20\x22','PROMPT_PLACEHOLDER','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','shouldSaveResults','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','คณิตศาสตร์','ย้ายแบบทดสอบไปโปรเจคอื่น','quiz-bank-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','latestScore','txt','Error\x20saving\x20parallel\x20shortcut:','กาแฟขม','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confidence-scoring-description','\x20\x20\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','lastAnswerIndex','ไม่พบข้อมูลแบบทดสอบ','fill_in_the_blank','\x20หัวข้อ)','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','line-through\x20text-red-700','file-shortcut-url-input','newOptions','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','สมมาตร\x20(แกน/จุด)','lowerGroupResponders','.use-hidden-parallel-shortcut-btn','#4338ca','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','next-question-btn','ไม่มีคำอธิบาย','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','ไฟล์ทั้งหมด','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','ระยะเวลา\x20(นาที):','-tab','เส้นรอบรูป','อินฟลูเอนเซอร์','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','questionIndex','.sortable-header','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','\x20รายการ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','difficultyValue','Error\x20moving\x20quiz:','STRING','Error\x20saving\x20blueprint\x20project:','<span\x20title=\x22โดนบังคับ\x22>👻</span>','click','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','bank-quiz-list','กิจกรรมสิ้นสุดลงแล้ว','Unexpected\x20API\x20response\x20structure:','shadowBlur','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-initial-btn','generate-from-text-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','ลบแบบทดสอบสำเร็จแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','reference_onet.pdf','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','ปริพันธ์จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wager-max-points','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','ARRAY','blueprint-options-container','สาระที่\x201','Error\x20loading\x20user\x20preferences:','sync-timer-bar','-options\x22>','blockReason','selected-topics-count','เนื้อหาสำหรับสอน:\x20','toLowerCase','.regenerate-question-btn','🛡️','sync-submit-btn','.buy-time-confirm-btn','word-break:\x20break-all;','lesson-loader-text','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parts','<div\x20class=\x22p-2\x20rounded-md\x20','กรุณาเลือกไฟล์ก่อน','ป่าไม้','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','text-blue-800','ไม่พบตารางสำหรับ\x20Export','Error\x20updating\x20quiz\x20status:','กลุ่มของคุณ','wakeLock','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','link-url-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทะเล','hint-btn','user-id-display','total','cancel-quiz-edits-btn-footer','leaderboard-quiz-tab-btn','<span\x20title=\x22','cancel-bp-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','bg-green-200\x20text-green-800','dropdown-list-','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','<span\x20class=\x22sort-indicator\x20ml-2\x22>','width','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','Buy\x20Item\x20failed:\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','shortcut-modal-title','_opt','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','trim','Market\x20entry\x20payment\x20failed:','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','options','<span\x20class=\x22block\x20text-sm\x20','\x20P)','generated-quiz-container','null','นอนไม่พอ','create-project-modal','not-found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','เพิ่ม\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','ตะวันฉาย','ยูทูปเบอร์ฝึกหัด','Error\x20in\x20handleApiCall:','originalTopic','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','suspended','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','กำลังสร้างบทเรียน:\x20','\x22>(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','confirm-bulk-quiz-settings-btn','กระต่ายตื่นตูม','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')\x22><span\x20style=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','bg-[#4ADE80]\x20text-green-900\x20font-bold','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','กรุณาพิมพ์คำตอบของกลุ่ม','analytics-tab-content','เปลี่ยนชื่อโปรเจคสำเร็จ','student-progress','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','bg-blue-100','Failed\x20to\x20create/update\x20submission\x20record:','.rename-quiz-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','projectName','q-explanation-','ยืนยันการจับคู่','เน็ตช้า','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','qType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','.ideal-answer-input','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','\x22\x20data-topic=\x22','เพิ่มรายการที่เลือก','sine','เพิ่มปุ่มลัดจากไฟล์ใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','dataIndex','worksheet-tab','.mb-6.p-4','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','เงาปริศนา','bg-[#DCFCE7]\x20text-green-900','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','.move-parallel-shortcut-menu-btn','</tbody></table></div>','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20|\x20','multiply','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.answered','</p></div>','offset','progress-project-select','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','ไม่มีผู้ตอบตัวเลือกนี้','No\x20players\x20data\x20found\x20to\x20save\x20yet.','overflow','.quiz-bank-parallel-btn','นกฮูกกลางวัน','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sort-indicator','3568581KWENAb','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','5824427BiwEyB','redo-btn','div[data-question-index=\x22','rgba(79,\x2070,\x20229,\x200.8)','Error\x20loading\x20quiz\x20for\x20student:','badgesCount','นักกีฬา','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','isDefault','0\x200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','fa-pen','text-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','text-red-600','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','score','cropper-modal','\x20ครั้ง)</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ระบบอสมการ','game-start-modal-title','ondragend','การแปลงรูปอัตลักษณ์','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','map','(ไม่มีชื่อ)','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','#ffffff','Error\x20during\x20class\x20analysis:','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','ความต่อเนื่อง','\x22\x20name=\x22question','การเรียงสับเปลี่ยน\x20(Permutation)','Error\x20confirming\x20players:','.delete-file-shortcut-btn','ก่อนเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','insurance','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','fill_in_no_choices','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','Error\x20updating\x20pin\x20status:','getBoundingClientRect','bp-modal-quiz-type-select','label[for=\x22num-questions\x22]','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','generate-from-topic-btn','pre-test','back-to-dashboard-from-bp-btn','leaderboard_','copy-quiz-id-btn','ยกเลิกการจับคู่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','freeMarketEntryUsed_q','disabled','กรุณาเลือกสถานะ','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','classWeaknesses','Error\x20comparing\x20results:','\x20ข้อ\x20','zIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/preferences/main','generate-from-link-btn','results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.move-file-shortcut-dropdown','.png','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','.ai-content\x20li','upperGroupResponders','random','quiz-status-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','รอเปิด','ไม่สามารถบันทึกการตั้งค่าได้','push','.cancel-edit-topic-btn','bp-modal-difficulty-level-select','question','scrollY','นักวิทยาศาสตร์','.quiz-bank-present-btn','destroy','input','พื้นที่สามเหลี่ยม','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','</div></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','ตอบถูก\x203\x20ข้อติดต่อกัน','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','Blueprint\x201','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','พื้นที่ผิวรูปทรงสามมิติ','cancel-team-selection-btn','.delete-custom-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','quiz-generation-area','toFixed','gameData','.generate-post-test-btn','use-powerup-fiftyFifty','presentation-scratchpad-btn','teacherTips','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','.animate-pulse','fixedData','confident','scratchpad-canvas','\x22\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','300','ระยะเวลา\x20(วินาที):','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','bg-gray-100\x20opacity-70','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','.project-card-container:not(.opacity-50)','bg-red-100','playerName','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','parallel-test-upload-input','_opt0\x22\x20name=\x22question','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','contentEditable','confirm-join-game-btn','save-project-name-btn','<p\x20class=\x22text-xl\x22>','student-passcode-input','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','string','แคลคูลัสเบื้องต้น','อยู่ในหัวข้อหลักใด:','getContext','ownerSVGElement','แก้ไขข้อนี้','\x20จาก\x20','Error\x20saving\x20game\x20results:','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','border-gray-200','คุณแน่ใจว่าต้องการลบแท็บนี้?','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','\x5cfrac{$1}{$2}','onloadend','bottom','close-lesson-view-btn','pdf','ไม่พบไฟล์\x20Test\x20Blueprint','</span>','รูปหลายเหลี่ยมและมุมภายใน','save-game-results-checkbox','verify-answers-btn','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','question-complexity-select','finished','Error\x20updating\x20project\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','padStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','การลบเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','tGain','ดูผลสรุปสุดท้าย','.bp-edit-topic-btn','New\x20question\x20detected.\x20Cleaning\x20up.','value','upper_group_count','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','กำลังสร้างคำถามข้อ\x20','โจรสลัดอวกาศ','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','clearRect','scores-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','answeredCurrentQuestion','helvetica','wager-slider','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','ข้อ\x20','per-question-timer-container','ต้นฉบับทั้งหมด','pow','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','team-student-list','perseverance','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','การกระจายและการจัดหมู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pathname','key','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-search-input','\x22\x20สำเร็จ!','ตลาดมืด\x20(','questionText','text/html','presentation-short-answer-input','คัดลอกไม่สำเร็จ','end-game-btn','\x22.\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','เพิ่มปุ่มลัดใหม่','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','.color-palette-popup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','ราชาคัมแบ็ก','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','.file-shortcut-btn[data-id=\x22','ไอติมทอด','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','target','.delete-shortcut-btn','.presentation-option','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','-options','referenceUrl','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-size-slider','.edit-file-shortcut-btn','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','setAttributeNS','replace','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','open-quiz-bank-btn','comparison','กำลังอ่านและเตรียมไฟล์...','shuffledQuiz','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','<span>','ซื้อ\x20(','bg-green-50','source-over','shortcut-reference-url-input','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','ข้อที่\x20','answered','text-content-input','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','outerHTML','behavior-log-tab-btn','เส้นตรง:\x20ขนาน/ตั้งฉาก','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','file-topics-list-container','members','touchcancel','fontFamily','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','ai-quiz-app-aefee.firebaseapp.com','หยุดระบบจับเวลาหรี่หน้าจอ','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','การจัดหมู่\x20(Combination)','เศษส่วน\x20(ย่อ/ขยาย)','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','ยอดเยี่ยม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22]:checked','หมีขั้วโลกใต้','findIndex','</li>','student-back-to-home-btn','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reviewQuestionIndex','itemId','start-sync-game-btn','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','.topic-name-display','title','⏳\x20ซื้อเวลา','bg-[#EF4444]\x20text-white\x20font-bold','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strategyScan','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numChoices','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','enable-passcode-checkbox','trail-tool-btn','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ชุด)','กำลังวิเคราะห์หัวข้อ...','ความสัมพันธ์ของมุม','uid','ตัวเลือก\x20ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','isJinxed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','กรุณาพิมพ์คำตอบ','เกิดข้อผิดพลาดในการลบนักเรียน','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','sort','confidenceMode','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','file-shortcut-name-input','มูเตลู','show-in-student-dashboard-checkbox','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','<div\x20class=\x22my-6\x22>','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','input[name=\x22status-option\x22]:checked','pinnedProjects','border-indigo-500','pointsLastRound','setValueAtTime','times','การลบ','leaderboard-quiz-tab-content','_blank','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','parallel-shortcut-editor-modal','👁️\x20เผยตัวเลือก','จำนวนเต็มบวก','project-list','</td></tr>','end-sync-game-btn','ฟังก์ชันสัมพัทธ์\x20(rational)','keyConcepts','ondragstart','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','fadeStartTime','.project-card-container.opacity-50','cancel-create-project-btn','กฎบวกและกฎคูณ','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/csv;charset=utf-8;','createOscillator','endTime','setFont','comeback_king','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x22\x20name=\x22drill_answer\x22\x20value=\x22','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','ความน่าจะเป็นแบบมีเงื่อนไข','manual-blueprint-modal','ตัวเลือก\x20ค','</strong></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fileShortcutsConfig','.toggle-hidden-options-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Successfully\x20removed\x20','#student-quiz-leaderboard-content\x20thead','ตรวจพบการออกจากหน้าจอครบ\x20','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','analytics','ค่าเฉลี่ย','file-topic-input','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','สอบซ่อม','text-gray-100','<div\x20style=\x22','\x22\x20value=\x22','.move-parallel-shortcut-dropdown','sync-player-management','ความเป็นอิสระของเหตุการณ์','isBlackMarketEnabled','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','Error\x20deleting\x20student:','additional-file-shortcuts-modal','confirm-create-project-btn','href','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-gray-300','approx','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','.move-quiz-btn','addEventListener','resultsSaved','<span\x20class=\x22font-bold\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','createdAt','สถิติและความน่าจะเป็น','กำลังสร้างแบบทดสอบจากหัวข้อ...','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeChild','selected-answer-index-hidden-wager','Error\x20loading\x20blueprint\x20projects:','การวัด','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','input[type=\x22checkbox\x22]','/public/data/syncGames','คำถาม...','separate-by-content-checkbox','#results-table\x20thead\x20tr','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','parallel-default-','flex\x20flex-col\x20gap-2','%</span>','bg-red-500\x20text-white\x20font-bold','.star-quiz-btn','use-powerup-secondChance','บักแตงโม','parallel-default-2','ลบโปรเจค\x20\x22','beginPath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','admin','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','Error\x20renaming\x20quiz:','all','student-project-leaderboard-content','text-green-600','นำแบบทดสอบออกจากคลังนี้แล้ว','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','Error\x20deleting\x20all\x20students:','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cloneNode','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x20ตัวเลือก.\x20','คะแนนเฉลี่ย','correctAnswer','Error\x20saving\x20user\x20preference:','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','resultsDisplay','.pdf','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','</div></div>','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','remove','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','memoryContent','เกิดข้อผิดพลาดในการบันทึกลำดับ','quizType','.project-card-container','showAnswerInAnonymous','blueprintUrl','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','text-gray-500','deg','Error\x20creating\x20project:','\x20สำเร็จ','.verification-result-editor','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.view-bp-lesson-btn','isSyncGame','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','.group\x5c/dropdown','lesson-sections-container','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','save','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','\x22>ใช่</p>','กำลังอ่านไฟล์\x20Test\x20Blueprint...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','Powerup\x20use\x20failed:','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','.ai-content\x20blockquote','true','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','blob','กรุณาใส่ชื่อนักเรียน','มัธยฐาน','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.move-shortcut-menu-btn','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','<br>','วงกลม:\x20คอร์ดและเส้นสัมผัส','selectedTopicNames','ตัวแทนแห่งดวงจันทร์','quiz-results','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','textarea[name=\x22team_answer\x22]','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','list','wager-amount-display','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold','split','num-choices-container','เกิดข้อผิดพลาด:\x20','ON_FIRE','temp-loader-results','\x5ctimes','text-red-300\x20hover:text-red-100','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','Error\x20updating\x20quiz\x20settings:','admin-password-modal','มุมและการวัดมุม','สรุปผลสุดท้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','handleGeneratePracticeTest','touchend','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','ไม่สามารถโหลดข้อมูลอันดับได้','bg-green-200\x20text-green-900','mode-switcher-btn','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','สลับไปโหมดนักเรียน','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','maxHeight','.quiz-bank-move-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','เรขาคณิตวิเคราะห์','จับคู่แบบทดสอบสำเร็จ!','.file-shortcut-tab-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','slice','transition-transform','none','mixed','lineCap','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','mouse','tab_','prev-question-btn','modal-passing-score-input','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','API\x20Error\x20Body:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-modal','stopPropagation','</body></html>','</span></td>','/public/data/projects','contents','https://corsproxy.io/?','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','stroke','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','ค.ร.น.\x20(LCM)','กรุณาใส่ชื่อใหม่','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','reference.txt','Error\x20starting\x20team\x20quiz:','game-pin-input','pointerdown','พาราโบลา','keys','close-game-final-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','specialist','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','_new','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x5ccdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','cancel-delete-btn','team-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','เกิดข้อผิดพลาดในการเข้าตลาดมืด','เซียนสมองไว','</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>','confirm-rename-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','applicationData','keydown','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','Failed\x20to\x20get\x20hint:','save-blueprint-as-project-btn','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','group','clientY','custom-math-topic-input','ตรวจทานเฉลยเสร็จสิ้น!','\x20(สำหรับ\x20','_opt1\x22>ไม่ใช่</label></div>','typesetPromise','export-lesson-to-pdf-btn','.linkedQuizIds','totalQuestions','แก้ระบบสมการด้วยเมทริกซ์','bg-indigo-600\x20hover:bg-indigo-700','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','powerups.','ข้อต่อไป','point','bg-green-100\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','modal-confidence-scoring-checkbox','per_question','โดเมนและเรนจ์','div','blur','45ohYYkA','\x22\x20data-target-tab-id=\x22','pointsAwarded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','#open-additional-file-shortcuts-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','.option-input','textarea[name=\x22question_single\x22]','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','เลือกและเริ่มสร้าง','back-to-project-btn','removeItem','false','เกมเมอร์','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','เส้นตรง:\x20รูปแบบสมการ','appendChild','generate-from-parallel-test-btn','getScreenCTM','คาถาแยกเงาพันร่าง','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คู่จิ้น','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','บันทึกการตั้งค่าสำเร็จ','admin-testing','webkitAudioContext','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','คนโสด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','OBJECT','\x20\x20\x20-\x20คำตอบ:\x20','pin-entry-modal','width\x2060s\x20linear','\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','100px','คำอธิบาย...','ฟังก์ชันผกผัน','.pen-color-btn','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','text-gray-700','cancel-file-shortcut-edit-btn','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','isPasscodeEnabled','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','wasForced','</p><div>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','wagerMultiplier','fill','text-red-800','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','round','results-tab-content','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','pen-tools-group','file-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_pass_fail_only','start-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นักดนตรี','2bPqNRv','strokeStyle','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','resume','docs','bg-gray-400','สิงโตยิ้ม','bestScore','bp-modal-passing-score-input','slide-counter','กองดอง','fix\x20the\x20option','/public/data/customMathTopics','manage-tab','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','อสมการค่าสัมบูรณ์','```json','toggleMathDropdown','ยังไม่ส่ง','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','.pointsLastQuestion','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','สมการเชิงเส้นตัวแปรเดียว','createElement','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','preventDefault','parallelShortcutOrder','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','perQuestionStats','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','พบ\x20Sync\x20Game!','cos','.delete-hidden-shortcut-btn','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','confidence-choice-btn','.bp-live-btn','<div\x20class=\x22flex\x20items-center\x20gap-2\x22>','อัปเดตการตั้งค่าของแบบทดสอบ\x20',')\x22>',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20กลุ่ม</p></div>','\x22\x20จำนวน\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','comparison-individual-content','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','numPages','close-market-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','text-indigo-800','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','บันทึกการตั้งค่าแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','globalSettings','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20verifying\x20answers\x20in\x20editor:','attempts','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','parallel-test-input-area','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','00:00','scan-text-image-btn','โลมาบิน','_opt0\x22>ใช่</label></div>','Error\x20linking\x20quizzes:','startsWith','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','gradeLevel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','close-additional-parallel-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drill-feedback','NEGATIVE_INFINITY','</span><span\x20class=\x22font-bold\x22>','.pin-project-btn','เกิดข้อผิดพลาดในการอัปเดต:\x20','summary_chart','pointer-events-none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teachingContent','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','-\x20ข้อ\x20','รอ...','\x5csqrt{$1}','revealOptions','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','(เลือกแล้ว\x20','.bp-create-content-quiz-btn','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','selectMathOption','originalQuestionText','.scratchpad-content-wrapper','black-market-modal','projectId','ondblclick','API\x20call\x20failed\x20with\x20status:\x20','rename-quiz-modal','drop','border-indigo-400\x20ring-2\x20ring-indigo-200','dblclick','readAsDataURL','clientX','players.','active','Failed\x20to\x20end\x20group\x20mode\x20game:','instantWager','passingScore','STOP','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20shortcut\x20config:','เน็ตไอดอล','classic','next-drill-btn','svg','documentElement','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','คำถามดิบ:\x20\x22','ไม่พบโปรเจคที่ต้องการลบ','bp-topic-list-container','market-current-points','innerText','bg-green-200\x20text-green-900\x20font-bold','.use-hidden-shortcut-btn','newOptionsPayload','subTopic','\x20ทำงานอยู่!</div>','buy-time-quantity-input','พีชคณิตและฟังก์ชัน','เกิดข้อผิดพลาดในการลบ','scan-text-image-input','FileReader\x20error:','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','anonymous','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','parallel-shortcut_','Enter','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','canvas','</label></div>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','กรุณาเลือกคำตอบของกลุ่ม','results-table','raw','.quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','ไม่พบแบบทดสอบในระบบเลย','p-2\x20bg-black/10\x20rounded-md','ระยะทางและจุดกึ่งกลาง','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22','แอบชอบ','%PDF','message','use-powerup-insurance','กรุณาเลือกคำตอบ','#000000','student-name-select','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','triangle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','.shortcut-list-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','reset-view-btn','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','ยอดนักสืบ','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','หัวข้อหลักใหม่','.group','project-search-input','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คะแนน\x20','AI\x20did\x20not\x20return\x20any\x20content.','.delete-project-btn','responseSchema','dragend','scoresCalculated','delete','ดีเทอร์มิแนนต์','.live-answer-btn,\x20#sync-submit-btn','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.edit-custom-topic-btn','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','สร้างแล้ว','destination-out','endsWith','fullscreenElement','/submissions','dashboardConfig','transformOrigin','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','start-live-race-generated-btn','\x22\x20id=\x22input-','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','close-topic-bank-btn','(ตามมาติดๆ)','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','blueprint-topics-list','คำตอบที่ถูกต้อง','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','targetId','.application-options\x20button','1000px','hidden','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','กำลังเตรียมไฟล์...','ค่าเสื่อมราคา','isNormalTopic','ลบผลสอบของ\x20','secondChance','MathJax\x20typeset\x20error\x20(analytics):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','.bp-try-btn','MathJax\x20re-render\x20failed:','lesson-loader','ไม่สามารถเริ่มเกมได้','ระยะจากจุดถึงเส้นตรง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-market-btn','createGain','blueprint-settings-modal','การบวกเศษส่วน','Error\x20saving\x20shortcut:','แก้ไขปุ่มลัดจากไฟล์','confidence-mode-container','touchstart','สัญกรณ์วิทยาศาสตร์','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.lastAnswerCorrect','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','global-activity-quiz-list','confidence-scoring-toggle','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-additional-shortcuts-btn','กรุณากรอกเป็นตัวเลขเท่านั้น','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','อยู่ในสาระการเรียนรู้ใด:','empty','\x22>จาก:\x20','...','powerupUsed','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','.parallel-shortcut-btn','after','learningGaps','http://www.w3.org/2000/svg','\x0a---\x0a','auto','<div\x20class=\x22space-y-4\x22>','bg-red-200\x20text-red-800','asc','highlighter','เกิดข้อผิดพลาดในการโหลดโปรเจค','includes','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown(','eraser-tools-group','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','parentNode','getTime','webkitExitFullscreen','use-powerup-buyTime','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','view-my-progress-btn','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','\x22\x20data-q-type=\x22','shortcut-id-input','student-initial-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ค่าคลาดเคลื่อนของการวัด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','ไม่ได้ตอบ','.ai-fix-question-btn','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','input[name=\x22syncVariant\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','.highlighter-color-btn','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','Error\x20updating\x20custom\x20topic:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','score-distribution-chart','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','md:col-span-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ideal-answer-input,\x20.correct-response-input','คะแนนยังไม่ถึงครึ่ง','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','กำลังเตรียมไฟล์อ้างอิง...','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','เกิดข้อผิดพลาดในการสร้าง:\x20','Error\x20joining\x20sync\x20game:','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','generate-from-file-btn','fullscreenchange','innerHTML','confidence-scoring-checkbox','อัศวินรัตติกาล','isAnonymousRevealed','scrollIntoView','Error\x20saving\x20lesson\x20to\x20project:','md:col-span-3','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','added','ร้อยละพื้นฐาน','per-question-text','pop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','candidates','matching','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','[data-topic-id]','temp-loader-text-results','ค่าสัมบูรณ์','ทำคะแนนได้เกินครึ่ง','ไม่พบโปรเจค','text','การยืนยันตัวตนล้มเหลว','onload','team-player-status-grid','file-tab','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','bg-blue-100\x20text-blue-800','พบข้อสอบ\x20','backgroundColor','.space-y-1.pl-4','block','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','contains','นักประดิษฐ์','playerNicknames','.bp-delete-topic-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','analytics-summary-cards','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','save-settings-btn','Error\x20displaying\x20question\x20bank:','Error\x20resetting\x20project\x20order:','close','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','anonymous_reveal_end','toLocaleDateString','.draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','28px','<tr\x20class=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-worksheet-pdf-btn','.question-editor-item','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','getItem','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','.question-editor-item[data-q-index=\x22','blueprint.pdf','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','toBlob','Leaderboard\x20update\x20transaction\x20failed:\x20','\x20to\x20','.answeredCurrentQuestion','\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20analyzing\x20blueprint\x20topics:','isRemedial','(คัดลอก)\x20','submit-group-answer-btn','(หลังเรียน)\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','scheduled','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Loaded\x20','show_results_and_answers','answer-counter','กรุณาเลือกโปรเจคปลายทาง','#FEF3C7','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','13135608zbrOvw','แก้ไขหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','(กำลังไล่ตาม)','Error\x20submitting\x20answer:','classList','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','fileShortcutOrder','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','ฟังก์ชันแบบชิ้นส่วน','file-input-area','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','beforeend','$1\x5c%','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','global-quiz-search-input','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','👁️','#F59E0B','blueprint-shortcut-container','กรุณาใส่ชื่อโปรเจค','deltaY','results_','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','ก้อนเมฆ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','dispatchEvent','min','สมการเหตุผล\x20(rational)','parallelShortcutTabs','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Export\x20Image\x20Error:','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','AudioContext','<button\x20data-tab-id=\x22','.bp-create-topic-quiz-btn','filter','.auto-resize-textarea','file-shortcut-container','.quiz-bank-item','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','แบบทดสอบที่ติดดาว','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status',')</button>','0\x20(รอโบนัส)','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','ปริมาตร/ความจุและการแปลง','bp-project-title','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','พิมพ์ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','Error\x20saving\x20parallel\x20shortcut\x20config:','/public/data/liveGames','toDataURL','/studentProfiles','/public/data/teamQuizzes','resize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','perfect_score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','[data-topic-id=\x22','difficulty-level-select','applicationHTML','สอบปกติ','topic-input-area','pointermove','ดาบพิฆาตอสูร','ย้าย','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result','manual-create-blueprint-btn','allResponses','idealAnswer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','font-bold\x20text-green-700','additional-parallel-shortcuts-modal','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเพิ่มนักเรียนได้','#F3E8FF','.project-card-content','center','add-student-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.score','.quiz-bank-checkbox:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','overflowY','currentQuestionIndex','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','bg-blue-500\x20hover:bg-blue-600\x20text-white','กฎของโคไซน์','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','currentPoints','next-review-question-btn','ลบหัวข้อสำเร็จ','msRequestFullscreen','🌗\x2050:50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','replaceChild','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','stem','text-blue-700','reset-project-order-btn','no-projects-msg','สำหรับโปรเจค:\x20','cancel-test-btn','size','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference-pdf-upload','.pin-key','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','[data-topic-container-id]','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','touchmove','lesson-view-content','button[type=\x22submit\x22]','ดอกเบี้ยทบต้น','isScored','camera-crop-btn','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','กรุณาเลือกคำตอบก่อนครับ','not_confident','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textContent','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','กัปตัน','checkbox','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','https://drive.google.com/uc?export=download&id=','results-quiz-title','Error\x20committing\x20score\x20updates:','fas\x20fa-bookmark','delete-all-students-btn','<button\x20id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','game-start-quiz-id','student-quiz-leaderboard-table-body','\x20to\x20blueprint\x20topic\x20','additional-file-shortcuts-list','not_generated','linkedQuizIds','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','BOOLEAN','hasPerfectScoreBonus','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','solution','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','sin','Error\x20submitting\x20group\x20answer:','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','ครูใหญ่','showImproveButton','json','overallGroups','back-from-results-btn','ตลาดมืด\x20(-1\x20P)','<button\x20id=\x22open-market-btn\x22\x20class=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนการสอน:\x20','เกิดข้อผิดพลาดในการปักหมุด','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-modal','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','เกิดข้อผิดพลาดในการใช้ตัวช่วย','fas\x20fa-user-edit','applicationContent','save-parallel-shortcut-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','passcode','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-container','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-300','delete-svg-btn','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','ควรปรับปรุง','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','.export-pdf-list-btn','กำลังสร้างเนื้อหา:\x20','/public/data/blueprintProjects','สายลมแห่งโชคชะตา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];_0x4b47=function(){return _0x3a7532;};return _0x4b47();}function setupScratchpadControls(){const _0x39fa5d=_0x4813c4,_0x2a393a=document[_0x39fa5d(0x3a5)]('scratchpad-modal'),_0x10faeb=document[_0x39fa5d(0x3a5)](_0x39fa5d(0x5d0));_0x10faeb['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x39fa5d(0xc2);const _0x48b883=document[_0x39fa5d(0x3a5)]('pen-tool-btn'),_0x804db=document[_0x39fa5d(0x3a5)](_0x39fa5d(0x1de)),_0x25ce56=document['getElementById'](_0x39fa5d(0x990)),_0x32ffe2=document['getElementById']('highlighter-tool-btn'),_0x496dc2=document[_0x39fa5d(0x3a5)](_0x39fa5d(0xb26)),_0x122583=document[_0x39fa5d(0x3a5)](_0x39fa5d(0xe1b)),_0x1af68f=document[_0x39fa5d(0x3a5)](_0x39fa5d(0xc51)),_0x530cb8=[_0x48b883,_0x804db,_0x25ce56,_0x32ffe2];document[_0x39fa5d(0x3a5)](_0x39fa5d(0x26d))[_0x39fa5d(0x9f0)](_0x39fa5d(0x79c),()=>_0x2a393a[_0x39fa5d(0xcde)][_0x39fa5d(0x483)](_0x39fa5d(0xc15))),document[_0x39fa5d(0x3a5)](_0x39fa5d(0xbdd))['addEventListener'](_0x39fa5d(0x79c),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x39fa5d(0x3b6))[_0x39fa5d(0x9f0)]('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById']('undo-btn')['addEventListener'](_0x39fa5d(0x79c),undo),document[_0x39fa5d(0x3a5)](_0x39fa5d(0x84f))[_0x39fa5d(0x9f0)](_0x39fa5d(0x79c),redo);const _0x757be5=_0x245822=>{const _0xd0c3dd=_0x39fa5d;_0x530cb8[_0xd0c3dd(0x140)](_0x54f420=>_0x54f420[_0xd0c3dd(0xcde)]['remove'](_0xd0c3dd(0xb9b))),_0x245822['classList'][_0xd0c3dd(0x483)](_0xd0c3dd(0xb9b)),_0x496dc2['classList'][_0xd0c3dd(0x483)](_0xd0c3dd(0xc15)),_0x122583[_0xd0c3dd(0xcde)][_0xd0c3dd(0x483)]('hidden'),_0x1af68f[_0xd0c3dd(0xcde)][_0xd0c3dd(0x483)](_0xd0c3dd(0xc15));if(activeTool===_0xd0c3dd(0x2a6)||activeTool===_0xd0c3dd(0x41f))_0x496dc2[_0xd0c3dd(0xcde)][_0xd0c3dd(0xa30)](_0xd0c3dd(0xc15));else{if(activeTool===_0xd0c3dd(0xc4d))_0x122583[_0xd0c3dd(0xcde)]['remove']('hidden');else activeTool===_0xd0c3dd(0x6f1)&&_0x1af68f[_0xd0c3dd(0xcde)]['remove'](_0xd0c3dd(0xc15));}};_0x48b883['addEventListener'](_0x39fa5d(0x79c),()=>{const _0x5ca240=_0x39fa5d;activeTool=_0x5ca240(0x2a6),_0x757be5(_0x48b883);}),_0x804db[_0x39fa5d(0x9f0)]('click',()=>{const _0x1a419c=_0x39fa5d;activeTool=_0x1a419c(0x6f1),_0x757be5(_0x804db);}),_0x25ce56['addEventListener'](_0x39fa5d(0x79c),()=>{const _0x22fa7a=_0x39fa5d;activeTool=_0x22fa7a(0x41f),_0x757be5(_0x25ce56);}),_0x32ffe2['addEventListener']('click',()=>{activeTool='highlighter',_0x757be5(_0x32ffe2);}),_0x496dc2[_0x39fa5d(0x660)]('.pen-size-btn')[_0x39fa5d(0x140)](_0x5f54c0=>{_0x5f54c0['addEventListener']('click',_0x87cf78=>{const _0x402161=_0x3082;scratchpadPenSize=parseInt(_0x87cf78[_0x402161(0x940)][_0x402161(0x315)][_0x402161(0xd52)],0xa),_0x496dc2[_0x402161(0x660)](_0x402161(0x2d7))[_0x402161(0x140)](_0x1ee2e3=>_0x1ee2e3[_0x402161(0xcde)][_0x402161(0xa30)](_0x402161(0xb9b))),_0x87cf78['target'][_0x402161(0xcde)][_0x402161(0x483)]('active');});}),_0x1af68f[_0x39fa5d(0x660)](_0x39fa5d(0x1d5))[_0x39fa5d(0x140)](_0xfe7269=>{const _0x3dabbe=_0x39fa5d;_0xfe7269[_0x3dabbe(0x9f0)](_0x3dabbe(0x79c),_0x1a91c4=>{const _0x288a9a=_0x3dabbe,_0xedf573=_0x1a91c4[_0x288a9a(0x45b)];scratchpadEraserSize=parseInt(_0xedf573[_0x288a9a(0x315)]['size'],0xa),_0x1af68f[_0x288a9a(0x660)](_0x288a9a(0x1d5))[_0x288a9a(0x140)](_0x3cd8ab=>_0x3cd8ab[_0x288a9a(0xcde)][_0x288a9a(0xa30)](_0x288a9a(0xb9b))),_0xedf573[_0x288a9a(0xcde)][_0x288a9a(0x483)](_0x288a9a(0xb9b));});}),_0x496dc2['querySelectorAll'](_0x39fa5d(0xb12))[_0x39fa5d(0x140)](_0x392911=>{const _0x1cb1a0=_0x39fa5d;_0x392911[_0x1cb1a0(0x9f0)](_0x1cb1a0(0x79c),_0x3a728a=>{const _0x18de25=_0x1cb1a0;scratchpadPenColor=_0x3a728a[_0x18de25(0x940)][_0x18de25(0x315)][_0x18de25(0x18d)],_0x496dc2['querySelectorAll'](_0x18de25(0xb12))['forEach'](_0x459eec=>_0x459eec[_0x18de25(0xcde)][_0x18de25(0xa30)](_0x18de25(0xb9b))),_0x3a728a[_0x18de25(0x940)][_0x18de25(0xcde)][_0x18de25(0x483)](_0x18de25(0xb9b));});}),_0x122583[_0x39fa5d(0x660)](_0x39fa5d(0xc69))[_0x39fa5d(0x140)](_0x44ed60=>{const _0x286512=_0x39fa5d;_0x44ed60['addEventListener'](_0x286512(0x79c),_0x1c2234=>{const _0xa7f0fc=_0x286512;scratchpadHighlighterColor=_0x1c2234[_0xa7f0fc(0x940)][_0xa7f0fc(0x315)][_0xa7f0fc(0x18d)],_0x122583[_0xa7f0fc(0x660)]('.highlighter-color-btn')['forEach'](_0x23c751=>_0x23c751[_0xa7f0fc(0xcde)][_0xa7f0fc(0xa30)](_0xa7f0fc(0xb9b))),_0x1c2234[_0xa7f0fc(0x940)][_0xa7f0fc(0xcde)][_0xa7f0fc(0x483)]('active');});});const _0x590936=document[_0x39fa5d(0x3a5)](_0x39fa5d(0x947)),_0x177bde=document[_0x39fa5d(0x3a5)]('highlighter-size-value');_0x590936['addEventListener'](_0x39fa5d(0x8ad),_0x2d73be=>{const _0x118245=_0x39fa5d,_0x288c0c=parseInt(_0x2d73be[_0x118245(0x940)][_0x118245(0x909)],0xa);scratchpadHighlighterSize=_0x288c0c,_0x177bde[_0x118245(0xd68)]=_0x288c0c;}),window['addEventListener'](_0x39fa5d(0xd1c),()=>{const _0x33c718=_0x39fa5d;!_0x2a393a[_0x33c718(0xcde)][_0x33c718(0xca5)](_0x33c718(0xc15))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x4813c4(0xd1f),'name':_0x4813c4(0x706),'description':_0x4813c4(0x5ae),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x4813c4(0x729),'name':_0x4813c4(0xab9),'description':_0x4813c4(0x328),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x4813c4(0x1a0),'name':_0x4813c4(0x72d),'description':_0x4813c4(0x8b3),'icon':_0x4813c4(0x65d)},'FIRST_TRY_ACE':{'id':_0x4813c4(0x33a),'name':_0x4813c4(0xddc),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x4813c4(0x9c7),'name':_0x4813c4(0x939),'description':_0x4813c4(0x38f),'icon':_0x4813c4(0x70c)},'SPECIALIST':{'id':_0x4813c4(0xaae),'name':_0x4813c4(0x2d1),'description':_0x4813c4(0x3af),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x4813c4(0x91d),'name':_0x4813c4(0x46b),'description':_0x4813c4(0x3dd),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x4813c4(0x5c9),'authDomain':_0x4813c4(0x96d),'projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x4813c4(0x327),'appId':_0x4813c4(0x102),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!=='undefined'?__app_id:_0x4813c4(0x312),adminView=document[_0x4813c4(0x3a5)]('admin-view'),studentView=document[_0x4813c4(0x3a5)](_0x4813c4(0x1ef)),projectDashboardView=document[_0x4813c4(0x3a5)]('project-dashboard-view'),projectDetailView=document[_0x4813c4(0x3a5)]('project-detail-view'),quizResultsView=document[_0x4813c4(0x3a5)]('quiz-results-view'),projectList=document[_0x4813c4(0x3a5)](_0x4813c4(0x9b7)),noProjectsMsg=document[_0x4813c4(0x3a5)](_0x4813c4(0xd4f)),projectTitle=document['getElementById'](_0x4813c4(0x9e)),projectIdDisplay=document[_0x4813c4(0x3a5)]('project-id-display'),studentList=document['getElementById'](_0x4813c4(0x3d2)),messageModal=document[_0x4813c4(0x3a5)]('message-modal'),modalMessage=document['getElementById']('modal-message'),createProjectModal=document['getElementById'](_0x4813c4(0x7fc)),adminPasswordModal=document[_0x4813c4(0x3a5)](_0x4813c4(0xa73)),confirmationModal=document[_0x4813c4(0x3a5)](_0x4813c4(0x3a3)),userIdDisplay=document[_0x4813c4(0x3a5)](_0x4813c4(0x7dc)),topicTab=document['getElementById']('topic-tab'),textTab=document[_0x4813c4(0x3a5)]('text-tab'),topicInputArea=document['getElementById'](_0x4813c4(0xd25)),textInputArea=document[_0x4813c4(0x3a5)](_0x4813c4(0x85b)),manageTab=document['getElementById'](_0x4813c4(0xb3b)),resultsTab=document[_0x4813c4(0x3a5)](_0x4813c4(0x6d0)),leaderboardTab=document[_0x4813c4(0x3a5)]('leaderboard-tab'),manageTabContent=document['getElementById'](_0x4813c4(0x4e8)),resultsTabContent=document[_0x4813c4(0x3a5)]('results-tab-content'),leaderboardTabContent=document[_0x4813c4(0x3a5)](_0x4813c4(0x5c4)),projectQuizzesList=document['getElementById']('project-quizzes-list'),fileTab=document[_0x4813c4(0x3a5)](_0x4813c4(0xc9b)),fileInputArea=document[_0x4813c4(0x3a5)]('file-input-area'),fileUploadInput=document['getElementById'](_0x4813c4(0xb27)),worksheetTab=document[_0x4813c4(0x3a5)](_0x4813c4(0x830)),worksheetInputArea=document[_0x4813c4(0x3a5)]('worksheet-input-area'),generateWorksheetBtn=document[_0x4813c4(0x3a5)](_0x4813c4(0x45e)),studentInitialView=document[_0x4813c4(0x3a5)](_0x4813c4(0xc5e)),studentNameSelectionView=document['getElementById']('student-name-selection-view'),studentQuizArea=document[_0x4813c4(0x3a5)]('student-quiz-area'),studentResultArea=document[_0x4813c4(0x3a5)]('student-result-area'),studentReadingArea=document[_0x4813c4(0x3a5)]('student-reading-area'),loadQuizBtn=document[_0x4813c4(0x3a5)]('load-quiz-btn'),startQuizBtn=document[_0x4813c4(0x3a5)](_0x4813c4(0x56b)),studentJoinGameView=document[_0x4813c4(0x3a5)](_0x4813c4(0x726)),presentationModal=document[_0x4813c4(0x3a5)](_0x4813c4(0x293)),renameQuizModal=document['getElementById'](_0x4813c4(0xb94)),moveQuizModal=document['getElementById'](_0x4813c4(0x61b)),quizSettingsModal=document[_0x4813c4(0x3a5)](_0x4813c4(0x278)),quizStatusModal=document[_0x4813c4(0x3a5)](_0x4813c4(0x89f)),liveGameView=document['getElementById'](_0x4813c4(0x1b7));function handleFixLessonLatex(){const _0x4a33ca=_0x4813c4,_0x5b5a01=document['getElementById'](_0x4a33ca(0xd5a));if(!_0x5b5a01){showMessage(_0x4a33ca(0xd63));return;}const _0x219ecd=_0x5b5a01[_0x4a33ca(0x660)]([_0x4a33ca(0x749),_0x4a33ca(0x89c),_0x4a33ca(0xa54),'.ai-content\x20td',_0x4a33ca(0x47b)][_0x4a33ca(0x15d)](','));let _0x4df83a=0x0;const _0x5866c4=_0x14d661=>_0x14d661['textContent']||'',_0x502644=(_0x3d518b,_0x18376e)=>{const _0x186b7d=_0x4a33ca;if(_0x3d518b[_0x186b7d(0x169)]&&_0x3d518b[_0x186b7d(0x169)](_0x186b7d(0x11f)))return;_0x3d518b['textContent']=_0x18376e;},_0x18cda8=_0x475494=>_0x475494[_0x4a33ca(0x94b)](/\u00A0/g,'\x20')[_0x4a33ca(0x94b)](/\u200B/g,'')[_0x4a33ca(0x94b)](/\r\n?/g,'\x0a'),_0xfaeaf2=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x233ae2=_0x175408=>{const _0x3e6661=_0x4a33ca;let _0x431634=_0x175408[_0x3e6661(0x7f3)]();const _0xf3270=[_0x3e6661(0x553),_0x3e6661(0x1be),_0x3e6661(0x109),_0x3e6661(0x50a),_0x3e6661(0xc97),_0x3e6661(0x9af),_0x3e6661(0x1ab),_0x3e6661(0xae0),'leq',_0x3e6661(0xd0),'le','ge',_0x3e6661(0x627),'pm',_0x3e6661(0x9ed),_0x3e6661(0xd83),_0x3e6661(0xb51),'tan','log','ln',_0x3e6661(0x75b),_0x3e6661(0x3ac),_0x3e6661(0x382),_0x3e6661(0x56f),'right',_0x3e6661(0xc7),_0x3e6661(0x654),'circ',_0x3e6661(0xa3b)];_0xf3270[_0x3e6661(0x140)](_0x3db9bc=>{const _0x9c77b7=_0x3e6661;_0x431634=_0x431634[_0x9c77b7(0x94b)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x3db9bc+'\x5cb','g'),(_0x48dd30,_0x2ad41f)=>_0x2ad41f+'\x5c'+_0x3db9bc);});const _0x3a97c3=[[/×/g,'\x5ctimes'],[/·/g,_0x3e6661(0xab3)],[/÷/g,_0x3e6661(0x59f)],[/≤/g,'\x5cle'],[/≥/g,_0x3e6661(0x2d5)],[/≠/g,_0x3e6661(0x120)],[/±/g,_0x3e6661(0x1c2)],[/∑/g,_0x3e6661(0x448)],[/−/g,'-']];return _0x3a97c3[_0x3e6661(0x140)](([_0x3a0f60,_0x4c0091])=>{const _0x5f16cf=_0x3e6661;_0x431634=_0x431634[_0x5f16cf(0x94b)](_0x3a0f60,_0x4c0091);}),_0x431634=_0x431634[_0x3e6661(0x94b)](/√\s*([A-Za-z0-9]+)/g,_0x3e6661(0xb87)),_0x431634=_0x431634[_0x3e6661(0x94b)](/(\d+)\s*%/g,_0x3e6661(0xce9)),_0x431634;},_0xce7b0e=_0x53ef09=>{const _0x39a701=_0x4a33ca;if(/\$|\\\(|\\\[/[_0x39a701(0x667)](_0x53ef09))return _0x53ef09;if(!_0xfaeaf2['test'](_0x53ef09))return _0x53ef09;const _0x3801e1=_0x53ef09['match'](/^\s*/)[0x0],_0x419172=_0x53ef09['match'](/\s*$/)[0x0],_0x4cad39=_0x53ef09['trim']();return _0x3801e1+'$'+_0x233ae2(_0x4cad39)+'$'+_0x419172;};_0x219ecd[_0x4a33ca(0x140)](_0x478793=>{const _0x3df148=_0x4a33ca,_0x1c8f87=_0x5866c4(_0x478793);let _0x1fc55b=_0x18cda8(_0x1c8f87);_0x1fc55b=_0x1fc55b['replace'](/\$([^$]*?)\$/g,(_0x3aa063,_0x4608eb)=>'$'+_0x233ae2(_0x4608eb)+'$');const _0x3b9c64=_0x1fc55b['split'](/(\s+)/),_0x371d10=_0x3b9c64[_0x3df148(0x86c)](_0x351bf2=>{const _0xd6a853=_0x3df148;if(/\s+/[_0xd6a853(0x667)](_0x351bf2))return _0x351bf2;return _0xce7b0e(_0x351bf2);});_0x1fc55b=_0x371d10[_0x3df148(0x15d)](''),_0x1fc55b!==_0x1c8f87&&(_0x502644(_0x478793,_0x1fc55b),_0x4df83a++);});if(_0x4df83a>0x0){showMessage(_0x4a33ca(0x563)+_0x4df83a+_0x4a33ca(0x74f));try{window[_0x4a33ca(0xe2)]&&MathJax['typesetPromise']&&MathJax[_0x4a33ca(0xacf)]([_0x5b5a01]);}catch(_0x10232b){console[_0x4a33ca(0xabd)](_0x4a33ca(0xc25),_0x10232b);}}else showMessage(_0x4a33ca(0xa48));}function handleAutoFixLatex(){const _0x53ac70=_0x4813c4,_0x3b2acc=document[_0x53ac70(0x3a5)]('quiz-editor-questions-container')||document,_0x1b1f3d=_0x3b2acc['querySelectorAll'](_0x53ac70(0x8c));let _0x1e4e18=0x0;const _0x2fae65=_0x138b20=>_0x53ac70(0x909)in _0x138b20?String(_0x138b20[_0x53ac70(0x909)]):_0x138b20[_0x53ac70(0xbac)]!==undefined?_0x138b20[_0x53ac70(0xbac)]:_0x138b20[_0x53ac70(0xd68)]||'',_0x398f69=(_0x4456f8,_0x5ec902)=>{const _0x13440c=_0x53ac70;if('value'in _0x4456f8){_0x4456f8[_0x13440c(0x909)]=_0x5ec902;return;}if(_0x4456f8[_0x13440c(0x169)]&&_0x4456f8['querySelector'](_0x13440c(0x11f)))return;if(_0x4456f8[_0x13440c(0xbac)]!==undefined)_0x4456f8[_0x13440c(0xbac)]=_0x5ec902;else _0x4456f8[_0x13440c(0xd68)]=_0x5ec902;},_0x3bf933=_0x406d57=>_0x406d57['replace'](/\u00A0/g,'\x20')[_0x53ac70(0x94b)](/\u200B/g,'')[_0x53ac70(0x94b)](/\r\n?/g,'\x0a'),_0xb92efb=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x127817=_0x5875de=>{const _0x3a9321=_0x53ac70;let _0x4fac97=_0x5875de[_0x3a9321(0x7f3)]();_0x4fac97=_0x4fac97[_0x3a9321(0x94b)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x4fac97=_0x4fac97[_0x3a9321(0x94b)](/\bfrac(\d)(\d)/g,_0x3a9321(0x8f0));const _0x3f9b64=[_0x3a9321(0x553),_0x3a9321(0x50a),_0x3a9321(0x9af),_0x3a9321(0x1ab),_0x3a9321(0xae0),_0x3a9321(0xde6),_0x3a9321(0xd0),_0x3a9321(0x627),'pm',_0x3a9321(0xd83),_0x3a9321(0xb51),_0x3a9321(0x363),_0x3a9321(0x84),'ln'];_0x3f9b64[_0x3a9321(0x140)](_0x46197c=>{const _0x3e1dd1=_0x3a9321;_0x4fac97=_0x4fac97[_0x3e1dd1(0x94b)](new RegExp(_0x3e1dd1(0x5fa)+_0x46197c+'\x5cb','g'),(_0x118856,_0x23317e)=>_0x23317e+'\x5c'+_0x46197c);});const _0x51016c=[[/×/g,_0x3a9321(0xa6f)],[/·/g,_0x3a9321(0xab3)],[/÷/g,'\x5cdiv'],[/≤/g,'\x5cle'],[/≥/g,'\x5cge'],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm']];return _0x51016c['forEach'](([_0x184f9a,_0x280fef])=>{const _0xdeb883=_0x3a9321;_0x4fac97=_0x4fac97[_0xdeb883(0x94b)](_0x184f9a,_0x280fef);}),_0x4fac97;},_0x4270d9=_0xfc7cf2=>{const _0xa0b469=_0x53ac70;if(/\$|\\\(|\\\[/['test'](_0xfc7cf2))return _0xfc7cf2;if(!_0xb92efb[_0xa0b469(0x667)](_0xfc7cf2))return _0xfc7cf2;const _0x998443=_0xfc7cf2[_0xa0b469(0xdfd)](/^\s*/)[0x0],_0x2bd453=_0xfc7cf2[_0xa0b469(0xdfd)](/\s*$/)[0x0],_0x51cdf8=_0xfc7cf2[_0xa0b469(0x7f3)]();return _0x998443+'$'+_0x127817(_0x51cdf8)+'$'+_0x2bd453;};_0x1b1f3d['forEach'](_0x45423e=>{const _0x646544=_0x53ac70,_0x111f66=_0x2fae65(_0x45423e);let _0x3330a3=_0x3bf933(_0x111f66);_0x3330a3=_0x3330a3[_0x646544(0x94b)](/\$([^$]*?)\$/g,(_0x299ddd,_0x431c58)=>'$'+_0x127817(_0x431c58)+'$');const _0x228d4d=_0x3330a3['split'](/(\s+)/),_0x138470=_0x228d4d[_0x646544(0x86c)](_0x310de7=>/\s+/[_0x646544(0x667)](_0x310de7)?_0x310de7:_0x4270d9(_0x310de7));_0x3330a3=_0x138470[_0x646544(0x15d)](''),_0x3330a3!==_0x111f66&&(_0x398f69(_0x45423e,_0x3330a3),_0x1e4e18++);});if(_0x1e4e18>0x0){showMessage(_0x53ac70(0x7ea)+_0x1e4e18+_0x53ac70(0x443));try{if(window[_0x53ac70(0xe2)]&&MathJax[_0x53ac70(0xacf)])MathJax[_0x53ac70(0xacf)]();}catch(_0x419211){}}else showMessage(_0x53ac70(0xd69));}async function listenForCustomMathTopics(){const _0x522879=_0x4813c4,_0xcfeb35=collection(db,'artifacts/'+appId+_0x522879(0xb3a));onSnapshot(_0xcfeb35,_0x4659bc=>{const _0x52c94c=_0x522879;customMathTopics=_0x4659bc[_0x52c94c(0xb32)][_0x52c94c(0x86c)](_0x8abfb0=>({'id':_0x8abfb0['id'],..._0x8abfb0[_0x52c94c(0x1ea)]()})),renderTopicCheckboxes();},_0x4ca687=>{const _0x54ce54=_0x522879;console[_0x54ce54(0xabd)](_0x54ce54(0x7f),_0x4ca687);});}function handleSelectAllTopics(){const _0x52f987=_0x4813c4,_0x236c4c=document[_0x52f987(0x3a5)](_0x52f987(0x14a)),_0x2e9f83=_0x236c4c[_0x52f987(0x660)]('input[type=\x22checkbox\x22]');_0x2e9f83[_0x52f987(0x140)](_0x1e13d8=>{const _0x409c4a=_0x52f987;_0x1e13d8[_0x409c4a(0x2e0)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2424b8=_0x4813c4,_0x1300e3=document[_0x2424b8(0x3a5)]('math-topics-checkbox-container'),_0x1f30c9=_0x1300e3[_0x2424b8(0x660)](_0x2424b8(0xa03));_0x1f30c9[_0x2424b8(0x140)](_0x2151e3=>{_0x2151e3['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x59f0b){const _0x4f69c4=_0x4813c4;if(!_0x59f0b)return;try{const _0x53e6c6=doc(db,_0x4f69c4(0x2b3)+appId+_0x4f69c4(0xb3a),_0x59f0b);await deleteDoc(_0x53e6c6),showMessage(_0x4f69c4(0xd45));}catch(_0x3fc26f){console['error'](_0x4f69c4(0x515),_0x3fc26f),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x5f2f40=_0x4813c4,_0x18e844=document[_0x5f2f40(0x3a5)](_0x5f2f40(0xacb)),_0x3501b3=_0x18e844['value']['trim']();if(!_0x3501b3){showMessage(_0x5f2f40(0x6b7));return;}if(!userId){showMessage(_0x5f2f40(0xa2e));return;}try{const _0x4a09b1=collection(db,_0x5f2f40(0x2b3)+appId+_0x5f2f40(0xb3a));await addDoc(_0x4a09b1,{'name':_0x3501b3,'createdAt':serverTimestamp()}),_0x18e844[_0x5f2f40(0x909)]='',showMessage(_0x5f2f40(0xcd0)+_0x3501b3+'\x22\x20สำเร็จ');}catch(_0x30400d){console[_0x5f2f40(0xabd)](_0x5f2f40(0x2de),_0x30400d),showMessage(_0x5f2f40(0x5dd));}}async function handleUpdateOldQuizzes(){const _0x52762b=_0x4813c4;showConfirmation(_0x52762b(0x9f3),async()=>{const _0x1059fb=_0x52762b,_0x7fa720=document[_0x1059fb(0x3a5)](_0x1059fb(0x69a)),_0x53a483=document[_0x1059fb(0x3a5)](_0x1059fb(0x3ba)),_0xdb9631=_0x53a483['textContent'];_0x7fa720['classList'][_0x1059fb(0xa30)](_0x1059fb(0xc15)),_0x53a483[_0x1059fb(0xd68)]=_0x1059fb(0x47a);try{const _0x2f7140=collection(db,_0x1059fb(0x2b3)+appId+_0x1059fb(0x60d)),_0x481eb3=await getDocs(_0x2f7140);if(_0x481eb3[_0x1059fb(0xc3f)]){showMessage(_0x1059fb(0xbca));return;}const _0x140677=writeBatch(db);let _0x4befcf=0x0;_0x481eb3['forEach'](_0x405826=>{const _0x4bef65=_0x1059fb,_0x4cb050=_0x405826[_0x4bef65(0x1ea)](),_0x13bb5d=_0x405826['id'];if(_0x4cb050['questions']&&_0x4cb050[_0x4bef65(0x1bc)][_0x4bef65(0xdbe)]>0x0&&!_0x4cb050[_0x4bef65(0x1bc)][0x0]['hasOwnProperty']('id')){console[_0x4bef65(0x84)](_0x4bef65(0xdb0)+_0x13bb5d+'\x20('+_0x4cb050['topic']+')'),_0x4befcf++;const _0x21eb81=_0x4cb050['questions'][_0x4bef65(0x86c)]((_0x377dab,_0x5824fe)=>{const _0x5f6343=_0x4bef65;return{..._0x377dab,'id':_0x377dab['id']||'q_'+Date[_0x5f6343(0x2d9)]()+'_'+_0x13bb5d+'_'+_0x5824fe};}),_0x1a8b6a=doc(db,_0x4bef65(0x2b3)+appId+_0x4bef65(0x60d),_0x13bb5d);_0x140677['update'](_0x1a8b6a,{'questions':_0x21eb81});}}),_0x4befcf>0x0?(_0x53a483['textContent']=_0x1059fb(0x682)+_0x4befcf+_0x1059fb(0x795),await _0x140677['commit'](),showMessage(_0x1059fb(0x47d)+_0x4befcf+_0x1059fb(0x2f4))):showMessage(_0x1059fb(0xb64));}catch(_0x3cd687){console[_0x1059fb(0xabd)](_0x1059fb(0x6f9),_0x3cd687),showMessage(_0x1059fb(0xb7f)+_0x3cd687[_0x1059fb(0xbd0)]);}finally{_0x7fa720[_0x1059fb(0xcde)][_0x1059fb(0x483)](_0x1059fb(0xc15)),_0x53a483[_0x1059fb(0xd68)]=_0xdb9631;}});}async function handleBulkUpdateQuizSettings(){const _0x427231=_0x4813c4,_0x253491={'shuffle':document[_0x427231(0x3a5)](_0x427231(0x5b1))[_0x427231(0x909)],'resultsDisplay':document[_0x427231(0x3a5)](_0x427231(0x2ca))[_0x427231(0x909)],'loopUntilPass':document[_0x427231(0x3a5)]('bulk-loop-until-pass-checkbox')[_0x427231(0x2e0)],'isConfidenceScoringEnabled':document[_0x427231(0x3a5)](_0x427231(0x2dd))[_0x427231(0x2e0)],'confidenceMode':document[_0x427231(0x3a5)]('bulk-confidence-mode-select')[_0x427231(0x909)]};try{showMessage(_0x427231(0x75a));const _0x285097=await getDocs(collection(db,_0x427231(0x2b3)+appId+'/public/data/quizzes')),_0x14c262=_0x285097[_0x427231(0xb32)][_0x427231(0x86c)](_0x3c0c89=>({'id':_0x3c0c89['id'],'data':_0x3c0c89[_0x427231(0x1ea)]()})),_0x30fcc1=_0x14c262[_0x427231(0xdbe)];showConfirmation(_0x427231(0x411)+_0x30fcc1+_0x427231(0x811),async()=>{const _0x1c61b2=_0x427231,_0x47da3a=document['getElementById'](_0x1c61b2(0x80d));_0x47da3a['disabled']=!![],_0x47da3a[_0x1c61b2(0xc7e)]=_0x1c61b2(0x2d8);try{const _0x1b5395=writeBatch(db);_0x14c262['forEach'](_0x1092d1=>{const _0x1c50eb=_0x1c61b2,_0x4253b2=doc(db,'artifacts/'+appId+_0x1c50eb(0x60d),_0x1092d1['id']),_0x5f3a7f={..._0x1092d1[_0x1c50eb(0x1ea)][_0x1c50eb(0x436)]||{},..._0x253491};_0x1b5395['update'](_0x4253b2,{'settings':_0x5f3a7f});}),await _0x1b5395['commit'](),document['getElementById'](_0x1c61b2(0xa98))[_0x1c61b2(0xcde)][_0x1c61b2(0x483)](_0x1c61b2(0xc15)),showMessage(_0x1c61b2(0xb57)+_0x30fcc1+_0x1c61b2(0xfc));}catch(_0x9e5eaf){console['error'](_0x1c61b2(0x8fa),_0x9e5eaf),showMessage(_0x1c61b2(0x367));}finally{_0x47da3a[_0x1c61b2(0x88c)]=![],_0x47da3a[_0x1c61b2(0xc7e)]=_0x1c61b2(0x72f);}});}catch(_0x2eb75d){console['error'](_0x427231(0x3c7),_0x2eb75d),showMessage(_0x427231(0xbc2));}}async function handleSaveProjectName(){const _0x5c7cc9=_0x4813c4,_0x450043=document[_0x5c7cc9(0x3a5)](_0x5c7cc9(0x9e)),_0x5c6410=document[_0x5c7cc9(0x3a5)](_0x5c7cc9(0x8de)),_0x2b7429=_0x450043[_0x5c7cc9(0xd68)][_0x5c7cc9(0x7f3)]();if(!_0x2b7429||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x450043[_0x5c7cc9(0xd68)]=currentProjectData[_0x5c7cc9(0x821)];return;}_0x5c6410[_0x5c7cc9(0x88c)]=!![],_0x5c6410[_0x5c7cc9(0xc7e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x5b25df=doc(db,_0x5c7cc9(0x2b3)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x5b25df,{'projectName':_0x2b7429}),currentProjectData&&(currentProjectData[_0x5c7cc9(0x821)]=_0x2b7429),showMessage(_0x5c7cc9(0x819));}catch(_0x14ea9d){console[_0x5c7cc9(0xabd)](_0x5c7cc9(0x268),_0x14ea9d),showMessage(_0x5c7cc9(0xdc0)),_0x450043['textContent']=currentProjectData['projectName'];}finally{_0x5c6410['classList'][_0x5c7cc9(0x483)]('hidden'),_0x5c6410['disabled']=![],_0x5c6410['innerHTML']=_0x5c7cc9(0x201);}}function handleGeneratePracticeTest(_0x48a34c,_0x21e388){const _0x579704=_0x4813c4,_0x4b4c0f=document[_0x579704(0x3a5)]('lesson-view-modal'),_0x40721e=document[_0x579704(0x3a5)](_0x579704(0x12b)),_0x448f8f=document['getElementById']('lesson-loader'),_0x148fe0=document[_0x579704(0x3a5)](_0x579704(0xa45));_0x40721e['textContent']='กำลังสร้างแบบทดสอบ:\x20'+_0x48a34c,_0x148fe0[_0x579704(0xcde)][_0x579704(0x483)](_0x579704(0xc15)),_0x448f8f[_0x579704(0xcde)][_0x579704(0xa30)](_0x579704(0xc15)),_0x4b4c0f[_0x579704(0xcde)][_0x579704(0xa30)](_0x579704(0xc15)),generatePracticeTest(_0x48a34c,_0x21e388)[_0x579704(0x450)](_0x27ab35=>{const _0x4f2856=_0x579704;console['error']('Failed\x20to\x20generate\x20practice\x20test:',_0x27ab35),showMessage(_0x4f2856(0x62b)),_0x4b4c0f[_0x4f2856(0xcde)]['add'](_0x4f2856(0xc15));});}async function generatePracticeTest(_0x372633,_0x4dce1f){const _0x3189b8=_0x4813c4;[_0x3189b8(0x164),'memoryContent',_0x3189b8(0xd97),_0x3189b8(0x6fd)]['forEach'](_0x4b38d5=>{const _0x179b66=_0x3189b8,_0x36dc4d=document[_0x179b66(0x3a5)](_0x4b38d5)[_0x179b66(0x589)];_0x36dc4d&&(_0x36dc4d['style']['display']='none');});try{const _0x29f087='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x55e8ef=_0x3189b8(0x3f5)+_0x4dce1f+_0x3189b8(0x33d)+_0x372633+_0x3189b8(0x21b),_0x2c379=await callGemini(_0x55e8ef,!![]),_0x9d4483=document[_0x3189b8(0x3a5)]('lesson-view-title'),_0x17196e=document[_0x3189b8(0x3a5)](_0x3189b8(0xc26)),_0x206234=document[_0x3189b8(0x3a5)]('lesson-sections-container'),_0x591435=document['getElementById'](_0x3189b8(0xd97))[_0x3189b8(0x589)];_0x9d4483[_0x3189b8(0xbac)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x372633[_0x3189b8(0x94b)](/•\s/g,'')+_0x3189b8(0xacd)+_0x4dce1f+')',currentApplicationData=JSON[_0x3189b8(0x452)](_0x2c379);const _0x4d2c01=document[_0x3189b8(0x3a5)](_0x3189b8(0xd97));_0x4d2c01[_0x3189b8(0xc7e)]=currentApplicationData[_0x3189b8(0x86c)]((_0x45b996,_0x3a7214)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x3a7214+0x1)+'.\x20'+marked['parseInline'](_0x45b996[_0x3189b8(0x8a8)])+_0x3189b8(0x1d7)+_0x3a7214+_0x3189b8(0x670)+_0x45b996[_0x3189b8(0x7f6)][_0x3189b8(0x86c)]((_0xd536e,_0x3b042b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x3a7214+',\x20'+_0x3b042b+_0x3189b8(0xb58)+String[_0x3189b8(0x612)](0x61+_0x3b042b)+'.\x20'+marked[_0x3189b8(0x638)](_0xd536e)+_0x3189b8(0x22a))[_0x3189b8(0x15d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3189b8(0x15d)](''),window['MathJax']&&MathJax[_0x3189b8(0xacf)]([_0x4d2c01]),_0x591435&&(_0x591435[_0x3189b8(0x40d)]['display']=_0x3189b8(0xca2)),_0x17196e['classList']['add']('hidden'),_0x206234[_0x3189b8(0xcde)]['remove'](_0x3189b8(0xc15));}catch(_0x24cc37){console[_0x3189b8(0xabd)](_0x24cc37);throw _0x24cc37;}}async function callGemini(_0x24c75f,_0x9d24b3=![]){const _0x3ff06b=_0x4813c4,_0x528701='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x25bce4=_0x3ff06b(0x347)+_0x528701,_0x2deda9={'contents':[{'parts':[{'text':_0x24c75f}]}]};_0x9d24b3&&(_0x2deda9[_0x3ff06b(0x52d)]={'responseMimeType':_0x3ff06b(0x6b6)},_0x24c75f['includes'](_0x3ff06b(0x6cc))?_0x2deda9[_0x3ff06b(0x52d)][_0x3ff06b(0xbee)]={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x3ff06b(0x799)},'curriculum':{'type':_0x3ff06b(0x7bb),'items':{'type':_0x3ff06b(0xb09),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x3ff06b(0x7bb),'items':{'type':_0x3ff06b(0xb09),'properties':{'topicName':{'type':_0x3ff06b(0x799)},'subTopics':{'type':_0x3ff06b(0x7bb),'items':{'type':'STRING'}}},'required':[_0x3ff06b(0x3b8),_0x3ff06b(0x91)]}}},'required':[_0x3ff06b(0x6a5),_0x3ff06b(0x119)]}}},'required':[_0x3ff06b(0xb77),_0x3ff06b(0x60b)]}:_0x2deda9[_0x3ff06b(0x52d)][_0x3ff06b(0xbee)]={'type':_0x3ff06b(0x7bb),'items':{'type':_0x3ff06b(0xb09),'properties':{'question':{'type':_0x3ff06b(0x799)},'options':{'type':_0x3ff06b(0x7bb),'items':{'type':_0x3ff06b(0x799)}},'answer':{'type':_0x3ff06b(0x29e)}},'required':[_0x3ff06b(0x8a8),'options',_0x3ff06b(0xc1a)]}});try{const _0x5baccd=await fetch(_0x25bce4,{'method':'POST','headers':{'Content-Type':_0x3ff06b(0x6b6)},'body':JSON[_0x3ff06b(0xe22)](_0x2deda9)});if(!_0x5baccd['ok']){const _0x151051=await _0x5baccd[_0x3ff06b(0xc97)]();console['error'](_0x3ff06b(0xa95),_0x151051);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x5baccd['status']);}const _0x1bbcaf=await _0x5baccd[_0x3ff06b(0xd89)]();if(_0x1bbcaf[_0x3ff06b(0xc8f)]&&_0x1bbcaf[_0x3ff06b(0xc8f)][0x0][_0x3ff06b(0x485)]&&_0x1bbcaf[_0x3ff06b(0xc8f)][0x0]['content']['parts'][0x0])return _0x1bbcaf['candidates'][0x0]['content']['parts'][0x0][_0x3ff06b(0xc97)];else{console[_0x3ff06b(0xabd)](_0x3ff06b(0x7a0),_0x1bbcaf);if(_0x1bbcaf[_0x3ff06b(0xc8f)]&&_0x1bbcaf[_0x3ff06b(0xc8f)][0x0][_0x3ff06b(0x319)]===_0x3ff06b(0x233))return JSON[_0x3ff06b(0xe22)]({'error':_0x3ff06b(0x93e)});throw new Error(_0x3ff06b(0xe2a));}}catch(_0x16a671){console['error'](_0x3ff06b(0x3e2),_0x16a671);throw _0x16a671;}}async function generateLesson(_0xb37475=null,_0x4f7790=null){const _0x319236=_0x4813c4,_0x173cc2=_0xb37475,_0x351ab7=_0x4f7790||'ไม่ระบุ',_0x4b7339=document[_0x319236(0x3a5)](_0x319236(0xc26)),_0x3a0d73=document['getElementById'](_0x319236(0x7ca));_0x3a0d73[_0x319236(0xd68)]=_0x319236(0xc08)+_0x173cc2+'\x22...';try{let _0x31851e=[];const _0x21c041=document['getElementById']('bp-reference-file-url')?.['value'][_0x319236(0x7f3)]();if(_0x21c041)try{_0x3a0d73[_0x319236(0xd68)]=_0x319236(0x783);const _0x1493a6=await fetchFileFromUrl(_0x21c041,_0x319236(0x7ab)),_0x434861=await new Promise((_0x31f88d,_0x204258)=>{const _0x32e869=_0x319236,_0x12ae54=new FileReader();_0x12ae54[_0x32e869(0xb98)](_0x1493a6),_0x12ae54[_0x32e869(0xc99)]=()=>_0x31f88d(_0x12ae54['result'][_0x32e869(0xa6a)](',')[0x1]),_0x12ae54[_0x32e869(0x46e)]=_0x204258;});_0x31851e['push']({'inlineData':{'mimeType':_0x1493a6[_0x319236(0x680)],'data':_0x434861}});}catch(_0x3d7cde){console['error'](_0x319236(0x95c),_0x3d7cde),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ');}const _0x44b386='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0x173cc2+_0x319236(0x3e1)+_0x173cc2+_0x319236(0x7d7);_0x3a0d73[_0x319236(0xd68)]=_0x319236(0xc08)+_0x173cc2+_0x319236(0x2ac);const _0x20a745=_0x319236(0x365)+_0x351ab7+_0x319236(0x33d)+_0x173cc2+_0x319236(0x90b)+_0x44b386+_0x319236(0x91e),_0xedb6e9=_0x319236(0x2f1)+_0x173cc2+_0x319236(0x6de)+_0x351ab7+_0x319236(0x6c4)+_0x44b386+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x2ee33f=_0x319236(0x2fa),_0x3eac26=_0x319236(0x3f5)+_0x351ab7+_0x319236(0x33d)+_0x173cc2+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44b386+_0x319236(0x195)+_0x2ee33f+_0x319236(0xaa1),_0x188259='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x173cc2+_0x319236(0x11e)+_0x351ab7+_0x319236(0x390)+_0x44b386+_0x319236(0x829),_0x54871a={'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0x319236(0x7bb),'items':{'type':_0x319236(0x799)}},'answer':{'type':'NUMBER'}},'required':[_0x319236(0x8a8),_0x319236(0x7f6),_0x319236(0xc1a)]}},[_0x1650bf,_0x40046e,_0x5d108e,_0x4143e5]=await Promise[_0x319236(0xa19)]([handleApiCall([{'text':_0x20a745},..._0x31851e],_0x319236(0xc41),null,null,![]),handleApiCall([{'text':_0xedb6e9},..._0x31851e],'...',null,null,![]),handleApiCall([{'text':_0x3eac26},..._0x31851e],_0x319236(0xc41),_0x54871a,null,![]),handleApiCall([{'text':_0x188259},..._0x31851e],_0x319236(0xc41),null,null,![])]),_0x57c64f=JSON[_0x319236(0xe22)](_0x5d108e||[]),_0x1c97f0=document[_0x319236(0x3a5)]('lesson-view-title'),_0x57f552=document[_0x319236(0x3a5)](_0x319236(0xa45));_0x1c97f0[_0x319236(0xbac)]=_0x319236(0xdbf)+_0x173cc2[_0x319236(0x94b)](/•\s/g,'')+_0x319236(0xacd)+_0x351ab7+')',[_0x319236(0x164),_0x319236(0xa32),_0x319236(0x6fd)]['forEach'](_0xe882c4=>{const _0x2f58b0=_0x319236;document[_0x2f58b0(0x3a5)](_0xe882c4)[_0x2f58b0(0xc7e)]='';}),document[_0x319236(0x3a5)](_0x319236(0x164))[_0x319236(0xc7e)]=_0x1650bf?marked[_0x319236(0x452)](_0x1650bf):_0x319236(0xdd2),document[_0x319236(0x3a5)](_0x319236(0xa32))[_0x319236(0xc7e)]=_0x40046e?marked[_0x319236(0x452)](_0x40046e):_0x319236(0xdd2),document[_0x319236(0x3a5)](_0x319236(0x6fd))[_0x319236(0xc7e)]=_0x4143e5?marked['parse'](_0x4143e5):_0x319236(0xdd2),currentApplicationData=JSON[_0x319236(0x452)](_0x57c64f);const _0x4d010a=document[_0x319236(0x3a5)](_0x319236(0xd97));_0x4d010a[_0x319236(0xc7e)]=(currentApplicationData||[])['map']((_0x583af7,_0x288ca6)=>_0x319236(0x8a0)+(_0x288ca6+0x1)+'.\x20'+marked[_0x319236(0x638)](_0x583af7[_0x319236(0x8a8)]||'')+_0x319236(0x1d7)+_0x288ca6+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x583af7[_0x319236(0x7f6)]||[])['map']((_0x102833,_0x1d48d6)=>_0x319236(0xda8)+_0x288ca6+',\x20'+_0x1d48d6+_0x319236(0xb58)+String['fromCharCode'](0x61+_0x1d48d6)+'.\x20'+marked['parseInline'](_0x102833||'')+_0x319236(0x22a))[_0x319236(0x15d)]('')+_0x319236(0x35a))['join']('')||_0x319236(0x7eb),window[_0x319236(0xe2)]&&MathJax[_0x319236(0xacf)]([_0x57f552]),_0x4b7339[_0x319236(0xcde)][_0x319236(0x483)](_0x319236(0xc15)),_0x57f552[_0x319236(0xcde)][_0x319236(0xa30)](_0x319236(0xc15));}catch(_0x53c852){console[_0x319236(0xabd)](_0x53c852);throw _0x53c852;}}function checkAnswer(_0x5bcf03,_0x5702d3){const _0x21b3de=_0x4813c4,_0x516a9d=currentApplicationData[_0x5bcf03],_0x5bc562=document[_0x21b3de(0x3a5)]('q'+_0x5bcf03+_0x21b3de(0x944)),_0x2acc06=_0x5bc562[_0x21b3de(0xe0a)](_0x21b3de(0xe1d));for(let _0x362b47 of _0x2acc06){_0x362b47[_0x21b3de(0x88c)]=!![];}_0x5702d3===_0x516a9d[_0x21b3de(0xc1a)]?_0x2acc06[_0x5702d3][_0x21b3de(0xcde)][_0x21b3de(0x483)](_0x21b3de(0x203)):(_0x2acc06[_0x5702d3]['classList'][_0x21b3de(0x483)](_0x21b3de(0x5ad)),_0x2acc06[_0x516a9d[_0x21b3de(0xc1a)]][_0x21b3de(0xcde)][_0x21b3de(0x483)](_0x21b3de(0x203)));}window[_0x4813c4(0x656)]=handleGenerateAndShowLesson,window[_0x4813c4(0x3f7)]=checkAnswer,window[_0x4813c4(0xa77)]=handleGeneratePracticeTest,window[_0x4813c4(0x5c5)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x3b69f7=_0x4813c4;if(document['getElementById']('cropper-modal'))return;const _0x1e18d6=_0x3b69f7(0x810);document[_0x3b69f7(0x281)][_0x3b69f7(0xe03)](_0x3b69f7(0xce8),_0x1e18d6),setupCropperButtons();}function setupCropperButtons(){const _0x11ca26=_0x4813c4;document[_0x11ca26(0x3a5)](_0x11ca26(0x88))['addEventListener']('click',()=>{const _0x5735ee=_0x11ca26;document['getElementById'](_0x5735ee(0x864))[_0x5735ee(0xcde)]['add'](_0x5735ee(0xc15)),cropperInstance&&(cropperInstance[_0x5735ee(0x8ac)](),cropperInstance=null),document[_0x5735ee(0x3a5)](_0x5735ee(0x39e))['value']='';}),document[_0x11ca26(0x3a5)](_0x11ca26(0x686))[_0x11ca26(0x9f0)]('click',()=>{const _0x518967=_0x11ca26;if(!cropperInstance)return;const _0x3d62e9=document[_0x518967(0x3a5)](_0x518967(0x686)),_0x5657f7=_0x3d62e9[_0x518967(0xc7e)];_0x3d62e9[_0x518967(0xc7e)]=_0x518967(0x11a),_0x3d62e9['disabled']=!![],cropperInstance['getCroppedCanvas']()[_0x518967(0xcc5)](async _0xa10b7a=>{const _0x34f897=_0x518967;document['getElementById'](_0x34f897(0x864))[_0x34f897(0xcde)][_0x34f897(0x483)](_0x34f897(0xc15));const _0x1f0d22=new File([_0xa10b7a],'cropped_image.png',{'type':_0x34f897(0x617)});await handleScanImageForText(_0x1f0d22),_0x3d62e9[_0x34f897(0xc7e)]=_0x5657f7,_0x3d62e9['disabled']=![],cropperInstance[_0x34f897(0x8ac)](),cropperInstance=null;},_0x518967(0x617));});}function startCropper(_0x59efe9){const _0x324dfa=_0x4813c4;ensureCropperModalExists();const _0x37a558=document[_0x324dfa(0x3a5)]('cropper-modal'),_0x2ff477=document[_0x324dfa(0x3a5)]('image-to-crop'),_0x35b3c2=new FileReader();_0x35b3c2['onload']=_0x460f72=>{const _0x517470=_0x324dfa;_0x2ff477[_0x517470(0x3c5)]=_0x460f72['target'][_0x517470(0xb8)],_0x37a558[_0x517470(0xcde)][_0x517470(0xa30)]('hidden');if(cropperInstance)cropperInstance['destroy']();cropperInstance=new Cropper(_0x2ff477,{'viewMode':0x1,'dragMode':_0x517470(0x745),'autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x35b3c2[_0x324dfa(0xb98)](_0x59efe9);}document[_0x4813c4(0x9f0)](_0x4813c4(0x455),()=>{const _0x128666=_0x4813c4,_0xdbc920=document['getElementById'](_0x128666(0x39e)),_0x245bbb=document[_0x128666(0x3a5)](_0x128666(0xd5e));_0x245bbb&&_0xdbc920&&(_0x245bbb[_0x128666(0x9f0)](_0x128666(0x79c),()=>{const _0x483fd6=_0x128666;_0xdbc920[_0x483fd6(0x909)]='',_0xdbc920[_0x483fd6(0x79c)]();}),_0xdbc920[_0x128666(0x9f0)](_0x128666(0xdff),_0x1d2ba2=>{const _0x56fcc6=_0x128666;_0x1d2ba2[_0x56fcc6(0x940)][_0x56fcc6(0x6f2)]&&_0x1d2ba2[_0x56fcc6(0x940)][_0x56fcc6(0x6f2)]['length']>0x0&&startCropper(_0x1d2ba2[_0x56fcc6(0x940)]['files'][0x0]);}));});async function handleScanImageForText(_0x16a6f8){const _0x54f529=_0x4813c4,_0x26d0f0=document[_0x54f529(0x3a5)](_0x54f529(0x95f)),_0x4c499b=document[_0x54f529(0x3a5)](_0x54f529(0xb70));if(!_0x16a6f8)return;_0x4c499b[_0x54f529(0x88c)]=!![],_0x4c499b['innerHTML']=_0x54f529(0xc36),_0x26d0f0[_0x54f529(0x6e5)]=_0x54f529(0x484);try{const _0x3304b1=await new Promise((_0x14c05a,_0x3533ec)=>{const _0x3ce92e=_0x54f529,_0x825668=new FileReader();_0x825668[_0x3ce92e(0xb98)](_0x16a6f8),_0x825668['onload']=()=>_0x14c05a(_0x825668[_0x3ce92e(0xb8)][_0x3ce92e(0xa6a)](',')[0x1]),_0x825668[_0x3ce92e(0x46e)]=_0x3533ec;}),_0x29742a=_0x54f529(0x498),_0x2709d5=[{'text':_0x29742a},{'inlineData':{'mimeType':_0x16a6f8[_0x54f529(0x680)],'data':_0x3304b1}}],_0x21f001=await handleApiCall(_0x2709d5,_0x54f529(0x6e3),null,null,![]);if(_0x21f001){const _0x4c8a91=_0x26d0f0['value'][_0x54f529(0x7f3)]();_0x26d0f0[_0x54f529(0x909)]=_0x4c8a91?_0x4c8a91+'\x0a\x0a'+_0x21f001:_0x21f001,showMessage(_0x54f529(0x13d));}else throw new Error(_0x54f529(0x2f9));}catch(_0x2b3285){console[_0x54f529(0xabd)](_0x54f529(0x694),_0x2b3285),showMessage('เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20'+_0x2b3285[_0x54f529(0xbd0)]);}finally{_0x4c499b[_0x54f529(0x88c)]=![],_0x4c499b[_0x54f529(0xc7e)]=_0x54f529(0xaeb),document[_0x54f529(0x3a5)](_0x54f529(0xbb5))[_0x54f529(0x909)]='';}}async function initialize(){const _0xd850d9=_0x4813c4;try{const _0x534aa9=initializeApp(firebaseConfig);db=getFirestore(_0x534aa9),auth=getAuth(_0x534aa9),setupAuthListener(),setupEventListeners(),showView(_0xd850d9(0x6e2)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x4872f8){console[_0xd850d9(0xabd)](_0xd850d9(0x27e),_0x4872f8),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x31f782=_0x4813c4,_0x5fdda0=document[_0x31f782(0x3a5)](_0x31f782(0xd93));if(!_0x5fdda0)return;const _0x169740=document[_0x31f782(0x3a5)]('verify-answers-editor-btn');_0x169740[_0x31f782(0x88c)]=!![],_0x169740[_0x31f782(0xc7e)]=_0x31f782(0x715);try{const _0xa2b724=_0x5fdda0['querySelectorAll'](_0x31f782(0xcba)),_0x147e02=Array['from'](_0xa2b724)['map']((_0x1bba89,_0x26be3a)=>{const _0x41624a=_0x31f782,_0x28169b=_0x1bba89[_0x41624a(0x315)]['qType'],_0x351d4d=_0x1bba89['querySelector']('textarea')[_0x41624a(0x909)];let _0x4f62af=null,_0x37bacb='';switch(_0x28169b){case _0x41624a(0x260):const _0x446a25=_0x1bba89['querySelectorAll'](_0x41624a(0x6c5));_0x4f62af=Array[_0x41624a(0x1a4)](_0x446a25)['map'](_0x22d94b=>_0x22d94b[_0x41624a(0x909)]);const _0x554415=_0x1bba89['querySelector'](_0x41624a(0x976));_0x554415&&(_0x37bacb=_0x4f62af[parseInt(_0x554415[_0x41624a(0x909)])]);break;case'short_answer':_0x4f62af=[],_0x37bacb=_0x1bba89['querySelector'](_0x41624a(0x828))[_0x41624a(0x909)];break;case _0x41624a(0x162):_0x4f62af=[_0x41624a(0xa55),'false'];const _0x4db9ab=_0x1bba89['querySelector'](_0x41624a(0x976));_0x37bacb=_0x4db9ab?_0x4db9ab[_0x41624a(0x909)]:'';break;case _0x41624a(0x392):_0x4f62af=[],_0x37bacb=_0x1bba89[_0x41624a(0x169)]('.correct-response-input')[_0x41624a(0x909)];break;}return{'question':_0x351d4d,'options':_0x4f62af,'proposedAnswer':_0x37bacb};}),_0x5ef052=_0x31f782(0x146)+JSON[_0x31f782(0xe22)](_0x147e02)+_0x31f782(0x843),_0x36f0d9={'type':'ARRAY','items':{'type':_0x31f782(0xb09),'properties':{'questionIndex':{'type':_0x31f782(0x29e)},'isCorrect':{'type':_0x31f782(0xd7d)},'justification':{'type':_0x31f782(0x799)},'correctOptionExists':{'type':_0x31f782(0xd7d)},'suggestedAnswer':{'type':'STRING'},'newOptionsPayload':{'type':_0x31f782(0xb09),'properties':{'newOptions':{'type':_0x31f782(0x7bb),'items':{'type':_0x31f782(0x799)}},'newCorrectIndex':{'type':'NUMBER'}}}},'required':['questionIndex',_0x31f782(0x8a),'justification']}},_0x1931c4=await callAnalysisApi(_0x5ef052,{'type':'OBJECT','properties':{'result':_0x36f0d9},'required':['result']});displayVerificationResultsInEditor(_0x1931c4[_0x31f782(0xb8)]);}catch(_0x563a20){console[_0x31f782(0xabd)](_0x31f782(0xb69),_0x563a20),showMessage(_0x31f782(0x213));}finally{_0x169740[_0x31f782(0x88c)]=![],_0x169740[_0x31f782(0xc7e)]=_0x31f782(0x653);}}function displayVerificationResultsInEditor(_0x5ac975){const _0x4b01f0=_0x4813c4;_0x5ac975[_0x4b01f0(0x140)](_0xb0388b=>{const _0x5da526=_0x4b01f0,_0x49e70b=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0xb0388b[_0x5da526(0x792)]+'\x22]');if(!_0x49e70b)return;const _0x1f9b24=_0x49e70b[_0x5da526(0x169)](_0x5da526(0xa3e));if(_0x1f9b24)_0x1f9b24[_0x5da526(0xa30)]();let _0x736c80='';if(_0xb0388b['newOptionsPayload']&&_0xb0388b['newOptionsPayload'][_0x5da526(0x77d)]){const _0x1d63d9=_0xb0388b[_0x5da526(0xbaf)][_0x5da526(0x77d)],_0x19cd0e=_0xb0388b[_0x5da526(0xbaf)][_0x5da526(0x4dd)],_0x290313=_0x49e70b[_0x5da526(0x315)]['qType'];if(_0x290313==='multiple_choice'){const _0x40854b=_0x49e70b['querySelectorAll']('input[type=\x22text\x22]');_0x40854b[_0x5da526(0x140)]((_0x5ece32,_0x5de7e2)=>{const _0x2a9a4d=_0x5da526;_0x1d63d9[_0x5de7e2]?_0x5ece32[_0x2a9a4d(0x909)]=_0x1d63d9[_0x5de7e2]:_0x5ece32[_0x2a9a4d(0x909)]=_0x2a9a4d(0x618);});const _0x16fc61=_0x49e70b[_0x5da526(0x169)](_0x5da526(0x679)+_0x19cd0e+'\x22]');_0x16fc61&&(_0x16fc61[_0x5da526(0x2e0)]=!![]),_0x736c80=_0x5da526(0xa20),_0x49e70b[_0x5da526(0xcde)][_0x5da526(0x483)](_0x5da526(0x48a),_0x5da526(0x582),_0x5da526(0x4c0)),setTimeout(()=>{const _0x1fd7d2=_0x5da526;_0x49e70b[_0x1fd7d2(0xcde)][_0x1fd7d2(0xa30)](_0x1fd7d2(0x48a));},0x9c4);}}else{if(!_0xb0388b['isCorrect']&&_0xb0388b['suggestedAnswer']){const _0x8e508f=_0xb0388b[_0x5da526(0x655)]?_0x5da526(0x604):'';_0x736c80='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x8e508f+_0x5da526(0x127)+_0xb0388b[_0x5da526(0xe10)]+_0x5da526(0xc3a)+(_0xb0388b['suggestedAnswer']?_0x5da526(0x3d1)+_0xb0388b[_0x5da526(0x655)]+_0x5da526(0x340):'')+_0x5da526(0x4cd);const _0xebd308=_0x49e70b[_0x5da526(0x315)][_0x5da526(0x826)],_0x59a05=_0x3304e0=>{const _0x334588=_0x5da526;if(!_0x3304e0)return;_0x3304e0[_0x334588(0xcde)]['add'](_0x334588(0x628),_0x334588(0x582),_0x334588(0x4c0)),setTimeout(()=>{const _0x440c35=_0x334588;_0x3304e0[_0x440c35(0xcde)]['remove'](_0x440c35(0x628));},0x9c4);};if(_0xebd308===_0x5da526(0x260)){const _0xefccd4=Array[_0x5da526(0x1a4)](_0x49e70b['querySelectorAll'](_0x5da526(0x6c5))),_0x342061=_0xefccd4['findIndex'](_0x36b46b=>_0x36b46b[_0x5da526(0x909)][_0x5da526(0x7f3)]()['toLowerCase']()===_0xb0388b['suggestedAnswer']['trim']()['toLowerCase']());if(_0x342061!==-0x1){const _0x4222f9=_0x49e70b[_0x5da526(0x169)]('input[type=\x22radio\x22][value=\x22'+_0x342061+'\x22]');_0x4222f9&&(_0x4222f9[_0x5da526(0x2e0)]=!![],_0x59a05(_0x4222f9['closest'](_0x5da526(0xae0))));}}else{if(_0xebd308===_0x5da526(0x311)||_0xebd308===_0x5da526(0x392)){const _0x151704=_0x49e70b[_0x5da526(0x169)](_0x5da526(0xc72));_0x151704&&(_0x151704[_0x5da526(0x909)]=_0xb0388b['suggestedAnswer'],_0x59a05(_0x151704));}else{if(_0xebd308===_0x5da526(0x162)){const _0x27c812=_0xb0388b[_0x5da526(0x655)][_0x5da526(0x7f3)]()[_0x5da526(0x7c4)](),_0x43b9d=_0x49e70b[_0x5da526(0x169)](_0x5da526(0x679)+_0x27c812+'\x22]');_0x43b9d&&(_0x43b9d[_0x5da526(0x2e0)]=!![],_0x59a05(_0x43b9d[_0x5da526(0x5f8)]('div')));}}}}else _0xb0388b[_0x5da526(0x8a)]&&(_0x736c80=_0x5da526(0x934));}_0x49e70b[_0x5da526(0xe03)]('beforeend',_0x736c80);}),showMessage(_0x4b01f0(0xacc));}async function handleVerifyAnswers(){const _0x1ffc45=_0x4813c4;if(!currentQuizData||!currentQuizData[_0x1ffc45(0x1bc)]){showMessage(_0x1ffc45(0x92f));return;}const _0x26c892=document[_0x1ffc45(0x3a5)](_0x1ffc45(0x8f9));_0x26c892['disabled']=!![],_0x26c892['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x4e45b0=currentQuizData['questions'][_0x1ffc45(0x86c)]((_0x24dd52,_0x218187)=>{const _0x482d6c=_0x1ffc45;let _0x37e5a7='';const _0x1b0c45=_0x24dd52[_0x482d6c(0x51d)]||currentQuizData[_0x482d6c(0xa34)];switch(_0x1b0c45){case _0x482d6c(0x260):_0x37e5a7=_0x24dd52[_0x482d6c(0x7f6)][_0x24dd52[_0x482d6c(0x54b)]];break;case _0x482d6c(0x311):_0x37e5a7=_0x24dd52[_0x482d6c(0xd2d)];break;case _0x482d6c(0x162):_0x37e5a7=_0x24dd52[_0x482d6c(0xa25)][_0x482d6c(0x101)]();break;case _0x482d6c(0x392):_0x37e5a7=_0x24dd52[_0x482d6c(0x18a)];break;}return{'question':_0x24dd52['stem']||_0x24dd52[_0x482d6c(0x929)],'options':_0x24dd52[_0x482d6c(0x7f6)]||null,'proposedAnswer':_0x37e5a7};}),_0x1c6064=_0x1ffc45(0x86f)+JSON['stringify'](_0x4e45b0)+_0x1ffc45(0xda2),_0x468223={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x1ffc45(0x29e)},'isCorrect':{'type':_0x1ffc45(0xd7d)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex',_0x1ffc45(0x8a),_0x1ffc45(0xe10)]}},_0x1180c3=await callAnalysisApi(_0x1c6064,{'type':_0x1ffc45(0xb09),'properties':{'result':_0x468223},'required':['result']});displayVerificationResults(_0x1180c3[_0x1ffc45(0xb8)]);}catch(_0x574c67){console['error'](_0x1ffc45(0x644),_0x574c67),showMessage(_0x1ffc45(0x213));}finally{_0x26c892[_0x1ffc45(0x88c)]=![],_0x26c892[_0x1ffc45(0xc7e)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x3d76d4){const _0x59ed6d=_0x4813c4;_0x3d76d4[_0x59ed6d(0x140)](_0x103b72=>{const _0x2815c0=_0x59ed6d,_0x1ea3be=document[_0x2815c0(0x169)](_0x2815c0(0x850)+_0x103b72[_0x2815c0(0x792)]+'\x22]');if(_0x1ea3be){const _0x405202=_0x1ea3be[_0x2815c0(0x169)](_0x2815c0(0xd2a));if(_0x405202)_0x405202[_0x2815c0(0xa30)]();let _0x30f0c6='';_0x103b72[_0x2815c0(0x8a)]?_0x30f0c6=_0x2815c0(0xd9d):_0x30f0c6=_0x2815c0(0xaad)+_0x103b72[_0x2815c0(0xe10)]+_0x2815c0(0x4b9)+(_0x103b72[_0x2815c0(0x655)]?_0x2815c0(0x3d1)+_0x103b72[_0x2815c0(0x655)]+_0x2815c0(0x340):'')+_0x2815c0(0xb2b),_0x1ea3be[_0x2815c0(0xe03)](_0x2815c0(0xce8),_0x30f0c6);}}),showMessage(_0x59ed6d(0xacc));}function compareNumericalAnswers(_0x48b56f,_0x3277eb){const _0x3a0bb6=_0x4813c4,_0x14672e=String(_0x48b56f)[_0x3a0bb6(0x94b)](',','.')[_0x3a0bb6(0x94b)](/[^\d.-]/g,'')[_0x3a0bb6(0x7f3)](),_0x3e1b77=String(_0x3277eb)['replace'](',','.')[_0x3a0bb6(0x94b)](/[^\d.-]/g,'')[_0x3a0bb6(0x7f3)]();if(_0x14672e===''||_0x3e1b77==='')return![];const _0x5ca626=parseFloat(_0x14672e),_0x168aaf=parseFloat(_0x3e1b77);if(isNaN(_0x5ca626)||isNaN(_0x168aaf))return![];return Math[_0x3a0bb6(0x279)](_0x5ca626-_0x168aaf)<0.001;}function isPotentiallyNumeric(_0x397727){const _0x5debc4=_0x4813c4;if(typeof _0x397727!==_0x5debc4(0x8e3)&&typeof _0x397727!=='number')return![];const _0x160f98=String(_0x397727)['replace'](',','.')[_0x5debc4(0x7f3)]();return _0x160f98!==''&&!isNaN(parseFloat(_0x160f98))&&isFinite(_0x160f98);}async function gradeShortAnswer(_0x43d359,_0x2f2312){const _0x4ff968=_0x4813c4,_0xde271b=_0x2f2312[_0x4ff968(0xd2d)],_0x2e1039=String(_0x43d359)[_0x4ff968(0x94b)](/\$/g,'')[_0x4ff968(0x7f3)](),_0x749c36=String(_0xde271b)[_0x4ff968(0x94b)](/\$/g,'')[_0x4ff968(0x7f3)]();if(_0x2e1039[_0x4ff968(0x7c4)]()===_0x749c36[_0x4ff968(0x7c4)]())return!![];if(isPotentiallyNumeric(_0x2e1039)&&isPotentiallyNumeric(_0x749c36)){if(compareNumericalAnswers(_0x2e1039,_0x749c36))return!![];}return console['log'](_0x4ff968(0x398)),![];}async function revealAnswerForAdmin(_0x1818c5,_0x427806){const _0x40a8a=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x40a8a,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x35b18a){const _0x51b2ff=_0x4813c4,_0x47b684=Object[_0x51b2ff(0x3fb)](_0x35b18a[_0x51b2ff(0x2e8)]||{})[_0x51b2ff(0xd05)](_0x2681ea=>_0x2681ea[_0x51b2ff(0xd0e)]===_0x51b2ff(0xb9b));_0x47b684[_0x51b2ff(0x9a1)]((_0x99d071,_0x15bb5b)=>_0x15bb5b['score']-_0x99d071['score']);const _0x504e9e=_0x47b684[_0x51b2ff(0xa8a)](0x0,0x5),_0x5025e7=_0x51b2ff(0x571)+_0x504e9e['map']((_0x562beb,_0x2c8cae)=>_0x51b2ff(0xf5)+(_0x2c8cae+0x1)+'.\x20'+(_0x562beb[_0x51b2ff(0x4a4)]||Object[_0x51b2ff(0xaab)](_0x35b18a[_0x51b2ff(0x2e8)])['find'](_0x1b5d0f=>_0x35b18a[_0x51b2ff(0x2e8)][_0x1b5d0f]===_0x562beb))+_0x51b2ff(0xd62)+_0x562beb[_0x51b2ff(0x863)]+_0x51b2ff(0xcdf))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x35b18a[_0x51b2ff(0xd3d)]+0x1===currentQuizData[_0x51b2ff(0x1bc)][_0x51b2ff(0xdbe)]?_0x51b2ff(0xa75):_0x51b2ff(0xad9))+_0x51b2ff(0x33b);liveGameView[_0x51b2ff(0xc7e)]=_0x5025e7,document[_0x51b2ff(0x3a5)](_0x51b2ff(0xdda))['addEventListener'](_0x51b2ff(0x79c),async()=>{const _0x1af7d4=_0x51b2ff,_0x2fcfb8=doc(db,_0x1af7d4(0x2b3)+appId+_0x1af7d4(0xd18),currentLiveGameId),_0x222274=_0x35b18a['currentQuestionIndex']+0x1;if(_0x222274<currentQuizData[_0x1af7d4(0x1bc)][_0x1af7d4(0xdbe)]){const _0x3f1f49={'currentQuestionIndex':_0x222274,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x1af7d4(0xa8)};Object['keys'](_0x35b18a[_0x1af7d4(0x2e8)])[_0x1af7d4(0x140)](_0x4f8fde=>{const _0x42d2b5=_0x1af7d4;_0x3f1f49[_0x42d2b5(0xb9a)+_0x4f8fde+_0x42d2b5(0xcc8)]=![];}),await updateDoc(_0x2fcfb8,_0x3f1f49);}else await updateDoc(_0x2fcfb8,{'status':_0x1af7d4(0x471)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x361930=>{const _0x31ffa4=_0x3082;if(_0x361930){userId=_0x361930[_0x31ffa4(0x997)],userIdDisplay['textContent']=userId;const _0x578324=await loadUserPreferences();_0x578324['projectSortOrder']&&(document[_0x31ffa4(0x3a5)](_0x31ffa4(0x3ee))['value']=_0x578324[_0x31ffa4(0x6b0)]);globalDashboardSettings['projectView']=_0x578324[_0x31ffa4(0x461)]||_0x31ffa4(0x4b3);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x2852b6,_0x2b6312){const _0x255587=_0x4813c4;if(!userId)return;try{const _0x54bdcd=doc(db,_0x255587(0x2b3)+appId+'/users/'+userId+_0x255587(0x894)),_0x1c0911={};_0x1c0911[_0x2852b6]=_0x2b6312,await setDoc(_0x54bdcd,_0x1c0911,{'merge':!![]});}catch(_0x349575){console[_0x255587(0xabd)](_0x255587(0xa26),_0x349575);}}async function loadUserPreferences(){const _0x359604=_0x4813c4;if(!userId)return{};try{const _0x558cfc=doc(db,_0x359604(0x2b3)+appId+'/users/'+userId+_0x359604(0x894)),_0x350353=await getDoc(_0x558cfc);if(_0x350353[_0x359604(0x3ea)]())return _0x350353[_0x359604(0x1ea)]();return{};}catch(_0xdda59a){return console[_0x359604(0xabd)](_0x359604(0x7be),_0xdda59a),{};}}function parseIndentedBlueprint(_0x2d292b){const _0x387de1=_0x4813c4,_0x2c40c9=_0x2d292b['split']('\x0a')[_0x387de1(0xd05)](_0x1d1f14=>_0x1d1f14[_0x387de1(0x7f3)]()!==''),_0x4f48e6=[];let _0x2e5e96=null,_0xc94b63=null;return _0x2c40c9[_0x387de1(0x140)](_0x26fd81=>{const _0x10591f=_0x387de1,_0x4ed01f=_0x26fd81[_0x10591f(0xdfd)](/^\s*/)[0x0][_0x10591f(0xdbe)],_0x4b6b09=_0x26fd81[_0x10591f(0x7f3)]();if(_0x4ed01f===0x0)_0x2e5e96={'sara':_0x4b6b09,'mainTopics':[]},_0x4f48e6[_0x10591f(0x8a5)](_0x2e5e96),_0xc94b63=null;else{if(_0x4ed01f>0x0&&_0x4ed01f<0x8&&_0x2e5e96)_0xc94b63={'topicName':_0x4b6b09,'subTopics':[]},_0x2e5e96[_0x10591f(0x119)][_0x10591f(0x8a5)](_0xc94b63);else _0x4ed01f>=0x8&&_0xc94b63&&_0xc94b63[_0x10591f(0x91)][_0x10591f(0x8a5)](_0x4b6b09);}}),{'curriculum':_0x4f48e6};}async function handleManualBlueprintSave(){const _0x524298=_0x4813c4,_0x53ec71=document[_0x524298(0x3a5)](_0x524298(0x2ff))['value'][_0x524298(0x7f3)](),_0x4fe61a=document[_0x524298(0x3a5)](_0x524298(0x314))['value'][_0x524298(0x7f3)](),_0x51205f=document['getElementById'](_0x524298(0x15e))['value'];if(!_0x53ec71||!_0x4fe61a||!_0x51205f){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x1c2381=parseIndentedBlueprint(_0x51205f);if(!_0x1c2381[_0x524298(0x60b)]||_0x1c2381['curriculum']['length']===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x36e659={};let _0x51b9b1=0x0;_0x1c2381[_0x524298(0x60b)]['forEach'](_0x18084a=>{const _0x88e009=_0x524298;_0x18084a[_0x88e009(0x119)][_0x88e009(0x140)](_0x132f8d=>{const _0x38c611=_0x88e009;_0x132f8d['subTopics'][_0x38c611(0x140)](_0x32d903=>{const _0x356b70=_0x38c611,_0x484501='topic_'+Date[_0x356b70(0x2d9)]()+Math[_0x356b70(0x89e)]()[_0x356b70(0x101)](0x24)[_0x356b70(0x527)](0x2,0x9);_0x36e659[_0x484501]={'sara':_0x18084a['sara'],'mainTopic':_0x132f8d[_0x356b70(0x3b8)],'subTopic':_0x32d903,'status':'not_generated','lessonContent':null,'order':_0x51b9b1++};});});});try{const _0x30042c=collection(db,_0x524298(0x2b3)+appId+_0x524298(0xdab));await addDoc(_0x30042c,{'projectName':_0x53ec71,'gradeLevel':_0x4fe61a,'topics':_0x36e659,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x53ec71+_0x524298(0x927)),document['getElementById'](_0x524298(0x9cf))[_0x524298(0xcde)][_0x524298(0x483)](_0x524298(0xc15));}catch(_0x4162c8){console[_0x524298(0xabd)]('Error\x20saving\x20manual\x20blueprint\x20project:',_0x4162c8),showMessage(_0x524298(0x9fb));}}function handleClearAllLinksForTopic(_0x13ece2){const _0x161c4e=_0x4813c4;showConfirmation(_0x161c4e(0x7f5),async()=>{const _0x286cc0=_0x161c4e;try{const _0x143376=doc(db,_0x286cc0(0x2b3)+appId+_0x286cc0(0xdab),currentBlueprintProjectId);await updateDoc(_0x143376,{[_0x286cc0(0x155)+_0x13ece2+'.linkedQuizIds']:[]}),showMessage(_0x286cc0(0xc05)),openTopicQuizBank(_0x13ece2),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1293fc){console[_0x286cc0(0xabd)](_0x286cc0(0xdd8),_0x1293fc),showMessage(_0x286cc0(0x954));}});}function showPodiumView(_0x5632ba,_0x4f8f5f=_0x4813c4(0x5b4),_0x4a8518=null){const _0x4033b1=_0x4813c4,_0x417fbc=_0x4a8518?.['isBlackMarketEnabled']===!![],_0x486bde=Object[_0x4033b1(0x342)](_0x5632ba)[_0x4033b1(0x86c)](([_0x1731b0,_0x7ad4d1])=>({'name':_0x1731b0,'realScore':_0x7ad4d1['realScore']||_0x7ad4d1[_0x4033b1(0x863)]||0x0,'totalPoints':_0x7ad4d1['totalPoints']||0x0,'badges':_0x7ad4d1[_0x4033b1(0x69f)]||[],'hasPerfectScoreBonus':_0x7ad4d1[_0x4033b1(0xd7e)]||![]})),_0x2a5ee4=Math['max'](..._0x486bde[_0x4033b1(0x86c)](_0x28d893=>_0x28d893[_0x4033b1(0x183)]),-Infinity),_0x28c8c5=Math[_0x4033b1(0x4c9)](..._0x486bde[_0x4033b1(0x86c)](_0x1bba36=>_0x1bba36[_0x4033b1(0x602)]),-Infinity);_0x486bde[_0x4033b1(0x9a1)]((_0x3769ea,_0x202292)=>{const _0x14db93=_0x4033b1;if(_0x417fbc){const _0x5791af=_0x202292['totalPoints']-_0x3769ea['totalPoints'];if(_0x5791af!==0x0)return _0x5791af;const _0x5261dd=_0x202292['realScore']-_0x3769ea[_0x14db93(0x602)];if(_0x5261dd!==0x0)return _0x5261dd;return _0x3769ea['name'][_0x14db93(0x5f6)](_0x202292[_0x14db93(0x4a4)],'th');}else{const _0xfea7bf=_0x202292[_0x14db93(0x183)]-_0x3769ea[_0x14db93(0x183)];if(_0xfea7bf!==0x0)return _0xfea7bf;return _0x202292[_0x14db93(0x602)]-_0x3769ea[_0x14db93(0x602)];}});const _0x3c27b7=_0xf5108f=>{const _0x4ac749=_0x4033b1;if(!_0xf5108f||_0xf5108f[_0x4ac749(0xdbe)]===0x0)return'';const _0x5d66b0={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x4ac749(0x1fa)+_0xf5108f[_0x4ac749(0x86c)](_0x5f41e2=>_0x5d66b0[_0x5f41e2]||'')['join']('')+_0x4ac749(0x2fc);},_0x55aaff=_0x504937=>{const _0xa6458f=_0x4033b1;let _0x1a6563='';if(_0x417fbc){if(_0x504937[_0xa6458f(0x183)]===_0x2a5ee4&&_0x2a5ee4>0x0)_0x1a6563+=_0xa6458f(0x4f8);if(_0x504937[_0xa6458f(0x602)]===_0x28c8c5&&_0x28c8c5>0x0)_0x1a6563+='<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20';}else{if(_0x504937[_0xa6458f(0xd7e)])_0x1a6563=_0xa6458f(0x965);}if(_0x417fbc){const _0x366594=_0x504937[_0xa6458f(0x183)]>=0x0?'(+'+_0x504937[_0xa6458f(0x183)][_0xa6458f(0xe1)]()+')':'('+_0x504937[_0xa6458f(0x183)][_0xa6458f(0xe1)]()+')';return _0xa6458f(0x8df)+_0x504937[_0xa6458f(0x602)]+'\x20คะแนน\x20'+_0x366594+'\x20'+_0x1a6563+_0xa6458f(0x340);}else return _0xa6458f(0x8df)+_0x504937[_0xa6458f(0x183)]['toLocaleString']()+_0xa6458f(0xbeb)+_0x1a6563+_0xa6458f(0x340);},_0x3ce9e3=_0x486bde[_0x4033b1(0xa8a)](0x3),_0x15d446=_0x3ce9e3[_0x4033b1(0xdbe)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ce9e3[_0x4033b1(0x86c)]((_0x18dc24,_0x2fbcbd)=>{const _0x24344e=_0x4033b1;return _0x24344e(0x512)+(_0x2fbcbd+0x4)+_0x24344e(0x56c)+_0x18dc24[_0x24344e(0x4a4)]+_0x24344e(0xc9d)+_0x55aaff(_0x18dc24)+_0x24344e(0xc2a);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x264049=_0x4033b1(0xc71)+(_0x486bde[0x1]?_0x4033b1(0x32d)+_0x486bde[0x1][_0x4033b1(0x4a4)]+'</p>'+_0x3c27b7(_0x486bde[0x1]['badges'])+_0x55aaff(_0x486bde[0x1])+'<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x4033b1(0xe2b))+_0x4033b1(0x843)+(_0x486bde[0x0]?_0x4033b1(0x7ee)+_0x486bde[0x0][_0x4033b1(0x4a4)]+'</p>'+_0x3c27b7(_0x486bde[0x0]['badges'])+_0x55aaff(_0x486bde[0x0])+'<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x4033b1(0xe2b))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x486bde[0x2]?_0x4033b1(0x703)+_0x486bde[0x2][_0x4033b1(0x4a4)]+'</p>'+_0x3c27b7(_0x486bde[0x2][_0x4033b1(0x69f)])+_0x55aaff(_0x486bde[0x2])+'<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x4033b1(0xe2b))+_0x4033b1(0x900)+_0x15d446+_0x4033b1(0x1c7)+(currentMode==='admin'?_0x4033b1(0xc17):'<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>')+_0x4033b1(0x2f6);liveGameView[_0x4033b1(0xc7e)]=_0x264049,currentMode===_0x4033b1(0xa16)?document[_0x4033b1(0x3a5)](_0x4033b1(0xaac))[_0x4033b1(0x9f0)]('click',async()=>{const _0x227c16=_0x4033b1;let _0x260e09;_0x4f8f5f==='sync'?_0x260e09=doc(db,_0x227c16(0x2b3)+appId+_0x227c16(0xa04),currentLiveGameId):_0x260e09=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x260e09);}):document['getElementById'](_0x4033b1(0x97a))?.[_0x4033b1(0x9f0)](_0x4033b1(0x79c),()=>{const _0x5ccba0=_0x4033b1;showView(_0x5ccba0(0x6e2));});}function renderSyncSummaryView(_0x4ce7dc,_0x3a4c94,_0x21352f){const _0x3148e3=_0x4813c4,_0x1fae9b=_0x4ce7dc[_0x3148e3(0x255)]||'classic',_0x3a9869=(_0x1fae9b===_0x3148e3(0xbba)||_0x1fae9b===_0x3148e3(0xcb1))&&_0x4ce7dc['isAnonymousRevealed']===![],_0x5b48d7=_0x1fae9b===_0x3148e3(0x37a)||_0x1fae9b===_0x3148e3(0xcb1),_0x12131f=_0x4ce7dc[_0x3148e3(0x953)][_0x3148e3(0x1bc)],_0x4566de=_0x3a4c94['questionType']||_0x4ce7dc['shuffledQuiz'][_0x3148e3(0xa34)],_0x591bd1=_0x4566de===_0x3148e3(0x311)||_0x4566de===_0x3148e3(0x87d);let _0x28b951='';if(_0x591bd1){let _0x2e0c15=0x0,_0x287730=0x0;const _0x348346=[],_0x503074=[];Object[_0x3148e3(0x342)](_0x4ce7dc[_0x3148e3(0x2e8)]||{})[_0x3148e3(0x140)](([_0x3f20ee,_0x5029a0])=>{const _0x2cd60d=_0x3148e3,_0x256f8d=(_0x5029a0[_0x2cd60d(0x1b8)]||[])[_0x2cd60d(0x5d9)](_0x4c1071=>_0x4c1071[_0x2cd60d(0x792)]===_0x4ce7dc['currentQuestionIndex']);if(_0x5029a0[_0x2cd60d(0xd0e)]!==_0x2cd60d(0x1d9)&&_0x256f8d){const _0x4d0c5f=_0x256f8d[_0x2cd60d(0x4ba)],_0x5ca86b=_0x3a9869?_0x4ce7dc[_0x2cd60d(0xca7)][_0x3f20ee]||_0x2cd60d(0xe23):_0x3f20ee;_0x256f8d[_0x2cd60d(0x8a)]?(_0x2e0c15++,_0x348346['push'](_0x5ca86b)):(_0x287730++,_0x503074['push']('<span\x20class=\x22text-yellow-200\x20font-bold\x22>'+_0x5ca86b+_0x2cd60d(0x24b)+(_0x4d0c5f||'(ไม่ตอบ)')));}}),_0x28b951='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x2e0c15+_0x3148e3(0xc86)+(_0x348346[_0x3148e3(0xdbe)]>0x0?_0x348346[_0x3148e3(0x15d)](',\x20'):'-')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x287730+_0x3148e3(0x5eb)+(_0x503074[_0x3148e3(0xdbe)]>0x0?_0x503074[_0x3148e3(0x15d)](_0x3148e3(0xa5e)):'-')+_0x3148e3(0x224);}else{let _0xe60f6d=[];_0x4566de==='true_false'?_0xe60f6d=[_0x3148e3(0x2c0),'ไม่ใช่\x20/\x20ผิด']:_0xe60f6d=_0x3a4c94[_0x3148e3(0x7f6)]||[];const _0x35ef6d=new Array(_0xe60f6d[_0x3148e3(0xdbe)])[_0x3148e3(0xb20)](0x0),_0x332c3f={};_0xe60f6d['forEach']((_0x325920,_0x5770a2)=>{_0x332c3f[_0x5770a2]=[];}),Object[_0x3148e3(0x342)](_0x4ce7dc['players']||{})[_0x3148e3(0x140)](([_0x4cd699,_0x591c9b])=>{const _0x103a35=_0x3148e3,_0x310045=(_0x591c9b['answers']||[])[_0x103a35(0x5d9)](_0x422ba0=>_0x422ba0['questionIndex']===_0x4ce7dc[_0x103a35(0xd3d)]);if(_0x591c9b[_0x103a35(0xd0e)]!=='inactive'&&_0x310045&&_0x310045['answer']!==null){const _0x281791=parseInt(_0x310045[_0x103a35(0xc1a)]);if(!isNaN(_0x281791)&&_0x332c3f[_0x281791]!==undefined){const _0x22e8c7=_0x3a9869?_0x4ce7dc['playerNicknames'][_0x4cd699]||_0x103a35(0xe23):_0x4cd699;_0x332c3f[_0x281791][_0x103a35(0x8a5)](_0x22e8c7),_0x35ef6d[_0x281791]++;}}}),_0x28b951=_0x3148e3(0xb0e)+_0x35ef6d['map']((_0x567cb2,_0x3ecfc1)=>{const _0x146286=_0x3148e3,_0x459e7a=_0x332c3f[_0x3ecfc1]['length']>0x0?_0x332c3f[_0x3ecfc1][_0x146286(0x15d)](',\x20'):_0x146286(0x845),_0xa18ab7=_0x146286(0x1cb);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x567cb2+_0x146286(0x431)+_0xa18ab7+';\x22\x20data-tooltip-target=\x22tooltip-'+_0x3ecfc1+_0x146286(0xcf9)+_0xe60f6d[_0x3ecfc1]+_0x146286(0xb22)+_0x3ecfc1+_0x146286(0x902)+_0x459e7a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')+_0x3148e3(0x75f);}let _0x25d4ee='';const _0x3083fa=_0x4ce7dc[_0x3148e3(0xd3d)]>=_0x12131f[_0x3148e3(0xdbe)]-0x1;_0x21352f?_0x5b48d7?_0x3083fa?_0x25d4ee='<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>':_0x25d4ee=_0x3148e3(0xd9f):_0x25d4ee=_0x3148e3(0x901):_0x5b48d7?_0x25d4ee=_0x3148e3(0xe0f):_0x25d4ee='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x26f9d0=_0x21352f?_0x3148e3(0xdbc)+_0x4ce7dc[_0x3148e3(0x5db)]+_0x3148e3(0x9d1):'',_0x12861a=_0x3148e3(0x59a)+_0x26f9d0+_0x3148e3(0x7aa)+(_0x3a4c94[_0x3148e3(0x929)]||_0x3a4c94['stem']||'')+_0x3148e3(0x35f)+_0x28b951+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>'+_0x25d4ee+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3148e3(0xc7e)]=_0x12861a;if(window[_0x3148e3(0xe2)])MathJax[_0x3148e3(0xacf)]();if(_0x21352f){const _0x38ad60=doc(db,_0x3148e3(0x2b3)+appId+_0x3148e3(0xa04),currentLiveGameId);document[_0x3148e3(0x3a5)](_0x3148e3(0xe08))?.[_0x3148e3(0x9f0)]('click',async()=>{const _0x3e4fd7=_0x3148e3,_0x3c31bc=Object[_0x3e4fd7(0x3fb)](_0x4ce7dc[_0x3e4fd7(0x2e8)]||{})[_0x3e4fd7(0x86c)](_0x41dc49=>({'name':_0x41dc49[_0x3e4fd7(0x4a4)],'score':_0x41dc49[_0x3e4fd7(0x863)]||0x0,'totalPoints':_0x41dc49[_0x3e4fd7(0x183)]||0x0,'pointsLastRound':_0x41dc49['pointsLastRound']||0x0,'answers':_0x41dc49[_0x3e4fd7(0x1b8)]||[],'correctStreak':_0x41dc49[_0x3e4fd7(0x3de)]||0x0}));await updateDoc(_0x38ad60,{'status':_0x3e4fd7(0x53f),'publicLeaderboard':_0x3c31bc});}),document[_0x3148e3(0x3a5)](_0x3148e3(0x400))?.['addEventListener'](_0x3148e3(0x79c),()=>{const _0x274ea9=_0x3148e3;openScratchpad(_0x3a4c94,_0x3a4c94[_0x274ea9(0x7f6)]||[]);}),document[_0x3148e3(0x3a5)](_0x3148e3(0x27c))?.['addEventListener'](_0x3148e3(0x79c),async()=>{const _0x198786=_0x3148e3,_0x596fad=_0x4ce7dc['currentQuestionIndex']+0x1;await updateDoc(_0x38ad60,{'status':_0x198786(0x8a8),'currentQuestionIndex':_0x596fad,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x3148e3(0x3a5)](_0x3148e3(0x5f7))?.['addEventListener'](_0x3148e3(0x79c),async()=>{const _0x518e7b=_0x3148e3,_0x5ede13=Object[_0x518e7b(0x3fb)](_0x4ce7dc['players']||{})[_0x518e7b(0x86c)](_0x58df11=>({'name':_0x58df11[_0x518e7b(0x4a4)],'score':_0x58df11['score']||0x0,'totalPoints':_0x58df11[_0x518e7b(0x183)]||0x0,'pointsLastRound':_0x58df11[_0x518e7b(0x9ad)]||0x0,'answers':_0x58df11[_0x518e7b(0x1b8)]||[],'correctStreak':_0x58df11[_0x518e7b(0x3de)]||0x0}));await updateDoc(_0x38ad60,{'status':_0x518e7b(0x53f),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x5ede13});});}}function renderAnonymousStudentResultsView(_0x564814){const _0x438e73=_0x4813c4,_0x460a2e=_0x564814[_0x438e73(0xd3d)]>=_0x564814[_0x438e73(0x953)][_0x438e73(0x1bc)][_0x438e73(0xdbe)]-0x1;let _0x5abff5='';if(_0x564814[_0x438e73(0xc81)]===!![]){const _0x4155f1=_0x564814['players'][localTeamPlayers[0x0]],_0x3c1425=_0x4155f1[_0x438e73(0x4a4)],_0x2a7411=_0x4155f1['score'];_0x5abff5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>'+_0x3c1425+_0x438e73(0x676)+_0x2a7411+_0x438e73(0x93a);}else _0x5abff5=_0x438e73(0x988)+(_0x460a2e?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':_0x438e73(0x634))+_0x438e73(0x6b4);const _0x5dde42=_0x438e73(0x3d4)+_0x5abff5+_0x438e73(0x364);liveGameView[_0x438e73(0xc7e)]=_0x5dde42;}async function handleShowStudentRankings(){const _0x3b9ef0=_0x4813c4,_0x45dda8=document['querySelector'](_0x3b9ef0(0x9d7));_0x45dda8&&(_0x45dda8[_0x3b9ef0(0xc7e)]=_0x3b9ef0(0xab2));const _0x577d08=document['querySelector'](_0x3b9ef0(0x284));_0x577d08&&(_0x577d08[_0x3b9ef0(0xc7e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x3a97b1=document[_0x3b9ef0(0x3a5)]('student-rankings-modal');_0x3a97b1['classList'][_0x3b9ef0(0xa30)](_0x3b9ef0(0xc15)),document[_0x3b9ef0(0x3a5)](_0x3b9ef0(0x49f))['onclick']=()=>_0x3a97b1[_0x3b9ef0(0xcde)][_0x3b9ef0(0x483)](_0x3b9ef0(0xc15));const _0x4203f3=document['getElementById']('student-quiz-leaderboard-tab'),_0x91c2d7=document[_0x3b9ef0(0x3a5)]('student-project-leaderboard-tab'),_0x2f4d58=document['getElementById']('student-quiz-leaderboard-content'),_0x498ab6=document[_0x3b9ef0(0x3a5)](_0x3b9ef0(0xa1a));_0x4203f3[_0x3b9ef0(0x8d)]=()=>{const _0x43b6e4=_0x3b9ef0;_0x4203f3[_0x43b6e4(0xcde)]['add'](_0x43b6e4(0xb9b)),_0x91c2d7[_0x43b6e4(0xcde)][_0x43b6e4(0xa30)](_0x43b6e4(0xb9b)),_0x2f4d58[_0x43b6e4(0xcde)][_0x43b6e4(0xa30)]('hidden'),_0x498ab6['classList'][_0x43b6e4(0x483)](_0x43b6e4(0xc15));},_0x91c2d7['onclick']=()=>{const _0x3d0bca=_0x3b9ef0;_0x91c2d7[_0x3d0bca(0xcde)][_0x3d0bca(0x483)](_0x3d0bca(0xb9b)),_0x4203f3[_0x3d0bca(0xcde)][_0x3d0bca(0xa30)]('active'),_0x498ab6[_0x3d0bca(0xcde)]['remove'](_0x3d0bca(0xc15)),_0x2f4d58['classList']['add'](_0x3d0bca(0xc15));};try{const _0x568f05=collection(db,_0x3b9ef0(0x2b3)+appId+_0x3b9ef0(0x5e4)+currentQuizData['id']+'/submissions'),_0x20aac8=await getDocs(_0x568f05),_0x5c31ea=_0x20aac8[_0x3b9ef0(0xb32)]['map'](_0x339899=>_0x339899[_0x3b9ef0(0x1ea)]());renderQuizLeaderboard(_0x5c31ea,currentQuizData,_0x3b9ef0(0xd77));const _0x54da9d=collection(db,_0x3b9ef0(0x2b3)+appId+_0x3b9ef0(0xb4)+currentQuizData[_0x3b9ef0(0xb91)]+'/studentProfiles'),_0x25c606=await getDocs(_0x54da9d),_0x3ed653=_0x25c606[_0x3b9ef0(0xb32)][_0x3b9ef0(0x86c)](_0x51110a=>_0x51110a[_0x3b9ef0(0x1ea)]());renderLeaderboard(_0x3ed653,_0x3b9ef0(0x72c));}catch(_0x3dc8b8){console[_0x3b9ef0(0xabd)]('Error\x20fetching\x20student\x20rankings:',_0x3dc8b8),showMessage(_0x3b9ef0(0xa7a));}}async function handleSaveToBank(_0xa62553){const _0x1e03b4=_0x4813c4,_0x2ce298=_0xa62553[_0x1e03b4(0x45b)],_0x4a4b82=_0x2ce298[_0x1e03b4(0x315)]['index'],_0x336e64=currentQuizData[_0x1e03b4(0x1bc)][_0x4a4b82];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x2ddafd={..._0x336e64,'originalTopic':currentQuizData[_0x1e03b4(0x1e8)],'savedAt':serverTimestamp()},_0xad3768=collection(db,_0x1e03b4(0x2b3)+appId+_0x1e03b4(0x717)+userId+_0x1e03b4(0x371));await addDoc(_0xad3768,_0x2ddafd),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x2ce298['classList']['remove']('text-purple-600'),_0x2ce298['classList']['add'](_0x1e03b4(0xa1b)),_0x2ce298['disabled']=!![];}catch(_0x3514ae){console[_0x1e03b4(0xabd)](_0x1e03b4(0x707),_0x3514ae),showMessage(_0x1e03b4(0xdc0));}}async function selectProjectAndGenerateBlueprintQuiz(_0x40ad4c,_0x1084a1=null,_0x1cde33=null,_0x1530bb=![]){const _0x1b0aa1=_0x4813c4;cameFromBlueprint=!![];const _0x333bc2=document[_0x1b0aa1(0x3a5)](_0x1b0aa1(0x11b))?.['value'][_0x1b0aa1(0x7f3)]();let _0x5a22da=null;if(_0x333bc2){showMessage('กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...');try{const _0x51483d=await fetchFileFromUrl(_0x333bc2,'reference_onet.pdf'),_0x1a079d=await new Promise((_0x904196,_0x40226e)=>{const _0x2dac3e=_0x1b0aa1,_0x226109=new FileReader();_0x226109['readAsDataURL'](_0x51483d),_0x226109['onload']=()=>_0x904196(_0x226109[_0x2dac3e(0xb8)]['split'](',')[0x1]),_0x226109[_0x2dac3e(0x46e)]=_0x40226e;});_0x5a22da=[{'inlineData':{'mimeType':_0x51483d[_0x1b0aa1(0x680)],'data':_0x1a079d}}],messageModal[_0x1b0aa1(0xcde)][_0x1b0aa1(0x483)]('hidden');}catch(_0x4c5257){console['error'](_0x1b0aa1(0x2b8),_0x4c5257),showMessage(_0x1b0aa1(0x275));}}const _0xabfb9f=document[_0x1b0aa1(0x3a5)](_0x1b0aa1(0x61b)),_0x37224c=document[_0x1b0aa1(0x3a5)](_0x1b0aa1(0xd5)),_0xea9bc7=_0xabfb9f[_0x1b0aa1(0x169)]('h3'),_0x1b950=document['getElementById'](_0x1b0aa1(0x215)),_0x22be90=document[_0x1b0aa1(0x3a5)](_0x1b0aa1(0x337));_0xea9bc7[_0x1b0aa1(0xd68)]=_0x1b0aa1(0x273),_0x1b950[_0x1b0aa1(0xd68)]=_0x1b0aa1(0xaef),_0x1b950[_0x1b0aa1(0x88c)]=!![];allProjects[_0x1b0aa1(0xdbe)]===0x0?_0x37224c[_0x1b0aa1(0xc7e)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x37224c[_0x1b0aa1(0xc7e)]=_0x1b0aa1(0x6e6)+allProjects[_0x1b0aa1(0x86c)](_0x269a3c=>_0x1b0aa1(0x437)+_0x269a3c['id']+'\x22>'+_0x269a3c['projectName']+_0x1b0aa1(0xc01))[_0x1b0aa1(0x15d)](''),_0x1b950[_0x1b0aa1(0x88c)]=![]);_0xabfb9f['classList'][_0x1b0aa1(0xa30)](_0x1b0aa1(0xc15));const _0x2ccaa5=async()=>{const _0x290a40=_0x1b0aa1,_0x510fb2=_0x37224c[_0x290a40(0x909)];if(!_0x510fb2){showMessage(_0x290a40(0xdf6));return;}_0xabfb9f[_0x290a40(0xcde)][_0x290a40(0x483)]('hidden'),document['getElementById']('blueprint-project-manager-view')[_0x290a40(0xcde)][_0x290a40(0x483)](_0x290a40(0xc15)),await loadProjectDetails(_0x510fb2),showView(_0x290a40(0x623)),handleGenerateQuizFromBlueprintTopic(_0x40ad4c,_0x1084a1,_0x510fb2,_0x1cde33,_0x1530bb,_0x5a22da),_0x28785c();},_0x28785c=()=>{const _0x259fd6=_0x1b0aa1;_0xea9bc7[_0x259fd6(0xd68)]=_0x259fd6(0x768),_0x1b950[_0x259fd6(0xd68)]=_0x259fd6(0xd28),_0x1b950[_0x259fd6(0x751)](_0x259fd6(0x79c),_0x2ccaa5),_0x22be90[_0x259fd6(0x751)](_0x259fd6(0x79c),_0x28785c),_0x1b950[_0x259fd6(0x9f0)](_0x259fd6(0x79c),confirmMoveQuiz);};_0x1b950[_0x1b0aa1(0x751)](_0x1b0aa1(0x79c),confirmMoveQuiz),_0x1b950[_0x1b0aa1(0x9f0)](_0x1b0aa1(0x79c),_0x2ccaa5),_0x22be90[_0x1b0aa1(0x9f0)](_0x1b0aa1(0x79c),_0x28785c);}function listenForStarredQuizzes(){const _0x31f5c1=_0x4813c4;if(!userId)return;const _0x3aff19=collection(db,'artifacts/'+appId+_0x31f5c1(0x60d)),_0xe2802=query(_0x3aff19,where(_0x31f5c1(0x299),'==',!![]));onSnapshot(_0xe2802,_0x145b36=>{const _0x1401dc=_0x31f5c1;starredQuizzes=_0x145b36[_0x1401dc(0xb32)][_0x1401dc(0x86c)](_0x37f0f2=>({'id':_0x37f0f2['id'],..._0x37f0f2['data']()})),currentProjectId===_0x1401dc(0x253)?renderQuizzes():renderProjects();},_0x2c5be9=>{const _0x14894c=_0x31f5c1;console['error'](_0x14894c(0x4be),_0x2c5be9);});}function listenForFileShortcuts(){const _0x2fd70b=_0x4813c4,_0x4fee40=doc(db,_0x2fd70b(0xb67),_0x2fd70b(0x9d3));onSnapshot(_0x4fee40,_0x2552ee=>{const _0x63e8fe=_0x2fd70b;let _0xe1cc1a=[],_0x46ce53=[],_0x44e053={};if(_0x2552ee[_0x63e8fe(0x3ea)]()){const _0x2d4bbb=_0x2552ee['data']();_0xe1cc1a=_0x2d4bbb['shortcuts']||[],_0x46ce53=_0x2d4bbb[_0x63e8fe(0x488)]||[],_0x44e053=_0x2d4bbb[_0x63e8fe(0xce1)]||{};}!_0x46ce53['find'](_0x199593=>_0x199593['id']===_0x63e8fe(0xa19))&&_0x46ce53['unshift']({'id':_0x63e8fe(0xa19),'name':_0x63e8fe(0x787),'isDefault':!![]}),!_0xe1cc1a[_0x63e8fe(0x5d9)](_0x457caf=>_0x457caf['id']===_0x63e8fe(0x41d))&&_0xe1cc1a[_0x63e8fe(0x47e)]({'id':'file-default-1','name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0xe1cc1a['find'](_0x3d2e98=>_0x3d2e98['id']==='file-default-2')&&_0xe1cc1a[_0x63e8fe(0x47e)]({'id':'file-default-2','name':_0x63e8fe(0x3d9),'url':'','isDefault':!![]}),fileShortcuts=_0xe1cc1a,fileShortcutTabs=_0x46ce53,fileShortcutOrder=_0x44e053,renderFileShortcuts(),!document[_0x63e8fe(0x3a5)]('additional-file-shortcuts-modal')[_0x63e8fe(0xcde)][_0x63e8fe(0xca5)](_0x63e8fe(0xc15))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x1b873a=_0x4813c4,_0x364fcd=doc(db,'globalSettings','fileShortcutsConfig');try{await setDoc(_0x364fcd,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x323ad0){console[_0x1b873a(0xabd)]('Error\x20saving\x20file\x20shortcut\x20config:',_0x323ad0);}}function renderAdditionalFileShortcutsModal(){const _0x1819af=_0x4813c4,_0x252a2a=document[_0x1819af(0x3a5)]('file-shortcut-tabs-nav'),_0x3f0719=document[_0x1819af(0x3a5)]('additional-file-shortcuts-list');if(!_0x252a2a||!_0x3f0719)return;_0x252a2a[_0x1819af(0xc7e)]=fileShortcutTabs[_0x1819af(0x86c)](_0x17d5d5=>{const _0x4bece9=_0x1819af,_0x4072e5=_0x17d5d5['id']===activeFileShortcutTabId;return _0x4bece9(0x56d)+_0x17d5d5['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x4072e5?_0x4bece9(0x230):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x4bece9(0x491)+_0x17d5d5[_0x4bece9(0x4a4)]+_0x4bece9(0x68e)+_0x17d5d5['name']+_0x4bece9(0x720)+(!_0x17d5d5['isDefault']?_0x4bece9(0xd03)+_0x17d5d5['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1819af(0x15d)]('');const _0x4cd4ff=fileShortcutTabs[_0x1819af(0x5d9)](_0x4a64df=>_0x4a64df['id']===activeFileShortcutTabId);let _0x585e39=_0x4cd4ff?.['isDefault']?[...fileShortcuts]:fileShortcuts['filter'](_0x3a6b6d=>(_0x4cd4ff?.[_0x1819af(0x151)]||[])[_0x1819af(0xc4f)](_0x3a6b6d['id']));const _0x179c08=fileShortcutOrder[activeFileShortcutTabId]||[];_0x585e39['sort']((_0x20a636,_0x3ad1c0)=>{const _0x28fc7f=_0x1819af,_0x5ca850=_0x179c08[_0x28fc7f(0x513)](_0x20a636['id']),_0x439118=_0x179c08[_0x28fc7f(0x513)](_0x3ad1c0['id']);return(_0x5ca850===-0x1?Infinity:_0x5ca850)-(_0x439118===-0x1?Infinity:_0x439118);}),_0x3f0719[_0x1819af(0xc7e)]=_0x585e39[_0x1819af(0x86c)](_0x56a368=>{const _0x56559a=_0x1819af,_0x549968=_0x56a368[_0x56559a(0x27f)]?'📄':'🔗',_0x5435bd=fileShortcutTabs[_0x56559a(0xd05)](_0x59ce1c=>!_0x59ce1c[_0x56559a(0x856)]),_0x5cf2e7=_0x4cd4ff[_0x56559a(0x856)]&&_0x5435bd['length']>0x0?_0x56559a(0xdde)+_0x5435bd[_0x56559a(0x86c)](_0x3a6958=>_0x56559a(0x21f)+_0x56a368['id']+_0x56559a(0xae3)+_0x3a6958['id']+'\x22>'+_0x3a6958[_0x56559a(0x4a4)]+_0x56559a(0x3c4))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x56559a(0x3f2)+_0x56a368['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x549968+'\x20'+_0x56a368[_0x56559a(0x4a4)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x56a368['id']+_0x56559a(0xbf4)+_0x56a368['id']+_0x56559a(0x4aa)+(!_0x56a368[_0x56559a(0x856)]?_0x56559a(0x1a1)+_0x56a368['id']+_0x56559a(0x31d):'')+_0x56559a(0x11c)+(!_0x4cd4ff['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x56a368['id']+_0x56559a(0x7ac):'')+_0x56559a(0x11c)+_0x5cf2e7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1819af(0x15d)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x225b15=_0x4813c4;document[_0x225b15(0x660)](_0x225b15(0xa88))['forEach'](_0x177d88=>{const _0x38dea0=_0x225b15;_0x177d88[_0x38dea0(0x8d)]=_0x269a54=>{const _0x16d5de=_0x38dea0;activeFileShortcutTabId=_0x269a54[_0x16d5de(0x45b)]['dataset'][_0x16d5de(0xe9)],renderAdditionalFileShortcutsModal();},_0x177d88[_0x38dea0(0xb92)]=_0x2d56cf=>{const _0x4c4d12=_0x38dea0,_0x1b1985=_0x2d56cf[_0x4c4d12(0x45b)][_0x4c4d12(0x169)](_0x4c4d12(0x17e));_0x2d56cf[_0x4c4d12(0x45b)][_0x4c4d12(0x169)]('.tab-name-display')[_0x4c4d12(0xcde)][_0x4c4d12(0x483)](_0x4c4d12(0xc15)),_0x1b1985[_0x4c4d12(0xcde)]['remove']('hidden'),_0x1b1985['focus'](),_0x1b1985['select']();};}),document[_0x225b15(0x660)](_0x225b15(0xe04))['forEach'](_0x2a8760=>{const _0x4e11d2=_0x225b15,_0x409a0a=()=>{const _0x319448=_0x3082,_0x525065=_0x2a8760[_0x319448(0x5f8)](_0x319448(0xa88))[_0x319448(0x315)]['tabId'],_0x437dc=fileShortcutTabs[_0x319448(0x5d9)](_0x21d0af=>_0x21d0af['id']===_0x525065);_0x437dc&&(_0x437dc[_0x319448(0x4a4)]=_0x2a8760[_0x319448(0x909)][_0x319448(0x7f3)]()||_0x437dc[_0x319448(0x4a4)],saveFileShortcutConfig());};_0x2a8760[_0x4e11d2(0x14c)]=_0x409a0a,_0x2a8760[_0x4e11d2(0x492)]=_0x332728=>{const _0x538a36=_0x4e11d2;if(_0x332728[_0x538a36(0x922)]===_0x538a36(0xbbd))_0x2a8760[_0x538a36(0xae1)]();};}),document[_0x225b15(0x660)](_0x225b15(0x5f9))[_0x225b15(0x140)](_0x4bba7e=>_0x4bba7e[_0x225b15(0x8d)]=_0x55d18f=>{const _0x371edc=_0x225b15,_0x5661d7=_0x55d18f[_0x371edc(0x45b)][_0x371edc(0x315)][_0x371edc(0xe9)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x557a66=_0x371edc;fileShortcutTabs=fileShortcutTabs[_0x557a66(0xd05)](_0x13beaa=>_0x13beaa['id']!==_0x5661d7),delete fileShortcutOrder[_0x5661d7];if(activeFileShortcutTabId===_0x5661d7)activeFileShortcutTabId=_0x557a66(0xa19);saveFileShortcutConfig();});}),document[_0x225b15(0x660)]('.move-file-shortcut-item')['forEach'](_0x35d13a=>_0x35d13a[_0x225b15(0x8d)]=_0x16bc0a=>{const _0x479b4f=_0x225b15;_0x16bc0a[_0x479b4f(0xb49)]();const {shortcutId:_0x1acd0f,targetTabId:_0x515920}=_0x16bc0a[_0x479b4f(0x45b)][_0x479b4f(0x315)],_0x4db108=fileShortcutTabs[_0x479b4f(0x5d9)](_0x2c8e28=>_0x2c8e28['id']===_0x515920);_0x4db108&&!_0x4db108[_0x479b4f(0x151)][_0x479b4f(0xc4f)](_0x1acd0f)&&(_0x4db108[_0x479b4f(0x151)][_0x479b4f(0x8a5)](_0x1acd0f),saveFileShortcutConfig());}),document[_0x225b15(0x660)]('.remove-file-shortcut-from-tab-btn')[_0x225b15(0x140)](_0x3faa3c=>_0x3faa3c[_0x225b15(0x8d)]=_0x26f277=>{const _0xe814b9=_0x225b15,_0x1a5fef=_0x26f277[_0xe814b9(0x45b)][_0xe814b9(0x315)][_0xe814b9(0x395)],_0x300f4b=fileShortcutTabs[_0xe814b9(0x5d9)](_0x3309eb=>_0x3309eb['id']===activeFileShortcutTabId);_0x300f4b&&!_0x300f4b[_0xe814b9(0x856)]&&(_0x300f4b[_0xe814b9(0x151)]=_0x300f4b[_0xe814b9(0x151)]['filter'](_0x30b2c2=>_0x30b2c2!==_0x1a5fef),saveFileShortcutConfig());}),document[_0x225b15(0x660)](_0x225b15(0x20a))['forEach'](_0x58b4bf=>_0x58b4bf[_0x225b15(0x8d)]=_0xd890a7=>{const _0x387114=_0x225b15;_0xd890a7[_0x387114(0xa99)]();const _0x1785c0=_0xd890a7[_0x387114(0x45b)][_0x387114(0x9a)];document[_0x387114(0x660)](_0x387114(0x898))[_0x387114(0x140)](_0x217309=>_0x217309[_0x387114(0xcde)][_0x387114(0x483)](_0x387114(0xc15))),_0x1785c0[_0x387114(0xcde)]['remove']('hidden');});const _0x5eb484=document['getElementById'](_0x225b15(0xd79));let _0x59711a=null;_0x5eb484[_0x225b15(0x9bc)]=_0x58ee7c=>{const _0x25fbd1=_0x225b15;_0x59711a=_0x58ee7c[_0x25fbd1(0x940)][_0x25fbd1(0x5f8)](_0x25fbd1(0xbdb));if(_0x59711a)setTimeout(()=>_0x59711a[_0x25fbd1(0xcde)][_0x25fbd1(0x483)]('opacity-50'),0x0);},_0x5eb484[_0x225b15(0x869)]=()=>{const _0x50cf4f=_0x225b15;_0x59711a&&(_0x59711a[_0x50cf4f(0xcde)][_0x50cf4f(0xa30)](_0x50cf4f(0x3b9)),_0x59711a=null);},_0x5eb484[_0x225b15(0x370)]=_0x444d9c=>{const _0x59c079=_0x225b15;_0x444d9c[_0x59c079(0xb49)]();},_0x5eb484[_0x225b15(0x12f)]=_0x1582fd=>{const _0x343db0=_0x225b15;_0x1582fd['preventDefault']();if(_0x59711a){const _0x2374dd=[..._0x5eb484[_0x343db0(0x660)](_0x343db0(0xf1))]['reduce']((_0x3f74c8,_0x72d95f)=>{const _0x42ae02=_0x343db0,_0x23bda9=_0x72d95f['getBoundingClientRect'](),_0x511952=_0x1582fd[_0x42ae02(0xaca)]-_0x23bda9[_0x42ae02(0x3ef)]-_0x23bda9[_0x42ae02(0x65f)]/0x2;return _0x511952<0x0&&_0x511952>_0x3f74c8['offset']?{'offset':_0x511952,'element':_0x72d95f}:_0x3f74c8;},{'offset':Number[_0x343db0(0xb7c)]})[_0x343db0(0x524)];_0x2374dd==null?_0x5eb484[_0x343db0(0xaf7)](_0x59711a):_0x5eb484[_0x343db0(0xdc9)](_0x59711a,_0x2374dd);const _0x328af8=[..._0x5eb484[_0x343db0(0x660)](_0x343db0(0xbdb))][_0x343db0(0x86c)](_0x3334fb=>_0x3334fb[_0x343db0(0x315)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x328af8,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x51c8b3=_0x4813c4,_0x31577e=prompt(_0x51c8b3(0x537),_0x51c8b3(0x64d));_0x31577e&&_0x31577e[_0x51c8b3(0x7f3)]()&&(fileShortcutTabs[_0x51c8b3(0x8a5)]({'id':_0x51c8b3(0xa91)+Date['now'](),'name':_0x31577e[_0x51c8b3(0x7f3)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x1b90ed=_0x4813c4,_0x3bdb05=document[_0x1b90ed(0x3a5)](_0x1b90ed(0xd07)),_0x46dce3=document[_0x1b90ed(0x3a5)](_0x1b90ed(0xd79)),_0x473b3d=document[_0x1b90ed(0x3a5)]('file-shortcuts-loading-msg');if(_0x473b3d)_0x473b3d[_0x1b90ed(0xcde)][_0x1b90ed(0x483)](_0x1b90ed(0xc15));if(!_0x3bdb05||!_0x46dce3)return;const _0xa7a48f=fileShortcuts[_0x1b90ed(0xa8a)](0x0,0x4),_0x1d1be0=fileShortcuts[_0x1b90ed(0xa8a)](0x4);_0x3bdb05[_0x1b90ed(0xc7e)]=_0xa7a48f[_0x1b90ed(0x86c)](_0x1540a5=>{const _0x58e326=_0x1b90ed,_0x2460d8=_0x1540a5[_0x58e326(0x27f)]&&_0x1540a5['url']['trim']()!=='',_0x4bfbcd=selectedFile&&selectedFile[_0x58e326(0x395)]===_0x1540a5['id'];let _0x5c774f=_0x58e326(0x190),_0x5213a9='🔗';if(_0x4bfbcd)_0x5c774f=_0x58e326(0x50f),_0x5213a9=_0x58e326(0x225);else _0x2460d8&&(_0x5c774f=_0x58e326(0xd40),_0x5213a9='📄');const _0x18b8ba=!_0x1540a5[_0x58e326(0x856)]?_0x58e326(0x1a1)+_0x1540a5['id']+_0x58e326(0x84d):'';return _0x58e326(0x32b)+_0x1540a5['id']+_0x58e326(0xcf5)+_0x5c774f+_0x58e326(0xc3d)+_0x5213a9+_0x58e326(0x7af)+_0x1540a5[_0x58e326(0x4a4)]+_0x58e326(0xd82)+_0x1540a5['id']+_0x58e326(0x55b)+_0x18b8ba+_0x58e326(0x609);})[_0x1b90ed(0x15d)](''),_0x1d1be0[_0x1b90ed(0xdbe)]>0x0&&(_0x3bdb05['innerHTML']+=_0x1b90ed(0x920)),_0x1d1be0[_0x1b90ed(0xdbe)]>0x0?_0x46dce3['innerHTML']=_0x1d1be0[_0x1b90ed(0x86c)](_0x3fcdee=>_0x1b90ed(0xd3b)+(_0x3fcdee['url']?'📄':'🔗')+'\x20'+_0x3fcdee['name']+_0x1b90ed(0xe09)+_0x3fcdee['id']+_0x1b90ed(0x18c)+_0x3fcdee['id']+_0x1b90ed(0xaf4)+(!_0x3fcdee[_0x1b90ed(0x856)]?_0x1b90ed(0x1a1)+_0x3fcdee['id']+_0x1b90ed(0x31d):'')+_0x1b90ed(0x35a))[_0x1b90ed(0x15d)](''):_0x46dce3[_0x1b90ed(0xc7e)]=_0x1b90ed(0x57e);}function openFileShortcutEditor(_0x3258a2=null){const _0x2f7dd9=_0x4813c4,_0x135e21=document['getElementById']('file-shortcut-editor-modal'),_0xb5e464=document[_0x2f7dd9(0x3a5)]('file-shortcut-modal-title'),_0x51e8b6=document[_0x2f7dd9(0x3a5)]('file-shortcut-id-input'),_0x123f2f=document[_0x2f7dd9(0x3a5)](_0x2f7dd9(0x9a4)),_0x35a72d=document[_0x2f7dd9(0x3a5)]('file-shortcut-url-input');if(_0x3258a2){const _0x25da4c=fileShortcuts[_0x2f7dd9(0x5d9)](_0x58dd61=>_0x58dd61['id']===_0x3258a2);if(!_0x25da4c)return;_0xb5e464[_0x2f7dd9(0xd68)]=_0x2f7dd9(0xc30),_0x51e8b6[_0x2f7dd9(0x909)]=_0x25da4c['id'],_0x123f2f[_0x2f7dd9(0x909)]=_0x25da4c['name'],_0x35a72d['value']=_0x25da4c[_0x2f7dd9(0x27f)]||'';}else _0xb5e464[_0x2f7dd9(0xd68)]=_0x2f7dd9(0x82d),_0x51e8b6['value']='',_0x123f2f[_0x2f7dd9(0x909)]='',_0x35a72d['value']='';_0x135e21[_0x2f7dd9(0xcde)][_0x2f7dd9(0xa30)]('hidden');}async function saveFileShortcutChanges(){const _0x3fdd52=_0x4813c4,_0x55f508=document[_0x3fdd52(0x3a5)](_0x3fdd52(0x6b9))[_0x3fdd52(0x909)],_0x10bf75=document[_0x3fdd52(0x3a5)](_0x3fdd52(0x9a4))[_0x3fdd52(0x909)]['trim'](),_0x3a5648=document[_0x3fdd52(0x3a5)](_0x3fdd52(0x77c))[_0x3fdd52(0x909)]['trim']();if(!_0x10bf75){showMessage(_0x3fdd52(0x3bc));return;}const _0x29e1a6={'id':_0x55f508||'file-shortcut_'+Date['now'](),'name':_0x10bf75,'url':_0x3a5648,'isDefault':_0x55f508[_0x3fdd52(0xb74)]('file-default-')};let _0x249355;_0x55f508?_0x249355=fileShortcuts[_0x3fdd52(0x86c)](_0x4486de=>_0x4486de['id']===_0x55f508?_0x29e1a6:_0x4486de):_0x249355=[...fileShortcuts,_0x29e1a6];try{const _0xe99b58=doc(db,_0x3fdd52(0xb67),_0x3fdd52(0x9d3));await setDoc(_0xe99b58,{'shortcuts':_0x249355},{'merge':!![]}),document['getElementById'](_0x3fdd52(0x725))['classList']['add'](_0x3fdd52(0xc15));}catch(_0x1dcdf2){console['error']('Error\x20saving\x20file\x20shortcut:',_0x1dcdf2),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x264ac9){const _0x184d04=_0x4813c4,_0x4eef38=fileShortcuts['find'](_0x3aadc9=>_0x3aadc9['id']===_0x264ac9);if(!_0x4eef38)return;if(!_0x4eef38['url']||_0x4eef38[_0x184d04(0x27f)][_0x184d04(0x7f3)]()===''){openFileShortcutEditor(_0x264ac9);return;}const _0x2b6fad=document['querySelector'](_0x184d04(0x93c)+_0x264ac9+'\x22]');if(_0x2b6fad){const _0x60d991=_0x2b6fad[_0x184d04(0xc7e)];_0x2b6fad[_0x184d04(0xc7e)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x2b6fad[_0x184d04(0x88c)]=!![];}document[_0x184d04(0x660)](_0x184d04(0xde1))[_0x184d04(0x140)](_0x1bd016=>{const _0x5d71d2=_0x184d04;if(_0x1bd016[_0x5d71d2(0x315)]['id']!==_0x264ac9)_0x1bd016[_0x5d71d2(0xcde)][_0x5d71d2(0x483)](_0x5d71d2(0x3b9),_0x5d71d2(0xb81));});try{const _0x145be7=new URL(_0x4eef38['url'])[_0x184d04(0x921)],_0x52276a=_0x145be7[_0x184d04(0x55a)](_0x145be7['lastIndexOf']('/')+0x1)||(_0x4eef38[_0x184d04(0x27f)][_0x184d04(0xc4f)](_0x184d04(0x636))?'file.txt':_0x184d04(0x355)),_0x9b97d5=await fetchFileFromUrl(_0x4eef38[_0x184d04(0x27f)],_0x52276a);_0x9b97d5[_0x184d04(0x395)]=_0x264ac9,selectedFile=_0x9b97d5,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x184d04(0x3a5)]('file-input-area')['scrollIntoView']({'behavior':_0x184d04(0xe8),'block':_0x184d04(0xd36)});}catch(_0x6d10f1){console['error'](_0x184d04(0x181),_0x6d10f1),showMessage(_0x184d04(0x3e6)+_0x6d10f1[_0x184d04(0xbd0)]),renderFileShortcuts();}finally{document[_0x184d04(0x660)](_0x184d04(0xde1))[_0x184d04(0x140)](_0xfd9cfd=>{const _0x411cef=_0x184d04;_0xfd9cfd[_0x411cef(0xcde)][_0x411cef(0xa30)]('opacity-50',_0x411cef(0xb81)),_0xfd9cfd['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x5b94b5=_0x4813c4;if(allQuizzesGlobal[_0x5b94b5(0xdbe)]>0x0)return;console[_0x5b94b5(0x84)](_0x5b94b5(0x695)),showMessage(_0x5b94b5(0x489));try{const _0x4eca23=await getDocs(collection(db,'artifacts/'+appId+_0x5b94b5(0x60d)));allQuizzesGlobal=_0x4eca23[_0x5b94b5(0xb32)]['map'](_0xbaf8d8=>({'id':_0xbaf8d8['id'],..._0xbaf8d8[_0x5b94b5(0x1ea)]()})),console[_0x5b94b5(0x84)](_0x5b94b5(0xcd3)+allQuizzesGlobal[_0x5b94b5(0xdbe)]+_0x5b94b5(0xf6)),messageModal[_0x5b94b5(0xcde)]['add'](_0x5b94b5(0xc15));}catch(_0x280837){console[_0x5b94b5(0xabd)](_0x5b94b5(0x7f2),_0x280837),messageModal[_0x5b94b5(0xcde)][_0x5b94b5(0x483)]('hidden');throw new Error(_0x5b94b5(0x4b5));}}function exportQuizAsWorksheetPDF(){const _0x3939b4=_0x4813c4;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x3939b4(0xce2));return;}const _0x3b71ae=currentQuizData,_0x33c920=window[_0x3939b4(0x54c)]('',_0x3939b4(0x9b2)),_0x2a6a1f=_0x368f13=>String[_0x3939b4(0x612)](0x41+_0x368f13),_0x23f479=_0x3939b4(0x6ab)+_0x3b71ae[_0x3939b4(0x1e8)]+_0x3939b4(0xafd)+_0x3b71ae['topic']+_0x3939b4(0xcd2)+_0x3b71ae[_0x3939b4(0x1bc)][_0x3939b4(0x86c)]((_0x5cf338,_0x343e8b)=>{const _0x13bf6a=_0x3939b4;let _0x652c8e='';const _0x5a545d=_0x5cf338[_0x13bf6a(0x51d)]||_0x3b71ae[_0x13bf6a(0xa34)];switch(_0x5a545d){case'multiple_choice':case _0x13bf6a(0x43b):_0x652c8e='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x5cf338['options'][_0x13bf6a(0x86c)]((_0x2afdaf,_0x2b5729)=>_0x13bf6a(0x772)+_0x2a6a1f(_0x2b5729)+'.\x20'+_0x2afdaf+_0x13bf6a(0x270))[_0x13bf6a(0x15d)](_0x13bf6a(0xa5e))+_0x13bf6a(0x2fc);break;case _0x13bf6a(0x162):_0x652c8e='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x652c8e=_0x13bf6a(0x7e);break;}return _0x13bf6a(0x507)+(_0x343e8b+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5cf338[_0x13bf6a(0xd4c)]||_0x5cf338['questionText'])+_0x13bf6a(0x935)+(_0x5cf338['imageCode']?'<div\x20class=\x22my-2\x22>'+_0x5cf338[_0x13bf6a(0x690)]+'</div>':'')+_0x13bf6a(0xad6)+_0x652c8e+_0x13bf6a(0xbe0);})[_0x3939b4(0x15d)]('')+_0x3939b4(0xb30);_0x33c920[_0x3939b4(0x3f6)][_0x3939b4(0x402)](_0x23f479),_0x33c920[_0x3939b4(0x3f6)][_0x3939b4(0xcaf)](),_0x33c920[_0x3939b4(0xc99)]=function(){setTimeout(()=>{_0x33c920['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x2be084=_0x4813c4;if(!currentQuizData||!currentQuizData[_0x2be084(0x1bc)]){showMessage(_0x2be084(0xce2));return;}const _0x5466b8=currentQuizData,_0x530a29=window[_0x2be084(0x54c)]('',_0x2be084(0x9b2)),_0x1ab311=_0x1116b1=>String[_0x2be084(0x612)](0x41+_0x1116b1),_0x52bbb8=_0x2be084(0x911)+_0x5466b8['topic']+_0x2be084(0x14d)+_0x5466b8[_0x2be084(0x1bc)][_0x2be084(0x86c)]((_0xc83e98,_0x4972a5)=>{const _0x3c4834=_0x2be084;let _0x321c78='';const _0x14286c=_0xc83e98[_0x3c4834(0x51d)]||_0x5466b8[_0x3c4834(0xa34)];switch(_0x14286c){case _0x3c4834(0x260):case'fill_in_with_choices':_0x321c78=_0x3c4834(0x93)+_0xc83e98[_0x3c4834(0x7f6)][_0x3c4834(0x86c)]((_0x202e35,_0x478fa6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1ab311(_0x478fa6)+'.\x20'+_0x202e35+_0x3c4834(0x8f6))[_0x3c4834(0x15d)](_0x3c4834(0xa5e))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x3c4834(0x162):_0x321c78='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x321c78='';break;}return _0x3c4834(0x4b7)+_0x5466b8[_0x3c4834(0x1e8)]+_0x3c4834(0xdad)+(_0x4972a5+0x1)+_0x3c4834(0x938)+(_0xc83e98[_0x3c4834(0xd4c)]||_0xc83e98['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xc83e98[_0x3c4834(0x690)]?_0x3c4834(0x9a8)+_0xc83e98[_0x3c4834(0x690)]+_0x3c4834(0x2fc):'')+_0x3c4834(0xad6)+_0x321c78+_0x3c4834(0xcc);})[_0x2be084(0x15d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x530a29[_0x2be084(0x3f6)][_0x2be084(0x402)](_0x52bbb8),_0x530a29[_0x2be084(0x3f6)]['close'](),_0x530a29[_0x2be084(0xc99)]=function(){setTimeout(()=>{const _0x33a655=_0x3082;_0x530a29[_0x33a655(0x510)]();},0x5dc);};}async function handleToggleStarQuiz(_0x32c906){const _0x40c4a8=_0x4813c4,_0x2eb99f=doc(db,'artifacts/'+appId+_0x40c4a8(0x60d),_0x32c906);try{const _0x313d5b=await getDoc(_0x2eb99f);if(_0x313d5b['exists']()){const _0xc8f771=_0x313d5b['data']()[_0x40c4a8(0x299)]||![];await updateDoc(_0x2eb99f,{'isStarred':!_0xc8f771});}}catch(_0x404054){console[_0x40c4a8(0xabd)]('Error\x20toggling\x20star\x20status:',_0x404054),showMessage(_0x40c4a8(0x156));}}async function displayQuestionBank(){const _0x680162=_0x4813c4,_0x2d1c32=document[_0x680162(0x3a5)](_0x680162(0x32a));_0x2d1c32[_0x680162(0xc7e)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x3f84d6=collection(db,'artifacts/'+appId+_0x680162(0x717)+userId+_0x680162(0x371)),_0x5e0870=query(_0x3f84d6),_0x32a366=await getDocs(_0x5e0870);if(_0x32a366['empty']){_0x2d1c32[_0x680162(0xc7e)]=_0x680162(0xa94);return;}let _0x3c1898=_0x32a366['docs'][_0x680162(0x86c)](_0x1aa4c7=>{const _0x46fc25=_0x680162,_0x176175=_0x1aa4c7['data'](),_0x27798b=_0x1aa4c7['id'];return _0x46fc25(0x3dc)+JSON[_0x46fc25(0xe22)](_0x176175)+_0x46fc25(0xcea)+(_0x176175[_0x46fc25(0x929)]||_0x176175[_0x46fc25(0xd4c)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x176175[_0x46fc25(0x805)]+_0x46fc25(0x2a9);})[_0x680162(0x15d)]('');_0x2d1c32['innerHTML']=_0x680162(0x7b5)+_0x3c1898+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x680162(0x3a5)](_0x680162(0xff))[_0x680162(0x9f0)](_0x680162(0x79c),createQuizFromBank);}catch(_0x2eceb0){console[_0x680162(0xabd)](_0x680162(0xcad),_0x2eceb0),_0x2d1c32[_0x680162(0xc7e)]=_0x680162(0x94c);}}async function handleExportLessonToPDF(){const _0x524422=_0x4813c4,_0x4f83ec=document[_0x524422(0x3a5)]('lesson-sections-container'),_0x5c57ec=document[_0x524422(0x3a5)]('lesson-view-title')[_0x524422(0xd68)]||_0x524422(0x350);if(!_0x4f83ec){showMessage(_0x524422(0x5b6));return;}const _0x2252fe=window['open']('','_blank'),_0x251902=_0x524422(0xae7)+_0x5c57ec+_0x524422(0xb42)+_0x5c57ec+_0x524422(0x681)+_0x4f83ec[_0x524422(0xc7e)]+_0x524422(0x99b);_0x2252fe['document'][_0x524422(0x402)](_0x251902),_0x2252fe['document']['close'](),_0x2252fe[_0x524422(0xc99)]=function(){setTimeout(()=>{_0x2252fe['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x4b733b,_0x299a92,_0x52fc4a){const _0x705e65=_0x4813c4,_0x512bea=_0x4b733b['questionType']||currentQuizData[_0x705e65(0xa34)];let _0x1c2299='';if(_0x512bea===_0x705e65(0x260)||_0x512bea===_0x705e65(0x162)){const _0x5449f8=_0x512bea===_0x705e65(0x162)?[_0x705e65(0x2c2),_0x705e65(0x2d2)]:_0x4b733b[_0x705e65(0x7f6)],_0x2c6530=_0x512bea===_0x705e65(0x162)?_0x4b733b[_0x705e65(0xa25)]?0x0:0x1:_0x4b733b[_0x705e65(0x54b)];_0x1c2299=_0x5449f8[_0x705e65(0x86c)]((_0x4f1997,_0x4a1bdb)=>_0x705e65(0xbc7)+(_0x4a1bdb===_0x2c6530)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f1997+_0x705e65(0x609))[_0x705e65(0x15d)]('');}else{if(_0x512bea===_0x705e65(0x392)){const _0x3702ee=_0x4b733b[_0x705e65(0xd2c)]||[];_0x1c2299=_0x3702ee[_0x705e65(0x86c)](_0xf90259=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0xf90259===_0x4b733b[_0x705e65(0x18a)])+_0x705e65(0xac4)+_0xf90259+_0x705e65(0x609))['join']('');}}const _0x10626f=_0x4b733b[_0x705e65(0xd4c)]||_0x4b733b['questionText'],_0x58440b=_0x705e65(0xd1d)+(_0x299a92+0x1)+_0x705e65(0x6eb)+_0x52fc4a+_0x705e65(0xd4a)+currentLiveGamePin+_0x705e65(0xc67)+_0x10626f+_0x705e65(0x779)+_0x1c2299+_0x705e65(0xabc);liveGameView[_0x705e65(0xc7e)]=_0x58440b,window[_0x705e65(0xe2)]&&MathJax['typesetPromise']&&MathJax[_0x705e65(0xacf)]([liveGameView]),document['getElementById']('reveal-answer-btn')[_0x705e65(0x9f0)]('click',()=>revealAnswerForAdmin(_0x299a92,_0x52fc4a)),document[_0x705e65(0x3a5)](_0x705e65(0x92d))[_0x705e65(0x9f0)](_0x705e65(0x79c),async()=>{const _0x2dde7b=_0x705e65;showConfirmation(_0x2dde7b(0xdd),async()=>{const _0x4102e6=_0x2dde7b,_0x3e4833=doc(db,_0x4102e6(0x2b3)+appId+_0x4102e6(0xd18),currentLiveGameId);await updateDoc(_0x3e4833,{'status':_0x4102e6(0x471)});});}),document[_0x705e65(0x3a5)](_0x705e65(0x5a4))[_0x705e65(0x9f0)](_0x705e65(0x79c),()=>{const _0x3341c4=_0x705e65;document[_0x3341c4(0x3a5)](_0x3341c4(0x37c))[_0x3341c4(0xcde)][_0x3341c4(0x1a2)](_0x3341c4(0xc15));});}function promptForProjectBeforeGenerating(_0x19bb62){const _0xec9ec=_0x4813c4,_0xb3a441=document[_0xec9ec(0x3a5)]('move-quiz-modal'),_0x116ca0=document[_0xec9ec(0x3a5)]('move-quiz-project-select'),_0x5ecd6d=_0xb3a441[_0xec9ec(0x169)]('h3'),_0x2cc11f=document[_0xec9ec(0x3a5)](_0xec9ec(0x215)),_0x516a72=document[_0xec9ec(0x3a5)](_0xec9ec(0x337));_0x5ecd6d[_0xec9ec(0xd68)]=_0xec9ec(0x273),_0x2cc11f[_0xec9ec(0xd68)]='เลือกและเริ่มสร้าง',_0x2cc11f[_0xec9ec(0x88c)]=!![];allProjects[_0xec9ec(0xdbe)]===0x0?_0x116ca0[_0xec9ec(0xc7e)]=_0xec9ec(0xbc8):(_0x116ca0[_0xec9ec(0xc7e)]=_0xec9ec(0x6e6)+allProjects['map'](_0xec9296=>'<option\x20value=\x22'+_0xec9296['id']+'\x22>'+_0xec9296[_0xec9ec(0x821)]+'</option>')['join'](''),_0x2cc11f[_0xec9ec(0x88c)]=![]);_0xb3a441[_0xec9ec(0xcde)][_0xec9ec(0xa30)](_0xec9ec(0xc15));const _0xfb83a7=async()=>{const _0x5da2d5=_0xec9ec,_0x2112f6=_0x116ca0[_0x5da2d5(0x909)];if(!_0x2112f6){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0xb3a441[_0x5da2d5(0xcde)][_0x5da2d5(0x483)](_0x5da2d5(0xc15)),await loadProjectDetails(_0x2112f6),showView(_0x5da2d5(0x623)),handleGenerateQuizFromBlueprintTopic(_0x19bb62),_0x9aae45();},_0x9aae45=()=>{const _0x356c36=_0xec9ec;_0x5ecd6d[_0x356c36(0xd68)]=_0x356c36(0x768),_0x2cc11f[_0x356c36(0xd68)]=_0x356c36(0xd28),_0x2cc11f[_0x356c36(0x751)]('click',_0xfb83a7),_0x516a72['removeEventListener'](_0x356c36(0x79c),_0x9aae45),_0x2cc11f['addEventListener'](_0x356c36(0x79c),confirmMoveQuiz);};_0x2cc11f[_0xec9ec(0x751)]('click',confirmMoveQuiz),_0x2cc11f[_0xec9ec(0x9f0)](_0xec9ec(0x79c),_0xfb83a7),_0x516a72[_0xec9ec(0x9f0)]('click',_0x9aae45);}function showStudentLiveQuestionView(_0x5db149,_0x12a2e0,_0x251a3d){const _0x19ba29=_0x4813c4,_0x368e71=_0x5db149[_0x19ba29(0x51d)]||currentQuizData[_0x19ba29(0xa34)];let _0x5aebb8='';if(_0x368e71===_0x19ba29(0x260)||_0x368e71===_0x19ba29(0x162)){const _0x2aa57c=_0x368e71===_0x19ba29(0x162)?['ใช่','ไม่ใช่']:_0x5db149[_0x19ba29(0x7f6)];_0x5aebb8=_0x2aa57c[_0x19ba29(0x86c)]((_0x254a74,_0x1d0b51)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1d0b51+_0x19ba29(0xae9)+_0x254a74+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x19ba29(0x15d)]('');}else{if(_0x368e71==='matching_item'){const _0x53f199=_0x5db149[_0x19ba29(0xd2c)]||[];_0x5aebb8=_0x53f199[_0x19ba29(0x86c)]((_0xc81a4,_0x5af22d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x5af22d+_0x19ba29(0xae9)+_0xc81a4+_0x19ba29(0x3d5))['join']('');}else _0x368e71===_0x19ba29(0x311)&&(_0x5aebb8=_0x19ba29(0x7b8));}const _0x266fff=_0x5db149[_0x19ba29(0xd4c)]||_0x5db149[_0x19ba29(0x929)],_0x1cea1c=_0x19ba29(0x529)+(_0x12a2e0+0x1)+_0x19ba29(0x6eb)+_0x251a3d+_0x19ba29(0x731)+_0x266fff+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5aebb8+_0x19ba29(0x699);liveGameView[_0x19ba29(0xc7e)]=_0x1cea1c;window[_0x19ba29(0xe2)]&&MathJax[_0x19ba29(0xacf)]&&MathJax[_0x19ba29(0xacf)]([liveGameView]);const _0x393fd6=document[_0x19ba29(0x3a5)](_0x19ba29(0x673));_0x393fd6&&_0x393fd6[_0x19ba29(0x9f0)](_0x19ba29(0x79c),()=>{const _0x1bafe4=_0x19ba29,_0x44a48f=document['getElementById'](_0x1bafe4(0x2d4))[_0x1bafe4(0x909)];handleLiveAnswer(_0x44a48f,_0x5db149);}),document[_0x19ba29(0x3a5)](_0x19ba29(0x133))['addEventListener'](_0x19ba29(0x79c),_0x1e3aa5=>{const _0x5c786d=_0x19ba29,_0x338abd=_0x1e3aa5[_0x5c786d(0x940)][_0x5c786d(0x5f8)]('.live-answer-btn');if(_0x338abd){const _0x5cadc3=parseInt(_0x338abd[_0x5c786d(0x315)][_0x5c786d(0x459)]);handleLiveAnswer(_0x5cadc3,_0x5db149);}});}function listenForBlueprintShortcuts(){const _0x3bd9c7=_0x4813c4,_0x35bd63=doc(db,_0x3bd9c7(0xb67),'dashboardConfig');onSnapshot(_0x35bd63,_0x4082b6=>{const _0x2499b2=_0x3bd9c7;let _0x5621c3=[],_0xbcba46=[],_0x561429={};if(_0x4082b6[_0x2499b2(0x3ea)]()){const _0x14c35a=_0x4082b6[_0x2499b2(0x1ea)]();_0x5621c3=_0x14c35a[_0x2499b2(0x718)]||[],_0xbcba46=_0x14c35a[_0x2499b2(0x263)]||[],_0x561429=_0x14c35a['shortcutOrder']||{};}!_0xbcba46[_0x2499b2(0x5d9)](_0x2920ed=>_0x2920ed['id']===_0x2499b2(0xa19))&&_0xbcba46['unshift']({'id':_0x2499b2(0xa19),'name':_0x2499b2(0x487),'isDefault':!![]}),!_0x5621c3[_0x2499b2(0x5d9)](_0x16c897=>_0x16c897['id']===_0x2499b2(0x21c))&&_0x5621c3[_0x2499b2(0x47e)]({'id':_0x2499b2(0x21c),'name':_0x2499b2(0x8b5),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x5621c3[_0x2499b2(0x5d9)](_0x3d9287=>_0x3d9287['id']==='default-2')&&_0x5621c3[_0x2499b2(0x47e)]({'id':_0x2499b2(0xe29),'name':_0x2499b2(0x3bf),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x5621c3,shortcutTabs=_0xbcba46,shortcutOrder=_0x561429,renderBlueprintShortcuts(),!document[_0x2499b2(0x3a5)](_0x2499b2(0x1fc))['classList'][_0x2499b2(0xca5)](_0x2499b2(0xc15))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x340662=_0x4813c4,_0x179eea=document[_0x340662(0x3a5)](_0x340662(0x4f0)),_0x2f3ba7=document[_0x340662(0x3a5)](_0x340662(0xf0));if(!_0x179eea||!_0x2f3ba7)return;_0x179eea[_0x340662(0xc7e)]=shortcutTabs['map'](_0x4a9827=>{const _0x15fe0a=_0x340662,_0x448e31=_0x4a9827['id']===activeShortcutTabId,_0x4dcb7a=_0x15fe0a(0x230),_0x13516e=_0x15fe0a(0x4e9);return _0x15fe0a(0x730)+_0x4a9827['id']+_0x15fe0a(0xca4)+(_0x448e31?_0x4dcb7a:_0x13516e)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x4a9827[_0x15fe0a(0x4a4)]+_0x15fe0a(0x80c)+_0x4a9827[_0x15fe0a(0x4a4)]+_0x15fe0a(0x83a)+(!_0x4a9827[_0x15fe0a(0x856)]?_0x15fe0a(0x4a5)+_0x4a9827['id']+_0x15fe0a(0xac0):'')+_0x15fe0a(0x609);})[_0x340662(0x15d)]('');const _0x30333f=shortcutTabs[_0x340662(0x5d9)](_0xdc0f82=>_0xdc0f82['id']===activeShortcutTabId);let _0x3fbd40=[];if(_0x30333f){if(_0x30333f[_0x340662(0x856)])_0x3fbd40=[...blueprintShortcuts];else{const _0x4b118d=_0x30333f[_0x340662(0x151)]||[];_0x3fbd40=blueprintShortcuts['filter'](_0x121fe8=>_0x4b118d['includes'](_0x121fe8['id']));}}const _0x14741a=shortcutOrder[activeShortcutTabId]||[];_0x3fbd40[_0x340662(0x9a1)]((_0x10cea7,_0x2e0ea3)=>{const _0x2bb56e=_0x340662,_0x1edbe3=_0x14741a[_0x2bb56e(0x513)](_0x10cea7['id']),_0x22efd1=_0x14741a['indexOf'](_0x2e0ea3['id']);if(_0x1edbe3===-0x1)return 0x1;if(_0x22efd1===-0x1)return-0x1;return _0x1edbe3-_0x22efd1;}),_0x2f3ba7[_0x340662(0xc7e)]=_0x3fbd40[_0x340662(0xdbe)]>0x0?_0x3fbd40['map'](_0x65080e=>{const _0x478423=_0x340662;let _0x3efdc1='🧩';if(_0x65080e[_0x478423(0xa37)]&&_0x65080e['referenceUrl'])_0x3efdc1='📗';else{if(_0x65080e[_0x478423(0xa37)])_0x3efdc1='📘';}const _0x5bb8b0=shortcutTabs['filter'](_0x3325a9=>!_0x3325a9[_0x478423(0x856)]),_0x5530b1=_0x30333f[_0x478423(0x856)]&&_0x5bb8b0[_0x478423(0xdbe)]>0x0?_0x478423(0x946)+_0x5bb8b0[_0x478423(0x86c)](_0x12a5e4=>_0x478423(0x8a1)+_0x65080e['id']+_0x478423(0xae3)+_0x12a5e4['id']+'\x22>'+_0x12a5e4[_0x478423(0x4a4)]+_0x478423(0x728))[_0x478423(0x15d)]('')+_0x478423(0xd48):'';return _0x478423(0x556)+_0x65080e['id']+_0x478423(0xbda)+_0x3efdc1+'\x20'+_0x65080e[_0x478423(0x4a4)]+_0x478423(0x5c0)+_0x65080e['id']+_0x478423(0x9d9)+_0x65080e['id']+_0x478423(0xb68)+(!_0x65080e[_0x478423(0x856)]?'<button\x20data-id=\x22'+_0x65080e['id']+_0x478423(0xc0c):'')+_0x478423(0x8f)+(!_0x30333f[_0x478423(0x856)]?_0x478423(0x705)+_0x65080e['id']+_0x478423(0x674):'')+_0x478423(0x8f)+_0x5530b1+_0x478423(0x348);})[_0x340662(0x15d)](''):_0x340662(0x9b),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x3ea379=_0x4813c4;document['querySelectorAll'](_0x3ea379(0x6c6))[_0x3ea379(0x140)](_0x5ce170=>{const _0x1a8511=_0x3ea379;_0x5ce170[_0x1a8511(0x9f0)](_0x1a8511(0x79c),_0x304f0e=>{const _0x16ad66=_0x1a8511;activeShortcutTabId=_0x304f0e[_0x16ad66(0x45b)][_0x16ad66(0x315)][_0x16ad66(0xe9)],renderAdditionalShortcutsModal();}),_0x5ce170[_0x1a8511(0x9f0)](_0x1a8511(0xb97),_0x415a43=>{const _0x17d2d2=_0x1a8511,_0x8af101=_0x415a43[_0x17d2d2(0x45b)];_0x8af101['querySelector']('.tab-name-display')['classList'][_0x17d2d2(0x483)](_0x17d2d2(0xc15));const _0x2a5301=_0x8af101[_0x17d2d2(0x169)](_0x17d2d2(0x17e));_0x2a5301[_0x17d2d2(0xcde)][_0x17d2d2(0xa30)](_0x17d2d2(0xc15)),_0x2a5301['focus'](),_0x2a5301[_0x17d2d2(0x36d)]();});}),document[_0x3ea379(0x660)](_0x3ea379(0x17e))[_0x3ea379(0x140)](_0x190b58=>{const _0x5c19e9=_0x3ea379,_0x3c0df9=()=>{const _0x2df66e=_0x3082,_0x5b0471=_0x190b58[_0x2df66e(0x5f8)](_0x2df66e(0x6c6))[_0x2df66e(0x315)][_0x2df66e(0xe9)];handleRenameShortcutTab(_0x5b0471,_0x190b58[_0x2df66e(0x909)]);};_0x190b58[_0x5c19e9(0x9f0)]('blur',_0x3c0df9),_0x190b58[_0x5c19e9(0x9f0)]('keydown',_0x410f63=>{const _0x5af353=_0x5c19e9;if(_0x410f63[_0x5af353(0x922)]==='Enter')_0x190b58[_0x5af353(0xae1)]();});}),document[_0x3ea379(0x660)]('.delete-shortcut-tab-btn')[_0x3ea379(0x140)](_0xe9849b=>{const _0x554bb1=_0x3ea379;_0xe9849b[_0x554bb1(0x9f0)]('click',_0x272470=>handleDeleteShortcutTab(_0x272470[_0x554bb1(0x45b)]['dataset'][_0x554bb1(0xe9)]));}),document['querySelectorAll'](_0x3ea379(0x134))['forEach'](_0x10fe75=>{_0x10fe75['addEventListener']('click',_0x169715=>{const _0x30055c=_0x3082;_0x169715[_0x30055c(0xb49)]();const {shortcutId:_0x545765,targetTabId:_0x2a0b26}=_0x169715[_0x30055c(0x45b)][_0x30055c(0x315)];handleMoveShortcutToTab(_0x545765,_0x2a0b26);});}),document[_0x3ea379(0x660)](_0x3ea379(0x669))['forEach'](_0x152768=>{const _0x15e467=_0x3ea379;_0x152768[_0x15e467(0x9f0)](_0x15e467(0x79c),_0x516591=>{const _0x52607a=_0x15e467;handleRemoveShortcutFromTab(_0x516591[_0x52607a(0x45b)]['dataset'][_0x52607a(0x395)],activeShortcutTabId);});});const _0x26a49f=document[_0x3ea379(0x3a5)](_0x3ea379(0xf0));_0x26a49f[_0x3ea379(0x660)](_0x3ea379(0xbae))[_0x3ea379(0x140)](_0x21c73d=>{const _0x14fc8c=_0x3ea379;_0x21c73d[_0x14fc8c(0x9f0)]('click',()=>{const _0x35f331=_0x14fc8c;document[_0x35f331(0x3a5)](_0x35f331(0x1fc))[_0x35f331(0xcde)][_0x35f331(0x483)](_0x35f331(0xc15)),handleShortcutClick(_0x21c73d['dataset']['id']);});});let _0x4ed55e=null;_0x26a49f[_0x3ea379(0x9f0)](_0x3ea379(0xdc7),_0x1766ac=>{const _0x14c15c=_0x3ea379;_0x4ed55e=_0x1766ac['target']['closest'](_0x14c15c(0xbdb)),_0x4ed55e&&setTimeout(()=>_0x4ed55e['classList'][_0x14c15c(0x483)]('opacity-50'),0x0);}),_0x26a49f['addEventListener'](_0x3ea379(0xbef),()=>{const _0x499865=_0x3ea379;_0x4ed55e&&(_0x4ed55e[_0x499865(0xcde)][_0x499865(0xa30)](_0x499865(0x3b9)),_0x4ed55e=null);}),_0x26a49f[_0x3ea379(0x9f0)](_0x3ea379(0x3f9),_0x4f538b=>{const _0x396fda=_0x3ea379;_0x4f538b[_0x396fda(0xb49)]();const _0x44f02a=[..._0x26a49f['querySelectorAll'](_0x396fda(0xf1))][_0x396fda(0x4c5)]((_0x3580be,_0x4a6654)=>{const _0x1588bc=_0x396fda,_0x465696=_0x4a6654[_0x1588bc(0x880)](),_0x80bcf1=_0x4f538b[_0x1588bc(0xaca)]-_0x465696[_0x1588bc(0x3ef)]-_0x465696['height']/0x2;return _0x80bcf1<0x0&&_0x80bcf1>_0x3580be[_0x1588bc(0x840)]?{'offset':_0x80bcf1,'element':_0x4a6654}:_0x3580be;},{'offset':Number[_0x396fda(0xb7c)]})['element'];_0x44f02a==null?_0x26a49f[_0x396fda(0xaf7)](_0x4ed55e):_0x26a49f[_0x396fda(0xdc9)](_0x4ed55e,_0x44f02a);}),_0x26a49f['addEventListener'](_0x3ea379(0xb95),_0xd9e689=>{const _0x519ab0=_0x3ea379;_0xd9e689['preventDefault']();if(_0x4ed55e){const _0x489020=[..._0x26a49f[_0x519ab0(0x660)](_0x519ab0(0xbdb))][_0x519ab0(0x86c)](_0xbed9=>_0xbed9[_0x519ab0(0x315)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x489020);}}),document[_0x3ea379(0x660)](_0x3ea379(0xa5b))[_0x3ea379(0x140)](_0xe92a95=>{const _0x21aa37=_0x3ea379;_0xe92a95[_0x21aa37(0x9f0)](_0x21aa37(0x79c),_0x118d7d=>{const _0x3b21ca=_0x21aa37;_0x118d7d[_0x3b21ca(0xa99)]();const _0x362f84=_0x118d7d[_0x3b21ca(0x45b)][_0x3b21ca(0x9a)],_0x281ee9=_0x362f84[_0x3b21ca(0xcde)][_0x3b21ca(0xca5)](_0x3b21ca(0xc15));document[_0x3b21ca(0x660)](_0x3b21ca(0x68b))[_0x3b21ca(0x140)](_0x4f83e2=>_0x4f83e2[_0x3b21ca(0xcde)][_0x3b21ca(0x483)](_0x3b21ca(0xc15))),_0x281ee9&&_0x362f84[_0x3b21ca(0xcde)][_0x3b21ca(0xa30)](_0x3b21ca(0xc15));});});}document[_0x4813c4(0x9f0)]('click',_0x5be603=>{const _0x3b3e42=_0x4813c4;!_0x5be603[_0x3b3e42(0x940)][_0x3b3e42(0x5f8)](_0x3b3e42(0xa44))&&document['querySelectorAll'](_0x3b3e42(0x68b))[_0x3b3e42(0x140)](_0x3ae6e9=>_0x3ae6e9['classList']['add'](_0x3b3e42(0xc15)));});async function saveShortcutConfig(){const _0x1452e2=_0x4813c4,_0x18387e=doc(db,_0x1452e2(0xb67),'dashboardConfig');try{await setDoc(_0x18387e,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0xa828c4){console[_0x1452e2(0xabd)](_0x1452e2(0xba1),_0xa828c4);}}async function handleAddShortcutTab(){const _0x1cee93=_0x4813c4,_0x28e741=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');if(!_0x28e741||_0x28e741[_0x1cee93(0x7f3)]()==='')return;shortcutTabs['push']({'id':_0x1cee93(0xa91)+Date[_0x1cee93(0x2d9)](),'name':_0x28e741[_0x1cee93(0x7f3)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x2f3e0c,_0xe1911f){const _0xd42cb2=_0x4813c4,_0x1f27f0=shortcutTabs[_0xd42cb2(0x5d9)](_0x443102=>_0x443102['id']===_0x2f3e0c);_0x1f27f0&&_0xe1911f[_0xd42cb2(0x7f3)]()!==''&&(_0x1f27f0[_0xd42cb2(0x4a4)]=_0xe1911f[_0xd42cb2(0x7f3)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x2271b5){const _0x18fbb6=_0x4813c4,_0xa99695=shortcutTabs['find'](_0x3d06dd=>_0x3d06dd['id']===_0x2271b5);_0xa99695&&!_0xa99695[_0x18fbb6(0x856)]&&showConfirmation(_0x18fbb6(0xcc3)+_0xa99695[_0x18fbb6(0x4a4)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x583871=_0x18fbb6;shortcutTabs=shortcutTabs['filter'](_0x391c62=>_0x391c62['id']!==_0x2271b5),delete shortcutOrder[_0x2271b5];if(activeShortcutTabId===_0x2271b5)activeShortcutTabId=_0x583871(0xa19);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x5a0eed,_0x291c0f){const _0x48d71e=_0x4813c4,_0x3ef098=shortcutTabs[_0x48d71e(0x5d9)](_0x38970f=>_0x38970f['id']===_0x291c0f);_0x3ef098&&!_0x3ef098[_0x48d71e(0x151)][_0x48d71e(0xc4f)](_0x5a0eed)&&(_0x3ef098['shortcutIds'][_0x48d71e(0x8a5)](_0x5a0eed),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x2eaa5a,_0x533a29){const _0x4a3171=_0x4813c4,_0x5a7cd2=shortcutTabs['find'](_0x13bf8d=>_0x13bf8d['id']===_0x533a29);_0x5a7cd2&&!_0x5a7cd2[_0x4a3171(0x856)]&&(_0x5a7cd2[_0x4a3171(0x151)]=_0x5a7cd2[_0x4a3171(0x151)][_0x4a3171(0xd05)](_0x19b25f=>_0x19b25f!==_0x2eaa5a),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x4d66b7,_0x5b7473){shortcutOrder[_0x4d66b7]=_0x5b7473,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x11b483=_0x4813c4,_0x144eca=document[_0x11b483(0x3a5)](_0x11b483(0xcf0)),_0x2e06e7=document[_0x11b483(0x3a5)](_0x11b483(0xf0)),_0x15eec5=document[_0x11b483(0x3a5)](_0x11b483(0x3ff));_0x15eec5&&_0x15eec5[_0x11b483(0xcde)][_0x11b483(0x483)](_0x11b483(0xc15));if(!_0x144eca||!_0x2e06e7)return;const _0xa76d64=blueprintShortcuts[_0x11b483(0xa8a)](0x0,0x4),_0x5ea6e8=blueprintShortcuts[_0x11b483(0xa8a)](0x4);_0x144eca[_0x11b483(0xc7e)]=_0xa76d64[_0x11b483(0x86c)](_0x13b0dc=>{const _0x1ada8c=_0x11b483;let _0x2f19c2='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x18155b='🧩';if(_0x13b0dc[_0x1ada8c(0xa37)]&&_0x13b0dc[_0x1ada8c(0x945)])_0x2f19c2='bg-green-500\x20hover:bg-green-600\x20text-white',_0x18155b='📗';else _0x13b0dc['blueprintUrl']&&(_0x2f19c2=_0x1ada8c(0xd40),_0x18155b='📘');const _0x178a0c=!_0x13b0dc[_0x1ada8c(0x856)]?_0x1ada8c(0x1a1)+_0x13b0dc['id']+_0x1ada8c(0x97b):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x13b0dc['id']+_0x1ada8c(0xf7)+_0x2f19c2+_0x1ada8c(0x399)+_0x18155b+'\x20'+_0x13b0dc[_0x1ada8c(0x4a4)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x13b0dc['id']+_0x1ada8c(0xcbc)+_0x178a0c+_0x1ada8c(0x609);})[_0x11b483(0x15d)](''),_0x5ea6e8[_0x11b483(0xdbe)]>0x0&&(_0x144eca[_0x11b483(0xc7e)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5ea6e8[_0x11b483(0xdbe)]>0x0?_0x2e06e7[_0x11b483(0xc7e)]=_0x5ea6e8[_0x11b483(0x86c)](_0xebdcbd=>{const _0x4528d3=_0x11b483;let _0x26b9dd='🧩';if(_0xebdcbd[_0x4528d3(0xa37)]&&_0xebdcbd[_0x4528d3(0x945)])_0x26b9dd='📗';else _0xebdcbd[_0x4528d3(0xa37)]&&(_0x26b9dd='📘');return _0x4528d3(0x2b6)+_0x26b9dd+'\x20'+_0xebdcbd[_0x4528d3(0x4a4)]+_0x4528d3(0x5c0)+_0xebdcbd['id']+_0x4528d3(0x9d9)+_0xebdcbd['id']+_0x4528d3(0xb68)+(!_0xebdcbd[_0x4528d3(0x856)]?_0x4528d3(0x1a1)+_0xebdcbd['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x4528d3(0xc18);})['join'](''):_0x2e06e7['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x2f1cc2){const _0x819889=_0x4813c4,_0xa0ab71=_0x2f1cc2[_0x819889(0xa6a)]('.')[_0x819889(0xc8b)]()['toLowerCase']();switch(_0xa0ab71){case _0x819889(0x8f4):return _0x819889(0x438);case _0x819889(0x76c):return _0x819889(0x43d);default:return'application/pdf';}}function openShortcutEditor(_0x40dee8=null){const _0x24f761=_0x4813c4,_0x117dfc=document[_0x24f761(0x3a5)](_0x24f761(0xdb2)),_0x448db3=document['getElementById'](_0x24f761(0x7f0)),_0xb08097=document[_0x24f761(0x3a5)](_0x24f761(0xc5d)),_0x546446=document[_0x24f761(0x3a5)](_0x24f761(0x257)),_0x146973=document[_0x24f761(0x3a5)](_0x24f761(0x6d2)),_0x3bc60=document[_0x24f761(0x3a5)](_0x24f761(0x95b));if(_0x40dee8){const _0x5e22dd=blueprintShortcuts[_0x24f761(0x5d9)](_0x2b817d=>_0x2b817d['id']===_0x40dee8);if(!_0x5e22dd)return;_0x448db3[_0x24f761(0xd68)]=_0x24f761(0x24f),_0xb08097['value']=_0x5e22dd['id'],_0x546446['value']=_0x5e22dd['name'],_0x146973[_0x24f761(0x909)]=_0x5e22dd['blueprintUrl']||'',_0x3bc60[_0x24f761(0x909)]=_0x5e22dd['referenceUrl']||'';}else _0x448db3[_0x24f761(0xd68)]=_0x24f761(0x930),_0xb08097[_0x24f761(0x909)]='',_0x546446[_0x24f761(0x909)]='',_0x146973[_0x24f761(0x909)]='',_0x3bc60['value']='';_0x117dfc[_0x24f761(0xcde)][_0x24f761(0xa30)](_0x24f761(0xc15));}async function saveShortcutChanges(){const _0x3f8931=_0x4813c4,_0x56e1fc=document[_0x3f8931(0x3a5)](_0x3f8931(0xc5d))[_0x3f8931(0x909)],_0x53140d=document['getElementById']('shortcut-name-input')[_0x3f8931(0x909)]['trim'](),_0x273156=document[_0x3f8931(0x3a5)](_0x3f8931(0x6d2))['value'][_0x3f8931(0x7f3)]();if(!_0x53140d||!_0x273156){showMessage(_0x3f8931(0x78e));return;}const _0x46221c={'id':_0x56e1fc||'shortcut_'+Date[_0x3f8931(0x2d9)](),'name':_0x53140d,'blueprintUrl':_0x273156,'referenceUrl':document[_0x3f8931(0x3a5)]('shortcut-reference-url-input')[_0x3f8931(0x909)][_0x3f8931(0x7f3)](),'isDefault':_0x56e1fc[_0x3f8931(0xb74)](_0x3f8931(0x693))};let _0x14dd04;_0x56e1fc?_0x14dd04=blueprintShortcuts[_0x3f8931(0x86c)](_0x79ad55=>_0x79ad55['id']===_0x56e1fc?_0x46221c:_0x79ad55):_0x14dd04=[...blueprintShortcuts,_0x46221c];try{const _0x3ab3e2=doc(db,_0x3f8931(0xb67),_0x3f8931(0xbfe));await setDoc(_0x3ab3e2,{'blueprintShortcuts':_0x14dd04},{'merge':!![]}),document[_0x3f8931(0x3a5)](_0x3f8931(0xdb2))[_0x3f8931(0xcde)][_0x3f8931(0x483)]('hidden');}catch(_0x362ae6){console[_0x3f8931(0xabd)](_0x3f8931(0xc2f),_0x362ae6),showMessage(_0x3f8931(0xdc0));}}async function handleShortcutClick(_0x1808ac){const _0x21c339=_0x4813c4,_0x3790f2=blueprintShortcuts['find'](_0x221705=>_0x221705['id']===_0x1808ac);if(!_0x3790f2||!_0x3790f2[_0x21c339(0xa37)])return;document[_0x21c339(0x3a5)](_0x21c339(0x7bc))[_0x21c339(0xcde)][_0x21c339(0x483)](_0x21c339(0xc15)),document[_0x21c339(0x3a5)](_0x21c339(0xad5))[_0x21c339(0x88c)]=!![];const _0x201f68=document[_0x21c339(0x3a5)]('loader'),_0x41982e=document['getElementById']('loader-text');document[_0x21c339(0x3a5)](_0x21c339(0x8bc))[_0x21c339(0xcde)][_0x21c339(0xa30)](_0x21c339(0xc15)),document[_0x21c339(0x3a5)]('generated-quiz-container')[_0x21c339(0xc7e)]='',_0x201f68[_0x21c339(0xcde)][_0x21c339(0xa30)]('hidden');try{_0x41982e[_0x21c339(0xd68)]=_0x21c339(0x2e5);const _0x53c0cf=await fetchFileFromUrl(_0x3790f2[_0x21c339(0xa37)],_0x21c339(0xcc2));let _0x542902=null;if(_0x3790f2[_0x21c339(0x945)]){_0x41982e['textContent']=_0x21c339(0x518);const _0x33cbe0=_0x3790f2[_0x21c339(0x945)][_0x21c339(0x7c4)]()[_0x21c339(0xbfb)](_0x21c339(0x636))?_0x21c339(0xaa6):'reference.pdf';_0x542902=await fetchFileFromUrl(_0x3790f2[_0x21c339(0x945)],_0x33cbe0);}await handleGenerateFromBlueprintWithFiles(_0x53c0cf,_0x542902);}catch(_0x2929f2){console['error'](_0x21c339(0x583),_0x2929f2),showMessage(_0x21c339(0xa6c)+_0x2929f2[_0x21c339(0xbd0)]),_0x201f68[_0x21c339(0xcde)][_0x21c339(0x483)]('hidden');}}function getDirectDownloadUrl(_0x2cfca1){const _0x786c15=_0x4813c4,_0x46c223=_0x2cfca1[_0x786c15(0xdfd)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x46c223&&_0x46c223[0x1])return _0x786c15(0xd6e)+_0x46c223[0x1];return _0x2cfca1;}async function fetchFileFromUrl(_0x3b6874,_0x40f418){const _0xb953d1=_0x4813c4,_0xb88e8c=getDirectDownloadUrl(_0x3b6874),_0x37258d=_0xb953d1(0xa9e)+encodeURIComponent(_0xb88e8c),_0x3b1411=await fetch(_0x37258d);if(!_0x3b1411['ok'])throw new Error(_0xb953d1(0x256)+_0x3b1411[_0xb953d1(0xd0e)]+')');const _0x7ae65f=await _0x3b1411[_0xb953d1(0xa57)](),_0x2e6eb9=await new Promise((_0x3f89b1,_0x11ab7b)=>{const _0x5757ae=_0xb953d1,_0x7e6f06=new FileReader();_0x7e6f06[_0x5757ae(0x8f1)]=()=>_0x3f89b1(new Uint8Array(_0x7e6f06[_0x5757ae(0xb8)])),_0x7e6f06[_0x5757ae(0x46e)]=_0x11ab7b,_0x7e6f06['readAsArrayBuffer'](_0x7ae65f[_0x5757ae(0xa8a)](0x0,0x4));});let _0x18d48c='';const _0x78939c=new TextDecoder()[_0xb953d1(0x52b)](_0x2e6eb9);return _0x78939c===_0xb953d1(0xbcf)?(_0x18d48c='application/pdf',console[_0xb953d1(0x84)](_0xb953d1(0x2f2))):(_0x18d48c='text/plain',console[_0xb953d1(0x84)](_0xb953d1(0x193))),new File([_0x7ae65f],_0x40f418,{'type':_0x18d48c});}async function handleGenerateFromBlueprintWithFiles(_0x469d66,_0x3ad858=null){const _0x175fb5=_0x4813c4;if(!_0x469d66){showMessage(_0x175fb5(0x8f5));return;}const _0x523ce2=document['getElementById']('loader'),_0x312588=document['getElementById'](_0x175fb5(0x3ba));_0x523ce2['classList'][_0x175fb5(0xa30)](_0x175fb5(0xc15)),document[_0x175fb5(0x3a5)](_0x175fb5(0x8bc))['classList'][_0x175fb5(0xa30)](_0x175fb5(0xc15)),document[_0x175fb5(0x3a5)](_0x175fb5(0x7f9))[_0x175fb5(0xc7e)]='';try{_0x312588[_0x175fb5(0xd68)]=_0x175fb5(0xa4b);const _0x4530e0=await new Promise((_0x3c1965,_0xa95a9c)=>{const _0x5d48ce=_0x175fb5,_0x13fa3c=new FileReader();_0x13fa3c[_0x5d48ce(0xb98)](_0x469d66),_0x13fa3c[_0x5d48ce(0xc99)]=()=>_0x3c1965(_0x13fa3c[_0x5d48ce(0xb8)][_0x5d48ce(0xa6a)](',')[0x1]),_0x13fa3c[_0x5d48ce(0x46e)]=_0xa95a9c;}),_0x678ed=[];if(_0x3ad858){_0x312588[_0x175fb5(0xd68)]=_0x175fb5(0x1dd);const _0x224ad1=await _0x3ad858[_0x175fb5(0xc97)]();_0x678ed[_0x175fb5(0x8a5)]({'text':_0x175fb5(0x580)+_0x224ad1});}const _0x42703=[{'text':_0x175fb5(0xc41)},{'inlineData':{'mimeType':_0x469d66[_0x175fb5(0x680)],'data':_0x4530e0}},..._0x678ed];await handleGenerateFromBlueprint(_0x42703);}catch(_0x153590){console['error']('Error\x20in\x20generating\x20from\x20files:',_0x153590),showMessage(_0x175fb5(0xa6c)+_0x153590[_0x175fb5(0xbd0)]),_0x523ce2[_0x175fb5(0xcde)][_0x175fb5(0x483)](_0x175fb5(0xc15));}}async function handleLiveAnswer(_0x40b09a,_0x134710){const _0x510101=_0x4813c4;document[_0x510101(0x660)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x510101(0x140)](_0x4b8375=>_0x4b8375['disabled']=!![]);const _0x586d0b=_0x134710[_0x510101(0x51d)]||currentQuizData['quizType'];let _0x14ae3a=![],_0x11fc43=_0x40b09a;if(_0x586d0b===_0x510101(0x311)){const _0x1d6a46=(_0x40b09a||'')['toString']();_0x14ae3a=await gradeShortAnswer(_0x1d6a46,_0x134710);}else{if(_0x586d0b===_0x510101(0x260))_0x14ae3a=_0x40b09a===_0x134710[_0x510101(0x54b)];else{if(_0x586d0b===_0x510101(0x162)){const _0x36d918=_0x134710[_0x510101(0xa25)];_0x14ae3a=_0x40b09a===0x0&&_0x36d918||_0x40b09a===0x1&&!_0x36d918;}else{if(_0x586d0b===_0x510101(0x392)){const _0x28c15c=_0x134710['allResponses'][_0x40b09a];_0x14ae3a=_0x28c15c===_0x134710[_0x510101(0x18a)],_0x11fc43=_0x28c15c;}}}}const _0x25ce8c=doc(db,_0x510101(0x2b3)+appId+'/public/data/liveGames',currentLiveGameId),_0x179ab5={};_0x179ab5[_0x510101(0xb9a)+currentStudentName+_0x510101(0xcc8)]=!![],_0x179ab5[_0x510101(0xb9a)+currentStudentName+_0x510101(0xc35)]=_0x14ae3a,_0x179ab5[_0x510101(0xb9a)+currentStudentName+_0x510101(0x301)]=_0x586d0b==='short_answer'||_0x586d0b===_0x510101(0x392)?null:_0x40b09a,_0x179ab5['players.'+currentStudentName+_0x510101(0x6f6)]=_0x11fc43,_0x179ab5[_0x510101(0xb9a)+currentStudentName+_0x510101(0x300)]=serverTimestamp(),_0x179ab5[_0x510101(0xb9a)+currentStudentName+_0x510101(0x460)]=![],await updateDoc(_0x25ce8c,_0x179ab5),liveGameView[_0x510101(0xc7e)]=_0x510101(0xa1d);}function showAdminSummaryView(_0x2e8493,_0xb1cc58){const _0x47fb5a=_0x4813c4,_0x390bc4=Object[_0x47fb5a(0x3fb)](_0x2e8493[_0x47fb5a(0x2e8)]||{}),_0x3ed0b0=_0xb1cc58[_0x47fb5a(0x51d)]||currentQuizData[_0x47fb5a(0xa34)],_0x16f507=_0x3ed0b0===_0x47fb5a(0x162)?[_0x47fb5a(0x2c2),_0x47fb5a(0x2d2)]:_0xb1cc58[_0x47fb5a(0x7f6)]||_0xb1cc58[_0x47fb5a(0xd2c)]||[],_0x326285={},_0x15cea9=new Array(_0x16f507[_0x47fb5a(0xdbe)])['fill'](0x0);_0x16f507[_0x47fb5a(0x140)]((_0x3ef52f,_0x2415ea)=>{_0x326285[_0x2415ea]=[];}),Object[_0x47fb5a(0x342)](_0x2e8493[_0x47fb5a(0x2e8)]||{})[_0x47fb5a(0x140)](([_0x42423f,_0x5a336a])=>{const _0x366ae3=_0x47fb5a;if(_0x5a336a[_0x366ae3(0xd0e)]==='active'&&_0x5a336a[_0x366ae3(0x775)]!==undefined){const _0x33d65d=_0x5a336a[_0x366ae3(0x775)];_0x326285[_0x33d65d]&&(_0x326285[_0x33d65d]['push'](_0x42423f),_0x15cea9[_0x33d65d]++);}});const _0x484ba3=Math[_0x47fb5a(0x4c9)](..._0x15cea9,0x1),_0x7efb8=_0x47fb5a(0x13a)+(_0xb1cc58[_0x47fb5a(0xd4c)]||_0xb1cc58[_0x47fb5a(0x929)])+_0x47fb5a(0xaaf)+_0x15cea9[_0x47fb5a(0x86c)]((_0x317ec3,_0x5e56f1)=>{const _0x254dd8=_0x47fb5a,_0x581553=_0x326285[_0x5e56f1][_0x254dd8(0xdbe)]>0x0?_0x326285[_0x5e56f1]['join'](',\x20'):_0x254dd8(0x845);let _0x90b85c=![];if(_0x3ed0b0===_0x254dd8(0x260))_0x90b85c=_0x5e56f1===_0xb1cc58[_0x254dd8(0x54b)];else{if(_0x3ed0b0==='true_false'){const _0x29b461=_0xb1cc58[_0x254dd8(0xa25)];_0x90b85c=_0x29b461&&_0x5e56f1===0x0||!_0x29b461&&_0x5e56f1===0x1;}else _0x3ed0b0==='matching_item'&&(_0x90b85c=_0x16f507[_0x5e56f1]===_0xb1cc58[_0x254dd8(0x18a)]);}const _0x16e9f4=_0x90b85c?'#26890c':_0x254dd8(0x280);return _0x254dd8(0x82e)+_0x317ec3+_0x254dd8(0x6ee)+_0x16e9f4+_0x254dd8(0x31e)+_0x5e56f1+_0x254dd8(0x354)+_0x16f507[_0x5e56f1]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x5e56f1+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x581553+_0x254dd8(0x94f);})[_0x47fb5a(0x15d)]('')+_0x47fb5a(0xa7e);liveGameView[_0x47fb5a(0xc7e)]=_0x7efb8;if(window[_0x47fb5a(0xe2)])MathJax[_0x47fb5a(0xacf)]();document[_0x47fb5a(0x3a5)](_0x47fb5a(0x87))[_0x47fb5a(0x9f0)](_0x47fb5a(0x79c),async()=>{const _0xea725c=_0x47fb5a,_0x49f948=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x49f948,{'questionStatus':_0xea725c(0x522)});}),document[_0x47fb5a(0x3a5)](_0x47fb5a(0x105))['addEventListener'](_0x47fb5a(0x79c),()=>{openScratchpad(_0xb1cc58,_0x16f507);});}function showPlayerSummaryView(_0x2c4f66,_0x291da1){const _0x3641d3=_0x4813c4,_0x3ac6a=Object['values'](_0x2c4f66[_0x3641d3(0x2e8)]||{}),_0x562251=_0x2c4f66[_0x3641d3(0x2e8)][_0x291da1],_0x2a47dc=_0x3ac6a['filter'](_0x2aa143=>_0x2aa143[_0x3641d3(0xd0e)]===_0x3641d3(0xb9b))[_0x3641d3(0x9a1)]((_0x1f74c5,_0x5a3399)=>_0x5a3399['score']-_0x1f74c5[_0x3641d3(0x863)]),_0x341689=_0x2a47dc[_0x3641d3(0x978)](_0x123778=>_0x123778===_0x562251)+0x1,_0x11950a=_0x562251[_0x3641d3(0x509)]?_0x3641d3(0x20f):_0x3641d3(0x353),_0x19436c=_0x562251[_0x3641d3(0x509)]?_0x3641d3(0x490):_0x3641d3(0x697),_0xad3f2e=_0x562251[_0x3641d3(0x5e5)]||0x0,_0x4451f2=_0x3641d3(0xc87),_0x36530f=_0x3641d3(0x750)+_0x4451f2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x19436c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x11950a+_0x3641d3(0x43c)+_0xad3f2e+_0x3641d3(0x577)+(_0x341689>0x0?_0x341689:'-')+_0x3641d3(0xda0);liveGameView[_0x3641d3(0xc7e)]=_0x36530f;}function createQuizFromBank(){const _0x1ff170=_0x4813c4,_0x38e7b1=document[_0x1ff170(0x660)](_0x1ff170(0x53c));if(_0x38e7b1[_0x1ff170(0xdbe)]===0x0){showMessage(_0x1ff170(0x142));return;}const _0x4be3e2=[];_0x38e7b1[_0x1ff170(0x140)](_0x4ca4dd=>{const _0x2eef7d=_0x1ff170;_0x4be3e2[_0x2eef7d(0x8a5)](JSON['parse'](_0x4ca4dd[_0x2eef7d(0x909)]));});const _0x951994={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x4be3e2};displayGeneratedQuiz(_0x951994);}function showAdminLobbyView(_0x4559d8,_0x3f44c8){const _0x44c184=_0x4813c4;showView(_0x44c184(0x2cd));const _0x473755=_0x44c184(0x3e8)+_0x3f44c8+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x4559d8+_0x44c184(0x71e);liveGameView['innerHTML']=_0x473755,document['getElementById'](_0x44c184(0x38e))[_0x44c184(0x9f0)](_0x44c184(0x79c),async()=>{const _0x6aa9a5=_0x44c184;if(!currentQuizData||!currentQuizData['questions']||currentQuizData['questions'][_0x6aa9a5(0xdbe)]===0x0){showMessage(_0x6aa9a5(0xd42));return;}try{const _0x5cdb05=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5cdb05,{'status':_0x6aa9a5(0x8a8),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x157c00=currentQuizData[_0x6aa9a5(0x1bc)][0x0],_0x441817=currentQuizData[_0x6aa9a5(0x1bc)][_0x6aa9a5(0xdbe)];showAdminLiveQuestionView(_0x157c00,0x0,_0x441817);}catch(_0x3a54a6){console[_0x6aa9a5(0xabd)](_0x6aa9a5(0xe25),_0x3a54a6),showMessage(_0x6aa9a5(0xc27));}});}async function openQuizBankModal(){const _0x1b9afd=_0x4813c4;if(allQuizzesGlobal[_0x1b9afd(0xdbe)]===0x0){const _0x437050=await getDocs(collection(db,_0x1b9afd(0x2b3)+appId+_0x1b9afd(0x60d)));allQuizzesGlobal=_0x437050['docs']['map'](_0x35db0b=>({'id':_0x35db0b['id'],..._0x35db0b['data']()}));}renderQuizBankList(''),document[_0x1b9afd(0x3a5)](_0x1b9afd(0x769))[_0x1b9afd(0xcde)][_0x1b9afd(0xa30)](_0x1b9afd(0xc15));}function renderQuizBankList(_0x4dd966='',_0x16a05b=![]){const _0x3ace41=_0x4813c4,_0x4748ce=document[_0x3ace41(0x3a5)](_0x3ace41(0x79e)),_0x1634b0=_0x4dd966[_0x3ace41(0x7c4)]()[_0x3ace41(0x7f3)](),_0x128f29=allQuizzesGlobal['map'](_0x446b0d=>({..._0x446b0d,'projectName':allProjects[_0x3ace41(0x5d9)](_0x5c72ab=>_0x5c72ab['id']===_0x446b0d[_0x3ace41(0xb91)])?.[_0x3ace41(0x821)]||_0x3ace41(0x2fe)}))['filter'](_0x34c147=>(_0x34c147[_0x3ace41(0x1e8)]||'')[_0x3ace41(0x7c4)]()['includes'](_0x1634b0)||(_0x34c147[_0x3ace41(0x821)]||'')['toLowerCase']()['includes'](_0x1634b0)||_0x34c147['id'][_0x3ace41(0x101)]()[_0x3ace41(0xc4f)](_0x1634b0));document[_0x3ace41(0x3a5)](_0x3ace41(0x4ed))[_0x3ace41(0xd68)]='('+_0x128f29[_0x3ace41(0xdbe)]+_0x3ace41(0x994),_0x4748ce[_0x3ace41(0xc7e)]=_0x128f29['length']?_0x128f29[_0x3ace41(0x86c)](_0x6a1a34=>{const _0x36dae2=_0x3ace41,_0x1610e0=!_0x16a05b?_0x36dae2(0xbea)+_0x6a1a34['id']+_0x36dae2(0x758)+_0x6a1a34['id']+_0x36dae2(0x2a4)+_0x6a1a34['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x6a1a34['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x6a1a34['id']+_0x36dae2(0x6af)+_0x6a1a34['id']+_0x36dae2(0x82a)+_0x6a1a34[_0x36dae2(0x1e8)]+_0x36dae2(0xc68):'';return _0x36dae2(0x9a0)+_0x6a1a34['id']+_0x36dae2(0xc0b)+(_0x6a1a34[_0x36dae2(0x1e8)]||'(ไม่มีชื่อ)')+_0x36dae2(0xbdc)+(_0x6a1a34['questions']?.[_0x36dae2(0xdbe)]||0x0)+_0x36dae2(0x8a2)+_0x6a1a34[_0x36dae2(0x821)]+_0x36dae2(0x859)+_0x6a1a34['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1610e0+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x3ace41(0x15d)](''):_0x3ace41(0x574),!_0x16a05b&&(_0x4748ce[_0x3ace41(0x660)](_0x3ace41(0xd08))[_0x3ace41(0x140)](_0x49fe31=>{const _0x1438a4=_0x3ace41;_0x49fe31[_0x1438a4(0x9f0)]('click',()=>{const _0x54e568=_0x1438a4,_0x29fa57=_0x49fe31[_0x54e568(0x315)]['id'];document[_0x54e568(0x3a5)](_0x54e568(0x769))['classList'][_0x54e568(0x483)](_0x54e568(0xc15)),showQuizDetailView(_0x29fa57);});}),_0x4748ce[_0x3ace41(0x660)](_0x3ace41(0x62d))['forEach'](_0x1e2adb=>{const _0x1b3cc7=_0x3ace41;_0x1e2adb['addEventListener'](_0x1b3cc7(0x79c),_0x233a67=>{const _0xab719=_0x1b3cc7;_0x233a67[_0xab719(0xa99)]();const _0x227605=_0x1e2adb['dataset']['id'],_0xcc3219=allQuizzesGlobal['find'](_0x356f97=>_0x356f97['id']===_0x227605);_0xcc3219?(currentQuizData=_0xcc3219,document[_0xab719(0x3a5)]('quiz-bank-modal')[_0xab719(0xcde)][_0xab719(0x483)](_0xab719(0xc15)),startAdminTest()):showMessage(_0xab719(0x776));});}),_0x4748ce[_0x3ace41(0x660)](_0x3ace41(0x848))[_0x3ace41(0x140)](_0x2b807e=>{_0x2b807e['addEventListener']('click',_0x4dca0a=>{const _0x146dec=_0x3082;_0x4dca0a[_0x146dec(0xa99)]();const _0x3e7492=_0x2b807e[_0x146dec(0x315)]['id'],_0x1d43c5=allQuizzesGlobal['find'](_0x1e92b6=>_0x1e92b6['id']===_0x3e7492);_0x1d43c5?(document[_0x146dec(0x3a5)](_0x146dec(0x769))['classList'][_0x146dec(0x483)](_0x146dec(0xc15)),handleGenerateParallelFromBank(_0x1d43c5)):showMessage(_0x146dec(0x776));});}),_0x4748ce['querySelectorAll'](_0x3ace41(0x8ab))[_0x3ace41(0x140)](_0x11ca9c=>{const _0x47a23e=_0x3ace41;_0x11ca9c[_0x47a23e(0x9f0)]('click',_0x3bd02a=>{const _0x50fe9f=_0x47a23e;_0x3bd02a['stopPropagation']();const _0x25cafe=_0x11ca9c[_0x50fe9f(0x315)]['id'],_0x4d942e=allQuizzesGlobal['find'](_0xa27b62=>_0xa27b62['id']===_0x25cafe);_0x4d942e?(document[_0x50fe9f(0x3a5)]('quiz-bank-modal')['classList'][_0x50fe9f(0x483)](_0x50fe9f(0xc15)),startPresentation(_0x4d942e)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x4748ce[_0x3ace41(0x660)](_0x3ace41(0xa84))['forEach'](_0x5b2dc1=>{const _0x2129ab=_0x3ace41;_0x5b2dc1[_0x2129ab(0x9f0)](_0x2129ab(0x79c),_0x2a5857=>{const _0x51090c=_0x2129ab;_0x2a5857[_0x51090c(0xa99)]();const _0xba48f5=_0x5b2dc1[_0x51090c(0x315)]['id'];document['getElementById']('quiz-bank-modal')['classList'][_0x51090c(0x483)](_0x51090c(0xc15)),handleMoveQuiz(_0xba48f5);});}),_0x4748ce[_0x3ace41(0x660)](_0x3ace41(0x5e3))[_0x3ace41(0x140)](_0xd23f0a=>{const _0x2b3ca8=_0x3ace41;_0xd23f0a[_0x2b3ca8(0x9f0)]('click',_0x4b249b=>{const _0x333de9=_0x2b3ca8;_0x4b249b[_0x333de9(0xa99)]();const _0x5d373d=_0xd23f0a[_0x333de9(0x315)]['id'];document[_0x333de9(0x3a5)](_0x333de9(0x769))[_0x333de9(0xcde)][_0x333de9(0x483)](_0x333de9(0xc15)),handleQuizSettings(_0x5d373d);});}),_0x4748ce[_0x3ace41(0x660)](_0x3ace41(0xdd1))[_0x3ace41(0x140)](_0x20eadf=>{_0x20eadf['addEventListener']('click',_0x1e775b=>{const _0x3f617f=_0x3082;_0x1e775b[_0x3f617f(0xa99)]();const _0x30f42b=_0x20eadf[_0x3f617f(0x315)]['id'],_0x521586=_0x20eadf[_0x3f617f(0x315)][_0x3f617f(0x1e8)];showConfirmation(_0x3f617f(0x241)+_0x521586+_0x3f617f(0x98b),()=>handleDeleteQuiz(_0x30f42b));});}));}async function handleCompareResults(_0x145f6a,_0x3681cd){const _0x4a2f0c=_0x4813c4,_0x3db0d8=document[_0x4a2f0c(0x3a5)](_0x4a2f0c(0x504)),_0x523d38=document[_0x4a2f0c(0x3a5)](_0x4a2f0c(0xd0a)),_0x462bca=document[_0x4a2f0c(0x3a5)](_0x4a2f0c(0xb5d));document[_0x4a2f0c(0x3a5)](_0x4a2f0c(0x3b4))[_0x4a2f0c(0xcde)][_0x4a2f0c(0x483)](_0x4a2f0c(0xb9b)),document['getElementById']('comparison-individual-tab')[_0x4a2f0c(0xcde)][_0x4a2f0c(0xa30)](_0x4a2f0c(0xb9b)),_0x523d38[_0x4a2f0c(0xcde)][_0x4a2f0c(0xa30)]('hidden'),_0x462bca['classList'][_0x4a2f0c(0x483)](_0x4a2f0c(0xc15)),_0x523d38[_0x4a2f0c(0xc7e)]=_0x4a2f0c(0x61e),_0x462bca[_0x4a2f0c(0xc7e)]='',_0x3db0d8[_0x4a2f0c(0xcde)][_0x4a2f0c(0xa30)](_0x4a2f0c(0xc15));try{const _0x427d6b=doc(db,_0x4a2f0c(0x2b3)+appId+'/public/data/quizzes',_0x145f6a),_0xfcfd65=await getDoc(_0x427d6b);if(!_0xfcfd65[_0x4a2f0c(0x3ea)]())throw new Error(_0x4a2f0c(0x420));const _0x4b55e5=_0xfcfd65[_0x4a2f0c(0x1ea)](),_0x4b8fe2=_0x4b55e5[_0x4a2f0c(0x1bc)]['length'],_0x2c0ce9=collection(db,_0x4a2f0c(0x2b3)+appId+'/public/data/quizzes/'+_0x3681cd+_0x4a2f0c(0xbfd)),_0x4ce684=collection(db,_0x4a2f0c(0x2b3)+appId+'/public/data/quizzes/'+_0x145f6a+'/submissions'),[_0x550432,_0x3dfb8c]=await Promise[_0x4a2f0c(0xa19)]([getDocs(_0x2c0ce9),getDocs(_0x4ce684)]),_0x46221b=_0x550432[_0x4a2f0c(0xb32)][_0x4a2f0c(0x86c)](_0x4e7f34=>_0x4e7f34[_0x4a2f0c(0x1ea)]()),_0x11a551=_0x3dfb8c[_0x4a2f0c(0xb32)][_0x4a2f0c(0x86c)](_0x1de65e=>_0x1de65e[_0x4a2f0c(0x1ea)]()),_0x4ea361=_0x46221b[_0x4a2f0c(0x86c)](_0x1a7876=>_0x1a7876['latestScore']),_0x48dbb8=_0x11a551[_0x4a2f0c(0x86c)](_0x3d391=>_0x3d391['latestScore']),_0x222e15=calculateMeanAndStdDev(_0x4ea361),_0x2a8089=calculateMeanAndStdDev(_0x48dbb8),_0x30230e=_0x222e15['mean'],_0x52454d=_0x2a8089['mean'],_0x27d959=_0x52454d-_0x30230e;let _0x3ece77='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x30230e[_0x4a2f0c(0x8bd)](0x2)+_0x4a2f0c(0x389)+_0x52454d[_0x4a2f0c(0x8bd)](0x2)+_0x4a2f0c(0xa14)+(_0x27d959>=0x0?_0x4a2f0c(0x4fa):_0x4a2f0c(0x8d5))+_0x4a2f0c(0x7d1)+(_0x27d959>=0x0?'text-emerald-800':_0x4a2f0c(0xb21))+_0x4a2f0c(0x559)+(_0x27d959>=0x0?_0x4a2f0c(0x2db):_0x4a2f0c(0x47f))+'\x22>'+(_0x27d959>=0x0?'+':'')+_0x27d959[_0x4a2f0c(0x8bd)](0x2)+_0x4a2f0c(0xbb);_0x523d38['innerHTML']=_0x3ece77;const _0x34c1cb=document[_0x4a2f0c(0x3a5)](_0x4a2f0c(0x26e))[_0x4a2f0c(0x8e6)]('2d');if(chartInstances[_0x4a2f0c(0x951)])chartInstances['comparison'][_0x4a2f0c(0x8ac)]();chartInstances[_0x4a2f0c(0x951)]=new Chart(_0x34c1cb,{'type':'bar','data':{'labels':[_0x4a2f0c(0xa24)],'datasets':[{'label':_0x4a2f0c(0x878),'data':[_0x30230e],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0x52454d],'backgroundColor':_0x4a2f0c(0x42f)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4b8fe2}}}});const _0x3c5b36=currentProjectData[_0x4a2f0c(0x3a0)]||[],_0x4529c2=_0x3c5b36[_0x4a2f0c(0x86c)](_0xc91b8b=>{const _0x36a496=_0x4a2f0c,_0x527832=_0x46221b[_0x36a496(0x5d9)](_0x5262d7=>_0x5262d7['studentName']===_0xc91b8b),_0x14fb36=_0x11a551[_0x36a496(0x5d9)](_0x395356=>_0x395356[_0x36a496(0x1af)]===_0xc91b8b),_0x5f1952=_0x527832?_0x527832[_0x36a496(0x76b)]:null,_0x45befb=_0x14fb36?_0x14fb36['latestScore']:null,_0x4cd23e=_0x5f1952!==null&&_0x45befb!==null?_0x45befb-_0x5f1952:null,_0x474349=_0x5f1952!==null?calculateZScore(_0x5f1952,_0x222e15[_0x36a496(0x6c9)],_0x222e15['stdDev']):null,_0x289f69=_0x45befb!==null?calculateZScore(_0x45befb,_0x2a8089[_0x36a496(0x6c9)],_0x2a8089['stdDev']):null,_0x546898=_0x474349!==null?calculateTScore(_0x474349):null,_0x190449=_0x289f69!==null?calculateTScore(_0x289f69):null,_0x594eab=_0x546898!==null&&_0x190449!==null?_0x190449-_0x546898:null;return{'name':_0xc91b8b,'preScore':_0x5f1952,'postScore':_0x45befb,'gain':_0x4cd23e,'preTScore':_0x546898,'postTScore':_0x190449,'tGain':_0x594eab};});renderIndividualComparisonTable(_0x4529c2,_0x462bca);}catch(_0x422334){console[_0x4a2f0c(0xabd)](_0x4a2f0c(0x890),_0x422334),_0x523d38[_0x4a2f0c(0xc7e)]=_0x4a2f0c(0xaf5);}}async function saveBlueprintProject(){const _0x4692a3=_0x4813c4;if(!extractedBlueprintData||!extractedBlueprintData[_0x4692a3(0x60b)]){showMessage(_0x4692a3(0x1e0));return;}const _0x313e3a=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x4692a3(0x666));if(!_0x313e3a||_0x313e3a['trim']()==='')return;const _0x27ff4e={};extractedBlueprintData[_0x4692a3(0x60b)][_0x4692a3(0x140)](_0x2adaa0=>{const _0x33c2b2=_0x4692a3;_0x2adaa0[_0x33c2b2(0x119)][_0x33c2b2(0x140)](_0xe3363c=>{const _0x146175=_0x33c2b2;_0xe3363c['subTopics'][_0x146175(0x140)](_0x1bc5dc=>{const _0x458720=_0x146175,_0xee4190='topic_'+Date[_0x458720(0x2d9)]()+Math[_0x458720(0x89e)]()['toString'](0x24)[_0x458720(0x527)](0x2,0x9);_0x27ff4e[_0xee4190]={'sara':_0x2adaa0[_0x458720(0x6a5)],'mainTopic':_0xe3363c['topicName'],'subTopic':_0x1bc5dc,'status':'not_generated','lessonContent':null};});});});try{const _0x10326f=collection(db,_0x4692a3(0x2b3)+appId+'/public/data/blueprintProjects');await addDoc(_0x10326f,{'projectName':_0x313e3a[_0x4692a3(0x7f3)](),'gradeLevel':extractedBlueprintData[_0x4692a3(0xb77)],'topics':_0x27ff4e,'createdAt':serverTimestamp()}),showMessage(_0x4692a3(0x4ef)+_0x313e3a[_0x4692a3(0x7f3)]()+_0x4692a3(0x927)),document[_0x4692a3(0x3a5)](_0x4692a3(0xac7))[_0x4692a3(0xcde)][_0x4692a3(0x483)](_0x4692a3(0xc15));}catch(_0x12d388){console[_0x4692a3(0xabd)](_0x4692a3(0x79a),_0x12d388),showMessage(_0x4692a3(0x9fb));}}async function showBlueprintProjects(){const _0x39b754=_0x4813c4,_0x44478e=document[_0x39b754(0x3a5)](_0x39b754(0x590)),_0x4d31c6=document[_0x39b754(0x3a5)](_0x39b754(0x1c6));_0x4d31c6['innerHTML']=_0x39b754(0x943),_0x44478e[_0x39b754(0xcde)]['remove'](_0x39b754(0xc15));try{const _0xff4343=collection(db,'artifacts/'+appId+_0x39b754(0xdab)),_0x5a1b72=await getDocs(_0xff4343);if(_0x5a1b72[_0x39b754(0xc3f)]){_0x4d31c6[_0x39b754(0xc7e)]=_0x39b754(0x25a);return;}const _0x2d68bc=_0x5a1b72[_0x39b754(0xb32)]['map'](_0x275b98=>({'id':_0x275b98['id'],..._0x275b98[_0x39b754(0x1ea)]()}));_0x2d68bc[_0x39b754(0x9a1)]((_0x121ba0,_0x4d9a42)=>_0x121ba0['projectName'][_0x39b754(0x5f6)](_0x4d9a42[_0x39b754(0x821)],'th')),_0x4d31c6[_0x39b754(0xc7e)]=_0x2d68bc[_0x39b754(0x86c)](_0xb3713e=>_0x39b754(0x992)+_0xb3713e[_0x39b754(0x821)]+_0x39b754(0x630)+_0xb3713e[_0x39b754(0xb77)]+_0x39b754(0x83b)+Object[_0x39b754(0xaab)](_0xb3713e['topics'])[_0x39b754(0xdbe)]+_0x39b754(0x8c3)+_0xb3713e['id']+_0x39b754(0xa5a)+_0xb3713e['id']+_0x39b754(0xe00))[_0x39b754(0x15d)]('');}catch(_0x2720d1){console[_0x39b754(0xabd)](_0x39b754(0xa00),_0x2720d1),_0x4d31c6[_0x39b754(0xc7e)]=_0x39b754(0xd01);}}async function displayBlueprintProjectManager(_0xa2478f){const _0x5bc89d=_0x4813c4;currentBlueprintProjectId=_0xa2478f,document[_0x5bc89d(0x3a5)](_0x5bc89d(0x590))[_0x5bc89d(0xcde)][_0x5bc89d(0x483)]('hidden'),showView(_0x5bc89d(0x50b)),projectDashboardView[_0x5bc89d(0xcde)][_0x5bc89d(0x483)](_0x5bc89d(0xc15));const _0x55e5fa=document[_0x5bc89d(0x3a5)]('blueprint-project-manager-view');_0x55e5fa[_0x5bc89d(0xcde)][_0x5bc89d(0xa30)](_0x5bc89d(0xc15)),document[_0x5bc89d(0x3a5)](_0x5bc89d(0xbaa))[_0x5bc89d(0xc7e)]=_0x5bc89d(0x61e);try{const _0x461591=doc(db,'artifacts/'+appId+_0x5bc89d(0xdab),_0xa2478f),_0x18a69a=await getDoc(_0x461591);if(!_0x18a69a[_0x5bc89d(0x3ea)]())throw new Error('ไม่พบโปรเจค');const _0x288a1b={'id':_0x18a69a['id'],..._0x18a69a[_0x5bc89d(0x1ea)]()};document['getElementById'](_0x5bc89d(0xd13))[_0x5bc89d(0xd68)]=_0x288a1b[_0x5bc89d(0x821)],document[_0x5bc89d(0x3a5)](_0x5bc89d(0x11b))[_0x5bc89d(0x909)]=_0x288a1b['referenceFileUrl']||'',renderBlueprintTopicManager(_0x288a1b);}catch(_0x5bb996){console[_0x5bc89d(0xabd)]('Error\x20displaying\x20blueprint\x20project:',_0x5bb996),showMessage(_0x5bb996[_0x5bc89d(0xbd0)]),showView(_0x5bc89d(0x50b));}}function renderBlueprintTopicManager(_0x49e9a6){const _0x25a4f6=_0x4813c4,_0x4b8ccc=document['getElementById'](_0x25a4f6(0xbaa)),_0x410b54=_0x49e9a6[_0x25a4f6(0x356)]||{};if(Object[_0x25a4f6(0xaab)](_0x410b54)[_0x25a4f6(0xdbe)]===0x0){_0x4b8ccc[_0x25a4f6(0xc7e)]=_0x25a4f6(0xdb5);return;}const _0x408956=Object[_0x25a4f6(0x342)](_0x410b54)['map'](([_0x195c23,_0x4b642e])=>({'id':_0x195c23,..._0x4b642e}))[_0x25a4f6(0x9a1)]((_0x2d93b3,_0x207008)=>(_0x2d93b3[_0x25a4f6(0x716)]??Infinity)-(_0x207008[_0x25a4f6(0x716)]??Infinity)),_0x5a344e={};_0x408956[_0x25a4f6(0x140)](_0x2df534=>{const _0x51fbc2=_0x25a4f6,{sara:_0x59d1b0,mainTopic:_0x54dc87}=_0x2df534;!_0x5a344e[_0x59d1b0]&&(_0x5a344e[_0x59d1b0]={}),!_0x5a344e[_0x59d1b0][_0x54dc87]&&(_0x5a344e[_0x59d1b0][_0x54dc87]=[]),_0x5a344e[_0x59d1b0][_0x54dc87][_0x51fbc2(0x8a5)](_0x2df534);});let _0x48d8f3='';for(const _0x161414 in _0x5a344e){_0x48d8f3+=_0x25a4f6(0x25f)+_0x161414+_0x25a4f6(0x691);for(const _0x1668a3 in _0x5a344e[_0x161414]){_0x48d8f3+=_0x25a4f6(0xa22)+_0x1668a3+_0x25a4f6(0x25e),_0x5a344e[_0x161414][_0x1668a3][_0x25a4f6(0x140)](_0x3c96b0=>{const _0x5cc747=_0x25a4f6,_0x56f7a=_0x3c96b0['id'],_0x4addf7=_0x3c96b0['linkedQuizIds']||[],_0x20b7f5=_0x4addf7[_0x5cc747(0xdbe)]>0x0,_0x18c557=_0x3c96b0[_0x5cc747(0xd0e)]===_0x5cc747(0xa6);let _0x490753='';_0x20b7f5?_0x490753=_0x5cc747(0x2aa)+_0x4addf7[_0x5cc747(0xdbe)]+_0x5cc747(0x90):_0x490753=_0x5cc747(0x53a)+(_0x18c557?'bg-green-200\x20text-green-800':_0x5cc747(0x21e))+'\x22>'+(_0x18c557?_0x5cc747(0xbf9):_0x5cc747(0x39a))+'</span>';const _0x59c396=!_0x18c557?_0x5cc747(0x1f0):'',_0x3dfc4c=!_0x18c557?_0x5cc747(0xf2):'';let _0x33de31=_0x18c557?_0x5cc747(0x9ee):_0x5cc747(0x855);_0x48d8f3+=_0x5cc747(0x60f)+_0x56f7a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x3c96b0[_0x5cc747(0xbb0)]+_0x5cc747(0x6cf)+_0x490753+_0x5cc747(0x1e5)+_0x59c396+_0x5cc747(0xb5e)+_0x3dfc4c+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33de31+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x48d8f3+='</div></div>';}_0x48d8f3+='</div>';}_0x4b8ccc[_0x25a4f6(0xc7e)]=_0x48d8f3;}async function handleDeepDeleteBlueprintProject(_0x2ccd83){const _0x451d55=_0x4813c4,_0x73938b=doc(db,_0x451d55(0x2b3)+appId+_0x451d55(0xdab),_0x2ccd83),_0x3e161b=await getDoc(_0x73938b);if(!_0x3e161b[_0x451d55(0x3ea)]()){showMessage(_0x451d55(0xba9));return;}const _0x17249e=_0x3e161b[_0x451d55(0x1ea)]()[_0x451d55(0x821)];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x17249e+_0x451d55(0x8af),async()=>{const _0x5d4893=_0x451d55;showMessage(_0x5d4893(0x51c));try{const _0x42b5c5=writeBatch(db),_0x54e2f0=_0x3e161b[_0x5d4893(0x1ea)](),_0x572943=_0x54e2f0[_0x5d4893(0x356)]||{};for(const _0xbadc71 in _0x572943){const _0x48ab57=doc(db,'artifacts/'+appId+_0x5d4893(0x1cc)+_0x2ccd83+_0x5d4893(0x6c1),_0xbadc71);_0x42b5c5[_0x5d4893(0xbf1)](_0x48ab57);}const _0x3b0a98=new Set();for(const _0x11161f in _0x572943){_0x572943[_0x11161f][_0x5d4893(0xd7b)]&&_0x572943[_0x11161f][_0x5d4893(0xd7b)][_0x5d4893(0x140)](_0x20a137=>_0x3b0a98[_0x5d4893(0x483)](_0x20a137));}for(const _0x32324e of _0x3b0a98){await handleDeleteQuiz(_0x32324e,![]);}_0x42b5c5[_0x5d4893(0xbf1)](_0x73938b),await _0x42b5c5['commit'](),showMessage(_0x5d4893(0xa11)+_0x17249e+'\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!'),showBlueprintProjects();}catch(_0x43abda){console[_0x5d4893(0xabd)](_0x5d4893(0x6e7),_0x43abda),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x4116fc){const _0x216a0c=_0x4813c4,_0x5d3954=document[_0x216a0c(0x3a5)](_0x216a0c(0x2ad)),_0x1fbf03=document[_0x216a0c(0x3a5)]('topic-bank-list'),_0x4ea8ef=document['getElementById'](_0x216a0c(0x405));try{await ensureGlobalQuizzesLoaded();const _0x1f6710=doc(db,_0x216a0c(0x2b3)+appId+_0x216a0c(0xdab),currentBlueprintProjectId),_0x2f67a9=await getDoc(_0x1f6710);if(!_0x2f67a9[_0x216a0c(0x3ea)]())return;const _0x15d45c=_0x2f67a9[_0x216a0c(0x1ea)](),_0x529229=_0x15d45c[_0x216a0c(0x356)][_0x4116fc];document['getElementById']('topic-bank-subtopic-name')['textContent']=_0x529229['subTopic'];const _0x2ef3f6=_0x529229[_0x216a0c(0xd7b)]||[];_0x4ea8ef[_0x216a0c(0xcde)][_0x216a0c(0x1a2)](_0x216a0c(0xc15),_0x2ef3f6['length']===0x0),_0x4ea8ef['onclick']=()=>handleClearAllLinksForTopic(_0x4116fc);if(_0x2ef3f6['length']===0x0)_0x1fbf03[_0x216a0c(0xc7e)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x252977=allQuizzesGlobal[_0x216a0c(0xd05)](_0x2a5d31=>_0x2ef3f6[_0x216a0c(0xc4f)](_0x2a5d31['id']));_0x1fbf03['innerHTML']=_0x252977[_0x216a0c(0x86c)](_0x10aecf=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x10aecf['id']+_0x216a0c(0xa4f)+_0x10aecf[_0x216a0c(0x1e8)]+_0x216a0c(0x573)+_0x10aecf['id']+_0x216a0c(0x83b)+_0x10aecf[_0x216a0c(0x1bc)][_0x216a0c(0xdbe)]+'\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x10aecf['id']+_0x216a0c(0xbcd)+_0x10aecf['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22'+_0x10aecf['id']+_0x216a0c(0x9fc)+_0x10aecf['id']+_0x216a0c(0x501)+_0x4116fc+_0x216a0c(0x8c9)+_0x10aecf['id']+_0x216a0c(0x66f))[_0x216a0c(0x15d)]('');}document[_0x216a0c(0x3a5)]('add-from-global-bank-btn')[_0x216a0c(0x8d)]=()=>{openQuizSelectorForBlueprint(_0x4116fc);},document[_0x216a0c(0x3a5)](_0x216a0c(0xc09))[_0x216a0c(0x8d)]=()=>_0x5d3954[_0x216a0c(0xcde)][_0x216a0c(0x483)](_0x216a0c(0xc15)),_0x5d3954['classList'][_0x216a0c(0xa30)](_0x216a0c(0xc15));}catch(_0x42adc3){showMessage(_0x42adc3[_0x216a0c(0xbd0)]);}}async function openQuizSelectorForBlueprint(_0x2b8836){const _0x80de59=_0x4813c4,_0xef280a=document['getElementById'](_0x80de59(0x769)),_0x2d1ce7=document[_0x80de59(0x3a5)](_0x80de59(0x2ad));_0x2d1ce7[_0x80de59(0xcde)]['add']('hidden'),document['getElementById'](_0x80de59(0x677))?.[_0x80de59(0xa30)]();const _0xa1d336=document['createElement']('button');_0xa1d336['id']=_0x80de59(0x677),_0xa1d336[_0x80de59(0x16b)]=_0x80de59(0x788),_0xa1d336[_0x80de59(0xd68)]=_0x80de59(0x82b),_0xa1d336[_0x80de59(0x88c)]=!![];try{await ensureGlobalQuizzesLoaded(),_0xef280a[_0x80de59(0xcde)]['remove'](_0x80de59(0xc15)),renderQuizBankListForMultiSelect(''),document[_0x80de59(0x3a5)](_0x80de59(0x3ca))[_0x80de59(0x40d)][_0x80de59(0x4c3)]='none',_0xef280a[_0x80de59(0x169)](_0x80de59(0x40e))[_0x80de59(0xaf7)](_0xa1d336);const _0x577fb6=(_0x229d4e=![])=>{const _0x41e53b=_0x80de59;_0xef280a[_0x41e53b(0xcde)][_0x41e53b(0x483)]('hidden'),document[_0x41e53b(0x3a5)](_0x41e53b(0x3ca))[_0x41e53b(0x40d)][_0x41e53b(0x4c3)]=_0x41e53b(0x248),_0xa1d336[_0x41e53b(0xa30)](),_0x229d4e&&openTopicQuizBank(_0x2b8836);};_0xa1d336[_0x80de59(0x8d)]=async()=>{const _0x3d5faf=_0x80de59,_0x376369=Array['from'](document[_0x3d5faf(0x660)](_0x3d5faf(0xd3a)))[_0x3d5faf(0x86c)](_0x4120ef=>_0x4120ef['value']);if(_0x376369[_0x3d5faf(0xdbe)]===0x0)return;try{const _0x26d3c0=doc(db,'artifacts/'+appId+_0x3d5faf(0xdab),currentBlueprintProjectId),_0x1bbf30=(await getDoc(_0x26d3c0))[_0x3d5faf(0x1ea)](),_0x370a19=_0x1bbf30[_0x3d5faf(0x356)][_0x2b8836]['linkedQuizIds']||[],_0x529662=[...new Set([..._0x370a19,..._0x376369])];await updateDoc(_0x26d3c0,{[_0x3d5faf(0x155)+_0x2b8836+_0x3d5faf(0xad1)]:_0x529662}),showMessage(_0x3d5faf(0x800)+_0x376369[_0x3d5faf(0xdbe)]+_0x3d5faf(0x4a9)),_0x577fb6(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x576e6c){console[_0x3d5faf(0xabd)](_0x3d5faf(0xb73),_0x576e6c);}},document[_0x80de59(0x3a5)](_0x80de59(0x285))['onclick']=()=>_0x577fb6(!![]);}catch(_0x3e9e9a){showMessage(_0x3e9e9a[_0x80de59(0xbd0)]),_0x2d1ce7[_0x80de59(0xcde)][_0x80de59(0xa30)](_0x80de59(0xc15));}}function handleClearLinkedQuiz(_0x13a7f1){const _0x1cce58=_0x4813c4;showConfirmation(_0x1cce58(0x31a),async()=>{const _0x542a90=_0x1cce58;try{const _0x3ad84c=doc(db,_0x542a90(0x2b3)+appId+_0x542a90(0xdab),currentBlueprintProjectId);await updateDoc(_0x3ad84c,{['topics.'+_0x13a7f1+_0x542a90(0x1c8)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x179dba){console[_0x542a90(0xabd)](_0x542a90(0x148),_0x179dba),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x2bc7ce=_0x4813c4,_0x8f1f62=prompt(_0x2bc7ce(0x302));if(!_0x8f1f62||_0x8f1f62[_0x2bc7ce(0x7f3)]()==='')return;const _0x396e5c=prompt(_0x2bc7ce(0xc3e),_0x2bc7ce(0x7bd)),_0x3d491a=prompt(_0x2bc7ce(0x8e5),_0x2bc7ce(0xbe5)),_0x56f65f=_0x2bc7ce(0x55c)+Date[_0x2bc7ce(0x2d9)]()+Math['random']()[_0x2bc7ce(0x101)](0x24)[_0x2bc7ce(0x527)](0x2,0x9),_0x1a0710={'sara':_0x396e5c,'mainTopic':_0x3d491a,'subTopic':_0x8f1f62[_0x2bc7ce(0x7f3)](),'status':_0x2bc7ce(0xd7a),'lessonContent':null};try{const _0xc0ae92=doc(db,'artifacts/'+appId+_0x2bc7ce(0xdab),currentBlueprintProjectId);await updateDoc(_0xc0ae92,{[_0x2bc7ce(0x155)+_0x56f65f]:_0x1a0710}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5afb32){console[_0x2bc7ce(0xabd)](_0x2bc7ce(0x6dc),_0x5afb32),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x413fa0){const _0x161f95=_0x4813c4,_0x487731=document[_0x161f95(0x169)](_0x161f95(0xd21)+_0x413fa0+'\x22]'),_0x2cfd34=_0x487731['querySelector'](_0x161f95(0x2e7)),_0x2cc39a=_0x2cfd34[_0x161f95(0xd68)],_0xc4d776=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x2cc39a);if(!_0xc4d776||_0xc4d776[_0x161f95(0x7f3)]()===''||_0xc4d776['trim']()===_0x2cc39a)return;try{const _0x174f54=doc(db,_0x161f95(0x2b3)+appId+_0x161f95(0xdab),currentBlueprintProjectId);await updateDoc(_0x174f54,{['topics.'+_0x413fa0+_0x161f95(0x45c)]:_0xc4d776[_0x161f95(0x7f3)]()}),_0x2cfd34[_0x161f95(0xd68)]=_0xc4d776['trim'](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x3388f1){console[_0x161f95(0xabd)]('Error\x20editing\x20topic:',_0x3388f1),showMessage(_0x161f95(0x62a));}}async function deleteTopicFromProject(_0x10efa5){const _0xcdddc9=_0x4813c4;if(!confirm(_0xcdddc9(0x7e7)))return;try{const _0x4338cb=doc(db,_0xcdddc9(0x2b3)+appId+_0xcdddc9(0xdab),currentBlueprintProjectId);await updateDoc(_0x4338cb,{[_0xcdddc9(0x155)+_0x10efa5]:deleteField()}),document[_0xcdddc9(0x169)](_0xcdddc9(0xd21)+_0x10efa5+'\x22]')[_0xcdddc9(0xa30)](),showMessage(_0xcdddc9(0xd45));}catch(_0x463eb0){console[_0xcdddc9(0xabd)](_0xcdddc9(0x5d3),_0x463eb0),showMessage(_0xcdddc9(0xbb4));}}async function generateAndSaveLessonForBlueprint(_0x5d6143,_0x2e751b,_0x31ad1a){handleGenerateAndShowLesson(_0x2e751b,_0x31ad1a);const _0x2911c5=setInterval(async()=>{const _0x34bc7c=_0x3082,_0x258b09=document[_0x34bc7c(0x3a5)](_0x34bc7c(0x40a)),_0x28c80b=_0x258b09[_0x34bc7c(0xcde)][_0x34bc7c(0xca5)](_0x34bc7c(0xc15));if(_0x28c80b){clearInterval(_0x2911c5);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x4cec4d={'point':document['getElementById'](_0x34bc7c(0x164))[_0x34bc7c(0xc7e)],'memory':document[_0x34bc7c(0x3a5)](_0x34bc7c(0xa32))[_0x34bc7c(0xc7e)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x34bc7c(0x6fd))[_0x34bc7c(0xc7e)]};try{const _0xa44c99=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x6d5378=doc(db,_0x34bc7c(0x2b3)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+'/lessons',_0x5d6143),_0x27d6ba=writeBatch(db);_0x27d6ba['set'](_0x6d5378,{'content':_0x4cec4d}),_0x27d6ba[_0x34bc7c(0x1d2)](_0xa44c99,{[_0x34bc7c(0x155)+_0x5d6143+'.status']:_0x34bc7c(0xa6)}),await _0x27d6ba[_0x34bc7c(0x5a1)](),console['log']('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x5d6143+_0x34bc7c(0xa3d)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x488b7e){console[_0x34bc7c(0xabd)](_0x34bc7c(0xc83),_0x488b7e);}}}},0x3e8);}function displayHalfMarkResult(_0x113ccd,_0xf944fe){const _0x4e2e88=_0x4813c4,_0x48228d=_0x113ccd>=_0xf944fe/0x2,_0x4eba1d=_0x48228d?'bg-green-100':_0x4e2e88(0x8d5),_0x397c38=_0x48228d?_0x4e2e88(0xa65):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x4ffede=_0x48228d?_0x4e2e88(0x138):_0x4e2e88(0xb21),_0x36fd32=_0x48228d?_0x4e2e88(0xc95):_0x4e2e88(0xc73),_0x30aa26=_0x48228d?_0x4e2e88(0x973):_0x4e2e88(0x71c);let _0x540592=_0x4e2e88(0x652)+_0x4eba1d+_0x4e2e88(0x15f)+_0x397c38+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x4ffede+'\x20mb-2\x22>'+_0x36fd32+_0x4e2e88(0x9d)+_0x30aa26+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4e2e88(0xc7e)]=_0x540592,studentResultArea[_0x4e2e88(0xcde)][_0x4e2e88(0xa30)](_0x4e2e88(0xc15)),studentQuizArea[_0x4e2e88(0xcde)][_0x4e2e88(0x483)](_0x4e2e88(0xc15)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x48228d});}function displayPerfectScoreResult(_0x356a08,_0x4629bb){const _0x23645c=_0x4813c4,_0xa91e74=_0x356a08===_0x4629bb,_0x46f406=_0xa91e74?'bg-yellow-100':_0x23645c(0x81d),_0x4c31ec=_0xa91e74?_0x23645c(0xc52):_0x23645c(0x3ae),_0x495e06=_0xa91e74?_0x23645c(0x4d0):_0x23645c(0x7d2),_0x44b01c=_0xa91e74?_0x23645c(0x621):_0x23645c(0x2cc),_0x211f66=_0xa91e74?_0x23645c(0x662):_0x23645c(0x341);let _0x3d1f45=_0x23645c(0x652)+_0x46f406+_0x23645c(0x15f)+_0x4c31ec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x495e06+_0x23645c(0xde0)+_0x44b01c+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x211f66+_0x23645c(0x139);studentResultArea[_0x23645c(0xc7e)]=_0x3d1f45,studentResultArea[_0x23645c(0xcde)][_0x23645c(0xa30)](_0x23645c(0xc15)),studentQuizArea[_0x23645c(0xcde)][_0x23645c(0x483)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x356a08,'totalQuestions':_0x4629bb});}function renderIndividualComparisonTable(_0x2dacca,_0x319308){const _0x4e388e=_0x4813c4;_0x2dacca['sort']((_0x5f45e3,_0x245afc)=>(_0x245afc[_0x4e388e(0x905)]??-Infinity)-(_0x5f45e3['tGain']??-Infinity));let _0x327645=_0x4e388e(0x550);_0x2dacca[_0x4e388e(0xdbe)]===0x0?_0x327645+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x2dacca[_0x4e388e(0x140)]((_0x1a9b7c,_0x1dfc0d)=>{const _0x72afaa=_0x4e388e;let _0xd1727e='-',_0x155727='';if(_0x1a9b7c[_0x72afaa(0x128)]!==null){const _0x397459=_0x1a9b7c['gain']>0x0?_0x72afaa(0xa1b):_0x1a9b7c[_0x72afaa(0x128)]<0x0?_0x72afaa(0x860):_0x72afaa(0xa3a),_0x131ce9=_0x1a9b7c[_0x72afaa(0x128)]>0x0?'+':'';_0xd1727e=_0x72afaa(0x9f2)+_0x397459+'\x22>'+_0x131ce9+_0x1a9b7c['gain']+'</span>';if(_0x1a9b7c[_0x72afaa(0x128)]>0x0)_0x155727=_0x72afaa(0x61c);else _0x1a9b7c[_0x72afaa(0x128)]<0x0?_0x155727=_0x72afaa(0x159):_0x155727=_0x72afaa(0xcb);}let _0x386046='-';if(_0x1a9b7c[_0x72afaa(0x905)]!==null){const _0x18e28f=_0x1a9b7c[_0x72afaa(0x905)]>0x0?'text-green-600':_0x1a9b7c[_0x72afaa(0x905)]<0x0?'text-red-600':'text-gray-500',_0xa22539=_0x1a9b7c['tGain']>0x0?'+':'';_0x386046=_0x72afaa(0x9f2)+_0x18e28f+'\x22>'+_0xa22539+_0x1a9b7c['tGain']['toFixed'](0x2)+_0x72afaa(0x8f6);}_0x327645+=_0x72afaa(0x141)+(_0x1dfc0d+0x1)+_0x72afaa(0xb61)+_0x1a9b7c['name']+_0x72afaa(0x6fc)+(_0x1a9b7c[_0x72afaa(0x6e1)]??'-')+_0x72afaa(0xa85)+(_0x1a9b7c[_0x72afaa(0x191)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0xd1727e+_0x72afaa(0x5fd)+_0x155727+_0x72afaa(0x7a7)+(_0x1a9b7c['preTScore']?.[_0x72afaa(0x8bd)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x1a9b7c['postTScore']?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x386046+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x327645+=_0x4e388e(0x839),_0x319308[_0x4e388e(0xc7e)]=_0x327645;}function handleRenameQuiz(_0x2be738,_0x44a3f9){const _0x4f962e=_0x4813c4;actionTargetId=_0x2be738,document[_0x4f962e(0x3a5)]('rename-quiz-input')[_0x4f962e(0x909)]=_0x44a3f9,renameQuizModal[_0x4f962e(0xcde)][_0x4f962e(0xa30)]('hidden');}function setupComparisonModalTabs(){const _0x180d64=_0x4813c4,_0x9389b1=document['getElementById'](_0x180d64(0x3b4)),_0x53b248=document[_0x180d64(0x3a5)](_0x180d64(0x1e9)),_0x8d3cc9=document[_0x180d64(0x3a5)]('comparison-overall-content'),_0x38ac96=document[_0x180d64(0x3a5)](_0x180d64(0xb5d));_0x9389b1[_0x180d64(0x9f0)](_0x180d64(0x79c),()=>{const _0x4eef63=_0x180d64;_0x9389b1['classList'][_0x4eef63(0x483)](_0x4eef63(0xb9b)),_0x53b248[_0x4eef63(0xcde)][_0x4eef63(0xa30)]('active'),_0x8d3cc9[_0x4eef63(0xcde)]['remove']('hidden'),_0x38ac96[_0x4eef63(0xcde)]['add'](_0x4eef63(0xc15));}),_0x53b248['addEventListener'](_0x180d64(0x79c),()=>{const _0x3439fd=_0x180d64;_0x53b248[_0x3439fd(0xcde)][_0x3439fd(0x483)]('active'),_0x9389b1[_0x3439fd(0xcde)]['remove'](_0x3439fd(0xb9b)),_0x38ac96[_0x3439fd(0xcde)][_0x3439fd(0xa30)](_0x3439fd(0xc15)),_0x8d3cc9[_0x3439fd(0xcde)]['add'](_0x3439fd(0xc15));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x3c3969=_0x4813c4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2eb46b=doc(db,'artifacts/'+appId+_0x3c3969(0xd18),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2eb46b,_0x5e8119=>{const _0x49ae02=_0x3c3969;if(!_0x5e8119[_0x49ae02(0x3ea)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x49ae02(0xa16)?showView(_0x49ae02(0x623)):showView(_0x49ae02(0x6e2));return;}const _0x4cccb6=_0x5e8119[_0x49ae02(0x1ea)]();_0x4cccb6['shuffledQuiz']&&(currentQuizData=_0x4cccb6[_0x49ae02(0x953)]);!currentQuizData&&_0x4cccb6[_0x49ae02(0x737)]&&((async()=>{const _0x581f39=_0x49ae02;try{const _0x475e81=doc(db,_0x581f39(0x2b3)+appId+'/public/data/quizzes',_0x4cccb6['quizId']),_0x57896e=await getDoc(_0x475e81);_0x57896e[_0x581f39(0x3ea)]()&&(currentQuizData={'id':_0x57896e['id'],..._0x57896e[_0x581f39(0x1ea)]()});}catch(_0x202cb9){console['error'](_0x581f39(0xc03),_0x202cb9);}})());switch(_0x4cccb6[_0x49ae02(0xd0e)]){case _0x49ae02(0x1b6):if(currentMode===_0x49ae02(0xa16)){const _0x55619f=_0x4cccb6['players']?Object[_0x49ae02(0x342)](_0x4cccb6[_0x49ae02(0x2e8)]):[],_0x166033=_0x55619f[_0x49ae02(0xd05)](([_0x3006bc,_0x24955e])=>_0x24955e[_0x49ae02(0xd0e)]===_0x49ae02(0xb9b)),_0x4f96bd=document['getElementById']('player-count');if(_0x4f96bd)_0x4f96bd[_0x49ae02(0xd68)]=_0x166033['length'];const _0x247d1c=document[_0x49ae02(0x3a5)](_0x49ae02(0x5e6));_0x247d1c&&(_0x247d1c[_0x49ae02(0xc7e)]=_0x166033['map'](([_0x30c9e9,_0x3fab89])=>_0x49ae02(0x8fe)+_0x30c9e9+_0x49ae02(0xac1)+_0x30c9e9+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x3dedad=document[_0x49ae02(0x3a5)](_0x49ae02(0x38e));_0x3dedad&&(_0x3dedad[_0x49ae02(0x88c)]=_0x166033[_0x49ae02(0xdbe)]===0x0);}else showView('live-game'),liveGameView[_0x49ae02(0xc7e)]=_0x49ae02(0xd60)+currentStudentName+_0x49ae02(0x993);break;case _0x49ae02(0x8a8):const _0x44921d=_0x4cccb6[_0x49ae02(0xd3d)];if(currentQuizData&&currentQuizData['questions'][_0x44921d]){const _0xcd3ef9=currentQuizData['questions'][_0x44921d],_0x31656e=_0x4cccb6[_0x49ae02(0xeb)]||_0x49ae02(0xa8);switch(_0x31656e){case _0x49ae02(0xb80):currentMode==='admin'?showAdminSummaryView(_0x4cccb6,_0xcd3ef9):showPlayerSummaryView(_0x4cccb6,currentStudentName);break;case _0x49ae02(0x522):currentMode==='admin'&&showTop5LeaderboardView(_0x4cccb6);break;case'answering':default:if(currentMode===_0x49ae02(0xa16)){const _0x446518=writeBatch(db);let _0x7153c8=![];Object[_0x49ae02(0x342)](_0x4cccb6[_0x49ae02(0x2e8)])[_0x49ae02(0x140)](([_0x328e9e,_0x3e1a43])=>{const _0x4877b3=_0x49ae02;if(_0x3e1a43[_0x4877b3(0xd0e)]==='active'&&_0x3e1a43['submittedAt']&&!_0x3e1a43[_0x4877b3(0xd5d)]){_0x7153c8=!![];const _0x3fb75f=_0x3e1a43[_0x4877b3(0x5f0)][_0x4877b3(0xdbd)]()-_0x4cccb6[_0x4877b3(0x30c)][_0x4877b3(0xdbd)]();let _0x52f2f1=0x0;if(_0x3e1a43['lastAnswerCorrect']){const _0x119a47=0x3e8,_0x57d895=0x1f4,_0x452bb9=0x4e20;let _0x244b27=_0x3fb75f/_0x452bb9;if(_0x244b27>0x1)_0x244b27=0x1;const _0x1c6245=Math['round'](_0x244b27*_0x57d895);_0x52f2f1=_0x119a47-_0x1c6245;}const _0x5cc887=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);_0x446518[_0x4877b3(0x1d2)](_0x5cc887,{[_0x4877b3(0xb9a)+_0x328e9e+'.score']:increment(_0x52f2f1),[_0x4877b3(0xb9a)+_0x328e9e+_0x4877b3(0xb43)]:_0x52f2f1,[_0x4877b3(0xb9a)+_0x328e9e+'.isScored']:!![]});}});_0x7153c8&&_0x446518['commit']()[_0x49ae02(0x450)](_0x46bb5f=>console[_0x49ae02(0xabd)](_0x49ae02(0xd70),_0x46bb5f));lastRenderedAdminQuestionIndex!==_0x44921d&&(showAdminLiveQuestionView(_0xcd3ef9,_0x44921d,currentQuizData[_0x49ae02(0x1bc)][_0x49ae02(0xdbe)]),lastRenderedAdminQuestionIndex=_0x44921d);const _0x3e0475=_0x4cccb6[_0x49ae02(0x2e8)]||{},_0x5ae8b7=Object['values'](_0x3e0475)[_0x49ae02(0xd05)](_0x544f07=>_0x544f07[_0x49ae02(0xd0e)]===_0x49ae02(0xb9b)),_0x2d01ab=_0x5ae8b7['length'],_0x50b4e7=_0x5ae8b7[_0x49ae02(0xd05)](_0x5253c4=>_0x5253c4[_0x49ae02(0x913)]===!![])['length'],_0x1af023=document[_0x49ae02(0x3a5)](_0x49ae02(0xcd5));if(_0x1af023)_0x1af023['textContent']=_0x50b4e7+'/'+_0x2d01ab;const _0x3ced14=document[_0x49ae02(0x3a5)](_0x49ae02(0x192));if(_0x3ced14){let _0x1574b9=Object[_0x49ae02(0x342)](_0x3e0475)[_0x49ae02(0xd05)](([_0x5e6c37,_0x46fdf9])=>_0x46fdf9[_0x49ae02(0xd0e)]===_0x49ae02(0xb9b))[_0x49ae02(0x86c)](([_0x586d33,_0x42cc70])=>{const _0x26e089=_0x49ae02,_0x4683ae=_0x42cc70[_0x26e089(0x913)]===!![],_0x54b7e2=_0x4683ae?_0x26e089(0x490):_0x26e089(0x528),_0xea4bf9=_0x4683ae?_0x26e089(0x225):_0x26e089(0x6a6);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x54b7e2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xea4bf9+_0x26e089(0x423)+_0x586d33+_0x26e089(0x379)+_0x586d33+_0x26e089(0x3b2);})[_0x49ae02(0x15d)]('');_0x3ced14[_0x49ae02(0xc7e)]=_0x1574b9||_0x49ae02(0xb1a);}_0x2d01ab>0x0&&_0x50b4e7===_0x2d01ab&&revealAnswerForAdmin(_0x44921d,currentQuizData[_0x49ae02(0x1bc)][_0x49ae02(0xdbe)]);}else{const _0x250c51=_0x4cccb6['players'][currentStudentName];_0x250c51&&!_0x250c51[_0x49ae02(0x913)]&&showStudentLiveQuestionView(_0xcd3ef9,_0x44921d,currentQuizData[_0x49ae02(0x1bc)]['length']);}break;}}break;case _0x49ae02(0x471):showPodiumView(_0x4cccb6['players'],_0x49ae02(0x5b4));break;}});}async function openGlobalActivityModal(){const _0x404094=_0x4813c4;if(allQuizzesGlobal[_0x404094(0xdbe)]===0x0){const _0x655a0c=await getDocs(collection(db,_0x404094(0x2b3)+appId+_0x404094(0x60d)));allQuizzesGlobal=_0x655a0c[_0x404094(0xb32)][_0x404094(0x86c)](_0x39fe59=>({'id':_0x39fe59['id'],..._0x39fe59[_0x404094(0x1ea)]()}));}renderGlobalActivityList(''),document[_0x404094(0x3a5)](_0x404094(0x36a))[_0x404094(0xcde)][_0x404094(0xa30)]('hidden');}function renderGlobalActivityList(_0x5a87d2=''){const _0x148c16=_0x4813c4,_0x184315=document[_0x148c16(0x3a5)](_0x148c16(0xc37)),_0x4f490f=_0x5a87d2[_0x148c16(0x7c4)]()[_0x148c16(0x7f3)](),_0x2bb4d9=allQuizzesGlobal[_0x148c16(0x86c)](_0x293652=>({..._0x293652,'projectName':allProjects['find'](_0x12d492=>_0x12d492['id']===_0x293652['projectId'])?.['projectName']||_0x148c16(0x2fe)}))['filter'](_0x2e836b=>(_0x2e836b[_0x148c16(0x1e8)]||'')[_0x148c16(0x7c4)]()['includes'](_0x4f490f)||(_0x2e836b['projectName']||'')[_0x148c16(0x7c4)]()[_0x148c16(0xc4f)](_0x4f490f));document['getElementById']('global-quiz-count')[_0x148c16(0xd68)]='('+_0x2bb4d9['length']+'\x20ชุด)',_0x184315[_0x148c16(0xc7e)]=_0x2bb4d9[_0x148c16(0xdbe)]?_0x2bb4d9[_0x148c16(0x86c)](_0x2706c1=>_0x148c16(0xd16)+(_0x2706c1['topic']||_0x148c16(0x86d))+_0x148c16(0x4a6)+(_0x2706c1[_0x148c16(0x1bc)]?.[_0x148c16(0xdbe)]||0x0)+_0x148c16(0x64e)+_0x2706c1[_0x148c16(0x821)]+_0x148c16(0x8ba)+_0x2706c1['id']+_0x148c16(0x765)+_0x2706c1['id']+_0x148c16(0x486))['join'](''):_0x148c16(0x574);}async function handleKickPlayer(_0x71524f){const _0x26579a=_0x4813c4;if(!currentLiveGameId||!_0x71524f)return;const _0xc30b0f=doc(db,'artifacts/'+appId+_0x26579a(0xd18),currentLiveGameId),_0x25dc05={};_0x25dc05[_0x26579a(0xb9a)+_0x71524f+_0x26579a(0x73f)]='inactive';try{await updateDoc(_0xc30b0f,_0x25dc05);}catch(_0x15e795){console[_0x26579a(0xabd)](_0x26579a(0x552)+_0x71524f+':',_0x15e795),showMessage(_0x26579a(0x3c2));}}async function authenticateUser(){const _0x30a29d=_0x4813c4;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x55d759){console[_0x30a29d(0xabd)](_0x30a29d(0xb2),_0x55d759),showMessage(_0x30a29d(0xc98));}}function showView(_0x1b6a4d){const _0x3d504c=_0x4813c4;adminView[_0x3d504c(0xcde)][_0x3d504c(0x483)](_0x3d504c(0xc15)),studentView[_0x3d504c(0xcde)]['add']('hidden'),projectDashboardView[_0x3d504c(0xcde)][_0x3d504c(0x483)](_0x3d504c(0xc15)),projectDetailView['classList'][_0x3d504c(0x483)](_0x3d504c(0xc15)),quizResultsView[_0x3d504c(0xcde)][_0x3d504c(0x483)](_0x3d504c(0xc15)),liveGameView[_0x3d504c(0xcde)]['add'](_0x3d504c(0xc15)),document[_0x3d504c(0x3a5)]('blueprint-project-manager-view')[_0x3d504c(0xcde)][_0x3d504c(0x483)](_0x3d504c(0xc15)),studentInitialView[_0x3d504c(0xcde)]['add'](_0x3d504c(0xc15)),studentJoinGameView[_0x3d504c(0xcde)][_0x3d504c(0x483)]('hidden'),studentNameSelectionView[_0x3d504c(0xcde)][_0x3d504c(0x483)]('hidden'),studentQuizArea[_0x3d504c(0xcde)]['add'](_0x3d504c(0xc15)),studentResultArea[_0x3d504c(0xcde)][_0x3d504c(0x483)](_0x3d504c(0xc15)),studentReadingArea[_0x3d504c(0xcde)][_0x3d504c(0x483)](_0x3d504c(0xc15));const _0x2cce22=document[_0x3d504c(0x3a5)](_0x3d504c(0x502)),_0x7a752f=document[_0x3d504c(0x3a5)]('student-progress-view');if(_0x2cce22)_0x2cce22[_0x3d504c(0xcde)][_0x3d504c(0x483)](_0x3d504c(0xc15));if(_0x7a752f)_0x7a752f[_0x3d504c(0xcde)][_0x3d504c(0x483)](_0x3d504c(0xc15));switch(_0x1b6a4d){case _0x3d504c(0x50b):adminView['classList'][_0x3d504c(0xa30)](_0x3d504c(0xc15)),projectDashboardView[_0x3d504c(0xcde)][_0x3d504c(0xa30)]('hidden');break;case _0x3d504c(0x623):adminView[_0x3d504c(0xcde)][_0x3d504c(0xa30)]('hidden'),projectDetailView['classList'][_0x3d504c(0xa30)](_0x3d504c(0xc15));break;case _0x3d504c(0xa62):adminView['classList']['remove'](_0x3d504c(0xc15)),quizResultsView[_0x3d504c(0xcde)][_0x3d504c(0xa30)](_0x3d504c(0xc15));break;case _0x3d504c(0x6e2):studentView['classList'][_0x3d504c(0xa30)]('hidden'),studentInitialView['classList']['remove'](_0x3d504c(0xc15));break;case'live-game':liveGameView[_0x3d504c(0xcde)][_0x3d504c(0xa30)](_0x3d504c(0xc15));break;case'student-team-join':studentView[_0x3d504c(0xcde)][_0x3d504c(0xa30)](_0x3d504c(0xc15));if(_0x2cce22)_0x2cce22[_0x3d504c(0xcde)][_0x3d504c(0xa30)](_0x3d504c(0xc15));break;case _0x3d504c(0x81a):studentView[_0x3d504c(0xcde)][_0x3d504c(0xa30)](_0x3d504c(0xc15));if(_0x7a752f)_0x7a752f[_0x3d504c(0xcde)][_0x3d504c(0xa30)](_0x3d504c(0xc15));break;default:studentView[_0x3d504c(0xcde)]['remove'](_0x3d504c(0xc15)),studentInitialView[_0x3d504c(0xcde)][_0x3d504c(0xa30)]('hidden');break;}}function showJoinGameView(){const _0x28b673=_0x4813c4;studentInitialView['classList'][_0x28b673(0x483)](_0x28b673(0xc15)),studentJoinGameView['classList'][_0x28b673(0xa30)]('hidden');}async function handleSaveVisibilitySettings(){const _0x522654=_0x4813c4;if(!currentProjectId)return;const _0x541b49=doc(db,_0x522654(0x2b3)+appId+_0x522654(0xa9c),currentProjectId);try{await updateDoc(_0x541b49,{'settings.showInStudentDashboard':document[_0x522654(0x3a5)](_0x522654(0x9a6))['checked'],'settings.isPasscodeEnabled':document[_0x522654(0x3a5)](_0x522654(0x98f))[_0x522654(0x2e0)],'settings.passcode':document[_0x522654(0x3a5)](_0x522654(0x2c5))[_0x522654(0x909)][_0x522654(0x7f3)]()}),showMessage(_0x522654(0x2df));}catch(_0x1caccc){console[_0x522654(0xabd)]('Error\x20saving\x20visibility\x20settings:',_0x1caccc),showMessage(_0x522654(0xdc0));}}function setupEventListeners(){const _0xb9773b=_0x4813c4,_0x2204da=document[_0xb9773b(0x3a5)](_0xb9773b(0xbb5)),_0x18547b=document[_0xb9773b(0x3a5)](_0xb9773b(0xb70));_0x2204da&&_0x18547b&&(_0x18547b[_0xb9773b(0x9f0)]('click',()=>_0x2204da[_0xb9773b(0x79c)]()),_0x2204da[_0xb9773b(0x9f0)](_0xb9773b(0xdff),_0x4edf84=>{const _0x59a6b4=_0xb9773b;_0x4edf84[_0x59a6b4(0x940)][_0x59a6b4(0x6f2)][_0x59a6b4(0xdbe)]>0x0&&handleScanImageForText(_0x4edf84[_0x59a6b4(0x940)][_0x59a6b4(0x6f2)][0x0]);}));const _0x52b311=document['getElementById'](_0xb9773b(0x478));_0x52b311&&_0x52b311[_0xb9773b(0x9f0)]('click',()=>{const _0x551c3a=_0xb9773b,_0x213b46=document['getElementById'](_0x551c3a(0x915)),_0x526061=document[_0x551c3a(0x3a5)](_0x551c3a(0xa67));_0x213b46&&(_0x213b46[_0x551c3a(0x909)]=_0x213b46['max'],_0x526061&&(_0x526061[_0x551c3a(0xd68)]=_0x213b46[_0x551c3a(0x909)],_0x526061['classList'][_0x551c3a(0xa30)](_0x551c3a(0x5bb)),void _0x526061[_0x551c3a(0x4ec)],_0x526061[_0x551c3a(0xcde)]['add']('transform',_0x551c3a(0xa8b),_0x551c3a(0x5bb),_0x551c3a(0x860)),setTimeout(()=>_0x526061[_0x551c3a(0xcde)]['remove'](_0x551c3a(0x5bb),'text-red-600'),0xc8)));});document['getElementById'](_0xb9773b(0x521))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x1aa764=_0xb9773b;document[_0x1aa764(0x3a5)]('wager-modal')[_0x1aa764(0xcde)][_0x1aa764(0x483)]('hidden');}),document[_0xb9773b(0x3a5)](_0xb9773b(0xe0b))[_0xb9773b(0x9f0)]('click',()=>{const _0x1cf71f=_0xb9773b,_0x4f6e57=document[_0x1cf71f(0x3a5)](_0x1cf71f(0x23d)),_0x4ad661=document[_0x1cf71f(0x3a5)](_0x1cf71f(0x9ff)),_0x32f4f2=document[_0x1cf71f(0x3a5)](_0x1cf71f(0x915))[_0x1cf71f(0x909)],_0x4433a7=_0x4ad661[_0x1cf71f(0x315)]['answerValue'],_0x11df09=JSON[_0x1cf71f(0x452)](_0x4ad661['dataset'][_0x1cf71f(0x8a8)]),_0x323a50=JSON[_0x1cf71f(0x452)](_0x4ad661['dataset'][_0x1cf71f(0x8be)]),_0x504318=_0x4ad661[_0x1cf71f(0x315)]['playerName'];_0x4f6e57[_0x1cf71f(0xcde)][_0x1cf71f(0x483)](_0x1cf71f(0xc15)),handleSyncAnswerSubmit(_0x4433a7,_0x11df09,_0x323a50,_0x504318,![],_0x32f4f2);}),document['querySelectorAll'](_0xb9773b(0x54e))[_0xb9773b(0x140)](_0x10114b=>{const _0x557cb6=_0xb9773b;_0x10114b[_0x557cb6(0x9f0)](_0x557cb6(0xdff),_0x32df0d=>{const _0x3a2a1d=_0x557cb6,_0x5537ca=document[_0x3a2a1d(0x3a5)](_0x3a2a1d(0x295));_0x32df0d[_0x3a2a1d(0x940)][_0x3a2a1d(0x909)]===_0x3a2a1d(0xbba)?_0x5537ca['classList'][_0x3a2a1d(0xa30)](_0x3a2a1d(0xc15)):_0x5537ca[_0x3a2a1d(0xcde)][_0x3a2a1d(0x483)]('hidden');});}),document[_0xb9773b(0x3a5)]('sync-timer-enable-checkbox')[_0xb9773b(0x9f0)](_0xb9773b(0xdff),_0x27b2ea=>{const _0x375ddb=_0xb9773b;document['getElementById'](_0x375ddb(0x14b))[_0x375ddb(0xcde)][_0x375ddb(0x1a2)]('hidden',!_0x27b2ea[_0x375ddb(0x940)][_0x375ddb(0x2e0)]);});const _0x4e6f81=document[_0xb9773b(0x3a5)](_0xb9773b(0x637)),_0x55ff96=document[_0xb9773b(0x3a5)](_0xb9773b(0x649));_0x4e6f81&&_0x55ff96&&_0x4e6f81[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x17325e=_0xb9773b;_0x55ff96[_0x17325e(0xcde)]['add']('hidden'),_0x55ff96[_0x17325e(0x315)][_0x17325e(0x229)]='';});const _0xd7725=document['getElementById']('dim-overlay');_0xd7725&&(_0xd7725[_0xb9773b(0x9f0)](_0xb9773b(0x6d5),wakeUpScreen),_0xd7725['addEventListener'](_0xb9773b(0xc32),wakeUpScreen));document[_0xb9773b(0x3a5)](_0xb9773b(0x596))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),async()=>{const _0x55d074=_0xb9773b;if(!currentBlueprintProjectId)return;const _0xa1fb62=document[_0x55d074(0x3a5)](_0x55d074(0x11b))[_0x55d074(0x909)]['trim'](),_0x460d27=doc(db,'artifacts/'+appId+_0x55d074(0xdab),currentBlueprintProjectId);try{await updateDoc(_0x460d27,{'referenceFileUrl':_0xa1fb62}),showMessage(_0x55d074(0xb75));}catch(_0x1c7f05){console['error']('Error\x20saving\x20reference\x20URL:',_0x1c7f05),showMessage(_0x55d074(0xdc0));}}),document[_0xb9773b(0x3a5)](_0xb9773b(0x237))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleAddParallelShortcutTab),document[_0xb9773b(0x3a5)](_0xb9773b(0xb6c))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x3945b4=>{const _0x5c00e8=_0xb9773b;_0x3945b4[_0x5c00e8(0x940)][_0x5c00e8(0x5f8)](_0x5c00e8(0x466))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x5c00e8(0xd30))[_0x5c00e8(0xcde)]['remove']('hidden'));}),document[_0xb9773b(0x3a5)](_0xb9773b(0xb79))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x470f08=_0xb9773b;document['getElementById'](_0x470f08(0xd30))['classList'][_0x470f08(0x483)](_0x470f08(0xc15));}),document[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x4c1a09=>{const _0x456b21=_0xb9773b;!_0x4c1a09['target'][_0x456b21(0x5f8)](_0x456b21(0x1ad))&&document[_0x456b21(0x660)]('.move-parallel-shortcut-dropdown')[_0x456b21(0x140)](_0x4f7208=>_0x4f7208[_0x456b21(0xcde)][_0x456b21(0x483)](_0x456b21(0xc15)));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x2cb))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleAddFileShortcutTab),document['getElementById'](_0xb9773b(0xce4))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x333522=>{const _0x5bb5d9=_0xb9773b;_0x333522['target'][_0x5bb5d9(0x5f8)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document[_0x5bb5d9(0x3a5)]('additional-file-shortcuts-modal')[_0x5bb5d9(0xcde)][_0x5bb5d9(0xa30)]('hidden'));}),document['getElementById'](_0xb9773b(0x212))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x512410=_0xb9773b;document[_0x512410(0x3a5)](_0x512410(0x9e8))['classList'][_0x512410(0x483)](_0x512410(0xc15));}),document[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x40c34c=>{const _0x192bf5=_0xb9773b;!_0x40c34c[_0x192bf5(0x940)]['closest'](_0x192bf5(0x568))&&document[_0x192bf5(0x660)](_0x192bf5(0x898))[_0x192bf5(0x140)](_0x2045b8=>_0x2045b8[_0x192bf5(0xcde)][_0x192bf5(0x483)](_0x192bf5(0xc15)));}),document[_0xb9773b(0x3a5)]('add-shortcut-tab-btn')[_0xb9773b(0x9f0)]('click',handleAddShortcutTab),document[_0xb9773b(0x3a5)]('parallel-shortcut-container')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x419a80=>{const _0x6366b0=_0xb9773b,_0x3e0e8f=_0x419a80[_0x6366b0(0x940)][_0x6366b0(0x5f8)](_0x6366b0(0xc44)),_0x4892e6=_0x419a80[_0x6366b0(0x940)][_0x6366b0(0x5f8)]('.edit-parallel-shortcut-btn'),_0x4201c6=_0x419a80['target'][_0x6366b0(0x5f8)](_0x6366b0(0xb0));if(_0x4892e6)openParallelTestShortcutEditor(_0x4892e6['dataset']['id']);else{if(_0x4201c6){const _0x3e2d12=_0x4201c6[_0x6366b0(0x315)]['id'];showConfirmation(_0x6366b0(0x506),async()=>{const _0x183b39=_0x6366b0,_0xa4048e=parallelTestShortcuts[_0x183b39(0xd05)](_0x4ca6e9=>_0x4ca6e9['id']!==_0x3e2d12),_0x1083ce=doc(db,'globalSettings',_0x183b39(0x747));await setDoc(_0x1083ce,{'shortcuts':_0xa4048e},{'merge':!![]});});}else _0x3e0e8f&&handleParallelTestShortcutClick(_0x3e0e8f['dataset']['id']);}}),document['getElementById'](_0xb9773b(0x544))['addEventListener']('click',()=>openParallelTestShortcutEditor(null)),document[_0xb9773b(0x3a5)]('cancel-parallel-shortcut-edit-btn')['addEventListener']('click',()=>{const _0x319bc7=_0xb9773b;document[_0x319bc7(0x3a5)](_0x319bc7(0x9b4))[_0x319bc7(0xcde)][_0x319bc7(0x483)]('hidden');}),document['getElementById'](_0xb9773b(0xd98))[_0xb9773b(0x9f0)]('click',saveParallelTestShortcutChanges),document[_0xb9773b(0x3a5)]('parallel-test-input-area')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x5b685d=>{const _0x30dfb5=_0xb9773b;_0x5b685d['target'][_0x30dfb5(0x5f8)]('#open-additional-parallel-shortcuts-btn')&&document[_0x30dfb5(0x3a5)](_0x30dfb5(0xd30))[_0x30dfb5(0xcde)][_0x30dfb5(0xa30)](_0x30dfb5(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0xb79))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x6199bd=_0xb9773b;document[_0x6199bd(0x3a5)]('additional-parallel-shortcuts-modal')[_0x6199bd(0xcde)][_0x6199bd(0x483)](_0x6199bd(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x6b3))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x1e5193=>{const _0x38dca8=_0xb9773b,_0x10fec8=document['getElementById']('additional-parallel-shortcuts-modal'),_0x2140b1=_0x1e5193[_0x38dca8(0x940)][_0x38dca8(0x5f8)](_0x38dca8(0x781)),_0x54af68=_0x1e5193[_0x38dca8(0x940)][_0x38dca8(0x5f8)](_0x38dca8(0x41a)),_0x59b7b8=_0x1e5193[_0x38dca8(0x940)][_0x38dca8(0x5f8)](_0x38dca8(0x3eb));if(_0x2140b1)_0x10fec8[_0x38dca8(0xcde)][_0x38dca8(0x483)](_0x38dca8(0xc15)),handleParallelTestShortcutClick(_0x2140b1[_0x38dca8(0x315)]['id']);else{if(_0x54af68)_0x10fec8[_0x38dca8(0xcde)][_0x38dca8(0x483)](_0x38dca8(0xc15)),openParallelTestShortcutEditor(_0x54af68['dataset']['id']);else{if(_0x59b7b8){const _0x3af5a2=_0x59b7b8[_0x38dca8(0x315)]['id'];showConfirmation(_0x38dca8(0x506),async()=>{const _0x4ce863=_0x38dca8,_0xb370bb=parallelTestShortcuts[_0x4ce863(0xd05)](_0x3abbfc=>_0x3abbfc['id']!==_0x3af5a2),_0x48f5d7=doc(db,'globalSettings',_0x4ce863(0x747));await setDoc(_0x48f5d7,{'shortcuts':_0xb370bb},{'merge':!![]});});}}}}),document[_0xb9773b(0x3a5)]('file-shortcut-container')['addEventListener']('click',_0x596bf8=>{const _0x34bf4f=_0xb9773b,_0x2ef4f2=_0x596bf8[_0x34bf4f(0x940)][_0x34bf4f(0x5f8)](_0x34bf4f(0xde1)),_0x26ceee=_0x596bf8[_0x34bf4f(0x940)][_0x34bf4f(0x5f8)](_0x34bf4f(0x948)),_0x4ed6c9=_0x596bf8[_0x34bf4f(0x940)][_0x34bf4f(0x5f8)](_0x34bf4f(0x877));if(_0x26ceee)openFileShortcutEditor(_0x26ceee[_0x34bf4f(0x315)]['id']);else{if(_0x4ed6c9){const _0xc34d42=_0x4ed6c9[_0x34bf4f(0x315)]['id'];showConfirmation(_0x34bf4f(0x506),async()=>{const _0x42ca25=_0x34bf4f,_0x334d26=fileShortcuts[_0x42ca25(0xd05)](_0x31a2ea=>_0x31a2ea['id']!==_0xc34d42),_0x34f51f=doc(db,_0x42ca25(0xb67),'fileShortcutsConfig');await setDoc(_0x34f51f,{'shortcuts':_0x334d26},{'merge':!![]});});}else _0x2ef4f2&&handleFileShortcutClick(_0x2ef4f2[_0x34bf4f(0x315)]['id']);}}),document[_0xb9773b(0x3a5)](_0xb9773b(0xf9))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>openFileShortcutEditor(null)),document[_0xb9773b(0x3a5)](_0xb9773b(0xb16))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x50be46=_0xb9773b;document[_0x50be46(0x3a5)](_0x50be46(0x725))[_0x50be46(0xcde)]['add']('hidden');}),document[_0xb9773b(0x3a5)](_0xb9773b(0x1f6))[_0xb9773b(0x9f0)]('click',saveFileShortcutChanges),document['getElementById']('file-input-area')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x2a3a72=>{const _0x210fb8=_0xb9773b;_0x2a3a72[_0x210fb8(0x940)][_0x210fb8(0x5f8)](_0x210fb8(0xae8))&&document[_0x210fb8(0x3a5)](_0x210fb8(0x9e8))[_0x210fb8(0xcde)]['remove'](_0x210fb8(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x212))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x5e2c46=_0xb9773b;document['getElementById']('additional-file-shortcuts-modal')[_0x5e2c46(0xcde)]['add'](_0x5e2c46(0xc15));}),document[_0xb9773b(0x3a5)]('additional-file-shortcuts-list')['addEventListener'](_0xb9773b(0x79c),_0x2e6859=>{const _0x1c960a=_0xb9773b,_0x13681b=document[_0x1c960a(0x3a5)](_0x1c960a(0x9e8)),_0x45ad07=_0x2e6859[_0x1c960a(0x940)][_0x1c960a(0x5f8)](_0x1c960a(0x407)),_0x1ca209=_0x2e6859[_0x1c960a(0x940)]['closest']('.edit-hidden-file-shortcut-btn'),_0x3db61d=_0x2e6859[_0x1c960a(0x940)][_0x1c960a(0x5f8)](_0x1c960a(0x3b3));if(_0x45ad07)_0x13681b[_0x1c960a(0xcde)][_0x1c960a(0x483)]('hidden'),handleFileShortcutClick(_0x45ad07[_0x1c960a(0x315)]['id']);else{if(_0x1ca209)_0x13681b[_0x1c960a(0xcde)][_0x1c960a(0x483)](_0x1c960a(0xc15)),openFileShortcutEditor(_0x1ca209[_0x1c960a(0x315)]['id']);else{if(_0x3db61d){const _0x1b7534=_0x3db61d[_0x1c960a(0x315)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x38814c=_0x1c960a,_0x38e738=fileShortcuts['filter'](_0x112313=>_0x112313['id']!==_0x1b7534),_0x1678ac=doc(db,'globalSettings',_0x38814c(0x9d3));await setDoc(_0x1678ac,{'shortcuts':_0x38e738},{'merge':!![]});});}}}}),document[_0xb9773b(0x3a5)](_0xb9773b(0x38a))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x50280e=>{const _0x35eeb3=_0xb9773b;_0x50280e['target'][_0x35eeb3(0x5f8)](_0x35eeb3(0x49d))&&(activeShortcutTabId=_0x35eeb3(0xa19),renderAdditionalShortcutsModal(),document['getElementById'](_0x35eeb3(0x1fc))[_0x35eeb3(0xcde)]['remove'](_0x35eeb3(0xc15)));}),document[_0xb9773b(0x3a5)](_0xb9773b(0xc3b))[_0xb9773b(0x9f0)]('click',()=>{const _0x367d9d=_0xb9773b;document['getElementById']('additional-shortcuts-modal')[_0x367d9d(0xcde)]['add'](_0x367d9d(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0xf0))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x36071d=>{const _0x4f842f=_0xb9773b,_0x4b7762=_0x36071d[_0x4f842f(0x940)]['closest']('.use-hidden-shortcut-btn'),_0x5438d0=_0x36071d[_0x4f842f(0x940)][_0x4f842f(0x5f8)]('.edit-hidden-shortcut-btn'),_0x1f2a30=_0x36071d['target'][_0x4f842f(0x5f8)](_0x4f842f(0xb52)),_0x30fe20=document[_0x4f842f(0x3a5)](_0x4f842f(0x1fc));if(_0x4b7762)_0x30fe20[_0x4f842f(0xcde)][_0x4f842f(0x483)](_0x4f842f(0xc15)),handleShortcutClick(_0x4b7762[_0x4f842f(0x315)]['id']);else{if(_0x5438d0)_0x30fe20[_0x4f842f(0xcde)][_0x4f842f(0x483)](_0x4f842f(0xc15)),openShortcutEditor(_0x5438d0[_0x4f842f(0x315)]['id']);else{if(_0x1f2a30){const _0x2fd3ab=_0x1f2a30[_0x4f842f(0x315)]['id'],_0x268138=blueprintShortcuts[_0x4f842f(0x5d9)](_0x42a205=>_0x42a205['id']===_0x2fd3ab)?.[_0x4f842f(0x4a4)];showConfirmation(_0x4f842f(0x665)+_0x268138+'\x22?',async()=>{const _0x36a101=_0x4f842f,_0x3449b0=blueprintShortcuts[_0x36a101(0xd05)](_0x3665f6=>_0x3665f6['id']!==_0x2fd3ab);try{const _0x2605de=doc(db,_0x36a101(0xb67),_0x36a101(0xbfe));await setDoc(_0x2605de,{'blueprintShortcuts':_0x3449b0},{'merge':!![]});}catch(_0x165588){console[_0x36a101(0xabd)](_0x36a101(0x246),_0x165588);}});}}}}),document['getElementById'](_0xb9773b(0xcf0))[_0xb9773b(0x9f0)]('click',_0x6ec74a=>{const _0x1ff5c2=_0xb9773b,_0x4ef083=_0x6ec74a['target'][_0x1ff5c2(0x5f8)]('.shortcut-btn'),_0x156d83=_0x6ec74a[_0x1ff5c2(0x940)]['closest']('.edit-shortcut-btn'),_0x21d6d5=_0x6ec74a[_0x1ff5c2(0x940)][_0x1ff5c2(0x5f8)](_0x1ff5c2(0x941));if(_0x156d83)openShortcutEditor(_0x156d83[_0x1ff5c2(0x315)]['id']);else{if(_0x21d6d5){const _0x8537bb=_0x21d6d5[_0x1ff5c2(0x315)]['id'],_0x513dd8=blueprintShortcuts[_0x1ff5c2(0x5d9)](_0x2f8515=>_0x2f8515['id']===_0x8537bb)?.['name'];showConfirmation(_0x1ff5c2(0x665)+_0x513dd8+'\x22?',async()=>{const _0x4b70bb=_0x1ff5c2,_0x4c7d62=blueprintShortcuts[_0x4b70bb(0xd05)](_0x3de441=>_0x3de441['id']!==_0x8537bb);try{const _0x38b752=doc(db,_0x4b70bb(0xb67),_0x4b70bb(0xbfe));await setDoc(_0x38b752,{'blueprintShortcuts':_0x4c7d62},{'merge':!![]});}catch(_0x5934ed){console[_0x4b70bb(0xabd)](_0x4b70bb(0x246),_0x5934ed);}});}else _0x4ef083&&handleShortcutClick(_0x4ef083[_0x1ff5c2(0x315)]['id']);}}),document['getElementById'](_0xb9773b(0x449))['addEventListener'](_0xb9773b(0x79c),()=>openShortcutEditor(null)),document[_0xb9773b(0x3a5)]('cancel-shortcut-edit-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x38811f=_0xb9773b;document['getElementById']('shortcut-editor-modal')['classList'][_0x38811f(0x483)](_0x38811f(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x657))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),saveShortcutChanges),document[_0xb9773b(0x3a5)](_0xb9773b(0xad5))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),async()=>{const _0x7d58cb=_0xb9773b,_0x25c447=document[_0x7d58cb(0x3a5)]('blueprint-upload-input'),_0x2770ec=document[_0x7d58cb(0x3a5)]('reference-pdf-upload');_0x25c447['files'][_0x7d58cb(0xdbe)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x25c447[_0x7d58cb(0x6f2)][0x0],_0x2770ec['files'][0x0]||null):showMessage('กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด');}),document[_0xb9773b(0x3a5)](_0xb9773b(0x2ad))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),async _0x13e696=>{const _0x44cf52=_0xb9773b,_0x2af122=document[_0x44cf52(0x3a5)](_0x44cf52(0x2ad)),_0x362d8c=_0x13e696[_0x44cf52(0x940)][_0x44cf52(0x5f8)]('.bp-view-analysis-btn'),_0x4c4f2c=_0x13e696[_0x44cf52(0x940)][_0x44cf52(0x5f8)](_0x44cf52(0x296)),_0x369ba3=_0x13e696[_0x44cf52(0x940)][_0x44cf52(0x5f8)](_0x44cf52(0x6df)),_0xde7eaa=_0x13e696[_0x44cf52(0x940)][_0x44cf52(0x5f8)](_0x44cf52(0xc24)),_0x19e52c=_0x13e696[_0x44cf52(0x940)]['closest'](_0x44cf52(0xb55)),_0x324d88=_0x13e696[_0x44cf52(0x940)]['closest']('.bp-game-btn');if(_0x362d8c){cameFromBlueprint=!![];const _0x47d444=_0x362d8c[_0x44cf52(0x315)][_0x44cf52(0x737)];showQuizDetailView(_0x47d444),_0x2af122[_0x44cf52(0xcde)]['add'](_0x44cf52(0xc15));}else{if(_0x4c4f2c){const _0x34f376=_0x4c4f2c[_0x44cf52(0x315)][_0x44cf52(0x2f8)],_0x20a6ae=_0x4c4f2c['dataset']['quizId'],_0x11014e=allQuizzesGlobal['find'](_0x468304=>_0x468304['id']===_0x20a6ae),_0x4c8b2b=_0x11014e?_0x11014e[_0x44cf52(0x1e8)]:_0x44cf52(0x5d6);showConfirmation(_0x44cf52(0x52e)+_0x4c8b2b+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x2a83f0=_0x44cf52;try{const _0x2660ef=doc(db,'artifacts/'+appId+_0x2a83f0(0xdab),currentBlueprintProjectId);await updateDoc(_0x2660ef,{['topics.'+_0x34f376+_0x2a83f0(0xad1)]:arrayRemove(_0x20a6ae)}),showMessage(_0x2a83f0(0xa1c)),openTopicQuizBank(_0x34f376),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3d067a){console[_0x2a83f0(0xabd)]('Error\x20unlinking\x20quiz:',_0x3d067a),showMessage(_0x2a83f0(0x5a3));}});}else{if(_0x369ba3){cameFromBlueprint=!![];const _0x2d6818=_0x369ba3[_0x44cf52(0x315)][_0x44cf52(0x737)],_0x529224=allQuizzesGlobal[_0x44cf52(0x5d9)](_0x246bee=>_0x246bee['id']===_0x2d6818);_0x529224&&(startPresentation(_0x529224),_0x2af122[_0x44cf52(0xcde)][_0x44cf52(0x483)](_0x44cf52(0xc15)));}else{if(_0xde7eaa){cameFromBlueprint=!![];const _0x11559f=_0xde7eaa[_0x44cf52(0x315)][_0x44cf52(0x737)],_0x1557f7=allQuizzesGlobal[_0x44cf52(0x5d9)](_0x5ab3ac=>_0x5ab3ac['id']===_0x11559f);_0x1557f7&&(currentQuizData=_0x1557f7,startAdminTest(),_0x2af122[_0x44cf52(0xcde)]['add'](_0x44cf52(0xc15)));}else{if(_0x19e52c)cameFromBlueprint=!![],handleStartLiveRace(_0x19e52c[_0x44cf52(0x315)][_0x44cf52(0x737)]),_0x2af122[_0x44cf52(0xcde)][_0x44cf52(0x483)]('hidden');else{if(_0x324d88){cameFromBlueprint=!![];const _0x9923ad=_0x324d88[_0x44cf52(0x315)]['quizId'],_0x5362d3=_0x324d88[_0x44cf52(0x315)][_0x44cf52(0x12c)],_0x232185=allQuizzesGlobal[_0x44cf52(0x5d9)](_0x29755d=>_0x29755d['id']===_0x9923ad);_0x232185&&(showGameStartConfirmationModal(_0x9923ad,_0x5362d3,_0x232185[_0x44cf52(0x1e8)]),_0x2af122[_0x44cf52(0xcde)][_0x44cf52(0x483)](_0x44cf52(0xc15)));}}}}}}}),document[_0xb9773b(0x3a5)](_0xb9773b(0xd2b))[_0xb9773b(0x9f0)]('click',()=>{const _0x18f436=_0xb9773b;document['getElementById'](_0x18f436(0x9cf))[_0x18f436(0xcde)][_0x18f436(0xa30)](_0x18f436(0xc15)),document[_0x18f436(0x3a5)](_0x18f436(0x2ff))[_0x18f436(0x909)]='',document['getElementById']('manual-bp-grade-level')['value']='',document[_0x18f436(0x3a5)](_0x18f436(0x15e))[_0x18f436(0x909)]='';}),document[_0xb9773b(0x3a5)](_0xb9773b(0x4b8))[_0xb9773b(0x9f0)]('click',()=>{const _0x121f89=_0xb9773b;document[_0x121f89(0x3a5)](_0x121f89(0x9cf))[_0x121f89(0xcde)][_0x121f89(0x483)]('hidden');}),document[_0xb9773b(0x3a5)](_0xb9773b(0x6ae))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleManualBlueprintSave),document[_0xb9773b(0x3a5)](_0xb9773b(0x7e1))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>document[_0xb9773b(0x3a5)](_0xb9773b(0xc2d))['classList'][_0xb9773b(0x483)](_0xb9773b(0xc15))),document['getElementById']('save-bp-settings-btn')[_0xb9773b(0x9f0)]('click',handleSaveBlueprintPageSettings),document[_0xb9773b(0x3a5)](_0xb9773b(0x28f))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),openBlueprintQuizSettings),document[_0xb9773b(0x3a5)](_0xb9773b(0xac7))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),saveBlueprintProject),document[_0xb9773b(0x3a5)]('open-blueprint-projects-btn')[_0xb9773b(0x9f0)]('click',showBlueprintProjects),document[_0xb9773b(0x3a5)](_0xb9773b(0x723))[_0xb9773b(0x9f0)]('click',()=>{const _0x47537c=_0xb9773b;document[_0x47537c(0x3a5)](_0x47537c(0x590))[_0x47537c(0xcde)][_0x47537c(0x483)](_0x47537c(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x1c6))['addEventListener'](_0xb9773b(0x79c),_0x4cfb4c=>{const _0x2acb4c=_0xb9773b,_0x1f9107=_0x4cfb4c[_0x2acb4c(0x940)][_0x2acb4c(0x5f8)]('.open-bp-project-btn'),_0x2f68fe=_0x4cfb4c[_0x2acb4c(0x940)]['closest']('.delete-bp-project-btn');if(_0x1f9107)displayBlueprintProjectManager(_0x1f9107[_0x2acb4c(0x315)]['id']);else _0x2f68fe&&handleDeepDeleteBlueprintProject(_0x2f68fe[_0x2acb4c(0x315)]['id']);}),document[_0xb9773b(0x3a5)](_0xb9773b(0x886))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0xb4c95c=_0xb9773b;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0xb4c95c(0x500))[_0xb4c95c(0xcde)][_0xb4c95c(0x483)](_0xb4c95c(0xc15)),showView(_0xb4c95c(0x50b));}),document[_0xb9773b(0x3a5)]('bp-add-topic-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),addTopicToProject),document[_0xb9773b(0x3a5)]('bp-topic-list-container')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),async _0x20777d=>{const _0x1da86c=_0xb9773b,_0x1eeaf4=_0x20777d[_0x1da86c(0x940)][_0x1da86c(0x5f8)](_0x1da86c(0xc92));if(!_0x1eeaf4)return;const _0x16c719=_0x1eeaf4['dataset'][_0x1da86c(0x2f8)],_0x5115f3=_0x20777d[_0x1da86c(0x940)][_0x1da86c(0x5f8)](_0x1da86c(0x16a)),_0x47108f=_0x20777d[_0x1da86c(0x940)][_0x1da86c(0x5f8)](_0x1da86c(0xb8b)),_0x5e560d=_0x20777d[_0x1da86c(0x940)][_0x1da86c(0x5f8)](_0x1da86c(0xd04)),_0x562864=_0x20777d['target']['closest'](_0x1da86c(0x1c3)),_0x44fd44=_0x20777d[_0x1da86c(0x940)][_0x1da86c(0x5f8)](_0x1da86c(0xa40)),_0x597993=_0x20777d[_0x1da86c(0x940)][_0x1da86c(0x5f8)](_0x1da86c(0x103)),_0x51bd5d=_0x20777d['target'][_0x1da86c(0x5f8)](_0x1da86c(0x907)),_0x33027f=_0x20777d[_0x1da86c(0x940)][_0x1da86c(0x5f8)](_0x1da86c(0xca8)),_0x1ee722=_0x27ffed=>{const _0x351bac=_0x1da86c,_0x142ff9=_0x27ffed[_0x351bac(0x169)](_0x351bac(0x2e7))['textContent'][_0x351bac(0x7f3)](),_0x145b35=_0x27ffed['closest'](_0x351bac(0xca1))[_0x351bac(0x32c)],_0x431e06=_0x145b35?_0x145b35[_0x351bac(0xd68)][_0x351bac(0x7f3)]():'';return _0x431e06+':\x20'+_0x142ff9;};if(_0x562864)openTopicQuizBank(_0x16c719);else{if(_0x5115f3){const _0x3bffc8=_0x1ee722(_0x1eeaf4);selectProjectAndGenerateBlueprintQuiz(_0x3bffc8,null,_0x16c719,!![]);}else{if(_0x47108f){const _0x14f8d5=_0x1ee722(_0x1eeaf4);try{const _0x37f632=doc(db,_0x1da86c(0x2b3)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x1da86c(0x6c1),_0x16c719),_0x2829e6=await getDoc(_0x37f632);if(_0x2829e6['exists']()){const _0x508605=_0x2829e6[_0x1da86c(0x1ea)]()[_0x1da86c(0x485)],_0x4a7e57=document[_0x1da86c(0xb46)](_0x1da86c(0xae0)),_0x379565=_0x44c152=>{const _0x5ea93a=_0x1da86c;if(!_0x44c152)return'';return _0x4a7e57['innerHTML']=_0x44c152,_0x4a7e57[_0x5ea93a(0xd68)]||_0x4a7e57[_0x5ea93a(0xbac)]||'';},_0x43adc7=(_0x379565(_0x508605[_0x1da86c(0xada)])+'\x20'+_0x379565(_0x508605[_0x1da86c(0x69e)])+'\x20'+_0x379565(_0x508605[_0x1da86c(0x494)]))['trim']();selectProjectAndGenerateBlueprintQuiz(_0x14f8d5,_0x43adc7,_0x16c719,![]);}else showMessage(_0x1da86c(0xbe));}catch(_0xe55a27){console[_0x1da86c(0xabd)]('Error\x20preparing\x20content\x20quiz:',_0xe55a27),showMessage(_0x1da86c(0x274));}}else{if(_0x5e560d){const _0x367318=_0x1ee722(_0x1eeaf4);selectProjectAndGenerateBlueprintQuiz(_0x367318,null,_0x16c719,![]);}else{if(_0x44fd44){const _0x2dbd2a=doc(db,'artifacts/'+appId+_0x1da86c(0xdab),currentBlueprintProjectId),_0x4bf028=await getDoc(_0x2dbd2a);if(_0x4bf028[_0x1da86c(0x3ea)]()){const _0x463b67=_0x4bf028[_0x1da86c(0x1ea)](),_0xe0edeb=_0x463b67[_0x1da86c(0x356)][_0x16c719];if(_0xe0edeb&&_0xe0edeb['status']===_0x1da86c(0xa6))try{const _0x1de291=doc(db,_0x1da86c(0x2b3)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x1da86c(0x6c1),_0x16c719),_0x20e551=await getDoc(_0x1de291);if(_0x20e551[_0x1da86c(0x3ea)]()){const _0xa1c133=_0x20e551[_0x1da86c(0x1ea)]()[_0x1da86c(0x485)];document[_0x1da86c(0x3a5)]('lesson-view-title')[_0x1da86c(0xd68)]=_0x1da86c(0xdbf)+_0x1ee722(_0x1eeaf4),document['getElementById'](_0x1da86c(0x164))[_0x1da86c(0xc7e)]=_0xa1c133['point'],document[_0x1da86c(0x3a5)](_0x1da86c(0xa32))[_0x1da86c(0xc7e)]=_0xa1c133[_0x1da86c(0x69e)],document['getElementById'](_0x1da86c(0x6fd))['innerHTML']=_0xa1c133[_0x1da86c(0x494)];const _0x4be6df=document[_0x1da86c(0x3a5)](_0x1da86c(0xd97));_0xa1c133['applicationData']?(currentApplicationData=_0xa1c133[_0x1da86c(0xac2)],_0x4be6df['innerHTML']=currentApplicationData['map']((_0x1cdec6,_0x247975)=>_0x1da86c(0x53b)+(_0x247975+0x1)+'.\x20'+marked[_0x1da86c(0x638)](_0x1cdec6['question'])+_0x1da86c(0x4d4)+_0x247975+_0x1da86c(0x7c0)+_0x1cdec6[_0x1da86c(0x7f6)][_0x1da86c(0x86c)]((_0x3f2072,_0x27031e)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x247975+',\x20'+_0x27031e+')\x22>'+String['fromCharCode'](0x61+_0x27031e)+'.\x20'+marked[_0x1da86c(0x638)](_0x3f2072)+_0x1da86c(0x5f2))[_0x1da86c(0x15d)]('')+_0x1da86c(0xa2d))['join']('')):(currentApplicationData=[],_0x4be6df['innerHTML']=_0xa1c133[_0x1da86c(0xd23)]||_0xa1c133['application']),document[_0x1da86c(0x3a5)]('lesson-loader')[_0x1da86c(0xcde)][_0x1da86c(0x483)]('hidden'),document[_0x1da86c(0x3a5)]('lesson-sections-container')[_0x1da86c(0xcde)][_0x1da86c(0xa30)]('hidden'),document['getElementById'](_0x1da86c(0x40a))[_0x1da86c(0xcde)]['remove'](_0x1da86c(0xc15)),window['MathJax']&&MathJax[_0x1da86c(0xacf)]([document[_0x1da86c(0x3a5)](_0x1da86c(0xd5a))]);}else showMessage(_0x1da86c(0xe5));}catch(_0x15bce7){console[_0x1da86c(0xabd)]('Error\x20fetching\x20lesson\x20content:',_0x15bce7),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x1da86c(0x9c));}}else{if(_0x597993){const _0x4bd2cd=_0x1ee722(_0x1eeaf4),_0x485c99=doc(db,_0x1da86c(0x2b3)+appId+_0x1da86c(0xdab),currentBlueprintProjectId),_0x432bdf=await getDoc(_0x485c99);if(_0x432bdf[_0x1da86c(0x3ea)]()){const _0x348a6a=_0x432bdf[_0x1da86c(0x1ea)]();generateAndSaveLessonForBlueprint(_0x16c719,_0x4bd2cd,_0x348a6a[_0x1da86c(0xb77)]);}}else{if(_0x51bd5d)editTopicInProject(_0x16c719);else _0x33027f&&deleteTopicFromProject(_0x16c719);}}}}}}}),document[_0xb9773b(0x3a5)](_0xb9773b(0x69b))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleFixLessonLatex),document[_0xb9773b(0x3a5)](_0xb9773b(0xad0))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleExportLessonToPDF),document['getElementById'](_0xb9773b(0x8f3))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x5ca8b3=_0xb9773b;document[_0x5ca8b3(0x3a5)]('lesson-view-modal')[_0x5ca8b3(0xcde)][_0x5ca8b3(0x483)](_0x5ca8b3(0xc15));});const _0x300843=document['getElementById'](_0xb9773b(0x2dd)),_0xc59d13=document[_0xb9773b(0x3a5)](_0xb9773b(0x1b9));_0x300843['addEventListener'](_0xb9773b(0xdff),()=>{const _0x52bde1=_0xb9773b;_0xc59d13[_0x52bde1(0xcde)][_0x52bde1(0x1a2)](_0x52bde1(0xc15),!_0x300843['checked']);});const _0x41d8f6=document[_0xb9773b(0x3a5)](_0xb9773b(0xc7f)),_0x4a02cc=document[_0xb9773b(0x3a5)](_0xb9773b(0xc31));_0x41d8f6[_0xb9773b(0x9f0)](_0xb9773b(0xdff),()=>{const _0xe4d8ae=_0xb9773b;_0x4a02cc['classList']['toggle'](_0xe4d8ae(0xc15),!_0x41d8f6['checked']);});const _0x4ed969=document[_0xb9773b(0x3a5)](_0xb9773b(0xadd)),_0x1c89f5=document[_0xb9773b(0x3a5)](_0xb9773b(0x35e));_0x4ed969[_0xb9773b(0x9f0)]('change',()=>{const _0x33ca47=_0xb9773b;_0x1c89f5[_0x33ca47(0xcde)]['toggle'](_0x33ca47(0xc15),!_0x4ed969[_0x33ca47(0x2e0)]);});const _0x1b938f=document['getElementById'](_0xb9773b(0x649)),_0x3abad9=async _0x16171b=>{const _0x1ad84d=_0xb9773b,_0x32c500=document[_0x1ad84d(0x3a5)](_0x1ad84d(0x649)),_0x41fb4e=_0x32c500['dataset'][_0x1ad84d(0x229)],_0x5e9f70=document[_0x1ad84d(0x3a5)]('selected-answer-index-hidden');_0x32c500['classList'][_0x1ad84d(0x483)](_0x1ad84d(0xc15));if(_0x41fb4e==='timed'){const _0x7ae8f9=_0x5e9f70[_0x1ad84d(0x909)],_0x4e92b6={'answer':_0x7ae8f9,'wasConfident':_0x16171b};proceedToNextQuestion(_0x4e92b6);}else{if(_0x41fb4e===_0x1ad84d(0x66c)){const _0x416599=_0x5e9f70['dataset']['answerValue'],_0x31f998=JSON[_0x1ad84d(0x452)](_0x5e9f70[_0x1ad84d(0x315)][_0x1ad84d(0x8a8)]),_0xe1fbe7=JSON[_0x1ad84d(0x452)](_0x5e9f70[_0x1ad84d(0x315)]['gameData']),_0x314ab5=_0x5e9f70[_0x1ad84d(0x315)][_0x1ad84d(0x8d6)];handleSyncAnswerSubmit(_0x416599,_0x31f998,_0xe1fbe7,_0x314ab5,_0x16171b);}}_0x32c500['dataset'][_0x1ad84d(0x229)]='';};document[_0xb9773b(0x3a5)]('confirm-confident')['addEventListener'](_0xb9773b(0x79c),()=>_0x3abad9(!![])),document[_0xb9773b(0x3a5)](_0xb9773b(0x352))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>_0x3abad9(![])),liveGameView[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x3498aa=>{const _0x12e8c7=_0xb9773b,_0x4583f0=_0x3498aa[_0x12e8c7(0x940)][_0x12e8c7(0x5f8)](_0x12e8c7(0x712));if(_0x4583f0){const _0x305a74=_0x4583f0[_0x12e8c7(0x315)]['playerName'];_0x305a74&&handleKickPlayerSync(_0x305a74);}});const _0xca358a=document[_0xb9773b(0x3a5)]('confirm-game-start-btn'),_0x4be2af=document[_0xb9773b(0x3a5)]('cancel-game-start-btn');_0x4be2af['addEventListener'](_0xb9773b(0x79c),()=>{const _0x2d51e2=_0xb9773b;document[_0x2d51e2(0x3a5)](_0x2d51e2(0x54a))[_0x2d51e2(0xcde)]['add'](_0x2d51e2(0xc15));}),_0xca358a[_0xb9773b(0x9f0)]('click',()=>{const _0x49ac51=_0xb9773b,_0xcc1fa3=document[_0x49ac51(0x3a5)](_0x49ac51(0xd76))[_0x49ac51(0x909)],_0x6da5=document[_0x49ac51(0x3a5)]('game-start-mode')[_0x49ac51(0x909)],_0x21d60b=document[_0x49ac51(0x3a5)]('save-game-results-checkbox')[_0x49ac51(0x2e0)];document['getElementById'](_0x49ac51(0x54a))['classList'][_0x49ac51(0x483)](_0x49ac51(0xc15));switch(_0x6da5){case _0x49ac51(0x5b4):handleStartLiveRace(_0xcc1fa3,_0x21d60b);break;case _0x49ac51(0x727):handleStartTeamQuiz(_0xcc1fa3,_0x21d60b);break;case _0x49ac51(0xac9):handleStartGroupMode(_0xcc1fa3,_0x21d60b);break;case _0x49ac51(0x66c):const _0x412d2f=document[_0x49ac51(0x169)](_0x49ac51(0xc66))[_0x49ac51(0x909)]||_0x49ac51(0xba3);handleStartSyncMode(_0xcc1fa3,_0x21d60b,_0x412d2f);break;}}),document[_0xb9773b(0x3a5)](_0xb9773b(0x44d))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleJoinGroupActivity),liveGameView[_0xb9773b(0x9f0)]('click',_0x4540da=>{const _0x3ad5fb=_0xb9773b,_0xdd849f=_0x4540da['target']['closest']('.summary-bar-item');document[_0x3ad5fb(0x660)]('.live-summary-tooltip.visible')[_0x3ad5fb(0x140)](_0x4d7536=>{const _0x37f442=_0x3ad5fb;(!_0xdd849f||_0x4d7536['id']!==_0xdd849f[_0x37f442(0x315)][_0x37f442(0x259)])&&_0x4d7536[_0x37f442(0xcde)][_0x37f442(0xa30)]('visible');});if(!_0xdd849f)return;const _0x1dda06=_0xdd849f['dataset'][_0x3ad5fb(0x259)],_0x2ef674=document[_0x3ad5fb(0x3a5)](_0x1dda06);_0x2ef674&&_0x2ef674['classList'][_0x3ad5fb(0x1a2)]('visible');}),liveGameView[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x37b2d2=>{const _0x316664=_0xb9773b;if(_0x37b2d2['target'][_0x316664(0xcde)][_0x316664(0xca5)](_0x316664(0x1ae))){const _0xf7c3d3=_0x37b2d2['target']['dataset'][_0x316664(0x8d6)];_0xf7c3d3&&handleKickPlayer(_0xf7c3d3);}}),document[_0xb9773b(0x3a5)]('project-title')[_0xb9773b(0x9f0)](_0xb9773b(0x4af),()=>document[_0xb9773b(0x3a5)](_0xb9773b(0x8de))[_0xb9773b(0xcde)][_0xb9773b(0xa30)](_0xb9773b(0xc15))),document[_0xb9773b(0x3a5)](_0xb9773b(0x8de))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleSaveProjectName),document['getElementById'](_0xb9773b(0x9e))[_0xb9773b(0x9f0)]('keydown',_0x339b1f=>{const _0x46664e=_0xb9773b;_0x339b1f[_0x46664e(0x922)]===_0x46664e(0xbbd)&&(_0x339b1f[_0x46664e(0xb49)](),_0x339b1f['target'][_0x46664e(0xae1)](),handleSaveProjectName());}),document['getElementById'](_0xb9773b(0x3ca))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x4ba7c8=_0xb9773b;document[_0x4ba7c8(0x3a5)](_0x4ba7c8(0xa98))['classList'][_0x4ba7c8(0xa30)](_0x4ba7c8(0xc15));}),document[_0xb9773b(0x3a5)]('cancel-bulk-quiz-settings-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x4ed009=_0xb9773b;document['getElementById']('bulk-quiz-settings-modal')[_0x4ed009(0xcde)]['add']('hidden');}),document[_0xb9773b(0x3a5)](_0xb9773b(0x80d))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleBulkUpdateQuizSettings),document[_0xb9773b(0x3a5)](_0xb9773b(0xa7c))['addEventListener']('click',handleModeSwitch),document[_0xb9773b(0x3a5)](_0xb9773b(0x4bd))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleUpdateOldQuizzes),document[_0xb9773b(0x3a5)](_0xb9773b(0xd4e))[_0xb9773b(0x9f0)]('click',handleResetProjectOrder),document[_0xb9773b(0x3a5)](_0xb9773b(0x265))['addEventListener'](_0xb9773b(0x79c),handleSaveVisibilitySettings),document[_0xb9773b(0x3a5)]('add-custom-math-topic-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleAddCustomMathTopic),document['getElementById']('select-all-topics-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleSelectAllTopics),document[_0xb9773b(0x3a5)](_0xb9773b(0x39d))[_0xb9773b(0x9f0)]('click',handleDeselectAllTopics),document['getElementById']('back-to-dashboard-btn')['addEventListener'](_0xb9773b(0x79c),()=>{const _0x568df6=_0xb9773b;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x568df6(0x50b));}}),document['getElementById'](_0xb9773b(0xaf0))[_0xb9773b(0x9f0)]('click',()=>{const _0x3a1ef7=_0xb9773b;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3a1ef7(0x623));}}),document[_0xb9773b(0x3a5)](_0xb9773b(0x2fd))[_0xb9773b(0x9f0)]('click',()=>{const _0x43737e=_0xb9773b;showView(_0x43737e(0x50b));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x269))['addEventListener']('click',()=>{const _0x45bfd5=_0xb9773b;messageModal[_0x45bfd5(0xcde)][_0x45bfd5(0x483)](_0x45bfd5(0xc15)),typeof modalConfirmAction===_0x45bfd5(0x4ab)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0xb9773b(0x3a5)]('create-project-btn')['addEventListener'](_0xb9773b(0x79c),()=>createProjectModal['classList'][_0xb9773b(0xa30)](_0xb9773b(0xc15))),document[_0xb9773b(0x3a5)](_0xb9773b(0x9c0))[_0xb9773b(0x9f0)]('click',()=>createProjectModal[_0xb9773b(0xcde)][_0xb9773b(0x483)](_0xb9773b(0xc15))),document[_0xb9773b(0x3a5)]('cancel-admin-login-btn')['addEventListener'](_0xb9773b(0x79c),()=>adminPasswordModal[_0xb9773b(0xcde)][_0xb9773b(0x483)](_0xb9773b(0xc15))),document['getElementById'](_0xb9773b(0x474))['addEventListener'](_0xb9773b(0x79c),handleAdminLogin),document[_0xb9773b(0x3a5)](_0xb9773b(0x38d))[_0xb9773b(0x9f0)](_0xb9773b(0x1b5),_0x5a9022=>{const _0x21c63a=_0xb9773b;if(_0x5a9022[_0x21c63a(0x922)]===_0x21c63a(0xbbd))handleAdminLogin();}),document[_0xb9773b(0x3a5)](_0xb9773b(0xab5))[_0xb9773b(0x9f0)]('click',()=>{const _0x107483=_0xb9773b;confirmationModal['classList']['add'](_0x107483(0xc15)),typeof cancelAction===_0x107483(0x4ab)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0xb9773b(0x3a5)](_0xb9773b(0x2e3))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x21e06b=_0xb9773b;confirmAction&&confirmAction(),confirmationModal[_0x21e06b(0xcde)][_0x21e06b(0x483)](_0x21e06b(0xc15)),confirmAction=null,cancelAction=null;}),document[_0xb9773b(0x3a5)](_0xb9773b(0x1e2))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>renameQuizModal[_0xb9773b(0xcde)]['add']('hidden')),document['getElementById'](_0xb9773b(0xabb))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),confirmRenameQuiz),document[_0xb9773b(0x3a5)](_0xb9773b(0x337))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>moveQuizModal[_0xb9773b(0xcde)][_0xb9773b(0x483)](_0xb9773b(0xc15))),document[_0xb9773b(0x3a5)](_0xb9773b(0x215))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),confirmMoveQuiz),document[_0xb9773b(0x3a5)]('cancel-quiz-settings-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>quizSettingsModal[_0xb9773b(0xcde)][_0xb9773b(0x483)](_0xb9773b(0xc15))),document['getElementById'](_0xb9773b(0xe4))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),confirmQuizSettings),document[_0xb9773b(0x3a5)](_0xb9773b(0x97))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>quizStatusModal[_0xb9773b(0xcde)][_0xb9773b(0x483)]('hidden')),document[_0xb9773b(0x3a5)](_0xb9773b(0x6cd))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),confirmQuizStatus);const _0x42dbaf=document[_0xb9773b(0x3a5)](_0xb9773b(0x659));document['getElementById'](_0xb9773b(0x22e))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x4de1a=_0xb9773b;_0x42dbaf[_0x4de1a(0xcde)][_0x4de1a(0x483)]('hidden');}),document['getElementById'](_0xb9773b(0x1c1))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),async()=>{const _0x188b26=_0xb9773b,_0x1f506d=allQuizzes[_0x188b26(0x5d9)](_0x548e27=>_0x548e27['id']===actionTargetId);_0x1f506d?(currentQuizData=_0x1f506d,exportQuizAsWorksheetPDF()):showMessage(_0x188b26(0x776)),_0x42dbaf[_0x188b26(0xcde)]['add'](_0x188b26(0xc15));}),document['getElementById']('export-tutor-pdf-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),async()=>{const _0x11628f=_0xb9773b,_0x22eace=allQuizzes[_0x11628f(0x5d9)](_0x2b659f=>_0x2b659f['id']===actionTargetId);_0x22eace?(currentQuizData=_0x22eace,exportQuizAsTutorPDF()):showMessage(_0x11628f(0x776)),_0x42dbaf[_0x11628f(0xcde)][_0x11628f(0x483)](_0x11628f(0xc15));});const _0xd1c416=document[_0xb9773b(0x3a5)](_0xb9773b(0x46a));_0xd1c416[_0xb9773b(0xc7e)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0xd1c416[_0xb9773b(0x9f0)](_0xb9773b(0x79c),openGlobalActivityModal),document[_0xb9773b(0x3a5)]('cancel-global-activity-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x1a3506=_0xb9773b;document[_0x1a3506(0x3a5)](_0x1a3506(0x36a))['classList'][_0x1a3506(0x483)](_0x1a3506(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0xceb))['addEventListener']('input',_0x3d46a0=>{const _0x56511a=_0xb9773b;renderGlobalActivityList(_0x3d46a0[_0x56511a(0x940)][_0x56511a(0x909)]);}),document[_0xb9773b(0x3a5)](_0xb9773b(0xc37))[_0xb9773b(0x9f0)]('click',_0xfb7ed1=>{const _0x1c9284=_0xb9773b,_0x9ccd18=_0xfb7ed1[_0x1c9284(0x940)]['closest'](_0x1c9284(0x3f4));if(!_0x9ccd18)return;const _0x1be827=_0x9ccd18[_0x1c9284(0x315)]['id'],_0x5a10a7=_0x9ccd18[_0x1c9284(0x315)][_0x1c9284(0x12c)],_0x5d9c7a=allQuizzesGlobal[_0x1c9284(0x5d9)](_0x2f976d=>_0x2f976d['id']===_0x1be827);_0x5d9c7a&&(document[_0x1c9284(0x3a5)]('global-activity-modal')[_0x1c9284(0xcde)]['add'](_0x1c9284(0xc15)),_0x5a10a7===_0x1c9284(0x5b4)?handleStartLiveRace(_0x1be827):showGameStartConfirmationModal(_0x1be827,_0x5a10a7,_0x5d9c7a[_0x1c9284(0x1e8)]));}),document['getElementById'](_0xb9773b(0xbe7))[_0xb9773b(0x9f0)](_0xb9773b(0x8ad),renderProjects),document[_0xb9773b(0x3a5)](_0xb9773b(0x3ee))['addEventListener'](_0xb9773b(0xdff),async()=>{const _0x2d7e61=_0xb9773b,_0x3e3862=document[_0x2d7e61(0x3a5)](_0x2d7e61(0x3ee))['value'],_0x2848e2=doc(db,_0x2d7e61(0xb67),_0x2d7e61(0xbfe));try{await setDoc(_0x2848e2,{'projectSort':_0x3e3862},{'merge':!![]});}catch(_0x5bdd74){console[_0x2d7e61(0xabd)](_0x2d7e61(0x663),_0x5bdd74),showMessage(_0x2d7e61(0x8d0));}}),document[_0xb9773b(0x3a5)](_0xb9773b(0x208))[_0xb9773b(0x9f0)]('input',renderQuizzes),document[_0xb9773b(0x3a5)](_0xb9773b(0x406))['addEventListener'](_0xb9773b(0x79c),()=>{const _0x3fe199=_0xb9773b;globalDashboardSettings[_0x3fe199(0x461)]=_0x3fe199(0x4b3),saveUserPreference(_0x3fe199(0x461),_0x3fe199(0x4b3)),renderProjects();}),document[_0xb9773b(0x3a5)]('list-view-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x523eaa=_0xb9773b;globalDashboardSettings[_0x523eaa(0x461)]=_0x523eaa(0xa66),saveUserPreference(_0x523eaa(0x461),_0x523eaa(0xa66)),renderProjects();}),manageTab[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>switchProjectTab(_0xb9773b(0x4f6))),resultsTab[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>switchProjectTab(_0xb9773b(0x53f))),leaderboardTab['addEventListener'](_0xb9773b(0x79c),()=>switchProjectTab(_0xb9773b(0x522))),document[_0xb9773b(0x3a5)](_0xb9773b(0x738))[_0xb9773b(0x9f0)]('click',()=>switchQuizDetailTab(_0xb9773b(0x9da))),document['getElementById'](_0xb9773b(0x910))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>switchQuizDetailTab(_0xb9773b(0x32f))),document[_0xb9773b(0x3a5)](_0xb9773b(0x7df))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>switchQuizDetailTab(_0xb9773b(0x710))),document[_0xb9773b(0x3a5)]('behavior-log-tab-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>switchQuizDetailTab(_0xb9773b(0x620))),document['getElementById'](_0xb9773b(0xdc))['addEventListener'](_0xb9773b(0x79c),handleAnalyzeClass),generateWorksheetBtn[_0xb9773b(0x9f0)](_0xb9773b(0x79c),generateWorksheet);const _0x5739d3=document[_0xb9773b(0x3a5)]('link-tab'),_0x579236=document[_0xb9773b(0x3a5)]('link-input-area'),_0x3d366b=document[_0xb9773b(0x3a5)](_0xb9773b(0x3c9)),_0x2c52e4=document['getElementById'](_0xb9773b(0x38a)),_0x3fb7a6=document[_0xb9773b(0x3a5)]('parallel-test-tab'),_0x1c1897=document[_0xb9773b(0x3a5)](_0xb9773b(0xb6c));topicTab[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x3d25cf=_0xb9773b;topicTab[_0x3d25cf(0xcde)][_0x3d25cf(0x483)](_0x3d25cf(0xb9b)),textTab[_0x3d25cf(0xcde)][_0x3d25cf(0xa30)](_0x3d25cf(0xb9b)),fileTab[_0x3d25cf(0xcde)][_0x3d25cf(0xa30)]('active'),worksheetTab['classList'][_0x3d25cf(0xa30)](_0x3d25cf(0xb9b));if(_0x5739d3)_0x5739d3['classList'][_0x3d25cf(0xa30)]('active');if(_0x3d366b)_0x3d366b[_0x3d25cf(0xcde)][_0x3d25cf(0xa30)](_0x3d25cf(0xb9b));if(_0x3fb7a6)_0x3fb7a6['classList'][_0x3d25cf(0xa30)]('active');topicInputArea[_0x3d25cf(0xcde)][_0x3d25cf(0xa30)](_0x3d25cf(0xc15)),textInputArea['classList'][_0x3d25cf(0x483)](_0x3d25cf(0xc15)),fileInputArea['classList'][_0x3d25cf(0x483)](_0x3d25cf(0xc15)),worksheetInputArea[_0x3d25cf(0xcde)][_0x3d25cf(0x483)](_0x3d25cf(0xc15));if(_0x579236)_0x579236[_0x3d25cf(0xcde)][_0x3d25cf(0x483)](_0x3d25cf(0xc15));if(_0x2c52e4)_0x2c52e4[_0x3d25cf(0xcde)][_0x3d25cf(0x483)](_0x3d25cf(0xc15));if(_0x1c1897)_0x1c1897[_0x3d25cf(0xcde)]['add'](_0x3d25cf(0xc15));}),textTab[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x5ee0f0=_0xb9773b;textTab[_0x5ee0f0(0xcde)][_0x5ee0f0(0x483)](_0x5ee0f0(0xb9b)),topicTab['classList'][_0x5ee0f0(0xa30)](_0x5ee0f0(0xb9b)),fileTab[_0x5ee0f0(0xcde)][_0x5ee0f0(0xa30)](_0x5ee0f0(0xb9b)),worksheetTab[_0x5ee0f0(0xcde)][_0x5ee0f0(0xa30)](_0x5ee0f0(0xb9b));if(_0x5739d3)_0x5739d3[_0x5ee0f0(0xcde)][_0x5ee0f0(0xa30)](_0x5ee0f0(0xb9b));if(_0x3d366b)_0x3d366b['classList'][_0x5ee0f0(0xa30)](_0x5ee0f0(0xb9b));if(_0x3fb7a6)_0x3fb7a6[_0x5ee0f0(0xcde)]['remove'](_0x5ee0f0(0xb9b));textInputArea[_0x5ee0f0(0xcde)][_0x5ee0f0(0xa30)]('hidden'),topicInputArea[_0x5ee0f0(0xcde)][_0x5ee0f0(0x483)](_0x5ee0f0(0xc15)),fileInputArea[_0x5ee0f0(0xcde)]['add']('hidden'),worksheetInputArea[_0x5ee0f0(0xcde)][_0x5ee0f0(0x483)]('hidden');if(_0x579236)_0x579236[_0x5ee0f0(0xcde)]['add'](_0x5ee0f0(0xc15));if(_0x2c52e4)_0x2c52e4[_0x5ee0f0(0xcde)][_0x5ee0f0(0x483)](_0x5ee0f0(0xc15));if(_0x1c1897)_0x1c1897[_0x5ee0f0(0xcde)][_0x5ee0f0(0x483)](_0x5ee0f0(0xc15));}),fileTab['addEventListener'](_0xb9773b(0x79c),()=>{const _0x1559c7=_0xb9773b;fileTab['classList'][_0x1559c7(0x483)](_0x1559c7(0xb9b)),topicTab[_0x1559c7(0xcde)][_0x1559c7(0xa30)](_0x1559c7(0xb9b)),textTab['classList'][_0x1559c7(0xa30)](_0x1559c7(0xb9b)),worksheetTab[_0x1559c7(0xcde)][_0x1559c7(0xa30)]('active');if(_0x5739d3)_0x5739d3[_0x1559c7(0xcde)]['remove'](_0x1559c7(0xb9b));if(_0x3d366b)_0x3d366b[_0x1559c7(0xcde)][_0x1559c7(0xa30)](_0x1559c7(0xb9b));if(_0x3fb7a6)_0x3fb7a6[_0x1559c7(0xcde)][_0x1559c7(0xa30)](_0x1559c7(0xb9b));fileInputArea[_0x1559c7(0xcde)][_0x1559c7(0xa30)](_0x1559c7(0xc15)),topicInputArea[_0x1559c7(0xcde)]['add'](_0x1559c7(0xc15)),textInputArea['classList'][_0x1559c7(0x483)](_0x1559c7(0xc15)),worksheetInputArea[_0x1559c7(0xcde)][_0x1559c7(0x483)](_0x1559c7(0xc15));if(_0x579236)_0x579236[_0x1559c7(0xcde)][_0x1559c7(0x483)](_0x1559c7(0xc15));if(_0x2c52e4)_0x2c52e4['classList'][_0x1559c7(0x483)](_0x1559c7(0xc15));if(_0x1c1897)_0x1c1897[_0x1559c7(0xcde)][_0x1559c7(0x483)](_0x1559c7(0xc15));}),worksheetTab[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x1a0800=_0xb9773b;worksheetTab['classList'][_0x1a0800(0x483)](_0x1a0800(0xb9b)),topicTab['classList'][_0x1a0800(0xa30)]('active'),textTab[_0x1a0800(0xcde)][_0x1a0800(0xa30)](_0x1a0800(0xb9b)),fileTab[_0x1a0800(0xcde)][_0x1a0800(0xa30)](_0x1a0800(0xb9b));if(_0x5739d3)_0x5739d3[_0x1a0800(0xcde)][_0x1a0800(0xa30)]('active');if(_0x3d366b)_0x3d366b[_0x1a0800(0xcde)][_0x1a0800(0xa30)](_0x1a0800(0xb9b));if(_0x3fb7a6)_0x3fb7a6[_0x1a0800(0xcde)][_0x1a0800(0xa30)]('active');worksheetInputArea['classList'][_0x1a0800(0xa30)](_0x1a0800(0xc15)),topicInputArea[_0x1a0800(0xcde)][_0x1a0800(0x483)]('hidden'),textInputArea[_0x1a0800(0xcde)]['add'](_0x1a0800(0xc15)),fileInputArea[_0x1a0800(0xcde)][_0x1a0800(0x483)]('hidden');if(_0x579236)_0x579236[_0x1a0800(0xcde)][_0x1a0800(0x483)]('hidden');if(_0x2c52e4)_0x2c52e4['classList']['add']('hidden');if(_0x1c1897)_0x1c1897['classList'][_0x1a0800(0x483)]('hidden');});const _0x265943=document[_0xb9773b(0x3a5)](_0xb9773b(0x2a7)),_0x39cf48=document['getElementById'](_0xb9773b(0x32a));_0x265943&&_0x265943[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x34a0f3=_0xb9773b;topicTab[_0x34a0f3(0xcde)][_0x34a0f3(0xa30)](_0x34a0f3(0xb9b)),textTab[_0x34a0f3(0xcde)][_0x34a0f3(0xa30)]('active'),fileTab[_0x34a0f3(0xcde)][_0x34a0f3(0xa30)](_0x34a0f3(0xb9b)),worksheetTab[_0x34a0f3(0xcde)][_0x34a0f3(0xa30)](_0x34a0f3(0xb9b));if(_0x5739d3)_0x5739d3[_0x34a0f3(0xcde)][_0x34a0f3(0xa30)](_0x34a0f3(0xb9b));if(_0x3d366b)_0x3d366b[_0x34a0f3(0xcde)][_0x34a0f3(0xa30)]('active');if(_0x3fb7a6)_0x3fb7a6[_0x34a0f3(0xcde)][_0x34a0f3(0xa30)](_0x34a0f3(0xb9b));_0x265943['classList']['add'](_0x34a0f3(0xb9b)),topicInputArea[_0x34a0f3(0xcde)][_0x34a0f3(0x483)](_0x34a0f3(0xc15)),textInputArea[_0x34a0f3(0xcde)][_0x34a0f3(0x483)](_0x34a0f3(0xc15)),fileInputArea[_0x34a0f3(0xcde)]['add'](_0x34a0f3(0xc15)),worksheetInputArea[_0x34a0f3(0xcde)]['add'](_0x34a0f3(0xc15));if(_0x579236)_0x579236[_0x34a0f3(0xcde)]['add'](_0x34a0f3(0xc15));if(_0x2c52e4)_0x2c52e4['classList'][_0x34a0f3(0x483)](_0x34a0f3(0xc15));if(_0x1c1897)_0x1c1897[_0x34a0f3(0xcde)]['add'](_0x34a0f3(0xc15));_0x39cf48[_0x34a0f3(0xcde)][_0x34a0f3(0xa30)]('hidden'),displayQuestionBank();});_0x5739d3&&(_0x5739d3[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x292a8c=_0xb9773b;_0x5739d3['classList'][_0x292a8c(0x483)](_0x292a8c(0xb9b)),topicTab[_0x292a8c(0xcde)]['remove'](_0x292a8c(0xb9b)),textTab[_0x292a8c(0xcde)][_0x292a8c(0xa30)](_0x292a8c(0xb9b)),fileTab[_0x292a8c(0xcde)][_0x292a8c(0xa30)](_0x292a8c(0xb9b)),worksheetTab[_0x292a8c(0xcde)][_0x292a8c(0xa30)](_0x292a8c(0xb9b));if(_0x3d366b)_0x3d366b[_0x292a8c(0xcde)]['remove'](_0x292a8c(0xb9b));if(_0x3fb7a6)_0x3fb7a6[_0x292a8c(0xcde)][_0x292a8c(0xa30)](_0x292a8c(0xb9b));_0x579236[_0x292a8c(0xcde)][_0x292a8c(0xa30)](_0x292a8c(0xc15)),topicInputArea[_0x292a8c(0xcde)][_0x292a8c(0x483)]('hidden'),textInputArea[_0x292a8c(0xcde)][_0x292a8c(0x483)]('hidden'),fileInputArea['classList'][_0x292a8c(0x483)]('hidden'),worksheetInputArea[_0x292a8c(0xcde)][_0x292a8c(0x483)](_0x292a8c(0xc15));if(_0x2c52e4)_0x2c52e4[_0x292a8c(0xcde)][_0x292a8c(0x483)]('hidden');if(_0x1c1897)_0x1c1897['classList'][_0x292a8c(0x483)](_0x292a8c(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x895))['addEventListener'](_0xb9773b(0x79c),handleGenerateFromLink));_0x3d366b&&_0x3d366b[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0xe14628=_0xb9773b;_0x3d366b[_0xe14628(0xcde)][_0xe14628(0x483)](_0xe14628(0xb9b)),topicTab[_0xe14628(0xcde)][_0xe14628(0xa30)](_0xe14628(0xb9b)),textTab['classList'][_0xe14628(0xa30)](_0xe14628(0xb9b)),fileTab[_0xe14628(0xcde)][_0xe14628(0xa30)](_0xe14628(0xb9b)),worksheetTab['classList'][_0xe14628(0xa30)]('active');if(_0x5739d3)_0x5739d3[_0xe14628(0xcde)][_0xe14628(0xa30)](_0xe14628(0xb9b));if(_0x265943)_0x265943[_0xe14628(0xcde)][_0xe14628(0xa30)](_0xe14628(0xb9b));if(_0x3fb7a6)_0x3fb7a6[_0xe14628(0xcde)][_0xe14628(0xa30)](_0xe14628(0xb9b));_0x2c52e4['classList'][_0xe14628(0xa30)](_0xe14628(0xc15)),topicInputArea[_0xe14628(0xcde)]['add']('hidden'),textInputArea[_0xe14628(0xcde)]['add'](_0xe14628(0xc15)),fileInputArea[_0xe14628(0xcde)][_0xe14628(0x483)]('hidden'),worksheetInputArea['classList'][_0xe14628(0x483)](_0xe14628(0xc15));if(_0x579236)_0x579236['classList'][_0xe14628(0x483)](_0xe14628(0xc15));if(_0x39cf48)_0x39cf48[_0xe14628(0xcde)][_0xe14628(0x483)](_0xe14628(0xc15));if(_0x1c1897)_0x1c1897[_0xe14628(0xcde)][_0xe14628(0x483)](_0xe14628(0xc15));});_0x3fb7a6&&_0x3fb7a6[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x45eeed=_0xb9773b;_0x3fb7a6[_0x45eeed(0xcde)][_0x45eeed(0x483)](_0x45eeed(0xb9b)),topicTab[_0x45eeed(0xcde)][_0x45eeed(0xa30)]('active'),textTab[_0x45eeed(0xcde)]['remove']('active'),fileTab[_0x45eeed(0xcde)][_0x45eeed(0xa30)]('active'),worksheetTab[_0x45eeed(0xcde)][_0x45eeed(0xa30)](_0x45eeed(0xb9b));if(_0x5739d3)_0x5739d3['classList'][_0x45eeed(0xa30)]('active');if(_0x3d366b)_0x3d366b['classList'][_0x45eeed(0xa30)](_0x45eeed(0xb9b));if(_0x265943)_0x265943[_0x45eeed(0xcde)][_0x45eeed(0xa30)](_0x45eeed(0xb9b));_0x1c1897[_0x45eeed(0xcde)][_0x45eeed(0xa30)]('hidden'),topicInputArea[_0x45eeed(0xcde)]['add'](_0x45eeed(0xc15)),textInputArea[_0x45eeed(0xcde)][_0x45eeed(0x483)]('hidden'),fileInputArea[_0x45eeed(0xcde)][_0x45eeed(0x483)](_0x45eeed(0xc15)),worksheetInputArea[_0x45eeed(0xcde)][_0x45eeed(0x483)](_0x45eeed(0xc15));if(_0x579236)_0x579236[_0x45eeed(0xcde)][_0x45eeed(0x483)]('hidden');if(_0x2c52e4)_0x2c52e4['classList'][_0x45eeed(0x483)](_0x45eeed(0xc15));if(_0x39cf48)_0x39cf48[_0x45eeed(0xcde)][_0x45eeed(0x483)](_0x45eeed(0xc15));});const _0x487c4c=document[_0xb9773b(0x3a5)](_0xb9773b(0x454)),_0x4156dc=document[_0xb9773b(0x3a5)]('generate-from-blueprint-btn');if(_0x487c4c){const _0x349d5c=document[_0xb9773b(0x3a5)]('blueprint-upload-input'),_0x1279ab=document['getElementById']('generate-from-blueprint-btn'),_0x2e1474=document[_0xb9773b(0x3a5)](_0xb9773b(0x7bc)),_0x5167de=document[_0xb9773b(0x3a5)](_0xb9773b(0xa06)),_0x3d7e69=document['getElementById'](_0xb9773b(0xe20)),_0xb1c176=document[_0xb9773b(0x3a5)](_0xb9773b(0xc0f));_0x349d5c&&_0x349d5c[_0xb9773b(0x9f0)](_0xb9773b(0xdff),async _0x5411be=>{const _0x49a5e1=_0xb9773b;_0x2e1474[_0x49a5e1(0xcde)]['add'](_0x49a5e1(0xc15)),_0x3d7e69['classList'][_0x49a5e1(0x483)]('hidden'),_0x5167de[_0x49a5e1(0x2e0)]=![],_0x1279ab[_0x49a5e1(0x88c)]=!![];const _0x41a870=_0x5411be[_0x49a5e1(0x940)]['files'][0x0];if(_0x41a870){_0x1279ab['disabled']=![];try{const _0x56a23c=await extractTextFromPdf(_0x41a870);await analyzeBlueprintForTopics(_0x56a23c);}catch(_0x120f44){showMessage(_0x49a5e1(0x289)),_0x2e1474[_0x49a5e1(0xcde)][_0x49a5e1(0x483)](_0x49a5e1(0xc15));}}}),_0x5167de&&_0x5167de['addEventListener'](_0xb9773b(0xdff),_0xd8ea90=>{const _0x8e2c64=_0xb9773b,_0x495ea2=_0xd8ea90[_0x8e2c64(0x940)][_0x8e2c64(0x2e0)];_0x3d7e69[_0x8e2c64(0xcde)][_0x8e2c64(0x1a2)](_0x8e2c64(0xc15),!_0x495ea2),_0x1279ab[_0x8e2c64(0x88c)]=_0x495ea2;}),_0xb1c176&&(_0xb1c176&&_0xb1c176[_0xb9773b(0x9f0)]('click',_0x2e9763=>{const _0x161d21=_0xb9773b,_0x499403=_0x2e9763['target'][_0x161d21(0x5f8)](_0x161d21(0x294)),_0x46ea6c=_0x2e9763[_0x161d21(0x940)][_0x161d21(0x5f8)](_0x161d21(0x5ab));if(_0x499403){const _0x3083c9=unescape(_0x499403[_0x161d21(0x315)]['topic']);generateQuizForSingleTopic(_0x3083c9);}else{if(_0x46ea6c){const _0x1c4d92=unescape(_0x46ea6c[_0x161d21(0x315)][_0x161d21(0x1e8)]);handleGenerateTeachingContent(_0x1c4d92);}}}));}_0x4156dc&&_0x4156dc[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleGenerateFromBlueprint);const _0x2db076=document[_0xb9773b(0x3a5)](_0xb9773b(0x8d8)),_0x12f156=document[_0xb9773b(0x3a5)](_0xb9773b(0xaf8));_0x2db076&&_0x2db076[_0xb9773b(0x9f0)](_0xb9773b(0xdff),_0x497512=>{const _0x587633=_0xb9773b;_0x12f156[_0x587633(0x88c)]=_0x497512[_0x587633(0x940)][_0x587633(0x6f2)][_0x587633(0xdbe)]===0x0;});_0x12f156&&_0x12f156[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{handleGenerateParallelTest();});loadQuizBtn[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleLoadQuiz),startQuizBtn[_0xb9773b(0x9f0)]('click',async()=>{const _0x1e5099=_0xb9773b,_0x559766=document[_0x1e5099(0x3a5)]('student-name-select');currentStudentName=_0x559766['value'];if(!currentStudentName){showMessage(_0x1e5099(0x5df));return;}try{const _0x5473eb=currentQuizData['id'],_0x4a7cbf=doc(db,_0x1e5099(0x2b3)+appId+_0x1e5099(0x5e4)+_0x5473eb+_0x1e5099(0xbfd),currentStudentName),_0x8bb2f4=await getDoc(_0x4a7cbf);!_0x8bb2f4[_0x1e5099(0x3ea)]()?await setDoc(_0x4a7cbf,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x4a7cbf,{'startedAt':new Date()['toISOString']()});}catch(_0x333983){console[_0x1e5099(0xabd)](_0x1e5099(0x81e),_0x333983),showMessage(_0x1e5099(0xa5c));return;}studentNameSelectionView[_0x1e5099(0xcde)][_0x1e5099(0x483)](_0x1e5099(0xc15)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xb9773b(0x3a5)](_0xb9773b(0x240))[_0xb9773b(0x9f0)]('click',showJoinGameView),document[_0xb9773b(0x3a5)](_0xb9773b(0x8dd))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleJoinLiveGame),document['getElementById'](_0xb9773b(0x7a3))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>showView(_0xb9773b(0x6e2)));const _0x1cb6a7=()=>{const _0x46939d=_0xb9773b,_0x4ad143=document[_0x46939d(0x3a5)](_0x46939d(0xd6f))[_0x46939d(0xd68)][_0x46939d(0x94b)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x46939d(0xcf3)+(_0x4ad143||_0x46939d(0x12a));},_0x5dff12=document[_0xb9773b(0x3a5)]('math-topic-search-input');_0x5dff12&&_0x5dff12[_0xb9773b(0x9f0)](_0xb9773b(0x8ad),_0xf1bc4b=>{const _0x366b04=_0xb9773b,_0x52e8f9=_0xf1bc4b[_0x366b04(0x940)]['value'][_0x366b04(0x7c4)]()[_0x366b04(0x7f3)](),_0x5d995e=document[_0x366b04(0x3a5)](_0x366b04(0x14a)),_0x28ba57=_0x5d995e[_0x366b04(0x660)](_0x366b04(0x5f3));_0x28ba57[_0x366b04(0x140)](_0x567017=>{const _0x2ea851=_0x366b04;let _0x49739e=![];const _0x42781e=_0x567017[_0x2ea851(0x660)]('.topic-row');_0x42781e[_0x2ea851(0x140)](_0x3809ed=>{const _0x1b7e88=_0x2ea851,_0x559447=_0x3809ed[_0x1b7e88(0x169)](_0x1b7e88(0x981))[_0x1b7e88(0xd68)][_0x1b7e88(0x7c4)]();_0x559447['includes'](_0x52e8f9)?(_0x3809ed['style']['display']=_0x1b7e88(0x248),_0x49739e=!![]):_0x3809ed[_0x1b7e88(0x40d)][_0x1b7e88(0x4c3)]=_0x1b7e88(0xa8c);}),_0x49739e?_0x567017['style'][_0x2ea851(0x4c3)]=_0x2ea851(0xca2):_0x567017[_0x2ea851(0x40d)][_0x2ea851(0x4c3)]='none';});});document[_0xb9773b(0x3a5)](_0xb9773b(0x63a))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>exportTableAsImage(_0xb9773b(0x6b8),_0x1cb6a7())),document['getElementById'](_0xb9773b(0x564))[_0xb9773b(0x9f0)]('click',()=>exportTableAsPDF(_0xb9773b(0xbc4),_0x1cb6a7())),document[_0xb9773b(0x3a5)](_0xb9773b(0x600))['addEventListener'](_0xb9773b(0x79c),()=>exportTableAsWord(_0xb9773b(0x6b8),_0x1cb6a7())),document[_0xb9773b(0x3a5)](_0xb9773b(0x298))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>exportTableAsExcel(_0xb9773b(0xbc4),_0x1cb6a7()));const _0x2679db=()=>{const _0x2dbc74=_0xb9773b,_0x4cb43e=document['getElementById']('results-quiz-title')[_0x2dbc74(0xd68)][_0x2dbc74(0x94b)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x2dbc74(0x887)+(_0x4cb43e||'quiz');};document[_0xb9773b(0x3a5)](_0xb9773b(0x3ec))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>exportTableAsImage(_0xb9773b(0x4c1),_0x2679db())),document['getElementById'](_0xb9773b(0x36b))['addEventListener'](_0xb9773b(0x79c),()=>exportTableAsPDF(_0xb9773b(0x701),_0x2679db())),document[_0xb9773b(0x3a5)](_0xb9773b(0x49a))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>exportTableAsWord(_0xb9773b(0x4c1),_0x2679db())),document[_0xb9773b(0x3a5)](_0xb9773b(0x32e))[_0xb9773b(0x9f0)]('click',()=>exportTableAsExcel(_0xb9773b(0x701),_0x2679db())),projectQuizzesList[_0xb9773b(0x9f0)](_0xb9773b(0x79c),async _0x304c29=>{const _0x14218e=_0xb9773b,_0x1cb4b4=_0x304c29['target'][_0x14218e(0x5f8)](_0x14218e(0x4a7)),_0x118227=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)](_0x14218e(0x8bf)),_0x3aaa9b=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)]('.compare-results-btn'),_0x165ab2=_0x304c29[_0x14218e(0x940)]['closest'](_0x14218e(0x1fb)),_0x541df5=_0x304c29['target'][_0x14218e(0x5f8)](_0x14218e(0xa0d)),_0x3e38ae=_0x304c29['target'][_0x14218e(0x5f8)]('.copy-quiz-id-list-btn'),_0x5a32e9=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)](_0x14218e(0x635)),_0x248ba7=_0x304c29[_0x14218e(0x940)]['closest'](_0x14218e(0xbc6)),_0x4b6112=_0x304c29['target'][_0x14218e(0x5f8)](_0x14218e(0x3c8)),_0x5ea121=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)](_0x14218e(0x81f)),_0x5a16b7=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)]('.parallel-quiz-btn'),_0x1804e5=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)](_0x14218e(0x9ef)),_0x4c5647=_0x304c29['target']['closest'](_0x14218e(0x243)),_0x19ac29=_0x304c29['target'][_0x14218e(0x5f8)](_0x14218e(0x323)),_0x5d148f=_0x304c29[_0x14218e(0x940)]['closest'](_0x14218e(0xd1)),_0x35df4f=_0x304c29['target'][_0x14218e(0x5f8)](_0x14218e(0x30f)),_0x33eb1e=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)](_0x14218e(0xda9)),_0x38813c=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)]('.delete-quiz-btn'),_0x5893dc=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)](_0x14218e(0x3b1)),_0x2038b4=_0x304c29['target']['closest']('.toggle-actions-btn'),_0x3fb5f3=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)](_0x14218e(0xe2c)),_0x351c38=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)](_0x14218e(0x403)),_0x117349=_0x304c29[_0x14218e(0x940)][_0x14218e(0x5f8)]('.start-live-race-btn');if(_0x351c38){const _0x13df28=_0x351c38[_0x14218e(0x315)]['quizId'],_0xd4d7d9=_0x351c38[_0x14218e(0x315)][_0x14218e(0x12c)],_0x209569=allQuizzes[_0x14218e(0x5d9)](_0x2f2c84=>_0x2f2c84['id']===_0x13df28);_0x209569&&showGameStartConfirmationModal(_0x13df28,_0xd4d7d9,_0x209569[_0x14218e(0x1e8)]);}else{if(_0x117349){const _0x13078a=_0x117349[_0x14218e(0x315)][_0x14218e(0x737)];handleStartLiveRace(_0x13078a);}else{if(_0x2038b4){const _0x15c3dc=_0x2038b4[_0x14218e(0x315)][_0x14218e(0x737)],_0x5bdbf1=document[_0x14218e(0x3a5)](_0x14218e(0x6b2)+_0x15c3dc);_0x5bdbf1&&_0x5bdbf1[_0x14218e(0xcde)][_0x14218e(0x1a2)](_0x14218e(0xc15));}else{if(_0x118227){const _0xe1a6f5=_0x118227[_0x14218e(0x315)][_0x14218e(0x737)],_0x34af29=allQuizzes[_0x14218e(0x5d9)](_0x1e25cd=>_0x1e25cd['id']===_0xe1a6f5);_0x34af29&&handleGenerateParallelPostTest(_0x34af29);}else{if(_0x3aaa9b)handleCompareResults(_0x3aaa9b[_0x14218e(0x315)][_0x14218e(0x737)],_0x3aaa9b[_0x14218e(0x315)][_0x14218e(0x277)]);else{if(_0x165ab2){const _0x2f5716=_0x165ab2[_0x14218e(0x315)][_0x14218e(0x737)],_0x332a37=allQuizzes[_0x14218e(0x5d9)](_0x2b4df8=>_0x2b4df8['id']===_0x2f5716);_0x332a37&&_0x332a37[_0x14218e(0x283)]?(displayLessonPlan(_0x332a37['lessonPlan'],_0x332a37),showConfirmation(_0x14218e(0x64b),()=>handleGenerateLessonPlan(_0x2f5716)),document[_0x14218e(0x3a5)]('confirmation-modal')[_0x14218e(0x169)]('h3')[_0x14218e(0xd68)]='แผนการสอน',document[_0x14218e(0x3a5)](_0x14218e(0x2e3))[_0x14218e(0xd68)]=_0x14218e(0x1b1)):handleGenerateLessonPlan(_0x2f5716);}else{if(_0x541df5)handleToggleStarQuiz(_0x541df5[_0x14218e(0x315)][_0x14218e(0x737)]);else{if(_0x3e38ae)copyTextToClipboard(_0x3e38ae[_0x14218e(0x315)][_0x14218e(0x737)],'คัดลอกรหัสแล้ว!');else{if(_0x5a32e9)handleOpenQuizEditor(_0x5a32e9[_0x14218e(0x315)][_0x14218e(0x737)]);else{if(_0x248ba7)handleQuizSettings(_0x248ba7[_0x14218e(0x315)][_0x14218e(0x737)]);else{if(_0x4b6112)handleDuplicateQuiz(_0x4b6112['dataset'][_0x14218e(0x737)]);else{if(_0x5ea121)handleRenameQuiz(_0x5ea121[_0x14218e(0x315)]['quizId'],_0x5ea121[_0x14218e(0x315)]['topic']);else{if(_0x5a16b7){const _0x2c61aa=_0x5a16b7['dataset'][_0x14218e(0x737)],_0x42dea2=allQuizzes[_0x14218e(0x5d9)](_0x868f92=>_0x868f92['id']===_0x2c61aa);_0x42dea2&&handleGenerateParallelFromBank(_0x42dea2);}else{if(_0x1804e5)handleMoveQuiz(_0x1804e5[_0x14218e(0x315)][_0x14218e(0x737)]);else{if(_0x4c5647)handleManualQuizPairing(_0x4c5647[_0x14218e(0x315)][_0x14218e(0x737)]);else{if(_0x19ac29)handleUnpairQuiz(_0x19ac29['dataset'][_0x14218e(0x737)]);else{if(_0x5d148f){const _0x6a73c1=_0x5d148f[_0x14218e(0x315)][_0x14218e(0x737)],_0x126a1e=allQuizzes[_0x14218e(0x5d9)](_0x33a7b5=>_0x33a7b5['id']===_0x6a73c1);if(_0x126a1e)startPresentation(_0x126a1e);}else{if(_0x35df4f){const _0x248458=_0x35df4f[_0x14218e(0x315)][_0x14218e(0x737)],_0x1118d7=allQuizzes[_0x14218e(0x5d9)](_0x3fed2a=>_0x3fed2a['id']===_0x248458);_0x1118d7&&(currentQuizData=_0x1118d7,startAdminTest());}else{if(_0x33eb1e)actionTargetId=_0x33eb1e['dataset'][_0x14218e(0x737)],document['getElementById']('export-pdf-modal')['classList'][_0x14218e(0xa30)](_0x14218e(0xc15));else{if(_0x38813c)showConfirmation(_0x14218e(0x241)+_0x38813c[_0x14218e(0x315)][_0x14218e(0x1e8)]+_0x14218e(0xe02),()=>handleDeleteQuiz(_0x38813c[_0x14218e(0x315)][_0x14218e(0x737)]));else{if(_0x5893dc)handleQuizStatus(_0x5893dc['dataset']['quizId']);else{if(_0x3fb5f3)handleGenerateEasyVersionQuiz(_0x3fb5f3[_0x14218e(0x315)]['quizId']);else _0x1cb4b4&&showQuizDetailView(_0x1cb4b4[_0x14218e(0x315)][_0x14218e(0x737)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0xb9773b(0x3a5)](_0xb9773b(0x8b8))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>showView(_0xb9773b(0x6e2))),document[_0xb9773b(0x3a5)](_0xb9773b(0x2fb))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),confirmAndStartTeamQuiz),document['getElementById']('quiz-leaderboard-table')[_0xb9773b(0x169)](_0xb9773b(0x5af))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x1105eb=>{const _0x5328e1=_0xb9773b,_0xcb9281=_0x1105eb[_0x5328e1(0x940)][_0x5328e1(0x5f8)](_0x5328e1(0x793));if(!_0xcb9281||!_0xcb9281[_0x5328e1(0x315)]['sort'])return;const _0x474986=_0xcb9281[_0x5328e1(0x315)]['sort'];if(quizLeaderboardSortBy===_0x474986)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x5328e1(0xc4c)?_0x5328e1(0xdfb):_0x5328e1(0xc4c);else{quizLeaderboardSortBy=_0x474986;const _0x284e79=[_0x5328e1(0x1af)];quizLeaderboardSortOrder=_0x284e79['includes'](_0x474986)?_0x5328e1(0xc4c):_0x5328e1(0xdfb);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x5328e1(0x5c6));}),document['getElementById']('close-presentation-btn')[_0xb9773b(0x9f0)]('click',closePresentation),document['getElementById'](_0xb9773b(0xa92))['addEventListener'](_0xb9773b(0x79c),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x784))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x35e486=_0xb9773b;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x35e486(0x1bc)][_0x35e486(0xdbe)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0xb9773b(0x9f0)](_0xb9773b(0xc7d),()=>{const _0x58878d=_0xb9773b;!document[_0x58878d(0xbfc)]&&(presentationModal[_0x58878d(0x40d)][_0x58878d(0x4c3)]=_0x58878d(0xa8c));}),document[_0xb9773b(0x3a5)]('delete-all-students-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleDeleteAllStudents),studentList[_0xb9773b(0x9f0)]('click',_0x253a23=>{const _0x21972b=_0xb9773b,_0x173be2=_0x253a23[_0x21972b(0x940)][_0x21972b(0x5f8)](_0x21972b(0x1bb));if(_0x173be2){const _0x51dc14=_0x173be2['dataset']['studentName'];handleDeleteStudent(_0x51dc14);}}),document[_0xb9773b(0x3a5)](_0xb9773b(0xc7c))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0xb9773b(0xdff),_0x589065=>{const _0x2f1065=_0xb9773b,_0x21e31b=_0x589065[_0x2f1065(0x940)]['files'][0x0],_0x3979af=document[_0x2f1065(0x3a5)](_0x2f1065(0xc7c)),_0xbec4f=document[_0x2f1065(0x3a5)](_0x2f1065(0x968)),_0x4f4e0e=document[_0x2f1065(0x3a5)](_0x2f1065(0x316));_0x21e31b?(selectedFile=_0x21e31b,_0x4f4e0e[_0x2f1065(0x2e0)]?(_0x3979af['disabled']=!![],analyzeFileForTopics(_0x21e31b)):(_0x3979af['disabled']=![],_0xbec4f[_0x2f1065(0xcde)][_0x2f1065(0x483)](_0x2f1065(0xc15)))):(selectedFile=null,_0x3979af['disabled']=!![],_0xbec4f['classList'][_0x2f1065(0x483)]('hidden'));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x316))['addEventListener'](_0xb9773b(0xdff),_0x266191=>{const _0x2672ec=_0xb9773b,_0x5a1f85=_0x266191[_0x2672ec(0x940)][_0x2672ec(0x2e0)],_0x54b3ef=document['getElementById']('generate-from-file-btn'),_0x396363=document['getElementById'](_0x2672ec(0x968));_0x5a1f85?(_0x54b3ef[_0x2672ec(0x88c)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x396363['classList'][_0x2672ec(0xa30)](_0x2672ec(0xc15)),document[_0x2672ec(0x3a5)](_0x2672ec(0x632))[_0x2672ec(0xc7e)]=_0x2672ec(0x126))):(_0x396363[_0x2672ec(0xcde)][_0x2672ec(0x483)](_0x2672ec(0xc15)),_0x54b3ef[_0x2672ec(0x88c)]=!selectedFile);}),document[_0xb9773b(0x3a5)]('file-topics-list-container')[_0xb9773b(0x9f0)]('click',_0x312732=>{const _0x4fc9d9=_0xb9773b,_0x32da99=_0x312732[_0x4fc9d9(0x940)][_0x4fc9d9(0x5f8)](_0x4fc9d9(0x2c6)),_0x517250=_0x312732[_0x4fc9d9(0x940)][_0x4fc9d9(0x5f8)](_0x4fc9d9(0x5ab));if(_0x32da99){const _0x3a954a=unescape(_0x32da99['dataset'][_0x4fc9d9(0x1e8)]);generateHybridQuizForTopic(_0x3a954a);}else{if(_0x517250){const _0x43eff6=unescape(_0x517250['dataset'][_0x4fc9d9(0x1e8)]),_0x461ff7=document['getElementById'](_0x4fc9d9(0xd22))[_0x4fc9d9(0x909)];handleGenerateAndShowLesson(_0x43eff6,_0x461ff7);}}}),document[_0xb9773b(0x3a5)](_0xb9773b(0x29c))[_0xb9773b(0x9f0)](_0xb9773b(0xdff),_0x196aa7=>{const _0x468783=_0xb9773b,_0x14743c=document[_0x468783(0x3a5)](_0x468783(0x562)),_0x16082e=document[_0x468783(0x3a5)](_0x468783(0x481)),_0x10e4cc=document[_0x468783(0x3a5)](_0x468783(0x1d1));_0x196aa7[_0x468783(0x940)][_0x468783(0x909)]===_0x468783(0xa8c)?_0x14743c[_0x468783(0xcde)][_0x468783(0x483)]('hidden'):(_0x14743c[_0x468783(0xcde)][_0x468783(0xa30)](_0x468783(0xc15)),_0x196aa7[_0x468783(0x940)][_0x468783(0x909)]===_0x468783(0x955)?(_0x16082e['textContent']=_0x468783(0x789),_0x10e4cc[_0x468783(0x909)]='10'):(_0x16082e[_0x468783(0xd68)]=_0x468783(0x8ce),_0x10e4cc[_0x468783(0x909)]='30'));}),document['getElementById'](_0xb9773b(0x28c))[_0xb9773b(0x9f0)](_0xb9773b(0xdff),_0x53aa21=>{const _0x23c718=_0xb9773b,_0xd0a34e=document[_0x23c718(0x3a5)](_0x23c718(0xa6b)),_0x3d6944=_0x53aa21['target']['value'],_0xa42573=document[_0x23c718(0x169)](_0x23c718(0x882)),_0x587c16=document[_0x23c718(0x3a5)]('passing-score-input'),_0x2199c0=document[_0x23c718(0x3a5)](_0x23c718(0x118));_0x3d6944===_0x23c718(0xc90)?_0xa42573['textContent']='จำนวนคู่:':_0xa42573[_0x23c718(0xd68)]=_0x23c718(0xfb),_0x3d6944===_0x23c718(0x260)||_0x3d6944===_0x23c718(0x43b)||_0x3d6944===_0x23c718(0xa8d)?_0xd0a34e[_0x23c718(0xcde)][_0x23c718(0xa30)](_0x23c718(0xc15)):_0xd0a34e['classList'][_0x23c718(0x483)](_0x23c718(0xc15)),_0x587c16[_0x23c718(0x4c9)]=_0x2199c0[_0x23c718(0x909)];}),document[_0xb9773b(0x3a5)](_0xb9773b(0x118))[_0xb9773b(0x9f0)](_0xb9773b(0x8ad),_0x3372a1=>{const _0x470590=_0xb9773b;document[_0x470590(0x3a5)](_0x470590(0x5c3))[_0x470590(0x4c9)]=_0x3372a1[_0x470590(0x940)][_0x470590(0x909)];}),document['getElementById'](_0xb9773b(0x368))['addEventListener'](_0xb9773b(0xdff),_0x1fd5e1=>{const _0x5f2ad0=_0xb9773b,_0x14dda0=document[_0x5f2ad0(0x3a5)](_0x5f2ad0(0x757)),_0x2b9415=document[_0x5f2ad0(0x3a5)](_0x5f2ad0(0x374)),_0x8947e3=document[_0x5f2ad0(0x3a5)](_0x5f2ad0(0x2ef));_0x1fd5e1[_0x5f2ad0(0x940)]['value']==='none'?_0x14dda0[_0x5f2ad0(0xcde)][_0x5f2ad0(0x483)]('hidden'):(_0x14dda0['classList']['remove']('hidden'),_0x1fd5e1['target'][_0x5f2ad0(0x909)]===_0x5f2ad0(0x955)?_0x2b9415['textContent']=_0x5f2ad0(0x789):_0x2b9415[_0x5f2ad0(0xd68)]=_0x5f2ad0(0x8ce));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x683))['addEventListener'](_0xb9773b(0x79c),()=>{const _0x45605d=_0xb9773b;document[_0x45605d(0x3a5)](_0x45605d(0xd93))[_0x45605d(0xcde)][_0x45605d(0x483)](_0x45605d(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x7de))[_0xb9773b(0x9f0)]('click',()=>{const _0x45cf56=_0xb9773b;document[_0x45cf56(0x3a5)](_0x45cf56(0xd93))[_0x45cf56(0xcde)]['add'](_0x45cf56(0xc15));}),document[_0xb9773b(0x3a5)]('verify-answers-editor-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleVerifyAnswersInEditor),document[_0xb9773b(0x3a5)](_0xb9773b(0x570))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0xbdae8b=_0xb9773b;document['getElementById'](_0xbdae8b(0xd93))['classList']['add'](_0xbdae8b(0xc15)),showConfirmation(_0xbdae8b(0x774),handleSaveChanges);}),document[_0xb9773b(0x3a5)](_0xb9773b(0xd9))['addEventListener'](_0xb9773b(0x79c),handleAutoFixLatex);const _0x4749c5=document[_0xb9773b(0x3a5)](_0xb9773b(0x61d));_0x4749c5&&_0x4749c5[_0xb9773b(0x9f0)](_0xb9773b(0x79c),_0x5c9798=>{const _0x54e2fe=_0xb9773b,_0x313df1=_0x5c9798['target'][_0x54e2fe(0x5f8)](_0x54e2fe(0x442));if(_0x313df1){const _0x29d939=_0x313df1[_0x54e2fe(0x5f8)]('.question-editor-item'),_0x5dd0ea=parseInt(_0x29d939[_0x54e2fe(0x315)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x5dd0ea);return;}const _0x47994e=_0x5c9798['target'][_0x54e2fe(0x5f8)](_0x54e2fe(0x351));if(_0x47994e){const _0x5c8ddf=_0x47994e['closest'](_0x54e2fe(0xcba)),_0x4ad1ce=parseInt(_0x5c8ddf[_0x54e2fe(0x315)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x4ad1ce);return;}const _0x1b5d76=_0x5c9798[_0x54e2fe(0x940)][_0x54e2fe(0x5f8)]('#add-question-editor-btn');if(_0x1b5d76){handleAddQuestionInEditor();return;}});document[_0xb9773b(0x3a5)](_0xb9773b(0x950))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),openQuizBankModal),document[_0xb9773b(0x3a5)]('cancel-quiz-bank-btn')[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x3d21a3=_0xb9773b;document[_0x3d21a3(0x3a5)](_0x3d21a3(0x769))[_0x3d21a3(0xcde)][_0x3d21a3(0x483)](_0x3d21a3(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x926))['addEventListener'](_0xb9773b(0x8ad),_0x4f74e1=>renderQuizBankList(_0x4f74e1[_0xb9773b(0x940)][_0xb9773b(0x909)]));const _0x468187=document[_0xb9773b(0x3a5)](_0xb9773b(0x14a));if(_0x468187){let _0x2016c4=null;_0x468187[_0xb9773b(0x9f0)]('click',_0x1df1f1=>{const _0x276e07=_0xb9773b,_0x863e32=_0x1df1f1[_0x276e07(0x940)],_0xbcbf2d=_0x863e32['closest'](_0x276e07(0xbf5)),_0x553f52=_0x863e32[_0x276e07(0x5f8)](_0x276e07(0x8b9)),_0x335740=_0x863e32[_0x276e07(0x5f8)](_0x276e07(0x2ee)),_0xe83cb0=_0x863e32['closest'](_0x276e07(0x8a6));if(_0x553f52){_0x1df1f1[_0x276e07(0xb49)]();const _0x3c78e9=_0x553f52[_0x276e07(0x315)]['id'],_0x177a93=_0x553f52[_0x276e07(0x5f8)](_0x276e07(0xbe6))['querySelector']('.topic-name-display')[_0x276e07(0xd68)];showConfirmation(_0x276e07(0x9dd)+_0x177a93+'\x22?',()=>handleDeleteCustomTopic(_0x3c78e9));}else{if(_0xbcbf2d){_0x1df1f1[_0x276e07(0xb49)]();_0x2016c4&&toggleTopicEditMode(_0x2016c4,![]);const _0x3b88b6=_0xbcbf2d[_0x276e07(0x5f8)](_0x276e07(0xd57));_0x2016c4=_0x3b88b6,toggleTopicEditMode(_0x3b88b6,!![]);}else{if(_0x335740){_0x1df1f1[_0x276e07(0xb49)]();const _0x5aa8e1=_0x335740['dataset']['id'],_0x4daa26=_0x335740['closest'](_0x276e07(0xd57)),_0x3e7001=_0x4daa26[_0x276e07(0x169)](_0x276e07(0x272))[_0x276e07(0x909)];handleUpdateCustomTopic(_0x5aa8e1,_0x3e7001),_0x2016c4=null;}else{if(_0xe83cb0){_0x1df1f1[_0x276e07(0xb49)]();const _0x18c0a4=_0xe83cb0['closest'](_0x276e07(0xd57));toggleTopicEditMode(_0x18c0a4,![]),_0x2016c4=null;}}}}}),document['getElementById'](_0xb9773b(0x435))[_0xb9773b(0x9f0)]('click',()=>{const _0x263700=_0xb9773b;document[_0x263700(0x3a5)]('lesson-plan-modal')['classList'][_0x263700(0x483)](_0x263700(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x543))['addEventListener'](_0xb9773b(0x79c),()=>{const _0x5777fb=_0xb9773b;document[_0x5777fb(0x3a5)](_0x5777fb(0x74e))[_0x5777fb(0xcde)][_0x5777fb(0x483)]('hidden');}),document[_0xb9773b(0x3a5)](_0xb9773b(0x6bc))[_0xb9773b(0x9f0)](_0xb9773b(0x79c),handleExportLessonPDF);}document['getElementById'](_0xb9773b(0x558))['addEventListener'](_0xb9773b(0x79c),()=>{const _0x20bd79=_0xb9773b;document[_0x20bd79(0x3a5)]('comparison-modal')[_0x20bd79(0xcde)][_0x20bd79(0x483)](_0x20bd79(0xc15));}),document[_0xb9773b(0x3a5)](_0xb9773b(0x34d))[_0xb9773b(0x9f0)]('click',()=>{const _0xc1b68=_0xb9773b;document[_0xc1b68(0x3a5)](_0xc1b68(0x504))['classList'][_0xc1b68(0x483)]('hidden');}),setupComparisonModalTabs(),document['body'][_0xb9773b(0x9f0)](_0xb9773b(0x79c),function(_0x4e8e31){const _0x22447d=_0xb9773b;if(_0x4e8e31[_0x22447d(0x940)][_0x22447d(0xcde)][_0x22447d(0xca5)](_0x22447d(0x514))){const _0x24dda9=unescape(_0x4e8e31[_0x22447d(0x940)][_0x22447d(0x315)][_0x22447d(0x1e8)]);startSkillPractice(_0x24dda9);}}),document[_0xb9773b(0x3a5)]('scores-tab-content')['addEventListener'](_0xb9773b(0x79c),_0x1cfaf6=>{const _0x3b4a47=_0xb9773b,_0x23c090=_0x1cfaf6[_0x3b4a47(0x940)]['closest']('.delete-submission-btn');if(_0x23c090){const _0x2b6f1e=_0x23c090[_0x3b4a47(0x315)][_0x3b4a47(0x1af)];handleDeleteSubmission(_0x2b6f1e);return;}const _0x3ad4db=_0x1cfaf6['target'][_0x3b4a47(0x5f8)]('.edit-points-btn');if(_0x3ad4db){const _0x3933b8=_0x3ad4db[_0x3b4a47(0x315)][_0x3b4a47(0x1af)],_0xc55298=_0x3ad4db['dataset'][_0x3b4a47(0xd43)],_0x3181c2=prompt('แก้ไขคะแนน\x20Points\x20ของ\x20\x22'+_0x3933b8+_0x3b4a47(0xdb8),_0xc55298);if(_0x3181c2!==null&&_0x3181c2[_0x3b4a47(0x7f3)]()!==''){const _0x3a1d50=parseInt(_0x3181c2,0xa);!isNaN(_0x3a1d50)?handleManualEditPoints(_0x3933b8,_0x3a1d50):alert(_0x3b4a47(0xc3c));}}}),document[_0xb9773b(0x3a5)](_0xb9773b(0x369))?.[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x39a7d6=_0xb9773b;document[_0x39a7d6(0x3a5)]('pin-entry-modal')[_0x39a7d6(0xcde)][_0x39a7d6(0x483)](_0x39a7d6(0xc15));}),document[_0xb9773b(0x660)](_0xb9773b(0xd55))[_0xb9773b(0x140)](_0x47ea27=>{const _0x44dcd2=_0xb9773b;_0x47ea27[_0x44dcd2(0x9f0)](_0x44dcd2(0x79c),()=>{const _0x170c00=_0x44dcd2;handlePinKeyPress(_0x47ea27[_0x170c00(0x315)]['val']);});}),document[_0xb9773b(0x3a5)](_0xb9773b(0x222))?.[_0xb9773b(0x9f0)](_0xb9773b(0x79c),()=>{const _0x5f23f7=_0xb9773b;handlePinKeyPress(_0x5f23f7(0xdd0));});}async function handleStartGroupMode(_0x64d2ef,_0x5eb1cf=![]){const _0x568a94=_0x4813c4,_0x38de07=allQuizzes[_0x568a94(0x5d9)](_0x41b87b=>_0x41b87b['id']===_0x64d2ef)||allQuizzesGlobal[_0x568a94(0x5d9)](_0x33bcaa=>_0x33bcaa['id']===_0x64d2ef);if(!_0x38de07){showMessage(_0x568a94(0x776));return;}currentQuizData=getShuffledQuiz(_0x38de07);const _0x4aa44f=Math[_0x568a94(0x304)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x4d5d40=await addDoc(collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),{'quizId':_0x38de07['id'],'projectId':_0x38de07['projectId'],'status':'lobby','pin':_0x4aa44f,'mode':_0x568a94(0xac9),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5eb1cf});currentTeamQuizId=_0x4d5d40['id'],showView(_0x568a94(0x2cd)),renderAdminTeamQuizDashboard(_0x4aa44f,_0x38de07[_0x568a94(0x1e8)],_0x568a94(0xac9)),listenForTeamQuizUpdates();}catch(_0x525a09){console[_0x568a94(0xabd)]('Error\x20starting\x20group\x20quiz:',_0x525a09),showMessage(_0x568a94(0x7ae));}}async function showStudentProgressView(){const _0x5eea50=_0x4813c4;studentInitialView['classList'][_0x5eea50(0x483)]('hidden'),document[_0x5eea50(0x3a5)](_0x5eea50(0x69d))['classList']['remove'](_0x5eea50(0xc15));const _0x1d6eca=document[_0x5eea50(0x3a5)](_0x5eea50(0x841)),_0x58fbc7=document[_0x5eea50(0x3a5)](_0x5eea50(0x8e)),_0x81ad11=document['getElementById'](_0x5eea50(0x688));_0x81ad11[_0x5eea50(0xc7e)]=_0x5eea50(0x1f7),_0x58fbc7[_0x5eea50(0xc7e)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x58fbc7[_0x5eea50(0x88c)]=!![],_0x1d6eca[_0x5eea50(0xc7e)]=_0x5eea50(0x475);if(allProjects[_0x5eea50(0xdbe)]===0x0){const _0x530c8c=collection(db,'artifacts/'+appId+_0x5eea50(0xa9c)),_0x1f063c=await getDocs(_0x530c8c);allProjects=_0x1f063c[_0x5eea50(0xb32)]['map'](_0x17c23a=>({'id':_0x17c23a['id'],..._0x17c23a[_0x5eea50(0x1ea)]()}));}const _0x1f5eb5=allProjects['filter'](_0x44914c=>_0x44914c[_0x5eea50(0x436)]?.['showInStudentDashboard']!==![]);_0x1f5eb5['sort']((_0x255fbb,_0x2be9fd)=>_0x255fbb[_0x5eea50(0x821)]['localeCompare'](_0x2be9fd[_0x5eea50(0x821)],'th')),_0x1d6eca[_0x5eea50(0xc7e)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x1f5eb5['map'](_0x170944=>_0x5eea50(0x437)+_0x170944['id']+'\x22>'+_0x170944[_0x5eea50(0x821)]+'</option>')[_0x5eea50(0x15d)](''),_0x1d6eca[_0x5eea50(0x752)]=()=>{const _0x19846d=_0x5eea50,_0x6ba896=_0x58fbc7[_0x19846d(0x909)],_0x5788eb=_0x1d6eca[_0x19846d(0x909)];_0x58fbc7[_0x19846d(0x88c)]=!![],_0x58fbc7[_0x19846d(0xc7e)]=_0x19846d(0x3cf),_0x81ad11[_0x19846d(0xc7e)]=_0x19846d(0xc23);if(!_0x5788eb)return;const _0x2b8e20=allProjects['find'](_0x1c214a=>_0x1c214a['id']===_0x5788eb);if(!_0x2b8e20||!_0x2b8e20[_0x19846d(0x3a0)])return;const _0x1f566a=()=>{const _0x4e527d=_0x19846d;_0x58fbc7[_0x4e527d(0xc7e)]=_0x4e527d(0x3cf)+_0x2b8e20[_0x4e527d(0x3a0)][_0x4e527d(0x86c)](_0x382ac7=>'<option\x20value=\x22'+_0x382ac7+'\x22>'+_0x382ac7+_0x4e527d(0xc01))[_0x4e527d(0x15d)](''),_0x58fbc7[_0x4e527d(0x88c)]=![];const _0x1cf157=Array['from'](_0x58fbc7[_0x4e527d(0x7f6)])[_0x4e527d(0x86c)](_0x35cf1c=>_0x35cf1c[_0x4e527d(0x909)]);if(_0x6ba896&&_0x1cf157[_0x4e527d(0xc4f)](_0x6ba896))_0x58fbc7['value']=_0x6ba896,_0x58fbc7['dispatchEvent'](new Event('change'));else _0x2b8e20['students'][_0x4e527d(0xdbe)]===0x1&&(_0x58fbc7[_0x4e527d(0x909)]=_0x2b8e20[_0x4e527d(0x3a0)][0x0],_0x58fbc7[_0x4e527d(0xcfa)](new Event(_0x4e527d(0xdff))));};if(_0x2b8e20['settings']?.[_0x19846d(0xb19)]){if(sessionStorage['getItem'](_0x19846d(0x26b)+_0x5788eb)===_0x19846d(0xa55)){_0x1f566a();return;}const _0x18ad79=document[_0x19846d(0x3a5)](_0x19846d(0x220)),_0x493383=document[_0x19846d(0x3a5)]('confirm-passcode-btn'),_0x57ce70=document[_0x19846d(0x3a5)](_0x19846d(0x6f5)),_0xfcdc3d=document[_0x19846d(0x3a5)](_0x19846d(0x8e0)),_0x393c56=document['getElementById'](_0x19846d(0x661));document[_0x19846d(0x3a5)]('passcode-prompt-message')[_0x19846d(0xd68)]=_0x19846d(0xd50)+_0x2b8e20[_0x19846d(0x821)],_0xfcdc3d['value']='',_0x393c56[_0x19846d(0xcde)][_0x19846d(0x483)](_0x19846d(0xc15)),_0x18ad79[_0x19846d(0xcde)][_0x19846d(0xa30)](_0x19846d(0xc15));const _0x332300=()=>{const _0x2a9e85=_0x19846d,_0x5bca75=_0xfcdc3d['value']['trim']();_0x5bca75===_0x2b8e20['settings'][_0x2a9e85(0xd9b)]?(sessionStorage[_0x2a9e85(0x24c)](_0x2a9e85(0x26b)+_0x5788eb,_0x2a9e85(0xa55)),_0x18ad79[_0x2a9e85(0xcde)][_0x2a9e85(0x483)](_0x2a9e85(0xc15)),_0x1f566a(),_0x493383[_0x2a9e85(0x751)]('click',_0x332300)):_0x393c56[_0x2a9e85(0xcde)][_0x2a9e85(0xa30)]('hidden');};_0x493383[_0x19846d(0x8d)]=_0x332300,_0x57ce70[_0x19846d(0x8d)]=()=>{const _0x123a13=_0x19846d;_0x18ad79[_0x123a13(0xcde)][_0x123a13(0x483)](_0x123a13(0xc15)),_0x1d6eca['value']='',_0x493383[_0x123a13(0x751)](_0x123a13(0x79c),_0x332300);};}else _0x1f566a();},_0x58fbc7[_0x5eea50(0x752)]=()=>{const _0x568f0f=_0x5eea50,_0x4d795d=_0x1d6eca[_0x568f0f(0x909)],_0x4e3c01=_0x58fbc7[_0x568f0f(0x909)];_0x4d795d&&_0x4e3c01&&renderStudentProgressDashboard(_0x4d795d,_0x4e3c01);};}async function confirmAndJoinSyncGame(){const _0xba7720=_0x4813c4;lastSeenQuestionIndex=-0x1,sessionStorage[_0xba7720(0xaf1)](_0xba7720(0x4d5)),sessionStorage[_0xba7720(0xaf1)](_0xba7720(0x4fd)),Object[_0xba7720(0xaab)](sessionStorage)['forEach'](_0x1d0af7=>{const _0x1c80cb=_0xba7720;(_0x1d0af7[_0x1c80cb(0xb74)](_0x1c80cb(0x88b))||_0x1d0af7[_0x1c80cb(0xb74)](_0x1c80cb(0x551))||_0x1d0af7[_0x1c80cb(0xb74)](_0x1c80cb(0x35b)))&&sessionStorage[_0x1c80cb(0xaf1)](_0x1d0af7);});const _0x919a36=Array[_0xba7720(0x1a4)](document[_0xba7720(0x660)](_0xba7720(0x37f)))['map'](_0x49f3ef=>_0x49f3ef[_0xba7720(0x909)]);if(_0x919a36[_0xba7720(0xdbe)]===0x0){showMessage(_0xba7720(0x5bf));return;}localTeamPlayers=_0x919a36,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x31498d=writeBatch(db),_0x3d3052=serverTimestamp();_0x919a36[_0xba7720(0x140)](_0x538490=>{const _0x7d0fa9=_0xba7720,_0x3e8d39=doc(db,_0x7d0fa9(0x2b3)+appId+_0x7d0fa9(0xde9)+currentLiveGameId+_0x7d0fa9(0x63d),_0x538490),_0x2d7b7b={'name':_0x538490,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':'active','answers':[],'joinedAt':_0x3d3052,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x31498d['set'](_0x3e8d39,_0x2d7b7b,{'merge':!![]});}),await _0x31498d[_0xba7720(0x5a1)](),showView(_0xba7720(0x2cd)),document[_0xba7720(0x3a5)]('student-team-selection-view')[_0xba7720(0xcde)][_0xba7720(0x483)](_0xba7720(0xc15)),currentStudentName=_0x919a36[0x0],listenForSyncGameUpdates();const _0x481a39={'gameId':currentLiveGameId,'mode':_0xba7720(0x66c),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0xba7720(0x24c)](_0xba7720(0x4d6),JSON[_0xba7720(0xe22)](_0x481a39)),currentMode!==_0xba7720(0xb03)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0xba7720(0x9f0)]('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0xba7720(0xb7),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0xba7720(0x4a2),resetDimTimer),window['addEventListener']('mousedown',resetDimTimer),window[_0xba7720(0x9f0)](_0xba7720(0xc32),resetDimTimer),window['addEventListener'](_0xba7720(0xac3),resetDimTimer),resetDimTimer());}catch(_0x399ba1){console[_0xba7720(0xabd)](_0xba7720(0xc7a),_0x399ba1),showMessage('เกิดข้อผิดพลาดในการเข้าร่วม:\x20'+_0x399ba1[_0xba7720(0xbd0)]);}}async function resumeActiveGameSession(){const _0x90dafc=_0x4813c4,_0x94b873=sessionStorage[_0x90dafc(0xcbe)](_0x90dafc(0x4d6));if(!_0x94b873)return;const _0x190e26=JSON[_0x90dafc(0x452)](_0x94b873),{gameId:_0x2a18da,mode:_0x1d0ca2,role:_0x2f216b,players:_0x4b64bf,turnIndex:_0x6199e4}=_0x190e26;try{if(_0x2f216b===_0x90dafc(0xa16)&&_0x1d0ca2==='sync'){const _0x461e7d=doc(db,_0x90dafc(0x2b3)+appId+_0x90dafc(0xa04),_0x2a18da),_0x295b93=await getDoc(_0x461e7d);if(!_0x295b93[_0x90dafc(0x3ea)]()||_0x295b93[_0x90dafc(0x1ea)]()[_0x90dafc(0xd0e)]===_0x90dafc(0x471)||_0x295b93[_0x90dafc(0x1ea)]()[_0x90dafc(0xd0e)]===_0x90dafc(0x8fc)){sessionStorage[_0x90dafc(0xaf1)](_0x90dafc(0x4d6));return;}console[_0x90dafc(0x84)](_0x90dafc(0x462)+_0x2a18da+')'),currentMode='admin',currentLiveGameId=_0x2a18da,currentQuizData=_0x295b93[_0x90dafc(0x1ea)]()[_0x90dafc(0x953)],showView(_0x90dafc(0x2cd)),listenForSyncGameUpdates();}else{if(_0x1d0ca2===_0x90dafc(0x66c)&&_0x4b64bf){const _0x502c18=doc(db,_0x90dafc(0x2b3)+appId+'/public/data/syncGames',_0x2a18da),_0x2e12c4=await getDoc(_0x502c18);if(!_0x2e12c4[_0x90dafc(0x3ea)]()||_0x2e12c4[_0x90dafc(0x1ea)]()[_0x90dafc(0xd0e)]==='podium'||_0x2e12c4['data']()[_0x90dafc(0xd0e)]===_0x90dafc(0x8fc)){sessionStorage['removeItem']('activeGameSession');return;}console[_0x90dafc(0x84)](_0x90dafc(0xa7f)+_0x2a18da+')'),currentLiveGameId=_0x2a18da,currentStudentName=_0x4b64bf[0x0],localTeamPlayers=_0x4b64bf,showView(_0x90dafc(0x2cd)),listenForSyncGameUpdates();}else{if((_0x1d0ca2==='team'||_0x1d0ca2===_0x90dafc(0xac9))&&_0x4b64bf){const _0x4cf3fa=doc(db,_0x90dafc(0x2b3)+appId+_0x90dafc(0xd1b),_0x2a18da),_0x444825=await getDoc(_0x4cf3fa);if(!_0x444825[_0x90dafc(0x3ea)]()||_0x444825[_0x90dafc(0x1ea)]()[_0x90dafc(0xd0e)]===_0x90dafc(0x471)||_0x444825['data']()[_0x90dafc(0xd0e)]===_0x90dafc(0x8fc)){sessionStorage['removeItem'](_0x90dafc(0x4d6));return;}console['log'](_0x90dafc(0x3bb)+_0x1d0ca2+_0x90dafc(0x4d2)+_0x2a18da+')'),currentTeamQuizId=_0x2a18da,localTeamPlayers=_0x4b64bf,localQuestionIndex=_0x190e26[_0x90dafc(0x792)]||0x0,localPlayerIndex=_0x190e26['playerIndex']||0x0;const _0xc5d96d=_0x444825[_0x90dafc(0x1ea)](),_0x488a2d=doc(db,_0x90dafc(0x2b3)+appId+'/public/data/quizzes',_0xc5d96d[_0x90dafc(0x737)]),_0xd971a=await getDoc(_0x488a2d);_0xd971a[_0x90dafc(0x3ea)]()&&(currentQuizData=getShuffledQuiz({'id':_0xd971a['id'],..._0xd971a[_0x90dafc(0x1ea)]()}),showView('student'),studentInitialView[_0x90dafc(0xcde)][_0x90dafc(0x483)](_0x90dafc(0xc15)),_0x1d0ca2==='group'?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x3b24ef){console['error']('Failed\x20to\x20resume\x20game\x20session:',_0x3b24ef),sessionStorage[_0x90dafc(0xaf1)](_0x90dafc(0x4d6));}}async function handleUsePowerup(_0x142f38,_0x2a231c,_0xb6b02,_0x47ad74,_0x24714c){const _0x4d159a=_0x4813c4,_0x4d304c=_0x47ad74[_0x4d159a(0xd3d)],_0x5494c7='powerupUsed_q'+_0x4d304c+'_p'+_0x142f38,_0x17bf74=sessionStorage[_0x4d159a(0xcbe)](_0x5494c7);if(_0x17bf74&&_0x2a231c!==_0x4d159a(0x464)&&_0x2a231c!==_0x4d159a(0x989)){showMessage(_0x4d159a(0x31b));const _0x37001d=document['getElementById'](_0x4d159a(0x258)+_0x2a231c);if(_0x37001d)_0x37001d[_0x4d159a(0x88c)]=![];return;}if(_0x2a231c===_0x4d159a(0xb1f)){sessionStorage[_0x4d159a(0x24c)](_0x5494c7,_0x2a231c),playSystemSound(_0x4d159a(0x20b)),renderStudentSyncQuestionView(_0x47ad74);return;}const _0x1dfe7c=doc(db,_0x4d159a(0x2b3)+appId+_0x4d159a(0xde9)+currentLiveGameId+_0x4d159a(0x63d),_0x142f38);try{await runTransaction(db,async _0x4bd8b1=>{const _0x51dd58=_0x4d159a,_0x184551=await _0x4bd8b1[_0x51dd58(0x6c0)](_0x1dfe7c);if(!_0x184551['exists']())throw'ไม่พบข้อมูลผู้เล่น';const _0x32ceb5=_0x184551['data'](),_0x523d0c=_0x32ceb5[_0x51dd58(0x598)]||{},_0x44f0d2=_0x523d0c[_0x2a231c]||0x0;if(_0x44f0d2<=0x0)throw _0x51dd58(0xc43);const _0x42b6d3={};_0x42b6d3[_0x51dd58(0xad8)+_0x2a231c]=increment(-0x1);_0x2a231c!==_0x51dd58(0xb1f)&&(_0x42b6d3[_0x51dd58(0x3de)]=0x0);if(_0x2a231c==='buyTime'){const _0x434288=(_0x47ad74[_0x51dd58(0x4bc)]||0xf0)*0x3e8,_0x2e1a00=_0x434288*0.25;_0x42b6d3[_0x51dd58(0x20d)]=increment(_0x2e1a00);}_0x4bd8b1[_0x51dd58(0x1d2)](_0x1dfe7c,_0x42b6d3);}),_0x2a231c==='poll'&&sessionStorage[_0x4d159a(0x24c)]('pollUsedThisTurn','true'),_0x2a231c!=='buyTime'&&_0x2a231c!==_0x4d159a(0x989)&&sessionStorage[_0x4d159a(0x24c)](_0x5494c7,_0x2a231c),playSystemSound(_0x4d159a(0x20b)),applyPowerupEffect(_0x142f38,_0x2a231c,_0xb6b02,_0x47ad74,_0x24714c),(_0x2a231c===_0x4d159a(0x42e)||_0x2a231c==='fiftyFifty'||_0x2a231c===_0x4d159a(0x87b)||_0x2a231c===_0x4d159a(0xb88))&&renderStudentSyncQuestionView(_0x47ad74),_0x2a231c!=='wagerMultiplier'&&_0x24714c[_0x4d159a(0x3de)]>0x0&&showMessage(_0x4d159a(0x760)+_0x2a231c+'\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200');}catch(_0x39e376){console['error'](_0x4d159a(0xa52),_0x39e376),showMessage(typeof _0x39e376===_0x4d159a(0x8e3)?_0x39e376:_0x4d159a(0xd95));const _0x25537c=document[_0x4d159a(0x3a5)](_0x4d159a(0x258)+_0x2a231c);if(_0x25537c)_0x25537c[_0x4d159a(0x88c)]=![];}}async function getCachedOtherPlayers(_0x1284a5,_0x173f00){const _0x444810=_0x4813c4,_0x2bbe6d=_0x1284a5[_0x444810(0xd3d)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x2bbe6d)return console[_0x444810(0x84)](_0x444810(0xc78)),cachedOtherPlayersForQuestion;console[_0x444810(0x84)]('โหลดข้อมูลเพื่อนใหม่จาก\x20Server...');const _0x137d19=collection(db,'artifacts/'+appId+_0x444810(0xde9)+currentLiveGameId+_0x444810(0x63d)),_0xcba1b8=query(_0x137d19,where(_0x444810(0xd0e),'==',_0x444810(0xb9b))),_0x3f79f1=await getDocs(_0xcba1b8),_0x4867c1=[];return _0x3f79f1[_0x444810(0x140)](_0x650316=>{const _0x283fdb=_0x444810,_0x4cc80e=_0x650316['data']();_0x4867c1[_0x283fdb(0x8a5)](_0x4cc80e);}),cachedOtherPlayersForQuestion=_0x4867c1,cachedQuestionIndexForPlayers=_0x2bbe6d,_0x4867c1;}async function applyPowerupEffect(_0x117efd,_0x215de3,_0x1de04d,_0x41ee5a,_0x43eb33){const _0x3121ea=_0x4813c4,_0x44a8f9=_0x1de04d,_0x4d19f4=_0x41ee5a['currentQuestionIndex'];switch(_0x215de3){case _0x3121ea(0xb1f):showMessage(_0x3121ea(0x588));break;case _0x3121ea(0xc20):showMessage(_0x3121ea(0x4fe));break;case _0x3121ea(0x464):const _0x526585=(_0x41ee5a[_0x3121ea(0x4bc)]||0xf0)*0.25;showMessage(_0x3121ea(0x3ab)+_0x526585+_0x3121ea(0xa9));break;case _0x3121ea(0x42e):case _0x3121ea(0x6ea):const _0x2bfda5=document[_0x3121ea(0x660)]('.live-answer-btn');if(_0x2bfda5[_0x3121ea(0xdbe)]===0x0){showMessage(_0x3121ea(0xbbe));return;}const _0x303404=_0x3121ea(0x35b)+_0x4d19f4+'_p'+_0x117efd,_0x51bdc7=JSON[_0x3121ea(0x452)](sessionStorage['getItem'](_0x303404)||'[]');let _0x5bc185;const _0x3d62c7=_0x44a8f9[_0x3121ea(0x51d)]||_0x41ee5a[_0x3121ea(0x953)][_0x3121ea(0xa34)];_0x3d62c7===_0x3121ea(0x162)?_0x5bc185=String(_0x44a8f9[_0x3121ea(0xa25)])[_0x3121ea(0x7c4)]()===_0x3121ea(0xa55)?0x0:0x1:_0x5bc185=_0x44a8f9[_0x3121ea(0x54b)];const _0x46a906=Array[_0x3121ea(0x1a4)](_0x2bfda5)[_0x3121ea(0xd05)](_0x87973c=>parseInt(_0x87973c[_0x3121ea(0x315)][_0x3121ea(0x909)])!==_0x5bc185&&!_0x51bdc7['includes'](_0x87973c[_0x3121ea(0x315)][_0x3121ea(0x909)]));if(_0x46a906[_0x3121ea(0xdbe)]===0x0){showMessage(_0x3121ea(0xa7));return;}shuffleArray(_0x46a906);const _0x1a5fec=_0x215de3===_0x3121ea(0x42e)?0x1:0x2,_0x1f0169=[];for(let _0x3867ad=0x0;_0x3867ad<_0x1a5fec;_0x3867ad++){_0x46a906[_0x3867ad]&&(_0x46a906[_0x3867ad]['classList'][_0x3121ea(0x483)](_0x3121ea(0xc15)),_0x1f0169[_0x3121ea(0x8a5)](_0x46a906[_0x3867ad]['dataset']['value']));}const _0x17a7e7=[..._0x51bdc7,..._0x1f0169];sessionStorage[_0x3121ea(0x24c)](_0x303404,JSON[_0x3121ea(0xe22)](_0x17a7e7)),showMessage(_0x215de3===_0x3121ea(0x42e)?_0x3121ea(0x837):_0x3121ea(0xa81));break;default:showMessage('ใช้ไอเทม\x20'+_0x215de3+_0x3121ea(0x216));}}async function handleForceConfident(_0x39ddfa,_0x4e3b08){const _0x1c4ca=_0x4813c4;if(!currentLiveGameId||!_0x39ddfa)return;const _0x1fcb57=doc(db,_0x1c4ca(0x2b3)+appId+_0x1c4ca(0xde9)+currentLiveGameId+_0x1c4ca(0x63d),_0x39ddfa);try{await updateDoc(_0x1fcb57,{'isForcedConfident':!![]}),showMessage(_0x1c4ca(0x8d2)+_0x4e3b08+'\x20สำเร็จ!');}catch(_0x4d55cb){console[_0x1c4ca(0xabd)]('Failed\x20to\x20apply\x20forceConfident:',_0x4d55cb),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}async function handleRefundPowerup(_0x45e98c,_0x294165){const _0x2aa327=_0x4813c4,_0xdc184f=doc(db,_0x2aa327(0x2b3)+appId+_0x2aa327(0xde9)+currentLiveGameId+_0x2aa327(0x63d),_0x45e98c);try{const _0x5e65e7={};_0x5e65e7['powerups.'+_0x294165]=increment(0x1),await updateDoc(_0xdc184f,_0x5e65e7),console['log']('Refunded\x20'+_0x294165+_0x2aa327(0xcc7)+_0x45e98c);}catch(_0x401624){console['error'](_0x2aa327(0x1b0),_0x401624);}}async function handleApplyJinx(_0x41686c,_0x25e6d2){const _0xb71c5d=_0x4813c4;if(!currentLiveGameId||!_0x41686c)return;const _0xbd65d5=doc(db,'artifacts/'+appId+_0xb71c5d(0xde9)+currentLiveGameId+_0xb71c5d(0x63d),_0x41686c);try{await updateDoc(_0xbd65d5,{'isJinxed':!![]}),showMessage(_0xb71c5d(0x149)+_0x25e6d2+_0xb71c5d(0x317));}catch(_0xb1f8cc){console[_0xb71c5d(0xabd)](_0xb71c5d(0xe30),_0xb1f8cc),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}function activateFileInputAreaWithLoadedFile(){const _0x2601a1=_0x4813c4,_0x23934a=document[_0x2601a1(0x3a5)](_0x2601a1(0xc7c)),_0xc72157=document['getElementById']('file-topics-list-container'),_0x20969c=document[_0x2601a1(0x3a5)](_0x2601a1(0x316));selectedFile?_0x20969c[_0x2601a1(0x2e0)]?(_0x23934a[_0x2601a1(0x88c)]=!![],analyzeFileForTopics(selectedFile)):(_0x23934a[_0x2601a1(0x88c)]=![],_0xc72157['classList'][_0x2601a1(0x483)](_0x2601a1(0xc15))):(_0x23934a['disabled']=!![],_0xc72157[_0x2601a1(0xcde)][_0x2601a1(0x483)]('hidden'));}async function handleKickPlayerSync(_0x48dd00){const _0x48811c=_0x4813c4;if(!currentLiveGameId||!_0x48dd00)return;const _0x332ad7=doc(db,_0x48811c(0x2b3)+appId+_0x48811c(0xde9)+currentLiveGameId+_0x48811c(0x63d),_0x48dd00);try{await updateDoc(_0x332ad7,{'status':'inactive'});}catch(_0x2164a1){console['error'](_0x48811c(0x552)+_0x48dd00+':',_0x2164a1),showMessage(_0x48811c(0x3c2));}}async function renderStudentProgressDashboard(_0x5f4468,_0x4247e8){const _0x29076f=_0x4813c4,_0x549a53=document[_0x29076f(0x3a5)](_0x29076f(0x688));_0x549a53[_0x29076f(0xc7e)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x418aeb=collection(db,_0x29076f(0x2b3)+appId+'/public/data/quizzes'),_0x13efff=query(_0x418aeb,where(_0x29076f(0xb91),'==',_0x5f4468)),_0x38e690=await getDocs(_0x13efff),_0x5793af=_0x38e690[_0x29076f(0xb32)]['map'](_0xed487b=>({'id':_0xed487b['id'],..._0xed487b[_0x29076f(0x1ea)]()})),_0x6de491=_0x5793af['map'](_0x1d4da4=>getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x1d4da4['id']+_0x29076f(0xbfd),_0x4247e8))),_0x376098=await Promise[_0x29076f(0xa19)](_0x6de491),_0x210ed3=_0x376098[_0x29076f(0xd05)](_0x4df860=>_0x4df860[_0x29076f(0x3ea)]())[_0x29076f(0x86c)](_0x2cd36b=>({'quizId':_0x2cd36b[_0x29076f(0xc8)][_0x29076f(0x23b)][_0x29076f(0x23b)]['id'],..._0x2cd36b['data']()}));if(_0x210ed3[_0x29076f(0xdbe)]===0x0){_0x549a53[_0x29076f(0xc7e)]=_0x29076f(0x786);return;}let _0x389233=_0x29076f(0xc4a);_0x210ed3[_0x29076f(0x140)](_0x4962d2=>{const _0x4ef1a0=_0x29076f,_0x2b9249=_0x5793af[_0x4ef1a0(0x5d9)](_0x4632a2=>_0x4632a2['id']===_0x4962d2[_0x4ef1a0(0x737)]),_0x521870=_0x2b9249['settings']?.['resultsDisplay']||'show_results_and_answers',_0x26d369=_0x2b9249[_0x4ef1a0(0x436)]?.['passingScore']??0x0,_0x5aadb6=_0x4962d2[_0x4ef1a0(0xb35)]>=_0x26d369;let _0x583d83='',_0x51395f=_0x4ef1a0(0x532);switch(_0x521870){case _0x4ef1a0(0xcd4):case _0x4ef1a0(0x70d):_0x51395f=_0x5aadb6?_0x4ef1a0(0x959):'bg-red-50',_0x583d83=_0x4ef1a0(0xdf9)+(_0x5aadb6?'text-green-700':'text-red-700')+'\x22>'+_0x4962d2[_0x4ef1a0(0xb35)]+'\x20/\x20'+_0x4962d2[_0x4ef1a0(0xad2)]+_0x4ef1a0(0x8d7)+(_0x5aadb6?_0x4ef1a0(0x7e4):_0x4ef1a0(0xc4b))+'\x22>'+(_0x5aadb6?_0x4ef1a0(0x53d):_0x4ef1a0(0x2dc))+_0x4ef1a0(0x642);break;case _0x4ef1a0(0xb29):_0x51395f=_0x5aadb6?_0x4ef1a0(0x959):_0x4ef1a0(0xea),_0x583d83=_0x4ef1a0(0xd20)+(_0x5aadb6?_0x4ef1a0(0x7e4):'bg-red-200\x20text-red-800')+'\x22>'+(_0x5aadb6?_0x4ef1a0(0x53d):_0x4ef1a0(0x2dc))+_0x4ef1a0(0x642);break;case _0x4ef1a0(0x30b):_0x51395f='bg-yellow-50',_0x583d83=_0x4ef1a0(0x925);break;}_0x389233+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x51395f+_0x4ef1a0(0x9d5)+_0x2b9249[_0x4ef1a0(0x1e8)]+_0x4ef1a0(0xca3)+_0x4962d2[_0x4ef1a0(0xb6a)][_0x4ef1a0(0xdbe)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x4962d2[_0x4ef1a0(0x73c)])[_0x4ef1a0(0xcb2)]('th-TH')+_0x4ef1a0(0xdb)+_0x583d83+_0x4ef1a0(0x4b1);}),_0x389233+=_0x29076f(0x2fc),_0x549a53[_0x29076f(0xc7e)]=_0x389233;}catch(_0x1bbcec){console['error']('Error\x20rendering\x20student\x20progress:',_0x1bbcec),_0x549a53[_0x29076f(0xc7e)]=_0x29076f(0x7ec);}}function renderQuizBankListForMultiSelect(_0x36f3bb=''){const _0x35b2e5=_0x4813c4,_0x2c9036=document['getElementById'](_0x35b2e5(0x79e)),_0x5e5439=_0x36f3bb[_0x35b2e5(0x7c4)]()[_0x35b2e5(0x7f3)](),_0x5ed271=allQuizzesGlobal['map'](_0x4050a6=>({..._0x4050a6,'projectName':allProjects[_0x35b2e5(0x5d9)](_0x11792f=>_0x11792f['id']===_0x4050a6[_0x35b2e5(0xb91)])?.[_0x35b2e5(0x821)]||'N/A'}))[_0x35b2e5(0xd05)](_0xeb1d=>(_0xeb1d[_0x35b2e5(0x1e8)]||'')['toLowerCase']()[_0x35b2e5(0xc4f)](_0x5e5439)||(_0xeb1d['projectName']||'')[_0x35b2e5(0x7c4)]()[_0x35b2e5(0xc4f)](_0x5e5439)||_0xeb1d['id']['toString']()[_0x35b2e5(0xc4f)](_0x5e5439));_0x2c9036[_0x35b2e5(0xc7e)]=_0x5ed271[_0x35b2e5(0xdbe)]?_0x5ed271[_0x35b2e5(0x86c)](_0x59cf43=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x59cf43['id']+_0x35b2e5(0xc39)+(_0x59cf43['topic']||_0x35b2e5(0x86d))+_0x35b2e5(0x94e)+_0x59cf43[_0x35b2e5(0x821)]+'\x20|\x20ID:\x20'+_0x59cf43['id']+_0x35b2e5(0x796))[_0x35b2e5(0x15d)](''):_0x35b2e5(0x574),_0x2c9036[_0x35b2e5(0x752)]=()=>{const _0x38e2d2=_0x35b2e5,_0x563e69=document[_0x38e2d2(0x169)]('.quiz-bank-checkbox:checked');document['getElementById'](_0x38e2d2(0x677))[_0x38e2d2(0x88c)]=!_0x563e69;};}function setupStudentProgressListeners(){const _0x49d8e6=_0x4813c4;document[_0x49d8e6(0x3a5)](_0x49d8e6(0xc59))[_0x49d8e6(0x9f0)]('click',showStudentProgressView),document[_0x49d8e6(0x3a5)](_0x49d8e6(0xdd4))[_0x49d8e6(0x9f0)](_0x49d8e6(0x79c),()=>{const _0x22a12b=_0x49d8e6;document[_0x22a12b(0x3a5)]('student-progress-view')[_0x22a12b(0xcde)]['add'](_0x22a12b(0xc15)),document['getElementById'](_0x22a12b(0xc5e))[_0x22a12b(0xcde)][_0x22a12b(0xa30)]('hidden');});}async function startSkillPractice(_0x35b8c6){const _0x8f6118=_0x4813c4;studentResultArea[_0x8f6118(0xcde)][_0x8f6118(0x483)](_0x8f6118(0xc15)),studentQuizArea[_0x8f6118(0xc7e)]=_0x8f6118(0x5cc),studentQuizArea[_0x8f6118(0xcde)]['remove'](_0x8f6118(0xc15));try{const _0x2b34d6=await getStandardizedTopic(_0x35b8c6);console[_0x8f6118(0x84)](_0x8f6118(0xba8)+_0x35b8c6+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x2b34d6+'\x22'),studentQuizArea[_0x8f6118(0x169)]('p')['textContent']='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x2b34d6+'\x22...';const _0xbc3c94=collection(db,_0x8f6118(0x2b3)+appId+_0x8f6118(0x4a0)),_0x65a0f5=query(_0xbc3c94,where('topic','==',_0x2b34d6)),_0x17fd69=await getDocs(_0x65a0f5);if(_0x17fd69['docs'][_0x8f6118(0xdbe)]>=0x3){console[_0x8f6118(0x84)](_0x8f6118(0xc9f)+_0x17fd69[_0x8f6118(0xb32)]['length']+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x2b34d6+_0x8f6118(0xd6a));let _0x780f68=_0x17fd69[_0x8f6118(0xb32)][_0x8f6118(0x86c)](_0x4ced3f=>_0x4ced3f[_0x8f6118(0x1ea)]());shuffleArray(_0x780f68);const _0x24aa85={'topic':_0x2b34d6,'questions':_0x780f68['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x24aa85);}else{console[_0x8f6118(0x84)](_0x8f6118(0xb4b)+_0x2b34d6+_0x8f6118(0x736));const _0x232ecb=await generatePracticeQuestions(_0x2b34d6);await saveDrillToPracticeBank(_0x232ecb,_0x2b34d6),displaySkillPracticeDrill(_0x232ecb);}}catch(_0x3a73dc){console[_0x8f6118(0xabd)](_0x8f6118(0x3d0),_0x3a73dc),showMessage(_0x8f6118(0x11d)),studentQuizArea[_0x8f6118(0xcde)]['add'](_0x8f6118(0xc15)),studentResultArea[_0x8f6118(0xcde)][_0x8f6118(0xa30)]('hidden');}}async function saveDrillToPracticeBank(_0x3ef844,_0x2f838f){const _0x13becf=_0x4813c4,_0x2d43d3=collection(db,_0x13becf(0x2b3)+appId+_0x13becf(0x4a0)),_0x3d3a00=writeBatch(db);_0x3ef844['questions'][_0x13becf(0x140)](_0x4695df=>{const _0x8473a2=_0x13becf,_0x2f74c0=doc(_0x2d43d3);_0x3d3a00[_0x8473a2(0x17a)](_0x2f74c0,{'topic':_0x2f838f,'questionText':_0x4695df[_0x8473a2(0x929)],'options':_0x4695df['options'],'correctAnswerIndex':_0x4695df['correctAnswerIndex'],'explanation':_0x4695df[_0x8473a2(0x6dd)],'createdAt':serverTimestamp()});});try{await _0x3d3a00[_0x13becf(0x5a1)](),console[_0x13becf(0x84)](_0x13becf(0x499)+_0x3ef844[_0x13becf(0x1bc)][_0x13becf(0xdbe)]+_0x13becf(0x85f));}catch(_0x1c199b){console[_0x13becf(0xabd)](_0x13becf(0x8e1),_0x1c199b);}}async function getStandardizedTopic(_0x535db8){const _0x3ea624=_0x4813c4,_0x234b50=_0x3ea624(0x25d)+_0x535db8+_0x3ea624(0xddb),_0x337796={'type':_0x3ea624(0xb09),'properties':{'standardTopic':{'type':_0x3ea624(0x799)}},'required':['standardTopic']};try{const _0x291ecb=await callAnalysisApi(_0x234b50,_0x337796);return _0x291ecb[_0x3ea624(0x51b)];}catch(_0x271025){return console[_0x3ea624(0xabd)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x271025),_0x535db8;}}async function handleGenerateEasyVersionQuiz(_0x5350d9){const _0x28dc15=_0x4813c4,_0x37c9a7=document[_0x28dc15(0x3a5)](_0x28dc15(0xb24)),_0x10b6a0=document[_0x28dc15(0x3a5)](_0x28dc15(0x338));_0x10b6a0[_0x28dc15(0xcde)][_0x28dc15(0x483)](_0x28dc15(0xc15));const _0x515553=_0x28dc15(0x7b6);_0x37c9a7[_0x28dc15(0xe03)](_0x28dc15(0xce8),_0x515553);try{const _0x53a0d7=allQuizzes['find'](_0xfaf9f4=>_0xfaf9f4['id']===_0x5350d9);if(!_0x53a0d7)throw new Error(_0x28dc15(0x8c4));const _0x57663c=_0x28dc15(0x763)+JSON[_0x28dc15(0xe22)](_0x53a0d7[_0x28dc15(0x1bc)])+_0x28dc15(0xddd),_0x20fb0e={'type':_0x28dc15(0xb09),'properties':{'questionText':{'type':_0x28dc15(0x799)},'questionType':{'type':_0x28dc15(0x799)},'options':{'type':_0x28dc15(0x7bb),'items':{'type':_0x28dc15(0x799)}},'correctAnswerIndex':{'type':_0x28dc15(0x29e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x28dc15(0x799)},'imageCode':{'type':_0x28dc15(0x799)}},'required':['questionText','questionType',_0x28dc15(0x6dd)]},_0x4e490b={'type':_0x28dc15(0xb09),'properties':{'questions':{'type':_0x28dc15(0x7bb),'items':_0x20fb0e}},'required':[_0x28dc15(0x1bc)]},_0x47e8cb=await callAnalysisApi(_0x57663c,_0x4e490b);_0x47e8cb&&_0x47e8cb[_0x28dc15(0x1bc)]&&_0x47e8cb[_0x28dc15(0x1bc)][_0x28dc15(0x140)](_0x4fcc4e=>{const _0x1e7e0e=_0x28dc15;if(_0x4fcc4e['hasOwnProperty'](_0x1e7e0e(0x690))){const _0x3fef13=String(_0x4fcc4e['imageCode'])['trim']();(_0x3fef13===''||_0x3fef13[_0x1e7e0e(0x7c4)]()===_0x1e7e0e(0x7fa)||!_0x3fef13[_0x1e7e0e(0xb74)](_0x1e7e0e(0x413)))&&delete _0x4fcc4e['imageCode'];}});if(!_0x47e8cb||!_0x47e8cb[_0x28dc15(0x1bc)]||_0x47e8cb[_0x28dc15(0x1bc)][_0x28dc15(0xdbe)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0xc4c17c=_0x47e8cb[_0x28dc15(0x1bc)][_0x28dc15(0x86c)]((_0x46d295,_0x4e720c)=>({..._0x46d295,'id':'q_'+Date['now']()+'_'+_0x4e720c})),_0x1c97c4={'projectId':_0x53a0d7[_0x28dc15(0xb91)],'quizType':_0x53a0d7[_0x28dc15(0xa34)],'settings':_0x53a0d7[_0x28dc15(0x436)],'createdBy':_0x53a0d7['createdBy'],'status':'active','topic':_0x28dc15(0x1f5)+_0x53a0d7[_0x28dc15(0x1e8)],'questions':_0xc4c17c,'createdAt':new Date()[_0x28dc15(0xb05)](),'quizMode':_0x28dc15(0x2a0),'pairedQuizId':null};let _0x4a76e6;while(!![]){_0x4a76e6=Math[_0x28dc15(0x304)](0x3e8+Math[_0x28dc15(0x89e)]()*0x2328)[_0x28dc15(0x101)]();const _0x4908af=await getDoc(doc(db,_0x28dc15(0x2b3)+appId+_0x28dc15(0x60d),_0x4a76e6));if(!_0x4908af[_0x28dc15(0x3ea)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x28dc15(0x60d),_0x4a76e6),_0x1c97c4),showMessage(_0x28dc15(0x9c9));}catch(_0x347933){console[_0x28dc15(0xabd)](_0x28dc15(0x5a8),_0x347933),showMessage(_0x28dc15(0xa6c)+_0x347933[_0x28dc15(0xbd0)]);}finally{const _0x4b684e=document[_0x28dc15(0x3a5)](_0x28dc15(0xa6e));_0x4b684e&&_0x4b684e[_0x28dc15(0xa30)](),_0x10b6a0['classList'][_0x28dc15(0xa30)]('hidden');}}async function generatePracticeQuestions(_0x60f0bd){const _0x490c17=_0x4813c4,_0x3f84c8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x60f0bd+_0x490c17(0x525)+simpleMathPrompt+_0x490c17(0x8b4),_0x2b0c5a={'type':_0x490c17(0xb09),'properties':{'questionText':{'type':_0x490c17(0x799)},'options':{'type':_0x490c17(0x7bb),'items':{'type':_0x490c17(0x799)}},'correctAnswerIndex':{'type':_0x490c17(0x29e)},'explanation':{'type':'STRING'}},'required':[_0x490c17(0x929),_0x490c17(0x7f6),_0x490c17(0x54b),_0x490c17(0x6dd)]},_0x3651ea={'type':_0x490c17(0xb09),'properties':{'topic':{'type':_0x490c17(0x799)},'questions':{'type':_0x490c17(0x7bb),'items':_0x2b0c5a}},'required':['topic','questions']};return await callAnalysisApi(_0x3f84c8,_0x3651ea);}function displayLessonPlan(_0x2ec81b,_0x1bc615){const _0x4a9b10=_0x4813c4,_0x4fc0d8=_0x4a9b10(0x879)+_0x1bc615[_0x4a9b10(0x1e8)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x2ec81b[_0x4a9b10(0xc46)]['map'](_0x1c428b=>_0x4a9b10(0xe12)+_0x1c428b+_0x4a9b10(0x979))[_0x4a9b10(0x15d)]('')+_0x4a9b10(0x2bf)+_0x2ec81b[_0x4a9b10(0xb83)]+_0x4a9b10(0xc60)+_0x2ec81b[_0x4a9b10(0x25b)]['map'](_0x519798=>_0x4a9b10(0xcbf)+_0x519798[_0x4a9b10(0x8a8)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x519798[_0x4a9b10(0xd81)]+_0x4a9b10(0x83f))[_0x4a9b10(0x15d)]('')+_0x4a9b10(0xd38);document['getElementById'](_0x4a9b10(0x658))['textContent']=_0x4a9b10(0xd8f)+_0x1bc615[_0x4a9b10(0x1e8)],document[_0x4a9b10(0x3a5)](_0x4a9b10(0x6f3))[_0x4a9b10(0xc7e)]=_0x4fc0d8,document[_0x4a9b10(0x3a5)](_0x4a9b10(0x74e))[_0x4a9b10(0xcde)][_0x4a9b10(0xa30)]('hidden');if(window[_0x4a9b10(0xe2)])MathJax[_0x4a9b10(0xacf)]();}function displaySkillPracticeDrill(_0x1ba2f6){const _0x18c4db=_0x4813c4;let _0x1b322d=0x0;const _0x1c7bbd=_0x1ba2f6[_0x18c4db(0x1bc)],_0x28235f=()=>{const _0x4d5e49=_0x18c4db,_0x474f12=_0x1c7bbd[_0x1b322d],_0x583fc7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x1b322d+0x1)+_0x4d5e49(0x6eb)+_0x1c7bbd[_0x4d5e49(0xdbe)]+_0x4d5e49(0x161)+_0x474f12[_0x4d5e49(0x929)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x474f12[_0x4d5e49(0x7f6)][_0x4d5e49(0x86c)]((_0x5a3d93,_0x2f2029)=>_0x4d5e49(0x8db)+_0x2f2029+_0x4d5e49(0x9ca)+_0x2f2029+_0x4d5e49(0x182)+_0x2f2029+'\x22>'+_0x5a3d93+_0x4d5e49(0x601))[_0x4d5e49(0x15d)]('')+_0x4d5e49(0x19e);studentQuizArea[_0x4d5e49(0xc7e)]=_0x583fc7;if(window[_0x4d5e49(0xe2)])MathJax[_0x4d5e49(0xacf)]([studentQuizArea]);document[_0x4d5e49(0x3a5)](_0x4d5e49(0x7db))['addEventListener'](_0x4d5e49(0x79c),async()=>{const _0x175823=_0x4d5e49,_0x5864a0=await getHintForQuestion(_0x474f12[_0x175823(0x929)]);showMessage(_0x5864a0);}),document[_0x4d5e49(0x3a5)](_0x4d5e49(0xa2))[_0x4d5e49(0x9f0)](_0x4d5e49(0x79c),()=>{const _0x431477=_0x4d5e49,_0x18a37f=document[_0x431477(0x169)](_0x431477(0x1b2));if(!_0x18a37f){showMessage(_0x431477(0xd64));return;}const _0x1d3ca0=document['getElementById'](_0x431477(0xb7b)),_0x5369e7=parseInt(_0x18a37f[_0x431477(0x909)])===_0x474f12[_0x431477(0x54b)];_0x5369e7?(_0x1d3ca0[_0x431477(0x16b)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x1d3ca0[_0x431477(0xc7e)]=_0x431477(0x26a)+_0x474f12[_0x431477(0x6dd)]):(_0x1d3ca0[_0x431477(0x16b)]=_0x431477(0x883),_0x1d3ca0[_0x431477(0xc7e)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x474f12[_0x431477(0x6dd)]);_0x1d3ca0[_0x431477(0xcde)][_0x431477(0xa30)](_0x431477(0xc15));if(window['MathJax'])MathJax[_0x431477(0xacf)]([_0x1d3ca0]);document['getElementById']('check-answer-btn')['classList'][_0x431477(0x483)](_0x431477(0xc15)),document['getElementById'](_0x431477(0x7db))['classList']['add'](_0x431477(0xc15)),document[_0x431477(0x3a5)](_0x431477(0xba4))[_0x431477(0xcde)][_0x431477(0xa30)](_0x431477(0xc15));}),document[_0x4d5e49(0x3a5)]('next-drill-btn')[_0x4d5e49(0x9f0)](_0x4d5e49(0x79c),()=>{const _0x57dcf5=_0x4d5e49;_0x1b322d++,_0x1b322d<_0x1c7bbd['length']?_0x28235f():(studentQuizArea['innerHTML']=_0x57dcf5(0xb28),document[_0x57dcf5(0x3a5)]('back-to-results-btn')[_0x57dcf5(0x9f0)](_0x57dcf5(0x79c),()=>{const _0x24bd66=_0x57dcf5;studentQuizArea[_0x24bd66(0xcde)][_0x24bd66(0x483)]('hidden'),studentResultArea[_0x24bd66(0xcde)][_0x24bd66(0xa30)]('hidden');}));});};_0x28235f();}async function getHintForQuestion(_0x502b45){const _0x434d90=_0x4813c4,_0x3b30a1=_0x434d90(0xdfa)+_0x502b45+_0x434d90(0x9c8),_0x125250={'type':'OBJECT','properties':{'hint':{'type':_0x434d90(0x799)}},'required':[_0x434d90(0x308)]};try{const _0x34e2f0=await callAnalysisApi(_0x3b30a1,_0x125250);return _0x34e2f0[_0x434d90(0x308)];}catch(_0x1f7089){return console[_0x434d90(0xabd)](_0x434d90(0xac6),_0x1f7089),_0x434d90(0x5cb);}}async function extractTextFromPdf(_0x39fd9c){const _0x557274=_0x4813c4;pdfjsLib['GlobalWorkerOptions']['workerSrc']=_0x557274(0x844);const _0x353b36=await _0x39fd9c['arrayBuffer'](),_0x423f8c=await pdfjsLib[_0x557274(0x3b5)](_0x353b36)['promise'],_0x66a3d7=_0x423f8c[_0x557274(0xb5f)];let _0x159936='';for(let _0x274480=0x1;_0x274480<=_0x66a3d7;_0x274480++){const _0x2e43b9=await _0x423f8c[_0x557274(0x82)](_0x274480),_0x127333=await _0x2e43b9[_0x557274(0x1ca)](),_0x56ec66=_0x127333[_0x557274(0x439)]['map'](_0x445df6=>_0x445df6['str'])[_0x557274(0x15d)]('\x20');_0x159936+=_0x56ec66+'\x0a\x0a';}return _0x159936;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x5d4670){const _0x1395d2=_0x4813c4,_0x40f008=document[_0x1395d2(0x3a5)](_0x1395d2(0x7bc)),_0x5ac31c=document[_0x1395d2(0x3a5)](_0x1395d2(0xc0f)),_0x206d97=document[_0x1395d2(0x3a5)](_0x1395d2(0xac7));_0x40f008[_0x1395d2(0xcde)][_0x1395d2(0xa30)](_0x1395d2(0xc15)),_0x5ac31c[_0x1395d2(0xc7e)]=_0x1395d2(0x6a7),_0x206d97['classList']['add'](_0x1395d2(0xc15));try{const _0x2367ac='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x5d4670+_0x1395d2(0x586),_0x117f0d={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x1395d2(0x799)},'curriculum':{'type':_0x1395d2(0x7bb),'items':{'type':_0x1395d2(0xb09),'properties':{'sara':{'type':_0x1395d2(0x799)},'mainTopics':{'type':_0x1395d2(0x7bb),'items':{'type':_0x1395d2(0xb09),'properties':{'topicName':{'type':_0x1395d2(0x799)},'subTopics':{'type':_0x1395d2(0x7bb),'items':{'type':_0x1395d2(0x799)}}},'required':['topicName','subTopics']}}},'required':['sara',_0x1395d2(0x119)]}}},'required':[_0x1395d2(0xb77),'curriculum']},_0x4dcb43=await callAnalysisApi(_0x2367ac,_0x117f0d);if(_0x4dcb43&&_0x4dcb43['curriculum'])extractedBlueprintData=_0x4dcb43,renderBlueprintTopics(_0x4dcb43),_0x206d97[_0x1395d2(0xcde)][_0x1395d2(0xa30)](_0x1395d2(0xc15));else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x5ce67f){console['error'](_0x1395d2(0xcca),_0x5ce67f),_0x5ac31c[_0x1395d2(0xc7e)]=_0x1395d2(0xd91);}}function renderBlueprintTopics(_0x3ab54f){const _0x62046e=_0x4813c4,_0x1fc394=document[_0x62046e(0x3a5)]('blueprint-topics-list'),_0x35c513=_0x3ab54f[_0x62046e(0xb77)],_0x17781c=_0x62046e(0x87e)+_0x35c513+_0x62046e(0x210);let _0x2372a2='';_0x3ab54f['curriculum']['forEach'](_0x1524d8=>{const _0x42375f=_0x62046e;_0x2372a2+=_0x42375f(0xbbb)+_0x1524d8[_0x42375f(0x6a5)]+_0x42375f(0x691),_0x1524d8['mainTopics']['forEach'](_0x49f3f3=>{const _0x5112eb=_0x42375f;_0x2372a2+=_0x5112eb(0x13c)+_0x49f3f3['topicName']+_0x5112eb(0x108),_0x49f3f3[_0x5112eb(0x91)]['forEach'](_0x344326=>{const _0x36dd27=_0x5112eb;_0x2372a2+=_0x36dd27(0xc5b)+_0x344326[_0x36dd27(0x94b)](/'/g,'\x5c\x27')+_0x36dd27(0x16f)+_0x35c513['replace'](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x344326+_0x36dd27(0x3fa)+_0x344326[_0x36dd27(0x94b)](/'/g,'\x5c\x27')+_0x36dd27(0x9a9);}),_0x2372a2+=_0x5112eb(0xa2d);}),_0x2372a2+='</div>';}),_0x1fc394[_0x62046e(0xc7e)]=_0x17781c+_0x2372a2;}async function handleGenerateTeachingContent(_0x2b3c05){const _0x34ebc9=_0x4813c4,_0x2609b0=document['getElementById']('lesson-plan-modal'),_0x4ddb3c=document[_0x34ebc9(0x3a5)]('lesson-plan-content');document[_0x34ebc9(0x3a5)](_0x34ebc9(0x658))[_0x34ebc9(0xd68)]=_0x34ebc9(0xdaa)+_0x2b3c05,_0x4ddb3c[_0x34ebc9(0xc7e)]=_0x34ebc9(0x23c),_0x2609b0[_0x34ebc9(0xcde)][_0x34ebc9(0xa30)](_0x34ebc9(0xc15));try{const _0x1a74c1=_0x34ebc9(0x27d)+_0x2b3c05+_0x34ebc9(0x539),_0x2219cc={'type':_0x34ebc9(0xb09),'properties':{'keyConcepts':{'type':_0x34ebc9(0x7bb),'items':{'type':'STRING'}},'commonMistakes':{'type':_0x34ebc9(0x7bb),'items':{'type':_0x34ebc9(0x799)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x34ebc9(0x799)},'solution':{'type':_0x34ebc9(0x799)}},'required':[_0x34ebc9(0x8a8),_0x34ebc9(0xd81)]}},'teacherTips':{'type':_0x34ebc9(0x7bb),'items':{'type':_0x34ebc9(0x799)}}},'required':['keyConcepts',_0x34ebc9(0x605),_0x34ebc9(0x28d),_0x34ebc9(0x8c2)]},_0x2c41a1=await callAnalysisApi(_0x1a74c1,_0x2219cc);displayTeachingContent(_0x2c41a1,_0x2b3c05);}catch(_0x42d412){console['error'](_0x34ebc9(0x610),_0x42d412),_0x4ddb3c[_0x34ebc9(0xc7e)]=_0x34ebc9(0x872)+_0x42d412[_0x34ebc9(0xbd0)]+_0x34ebc9(0x340);}}function displayTeachingContent(_0x57d49e,_0x19d1db){const _0x51db5b=_0x4813c4,_0x233d17=document[_0x51db5b(0x3a5)](_0x51db5b(0x6f3));document['getElementById'](_0x51db5b(0x658))[_0x51db5b(0xd68)]=_0x51db5b(0x7c3)+_0x19d1db;const _0x5599d9=_0x51db5b(0x73d)+_0x57d49e[_0x51db5b(0x9bb)]['map'](_0x4d87e5=>_0x51db5b(0xe12)+_0x4d87e5+_0x51db5b(0x979))[_0x51db5b(0x15d)]('')+_0x51db5b(0xc8d)+_0x57d49e['commonMistakes']['map'](_0x2abcfb=>_0x51db5b(0xe12)+_0x2abcfb+_0x51db5b(0x979))[_0x51db5b(0x15d)]('')+_0x51db5b(0xcb0)+_0x57d49e[_0x51db5b(0x28d)]['map'](_0x997b52=>_0x51db5b(0xc77)+_0x997b52[_0x51db5b(0x8a8)]+_0x51db5b(0xa4c)+_0x997b52[_0x51db5b(0xd81)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x51db5b(0x15d)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x57d49e['teacherTips']['map'](_0xa23609=>'<li>'+_0xa23609+_0x51db5b(0x979))[_0x51db5b(0x15d)]('')+_0x51db5b(0x132);_0x233d17[_0x51db5b(0xc7e)]=_0x5599d9;if(window[_0x51db5b(0xe2)])MathJax['typesetPromise']([_0x233d17]);}async function generateQuizForSingleTopic(_0xa3ab6f){const _0x463811=_0x4813c4;console[_0x463811(0x84)](_0x463811(0xa4e)+_0xa3ab6f+'\x22');const _0x1ac865=document['getElementById'](_0x463811(0xd54)),_0x9b0cf1=_0x1ac865[_0x463811(0x6f2)][_0x463811(0xdbe)]>0x0?_0x1ac865[_0x463811(0x6f2)][0x0]:null;let _0x57b970=null;if(_0x9b0cf1)try{const _0x754610=new FileReader();_0x754610[_0x463811(0xb98)](_0x9b0cf1);const _0x5a704a=await new Promise((_0x44657b,_0x15301f)=>{const _0x1581f3=_0x463811;_0x754610[_0x1581f3(0xc99)]=()=>_0x44657b(_0x754610[_0x1581f3(0xb8)][_0x1581f3(0xa6a)](',')[0x1]),_0x754610['onerror']=_0x1e17f9=>_0x15301f(_0x1e17f9);});_0x57b970=[{'inlineData':{'mimeType':_0x9b0cf1[_0x463811(0x680)],'data':_0x5a704a}}];}catch(_0x2b464e){console[_0x463811(0xabd)](_0x463811(0x55d),_0x2b464e),showMessage(_0x463811(0x603));return;}generateQuiz(_0xa3ab6f,null,null,_0x57b970,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x2cd720=null){const _0x57d591=_0x4813c4,_0x3f48b9=document[_0x57d591(0x3a5)](_0x57d591(0x69a)),_0x2927f9=document[_0x57d591(0x3a5)]('loader-text');let _0x56fe85,_0x320766=[];if(_0x2cd720)_0x56fe85=_0x2cd720,_0x320766=_0x56fe85[_0x57d591(0xa8a)](0x2);else{const _0x302d9b=document[_0x57d591(0x3a5)](_0x57d591(0x454)),_0x5698a7=document[_0x57d591(0x3a5)](_0x57d591(0xd54)),_0x39dc89=_0x302d9b[_0x57d591(0x6f2)][0x0];if(!_0x39dc89){showMessage(_0x57d591(0x2e4));return;}_0x2927f9[_0x57d591(0xd68)]=_0x57d591(0xc1c);const _0x57b03e=await new Promise((_0x4aad55,_0x3bd100)=>{const _0x175b8f=_0x57d591,_0xd1178a=new FileReader();_0xd1178a['readAsDataURL'](_0x39dc89),_0xd1178a['onload']=()=>_0x4aad55(_0xd1178a['result'][_0x175b8f(0xa6a)](',')[0x1]),_0xd1178a[_0x175b8f(0x46e)]=_0x3bd100;});_0x56fe85=[{'text':_0x57d591(0x761)},{'inlineData':{'mimeType':_0x39dc89[_0x57d591(0x680)],'data':_0x57b03e}}];if(_0x5698a7[_0x57d591(0x6f2)][_0x57d591(0xdbe)]>0x0){const _0x148f51=_0x5698a7['files'][0x0];_0x2927f9['textContent']=_0x57d591(0xc75);const _0x57f5b3=await new Promise((_0x301a28,_0x4d5397)=>{const _0x52d8d3=_0x57d591,_0x246fb7=new FileReader();_0x246fb7[_0x52d8d3(0xb98)](_0x148f51),_0x246fb7[_0x52d8d3(0xc99)]=()=>_0x301a28(_0x246fb7[_0x52d8d3(0xb8)][_0x52d8d3(0xa6a)](',')[0x1]),_0x246fb7['onerror']=_0x4d5397;}),_0x3f40e6={'inlineData':{'mimeType':_0x148f51[_0x57d591(0x680)],'data':_0x57f5b3}};_0x56fe85[_0x57d591(0x8a5)](_0x3f40e6),_0x320766[_0x57d591(0x8a5)](_0x3f40e6);}}const _0x154f6e='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a',_0x29ac23='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0x3ea1d6='';_0x320766&&_0x320766['length']>0x0?_0x3ea1d6=_0x154f6e:_0x3ea1d6=_0x29ac23;const _0x5cc210=_0x57d591(0x51f)+_0x3ea1d6+_0x57d591(0xb41),_0x4b5238={'type':_0x57d591(0xb09),'properties':{'questionText':{'type':_0x57d591(0x799)},'questionType':{'type':_0x57d591(0x799),'enum':['multiple_choice',_0x57d591(0x311),_0x57d591(0x162),_0x57d591(0x392)]},'options':{'type':_0x57d591(0x7bb),'items':{'type':_0x57d591(0x799)}},'correctAnswerIndex':{'type':_0x57d591(0x29e)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x57d591(0xd7d)},'explanation':{'type':_0x57d591(0x799)},'imageCode':{'type':_0x57d591(0x799)}},'required':['questionType',_0x57d591(0x6dd)]},_0x4dc622={'type':_0x57d591(0xb09),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x4b5238}},'required':[_0x57d591(0x1e8),_0x57d591(0x1bc)]};_0x56fe85[0x0]['text']=_0x5cc210,await handleApiCall(_0x56fe85,_0x57d591(0x924),_0x4dc622);}function proceedToNextQuestion(_0x3ec986){const _0x8fef89=_0x4813c4;studentAnswersPerQuestion[_0x8fef89(0x8a5)](_0x3ec986),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x8fef89(0x1bc)][_0x8fef89(0xdbe)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x2ee0d8,_0x5864b7,_0x1e058d){const _0x12da80=_0x4813c4,_0x5e54a7=Object[_0x12da80(0x3fb)](_0x2ee0d8[_0x12da80(0x2e8)]||{}),_0x3ba692=_0x5e54a7[_0x12da80(0xdbe)],_0x324b59=_0x1e058d,_0x568ec1=_0x2ee0d8['gameVariant']||_0x12da80(0xba3),_0x4e0588=_0x568ec1==='anonymous'||_0x568ec1===_0x12da80(0xcb1),_0x153134=_0x568ec1===_0x12da80(0x37a)||_0x568ec1===_0x12da80(0xcb1),_0x9f7e7e=_0x2ee0d8['isAnonymousRevealed']===!![],_0x22c44d=_0x568ec1==='competition',_0x3e02c8=_0x2ee0d8['shuffledQuiz']['questions'],_0x347c11=_0x3e02c8[_0x324b59],_0xa85b44=_0x31c715=>String[_0x12da80(0x612)](0x41+_0x31c715),_0x536c89=_0x5e54a7[_0x12da80(0x86c)](_0x3d1419=>{const _0x51566d=_0x12da80,_0x32cdca=(_0x3d1419[_0x51566d(0x1b8)]||[])[_0x51566d(0xd05)](_0x192763=>{const _0x4c0512=_0x51566d;if(_0x153134)return _0x192763[_0x4c0512(0x792)]<=_0x324b59;return!![];});let _0x3ec32c=0x0,_0x471937=0x0;_0x153134?(_0x3ec32c=_0x32cdca['filter'](_0x1afcbb=>_0x1afcbb[_0x51566d(0x8a)])['length'],_0x471937=_0x32cdca[_0x51566d(0x4c5)]((_0x30e1b0,_0x32bdab)=>_0x30e1b0+(_0x32bdab[_0x51566d(0xae4)]||0x0),0x0)):(_0x3ec32c=_0x3d1419['score']||0x0,_0x471937=_0x3d1419[_0x51566d(0x183)]||0x0);const _0x26ae32=[..._0x32cdca][_0x51566d(0x9a1)]((_0xabbbbc,_0x54d078)=>_0xabbbbc['questionIndex']-_0x54d078[_0x51566d(0x792)]);let _0x4766cf=0x0;return _0x26ae32[_0x51566d(0x140)](_0x2297da=>{const _0x3efb40=_0x51566d,_0x3d9143=_0x2297da[_0x3efb40(0xc42)]&&_0x2297da['powerupUsed']!=='wagerMultiplier'||_0x2297da[_0x3efb40(0x45f)];_0x2297da[_0x3efb40(0x8a)]?_0x3d9143?_0x4766cf=0x0:_0x4766cf++:_0x4766cf=0x0;}),{..._0x3d1419,'realScore':_0x3ec32c,'totalPoints':_0x471937,'answers':_0x32cdca,'correctStreak':_0x4766cf};}),_0x461016=Math[_0x12da80(0x4c9)](..._0x536c89['map'](_0x56b9fb=>_0x56b9fb[_0x12da80(0x183)]),-Infinity),_0x9a237b=Math['max'](..._0x536c89[_0x12da80(0x86c)](_0x4a8f8a=>_0x4a8f8a['realScore']),-Infinity),_0x24cd78=_0x2ee0d8[_0x12da80(0x9e5)]===!![],_0x5ea147=[..._0x536c89][_0x12da80(0x9a1)]((_0x5aefbb,_0x3ba49c)=>{const _0x299c5b=_0x12da80;if(_0x24cd78){const _0x2d80ef=_0x3ba49c[_0x299c5b(0x183)]-_0x5aefbb[_0x299c5b(0x183)];if(_0x2d80ef!==0x0)return _0x2d80ef;const _0x47a360=_0x3ba49c[_0x299c5b(0x602)]-_0x5aefbb['realScore'];if(_0x47a360!==0x0)return _0x47a360;return(_0x5aefbb[_0x299c5b(0x4a4)]||'')[_0x299c5b(0x5f6)](_0x3ba49c['name']||'','th');}else{const _0x3a53f2=_0x3ba49c[_0x299c5b(0x183)]-_0x5aefbb[_0x299c5b(0x183)];if(_0x3a53f2!==0x0)return _0x3a53f2;const _0x1d3a5c=_0x3ba49c['realScore']-_0x5aefbb[_0x299c5b(0x602)];if(_0x1d3a5c!==0x0)return _0x1d3a5c;return(_0x5aefbb[_0x299c5b(0x4a4)]||'')[_0x299c5b(0x5f6)](_0x3ba49c[_0x299c5b(0x4a4)]||'','th');}});let _0x2e9756='';const _0x12132b=!_0x22c44d&&!(_0x4e0588&&_0x2ee0d8['showAnswerInAnonymous']===![]);if(_0x347c11&&_0x12132b){let _0x2b3601='',_0x1bb218='';const _0xe25591=_0x347c11[_0x12da80(0x51d)]||_0x2ee0d8[_0x12da80(0x953)][_0x12da80(0xa34)];if(_0xe25591===_0x12da80(0x260)&&_0x347c11[_0x12da80(0x7f6)]){const _0x3e7f4d=_0x347c11[_0x12da80(0x54b)];_0x2b3601=_0x347c11[_0x12da80(0x7f6)][_0x3e7f4d],_0x1bb218=_0xa85b44(_0x3e7f4d)+'.';}else{if(_0xe25591==='true_false'){const _0x1547bf=String(_0x347c11[_0x12da80(0xa25)])[_0x12da80(0x7c4)]()===_0x12da80(0xa55);_0x2b3601=_0x1547bf?_0x12da80(0x2c0):_0x12da80(0x426),_0x1bb218=_0x1547bf?'ก.':'ข.';}else{if(_0xe25591===_0x12da80(0x392))_0x2b3601=_0x347c11[_0x12da80(0x18a)]||'-';else(_0xe25591===_0x12da80(0x311)||_0xe25591===_0x12da80(0x87d))&&(_0x2b3601=_0x347c11['idealAnswer']||'-');}}_0x2b3601&&(_0x2e9756=_0x12da80(0x5e1)+(_0x324b59+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x1bb218+'\x20'+_0x2b3601+_0x12da80(0x7d9));}const _0x5a3b2d=_0x5ea147[_0x12da80(0x86c)]((_0xc65c,_0xdb70d2)=>{const _0x556405=_0x12da80,_0x5531ea=_0xc65c[_0x556405(0x602)],_0x496999=_0xc65c[_0x556405(0x183)],_0xb6527e=(_0xc65c[_0x556405(0x1b8)]||[])[_0x556405(0x5d9)](_0x26958d=>_0x26958d[_0x556405(0x792)]===_0x1e058d),_0x4ea4ab=_0xc65c[_0x556405(0x1b8)][_0x556405(0xdbe)];let _0x56368e='';if(_0xb6527e){if(_0xb6527e[_0x556405(0xb1c)])_0x56368e+='<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>';if(_0xb6527e[_0x556405(0x5f1)])_0x56368e+=_0x556405(0x49c);if(_0xb6527e[_0x556405(0x45f)])_0x56368e+=_0x556405(0x58f);const _0x576b2c=_0xb6527e['powerupUsed'];if(_0x576b2c){const _0x324f79={'poll':'📊','cutOne':'✂️','insurance':_0x556405(0x7c6),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x556405(0xcee)};if(_0x324f79[_0x576b2c])_0x56368e+=_0x556405(0x6ad)+_0x324f79[_0x576b2c]+_0x556405(0x8f6);}}let _0x224c58='';const _0x373468=_0xc65c['correctStreak']||0x0,_0x507bf4=_0xb6527e&&_0xb6527e[_0x556405(0x45f)],_0x4b5d01=_0xb6527e&&_0xb6527e['powerupUsed']&&_0xb6527e['powerupUsed']!=='wagerMultiplier';!_0x22c44d&&_0x373468>=0x3&&!_0x507bf4&&!_0x4b5d01&&(_0x224c58+=_0x556405(0xc57)+_0x373468+'</span>');if(!_0x22c44d&&_0x4ea4ab>0x0){if(_0x24cd78){if(_0x496999===_0x461016&&_0x461016>0x0)_0x224c58+=_0x556405(0xa82);if(_0x5531ea===_0x9a237b&&_0x9a237b>0x0)_0x224c58+=_0x556405(0xa46);}else{const _0x2af24c=_0xc65c[_0x556405(0x602)]===_0x1e058d+0x1;if(_0x2af24c)_0x224c58+=_0x556405(0x9b3);}if(_0x224c58===''&&_0x496999<0x0)_0x224c58+=_0x556405(0x20c);}let _0x2ca0d1='bg-black/20',_0x12c045=![],_0x1cd661=![];if(!_0x22c44d){const _0x2e6573=(_0xc65c[_0x556405(0x1b8)]||[])[_0x556405(0x5d9)](_0x2690e3=>_0x2690e3[_0x556405(0x792)]===_0x324b59);if(_0x2e6573){const _0x9bb41a=_0x2e6573[_0x556405(0x8a)],_0x382613=_0x2e6573['wasConfident']===!![]||_0x2e6573['wasConfident']===_0x556405(0x8c7),_0x182481=_0x2e6573[_0x556405(0xc42)];if(_0x182481===_0x556405(0xb1f))_0x9bb41a?(_0x2ca0d1=_0x556405(0x158),_0x12c045=!![]):(_0x2ca0d1=_0x556405(0x1b4),_0x1cd661=!![]);else{if(_0x382613)_0x2ca0d1=_0x9bb41a?_0x556405(0x815):_0x556405(0x984);else _0x9bb41a&&(_0x2ca0d1='bg-[#DCFCE7]\x20text-green-900');}}}let _0x246b1a='';const _0x4017f4=_0xc65c[_0x556405(0x4a4)],_0x3b9683=_0x2ee0d8[_0x556405(0xca7)][_0xc65c[_0x556405(0x4a4)]]||'???',_0x51cde1=_0x556405(0xdea),_0x2c8c2f=_0x556405(0x7c9),_0x6b2064=_0x12c045?'text-yellow-800':_0x556405(0xda3);let _0x3185e6='';const _0x2199fb=_0x496999>=0x0?'(+'+_0x496999[_0x556405(0xe1)]()+')':'('+_0x496999[_0x556405(0xe1)]()+')',_0x411cc4=_0x556405(0xbe8)+_0x5531ea+_0x556405(0xbeb)+_0x2199fb+_0x556405(0x8f6);if(_0x5864b7){if(_0x4e0588&&!_0x9f7e7e)_0x1cd661?_0x246b1a=_0x556405(0x9e0)+_0x51cde1+'\x22\x20title=\x22'+_0x4017f4+'\x20('+_0x3b9683+_0x556405(0x813)+_0x2c8c2f+'\x22>'+_0x4017f4+_0x556405(0x67b)+_0x56368e+'\x20'+_0x224c58+_0x556405(0x7f7)+_0x6b2064+'\x22\x20style=\x22'+_0x2c8c2f+_0x556405(0x80b)+_0x3b9683+_0x556405(0x5b7):_0x246b1a=_0x556405(0x9e0)+_0x51cde1+_0x556405(0x5a7)+_0x3b9683+'\x22><span\x20style=\x22'+_0x2c8c2f+'\x22>'+_0x3b9683+_0x556405(0x67b)+_0x56368e+'\x20'+_0x224c58+_0x556405(0x2fc),_0x3185e6=_0x411cc4;else{if(_0x4e0588&&_0x9f7e7e)_0x246b1a=_0x556405(0x9e0)+_0x51cde1+_0x556405(0x5a7)+_0x4017f4+'\x22><span\x20style=\x22'+_0x2c8c2f+'\x22>'+_0x4017f4+_0x556405(0x67b)+_0x56368e+'\x20'+_0x224c58+_0x556405(0x7f7)+_0x6b2064+_0x556405(0x35c)+_0x2c8c2f+'\x22>('+_0x3b9683+_0x556405(0x5b7),_0x3185e6=_0x411cc4;else _0x22c44d?(_0x246b1a=_0x556405(0x9e0)+_0x51cde1+_0x556405(0x5a7)+_0x4017f4+_0x556405(0x2bb)+_0x2c8c2f+'\x22>'+_0x4017f4+_0x556405(0x67b)+_0x56368e+'\x20'+_0x224c58+'</div>',_0x3185e6=''):(_0x246b1a=_0x556405(0x9e0)+_0x51cde1+_0x556405(0x5a7)+_0x4017f4+_0x556405(0x2bb)+_0x2c8c2f+'\x22>'+_0x4017f4+_0x556405(0x67b)+_0x56368e+'\x20'+_0x224c58+'</div>',_0x3185e6=_0x411cc4);}}return _0x556405(0x6be)+_0x2ca0d1+_0x556405(0xdf2)+(_0xdb70d2+0x1)+_0x556405(0x625)+_0x246b1a+_0x556405(0xb7a)+_0x3185e6+_0x556405(0x75f);})['join'](''),_0x3e1485=_0x3e02c8[_0x12da80(0x86c)]((_0x1337f9,_0x5c7ce1)=>{const _0x238f04=_0x12da80;if(_0x153134&&_0x5c7ce1>_0x324b59||_0x22c44d)return'';const _0x38801f=_0x536c89[_0x238f04(0xd05)](_0x3451a6=>_0x3451a6[_0x238f04(0x1b8)]&&_0x3451a6[_0x238f04(0x1b8)][_0x238f04(0x5d9)](_0x585e53=>_0x585e53['questionIndex']===_0x5c7ce1&&_0x585e53[_0x238f04(0x8a)]))[_0x238f04(0xdbe)],_0x3f9edc=_0x5c7ce1===_0x324b59,_0x32a0d2=_0x3f9edc?_0x238f04(0x173):_0x238f04(0xbcb);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x32a0d2+_0x238f04(0xd9a)+(_0x5c7ce1+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x38801f+_0x238f04(0x6eb)+_0x3ba692+_0x238f04(0x36f);})[_0x12da80(0x15d)]('');let _0x4c58b4='',_0x4fe489='';if(_0x5864b7){const _0x4b275a=_0x568ec1===_0x12da80(0xba3)&&_0x2ee0d8[_0x12da80(0xd3d)]>=_0x3e02c8[_0x12da80(0xdbe)]-0x1,_0x57dd4b=_0x153134&&_0x2ee0d8['reviewQuestionIndex']>=_0x3e02c8[_0x12da80(0xdbe)]-0x1,_0xe4e7a3=_0x568ec1==='competition'&&_0x2ee0d8[_0x12da80(0xd3d)]>=_0x3e02c8['length']-0x1,_0x42c88e=_0x4e0588&&!_0x153134&&_0x2ee0d8[_0x12da80(0xd3d)]>=_0x3e02c8['length']-0x1;if(_0x153134)_0x57dd4b?_0x4e0588&&!_0x9f7e7e?_0x4c58b4='<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>':_0x4c58b4=_0x12da80(0x6a9):_0x4c58b4='<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';else _0x4b275a||_0xe4e7a3||_0x42c88e?_0x4e0588&&!_0x9f7e7e?_0x4c58b4=_0x12da80(0xbe4):_0x4c58b4=_0x12da80(0x6a9):_0x4c58b4=_0x12da80(0xf8);_0x4fe489=_0x12da80(0xa8f);}const _0x279a61=_0x22c44d||_0x4e0588&&!_0x2ee0d8[_0x12da80(0xa36)]?'':_0x12da80(0x1c0)+_0x3e1485+_0x12da80(0xa2d),_0x21796c=_0x22c44d||_0x4e0588&&!_0x2ee0d8[_0x12da80(0xa36)]?_0x12da80(0xc84):_0x12da80(0xc70),_0x2c2d1a=_0x12da80(0x956)+_0x2ee0d8[_0x12da80(0x953)][_0x12da80(0x1e8)]+_0x12da80(0xbc9)+_0x2ee0d8[_0x12da80(0x5db)]+_0x12da80(0x29d)+_0x4fe489+_0x12da80(0x900)+_0x2e9756+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x21796c+'\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x5a3b2d||_0x12da80(0x5b8))+_0x12da80(0x8cb)+_0x279a61+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5864b7?_0x12da80(0xc7b)+_0x4c58b4+_0x12da80(0x2fc):'')+_0x12da80(0x364);liveGameView[_0x12da80(0xc7e)]=_0x2c2d1a;if(window[_0x12da80(0xe2)]){const _0xb07a73=document['getElementById'](_0x12da80(0x307));_0xb07a73&&MathJax['typesetPromise']([_0xb07a73]);}if(_0x5864b7){const _0x242334=document[_0x12da80(0x3a5)]('next-sync-question-btn');_0x242334&&(_0x242334[_0x12da80(0x8d)]=async()=>{const _0x15806e=_0x12da80,_0x1b3d92=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x4a2861=_0x2ee0d8['currentQuestionIndex']+0x1,_0x5780a2=_0x2ee0d8['shuffledQuiz'][_0x15806e(0x1bc)]['length'];!_0x153134&&_0x4a2861<_0x5780a2?await updateDoc(_0x1b3d92,{'status':'question','currentQuestionIndex':_0x4a2861,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x1b3d92,{'status':_0x15806e(0x471)});});const _0x129b93=document[_0x12da80(0x3a5)](_0x12da80(0xd44));_0x129b93&&(_0x129b93['onclick']=async()=>{const _0x2b5e55=_0x12da80,_0x3eaad4=doc(db,_0x2b5e55(0x2b3)+appId+_0x2b5e55(0xa04),currentLiveGameId);await updateDoc(_0x3eaad4,{'reviewQuestionIndex':increment(0x1)});});document['getElementById'](_0x12da80(0xe0c))?.[_0x12da80(0x9f0)](_0x12da80(0x79c),async()=>{const _0x390108=_0x12da80;await updateDoc(doc(db,_0x390108(0x2b3)+appId+_0x390108(0xa04),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x50993c=document[_0x12da80(0x3a5)](_0x12da80(0x9b9));_0x50993c&&(_0x50993c[_0x12da80(0x8d)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x27f387=_0x3082;await updateDoc(doc(db,_0x27f387(0x2b3)+appId+_0x27f387(0xa04),currentLiveGameId),{'status':_0x27f387(0x471)});});});}}async function handleGenerateParallelFromBank(_0x2bf3a2){const _0x44237e=_0x4813c4,_0x84fd10=document['getElementById'](_0x44237e(0xb24)),_0x428bc6=document[_0x44237e(0x3a5)](_0x44237e(0x338));_0x428bc6['classList'][_0x44237e(0x483)](_0x44237e(0xc15));const _0x106c11=_0x44237e(0x6d1)+_0x2bf3a2[_0x44237e(0x1e8)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x84fd10[_0x44237e(0xe03)](_0x44237e(0xce8),_0x106c11);const _0x5c2a76=document[_0x44237e(0x3a5)](_0x44237e(0xc93));try{const _0x5036cc=_0x2bf3a2[_0x44237e(0x1bc)]['map']((_0x93190c,_0x167a9d)=>{const _0x2381cf=_0x44237e;let _0x564d50=_0x167a9d+0x1+'.\x20'+(_0x93190c['questionText']||_0x93190c[_0x2381cf(0xd4c)])+'\x0a';if(_0x93190c[_0x2381cf(0x7f6)])_0x564d50+=_0x93190c['options'][_0x2381cf(0x86c)]((_0x33a168,_0x5d19b5)=>_0x2381cf(0x771)+(_0x5d19b5===_0x93190c[_0x2381cf(0x54b)]?_0x2381cf(0x2c7):'')+'\x20'+_0x33a168)[_0x2381cf(0x15d)]('\x0a');else _0x93190c['idealAnswer']&&(_0x564d50+=_0x2381cf(0xb0a)+_0x93190c[_0x2381cf(0xd2d)]);return _0x564d50;})[_0x44237e(0x15d)]('\x0a\x0a');_0x5c2a76[_0x44237e(0xd68)]=_0x44237e(0xb76);const _0x2f4134=_0x44237e(0x3a2)+_0x2bf3a2[_0x44237e(0x1e8)]+_0x44237e(0xa68)+_0x5036cc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x44237e(0x893),_0x19aeaa={'type':'OBJECT','properties':{'questionText':{'type':_0x44237e(0x799)},'questionType':{'type':_0x44237e(0x799),'enum':[_0x44237e(0x260),_0x44237e(0x311),_0x44237e(0x162),_0x44237e(0x392)]},'options':{'type':'ARRAY','items':{'type':_0x44237e(0x799)}},'correctAnswerIndex':{'type':_0x44237e(0x29e)},'idealAnswer':{'type':_0x44237e(0x799)},'correctAnswer':{'type':_0x44237e(0xd7d)},'stem':{'type':_0x44237e(0x799)},'correctResponse':{'type':_0x44237e(0x799)},'allResponses':{'type':_0x44237e(0x7bb),'items':{'type':_0x44237e(0x799)}},'explanation':{'type':_0x44237e(0x799)},'imageCode':{'type':_0x44237e(0x799)}},'required':[_0x44237e(0x51d),_0x44237e(0x6dd)]},_0x2ba4a1={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x19aeaa}},'required':['topic',_0x44237e(0x1bc)]},_0x4d0455=await callAnalysisApi(_0x2f4134,_0x2ba4a1),_0x5a41c7=_0x4d0455['questions'][_0x44237e(0x86c)]((_0x4ecc6b,_0x5e676c)=>({..._0x4ecc6b,'id':'q_'+Date['now']()+'_'+_0x5e676c})),_0x247537=_0x44237e(0x64a)+_0x2bf3a2[_0x44237e(0x1e8)],_0x259801={'topic':_0x247537,'questions':_0x5a41c7,'quizType':_0x2bf3a2[_0x44237e(0xa34)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x44237e(0xb05)](),'status':_0x44237e(0xb9b),'settings':_0x2bf3a2[_0x44237e(0x436)],'quizMode':_0x44237e(0x2a0),'pairedQuizId':null,'lessonPlan':null};let _0x11ca0c;while(!![]){_0x11ca0c=Math[_0x44237e(0x304)](0x3e8+Math[_0x44237e(0x89e)]()*0x2328)[_0x44237e(0x101)]();const _0x392c4e=await getDoc(doc(db,'artifacts/'+appId+_0x44237e(0x60d),_0x11ca0c));if(!_0x392c4e['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x44237e(0x60d),_0x11ca0c),_0x259801),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x485068){console[_0x44237e(0xabd)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x485068),showMessage(_0x44237e(0xa6c)+_0x485068[_0x44237e(0xbd0)]);}finally{const _0x1dd3aa=document[_0x44237e(0x3a5)](_0x44237e(0xa6e));_0x1dd3aa&&_0x1dd3aa['remove'](),_0x428bc6[_0x44237e(0xcde)][_0x44237e(0xa30)]('hidden');}}async function handleGenerateParallelPostTest(_0x565b7d){const _0x9bdd2b=_0x4813c4,_0xc5ccb5=document[_0x9bdd2b(0x3a5)](_0x9bdd2b(0xb24)),_0x4762de=document[_0x9bdd2b(0x3a5)](_0x9bdd2b(0x338));_0x4762de[_0x9bdd2b(0xcde)][_0x9bdd2b(0x483)](_0x9bdd2b(0xc15));const _0x36702a=_0x9bdd2b(0x743);_0xc5ccb5['insertAdjacentHTML'](_0x9bdd2b(0xce8),_0x36702a);try{const _0x3f670f=_0x565b7d['questions']['map']((_0x2f616c,_0x476688)=>{const _0x4a7a0b=_0x9bdd2b;let _0x51d330=_0x476688+0x1+'.\x20'+(_0x2f616c[_0x4a7a0b(0x929)]||_0x2f616c['stem']);if(_0x2f616c[_0x4a7a0b(0x7f6)])_0x51d330+=_0x4a7a0b(0x78f)+_0x2f616c['options']['join'](',\x20');return _0x51d330;})[_0x9bdd2b(0x15d)]('\x0a\x0a'),_0x342fc4=_0x9bdd2b(0x814)+_0x565b7d[_0x9bdd2b(0x1e8)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f670f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c944c={'type':_0x9bdd2b(0xb09),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x9bdd2b(0x7bb),'items':{'type':_0x9bdd2b(0xb09),'properties':{'questionText':{'type':_0x9bdd2b(0x799)},'questionType':{'type':'STRING'},'options':{'type':_0x9bdd2b(0x7bb),'items':{'type':_0x9bdd2b(0x799)}},'correctAnswerIndex':{'type':_0x9bdd2b(0x29e)},'idealAnswer':{'type':_0x9bdd2b(0x799)},'explanation':{'type':_0x9bdd2b(0x799)}},'required':[_0x9bdd2b(0x929),'explanation']}}},'required':[_0x9bdd2b(0x1e8),_0x9bdd2b(0x1bc)]},_0x314e2f=await callAnalysisApi(_0x342fc4,_0x2c944c),_0x1a2d0e=_0x565b7d['topic'][_0x9bdd2b(0x94b)](_0x9bdd2b(0xee),'')['trim'](),_0x5e5fc7=_0x9bdd2b(0xcce)+_0x1a2d0e,_0xf9f146={..._0x314e2f,'topic':_0x5e5fc7,'quizType':_0x565b7d[_0x9bdd2b(0xa34)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x9bdd2b(0xb05)](),'status':_0x9bdd2b(0xb9b),'settings':_0x565b7d['settings'],'quizMode':_0x9bdd2b(0x2b1),'pairedQuizId':_0x565b7d['id']};let _0xe15c6f;while(!![]){_0xe15c6f=Math[_0x9bdd2b(0x304)](0x3e8+Math['random']()*0x2328)['toString']();const _0x2e41de=await getDoc(doc(db,_0x9bdd2b(0x2b3)+appId+'/public/data/quizzes',_0xe15c6f));if(!_0x2e41de[_0x9bdd2b(0x3ea)]())break;}await setDoc(doc(db,_0x9bdd2b(0x2b3)+appId+'/public/data/quizzes',_0xe15c6f),_0xf9f146);const _0x35129b=doc(db,_0x9bdd2b(0x2b3)+appId+_0x9bdd2b(0x60d),_0x565b7d['id']);await updateDoc(_0x35129b,{'pairedQuizId':_0xe15c6f}),showMessage(_0x9bdd2b(0x78d));}catch(_0x38a078){console['error']('Error\x20generating\x20parallel\x20post-test:',_0x38a078),showMessage(_0x9bdd2b(0xa6c)+_0x38a078[_0x9bdd2b(0xbd0)]);}finally{const _0x4a0a58=document[_0x9bdd2b(0x3a5)](_0x9bdd2b(0xa6e));if(_0x4a0a58)_0x4a0a58[_0x9bdd2b(0xa30)]();_0x4762de['classList'][_0x9bdd2b(0xa30)](_0x9bdd2b(0xc15));}}async function handleGenerateParallelTest(_0x69460f=null){const _0x3b65b8=_0x4813c4;let _0x16dcd0=_0x69460f;if(!_0x16dcd0){const _0x3724a7=document[_0x3b65b8(0x3a5)](_0x3b65b8(0x8d8));_0x3724a7['files'][_0x3b65b8(0xdbe)]>0x0&&(_0x16dcd0=_0x3724a7[_0x3b65b8(0x6f2)][0x0]);}if(!_0x16dcd0){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x1b0c4d=document[_0x3b65b8(0x3a5)]('loader'),_0x4a7c79=document[_0x3b65b8(0x3a5)](_0x3b65b8(0x3ba)),_0x49d6e3=document['getElementById'](_0x3b65b8(0x7f9)),_0x5f241e=document[_0x3b65b8(0x3a5)](_0x3b65b8(0xaf8));_0x5f241e[_0x3b65b8(0x88c)]=!![],document[_0x3b65b8(0x3a5)]('quiz-generation-area')['classList'][_0x3b65b8(0xa30)](_0x3b65b8(0xc15)),_0x49d6e3['innerHTML']='',_0x1b0c4d[_0x3b65b8(0xcde)]['remove'](_0x3b65b8(0xc15)),_0x4a7c79[_0x3b65b8(0xd68)]=_0x3b65b8(0xbf6);const _0x3f377e=new FileReader();_0x3f377e['readAsDataURL'](_0x16dcd0),_0x3f377e[_0x3b65b8(0xc99)]=async()=>{const _0x206867=_0x3b65b8;try{const _0x324e37=_0x3f377e[_0x206867(0xb8)][_0x206867(0xa6a)](',')[0x1],_0x24b0bc=_0x16dcd0[_0x206867(0x680)];_0x4a7c79[_0x206867(0xd68)]=_0x206867(0xa42);const _0x53ccb0=document[_0x206867(0x3a5)](_0x206867(0x4a1))[_0x206867(0x2e0)],_0x1fc8fb=_0x53ccb0?_0x206867(0xb4f):'',_0x4fd526=_0x206867(0xd92),_0x1671b0={'type':_0x206867(0xb09),'properties':{'questionText':{'type':_0x206867(0x799)},'questionType':{'type':_0x206867(0x799),'enum':[_0x206867(0x260),_0x206867(0x311)]},'options':{'type':_0x206867(0x7bb),'items':{'type':_0x206867(0x799)}},'correctAnswerIndex':{'type':_0x206867(0x29e)},'idealAnswer':{'type':_0x206867(0x799)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x206867(0x799)}},'required':[_0x206867(0x929),_0x206867(0x51d),_0x206867(0x6dd)]},_0x3df3f9={'type':_0x206867(0xb09),'properties':{'topic':{'type':_0x206867(0x799)},'questions':{'type':_0x206867(0x7bb),'items':_0x1671b0}},'required':[_0x206867(0x1e8),_0x206867(0x1bc)]},_0x317900=[{'text':_0x4fd526},{'inlineData':{'mimeType':_0x24b0bc,'data':_0x324e37}}];await handleApiCall(_0x317900,_0x206867(0xda7),_0x3df3f9);}catch(_0x33e07e){console[_0x206867(0xabd)](_0x206867(0xd9c),_0x33e07e),showMessage(_0x206867(0xa6c)+_0x33e07e[_0x206867(0xbd0)]),_0x49d6e3['innerHTML']=_0x206867(0x5f4);}finally{_0x1b0c4d[_0x206867(0xcde)][_0x206867(0x483)]('hidden'),_0x5f241e[_0x206867(0x88c)]=![];}},_0x3f377e[_0x3b65b8(0x46e)]=_0x3a6ec7=>{const _0x4a22e1=_0x3b65b8;console['error'](_0x4a22e1(0xbb6),_0x3a6ec7),showMessage(_0x4a22e1(0x1f1)),_0x1b0c4d['classList']['add']('hidden'),_0x5f241e['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x779b42){const _0x265c7f=_0x4813c4;if(currentEditingQuizData===null)return;const _0x4eea87=document[_0x265c7f(0x169)](_0x265c7f(0xcc1)+_0x779b42+'\x22]');_0x4eea87&&(_0x4eea87[_0x265c7f(0xc7e)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x2dba5d=currentEditingQuizData['questions'][_0x779b42],_0x4cca6c=currentEditingQuizData['topic'],_0x4750a5=_0x2dba5d['questionType'],_0x387120={'type':_0x265c7f(0xb09),'properties':{'questionText':{'type':_0x265c7f(0x799)},'options':{'type':_0x265c7f(0x7bb),'items':{'type':_0x265c7f(0x799)}},'correctAnswerIndex':{'type':_0x265c7f(0x29e)},'explanation':{'type':_0x265c7f(0x799)}},'required':[_0x265c7f(0x929),_0x265c7f(0x7f6),_0x265c7f(0x54b),_0x265c7f(0x6dd)]},_0x4df1af={'type':_0x265c7f(0xb09),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x265c7f(0x799)},'explanation':{'type':_0x265c7f(0x799)}},'required':[_0x265c7f(0x929),_0x265c7f(0xd2d),_0x265c7f(0x6dd)]};let _0x1614aa,_0x2e9bb5='';_0x4750a5===_0x265c7f(0x260)?(_0x1614aa=_0x387120,_0x2e9bb5=_0x265c7f(0x516)):(_0x1614aa=_0x4df1af,_0x2e9bb5=_0x265c7f(0x1d3));const _0x19847d=_0x265c7f(0x393)+_0x4cca6c+_0x265c7f(0x15c)+_0x2e9bb5+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x2dba5d[_0x265c7f(0x929)]||_0x2dba5d['stem'])+_0x265c7f(0x92e)+simpleMathPrompt;try{const _0x5e509e=await callAnalysisApi(_0x19847d,_0x1614aa);currentEditingQuizData[_0x265c7f(0x1bc)][_0x779b42]={..._0x2dba5d,..._0x5e509e},renderQuizEditor(currentEditingQuizData);}catch(_0x575cff){console[_0x265c7f(0xabd)](_0x265c7f(0x6d7),_0x575cff),showMessage(_0x265c7f(0x143)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xdcc050=_0x4813c4,_0xfd13ab=document[_0xdcc050(0x3a5)](_0xdcc050(0xa7c));currentMode===_0xdcc050(0x6e2)?(currentMode=_0xdcc050(0xa16),_0xfd13ab[_0xdcc050(0xc7e)]=_0xdcc050(0xc04),_0xfd13ab['title']='สลับไปโหมดนักเรียน',showView(_0xdcc050(0x50b))):(currentMode=_0xdcc050(0x6e2),_0xfd13ab[_0xdcc050(0xc7e)]=_0xdcc050(0x235),_0xfd13ab['title']=_0xdcc050(0x1a5),showView(_0xdcc050(0x6e2)));}function handleAdminLogin(){const _0x3ab5e5=_0x4813c4,_0x3de90a=document[_0x3ab5e5(0x3a5)]('admin-password-input'),_0x852d4d=document[_0x3ab5e5(0x3a5)](_0x3ab5e5(0xdc6));if(_0x3de90a[_0x3ab5e5(0x909)]===_0x3ab5e5(0x322)){adminPasswordModal[_0x3ab5e5(0xcde)]['add'](_0x3ab5e5(0xc15)),_0x3de90a[_0x3ab5e5(0x909)]='',_0x852d4d['classList'][_0x3ab5e5(0x483)](_0x3ab5e5(0xc15)),currentMode=_0x3ab5e5(0xa16);const _0xbe7c6d=document[_0x3ab5e5(0x3a5)](_0x3ab5e5(0xa7c));_0xbe7c6d['innerHTML']=_0x3ab5e5(0xc04),_0xbe7c6d['title']=_0x3ab5e5(0xa80),showView(_0x3ab5e5(0x50b));}else _0x852d4d[_0x3ab5e5(0xcde)]['remove'](_0x3ab5e5(0xc15)),_0x3de90a[_0x3ab5e5(0x909)]='';}function switchProjectTab(_0x4d4ea9){const _0x29f604=_0x4813c4;[_0x29f604(0x4f6),_0x29f604(0x53f),_0x29f604(0x522)][_0x29f604(0x140)](_0x2f4d70=>{const _0x4f6f82=_0x29f604;document['getElementById'](_0x2f4d70+_0x4f6f82(0x78a))[_0x4f6f82(0xcde)][_0x4f6f82(0xa30)](_0x4f6f82(0xb9b)),document[_0x4f6f82(0x3a5)](_0x2f4d70+_0x4f6f82(0x67c))[_0x4f6f82(0xcde)][_0x4f6f82(0x483)](_0x4f6f82(0xc15));}),document[_0x29f604(0x3a5)](_0x4d4ea9+_0x29f604(0x78a))[_0x29f604(0xcde)]['add'](_0x29f604(0xb9b)),document['getElementById'](_0x4d4ea9+'-tab-content')[_0x29f604(0xcde)][_0x29f604(0xa30)]('hidden');}function switchQuizDetailTab(_0x566d0d){const _0x4d1aa4=_0x4813c4,_0x17195e={'analytics':{'btn':_0x4d1aa4(0x738),'content':_0x4d1aa4(0x818)},'scores':{'btn':_0x4d1aa4(0x910),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x4d1aa4(0x9b1)},'behavior-log':{'btn':_0x4d1aa4(0x963),'content':'behavior-log-tab-content'}};for(const _0x1f6023 in _0x17195e){document[_0x4d1aa4(0x3a5)](_0x17195e[_0x1f6023]['btn'])[_0x4d1aa4(0xcde)][_0x4d1aa4(0xa30)](_0x4d1aa4(0xb9b)),document['getElementById'](_0x17195e[_0x1f6023][_0x4d1aa4(0x485)])['classList'][_0x4d1aa4(0x483)](_0x4d1aa4(0xc15));}document[_0x4d1aa4(0x3a5)](_0x17195e[_0x566d0d]['btn'])[_0x4d1aa4(0xcde)][_0x4d1aa4(0x483)](_0x4d1aa4(0xb9b)),document[_0x4d1aa4(0x3a5)](_0x17195e[_0x566d0d]['content'])[_0x4d1aa4(0xcde)][_0x4d1aa4(0xa30)](_0x4d1aa4(0xc15));}function showMessage(_0x2e26ba,_0x443538=null){const _0x3b6412=_0x4813c4;modalMessage[_0x3b6412(0xc7e)]=_0x2e26ba[_0x3b6412(0x94b)](/\n/g,_0x3b6412(0xa5e)),modalConfirmAction=_0x443538,messageModal[_0x3b6412(0xcde)][_0x3b6412(0xa30)](_0x3b6412(0xc15));}function showConfirmation(_0x4a1612,_0x151696,_0x55f85=null){const _0x11b7f6=_0x4813c4;document[_0x11b7f6(0x3a5)](_0x11b7f6(0x5b2))[_0x11b7f6(0xd68)]=_0x4a1612,document[_0x11b7f6(0x3a5)]('confirmation-modal')['querySelector']('h3')['textContent']=_0x11b7f6(0x186),confirmAction=_0x151696,cancelAction=_0x55f85,confirmationModal[_0x11b7f6(0xcde)][_0x11b7f6(0xa30)](_0x11b7f6(0xc15));}function listenForProjects(){const _0x422adf=_0x4813c4,_0x5cc69c=doc(db,'globalSettings',_0x422adf(0xbfe));onSnapshot(_0x5cc69c,_0x25f8df=>{const _0x4527c7=_0x422adf;if(_0x25f8df[_0x4527c7(0x3ea)]()){const _0x4a4f50=_0x25f8df[_0x4527c7(0x1ea)]();globalDashboardSettings[_0x4527c7(0x9f4)]=_0x4a4f50[_0x4527c7(0x9f4)]||_0x4527c7(0x74a),globalDashboardSettings[_0x4527c7(0x9ab)]=_0x4a4f50[_0x4527c7(0x9ab)]||[],globalDashboardSettings[_0x4527c7(0xfd)]=_0x4a4f50[_0x4527c7(0xfd)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x15072a=collection(db,'artifacts/'+appId+_0x422adf(0xa9c));unsubscribeProjectsListener=onSnapshot(_0x15072a,_0x2906fe=>{const _0x3aa512=_0x422adf;allProjects=_0x2906fe['docs'][_0x3aa512(0x86c)](_0x109723=>({'id':_0x109723['id'],..._0x109723[_0x3aa512(0x1ea)]()})),renderProjects();},_0x5c6a8b=>{const _0x547f73=_0x422adf;console[_0x547f73(0xabd)](_0x547f73(0xaf),_0x5c6a8b),showMessage(_0x547f73(0xc4e));});}function showColorPalette(_0x613dcc,_0x5b8175){const _0x1d5815=_0x4813c4;document[_0x1d5815(0x660)](_0x1d5815(0x932))[_0x1d5815(0x140)](_0x5568b0=>_0x5568b0[_0x1d5815(0xa30)]());const _0x5b9393=[_0x1d5815(0x748),_0x1d5815(0x508),_0x1d5815(0xcd7),'#D1FAE5','#DBEAFE',_0x1d5815(0x48f),_0x1d5815(0xd34),_0x1d5815(0x4b4),_0x1d5815(0x671)],_0x45419b=document[_0x1d5815(0xb46)](_0x1d5815(0xae0));_0x45419b['className']=_0x1d5815(0x987),_0x5b9393[_0x1d5815(0x140)](_0x28ae8a=>{const _0x2566e4=_0x1d5815,_0x5730d0=document[_0x2566e4(0xb46)](_0x2566e4(0xae0));_0x5730d0[_0x2566e4(0x16b)]=_0x2566e4(0x1f2),_0x5730d0[_0x2566e4(0x40d)][_0x2566e4(0xca0)]=_0x28ae8a,_0x5730d0[_0x2566e4(0x9f0)](_0x2566e4(0x79c),()=>{const _0x361ef1=_0x2566e4;handleProjectColorChange(_0x5b8175,_0x28ae8a),_0x45419b[_0x361ef1(0xa30)]();}),_0x45419b['appendChild'](_0x5730d0);}),document[_0x1d5815(0x281)]['appendChild'](_0x45419b);const _0x5aabb1=_0x613dcc['getBoundingClientRect']();_0x45419b[_0x1d5815(0x40d)][_0x1d5815(0x3ef)]=_0x5aabb1[_0x1d5815(0x8f2)]+window[_0x1d5815(0x8a9)]+'px',_0x45419b[_0x1d5815(0x40d)][_0x1d5815(0x56f)]=_0x5aabb1['left']+window[_0x1d5815(0x53e)]-_0x45419b[_0x1d5815(0x4ec)]/0x2+'px';}async function handleProjectColorChange(_0x240f4a,_0x3cef8c){const _0x5c11a5=_0x4813c4,_0x17b776=doc(db,'artifacts/'+appId+'/public/data/projects',_0x240f4a);try{await updateDoc(_0x17b776,{'color':_0x3cef8c});}catch(_0x4cba9f){console[_0x5c11a5(0xabd)](_0x5c11a5(0x8fd),_0x4cba9f),showMessage(_0x5c11a5(0x540));}}async function renderProjects(){const _0x5ad772=_0x4813c4,_0x400917=globalDashboardSettings['projectSort']||_0x5ad772(0x74a),_0x4d9b27=new Set(globalDashboardSettings[_0x5ad772(0x9ab)]||[]),_0x4d7d00=globalDashboardSettings['projectView']||'grid',_0x118697=document[_0x5ad772(0x3a5)]('grid-view-btn'),_0x5f3e7d=document[_0x5ad772(0x3a5)](_0x5ad772(0x19c));_0x118697['classList'][_0x5ad772(0x1a2)](_0x5ad772(0xb9b),_0x4d7d00===_0x5ad772(0x4b3)),_0x5f3e7d['classList']['toggle'](_0x5ad772(0xb9b),_0x4d7d00===_0x5ad772(0xa66)),document[_0x5ad772(0x3a5)](_0x5ad772(0x3ee))[_0x5ad772(0x909)]=_0x400917;const _0x100ca7=document[_0x5ad772(0x3a5)](_0x5ad772(0xbe7))[_0x5ad772(0x909)][_0x5ad772(0x7c4)]();let _0x4da002=allProjects['filter'](_0xbddbd9=>_0xbddbd9[_0x5ad772(0x821)][_0x5ad772(0x7c4)]()[_0x5ad772(0xc4f)](_0x100ca7));const _0x1812c5=_0x4da002['filter'](_0x39692e=>_0x4d9b27['has'](_0x39692e['id'])),_0x497404=_0x4da002[_0x5ad772(0xd05)](_0x22bea5=>!_0x4d9b27[_0x5ad772(0x394)](_0x22bea5['id'])),_0x5a5365=(_0x28b9ed,_0x4b35ea)=>{const _0x52dec6=_0x5ad772;switch(_0x400917){case'name_asc':return _0x28b9ed[_0x52dec6(0x821)][_0x52dec6(0x5f6)](_0x4b35ea[_0x52dec6(0x821)],'th');case'name_desc':return _0x4b35ea[_0x52dec6(0x821)][_0x52dec6(0x5f6)](_0x28b9ed[_0x52dec6(0x821)],'th');case _0x52dec6(0x3ce):return new Date(_0x28b9ed[_0x52dec6(0x9f7)])-new Date(_0x4b35ea[_0x52dec6(0x9f7)]);default:return new Date(_0x4b35ea[_0x52dec6(0x9f7)])-new Date(_0x28b9ed[_0x52dec6(0x9f7)]);}};_0x1812c5[_0x5ad772(0x9a1)](_0x5a5365),_0x497404[_0x5ad772(0x9a1)](_0x5a5365);const _0x4ec0a8=[..._0x1812c5,..._0x497404],_0x34e881=globalDashboardSettings[_0x5ad772(0xfd)]||[];_0x34e881[_0x5ad772(0xdbe)]>0x0&&_0x4d7d00===_0x5ad772(0x4b3)&&_0x4ec0a8[_0x5ad772(0x9a1)]((_0x30052c,_0x4a99ca)=>{const _0x38f9a4=_0x5ad772,_0x52e51b=_0x34e881[_0x38f9a4(0x513)](_0x30052c['id']),_0x49cca3=_0x34e881[_0x38f9a4(0x513)](_0x4a99ca['id']);if(_0x52e51b===-0x1)return 0x1;if(_0x49cca3===-0x1)return-0x1;return _0x52e51b-_0x49cca3;});const _0xd787ca={};await Promise[_0x5ad772(0xa19)](_0x4ec0a8[_0x5ad772(0x86c)](async _0x4bd7dd=>{const _0x35d5da=_0x5ad772,_0x435c82=query(collection(db,_0x35d5da(0x2b3)+appId+_0x35d5da(0x60d)),where(_0x35d5da(0xb91),'==',_0x4bd7dd['id'])),_0x24f85c=await getDocs(_0x435c82);_0xd787ca[_0x4bd7dd['id']]=_0x24f85c['size'];}));const _0x58b093=document[_0x5ad772(0x3a5)](_0x5ad772(0x9b7));let _0x1acb1f='';if(_0x4d7d00===_0x5ad772(0x4b3)){_0x58b093[_0x5ad772(0x16b)]=_0x5ad772(0xa43);if(starredQuizzes[_0x5ad772(0xdbe)]>0x0&&_0x100ca7===''){const _0x6427e3=starredQuizzes[_0x5ad772(0x86c)](_0x22cb7c=>{const _0x50ba5a=_0x5ad772,_0x111511=allProjects[_0x50ba5a(0x5d9)](_0x117c08=>_0x117c08['id']===_0x22cb7c['projectId']);return{..._0x22cb7c,'projectName':_0x111511?_0x111511[_0x50ba5a(0x821)]:'N/A'};});_0x1acb1f+=_0x5ad772(0xd8e)+_0x6427e3[_0x5ad772(0x86c)](_0x3963db=>_0x5ad772(0x916)+_0x3963db[_0x5ad772(0x1e8)]+'\x22>'+_0x3963db[_0x5ad772(0x1e8)]+_0x5ad772(0xc02)+_0x3963db['projectName']+_0x5ad772(0xc40)+_0x3963db[_0x5ad772(0x821)]+_0x5ad772(0x4eb))[_0x5ad772(0x15d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x5ad772(0xdbe)]+_0x5ad772(0xccf);}_0x4ec0a8[_0x5ad772(0x140)](_0x1f1066=>{const _0x4cb928=_0x5ad772,_0x1e746e=_0xd787ca[_0x1f1066['id']]??0x0,_0x93df80=_0x4d9b27[_0x4cb928(0x394)](_0x1f1066['id']),_0x105046=_0x1f1066[_0x4cb928(0x18d)]||_0x4cb928(0x748),_0x1395cd=parseInt(_0x105046[_0x4cb928(0x55a)](0x1,0x3),0x10)*0.299+parseInt(_0x105046[_0x4cb928(0x55a)](0x3,0x5),0x10)*0.587+parseInt(_0x105046[_0x4cb928(0x55a)](0x5,0x7),0x10)*0.114<0xba,_0x42c26b=_0x1395cd?_0x4cb928(0xe14):_0x4cb928(0xb63),_0x17f98d=_0x1395cd?_0x4cb928(0x6aa):_0x4cb928(0xa3a);_0x1acb1f+=_0x4cb928(0xd3f)+(_0x93df80?_0x4cb928(0xb96):_0x4cb928(0x8ed))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x105046+_0x4cb928(0x67d)+_0x1f1066['id']+_0x4cb928(0xe27)+_0x1f1066['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x1395cd?'text-gray-300\x20hover:text-white':_0x4cb928(0xc5))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1f1066['id']+_0x4cb928(0x7a9)+(_0x1395cd?'text-gray-300\x20hover:text-white':_0x4cb928(0xc5))+_0x4cb928(0xc85)+(_0x93df80?_0x1395cd?_0x4cb928(0x5e0):_0x4cb928(0x115):'')+_0x4cb928(0xc16)+_0x1f1066['id']+_0x4cb928(0xd2e)+_0x42c26b+_0x4cb928(0x1e4)+_0x1f1066[_0x4cb928(0x821)]+_0x4cb928(0x4d7)+_0x17f98d+_0x4cb928(0xc8e)+new Date(_0x1f1066['createdAt'])[_0x4cb928(0xcb2)](_0x4cb928(0xbf))+_0x4cb928(0x99c)+(_0x1395cd?_0x4cb928(0x9df):_0x4cb928(0xb15))+_0x4cb928(0x842)+_0x1e746e+_0x4cb928(0xa3f)+_0x1f1066['id']+_0x4cb928(0x61f)+_0x1f1066[_0x4cb928(0x821)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x1395cd?_0x4cb928(0xa70):_0x4cb928(0x6bd))+_0x4cb928(0x836);});}else _0x58b093[_0x5ad772(0x16b)]=_0x5ad772(0xa0a),starredQuizzes[_0x5ad772(0xdbe)]>0x0&&_0x100ca7===''&&(_0x1acb1f+=_0x5ad772(0x165)+starredQuizzes[_0x5ad772(0xdbe)]+_0x5ad772(0x35d)),_0x1acb1f+=_0x5ad772(0x178),_0x4ec0a8[_0x5ad772(0x140)](_0x383556=>{const _0x4db864=_0x5ad772,_0x4c4a84=_0xd787ca[_0x383556['id']]??0x0,_0x4c4afc=_0x4d9b27['has'](_0x383556['id']);_0x1acb1f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x383556[_0x4db864(0x18d)]||_0x4db864(0x671))+_0x4db864(0xabf)+_0x383556['id']+_0x4db864(0xb44)+_0x383556['projectName']+_0x4db864(0x421)+_0x4c4a84+_0x4db864(0x57d)+new Date(_0x383556['createdAt'])['toLocaleString'](_0x4db864(0xbf))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x383556['id']+_0x4db864(0xa0)+(_0x4c4afc?_0x4db864(0x115):'')+_0x4db864(0x290)+_0x383556['id']+_0x4db864(0x61f)+_0x383556[_0x4db864(0x821)]+_0x4db864(0x185);});projectList[_0x5ad772(0xc7e)]=_0x1acb1f,noProjectsMsg[_0x5ad772(0xcde)]['toggle'](_0x5ad772(0xc15),_0x1acb1f['length']>0x0);}document['getElementById'](_0x4813c4(0x9e9))[_0x4813c4(0x9f0)]('click',async()=>{const _0x4fc3f4=_0x4813c4,_0x15f74d=document[_0x4fc3f4(0x3a5)](_0x4fc3f4(0x63b)),_0x2c7e9f=_0x15f74d[_0x4fc3f4(0x909)]['trim']();if(!_0x2c7e9f){showMessage(_0x4fc3f4(0xcf1));return;}try{const _0x27e928=doc(collection(db,'artifacts/'+appId+_0x4fc3f4(0xa9c)));await setDoc(_0x27e928,{'projectName':_0x2c7e9f,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x4fc3f4(0xa8c),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x4fc3f4(0xa8c),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x4fc3f4(0xb05)]()}),_0x15f74d[_0x4fc3f4(0x909)]='',createProjectModal[_0x4fc3f4(0xcde)][_0x4fc3f4(0x483)](_0x4fc3f4(0xc15)),showMessage(_0x4fc3f4(0xa5));}catch(_0xeaa47f){console['error'](_0x4fc3f4(0xa3c),_0xeaa47f),showMessage(_0x4fc3f4(0x73e));}}),projectList[_0x4813c4(0x9f0)](_0x4813c4(0x79c),async _0x144f2d=>{const _0x2a95e2=_0x4813c4,_0x54a65b=_0x144f2d[_0x2a95e2(0x940)][_0x2a95e2(0x5f8)](_0x2a95e2(0xd35)),_0x369585=_0x144f2d['target'][_0x2a95e2(0x5f8)](_0x2a95e2(0xbed)),_0x3e47ff=_0x144f2d[_0x2a95e2(0x940)][_0x2a95e2(0x5f8)](_0x2a95e2(0xb7e)),_0x5a94c4=_0x144f2d[_0x2a95e2(0x940)][_0x2a95e2(0x5f8)](_0x2a95e2(0x117));if(_0x3e47ff){const _0x41b680=_0x3e47ff[_0x2a95e2(0x315)]['id'],_0x49d7ba=doc(db,_0x2a95e2(0xb67),_0x2a95e2(0xbfe)),_0x24d03f=globalDashboardSettings[_0x2a95e2(0x9ab)];let _0x46ad3a;_0x24d03f[_0x2a95e2(0xc4f)](_0x41b680)?_0x46ad3a=_0x24d03f[_0x2a95e2(0xd05)](_0x2668f3=>_0x2668f3!==_0x41b680):_0x46ad3a=[..._0x24d03f,_0x41b680];try{await setDoc(_0x49d7ba,{'pinnedProjects':_0x46ad3a},{'merge':!![]});}catch(_0x46d2cd){console[_0x2a95e2(0xabd)](_0x2a95e2(0x87f),_0x46d2cd),showMessage(_0x2a95e2(0xd90));}}else{if(_0x5a94c4){const _0x42a18c=_0x5a94c4[_0x2a95e2(0x315)]['id'];showColorPalette(_0x5a94c4,_0x42a18c);}else{if(_0x54a65b){const _0x2a0528=_0x54a65b[_0x2a95e2(0x315)]['id'];_0x2a0528===_0x2a95e2(0xdeb)?showStarredProjectView():(currentProjectId=_0x2a0528,await loadProjectDetails(currentProjectId),showView(_0x2a95e2(0x623)));}else{if(_0x369585){const _0x461f9b=_0x369585[_0x2a95e2(0x315)]['id'],_0x39119b=_0x369585[_0x2a95e2(0x315)][_0x2a95e2(0x4a4)];showConfirmation(_0x2a95e2(0x457)+_0x39119b+_0x2a95e2(0xe02),()=>handleDeleteProject(_0x461f9b));}}}}}),projectList[_0x4813c4(0x9f0)](_0x4813c4(0xdc7),_0x4ea29f=>{const _0x4e87d6=_0x4813c4,_0x457df0=_0x4ea29f[_0x4e87d6(0x940)][_0x4e87d6(0x5f8)](_0x4e87d6(0xa35));_0x457df0&&_0x457df0[_0x4e87d6(0xcde)][_0x4e87d6(0x483)](_0x4e87d6(0x3b9));}),projectList[_0x4813c4(0x9f0)](_0x4813c4(0xbef),_0x1fcae8=>{const _0x5dfd49=_0x4813c4,_0x55d012=_0x1fcae8['target']['closest'](_0x5dfd49(0xa35));_0x55d012&&_0x55d012[_0x5dfd49(0xcde)][_0x5dfd49(0xa30)](_0x5dfd49(0x3b9));}),projectList[_0x4813c4(0x9f0)](_0x4813c4(0x3f9),_0x5ed642=>{const _0x436687=_0x4813c4;_0x5ed642[_0x436687(0xb49)]();const _0x14842f=document[_0x436687(0x169)](_0x436687(0x9bf));if(!_0x14842f)return;const _0x43c981=getDragAfterElement(projectList,_0x5ed642[_0x436687(0xaca)]);_0x43c981==null?projectList[_0x436687(0xaf7)](_0x14842f):projectList[_0x436687(0xdc9)](_0x14842f,_0x43c981);}),projectList[_0x4813c4(0x9f0)](_0x4813c4(0xb95),_0x581b2e=>{const _0x583645=_0x4813c4;_0x581b2e[_0x583645(0xb49)]();const _0x5f4582=[...projectList[_0x583645(0x660)]('.project-card-container[data-id]')][_0x583645(0x86c)](_0x302ac8=>_0x302ac8[_0x583645(0x315)]['id']);saveProjectOrder(_0x5f4582);});function renderBehaviorLog(_0x1707cd){const _0x5b2c95=_0x4813c4,_0x425f9d=document['getElementById'](_0x5b2c95(0xd9e));if(!_0x425f9d)return;const _0x4609f4=_0x1707cd[_0x5b2c95(0xd05)](_0xbbfc39=>_0xbbfc39[_0x5b2c95(0x54f)]&&_0xbbfc39[_0x5b2c95(0x54f)][_0x5b2c95(0xdbe)]>0x0);if(_0x4609f4[_0x5b2c95(0xdbe)]===0x0){_0x425f9d[_0x5b2c95(0xc7e)]=_0x5b2c95(0x226);return;}let _0x1f2379='';_0x4609f4[_0x5b2c95(0x140)](_0x2c3236=>{const _0x1bb35f=_0x5b2c95;_0x1f2379+=_0x1bb35f(0xd74)+_0x2c3236[_0x1bb35f(0x1af)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c3236[_0x1bb35f(0x54f)][_0x1bb35f(0x9a1)]((_0x34a029,_0x43738e)=>new Date(_0x43738e[_0x1bb35f(0x5fe)])-new Date(_0x34a029['timestamp']))[_0x1bb35f(0x140)](_0x3a0b6e=>{const _0x24806a=_0x1bb35f,_0x45dba4=new Date(_0x3a0b6e[_0x24806a(0x5fe)])[_0x24806a(0xe1)](_0x24806a(0xbf),{'dateStyle':'short','timeStyle':_0x24806a(0x4b0)});_0x1f2379+=_0x24806a(0x4b2)+_0x3a0b6e[_0x24806a(0x5ca)]+_0x24806a(0xced)+_0x45dba4+_0x24806a(0x1ac);}),_0x1f2379+=_0x1bb35f(0x35a);}),_0x425f9d['innerHTML']=_0x1f2379;}function getDragAfterElement(_0x38aba0,_0x11dc15){const _0x2e6632=_0x4813c4,_0x3bc804=[..._0x38aba0[_0x2e6632(0x660)](_0x2e6632(0x8d4))];return _0x3bc804['reduce']((_0x8b46dc,_0x1868f9)=>{const _0x4ba903=_0x2e6632,_0x572c70=_0x1868f9[_0x4ba903(0x880)](),_0x2bd5dd=_0x11dc15-_0x572c70[_0x4ba903(0x3ef)]-_0x572c70[_0x4ba903(0x65f)]/0x2;return _0x2bd5dd<0x0&&_0x2bd5dd>_0x8b46dc[_0x4ba903(0x840)]?{'offset':_0x2bd5dd,'element':_0x1868f9}:_0x8b46dc;},{'offset':Number['NEGATIVE_INFINITY']})[_0x2e6632(0x524)];}async function saveProjectOrder(_0x2c3779){const _0x39a8a4=_0x4813c4,_0x2d4e20=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x2d4e20,{'projectOrder':_0x2c3779},{'merge':!![]});}catch(_0x15f765){console[_0x39a8a4(0xabd)](_0x39a8a4(0xac),_0x15f765),showMessage(_0x39a8a4(0xa33));}}async function logBehaviorEvent(_0x420777,_0x2641f1={}){const _0x250bd2=_0x4813c4;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x250bd2(0x174)](_0x250bd2(0x538));return;}const _0x41ed20=doc(db,_0x250bd2(0x2b3)+appId+_0x250bd2(0x5e4)+currentQuizData['id']+'/submissions',currentStudentName),_0x33365a={'event':_0x420777,'timestamp':new Date()[_0x250bd2(0xb05)](),..._0x2641f1};try{await updateDoc(_0x41ed20,{'behaviorLog':arrayUnion(_0x33365a)}),console[_0x250bd2(0x84)](_0x250bd2(0x232)+currentStudentName+_0x250bd2(0xa3d));}catch(_0x204079){_0x204079['code']===_0x250bd2(0x7fd)?console['warn'](_0x250bd2(0x1ff)+currentStudentName+_0x250bd2(0x332)):console[_0x250bd2(0xabd)](_0x250bd2(0x1bf),_0x204079);}}function getScoreTier(_0x12ab43,_0x3adb15){const _0x24ffc8=_0x4813c4;if(_0x3adb15===0x0){if(_0x12ab43===0x0)return{'text':'(รอคะแนน)','icon':'⏳'};return{'text':'(พยายามอยู่)','icon':'😥'};}const _0x34678a=_0x12ab43/(_0x3adb15===0x0?0x1:_0x3adb15);if(_0x34678a===0x1)return{'text':_0x24ffc8(0x19f),'icon':'👑'};if(_0x34678a>=0.7)return{'text':_0x24ffc8(0xc0a),'icon':'🔥'};if(_0x34678a>=0.4)return{'text':_0x24ffc8(0xcdc),'icon':'🏃'};return{'text':_0x24ffc8(0x4d3),'icon':'😥'};}function calculateMeanAndStdDev(_0x30006b){const _0x13a0f7=_0x4813c4;if(_0x30006b[_0x13a0f7(0xdbe)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4b3f11=_0x30006b['reduce']((_0x2ed048,_0xa72c58)=>_0x2ed048+_0xa72c58,0x0)/_0x30006b[_0x13a0f7(0xdbe)];if(_0x30006b[_0x13a0f7(0xdbe)]===0x1)return{'mean':_0x4b3f11,'stdDev':0x0};const _0x20cb96=Math[_0x13a0f7(0x50a)](_0x30006b[_0x13a0f7(0x86c)](_0x16165a=>Math[_0x13a0f7(0x91a)](_0x16165a-_0x4b3f11,0x2))[_0x13a0f7(0x4c5)]((_0x1ed957,_0xfab7d5)=>_0x1ed957+_0xfab7d5,0x0)/(_0x30006b['length']-0x1));return{'mean':_0x4b3f11,'stdDev':_0x20cb96};}function calculateZScore(_0x13ccd4,_0x52392f,_0x22da33){if(_0x22da33===0x0)return 0x0;return(_0x13ccd4-_0x52392f)/_0x22da33;}function calculateTScore(_0x56a21b){return 0xa*_0x56a21b+0x32;}function showStarredProjectView(){const _0x545476=_0x4813c4;currentProjectId=_0x545476(0x253),currentProjectData=null,projectTitle[_0x545476(0xd68)]=_0x545476(0xd0c),projectIdDisplay['textContent']=_0x545476(0x199),showView(_0x545476(0x623)),manageTab[_0x545476(0xcde)][_0x545476(0x483)](_0x545476(0xc15)),leaderboardTab['classList'][_0x545476(0x483)](_0x545476(0xc15)),switchProjectTab(_0x545476(0x53f)),renderQuizzes();}async function loadProjectDetails(_0x57221e){const _0x39a2fd=_0x4813c4,_0x524a59=doc(db,_0x39a2fd(0x2b3)+appId+'/public/data/projects',_0x57221e),_0x48f565=await getDoc(_0x524a59);if(_0x48f565['exists']()){manageTab[_0x39a2fd(0xcde)]['remove'](_0x39a2fd(0xc15)),leaderboardTab[_0x39a2fd(0xcde)][_0x39a2fd(0xa30)](_0x39a2fd(0xc15)),currentProjectData=_0x48f565['data'](),projectTitle[_0x39a2fd(0xd68)]=currentProjectData[_0x39a2fd(0x821)],projectIdDisplay[_0x39a2fd(0xd68)]=_0x57221e;const _0x44c21c=currentProjectData['settings']||{};document['getElementById'](_0x39a2fd(0x52c))[_0x39a2fd(0x909)]=_0x44c21c['shuffleSetting']||_0x39a2fd(0xa8c);const _0xc2b5af=document[_0x39a2fd(0x3a5)](_0x39a2fd(0x9a6));_0xc2b5af['checked']=_0x44c21c['showInStudentDashboard']!==![];const _0x37b436=document[_0x39a2fd(0x3a5)](_0x39a2fd(0x98f)),_0x5393b4=document[_0x39a2fd(0x3a5)]('passcode-input-container'),_0xf263b0=document[_0x39a2fd(0x3a5)](_0x39a2fd(0x2c5)),_0x3a2f75=_0x44c21c[_0x39a2fd(0xb19)]||![];_0x37b436[_0x39a2fd(0x2e0)]=_0x3a2f75,_0xf263b0[_0x39a2fd(0x909)]=_0x44c21c[_0x39a2fd(0xd9b)]||'',_0x5393b4[_0x39a2fd(0xcde)][_0x39a2fd(0x1a2)](_0x39a2fd(0xc15),!_0x3a2f75),_0x37b436[_0x39a2fd(0x752)]=()=>{const _0x28cda0=_0x39a2fd;_0x5393b4[_0x28cda0(0xcde)][_0x28cda0(0x1a2)]('hidden',!_0x37b436[_0x28cda0(0x2e0)]);},document['getElementById'](_0x39a2fd(0xc7f))['checked']=_0x44c21c[_0x39a2fd(0x576)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x57221e),listenForProjectQuizzes(_0x57221e),listenForStudentProfiles(_0x57221e);}else showMessage(_0x39a2fd(0xc96)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x2d63ef=_0x4813c4,_0x5463eb=doc(db,_0x2d63ef(0xb67),_0x2d63ef(0xbfe));try{await setDoc(_0x5463eb,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x3f0e40){console['error'](_0x2d63ef(0xcae),_0x3f0e40),showMessage(_0x2d63ef(0x7ba));}}async function handleTogglePinProject(_0x165358){const _0x523024=_0x4813c4;if(!_0x165358)return;const _0x538b05=doc(db,_0x523024(0x2b3)+appId+'/public/data/projects',_0x165358);try{const _0x4244fd=await getDoc(_0x538b05);if(_0x4244fd[_0x523024(0x3ea)]()){const _0x2bcd34=_0x4244fd[_0x523024(0x1ea)]()['isPinned']||![];await updateDoc(_0x538b05,{'isPinned':!_0x2bcd34});}}catch(_0x1ff0e3){console[_0x523024(0xabd)]('Error\x20toggling\x20pin\x20status:',_0x1ff0e3),showMessage(_0x523024(0xd90));}}async function handleDeleteProject(_0x207caf){const _0x5d5cce=_0x4813c4;try{const _0x43c2a9=writeBatch(db),_0x134f06=collection(db,'artifacts/'+appId+_0x5d5cce(0x60d)),_0x424548=query(_0x134f06,where(_0x5d5cce(0xb91),'==',_0x207caf)),_0xdb3350=await getDocs(_0x424548);for(const _0x51d05c of _0xdb3350['docs']){const _0x3c471b=collection(db,_0x5d5cce(0x2b3)+appId+_0x5d5cce(0x5e4)+_0x51d05c['id']+_0x5d5cce(0xbfd)),_0xe7c368=await getDocs(_0x3c471b);_0xe7c368[_0x5d5cce(0x140)](_0x430445=>{const _0x2f1c6c=_0x5d5cce;_0x43c2a9[_0x2f1c6c(0xbf1)](_0x430445[_0x2f1c6c(0xc8)]);}),_0x43c2a9['delete'](_0x51d05c[_0x5d5cce(0xc8)]);}const _0x341906=collection(db,_0x5d5cce(0x2b3)+appId+_0x5d5cce(0xb4)+_0x207caf+'/studentProfiles'),_0x473d15=await getDocs(_0x341906);_0x473d15[_0x5d5cce(0x140)](_0x2f2d58=>{const _0x591231=_0x5d5cce;_0x43c2a9['delete'](_0x2f2d58[_0x591231(0xc8)]);});const _0x3893e3=doc(db,'artifacts/'+appId+_0x5d5cce(0xa9c),_0x207caf);_0x43c2a9['delete'](_0x3893e3),await _0x43c2a9[_0x5d5cce(0x5a1)](),showMessage(_0x5d5cce(0x60c)),showView(_0x5d5cce(0x50b));}catch(_0x19ab4a){console['error'](_0x5d5cce(0x135),_0x19ab4a),showMessage(_0x5d5cce(0x3d7));}}document[_0x4813c4(0x3a5)](_0x4813c4(0xcac))[_0x4813c4(0x9f0)](_0x4813c4(0x79c),async()=>{const _0x30674a=_0x4813c4;if(!currentProjectId)return;const _0xecd802={'defaultNumQuestions':parseInt(document[_0x30674a(0x3a5)]('num-questions')['value']),'defaultNumChoices':parseInt(document[_0x30674a(0x3a5)](_0x30674a(0x456))[_0x30674a(0x909)]),'defaultPassingScore':parseInt(document[_0x30674a(0x3a5)](_0x30674a(0x5c3))['value']),'resultsDisplay':document[_0x30674a(0x3a5)](_0x30674a(0x896))[_0x30674a(0x909)],'shuffleSetting':document['getElementById'](_0x30674a(0x52c))['value'],'timerMode':document[_0x30674a(0x3a5)]('timer-mode-select')[_0x30674a(0x909)],'timerDuration':parseInt(document[_0x30674a(0x3a5)]('timer-duration-input')[_0x30674a(0x909)]),'isConfidenceScoringEnabled':document[_0x30674a(0x3a5)]('confidence-scoring-checkbox')[_0x30674a(0x2e0)],'confidenceMode':document[_0x30674a(0x3a5)](_0x30674a(0x5be))[_0x30674a(0x909)]};try{const _0x37d431=doc(db,_0x30674a(0x2b3)+appId+_0x30674a(0xa9c),currentProjectId);await updateDoc(_0x37d431,{'settings':_0xecd802}),showMessage(_0x30674a(0xb65));}catch(_0xfe6dd9){console[_0x30674a(0xabd)]('Error\x20saving\x20settings:',_0xfe6dd9),showMessage(_0x30674a(0x8a4));}});function listenForStudents(_0x2a22e6){const _0x3cfe52=_0x4813c4,_0x31700b=doc(db,_0x3cfe52(0x2b3)+appId+_0x3cfe52(0xa9c),_0x2a22e6);unsubscribeStudentsListener=onSnapshot(_0x31700b,_0x45bf23=>{const _0x4193de=_0x3cfe52;if(_0x45bf23[_0x4193de(0x3ea)]()){const _0x43f406=_0x45bf23[_0x4193de(0x1ea)]();currentProjectData=_0x43f406,renderStudentList(_0x43f406[_0x4193de(0x3a0)]||[]);}});}function renderStudentList(_0x2a6798){const _0x4c571f=_0x4813c4,_0x3ef7e3=document[_0x4c571f(0x3a5)](_0x4c571f(0xd72));_0x2a6798['length']===0x0?(studentList[_0x4c571f(0xc7e)]=_0x4c571f(0x96f),_0x3ef7e3[_0x4c571f(0xcde)][_0x4c571f(0x483)]('hidden')):(studentList[_0x4c571f(0xc7e)]=_0x2a6798[_0x4c571f(0x86c)](_0x4a245e=>_0x4c571f(0xa13)+_0x4a245e+_0x4c571f(0x4cf)+_0x4a245e+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x3ef7e3[_0x4c571f(0xcde)][_0x4c571f(0xa30)](_0x4c571f(0xc15)));}document[_0x4813c4(0x3a5)](_0x4813c4(0xd37))['addEventListener'](_0x4813c4(0x79c),async()=>{const _0x206fad=_0x4813c4;if(!currentProjectId)return;const _0x34c424=document['getElementById'](_0x206fad(0xd8)),_0x54effc=_0x34c424[_0x206fad(0x909)]['trim']();if(!_0x54effc){showMessage(_0x206fad(0xa58));return;}const _0x5b695a=_0x54effc[_0x206fad(0xa6a)]('\x0a')[_0x206fad(0x86c)](_0x59ecaa=>_0x59ecaa[_0x206fad(0x7f3)]())[_0x206fad(0xd05)](_0x1d57d2=>_0x1d57d2);if(_0x5b695a['length']===0x0)return;try{const _0xc58e98=doc(db,'artifacts/'+appId+_0x206fad(0xa9c),currentProjectId),_0x3ccfe5=await getDoc(_0xc58e98);if(_0x3ccfe5[_0x206fad(0x3ea)]()){const _0x155d0f=_0x3ccfe5['data']()[_0x206fad(0x3a0)]||[],_0x34dffd=[...new Set([..._0x155d0f,..._0x5b695a])];await updateDoc(_0xc58e98,{'students':_0x34dffd}),_0x34c424[_0x206fad(0x909)]='';}}catch(_0x156d53){console[_0x206fad(0xabd)](_0x206fad(0x86),_0x156d53),showMessage(_0x206fad(0xd33));}});async function handleManualQuizPairing(_0x40115b){const _0x501e76=_0x4813c4,_0x227435=document['getElementById'](_0x501e76(0x61b)),_0x40a5c2=document['getElementById'](_0x501e76(0xd5)),_0x35725c=_0x227435['querySelector']('h3'),_0x409b0f=document[_0x501e76(0x3a5)](_0x501e76(0x215)),_0x531284=document[_0x501e76(0x3a5)](_0x501e76(0x337));_0x35725c[_0x501e76(0xd68)]='จับคู่เพื่อเปรียบเทียบผล',_0x40a5c2[_0x501e76(0xc7e)]=_0x501e76(0x7ef),_0x409b0f[_0x501e76(0xd68)]=_0x501e76(0x823),_0x227435['classList'][_0x501e76(0xa30)](_0x501e76(0xc15));const _0x9c5ead=allQuizzes[_0x501e76(0xd05)](_0x2e137b=>_0x2e137b['id']!==_0x40115b);_0x9c5ead[_0x501e76(0xdbe)]===0x0?(_0x40a5c2[_0x501e76(0xc7e)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x409b0f['disabled']=!![]):(_0x40a5c2[_0x501e76(0xc7e)]=_0x501e76(0x949)+_0x9c5ead[_0x501e76(0x86c)](_0x56e8ef=>_0x501e76(0x437)+_0x56e8ef['id']+'\x22>'+_0x56e8ef[_0x501e76(0x1e8)]+_0x501e76(0xc01))[_0x501e76(0x15d)](''),_0x409b0f[_0x501e76(0x88c)]=![]);const _0x263315=async()=>{const _0x53df9e=_0x501e76,_0xff6f60=_0x40a5c2[_0x53df9e(0x909)];if(!_0xff6f60){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x409b0f[_0x53df9e(0x88c)]=!![],_0x409b0f[_0x53df9e(0xd68)]='กำลังจับคู่...';try{const _0x2cb08b=doc(db,_0x53df9e(0x2b3)+appId+_0x53df9e(0x60d),_0x40115b),_0x3b6ab1=doc(db,_0x53df9e(0x2b3)+appId+_0x53df9e(0x60d),_0xff6f60),_0x2475bf=writeBatch(db);_0x2475bf[_0x53df9e(0x1d2)](_0x2cb08b,{'pairedQuizId':_0xff6f60}),_0x2475bf[_0x53df9e(0x1d2)](_0x3b6ab1,{'pairedQuizId':_0x40115b}),await _0x2475bf[_0x53df9e(0x5a1)](),showMessage(_0x53df9e(0xa87)),_0x227435[_0x53df9e(0xcde)][_0x53df9e(0x483)](_0x53df9e(0xc15));}catch(_0x228ba4){console[_0x53df9e(0xabd)]('Error\x20pairing\x20quizzes:',_0x228ba4),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x35725c[_0x53df9e(0xd68)]=_0x53df9e(0x768),_0x409b0f[_0x53df9e(0xd68)]=_0x53df9e(0xd28),_0x409b0f[_0x53df9e(0x88c)]=![],_0x409b0f[_0x53df9e(0x751)]('click',_0x263315),_0x531284[_0x53df9e(0x751)](_0x53df9e(0x79c),_0x175d6b);}},_0x175d6b=()=>{const _0x2d19ca=_0x501e76;_0x227435['classList'][_0x2d19ca(0x483)](_0x2d19ca(0xc15)),_0x35725c[_0x2d19ca(0xd68)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x409b0f[_0x2d19ca(0xd68)]=_0x2d19ca(0xd28),_0x409b0f['removeEventListener'](_0x2d19ca(0x79c),_0x263315),_0x531284['removeEventListener'](_0x2d19ca(0x79c),_0x175d6b);};_0x409b0f['addEventListener'](_0x501e76(0x79c),_0x263315),_0x531284[_0x501e76(0x9f0)](_0x501e76(0x79c),_0x175d6b);}function handleDeleteStudent(_0x44ef8b){const _0x27a567=_0x4813c4;showConfirmation(_0x27a567(0xb4e)+_0x44ef8b+_0x27a567(0xc11),async()=>{const _0x450a49=_0x27a567;if(!currentProjectId||!currentProjectData)return;const _0x408fae=currentProjectData[_0x450a49(0x3a0)][_0x450a49(0xd05)](_0x218d5f=>_0x218d5f!==_0x44ef8b);try{const _0x5041a6=doc(db,_0x450a49(0x2b3)+appId+'/public/data/projects',currentProjectId),_0x248c17=doc(db,_0x450a49(0x2b3)+appId+_0x450a49(0xb4)+currentProjectId+_0x450a49(0xd1a),_0x44ef8b),_0x543caa=writeBatch(db);_0x543caa[_0x450a49(0x1d2)](_0x5041a6,{'students':_0x408fae}),_0x543caa['delete'](_0x248c17),await _0x543caa[_0x450a49(0x5a1)]();}catch(_0x1655d9){console[_0x450a49(0xabd)](_0x450a49(0x9e7),_0x1655d9),showMessage(_0x450a49(0x99f));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x182463=_0x3082;if(!currentProjectId)return;try{const _0x11d199=doc(db,_0x182463(0x2b3)+appId+_0x182463(0xa9c),currentProjectId),_0x8c30af=collection(db,_0x182463(0x2b3)+appId+_0x182463(0xb4)+currentProjectId+_0x182463(0xd1a)),_0x38be13=await getDocs(_0x8c30af),_0x4f22f7=writeBatch(db);_0x4f22f7[_0x182463(0x1d2)](_0x11d199,{'students':[]}),_0x38be13[_0x182463(0x140)](_0x1d2d74=>_0x4f22f7[_0x182463(0xbf1)](_0x1d2d74[_0x182463(0xc8)])),await _0x4f22f7['commit']();}catch(_0x299925){console[_0x182463(0xabd)](_0x182463(0xa1e),_0x299925),showMessage(_0x182463(0xd7c));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0xcb0ee1){const _0x2225ae=_0x4813c4,_0x2351f1=document['getElementById'](_0x2225ae(0x968)),_0x54643d=document['getElementById'](_0x2225ae(0x632));_0x2351f1[_0x2225ae(0xcde)][_0x2225ae(0xa30)](_0x2225ae(0xc15)),_0x54643d['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x129563=new FileReader();_0x129563[_0x2225ae(0xb98)](_0xcb0ee1),await new Promise((_0x3daa11,_0xa01506)=>{const _0x5a64ac=_0x2225ae;_0x129563[_0x5a64ac(0xc99)]=()=>{const _0x2959c8=_0x5a64ac;fileDataBase64=_0x129563[_0x2959c8(0xb8)][_0x2959c8(0xa6a)](',')[0x1],fileMimeType=_0xcb0ee1[_0x2959c8(0x680)],_0x3daa11();},_0x129563['onerror']=_0x15c0a9=>_0xa01506(_0x15c0a9);});if(!fileDataBase64)throw new Error(_0x2225ae(0x40c));const _0x812f16='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4df3fa={'type':_0x2225ae(0xb09),'properties':{'topics':{'type':_0x2225ae(0x7bb),'items':{'type':_0x2225ae(0x799)}}},'required':['topics']},_0x285faa=[{'text':_0x812f16},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x519682=await handleApiCall(_0x285faa,_0x2225ae(0x995),_0x4df3fa,null,![]);if(_0x519682&&_0x519682[_0x2225ae(0x356)])extractedFileTopics=_0x519682['topics'],renderFileTopics();else throw new Error(_0x2225ae(0xaee));}catch(_0x3a83ce){console[_0x2225ae(0xabd)](_0x2225ae(0x3a7),_0x3a83ce),_0x54643d[_0x2225ae(0xc7e)]=_0x2225ae(0x6ff)+_0x3a83ce[_0x2225ae(0xbd0)]+_0x2225ae(0x340);}}function renderFileTopics(){const _0x1a57bd=_0x4813c4,_0x3481ff=document['getElementById'](_0x1a57bd(0x632));if(extractedFileTopics[_0x1a57bd(0xdbe)]===0x0){_0x3481ff[_0x1a57bd(0xc7e)]=_0x1a57bd(0xc76);return;}_0x3481ff[_0x1a57bd(0xc7e)]=extractedFileTopics[_0x1a57bd(0x86c)](_0x1c8c4b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x1c8c4b+_0x1a57bd(0x472)+escape(_0x1c8c4b)+_0x1a57bd(0x163)+escape(_0x1c8c4b)+_0x1a57bd(0x733))[_0x1a57bd(0x15d)]('');}async function generateHybridQuizForTopic(_0x5a2845){const _0x3a81e1=_0x4813c4,_0x5bd881=parseInt(document[_0x3a81e1(0x3a5)](_0x3a81e1(0x118))[_0x3a81e1(0x909)],0xa),_0x374016=document[_0x3a81e1(0x3a5)](_0x3a81e1(0x28c))[_0x3a81e1(0x909)],_0x2ba8d2=document[_0x3a81e1(0x3a5)](_0x3a81e1(0x456))[_0x3a81e1(0x909)],_0x3f0a77=document[_0x3a81e1(0x3a5)](_0x3a81e1(0x4a1))[_0x3a81e1(0x2e0)],_0x454366=_0x3f0a77?_0x3a81e1(0x6fb):_0x3a81e1(0xd6d);let _0x3b9161='',_0x4b1992;const _0x394767={'type':'OBJECT','properties':{'questionText':{'type':_0x3a81e1(0x799)},'options':{'type':_0x3a81e1(0x7bb),'items':{'type':_0x3a81e1(0x799)}},'correctAnswerIndex':{'type':_0x3a81e1(0x29e)},'explanation':{'type':_0x3a81e1(0x799)},'imageCode':{'type':_0x3a81e1(0x799)}},'required':['questionText','options','correctAnswerIndex',_0x3a81e1(0x6dd)]},_0x25c179={'type':_0x3a81e1(0xb09),'properties':{'questionText':{'type':_0x3a81e1(0x799)},'correctAnswer':{'type':_0x3a81e1(0xd7d)},'explanation':{'type':_0x3a81e1(0x799)},'imageCode':{'type':_0x3a81e1(0x799)}},'required':[_0x3a81e1(0x929),_0x3a81e1(0xa25),'explanation']},_0x4e11e5={'type':_0x3a81e1(0xb09),'properties':{'questionText':{'type':_0x3a81e1(0x799)},'idealAnswer':{'type':_0x3a81e1(0x799)},'explanation':{'type':_0x3a81e1(0x799)},'imageCode':{'type':'STRING'}},'required':[_0x3a81e1(0x929),'idealAnswer',_0x3a81e1(0x6dd)]},_0x36383e={'type':_0x3a81e1(0xb09),'properties':{'questionType':{'type':'STRING','enum':[_0x3a81e1(0x392)]},'stem':{'type':_0x3a81e1(0x799)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x3a81e1(0x799)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3a81e1(0x799)}},'required':[_0x3a81e1(0x51d),_0x3a81e1(0xd4c),_0x3a81e1(0x18a),_0x3a81e1(0xd2c),_0x3a81e1(0x6dd)]};switch(_0x374016){case'multiple_choice':const _0x5657fb=_0x3a81e1(0x22c);prompt=_0x3a81e1(0x5ef)+subjectPrefix+'\x20'+settings[_0x3a81e1(0x3ed)]+_0x3a81e1(0x891)+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+'.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20'+settings[_0x3a81e1(0x98d)]+_0x3a81e1(0x6a0)+_0x5657fb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x454366+'\x20'+simpleMathPrompt,schema=_0x394767;break;case _0x3a81e1(0x162):_0x3b9161='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x4b1992=_0x25c179;break;case'fill_in_no_choices':_0x3b9161='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x4b1992=_0x4e11e5;break;case'matching':_0x3b9161=_0x3a81e1(0xd94),_0x4b1992=_0x36383e;break;case _0x3a81e1(0x43b):_0x3b9161=_0x3a81e1(0x1d0)+_0x2ba8d2+_0x3a81e1(0x696),_0x4b1992=_0x394767;break;default:_0x3b9161=_0x3a81e1(0x1c5)+_0x2ba8d2+_0x3a81e1(0x696),_0x4b1992=_0x394767;break;}const _0x503b9c='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x13f631=document[_0x3a81e1(0x3a5)]('loader'),_0x54b29c=document[_0x3a81e1(0x3a5)](_0x3a81e1(0x3ba)),_0x1ff55f=document[_0x3a81e1(0x3a5)](_0x3a81e1(0x7f9));document[_0x3a81e1(0x3a5)](_0x3a81e1(0x8bc))[_0x3a81e1(0xcde)]['remove'](_0x3a81e1(0xc15)),_0x1ff55f[_0x3a81e1(0xc7e)]='',_0x13f631[_0x3a81e1(0xcde)][_0x3a81e1(0xa30)](_0x3a81e1(0xc15)),_0x54b29c['textContent']=_0x3a81e1(0x9cb)+_0x5a2845+_0x3a81e1(0xb5b)+_0x5bd881+'\x20ข้อ...';try{const _0x4fd127=_0x3a81e1(0x2ea),_0x1ae542=_0x3a81e1(0xa2c)+_0x5a2845+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x5bd881+_0x3a81e1(0x2b7)+_0x5a2845+_0x3a81e1(0x91b)+_0x5bd881+_0x3a81e1(0x806)+_0x454366+_0x3a81e1(0x242)+_0x3b9161+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x503b9c+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fd127+_0x3a81e1(0xa76)+simpleMathPrompt+_0x3a81e1(0x893),_0x5c60ce={'type':'OBJECT','properties':{'topic':{'type':_0x3a81e1(0x799)},'questions':{'type':_0x3a81e1(0x7bb),'items':_0x4b1992}},'required':[_0x3a81e1(0x1e8),_0x3a81e1(0x1bc)]},_0x491715=[{'text':_0x1ae542},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x491715,_0x3a81e1(0x116)+_0x5a2845+_0x3a81e1(0x2ac),_0x5c60ce);}catch(_0x867f69){console[_0x3a81e1(0xabd)](_0x3a81e1(0x70e),_0x867f69),showMessage(_0x3a81e1(0xa6c)+_0x867f69['message']),_0x1ff55f['innerHTML']=_0x3a81e1(0x4dc);}finally{_0x13f631[_0x3a81e1(0xcde)][_0x3a81e1(0x483)]('hidden');}}async function handleGenerateFromFileClick(){const _0x19c611=_0x4813c4;if(!selectedFile){showMessage(_0x19c611(0x7ce));return;}const _0x5189ae=document[_0x19c611(0x3a5)](_0x19c611(0x69a)),_0x21b6da=document[_0x19c611(0x3a5)](_0x19c611(0x3ba)),_0x262291=document[_0x19c611(0x3a5)]('generated-quiz-container'),_0x31d6a2=document[_0x19c611(0x3a5)](_0x19c611(0xc7c));_0x31d6a2['disabled']=!![],document['getElementById']('quiz-generation-area')[_0x19c611(0xcde)][_0x19c611(0xa30)]('hidden'),_0x262291[_0x19c611(0xc7e)]='',_0x5189ae[_0x19c611(0xcde)][_0x19c611(0xa30)](_0x19c611(0xc15)),_0x21b6da[_0x19c611(0xd68)]=_0x19c611(0x952);try{const _0xfbe5a1=await new Promise((_0xc38e21,_0x4fb9ce)=>{const _0x209e53=_0x19c611,_0x3c7a0b=new FileReader();_0x3c7a0b['readAsDataURL'](selectedFile),_0x3c7a0b[_0x209e53(0xc99)]=()=>_0xc38e21(_0x3c7a0b['result'][_0x209e53(0xa6a)](',')[0x1]),_0x3c7a0b[_0x209e53(0x46e)]=_0x38c1fd=>_0x4fb9ce(_0x38c1fd);});await generateQuizFromFile(selectedFile['type'],_0xfbe5a1);}catch(_0x153236){console['error'](_0x19c611(0x1c9),_0x153236),showMessage(_0x19c611(0x794)+_0x153236['message']),_0x5189ae['classList'][_0x19c611(0x483)](_0x19c611(0xc15)),_0x31d6a2[_0x19c611(0x88c)]=![];}}function autoFormatMath(_0x3fac6a){const _0x2b377f=_0x4813c4;if(typeof _0x3fac6a!==_0x2b377f(0x8e3)||!_0x3fac6a)return _0x3fac6a;const _0x1075b3=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x315726=_0x3fac6a['replace'](_0x1075b3,_0x2d5b25=>{const _0x5cd807=_0x2b377f;return'$'+_0x2d5b25[_0x5cd807(0x7f3)]()+'$';});return _0x315726;}function sanitizeQuizData(_0x158732){const _0x670157=_0x4813c4;if(!_0x158732||!_0x158732[_0x670157(0x1bc)])return _0x158732;const _0x42a443=_0x4462e7=>{const _0x3370cb=_0x670157;if(typeof _0x4462e7!==_0x3370cb(0x8e3))return _0x4462e7;let _0x551681=_0x4462e7;_0x551681=_0x551681[_0x3370cb(0x94b)](/\\\(/g,'$')[_0x3370cb(0x94b)](/\\\)/g,'$'),_0x551681=_0x551681[_0x3370cb(0x94b)](/\\\[/g,'$$')['replace'](/\\\]/g,'$$'),_0x551681=_0x551681[_0x3370cb(0x94b)](/\\?imes\b/g,_0x3370cb(0xa6f));const _0x1a1778=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x551681=_0x551681['replace'](_0x1a1778,_0x19aeaf=>{return'$'+_0x19aeaf['trim']()+'$';}),_0x551681;};return _0x158732['topic']&&(_0x158732['topic']=_0x42a443(_0x158732['topic'])),_0x158732[_0x670157(0x1bc)]['forEach'](_0x507aa7=>{const _0x5d1cb5=_0x670157;_0x507aa7[_0x5d1cb5(0x929)]=_0x42a443(_0x507aa7[_0x5d1cb5(0x929)]),_0x507aa7[_0x5d1cb5(0xd4c)]=_0x42a443(_0x507aa7['stem']),_0x507aa7[_0x5d1cb5(0x7f6)]&&(_0x507aa7[_0x5d1cb5(0x7f6)]=_0x507aa7[_0x5d1cb5(0x7f6)][_0x5d1cb5(0x86c)](_0x4eecd6=>_0x42a443(_0x4eecd6))),_0x507aa7[_0x5d1cb5(0x6dd)]&&(_0x507aa7[_0x5d1cb5(0x6dd)]=_0x42a443(_0x507aa7[_0x5d1cb5(0x6dd)])),_0x507aa7[_0x5d1cb5(0x18a)]&&(_0x507aa7['correctResponse']=_0x42a443(_0x507aa7['correctResponse'])),_0x507aa7[_0x5d1cb5(0xd2c)]&&(_0x507aa7[_0x5d1cb5(0xd2c)]=_0x507aa7[_0x5d1cb5(0xd2c)][_0x5d1cb5(0x86c)](_0x58e121=>_0x42a443(_0x58e121))),_0x507aa7[_0x5d1cb5(0xd2d)]&&(_0x507aa7[_0x5d1cb5(0xd2d)]=_0x42a443(_0x507aa7['idealAnswer']));}),_0x158732;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x48c64c=_0x4813c4,_0x27490e=document[_0x48c64c(0x3a5)](_0x48c64c(0x7d8)),_0x51c1cf=document['getElementById'](_0x48c64c(0x61a)),_0x4a7f23=_0x27490e[_0x48c64c(0x909)][_0x48c64c(0x7f3)](),_0x53bf1b=_0x51c1cf[_0x48c64c(0x909)][_0x48c64c(0x7f3)]();if(!_0x4a7f23){showMessage(_0x48c64c(0x21a));return;}const _0x243efe=document[_0x48c64c(0x3a5)](_0x48c64c(0x69a)),_0x4c50e9=document[_0x48c64c(0x3a5)](_0x48c64c(0x3ba)),_0x2cd154=document[_0x48c64c(0x3a5)](_0x48c64c(0x7f9)),_0x50c182=document[_0x48c64c(0x3a5)](_0x48c64c(0x895));document[_0x48c64c(0x3a5)](_0x48c64c(0x8bc))[_0x48c64c(0xcde)]['remove'](_0x48c64c(0xc15)),_0x2cd154[_0x48c64c(0xc7e)]='',_0x243efe[_0x48c64c(0xcde)][_0x48c64c(0xa30)](_0x48c64c(0xc15)),_0x4c50e9[_0x48c64c(0xd68)]=_0x48c64c(0x33c),_0x50c182[_0x48c64c(0x88c)]=!![];try{const _0x347771=_0x48c64c(0xa9e)+encodeURIComponent(_0x4a7f23),_0x474a77=await fetch(_0x347771);if(!_0x474a77['ok'])throw new Error(_0x48c64c(0xc00)+_0x474a77[_0x48c64c(0xd0e)]+')');const _0x5a92f5=await _0x474a77[_0x48c64c(0xc97)](),_0x3f73d0=extractTextFromHtml(_0x5a92f5);if(!_0x3f73d0||_0x3f73d0[_0x48c64c(0xdbe)]<0x64)throw new Error(_0x48c64c(0x773));await generateQuiz(_0x53bf1b,_0x3f73d0);}catch(_0x2f27c2){console[_0x48c64c(0xabd)](_0x48c64c(0x2ab),_0x2f27c2),showMessage(_0x48c64c(0xa6c)+_0x2f27c2[_0x48c64c(0xbd0)]),_0x2cd154[_0x48c64c(0xc7e)]=_0x48c64c(0xc74);}finally{_0x243efe['classList']['add'](_0x48c64c(0xc15)),_0x50c182[_0x48c64c(0x88c)]=![];}}function extractTextFromHtml(_0x91c1ae){const _0x37d7c3=_0x4813c4,_0x431c10=new DOMParser()[_0x37d7c3(0x362)](_0x91c1ae,_0x37d7c3(0x92a));return _0x431c10[_0x37d7c3(0x660)](_0x37d7c3(0x4f1))['forEach'](_0x58fb6a=>_0x58fb6a[_0x37d7c3(0xa30)]()),_0x431c10[_0x37d7c3(0x281)][_0x37d7c3(0xd68)]||'';}document[_0x4813c4(0x3a5)]('generate-from-topic-btn')[_0x4813c4(0x9f0)](_0x4813c4(0x79c),()=>{const _0x5d0a28=_0x4813c4,_0x3168d6=document[_0x5d0a28(0x3a5)]('topic-input')[_0x5d0a28(0x909)][_0x5d0a28(0x7f3)]();generateQuiz(_0x3168d6,null);}),document[_0x4813c4(0x3a5)](_0x4813c4(0x7a4))[_0x4813c4(0x9f0)](_0x4813c4(0x79c),()=>{const _0x2ee7cc=_0x4813c4,_0x2ba9fb=document[_0x2ee7cc(0x3a5)](_0x2ee7cc(0x95f))[_0x2ee7cc(0x909)]['trim']();if(!_0x2ba9fb){showMessage(_0x2ee7cc(0x520));return;}const _0x41561f=document['getElementById'](_0x2ee7cc(0x80))[_0x2ee7cc(0x909)][_0x2ee7cc(0x7f3)]();generateQuiz(_0x41561f,_0x2ba9fb);});function _0x3082(_0x2c37ce,_0x507622){const _0x4b47aa=_0x4b47();return _0x3082=function(_0x30827c,_0x4267d4){_0x30827c=_0x30827c-0x7a;let _0xb517c2=_0x4b47aa[_0x30827c];return _0xb517c2;},_0x3082(_0x2c37ce,_0x507622);}async function generateQuiz(_0x15842a,_0x244f07,_0x522271=null,_0x5d11d7=null,_0x5dc745=![],_0x1b1464=null,_0x1089ed=null,_0x380e98=![]){const _0x4b785c=_0x4813c4;let _0x3bd4ea={};if(_0x5dc745&&blueprintPageSettings)_0x3bd4ea=blueprintPageSettings;else{const _0x192aec=document[_0x4b785c(0x660)]('#math-topics-checkbox-container\x20input:checked');_0x3bd4ea={'quizType':document[_0x4b785c(0x3a5)]('quiz-type-select')[_0x4b785c(0x909)],'numQuestions':document[_0x4b785c(0x3a5)](_0x4b785c(0x118))[_0x4b785c(0x909)],'numChoices':document['getElementById']('num-choices')[_0x4b785c(0x909)],'includeImages':document['getElementById'](_0x4b785c(0x4a1))[_0x4b785c(0x2e0)],'isNormalTopic':document['getElementById'](_0x4b785c(0x361))[_0x4b785c(0x2e0)],'difficultyValue':document[_0x4b785c(0x3a5)]('difficulty-level-select')[_0x4b785c(0x909)],'complexityValue':document['getElementById']('question-complexity-select')[_0x4b785c(0x909)],'selectedTopicNames':Array[_0x4b785c(0x1a4)](_0x192aec)[_0x4b785c(0x86c)](_0x28e73f=>_0x28e73f['value'])};}const _0x5e8e2c=_0x3bd4ea[_0x4b785c(0xc1e)]?'':'คณิตศาสตร์',_0x34a450=_0x3bd4ea[_0x4b785c(0x797)]!==_0x4b785c(0xc49)?_0x4b785c(0x980)+_0x3bd4ea['difficultyValue']+'\x22':'',_0x3f57c7=_0x3bd4ea[_0x4b785c(0x3a4)]!==_0x4b785c(0xa8d)?_0x4b785c(0xd31)+_0x3bd4ea[_0x4b785c(0x3a4)]+_0x4b785c(0x808):'';let _0x498d6d='';_0x3bd4ea[_0x4b785c(0xa60)]&&_0x3bd4ea[_0x4b785c(0xa60)][_0x4b785c(0xdbe)]>0x0&&(_0x498d6d=_0x4b785c(0xcd8)+_0x3bd4ea[_0x4b785c(0xa60)]['join'](',\x20')+'.');let _0x22bdce='';_0x5d11d7&&(_0x22bdce=_0x4b785c(0xbd6));let _0x5928a4='',_0x17580c='',_0x1199ac,_0x421ece=_0x4b785c(0x622)+_0x15842a+'\x22';if(!_0x15842a&&_0x244f07)_0x421ece=_0x4b785c(0xd80);else!_0x15842a&&!_0x244f07&&(_0x421ece=_0x4b785c(0x961));const _0x10a030={'type':_0x4b785c(0xb09),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4b785c(0x7bb),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4b785c(0x29e)},'explanation':{'type':_0x4b785c(0x799)},'imageCode':{'type':_0x4b785c(0x799)}},'required':['questionText','options',_0x4b785c(0x54b),_0x4b785c(0x6dd)]},_0x10ece2={'type':_0x4b785c(0xb09),'properties':{'questionText':{'type':_0x4b785c(0x799)},'idealAnswer':{'type':_0x4b785c(0x799)},'explanation':{'type':_0x4b785c(0x799)},'imageCode':{'type':_0x4b785c(0x799)}},'required':[_0x4b785c(0x929),_0x4b785c(0xd2d),_0x4b785c(0x6dd)]},_0x1a7aed={'type':_0x4b785c(0xb09),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x4b785c(0x260),_0x4b785c(0x311)]},'options':{'type':_0x4b785c(0x7bb),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4b785c(0x799)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4b785c(0x799)}},'required':[_0x4b785c(0x929),_0x4b785c(0x51d),_0x4b785c(0x6dd)]},_0x36cf2f={'type':'OBJECT','properties':{'questionText':{'type':_0x4b785c(0x799)},'correctAnswer':{'type':_0x4b785c(0xd7d)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4b785c(0x799)}},'required':[_0x4b785c(0x929),_0x4b785c(0xa25),_0x4b785c(0x6dd)]},_0x178dbe={'type':_0x4b785c(0xb09),'properties':{'questionType':{'type':_0x4b785c(0x799),'enum':[_0x4b785c(0x392)]},'stem':{'type':_0x4b785c(0x799)},'correctResponse':{'type':_0x4b785c(0x799)},'allResponses':{'type':_0x4b785c(0x7bb),'items':{'type':_0x4b785c(0x799)}},'explanation':{'type':_0x4b785c(0x799)},'imageCode':{'type':'STRING'}},'required':[_0x4b785c(0x51d),_0x4b785c(0xd4c),_0x4b785c(0x18a),_0x4b785c(0xd2c),_0x4b785c(0x6dd)]};let _0x2263e7;if(_0x522271!==null){const _0x41450b=currentQuizData[_0x4b785c(0x1bc)][_0x522271][_0x4b785c(0x51d)],_0x33b3a2=_0x3bd4ea[_0x4b785c(0x4f7)]?_0x4b785c(0xba7):'';_0x5928a4=_0x4b785c(0x366)+_0x421ece+'\x20'+_0x498d6d+'\x20'+_0x34a450+_0x4b785c(0x125)+_0x33b3a2+'\x20'+simpleMathPrompt;if(_0x41450b==='multiple_choice')_0x1199ac=_0x10a030;else{if(_0x41450b===_0x4b785c(0x392))_0x1199ac={'type':_0x4b785c(0xb09),'properties':{'questionType':{'type':_0x4b785c(0x799),'enum':[_0x4b785c(0x392)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4b785c(0x799)},'explanation':{'type':_0x4b785c(0x799)},'imageCode':{'type':_0x4b785c(0x799)}},'required':['questionType',_0x4b785c(0xd4c),_0x4b785c(0x18a),_0x4b785c(0x6dd)]};else _0x1199ac=_0x10ece2;}_0x2263e7=_0x1199ac;}else{const _0x2d77b5=_0x3bd4ea[_0x4b785c(0x4f7)]?_0x4b785c(0x1aa):'';switch(_0x3bd4ea[_0x4b785c(0xa34)]){case _0x4b785c(0x260):const _0x220ef1=_0x4b785c(0x22c);_0x5928a4='สร้างแบบทดสอบปรนัย'+_0x5e8e2c+'\x20'+_0x3bd4ea[_0x4b785c(0x3ed)]+_0x4b785c(0x891)+_0x421ece+'\x20'+_0x498d6d+'\x20'+_0x34a450+'\x20'+_0x3f57c7+'\x20'+_0x22bdce+_0x4b785c(0x4ac)+_0x3bd4ea['numChoices']+_0x4b785c(0x6a0)+_0x220ef1+_0x4b785c(0xbe2)+_0x2d77b5+'\x20'+simpleMathPrompt,_0x1199ac=_0x10a030;break;case _0x4b785c(0x43b):_0x5928a4='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x5e8e2c+'\x20'+_0x3bd4ea[_0x4b785c(0x3ed)]+'\x20ข้อ\x20'+_0x421ece+'\x20'+_0x498d6d+'\x20'+_0x34a450+'\x20'+_0x3f57c7+'\x20'+_0x22bdce+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x3bd4ea['numChoices']+_0x4b785c(0x668)+_0x2d77b5+'\x20'+simpleMathPrompt,_0x1199ac=_0x10a030;break;case'fill_in_no_choices':_0x5928a4=_0x4b785c(0x375)+_0x5e8e2c+'\x20'+_0x3bd4ea[_0x4b785c(0x3ed)]+_0x4b785c(0x891)+_0x421ece+'\x20'+_0x498d6d+'\x20'+_0x34a450+'\x20'+_0x3f57c7+'\x20'+_0x22bdce+_0x4b785c(0x88e)+_0x2d77b5+'\x20'+simpleMathPrompt,_0x1199ac=_0x10ece2;break;case _0x4b785c(0xa8d):_0x5928a4=_0x4b785c(0x70b)+_0x5e8e2c+'\x20'+_0x3bd4ea[_0x4b785c(0x3ed)]+_0x4b785c(0x891)+_0x421ece+'\x20'+_0x498d6d+'\x20'+_0x34a450+'\x20'+_0x3f57c7+'\x20'+_0x22bdce+_0x4b785c(0xdc3)+_0x3bd4ea['numChoices']+_0x4b785c(0xa23)+_0x2d77b5+'\x20'+simpleMathPrompt+'.',_0x1199ac=_0x1a7aed;break;case _0x4b785c(0x162):_0x5928a4=_0x4b785c(0x28b)+_0x5e8e2c+'\x20'+_0x3bd4ea[_0x4b785c(0x3ed)]+_0x4b785c(0x891)+_0x421ece+'\x20'+_0x498d6d+'\x20'+_0x34a450+'\x20'+_0x3f57c7+'\x20'+_0x22bdce+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x2d77b5+'\x20'+simpleMathPrompt,_0x1199ac=_0x36cf2f;break;case _0x4b785c(0xc90):_0x5928a4=_0x4b785c(0x741)+_0x5e8e2c+'\x20'+_0x3bd4ea['numQuestions']+_0x4b785c(0x59b)+_0x421ece+'\x20'+_0x498d6d+'\x20'+_0x34a450+'\x20'+_0x3f57c7+'\x20'+_0x22bdce+_0x4b785c(0xcf7)+_0x2d77b5+'\x20'+simpleMathPrompt,_0x1199ac=_0x178dbe;break;}_0x2263e7={'type':_0x4b785c(0xb09),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x1199ac}},'required':[_0x4b785c(0x1e8),_0x4b785c(0x1bc)]};}const _0x5b63ed=_0x4b785c(0xb3c);_0x244f07?(_0x380e98?_0x5928a4='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x244f07+_0x4b785c(0x46d)+_0x5928a4+_0x5b63ed:_0x5928a4='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x244f07+_0x4b785c(0x46d)+_0x5928a4,_0x17580c=_0x4b785c(0xb1e)):(_0x380e98&&(_0x5928a4+=_0x5b63ed),_0x17580c=_0x4b785c(0x9f9));let _0x15f63c;return _0x5d11d7?(_0x15f63c=[{'text':_0x5928a4},..._0x5d11d7],_0x17580c=_0x4b785c(0x39b)):_0x15f63c=_0x5928a4,handleApiCall(_0x15f63c,_0x17580c,_0x2263e7,_0x522271,!![],_0x1b1464,_0x1089ed);}async function generateQuizFromFile(_0x4d7550,_0xd2f101){const _0x142a74=_0x4813c4,_0x18dcef=document[_0x142a74(0x3a5)](_0x142a74(0x9dc))['value'][_0x142a74(0x7f3)](),_0xdc5754=document['getElementById'](_0x142a74(0x28c))['value'],_0x2db6d3=document[_0x142a74(0x3a5)](_0x142a74(0x118))[_0x142a74(0x909)],_0x3eea79=document['getElementById'](_0x142a74(0x456))[_0x142a74(0x909)],_0x5236c3=document[_0x142a74(0x3a5)](_0x142a74(0x4a1))[_0x142a74(0x2e0)],_0x351352=document[_0x142a74(0x3a5)](_0x142a74(0x361))['checked'],_0x310fd3=_0x351352?'':'คณิตศาสตร์',_0x15fb51=document[_0x142a74(0x3a5)](_0x142a74(0x3c3))['checked'];let _0x2ee0ef='',_0xc34c64;const _0x315d66=_0x5236c3?_0x142a74(0x1aa):'';if(_0x15fb51)_0x2ee0ef=_0x142a74(0xc91)+_0x315d66+'\x0a'+simpleMathPrompt+'\x0a',_0xc34c64={'type':_0x142a74(0xb09),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x142a74(0x260),_0x142a74(0x311),_0x142a74(0x162),_0x142a74(0x392)]},'options':{'type':'ARRAY','items':{'type':_0x142a74(0x799)}},'correctAnswerIndex':{'type':_0x142a74(0x29e)},'idealAnswer':{'type':_0x142a74(0x799)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x142a74(0x799)},'correctResponse':{'type':_0x142a74(0x799)},'allResponses':{'type':_0x142a74(0x7bb),'items':{'type':'STRING'}},'explanation':{'type':_0x142a74(0x799)},'imageCode':{'type':'STRING'}},'required':[_0x142a74(0x51d),_0x142a74(0x6dd)]};else{let _0x3116f4='เกี่ยวกับหัวข้อ\x20\x22'+_0x18dcef+'\x22';!_0x18dcef&&(_0x3116f4='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0xdc5754){case'multiple_choice':const _0xee3b54=_0x142a74(0x9a7);_0x2ee0ef=_0x142a74(0x5ef)+_0x310fd3+'\x20'+_0x2db6d3+_0x142a74(0x891)+_0x3116f4+_0x142a74(0x8ef)+_0x3eea79+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20'+_0xee3b54+_0x142a74(0x633)+_0x315d66+'\x20'+simpleMathPrompt,_0xc34c64={'type':'OBJECT','properties':{'questionText':{'type':_0x142a74(0x799)},'options':{'type':_0x142a74(0x7bb),'items':{'type':_0x142a74(0x799)}},'correctAnswerIndex':{'type':_0x142a74(0x29e)},'explanation':{'type':_0x142a74(0x799)},'imageCode':{'type':_0x142a74(0x799)}},'required':['questionText',_0x142a74(0x7f6),'correctAnswerIndex',_0x142a74(0x6dd)]};break;case'fill_in_with_choices':_0x2ee0ef=_0x142a74(0x375)+_0x310fd3+'\x20'+_0x2db6d3+_0x142a74(0x891)+_0x3116f4+_0x142a74(0xdcf)+_0x3eea79+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x315d66+'\x20'+simpleMathPrompt,_0xc34c64={'type':'OBJECT','properties':{'questionText':{'type':_0x142a74(0x799)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x142a74(0x29e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x142a74(0x799)}},'required':[_0x142a74(0x929),'options','correctAnswerIndex',_0x142a74(0x6dd)]};break;case _0x142a74(0x87d):_0x2ee0ef=_0x142a74(0x375)+_0x310fd3+'\x20'+_0x2db6d3+_0x142a74(0x891)+_0x3116f4+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x315d66+'\x20'+simpleMathPrompt,_0xc34c64={'type':_0x142a74(0xb09),'properties':{'questionText':{'type':_0x142a74(0x799)},'idealAnswer':{'type':_0x142a74(0x799)},'explanation':{'type':_0x142a74(0x799)},'imageCode':{'type':_0x142a74(0x799)}},'required':[_0x142a74(0x929),_0x142a74(0xd2d),'explanation']};break;case _0x142a74(0xa8d):_0x2ee0ef=_0x142a74(0x70b)+_0x310fd3+'\x20'+_0x2db6d3+_0x142a74(0x891)+_0x3116f4+_0x142a74(0x42a)+_0x3eea79+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x315d66+'\x20'+simpleMathPrompt+_0x142a74(0x1db),_0xc34c64={'type':_0x142a74(0xb09),'properties':{'questionText':{'type':_0x142a74(0x799)},'questionType':{'type':_0x142a74(0x799),'enum':[_0x142a74(0x260),_0x142a74(0x311)]},'options':{'type':_0x142a74(0x7bb),'items':{'type':_0x142a74(0x799)}},'correctAnswerIndex':{'type':_0x142a74(0x29e)},'idealAnswer':{'type':_0x142a74(0x799)},'explanation':{'type':_0x142a74(0x799)},'imageCode':{'type':_0x142a74(0x799)}},'required':[_0x142a74(0x929),_0x142a74(0x51d),_0x142a74(0x6dd)]};break;case _0x142a74(0x162):_0x2ee0ef=_0x142a74(0x28b)+_0x310fd3+'\x20'+_0x2db6d3+_0x142a74(0x891)+_0x3116f4+_0x142a74(0x465)+_0x315d66+'\x20'+simpleMathPrompt,_0xc34c64={'type':'OBJECT','properties':{'questionText':{'type':_0x142a74(0x799)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x142a74(0x799)},'imageCode':{'type':_0x142a74(0x799)}},'required':[_0x142a74(0x929),_0x142a74(0xa25),_0x142a74(0x6dd)]};break;case _0x142a74(0xc90):_0x2ee0ef=_0x142a74(0x741)+_0x310fd3+'\x20'+_0x2db6d3+'\x20คู่\x20'+_0x3116f4+_0x142a74(0x385)+_0x2db6d3+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x315d66+'\x20'+simpleMathPrompt,_0xc34c64={'type':_0x142a74(0xb09),'properties':{'questionType':{'type':'STRING','enum':[_0x142a74(0x392)]},'stem':{'type':_0x142a74(0x799)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x142a74(0x7bb),'items':{'type':_0x142a74(0x799)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x142a74(0x51d),_0x142a74(0xd4c),_0x142a74(0x18a),'allResponses',_0x142a74(0x6dd)]};break;}}const _0x63c85c={'type':_0x142a74(0xb09),'properties':{'topic':{'type':_0x142a74(0x799)},'questions':{'type':_0x142a74(0x7bb),'items':_0xc34c64}},'required':[_0x142a74(0x1e8),'questions']},_0x5cdd89=_0x142a74(0x47c)+_0x2ee0ef,_0x28de08={'contents':[{'parts':[{'text':_0x5cdd89},{'inlineData':{'mimeType':_0x4d7550,'data':_0xd2f101}}]}],'generationConfig':{'responseMimeType':_0x142a74(0x6b6),'responseSchema':_0x63c85c}};return handleApiCall(_0x28de08[_0x142a74(0xa9d)][0x0][_0x142a74(0x7cc)],_0x142a74(0x445),_0x63c85c);}async function handleApiCall(_0x42cd11,_0x1251ee,_0x1d2ac6,_0x5078a9=null,_0x2f8b34=!![],_0xaadac7=null,_0x319757=null){const _0x33d99e=_0x4813c4,_0x21f3cb=document[_0x33d99e(0x3a5)](_0x33d99e(0x8bc)),_0x55c3c7=document['getElementById']('loader'),_0x5f1d97=document[_0x33d99e(0x3a5)]('loader-text'),_0x5a74f8=document['getElementById'](_0x33d99e(0x7f9));_0x21f3cb[_0x33d99e(0xcde)][_0x33d99e(0xa30)](_0x33d99e(0xc15));_0x5078a9===null&&_0x2f8b34&&(_0x5a74f8[_0x33d99e(0xc7e)]='');_0x55c3c7['classList'][_0x33d99e(0xa30)](_0x33d99e(0xc15)),_0x5f1d97[_0x33d99e(0xd68)]=_0x1251ee,document[_0x33d99e(0x3a5)]('generate-from-topic-btn')[_0x33d99e(0x88c)]=!![],document['getElementById'](_0x33d99e(0x7a4))['disabled']=!![],document[_0x33d99e(0x3a5)](_0x33d99e(0x895))['disabled']=!![];const _0x2d67ac=document['getElementById'](_0x33d99e(0xc7c));if(_0x2d67ac)_0x2d67ac[_0x33d99e(0x88c)]=!![];const _0x542c5c=document['getElementById'](_0x33d99e(0xad5));if(_0x542c5c)_0x542c5c[_0x33d99e(0x88c)]=!![];const _0x4591c5=document['getElementById'](_0x33d99e(0xaf8));if(_0x4591c5)_0x4591c5[_0x33d99e(0x88c)]=!![];try{const _0x5306ae=Array[_0x33d99e(0xe18)](_0x42cd11)?_0x42cd11:[{'text':_0x42cd11}],_0x3202fb={'contents':[{'role':'user','parts':_0x5306ae}]};_0x1d2ac6&&(_0x3202fb[_0x33d99e(0x52d)]={'responseMimeType':_0x33d99e(0x6b6),'responseSchema':_0x1d2ac6});const _0xd8493e=_0x33d99e(0x1f3),_0x4b5dad=_0x33d99e(0x347)+_0xd8493e,_0x2ee34f=await fetch(_0x4b5dad,{'method':_0x33d99e(0x89a),'headers':{'Content-Type':_0x33d99e(0x6b6)},'body':JSON[_0x33d99e(0xe22)](_0x3202fb)});if(!_0x2ee34f['ok']){const _0x17a9cc=await _0x2ee34f[_0x33d99e(0xc97)]();console[_0x33d99e(0xabd)](_0x33d99e(0x41b),_0x17a9cc);throw new Error(_0x33d99e(0xb93)+_0x2ee34f[_0x33d99e(0xd0e)]);}const _0x212123=await _0x2ee34f['json']();if(!_0x212123[_0x33d99e(0xc8f)]||_0x212123[_0x33d99e(0xc8f)][_0x33d99e(0xdbe)]===0x0){let _0x699045=_0x33d99e(0xbec);return _0x212123[_0x33d99e(0x58a)]?.[_0x33d99e(0x7c1)]&&(_0x699045='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x212123['promptFeedback'][_0x33d99e(0x7c1)]+'.'),console[_0x33d99e(0xabd)](_0x699045,JSON[_0x33d99e(0xe22)](_0x212123)),null;}const _0xaf33cf=_0x212123[_0x33d99e(0xc8f)][0x0][_0x33d99e(0x485)]['parts'][0x0][_0x33d99e(0xc97)];if(_0x1d2ac6){let _0x995dee=_0xaf33cf;if(_0x995dee[_0x33d99e(0xb74)](_0x33d99e(0xb3e)))_0x995dee=_0x995dee[_0x33d99e(0x55a)](0x7,_0x995dee['length']-0x3)[_0x33d99e(0x7f3)]();else _0x995dee['startsWith'](_0x33d99e(0x66e))&&(_0x995dee=_0x995dee[_0x33d99e(0x55a)](0x3,_0x995dee[_0x33d99e(0xdbe)]-0x3)['trim']());let _0x5eb437=JSON['parse'](_0x995dee);if(_0x5eb437[_0x33d99e(0x1bc)]&&Array[_0x33d99e(0xe18)](_0x5eb437[_0x33d99e(0x1bc)])){const _0x313214=_0x5eb437[_0x33d99e(0x1bc)][_0x33d99e(0xd05)](_0x4d1cc4=>_0x4d1cc4[_0x33d99e(0x51d)]===_0x33d99e(0x392));if(_0x313214[_0x33d99e(0xdbe)]>0x1){const _0x45431c=_0x313214[_0x33d99e(0x86c)](_0x55ea4b=>_0x55ea4b[_0x33d99e(0x18a)])[_0x33d99e(0xd05)](_0x5e0f73=>_0x5e0f73&&_0x5e0f73[_0x33d99e(0x7f3)]()!=='');shuffleArray(_0x45431c),_0x313214['forEach'](_0x139d5b=>{const _0x2bda38=_0x33d99e;_0x139d5b[_0x2bda38(0xd2c)]=[..._0x45431c];}),console[_0x33d99e(0x84)](_0x33d99e(0x50e),_0x45431c);}}if(_0x2f8b34){if(_0x5078a9!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x33d99e(0x1bc)]){}}else currentQuizData=_0x5eb437,displayGeneratedQuiz(currentQuizData,_0xaadac7,_0x319757);}return _0x5eb437;}else return _0xaf33cf;}catch(_0x55e90a){console['error'](_0x33d99e(0x804),_0x55e90a),showMessage(_0x33d99e(0xc79)+_0x55e90a[_0x33d99e(0xbd0)]);_0x2f8b34&&(_0x5a74f8[_0x33d99e(0xc7e)]=_0x33d99e(0xb89));throw _0x55e90a;}finally{_0x55c3c7[_0x33d99e(0xcde)][_0x33d99e(0x483)]('hidden'),document['getElementById'](_0x33d99e(0x884))[_0x33d99e(0x88c)]=![],document[_0x33d99e(0x3a5)]('generate-from-text-btn')[_0x33d99e(0x88c)]=![],document[_0x33d99e(0x3a5)]('generate-from-link-btn')[_0x33d99e(0x88c)]=![];if(_0x2d67ac)_0x2d67ac[_0x33d99e(0x88c)]=![];if(_0x542c5c)_0x542c5c['disabled']=![];if(_0x4591c5)_0x4591c5[_0x33d99e(0x88c)]=![];}}function exitFullscreen(){const _0x5848c3=_0x4813c4;if(document[_0x5848c3(0x2a3)])document['exitFullscreen']()['catch'](_0x4cc59e=>console[_0x5848c3(0xabd)](_0x4cc59e));else{if(document['webkitExitFullscreen'])document[_0x5848c3(0xc55)]();else document['msExitFullscreen']&&document[_0x5848c3(0x648)]();}}function enterFullscreen(){const _0x257f07=_0x4813c4,_0x3799e6=document[_0x257f07(0xba6)];if(_0x3799e6[_0x257f07(0xcf)])_0x3799e6[_0x257f07(0xcf)]()['catch'](_0x98dec9=>{const _0x4443df=_0x257f07;console[_0x4443df(0xabd)](_0x4443df(0x446)+_0x98dec9['message']+'\x20('+_0x98dec9[_0x4443df(0x4a4)]+')');});else{if(_0x3799e6[_0x257f07(0x313)])_0x3799e6[_0x257f07(0x313)]();else _0x3799e6['msRequestFullscreen']&&_0x3799e6[_0x257f07(0xd46)]();}}function handleCheatingEvent(){const _0x34f83c=_0x4813c4;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x34f83c(0x336),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x34f83c(0x9d8)+maxCheatAttempts+_0x34f83c(0x991)),document[_0x34f83c(0x3a5)](_0x34f83c(0x214))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x34f83c(0x751)](_0x34f83c(0xb7),handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage(_0x34f83c(0x6e4)+cheatAttempts+'/'+maxCheatAttempts+_0x34f83c(0x4cb),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x25bd3a=_0x4813c4;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x25bd3a(0x5b3)]==='hidden')handleCheatingEvent();else document['visibilityState']===_0x25bd3a(0x397)&&(console[_0x25bd3a(0x84)](_0x25bd3a(0x6d9)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x32e3c4=_0x4813c4;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x32e3c4(0xbfc)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x20a0f5,_0x3adca9=null,_0x15b85f=null){const _0x87f5a9=_0x4813c4,_0x152383=document[_0x87f5a9(0x3a5)](_0x87f5a9(0x7f9));let _0x18ff61=_0x87f5a9(0x383)+_0x20a0f5[_0x87f5a9(0x1e8)]+_0x87f5a9(0x210);_0x20a0f5[_0x87f5a9(0x1bc)]['forEach']((_0x19a34e,_0x3f3608)=>{const _0x33aad0=_0x87f5a9;!_0x19a34e['id']&&(_0x19a34e['id']='q_'+Date[_0x33aad0(0x2d9)]()+'_'+_0x3f3608);const _0x1a4c09=_0x19a34e[_0x33aad0(0x51d)]||_0x20a0f5[_0x33aad0(0xa34)];_0x18ff61+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x3f3608+_0x33aad0(0x76a)+_0x3f3608+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3f3608+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x1a4c09==='matching_item'?_0x18ff61+=_0x33aad0(0xc0e)+_0x3f3608+'\x22>'+(_0x3f3608+0x1)+'.\x20'+_0x19a34e['stem']+_0x33aad0(0x340):_0x18ff61+=_0x33aad0(0xc0e)+_0x3f3608+'\x22>'+(_0x3f3608+0x1)+'.\x20'+_0x19a34e[_0x33aad0(0x929)]+_0x33aad0(0x340);_0x19a34e[_0x33aad0(0x690)]&&(_0x18ff61+=_0x33aad0(0x613)+_0x3f3608+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x19a34e['imageCode']+_0x33aad0(0x2fc));if(_0x19a34e['options']&&Array[_0x33aad0(0xe18)](_0x19a34e[_0x33aad0(0x7f6)])&&_0x19a34e[_0x33aad0(0x7f6)][_0x33aad0(0xdbe)]>0x0)_0x18ff61+=_0x33aad0(0x3cb)+_0x3f3608+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19a34e[_0x33aad0(0x7f6)][_0x33aad0(0x86c)]((_0x4abd03,_0x22b462)=>_0x33aad0(0xdd6)+(_0x22b462===_0x19a34e['correctAnswerIndex']?_0x33aad0(0x3aa):'')+'\x22>'+_0x4abd03+'</li>')['join']('')+_0x33aad0(0x933);else{if(_0x1a4c09==='matching_item'||_0x19a34e[_0x33aad0(0x18a)])_0x18ff61+=_0x33aad0(0xa15)+_0x3f3608+'\x22>'+_0x19a34e['correctResponse']+_0x33aad0(0x358);else{if(_0x1a4c09===_0x33aad0(0x162)||typeof _0x19a34e[_0x33aad0(0xa25)]===_0x33aad0(0x17c))_0x18ff61+=_0x33aad0(0xbb7)+(_0x19a34e['correctAnswer']===!![]?_0x33aad0(0x3aa):'')+_0x33aad0(0x15a)+(_0x19a34e[_0x33aad0(0xa25)]===![]?_0x33aad0(0x3aa):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0x19a34e[_0x33aad0(0xd2d)]?_0x18ff61+=_0x33aad0(0xe06)+_0x3f3608+'\x22>'+_0x19a34e['idealAnswer']+'</span></div>':_0x18ff61+=_0x33aad0(0x46c);}}_0x18ff61+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x3f3608+'\x22>'+_0x19a34e['explanation']+_0x33aad0(0x358),_0x18ff61+=_0x33aad0(0x2fc);}),_0x18ff61+=_0x87f5a9(0x650),_0x152383[_0x87f5a9(0xc7e)]=_0x18ff61,document[_0x87f5a9(0x660)](_0x87f5a9(0x306))['forEach'](_0x13c07a=>_0x13c07a[_0x87f5a9(0x9f0)]('click',handleEditQuestion)),document[_0x87f5a9(0x660)](_0x87f5a9(0x7c5))['forEach'](_0x12dda8=>_0x12dda8[_0x87f5a9(0x9f0)]('click',handleRegenerateQuestion)),document[_0x87f5a9(0x3a5)](_0x87f5a9(0xcb9))['addEventListener']('click',exportQuizAsWorksheetPDF),document[_0x87f5a9(0x3a5)](_0x87f5a9(0x8f9))[_0x87f5a9(0x9f0)](_0x87f5a9(0x79c),handleVerifyAnswers);const _0x31586b=document['getElementById'](_0x87f5a9(0x57a));if(_0x31586b){const _0x40c9f7=_0x3adca9||currentProjectId;_0x31586b['addEventListener']('click',()=>saveQuiz(_0x40c9f7,_0x15b85f));}if(window[_0x87f5a9(0xe2)])window[_0x87f5a9(0xe2)][_0x87f5a9(0xacf)]([_0x152383]);}function handleRegenerateQuestion(_0x4d66ef){const _0x54e459=_0x4813c4,_0x5382b2=_0x4d66ef[_0x54e459(0x45b)]['dataset'][_0x54e459(0x459)],_0x5862a0=currentQuizData[_0x54e459(0x1e8)];showMessage(_0x54e459(0x90c)+(parseInt(_0x5382b2)+0x1)+_0x54e459(0x357)),generateQuiz(_0x5862a0,null,parseInt(_0x5382b2));}function getPointerPosition(_0x458552,_0x2163e5){const _0x3eeab3=_0x4813c4,_0x276d3e=_0x458552[_0x3eeab3(0xaf9)]();let _0x2bc1b7,_0x59522e;return _0x2163e5[_0x3eeab3(0x75e)]&&_0x2163e5['touches'][_0x3eeab3(0xdbe)]>0x0?(_0x2bc1b7=_0x2163e5[_0x3eeab3(0x75e)][0x0][_0x3eeab3(0xb99)],_0x59522e=_0x2163e5['touches'][0x0][_0x3eeab3(0xaca)]):(_0x2bc1b7=_0x2163e5[_0x3eeab3(0xb99)],_0x59522e=_0x2163e5[_0x3eeab3(0xaca)]),{'x':(_0x2bc1b7-_0x276d3e['e'])/_0x276d3e['a'],'y':(_0x59522e-_0x276d3e['f'])/_0x276d3e['d']};}function startDrag(_0x519523){const _0x263ef2=_0x4813c4;_0x519523['type']===_0x263ef2(0xc32)&&_0x519523[_0x263ef2(0xb49)]();const _0x43e0d9=_0x519523['target'][_0x263ef2(0x5f8)](_0x263ef2(0xcb3));if(_0x43e0d9){draggedSvgElement=_0x43e0d9;const _0x42a62a=draggedSvgElement[_0x263ef2(0x8e7)],_0x236231=getPointerPosition(_0x42a62a,_0x519523);svgOffset['x']=_0x236231['x']-parseFloat(draggedSvgElement[_0x263ef2(0x34a)](null,'x')),svgOffset['y']=_0x236231['y']-parseFloat(draggedSvgElement[_0x263ef2(0x34a)](null,'y'));}}function calculateItemAnalysis(_0x4a2b53,_0x2b068c){const _0x4b4309=_0x4813c4,_0x1b0b1d={};if(_0x2b068c['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xc6e77=[..._0x2b068c][_0x4b4309(0x9a1)]((_0x35e3ba,_0x578fda)=>{const _0x396eec=_0x4b4309,_0x21f8cb=_0x578fda['latestScore']-_0x35e3ba[_0x396eec(0x76b)];if(_0x21f8cb!==0x0)return _0x21f8cb;const _0xc2dd48=_0x35e3ba[_0x396eec(0xb6a)]?.[_0x396eec(0xdbe)]||0x1,_0x33add2=_0x578fda['attempts']?.['length']||0x1,_0x4ebcaf=_0xc2dd48-_0x33add2;if(_0x4ebcaf!==0x0)return _0x4ebcaf;const _0x3be250=new Date(_0x35e3ba[_0x396eec(0x73c)]),_0x59ac55=new Date(_0x578fda[_0x396eec(0x73c)]),_0x13df14=_0x3be250-_0x59ac55;if(_0x13df14!==0x0)return _0x13df14;return _0x35e3ba[_0x396eec(0x1af)][_0x396eec(0x5f6)](_0x578fda[_0x396eec(0x1af)],'th');}),_0x28de02=_0xc6e77['length'],_0x58f0e2=Math[_0x4b4309(0x4c9)](0x1,Math[_0x4b4309(0x304)](_0x28de02*0.33));if(_0x58f0e2===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3f4acc=_0xc6e77[_0x4b4309(0xa8a)](0x0,_0x58f0e2),_0x54303b=_0xc6e77[_0x4b4309(0xa8a)](-_0x58f0e2),_0x57c0ec=_0x3f4acc[_0x4b4309(0x86c)](_0x3573a1=>_0x3573a1[_0x4b4309(0x1af)]),_0x2a8230=_0x54303b[_0x4b4309(0x86c)](_0x5d5e02=>_0x5d5e02[_0x4b4309(0x1af)]);return _0x4a2b53['questions'][_0x4b4309(0x140)]((_0x1beed9,_0x3fcdaa)=>{const _0x159bff=_0x4b4309,_0x5ad4c8=_0x1beed9[_0x159bff(0xd4c)]||_0x1beed9[_0x159bff(0x929)];let _0x47d8a8=0x0,_0x38da78=0x0,_0x33a881=0x0;const _0x338098=[],_0x265d70=[];_0x3f4acc[_0x159bff(0x140)](_0x50d66c=>{const _0x144d25=_0x159bff,_0x588898=_0x50d66c[_0x144d25(0xb6a)][_0x50d66c[_0x144d25(0xb6a)][_0x144d25(0xdbe)]-0x1],_0xd49d52=_0x588898[_0x144d25(0x1b8)][_0x144d25(0x5d9)](_0x16f936=>_0x16f936[_0x144d25(0xb8e)]===_0x5ad4c8);_0x338098['push']({'name':_0x50d66c[_0x144d25(0x1af)],'isCorrect':_0xd49d52?_0xd49d52[_0x144d25(0x8a)]:![]}),_0xd49d52&&_0xd49d52['isCorrect']&&_0x38da78++;}),_0x54303b[_0x159bff(0x140)](_0x39dab7=>{const _0x19bc92=_0x159bff,_0x5aaa01=_0x39dab7[_0x19bc92(0xb6a)][_0x39dab7[_0x19bc92(0xb6a)][_0x19bc92(0xdbe)]-0x1],_0x105e44=_0x5aaa01[_0x19bc92(0x1b8)][_0x19bc92(0x5d9)](_0x2258d4=>_0x2258d4[_0x19bc92(0xb8e)]===_0x5ad4c8);_0x265d70[_0x19bc92(0x8a5)]({'name':_0x39dab7[_0x19bc92(0x1af)],'isCorrect':_0x105e44?_0x105e44[_0x19bc92(0x8a)]:![]}),_0x105e44&&_0x105e44['isCorrect']&&_0x33a881++;}),_0x2b068c[_0x159bff(0x140)](_0x2093cc=>{const _0x5aba34=_0x159bff,_0x56d809=_0x2093cc[_0x5aba34(0xb6a)][_0x2093cc[_0x5aba34(0xb6a)]['length']-0x1],_0x419905=_0x56d809[_0x5aba34(0x1b8)][_0x5aba34(0x5d9)](_0x2ea325=>_0x2ea325[_0x5aba34(0xb8e)]===_0x5ad4c8);_0x419905&&_0x419905[_0x5aba34(0x8a)]&&_0x47d8a8++;});const _0x4ce8cd=_0x28de02>0x0?_0x47d8a8/_0x28de02:0x0,_0x3978b3=_0x58f0e2>0x0?_0x38da78/_0x58f0e2-_0x33a881/_0x58f0e2:0x0;_0x1b0b1d[_0x3fcdaa]={'p':_0x4ce8cd,'r':_0x3978b3,'upperGroupResponders':_0x338098,'lowerGroupResponders':_0x265d70};}),{'perQuestionStats':_0x1b0b1d,'overallGroups':{'upperGroupNames':_0x57c0ec,'lowerGroupNames':_0x2a8230}};}function drag(_0x241c2c){const _0x390e58=_0x4813c4;if(draggedSvgElement){_0x241c2c['preventDefault']();const _0x10bf35=draggedSvgElement[_0x390e58(0x8e7)],_0x29b351=getPointerPosition(_0x10bf35,_0x241c2c),_0x158f41=_0x10bf35[_0x390e58(0x27a)][_0x390e58(0x44f)];let _0x1ae445=_0x29b351['x']-svgOffset['x'],_0x5b0ef7=_0x29b351['y']-svgOffset['y'];const _0x51be3b=draggedSvgElement[_0x390e58(0x711)]();_0x1ae445=Math['max'](_0x158f41['x'],Math['min'](_0x1ae445,_0x158f41['x']+_0x158f41['width']-_0x51be3b[_0x390e58(0x7e9)])),_0x5b0ef7=Math['max'](_0x158f41['y'],Math[_0x390e58(0xcfb)](_0x5b0ef7,_0x158f41['y']+_0x158f41[_0x390e58(0x65f)]-_0x51be3b['height'])),draggedSvgElement[_0x390e58(0x94a)](null,'x',_0x1ae445),draggedSvgElement[_0x390e58(0x94a)](null,'y',_0x5b0ef7);}}function endDrag(_0x299b56){draggedSvgElement=null;}function handleSvgEditClick(_0x53600c){const _0x2949e8=_0x4813c4;if(_0x53600c[_0x2949e8(0x940)][_0x2949e8(0xcde)][_0x2949e8(0xca5)](_0x2949e8(0xda4))){const _0x2cf21e=_0x53600c[_0x2949e8(0x940)][_0x2949e8(0x315)][_0x2949e8(0xc12)],_0x2960bd=_0x53600c[_0x2949e8(0x45b)],_0x3bd5e5=_0x2960bd['querySelector']('#'+_0x2cf21e);_0x3bd5e5&&_0x3bd5e5[_0x2949e8(0xa30)](),_0x53600c['target'][_0x2949e8(0xa30)]();}}function handleEditQuestion(_0x4b596b){const _0x1dd005=_0x4813c4,_0x396326=_0x4b596b[_0x1dd005(0x45b)],_0x290c83=_0x396326[_0x1dd005(0x315)][_0x1dd005(0x459)],_0x2949fe=currentQuizData[_0x1dd005(0x1bc)][_0x290c83],_0x2448a0=document['getElementById'](_0x1dd005(0x536)+_0x290c83),_0x14c071=document[_0x1dd005(0x3a5)](_0x1dd005(0x822)+_0x290c83),_0x514694=document['getElementById']('q-image-container-'+_0x290c83);if(_0x396326[_0x1dd005(0xc7e)][_0x1dd005(0xc4f)](_0x1dd005(0x85a))){_0x396326[_0x1dd005(0xc7e)]=_0x1dd005(0x592),_0x396326['title']='บันทึกการแก้ไข';if(_0x2448a0)_0x2448a0['contentEditable']=!![];if(_0x14c071)_0x14c071[_0x1dd005(0x8dc)]=!![];if(_0x514694){const _0x2cf0b2=_0x514694[_0x1dd005(0x169)](_0x1dd005(0xba5));if(_0x2cf0b2){const _0x587d31=_0x2cf0b2[_0x1dd005(0x660)](_0x1dd005(0xc97));_0x587d31[_0x1dd005(0x140)]((_0xaecd94,_0x3fab7d)=>{const _0x24fa1b=_0x1dd005,_0x3fc2a5=_0x24fa1b(0x557)+_0x290c83+'-'+_0x3fab7d;_0xaecd94['id']=_0x3fc2a5,_0xaecd94[_0x24fa1b(0xcde)][_0x24fa1b(0x483)](_0x24fa1b(0x2c8)),_0xaecd94[_0x24fa1b(0x40d)]['cursor']='move';const _0x39aa31=document['createElementNS'](_0x24fa1b(0xc47),_0x24fa1b(0x202)),_0x3e6e8f=_0xaecd94[_0x24fa1b(0x711)]();_0x39aa31[_0x24fa1b(0x5c7)]('cx',String(_0x3e6e8f['x']+_0x3e6e8f[_0x24fa1b(0x7e9)]+0x5)),_0x39aa31[_0x24fa1b(0x5c7)]('cy',String(_0x3e6e8f['y']+_0x3e6e8f['height']/0x2-0x5)),_0x39aa31[_0x24fa1b(0x5c7)]('r','5'),_0x39aa31[_0x24fa1b(0x5c7)](_0x24fa1b(0xb20),_0x24fa1b(0x17f)),_0x39aa31[_0x24fa1b(0x5c7)]('class','delete-svg-btn'),_0x39aa31[_0x24fa1b(0x315)][_0x24fa1b(0xc12)]=_0x3fc2a5,_0xaecd94[_0x24fa1b(0xc45)](_0x39aa31);}),_0x2cf0b2['addEventListener']('mousedown',startDrag),_0x2cf0b2['addEventListener'](_0x1dd005(0x4a2),drag),_0x2cf0b2[_0x1dd005(0x9f0)]('mouseup',endDrag),_0x2cf0b2[_0x1dd005(0x9f0)]('mouseleave',endDrag),_0x2cf0b2['addEventListener'](_0x1dd005(0xc32),startDrag,{'passive':![]}),_0x2cf0b2[_0x1dd005(0x9f0)](_0x1dd005(0xd59),drag,{'passive':![]}),_0x2cf0b2[_0x1dd005(0x9f0)](_0x1dd005(0xa78),endDrag),_0x2cf0b2['addEventListener'](_0x1dd005(0x96a),endDrag),_0x2cf0b2[_0x1dd005(0x9f0)](_0x1dd005(0x79c),handleSvgEditClick);}}if(_0x2448a0)_0x2448a0[_0x1dd005(0x4af)]();}else{_0x396326[_0x1dd005(0xc7e)]=_0x1dd005(0x37b),_0x396326[_0x1dd005(0x982)]=_0x1dd005(0x8e8);if(_0x2448a0){_0x2448a0[_0x1dd005(0x8dc)]=![];const _0x2ddece=_0x2949fe[_0x1dd005(0x51d)]||currentQuizData[_0x1dd005(0xa34)];_0x2ddece===_0x1dd005(0x392)?_0x2949fe[_0x1dd005(0xd4c)]=_0x2448a0[_0x1dd005(0xbac)][_0x1dd005(0x55a)](_0x2448a0[_0x1dd005(0xbac)][_0x1dd005(0x513)]('.')+0x2)[_0x1dd005(0x7f3)]():_0x2949fe[_0x1dd005(0x929)]=_0x2448a0[_0x1dd005(0xbac)][_0x1dd005(0x55a)](_0x2448a0[_0x1dd005(0xbac)][_0x1dd005(0x513)]('.')+0x2)[_0x1dd005(0x7f3)]();}_0x14c071&&(_0x14c071[_0x1dd005(0x8dc)]=![],_0x2949fe['explanation']=_0x14c071[_0x1dd005(0xbac)]);if(_0x514694){const _0x4ed5ba=_0x514694[_0x1dd005(0x169)](_0x1dd005(0xba5));if(_0x4ed5ba){const _0x50e8dc=_0x4ed5ba['cloneNode'](!![]);_0x50e8dc[_0x1dd005(0x660)](_0x1dd005(0x205))[_0x1dd005(0x140)](_0x522dcf=>_0x522dcf[_0x1dd005(0xa30)]()),_0x50e8dc[_0x1dd005(0x660)](_0x1dd005(0xcb3))['forEach'](_0x27bb6c=>{const _0x314894=_0x1dd005;_0x27bb6c[_0x314894(0xcde)][_0x314894(0xa30)]('draggable-text'),_0x27bb6c['style'][_0x314894(0x759)]=_0x314894(0x28a),_0x27bb6c[_0x314894(0xe13)]('id');}),_0x2949fe[_0x1dd005(0x690)]=_0x50e8dc[_0x1dd005(0x962)],_0x4ed5ba[_0x1dd005(0x751)](_0x1dd005(0x6d5),startDrag),_0x4ed5ba[_0x1dd005(0x751)](_0x1dd005(0x4a2),drag),_0x4ed5ba['removeEventListener'](_0x1dd005(0x6e8),endDrag),_0x4ed5ba[_0x1dd005(0x751)](_0x1dd005(0x33e),endDrag),_0x4ed5ba['removeEventListener'](_0x1dd005(0xc32),startDrag),_0x4ed5ba['removeEventListener'](_0x1dd005(0xd59),drag),_0x4ed5ba[_0x1dd005(0x751)](_0x1dd005(0xa78),endDrag),_0x4ed5ba['removeEventListener'](_0x1dd005(0x96a),endDrag),_0x4ed5ba[_0x1dd005(0x751)](_0x1dd005(0x79c),handleSvgEditClick),_0x4ed5ba[_0x1dd005(0x660)](_0x1dd005(0x205))[_0x1dd005(0x140)](_0x13f18a=>_0x13f18a['remove']()),_0x4ed5ba[_0x1dd005(0x660)](_0x1dd005(0xcb3))[_0x1dd005(0x140)](_0x57d404=>{const _0x330e23=_0x1dd005;_0x57d404[_0x330e23(0xcde)][_0x330e23(0xa30)](_0x330e23(0x2c8)),_0x57d404['style'][_0x330e23(0x759)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x562524){const _0x578056=_0x4813c4,_0x2300ef=document[_0x578056(0x3a5)](_0x578056(0xd93)),_0x52dc73=document['getElementById'](_0x578056(0x61d));_0x52dc73[_0x578056(0xc7e)]=_0x578056(0x61e),_0x2300ef[_0x578056(0xcde)][_0x578056(0xa30)](_0x578056(0xc15));try{const _0x18757c=doc(db,_0x578056(0x2b3)+appId+_0x578056(0x60d),_0x562524),_0x1d4703=await getDoc(_0x18757c);if(!_0x1d4703[_0x578056(0x3ea)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x562524,..._0x1d4703[_0x578056(0x1ea)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x53ea73){console[_0x578056(0xabd)](_0x578056(0x404),_0x53ea73),showMessage(_0x578056(0x8b6)),_0x2300ef[_0x578056(0xcde)][_0x578056(0x483)](_0x578056(0xc15));}}function renderQuizEditor(_0x3efe54){const _0x36e140=_0x4813c4;document[_0x36e140(0x3a5)](_0x36e140(0x37e))[_0x36e140(0x909)]=_0x3efe54[_0x36e140(0x1e8)];const _0x417d3a=document[_0x36e140(0x3a5)](_0x36e140(0x61d));let _0x279865=_0x3efe54['questions'][_0x36e140(0x86c)]((_0xcd7e9b,_0x2d1736)=>{const _0x2be865=_0x36e140;let _0x4951f2='';const _0x183c7e=_0xcd7e9b['questionType']||_0x3efe54['quizType'],_0x3e77a6=(_0x183c7e==='short_answer'||_0x183c7e==='fill_in_no_choices')&&_0xcd7e9b['options']&&_0xcd7e9b['options'][_0x2be865(0xdbe)]>0x0;switch(_0x183c7e){case _0x2be865(0x260):const _0x5ae4bd=(_0xcd7e9b[_0x2be865(0x7f6)]||[])[_0x2be865(0x86c)]((_0x588992,_0x5189f1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x2d1736+_0x2be865(0x9e1)+_0x5189f1+'\x22\x20'+(_0x5189f1===_0xcd7e9b[_0x2be865(0x54b)]?_0x2be865(0x2e0):'')+_0x2be865(0x83d)+_0x588992+_0x2be865(0x381))['join']('');_0x4951f2=_0x2be865(0xe2d)+_0x5ae4bd+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'fill_in_no_choices':case _0x2be865(0x311):_0x4951f2=_0x2be865(0xab4)+(_0xcd7e9b[_0x2be865(0xd2d)]||'')+_0x2be865(0x50d);if(_0x3e77a6){const _0x1e121f=(_0xcd7e9b[_0x2be865(0x7f6)]||[])[_0x2be865(0x86c)]((_0x5a602f,_0x3df27a)=>_0x2be865(0x7e3)+_0x2d1736+_0x2be865(0x9e1)+_0x3df27a+'\x22\x20'+(_0x3df27a===_0xcd7e9b[_0x2be865(0x54b)]?'checked':'')+_0x2be865(0x94d)+_0x5a602f+'\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2be865(0x15d)]('');_0x4951f2+=_0x2be865(0x578)+_0x1e121f+_0x2be865(0x480);}break;case'true_false':_0x4951f2=_0x2be865(0x809)+_0x2d1736+_0x2be865(0xa2b)+(_0xcd7e9b[_0x2be865(0xa25)]===!![]?_0x2be865(0x2e0):'')+_0x2be865(0xc0d)+_0x2d1736+_0x2be865(0x2c9)+(_0xcd7e9b[_0x2be865(0xa25)]===![]?_0x2be865(0x2e0):'')+_0x2be865(0xd0d);break;case _0x2be865(0x392):_0x4951f2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0xcd7e9b[_0x2be865(0x18a)]||'')+_0x2be865(0x719);break;}let _0x3da986=_0xcd7e9b[_0x2be865(0x929)]||_0xcd7e9b[_0x2be865(0xd4c)]||'';_0x3da986=_0x3da986['replace'](/<br\s*\/?>/gi,'\x0a');let _0x152bf5='';if(_0x183c7e===_0x2be865(0x260))_0x152bf5='<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>';else _0x3e77a6&&(_0x152bf5=_0x2be865(0x9e6));return _0x2be865(0xb48)+_0x2d1736+_0x2be865(0xc5c)+_0x183c7e+_0x2be865(0x5a0)+_0x152bf5+'\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x2d1736+0x1)+'\x20('+_0x183c7e+_0x2be865(0xa3)+_0x3da986+_0x2be865(0x46f)+_0x4951f2+_0x2be865(0x533);})[_0x36e140(0x15d)]('');_0x417d3a[_0x36e140(0xc7e)]=_0x279865;const _0x5962ec=_0x36e140(0x7fe);_0x417d3a['insertAdjacentHTML'](_0x36e140(0xce8),_0x5962ec),_0x417d3a['querySelectorAll'](_0x36e140(0xd06))['forEach'](_0x473b12=>{const _0x2e26f8=_0x36e140;_0x473b12[_0x2e26f8(0x40d)][_0x2e26f8(0xd3c)]=_0x2e26f8(0xc15),_0x473b12[_0x2e26f8(0x40d)]['minHeight']=_0x2e26f8(0xb0f),_0x473b12['rows']=0x4;const _0x37dc17=()=>{const _0x1822cb=_0x2e26f8;_0x473b12[_0x1822cb(0x40d)][_0x1822cb(0x65f)]='auto',_0x473b12[_0x1822cb(0x40d)]['height']=_0x473b12['scrollHeight']+'px';};_0x473b12[_0x2e26f8(0x9f0)]('input',_0x37dc17),_0x37dc17();}),_0x417d3a[_0x36e140(0x660)](_0x36e140(0xc64))[_0x36e140(0x140)](_0x129667=>{const _0x5eddcd=_0x36e140;_0x129667['addEventListener'](_0x5eddcd(0x79c),handleAiFixQuestion);}),_0x417d3a[_0x36e140(0x660)](_0x36e140(0x65b))[_0x36e140(0x140)](_0x2a4906=>{const _0x5927e9=_0x36e140;_0x2a4906[_0x5927e9(0x9f0)](_0x5927e9(0x79c),_0x179ac7=>{const _0x261c8d=_0x5927e9,_0x2d10ef=parseInt(_0x179ac7[_0x261c8d(0x45b)][_0x261c8d(0x5f8)](_0x261c8d(0xcba))[_0x261c8d(0x315)][_0x261c8d(0x176)],0xa);handleAiFixFormula(_0x2d10ef);});}),_0x417d3a[_0x36e140(0x660)](_0x36e140(0x9d4))[_0x36e140(0x140)](_0x5ce812=>{const _0x3bac46=_0x36e140;_0x5ce812['addEventListener'](_0x3bac46(0x79c),_0x22e4c5=>{const _0x201e68=_0x3bac46,_0x2cc085=parseInt(_0x22e4c5[_0x201e68(0x45b)][_0x201e68(0x5f8)](_0x201e68(0xcba))[_0x201e68(0x315)]['qIndex'],0xa);handleToggleHiddenOptions(_0x2cc085);});});}function handleToggleHiddenOptions(_0x1c0d8f){const _0x399408=_0x4813c4;if(!currentEditingQuizData||!currentEditingQuizData[_0x399408(0x1bc)][_0x1c0d8f])return;const _0x626358=currentEditingQuizData[_0x399408(0x1bc)][_0x1c0d8f],_0x4973bd=_0x626358[_0x399408(0x51d)]||_0x399408(0x260),_0xf82a96=document[_0x399408(0x169)]('.question-editor-item[data-q-index=\x22'+_0x1c0d8f+'\x22]');if(_0xf82a96){_0x626358[_0x399408(0x929)]=_0xf82a96[_0x399408(0x169)](_0x399408(0x417))[_0x399408(0x909)];if(_0x4973bd==='multiple_choice'){const _0x302ef1=_0xf82a96[_0x399408(0x660)](_0x399408(0xaec));_0x626358[_0x399408(0x7f6)]=Array[_0x399408(0x1a4)](_0x302ef1)[_0x399408(0x86c)](_0x45c2a2=>_0x45c2a2['value']);const _0x165b2e=_0xf82a96['querySelector'](_0x399408(0x976));if(_0x165b2e)_0x626358[_0x399408(0x54b)]=parseInt(_0x165b2e[_0x399408(0x909)]);}else{if(_0x4973bd===_0x399408(0x311)||_0x4973bd===_0x399408(0x87d)){const _0x16626f=_0xf82a96[_0x399408(0x169)](_0x399408(0x828));if(_0x16626f)_0x626358[_0x399408(0xd2d)]=_0x16626f[_0x399408(0x909)];const _0x297bcf=_0xf82a96[_0x399408(0x660)](_0x399408(0xdf7));_0x297bcf[_0x399408(0xdbe)]>0x0&&(_0x626358[_0x399408(0x7f6)]=Array['from'](_0x297bcf)[_0x399408(0x86c)](_0x34bbd7=>_0x34bbd7[_0x399408(0x909)]));}}}_0x4973bd===_0x399408(0x260)?(_0x626358[_0x399408(0x51d)]=_0x399408(0x311),_0x626358['options']&&_0x626358[_0x399408(0x54b)]!==undefined&&(_0x626358[_0x399408(0xd2d)]=_0x626358[_0x399408(0x7f6)][_0x626358[_0x399408(0x54b)]]||'')):_0x626358['questionType']=_0x399408(0x260),renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x17fa94){const _0x5cd65d=_0x4813c4;if(!currentEditingQuizData||!currentEditingQuizData[_0x5cd65d(0x1bc)][_0x17fa94])return;const _0x2c78bf=currentEditingQuizData[_0x5cd65d(0x1bc)][_0x17fa94][_0x5cd65d(0x929)]||currentEditingQuizData['questions'][_0x17fa94]['stem'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20'+(_0x17fa94+0x1)+_0x5cd65d(0x591)+_0x2c78bf[_0x5cd65d(0x55a)](0x0,0x14)+_0x5cd65d(0x607),()=>{const _0x5858f0=_0x5cd65d;currentEditingQuizData[_0x5858f0(0x1bc)]['splice'](_0x17fa94,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x5858f0(0x9bd));});}function handleAddQuestionInEditor(){const _0xfe3741=_0x4813c4;if(!currentEditingQuizData)return;const _0x23a25c=document[_0xfe3741(0x3a5)](_0xfe3741(0x641)),_0x90d402=_0x23a25c?_0x23a25c[_0xfe3741(0x909)]:_0xfe3741(0x260);let _0x2c0b3e={'id':'q_'+Date['now']()+_0xfe3741(0xab1),'questionType':_0x90d402,'questionText':_0xfe3741(0xdf5),'explanation':_0xfe3741(0xb10)};switch(_0x90d402){case _0xfe3741(0x260):_0x2c0b3e['options']=['ตัวเลือก\x20ก',_0xfe3741(0x3df),_0xfe3741(0x9d0),_0xfe3741(0x998)],_0x2c0b3e[_0xfe3741(0x54b)]=0x0;break;case _0xfe3741(0x311):case _0xfe3741(0x87d):_0x2c0b3e['idealAnswer']=_0xfe3741(0xc10);break;case _0xfe3741(0x162):_0x2c0b3e[_0xfe3741(0xa25)]=!![];break;case'matching_item':_0x2c0b3e[_0xfe3741(0xd4c)]=_0xfe3741(0xa05),_0x2c0b3e[_0xfe3741(0x18a)]=_0xfe3741(0x5ed),_0x2c0b3e[_0xfe3741(0x929)]='คำถาม...';break;}currentEditingQuizData[_0xfe3741(0x1bc)]['push'](_0x2c0b3e),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x168c59=_0xfe3741,_0x54974b=document[_0x168c59(0x169)]('.question-editor-item:last-of-type');if(_0x54974b){_0x54974b['scrollIntoView']({'behavior':'smooth','block':_0x168c59(0xd36)});const _0x497689=_0x54974b['querySelector'](_0x168c59(0x417));if(_0x497689)_0x497689[_0x168c59(0x4af)]();}},0x64);}async function handleAiFixQuestion(_0x3e3610){const _0x5a5cf8=_0x4813c4,_0x2f2119=_0x3e3610[_0x5a5cf8(0x45b)],_0x40ba7e=_0x2f2119[_0x5a5cf8(0x5f8)](_0x5a5cf8(0xcba));if(!_0x40ba7e)return;const _0x2f26f3=parseInt(_0x40ba7e[_0x5a5cf8(0x315)]['qIndex'],0xa);if(isNaN(_0x2f26f3)||!currentEditingQuizData[_0x5a5cf8(0x1bc)][_0x2f26f3]){showMessage(_0x5a5cf8(0xfa));return;}const _0x18414b=currentEditingQuizData['questions'][_0x2f26f3];_0x2f2119[_0x5a5cf8(0xc7e)]=_0x5a5cf8(0x4fb),_0x2f2119[_0x5a5cf8(0x88c)]=!![];const _0x379d9d=_0x5a5cf8(0x999)+JSON['stringify'](_0x18414b)+_0x5a5cf8(0xc8c);let _0x193505;const _0x789f5d=_0x18414b[_0x5a5cf8(0x51d)]||currentEditingQuizData[_0x5a5cf8(0xa34)];switch(_0x789f5d){case _0x5a5cf8(0x311):_0x193505={'type':_0x5a5cf8(0xb09),'properties':{'questionText':{'type':_0x5a5cf8(0x799)},'idealAnswer':{'type':_0x5a5cf8(0x799)},'explanation':{'type':_0x5a5cf8(0x799)},'imageCode':{'type':_0x5a5cf8(0x799)}},'required':[_0x5a5cf8(0x929),_0x5a5cf8(0xd2d),_0x5a5cf8(0x6dd)]};break;case'multiple_choice':default:_0x193505={'type':_0x5a5cf8(0xb09),'properties':{'questionText':{'type':_0x5a5cf8(0x799)},'options':{'type':'ARRAY','items':{'type':_0x5a5cf8(0x799)}},'correctAnswerIndex':{'type':_0x5a5cf8(0x29e)},'explanation':{'type':_0x5a5cf8(0x799)},'imageCode':{'type':_0x5a5cf8(0x799)}},'required':['questionText','options',_0x5a5cf8(0x54b),'explanation']};break;}try{let _0x15eade=await callAnalysisApi(_0x379d9d,_0x193505);_0x15eade[_0x5a5cf8(0x7f6)]&&Array[_0x5a5cf8(0xe18)](_0x15eade[_0x5a5cf8(0x7f6)])&&(_0x15eade['options']=_0x15eade['options'][_0x5a5cf8(0x86c)](_0x446eb2=>typeof _0x446eb2===_0x5a5cf8(0x8e3)?_0x446eb2[_0x5a5cf8(0x94b)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x446eb2)),_0x18414b[_0x5a5cf8(0x690)]&&_0x18414b['imageCode'][_0x5a5cf8(0xc4f)](_0x5a5cf8(0xb39))&&(_0x15eade[_0x5a5cf8(0x690)]=''),currentEditingQuizData[_0x5a5cf8(0x1bc)][_0x2f26f3]={..._0x18414b,..._0x15eade},renderQuizEditor(currentEditingQuizData),showMessage(_0x5a5cf8(0x3fe));}catch(_0x5aadb2){console['error'](_0x5a5cf8(0xe0d),_0x5aadb2),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x1d95b7=_0x4813c4,_0xf6b328=document[_0x1d95b7(0x3a5)](_0x1d95b7(0x570));_0xf6b328['disabled']=!![],_0xf6b328[_0x1d95b7(0xc7e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x215c9c=document[_0x1d95b7(0x3a5)](_0x1d95b7(0x37e))[_0x1d95b7(0x909)],_0x249067=document['querySelectorAll'](_0x1d95b7(0xcba));let _0x2d169f=[];const _0x633236=Array['from'](_0x249067)[_0x1d95b7(0x86c)]((_0x300393,_0x29cab9)=>{const _0x8789a8=_0x1d95b7,_0x39eb1e=_0x300393[_0x8789a8(0x315)][_0x8789a8(0x826)],_0x1829bb=_0x300393[_0x8789a8(0x169)]('textarea')[_0x8789a8(0x909)]['replace'](/\n/g,'<br>');let _0xb3252={'questionType':_0x39eb1e};const _0x3507ad=currentEditingQuizData[_0x8789a8(0x1bc)][_0x29cab9]||{};switch(_0x39eb1e){case _0x8789a8(0x260):_0xb3252[_0x8789a8(0x929)]=_0x1829bb;const _0x192b7b=_0x300393[_0x8789a8(0x660)](_0x8789a8(0xaec));_0xb3252['options']=Array['from'](_0x192b7b)[_0x8789a8(0x86c)](_0x2cdc7c=>_0x2cdc7c[_0x8789a8(0x909)]);const _0x535894=_0x300393[_0x8789a8(0x169)](_0x8789a8(0x976));_0xb3252[_0x8789a8(0x54b)]=_0x535894?parseInt(_0x535894['value']):0x0;break;case _0x8789a8(0x87d):case _0x8789a8(0x311):_0xb3252[_0x8789a8(0x929)]=_0x1829bb,_0xb3252[_0x8789a8(0xd2d)]=_0x300393['querySelector'](_0x8789a8(0x828))[_0x8789a8(0x909)];const _0x7683b5=_0x300393[_0x8789a8(0x660)](_0x8789a8(0xdf7));_0x7683b5[_0x8789a8(0xdbe)]>0x0?(_0xb3252['options']=Array[_0x8789a8(0x1a4)](_0x7683b5)[_0x8789a8(0x86c)](_0x4c1324=>_0x4c1324['value']),_0x3507ad['correctAnswerIndex']!==undefined?_0xb3252[_0x8789a8(0x54b)]=_0x3507ad[_0x8789a8(0x54b)]:_0xb3252[_0x8789a8(0x54b)]=0x0):(delete _0xb3252['options'],delete _0xb3252[_0x8789a8(0x54b)]);break;case _0x8789a8(0x162):_0xb3252['questionText']=_0x1829bb;const _0xe6c743=_0x300393[_0x8789a8(0x169)](_0x8789a8(0x976));_0xb3252['correctAnswer']=_0xe6c743?_0xe6c743['value']===_0x8789a8(0xa55):!![];break;case'matching_item':_0xb3252[_0x8789a8(0xd4c)]=_0x1829bb;const _0x1da3b0=_0x300393[_0x8789a8(0x169)]('.correct-response-input');_0xb3252[_0x8789a8(0x18a)]=_0x1da3b0?_0x1da3b0[_0x8789a8(0x909)]:'',_0x2d169f[_0x8789a8(0x8a5)](_0xb3252['correctResponse']);break;default:_0xb3252['questionText']=_0x1829bb;break;}return{..._0x3507ad,..._0xb3252};});_0x2d169f[_0x1d95b7(0xdbe)]>0x0&&_0x633236[_0x1d95b7(0x140)](_0xb3b37a=>{const _0x22f9af=_0x1d95b7;_0xb3b37a[_0x22f9af(0x51d)]===_0x22f9af(0x392)&&(_0xb3b37a[_0x22f9af(0xd2c)]=_0x2d169f);});const _0xedc99b=currentEditingQuizData['id'],_0x5384e6=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xedc99b);await updateDoc(_0x5384e6,{'topic':_0x215c9c,'questions':_0x633236}),document[_0x1d95b7(0x3a5)](_0x1d95b7(0xd93))['classList'][_0x1d95b7(0x483)](_0x1d95b7(0xc15)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0xedc99b));}catch(_0x559523){console['error'](_0x1d95b7(0x7ff),_0x559523),showMessage(_0x1d95b7(0xdc0));}finally{_0xf6b328[_0x1d95b7(0x88c)]=![],_0xf6b328[_0x1d95b7(0xc7e)]=_0x1d95b7(0x19a);}}async function initiateReGradeProcess(_0x312650){const _0x312c06=_0x4813c4;showMessage(_0x312c06(0xaff));try{const _0x8a0929=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x312650),_0x112e78=await getDoc(_0x8a0929);if(!_0x112e78[_0x312c06(0x3ea)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x352efc={'id':_0x312650,..._0x112e78[_0x312c06(0x1ea)]()},_0x3e59ac=collection(db,_0x312c06(0x2b3)+appId+_0x312c06(0x60d),_0x312650,_0x312c06(0x39f)),_0x41ce42=await getDocs(_0x3e59ac);if(_0x41ce42[_0x312c06(0xc3f)]){showMessage(_0x312c06(0x7b0));return;}const _0x29d9f3=_0x41ce42[_0x312c06(0xb32)][_0x312c06(0x86c)](_0x4bd613=>reGradeSingleSubmission(_0x4bd613,_0x352efc));await Promise[_0x312c06(0xa19)](_0x29d9f3);if(_0x352efc[_0x312c06(0xb91)]){const _0x4a65ca=doc(db,_0x312c06(0x2b3)+appId+_0x312c06(0xa9c),_0x352efc[_0x312c06(0xb91)]),_0x127d45=await getDoc(_0x4a65ca);if(_0x127d45[_0x312c06(0x3ea)]()&&_0x127d45[_0x312c06(0x1ea)]()[_0x312c06(0x3a0)]){const _0x143dbd=_0x127d45['data']()[_0x312c06(0x3a0)][_0x312c06(0x86c)](_0x47288f=>updateStudentProfile(_0x352efc[_0x312c06(0xb91)],_0x47288f));await Promise['all'](_0x143dbd);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x41ce42[_0x312c06(0xd52)]+_0x312c06(0x4fc));}catch(_0x3996f6){console[_0x312c06(0xabd)]('Re-grade\x20process\x20failed:',_0x3996f6),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x3996f6['message']);}}async function reGradeSingleSubmission(_0xa37ab3,_0xd5e704){const _0x292fb3=_0x4813c4,_0x37b357=_0xa37ab3[_0x292fb3(0x1ea)](),_0x3314ec=_0x37b357[_0x292fb3(0x1af)],_0x17f335=_0x37b357['attempts']||[],_0x40aab0=[];for(const _0x101cc8 of _0x17f335){let _0x5562fa=0x0,_0x569387=[],_0x299d39=0x0;const _0xdd4381=[];for(const _0x2b01d1 of _0x101cc8[_0x292fb3(0x1b8)]){let _0x2b1342;_0x2b01d1['questionId']&&(_0x2b1342=_0xd5e704[_0x292fb3(0x1bc)][_0x292fb3(0x5d9)](_0x29667d=>_0x29667d['id']===_0x2b01d1[_0x292fb3(0x6f8)]));!_0x2b1342&&_0x2b01d1[_0x292fb3(0xb8e)]&&(_0x2b1342=_0xd5e704[_0x292fb3(0x1bc)][_0x292fb3(0x5d9)](_0x57417d=>(_0x57417d['stem']||_0x57417d['questionText'])===_0x2b01d1[_0x292fb3(0xb8e)]));let _0x508fbe=![];if(_0x2b1342){const _0x2c05e8=_0x2b1342[_0x292fb3(0x51d)]||_0xd5e704[_0x292fb3(0xa34)];switch(_0x2c05e8){case _0x292fb3(0x260):if(_0x2b1342[_0x292fb3(0x7f6)]&&_0x2b1342[_0x292fb3(0x54b)]<_0x2b1342[_0x292fb3(0x7f6)][_0x292fb3(0xdbe)]){const _0x1f7aeb=_0x2b1342[_0x292fb3(0x7f6)][_0x2b1342['correctAnswerIndex']];_0x508fbe=_0x2b01d1[_0x292fb3(0x4ba)]===_0x1f7aeb;}break;case _0x292fb3(0x162):const _0x4368b4=_0x2b01d1[_0x292fb3(0xc1a)]===!![]||_0x2b01d1[_0x292fb3(0xc1a)]===_0x292fb3(0xa55);_0x508fbe=_0x4368b4===_0x2b1342['correctAnswer'];break;case _0x292fb3(0x392):_0x508fbe=_0x2b01d1[_0x292fb3(0xc1a)]===_0x2b1342[_0x292fb3(0x18a)];break;case _0x292fb3(0x311):_0x508fbe=await gradeShortAnswer(_0x2b01d1['answer'],_0x2b1342);break;default:_0x508fbe=_0x2b01d1[_0x292fb3(0x8a)];break;}}if(_0x508fbe){_0x5562fa++,_0x299d39++;if(_0x299d39===0x3)_0x569387[_0x292fb3(0x8a5)](BADGES['ON_FIRE']['id']);}else _0x299d39=0x0;_0xdd4381[_0x292fb3(0x8a5)]({..._0x2b01d1,'isCorrect':_0x508fbe});}let _0x3e2ba1=0x0;const _0x31bc16=_0x101cc8[_0x292fb3(0xa41)]===!![]||_0x101cc8[_0x292fb3(0x5da)]>_0xd5e704['questions'][_0x292fb3(0xdbe)]*0x14;_0x31bc16?_0x3e2ba1=_0x101cc8['points']:(_0x3e2ba1=_0x5562fa*0xa,_0x5562fa===_0xd5e704[_0x292fb3(0x1bc)][_0x292fb3(0xdbe)]&&(_0x3e2ba1+=0x32,_0x569387[_0x292fb3(0x8a5)](BADGES[_0x292fb3(0x24a)]['id']))),_0x40aab0[_0x292fb3(0x8a5)]({..._0x101cc8,'score':_0x5562fa,'points':_0x3e2ba1,'badges':Array[_0x292fb3(0x1a4)](new Set(_0x569387)),'answers':_0xdd4381});}const _0x3beecd=_0x40aab0[_0x292fb3(0xdbe)]>0x0?_0x40aab0[0x0]['score']:0x0,_0x50fe9a=Math[_0x292fb3(0x4c9)](..._0x40aab0[_0x292fb3(0x86c)](_0x4885bf=>_0x4885bf[_0x292fb3(0x863)])),_0xb13ac1=_0x40aab0['length']>0x0?_0x40aab0[_0x40aab0[_0x292fb3(0xdbe)]-0x1][_0x292fb3(0x863)]:0x0,_0x4d8b7b=_0x40aab0[_0x292fb3(0xdbe)]>0x0?_0x40aab0[_0x40aab0[_0x292fb3(0xdbe)]-0x1][_0x292fb3(0x5da)]:0x0,_0x7e2069=doc(db,_0x292fb3(0x2b3)+appId+'/public/data/quizzes/'+_0xd5e704['id']+_0x292fb3(0xbfd),_0x3314ec);await updateDoc(_0x7e2069,{'attempts':_0x40aab0,'firstScore':_0x3beecd,'bestScore':_0x50fe9a,'latestScore':_0xb13ac1,'points':_0x4d8b7b});}function cleanupQuizOptions(_0x183fd9){const _0x3aea9e=_0x4813c4,_0x95a3e7=(_0x3b8fd1,_0x584ad8)=>_0x584ad8===0x0?_0x3b8fd1:_0x95a3e7(_0x584ad8,_0x3b8fd1%_0x584ad8),_0xd5f6a1=_0x440c72=>{const _0x52fa1f=_0x3082;if(typeof _0x440c72!==_0x52fa1f(0x8e3))return null;_0x440c72=_0x440c72[_0x52fa1f(0x7f3)]();const _0x2d8551=_0x440c72[_0x52fa1f(0xa6a)](/[ /]/)[_0x52fa1f(0xd05)](_0x3a46ac=>_0x3a46ac!=='');if(_0x2d8551[_0x52fa1f(0xdbe)]===0x3)return parseInt(_0x2d8551[0x0])+parseInt(_0x2d8551[0x1])/parseInt(_0x2d8551[0x2]);else{if(_0x2d8551[_0x52fa1f(0xdbe)]===0x2)return parseInt(_0x2d8551[0x0])/parseInt(_0x2d8551[0x1]);else{if(_0x2d8551[_0x52fa1f(0xdbe)]===0x1&&!isNaN(_0x2d8551[0x0]))return parseFloat(_0x2d8551[0x0]);}}return null;},_0x66c304=_0x4d40e3=>{const _0xa380e8=_0x3082;if(typeof _0x4d40e3!==_0xa380e8(0x8e3))return _0x4d40e3;const _0x3d9b82=_0x4d40e3[_0xa380e8(0xdfd)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3d9b82){const _0xe6bd9a=parseInt(_0x3d9b82[0x1]);let _0x2c3868=parseInt(_0x3d9b82[0x2]),_0x2296bd=parseInt(_0x3d9b82[0x3]);const _0x1d57f9=_0x95a3e7(_0x2c3868,_0x2296bd);_0x2c3868/=_0x1d57f9,_0x2296bd/=_0x1d57f9;if(_0x2296bd===0x1)return(_0xe6bd9a+_0x2c3868)[_0xa380e8(0x101)]();return _0xe6bd9a+'\x20'+_0x2c3868+'/'+_0x2296bd;}return _0x4d40e3;};return _0x183fd9&&_0x183fd9[_0x3aea9e(0x1bc)]&&_0x183fd9[_0x3aea9e(0x1bc)][_0x3aea9e(0x140)](_0x25a6ce=>{const _0x2927ca=_0x3aea9e;if(_0x25a6ce[_0x2927ca(0x51d)]===_0x2927ca(0x260)&&_0x25a6ce['options']){const _0x428ca2=new Map(),_0x30d817=_0x25a6ce[_0x2927ca(0x7f6)][_0x25a6ce[_0x2927ca(0x54b)]];_0x25a6ce[_0x2927ca(0x7f6)]['forEach'](_0x569153=>{const _0x14971d=_0x2927ca,_0x3e84cc=_0x66c304(_0x569153),_0x104f7f=_0xd5f6a1(_0x3e84cc);_0x104f7f!==null&&!_0x428ca2[_0x14971d(0x394)](_0x104f7f)&&_0x428ca2[_0x14971d(0x17a)](_0x104f7f,_0x3e84cc);}),_0x25a6ce[_0x2927ca(0x7f6)]=Array[_0x2927ca(0x1a4)](_0x428ca2[_0x2927ca(0x3fb)]());const _0x40087f=_0x25a6ce[_0x2927ca(0x7f6)][_0x2927ca(0x978)](_0x5b46ec=>_0x5b46ec===_0x66c304(_0x30d817));_0x25a6ce[_0x2927ca(0x54b)]=_0x40087f!==-0x1?_0x40087f:0x0;}}),_0x183fd9;}function showGameStartConfirmationModal(_0x576251,_0x14ccbf,_0x5184ff){const _0x2c5537=_0x4813c4,_0x8c624c=document['getElementById'](_0x2c5537(0x54a));document[_0x2c5537(0x3a5)](_0x2c5537(0x868))['textContent']=_0x2c5537(0x343)+_0x5184ff,document[_0x2c5537(0x3a5)]('game-start-quiz-id')[_0x2c5537(0x909)]=_0x576251,document[_0x2c5537(0x3a5)](_0x2c5537(0x531))[_0x2c5537(0x909)]=_0x14ccbf,document[_0x2c5537(0x3a5)](_0x2c5537(0x8f8))[_0x2c5537(0x2e0)]=!![];const _0x2dfc9e=document[_0x2c5537(0x3a5)](_0x2c5537(0x305)),_0x59f85d=document[_0x2c5537(0x3a5)]('sync-timer-enable-checkbox'),_0x17fb9e=document[_0x2c5537(0x3a5)]('sync-timer-duration-container'),_0x5df802=document[_0x2c5537(0x3a5)](_0x2c5537(0x326)),_0x54792b=document[_0x2c5537(0x3a5)](_0x2c5537(0x295));if(_0x14ccbf===_0x2c5537(0x66c)){_0x2dfc9e[_0x2c5537(0xcde)][_0x2c5537(0xa30)]('hidden');const _0x3a3c33=_0x2c5537(0xbba);document[_0x2c5537(0x169)](_0x2c5537(0x4f5)+_0x3a3c33+'\x22]')[_0x2c5537(0x2e0)]=!![];if(_0x54792b)_0x54792b[_0x2c5537(0xcde)][_0x2c5537(0xa30)](_0x2c5537(0xc15));_0x59f85d[_0x2c5537(0x2e0)]=!![],_0x17fb9e['classList'][_0x2c5537(0xa30)](_0x2c5537(0xc15)),document['getElementById'](_0x2c5537(0x194))[_0x2c5537(0x909)]=_0x2c5537(0x8cd),_0x5df802[_0x2c5537(0xcde)][_0x2c5537(0xa30)]('hidden'),document[_0x2c5537(0x3a5)]('enable-black-market-checkbox')['checked']=!![];}else{_0x2dfc9e['classList'][_0x2c5537(0x483)]('hidden');if(_0x54792b)_0x54792b[_0x2c5537(0xcde)][_0x2c5537(0x483)](_0x2c5537(0xc15));_0x59f85d[_0x2c5537(0x2e0)]=![],_0x17fb9e[_0x2c5537(0xcde)]['add'](_0x2c5537(0xc15)),_0x5df802['classList'][_0x2c5537(0x483)](_0x2c5537(0xc15));}_0x8c624c[_0x2c5537(0xcde)][_0x2c5537(0xa30)](_0x2c5537(0xc15));}async function saveGameResultsAsSubmissions(_0x273c0d){const _0x4a218e=_0x4813c4;if(_0x273c0d['resultsSaved']){console['log']('Game\x20results\x20already\x20saved.\x20Skipping.');return;}console[_0x4a218e(0x84)](_0x4a218e(0xba),_0x273c0d);const _0x6c32e0=_0x273c0d['quizId'];let _0x36f6ee=[];if(_0x273c0d[_0x4a218e(0x2e8)])_0x36f6ee=Object[_0x4a218e(0x342)](_0x273c0d['players'])[_0x4a218e(0x86c)](([_0x167837,_0x1180f4])=>({'name':_0x167837,..._0x1180f4}));else{if(_0x273c0d[_0x4a218e(0x23a)])Object['values'](_0x273c0d[_0x4a218e(0x23a)])[_0x4a218e(0x140)](_0x5ebfb8=>{const _0x514f9c=_0x4a218e;_0x5ebfb8[_0x514f9c(0x969)]['forEach'](_0x106cf5=>{const _0x46e350=_0x514f9c;_0x36f6ee[_0x46e350(0x8a5)]({'name':_0x106cf5,'score':_0x5ebfb8[_0x46e350(0x863)],'answers':_0x5ebfb8[_0x46e350(0x1b8)]});});});else _0x273c0d['responses']&&Object[_0x4a218e(0x342)](_0x273c0d[_0x4a218e(0x12d)])['forEach'](([_0x121795,_0xb0cf88])=>{const _0x27b3d5=_0x4a218e;_0x36f6ee[_0x27b3d5(0x8a5)]({'name':_0x121795,..._0xb0cf88});});}if(_0x36f6ee['length']===0x0){console[_0x4a218e(0x174)](_0x4a218e(0x846));return;}const _0x24e5b7=_0x273c0d[_0x4a218e(0x953)]?.[_0x4a218e(0x1bc)][_0x4a218e(0xdbe)]||currentQuizData['questions'][_0x4a218e(0xdbe)],_0x2596cd=writeBatch(db);for(const _0x3bc20b of _0x36f6ee){const _0x464bfd=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x6c32e0+_0x4a218e(0xbfd),_0x3bc20b[_0x4a218e(0x4a4)]),_0x30de0b=(_0x3bc20b[_0x4a218e(0x1b8)]||[])[_0x4a218e(0xd05)](_0x5a5857=>_0x5a5857[_0x4a218e(0x8a)])[_0x4a218e(0xdbe)];let _0x338a3c=_0x3bc20b[_0x4a218e(0x183)]!==undefined?_0x3bc20b[_0x4a218e(0x183)]:_0x30de0b,_0x4699f9=_0x3bc20b['badges']||[];_0x30de0b===_0x24e5b7&&_0x24e5b7>0x0&&(!_0x4699f9['includes']('perfect_score')&&_0x4699f9[_0x4a218e(0x8a5)](_0x4a218e(0xd1f)));const _0x321d9b={'score':_0x30de0b,'points':_0x338a3c,'badges':_0x4699f9,'submittedAt':new Date()[_0x4a218e(0xb05)](),'isSyncGame':!![],'answers':(_0x3bc20b['answers']||[])['map'](_0x2e0ee6=>({'questionId':_0x2e0ee6['questionId'],'answer':_0x2e0ee6[_0x4a218e(0xc1a)],'answerText':_0x2e0ee6['answerText'],'isCorrect':_0x2e0ee6[_0x4a218e(0x8a)],'originalQuestionText':_0x2e0ee6[_0x4a218e(0xb8e)],'wasConfident':_0x2e0ee6[_0x4a218e(0x320)],'powerupUsed':_0x2e0ee6[_0x4a218e(0xc42)]||null}))},_0x38ba5e=await getDoc(_0x464bfd),_0x3075e3=_0x38ba5e['exists']()?_0x38ba5e[_0x4a218e(0x1ea)]():{},_0x3949f2=_0x3075e3[_0x4a218e(0xb35)]||0x0,_0x2afe81=_0x3075e3[_0x4a218e(0xb6a)]||[];_0x2afe81[_0x4a218e(0xdbe)]===0x0&&_0x30de0b===_0x24e5b7&&_0x24e5b7>0x0&&(!_0x321d9b['badges'][_0x4a218e(0xc4f)](_0x4a218e(0x33a))&&_0x321d9b[_0x4a218e(0x69f)][_0x4a218e(0x8a5)](_0x4a218e(0x33a)));const _0xabd51e={'studentName':_0x3bc20b[_0x4a218e(0x4a4)],'totalQuestions':_0x24e5b7,'attempts':arrayUnion(_0x321d9b),'latestScore':_0x30de0b,'points':_0x338a3c,'latestSubmittedAt':_0x321d9b['submittedAt'],'bestScore':Math[_0x4a218e(0x4c9)](_0x3949f2,_0x30de0b),'firstScore':_0x2afe81['length']===0x0?_0x30de0b:_0x3075e3[_0x4a218e(0x1e1)]||0x0};_0x2596cd[_0x4a218e(0x17a)](_0x464bfd,_0xabd51e,{'merge':!![]});}try{if(currentLiveGameId){const _0x45b769=doc(db,'artifacts/'+appId+_0x4a218e(0xa04),currentLiveGameId);_0x2596cd[_0x4a218e(0x1d2)](_0x45b769,{'resultsSaved':!![]});}await _0x2596cd[_0x4a218e(0x5a1)](),showMessage('บันทึกผลการเรียนของนักเรียน\x20'+_0x36f6ee['length']+'\x20คน\x20เรียบร้อยแล้ว!');const _0x449bdc=_0x273c0d['shuffledQuiz']?.[_0x4a218e(0xb91)]||currentQuizData?.[_0x4a218e(0xb91)]||currentProjectId;if(_0x449bdc){const _0x2fdaf3=[...new Set(_0x36f6ee['map'](_0x1fd2af=>_0x1fd2af[_0x4a218e(0x4a4)]))];for(const _0x1b39a2 of _0x2fdaf3){await updateStudentProfile(_0x449bdc,_0x1b39a2);}}}catch(_0x3af1ec){console[_0x4a218e(0xabd)](_0x4a218e(0x8ea),_0x3af1ec),showMessage(_0x4a218e(0xc6d));}}async function saveQuiz(_0x176853=null,_0x1a16ba=null){const _0x4c0fc1=_0x4813c4,_0x509520=_0x176853||currentProjectId;if(!_0x509520){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x4c0fc1(0x1bc)]||!userId){showMessage(_0x4c0fc1(0xdd5));return;}const _0x57b3ea=document[_0x4c0fc1(0x3a5)]('save-quiz-btn');_0x57b3ea[_0x4c0fc1(0x88c)]=!![],_0x57b3ea['innerHTML']=_0x4c0fc1(0x99d);const _0x567f97=document[_0x4c0fc1(0x3a5)](_0x4c0fc1(0x20e))[_0x4c0fc1(0x2e0)];let _0x1befd5=document[_0x4c0fc1(0x3a5)](_0x4c0fc1(0x57f))[_0x4c0fc1(0xbac)][_0x4c0fc1(0x7f3)]();_0x567f97&&!_0x1befd5[_0x4c0fc1(0xb74)](_0x4c0fc1(0xee))&&(_0x1befd5=_0x4c0fc1(0x5ac)+_0x1befd5);try{const _0x41d729={'resultsDisplay':document[_0x4c0fc1(0x3a5)](_0x4c0fc1(0x896))[_0x4c0fc1(0x909)],'shuffle':document[_0x4c0fc1(0x3a5)](_0x4c0fc1(0x52c))['value'],'timerMode':document[_0x4c0fc1(0x3a5)](_0x4c0fc1(0x29c))[_0x4c0fc1(0x909)],'timerDuration':parseInt(document[_0x4c0fc1(0x3a5)]('timer-duration-input')[_0x4c0fc1(0x909)])||0xa,'passingScore':parseInt(document['getElementById'](_0x4c0fc1(0x5c3))['value'])||0x0,'isAdaptive':document[_0x4c0fc1(0x3a5)]('adaptive-quiz-checkbox')[_0x4c0fc1(0x2e0)],'loopUntilPass':document['getElementById'](_0x4c0fc1(0x3e7))[_0x4c0fc1(0x2e0)]},_0x5baa40=(currentQuizData[_0x4c0fc1(0x1bc)]||[])['map']((_0x34501f,_0x4ffd22)=>{const _0x670f4c=_0x4c0fc1,_0x1950f8=document['getElementById'](_0x670f4c(0x28c))[_0x670f4c(0x909)],_0xe28b06={'id':'q_'+Date[_0x670f4c(0x2d9)]()+'_'+_0x4ffd22,'questionText':_0x34501f[_0x670f4c(0x929)]||'','explanation':_0x34501f[_0x670f4c(0x6dd)]||_0x670f4c(0x785),'questionType':_0x34501f['questionType']||_0x1950f8,'imageCode':_0x34501f['imageCode']||null};return(_0xe28b06['questionType']===_0x670f4c(0x260)||_0xe28b06['questionType']===_0x670f4c(0x43b)||_0xe28b06[_0x670f4c(0x51d)]===_0x670f4c(0xa8d)&&_0x34501f[_0x670f4c(0x7f6)])&&(_0xe28b06[_0x670f4c(0x7f6)]=_0x34501f[_0x670f4c(0x7f6)]||[],_0xe28b06[_0x670f4c(0x54b)]=_0x34501f[_0x670f4c(0x54b)]!==undefined?_0x34501f[_0x670f4c(0x54b)]:0x0),(_0xe28b06[_0x670f4c(0x51d)]===_0x670f4c(0x311)||_0xe28b06['questionType']===_0x670f4c(0x87d)||_0xe28b06[_0x670f4c(0x51d)]===_0x670f4c(0xa8d)&&_0x34501f['idealAnswer'])&&(_0xe28b06[_0x670f4c(0xd2d)]=_0x34501f['idealAnswer']||''),_0xe28b06[_0x670f4c(0x51d)]===_0x670f4c(0x162)&&(_0xe28b06[_0x670f4c(0xa25)]=_0x34501f[_0x670f4c(0xa25)]===!![]),_0xe28b06[_0x670f4c(0x51d)]==='matching_item'&&(_0xe28b06[_0x670f4c(0xd4c)]=_0x34501f[_0x670f4c(0xd4c)]||'',_0xe28b06[_0x670f4c(0x18a)]=_0x34501f[_0x670f4c(0x18a)]||'',_0xe28b06[_0x670f4c(0xd2c)]=_0x34501f[_0x670f4c(0xd2c)]||[]),_0xe28b06;}),_0x3aab5d={'topic':_0x1befd5,'quizType':currentQuizData['quizType']||_0x4c0fc1(0x260),'questions':_0x5baa40,'projectId':_0x509520,'createdBy':userId,'createdAt':new Date()[_0x4c0fc1(0xb05)](),'status':_0x4c0fc1(0xb9b),'settings':_0x41d729,'quizMode':_0x567f97?'pre-test':'standard','pairedQuizId':null,'lessonPlan':null};let _0x41f9a6;while(!![]){_0x41f9a6=Math['floor'](0x3e8+Math[_0x4c0fc1(0x89e)]()*0x2328)['toString']();const _0x25d7d0=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x41f9a6));if(!_0x25d7d0[_0x4c0fc1(0x3ea)]())break;}await setDoc(doc(db,_0x4c0fc1(0x2b3)+appId+_0x4c0fc1(0x60d),_0x41f9a6),_0x3aab5d);if(_0x1a16ba&&currentBlueprintProjectId){console[_0x4c0fc1(0x84)](_0x4c0fc1(0x38c)+_0x41f9a6+_0x4c0fc1(0xd78)+_0x1a16ba);try{const _0x2bc2ad=doc(db,_0x4c0fc1(0x2b3)+appId+_0x4c0fc1(0xdab),currentBlueprintProjectId);await updateDoc(_0x2bc2ad,{[_0x4c0fc1(0x155)+_0x1a16ba+'.linkedQuizIds']:arrayUnion(_0x41f9a6)});}catch(_0x4d7139){console[_0x4c0fc1(0xabd)](_0x4c0fc1(0x702),_0x4d7139);}}currentQuizData[_0x4c0fc1(0x436)]=_0x41d729,currentQuizData['id']=_0x41f9a6;const _0x56a956=document['getElementById']('generated-quiz-actions');_0x56a956[_0x4c0fc1(0xc7e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x41f9a6+_0x4c0fc1(0xde),document[_0x4c0fc1(0x3a5)](_0x4c0fc1(0x888))[_0x4c0fc1(0x9f0)]('click',()=>copyTextToClipboard(_0x41f9a6,_0x4c0fc1(0x12e))),document[_0x4c0fc1(0x3a5)](_0x4c0fc1(0xc06))['addEventListener'](_0x4c0fc1(0x79c),()=>handleStartLiveRace(_0x41f9a6)),document[_0x4c0fc1(0x3a5)](_0x4c0fc1(0xb2a))[_0x4c0fc1(0x9f0)](_0x4c0fc1(0x79c),()=>startPresentation(currentQuizData)),document[_0x4c0fc1(0x3a5)]('admin-try-quiz-btn')[_0x4c0fc1(0x9f0)]('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x8906c4){console['error'](_0x4c0fc1(0x2cf),_0x8906c4),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x57b3ea['disabled']=![],_0x57b3ea[_0x4c0fc1(0xc7e)]=_0x4c0fc1(0x2f0);}}function promptForProjectAndSave(){const _0x21955f=_0x4813c4,_0x5c95ba=document['getElementById'](_0x21955f(0x61b)),_0x3e413d=document[_0x21955f(0x3a5)]('move-quiz-project-select'),_0x3bf298=_0x5c95ba['querySelector']('h3'),_0x23a22c=document[_0x21955f(0x3a5)]('confirm-move-quiz-btn');_0x3bf298[_0x21955f(0xd68)]=_0x21955f(0x28e),_0x23a22c[_0x21955f(0xd68)]=_0x21955f(0xde4);allProjects[_0x21955f(0xdbe)]===0x0?(_0x3e413d['innerHTML']=_0x21955f(0xafe),_0x23a22c[_0x21955f(0x88c)]=!![]):(_0x3e413d[_0x21955f(0xc7e)]=allProjects[_0x21955f(0x86c)](_0x30efaa=>_0x21955f(0x437)+_0x30efaa['id']+'\x22>'+_0x30efaa['projectName']+'</option>')['join'](''),_0x23a22c[_0x21955f(0x88c)]=![]);_0x5c95ba['classList']['remove'](_0x21955f(0xc15));const _0x47e485=()=>{const _0x3578dd=_0x21955f,_0x1df58e=_0x3e413d[_0x3578dd(0x909)];_0x1df58e?(currentProjectId=_0x1df58e,_0x5c95ba[_0x3578dd(0xcde)]['add'](_0x3578dd(0xc15)),saveQuiz(),_0x3bf298['textContent']=_0x3578dd(0x768),_0x23a22c[_0x3578dd(0xd68)]=_0x3578dd(0xd28),_0x23a22c['removeEventListener'](_0x3578dd(0x79c),_0x47e485),_0x23a22c['addEventListener'](_0x3578dd(0x79c),confirmMoveQuiz)):showMessage(_0x3578dd(0x223));};_0x23a22c[_0x21955f(0x751)](_0x21955f(0x79c),confirmMoveQuiz),_0x23a22c[_0x21955f(0x9f0)](_0x21955f(0x79c),_0x47e485);}function copyTextToClipboard(_0xa58878,_0x3cb34f){const _0x24b64b=_0x4813c4,_0x4a3333=document[_0x24b64b(0xb46)](_0x24b64b(0x417));_0x4a3333[_0x24b64b(0x909)]=_0xa58878,_0x4a3333[_0x24b64b(0x40d)][_0x24b64b(0x554)]=_0x24b64b(0x756),_0x4a3333[_0x24b64b(0x40d)][_0x24b64b(0xae)]='0',document[_0x24b64b(0x281)][_0x24b64b(0xaf7)](_0x4a3333),_0x4a3333[_0x24b64b(0x4af)](),_0x4a3333[_0x24b64b(0x36d)]();try{const _0x21f70f=document[_0x24b64b(0x624)](_0x24b64b(0x99));showMessage(_0x21f70f?_0x3cb34f:_0x24b64b(0x92c));}catch(_0x3ddfa0){showMessage('คัดลอกไม่สำเร็จ'),console[_0x24b64b(0xabd)]('Copy\x20command\x20failed',_0x3ddfa0);}document[_0x24b64b(0x281)][_0x24b64b(0x9fe)](_0x4a3333);}function listenForProjectQuizzes(_0x2f0f42){const _0x146f19=_0x4813c4,_0x15ff6d=collection(db,_0x146f19(0x2b3)+appId+_0x146f19(0x60d)),_0x1c4ff4=query(_0x15ff6d,where(_0x146f19(0xb91),'==',_0x2f0f42));unsubscribeQuizzesListener=onSnapshot(_0x1c4ff4,async _0x572be3=>{const _0x66f699=_0x146f19;allQuizzes=_0x572be3['docs']['map'](_0x18fe5f=>({'id':_0x18fe5f['id'],..._0x18fe5f[_0x66f699(0x1ea)]()})),renderQuizzes();},_0x5e53aa=>{const _0x14ae96=_0x146f19;console[_0x14ae96(0xabd)](_0x14ae96(0x408),_0x5e53aa),document[_0x14ae96(0x3a5)](_0x14ae96(0x338))[_0x14ae96(0xc7e)]=_0x14ae96(0xaea);});}async function renderQuizzes(){const _0x56804f=_0x4813c4,_0x2a5ed8=document['getElementById'](_0x56804f(0x338)),_0x590886=document[_0x56804f(0x3a5)](_0x56804f(0x208))[_0x56804f(0x909)][_0x56804f(0x7c4)]();let _0x5f0f1e;currentProjectId===_0x56804f(0x253)?_0x5f0f1e=starredQuizzes:_0x5f0f1e=allQuizzes;let _0x59c639=_0x5f0f1e['filter'](_0x5b68e7=>_0x5b68e7[_0x56804f(0x1e8)][_0x56804f(0x7c4)]()[_0x56804f(0xc4f)](_0x590886));_0x59c639[_0x56804f(0x9a1)]((_0x3fd8b2,_0x24ce20)=>new Date(_0x24ce20['createdAt'])-new Date(_0x3fd8b2[_0x56804f(0x9f7)]));if(_0x59c639[_0x56804f(0xdbe)]===0x0){_0x2a5ed8['innerHTML']=_0x56804f(0xbde);return;}const _0x1cd826={},_0xc68db4=_0x59c639[_0x56804f(0x86c)](async _0xcb443=>{const _0x179949=_0x56804f,_0x3033ed=collection(db,_0x179949(0x2b3)+appId+_0x179949(0x5e4)+_0xcb443['id']+_0x179949(0xbfd)),_0x2f87e7=await getDocs(_0x3033ed);_0x1cd826[_0xcb443['id']]=_0x2f87e7[_0x179949(0xd52)];});await Promise[_0x56804f(0xa19)](_0xc68db4);let _0x43e3a9='';_0x59c639[_0x56804f(0x140)](_0x3b2f65=>{const _0x104ba2=_0x56804f,_0x14a9c3=_0x1cd826[_0x3b2f65['id']]||0x0,_0x19b60e=_0x3b2f65[_0x104ba2(0xd0e)]||_0x104ba2(0xb9b),_0x43a1fc=_0x3b2f65[_0x104ba2(0x436)]?.[_0x104ba2(0x1a9)]||_0x104ba2(0xa8c);let _0x5608e3='',_0x2c425f='';const _0x308832=new Date();let _0x350418=_0x19b60e;if(_0x19b60e===_0x104ba2(0xcd1)){const _0x260dc8=_0x3b2f65[_0x104ba2(0x1a6)]?new Date(_0x3b2f65['startTime']):null,_0x1d0fe9=_0x3b2f65[_0x104ba2(0x9c5)]?new Date(_0x3b2f65['endTime']):null;if(_0x1d0fe9&&_0x308832>_0x1d0fe9)_0x350418='inactive';else _0x260dc8&&_0x308832<_0x260dc8?_0x350418=_0x104ba2(0x6bb):_0x350418='active';}switch(_0x350418){case _0x104ba2(0x1d9):_0x5608e3=_0x104ba2(0x37d),_0x2c425f=_0x104ba2(0x254);break;case'scheduled_pending':_0x5608e3=_0x104ba2(0x8a3),_0x2c425f=_0x104ba2(0x34f);break;case _0x104ba2(0xb9b):_0x5608e3=_0x43a1fc!==_0x104ba2(0xa8c)?_0x104ba2(0x7a):_0x104ba2(0x611),_0x2c425f=_0x104ba2(0x430);break;default:_0x5608e3=_0x104ba2(0x22d),_0x2c425f=_0x104ba2(0x430);break;}let _0x13454a='';const _0x464f02={'day':_0x104ba2(0x10b),'month':_0x104ba2(0x10b),'year':_0x104ba2(0x424),'hour':'2-digit','minute':_0x104ba2(0x10b),'hour12':![]};if(_0x19b60e==='scheduled'){if(_0x3b2f65[_0x104ba2(0x1a6)])_0x13454a+=_0x104ba2(0x1fd)+new Date(_0x3b2f65[_0x104ba2(0x1a6)])[_0x104ba2(0xe1)](_0x104ba2(0xbf),_0x464f02)+_0x104ba2(0x340);if(_0x3b2f65['endTime'])_0x13454a+=_0x104ba2(0x9f6)+new Date(_0x3b2f65[_0x104ba2(0x9c5)])[_0x104ba2(0xe1)]('th-TH',_0x464f02)+_0x104ba2(0x340);}let _0x1b7d39='';if(_0x3b2f65[_0x104ba2(0xb9)]){const _0x93888a=allQuizzes['find'](_0x5bbeec=>_0x5bbeec['id']===_0x3b2f65[_0x104ba2(0xb9)]);if(_0x93888a){let _0x1b963b,_0x3ba361;new Date(_0x3b2f65['createdAt'])<new Date(_0x93888a[_0x104ba2(0x9f7)])?(_0x1b963b=_0x3b2f65['id'],_0x3ba361=_0x93888a['id']):(_0x1b963b=_0x93888a['id'],_0x3ba361=_0x3b2f65['id']),_0x1b7d39+=_0x104ba2(0x579)+_0x3ba361+_0x104ba2(0x74c)+_0x1b963b+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x3b2f65[_0x104ba2(0xf3)]===_0x104ba2(0x885)&&(_0x1b7d39+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3b2f65['id']+_0x104ba2(0x219));if(_0x3b2f65['quizMode']===_0x104ba2(0x885)&&_0x14a9c3>0x0)_0x1b7d39+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3b2f65['id']+_0x104ba2(0x739);else!_0x3b2f65[_0x104ba2(0xb9)]&&_0x3b2f65[_0x104ba2(0xf3)]!=='pre-test'&&_0x14a9c3>0x0&&(_0x1b7d39+=_0x104ba2(0x714)+_0x3b2f65['id']+_0x104ba2(0xd09));let _0x39c04c='';_0x3b2f65[_0x104ba2(0xb9)]?_0x39c04c=_0x104ba2(0x330)+_0x3b2f65['id']+_0x104ba2(0xc0):_0x39c04c='<button\x20data-quiz-id=\x22'+_0x3b2f65['id']+_0x104ba2(0xe21);const _0x316301=_0x104ba2(0x200)+_0x3b2f65['id']+_0x104ba2(0x6f4);_0x43e3a9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x3b2f65['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x3b2f65['topic']+_0x104ba2(0x912)+_0x3b2f65[_0x104ba2(0x1bc)][_0x104ba2(0xdbe)]+_0x104ba2(0x29b)+new Date(_0x3b2f65['createdAt'])[_0x104ba2(0xe1)](_0x104ba2(0xbf))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x14a9c3+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13454a+_0x104ba2(0x5ff)+_0x2c425f+'\x22>'+_0x5608e3+_0x104ba2(0x63e)+_0x3b2f65['id']+_0x104ba2(0x52f)+_0x3b2f65['id']+_0x104ba2(0x5ee)+(_0x3b2f65[_0x104ba2(0x299)]?_0x104ba2(0xdc8):_0x104ba2(0x2e2))+_0x104ba2(0xba0)+_0x1b7d39+_0x104ba2(0x687)+_0x316301+_0x104ba2(0xcdb)+_0x3b2f65['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x3b2f65['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3b2f65['id']+_0x104ba2(0x4e4)+_0x3b2f65['id']+_0x104ba2(0x4c4)+_0x3b2f65['id']+_0x104ba2(0x34c)+_0x3b2f65['id']+_0x104ba2(0x639)+_0x3b2f65['id']+_0x104ba2(0x82a)+_0x3b2f65[_0x104ba2(0x1e8)]+_0x104ba2(0x2d3)+_0x3b2f65['id']+_0x104ba2(0xd56)+_0x3b2f65['id']+_0x104ba2(0xafb)+_0x39c04c+_0x104ba2(0x2bc)+_0x3b2f65['id']+_0x104ba2(0x2c3)+_0x3b2f65['id']+_0x104ba2(0xcc4)+_0x3b2f65['id']+_0x104ba2(0xb00)+_0x3b2f65['id']+_0x104ba2(0xdb3)+_0x3b2f65['id']+_0x104ba2(0x82a)+_0x3b2f65['topic']+_0x104ba2(0xd14)+_0x3b2f65['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2a5ed8['innerHTML']=_0x43e3a9,document[_0x56804f(0x660)](_0x56804f(0x4a7))[_0x56804f(0x140)](_0x28d496=>{const _0x6c2889=_0x56804f;_0x28d496[_0x6c2889(0x9f0)](_0x6c2889(0x79c),()=>{const _0x4f77e8=_0x6c2889,_0x226b8c=_0x28d496[_0x4f77e8(0x315)][_0x4f77e8(0x737)];showQuizDetailView(_0x226b8c);});});}async function handleUnpairQuiz(_0x55be6f){const _0x1ea1fc=_0x4813c4,_0x3243e6=allQuizzes[_0x1ea1fc(0x5d9)](_0x377ca9=>_0x377ca9['id']===_0x55be6f);if(!_0x3243e6||!_0x3243e6[_0x1ea1fc(0xb9)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x1ea1fc(0xdf8),async()=>{const _0x1df14f=_0x1ea1fc;try{const _0x1708d6=doc(db,_0x1df14f(0x2b3)+appId+_0x1df14f(0x60d),_0x55be6f),_0x511a78=doc(db,_0x1df14f(0x2b3)+appId+_0x1df14f(0x60d),_0x3243e6['pairedQuizId']),_0x197d16=writeBatch(db);_0x197d16['update'](_0x1708d6,{'pairedQuizId':null}),_0x197d16['update'](_0x511a78,{'pairedQuizId':null}),await _0x197d16[_0x1df14f(0x5a1)](),showMessage(_0x1df14f(0x889));}catch(_0x518811){console[_0x1df14f(0xabd)]('Error\x20unpairing\x20quizzes:',_0x518811),showMessage(_0x1df14f(0x31c));}});}function formatAndPrintLessonPlan(_0x462b9c,_0x2abb57){const _0x452532=_0x4813c4,_0x1ccf8d=window['open']('',_0x452532(0x9b2)),_0x492f86='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x2abb57['topic']+_0x452532(0x1ba)+_0x2abb57[_0x452532(0x1e8)]+_0x452532(0x975)+_0x462b9c['learningGaps']['map'](_0x4acd0d=>'<li>'+_0x4acd0d+'</li>')[_0x452532(0x15d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x462b9c['teachingContent']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x462b9c[_0x452532(0x25b)][_0x452532(0x86c)](_0x3f36f1=>_0x452532(0xa96)+_0x3f36f1[_0x452532(0x8a8)]+_0x452532(0x8d3)+_0x3f36f1[_0x452532(0xd81)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x452532(0x15d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1ccf8d[_0x452532(0x3f6)][_0x452532(0x402)](_0x492f86),_0x1ccf8d[_0x452532(0x3f6)][_0x452532(0xcaf)](),_0x1ccf8d['onload']=function(){setTimeout(()=>{const _0xc16a80=_0x3082;_0x1ccf8d[_0xc16a80(0x510)]();},0x3e8);};}async function handleAiFixFormula(_0x32d4ed){const _0x343980=_0x4813c4,_0x252c16=document[_0x343980(0x169)](_0x343980(0xcc1)+_0x32d4ed+'\x22]');if(!_0x252c16)return;const _0xe8e2d5=_0x252c16['dataset'][_0x343980(0x826)],_0x58c948=_0x252c16[_0x343980(0x169)](_0x343980(0x65b));let _0x340482={'question':_0x252c16[_0x343980(0x169)](_0x343980(0x417))[_0x343980(0x909)]};switch(_0xe8e2d5){case'multiple_choice':_0x340482[_0x343980(0x7f6)]=Array[_0x343980(0x1a4)](_0x252c16[_0x343980(0x660)](_0x343980(0x6c5)))['map'](_0x9d6a72=>_0x9d6a72[_0x343980(0x909)]);break;case'fill_in_no_choices':case _0x343980(0x311):_0x340482[_0x343980(0xd2d)]=_0x252c16[_0x343980(0x169)](_0x343980(0x828))[_0x343980(0x909)];break;case _0x343980(0x392):_0x340482[_0x343980(0x18a)]=_0x252c16[_0x343980(0x169)](_0x343980(0x4f4))[_0x343980(0x909)];break;}_0x58c948[_0x343980(0xc7e)]=_0x343980(0x4fb),_0x58c948[_0x343980(0x88c)]=!![];try{const _0x2da21f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON['stringify'](_0x340482)+_0x343980(0x236),_0x5433e4={'type':_0x343980(0xb09),'properties':{'fixedData':{'type':_0x343980(0xb09),'properties':{'question':{'type':_0x343980(0x799)},'options':{'type':_0x343980(0x7bb),'items':{'type':_0x343980(0x799)}},'idealAnswer':{'type':_0x343980(0x799)},'correctResponse':{'type':_0x343980(0x799)}},'required':[_0x343980(0x8a8)]}},'required':[_0x343980(0x8c6)]},_0x4ec603=await callAnalysisApi(_0x2da21f,_0x5433e4);if(_0x4ec603&&_0x4ec603[_0x343980(0x8c6)]){const _0x1dc34b=_0x4ec603[_0x343980(0x8c6)];_0x252c16[_0x343980(0x169)](_0x343980(0x417))[_0x343980(0x909)]=_0x1dc34b['question']||_0x340482[_0x343980(0x8a8)];switch(_0xe8e2d5){case _0x343980(0x260):_0x1dc34b[_0x343980(0x7f6)]&&_0x1dc34b[_0x343980(0x7f6)]['length']>0x0&&_0x252c16[_0x343980(0x660)](_0x343980(0x6c5))[_0x343980(0x140)]((_0x4641f8,_0x4066e7)=>{const _0x4ffaef=_0x343980;_0x4641f8[_0x4ffaef(0x909)]=_0x1dc34b[_0x4ffaef(0x7f6)][_0x4066e7]||_0x340482[_0x4ffaef(0x7f6)][_0x4066e7];});break;case _0x343980(0x87d):case _0x343980(0x311):_0x252c16[_0x343980(0x169)]('.ideal-answer-input')[_0x343980(0x909)]=_0x1dc34b[_0x343980(0xd2d)]||_0x340482[_0x343980(0xd2d)];break;case _0x343980(0x392):_0x252c16[_0x343980(0x169)](_0x343980(0x4f4))[_0x343980(0x909)]=_0x1dc34b[_0x343980(0x18a)]||_0x340482[_0x343980(0x18a)];break;}showMessage(_0x343980(0x4c2));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x5d883c){console['error'](_0x343980(0x60a),_0x5d883c),showMessage(_0x343980(0x473));}finally{_0x58c948['innerHTML']=_0x343980(0x545),_0x58c948['disabled']=![];}}async function handleGenerateLessonPlan(_0x542ecf){const _0x13eb21=_0x4813c4;showMessage(_0x13eb21(0x58d));try{const _0x45a993=doc(db,_0x13eb21(0x2b3)+appId+_0x13eb21(0x60d),_0x542ecf),_0x5ec541=await getDoc(_0x45a993);if(!_0x5ec541[_0x13eb21(0x3ea)]())throw new Error(_0x13eb21(0x776));const _0x7ffe8d={'id':_0x542ecf,..._0x5ec541['data']()},_0x58d646=collection(db,_0x13eb21(0x2b3)+appId+_0x13eb21(0x60d),_0x542ecf,_0x13eb21(0x39f)),_0x2eaaf7=await getDocs(_0x58d646),_0x328b61=_0x2eaaf7[_0x13eb21(0xb32)][_0x13eb21(0x86c)](_0x581dad=>_0x581dad[_0x13eb21(0x1ea)]());if(_0x328b61[_0x13eb21(0xdbe)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x5eefe0=calculateItemAnalysis(_0x7ffe8d,_0x328b61)['perQuestionStats'],_0x2c600f=calculateDistractorAnalysis(_0x7ffe8d,_0x328b61),_0x38133b=_0x3711fd=>{const _0x2da19e=_0x13eb21;if(!_0x3711fd)return'';return _0x3711fd[_0x2da19e(0x94b)](/\\/g,'\x5c\x5c')[_0x2da19e(0x94b)](/"/g,'\x5c\x22')[_0x2da19e(0x94b)](/\n/g,'\x5cn');};let _0x3f5e93='สรุปผลการวิเคราะห์:\x5cn';_0x7ffe8d[_0x13eb21(0x1bc)][_0x13eb21(0x140)]((_0x194288,_0x12ed6e)=>{const _0x364f56=_0x13eb21,_0x593368=_0x5eefe0[_0x12ed6e]?.['p'][_0x364f56(0x8bd)](0x2)||'N/A',_0x499f35=_0x5eefe0[_0x12ed6e]?.['r'][_0x364f56(0x8bd)](0x2)||'N/A',_0x595b20=_0x38133b(_0x194288[_0x364f56(0x929)]||_0x194288['stem']);_0x3f5e93+=_0x364f56(0xb85)+(_0x12ed6e+0x1)+_0x364f56(0x615)+_0x593368+_0x364f56(0x67e)+_0x499f35+'):\x20'+_0x595b20+'\x5cn';if(_0x194288[_0x364f56(0x51d)]===_0x364f56(0x260)&&_0x2c600f[_0x12ed6e]){const _0x4ad124=_0x2c600f[_0x12ed6e],_0x44a3a1=Object[_0x364f56(0xaab)](_0x4ad124)[_0x364f56(0xd05)](_0x385a15=>parseInt(_0x385a15)!==_0x194288[_0x364f56(0x54b)])[_0x364f56(0x9a1)]((_0x273eb5,_0x35aa3c)=>_0x4ad124[_0x35aa3c][_0x364f56(0x7dd)]-_0x4ad124[_0x273eb5][_0x364f56(0x7dd)])[0x0];if(_0x44a3a1&&_0x4ad124[_0x44a3a1][_0x364f56(0x7dd)]>0x0){const _0x340255=_0x38133b(_0x4ad124[_0x44a3a1]['text']);_0x3f5e93+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x340255+'\x22\x5cn';}}});const _0x5788fa=_0x13eb21(0xd0b)+_0x7ffe8d[_0x13eb21(0x1e8)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f5e93+_0x13eb21(0xbb8),_0x40e095={'type':_0x13eb21(0xb09),'properties':{'learningGaps':{'type':_0x13eb21(0x7bb),'items':{'type':_0x13eb21(0x799)}},'teachingContent':{'type':_0x13eb21(0x799)},'practiceProblems':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x13eb21(0x799)},'solution':{'type':'STRING'}}}}},'required':['learningGaps',_0x13eb21(0xb83),_0x13eb21(0x25b)]},_0x189a8b=await callAnalysisApi(_0x5788fa,_0x40e095);await updateDoc(_0x45a993,{'lessonPlan':_0x189a8b});const _0x51a3ef=_0x13eb21(0x4f9)+_0x7ffe8d[_0x13eb21(0x1e8)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x189a8b[_0x13eb21(0xc46)]['map'](_0x28647a=>_0x13eb21(0xe12)+_0x28647a+'</li>')['join']('')+_0x13eb21(0xd3e)+_0x189a8b[_0x13eb21(0xb83)]+_0x13eb21(0xc34)+_0x189a8b[_0x13eb21(0x25b)][_0x13eb21(0x86c)](_0x51667a=>_0x13eb21(0xcbf)+_0x51667a[_0x13eb21(0x8a8)]+_0x13eb21(0x56e)+_0x51667a[_0x13eb21(0xd81)]+_0x13eb21(0x83f))[_0x13eb21(0x15d)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x13eb21(0x658))[_0x13eb21(0xd68)]=_0x13eb21(0xd8f)+_0x7ffe8d[_0x13eb21(0x1e8)],document['getElementById'](_0x13eb21(0x6f3))[_0x13eb21(0xc7e)]=_0x51a3ef,document['getElementById'](_0x13eb21(0x74e))[_0x13eb21(0xcde)][_0x13eb21(0xa30)](_0x13eb21(0xc15));if(window[_0x13eb21(0xe2)])MathJax[_0x13eb21(0xacf)]();messageModal[_0x13eb21(0xcde)][_0x13eb21(0x483)](_0x13eb21(0xc15));}catch(_0x2ac8c0){console['error'](_0x13eb21(0x535),_0x2ac8c0),showMessage(_0x13eb21(0xa6c)+_0x2ac8c0[_0x13eb21(0xbd0)]);}}async function handleDuplicateQuiz(_0x545647){const _0x509839=_0x4813c4;try{const _0x20baa0=doc(db,_0x509839(0x2b3)+appId+_0x509839(0x60d),_0x545647),_0x5eff93=await getDoc(_0x20baa0);if(_0x5eff93[_0x509839(0x3ea)]()){const _0x3775de=_0x5eff93[_0x509839(0x1ea)]();let _0x87b242='',_0x4b52e6=_0x509839(0x2a0),_0x2ff992=null;if(_0x3775de['quizMode']==='pre-test'){let _0x100a29=_0x3775de[_0x509839(0x1e8)]['replace'](_0x509839(0xee),'')['trim']();_0x87b242=_0x509839(0xcce)+_0x100a29,_0x4b52e6='post-test',_0x2ff992=_0x545647;}else _0x87b242=_0x509839(0xccc)+_0x3775de[_0x509839(0x1e8)];const _0x1895f0={..._0x3775de,'topic':_0x87b242,'createdAt':new Date()[_0x509839(0xb05)](),'quizMode':_0x4b52e6,'pairedQuizId':_0x2ff992};let _0x274c8c;while(!![]){_0x274c8c=Math['floor'](0x3e8+Math[_0x509839(0x89e)]()*0x2328)[_0x509839(0x101)]();const _0x66bbca=await getDoc(doc(db,_0x509839(0x2b3)+appId+_0x509839(0x60d),_0x274c8c));if(!_0x66bbca[_0x509839(0x3ea)]())break;}const _0x578d6d=doc(db,_0x509839(0x2b3)+appId+_0x509839(0x60d),_0x274c8c);await setDoc(_0x578d6d,_0x1895f0),_0x1895f0[_0x509839(0xf3)]==='post-test'&&await updateDoc(_0x20baa0,{'pairedQuizId':_0x274c8c}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x509839(0x700));}catch(_0x1ec077){console['error']('Error\x20duplicating\x20quiz:',_0x1ec077),showMessage(_0x509839(0x4e3));}}async function handleDeleteQuiz(_0x3c74b8,_0x462c3a=!![]){const _0x584eef=_0x4813c4;try{const _0x12e00d=writeBatch(db),_0x2b0d27=collection(db,_0x584eef(0x2b3)+appId+_0x584eef(0x5e4)+_0x3c74b8+_0x584eef(0xbfd)),_0x2da4f6=await getDocs(_0x2b0d27);_0x2da4f6[_0x584eef(0x140)](_0x1cb5dd=>{_0x12e00d['delete'](doc(_0x2b0d27,_0x1cb5dd['id']));});const _0x1d333c=doc(db,'artifacts/'+appId+_0x584eef(0x60d),_0x3c74b8);_0x12e00d[_0x584eef(0xbf1)](_0x1d333c),await _0x12e00d[_0x584eef(0x5a1)]();try{console[_0x584eef(0x84)](_0x584eef(0xdd9)+_0x3c74b8+_0x584eef(0x496));const _0xc98e9c=collection(db,_0x584eef(0x2b3)+appId+_0x584eef(0xdab)),_0x436378=await getDocs(_0xc98e9c),_0x4f8944=[];_0x436378[_0x584eef(0x140)](_0xf88dc=>{const _0x29b22c=_0x584eef,_0x517cf9=_0xf88dc[_0x29b22c(0x1ea)](),_0x1a225a=_0x517cf9[_0x29b22c(0x356)]||{};let _0xc12512=![];for(const _0x37f54a in _0x1a225a){const _0x1098fd=_0x1a225a[_0x37f54a];if(_0x1098fd['linkedQuizIds']&&_0x1098fd[_0x29b22c(0xd7b)]['includes'](_0x3c74b8)){_0xc12512=!![];const _0x147644=doc(db,_0x29b22c(0x2b3)+appId+_0x29b22c(0xdab),_0xf88dc['id']),_0x769d1d=updateDoc(_0x147644,{[_0x29b22c(0x155)+_0x37f54a+_0x29b22c(0xad1)]:arrayRemove(_0x3c74b8)});_0x4f8944['push'](_0x769d1d);}}}),_0x4f8944['length']>0x0&&(await Promise[_0x584eef(0xa19)](_0x4f8944),console[_0x584eef(0x84)](_0x584eef(0x9d6)+_0x4f8944['length']+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x3c74b8+'.'));}catch(_0x4c30e5){console[_0x584eef(0xabd)]('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x4c30e5);}_0x462c3a&&showMessage(_0x584eef(0x7a6));}catch(_0x5e2b4a){console[_0x584eef(0xabd)](_0x584eef(0xdce),_0x5e2b4a),_0x462c3a&&showMessage(_0x584eef(0xc5a));}}async function showQuizDetailView(_0x5ae860){const _0x4b0ac0=_0x4813c4;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x4b0ac0(0x9da));try{const _0x122372=doc(db,_0x4b0ac0(0x2b3)+appId+'/public/data/quizzes',_0x5ae860),_0x5d7d15=await getDoc(_0x122372);if(!_0x5d7d15[_0x4b0ac0(0x3ea)]()){showMessage(_0x4b0ac0(0x776));return;}const _0x5e73a8={'id':_0x5d7d15['id'],..._0x5d7d15[_0x4b0ac0(0x1ea)]()};currentQuizData=_0x5e73a8;const _0x49653a=doc(db,_0x4b0ac0(0x2b3)+appId+_0x4b0ac0(0xa9c),_0x5e73a8[_0x4b0ac0(0xb91)]),_0x5354ac=await getDoc(_0x49653a);_0x5354ac[_0x4b0ac0(0x3ea)]()?(currentProjectData=_0x5354ac[_0x4b0ac0(0x1ea)](),currentProjectId=_0x5e73a8[_0x4b0ac0(0xb91)]):(currentProjectData={'students':[]},currentProjectId=_0x5e73a8[_0x4b0ac0(0xb91)]);document[_0x4b0ac0(0x3a5)](_0x4b0ac0(0xd6f))['textContent']=_0x5e73a8['topic'],document['getElementById']('results-quiz-id-display')[_0x4b0ac0(0xd68)]=_0x5ae860;const _0x24ece5=collection(db,'artifacts/'+appId+_0x4b0ac0(0x60d),_0x5ae860,_0x4b0ac0(0x39f));unsubscribeSubmissionsListener=onSnapshot(_0x24ece5,_0x198d06=>{const _0x23815=_0x4b0ac0,_0x3eb9a0=_0x198d06[_0x23815(0xb32)][_0x23815(0x86c)](_0x2b78eb=>({'id':_0x2b78eb['id'],..._0x2b78eb[_0x23815(0x1ea)]()}));currentSubmissions=_0x3eb9a0;const _0x1da2cd=_0x3eb9a0['filter'](_0x24c7ae=>_0x24c7ae[_0x23815(0xb6a)]&&_0x24c7ae[_0x23815(0xb6a)][_0x23815(0xdbe)]>0x0);renderBehaviorLog(_0x3eb9a0),renderAnswerGrid(currentProjectData[_0x23815(0x3a0)],_0x1da2cd,_0x5e73a8),renderAnalytics(_0x5e73a8,_0x1da2cd),renderQuizResultsTable(currentProjectData[_0x23815(0x3a0)],_0x3eb9a0,_0x5e73a8),renderQuizLeaderboard(_0x1da2cd,_0x5e73a8,_0x23815(0x5c6));}),showView('quiz-results');}catch(_0x1eaed2){console['error'](_0x4b0ac0(0x566),_0x1eaed2),showMessage(_0x4b0ac0(0xa53));}}function renderAnswerGrid(_0x7fa5ed,_0x3fa8b8,_0xce098){const _0x468e53=_0x4813c4,_0x1de2a3=document[_0x468e53(0x3a5)](_0x468e53(0x608));if(!_0x1de2a3)return;if(!_0x7fa5ed||_0x7fa5ed['length']===0x0){_0x1de2a3[_0x468e53(0xc7e)]=_0x468e53(0x271);return;}const _0x15c513=_0xce098[_0x468e53(0x1bc)],_0x181243=_0x3fa8b8[_0x468e53(0x4c5)]((_0x32c014,_0x547b7a)=>{const _0x3dc721=_0x468e53;return _0x32c014[_0x547b7a[_0x3dc721(0x1af)]]=_0x547b7a,_0x32c014;},{}),_0xa5cc9a=_0x3d3999=>String[_0x468e53(0x612)](0x41+_0x3d3999),_0x5e2e0b=_0x320cb7=>{const _0xb7fa87=_0x468e53,_0x2d6a3a=_0x320cb7[_0xb7fa87(0x51d)]||_0xce098[_0xb7fa87(0xa34)];switch(_0x2d6a3a){case _0xb7fa87(0x260):return _0x320cb7[_0xb7fa87(0x7f6)]&&_0x320cb7[_0xb7fa87(0x7f6)][_0xb7fa87(0xdbe)]>_0x320cb7[_0xb7fa87(0x54b)]?_0xa5cc9a(_0x320cb7[_0xb7fa87(0x54b)]):'-';case'true_false':const _0x4cda7c=_0x320cb7[_0xb7fa87(0xa25)]===!![]||String(_0x320cb7['correctAnswer'])[_0xb7fa87(0x7c4)]()===_0xb7fa87(0xa55);return _0x4cda7c?_0xb7fa87(0x2c2):_0xb7fa87(0x2d2);case _0xb7fa87(0x392):return _0x320cb7[_0xb7fa87(0x18a)]||'-';case _0xb7fa87(0x311):return _0xb7fa87(0xd15);default:return'-';}},_0x38f94f=(_0x426b6e,_0x453f34)=>{const _0x43f8d3=_0x468e53;if(_0x453f34[_0x43f8d3(0xc1a)]===null||_0x453f34[_0x43f8d3(0xc1a)]===undefined)return'-';const _0x31c1c9=_0x426b6e[_0x43f8d3(0x51d)]||_0xce098[_0x43f8d3(0xa34)];switch(_0x31c1c9){case'multiple_choice':const _0x2b8a12=_0x426b6e[_0x43f8d3(0x7f6)][_0x43f8d3(0x978)](_0x2d63d0=>_0x2d63d0===_0x453f34[_0x43f8d3(0x4ba)]);return _0x2b8a12!==-0x1?_0xa5cc9a(_0x2b8a12):_0x453f34[_0x43f8d3(0x4ba)]||'-';case _0x43f8d3(0x162):if(_0x453f34['answer']=='0'||_0x453f34[_0x43f8d3(0xc1a)]===!![]||_0x453f34[_0x43f8d3(0xc1a)]===_0x43f8d3(0xa55))return _0x43f8d3(0x2c2);return _0x43f8d3(0x2d2);default:return _0x453f34[_0x43f8d3(0xc1a)];}};let _0x1a4a44=_0x468e53(0x43f)+_0x15c513[_0x468e53(0x86c)]((_0x37774d,_0x122f6e)=>_0x468e53(0x93f)+(_0x122f6e+0x1)+'</th>')[_0x468e53(0x15d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15c513['map'](_0x4f61a0=>_0x468e53(0x339)+_0x5e2e0b(_0x4f61a0)+_0x468e53(0x66b))[_0x468e53(0x15d)]('')+_0x468e53(0x3be);_0x7fa5ed[_0x468e53(0x140)](_0x40d25b=>{const _0x2422f5=_0x468e53;_0x1a4a44+='<tr>',_0x1a4a44+=_0x2422f5(0xd99)+_0x40d25b+'</td>';const _0x33f29c=_0x181243[_0x40d25b];if(_0x33f29c){const _0x3f8a09=_0x33f29c[_0x2422f5(0xb6a)][_0x33f29c['attempts'][_0x2422f5(0xdbe)]-0x1];_0x15c513[_0x2422f5(0x140)]((_0x3c2c96,_0x3f810f)=>{const _0x4ba70f=_0x2422f5,_0x427f5d=_0x3f8a09[_0x4ba70f(0x1b8)][_0x4ba70f(0x5d9)](_0x1c4035=>_0x1c4035[_0x4ba70f(0x6f8)]===_0x3c2c96['id']);if(_0x427f5d){let _0x412cdc='';const _0x1a4427=_0x427f5d[_0x4ba70f(0x8a)]===!![],_0x78a1cd=_0x427f5d[_0x4ba70f(0x320)]===!![]||_0x427f5d['wasConfident']==='confident',_0x282ab1=_0x427f5d[_0x4ba70f(0xc42)];if(_0x282ab1===_0x4ba70f(0xb1f))_0x1a4427?_0x412cdc=_0x4ba70f(0x158):_0x412cdc=_0x4ba70f(0x1b4);else _0x78a1cd?_0x412cdc=_0x1a4427?_0x4ba70f(0x497):_0x4ba70f(0xa0c):_0x412cdc=_0x1a4427?_0x4ba70f(0x346):_0x4ba70f(0x453);_0x1a4a44+=_0x4ba70f(0x4e6)+_0x412cdc+'\x22>'+_0x38f94f(_0x3c2c96,_0x427f5d)+_0x4ba70f(0x66b);}else _0x1a4a44+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x1a4a44+=_0x15c513[_0x2422f5(0x86c)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')['join']('');_0x1a4a44+=_0x2422f5(0x646);}),_0x1a4a44+=_0x468e53(0x42c),_0x1de2a3[_0x468e53(0xc7e)]=_0x1a4a44;}function renderQuizResultsTable(_0x153dea,_0x4331ef,_0x2a70ab){const _0xa9af71=_0x4813c4,_0x52a340=_0x4331ef[_0xa9af71(0x4c5)]((_0xde1c4a,_0x16db5a)=>{const _0x240982=_0xa9af71;return _0xde1c4a[_0x16db5a[_0x240982(0x1af)]]=_0x16db5a,_0xde1c4a;},{}),_0xae7b9d=document['querySelector'](_0xa9af71(0xa07));_0xae7b9d&&!_0xae7b9d[_0xa9af71(0xc7e)]['includes']('จัดการ')&&(_0xae7b9d['innerHTML']+=_0xa9af71(0x4b6));const _0xb74573=document[_0xa9af71(0x3a5)](_0xa9af71(0x606));if(!_0x153dea||_0x153dea[_0xa9af71(0xdbe)]===0x0){_0xb74573[_0xa9af71(0xc7e)]=_0xa9af71(0x321);return;}const _0x675cba=_0x2a70ab['isRemedial']===!![],_0x531d5e=_0x2a70ab[_0xa9af71(0x436)]?.[_0xa9af71(0xb9e)]??-0x1;let _0x163417='';_0x153dea['forEach'](_0x445b1b=>{const _0x135ec2=_0xa9af71,_0x79f8be=_0x52a340[_0x445b1b];let _0x2f789d=_0x135ec2(0x744)+(_0x675cba?_0x135ec2(0x746):_0x135ec2(0xc9e))+'\x22>'+(_0x675cba?_0x135ec2(0x9de):_0x135ec2(0xd24))+_0x135ec2(0xa9b);if(_0x79f8be){if(_0x79f8be[_0x135ec2(0xb6a)]&&_0x79f8be[_0x135ec2(0xb6a)]['length']>0x0){let _0x2718b0=_0x675cba?_0x79f8be[_0x135ec2(0xb35)]===_0x79f8be[_0x135ec2(0xad2)]:_0x531d5e!==-0x1&&_0x79f8be[_0x135ec2(0xb35)]>=_0x531d5e;const _0x24ab33=_0x2718b0?_0x135ec2(0x346):_0x135ec2(0x453),_0x5b7f03=_0x2718b0?_0x135ec2(0x53d):_0x135ec2(0x2dc),_0x21e43e=_0x135ec2(0xa89)+_0x24ab33+'\x22>'+_0x5b7f03+_0x135ec2(0xa9b),_0x402bc8='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x79f8be[_0x135ec2(0xb6a)]?.[_0x135ec2(0xdbe)]||0x1)+_0x135ec2(0x865),_0x3a9b35=_0x135ec2(0xcb4)+(_0x79f8be['points']||0x0)[_0x135ec2(0xe1)]()+_0x135ec2(0x3e5)+_0x445b1b+_0x135ec2(0x187)+(_0x79f8be[_0x135ec2(0x5da)]||0x0)+_0x135ec2(0x5d4);_0x163417+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x445b1b+_0x135ec2(0x519)+_0x79f8be[_0x135ec2(0xb35)]+'\x20/\x20'+_0x79f8be['totalQuestions']+_0x135ec2(0x67a)+_0x21e43e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f789d+_0x135ec2(0x5f5)+_0x79f8be[_0x135ec2(0x1e1)]+_0x135ec2(0x6eb)+_0x79f8be[_0x135ec2(0xad2)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x79f8be[_0x135ec2(0x76b)]+_0x135ec2(0x6eb)+_0x79f8be[_0x135ec2(0xad2)]+_0x135ec2(0x10a)+_0x3a9b35+_0x135ec2(0x67a)+_0x402bc8+_0x135ec2(0x81b)+new Date(_0x79f8be[_0x135ec2(0x73c)])['toLocaleString'](_0x135ec2(0xbf))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x445b1b+_0x135ec2(0xb2f);}else{const _0x3322aa='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x163417+=_0x135ec2(0xdee)+_0x445b1b+_0x135ec2(0x2b5)+_0x2f789d+_0x135ec2(0x631)+_0x3322aa+_0x135ec2(0x81b)+new Date(_0x79f8be[_0x135ec2(0x1a8)])[_0x135ec2(0xe1)](_0x135ec2(0xbf))+_0x135ec2(0x593)+_0x445b1b+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x2af11c=_0x135ec2(0x80f);_0x163417+=_0x135ec2(0xe2e)+_0x445b1b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f789d+_0x135ec2(0x51e)+_0x2af11c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0xb74573[_0xa9af71(0xc7e)]=_0x163417;}async function confirmRenameQuiz(){const _0x50d17b=_0x4813c4,_0x2f229d=document[_0x50d17b(0x3a5)]('rename-quiz-input')[_0x50d17b(0x909)][_0x50d17b(0x7f3)]();if(!_0x2f229d){showMessage(_0x50d17b(0xaa3));return;}if(!actionTargetId)return;const _0x1f5a79=doc(db,_0x50d17b(0x2b3)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x1f5a79,{'topic':_0x2f229d}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x50d17b(0xcde)]['add'](_0x50d17b(0xc15)),actionTargetId=null;}catch(_0x12fa52){console[_0x50d17b(0xabd)](_0x50d17b(0xa18),_0x12fa52),showMessage(_0x50d17b(0x68f));}}async function handleMoveQuiz(_0x5ec032){const _0x2bb20f=_0x4813c4;actionTargetId=_0x5ec032;const _0x467b71=document[_0x2bb20f(0x3a5)]('move-quiz-project-select');_0x467b71['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x2bb20f(0xcde)][_0x2bb20f(0xa30)](_0x2bb20f(0xc15));try{const _0x40f7fe=collection(db,_0x2bb20f(0x2b3)+appId+_0x2bb20f(0xa9c)),_0x5654f4=await getDocs(_0x40f7fe),_0x47f69a=_0x5654f4['docs']['map'](_0x4159ca=>({'id':_0x4159ca['id'],..._0x4159ca[_0x2bb20f(0x1ea)]()})),_0x5b75a7=_0x47f69a[_0x2bb20f(0xd05)](_0x2bcde1=>_0x2bcde1['id']!==currentProjectId);if(_0x5b75a7[_0x2bb20f(0xdbe)]===0x0){_0x467b71[_0x2bb20f(0xc7e)]=_0x2bb20f(0xdd7),document[_0x2bb20f(0x3a5)](_0x2bb20f(0x215))['disabled']=!![];return;}_0x467b71[_0x2bb20f(0xc7e)]=_0x5b75a7[_0x2bb20f(0x86c)](_0x5f2210=>_0x2bb20f(0x437)+_0x5f2210['id']+'\x22>'+_0x5f2210[_0x2bb20f(0x821)]+_0x2bb20f(0xc01))['join'](''),document['getElementById']('confirm-move-quiz-btn')['disabled']=![];}catch(_0x2ade79){console[_0x2bb20f(0xabd)]('Error\x20fetching\x20projects\x20for\x20move:',_0x2ade79),showMessage(_0x2bb20f(0x18e)),moveQuizModal['classList'][_0x2bb20f(0x483)](_0x2bb20f(0xc15));}}async function confirmMoveQuiz(){const _0x13dfe1=_0x4813c4,_0xac39dc=document[_0x13dfe1(0x3a5)](_0x13dfe1(0xd5))[_0x13dfe1(0x909)];if(!_0xac39dc){showMessage(_0x13dfe1(0xcd6));return;}if(!actionTargetId)return;const _0x303389=doc(db,_0x13dfe1(0x2b3)+appId+_0x13dfe1(0x60d),actionTargetId);try{await updateDoc(_0x303389,{'projectId':_0xac39dc}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x13dfe1(0xcde)][_0x13dfe1(0x483)](_0x13dfe1(0xc15)),actionTargetId=null;}catch(_0x37298d){console[_0x13dfe1(0xabd)](_0x13dfe1(0x798),_0x37298d),showMessage(_0x13dfe1(0x359));}}async function handleQuizSettings(_0x31f8f0){const _0x428ca9=_0x4813c4;actionTargetId=_0x31f8f0;const _0x37bf71=doc(db,_0x428ca9(0x2b3)+appId+_0x428ca9(0x60d),_0x31f8f0);try{const _0x18f42c=await getDoc(_0x37bf71);if(_0x18f42c[_0x428ca9(0x3ea)]()){const _0x3974b4=_0x18f42c['data'](),_0x98de75=_0x3974b4['settings']||{},_0x36ffb4=_0x3974b4['questions'][_0x428ca9(0xdbe)];document[_0x428ca9(0x3a5)]('modal-shuffle-select')[_0x428ca9(0x909)]=_0x98de75[_0x428ca9(0x2c1)]||_0x428ca9(0xa8c),document[_0x428ca9(0x3a5)](_0x428ca9(0x72a))[_0x428ca9(0x909)]=_0x98de75['resultsDisplay']||_0x428ca9(0xcd4),document[_0x428ca9(0x3a5)]('modal-timer-mode-select')['value']=_0x98de75['timerMode']||_0x428ca9(0xa8c),document['getElementById'](_0x428ca9(0x2ef))['value']=_0x98de75[_0x428ca9(0x4bc)]||0xa,document[_0x428ca9(0x3a5)]('modal-passing-score-input')[_0x428ca9(0x909)]=_0x98de75[_0x428ca9(0xb9e)]||Math[_0x428ca9(0x304)](_0x36ffb4/0x2),document[_0x428ca9(0x3a5)](_0x428ca9(0xa93))[_0x428ca9(0x4c9)]=_0x36ffb4,document[_0x428ca9(0x3a5)]('modal-adaptive-quiz-checkbox')[_0x428ca9(0x2e0)]=_0x98de75[_0x428ca9(0xb1)]||![],document[_0x428ca9(0x3a5)](_0x428ca9(0x71f))[_0x428ca9(0x2e0)]=_0x98de75[_0x428ca9(0x333)]||![];const _0x45797e=_0x98de75[_0x428ca9(0x576)]||![];document[_0x428ca9(0x3a5)]('modal-confidence-scoring-checkbox')['checked']=_0x45797e,document['getElementById'](_0x428ca9(0x231))[_0x428ca9(0x909)]=_0x98de75[_0x428ca9(0x9a2)]||_0x428ca9(0xd6c);const _0x9c0ee7=document[_0x428ca9(0x3a5)](_0x428ca9(0x35e));_0x9c0ee7[_0x428ca9(0xcde)][_0x428ca9(0x1a2)](_0x428ca9(0xc15),!_0x45797e),document[_0x428ca9(0x3a5)](_0x428ca9(0x368))[_0x428ca9(0xcfa)](new Event(_0x428ca9(0xdff))),quizSettingsModal[_0x428ca9(0xcde)][_0x428ca9(0xa30)](_0x428ca9(0xc15));}else showMessage(_0x428ca9(0x776));}catch(_0x1f7c78){console[_0x428ca9(0xabd)]('Error\x20fetching\x20quiz\x20settings:',_0x1f7c78),showMessage(_0x428ca9(0x4a8));}}async function confirmQuizSettings(){const _0x572c7b=_0x4813c4;if(!actionTargetId)return;const _0x3e88c1=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId),_0x4014ee={'shuffle':document[_0x572c7b(0x3a5)]('modal-shuffle-select')[_0x572c7b(0x909)],'resultsDisplay':document['getElementById'](_0x572c7b(0x72a))[_0x572c7b(0x909)],'timerMode':document['getElementById'](_0x572c7b(0x368))[_0x572c7b(0x909)],'timerDuration':parseInt(document[_0x572c7b(0x3a5)]('modal-timer-duration-input')[_0x572c7b(0x909)])||0xa,'passingScore':parseInt(document[_0x572c7b(0x3a5)](_0x572c7b(0xa93))[_0x572c7b(0x909)])||0x0,'isAdaptive':document[_0x572c7b(0x3a5)](_0x572c7b(0xdb1))[_0x572c7b(0x2e0)],'loopUntilPass':document[_0x572c7b(0x3a5)](_0x572c7b(0x71f))['checked'],'isConfidenceScoringEnabled':document[_0x572c7b(0x3a5)](_0x572c7b(0xadd))['checked'],'confidenceMode':document['getElementById'](_0x572c7b(0x231))[_0x572c7b(0x909)]};try{await updateDoc(_0x3e88c1,{'settings':_0x4014ee}),showMessage(_0x572c7b(0xb02)),quizSettingsModal['classList'][_0x572c7b(0x483)](_0x572c7b(0xc15)),actionTargetId=null;}catch(_0x1a438c){console[_0x572c7b(0xabd)](_0x572c7b(0xa72),_0x1a438c),showMessage(_0x572c7b(0xdc0));}}async function confirmQuizStatus(){const _0x22d4b0=_0x4813c4;if(!actionTargetId)return;const _0x5cc27c=doc(db,_0x22d4b0(0x2b3)+appId+_0x22d4b0(0x60d),actionTargetId),_0x506247=document[_0x22d4b0(0x169)](_0x22d4b0(0x9aa));if(!_0x506247){showMessage(_0x22d4b0(0x88d));return;}const _0x35a588=_0x506247[_0x22d4b0(0x909)];let _0x56dd3e={};if(_0x35a588===_0x22d4b0(0xb9b)||_0x35a588==='inactive')_0x56dd3e={'status':_0x35a588,'startTime':null,'endTime':null};else{if(_0x35a588===_0x22d4b0(0x433)){const _0x511b95=document['getElementById'](_0x22d4b0(0x1dc))[_0x22d4b0(0x909)],_0x2cca10=document['getElementById'](_0x22d4b0(0x145))[_0x22d4b0(0x909)];if(!_0x511b95&&!_0x2cca10){showMessage(_0x22d4b0(0xa5d));return;}_0x56dd3e={'status':_0x22d4b0(0xcd1),'startTime':_0x511b95?new Date(_0x511b95)[_0x22d4b0(0xb05)]():null,'endTime':_0x2cca10?new Date(_0x2cca10)['toISOString']():null};}}try{await updateDoc(_0x5cc27c,_0x56dd3e),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x22d4b0(0xcde)][_0x22d4b0(0x483)]('hidden'),actionTargetId=null;}catch(_0x3de1ec){console[_0x22d4b0(0xabd)](_0x22d4b0(0x7d4),_0x3de1ec),showMessage(_0x22d4b0(0x292));}}function listenForStudentProfiles(_0x32277c){const _0x2e8b69=_0x4813c4,_0x197d81=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x32277c+_0x2e8b69(0xd1a));unsubscribeStudentProfilesListener=onSnapshot(_0x197d81,_0x333e6e=>{const _0x304e2a=_0x2e8b69,_0x29879f=_0x333e6e[_0x304e2a(0xb32)][_0x304e2a(0x86c)](_0x3f0953=>_0x3f0953[_0x304e2a(0x1ea)]());renderLeaderboard(_0x29879f,_0x304e2a(0x4e7));},_0xfd8010=>{const _0x3524c5=_0x2e8b69;console['error'](_0x3524c5(0xca),_0xfd8010),document['getElementById']('leaderboard-table-body')[_0x3524c5(0xc7e)]=_0x3524c5(0xdb7);});}function renderLeaderboard(_0x1d1826,_0x3261fc){const _0x2371bf=_0x4813c4,_0x2e3d0f=document[_0x2371bf(0x3a5)](_0x3261fc);if(!_0x1d1826||_0x1d1826[_0x2371bf(0xdbe)]===0x0){_0x2e3d0f[_0x2371bf(0xc7e)]=_0x2371bf(0x19d);return;}_0x1d1826[_0x2371bf(0x9a1)]((_0x5602d0,_0x2e4d19)=>{const _0x4b469e=_0x2371bf,_0x5a3ce1=(_0x2e4d19[_0x4b469e(0x183)]||0x0)-(_0x5602d0[_0x4b469e(0x183)]||0x0);if(_0x5a3ce1!==0x0)return _0x5a3ce1;const _0x130828=(_0x2e4d19[_0x4b469e(0x853)]?.[_0x4b469e(0xaae)]||0x0)-(_0x5602d0[_0x4b469e(0x853)]?.['specialist']||0x0);if(_0x130828!==0x0)return _0x130828;const _0x42d7e2=(_0x2e4d19['badgesCount']?.[_0x4b469e(0x33a)]||0x0)-(_0x5602d0[_0x4b469e(0x853)]?.['first_try_ace']||0x0);if(_0x42d7e2!==0x0)return _0x42d7e2;const _0x5363c8=(_0x2e4d19['badgesCount']?.['perfect_score']||0x0)-(_0x5602d0[_0x4b469e(0x853)]?.[_0x4b469e(0xd1f)]||0x0);if(_0x5363c8!==0x0)return _0x5363c8;const _0x25810b=(_0x2e4d19[_0x4b469e(0x853)]?.[_0x4b469e(0x729)]||0x0)-(_0x5602d0[_0x4b469e(0x853)]?.[_0x4b469e(0x729)]||0x0);if(_0x25810b!==0x0)return _0x25810b;return _0x5602d0[_0x4b469e(0x1af)][_0x4b469e(0x5f6)](_0x2e4d19[_0x4b469e(0x1af)],'th');});let _0x2863d2='';_0x1d1826['forEach']((_0x3da5bd,_0x4e3117)=>{const _0x2ed822=_0x2371bf,_0x2dbaa3=_0x4e3117+0x1,_0xcc4f32=_0x3da5bd[_0x2ed822(0x853)]||{};let _0x3282db='';const _0x3fe747=[_0x2ed822(0xaae),'perfect_score',_0x2ed822(0x33a),_0x2ed822(0x729)];_0x3fe747['forEach'](_0x7f4fae=>{const _0x53ad11=_0x2ed822;if(_0xcc4f32[_0x7f4fae]>0x0){const _0x89c126=Object[_0x53ad11(0x3fb)](BADGES)[_0x53ad11(0x5d9)](_0x310f32=>_0x310f32['id']===_0x7f4fae);_0x89c126&&(_0x7f4fae===_0x53ad11(0xaae)?_0x3282db+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x89c126[_0x53ad11(0x4a4)]+_0x53ad11(0x414)+_0x89c126[_0x53ad11(0x206)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x3282db+=_0x53ad11(0x542)+_0x89c126[_0x53ad11(0x4a4)]+'\x20('+_0xcc4f32[_0x7f4fae]+_0x53ad11(0xdba)+_0x89c126[_0x53ad11(0x206)]+_0x53ad11(0xdf4)+_0xcc4f32[_0x7f4fae]+_0x53ad11(0xdae));}}),_0x2863d2+=_0x2ed822(0x9f5)+_0x2dbaa3+_0x2ed822(0x10a)+_0x3da5bd[_0x2ed822(0x1af)]+_0x2ed822(0x9f)+(_0x3da5bd['totalPoints']||0x0)[_0x2ed822(0xe1)]()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x3282db||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2e3d0f[_0x2371bf(0xc7e)]=_0x2863d2;}function displayLoopScreen(_0x1886e3,_0x3f1a7a,_0x2fa6c2){const _0xf474c6=_0x4813c4;let _0x53c78c='';_0x2fa6c2!==_0xf474c6(0xb29)&&(_0x53c78c='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x1886e3+_0xf474c6(0x6eb)+_0x3f1a7a+_0xf474c6(0xdb4));const _0x3c2bd3=_0xf474c6(0xbf7)+_0x53c78c+_0xf474c6(0x3fc);studentResultArea[_0xf474c6(0xc7e)]=_0x3c2bd3,studentResultArea[_0xf474c6(0xcde)][_0xf474c6(0xa30)](_0xf474c6(0xc15)),studentQuizArea[_0xf474c6(0xcde)][_0xf474c6(0x483)](_0xf474c6(0xc15)),document[_0xf474c6(0x3a5)](_0xf474c6(0x64f))[_0xf474c6(0x9f0)]('click',()=>{const _0x4959a1=_0xf474c6;studentResultArea[_0x4959a1(0xcde)][_0x4959a1(0x483)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0xdf1454,_0x43f08f,_0x4a7c45){const _0x81b988=_0x4813c4,_0x2a1f9f=document[_0x81b988(0x3a5)](_0x4a7c45),_0x4dab4d=_0x4a7c45===_0x81b988(0xd77),_0xc18ee3=_0x43f08f[_0x81b988(0x1bc)][_0x81b988(0xdbe)],_0x5a78dc=document['getElementById'](_0x4a7c45)[_0x81b988(0x5f8)](_0x81b988(0x85));if(_0x5a78dc&&!_0x4dab4d){const _0x5bd1c6=_0x5a78dc[_0x81b988(0x169)]('thead');_0x5bd1c6[_0x81b988(0xc7e)]=_0x81b988(0x8ec);}if(!_0xdf1454||_0xdf1454[_0x81b988(0xdbe)]===0x0){_0x2a1f9f['innerHTML']=_0x81b988(0x360)+(_0x4dab4d?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x42d63=[..._0xdf1454];_0x42d63[_0x81b988(0x9a1)]((_0x36c9df,_0x288716)=>{const _0xf6daa3=_0x81b988;let _0xf19d7e,_0x2db33f;switch(quizLeaderboardSortBy){case _0xf6daa3(0x1af):_0xf19d7e=_0x36c9df[_0xf6daa3(0x1af)]||'',_0x2db33f=_0x288716[_0xf6daa3(0x1af)]||'';return quizLeaderboardSortOrder===_0xf6daa3(0xc4c)?_0xf19d7e[_0xf6daa3(0x5f6)](_0x2db33f,'th'):_0x2db33f[_0xf6daa3(0x5f6)](_0xf19d7e,'th');case _0xf6daa3(0x5da):_0xf19d7e=_0x36c9df[_0xf6daa3(0x5da)]||0x0,_0x2db33f=_0x288716[_0xf6daa3(0x5da)]||0x0;break;case'attempts':_0xf19d7e=_0x36c9df[_0xf6daa3(0xb6a)]?.[_0xf6daa3(0xdbe)]||0x1,_0x2db33f=_0x288716['attempts']?.[_0xf6daa3(0xdbe)]||0x1;break;case _0xf6daa3(0x73c):_0xf19d7e=new Date(_0x36c9df[_0xf6daa3(0x73c)]),_0x2db33f=new Date(_0x288716[_0xf6daa3(0x73c)]);break;case _0xf6daa3(0xb35):default:_0xf19d7e=_0x36c9df[_0xf6daa3(0xb35)],_0x2db33f=_0x288716[_0xf6daa3(0xb35)];break;}if(_0xf19d7e<_0x2db33f)return quizLeaderboardSortOrder===_0xf6daa3(0xc4c)?-0x1:0x1;if(_0xf19d7e>_0x2db33f)return quizLeaderboardSortOrder===_0xf6daa3(0xc4c)?0x1:-0x1;return 0x0;});const _0xac001f=_0x43f08f[_0x81b988(0xccb)]===!![],_0x1a5ca7=_0x43f08f[_0x81b988(0x436)]?.[_0x81b988(0xb9e)]??-0x1;let _0x244b28='';_0x42d63[_0x81b988(0x140)]((_0x5263a9,_0x30dbf5)=>{const _0x609d16=_0x81b988,_0x202d92=_0x30dbf5+0x1;let _0x3282d0=_0x609d16(0x801);if(_0xac001f||_0x1a5ca7!==-0x1){let _0x5b3476=_0xac001f?_0x5263a9[_0x609d16(0xb35)]===_0xc18ee3:_0x5263a9[_0x609d16(0xb35)]>=_0x1a5ca7;const _0x333842=_0x5b3476?_0x609d16(0x346):_0x609d16(0x453),_0x552d3a=_0x5b3476?_0x609d16(0x53d):_0x609d16(0x2dc);_0x3282d0=_0x609d16(0xa38)+_0x333842+'\x22>'+_0x552d3a+'</span></td>';}const _0x649be9=_0x5263a9[_0x609d16(0xb6a)][_0x5263a9['attempts'][_0x609d16(0xdbe)]-0x1],_0x505fc9=(_0x649be9[_0x609d16(0x69f)]||[])[_0x609d16(0x86c)](_0x4806db=>{const _0x3c275c=_0x609d16,_0x1f0e04=Object[_0x3c275c(0x3fb)](BADGES)[_0x3c275c(0x5d9)](_0x6bf0e3=>_0x6bf0e3['id']===_0x4806db);return _0x1f0e04?_0x3c275c(0x7e0)+_0x1f0e04[_0x3c275c(0x4a4)]+_0x3c275c(0x6b5)+_0x1f0e04[_0x3c275c(0x206)]+_0x3c275c(0x678):'';})[_0x609d16(0x15d)]('');_0x244b28+=_0x609d16(0xda1)+_0x202d92+_0x609d16(0x2ba)+_0x5263a9[_0x609d16(0x1af)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x5263a9['bestScore']+'\x20/\x20'+_0xc18ee3+_0x609d16(0xdc4)+_0x3282d0+_0x609d16(0xc5f)+(_0x5263a9[_0x609d16(0x5da)]||0x0)[_0x609d16(0xe1)]()+_0x609d16(0xdc4)+(_0x4dab4d?'':_0x609d16(0x4d1)+(_0x5263a9[_0x609d16(0xb6a)]?.[_0x609d16(0xdbe)]||0x1)+_0x609d16(0x66b))+_0x609d16(0x843)+(_0x4dab4d?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x5263a9[_0x609d16(0x73c)])[_0x609d16(0xe1)](_0x609d16(0xbf))+_0x609d16(0x66b))+_0x609d16(0x4d9)+(_0x505fc9||'-')+_0x609d16(0xde2);}),_0x2a1f9f[_0x81b988(0xc7e)]=_0x244b28,_0x5a78dc&&!_0x4dab4d&&_0x5a78dc[_0x81b988(0x660)](_0x81b988(0x391))[_0x81b988(0x140)](_0x22220d=>{const _0x3b7f96=_0x81b988,_0x1bdbb8=_0x22220d['querySelector'](_0x3b7f96(0x84b));if(_0x1bdbb8)_0x1bdbb8[_0x3b7f96(0xa30)]();_0x22220d[_0x3b7f96(0x315)]['sort']===quizLeaderboardSortBy&&(_0x22220d[_0x3b7f96(0xc7e)]+=_0x3b7f96(0x7e8)+(quizLeaderboardSortOrder===_0x3b7f96(0xc4c)?'▲':'▼')+_0x3b7f96(0x8f6));});}async function handleDeleteSubmission(_0x58a37){const _0x1fd1bc=_0x4813c4;if(!currentQuizData||!currentQuizData['id']||!_0x58a37){showMessage(_0x1fd1bc(0x575));return;}showConfirmation(_0x1fd1bc(0x6c7)+_0x58a37+_0x1fd1bc(0xd86),async()=>{const _0x100c33=_0x1fd1bc,_0x293c54=currentQuizData['id'],_0x5f57c8=doc(db,'artifacts/'+appId+_0x100c33(0x5e4)+_0x293c54+'/submissions',_0x58a37);try{await deleteDoc(_0x5f57c8),showMessage(_0x100c33(0xc1f)+_0x58a37+_0x100c33(0xa3d));}catch(_0x6830c5){console[_0x100c33(0xabd)]('Error\x20deleting\x20submission:',_0x6830c5),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x5685a6=_0x4813c4,_0x5c3b71=document[_0x5685a6(0x3a5)](_0x5685a6(0x468)),_0x2ad896=_0x5c3b71[_0x5685a6(0x909)][_0x5685a6(0x7f3)]();if(!_0x2ad896){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x5685a6(0x88c)]=!![],loadQuizBtn[_0x5685a6(0xc7e)]=_0x5685a6(0x1ee);try{const _0x527a9d=doc(db,_0x5685a6(0x2b3)+appId+_0x5685a6(0x60d),_0x2ad896),_0x523079=await getDoc(_0x527a9d);if(!_0x523079[_0x5685a6(0x3ea)]()){showMessage(_0x5685a6(0xa7d));return;}currentQuizData={'id':_0x523079['id'],..._0x523079[_0x5685a6(0x1ea)]()};const _0x4b429c=currentQuizData[_0x5685a6(0xd0e)]||_0x5685a6(0xb9b),_0x32ae34=new Date();if(_0x4b429c===_0x5685a6(0x1d9)){showMessage(_0x5685a6(0x689));return;}if(_0x4b429c==='scheduled'){const _0x8b5ec=currentQuizData[_0x5685a6(0x1a6)]?new Date(currentQuizData[_0x5685a6(0x1a6)]):null,_0x123cc4=currentQuizData[_0x5685a6(0x9c5)]?new Date(currentQuizData[_0x5685a6(0x9c5)]):null;if(_0x8b5ec&&_0x32ae34<_0x8b5ec){showMessage(_0x5685a6(0x9a3)+_0x8b5ec['toLocaleString'](_0x5685a6(0xbf),{'hour12':![]}));return;}if(_0x123cc4&&_0x32ae34>_0x123cc4){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x2f1da7=currentQuizData['projectId'];currentProjectId=_0x2f1da7;const _0x739849=doc(db,_0x5685a6(0x2b3)+appId+'/public/data/projects',_0x2f1da7),_0x77e90d=await getDoc(_0x739849);if(!_0x77e90d[_0x5685a6(0x3ea)]()){showMessage(_0x5685a6(0xbdf));return;}const _0x4ae810=_0x77e90d[_0x5685a6(0x1ea)]();currentStudentProjectData=_0x4ae810,displayStudentNameSelector(_0x4ae810[_0x5685a6(0x3a0)],currentQuizData[_0x5685a6(0x1e8)]);}catch(_0x1bdb62){console['error'](_0x5685a6(0x852),_0x1bdb62),showMessage(_0x5685a6(0x5e7));}finally{loadQuizBtn[_0x5685a6(0x88c)]=![],loadQuizBtn[_0x5685a6(0xc7e)]=_0x5685a6(0x5c8);}}async function handleManualEditPoints(_0x4c98e3,_0x14f93c){const _0x5b428a=_0x4813c4;if(!currentQuizData||!currentQuizData['id'])return;const _0x325fa3=currentQuizData['id'],_0x387832=doc(db,'artifacts/'+appId+_0x5b428a(0x5e4)+_0x325fa3+_0x5b428a(0xbfd),_0x4c98e3);try{const _0x52852b=await getDoc(_0x387832);if(!_0x52852b[_0x5b428a(0x3ea)]())return;const _0x36bbed=_0x52852b[_0x5b428a(0x1ea)](),_0x29594f=_0x36bbed['attempts']||[];_0x29594f[_0x5b428a(0xdbe)]>0x0&&(_0x29594f[_0x29594f[_0x5b428a(0xdbe)]-0x1][_0x5b428a(0x5da)]=_0x14f93c,_0x29594f[_0x29594f[_0x5b428a(0xdbe)]-0x1]['isSyncGame']=!![]),await updateDoc(_0x387832,{'points':_0x14f93c,'attempts':_0x29594f}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x4c98e3),showMessage(_0x5b428a(0x530)+_0x4c98e3+'\x20เป็น\x20'+_0x14f93c+'\x20สำเร็จ!');}catch(_0x367cce){console[_0x5b428a(0xabd)](_0x5b428a(0x100),_0x367cce),showMessage(_0x5b428a(0x59d));}}async function handleJoinLiveGame(){const _0x231e54=_0x4813c4,_0x5b0d94=document['getElementById'](_0x231e54(0xaa8)),_0x14555e=document['getElementById'](_0x231e54(0xe16)),_0x1ada1b=document['getElementById'](_0x231e54(0x8dd)),_0x2516dc=_0x5b0d94['value'][_0x231e54(0x7f3)](),_0x2dc58e=_0x14555e[_0x231e54(0x909)][_0x231e54(0x7f3)]();if(!_0x2516dc||!_0x2dc58e){showMessage(_0x231e54(0x67f));return;}_0x1ada1b[_0x231e54(0x88c)]=!![],_0x1ada1b[_0x231e54(0xc7e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x46324c=collection(db,'artifacts/'+appId+_0x231e54(0xd18)),_0x4449ba=query(_0x46324c,where(_0x231e54(0xdec),'==',_0x2516dc),where('status','in',[_0x231e54(0x1b6),_0x231e54(0x8a8)])),_0x29b379=await getDocs(_0x4449ba);if(_0x29b379[_0x231e54(0xc3f)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x33f05a=_0x29b379[_0x231e54(0xb32)][0x0],_0x17247c=_0x33f05a[_0x231e54(0x1ea)]();currentLiveGameId=_0x33f05a['id'];const _0x39da89=_0x17247c[_0x231e54(0x737)],_0x5ea53c=doc(db,_0x231e54(0x2b3)+appId+'/public/data/quizzes',_0x39da89),_0x1d18fa=await getDoc(_0x5ea53c);if(!_0x1d18fa['exists']()){showMessage(_0x231e54(0x820));return;}currentQuizData={'id':_0x1d18fa['id'],..._0x1d18fa['data']()};if(_0x17247c[_0x231e54(0x2e8)]&&_0x17247c[_0x231e54(0x2e8)][_0x2dc58e]){const _0x27f1b9=_0x17247c[_0x231e54(0x2e8)][_0x2dc58e];if(_0x27f1b9[_0x231e54(0xd0e)]===_0x231e54(0x1d9)){_0x1ada1b[_0x231e54(0xc7e)]=_0x231e54(0x8ca);const _0x48b8f1={};_0x48b8f1[_0x231e54(0xb9a)+_0x2dc58e+_0x231e54(0x73f)]=_0x231e54(0xb9b),await updateDoc(doc(db,_0x231e54(0x2b3)+appId+_0x231e54(0xd18),currentLiveGameId),_0x48b8f1),showView(_0x231e54(0x2cd)),currentStudentName=_0x2dc58e,listenForLiveGameUpdates();return;}else{showMessage(_0x231e54(0x517));return;}}if(_0x17247c[_0x231e54(0xd0e)]!==_0x231e54(0x1b6)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x1ada1b['innerHTML']=_0x231e54(0xf4);const _0x50026f={};_0x50026f[_0x231e54(0xb9a)+_0x2dc58e]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,'artifacts/'+appId+_0x231e54(0xd18),currentLiveGameId),_0x50026f),currentStudentName=_0x2dc58e,listenForLiveGameUpdates();}catch(_0x110b60){console[_0x231e54(0xabd)](_0x231e54(0x1f4),_0x110b60),showMessage(_0x231e54(0x6fa));}finally{_0x1ada1b[_0x231e54(0x88c)]=![],_0x1ada1b[_0x231e54(0xc7e)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x2d788f,_0x159997){const _0x43ff58=_0x4813c4,_0x4bdb5a=document[_0x43ff58(0x3a5)](_0x43ff58(0xbd4));document[_0x43ff58(0x3a5)](_0x43ff58(0x5de))[_0x43ff58(0xd68)]=_0x43ff58(0x18b)+_0x159997,!_0x2d788f||_0x2d788f[_0x43ff58(0xdbe)]===0x0?(_0x4bdb5a[_0x43ff58(0xc7e)]=_0x43ff58(0x87c),startQuizBtn[_0x43ff58(0x88c)]=!![]):(_0x4bdb5a[_0x43ff58(0xc7e)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x2d788f[_0x43ff58(0x140)](_0x12c763=>{const _0x19f148=_0x43ff58,_0x449966=document['createElement']('option');_0x449966['value']=_0x12c763,_0x449966[_0x19f148(0xd68)]=_0x12c763,_0x4bdb5a[_0x19f148(0xaf7)](_0x449966);}),startQuizBtn[_0x43ff58(0x88c)]=![]),studentInitialView['classList'][_0x43ff58(0x483)]('hidden'),studentNameSelectionView[_0x43ff58(0xcde)][_0x43ff58(0xa30)](_0x43ff58(0xc15));}function shuffleArray(_0x565c9b){const _0x65392=_0x4813c4;for(let _0x226ce4=_0x565c9b[_0x65392(0xdbe)]-0x1;_0x226ce4>0x0;_0x226ce4--){const _0xa306e4=Math['floor'](Math[_0x65392(0x89e)]()*(_0x226ce4+0x1));[_0x565c9b[_0x226ce4],_0x565c9b[_0xa306e4]]=[_0x565c9b[_0xa306e4],_0x565c9b[_0x226ce4]];}}function getShuffledQuiz(_0x598659){const _0x566633=_0x4813c4;let _0x59387f=JSON[_0x566633(0x452)](JSON[_0x566633(0xe22)](_0x598659));const _0x278230=_0x59387f['settings']?.['shuffle']||_0x566633(0xa8c);if(_0x278230===_0x566633(0xa8c))return _0x59387f;return(_0x278230===_0x566633(0x584)||_0x278230===_0x566633(0x287))&&shuffleArray(_0x59387f[_0x566633(0x1bc)]),(_0x278230===_0x566633(0x16d)||_0x278230===_0x566633(0x287))&&_0x59387f[_0x566633(0x1bc)][_0x566633(0x140)](_0x49170d=>{const _0x36f8df=_0x566633,_0x1a728e=_0x49170d[_0x36f8df(0x51d)]||_0x59387f[_0x36f8df(0xa34)];if(_0x49170d['options']){let _0x43b693=_0x49170d[_0x36f8df(0x7f6)][_0x36f8df(0x86c)]((_0x150f9b,_0x346c50)=>({'text':_0x150f9b,'isCorrect':_0x346c50===_0x49170d[_0x36f8df(0x54b)]}));shuffleArray(_0x43b693),_0x49170d[_0x36f8df(0x7f6)]=_0x43b693[_0x36f8df(0x86c)](_0x3d4faf=>_0x3d4faf[_0x36f8df(0xc97)]),_0x49170d[_0x36f8df(0x54b)]=_0x43b693[_0x36f8df(0x978)](_0x4f913b=>_0x4f913b[_0x36f8df(0x8a)]);}_0x1a728e==='matching_item'&&_0x49170d[_0x36f8df(0xd2c)]&&shuffleArray(_0x49170d[_0x36f8df(0xd2c)]);}),_0x59387f;}function displayQuizForStudent(_0x90266d){const _0x59e636=_0x4813c4;studentQuizArea[_0x59e636(0xcde)][_0x59e636(0xa30)](_0x59e636(0xc15)),currentDisplayedQuiz=getShuffledQuiz(_0x90266d);currentMode!==_0x59e636(0xb03)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x59e636(0x9f0)](_0x59e636(0xc7d),handleFullscreenChange),document[_0x59e636(0x9f0)](_0x59e636(0xb7),handleVisibilityChange),enterFullscreen(),window[_0x59e636(0x9f0)](_0x59e636(0x4a2),resetDimTimer),window[_0x59e636(0x9f0)](_0x59e636(0x6d5),resetDimTimer),window['addEventListener'](_0x59e636(0xc32),resetDimTimer),window[_0x59e636(0x9f0)](_0x59e636(0xac3),resetDimTimer),resetDimTimer());const _0x22ceb3=currentDisplayedQuiz[_0x59e636(0x436)]?.[_0x59e636(0x1a9)]||'none';if(_0x22ceb3===_0x59e636(0x955))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x59e636(0x4bc)]);else _0x22ceb3===_0x59e636(0xade)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window[_0x4813c4(0xb3f)]=function(_0x44281f){const _0x580398=_0x4813c4,_0x2c2ef9=document[_0x580398(0x3a5)](_0x580398(0x7e5)+_0x44281f),_0x967134=document[_0x580398(0x660)]('[id^=\x22dropdown-list-\x22]');_0x967134[_0x580398(0x140)](_0x181d64=>{const _0x19da43=_0x580398;if(_0x181d64['id']!==_0x19da43(0x7e5)+_0x44281f)_0x181d64['classList'][_0x19da43(0x483)]('hidden');});if(_0x2c2ef9)_0x2c2ef9[_0x580398(0xcde)][_0x580398(0x1a2)](_0x580398(0xc15));},window[_0x4813c4(0xb8d)]=function(_0x496afa,_0x144639){const _0x551edd=_0x4813c4,_0x2a695a=currentDisplayedQuiz;if(!_0x2a695a)return;const _0x4adfd1=_0x2a695a[_0x551edd(0x1bc)][_0x496afa],_0x4e5fa8=_0x4adfd1[_0x551edd(0xd2c)][_0x144639],_0x652225=document[_0x551edd(0x3a5)](_0x551edd(0x13f)+_0x496afa);if(_0x652225)_0x652225[_0x551edd(0x909)]=_0x4e5fa8;const _0x100234=document[_0x551edd(0x3a5)]('selected-text-'+_0x496afa);if(_0x100234){_0x100234['innerHTML']=_0x4e5fa8;if(window[_0x551edd(0xe2)])MathJax[_0x551edd(0xacf)]([_0x100234]);_0x100234['classList']['add'](_0x551edd(0xddf),_0x551edd(0xa69));}const _0x3565f3=document[_0x551edd(0x3a5)](_0x551edd(0x7e5)+_0x496afa);if(_0x3565f3)_0x3565f3['classList'][_0x551edd(0x483)](_0x551edd(0xc15));},document['addEventListener'](_0x4813c4(0x79c),_0x5add83=>{const _0x34a79b=_0x4813c4;!_0x5add83[_0x34a79b(0x940)][_0x34a79b(0x5f8)]('.custom-math-dropdown')&&document[_0x34a79b(0x660)]('[id^=\x22dropdown-list-\x22]')[_0x34a79b(0x140)](_0x30aa65=>_0x30aa65[_0x34a79b(0xcde)][_0x34a79b(0x483)](_0x34a79b(0xc15)));});function renderFullQuizForm(){const _0x5dbf1c=_0x4813c4,_0xb6e343=currentDisplayedQuiz['settings']?.[_0x5dbf1c(0x576)]===!![],_0x171c7b=currentDisplayedQuiz[_0x5dbf1c(0x436)]?.[_0x5dbf1c(0x9a2)]||_0x5dbf1c(0xd6c);let _0x4b51f2=![],_0x3e45bc=_0x5dbf1c(0x974)+currentDisplayedQuiz[_0x5dbf1c(0x1e8)]+_0x5dbf1c(0xdb6)+(currentMode==='admin-testing'?_0x5dbf1c(0xb5c):'')+_0x5dbf1c(0xcf6);currentDisplayedQuiz[_0x5dbf1c(0x1bc)][_0x5dbf1c(0x140)]((_0x2a4047,_0x20fa5b)=>{const _0x17a91e=_0x5dbf1c,_0x1f5c5c=_0x2a4047['questionType']||currentDisplayedQuiz[_0x17a91e(0xa34)],_0xa3462e=_0x17a91e(0x39c)+(0x64-_0x20fa5b)+';';_0x1f5c5c===_0x17a91e(0x392)&&!_0x4b51f2&&(_0x3e45bc+=_0x17a91e(0xae5),_0x4b51f2=!![]);_0x3e45bc+=_0x17a91e(0x936)+_0xa3462e+'\x22>';_0x1f5c5c!==_0x17a91e(0x392)&&(_0x3e45bc+=_0x17a91e(0xce6)+(_0x20fa5b+0x1)+'.\x20'+(_0x2a4047[_0x17a91e(0x3f0)]||_0x2a4047[_0x17a91e(0x929)])+_0x17a91e(0x642)+(_0x2a4047[_0x17a91e(0x690)]?_0x17a91e(0xca9)+_0x2a4047[_0x17a91e(0x690)]+_0x17a91e(0x2fc):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');_0x3e45bc+=_0x17a91e(0x175);if(_0x1f5c5c==='matching_item'&&_0x2a4047[_0x17a91e(0xd2c)])_0x3e45bc+=_0x17a91e(0xab)+(_0x20fa5b+0x1)+_0x17a91e(0x2eb)+_0x2a4047[_0x17a91e(0xd4c)]+_0x17a91e(0xc62)+_0x20fa5b+_0x17a91e(0xc07)+_0x20fa5b+_0x17a91e(0xc50)+_0x20fa5b+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-'+_0x20fa5b+_0x17a91e(0x647)+_0x20fa5b+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a4047[_0x17a91e(0xd2c)][_0x17a91e(0x86c)]((_0x461cda,_0x1eb844)=>_0x17a91e(0xcbd)+_0x20fa5b+',\x20'+_0x1eb844+_0x17a91e(0xb59)+_0x461cda+_0x17a91e(0x6db))[_0x17a91e(0x15d)]('')+_0x17a91e(0x4df);else{if(_0x1f5c5c===_0x17a91e(0x162))_0x3e45bc+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x20fa5b+_0x17a91e(0x8d9)+_0x20fa5b+_0x17a91e(0xcf4)+_0x20fa5b+_0x17a91e(0xb72),_0x3e45bc+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x20fa5b+_0x17a91e(0x54d)+_0x20fa5b+_0x17a91e(0xb8c)+_0x20fa5b+_0x17a91e(0xace);else _0x2a4047[_0x17a91e(0x7f6)]&&Array['isArray'](_0x2a4047[_0x17a91e(0x7f6)])&&_0x2a4047[_0x17a91e(0x7f6)][_0x17a91e(0xdbe)]>0x0?_0x3e45bc+=_0x2a4047[_0x17a91e(0x7f6)]['map']((_0x10a2b1,_0x4eac54)=>_0x17a91e(0x735)+_0x20fa5b+_0x17a91e(0x7f1)+_0x4eac54+_0x17a91e(0x874)+_0x20fa5b+_0x17a91e(0x9e1)+_0x4eac54+_0x17a91e(0x547)+_0x20fa5b+_0x17a91e(0x7f1)+_0x4eac54+'\x22>'+_0x10a2b1+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x3e45bc+=_0x17a91e(0x755)+_0x20fa5b+_0x17a91e(0xa27);}_0x3e45bc+=_0x17a91e(0x2fc),_0xb6e343&&(_0x3e45bc+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x171c7b===_0x17a91e(0x5b9)?_0x3e45bc+=_0x17a91e(0xab7)+_0x20fa5b+_0x17a91e(0x427)+_0x20fa5b+'\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x20fa5b+_0x17a91e(0xa50)+_0x20fa5b+_0x17a91e(0xcbb):_0x3e45bc+=_0x17a91e(0x81c)+_0x20fa5b+_0x17a91e(0x427)+_0x20fa5b+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x20fa5b+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3e45bc+=_0x17a91e(0x2fc)),_0x3e45bc+=_0x17a91e(0x2fc);}),_0x3e45bc+=_0x5dbf1c(0x70a),_0x3e45bc+=_0x5dbf1c(0x10c),studentQuizArea[_0x5dbf1c(0xc7e)]=_0x3e45bc;if(currentMode===_0x5dbf1c(0xb03)){const _0x553c61=document[_0x5dbf1c(0x3a5)]('cancel-test-btn');if(_0x553c61)_0x553c61['addEventListener'](_0x5dbf1c(0x79c),cancelAdminTest);}const _0x1d82c8=document['getElementById'](_0x5dbf1c(0x214));_0x1d82c8&&(_0x1d82c8['addEventListener'](_0x5dbf1c(0xe0e),handleSubmitQuiz),_0x1d82c8[_0x5dbf1c(0x9f0)](_0x5dbf1c(0x79c),_0x4f75f6=>{const _0x5e1a93=_0x5dbf1c;if(_0x4f75f6[_0x5e1a93(0x940)][_0x5e1a93(0xcde)]['contains'](_0x5e1a93(0xb54))){const _0x50a141=_0x4f75f6['target'],_0x1e0daf=_0x50a141[_0x5e1a93(0x315)][_0x5e1a93(0x792)],_0x5be190=_0x50a141[_0x5e1a93(0x315)][_0x5e1a93(0x909)];document[_0x5e1a93(0x3a5)]('confidence-input-'+_0x1e0daf)[_0x5e1a93(0x909)]=_0x5be190;const _0x239b79=_0x50a141['parentElement'];_0x239b79[_0x5e1a93(0x660)]('.confidence-choice-btn')[_0x5e1a93(0x140)](_0x40451c=>_0x40451c['classList'][_0x5e1a93(0xa30)](_0x5e1a93(0xb9b))),_0x50a141[_0x5e1a93(0xcde)][_0x5e1a93(0x483)](_0x5e1a93(0xb9b));}})),window[_0x5dbf1c(0xe2)]&&setTimeout(()=>{const _0x56e835=_0x5dbf1c;window[_0x56e835(0xe2)][_0x56e835(0xacf)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x2fc940){const _0x1dc643=_0x4813c4;if(_0x2fc940)_0x2fc940['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0xa784e0=document[_0x1dc643(0x3a5)]('quiz-form');if(!_0xa784e0)return;const _0x261699=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x3e1f37=currentDisplayedQuiz[_0x1dc643(0x436)]?.[_0x1dc643(0x9a2)]||_0x1dc643(0xd6c);if(_0x261699&&_0x3e1f37===_0x1dc643(0x5b9)){let _0x4abf90=!![];for(let _0x1eca12=0x0;_0x1eca12<currentDisplayedQuiz['questions'][_0x1dc643(0xdbe)];_0x1eca12++){const _0x3c1186=_0xa784e0[_0x1dc643(0x169)]('#confidence-input-'+_0x1eca12);if(!_0x3c1186||_0x3c1186[_0x1dc643(0x909)]===''){_0x4abf90=![];break;}}if(!_0x4abf90){showMessage(_0x1dc643(0x832));return;}}const _0x23cb97=_0xa784e0[_0x1dc643(0x169)](_0x1dc643(0xd5b)),_0x1db49e=currentDisplayedQuiz[_0x1dc643(0x1bc)][_0x1dc643(0x180)](_0x197f61=>_0x197f61[_0x1dc643(0x51d)]===_0x1dc643(0x311));_0x23cb97&&(_0x23cb97[_0x1dc643(0x88c)]=!![],_0x23cb97[_0x1dc643(0xc7e)]=_0x1db49e?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x1dc643(0x177));const _0x2e4487=new FormData(_0xa784e0),_0x4b7b80=currentDisplayedQuiz[_0x1dc643(0x1bc)][_0x1dc643(0x86c)]((_0x5bc385,_0x448a81)=>{const _0x3ed30e=_0x1dc643,_0x9935e1=_0x2e4487[_0x3ed30e(0x6c0)]('question'+_0x448a81);let _0x4d5beb;_0x3e1f37===_0x3ed30e(0x5b9)?_0x4d5beb=_0x2e4487[_0x3ed30e(0x6c0)]('confidence'+_0x448a81):_0x4d5beb=_0x2e4487[_0x3ed30e(0x6c0)]('confidence'+_0x448a81)==='on';let _0x555906=null;if(_0x9935e1!==null&&_0x9935e1!==undefined){const _0x507b67=_0x5bc385[_0x3ed30e(0x51d)]||currentDisplayedQuiz[_0x3ed30e(0xa34)];_0x507b67===_0x3ed30e(0x260)||_0x507b67===_0x3ed30e(0x777)?_0x555906=parseInt(_0x9935e1):_0x555906=_0x9935e1;}return{'answer':_0x555906,'wasConfident':_0x4d5beb};}),_0x34d87e=currentQuizData['id'],_0x36a300=doc(db,_0x1dc643(0x2b3)+appId+'/public/data/quizzes/'+_0x34d87e+_0x1dc643(0xbfd),currentStudentName),_0x2c466d=await getDoc(_0x36a300),_0x42c5fa=_0x2c466d[_0x1dc643(0x3ea)]()?_0x2c466d['data']():{},_0x438f17=_0x42c5fa[_0x1dc643(0xb6a)]||[];await processAndSubmitAnswers(_0x4b7b80,_0x438f17);}async function gradeShortAnswerWithAI(_0x646eab,_0x19a5e4){const _0xfb0d16=_0x4813c4;if(!_0x646eab||!_0x19a5e4)return![];try{const _0x2ecd8b='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x646eab+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x19a5e4+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x4050c8={'contents':[{'role':_0xfb0d16(0x791),'parts':[{'text':_0x2ecd8b}]}]},_0x4da21f=_0xfb0d16(0x1f3),_0xc27bf9=_0xfb0d16(0x347)+_0x4da21f,_0x15d7c8=await fetch(_0xc27bf9,{'method':_0xfb0d16(0x89a),'headers':{'Content-Type':'application/json'},'body':JSON[_0xfb0d16(0xe22)](_0x4050c8)});if(!_0x15d7c8['ok'])throw new Error('API\x20call\x20failed');const _0x596d20=await _0x15d7c8[_0xfb0d16(0xd89)](),_0x2d1ea6=_0x596d20[_0xfb0d16(0xc8f)][0x0][_0xfb0d16(0x485)][_0xfb0d16(0x7cc)][0x0][_0xfb0d16(0xc97)]['trim']()[_0xfb0d16(0x7c4)]();return _0x2d1ea6===_0xfb0d16(0xa55);}catch(_0x1b7bb5){return console['error']('AI\x20grading\x20failed:',_0x1b7bb5),![];}}async function processAndSubmitAnswers(_0x132baa,_0x21801c){const _0x5e5027=_0x4813c4;releaseWakeLock(),stopDimTimer();try{document[_0x5e5027(0xbfc)]&&await document[_0x5e5027(0x2a3)]();}catch(_0x27d6c7){console[_0x5e5027(0x174)](_0x5e5027(0x36c),_0x27d6c7);}isQuizActive=![],document['removeEventListener'](_0x5e5027(0xc7d),handleFullscreenChange),document[_0x5e5027(0x751)]('visibilitychange',handleVisibilityChange);let _0x2ee15d=0x0;const _0x310a03=[],_0x1445bf=currentDisplayedQuiz['questions'][_0x5e5027(0xdbe)];let _0x44e5a6=0x0,_0x346e56=[];const _0x45e0dc=currentDisplayedQuiz['questions'];for(let _0x374c55=0x0;_0x374c55<_0x45e0dc[_0x5e5027(0xdbe)];_0x374c55++){const _0x42bd69=_0x45e0dc[_0x374c55],_0x234d2e=_0x132baa[_0x374c55],_0x336c17=_0x234d2e?_0x234d2e[_0x5e5027(0xc1a)]:null,_0x449d7a=_0x234d2e?_0x234d2e[_0x5e5027(0x320)]:null;let _0x3897ee=![],_0x13e97c=0x0;if(_0x336c17!==null&&_0x336c17!==''){const _0x55a451=_0x42bd69[_0x5e5027(0x51d)]||currentDisplayedQuiz[_0x5e5027(0xa34)];switch(_0x55a451){case _0x5e5027(0x392):_0x3897ee=_0x336c17===_0x42bd69[_0x5e5027(0x18a)];break;case'true_false':const _0x2546b4=_0x336c17===!![]||_0x336c17==='true';_0x3897ee=_0x2546b4===_0x42bd69['correctAnswer'];break;case _0x5e5027(0x87d):case'short_answer':_0x3897ee=await gradeShortAnswer(_0x336c17,_0x42bd69);break;case _0x5e5027(0x260):case _0x5e5027(0x43b):default:_0x3897ee=Number(_0x336c17)===_0x42bd69[_0x5e5027(0x54b)];break;}}if(currentDisplayedQuiz[_0x5e5027(0x436)]?.[_0x5e5027(0x576)]){const _0xb586a8=_0x234d2e?_0x234d2e[_0x5e5027(0x320)]:null;if(_0x3897ee&&(_0xb586a8===!![]||_0xb586a8==='confident'))_0x13e97c=0x2;else{if(_0x3897ee)_0x13e97c=0x1;else{if(!_0x3897ee&&(_0xb586a8===![]||_0xb586a8===_0x5e5027(0xd65)||_0xb586a8===null))_0x13e97c=0x0;else!_0x3897ee&&(_0xb586a8===!![]||_0xb586a8===_0x5e5027(0x8c7))&&(_0x13e97c=-0x1);}}}else _0x13e97c=_0x3897ee?0x1:0x0;_0x2ee15d+=_0x13e97c;if(_0x3897ee){_0x44e5a6++;if(_0x44e5a6===0x3)_0x346e56[_0x5e5027(0x8a5)](BADGES[_0x5e5027(0xa6d)]['id']);}else _0x44e5a6=0x0;let _0x4a091c=null;_0x42bd69['options']&&(_0x42bd69[_0x5e5027(0x51d)]===_0x5e5027(0x260)||_0x42bd69[_0x5e5027(0x51d)]===_0x5e5027(0x43b))&&_0x336c17!==null?_0x4a091c=_0x42bd69['options'][_0x336c17]:_0x4a091c=_0x336c17,_0x310a03['push']({'questionId':_0x42bd69['id'],'answer':_0x336c17,'answerText':_0x4a091c,'isCorrect':_0x3897ee,'wasConfident':_0x449d7a,'pointsAwarded':_0x13e97c,'originalQuestionText':_0x42bd69['stem']||_0x42bd69['questionText']});}const _0x5e789f=_0x310a03[_0x5e5027(0xd05)](_0x2af30c=>_0x2af30c[_0x5e5027(0x8a)])[_0x5e5027(0xdbe)],_0x5e58e3=currentDisplayedQuiz[_0x5e5027(0x436)]?.['passingScore']??Math[_0x5e5027(0x304)](_0x1445bf/0x2);_0x5e789f===_0x1445bf&&_0x1445bf>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x346e56['push'](BADGES[_0x5e5027(0x24a)]['id']);const _0x3b797e=currentDisplayedQuiz[_0x5e5027(0x436)]?.[_0x5e5027(0x1a9)];if(_0x3b797e===_0x5e5027(0x955)&&quizStartTime){const _0x565cd1=(new Date()-quizStartTime)/0x3e8,_0x3061a5=currentDisplayedQuiz[_0x5e5027(0x436)][_0x5e5027(0x4bc)]*0x3c;_0x5e789f>=_0x5e58e3&&_0x565cd1<_0x3061a5/0x2&&_0x346e56['push'](BADGES['QUICK_THINKER']['id']);}_0x21801c[_0x5e5027(0xdbe)]===0x0&&_0x5e789f===_0x1445bf&&_0x1445bf>0x0&&_0x346e56[_0x5e5027(0x8a5)](BADGES['FIRST_TRY_ACE']['id']);if(_0x21801c['length']>0x0){const _0x484c10=_0x21801c[0x0][_0x5e5027(0x863)];if(_0x484c10<_0x5e58e3&&_0x5e789f>=_0x5e58e3){const _0x5413d9=_0x21801c[_0x5e5027(0x180)](_0xeb4847=>(_0xeb4847[_0x5e5027(0x69f)]||[])[_0x5e5027(0xc4f)](BADGES['COMEBACK_KING']['id']));!_0x5413d9&&_0x346e56['push'](BADGES['COMEBACK_KING']['id']);}}_0x21801c[_0x5e5027(0xdbe)]===0x4&&_0x346e56[_0x5e5027(0x8a5)](BADGES['PERSEVERANCE']['id']);const _0x2331cf=currentDisplayedQuiz[_0x5e5027(0x436)][_0x5e5027(0xa28)];if(currentMode===_0x5e5027(0xb03)){handleResultDisplay(_0x2331cf,_0x5e789f,_0x2ee15d,_0x346e56,_0x310a03,_0x1445bf);return;}const _0x4540af=currentQuizData['id'],_0x13970e=doc(db,_0x5e5027(0x2b3)+appId+_0x5e5027(0x5e4)+_0x4540af+_0x5e5027(0xbfd),currentStudentName);try{const _0xe53741=[..._0x21801c],_0x24d7aa={'score':_0x5e789f,'points':_0x2ee15d,'badges':Array['from'](new Set(_0x346e56)),'submittedAt':new Date()[_0x5e5027(0xb05)](),'answers':_0x310a03};_0xe53741[_0x5e5027(0x8a5)](_0x24d7aa);const _0xc301f8=_0x21801c[_0x5e5027(0xdbe)]===0x0?_0x5e789f:_0x21801c[0x0][_0x5e5027(0x863)]||0x0,_0x4b5f8f=Math['max'](..._0xe53741[_0x5e5027(0x86c)](_0xe772f5=>_0xe772f5[_0x5e5027(0x863)]));await setDoc(_0x13970e,{'studentName':currentStudentName,'totalQuestions':_0x1445bf,'attempts':_0xe53741,'firstScore':_0xc301f8,'bestScore':_0x4b5f8f,'latestScore':_0x5e789f,'points':_0x2ee15d,'latestSubmittedAt':_0x24d7aa[_0x5e5027(0x5f0)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x5e5027(0xb91)],currentStudentName),handleResultDisplay(_0x2331cf,_0x5e789f,_0x2ee15d,_0x346e56,_0x310a03,_0x1445bf);}catch(_0x20c685){console[_0x5e5027(0xabd)]('Error\x20saving\x20submission:',_0x20c685),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x439310,_0xefa9bf){const _0x10af90=_0x4813c4,_0x138570=doc(db,'artifacts/'+appId+_0x10af90(0xb4)+_0x439310+_0x10af90(0xd1a),_0xefa9bf);try{const _0x1caa31=query(collection(db,_0x10af90(0x2b3)+appId+_0x10af90(0x60d)),where(_0x10af90(0xb91),'==',_0x439310)),_0x2fd20d=await getDocs(_0x1caa31),_0x1a3a55=new Map(_0x2fd20d[_0x10af90(0xb32)][_0x10af90(0x86c)](_0x619ca8=>[_0x619ca8['id'],_0x619ca8[_0x10af90(0x1ea)]()])),_0x5d4746=Array['from'](_0x1a3a55['keys']());await runTransaction(db,async _0x49f125=>{const _0x19cddf=_0x10af90;let _0x299a85=0x0;const _0x2fa916={};let _0x4f711d=!![],_0x3b724b=0x0,_0x41fec6=0x0;for(const _0x2bf9ff of _0x5d4746){const _0x241108=_0x1a3a55[_0x19cddf(0x6c0)](_0x2bf9ff),_0x536093=doc(db,_0x19cddf(0x2b3)+appId+_0x19cddf(0x5e4)+_0x2bf9ff+'/submissions',_0xefa9bf),_0x5216a6=await _0x49f125[_0x19cddf(0x6c0)](_0x536093);if(_0x5216a6[_0x19cddf(0x3ea)]()){const _0x39a6d6=_0x5216a6[_0x19cddf(0x1ea)](),_0x154369=_0x39a6d6['attempts']||[];if(_0x154369[_0x19cddf(0xdbe)]>0x0){const _0x36fe51=_0x154369[_0x19cddf(0x4c5)]((_0x231dbf,_0x59b8d6)=>{const _0x205867=_0x19cddf;if(_0x59b8d6[_0x205867(0x863)]>_0x231dbf[_0x205867(0x863)])return _0x59b8d6;if(_0x59b8d6['score']===_0x231dbf['score'])return(_0x59b8d6['points']||0x0)>(_0x231dbf['points']||0x0)?_0x59b8d6:_0x231dbf;return _0x231dbf;},{'score':-0x1,'points':-0x1});_0x36fe51[_0x19cddf(0x863)]>-0x1&&(_0x299a85+=_0x36fe51[_0x19cddf(0x5da)]||0x0,(_0x36fe51[_0x19cddf(0x69f)]||[])['forEach'](_0x2c32d1=>{_0x2fa916[_0x2c32d1]=(_0x2fa916[_0x2c32d1]||0x0)+0x1;}));}}if(_0x241108['topic']!=='แบบทดสอบซ่อมเสริม'){_0x41fec6++;if(_0x5216a6[_0x19cddf(0x3ea)]()){_0x3b724b++;const _0x10511b=_0x5216a6[_0x19cddf(0x1ea)]();_0x10511b[_0x19cddf(0xb35)]!==_0x10511b[_0x19cddf(0xad2)]&&(_0x4f711d=![]);}else _0x4f711d=![];}}_0x41fec6>0x0&&_0x3b724b===_0x41fec6&&_0x4f711d?_0x2fa916['specialist']=0x1:_0x2fa916['specialist']=0x0,_0x49f125[_0x19cddf(0x17a)](_0x138570,{'studentName':_0xefa9bf,'totalPoints':_0x299a85,'unlockedBadges':Object[_0x19cddf(0xaab)](_0x2fa916)[_0x19cddf(0xd05)](_0x2464c2=>_0x2fa916[_0x2464c2]>0x0),'badgesCount':_0x2fa916},{'merge':!![]});});}catch(_0x8bdc0a){console[_0x10af90(0xabd)](_0x10af90(0xcc6),_0x8bdc0a),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x1ee9e7=_0x4813c4;if(!currentQuizData){showMessage(_0x1ee9e7(0x1b3));return;}let _0x1e5832=JSON['parse'](JSON['stringify'](currentQuizData));currentMode=_0x1ee9e7(0xb03),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView['classList'][_0x1ee9e7(0x483)]('hidden'),studentView[_0x1ee9e7(0xcde)][_0x1ee9e7(0xa30)]('hidden'),studentInitialView['classList']['add'](_0x1ee9e7(0xc15)),studentNameSelectionView[_0x1ee9e7(0xcde)][_0x1ee9e7(0x483)](_0x1ee9e7(0xc15)),studentResultArea['classList'][_0x1ee9e7(0x483)](_0x1ee9e7(0xc15)),studentQuizArea[_0x1ee9e7(0xcde)][_0x1ee9e7(0xa30)](_0x1ee9e7(0xc15)),quizStartTime=new Date(),displayQuizForStudent(_0x1e5832);}function handleResultDisplay(_0x99c031,_0x402b50,_0x3fae46,_0x266bc8,_0x2525cb,_0x48bfec){const _0x209e35=_0x4813c4;if(_0x99c031===_0x209e35(0x30b)){displaySubmissionConfirmation();return;}const _0x1bb729=currentDisplayedQuiz['settings']?.[_0x209e35(0xb9e)]??Math['floor'](_0x48bfec/0x2),_0x2a4c20=currentDisplayedQuiz[_0x209e35(0x436)]?.['isAdaptive']??![],_0x287c45=currentDisplayedQuiz[_0x209e35(0x436)]?.[_0x209e35(0x333)]===!![],_0x3d05fd=_0x402b50<_0x1bb729,_0xd92d37=_0x99c031===_0x209e35(0x30e)||_0x99c031===_0x209e35(0x6a3);if(_0x287c45&&_0x3d05fd&&!_0xd92d37){_0x99c031===_0x209e35(0xcd4)?displayResultsWithAnswers(_0x402b50,_0x3fae46,_0x266bc8,_0x2525cb,_0x48bfec,!![]):displayLoopScreen(_0x402b50,_0x48bfec,_0x99c031);return;}if(_0x2a4c20&&_0x3d05fd){startAdaptiveFlow(_0x2525cb,_0x402b50,_0x48bfec);return;}switch(_0x99c031){case _0x209e35(0xcd4):displayResultsWithAnswers(_0x402b50,_0x3fae46,_0x266bc8,_0x2525cb,_0x48bfec);break;case'show_results_only':displayResultsScoreOnly(_0x402b50,_0x3fae46,_0x266bc8,_0x48bfec);break;case _0x209e35(0xb29):displayPassFailOnly(_0x402b50,_0x48bfec);break;case _0x209e35(0x30e):displayHalfMarkResult(_0x402b50,_0x48bfec);break;case _0x209e35(0x6a3):displayPerfectScoreResult(_0x402b50,_0x48bfec);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2f95ad){const _0x5901b4=_0x4813c4;studentReadingArea['innerHTML']=_0x5901b4(0x897);const _0x193d95=_0x5901b4(0xb78)+_0x2f95ad+_0x5901b4(0x2d6)+simpleMathPrompt+_0x5901b4(0x40f),_0x5ddac2={'type':_0x5901b4(0xb09),'properties':{'questionText':{'type':_0x5901b4(0x799)},'options':{'type':_0x5901b4(0x7bb),'items':{'type':_0x5901b4(0x799)}},'correctAnswerIndex':{'type':_0x5901b4(0x29e)},'explanation':{'type':_0x5901b4(0x799)}},'required':[_0x5901b4(0x929),_0x5901b4(0x7f6),_0x5901b4(0x54b),_0x5901b4(0x6dd)]},_0x2b6230={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x5ddac2}},'required':[_0x5901b4(0x1e8),_0x5901b4(0x1bc)]};try{const _0x3a305e=await callAnalysisApi(_0x193d95,_0x2b6230);_0x3a305e['isRemedial']=!![],studentReadingArea[_0x5901b4(0xcde)][_0x5901b4(0x483)](_0x5901b4(0xc15));const _0x53b0d1={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x3a305e[_0x5901b4(0x436)]=_0x53b0d1,displayQuizForStudent(_0x3a305e);}catch(_0x26ad4f){console[_0x5901b4(0xabd)]('Remedial\x20quiz\x20generation\x20failed:',_0x26ad4f),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x5901b4(0x6e2));}}function displayPassFailOnly(_0x8cde5b,_0x88a096){const _0x44b03f=_0x4813c4,_0x85a11b=currentDisplayedQuiz[_0x44b03f(0x436)]?.[_0x44b03f(0xb9e)]??-0x1,_0x102acb=currentDisplayedQuiz['isRemedial']===!![];let _0x1806b9='',_0x315d63=![];if(_0x102acb||_0x85a11b!==-0x1){_0x315d63=_0x102acb?_0x8cde5b===_0x88a096:_0x8cde5b>=_0x85a11b;const _0x2f0194=_0x315d63?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x1c9d65=_0x315d63?_0x44b03f(0x53d):'ไม่ผ่าน';_0x1806b9=_0x44b03f(0x42d)+_0x2f0194+'\x22>'+_0x1c9d65+_0x44b03f(0x358);}else _0x1806b9='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x8e2406=_0x44b03f(0x376)+currentStudentName+_0x44b03f(0x84a)+_0x1806b9+_0x44b03f(0x364);studentResultArea['innerHTML']=_0x8e2406,studentResultArea[_0x44b03f(0xcde)][_0x44b03f(0xa30)](_0x44b03f(0xc15)),studentQuizArea['classList'][_0x44b03f(0x483)](_0x44b03f(0xc15)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x315d63});}function cancelAdminTest(){const _0x54abd0=_0x4813c4;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x54abd0(0x751)](_0x54abd0(0xc7d),handleFullscreenChange),document['removeEventListener'](_0x54abd0(0xb7),handleVisibilityChange),currentMode='admin',studentView[_0x54abd0(0xcde)][_0x54abd0(0x483)](_0x54abd0(0xc15)),adminView[_0x54abd0(0xcde)][_0x54abd0(0xa30)]('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x54abd0(0x623));}function setupResultScreenBackButton(_0x139cc3){const _0x3c33a7=_0x4813c4,_0x52e0a6={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x139cc3};if(_0x52e0a6['isLooping']){const _0x29398e=_0x3c33a7(0x858);studentResultArea[_0x3c33a7(0xe03)]('beforeend',_0x29398e),document['getElementById']('retake-quiz-loop-btn')['addEventListener'](_0x3c33a7(0x79c),()=>{const _0x5b82ff=_0x3c33a7;studentResultArea[_0x5b82ff(0xcde)][_0x5b82ff(0x483)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x3a39c7=_0x3c33a7(0xd8b),_0x3ea717=currentMode==='admin-testing',_0x2e68f7=_0x3ea717?_0x3c33a7(0x722):_0x3c33a7(0xaa5);let _0x2eb697='';_0x52e0a6[_0x3c33a7(0x594)]&&(_0x2eb697+=_0x3c33a7(0xce5));let _0x291365=_0x52e0a6[_0x3c33a7(0xd88)];_0x291365===undefined&&(_0x291365=_0x52e0a6['score']<_0x52e0a6[_0x3c33a7(0xad2)]);_0x291365&&(_0x2eb697+=_0x3c33a7(0x8cf));_0x2eb697+=_0x3c33a7(0xd73)+_0x3a39c7+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x2e68f7+'</button>';const _0x3a588a=_0x3c33a7(0x23f)+_0x2eb697+_0x3c33a7(0x2fc);studentResultArea[_0x3c33a7(0xe03)](_0x3c33a7(0xce8),_0x3a588a),studentResultArea[_0x3c33a7(0x169)](_0x3c33a7(0x4ad))?.[_0x3c33a7(0x9f0)](_0x3c33a7(0x79c),handleShowStudentRankings);const _0x115832=studentResultArea[_0x3c33a7(0x169)](_0x3c33a7(0x2a2));_0x115832&&_0x115832[_0x3c33a7(0x9f0)](_0x3c33a7(0x79c),()=>{const _0x4adae8=_0x3c33a7;studentResultArea[_0x4adae8(0xcde)][_0x4adae8(0x483)](_0x4adae8(0xc15)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3c33a7(0x3a5)](_0x3a39c7)[_0x3c33a7(0x9f0)]('click',()=>{const _0x3d4e19=_0x3c33a7;_0x3ea717?(currentMode=_0x3d4e19(0xa16),studentView[_0x3d4e19(0xcde)]['add'](_0x3d4e19(0xc15)),adminView[_0x3d4e19(0xcde)][_0x3d4e19(0xa30)]('hidden'),showView(_0x3d4e19(0x623))):(showView(_0x3d4e19(0x6e2)),document[_0x3d4e19(0x3a5)](_0x3d4e19(0x468))[_0x3d4e19(0x909)]='');});}function displayResultsWithAnswers(_0x3706d1,_0x392c14,_0x32bb62,_0x10c37a,_0x1aeae3,_0x22a1eb=![]){const _0x5be016=_0x4813c4,_0x48ab05=_0x1aeae3>0x0?_0x3706d1/_0x1aeae3*0x64:0x0,_0xf7d1b9=currentDisplayedQuiz[_0x5be016(0x436)]?.[_0x5be016(0xb9e)]??-0x1,_0xdc6eb1=currentDisplayedQuiz[_0x5be016(0xccb)]===!![];let _0xafe978='';if(_0xdc6eb1||_0xf7d1b9!==-0x1){let _0xea45e9=_0xdc6eb1?_0x3706d1===_0x1aeae3:_0x3706d1>=_0xf7d1b9;const _0x3dc178=_0xea45e9?_0x5be016(0x346):_0x5be016(0x453),_0x4623ff=_0xea45e9?_0x5be016(0x53d):_0x5be016(0x2dc);_0xafe978=_0x5be016(0xd85)+_0x3dc178+'\x22>'+_0x4623ff+_0x5be016(0x340);}let _0x520fd7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x5be016(0x2f3)+_0x3706d1+_0x5be016(0xc9c)+_0x1aeae3+_0x5be016(0xa97)+_0xafe978+_0x5be016(0xb62)+_0x392c14+_0x5be016(0xe0)+_0x48ab05['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions']['forEach']((_0xf9857,_0x257d63)=>{const _0xec7388=_0x5be016,_0x228a5b=_0x10c37a[_0x257d63],_0x5e76a8=_0x228a5b[_0xec7388(0xc1a)],_0x2e6025=_0x228a5b[_0xec7388(0x8a)],_0x1d44f3=_0xf9857['questionType']||currentDisplayedQuiz['quizType'];_0x520fd7+=_0xec7388(0x86e)+(_0x2e6025?'border-green-300\x20bg-green-50':'border-red-300\x20bg-red-50')+_0xec7388(0xb0d)+(_0x257d63+0x1)+'.\x20'+(_0xf9857[_0xec7388(0xd4c)]||_0xf9857[_0xec7388(0x929)])+_0xec7388(0xac5);switch(_0x1d44f3){case'matching_item':const _0xe7ea2d=_0x5e76a8||_0xec7388(0xc63),_0x4a0f5d=_0xf9857['correctResponse'];_0x520fd7+=_0xec7388(0xa56)+(!_0x2e6025?'line-through\x20text-red-700':'')+'\x22>'+_0xe7ea2d+_0xec7388(0x104);!_0x2e6025&&(_0x520fd7+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x4a0f5d+_0xec7388(0x340));break;case _0xec7388(0x87d):case _0xec7388(0x311):_0x520fd7+=_0xec7388(0x6da)+(_0x5e76a8||_0xec7388(0xc63))+_0xec7388(0x340),_0x520fd7+=_0xec7388(0x17b)+_0xf9857[_0xec7388(0xd2d)]+_0xec7388(0x340);break;case _0xec7388(0x162):_0x520fd7+=_0xec7388(0x6d6)+(_0xf9857[_0xec7388(0xa25)]===!![]?_0xec7388(0xd2f):'')+'\x20'+(_0x5e76a8==='true'&&!_0x2e6025?_0xec7388(0x77b):'')+_0xec7388(0xa4a),_0x520fd7+=_0xec7388(0x6d6)+(_0xf9857[_0xec7388(0xa25)]===![]?_0xec7388(0xd2f):'')+'\x20'+(_0x5e76a8===_0xec7388(0xaf2)&&!_0x2e6025?'line-through\x20text-red-700':'')+_0xec7388(0x1a7);break;case'multiple_choice':case'fill_in_with_choices':default:if(_0xf9857[_0xec7388(0x7f6)]&&Array['isArray'](_0xf9857[_0xec7388(0x7f6)]))_0x520fd7+=_0xf9857['options'][_0xec7388(0x86c)]((_0xa8a43d,_0x2708c1)=>{const _0x238b01=_0xec7388;let _0x5d5c20='',_0x263c8a='';if(_0x2708c1===_0xf9857[_0x238b01(0x54b)])_0x5d5c20=_0x238b01(0xd2f),_0x263c8a='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x2708c1===_0x5e76a8&&(_0x5d5c20=_0x238b01(0x349),_0x263c8a=_0x238b01(0x493));return'<div\x20class=\x22'+_0x5d5c20+'\x22>'+_0x263c8a+_0xa8a43d+_0x238b01(0x2fc);})[_0xec7388(0x15d)]('');else{_0x520fd7+=_0xec7388(0x6da)+(_0x5e76a8||_0xec7388(0xc63))+'</p>';if(!_0x2e6025)_0x520fd7+=_0xec7388(0xdcc);}break;}_0x520fd7+=_0xec7388(0x62f)+(_0xf9857[_0xec7388(0x6dd)]||_0xec7388(0x785))+_0xec7388(0x2fc);if(!_0x2e6025){const _0x73cd31=_0xf9857[_0xec7388(0xd4c)]||_0xf9857[_0xec7388(0x929)];_0x520fd7+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x73cd31)+_0xec7388(0xd1e);}_0x520fd7+=_0xec7388(0x2fc);}),studentResultArea[_0x5be016(0xc7e)]=_0x520fd7,renderEarnedBadges(_0x32bb62,_0x5be016(0x5e2)),studentResultArea[_0x5be016(0xcde)][_0x5be016(0xa30)](_0x5be016(0xc15)),studentQuizArea['classList']['add'](_0x5be016(0xc15)),setupResultScreenBackButton({'isLooping':_0x22a1eb,'score':_0x3706d1,'totalQuestions':_0x1aeae3,'showRankings':!![]});if(window[_0x5be016(0xe2)])window[_0x5be016(0xe2)][_0x5be016(0xacf)]([studentResultArea]);}function displayResultsScoreOnly(_0x296c5f,_0x2c7972,_0x142703,_0x159a08){const _0x6aa80=_0x4813c4,_0x27493c=_0x159a08>0x0?_0x296c5f/_0x159a08*0x64:0x0,_0x527495=currentDisplayedQuiz[_0x6aa80(0x436)]?.[_0x6aa80(0xb9e)]??-0x1,_0x305789=currentDisplayedQuiz[_0x6aa80(0xccb)]===!![];let _0x589352='';if(_0x305789||_0x527495!==-0x1){let _0x12656f=_0x305789?_0x296c5f===_0x159a08:_0x296c5f>=_0x527495;const _0x54c6fc=_0x12656f?'bg-green-100\x20text-green-800':_0x6aa80(0x453),_0x3d092d=_0x12656f?_0x6aa80(0x53d):'ไม่ผ่าน';_0x589352=_0x6aa80(0xd85)+_0x54c6fc+'\x22>'+_0x3d092d+_0x6aa80(0x340);}let _0x307c8a=_0x6aa80(0x376)+currentStudentName+_0x6aa80(0x29a)+_0x296c5f+_0x6aa80(0x766)+_0x159a08+_0x6aa80(0xa97)+_0x589352+_0x6aa80(0xb62)+_0x2c7972+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x27493c[_0x6aa80(0x8bd)](0x0)+_0x6aa80(0x72b);studentResultArea['innerHTML']=_0x307c8a,renderEarnedBadges(_0x142703,_0x6aa80(0x5e2)),studentResultArea[_0x6aa80(0xcde)][_0x6aa80(0xa30)](_0x6aa80(0xc15)),studentQuizArea[_0x6aa80(0xcde)][_0x6aa80(0x483)](_0x6aa80(0xc15)),setupResultScreenBackButton({'score':_0x296c5f,'totalQuestions':_0x159a08,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x49f8dc=_0x4813c4;let _0x5b883e=_0x49f8dc(0x59c)+currentStudentName+_0x49f8dc(0xa9f);studentResultArea[_0x49f8dc(0xc7e)]=_0x5b883e,studentResultArea['classList'][_0x49f8dc(0xa30)](_0x49f8dc(0xc15)),studentQuizArea[_0x49f8dc(0xcde)][_0x49f8dc(0x483)]('hidden'),document[_0x49f8dc(0x3a5)](_0x49f8dc(0x303))[_0x49f8dc(0x9f0)](_0x49f8dc(0x79c),()=>{const _0x363f06=_0x49f8dc;showView('student'),document[_0x363f06(0x3a5)](_0x363f06(0x468))['value']='';});}function renderEarnedBadges(_0x5428bb,_0x922cf0){const _0x555c3b=_0x4813c4,_0x3b6015=document['getElementById'](_0x922cf0);if(!_0x3b6015||!_0x5428bb||_0x5428bb['length']===0x0)return;let _0x192656='';_0x5428bb[_0x555c3b(0x140)]((_0xe35c,_0x2d315e)=>{const _0x1acead=_0x555c3b,_0x32c4dc=Object['values'](BADGES)['find'](_0xee3660=>_0xee3660['id']===_0xe35c);_0x32c4dc&&(_0x192656+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x2d315e*0.2+'s;\x22\x20title=\x22'+_0x32c4dc[_0x1acead(0x65e)]+_0x1acead(0x825)+_0x32c4dc[_0x1acead(0x206)]+_0x1acead(0xb17)+_0x32c4dc[_0x1acead(0x4a4)]+_0x1acead(0xcb8));}),_0x3b6015[_0x555c3b(0xc7e)]=_0x192656;}function startPresentation(_0x42258d){const _0x4eaa1e=_0x4813c4;currentQuizData=getShuffledQuiz(_0x42258d),currentPresentationSlide=0x0,presentationModal[_0x4eaa1e(0x40d)][_0x4eaa1e(0x4c3)]=_0x4eaa1e(0x248),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x5c8b64=_0x4813c4;document[_0x5c8b64(0xbfc)]&&document['exitFullscreen'](),presentationModal[_0x5c8b64(0x40d)][_0x5c8b64(0x4c3)]=_0x5c8b64(0xa8c);}function renderPresentationSlide(_0x1b16a2){const _0x148b69=_0x4813c4,_0x5edaba=document['getElementById'](_0x148b69(0x560));if(!currentQuizData||!currentQuizData[_0x148b69(0x1bc)]||!currentQuizData['questions'][_0x1b16a2]){_0x5edaba[_0x148b69(0xc7e)]=_0x148b69(0xbe1);return;}const _0x5b3c09=currentQuizData[_0x148b69(0x1bc)][_0x1b16a2],_0x7fee55=_0x5b3c09[_0x148b69(0x51d)]||currentQuizData[_0x148b69(0xa34)];_0x5edaba[_0x148b69(0xc7e)]='';let _0x4deb15=_0x148b69(0x412)+(_0x5b3c09[_0x148b69(0x690)]?_0x148b69(0xca9)+_0x5b3c09[_0x148b69(0x690)]+_0x148b69(0x2fc):'')+_0x148b69(0x87a)+(_0x1b16a2+0x1)+'.\x20'+(_0x5b3c09[_0x148b69(0xd4c)]||_0x5b3c09[_0x148b69(0x929)])+_0x148b69(0x68a);switch(_0x7fee55){case _0x148b69(0x392):_0x4deb15+=_0x5b3c09[_0x148b69(0xd2c)][_0x148b69(0x86c)](_0x27115a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27115a+_0x148b69(0xd53))[_0x148b69(0x15d)]('');break;case _0x148b69(0x162):_0x4deb15+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x4deb15+=_0x148b69(0x619);break;case _0x148b69(0x87d):case _0x148b69(0x311):_0x4deb15+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x148b69(0x777):case'multiple_choice':default:_0x4deb15+=_0x5b3c09['options'][_0x148b69(0x86c)]((_0x24e574,_0x577c9c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x577c9c+_0x148b69(0xd67)+_0x24e574+_0x148b69(0xd53))[_0x148b69(0x15d)]('');break;}_0x4deb15+=_0x148b69(0x106)+(_0x5b3c09['explanation']||_0x148b69(0x785))+_0x148b69(0x4b1),_0x5edaba[_0x148b69(0xc7e)]=_0x4deb15;if(window[_0x148b69(0xe2)])window[_0x148b69(0xe2)]['typesetPromise']([_0x5edaba]);let _0x1a7480=[];switch(_0x7fee55){case _0x148b69(0x392):_0x1a7480=_0x5b3c09[_0x148b69(0xd2c)]||[];break;case _0x148b69(0x162):_0x1a7480=[_0x148b69(0x2c2),_0x148b69(0x2d2)];break;default:_0x1a7480=_0x5b3c09[_0x148b69(0x7f6)]||[];break;}const _0x528698=document[_0x148b69(0x3a5)](_0x148b69(0x8c1));_0x528698&&(_0x528698['onclick']=()=>{openScratchpad(_0x5b3c09,_0x1a7480);});document[_0x148b69(0x660)](_0x148b69(0x942))[_0x148b69(0x140)](_0xc3535a=>{const _0x409151=_0x148b69;_0xc3535a['addEventListener'](_0x409151(0x79c),_0x5e5c06=>revealAnswerForPresentation(_0x1b16a2,_0x5e5c06[_0x409151(0x45b)]));});const _0x3f364d=document[_0x148b69(0x3a5)](_0x148b69(0x440));_0x3f364d&&_0x3f364d[_0x148b69(0x9f0)](_0x148b69(0x79c),()=>checkShortAnswerForPresentation(_0x1b16a2)),document[_0x148b69(0x3a5)](_0x148b69(0xb37))['textContent']=_0x148b69(0x95d)+(_0x1b16a2+0x1)+_0x148b69(0x6eb)+currentQuizData[_0x148b69(0x1bc)]['length'],document['getElementById']('prev-question-btn')[_0x148b69(0x88c)]=_0x1b16a2===0x0,document[_0x148b69(0x3a5)](_0x148b69(0x784))[_0x148b69(0x88c)]=_0x1b16a2===currentQuizData['questions'][_0x148b69(0xdbe)]-0x1;}async function checkShortAnswerForPresentation(_0x3ef87e){const _0x502f29=_0x4813c4,_0x522695=currentQuizData[_0x502f29(0x1bc)][_0x3ef87e],_0x340fb5=document[_0x502f29(0x3a5)](_0x502f29(0x92b)),_0x1632b5=document[_0x502f29(0x3a5)](_0x502f29(0x440)),_0x599a64=document['getElementById'](_0x502f29(0xec)),_0x37c7ba=document[_0x502f29(0x3a5)](_0x502f29(0x218));if(!_0x340fb5||!_0x1632b5||!_0x599a64||!_0x37c7ba)return;const _0x35d081=_0x340fb5['value'][_0x502f29(0x7f3)]();if(_0x35d081==='')return;_0x1632b5[_0x502f29(0x88c)]=!![],_0x1632b5[_0x502f29(0xc7e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x340fb5[_0x502f29(0x88c)]=!![];const _0x28e125=await gradeShortAnswer(_0x35d081,_0x522695);_0x28e125?_0x599a64[_0x502f29(0xc7e)]=_0x502f29(0x704):_0x599a64[_0x502f29(0xc7e)]=_0x502f29(0x7e6)+_0x522695[_0x502f29(0xd2d)]+')',_0x599a64[_0x502f29(0xcde)][_0x502f29(0xa30)](_0x502f29(0xc15)),_0x37c7ba['classList'][_0x502f29(0xa30)](_0x502f29(0xc15)),_0x1632b5[_0x502f29(0xcde)][_0x502f29(0x483)](_0x502f29(0xc15));}function revealAnswerForPresentation(_0x91034e,_0x21be79){const _0x104e9e=_0x4813c4,_0x21e5e4=currentQuizData[_0x104e9e(0x1bc)][_0x91034e],_0x285b24=_0x21e5e4[_0x104e9e(0x51d)]||currentQuizData[_0x104e9e(0xa34)];document['querySelectorAll'](_0x104e9e(0x942))[_0x104e9e(0x140)](_0x39c224=>{const _0xa2e769=_0x104e9e;_0x39c224[_0xa2e769(0x88c)]=!![],_0x39c224[_0xa2e769(0xcde)][_0xa2e769(0xa30)]('hover:bg-indigo-100');let _0x1ecb08=![];if(_0x285b24===_0xa2e769(0x260)||_0x285b24===_0xa2e769(0x777)){const _0x5af79e=parseInt(_0x39c224[_0xa2e769(0x315)][_0xa2e769(0x459)]);_0x1ecb08=_0x5af79e===_0x21e5e4[_0xa2e769(0x54b)];}else{if(_0x285b24===_0xa2e769(0x162)){const _0x158194=_0x39c224[_0xa2e769(0x315)][_0xa2e769(0xc1a)]===_0xa2e769(0xa55);_0x1ecb08=_0x158194===_0x21e5e4[_0xa2e769(0xa25)];}else _0x285b24===_0xa2e769(0x392)&&(_0x1ecb08=_0x39c224[_0xa2e769(0xd68)][_0xa2e769(0x7f3)]()===_0x21e5e4[_0xa2e769(0x18a)]);}_0x1ecb08?_0x39c224['classList'][_0xa2e769(0x483)]('bg-green-500',_0xa2e769(0xe14),'border-green-700'):_0x39c224['classList']['add']('opacity-50');}),_0x21be79['classList'][_0x104e9e(0xa30)](_0x104e9e(0x3b9));let _0x3900c3=![];if(_0x285b24===_0x104e9e(0x260))_0x3900c3=parseInt(_0x21be79['dataset'][_0x104e9e(0x459)])===_0x21e5e4[_0x104e9e(0x54b)];else{if(_0x285b24===_0x104e9e(0x162))_0x3900c3=_0x21be79['dataset'][_0x104e9e(0xc1a)]===_0x104e9e(0xa55)===_0x21e5e4[_0x104e9e(0xa25)];else _0x285b24==='matching_item'&&(_0x3900c3=_0x21be79['textContent']['trim']()===_0x21e5e4[_0x104e9e(0x18a)]);}!_0x3900c3&&_0x21be79[_0x104e9e(0xcde)][_0x104e9e(0x483)](_0x104e9e(0x697),_0x104e9e(0xe14),_0x104e9e(0xc6)),document['getElementById'](_0x104e9e(0x218))[_0x104e9e(0xcde)][_0x104e9e(0xa30)](_0x104e9e(0xc15));}function startWholeQuizTimer(_0x316e2d){const _0x3c3d71=_0x4813c4,_0x24f196=document['getElementById'](_0x3c3d71(0x144));if(!_0x24f196)return;const _0x314ebd=Date[_0x3c3d71(0x2d9)]()+_0x316e2d*0x3c*0x3e8;_0x24f196[_0x3c3d71(0xc7e)]=_0x3c3d71(0x469);const _0x3913c9=document[_0x3c3d71(0x3a5)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x4509f4=_0x3c3d71,_0x1b4a7f=_0x314ebd-Date[_0x4509f4(0x2d9)]();if(_0x1b4a7f<=0x0)clearInterval(quizTimerInterval),_0x3913c9[_0x4509f4(0xd68)]=_0x4509f4(0xb6f),showMessage(_0x4509f4(0x476)),handleSubmitQuiz(null);else{const _0xf53b43=Math['floor'](_0x1b4a7f/0x3e8/0x3c%0x3c)['toString']()[_0x4509f4(0x8ff)](0x2,'0'),_0x4fbaa4=Math['floor'](_0x1b4a7f/0x3e8%0x3c)[_0x4509f4(0x101)]()[_0x4509f4(0x8ff)](0x2,'0');_0x3913c9[_0x4509f4(0xd68)]=_0xf53b43+':'+_0x4fbaa4;}},0x3e8);}function renderPerQuestionView(){const _0x2a50f5=_0x4813c4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x50fcef=currentDisplayedQuiz[_0x2a50f5(0x1bc)][currentQuestionIndex],_0x2e6c5e=_0x50fcef['questionType']||currentDisplayedQuiz[_0x2a50f5(0xa34)],_0x4dd820=currentDisplayedQuiz[_0x2a50f5(0x436)]?.[_0x2a50f5(0x576)]===!![];let _0x271629=_0x2a50f5(0xd61)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x2a50f5(0x1bc)][_0x2a50f5(0xdbe)]+_0x2a50f5(0xdc2)+(currentMode===_0x2a50f5(0xb03)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x2a50f5(0x245)+currentDisplayedQuiz[_0x2a50f5(0x1e8)]+_0x2a50f5(0x58b);studentQuizArea[_0x2a50f5(0xc7e)]=_0x271629;let _0x5d3107=_0x50fcef[_0x2a50f5(0xd4c)]||_0x50fcef['questionText'];_0x50fcef[_0x2a50f5(0x690)]&&(_0x5d3107+=_0x2a50f5(0xca9)+_0x50fcef[_0x2a50f5(0x690)]+_0x2a50f5(0x2fc));let _0xc3c916='';switch(_0x2e6c5e){case _0x2a50f5(0x311):case'fill_in_no_choices':_0xc3c916=_0x2a50f5(0x8bb);break;case _0x2a50f5(0x162):_0xc3c916='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x2a50f5(0x392):_0xc3c916='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x50fcef['allResponses']||[])[_0x2a50f5(0x86c)](_0x59bc7e=>_0x2a50f5(0x437)+_0x59bc7e+'\x22>'+_0x59bc7e+'</option>')[_0x2a50f5(0x15d)]('')+_0x2a50f5(0xabe);break;default:_0x50fcef[_0x2a50f5(0x7f6)]&&(_0xc3c916=_0x50fcef[_0x2a50f5(0x7f6)]['map']((_0x12dcb5,_0x2834a1)=>_0x2a50f5(0x2bd)+_0x2834a1+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x2834a1+_0x2a50f5(0x2af)+_0x2834a1+'\x22>'+_0x12dcb5+_0x2a50f5(0xbc0))['join'](''));break;}document[_0x2a50f5(0x3a5)](_0x2a50f5(0xc8a))[_0x2a50f5(0xc7e)]=_0x5d3107,document[_0x2a50f5(0x3a5)](_0x2a50f5(0x2b9))['innerHTML']=_0xc3c916;const _0x46ae60=currentDisplayedQuiz['settings']?.[_0x2a50f5(0x576)]===!![],_0x19e07d=currentDisplayedQuiz[_0x2a50f5(0x436)]?.[_0x2a50f5(0x9a2)]||_0x2a50f5(0xd6c);if(_0x46ae60&&_0x19e07d==='checkbox'){const _0x1b1e29=_0x2a50f5(0x41e);studentQuizArea['querySelector'](_0x2a50f5(0x831))[_0x2a50f5(0xe03)](_0x2a50f5(0xce8),_0x1b1e29);}studentQuizArea['insertAdjacentHTML'](_0x2a50f5(0xce8),_0x2a50f5(0xc22)+(currentQuestionIndex===currentDisplayedQuiz[_0x2a50f5(0x1bc)][_0x2a50f5(0xdbe)]-0x1?'ส่งคำตอบ':_0x2a50f5(0x386))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x2a50f5(0xb03)&&document['getElementById'](_0x2a50f5(0xd51))?.['addEventListener'](_0x2a50f5(0x79c),cancelAdminTest);document[_0x2a50f5(0x3a5)](_0x2a50f5(0x482))[_0x2a50f5(0x9f0)](_0x2a50f5(0x79c),()=>handleNextQuestionInTimedMode(![]));if(window[_0x2a50f5(0xe2)])window[_0x2a50f5(0xe2)][_0x2a50f5(0xacf)]([studentQuizArea]);currentDisplayedQuiz[_0x2a50f5(0x436)]?.[_0x2a50f5(0x1a9)]===_0x2a50f5(0xade)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x84c602=_0x4813c4,_0x27163b=currentDisplayedQuiz[_0x84c602(0x436)][_0x84c602(0x4bc)],_0x423afb=document[_0x84c602(0x3a5)](_0x84c602(0x918));if(!_0x423afb)return;let _0x1fb5b4=_0x27163b;_0x423afb[_0x84c602(0xc7e)]=_0x84c602(0xd7)+_0x1fb5b4+_0x84c602(0x9eb);const _0x166ffd=document[_0x84c602(0x3a5)]('timer-bar'),_0x20d2eb=document[_0x84c602(0x3a5)](_0x84c602(0x150));perQuestionTimerInterval=setInterval(()=>{const _0xd4417=_0x84c602;_0x1fb5b4--;const _0x39a5a0=_0x1fb5b4/_0x27163b*0x64;_0x166ffd['style'][_0xd4417(0x7e9)]=_0x39a5a0+'%',_0x20d2eb['textContent']=_0x1fb5b4,_0x1fb5b4<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x48c9ba=![]){const _0x5821dd=_0x4813c4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x5d940b=null,_0x20d939=![];if(!_0x48c9ba){const _0x546c99=currentDisplayedQuiz[_0x5821dd(0x1bc)][currentQuestionIndex],_0x1ecc9d=_0x546c99[_0x5821dd(0x51d)]||currentDisplayedQuiz[_0x5821dd(0xa34)];if(_0x1ecc9d===_0x5821dd(0x311)||_0x1ecc9d==='fill_in_no_choices')_0x5d940b=document[_0x5821dd(0x169)](_0x5821dd(0xaed))?.[_0x5821dd(0x909)][_0x5821dd(0x7f3)]()??'';else{if(_0x1ecc9d===_0x5821dd(0x392))_0x5d940b=document['querySelector'](_0x5821dd(0x250))?.[_0x5821dd(0x909)]??'';else{const _0x25ea70=document[_0x5821dd(0x169)]('input[name=\x22question_single\x22]:checked');_0x25ea70&&(_0x5d940b=_0x25ea70['value']);}}if(_0x5d940b===null||_0x5d940b===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0xa144ca=currentDisplayedQuiz[_0x5821dd(0x436)]?.['isConfidenceScoringEnabled']===!![],_0x39fdc4=currentDisplayedQuiz[_0x5821dd(0x436)]?.[_0x5821dd(0x9a2)]||_0x5821dd(0xd6c);if(_0xa144ca&&_0x39fdc4===_0x5821dd(0x5b9)){document[_0x5821dd(0x3a5)](_0x5821dd(0x649))['dataset'][_0x5821dd(0x229)]='timed',document[_0x5821dd(0x3a5)]('selected-answer-index-hidden')[_0x5821dd(0x909)]=_0x5d940b,document[_0x5821dd(0x3a5)](_0x5821dd(0x649))[_0x5821dd(0xcde)][_0x5821dd(0xa30)](_0x5821dd(0xc15));return;}const _0x1291f8=document['getElementById']('confidence_single');_0x1291f8&&(_0x20d939=_0x1291f8[_0x5821dd(0x2e0)]);}const _0x35cc08={'answer':_0x5d940b,'wasConfident':_0x20d939};proceedToNextQuestion(_0x35cc08);}async function finalizePerQuestionQuiz(){const _0x2f47bb=_0x4813c4,_0x4e4da2=currentDisplayedQuiz[_0x2f47bb(0x1bc)][_0x2f47bb(0x180)](_0x45d737=>_0x45d737[_0x2f47bb(0x51d)]===_0x2f47bb(0x311));_0x4e4da2?showMessage(_0x2f47bb(0x643)):showMessage(_0x2f47bb(0xa08));const _0x23f905=currentQuizData['id'],_0x32fa25=doc(db,'artifacts/'+appId+_0x2f47bb(0x5e4)+_0x23f905+_0x2f47bb(0xbfd),currentStudentName),_0x5e7c1a=await getDoc(_0x32fa25),_0x519fa9=_0x5e7c1a[_0x2f47bb(0x3ea)]()?_0x5e7c1a[_0x2f47bb(0x1ea)]():{},_0x331a6d=_0x519fa9['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x331a6d);}function getResultsFilename(){const _0xb8c071=_0x4813c4,_0x237bcc=document[_0xb8c071(0x3a5)](_0xb8c071(0xd6f))[_0xb8c071(0xd68)][_0xb8c071(0x94b)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0xb8c071(0xcf3)+(_0x237bcc||_0xb8c071(0x12a));}function exportResultsAsImage(){const _0x469703=_0x4813c4,_0x5d14e4=document[_0x469703(0x3a5)]('results-table-container');showMessage(_0x469703(0x1bd)),html2canvas(_0x5d14e4)['then'](_0x59a5e5=>{const _0xe15967=_0x469703,_0x1901c9=document[_0xe15967(0xb46)]('a');_0x1901c9[_0xe15967(0x65c)]=getResultsFilename()+_0xe15967(0x899),_0x1901c9[_0xe15967(0x9ea)]=_0x59a5e5[_0xe15967(0xd19)](_0xe15967(0x617)),_0x1901c9['click'](),messageModal['classList'][_0xe15967(0x483)](_0xe15967(0xc15));});}function exportResultsAsPDF(){const _0x3f3b47=_0x4813c4,{jsPDF:_0x26824f}=window[_0x3f3b47(0x4e0)],_0x1fb782=new _0x26824f();_0x1fb782[_0x3f3b47(0x9c6)]('helvetica',_0x3f3b47(0x51a)),_0x1fb782[_0x3f3b47(0x384)]({'html':_0x3f3b47(0x409)}),_0x1fb782[_0x3f3b47(0xa47)](getResultsFilename()+_0x3f3b47(0xa29));}function exportResultsAsWord(){const _0x1feec1=_0x4813c4,_0x487ec6='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x1feec1(0x48e)+_0x1feec1(0x425)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x2c4390=_0x1feec1(0xa9a),_0x5076c0=_0x487ec6+document[_0x1feec1(0x3a5)](_0x1feec1(0x6b8))['innerHTML']+_0x2c4390,_0x1351a2=_0x1feec1(0x753)+encodeURIComponent(_0x5076c0),_0x411b74=document['createElement']('a');document[_0x1feec1(0x281)][_0x1feec1(0xaf7)](_0x411b74),_0x411b74['href']=_0x1351a2,_0x411b74[_0x1feec1(0x65c)]=getResultsFilename()+_0x1feec1(0x114),_0x411b74[_0x1feec1(0x79c)](),document['body'][_0x1feec1(0x9fe)](_0x411b74);}function exportResultsAsExcel(){const _0xa02b36=_0x4813c4,_0x42fdd2=document['getElementById'](_0xa02b36(0xbc4));let _0x322274=[];for(let _0x273d48=0x0;_0x273d48<_0x42fdd2[_0xa02b36(0x692)][_0xa02b36(0xdbe)];_0x273d48++){let _0x478d26=[],_0x245a70=_0x42fdd2[_0xa02b36(0x692)][_0x273d48][_0xa02b36(0x660)](_0xa02b36(0x6f0));for(let _0x583f70=0x0;_0x583f70<_0x245a70[_0xa02b36(0xdbe)];_0x583f70++){_0x478d26[_0xa02b36(0x8a5)]('\x22'+_0x245a70[_0x583f70][_0xa02b36(0xbac)][_0xa02b36(0x94b)](/"/g,'\x22\x22')+'\x22');}_0x322274[_0xa02b36(0x8a5)](_0x478d26[_0xa02b36(0x15d)](','));}const _0xf0d4d0=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x322274[_0xa02b36(0x15d)]('\x0a')],{'type':_0xa02b36(0x9c3)}),_0x376fc6=document[_0xa02b36(0xb46)]('a');_0x376fc6[_0xa02b36(0x9ea)]=URL[_0xa02b36(0x2b0)](_0xf0d4d0),_0x376fc6[_0xa02b36(0x65c)]=getResultsFilename()+'.csv',_0x376fc6[_0xa02b36(0x79c)]();}function exportTableAsImage(_0x1cc9a4,_0x5796ef){const _0x4d960b=_0x4813c4,_0x70a018=document[_0x4d960b(0x3a5)](_0x1cc9a4),_0x2af8e2=document[_0x4d960b(0x3a5)](_0x4d960b(0xd6f));if(!_0x70a018){showMessage(_0x4d960b(0x7d3));return;}showMessage(_0x4d960b(0x98e));const _0x112fc7=document[_0x4d960b(0xb46)](_0x4d960b(0xae0));_0x112fc7[_0x4d960b(0x40d)]['backgroundColor']=_0x4d960b(0x870),_0x112fc7[_0x4d960b(0x40d)][_0x4d960b(0x221)]=_0x4d960b(0x709),_0x112fc7[_0x4d960b(0x40d)]['width']=_0x4d960b(0xc14),_0x112fc7['style'][_0x4d960b(0x554)]=_0x4d960b(0x756),_0x112fc7[_0x4d960b(0x40d)]['left']=_0x4d960b(0xe24),_0x112fc7[_0x4d960b(0x40d)]['top']='0',_0x112fc7[_0x4d960b(0x40d)][_0x4d960b(0x892)]='-1';const _0x25525b=document[_0x4d960b(0xb46)]('h1');_0x25525b[_0x4d960b(0xbac)]=_0x2af8e2?_0x2af8e2[_0x4d960b(0xbac)]:'รายงานผลคะแนน',_0x25525b[_0x4d960b(0x40d)]['textAlign']=_0x4d960b(0xd36),_0x25525b[_0x4d960b(0x40d)][_0x4d960b(0x96b)]='\x27Sarabun\x27,\x20sans-serif',_0x25525b[_0x4d960b(0x40d)][_0x4d960b(0x3f8)]=_0x4d960b(0xcb6),_0x25525b[_0x4d960b(0x40d)]['fontWeight']='bold',_0x25525b[_0x4d960b(0x40d)]['color']=_0x4d960b(0x782),_0x25525b[_0x4d960b(0x40d)][_0x4d960b(0x6c3)]=_0x4d960b(0x470);const _0x96a0a8=_0x70a018[_0x4d960b(0xa21)](!![]);_0x96a0a8[_0x4d960b(0x40d)][_0x4d960b(0xa83)]=_0x4d960b(0xa8c),_0x96a0a8[_0x4d960b(0x40d)][_0x4d960b(0x847)]=_0x4d960b(0x397);const _0x35214b=_0x96a0a8['querySelectorAll']('th');let _0x4af463=-0x1;_0x35214b['forEach']((_0x19c6c6,_0x4b03d3)=>{const _0x15aad0=_0x4d960b;_0x19c6c6[_0x15aad0(0xd68)]['trim']()==='ผล'&&(_0x19c6c6[_0x15aad0(0x40d)][_0x15aad0(0x4c3)]=_0x15aad0(0xa8c),_0x4af463=_0x4b03d3);});if(_0x4af463!==-0x1){const _0x2ed347=_0x96a0a8[_0x4d960b(0x660)]('tr');_0x2ed347[_0x4d960b(0x140)](_0x2eb3fe=>{const _0x3e8dc6=_0x4d960b,_0x128a79=_0x2eb3fe['querySelectorAll']('td');_0x128a79[_0x3e8dc6(0xdbe)]>_0x4af463&&(_0x128a79[_0x4af463][_0x3e8dc6(0x40d)]['display']=_0x3e8dc6(0xa8c));});}_0x112fc7[_0x4d960b(0xaf7)](_0x25525b),_0x112fc7[_0x4d960b(0xaf7)](_0x96a0a8),document[_0x4d960b(0x281)][_0x4d960b(0xaf7)](_0x112fc7),html2canvas(_0x112fc7,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x4d960b(0x870)})['then'](_0x1ca06d=>{const _0x34cd67=_0x4d960b,_0x484620=document['createElement']('a');_0x484620[_0x34cd67(0x65c)]=_0x5796ef+_0x34cd67(0x899),_0x484620['href']=_0x1ca06d[_0x34cd67(0xd19)](_0x34cd67(0x617)),_0x484620[_0x34cd67(0x79c)](),document['body'][_0x34cd67(0x9fe)](_0x112fc7),messageModal['classList']['add'](_0x34cd67(0xc15));})[_0x4d960b(0x450)](_0x450116=>{const _0x5ee989=_0x4d960b;console[_0x5ee989(0xabd)](_0x5ee989(0xd00),_0x450116),document[_0x5ee989(0x281)][_0x5ee989(0x9fe)](_0x112fc7),showMessage('เกิดข้อผิดพลาดในการสร้างรูปภาพ');});}function exportTableAsPDF(_0x3ff4c2,_0x228ad6){const _0x4de048=_0x4813c4,{jsPDF:_0x47d4c1}=window[_0x4de048(0x4e0)],_0x3fef1e=new _0x47d4c1();_0x3fef1e['setFont'](_0x4de048(0x914),_0x4de048(0x51a)),_0x3fef1e[_0x4de048(0x384)]({'html':'#'+_0x3ff4c2}),_0x3fef1e[_0x4de048(0xa47)](_0x228ad6+_0x4de048(0xa29));}function exportTableAsWord(_0xd7a12,_0x334828){const _0x365b7e=_0x4813c4,_0x38dcbb=document[_0x365b7e(0x3a5)](_0xd7a12);if(!_0x38dcbb){showMessage(_0x365b7e(0x7d3));return;}const _0xf256e2=_0x365b7e(0xe26)+_0x365b7e(0x48e)+_0x365b7e(0x425)+_0x365b7e(0xb18),_0x3ab23d=_0x365b7e(0xa9a),_0x2c53e4=_0xf256e2+_0x38dcbb[_0x365b7e(0xc7e)]+_0x3ab23d,_0x18a490=_0x365b7e(0x753)+encodeURIComponent(_0x2c53e4),_0x352390=document[_0x365b7e(0xb46)]('a');document[_0x365b7e(0x281)][_0x365b7e(0xaf7)](_0x352390),_0x352390[_0x365b7e(0x9ea)]=_0x18a490,_0x352390[_0x365b7e(0x65c)]=_0x334828+'.doc',_0x352390[_0x365b7e(0x79c)](),document[_0x365b7e(0x281)][_0x365b7e(0x9fe)](_0x352390);}function exportTableAsExcel(_0x3cf95b,_0x11d0ba){const _0x59b048=_0x4813c4,_0x45b5c1=document[_0x59b048(0x3a5)](_0x3cf95b);if(!_0x45b5c1){showMessage(_0x59b048(0x7d3));return;}let _0x23841a=[];for(let _0x4fb6e3=0x0;_0x4fb6e3<_0x45b5c1[_0x59b048(0x692)][_0x59b048(0xdbe)];_0x4fb6e3++){let _0x5d5238=[],_0x44011d=_0x45b5c1[_0x59b048(0x692)][_0x4fb6e3][_0x59b048(0x660)]('td,\x20th');for(let _0x5b83a7=0x0;_0x5b83a7<_0x44011d[_0x59b048(0xdbe)];_0x5b83a7++){_0x5d5238['push']('\x22'+_0x44011d[_0x5b83a7][_0x59b048(0xbac)][_0x59b048(0x94b)](/"/g,'\x22\x22')+'\x22');}_0x23841a[_0x59b048(0x8a5)](_0x5d5238[_0x59b048(0x15d)](','));}const _0x163187=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x23841a[_0x59b048(0x15d)]('\x0a')],{'type':_0x59b048(0x9c3)}),_0x3f85c6=document[_0x59b048(0xb46)]('a');_0x3f85c6[_0x59b048(0x9ea)]=URL[_0x59b048(0x2b0)](_0x163187),_0x3f85c6[_0x59b048(0x65c)]=_0x11d0ba+_0x59b048(0xdaf),_0x3f85c6[_0x59b048(0x79c)]();}function renderAnalytics(_0x210600,_0x15bbc7){const _0x5a1ad3=_0x4813c4,_0x391945=_0x15bbc7[_0x5a1ad3(0xd05)](_0x56aa8f=>_0x56aa8f[_0x5a1ad3(0x76b)]!==undefined),_0x167526=currentProjectData[_0x5a1ad3(0x3a0)][_0x5a1ad3(0xdbe)],_0x4a951d=_0x391945[_0x5a1ad3(0xdbe)],_0x24120e=_0x167526-_0x4a951d,_0x526eec=_0x167526>0x0?_0x4a951d/_0x167526*0x64:0x0,_0xfffe11=_0x391945[_0x5a1ad3(0x86c)](_0x5eeac0=>_0x5eeac0[_0x5a1ad3(0x76b)]),_0x46ba4b=_0xfffe11[_0x5a1ad3(0xdbe)]>0x0?_0xfffe11[_0x5a1ad3(0x4c5)]((_0x1b1000,_0xf380ba)=>_0x1b1000+_0xf380ba,0x0)/_0xfffe11[_0x5a1ad3(0xdbe)]:0x0,_0xe26dfd=_0x210600[_0x5a1ad3(0x1bc)][_0x5a1ad3(0xdbe)],_0x4a51b2=_0xe26dfd>0x0?_0x46ba4b/_0xe26dfd*0x64:0x0,_0x2e4b89=calculateItemAnalysis(_0x210600,_0x391945),_0x3fbb0a=calculateReliabilityKR20(_0x210600,_0x391945,_0x2e4b89[_0x5a1ad3(0xb4d)]);let _0xa6440e='';if(_0x3fbb0a!==null){let _0xeeff5a='';if(_0x3fbb0a>=0.9)_0xeeff5a=_0x5a1ad3(0x614);else{if(_0x3fbb0a>=0.8)_0xeeff5a=_0x5a1ad3(0x5d8);else{if(_0x3fbb0a>=0.7)_0xeeff5a='ดี';else{if(_0x3fbb0a>=0.6)_0xeeff5a=_0x5a1ad3(0x5dc);else _0xeeff5a=_0x5a1ad3(0xda6);}}}_0xa6440e=_0x5a1ad3(0x59e)+_0x3fbb0a['toFixed'](0x2)+_0x5a1ad3(0xc3)+_0xeeff5a+_0x5a1ad3(0x36e);}const _0x51e6da=document[_0x5a1ad3(0x3a5)](_0x5a1ad3(0xcaa));_0x51e6da['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x526eec['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x4a951d+'/'+_0x167526+_0x5a1ad3(0x5a5)+_0x46ba4b[_0x5a1ad3(0x8bd)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x4a51b2[_0x5a1ad3(0x8bd)](0x0)+_0x5a1ad3(0x8cc)+(_0xfffe11[_0x5a1ad3(0xdbe)]>0x0?Math[_0x5a1ad3(0x4c9)](..._0xfffe11):'N/A')+_0x5a1ad3(0xcd)+(_0xfffe11[_0x5a1ad3(0xdbe)]>0x0?Math[_0x5a1ad3(0xcfb)](..._0xfffe11):_0x5a1ad3(0x2fe))+_0x5a1ad3(0x197)+_0xa6440e+_0x5a1ad3(0x40f);const _0x55e69f=document[_0x5a1ad3(0x3a5)](_0x5a1ad3(0x5bd));_0x55e69f&&_0x55e69f['remove']();const _0x3c252d=_0x5a1ad3(0x629);_0x51e6da[_0x5a1ad3(0xe03)](_0x5a1ad3(0x7c),_0x3c252d);const _0x223081=currentProjectData[_0x5a1ad3(0x3a0)]||[];renderSubmissionChart(_0x4a951d,_0x24120e,_0x391945,_0x223081),renderScoreDistributionChart(_0x391945,_0xe26dfd),renderQuestionAnalytics(_0x210600,_0x391945,_0x223081),renderInterestingStats(_0x210600,_0x391945);}async function handleExportLessonPDF(){const _0x36e585=_0x4813c4,_0x4584c7=document[_0x36e585(0x3a5)](_0x36e585(0x6f3)),_0x1d093a=document[_0x36e585(0x3a5)](_0x36e585(0x658))[_0x36e585(0xd68)],_0x56f56f=window[_0x36e585(0x54c)]('',_0x36e585(0x9b2)),_0x398810='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x1d093a+_0x36e585(0xc6c)+_0x4584c7[_0x36e585(0xc7e)]+_0x36e585(0x3db);_0x56f56f['document'][_0x36e585(0x402)](_0x398810),_0x56f56f[_0x36e585(0x3f6)][_0x36e585(0xcaf)](),_0x56f56f[_0x36e585(0xc99)]=function(){setTimeout(()=>{const _0x23fd48=_0x3082;_0x56f56f[_0x23fd48(0x510)]();},0x5dc);};}function renderInterestingStats(_0x2208a1,_0xe0786f){const _0x18531e=_0x4813c4,_0xd9314b=document[_0x18531e(0x3a5)](_0x18531e(0x48d));if(!_0xd9314b)return;if(_0xe0786f[_0x18531e(0xdbe)]===0x0){_0xd9314b[_0x18531e(0xc7e)]=_0x18531e(0xb6b);return;}const _0xb9a6bb=_0x2208a1[_0x18531e(0x1bc)][_0x18531e(0x86c)]((_0x30346d,_0x955145)=>({'index':_0x955145+0x1,'text':_0x30346d[_0x18531e(0x929)]||_0x30346d[_0x18531e(0xd4c)],'correct':0x0}));_0xe0786f[_0x18531e(0x140)](_0x3ea625=>{const _0x431881=_0x18531e,_0x367757=_0x3ea625['attempts'][_0x3ea625[_0x431881(0xb6a)][_0x431881(0xdbe)]-0x1];_0x367757&&_0x367757[_0x431881(0x1b8)]&&_0x367757[_0x431881(0x1b8)][_0x431881(0x140)](_0x150799=>{const _0x5c7fe2=_0x431881,_0x4ac81a=_0xb9a6bb[_0x5c7fe2(0x5d9)](_0x343dd7=>_0x343dd7[_0x5c7fe2(0xc97)]===_0x150799[_0x5c7fe2(0xb8e)]);_0x150799[_0x5c7fe2(0x8a)]&&_0x4ac81a&&_0x4ac81a['correct']++;});});const _0x3b6522=_0xe0786f['length'],_0x550b46=Math[_0x18531e(0x4c9)](..._0xb9a6bb[_0x18531e(0x86c)](_0x5b822d=>_0x5b822d[_0x18531e(0x203)])),_0x199148=Math[_0x18531e(0xcfb)](..._0xb9a6bb[_0x18531e(0x86c)](_0x163798=>_0x163798[_0x18531e(0x203)])),_0x4b7fcd=_0xb9a6bb['filter'](_0x549688=>_0x549688[_0x18531e(0x203)]===_0x550b46)[_0x18531e(0x86c)](_0x4f6a91=>_0x18531e(0x917)+_0x4f6a91[_0x18531e(0x459)]),_0xd98f22=_0xb9a6bb[_0x18531e(0xd05)](_0x9b3fd2=>_0x9b3fd2['correct']===_0x199148)[_0x18531e(0x86c)](_0x722d2e=>'ข้อ\x20'+_0x722d2e['index']),_0x3d1f32=_0xe0786f[_0x18531e(0x9a1)]((_0x1bb42b,_0x555930)=>_0x555930[_0x18531e(0x76b)]-_0x1bb42b['latestScore'])[_0x18531e(0xd05)]((_0x34a42e,_0x1e6fb6,_0x5378bb)=>_0x34a42e[_0x18531e(0x76b)]===_0x5378bb[0x0]['latestScore']),_0x4495c6=_0xe0786f[_0x18531e(0x9a1)]((_0xfc00d9,_0x1edf69)=>_0xfc00d9['latestScore']-_0x1edf69[_0x18531e(0x76b)])[_0x18531e(0xd05)]((_0x2f8104,_0x28aff5,_0x290026)=>_0x2f8104['latestScore']===_0x290026[0x0][_0x18531e(0x76b)]),_0x43052d=_0x18531e(0x1d4)+_0x4b7fcd[_0x18531e(0x15d)](',\x20')+_0x18531e(0x7e2)+_0x550b46+'\x20/\x20'+_0x3b6522+_0x18531e(0xa71)+_0xd98f22[_0x18531e(0x15d)](',\x20')+_0x18531e(0x7e2)+(_0x3b6522-_0x199148)+_0x18531e(0x6eb)+_0x3b6522+_0x18531e(0x3a9)+_0x3d1f32[_0x18531e(0x86c)](_0xd7ffb5=>_0xd7ffb5[_0x18531e(0x1af)])[_0x18531e(0x15d)](',\x20')+_0x18531e(0x56a)+_0x3d1f32[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x4495c6[_0x18531e(0x86c)](_0xf21924=>_0xf21924[_0x18531e(0x1af)])[_0x18531e(0x15d)](',\x20')+_0x18531e(0x56a)+_0x4495c6[0x0][_0x18531e(0x76b)]+_0x18531e(0x310);_0xd9314b[_0x18531e(0xc7e)]=_0x43052d;}function renderSubmissionChart(_0x2dc1c3,_0x44d5bb,_0x59ed57,_0xd8097b){const _0x4349c8=_0x4813c4,_0x8bcd56=document['getElementById'](_0x4349c8(0x44a))['getContext']('2d'),_0x21073c=_0x59ed57[_0x4349c8(0x86c)](_0x30e46a=>_0x30e46a[_0x4349c8(0x1af)]),_0x4b0f8d=_0xd8097b[_0x4349c8(0xd05)](_0x53d672=>!_0x21073c[_0x4349c8(0xc4f)](_0x53d672));chartInstances[_0x4349c8(0x160)]&&chartInstances[_0x4349c8(0x160)]['destroy'](),chartInstances['submission']=new Chart(_0x8bcd56,{'type':'doughnut','data':{'labels':[_0x4349c8(0x4c6),_0x4349c8(0xb40)],'datasets':[{'data':[_0x2dc1c3,_0x44d5bb],'backgroundColor':[_0x4349c8(0x467),_0x4349c8(0xcef)],'borderColor':[_0x4349c8(0x870),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x4349c8(0x8f2)},'tooltip':{'callbacks':{'label':function(_0x5eef21){const _0x599011=_0x4349c8;let _0x2cbe8e=_0x5eef21[_0x599011(0x41c)]||'';return _0x2cbe8e&&(_0x2cbe8e+=':\x20'),_0x2cbe8e+=_0x5eef21[_0x599011(0xbc5)],_0x2cbe8e;},'afterLabel':function(_0x5bd96d){const _0x56ef53=_0x4349c8;let _0x2d6d6c;return _0x5bd96d[_0x56ef53(0x82f)]===0x0?_0x2d6d6c=_0x21073c:_0x2d6d6c=_0x4b0f8d,_0x2d6d6c[_0x56ef53(0xdbe)]>0x0?_0x2d6d6c['join']('\x0a'):_0x56ef53(0x2da);}}}}}});}function renderScoreDistributionChart(_0x5de5a1,_0x279a83){const _0x44899c=_0x4813c4,_0x4a2f26=document['getElementById'](_0x44899c(0xc6e))[_0x44899c(0x8e6)]('2d'),_0x1c45d2={};for(let _0x3e7ffa=0x0;_0x3e7ffa<=_0x279a83;_0x3e7ffa++){_0x1c45d2[_0x3e7ffa]=0x0;}_0x5de5a1[_0x44899c(0x140)](_0x1624ab=>{const _0x1f3ca8=_0x44899c;_0x1c45d2[_0x1624ab[_0x1f3ca8(0x76b)]]!==undefined&&_0x1c45d2[_0x1624ab[_0x1f3ca8(0x76b)]]++;}),chartInstances[_0x44899c(0x863)]&&chartInstances[_0x44899c(0x863)][_0x44899c(0x8ac)](),chartInstances[_0x44899c(0x863)]=new Chart(_0x4a2f26,{'type':_0x44899c(0x599),'data':{'labels':Object['keys'](_0x1c45d2),'datasets':[{'label':_0x44899c(0xe17),'data':Object[_0x44899c(0x3fb)](_0x1c45d2),'backgroundColor':_0x44899c(0x851),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x44899c(0x6f7)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x53fcd9){const _0x394efa=_0x44899c,_0x51f1f2=_0x53fcd9[_0x394efa(0x41c)],_0xc78f0a=_0x5de5a1[_0x394efa(0xd05)](_0x4a4ba9=>_0x4a4ba9['latestScore']==_0x51f1f2)['map'](_0xa3a107=>_0xa3a107[_0x394efa(0x1af)]);return _0xc78f0a[_0x394efa(0xdbe)]>0x0?_0xc78f0a[_0x394efa(0x15d)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x3d47a0,_0x52ce14,_0x310a88){const _0x3e3e3e=_0x4813c4,_0x1dd48e=document[_0x3e3e3e(0x3a5)](_0x3e3e3e(0x640));if(_0x310a88[_0x3e3e3e(0xdbe)]===0x0){_0x1dd48e[_0x3e3e3e(0xc7e)]=_0x3e3e3e(0x7d0);return;}const _0x378182=calculateItemAnalysis(_0x3d47a0,_0x52ce14),_0x2847e0=calculateDistractorAnalysis(_0x3d47a0,_0x52ce14);let _0x3e97e8='';_0x378182[_0x3e3e3e(0xd8a)]&&(_0x3e97e8=_0x3e3e3e(0x1d6)+_0x378182['overallGroups']['upperGroupNames'][_0x3e3e3e(0xdbe)]+_0x3e3e3e(0x9c2)+_0x378182[_0x3e3e3e(0xd8a)][_0x3e3e3e(0x62c)][_0x3e3e3e(0x86c)](_0x46a31d=>_0x3e3e3e(0xe12)+_0x46a31d+_0x3e3e3e(0x979))[_0x3e3e3e(0x15d)]('')+_0x3e3e3e(0x904)+_0x378182['overallGroups'][_0x3e3e3e(0xdb9)][_0x3e3e3e(0xdbe)]+_0x3e3e3e(0x9c2)+_0x378182[_0x3e3e3e(0xd8a)][_0x3e3e3e(0xdb9)]['map'](_0x57321a=>'<li>'+_0x57321a+_0x3e3e3e(0x979))[_0x3e3e3e(0x15d)]('')+_0x3e3e3e(0x95));let _0x39f1b5='';const _0x7dfcf8=_0x52ce14[_0x3e3e3e(0x86c)](_0x6de3db=>_0x6de3db[_0x3e3e3e(0x1af)]),_0x772264=_0x3f8392=>{const _0x2e9ab5=_0x3e3e3e;if(_0x3f8392>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x3f8392>=0.6)return _0x2e9ab5(0x526);if(_0x3f8392>=0.4)return _0x2e9ab5(0x198);if(_0x3f8392>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x24a149=_0x3b2f9c=>{const _0x3ce5b4=_0x3e3e3e;if(_0x3b2f9c<0x0)return _0x3ce5b4(0x3e4);if(_0x3b2f9c>=0.4)return _0x3ce5b4(0x29f);if(_0x3b2f9c>=0.3)return _0x3ce5b4(0xb1b);if(_0x3b2f9c>=0.2)return _0x3ce5b4(0x3a6);return _0x3ce5b4(0x742);},_0x453dc4=_0x5d0547=>{const _0x14382c=_0x3e3e3e,_0x487785=_0x5d0547[_0x14382c(0x8bd)](0x0);if(parseFloat(_0x487785)===0x64)return _0x14382c(0xa51)+_0x487785+_0x14382c(0xa0b);if(_0x5d0547>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x487785+_0x14382c(0xa0b);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x487785+_0x14382c(0xa0b);};_0x3d47a0[_0x3e3e3e(0x1bc)][_0x3e3e3e(0x140)]((_0x188f96,_0x4f68cb)=>{const _0x26d0fc=_0x3e3e3e,_0x247f44=_0x378182['perQuestionStats'][_0x4f68cb],_0x1c1534=_0x2847e0[_0x4f68cb],_0x4d02ff=_0x188f96['stem']||_0x188f96[_0x26d0fc(0x929)]||_0x188f96[_0x26d0fc(0x3f0)];let _0x337ec2=0x0;const _0x23be12=[],_0x406550=[];_0x52ce14[_0x26d0fc(0x140)](_0x19ea0b=>{const _0x5573cb=_0x26d0fc,_0x2d8b75=_0x19ea0b[_0x5573cb(0xb6a)][_0x19ea0b[_0x5573cb(0xb6a)][_0x5573cb(0xdbe)]-0x1];if(_0x2d8b75&&_0x2d8b75['answers']){const _0x2b972e=_0x2d8b75[_0x5573cb(0x1b8)][_0x5573cb(0x5d9)](_0x58a524=>_0x58a524[_0x5573cb(0xb8e)]===_0x4d02ff)??_0x2d8b75[_0x5573cb(0x1b8)][_0x4f68cb]??null;_0x2b972e&&(_0x2b972e[_0x5573cb(0x8a)]?(_0x337ec2++,_0x23be12[_0x5573cb(0x8a5)](_0x19ea0b[_0x5573cb(0x1af)])):_0x406550[_0x5573cb(0x8a5)](_0x19ea0b[_0x5573cb(0x1af)]));}});const _0x78a2d6=_0x52ce14[_0x26d0fc(0xdbe)]>0x0?_0x337ec2/_0x52ce14[_0x26d0fc(0xdbe)]*0x64:0x0,_0x2d9131=_0x310a88[_0x26d0fc(0xd05)](_0x53b962=>!_0x7dfcf8[_0x26d0fc(0xc4f)](_0x53b962)),_0x1d4197=_0x247f44?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x247f44['p'][_0x26d0fc(0x8bd)](0x2)+_0x26d0fc(0xb1d)+_0x772264(_0x247f44['p'])+_0x26d0fc(0x6ed)+_0x247f44['r'][_0x26d0fc(0x8bd)](0x2)+_0x26d0fc(0xb1d)+_0x24a149(_0x247f44['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x453dc4(_0x78a2d6)+_0x26d0fc(0x251):'';let _0x521140='';_0x1c1534&&(_0x521140=_0x26d0fc(0x2f7)+Object[_0x26d0fc(0xaab)](_0x1c1534)[_0x26d0fc(0x86c)](_0xa2ea0c=>{const _0x3d25eb=_0x26d0fc,_0x35fd36=_0x1c1534[_0xa2ea0c],_0x5115c2=parseInt(_0xa2ea0c)===_0x188f96[_0x3d25eb(0x54b)],_0x3ae3ea=!_0x5115c2&&_0x35fd36['lower_group_count']>_0x35fd36[_0x3d25eb(0x90a)];return _0x3d25eb(0xcb7)+(_0x5115c2?_0x3d25eb(0xadb):'')+_0x3d25eb(0x9cd)+(_0x5115c2?'✔\x20':'')+_0x35fd36[_0x3d25eb(0xc97)]+_0x3d25eb(0x7a5)+_0x35fd36[_0x3d25eb(0x90a)]+_0x3d25eb(0x7a5)+_0x35fd36[_0x3d25eb(0x2e1)]+'\x20'+(_0x3ae3ea?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x35fd36[_0x3d25eb(0x7dd)]+_0x3d25eb(0x9b8);})['join']('')+_0x26d0fc(0xce7));let _0x10e636='';_0x247f44&&_0x247f44[_0x26d0fc(0x89d)]&&(_0x10e636=_0x26d0fc(0x4ca)+_0x247f44[_0x26d0fc(0x89d)][_0x26d0fc(0xdbe)]+_0x26d0fc(0x93b)+_0x247f44[_0x26d0fc(0x89d)]['map'](_0x1be9f5=>_0x26d0fc(0xe12)+(_0x1be9f5[_0x26d0fc(0x8a)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x26d0fc(0x74b))+'\x20'+_0x1be9f5[_0x26d0fc(0x4a4)]+'</li>')[_0x26d0fc(0x15d)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x247f44[_0x26d0fc(0x780)][_0x26d0fc(0xdbe)]+_0x26d0fc(0x93b)+_0x247f44['lowerGroupResponders'][_0x26d0fc(0x86c)](_0x2a4681=>'<li>'+(_0x2a4681[_0x26d0fc(0x8a)]?_0x26d0fc(0x523):_0x26d0fc(0x74b))+'\x20'+_0x2a4681[_0x26d0fc(0x4a4)]+'</li>')['join']('')+_0x26d0fc(0x239)),_0x39f1b5+=_0x26d0fc(0xb06)+(_0x4f68cb+0x1)+':\x20'+_0x4d02ff+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x1d4197+_0x26d0fc(0xad7)+_0x4d02ff+_0x26d0fc(0xbe9)+_0x337ec2+_0x26d0fc(0x8e9)+_0x52ce14[_0x26d0fc(0xdbe)]+_0x26d0fc(0x754)+_0x78a2d6['toFixed'](0x0)+_0x26d0fc(0xd7f)+_0x23be12[_0x26d0fc(0xdbe)]+_0x26d0fc(0x50c)+(_0x23be12[_0x26d0fc(0xdbe)]>0x0?_0x23be12[_0x26d0fc(0x15d)](',\x20'):_0x26d0fc(0x2da))+_0x26d0fc(0xb4c)+_0x406550[_0x26d0fc(0xdbe)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x406550[_0x26d0fc(0xdbe)]>0x0?_0x406550['join'](',\x20'):_0x26d0fc(0x2da))+_0x26d0fc(0x217)+_0x2d9131[_0x26d0fc(0xdbe)]+_0x26d0fc(0x50c)+(_0x2d9131[_0x26d0fc(0xdbe)]>0x0?_0x2d9131[_0x26d0fc(0x15d)](',\x20'):_0x26d0fc(0x2da))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x521140+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10e636+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1dd48e[_0x3e3e3e(0xc7e)]=_0x3e97e8+_0x39f1b5;try{window['MathJax']&&MathJax[_0x3e3e3e(0xacf)]&&MathJax[_0x3e3e3e(0xacf)]([_0x1dd48e]);}catch(_0x2bfff7){console[_0x3e3e3e(0xabd)](_0x3e3e3e(0xc21),_0x2bfff7);}}function calculateDistractorAnalysis(_0x93f97,_0x42845f){const _0x44dfc4=_0x4813c4,_0x9a864e={};if(_0x42845f['length']<0x2)return _0x9a864e;const _0x347548=[..._0x42845f][_0x44dfc4(0x9a1)]((_0x126cd3,_0x4521b7)=>{const _0x55acc7=_0x44dfc4,_0x2b706f=_0x4521b7['latestScore']-_0x126cd3[_0x55acc7(0x76b)];if(_0x2b706f!==0x0)return _0x2b706f;const _0x3737cb=_0x126cd3[_0x55acc7(0xb6a)]?.[_0x55acc7(0xdbe)]||0x1,_0x9e8d81=_0x4521b7['attempts']?.[_0x55acc7(0xdbe)]||0x1,_0x37ef72=_0x3737cb-_0x9e8d81;if(_0x37ef72!==0x0)return _0x37ef72;const _0x347e1b=new Date(_0x126cd3[_0x55acc7(0x73c)]),_0x58232c=new Date(_0x4521b7[_0x55acc7(0x73c)]),_0x1fb453=_0x347e1b-_0x58232c;if(_0x1fb453!==0x0)return _0x1fb453;return _0x126cd3[_0x55acc7(0x1af)][_0x55acc7(0x5f6)](_0x4521b7['studentName'],'th');}),_0xda5438=_0x347548[_0x44dfc4(0xdbe)],_0x651f09=Math[_0x44dfc4(0x4c9)](0x1,Math[_0x44dfc4(0x304)](_0xda5438*0.33)),_0x1ff309=_0x347548[_0x44dfc4(0xa8a)](0x0,_0x651f09),_0x29d1f3=_0x347548[_0x44dfc4(0xa8a)](-_0x651f09);return _0x93f97[_0x44dfc4(0x1bc)][_0x44dfc4(0x140)]((_0x4d332b,_0x3afd85)=>{const _0x261c14=_0x44dfc4;if(_0x4d332b[_0x261c14(0x51d)]!==_0x261c14(0x260)||!_0x4d332b['options'])return;const _0x35dc25=_0x4d332b['questionText'],_0x48f558={};_0x4d332b[_0x261c14(0x7f6)][_0x261c14(0x140)]((_0x4a1926,_0x17082d)=>{_0x48f558[_0x17082d]={'text':_0x4a1926,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x347548[_0x261c14(0x140)](_0x2e7aed=>{const _0x58ea13=_0x261c14,_0x5f3dfb=_0x2e7aed['attempts'][_0x2e7aed[_0x58ea13(0xb6a)][_0x58ea13(0xdbe)]-0x1],_0x5bb609=_0x5f3dfb['answers'][_0x58ea13(0x5d9)](_0x187d27=>_0x187d27[_0x58ea13(0xb8e)]===_0x35dc25);if(_0x5bb609&&_0x5bb609[_0x58ea13(0xc1a)]!==null){const _0x24fea8=_0x4d332b[_0x58ea13(0x7f6)][_0x58ea13(0x978)](_0x304200=>_0x304200===_0x5bb609['answerText']);_0x24fea8!==-0x1&&_0x48f558[_0x24fea8]&&(_0x48f558[_0x24fea8][_0x58ea13(0x7dd)]++,_0x1ff309['includes'](_0x2e7aed)&&_0x48f558[_0x24fea8]['upper_group_count']++,_0x29d1f3['includes'](_0x2e7aed)&&_0x48f558[_0x24fea8]['lower_group_count']++);}}),_0x9a864e[_0x3afd85]=_0x48f558;}),_0x9a864e;}function calculateReliabilityKR20(_0x51ed13,_0x1416ee,_0x2f7855){const _0x5c37ab=_0x4813c4,_0x485ae7=_0x51ed13[_0x5c37ab(0x1bc)][_0x5c37ab(0xdbe)];if(_0x485ae7<0x2||_0x1416ee['length']<0x2)return null;const _0xa41f41=_0x1416ee[_0x5c37ab(0x86c)](_0x4abd84=>_0x4abd84[_0x5c37ab(0x76b)]),_0x452987=_0xa41f41[_0x5c37ab(0x4c5)]((_0x2dc2aa,_0x52fa6d)=>_0x2dc2aa+_0x52fa6d,0x0)/_0xa41f41[_0x5c37ab(0xdbe)],_0x583d42=_0xa41f41[_0x5c37ab(0x86c)](_0x49db9b=>Math['pow'](_0x49db9b-_0x452987,0x2))[_0x5c37ab(0x4c5)]((_0x13f1de,_0x2f6553)=>_0x13f1de+_0x2f6553,0x0)/_0xa41f41[_0x5c37ab(0xdbe)];if(_0x583d42===0x0)return null;let _0x1a391f=0x0;for(let _0x4139be=0x0;_0x4139be<_0x485ae7;_0x4139be++){const _0xa8c2d0=_0x2f7855[_0x4139be]?.['p'];if(_0xa8c2d0===undefined)continue;const _0x5618dc=0x1-_0xa8c2d0;_0x1a391f+=_0xa8c2d0*_0x5618dc;}if(_0x1a391f===0x0)return null;const _0x284812=_0x485ae7/(_0x485ae7-0x1)*(0x1-_0x1a391f/_0x583d42);if(_0x284812>0x1)return null;return _0x284812;}async function handleAnalyzeClass(){const _0x4df45a=_0x4813c4;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4df45a(0x66d));return;}const _0x59a813=collection(db,_0x4df45a(0x2b3)+appId+_0x4df45a(0x5e4)+currentQuizData['id']+_0x4df45a(0xbfd)),_0x211192=await getDocs(_0x59a813),_0x1034f8=_0x211192[_0x4df45a(0xb32)][_0x4df45a(0x86c)](_0x2c4a1a=>_0x2c4a1a[_0x4df45a(0x1ea)]());if(_0x1034f8[_0x4df45a(0xdbe)]<0x2){showMessage(_0x4df45a(0x387));return;}const _0x21dd33=document[_0x4df45a(0x3a5)](_0x4df45a(0x4db));_0x21dd33[_0x4df45a(0xc7e)]=_0x4df45a(0xdbb),document[_0x4df45a(0x3a5)](_0x4df45a(0xdc))[_0x4df45a(0x88c)]=!![];const _0x2bd171=_0x1034f8[_0x4df45a(0x86c)]((_0x1062f7,_0x302c6f)=>{const _0x55574d=_0x4df45a,_0x164347=_0x1062f7[_0x55574d(0xb6a)][_0x1062f7['attempts'][_0x55574d(0xdbe)]-0x1];if(!_0x164347)return'';return _0x55574d(0x5b5)+(_0x302c6f+0x1)+'\x20('+_0x1062f7[_0x55574d(0x1af)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x164347[_0x55574d(0x863)]+'/'+_0x1062f7[_0x55574d(0xad2)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x55574d(0xe22)](_0x164347[_0x55574d(0x1b8)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4df45a(0x15d)](_0x4df45a(0xc48)),_0x52a682=_0x4df45a(0x6ef)+currentQuizData[_0x4df45a(0x1e8)]+_0x4df45a(0xb47)+JSON[_0x4df45a(0xe22)](currentQuizData[_0x4df45a(0x1bc)])+_0x4df45a(0x15b)+_0x2bd171+_0x4df45a(0x7ad),_0x3a2141={'type':_0x4df45a(0xb09),'properties':{'classStrengths':{'type':_0x4df45a(0x7bb),'items':{'type':_0x4df45a(0x799)}},'classWeaknesses':{'type':_0x4df45a(0x7bb),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x4df45a(0x7bb),'items':{'type':_0x4df45a(0x799)}}},'required':['classStrengths',_0x4df45a(0x88f),_0x4df45a(0x123)]};try{const _0x5385df=await callAnalysisApi(_0x52a682,_0x3a2141);displayClassAnalysis(_0x5385df);}catch(_0x437df3){console[_0x4df45a(0xabd)](_0x4df45a(0x871),_0x437df3),_0x21dd33[_0x4df45a(0xc7e)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x437df3[_0x4df45a(0xbd0)]+'</p></div>';}finally{document['getElementById']('analyze-strengths-btn')[_0x4df45a(0x88c)]=![];}}function displayClassAnalysis(_0x2488fa){const _0x1e77fa=_0x4813c4,_0xd0e07b=document[_0x1e77fa(0x3a5)](_0x1e77fa(0x4db));if(!_0x2488fa){_0xd0e07b[_0x1e77fa(0xc7e)]=_0x1e77fa(0x9cc);return;}_0xd0e07b[_0x1e77fa(0xc7e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2488fa[_0x1e77fa(0x33f)][_0x1e77fa(0x86c)](_0x24bcf6=>'<li>'+_0x24bcf6+_0x1e77fa(0x979))[_0x1e77fa(0x15d)]('')+_0x1e77fa(0xb82)+_0x2488fa[_0x1e77fa(0x88f)][_0x1e77fa(0x86c)](_0x28b05e=>'<li>'+_0x28b05e+_0x1e77fa(0x979))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2488fa['teacherSuggestions']['map'](_0x4c2aee=>_0x1e77fa(0xe12)+_0x4c2aee+_0x1e77fa(0x979))[_0x1e77fa(0x15d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x26cf13,_0x4562d1){const _0x4b11ce=_0x4813c4,_0xe72893=_0x4b11ce(0xde5)+_0x26cf13[_0x4b11ce(0x1e8)]+_0x4b11ce(0x69c)+_0x26cf13[_0x4b11ce(0x1e8)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x26cf13[_0x4b11ce(0x1bc)][_0x4b11ce(0x86c)]((_0x47c2b3,_0x5a38be)=>_0x4b11ce(0x227)+(_0x5a38be+0x1)+'.\x20'+_0x47c2b3[_0x4b11ce(0x929)]+_0x4b11ce(0x7cb)+(_0x47c2b3[_0x4b11ce(0x690)]?_0x4b11ce(0x86b)+_0x47c2b3[_0x4b11ce(0x690)]+'</div>':'')+_0x4b11ce(0xbd9))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4562d1[_0x4b11ce(0x3f6)]['write'](_0xe72893),_0x4562d1[_0x4b11ce(0x3f6)]['close'](),_0x4562d1[_0x4b11ce(0xc99)]=function(){setTimeout(()=>{const _0x301023=_0x3082;_0x4562d1[_0x301023(0x510)]();},0x3e8);};}async function generateWorksheet(){const _0x12d187=_0x4813c4,_0x2b6ffd=document[_0x12d187(0x3a5)](_0x12d187(0x458))['value']['trim']();if(!_0x2b6ffd){showMessage(_0x12d187(0x288));return;}const _0x5edbd9=document[_0x12d187(0x3a5)](_0x12d187(0x361))[_0x12d187(0x2e0)],_0x2b1781=_0x5edbd9?'':_0x12d187(0x767),_0x1471d9=window[_0x12d187(0x54c)]('',_0x12d187(0x9b2));_0x1471d9[_0x12d187(0x3f6)][_0x12d187(0x402)]('<h1></h1>');const _0x141c32=parseInt(document[_0x12d187(0x3a5)](_0x12d187(0x118))[_0x12d187(0x909)]),_0x39d367=document['getElementById'](_0x12d187(0x4a1))[_0x12d187(0x2e0)],_0x2309c2=_0x39d367?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x5d797f=_0x12d187(0x827)+_0x2b1781+_0x12d187(0x49b)+_0x141c32+_0x12d187(0x8e2)+_0x2b6ffd+_0x12d187(0x76f)+_0x2309c2+_0x12d187(0x685)+simpleMathPrompt+_0x12d187(0x297),_0x2aee3b={'type':_0x12d187(0xb09),'properties':{'topic':{'type':_0x12d187(0x799)},'questions':{'type':_0x12d187(0x7bb),'items':{'type':_0x12d187(0xb09),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x12d187(0x799)}},'required':[_0x12d187(0x929)]}}},'required':[_0x12d187(0x1e8),'questions']};document[_0x12d187(0x3a5)](_0x12d187(0x3ba))['textContent']='',document[_0x12d187(0x3a5)](_0x12d187(0x69a))[_0x12d187(0xcde)]['remove'](_0x12d187(0xc15)),document[_0x12d187(0x3a5)]('quiz-generation-area')['classList'][_0x12d187(0xa30)](_0x12d187(0xc15)),generateWorksheetBtn['disabled']=!![];try{const _0x1f09ef=await callAnalysisApi(_0x5d797f,_0x2aee3b);formatAndPrintWorksheet(_0x1f09ef,_0x1471d9);}catch(_0x49995f){console[_0x12d187(0xabd)](_0x12d187(0x724),_0x49995f);if(_0x1471d9)_0x1471d9[_0x12d187(0xcaf)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x12d187(0x3a5)]('loader')[_0x12d187(0xcde)][_0x12d187(0x483)](_0x12d187(0xc15)),document[_0x12d187(0x3a5)](_0x12d187(0x8bc))[_0x12d187(0xcde)][_0x12d187(0x483)](_0x12d187(0xc15)),generateWorksheetBtn[_0x12d187(0x88c)]=![];}}async function callAnalysisApi(_0x1019e4,_0xaf8300){const _0x96d75c=_0x4813c4,_0x565cd9={'contents':[{'role':_0x96d75c(0x791),'parts':[{'text':_0x1019e4}]}],'generationConfig':{'responseMimeType':_0x96d75c(0x6b6),'responseSchema':_0xaf8300}},_0x568047=_0x96d75c(0x1f3),_0x490f6b=_0x96d75c(0x347)+_0x568047,_0x4a8675=await fetch(_0x490f6b,{'method':_0x96d75c(0x89a),'headers':{'Content-Type':'application/json'},'body':JSON[_0x96d75c(0xe22)](_0x565cd9)});if(!_0x4a8675['ok'])throw new Error(_0x96d75c(0xb93)+_0x4a8675[_0x96d75c(0xd0e)]);const _0x153eb4=await _0x4a8675['json']();if(_0x153eb4[_0x96d75c(0xc8f)]?.[0x0]?.['content']?.['parts']?.[0x0])return JSON[_0x96d75c(0x452)](_0x153eb4[_0x96d75c(0xc8f)][0x0]['content']['parts'][0x0][_0x96d75c(0xc97)]);else{let _0x2be5c6=_0x96d75c(0x4f3);if(_0x153eb4[_0x96d75c(0x58a)]?.['blockReason'])_0x2be5c6=_0x96d75c(0x3c1)+_0x153eb4[_0x96d75c(0x58a)][_0x96d75c(0x7c1)]+'.';else _0x153eb4[_0x96d75c(0xc8f)]?.[0x0]?.[_0x96d75c(0x319)]&&_0x153eb4[_0x96d75c(0xc8f)][0x0][_0x96d75c(0x319)]!==_0x96d75c(0xb9f)&&(_0x2be5c6=_0x96d75c(0x708)+_0x153eb4[_0x96d75c(0xc8f)][0x0][_0x96d75c(0x319)]+'.');console[_0x96d75c(0xabd)](_0x2be5c6,JSON[_0x96d75c(0xe22)](_0x153eb4));throw new Error(_0x2be5c6);}}async function handleStartSyncMode(_0x505bc7,_0x374e7f=![],_0x1402c5=_0x4813c4(0xba3)){const _0x18da72=_0x4813c4,_0x20d186=allQuizzes[_0x18da72(0x5d9)](_0x2f369a=>_0x2f369a['id']===_0x505bc7)||allQuizzesGlobal[_0x18da72(0x5d9)](_0x33c492=>_0x33c492['id']===_0x505bc7);if(!_0x20d186){showMessage(_0x18da72(0x776));return;}currentQuizData=getShuffledQuiz(_0x20d186);const _0x77c107=Math[_0x18da72(0x304)](0x3e8+Math[_0x18da72(0x89e)]()*0x2328)['toString'](),_0xe20596=doc(db,_0x18da72(0x2b3)+appId+_0x18da72(0xa9c),_0x20d186[_0x18da72(0xb91)]),_0x13465f=await getDoc(_0xe20596);if(!_0x13465f[_0x18da72(0x3ea)]()){showMessage(_0x18da72(0xae6));return;}const _0x540d38=_0x13465f['data']()[_0x18da72(0x3a0)]||[],_0x28d683={};if(_0x1402c5==='anonymous'||_0x1402c5==='anonymous_reveal_end'){const _0x161ef2=[...ANONYMOUS_NAMES][_0x18da72(0x9a1)](()=>0.5-Math[_0x18da72(0x89e)]());_0x540d38[_0x18da72(0x140)]((_0x33688b,_0xe2e69d)=>{_0x28d683[_0x33688b]=_0x161ef2[_0xe2e69d]||'ผู้เล่น\x20'+(_0xe2e69d+0x1);});}const _0x34be6c=document[_0x18da72(0x3a5)]('sync-timer-enable-checkbox')[_0x18da72(0x2e0)],_0x17e8cc=parseInt(document[_0x18da72(0x3a5)](_0x18da72(0x194))[_0x18da72(0x909)],0xa);let _0x275cfe={'timerMode':_0x18da72(0xa8c),'timerDuration':0x0};_0x34be6c&&(_0x275cfe[_0x18da72(0x1a9)]='per_question',_0x275cfe[_0x18da72(0x4bc)]=_0x17e8cc||0xf0);const _0x5b32c6=document[_0x18da72(0x3a5)](_0x18da72(0x2c4))[_0x18da72(0x2e0)],_0x1c9538=document[_0x18da72(0x3a5)]('enable-black-market-checkbox')['checked'];try{const _0x1e821d=await addDoc(collection(db,_0x18da72(0x2b3)+appId+_0x18da72(0xa04)),{'quizId':_0x20d186['id'],'pin':_0x77c107,'status':_0x18da72(0x1b6),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x374e7f,'players':{},'gameVariant':_0x1402c5,'reviewQuestionIndex':0x0,'playerNicknames':_0x28d683,'isAnonymousRevealed':![],..._0x275cfe,'showAnswerInAnonymous':_0x5b32c6,'isBlackMarketEnabled':_0x1c9538});currentLiveGameId=_0x1e821d['id'],showView(_0x18da72(0x2cd)),renderSyncLobbyView(_0x77c107,_0x20d186[_0x18da72(0x1e8)]),listenForSyncGameUpdates();const _0x4a49ea={'gameId':currentLiveGameId,'mode':_0x18da72(0x66c),'role':_0x18da72(0xa16)};sessionStorage[_0x18da72(0x24c)]('activeGameSession',JSON['stringify'](_0x4a49ea));}catch(_0x521fbb){console[_0x18da72(0xabd)](_0x18da72(0xc9),_0x521fbb),showMessage(_0x18da72(0x14f));}}function calculateFinalPodiumScores(_0x1937ed){const _0x541673=_0x4813c4;if(!_0x1937ed||!_0x1937ed['shuffledQuiz']||!_0x1937ed[_0x541673(0x2e8)])return _0x1937ed['players']||{};const _0x17cf37=_0x1937ed[_0x541673(0x953)][_0x541673(0x1bc)]['length'],_0x343932=JSON[_0x541673(0x452)](JSON[_0x541673(0xe22)](_0x1937ed[_0x541673(0x2e8)]));return Object[_0x541673(0x3fb)](_0x343932)[_0x541673(0x140)](_0x54370a=>{const _0x898dcb=_0x541673,_0x324909=_0x54370a['score']||0x0,_0x1c38a3=_0x54370a['totalPoints']||0x0;_0x17cf37>0x0&&_0x324909===_0x17cf37?_0x54370a[_0x898dcb(0xd7e)]=!![]:_0x54370a['hasPerfectScoreBonus']=![],_0x54370a[_0x898dcb(0x602)]=_0x324909,_0x54370a[_0x898dcb(0x183)]=_0x1c38a3;}),_0x343932;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x1b1272=_0x4813c4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x52ec08=doc(db,_0x1b1272(0x2b3)+appId+_0x1b1272(0xa04),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x52ec08,_0x179af5=>{const _0x124a50=_0x1b1272;if(!_0x179af5['exists']()){sessionStorage[_0x124a50(0xaf1)](_0x124a50(0x4d6)),showMessage(_0x124a50(0x79f));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x124a50(0x623)):showView('student');return;}cachedGameData=_0x179af5['data'](),cachedGameData['shuffledQuiz']&&(currentQuizData=cachedGameData['shuffledQuiz']),syncDataAndRender();});const _0x34aef6=collection(db,_0x1b1272(0x2b3)+appId+_0x1b1272(0xde9)+currentLiveGameId+_0x1b1272(0x63d));if(currentMode===_0x1b1272(0xa16))unsubscribePlayersCollectionListener=onSnapshot(_0x34aef6,_0x3d232a=>{const _0x1b94f8=_0x1b1272;_0x3d232a[_0x1b94f8(0x147)]()[_0x1b94f8(0x140)](_0x278038=>{const _0x5eb1f4=_0x1b94f8;if(_0x278038[_0x5eb1f4(0x680)]===_0x5eb1f4(0xc88)||_0x278038[_0x5eb1f4(0x680)]==='modified')cachedPlayerData[_0x278038[_0x5eb1f4(0x3c0)]['id']]=_0x278038[_0x5eb1f4(0x3c0)][_0x5eb1f4(0x1ea)]();else _0x278038[_0x5eb1f4(0x680)]==='removed'&&delete cachedPlayerData[_0x278038['doc']['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x1b1272(0xdbe)]>0x0){const _0x309a03=query(_0x34aef6,where(_0x1b1272(0x4a4),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x309a03,_0x3e9fee=>{const _0x11e86c=_0x1b1272;_0x3e9fee[_0x11e86c(0x147)]()[_0x11e86c(0x140)](_0x2ce24b=>{const _0x33170f=_0x11e86c;(_0x2ce24b[_0x33170f(0x680)]===_0x33170f(0xc88)||_0x2ce24b[_0x33170f(0x680)]===_0x33170f(0x4ce))&&(cachedPlayerData[_0x2ce24b[_0x33170f(0x3c0)]['id']]=_0x2ce24b[_0x33170f(0x3c0)][_0x33170f(0x1ea)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0xec36cb=_0x4813c4;if(!cachedGameData)return;const _0x11b07d={},_0x4a40b3=cachedGameData[_0xec36cb(0xd3d)];Object[_0xec36cb(0xaab)](cachedPlayerData)[_0xec36cb(0x140)](_0x11a701=>{const _0x5c86c0=_0xec36cb,_0x101f3b=cachedPlayerData[_0x11a701],_0x125c4a=_0x101f3b['answers']&&_0x101f3b['answers']['some'](_0x110baa=>_0x110baa[_0x5c86c0(0x792)]===_0x4a40b3);_0x11b07d[_0x11a701]={..._0x101f3b,'answered':_0x125c4a};});const _0x1661ee={...cachedGameData,'players':_0x11b07d};currentMode===_0xec36cb(0xa16)?updateAdminSyncView(_0x1661ee):updateStudentSyncView(_0x1661ee);}function renderSyncLobbyView(_0x21f59b,_0x3460bc){const _0x497fd6=_0x4813c4;liveGameView[_0x497fd6(0xc7e)]=_0x497fd6(0x94)+_0x3460bc+_0x497fd6(0xd58)+_0x21f59b+_0x497fd6(0x2be);const _0x1d485f=document[_0x497fd6(0x3a5)]('confidence-scoring-toggle'),_0x575420=document[_0x497fd6(0x3a5)](_0x497fd6(0x770));_0x1d485f[_0x497fd6(0x9f0)](_0x497fd6(0xdff),()=>{const _0x48381f=_0x497fd6;_0x575420['style'][_0x48381f(0x4c3)]=_0x1d485f['checked']?_0x48381f(0xca2):_0x48381f(0xa8c);}),document['getElementById'](_0x497fd6(0x97f))['addEventListener']('click',async()=>{const _0x17280d=_0x497fd6,_0x54cbcf=doc(db,_0x17280d(0x2b3)+appId+'/public/data/syncGames',currentLiveGameId),_0x2ddada=document[_0x17280d(0x3a5)](_0x17280d(0xc38))[_0x17280d(0x2e0)];await updateDoc(_0x54cbcf,{'status':_0x17280d(0x8a8),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x2ddada});});}function updateAdminSyncView(_0x4d4bd2){const _0x3225d7=_0x4813c4;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x4d4bd2[_0x3225d7(0xd0e)]){case _0x3225d7(0x1b6):renderSyncLobbyView(_0x4d4bd2[_0x3225d7(0x5db)],_0x4d4bd2[_0x3225d7(0x953)]['topic']);const _0x11135c=Object[_0x3225d7(0x342)](_0x4d4bd2[_0x3225d7(0x2e8)]||{})[_0x3225d7(0xd05)](([_0x5d9a9c,_0x3842be])=>_0x3842be['status']!==_0x3225d7(0x1d9));document[_0x3225d7(0x3a5)]('player-count')[_0x3225d7(0xd68)]=_0x11135c[_0x3225d7(0xdbe)],document[_0x3225d7(0x3a5)](_0x3225d7(0x5e6))[_0x3225d7(0xc7e)]=_0x11135c[_0x3225d7(0x86c)](([_0x1bf69d,_0x231204])=>_0x3225d7(0x1eb)+_0x1bf69d+_0x3225d7(0x209)+_0x1bf69d+_0x3225d7(0x7a2))['join']('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x3225d7(0x3a5)](_0x3225d7(0x97f))[_0x3225d7(0x88c)]=_0x11135c[_0x3225d7(0xdbe)]===0x0;break;case _0x3225d7(0x8a8):const _0x5ed146=Object[_0x3225d7(0x3fb)](_0x4d4bd2[_0x3225d7(0x2e8)]||{})[_0x3225d7(0xd05)](_0x4876b6=>_0x4876b6[_0x3225d7(0xd0e)]!==_0x3225d7(0x1d9)),_0x43839f=_0x5ed146[_0x3225d7(0xd05)](_0x5cbd76=>_0x5cbd76[_0x3225d7(0x95e)])['length'],_0x10b57a=_0x43839f===_0x5ed146[_0x3225d7(0xdbe)]&&_0x5ed146['length']>0x0;if(_0x10b57a&&_0x4d4bd2[_0x3225d7(0xd0e)]===_0x3225d7(0x8a8)){const _0x572228=doc(db,_0x3225d7(0x2b3)+appId+_0x3225d7(0xa04),currentLiveGameId);updateDoc(_0x572228,{'status':_0x3225d7(0x494)});return;}if(document['getElementById'](_0x3225d7(0x9e3))===null)renderAdminSyncQuestionView(_0x4d4bd2);else{const _0x2529fc=document[_0x3225d7(0x3a5)](_0x3225d7(0xcd5));_0x2529fc&&(_0x2529fc[_0x3225d7(0xd68)]=_0x43839f+'/'+_0x5ed146[_0x3225d7(0xdbe)]);const _0x408efb=document[_0x3225d7(0x3a5)](_0x3225d7(0xd6));_0x408efb&&(_0x408efb[_0x3225d7(0xc7e)]=_0x5ed146[_0x3225d7(0x86c)](_0x245d75=>{const _0x48f05b=_0x3225d7,_0x58adef=_0x245d75[_0x48f05b(0x95e)]?_0x48f05b(0x490):_0x48f05b(0x528),_0x39c1d8=_0x245d75[_0x48f05b(0x95e)]?_0x48f05b(0x225):_0x48f05b(0x6a6);return _0x48f05b(0xbb9)+_0x58adef+'\x22>'+_0x39c1d8+_0x48f05b(0x957)+_0x245d75[_0x48f05b(0x4a4)]+_0x48f05b(0x4ff)+_0x245d75['name']+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>';})['join'](''));}const _0x3199be=_0x4d4bd2['timerMode']===_0x3225d7(0xade)&&_0x4d4bd2[_0x3225d7(0x30c)];if(_0x3199be){const _0x210e3d=_0x4d4bd2[_0x3225d7(0x30c)][_0x3225d7(0xdbd)]()[_0x3225d7(0xc54)](),_0x805f24=_0x4d4bd2[_0x3225d7(0x4bc)]*0x3e8,_0x2d3969=_0x210e3d+_0x805f24,_0xd14068=document[_0x3225d7(0x3a5)](_0x3225d7(0x7bf)),_0x1d4ac0=document[_0x3225d7(0x3a5)]('sync-timer-countdown');syncQuestionTimerInterval=setInterval(()=>{const _0x4b1911=_0x3225d7,_0x4c280c=Date['now'](),_0x5ac8ef=_0x5ed146[_0x4b1911(0xdbe)]>0x0&&_0x5ed146[_0x4b1911(0x441)](_0x3de65a=>{const _0x27ed3a=_0x4b1911;if(_0x3de65a[_0x27ed3a(0x95e)])return!![];const _0x593dd2=_0x3de65a[_0x27ed3a(0x20d)]||0x0;return _0x4c280c>=_0x210e3d+_0x805f24+_0x593dd2;});if(_0x5ac8ef){clearInterval(syncQuestionTimerInterval);const _0x4896b9=doc(db,'artifacts/'+appId+_0x4b1911(0xa04),currentLiveGameId);updateDoc(_0x4896b9,{'status':_0x4b1911(0x494)});return;}const _0x584ccb=_0x2d3969-_0x4c280c;if(_0x584ccb<=0x0){if(_0xd14068)_0xd14068[_0x4b1911(0x40d)][_0x4b1911(0x7e9)]='0%';if(_0x1d4ac0)_0x1d4ac0['textContent']=_0x4b1911(0xd10);}else{if(_0xd14068&&_0x1d4ac0){const _0x24f5bc=_0x584ccb/_0x805f24*0x64;_0xd14068['style']['width']=_0x24f5bc+'%',_0x1d4ac0[_0x4b1911(0xd68)]=Math[_0x4b1911(0x6ba)](_0x584ccb/0x3e8);}}},0x1f4);}break;case'summary':const _0x1e5280=_0x4d4bd2[_0x3225d7(0xd3d)],_0x34fbc3=_0x4d4bd2[_0x3225d7(0x953)][_0x3225d7(0x1bc)][_0x1e5280];renderSyncSummaryView(_0x4d4bd2,_0x34fbc3,!![]);break;case _0x3225d7(0x53f):const _0x46f93e=_0x4d4bd2[_0x3225d7(0x255)]||_0x3225d7(0xba3);_0x46f93e==='reveal_at_end'||_0x46f93e===_0x3225d7(0xcb1)?renderAdminSyncDashboard(_0x4d4bd2,!![],_0x4d4bd2[_0x3225d7(0x97d)]):(_0x4d4bd2['status']===_0x3225d7(0x53f)&&!_0x4d4bd2[_0x3225d7(0xbf0)]&&((async()=>{const _0xc4843d=_0x3225d7;try{const _0x36bb35=doc(db,_0xc4843d(0x2b3)+appId+_0xc4843d(0xa04),currentLiveGameId);await updateDoc(_0x36bb35,{'scoresCalculated':!![]});const _0x45a5e0=cachedPlayerData||{},_0x2de4be=_0x4d4bd2[_0xc4843d(0x953)][_0xc4843d(0x1bc)]['length'],_0x19c0a4={};Object[_0xc4843d(0x3fb)](_0x45a5e0)[_0xc4843d(0x140)](_0x9161b3=>{const _0x2b6060=_0xc4843d;if(_0x9161b3[_0x2b6060(0xd0e)]!=='inactive'){const _0x189b51=_0x9161b3[_0x2b6060(0x4a4)],_0x307918=_0x9161b3['score']||0x0,_0x47e559=_0x9161b3[_0x2b6060(0x183)]||0x0;let _0x2a56e1=_0x47e559;_0x2de4be>0x0&&_0x307918===_0x2de4be&&(_0x2a56e1+=0x1),_0x19c0a4[_0x2b6060(0xb9a)+_0x189b51+_0x2b6060(0xd39)]=_0x307918,_0x19c0a4[_0x2b6060(0xb9a)+_0x189b51+'.totalPoints']=_0x2a56e1,_0x19c0a4['players.'+_0x189b51+_0x2b6060(0xde3)]=_0x2a56e1;}}),await updateDoc(_0x36bb35,{..._0x19c0a4});}catch(_0x4f7734){console[_0xc4843d(0xabd)](_0xc4843d(0x16e),_0x4f7734);}})()),renderAdminSyncDashboard(_0x4d4bd2,!![],_0x4d4bd2[_0x3225d7(0xd3d)]));break;case _0x3225d7(0x471):const _0x1fe5fa=Object[_0x3225d7(0xaab)](_0x4d4bd2[_0x3225d7(0x2e8)]||{})[_0x3225d7(0xdbe)]>0x0,_0x11b860=_0x4d4bd2[_0x3225d7(0x9f1)]===!![],_0x48c485=_0x4d4bd2[_0x3225d7(0x764)]===!![];_0x48c485&&!_0x11b860&&_0x1fe5fa&&saveGameResultsAsSubmissions(_0x4d4bd2);sessionStorage[_0x3225d7(0xaf1)](_0x3225d7(0x4d6));const _0x3c7564=calculateFinalPodiumScores(_0x4d4bd2);showPodiumView(_0x3c7564,'sync',_0x4d4bd2);break;}}function renderAdminSyncQuestionView(_0x4dcefc){const _0xe20606=_0x4813c4,_0x5c2423=_0x4dcefc[_0xe20606(0xd3d)],_0x5edd5d=_0x4dcefc['shuffledQuiz']['questions'][_0x5c2423],_0xb59036=_0x4dcefc['shuffledQuiz'][_0xe20606(0x1bc)]['length'],_0x5a733e=Object[_0xe20606(0x3fb)](_0x4dcefc[_0xe20606(0x2e8)]||{})[_0xe20606(0xd05)](_0x18234f=>_0x18234f[_0xe20606(0xd0e)]!==_0xe20606(0x1d9)),_0x548437=_0x5a733e['filter'](_0x6d92ef=>_0x6d92ef[_0xe20606(0x95e)])[_0xe20606(0xdbe)],_0x1dbdb9=_0x548437===_0x5a733e[_0xe20606(0xdbe)]&&_0x5a733e['length']>0x0,_0x35eee7=_0x5edd5d[_0xe20606(0x51d)]||_0x4dcefc[_0xe20606(0x953)]['quizType'],_0x113bcb=(_0x35eee7===_0xe20606(0x311)||_0x35eee7===_0xe20606(0x87d))&&_0x5edd5d[_0xe20606(0x7f6)]&&_0x5edd5d[_0xe20606(0x7f6)][_0xe20606(0xdbe)]>0x0;let _0x4e206e='';_0x113bcb?_0x4e206e=_0xe20606(0x49e):_0x4e206e=(_0x5edd5d['options']||[])[_0xe20606(0x86c)](_0x235cc7=>_0xe20606(0x7b3)+_0x235cc7+'</div>')[_0xe20606(0x15d)]('');let _0x26e659='';_0x4dcefc[_0xe20606(0x1a9)]==='per_question'&&(_0x26e659=_0xe20606(0x2b4)+_0x4dcefc[_0xe20606(0x4bc)]+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0xe20606(0xc7e)]=_0xe20606(0xded)+(_0x5c2423+0x1)+_0xe20606(0x6eb)+_0xb59036+_0xe20606(0xd4a)+_0x4dcefc[_0xe20606(0x5db)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x548437+'/'+_0x5a733e[_0xe20606(0xdbe)]+_0xe20606(0x429)+_0x26e659+_0xe20606(0xd4b)+(_0x5edd5d['questionText']||_0x5edd5d[_0xe20606(0xd4c)])+_0xe20606(0xd2)+_0x4e206e+_0xe20606(0x30d)+(!_0x1dbdb9?'disabled':'')+_0xe20606(0x8eb);if(window[_0xe20606(0xe2)])MathJax[_0xe20606(0xacf)]();const _0x48e3d0=doc(db,_0xe20606(0x2b3)+appId+'/public/data/syncGames',currentLiveGameId);document[_0xe20606(0x3a5)](_0xe20606(0xe08))[_0xe20606(0x9f0)](_0xe20606(0x79c),async()=>{const _0x12e745=_0xe20606;await updateDoc(_0x48e3d0,{'status':_0x12e745(0x494)});}),document[_0xe20606(0x3a5)]('open-sync-scratchpad-btn')['onclick']=()=>{const _0x568a7f=_0xe20606;openScratchpad(_0x5edd5d,_0x5edd5d[_0x568a7f(0x7f6)]||[]);},document['getElementById']('sync-manage-players-btn')[_0xe20606(0x9f0)](_0xe20606(0x79c),()=>{const _0x104b6c=_0xe20606;document[_0x104b6c(0x3a5)](_0x104b6c(0x9e3))['classList'][_0x104b6c(0x1a2)](_0x104b6c(0xc15));});const _0x1b3197=document['getElementById']('end-sync-game-btn');_0x1b3197&&(_0x1b3197[_0xe20606(0x8d)]=()=>{const _0x4b2649=_0xe20606;showConfirmation(_0x4b2649(0xdd),async()=>{const _0x30332c=_0x4b2649;await updateDoc(_0x48e3d0,{'status':_0x30332c(0x471)});});});}function renderSyncLeaderboardView(_0x442b01,_0x529227){const _0x47777d=_0x4813c4,_0x2f4ab5=Object[_0x47777d(0x3fb)](_0x442b01[_0x47777d(0x2e8)]||{});_0x2f4ab5[_0x47777d(0x9a1)]((_0x56c4e7,_0x53fbcf)=>_0x53fbcf[_0x47777d(0x863)]-_0x56c4e7[_0x47777d(0x863)]);const _0x471777=_0x2f4ab5[_0x47777d(0xa8a)](0x0,0x5);let _0x1e6d77='';if(_0x529227){const _0x5d6f20=_0x442b01[_0x47777d(0xd3d)]>=_0x442b01[_0x47777d(0x953)][_0x47777d(0x1bc)][_0x47777d(0xdbe)]-0x1;_0x1e6d77=_0x47777d(0x13b)+(_0x5d6f20?_0x47777d(0x906):_0x47777d(0xad9))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x1e6d77=_0x47777d(0x58c);liveGameView['innerHTML']=_0x47777d(0x88a)+_0x471777[_0x47777d(0x86c)]((_0x3d0bb8,_0xd1ffff)=>_0x47777d(0x373)+(_0xd1ffff+0x1)+'.\x20'+_0x3d0bb8[_0x47777d(0x4a4)]+_0x47777d(0xb7d)+_0x3d0bb8[_0x47777d(0x863)]+_0x47777d(0x358))['join']('')+_0x47777d(0x2a1)+_0x1e6d77+_0x47777d(0x364),_0x529227&&document[_0x47777d(0x3a5)]('next-sync-question-btn')[_0x47777d(0x9f0)]('click',async()=>{const _0x47f091=_0x47777d,_0x22f167=doc(db,_0x47f091(0x2b3)+appId+_0x47f091(0xa04),currentLiveGameId),_0x1392d0=_0x442b01[_0x47f091(0xd3d)]+0x1;if(_0x1392d0<_0x442b01[_0x47f091(0x953)][_0x47f091(0x1bc)]['length']){const _0x28e55e={};Object[_0x47f091(0xaab)](_0x442b01[_0x47f091(0x2e8)])[_0x47f091(0x140)](_0x2aa901=>{const _0x37d4b6=_0x47f091;_0x28e55e['players.'+_0x2aa901+_0x37d4b6(0x83e)]=![];}),await updateDoc(_0x22f167,{'status':'question','currentQuestionIndex':_0x1392d0,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x22f167,{'status':_0x47f091(0x471)});});}async function handleJoinSyncGame(){const _0x2ba5cc=_0x4813c4,_0x42595c=prompt(_0x2ba5cc(0x55f));if(!_0x42595c||_0x42595c['trim']()['length']!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x3aa76c=collection(db,_0x2ba5cc(0x2b3)+appId+_0x2ba5cc(0xa04)),_0xa285e=query(_0x3aa76c,where(_0x2ba5cc(0x5db),'==',_0x42595c[_0x2ba5cc(0x7f3)]()),where(_0x2ba5cc(0xd0e),'==','lobby')),_0x33eb78=await getDocs(_0xa285e);if(_0x33eb78[_0x2ba5cc(0xc3f)]){showMessage(_0x2ba5cc(0x861));return;}const _0x157cc6=_0x33eb78[_0x2ba5cc(0xb32)][0x0];currentLiveGameId=_0x157cc6['id'];const _0x5dadcc=_0x157cc6[_0x2ba5cc(0x1ea)](),_0x3d604c=doc(db,_0x2ba5cc(0x2b3)+appId+'/public/data/quizzes',_0x5dadcc[_0x2ba5cc(0x737)]),_0x59cbdc=await getDoc(_0x3d604c);if(!_0x59cbdc['exists']())throw new Error(_0x2ba5cc(0x418));const _0x371f43=_0x59cbdc[_0x2ba5cc(0x1ea)](),_0x26d632=doc(db,_0x2ba5cc(0x2b3)+appId+_0x2ba5cc(0xa9c),_0x371f43[_0x2ba5cc(0xb91)]),_0x52ac4f=await getDoc(_0x26d632);if(!_0x52ac4f[_0x2ba5cc(0x3ea)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x5dadcc[_0x2ba5cc(0x953)];const _0x306a58=_0x52ac4f[_0x2ba5cc(0x1ea)]();showView('student-team-join'),showTeamPlayerSelection(_0x306a58['students'],_0x371f43[_0x2ba5cc(0x1e8)]);const _0x582ead=document[_0x2ba5cc(0x3a5)]('confirm-team-players-btn');_0x582ead['onclick']=confirmAndJoinSyncGame;}catch(_0xb24b0a){console[_0x2ba5cc(0xabd)](_0x2ba5cc(0xc7a),_0xb24b0a),showMessage(_0x2ba5cc(0xa6c)+_0xb24b0a['message']);}}function updateStudentSyncView(_0x391b82){const _0x43410c=_0x4813c4,_0x1c655f=localTeamPlayers[0x0],_0x3384f4=_0x391b82[_0x43410c(0x2e8)][_0x1c655f]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x391b82[_0x43410c(0xd0e)]){case _0x43410c(0x1b6):showView(_0x43410c(0x2cd)),liveGameView[_0x43410c(0xc7e)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x43410c(0x8a8):if(_0x391b82[_0x43410c(0xd3d)]!==lastSeenQuestionIndex){console[_0x43410c(0x84)](_0x43410c(0x908)),sessionStorage[_0x43410c(0xaf1)]('powerupUsedThisTurn'),sessionStorage[_0x43410c(0xaf1)](_0x43410c(0x4fd)),sessionStorage[_0x43410c(0xaf1)]('pollUsedThisTurn');const _0x44f304='freeMarketEntryUsed_q'+lastSeenQuestionIndex,_0x42833a=_0x43410c(0x551)+lastSeenQuestionIndex,_0x180771=_0x43410c(0x35b)+lastSeenQuestionIndex;Object['keys'](sessionStorage)[_0x43410c(0x140)](_0x3c3eeb=>{const _0x585f09=_0x43410c;(_0x3c3eeb['startsWith'](_0x44f304)||_0x3c3eeb['startsWith'](_0x42833a)||_0x3c3eeb['startsWith'](_0x180771))&&sessionStorage[_0x585f09(0xaf1)](_0x3c3eeb);});if(_0x3384f4[_0x43410c(0x99a)]||_0x3384f4[_0x43410c(0x345)]||(_0x3384f4['timeBonusThisQuestion']||0x0)>0x0){const _0x29ba80=doc(db,_0x43410c(0x2b3)+appId+_0x43410c(0xde9)+currentLiveGameId+'/players',_0x1c655f);updateDoc(_0x29ba80,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x43410c(0x450)](_0x48ed5c=>console['error']('Auto-cleanup\x20failed:',_0x48ed5c));}lastSeenQuestionIndex=_0x391b82[_0x43410c(0xd3d)];}localPlayerTurnIndex=0x0;const _0x45a808=localTeamPlayers[_0x43410c(0x441)](_0x14398c=>_0x391b82[_0x43410c(0x2e8)][_0x14398c]?.['answered']===!![]);if(_0x45a808)liveGameView['innerHTML']=_0x43410c(0x77e);else{renderStudentSyncQuestionView(_0x391b82);if(_0x391b82[_0x43410c(0x1a9)]==='per_question'){if(!_0x391b82[_0x43410c(0x30c)]){console[_0x43410c(0x84)](_0x43410c(0x4de));return;}const _0x137bda=_0x391b82['questionDisplayedAt']['toDate']()[_0x43410c(0xc54)](),_0x6fe2d8=_0x391b82[_0x43410c(0x4bc)]*0x3e8,_0x2a067a=localTeamPlayers[_0x43410c(0x86c)](_0x2355d2=>_0x391b82[_0x43410c(0x2e8)][_0x2355d2]?.['timeBonusThisQuestion']||0x0),_0x503823=Math[_0x43410c(0x4c9)](..._0x2a067a,0x0),_0x421900=_0x137bda+_0x6fe2d8+_0x503823;syncQuestionTimerInterval=setInterval(()=>{const _0x5d6d32=_0x43410c,_0x55aab2=_0x421900-Date[_0x5d6d32(0x2d9)](),_0x4d248e=document[_0x5d6d32(0x3a5)]('sync-timer-bar'),_0x468442=document[_0x5d6d32(0x3a5)]('sync-timer-countdown');if(_0x55aab2<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x4d248e)_0x4d248e['style'][_0x5d6d32(0x7e9)]='0%';if(_0x468442)_0x468442['textContent']='0';liveGameView['innerHTML']=_0x5d6d32(0x1ec);}else{if(_0x4d248e&&_0x468442){const _0x5dcdc8=_0x6fe2d8+_0x503823,_0x4f5ef8=_0x5dcdc8>0x0?_0x55aab2/_0x5dcdc8*0x64:0x0;_0x4d248e[_0x5d6d32(0x40d)][_0x5d6d32(0x7e9)]=_0x4f5ef8+'%',_0x468442['textContent']=Math[_0x5d6d32(0x6ba)](_0x55aab2/0x3e8);}}},0x1f4);}}break;case _0x43410c(0x494):liveGameView[_0x43410c(0xc7e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x43410c(0x53f):localPlayerTurnIndex=0x0;const _0x39c55a=_0x391b82[_0x43410c(0x255)]||'classic';if(_0x39c55a==='anonymous'||_0x39c55a===_0x43410c(0xcb1))renderStudentAnonymousResultsView(_0x391b82,_0x391b82[_0x43410c(0xd3d)]);else _0x39c55a===_0x43410c(0x479)?renderStudentCompetitionResultsView(_0x391b82,_0x391b82[_0x43410c(0xd3d)]):renderStudentSyncResultsView(_0x391b82);break;case _0x43410c(0x471):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x43410c(0xb7),handleVisibilityChange),sessionStorage['removeItem'](_0x43410c(0x4d6));const _0x9b0950=_0x391b82['gameVariant']||'classic',_0x444069=_0x391b82[_0x43410c(0x953)][_0x43410c(0x1bc)][_0x43410c(0xdbe)]-0x1;if(_0x9b0950===_0x43410c(0xbba)||_0x9b0950==='anonymous_reveal_end')renderStudentAnonymousResultsView(_0x391b82,_0x444069);else _0x9b0950==='competition'?renderStudentCompetitionResultsView(_0x391b82,_0x444069):renderStudentSyncResultsView(_0x391b82);const _0x2336e9=liveGameView['querySelector'](_0x43410c(0x8c5));_0x2336e9&&(_0x2336e9['style']['display']=_0x43410c(0xa8c));const _0x1661e5=liveGameView[_0x43410c(0x169)](_0x43410c(0x24e));_0x1661e5&&(_0x1661e5[_0x43410c(0x40d)][_0x43410c(0x4c3)]=_0x43410c(0xa8c));const _0x55ad30=_0x43410c(0x6c2);liveGameView['firstElementChild']?liveGameView[_0x43410c(0x111)][_0x43410c(0xe03)](_0x43410c(0xce8),_0x55ad30):liveGameView[_0x43410c(0xe03)]('beforeend',_0x55ad30);break;}}function renderStudentSyncResultsView(_0x3b74c2){const _0x6b98bb=_0x4813c4;let _0x81851b=[];_0x3b74c2[_0x6b98bb(0x27b)]&&Array[_0x6b98bb(0xe18)](_0x3b74c2[_0x6b98bb(0x27b)])&&_0x3b74c2['publicLeaderboard'][_0x6b98bb(0xdbe)]>0x0?_0x81851b=_0x3b74c2[_0x6b98bb(0x27b)]:_0x81851b=Object[_0x6b98bb(0x3fb)](_0x3b74c2[_0x6b98bb(0x2e8)]||{});const _0x1d1549=_0x3b74c2[_0x6b98bb(0x255)]||_0x6b98bb(0xba3),_0x178347=_0x1d1549===_0x6b98bb(0x37a)||_0x1d1549===_0x6b98bb(0xcb1),_0x3864cb=_0x3b74c2['shuffledQuiz'][_0x6b98bb(0x1bc)],_0x384f01=_0x178347&&_0x3b74c2[_0x6b98bb(0x97d)]!==undefined?_0x3b74c2[_0x6b98bb(0x97d)]:_0x3b74c2[_0x6b98bb(0xd3d)],_0x35f16d=_0x178347?_0x3b74c2[_0x6b98bb(0x97d)]:_0x3b74c2['currentQuestionIndex'],_0x54d16e=_0x81851b[_0x6b98bb(0x86c)](_0x3c652e=>{const _0x60a266=_0x6b98bb,_0x2bfd6d=(_0x3c652e['answers']||[])[_0x60a266(0xd05)](_0x407896=>_0x407896[_0x60a266(0x792)]<=_0x384f01);let _0x160747=0x0,_0x593e3a=0x0;_0x178347?(_0x160747=_0x2bfd6d[_0x60a266(0xd05)](_0x505a81=>_0x505a81[_0x60a266(0x8a)])[_0x60a266(0xdbe)],_0x593e3a=_0x2bfd6d[_0x60a266(0x4c5)]((_0x49c990,_0x27f437)=>_0x49c990+(_0x27f437[_0x60a266(0xae4)]||0x0),0x0)):(_0x160747=_0x3c652e[_0x60a266(0x863)]||0x0,_0x593e3a=_0x3c652e[_0x60a266(0x183)]||0x0);const _0x39be7e=[..._0x2bfd6d][_0x60a266(0x9a1)]((_0x2b242a,_0x52f634)=>_0x2b242a['questionIndex']-_0x52f634[_0x60a266(0x792)]);let _0xc8073=0x0;return _0x39be7e[_0x60a266(0x140)](_0x35388b=>{const _0x5b94a1=_0x60a266,_0x394c26=_0x35388b[_0x5b94a1(0xc42)]&&_0x35388b[_0x5b94a1(0xc42)]!=='wagerMultiplier'||_0x35388b[_0x5b94a1(0x45f)];_0x35388b[_0x5b94a1(0x8a)]?_0xc8073=_0x394c26?0x0:_0xc8073+0x1:_0xc8073=0x0;}),{..._0x3c652e,'realScore':_0x160747,'totalPoints':_0x593e3a,'answers':_0x3c652e[_0x60a266(0x1b8)],'correctStreak':_0xc8073};}),_0x5673d3=Math['max'](..._0x54d16e[_0x6b98bb(0x86c)](_0x526881=>_0x526881['totalPoints']),-Infinity),_0x58a8ac=Math['max'](..._0x54d16e['map'](_0x7e3e82=>_0x7e3e82[_0x6b98bb(0x602)]),-Infinity),_0x2f523f=_0x3b74c2[_0x6b98bb(0x9e5)]===!![];let _0x16dc1e=_0x54d16e['filter'](_0x49a671=>localTeamPlayers[_0x6b98bb(0xc4f)](_0x49a671[_0x6b98bb(0x4a4)]));_0x16dc1e[_0x6b98bb(0x9a1)]((_0x599a58,_0x5012c4)=>(_0x5012c4[_0x6b98bb(0x183)]||0x0)-(_0x599a58['totalPoints']||0x0));let _0x5a7853='';const _0x131302=_0x178347?_0x384f01>=_0x3864cb[_0x6b98bb(0xdbe)]-0x1:_0x3b74c2[_0x6b98bb(0xd3d)]>=_0x3864cb['length']-0x1;if(_0x3b74c2[_0x6b98bb(0xd0e)]===_0x6b98bb(0x471))_0x5a7853='';else _0x131302?_0x5a7853=_0x6b98bb(0xa31):_0x5a7853=_0x6b98bb(0xe0f);const _0x3cfa81='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16dc1e['map']((_0x1c1a66,_0x25edba)=>{const _0x4e4a69=_0x6b98bb;let _0x49060d=_0x4e4a69(0x7b);const _0x162502=(_0x1c1a66[_0x4e4a69(0x1b8)]||[])[_0x4e4a69(0x5d9)](_0x538401=>_0x538401[_0x4e4a69(0x792)]===_0x35f16d);let _0x3df3fc='';if(_0x162502){if(_0x162502[_0x4e4a69(0xb1c)])_0x3df3fc+=_0x4e4a69(0x79b);if(_0x162502[_0x4e4a69(0x5f1)])_0x3df3fc+='<span\x20title=\x22โดนคำสาป\x22>😈</span>';if(_0x162502[_0x4e4a69(0x45f)])_0x3df3fc+=_0x4e4a69(0xe28);const _0x47369c=_0x162502[_0x4e4a69(0xc42)];if(_0x47369c){const _0x37d91c={'poll':'📊','cutOne':'✂️','insurance':_0x4e4a69(0x7c6),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x37d91c[_0x47369c])_0x3df3fc+=_0x4e4a69(0x732)+_0x47369c+'\x22>'+_0x37d91c[_0x47369c]+_0x4e4a69(0x8f6);}}if(_0x162502){const _0x45d5b7=_0x162502[_0x4e4a69(0x8a)],_0x4d40a2=_0x162502['wasConfident']===!![]||_0x162502['wasConfident']==='confident',_0x2f27a8=_0x162502[_0x4e4a69(0xc42)];if(_0x2f27a8===_0x4e4a69(0xb1f))_0x49060d=_0x45d5b7?_0x4e4a69(0x158):_0x4e4a69(0x1b4);else{if(_0x4d40a2)_0x49060d=_0x45d5b7?_0x4e4a69(0x815):_0x4e4a69(0x984);else _0x45d5b7?_0x49060d=_0x4e4a69(0x835):_0x49060d='bg-red-100\x20text-red-900';}}let _0x5c92d4='';_0x162502&&_0x162502['powerupUsed']==='wagerMultiplier'&&!_0x162502['isCorrect']&&(_0x5c92d4=_0x4e4a69(0x790));const _0x15547a=_0x1c1a66[_0x4e4a69(0x183)]>=0x0?'(+'+_0x1c1a66['totalPoints'][_0x4e4a69(0xe1)]()+')':'('+_0x1c1a66['totalPoints']['toLocaleString']()+')';let _0x14f80c='';const _0x229f9c=_0x1c1a66['answers'][_0x4e4a69(0xdbe)],_0x1de0e7=_0x384f01+0x1;if(_0x229f9c>0x0){_0x2f523f?(_0x1c1a66[_0x4e4a69(0x183)]===_0x5673d3&&_0x5673d3>0x0&&(_0x14f80c+=_0x4e4a69(0x3b0)),_0x1c1a66[_0x4e4a69(0x602)]===_0x58a8ac&&_0x58a8ac>0x0&&(_0x14f80c+=_0x4e4a69(0xd5f))):_0x1c1a66[_0x4e4a69(0x602)]===_0x1de0e7&&(_0x14f80c+='<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>');const _0x1ab208=_0x14f80c[_0x4e4a69(0xc4f)]('👑')||_0x14f80c['includes']('🎓')||_0x14f80c[_0x4e4a69(0xc4f)]('⭐');!_0x1ab208&&_0x1c1a66[_0x4e4a69(0x183)]<0x0&&(_0x14f80c+=_0x4e4a69(0x262));}let _0x122788='';const _0x4f3045=_0x162502&&_0x162502[_0x4e4a69(0x45f)],_0x1652f6=_0x162502&&_0x162502['powerupUsed']&&_0x162502[_0x4e4a69(0xc42)]!==_0x4e4a69(0xb1f);if(!_0x4f3045&&!_0x1652f6){const _0x31c3d9=_0x1c1a66[_0x4e4a69(0x3de)]||0x0;_0x31c3d9>=0x3&&(_0x122788=_0x4e4a69(0x645)+_0x31c3d9+'</span>');}return _0x4e4a69(0x81)+_0x49060d+'\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>'+(_0x25edba+0x1)+_0x4e4a69(0x22b)+_0x1c1a66[_0x4e4a69(0x4a4)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3df3fc+'\x20'+_0x14f80c+'\x20'+_0x122788+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c1a66[_0x4e4a69(0x602)]+_0x4e4a69(0xbeb)+_0x15547a+_0x4e4a69(0x97c)+_0x5c92d4+_0x4e4a69(0x9d2);})['join']('')+_0x6b98bb(0x900)+_0x5a7853+_0x6b98bb(0xbd5);liveGameView[_0x6b98bb(0xc7e)]=_0x3cfa81;}function renderStudentAnonymousResultsView(_0x3a0428,_0x3ad65c){const _0x30eb00=_0x4813c4;let _0x5d520f=[];_0x3a0428[_0x30eb00(0x27b)]?_0x5d520f=_0x3a0428[_0x30eb00(0x27b)]:_0x5d520f=Object['values'](_0x3a0428[_0x30eb00(0x2e8)]||{});const _0x3f9bec=_0x3a0428[_0x30eb00(0x255)]||_0x30eb00(0xba3),_0x5109ac=_0x3f9bec===_0x30eb00(0x37a)||_0x3f9bec===_0x30eb00(0xcb1),_0x130299=_0x3a0428[_0x30eb00(0xc81)]===!![],_0x2799a7=_0x3a0428[_0x30eb00(0x953)][_0x30eb00(0x1bc)],_0x26cabf=_0x5109ac&&_0x3a0428[_0x30eb00(0x97d)]!==undefined?_0x3a0428[_0x30eb00(0x97d)]:_0x3ad65c,_0x58e22a=_0x5d520f[_0x30eb00(0x86c)](_0x5deb66=>{const _0xef8f0=_0x30eb00,_0x37c697=(_0x5deb66[_0xef8f0(0x1b8)]||[])[_0xef8f0(0xd05)](_0x1f1cf1=>_0x1f1cf1['questionIndex']<=_0x26cabf);let _0xac61eb=0x0,_0x50184e=0x0;_0x5109ac?(_0xac61eb=_0x37c697[_0xef8f0(0xd05)](_0x1e9b6e=>_0x1e9b6e[_0xef8f0(0x8a)])[_0xef8f0(0xdbe)],_0x50184e=_0x37c697[_0xef8f0(0x4c5)]((_0x19f9ab,_0x519d04)=>_0x19f9ab+(_0x519d04[_0xef8f0(0xae4)]||0x0),0x0)):(_0xac61eb=_0x5deb66[_0xef8f0(0x863)]||0x0,_0x50184e=_0x5deb66['totalPoints']||0x0);const _0x49d5dc=[..._0x37c697]['sort']((_0x2045f2,_0x2bf8bb)=>_0x2045f2[_0xef8f0(0x792)]-_0x2bf8bb[_0xef8f0(0x792)]);let _0x416b71=0x0;return _0x49d5dc[_0xef8f0(0x140)](_0x39c2ba=>{const _0x1bf5ca=_0xef8f0,_0x1b4d37=_0x39c2ba[_0x1bf5ca(0xc42)]&&_0x39c2ba[_0x1bf5ca(0xc42)]!==_0x1bf5ca(0xb1f)||_0x39c2ba[_0x1bf5ca(0x45f)];_0x39c2ba['isCorrect']?_0x1b4d37?_0x416b71=0x0:_0x416b71++:_0x416b71=0x0;}),{..._0x5deb66,'realScore':_0xac61eb,'totalPoints':_0x50184e,'answers':_0x5deb66[_0xef8f0(0x1b8)],'correctStreak':_0x416b71};}),_0x45d4fe=Math['max'](..._0x58e22a[_0x30eb00(0x86c)](_0x41ef33=>_0x41ef33[_0x30eb00(0x183)]),-Infinity),_0x70298b=Math[_0x30eb00(0x4c9)](..._0x58e22a[_0x30eb00(0x86c)](_0x240444=>_0x240444[_0x30eb00(0x602)]),-Infinity),_0x14cf2c=_0x3a0428[_0x30eb00(0x9e5)]===!![],_0x189ce6=[..._0x58e22a][_0x30eb00(0x9a1)]((_0x2fc43e,_0x260000)=>{const _0x1b33a1=_0x30eb00;if(_0x14cf2c){if(_0x260000[_0x1b33a1(0x183)]!==_0x2fc43e['totalPoints'])return _0x260000[_0x1b33a1(0x183)]-_0x2fc43e['totalPoints'];if(_0x260000[_0x1b33a1(0x602)]!==_0x2fc43e[_0x1b33a1(0x602)])return _0x260000[_0x1b33a1(0x602)]-_0x2fc43e[_0x1b33a1(0x602)];}else{if(_0x260000[_0x1b33a1(0x183)]!==_0x2fc43e[_0x1b33a1(0x183)])return _0x260000['totalPoints']-_0x2fc43e['totalPoints'];if(_0x260000[_0x1b33a1(0x602)]!==_0x2fc43e['realScore'])return _0x260000['realScore']-_0x2fc43e[_0x1b33a1(0x602)];}return(_0x2fc43e[_0x1b33a1(0x4a4)]||'')[_0x1b33a1(0x5f6)](_0x260000[_0x1b33a1(0x4a4)]||'','th');});let _0x298ba7=null;const _0x373dd3=_0x58e22a['filter'](_0x390ff6=>localTeamPlayers[_0x30eb00(0xc4f)](_0x390ff6[_0x30eb00(0x4a4)]));_0x298ba7=_0x373dd3[_0x30eb00(0xdbe)]>0x0?_0x373dd3[_0x30eb00(0x9a1)]((_0x496f53,_0x46a369)=>_0x46a369[_0x30eb00(0x183)]-_0x496f53[_0x30eb00(0x183)])[0x0]:null;if(!_0x298ba7){liveGameView[_0x30eb00(0xc7e)]=_0x30eb00(0xc65);return;}const _0x3bca37=_0x14cf2c?_0x298ba7[_0x30eb00(0x183)]:_0x298ba7['totalPoints'],_0x385d2e=_0x26cabf+0x1,_0x31103e=_0x189ce6[_0x30eb00(0x86c)]((_0x4d222c,_0x3a8ee8)=>{const _0x2b4ab9=_0x30eb00,_0x11bf37=_0x4d222c['realScore'],_0x26a81f=_0x4d222c[_0x2b4ab9(0x183)],_0x15b6bf=(_0x4d222c['answers']||[])[_0x2b4ab9(0x5d9)](_0xd33bb1=>_0xd33bb1['questionIndex']===_0x26cabf);let _0x5e836f='';if(_0x15b6bf){if(_0x15b6bf[_0x2b4ab9(0xb1c)])_0x5e836f+=_0x2b4ab9(0x3bd);if(_0x15b6bf[_0x2b4ab9(0x5f1)])_0x5e836f+='<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>';if(_0x15b6bf[_0x2b4ab9(0x45f)])_0x5e836f+='<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>';const _0x35672d=_0x15b6bf[_0x2b4ab9(0xc42)];if(_0x35672d){const _0x33644c={'poll':'📊','cutOne':'✂️','insurance':_0x2b4ab9(0x7c6),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x2b4ab9(0xcee)};if(_0x33644c[_0x35672d])_0x5e836f+=_0x2b4ab9(0x6ad)+_0x33644c[_0x35672d]+'</span>';}}let _0x147b30='';if(_0x385d2e>0x0){if(_0x14cf2c){if(_0x26a81f===_0x45d4fe&&_0x45d4fe>0x0)_0x147b30+=_0x2b4ab9(0xa82);if(_0x11bf37===_0x70298b&&_0x70298b>0x0)_0x147b30+=_0x2b4ab9(0xa46);}else{const _0x15582a=_0x4d222c[_0x2b4ab9(0x602)]===_0x385d2e&&_0x385d2e>0x0;if(_0x15582a)_0x147b30=_0x2b4ab9(0x9b3);}if(_0x147b30===''&&_0x26a81f<0x0)_0x147b30=_0x2b4ab9(0x20c);}let _0x2bc961='';const _0x3bd429=_0x15b6bf&&_0x15b6bf[_0x2b4ab9(0x45f)],_0x2cb2e3=_0x15b6bf&&_0x15b6bf[_0x2b4ab9(0xc42)]&&_0x15b6bf[_0x2b4ab9(0xc42)]!==_0x2b4ab9(0xb1f);if(!_0x3bd429&&!_0x2cb2e3){const _0x453887=_0x4d222c['correctStreak']||0x0;_0x453887>=0x3&&(_0x2bc961=_0x2b4ab9(0xac8)+_0x453887+_0x2b4ab9(0x8f6));}let _0x19ed1a='bg-black/20',_0x1bd6e9=![];if(_0x15b6bf){const _0x392688=_0x15b6bf[_0x2b4ab9(0x8a)],_0x460289=_0x15b6bf[_0x2b4ab9(0x320)]===!![]||_0x15b6bf[_0x2b4ab9(0x320)]==='confident',_0x283a87=_0x15b6bf[_0x2b4ab9(0xc42)];if(_0x283a87==='wagerMultiplier')_0x392688?(_0x19ed1a='bg-yellow-300\x20text-yellow-900\x20font-bold',_0x1bd6e9=!![]):_0x19ed1a='bg-red-700\x20text-white\x20font-bold';else{if(_0x460289)_0x19ed1a=_0x392688?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x2b4ab9(0x984);else _0x392688&&(_0x19ed1a=_0x2b4ab9(0x835));}}let _0x1f3796='';const _0x4fac43=_0x4d222c['name'],_0x24b166=_0x3a0428[_0x2b4ab9(0xca7)][_0x4d222c[_0x2b4ab9(0x4a4)]]||_0x2b4ab9(0xe23),_0x4bbcd7=_0x2b4ab9(0xdea),_0x3b56db=_0x2b4ab9(0x7c9),_0xb2ba24=localTeamPlayers[_0x2b4ab9(0xc4f)](_0x4fac43),_0x5d2702=_0x1bd6e9?'text-yellow-800':'text-gray-300',_0x59cc7f=_0x14cf2c?_0x4d222c['totalPoints']:_0x4d222c[_0x2b4ab9(0x183)],_0x514116=_0x130299||_0xb2ba24||_0x3bca37>_0x59cc7f;_0x514116?_0x1f3796=_0x2b4ab9(0x9e0)+_0x4bbcd7+_0x2b4ab9(0x5a7)+_0x4fac43+'\x20('+_0x24b166+_0x2b4ab9(0x813)+_0x3b56db+'\x22>'+_0x4fac43+_0x2b4ab9(0x67b)+_0x5e836f+'\x20'+_0x147b30+'\x20'+_0x2bc961+_0x2b4ab9(0x7f7)+_0x5d2702+_0x2b4ab9(0x35c)+_0x3b56db+_0x2b4ab9(0x80b)+_0x24b166+_0x2b4ab9(0x5b7):_0x1f3796='<div\x20style=\x22'+_0x4bbcd7+_0x2b4ab9(0x5a7)+_0x24b166+_0x2b4ab9(0x2bb)+_0x3b56db+'\x22>'+_0x24b166+_0x2b4ab9(0x67b)+_0x5e836f+'\x20'+_0x147b30+'\x20'+_0x2bc961+_0x2b4ab9(0x2fc);_0xb2ba24&&(_0x1f3796=_0x2b4ab9(0xb56)+_0x1f3796+_0x2b4ab9(0x211));const _0x51aa4c=_0x26a81f>=0x0?'(+'+_0x26a81f[_0x2b4ab9(0xe1)]()+')':'('+_0x26a81f[_0x2b4ab9(0xe1)]()+')',_0x251010='<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>'+_0x11bf37+_0x2b4ab9(0xbeb)+_0x51aa4c+'</span>';return _0x2b4ab9(0xc1b)+_0x19ed1a+_0x2b4ab9(0xb53)+(_0x3a8ee8+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x1f3796+_0x2b4ab9(0x98c)+_0x251010+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x30eb00(0x15d)]('');let _0x3e2b1f='';const _0x51cea2=_0x5109ac?_0x26cabf>=_0x2799a7[_0x30eb00(0xdbe)]-0x1:_0x3a0428[_0x30eb00(0xd3d)]>=_0x2799a7[_0x30eb00(0xdbe)]-0x1;if(_0x3a0428[_0x30eb00(0xd0e)]===_0x30eb00(0x471))_0x3e2b1f='';else _0x51cea2?_0x3e2b1f=_0x30eb00(0xa31):_0x3e2b1f='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0xcd3095=_0x30eb00(0xe7)+_0x31103e+_0x30eb00(0x2a1)+_0x3e2b1f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0xcd3095;}function renderStudentCompetitionResultsView(_0x4ec58c,_0x517093){const _0x4baeb9=_0x4813c4,_0x50e3e7=Object[_0x4baeb9(0x3fb)](_0x4ec58c[_0x4baeb9(0x2e8)]||{}),_0x2fb621=_0x517093,_0x128093=_0x4ec58c[_0x4baeb9(0x255)]||'classic',_0x5212b8=_0x4ec58c[_0x4baeb9(0x953)]['questions'],_0x24a024=_0x50e3e7[_0x4baeb9(0x86c)](_0x4f0eeb=>{const _0x152eec=_0x4baeb9,_0x26398f=_0x4f0eeb[_0x152eec(0x863)]||0x0,_0x547649=_0x4f0eeb[_0x152eec(0x183)]||0x0,_0x343ac9=(_0x4f0eeb[_0x152eec(0x1b8)]||[])[_0x152eec(0xd05)](_0x23eb11=>_0x128093===_0x152eec(0x37a)?_0x23eb11[_0x152eec(0x792)]<=_0x2fb621:!![]);return{..._0x4f0eeb,'realScore':_0x26398f,'totalPoints':_0x547649,'answers':_0x343ac9};}),_0x479630=_0x4ec58c[_0x4baeb9(0x9e5)]===!![],_0x475cfb=[..._0x24a024][_0x4baeb9(0x9a1)]((_0x5304ef,_0x509d04)=>{const _0x6bf22c=_0x4baeb9;if(_0x479630){const _0x135a79=_0x509d04['realScore']-_0x5304ef[_0x6bf22c(0x602)];if(_0x135a79!==0x0)return _0x135a79;const _0x4c2419=_0x509d04['totalPoints']-_0x5304ef['totalPoints'];if(_0x4c2419!==0x0)return _0x4c2419;return(_0x5304ef[_0x6bf22c(0x4a4)]||'')[_0x6bf22c(0x5f6)](_0x509d04[_0x6bf22c(0x4a4)]||'','th');}else{const _0x191b8c=_0x509d04[_0x6bf22c(0x183)]-_0x5304ef[_0x6bf22c(0x183)];if(_0x191b8c!==0x0)return _0x191b8c;const _0x19ac22=_0x509d04['realScore']-_0x5304ef['realScore'];if(_0x19ac22!==0x0)return _0x19ac22;return(_0x5304ef[_0x6bf22c(0x4a4)]||'')[_0x6bf22c(0x5f6)](_0x509d04['name']||'','th');}}),_0x14de51=_0x475cfb[_0x4baeb9(0x86c)]((_0x5428b6,_0x439d7f)=>{const _0x4c70f4=_0x4baeb9,_0x3e3137='';let _0x351bae=_0x4c70f4(0x5ea);const _0x5243a7=_0x5428b6[_0x4c70f4(0x4a4)],_0x549ff1=_0x4c70f4(0xdea),_0x49f9fc=_0x4c70f4(0x7c9),_0x53b59b=_0x4c70f4(0x9e0)+_0x549ff1+'\x22\x20title=\x22'+_0x5243a7+_0x4c70f4(0x2bb)+_0x49f9fc+'\x22>'+_0x5243a7+_0x4c70f4(0x8f6)+_0x3e3137+_0x4c70f4(0x2fc),_0x4de388='';return _0x4c70f4(0xc1b)+_0x351bae+_0x4c70f4(0xb53)+(_0x439d7f+0x1)+_0x4c70f4(0x68d)+_0x53b59b+_0x4c70f4(0x98c)+_0x4de388+_0x4c70f4(0x75f);})[_0x4baeb9(0x15d)]('');let _0x5cae4b='';const _0x176569=_0x128093==='reveal_at_end'?_0x4ec58c['reviewQuestionIndex']>=_0x5212b8[_0x4baeb9(0xdbe)]-0x1:_0x4ec58c[_0x4baeb9(0xd3d)]>=_0x5212b8[_0x4baeb9(0xdbe)]-0x1;_0x176569?_0x5cae4b=_0x4baeb9(0xa31):_0x5cae4b='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x188c27='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14de51+_0x4baeb9(0x534)+_0x5cae4b+_0x4baeb9(0x364);liveGameView[_0x4baeb9(0xc7e)]=_0x188c27;}function renderStudentSyncQuestionView(_0x67b74d){const _0xfea7af=_0x4813c4;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x67b74d['players'][localTeamPlayers[localPlayerTurnIndex]]?.[_0xfea7af(0x95e)]===!![]){localPlayerTurnIndex++;}const _0x534a91=localTeamPlayers[localPlayerTurnIndex];if(!_0x534a91)return;const _0x374f6f=_0x67b74d[_0xfea7af(0x2e8)][_0x534a91],_0x311dff=_0x67b74d[_0xfea7af(0xd3d)],_0x1e83b7=_0x67b74d['shuffledQuiz'][_0xfea7af(0x1bc)]['length'],_0x2af030=_0x67b74d[_0xfea7af(0x953)][_0xfea7af(0x1bc)][_0x311dff],_0x42c6f4=_0x2af030[_0xfea7af(0x51d)]||_0x67b74d[_0xfea7af(0x953)]['quizType'];let _0x5209c8='',_0x3b4d36=![];const _0x371c8d=_0xfea7af(0x551)+_0x311dff+'_p'+_0x534a91,_0x703e91=sessionStorage['getItem'](_0x371c8d),_0x3f5770=_0x703e91==='revealOptions',_0x57b2dc='hiddenOptions_q'+_0x311dff+'_p'+_0x534a91,_0x4da744=JSON[_0xfea7af(0x452)](sessionStorage[_0xfea7af(0xcbe)](_0x57b2dc)||'[]')[_0xfea7af(0x86c)](String);if((_0x42c6f4==='short_answer'||_0x42c6f4==='fill_in_no_choices')&&_0x3f5770&&_0x2af030[_0xfea7af(0x7f6)]&&_0x2af030[_0xfea7af(0x7f6)][_0xfea7af(0xdbe)]>0x0)_0x5209c8=_0x2af030[_0xfea7af(0x7f6)][_0xfea7af(0x86c)]((_0x5137d2,_0x37a415)=>{const _0x5b32ce=_0xfea7af;if(_0x4da744['includes'](String(_0x37a415)))return'';return _0x5b32ce(0x21d)+_0x5137d2+_0x5b32ce(0x734)+_0x37a415+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>'+_0x5137d2+_0x5b32ce(0x5f2);})['join']('');else{if(_0x42c6f4===_0xfea7af(0x311)||_0x42c6f4===_0xfea7af(0x87d))_0x3b4d36=!![],_0x5209c8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else switch(_0x42c6f4){case _0xfea7af(0x162):const _0x37bdb3=_0x4da744['includes']('0')?'':_0xfea7af(0xe3),_0xe8a9bf=_0x4da744[_0xfea7af(0xc4f)]('1')?'':_0xfea7af(0x34e);_0x5209c8=_0x37bdb3+_0xe8a9bf;break;case _0xfea7af(0x392):_0x3b4d36=!![],_0x5209c8=_0xfea7af(0x89b)+(_0x2af030[_0xfea7af(0xd2c)]||[])[_0xfea7af(0x86c)](_0x5829d8=>'<option\x20value=\x22'+_0x5829d8+'\x22>'+_0x5829d8+_0xfea7af(0xc01))['join']('')+'</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0xfea7af(0x260):default:_0x5209c8=(_0x2af030[_0xfea7af(0x7f6)]||[])[_0xfea7af(0x86c)]((_0x4d3ea5,_0x271c89)=>{const _0x105ce6=_0xfea7af;if(_0x4da744[_0x105ce6(0xc4f)](String(_0x271c89)))return'';return _0x105ce6(0x21d)+_0x271c89+'\x22\x20data-index=\x22'+_0x271c89+_0x105ce6(0x4da)+_0x4d3ea5+'</button>';})['join']('');break;}}let _0x1c1101='';_0x67b74d[_0xfea7af(0x1a9)]===_0xfea7af(0xade)&&(_0x1c1101='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x67b74d['timerDuration']+_0xfea7af(0xa1));let _0x438094='';const _0xa4d8d4=_0x67b74d['gameVariant']||'classic',_0x312a91=[_0xfea7af(0x37a),_0xfea7af(0xcb1),_0xfea7af(0x479)][_0xfea7af(0xc4f)](_0xa4d8d4);if(_0x67b74d[_0xfea7af(0x9e5)]===!![]){if(_0x312a91)!_0x703e91&&(_0x438094='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');else{const _0x52be89=_0x374f6f[_0xfea7af(0x183)]||0x0,_0x51440f=_0x374f6f[_0xfea7af(0x598)]||{},_0x29ffb6=[_0x51440f[_0xfea7af(0x464)]>0x0?'<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20('+_0x51440f['buyTime']+')</button>':'',_0x51440f[_0xfea7af(0xb88)]>0x0?'<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20('+_0x51440f[_0xfea7af(0xb88)]+_0xfea7af(0xd0f):'',_0x51440f[_0xfea7af(0x42e)]>0x0?_0xfea7af(0xd75)+_0x51440f[_0xfea7af(0x42e)]+')</button>':'',_0x51440f[_0xfea7af(0x87b)]>0x0?_0xfea7af(0x110)+_0x51440f['insurance']+_0xfea7af(0xd0f):'',_0x51440f['fiftyFifty']>0x0?_0xfea7af(0x96c)+_0x51440f[_0xfea7af(0x6ea)]+_0xfea7af(0xd0f):'',_0x51440f[_0xfea7af(0xc20)]>0x0?'<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20('+_0x51440f[_0xfea7af(0xc20)]+_0xfea7af(0xd0f):''][_0xfea7af(0xd05)](Boolean)[_0xfea7af(0x15d)]('\x20'),_0xd191fa=_0xfea7af(0x88b)+_0x311dff+'_p'+_0x534a91,_0x11e1f6=sessionStorage['getItem'](_0xd191fa)===_0xfea7af(0xa55),_0x2b7a2f=_0x52be89>0x0&&(!_0x11e1f6||_0x52be89>=0x1),_0x4b299c=_0x52be89===0x0?'ตลาดมืด\x20(0\x20P)':_0x11e1f6?_0xfea7af(0xd8c):_0xfea7af(0x928)+_0x52be89+_0xfea7af(0x7f8),_0x24c4a5=_0x2b7a2f?_0xfea7af(0x3fd):_0xfea7af(0x4cc),_0x8e13a8=_0x2b7a2f?'':_0xfea7af(0x88c);let _0x5ebfd6=_0xfea7af(0xd8d)+_0x24c4a5+_0xfea7af(0x73a)+_0x8e13a8+_0xfea7af(0xdc5)+_0x4b299c+_0xfea7af(0x5f2);if(!_0x703e91){const _0x30b15f=_0x52be89>0x0,_0x1fe0be=_0x30b15f?'bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1':'bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x15012f=_0x30b15f?_0xfea7af(0x267):_0xfea7af(0x244),_0x1da142=_0x30b15f?'':_0xfea7af(0x88c);_0x5ebfd6+=_0xfea7af(0x3c6)+_0x1fe0be+_0xfea7af(0xab0)+_0x1da142+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22'+_0x15012f+'\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20'+_0x1da142+_0xfea7af(0x7a8);}_0x438094=_0xfea7af(0x5d5)+_0x5ebfd6+_0xfea7af(0xaba)+(_0x29ffb6||'')+'</div></div>';}}let _0x56bda3='';_0x374f6f[_0xfea7af(0x99a)]&&(_0x56bda3+=_0xfea7af(0x866));_0x374f6f[_0xfea7af(0x345)]&&(_0x56bda3+=_0xfea7af(0x85c));(_0x374f6f[_0xfea7af(0x20d)]||0x0)>0x0&&(_0x56bda3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x20<span>เวลาโบนัสทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');if(_0x703e91){if(_0x703e91==='wagerMultiplier'){const _0x4794c4=_0x312a91?'🚀\x20คุณเดิมพันหมดหน้าตัก!':_0xfea7af(0xb3);_0x56bda3+=_0xfea7af(0x6bf)+_0x4794c4+_0xfea7af(0x7b1);}else{if(_0x703e91==='cutOne')_0x56bda3+=_0xfea7af(0x167);else{if(_0x703e91==='fiftyFifty')_0x56bda3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{if(_0x703e91===_0xfea7af(0xc20))_0x56bda3+=_0xfea7af(0x8b1);else{if(_0x703e91===_0xfea7af(0xb88))_0x56bda3+=_0xfea7af(0xa4d);else _0x703e91==='insurance'?_0x56bda3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':_0x56bda3+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>'+_0x703e91+_0xfea7af(0xbb1);}}}}}let _0x1d2c1b='';if(!_0x312a91){const _0x5822d6=_0x374f6f[_0xfea7af(0x3de)]||0x0;if(_0x5822d6>=0x3)_0x1d2c1b=_0xfea7af(0x401)+_0x5822d6+_0xfea7af(0xcc9);else _0x5822d6>0x0&&(_0x1d2c1b=_0xfea7af(0xcb5)+_0x5822d6+_0xfea7af(0xfe));}liveGameView['innerHTML']=_0xfea7af(0x179)+(_0x311dff+0x1)+_0xfea7af(0x6eb)+_0x1e83b7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x534a91+_0xfea7af(0xdc2)+_0x1d2c1b+'\x20'+_0x1c1101+'\x20'+_0x438094+_0xfea7af(0x937)+_0x56bda3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x2af030[_0xfea7af(0x929)]||_0x2af030[_0xfea7af(0xd4c)])+_0xfea7af(0xd2)+_0x5209c8+_0xfea7af(0xa2a);if(window['MathJax'])MathJax[_0xfea7af(0xacf)]();function _0x1dcb1a(_0x2bbf72,_0x234bc1,_0x4a84ba,_0x436310){const _0x1fbb8c=_0xfea7af,_0x3ecb9b=_0x4a84ba[_0x1fbb8c(0x576)]===!![],_0x1c15b1=_0x4a84ba[_0x1fbb8c(0xd3d)],_0x160d81='powerupUsed_q'+_0x1c15b1+'_p'+_0x436310,_0x1a706d=sessionStorage['getItem'](_0x160d81),_0x49697b=_0x1a706d===_0x1fbb8c(0xb1f),_0x3f95f6=_0x4a84ba[_0x1fbb8c(0x2e8)][_0x436310];if(_0x49697b){const _0x2ae3bb=sessionStorage[_0x1fbb8c(0xcbe)](_0x1fbb8c(0xb9d))===_0x1fbb8c(0xa55);if(_0x312a91||_0x2ae3bb){const _0x19938b=_0x3f95f6['totalPoints']||0x0;sessionStorage[_0x1fbb8c(0xaf1)]('instantWager'),handleSyncAnswerSubmit(_0x2bbf72,_0x234bc1,_0x4a84ba,_0x436310,![],_0x19938b);}else{const _0x568f97=document[_0x1fbb8c(0x3a5)](_0x1fbb8c(0x23d)),_0xa3d328=document[_0x1fbb8c(0x3a5)](_0x1fbb8c(0x915)),_0x505841=document['getElementById'](_0x1fbb8c(0xa67)),_0x5efe72=document[_0x1fbb8c(0x3a5)](_0x1fbb8c(0x7b9)),_0x389f4f=_0x3f95f6['totalPoints']||0x0;_0xa3d328[_0x1fbb8c(0x4c9)]=_0x389f4f,_0xa3d328['value']=_0x389f4f,_0x505841[_0x1fbb8c(0xd68)]=_0x389f4f,_0x5efe72[_0x1fbb8c(0xd68)]=_0x389f4f,_0xa3d328[_0x1fbb8c(0x377)]=()=>{const _0x2af1d6=_0x1fbb8c;_0x505841['textContent']=_0xa3d328[_0x2af1d6(0x909)];};const _0x29bdd8=document[_0x1fbb8c(0x3a5)](_0x1fbb8c(0x9ff));_0x29bdd8['dataset']['answerValue']=_0x2bbf72,_0x29bdd8[_0x1fbb8c(0x315)][_0x1fbb8c(0x8a8)]=JSON[_0x1fbb8c(0xe22)](_0x234bc1),_0x29bdd8[_0x1fbb8c(0x315)][_0x1fbb8c(0x8be)]=JSON[_0x1fbb8c(0xe22)](_0x4a84ba),_0x29bdd8['dataset'][_0x1fbb8c(0x8d6)]=_0x436310,_0x568f97[_0x1fbb8c(0xcde)][_0x1fbb8c(0xa30)]('hidden');}}else{if(_0x3ecb9b){document[_0x1fbb8c(0x3a5)](_0x1fbb8c(0x649))[_0x1fbb8c(0x315)][_0x1fbb8c(0x229)]=_0x1fbb8c(0x66c);const _0x100f94=document[_0x1fbb8c(0x3a5)](_0x1fbb8c(0x6ac));_0x100f94[_0x1fbb8c(0x315)]['answerValue']=_0x2bbf72,_0x100f94[_0x1fbb8c(0x315)]['question']=JSON[_0x1fbb8c(0xe22)](_0x234bc1),_0x100f94[_0x1fbb8c(0x315)]['gameData']=JSON[_0x1fbb8c(0xe22)](_0x4a84ba),_0x100f94[_0x1fbb8c(0x315)][_0x1fbb8c(0x8d6)]=_0x436310,document[_0x1fbb8c(0x3a5)]('confidence-modal')['classList'][_0x1fbb8c(0xa30)]('hidden');}else handleSyncAnswerSubmit(_0x2bbf72,_0x234bc1,_0x4a84ba,_0x436310,![],0x0);}}_0x3b4d36?document[_0xfea7af(0x3a5)](_0xfea7af(0x7c7))[_0xfea7af(0x9f0)](_0xfea7af(0x79c),()=>{const _0x3e0340=_0xfea7af,_0x3baa70=document[_0x3e0340(0x3a5)](_0x3e0340(0x63f))||document[_0x3e0340(0x3a5)]('sync-matching-select');if(_0x3baa70['value'][_0x3e0340(0x7f3)]()===''){showMessage(_0x3e0340(0x6a8));return;}_0x1dcb1a(_0x3baa70['value'],_0x2af030,_0x67b74d,_0x534a91);}):document['querySelectorAll'](_0xfea7af(0x73b))[_0xfea7af(0x140)](_0x50f16c=>{const _0x38e3ca=_0xfea7af;_0x50f16c[_0x38e3ca(0x9f0)](_0x38e3ca(0x79c),()=>{const _0x49424b=_0x38e3ca;_0x1dcb1a(_0x50f16c[_0x49424b(0x315)][_0x49424b(0x909)],_0x2af030,_0x67b74d,_0x534a91);});});if(_0x67b74d[_0xfea7af(0x9e5)]===!![]){if(!_0x312a91){const _0x5934f9=document[_0xfea7af(0x3a5)](_0xfea7af(0xc2b));_0x5934f9&&_0x5934f9[_0xfea7af(0x9f0)](_0xfea7af(0x79c),()=>{const _0x24f398=_0xfea7af,_0x19ef83=_0x24f398(0x88b)+_0x311dff+'_p'+_0x534a91,_0x463148=sessionStorage[_0x24f398(0xcbe)](_0x19ef83)===_0x24f398(0xa55);if(!_0x463148)openBlackMarket(_0x67b74d,_0x374f6f),sessionStorage[_0x24f398(0x24c)](_0x19ef83,_0x24f398(0xa55)),renderStudentSyncQuestionView(_0x67b74d);else{if(_0x374f6f['totalPoints']<0x1){showMessage(_0x24f398(0xc6a));return;}showConfirmation(_0x24f398(0x85e),()=>{handlePayForMarketEntry(_0x534a91,_0x67b74d,_0x374f6f);});}}),document[_0xfea7af(0x3a5)](_0xfea7af(0xc56))?.[_0xfea7af(0x9f0)](_0xfea7af(0x79c),_0x11c35f=>{const _0x1996b4=_0xfea7af;_0x11c35f[_0x1996b4(0x940)]['disabled']=!![],handleUsePowerup(_0x534a91,_0x1996b4(0x464),_0x2af030,_0x67b74d,_0x374f6f);}),document[_0xfea7af(0x3a5)](_0xfea7af(0x189))?.[_0xfea7af(0x9f0)](_0xfea7af(0x79c),_0x5a9289=>{const _0x9d5f12=_0xfea7af;_0x5a9289[_0x9d5f12(0x940)]['disabled']=!![],handleUsePowerup(_0x534a91,_0x9d5f12(0x42e),_0x2af030,_0x67b74d,_0x374f6f);}),document[_0xfea7af(0x3a5)](_0xfea7af(0xbd1))?.[_0xfea7af(0x9f0)](_0xfea7af(0x79c),_0x491aac=>{const _0x2fafa4=_0xfea7af;_0x491aac[_0x2fafa4(0x940)][_0x2fafa4(0x88c)]=!![],handleUsePowerup(_0x534a91,_0x2fafa4(0x87b),_0x2af030,_0x67b74d,_0x374f6f);}),document[_0xfea7af(0x3a5)](_0xfea7af(0x8c0))?.[_0xfea7af(0x9f0)](_0xfea7af(0x79c),_0x1d26b2=>{const _0x2fc27c=_0xfea7af;_0x1d26b2[_0x2fc27c(0x940)]['disabled']=!![],handleUsePowerup(_0x534a91,_0x2fc27c(0x6ea),_0x2af030,_0x67b74d,_0x374f6f);}),document[_0xfea7af(0x3a5)](_0xfea7af(0xa0e))?.[_0xfea7af(0x9f0)]('click',_0x1e2463=>{const _0x2e9398=_0xfea7af;_0x1e2463[_0x2e9398(0x940)][_0x2e9398(0x88c)]=!![],handleUsePowerup(_0x534a91,'secondChance',_0x2af030,_0x67b74d,_0x374f6f);}),document[_0xfea7af(0x3a5)](_0xfea7af(0x44b))?.['addEventListener'](_0xfea7af(0x79c),_0xf33a3a=>{const _0x1481bc=_0xfea7af;_0xf33a3a[_0x1481bc(0x940)][_0x1481bc(0x88c)]=!![],handleUsePowerup(_0x534a91,_0x1481bc(0xb88),_0x2af030,_0x67b74d,_0x374f6f);}),document['getElementById']('use-powerup-wagerMultiplier')?.[_0xfea7af(0x9f0)](_0xfea7af(0x79c),_0x55a347=>{const _0x6db81c=_0xfea7af;_0x55a347['target'][_0x6db81c(0x88c)]=!![],sessionStorage['setItem']('instantWager',_0x6db81c(0xaf2)),handleUsePowerup(_0x534a91,_0x6db81c(0xb1f),_0x2af030,_0x67b74d,_0x374f6f);});}document['getElementById'](_0xfea7af(0x121))?.['addEventListener'](_0xfea7af(0x79c),_0x541fce=>{const _0x34a3f4=_0xfea7af;_0x541fce[_0x34a3f4(0x940)][_0x34a3f4(0x88c)]=!![],sessionStorage[_0x34a3f4(0x24c)](_0x34a3f4(0xb9d),'true'),handleUsePowerup(_0x534a91,'wagerMultiplier',_0x2af030,_0x67b74d,_0x374f6f);});}}async function handleSyncAnswerSubmit(_0x33139f,_0xfb8797,_0xaeface,_0x5109a2,_0x15dfdc,_0x1e706a=0x0){const _0x4ebf55=_0x4813c4;document[_0x4ebf55(0x660)](_0x4ebf55(0xbf3))[_0x4ebf55(0x140)](_0x46bac0=>_0x46bac0['disabled']=!![]);const _0x64e560=_0xaeface[_0x4ebf55(0xd3d)],_0x4eaccf=_0x4ebf55(0x551)+_0x64e560+'_p'+_0x5109a2,_0x7fb408=sessionStorage[_0x4ebf55(0xcbe)](_0x4eaccf),_0x43522a=_0xaeface['players'][_0x5109a2]||{},_0x6a51d7=_0x43522a[_0x4ebf55(0x345)]===!![],_0xdbb69=sessionStorage[_0x4ebf55(0xcbe)](_0x4ebf55(0x4fd))===_0x4ebf55(0xa55);let _0x67ee53=_0x43522a[_0x4ebf55(0x3de)]||0x0;_0x7fb408&&_0x7fb408!==_0x4ebf55(0xb1f)&&(_0x67ee53=0x0);const _0x12d1a1=_0x67ee53>=0x3,_0x2447aa=_0xfb8797[_0x4ebf55(0x51d)]||_0xaeface[_0x4ebf55(0x953)][_0x4ebf55(0xa34)];let _0x2b875b=![],_0x33ad6c=_0x33139f;switch(_0x2447aa){case _0x4ebf55(0x162):const _0x393123=parseInt(_0x33139f),_0x3bd20e=_0xfb8797['correctAnswer']===!![]||String(_0xfb8797[_0x4ebf55(0xa25)])[_0x4ebf55(0x7c4)]()===_0x4ebf55(0xa55);_0x2b875b=_0x393123===0x0&&_0x3bd20e||_0x393123===0x1&&!_0x3bd20e,_0x33ad6c=_0x393123===0x0?_0x4ebf55(0x2c0):'ไม่ใช่\x20/\x20ผิด';break;case _0x4ebf55(0x311):case'fill_in_no_choices':_0x2b875b=await gradeShortAnswer(_0x33139f,_0xfb8797);break;case _0x4ebf55(0x392):_0x2b875b=_0x33139f===_0xfb8797['correctResponse'];break;case _0x4ebf55(0x260):default:const _0xfb8fdb=parseInt(_0x33139f);_0x2b875b=_0xfb8fdb===_0xfb8797['correctAnswerIndex'];_0xfb8797[_0x4ebf55(0x7f6)]&&_0xfb8797[_0x4ebf55(0x7f6)][_0xfb8fdb]&&(_0x33ad6c=_0xfb8797[_0x4ebf55(0x7f6)][_0xfb8fdb]);break;}if(!_0x2b875b&&_0x7fb408===_0x4ebf55(0xc20)&&!_0xdbb69){sessionStorage[_0x4ebf55(0xaf1)](_0x4eaccf),sessionStorage['setItem']('onSecondChance',_0x4ebf55(0xa55)),showMessage(_0x4ebf55(0xbc)),document[_0x4ebf55(0x660)]('.live-answer-btn,\x20#sync-submit-btn')[_0x4ebf55(0x140)](_0x165394=>{const _0x1fec4b=_0x4ebf55;if(!_0x165394[_0x1fec4b(0xcde)]['contains'](_0x1fec4b(0xc15)))_0x165394[_0x1fec4b(0x88c)]=![];});return;}let _0x56c3ab=0x0;const _0x13586c=_0x7fb408==='wagerMultiplier',_0x245c8d=_0x7fb408==='insurance',_0x1ebf31=sessionStorage[_0x4ebf55(0xcbe)](_0x4ebf55(0x4d5))===_0x4ebf55(0xa55),_0x3f2294=_0x43522a[_0x4ebf55(0x99a)]===!![];if(_0x13586c){const _0x2cf72b=parseInt(_0x1e706a,0xa)||0x0;_0x56c3ab=_0x2b875b?_0x2cf72b*0x2:-_0x2cf72b;}else{if(_0x1ebf31&&!_0x2b875b)_0x56c3ab=_0x15dfdc===!![]||_0x15dfdc===_0x4ebf55(0x8c7)||_0x6a51d7?-0x4:-0x2;else{if(_0x6a51d7)_0x56c3ab=_0x2b875b?0x2:-0x1;else{if(_0xaeface['isConfidenceScoringEnabled']){if(_0x2b875b&&(_0x15dfdc===!![]||_0x15dfdc==='confident'))_0x56c3ab=0x2;else{if(_0x2b875b)_0x56c3ab=0x1;else{if(!_0x2b875b&&(_0x15dfdc===![]||_0x15dfdc===_0x4ebf55(0xd65)||_0x15dfdc===null))_0x56c3ab=0x0;else{if(!_0x2b875b&&(_0x15dfdc===!![]||_0x15dfdc==='confident'))_0x56c3ab=-0x1;}}}}else _0x56c3ab=_0x2b875b?0x1:0x0;}}}_0x12d1a1&&_0x56c3ab>0x0&&(_0x56c3ab*=0x2);if(_0x3f2294&&!_0x2b875b&&_0x56c3ab<0x0)_0x56c3ab*=0x2;if(!_0x2b875b&&_0x245c8d)_0x56c3ab=0x0;const _0x34e172=(_0x43522a['timeBonusThisQuestion']||0x0)>0x0,_0x22f169=_0x7fb408&&_0x7fb408!=='wagerMultiplier';let _0x145857=0x0;_0x2b875b&&(_0x145857=_0x22f169?0x0:_0x67ee53+0x1);const _0x2cf9ed={'questionIndex':_0xaeface[_0x4ebf55(0xd3d)],'questionId':_0xfb8797['id'],'answer':_0x33139f,'answerText':_0x33ad6c,'isCorrect':_0x2b875b,'originalQuestionText':_0xfb8797[_0x4ebf55(0x929)]||_0xfb8797[_0x4ebf55(0xd4c)],'wasConfident':_0x6a51d7?_0x4ebf55(0x8c7):_0x15dfdc||![],'pointsAwarded':_0x56c3ab,'powerupUsed':_0x7fb408||null,'wasJinxed':_0x3f2294||![],'wasForced':_0x6a51d7||![],'usedPoll':_0x1ebf31||![],'usedBuyTime':_0x34e172,'streakActive':_0x12d1a1},_0x1fbf8e=doc(db,_0x4ebf55(0x2b3)+appId+_0x4ebf55(0xde9)+currentLiveGameId+_0x4ebf55(0x63d),_0x5109a2),_0x285c2f=_0x43522a[_0x4ebf55(0x1b8)]||[],_0x165388=_0x285c2f['filter'](_0x34bf00=>_0x34bf00[_0x4ebf55(0x792)]!==_0xaeface[_0x4ebf55(0xd3d)]),_0x4b2ab7=[..._0x165388,_0x2cf9ed],_0x38f1f8=_0x4b2ab7[_0x4ebf55(0xd05)](_0x453e06=>_0x453e06['isCorrect'])[_0x4ebf55(0xdbe)],_0x847071={'answers':_0x4b2ab7,'score':_0x38f1f8,'totalPoints':increment(_0x56c3ab),'answered':!![],'lastAnswerIndex':_0x2447aa===_0x4ebf55(0x260)||_0x2447aa===_0x4ebf55(0x162)?parseInt(_0x33139f):null,'lastAnswerValue':_0x33ad6c,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x145857};if(_0xdbb69)sessionStorage['removeItem'](_0x4ebf55(0x4fd));try{await updateDoc(_0x1fbf8e,_0x847071);}catch(_0x577c90){console['error'](_0x4ebf55(0xcdd),_0x577c90),showMessage(_0x4ebf55(0x5e9)),document['querySelectorAll'](_0x4ebf55(0xbf3))[_0x4ebf55(0x140)](_0x3a89f4=>_0x3a89f4[_0x4ebf55(0x88c)]=![]);}}const allMarketItems=[{'id':_0x4813c4(0x464),'name':_0x4813c4(0x983),'price':0x1,'desc':_0x4813c4(0x581)},{'id':_0x4813c4(0x42e),'name':'✂️\x20ตัด\x201\x20ตัวเลือก','price':0x2,'desc':_0x4813c4(0xc58)},{'id':_0x4813c4(0x6ea),'name':_0x4813c4(0xd47),'price':0x5,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)'},{'id':'secondChance','name':'🔁\x20โอกาสครั้งที่สอง','price':0x7,'desc':_0x4813c4(0xce0)},{'id':'revealOptions','name':_0x4813c4(0x9b5),'price':0xc,'desc':'เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)'}];function openBlackMarket(_0x10871a,_0x3c87aa){const _0x3ff8e6=_0x4813c4;let _0x3410b9=null;const _0x3d4263=document[_0x3ff8e6(0x3a5)](_0x3ff8e6(0xb90)),_0x5022c8=document[_0x3ff8e6(0x3a5)](_0x3ff8e6(0x57c)),_0x46e59b=document[_0x3ff8e6(0x3a5)](_0x3ff8e6(0xbab)),_0x159d24=document[_0x3ff8e6(0x3a5)]('market-timer-bar'),_0x491dd1=_0x3c87aa[_0x3ff8e6(0x183)]||0x0;_0x46e59b[_0x3ff8e6(0xd68)]=_0x491dd1;const _0x24b780=_0x10871a[_0x3ff8e6(0xd3d)],_0x1ae3e7=_0x10871a[_0x3ff8e6(0x953)]['questions'][_0x24b780],_0x23da77=_0x1ae3e7[_0x3ff8e6(0x51d)]||_0x10871a['shuffledQuiz']['quizType'],_0xbe84d0=_0x10871a[_0x3ff8e6(0x1a9)]===_0x3ff8e6(0xade),_0x57b93c=allMarketItems;_0x5022c8[_0x3ff8e6(0xc7e)]=_0x57b93c[_0x3ff8e6(0x86c)](_0x4e46f8=>{const _0x392e29=_0x3ff8e6,_0x48b924=_0x491dd1>=_0x4e46f8[_0x392e29(0x587)];if(_0x4e46f8['id']===_0x392e29(0x464)){const _0xa88c12=_0x48b924?Math[_0x392e29(0x304)](_0x491dd1/_0x4e46f8[_0x392e29(0x587)]):0x0,_0xeeef28=_0x48b924&&_0xbe84d0;let _0x191a0d=_0x392e29(0x958)+_0x4e46f8[_0x392e29(0x587)]+_0x392e29(0x112),_0x15b776=_0xeeef28?_0x392e29(0xad4):_0x392e29(0xb33);return!_0xbe84d0&&(_0x191a0d=_0x392e29(0x428),_0x15b776=_0x392e29(0x9fa)),_0x392e29(0x372)+(!_0xeeef28?_0x392e29(0x8d1):_0x392e29(0x585))+_0x392e29(0xcab)+_0x4e46f8[_0x392e29(0x4a4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x4e46f8[_0x392e29(0xdfb)]+_0x392e29(0x966)+_0xa88c12+'\x22\x20'+(!_0xeeef28?'disabled':'')+_0x392e29(0x4bf)+_0x15b776+_0x392e29(0x416)+_0x4e46f8['id']+_0x392e29(0xa02)+_0x4e46f8[_0x392e29(0x587)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xeeef28?_0x392e29(0x88c):'')+_0x392e29(0xd29)+_0x191a0d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{let _0x1aa7bd=!_0x48b924,_0x153f8f=_0x48b924?'bg-indigo-600\x20hover:bg-indigo-700':'bg-gray-400',_0x3ceb4f=_0x392e29(0x958)+_0x4e46f8[_0x392e29(0x587)]+'P)';if(_0x4e46f8['id']===_0x392e29(0xb88)){const _0x1ea9f2=_0x1ae3e7['options']&&_0x1ae3e7[_0x392e29(0x7f6)][_0x392e29(0xdbe)]>0x0,_0x486240=_0x23da77===_0x392e29(0x311)||_0x23da77===_0x392e29(0x87d);(!_0x1ea9f2||!_0x486240)&&(_0x1aa7bd=!![],_0x153f8f='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x3ceb4f=_0x392e29(0xa17));}if(_0x4e46f8['id']===_0x392e29(0x42e)||_0x4e46f8['id']===_0x392e29(0x6ea)){const _0x451d4d=_0x23da77==='short_answer'||_0x23da77===_0x392e29(0x87d),_0x33b5a2=_0x1ae3e7[_0x392e29(0x7f6)]&&_0x1ae3e7[_0x392e29(0x7f6)][_0x392e29(0xdbe)]>0x0;(_0x451d4d||!_0x33b5a2)&&(_0x1aa7bd=!![],_0x153f8f=_0x392e29(0x9fa),_0x3ceb4f=_0x392e29(0x30a));}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20'+(_0x1aa7bd?_0x392e29(0x8d1):'bg-white')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x4e46f8['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x4e46f8[_0x392e29(0xdfb)]+_0x392e29(0x3a1)+_0x153f8f+_0x392e29(0xdd3)+_0x4e46f8['id']+_0x392e29(0xbd7)+_0x4e46f8[_0x392e29(0x587)]+_0x392e29(0x862)+(_0x1aa7bd?_0x392e29(0x88c):'')+_0x392e29(0x7d)+_0x3ceb4f+_0x392e29(0xcff);}})[_0x3ff8e6(0x15d)](''),_0x3d4263[_0x3ff8e6(0xcde)][_0x3ff8e6(0xa30)](_0x3ff8e6(0xc15)),_0x159d24[_0x3ff8e6(0x40d)][_0x3ff8e6(0x17d)]=_0x3ff8e6(0xa8c),_0x159d24[_0x3ff8e6(0x40d)][_0x3ff8e6(0x7e9)]=_0x3ff8e6(0x329),setTimeout(()=>{const _0x5814e5=_0x3ff8e6;_0x159d24['style'][_0x5814e5(0x17d)]=_0x5814e5(0xb0c),_0x159d24[_0x5814e5(0x40d)][_0x5814e5(0x7e9)]='0%';},0x32),_0x3410b9=setTimeout(()=>{const _0x50fc37=_0x3ff8e6;_0x3d4263[_0x50fc37(0xcde)][_0x50fc37(0x483)](_0x50fc37(0xc15));},0xea60),document[_0x3ff8e6(0x3a5)](_0x3ff8e6(0xb60))[_0x3ff8e6(0x8d)]=()=>{const _0x5390e3=_0x3ff8e6;clearTimeout(_0x3410b9),_0x3d4263[_0x5390e3(0xcde)]['add'](_0x5390e3(0xc15));},_0x5022c8['querySelectorAll'](_0x3ff8e6(0x5fb))[_0x3ff8e6(0x140)](_0x27270b=>{const _0x217baf=_0x3ff8e6;_0x27270b[_0x217baf(0x8d)]=_0x3a97f5=>{const _0x2afd2e=_0x217baf,_0x285153=_0x3a97f5[_0x2afd2e(0x940)][_0x2afd2e(0x315)][_0x2afd2e(0x97e)],_0x2d6580=parseInt(_0x3a97f5[_0x2afd2e(0x940)][_0x2afd2e(0x315)]['price'],0xa);clearTimeout(_0x3410b9),_0x3d4263[_0x2afd2e(0xcde)][_0x2afd2e(0x483)](_0x2afd2e(0xc15)),handleBuyItem(_0x3c87aa[_0x2afd2e(0x4a4)],_0x285153,_0x2d6580,0x1);};}),_0x5022c8[_0x3ff8e6(0x660)](_0x3ff8e6(0x7c8))[_0x3ff8e6(0x140)](_0x164e0a=>{_0x164e0a['onclick']=_0x3e6419=>{const _0x2936ed=_0x3082,_0x174e66=_0x3e6419['target'][_0x2936ed(0x315)][_0x2936ed(0x97e)],_0x55ecd4=parseInt(_0x3e6419[_0x2936ed(0x940)][_0x2936ed(0x315)]['price'],0xa),_0x5aaebf=document[_0x2936ed(0x3a5)](_0x2936ed(0xbb2)),_0x34fa46=parseInt(_0x5aaebf[_0x2936ed(0x909)],0xa),_0x3a1440=parseInt(_0x5aaebf[_0x2936ed(0x4c9)],0xa);if(!_0x34fa46||_0x34fa46<0x1){showMessage(_0x2936ed(0x92));return;}if(_0x34fa46>_0x3a1440){showMessage(_0x2936ed(0x672)+_0x3a1440+_0x2936ed(0x130));return;}clearTimeout(_0x3410b9),_0x3d4263[_0x2936ed(0xcde)][_0x2936ed(0x483)]('hidden'),handleBuyItem(_0x3c87aa[_0x2936ed(0x4a4)],_0x174e66,_0x55ecd4,_0x34fa46);};});}async function handleBuyItem(_0x43fd09,_0x35b81d,_0x3cec3d,_0x2b69fc=0x1){const _0x2e9a75=_0x4813c4,_0x189fdf=doc(db,_0x2e9a75(0x2b3)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x2e9a75(0x63d),_0x43fd09);try{await runTransaction(db,async _0x3cd40=>{const _0x8edcd7=_0x2e9a75,_0xcbb7e1=await _0x3cd40[_0x8edcd7(0x6c0)](_0x189fdf);if(!_0xcbb7e1[_0x8edcd7(0x3ea)]())throw'ไม่พบข้อมูลผู้เล่น';const _0x1f5d15=_0xcbb7e1[_0x8edcd7(0x1ea)]()[_0x8edcd7(0x183)]||0x0,_0x27e4a0=_0x3cec3d*_0x2b69fc;if(_0x1f5d15<_0x27e4a0)throw'มี\x20Points\x20ไม่เพียงพอ';const _0x18d723={};_0x18d723[_0x8edcd7(0x183)]=increment(-_0x27e4a0),_0x18d723['powerups.'+_0x35b81d]=increment(_0x2b69fc),_0x3cd40[_0x8edcd7(0x1d2)](_0x189fdf,_0x18d723);}),showMessage('ซื้อ\x20\x22'+_0x35b81d+'\x22\x20x'+_0x2b69fc+_0x2e9a75(0x317));}catch(_0x39984f){console[_0x2e9a75(0xabd)](_0x2e9a75(0x7ed),_0x39984f),showMessage(typeof _0x39984f==='string'?_0x39984f:_0x2e9a75(0x6e0));}}async function handlePayForMarketEntry(_0x220c98,_0x1255da,_0x1cbb09){const _0x227fd7=_0x4813c4,_0x5eb71f=doc(db,_0x227fd7(0x2b3)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x227fd7(0x63d),_0x220c98);try{await runTransaction(db,async _0xb58b41=>{const _0x301d84=_0x227fd7,_0x93d00e=await _0xb58b41[_0x301d84(0x6c0)](_0x5eb71f);if(!_0x93d00e[_0x301d84(0x3ea)]())throw _0x301d84(0x98);const _0x4fdd7e=_0x93d00e[_0x301d84(0x1ea)]()[_0x301d84(0x183)]||0x0;if(_0x4fdd7e<0x1)throw _0x301d84(0x565);const _0x354709={};_0x354709[_0x301d84(0x183)]=increment(-0x1),_0xb58b41[_0x301d84(0x1d2)](_0x5eb71f,_0x354709);});const _0xbd45c1={..._0x1cbb09,'totalPoints':(_0x1cbb09[_0x227fd7(0x183)]||0x0)-0x1};openBlackMarket(_0x1255da,_0xbd45c1);}catch(_0x2ad798){console['error'](_0x227fd7(0x7f4),_0x2ad798),showMessage(typeof _0x2ad798===_0x227fd7(0x8e3)?_0x2ad798:_0x227fd7(0xab8));}}const audioCtx=new(window[(_0x4813c4(0xd02))]||window[(_0x4813c4(0xb04))])();function playSystemSound(_0x46b8bb){const _0x20243b=_0x4813c4;if(audioCtx['state']===_0x20243b(0x807))audioCtx[_0x20243b(0xb31)]();const _0x2c4d42=audioCtx[_0x20243b(0x9c4)](),_0x4312cc=audioCtx[_0x20243b(0xc2c)]();_0x2c4d42['connect'](_0x4312cc),_0x4312cc['connect'](audioCtx[_0x20243b(0x1fe)]);const _0x455800=audioCtx[_0x20243b(0x664)];if(_0x46b8bb===_0x20243b(0x203))_0x2c4d42[_0x20243b(0x680)]=_0x20243b(0x82c),_0x2c4d42['frequency']['setValueAtTime'](0x258,_0x455800),_0x2c4d42[_0x20243b(0x238)][_0x20243b(0xde7)](0x4b0,_0x455800+0.1),_0x4312cc[_0x20243b(0x128)]['setValueAtTime'](0.1,_0x455800),_0x4312cc[_0x20243b(0x128)][_0x20243b(0xde7)](0.01,_0x455800+0.5),_0x2c4d42[_0x20243b(0x1d8)](_0x455800),_0x2c4d42['stop'](_0x455800+0.5);else{if(_0x46b8bb==='incorrect')_0x2c4d42[_0x20243b(0x680)]=_0x20243b(0x434),_0x2c4d42['frequency']['setValueAtTime'](0x96,_0x455800),_0x2c4d42['frequency']['exponentialRampToValueAtTime'](0x64,_0x455800+0.2),_0x4312cc[_0x20243b(0x128)][_0x20243b(0x9ae)](0.1,_0x455800),_0x4312cc[_0x20243b(0x128)][_0x20243b(0xde7)](0.01,_0x455800+0.3),_0x2c4d42[_0x20243b(0x1d8)](_0x455800),_0x2c4d42[_0x20243b(0x63c)](_0x455800+0.3);else _0x46b8bb===_0x20243b(0x20b)&&(_0x2c4d42['type']=_0x20243b(0xbd8),_0x2c4d42[_0x20243b(0x238)][_0x20243b(0x9ae)](0x12c,_0x455800),_0x2c4d42[_0x20243b(0x238)][_0x20243b(0x154)](0x258,_0x455800+0.1),_0x4312cc[_0x20243b(0x128)]['setValueAtTime'](0.1,_0x455800),_0x4312cc[_0x20243b(0x128)][_0x20243b(0x154)](0.01,_0x455800+0.3),_0x2c4d42[_0x20243b(0x1d8)](_0x455800),_0x2c4d42[_0x20243b(0x63c)](_0x455800+0.3));}}initialize();
