const _0x433974=_0x300c;(function(_0xf77b30,_0x567a35){const _0x518304=_0x300c,_0x293dd9=_0xf77b30();while(!![]){try{const _0x2a730c=-parseInt(_0x518304(0x40f))/0x1+-parseInt(_0x518304(0x783))/0x2*(-parseInt(_0x518304(0x5f8))/0x3)+-parseInt(_0x518304(0x5a0))/0x4+-parseInt(_0x518304(0x1ad))/0x5*(parseInt(_0x518304(0x764))/0x6)+parseInt(_0x518304(0x143))/0x7*(parseInt(_0x518304(0x4dc))/0x8)+-parseInt(_0x518304(0x55a))/0x9+parseInt(_0x518304(0x70a))/0xa;if(_0x2a730c===_0x567a35)break;else _0x293dd9['push'](_0x293dd9['shift']());}catch(_0x5d57a2){_0x293dd9['push'](_0x293dd9['shift']());}}}(_0x2921,0x63b8e));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x26f824=_0x300c;if(_0x26f824(0x33e)in navigator)try{wakeLock=await navigator[_0x26f824(0x33e)]['request'](_0x26f824(0x827)),console[_0x26f824(0x37f)](_0x26f824(0x343)),wakeLock[_0x26f824(0x3b9)](_0x26f824(0x5d8),()=>{const _0x28cb36=_0x26f824;console['log'](_0x28cb36(0x54e));});}catch(_0x3ca7c5){console[_0x26f824(0x6ee)](_0x26f824(0x7aa)+_0x3ca7c5[_0x26f824(0x3ab)]+',\x20'+_0x3ca7c5[_0x26f824(0x64a)]);}else console['warn'](_0x26f824(0x3ad));},releaseWakeLock=async()=>{const _0x562225=_0x300c;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log'](_0x562225(0x251)));};let modalConfirmAction=null,cheatAttempts=0x0;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x433974(0x649),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x433974(0x69d),'name':_0x433974(0x241)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x726)},{'category':_0x433974(0x69d),'name':_0x433974(0x172)},{'category':_0x433974(0x69d),'name':_0x433974(0x14d)},{'category':_0x433974(0x69d),'name':'การบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x108)},{'category':'จำนวนและการดำเนินการ','name':'การคูณ'},{'category':_0x433974(0x69d),'name':'การหาร'},{'category':_0x433974(0x69d),'name':_0x433974(0x56b)},{'category':_0x433974(0x69d),'name':_0x433974(0x64c)},{'category':_0x433974(0x69d),'name':_0x433974(0x25b)},{'category':_0x433974(0x69d),'name':_0x433974(0x576)},{'category':_0x433974(0x69d),'name':_0x433974(0x427)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x818)},{'category':_0x433974(0x69d),'name':_0x433974(0x264)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x755)},{'category':_0x433974(0x69d),'name':_0x433974(0x36a)},{'category':_0x433974(0x69d),'name':_0x433974(0x7e0)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x163)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x629)},{'category':_0x433974(0x69d),'name':_0x433974(0x161)},{'category':_0x433974(0x69d),'name':_0x433974(0x840)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x260)},{'category':_0x433974(0x69d),'name':_0x433974(0x2c4)},{'category':_0x433974(0x69d),'name':_0x433974(0x2ae)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x84d)},{'category':_0x433974(0x69d),'name':_0x433974(0x215)},{'category':_0x433974(0x69d),'name':'การคูณทศนิยม'},{'category':_0x433974(0x69d),'name':_0x433974(0x873)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x81c)},{'category':_0x433974(0x69d),'name':_0x433974(0x60d)},{'category':'จำนวนและการดำเนินการ','name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x433974(0x69d),'name':_0x433974(0x89c)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x3ca)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x40e)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x542)},{'category':'จำนวนและการดำเนินการ','name':_0x433974(0x842)},{'category':_0x433974(0x356),'name':_0x433974(0x122)},{'category':_0x433974(0x356),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x433974(0x356),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x433974(0x356),'name':_0x433974(0x3cb)},{'category':_0x433974(0x356),'name':_0x433974(0x494)},{'category':_0x433974(0x356),'name':_0x433974(0x3ba)},{'category':_0x433974(0x356),'name':_0x433974(0x767)},{'category':_0x433974(0x356),'name':_0x433974(0x714)},{'category':'การวัด','name':_0x433974(0x277)},{'category':'การวัด','name':_0x433974(0x84e)},{'category':_0x433974(0x356),'name':_0x433974(0x592)},{'category':_0x433974(0x356),'name':'มุมและการวัดมุม'},{'category':_0x433974(0x356),'name':_0x433974(0x135)},{'category':_0x433974(0x356),'name':_0x433974(0x48d)},{'category':_0x433974(0x2a2),'name':_0x433974(0x304)},{'category':'เรขาคณิต','name':'ความสัมพันธ์ของมุม'},{'category':_0x433974(0x2a2),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x433974(0x2a2),'name':_0x433974(0x714)},{'category':_0x433974(0x2a2),'name':_0x433974(0x6e8)},{'category':_0x433974(0x2a2),'name':'ความคล้ายของรูป'},{'category':_0x433974(0x2a2),'name':_0x433974(0x106)},{'category':_0x433974(0x2a2),'name':_0x433974(0x68c)},{'category':_0x433974(0x2a2),'name':_0x433974(0x159)},{'category':_0x433974(0x2a2),'name':_0x433974(0x149)},{'category':_0x433974(0x2a2),'name':_0x433974(0x590)},{'category':_0x433974(0x2a2),'name':_0x433974(0x7a4)},{'category':_0x433974(0x2a2),'name':_0x433974(0x60f)},{'category':_0x433974(0x2a2),'name':_0x433974(0x415)},{'category':_0x433974(0x2a2),'name':_0x433974(0x601)},{'category':_0x433974(0x6b4),'name':'ตัวแปรและนิพจน์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x433974(0x1b6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x433974(0x7ee)},{'category':_0x433974(0x6b4),'name':'การแยกตัวประกอบ'},{'category':_0x433974(0x6b4),'name':_0x433974(0x819)},{'category':_0x433974(0x6b4),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x433974(0x6b4),'name':_0x433974(0x14e)},{'category':_0x433974(0x6b4),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x433974(0x80d)},{'category':_0x433974(0x6b4),'name':_0x433974(0x124)},{'category':_0x433974(0x6b4),'name':_0x433974(0x59f)},{'category':_0x433974(0x6b4),'name':_0x433974(0x87b)},{'category':_0x433974(0x6b4),'name':'สมการลอการิทึม'},{'category':_0x433974(0x6b4),'name':_0x433974(0x7c2)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการค่าสัมบูรณ์'},{'category':_0x433974(0x6b4),'name':_0x433974(0x807)},{'category':_0x433974(0x6b4),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x433974(0x4f4)},{'category':_0x433974(0x6b4),'name':_0x433974(0x3b7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x433974(0x77e)},{'category':_0x433974(0x6b4),'name':_0x433974(0x70f)},{'category':_0x433974(0x6b4),'name':_0x433974(0x41d)},{'category':_0x433974(0x6b4),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x433974(0x6b4),'name':'ฟังก์ชันพหุนาม'},{'category':_0x433974(0x6b4),'name':_0x433974(0x6f8)},{'category':_0x433974(0x6b4),'name':_0x433974(0x32f)},{'category':_0x433974(0x6b4),'name':_0x433974(0x6f6)},{'category':_0x433974(0x6b4),'name':_0x433974(0x3c9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x433974(0x688)},{'category':_0x433974(0x6b4),'name':_0x433974(0x762)},{'category':_0x433974(0x6b4),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x433974(0x6b4),'name':_0x433974(0x5aa)},{'category':_0x433974(0x6b4),'name':_0x433974(0x5d0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x433974(0x7b1)},{'category':_0x433974(0x6b4),'name':_0x433974(0x1fd)},{'category':_0x433974(0x64f),'name':_0x433974(0x42f)},{'category':_0x433974(0x64f),'name':_0x433974(0x741)},{'category':_0x433974(0x64f),'name':_0x433974(0x539)},{'category':_0x433974(0x64f),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x433974(0x64f),'name':_0x433974(0x132)},{'category':_0x433974(0x64f),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x433974(0x64f),'name':_0x433974(0x895)},{'category':_0x433974(0x64f),'name':'วงรี'},{'category':_0x433974(0x64f),'name':_0x433974(0x84b)},{'category':_0x433974(0x12e),'name':_0x433974(0x483)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x433974(0x12e),'name':_0x433974(0x3c2)},{'category':_0x433974(0x12e),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x433974(0x12e),'name':_0x433974(0x61d)},{'category':'ตรีโกณมิติ','name':_0x433974(0x38f)},{'category':'ตรีโกณมิติ','name':_0x433974(0x2a5)},{'category':_0x433974(0x12e),'name':_0x433974(0x55e)},{'category':'ตรีโกณมิติ','name':_0x433974(0x166)},{'category':_0x433974(0x12e),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':'ตรีโกณมิติ','name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':'การจัดกลุ่มข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':_0x433974(0x48b),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x433974(0x48b),'name':_0x433974(0x2b8)},{'category':_0x433974(0x48b),'name':_0x433974(0x71a)},{'category':_0x433974(0x48b),'name':'ค่าเฉลี่ย'},{'category':_0x433974(0x48b),'name':_0x433974(0x613)},{'category':'สถิติและความน่าจะเป็น','name':_0x433974(0x5ad)},{'category':_0x433974(0x48b),'name':_0x433974(0x19b)},{'category':'สถิติและความน่าจะเป็น','name':_0x433974(0x1b9)},{'category':'สถิติและความน่าจะเป็น','name':_0x433974(0x894)},{'category':_0x433974(0x48b),'name':_0x433974(0x652)},{'category':_0x433974(0x48b),'name':_0x433974(0x808)},{'category':_0x433974(0x48b),'name':_0x433974(0x240)},{'category':_0x433974(0x48b),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x433974(0x48b),'name':_0x433974(0x715)},{'category':_0x433974(0x48b),'name':_0x433974(0x5f7)},{'category':_0x433974(0x48b),'name':_0x433974(0x4f6)},{'category':_0x433974(0x48b),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x433974(0x48b),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x433974(0x48b),'name':_0x433974(0x2e2)},{'category':_0x433974(0x48b),'name':_0x433974(0x38d)},{'category':_0x433974(0x48b),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x433974(0x499),'name':'ลิมิต'},{'category':_0x433974(0x499),'name':'ความต่อเนื่อง'},{'category':_0x433974(0x499),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x433974(0x499),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':'แคลคูลัสเบื้องต้น','name':_0x433974(0x6a5)},{'category':_0x433974(0x499),'name':_0x433974(0x3db)},{'category':_0x433974(0x499),'name':_0x433974(0x37e)},{'category':'แคลคูลัสเบื้องต้น','name':'อัตราการเปลี่ยนแปลงทันที'},{'category':'แคลคูลัสเบื้องต้น','name':_0x433974(0x81d)},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x433974(0x52a)},{'category':'แคลคูลัสเบื้องต้น','name':_0x433974(0x4a2)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x433974(0x5f6)},{'category':_0x433974(0x7ff),'name':_0x433974(0x3b6)},{'category':_0x433974(0x7ff),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x433974(0x7ff),'name':_0x433974(0x7b2)},{'category':_0x433974(0x7ff),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x433974(0x7ff),'name':'ดีเทอร์มิแนนต์'},{'category':_0x433974(0x7ff),'name':_0x433974(0x3a0)},{'category':_0x433974(0x77a),'name':_0x433974(0x766)},{'category':_0x433974(0x77a),'name':'ดอกเบี้ยทบต้น'},{'category':_0x433974(0x77a),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x433974(0x77a),'name':_0x433974(0x12b)},{'category':_0x433974(0x77a),'name':_0x433974(0x371)},{'category':_0x433974(0x3d0),'name':_0x433974(0x5e8)},{'category':_0x433974(0x3d0),'name':_0x433974(0x336)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x433974(0x1a0)}];function renderTopicCheckboxes(){const _0x3008c2=_0x433974,_0x5795b1=document[_0x3008c2(0x633)](_0x3008c2(0x431));if(!_0x5795b1)return;const _0x1947b7=allMathTopics,_0x548a1c=customMathTopics[_0x3008c2(0x844)](_0x4012b4=>({'id':_0x4012b4['id'],'category':_0x3008c2(0x11e),'name':_0x4012b4['name']})),_0x57c12a=[..._0x1947b7,..._0x548a1c],_0x458f99=_0x57c12a[_0x3008c2(0x4c9)]((_0x4b3c6a,_0x5d27bc)=>{const _0x224bef=_0x3008c2;return!_0x4b3c6a[_0x5d27bc[_0x224bef(0x7de)]]&&(_0x4b3c6a[_0x5d27bc[_0x224bef(0x7de)]]=[]),_0x4b3c6a[_0x5d27bc[_0x224bef(0x7de)]][_0x224bef(0x690)](_0x5d27bc),_0x4b3c6a;},{});let _0x3c5a00='';const _0x410b60=[_0x3008c2(0x11e),...Object[_0x3008c2(0x41b)](_0x458f99)[_0x3008c2(0x622)](_0x5230ee=>_0x5230ee!==_0x3008c2(0x11e))];for(const _0x33102e of _0x410b60){if(_0x458f99[_0x33102e]){const _0x51286f=_0x33102e===_0x3008c2(0x11e),_0x31fdff=_0x51286f?_0x3008c2(0x547):_0x3008c2(0x602),_0x55bf14=_0x51286f?'text-blue-700':_0x3008c2(0x10b);_0x3c5a00+=_0x3008c2(0x17e),_0x3c5a00+=_0x3008c2(0x6cc)+_0x55bf14+_0x3008c2(0x36d)+_0x31fdff+_0x3008c2(0x37d)+_0x33102e+_0x3008c2(0x69c),_0x458f99[_0x33102e]['forEach'](_0x12d279=>{const _0x1cf369=_0x3008c2,_0x1079f5=!!_0x12d279['id'],_0x1668ef=_0x1079f5?_0x1cf369(0x7fb)+_0x12d279['id']+_0x1cf369(0x440)+_0x12d279['id']+_0x1cf369(0x7da)+_0x12d279['id']+_0x1cf369(0x361)+_0x12d279['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x3c5a00+=_0x1cf369(0x7bc)+(_0x12d279['id']||'')+_0x1cf369(0x317)+_0x12d279[_0x1cf369(0x3ab)]+_0x1cf369(0x2af)+_0x12d279[_0x1cf369(0x3ab)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1079f5?_0x1cf369(0x893)+_0x12d279[_0x1cf369(0x3ab)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1668ef+_0x1cf369(0x3a8);}),_0x3c5a00+='</div>';}}_0x5795b1[_0x3008c2(0x5fb)]=_0x3c5a00||_0x3008c2(0x328),_0x5795b1['removeEventListener'](_0x3008c2(0x5d6),updateSelectedTopicsCount),_0x5795b1[_0x3008c2(0x3b9)](_0x3008c2(0x5d6),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x232850,_0x358de7){const _0x57e6dc=_0x433974;if(!_0x232850||!_0x358de7[_0x57e6dc(0x882)]()){showMessage(_0x57e6dc(0x58b));return;}try{const _0x46250b=doc(db,_0x57e6dc(0x2c6)+appId+_0x57e6dc(0x52e),_0x232850);await updateDoc(_0x46250b,{'name':_0x358de7[_0x57e6dc(0x882)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x2f0596){console[_0x57e6dc(0x6ee)](_0x57e6dc(0x538),_0x2f0596),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x1e2a9b,_0x2c8a5a){const _0x30e7b5=_0x433974;if(!_0x1e2a9b)return;const _0x1f5e70=_0x1e2a9b[_0x30e7b5(0x3fa)](_0x30e7b5(0x20c)),_0x3a135c=_0x1e2a9b[_0x30e7b5(0x3fa)](_0x30e7b5(0x1e7)),_0x1398f7=_0x1e2a9b[_0x30e7b5(0x3fa)](_0x30e7b5(0x49f)),_0xbda6f4=_0x1e2a9b[_0x30e7b5(0x3fa)](_0x30e7b5(0x6b9));_0x1f5e70[_0x30e7b5(0x1a4)][_0x30e7b5(0x55f)]('hidden',_0x2c8a5a),_0x3a135c['classList'][_0x30e7b5(0x55f)](_0x30e7b5(0x10c),!_0x2c8a5a),_0x1398f7['classList'][_0x30e7b5(0x55f)](_0x30e7b5(0x10c),_0x2c8a5a),_0xbda6f4[_0x30e7b5(0x1a4)][_0x30e7b5(0x55f)]('hidden',!_0x2c8a5a),_0x2c8a5a&&(_0x3a135c['focus'](),_0x3a135c[_0x30e7b5(0x5a8)]());}function updateSelectedTopicsCount(){const _0x360846=_0x433974,_0x46ae07=document[_0x360846(0x633)](_0x360846(0x431)),_0x25b4b5=_0x46ae07['querySelectorAll'](_0x360846(0x73a))[_0x360846(0x31c)],_0x3abcbf=document[_0x360846(0x633)](_0x360846(0x3c3));_0x25b4b5>0x0?_0x3abcbf[_0x360846(0x1d4)]=_0x360846(0x811)+_0x25b4b5+'\x20หัวข้อ)':_0x3abcbf[_0x360846(0x1d4)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x433974(0x699),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x433974(0x2f3),quizLeaderboardSortOrder=_0x433974(0x151),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x433974(0x588),'name':_0x433974(0x521),'description':_0x433974(0x706),'icon':_0x433974(0x279)},'QUICK_THINKER':{'id':_0x433974(0x7d9),'name':_0x433974(0x3b2),'description':_0x433974(0x7fc),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x433974(0x597),'name':'ท็อปฟอร์ม','description':_0x433974(0x623),'icon':_0x433974(0x880)},'FIRST_TRY_ACE':{'id':_0x433974(0x43d),'name':_0x433974(0x3f4),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x433974(0x26c)},'COMEBACK_KING':{'id':_0x433974(0x7b6),'name':_0x433974(0x6d7),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x433974(0x871)},'SPECIALIST':{'id':_0x433974(0x570),'name':'ผู้เชี่ยวชาญ','description':_0x433974(0x1ff),'icon':_0x433974(0x780)},'PERSEVERANCE':{'id':_0x433974(0x292),'name':_0x433974(0x16c),'description':_0x433974(0x35d),'icon':_0x433974(0x696)}},firebaseConfig={'apiKey':_0x433974(0x815),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x433974(0x810),'storageBucket':_0x433974(0x7e4),'messagingSenderId':_0x433974(0x1e3),'appId':_0x433974(0x216),'measurementId':_0x433974(0x4af)},appId=typeof __app_id!==_0x433974(0x4d5)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x433974(0x633)](_0x433974(0x7cf)),studentView=document[_0x433974(0x633)](_0x433974(0x269)),projectDashboardView=document[_0x433974(0x633)](_0x433974(0x323)),projectDetailView=document['getElementById'](_0x433974(0x5ed)),quizResultsView=document[_0x433974(0x633)]('quiz-results-view'),projectList=document['getElementById'](_0x433974(0x6d3)),noProjectsMsg=document[_0x433974(0x633)](_0x433974(0x872)),projectTitle=document['getElementById']('project-title'),projectIdDisplay=document[_0x433974(0x633)](_0x433974(0x4ba)),studentList=document[_0x433974(0x633)](_0x433974(0x593)),messageModal=document[_0x433974(0x633)](_0x433974(0x69a)),modalMessage=document[_0x433974(0x633)](_0x433974(0x599)),createProjectModal=document[_0x433974(0x633)](_0x433974(0x7d8)),adminPasswordModal=document[_0x433974(0x633)](_0x433974(0x468)),confirmationModal=document['getElementById'](_0x433974(0x694)),userIdDisplay=document[_0x433974(0x633)]('user-id-display'),topicTab=document['getElementById'](_0x433974(0x6ef)),textTab=document['getElementById'](_0x433974(0x302)),topicInputArea=document[_0x433974(0x633)](_0x433974(0x63d)),textInputArea=document['getElementById']('text-input-area'),manageTab=document[_0x433974(0x633)](_0x433974(0x6cb)),resultsTab=document[_0x433974(0x633)](_0x433974(0x41e)),leaderboardTab=document[_0x433974(0x633)]('leaderboard-tab'),manageTabContent=document[_0x433974(0x633)](_0x433974(0x49b)),resultsTabContent=document[_0x433974(0x633)](_0x433974(0x738)),leaderboardTabContent=document[_0x433974(0x633)](_0x433974(0x5bb)),projectQuizzesList=document[_0x433974(0x633)](_0x433974(0x72c)),fileTab=document[_0x433974(0x633)]('file-tab'),fileInputArea=document['getElementById'](_0x433974(0x4e4)),fileUploadInput=document['getElementById'](_0x433974(0x558)),worksheetTab=document[_0x433974(0x633)](_0x433974(0x77f)),worksheetInputArea=document[_0x433974(0x633)]('worksheet-input-area'),generateWorksheetBtn=document['getElementById'](_0x433974(0x191)),studentInitialView=document[_0x433974(0x633)](_0x433974(0x2f2)),studentNameSelectionView=document[_0x433974(0x633)](_0x433974(0x345)),studentQuizArea=document[_0x433974(0x633)]('student-quiz-area'),studentResultArea=document[_0x433974(0x633)]('student-result-area'),studentReadingArea=document[_0x433974(0x633)](_0x433974(0x25f)),loadQuizBtn=document[_0x433974(0x633)]('load-quiz-btn'),startQuizBtn=document[_0x433974(0x633)](_0x433974(0x419)),studentJoinGameView=document['getElementById'](_0x433974(0x261)),presentationModal=document[_0x433974(0x633)](_0x433974(0x57d)),renameQuizModal=document[_0x433974(0x633)](_0x433974(0x673)),moveQuizModal=document['getElementById'](_0x433974(0x5c9)),quizSettingsModal=document['getElementById'](_0x433974(0x1f4)),quizStatusModal=document['getElementById'](_0x433974(0x6d8)),liveGameView=document[_0x433974(0x633)](_0x433974(0x788));function handleAutoFixLatex(){const _0xab0901=_0x433974,_0x2b1547=document[_0xab0901(0x633)]('quiz-editor-questions-container')||document,_0x4b2035=_0x2b1547[_0xab0901(0x6a8)]([_0xab0901(0x402),_0xab0901(0x7a9),_0xab0901(0x116),_0xab0901(0x501),_0xab0901(0x75e),'label',_0xab0901(0x301),_0xab0901(0x742),_0xab0901(0x61f)]['join'](','));let _0x537d46=0x0;const _0xbb3278=_0x452129=>'value'in _0x452129?String(_0x452129[_0xab0901(0x411)]):_0x452129[_0xab0901(0x7cc)]!==undefined?_0x452129[_0xab0901(0x7cc)]:_0x452129[_0xab0901(0x1d4)]||'',_0x21fc53=(_0x2f2c73,_0x261168)=>{const _0x2d741c=_0xab0901;if(_0x2d741c(0x411)in _0x2f2c73){_0x2f2c73['value']=_0x261168;return;}if(_0x2f2c73['querySelector']&&_0x2f2c73[_0x2d741c(0x3fa)](_0x2d741c(0x30c)))return;if(_0x2f2c73[_0x2d741c(0x7cc)]!==undefined)_0x2f2c73[_0x2d741c(0x7cc)]=_0x261168;else _0x2f2c73[_0x2d741c(0x1d4)]=_0x261168;},_0x452302=_0xf470d9=>_0xf470d9[_0xab0901(0x1f2)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0xab0901(0x1f2)](/\r\n?/g,'\x0a'),_0x31e343=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5ebb9c=_0x5880bd=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0xab0901(0x1c0)](_0x5880bd),_0x1d5f2e=_0x4f0b11=>{const _0x4acebf=_0xab0901,_0x220b24=(_0x4f0b11[_0x4acebf(0x4be)](/\{/g)||[])[_0x4acebf(0x31c)],_0x2b005c=(_0x4f0b11['match'](/\}/g)||[])[_0x4acebf(0x31c)];if(_0x220b24>_0x2b005c)_0x4f0b11=_0x4f0b11+'}'['repeat'](_0x220b24-_0x2b005c);return _0x4f0b11;},_0x5ae963=_0x175445=>{const _0x190402=_0xab0901;let _0x16b349=_0x175445[_0x190402(0x882)]();const _0x59ea29=[_0x190402(0x58d),_0x190402(0x5e2),_0x190402(0x76f),'sqrt',_0x190402(0x85f),_0x190402(0x42e),'cdot',_0x190402(0x59d),_0x190402(0x276),_0x190402(0x28c),'le','ge',_0x190402(0x316),'pm',_0x190402(0x45d),_0x190402(0x5ff),'cos',_0x190402(0x862),_0x190402(0x37f),'ln',_0x190402(0x559),_0x190402(0x6ad),_0x190402(0x7a5),_0x190402(0x2ab),_0x190402(0x2b9),_0x190402(0x59c),_0x190402(0x219),_0x190402(0x493),'deg'];_0x16b349=_0x16b349[_0x190402(0x1f2)](new RegExp(_0x190402(0x284)+_0x59ea29[_0x190402(0x63c)]('|')+_0x190402(0x541),'g'),'\x5c'),_0x59ea29[_0x190402(0x1c8)](_0x4b2087=>{const _0x2ae525=_0x190402;_0x16b349=_0x16b349['replace'](new RegExp(_0x2ae525(0x72e)+_0x4b2087+'\x5cb','g'),(_0x4ab876,_0x536169)=>_0x536169+'\x5c'+_0x4b2087);});const _0x451aa1=[[/×/g,_0x190402(0x5ef)],[/·/g,_0x190402(0x514)],[/÷/g,'\x5cdiv'],[/≤/g,_0x190402(0x305)],[/≥/g,'\x5cge'],[/≠/g,_0x190402(0x1c5)],[/±/g,'\x5cpm'],[/∑/g,_0x190402(0x10d)],[/−/g,'-']];_0x451aa1[_0x190402(0x1c8)](([_0x576a42,_0x5e5af9])=>{const _0x1d4106=_0x190402;_0x16b349=_0x16b349[_0x1d4106(0x1f2)](_0x576a42,_0x5e5af9);}),_0x16b349=_0x16b349[_0x190402(0x1f2)](/√\s*\(([^)]*)\)/g,_0x190402(0x115)),_0x16b349=_0x16b349[_0x190402(0x1f2)](/√\s*([A-Za-z0-9]+)/g,_0x190402(0x115)),_0x16b349=_0x16b349[_0x190402(0x1f2)](/(^|[^\\])\bimes\b/g,_0x190402(0x761))[_0x190402(0x1f2)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x190402(0x776))[_0x190402(0x1f2)](/(^|[^\\])ext\{/g,_0x190402(0x612))[_0x190402(0x1f2)](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x190402(0x1f2)](/\\text\(([^)]*)\)/g,_0x190402(0x141))[_0x190402(0x1f2)](/\s\\frac/g,_0x190402(0x51c)),_0x16b349=_0x16b349[_0x190402(0x1f2)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x24c224,_0x25fddc,_0x5964bc,_0x2d4004)=>_0x25fddc+_0x190402(0x29c)+_0x5964bc+'}{'+_0x2d4004+'}'),_0x16b349=_0x16b349[_0x190402(0x1f2)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')[_0x190402(0x1f2)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x190402(0x300))[_0x190402(0x1f2)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x190402(0x300)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x190402(0x6c9)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x190402(0x6c9)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x190402(0x6c9)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x190402(0x6c9)],[/(\d+)\s*°\s*C/g,_0x190402(0x6c9)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x190402(0x197)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x190402(0x1c8)](([_0x555355,_0x101244])=>{const _0x3d2233=_0x190402;_0x16b349=_0x16b349[_0x3d2233(0x1f2)](_0x555355,_0x101244);}),_0x16b349=_0x16b349['replace'](/(\d+)\s*%/g,_0x190402(0x2da)),_0x16b349=_0x16b349[_0x190402(0x1f2)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x190402(0x1f2)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x190402(0x7e5))[_0x190402(0x1f2)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),['sin',_0x190402(0x312),_0x190402(0x862),'log','ln'][_0x190402(0x1c8)](_0x1c465e=>{const _0x4e122e=_0x190402;_0x16b349=_0x16b349[_0x4e122e(0x1f2)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x1c465e+_0x4e122e(0x47a),'g'),(_0x3ced28,_0x91ed23)=>_0x91ed23+'\x5c'+_0x1c465e+'(');});const _0x3a8aed=(_0x16b349['match'](/\\left\b/g)||[])[_0x190402(0x31c)],_0x3de279=(_0x16b349[_0x190402(0x4be)](/\\right\b/g)||[])[_0x190402(0x31c)];if(_0x3a8aed!==_0x3de279)_0x16b349=_0x16b349['replace'](/\\left\b/g,'')[_0x190402(0x1f2)](/\\right\b/g,'');return _0x16b349=_0x1d5f2e(_0x16b349),_0x16b349;},_0x1d1f99=_0x11bcbc=>{const _0xe1dbda=_0xab0901;if(/\$|\\\(|\\\[/[_0xe1dbda(0x1c0)](_0x11bcbc))return _0x11bcbc;if(!_0x31e343[_0xe1dbda(0x1c0)](_0x11bcbc))return _0x11bcbc;const _0x33fb7d=_0x11bcbc[_0xe1dbda(0x4be)](/^\s*/)[0x0],_0x2e8ea4=_0x11bcbc[_0xe1dbda(0x4be)](/\s*$/)[0x0],_0x34c7f3=_0x11bcbc[_0xe1dbda(0x882)]();return _0x33fb7d+'$'+_0x5ae963(_0x34c7f3)+'$'+_0x2e8ea4;},_0x59468a=_0x2345b0=>_0x2345b0['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x4b2035[_0xab0901(0x1c8)](_0x452ef0=>{const _0xbf5171=_0xab0901;if(_0x452ef0[_0xbf5171(0x3fa)]&&_0x452ef0[_0xbf5171(0x3fa)](_0xbf5171(0x30c)))return;const _0x3b8a2c=_0xbb3278(_0x452ef0);let _0x337c1d=_0x452302(_0x3b8a2c);_0x337c1d=_0x337c1d[_0xbf5171(0x1f2)](/\$\$([\s\S]*?)\$\$/g,(_0x1c204e,_0x4206a3)=>'$$'+_0x5ae963(_0x4206a3)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x351579,_0x8a85bb)=>'$'+_0x5ae963(_0x8a85bb)+'$')[_0xbf5171(0x1f2)](/\\\(([\s\S]*?)\\\)/g,(_0x5d064a,_0x4794e2)=>'\x5c('+_0x5ae963(_0x4794e2)+'\x5c)')[_0xbf5171(0x1f2)](/\\\[([\s\S]*?)\\\]/g,(_0x3b7225,_0x1353f3)=>'\x5c['+_0x5ae963(_0x1353f3)+'\x5c]');let _0x512144=_0x337c1d,_0x1d0fe0=0x0;const _0x11198b=_0x561ff2=>_0x561ff2[_0xbf5171(0x1f2)](/S([^S]{0,2000}?)S/g,(_0x446067,_0x5d31f1)=>_0x31e343[_0xbf5171(0x1c0)](_0x5d31f1)?'$'+_0x5ae963(_0x5d31f1)+'$':_0x446067);while(_0x1d0fe0++<0x14){const _0xa0b0ba=_0x11198b(_0x512144);if(_0xa0b0ba===_0x512144)break;_0x512144=_0xa0b0ba;}_0x337c1d=_0x512144,_0x337c1d=_0x337c1d['split']('\x0a')[_0xbf5171(0x844)](_0x563836=>{const _0x14192a=_0xbf5171;if(!(/[,\u3001，;；]/[_0x14192a(0x1c0)](_0x563836)||/\s(?:และ|หรือ)\s/[_0x14192a(0x1c0)](_0x563836))||!_0x31e343[_0x14192a(0x1c0)](_0x563836))return _0x563836;return _0x59468a(_0x563836)['map'](_0x5875a3=>{const _0x1a1249=_0x14192a;if(/^\s(?:และ|หรือ)\s$/['test'](_0x5875a3)||/^[,\u3001，;；]$/[_0x1a1249(0x1c0)](_0x5875a3))return _0x5875a3;return _0x1d1f99(_0x5875a3);})['join']('');})[_0xbf5171(0x63c)]('\x0a'),_0x337c1d=_0x337c1d['split']('\x0a')[_0xbf5171(0x844)](_0x2c8bfd=>{const _0x16c619=_0xbf5171,_0x186956=_0x2c8bfd[_0x16c619(0x882)]();if(!_0x186956)return _0x2c8bfd;const _0x3ccc42=/\$|\\\(|\\\[/[_0x16c619(0x1c0)](_0x186956),_0x2e30d4=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x16c619(0x1c0)](_0x186956);if(_0x3ccc42||!_0x2e30d4||_0x5ebb9c(_0x186956))return _0x2c8bfd;return _0x2c8bfd[_0x16c619(0x1f2)](_0x186956,'$'+_0x5ae963(_0x186956)+'$');})[_0xbf5171(0x63c)]('\x0a'),_0x337c1d=_0x337c1d['replace'](/(\d+)\s*°\s*C\b/g,(_0x1bda25,_0x303cdd,_0x1f79ff,_0x3b14af)=>{const _0x5d5b9e=_0xbf5171,_0x2c16c7=_0x3b14af[_0x1f79ff-0x1];if(_0x2c16c7==='$'||_0x2c16c7==='S'||_0x2c16c7==='\x5c')return _0x1bda25;return'$'+_0x303cdd+_0x5d5b9e(0x2eb);})['replace'](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0xecdaaf,_0x574901,_0x7c61c5,_0x371867)=>{const _0x6e9756=_0x371867[_0x7c61c5-0x1];if(_0x6e9756==='$'||_0x6e9756==='S'||_0x6e9756==='\x5c')return _0xecdaaf;return'$'+_0x574901+'^{\x5ccirc}\x5ctext{C}$';})[_0xbf5171(0x1f2)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x350f62,_0x592b4d,_0x4f945c,_0x4618b1)=>{const _0x229ebf=_0xbf5171,_0x47c82b=_0x4618b1[_0x4f945c-0x1];if(_0x47c82b==='$'||_0x47c82b==='S'||_0x47c82b==='\x5c')return _0x350f62;return'$'+_0x592b4d+_0x229ebf(0x2eb);}),_0x337c1d=_0x337c1d['replace'](/\$\s*\$/g,'$$'),_0x337c1d!==_0x3b8a2c&&(_0x21fc53(_0x452ef0,_0x337c1d),_0x537d46++);});if(_0x537d46>0x0){showMessage(_0xab0901(0x349)+_0x537d46+_0xab0901(0x24c));try{if(window['MathJax']&&MathJax[_0xab0901(0x23d)])MathJax[_0xab0901(0x23d)]();window[_0xab0901(0x3dc)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0x2b1547,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x5880b3){}}else showMessage(_0xab0901(0x422));}async function listenForCustomMathTopics(){const _0x196b55=_0x433974,_0x155669=collection(db,_0x196b55(0x2c6)+appId+_0x196b55(0x52e));onSnapshot(_0x155669,_0x4fe875=>{const _0x162f25=_0x196b55;customMathTopics=_0x4fe875[_0x162f25(0x600)][_0x162f25(0x844)](_0x330763=>({'id':_0x330763['id'],..._0x330763[_0x162f25(0x1a2)]()})),renderTopicCheckboxes();},_0x3a5464=>{const _0x368c90=_0x196b55;console[_0x368c90(0x6ee)](_0x368c90(0x1b3),_0x3a5464);});}function handleSelectAllTopics(){const _0x153655=_0x433974,_0x1b984f=document[_0x153655(0x633)](_0x153655(0x431)),_0xbb4550=_0x1b984f[_0x153655(0x6a8)](_0x153655(0x6ed));_0xbb4550['forEach'](_0x20f28a=>{const _0x1db038=_0x153655;_0x20f28a[_0x1db038(0x4d8)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x465d9c=_0x433974,_0x2dfac1=document[_0x465d9c(0x633)](_0x465d9c(0x431)),_0x3c019a=_0x2dfac1[_0x465d9c(0x6a8)](_0x465d9c(0x6ed));_0x3c019a[_0x465d9c(0x1c8)](_0x1d85e0=>{const _0x2cd516=_0x465d9c;_0x1d85e0[_0x2cd516(0x4d8)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x26e083){const _0x20a770=_0x433974;if(!_0x26e083)return;try{const _0x14aff6=doc(db,_0x20a770(0x2c6)+appId+_0x20a770(0x52e),_0x26e083);await deleteDoc(_0x14aff6),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x3b72ef){console[_0x20a770(0x6ee)](_0x20a770(0x109),_0x3b72ef),showMessage(_0x20a770(0x4bc));}}async function handleAddCustomMathTopic(){const _0x53295e=_0x433974,_0x516b65=document[_0x53295e(0x633)](_0x53295e(0x6fe)),_0x42e88c=_0x516b65[_0x53295e(0x411)][_0x53295e(0x882)]();if(!_0x42e88c){showMessage(_0x53295e(0x3ff));return;}if(!userId){showMessage(_0x53295e(0x222));return;}try{const _0xbec59f=collection(db,_0x53295e(0x2c6)+appId+_0x53295e(0x52e));await addDoc(_0xbec59f,{'name':_0x42e88c,'createdAt':serverTimestamp()}),_0x516b65[_0x53295e(0x411)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x42e88c+_0x53295e(0x537));}catch(_0x3f01ee){console['error'](_0x53295e(0x657),_0x3f01ee),showMessage(_0x53295e(0x6df));}}async function handleUpdateOldQuizzes(){const _0x4de061=_0x433974;showConfirmation(_0x4de061(0x2a4),async()=>{const _0x35b900=_0x4de061,_0x1a28ed=document[_0x35b900(0x633)](_0x35b900(0x233)),_0x5a2674=document[_0x35b900(0x633)](_0x35b900(0x1ec)),_0x4f66a6=_0x5a2674[_0x35b900(0x1d4)];_0x1a28ed[_0x35b900(0x1a4)][_0x35b900(0x33c)]('hidden'),_0x5a2674[_0x35b900(0x1d4)]=_0x35b900(0x866);try{const _0xf74dce=collection(db,_0x35b900(0x2c6)+appId+_0x35b900(0x506)),_0x3c2a8b=await getDocs(_0xf74dce);if(_0x3c2a8b[_0x35b900(0x577)]){showMessage(_0x35b900(0x861));return;}const _0x5f10e2=writeBatch(db);let _0x22db76=0x0;_0x3c2a8b[_0x35b900(0x1c8)](_0x138bd7=>{const _0x2a50f1=_0x35b900,_0x3f238e=_0x138bd7[_0x2a50f1(0x1a2)](),_0x52e74d=_0x138bd7['id'];if(_0x3f238e[_0x2a50f1(0x193)]&&_0x3f238e[_0x2a50f1(0x193)][_0x2a50f1(0x31c)]>0x0&&!_0x3f238e['questions'][0x0][_0x2a50f1(0x283)]('id')){console['log']('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x52e74d+'\x20('+_0x3f238e[_0x2a50f1(0x158)]+')'),_0x22db76++;const _0x1fcacb=_0x3f238e[_0x2a50f1(0x193)][_0x2a50f1(0x844)]((_0xfa550e,_0x7c39ef)=>{const _0x2f0d55=_0x2a50f1;return{..._0xfa550e,'id':_0xfa550e['id']||'q_'+Date[_0x2f0d55(0x2ec)]()+'_'+_0x52e74d+'_'+_0x7c39ef};}),_0x2272d4=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x52e74d);_0x5f10e2[_0x2a50f1(0x86d)](_0x2272d4,{'questions':_0x1fcacb});}}),_0x22db76>0x0?(_0x5a2674['textContent']=_0x35b900(0x5b0)+_0x22db76+_0x35b900(0x4fe),await _0x5f10e2[_0x35b900(0x80b)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x22db76+_0x35b900(0x781))):showMessage(_0x35b900(0x5e3));}catch(_0x259497){console[_0x35b900(0x6ee)](_0x35b900(0x439),_0x259497),showMessage(_0x35b900(0x2ee)+_0x259497[_0x35b900(0x64a)]);}finally{_0x1a28ed[_0x35b900(0x1a4)][_0x35b900(0x10f)](_0x35b900(0x10c)),_0x5a2674[_0x35b900(0x1d4)]=_0x4f66a6;}});}async function initialize(){const _0x1a6ef2=_0x433974;try{const _0x494563=initializeApp(firebaseConfig);db=getFirestore(_0x494563),auth=getAuth(_0x494563),setupAuthListener(),setupEventListeners(),showView(_0x1a6ef2(0x699)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x31db1e){console['error'](_0x1a6ef2(0x19d),_0x31db1e),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0xf38b20=_0x433974,_0x57c924=document[_0xf38b20(0x633)]('quiz-editor-modal');if(!_0x57c924)return;const _0x6680d0=document[_0xf38b20(0x633)]('verify-answers-editor-btn');_0x6680d0[_0xf38b20(0x6b0)]=!![],_0x6680d0['innerHTML']=_0xf38b20(0x39b);try{const _0x2b89ff=_0x57c924[_0xf38b20(0x6a8)](_0xf38b20(0x3d8)),_0x51fcbf=Array[_0xf38b20(0x7b8)](_0x2b89ff)[_0xf38b20(0x844)]((_0x245318,_0x4fdd82)=>{const _0x51ea44=_0xf38b20,_0x392c6b=_0x245318[_0x51ea44(0x80f)][_0x51ea44(0x4ce)],_0x1995b3=_0x245318[_0x51ea44(0x3fa)](_0x51ea44(0x402))['value'];let _0x40bc5b=null,_0x420fa5='';switch(_0x392c6b){case _0x51ea44(0x75a):const _0x1d6d50=_0x245318[_0x51ea44(0x6a8)](_0x51ea44(0x7a9));_0x40bc5b=Array[_0x51ea44(0x7b8)](_0x1d6d50)[_0x51ea44(0x844)](_0x2a9136=>_0x2a9136['value']);const _0x1692ba=_0x245318[_0x51ea44(0x3fa)](_0x51ea44(0x464));_0x1692ba&&(_0x420fa5=_0x40bc5b[parseInt(_0x1692ba[_0x51ea44(0x411)])]);break;case _0x51ea44(0x6f3):_0x420fa5=_0x245318[_0x51ea44(0x3fa)](_0x51ea44(0x4fd))[_0x51ea44(0x411)];break;case _0x51ea44(0x797):const _0x2fc479=_0x245318[_0x51ea44(0x3fa)](_0x51ea44(0x464));_0x420fa5=_0x2fc479?_0x2fc479[_0x51ea44(0x411)]:'';break;case _0x51ea44(0x39c):_0x420fa5=_0x245318['querySelector'](_0x51ea44(0x365))['value'];break;}return{'question':_0x1995b3,'options':_0x40bc5b,'proposedAnswer':_0x420fa5};}),_0xf32f0e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0xf38b20(0x6b7)](_0x51fcbf)+_0xf38b20(0x340),_0x9de4bc={'type':_0xf38b20(0x288),'items':{'type':_0xf38b20(0x831),'properties':{'questionIndex':{'type':_0xf38b20(0x1f3)},'isCorrect':{'type':_0xf38b20(0x3a4)},'justification':{'type':_0xf38b20(0x7ab)},'suggestedAnswer':{'type':_0xf38b20(0x7ab)}},'required':['questionIndex','isCorrect','justification']}},_0x2ab66c=await callAnalysisApi(_0xf32f0e,{'type':_0xf38b20(0x831),'properties':{'result':_0x9de4bc},'required':[_0xf38b20(0x62f)]});displayVerificationResultsInEditor(_0x2ab66c[_0xf38b20(0x62f)]);}catch(_0x4fa312){console['error'](_0xf38b20(0x5cd),_0x4fa312),showMessage(_0xf38b20(0x5b9));}finally{_0x6680d0[_0xf38b20(0x6b0)]=![],_0x6680d0[_0xf38b20(0x5fb)]=_0xf38b20(0x605);}}function displayVerificationResultsInEditor(_0x756fa6){const _0x934fe7=_0x433974;_0x756fa6[_0x934fe7(0x1c8)](_0x2059cd=>{const _0x152bdf=_0x934fe7,_0x5badcd=document[_0x152bdf(0x3fa)](_0x152bdf(0x519)+_0x2059cd[_0x152bdf(0x5e0)]+'\x22]');if(_0x5badcd){const _0x5dff38=_0x5badcd[_0x152bdf(0x3fa)](_0x152bdf(0x624));if(_0x5dff38)_0x5dff38[_0x152bdf(0x33c)]();let _0x9cbaf2='';_0x2059cd['isCorrect']?_0x9cbaf2=_0x152bdf(0x236):_0x9cbaf2=_0x152bdf(0x6b6)+_0x2059cd[_0x152bdf(0x87d)]+_0x152bdf(0x44b)+(_0x2059cd[_0x152bdf(0x20f)]?_0x152bdf(0x3d1)+_0x2059cd['suggestedAnswer']+'</p>':'')+_0x152bdf(0x736),_0x5badcd[_0x152bdf(0x11c)](_0x152bdf(0x22d),_0x9cbaf2);}}),showMessage(_0x934fe7(0x829));}async function handleVerifyAnswers(){const _0x2e6967=_0x433974;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x1d4d33=document['getElementById'](_0x2e6967(0x616));_0x1d4d33[_0x2e6967(0x6b0)]=!![],_0x1d4d33[_0x2e6967(0x5fb)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x5efc3e=currentQuizData[_0x2e6967(0x193)][_0x2e6967(0x844)]((_0x4efcb8,_0x335998)=>{const _0x79b9f8=_0x2e6967;let _0x4a310a='';const _0x1bbf6d=_0x4efcb8[_0x79b9f8(0x327)]||currentQuizData[_0x79b9f8(0x5e4)];switch(_0x1bbf6d){case _0x79b9f8(0x75a):_0x4a310a=_0x4efcb8[_0x79b9f8(0x482)][_0x4efcb8[_0x79b9f8(0x363)]];break;case'short_answer':_0x4a310a=_0x4efcb8[_0x79b9f8(0x6eb)];break;case _0x79b9f8(0x797):_0x4a310a=_0x4efcb8[_0x79b9f8(0x863)][_0x79b9f8(0x15d)]();break;case _0x79b9f8(0x39c):_0x4a310a=_0x4efcb8[_0x79b9f8(0x25c)];break;}return{'question':_0x4efcb8[_0x79b9f8(0x114)]||_0x4efcb8[_0x79b9f8(0x84f)],'options':_0x4efcb8[_0x79b9f8(0x482)]||null,'proposedAnswer':_0x4a310a};}),_0x4f4e9c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x2e6967(0x6b7)](_0x5efc3e)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1c1981={'type':_0x2e6967(0x288),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x2e6967(0x1f3)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x2e6967(0x7ab)},'suggestedAnswer':{'type':_0x2e6967(0x7ab)}},'required':[_0x2e6967(0x5e0),_0x2e6967(0x4e9),_0x2e6967(0x87d)]}},_0x5dd94b=await callAnalysisApi(_0x4f4e9c,{'type':'OBJECT','properties':{'result':_0x1c1981},'required':[_0x2e6967(0x62f)]});displayVerificationResults(_0x5dd94b[_0x2e6967(0x62f)]);}catch(_0x578249){console['error']('Error\x20verifying\x20answers:',_0x578249),showMessage(_0x2e6967(0x5b9));}finally{_0x1d4d33[_0x2e6967(0x6b0)]=![],_0x1d4d33[_0x2e6967(0x5fb)]=_0x2e6967(0x145);}}function displayVerificationResults(_0x49e426){const _0x1e3662=_0x433974;_0x49e426[_0x1e3662(0x1c8)](_0x4a66d9=>{const _0x4efb65=_0x1e3662,_0x3c5d39=document[_0x4efb65(0x3fa)](_0x4efb65(0x2e0)+_0x4a66d9[_0x4efb65(0x5e0)]+'\x22]');if(_0x3c5d39){const _0x5c4bbc=_0x3c5d39[_0x4efb65(0x3fa)](_0x4efb65(0x461));if(_0x5c4bbc)_0x5c4bbc[_0x4efb65(0x33c)]();let _0x1bc5c0='';_0x4a66d9[_0x4efb65(0x4e9)]?_0x1bc5c0=_0x4efb65(0x713):_0x1bc5c0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x4a66d9['justification']+_0x4efb65(0x44b)+(_0x4a66d9[_0x4efb65(0x20f)]?_0x4efb65(0x3d1)+_0x4a66d9['suggestedAnswer']+'</p>':'')+_0x4efb65(0x2b2),_0x3c5d39['insertAdjacentHTML']('beforeend',_0x1bc5c0);}}),showMessage(_0x1e3662(0x829));}function compareNumericalAnswers(_0x3f36dc,_0x94c6c7){const _0x3c3a5e=_0x433974,_0xf0e81c=String(_0x3f36dc)[_0x3c3a5e(0x1f2)](',','.')[_0x3c3a5e(0x1f2)](/[^\d.-]/g,'')[_0x3c3a5e(0x882)](),_0x38c12c=String(_0x94c6c7)['replace'](',','.')[_0x3c3a5e(0x1f2)](/[^\d.-]/g,'')['trim']();if(_0xf0e81c===''||_0x38c12c==='')return![];const _0x1e98ac=parseFloat(_0xf0e81c),_0x354ecb=parseFloat(_0x38c12c);if(isNaN(_0x1e98ac)||isNaN(_0x354ecb))return![];return Math[_0x3c3a5e(0x505)](_0x1e98ac-_0x354ecb)<0.001;}async function gradeShortAnswer(_0x258927,_0x503454){const _0x2b6d10=_0x433974,_0x18da04=_0x503454['idealAnswer'];if(String(_0x258927)[_0x2b6d10(0x882)]()['toLowerCase']()===String(_0x18da04)[_0x2b6d10(0x882)]()[_0x2b6d10(0x6fb)]())return!![];if(compareNumericalAnswers(_0x258927,_0x18da04))return!![];return console[_0x2b6d10(0x37f)](_0x2b6d10(0x7d7)),await gradeShortAnswerWithAI(_0x258927,_0x18da04);}async function revealAnswerForAdmin(_0x4a7971,_0x3c9f29){const _0x2e5c4e=_0x433974;if(document[_0x2e5c4e(0x633)]('next-live-question-btn'))return;const _0x31a1f8=doc(db,_0x2e5c4e(0x2c6)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x31a1f8,{'questionStatus':_0x2e5c4e(0x7c6)});const _0x5a94f8=liveGameView[_0x2e5c4e(0x3fa)](_0x2e5c4e(0x806));_0x5a94f8&&(_0x5a94f8[_0x2e5c4e(0x1a4)][_0x2e5c4e(0x33c)](_0x2e5c4e(0x648)),_0x5a94f8[_0x2e5c4e(0x1a4)][_0x2e5c4e(0x10f)](_0x2e5c4e(0x763),_0x2e5c4e(0x68b),_0x2e5c4e(0x640),_0x2e5c4e(0x296),_0x2e5c4e(0x13c)),_0x5a94f8['innerHTML']=_0x2e5c4e(0x7fd)+_0x5a94f8['innerHTML']);const _0x9fb768=document[_0x2e5c4e(0x633)](_0x2e5c4e(0x199));_0x9fb768&&(_0x9fb768[_0x2e5c4e(0x5fb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4a7971+0x1===_0x3c9f29?_0x2e5c4e(0x725):'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x2e5c4e(0x3de))[_0x2e5c4e(0x3b9)](_0x2e5c4e(0x864),async()=>{const _0x11a731=_0x2e5c4e,_0x1f770f=doc(db,'artifacts/'+appId+_0x11a731(0x326),currentLiveGameId),_0x4e5a4c=await getDoc(_0x1f770f);if(!_0x4e5a4c[_0x11a731(0x660)]())return;const _0x39a458=_0x4e5a4c[_0x11a731(0x1a2)](),_0x151b44={};if(_0x39a458[_0x11a731(0x858)])for(const _0x48ecc8 in _0x39a458[_0x11a731(0x858)]){_0x151b44[_0x11a731(0x7d1)+_0x48ecc8+'.answeredCurrentQuestion']=![];}const _0x2c9509=_0x4a7971+0x1;_0x2c9509<_0x3c9f29?(_0x151b44['currentQuestionIndex']=_0x2c9509,_0x151b44[_0x11a731(0x5d1)]=serverTimestamp(),_0x151b44[_0x11a731(0x66b)]=_0x11a731(0x1ba),await updateDoc(_0x1f770f,_0x151b44)):await updateDoc(_0x1f770f,{'status':'podium'});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x22d3ab=>{const _0x61792f=_0x300c;if(_0x22d3ab){userId=_0x22d3ab[_0x61792f(0x256)],userIdDisplay['textContent']=userId;const _0x157687=await loadUserPreferences();_0x157687['projectSortOrder']&&(document[_0x61792f(0x633)](_0x61792f(0x544))[_0x61792f(0x411)]=_0x157687['projectSortOrder']);globalDashboardSettings['projectView']=_0x157687[_0x61792f(0x569)]||_0x61792f(0x6f1);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x4caefb,_0x4d4dc7){const _0xb26b19=_0x433974;if(!userId)return;try{const _0x3cf4d9=doc(db,_0xb26b19(0x2c6)+appId+_0xb26b19(0x101)+userId+'/preferences/main'),_0x5d975b={};_0x5d975b[_0x4caefb]=_0x4d4dc7,await setDoc(_0x3cf4d9,_0x5d975b,{'merge':!![]});}catch(_0x2d7963){console['error'](_0xb26b19(0x32d),_0x2d7963);}}async function loadUserPreferences(){const _0x52fec5=_0x433974;if(!userId)return{};try{const _0xcf8330=doc(db,_0x52fec5(0x2c6)+appId+_0x52fec5(0x101)+userId+_0x52fec5(0x833)),_0x4bef36=await getDoc(_0xcf8330);if(_0x4bef36['exists']())return _0x4bef36['data']();return{};}catch(_0x554e14){return console['error']('Error\x20loading\x20user\x20preferences:',_0x554e14),{};}}function showPodiumView(_0x4de3fb){const _0x3bdcc7=_0x433974,_0x1ea8e0=Object[_0x3bdcc7(0x54b)](_0x4de3fb)[_0x3bdcc7(0x844)](([_0x3cfebb,_0x25f9af])=>({'name':_0x3cfebb,'score':_0x25f9af[_0x3bdcc7(0x3f9)]||0x0,'badges':_0x25f9af[_0x3bdcc7(0x111)]||[]}));_0x1ea8e0[_0x3bdcc7(0x2e8)]((_0x4718ef,_0x59d8fe)=>{const _0x4ad1c5=_0x3bdcc7,_0x22359c=_0x59d8fe[_0x4ad1c5(0x3f9)]-_0x4718ef[_0x4ad1c5(0x3f9)];if(_0x22359c!==0x0)return _0x22359c;return(_0x59d8fe[_0x4ad1c5(0x111)][_0x4ad1c5(0x31c)]||0x0)-(_0x4718ef['badges'][_0x4ad1c5(0x31c)]||0x0);});const _0xbc9aa=_0x37d91c=>{const _0x57e605=_0x3bdcc7;if(!_0x37d91c||_0x37d91c[_0x57e605(0x31c)]===0x0)return'';const _0x21f103={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x57e605(0x730)+_0x37d91c[_0x57e605(0x844)](_0x36c34f=>_0x21f103[_0x36c34f]||'')[_0x57e605(0x63c)]('')+'</div>';},_0x239cda=_0x1ea8e0[_0x3bdcc7(0x490)](0x3),_0x28a487=_0x239cda[_0x3bdcc7(0x31c)]>0x0?_0x3bdcc7(0x29a)+_0x239cda[_0x3bdcc7(0x844)]((_0x171ee1,_0x543d7a)=>_0x3bdcc7(0x7c4)+(_0x543d7a+0x4)+_0x3bdcc7(0x824)+_0x171ee1[_0x3bdcc7(0x3ab)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x171ee1[_0x3bdcc7(0x3f9)]+_0x3bdcc7(0x865))[_0x3bdcc7(0x63c)]('')+_0x3bdcc7(0x838):'',_0x1a9efe=_0x3bdcc7(0x22e)+(_0x1ea8e0[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x1ea8e0[0x1][_0x3bdcc7(0x3ab)]+_0x3bdcc7(0x3cc)+_0xbc9aa(_0x1ea8e0[0x1]['badges'])+_0x3bdcc7(0x57b)+_0x1ea8e0[0x1][_0x3bdcc7(0x3f9)]+_0x3bdcc7(0x31d):'<div\x20class=\x22flex-1\x22></div>')+_0x3bdcc7(0x1ef)+(_0x1ea8e0[0x0]?_0x3bdcc7(0x190)+_0x1ea8e0[0x0][_0x3bdcc7(0x3ab)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbc9aa(_0x1ea8e0[0x0][_0x3bdcc7(0x111)])+_0x3bdcc7(0x6cd)+_0x1ea8e0[0x0]['score']+_0x3bdcc7(0x44e):'<div\x20class=\x22flex-1\x22></div>')+_0x3bdcc7(0x1ef)+(_0x1ea8e0[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x1ea8e0[0x2][_0x3bdcc7(0x3ab)]+_0x3bdcc7(0x3cc)+_0xbc9aa(_0x1ea8e0[0x2][_0x3bdcc7(0x111)])+_0x3bdcc7(0x57b)+_0x1ea8e0[0x2]['score']+_0x3bdcc7(0x1e9):_0x3bdcc7(0x4b0))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28a487+_0x3bdcc7(0x150)+(currentMode===_0x3bdcc7(0x133)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x3bdcc7(0x672);liveGameView[_0x3bdcc7(0x5fb)]=_0x1a9efe,currentMode===_0x3bdcc7(0x133)&&document[_0x3bdcc7(0x633)]('close-game-final-btn')[_0x3bdcc7(0x3b9)](_0x3bdcc7(0x864),async()=>{const _0x567c49=_0x3bdcc7,_0x4589c2=doc(db,_0x567c49(0x2c6)+appId+_0x567c49(0x326),currentLiveGameId);await deleteDoc(_0x4589c2),showView('admin-dashboard');});}async function handleStartLiveRace(_0x2ebf9b){const _0x18a861=_0x433974;let _0x2519cc=allQuizzes[_0x18a861(0x7c5)](_0x4158ed=>_0x4158ed['id']===_0x2ebf9b);if(!_0x2519cc){const _0x5d1c35=doc(db,_0x18a861(0x2c6)+appId+'/public/data/quizzes',_0x2ebf9b),_0x350445=await getDoc(_0x5d1c35);if(!_0x350445['exists']()){showMessage(_0x18a861(0x5c6));return;}_0x2519cc={'id':_0x350445['id'],..._0x350445[_0x18a861(0x1a2)]()};}currentQuizData=getShuffledQuiz(_0x2519cc);const _0x4be3c1=_0x2519cc[_0x18a861(0x2be)]||currentProjectId||null,_0x3fd2bd=Math[_0x18a861(0x484)](0x3e8+Math[_0x18a861(0x731)]()*0x2328)[_0x18a861(0x15d)]();currentLiveGamePin=_0x3fd2bd;try{const _0xa68e62=await addDoc(collection(db,'artifacts/'+appId+_0x18a861(0x326)),{'quizId':_0x2ebf9b,'projectId':_0x4be3c1,'status':_0x18a861(0x751),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3fd2bd,'createdAt':serverTimestamp()});currentLiveGameId=_0xa68e62['id'],showAdminLobbyView(_0x3fd2bd,_0x2519cc[_0x18a861(0x158)]),listenForLiveGameUpdates();}catch(_0xb51dd5){console['error'](_0x18a861(0x7b7),_0xb51dd5),showMessage(_0x18a861(0x2c0));}}async function handleShowStudentRankings(){const _0xdb431d=_0x433974,_0x42076f=document['querySelector'](_0xdb431d(0x5df));_0x42076f&&(_0x42076f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x25acd0=document['querySelector'](_0xdb431d(0x1d3));_0x25acd0&&(_0x25acd0[_0xdb431d(0x5fb)]=_0xdb431d(0x21f));const _0x398758=document['getElementById'](_0xdb431d(0x820));_0x398758[_0xdb431d(0x1a4)][_0xdb431d(0x33c)](_0xdb431d(0x10c)),document['getElementById']('close-student-rankings-btn')['onclick']=()=>_0x398758[_0xdb431d(0x1a4)][_0xdb431d(0x10f)](_0xdb431d(0x10c));const _0x55e26e=document[_0xdb431d(0x633)](_0xdb431d(0x845)),_0x198ac5=document['getElementById'](_0xdb431d(0x1d2)),_0x578d24=document[_0xdb431d(0x633)]('student-quiz-leaderboard-content'),_0x21d5df=document['getElementById']('student-project-leaderboard-content');_0x55e26e[_0xdb431d(0x73b)]=()=>{const _0x252cad=_0xdb431d;_0x55e26e[_0x252cad(0x1a4)][_0x252cad(0x10f)](_0x252cad(0x532)),_0x198ac5[_0x252cad(0x1a4)]['remove'](_0x252cad(0x532)),_0x578d24['classList']['remove'](_0x252cad(0x10c)),_0x21d5df[_0x252cad(0x1a4)][_0x252cad(0x10f)](_0x252cad(0x10c));},_0x198ac5[_0xdb431d(0x73b)]=()=>{const _0x18f55e=_0xdb431d;_0x198ac5['classList'][_0x18f55e(0x10f)](_0x18f55e(0x532)),_0x55e26e[_0x18f55e(0x1a4)][_0x18f55e(0x33c)]('active'),_0x21d5df['classList'][_0x18f55e(0x33c)](_0x18f55e(0x10c)),_0x578d24[_0x18f55e(0x1a4)][_0x18f55e(0x10f)](_0x18f55e(0x10c));};try{const _0x31b887=collection(db,_0xdb431d(0x2c6)+appId+_0xdb431d(0x315)+currentQuizData['id']+_0xdb431d(0x424)),_0x157885=await getDocs(_0x31b887),_0x2437db=_0x157885[_0xdb431d(0x600)][_0xdb431d(0x844)](_0x325ae9=>_0x325ae9[_0xdb431d(0x1a2)]());renderQuizLeaderboard(_0x2437db,currentQuizData,_0xdb431d(0x389));const _0x3df027=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentQuizData[_0xdb431d(0x2be)]+_0xdb431d(0x6c4)),_0x3f9d05=await getDocs(_0x3df027),_0x12d4c8=_0x3f9d05[_0xdb431d(0x600)][_0xdb431d(0x844)](_0x179c84=>_0x179c84[_0xdb431d(0x1a2)]());renderLeaderboard(_0x12d4c8,_0xdb431d(0x4f5));}catch(_0x4cc975){console[_0xdb431d(0x6ee)]('Error\x20fetching\x20student\x20rankings:',_0x4cc975),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x189c16){const _0x3ee19a=_0x433974,_0x5296e4=_0x189c16[_0x3ee19a(0x816)],_0x26692c=_0x5296e4[_0x3ee19a(0x80f)]['index'],_0x384201=currentQuizData[_0x3ee19a(0x193)][_0x26692c];if(!userId){showMessage(_0x3ee19a(0x685));return;}try{const _0x24fb99={..._0x384201,'originalTopic':currentQuizData[_0x3ee19a(0x158)],'savedAt':serverTimestamp()},_0x3ac98d=collection(db,_0x3ee19a(0x2c6)+appId+'/users/'+userId+'/questionBank');await addDoc(_0x3ac98d,_0x24fb99),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x5296e4['classList'][_0x3ee19a(0x33c)]('text-purple-600'),_0x5296e4[_0x3ee19a(0x1a4)]['add'](_0x3ee19a(0x44c)),_0x5296e4[_0x3ee19a(0x6b0)]=!![];}catch(_0x5dd601){console[_0x3ee19a(0x6ee)](_0x3ee19a(0x24b),_0x5dd601),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x360d1b=_0x433974;if(!userId)return;const _0x32ae77=collection(db,_0x360d1b(0x2c6)+appId+'/public/data/quizzes'),_0x4f241e=query(_0x32ae77,where(_0x360d1b(0x1fc),'==',!![]));onSnapshot(_0x4f241e,_0x52d7df=>{const _0x36c0fa=_0x360d1b;starredQuizzes=_0x52d7df[_0x36c0fa(0x600)][_0x36c0fa(0x844)](_0x356693=>({'id':_0x356693['id'],..._0x356693[_0x36c0fa(0x1a2)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x3e030f=>{const _0x335f9f=_0x360d1b;console[_0x335f9f(0x6ee)](_0x335f9f(0x77c),_0x3e030f);});}function exportQuizAsWorksheetPDF(){const _0x599b3c=_0x433974;if(!currentQuizData||!currentQuizData[_0x599b3c(0x193)]){showMessage(_0x599b3c(0x463));return;}const _0x421a01=currentQuizData,_0x3c9bf5=window[_0x599b3c(0x331)]('',_0x599b3c(0x568)),_0x5abe2f=_0x8490e9=>String[_0x599b3c(0x1eb)](0x41+_0x8490e9),_0x5940fe=_0x599b3c(0x4dd)+_0x421a01[_0x599b3c(0x158)]+_0x599b3c(0x47b)+_0x421a01[_0x599b3c(0x158)]+_0x599b3c(0x7b4)+_0x421a01['questions'][_0x599b3c(0x844)]((_0x3912a8,_0x368552)=>{const _0x5658d2=_0x599b3c;let _0x17f808='';const _0x4c11c7=_0x3912a8['questionType']||_0x421a01['quizType'];switch(_0x4c11c7){case'multiple_choice':case _0x5658d2(0x1b4):_0x17f808='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x3912a8[_0x5658d2(0x482)][_0x5658d2(0x844)]((_0x70226d,_0x46bb44)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5abe2f(_0x46bb44)+'.\x20'+_0x70226d+_0x5658d2(0x267))[_0x5658d2(0x63c)](_0x5658d2(0x200))+'</div>';break;case'true_false':_0x17f808=_0x5658d2(0x39f);break;default:_0x17f808='<div\x20class=\x22answer-space\x22></div>';break;}return _0x5658d2(0x5c1)+(_0x368552+0x1)+_0x5658d2(0x4e5)+(_0x3912a8['stem']||_0x3912a8['questionText'])+_0x5658d2(0x75f)+(_0x3912a8[_0x5658d2(0x20a)]?_0x5658d2(0x74a)+_0x3912a8[_0x5658d2(0x20a)]+'</div>':'')+_0x5658d2(0x512)+_0x17f808+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x599b3c(0x63c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3c9bf5[_0x599b3c(0x2dc)][_0x599b3c(0x2f8)](_0x5940fe),_0x3c9bf5[_0x599b3c(0x2dc)]['close'](),_0x3c9bf5[_0x599b3c(0x620)]=function(){setTimeout(()=>{const _0x22b0fa=_0x300c;_0x3c9bf5[_0x22b0fa(0x758)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x355e1d=_0x433974;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x355e1d(0x463));return;}const _0x13ce20=currentQuizData,_0x4c4251=window[_0x355e1d(0x331)]('','_blank'),_0x274882=_0x5ab8a5=>String[_0x355e1d(0x1eb)](0x41+_0x5ab8a5),_0x5ce871=_0x355e1d(0x16a)+_0x13ce20[_0x355e1d(0x158)]+_0x355e1d(0x4a7)+_0x13ce20[_0x355e1d(0x193)]['map']((_0x4730f4,_0x307cfd)=>{const _0x3f72be=_0x355e1d;let _0x126e56='';const _0x156fdb=_0x4730f4[_0x3f72be(0x327)]||_0x13ce20[_0x3f72be(0x5e4)];switch(_0x156fdb){case _0x3f72be(0x75a):case _0x3f72be(0x1b4):_0x126e56=_0x3f72be(0x29b)+_0x4730f4[_0x3f72be(0x482)]['map']((_0x363ce3,_0x5b6422)=>_0x3f72be(0x1ea)+_0x274882(_0x5b6422)+'.\x20'+_0x363ce3+'</span>')[_0x3f72be(0x63c)](_0x3f72be(0x200))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x3f72be(0x797):_0x126e56='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x126e56='';break;}return _0x3f72be(0x497)+_0x13ce20[_0x3f72be(0x158)]+_0x3f72be(0x549)+(_0x307cfd+0x1)+_0x3f72be(0x479)+(_0x4730f4[_0x3f72be(0x114)]||_0x4730f4[_0x3f72be(0x84f)])+_0x3f72be(0x75f)+(_0x4730f4[_0x3f72be(0x20a)]?'<div\x20class=\x22my-6\x22>'+_0x4730f4[_0x3f72be(0x20a)]+_0x3f72be(0x290):'')+_0x3f72be(0x512)+_0x126e56+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0x355e1d(0x307);_0x4c4251['document'][_0x355e1d(0x2f8)](_0x5ce871),_0x4c4251[_0x355e1d(0x2dc)]['close'](),_0x4c4251[_0x355e1d(0x620)]=function(){setTimeout(()=>{const _0x4ef8df=_0x300c;_0x4c4251[_0x4ef8df(0x758)]();},0x5dc);};}async function handleToggleStarQuiz(_0x2d894e){const _0x10e866=_0x433974,_0x566943=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2d894e);try{const _0x423e0a=await getDoc(_0x566943);if(_0x423e0a[_0x10e866(0x660)]()){const _0x5bc322=_0x423e0a[_0x10e866(0x1a2)]()['isStarred']||![];await updateDoc(_0x566943,{'isStarred':!_0x5bc322});}}catch(_0x11ec32){console['error'](_0x10e866(0x37c),_0x11ec32),showMessage(_0x10e866(0x798));}}async function displayQuestionBank(){const _0x350fa3=_0x433974,_0x24b7aa=document['getElementById'](_0x350fa3(0x86a));_0x24b7aa[_0x350fa3(0x5fb)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x565c38=collection(db,_0x350fa3(0x2c6)+appId+'/users/'+userId+_0x350fa3(0x843)),_0x2beec3=query(_0x565c38),_0xf8db1b=await getDocs(_0x2beec3);if(_0xf8db1b[_0x350fa3(0x577)]){_0x24b7aa[_0x350fa3(0x5fb)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x3c6f1e=_0xf8db1b[_0x350fa3(0x600)][_0x350fa3(0x844)](_0x2848ce=>{const _0x385b=_0x350fa3,_0x35a2a9=_0x2848ce[_0x385b(0x1a2)](),_0x164e3d=_0x2848ce['id'];return _0x385b(0x1be)+JSON[_0x385b(0x6b7)](_0x35a2a9)+_0x385b(0x580)+(_0x35a2a9[_0x385b(0x84f)]||_0x35a2a9['stem'])+_0x385b(0x457)+_0x35a2a9['originalTopic']+_0x385b(0x5dd);})[_0x350fa3(0x63c)]('');_0x24b7aa['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x3c6f1e+_0x350fa3(0x2cc),document[_0x350fa3(0x633)](_0x350fa3(0x5ab))[_0x350fa3(0x3b9)](_0x350fa3(0x864),createQuizFromBank);}catch(_0x2455a3){console['error'](_0x350fa3(0x561),_0x2455a3),_0x24b7aa['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x104b43,_0x46b87c,_0x2f3e4d){const _0x11ce5a=_0x433974,_0x173f42=_0x104b43[_0x11ce5a(0x327)]||currentQuizData[_0x11ce5a(0x5e4)];let _0x1e075c='';if(_0x173f42==='multiple_choice'||_0x173f42===_0x11ce5a(0x797)){const _0x5f02d9=_0x173f42===_0x11ce5a(0x797)?[_0x11ce5a(0x38e),_0x11ce5a(0x6e7)]:_0x104b43[_0x11ce5a(0x482)],_0x5a7f56=_0x173f42==='true_false'?_0x104b43['correctAnswer']?0x0:0x1:_0x104b43[_0x11ce5a(0x363)];_0x1e075c=_0x5f02d9[_0x11ce5a(0x844)]((_0x24fe3b,_0x289310)=>_0x11ce5a(0x656)+(_0x289310===_0x5a7f56)+_0x11ce5a(0x13e)+_0x24fe3b+_0x11ce5a(0x581))['join']('');}else{if(_0x173f42===_0x11ce5a(0x39c)){const _0x4cc95d=_0x104b43['allResponses']||[];_0x1e075c=_0x4cc95d[_0x11ce5a(0x844)](_0x4dbf7d=>_0x11ce5a(0x656)+(_0x4dbf7d===_0x104b43[_0x11ce5a(0x25c)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4dbf7d+_0x11ce5a(0x581))[_0x11ce5a(0x63c)]('');}}const _0x492440=_0x104b43[_0x11ce5a(0x114)]||_0x104b43[_0x11ce5a(0x84f)],_0x418bc0=_0x11ce5a(0x15b)+(_0x46b87c+0x1)+_0x11ce5a(0x6ea)+_0x2f3e4d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x492440+_0x11ce5a(0x5bf)+_0x1e075c+_0x11ce5a(0x2c5);liveGameView[_0x11ce5a(0x5fb)]=_0x418bc0;window['MathJax']&&MathJax[_0x11ce5a(0x23d)]&&MathJax[_0x11ce5a(0x23d)]([liveGameView]);const _0x100ee3=document['getElementById'](_0x11ce5a(0x199));document[_0x11ce5a(0x633)](_0x11ce5a(0x2d6))['addEventListener']('click',async()=>{const _0x58c4a4=_0x11ce5a,_0x45b708=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x45b708,{'questionStatus':_0x58c4a4(0x7c6)});const _0x9f6329=liveGameView[_0x58c4a4(0x3fa)](_0x58c4a4(0x806));_0x9f6329&&(_0x9f6329[_0x58c4a4(0x1a4)][_0x58c4a4(0x33c)](_0x58c4a4(0x648)),_0x9f6329[_0x58c4a4(0x1a4)][_0x58c4a4(0x10f)](_0x58c4a4(0x763),_0x58c4a4(0x68b),_0x58c4a4(0x640),'border-4','border-green-500'),_0x9f6329[_0x58c4a4(0x5fb)]=_0x58c4a4(0x7fd)+_0x9f6329[_0x58c4a4(0x5fb)]),_0x100ee3['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x46b87c+0x1===_0x2f3e4d?_0x58c4a4(0x725):_0x58c4a4(0x470))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x58c4a4(0x633)]('next-live-question-btn')[_0x58c4a4(0x3b9)]('click',async()=>{const _0x4fb380=_0x58c4a4,_0x295f8b=doc(db,_0x4fb380(0x2c6)+appId+'/public/data/liveGames',currentLiveGameId),_0x1311d2=await getDoc(_0x295f8b);if(!_0x1311d2['exists']())return;const _0x410942=_0x1311d2[_0x4fb380(0x1a2)](),_0x27b3d8={};if(_0x410942['players'])for(const _0x38aa50 in _0x410942[_0x4fb380(0x858)]){_0x27b3d8[_0x4fb380(0x7d1)+_0x38aa50+_0x4fb380(0x176)]=![];}const _0x3f0fbe=_0x46b87c+0x1;_0x3f0fbe<_0x2f3e4d?(_0x27b3d8['currentQuestionIndex']=_0x3f0fbe,_0x27b3d8[_0x4fb380(0x5d1)]=serverTimestamp(),_0x27b3d8[_0x4fb380(0x66b)]='answering',await updateDoc(_0x295f8b,_0x27b3d8)):await updateDoc(_0x295f8b,{'status':_0x4fb380(0x350)});});}),document[_0x11ce5a(0x633)](_0x11ce5a(0x3c8))[_0x11ce5a(0x3b9)](_0x11ce5a(0x864),async()=>{const _0x1c77b3=_0x11ce5a,_0x1bb12f=doc(db,_0x1c77b3(0x2c6)+appId+_0x1c77b3(0x326),currentLiveGameId);await deleteDoc(_0x1bb12f),showView(_0x1c77b3(0x65e));});}function showStudentLiveQuestionView(_0xfe0f4c,_0x51f342,_0x4ce36e){const _0x42a378=_0x433974,_0x1aedde=_0xfe0f4c[_0x42a378(0x327)]||currentQuizData[_0x42a378(0x5e4)];let _0x2d497e='';if(_0x1aedde===_0x42a378(0x75a)||_0x1aedde===_0x42a378(0x797)){const _0x5d1bf9=_0x1aedde===_0x42a378(0x797)?[_0x42a378(0x38e),_0x42a378(0x6e7)]:_0xfe0f4c[_0x42a378(0x482)];_0x2d497e=_0x5d1bf9[_0x42a378(0x844)]((_0x4455d8,_0x199f4a)=>_0x42a378(0x6a6)+_0x199f4a+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4455d8+_0x42a378(0x617))[_0x42a378(0x63c)]('');}else{if(_0x1aedde===_0x42a378(0x39c)){const _0x525245=_0xfe0f4c[_0x42a378(0x850)]||[];_0x2d497e=_0x525245[_0x42a378(0x844)]((_0x5ae1ca,_0x65fd9a)=>_0x42a378(0x6a6)+_0x65fd9a+_0x42a378(0x4d2)+_0x5ae1ca+_0x42a378(0x617))['join']('');}else _0x1aedde===_0x42a378(0x6f3)&&(_0x2d497e=_0x42a378(0x29d));}const _0x3620f5=_0xfe0f4c[_0x42a378(0x114)]||_0xfe0f4c[_0x42a378(0x84f)],_0x32aef9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x51f342+0x1)+_0x42a378(0x6ea)+_0x4ce36e+_0x42a378(0x18d)+_0x3620f5+_0x42a378(0x68d)+_0x2d497e+_0x42a378(0x2f1);liveGameView[_0x42a378(0x5fb)]=_0x32aef9;window[_0x42a378(0x5be)]&&MathJax[_0x42a378(0x23d)]&&MathJax[_0x42a378(0x23d)]([liveGameView]);const _0x24833c=document[_0x42a378(0x633)](_0x42a378(0x2de));_0x24833c&&_0x24833c[_0x42a378(0x3b9)](_0x42a378(0x864),()=>{const _0x244f90=_0x42a378,_0x302052=document[_0x244f90(0x633)]('live-short-answer-input')[_0x244f90(0x411)];handleLiveAnswer(_0x302052,_0xfe0f4c);}),document[_0x42a378(0x633)](_0x42a378(0x789))[_0x42a378(0x3b9)]('click',_0x513cf7=>{const _0x5679e7=_0x42a378,_0x40e94f=_0x513cf7[_0x5679e7(0x1b5)]['closest']('.live-answer-btn');if(_0x40e94f){const _0x335ff8=parseInt(_0x40e94f['dataset'][_0x5679e7(0x716)]);handleLiveAnswer(_0x335ff8,_0xfe0f4c);}});}async function handleLiveAnswer(_0x66832,_0x3ad7a6){const _0x417f9c=_0x433974;document[_0x417f9c(0x6a8)](_0x417f9c(0x4d9))[_0x417f9c(0x1c8)](_0x519572=>_0x519572['disabled']=!![]);const _0x2363a9=_0x3ad7a6[_0x417f9c(0x327)]||currentQuizData[_0x417f9c(0x5e4)];let _0x1df7a4=![];if(_0x2363a9===_0x417f9c(0x6f3)){const _0x40ef3e=(_0x66832||'')[_0x417f9c(0x15d)]();_0x1df7a4=await gradeShortAnswer(_0x40ef3e,_0x3ad7a6);}else{if(_0x2363a9==='multiple_choice')_0x1df7a4=_0x66832===_0x3ad7a6['correctAnswerIndex'];else{if(_0x2363a9===_0x417f9c(0x797)){const _0x8367e7=_0x3ad7a6[_0x417f9c(0x863)];_0x1df7a4=_0x66832===0x0&&_0x8367e7||_0x66832===0x1&&!_0x8367e7;}else{if(_0x2363a9===_0x417f9c(0x39c)){const _0x12fde7=_0x3ad7a6[_0x417f9c(0x850)][_0x66832];_0x1df7a4=_0x12fde7===_0x3ad7a6[_0x417f9c(0x25c)];}}}}const _0x3ee93e=doc(db,_0x417f9c(0x2c6)+appId+'/public/data/liveGames',currentLiveGameId),_0x42addd=await getDoc(_0x3ee93e);if(!_0x42addd[_0x417f9c(0x660)]())return;const _0x3fe813=_0x42addd['data'](),_0x3f0d7b=_0x3fe813[_0x417f9c(0x858)][currentStudentName];let _0xedb327=_0x3f0d7b[_0x417f9c(0x111)]||[],_0xfd6b7d=_0x3f0d7b[_0x417f9c(0x448)]||0x0;const _0x4f3bd1={};let _0x52085c=0x0;if(_0x3fe813[_0x417f9c(0x5d1)]){const _0x1f03d2=_0x3fe813[_0x417f9c(0x5d1)][_0x417f9c(0x391)](),_0x2c8447=new Date()-_0x1f03d2;if(_0x1df7a4){const _0x442227=0x3e8,_0x12b3f4=0x1f4,_0x52d59e=0x4e20;let _0x51de61=_0x2c8447/_0x52d59e;if(_0x51de61>0x1)_0x51de61=0x1;const _0xb425d5=Math[_0x417f9c(0x137)](_0x51de61*_0x12b3f4);_0x52085c=_0x442227-_0xb425d5,_0x2c8447<=0x1388&&!_0xedb327[_0x417f9c(0x335)]('quick_thinker')&&_0xedb327['push'](_0x417f9c(0x7d9));}}_0x1df7a4?(_0xfd6b7d++,_0xfd6b7d===0x3&&!_0xedb327[_0x417f9c(0x335)](_0x417f9c(0x597))&&(_0xedb327[_0x417f9c(0x690)](_0x417f9c(0x597)),_0xfd6b7d=0x0)):_0xfd6b7d=0x0,_0x1df7a4&&(_0x4f3bd1['players.'+currentStudentName+_0x417f9c(0x192)]=increment(_0x52085c)),_0x4f3bd1[_0x417f9c(0x7d1)+currentStudentName+_0x417f9c(0x687)]=_0xedb327,_0x4f3bd1['players.'+currentStudentName+_0x417f9c(0x7ae)]=_0xfd6b7d,_0x4f3bd1[_0x417f9c(0x7d1)+currentStudentName+_0x417f9c(0x176)]=!![],_0x4f3bd1[_0x417f9c(0x7d1)+currentStudentName+_0x417f9c(0x285)]=_0x1df7a4,_0x4f3bd1['players.'+currentStudentName+_0x417f9c(0x225)]=_0x52085c,await updateDoc(_0x3ee93e,_0x4f3bd1),liveGameView[_0x417f9c(0x5fb)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function createQuizFromBank(){const _0x16c383=_0x433974,_0x4953a1=document['querySelectorAll'](_0x16c383(0x3fd));if(_0x4953a1[_0x16c383(0x31c)]===0x0){showMessage(_0x16c383(0x881));return;}const _0x853db5=[];_0x4953a1[_0x16c383(0x1c8)](_0x14599e=>{const _0x4f665a=_0x16c383;_0x853db5[_0x4f665a(0x690)](JSON[_0x4f665a(0x7f8)](_0x14599e[_0x4f665a(0x411)]));});const _0x118a8c={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x853db5};displayGeneratedQuiz(_0x118a8c);}function showAdminLobbyView(_0x2ac1f6,_0x32f1b1){const _0x3606c4=_0x433974;showView('live-game');const _0x55b5d1=_0x3606c4(0x825)+_0x32f1b1+_0x3606c4(0x14f)+_0x2ac1f6+_0x3606c4(0x2fa);liveGameView[_0x3606c4(0x5fb)]=_0x55b5d1,document[_0x3606c4(0x633)](_0x3606c4(0x531))[_0x3606c4(0x3b9)](_0x3606c4(0x864),async()=>{const _0x31c31f=_0x3606c4;if(!currentQuizData||!currentQuizData[_0x31c31f(0x193)]||currentQuizData[_0x31c31f(0x193)][_0x31c31f(0x31c)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x3d371a=doc(db,_0x31c31f(0x2c6)+appId+_0x31c31f(0x326),currentLiveGameId);await updateDoc(_0x3d371a,{'status':_0x31c31f(0x3ec),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x35db89=currentQuizData[_0x31c31f(0x193)][0x0],_0x50cec4=currentQuizData[_0x31c31f(0x193)]['length'];showAdminLiveQuestionView(_0x35db89,0x0,_0x50cec4);}catch(_0x428b8d){console['error']('Error\x20starting\x20game:',_0x428b8d),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x4cdfed=_0x433974;if(allQuizzesGlobal[_0x4cdfed(0x31c)]===0x0){const _0x3d1a1c=await getDocs(collection(db,'artifacts/'+appId+_0x4cdfed(0x506)));allQuizzesGlobal=_0x3d1a1c[_0x4cdfed(0x600)][_0x4cdfed(0x844)](_0x44c747=>({'id':_0x44c747['id'],..._0x44c747[_0x4cdfed(0x1a2)]()}));}renderGlobalQuizList(''),document[_0x4cdfed(0x633)](_0x4cdfed(0x58f))[_0x4cdfed(0x1a4)]['remove'](_0x4cdfed(0x10c));}async function openQuizBankModal(){const _0x5cad38=_0x433974;if(allQuizzesGlobal['length']===0x0){const _0x389b4a=await getDocs(collection(db,_0x5cad38(0x2c6)+appId+_0x5cad38(0x506)));allQuizzesGlobal=_0x389b4a[_0x5cad38(0x600)][_0x5cad38(0x844)](_0x3a7a31=>({'id':_0x3a7a31['id'],..._0x3a7a31[_0x5cad38(0x1a2)]()}));}renderQuizBankList(''),document['getElementById']('quiz-bank-modal')['classList'][_0x5cad38(0x33c)](_0x5cad38(0x10c));}function renderQuizBankList(_0xa76cf=''){const _0x5b5ed4=_0x433974,_0x169afc=document[_0x5b5ed4(0x633)]('bank-quiz-list'),_0x513aee=_0xa76cf[_0x5b5ed4(0x6fb)]()[_0x5b5ed4(0x882)](),_0x88e0da=allQuizzesGlobal[_0x5b5ed4(0x844)](_0x5c0719=>({..._0x5c0719,'projectName':allProjects[_0x5b5ed4(0x7c5)](_0x542eb1=>_0x542eb1['id']===_0x5c0719[_0x5b5ed4(0x2be)])?.[_0x5b5ed4(0x332)]||_0x5b5ed4(0x2ea)}))['filter'](_0xb30ccb=>(_0xb30ccb[_0x5b5ed4(0x158)]||'')[_0x5b5ed4(0x6fb)]()[_0x5b5ed4(0x335)](_0x513aee)||(_0xb30ccb[_0x5b5ed4(0x332)]||'')[_0x5b5ed4(0x6fb)]()[_0x5b5ed4(0x335)](_0x513aee)||_0xb30ccb['id'][_0x5b5ed4(0x15d)]()[_0x5b5ed4(0x335)](_0x513aee));document[_0x5b5ed4(0x633)](_0x5b5ed4(0x437))[_0x5b5ed4(0x1d4)]='('+_0x88e0da[_0x5b5ed4(0x31c)]+'\x20ชุด)',_0x169afc[_0x5b5ed4(0x5fb)]=_0x88e0da[_0x5b5ed4(0x31c)]?_0x88e0da[_0x5b5ed4(0x844)](_0x5e2c6e=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x5e2c6e['id']+_0x5b5ed4(0x35c)+(_0x5e2c6e['topic']||_0x5b5ed4(0x49e))+_0x5b5ed4(0x28e)+(_0x5e2c6e[_0x5b5ed4(0x193)]?.[_0x5b5ed4(0x31c)]||0x0)+_0x5b5ed4(0x65a)+_0x5e2c6e[_0x5b5ed4(0x332)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x5e2c6e['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5e2c6e['id']+_0x5b5ed4(0x88f)+_0x5e2c6e['id']+_0x5b5ed4(0x5d4)+_0x5e2c6e['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x5b5ed4(0x63c)](''):_0x5b5ed4(0x282),_0x169afc[_0x5b5ed4(0x6a8)](_0x5b5ed4(0x46c))[_0x5b5ed4(0x1c8)](_0x2fd5e7=>{const _0x886a85=_0x5b5ed4;_0x2fd5e7[_0x886a85(0x3b9)](_0x886a85(0x864),()=>{const _0x189b54=_0x886a85,_0x57f449=_0x2fd5e7[_0x189b54(0x80f)]['id'];document['getElementById'](_0x189b54(0x1e0))['classList']['add'](_0x189b54(0x10c)),showQuizDetailView(_0x57f449);});}),_0x169afc[_0x5b5ed4(0x6a8)](_0x5b5ed4(0x171))[_0x5b5ed4(0x1c8)](_0x2671d4=>{const _0x7e5cb9=_0x5b5ed4;_0x2671d4[_0x7e5cb9(0x3b9)]('click',_0x1c6697=>{const _0x2dce16=_0x7e5cb9;_0x1c6697['stopPropagation']();const _0x1143b0=_0x2671d4[_0x2dce16(0x80f)]['id'],_0x16586d=allQuizzesGlobal[_0x2dce16(0x7c5)](_0x31e2ef=>_0x31e2ef['id']===_0x1143b0);_0x16586d?(currentQuizData=_0x16586d,document[_0x2dce16(0x633)](_0x2dce16(0x1e0))[_0x2dce16(0x1a4)][_0x2dce16(0x10f)](_0x2dce16(0x10c)),startAdminTest()):showMessage(_0x2dce16(0x5c6));});}),_0x169afc[_0x5b5ed4(0x6a8)]('.quiz-bank-parallel-btn')[_0x5b5ed4(0x1c8)](_0xcb5f1a=>{const _0x14183d=_0x5b5ed4;_0xcb5f1a[_0x14183d(0x3b9)]('click',_0x443722=>{const _0x42c26d=_0x14183d;_0x443722['stopPropagation']();const _0x1529f1=_0xcb5f1a['dataset']['id'],_0x2e6d57=allQuizzesGlobal['find'](_0x3bd4f1=>_0x3bd4f1['id']===_0x1529f1);_0x2e6d57?(document['getElementById'](_0x42c26d(0x1e0))['classList']['add'](_0x42c26d(0x10c)),handleGenerateParallelFromBank(_0x2e6d57)):showMessage(_0x42c26d(0x5c6));});}),_0x169afc[_0x5b5ed4(0x6a8)](_0x5b5ed4(0x127))['forEach'](_0x5f1005=>{const _0x32aa4f=_0x5b5ed4;_0x5f1005[_0x32aa4f(0x3b9)](_0x32aa4f(0x864),_0x35983e=>{const _0x28223f=_0x32aa4f;_0x35983e['stopPropagation']();const _0x532803=_0x5f1005[_0x28223f(0x80f)]['id'],_0x15df01=allQuizzesGlobal[_0x28223f(0x7c5)](_0x1add77=>_0x1add77['id']===_0x532803);_0x15df01?(document[_0x28223f(0x633)](_0x28223f(0x1e0))[_0x28223f(0x1a4)][_0x28223f(0x10f)](_0x28223f(0x10c)),startPresentation(_0x15df01)):showMessage(_0x28223f(0x5c6));});});}async function handleCompareResults(_0x577771,_0x603bc4){const _0x575856=_0x433974,_0x413c86=document[_0x575856(0x633)](_0x575856(0x653)),_0x324558=document[_0x575856(0x633)](_0x575856(0x156)),_0x9bb713=document[_0x575856(0x633)](_0x575856(0x4c8));document[_0x575856(0x633)](_0x575856(0x373))['classList']['add'](_0x575856(0x532)),document[_0x575856(0x633)](_0x575856(0x6e2))['classList'][_0x575856(0x33c)](_0x575856(0x532)),_0x324558[_0x575856(0x1a4)][_0x575856(0x33c)]('hidden'),_0x9bb713[_0x575856(0x1a4)][_0x575856(0x10f)]('hidden'),_0x324558[_0x575856(0x5fb)]=_0x575856(0x711),_0x9bb713[_0x575856(0x5fb)]='',_0x413c86[_0x575856(0x1a4)][_0x575856(0x33c)]('hidden');try{const _0x1028fe=doc(db,_0x575856(0x2c6)+appId+_0x575856(0x506),_0x577771),_0x42b841=await getDoc(_0x1028fe);if(!_0x42b841[_0x575856(0x660)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x11f53b=_0x42b841[_0x575856(0x1a2)](),_0x1d7b7a=_0x11f53b[_0x575856(0x193)]['length'],_0x58f3b3=collection(db,_0x575856(0x2c6)+appId+'/public/data/quizzes/'+_0x603bc4+_0x575856(0x424)),_0x5ae1f8=collection(db,_0x575856(0x2c6)+appId+_0x575856(0x315)+_0x577771+_0x575856(0x424)),[_0x1754bc,_0x248125]=await Promise[_0x575856(0x2ef)]([getDocs(_0x58f3b3),getDocs(_0x5ae1f8)]),_0x3ac86a=_0x1754bc[_0x575856(0x600)][_0x575856(0x844)](_0x38275e=>_0x38275e['data']()),_0x4e215d=_0x248125[_0x575856(0x600)][_0x575856(0x844)](_0x5b2e41=>_0x5b2e41[_0x575856(0x1a2)]()),_0x256309=_0x3ac86a[_0x575856(0x844)](_0x4e5c64=>_0x4e5c64[_0x575856(0x81f)]),_0x36f222=_0x4e215d[_0x575856(0x844)](_0x4e642e=>_0x4e642e['latestScore']),_0x298cdd=calculateMeanAndStdDev(_0x256309),_0x5889df=calculateMeanAndStdDev(_0x36f222),_0x315114=_0x298cdd[_0x575856(0x139)],_0x457619=_0x5889df[_0x575856(0x139)],_0x410f7a=_0x457619-_0x315114;let _0x58cbf5=_0x575856(0x6bc)+_0x315114['toFixed'](0x2)+_0x575856(0x77d)+_0x457619[_0x575856(0x5fd)](0x2)+_0x575856(0x246)+(_0x410f7a>=0x0?_0x575856(0x708):_0x575856(0x53a))+_0x575856(0x43c)+(_0x410f7a>=0x0?'text-emerald-800':_0x575856(0x5b7))+_0x575856(0x23c)+(_0x410f7a>=0x0?_0x575856(0x42c):_0x575856(0x50e))+'\x22>'+(_0x410f7a>=0x0?'+':'')+_0x410f7a[_0x575856(0x5fd)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x324558[_0x575856(0x5fb)]=_0x58cbf5;const _0x46acda=document[_0x575856(0x633)]('comparison-chart')[_0x575856(0x466)]('2d');if(chartInstances[_0x575856(0x446)])chartInstances[_0x575856(0x446)][_0x575856(0x162)]();chartInstances[_0x575856(0x446)]=new Chart(_0x46acda,{'type':_0x575856(0x286),'data':{'labels':[_0x575856(0x67a)],'datasets':[{'label':_0x575856(0x41a),'data':[_0x315114],'backgroundColor':_0x575856(0x7bf)},{'label':_0x575856(0x4cb),'data':[_0x457619],'backgroundColor':_0x575856(0x5a5)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x1d7b7a}}}});const _0xf622f0=currentProjectData[_0x575856(0x647)]||[],_0xce7307=_0xf622f0[_0x575856(0x844)](_0x519a1e=>{const _0x2490c3=_0x575856,_0xd7f822=_0x3ac86a[_0x2490c3(0x7c5)](_0x5c163a=>_0x5c163a['studentName']===_0x519a1e),_0x1b2fc1=_0x4e215d[_0x2490c3(0x7c5)](_0x395609=>_0x395609['studentName']===_0x519a1e),_0x28f259=_0xd7f822?_0xd7f822[_0x2490c3(0x81f)]:null,_0x4000c1=_0x1b2fc1?_0x1b2fc1['latestScore']:null,_0x2eadaa=_0x28f259!==null&&_0x4000c1!==null?_0x4000c1-_0x28f259:null,_0x485863=_0x28f259!==null?calculateZScore(_0x28f259,_0x298cdd[_0x2490c3(0x139)],_0x298cdd['stdDev']):null,_0x19d03d=_0x4000c1!==null?calculateZScore(_0x4000c1,_0x5889df[_0x2490c3(0x139)],_0x5889df[_0x2490c3(0x2a1)]):null,_0x3fc3c2=_0x485863!==null?calculateTScore(_0x485863):null,_0x2be4e9=_0x19d03d!==null?calculateTScore(_0x19d03d):null,_0x25d1d3=_0x3fc3c2!==null&&_0x2be4e9!==null?_0x2be4e9-_0x3fc3c2:null;return{'name':_0x519a1e,'preScore':_0x28f259,'postScore':_0x4000c1,'gain':_0x2eadaa,'preTScore':_0x3fc3c2,'postTScore':_0x2be4e9,'tGain':_0x25d1d3};});renderIndividualComparisonTable(_0xce7307,_0x9bb713);}catch(_0x2512d2){console['error']('Error\x20comparing\x20results:',_0x2512d2),_0x324558[_0x575856(0x5fb)]=_0x575856(0x2f0);}}function displayHalfMarkResult(_0x430f6f,_0x29ef4f){const _0x373a75=_0x433974,_0x289bb6=_0x430f6f>=_0x29ef4f/0x2,_0x4607f1=_0x289bb6?_0x373a75(0x120):'bg-red-100',_0x55eecd=_0x289bb6?_0x373a75(0x7d6):_0x373a75(0x61a),_0x3cc335=_0x289bb6?_0x373a75(0x24e):_0x373a75(0x5b7),_0x3405c2=_0x289bb6?_0x373a75(0x4ed):_0x373a75(0x278),_0x5b0997=_0x289bb6?_0x373a75(0x82b):_0x373a75(0x7fe);let _0x1662a4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x4607f1+_0x373a75(0x4a9)+_0x55eecd+_0x373a75(0x47e)+_0x3cc335+_0x373a75(0x12a)+_0x3405c2+_0x373a75(0x728)+_0x5b0997+_0x373a75(0x157);studentResultArea[_0x373a75(0x5fb)]=_0x1662a4,studentResultArea[_0x373a75(0x1a4)]['remove'](_0x373a75(0x10c)),studentQuizArea[_0x373a75(0x1a4)]['add'](_0x373a75(0x10c)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x289bb6});}function displayPerfectScoreResult(_0x27948b,_0x1fa80e){const _0x506e9a=_0x433974,_0x527e56=_0x27948b===_0x1fa80e,_0x5e4d8a=_0x527e56?_0x506e9a(0x2e5):_0x506e9a(0x3e9),_0x3d97d4=_0x527e56?_0x506e9a(0x80e):_0x506e9a(0x1c9),_0x4685fa=_0x527e56?_0x506e9a(0x7a8):_0x506e9a(0x740),_0x20f976=_0x527e56?'คะแนนเต็ม!':'ยังไม่เต็มนะ',_0x52ed8a=_0x527e56?_0x506e9a(0x76d):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x5ab2fa=_0x506e9a(0x3df)+_0x5e4d8a+_0x506e9a(0x4a9)+_0x3d97d4+_0x506e9a(0x47e)+_0x4685fa+_0x506e9a(0x12a)+_0x20f976+_0x506e9a(0x728)+_0x52ed8a+_0x506e9a(0x157);studentResultArea['innerHTML']=_0x5ab2fa,studentResultArea[_0x506e9a(0x1a4)][_0x506e9a(0x33c)]('hidden'),studentQuizArea['classList'][_0x506e9a(0x10f)](_0x506e9a(0x10c)),setupResultScreenBackButton({'showRankings':![],'score':_0x27948b,'totalQuestions':_0x1fa80e});}function renderIndividualComparisonTable(_0x38f855,_0x244c2c){const _0x324c62=_0x433974;_0x38f855[_0x324c62(0x2e8)]((_0x4101f5,_0x40c158)=>(_0x40c158[_0x324c62(0x434)]??-Infinity)-(_0x4101f5[_0x324c62(0x434)]??-Infinity));let _0x4a9457=_0x324c62(0x126);_0x38f855[_0x324c62(0x31c)]===0x0?_0x4a9457+=_0x324c62(0x224):_0x38f855[_0x324c62(0x1c8)]((_0x571616,_0x3d827a)=>{const _0x36c4b7=_0x324c62;let _0x37ea86='-',_0x2d3561='';if(_0x571616[_0x36c4b7(0x6fc)]!==null){const _0x23e783=_0x571616[_0x36c4b7(0x6fc)]>0x0?_0x36c4b7(0x44c):_0x571616['gain']<0x0?_0x36c4b7(0x643):_0x36c4b7(0x472),_0x3b8f7f=_0x571616[_0x36c4b7(0x6fc)]>0x0?'+':'';_0x37ea86=_0x36c4b7(0x2aa)+_0x23e783+'\x22>'+_0x3b8f7f+_0x571616['gain']+_0x36c4b7(0x4b2);if(_0x571616[_0x36c4b7(0x6fc)]>0x0)_0x2d3561=_0x36c4b7(0x74c);else _0x571616[_0x36c4b7(0x6fc)]<0x0?_0x2d3561=_0x36c4b7(0x7f3):_0x2d3561=_0x36c4b7(0x737);}let _0x5064dd='-';if(_0x571616['tGain']!==null){const _0xe5530c=_0x571616['tGain']>0x0?'text-green-600':_0x571616[_0x36c4b7(0x434)]<0x0?_0x36c4b7(0x643):_0x36c4b7(0x472),_0x1f9f5b=_0x571616[_0x36c4b7(0x434)]>0x0?'+':'';_0x5064dd=_0x36c4b7(0x2aa)+_0xe5530c+'\x22>'+_0x1f9f5b+_0x571616[_0x36c4b7(0x434)][_0x36c4b7(0x5fd)](0x2)+'</span>';}_0x4a9457+=_0x36c4b7(0x295)+(_0x3d827a+0x1)+_0x36c4b7(0x7c9)+_0x571616['name']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x571616[_0x36c4b7(0x2d0)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x571616[_0x36c4b7(0x733)]??'-')+_0x36c4b7(0x5cb)+_0x37ea86+_0x36c4b7(0x26d)+_0x2d3561+_0x36c4b7(0x26e)+(_0x571616[_0x36c4b7(0x48f)]?.[_0x36c4b7(0x5fd)](0x2)??'-')+_0x36c4b7(0x78b)+(_0x571616[_0x36c4b7(0x37b)]?.['toFixed'](0x2)??'-')+_0x36c4b7(0x5cb)+_0x5064dd+_0x36c4b7(0x33a);}),_0x4a9457+=_0x324c62(0x746),_0x244c2c['innerHTML']=_0x4a9457;}function handleRenameQuiz(_0x18cfb,_0x4ccf8b){const _0x45c737=_0x433974;actionTargetId=_0x18cfb,document['getElementById'](_0x45c737(0x739))[_0x45c737(0x411)]=_0x4ccf8b,renameQuizModal['classList'][_0x45c737(0x33c)](_0x45c737(0x10c));}function setupComparisonModalTabs(){const _0xfe3f0c=_0x433974,_0x443e99=document['getElementById'](_0xfe3f0c(0x373)),_0x5a5c46=document['getElementById'](_0xfe3f0c(0x6e2)),_0x205081=document[_0xfe3f0c(0x633)](_0xfe3f0c(0x156)),_0x4708bc=document['getElementById'](_0xfe3f0c(0x4c8));_0x443e99[_0xfe3f0c(0x3b9)](_0xfe3f0c(0x864),()=>{const _0x2f642d=_0xfe3f0c;_0x443e99['classList'][_0x2f642d(0x10f)]('active'),_0x5a5c46['classList'][_0x2f642d(0x33c)](_0x2f642d(0x532)),_0x205081['classList'][_0x2f642d(0x33c)](_0x2f642d(0x10c)),_0x4708bc[_0x2f642d(0x1a4)][_0x2f642d(0x10f)](_0x2f642d(0x10c));}),_0x5a5c46[_0xfe3f0c(0x3b9)]('click',()=>{const _0x574098=_0xfe3f0c;_0x5a5c46['classList'][_0x574098(0x10f)](_0x574098(0x532)),_0x443e99[_0x574098(0x1a4)][_0x574098(0x33c)](_0x574098(0x532)),_0x4708bc[_0x574098(0x1a4)][_0x574098(0x33c)](_0x574098(0x10c)),_0x205081[_0x574098(0x1a4)][_0x574098(0x10f)](_0x574098(0x10c));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x11d568=''){const _0x396555=_0x433974,_0x51dfeb=document['getElementById'](_0x396555(0x399)),_0x3bdc08=_0x11d568[_0x396555(0x6fb)]()[_0x396555(0x882)](),_0x168060=allQuizzesGlobal[_0x396555(0x844)](_0x4f3b74=>({..._0x4f3b74,'projectName':allProjects['find'](_0x1aaee0=>_0x1aaee0['id']===_0x4f3b74[_0x396555(0x2be)])?.[_0x396555(0x332)]||_0x4f3b74[_0x396555(0x2be)]}))[_0x396555(0x622)](_0x266579=>(_0x266579[_0x396555(0x158)]||'')['toLowerCase']()[_0x396555(0x335)](_0x3bdc08)||(_0x266579[_0x396555(0x332)]||'')['toLowerCase']()[_0x396555(0x335)](_0x3bdc08));document['getElementById']('global-live-game-count')[_0x396555(0x1d4)]='('+_0x168060[_0x396555(0x31c)]+'\x20ชุด)',_0x51dfeb[_0x396555(0x5fb)]=_0x168060['length']?_0x168060[_0x396555(0x844)](_0x512405=>_0x396555(0x56a)+_0x512405['id']+_0x396555(0x878)+(_0x512405[_0x396555(0x158)]||_0x396555(0x49e))+_0x396555(0x2d5)+(_0x512405[_0x396555(0x193)]?.[_0x396555(0x31c)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x512405[_0x396555(0x332)]+_0x396555(0x212))[_0x396555(0x63c)](''):_0x396555(0x1b7),selectedGlobalQuizId=null,document['getElementById'](_0x396555(0x1e2))[_0x396555(0x6b0)]=!![],_0x51dfeb[_0x396555(0x6a8)](_0x396555(0x3d5))[_0x396555(0x1c8)](_0x1d18df=>{const _0x354efd=_0x396555;_0x1d18df[_0x354efd(0x3b9)]('click',()=>{const _0x4b3a70=_0x354efd;selectedGlobalQuizId=_0x1d18df['dataset']['id'],_0x51dfeb[_0x4b3a70(0x6a8)](_0x4b3a70(0x759))[_0x4b3a70(0x1c8)](_0x3165b8=>_0x3165b8[_0x4b3a70(0x1a4)][_0x4b3a70(0x33c)](_0x4b3a70(0x61e),'ring-2',_0x4b3a70(0x5ba))),_0x1d18df[_0x4b3a70(0x1a4)][_0x4b3a70(0x10f)](_0x4b3a70(0x61e),_0x4b3a70(0x48a),'ring-purple-400'),document[_0x4b3a70(0x633)](_0x4b3a70(0x1e2))[_0x4b3a70(0x6b0)]=![];});});}function listenForLiveGameUpdates(){const _0x75b38f=_0x433974;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x48f161=doc(db,_0x75b38f(0x2c6)+appId+_0x75b38f(0x326),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x48f161,_0x3de409=>{const _0x3c4558=_0x75b38f;if(!_0x3de409[_0x3c4558(0x660)]()){showMessage(_0x3c4558(0x1bb)),showView(currentMode);return;}const _0x9dff1b=_0x3de409[_0x3c4558(0x1a2)]();!currentQuizData&&_0x9dff1b['quizId']&&((async()=>{const _0x2b87ee=_0x3c4558;try{const _0x408a09=doc(db,_0x2b87ee(0x2c6)+appId+_0x2b87ee(0x506),_0x9dff1b[_0x2b87ee(0x8a9)]),_0x425653=await getDoc(_0x408a09);_0x425653[_0x2b87ee(0x660)]()&&(currentQuizData={'id':_0x425653['id'],..._0x425653[_0x2b87ee(0x1a2)]()});}catch(_0x2b647b){console[_0x2b87ee(0x6ee)](_0x2b87ee(0x226),_0x2b647b);}})());switch(_0x9dff1b[_0x3c4558(0x21b)]){case'lobby':if(currentMode===_0x3c4558(0x133)){const _0x130eb4=_0x9dff1b[_0x3c4558(0x858)]?Object['keys'](_0x9dff1b[_0x3c4558(0x858)]):[];document['getElementById'](_0x3c4558(0x553))[_0x3c4558(0x1d4)]=_0x130eb4[_0x3c4558(0x31c)],document[_0x3c4558(0x633)]('player-list-lobby')[_0x3c4558(0x5fb)]=_0x130eb4[_0x3c4558(0x844)](_0xa87f7a=>'<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>'+_0xa87f7a+_0x3c4558(0x4b2))[_0x3c4558(0x63c)]('');const _0x317357=document[_0x3c4558(0x633)](_0x3c4558(0x531));_0x317357&&(_0x317357['disabled']=_0x130eb4[_0x3c4558(0x31c)]===0x0);}else showView(_0x3c4558(0x4ae)),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x3c4558(0x3ec):const _0x14006e=_0x9dff1b['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x3c4558(0x193)][_0x14006e]){const _0x5688f8=currentQuizData[_0x3c4558(0x193)][_0x14006e],_0x59cb64=currentQuizData[_0x3c4558(0x193)][_0x3c4558(0x31c)];if(currentMode==='admin'){lastRenderedAdminQuestionIndex!==_0x14006e&&(showAdminLiveQuestionView(_0x5688f8,_0x14006e,_0x59cb64),lastRenderedAdminQuestionIndex=_0x14006e);const _0x1dc4fa=document[_0x3c4558(0x633)](_0x3c4558(0x447));if(_0x1dc4fa&&_0x9dff1b[_0x3c4558(0x858)]){const _0x50ba31=Object['keys'](_0x9dff1b[_0x3c4558(0x858)])[_0x3c4558(0x31c)],_0x55d628=Object[_0x3c4558(0x701)](_0x9dff1b[_0x3c4558(0x858)])[_0x3c4558(0x622)](_0x2fe17e=>_0x2fe17e[_0x3c4558(0x768)]===!![])['length'];_0x1dc4fa[_0x3c4558(0x1d4)]=_0x55d628+'/'+_0x50ba31,_0x50ba31>0x0&&_0x55d628===_0x50ba31&&_0x9dff1b[_0x3c4558(0x66b)]!==_0x3c4558(0x7c6)&&revealAnswerForAdmin(_0x14006e,_0x59cb64);}}else{const _0x5c816d=_0x9dff1b[_0x3c4558(0x858)][currentStudentName];if(_0x9dff1b[_0x3c4558(0x66b)]===_0x3c4558(0x7c6)){if(_0x5c816d[_0x3c4558(0x768)]){const _0x3f9510=_0x5c816d[_0x3c4558(0x49d)],_0x3680e3=_0x5c816d[_0x3c4558(0x70b)]||0x0,_0x286e2c=_0x3f9510?_0x3c4558(0x89b)+_0x3680e3+_0x3c4558(0x651):_0x3c4558(0x62e);liveGameView[_0x3c4558(0x5fb)]=_0x3c4558(0x874)+_0x286e2c+_0x3c4558(0x7f9);}else liveGameView['innerHTML']=_0x3c4558(0x7f4);}else!_0x5c816d['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x5688f8,_0x14006e,_0x59cb64);}}break;case _0x3c4558(0x350):showPodiumView(_0x9dff1b[_0x3c4558(0x858)]);break;}});}async function authenticateUser(){const _0x56ae3f=_0x433974;try{typeof __initial_auth_token!==_0x56ae3f(0x4d5)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5152b0){console[_0x56ae3f(0x6ee)](_0x56ae3f(0x2d7),_0x5152b0),showMessage(_0x56ae3f(0x58a));}}function showView(_0x46d692){const _0x4fea23=_0x433974,_0x29a119=[_0x4fea23(0x7cf),_0x4fea23(0x269),_0x4fea23(0x323),'project-detail-view','quiz-results-view',_0x4fea23(0x788),_0x4fea23(0x297)];_0x29a119[_0x4fea23(0x1c8)](_0x4f621a=>document['getElementById'](_0x4f621a)?.[_0x4fea23(0x1a4)][_0x4fea23(0x10f)](_0x4fea23(0x10c)));if(_0x46d692==='admin-dashboard')adminView[_0x4fea23(0x1a4)][_0x4fea23(0x33c)](_0x4fea23(0x10c)),projectDashboardView[_0x4fea23(0x1a4)][_0x4fea23(0x33c)](_0x4fea23(0x10c));else{if(_0x46d692===_0x4fea23(0x699))studentView['classList'][_0x4fea23(0x33c)](_0x4fea23(0x10c)),studentInitialView[_0x4fea23(0x1a4)][_0x4fea23(0x33c)]('hidden'),studentNameSelectionView[_0x4fea23(0x1a4)][_0x4fea23(0x10f)](_0x4fea23(0x10c)),studentQuizArea[_0x4fea23(0x1a4)]['add'](_0x4fea23(0x10c)),studentResultArea[_0x4fea23(0x1a4)][_0x4fea23(0x10f)](_0x4fea23(0x10c)),studentReadingArea[_0x4fea23(0x1a4)][_0x4fea23(0x10f)](_0x4fea23(0x10c)),studentJoinGameView[_0x4fea23(0x1a4)]['add']('hidden');else{if(_0x46d692===_0x4fea23(0x32e))adminView[_0x4fea23(0x1a4)]['remove'](_0x4fea23(0x10c)),projectDetailView[_0x4fea23(0x1a4)][_0x4fea23(0x33c)](_0x4fea23(0x10c));else{if(_0x46d692==='quiz-results')adminView['classList'][_0x4fea23(0x33c)](_0x4fea23(0x10c)),quizResultsView['classList'][_0x4fea23(0x33c)](_0x4fea23(0x10c));else _0x46d692===_0x4fea23(0x4ae)&&liveGameView['classList']['remove']('hidden');}}}}function showJoinGameView(){const _0x5323cd=_0x433974;studentInitialView[_0x5323cd(0x1a4)][_0x5323cd(0x10f)]('hidden'),studentJoinGameView[_0x5323cd(0x1a4)][_0x5323cd(0x33c)](_0x5323cd(0x10c));}async function handleSaveVisibilitySettings(){const _0x34d85d=_0x433974;if(!currentProjectId)return;const _0x4e37e6=doc(db,_0x34d85d(0x2c6)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x4e37e6,{'settings.showInStudentDashboard':document[_0x34d85d(0x633)](_0x34d85d(0x697))[_0x34d85d(0x4d8)],'settings.isPasscodeEnabled':document[_0x34d85d(0x633)](_0x34d85d(0x5cf))[_0x34d85d(0x4d8)],'settings.passcode':document[_0x34d85d(0x633)](_0x34d85d(0x32b))[_0x34d85d(0x411)]['trim']()}),showMessage(_0x34d85d(0x407));}catch(_0x4800af){console[_0x34d85d(0x6ee)](_0x34d85d(0x138),_0x4800af),showMessage(_0x34d85d(0x67b));}}function setupEventListeners(){const _0x547c4f=_0x433974;document['getElementById'](_0x547c4f(0x481))[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleModeSwitch),document[_0x547c4f(0x633)](_0x547c4f(0x508))[_0x547c4f(0x3b9)]('click',handleUpdateOldQuizzes),document['getElementById'](_0x547c4f(0x7ed))[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleResetProjectOrder),document[_0x547c4f(0x633)](_0x547c4f(0x2e3))[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleSaveVisibilitySettings),document[_0x547c4f(0x633)]('add-custom-math-topic-btn')[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleAddCustomMathTopic),document[_0x547c4f(0x633)](_0x547c4f(0x4c6))[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleSelectAllTopics),document['getElementById'](_0x547c4f(0x791))[_0x547c4f(0x3b9)]('click',handleDeselectAllTopics),document[_0x547c4f(0x633)](_0x547c4f(0x6e1))[_0x547c4f(0x3b9)]('click',()=>{const _0x54079f=_0x547c4f;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x54079f(0x65e));}),document[_0x547c4f(0x633)](_0x547c4f(0x6e0))['addEventListener'](_0x547c4f(0x864),()=>{const _0x5403bb=_0x547c4f;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x5403bb(0x32e));}),document[_0x547c4f(0x633)](_0x547c4f(0x15a))['addEventListener']('click',()=>{const _0x4c5c5f=_0x547c4f;showView(_0x4c5c5f(0x65e));}),document[_0x547c4f(0x633)](_0x547c4f(0x333))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x5d50b4=_0x547c4f;messageModal[_0x5d50b4(0x1a4)][_0x5d50b4(0x10f)](_0x5d50b4(0x10c)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x547c4f(0x303))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>createProjectModal[_0x547c4f(0x1a4)][_0x547c4f(0x33c)](_0x547c4f(0x10c))),document['getElementById'](_0x547c4f(0x3eb))['addEventListener'](_0x547c4f(0x864),()=>createProjectModal[_0x547c4f(0x1a4)][_0x547c4f(0x10f)](_0x547c4f(0x10c))),document[_0x547c4f(0x633)](_0x547c4f(0x679))[_0x547c4f(0x3b9)]('click',()=>adminPasswordModal[_0x547c4f(0x1a4)]['add'](_0x547c4f(0x10c))),document['getElementById'](_0x547c4f(0x869))['addEventListener']('click',handleAdminLogin),document[_0x547c4f(0x633)]('admin-password-input')[_0x547c4f(0x3b9)](_0x547c4f(0x40b),_0x3a83c2=>{const _0x24edca=_0x547c4f;if(_0x3a83c2[_0x24edca(0x182)]===_0x24edca(0x774))handleAdminLogin();}),document[_0x547c4f(0x633)](_0x547c4f(0x7ad))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x5d4e28=_0x547c4f;confirmationModal[_0x5d4e28(0x1a4)][_0x5d4e28(0x10f)]('hidden'),confirmAction=null;}),document[_0x547c4f(0x633)](_0x547c4f(0x60b))['addEventListener']('click',()=>{const _0x5ba393=_0x547c4f;confirmAction&&confirmAction(),confirmationModal['classList'][_0x5ba393(0x10f)](_0x5ba393(0x10c)),confirmAction=null;}),document[_0x547c4f(0x633)]('cancel-rename-quiz-btn')[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>renameQuizModal[_0x547c4f(0x1a4)][_0x547c4f(0x10f)](_0x547c4f(0x10c))),document['getElementById']('confirm-rename-quiz-btn')['addEventListener'](_0x547c4f(0x864),confirmRenameQuiz),document[_0x547c4f(0x633)]('cancel-move-quiz-btn')[_0x547c4f(0x3b9)]('click',()=>moveQuizModal['classList']['add'](_0x547c4f(0x10c))),document['getElementById']('confirm-move-quiz-btn')[_0x547c4f(0x3b9)](_0x547c4f(0x864),confirmMoveQuiz),document[_0x547c4f(0x633)]('cancel-quiz-settings-btn')[_0x547c4f(0x3b9)]('click',()=>quizSettingsModal[_0x547c4f(0x1a4)][_0x547c4f(0x10f)](_0x547c4f(0x10c))),document['getElementById']('confirm-quiz-settings-btn')[_0x547c4f(0x3b9)](_0x547c4f(0x864),confirmQuizSettings),document[_0x547c4f(0x633)](_0x547c4f(0x5dc))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>quizStatusModal[_0x547c4f(0x1a4)][_0x547c4f(0x10f)]('hidden')),document['getElementById'](_0x547c4f(0x23a))['addEventListener'](_0x547c4f(0x864),confirmQuizStatus);const _0x407fc3=document[_0x547c4f(0x633)](_0x547c4f(0x3d3));document[_0x547c4f(0x633)](_0x547c4f(0x27f))[_0x547c4f(0x3b9)]('click',()=>{const _0x1cb069=_0x547c4f;_0x407fc3[_0x1cb069(0x1a4)][_0x1cb069(0x10f)](_0x1cb069(0x10c));}),document['getElementById']('export-compact-pdf-btn')[_0x547c4f(0x3b9)](_0x547c4f(0x864),async()=>{const _0x15c9b2=_0x547c4f,_0x15eefc=allQuizzes[_0x15c9b2(0x7c5)](_0x499cf4=>_0x499cf4['id']===actionTargetId);_0x15eefc?(currentQuizData=_0x15eefc,exportQuizAsWorksheetPDF()):showMessage(_0x15c9b2(0x5c6)),_0x407fc3[_0x15c9b2(0x1a4)][_0x15c9b2(0x10f)](_0x15c9b2(0x10c));}),document['getElementById'](_0x547c4f(0x6ab))['addEventListener'](_0x547c4f(0x864),async()=>{const _0x553321=_0x547c4f,_0x130275=allQuizzes['find'](_0x33cd98=>_0x33cd98['id']===actionTargetId);_0x130275?(currentQuizData=_0x130275,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x407fc3[_0x553321(0x1a4)][_0x553321(0x10f)](_0x553321(0x10c));}),document['getElementById'](_0x547c4f(0x475))[_0x547c4f(0x3b9)](_0x547c4f(0x864),openGlobalLiveModal),document[_0x547c4f(0x633)](_0x547c4f(0x318))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x59f23c=_0x547c4f;document[_0x59f23c(0x633)]('global-live-game-modal')[_0x59f23c(0x1a4)][_0x59f23c(0x10f)](_0x59f23c(0x10c)),selectedGlobalQuizId=null;}),document[_0x547c4f(0x633)]('global-quiz-search-input')[_0x547c4f(0x3b9)](_0x547c4f(0x429),_0x2fdac9=>renderGlobalQuizList(_0x2fdac9['target'][_0x547c4f(0x411)])),document['getElementById'](_0x547c4f(0x1e2))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x191a8c=_0x547c4f,_0xe9194c=selectedGlobalQuizId;if(!_0xe9194c)return;document[_0x191a8c(0x633)](_0x191a8c(0x58f))[_0x191a8c(0x1a4)]['add'](_0x191a8c(0x10c)),handleStartLiveRace(_0xe9194c);}),document[_0x547c4f(0x633)](_0x547c4f(0x28f))[_0x547c4f(0x3b9)](_0x547c4f(0x429),renderProjects),document['getElementById'](_0x547c4f(0x544))[_0x547c4f(0x3b9)](_0x547c4f(0x5d6),async()=>{const _0x26076c=_0x547c4f,_0x55fd8d=document[_0x26076c(0x633)](_0x26076c(0x544))['value'],_0x25350e=doc(db,_0x26076c(0x68e),_0x26076c(0x3bb));try{await setDoc(_0x25350e,{'projectSort':_0x55fd8d},{'merge':!![]});}catch(_0x399777){console[_0x26076c(0x6ee)](_0x26076c(0x29f),_0x399777),showMessage(_0x26076c(0x8a7));}}),document[_0x547c4f(0x633)]('quiz-search-input')[_0x547c4f(0x3b9)](_0x547c4f(0x429),renderQuizzes),document[_0x547c4f(0x633)](_0x547c4f(0x5b2))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x2fea8f=_0x547c4f;globalDashboardSettings[_0x2fea8f(0x569)]=_0x2fea8f(0x6f1),saveUserPreference(_0x2fea8f(0x569),_0x2fea8f(0x6f1)),renderProjects();}),document[_0x547c4f(0x633)]('list-view-btn')['addEventListener'](_0x547c4f(0x864),()=>{const _0x11e69e=_0x547c4f;globalDashboardSettings[_0x11e69e(0x569)]=_0x11e69e(0x1c6),saveUserPreference(_0x11e69e(0x569),_0x11e69e(0x1c6)),renderProjects();}),manageTab['addEventListener'](_0x547c4f(0x864),()=>switchProjectTab('manage')),resultsTab[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>switchProjectTab(_0x547c4f(0x4e2))),leaderboardTab[_0x547c4f(0x3b9)]('click',()=>switchProjectTab(_0x547c4f(0x7d4))),document['getElementById'](_0x547c4f(0x74e))[_0x547c4f(0x3b9)]('click',()=>switchQuizDetailTab('analytics')),document[_0x547c4f(0x633)](_0x547c4f(0x523))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>switchQuizDetailTab(_0x547c4f(0x4b1))),document['getElementById']('leaderboard-quiz-tab-btn')[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>switchQuizDetailTab(_0x547c4f(0x24a))),document[_0x547c4f(0x633)](_0x547c4f(0x344))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>switchQuizDetailTab('behavior-log')),document['getElementById'](_0x547c4f(0x144))[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleAnalyzeClass),generateWorksheetBtn[_0x547c4f(0x3b9)](_0x547c4f(0x864),generateWorksheet);const _0x2c061c=document['getElementById'](_0x547c4f(0x142)),_0x1397d3=document[_0x547c4f(0x633)](_0x547c4f(0x2a6)),_0xe14a96=document['getElementById'](_0x547c4f(0x5d9)),_0x4046a4=document[_0x547c4f(0x633)](_0x547c4f(0x5f0)),_0x56ac44=document[_0x547c4f(0x633)](_0x547c4f(0x456)),_0x1a3b04=document[_0x547c4f(0x633)](_0x547c4f(0x41f));topicTab['addEventListener'](_0x547c4f(0x864),()=>{const _0x41ce5e=_0x547c4f;topicTab['classList'][_0x41ce5e(0x10f)](_0x41ce5e(0x532)),textTab['classList'][_0x41ce5e(0x33c)](_0x41ce5e(0x532)),fileTab[_0x41ce5e(0x1a4)][_0x41ce5e(0x33c)](_0x41ce5e(0x532)),worksheetTab[_0x41ce5e(0x1a4)][_0x41ce5e(0x33c)](_0x41ce5e(0x532));if(_0x2c061c)_0x2c061c[_0x41ce5e(0x1a4)]['remove']('active');if(_0xe14a96)_0xe14a96[_0x41ce5e(0x1a4)][_0x41ce5e(0x33c)](_0x41ce5e(0x532));if(_0x56ac44)_0x56ac44[_0x41ce5e(0x1a4)][_0x41ce5e(0x33c)]('active');topicInputArea['classList']['remove'](_0x41ce5e(0x10c)),textInputArea[_0x41ce5e(0x1a4)][_0x41ce5e(0x10f)](_0x41ce5e(0x10c)),fileInputArea['classList']['add']('hidden'),worksheetInputArea['classList']['add'](_0x41ce5e(0x10c));if(_0x1397d3)_0x1397d3[_0x41ce5e(0x1a4)][_0x41ce5e(0x10f)](_0x41ce5e(0x10c));if(_0x4046a4)_0x4046a4[_0x41ce5e(0x1a4)][_0x41ce5e(0x10f)]('hidden');if(_0x1a3b04)_0x1a3b04[_0x41ce5e(0x1a4)][_0x41ce5e(0x10f)](_0x41ce5e(0x10c));}),textTab['addEventListener'](_0x547c4f(0x864),()=>{const _0x1abea5=_0x547c4f;textTab[_0x1abea5(0x1a4)]['add'](_0x1abea5(0x532)),topicTab[_0x1abea5(0x1a4)]['remove'](_0x1abea5(0x532)),fileTab[_0x1abea5(0x1a4)][_0x1abea5(0x33c)](_0x1abea5(0x532)),worksheetTab['classList'][_0x1abea5(0x33c)](_0x1abea5(0x532));if(_0x2c061c)_0x2c061c['classList'][_0x1abea5(0x33c)]('active');if(_0xe14a96)_0xe14a96[_0x1abea5(0x1a4)][_0x1abea5(0x33c)](_0x1abea5(0x532));if(_0x56ac44)_0x56ac44[_0x1abea5(0x1a4)]['remove'](_0x1abea5(0x532));textInputArea['classList'][_0x1abea5(0x33c)](_0x1abea5(0x10c)),topicInputArea[_0x1abea5(0x1a4)][_0x1abea5(0x10f)]('hidden'),fileInputArea[_0x1abea5(0x1a4)][_0x1abea5(0x10f)](_0x1abea5(0x10c)),worksheetInputArea[_0x1abea5(0x1a4)][_0x1abea5(0x10f)]('hidden');if(_0x1397d3)_0x1397d3[_0x1abea5(0x1a4)][_0x1abea5(0x10f)]('hidden');if(_0x4046a4)_0x4046a4[_0x1abea5(0x1a4)][_0x1abea5(0x10f)](_0x1abea5(0x10c));if(_0x1a3b04)_0x1a3b04[_0x1abea5(0x1a4)][_0x1abea5(0x10f)](_0x1abea5(0x10c));}),fileTab['addEventListener'](_0x547c4f(0x864),()=>{const _0x159ef0=_0x547c4f;fileTab['classList'][_0x159ef0(0x10f)](_0x159ef0(0x532)),topicTab['classList'][_0x159ef0(0x33c)](_0x159ef0(0x532)),textTab['classList'][_0x159ef0(0x33c)]('active'),worksheetTab[_0x159ef0(0x1a4)][_0x159ef0(0x33c)]('active');if(_0x2c061c)_0x2c061c[_0x159ef0(0x1a4)][_0x159ef0(0x33c)](_0x159ef0(0x532));if(_0xe14a96)_0xe14a96[_0x159ef0(0x1a4)][_0x159ef0(0x33c)](_0x159ef0(0x532));if(_0x56ac44)_0x56ac44[_0x159ef0(0x1a4)][_0x159ef0(0x33c)]('active');fileInputArea['classList'][_0x159ef0(0x33c)](_0x159ef0(0x10c)),topicInputArea[_0x159ef0(0x1a4)][_0x159ef0(0x10f)](_0x159ef0(0x10c)),textInputArea[_0x159ef0(0x1a4)][_0x159ef0(0x10f)](_0x159ef0(0x10c)),worksheetInputArea[_0x159ef0(0x1a4)][_0x159ef0(0x10f)](_0x159ef0(0x10c));if(_0x1397d3)_0x1397d3['classList'][_0x159ef0(0x10f)](_0x159ef0(0x10c));if(_0x4046a4)_0x4046a4[_0x159ef0(0x1a4)][_0x159ef0(0x10f)](_0x159ef0(0x10c));if(_0x1a3b04)_0x1a3b04['classList'][_0x159ef0(0x10f)](_0x159ef0(0x10c));}),worksheetTab[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x89933=_0x547c4f;worksheetTab[_0x89933(0x1a4)]['add']('active'),topicTab['classList'][_0x89933(0x33c)](_0x89933(0x532)),textTab[_0x89933(0x1a4)]['remove']('active'),fileTab[_0x89933(0x1a4)][_0x89933(0x33c)]('active');if(_0x2c061c)_0x2c061c[_0x89933(0x1a4)][_0x89933(0x33c)](_0x89933(0x532));if(_0xe14a96)_0xe14a96[_0x89933(0x1a4)][_0x89933(0x33c)](_0x89933(0x532));if(_0x56ac44)_0x56ac44[_0x89933(0x1a4)]['remove'](_0x89933(0x532));worksheetInputArea[_0x89933(0x1a4)][_0x89933(0x33c)]('hidden'),topicInputArea[_0x89933(0x1a4)]['add'](_0x89933(0x10c)),textInputArea['classList'][_0x89933(0x10f)](_0x89933(0x10c)),fileInputArea[_0x89933(0x1a4)][_0x89933(0x10f)](_0x89933(0x10c));if(_0x1397d3)_0x1397d3[_0x89933(0x1a4)][_0x89933(0x10f)](_0x89933(0x10c));if(_0x4046a4)_0x4046a4[_0x89933(0x1a4)][_0x89933(0x10f)](_0x89933(0x10c));if(_0x1a3b04)_0x1a3b04[_0x89933(0x1a4)][_0x89933(0x10f)](_0x89933(0x10c));});const _0x181214=document[_0x547c4f(0x633)]('bank-tab'),_0x53df34=document[_0x547c4f(0x633)](_0x547c4f(0x86a));_0x181214&&_0x181214[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x24a887=_0x547c4f;topicTab['classList'][_0x24a887(0x33c)](_0x24a887(0x532)),textTab['classList'][_0x24a887(0x33c)]('active'),fileTab[_0x24a887(0x1a4)][_0x24a887(0x33c)](_0x24a887(0x532)),worksheetTab[_0x24a887(0x1a4)][_0x24a887(0x33c)](_0x24a887(0x532));if(_0x2c061c)_0x2c061c['classList']['remove'](_0x24a887(0x532));if(_0xe14a96)_0xe14a96[_0x24a887(0x1a4)]['remove']('active');if(_0x56ac44)_0x56ac44[_0x24a887(0x1a4)]['remove']('active');_0x181214[_0x24a887(0x1a4)][_0x24a887(0x10f)](_0x24a887(0x532)),topicInputArea[_0x24a887(0x1a4)][_0x24a887(0x10f)](_0x24a887(0x10c)),textInputArea[_0x24a887(0x1a4)][_0x24a887(0x10f)](_0x24a887(0x10c)),fileInputArea['classList'][_0x24a887(0x10f)]('hidden'),worksheetInputArea[_0x24a887(0x1a4)][_0x24a887(0x10f)](_0x24a887(0x10c));if(_0x1397d3)_0x1397d3[_0x24a887(0x1a4)][_0x24a887(0x10f)]('hidden');if(_0x4046a4)_0x4046a4[_0x24a887(0x1a4)]['add']('hidden');if(_0x1a3b04)_0x1a3b04[_0x24a887(0x1a4)][_0x24a887(0x10f)](_0x24a887(0x10c));_0x53df34[_0x24a887(0x1a4)][_0x24a887(0x33c)](_0x24a887(0x10c)),displayQuestionBank();});_0x2c061c&&(_0x2c061c[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x1f4cc1=_0x547c4f;_0x2c061c[_0x1f4cc1(0x1a4)][_0x1f4cc1(0x10f)]('active'),topicTab['classList'][_0x1f4cc1(0x33c)](_0x1f4cc1(0x532)),textTab['classList'][_0x1f4cc1(0x33c)](_0x1f4cc1(0x532)),fileTab['classList'][_0x1f4cc1(0x33c)]('active'),worksheetTab[_0x1f4cc1(0x1a4)][_0x1f4cc1(0x33c)]('active');if(_0xe14a96)_0xe14a96[_0x1f4cc1(0x1a4)][_0x1f4cc1(0x33c)]('active');if(_0x56ac44)_0x56ac44[_0x1f4cc1(0x1a4)]['remove'](_0x1f4cc1(0x532));_0x1397d3[_0x1f4cc1(0x1a4)]['remove'](_0x1f4cc1(0x10c)),topicInputArea[_0x1f4cc1(0x1a4)][_0x1f4cc1(0x10f)](_0x1f4cc1(0x10c)),textInputArea[_0x1f4cc1(0x1a4)]['add'](_0x1f4cc1(0x10c)),fileInputArea[_0x1f4cc1(0x1a4)][_0x1f4cc1(0x10f)](_0x1f4cc1(0x10c)),worksheetInputArea[_0x1f4cc1(0x1a4)]['add']('hidden');if(_0x4046a4)_0x4046a4['classList'][_0x1f4cc1(0x10f)]('hidden');if(_0x1a3b04)_0x1a3b04[_0x1f4cc1(0x1a4)]['add'](_0x1f4cc1(0x10c));}),document['getElementById'](_0x547c4f(0x453))['addEventListener']('click',handleGenerateFromLink));_0xe14a96&&_0xe14a96[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x2b8c2c=_0x547c4f;_0xe14a96['classList'][_0x2b8c2c(0x10f)](_0x2b8c2c(0x532)),topicTab[_0x2b8c2c(0x1a4)][_0x2b8c2c(0x33c)](_0x2b8c2c(0x532)),textTab['classList'][_0x2b8c2c(0x33c)]('active'),fileTab[_0x2b8c2c(0x1a4)][_0x2b8c2c(0x33c)]('active'),worksheetTab[_0x2b8c2c(0x1a4)][_0x2b8c2c(0x33c)](_0x2b8c2c(0x532));if(_0x2c061c)_0x2c061c[_0x2b8c2c(0x1a4)][_0x2b8c2c(0x33c)](_0x2b8c2c(0x532));if(_0x181214)_0x181214[_0x2b8c2c(0x1a4)]['remove'](_0x2b8c2c(0x532));if(_0x56ac44)_0x56ac44[_0x2b8c2c(0x1a4)][_0x2b8c2c(0x33c)](_0x2b8c2c(0x532));_0x4046a4[_0x2b8c2c(0x1a4)]['remove']('hidden'),topicInputArea[_0x2b8c2c(0x1a4)]['add'](_0x2b8c2c(0x10c)),textInputArea[_0x2b8c2c(0x1a4)]['add']('hidden'),fileInputArea[_0x2b8c2c(0x1a4)][_0x2b8c2c(0x10f)](_0x2b8c2c(0x10c)),worksheetInputArea[_0x2b8c2c(0x1a4)][_0x2b8c2c(0x10f)]('hidden');if(_0x1397d3)_0x1397d3[_0x2b8c2c(0x1a4)]['add'](_0x2b8c2c(0x10c));if(_0x53df34)_0x53df34['classList'][_0x2b8c2c(0x10f)]('hidden');if(_0x1a3b04)_0x1a3b04[_0x2b8c2c(0x1a4)][_0x2b8c2c(0x10f)](_0x2b8c2c(0x10c));});_0x56ac44&&_0x56ac44[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x59e70f=_0x547c4f;_0x56ac44['classList'][_0x59e70f(0x10f)](_0x59e70f(0x532)),topicTab[_0x59e70f(0x1a4)][_0x59e70f(0x33c)](_0x59e70f(0x532)),textTab['classList'][_0x59e70f(0x33c)](_0x59e70f(0x532)),fileTab[_0x59e70f(0x1a4)][_0x59e70f(0x33c)]('active'),worksheetTab[_0x59e70f(0x1a4)]['remove'](_0x59e70f(0x532));if(_0x2c061c)_0x2c061c[_0x59e70f(0x1a4)][_0x59e70f(0x33c)](_0x59e70f(0x532));if(_0xe14a96)_0xe14a96[_0x59e70f(0x1a4)][_0x59e70f(0x33c)](_0x59e70f(0x532));if(_0x181214)_0x181214[_0x59e70f(0x1a4)]['remove'](_0x59e70f(0x532));_0x1a3b04[_0x59e70f(0x1a4)]['remove'](_0x59e70f(0x10c)),topicInputArea[_0x59e70f(0x1a4)][_0x59e70f(0x10f)](_0x59e70f(0x10c)),textInputArea[_0x59e70f(0x1a4)][_0x59e70f(0x10f)](_0x59e70f(0x10c)),fileInputArea[_0x59e70f(0x1a4)][_0x59e70f(0x10f)]('hidden'),worksheetInputArea[_0x59e70f(0x1a4)][_0x59e70f(0x10f)](_0x59e70f(0x10c));if(_0x1397d3)_0x1397d3['classList'][_0x59e70f(0x10f)]('hidden');if(_0x4046a4)_0x4046a4['classList']['add'](_0x59e70f(0x10c));if(_0x53df34)_0x53df34['classList'][_0x59e70f(0x10f)](_0x59e70f(0x10c));});const _0x2a338d=document[_0x547c4f(0x633)](_0x547c4f(0x204)),_0x291315=document[_0x547c4f(0x633)](_0x547c4f(0x1a3));_0x2a338d&&_0x2a338d['addEventListener'](_0x547c4f(0x5d6),_0x124f9c=>{const _0x326dcc=_0x547c4f;_0x124f9c[_0x326dcc(0x1b5)][_0x326dcc(0x1bf)][_0x326dcc(0x31c)]>0x0?_0x291315[_0x326dcc(0x6b0)]=![]:_0x291315[_0x326dcc(0x6b0)]=!![];});_0x291315&&_0x291315[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleGenerateFromBlueprint);const _0x4fb05e=document[_0x547c4f(0x633)](_0x547c4f(0x67c)),_0x13de2c=document[_0x547c4f(0x633)]('generate-from-parallel-test-btn');_0x4fb05e&&_0x4fb05e[_0x547c4f(0x3b9)]('change',_0x1c0cf0=>{const _0x2064f5=_0x547c4f;_0x13de2c['disabled']=_0x1c0cf0[_0x2064f5(0x1b5)]['files'][_0x2064f5(0x31c)]===0x0;});_0x13de2c&&_0x13de2c[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleGenerateParallelTest);loadQuizBtn[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleLoadQuiz),startQuizBtn[_0x547c4f(0x3b9)]('click',()=>{const _0x2b52f4=_0x547c4f,_0x450ae4=document['getElementById']('student-name-select');currentStudentName=_0x450ae4[_0x2b52f4(0x411)];if(!currentStudentName){showMessage(_0x2b52f4(0x7b3));return;}studentNameSelectionView[_0x2b52f4(0x1a4)][_0x2b52f4(0x10f)](_0x2b52f4(0x10c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x547c4f(0x633)](_0x547c4f(0x63a))[_0x547c4f(0x3b9)](_0x547c4f(0x864),showJoinGameView),document[_0x547c4f(0x633)](_0x547c4f(0x62b))[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleJoinLiveGame),document[_0x547c4f(0x633)]('back-to-student-initial-btn')[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>showView('student'));const _0x332eaf=()=>{const _0xa56389=_0x547c4f,_0x371b48=document['getElementById'](_0xa56389(0x35b))['textContent'][_0xa56389(0x1f2)](/[^a-z0-9]/gi,'_')[_0xa56389(0x6fb)]();return'results_'+(_0x371b48||_0xa56389(0x4bb));},_0x1b6b9d=document['getElementById'](_0x547c4f(0x201));_0x1b6b9d&&_0x1b6b9d[_0x547c4f(0x3b9)]('input',_0x234895=>{const _0xe8863e=_0x547c4f,_0x3492b4=_0x234895[_0xe8863e(0x1b5)][_0xe8863e(0x411)][_0xe8863e(0x6fb)]()[_0xe8863e(0x882)](),_0x5078af=document[_0xe8863e(0x633)](_0xe8863e(0x431)),_0x6c23c4=_0x5078af[_0xe8863e(0x6a8)](_0xe8863e(0x705));_0x6c23c4[_0xe8863e(0x1c8)](_0x3c2359=>{const _0x50425e=_0xe8863e;let _0x6fbb5=![];const _0x44561f=_0x3c2359[_0x50425e(0x6a8)](_0x50425e(0x886));_0x44561f[_0x50425e(0x1c8)](_0x4577af=>{const _0x1a20a1=_0x50425e,_0x553b61=_0x4577af[_0x1a20a1(0x3fa)](_0x1a20a1(0x20c))[_0x1a20a1(0x1d4)][_0x1a20a1(0x6fb)]();_0x553b61[_0x1a20a1(0x335)](_0x3492b4)?(_0x4577af[_0x1a20a1(0x3d6)][_0x1a20a1(0x684)]=_0x1a20a1(0x66a),_0x6fbb5=!![]):_0x4577af[_0x1a20a1(0x3d6)]['display']=_0x1a20a1(0x19e);}),_0x6fbb5?_0x3c2359[_0x50425e(0x3d6)][_0x50425e(0x684)]=_0x50425e(0x57c):_0x3c2359['style'][_0x50425e(0x684)]=_0x50425e(0x19e);});});document[_0x547c4f(0x633)](_0x547c4f(0x231))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>exportTableAsImage(_0x547c4f(0x21c),_0x332eaf())),document[_0x547c4f(0x633)](_0x547c4f(0x6f4))['addEventListener'](_0x547c4f(0x864),()=>exportTableAsPDF(_0x547c4f(0x1b8),_0x332eaf())),document[_0x547c4f(0x633)](_0x547c4f(0x3a5))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>exportTableAsWord(_0x547c4f(0x21c),_0x332eaf())),document[_0x547c4f(0x633)](_0x547c4f(0x2b6))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>exportTableAsExcel(_0x547c4f(0x1b8),_0x332eaf()));const _0x334928=()=>{const _0x43bf91=_0x547c4f,_0x2681c2=document[_0x43bf91(0x633)](_0x43bf91(0x35b))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x43bf91(0x6fb)]();return _0x43bf91(0x618)+(_0x2681c2||_0x43bf91(0x4bb));};document[_0x547c4f(0x633)](_0x547c4f(0x5ca))['addEventListener'](_0x547c4f(0x864),()=>exportTableAsImage(_0x547c4f(0x6bb),_0x334928())),document[_0x547c4f(0x633)](_0x547c4f(0x10a))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>exportTableAsPDF(_0x547c4f(0x554),_0x334928())),document[_0x547c4f(0x633)]('export-leaderboard-word-btn')[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x334928())),document[_0x547c4f(0x633)](_0x547c4f(0x496))['addEventListener']('click',()=>exportTableAsExcel('quiz-leaderboard-table',_0x334928())),projectQuizzesList[_0x547c4f(0x3b9)](_0x547c4f(0x864),async _0x4275ef=>{const _0x1c4ef6=_0x547c4f,_0x9419c4=_0x4275ef[_0x1c4ef6(0x1b5)]['closest'](_0x1c4ef6(0x775)),_0x17bc04=_0x4275ef[_0x1c4ef6(0x1b5)][_0x1c4ef6(0x3ce)]('.generate-post-test-btn'),_0x5d1c06=_0x4275ef[_0x1c4ef6(0x1b5)]['closest'](_0x1c4ef6(0x6ca)),_0x3fd05=_0x4275ef['target'][_0x1c4ef6(0x3ce)]('.generate-lesson-btn'),_0x225bf2=_0x4275ef['target'][_0x1c4ef6(0x3ce)]('.star-quiz-btn'),_0x3ec481=_0x4275ef[_0x1c4ef6(0x1b5)][_0x1c4ef6(0x3ce)](_0x1c4ef6(0x4e0)),_0x1fc6f8=_0x4275ef['target'][_0x1c4ef6(0x3ce)](_0x1c4ef6(0x366)),_0x42fc19=_0x4275ef[_0x1c4ef6(0x1b5)][_0x1c4ef6(0x3ce)](_0x1c4ef6(0x4fb)),_0x582a09=_0x4275ef['target'][_0x1c4ef6(0x3ce)](_0x1c4ef6(0x4ee)),_0x209a28=_0x4275ef['target'][_0x1c4ef6(0x3ce)]('.rename-quiz-btn'),_0x4c6406=_0x4275ef['target'][_0x1c4ef6(0x3ce)](_0x1c4ef6(0x207)),_0x343456=_0x4275ef[_0x1c4ef6(0x1b5)][_0x1c4ef6(0x3ce)](_0x1c4ef6(0x4d1)),_0x9d86d4=_0x4275ef[_0x1c4ef6(0x1b5)]['closest']('.pair-quiz-btn'),_0x29daf2=_0x4275ef[_0x1c4ef6(0x1b5)][_0x1c4ef6(0x3ce)](_0x1c4ef6(0x60c)),_0x119abe=_0x4275ef[_0x1c4ef6(0x1b5)][_0x1c4ef6(0x3ce)]('.start-presentation-list-btn'),_0x71ce67=_0x4275ef[_0x1c4ef6(0x1b5)][_0x1c4ef6(0x3ce)]('.admin-try-quiz-list-btn'),_0x2f5d8c=_0x4275ef[_0x1c4ef6(0x1b5)]['closest']('.start-live-race-btn'),_0x208060=_0x4275ef[_0x1c4ef6(0x1b5)][_0x1c4ef6(0x3ce)](_0x1c4ef6(0x619)),_0xfa86ec=_0x4275ef[_0x1c4ef6(0x1b5)][_0x1c4ef6(0x3ce)]('.delete-quiz-btn'),_0x493b3c=_0x4275ef[_0x1c4ef6(0x1b5)][_0x1c4ef6(0x3ce)](_0x1c4ef6(0x6de)),_0x52f1dc=_0x4275ef['target'][_0x1c4ef6(0x3ce)](_0x1c4ef6(0x57f));if(_0x52f1dc){const _0x4dbd2e=_0x52f1dc[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)],_0x4234bf=document[_0x1c4ef6(0x633)](_0x1c4ef6(0x2d1)+_0x4dbd2e);_0x4234bf&&_0x4234bf[_0x1c4ef6(0x1a4)]['toggle']('hidden');}else{if(_0x17bc04){const _0x541668=_0x17bc04[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)],_0x514df4=allQuizzes[_0x1c4ef6(0x7c5)](_0xfdc072=>_0xfdc072['id']===_0x541668);_0x514df4&&handleGenerateParallelPostTest(_0x514df4);}else{if(_0x5d1c06)handleCompareResults(_0x5d1c06[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)],_0x5d1c06[_0x1c4ef6(0x80f)][_0x1c4ef6(0x2bf)]);else{if(_0x3fd05){const _0x3a9190=_0x3fd05[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)],_0x14fd46=allQuizzes[_0x1c4ef6(0x7c5)](_0x1f5d4c=>_0x1f5d4c['id']===_0x3a9190);_0x14fd46&&_0x14fd46[_0x1c4ef6(0x3f6)]?(displayLessonPlan(_0x14fd46[_0x1c4ef6(0x3f6)],_0x14fd46),showConfirmation(_0x1c4ef6(0x3d9),()=>handleGenerateLessonPlan(_0x3a9190)),document[_0x1c4ef6(0x633)](_0x1c4ef6(0x694))['querySelector']('h3')['textContent']=_0x1c4ef6(0x33b),document['getElementById'](_0x1c4ef6(0x60b))['textContent']=_0x1c4ef6(0x683)):handleGenerateLessonPlan(_0x3a9190);}else{if(_0x225bf2)handleToggleStarQuiz(_0x225bf2[_0x1c4ef6(0x80f)]['quizId']);else{if(_0x3ec481)copyTextToClipboard(_0x3ec481[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)],_0x1c4ef6(0x6b5));else{if(_0x1fc6f8)handleOpenQuizEditor(_0x1fc6f8[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)]);else{if(_0x42fc19)handleQuizSettings(_0x42fc19['dataset'][_0x1c4ef6(0x8a9)]);else{if(_0x582a09)handleDuplicateQuiz(_0x582a09[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)]);else{if(_0x209a28)handleRenameQuiz(_0x209a28[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)],_0x209a28[_0x1c4ef6(0x80f)][_0x1c4ef6(0x158)]);else{if(_0x4c6406){const _0x23ce72=_0x4c6406[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)],_0x9f4f6c=allQuizzes[_0x1c4ef6(0x7c5)](_0x1faf18=>_0x1faf18['id']===_0x23ce72);_0x9f4f6c&&handleGenerateParallelFromBank(_0x9f4f6c);}else{if(_0x343456)handleMoveQuiz(_0x343456[_0x1c4ef6(0x80f)]['quizId']);else{if(_0x9d86d4)handleManualQuizPairing(_0x9d86d4[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)]);else{if(_0x29daf2)handleUnpairQuiz(_0x29daf2[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)]);else{if(_0x119abe){const _0x2898ee=_0x119abe[_0x1c4ef6(0x80f)]['quizId'],_0x4e3fda=allQuizzes[_0x1c4ef6(0x7c5)](_0x1eebd3=>_0x1eebd3['id']===_0x2898ee);if(_0x4e3fda)startPresentation(_0x4e3fda);}else{if(_0x71ce67){const _0x4eb291=_0x71ce67[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)],_0x5bd4c2=allQuizzes['find'](_0x22e9fe=>_0x22e9fe['id']===_0x4eb291);_0x5bd4c2&&(currentQuizData=_0x5bd4c2,startAdminTest());}else{if(_0x2f5d8c)handleStartLiveRace(_0x2f5d8c[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)]);else{if(_0x208060)actionTargetId=_0x208060[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)],document['getElementById'](_0x1c4ef6(0x3d3))[_0x1c4ef6(0x1a4)][_0x1c4ef6(0x33c)](_0x1c4ef6(0x10c));else{if(_0xfa86ec)showConfirmation(_0x1c4ef6(0x5f5)+_0xfa86ec[_0x1c4ef6(0x80f)][_0x1c4ef6(0x158)]+_0x1c4ef6(0x3d7),()=>handleDeleteQuiz(_0xfa86ec[_0x1c4ef6(0x80f)]['quizId']));else{if(_0x493b3c)handleQuizStatus(_0x493b3c[_0x1c4ef6(0x80f)][_0x1c4ef6(0x8a9)]);else _0x9419c4&&showQuizDetailView(_0x9419c4['dataset'][_0x1c4ef6(0x8a9)]);}}}}}}}}}}}}}}}}}}}}),document[_0x547c4f(0x633)]('quiz-leaderboard-table')[_0x547c4f(0x3fa)](_0x547c4f(0x659))[_0x547c4f(0x3b9)](_0x547c4f(0x864),_0x39bc0c=>{const _0x543ce2=_0x547c4f,_0x45ddbc=_0x39bc0c[_0x543ce2(0x1b5)][_0x543ce2(0x3ce)](_0x543ce2(0x430));if(!_0x45ddbc||!_0x45ddbc[_0x543ce2(0x80f)][_0x543ce2(0x2e8)])return;const _0x2db3e8=_0x45ddbc['dataset'][_0x543ce2(0x2e8)];if(quizLeaderboardSortBy===_0x2db3e8)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x543ce2(0x151):_0x543ce2(0x83a);else{quizLeaderboardSortBy=_0x2db3e8;const _0x38a0e9=['studentName'];quizLeaderboardSortOrder=_0x38a0e9[_0x543ce2(0x335)](_0x2db3e8)?_0x543ce2(0x83a):_0x543ce2(0x151);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document['getElementById'](_0x547c4f(0x3a7))[_0x547c4f(0x3b9)](_0x547c4f(0x864),closePresentation),document['getElementById'](_0x547c4f(0x4c4))['addEventListener'](_0x547c4f(0x864),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x547c4f(0x633)](_0x547c4f(0x4c5))['addEventListener'](_0x547c4f(0x864),()=>{const _0x67736f=_0x547c4f;currentQuizData[_0x67736f(0x193)]&&currentPresentationSlide<currentQuizData['questions'][_0x67736f(0x31c)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x547c4f(0x3b9)](_0x547c4f(0x2ca),()=>{const _0x2f2724=_0x547c4f;!document[_0x2f2724(0x294)]&&(presentationModal[_0x2f2724(0x3d6)][_0x2f2724(0x684)]=_0x2f2724(0x19e));}),document[_0x547c4f(0x633)](_0x547c4f(0x346))[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleDeleteAllStudents),studentList[_0x547c4f(0x3b9)](_0x547c4f(0x864),_0x3987eb=>{const _0x4bc140=_0x547c4f,_0xd28480=_0x3987eb[_0x4bc140(0x1b5)]['closest']('.delete-student-btn');if(_0xd28480){const _0xd7f985=_0xd28480[_0x4bc140(0x80f)]['studentName'];handleDeleteStudent(_0xd7f985);}}),document[_0x547c4f(0x633)]('generate-from-file-btn')[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleGenerateFromFileClick),fileUploadInput[_0x547c4f(0x3b9)](_0x547c4f(0x5d6),_0x1698e2=>{const _0x1f43e6=_0x547c4f,_0x41db94=_0x1698e2[_0x1f43e6(0x1b5)][_0x1f43e6(0x1bf)][0x0],_0x67c44e=document[_0x1f43e6(0x633)](_0x1f43e6(0x313));_0x41db94?(selectedFile=_0x41db94,_0x67c44e['disabled']=![]):(selectedFile=null,_0x67c44e[_0x1f43e6(0x6b0)]=!![]);}),document[_0x547c4f(0x633)](_0x547c4f(0x4a3))[_0x547c4f(0x3b9)](_0x547c4f(0x5d6),_0x50c721=>{const _0x27f9b4=_0x547c4f,_0x22731f=document[_0x27f9b4(0x633)]('timer-duration-container'),_0xdbe2b1=document['getElementById'](_0x27f9b4(0x5d3)),_0xa3fa05=document[_0x27f9b4(0x633)](_0x27f9b4(0x2d2));_0x50c721[_0x27f9b4(0x1b5)][_0x27f9b4(0x411)]==='none'?_0x22731f[_0x27f9b4(0x1a4)][_0x27f9b4(0x10f)]('hidden'):(_0x22731f[_0x27f9b4(0x1a4)]['remove'](_0x27f9b4(0x10c)),_0x50c721[_0x27f9b4(0x1b5)][_0x27f9b4(0x411)]===_0x27f9b4(0x1af)?(_0xdbe2b1[_0x27f9b4(0x1d4)]='ระยะเวลา\x20(นาที):',_0xa3fa05[_0x27f9b4(0x411)]='10'):(_0xdbe2b1[_0x27f9b4(0x1d4)]='ระยะเวลา\x20(วินาที):',_0xa3fa05['value']='30'));}),document[_0x547c4f(0x633)](_0x547c4f(0x2c3))[_0x547c4f(0x3b9)](_0x547c4f(0x5d6),_0x3d7234=>{const _0x3a4a66=_0x547c4f,_0x1e6981=document[_0x3a4a66(0x633)](_0x3a4a66(0x883)),_0x3cfef0=_0x3d7234[_0x3a4a66(0x1b5)][_0x3a4a66(0x411)],_0xd6c488=document['querySelector']('label[for=\x22num-questions\x22]'),_0x2adef6=document['getElementById']('passing-score-input'),_0x3a50bd=document[_0x3a4a66(0x633)](_0x3a4a66(0x562));_0x3cfef0===_0x3a4a66(0x2f4)?_0xd6c488[_0x3a4a66(0x1d4)]=_0x3a4a66(0x650):_0xd6c488[_0x3a4a66(0x1d4)]=_0x3a4a66(0x46f),_0x3cfef0===_0x3a4a66(0x75a)||_0x3cfef0===_0x3a4a66(0x1b4)||_0x3cfef0===_0x3a4a66(0x671)?_0x1e6981[_0x3a4a66(0x1a4)]['remove']('hidden'):_0x1e6981[_0x3a4a66(0x1a4)][_0x3a4a66(0x10f)]('hidden'),_0x2adef6[_0x3a4a66(0x374)]=_0x3a50bd[_0x3a4a66(0x411)];}),document[_0x547c4f(0x633)]('num-questions')[_0x547c4f(0x3b9)]('input',_0x5cf116=>{const _0x22b04d=_0x547c4f;document[_0x22b04d(0x633)](_0x22b04d(0x606))['max']=_0x5cf116['target']['value'];}),document[_0x547c4f(0x633)](_0x547c4f(0x58c))['addEventListener'](_0x547c4f(0x5d6),_0x377596=>{const _0x32e192=_0x547c4f,_0x578236=document[_0x32e192(0x633)](_0x32e192(0x3a3)),_0x2c3ded=document[_0x32e192(0x633)](_0x32e192(0x5b1)),_0x1f3e78=document[_0x32e192(0x633)](_0x32e192(0x403));_0x377596[_0x32e192(0x1b5)][_0x32e192(0x411)]==='none'?_0x578236['classList'][_0x32e192(0x10f)](_0x32e192(0x10c)):(_0x578236[_0x32e192(0x1a4)][_0x32e192(0x33c)](_0x32e192(0x10c)),_0x377596[_0x32e192(0x1b5)][_0x32e192(0x411)]===_0x32e192(0x1af)?_0x2c3ded['textContent']=_0x32e192(0x5e7):_0x2c3ded[_0x32e192(0x1d4)]='ระยะเวลา\x20(วินาที):');}),document[_0x547c4f(0x633)](_0x547c4f(0x74b))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x897098=_0x547c4f;document['getElementById'](_0x897098(0x435))[_0x897098(0x1a4)][_0x897098(0x10f)](_0x897098(0x10c));}),document[_0x547c4f(0x633)](_0x547c4f(0x851))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x443464=_0x547c4f;document[_0x443464(0x633)](_0x443464(0x435))['classList'][_0x443464(0x10f)](_0x443464(0x10c));}),document['getElementById'](_0x547c4f(0x516))[_0x547c4f(0x3b9)]('click',handleVerifyAnswersInEditor),document[_0x547c4f(0x633)](_0x547c4f(0x382))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x46b96a=_0x547c4f;document[_0x46b96a(0x633)](_0x46b96a(0x435))[_0x46b96a(0x1a4)][_0x46b96a(0x10f)](_0x46b96a(0x10c)),showConfirmation(_0x46b96a(0x174),handleSaveChanges);}),document[_0x547c4f(0x633)](_0x547c4f(0x228))[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleAutoFixLatex);const _0xb57d8a=document[_0x547c4f(0x633)]('quiz-editor-questions-container');_0xb57d8a&&_0xb57d8a[_0x547c4f(0x3b9)](_0x547c4f(0x864),_0x294d2d=>{const _0x2d0459=_0x547c4f,_0x4970b6=_0x294d2d[_0x2d0459(0x1b5)][_0x2d0459(0x3ce)](_0x2d0459(0x83f));if(_0x4970b6){const _0x317f8d=_0x4970b6[_0x2d0459(0x3ce)](_0x2d0459(0x3d8)),_0x592251=parseInt(_0x317f8d[_0x2d0459(0x80f)][_0x2d0459(0x385)],0xa);handleRegenerateQuestionInEditor(_0x592251);}});document[_0x547c4f(0x633)](_0x547c4f(0x227))[_0x547c4f(0x3b9)](_0x547c4f(0x864),openQuizBankModal),document[_0x547c4f(0x633)](_0x547c4f(0x179))[_0x547c4f(0x3b9)]('click',()=>{const _0x44b6dd=_0x547c4f;document['getElementById'](_0x44b6dd(0x1e0))['classList'][_0x44b6dd(0x10f)]('hidden');}),document[_0x547c4f(0x633)](_0x547c4f(0x6a1))[_0x547c4f(0x3b9)](_0x547c4f(0x429),_0x5d3f2e=>renderQuizBankList(_0x5d3f2e[_0x547c4f(0x1b5)]['value']));const _0x1f29b9=document[_0x547c4f(0x633)]('math-topics-checkbox-container');if(_0x1f29b9){let _0x82eb20=null;_0x1f29b9[_0x547c4f(0x3b9)](_0x547c4f(0x864),_0x234be5=>{const _0xead222=_0x547c4f,_0x3797a9=_0x234be5['target'],_0xd3d5ca=_0x3797a9[_0xead222(0x3ce)](_0xead222(0x80a)),_0x58c704=_0x3797a9[_0xead222(0x3ce)](_0xead222(0x604)),_0x38a961=_0x3797a9[_0xead222(0x3ce)](_0xead222(0x28d)),_0xa3944f=_0x3797a9['closest']('.cancel-edit-topic-btn');if(_0x58c704){_0x234be5[_0xead222(0x187)]();const _0x3fc3e8=_0x58c704[_0xead222(0x80f)]['id'],_0x1c7c5b=_0x58c704[_0xead222(0x3ce)](_0xead222(0x7fa))['querySelector'](_0xead222(0x20c))[_0xead222(0x1d4)];showConfirmation(_0xead222(0x13d)+_0x1c7c5b+'\x22?',()=>handleDeleteCustomTopic(_0x3fc3e8));}else{if(_0xd3d5ca){_0x234be5[_0xead222(0x187)]();_0x82eb20&&toggleTopicEditMode(_0x82eb20,![]);const _0x32912d=_0xd3d5ca[_0xead222(0x3ce)](_0xead222(0x1ca));_0x82eb20=_0x32912d,toggleTopicEditMode(_0x32912d,!![]);}else{if(_0x38a961){_0x234be5[_0xead222(0x187)]();const _0x1d9333=_0x38a961[_0xead222(0x80f)]['id'],_0x1d1807=_0x38a961[_0xead222(0x3ce)](_0xead222(0x1ca)),_0x135c94=_0x1d1807['querySelector']('.topic-name-input')['value'];handleUpdateCustomTopic(_0x1d9333,_0x135c94),_0x82eb20=null;}else{if(_0xa3944f){_0x234be5[_0xead222(0x187)]();const _0x575241=_0xa3944f[_0xead222(0x3ce)](_0xead222(0x1ca));toggleTopicEditMode(_0x575241,![]),_0x82eb20=null;}}}}}),document[_0x547c4f(0x633)](_0x547c4f(0x6ff))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x50985f=_0x547c4f;document[_0x50985f(0x633)](_0x50985f(0x2a0))['classList'][_0x50985f(0x10f)]('hidden');}),document[_0x547c4f(0x633)](_0x547c4f(0x832))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x592aa5=_0x547c4f;document[_0x592aa5(0x633)](_0x592aa5(0x2a0))[_0x592aa5(0x1a4)][_0x592aa5(0x10f)](_0x592aa5(0x10c));}),document[_0x547c4f(0x633)](_0x547c4f(0x822))[_0x547c4f(0x3b9)](_0x547c4f(0x864),handleExportLessonPDF);}document['getElementById'](_0x547c4f(0x695))[_0x547c4f(0x3b9)](_0x547c4f(0x864),()=>{const _0x2ac294=_0x547c4f;document[_0x2ac294(0x633)]('comparison-modal')[_0x2ac294(0x1a4)][_0x2ac294(0x10f)](_0x2ac294(0x10c));}),document['getElementById']('close-comparison-modal-footer-btn')[_0x547c4f(0x3b9)]('click',()=>{const _0x483155=_0x547c4f;document[_0x483155(0x633)](_0x483155(0x653))[_0x483155(0x1a4)][_0x483155(0x10f)]('hidden');}),setupComparisonModalTabs(),document['body'][_0x547c4f(0x3b9)](_0x547c4f(0x864),function(_0x41cbdb){const _0x512c9b=_0x547c4f;if(_0x41cbdb[_0x512c9b(0x1b5)][_0x512c9b(0x1a4)][_0x512c9b(0x3c4)](_0x512c9b(0x20b))){const _0x3fc687=unescape(_0x41cbdb[_0x512c9b(0x1b5)]['dataset'][_0x512c9b(0x158)]);startSkillPractice(_0x3fc687);}}),document[_0x547c4f(0x633)](_0x547c4f(0x654))[_0x547c4f(0x3b9)](_0x547c4f(0x864),_0x408080=>{const _0x390786=_0x547c4f,_0x2d95c3=_0x408080[_0x390786(0x1b5)][_0x390786(0x3ce)]('.delete-submission-btn');if(_0x2d95c3){const _0x2ba12b=_0x2d95c3[_0x390786(0x80f)][_0x390786(0x534)];handleDeleteSubmission(_0x2ba12b);}});}async function showStudentProgressView(){const _0x554025=_0x433974;studentInitialView[_0x554025(0x1a4)]['add'](_0x554025(0x10c)),document[_0x554025(0x633)]('student-progress-view')[_0x554025(0x1a4)][_0x554025(0x33c)]('hidden');const _0x27a230=document[_0x554025(0x633)](_0x554025(0x8a3)),_0x3f56d3=document[_0x554025(0x633)](_0x554025(0x83e)),_0x1d3c53=document[_0x554025(0x633)](_0x554025(0x70e));_0x1d3c53['innerHTML']=_0x554025(0x803),_0x3f56d3['innerHTML']=_0x554025(0x566),_0x3f56d3[_0x554025(0x6b0)]=!![],_0x27a230[_0x554025(0x5fb)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x554025(0x31c)]===0x0){const _0x5bf09c=collection(db,_0x554025(0x2c6)+appId+_0x554025(0x528)),_0xde2a16=await getDocs(_0x5bf09c);allProjects=_0xde2a16['docs'][_0x554025(0x844)](_0x58fd8d=>({'id':_0x58fd8d['id'],..._0x58fd8d[_0x554025(0x1a2)]()}));}const _0xf00bf8=allProjects['filter'](_0x5e492b=>_0x5e492b[_0x554025(0x262)]?.[_0x554025(0x55b)]!==![]);_0xf00bf8['sort']((_0x2b7952,_0x161c94)=>_0x2b7952[_0x554025(0x332)]['localeCompare'](_0x161c94['projectName'],'th')),_0x27a230[_0x554025(0x5fb)]=_0x554025(0x1d7)+_0xf00bf8['map'](_0x54a789=>_0x554025(0x655)+_0x54a789['id']+'\x22>'+_0x54a789[_0x554025(0x332)]+_0x554025(0x535))['join'](''),_0x27a230['onchange']=()=>{const _0x47a858=_0x554025,_0x269c19=_0x3f56d3[_0x47a858(0x411)],_0x177c63=_0x27a230[_0x47a858(0x411)];_0x3f56d3[_0x47a858(0x6b0)]=!![],_0x3f56d3['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x1d3c53['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x177c63)return;const _0x415a3b=allProjects[_0x47a858(0x7c5)](_0x5a5d41=>_0x5a5d41['id']===_0x177c63);if(!_0x415a3b||!_0x415a3b['students'])return;const _0x475126=()=>{const _0x53438b=_0x47a858;_0x3f56d3['innerHTML']=_0x53438b(0x566)+_0x415a3b['students'][_0x53438b(0x844)](_0x8dd380=>'<option\x20value=\x22'+_0x8dd380+'\x22>'+_0x8dd380+_0x53438b(0x535))['join'](''),_0x3f56d3['disabled']=![];const _0x4041c6=Array[_0x53438b(0x7b8)](_0x3f56d3[_0x53438b(0x482)])[_0x53438b(0x844)](_0x1a8385=>_0x1a8385[_0x53438b(0x411)]);if(_0x269c19&&_0x4041c6['includes'](_0x269c19))_0x3f56d3[_0x53438b(0x411)]=_0x269c19,_0x3f56d3[_0x53438b(0x105)](new Event('change'));else _0x415a3b[_0x53438b(0x647)][_0x53438b(0x31c)]===0x1&&(_0x3f56d3[_0x53438b(0x411)]=_0x415a3b[_0x53438b(0x647)][0x0],_0x3f56d3[_0x53438b(0x105)](new Event(_0x53438b(0x5d6))));};if(_0x415a3b[_0x47a858(0x262)]?.[_0x47a858(0x3aa)]){if(sessionStorage['getItem'](_0x47a858(0x368)+_0x177c63)==='true'){_0x475126();return;}const _0x4ef606=document[_0x47a858(0x633)](_0x47a858(0x23b)),_0x2561b3=document[_0x47a858(0x633)]('confirm-passcode-btn'),_0x26831d=document[_0x47a858(0x633)]('cancel-passcode-btn'),_0x496887=document['getElementById']('student-passcode-input'),_0x2077cc=document[_0x47a858(0x633)](_0x47a858(0x634));document['getElementById']('passcode-prompt-message')[_0x47a858(0x1d4)]=_0x47a858(0x6a9)+_0x415a3b[_0x47a858(0x332)],_0x496887[_0x47a858(0x411)]='',_0x2077cc[_0x47a858(0x1a4)][_0x47a858(0x10f)](_0x47a858(0x10c)),_0x4ef606['classList']['remove'](_0x47a858(0x10c));const _0x46d630=()=>{const _0x1665c7=_0x47a858,_0x3fe0f6=_0x496887[_0x1665c7(0x411)]['trim']();_0x3fe0f6===_0x415a3b[_0x1665c7(0x262)][_0x1665c7(0x2d9)]?(sessionStorage[_0x1665c7(0x4a6)](_0x1665c7(0x368)+_0x177c63,'true'),_0x4ef606[_0x1665c7(0x1a4)][_0x1665c7(0x10f)](_0x1665c7(0x10c)),_0x475126(),_0x2561b3[_0x1665c7(0x4eb)]('click',_0x46d630)):_0x2077cc[_0x1665c7(0x1a4)][_0x1665c7(0x33c)]('hidden');};_0x2561b3[_0x47a858(0x73b)]=_0x46d630,_0x26831d[_0x47a858(0x73b)]=()=>{const _0x195b04=_0x47a858;_0x4ef606[_0x195b04(0x1a4)][_0x195b04(0x10f)](_0x195b04(0x10c)),_0x27a230['value']='',_0x2561b3['removeEventListener']('click',_0x46d630);};}else _0x475126();},_0x3f56d3['onchange']=()=>{const _0x5b186c=_0x554025,_0x5a7ff8=_0x27a230[_0x5b186c(0x411)],_0x48267e=_0x3f56d3[_0x5b186c(0x411)];_0x5a7ff8&&_0x48267e&&renderStudentProgressDashboard(_0x5a7ff8,_0x48267e);};}async function renderStudentProgressDashboard(_0x510417,_0x3999f1){const _0x24517c=_0x433974,_0x117f55=document[_0x24517c(0x633)](_0x24517c(0x70e));_0x117f55[_0x24517c(0x5fb)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x2287c2=collection(db,'artifacts/'+appId+_0x24517c(0x506)),_0x15977c=query(_0x2287c2,where(_0x24517c(0x2be),'==',_0x510417)),_0x54e5c9=await getDocs(_0x15977c),_0x215f7c=_0x54e5c9[_0x24517c(0x600)]['map'](_0x32d74f=>({'id':_0x32d74f['id'],..._0x32d74f[_0x24517c(0x1a2)]()})),_0x47ed10=_0x215f7c['map'](_0x589ef2=>getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x589ef2['id']+'/submissions',_0x3999f1))),_0x4ad915=await Promise['all'](_0x47ed10),_0x41054f=_0x4ad915[_0x24517c(0x622)](_0xeffb67=>_0xeffb67[_0x24517c(0x660)]())['map'](_0x5a200c=>({'quizId':_0x5a200c[_0x24517c(0x575)][_0x24517c(0x55d)][_0x24517c(0x55d)]['id'],..._0x5a200c[_0x24517c(0x1a2)]()}));if(_0x41054f[_0x24517c(0x31c)]===0x0){_0x117f55[_0x24517c(0x5fb)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x4b55a7='<div\x20class=\x22space-y-4\x22>';_0x41054f['forEach'](_0x85f38b=>{const _0x41680e=_0x24517c,_0x51bea8=_0x215f7c['find'](_0x12efe7=>_0x12efe7['id']===_0x85f38b[_0x41680e(0x8a9)]),_0x142ec4=_0x51bea8[_0x41680e(0x262)]?.[_0x41680e(0x413)]||_0x41680e(0x309),_0x1b80ef=_0x51bea8[_0x41680e(0x262)]?.[_0x41680e(0x76b)]??0x0,_0x4ac0aa=_0x85f38b[_0x41680e(0x2f3)]>=_0x1b80ef;let _0x53dbb7='',_0x4c6f7c=_0x41680e(0x707);switch(_0x142ec4){case _0x41680e(0x309):case _0x41680e(0x773):_0x4c6f7c=_0x4ac0aa?_0x41680e(0x74d):_0x41680e(0x4b7),_0x53dbb7=_0x41680e(0x352)+(_0x4ac0aa?'text-green-700':'text-red-700')+'\x22>'+_0x85f38b['bestScore']+_0x41680e(0x6ea)+_0x85f38b[_0x41680e(0x119)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x4ac0aa?'bg-green-200\x20text-green-800':'bg-red-200\x20text-red-800')+'\x22>'+(_0x4ac0aa?'ผ่าน':_0x41680e(0x258))+_0x41680e(0x396);break;case'show_pass_fail_only':_0x4c6f7c=_0x4ac0aa?_0x41680e(0x74d):'bg-red-50',_0x53dbb7=_0x41680e(0x178)+(_0x4ac0aa?'bg-green-200\x20text-green-800':_0x41680e(0x3c0))+'\x22>'+(_0x4ac0aa?'ผ่าน':_0x41680e(0x258))+_0x41680e(0x396);break;case _0x41680e(0x426):_0x4c6f7c=_0x41680e(0x36e),_0x53dbb7=_0x41680e(0x82d);break;}_0x4b55a7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x4c6f7c+_0x41680e(0x801)+_0x51bea8[_0x41680e(0x158)]+_0x41680e(0x4b3)+_0x85f38b[_0x41680e(0x5f3)]['length']+_0x41680e(0x814)+new Date(_0x85f38b[_0x41680e(0x1a6)])[_0x41680e(0x40a)](_0x41680e(0x40c))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53dbb7+_0x41680e(0x838);}),_0x4b55a7+=_0x24517c(0x290),_0x117f55[_0x24517c(0x5fb)]=_0x4b55a7;}catch(_0x41303a){console[_0x24517c(0x6ee)](_0x24517c(0x704),_0x41303a),_0x117f55['innerHTML']=_0x24517c(0x48e);}}function setupStudentProgressListeners(){const _0x134807=_0x433974;document[_0x134807(0x633)](_0x134807(0x10e))['addEventListener'](_0x134807(0x864),showStudentProgressView),document[_0x134807(0x633)](_0x134807(0x19f))['addEventListener'](_0x134807(0x864),()=>{const _0x20eca1=_0x134807;document['getElementById'](_0x20eca1(0x297))['classList']['add'](_0x20eca1(0x10c)),document[_0x20eca1(0x633)](_0x20eca1(0x2f2))[_0x20eca1(0x1a4)][_0x20eca1(0x33c)](_0x20eca1(0x10c));});}async function startSkillPractice(_0x5b7985){const _0x648e3d=_0x433974;studentResultArea['classList'][_0x648e3d(0x10f)]('hidden'),studentQuizArea[_0x648e3d(0x5fb)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x648e3d(0x1a4)][_0x648e3d(0x33c)]('hidden');try{const _0xf6546d=await getStandardizedTopic(_0x5b7985);console['log']('คำถามดิบ:\x20\x22'+_0x5b7985+_0x648e3d(0x16e)+_0xf6546d+'\x22'),studentQuizArea[_0x648e3d(0x3fa)]('p')[_0x648e3d(0x1d4)]=_0x648e3d(0x1cb)+_0xf6546d+_0x648e3d(0x4fa);const _0x46d086=collection(db,_0x648e3d(0x2c6)+appId+_0x648e3d(0x239)),_0x4b6c1d=query(_0x46d086,where('topic','==',_0xf6546d)),_0x34fde5=await getDocs(_0x4b6c1d);if(_0x34fde5[_0x648e3d(0x600)][_0x648e3d(0x31c)]>=0x3){console['log'](_0x648e3d(0x2e1)+_0x34fde5[_0x648e3d(0x600)][_0x648e3d(0x31c)]+_0x648e3d(0x66c)+_0xf6546d+_0x648e3d(0x67e));let _0x193c44=_0x34fde5[_0x648e3d(0x600)][_0x648e3d(0x844)](_0x3f0492=>_0x3f0492['data']());shuffleArray(_0x193c44);const _0x2bfc83={'topic':_0xf6546d,'questions':_0x193c44[_0x648e3d(0x490)](0x0,0x3)};displaySkillPracticeDrill(_0x2bfc83);}else{console['log'](_0x648e3d(0x2d4)+_0xf6546d+_0x648e3d(0x474));const _0x12cf15=await generatePracticeQuestions(_0xf6546d);await saveDrillToPracticeBank(_0x12cf15,_0xf6546d),displaySkillPracticeDrill(_0x12cf15);}}catch(_0x293a43){console[_0x648e3d(0x6ee)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x293a43),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x648e3d(0x1a4)]['add']('hidden'),studentResultArea[_0x648e3d(0x1a4)][_0x648e3d(0x33c)](_0x648e3d(0x10c));}}async function saveDrillToPracticeBank(_0xa60fc0,_0x1cdb7d){const _0x5d48cb=_0x433974,_0x2423a9=collection(db,_0x5d48cb(0x2c6)+appId+_0x5d48cb(0x239)),_0x196fa0=writeBatch(db);_0xa60fc0['questions'][_0x5d48cb(0x1c8)](_0x463860=>{const _0x138c35=_0x5d48cb,_0x57df2b=doc(_0x2423a9);_0x196fa0[_0x138c35(0x7f2)](_0x57df2b,{'topic':_0x1cdb7d,'questionText':_0x463860[_0x138c35(0x84f)],'options':_0x463860['options'],'correctAnswerIndex':_0x463860['correctAnswerIndex'],'explanation':_0x463860['explanation'],'createdAt':serverTimestamp()});});try{await _0x196fa0['commit'](),console[_0x5d48cb(0x37f)](_0x5d48cb(0x79f)+_0xa60fc0[_0x5d48cb(0x193)][_0x5d48cb(0x31c)]+_0x5d48cb(0x540));}catch(_0x295b03){console[_0x5d48cb(0x6ee)](_0x5d48cb(0x7be),_0x295b03);}}async function getStandardizedTopic(_0x13e585){const _0x3a5279=_0x433974,_0x55e22f=_0x3a5279(0x3e8)+_0x13e585+_0x3a5279(0x732),_0x386f3f={'type':_0x3a5279(0x831),'properties':{'standardTopic':{'type':_0x3a5279(0x7ab)}},'required':[_0x3a5279(0x34e)]};try{const _0xae665f=await callAnalysisApi(_0x55e22f,_0x386f3f);return _0xae665f[_0x3a5279(0x34e)];}catch(_0x1fdae4){return console[_0x3a5279(0x6ee)](_0x3a5279(0x571),_0x1fdae4),_0x13e585;}}async function generatePracticeQuestions(_0x210daa){const _0x251ec3=_0x433974,_0x47abfa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x210daa+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x251ec3(0x432),_0x14f7aa={'type':_0x251ec3(0x831),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x251ec3(0x288),'items':{'type':_0x251ec3(0x7ab)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x251ec3(0x7ab)}},'required':[_0x251ec3(0x84f),_0x251ec3(0x482),'correctAnswerIndex',_0x251ec3(0x6b3)]},_0x1299e8={'type':_0x251ec3(0x831),'properties':{'topic':{'type':_0x251ec3(0x7ab)},'questions':{'type':_0x251ec3(0x288),'items':_0x14f7aa}},'required':[_0x251ec3(0x158),_0x251ec3(0x193)]};return await callAnalysisApi(_0x47abfa,_0x1299e8);}function displayLessonPlan(_0x42718b,_0x106ad9){const _0x2c106f=_0x433974,_0x126a88=_0x2c106f(0x47f)+_0x106ad9[_0x2c106f(0x158)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x42718b[_0x2c106f(0x61c)][_0x2c106f(0x844)](_0x24e7f5=>_0x2c106f(0x34c)+_0x24e7f5+_0x2c106f(0x787))['join']('')+_0x2c106f(0x235)+_0x42718b[_0x2c106f(0x63e)]+_0x2c106f(0x4d6)+_0x42718b[_0x2c106f(0x467)][_0x2c106f(0x844)](_0x3db5df=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x3db5df['question']+_0x2c106f(0x6ec)+_0x3db5df['solution']+_0x2c106f(0x3f7))['join']('')+_0x2c106f(0x522);document[_0x2c106f(0x633)](_0x2c106f(0x5a3))[_0x2c106f(0x1d4)]=_0x2c106f(0x719)+_0x106ad9[_0x2c106f(0x158)],document[_0x2c106f(0x633)](_0x2c106f(0x70c))[_0x2c106f(0x5fb)]=_0x126a88,document[_0x2c106f(0x633)](_0x2c106f(0x2a0))['classList'][_0x2c106f(0x33c)](_0x2c106f(0x10c));if(window[_0x2c106f(0x5be)])MathJax[_0x2c106f(0x23d)]();}function displaySkillPracticeDrill(_0x201f8d){let _0x21299d=0x0;const _0x4ff170=_0x201f8d['questions'],_0x54d660=()=>{const _0x1ef620=_0x300c,_0x386a26=_0x4ff170[_0x21299d],_0x130d05='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x21299d+0x1)+_0x1ef620(0x6ea)+_0x4ff170['length']+_0x1ef620(0x66e)+_0x386a26['questionText']+_0x1ef620(0x441)+_0x386a26[_0x1ef620(0x482)][_0x1ef620(0x844)]((_0x13d247,_0x8faf2)=>_0x1ef620(0x817)+_0x8faf2+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x8faf2+_0x1ef620(0x795)+_0x8faf2+'\x22>'+_0x13d247+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1ef620(0x63c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x1ef620(0x5fb)]=_0x130d05;if(window[_0x1ef620(0x5be)])MathJax[_0x1ef620(0x23d)]([studentQuizArea]);document['getElementById'](_0x1ef620(0x56c))[_0x1ef620(0x3b9)](_0x1ef620(0x864),async()=>{const _0x225e48=_0x1ef620,_0x279e5b=await getHintForQuestion(_0x386a26[_0x225e48(0x84f)]);showMessage(_0x279e5b);}),document['getElementById']('check-answer-btn')[_0x1ef620(0x3b9)](_0x1ef620(0x864),()=>{const _0x99b6ae=_0x1ef620,_0x13ca7a=document[_0x99b6ae(0x3fa)](_0x99b6ae(0x745));if(!_0x13ca7a){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x2de260=document[_0x99b6ae(0x633)]('drill-feedback'),_0x38ab67=parseInt(_0x13ca7a[_0x99b6ae(0x411)])===_0x386a26[_0x99b6ae(0x363)];_0x38ab67?(_0x2de260['className']=_0x99b6ae(0x603),_0x2de260['innerHTML']='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x386a26[_0x99b6ae(0x6b3)]):(_0x2de260[_0x99b6ae(0x598)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x2de260[_0x99b6ae(0x5fb)]=_0x99b6ae(0x79b)+_0x386a26[_0x99b6ae(0x6b3)]);_0x2de260['classList']['remove'](_0x99b6ae(0x10c));if(window[_0x99b6ae(0x5be)])MathJax[_0x99b6ae(0x23d)]([_0x2de260]);document['getElementById'](_0x99b6ae(0x6a7))[_0x99b6ae(0x1a4)]['add'](_0x99b6ae(0x10c)),document[_0x99b6ae(0x633)](_0x99b6ae(0x56c))['classList']['add'](_0x99b6ae(0x10c)),document[_0x99b6ae(0x633)](_0x99b6ae(0x638))['classList']['remove'](_0x99b6ae(0x10c));}),document[_0x1ef620(0x633)]('next-drill-btn')[_0x1ef620(0x3b9)](_0x1ef620(0x864),()=>{const _0x556c50=_0x1ef620;_0x21299d++,_0x21299d<_0x4ff170[_0x556c50(0x31c)]?_0x54d660():(studentQuizArea[_0x556c50(0x5fb)]=_0x556c50(0x1fb),document[_0x556c50(0x633)](_0x556c50(0x4e8))['addEventListener'](_0x556c50(0x864),()=>{const _0x4d22a3=_0x556c50;studentQuizArea['classList'][_0x4d22a3(0x10f)](_0x4d22a3(0x10c)),studentResultArea['classList'][_0x4d22a3(0x33c)](_0x4d22a3(0x10c));}));});};_0x54d660();}async function getHintForQuestion(_0x31d7c9){const _0x44b9b5=_0x433974,_0x1d6887=_0x44b9b5(0x744)+_0x31d7c9+_0x44b9b5(0x543),_0x15b98d={'type':_0x44b9b5(0x831),'properties':{'hint':{'type':_0x44b9b5(0x7ab)}},'required':[_0x44b9b5(0x2b7)]};try{const _0x1cac21=await callAnalysisApi(_0x1d6887,_0x15b98d);return _0x1cac21['hint'];}catch(_0x2e08fa){return console[_0x44b9b5(0x6ee)]('Failed\x20to\x20get\x20hint:',_0x2e08fa),_0x44b9b5(0x89f);}}async function extractTextFromPdf(_0x4d873d){const _0x350826=_0x433974;pdfjsLib['GlobalWorkerOptions']['workerSrc']=_0x350826(0x4ec);const _0x177301=await _0x4d873d[_0x350826(0x198)](),_0x230056=await pdfjsLib[_0x350826(0x644)](_0x177301)[_0x350826(0x8ac)],_0x4ef244=_0x230056[_0x350826(0x4e3)];let _0x1f2b00='';for(let _0x49050c=0x1;_0x49050c<=_0x4ef244;_0x49050c++){const _0x4b8d0d=await _0x230056[_0x350826(0x83b)](_0x49050c),_0x1c5272=await _0x4b8d0d[_0x350826(0x852)](),_0x52c7a6=_0x1c5272[_0x350826(0x3bd)]['map'](_0x2d9927=>_0x2d9927[_0x350826(0x1fe)])[_0x350826(0x63c)]('\x20');_0x1f2b00+=_0x52c7a6+'\x0a\x0a';}return _0x1f2b00;}async function handleGenerateFromBlueprint(){const _0x4003c0=_0x433974,_0x3ba2fd=document[_0x4003c0(0x633)](_0x4003c0(0x204)),_0x1597cf=document[_0x4003c0(0x633)](_0x4003c0(0x88c)),_0x3dcd95=_0x3ba2fd[_0x4003c0(0x1bf)][0x0],_0x50f20e=_0x1597cf[_0x4003c0(0x1bf)][_0x4003c0(0x31c)]>0x0?_0x1597cf[_0x4003c0(0x1bf)][0x0]:null;if(!_0x3dcd95){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x93623c=document[_0x4003c0(0x633)](_0x4003c0(0x233)),_0x3df506=document[_0x4003c0(0x633)](_0x4003c0(0x1ec)),_0x408504=document['getElementById']('generated-quiz-container'),_0x5baf32=document[_0x4003c0(0x633)]('generate-from-blueprint-btn');_0x5baf32[_0x4003c0(0x6b0)]=!![],document[_0x4003c0(0x633)]('quiz-generation-area')[_0x4003c0(0x1a4)][_0x4003c0(0x33c)]('hidden'),_0x408504[_0x4003c0(0x5fb)]='',_0x93623c[_0x4003c0(0x1a4)][_0x4003c0(0x33c)](_0x4003c0(0x10c));try{_0x3df506[_0x4003c0(0x1d4)]='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x21ce25=await extractTextFromPdf(_0x3dcd95);if(!_0x21ce25[_0x4003c0(0x882)]())throw new Error(_0x4003c0(0x2fe));let _0x313972='';_0x50f20e&&(_0x3df506[_0x4003c0(0x1d4)]=_0x4003c0(0x4da),_0x313972=await extractTextFromPdf(_0x50f20e));_0x3df506[_0x4003c0(0x1d4)]=_0x4003c0(0x44a);const _0x4f89a3=document[_0x4003c0(0x633)](_0x4003c0(0x778))[_0x4003c0(0x4d8)],_0x4a21c2=_0x4f89a3?_0x4003c0(0x274):'',_0x137552=_0x313972?_0x4003c0(0x609)+_0x313972+_0x4003c0(0x146):'',_0x44e524='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x313972?'2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ':'')+_0x4003c0(0x645)+_0x21ce25+_0x4003c0(0x146)+_0x137552+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a21c2+_0x4003c0(0x128)+simpleMathPrompt+_0x4003c0(0x641),_0x5309da={'type':_0x4003c0(0x831),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4003c0(0x7ab),'enum':[_0x4003c0(0x75a),_0x4003c0(0x6f3)]},'options':{'type':_0x4003c0(0x288),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4003c0(0x1f3)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x4003c0(0x7ab)},'imageCode':{'type':'STRING'}},'required':[_0x4003c0(0x84f),_0x4003c0(0x327),_0x4003c0(0x6b3)]},_0x1c41cb={'type':'OBJECT','properties':{'topic':{'type':_0x4003c0(0x7ab)},'questions':{'type':'ARRAY','items':_0x5309da}},'required':[_0x4003c0(0x158),'questions']};await handleApiCall(_0x44e524,_0x4003c0(0x183),_0x1c41cb);}catch(_0x4f4150){console[_0x4003c0(0x6ee)](_0x4003c0(0x4de),_0x4f4150),showMessage(_0x4003c0(0x202)+_0x4f4150[_0x4003c0(0x64a)]),_0x408504[_0x4003c0(0x5fb)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x93623c[_0x4003c0(0x1a4)]['add']('hidden'),_0x5baf32[_0x4003c0(0x6b0)]=![];}}async function handleGenerateParallelFromBank(_0x43877b){const _0x31339d=_0x433974;switchProjectTab(_0x31339d(0x40d));const _0xb4e21e=document[_0x31339d(0x633)](_0x31339d(0x233)),_0x3a1cbe=document['getElementById'](_0x31339d(0x1ec)),_0x282d31=document[_0x31339d(0x633)]('generated-quiz-container');document['getElementById'](_0x31339d(0x384))[_0x31339d(0x1a4)][_0x31339d(0x33c)]('hidden'),_0x282d31['innerHTML']='',_0xb4e21e[_0x31339d(0x1a4)]['remove']('hidden'),_0x3a1cbe['textContent']=_0x31339d(0x195)+_0x43877b['topic']+_0x31339d(0x2f5);try{const _0x49e2ed=_0x43877b[_0x31339d(0x193)][_0x31339d(0x844)]((_0x5c9086,_0x550194)=>{const _0x5ef5b5=_0x31339d;let _0x1a1ee8=_0x550194+0x1+'.\x20'+(_0x5c9086[_0x5ef5b5(0x84f)]||_0x5c9086[_0x5ef5b5(0x114)])+'\x0a';if(_0x5c9086['options'])_0x1a1ee8+=_0x5c9086['options']['map']((_0x43d5f5,_0x45af22)=>_0x5ef5b5(0x2e7)+(_0x45af22===_0x5c9086[_0x5ef5b5(0x363)]?_0x5ef5b5(0x2bb):'')+'\x20'+_0x43d5f5)[_0x5ef5b5(0x63c)]('\x0a');else _0x5c9086[_0x5ef5b5(0x6eb)]&&(_0x1a1ee8+=_0x5ef5b5(0x3e0)+_0x5c9086['idealAnswer']);return _0x1a1ee8;})[_0x31339d(0x63c)]('\x0a\x0a');_0x3a1cbe['textContent']=_0x31339d(0x13f);const _0x3f501b=_0x31339d(0x39d)+_0x43877b[_0x31339d(0x158)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49e2ed+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3d82df={'type':_0x31339d(0x831),'properties':{'questionText':{'type':_0x31339d(0x7ab)},'questionType':{'type':'STRING','enum':[_0x31339d(0x75a),_0x31339d(0x6f3),_0x31339d(0x797),_0x31339d(0x39c)]},'options':{'type':_0x31339d(0x288),'items':{'type':_0x31339d(0x7ab)}},'correctAnswerIndex':{'type':_0x31339d(0x1f3)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x31339d(0x3a4)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x31339d(0x7ab)},'allResponses':{'type':_0x31339d(0x288),'items':{'type':_0x31339d(0x7ab)}},'explanation':{'type':_0x31339d(0x7ab)},'imageCode':{'type':_0x31339d(0x7ab)}},'required':[_0x31339d(0x84f),'questionType',_0x31339d(0x482),_0x31339d(0x363),'explanation']},_0x2d1fb1={'type':_0x31339d(0x831),'properties':{'topic':{'type':_0x31339d(0x7ab)},'questions':{'type':_0x31339d(0x288),'items':_0x3d82df}},'required':[_0x31339d(0x158),_0x31339d(0x193)]},_0x1b02c8=await callAnalysisApi(_0x3f501b,_0x2d1fb1);_0x1b02c8[_0x31339d(0x158)]=_0x31339d(0x6c6)+_0x43877b[_0x31339d(0x158)],_0x1b02c8[_0x31339d(0x5e4)]=_0x43877b[_0x31339d(0x5e4)],currentQuizData=_0x1b02c8,displayGeneratedQuiz(_0x1b02c8),document['getElementById']('manage-tab-content')[_0x31339d(0x2cd)]({'behavior':'smooth'});}catch(_0x505456){console[_0x31339d(0x6ee)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x505456),showMessage('เกิดข้อผิดพลาด:\x20'+_0x505456[_0x31339d(0x64a)]),_0x282d31[_0x31339d(0x5fb)]=_0x31339d(0x6d2);}finally{_0xb4e21e[_0x31339d(0x1a4)][_0x31339d(0x10f)](_0x31339d(0x10c));}}async function handleGenerateParallelPostTest(_0x493887){const _0x9defaf=_0x433974,_0x403a11=document[_0x9defaf(0x633)](_0x9defaf(0x738)),_0xe551db=document[_0x9defaf(0x633)]('project-quizzes-list');_0xe551db[_0x9defaf(0x1a4)][_0x9defaf(0x10f)]('hidden');const _0x17923d=_0x9defaf(0x1cc);_0x403a11['insertAdjacentHTML'](_0x9defaf(0x22d),_0x17923d);try{const _0x55deea=_0x493887[_0x9defaf(0x193)][_0x9defaf(0x844)]((_0x587c7d,_0x2475e2)=>{const _0x4d271b=_0x9defaf;let _0x351b02=_0x2475e2+0x1+'.\x20'+(_0x587c7d[_0x4d271b(0x84f)]||_0x587c7d['stem']);if(_0x587c7d[_0x4d271b(0x482)])_0x351b02+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x587c7d[_0x4d271b(0x482)][_0x4d271b(0x63c)](',\x20');return _0x351b02;})[_0x9defaf(0x63c)]('\x0a\x0a'),_0x290151=_0x9defaf(0x86b)+_0x493887['topic']+_0x9defaf(0x4d0)+_0x55deea+_0x9defaf(0x7ba)+simpleMathPrompt+_0x9defaf(0x641),_0x31dec8={'type':_0x9defaf(0x831),'properties':{'topic':{'type':_0x9defaf(0x7ab)},'questions':{'type':_0x9defaf(0x288),'items':{'type':_0x9defaf(0x831),'properties':{'questionText':{'type':_0x9defaf(0x7ab)},'questionType':{'type':_0x9defaf(0x7ab)},'options':{'type':_0x9defaf(0x288),'items':{'type':_0x9defaf(0x7ab)}},'correctAnswerIndex':{'type':_0x9defaf(0x1f3)},'idealAnswer':{'type':_0x9defaf(0x7ab)},'explanation':{'type':_0x9defaf(0x7ab)}},'required':[_0x9defaf(0x84f),_0x9defaf(0x6b3)]}}},'required':['topic',_0x9defaf(0x193)]},_0x16329e=await callAnalysisApi(_0x290151,_0x31dec8),_0x543bc7=_0x493887[_0x9defaf(0x158)][_0x9defaf(0x1f2)](_0x9defaf(0x47d),'')[_0x9defaf(0x882)](),_0x2fedc0=_0x9defaf(0x3a1)+_0x543bc7,_0x2bb2cc={..._0x16329e,'topic':_0x2fedc0,'quizType':_0x493887['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x9defaf(0x6c0)](),'status':_0x9defaf(0x532),'settings':_0x493887['settings'],'quizMode':'post-test','pairedQuizId':_0x493887['id']};let _0x56339b;while(!![]){_0x56339b=Math[_0x9defaf(0x484)](0x3e8+Math[_0x9defaf(0x731)]()*0x2328)[_0x9defaf(0x15d)]();const _0x1e07e5=await getDoc(doc(db,_0x9defaf(0x2c6)+appId+_0x9defaf(0x506),_0x56339b));if(!_0x1e07e5[_0x9defaf(0x660)]())break;}await setDoc(doc(db,_0x9defaf(0x2c6)+appId+_0x9defaf(0x506),_0x56339b),_0x2bb2cc);const _0x41f663=doc(db,'artifacts/'+appId+_0x9defaf(0x506),_0x493887['id']);await updateDoc(_0x41f663,{'pairedQuizId':_0x56339b}),showMessage(_0x9defaf(0x209));}catch(_0x4f38b3){console[_0x9defaf(0x6ee)]('Error\x20generating\x20parallel\x20post-test:',_0x4f38b3),showMessage(_0x9defaf(0x202)+_0x4f38b3['message']);}finally{const _0x3db571=document[_0x9defaf(0x633)](_0x9defaf(0x185));if(_0x3db571)_0x3db571['remove']();_0xe551db['classList'][_0x9defaf(0x33c)](_0x9defaf(0x10c));}}async function handleGenerateParallelTest(){const _0x4f5c0b=_0x433974,_0x4b7827=document[_0x4f5c0b(0x633)]('parallel-test-upload-input'),_0x164c8d=_0x4b7827[_0x4f5c0b(0x1bf)][0x0];if(!_0x164c8d){showMessage(_0x4f5c0b(0x6e5));return;}const _0x5a44c3=document[_0x4f5c0b(0x633)](_0x4f5c0b(0x233)),_0xae6e8a=document[_0x4f5c0b(0x633)](_0x4f5c0b(0x1ec)),_0x273107=document[_0x4f5c0b(0x633)](_0x4f5c0b(0x520)),_0x215e79=document[_0x4f5c0b(0x633)](_0x4f5c0b(0x870));_0x215e79[_0x4f5c0b(0x6b0)]=!![],document[_0x4f5c0b(0x633)](_0x4f5c0b(0x384))['classList'][_0x4f5c0b(0x33c)](_0x4f5c0b(0x10c)),_0x273107['innerHTML']='',_0x5a44c3[_0x4f5c0b(0x1a4)]['remove'](_0x4f5c0b(0x10c)),_0xae6e8a[_0x4f5c0b(0x1d4)]=_0x4f5c0b(0x563);try{const _0x2a8e68=await extractTextFromPdf(_0x164c8d);if(!_0x2a8e68['trim']())throw new Error(_0x4f5c0b(0x455));_0xae6e8a[_0x4f5c0b(0x1d4)]=_0x4f5c0b(0x13f);const _0x3a91c0=document[_0x4f5c0b(0x633)](_0x4f5c0b(0x778))[_0x4f5c0b(0x4d8)],_0x3193aa=_0x3a91c0?_0x4f5c0b(0x274):'',_0x1e9e35='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a8e68+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3193aa+_0x4f5c0b(0x128)+simpleMathPrompt+_0x4f5c0b(0x641),_0x273161={'type':_0x4f5c0b(0x831),'properties':{'questionText':{'type':_0x4f5c0b(0x7ab)},'questionType':{'type':'STRING','enum':[_0x4f5c0b(0x75a),_0x4f5c0b(0x6f3)]},'options':{'type':_0x4f5c0b(0x288),'items':{'type':_0x4f5c0b(0x7ab)}},'correctAnswerIndex':{'type':_0x4f5c0b(0x1f3)},'idealAnswer':{'type':_0x4f5c0b(0x7ab)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4f5c0b(0x7ab)}},'required':[_0x4f5c0b(0x84f),_0x4f5c0b(0x327),_0x4f5c0b(0x6b3)]},_0x1d918c={'type':_0x4f5c0b(0x831),'properties':{'topic':{'type':_0x4f5c0b(0x7ab)},'questions':{'type':_0x4f5c0b(0x288),'items':_0x273161}},'required':['topic',_0x4f5c0b(0x193)]};await handleApiCall(_0x1e9e35,_0x4f5c0b(0x710),_0x1d918c);}catch(_0x4b4daa){console[_0x4f5c0b(0x6ee)](_0x4f5c0b(0x887),_0x4b4daa),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4b4daa['message']),_0x273107[_0x4f5c0b(0x5fb)]=_0x4f5c0b(0x6d2);}finally{_0x5a44c3[_0x4f5c0b(0x1a4)][_0x4f5c0b(0x10f)](_0x4f5c0b(0x10c)),_0x215e79[_0x4f5c0b(0x6b0)]=![];}}async function handleRegenerateQuestionInEditor(_0x3ee299){const _0x3867d4=_0x433974;if(currentEditingQuizData===null)return;const _0x418932=document[_0x3867d4(0x3fa)]('.question-editor-item[data-q-index=\x22'+_0x3ee299+'\x22]');_0x418932&&(_0x418932['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x68bb33=currentEditingQuizData[_0x3867d4(0x193)][_0x3ee299],_0x2e2ec5=currentEditingQuizData['topic'],_0x1094e4=_0x68bb33[_0x3867d4(0x327)],_0x3aaf46={'type':'OBJECT','properties':{'questionText':{'type':_0x3867d4(0x7ab)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3867d4(0x1f3)},'explanation':{'type':_0x3867d4(0x7ab)}},'required':['questionText',_0x3867d4(0x482),'correctAnswerIndex',_0x3867d4(0x6b3)]},_0x2b5005={'type':_0x3867d4(0x831),'properties':{'questionText':{'type':_0x3867d4(0x7ab)},'idealAnswer':{'type':_0x3867d4(0x7ab)},'explanation':{'type':_0x3867d4(0x7ab)}},'required':[_0x3867d4(0x84f),_0x3867d4(0x6eb),'explanation']};let _0x427d33,_0x130b2f='';_0x1094e4===_0x3867d4(0x75a)?(_0x427d33=_0x3aaf46,_0x130b2f='แบบปรนัย\x204\x20ตัวเลือก'):(_0x427d33=_0x2b5005,_0x130b2f=_0x3867d4(0x259));const _0x1bd5a8='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x2e2ec5+_0x3867d4(0x131)+_0x130b2f+_0x3867d4(0x387)+(_0x68bb33[_0x3867d4(0x84f)]||_0x68bb33[_0x3867d4(0x114)])+_0x3867d4(0x13a)+simpleMathPrompt;try{const _0x425d7d=await callAnalysisApi(_0x1bd5a8,_0x427d33);currentEditingQuizData['questions'][_0x3ee299]={..._0x68bb33,..._0x425d7d},renderQuizEditor(currentEditingQuizData);}catch(_0x249e65){console[_0x3867d4(0x6ee)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x249e65),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x362745=_0x433974,_0x9cf63f=document['getElementById'](_0x362745(0x481));currentMode===_0x362745(0x699)?(currentMode='admin',_0x9cf63f['innerHTML']=_0x362745(0x404),_0x9cf63f['title']=_0x362745(0x6e6),showView(_0x362745(0x65e))):(currentMode=_0x362745(0x699),_0x9cf63f[_0x362745(0x5fb)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x9cf63f[_0x362745(0x7e2)]='สลับไปโหมดผู้ควบคุม',showView(_0x362745(0x699)));}function handleAdminLogin(){const _0x1bbf7e=_0x433974,_0x16103f=document['getElementById'](_0x1bbf7e(0x450)),_0x1bfe47=document[_0x1bbf7e(0x633)](_0x1bbf7e(0x4ac));if(_0x16103f['value']===_0x1bbf7e(0x175)){adminPasswordModal['classList'][_0x1bbf7e(0x10f)](_0x1bbf7e(0x10c)),_0x16103f[_0x1bbf7e(0x411)]='',_0x1bfe47[_0x1bbf7e(0x1a4)][_0x1bbf7e(0x10f)](_0x1bbf7e(0x10c)),currentMode=_0x1bbf7e(0x133);const _0x561d17=document[_0x1bbf7e(0x633)](_0x1bbf7e(0x481));_0x561d17[_0x1bbf7e(0x5fb)]=_0x1bbf7e(0x404),_0x561d17[_0x1bbf7e(0x7e2)]=_0x1bbf7e(0x6e6),showView(_0x1bbf7e(0x65e));}else _0x1bfe47[_0x1bbf7e(0x1a4)][_0x1bbf7e(0x33c)](_0x1bbf7e(0x10c)),_0x16103f[_0x1bbf7e(0x411)]='';}function switchProjectTab(_0x34f7fd){const _0x14643a=_0x433974;[_0x14643a(0x40d),_0x14643a(0x4e2),_0x14643a(0x7d4)]['forEach'](_0x36d839=>{const _0x980ee1=_0x14643a;document['getElementById'](_0x36d839+_0x980ee1(0x72b))['classList'][_0x980ee1(0x33c)](_0x980ee1(0x532)),document[_0x980ee1(0x633)](_0x36d839+_0x980ee1(0x3af))[_0x980ee1(0x1a4)][_0x980ee1(0x10f)](_0x980ee1(0x10c));}),document['getElementById'](_0x34f7fd+_0x14643a(0x72b))[_0x14643a(0x1a4)]['add'](_0x14643a(0x532)),document[_0x14643a(0x633)](_0x34f7fd+_0x14643a(0x3af))[_0x14643a(0x1a4)]['remove']('hidden');}function switchQuizDetailTab(_0x29e2ec){const _0x318486=_0x433974,_0x476610={'analytics':{'btn':_0x318486(0x74e),'content':_0x318486(0x229)},'scores':{'btn':_0x318486(0x523),'content':_0x318486(0x654)},'leaderboard-quiz':{'btn':_0x318486(0x320),'content':_0x318486(0x5e1)},'behavior-log':{'btn':_0x318486(0x344),'content':'behavior-log-tab-content'}};for(const _0x40028f in _0x476610){document['getElementById'](_0x476610[_0x40028f][_0x318486(0x471)])['classList'][_0x318486(0x33c)]('active'),document[_0x318486(0x633)](_0x476610[_0x40028f][_0x318486(0x76a)])[_0x318486(0x1a4)]['add'](_0x318486(0x10c));}document[_0x318486(0x633)](_0x476610[_0x29e2ec][_0x318486(0x471)])[_0x318486(0x1a4)]['add'](_0x318486(0x532)),document[_0x318486(0x633)](_0x476610[_0x29e2ec]['content'])[_0x318486(0x1a4)][_0x318486(0x33c)](_0x318486(0x10c));}function showMessage(_0x38039d,_0x1770f2=null){const _0x48142c=_0x433974;modalMessage[_0x48142c(0x1d4)]=_0x38039d,modalConfirmAction=_0x1770f2,messageModal[_0x48142c(0x1a4)]['remove']('hidden');}function showConfirmation(_0x2e0c7a,_0x502bfd){const _0x4229f1=_0x433974;document[_0x4229f1(0x633)](_0x4229f1(0x879))[_0x4229f1(0x1d4)]=_0x2e0c7a,document[_0x4229f1(0x633)]('confirmation-modal')[_0x4229f1(0x3fa)]('h3')['textContent']='ยืนยันการกระทำ',confirmAction=_0x502bfd,confirmationModal[_0x4229f1(0x1a4)][_0x4229f1(0x33c)](_0x4229f1(0x10c));}function listenForProjects(){const _0x12cb28=_0x433974,_0x5a3c26=doc(db,_0x12cb28(0x68e),'dashboardConfig');onSnapshot(_0x5a3c26,_0x25718b=>{const _0x53fff5=_0x12cb28;if(_0x25718b[_0x53fff5(0x660)]()){const _0x1c3f7e=_0x25718b[_0x53fff5(0x1a2)]();globalDashboardSettings[_0x53fff5(0x36c)]=_0x1c3f7e['projectSort']||'date_desc',globalDashboardSettings['pinnedProjects']=_0x1c3f7e['pinnedProjects']||[],globalDashboardSettings[_0x53fff5(0x7dc)]=_0x1c3f7e[_0x53fff5(0x7dc)]||[];}allProjects[_0x53fff5(0x31c)]>0x0&&renderProjects();});const _0x13b181=collection(db,_0x12cb28(0x2c6)+appId+_0x12cb28(0x528));unsubscribeProjectsListener=onSnapshot(_0x13b181,_0xac2adb=>{const _0x4c0e08=_0x12cb28;allProjects=_0xac2adb['docs'][_0x4c0e08(0x844)](_0x12e5ed=>({'id':_0x12e5ed['id'],..._0x12e5ed[_0x4c0e08(0x1a2)]()})),renderProjects();},_0x2b26ee=>{const _0x39c4e6=_0x12cb28;console[_0x39c4e6(0x6ee)]('Error\x20listening\x20for\x20projects:',_0x2b26ee),showMessage(_0x39c4e6(0x7c8));});}function _0x300c(_0x1b89b6,_0x218d81){const _0x292115=_0x2921();return _0x300c=function(_0x300c33,_0x3b1327){_0x300c33=_0x300c33-0x101;let _0x322855=_0x292115[_0x300c33];return _0x322855;},_0x300c(_0x1b89b6,_0x218d81);}function showColorPalette(_0x27d591,_0x114e6a){const _0x1e7d63=_0x433974;document[_0x1e7d63(0x6a8)](_0x1e7d63(0x6d6))['forEach'](_0x38a279=>_0x38a279['remove']());const _0x27bdda=['#FFFFFF',_0x1e7d63(0x6e9),_0x1e7d63(0x478),_0x1e7d63(0x3bf),_0x1e7d63(0x6be),_0x1e7d63(0x244),'#F3E8FF','#FCE7F3',_0x1e7d63(0x607)],_0x1451a1=document[_0x1e7d63(0x5b6)](_0x1e7d63(0x59d));_0x1451a1[_0x1e7d63(0x598)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x27bdda['forEach'](_0x56dfe3=>{const _0x1830fd=_0x1e7d63,_0xe5c1cc=document[_0x1830fd(0x5b6)](_0x1830fd(0x59d));_0xe5c1cc[_0x1830fd(0x598)]=_0x1830fd(0x62c),_0xe5c1cc[_0x1830fd(0x3d6)][_0x1830fd(0x4f8)]=_0x56dfe3,_0xe5c1cc[_0x1830fd(0x3b9)](_0x1830fd(0x864),()=>{const _0x5196af=_0x1830fd;handleProjectColorChange(_0x114e6a,_0x56dfe3),_0x1451a1[_0x5196af(0x33c)]();}),_0x1451a1[_0x1830fd(0x4b8)](_0xe5c1cc);}),document[_0x1e7d63(0x4d7)][_0x1e7d63(0x4b8)](_0x1451a1);const _0x175dd5=_0x27d591[_0x1e7d63(0x104)]();_0x1451a1['style'][_0x1e7d63(0x1ac)]=_0x175dd5[_0x1e7d63(0x589)]+window[_0x1e7d63(0x273)]+'px',_0x1451a1[_0x1e7d63(0x3d6)][_0x1e7d63(0x2ab)]=_0x175dd5['left']+window[_0x1e7d63(0x665)]-_0x1451a1[_0x1e7d63(0x5c4)]/0x2+'px';}async function handleProjectColorChange(_0x5abd86,_0x34df98){const _0x58330f=_0x433974,_0x84f24d=doc(db,_0x58330f(0x2c6)+appId+_0x58330f(0x528),_0x5abd86);try{await updateDoc(_0x84f24d,{'color':_0x34df98});}catch(_0x4a2eaf){console[_0x58330f(0x6ee)]('Error\x20updating\x20project\x20color:',_0x4a2eaf),showMessage(_0x58330f(0x3ac));}}async function renderProjects(){const _0x34175e=_0x433974,_0x3509be=globalDashboardSettings[_0x34175e(0x36c)]||_0x34175e(0x649),_0x438ae0=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x22c6b4=globalDashboardSettings[_0x34175e(0x569)]||_0x34175e(0x6f1),_0x203416=document[_0x34175e(0x633)](_0x34175e(0x5b2)),_0x554852=document['getElementById'](_0x34175e(0x4b4));_0x203416['classList'][_0x34175e(0x55f)]('active',_0x22c6b4==='grid'),_0x554852[_0x34175e(0x1a4)][_0x34175e(0x55f)](_0x34175e(0x532),_0x22c6b4===_0x34175e(0x1c6)),document[_0x34175e(0x633)](_0x34175e(0x544))[_0x34175e(0x411)]=_0x3509be;const _0x4aa328=document[_0x34175e(0x633)](_0x34175e(0x28f))[_0x34175e(0x411)][_0x34175e(0x6fb)]();let _0x357cfc=allProjects['filter'](_0x1b8554=>_0x1b8554[_0x34175e(0x332)]['toLowerCase']()[_0x34175e(0x335)](_0x4aa328));const _0x2231cb=_0x357cfc['filter'](_0x391d7a=>_0x438ae0[_0x34175e(0x88a)](_0x391d7a['id'])),_0x35921d=_0x357cfc['filter'](_0x419c20=>!_0x438ae0['has'](_0x419c20['id'])),_0x1fb773=(_0x4d6880,_0x31aaeb)=>{const _0x36d41d=_0x34175e;switch(_0x3509be){case'name_asc':return _0x4d6880[_0x36d41d(0x332)][_0x36d41d(0x60a)](_0x31aaeb[_0x36d41d(0x332)],'th');case'name_desc':return _0x31aaeb[_0x36d41d(0x332)]['localeCompare'](_0x4d6880[_0x36d41d(0x332)],'th');case _0x36d41d(0x5c0):return new Date(_0x4d6880['createdAt'])-new Date(_0x31aaeb['createdAt']);default:return new Date(_0x31aaeb[_0x36d41d(0x78c)])-new Date(_0x4d6880[_0x36d41d(0x78c)]);}};_0x2231cb[_0x34175e(0x2e8)](_0x1fb773),_0x35921d[_0x34175e(0x2e8)](_0x1fb773);const _0x131a09=[..._0x2231cb,..._0x35921d],_0x5f1c65=globalDashboardSettings[_0x34175e(0x7dc)]||[];_0x5f1c65[_0x34175e(0x31c)]>0x0&&_0x22c6b4===_0x34175e(0x6f1)&&_0x131a09[_0x34175e(0x2e8)]((_0xd03b7f,_0x4fbaa0)=>{const _0x3d6018=_0x34175e,_0x4a110=_0x5f1c65[_0x3d6018(0x123)](_0xd03b7f['id']),_0x3d9259=_0x5f1c65[_0x3d6018(0x123)](_0x4fbaa0['id']);if(_0x4a110===-0x1)return 0x1;if(_0x3d9259===-0x1)return-0x1;return _0x4a110-_0x3d9259;});const _0x255be3={};await Promise[_0x34175e(0x2ef)](_0x131a09['map'](async _0x16cef9=>{const _0x9399=_0x34175e,_0x26acea=query(collection(db,_0x9399(0x2c6)+appId+_0x9399(0x506)),where('projectId','==',_0x16cef9['id'])),_0x44f628=await getDocs(_0x26acea);_0x255be3[_0x16cef9['id']]=_0x44f628['size'];}));const _0x4cdfac=document[_0x34175e(0x633)](_0x34175e(0x6d3));let _0x1ad719='';if(_0x22c6b4===_0x34175e(0x6f1)){_0x4cdfac[_0x34175e(0x598)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes['length']>0x0&&_0x4aa328===''){const _0x1e53e6=starredQuizzes[_0x34175e(0x844)](_0x353195=>{const _0x476745=_0x34175e,_0xf85eea=allProjects[_0x476745(0x7c5)](_0xcb79a3=>_0xcb79a3['id']===_0x353195['projectId']);return{..._0x353195,'projectName':_0xf85eea?_0xf85eea['projectName']:_0x476745(0x2ea)};});_0x1ad719+=_0x34175e(0x181)+_0x1e53e6['map'](_0x2b937b=>_0x34175e(0x86c)+_0x2b937b[_0x34175e(0x158)]+'\x22>'+_0x2b937b[_0x34175e(0x158)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x2b937b[_0x34175e(0x332)]+_0x34175e(0x1e1)+_0x2b937b[_0x34175e(0x332)]+_0x34175e(0x1da))[_0x34175e(0x63c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x34175e(0x31c)]+_0x34175e(0x65d);}_0x131a09[_0x34175e(0x1c8)](_0x1fb1ec=>{const _0x4e70f4=_0x34175e,_0x1b9542=_0x255be3[_0x1fb1ec['id']]??0x0,_0x497d74=_0x438ae0[_0x4e70f4(0x88a)](_0x1fb1ec['id']),_0x201a16=_0x1fb1ec[_0x4e70f4(0x700)]||_0x4e70f4(0x712),_0x2cdc24=parseInt(_0x201a16[_0x4e70f4(0x31e)](0x1,0x3),0x10)*0.299+parseInt(_0x201a16['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x201a16[_0x4e70f4(0x31e)](0x5,0x7),0x10)*0.114<0xba,_0x499c4e=_0x2cdc24?_0x4e70f4(0x87a):_0x4e70f4(0x377),_0x5aa0bd=_0x2cdc24?_0x4e70f4(0x4ef):_0x4e70f4(0x472);_0x1ad719+=_0x4e70f4(0x46a)+(_0x497d74?_0x4e70f4(0x674):_0x4e70f4(0x33f))+_0x4e70f4(0x6af)+_0x201a16+';\x22\x20data-id=\x22'+_0x1fb1ec['id']+_0x4e70f4(0x52b)+_0x1fb1ec['id']+_0x4e70f4(0x729)+(_0x2cdc24?_0x4e70f4(0x79e):_0x4e70f4(0x180))+_0x4e70f4(0x743)+_0x1fb1ec['id']+_0x4e70f4(0x306)+(_0x2cdc24?_0x4e70f4(0x79e):_0x4e70f4(0x180))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x497d74?_0x2cdc24?'text-yellow-300':_0x4e70f4(0x7ec):'')+_0x4e70f4(0x82e)+_0x1fb1ec['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x499c4e+'\x20pointer-events-none\x22>'+_0x1fb1ec[_0x4e70f4(0x332)]+_0x4e70f4(0x747)+_0x5aa0bd+_0x4e70f4(0x1e8)+new Date(_0x1fb1ec['createdAt'])[_0x4e70f4(0x40a)](_0x4e70f4(0x40c))+_0x4e70f4(0x7bd)+(_0x2cdc24?_0x4e70f4(0x62a):'text-gray-700')+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x1b9542+_0x4e70f4(0x357)+_0x1fb1ec['id']+_0x4e70f4(0x473)+_0x1fb1ec[_0x4e70f4(0x332)]+_0x4e70f4(0x486)+(_0x2cdc24?'text-red-300\x20hover:text-red-100':_0x4e70f4(0x445))+_0x4e70f4(0x4cf);});}else _0x4cdfac[_0x34175e(0x598)]=_0x34175e(0x3f3),starredQuizzes[_0x34175e(0x31c)]>0x0&&_0x4aa328===''&&(_0x1ad719+=_0x34175e(0x574)+starredQuizzes[_0x34175e(0x31c)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x1ad719+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x131a09[_0x34175e(0x1c8)](_0x10d78e=>{const _0x16f19e=_0x34175e,_0x32b2e6=_0x255be3[_0x10d78e['id']]??0x0,_0xac586f=_0x438ae0[_0x16f19e(0x88a)](_0x10d78e['id']);_0x1ad719+=_0x16f19e(0x2d8)+(_0x10d78e['color']||_0x16f19e(0x607))+_0x16f19e(0x6ba)+_0x10d78e['id']+_0x16f19e(0x3ef)+_0x10d78e['projectName']+_0x16f19e(0x3dd)+_0x32b2e6+_0x16f19e(0x4ad)+new Date(_0x10d78e[_0x16f19e(0x78c)])[_0x16f19e(0x42d)](_0x16f19e(0x40c))+_0x16f19e(0x69b)+_0x10d78e['id']+_0x16f19e(0x3da)+(_0xac586f?'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x10d78e['id']+'\x22\x20data-name=\x22'+_0x10d78e[_0x16f19e(0x332)]+_0x16f19e(0x529);});projectList[_0x34175e(0x5fb)]=_0x1ad719,noProjectsMsg[_0x34175e(0x1a4)][_0x34175e(0x55f)]('hidden',_0x1ad719[_0x34175e(0x31c)]>0x0);}document[_0x433974(0x633)](_0x433974(0x66d))[_0x433974(0x3b9)]('click',async()=>{const _0x4577ec=_0x433974,_0x2d0bb5=document[_0x4577ec(0x633)](_0x4577ec(0x7db)),_0x335eca=_0x2d0bb5[_0x4577ec(0x411)][_0x4577ec(0x882)]();if(!_0x335eca){showMessage(_0x4577ec(0x78d));return;}try{const _0x405dc7=doc(collection(db,_0x4577ec(0x2c6)+appId+_0x4577ec(0x528)));await setDoc(_0x405dc7,{'projectName':_0x335eca,'students':[],'settings':{'resultsDisplay':_0x4577ec(0x309),'shuffleSetting':_0x4577ec(0x19e),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x4577ec(0x6c0)]()}),_0x2d0bb5['value']='',createProjectModal['classList']['add'](_0x4577ec(0x10c)),showMessage(_0x4577ec(0x59b));}catch(_0x9a5408){console['error'](_0x4577ec(0x3e6),_0x9a5408),showMessage(_0x4577ec(0x18e));}}),projectList['addEventListener'](_0x433974(0x864),async _0x554432=>{const _0xce41a9=_0x433974,_0xd74af7=_0x554432[_0xce41a9(0x1b5)][_0xce41a9(0x3ce)](_0xce41a9(0x89e)),_0x31ab94=_0x554432[_0xce41a9(0x1b5)][_0xce41a9(0x3ce)](_0xce41a9(0x3ea)),_0xa76012=_0x554432[_0xce41a9(0x1b5)][_0xce41a9(0x3ce)](_0xce41a9(0x1ce)),_0xba9809=_0x554432['target'][_0xce41a9(0x3ce)]('.color-palette-btn');if(_0xa76012){const _0x221c66=_0xa76012[_0xce41a9(0x80f)]['id'],_0x4850ed=doc(db,_0xce41a9(0x68e),_0xce41a9(0x3bb)),_0x5b09f0=globalDashboardSettings['pinnedProjects'];let _0x239c75;_0x5b09f0[_0xce41a9(0x335)](_0x221c66)?_0x239c75=_0x5b09f0[_0xce41a9(0x622)](_0x1dd02b=>_0x1dd02b!==_0x221c66):_0x239c75=[..._0x5b09f0,_0x221c66];try{await setDoc(_0x4850ed,{'pinnedProjects':_0x239c75},{'merge':!![]});}catch(_0x2cf2c8){console[_0xce41a9(0x6ee)]('Error\x20updating\x20pin\x20status:',_0x2cf2c8),showMessage(_0xce41a9(0x54a));}}else{if(_0xba9809){const _0x4c23a4=_0xba9809[_0xce41a9(0x80f)]['id'];showColorPalette(_0xba9809,_0x4c23a4);}else{if(_0xd74af7){const _0x199007=_0xd74af7[_0xce41a9(0x80f)]['id'];_0x199007===_0xce41a9(0x67f)?showStarredProjectView():(currentProjectId=_0x199007,await loadProjectDetails(currentProjectId),showView(_0xce41a9(0x32e)));}else{if(_0x31ab94){const _0x5b6a54=_0x31ab94[_0xce41a9(0x80f)]['id'],_0x1b5d20=_0x31ab94[_0xce41a9(0x80f)][_0xce41a9(0x3ab)];showConfirmation(_0xce41a9(0x8a4)+_0x1b5d20+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x5b6a54));}}}}}),projectList['addEventListener'](_0x433974(0x38c),_0x650184=>{const _0x446186=_0x433974,_0x43f134=_0x650184[_0x446186(0x1b5)][_0x446186(0x3ce)](_0x446186(0x750));_0x43f134&&_0x43f134['classList'][_0x446186(0x10f)](_0x446186(0x75d));}),projectList['addEventListener'](_0x433974(0x4d3),_0x979bbb=>{const _0x3ff9fd=_0x433974,_0x5be25e=_0x979bbb[_0x3ff9fd(0x1b5)][_0x3ff9fd(0x3ce)](_0x3ff9fd(0x750));_0x5be25e&&_0x5be25e[_0x3ff9fd(0x1a4)][_0x3ff9fd(0x33c)](_0x3ff9fd(0x75d));}),projectList[_0x433974(0x3b9)]('dragover',_0xb6267b=>{const _0x26ddb0=_0x433974;_0xb6267b['preventDefault']();const _0x519d97=document[_0x26ddb0(0x3fa)](_0x26ddb0(0x86e));if(!_0x519d97)return;const _0x1c9b68=getDragAfterElement(projectList,_0xb6267b['clientY']);_0x1c9b68==null?projectList[_0x26ddb0(0x4b8)](_0x519d97):projectList['insertBefore'](_0x519d97,_0x1c9b68);}),projectList['addEventListener'](_0x433974(0x121),_0xc4e15f=>{const _0x5242f6=_0x433974;_0xc4e15f[_0x5242f6(0x187)]();const _0x10d8ce=[...projectList['querySelectorAll']('.project-card-container[data-id]')][_0x5242f6(0x844)](_0x469a61=>_0x469a61['dataset']['id']);saveProjectOrder(_0x10d8ce);});function renderBehaviorLog(_0x2e289f){const _0x5b1e42=_0x433974,_0x49aa39=document[_0x5b1e42(0x633)](_0x5b1e42(0x48c));if(!_0x49aa39)return;const _0x4c4924=_0x2e289f[_0x5b1e42(0x622)](_0x1e91da=>_0x1e91da['behaviorLog']&&_0x1e91da[_0x5b1e42(0x885)][_0x5b1e42(0x31c)]>0x0);if(_0x4c4924[_0x5b1e42(0x31c)]===0x0){_0x49aa39[_0x5b1e42(0x5fb)]=_0x5b1e42(0x717);return;}let _0x1f8a8b='';_0x4c4924[_0x5b1e42(0x1c8)](_0x19ea6c=>{const _0x4fc68f=_0x5b1e42;_0x1f8a8b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x19ea6c[_0x4fc68f(0x534)]+_0x4fc68f(0x7b9),_0x19ea6c[_0x4fc68f(0x885)][_0x4fc68f(0x2e8)]((_0x51ab93,_0x475b1e)=>new Date(_0x475b1e[_0x4fc68f(0x847)])-new Date(_0x51ab93[_0x4fc68f(0x847)]))['forEach'](_0x391c1f=>{const _0xecb51a=_0x4fc68f,_0x400520=new Date(_0x391c1f[_0xecb51a(0x847)])[_0xecb51a(0x42d)](_0xecb51a(0x40c),{'dateStyle':'short','timeStyle':_0xecb51a(0x160)});_0x1f8a8b+=_0xecb51a(0x359)+_0x391c1f[_0xecb51a(0x325)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x400520+_0xecb51a(0x170);}),_0x1f8a8b+=_0x4fc68f(0x401);}),_0x49aa39[_0x5b1e42(0x5fb)]=_0x1f8a8b;}function getDragAfterElement(_0x5a33a2,_0x5ed513){const _0x4c482a=_0x433974,_0x38f270=[..._0x5a33a2['querySelectorAll'](_0x4c482a(0x311))];return _0x38f270[_0x4c482a(0x4c9)]((_0x218d94,_0xcd229d)=>{const _0x56b811=_0x4c482a,_0x561fc3=_0xcd229d[_0x56b811(0x104)](),_0x2e613c=_0x5ed513-_0x561fc3[_0x56b811(0x1ac)]-_0x561fc3['height']/0x2;return _0x2e613c<0x0&&_0x2e613c>_0x218d94['offset']?{'offset':_0x2e613c,'element':_0xcd229d}:_0x218d94;},{'offset':Number[_0x4c482a(0x3e1)]})[_0x4c482a(0x1db)];}async function saveProjectOrder(_0x2b9b5d){const _0x1cc919=_0x433974,_0x4bc4b1=doc(db,_0x1cc919(0x68e),_0x1cc919(0x3bb));try{await setDoc(_0x4bc4b1,{'projectOrder':_0x2b9b5d},{'merge':!![]});}catch(_0x5d427d){console[_0x1cc919(0x6ee)]('Error\x20saving\x20project\x20order:',_0x5d427d),showMessage(_0x1cc919(0x4f7));}}async function logBehaviorEvent(_0x48d4d4,_0x2a316a={}){const _0x15b2b5=_0x433974;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x15b2b5(0x75c)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x1826d6=doc(db,_0x15b2b5(0x2c6)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x15b2b5(0x424),currentStudentName),_0xff09c7={'event':_0x48d4d4,'timestamp':new Date()[_0x15b2b5(0x6c0)](),..._0x2a316a};try{await setDoc(_0x1826d6,{'studentName':currentStudentName,'behaviorLog':arrayUnion(_0xff09c7)},{'merge':!![]}),console[_0x15b2b5(0x37f)](_0x15b2b5(0x5b4)+currentStudentName+'\x20สำเร็จ:\x20'+_0x48d4d4);}catch(_0x47585d){console[_0x15b2b5(0x6ee)](_0x15b2b5(0x760),_0x47585d);}}function calculateMeanAndStdDev(_0x152573){const _0x6ffbd9=_0x433974;if(_0x152573['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x41ef9a=_0x152573[_0x6ffbd9(0x4c9)]((_0x5326c1,_0x19640f)=>_0x5326c1+_0x19640f,0x0)/_0x152573['length'];if(_0x152573[_0x6ffbd9(0x31c)]===0x1)return{'mean':_0x41ef9a,'stdDev':0x0};const _0x4fdb51=Math[_0x6ffbd9(0x71e)](_0x152573['map'](_0xfac2c0=>Math[_0x6ffbd9(0x71b)](_0xfac2c0-_0x41ef9a,0x2))[_0x6ffbd9(0x4c9)]((_0x588fb2,_0xbadb9f)=>_0x588fb2+_0xbadb9f,0x0)/(_0x152573[_0x6ffbd9(0x31c)]-0x1));return{'mean':_0x41ef9a,'stdDev':_0x4fdb51};}function calculateZScore(_0x30d7b8,_0x36308c,_0x3911ae){if(_0x3911ae===0x0)return 0x0;return(_0x30d7b8-_0x36308c)/_0x3911ae;}function calculateTScore(_0x2daad1){return 0xa*_0x2daad1+0x32;}function showStarredProjectView(){const _0x3ac70a=_0x433974;currentProjectId=_0x3ac70a(0x897),currentProjectData=null,projectTitle[_0x3ac70a(0x1d4)]=_0x3ac70a(0x5a2),projectIdDisplay['textContent']=_0x3ac70a(0x3fe),showView(_0x3ac70a(0x32e)),manageTab[_0x3ac70a(0x1a4)][_0x3ac70a(0x10f)](_0x3ac70a(0x10c)),leaderboardTab['classList'][_0x3ac70a(0x10f)](_0x3ac70a(0x10c)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x3aeda1){const _0x4a3dec=_0x433974,_0x3051be=doc(db,_0x4a3dec(0x2c6)+appId+_0x4a3dec(0x528),_0x3aeda1),_0x358981=await getDoc(_0x3051be);if(_0x358981[_0x4a3dec(0x660)]()){manageTab[_0x4a3dec(0x1a4)][_0x4a3dec(0x33c)](_0x4a3dec(0x10c)),leaderboardTab[_0x4a3dec(0x1a4)]['remove'](_0x4a3dec(0x10c)),currentProjectData=_0x358981[_0x4a3dec(0x1a2)](),projectTitle['textContent']=currentProjectData[_0x4a3dec(0x332)],projectIdDisplay[_0x4a3dec(0x1d4)]=_0x3aeda1;const _0x54c843=currentProjectData[_0x4a3dec(0x262)]||{};document[_0x4a3dec(0x633)]('shuffle-setting-select')[_0x4a3dec(0x411)]=_0x54c843[_0x4a3dec(0x4f1)]||_0x4a3dec(0x19e);const _0x22b551=document[_0x4a3dec(0x633)](_0x4a3dec(0x697));_0x22b551[_0x4a3dec(0x4d8)]=_0x54c843['showInStudentDashboard']!==![];const _0x33e2bf=document[_0x4a3dec(0x633)](_0x4a3dec(0x5cf)),_0x3a8e99=document['getElementById']('passcode-input-container'),_0x569921=document[_0x4a3dec(0x633)](_0x4a3dec(0x32b)),_0x2acaaf=_0x54c843[_0x4a3dec(0x3aa)]||![];_0x33e2bf[_0x4a3dec(0x4d8)]=_0x2acaaf,_0x569921[_0x4a3dec(0x411)]=_0x54c843['passcode']||'',_0x3a8e99[_0x4a3dec(0x1a4)][_0x4a3dec(0x55f)](_0x4a3dec(0x10c),!_0x2acaaf),_0x33e2bf[_0x4a3dec(0x8aa)]=()=>{const _0x5e3835=_0x4a3dec;_0x3a8e99['classList'][_0x5e3835(0x55f)]('hidden',!_0x33e2bf['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x3aeda1),listenForProjectQuizzes(_0x3aeda1),listenForStudentProfiles(_0x3aeda1);}else showMessage('ไม่พบโปรเจค'),showView(_0x4a3dec(0x65e));}async function handleResetProjectOrder(){const _0xbcf7d0=_0x433974,_0x5db47f=doc(db,'globalSettings',_0xbcf7d0(0x3bb));try{await setDoc(_0x5db47f,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x40fc1a){console[_0xbcf7d0(0x6ee)](_0xbcf7d0(0x51f),_0x40fc1a),showMessage(_0xbcf7d0(0x503));}}async function handleTogglePinProject(_0x4a42c9){const _0x26ea62=_0x433974;if(!_0x4a42c9)return;const _0xd4cfa9=doc(db,_0x26ea62(0x2c6)+appId+_0x26ea62(0x528),_0x4a42c9);try{const _0x3b2fda=await getDoc(_0xd4cfa9);if(_0x3b2fda[_0x26ea62(0x660)]()){const _0x58a47b=_0x3b2fda['data']()[_0x26ea62(0x698)]||![];await updateDoc(_0xd4cfa9,{'isPinned':!_0x58a47b});}}catch(_0x402b93){console[_0x26ea62(0x6ee)](_0x26ea62(0x525),_0x402b93),showMessage(_0x26ea62(0x54a));}}async function handleDeleteProject(_0x4f933b){const _0x4ae3b3=_0x433974;try{const _0x4c0403=writeBatch(db),_0x3ef6c9=collection(db,'artifacts/'+appId+_0x4ae3b3(0x506)),_0x2c889f=query(_0x3ef6c9,where(_0x4ae3b3(0x2be),'==',_0x4f933b)),_0x57502f=await getDocs(_0x2c889f);for(const _0x262edc of _0x57502f[_0x4ae3b3(0x600)]){const _0x10575b=collection(db,_0x4ae3b3(0x2c6)+appId+'/public/data/quizzes/'+_0x262edc['id']+_0x4ae3b3(0x424)),_0x446301=await getDocs(_0x10575b);_0x446301[_0x4ae3b3(0x1c8)](_0x54a7c7=>{const _0xce583=_0x4ae3b3;_0x4c0403[_0xce583(0x5a6)](_0x54a7c7['ref']);}),_0x4c0403[_0x4ae3b3(0x5a6)](_0x262edc[_0x4ae3b3(0x575)]);}const _0x14b476=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x4f933b+_0x4ae3b3(0x6c4)),_0x58f71b=await getDocs(_0x14b476);_0x58f71b[_0x4ae3b3(0x1c8)](_0x5dccce=>{_0x4c0403['delete'](_0x5dccce['ref']);});const _0x4aa8c1=doc(db,_0x4ae3b3(0x2c6)+appId+_0x4ae3b3(0x528),_0x4f933b);_0x4c0403[_0x4ae3b3(0x5a6)](_0x4aa8c1),await _0x4c0403['commit'](),showMessage(_0x4ae3b3(0x631)),showView(_0x4ae3b3(0x65e));}catch(_0x24f3a1){console['error'](_0x4ae3b3(0x786),_0x24f3a1),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document['getElementById'](_0x433974(0x3e4))[_0x433974(0x3b9)](_0x433974(0x864),async()=>{const _0x576fd6=_0x433974;if(!currentProjectId)return;const _0x1709b8={'defaultNumQuestions':parseInt(document['getElementById']('num-questions')['value']),'defaultNumChoices':parseInt(document[_0x576fd6(0x633)](_0x576fd6(0x498))[_0x576fd6(0x411)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')[_0x576fd6(0x411)]),'resultsDisplay':document[_0x576fd6(0x633)](_0x576fd6(0x21e))[_0x576fd6(0x411)],'shuffleSetting':document['getElementById'](_0x576fd6(0x3b5))[_0x576fd6(0x411)],'timerMode':document[_0x576fd6(0x633)](_0x576fd6(0x4a3))[_0x576fd6(0x411)],'timerDuration':parseInt(document[_0x576fd6(0x633)](_0x576fd6(0x2d2))[_0x576fd6(0x411)])};try{const _0x317492=doc(db,_0x576fd6(0x2c6)+appId+_0x576fd6(0x528),currentProjectId);await updateDoc(_0x317492,{'settings':_0x1709b8}),showMessage(_0x576fd6(0x214));}catch(_0x233c0b){console[_0x576fd6(0x6ee)]('Error\x20saving\x20settings:',_0x233c0b),showMessage(_0x576fd6(0x2ed));}});function listenForStudents(_0x56f890){const _0x27cf03=_0x433974,_0x3c2d40=doc(db,_0x27cf03(0x2c6)+appId+_0x27cf03(0x528),_0x56f890);unsubscribeStudentsListener=onSnapshot(_0x3c2d40,_0x547f66=>{if(_0x547f66['exists']()){const _0x5323b4=_0x547f66['data']();currentProjectData=_0x5323b4,renderStudentList(_0x5323b4['students']||[]);}});}function renderStudentList(_0x413741){const _0x38c89d=_0x433974,_0x3cbcea=document[_0x38c89d(0x633)](_0x38c89d(0x346));_0x413741[_0x38c89d(0x31c)]===0x0?(studentList[_0x38c89d(0x5fb)]=_0x38c89d(0x7ac),_0x3cbcea[_0x38c89d(0x1a4)][_0x38c89d(0x10f)](_0x38c89d(0x10c))):(studentList[_0x38c89d(0x5fb)]=_0x413741[_0x38c89d(0x844)](_0x5645ff=>_0x38c89d(0x375)+_0x5645ff+_0x38c89d(0x272)+_0x5645ff+_0x38c89d(0x2ac))[_0x38c89d(0x63c)](''),_0x3cbcea[_0x38c89d(0x1a4)][_0x38c89d(0x33c)]('hidden'));}document[_0x433974(0x633)]('add-student-btn')[_0x433974(0x3b9)]('click',async()=>{const _0x59ec3e=_0x433974;if(!currentProjectId)return;const _0xb71eda=document[_0x59ec3e(0x633)](_0x59ec3e(0x52f)),_0x4f2f88=_0xb71eda[_0x59ec3e(0x411)]['trim']();if(!_0x4f2f88){showMessage(_0x59ec3e(0x140));return;}const _0x25f941=_0x4f2f88[_0x59ec3e(0x360)]('\x0a')[_0x59ec3e(0x844)](_0x29f8ab=>_0x29f8ab[_0x59ec3e(0x882)]())[_0x59ec3e(0x622)](_0x38df49=>_0x38df49);if(_0x25f941[_0x59ec3e(0x31c)]===0x0)return;try{const _0x2648be=doc(db,_0x59ec3e(0x2c6)+appId+'/public/data/projects',currentProjectId),_0x503f6b=await getDoc(_0x2648be);if(_0x503f6b[_0x59ec3e(0x660)]()){const _0x4e99f8=_0x503f6b[_0x59ec3e(0x1a2)]()['students']||[],_0x4738ee=[...new Set([..._0x4e99f8,..._0x25f941])];await updateDoc(_0x2648be,{'students':_0x4738ee}),_0xb71eda['value']='';}}catch(_0x3fcb85){console[_0x59ec3e(0x6ee)]('Error\x20adding\x20students:',_0x3fcb85),showMessage(_0x59ec3e(0x5c2));}});async function handleManualQuizPairing(_0x149786){const _0x69c04d=_0x433974,_0x2ac7eb=document[_0x69c04d(0x633)](_0x69c04d(0x5c9)),_0x250706=document[_0x69c04d(0x633)]('move-quiz-project-select'),_0x49ff8b=_0x2ac7eb[_0x69c04d(0x3fa)]('h3'),_0x4b9293=document[_0x69c04d(0x633)](_0x69c04d(0x752)),_0x10cef1=document[_0x69c04d(0x633)](_0x69c04d(0x25a));_0x49ff8b[_0x69c04d(0x1d4)]=_0x69c04d(0x821),_0x250706[_0x69c04d(0x5fb)]=_0x69c04d(0x7b0),_0x4b9293[_0x69c04d(0x1d4)]='ยืนยันการจับคู่',_0x2ac7eb[_0x69c04d(0x1a4)]['remove'](_0x69c04d(0x10c));const _0x49a559=allQuizzes[_0x69c04d(0x622)](_0x4ad722=>_0x4ad722['id']!==_0x149786);_0x49a559['length']===0x0?(_0x250706['innerHTML']=_0x69c04d(0x28b),_0x4b9293[_0x69c04d(0x6b0)]=!![]):(_0x250706[_0x69c04d(0x5fb)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x49a559[_0x69c04d(0x844)](_0x11089d=>_0x69c04d(0x655)+_0x11089d['id']+'\x22>'+_0x11089d[_0x69c04d(0x158)]+_0x69c04d(0x535))[_0x69c04d(0x63c)](''),_0x4b9293[_0x69c04d(0x6b0)]=![]);const _0x45d559=async()=>{const _0x41c7a7=_0x69c04d,_0x9bb36c=_0x250706[_0x41c7a7(0x411)];if(!_0x9bb36c){showMessage(_0x41c7a7(0x223));return;}_0x4b9293[_0x41c7a7(0x6b0)]=!![],_0x4b9293['textContent']=_0x41c7a7(0x1de);try{const _0x5736ec=doc(db,'artifacts/'+appId+_0x41c7a7(0x506),_0x149786),_0x37b2a5=doc(db,_0x41c7a7(0x2c6)+appId+_0x41c7a7(0x506),_0x9bb36c),_0x1e9a0b=writeBatch(db);_0x1e9a0b[_0x41c7a7(0x86d)](_0x5736ec,{'pairedQuizId':_0x9bb36c}),_0x1e9a0b['update'](_0x37b2a5,{'pairedQuizId':_0x149786}),await _0x1e9a0b[_0x41c7a7(0x80b)](),showMessage(_0x41c7a7(0x376)),_0x2ac7eb['classList'][_0x41c7a7(0x10f)](_0x41c7a7(0x10c));}catch(_0x5c23a9){console[_0x41c7a7(0x6ee)](_0x41c7a7(0x771),_0x5c23a9),showMessage(_0x41c7a7(0x5c3));}finally{_0x49ff8b[_0x41c7a7(0x1d4)]=_0x41c7a7(0x2fb),_0x4b9293[_0x41c7a7(0x1d4)]=_0x41c7a7(0x3e3),_0x4b9293[_0x41c7a7(0x6b0)]=![],_0x4b9293['removeEventListener'](_0x41c7a7(0x864),_0x45d559),_0x10cef1[_0x41c7a7(0x4eb)]('click',_0x51af15);}},_0x51af15=()=>{const _0x29ceca=_0x69c04d;_0x2ac7eb[_0x29ceca(0x1a4)]['add'](_0x29ceca(0x10c)),_0x49ff8b['textContent']=_0x29ceca(0x2fb),_0x4b9293[_0x29ceca(0x1d4)]=_0x29ceca(0x3e3),_0x4b9293[_0x29ceca(0x4eb)](_0x29ceca(0x864),_0x45d559),_0x10cef1[_0x29ceca(0x4eb)](_0x29ceca(0x864),_0x51af15);};_0x4b9293[_0x69c04d(0x3b9)]('click',_0x45d559),_0x10cef1[_0x69c04d(0x3b9)](_0x69c04d(0x864),_0x51af15);}function handleDeleteStudent(_0x5e773f){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x5e773f+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x568259=_0x300c;if(!currentProjectId||!currentProjectData)return;const _0xfba8ca=currentProjectData[_0x568259(0x647)][_0x568259(0x622)](_0x4b0150=>_0x4b0150!==_0x5e773f);try{const _0x27128d=doc(db,_0x568259(0x2c6)+appId+_0x568259(0x528),currentProjectId),_0x1507b0=doc(db,_0x568259(0x2c6)+appId+_0x568259(0x18c)+currentProjectId+_0x568259(0x6c4),_0x5e773f),_0x1e9924=writeBatch(db);_0x1e9924['update'](_0x27128d,{'students':_0xfba8ca}),_0x1e9924['delete'](_0x1507b0),await _0x1e9924[_0x568259(0x80b)]();}catch(_0x212227){console['error']('Error\x20deleting\x20student:',_0x212227),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x296c0e=_0x433974;showConfirmation(_0x296c0e(0x3e7),async()=>{const _0x4dc8cb=_0x296c0e;if(!currentProjectId)return;try{const _0x252786=doc(db,_0x4dc8cb(0x2c6)+appId+_0x4dc8cb(0x528),currentProjectId),_0x1075ef=collection(db,_0x4dc8cb(0x2c6)+appId+'/public/data/projects/'+currentProjectId+_0x4dc8cb(0x6c4)),_0x57192b=await getDocs(_0x1075ef),_0x8ee30a=writeBatch(db);_0x8ee30a[_0x4dc8cb(0x86d)](_0x252786,{'students':[]}),_0x57192b[_0x4dc8cb(0x1c8)](_0x6c4a2b=>_0x8ee30a[_0x4dc8cb(0x5a6)](_0x6c4a2b[_0x4dc8cb(0x575)])),await _0x8ee30a[_0x4dc8cb(0x80b)]();}catch(_0x2caaa6){console['error'](_0x4dc8cb(0x2cb),_0x2caaa6),showMessage(_0x4dc8cb(0x3b4));}});}async function handleGenerateFromFileClick(){const _0x11d73e=_0x433974;if(!selectedFile){showMessage(_0x11d73e(0x1c1));return;}const _0x130f8b=document[_0x11d73e(0x633)](_0x11d73e(0x233)),_0x5c90ae=document[_0x11d73e(0x633)](_0x11d73e(0x1ec)),_0x4bd667=document[_0x11d73e(0x633)]('generated-quiz-container'),_0x1bb39a=document['getElementById']('generate-from-file-btn');_0x1bb39a['disabled']=!![],document['getElementById']('quiz-generation-area')['classList']['remove'](_0x11d73e(0x10c)),_0x4bd667[_0x11d73e(0x5fb)]='',_0x130f8b[_0x11d73e(0x1a4)]['remove'](_0x11d73e(0x10c)),_0x5c90ae[_0x11d73e(0x1d4)]=_0x11d73e(0x221);const _0x233502=new FileReader();_0x233502[_0x11d73e(0x31b)](selectedFile),_0x233502['onload']=async()=>{const _0x28f347=_0x11d73e;try{const _0x2ff3c3=_0x233502[_0x28f347(0x62f)][_0x28f347(0x360)](',')[0x1],_0x517d20=selectedFile[_0x28f347(0x511)];await generateQuizFromFile(_0x517d20,_0x2ff3c3);}catch(_0x420693){console[_0x28f347(0x6ee)](_0x28f347(0x154),_0x420693),showMessage(_0x28f347(0x167)+_0x420693[_0x28f347(0x64a)]),_0x130f8b[_0x28f347(0x1a4)][_0x28f347(0x10f)](_0x28f347(0x10c));}finally{}},_0x233502['onerror']=_0x125183=>{const _0x692cd7=_0x11d73e;console[_0x692cd7(0x6ee)](_0x692cd7(0x1a5),_0x125183),showMessage(_0x692cd7(0x206)),_0x130f8b[_0x692cd7(0x1a4)][_0x692cd7(0x10f)]('hidden'),_0x1bb39a[_0x692cd7(0x6b0)]=![];};}function autoFormatMath(_0x33315e){const _0x5cca8e=_0x433974;if(typeof _0x33315e!=='string'||!_0x33315e)return _0x33315e;const _0x50b0b8=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x45747f=_0x33315e[_0x5cca8e(0x1f2)](_0x50b0b8,_0x3fdc11=>{const _0x1b9b34=_0x5cca8e;return'$'+_0x3fdc11[_0x1b9b34(0x882)]()+'$';});return _0x45747f;}function sanitizeQuizData(_0x6b32e7){const _0x222c15=_0x433974;if(!_0x6b32e7||!_0x6b32e7['questions'])return _0x6b32e7;const _0x27807f={'imes':_0x222c15(0x5ef),'div':_0x222c15(0x341)},_0x329f1c=_0x1ae382=>{const _0x287832=_0x222c15;if(typeof _0x1ae382!=='string')return _0x1ae382;let _0x344442=_0x1ae382;for(const [_0x16f903,_0x1fa78d]of Object[_0x287832(0x54b)](_0x27807f)){const _0x5b2763=new RegExp('\x5cb'+_0x16f903+'\x5cb','g');_0x344442=_0x344442[_0x287832(0x1f2)](_0x5b2763,_0x1fa78d);}return _0x344442=_0x344442[_0x287832(0x1f2)](/\\\//g,_0x287832(0x341)),_0x344442=_0x344442[_0x287832(0x1f2)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x287832(0x1f2)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x287832(0x5ef))[_0x287832(0x1f2)](/÷/g,'\x5cdiv')[_0x287832(0x1f2)](/×/g,_0x287832(0x5ef)),_0x344442=_0x344442[_0x287832(0x1f2)](/(\d)(\\frac)/g,_0x287832(0x50b)),_0x344442=autoFormatMath(_0x344442),_0x344442;};return _0x6b32e7['topic']&&(_0x6b32e7[_0x222c15(0x158)]=_0x329f1c(_0x6b32e7[_0x222c15(0x158)])),_0x6b32e7['questions'][_0x222c15(0x1c8)](_0x1d26f5=>{const _0x1b4c13=_0x222c15;_0x1d26f5[_0x1b4c13(0x84f)]=_0x329f1c(_0x1d26f5[_0x1b4c13(0x84f)]),_0x1d26f5[_0x1b4c13(0x482)]&&(_0x1d26f5['options']=_0x1d26f5[_0x1b4c13(0x482)][_0x1b4c13(0x844)](_0x329f1c)),_0x1d26f5[_0x1b4c13(0x6b3)]&&(_0x1d26f5[_0x1b4c13(0x6b3)]=_0x329f1c(_0x1d26f5[_0x1b4c13(0x6b3)])),_0x1d26f5[_0x1b4c13(0x114)]&&(_0x1d26f5[_0x1b4c13(0x114)]=_0x329f1c(_0x1d26f5['stem'])),_0x1d26f5[_0x1b4c13(0x25c)]&&(_0x1d26f5['correctResponse']=_0x329f1c(_0x1d26f5[_0x1b4c13(0x25c)])),_0x1d26f5[_0x1b4c13(0x850)]&&(_0x1d26f5[_0x1b4c13(0x850)]=_0x1d26f5[_0x1b4c13(0x850)][_0x1b4c13(0x844)](_0x329f1c));}),_0x6b32e7;}const simpleMathPrompt=_0x433974(0x4f2);async function handleGenerateFromLink(){const _0x5c31c0=_0x433974,_0x4e744c=document[_0x5c31c0(0x633)](_0x5c31c0(0x112)),_0x420363=document['getElementById']('link-topic-input'),_0x519660=_0x4e744c[_0x5c31c0(0x411)][_0x5c31c0(0x882)](),_0x4b779c=_0x420363[_0x5c31c0(0x411)][_0x5c31c0(0x882)]();if(!_0x519660){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x1f9693=document[_0x5c31c0(0x633)]('loader'),_0x261acd=document[_0x5c31c0(0x633)]('loader-text'),_0x511431=document[_0x5c31c0(0x633)](_0x5c31c0(0x520)),_0x1a5097=document['getElementById'](_0x5c31c0(0x453));document[_0x5c31c0(0x633)](_0x5c31c0(0x384))['classList']['remove'](_0x5c31c0(0x10c)),_0x511431[_0x5c31c0(0x5fb)]='',_0x1f9693[_0x5c31c0(0x1a4)][_0x5c31c0(0x33c)](_0x5c31c0(0x10c)),_0x261acd[_0x5c31c0(0x1d4)]=_0x5c31c0(0x18a),_0x1a5097['disabled']=!![];try{const _0x4b6e04='https://corsproxy.io/?'+encodeURIComponent(_0x519660),_0x33bfc1=await fetch(_0x4b6e04);if(!_0x33bfc1['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x33bfc1[_0x5c31c0(0x21b)]+')');const _0x116355=await _0x33bfc1[_0x5c31c0(0x85f)](),_0x971df0=extractTextFromHtml(_0x116355);if(!_0x971df0||_0x971df0[_0x5c31c0(0x31c)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x4b779c,_0x971df0);}catch(_0x5ca242){console[_0x5c31c0(0x6ee)](_0x5c31c0(0x667),_0x5ca242),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5ca242[_0x5c31c0(0x64a)]),_0x511431[_0x5c31c0(0x5fb)]=_0x5c31c0(0x4a8);}finally{_0x1f9693['classList']['add'](_0x5c31c0(0x10c)),_0x1a5097['disabled']=![];}}function extractTextFromHtml(_0x3afa99){const _0x4197c8=_0x433974,_0x2af91f=new DOMParser()[_0x4197c8(0x265)](_0x3afa99,'text/html');return _0x2af91f[_0x4197c8(0x6a8)](_0x4197c8(0x5b8))[_0x4197c8(0x1c8)](_0x81794d=>_0x81794d[_0x4197c8(0x33c)]()),_0x2af91f[_0x4197c8(0x4d7)][_0x4197c8(0x1d4)]||'';}document['getElementById'](_0x433974(0x615))[_0x433974(0x3b9)]('click',()=>{const _0x4f4d9a=_0x433974,_0x374ebb=document[_0x4f4d9a(0x633)](_0x4f4d9a(0x79d))[_0x4f4d9a(0x411)]['trim']();generateQuiz(_0x374ebb,null);}),document[_0x433974(0x633)](_0x433974(0x2a8))[_0x433974(0x3b9)](_0x433974(0x864),()=>{const _0x3487c5=_0x433974,_0x2ddd7b=document[_0x3487c5(0x633)](_0x3487c5(0x465))[_0x3487c5(0x411)][_0x3487c5(0x882)]();if(!_0x2ddd7b){showMessage(_0x3487c5(0x2bd));return;}const _0x543532=document['getElementById']('topic-input')[_0x3487c5(0x411)][_0x3487c5(0x882)]();generateQuiz(_0x543532,_0x2ddd7b);});async function generateQuiz(_0x5af18f,_0x20a30f,_0x172b8a=null){const _0x59c9f7=_0x433974,_0x3e8ca3=document['getElementById']('include-images-checkbox')[_0x59c9f7(0x4d8)],_0x255e4a=document[_0x59c9f7(0x633)](_0x59c9f7(0x2c3))[_0x59c9f7(0x411)],_0x43189a=document['getElementById'](_0x59c9f7(0x562))[_0x59c9f7(0x411)],_0x4a7d5d=document[_0x59c9f7(0x633)](_0x59c9f7(0x498))[_0x59c9f7(0x411)],_0xac755c=document[_0x59c9f7(0x633)](_0x59c9f7(0x2f6))[_0x59c9f7(0x4d8)],_0xfdfd33=_0xac755c?'':'คณิตศาสตร์',_0x52e1a3=document[_0x59c9f7(0x633)](_0x59c9f7(0x281)),_0x311cef=_0x52e1a3[_0x59c9f7(0x411)];let _0x3cb67e='';_0x311cef!==_0x59c9f7(0x13b)&&(_0x3cb67e=_0x59c9f7(0x6b1)+_0x311cef+'\x22');const _0x32d40e=document['getElementById'](_0x59c9f7(0x35a)),_0x54ac92=_0x32d40e[_0x59c9f7(0x411)];let _0x835d8d='';_0x54ac92!==_0x59c9f7(0x671)&&(_0x835d8d=_0x59c9f7(0x68f)+_0x54ac92+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0x3697fc=document[_0x59c9f7(0x6a8)]('#math-topics-checkbox-container\x20input:checked'),_0x29927a=Array[_0x59c9f7(0x7b8)](_0x3697fc)['map'](_0x2c37aa=>_0x2c37aa[_0x59c9f7(0x411)]);let _0x483070='';_0x29927a[_0x59c9f7(0x31c)]>0x0&&(_0x483070='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x29927a[_0x59c9f7(0x63c)](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x32ceff='',_0x5ef823='',_0x226a5d,_0x2d2dcd=_0x59c9f7(0x536)+_0x5af18f+'\x22';if(!_0x5af18f&&_0x20a30f)_0x2d2dcd='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x5af18f&&!_0x20a30f&&(_0x2d2dcd=_0x59c9f7(0x5bd));const _0x68a78c={'type':_0x59c9f7(0x831),'properties':{'questionText':{'type':_0x59c9f7(0x7ab)},'options':{'type':_0x59c9f7(0x288),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x59c9f7(0x1f3)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x59c9f7(0x7ab)}},'required':['questionText','options',_0x59c9f7(0x363),_0x59c9f7(0x6b3)]},_0x2b85fc={'type':'OBJECT','properties':{'questionText':{'type':_0x59c9f7(0x7ab)},'idealAnswer':{'type':_0x59c9f7(0x7ab)},'explanation':{'type':_0x59c9f7(0x7ab)},'imageCode':{'type':_0x59c9f7(0x7ab)}},'required':[_0x59c9f7(0x84f),_0x59c9f7(0x6eb),_0x59c9f7(0x6b3)]},_0x3ead3c={'type':_0x59c9f7(0x831),'properties':{'questionText':{'type':_0x59c9f7(0x7ab)},'questionType':{'type':_0x59c9f7(0x7ab),'enum':[_0x59c9f7(0x75a),_0x59c9f7(0x6f3)]},'options':{'type':_0x59c9f7(0x288),'items':{'type':_0x59c9f7(0x7ab)}},'correctAnswerIndex':{'type':_0x59c9f7(0x1f3)},'idealAnswer':{'type':_0x59c9f7(0x7ab)},'explanation':{'type':_0x59c9f7(0x7ab)},'imageCode':{'type':_0x59c9f7(0x7ab)}},'required':[_0x59c9f7(0x84f),'questionType',_0x59c9f7(0x6b3)]},_0x57198c={'type':_0x59c9f7(0x831),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x59c9f7(0x3a4)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x59c9f7(0x7ab)}},'required':[_0x59c9f7(0x84f),'correctAnswer',_0x59c9f7(0x6b3)]},_0x4c27f4={'type':_0x59c9f7(0x831),'properties':{'questionType':{'type':_0x59c9f7(0x7ab),'enum':[_0x59c9f7(0x39c)]},'stem':{'type':_0x59c9f7(0x7ab)},'correctResponse':{'type':_0x59c9f7(0x7ab)},'allResponses':{'type':_0x59c9f7(0x288),'items':{'type':_0x59c9f7(0x7ab)}},'explanation':{'type':_0x59c9f7(0x7ab)},'imageCode':{'type':_0x59c9f7(0x7ab)}},'required':[_0x59c9f7(0x327),_0x59c9f7(0x114),_0x59c9f7(0x25c),_0x59c9f7(0x850),'explanation']};let _0x40d351;if(_0x172b8a!==null){const _0x54560a=currentQuizData[_0x59c9f7(0x193)][_0x172b8a]['questionType'],_0x968d6e=_0x3e8ca3?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x32ceff='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x2d2dcd+'\x20'+_0x483070+'\x20'+_0x3cb67e+_0x59c9f7(0x82c)+_0x968d6e+'\x20'+simpleMathPrompt;if(_0x54560a===_0x59c9f7(0x75a))_0x226a5d=_0x68a78c;else{if(_0x54560a===_0x59c9f7(0x39c))_0x226a5d={'type':_0x59c9f7(0x831),'properties':{'questionType':{'type':_0x59c9f7(0x7ab),'enum':[_0x59c9f7(0x39c)]},'stem':{'type':_0x59c9f7(0x7ab)},'correctResponse':{'type':_0x59c9f7(0x7ab)},'explanation':{'type':_0x59c9f7(0x7ab)},'imageCode':{'type':_0x59c9f7(0x7ab)}},'required':[_0x59c9f7(0x327),_0x59c9f7(0x114),_0x59c9f7(0x25c),_0x59c9f7(0x6b3)]};else _0x226a5d=_0x2b85fc;}_0x40d351=_0x226a5d;}else{const _0xd88a48=_0x3e8ca3?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x1cd1e6=_0x59c9f7(0x846);switch(_0x255e4a){case _0x59c9f7(0x75a):_0x32ceff=_0x59c9f7(0x423)+_0xfdfd33+'\x20'+_0x43189a+_0x59c9f7(0x848)+_0x2d2dcd+'\x20'+_0x483070+'\x20'+_0x3cb67e+'\x20'+_0x835d8d+_0x59c9f7(0x213)+_0x4a7d5d+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0xd88a48+'\x20'+simpleMathPrompt,_0x226a5d=_0x68a78c;break;case _0x59c9f7(0x1b4):_0x32ceff=_0x59c9f7(0x459)+_0xfdfd33+'\x20'+_0x43189a+_0x59c9f7(0x848)+_0x2d2dcd+'\x20'+_0x483070+'\x20'+_0x3cb67e+'\x20'+_0x835d8d+_0x59c9f7(0x1f8)+_0x4a7d5d+_0x59c9f7(0x2d3)+_0xd88a48+'\x20'+simpleMathPrompt,_0x226a5d=_0x68a78c;break;case'fill_in_no_choices':_0x32ceff=_0x59c9f7(0x459)+_0xfdfd33+'\x20'+_0x43189a+_0x59c9f7(0x848)+_0x2d2dcd+'\x20'+_0x483070+'\x20'+_0x3cb67e+'\x20'+_0x835d8d+_0x59c9f7(0x867)+_0xd88a48+'\x20'+simpleMathPrompt,_0x226a5d=_0x2b85fc;break;case'mixed':_0x32ceff=_0x59c9f7(0x22c)+_0xfdfd33+'\x20'+_0x43189a+_0x59c9f7(0x848)+_0x2d2dcd+'\x20'+_0x483070+'\x20'+_0x3cb67e+'\x20'+_0x835d8d+_0x59c9f7(0x83d)+_0x4a7d5d+_0x59c9f7(0x890)+_0xd88a48+'\x20'+simpleMathPrompt+'.',_0x226a5d=_0x3ead3c;break;case _0x59c9f7(0x797):_0x32ceff=_0x59c9f7(0x45c)+_0xfdfd33+'\x20'+_0x43189a+_0x59c9f7(0x848)+_0x2d2dcd+'\x20'+_0x483070+'\x20'+_0x3cb67e+'\x20'+_0x835d8d+_0x59c9f7(0x823)+_0xd88a48+'\x20'+simpleMathPrompt,_0x226a5d=_0x57198c;break;case _0x59c9f7(0x2f4):_0x32ceff=_0x59c9f7(0x6a4)+_0xfdfd33+'\x20'+_0x43189a+_0x59c9f7(0x876)+_0x2d2dcd+'\x20'+_0x483070+'\x20'+_0x3cb67e+'\x20'+_0x835d8d+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0xd88a48+'\x20'+simpleMathPrompt,_0x226a5d=_0x4c27f4;break;}_0x40d351={'type':_0x59c9f7(0x831),'properties':{'topic':{'type':_0x59c9f7(0x7ab)},'questions':{'type':_0x59c9f7(0x288),'items':_0x226a5d}},'required':['topic',_0x59c9f7(0x193)]};}return _0x20a30f?(_0x32ceff=_0x59c9f7(0x507)+_0x20a30f+_0x59c9f7(0x703)+_0x32ceff,_0x5ef823=_0x59c9f7(0x253)):_0x5ef823=_0x59c9f7(0x73f),handleApiCall(_0x32ceff,_0x5ef823,_0x40d351,_0x172b8a);}async function generateQuizFromFile(_0x3c9259,_0x3bfe82){const _0x39c3f7=_0x433974,_0x3ba8f0=document['getElementById'](_0x39c3f7(0x809))['value'][_0x39c3f7(0x882)](),_0x33f5d9=document[_0x39c3f7(0x633)](_0x39c3f7(0x2c3))[_0x39c3f7(0x411)],_0x5d0b1e=document[_0x39c3f7(0x633)](_0x39c3f7(0x562))['value'],_0x4f5bf3=document[_0x39c3f7(0x633)](_0x39c3f7(0x498))[_0x39c3f7(0x411)],_0x359a17=document[_0x39c3f7(0x633)](_0x39c3f7(0x778))[_0x39c3f7(0x4d8)],_0x53ba87=document[_0x39c3f7(0x633)](_0x39c3f7(0x2f6))[_0x39c3f7(0x4d8)],_0xf26130=_0x53ba87?'':_0x39c3f7(0x87f);let _0x2630ea='',_0x179b2e,_0x536e44='เกี่ยวกับหัวข้อ\x20\x22'+_0x3ba8f0+'\x22';!_0x3ba8f0&&(_0x536e44=_0x39c3f7(0x117));const _0x2f4525=_0x359a17?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x33f5d9){case _0x39c3f7(0x75a):_0x2630ea=_0x39c3f7(0x423)+_0xf26130+'\x20'+_0x5d0b1e+'\x20ข้อ\x20'+_0x536e44+_0x39c3f7(0x213)+_0x4f5bf3+_0x39c3f7(0x196)+_0x2f4525+'\x20'+simpleMathPrompt,_0x179b2e={'type':_0x39c3f7(0x831),'properties':{'questionText':{'type':_0x39c3f7(0x7ab)},'options':{'type':'ARRAY','items':{'type':_0x39c3f7(0x7ab)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x39c3f7(0x7ab)},'imageCode':{'type':_0x39c3f7(0x7ab)}},'required':[_0x39c3f7(0x84f),'options',_0x39c3f7(0x363),_0x39c3f7(0x6b3)]};break;case _0x39c3f7(0x1b4):_0x2630ea=_0x39c3f7(0x459)+_0xf26130+'\x20'+_0x5d0b1e+_0x39c3f7(0x848)+_0x536e44+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x4f5bf3+_0x39c3f7(0x2d3)+_0x2f4525+'\x20'+simpleMathPrompt,_0x179b2e={'type':_0x39c3f7(0x831),'properties':{'questionText':{'type':_0x39c3f7(0x7ab)},'options':{'type':_0x39c3f7(0x288),'items':{'type':_0x39c3f7(0x7ab)}},'correctAnswerIndex':{'type':_0x39c3f7(0x1f3)},'explanation':{'type':_0x39c3f7(0x7ab)},'imageCode':{'type':_0x39c3f7(0x7ab)}},'required':['questionText','options','correctAnswerIndex',_0x39c3f7(0x6b3)]};break;case _0x39c3f7(0x50a):_0x2630ea=_0x39c3f7(0x459)+_0xf26130+'\x20'+_0x5d0b1e+'\x20ข้อ\x20'+_0x536e44+_0x39c3f7(0x867)+_0x2f4525+'\x20'+simpleMathPrompt,_0x179b2e={'type':_0x39c3f7(0x831),'properties':{'questionText':{'type':_0x39c3f7(0x7ab)},'idealAnswer':{'type':_0x39c3f7(0x7ab)},'explanation':{'type':_0x39c3f7(0x7ab)},'imageCode':{'type':'STRING'}},'required':[_0x39c3f7(0x84f),_0x39c3f7(0x6eb),_0x39c3f7(0x6b3)]};break;case _0x39c3f7(0x671):_0x2630ea=_0x39c3f7(0x22c)+_0xf26130+'\x20'+_0x5d0b1e+_0x39c3f7(0x848)+_0x536e44+_0x39c3f7(0x591)+_0x4f5bf3+_0x39c3f7(0x890)+_0x2f4525+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x179b2e={'type':'OBJECT','properties':{'questionText':{'type':_0x39c3f7(0x7ab)},'questionType':{'type':_0x39c3f7(0x7ab),'enum':[_0x39c3f7(0x75a),_0x39c3f7(0x6f3)]},'options':{'type':_0x39c3f7(0x288),'items':{'type':_0x39c3f7(0x7ab)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x39c3f7(0x7ab)},'explanation':{'type':_0x39c3f7(0x7ab)},'imageCode':{'type':_0x39c3f7(0x7ab)}},'required':[_0x39c3f7(0x84f),'questionType','explanation']};break;case _0x39c3f7(0x797):_0x2630ea='สร้างคำถามแบบใช่/ไม่ใช่'+_0xf26130+'\x20'+_0x5d0b1e+_0x39c3f7(0x848)+_0x536e44+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2f4525+'\x20'+simpleMathPrompt,_0x179b2e={'type':'OBJECT','properties':{'questionText':{'type':_0x39c3f7(0x7ab)},'correctAnswer':{'type':_0x39c3f7(0x3a4)},'explanation':{'type':_0x39c3f7(0x7ab)},'imageCode':{'type':_0x39c3f7(0x7ab)}},'required':['questionText',_0x39c3f7(0x863),_0x39c3f7(0x6b3)]};break;case _0x39c3f7(0x2f4):_0x2630ea=_0x39c3f7(0x6a4)+_0xf26130+'\x20'+_0x5d0b1e+_0x39c3f7(0x876)+_0x536e44+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x5d0b1e+_0x39c3f7(0x812)+_0x2f4525+'\x20'+simpleMathPrompt,_0x179b2e={'type':'OBJECT','properties':{'questionType':{'type':_0x39c3f7(0x7ab),'enum':[_0x39c3f7(0x39c)]},'stem':{'type':_0x39c3f7(0x7ab)},'correctResponse':{'type':_0x39c3f7(0x7ab)},'allResponses':{'type':_0x39c3f7(0x288),'items':{'type':_0x39c3f7(0x7ab)}},'explanation':{'type':_0x39c3f7(0x7ab)},'imageCode':{'type':_0x39c3f7(0x7ab)}},'required':[_0x39c3f7(0x327),_0x39c3f7(0x114),_0x39c3f7(0x25c),'allResponses',_0x39c3f7(0x6b3)]};break;}const _0x448826={'type':_0x39c3f7(0x831),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x39c3f7(0x288),'items':_0x179b2e}},'required':[_0x39c3f7(0x158),_0x39c3f7(0x193)]},_0x1805f7='จากไฟล์ที่แนบมานี้,\x20'+_0x2630ea,_0x10967d={'contents':[{'parts':[{'text':_0x1805f7},{'inlineData':{'mimeType':_0x3c9259,'data':_0x3bfe82}}]}],'generationConfig':{'responseMimeType':_0x39c3f7(0x42a),'responseSchema':_0x448826}};return handleApiCall(_0x10967d[_0x39c3f7(0x488)][0x0]['parts'],_0x39c3f7(0x3cd),_0x448826);}async function handleApiCall(_0x42a8a1,_0xa8401a,_0x248265,_0x4f2bce=null){const _0xfe97d0=_0x433974,_0x2f2cb5=document[_0xfe97d0(0x633)](_0xfe97d0(0x384)),_0x3066d4=document[_0xfe97d0(0x633)](_0xfe97d0(0x233)),_0x587865=document[_0xfe97d0(0x633)]('loader-text'),_0x45c3fe=document[_0xfe97d0(0x633)](_0xfe97d0(0x520));_0x2f2cb5[_0xfe97d0(0x1a4)]['remove'](_0xfe97d0(0x10c));_0x4f2bce===null&&(_0x45c3fe[_0xfe97d0(0x5fb)]='');_0x3066d4['classList'][_0xfe97d0(0x33c)](_0xfe97d0(0x10c)),_0x587865['textContent']=_0xa8401a,document['getElementById'](_0xfe97d0(0x615))['disabled']=!![],document[_0xfe97d0(0x633)](_0xfe97d0(0x2a8))['disabled']=!![],document[_0xfe97d0(0x633)]('generate-from-link-btn')[_0xfe97d0(0x6b0)]=!![];try{const _0x15cadd={'responseMimeType':_0xfe97d0(0x42a),'responseSchema':_0x248265},_0x3051c7=Array['isArray'](_0x42a8a1)?_0x42a8a1:[{'text':_0x42a8a1}],_0x1ea272={'contents':[{'role':_0xfe97d0(0x8a6),'parts':_0x3051c7}],'generationConfig':_0x15cadd},_0x307945=_0xfe97d0(0x834),_0x11c11d='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x307945,_0x5c8d05=await fetch(_0x11c11d,{'method':'POST','headers':{'Content-Type':_0xfe97d0(0x42a)},'body':JSON[_0xfe97d0(0x6b7)](_0x1ea272)});if(!_0x5c8d05['ok'])throw new Error(_0xfe97d0(0x348)+_0x5c8d05[_0xfe97d0(0x21b)]);const _0x3bd2b5=await _0x5c8d05[_0xfe97d0(0x347)]();if(_0x3bd2b5['candidates']?.[0x0]?.[_0xfe97d0(0x76a)]?.[_0xfe97d0(0x4c2)]?.[0x0]){let _0x3c69d9=_0x3bd2b5[_0xfe97d0(0x639)][0x0][_0xfe97d0(0x76a)][_0xfe97d0(0x4c2)][0x0]['text'],_0x15f2ba;try{if(_0x3c69d9['startsWith'](_0xfe97d0(0x4a5)))_0x3c69d9=_0x3c69d9[_0xfe97d0(0x31e)](0x7,_0x3c69d9[_0xfe97d0(0x31c)]-0x3)['trim']();else _0x3c69d9[_0xfe97d0(0x7f1)](_0xfe97d0(0x34a))&&(_0x3c69d9=_0x3c69d9['substring'](0x3,_0x3c69d9[_0xfe97d0(0x31c)]-0x3)[_0xfe97d0(0x882)]());_0x15f2ba=JSON[_0xfe97d0(0x7f8)](_0x3c69d9);}catch(_0x2c9e57){console[_0xfe97d0(0x6ee)](_0xfe97d0(0x802),_0x2c9e57,_0x3c69d9);throw new Error(_0xfe97d0(0x509));}if(_0x4f2bce!==null){if(_0x15f2ba[_0xfe97d0(0x327)]===_0xfe97d0(0x39c)){const _0x2013db=currentQuizData[_0xfe97d0(0x193)][_0xfe97d0(0x844)](_0x4771f3=>_0x4771f3[_0xfe97d0(0x25c)]);_0x15f2ba['allResponses']=_0x2013db;const _0x490bf7=currentQuizData['questions'][_0x4f2bce][_0xfe97d0(0x25c)],_0x28bce9=_0x2013db[_0xfe97d0(0x123)](_0x490bf7);_0x28bce9>-0x1&&(_0x2013db[_0x28bce9]=_0x15f2ba['correctResponse']),currentQuizData[_0xfe97d0(0x193)][_0xfe97d0(0x1c8)](_0x4f8800=>{const _0x1df7b7=_0xfe97d0;if(_0x4f8800[_0x1df7b7(0x327)]==='matching_item')_0x4f8800[_0x1df7b7(0x850)]=_0x2013db;});}currentQuizData['questions'][_0x4f2bce]=_0x15f2ba,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x15f2ba;const _0xe87cc0=document[_0xfe97d0(0x633)]('quiz-type-select')[_0xfe97d0(0x411)];currentQuizData[_0xfe97d0(0x5e4)]=_0xe87cc0,currentQuizData[_0xfe97d0(0x193)]&&currentQuizData[_0xfe97d0(0x193)][_0xfe97d0(0x1c8)](_0x261d2b=>{const _0x2cdd01=_0xfe97d0;if(!_0x261d2b[_0x2cdd01(0x327)]){if(_0xe87cc0===_0x2cdd01(0x1b4))_0x261d2b[_0x2cdd01(0x327)]=_0x2cdd01(0x75a);else _0xe87cc0===_0x2cdd01(0x50a)?_0x261d2b[_0x2cdd01(0x327)]=_0x2cdd01(0x6f3):_0x261d2b['questionType']=_0xe87cc0;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0xfe97d0(0x6ee)](_0xfe97d0(0x658),JSON[_0xfe97d0(0x6b7)](_0x3bd2b5));throw new Error(_0xfe97d0(0x509));}}catch(_0x283a05){console[_0xfe97d0(0x6ee)](_0xfe97d0(0x208),_0x283a05),showMessage(_0xfe97d0(0x5e9)),_0x4f2bce===null&&(_0x45c3fe[_0xfe97d0(0x5fb)]=_0xfe97d0(0x110));}finally{_0x3066d4[_0xfe97d0(0x1a4)]['add'](_0xfe97d0(0x10c)),document[_0xfe97d0(0x633)]('generate-from-topic-btn')[_0xfe97d0(0x6b0)]=![],document[_0xfe97d0(0x633)]('generate-from-text-btn')[_0xfe97d0(0x6b0)]=![],document['getElementById'](_0xfe97d0(0x453))['disabled']=![];const _0x3d4e33=document['getElementById']('generate-from-file-btn');_0x3d4e33&&(_0x3d4e33[_0xfe97d0(0x6b0)]=![]);}}function exitFullscreen(){const _0x43d124=_0x433974;if(document['exitFullscreen'])document[_0x43d124(0x646)]()[_0x43d124(0x26f)](_0x3b5fba=>console[_0x43d124(0x6ee)](_0x3b5fba));else{if(document[_0x43d124(0x556)])document[_0x43d124(0x556)]();else document[_0x43d124(0x397)]&&document[_0x43d124(0x397)]();}}function enterFullscreen(){const _0x4c6c60=_0x433974,_0x429d85=document[_0x4c6c60(0x32c)];if(_0x429d85[_0x4c6c60(0x20d)])_0x429d85[_0x4c6c60(0x20d)]()[_0x4c6c60(0x26f)](_0xa550ae=>{const _0xd5332b=_0x4c6c60;console[_0xd5332b(0x6ee)](_0xd5332b(0x354)+_0xa550ae[_0xd5332b(0x64a)]+'\x20('+_0xa550ae[_0xd5332b(0x3ab)]+')');});else{if(_0x429d85[_0x4c6c60(0x1df)])_0x429d85[_0x4c6c60(0x1df)]();else _0x429d85[_0x4c6c60(0x884)]&&_0x429d85[_0x4c6c60(0x884)]();}}function handleVisibilityChange(){const _0x2ba6d8=_0x433974;if(currentMode==='admin-testing')return;isQuizActive&&document[_0x2ba6d8(0x66f)]==='hidden'&&(cheatAttempts++,logBehaviorEvent(_0x2ba6d8(0x164),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการสลับหน้าจอครบ\x20'+maxCheatAttempts+_0x2ba6d8(0x898)),document[_0x2ba6d8(0x633)](_0x2ba6d8(0x550))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x2ba6d8(0x6dd),handleVisibilityChange),document[_0x2ba6d8(0x4eb)](_0x2ba6d8(0x2ca),handleFullscreenChange)):showMessage(_0x2ba6d8(0x248)+cheatAttempts+'/'+maxCheatAttempts+_0x2ba6d8(0x245)));}function handleFullscreenChange(){const _0x944d40=_0x433974;if(currentMode==='admin-testing')return;!document[_0x944d40(0x294)]&&isQuizActive&&(cheatAttempts++,logBehaviorEvent('exited_fullscreen',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากโหมดเต็มหน้าจอครบ\x20'+maxCheatAttempts+_0x944d40(0x898)),document[_0x944d40(0x633)](_0x944d40(0x550))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x944d40(0x4eb)](_0x944d40(0x2ca),handleFullscreenChange)):showMessage(_0x944d40(0x248)+cheatAttempts+'/'+maxCheatAttempts+_0x944d40(0x249),enterFullscreen));}function displayGeneratedQuiz(_0xb2f538){const _0x4cc374=_0x433974,_0x2f2f42=document['getElementById']('generated-quiz-container');let _0x3387cb=_0x4cc374(0x412)+_0xb2f538[_0x4cc374(0x158)]+_0x4cc374(0x31a);_0xb2f538[_0x4cc374(0x193)][_0x4cc374(0x1c8)]((_0xdeae12,_0x34bcd8)=>{const _0x55ed8f=_0x4cc374;!_0xdeae12['id']&&(_0xdeae12['id']='q_'+Date[_0x55ed8f(0x2ec)]()+'_'+_0x34bcd8);const _0x3a5f18=_0xdeae12[_0x55ed8f(0x327)]||_0xb2f538[_0x55ed8f(0x5e4)];_0x3387cb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x34bcd8+_0x55ed8f(0x689)+_0x34bcd8+_0x55ed8f(0x451)+_0x34bcd8+_0x55ed8f(0x353)+_0x34bcd8+_0x55ed8f(0x56d);switch(_0x3a5f18){case _0x55ed8f(0x39c):_0x3387cb+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x34bcd8+'\x22>'+(_0x34bcd8+0x1)+'.\x20'+_0xdeae12[_0x55ed8f(0x114)]+_0x55ed8f(0x69c);_0xdeae12[_0x55ed8f(0x20a)]&&(_0x3387cb+=_0x55ed8f(0x76e)+_0x34bcd8+_0x55ed8f(0x51e)+_0xdeae12[_0x55ed8f(0x20a)]+_0x55ed8f(0x290));_0x3387cb+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x34bcd8+'\x22>'+_0xdeae12['correctResponse']+_0x55ed8f(0x753),_0x3387cb+=_0x55ed8f(0x5c7)+_0x34bcd8+'\x22>'+_0xdeae12['explanation']+'</span></div>';break;case _0x55ed8f(0x6f3):_0x3387cb+=_0x55ed8f(0x405)+_0x34bcd8+'\x22>'+(_0x34bcd8+0x1)+'.\x20'+_0xdeae12[_0x55ed8f(0x84f)]+_0x55ed8f(0x69c);_0xdeae12[_0x55ed8f(0x20a)]&&(_0x3387cb+=_0x55ed8f(0x76e)+_0x34bcd8+_0x55ed8f(0x51e)+_0xdeae12[_0x55ed8f(0x20a)]+_0x55ed8f(0x290));_0x3387cb+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x34bcd8+'\x22>'+_0xdeae12[_0x55ed8f(0x6eb)]+_0x55ed8f(0x753),_0x3387cb+=_0x55ed8f(0x5c7)+_0x34bcd8+'\x22>'+_0xdeae12['explanation']+_0x55ed8f(0x753);break;case _0x55ed8f(0x797):_0x3387cb+=_0x55ed8f(0x405)+_0x34bcd8+'\x22>'+(_0x34bcd8+0x1)+'.\x20'+_0xdeae12[_0x55ed8f(0x84f)]+_0x55ed8f(0x69c);_0xdeae12[_0x55ed8f(0x20a)]&&(_0x3387cb+='<div\x20id=\x22q-image-container-'+_0x34bcd8+_0x55ed8f(0x51e)+_0xdeae12[_0x55ed8f(0x20a)]+_0x55ed8f(0x290));_0x3387cb+=_0x55ed8f(0x6f9)+(_0xdeae12[_0x55ed8f(0x863)]===!![]?'text-green-600\x20font-bold':'')+_0x55ed8f(0x25d)+(_0xdeae12[_0x55ed8f(0x863)]===![]?_0x55ed8f(0x186):'')+_0x55ed8f(0x45a),_0x3387cb+=_0x55ed8f(0x5c7)+_0x34bcd8+'\x22>'+_0xdeae12[_0x55ed8f(0x6b3)]+_0x55ed8f(0x753);break;case _0x55ed8f(0x29e):case _0x55ed8f(0x75a):default:_0x3387cb+=_0x55ed8f(0x405)+_0x34bcd8+'\x22>'+(_0x34bcd8+0x1)+'.\x20'+_0xdeae12[_0x55ed8f(0x84f)]+_0x55ed8f(0x69c);_0xdeae12[_0x55ed8f(0x20a)]&&(_0x3387cb+='<div\x20id=\x22q-image-container-'+_0x34bcd8+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xdeae12['imageCode']+_0x55ed8f(0x290));_0x3387cb+=_0x55ed8f(0x637)+_0x34bcd8+_0x55ed8f(0x627)+_0xdeae12[_0x55ed8f(0x482)][_0x55ed8f(0x844)]((_0x57c4ba,_0x1d8ff3)=>_0x55ed8f(0x839)+(_0x1d8ff3===_0xdeae12[_0x55ed8f(0x363)]?_0x55ed8f(0x186):'')+'\x22>'+_0x57c4ba+_0x55ed8f(0x787))[_0x55ed8f(0x63c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x3387cb+=_0x55ed8f(0x5c7)+_0x34bcd8+'\x22>'+_0xdeae12[_0x55ed8f(0x6b3)]+'</span></div>';break;}_0x3387cb+=_0x55ed8f(0x290);}),_0x3387cb+=_0x4cc374(0x836),_0x2f2f42[_0x4cc374(0x5fb)]=_0x3387cb,document[_0x4cc374(0x6a8)](_0x4cc374(0x7e7))[_0x4cc374(0x1c8)](_0x174522=>_0x174522[_0x4cc374(0x3b9)](_0x4cc374(0x864),handleEditQuestion)),document[_0x4cc374(0x6a8)]('.regenerate-question-btn')[_0x4cc374(0x1c8)](_0x5d43d1=>_0x5d43d1['addEventListener'](_0x4cc374(0x864),handleRegenerateQuestion)),document['querySelectorAll'](_0x4cc374(0x42b))['forEach'](_0x2b92fb=>_0x2b92fb[_0x4cc374(0x3b9)](_0x4cc374(0x864),handleSaveToBank)),document[_0x4cc374(0x633)](_0x4cc374(0x364))[_0x4cc374(0x3b9)](_0x4cc374(0x864),exportQuizAsWorksheetPDF),document['getElementById']('save-quiz-btn')[_0x4cc374(0x3b9)](_0x4cc374(0x864),saveQuiz),document[_0x4cc374(0x633)]('verify-answers-btn')[_0x4cc374(0x3b9)](_0x4cc374(0x864),handleVerifyAnswers);if(window[_0x4cc374(0x5be)])window[_0x4cc374(0x5be)][_0x4cc374(0x23d)]([_0x2f2f42]);}function handleRegenerateQuestion(_0xea74fe){const _0x2ccb4c=_0x433974,_0x41227c=_0xea74fe[_0x2ccb4c(0x816)]['dataset'][_0x2ccb4c(0x716)],_0x1ec3c6=currentQuizData['topic'];showMessage(_0x2ccb4c(0x677)+(parseInt(_0x41227c)+0x1)+'\x20ใหม่...'),generateQuiz(_0x1ec3c6,null,parseInt(_0x41227c));}function getPointerPosition(_0x24ef03,_0x2ae7c4){const _0x49ae31=_0x433974,_0x37d5d4=_0x24ef03[_0x49ae31(0x614)]();let _0x258981,_0x53dbbb;return _0x2ae7c4[_0x49ae31(0x6da)]&&_0x2ae7c4['touches'][_0x49ae31(0x31c)]>0x0?(_0x258981=_0x2ae7c4['touches'][0x0][_0x49ae31(0x793)],_0x53dbbb=_0x2ae7c4[_0x49ae31(0x6da)][0x0]['clientY']):(_0x258981=_0x2ae7c4[_0x49ae31(0x793)],_0x53dbbb=_0x2ae7c4[_0x49ae31(0x69f)]),{'x':(_0x258981-_0x37d5d4['e'])/_0x37d5d4['a'],'y':(_0x53dbbb-_0x37d5d4['f'])/_0x37d5d4['d']};}function startDrag(_0x3735ec){const _0x23c1e6=_0x433974;_0x3735ec['type']===_0x23c1e6(0x19c)&&_0x3735ec[_0x23c1e6(0x187)]();const _0x4db5c5=_0x3735ec[_0x23c1e6(0x1b5)][_0x23c1e6(0x3ce)]('.draggable-text');if(_0x4db5c5){draggedSvgElement=_0x4db5c5;const _0x539864=draggedSvgElement[_0x23c1e6(0x247)],_0x21517e=getPointerPosition(_0x539864,_0x3735ec);svgOffset['x']=_0x21517e['x']-parseFloat(draggedSvgElement[_0x23c1e6(0x784)](null,'x')),svgOffset['y']=_0x21517e['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x7fe3fc,_0x17502a){const _0x160696=_0x433974,_0x4871aa={};if(_0x17502a['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x262cd9=[..._0x17502a][_0x160696(0x2e8)]((_0x57112d,_0x24c9d6)=>{const _0x420e70=_0x160696,_0x3288b9=_0x24c9d6['latestScore']-_0x57112d['latestScore'];if(_0x3288b9!==0x0)return _0x3288b9;const _0x586e9e=_0x57112d[_0x420e70(0x5f3)]?.['length']||0x1,_0x4a295f=_0x24c9d6[_0x420e70(0x5f3)]?.[_0x420e70(0x31c)]||0x1,_0xf8de15=_0x586e9e-_0x4a295f;if(_0xf8de15!==0x0)return _0xf8de15;const _0x2c40dd=new Date(_0x57112d[_0x420e70(0x1a6)]),_0x529346=new Date(_0x24c9d6[_0x420e70(0x1a6)]),_0xa0cc83=_0x2c40dd-_0x529346;if(_0xa0cc83!==0x0)return _0xa0cc83;return _0x57112d[_0x420e70(0x534)][_0x420e70(0x60a)](_0x24c9d6[_0x420e70(0x534)],'th');}),_0x6e2e1f=_0x262cd9[_0x160696(0x31c)],_0x220a77=Math[_0x160696(0x374)](0x1,Math[_0x160696(0x484)](_0x6e2e1f*0.33));if(_0x220a77===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x420e16=_0x262cd9[_0x160696(0x490)](0x0,_0x220a77),_0x533848=_0x262cd9[_0x160696(0x490)](-_0x220a77),_0x538029=_0x420e16['map'](_0x1f46c=>_0x1f46c['studentName']),_0x29b32a=_0x533848[_0x160696(0x844)](_0x3c19ee=>_0x3c19ee[_0x160696(0x534)]);return _0x7fe3fc[_0x160696(0x193)][_0x160696(0x1c8)]((_0x5ab502,_0x4674bc)=>{const _0x1ead3f=_0x160696,_0x30df94=_0x5ab502[_0x1ead3f(0x114)]||_0x5ab502[_0x1ead3f(0x84f)];let _0x517ed1=0x0,_0x468123=0x0,_0x46947c=0x0;const _0x50d06f=[],_0x2d00c9=[];_0x420e16['forEach'](_0x5dd555=>{const _0x4e8bd8=_0x1ead3f,_0x104b1e=_0x5dd555[_0x4e8bd8(0x5f3)][_0x5dd555[_0x4e8bd8(0x5f3)][_0x4e8bd8(0x31c)]-0x1],_0x210c30=_0x104b1e[_0x4e8bd8(0x30a)][_0x4e8bd8(0x7c5)](_0x2614a9=>_0x2614a9[_0x4e8bd8(0x436)]===_0x30df94);_0x50d06f['push']({'name':_0x5dd555[_0x4e8bd8(0x534)],'isCorrect':_0x210c30?_0x210c30[_0x4e8bd8(0x4e9)]:![]}),_0x210c30&&_0x210c30[_0x4e8bd8(0x4e9)]&&_0x468123++;}),_0x533848[_0x1ead3f(0x1c8)](_0x4ea159=>{const _0xdcff6a=_0x1ead3f,_0x36fda4=_0x4ea159[_0xdcff6a(0x5f3)][_0x4ea159['attempts']['length']-0x1],_0x732ccc=_0x36fda4[_0xdcff6a(0x30a)][_0xdcff6a(0x7c5)](_0x1c4924=>_0x1c4924[_0xdcff6a(0x436)]===_0x30df94);_0x2d00c9['push']({'name':_0x4ea159[_0xdcff6a(0x534)],'isCorrect':_0x732ccc?_0x732ccc['isCorrect']:![]}),_0x732ccc&&_0x732ccc[_0xdcff6a(0x4e9)]&&_0x46947c++;}),_0x17502a[_0x1ead3f(0x1c8)](_0x555795=>{const _0x4f829c=_0x1ead3f,_0x37dc72=_0x555795[_0x4f829c(0x5f3)][_0x555795['attempts']['length']-0x1],_0x1fce2f=_0x37dc72[_0x4f829c(0x30a)][_0x4f829c(0x7c5)](_0x31637d=>_0x31637d['originalQuestionText']===_0x30df94);_0x1fce2f&&_0x1fce2f[_0x4f829c(0x4e9)]&&_0x517ed1++;});const _0x3418bd=_0x6e2e1f>0x0?_0x517ed1/_0x6e2e1f:0x0,_0x19f7d5=_0x220a77>0x0?_0x468123/_0x220a77-_0x46947c/_0x220a77:0x0;_0x4871aa[_0x4674bc]={'p':_0x3418bd,'r':_0x19f7d5,'upperGroupResponders':_0x50d06f,'lowerGroupResponders':_0x2d00c9};}),{'perQuestionStats':_0x4871aa,'overallGroups':{'upperGroupNames':_0x538029,'lowerGroupNames':_0x29b32a}};}function drag(_0xfbe6ad){const _0x3fe567=_0x433974;if(draggedSvgElement){_0xfbe6ad[_0x3fe567(0x187)]();const _0x23d108=draggedSvgElement[_0x3fe567(0x247)],_0x2e568f=getPointerPosition(_0x23d108,_0xfbe6ad),_0x308ef0=_0x23d108[_0x3fe567(0x355)][_0x3fe567(0x53d)];let _0x4d4318=_0x2e568f['x']-svgOffset['x'],_0x3be65b=_0x2e568f['y']-svgOffset['y'];const _0x2e1bec=draggedSvgElement[_0x3fe567(0x68a)]();_0x4d4318=Math['max'](_0x308ef0['x'],Math[_0x3fe567(0x14a)](_0x4d4318,_0x308ef0['x']+_0x308ef0[_0x3fe567(0x70d)]-_0x2e1bec[_0x3fe567(0x70d)])),_0x3be65b=Math['max'](_0x308ef0['y'],Math[_0x3fe567(0x14a)](_0x3be65b,_0x308ef0['y']+_0x308ef0[_0x3fe567(0x408)]-_0x2e1bec[_0x3fe567(0x408)])),draggedSvgElement['setAttributeNS'](null,'x',_0x4d4318),draggedSvgElement[_0x3fe567(0x3bc)](null,'y',_0x3be65b);}}function endDrag(_0x28f4ba){draggedSvgElement=null;}function handleSvgEditClick(_0x49fd48){const _0x1b651f=_0x433974;if(_0x49fd48[_0x1b651f(0x1b5)][_0x1b651f(0x1a4)][_0x1b651f(0x3c4)](_0x1b651f(0x252))){const _0x18dd02=_0x49fd48[_0x1b651f(0x1b5)][_0x1b651f(0x80f)][_0x1b651f(0x362)],_0x5c8617=_0x49fd48[_0x1b651f(0x816)],_0x513408=_0x5c8617[_0x1b651f(0x3fa)]('#'+_0x18dd02);_0x513408&&_0x513408['remove'](),_0x49fd48[_0x1b651f(0x1b5)][_0x1b651f(0x33c)]();}}function handleEditQuestion(_0x406929){const _0x2923fb=_0x433974,_0x3e49a4=_0x406929['currentTarget'],_0x4322cc=_0x3e49a4[_0x2923fb(0x80f)][_0x2923fb(0x716)],_0x381f4c=currentQuizData['questions'][_0x4322cc],_0x3cff1b=document[_0x2923fb(0x633)](_0x2923fb(0x153)+_0x4322cc),_0xe29bb4=document[_0x2923fb(0x633)](_0x2923fb(0x5c5)+_0x4322cc),_0x549ded=document[_0x2923fb(0x633)](_0x2923fb(0x527)+_0x4322cc);if(_0x3e49a4[_0x2923fb(0x5fb)][_0x2923fb(0x335)](_0x2923fb(0x628))){_0x3e49a4['innerHTML']='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x3e49a4[_0x2923fb(0x7e2)]=_0x2923fb(0x6c8);if(_0x3cff1b)_0x3cff1b[_0x2923fb(0x321)]=!![];if(_0xe29bb4)_0xe29bb4[_0x2923fb(0x321)]=!![];if(_0x549ded){const _0x418a64=_0x549ded['querySelector'](_0x2923fb(0x1d8));if(_0x418a64){const _0x2f68ea=_0x418a64[_0x2923fb(0x6a8)](_0x2923fb(0x85f));_0x2f68ea[_0x2923fb(0x1c8)]((_0x518461,_0xc1cda)=>{const _0x140fd7=_0x2923fb,_0x3d3b56='editable-text-'+_0x4322cc+'-'+_0xc1cda;_0x518461['id']=_0x3d3b56,_0x518461['classList'][_0x140fd7(0x10f)](_0x140fd7(0x7df)),_0x518461[_0x140fd7(0x3d6)][_0x140fd7(0x27e)]=_0x140fd7(0x1b1);const _0x411e6e=document[_0x140fd7(0x8ab)](_0x140fd7(0x44f),_0x140fd7(0x7a7)),_0x4af637=_0x518461[_0x140fd7(0x68a)]();_0x411e6e[_0x140fd7(0x319)]('cx',String(_0x4af637['x']+_0x4af637[_0x140fd7(0x70d)]+0x5)),_0x411e6e[_0x140fd7(0x319)]('cy',String(_0x4af637['y']+_0x4af637[_0x140fd7(0x408)]/0x2-0x5)),_0x411e6e[_0x140fd7(0x319)]('r','5'),_0x411e6e[_0x140fd7(0x319)](_0x140fd7(0x2b3),_0x140fd7(0x551)),_0x411e6e['setAttribute'](_0x140fd7(0x87c),'delete-svg-btn'),_0x411e6e['dataset'][_0x140fd7(0x362)]=_0x3d3b56,_0x518461[_0x140fd7(0x4b6)](_0x411e6e);}),_0x418a64[_0x2923fb(0x3b9)](_0x2923fb(0x418),startDrag),_0x418a64['addEventListener'](_0x2923fb(0x557),drag),_0x418a64[_0x2923fb(0x3b9)](_0x2923fb(0x7c1),endDrag),_0x418a64[_0x2923fb(0x3b9)](_0x2923fb(0x454),endDrag),_0x418a64[_0x2923fb(0x3b9)](_0x2923fb(0x19c),startDrag,{'passive':![]}),_0x418a64[_0x2923fb(0x3b9)](_0x2923fb(0x36b),drag,{'passive':![]}),_0x418a64['addEventListener'](_0x2923fb(0x147),endDrag),_0x418a64[_0x2923fb(0x3b9)](_0x2923fb(0x417),endDrag),_0x418a64[_0x2923fb(0x3b9)](_0x2923fb(0x864),handleSvgEditClick);}}if(_0x3cff1b)_0x3cff1b[_0x2923fb(0x287)]();}else{_0x3e49a4[_0x2923fb(0x5fb)]=_0x2923fb(0x394),_0x3e49a4[_0x2923fb(0x7e2)]=_0x2923fb(0x1c3);if(_0x3cff1b){_0x3cff1b[_0x2923fb(0x321)]=![];const _0x1842c3=_0x381f4c[_0x2923fb(0x327)]||currentQuizData[_0x2923fb(0x5e4)];_0x1842c3===_0x2923fb(0x39c)?_0x381f4c[_0x2923fb(0x114)]=_0x3cff1b[_0x2923fb(0x7cc)][_0x2923fb(0x31e)](_0x3cff1b[_0x2923fb(0x7cc)][_0x2923fb(0x123)]('.')+0x2)[_0x2923fb(0x882)]():_0x381f4c[_0x2923fb(0x84f)]=_0x3cff1b[_0x2923fb(0x7cc)][_0x2923fb(0x31e)](_0x3cff1b[_0x2923fb(0x7cc)][_0x2923fb(0x123)]('.')+0x2)[_0x2923fb(0x882)]();}_0xe29bb4&&(_0xe29bb4['contentEditable']=![],_0x381f4c[_0x2923fb(0x6b3)]=_0xe29bb4[_0x2923fb(0x7cc)]);if(_0x549ded){const _0x1274b5=_0x549ded[_0x2923fb(0x3fa)](_0x2923fb(0x1d8));if(_0x1274b5){const _0xa622c0=_0x1274b5[_0x2923fb(0x3f1)](!![]);_0xa622c0['querySelectorAll'](_0x2923fb(0x49c))['forEach'](_0x77ff2c=>_0x77ff2c[_0x2923fb(0x33c)]()),_0xa622c0[_0x2923fb(0x6a8)](_0x2923fb(0x1dc))[_0x2923fb(0x1c8)](_0x21f9b2=>{const _0x31b31f=_0x2923fb;_0x21f9b2[_0x31b31f(0x1a4)][_0x31b31f(0x33c)]('draggable-text'),_0x21f9b2[_0x31b31f(0x3d6)][_0x31b31f(0x27e)]=_0x31b31f(0x358),_0x21f9b2[_0x31b31f(0x2dd)]('id');}),_0x381f4c[_0x2923fb(0x20a)]=_0xa622c0[_0x2923fb(0x52c)],_0x1274b5[_0x2923fb(0x4eb)](_0x2923fb(0x418),startDrag),_0x1274b5['removeEventListener'](_0x2923fb(0x557),drag),_0x1274b5[_0x2923fb(0x4eb)](_0x2923fb(0x7c1),endDrag),_0x1274b5[_0x2923fb(0x4eb)]('mouseleave',endDrag),_0x1274b5[_0x2923fb(0x4eb)](_0x2923fb(0x19c),startDrag),_0x1274b5[_0x2923fb(0x4eb)](_0x2923fb(0x36b),drag),_0x1274b5[_0x2923fb(0x4eb)](_0x2923fb(0x147),endDrag),_0x1274b5[_0x2923fb(0x4eb)](_0x2923fb(0x417),endDrag),_0x1274b5[_0x2923fb(0x4eb)]('click',handleSvgEditClick),_0x1274b5['querySelectorAll']('.delete-svg-btn')[_0x2923fb(0x1c8)](_0x25d787=>_0x25d787[_0x2923fb(0x33c)]()),_0x1274b5['querySelectorAll']('.draggable-text')[_0x2923fb(0x1c8)](_0x3bd22e=>{const _0x57d6d7=_0x2923fb;_0x3bd22e[_0x57d6d7(0x1a4)][_0x57d6d7(0x33c)]('draggable-text'),_0x3bd22e[_0x57d6d7(0x3d6)][_0x57d6d7(0x27e)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x4cfbec){const _0x4bb763=_0x433974,_0x33c873=document['getElementById']('quiz-editor-modal'),_0x196230=document['getElementById'](_0x4bb763(0x19a));_0x196230[_0x4bb763(0x5fb)]=_0x4bb763(0x711),_0x33c873['classList'][_0x4bb763(0x33c)](_0x4bb763(0x10c));try{const _0x3a37c7=doc(db,_0x4bb763(0x2c6)+appId+_0x4bb763(0x506),_0x4cfbec),_0x6a03f1=await getDoc(_0x3a37c7);if(!_0x6a03f1[_0x4bb763(0x660)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x4cfbec,..._0x6a03f1[_0x4bb763(0x1a2)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x177746){console[_0x4bb763(0x6ee)](_0x4bb763(0x6b8),_0x177746),showMessage(_0x4bb763(0x4f9)),_0x33c873[_0x4bb763(0x1a4)][_0x4bb763(0x10f)](_0x4bb763(0x10c));}}function renderQuizEditor(_0x20b1a3){const _0x5480cc=_0x433974;document[_0x5480cc(0x633)](_0x5480cc(0x46b))['value']=_0x20b1a3[_0x5480cc(0x158)];const _0x49678e=document[_0x5480cc(0x633)](_0x5480cc(0x19a));let _0x3a51e7=_0x20b1a3[_0x5480cc(0x193)][_0x5480cc(0x844)]((_0x5d2c18,_0x393acd)=>{const _0x5ddcd4=_0x5480cc;let _0x2a5302='';const _0x11b9d2=_0x5d2c18[_0x5ddcd4(0x327)]||_0x20b1a3['quizType'];switch(_0x11b9d2){case _0x5ddcd4(0x75a):const _0x1ae232=(_0x5d2c18[_0x5ddcd4(0x482)]||[])['map']((_0x3de22d,_0x241d48)=>_0x5ddcd4(0x4e1)+_0x393acd+'\x22\x20value=\x22'+_0x241d48+'\x22\x20'+(_0x241d48===_0x5d2c18[_0x5ddcd4(0x363)]?'checked':'')+_0x5ddcd4(0x3c7)+_0x3de22d+_0x5ddcd4(0x107))[_0x5ddcd4(0x63c)]('');_0x2a5302='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x1ae232+_0x5ddcd4(0x53f);break;case _0x5ddcd4(0x6f3):_0x2a5302=_0x5ddcd4(0x4e7)+(_0x5d2c18['idealAnswer']||'')+_0x5ddcd4(0x7d2);break;case'true_false':_0x2a5302=_0x5ddcd4(0x81a)+_0x393acd+'\x22\x20value=\x22true\x22\x20'+(_0x5d2c18[_0x5ddcd4(0x863)]===!![]?_0x5ddcd4(0x4d8):'')+_0x5ddcd4(0x238)+_0x393acd+_0x5ddcd4(0x6a0)+(_0x5d2c18['correctAnswer']===![]?_0x5ddcd4(0x4d8):'')+_0x5ddcd4(0x51d);break;case'matching_item':_0x2a5302='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x5d2c18[_0x5ddcd4(0x25c)]||'')+_0x5ddcd4(0x7f0);break;}const _0x1b67e9=_0x5d2c18[_0x5ddcd4(0x84f)]||_0x5d2c18[_0x5ddcd4(0x114)]||'';return _0x5ddcd4(0x675)+_0x393acd+_0x5ddcd4(0x41c)+_0x11b9d2+_0x5ddcd4(0x7d3)+(_0x393acd+0x1)+'\x20('+_0x11b9d2+_0x5ddcd4(0x4ea)+_0x1b67e9+_0x5ddcd4(0x510)+_0x2a5302+_0x5ddcd4(0x89d);})[_0x5480cc(0x63c)]('');_0x49678e[_0x5480cc(0x5fb)]=_0x3a51e7;}async function handleSaveChanges(){const _0x5bb20e=_0x433974,_0x2c6307=document[_0x5bb20e(0x633)](_0x5bb20e(0x382));_0x2c6307['disabled']=!![],_0x2c6307['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0xb806cd=document[_0x5bb20e(0x633)](_0x5bb20e(0x46b))[_0x5bb20e(0x411)],_0x363790=document[_0x5bb20e(0x6a8)](_0x5bb20e(0x3d8));let _0x2e4cd0=[];const _0x4fb362=Array[_0x5bb20e(0x7b8)](_0x363790)[_0x5bb20e(0x844)]((_0x54516b,_0x575af4)=>{const _0x2a236b=_0x5bb20e,_0x71c2b3=_0x54516b[_0x2a236b(0x80f)][_0x2a236b(0x4ce)],_0xa41d96=_0x54516b[_0x2a236b(0x3fa)]('textarea')[_0x2a236b(0x411)];let _0x1e1b26={'questionType':_0x71c2b3};const _0x33392a=currentEditingQuizData[_0x2a236b(0x193)][_0x575af4];switch(_0x71c2b3){case _0x2a236b(0x75a):_0x1e1b26[_0x2a236b(0x84f)]=_0xa41d96;const _0x156dfd=_0x54516b[_0x2a236b(0x6a8)](_0x2a236b(0x7a9));_0x1e1b26['options']=Array['from'](_0x156dfd)['map'](_0x451e8a=>_0x451e8a[_0x2a236b(0x411)]);const _0x347acc=_0x54516b[_0x2a236b(0x3fa)](_0x2a236b(0x464));_0x1e1b26[_0x2a236b(0x363)]=_0x347acc?parseInt(_0x347acc[_0x2a236b(0x411)]):0x0;break;case _0x2a236b(0x6f3):_0x1e1b26[_0x2a236b(0x84f)]=_0xa41d96,_0x1e1b26[_0x2a236b(0x6eb)]=_0x54516b[_0x2a236b(0x3fa)](_0x2a236b(0x4fd))[_0x2a236b(0x411)];break;case'true_false':_0x1e1b26['questionText']=_0xa41d96;const _0x5499e7=_0x54516b[_0x2a236b(0x3fa)](_0x2a236b(0x464));_0x1e1b26['correctAnswer']=_0x5499e7?_0x5499e7[_0x2a236b(0x411)]===_0x2a236b(0x7a3):!![];break;case _0x2a236b(0x39c):_0x1e1b26[_0x2a236b(0x114)]=_0xa41d96;const _0x25f46a=_0x54516b[_0x2a236b(0x3fa)](_0x2a236b(0x365));_0x1e1b26[_0x2a236b(0x25c)]=_0x25f46a?_0x25f46a[_0x2a236b(0x411)]:'',_0x2e4cd0[_0x2a236b(0x690)](_0x1e1b26[_0x2a236b(0x25c)]);break;default:_0x1e1b26['questionText']=_0xa41d96;break;}return{..._0x33392a,..._0x1e1b26};});_0x2e4cd0[_0x5bb20e(0x31c)]>0x0&&_0x4fb362[_0x5bb20e(0x1c8)](_0x159ccb=>{const _0xe1681a=_0x5bb20e;_0x159ccb[_0xe1681a(0x327)]==='matching_item'&&(_0x159ccb[_0xe1681a(0x850)]=_0x2e4cd0);});const _0x1cd8b0=currentEditingQuizData['id'],_0x4be4c8=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1cd8b0);await updateDoc(_0x4be4c8,{'topic':_0xb806cd,'questions':_0x4fb362}),document[_0x5bb20e(0x633)]('quiz-editor-modal')['classList']['add'](_0x5bb20e(0x10c)),showMessage(_0x5bb20e(0x6d5),()=>initiateReGradeProcess(_0x1cd8b0));}catch(_0x34f559){console[_0x5bb20e(0x6ee)](_0x5bb20e(0x1f5),_0x34f559),showMessage(_0x5bb20e(0x67b));}finally{_0x2c6307[_0x5bb20e(0x6b0)]=![],_0x2c6307[_0x5bb20e(0x5fb)]=_0x5bb20e(0x524);}}async function initiateReGradeProcess(_0x27ecac){const _0x3a98bd=_0x433974;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x1262b9=doc(db,_0x3a98bd(0x2c6)+appId+_0x3a98bd(0x506),_0x27ecac),_0x33e8c4=await getDoc(_0x1262b9);if(!_0x33e8c4[_0x3a98bd(0x660)]())throw new Error(_0x3a98bd(0x5c6));const _0xe22612={'id':_0x27ecac,..._0x33e8c4[_0x3a98bd(0x1a2)]()},_0x23bc54=collection(db,_0x3a98bd(0x2c6)+appId+_0x3a98bd(0x506),_0x27ecac,'submissions'),_0x3c4fbc=await getDocs(_0x23bc54);if(_0x3c4fbc[_0x3a98bd(0x577)]){showMessage(_0x3a98bd(0x4ab));return;}const _0x2d5515=_0x3c4fbc[_0x3a98bd(0x600)]['map'](_0x32e560=>reGradeSingleSubmission(_0x32e560,_0xe22612));await Promise['all'](_0x2d5515);if(_0xe22612[_0x3a98bd(0x2be)]){const _0x1e19b9=doc(db,_0x3a98bd(0x2c6)+appId+_0x3a98bd(0x528),_0xe22612[_0x3a98bd(0x2be)]),_0x457784=await getDoc(_0x1e19b9);if(_0x457784['exists']()&&_0x457784[_0x3a98bd(0x1a2)]()[_0x3a98bd(0x647)]){const _0x5339d9=_0x457784[_0x3a98bd(0x1a2)]()[_0x3a98bd(0x647)][_0x3a98bd(0x844)](_0x90d4c0=>updateStudentProfile(_0xe22612['projectId'],_0x90d4c0));await Promise['all'](_0x5339d9);}}showMessage(_0x3a98bd(0x7e1)+_0x3c4fbc['size']+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x543545){console['error']('Re-grade\x20process\x20failed:',_0x543545),showMessage(_0x3a98bd(0x1dd)+_0x543545[_0x3a98bd(0x64a)]);}}async function reGradeSingleSubmission(_0x3b50e6,_0x298230){const _0x46f63d=_0x433974,_0x5cea04=_0x3b50e6['data'](),_0x377589=_0x5cea04[_0x46f63d(0x534)],_0x40d2e5=_0x5cea04[_0x46f63d(0x5f3)]||[],_0x19e96e=[];for(const _0x5e7484 of _0x40d2e5){let _0x1c5785=0x0,_0x1f964e=[],_0x4fe769=0x0;const _0x2021a9=[];for(const _0x92276f of _0x5e7484[_0x46f63d(0x30a)]){let _0x4e691b;_0x92276f[_0x46f63d(0x14b)]&&(_0x4e691b=_0x298230['questions'][_0x46f63d(0x7c5)](_0x1f2e9f=>_0x1f2e9f['id']===_0x92276f[_0x46f63d(0x14b)]));!_0x4e691b&&_0x92276f[_0x46f63d(0x436)]&&(_0x4e691b=_0x298230[_0x46f63d(0x193)][_0x46f63d(0x7c5)](_0x368d84=>(_0x368d84[_0x46f63d(0x114)]||_0x368d84[_0x46f63d(0x84f)])===_0x92276f[_0x46f63d(0x436)]));let _0x2b98f4=![];if(_0x4e691b){const _0x5a8709=_0x4e691b[_0x46f63d(0x327)]||_0x298230[_0x46f63d(0x5e4)];switch(_0x5a8709){case _0x46f63d(0x75a):if(_0x4e691b[_0x46f63d(0x482)]&&_0x4e691b[_0x46f63d(0x363)]<_0x4e691b[_0x46f63d(0x482)]['length']){const _0x19d370=_0x4e691b[_0x46f63d(0x482)][_0x4e691b['correctAnswerIndex']];_0x2b98f4=_0x92276f[_0x46f63d(0x3d2)]===_0x19d370;}break;case _0x46f63d(0x797):const _0x31dc33=_0x92276f['answer']===!![]||_0x92276f[_0x46f63d(0x49a)]===_0x46f63d(0x7a3);_0x2b98f4=_0x31dc33===_0x4e691b[_0x46f63d(0x863)];break;case'matching_item':_0x2b98f4=_0x92276f['answer']===_0x4e691b[_0x46f63d(0x25c)];break;case _0x46f63d(0x6f3):_0x2b98f4=await gradeShortAnswer(_0x92276f[_0x46f63d(0x49a)],_0x4e691b);break;default:_0x2b98f4=_0x92276f[_0x46f63d(0x4e9)];break;}}if(_0x2b98f4){_0x1c5785++,_0x4fe769++;if(_0x4fe769===0x3)_0x1f964e[_0x46f63d(0x690)](BADGES[_0x46f63d(0x692)]['id']);}else _0x4fe769=0x0;_0x2021a9[_0x46f63d(0x690)]({..._0x92276f,'isCorrect':_0x2b98f4});}let _0x52137a=_0x1c5785*0xa;_0x1c5785===_0x298230[_0x46f63d(0x193)][_0x46f63d(0x31c)]&&(_0x52137a+=0x32,_0x1f964e[_0x46f63d(0x690)](BADGES['PERFECT_SCORE']['id'])),_0x19e96e[_0x46f63d(0x690)]({..._0x5e7484,'score':_0x1c5785,'points':_0x52137a,'badges':Array[_0x46f63d(0x7b8)](new Set(_0x1f964e)),'answers':_0x2021a9});}const _0x7fd8f0=_0x19e96e[_0x46f63d(0x31c)]>0x0?_0x19e96e[0x0][_0x46f63d(0x3f9)]:0x0,_0x461c55=Math['max'](..._0x19e96e[_0x46f63d(0x844)](_0x12ce7f=>_0x12ce7f['score'])),_0x45d068=_0x19e96e[_0x46f63d(0x31c)]>0x0?_0x19e96e[_0x19e96e[_0x46f63d(0x31c)]-0x1][_0x46f63d(0x3f9)]:0x0,_0x38d3e1=_0x19e96e[_0x46f63d(0x31c)]>0x0?_0x19e96e[_0x19e96e['length']-0x1][_0x46f63d(0x76c)]:0x0,_0x5a5675=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x298230['id']+_0x46f63d(0x424),_0x377589);await updateDoc(_0x5a5675,{'attempts':_0x19e96e,'firstScore':_0x7fd8f0,'bestScore':_0x461c55,'latestScore':_0x45d068,'points':_0x38d3e1});}function cleanupQuizOptions(_0x132372){const _0x3228de=_0x433974,_0x462151=(_0x4fbfa9,_0x49e4b0)=>_0x49e4b0===0x0?_0x4fbfa9:_0x462151(_0x49e4b0,_0x4fbfa9%_0x49e4b0),_0x2759a9=_0x266f17=>{const _0x5b26e4=_0x300c;if(typeof _0x266f17!==_0x5b26e4(0x57e))return null;_0x266f17=_0x266f17['trim']();const _0x3d0528=_0x266f17[_0x5b26e4(0x360)](/[ /]/)[_0x5b26e4(0x622)](_0x1290a8=>_0x1290a8!=='');if(_0x3d0528[_0x5b26e4(0x31c)]===0x3)return parseInt(_0x3d0528[0x0])+parseInt(_0x3d0528[0x1])/parseInt(_0x3d0528[0x2]);else{if(_0x3d0528[_0x5b26e4(0x31c)]===0x2)return parseInt(_0x3d0528[0x0])/parseInt(_0x3d0528[0x1]);else{if(_0x3d0528[_0x5b26e4(0x31c)]===0x1&&!isNaN(_0x3d0528[0x0]))return parseFloat(_0x3d0528[0x0]);}}return null;},_0x1b66f2=_0x3e7619=>{const _0x2e9ed6=_0x300c;if(typeof _0x3e7619!=='string')return _0x3e7619;const _0x5baea7=_0x3e7619[_0x2e9ed6(0x4be)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5baea7){const _0x4b542e=parseInt(_0x5baea7[0x1]);let _0x2fdd7b=parseInt(_0x5baea7[0x2]),_0x83dba8=parseInt(_0x5baea7[0x3]);const _0x21c9f1=_0x462151(_0x2fdd7b,_0x83dba8);_0x2fdd7b/=_0x21c9f1,_0x83dba8/=_0x21c9f1;if(_0x83dba8===0x1)return(_0x4b542e+_0x2fdd7b)[_0x2e9ed6(0x15d)]();return _0x4b542e+'\x20'+_0x2fdd7b+'/'+_0x83dba8;}return _0x3e7619;};return _0x132372&&_0x132372[_0x3228de(0x193)]&&_0x132372['questions'][_0x3228de(0x1c8)](_0x5e64c8=>{const _0x288ad3=_0x3228de;if(_0x5e64c8[_0x288ad3(0x327)]===_0x288ad3(0x75a)&&_0x5e64c8['options']){const _0x8b1604=new Map(),_0x57945c=_0x5e64c8[_0x288ad3(0x482)][_0x5e64c8[_0x288ad3(0x363)]];_0x5e64c8[_0x288ad3(0x482)][_0x288ad3(0x1c8)](_0xc94ba6=>{const _0x48926c=_0x288ad3,_0x14c765=_0x1b66f2(_0xc94ba6),_0x16821c=_0x2759a9(_0x14c765);_0x16821c!==null&&!_0x8b1604[_0x48926c(0x88a)](_0x16821c)&&_0x8b1604[_0x48926c(0x7f2)](_0x16821c,_0x14c765);}),_0x5e64c8[_0x288ad3(0x482)]=Array[_0x288ad3(0x7b8)](_0x8b1604[_0x288ad3(0x701)]());const _0xf87ef4=_0x5e64c8[_0x288ad3(0x482)][_0x288ad3(0x43e)](_0x1aa9e2=>_0x1aa9e2===_0x1b66f2(_0x57945c));_0x5e64c8[_0x288ad3(0x363)]=_0xf87ef4!==-0x1?_0xf87ef4:0x0;}}),_0x132372;}async function saveQuiz(){const _0x1b7884=_0x433974;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1b7884(0x193)]||!userId){showMessage(_0x1b7884(0x12c));return;}const _0x3404b6=document[_0x1b7884(0x633)](_0x1b7884(0x7cd));_0x3404b6['disabled']=!![],_0x3404b6['innerHTML']=_0x1b7884(0x2ff);const _0x11e2c2=document[_0x1b7884(0x633)](_0x1b7884(0x392))[_0x1b7884(0x4d8)];let _0x59d734=document[_0x1b7884(0x633)]('editable-quiz-topic')[_0x1b7884(0x7cc)][_0x1b7884(0x882)]();_0x11e2c2&&!_0x59d734[_0x1b7884(0x7f1)](_0x1b7884(0x47d))&&(_0x59d734='(ก่อนเรียน)\x20'+_0x59d734);try{const _0x4c34b0={'resultsDisplay':document[_0x1b7884(0x633)]('results-display-select')[_0x1b7884(0x411)],'shuffle':document[_0x1b7884(0x633)](_0x1b7884(0x3b5))['value'],'timerMode':document[_0x1b7884(0x633)](_0x1b7884(0x4a3))[_0x1b7884(0x411)],'timerDuration':parseInt(document[_0x1b7884(0x633)](_0x1b7884(0x2d2))[_0x1b7884(0x411)])||0xa,'passingScore':parseInt(document[_0x1b7884(0x633)](_0x1b7884(0x606))[_0x1b7884(0x411)])||0x0,'isAdaptive':document[_0x1b7884(0x633)](_0x1b7884(0x1a7))[_0x1b7884(0x4d8)],'loopUntilPass':document[_0x1b7884(0x633)](_0x1b7884(0x45e))[_0x1b7884(0x4d8)]},_0x4c1c80=(currentQuizData[_0x1b7884(0x193)]||[])[_0x1b7884(0x844)]((_0x268383,_0x1b5939)=>{const _0xdd81b=_0x1b7884,_0x12ffd7=document[_0xdd81b(0x633)]('quiz-type-select')[_0xdd81b(0x411)],_0x153ed2={'id':'q_'+Date[_0xdd81b(0x2ec)]()+'_'+_0x1b5939,'questionText':_0x268383[_0xdd81b(0x84f)]||'','explanation':_0x268383[_0xdd81b(0x6b3)]||'ไม่มีคำอธิบาย','questionType':_0x268383[_0xdd81b(0x327)]||_0x12ffd7,'imageCode':_0x268383[_0xdd81b(0x20a)]||null};return(_0x153ed2[_0xdd81b(0x327)]===_0xdd81b(0x75a)||_0x153ed2[_0xdd81b(0x327)]===_0xdd81b(0x1b4)||_0x153ed2[_0xdd81b(0x327)]===_0xdd81b(0x671)&&_0x268383['options'])&&(_0x153ed2[_0xdd81b(0x482)]=_0x268383['options']||[],_0x153ed2[_0xdd81b(0x363)]=_0x268383[_0xdd81b(0x363)]!==undefined?_0x268383[_0xdd81b(0x363)]:0x0),(_0x153ed2[_0xdd81b(0x327)]===_0xdd81b(0x6f3)||_0x153ed2[_0xdd81b(0x327)]===_0xdd81b(0x50a)||_0x153ed2[_0xdd81b(0x327)]===_0xdd81b(0x671)&&_0x268383[_0xdd81b(0x6eb)])&&(_0x153ed2[_0xdd81b(0x6eb)]=_0x268383[_0xdd81b(0x6eb)]||''),_0x153ed2['questionType']===_0xdd81b(0x797)&&(_0x153ed2['correctAnswer']=_0x268383[_0xdd81b(0x863)]===!![]),_0x153ed2[_0xdd81b(0x327)]==='matching_item'&&(_0x153ed2[_0xdd81b(0x114)]=_0x268383[_0xdd81b(0x114)]||'',_0x153ed2[_0xdd81b(0x25c)]=_0x268383[_0xdd81b(0x25c)]||'',_0x153ed2[_0xdd81b(0x850)]=_0x268383[_0xdd81b(0x850)]||[]),_0x153ed2;}),_0x4609c6={'topic':_0x59d734,'quizType':currentQuizData[_0x1b7884(0x5e4)]||_0x1b7884(0x75a),'questions':_0x4c1c80,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x1b7884(0x532),'settings':_0x4c34b0,'quizMode':_0x11e2c2?_0x1b7884(0x1e5):_0x1b7884(0x12f),'pairedQuizId':null,'lessonPlan':null};let _0x3579b6;while(!![]){_0x3579b6=Math[_0x1b7884(0x484)](0x3e8+Math[_0x1b7884(0x731)]()*0x2328)['toString']();const _0x4436e6=await getDoc(doc(db,'artifacts/'+appId+_0x1b7884(0x506),_0x3579b6));if(!_0x4436e6['exists']())break;}await setDoc(doc(db,_0x1b7884(0x2c6)+appId+_0x1b7884(0x506),_0x3579b6),_0x4609c6),currentQuizData[_0x1b7884(0x262)]=_0x4c34b0,currentQuizData['id']=_0x3579b6;const _0x2309d3=document[_0x1b7884(0x633)](_0x1b7884(0x4df));_0x2309d3['innerHTML']=_0x1b7884(0x7d5)+_0x3579b6+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x1b7884(0x633)](_0x1b7884(0x43b))[_0x1b7884(0x3b9)](_0x1b7884(0x864),()=>copyTextToClipboard(_0x3579b6,_0x1b7884(0x6b5))),document['getElementById']('start-live-race-generated-btn')[_0x1b7884(0x3b9)]('click',()=>handleStartLiveRace(_0x3579b6)),document[_0x1b7884(0x633)]('start-presentation-btn')[_0x1b7884(0x3b9)](_0x1b7884(0x864),()=>startPresentation(currentQuizData)),document['getElementById'](_0x1b7884(0x6c5))[_0x1b7884(0x3b9)](_0x1b7884(0x864),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x3fe535){console[_0x1b7884(0x6ee)]('Error\x20saving\x20quiz:',_0x3fe535),showMessage(_0x1b7884(0x6f2)),_0x3404b6[_0x1b7884(0x6b0)]=![],_0x3404b6[_0x1b7884(0x5fb)]=_0x1b7884(0x2e9);}}function promptForProjectAndSave(){const _0x1f81e1=_0x433974,_0x29493a=document[_0x1f81e1(0x633)](_0x1f81e1(0x5c9)),_0x4325cb=document[_0x1f81e1(0x633)](_0x1f81e1(0x57a)),_0x33bf7a=_0x29493a[_0x1f81e1(0x3fa)]('h3'),_0x4f294a=document['getElementById']('confirm-move-quiz-btn');_0x33bf7a[_0x1f81e1(0x1d4)]=_0x1f81e1(0x188),_0x4f294a[_0x1f81e1(0x1d4)]='เลือกและบันทึก';allProjects['length']===0x0?(_0x4325cb[_0x1f81e1(0x5fb)]=_0x1f81e1(0x78f),_0x4f294a[_0x1f81e1(0x6b0)]=!![]):(_0x4325cb['innerHTML']=allProjects[_0x1f81e1(0x844)](_0x52ee95=>_0x1f81e1(0x655)+_0x52ee95['id']+'\x22>'+_0x52ee95[_0x1f81e1(0x332)]+_0x1f81e1(0x535))[_0x1f81e1(0x63c)](''),_0x4f294a[_0x1f81e1(0x6b0)]=![]);_0x29493a['classList'][_0x1f81e1(0x33c)]('hidden');const _0x2c6671=()=>{const _0x113d9c=_0x1f81e1,_0x1b0d2e=_0x4325cb['value'];_0x1b0d2e?(currentProjectId=_0x1b0d2e,_0x29493a[_0x113d9c(0x1a4)][_0x113d9c(0x10f)]('hidden'),saveQuiz(),_0x33bf7a[_0x113d9c(0x1d4)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x4f294a[_0x113d9c(0x1d4)]=_0x113d9c(0x3e3),_0x4f294a[_0x113d9c(0x4eb)](_0x113d9c(0x864),_0x2c6671),_0x4f294a[_0x113d9c(0x3b9)](_0x113d9c(0x864),confirmMoveQuiz)):showMessage(_0x113d9c(0x462));};_0x4f294a[_0x1f81e1(0x4eb)]('click',confirmMoveQuiz),_0x4f294a[_0x1f81e1(0x3b9)]('click',_0x2c6671);}function copyTextToClipboard(_0x372dc5,_0x42cf66){const _0x4da4cd=_0x433974,_0x4b5433=document['createElement']('textarea');_0x4b5433['value']=_0x372dc5,_0x4b5433[_0x4da4cd(0x3d6)][_0x4da4cd(0x414)]='fixed',_0x4b5433[_0x4da4cd(0x3d6)][_0x4da4cd(0x4cc)]='0',document[_0x4da4cd(0x4d7)][_0x4da4cd(0x4b8)](_0x4b5433),_0x4b5433['focus'](),_0x4b5433[_0x4da4cd(0x5a8)]();try{const _0x5641fe=document[_0x4da4cd(0x27a)](_0x4da4cd(0x32a));showMessage(_0x5641fe?_0x42cf66:_0x4da4cd(0x62d));}catch(_0x2f4926){showMessage(_0x4da4cd(0x62d)),console[_0x4da4cd(0x6ee)](_0x4da4cd(0x64b),_0x2f4926);}document['body']['removeChild'](_0x4b5433);}function listenForProjectQuizzes(_0x4d6f6c){const _0x106cab=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x42eac9=query(_0x106cab,where('projectId','==',_0x4d6f6c));unsubscribeQuizzesListener=onSnapshot(_0x42eac9,async _0x4a393c=>{const _0x456c61=_0x300c;allQuizzes=_0x4a393c[_0x456c61(0x600)][_0x456c61(0x844)](_0x1cf50d=>({'id':_0x1cf50d['id'],..._0x1cf50d['data']()})),renderQuizzes();},_0x16ae7e=>{const _0x3bd48c=_0x300c;console[_0x3bd48c(0x6ee)](_0x3bd48c(0x299),_0x16ae7e),document[_0x3bd48c(0x633)](_0x3bd48c(0x72c))[_0x3bd48c(0x5fb)]=_0x3bd48c(0x1d6);});}async function renderQuizzes(){const _0x4b0588=_0x433974,_0x4ce90d=document[_0x4b0588(0x633)](_0x4b0588(0x72c)),_0x158f4c=document[_0x4b0588(0x633)](_0x4b0588(0x103))['value'][_0x4b0588(0x6fb)]();let _0x37f26c;currentProjectId===_0x4b0588(0x897)?_0x37f26c=starredQuizzes:_0x37f26c=allQuizzes;let _0x5076d6=_0x37f26c[_0x4b0588(0x622)](_0x24606e=>_0x24606e[_0x4b0588(0x158)][_0x4b0588(0x6fb)]()[_0x4b0588(0x335)](_0x158f4c));_0x5076d6[_0x4b0588(0x2e8)]((_0x445d66,_0x16ae77)=>new Date(_0x16ae77[_0x4b0588(0x78c)])-new Date(_0x445d66[_0x4b0588(0x78c)]));if(_0x5076d6['length']===0x0){_0x4ce90d[_0x4b0588(0x5fb)]=_0x4b0588(0x102);return;}const _0x2f40cf={},_0x5b141f=_0x5076d6[_0x4b0588(0x844)](async _0x3986b7=>{const _0x3c33e4=_0x4b0588,_0x5a8d27=collection(db,'artifacts/'+appId+_0x3c33e4(0x315)+_0x3986b7['id']+'/submissions'),_0x1f32d7=await getDocs(_0x5a8d27);_0x2f40cf[_0x3986b7['id']]=_0x1f32d7[_0x3c33e4(0x4d4)];});await Promise['all'](_0x5b141f);let _0x176254='';_0x5076d6[_0x4b0588(0x1c8)](_0x398ff6=>{const _0x3370a5=_0x4b0588,_0x26fc42=_0x2f40cf[_0x398ff6['id']]||0x0,_0x471f92=_0x398ff6['status']||_0x3370a5(0x532),_0x3e4e1a=_0x398ff6[_0x3370a5(0x262)]?.['timerMode']||_0x3370a5(0x19e);let _0x2f1b0c='',_0x2498c9='';const _0x555833=new Date();let _0x32a194=_0x471f92;if(_0x471f92===_0x3370a5(0x2df)){const _0xf2d271=_0x398ff6[_0x3370a5(0x73c)]?new Date(_0x398ff6[_0x3370a5(0x73c)]):null,_0x3c1972=_0x398ff6[_0x3370a5(0x6c3)]?new Date(_0x398ff6[_0x3370a5(0x6c3)]):null;if(_0x3c1972&&_0x555833>_0x3c1972)_0x32a194=_0x3370a5(0x502);else _0xf2d271&&_0x555833<_0xf2d271?_0x32a194=_0x3370a5(0x5a9):_0x32a194=_0x3370a5(0x532);}switch(_0x32a194){case _0x3370a5(0x502):_0x2f1b0c=_0x3370a5(0x610),_0x2498c9=_0x3370a5(0x856);break;case _0x3370a5(0x5a9):_0x2f1b0c=_0x3370a5(0x381),_0x2498c9=_0x3370a5(0x458);break;case _0x3370a5(0x532):_0x2f1b0c=_0x3e4e1a!==_0x3370a5(0x19e)?_0x3370a5(0x6f0):'เปิดใช้งาน',_0x2498c9=_0x3370a5(0x45b);break;default:_0x2f1b0c=_0x3370a5(0x582),_0x2498c9='text-green-700\x20bg-green-100';break;}let _0x2e31b6='';const _0x5064b={'day':'2-digit','month':'2-digit','year':'numeric','hour':_0x3370a5(0x6fd),'minute':_0x3370a5(0x6fd),'hour12':![]};if(_0x471f92===_0x3370a5(0x2df)){if(_0x398ff6['startTime'])_0x2e31b6+=_0x3370a5(0x495)+new Date(_0x398ff6['startTime'])['toLocaleString']('th-TH',_0x5064b)+_0x3370a5(0x69c);if(_0x398ff6[_0x3370a5(0x6c3)])_0x2e31b6+=_0x3370a5(0x5da)+new Date(_0x398ff6['endTime'])['toLocaleString'](_0x3370a5(0x40c),_0x5064b)+_0x3370a5(0x69c);}let _0x3b8571='';if(_0x398ff6[_0x3370a5(0x757)]){const _0x41db39=allQuizzes[_0x3370a5(0x7c5)](_0x4f418f=>_0x4f418f['id']===_0x398ff6[_0x3370a5(0x757)]);if(_0x41db39){let _0x121099,_0x1da342;new Date(_0x398ff6[_0x3370a5(0x78c)])<new Date(_0x41db39[_0x3370a5(0x78c)])?(_0x121099=_0x398ff6['id'],_0x1da342=_0x41db39['id']):(_0x121099=_0x41db39['id'],_0x1da342=_0x398ff6['id']),_0x3b8571+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1da342+_0x3370a5(0x877)+_0x121099+_0x3370a5(0x4fc);}}else _0x398ff6[_0x3370a5(0x27b)]===_0x3370a5(0x1e5)&&(_0x3b8571+=_0x3370a5(0x769)+_0x398ff6['id']+_0x3370a5(0x50c));if(_0x398ff6['quizMode']===_0x3370a5(0x1e5)&&_0x26fc42>0x0)_0x3b8571+=_0x3370a5(0x769)+_0x398ff6['id']+_0x3370a5(0x5b5);else!_0x398ff6['pairedQuizId']&&_0x398ff6[_0x3370a5(0x27b)]!=='pre-test'&&_0x26fc42>0x0&&(_0x3b8571+=_0x3370a5(0x769)+_0x398ff6['id']+_0x3370a5(0x47c));let _0x301167='';_0x398ff6[_0x3370a5(0x757)]?_0x301167=_0x3370a5(0x8a1)+_0x398ff6['id']+_0x3370a5(0x849):_0x301167='<button\x20data-quiz-id=\x22'+_0x398ff6['id']+_0x3370a5(0x1fa),_0x176254+=_0x3370a5(0x6a2)+_0x398ff6['id']+_0x3370a5(0x3b1)+_0x398ff6[_0x3370a5(0x158)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x398ff6[_0x3370a5(0x193)][_0x3370a5(0x31c)]+_0x3370a5(0x73d)+new Date(_0x398ff6[_0x3370a5(0x78c)])[_0x3370a5(0x42d)]('th-TH')+_0x3370a5(0x3e5)+_0x26fc42+_0x3370a5(0x720)+_0x2e31b6+_0x3370a5(0x6d0)+_0x2498c9+'\x22>'+_0x2f1b0c+_0x3370a5(0x1bc)+_0x398ff6['id']+_0x3370a5(0x84c)+_0x398ff6['id']+_0x3370a5(0x530)+(_0x398ff6[_0x3370a5(0x1fc)]?_0x3370a5(0x7f5):_0x3370a5(0x85a))+_0x3370a5(0x841)+_0x3b8571+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x398ff6['id']+_0x3370a5(0x393)+_0x398ff6['id']+_0x3370a5(0x61b)+_0x398ff6['id']+_0x3370a5(0x835)+_0x398ff6['id']+_0x3370a5(0x770)+_0x398ff6['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x398ff6['id']+_0x3370a5(0x1ee)+_0x398ff6['id']+'\x22\x20data-topic=\x22'+_0x398ff6[_0x3370a5(0x158)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x398ff6['id']+_0x3370a5(0x444)+_0x398ff6['id']+_0x3370a5(0x369)+_0x301167+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x398ff6['id']+_0x3370a5(0x152)+_0x398ff6['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x398ff6['id']+_0x3370a5(0x702)+_0x398ff6['id']+_0x3370a5(0x380)+_0x398ff6['id']+'\x22\x20data-topic=\x22'+_0x398ff6['topic']+_0x3370a5(0x36f);}),_0x4ce90d[_0x4b0588(0x5fb)]=_0x176254,document[_0x4b0588(0x6a8)](_0x4b0588(0x775))[_0x4b0588(0x1c8)](_0x8bad93=>{const _0x1ca25e=_0x4b0588;_0x8bad93[_0x1ca25e(0x3b9)](_0x1ca25e(0x864),()=>{const _0x4e3970=_0x1ca25e,_0x5cc14b=_0x8bad93['dataset'][_0x4e3970(0x8a9)];showQuizDetailView(_0x5cc14b);});});}async function handleUnpairQuiz(_0x3a2cd1){const _0xa5ab59=_0x433974,_0x1c4b8d=allQuizzes[_0xa5ab59(0x7c5)](_0x341246=>_0x341246['id']===_0x3a2cd1);if(!_0x1c4b8d||!_0x1c4b8d[_0xa5ab59(0x757)]){showMessage(_0xa5ab59(0x268));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x4b7907=_0xa5ab59;try{const _0x407d4e=doc(db,_0x4b7907(0x2c6)+appId+_0x4b7907(0x506),_0x3a2cd1),_0xcabf82=doc(db,_0x4b7907(0x2c6)+appId+_0x4b7907(0x506),_0x1c4b8d[_0x4b7907(0x757)]),_0x419340=writeBatch(db);_0x419340[_0x4b7907(0x86d)](_0x407d4e,{'pairedQuizId':null}),_0x419340[_0x4b7907(0x86d)](_0xcabf82,{'pairedQuizId':null}),await _0x419340[_0x4b7907(0x80b)](),showMessage(_0x4b7907(0x4f3));}catch(_0x48ccc1){console['error'](_0x4b7907(0x86f),_0x48ccc1),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x860e8e,_0x10a4da){const _0x1b16e2=_0x433974,_0x57a68d=window['open']('',_0x1b16e2(0x568)),_0x438b42='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x10a4da['topic']+_0x1b16e2(0x6cf)+_0x10a4da[_0x1b16e2(0x158)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x860e8e[_0x1b16e2(0x61c)][_0x1b16e2(0x844)](_0x57997b=>_0x1b16e2(0x34c)+_0x57997b+_0x1b16e2(0x787))['join']('')+_0x1b16e2(0x504)+_0x860e8e[_0x1b16e2(0x63e)]+_0x1b16e2(0x1ae)+_0x860e8e['practiceProblems']['map'](_0x1a0881=>_0x1b16e2(0x34f)+_0x1a0881['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x1a0881['solution']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1b16e2(0x63c)]('')+_0x1b16e2(0x678);_0x57a68d[_0x1b16e2(0x2dc)][_0x1b16e2(0x2f8)](_0x438b42),_0x57a68d[_0x1b16e2(0x2dc)]['close'](),_0x57a68d['onload']=function(){setTimeout(()=>{const _0x49f397=_0x300c;_0x57a68d[_0x49f397(0x758)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x589142){const _0x255210=_0x433974;showMessage(_0x255210(0x3c6));try{const _0x5f411f=doc(db,'artifacts/'+appId+_0x255210(0x506),_0x589142),_0x58ec1b=await getDoc(_0x5f411f);if(!_0x58ec1b[_0x255210(0x660)]())throw new Error(_0x255210(0x5c6));const _0x60bb80={'id':_0x589142,..._0x58ec1b[_0x255210(0x1a2)]()},_0x273205=collection(db,_0x255210(0x2c6)+appId+'/public/data/quizzes',_0x589142,_0x255210(0x1f6)),_0x337aff=await getDocs(_0x273205),_0x5d8fc4=_0x337aff[_0x255210(0x600)][_0x255210(0x844)](_0x40519f=>_0x40519f[_0x255210(0x1a2)]());if(_0x5d8fc4[_0x255210(0x31c)]===0x0)throw new Error(_0x255210(0x6ae));const _0x249c36=calculateItemAnalysis(_0x60bb80,_0x5d8fc4)[_0x255210(0x242)],_0x2b51ec=calculateDistractorAnalysis(_0x60bb80,_0x5d8fc4),_0x3cd05f=_0x470951=>{const _0x1d1eb7=_0x255210;if(!_0x470951)return'';return _0x470951['replace'](/\\/g,'\x5c\x5c')[_0x1d1eb7(0x1f2)](/"/g,'\x5c\x22')[_0x1d1eb7(0x1f2)](/\n/g,'\x5cn');};let _0x50571e=_0x255210(0x53c);_0x60bb80[_0x255210(0x193)][_0x255210(0x1c8)]((_0x34d126,_0x1ddcc7)=>{const _0x43f56e=_0x255210,_0x3f63aa=_0x249c36[_0x1ddcc7]?.['p']['toFixed'](0x2)||_0x43f56e(0x2ea),_0x15c279=_0x249c36[_0x1ddcc7]?.['r'][_0x43f56e(0x5fd)](0x2)||_0x43f56e(0x2ea),_0x1ae2a6=_0x3cd05f(_0x34d126['questionText']||_0x34d126[_0x43f56e(0x114)]);_0x50571e+=_0x43f56e(0x69e)+(_0x1ddcc7+0x1)+_0x43f56e(0x50d)+_0x3f63aa+_0x43f56e(0x594)+_0x15c279+'):\x20'+_0x1ae2a6+'\x5cn';if(_0x34d126[_0x43f56e(0x327)]===_0x43f56e(0x75a)&&_0x2b51ec[_0x1ddcc7]){const _0x4935db=_0x2b51ec[_0x1ddcc7],_0x4ade98=Object[_0x43f56e(0x41b)](_0x4935db)['filter'](_0x4c74bb=>parseInt(_0x4c74bb)!==_0x34d126[_0x43f56e(0x363)])[_0x43f56e(0x2e8)]((_0x2ab1b8,_0x1b70e1)=>_0x4935db[_0x1b70e1][_0x43f56e(0x4a4)]-_0x4935db[_0x2ab1b8]['total'])[0x0];if(_0x4ade98&&_0x4935db[_0x4ade98]['total']>0x0){const _0x3bd590=_0x3cd05f(_0x4935db[_0x4ade98][_0x43f56e(0x85f)]);_0x50571e+=_0x43f56e(0x442)+_0x3bd590+_0x43f56e(0x630);}}});const _0x2767db=_0x255210(0x293)+_0x60bb80[_0x255210(0x158)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50571e+_0x255210(0x11f),_0x4c3eed={'type':_0x255210(0x831),'properties':{'learningGaps':{'type':_0x255210(0x288),'items':{'type':_0x255210(0x7ab)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x255210(0x288),'items':{'type':_0x255210(0x831),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':[_0x255210(0x61c),_0x255210(0x63e),'practiceProblems']},_0x480255=await callAnalysisApi(_0x2767db,_0x4c3eed);await updateDoc(_0x5f411f,{'lessonPlan':_0x480255});const _0xafde2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x60bb80[_0x255210(0x158)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x480255[_0x255210(0x61c)][_0x255210(0x844)](_0x43d2f6=>'<li>'+_0x43d2f6+_0x255210(0x787))[_0x255210(0x63c)]('')+_0x255210(0x2b0)+_0x480255[_0x255210(0x63e)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x480255[_0x255210(0x467)][_0x255210(0x844)](_0x14f65e=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x14f65e[_0x255210(0x3ec)]+_0x255210(0x6ec)+_0x14f65e[_0x255210(0x749)]+_0x255210(0x3f7))[_0x255210(0x63c)]('')+_0x255210(0x134);document[_0x255210(0x633)](_0x255210(0x5a3))[_0x255210(0x1d4)]=_0x255210(0x719)+_0x60bb80['topic'],document[_0x255210(0x633)]('lesson-plan-content')[_0x255210(0x5fb)]=_0xafde2,document[_0x255210(0x633)](_0x255210(0x2a0))[_0x255210(0x1a4)]['remove'](_0x255210(0x10c));if(window['MathJax'])MathJax['typesetPromise']();messageModal[_0x255210(0x1a4)][_0x255210(0x10f)](_0x255210(0x10c));}catch(_0x1ab59e){console['error'](_0x255210(0x24f),_0x1ab59e),showMessage(_0x255210(0x202)+_0x1ab59e[_0x255210(0x64a)]);}}async function handleDuplicateQuiz(_0x2a6650){const _0x344a9e=_0x433974;try{const _0x4c93b9=doc(db,_0x344a9e(0x2c6)+appId+_0x344a9e(0x506),_0x2a6650),_0x2a9513=await getDoc(_0x4c93b9);if(_0x2a9513[_0x344a9e(0x660)]()){const _0x5d6187=_0x2a9513[_0x344a9e(0x1a2)]();let _0x20dd19='',_0x49f700=_0x344a9e(0x12f),_0x29df54=null;if(_0x5d6187[_0x344a9e(0x27b)]==='pre-test'){let _0x10752b=_0x5d6187[_0x344a9e(0x158)]['replace']('(ก่อนเรียน)','')[_0x344a9e(0x882)]();_0x20dd19=_0x344a9e(0x3a1)+_0x10752b,_0x49f700=_0x344a9e(0x291),_0x29df54=_0x2a6650;}else _0x20dd19=_0x344a9e(0x469)+_0x5d6187['topic'];const _0x1a19c9={..._0x5d6187,'topic':_0x20dd19,'createdAt':new Date()[_0x344a9e(0x6c0)](),'quizMode':_0x49f700,'pairedQuizId':_0x29df54};let _0x3c533d;while(!![]){_0x3c533d=Math[_0x344a9e(0x484)](0x3e8+Math['random']()*0x2328)['toString']();const _0x1df502=await getDoc(doc(db,_0x344a9e(0x2c6)+appId+_0x344a9e(0x506),_0x3c533d));if(!_0x1df502[_0x344a9e(0x660)]())break;}const _0x11ff08=doc(db,_0x344a9e(0x2c6)+appId+_0x344a9e(0x506),_0x3c533d);await setDoc(_0x11ff08,_0x1a19c9),_0x1a19c9[_0x344a9e(0x27b)]===_0x344a9e(0x291)&&await updateDoc(_0x4c93b9,{'pairedQuizId':_0x3c533d}),showMessage(_0x344a9e(0x3ed));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0xf90b0){console[_0x344a9e(0x6ee)]('Error\x20duplicating\x20quiz:',_0xf90b0),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x364b6a,_0x3ea0c3=!![]){const _0x417300=_0x433974;try{const _0x2b2288=writeBatch(db),_0x21b3e1=collection(db,_0x417300(0x2c6)+appId+_0x417300(0x315)+_0x364b6a+'/submissions'),_0x15764b=await getDocs(_0x21b3e1);_0x15764b['forEach'](_0x45ebca=>{const _0x54a578=_0x417300;_0x2b2288[_0x54a578(0x5a6)](doc(_0x21b3e1,_0x45ebca['id']));});const _0x76e18f=doc(db,_0x417300(0x2c6)+appId+_0x417300(0x506),_0x364b6a);_0x2b2288[_0x417300(0x5a6)](_0x76e18f),await _0x2b2288[_0x417300(0x80b)](),_0x3ea0c3&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0xb58ed7){console[_0x417300(0x6ee)](_0x417300(0x6f7),_0xb58ed7),_0x3ea0c3&&showMessage(_0x417300(0x4cd));}}async function showQuizDetailView(_0x39c344){const _0x13fb00=_0x433974;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x13fb00(0x2bc));try{const _0x575092=doc(db,_0x13fb00(0x2c6)+appId+'/public/data/quizzes',_0x39c344),_0x2a16b1=await getDoc(_0x575092);if(!_0x2a16b1[_0x13fb00(0x660)]()){showMessage(_0x13fb00(0x5c6));return;}const _0x2253e6={'id':_0x2a16b1['id'],..._0x2a16b1[_0x13fb00(0x1a2)]()};currentQuizData=_0x2253e6;const _0x5532b4=doc(db,'artifacts/'+appId+_0x13fb00(0x528),_0x2253e6[_0x13fb00(0x2be)]),_0x52d8c2=await getDoc(_0x5532b4);_0x52d8c2[_0x13fb00(0x660)]()?(currentProjectData=_0x52d8c2[_0x13fb00(0x1a2)](),currentProjectId=_0x2253e6[_0x13fb00(0x2be)]):(currentProjectData={'students':[]},currentProjectId=_0x2253e6[_0x13fb00(0x2be)]);document[_0x13fb00(0x633)](_0x13fb00(0x35b))[_0x13fb00(0x1d4)]=_0x2253e6[_0x13fb00(0x158)],document['getElementById'](_0x13fb00(0x635))[_0x13fb00(0x1d4)]=_0x39c344;const _0x1a7af1=collection(db,_0x13fb00(0x2c6)+appId+'/public/data/quizzes',_0x39c344,_0x13fb00(0x1f6));unsubscribeSubmissionsListener=onSnapshot(_0x1a7af1,_0x1b8b24=>{const _0x50c8f1=_0x13fb00,_0x32de01=_0x1b8b24[_0x50c8f1(0x600)][_0x50c8f1(0x844)](_0x2a34e5=>({'id':_0x2a34e5['id'],..._0x2a34e5[_0x50c8f1(0x1a2)]()}));currentSubmissions=_0x32de01,renderBehaviorLog(_0x32de01),renderAnswerGrid(currentProjectData[_0x50c8f1(0x647)],_0x32de01,_0x2253e6),renderAnalytics(_0x2253e6,_0x32de01),renderQuizResultsTable(currentProjectData['students'],_0x32de01,_0x2253e6),renderQuizLeaderboard(_0x32de01,_0x2253e6,_0x50c8f1(0x6ac));}),showView('quiz-results');}catch(_0x5d5106){console[_0x13fb00(0x6ee)](_0x13fb00(0x5b3),_0x5d5106),showMessage(_0x13fb00(0x5a4));}}function renderAnswerGrid(_0x2278c9,_0x35964d,_0x56f316){const _0x196121=_0x433974,_0x1d6f73=document[_0x196121(0x633)](_0x196121(0x632));if(!_0x1d6f73)return;if(!_0x2278c9||_0x2278c9['length']===0x0){_0x1d6f73[_0x196121(0x5fb)]=_0x196121(0x480);return;}const _0x13d9fb=_0x56f316[_0x196121(0x193)],_0x354bc8=_0x35964d['reduce']((_0x44604d,_0x26fdad)=>{const _0x19492a=_0x196121;return _0x44604d[_0x26fdad[_0x19492a(0x534)]]=_0x26fdad,_0x44604d;},{}),_0x496e03=_0x203182=>String[_0x196121(0x1eb)](0x41+_0x203182),_0x3da713=_0x54ce3e=>{const _0x17e155=_0x196121,_0x4d45f4=_0x54ce3e[_0x17e155(0x327)]||_0x56f316[_0x17e155(0x5e4)];switch(_0x4d45f4){case _0x17e155(0x75a):return _0x54ce3e[_0x17e155(0x482)]&&_0x54ce3e[_0x17e155(0x482)][_0x17e155(0x31c)]>_0x54ce3e['correctAnswerIndex']?_0x496e03(_0x54ce3e[_0x17e155(0x363)]):'-';case _0x17e155(0x797):return _0x54ce3e[_0x17e155(0x863)]?_0x17e155(0x38e):_0x17e155(0x6e7);case _0x17e155(0x39c):return _0x54ce3e[_0x17e155(0x25c)]||'-';case _0x17e155(0x6f3):return _0x17e155(0x406);default:return'-';}},_0x305bbc=(_0x51e420,_0x2bcff5)=>{const _0x60acb4=_0x196121;if(_0x2bcff5[_0x60acb4(0x49a)]===null||_0x2bcff5['answer']===undefined)return'-';const _0x3acf4f=_0x51e420[_0x60acb4(0x327)]||_0x56f316[_0x60acb4(0x5e4)];switch(_0x3acf4f){case'multiple_choice':const _0x3accef=_0x51e420[_0x60acb4(0x482)]['findIndex'](_0x2f4c27=>_0x2f4c27===_0x2bcff5[_0x60acb4(0x3d2)]);return _0x3accef!==-0x1?_0x496e03(_0x3accef):_0x2bcff5[_0x60acb4(0x3d2)]||'-';case _0x60acb4(0x797):return _0x2bcff5[_0x60acb4(0x49a)]===_0x60acb4(0x7a3)||_0x2bcff5[_0x60acb4(0x49a)]===!![]?_0x60acb4(0x38e):_0x60acb4(0x6e7);default:return _0x2bcff5[_0x60acb4(0x49a)];}};let _0xcdd127=_0x196121(0x324)+_0x13d9fb[_0x196121(0x844)]((_0xe886d7,_0x1b157e)=>_0x196121(0x772)+(_0x1b157e+0x1)+'</th>')[_0x196121(0x63c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13d9fb[_0x196121(0x844)](_0x60dca1=>_0x196121(0x6dc)+_0x3da713(_0x60dca1)+_0x196121(0x1cd))['join']('')+_0x196121(0x1f7);_0x2278c9['forEach'](_0x295688=>{const _0x920959=_0x196121;_0xcdd127+=_0x920959(0x58e),_0xcdd127+=_0x920959(0x85c)+_0x295688+_0x920959(0x1cd);const _0x17afa2=_0x354bc8[_0x295688];if(_0x17afa2){const _0x5db3ed=_0x17afa2[_0x920959(0x5f3)][_0x17afa2[_0x920959(0x5f3)]['length']-0x1];_0x13d9fb[_0x920959(0x1c8)]((_0x25d6cd,_0x168edc)=>{const _0x3bc688=_0x920959,_0x82d36f=_0x5db3ed[_0x3bc688(0x30a)][_0x3bc688(0x7c5)](_0x3b9b94=>_0x3b9b94[_0x3bc688(0x436)]===(_0x25d6cd[_0x3bc688(0x114)]||_0x25d6cd[_0x3bc688(0x84f)]));if(_0x82d36f){let _0x36152c=![];const _0x43f327=_0x25d6cd[_0x3bc688(0x327)]||_0x56f316['quizType'];if(_0x82d36f[_0x3bc688(0x49a)]!==null&&_0x82d36f[_0x3bc688(0x49a)]!==undefined)switch(_0x43f327){case'multiple_choice':const _0x258d71=_0x25d6cd[_0x3bc688(0x482)][_0x25d6cd['correctAnswerIndex']];_0x36152c=_0x82d36f[_0x3bc688(0x3d2)]===_0x258d71;break;case _0x3bc688(0x797):const _0x17c834=_0x82d36f[_0x3bc688(0x49a)]===!![]||_0x82d36f[_0x3bc688(0x49a)]===_0x3bc688(0x7a3);_0x36152c=_0x17c834===_0x25d6cd[_0x3bc688(0x863)];break;case _0x3bc688(0x39c):_0x36152c=_0x82d36f['answer']===_0x25d6cd[_0x3bc688(0x25c)];break;default:_0x36152c=_0x82d36f[_0x3bc688(0x4e9)];break;}const _0x4b6c19=_0x36152c?_0x3bc688(0x120):'bg-red-100';_0xcdd127+=_0x3bc688(0x4c0)+_0x4b6c19+'\x22>'+_0x305bbc(_0x25d6cd,_0x82d36f)+'</td>';}else _0xcdd127+=_0x3bc688(0x5f9);});}else _0xcdd127+=_0x13d9fb[_0x920959(0x844)](()=>_0x920959(0x79c))[_0x920959(0x63c)]('');_0xcdd127+=_0x920959(0x255);}),_0xcdd127+='</tbody></table>',_0x1d6f73[_0x196121(0x5fb)]=_0xcdd127;}function renderQuizResultsTable(_0x3df0fa,_0x3a183c,_0x1b2574){const _0x36bffe=_0x433974,_0x4065af=_0x3a183c[_0x36bffe(0x4c9)]((_0x425bb7,_0x5b815e)=>{const _0x2c73c8=_0x36bffe;return _0x425bb7[_0x5b815e[_0x2c73c8(0x534)]]=_0x5b815e,_0x425bb7;},{}),_0x2ef75f=document[_0x36bffe(0x3fa)](_0x36bffe(0x518));_0x2ef75f&&!_0x2ef75f[_0x36bffe(0x5fb)][_0x36bffe(0x335)](_0x36bffe(0x676))&&(_0x2ef75f['innerHTML']+=_0x36bffe(0x25e));const _0x172af5=document[_0x36bffe(0x633)]('quiz-results-table-body');if(!_0x3df0fa||_0x3df0fa['length']===0x0){_0x172af5['innerHTML']=_0x36bffe(0x22b);return;}const _0x48e3ec=_0x1b2574['isRemedial']===!![],_0x2b3f65=_0x1b2574[_0x36bffe(0x262)]?.['passingScore']??-0x1;let _0x477bc4='';_0x3df0fa['forEach'](_0x140c3c=>{const _0x412136=_0x36bffe,_0x16e4b4=_0x4065af[_0x140c3c];let _0x5e9ac8=_0x412136(0x642),_0x51b9b8=_0x412136(0x5ac)+(_0x48e3ec?_0x412136(0x515):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x48e3ec?_0x412136(0x3b0):_0x412136(0x3d4))+_0x412136(0x23e);if(_0x16e4b4){let _0x40d39a=_0x48e3ec?_0x16e4b4[_0x412136(0x2f3)]===_0x16e4b4['totalQuestions']:_0x2b3f65!==-0x1&&_0x16e4b4[_0x412136(0x2f3)]>=_0x2b3f65;if(_0x48e3ec||_0x2b3f65!==-0x1){const _0x2c4d5a=_0x40d39a?_0x412136(0x45f):_0x412136(0x113),_0x5a16d4=_0x40d39a?_0x412136(0x3b8):_0x412136(0x258);_0x5e9ac8='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x2c4d5a+'\x22>'+_0x5a16d4+_0x412136(0x23e);}const _0x4b8409=_0x412136(0x218)+(_0x16e4b4[_0x412136(0x5f3)]?.[_0x412136(0x31c)]||0x1)+_0x412136(0x420);_0x477bc4+=_0x412136(0x546)+_0x140c3c+_0x412136(0x14c)+_0x16e4b4[_0x412136(0x2f3)]+_0x412136(0x6ea)+_0x16e4b4[_0x412136(0x119)]+_0x412136(0x4f0)+_0x5e9ac8+_0x412136(0x777)+_0x51b9b8+_0x412136(0x329)+_0x16e4b4[_0x412136(0x2ad)]+_0x412136(0x6ea)+_0x16e4b4[_0x412136(0x119)]+_0x412136(0x560)+_0x16e4b4[_0x412136(0x81f)]+_0x412136(0x6ea)+_0x16e4b4[_0x412136(0x119)]+'</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x16e4b4['points']||0x0)+_0x412136(0x4f0)+_0x4b8409+_0x412136(0x56e)+new Date(_0x16e4b4[_0x412136(0x1a6)])['toLocaleString'](_0x412136(0x40c))+_0x412136(0x3c1)+_0x140c3c+_0x412136(0x664);}else{const _0x3d68d8=_0x412136(0x60e);_0x477bc4+=_0x412136(0x546)+_0x140c3c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51b9b8+_0x412136(0x5a1)+_0x3d68d8+_0x412136(0x800);}}),_0x172af5[_0x36bffe(0x5fb)]=_0x477bc4;}async function confirmRenameQuiz(){const _0x12e281=_0x433974,_0x149646=document[_0x12e281(0x633)]('rename-quiz-input')[_0x12e281(0x411)][_0x12e281(0x882)]();if(!_0x149646){showMessage(_0x12e281(0x271));return;}if(!actionTargetId)return;const _0x3e223b=doc(db,'artifacts/'+appId+_0x12e281(0x506),actionTargetId);try{await updateDoc(_0x3e223b,{'topic':_0x149646}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x12e281(0x1a4)][_0x12e281(0x10f)]('hidden'),actionTargetId=null;}catch(_0x30a2e2){console['error'](_0x12e281(0x7f6),_0x30a2e2),showMessage(_0x12e281(0x548));}}async function handleMoveQuiz(_0x45ef45){const _0x174804=_0x433974;actionTargetId=_0x45ef45;const _0x578077=document[_0x174804(0x633)](_0x174804(0x57a));_0x578077['innerHTML']=_0x174804(0x87e),moveQuizModal[_0x174804(0x1a4)][_0x174804(0x33c)](_0x174804(0x10c));try{const _0x484c96=collection(db,_0x174804(0x2c6)+appId+_0x174804(0x528)),_0x31d789=await getDocs(_0x484c96),_0xbb0b58=_0x31d789['docs']['map'](_0x522075=>({'id':_0x522075['id'],..._0x522075[_0x174804(0x1a2)]()})),_0x38a61d=_0xbb0b58[_0x174804(0x622)](_0x2724f5=>_0x2724f5['id']!==currentProjectId);if(_0x38a61d['length']===0x0){_0x578077['innerHTML']=_0x174804(0x875),document[_0x174804(0x633)](_0x174804(0x752))[_0x174804(0x6b0)]=!![];return;}_0x578077[_0x174804(0x5fb)]=_0x38a61d[_0x174804(0x844)](_0x1c10d6=>'<option\x20value=\x22'+_0x1c10d6['id']+'\x22>'+_0x1c10d6[_0x174804(0x332)]+'</option>')[_0x174804(0x63c)](''),document[_0x174804(0x633)](_0x174804(0x752))[_0x174804(0x6b0)]=![];}catch(_0x504886){console['error'](_0x174804(0x27c),_0x504886),showMessage(_0x174804(0x3f0)),moveQuizModal[_0x174804(0x1a4)][_0x174804(0x10f)](_0x174804(0x10c));}}async function confirmMoveQuiz(){const _0x1e0447=_0x433974,_0x588ceb=document[_0x1e0447(0x633)]('move-quiz-project-select')[_0x1e0447(0x411)];if(!_0x588ceb){showMessage(_0x1e0447(0x785));return;}if(!actionTargetId)return;const _0x538ba9=doc(db,_0x1e0447(0x2c6)+appId+_0x1e0447(0x506),actionTargetId);try{await updateDoc(_0x538ba9,{'projectId':_0x588ceb}),showMessage(_0x1e0447(0x6bf)),moveQuizModal[_0x1e0447(0x1a4)][_0x1e0447(0x10f)](_0x1e0447(0x10c)),actionTargetId=null;}catch(_0x2a3488){console['error'](_0x1e0447(0x125),_0x2a3488),showMessage(_0x1e0447(0x1ab));}}async function handleQuizSettings(_0x9ea4d8){const _0x578c0c=_0x433974;actionTargetId=_0x9ea4d8;const _0xc45c2d=doc(db,_0x578c0c(0x2c6)+appId+_0x578c0c(0x506),_0x9ea4d8);try{const _0x3cc1cb=await getDoc(_0xc45c2d);if(_0x3cc1cb[_0x578c0c(0x660)]()){const _0x33afda=_0x3cc1cb['data'](),_0x1bc183=_0x33afda[_0x578c0c(0x262)]||{},_0x581f37=_0x33afda[_0x578c0c(0x193)]['length'];document[_0x578c0c(0x633)](_0x578c0c(0x6d1))[_0x578c0c(0x411)]=_0x1bc183[_0x578c0c(0x476)]||_0x578c0c(0x19e),document[_0x578c0c(0x633)]('modal-results-display-select')[_0x578c0c(0x411)]=_0x1bc183[_0x578c0c(0x413)]||_0x578c0c(0x309),document[_0x578c0c(0x633)]('modal-timer-mode-select')['value']=_0x1bc183[_0x578c0c(0x71f)]||_0x578c0c(0x19e),document['getElementById'](_0x578c0c(0x403))[_0x578c0c(0x411)]=_0x1bc183[_0x578c0c(0x837)]||0xa,document[_0x578c0c(0x633)](_0x578c0c(0x754))['value']=_0x1bc183[_0x578c0c(0x76b)]||Math[_0x578c0c(0x484)](_0x581f37/0x2),document[_0x578c0c(0x633)](_0x578c0c(0x754))['max']=_0x581f37,document[_0x578c0c(0x633)](_0x578c0c(0x7b5))[_0x578c0c(0x4d8)]=_0x1bc183['isAdaptive']||![],document[_0x578c0c(0x633)](_0x578c0c(0x868))[_0x578c0c(0x4d8)]=_0x1bc183[_0x578c0c(0x2cf)]||![],document[_0x578c0c(0x633)](_0x578c0c(0x58c))[_0x578c0c(0x105)](new Event(_0x578c0c(0x5d6))),quizSettingsModal[_0x578c0c(0x1a4)][_0x578c0c(0x33c)](_0x578c0c(0x10c));}else showMessage(_0x578c0c(0x5c6));}catch(_0x575a3d){console[_0x578c0c(0x6ee)](_0x578c0c(0x1d0),_0x575a3d),showMessage(_0x578c0c(0x5eb));}}async function confirmQuizSettings(){const _0x4d02ea=_0x433974;if(!actionTargetId)return;const _0x11661d=doc(db,_0x4d02ea(0x2c6)+appId+_0x4d02ea(0x506),actionTargetId),_0x50ec70={'shuffle':document[_0x4d02ea(0x633)]('modal-shuffle-select')[_0x4d02ea(0x411)],'resultsDisplay':document[_0x4d02ea(0x633)](_0x4d02ea(0x2c8))[_0x4d02ea(0x411)],'timerMode':document[_0x4d02ea(0x633)]('modal-timer-mode-select')['value'],'timerDuration':parseInt(document[_0x4d02ea(0x633)](_0x4d02ea(0x403))[_0x4d02ea(0x411)])||0xa,'passingScore':parseInt(document[_0x4d02ea(0x633)](_0x4d02ea(0x754))[_0x4d02ea(0x411)])||0x0,'passingScore':parseInt(document[_0x4d02ea(0x633)](_0x4d02ea(0x754))[_0x4d02ea(0x411)])||0x0,'isAdaptive':document[_0x4d02ea(0x633)](_0x4d02ea(0x7b5))[_0x4d02ea(0x4d8)],'loopUntilPass':document['getElementById'](_0x4d02ea(0x868))['checked']};try{await updateDoc(_0x11661d,{'settings':_0x50ec70}),showMessage(_0x4d02ea(0x298)),quizSettingsModal[_0x4d02ea(0x1a4)][_0x4d02ea(0x10f)](_0x4d02ea(0x10c)),actionTargetId=null;}catch(_0x319f01){console[_0x4d02ea(0x6ee)](_0x4d02ea(0x237),_0x319f01),showMessage(_0x4d02ea(0x67b));}}async function handleQuizStatus(_0x3fed0d){const _0x154434=_0x433974;actionTargetId=_0x3fed0d;const _0x2a17cd=doc(db,_0x154434(0x2c6)+appId+_0x154434(0x506),_0x3fed0d);try{const _0x25c2b5=await getDoc(_0x2a17cd);if(_0x25c2b5[_0x154434(0x660)]()){const _0x26413a=_0x25c2b5[_0x154434(0x1a2)](),_0x564f17=_0x26413a[_0x154434(0x21b)]||'active',_0x1a2941=document[_0x154434(0x633)](_0x154434(0x669)),_0xa51401=document['getElementById'](_0x154434(0x2c9)),_0x2b0fde=document[_0x154434(0x633)]('quiz-schedule-end-container');let _0x552a9c=_0x154434(0x860)+(_0x564f17===_0x154434(0x532)?'checked':'')+_0x154434(0x6aa)+(_0x564f17===_0x154434(0x502)?_0x154434(0x4d8):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x564f17===_0x154434(0x2df)?'checked':'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x1a2941[_0x154434(0x5fb)]=_0x552a9c;const _0xb7b5ca=_0x564f17===_0x154434(0x2df);_0xa51401[_0x154434(0x1a4)][_0x154434(0x55f)]('hidden',!_0xb7b5ca),_0x2b0fde['classList']['toggle'](_0x154434(0x10c),!_0xb7b5ca),document[_0x154434(0x633)](_0x154434(0x6ce))[_0x154434(0x411)]=_0x26413a[_0x154434(0x73c)]?_0x26413a[_0x154434(0x73c)][_0x154434(0x31e)](0x0,0x10):'',document[_0x154434(0x633)](_0x154434(0x1d9))['value']=_0x26413a[_0x154434(0x6c3)]?_0x26413a['endTime'][_0x154434(0x31e)](0x0,0x10):'',_0x1a2941[_0x154434(0x6a8)](_0x154434(0x782))[_0x154434(0x1c8)](_0x12bfe0=>{const _0x12d7ff=_0x154434;_0x12bfe0['addEventListener'](_0x12d7ff(0x5d6),_0x25414f=>{const _0x2260cf=_0x12d7ff,_0x1f16ba=_0x25414f[_0x2260cf(0x1b5)][_0x2260cf(0x411)]===_0x2260cf(0x234);_0xa51401['classList'][_0x2260cf(0x55f)](_0x2260cf(0x10c),!_0x1f16ba),_0x2b0fde[_0x2260cf(0x1a4)][_0x2260cf(0x55f)](_0x2260cf(0x10c),!_0x1f16ba);});}),quizStatusModal['classList'][_0x154434(0x33c)](_0x154434(0x10c));}}catch(_0x15ff5f){console[_0x154434(0x6ee)](_0x154434(0x2a9),_0x15ff5f),showMessage(_0x154434(0x492));}}async function confirmQuizStatus(){const _0x24b3b4=_0x433974;if(!actionTargetId)return;const _0x40230a=doc(db,_0x24b3b4(0x2c6)+appId+_0x24b3b4(0x506),actionTargetId),_0x312d0b=document[_0x24b3b4(0x3fa)](_0x24b3b4(0x23f));if(!_0x312d0b){showMessage(_0x24b3b4(0x2e6));return;}const _0x3155d1=_0x312d0b[_0x24b3b4(0x411)];let _0x2ad76f={};if(_0x3155d1===_0x24b3b4(0x532)||_0x3155d1===_0x24b3b4(0x502))_0x2ad76f={'status':_0x3155d1,'startTime':null,'endTime':null};else{if(_0x3155d1==='schedule'){const _0x3cfd46=document[_0x24b3b4(0x633)](_0x24b3b4(0x6ce))['value'],_0x220db5=document[_0x24b3b4(0x633)]('quiz-end-time')['value'];if(!_0x3cfd46&&!_0x220db5){showMessage(_0x24b3b4(0x6b2));return;}_0x2ad76f={'status':_0x24b3b4(0x2df),'startTime':_0x3cfd46?new Date(_0x3cfd46)[_0x24b3b4(0x6c0)]():null,'endTime':_0x220db5?new Date(_0x220db5)[_0x24b3b4(0x6c0)]():null};}}try{await updateDoc(_0x40230a,_0x2ad76f),showMessage(_0x24b3b4(0x2c2)),quizStatusModal[_0x24b3b4(0x1a4)][_0x24b3b4(0x10f)](_0x24b3b4(0x10c)),actionTargetId=null;}catch(_0x1d5eb5){console[_0x24b3b4(0x6ee)](_0x24b3b4(0x828),_0x1d5eb5),showMessage(_0x24b3b4(0x500));}}function listenForStudentProfiles(_0x402add){const _0x411cce=_0x433974,_0x1a59e0=collection(db,_0x411cce(0x2c6)+appId+_0x411cce(0x18c)+_0x402add+_0x411cce(0x6c4));unsubscribeStudentProfilesListener=onSnapshot(_0x1a59e0,_0x70cbaf=>{const _0x1fdfe7=_0x411cce,_0x3a3a61=_0x70cbaf[_0x1fdfe7(0x600)][_0x1fdfe7(0x844)](_0x40fe68=>_0x40fe68['data']());renderLeaderboard(_0x3a3a61,_0x1fdfe7(0x189));},_0x302f7e=>{const _0x277948=_0x411cce;console['error'](_0x277948(0x686),_0x302f7e),document[_0x277948(0x633)]('leaderboard-table-body')[_0x277948(0x5fb)]=_0x277948(0x4c7);});}function renderLeaderboard(_0x1fc228,_0x5e0d6d){const _0xffb62f=_0x433974,_0x5bc38b=document[_0xffb62f(0x633)](_0x5e0d6d);if(!_0x1fc228||_0x1fc228[_0xffb62f(0x31c)]===0x0){_0x5bc38b[_0xffb62f(0x5fb)]=_0xffb62f(0x88d);return;}_0x1fc228[_0xffb62f(0x2e8)]((_0x40f398,_0x19ea8b)=>{const _0x3b3bf1=_0xffb62f,_0x1e681d=(_0x19ea8b[_0x3b3bf1(0x59e)]||0x0)-(_0x40f398[_0x3b3bf1(0x59e)]||0x0);if(_0x1e681d!==0x0)return _0x1e681d;const _0x2240d6=(_0x19ea8b[_0x3b3bf1(0x2c1)]?.[_0x3b3bf1(0x570)]||0x0)-(_0x40f398['badgesCount']?.[_0x3b3bf1(0x570)]||0x0);if(_0x2240d6!==0x0)return _0x2240d6;const _0x5bcac7=(_0x19ea8b[_0x3b3bf1(0x2c1)]?.[_0x3b3bf1(0x43d)]||0x0)-(_0x40f398[_0x3b3bf1(0x2c1)]?.[_0x3b3bf1(0x43d)]||0x0);if(_0x5bcac7!==0x0)return _0x5bcac7;const _0x51c013=(_0x19ea8b[_0x3b3bf1(0x2c1)]?.['perfect_score']||0x0)-(_0x40f398[_0x3b3bf1(0x2c1)]?.['perfect_score']||0x0);if(_0x51c013!==0x0)return _0x51c013;const _0x1a1ae4=(_0x19ea8b[_0x3b3bf1(0x2c1)]?.[_0x3b3bf1(0x7d9)]||0x0)-(_0x40f398[_0x3b3bf1(0x2c1)]?.[_0x3b3bf1(0x7d9)]||0x0);if(_0x1a1ae4!==0x0)return _0x1a1ae4;return _0x40f398['studentName'][_0x3b3bf1(0x60a)](_0x19ea8b[_0x3b3bf1(0x534)],'th');});let _0x15e290='';_0x1fc228['forEach']((_0x1d1a73,_0x74f8f0)=>{const _0x310161=_0xffb62f,_0x285d38=_0x74f8f0+0x1,_0x2e3ff0=_0x1d1a73['badgesCount']||{};let _0x1cbeb8='';const _0x11ed8f=['specialist',_0x310161(0x588),_0x310161(0x43d),_0x310161(0x7d9)];_0x11ed8f[_0x310161(0x1c8)](_0x389c74=>{const _0x5e8a01=_0x310161;if(_0x2e3ff0[_0x389c74]>0x0){const _0x1f689c=Object[_0x5e8a01(0x701)](BADGES)['find'](_0x2afdd4=>_0x2afdd4['id']===_0x389c74);_0x1f689c&&(_0x389c74==='specialist'?_0x1cbeb8+=_0x5e8a01(0x118)+_0x1f689c[_0x5e8a01(0x3ab)]+_0x5e8a01(0x2b1)+_0x1f689c[_0x5e8a01(0x1b0)]+_0x5e8a01(0x888):_0x1cbeb8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x1f689c[_0x5e8a01(0x3ab)]+'\x20('+_0x2e3ff0[_0x389c74]+_0x5e8a01(0x584)+_0x1f689c[_0x5e8a01(0x1b0)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x2e3ff0[_0x389c74]+_0x5e8a01(0x2f9));}}),_0x15e290+=_0x310161(0x24d)+_0x285d38+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1d1a73[_0x310161(0x534)]+_0x310161(0x289)+(_0x1d1a73[_0x310161(0x59e)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x1cbeb8||'-')+_0x310161(0x533);}),_0x5bc38b[_0xffb62f(0x5fb)]=_0x15e290;}function _0x2921(){const _0x3c7e31=['ฟังก์ชันผกผัน','worksheet-tab','fa-user-astronaut\x20text-blue-700','\x20รายการสำเร็จ!','input[name=\x22status-option\x22]','8WiMqTz','getAttributeNS','กรุณาเลือกโปรเจคปลายทาง','Error\x20deleting\x20project:','</li>','live-game-view','live-options-container','MathJax\x20typeset\x20error\x20(analytics):','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','createdAt','กรุณาใส่ชื่อโปรเจค','AI\x20grading\x20failed:','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','<tr\x20class=\x22','deselect-all-topics-btn','<p>','clientX','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','correct','true_false','เกิดข้อผิดพลาดในการติดดาว','</body></html>','removeChild','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','topic-input','text-gray-300\x20hover:text-white','บันทึกคำถามใหม่\x20','bg-green-100\x20font-bold','setFont','\x20mx-1\x20text-lg\x22></i></span>','true','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','binom','\x22\x20name=\x22question','circle','text-yellow-800','input[type=\x22text\x22]','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','STRING','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','cancel-delete-btn','.correctStreak','กำลังสร้างรูปภาพ...','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','ทฤษฎีทวินาม\x20(เบื้องต้น)','เมทริกซ์:\x20บวก/คูณ','กรุณาเลือกชื่อของคุณ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-adaptive-quiz-checkbox','comeback_king','Error\x20starting\x20live\x20race:','from','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','Error\x20saving\x20questions\x20to\x20practice\x20bank:','rgba(59,\x20130,\x20246,\x200.7)','submission','mouseup','อสมการเชิงเส้น','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','find','revealed','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','เกิดข้อผิดพลาดในการโหลดโปรเจค','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','lower_group_count','innerText','save-quiz-btn','Error\x20saving\x20submission:','admin-view','then','players.','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','leaderboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','create-project-modal','quick_thinker','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','project-name-input','projectOrder','ผู้ควบคุม\x20(ทดสอบ)','category','draggable-text','อัตราและอัตราหน่วย','ตรวจคะแนนใหม่\x20','title','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','ai-quiz-app-aefee.appspot.com','$1_{$2}','\x20\x0a\x20\x20\x20\x20','.edit-question-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','cancel-test-btn','COMEBACK_KING','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','text-indigo-600','reset-project-order-btn','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','createObjectURL','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startsWith','set','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','fas\x20fa-star\x20text-yellow-500','Error\x20renaming\x20quiz:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','parse','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','.group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','สู้ๆ\x20ลองอีกครั้งนะ','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Failed\x20to\x20parse\x20JSON\x20from\x20AI','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','[data-is-correct=\x22true\x22]','ระบบอสมการ','การแจกแจงปกติและ\x20z-score','file-topic-input','.edit-custom-topic-btn','commit','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','สมการค่าสัมบูรณ์','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','dataset','ai-quiz-app-aefee','(เลือกแล้ว\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','_opt1\x22\x20name=\x22question','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','currentTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ตัวประกอบและตัวประกอบเฉพาะ','สมการเชิงเส้นตัวแปรเดียว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','#view-rankings-btn','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','latestScore','student-rankings-modal','จับคู่เพื่อเปรียบเทียบผล','export-lesson-pdf-btn','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','back-to-home-manual-release','screen','Error\x20updating\x20quiz\x20status:','ตรวจทานเฉลยเสร็จสิ้น!','promptFeedback','ยอดเยี่ยม!','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x22><i\x20class=\x22fas\x20','ข้อที่\x20','OBJECT','close-lesson-plan-modal-footer-btn','/preferences/main','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','timerDuration','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<li\x20class=\x22','asc','getPage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','progress-student-select','.regenerate-question-editor-btn','การคูณเศษส่วน','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','/questionBank','map','student-quiz-leaderboard-tab','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','timestamp','\x20ข้อ\x20','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','PERFECT_SCORE','ไฮเพอร์โบลา','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การบวกทศนิยม','พื้นที่ผิวรูปทรงสามมิติ','questionText','allResponses','cancel-quiz-edits-btn-footer','getTextContent','\x22>ใช่</p>','PERSEVERANCE','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','text-red-700\x20bg-red-100','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','players','<button\x20id=\x22','far\x20fa-star','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','API\x20call\x20failed','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','ไม่พบแบบทดสอบในระบบเลย','tan','correctAnswer','click','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสแกนหาแบบทดสอบเก่า...','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','modal-loop-until-pass-checkbox','confirm-admin-login-btn','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','update','.project-card-container.opacity-50','Error\x20unpairing\x20quizzes:','generate-from-parallel-test-btn','fa-shield-alt\x20text-gray-600','no-projects-msg','การหารทศนิยม','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x20คู่\x20','\x22\x20data-pre-test-id=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','confirmation-message','text-white','สมการยกกำลัง','class','justification','<option>กำลังโหลดโปรเจค...</option>','คณิตศาสตร์','fa-fire\x20text-orange-500','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','trim','num-choices-container','msRequestFullscreen','behaviorLog','.topic-row','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบ:\x20','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','reference-pdf-upload','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','button[type=\x22submit\x22]','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ตัวเลือก.\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','Error\x20deleting\x20submission:','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','ความแปรปรวน','พาราโบลา','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','starred','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','submit','student-quiz-topic','คำตอบถูกต้อง!\x20+','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-content','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','per-question-options','<button\x20data-quiz-id=\x22','</span></p>','progress-project-select','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','afterend','user','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','quizId','onchange','createElementNS','promise','/users/','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','quiz-search-input','getBoundingClientRect','dispatchEvent','รูปสี่เหลี่ยมและสมบัติ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบ','Error\x20deleting\x20custom\x20topic:','export-leaderboard-pdf-btn','text-indigo-700','hidden','\x5csum','view-my-progress-btn','add','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','badges','link-url-input','bg-red-100\x20text-red-800','stem','\x5csqrt{$1}','[contenteditable=\x22true\x22]','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','totalQuestions','thead\x20.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertAdjacentHTML','upperGroupResponders','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100','drop','หน่วยความยาวและการแปลง','indexOf','สมการเหตุผล\x20(rational)','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.quiz-bank-present-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x20mb-2\x22>','ค่าเสื่อมราคา','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตรีโกณมิติ','standard','toDataURL','\x22\x20ให้เป็นคำถามประเภท\x20\x22','ระยะจากจุดถึงเส้นตรง','admin','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สเกลและแผนที่','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','round','Error\x20saving\x20visibility\x20settings:','mean','\x22.\x20','auto','border-green-500','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','กรุณาใส่ชื่อนักเรียน','\x5ctext{$1}','link-tab','3913PWDeHj','analyze-strengths-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchend','false','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','min','questionId','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','ลำดับการดำเนินการ\x20(PEMDAS)','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','desc','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','q-text-','Error\x20processing\x20file\x20for\x20AI:','presentation-explanation','comparison-overall-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic','วงกลม:\x20คอร์ดและเส้นสัมผัส','back-to-dashboard-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','toString','both','#ffffff','medium','การลบเศษส่วน','destroy','เศษส่วน\x20(ย่อ/ขยาย)','visibility_hidden','quiz-id-input','สมการตรีโกณมิติ','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','earned-badges-container','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','ผู้ไม่ยอมแพ้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-try-btn','การปัดเศษและประมาณค่า','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','27411472','.answeredCurrentQuestion','raw','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','cancel-quiz-bank-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ลบผลสอบของ\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','rgba(79,\x2070,\x20229,\x200.8)','text-gray-400\x20hover:text-indigo-600','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','key','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','temp-loader-results','text-green-600\x20font-bold','preventDefault','เลือกโปรเจคเพื่อบันทึก','leaderboard-table-body','กำลังดึงข้อมูลจากลิงก์...','%</span>','/public/data/projects/','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ไม่สามารถสร้างโปรเจคได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','generate-worksheet-btn','.score','questions','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','กำลังวิเคราะห์ข้อสอบ\x20\x22','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','$1^{\x5ccirc}','arrayBuffer','admin-action-buttons','quiz-editor-questions-container','พิสัย','touchstart','Firebase\x20initialization\x20failed:','none','back-to-student-home-btn','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','retake-quiz-loop-btn','data','generate-from-blueprint-btn','classList','FileReader\x20error:','latestSubmittedAt','adaptive-quiz-checkbox','dataIndex','teacherSuggestions','ไม่พบตารางสำหรับ\x20Export','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','top','15hJyJBT','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','whole_quiz','icon','move','text/csv;charset=utf-8;','Error\x20listening\x20for\x20custom\x20math\x20topics:','fill_in_with_choices','target','การกระจายและการจัดหมู่','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','results-table','ส่วนเบี่ยงเบนเฉลี่ย','answering','เกมสิ้นสุดลงแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','normal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','files','test','กรุณาเลือกไฟล์ก่อน','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แก้ไขข้อนี้','results_','\x5cneq','list','question-analytics-container','forEach','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','[data-topic-container-id]','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>','.pin-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','Error\x20fetching\x20quiz\x20settings:','image/png','student-project-leaderboard-tab','#student-project-leaderboard-content\x20thead','textContent','<span\x20class=\x22sort-indicator\x20ml-2\x22>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','svg','quiz-end-time','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','element','.draggable-text','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','กำลังจับคู่...','webkitRequestFullscreen','quiz-bank-modal','\x22>จาก:\x20','confirm-global-live-btn','274192258111','\x22>ไม่ใช่</p>','pre-test','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','.topic-name-input','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','fromCharCode','loader-text','_opt0\x22\x20name=\x22question','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Ideal\x20Answer:\x20\x22','worksheet-topic-input','replace','NUMBER','quiz-settings-modal','Error\x20saving\x20quiz\x20edits:','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','หมดเวลาสำหรับข้อนี้!','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isStarred','จำนวนเชิงซ้อน\x20(เสริม)','str','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','<br>','math-topic-search-input','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','blueprint-upload-input','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','เกิดข้อผิดพลาดในการอ่านไฟล์','.parallel-quiz-btn','Error\x20generating\x20quiz:','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','imageCode','practice-topic-btn','.topic-name-display','requestFullscreen','\x22\x20name=\x22question_single\x22\x20value=\x22','suggestedAnswer','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','Error\x20loading\x20quiz\x20for\x20student:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','บันทึกการตั้งค่าแล้ว','การลบทศนิยม','1:274192258111:web:4120c9118229b5644dd48a','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','underline','ควรปรับปรุง','status','results-table-container','ข้อ\x20','results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','Error\x20during\x20class\x20analysis:','กำลังอ่านและเตรียมไฟล์...','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','.pointsLastQuestion','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','open-quiz-bank-btn','auto-fix-latex-btn','analytics-tab-content','isRemedial','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','สร้างแบบทดสอบ','beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','doughnut','export-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader','schedule','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20updating\x20quiz\x20settings:','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','/public/data/practiceBank','confirm-quiz-status-btn','project-passcode-modal','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','typesetPromise','</span></td>','input[name=\x22status-option\x22]:checked','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','การนับ','perQuestionStats','back-from-results-btn','#E0E7FF','):\x20กรุณาอย่าสลับหน้าจอหรือออกจากแอปพลิเคชันระหว่างทำแบบทดสอบ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','ownerSVGElement','คำเตือน\x20(','):\x20กรุณาอย่าออกจากโหมดเต็มหน้าจอระหว่างทำแบบทดสอบ','leaderboard-quiz','Error\x20saving\x20to\x20question\x20bank:','\x20ช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','text-green-800','Error\x20generating\x20lesson\x20plan:','ไม่มี','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','delete-svg-btn','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','</tr>','uid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ผ่าน','แบบเติมคำตอบ','cancel-move-quiz-btn','ศูนย์','correctResponse','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','student-reading-area','การหารเศษส่วน','student-join-game-view','settings','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','ห.ร.ม.\x20(GCD)','parseFromString','per-q-countdown','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลการจับคู่','student-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','check-presentation-answer-btn','fa-rocket\x20text-purple-500','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','catch','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','กรุณาใส่ชื่อใหม่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','scrollY','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x20สำเร็จ','leq','พื้นที่วงกลม/ส่วนของวงกลม','คะแนนยังไม่ถึงครึ่ง','fa-crown\x20text-yellow-500','execCommand','quizMode','Error\x20fetching\x20projects\x20for\x20move:','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','cursor','cancel-export-pdf-btn','line-through\x20text-red-700','difficulty-level-select','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','hasOwnProperty','\x5c\x5c\x5c\x5c(?=(','.lastAnswerCorrect','bar','focus','ARRAY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','geq','.save-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','project-search-input','</div>','post-test','perseverance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','border-4','student-progress-view','บันทึกการตั้งค่าสำเร็จ','Error\x20fetching\x20project\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x5cfrac{','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_the_blank','Error\x20updating\x20sort\x20preference:','lesson-plan-modal','stdDev','เรขาคณิต','เกิดข้อผิดพลาดในการลบผลสอบ','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','link-input-area','nickname-input','generate-from-text-btn','Error\x20fetching\x20quiz\x20status:','<span\x20class=\x22font-bold\x20','left','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','ทศนิยม\x20(ค่าประจำหลัก)','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','_opt1\x22>ไม่ใช่</label></div>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','export-excel-btn','hint','ฮิสโตแกรม','right','showRankings','[*]','analytics','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','projectId','preTestId','เกิดข้อผิดพลาดในการสร้างห้องเกม','badgesCount','อัปเดตสถานะสำเร็จ','quiz-type-select','จำนวนคละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-results-display-select','quiz-schedule-start-container','fullscreenchange','Error\x20deleting\x20all\x20students:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','scrollIntoView','classWeaknesses','loopUntilPass','preScore','actions-container-','timer-duration-input','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','reveal-answer-btn','Authentication\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','passcode','$1\x5c%','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','document','removeAttribute','live-submit-short-answer-btn','scheduled','div[data-question-index=\x22','พบข้อสอบ\x20','การจัดหมู่\x20(Combination)','save-visibility-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-100','กรุณาเลือกสถานะ','\x20\x20\x20-\x20','sort','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','N/A','^{\x5ccirc}\x5ctext{C}$','now','ไม่สามารถบันทึกการตั้งค่าได้','เกิดข้อผิดพลาดในการอัปเดต:\x20','all','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-initial-view','bestScore','matching','\x22\x20เพื่อสร้างชุดคู่ขนาน...','force-math-checkbox','แบบทดสอบนี้ปิดใช้งานอยู่','write','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','half_mark_status','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x5cfrac{$1}{$2}','.choice-text','text-tab','create-project-btn','จุด\x20เส้น\x20ระนาบ','\x5cle','\x22\x20class=\x22pin-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','show_results_and_answers','answers','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','mjx-container','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','save','padStart','.project-card-container:not(.opacity-50)','cos','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes/','neq','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','cancel-global-live-btn','setAttribute','</h3>','readAsDataURL','length','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz-tab-btn','contentEditable','#retake-for-improvement-btn','project-dashboard-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attemptNumber','/public/data/liveGames','questionType','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','copy','project-passcode-input','documentElement','Error\x20saving\x20user\x20preference:','project-detail','ฟังก์ชันราก\x20(root)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open','projectName','modal-close-btn','show_pass_fail_only','includes','รูปแบบการให้เหตุผล','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','<span\x20title=\x22','overallGroups','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนการสอน','remove','POST','wakeLock','border-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cdiv','คะแนน','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','behavior-log-tab-btn','student-name-selection-view','delete-all-students-btn','json','API\x20call\x20failed\x20with\x20status:\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','```','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<li>','.csv','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','podium','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','viewBox','การวัด','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','default','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','question-complexity-select','results-quiz-title','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','<p\x20class=\x22','split','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','targetId','correctAnswerIndex','export-worksheet-pdf-btn','.correct-response-input','.edit-quiz-btn','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','authed_project_','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราส่วนและสัดส่วน','touchmove','projectSort','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','bg-yellow-50','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','ร้อยละประยุกต์','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','comparison-overall-tab','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','จับคู่แบบทดสอบสำเร็จ!','text-indigo-800','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','<textarea\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','postTScore','Error\x20toggling\x20star\x20status:','\x20mr-2\x22></i>','ความชันเส้นสัมผัส','log','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','รอเปิด','save-quiz-edits-btn','#F59E0B','quiz-generation-area','qIndex','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','student-quiz-leaderboard-table-body','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','00:00','dragstart','การแจกแจงทวินาม\x20(พื้นฐาน)','ใช่','กฎของโคไซน์','bg-green-500','toDate','pre-test-checkbox','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','<i\x20class=\x22fas\x20fa-pen\x22></i>','interesting-stats-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','msExitFullscreen','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','global-quiz-list','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','matching_item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','แก้ระบบสมการด้วยเมทริกซ์','(หลังเรียน)\x20','font-bold\x20text-green-700','modal-timer-duration-container','BOOLEAN','export-word-btn','hover:bg-indigo-100','close-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rows','isPasscodeEnabled','name','เกิดข้อผิดพลาดในการเปลี่ยนสี','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','-tab-content','สอบซ่อม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','เซียนสมองไว','\x22><p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','shuffle-setting-select','ดอทโปรดักต์\x20(dot)','องค์ประกอบของฟังก์ชัน','ผ่าน','addEventListener','เส้นรอบรูป','dashboardConfig','setAttributeNS','items','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','#D1FAE5','bg-red-200\x20text-red-800','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','มุมพิเศษ\x2045°-45°-90°','selected-topics-count','contains','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','end-game-btn','ฟังก์ชันแบบชิ้นส่วน','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','ปริมาตร/ความจุและการแปลง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','closest','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<p><strong>คำตอบที่แนะนำ:</strong>\x20','answerText','export-pdf-modal','สอบปกติ','button[data-id]','style','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','.question-editor-item','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','katex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','next-live-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x20\x20\x20-\x20คำตอบ:\x20','NEGATIVE_INFINITY','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','ย้าย','save-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','Error\x20creating\x20project:','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','bg-blue-100','.delete-project-btn','cancel-create-project-btn','question','คัดลอกแบบทดสอบสำเร็จ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','ไม่สามารถโหลดรายการโปรเจคได้','cloneNode','submittedAt','flex\x20flex-col\x20gap-2','ผ่านฉลุย','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','lessonPlan','</p></div>','lowerGroupNames','score','querySelector','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','bg-red-500','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','pinned-items','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','textarea','modal-timer-duration-input','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','พิมพ์ตอบ','บันทึกการตั้งค่าการแสดงผลสำเร็จ','height','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','toLocaleDateString','keyup','th-TH','manage','รากที่สองและที่สาม','257693Dzobhu','href','value','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','resultsDisplay','position','การสร้างรูปด้วยวงเวียน–สันตรง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','touchcancel','mousedown','start-quiz-btn','ก่อนเรียน','keys','\x22\x20data-q-type=\x22','ฟังก์ชันเชิงเส้นและกราฟ','results-tab','parallel-test-input-area','\x20ครั้ง)</span></td>','.presentation-option','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','สร้างแบบทดสอบปรนัย','/submissions','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','manual_release','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','input','application/json','.save-to-bank-btn','text-emerald-900','toLocaleString','times','ระยะทางและจุดกึ่งกลาง','.sortable-header','math-topics-checkbox-container','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tGain','quiz-editor-modal','originalQuestionText','quiz-bank-count','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','Error\x20updating\x20old\x20quizzes:','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','copy-quiz-id-btn','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','first_try_ace','findIndex','jspdf','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','#per-question-options\x20select','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-red-500\x20hover:text-red-700','comparison','answer-counter','correctStreak','countdown-display','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','http://www.w3.org/2000/svg','admin-password-input','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.pdf','generate-from-link-btn','mouseleave','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','parallel-test-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','text-blue-700\x20bg-blue-100','สร้างคำถามแบบเติมคำในช่องว่าง','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-green-700\x20bg-green-100','สร้างคำถามแบบใช่/ไม่ใช่','approx','loop-until-pass-checkbox','bg-green-100\x20text-green-800','finishReason','.verification-result','กรุณาเลือกโปรเจคที่ต้องการบันทึก','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','input[type=\x22radio\x22]:checked','text-content-input','getContext','practiceProblems','admin-password-modal','(คัดลอก)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','editor-quiz-topic','.quiz-bank-item','</td></tr>','พอใช้','จำนวนข้อ:','ข้อต่อไป','btn','text-gray-500','\x22\x20data-name=\x22','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','open-global-live-btn','shuffle','_opt','#FEF3C7','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x5cs*\x5c(','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','mode-switcher-btn','options','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','floor','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contents','</div><div\x20class=\x22space-y-2\x22>','ring-2','สถิติและความน่าจะเป็น','behavior-log-container','ค่าคลาดเคลื่อนของการวัด','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','preTScore','slice','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','เกิดข้อผิดพลาดในการโหลดสถานะ','circ','อุณหภูมิและการแปลง','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','export-leaderboard-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','num-choices','แคลคูลัสเบื้องต้น','answer','manage-tab-content','.delete-svg-btn','lastAnswerCorrect','(ไม่มีชื่อ)','.topic-actions-view','ที่พิมพ์ได้\x20จำนวน\x20','presentation-slide-container','พื้นที่ใต้กราฟ/ระหว่างกราฟ','timer-mode-select','total','```json','setItem','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','password-error-msg','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','live-game','G-V90KRM0L63','<div\x20class=\x22flex-1\x22></div>','scores','</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','list-view-btn','per-question-text','after','bg-red-50','appendChild','strength-weakness-analysis-container','project-id-display','quiz','เกิดข้อผิดพลาดในการลบหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','match','border-red-300\x20bg-red-50','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','parts','presentation-short-answer-input','prev-question-btn','next-question-btn','select-all-topics-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','comparison-individual-content','reduce','autoTable','หลังเรียน','opacity','เกิดข้อผิดพลาดในการลบแบบทดสอบ','qType','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-quiz-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragend','size','undefined','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','body','checked','.live-answer-btn,\x20#live-submit-short-answer-btn','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','8576KvbTLH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','Error\x20generating\x20from\x20blueprint:','generated-quiz-actions','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','results','numPages','file-input-area','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','admin-testing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','back-to-results-btn','isCorrect','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','removeEventListener','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','ทำคะแนนได้เกินครึ่ง','.duplicate-quiz-btn','text-gray-200','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffleSetting','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ยกเลิกการจับคู่สำเร็จ','โดเมนและเรนจ์','student-project-leaderboard-table-body','ความน่าจะเป็นแบบมีเงื่อนไข','เกิดข้อผิดพลาดในการบันทึกลำดับ','backgroundColor','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x22...','.quiz-settings-btn','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ideal-answer-input','\x20รายการ...','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เกิดข้อผิดพลาดในการอัปเดตสถานะ','[role=\x22textbox\x22]','inactive','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','abs','/public/data/quizzes','จากเนื้อหาต่อไปนี้:\x20\x22','update-old-quizzes-btn','Invalid\x20response\x20structure\x20from\x20AI.','fill_in_no_choices','$1\x20\x5cfrac','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(p=','text-red-900','some','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x5ccdot','bg-amber-100\x20text-amber-800','verify-answers-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#results-table\x20thead\x20tr','.question-editor-item[data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','lowerGroupResponders','\x5cfrac','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','Error\x20resetting\x20project\x20order:','generated-quiz-container','คะแนนเต็ม','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','scores-tab-btn','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','Error\x20toggling\x20pin\x20status:','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','q-image-container-','/public/data/projects','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','outerHTML','choices_only','/public/data/customMathTopics','student-name-input','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','start-game-btn','active','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','studentName','</option>','เกี่ยวกับหัวข้อ\x20\x22','\x22\x20สำเร็จ','Error\x20updating\x20custom\x20topic:','เส้นตรง:\x20รูปแบบสมการ','bg-red-100','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','สรุปผลการวิเคราะห์:\x5cn','baseVal','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ',')\x5cb)','รูปสแควร์รูท\x20(surd)','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','project-sort-select','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','fas\x20fa-user-edit','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','เกิดข้อผิดพลาดในการปักหมุด','entries','\x0a---\x0a','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','quiz-form','red','timer-container','player-count','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','webkitExitFullscreen','mousemove','file-upload-input','sum','4682223uJIovS','showInStudentDashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','parent','การแปลงรูปอัตลักษณ์','toggle','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','Error\x20displaying\x20question\x20bank:','num-questions','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','ยอดเยี่ยม','_blank','projectView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','จำนวนเต็มบวก','hint-btn','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','perfect_score_status','specialist','Failed\x20to\x20get\x20standardized\x20topic:','STOP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','ref','ค่าสัมบูรณ์','empty','.png','input[name=\x22question_single\x22]:checked','move-quiz-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','block','presentation-modal','string','.toggle-actions-btn','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตั้งเวลา\x20(เปิด)','<h1></h1>','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','perfect_score','bottom','การยืนยันตัวตนล้มเหลว','ชื่อหัวข้อห้ามว่าง','modal-timer-mode-select','frac','<tr>','global-live-game-modal','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','ปริมาตรรูปทรงสามมิติ','student-list',',\x20r=','กรุณาป้อนรหัสแบบทดสอบ','คำถามถัดไป','on_fire','className','modal-message','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','สร้างโปรเจคสำเร็จ!','overline','div','totalPoints','สมการราก\x20(radical)','625564ivYeGR','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบที่ติดดาว','lesson-plan-title','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','rgba(16,\x20185,\x20129,\x200.7)','delete','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','select','scheduled_pending','ลำดับเรขาคณิต\x20(GP)','create-from-bank-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ฐานนิยม','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','blockReason','กำลังอัปเดตแบบทดสอบ\x20','modal-timer-duration-label','grid-view-btn','Error\x20showing\x20quiz\x20detail\x20view:','บันทึกพฤติกรรมสำหรับ\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','text-red-800','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','ring-purple-400','leaderboard-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','MathJax','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','ไม่สามารถเพิ่มนักเรียนได้','เกิดข้อผิดพลาดในการจับคู่','offsetWidth','q-explanation-','ไม่พบข้อมูลแบบทดสอบ','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','table','move-quiz-modal','export-leaderboard-image-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','ไม่มีคำอธิบาย','Error\x20verifying\x20answers\x20in\x20editor:','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','enable-passcode-checkbox','ผลรวมอนุกรม\x20(Σ)','questionDisplayedAt','upper_group_count','timer-duration-label','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','classStrengths','change','border-green-700','release','blueprint-tab','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','cancel-quiz-status-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#student-quiz-leaderboard-content\x20thead','questionIndex','leaderboard-quiz-tab-content','dfrac','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','quizType','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','instructions','ระยะเวลา\x20(นาที):','ค่าความจริง/ตารางค่าความจริง','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','.sort-indicator','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','project-detail-view','#10B981','\x5ctimes','blueprint-input-area','border-red-700','แบบทดสอบซ่อมเสริม','attempts','\x20จาก\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','แผนภาพเวนน์','78801wEhajO','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','download','innerHTML','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','toFixed','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sin','docs','ทฤษฎีบทพีทาโกรัสและการประยุกต์','fas\x20fa-bookmark','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','.delete-custom-topic-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','passing-score-input','#E5E7EB','isAdaptive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','confirm-delete-btn','.unpair-quiz-btn','ร้อยละพื้นฐาน','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','สมมาตร\x20(แกน/จุด)','ปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','$1\x5ctext{','มัธยฐาน','getScreenCTM','generate-from-topic-btn','verify-answers-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard_','.export-pdf-list-btn','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','learningGaps','กฎของไซน์','bg-purple-50','.answer-text','onload','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','filter','ตอบถูก\x203\x20ข้อติดต่อกัน','.verification-result-editor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-red-700\x20line-through','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-pen','การบวกเศษส่วน','text-gray-100','confirm-join-game-btn','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','คัดลอกไม่สำเร็จ','คำตอบผิด','result','\x22\x5cn','ลบโปรเจคสำเร็จแล้ว','answer-grid-container','getElementById','passcode-error-msg','results-quiz-id-display','upperGroupNames','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','next-drill-btn','candidates','join-live-game-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','join','topic-input-area','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','text-red-600','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exitFullscreen','students','bg-white/30','date_desc','message','Copy\x20command\x20failed','จำนวนเต็มลบ','option','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','เรขาคณิตวิเคราะห์','จำนวนคู่:','\x20คะแนน','ส่วนเบี่ยงเบนมาตรฐาน','comparison-modal','scores-tab-content','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','Error\x20adding\x20custom\x20topic:','Invalid\x20response\x20structure\x20from\x20AI:','thead','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','admin-dashboard','get','exists','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollX','Error\x20generating\x20worksheet:','Error\x20generating\x20from\x20link:','ส่งแล้ว','quiz-status-options','flex','questionStatus','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','confirm-create-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','visibilityState','analytics-summary-cards','mixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-modal','border-indigo-400\x20ring-2\x20ring-indigo-200','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','จัดการ','กำลังสร้างคำถามข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','cancel-admin-login-btn','คะแนนเฉลี่ย','เกิดข้อผิดพลาดในการบันทึก','parallel-test-upload-input','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','starred-project','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','description','สร้างใหม่','display','ไม่พบข้อมูลผู้ใช้','Error\x20listening\x20for\x20student\x20profiles:','.badges','ฟังก์ชันยกกำลัง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','getBBox','text-green-900','รูปหลายเหลี่ยมและมุมภายใน','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalSettings','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','push','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','ON_FIRE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-modal','close-comparison-modal-btn','fa-dumbbell\x20text-gray-700','show-in-student-dashboard-checkbox','isPinned','student','message-modal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>','จำนวนและการดำเนินการ','-\x20ข้อ\x20','clientY','\x22\x20value=\x22false\x22\x20','bank-quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างชุดคำถามจับคู่','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','check-answer-btn','querySelectorAll','สำหรับโปรเจค:\x20','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','export-tutor-pdf-btn','quiz-leaderboard-table-body','prod','ยังไม่มีนักเรียนส่งงาน','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','disabled','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','explanation','พีชคณิตและฟังก์ชัน','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','stringify','Error\x20opening\x20quiz\x20editor:','.topic-actions-edit','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','gamePin','#DBEAFE','ย้ายแบบทดสอบสำเร็จ','toISOString','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','presentation-ai-result','endTime','/studentProfiles','admin-try-quiz-btn','(คู่ขนาน)\x20','student-name-select','บันทึกการแก้ไข','$1^{\x5ccirc}\x5ctext{C}','.compare-results-btn','manage-tab','<p\x20class=\x22font-bold\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','quiz-start-time','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','modal-shuffle-select','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','.color-palette-popup','ราชาคัมแบ็ก','quiz-status-modal','กรุณาป้อนหัวข้อสำหรับใบงาน','touches','label','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','visibilitychange','.quiz-status-btn','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','back-to-project-btn','back-to-dashboard-btn','comparison-individual-tab','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','สลับไปโหมดนักเรียน','ไม่ใช่','ความเท่ากันทุกประการของสามเหลี่ยม','#FEE2E2','\x20/\x20','idealAnswer','</p><p><strong>เฉลย:</strong>\x20','input[type=\x22checkbox\x22]','error','topic-tab','เปิด\x20(จับเวลา)','grid','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','short_answer','export-pdf-btn','#per-question-options\x20textarea','ฟังก์ชันค่าสัมบูรณ์','Error\x20deleting\x20quiz:','ฟังก์ชันสัมพัทธ์\x20(rational)','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','timer-bar','toLowerCase','gain','2-digit','custom-math-topic-input','close-lesson-plan-modal-btn','color','values','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22,\x20','Error\x20rendering\x20student\x20progress:','.topic-category','ตอบถูกทุกข้อในแบบทดสอบนี้','bg-gray-50','bg-emerald-100','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','9835850DSuajN','pointsLastQuestion','lesson-plan-content','width','student-progress-content','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','กำลังสร้างแบบทดสอบคู่ขนาน...','<div\x20class=\x22loader\x20mx-auto\x22></div>','#FFFFFF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','กฎบวกและกฎคูณ','index','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','แผนการสอน:\x20','แผนภาพกล่อง\x20(box\x20plot)','pow','border-green-300\x20bg-green-50','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sqrt','timerMode','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</label>\x0a\x20\x20\x20\x20</div>\x0a','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดูสรุปผล','ระบบเลขและค่าประจำหลัก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x22\x20class=\x22color-palette-btn\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','-tab','project-quizzes-list','isLooping','(^|[^\x5c\x5c])\x5cb','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','random','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','postScore','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','results-tab-content','rename-quiz-input','input[type=\x22checkbox\x22]:checked','onclick','startTime','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','กำลังสร้างแบบทดสอบจากหัวข้อ...','text-blue-800','ความชันและเส้นตรง','.option-text','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','input[name=\x22drill_answer\x22]:checked','</tbody></table></div>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','solution','<div\x20class=\x22my-2\x22>','cancel-quiz-edits-btn','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','bg-green-50','analytics-tab-btn','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','.project-card-container','lobby','confirm-move-quiz-btn','</span></div>','modal-passing-score-input','ค.ร.น.\x20(LCM)','close','pairedQuizId','print','button','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','warn','opacity-50','.ql-editor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','$1\x5ctimes','ฟังก์ชันลอการิทึม','bg-green-300','690216ghoIGB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ดอกเบี้ยอย่างง่าย','พื้นที่สี่เหลี่ยม','answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','content','passingScore','points','สุดยอด!\x20ตอบถูกทุกข้อ','<div\x20id=\x22q-image-container-','tfrac','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20pairing\x20quizzes:','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','show_results_only','Enter','.quiz-result-card','$1\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include-images-checkbox','\x0a\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','helvetica','Error\x20listening\x20for\x20starred\x20quizzes:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'];_0x2921=function(){return _0x3c7e31;};return _0x2921();}function displayLoopScreen(_0xf4245a,_0x349918,_0x6e571){const _0x5b58d6=_0x433974;let _0x1bbac7='';_0x6e571!==_0x5b58d6(0x334)&&(_0x1bbac7=_0x5b58d6(0x5a7)+_0xf4245a+_0x5b58d6(0x6ea)+_0x349918+'</strong></p>');const _0x3cc662=_0x5b58d6(0x11b)+_0x1bbac7+_0x5b58d6(0x203);studentResultArea[_0x5b58d6(0x5fb)]=_0x3cc662,studentResultArea[_0x5b58d6(0x1a4)][_0x5b58d6(0x33c)](_0x5b58d6(0x10c)),studentQuizArea[_0x5b58d6(0x1a4)][_0x5b58d6(0x10f)]('hidden'),document['getElementById'](_0x5b58d6(0x1a1))['addEventListener'](_0x5b58d6(0x864),()=>{const _0x61249d=_0x5b58d6;studentResultArea[_0x61249d(0x1a4)][_0x61249d(0x10f)](_0x61249d(0x10c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x5901a5,_0x4c05e0,_0xf59a62){const _0x535f20=_0x433974,_0xad5d72=document['getElementById'](_0xf59a62),_0x398363=_0xf59a62==='student-quiz-leaderboard-table-body',_0x4fd526=_0x4c05e0[_0x535f20(0x193)][_0x535f20(0x31c)],_0x487971=document[_0x535f20(0x633)](_0xf59a62)[_0x535f20(0x3ce)](_0x535f20(0x5c8));if(_0x487971&&!_0x398363){const _0x5b2934=_0x487971[_0x535f20(0x3fa)](_0x535f20(0x659));_0x5b2934['innerHTML']=_0x535f20(0x2e4);}if(!_0x5901a5||_0x5901a5[_0x535f20(0x31c)]===0x0){_0xad5d72[_0x535f20(0x5fb)]='<tr><td\x20colspan=\x22'+(_0x398363?0x6:0x8)+_0x535f20(0x16b);return;}const _0x50d674=[..._0x5901a5];_0x50d674['sort']((_0x359e70,_0x1a1161)=>{const _0x5f142e=_0x535f20;let _0x5b8bf2,_0xb2d8d7;switch(quizLeaderboardSortBy){case _0x5f142e(0x534):_0x5b8bf2=_0x359e70['studentName']||'',_0xb2d8d7=_0x1a1161['studentName']||'';return quizLeaderboardSortOrder===_0x5f142e(0x83a)?_0x5b8bf2['localeCompare'](_0xb2d8d7,'th'):_0xb2d8d7[_0x5f142e(0x60a)](_0x5b8bf2,'th');case _0x5f142e(0x76c):_0x5b8bf2=_0x359e70[_0x5f142e(0x76c)]||0x0,_0xb2d8d7=_0x1a1161['points']||0x0;break;case _0x5f142e(0x5f3):_0x5b8bf2=_0x359e70[_0x5f142e(0x5f3)]?.[_0x5f142e(0x31c)]||0x1,_0xb2d8d7=_0x1a1161[_0x5f142e(0x5f3)]?.[_0x5f142e(0x31c)]||0x1;break;case _0x5f142e(0x1a6):_0x5b8bf2=new Date(_0x359e70[_0x5f142e(0x1a6)]),_0xb2d8d7=new Date(_0x1a1161[_0x5f142e(0x1a6)]);break;case _0x5f142e(0x2f3):default:_0x5b8bf2=_0x359e70[_0x5f142e(0x2f3)],_0xb2d8d7=_0x1a1161[_0x5f142e(0x2f3)];break;}if(_0x5b8bf2<_0xb2d8d7)return quizLeaderboardSortOrder===_0x5f142e(0x83a)?-0x1:0x1;if(_0x5b8bf2>_0xb2d8d7)return quizLeaderboardSortOrder===_0x5f142e(0x83a)?0x1:-0x1;return 0x0;});const _0x529bee=_0x4c05e0['isRemedial']===!![],_0x3ed73d=_0x4c05e0[_0x535f20(0x262)]?.[_0x535f20(0x76b)]??-0x1;let _0x4c4666='';_0x50d674[_0x535f20(0x1c8)]((_0x476d5a,_0x52e1b9)=>{const _0xa3c165=_0x535f20,_0x4ebe49=_0x52e1b9+0x1;let _0x201a85=_0xa3c165(0x7e3);if(_0x529bee||_0x3ed73d!==-0x1){let _0x341821=_0x529bee?_0x476d5a[_0xa3c165(0x2f3)]===_0x4fd526:_0x476d5a['bestScore']>=_0x3ed73d;const _0x2323ad=_0x341821?'bg-green-100\x20text-green-800':_0xa3c165(0x113),_0x4f5631=_0x341821?'ผ่าน':'ไม่ผ่าน';_0x201a85=_0xa3c165(0x7e8)+_0x2323ad+'\x22>'+_0x4f5631+_0xa3c165(0x23e);}const _0x4276d8=_0x476d5a[_0xa3c165(0x5f3)][_0x476d5a[_0xa3c165(0x5f3)][_0xa3c165(0x31c)]-0x1],_0x2d900f=(_0x4276d8[_0xa3c165(0x111)]||[])['map'](_0x416a2e=>{const _0x37f593=_0xa3c165,_0x5c8639=Object[_0x37f593(0x701)](BADGES)[_0x37f593(0x7c5)](_0x4c6744=>_0x4c6744['id']===_0x416a2e);return _0x5c8639?_0x37f593(0x338)+_0x5c8639[_0x37f593(0x3ab)]+_0x37f593(0x82f)+_0x5c8639['icon']+_0x37f593(0x7a2):'';})[_0xa3c165(0x63c)]('');_0x4c4666+=_0xa3c165(0x1cf)+_0x4ebe49+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x476d5a[_0xa3c165(0x534)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x476d5a[_0xa3c165(0x2f3)]+_0xa3c165(0x6ea)+_0x4fd526+_0xa3c165(0x3ee)+_0x201a85+_0xa3c165(0x129)+(_0x476d5a['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x398363?'':_0xa3c165(0x621)+(_0x476d5a[_0xa3c165(0x5f3)]?.[_0xa3c165(0x31c)]||0x1)+_0xa3c165(0x1cd))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x398363?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x476d5a[_0xa3c165(0x1a6)])['toLocaleString']('th-TH')+_0xa3c165(0x1cd))+_0xa3c165(0x428)+(_0x2d900f||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xad5d72[_0x535f20(0x5fb)]=_0x4c4666,_0x487971&&!_0x398363&&_0x487971[_0x535f20(0x6a8)](_0x535f20(0x11a))['forEach'](_0x2c5930=>{const _0x456aaf=_0x535f20,_0x31bbc8=_0x2c5930['querySelector'](_0x456aaf(0x5ea));if(_0x31bbc8)_0x31bbc8['remove']();_0x2c5930[_0x456aaf(0x80f)][_0x456aaf(0x2e8)]===quizLeaderboardSortBy&&(_0x2c5930[_0x456aaf(0x5fb)]+=_0x456aaf(0x1d5)+(quizLeaderboardSortOrder===_0x456aaf(0x83a)?'▲':'▼')+_0x456aaf(0x4b2));});}async function handleDeleteSubmission(_0x1a11b7){const _0x3717f8=_0x433974;if(!currentQuizData||!currentQuizData['id']||!_0x1a11b7){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x3717f8(0x54d)+_0x1a11b7+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x15990a=_0x3717f8,_0x56d691=currentQuizData['id'],_0x351d8f=doc(db,_0x15990a(0x2c6)+appId+_0x15990a(0x315)+_0x56d691+_0x15990a(0x424),_0x1a11b7);try{await deleteDoc(_0x351d8f),showMessage(_0x15990a(0x17c)+_0x1a11b7+_0x15990a(0x275));}catch(_0x35ac36){console['error'](_0x15990a(0x892),_0x35ac36),showMessage(_0x15990a(0x2a3));}});}async function handleLoadQuiz(){const _0x15f974=_0x433974,_0x13eb49=document[_0x15f974(0x633)](_0x15f974(0x165)),_0x282b9d=_0x13eb49[_0x15f974(0x411)]['trim']();if(!_0x282b9d){showMessage(_0x15f974(0x595));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x15f974(0x5fb)]=_0x15f974(0x3be);try{const _0x286659=doc(db,'artifacts/'+appId+_0x15f974(0x506),_0x282b9d),_0x1572d8=await getDoc(_0x286659);if(!_0x1572d8[_0x15f974(0x660)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x1572d8['id'],..._0x1572d8[_0x15f974(0x1a2)]()};const _0x81fa8d=currentQuizData[_0x15f974(0x21b)]||'active',_0x32683c=new Date();if(_0x81fa8d===_0x15f974(0x502)){showMessage(_0x15f974(0x2f7));return;}if(_0x81fa8d===_0x15f974(0x2df)){const _0x223a64=currentQuizData[_0x15f974(0x73c)]?new Date(currentQuizData[_0x15f974(0x73c)]):null,_0x366615=currentQuizData[_0x15f974(0x6c3)]?new Date(currentQuizData[_0x15f974(0x6c3)]):null;if(_0x223a64&&_0x32683c<_0x223a64){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x223a64[_0x15f974(0x42d)](_0x15f974(0x40c),{'hour12':![]}));return;}if(_0x366615&&_0x32683c>_0x366615){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x3f22b7=currentQuizData[_0x15f974(0x2be)];currentProjectId=_0x3f22b7;const _0xaca07c=doc(db,_0x15f974(0x2c6)+appId+_0x15f974(0x528),_0x3f22b7),_0x1b4e33=await getDoc(_0xaca07c);if(!_0x1b4e33[_0x15f974(0x660)]()){showMessage(_0x15f974(0x378));return;}const _0x5baec4=_0x1b4e33[_0x15f974(0x1a2)]();currentStudentProjectData=_0x5baec4,displayStudentNameSelector(_0x5baec4[_0x15f974(0x647)],currentQuizData[_0x15f974(0x158)]);}catch(_0x429d7c){console[_0x15f974(0x6ee)](_0x15f974(0x211),_0x429d7c),showMessage(_0x15f974(0x254));}finally{loadQuizBtn[_0x15f974(0x6b0)]=![],loadQuizBtn['innerHTML']=_0x15f974(0x3fb);}}async function handleJoinLiveGame(){const _0x5951f8=_0x433974,_0x21cfa4=document[_0x5951f8(0x633)]('game-pin-input'),_0x3316ff=document[_0x5951f8(0x633)](_0x5951f8(0x2a7)),_0x597376=document[_0x5951f8(0x633)](_0x5951f8(0x62b)),_0x52fcf2=_0x21cfa4['value'][_0x5951f8(0x882)](),_0x148713=_0x3316ff[_0x5951f8(0x411)]['trim']();if(!_0x52fcf2||!_0x148713){showMessage(_0x5951f8(0x217));return;}_0x597376[_0x5951f8(0x6b0)]=!![],_0x597376[_0x5951f8(0x5fb)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';try{const _0x14a3de=collection(db,'artifacts/'+appId+_0x5951f8(0x326)),_0x429710=query(_0x14a3de,where(_0x5951f8(0x6bd),'==',_0x52fcf2),where(_0x5951f8(0x21b),'==',_0x5951f8(0x751))),_0x4b5e4b=await getDocs(_0x429710);if(_0x4b5e4b[_0x5951f8(0x577)]){showMessage(_0x5951f8(0x709));return;}const _0x5aa72b=_0x4b5e4b[_0x5951f8(0x600)][0x0],_0x3ed75c=_0x5aa72b['data']();currentLiveGameId=_0x5aa72b['id'];const _0x17bfc7=_0x3ed75c[_0x5951f8(0x8a9)],_0x5a45a4=doc(db,_0x5951f8(0x2c6)+appId+_0x5951f8(0x506),_0x17bfc7),_0x1376e4=await getDoc(_0x5a45a4);if(!_0x1376e4[_0x5951f8(0x660)]()){showMessage(_0x5951f8(0x2b5));return;}currentQuizData={'id':_0x1376e4['id'],..._0x1376e4[_0x5951f8(0x1a2)]()};if(_0x3ed75c[_0x5951f8(0x858)]&&_0x3ed75c[_0x5951f8(0x858)][_0x148713]){showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น');return;}const _0x1ef490={};_0x1ef490[_0x5951f8(0x7d1)+_0x148713]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x5951f8(0x2c6)+appId+_0x5951f8(0x326),currentLiveGameId),_0x1ef490),currentStudentName=_0x148713,listenForLiveGameUpdates();}catch(_0x1d3539){console[_0x5951f8(0x6ee)]('Error\x20joining\x20live\x20game:',_0x1d3539),showMessage(_0x5951f8(0x5db));}finally{_0x597376[_0x5951f8(0x6b0)]=![],_0x597376[_0x5951f8(0x5fb)]=_0x5951f8(0x205);}}function displayStudentNameSelector(_0x461bb5,_0x34a7e1){const _0x25586d=_0x433974,_0x4b7015=document[_0x25586d(0x633)](_0x25586d(0x6c7));document[_0x25586d(0x633)](_0x25586d(0x89a))['textContent']=_0x25586d(0x889)+_0x34a7e1,!_0x461bb5||_0x461bb5[_0x25586d(0x31c)]===0x0?(_0x4b7015['innerHTML']='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x25586d(0x6b0)]=!![]):(_0x4b7015['innerHTML']=_0x25586d(0x3ae),_0x461bb5[_0x25586d(0x1c8)](_0x57b103=>{const _0x1cdab9=_0x25586d,_0x46b1fa=document[_0x1cdab9(0x5b6)](_0x1cdab9(0x64d));_0x46b1fa[_0x1cdab9(0x411)]=_0x57b103,_0x46b1fa[_0x1cdab9(0x1d4)]=_0x57b103,_0x4b7015[_0x1cdab9(0x4b8)](_0x46b1fa);}),startQuizBtn[_0x25586d(0x6b0)]=![]),studentInitialView[_0x25586d(0x1a4)]['add'](_0x25586d(0x10c)),studentNameSelectionView[_0x25586d(0x1a4)][_0x25586d(0x33c)]('hidden');}function shuffleArray(_0x4c755b){for(let _0x34a671=_0x4c755b['length']-0x1;_0x34a671>0x0;_0x34a671--){const _0x5f0436=Math['floor'](Math['random']()*(_0x34a671+0x1));[_0x4c755b[_0x34a671],_0x4c755b[_0x5f0436]]=[_0x4c755b[_0x5f0436],_0x4c755b[_0x34a671]];}}function getShuffledQuiz(_0x422dbe){const _0x58a5da=_0x433974;let _0x19f48b=JSON[_0x58a5da(0x7f8)](JSON[_0x58a5da(0x6b7)](_0x422dbe));const _0x41c0c4=_0x19f48b[_0x58a5da(0x262)]?.['shuffle']||'none';if(_0x41c0c4===_0x58a5da(0x19e))return _0x19f48b;return(_0x41c0c4==='questions_only'||_0x41c0c4===_0x58a5da(0x15e))&&shuffleArray(_0x19f48b[_0x58a5da(0x193)]),(_0x41c0c4===_0x58a5da(0x52d)||_0x41c0c4===_0x58a5da(0x15e))&&_0x19f48b[_0x58a5da(0x193)]['forEach'](_0x284ea4=>{const _0x39b6df=_0x58a5da,_0x2fa743=_0x284ea4[_0x39b6df(0x327)]||_0x19f48b['quizType'];if(_0x284ea4[_0x39b6df(0x482)]){let _0x367b3c=_0x284ea4[_0x39b6df(0x482)]['map']((_0x1f2aef,_0x36f131)=>({'text':_0x1f2aef,'isCorrect':_0x36f131===_0x284ea4[_0x39b6df(0x363)]}));shuffleArray(_0x367b3c),_0x284ea4['options']=_0x367b3c[_0x39b6df(0x844)](_0x3cad44=>_0x3cad44[_0x39b6df(0x85f)]),_0x284ea4[_0x39b6df(0x363)]=_0x367b3c[_0x39b6df(0x43e)](_0x19f1db=>_0x19f1db[_0x39b6df(0x4e9)]);}_0x2fa743===_0x39b6df(0x39c)&&_0x284ea4[_0x39b6df(0x850)]&&shuffleArray(_0x284ea4[_0x39b6df(0x850)]);}),_0x19f48b;}function displayQuizForStudent(_0x57ce7b){const _0x2915a1=_0x433974;studentQuizArea[_0x2915a1(0x1a4)][_0x2915a1(0x33c)](_0x2915a1(0x10c)),currentDisplayedQuiz=getShuffledQuiz(_0x57ce7b),requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2915a1(0x3b9)](_0x2915a1(0x2ca),handleFullscreenChange),document['addEventListener'](_0x2915a1(0x6dd),handleVisibilityChange);currentMode!=='admin-testing'&&enterFullscreen();const _0x1d2d5d=currentDisplayedQuiz[_0x2915a1(0x262)]?.[_0x2915a1(0x71f)]||_0x2915a1(0x19e);if(_0x1d2d5d===_0x2915a1(0x1af))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x2915a1(0x837)]);else _0x1d2d5d==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x804333=_0x433974;let _0x7443fc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x804333(0x724)+(currentMode===_0x804333(0x4e6)?_0x804333(0x438):'')+_0x804333(0x39e);currentDisplayedQuiz['questions']['forEach']((_0x1b0afe,_0x5177e6)=>{const _0x58def0=_0x804333,_0x47efb3=_0x1b0afe[_0x58def0(0x327)]||currentDisplayedQuiz[_0x58def0(0x5e4)];_0x7443fc+=_0x58def0(0x693);_0x47efb3==='matching_item'?_0x7443fc+=_0x58def0(0x3cf)+(_0x5177e6+0x1)+'.\x20'+_0x1b0afe[_0x58def0(0x114)]+_0x58def0(0x416)+_0x5177e6+_0x58def0(0x17d)+_0x1b0afe[_0x58def0(0x850)][_0x58def0(0x844)](_0x174620=>_0x58def0(0x655)+_0x174620+'\x22>'+_0x174620+'</option>')[_0x58def0(0x63c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x7443fc+=_0x58def0(0x792)+(_0x5177e6+0x1)+'.\x20'+(_0x1b0afe[_0x58def0(0x5e6)]||_0x1b0afe[_0x58def0(0x84f)])+'</p>',_0x1b0afe[_0x58def0(0x20a)]&&(_0x7443fc+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1b0afe[_0x58def0(0x20a)]+_0x58def0(0x290)));_0x7443fc+=_0x58def0(0x489);switch(_0x47efb3){case _0x58def0(0x6f3):_0x7443fc+=_0x58def0(0x379)+_0x5177e6+_0x58def0(0x43a);break;case'true_false':_0x7443fc+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x5177e6+_0x58def0(0x1ed)+_0x5177e6+_0x58def0(0x734)+_0x5177e6+'_opt0\x22>ใช่</label></div>',_0x7443fc+=_0x58def0(0x6e3)+_0x5177e6+_0x58def0(0x813)+_0x5177e6+_0x58def0(0x526)+_0x5177e6+_0x58def0(0x2b4);break;case _0x58def0(0x39c):break;case _0x58def0(0x29e):case _0x58def0(0x75a):default:_0x7443fc+=_0x1b0afe[_0x58def0(0x482)][_0x58def0(0x844)]((_0x3bc8a2,_0x5ee139)=>_0x58def0(0x59a)+_0x5177e6+_0x58def0(0x477)+_0x5ee139+_0x58def0(0x7a6)+_0x5177e6+'\x22\x20value=\x22'+_0x5ee139+_0x58def0(0x564)+_0x5177e6+'_opt'+_0x5ee139+'\x22>'+_0x3bc8a2+_0x58def0(0x723))['join']('');break;}_0x7443fc+=_0x58def0(0x6d4);}),_0x7443fc+=_0x804333(0x367),_0x7443fc+='</form>',studentQuizArea['innerHTML']=_0x7443fc;if(currentMode==='admin-testing'){const _0x5ccde0=document['getElementById'](_0x804333(0x7e9));if(_0x5ccde0)_0x5ccde0[_0x804333(0x3b9)]('click',cancelAdminTest);}document[_0x804333(0x633)]('quiz-form')['addEventListener'](_0x804333(0x899),handleSubmitQuiz);if(window[_0x804333(0x5be)])window[_0x804333(0x5be)][_0x804333(0x23d)]([studentQuizArea]);}async function handleSubmitQuiz(_0x5f1eab){const _0x548e41=_0x433974;if(_0x5f1eab)_0x5f1eab[_0x548e41(0x187)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x11e0a5=document[_0x548e41(0x633)](_0x548e41(0x550));if(!_0x11e0a5)return;const _0x32d1a9=_0x11e0a5[_0x548e41(0x3fa)](_0x548e41(0x88e)),_0x3f9393=currentDisplayedQuiz[_0x548e41(0x193)][_0x548e41(0x50f)](_0xf4a339=>_0xf4a339['questionType']===_0x548e41(0x6f3));_0x32d1a9&&(_0x32d1a9[_0x548e41(0x6b0)]=!![],_0x3f9393?_0x32d1a9[_0x548e41(0x5fb)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x32d1a9[_0x548e41(0x5fb)]=_0x548e41(0x194));const _0x9ae2ea=new FormData(_0x11e0a5),_0x59c1e9=currentDisplayedQuiz[_0x548e41(0x193)][_0x548e41(0x844)]((_0x39fad4,_0xd00c52)=>{const _0x5d84e6=_0x548e41,_0x29b265=_0x39fad4[_0x5d84e6(0x327)]||currentDisplayedQuiz[_0x5d84e6(0x5e4)],_0x4a6648=_0x9ae2ea[_0x5d84e6(0x65f)]('question'+_0xd00c52);if(_0x4a6648!==null&&_0x4a6648!==undefined){if(_0x29b265===_0x5d84e6(0x75a)||_0x29b265===_0x5d84e6(0x29e))return parseInt(_0x4a6648);return _0x4a6648;}return null;}),_0x1bf10d=currentQuizData['id'],_0x2e4435=doc(db,_0x548e41(0x2c6)+appId+'/public/data/quizzes/'+_0x1bf10d+'/submissions',currentStudentName),_0x7b8d5d=await getDoc(_0x2e4435),_0x532404=_0x7b8d5d[_0x548e41(0x660)]()?_0x7b8d5d[_0x548e41(0x1a2)]():{},_0x2d7b10=_0x532404[_0x548e41(0x5f3)]||[];await processAndSubmitAnswers(_0x59c1e9,_0x2d7b10);}async function gradeShortAnswerWithAI(_0x5c1e7a,_0x22c475){const _0x298bc2=_0x433974;if(!_0x5c1e7a||!_0x22c475)return![];try{const _0x1343d4=_0x298bc2(0x30b)+_0x5c1e7a+_0x298bc2(0x1f0)+_0x22c475+_0x298bc2(0x64e),_0x5c2374={'contents':[{'role':_0x298bc2(0x8a6),'parts':[{'text':_0x1343d4}]}]},_0x535fa3=_0x298bc2(0x834),_0x8d892f=_0x298bc2(0x3e2)+_0x535fa3,_0x263ac9=await fetch(_0x8d892f,{'method':_0x298bc2(0x33d),'headers':{'Content-Type':_0x298bc2(0x42a)},'body':JSON[_0x298bc2(0x6b7)](_0x5c2374)});if(!_0x263ac9['ok'])throw new Error(_0x298bc2(0x85e));const _0x1c9ac2=await _0x263ac9[_0x298bc2(0x347)](),_0x3539fa=_0x1c9ac2[_0x298bc2(0x639)][0x0][_0x298bc2(0x76a)][_0x298bc2(0x4c2)][0x0][_0x298bc2(0x85f)][_0x298bc2(0x882)]()[_0x298bc2(0x6fb)]();return _0x3539fa===_0x298bc2(0x7a3);}catch(_0x4c418d){return console[_0x298bc2(0x6ee)](_0x298bc2(0x78e),_0x4c418d),![];}}async function processAndSubmitAnswers(_0x139124,_0x10e2f4){const _0x47d390=_0x433974;releaseWakeLock(),exitFullscreen(),isQuizActive=![],document[_0x47d390(0x4eb)](_0x47d390(0x2ca),handleFullscreenChange),document[_0x47d390(0x4eb)]('visibilitychange',handleVisibilityChange);let _0x86dddb=0x0,_0x48b3c4=0x0,_0x55d5b6=[];const _0x3ab305=[],_0x55b222=currentDisplayedQuiz['questions'][_0x47d390(0x31c)];let _0x2f0e9d=0x0;const _0x14c725=currentDisplayedQuiz['questions'];for(let _0x5efa95=0x0;_0x5efa95<_0x14c725[_0x47d390(0x31c)];_0x5efa95++){const _0x2a39d0=_0x14c725[_0x5efa95],_0x21a130=_0x139124[_0x5efa95],_0x3f667d=_0x2a39d0['questionType']||currentDisplayedQuiz[_0x47d390(0x5e4)];let _0x2d61e2=![];if(_0x21a130!==null&&_0x21a130!=='')switch(_0x3f667d){case _0x47d390(0x39c):_0x2d61e2=_0x21a130===_0x2a39d0[_0x47d390(0x25c)];break;case'true_false':const _0x2fc5ec=_0x21a130===!![]||_0x21a130===_0x47d390(0x7a3);_0x2d61e2=_0x2fc5ec===_0x2a39d0[_0x47d390(0x863)];break;case _0x47d390(0x29e):case _0x47d390(0x75a):default:_0x2d61e2=Number(_0x21a130)===_0x2a39d0[_0x47d390(0x363)];break;case _0x47d390(0x6f3):_0x2d61e2=await gradeShortAnswer(_0x21a130,_0x2a39d0);break;}_0x2d61e2?(_0x86dddb++,_0x2f0e9d++,_0x2f0e9d===0x3&&(_0x55d5b6[_0x47d390(0x690)](BADGES[_0x47d390(0x692)]['id']),_0x2f0e9d=0x0)):_0x2f0e9d=0x0;let _0x5f530d=null;_0x2a39d0[_0x47d390(0x482)]&&_0x21a130!==null&&(_0x5f530d=_0x2a39d0[_0x47d390(0x482)][_0x21a130]),_0x3ab305[_0x47d390(0x690)]({'questionId':_0x2a39d0['id'],'answer':_0x21a130,'answerText':_0x5f530d,'isCorrect':_0x2d61e2,'originalQuestionText':_0x2a39d0[_0x47d390(0x114)]||_0x2a39d0[_0x47d390(0x84f)]});}_0x48b3c4=_0x86dddb*0xa;_0x86dddb===_0x55b222&&_0x55b222>0x0&&!currentDisplayedQuiz[_0x47d390(0x22a)]&&(_0x48b3c4+=0x32,_0x55d5b6[_0x47d390(0x690)](BADGES[_0x47d390(0x84a)]['id']));const _0x56098f=currentDisplayedQuiz[_0x47d390(0x262)]?.[_0x47d390(0x76b)]??Math[_0x47d390(0x484)](_0x55b222/0x2),_0x2208f0=currentDisplayedQuiz[_0x47d390(0x262)]?.['timerMode'];if(_0x2208f0===_0x47d390(0x1af)&&quizStartTime){const _0x1ea61e=(new Date()-quizStartTime)/0x3e8,_0x49c9a3=currentDisplayedQuiz['settings']['timerDuration']*0x3c;_0x86dddb>=_0x56098f&&_0x1ea61e<_0x49c9a3/0x2&&(_0x48b3c4+=0x14,_0x55d5b6['push'](BADGES['QUICK_THINKER']['id']));}_0x10e2f4[_0x47d390(0x31c)]===0x0&&_0x86dddb===_0x55b222&&_0x55b222>0x0&&_0x55d5b6[_0x47d390(0x690)](BADGES['FIRST_TRY_ACE']['id']);if(_0x10e2f4[_0x47d390(0x31c)]>0x0){const _0x203859=_0x10e2f4[0x0][_0x47d390(0x3f9)];if(_0x203859<_0x56098f&&_0x86dddb>=_0x56098f){const _0x1475b6=_0x10e2f4['some'](_0x171bb9=>(_0x171bb9[_0x47d390(0x111)]||[])[_0x47d390(0x335)](BADGES[_0x47d390(0x7ea)]['id']));!_0x1475b6&&_0x55d5b6[_0x47d390(0x690)](BADGES['COMEBACK_KING']['id']);}}_0x10e2f4[_0x47d390(0x31c)]===0x4&&_0x55d5b6[_0x47d390(0x690)](BADGES[_0x47d390(0x854)]['id']);const _0x55aa64=currentDisplayedQuiz[_0x47d390(0x262)][_0x47d390(0x413)];if(currentMode===_0x47d390(0x4e6)){handleResultDisplay(_0x55aa64,_0x86dddb,_0x48b3c4,_0x55d5b6,_0x3ab305,_0x55b222);return;}const _0x62774e=currentQuizData['id'],_0x200b8b=doc(db,'artifacts/'+appId+_0x47d390(0x315)+_0x62774e+_0x47d390(0x424),currentStudentName);try{const _0x19188f=[..._0x10e2f4],_0x17a58a={'score':_0x86dddb,'points':_0x48b3c4,'badges':_0x55d5b6,'submittedAt':new Date()[_0x47d390(0x6c0)](),'answers':_0x3ab305};_0x19188f[_0x47d390(0x690)](_0x17a58a);const _0x317d62=_0x19188f[0x0][_0x47d390(0x3f9)],_0x429800=Math[_0x47d390(0x374)](..._0x19188f[_0x47d390(0x844)](_0x127f33=>_0x127f33[_0x47d390(0x3f9)])),_0x35fa36=_0x86dddb,_0x3e6471=_0x17a58a[_0x47d390(0x3f2)];await setDoc(_0x200b8b,{'studentName':currentStudentName,'totalQuestions':_0x55b222,'attempts':_0x19188f,'firstScore':_0x317d62,'bestScore':_0x429800,'latestScore':_0x35fa36,'points':_0x48b3c4,'latestSubmittedAt':_0x3e6471},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x47d390(0x2be)],currentStudentName),handleResultDisplay(_0x55aa64,_0x86dddb,_0x48b3c4,_0x55d5b6,_0x3ab305,_0x55b222);}catch(_0x342866){console[_0x47d390(0x6ee)](_0x47d390(0x7ce),_0x342866),showMessage(_0x47d390(0x38a));}}async function updateStudentProfile(_0x48fad1,_0xfb10f4){const _0x26d277=_0x433974,_0x101d16=doc(db,_0x26d277(0x2c6)+appId+'/public/data/projects/'+_0x48fad1+_0x26d277(0x6c4),_0xfb10f4);try{const _0xeb9f7d=query(collection(db,_0x26d277(0x2c6)+appId+_0x26d277(0x506)),where(_0x26d277(0x2be),'==',_0x48fad1)),_0x207c84=await getDocs(_0xeb9f7d),_0x2ac936=new Map(_0x207c84[_0x26d277(0x600)][_0x26d277(0x844)](_0x45826e=>[_0x45826e['id'],_0x45826e[_0x26d277(0x1a2)]()])),_0x2cc585=Array[_0x26d277(0x7b8)](_0x2ac936[_0x26d277(0x41b)]());await runTransaction(db,async _0x255734=>{const _0x1cd7b6=_0x26d277;let _0x3ef7ea=0x0;const _0x3a05e4={};let _0x91e931=!![],_0x48dc5e=0x0,_0x1e7f44=0x0;for(const _0x497396 of _0x2cc585){const _0x551b77=_0x2ac936[_0x1cd7b6(0x65f)](_0x497396),_0x4cd57d=doc(db,_0x1cd7b6(0x2c6)+appId+_0x1cd7b6(0x315)+_0x497396+_0x1cd7b6(0x424),_0xfb10f4),_0x5ab8ce=await _0x255734[_0x1cd7b6(0x65f)](_0x4cd57d);if(_0x5ab8ce[_0x1cd7b6(0x660)]()){const _0xa797cb=_0x5ab8ce[_0x1cd7b6(0x1a2)](),_0x17da3d=_0xa797cb[_0x1cd7b6(0x5f3)]||[];if(_0x17da3d[_0x1cd7b6(0x31c)]>0x0){const _0xfa6354=_0x17da3d[_0x1cd7b6(0x4c9)]((_0x14ec7f,_0x271851)=>{const _0x278026=_0x1cd7b6;if(_0x271851[_0x278026(0x3f9)]>_0x14ec7f[_0x278026(0x3f9)])return _0x271851;if(_0x271851[_0x278026(0x3f9)]===_0x14ec7f[_0x278026(0x3f9)])return(_0x271851[_0x278026(0x76c)]||0x0)>(_0x14ec7f[_0x278026(0x76c)]||0x0)?_0x271851:_0x14ec7f;return _0x14ec7f;},{'score':-0x1,'points':-0x1});_0xfa6354['score']>-0x1&&(_0x3ef7ea+=_0xfa6354[_0x1cd7b6(0x76c)]||0x0,(_0xfa6354[_0x1cd7b6(0x111)]||[])[_0x1cd7b6(0x1c8)](_0x49963a=>{_0x3a05e4[_0x49963a]=(_0x3a05e4[_0x49963a]||0x0)+0x1;}));}}if(_0x551b77['topic']!==_0x1cd7b6(0x5f2)){_0x1e7f44++;if(_0x5ab8ce[_0x1cd7b6(0x660)]()){_0x48dc5e++;const _0x404297=_0x5ab8ce[_0x1cd7b6(0x1a2)]();_0x404297[_0x1cd7b6(0x2f3)]!==_0x404297[_0x1cd7b6(0x119)]&&(_0x91e931=![]);}else _0x91e931=![];}}_0x1e7f44>0x0&&_0x48dc5e===_0x1e7f44&&_0x91e931?_0x3a05e4[_0x1cd7b6(0x570)]=0x1:_0x3a05e4[_0x1cd7b6(0x570)]=0x0,_0x255734[_0x1cd7b6(0x7f2)](_0x101d16,{'studentName':_0xfb10f4,'totalPoints':_0x3ef7ea,'unlockedBadges':Object[_0x1cd7b6(0x41b)](_0x3a05e4)[_0x1cd7b6(0x622)](_0x3430b7=>_0x3a05e4[_0x3430b7]>0x0),'badgesCount':_0x3a05e4},{'merge':!![]});});}catch(_0x5cd550){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x5cd550),showMessage(_0x26d277(0x169));}}function startAdminTest(){const _0x35e42f=_0x433974;if(!currentQuizData){showMessage(_0x35e42f(0x337));return;}let _0x503575=JSON[_0x35e42f(0x7f8)](JSON[_0x35e42f(0x6b7)](currentQuizData));currentMode=_0x35e42f(0x4e6),currentStudentName=_0x35e42f(0x7dd),adminView['classList'][_0x35e42f(0x10f)](_0x35e42f(0x10c)),studentView[_0x35e42f(0x1a4)][_0x35e42f(0x33c)]('hidden'),studentInitialView[_0x35e42f(0x1a4)][_0x35e42f(0x10f)](_0x35e42f(0x10c)),studentNameSelectionView['classList'][_0x35e42f(0x10f)](_0x35e42f(0x10c)),studentResultArea[_0x35e42f(0x1a4)][_0x35e42f(0x10f)](_0x35e42f(0x10c)),studentQuizArea[_0x35e42f(0x1a4)][_0x35e42f(0x33c)](_0x35e42f(0x10c)),quizStartTime=new Date(),displayQuizForStudent(_0x503575);}function handleResultDisplay(_0x345f09,_0x5f3837,_0x4720fd,_0x1f5ced,_0x120cd2,_0x3cce5f){const _0x2bc8e=_0x433974;if(_0x345f09===_0x2bc8e(0x426)){displaySubmissionConfirmation();return;}const _0x550881=currentDisplayedQuiz[_0x2bc8e(0x262)]?.['passingScore']??Math['floor'](_0x3cce5f/0x2),_0x4904fd=currentDisplayedQuiz[_0x2bc8e(0x262)]?.[_0x2bc8e(0x608)]??![],_0x3d8f36=currentDisplayedQuiz[_0x2bc8e(0x262)]?.['loopUntilPass']===!![],_0x48f086=_0x5f3837<_0x550881,_0x1bdef7=_0x345f09===_0x2bc8e(0x2fd)||_0x345f09===_0x2bc8e(0x56f);if(_0x3d8f36&&_0x48f086&&!_0x1bdef7){_0x345f09===_0x2bc8e(0x309)?displayResultsWithAnswers(_0x5f3837,_0x4720fd,_0x1f5ced,_0x120cd2,_0x3cce5f,!![]):displayLoopScreen(_0x5f3837,_0x3cce5f,_0x345f09);return;}if(_0x4904fd&&_0x48f086){startAdaptiveFlow(_0x120cd2,_0x5f3837,_0x3cce5f);return;}switch(_0x345f09){case _0x2bc8e(0x309):displayResultsWithAnswers(_0x5f3837,_0x4720fd,_0x1f5ced,_0x120cd2,_0x3cce5f);break;case _0x2bc8e(0x773):displayResultsScoreOnly(_0x5f3837,_0x4720fd,_0x1f5ced,_0x3cce5f);break;case _0x2bc8e(0x334):displayPassFailOnly(_0x5f3837,_0x3cce5f);break;case _0x2bc8e(0x2fd):displayHalfMarkResult(_0x5f3837,_0x3cce5f);break;case _0x2bc8e(0x56f):displayPerfectScoreResult(_0x5f3837,_0x3cce5f);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x262fba){const _0x46f60f=_0x433974;studentReadingArea[_0x46f60f(0x5fb)]=_0x46f60f(0x12d);const _0x32dd4e=_0x46f60f(0x433)+_0x262fba+_0x46f60f(0x6c1)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x2e19b1={'type':_0x46f60f(0x831),'properties':{'questionText':{'type':_0x46f60f(0x7ab)},'options':{'type':_0x46f60f(0x288),'items':{'type':_0x46f60f(0x7ab)}},'correctAnswerIndex':{'type':_0x46f60f(0x1f3)},'explanation':{'type':_0x46f60f(0x7ab)}},'required':[_0x46f60f(0x84f),_0x46f60f(0x482),'correctAnswerIndex',_0x46f60f(0x6b3)]},_0x5d5c98={'type':_0x46f60f(0x831),'properties':{'topic':{'type':_0x46f60f(0x7ab)},'questions':{'type':_0x46f60f(0x288),'items':_0x2e19b1}},'required':[_0x46f60f(0x158),'questions']};try{const _0x4b7119=await callAnalysisApi(_0x32dd4e,_0x5d5c98);_0x4b7119[_0x46f60f(0x22a)]=!![],studentReadingArea[_0x46f60f(0x1a4)][_0x46f60f(0x10f)](_0x46f60f(0x10c));const _0x37e41c={...currentDisplayedQuiz[_0x46f60f(0x262)],'isAdaptive':![],'resultsDisplay':_0x46f60f(0x309)};_0x4b7119[_0x46f60f(0x262)]=_0x37e41c,displayQuizForStudent(_0x4b7119);}catch(_0x4e5b7a){console[_0x46f60f(0x6ee)]('Remedial\x20quiz\x20generation\x20failed:',_0x4e5b7a),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x46f60f(0x699));}}function displayPassFailOnly(_0x1b6818,_0x7ad720){const _0x5df18e=_0x433974,_0x215075=currentDisplayedQuiz[_0x5df18e(0x262)]?.[_0x5df18e(0x76b)]??-0x1,_0xce9d1a=currentDisplayedQuiz[_0x5df18e(0x22a)]===!![];let _0x865a34='',_0x492c3f=![];if(_0xce9d1a||_0x215075!==-0x1){_0x492c3f=_0xce9d1a?_0x1b6818===_0x7ad720:_0x1b6818>=_0x215075;const _0x19b651=_0x492c3f?_0x5df18e(0x45f):'bg-red-100\x20text-red-800',_0x261138=_0x492c3f?_0x5df18e(0x3b8):_0x5df18e(0x258);_0x865a34='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x19b651+'\x22>'+_0x261138+_0x5df18e(0x753);}else _0x865a34=_0x5df18e(0x67d);let _0x4d560d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x5df18e(0x44d)+_0x865a34+_0x5df18e(0x2c7);studentResultArea[_0x5df18e(0x5fb)]=_0x4d560d,studentResultArea[_0x5df18e(0x1a4)][_0x5df18e(0x33c)](_0x5df18e(0x10c)),studentQuizArea['classList'][_0x5df18e(0x10f)](_0x5df18e(0x10c)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x492c3f});}function cancelAdminTest(){const _0xc8db90=_0x433974;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),exitFullscreen(),document[_0xc8db90(0x4eb)]('fullscreenchange',handleFullscreenChange),document[_0xc8db90(0x4eb)](_0xc8db90(0x6dd),handleVisibilityChange),currentMode=_0xc8db90(0x133),studentView[_0xc8db90(0x1a4)][_0xc8db90(0x10f)](_0xc8db90(0x10c)),adminView[_0xc8db90(0x1a4)]['remove'](_0xc8db90(0x10c)),showView(_0xc8db90(0x32e));}function setupResultScreenBackButton(_0x52bf73){const _0xa3ef2=_0x433974,_0x1f9117={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x52bf73};if(_0x1f9117[_0xa3ef2(0x72d)]){const _0xa88891=_0xa3ef2(0x587);studentResultArea[_0xa3ef2(0x11c)](_0xa3ef2(0x22d),_0xa88891),document[_0xa3ef2(0x633)](_0xa3ef2(0x1a1))['addEventListener'](_0xa3ef2(0x864),()=>{const _0x27953f=_0xa3ef2;studentResultArea[_0x27953f(0x1a4)][_0x27953f(0x10f)](_0x27953f(0x10c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4a517a=_0xa3ef2(0x243),_0x5f05d6=currentMode==='admin-testing',_0x1e9de0=_0x5f05d6?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x4cf7a5='';_0x1f9117[_0xa3ef2(0x2ba)]&&(_0x4cf7a5+=_0xa3ef2(0x691));let _0x3447b0=_0x1f9117['showImproveButton'];_0x3447b0===undefined&&(_0x3447b0=_0x1f9117[_0xa3ef2(0x3f9)]<_0x1f9117['totalQuestions']);_0x3447b0&&(_0x4cf7a5+=_0xa3ef2(0x53b));_0x4cf7a5+=_0xa3ef2(0x859)+_0x4a517a+_0xa3ef2(0x718)+_0x1e9de0+'</button>';const _0x31baea=_0xa3ef2(0x7c3)+_0x4cf7a5+_0xa3ef2(0x290);studentResultArea[_0xa3ef2(0x11c)]('beforeend',_0x31baea),studentResultArea['querySelector'](_0xa3ef2(0x81b))?.[_0xa3ef2(0x3b9)]('click',handleShowStudentRankings);const _0x17f252=studentResultArea[_0xa3ef2(0x3fa)](_0xa3ef2(0x322));_0x17f252&&_0x17f252[_0xa3ef2(0x3b9)](_0xa3ef2(0x864),()=>{const _0xc78136=_0xa3ef2;studentResultArea['classList'][_0xc78136(0x10f)](_0xc78136(0x10c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xa3ef2(0x633)](_0x4a517a)[_0xa3ef2(0x3b9)](_0xa3ef2(0x864),()=>{const _0x2a9a75=_0xa3ef2;_0x5f05d6?(currentMode=_0x2a9a75(0x133),studentView['classList'][_0x2a9a75(0x10f)]('hidden'),adminView[_0x2a9a75(0x1a4)][_0x2a9a75(0x33c)](_0x2a9a75(0x10c)),showView('project-detail')):(showView(_0x2a9a75(0x699)),document[_0x2a9a75(0x633)](_0x2a9a75(0x165))[_0x2a9a75(0x411)]='');});}function displayResultsWithAnswers(_0x633c47,_0x1eec60,_0x3a63de,_0x125af4,_0x1243da,_0xab030a=![]){const _0x370b39=_0x433974,_0x5c06f4=_0x1243da>0x0?_0x633c47/_0x1243da*0x64:0x0,_0xa40500=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x53bb8e=currentDisplayedQuiz['isRemedial']===!![];let _0xc7b892='';if(_0x53bb8e||_0xa40500!==-0x1){let _0x58371a=_0x53bb8e?_0x633c47===_0x1243da:_0x633c47>=_0xa40500;const _0x25422b=_0x58371a?_0x370b39(0x45f):_0x370b39(0x113),_0x527fe4=_0x58371a?_0x370b39(0x3b8):'ไม่ผ่าน';_0xc7b892=_0x370b39(0x81e)+_0x25422b+'\x22>'+_0x527fe4+_0x370b39(0x69c);}let _0x610548=_0x370b39(0x37a)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x633c47+_0x370b39(0x72f)+_0x1243da+_0x370b39(0x330)+_0xc7b892+_0x370b39(0x555)+_0x1eec60+_0x370b39(0x27d)+_0x5c06f4[_0x370b39(0x5fd)](0x0)+_0x370b39(0x3f5);currentDisplayedQuiz['questions'][_0x370b39(0x1c8)]((_0x5d2bc2,_0x1858cc)=>{const _0x434f52=_0x370b39,_0x247430=_0x125af4[_0x1858cc],_0x35fa27=_0x247430[_0x434f52(0x49a)],_0x504269=_0x247430[_0x434f52(0x4e9)],_0x53424a=_0x5d2bc2[_0x434f52(0x327)]||currentDisplayedQuiz['quizType'];_0x610548+=_0x434f52(0x173)+(_0x504269?_0x434f52(0x71c):_0x434f52(0x4bf))+_0x434f52(0x3b3)+(_0x1858cc+0x1)+'.\x20'+(_0x5d2bc2['stem']||_0x5d2bc2[_0x434f52(0x84f)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x53424a){case _0x434f52(0x39c):const _0x5810d0=_0x35fa27||'ไม่ได้ตอบ',_0x1e57e9=_0x5d2bc2[_0x434f52(0x25c)];_0x610548+=_0x434f52(0x794)+(!_0x504269?'line-through\x20text-red-700':'')+'\x22>'+_0x5810d0+_0x434f52(0x8a2);!_0x504269&&(_0x610548+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x1e57e9+'</p>');break;case _0x434f52(0x6f3):_0x610548+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x35fa27||'ไม่ได้ตอบ')+_0x434f52(0x69c),_0x610548+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x5d2bc2[_0x434f52(0x6eb)]+_0x434f52(0x69c);break;case _0x434f52(0x797):_0x610548+=_0x434f52(0x35f)+(_0x5d2bc2[_0x434f52(0x863)]===!![]?_0x434f52(0x3a2):'')+'\x20'+(_0x35fa27===_0x434f52(0x7a3)&&!_0x504269?_0x434f52(0x280):'')+_0x434f52(0x853),_0x610548+=_0x434f52(0x35f)+(_0x5d2bc2[_0x434f52(0x863)]===![]?_0x434f52(0x3a2):'')+'\x20'+(_0x35fa27===_0x434f52(0x148)&&!_0x504269?'line-through\x20text-red-700':'')+_0x434f52(0x1e4);break;default:_0x610548+=_0x5d2bc2[_0x434f52(0x482)][_0x434f52(0x844)]((_0x18701b,_0x30218e)=>{const _0x4e8d40=_0x434f52;let _0x408823='',_0x52fd78='';if(_0x30218e===_0x5d2bc2[_0x4e8d40(0x363)])_0x408823=_0x4e8d40(0x3a2),_0x52fd78=_0x4e8d40(0x4db);else _0x30218e===_0x35fa27&&(_0x408823=_0x4e8d40(0x626),_0x52fd78='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0x408823+'\x22>'+_0x52fd78+_0x18701b+_0x4e8d40(0x290);})[_0x434f52(0x63c)]('');break;}_0x610548+=_0x434f52(0x184)+(_0x5d2bc2[_0x434f52(0x6b3)]||_0x434f52(0x5cc))+_0x434f52(0x290);if(!_0x504269){const _0x20fd79=_0x5d2bc2['stem']||_0x5d2bc2[_0x434f52(0x84f)];_0x610548+=_0x434f52(0x663)+escape(_0x20fd79)+_0x434f52(0x5fc);}_0x610548+=_0x434f52(0x290);}),studentResultArea[_0x370b39(0x5fb)]=_0x610548,renderEarnedBadges(_0x3a63de,'earned-badges-container'),studentResultArea[_0x370b39(0x1a4)][_0x370b39(0x33c)](_0x370b39(0x10c)),studentQuizArea['classList'][_0x370b39(0x10f)](_0x370b39(0x10c)),setupResultScreenBackButton({'isLooping':_0xab030a,'score':_0x633c47,'totalQuestions':_0x1243da,'showRankings':!![]});if(window[_0x370b39(0x5be)])window['MathJax'][_0x370b39(0x23d)]([studentResultArea]);}function displayResultsScoreOnly(_0x115f7e,_0x3c04f9,_0x5e339d,_0x13c121){const _0x36d2fd=_0x433974,_0x1a2608=_0x13c121>0x0?_0x115f7e/_0x13c121*0x64:0x0,_0x3511e0=currentDisplayedQuiz[_0x36d2fd(0x262)]?.['passingScore']??-0x1,_0x321b4b=currentDisplayedQuiz['isRemedial']===!![];let _0x4aa20c='';if(_0x321b4b||_0x3511e0!==-0x1){let _0x26e12e=_0x321b4b?_0x115f7e===_0x13c121:_0x115f7e>=_0x3511e0;const _0x341a7f=_0x26e12e?'bg-green-100\x20text-green-800':_0x36d2fd(0x113),_0x14af0f=_0x26e12e?_0x36d2fd(0x3b8):_0x36d2fd(0x258);_0x4aa20c=_0x36d2fd(0x81e)+_0x341a7f+'\x22>'+_0x14af0f+_0x36d2fd(0x69c);}let _0xe7a8a7=_0x36d2fd(0x765)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x115f7e+_0x36d2fd(0x7ca)+_0x13c121+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4aa20c+_0x36d2fd(0x555)+_0x3c04f9+_0x36d2fd(0x28a)+_0x1a2608[_0x36d2fd(0x5fd)](0x0)+_0x36d2fd(0x1c2);studentResultArea[_0x36d2fd(0x5fb)]=_0xe7a8a7,renderEarnedBadges(_0x5e339d,_0x36d2fd(0x168)),studentResultArea[_0x36d2fd(0x1a4)][_0x36d2fd(0x33c)](_0x36d2fd(0x10c)),studentQuizArea[_0x36d2fd(0x1a4)][_0x36d2fd(0x10f)](_0x36d2fd(0x10c)),setupResultScreenBackButton({'score':_0x115f7e,'totalQuestions':_0x13c121,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x4ae08f=_0x433974;let _0x22d371=_0x4ae08f(0x573)+currentStudentName+_0x4ae08f(0x425);studentResultArea[_0x4ae08f(0x5fb)]=_0x22d371,studentResultArea['classList'][_0x4ae08f(0x33c)](_0x4ae08f(0x10c)),studentQuizArea[_0x4ae08f(0x1a4)][_0x4ae08f(0x10f)]('hidden'),document[_0x4ae08f(0x633)](_0x4ae08f(0x826))[_0x4ae08f(0x3b9)](_0x4ae08f(0x864),()=>{const _0x3fac05=_0x4ae08f;showView('student'),document[_0x3fac05(0x633)]('quiz-id-input')[_0x3fac05(0x411)]='';});}function renderEarnedBadges(_0x53ab7b,_0x2f6f7f){const _0x33d33a=_0x433974,_0x3a0ef1=document[_0x33d33a(0x633)](_0x2f6f7f);if(!_0x3a0ef1||!_0x53ab7b||_0x53ab7b[_0x33d33a(0x31c)]===0x0)return;let _0x2198e6='';_0x53ab7b[_0x33d33a(0x1c8)]((_0x202144,_0x15f30b)=>{const _0x36aae9=_0x33d33a,_0x3be8b7=Object[_0x36aae9(0x701)](BADGES)[_0x36aae9(0x7c5)](_0x4cb398=>_0x4cb398['id']===_0x202144);_0x3be8b7&&(_0x2198e6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x15f30b*0.2+'s;\x22\x20title=\x22'+_0x3be8b7[_0x36aae9(0x682)]+_0x36aae9(0x748)+_0x3be8b7['icon']+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x3be8b7['name']+_0x36aae9(0x721));}),_0x3a0ef1[_0x33d33a(0x5fb)]=_0x2198e6;}function startPresentation(_0x1e91f9){const _0x1c88e8=_0x433974;currentQuizData=getShuffledQuiz(_0x1e91f9),currentPresentationSlide=0x0,presentationModal[_0x1c88e8(0x3d6)][_0x1c88e8(0x684)]=_0x1c88e8(0x66a),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x55f1bd=_0x433974;document['fullscreenElement']&&document[_0x55f1bd(0x646)](),presentationModal[_0x55f1bd(0x3d6)][_0x55f1bd(0x684)]=_0x55f1bd(0x19e);}function renderPresentationSlide(_0x56d31b){const _0x54a1f1=_0x433974,_0x4ceee4=document[_0x54a1f1(0x633)](_0x54a1f1(0x4a1));if(!currentQuizData||!currentQuizData[_0x54a1f1(0x193)]||!currentQuizData[_0x54a1f1(0x193)][_0x56d31b]){_0x4ceee4['innerHTML']=_0x54a1f1(0x5ce);return;}const _0x6640c=currentQuizData[_0x54a1f1(0x193)][_0x56d31b],_0x1aeced=_0x6640c[_0x54a1f1(0x327)]||currentQuizData[_0x54a1f1(0x5e4)];_0x4ceee4[_0x54a1f1(0x5fb)]='';let _0x5f2dc3=_0x54a1f1(0x625)+(_0x6640c[_0x54a1f1(0x20a)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x6640c[_0x54a1f1(0x20a)]+_0x54a1f1(0x290):'')+_0x54a1f1(0x388)+(_0x56d31b+0x1)+'.\x20'+(_0x6640c[_0x54a1f1(0x114)]||_0x6640c['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x1aeced){case _0x54a1f1(0x39c):_0x5f2dc3+=_0x6640c[_0x54a1f1(0x850)]['map'](_0x2f895f=>_0x54a1f1(0x6a3)+_0x2f895f+_0x54a1f1(0x18f))[_0x54a1f1(0x63c)]('');break;case _0x54a1f1(0x797):_0x5f2dc3+=_0x54a1f1(0x857),_0x5f2dc3+=_0x54a1f1(0x308);break;case'fill_in_no_choices':case _0x54a1f1(0x6f3):_0x5f2dc3+=_0x54a1f1(0x517);break;case _0x54a1f1(0x29e):case'multiple_choice':default:_0x5f2dc3+=_0x6640c[_0x54a1f1(0x482)][_0x54a1f1(0x844)]((_0x3d1a50,_0x3dd3d7)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x3dd3d7+_0x54a1f1(0x661)+_0x3d1a50+_0x54a1f1(0x18f))[_0x54a1f1(0x63c)]('');break;}_0x5f2dc3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x6640c[_0x54a1f1(0x6b3)]||_0x54a1f1(0x5cc))+_0x54a1f1(0x838),_0x4ceee4[_0x54a1f1(0x5fb)]=_0x5f2dc3;if(window[_0x54a1f1(0x5be)])window['MathJax'][_0x54a1f1(0x23d)]([_0x4ceee4]);document[_0x54a1f1(0x6a8)](_0x54a1f1(0x421))[_0x54a1f1(0x1c8)](_0x189628=>{const _0x5f04db=_0x54a1f1;_0x189628['addEventListener'](_0x5f04db(0x864),_0x71b71d=>revealAnswerForPresentation(_0x56d31b,_0x71b71d[_0x5f04db(0x816)]));});const _0x139401=document['getElementById'](_0x54a1f1(0x26b));_0x139401&&_0x139401[_0x54a1f1(0x3b9)](_0x54a1f1(0x864),()=>checkShortAnswerForPresentation(_0x56d31b)),document[_0x54a1f1(0x633)]('slide-counter')[_0x54a1f1(0x1d4)]=_0x54a1f1(0x830)+(_0x56d31b+0x1)+_0x54a1f1(0x6ea)+currentQuizData[_0x54a1f1(0x193)][_0x54a1f1(0x31c)],document['getElementById']('prev-question-btn')[_0x54a1f1(0x6b0)]=_0x56d31b===0x0,document[_0x54a1f1(0x633)](_0x54a1f1(0x4c5))[_0x54a1f1(0x6b0)]=_0x56d31b===currentQuizData[_0x54a1f1(0x193)][_0x54a1f1(0x31c)]-0x1;}async function checkShortAnswerForPresentation(_0x47f7aa){const _0x280b7f=_0x433974,_0x1d9b19=currentQuizData[_0x280b7f(0x193)][_0x47f7aa],_0x2913d9=document[_0x280b7f(0x633)](_0x280b7f(0x4c3)),_0x436daa=document[_0x280b7f(0x633)](_0x280b7f(0x26b)),_0x267b61=document[_0x280b7f(0x633)](_0x280b7f(0x6c2)),_0x5ec9cd=document[_0x280b7f(0x633)](_0x280b7f(0x155));if(!_0x2913d9||!_0x436daa||!_0x267b61||!_0x5ec9cd)return;const _0x29b12a=_0x2913d9[_0x280b7f(0x411)]['trim']();if(_0x29b12a==='')return;_0x436daa[_0x280b7f(0x6b0)]=!![],_0x436daa[_0x280b7f(0x5fb)]=_0x280b7f(0x63b),_0x2913d9[_0x280b7f(0x6b0)]=!![];const _0x437686=await gradeShortAnswer(_0x29b12a,_0x1d9b19);_0x437686?_0x267b61['innerHTML']='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x267b61[_0x280b7f(0x5fb)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x1d9b19[_0x280b7f(0x6eb)]+')',_0x267b61[_0x280b7f(0x1a4)][_0x280b7f(0x33c)]('hidden'),_0x5ec9cd[_0x280b7f(0x1a4)][_0x280b7f(0x33c)](_0x280b7f(0x10c)),_0x436daa[_0x280b7f(0x1a4)]['add'](_0x280b7f(0x10c));}function revealAnswerForPresentation(_0x98795e,_0x42a250){const _0x5d9071=_0x433974,_0x3faa24=currentQuizData['questions'][_0x98795e],_0x37d12e=_0x3faa24['questionType']||currentQuizData[_0x5d9071(0x5e4)];document[_0x5d9071(0x6a8)](_0x5d9071(0x421))[_0x5d9071(0x1c8)](_0x582510=>{const _0x4c993d=_0x5d9071;_0x582510[_0x4c993d(0x6b0)]=!![],_0x582510[_0x4c993d(0x1a4)][_0x4c993d(0x33c)](_0x4c993d(0x3a6));let _0x12e815=![];if(_0x37d12e===_0x4c993d(0x75a)||_0x37d12e==='fill_in_the_blank'){const _0x48e665=parseInt(_0x582510['dataset']['index']);_0x12e815=_0x48e665===_0x3faa24[_0x4c993d(0x363)];}else{if(_0x37d12e===_0x4c993d(0x797)){const _0x5cb7f5=_0x582510[_0x4c993d(0x80f)]['answer']===_0x4c993d(0x7a3);_0x12e815=_0x5cb7f5===_0x3faa24['correctAnswer'];}else _0x37d12e==='matching_item'&&(_0x12e815=_0x582510[_0x4c993d(0x1d4)][_0x4c993d(0x882)]()===_0x3faa24[_0x4c993d(0x25c)]);}_0x12e815?_0x582510[_0x4c993d(0x1a4)][_0x4c993d(0x10f)](_0x4c993d(0x390),_0x4c993d(0x87a),_0x4c993d(0x5d7)):_0x582510['classList'][_0x4c993d(0x10f)](_0x4c993d(0x75d));}),_0x42a250['classList']['remove'](_0x5d9071(0x75d));let _0x1d5d5a=![];if(_0x37d12e==='multiple_choice')_0x1d5d5a=parseInt(_0x42a250['dataset'][_0x5d9071(0x716)])===_0x3faa24[_0x5d9071(0x363)];else{if(_0x37d12e===_0x5d9071(0x797))_0x1d5d5a=_0x42a250[_0x5d9071(0x80f)][_0x5d9071(0x49a)]===_0x5d9071(0x7a3)===_0x3faa24[_0x5d9071(0x863)];else _0x37d12e===_0x5d9071(0x39c)&&(_0x1d5d5a=_0x42a250['textContent']['trim']()===_0x3faa24[_0x5d9071(0x25c)]);}!_0x1d5d5a&&_0x42a250[_0x5d9071(0x1a4)]['add'](_0x5d9071(0x3fc),_0x5d9071(0x87a),_0x5d9071(0x5f1)),document[_0x5d9071(0x633)](_0x5d9071(0x155))[_0x5d9071(0x1a4)][_0x5d9071(0x33c)]('hidden');}function startWholeQuizTimer(_0x2750d4){const _0x1d270e=_0x433974,_0x21eea7=document[_0x1d270e(0x633)](_0x1d270e(0x552));if(!_0x21eea7)return;const _0x43afcb=Date[_0x1d270e(0x2ec)]()+_0x2750d4*0x3c*0x3e8;_0x21eea7['innerHTML']=_0x1d270e(0x314);const _0x1307a3=document[_0x1d270e(0x633)](_0x1d270e(0x449));quizTimerInterval=setInterval(()=>{const _0x4c14cf=_0x1d270e,_0x22142d=_0x43afcb-Date[_0x4c14cf(0x2ec)]();if(_0x22142d<=0x0)clearInterval(quizTimerInterval),_0x1307a3[_0x4c14cf(0x1d4)]=_0x4c14cf(0x38b),showMessage(_0x4c14cf(0x4c1)),handleSubmitQuiz(null);else{const _0xd76e9=Math['floor'](_0x22142d/0x3e8/0x3c%0x3c)[_0x4c14cf(0x15d)]()[_0x4c14cf(0x310)](0x2,'0'),_0x27e869=Math[_0x4c14cf(0x484)](_0x22142d/0x3e8%0x3c)[_0x4c14cf(0x15d)]()[_0x4c14cf(0x310)](0x2,'0');_0x1307a3[_0x4c14cf(0x1d4)]=_0xd76e9+':'+_0x27e869;}},0x3e8);}function renderPerQuestionView(){const _0x8c1e5=_0x433974;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x42ca2f=currentDisplayedQuiz[_0x8c1e5(0x193)][currentQuestionIndex],_0x45a360=_0x42ca2f['questionType']||currentDisplayedQuiz[_0x8c1e5(0x5e4)];let _0x206acf=_0x8c1e5(0x26a)+(currentQuestionIndex+0x1)+_0x8c1e5(0x5f4)+currentDisplayedQuiz[_0x8c1e5(0x193)][_0x8c1e5(0x31c)]+_0x8c1e5(0x5e5)+(currentMode===_0x8c1e5(0x4e6)?_0x8c1e5(0x438):'')+_0x8c1e5(0x75b)+currentDisplayedQuiz[_0x8c1e5(0x158)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x8c1e5(0x193)]['length']-0x1?'ส่งคำตอบ':_0x8c1e5(0x596))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea[_0x8c1e5(0x5fb)]=_0x206acf;let _0x5963aa='',_0x1a3434='';switch(_0x45a360){case _0x8c1e5(0x39c):_0x5963aa=currentQuestionIndex+0x1+'.\x20'+_0x42ca2f['stem'],_0x1a3434='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42ca2f[_0x8c1e5(0x850)][_0x8c1e5(0x844)](_0x8b95ee=>_0x8c1e5(0x655)+_0x8b95ee+'\x22>'+_0x8b95ee+_0x8c1e5(0x535))[_0x8c1e5(0x63c)]('')+_0x8c1e5(0x6e4);break;case'true_false':_0x5963aa=currentQuestionIndex+0x1+'.\x20'+_0x42ca2f[_0x8c1e5(0x84f)],_0x1a3434='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':case _0x8c1e5(0x50a):_0x5963aa=currentQuestionIndex+0x1+'.\x20'+_0x42ca2f[_0x8c1e5(0x84f)],_0x1a3434=_0x8c1e5(0x681);break;case'multiple_choice':case'fill_in_with_choices':default:_0x5963aa=currentQuestionIndex+0x1+'.\x20'+_0x42ca2f[_0x8c1e5(0x84f)],_0x1a3434=_0x42ca2f[_0x8c1e5(0x482)][_0x8c1e5(0x844)]((_0x470f27,_0x2c6f3e)=>_0x8c1e5(0x4aa)+_0x2c6f3e+_0x8c1e5(0x20e)+_0x2c6f3e+_0x8c1e5(0x545)+_0x2c6f3e+'\x22>'+_0x470f27+_0x8c1e5(0x485))[_0x8c1e5(0x63c)]('');break;}_0x42ca2f[_0x8c1e5(0x20a)]&&(_0x5963aa+=_0x8c1e5(0x263)+_0x42ca2f[_0x8c1e5(0x20a)]+_0x8c1e5(0x290));document['getElementById'](_0x8c1e5(0x4b5))[_0x8c1e5(0x5fb)]=_0x5963aa,document[_0x8c1e5(0x633)](_0x8c1e5(0x8a0))[_0x8c1e5(0x5fb)]=_0x1a3434;if(currentMode===_0x8c1e5(0x4e6)){const _0x3e3c54=document[_0x8c1e5(0x633)](_0x8c1e5(0x7e9));if(_0x3e3c54)_0x3e3c54['addEventListener']('click',cancelAdminTest);}document[_0x8c1e5(0x633)]('next-question-timed-btn')['addEventListener']('click',()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x8c1e5(0x5be)][_0x8c1e5(0x23d)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x44b0cc=_0x433974,_0x1a4b06=currentDisplayedQuiz[_0x44b0cc(0x262)][_0x44b0cc(0x837)],_0x439bd6=document[_0x44b0cc(0x633)]('per-question-timer-container');if(!_0x439bd6)return;let _0x5ab6da=_0x1a4b06;_0x439bd6[_0x44b0cc(0x5fb)]=_0x44b0cc(0x63f)+_0x5ab6da+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x2abc7f=document[_0x44b0cc(0x633)](_0x44b0cc(0x6fa)),_0x492f3d=document['getElementById'](_0x44b0cc(0x266));perQuestionTimerInterval=setInterval(()=>{const _0x1f23ec=_0x44b0cc;_0x5ab6da--;const _0x319d95=_0x5ab6da/_0x1a4b06*0x64;_0x2abc7f['style'][_0x1f23ec(0x70d)]=_0x319d95+'%',_0x492f3d['textContent']=_0x5ab6da,_0x5ab6da<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x1f23ec(0x1f9)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x123127=![]){const _0x3d1ab0=_0x433974;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x2dd22e=null;if(!_0x123127){const _0x3a9b8f=currentDisplayedQuiz[_0x3d1ab0(0x193)][currentQuestionIndex],_0xf49e3=_0x3a9b8f[_0x3d1ab0(0x327)]||currentDisplayedQuiz[_0x3d1ab0(0x5e4)];if(_0xf49e3==='short_answer'||_0xf49e3===_0x3d1ab0(0x50a)){const _0x536744=document[_0x3d1ab0(0x3fa)](_0x3d1ab0(0x6f5));_0x2dd22e=_0x536744?_0x536744[_0x3d1ab0(0x411)][_0x3d1ab0(0x882)]():'';}else{if(_0xf49e3===_0x3d1ab0(0x39c)){const _0x40b332=document[_0x3d1ab0(0x3fa)](_0x3d1ab0(0x443));_0x2dd22e=_0x40b332?_0x40b332[_0x3d1ab0(0x411)]:'';}else{const _0x1f21fe=document[_0x3d1ab0(0x3fa)](_0x3d1ab0(0x579));if(_0x1f21fe){const _0x4c60bb=_0x1f21fe['value'];_0x2dd22e=!isNaN(parseInt(_0x4c60bb,0xa))&&_0x4c60bb[_0x3d1ab0(0x882)]()!==''?parseInt(_0x4c60bb,0xa):_0x4c60bb;}}}}studentAnswersPerQuestion[_0x3d1ab0(0x690)](_0x2dd22e),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3d1ab0(0x193)][_0x3d1ab0(0x31c)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x451930=_0x433974,_0x450139=currentDisplayedQuiz[_0x451930(0x193)][_0x451930(0x50f)](_0x337dd9=>_0x337dd9[_0x451930(0x327)]==='short_answer');_0x450139?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x2d4602=currentQuizData['id'],_0x55c07c=doc(db,'artifacts/'+appId+_0x451930(0x315)+_0x2d4602+_0x451930(0x424),currentStudentName),_0x825eca=await getDoc(_0x55c07c),_0x5c9cc9=_0x825eca['exists']()?_0x825eca[_0x451930(0x1a2)]():{},_0xfe55fd=_0x5c9cc9[_0x451930(0x5f3)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0xfe55fd);}function getResultsFilename(){const _0x505b2d=_0x433974,_0x1c0e01=document['getElementById']('results-quiz-title')[_0x505b2d(0x1d4)][_0x505b2d(0x1f2)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x505b2d(0x1c4)+(_0x1c0e01||_0x505b2d(0x4bb));}function exportResultsAsImage(){const _0x3c3a21=_0x433974,_0x582c33=document[_0x3c3a21(0x633)]('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x582c33)[_0x3c3a21(0x7d0)](_0x253fa3=>{const _0x42e5b5=_0x3c3a21,_0x33d706=document[_0x42e5b5(0x5b6)]('a');_0x33d706['download']=getResultsFilename()+'.png',_0x33d706['href']=_0x253fa3[_0x42e5b5(0x130)](_0x42e5b5(0x1d1)),_0x33d706['click'](),messageModal['classList'][_0x42e5b5(0x10f)](_0x42e5b5(0x10c));});}function exportResultsAsPDF(){const _0xd4bf69=_0x433974,{jsPDF:_0x4fd3c6}=window['jspdf'],_0x44c7d5=new _0x4fd3c6();_0x44c7d5['setFont'](_0xd4bf69(0x77b),_0xd4bf69(0x1bd)),_0x44c7d5[_0xd4bf69(0x4ca)]({'html':'#results-table'}),_0x44c7d5[_0xd4bf69(0x30f)](getResultsFilename()+_0xd4bf69(0x452));}function exportResultsAsWord(){const _0x5d1a98=_0x433974,_0x4fb19f=_0x5d1a98(0x585)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x5d1a98(0x7eb)+_0x5d1a98(0x53e),_0x31e107=_0x5d1a98(0x799),_0x32cc98=_0x4fb19f+document[_0x5d1a98(0x633)]('results-table-container')[_0x5d1a98(0x5fb)]+_0x31e107,_0x459c42=_0x5d1a98(0x351)+encodeURIComponent(_0x32cc98),_0x1959cc=document['createElement']('a');document[_0x5d1a98(0x4d7)][_0x5d1a98(0x4b8)](_0x1959cc),_0x1959cc[_0x5d1a98(0x410)]=_0x459c42,_0x1959cc[_0x5d1a98(0x5fa)]=getResultsFilename()+'.doc',_0x1959cc[_0x5d1a98(0x864)](),document[_0x5d1a98(0x4d7)][_0x5d1a98(0x79a)](_0x1959cc);}function exportResultsAsExcel(){const _0xab5a1f=_0x433974,_0x3168f3=document[_0xab5a1f(0x633)](_0xab5a1f(0x1b8));let _0x58b39f=[];for(let _0x2ea90c=0x0;_0x2ea90c<_0x3168f3[_0xab5a1f(0x3a9)][_0xab5a1f(0x31c)];_0x2ea90c++){let _0x438820=[],_0x194db1=_0x3168f3[_0xab5a1f(0x3a9)][_0x2ea90c][_0xab5a1f(0x6a8)](_0xab5a1f(0x30d));for(let _0x19d106=0x0;_0x19d106<_0x194db1['length'];_0x19d106++){_0x438820[_0xab5a1f(0x690)]('\x22'+_0x194db1[_0x19d106][_0xab5a1f(0x7cc)][_0xab5a1f(0x1f2)](/"/g,'\x22\x22')+'\x22');}_0x58b39f[_0xab5a1f(0x690)](_0x438820[_0xab5a1f(0x63c)](','));}const _0x5251cf=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x58b39f[_0xab5a1f(0x63c)]('\x0a')],{'type':_0xab5a1f(0x1b2)}),_0x46b373=document['createElement']('a');_0x46b373[_0xab5a1f(0x410)]=URL[_0xab5a1f(0x7ef)](_0x5251cf),_0x46b373[_0xab5a1f(0x5fa)]=getResultsFilename()+_0xab5a1f(0x34d),_0x46b373[_0xab5a1f(0x864)]();}function exportTableAsImage(_0x154844,_0x2640c2){const _0x444883=_0x433974,_0x306b85=document[_0x444883(0x633)](_0x154844);if(!_0x306b85){showMessage(_0x444883(0x1aa));return;}showMessage(_0x444883(0x7af)),html2canvas(_0x306b85)[_0x444883(0x7d0)](_0x55811e=>{const _0x9e1c2c=_0x444883,_0x58830c=document[_0x9e1c2c(0x5b6)]('a');_0x58830c[_0x9e1c2c(0x5fa)]=_0x2640c2+_0x9e1c2c(0x578),_0x58830c[_0x9e1c2c(0x410)]=_0x55811e['toDataURL'](_0x9e1c2c(0x1d1)),_0x58830c['click'](),messageModal[_0x9e1c2c(0x1a4)][_0x9e1c2c(0x10f)]('hidden');});}function exportTableAsPDF(_0x2c6d67,_0x384389){const _0x4d0b43=_0x433974,{jsPDF:_0x2bd4c8}=window[_0x4d0b43(0x43f)],_0x586b35=new _0x2bd4c8();_0x586b35[_0x4d0b43(0x7a1)](_0x4d0b43(0x77b),_0x4d0b43(0x1bd)),_0x586b35[_0x4d0b43(0x4ca)]({'html':'#'+_0x2c6d67}),_0x586b35[_0x4d0b43(0x30f)](_0x384389+'.pdf');}function exportTableAsWord(_0x89dd1d,_0x56895f){const _0x566c1d=_0x433974,_0x55fd6c=document[_0x566c1d(0x633)](_0x89dd1d);if(!_0x55fd6c){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x1c89bb=_0x566c1d(0x585)+_0x566c1d(0x400)+_0x566c1d(0x7eb)+_0x566c1d(0x53e),_0x541b26=_0x566c1d(0x799),_0x2b3a85=_0x1c89bb+_0x55fd6c[_0x566c1d(0x5fb)]+_0x541b26,_0x4529cb=_0x566c1d(0x351)+encodeURIComponent(_0x2b3a85),_0x38c2d2=document[_0x566c1d(0x5b6)]('a');document[_0x566c1d(0x4d7)][_0x566c1d(0x4b8)](_0x38c2d2),_0x38c2d2['href']=_0x4529cb,_0x38c2d2[_0x566c1d(0x5fa)]=_0x56895f+'.doc',_0x38c2d2[_0x566c1d(0x864)](),document[_0x566c1d(0x4d7)][_0x566c1d(0x79a)](_0x38c2d2);}function exportTableAsExcel(_0x475e91,_0x41799d){const _0x30637a=_0x433974,_0x1e6b96=document[_0x30637a(0x633)](_0x475e91);if(!_0x1e6b96){showMessage(_0x30637a(0x1aa));return;}let _0x504469=[];for(let _0x401efa=0x0;_0x401efa<_0x1e6b96[_0x30637a(0x3a9)][_0x30637a(0x31c)];_0x401efa++){let _0x2f48f0=[],_0x3bf331=_0x1e6b96[_0x30637a(0x3a9)][_0x401efa][_0x30637a(0x6a8)]('td,\x20th');for(let _0x50d0c4=0x0;_0x50d0c4<_0x3bf331[_0x30637a(0x31c)];_0x50d0c4++){_0x2f48f0[_0x30637a(0x690)]('\x22'+_0x3bf331[_0x50d0c4][_0x30637a(0x7cc)][_0x30637a(0x1f2)](/"/g,'\x22\x22')+'\x22');}_0x504469[_0x30637a(0x690)](_0x2f48f0['join'](','));}const _0x43b85c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x504469[_0x30637a(0x63c)]('\x0a')],{'type':_0x30637a(0x1b2)}),_0x5c6422=document[_0x30637a(0x5b6)]('a');_0x5c6422['href']=URL[_0x30637a(0x7ef)](_0x43b85c),_0x5c6422[_0x30637a(0x5fa)]=_0x41799d+_0x30637a(0x34d),_0x5c6422[_0x30637a(0x864)]();}function renderAnalytics(_0x4f5ff5,_0x2f68a7){const _0x502708=_0x433974,_0x1c2867=currentProjectData['students'][_0x502708(0x31c)],_0xac2bbc=_0x2f68a7[_0x502708(0x31c)],_0x3a8cc8=_0x1c2867-_0xac2bbc,_0xfb6c32=_0x1c2867>0x0?_0xac2bbc/_0x1c2867*0x64:0x0,_0x3a8471=_0x2f68a7['map'](_0x5c3db9=>_0x5c3db9[_0x502708(0x81f)]),_0x11846c=_0x3a8471[_0x502708(0x31c)]>0x0?_0x3a8471[_0x502708(0x4c9)]((_0x4295e2,_0x1552ca)=>_0x4295e2+_0x1552ca,0x0)/_0x3a8471[_0x502708(0x31c)]:0x0,_0x335605=_0x4f5ff5[_0x502708(0x193)][_0x502708(0x31c)],_0x1256c3=_0x335605>0x0?_0x11846c/_0x335605*0x64:0x0,_0x4f2053=calculateItemAnalysis(_0x4f5ff5,_0x2f68a7),_0x41c68a=calculateReliabilityKR20(_0x4f5ff5,_0x2f68a7,_0x4f2053[_0x502708(0x242)]);let _0x528efd='';if(_0x41c68a!==null){let _0x1c6c46='';if(_0x41c68a>=0.9)_0x1c6c46=_0x502708(0x567);else{if(_0x41c68a>=0.8)_0x1c6c46='ดีมาก';else{if(_0x41c68a>=0.7)_0x1c6c46='ดี';else{if(_0x41c68a>=0.6)_0x1c6c46=_0x502708(0x46e);else _0x1c6c46=_0x502708(0x21a);}}}_0x528efd=_0x502708(0x30e)+_0x41c68a[_0x502708(0x5fd)](0x2)+_0x502708(0x22f)+_0x1c6c46+_0x502708(0x17b);}const _0x767314=document[_0x502708(0x633)](_0x502708(0x670));_0x767314[_0x502708(0x5fb)]=_0x502708(0x735)+_0xfb6c32[_0x502708(0x5fd)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0xac2bbc+'/'+_0x1c2867+_0x502708(0x722)+_0x11846c[_0x502708(0x5fd)](0x2)+_0x502708(0x72a)+_0x1256c3[_0x502708(0x5fd)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x3a8471[_0x502708(0x31c)]>0x0?Math[_0x502708(0x374)](..._0x3a8471):_0x502708(0x2ea))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x3a8471[_0x502708(0x31c)]>0x0?Math[_0x502708(0x14a)](..._0x3a8471):_0x502708(0x2ea))+_0x502708(0x31f)+_0x528efd+_0x502708(0x779);const _0x25a048=document[_0x502708(0x633)]('interesting-stats-wrapper');_0x25a048&&_0x25a048['remove']();const _0x54ab97='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x767314['insertAdjacentHTML'](_0x502708(0x8a5),_0x54ab97);const _0x13413f=currentProjectData[_0x502708(0x647)]||[];renderSubmissionChart(_0xac2bbc,_0x3a8cc8,_0x2f68a7,_0x13413f),renderScoreDistributionChart(_0x2f68a7,_0x335605),renderQuestionAnalytics(_0x4f5ff5,_0x2f68a7,_0x13413f),renderInterestingStats(_0x4f5ff5,_0x2f68a7);}async function handleExportLessonPDF(){const _0x211b92=_0x433974,_0xb58dbe=document[_0x211b92(0x633)]('lesson-plan-content'),_0x4d44cc=document['getElementById'](_0x211b92(0x5a3))[_0x211b92(0x1d4)],_0x3413c3=window[_0x211b92(0x331)]('',_0x211b92(0x568)),_0x5d2006=_0x211b92(0x611)+_0x4d44cc+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb58dbe['innerHTML']+_0x211b92(0x7f7);_0x3413c3[_0x211b92(0x2dc)]['write'](_0x5d2006),_0x3413c3[_0x211b92(0x2dc)][_0x211b92(0x756)](),_0x3413c3[_0x211b92(0x620)]=function(){setTimeout(()=>{const _0x5e5fdc=_0x300c;_0x3413c3[_0x5e5fdc(0x758)]();},0x5dc);};}function renderInterestingStats(_0x298b78,_0x29b769){const _0x3c7f5a=_0x433974,_0x226f77=document[_0x3c7f5a(0x633)](_0x3c7f5a(0x395));if(!_0x226f77)return;if(_0x29b769[_0x3c7f5a(0x31c)]===0x0){_0x226f77[_0x3c7f5a(0x5fb)]=_0x3c7f5a(0x5ae);return;}const _0x146172=_0x298b78['questions'][_0x3c7f5a(0x844)]((_0x4e82f1,_0x4930c1)=>({'index':_0x4930c1+0x1,'text':_0x4e82f1[_0x3c7f5a(0x84f)]||_0x4e82f1['stem'],'correct':0x0}));_0x29b769[_0x3c7f5a(0x1c8)](_0x3aed3b=>{const _0x8bf5d0=_0x3c7f5a,_0x2c90e0=_0x3aed3b['attempts'][_0x3aed3b[_0x8bf5d0(0x5f3)][_0x8bf5d0(0x31c)]-0x1];_0x2c90e0&&_0x2c90e0['answers']&&_0x2c90e0[_0x8bf5d0(0x30a)]['forEach'](_0x50a47b=>{const _0x3ad135=_0x8bf5d0,_0x210bf3=_0x146172[_0x3ad135(0x7c5)](_0x52f5bf=>_0x52f5bf['text']===_0x50a47b['originalQuestionText']);_0x50a47b[_0x3ad135(0x4e9)]&&_0x210bf3&&_0x210bf3['correct']++;});});const _0x35ca58=_0x29b769[_0x3c7f5a(0x31c)],_0x4bb801=Math['max'](..._0x146172[_0x3c7f5a(0x844)](_0x1653f7=>_0x1653f7[_0x3c7f5a(0x796)])),_0x82c7cf=Math[_0x3c7f5a(0x14a)](..._0x146172['map'](_0x1ae79b=>_0x1ae79b['correct'])),_0x32ff26=_0x146172[_0x3c7f5a(0x622)](_0x3162b=>_0x3162b[_0x3c7f5a(0x796)]===_0x4bb801)[_0x3c7f5a(0x844)](_0x7e41bf=>_0x3c7f5a(0x21d)+_0x7e41bf['index']),_0x2e1d3c=_0x146172[_0x3c7f5a(0x622)](_0x344506=>_0x344506[_0x3c7f5a(0x796)]===_0x82c7cf)[_0x3c7f5a(0x844)](_0x2aaed7=>'ข้อ\x20'+_0x2aaed7[_0x3c7f5a(0x716)]),_0x4e48e9=_0x29b769['sort']((_0x197daf,_0x40028a)=>_0x40028a[_0x3c7f5a(0x81f)]-_0x197daf['latestScore'])[_0x3c7f5a(0x622)]((_0x709b8e,_0xf57ea1,_0x401cc2)=>_0x709b8e[_0x3c7f5a(0x81f)]===_0x401cc2[0x0][_0x3c7f5a(0x81f)]),_0x54c864=_0x29b769['sort']((_0x42f274,_0x3f0de8)=>_0x42f274[_0x3c7f5a(0x81f)]-_0x3f0de8[_0x3c7f5a(0x81f)])[_0x3c7f5a(0x622)]((_0x4f46b7,_0x41c857,_0xc10ff7)=>_0x4f46b7[_0x3c7f5a(0x81f)]===_0xc10ff7[0x0][_0x3c7f5a(0x81f)]),_0x5ce22a=_0x3c7f5a(0x4bd)+_0x32ff26[_0x3c7f5a(0x63c)](',\x20')+_0x3c7f5a(0x5ec)+_0x4bb801+_0x3c7f5a(0x6ea)+_0x35ca58+_0x3c7f5a(0x17a)+_0x2e1d3c[_0x3c7f5a(0x63c)](',\x20')+_0x3c7f5a(0x5ec)+(_0x35ca58-_0x82c7cf)+'\x20/\x20'+_0x35ca58+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x4e48e9['map'](_0x2ad2b3=>_0x2ad2b3[_0x3c7f5a(0x534)])[_0x3c7f5a(0x63c)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x4e48e9[0x0][_0x3c7f5a(0x81f)]+_0x3c7f5a(0x80c)+_0x54c864[_0x3c7f5a(0x844)](_0x547cd6=>_0x547cd6[_0x3c7f5a(0x534)])[_0x3c7f5a(0x63c)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x54c864[0x0][_0x3c7f5a(0x81f)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x226f77[_0x3c7f5a(0x5fb)]=_0x5ce22a;}function renderSubmissionChart(_0x1e8e36,_0x38c749,_0x488df0,_0x4a3082){const _0xdf4953=_0x433974,_0x3454cb=document[_0xdf4953(0x633)]('submission-status-chart')[_0xdf4953(0x466)]('2d'),_0x19e3a9=_0x488df0[_0xdf4953(0x844)](_0x14206f=>_0x14206f[_0xdf4953(0x534)]),_0x503446=_0x4a3082[_0xdf4953(0x622)](_0x3430e9=>!_0x19e3a9[_0xdf4953(0x335)](_0x3430e9));chartInstances['submission']&&chartInstances['submission'][_0xdf4953(0x162)](),chartInstances[_0xdf4953(0x7c0)]=new Chart(_0x3454cb,{'type':_0xdf4953(0x230),'data':{'labels':[_0xdf4953(0x668),'ยังไม่ส่ง'],'datasets':[{'data':[_0x1e8e36,_0x38c749],'backgroundColor':[_0xdf4953(0x5ee),_0xdf4953(0x383)],'borderColor':['#ffffff',_0xdf4953(0x15f)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0xdf4953(0x589)},'tooltip':{'callbacks':{'label':function(_0x205a4a){const _0x437644=_0xdf4953;let _0x3952f5=_0x205a4a[_0x437644(0x6db)]||'';return _0x3952f5&&(_0x3952f5+=':\x20'),_0x3952f5+=_0x205a4a[_0x437644(0x177)],_0x3952f5;},'afterLabel':function(_0x234fdb){const _0xb256db=_0xdf4953;let _0xff0306;return _0x234fdb[_0xb256db(0x1a8)]===0x0?_0xff0306=_0x19e3a9:_0xff0306=_0x503446,_0xff0306[_0xb256db(0x31c)]>0x0?_0xff0306[_0xb256db(0x63c)]('\x0a'):_0xb256db(0x250);}}}}}});}function renderScoreDistributionChart(_0x27e901,_0x506f63){const _0x120ac9=_0x433974,_0x1b89b7=document[_0x120ac9(0x633)]('score-distribution-chart')[_0x120ac9(0x466)]('2d'),_0x2121a4={};for(let _0x476dc7=0x0;_0x476dc7<=_0x506f63;_0x476dc7++){_0x2121a4[_0x476dc7]=0x0;}_0x27e901[_0x120ac9(0x1c8)](_0x7d0a04=>{const _0x4427a2=_0x120ac9;_0x2121a4[_0x7d0a04[_0x4427a2(0x81f)]]!==undefined&&_0x2121a4[_0x7d0a04['latestScore']]++;}),chartInstances[_0x120ac9(0x3f9)]&&chartInstances[_0x120ac9(0x3f9)][_0x120ac9(0x162)](),chartInstances[_0x120ac9(0x3f9)]=new Chart(_0x1b89b7,{'type':_0x120ac9(0x286),'data':{'labels':Object[_0x120ac9(0x41b)](_0x2121a4),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x120ac9(0x701)](_0x2121a4),'backgroundColor':_0x120ac9(0x17f),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x120ac9(0x342)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x112af9){const _0x410bd4=_0x120ac9,_0x1c2b7d=_0x112af9[_0x410bd4(0x6db)],_0x1f099d=_0x27e901[_0x410bd4(0x622)](_0xd3b675=>_0xd3b675[_0x410bd4(0x81f)]==_0x1c2b7d)[_0x410bd4(0x844)](_0xf6010=>_0xf6010[_0x410bd4(0x534)]);return _0x1f099d[_0x410bd4(0x31c)]>0x0?_0x1f099d['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x1fd944,_0x175997,_0x42eb88){const _0x30d3c5=_0x433974,_0x5bfaae=document[_0x30d3c5(0x633)](_0x30d3c5(0x1c7));if(_0x42eb88['length']===0x0){_0x5bfaae['innerHTML']=_0x30d3c5(0x65b);return;}const _0x17edeb=calculateItemAnalysis(_0x1fd944,_0x175997),_0x3870ec=calculateDistractorAnalysis(_0x1fd944,_0x175997);let _0x32a554='';_0x17edeb[_0x30d3c5(0x339)]&&(_0x32a554=_0x30d3c5(0x804)+_0x17edeb[_0x30d3c5(0x339)][_0x30d3c5(0x636)][_0x30d3c5(0x31c)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17edeb['overallGroups'][_0x30d3c5(0x636)][_0x30d3c5(0x844)](_0x430fb9=>_0x30d3c5(0x34c)+_0x430fb9+'</li>')[_0x30d3c5(0x63c)]('')+_0x30d3c5(0x5bc)+_0x17edeb[_0x30d3c5(0x339)][_0x30d3c5(0x3f8)]['length']+_0x30d3c5(0x71d)+_0x17edeb[_0x30d3c5(0x339)][_0x30d3c5(0x3f8)]['map'](_0x49298c=>'<li>'+_0x49298c+'</li>')[_0x30d3c5(0x63c)]('')+_0x30d3c5(0x83c));let _0x20a9af='';const _0x291182=_0x175997[_0x30d3c5(0x844)](_0x6b42ac=>_0x6b42ac[_0x30d3c5(0x534)]),_0x24c2ad=_0x1060e7=>{const _0x29ca95=_0x30d3c5;if(_0x1060e7>=0.8)return _0x29ca95(0x35e);if(_0x1060e7>=0.6)return _0x29ca95(0x39a);if(_0x1060e7>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x1060e7>=0.2)return _0x29ca95(0x8a8);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x47df9=_0x109f8a=>{const _0x1570cf=_0x30d3c5;if(_0x109f8a<0x0)return _0x1570cf(0x15c);if(_0x109f8a>=0.4)return _0x1570cf(0x1e6);if(_0x109f8a>=0.3)return _0x1570cf(0x3c5);if(_0x109f8a>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x4b5bd2=_0x571415=>{const _0x3ed636=_0x30d3c5,_0x3b65b8=_0x571415[_0x3ed636(0x5fd)](0x0);if(parseFloat(_0x3b65b8)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3b65b8+_0x3ed636(0x18b);if(_0x571415>=0x32)return _0x3ed636(0x4ff)+_0x3b65b8+_0x3ed636(0x18b);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3b65b8+_0x3ed636(0x18b);};_0x1fd944[_0x30d3c5(0x193)][_0x30d3c5(0x1c8)]((_0x1ab504,_0x2fbcad)=>{const _0x5a9876=_0x30d3c5,_0x1a16f8=_0x17edeb[_0x5a9876(0x242)][_0x2fbcad],_0x378962=_0x3870ec[_0x2fbcad],_0x458d51=_0x1ab504[_0x5a9876(0x114)]||_0x1ab504[_0x5a9876(0x84f)]||_0x1ab504[_0x5a9876(0x5e6)];let _0x30683d=0x0;const _0x4393ac=[],_0x11488d=[];_0x175997[_0x5a9876(0x1c8)](_0x58e7fe=>{const _0x25b5b3=_0x5a9876,_0x5c7874=_0x58e7fe[_0x25b5b3(0x5f3)][_0x58e7fe[_0x25b5b3(0x5f3)][_0x25b5b3(0x31c)]-0x1];if(_0x5c7874&&_0x5c7874[_0x25b5b3(0x30a)]){const _0x1aeaf9=_0x5c7874[_0x25b5b3(0x30a)][_0x25b5b3(0x7c5)](_0x4dc909=>_0x4dc909['originalQuestionText']===_0x458d51)??_0x5c7874[_0x25b5b3(0x30a)][_0x2fbcad]??null;_0x1aeaf9&&(_0x1aeaf9[_0x25b5b3(0x4e9)]?(_0x30683d++,_0x4393ac[_0x25b5b3(0x690)](_0x58e7fe['studentName'])):_0x11488d[_0x25b5b3(0x690)](_0x58e7fe[_0x25b5b3(0x534)]));}});const _0x399186=_0x175997[_0x5a9876(0x31c)]>0x0?_0x30683d/_0x175997[_0x5a9876(0x31c)]*0x64:0x0,_0x99947a=_0x42eb88[_0x5a9876(0x622)](_0x5891ae=>!_0x291182[_0x5a9876(0x335)](_0x5891ae)),_0x59103c=_0x1a16f8?_0x5a9876(0x16d)+_0x1a16f8['p'][_0x5a9876(0x5fd)](0x2)+'</p><div>'+_0x24c2ad(_0x1a16f8['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x1a16f8['r'][_0x5a9876(0x5fd)](0x2)+'</p><div>'+_0x47df9(_0x1a16f8['r'])+_0x5a9876(0x5de)+_0x4b5bd2(_0x399186)+_0x5a9876(0x55c):'';let _0x4b90f='';_0x378962&&(_0x4b90f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x5a9876(0x41b)](_0x378962)[_0x5a9876(0x844)](_0x356c1b=>{const _0x1e39f6=_0x5a9876,_0x27fbf2=_0x378962[_0x356c1b],_0x3a552d=parseInt(_0x356c1b)===_0x1ab504[_0x1e39f6(0x363)],_0x8dda4c=!_0x3a552d&&_0x27fbf2[_0x1e39f6(0x7cb)]>_0x27fbf2[_0x1e39f6(0x5d2)];return _0x1e39f6(0x790)+(_0x3a552d?_0x1e39f6(0x7a0):'')+_0x1e39f6(0x805)+(_0x3a552d?'✔\x20':'')+_0x27fbf2[_0x1e39f6(0x85f)]+_0x1e39f6(0x7c7)+_0x27fbf2[_0x1e39f6(0x5d2)]+_0x1e39f6(0x7c7)+_0x27fbf2['lower_group_count']+'\x20'+(_0x8dda4c?'👍':'')+_0x1e39f6(0x7c7)+_0x27fbf2[_0x1e39f6(0x4a4)]+_0x1e39f6(0x46d);})[_0x5a9876(0x63c)]('')+_0x5a9876(0x54f));let _0x383f8b='';_0x1a16f8&&_0x1a16f8[_0x5a9876(0x11d)]&&(_0x383f8b=_0x5a9876(0x16f)+_0x1a16f8['upperGroupResponders'][_0x5a9876(0x31c)]+_0x5a9876(0x491)+_0x1a16f8[_0x5a9876(0x11d)]['map'](_0x35024c=>_0x5a9876(0x34c)+(_0x35024c[_0x5a9876(0x4e9)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x5a9876(0x855))+'\x20'+_0x35024c[_0x5a9876(0x3ab)]+_0x5a9876(0x787))[_0x5a9876(0x63c)]('')+_0x5a9876(0x586)+_0x1a16f8['lowerGroupResponders']['length']+_0x5a9876(0x491)+_0x1a16f8[_0x5a9876(0x51b)][_0x5a9876(0x844)](_0x36f86c=>_0x5a9876(0x34c)+(_0x36f86c[_0x5a9876(0x4e9)]?_0x5a9876(0x85d):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x36f86c['name']+_0x5a9876(0x787))[_0x5a9876(0x63c)]('')+_0x5a9876(0x896)),_0x20a9af+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x2fbcad+0x1)+':\x20'+_0x458d51+_0x5a9876(0x73e)+_0x59103c+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x458d51+_0x5a9876(0x662)+_0x30683d+'\x20จาก\x20'+_0x175997[_0x5a9876(0x31c)]+_0x5a9876(0x65c)+_0x399186[_0x5a9876(0x5fd)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x4393ac['length']+_0x5a9876(0x210)+(_0x4393ac[_0x5a9876(0x31c)]>0x0?_0x4393ac[_0x5a9876(0x63c)](',\x20'):_0x5a9876(0x250))+_0x5a9876(0x891)+_0x11488d[_0x5a9876(0x31c)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x11488d['length']>0x0?_0x11488d[_0x5a9876(0x63c)](',\x20'):_0x5a9876(0x250))+_0x5a9876(0x386)+_0x99947a[_0x5a9876(0x31c)]+_0x5a9876(0x210)+(_0x99947a[_0x5a9876(0x31c)]>0x0?_0x99947a[_0x5a9876(0x63c)](',\x20'):_0x5a9876(0x250))+_0x5a9876(0x5fe)+_0x4b90f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x383f8b+_0x5a9876(0x34b);}),_0x5bfaae[_0x30d3c5(0x5fb)]=_0x32a554+_0x20a9af;try{window['MathJax']&&MathJax[_0x30d3c5(0x23d)]&&MathJax[_0x30d3c5(0x23d)]([_0x5bfaae]);}catch(_0x78d38b){console['error'](_0x30d3c5(0x78a),_0x78d38b);}}function calculateDistractorAnalysis(_0x38fd67,_0x56307c){const _0x358111=_0x433974,_0x396351={};if(_0x56307c[_0x358111(0x31c)]<0x2)return _0x396351;const _0x14d2f0=[..._0x56307c][_0x358111(0x2e8)]((_0x40e881,_0x23aca7)=>{const _0x6d2469=_0x358111,_0x4d210e=_0x23aca7['latestScore']-_0x40e881['latestScore'];if(_0x4d210e!==0x0)return _0x4d210e;const _0x381378=_0x40e881[_0x6d2469(0x5f3)]?.[_0x6d2469(0x31c)]||0x1,_0x5030fa=_0x23aca7[_0x6d2469(0x5f3)]?.[_0x6d2469(0x31c)]||0x1,_0x3fb10f=_0x381378-_0x5030fa;if(_0x3fb10f!==0x0)return _0x3fb10f;const _0x202d0e=new Date(_0x40e881[_0x6d2469(0x1a6)]),_0x439549=new Date(_0x23aca7[_0x6d2469(0x1a6)]),_0x4b2305=_0x202d0e-_0x439549;if(_0x4b2305!==0x0)return _0x4b2305;return _0x40e881[_0x6d2469(0x534)][_0x6d2469(0x60a)](_0x23aca7[_0x6d2469(0x534)],'th');}),_0x968246=_0x14d2f0[_0x358111(0x31c)],_0x32abd7=Math[_0x358111(0x374)](0x1,Math[_0x358111(0x484)](_0x968246*0.33)),_0x445a90=_0x14d2f0[_0x358111(0x490)](0x0,_0x32abd7),_0x20cf01=_0x14d2f0[_0x358111(0x490)](-_0x32abd7);return _0x38fd67[_0x358111(0x193)][_0x358111(0x1c8)]((_0x2952ba,_0x1722ed)=>{const _0x2390ed=_0x358111;if(_0x2952ba['questionType']!==_0x2390ed(0x75a)||!_0x2952ba[_0x2390ed(0x482)])return;const _0x5898d4=_0x2952ba[_0x2390ed(0x84f)],_0x2567c1={};_0x2952ba['options'][_0x2390ed(0x1c8)]((_0x12bc85,_0x4b7fe4)=>{_0x2567c1[_0x4b7fe4]={'text':_0x12bc85,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x14d2f0[_0x2390ed(0x1c8)](_0x2ffbf3=>{const _0x102cc4=_0x2390ed,_0x2d1b5d=_0x2ffbf3[_0x102cc4(0x5f3)][_0x2ffbf3[_0x102cc4(0x5f3)][_0x102cc4(0x31c)]-0x1],_0x2a2708=_0x2d1b5d[_0x102cc4(0x30a)][_0x102cc4(0x7c5)](_0x4aa02d=>_0x4aa02d[_0x102cc4(0x436)]===_0x5898d4);if(_0x2a2708&&_0x2a2708['answer']!==null){const _0xd853f=_0x2952ba[_0x102cc4(0x482)][_0x102cc4(0x43e)](_0x289928=>_0x289928===_0x2a2708[_0x102cc4(0x3d2)]);_0xd853f!==-0x1&&_0x2567c1[_0xd853f]&&(_0x2567c1[_0xd853f][_0x102cc4(0x4a4)]++,_0x445a90['includes'](_0x2ffbf3)&&_0x2567c1[_0xd853f][_0x102cc4(0x5d2)]++,_0x20cf01[_0x102cc4(0x335)](_0x2ffbf3)&&_0x2567c1[_0xd853f][_0x102cc4(0x7cb)]++);}}),_0x396351[_0x1722ed]=_0x2567c1;}),_0x396351;}function calculateReliabilityKR20(_0x53e077,_0x37cadc,_0x405b2d){const _0x4c8e2a=_0x433974,_0x405c2a=_0x53e077['questions']['length'];if(_0x405c2a<0x2||_0x37cadc[_0x4c8e2a(0x31c)]<0x2)return null;const _0x224609=_0x37cadc[_0x4c8e2a(0x844)](_0xe201ed=>_0xe201ed['latestScore']),_0xf1ccdd=_0x224609[_0x4c8e2a(0x4c9)]((_0x86630e,_0x1ad569)=>_0x86630e+_0x1ad569,0x0)/_0x224609['length'],_0x5b0d18=_0x224609[_0x4c8e2a(0x844)](_0x3ce891=>Math['pow'](_0x3ce891-_0xf1ccdd,0x2))['reduce']((_0x7c0c89,_0x342b80)=>_0x7c0c89+_0x342b80,0x0)/_0x224609[_0x4c8e2a(0x31c)];if(_0x5b0d18===0x0)return null;let _0x389e5f=0x0;for(let _0x355ba1=0x0;_0x355ba1<_0x405c2a;_0x355ba1++){const _0x23e8b5=_0x405b2d[_0x355ba1]?.['p'];if(_0x23e8b5===undefined)continue;const _0x302671=0x1-_0x23e8b5;_0x389e5f+=_0x23e8b5*_0x302671;}if(_0x389e5f===0x0)return null;const _0x49aced=_0x405c2a/(_0x405c2a-0x1)*(0x1-_0x389e5f/_0x5b0d18);if(_0x49aced>0x1)return null;return _0x49aced;}async function handleAnalyzeClass(){const _0x135f8e=_0x433974;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x135f8e(0x565));return;}const _0x2eb31e=collection(db,_0x135f8e(0x2c6)+appId+_0x135f8e(0x315)+currentQuizData['id']+'/submissions'),_0x55f82d=await getDocs(_0x2eb31e),_0x47131f=_0x55f82d[_0x135f8e(0x600)]['map'](_0x4e5278=>_0x4e5278[_0x135f8e(0x1a2)]());if(_0x47131f[_0x135f8e(0x31c)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x11200a=document[_0x135f8e(0x633)](_0x135f8e(0x4b9));_0x11200a[_0x135f8e(0x5fb)]=_0x135f8e(0x680),document[_0x135f8e(0x633)](_0x135f8e(0x144))[_0x135f8e(0x6b0)]=!![];const _0x504e9f=_0x47131f[_0x135f8e(0x844)]((_0x5738b5,_0x1e8e43)=>{const _0x31ca87=_0x135f8e,_0x4252a1=_0x5738b5['attempts'][_0x5738b5[_0x31ca87(0x5f3)][_0x31ca87(0x31c)]-0x1];if(!_0x4252a1)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x1e8e43+0x1)+'\x20('+_0x5738b5[_0x31ca87(0x534)]+_0x31ca87(0x2fc)+_0x4252a1[_0x31ca87(0x3f9)]+'/'+_0x5738b5['totalQuestions']+_0x31ca87(0x51a)+JSON['stringify'](_0x4252a1['answers'])+_0x31ca87(0x641);})[_0x135f8e(0x63c)](_0x135f8e(0x54c)),_0x13bfbd=_0x135f8e(0x88b)+currentQuizData[_0x135f8e(0x158)]+_0x135f8e(0x372)+JSON[_0x135f8e(0x6b7)](currentQuizData[_0x135f8e(0x193)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x504e9f+_0x135f8e(0x270),_0x152818={'type':_0x135f8e(0x831),'properties':{'classStrengths':{'type':_0x135f8e(0x288),'items':{'type':_0x135f8e(0x7ab)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x135f8e(0x7ab)}},'teacherSuggestions':{'type':_0x135f8e(0x288),'items':{'type':_0x135f8e(0x7ab)}}},'required':[_0x135f8e(0x5d5),'classWeaknesses',_0x135f8e(0x1a9)]};try{const _0x46c6b9=await callAnalysisApi(_0x13bfbd,_0x152818);displayClassAnalysis(_0x46c6b9);}catch(_0x14c071){console['error'](_0x135f8e(0x220),_0x14c071),_0x11200a['innerHTML']=_0x135f8e(0x74f)+_0x14c071[_0x135f8e(0x64a)]+_0x135f8e(0x3f7);}finally{document[_0x135f8e(0x633)](_0x135f8e(0x144))[_0x135f8e(0x6b0)]=![];}}function displayClassAnalysis(_0x599ea6){const _0x4cf2d9=_0x433974,_0x4a8288=document[_0x4cf2d9(0x633)](_0x4cf2d9(0x4b9));if(!_0x599ea6){_0x4a8288[_0x4cf2d9(0x5fb)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x4a8288[_0x4cf2d9(0x5fb)]=_0x4cf2d9(0x487)+_0x599ea6[_0x4cf2d9(0x5d5)][_0x4cf2d9(0x844)](_0x174392=>_0x4cf2d9(0x34c)+_0x174392+_0x4cf2d9(0x787))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x599ea6[_0x4cf2d9(0x2ce)][_0x4cf2d9(0x844)](_0x6f04aa=>_0x4cf2d9(0x34c)+_0x6f04aa+_0x4cf2d9(0x787))[_0x4cf2d9(0x63c)]('')+_0x4cf2d9(0x257)+_0x599ea6[_0x4cf2d9(0x1a9)][_0x4cf2d9(0x844)](_0x2dabb=>'<li>'+_0x2dabb+_0x4cf2d9(0x787))[_0x4cf2d9(0x63c)]('')+_0x4cf2d9(0x85b);}function formatAndPrintWorksheet(_0x11e6dd,_0x1495d1){const _0x6f2f9f=_0x433974,_0x301add='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x11e6dd['topic']+_0x6f2f9f(0x398)+_0x11e6dd[_0x6f2f9f(0x158)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11e6dd['questions']['map']((_0x2c1bdd,_0x521902)=>_0x6f2f9f(0x370)+(_0x521902+0x1)+'.\x20'+_0x2c1bdd[_0x6f2f9f(0x84f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2c1bdd[_0x6f2f9f(0x20a)]?_0x6f2f9f(0x7bb)+_0x2c1bdd[_0x6f2f9f(0x20a)]+_0x6f2f9f(0x290):'')+_0x6f2f9f(0x232))[_0x6f2f9f(0x63c)]('')+_0x6f2f9f(0x727);_0x1495d1[_0x6f2f9f(0x2dc)][_0x6f2f9f(0x2f8)](_0x301add),_0x1495d1['document'][_0x6f2f9f(0x756)](),_0x1495d1[_0x6f2f9f(0x620)]=function(){setTimeout(()=>{const _0x16646e=_0x300c;_0x1495d1[_0x16646e(0x758)]();},0x3e8);};}async function generateWorksheet(){const _0x3f5ca=_0x433974,_0x163833=document[_0x3f5ca(0x633)](_0x3f5ca(0x1f1))[_0x3f5ca(0x411)]['trim']();if(!_0x163833){showMessage(_0x3f5ca(0x6d9));return;}const _0x47a0a7=document[_0x3f5ca(0x633)](_0x3f5ca(0x2f6))[_0x3f5ca(0x4d8)],_0x2ee683=_0x47a0a7?'':_0x3f5ca(0x87f),_0x3983d6=window[_0x3f5ca(0x331)]('',_0x3f5ca(0x568));_0x3983d6['document'][_0x3f5ca(0x2f8)](_0x3f5ca(0x583));const _0x85fb00=parseInt(document['getElementById'](_0x3f5ca(0x562))[_0x3f5ca(0x411)]),_0xbdd863=document[_0x3f5ca(0x633)](_0x3f5ca(0x778))['checked'],_0x1141e1=_0xbdd863?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x19d207='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x2ee683+_0x3f5ca(0x4a0)+_0x85fb00+_0x3f5ca(0x136)+_0x163833+_0x3f5ca(0x2db)+_0x1141e1+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x3f5ca(0x7e6),_0x4e5bdc={'type':_0x3f5ca(0x831),'properties':{'topic':{'type':_0x3f5ca(0x7ab)},'questions':{'type':_0x3f5ca(0x288),'items':{'type':_0x3f5ca(0x831),'properties':{'questionText':{'type':_0x3f5ca(0x7ab)},'imageCode':{'type':_0x3f5ca(0x7ab)}},'required':[_0x3f5ca(0x84f)]}}},'required':[_0x3f5ca(0x158),_0x3f5ca(0x193)]};document[_0x3f5ca(0x633)](_0x3f5ca(0x1ec))[_0x3f5ca(0x1d4)]='',document['getElementById']('loader')[_0x3f5ca(0x1a4)][_0x3f5ca(0x33c)]('hidden'),document['getElementById'](_0x3f5ca(0x384))[_0x3f5ca(0x1a4)][_0x3f5ca(0x33c)](_0x3f5ca(0x10c)),generateWorksheetBtn[_0x3f5ca(0x6b0)]=!![];try{const _0x5718d2=await callAnalysisApi(_0x19d207,_0x4e5bdc);formatAndPrintWorksheet(_0x5718d2,_0x3983d6);}catch(_0x5d59e7){console[_0x3f5ca(0x6ee)](_0x3f5ca(0x666),_0x5d59e7);if(_0x3983d6)_0x3983d6['close']();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x3f5ca(0x633)]('loader')[_0x3f5ca(0x1a4)][_0x3f5ca(0x10f)]('hidden'),document['getElementById'](_0x3f5ca(0x384))[_0x3f5ca(0x1a4)][_0x3f5ca(0x10f)](_0x3f5ca(0x10c)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x549c0b,_0x388120){const _0x580026=_0x433974,_0x457451={'contents':[{'role':_0x580026(0x8a6),'parts':[{'text':_0x549c0b}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x388120}},_0x1e877a=_0x580026(0x834),_0x431b3d=_0x580026(0x3e2)+_0x1e877a,_0x6accfb=await fetch(_0x431b3d,{'method':'POST','headers':{'Content-Type':_0x580026(0x42a)},'body':JSON[_0x580026(0x6b7)](_0x457451)});if(!_0x6accfb['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x6accfb[_0x580026(0x21b)]);const _0x516c0a=await _0x6accfb[_0x580026(0x347)]();if(_0x516c0a[_0x580026(0x639)]?.[0x0]?.[_0x580026(0x76a)]?.['parts']?.[0x0])return JSON[_0x580026(0x7f8)](_0x516c0a[_0x580026(0x639)][0x0][_0x580026(0x76a)][_0x580026(0x4c2)][0x0][_0x580026(0x85f)]);else{let _0x581710='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x516c0a['promptFeedback']?.[_0x580026(0x5af)])_0x581710=_0x580026(0x513)+_0x516c0a[_0x580026(0x82a)][_0x580026(0x5af)]+'.';else _0x516c0a[_0x580026(0x639)]?.[0x0]?.[_0x580026(0x460)]&&_0x516c0a[_0x580026(0x639)][0x0][_0x580026(0x460)]!==_0x580026(0x572)&&(_0x581710=_0x580026(0x409)+_0x516c0a[_0x580026(0x639)][0x0][_0x580026(0x460)]+'.');console[_0x580026(0x6ee)](_0x581710,JSON['stringify'](_0x516c0a));throw new Error(_0x581710);}}initialize();
