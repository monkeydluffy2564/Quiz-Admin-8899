const _0x555faf=_0x4110;(function(_0x2a4241,_0x1ef331){const _0x1775b0=_0x4110,_0x26487e=_0x2a4241();while(!![]){try{const _0x305f42=-parseInt(_0x1775b0(0x31b))/0x1*(-parseInt(_0x1775b0(0x624))/0x2)+parseInt(_0x1775b0(0x974))/0x3+-parseInt(_0x1775b0(0x8d5))/0x4+-parseInt(_0x1775b0(0x46e))/0x5*(-parseInt(_0x1775b0(0x440))/0x6)+parseInt(_0x1775b0(0x3a6))/0x7+-parseInt(_0x1775b0(0x485))/0x8+-parseInt(_0x1775b0(0x6e1))/0x9*(parseInt(_0x1775b0(0x5ac))/0xa);if(_0x305f42===_0x1ef331)break;else _0x26487e['push'](_0x26487e['shift']());}catch(_0x4067e3){_0x26487e['push'](_0x26487e['shift']());}}}(_0x46b7,0xc9ad8));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x3fd82d=_0x4110;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x3fd82d(0x52f)][_0x3fd82d(0x9ef)]('screen'),console[_0x3fd82d(0x436)](_0x3fd82d(0x6f5)),wakeLock[_0x3fd82d(0x38a)](_0x3fd82d(0x857),()=>{const _0x529898=_0x3fd82d;console[_0x529898(0x436)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x25c091){console[_0x3fd82d(0x241)](_0x3fd82d(0x865)+_0x25c091['name']+',\x20'+_0x25c091[_0x3fd82d(0x476)]);}else console[_0x3fd82d(0x1dd)](_0x3fd82d(0x5eb));},releaseWakeLock=async()=>{const _0xade8d2=_0x4110;wakeLock!==null&&(await wakeLock[_0xade8d2(0x857)](),wakeLock=null,console[_0xade8d2(0x436)](_0xade8d2(0x3d9)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x42b561=_0x4110;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x42b561(0x65e)][_0x42b561(0x3bf)](_0x42b561(0x3f0)),dimTimer=setTimeout(()=>{const _0x46f99c=_0x42b561;document['body'][_0x46f99c(0x65e)]['add']('dimmed'),console[_0x46f99c(0x436)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x4abe8d=_0x4110;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x4abe8d(0x65e)]['remove'](_0x4abe8d(0x3f0)),window[_0x4abe8d(0x6b3)](_0x4abe8d(0x90d),resetDimTimer),window[_0x4abe8d(0x6b3)](_0x4abe8d(0x803),resetDimTimer),window[_0x4abe8d(0x6b3)](_0x4abe8d(0x891),resetDimTimer),window[_0x4abe8d(0x6b3)]('keydown',resetDimTimer),console[_0x4abe8d(0x436)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x32269f,_0x4b011c=![]){const _0x53e04f=_0x4110,_0x587198=allQuizzes['find'](_0x5dc830=>_0x5dc830['id']===_0x32269f)||allQuizzesGlobal[_0x53e04f(0x653)](_0x397373=>_0x397373['id']===_0x32269f);if(!_0x587198){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x587198);const _0x5cb9ed=Math[_0x53e04f(0xff)](0x3e8+Math[_0x53e04f(0x5a3)]()*0x2328)[_0x53e04f(0x8be)]();try{const _0x18686d=await addDoc(collection(db,_0x53e04f(0x81a)+appId+_0x53e04f(0x5af)),{'quizId':_0x587198['id'],'projectId':_0x587198[_0x53e04f(0x8bf)],'status':'lobby','pin':_0x5cb9ed,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4b011c});currentTeamQuizId=_0x18686d['id'],showView(_0x53e04f(0x1c5)),renderAdminTeamQuizDashboard(_0x5cb9ed,_0x587198[_0x53e04f(0x881)]),listenForTeamQuizUpdates();}catch(_0x2522aa){console['error'](_0x53e04f(0x718),_0x2522aa),showMessage(_0x53e04f(0x726));}}function renderAdminTeamQuizDashboard(_0x3f154e,_0x2e142c,_0xbef395=_0x555faf(0x347)){const _0x570c38=_0x555faf,_0x523efa=_0xbef395===_0x570c38(0x9c1)?_0x570c38(0x58a):_0x570c38(0x5a7);liveGameView[_0x570c38(0x8d2)]=_0x570c38(0x775)+_0x523efa+':\x20'+_0x2e142c+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x3f154e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x570c38(0x8c8)](_0x570c38(0x5c0))[_0x570c38(0x38a)]('click',async()=>{const _0x12ff45=_0x570c38;showConfirmation(_0x12ff45(0x801),async()=>{const _0x3c6bc6=_0x12ff45;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x3c6bc6(0x81a)+appId+_0x3c6bc6(0x5af),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x308c2e=_0x555faf;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x38185c=doc(db,_0x308c2e(0x81a)+appId+_0x308c2e(0x5af),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x38185c,_0x532cbd=>{const _0x2b6ac5=_0x308c2e;if(!_0x532cbd[_0x2b6ac5(0x28d)]()){sessionStorage[_0x2b6ac5(0x6a0)](_0x2b6ac5(0x68d));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x2b6ac5(0x457))showMessage('กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว');showView(currentMode===_0x2b6ac5(0x457)?_0x2b6ac5(0x211):_0x2b6ac5(0x8cd));return;}const _0x47fb7d=_0x532cbd[_0x2b6ac5(0x56d)]();if(currentMode===_0x2b6ac5(0x457)){if(_0x47fb7d[_0x2b6ac5(0x179)]===_0x2b6ac5(0x9c1)&&_0x47fb7d['status']!==_0x2b6ac5(0x7bf)&&_0x47fb7d[_0x2b6ac5(0x1d7)]!==_0x2b6ac5(0x70b)){const _0x3456a6=Object[_0x2b6ac5(0x988)](_0x47fb7d['groups']||{});if(_0x3456a6[_0x2b6ac5(0x8c9)]>0x0){const _0x1d55b8=_0x3456a6[_0x2b6ac5(0x3f5)](_0x127f6a=>_0x127f6a['isFinished']===!![]);_0x1d55b8&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x47fb7d);}else{if(_0x47fb7d[_0x2b6ac5(0x1d7)]===_0x2b6ac5(0x7bf)||_0x47fb7d[_0x2b6ac5(0x1d7)]===_0x2b6ac5(0x70b)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x47fb7d[_0x2b6ac5(0x179)]===_0x2b6ac5(0x9c1)){const _0x938848=_0x47fb7d['groups'][userId];(!_0x938848||!_0x938848[_0x2b6ac5(0x77b)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x3ef7f6){const _0x38d3cc=_0x555faf;console[_0x38d3cc(0x436)](_0x38d3cc(0x315));const _0x486c56=doc(db,_0x38d3cc(0x81a)+appId+'/public/data/teamQuizzes',_0x3ef7f6);try{const _0x19ef0e=await getDoc(_0x486c56);if(_0x19ef0e[_0x38d3cc(0x28d)]()){const _0x3d7a2e=_0x19ef0e[_0x38d3cc(0x56d)]();_0x3d7a2e[_0x38d3cc(0x531)]&&await saveGameResultsAsSubmissions(_0x3d7a2e);}await updateDoc(_0x486c56,{'status':_0x38d3cc(0x7bf)});}catch(_0x23449c){console['error'](_0x38d3cc(0x7cf),_0x23449c);}}function updateAdminTeamDashboard(_0x1e6d47){const _0x5976e2=_0x555faf,_0x6dcb9b=document[_0x5976e2(0x8c8)](_0x5976e2(0x815));if(!_0x6dcb9b)return;const _0x360f29=_0x1e6d47[_0x5976e2(0x179)]||_0x5976e2(0x347);if(_0x360f29===_0x5976e2(0x9c1)){const _0xd81ea7=Object['values'](_0x1e6d47[_0x5976e2(0x191)]||{});if(_0xd81ea7[_0x5976e2(0x8c9)]===0x0){_0x6dcb9b['innerHTML']=_0x5976e2(0x964);return;}const _0x113f8a=[..._0xd81ea7][_0x5976e2(0x55d)]((_0x2e51e9,_0xef845b)=>_0xef845b[_0x5976e2(0x34e)]-_0x2e51e9[_0x5976e2(0x34e)]),_0x40f8e3=_0x113f8a[_0x5976e2(0x16a)]((_0x115a94,_0x21764d)=>_0x5976e2(0x70e)+(_0x21764d+0x1)+_0x5976e2(0x1aa)+_0x115a94[_0x5976e2(0x239)]['join'](',\x20')+_0x5976e2(0x7ed)+_0x115a94[_0x5976e2(0x34e)]+_0x5976e2(0x1c8))[_0x5976e2(0x71e)]('');let _0x53c269='';currentQuizData&&currentQuizData[_0x5976e2(0x96e)]&&(_0x53c269=currentQuizData[_0x5976e2(0x96e)]['map']((_0x24b607,_0x227343)=>{const _0x2fbfeb=_0x5976e2;let _0x173642=0x0;return _0xd81ea7[_0x2fbfeb(0x8ca)](_0x222124=>{const _0x2dc73e=_0x2fbfeb,_0x4c66d5=_0x222124[_0x2dc73e(0x4ff)]||[],_0x2d96ad=_0x4c66d5[_0x2dc73e(0x653)](_0x24fd38=>_0x24fd38[_0x2dc73e(0x9cb)]===_0x227343);_0x2d96ad&&_0x2d96ad[_0x2dc73e(0x696)]&&_0x173642++;}),_0x2fbfeb(0x2b1)+(_0x227343+0x1)+_0x2fbfeb(0x8c1)+_0x173642+_0x2fbfeb(0x312)+_0xd81ea7[_0x2fbfeb(0x8c9)]+_0x2fbfeb(0x30b);})[_0x5976e2(0x71e)]('')),_0x6dcb9b[_0x5976e2(0x8d2)]=_0x5976e2(0x313)+_0x40f8e3+_0x5976e2(0x317)+_0x53c269+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x52c4ea=_0x1e6d47[_0x5976e2(0x66c)]||{},_0x1603a9=Object['keys'](_0x52c4ea);if(_0x1603a9[_0x5976e2(0x8c9)]===0x0){_0x6dcb9b[_0x5976e2(0x8d2)]=_0x5976e2(0x7c2);return;}const _0x501b4d=_0x1603a9[_0x5976e2(0x16a)](_0x3b5bed=>({'name':_0x3b5bed,'score':_0x52c4ea[_0x3b5bed][_0x5976e2(0x34e)]||0x0}))[_0x5976e2(0x55d)]((_0x3a215d,_0x3e3140)=>_0x3e3140[_0x5976e2(0x34e)]-_0x3a215d[_0x5976e2(0x34e)]);let _0x209b0b='';currentQuizData&&currentQuizData['questions']&&(_0x209b0b=currentQuizData[_0x5976e2(0x96e)][_0x5976e2(0x16a)]((_0x1e5800,_0x1df4bc)=>{const _0x976ba=_0x5976e2;let _0x496291=0x0;return _0x1603a9[_0x976ba(0x8ca)](_0x4617a4=>{const _0x473c20=_0x976ba,_0xd7962c=_0x52c4ea[_0x4617a4][_0x473c20(0x4ff)]||[],_0x14a01d=_0xd7962c[_0x473c20(0x653)](_0x9b6bd3=>_0x9b6bd3[_0x473c20(0x9cb)]===_0x1df4bc);if(_0x14a01d&&_0x14a01d[_0x473c20(0x696)])_0x496291++;}),_0x976ba(0x35d)+(_0x1df4bc+0x1)+':</p><p\x20class=\x22text-xs\x22>'+_0x496291+_0x976ba(0x312)+_0x1603a9[_0x976ba(0x8c9)]+_0x976ba(0x4a7);})['join']('')),_0x6dcb9b[_0x5976e2(0x8d2)]=_0x5976e2(0x594)+_0x501b4d[_0x5976e2(0x16a)](_0x455add=>_0x5976e2(0x203)+_0x455add[_0x5976e2(0x3df)]+'</span><span\x20class=\x22font-bold\x22>'+_0x455add[_0x5976e2(0x34e)]+_0x5976e2(0x54f))['join']('')+_0x5976e2(0x317)+_0x209b0b+_0x5976e2(0x4e7);}}async function handleJoinTeamQuiz(){const _0xe1722b=_0x555faf,_0x4a218f=prompt(_0xe1722b(0x324));if(!_0x4a218f||_0x4a218f['trim']()[_0xe1722b(0x8c9)]!==0x4){showMessage(_0xe1722b(0x215));return;}try{const _0x313efc=collection(db,_0xe1722b(0x81a)+appId+'/public/data/teamQuizzes'),_0x235f25=query(_0x313efc,where(_0xe1722b(0x582),'==',_0x4a218f[_0xe1722b(0x588)]()),where(_0xe1722b(0x1d7),'==',_0xe1722b(0x7d2))),_0x53de15=await getDocs(_0x235f25);if(_0x53de15[_0xe1722b(0x827)]){showMessage(_0xe1722b(0x967));return;}const _0x4a42f4=_0x53de15[_0xe1722b(0x755)][0x0];currentTeamQuizId=_0x4a42f4['id'];const _0x5169e7=_0x4a42f4[_0xe1722b(0x56d)](),_0xcff8e4=doc(db,_0xe1722b(0x81a)+appId+'/public/data/projects',_0x5169e7[_0xe1722b(0x8bf)]),_0x5dadf5=doc(db,_0xe1722b(0x81a)+appId+_0xe1722b(0x235),_0x5169e7[_0xe1722b(0x128)]),[_0x2f6387,_0x46507e]=await Promise[_0xe1722b(0x816)]([getDoc(_0xcff8e4),getDoc(_0x5dadf5)]);if(!_0x2f6387[_0xe1722b(0x28d)]()||!_0x46507e[_0xe1722b(0x28d)]())throw new Error(_0xe1722b(0x5bf));currentQuizData=getShuffledQuiz({'id':_0x46507e['id'],..._0x46507e['data']()});const _0x131e9e=_0x2f6387[_0xe1722b(0x56d)]();showTeamPlayerSelection(_0x131e9e[_0xe1722b(0x4b6)],currentQuizData[_0xe1722b(0x881)]);}catch(_0x228826){console[_0xe1722b(0x241)](_0xe1722b(0x7ef),_0x228826),showMessage(_0xe1722b(0x4b0)+_0x228826[_0xe1722b(0x476)]);}}async function handleJoinGroupActivity(){const _0x71ac2b=_0x555faf,_0x4c7938=prompt(_0x71ac2b(0x165));if(!_0x4c7938||_0x4c7938[_0x71ac2b(0x588)]()['length']!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x11e7c4=_0x4c7938[_0x71ac2b(0x588)]();showMessage(_0x71ac2b(0x145));try{const _0x42c678=collection(db,'artifacts/'+appId+_0x71ac2b(0x5af)),_0x3ab419=query(_0x42c678,where('pin','==',_0x11e7c4),where(_0x71ac2b(0x1d7),'==','lobby')),_0x3a9180=await getDocs(_0x3ab419);if(!_0x3a9180[_0x71ac2b(0x827)]){console['log']('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x3a9180[_0x71ac2b(0x755)][0x0]);return;}const _0x2eede2=collection(db,_0x71ac2b(0x81a)+appId+_0x71ac2b(0x92c)),_0x24d971=query(_0x2eede2,where(_0x71ac2b(0x582),'==',_0x11e7c4),where(_0x71ac2b(0x1d7),'==','lobby')),_0x3441a3=await getDocs(_0x24d971);if(!_0x3441a3[_0x71ac2b(0x827)]){console['log'](_0x71ac2b(0x1d9)),await proceedWithSyncQuizJoin(_0x3441a3['docs'][0x0]);return;}showMessage(_0x71ac2b(0x49a));}catch(_0x49e6da){console[_0x71ac2b(0x241)]('Error\x20joining\x20activity:',_0x49e6da),showMessage(_0x71ac2b(0x606)+_0x49e6da[_0x71ac2b(0x476)]);}}async function proceedWithTeamQuizJoin(_0x1fd2b5){const _0x188fd7=_0x555faf;currentTeamQuizId=_0x1fd2b5['id'];const _0x213588=_0x1fd2b5[_0x188fd7(0x56d)](),_0x350083=doc(db,'artifacts/'+appId+_0x188fd7(0x2fe),_0x213588['projectId']),_0x2d5be1=doc(db,_0x188fd7(0x81a)+appId+_0x188fd7(0x235),_0x213588[_0x188fd7(0x128)]),[_0x8ad24b,_0x54a987]=await Promise['all']([getDoc(_0x350083),getDoc(_0x2d5be1)]);if(!_0x8ad24b['exists']()||!_0x54a987['exists']())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x54a987['id'],..._0x54a987[_0x188fd7(0x56d)]()}),showTeamPlayerSelection(_0x8ad24b[_0x188fd7(0x56d)]()['students'],currentQuizData[_0x188fd7(0x881)],_0x213588['mode']||_0x188fd7(0x347)),messageModal[_0x188fd7(0x65e)][_0x188fd7(0x43c)](_0x188fd7(0x3a5));}async function proceedWithSyncQuizJoin(_0x57dfab){const _0x3a5f7b=_0x555faf;currentLiveGameId=_0x57dfab['id'];const _0x30e40a=_0x57dfab[_0x3a5f7b(0x56d)](),_0x2da0a9=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x30e40a[_0x3a5f7b(0x128)]),_0x18303e=await getDoc(_0x2da0a9);if(!_0x18303e[_0x3a5f7b(0x28d)]())throw new Error(_0x3a5f7b(0x7b8));const _0x15ac3a=_0x18303e[_0x3a5f7b(0x56d)](),_0x314589=doc(db,'artifacts/'+appId+_0x3a5f7b(0x2fe),_0x15ac3a['projectId']),_0x590877=await getDoc(_0x314589);if(!_0x590877[_0x3a5f7b(0x28d)]())throw new Error(_0x3a5f7b(0x281));currentQuizData=_0x30e40a[_0x3a5f7b(0x794)],showView('student-team-join'),showTeamPlayerSelection(_0x590877[_0x3a5f7b(0x56d)]()[_0x3a5f7b(0x4b6)],_0x15ac3a[_0x3a5f7b(0x881)],_0x3a5f7b(0x4e3)),document[_0x3a5f7b(0x8c8)](_0x3a5f7b(0x833))['onclick']=confirmAndJoinSyncGame,messageModal[_0x3a5f7b(0x65e)][_0x3a5f7b(0x43c)](_0x3a5f7b(0x3a5));}function showTeamPlayerSelection(_0x4af494,_0x4bd2f9,_0x4145ea=_0x555faf(0x347)){const _0xe5ed3=_0x555faf;studentInitialView[_0xe5ed3(0x65e)]['add'](_0xe5ed3(0x3a5)),studentJoinGameView[_0xe5ed3(0x65e)][_0xe5ed3(0x43c)](_0xe5ed3(0x3a5)),document[_0xe5ed3(0x8c8)]('student-team-selection-view')[_0xe5ed3(0x65e)][_0xe5ed3(0x3bf)](_0xe5ed3(0x3a5));let _0x113c24=_0xe5ed3(0x5a7);if(_0x4145ea==='group')_0x113c24=_0xe5ed3(0x58a);else _0x4145ea===_0xe5ed3(0x4e3)&&(_0x113c24=_0xe5ed3(0x465));document[_0xe5ed3(0x8c8)](_0xe5ed3(0x7ba))[_0xe5ed3(0x29c)]=_0x113c24+':\x20'+_0x4bd2f9;const _0x483160=document[_0xe5ed3(0x8c8)](_0xe5ed3(0x48b));if(!_0x4af494||_0x4af494[_0xe5ed3(0x8c9)]===0x0){_0x483160['innerHTML']=_0xe5ed3(0x50b),document[_0xe5ed3(0x8c8)](_0xe5ed3(0x833))[_0xe5ed3(0x915)]=!![];return;}_0x483160[_0xe5ed3(0x8d2)]=_0x4af494[_0xe5ed3(0x16a)](_0x393e8f=>_0xe5ed3(0x3dd)+_0x393e8f+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x393e8f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0xe5ed3(0x71e)](''),document[_0xe5ed3(0x8c8)]('confirm-team-players-btn')[_0xe5ed3(0x915)]=![];}async function confirmAndStartTeamQuiz(){const _0x56137c=_0x555faf,_0x2d8da5=Array[_0x56137c(0x578)](document[_0x56137c(0x379)](_0x56137c(0x8da)))[_0x56137c(0x16a)](_0x4867a8=>_0x4867a8[_0x56137c(0x22a)]);if(_0x2d8da5[_0x56137c(0x8c9)]===0x0){showMessage(_0x56137c(0x3fd));return;}localTeamPlayers=_0x2d8da5,localPlayerTurnIndex=0x0;const _0x38f1fb=doc(db,_0x56137c(0x81a)+appId+_0x56137c(0x5af),currentTeamQuizId),_0x4556c4=await getDoc(_0x38f1fb);if(!_0x4556c4['exists']()){showMessage(_0x56137c(0x190));return;}const _0x269d94=_0x4556c4[_0x56137c(0x56d)]();_0x269d94['mode']===_0x56137c(0x9c1)&&(localGroupQuestionIndex=0x0);try{if(_0x269d94[_0x56137c(0x179)]===_0x56137c(0x9c1)){const _0x4f7c00=userId,_0x363eb7={};_0x363eb7['groups.'+_0x4f7c00]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x38f1fb,_0x363eb7);}else{const _0x1f53c3={};localTeamPlayers[_0x56137c(0x8ca)](_0x19b4b9=>{const _0x2c3704=_0x56137c;_0x1f53c3[_0x2c3704(0x175)+_0x19b4b9]={'score':0x0,'answers':[]};}),await updateDoc(_0x38f1fb,_0x1f53c3);}document['getElementById'](_0x56137c(0x14d))[_0x56137c(0x65e)][_0x56137c(0x43c)]('hidden'),renderTeamQuizQuestion();const _0x28bc48={'gameId':currentTeamQuizId,'mode':_0x269d94['mode']||'team','players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage['setItem']('activeGameSession',JSON[_0x56137c(0x784)](_0x28bc48)),listenForTeamQuizUpdates();}catch(_0x3a1f4f){console[_0x56137c(0x241)](_0x56137c(0x7f4),_0x3a1f4f),showMessage(_0x56137c(0x71f));}}async function renderTeamQuizQuestion(){const _0x280d87=_0x555faf,_0x5a5d76=doc(db,_0x280d87(0x81a)+appId+_0x280d87(0x5af),currentTeamQuizId),_0x1eac3f=await getDoc(_0x5a5d76);if(!_0x1eac3f[_0x280d87(0x28d)]())return;const _0x2bdb1b=_0x1eac3f['data'](),_0x1eda9a=_0x2bdb1b[_0x280d87(0x179)]||'team';let _0x3accf2,_0x3e5cce;_0x1eda9a===_0x280d87(0x9c1)?(_0x3accf2=localGroupQuestionIndex,_0x3e5cce=_0x280d87(0x2db)+localTeamPlayers['join'](',\x20')):(_0x3accf2=Math[_0x280d87(0xff)](localPlayerTurnIndex/localTeamPlayers['length']),_0x3e5cce=_0x280d87(0x31e)+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers['length']]);if(_0x3accf2>=currentQuizData[_0x280d87(0x96e)][_0x280d87(0x8c9)]){displayTeamQuizFinalResults();return;}const _0x3e644a=currentQuizData['questions'][_0x3accf2],_0x1aa8c7=_0x3e644a[_0x280d87(0x496)]||currentQuizData[_0x280d87(0x567)];let _0x1ae938=_0x3e644a[_0x280d87(0x822)]||_0x3e644a[_0x280d87(0x8fb)],_0x10dc69='';switch(_0x1aa8c7){case'multiple_choice':case _0x280d87(0x8d7):_0x10dc69=_0x3e644a[_0x280d87(0x81c)][_0x280d87(0x16a)]((_0x495b09,_0x50d9fa)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x50d9fa+_0x280d87(0x826)+_0x50d9fa+_0x280d87(0x66d)+_0x50d9fa+'\x22>'+_0x495b09+_0x280d87(0x407))[_0x280d87(0x71e)]('');break;case _0x280d87(0x43d):_0x10dc69=_0x280d87(0x95b);break;case'short_answer':case _0x280d87(0x759):_0x10dc69=_0x280d87(0x539);break;case _0x280d87(0x36c):_0x10dc69=_0x280d87(0x196)+_0x3e644a['allResponses'][_0x280d87(0x16a)](_0x3e9ce5=>'<option\x20value=\x22'+_0x3e9ce5+'\x22>'+_0x3e9ce5+_0x280d87(0x7e6))[_0x280d87(0x71e)]('')+_0x280d87(0x93c);break;default:_0x10dc69=_0x280d87(0x1f6);break;}studentQuizArea[_0x280d87(0x8d2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(_0x3accf2+0x1)+_0x280d87(0x312)+currentQuizData[_0x280d87(0x96e)][_0x280d87(0x8c9)]+_0x280d87(0x799)+_0x3e5cce+_0x280d87(0x969)+(_0x3accf2+0x1)+'.\x20'+_0x1ae938+_0x280d87(0x713)+(_0x3e644a[_0x280d87(0x6be)]?_0x280d87(0x3dc)+_0x3e644a[_0x280d87(0x6be)]+'</div>':'')+_0x280d87(0x3cb)+_0x10dc69+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList'][_0x280d87(0x3bf)](_0x280d87(0x3a5));if(window['MathJax'])MathJax[_0x280d87(0x715)]([studentQuizArea]);const _0x5da7cc=document['getElementById']('submit-team-answer-btn');_0x1eda9a===_0x280d87(0x9c1)?_0x5da7cc['addEventListener']('click',handleGroupAnswerSubmit):_0x5da7cc['addEventListener'](_0x280d87(0x49b),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0xe6fb3f=_0x555faf,_0x5622d2=doc(db,_0xe6fb3f(0x81a)+appId+_0xe6fb3f(0x5af),currentTeamQuizId),_0x2a6301=localGroupQuestionIndex,_0x2bdd3b=currentQuizData[_0xe6fb3f(0x96e)][_0x2a6301],_0x4cb220=_0x2bdd3b[_0xe6fb3f(0x496)]||currentQuizData[_0xe6fb3f(0x567)];let _0x253418=null,_0x42f0b5=![];if(_0x4cb220==='short_answer'||_0x4cb220===_0xe6fb3f(0x759)){const _0x10dfdb=document[_0xe6fb3f(0x5be)](_0xe6fb3f(0x642));if(!_0x10dfdb||!_0x10dfdb[_0xe6fb3f(0x22a)][_0xe6fb3f(0x588)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x253418=_0x10dfdb[_0xe6fb3f(0x22a)]['trim'](),_0x42f0b5=await gradeShortAnswer(_0x253418,_0x2bdd3b);}else{const _0x441314=document[_0xe6fb3f(0x5be)](_0xe6fb3f(0x144));if(!_0x441314||_0x441314['value']===''){showMessage(_0xe6fb3f(0x87e));return;}_0x253418=_0x441314[_0xe6fb3f(0x22a)];switch(_0x4cb220){case _0xe6fb3f(0x43d):_0x42f0b5=_0x253418===_0xe6fb3f(0x3d8)===_0x2bdd3b[_0xe6fb3f(0x338)];break;case _0xe6fb3f(0x36c):_0x42f0b5=_0x253418===_0x2bdd3b['correctResponse'];break;default:_0x42f0b5=parseInt(_0x253418)===_0x2bdd3b[_0xe6fb3f(0x230)];break;}}const _0x15de6a={'questionIndex':_0x2a6301,'isCorrect':_0x42f0b5},_0x4d3c6c=userId,_0x43681a={};_0x43681a['groups.'+_0x4d3c6c+_0xe6fb3f(0x769)]=arrayUnion(_0x15de6a);_0x42f0b5&&(_0x43681a[_0xe6fb3f(0x123)+_0x4d3c6c+_0xe6fb3f(0x9eb)]=increment(0x1));try{await updateDoc(_0x5622d2,_0x43681a),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0x1dc0dc){console[_0xe6fb3f(0x241)]('Error\x20submitting\x20group\x20answer:',_0x1dc0dc),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x470e73=_0x555faf,_0x3656d9=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x470e73(0x8c9)]],_0x2d2c02=Math['floor'](localPlayerTurnIndex/localTeamPlayers[_0x470e73(0x8c9)]),_0x3abcd5=currentQuizData[_0x470e73(0x96e)][_0x2d2c02],_0x4e0bf4=_0x3abcd5['questionType']||currentQuizData[_0x470e73(0x567)];let _0xbeb2e4=null,_0x4995f1=![];if(_0x4e0bf4===_0x470e73(0x247)||_0x4e0bf4===_0x470e73(0x759)){const _0x187b1f=document[_0x470e73(0x5be)](_0x470e73(0x642));if(!_0x187b1f||!_0x187b1f['value'][_0x470e73(0x588)]()){showMessage(_0x470e73(0x732));return;}_0xbeb2e4=_0x187b1f[_0x470e73(0x22a)]['trim'](),_0x4995f1=await gradeShortAnswer(_0xbeb2e4,_0x3abcd5);}else{const _0x2da3e6=document[_0x470e73(0x5be)](_0x470e73(0x144));if(!_0x2da3e6||_0x2da3e6[_0x470e73(0x22a)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0xbeb2e4=_0x2da3e6[_0x470e73(0x22a)];switch(_0x4e0bf4){case _0x470e73(0x43d):const _0x2ec021=_0xbeb2e4===_0x470e73(0x3d8);_0x4995f1=_0x2ec021===_0x3abcd5[_0x470e73(0x338)];break;case _0x470e73(0x36c):_0x4995f1=_0xbeb2e4===_0x3abcd5[_0x470e73(0x68a)];break;default:const _0x5cf5d8=parseInt(_0xbeb2e4);_0x4995f1=_0x5cf5d8===_0x3abcd5['correctAnswerIndex'];break;}}const _0x55cc2e={'questionIndex':_0x2d2c02,'isCorrect':_0x4995f1,'answerValue':_0xbeb2e4},_0x4c6484=doc(db,_0x470e73(0x81a)+appId+_0x470e73(0x5af),currentTeamQuizId),_0x5b50db={};_0x5b50db[_0x470e73(0x175)+_0x3656d9+'.answers']=arrayUnion(_0x55cc2e);_0x4995f1&&(_0x5b50db[_0x470e73(0x175)+_0x3656d9+_0x470e73(0x9eb)]=increment(0x1));try{await updateDoc(_0x4c6484,_0x5b50db),localPlayerTurnIndex++;const _0x5d13b3=JSON[_0x470e73(0x6ac)](sessionStorage[_0x470e73(0x314)](_0x470e73(0x68d))||'{}');_0x5d13b3[_0x470e73(0x3f8)]=localPlayerTurnIndex,sessionStorage[_0x470e73(0x221)]('activeGameSession',JSON[_0x470e73(0x784)](_0x5d13b3)),renderTeamQuizQuestion();}catch(_0x4be141){console[_0x470e73(0x241)]('Error\x20submitting\x20team\x20answer:',_0x4be141),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x5ee9f0=_0x555faf;studentQuizArea[_0x5ee9f0(0x65e)][_0x5ee9f0(0x43c)](_0x5ee9f0(0x3a5)),studentResultArea[_0x5ee9f0(0x65e)]['remove'](_0x5ee9f0(0x3a5));const _0x3196e7=doc(db,_0x5ee9f0(0x81a)+appId+_0x5ee9f0(0x5af),currentTeamQuizId),_0x483f60=await getDoc(_0x3196e7);if(!_0x483f60['exists']()){studentResultArea[_0x5ee9f0(0x8d2)]=_0x5ee9f0(0x53c);return;}const _0x33c506=_0x483f60[_0x5ee9f0(0x56d)]();let _0x8158b8=[];const _0x30a22f=_0x33c506[_0x5ee9f0(0x179)]||_0x5ee9f0(0x347);if(_0x30a22f===_0x5ee9f0(0x9c1)){const _0x15ff5a=_0x33c506[_0x5ee9f0(0x191)][userId];_0x15ff5a?_0x8158b8=[{'name':_0x5ee9f0(0x2db)+localTeamPlayers[_0x5ee9f0(0x71e)](',\x20'),'score':_0x15ff5a[_0x5ee9f0(0x34e)]||0x0}]:_0x8158b8=[{'name':'กลุ่มของคุณ','score':_0x5ee9f0(0x437)}];}else _0x8158b8=localTeamPlayers[_0x5ee9f0(0x16a)](_0x1c37b8=>({'name':_0x1c37b8,'score':_0x33c506[_0x5ee9f0(0x66c)][_0x1c37b8]?.[_0x5ee9f0(0x34e)]||0x0}))['sort']((_0x2e8dd3,_0x3587d5)=>_0x3587d5[_0x5ee9f0(0x34e)]-_0x2e8dd3['score']);studentResultArea[_0x5ee9f0(0x8d2)]=_0x5ee9f0(0x926)+_0x8158b8[_0x5ee9f0(0x16a)](_0x31dab7=>_0x5ee9f0(0x4a8)+_0x31dab7[_0x5ee9f0(0x3df)]+_0x5ee9f0(0x44b)+_0x31dab7['score']+_0x5ee9f0(0x1ce))[_0x5ee9f0(0x71e)]('')+_0x5ee9f0(0x7a3),sessionStorage[_0x5ee9f0(0x6a0)](_0x5ee9f0(0x68d)),currentMode===_0x5ee9f0(0x457)&&currentTeamQuizId&&setTimeout(()=>{const _0x5df484=_0x5ee9f0;deleteDoc(doc(db,'artifacts/'+appId+_0x5df484(0x5af),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x555faf(0x3f4),'pinnedProjects':[],'projectView':_0x555faf(0x633)};const allMathTopics=[{'category':_0x555faf(0x9d7),'name':_0x555faf(0x311)},{'category':'จำนวนและการดำเนินการ','name':_0x555faf(0x966)},{'category':_0x555faf(0x9d7),'name':'การปัดเศษและประมาณค่า'},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x283)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x98e)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x40e)},{'category':_0x555faf(0x9d7),'name':'การคูณ'},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x3b6)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x2fc)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x45a)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x2ed)},{'category':'จำนวนและการดำเนินการ','name':_0x555faf(0x49e)},{'category':'จำนวนและการดำเนินการ','name':_0x555faf(0x2e4)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x9cf)},{'category':_0x555faf(0x9d7),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x6fa)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x869)},{'category':'จำนวนและการดำเนินการ','name':_0x555faf(0x536)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x6d9)},{'category':'จำนวนและการดำเนินการ','name':_0x555faf(0x48c)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x30e)},{'category':'จำนวนและการดำเนินการ','name':'การคูณเศษส่วน'},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x435)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x792)},{'category':'จำนวนและการดำเนินการ','name':_0x555faf(0x7c1)},{'category':'จำนวนและการดำเนินการ','name':_0x555faf(0x2f2)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x5df)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x6f0)},{'category':'จำนวนและการดำเนินการ','name':'การหารทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x555faf(0x6c3)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x623)},{'category':_0x555faf(0x9d7),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x1a8)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x20c)},{'category':'จำนวนและการดำเนินการ','name':_0x555faf(0x523)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x24c)},{'category':_0x555faf(0x9d7),'name':_0x555faf(0x8e4)},{'category':_0x555faf(0x20b),'name':'หน่วยความยาวและการแปลง'},{'category':_0x555faf(0x20b),'name':_0x555faf(0x82f)},{'category':_0x555faf(0x20b),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x555faf(0x20b),'name':_0x555faf(0x5f1)},{'category':_0x555faf(0x20b),'name':_0x555faf(0x905)},{'category':_0x555faf(0x20b),'name':_0x555faf(0x1f3)},{'category':_0x555faf(0x20b),'name':_0x555faf(0x8c3)},{'category':_0x555faf(0x20b),'name':_0x555faf(0x1b6)},{'category':_0x555faf(0x20b),'name':_0x555faf(0x748)},{'category':_0x555faf(0x20b),'name':_0x555faf(0x425)},{'category':_0x555faf(0x20b),'name':_0x555faf(0x1c3)},{'category':_0x555faf(0x20b),'name':_0x555faf(0x80f)},{'category':_0x555faf(0x20b),'name':_0x555faf(0x89e)},{'category':_0x555faf(0x20b),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x555faf(0x3a4),'name':_0x555faf(0x23d)},{'category':_0x555faf(0x3a4),'name':_0x555faf(0x495)},{'category':_0x555faf(0x3a4),'name':_0x555faf(0x82e)},{'category':_0x555faf(0x3a4),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x555faf(0x3a4),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x555faf(0x3a4),'name':_0x555faf(0x7c4)},{'category':_0x555faf(0x3a4),'name':_0x555faf(0x554)},{'category':_0x555faf(0x3a4),'name':_0x555faf(0x35c)},{'category':_0x555faf(0x3a4),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x555faf(0x3a4),'name':_0x555faf(0x37e)},{'category':'เรขาคณิต','name':_0x555faf(0x961)},{'category':_0x555faf(0x3a4),'name':_0x555faf(0x552)},{'category':_0x555faf(0x3a4),'name':_0x555faf(0x11a)},{'category':_0x555faf(0x3a4),'name':_0x555faf(0x352)},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x555faf(0x91f)},{'category':_0x555faf(0x204),'name':_0x555faf(0x572)},{'category':_0x555faf(0x204),'name':_0x555faf(0x9d3)},{'category':_0x555faf(0x204),'name':_0x555faf(0x1ba)},{'category':_0x555faf(0x204),'name':_0x555faf(0x883)},{'category':_0x555faf(0x204),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x555faf(0x9a5)},{'category':_0x555faf(0x204),'name':_0x555faf(0x6c1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x555faf(0x475)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x555faf(0x998)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x555faf(0x27e)},{'category':_0x555faf(0x204),'name':_0x555faf(0x952)},{'category':_0x555faf(0x204),'name':_0x555faf(0x5b6)},{'category':_0x555faf(0x204),'name':'อสมการเชิงเส้น'},{'category':_0x555faf(0x204),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x555faf(0x204),'name':_0x555faf(0x9dc)},{'category':_0x555faf(0x204),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x555faf(0x204),'name':_0x555faf(0x115)},{'category':_0x555faf(0x204),'name':_0x555faf(0x4f4)},{'category':_0x555faf(0x204),'name':_0x555faf(0x7e7)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x555faf(0x8e0)},{'category':_0x555faf(0x204),'name':_0x555faf(0x71d)},{'category':_0x555faf(0x204),'name':'ฟังก์ชันพหุนาม'},{'category':_0x555faf(0x204),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x555faf(0x204),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x555faf(0x204),'name':_0x555faf(0x224)},{'category':_0x555faf(0x204),'name':_0x555faf(0x737)},{'category':_0x555faf(0x204),'name':_0x555faf(0x258)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x555faf(0x2da)},{'category':_0x555faf(0x204),'name':_0x555faf(0x126)},{'category':_0x555faf(0x204),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x555faf(0x204),'name':_0x555faf(0x4e5)},{'category':_0x555faf(0x204),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x555faf(0x204),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x555faf(0x9a6),'name':_0x555faf(0x1b3)},{'category':'เรขาคณิตวิเคราะห์','name':_0x555faf(0x643)},{'category':_0x555faf(0x9a6),'name':_0x555faf(0x1b7)},{'category':_0x555faf(0x9a6),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x555faf(0x9a6),'name':_0x555faf(0xf2)},{'category':_0x555faf(0x9a6),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x555faf(0x9a6),'name':_0x555faf(0x912)},{'category':_0x555faf(0x9a6),'name':'วงรี'},{'category':_0x555faf(0x9a6),'name':_0x555faf(0x80e)},{'category':_0x555faf(0x4e2),'name':_0x555faf(0x930)},{'category':'ตรีโกณมิติ','name':_0x555faf(0x55c)},{'category':_0x555faf(0x4e2),'name':_0x555faf(0x384)},{'category':_0x555faf(0x4e2),'name':_0x555faf(0x1f8)},{'category':_0x555faf(0x4e2),'name':_0x555faf(0x6af)},{'category':_0x555faf(0x4e2),'name':_0x555faf(0x844)},{'category':'ตรีโกณมิติ','name':_0x555faf(0x7b3)},{'category':'ตรีโกณมิติ','name':_0x555faf(0x646)},{'category':'ตรีโกณมิติ','name':_0x555faf(0x4f7)},{'category':_0x555faf(0x4e2),'name':_0x555faf(0x64c)},{'category':_0x555faf(0x4e2),'name':_0x555faf(0x7b0)},{'category':_0x555faf(0x467),'name':_0x555faf(0x121)},{'category':'สถิติและความน่าจะเป็น','name':_0x555faf(0x4ad)},{'category':'สถิติและความน่าจะเป็น','name':_0x555faf(0x320)},{'category':_0x555faf(0x467),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x555faf(0x467),'name':_0x555faf(0x260)},{'category':'สถิติและความน่าจะเป็น','name':_0x555faf(0x2e2)},{'category':_0x555faf(0x467),'name':'ค่าเฉลี่ย'},{'category':'สถิติและความน่าจะเป็น','name':_0x555faf(0x3b7)},{'category':_0x555faf(0x467),'name':_0x555faf(0x79f)},{'category':'สถิติและความน่าจะเป็น','name':_0x555faf(0x33b)},{'category':_0x555faf(0x467),'name':_0x555faf(0x745)},{'category':_0x555faf(0x467),'name':'ความแปรปรวน'},{'category':_0x555faf(0x467),'name':_0x555faf(0x6df)},{'category':_0x555faf(0x467),'name':_0x555faf(0x753)},{'category':'สถิติและความน่าจะเป็น','name':_0x555faf(0x418)},{'category':_0x555faf(0x467),'name':_0x555faf(0x770)},{'category':_0x555faf(0x467),'name':_0x555faf(0x182)},{'category':'สถิติและความน่าจะเป็น','name':_0x555faf(0x739)},{'category':_0x555faf(0x467),'name':_0x555faf(0x88f)},{'category':_0x555faf(0x467),'name':_0x555faf(0x859)},{'category':_0x555faf(0x467),'name':_0x555faf(0x9de)},{'category':'สถิติและความน่าจะเป็น','name':_0x555faf(0x212)},{'category':_0x555faf(0x467),'name':_0x555faf(0x6d8)},{'category':_0x555faf(0x467),'name':_0x555faf(0x6bc)},{'category':_0x555faf(0x380),'name':'ลิมิต'},{'category':_0x555faf(0x380),'name':'ความต่อเนื่อง'},{'category':_0x555faf(0x380),'name':_0x555faf(0x1cf)},{'category':_0x555faf(0x380),'name':_0x555faf(0x556)},{'category':'แคลคูลัสเบื้องต้น','name':_0x555faf(0x4d6)},{'category':_0x555faf(0x380),'name':_0x555faf(0x272)},{'category':_0x555faf(0x380),'name':_0x555faf(0x376)},{'category':_0x555faf(0x380),'name':_0x555faf(0x91a)},{'category':_0x555faf(0x380),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x555faf(0x380),'name':_0x555faf(0x29b)},{'category':_0x555faf(0x380),'name':'ปริพันธ์จำกัด'},{'category':_0x555faf(0x380),'name':_0x555faf(0x2ee)},{'category':_0x555faf(0x380),'name':_0x555faf(0x3ab)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x555faf(0x7e3)},{'category':_0x555faf(0x1a3),'name':_0x555faf(0x4dc)},{'category':_0x555faf(0x1a3),'name':_0x555faf(0x68f)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x555faf(0x7c6)},{'category':_0x555faf(0x1a3),'name':_0x555faf(0x565)},{'category':_0x555faf(0x1a3),'name':_0x555faf(0x781)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x555faf(0x3c4)},{'category':_0x555faf(0x7d4),'name':_0x555faf(0x702)},{'category':_0x555faf(0x7d4),'name':_0x555faf(0x9bc)},{'category':_0x555faf(0x7d4),'name':_0x555faf(0x9d1)},{'category':_0x555faf(0x7d4),'name':_0x555faf(0x6ce)},{'category':_0x555faf(0x7d4),'name':_0x555faf(0x5ee)},{'category':_0x555faf(0x1a1),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x555faf(0x64a)},{'category':_0x555faf(0x1a1),'name':_0x555faf(0x1bb)}];function renderTopicCheckboxes(){const _0x3a344d=_0x555faf,_0x55258f=document[_0x3a344d(0x8c8)]('math-topics-checkbox-container');if(!_0x55258f)return;const _0x5abd92=allMathTopics,_0x5965e5=customMathTopics[_0x3a344d(0x16a)](_0x5dd586=>({'id':_0x5dd586['id'],'category':_0x3a344d(0x259),'name':_0x5dd586[_0x3a344d(0x3df)]})),_0x589f08=[..._0x5abd92,..._0x5965e5],_0x596802=_0x589f08[_0x3a344d(0x40b)]((_0x26e92f,_0x433b98)=>{const _0x3ab825=_0x3a344d;return!_0x26e92f[_0x433b98[_0x3ab825(0x7f0)]]&&(_0x26e92f[_0x433b98[_0x3ab825(0x7f0)]]=[]),_0x26e92f[_0x433b98[_0x3ab825(0x7f0)]][_0x3ab825(0x52e)](_0x433b98),_0x26e92f;},{});let _0x1f5beb='';const _0xdc3c8b=[_0x3a344d(0x259),...Object[_0x3a344d(0x6cf)](_0x596802)[_0x3a344d(0x858)](_0x5940eb=>_0x5940eb!=='หัวข้อที่สร้างเอง')];for(const _0x4b73f3 of _0xdc3c8b){if(_0x596802[_0x4b73f3]){const _0x5ce626=_0x4b73f3===_0x3a344d(0x259),_0x53150b=_0x5ce626?_0x3a344d(0x1fb):_0x3a344d(0x856),_0x5049fb=_0x5ce626?_0x3a344d(0x2c1):_0x3a344d(0x481);_0x1f5beb+=_0x3a344d(0x91c),_0x1f5beb+=_0x3a344d(0x919)+_0x5049fb+_0x3a344d(0x687)+_0x53150b+_0x3a344d(0x692)+_0x4b73f3+_0x3a344d(0x1f7),_0x596802[_0x4b73f3]['forEach'](_0x374fa8=>{const _0x443b4d=_0x3a344d,_0x588b91=!!_0x374fa8['id'],_0x390ec4=_0x588b91?_0x443b4d(0x83a)+_0x374fa8['id']+_0x443b4d(0x789)+_0x374fa8['id']+_0x443b4d(0x763)+_0x374fa8['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x374fa8['id']+_0x443b4d(0x581):'';_0x1f5beb+=_0x443b4d(0x2a3)+(_0x374fa8['id']||'')+_0x443b4d(0x7de)+_0x374fa8[_0x443b4d(0x3df)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x374fa8[_0x443b4d(0x3df)]+_0x443b4d(0x903)+(_0x588b91?_0x443b4d(0x251)+_0x374fa8['name']+'\x22>':'')+_0x443b4d(0x2b3)+_0x390ec4+_0x443b4d(0x39f);}),_0x1f5beb+=_0x3a344d(0x3e2);}}_0x55258f[_0x3a344d(0x8d2)]=_0x1f5beb||_0x3a344d(0x9ec),_0x55258f['removeEventListener'](_0x3a344d(0x7dc),updateSelectedTopicsCount),_0x55258f[_0x3a344d(0x38a)](_0x3a344d(0x7dc),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5bbb6c,_0x43f12c){const _0x4edfd1=_0x555faf;if(!_0x5bbb6c||!_0x43f12c['trim']()){showMessage(_0x4edfd1(0x50a));return;}try{const _0x2fd26b=doc(db,_0x4edfd1(0x81a)+appId+_0x4edfd1(0x3e0),_0x5bbb6c);await updateDoc(_0x2fd26b,{'name':_0x43f12c[_0x4edfd1(0x588)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x528401){console[_0x4edfd1(0x241)]('Error\x20updating\x20custom\x20topic:',_0x528401),showMessage(_0x4edfd1(0x8c7));}}function toggleTopicEditMode(_0x3b855d,_0x1ded7b){const _0x5b0213=_0x555faf;if(!_0x3b855d)return;const _0xe73dde=_0x3b855d[_0x5b0213(0x5be)](_0x5b0213(0x25d)),_0x5124e3=_0x3b855d[_0x5b0213(0x5be)](_0x5b0213(0x9cd)),_0x3f8cae=_0x3b855d['querySelector'](_0x5b0213(0x514)),_0x18d18e=_0x3b855d[_0x5b0213(0x5be)](_0x5b0213(0x8c0));_0xe73dde['classList'][_0x5b0213(0x491)](_0x5b0213(0x3a5),_0x1ded7b),_0x5124e3['classList'][_0x5b0213(0x491)](_0x5b0213(0x3a5),!_0x1ded7b),_0x3f8cae[_0x5b0213(0x65e)][_0x5b0213(0x491)]('hidden',_0x1ded7b),_0x18d18e[_0x5b0213(0x65e)][_0x5b0213(0x491)]('hidden',!_0x1ded7b),_0x1ded7b&&(_0x5124e3[_0x5b0213(0x7bb)](),_0x5124e3[_0x5b0213(0x920)]());}function updateSelectedTopicsCount(){const _0x3fe44d=_0x555faf,_0x3bf981=document['getElementById']('math-topics-checkbox-container'),_0x24a4a4=_0x3bf981['querySelectorAll'](_0x3fe44d(0x616))['length'],_0x17d5ed=document['getElementById'](_0x3fe44d(0x31c));_0x24a4a4>0x0?_0x17d5ed[_0x3fe44d(0x29c)]=_0x3fe44d(0x17d)+_0x24a4a4+_0x3fe44d(0x223):_0x17d5ed[_0x3fe44d(0x29c)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x555faf(0x1ff),quizLeaderboardSortOrder=_0x555faf(0x13c),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x555faf(0x57e),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor='#000000',scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x7d682f,_0xdd8a86){const _0x2f5407=_0x555faf;return Math[_0x2f5407(0x4d4)](Math[_0x2f5407(0x1ed)](_0x7d682f['x']-_0xdd8a86['x'],0x2)+Math[_0x2f5407(0x1ed)](_0x7d682f['y']-_0xdd8a86['y'],0x2));}function getMidpoint(_0xa38a73,_0x3c0364){return{'x':(_0xa38a73['x']+_0x3c0364['x'])/0x2,'y':(_0xa38a73['y']+_0x3c0364['y'])/0x2};}function getTransformedPoint(_0x5bdf01,_0x272931){return{'x':(_0x5bdf01-scratchpadOffset['x'])/scratchpadScale,'y':(_0x272931-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1abb82=_0x555faf;if(!scratchpadCtx)return;const _0x5bc9bc=scratchpadCtx[_0x1abb82(0x45c)],_0x507c68=window[_0x1abb82(0x13d)]||0x1,_0x23bec7=document[_0x1abb82(0x8c8)](_0x1abb82(0x18d));_0x23bec7&&(_0x23bec7[_0x1abb82(0x1c6)][_0x1abb82(0x360)]=_0x1abb82(0x216),_0x23bec7['style'][_0x1abb82(0x341)]=_0x1abb82(0x8e8)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x1abb82(0x265)+scratchpadScale+')'),scratchpadCtx[_0x1abb82(0x453)](),scratchpadCtx[_0x1abb82(0x630)](_0x507c68,0x0,0x0,_0x507c68,0x0,0x0),scratchpadCtx[_0x1abb82(0x46b)](0x0,0x0,_0x5bc9bc[_0x1abb82(0x78b)],_0x5bc9bc[_0x1abb82(0x6e6)]),scratchpadCtx[_0x1abb82(0x2de)](),scratchpadCtx[_0x1abb82(0x453)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x1abb82(0x106)](scratchpadScale,scratchpadScale),strokes[_0x1abb82(0x8ca)](_0x29ae09=>{drawStroke(_0x29ae09);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x1abb82(0x2de)]();}function handlePointerDown(_0x12bae3){const _0x59dc2c=_0x555faf;_0x12bae3['preventDefault']();const _0x56be41=scratchpadCtx[_0x59dc2c(0x45c)],_0x1b2a35=_0x56be41[_0x59dc2c(0x73f)](),_0x40e093=_0x12bae3[_0x59dc2c(0x9d9)]||(_0x12bae3[_0x59dc2c(0x850)]?_0x59dc2c(0x37c):_0x59dc2c(0x9b9));if(_0x40e093==='pen'||_0x40e093===_0x59dc2c(0x9b9)){if(_0x12bae3[_0x59dc2c(0x9d9)]===_0x59dc2c(0x9b9)&&_0x12bae3['button']!==0x0){_0x12bae3['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x12bae3[_0x59dc2c(0x4a1)],'y':_0x12bae3[_0x59dc2c(0x278)]},_0x56be41[_0x59dc2c(0x1c6)][_0x59dc2c(0x2d4)]='grabbing');return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x4423d9=getTransformedPoint(_0x12bae3['clientX']-_0x1b2a35[_0x59dc2c(0x3ce)],_0x12bae3[_0x59dc2c(0x278)]-_0x1b2a35[_0x59dc2c(0x817)]);let _0xfa3c82={'tool':activeTool,'points':[_0x4423d9]};if(activeTool==='highlighter')_0xfa3c82['color']=scratchpadHighlighterColor,_0xfa3c82[_0x59dc2c(0x901)]=scratchpadHighlighterSize;else activeTool===_0x59dc2c(0x375)?(_0xfa3c82[_0x59dc2c(0x5dc)]=scratchpadPenColor,_0xfa3c82[_0x59dc2c(0x901)]=scratchpadPenSize):(_0xfa3c82[_0x59dc2c(0x5dc)]=scratchpadPenColor,_0xfa3c82[_0x59dc2c(0x901)]=scratchpadPenSize);currentStroke=_0xfa3c82;}else _0x12bae3[_0x59dc2c(0x850)]&&(_0x12bae3[_0x59dc2c(0x850)][_0x59dc2c(0x8c9)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x12bae3[_0x59dc2c(0x850)][0x0][_0x59dc2c(0x4a1)],'y':_0x12bae3[_0x59dc2c(0x850)][0x0][_0x59dc2c(0x278)]},{'x':_0x12bae3[_0x59dc2c(0x850)][0x1]['clientX'],'y':_0x12bae3[_0x59dc2c(0x850)][0x1][_0x59dc2c(0x278)]}),initialPinchDistance=getDistance({'x':_0x12bae3['touches'][0x0]['clientX'],'y':_0x12bae3[_0x59dc2c(0x850)][0x0][_0x59dc2c(0x278)]},{'x':_0x12bae3[_0x59dc2c(0x850)][0x1][_0x59dc2c(0x4a1)],'y':_0x12bae3[_0x59dc2c(0x850)][0x1][_0x59dc2c(0x278)]})));}function animateTrail(){const _0x537671=_0x555faf,_0x11c4d9=Date[_0x537671(0x8d9)]();let _0x119f7e=![];for(let _0x27088d=strokes[_0x537671(0x8c9)]-0x1;_0x27088d>=0x0;_0x27088d--){const _0x3860d6=strokes[_0x27088d];if(_0x3860d6[_0x537671(0x185)]===_0x537671(0x375)&&_0x3860d6[_0x537671(0x245)]){const _0xb321f1=_0x11c4d9-_0x3860d6[_0x537671(0x245)];_0xb321f1>=TRAIL_DURATION?strokes[_0x537671(0x1e8)](_0x27088d,0x1):(_0x3860d6[_0x537671(0x716)]=0x1-_0xb321f1/TRAIL_DURATION,_0x119f7e=!![]);}}redrawScratchpad(),_0x119f7e?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x57c181){const _0x1cd678=_0x555faf;if(!_0x57c181||_0x57c181[_0x1cd678(0x661)]['length']<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x1cd678(0x40c)]='round',scratchpadCtx[_0x1cd678(0x6fe)]='round';if(_0x57c181[_0x1cd678(0x185)]==='trail'){const _0x49ef4d=_0x57c181['size']/scratchpadScale;scratchpadCtx[_0x1cd678(0x506)]=_0x57c181[_0x1cd678(0x716)]??0x1,scratchpadCtx[_0x1cd678(0x517)]=_0x1cd678(0x6b4),scratchpadCtx[_0x1cd678(0x613)]=_0x49ef4d*0x3,scratchpadCtx[_0x1cd678(0x46f)]=_0x1cd678(0x1d5),scratchpadCtx[_0x1cd678(0x4cd)]=_0x49ef4d*2.5,scratchpadCtx[_0x1cd678(0x8bc)](),scratchpadCtx[_0x1cd678(0x62c)](_0x57c181[_0x1cd678(0x661)][0x0]['x'],_0x57c181[_0x1cd678(0x661)][0x0]['y']);for(let _0x4cbe6b=0x1;_0x4cbe6b<_0x57c181[_0x1cd678(0x661)][_0x1cd678(0x8c9)]-0x1;_0x4cbe6b++){const _0xf14bd5=getMidpoint(_0x57c181[_0x1cd678(0x661)][_0x4cbe6b],_0x57c181[_0x1cd678(0x661)][_0x4cbe6b+0x1]);scratchpadCtx[_0x1cd678(0x2f8)](_0x57c181[_0x1cd678(0x661)][_0x4cbe6b]['x'],_0x57c181[_0x1cd678(0x661)][_0x4cbe6b]['y'],_0xf14bd5['x'],_0xf14bd5['y']);}scratchpadCtx['stroke'](),scratchpadCtx['shadowColor']='transparent',scratchpadCtx[_0x1cd678(0x613)]=0x0,scratchpadCtx[_0x1cd678(0x46f)]=_0x1cd678(0xe9),scratchpadCtx[_0x1cd678(0x4cd)]=_0x49ef4d,scratchpadCtx[_0x1cd678(0x615)](),scratchpadCtx['closePath']();}else{if(_0x57c181[_0x1cd678(0x185)]==='highlighter'){scratchpadCtx['globalCompositeOperation']=_0x1cd678(0x9b6),scratchpadCtx[_0x1cd678(0x46f)]=_0x57c181['color'],scratchpadCtx['lineWidth']=_0x57c181[_0x1cd678(0x901)],scratchpadCtx[_0x1cd678(0x8bc)](),scratchpadCtx[_0x1cd678(0x62c)](_0x57c181['points'][0x0]['x'],_0x57c181[_0x1cd678(0x661)][0x0]['y']);for(let _0x4e4cfc=0x1;_0x4e4cfc<_0x57c181[_0x1cd678(0x661)][_0x1cd678(0x8c9)]-0x1;_0x4e4cfc++){const _0x30dd03=getMidpoint(_0x57c181[_0x1cd678(0x661)][_0x4e4cfc],_0x57c181[_0x1cd678(0x661)][_0x4e4cfc+0x1]);scratchpadCtx[_0x1cd678(0x2f8)](_0x57c181[_0x1cd678(0x661)][_0x4e4cfc]['x'],_0x57c181[_0x1cd678(0x661)][_0x4e4cfc]['y'],_0x30dd03['x'],_0x30dd03['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x1cd678(0x836)]();}else{scratchpadCtx[_0x1cd678(0x706)]=_0x57c181[_0x1cd678(0x185)]===_0x1cd678(0x570)?_0x1cd678(0x5a4):_0x1cd678(0x19a),scratchpadCtx['strokeStyle']=_0x57c181[_0x1cd678(0x5dc)],scratchpadCtx[_0x1cd678(0x4cd)]=_0x57c181[_0x1cd678(0x901)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x1cd678(0x62c)](_0x57c181[_0x1cd678(0x661)][0x0]['x'],_0x57c181['points'][0x0]['y']);for(let _0x44120a=0x1;_0x44120a<_0x57c181[_0x1cd678(0x661)]['length']-0x1;_0x44120a++){const _0x50470b=getMidpoint(_0x57c181[_0x1cd678(0x661)][_0x44120a],_0x57c181[_0x1cd678(0x661)][_0x44120a+0x1]);scratchpadCtx[_0x1cd678(0x2f8)](_0x57c181[_0x1cd678(0x661)][_0x44120a]['x'],_0x57c181[_0x1cd678(0x661)][_0x44120a]['y'],_0x50470b['x'],_0x50470b['y']);}scratchpadCtx[_0x1cd678(0x615)](),scratchpadCtx[_0x1cd678(0x836)]();}}scratchpadCtx[_0x1cd678(0x2de)]();}function handlePointerMove(_0x50ee8c){const _0x5d22f8=_0x555faf;_0x50ee8c[_0x5d22f8(0x28f)]();const _0x1872f2=scratchpadCtx['canvas'],_0x59e332=_0x1872f2[_0x5d22f8(0x73f)]();if(_0x50ee8c[_0x5d22f8(0x850)]){if(_0x50ee8c[_0x5d22f8(0x850)][_0x5d22f8(0x8c9)]===0x1&&isDrawingOnScratchpad){const _0x19fb3e=getTransformedPoint(_0x50ee8c['touches'][0x0][_0x5d22f8(0x4a1)]-_0x59e332[_0x5d22f8(0x3ce)],_0x50ee8c[_0x5d22f8(0x850)][0x0][_0x5d22f8(0x278)]-_0x59e332[_0x5d22f8(0x817)]);currentStroke[_0x5d22f8(0x661)][_0x5d22f8(0x52e)](_0x19fb3e),redrawScratchpad();}else{if(_0x50ee8c['touches'][_0x5d22f8(0x8c9)]===0x2&&isPanning){const _0x2dda36=getDistance({'x':_0x50ee8c[_0x5d22f8(0x850)][0x0][_0x5d22f8(0x4a1)],'y':_0x50ee8c['touches'][0x0][_0x5d22f8(0x278)]},{'x':_0x50ee8c[_0x5d22f8(0x850)][0x1][_0x5d22f8(0x4a1)],'y':_0x50ee8c[_0x5d22f8(0x850)][0x1][_0x5d22f8(0x278)]}),_0x50bffe=getMidpoint({'x':_0x50ee8c['touches'][0x0][_0x5d22f8(0x4a1)],'y':_0x50ee8c['touches'][0x0][_0x5d22f8(0x278)]},{'x':_0x50ee8c['touches'][0x1]['clientX'],'y':_0x50ee8c[_0x5d22f8(0x850)][0x1][_0x5d22f8(0x278)]}),_0x3a36c2=_0x2dda36/ initialPinchDistance,_0x3b67dd=Math['min'](Math[_0x5d22f8(0x35a)](scratchpadScale*_0x3a36c2,MIN_SCALE),MAX_SCALE),_0x108d64=_0x50bffe['x']-panStart['x'],_0x5c4d03=_0x50bffe['y']-panStart['y'];scratchpadOffset['x']=_0x50bffe['x']-(_0x50bffe['x']-scratchpadOffset['x'])*(_0x3b67dd/scratchpadScale),scratchpadOffset['y']=_0x50bffe['y']-(_0x50bffe['y']-scratchpadOffset['y'])*(_0x3b67dd/scratchpadScale),scratchpadOffset['x']+=_0x108d64,scratchpadOffset['y']+=_0x5c4d03,scratchpadScale=_0x3b67dd,initialPinchDistance=_0x2dda36,panStart=_0x50bffe,redrawScratchpad();}}}else{if(isMousePanning){const _0x5606ad=_0x50ee8c[_0x5d22f8(0x4a1)]-panStart['x'],_0x12c678=_0x50ee8c['clientY']-panStart['y'];scratchpadOffset['x']+=_0x5606ad,scratchpadOffset['y']+=_0x12c678,panStart={'x':_0x50ee8c[_0x5d22f8(0x4a1)],'y':_0x50ee8c[_0x5d22f8(0x278)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x5b035a=getTransformedPoint(_0x50ee8c[_0x5d22f8(0x4a1)]-_0x59e332[_0x5d22f8(0x3ce)],_0x50ee8c['clientY']-_0x59e332[_0x5d22f8(0x817)]);currentStroke['points'][_0x5d22f8(0x52e)](_0x5b035a),redrawScratchpad();}}}}function handlePointerUp(_0x24c06f){const _0x326abb=_0x555faf;_0x24c06f[_0x326abb(0x28f)]();const _0x42439e=scratchpadCtx[_0x326abb(0x45c)];isMousePanning&&(isMousePanning=![],_0x42439e['style'][_0x326abb(0x2d4)]=_0x326abb(0x59c)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x326abb(0x661)]['length']>0x1&&(strokes[_0x326abb(0x52e)](currentStroke),currentStroke[_0x326abb(0x185)]===_0x326abb(0x375)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x532b5b=_0x326abb,_0x1fb879=strokes[_0x532b5b(0x858)](_0x1bd9e3=>_0x1bd9e3[_0x532b5b(0x185)]===_0x532b5b(0x375)&&!_0x1bd9e3[_0x532b5b(0x245)]);if(_0x1fb879['length']>0x0){const _0x8e66fc=Date[_0x532b5b(0x8d9)]();_0x1fb879[_0x532b5b(0x8ca)](_0xc0d06=>_0xc0d06[_0x532b5b(0x245)]=_0x8e66fc),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x54b02f){const _0x44d6fa=_0x555faf;_0x54b02f['preventDefault']();const _0x1eb300=_0x54b02f[_0x44d6fa(0x2c4)]*-0.005,_0x537deb=Math[_0x44d6fa(0x205)](Math['max'](scratchpadScale+_0x1eb300,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x54b02f[_0x44d6fa(0x4a1)]-(_0x54b02f[_0x44d6fa(0x4a1)]-scratchpadOffset['x'])*(_0x537deb/scratchpadScale),scratchpadOffset['y']=_0x54b02f[_0x44d6fa(0x278)]-(_0x54b02f[_0x44d6fa(0x278)]-scratchpadOffset['y'])*(_0x537deb/scratchpadScale),scratchpadScale=_0x537deb,redrawScratchpad();}function undo(){const _0x5a0765=_0x555faf;strokes[_0x5a0765(0x8c9)]>0x0&&(redoStrokes[_0x5a0765(0x52e)](strokes[_0x5a0765(0x83c)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x154423=_0x555faf;redoStrokes[_0x154423(0x8c9)]>0x0&&(strokes[_0x154423(0x52e)](redoStrokes[_0x154423(0x83c)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2609c4=_0x555faf;document[_0x2609c4(0x8c8)]('undo-btn')[_0x2609c4(0x915)]=strokes[_0x2609c4(0x8c9)]===0x0,document[_0x2609c4(0x8c8)](_0x2609c4(0x4ed))['disabled']=redoStrokes[_0x2609c4(0x8c9)]===0x0;}function openScratchpad(_0x2881fc,_0x3469e9){const _0x35c122=_0x555faf,_0x4fdc8f=document['getElementById'](_0x35c122(0x98c)),_0x4e62c3=document[_0x35c122(0x8c8)]('scratchpad-question'),_0x1168c4=document[_0x35c122(0x8c8)](_0x35c122(0x654)),_0x424993=document[_0x35c122(0x8c8)]('scratchpad-controls');_0x4e62c3[_0x35c122(0x29c)]=_0x2881fc[_0x35c122(0x822)]||_0x2881fc[_0x35c122(0x8fb)],_0x1168c4[_0x35c122(0x8d2)]=_0x3469e9[_0x35c122(0x16a)]((_0x4c4ea3,_0x28a98e)=>_0x35c122(0x101)+String[_0x35c122(0x6d5)](0x41+_0x28a98e)+'.\x20'+_0x4c4ea3+_0x35c122(0x3e2))['join'](''),_0x424993[_0x35c122(0x8d2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x4fdc8f[_0x35c122(0x65e)][_0x35c122(0x3bf)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x35c122(0x715)]([_0x4e62c3,_0x1168c4]);}function initializeScratchpadCanvas(){const _0x2c4a6d=_0x555faf,_0x5c655a=document[_0x2c4a6d(0x8c8)](_0x2c4a6d(0x516)),_0x1eb919=document['querySelector'](_0x2c4a6d(0x34f));if(!_0x5c655a||!_0x1eb919)return;scratchpadCtx=_0x5c655a['getContext']('2d',{'willReadFrequently':!![]});const _0x423339=window[_0x2c4a6d(0x13d)]||0x1,_0x2a5855=_0x1eb919[_0x2c4a6d(0x73f)]();_0x5c655a[_0x2c4a6d(0x78b)]=_0x2a5855[_0x2c4a6d(0x78b)]*_0x423339,_0x5c655a[_0x2c4a6d(0x6e6)]=_0x2a5855[_0x2c4a6d(0x6e6)]*_0x423339,_0x5c655a[_0x2c4a6d(0x1c6)]['width']=_0x2a5855['width']+'px',_0x5c655a[_0x2c4a6d(0x1c6)][_0x2c4a6d(0x6e6)]=_0x2a5855[_0x2c4a6d(0x6e6)]+'px',scratchpadCtx['scale'](_0x423339,_0x423339),scratchpadCtx[_0x2c4a6d(0x40c)]=_0x2c4a6d(0x484),scratchpadCtx[_0x2c4a6d(0x6fe)]=_0x2c4a6d(0x484),_0x5c655a['removeEventListener'](_0x2c4a6d(0x7dd),handlePointerDown),_0x5c655a[_0x2c4a6d(0x6b3)]('pointermove',handlePointerMove),_0x5c655a[_0x2c4a6d(0x6b3)](_0x2c4a6d(0x450),handlePointerUp),_0x5c655a[_0x2c4a6d(0x6b3)](_0x2c4a6d(0x994),handlePointerUp),_0x5c655a[_0x2c4a6d(0x6b3)]('wheel',handleWheel),_0x5c655a['removeEventListener'](_0x2c4a6d(0x891),handlePointerDown),_0x5c655a[_0x2c4a6d(0x6b3)](_0x2c4a6d(0x3e1),handlePointerMove),_0x5c655a[_0x2c4a6d(0x6b3)]('touchend',handlePointerUp),_0x5c655a['addEventListener'](_0x2c4a6d(0x7dd),handlePointerDown),_0x5c655a[_0x2c4a6d(0x38a)](_0x2c4a6d(0x20f),handlePointerMove),_0x5c655a['addEventListener'](_0x2c4a6d(0x450),handlePointerUp),_0x5c655a['addEventListener'](_0x2c4a6d(0x994),handlePointerUp),_0x5c655a[_0x2c4a6d(0x38a)]('wheel',handleWheel,{'passive':![]}),_0x5c655a[_0x2c4a6d(0x38a)]('touchstart',handlePointerDown,{'passive':![]}),_0x5c655a[_0x2c4a6d(0x38a)](_0x2c4a6d(0x3e1),handlePointerMove,{'passive':![]}),_0x5c655a[_0x2c4a6d(0x38a)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x1f5dd6=_0x555faf,_0x58a6e1=document[_0x1f5dd6(0x8c8)]('scratchpad-modal'),_0x205a22=document[_0x1f5dd6(0x8c8)](_0x1f5dd6(0x23a));_0x205a22[_0x1f5dd6(0x8d2)]=_0x1f5dd6(0x1b8)+scratchpadHighlighterSize+_0x1f5dd6(0x7bc);const _0x466281=document['getElementById'](_0x1f5dd6(0x46c)),_0xdc3b17=document['getElementById'](_0x1f5dd6(0x2e3)),_0x12043c=document[_0x1f5dd6(0x8c8)]('trail-tool-btn'),_0xc436bf=document['getElementById'](_0x1f5dd6(0x5fb)),_0x1aad6d=document[_0x1f5dd6(0x8c8)]('pen-tools-group'),_0x1d8b56=document[_0x1f5dd6(0x8c8)](_0x1f5dd6(0x50d)),_0x5e58b9=[_0x466281,_0xdc3b17,_0x12043c,_0xc436bf];document[_0x1f5dd6(0x8c8)](_0x1f5dd6(0x46d))[_0x1f5dd6(0x38a)](_0x1f5dd6(0x49b),()=>_0x58a6e1[_0x1f5dd6(0x65e)][_0x1f5dd6(0x43c)](_0x1f5dd6(0x3a5))),document[_0x1f5dd6(0x8c8)](_0x1f5dd6(0x780))[_0x1f5dd6(0x38a)](_0x1f5dd6(0x49b),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x1f5dd6(0x8c8)]('scratchpad-clear-btn')[_0x1f5dd6(0x38a)](_0x1f5dd6(0x49b),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x1f5dd6(0x8c8)](_0x1f5dd6(0x734))['addEventListener'](_0x1f5dd6(0x49b),undo),document[_0x1f5dd6(0x8c8)](_0x1f5dd6(0x4ed))[_0x1f5dd6(0x38a)]('click',redo);const _0x3cc344=_0x1ea1df=>{const _0x218b02=_0x1f5dd6;_0x5e58b9[_0x218b02(0x8ca)](_0x43f669=>_0x43f669[_0x218b02(0x65e)]['remove'](_0x218b02(0x736))),_0x1ea1df['classList']['add']('active');const _0x5a445f=_0x1ea1df===_0xc436bf;_0x1aad6d['classList']['toggle'](_0x218b02(0x3a5),_0x5a445f),_0x1d8b56[_0x218b02(0x65e)][_0x218b02(0x491)](_0x218b02(0x3a5),!_0x5a445f);};_0x466281['addEventListener'](_0x1f5dd6(0x49b),()=>{const _0x28bdd3=_0x1f5dd6;activeTool=_0x28bdd3(0x58f),_0x3cc344(_0x466281);}),_0xdc3b17[_0x1f5dd6(0x38a)](_0x1f5dd6(0x49b),()=>{const _0x3f2067=_0x1f5dd6;activeTool=_0x3f2067(0x570),_0x3cc344(_0xdc3b17);}),_0x12043c['addEventListener'](_0x1f5dd6(0x49b),()=>{activeTool='trail',_0x3cc344(_0x12043c);}),_0xc436bf[_0x1f5dd6(0x38a)](_0x1f5dd6(0x49b),()=>{const _0x34a6d3=_0x1f5dd6;activeTool=_0x34a6d3(0x3a1),_0x3cc344(_0xc436bf);}),_0x1aad6d['querySelectorAll']('.pen-size-btn')[_0x1f5dd6(0x8ca)](_0x465855=>{const _0x363bee=_0x1f5dd6;_0x465855['addEventListener'](_0x363bee(0x49b),_0x330f8f=>{const _0x330ecd=_0x363bee;scratchpadPenSize=parseInt(_0x330f8f[_0x330ecd(0x3ca)][_0x330ecd(0x8eb)][_0x330ecd(0x901)],0xa),_0x1aad6d[_0x330ecd(0x379)]('.pen-size-btn')['forEach'](_0x3d8e12=>_0x3d8e12[_0x330ecd(0x65e)][_0x330ecd(0x3bf)](_0x330ecd(0x736))),_0x330f8f[_0x330ecd(0x3ca)][_0x330ecd(0x65e)]['add'](_0x330ecd(0x736));});}),_0x1aad6d[_0x1f5dd6(0x379)]('.pen-color-btn')[_0x1f5dd6(0x8ca)](_0xb0c322=>{const _0x9e1b56=_0x1f5dd6;_0xb0c322['addEventListener'](_0x9e1b56(0x49b),_0x541685=>{const _0x7acfb7=_0x9e1b56;scratchpadPenColor=_0x541685[_0x7acfb7(0x3ca)][_0x7acfb7(0x8eb)][_0x7acfb7(0x5dc)],_0x1aad6d['querySelectorAll'](_0x7acfb7(0x330))[_0x7acfb7(0x8ca)](_0x15dd52=>_0x15dd52[_0x7acfb7(0x65e)][_0x7acfb7(0x3bf)](_0x7acfb7(0x736))),_0x541685[_0x7acfb7(0x3ca)][_0x7acfb7(0x65e)][_0x7acfb7(0x43c)]('active');});}),_0x1d8b56['querySelectorAll'](_0x1f5dd6(0x4c1))[_0x1f5dd6(0x8ca)](_0x1fdc14=>{const _0x1db3aa=_0x1f5dd6;_0x1fdc14['addEventListener'](_0x1db3aa(0x49b),_0x23c1c5=>{const _0xd97ff1=_0x1db3aa;scratchpadHighlighterColor=_0x23c1c5[_0xd97ff1(0x3ca)][_0xd97ff1(0x8eb)][_0xd97ff1(0x5dc)],_0x1d8b56[_0xd97ff1(0x379)](_0xd97ff1(0x4c1))[_0xd97ff1(0x8ca)](_0x9cb753=>_0x9cb753['classList'][_0xd97ff1(0x3bf)](_0xd97ff1(0x736))),_0x23c1c5[_0xd97ff1(0x3ca)]['classList'][_0xd97ff1(0x43c)](_0xd97ff1(0x736));});});const _0x1fb72d=document[_0x1f5dd6(0x8c8)](_0x1f5dd6(0x44e)),_0x55f24f=document[_0x1f5dd6(0x8c8)](_0x1f5dd6(0x596));_0x1fb72d['addEventListener'](_0x1f5dd6(0x659),_0x66540=>{const _0x17b81c=_0x1f5dd6,_0x596469=parseInt(_0x66540['target'][_0x17b81c(0x22a)],0xa);scratchpadHighlighterSize=_0x596469,_0x55f24f[_0x17b81c(0x29c)]=_0x596469;}),window[_0x1f5dd6(0x38a)]('resize',()=>{const _0x202bf9=_0x1f5dd6;!_0x58a6e1[_0x202bf9(0x65e)][_0x202bf9(0x2d3)](_0x202bf9(0x3a5))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x555faf(0x6fc),'name':_0x555faf(0x950),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x555faf(0x9d2)},'QUICK_THINKER':{'id':_0x555faf(0x378),'name':_0x555faf(0x5c9),'description':_0x555faf(0xa01),'icon':_0x555faf(0x7a6)},'ON_FIRE':{'id':'on_fire','name':_0x555faf(0x996),'description':_0x555faf(0x14f),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x555faf(0x63b),'name':'ผ่านฉลุย','description':_0x555faf(0x42b),'icon':_0x555faf(0x9ab)},'COMEBACK_KING':{'id':_0x555faf(0x3ac),'name':'ราชาคัมแบ็ก','description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':'specialist','name':_0x555faf(0x765),'description':_0x555faf(0x4d0),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':'perseverance','name':'ผู้ไม่ยอมแพ้','description':_0x555faf(0x645),'icon':_0x555faf(0x535)}},firebaseConfig={'apiKey':_0x555faf(0x5f5),'authDomain':_0x555faf(0x45e),'projectId':_0x555faf(0x2ab),'storageBucket':_0x555faf(0x2a0),'messagingSenderId':'274192258111','appId':_0x555faf(0x5ca),'measurementId':_0x555faf(0x7ff)},appId=typeof __app_id!=='undefined'?__app_id:_0x555faf(0x511),adminView=document[_0x555faf(0x8c8)](_0x555faf(0x95c)),studentView=document['getElementById'](_0x555faf(0x5c8)),projectDashboardView=document[_0x555faf(0x8c8)](_0x555faf(0x7da)),projectDetailView=document[_0x555faf(0x8c8)](_0x555faf(0x757)),quizResultsView=document[_0x555faf(0x8c8)](_0x555faf(0x870)),projectList=document[_0x555faf(0x8c8)](_0x555faf(0x867)),noProjectsMsg=document['getElementById'](_0x555faf(0x980)),projectTitle=document[_0x555faf(0x8c8)]('project-title'),projectIdDisplay=document[_0x555faf(0x8c8)](_0x555faf(0x34b)),studentList=document[_0x555faf(0x8c8)]('student-list'),messageModal=document[_0x555faf(0x8c8)](_0x555faf(0xfa)),modalMessage=document[_0x555faf(0x8c8)](_0x555faf(0x270)),createProjectModal=document[_0x555faf(0x8c8)]('create-project-modal'),adminPasswordModal=document[_0x555faf(0x8c8)](_0x555faf(0x84d)),confirmationModal=document[_0x555faf(0x8c8)](_0x555faf(0x1c2)),userIdDisplay=document['getElementById'](_0x555faf(0x663)),topicTab=document['getElementById'](_0x555faf(0x1c9)),textTab=document['getElementById'](_0x555faf(0x444)),topicInputArea=document[_0x555faf(0x8c8)](_0x555faf(0x13e)),textInputArea=document['getElementById'](_0x555faf(0x730)),manageTab=document[_0x555faf(0x8c8)](_0x555faf(0x7d9)),resultsTab=document['getElementById']('results-tab'),leaderboardTab=document[_0x555faf(0x8c8)]('leaderboard-tab'),manageTabContent=document[_0x555faf(0x8c8)](_0x555faf(0x369)),resultsTabContent=document[_0x555faf(0x8c8)](_0x555faf(0x8d0)),leaderboardTabContent=document[_0x555faf(0x8c8)](_0x555faf(0x9c9)),projectQuizzesList=document[_0x555faf(0x8c8)](_0x555faf(0x518)),fileTab=document[_0x555faf(0x8c8)]('file-tab'),fileInputArea=document['getElementById'](_0x555faf(0x537)),fileUploadInput=document[_0x555faf(0x8c8)](_0x555faf(0x56b)),worksheetTab=document[_0x555faf(0x8c8)]('worksheet-tab'),worksheetInputArea=document[_0x555faf(0x8c8)](_0x555faf(0x176)),generateWorksheetBtn=document[_0x555faf(0x8c8)](_0x555faf(0x225)),studentInitialView=document['getElementById'](_0x555faf(0x5fe)),studentNameSelectionView=document['getElementById']('student-name-selection-view'),studentQuizArea=document[_0x555faf(0x8c8)](_0x555faf(0x853)),studentResultArea=document['getElementById']('student-result-area'),studentReadingArea=document['getElementById'](_0x555faf(0x75a)),loadQuizBtn=document[_0x555faf(0x8c8)](_0x555faf(0x356)),startQuizBtn=document[_0x555faf(0x8c8)]('start-quiz-btn'),studentJoinGameView=document[_0x555faf(0x8c8)]('student-join-game-view'),presentationModal=document['getElementById'](_0x555faf(0x4aa)),renameQuizModal=document['getElementById'](_0x555faf(0x825)),moveQuizModal=document[_0x555faf(0x8c8)](_0x555faf(0x374)),quizSettingsModal=document[_0x555faf(0x8c8)](_0x555faf(0x19e)),quizStatusModal=document[_0x555faf(0x8c8)](_0x555faf(0x48a)),liveGameView=document['getElementById'](_0x555faf(0x410));function handleAutoFixLatex(){const _0x2142b2=_0x555faf,_0x47c27f=document[_0x2142b2(0x8c8)](_0x2142b2(0x129))||document,_0x1bc49c=_0x47c27f[_0x2142b2(0x379)]([_0x2142b2(0x4c3),'input[type=\x22text\x22]',_0x2142b2(0x252),'[role=\x22textbox\x22]',_0x2142b2(0x2f5),'label',_0x2142b2(0x9f5),_0x2142b2(0x33a),_0x2142b2(0x158)][_0x2142b2(0x71e)](','));let _0x304b36=0x0;const _0x5d1140=_0x4dde23=>'value'in _0x4dde23?String(_0x4dde23[_0x2142b2(0x22a)]):_0x4dde23['innerText']!==undefined?_0x4dde23['innerText']:_0x4dde23[_0x2142b2(0x29c)]||'',_0x593835=(_0x2128c0,_0x5761af)=>{const _0x57ee27=_0x2142b2;if(_0x57ee27(0x22a)in _0x2128c0){_0x2128c0[_0x57ee27(0x22a)]=_0x5761af;return;}if(_0x2128c0[_0x57ee27(0x5be)]&&_0x2128c0['querySelector'](_0x57ee27(0x439)))return;if(_0x2128c0['innerText']!==undefined)_0x2128c0[_0x57ee27(0x39c)]=_0x5761af;else _0x2128c0[_0x57ee27(0x29c)]=_0x5761af;},_0xcc3b7=_0x292b70=>_0x292b70[_0x2142b2(0x750)](/\u00A0/g,'\x20')[_0x2142b2(0x750)](/\u200B/g,'')[_0x2142b2(0x750)](/\r\n?/g,'\x0a'),_0x45b7f4=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x3ced99=_0x39e45f=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x39e45f),_0xe1ff04=_0x11aa79=>{const _0x10d10e=_0x2142b2,_0x1458b3=(_0x11aa79['match'](/\{/g)||[])[_0x10d10e(0x8c9)],_0x42ce81=(_0x11aa79[_0x10d10e(0x25f)](/\}/g)||[])[_0x10d10e(0x8c9)];if(_0x1458b3>_0x42ce81)_0x11aa79=_0x11aa79+'}'[_0x10d10e(0x112)](_0x1458b3-_0x42ce81);return _0x11aa79;},_0x29020f=_0x4bc240=>{const _0x5f590c=_0x2142b2;let _0x11a8fc=_0x4bc240[_0x5f590c(0x588)]();const _0x554206=[_0x5f590c(0x8ef),_0x5f590c(0x20a),_0x5f590c(0x89f),_0x5f590c(0x4d4),_0x5f590c(0x460),_0x5f590c(0x4bf),_0x5f590c(0x4be),_0x5f590c(0x2f6),_0x5f590c(0x20e),'geq','le','ge',_0x5f590c(0x894),'pm',_0x5f590c(0x4e6),_0x5f590c(0x4d9),_0x5f590c(0x4ae),'tan',_0x5f590c(0x436),'ln',_0x5f590c(0x956),'prod',_0x5f590c(0x585),_0x5f590c(0x3ce),_0x5f590c(0xe0),_0x5f590c(0x6e9),'underline',_0x5f590c(0x898),'deg'];_0x11a8fc=_0x11a8fc['replace'](new RegExp(_0x5f590c(0x499)+_0x554206[_0x5f590c(0x71e)]('|')+_0x5f590c(0x931),'g'),'\x5c'),_0x554206['forEach'](_0x3ae3b0=>{const _0x2d2517=_0x5f590c;_0x11a8fc=_0x11a8fc[_0x2d2517(0x750)](new RegExp(_0x2d2517(0x7f1)+_0x3ae3b0+'\x5cb','g'),(_0x307ba1,_0x581860)=>_0x581860+'\x5c'+_0x3ae3b0);});const _0x284a3a=[[/×/g,_0x5f590c(0x52b)],[/·/g,_0x5f590c(0x7d6)],[/÷/g,_0x5f590c(0x5aa)],[/≤/g,_0x5f590c(0x678)],[/≥/g,_0x5f590c(0x3b5)],[/≠/g,_0x5f590c(0x142)],[/±/g,'\x5cpm'],[/∑/g,_0x5f590c(0x6ab)],[/−/g,'-']];_0x284a3a[_0x5f590c(0x8ca)](([_0x784563,_0x2f214b])=>{const _0x184039=_0x5f590c;_0x11a8fc=_0x11a8fc[_0x184039(0x750)](_0x784563,_0x2f214b);}),_0x11a8fc=_0x11a8fc['replace'](/√\s*\(([^)]*)\)/g,_0x5f590c(0x1d8)),_0x11a8fc=_0x11a8fc[_0x5f590c(0x750)](/√\s*([A-Za-z0-9]+)/g,_0x5f590c(0x1d8)),_0x11a8fc=_0x11a8fc[_0x5f590c(0x750)](/(^|[^\\])\bimes\b/g,_0x5f590c(0x33c))[_0x5f590c(0x750)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x5f590c(0x9a2))[_0x5f590c(0x750)](/(^|[^\\])ext\{/g,_0x5f590c(0x729))[_0x5f590c(0x750)](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x5f590c(0x750)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x5f590c(0x750)](/\s\\frac/g,_0x5f590c(0x6fb)),_0x11a8fc=_0x11a8fc['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0xc954ef,_0xaec648,_0x311827,_0x29e616)=>_0xaec648+_0x5f590c(0x6ec)+_0x311827+'}{'+_0x29e616+'}'),_0x11a8fc=_0x11a8fc['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')[_0x5f590c(0x750)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,'\x5cfrac{$1}{$2}')[_0x5f590c(0x750)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x5f590c(0x468)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x5f590c(0x1bf)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x5f590c(0x1bf)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x5f590c(0x1bf)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x5f590c(0x625)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x5f590c(0x1bf)]][_0x5f590c(0x8ca)](([_0x35c074,_0xbd29c5])=>{const _0x3ecbe6=_0x5f590c;_0x11a8fc=_0x11a8fc[_0x3ecbe6(0x750)](_0x35c074,_0xbd29c5);}),_0x11a8fc=_0x11a8fc[_0x5f590c(0x750)](/(\d+)\s*%/g,_0x5f590c(0x5a1)),_0x11a8fc=_0x11a8fc[_0x5f590c(0x750)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x5f590c(0x750)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x5f590c(0x5ef))[_0x5f590c(0x750)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x5f590c(0x4d9),_0x5f590c(0x4ae),'tan','log','ln']['forEach'](_0x1207d0=>{const _0x395b10=_0x5f590c;_0x11a8fc=_0x11a8fc['replace'](new RegExp(_0x395b10(0x7f1)+_0x1207d0+_0x395b10(0x5a5),'g'),(_0x107803,_0x50388b)=>_0x50388b+'\x5c'+_0x1207d0+'(');});const _0x16ec4a=(_0x11a8fc['match'](/\\left\b/g)||[])[_0x5f590c(0x8c9)],_0x10bfbb=(_0x11a8fc['match'](/\\right\b/g)||[])[_0x5f590c(0x8c9)];if(_0x16ec4a!==_0x10bfbb)_0x11a8fc=_0x11a8fc['replace'](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x11a8fc=_0xe1ff04(_0x11a8fc),_0x11a8fc;},_0x3faa58=_0x21b182=>{const _0x448420=_0x2142b2;if(/\$|\\\(|\\\[/[_0x448420(0x6b0)](_0x21b182))return _0x21b182;if(!_0x45b7f4['test'](_0x21b182))return _0x21b182;const _0x5f1911=_0x21b182['match'](/^\s*/)[0x0],_0x503aa2=_0x21b182[_0x448420(0x25f)](/\s*$/)[0x0],_0x324e76=_0x21b182[_0x448420(0x588)]();return _0x5f1911+'$'+_0x29020f(_0x324e76)+'$'+_0x503aa2;},_0x14411b=_0x1066d8=>_0x1066d8[_0x2142b2(0x583)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x1bc49c['forEach'](_0x1dc0c7=>{const _0x655e5d=_0x2142b2;if(_0x1dc0c7['querySelector']&&_0x1dc0c7[_0x655e5d(0x5be)](_0x655e5d(0x439)))return;const _0x303922=_0x5d1140(_0x1dc0c7);let _0x5c0c56=_0xcc3b7(_0x303922);_0x5c0c56=_0x5c0c56[_0x655e5d(0x750)](/\$\$([\s\S]*?)\$\$/g,(_0x1ee5d4,_0x45cb29)=>'$$'+_0x29020f(_0x45cb29)+'$$')[_0x655e5d(0x750)](/\$([^$]*?)\$/g,(_0xb0607f,_0x3cb1c8)=>'$'+_0x29020f(_0x3cb1c8)+'$')[_0x655e5d(0x750)](/\\\(([\s\S]*?)\\\)/g,(_0xcaeacc,_0x5c9f62)=>'\x5c('+_0x29020f(_0x5c9f62)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x492c98,_0x1ab3dc)=>'\x5c['+_0x29020f(_0x1ab3dc)+'\x5c]');let _0x34b216=_0x5c0c56,_0x48ac1e=0x0;const _0x23648f=_0x485864=>_0x485864[_0x655e5d(0x750)](/S([^S]{0,2000}?)S/g,(_0x4435b0,_0x2b4ec8)=>_0x45b7f4[_0x655e5d(0x6b0)](_0x2b4ec8)?'$'+_0x29020f(_0x2b4ec8)+'$':_0x4435b0);while(_0x48ac1e++<0x14){const _0x5206f5=_0x23648f(_0x34b216);if(_0x5206f5===_0x34b216)break;_0x34b216=_0x5206f5;}_0x5c0c56=_0x34b216,_0x5c0c56=_0x5c0c56[_0x655e5d(0x583)]('\x0a')[_0x655e5d(0x16a)](_0x58280e=>{const _0x4e6a0c=_0x655e5d;if(!(/[,\u3001，;；]/['test'](_0x58280e)||/\s(?:และ|หรือ)\s/[_0x4e6a0c(0x6b0)](_0x58280e))||!_0x45b7f4[_0x4e6a0c(0x6b0)](_0x58280e))return _0x58280e;return _0x14411b(_0x58280e)[_0x4e6a0c(0x16a)](_0x2fef02=>{const _0x88c691=_0x4e6a0c;if(/^\s(?:และ|หรือ)\s$/[_0x88c691(0x6b0)](_0x2fef02)||/^[,\u3001，;；]$/[_0x88c691(0x6b0)](_0x2fef02))return _0x2fef02;return _0x3faa58(_0x2fef02);})['join']('');})[_0x655e5d(0x71e)]('\x0a'),_0x5c0c56=_0x5c0c56[_0x655e5d(0x583)]('\x0a')[_0x655e5d(0x16a)](_0x319149=>{const _0x2f5049=_0x655e5d,_0x1fdf0d=_0x319149[_0x2f5049(0x588)]();if(!_0x1fdf0d)return _0x319149;const _0x1968ba=/\$|\\\(|\\\[/['test'](_0x1fdf0d),_0x4d7435=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x1fdf0d);if(_0x1968ba||!_0x4d7435||_0x3ced99(_0x1fdf0d))return _0x319149;return _0x319149[_0x2f5049(0x750)](_0x1fdf0d,'$'+_0x29020f(_0x1fdf0d)+'$');})[_0x655e5d(0x71e)]('\x0a'),_0x5c0c56=_0x5c0c56[_0x655e5d(0x750)](/(\d+)\s*°\s*C\b/g,(_0x16b227,_0x58252d,_0x42c4d2,_0x44ae42)=>{const _0x3a0f3b=_0x655e5d,_0x5de36c=_0x44ae42[_0x42c4d2-0x1];if(_0x5de36c==='$'||_0x5de36c==='S'||_0x5de36c==='\x5c')return _0x16b227;return'$'+_0x58252d+_0x3a0f3b(0x73a);})[_0x655e5d(0x750)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x4c58ad,_0x4054f3,_0x491edb,_0x3d795a)=>{const _0x5a333c=_0x655e5d,_0x115f65=_0x3d795a[_0x491edb-0x1];if(_0x115f65==='$'||_0x115f65==='S'||_0x115f65==='\x5c')return _0x4c58ad;return'$'+_0x4054f3+_0x5a333c(0x73a);})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x3e7bdf,_0x5756ef,_0x1587db,_0x359392)=>{const _0x5085ed=_0x655e5d,_0x15e62c=_0x359392[_0x1587db-0x1];if(_0x15e62c==='$'||_0x15e62c==='S'||_0x15e62c==='\x5c')return _0x3e7bdf;return'$'+_0x5756ef+_0x5085ed(0x73a);}),_0x5c0c56=_0x5c0c56['replace'](/\$\s*\$/g,'$$'),_0x5c0c56!==_0x303922&&(_0x593835(_0x1dc0c7,_0x5c0c56),_0x304b36++);});if(_0x304b36>0x0){showMessage(_0x2142b2(0x39b)+_0x304b36+'\x20ช่อง');try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax[_0x2142b2(0x715)]();window[_0x2142b2(0x3c0)]&&typeof renderMathInElement===_0x2142b2(0x346)&&renderMathInElement(_0x47c27f,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x102a26){}}else showMessage(_0x2142b2(0x282));}async function listenForCustomMathTopics(){const _0x49275c=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');onSnapshot(_0x49275c,_0x3fcac8=>{const _0x1eded1=_0x4110;customMathTopics=_0x3fcac8[_0x1eded1(0x755)][_0x1eded1(0x16a)](_0x2b417c=>({'id':_0x2b417c['id'],..._0x2b417c['data']()})),renderTopicCheckboxes();},_0x14f25e=>{const _0x287821=_0x4110;console[_0x287821(0x241)](_0x287821(0x454),_0x14f25e);});}function handleSelectAllTopics(){const _0x24a1d6=_0x555faf,_0x472d97=document[_0x24a1d6(0x8c8)](_0x24a1d6(0x80b)),_0x4349d0=_0x472d97[_0x24a1d6(0x379)](_0x24a1d6(0x705));_0x4349d0[_0x24a1d6(0x8ca)](_0xcda187=>{_0xcda187['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x142d63=_0x555faf,_0x415172=document[_0x142d63(0x8c8)](_0x142d63(0x80b)),_0x34372b=_0x415172[_0x142d63(0x379)](_0x142d63(0x705));_0x34372b['forEach'](_0x533d71=>{const _0x8c4f98=_0x142d63;_0x533d71[_0x8c4f98(0x593)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3be794){const _0x3b2e2a=_0x555faf;if(!_0x3be794)return;try{const _0x4460f9=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x3be794);await deleteDoc(_0x4460f9),showMessage(_0x3b2e2a(0x3f1));}catch(_0x113a94){console['error']('Error\x20deleting\x20custom\x20topic:',_0x113a94),showMessage(_0x3b2e2a(0x787));}}async function handleAddCustomMathTopic(){const _0x1d407a=_0x555faf,_0x479a16=document[_0x1d407a(0x8c8)]('custom-math-topic-input'),_0x4e854d=_0x479a16[_0x1d407a(0x22a)][_0x1d407a(0x588)]();if(!_0x4e854d){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x1d407a(0x958));return;}try{const _0x588322=collection(db,_0x1d407a(0x81a)+appId+_0x1d407a(0x3e0));await addDoc(_0x588322,{'name':_0x4e854d,'createdAt':serverTimestamp()}),_0x479a16[_0x1d407a(0x22a)]='',showMessage(_0x1d407a(0x3c3)+_0x4e854d+_0x1d407a(0x550));}catch(_0x1739a1){console[_0x1d407a(0x241)](_0x1d407a(0x2bc),_0x1739a1),showMessage(_0x1d407a(0x477));}}async function handleUpdateOldQuizzes(){const _0x274701=_0x555faf;showConfirmation(_0x274701(0x27b),async()=>{const _0x32633c=_0x274701,_0x54a3bd=document[_0x32633c(0x8c8)]('loader'),_0x303102=document['getElementById'](_0x32633c(0x34d)),_0x44e979=_0x303102[_0x32633c(0x29c)];_0x54a3bd[_0x32633c(0x65e)][_0x32633c(0x3bf)](_0x32633c(0x3a5)),_0x303102[_0x32633c(0x29c)]=_0x32633c(0x340);try{const _0x21b10b=collection(db,'artifacts/'+appId+_0x32633c(0x235)),_0x449adb=await getDocs(_0x21b10b);if(_0x449adb[_0x32633c(0x827)]){showMessage(_0x32633c(0x8ae));return;}const _0x3ff8d8=writeBatch(db);let _0x4f618b=0x0;_0x449adb[_0x32633c(0x8ca)](_0xba18d3=>{const _0xe82a5b=_0x32633c,_0x3f0420=_0xba18d3['data'](),_0x10da14=_0xba18d3['id'];if(_0x3f0420[_0xe82a5b(0x96e)]&&_0x3f0420[_0xe82a5b(0x96e)][_0xe82a5b(0x8c9)]>0x0&&!_0x3f0420['questions'][0x0]['hasOwnProperty']('id')){console[_0xe82a5b(0x436)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x10da14+'\x20('+_0x3f0420[_0xe82a5b(0x881)]+')'),_0x4f618b++;const _0x38b7fc=_0x3f0420[_0xe82a5b(0x96e)][_0xe82a5b(0x16a)]((_0x121f69,_0x5a9903)=>{const _0xdc6b1f=_0xe82a5b;return{..._0x121f69,'id':_0x121f69['id']||'q_'+Date[_0xdc6b1f(0x8d9)]()+'_'+_0x10da14+'_'+_0x5a9903};}),_0x46ae7a=doc(db,_0xe82a5b(0x81a)+appId+_0xe82a5b(0x235),_0x10da14);_0x3ff8d8['update'](_0x46ae7a,{'questions':_0x38b7fc});}}),_0x4f618b>0x0?(_0x303102[_0x32633c(0x29c)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x4f618b+_0x32633c(0x7d7),await _0x3ff8d8[_0x32633c(0x519)](),showMessage(_0x32633c(0x8dc)+_0x4f618b+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x477669){console[_0x32633c(0x241)]('Error\x20updating\x20old\x20quizzes:',_0x477669),showMessage(_0x32633c(0x107)+_0x477669[_0x32633c(0x476)]);}finally{_0x54a3bd[_0x32633c(0x65e)]['add'](_0x32633c(0x3a5)),_0x303102[_0x32633c(0x29c)]=_0x44e979;}});}async function handleBulkUpdateQuizSettings(){const _0xdc43aa=_0x555faf,_0x4f5e13={'shuffle':document[_0xdc43aa(0x8c8)](_0xdc43aa(0x7b5))[_0xdc43aa(0x22a)],'resultsDisplay':document[_0xdc43aa(0x8c8)](_0xdc43aa(0x669))['value'],'loopUntilPass':document[_0xdc43aa(0x8c8)](_0xdc43aa(0x361))[_0xdc43aa(0x593)]},_0x44c958=allQuizzesGlobal['length'];showConfirmation(_0xdc43aa(0x4bc)+_0x44c958+_0xdc43aa(0x9e1),async()=>{const _0x12f371=_0xdc43aa,_0x31ee79=document[_0x12f371(0x8c8)]('confirm-bulk-quiz-settings-btn');_0x31ee79[_0x12f371(0x915)]=!![],_0x31ee79[_0x12f371(0x8d2)]=_0x12f371(0x650);try{const _0x217192=writeBatch(db);allQuizzesGlobal[_0x12f371(0x8ca)](_0x1e7ca4=>{const _0x211c32=_0x12f371,_0x4849e6=doc(db,_0x211c32(0x81a)+appId+_0x211c32(0x235),_0x1e7ca4['id']),_0x371694={..._0x1e7ca4['settings']||{},..._0x4f5e13};_0x217192['update'](_0x4849e6,{'settings':_0x371694});}),await _0x217192['commit'](),document['getElementById']('bulk-quiz-settings-modal')[_0x12f371(0x65e)][_0x12f371(0x43c)]('hidden'),showMessage(_0x12f371(0xe5)+_0x44c958+_0x12f371(0x2a1));}catch(_0x16373c){console['error'](_0x12f371(0x2c6),_0x16373c),showMessage('เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด');}finally{_0x31ee79[_0x12f371(0x915)]=![],_0x31ee79[_0x12f371(0x8d2)]=_0x12f371(0x7f9);}});}async function handleSaveProjectName(){const _0x273ebc=_0x555faf,_0x1864de=document[_0x273ebc(0x8c8)](_0x273ebc(0x201)),_0x5f2499=document[_0x273ebc(0x8c8)](_0x273ebc(0x348)),_0x5dc895=_0x1864de[_0x273ebc(0x29c)]['trim']();if(!_0x5dc895||!currentProjectId){showMessage(_0x273ebc(0x525)),_0x1864de[_0x273ebc(0x29c)]=currentProjectData['projectName'];return;}_0x5f2499[_0x273ebc(0x915)]=!![],_0x5f2499[_0x273ebc(0x8d2)]=_0x273ebc(0x954);try{const _0x26705a=doc(db,'artifacts/'+appId+_0x273ebc(0x2fe),currentProjectId);await updateDoc(_0x26705a,{'projectName':_0x5dc895}),currentProjectData&&(currentProjectData[_0x273ebc(0x6f6)]=_0x5dc895),showMessage(_0x273ebc(0x51b));}catch(_0xaa33c3){console[_0x273ebc(0x241)](_0x273ebc(0x1d3),_0xaa33c3),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x1864de[_0x273ebc(0x29c)]=currentProjectData[_0x273ebc(0x6f6)];}finally{_0x5f2499[_0x273ebc(0x65e)][_0x273ebc(0x43c)](_0x273ebc(0x3a5)),_0x5f2499['disabled']=![],_0x5f2499[_0x273ebc(0x8d2)]=_0x273ebc(0x95f);}}async function initialize(){const _0x45d1fa=_0x555faf;try{const _0x32abc1=initializeApp(firebaseConfig);db=getFirestore(_0x32abc1),auth=getAuth(_0x32abc1),setupAuthListener(),setupEventListeners(),showView(_0x45d1fa(0x8cd)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x72ac83){console[_0x45d1fa(0x241)](_0x45d1fa(0x104),_0x72ac83),showMessage(_0x45d1fa(0x4ee));}}async function handleVerifyAnswersInEditor(){const _0x253976=_0x555faf,_0x4b868a=document[_0x253976(0x8c8)](_0x253976(0x308));if(!_0x4b868a)return;const _0x8e7cea=document[_0x253976(0x8c8)](_0x253976(0x830));_0x8e7cea[_0x253976(0x915)]=!![],_0x8e7cea[_0x253976(0x8d2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x90b831=_0x4b868a[_0x253976(0x379)](_0x253976(0x151)),_0x15470f=Array[_0x253976(0x578)](_0x90b831)[_0x253976(0x16a)]((_0x2d53bf,_0x10a517)=>{const _0x106dda=_0x253976,_0x336a09=_0x2d53bf['dataset'][_0x106dda(0x9ff)],_0x5867f7=_0x2d53bf[_0x106dda(0x5be)](_0x106dda(0x4c3))['value'];let _0x332df0=null,_0x4867c1='';switch(_0x336a09){case _0x106dda(0x6f7):const _0x39ef39=_0x2d53bf[_0x106dda(0x379)]('input[type=\x22text\x22]');_0x332df0=Array[_0x106dda(0x578)](_0x39ef39)['map'](_0x56f859=>_0x56f859[_0x106dda(0x22a)]);const _0x12ffe4=_0x2d53bf[_0x106dda(0x5be)](_0x106dda(0x2ac));_0x12ffe4&&(_0x4867c1=_0x332df0[parseInt(_0x12ffe4[_0x106dda(0x22a)])]);break;case _0x106dda(0x247):_0x4867c1=_0x2d53bf[_0x106dda(0x5be)]('.ideal-answer-input')[_0x106dda(0x22a)];break;case _0x106dda(0x43d):const _0x250e3a=_0x2d53bf['querySelector']('input[type=\x22radio\x22]:checked');_0x4867c1=_0x250e3a?_0x250e3a[_0x106dda(0x22a)]:'';break;case _0x106dda(0x36c):_0x4867c1=_0x2d53bf['querySelector'](_0x106dda(0x1c7))['value'];break;}return{'question':_0x5867f7,'options':_0x332df0,'proposedAnswer':_0x4867c1};}),_0x696730=_0x253976(0x9f4)+JSON[_0x253976(0x784)](_0x15470f)+_0x253976(0x91e),_0x2ea21e={'type':_0x253976(0x12c),'items':{'type':_0x253976(0x3c2),'properties':{'questionIndex':{'type':_0x253976(0x544)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x253976(0x629)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x253976(0x9cb),_0x253976(0x696),_0x253976(0x564)]}},_0x148bce=await callAnalysisApi(_0x696730,{'type':'OBJECT','properties':{'result':_0x2ea21e},'required':[_0x253976(0x134)]});displayVerificationResultsInEditor(_0x148bce[_0x253976(0x134)]);}catch(_0x5280ea){console[_0x253976(0x241)](_0x253976(0x618),_0x5280ea),showMessage(_0x253976(0x680));}finally{_0x8e7cea[_0x253976(0x915)]=![],_0x8e7cea[_0x253976(0x8d2)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x4cee70){const _0x3d5181=_0x555faf;_0x4cee70[_0x3d5181(0x8ca)](_0x2c17a4=>{const _0x2e2129=_0x3d5181,_0x511f33=document[_0x2e2129(0x5be)](_0x2e2129(0x1a9)+_0x2c17a4[_0x2e2129(0x9cb)]+'\x22]');if(!_0x511f33)return;const _0x37d889=_0x511f33[_0x2e2129(0x5be)](_0x2e2129(0x9e0));if(_0x37d889)_0x37d889[_0x2e2129(0x3bf)]();let _0x2f7879='';if(_0x2c17a4[_0x2e2129(0x696)])_0x2f7879=_0x2e2129(0x524);else{const _0x47eabf=_0x2c17a4[_0x2e2129(0x83d)]?_0x2e2129(0x9b0):'';_0x2f7879=_0x2e2129(0x521)+_0x47eabf+_0x2e2129(0x5e8)+_0x2c17a4[_0x2e2129(0x564)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2c17a4[_0x2e2129(0x83d)]?_0x2e2129(0x4e4)+_0x2c17a4['suggestedAnswer']+'</p>':'')+_0x2e2129(0x709);}_0x511f33['insertAdjacentHTML'](_0x2e2129(0x1ad),_0x2f7879);if(!_0x2c17a4[_0x2e2129(0x696)]&&_0x2c17a4[_0x2e2129(0x83d)]){const _0x24e249=_0x511f33['dataset']['qType'],_0x474471=_0x453401=>{const _0x3cf122=_0x2e2129;if(!_0x453401)return;_0x453401[_0x3cf122(0x65e)][_0x3cf122(0x43c)](_0x3cf122(0x733),'transition-all','duration-300'),setTimeout(()=>{const _0x49b30d=_0x3cf122;_0x453401[_0x49b30d(0x65e)][_0x49b30d(0x3bf)](_0x49b30d(0x733));},0x9c4);};if(_0x24e249===_0x2e2129(0x6f7)){const _0x2f212f=Array[_0x2e2129(0x578)](_0x511f33['querySelectorAll'](_0x2e2129(0x71c))),_0x66b86a=_0x2f212f[_0x2e2129(0x8b4)](_0x443830=>_0x443830[_0x2e2129(0x22a)][_0x2e2129(0x588)]()['toLowerCase']()===_0x2c17a4[_0x2e2129(0x83d)]['trim']()['toLowerCase']());if(_0x66b86a!==-0x1){const _0x39d449=_0x511f33[_0x2e2129(0x5be)]('input[type=\x22radio\x22][value=\x22'+_0x66b86a+'\x22]');_0x39d449&&(_0x39d449[_0x2e2129(0x593)]=!![],_0x474471(_0x39d449[_0x2e2129(0x5d5)](_0x2e2129(0x2f6))));}}else{if(_0x24e249==='short_answer'||_0x24e249===_0x2e2129(0x36c)){const _0x49d462=_0x511f33[_0x2e2129(0x5be)](_0x2e2129(0x805));_0x49d462&&(_0x49d462[_0x2e2129(0x22a)]=_0x2c17a4['suggestedAnswer'],_0x474471(_0x49d462));}else{if(_0x24e249===_0x2e2129(0x43d)){const _0x53bd28=_0x2c17a4['suggestedAnswer'][_0x2e2129(0x588)]()[_0x2e2129(0x9b7)](),_0x20f017=_0x511f33[_0x2e2129(0x5be)]('input[type=\x22radio\x22][value=\x22'+_0x53bd28+'\x22]');_0x20f017&&(_0x20f017['checked']=!![],_0x474471(_0x20f017[_0x2e2129(0x5d5)]('div')));}}}}}),showMessage(_0x3d5181(0x846));}async function handleVerifyAnswers(){const _0x104e48=_0x555faf;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x3b538=document[_0x104e48(0x8c8)]('verify-answers-btn');_0x3b538[_0x104e48(0x915)]=!![],_0x3b538[_0x104e48(0x8d2)]=_0x104e48(0x181);try{const _0x3a87d7=currentQuizData[_0x104e48(0x96e)][_0x104e48(0x16a)]((_0x2aba97,_0x446c5)=>{const _0x4e6931=_0x104e48;let _0x1e9c7b='';const _0x270a8d=_0x2aba97[_0x4e6931(0x496)]||currentQuizData[_0x4e6931(0x567)];switch(_0x270a8d){case _0x4e6931(0x6f7):_0x1e9c7b=_0x2aba97[_0x4e6931(0x81c)][_0x2aba97['correctAnswerIndex']];break;case _0x4e6931(0x247):_0x1e9c7b=_0x2aba97[_0x4e6931(0x1e4)];break;case _0x4e6931(0x43d):_0x1e9c7b=_0x2aba97[_0x4e6931(0x338)][_0x4e6931(0x8be)]();break;case _0x4e6931(0x36c):_0x1e9c7b=_0x2aba97[_0x4e6931(0x68a)];break;}return{'question':_0x2aba97['stem']||_0x2aba97[_0x4e6931(0x8fb)],'options':_0x2aba97[_0x4e6931(0x81c)]||null,'proposedAnswer':_0x1e9c7b};}),_0xa7ee54=_0x104e48(0x4e9)+JSON[_0x104e48(0x784)](_0x3a87d7)+_0x104e48(0x60a),_0x17a337={'type':_0x104e48(0x12c),'items':{'type':_0x104e48(0x3c2),'properties':{'questionIndex':{'type':_0x104e48(0x544)},'isCorrect':{'type':_0x104e48(0x5e9)},'justification':{'type':_0x104e48(0x629)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x104e48(0x9cb),_0x104e48(0x696),_0x104e48(0x564)]}},_0x447a11=await callAnalysisApi(_0xa7ee54,{'type':_0x104e48(0x3c2),'properties':{'result':_0x17a337},'required':[_0x104e48(0x134)]});displayVerificationResults(_0x447a11[_0x104e48(0x134)]);}catch(_0x167353){console['error'](_0x104e48(0x4fa),_0x167353),showMessage(_0x104e48(0x680));}finally{_0x3b538[_0x104e48(0x915)]=![],_0x3b538['innerHTML']=_0x104e48(0x150);}}function displayVerificationResults(_0x44c728){_0x44c728['forEach'](_0x1b8a29=>{const _0x441b18=_0x4110,_0x593641=document[_0x441b18(0x5be)](_0x441b18(0x590)+_0x1b8a29[_0x441b18(0x9cb)]+'\x22]');if(_0x593641){const _0x1f019e=_0x593641[_0x441b18(0x5be)](_0x441b18(0x886));if(_0x1f019e)_0x1f019e[_0x441b18(0x3bf)]();let _0x5d9e2d='';_0x1b8a29['isCorrect']?_0x5d9e2d=_0x441b18(0x3cd):_0x5d9e2d=_0x441b18(0x447)+_0x1b8a29[_0x441b18(0x564)]+_0x441b18(0x24a)+(_0x1b8a29['suggestedAnswer']?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x1b8a29[_0x441b18(0x83d)]+'</p>':'')+_0x441b18(0x3fa),_0x593641[_0x441b18(0x9a0)](_0x441b18(0x1ad),_0x5d9e2d);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x50ee02,_0x5dadd7){const _0x8745c5=_0x555faf,_0x56ae84=String(_0x50ee02)[_0x8745c5(0x750)](',','.')[_0x8745c5(0x750)](/[^\d.-]/g,'')['trim'](),_0x2236e6=String(_0x5dadd7)[_0x8745c5(0x750)](',','.')[_0x8745c5(0x750)](/[^\d.-]/g,'')[_0x8745c5(0x588)]();if(_0x56ae84===''||_0x2236e6==='')return![];const _0x402509=parseFloat(_0x56ae84),_0x179d28=parseFloat(_0x2236e6);if(isNaN(_0x402509)||isNaN(_0x179d28))return![];return Math['abs'](_0x402509-_0x179d28)<0.001;}async function gradeShortAnswer(_0x5adbf0,_0x1e412c){const _0x3cdad7=_0x555faf,_0x66929a=_0x1e412c['idealAnswer'];if(String(_0x5adbf0)[_0x3cdad7(0x588)]()['toLowerCase']()===String(_0x66929a)['trim']()[_0x3cdad7(0x9b7)]())return!![];if(compareNumericalAnswers(_0x5adbf0,_0x66929a))return!![];return console[_0x3cdad7(0x436)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x5adbf0,_0x66929a);}async function revealAnswerForAdmin(_0x1cb1ac,_0x2873b5){const _0x1bbd76=_0x555faf,_0x4ff88d=doc(db,_0x1bbd76(0x81a)+appId+_0x1bbd76(0x5b7),currentLiveGameId);await updateDoc(_0x4ff88d,{'questionStatus':_0x1bbd76(0x68b)});}function showTop5LeaderboardView(_0x28c08b){const _0x3d790b=_0x555faf,_0x4bdec2=Object[_0x3d790b(0x988)](_0x28c08b['players']||{})[_0x3d790b(0x858)](_0x35225c=>_0x35225c[_0x3d790b(0x1d7)]==='active');_0x4bdec2[_0x3d790b(0x55d)]((_0x5cb0ce,_0x556ec7)=>_0x556ec7[_0x3d790b(0x34e)]-_0x5cb0ce[_0x3d790b(0x34e)]);const _0x3bc88b=_0x4bdec2[_0x3d790b(0x17a)](0x0,0x5),_0x301f35='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3bc88b[_0x3d790b(0x16a)]((_0x174e5c,_0x547011)=>_0x3d790b(0x651)+(_0x547011+0x1)+'.\x20'+(_0x174e5c['name']||Object['keys'](_0x28c08b['players'])[_0x3d790b(0x653)](_0x41d83c=>_0x28c08b[_0x3d790b(0x79e)][_0x41d83c]===_0x174e5c))+_0x3d790b(0x37d)+_0x174e5c['score']+_0x3d790b(0x295))[_0x3d790b(0x71e)]('')+_0x3d790b(0x7fe)+(_0x28c08b[_0x3d790b(0x75f)]+0x1===currentQuizData['questions'][_0x3d790b(0x8c9)]?_0x3d790b(0x563):_0x3d790b(0x69d))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x3d790b(0x8d2)]=_0x301f35,document[_0x3d790b(0x8c8)]('goto-next-question-btn')[_0x3d790b(0x38a)](_0x3d790b(0x49b),async()=>{const _0x5ade45=_0x3d790b,_0x4a588c=doc(db,_0x5ade45(0x81a)+appId+_0x5ade45(0x5b7),currentLiveGameId),_0x520cc9=_0x28c08b[_0x5ade45(0x75f)]+0x1;if(_0x520cc9<currentQuizData[_0x5ade45(0x96e)]['length']){const _0x245e44={'currentQuestionIndex':_0x520cc9,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x5ade45(0x569)};Object[_0x5ade45(0x6cf)](_0x28c08b[_0x5ade45(0x79e)])['forEach'](_0xd8fc21=>{const _0x115ef8=_0x5ade45;_0x245e44[_0x115ef8(0x3bd)+_0xd8fc21+_0x115ef8(0x62d)]=![];}),await updateDoc(_0x4a588c,_0x245e44);}else await updateDoc(_0x4a588c,{'status':_0x5ade45(0x7bf)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x58d70b=>{const _0x47584f=_0x4110;if(_0x58d70b){userId=_0x58d70b[_0x47584f(0x6cc)],userIdDisplay[_0x47584f(0x29c)]=userId;const _0x431f40=await loadUserPreferences();_0x431f40[_0x47584f(0x299)]&&(document[_0x47584f(0x8c8)](_0x47584f(0x5f7))[_0x47584f(0x22a)]=_0x431f40[_0x47584f(0x299)]);globalDashboardSettings[_0x47584f(0x738)]=_0x431f40[_0x47584f(0x738)]||_0x47584f(0x633);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x192a7c,_0x27754d){const _0x310e2e=_0x555faf;if(!userId)return;try{const _0x5f589c=doc(db,_0x310e2e(0x81a)+appId+_0x310e2e(0x1f1)+userId+_0x310e2e(0x917)),_0x481b42={};_0x481b42[_0x192a7c]=_0x27754d,await setDoc(_0x5f589c,_0x481b42,{'merge':!![]});}catch(_0x1678f5){console[_0x310e2e(0x241)]('Error\x20saving\x20user\x20preference:',_0x1678f5);}}async function loadUserPreferences(){const _0x4e0edd=_0x555faf;if(!userId)return{};try{const _0x3ec2e8=doc(db,'artifacts/'+appId+_0x4e0edd(0x1f1)+userId+'/preferences/main'),_0x47cc55=await getDoc(_0x3ec2e8);if(_0x47cc55[_0x4e0edd(0x28d)]())return _0x47cc55[_0x4e0edd(0x56d)]();return{};}catch(_0x4d3199){return console[_0x4e0edd(0x241)](_0x4e0edd(0x429),_0x4d3199),{};}}function showPodiumView(_0x2bb0f1){const _0x9c764a=_0x555faf,_0x3bfb48=Object['entries'](_0x2bb0f1)[_0x9c764a(0x16a)](([_0x5b3743,_0x221445])=>({'name':_0x5b3743,'score':_0x221445[_0x9c764a(0x34e)]||0x0,'badges':_0x221445[_0x9c764a(0x848)]||[]}));_0x3bfb48[_0x9c764a(0x55d)]((_0x1f00f5,_0x529801)=>{const _0x35fb0a=_0x9c764a,_0x27f351=_0x529801[_0x35fb0a(0x34e)]-_0x1f00f5[_0x35fb0a(0x34e)];if(_0x27f351!==0x0)return _0x27f351;return(_0x529801[_0x35fb0a(0x848)][_0x35fb0a(0x8c9)]||0x0)-(_0x1f00f5[_0x35fb0a(0x848)][_0x35fb0a(0x8c9)]||0x0);});const _0x4ffe8e=_0x36674f=>{const _0x40b671=_0x9c764a;if(!_0x36674f||_0x36674f['length']===0x0)return'';const _0xd9367e={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x36674f['map'](_0x226e5b=>_0xd9367e[_0x226e5b]||'')[_0x40b671(0x71e)]('')+_0x40b671(0x3e2);},_0x1a9190=_0x3bfb48['slice'](0x3),_0x28bd75=_0x1a9190[_0x9c764a(0x8c9)]>0x0?_0x9c764a(0x603)+_0x1a9190[_0x9c764a(0x16a)]((_0x8d015a,_0x277f2e)=>_0x9c764a(0x911)+(_0x277f2e+0x4)+_0x9c764a(0x85b)+_0x8d015a['name']+_0x9c764a(0x6c2)+_0x8d015a[_0x9c764a(0x34e)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x9c764a(0x71e)]('')+_0x9c764a(0x6e4):'',_0x47c8d3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3bfb48[0x1]?_0x9c764a(0x3bc)+_0x3bfb48[0x1][_0x9c764a(0x3df)]+_0x9c764a(0x2af)+_0x4ffe8e(_0x3bfb48[0x1][_0x9c764a(0x848)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x3bfb48[0x1][_0x9c764a(0x34e)]+_0x9c764a(0x2df):_0x9c764a(0x740))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3bfb48[0x0]?_0x9c764a(0x41a)+_0x3bfb48[0x0][_0x9c764a(0x3df)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ffe8e(_0x3bfb48[0x0][_0x9c764a(0x848)])+_0x9c764a(0x8f9)+_0x3bfb48[0x0][_0x9c764a(0x34e)]+_0x9c764a(0xfe):_0x9c764a(0x740))+_0x9c764a(0x12d)+(_0x3bfb48[0x2]?_0x9c764a(0x1af)+_0x3bfb48[0x2][_0x9c764a(0x3df)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ffe8e(_0x3bfb48[0x2][_0x9c764a(0x848)])+_0x9c764a(0x61e)+_0x3bfb48[0x2][_0x9c764a(0x34e)]+_0x9c764a(0x7ce):_0x9c764a(0x740))+_0x9c764a(0x7af)+_0x28bd75+_0x9c764a(0x868)+(currentMode==='admin'?_0x9c764a(0x587):_0x9c764a(0x2a9))+_0x9c764a(0x334);liveGameView[_0x9c764a(0x8d2)]=_0x47c8d3,currentMode===_0x9c764a(0x457)&&document[_0x9c764a(0x8c8)](_0x9c764a(0x3a7))['addEventListener'](_0x9c764a(0x49b),async()=>{const _0x525ee9=_0x9c764a,_0xa30f1a=doc(db,_0x525ee9(0x81a)+appId+'/public/data/liveGames',currentLiveGameId),_0x60b8c0=await getDoc(_0xa30f1a);if(_0x60b8c0[_0x525ee9(0x28d)]()){const _0x393bec=_0x60b8c0[_0x525ee9(0x56d)]();_0x393bec[_0x525ee9(0x531)]&&await saveGameResultsAsSubmissions(_0x393bec);}await deleteDoc(_0xa30f1a),showView(_0x525ee9(0x1ee));});}async function handleStartLiveRace(_0x2b6a04,_0x39b208=![]){const _0xe29a6a=_0x555faf;let _0x49d2f7=allQuizzes[_0xe29a6a(0x653)](_0x386a67=>_0x386a67['id']===_0x2b6a04);if(!_0x49d2f7){const _0xd1108e=doc(db,_0xe29a6a(0x81a)+appId+'/public/data/quizzes',_0x2b6a04),_0x1cf50a=await getDoc(_0xd1108e);if(!_0x1cf50a['exists']()){showMessage(_0xe29a6a(0x7b8));return;}_0x49d2f7={'id':_0x1cf50a['id'],..._0x1cf50a[_0xe29a6a(0x56d)]()};}const _0x39543e=getShuffledQuiz(_0x49d2f7);currentQuizData=_0x39543e;const _0x5961de=_0x49d2f7[_0xe29a6a(0x8bf)]||currentProjectId||null,_0x5ae97b=Math[_0xe29a6a(0xff)](0x3e8+Math[_0xe29a6a(0x5a3)]()*0x2328)['toString']();currentLiveGamePin=_0x5ae97b;try{const _0xc07758=await addDoc(collection(db,_0xe29a6a(0x81a)+appId+_0xe29a6a(0x5b7)),{'quizId':_0x2b6a04,'shouldSaveResults':_0x39b208,'projectId':_0x5961de,'status':_0xe29a6a(0x7d2),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x5ae97b,'createdAt':serverTimestamp(),'shuffledQuiz':_0x39543e});currentLiveGameId=_0xc07758['id'],showAdminLobbyView(_0x5ae97b,_0x49d2f7[_0xe29a6a(0x881)]),listenForLiveGameUpdates();}catch(_0x109f4c){console[_0xe29a6a(0x241)]('Error\x20starting\x20live\x20race:',_0x109f4c),showMessage(_0xe29a6a(0x91b));}}async function handleShowStudentRankings(){const _0x7384eb=_0x555faf,_0x3056b0=document[_0x7384eb(0x5be)](_0x7384eb(0x7e2));_0x3056b0&&(_0x3056b0['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x2b4203=document[_0x7384eb(0x5be)](_0x7384eb(0xfc));_0x2b4203&&(_0x2b4203[_0x7384eb(0x8d2)]=_0x7384eb(0x7a7));const _0x2dba4f=document[_0x7384eb(0x8c8)]('student-rankings-modal');_0x2dba4f['classList']['remove'](_0x7384eb(0x3a5)),document[_0x7384eb(0x8c8)](_0x7384eb(0x6c8))[_0x7384eb(0x953)]=()=>_0x2dba4f['classList'][_0x7384eb(0x43c)](_0x7384eb(0x3a5));const _0x290376=document[_0x7384eb(0x8c8)]('student-quiz-leaderboard-tab'),_0x521656=document[_0x7384eb(0x8c8)]('student-project-leaderboard-tab'),_0x253406=document[_0x7384eb(0x8c8)](_0x7384eb(0x8bd)),_0x4a4734=document[_0x7384eb(0x8c8)](_0x7384eb(0x189));_0x290376[_0x7384eb(0x953)]=()=>{const _0x385025=_0x7384eb;_0x290376[_0x385025(0x65e)][_0x385025(0x43c)]('active'),_0x521656[_0x385025(0x65e)][_0x385025(0x3bf)](_0x385025(0x736)),_0x253406[_0x385025(0x65e)][_0x385025(0x3bf)](_0x385025(0x3a5)),_0x4a4734[_0x385025(0x65e)]['add'](_0x385025(0x3a5));},_0x521656['onclick']=()=>{const _0x341f84=_0x7384eb;_0x521656[_0x341f84(0x65e)][_0x341f84(0x43c)]('active'),_0x290376['classList'][_0x341f84(0x3bf)]('active'),_0x4a4734[_0x341f84(0x65e)]['remove'](_0x341f84(0x3a5)),_0x253406[_0x341f84(0x65e)]['add'](_0x341f84(0x3a5));};try{const _0x27e3fe=collection(db,_0x7384eb(0x81a)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x7384eb(0x647)),_0x2407ae=await getDocs(_0x27e3fe),_0x3dd532=_0x2407ae[_0x7384eb(0x755)][_0x7384eb(0x16a)](_0xb5c71a=>_0xb5c71a['data']());renderQuizLeaderboard(_0x3dd532,currentQuizData,_0x7384eb(0x916));const _0x2ed299=collection(db,_0x7384eb(0x81a)+appId+'/public/data/projects/'+currentQuizData['projectId']+_0x7384eb(0x183)),_0x1e3071=await getDocs(_0x2ed299),_0x545fad=_0x1e3071[_0x7384eb(0x755)]['map'](_0x4672d2=>_0x4672d2['data']());renderLeaderboard(_0x545fad,_0x7384eb(0x8b8));}catch(_0x161d0f){console['error'](_0x7384eb(0x1e5),_0x161d0f),showMessage(_0x7384eb(0x959));}}async function handleSaveToBank(_0xfa4e4f){const _0x41d404=_0x555faf,_0x1cd6e8=_0xfa4e4f[_0x41d404(0x7e4)],_0x32e952=_0x1cd6e8['dataset'][_0x41d404(0x673)],_0x2b002b=currentQuizData[_0x41d404(0x96e)][_0x32e952];if(!userId){showMessage(_0x41d404(0x704));return;}try{const _0x9e86fa={..._0x2b002b,'originalTopic':currentQuizData[_0x41d404(0x881)],'savedAt':serverTimestamp()},_0x7ac1c0=collection(db,_0x41d404(0x81a)+appId+'/users/'+userId+_0x41d404(0x5d3));await addDoc(_0x7ac1c0,_0x9e86fa),showMessage(_0x41d404(0x29a)),_0x1cd6e8['classList']['remove'](_0x41d404(0x6c6)),_0x1cd6e8[_0x41d404(0x65e)]['add'](_0x41d404(0x679)),_0x1cd6e8[_0x41d404(0x915)]=!![];}catch(_0x529246){console[_0x41d404(0x241)](_0x41d404(0x939),_0x529246),showMessage(_0x41d404(0x758));}}function listenForStarredQuizzes(){const _0x434ca7=_0x555faf;if(!userId)return;const _0x3b3b27=collection(db,_0x434ca7(0x81a)+appId+_0x434ca7(0x235)),_0x2e5e82=query(_0x3b3b27,where(_0x434ca7(0x6a2),'==',!![]));onSnapshot(_0x2e5e82,_0x42007f=>{const _0x45e178=_0x434ca7;starredQuizzes=_0x42007f['docs'][_0x45e178(0x16a)](_0x3db97d=>({'id':_0x3db97d['id'],..._0x3db97d['data']()})),currentProjectId===_0x45e178(0x9d8)?renderQuizzes():renderProjects();},_0xb85d91=>{const _0x37fe49=_0x434ca7;console[_0x37fe49(0x241)](_0x37fe49(0x9b3),_0xb85d91);});}function exportQuizAsWorksheetPDF(){const _0x27050d=_0x555faf;if(!currentQuizData||!currentQuizData[_0x27050d(0x96e)]){showMessage(_0x27050d(0x3aa));return;}const _0x2b1a01=currentQuizData,_0x3782b7=window[_0x27050d(0x4bd)]('','_blank'),_0x105484=_0x52f362=>String[_0x27050d(0x6d5)](0x41+_0x52f362),_0x4b4591=_0x27050d(0x6eb)+_0x2b1a01[_0x27050d(0x881)]+_0x27050d(0x8b7)+_0x2b1a01[_0x27050d(0x881)]+_0x27050d(0x446)+_0x2b1a01[_0x27050d(0x96e)][_0x27050d(0x16a)]((_0x27ce40,_0x11d5e4)=>{const _0xdfb6e8=_0x27050d;let _0x5b23a3='';const _0x34a74c=_0x27ce40['questionType']||_0x2b1a01['quizType'];switch(_0x34a74c){case _0xdfb6e8(0x6f7):case _0xdfb6e8(0x8d7):_0x5b23a3='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x27ce40[_0xdfb6e8(0x81c)][_0xdfb6e8(0x16a)]((_0x1236b5,_0x2c763f)=>_0xdfb6e8(0x672)+_0x105484(_0x2c763f)+'.\x20'+_0x1236b5+_0xdfb6e8(0x7d0))[_0xdfb6e8(0x71e)]('<br>')+'</div>';break;case _0xdfb6e8(0x43d):_0x5b23a3=_0xdfb6e8(0x90c);break;default:_0x5b23a3=_0xdfb6e8(0x27d);break;}return _0xdfb6e8(0x1ec)+(_0x11d5e4+0x1)+_0xdfb6e8(0x464)+(_0x27ce40[_0xdfb6e8(0x822)]||_0x27ce40[_0xdfb6e8(0x8fb)])+_0xdfb6e8(0x359)+(_0x27ce40[_0xdfb6e8(0x6be)]?_0xdfb6e8(0x31d)+_0x27ce40[_0xdfb6e8(0x6be)]+'</div>':'')+_0xdfb6e8(0x54d)+_0x5b23a3+_0xdfb6e8(0x493);})[_0x27050d(0x71e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3782b7[_0x27050d(0x7f8)]['write'](_0x4b4591),_0x3782b7[_0x27050d(0x7f8)][_0x27050d(0x421)](),_0x3782b7[_0x27050d(0x17c)]=function(){setTimeout(()=>{const _0x58a65e=_0x4110;_0x3782b7[_0x58a65e(0x68e)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xab4600=_0x555faf;if(!currentQuizData||!currentQuizData[_0xab4600(0x96e)]){showMessage(_0xab4600(0x3aa));return;}const _0x5e6784=currentQuizData,_0x578401=window['open']('','_blank'),_0x1c4fab=_0x5a82e6=>String[_0xab4600(0x6d5)](0x41+_0x5a82e6),_0x49b796=_0xab4600(0x227)+_0x5e6784[_0xab4600(0x881)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e6784[_0xab4600(0x96e)]['map']((_0x1b26e3,_0x30346c)=>{const _0x1efac3=_0xab4600;let _0x104d5c='';const _0x59021a=_0x1b26e3['questionType']||_0x5e6784[_0x1efac3(0x567)];switch(_0x59021a){case'multiple_choice':case _0x1efac3(0x8d7):_0x104d5c='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x1b26e3[_0x1efac3(0x81c)]['map']((_0x5aabf3,_0x500644)=>_0x1efac3(0x802)+_0x1c4fab(_0x500644)+'.\x20'+_0x5aabf3+'</span>')[_0x1efac3(0x71e)](_0x1efac3(0x7f2))+_0x1efac3(0x709);break;case'true_false':_0x104d5c=_0x1efac3(0x7e9);break;default:_0x104d5c='';break;}return _0x1efac3(0x9da)+_0x5e6784[_0x1efac3(0x881)]+_0x1efac3(0x9a1)+(_0x30346c+0x1)+_0x1efac3(0x9e7)+(_0x1b26e3[_0x1efac3(0x822)]||_0x1b26e3[_0x1efac3(0x8fb)])+_0x1efac3(0x359)+(_0x1b26e3[_0x1efac3(0x6be)]?_0x1efac3(0x19c)+_0x1b26e3['imageCode']+_0x1efac3(0x3e2):'')+_0x1efac3(0x54d)+_0x104d5c+_0x1efac3(0x8f2);})[_0xab4600(0x71e)]('')+_0xab4600(0x70c);_0x578401[_0xab4600(0x7f8)][_0xab4600(0x307)](_0x49b796),_0x578401['document'][_0xab4600(0x421)](),_0x578401[_0xab4600(0x17c)]=function(){setTimeout(()=>{const _0x5a97c7=_0x4110;_0x578401[_0x5a97c7(0x68e)]();},0x5dc);};}async function handleToggleStarQuiz(_0x22e7c1){const _0x2cb9d6=_0x555faf,_0x210925=doc(db,_0x2cb9d6(0x81a)+appId+_0x2cb9d6(0x235),_0x22e7c1);try{const _0x4a9896=await getDoc(_0x210925);if(_0x4a9896[_0x2cb9d6(0x28d)]()){const _0x2021be=_0x4a9896[_0x2cb9d6(0x56d)]()[_0x2cb9d6(0x6a2)]||![];await updateDoc(_0x210925,{'isStarred':!_0x2021be});}}catch(_0x10e119){console[_0x2cb9d6(0x241)](_0x2cb9d6(0x36d),_0x10e119),showMessage(_0x2cb9d6(0x4fc));}}async function displayQuestionBank(){const _0xabafbf=_0x555faf,_0x576def=document[_0xabafbf(0x8c8)](_0xabafbf(0x83b));_0x576def['innerHTML']=_0xabafbf(0x99a);try{const _0x3acace=collection(db,_0xabafbf(0x81a)+appId+_0xabafbf(0x1f1)+userId+_0xabafbf(0x5d3)),_0x6cd60b=query(_0x3acace),_0x1bc5bc=await getDocs(_0x6cd60b);if(_0x1bc5bc[_0xabafbf(0x827)]){_0x576def['innerHTML']=_0xabafbf(0x92b);return;}let _0x9b9a8c=_0x1bc5bc[_0xabafbf(0x755)][_0xabafbf(0x16a)](_0x55b25f=>{const _0x24d96f=_0xabafbf,_0x342404=_0x55b25f['data'](),_0x27e530=_0x55b25f['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x24d96f(0x784)](_0x342404)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x342404[_0x24d96f(0x8fb)]||_0x342404[_0x24d96f(0x822)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x342404[_0x24d96f(0x53f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0xabafbf(0x71e)]('');_0x576def['innerHTML']=_0xabafbf(0x4ca)+_0x9b9a8c+_0xabafbf(0x47d),document[_0xabafbf(0x8c8)](_0xabafbf(0x3e7))['addEventListener'](_0xabafbf(0x49b),createQuizFromBank);}catch(_0x2bf13d){console[_0xabafbf(0x241)](_0xabafbf(0x194),_0x2bf13d),_0x576def['innerHTML']=_0xabafbf(0x124);}}function showAdminLiveQuestionView(_0x294e6b,_0xc0ee59,_0x97dbf9){const _0xf86bdc=_0x555faf,_0x4c688c=_0x294e6b[_0xf86bdc(0x496)]||currentQuizData[_0xf86bdc(0x567)];let _0x1ce144='';if(_0x4c688c==='multiple_choice'||_0x4c688c===_0xf86bdc(0x43d)){const _0x2c04f3=_0x4c688c===_0xf86bdc(0x43d)?[_0xf86bdc(0x656),_0xf86bdc(0x785)]:_0x294e6b[_0xf86bdc(0x81c)],_0x52e718=_0x4c688c==='true_false'?_0x294e6b[_0xf86bdc(0x338)]?0x0:0x1:_0x294e6b[_0xf86bdc(0x230)];_0x1ce144=_0x2c04f3[_0xf86bdc(0x16a)]((_0x4f7b6c,_0x1da3e6)=>_0xf86bdc(0x804)+(_0x1da3e6===_0x52e718)+_0xf86bdc(0x118)+_0x4f7b6c+_0xf86bdc(0x2fb))[_0xf86bdc(0x71e)]('');}else{if(_0x4c688c===_0xf86bdc(0x36c)){const _0x49b01e=_0x294e6b[_0xf86bdc(0x2cb)]||[];_0x1ce144=_0x49b01e[_0xf86bdc(0x16a)](_0x5ede25=>_0xf86bdc(0x804)+(_0x5ede25===_0x294e6b[_0xf86bdc(0x68a)])+_0xf86bdc(0x118)+_0x5ede25+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0xf86bdc(0x71e)]('');}}const _0x2129eb=_0x294e6b[_0xf86bdc(0x822)]||_0x294e6b[_0xf86bdc(0x8fb)],_0x1481e2=_0xf86bdc(0x3f2)+(_0xc0ee59+0x1)+_0xf86bdc(0x312)+_0x97dbf9+_0xf86bdc(0x85e)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x2129eb+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ce144+_0xf86bdc(0x74d);liveGameView[_0xf86bdc(0x8d2)]=_0x1481e2,window[_0xf86bdc(0x141)]&&MathJax[_0xf86bdc(0x715)]&&MathJax['typesetPromise']([liveGameView]),document[_0xf86bdc(0x8c8)](_0xf86bdc(0x515))[_0xf86bdc(0x38a)](_0xf86bdc(0x49b),()=>revealAnswerForAdmin(_0xc0ee59,_0x97dbf9)),document[_0xf86bdc(0x8c8)](_0xf86bdc(0x766))['addEventListener'](_0xf86bdc(0x49b),async()=>{const _0x2aef56=_0xf86bdc;showConfirmation(_0x2aef56(0x16d),async()=>{const _0x27fb74=_0x2aef56,_0x2c7dae=doc(db,'artifacts/'+appId+_0x27fb74(0x5b7),currentLiveGameId);await updateDoc(_0x2c7dae,{'status':'podium'});});}),document[_0xf86bdc(0x8c8)](_0xf86bdc(0x649))[_0xf86bdc(0x38a)](_0xf86bdc(0x49b),()=>{const _0x27c4fd=_0xf86bdc;document['getElementById'](_0x27c4fd(0x6cd))[_0x27c4fd(0x65e)][_0x27c4fd(0x491)](_0x27c4fd(0x3a5));});}function showStudentLiveQuestionView(_0xfe67f4,_0x305a6c,_0x2c6965){const _0x173c28=_0x555faf,_0x3b2396=_0xfe67f4['questionType']||currentQuizData[_0x173c28(0x567)];let _0x38c236='';if(_0x3b2396===_0x173c28(0x6f7)||_0x3b2396===_0x173c28(0x43d)){const _0x112729=_0x3b2396==='true_false'?['ใช่','ไม่ใช่']:_0xfe67f4[_0x173c28(0x81c)];_0x38c236=_0x112729[_0x173c28(0x16a)]((_0x25baed,_0x332ca2)=>_0x173c28(0x4cc)+_0x332ca2+_0x173c28(0x510)+_0x25baed+_0x173c28(0x3a8))[_0x173c28(0x71e)]('');}else{if(_0x3b2396===_0x173c28(0x36c)){const _0x646ce2=_0xfe67f4[_0x173c28(0x2cb)]||[];_0x38c236=_0x646ce2[_0x173c28(0x16a)]((_0x3397bb,_0x12437d)=>_0x173c28(0x4cc)+_0x12437d+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3397bb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x173c28(0x71e)]('');}else _0x3b2396===_0x173c28(0x247)&&(_0x38c236='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x206205=_0xfe67f4['stem']||_0xfe67f4['questionText'],_0x15e39f=_0x173c28(0x17b)+(_0x305a6c+0x1)+'\x20/\x20'+_0x2c6965+_0x173c28(0x169)+_0x206205+_0x173c28(0x3e6)+_0x38c236+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x173c28(0x8d2)]=_0x15e39f;window[_0x173c28(0x141)]&&MathJax['typesetPromise']&&MathJax[_0x173c28(0x715)]([liveGameView]);const _0x536841=document[_0x173c28(0x8c8)](_0x173c28(0x4b9));_0x536841&&_0x536841[_0x173c28(0x38a)]('click',()=>{const _0x54144a=_0x173c28,_0x4daebd=document['getElementById'](_0x54144a(0x310))[_0x54144a(0x22a)];handleLiveAnswer(_0x4daebd,_0xfe67f4);}),document[_0x173c28(0x8c8)]('live-options-container')[_0x173c28(0x38a)]('click',_0x3bad6d=>{const _0x31ebfe=_0x173c28,_0x16f7fc=_0x3bad6d[_0x31ebfe(0x3ca)][_0x31ebfe(0x5d5)]('.live-answer-btn');if(_0x16f7fc){const _0x27fb55=parseInt(_0x16f7fc[_0x31ebfe(0x8eb)]['index']);handleLiveAnswer(_0x27fb55,_0xfe67f4);}});}async function handleLiveAnswer(_0x11b974,_0x2e5e9a){const _0x875254=_0x555faf;document[_0x875254(0x379)](_0x875254(0x363))[_0x875254(0x8ca)](_0x217d44=>_0x217d44[_0x875254(0x915)]=!![]);const _0x187505=_0x2e5e9a[_0x875254(0x496)]||currentQuizData[_0x875254(0x567)];let _0x391fba=![],_0x4b4e09=_0x11b974;if(_0x187505===_0x875254(0x247)){const _0x4c7bb4=(_0x11b974||'')['toString']();_0x391fba=await gradeShortAnswer(_0x4c7bb4,_0x2e5e9a);}else{if(_0x187505===_0x875254(0x6f7))_0x391fba=_0x11b974===_0x2e5e9a[_0x875254(0x230)];else{if(_0x187505===_0x875254(0x43d)){const _0x39f2e9=_0x2e5e9a[_0x875254(0x338)];_0x391fba=_0x11b974===0x0&&_0x39f2e9||_0x11b974===0x1&&!_0x39f2e9;}else{if(_0x187505==='matching_item'){const _0x2d32cb=_0x2e5e9a[_0x875254(0x2cb)][_0x11b974];_0x391fba=_0x2d32cb===_0x2e5e9a[_0x875254(0x68a)],_0x4b4e09=_0x2d32cb;}}}}const _0x5b2d95=doc(db,_0x875254(0x81a)+appId+_0x875254(0x5b7),currentLiveGameId),_0x1d8755={};_0x1d8755[_0x875254(0x3bd)+currentStudentName+_0x875254(0x62d)]=!![],_0x1d8755['players.'+currentStudentName+_0x875254(0x117)]=_0x391fba,_0x1d8755[_0x875254(0x3bd)+currentStudentName+'.lastAnswerIndex']=_0x187505===_0x875254(0x247)||_0x187505===_0x875254(0x36c)?null:_0x11b974,_0x1d8755[_0x875254(0x3bd)+currentStudentName+_0x875254(0x6f4)]=_0x4b4e09,_0x1d8755[_0x875254(0x3bd)+currentStudentName+_0x875254(0xe3)]=serverTimestamp(),_0x1d8755[_0x875254(0x3bd)+currentStudentName+_0x875254(0x6b7)]=![],await updateDoc(_0x5b2d95,_0x1d8755),liveGameView[_0x875254(0x8d2)]=_0x875254(0x6a4);}function showAdminSummaryView(_0x4f693d,_0x12f2f9){const _0x3063fe=_0x555faf,_0x26754a=Object[_0x3063fe(0x988)](_0x4f693d[_0x3063fe(0x79e)]||{}),_0x392ace=_0x12f2f9['questionType']||currentQuizData[_0x3063fe(0x567)],_0x120853=_0x392ace===_0x3063fe(0x43d)?['ใช่','ไม่ใช่']:_0x12f2f9[_0x3063fe(0x81c)]||_0x12f2f9[_0x3063fe(0x2cb)]||[],_0x40bf78={},_0x46ad9=new Array(_0x120853['length'])['fill'](0x0);_0x120853[_0x3063fe(0x8ca)]((_0x45dae0,_0x2a6c3b)=>{_0x40bf78[_0x2a6c3b]=[];}),Object[_0x3063fe(0x9e9)](_0x4f693d['players']||{})[_0x3063fe(0x8ca)](([_0x2a7d98,_0x2b0272])=>{const _0x1a55f8=_0x3063fe;if(_0x2b0272[_0x1a55f8(0x1d7)]===_0x1a55f8(0x736)&&_0x2b0272[_0x1a55f8(0x4b1)]!==undefined){const _0x3732e3=_0x2b0272[_0x1a55f8(0x4b1)];_0x40bf78[_0x3732e3]&&(_0x40bf78[_0x3732e3][_0x1a55f8(0x52e)](_0x2a7d98),_0x46ad9[_0x3732e3]++);}});const _0x1df252=Math[_0x3063fe(0x35a)](..._0x46ad9,0x1),_0x5d2be9=_0x3063fe(0x577)+(_0x12f2f9['stem']||_0x12f2f9[_0x3063fe(0x8fb)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46ad9[_0x3063fe(0x16a)]((_0x1df5e2,_0x338f1f)=>{const _0x29f35e=_0x3063fe,_0x4bc4a1=_0x40bf78[_0x338f1f]['length']>0x0?_0x40bf78[_0x338f1f][_0x29f35e(0x71e)](',\x20'):_0x29f35e(0x6aa);let _0x37f84d=![];if(_0x392ace==='multiple_choice')_0x37f84d=_0x338f1f===_0x12f2f9['correctAnswerIndex'];else{if(_0x392ace===_0x29f35e(0x43d)){const _0x45ce86=_0x12f2f9[_0x29f35e(0x338)];_0x37f84d=_0x45ce86&&_0x338f1f===0x0||!_0x45ce86&&_0x338f1f===0x1;}else _0x392ace==='matching_item'&&(_0x37f84d=_0x120853[_0x338f1f]===_0x12f2f9[_0x29f35e(0x68a)]);}const _0x39db63=_0x37f84d?_0x29f35e(0x2a2):_0x29f35e(0x6cb);return _0x29f35e(0x9ca)+_0x1df5e2+_0x29f35e(0x2bb)+_0x39db63+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x338f1f+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x120853[_0x338f1f]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x338f1f+_0x29f35e(0x131)+_0x4bc4a1+_0x29f35e(0x652);})[_0x3063fe(0x71e)]('')+_0x3063fe(0x528);liveGameView[_0x3063fe(0x8d2)]=_0x5d2be9;if(window[_0x3063fe(0x141)])MathJax['typesetPromise']();document['getElementById'](_0x3063fe(0x9f6))['addEventListener'](_0x3063fe(0x49b),async()=>{const _0x26afc4=_0x3063fe,_0x9cb706=doc(db,_0x26afc4(0x81a)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x9cb706,{'questionStatus':_0x26afc4(0x9b4)});}),document['getElementById'](_0x3063fe(0x5bb))[_0x3063fe(0x38a)](_0x3063fe(0x49b),()=>{openScratchpad(_0x12f2f9,_0x120853);});}function showPlayerSummaryView(_0x4778ac,_0x248d1a){const _0x1e799a=_0x555faf,_0x50fd30=Object[_0x1e799a(0x988)](_0x4778ac[_0x1e799a(0x79e)]||{}),_0x127de3=_0x4778ac[_0x1e799a(0x79e)][_0x248d1a],_0x4b6720=_0x50fd30['filter'](_0x352690=>_0x352690[_0x1e799a(0x1d7)]===_0x1e799a(0x736))[_0x1e799a(0x55d)]((_0x2166fe,_0x45eb46)=>_0x45eb46['score']-_0x2166fe[_0x1e799a(0x34e)]),_0x1f6e80=_0x4b6720[_0x1e799a(0x8b4)](_0x42389c=>_0x42389c===_0x127de3)+0x1,_0x38606a=_0x127de3[_0x1e799a(0x392)]?_0x1e799a(0x683):_0x1e799a(0x1e2),_0x92c9a0=_0x127de3[_0x1e799a(0x392)]?_0x1e799a(0x199):_0x1e799a(0x8a5),_0x342ce6=_0x127de3[_0x1e799a(0x793)]||0x0,_0x20bc2e='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x4a7f2c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x20bc2e+_0x1e799a(0x808)+_0x92c9a0+_0x1e799a(0x9d4)+_0x38606a+_0x1e799a(0x154)+_0x342ce6+_0x1e799a(0x4f5)+(_0x1f6e80>0x0?_0x1f6e80:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x4a7f2c;}function createQuizFromBank(){const _0x41c68e=_0x555faf,_0x2d4f29=document['querySelectorAll'](_0x41c68e(0x51d));if(_0x2d4f29[_0x41c68e(0x8c9)]===0x0){showMessage(_0x41c68e(0x23c));return;}const _0x3f557e=[];_0x2d4f29[_0x41c68e(0x8ca)](_0x8050e2=>{const _0x3335da=_0x41c68e;_0x3f557e['push'](JSON[_0x3335da(0x6ac)](_0x8050e2['value']));});const _0x56247e={'topic':_0x41c68e(0x2ec),'questions':_0x3f557e};displayGeneratedQuiz(_0x56247e);}function showAdminLobbyView(_0x4ddda2,_0x47ac08){const _0x3675dd=_0x555faf;showView(_0x3675dd(0x1c5));const _0x1e1b0d=_0x3675dd(0x8df)+_0x47ac08+_0x3675dd(0x586)+_0x4ddda2+_0x3675dd(0x7fb);liveGameView[_0x3675dd(0x8d2)]=_0x1e1b0d,document[_0x3675dd(0x8c8)](_0x3675dd(0x5e4))[_0x3675dd(0x38a)](_0x3675dd(0x49b),async()=>{const _0x9d6a71=_0x3675dd;if(!currentQuizData||!currentQuizData[_0x9d6a71(0x96e)]||currentQuizData[_0x9d6a71(0x96e)]['length']===0x0){showMessage(_0x9d6a71(0x2a6));return;}try{const _0x295771=doc(db,_0x9d6a71(0x81a)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x295771,{'status':_0x9d6a71(0x2f4),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x36b5d0=currentQuizData[_0x9d6a71(0x96e)][0x0],_0x5079a6=currentQuizData[_0x9d6a71(0x96e)][_0x9d6a71(0x8c9)];showAdminLiveQuestionView(_0x36b5d0,0x0,_0x5079a6);}catch(_0xb36d2b){console[_0x9d6a71(0x241)](_0x9d6a71(0x12b),_0xb36d2b),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x25937f=_0x555faf;if(allQuizzesGlobal[_0x25937f(0x8c9)]===0x0){const _0x24b97a=await getDocs(collection(db,'artifacts/'+appId+_0x25937f(0x235)));allQuizzesGlobal=_0x24b97a[_0x25937f(0x755)]['map'](_0x37593c=>({'id':_0x37593c['id'],..._0x37593c[_0x25937f(0x56d)]()}));}renderGlobalQuizList(''),document['getElementById']('global-live-game-modal')[_0x25937f(0x65e)][_0x25937f(0x3bf)](_0x25937f(0x3a5));}async function openQuizBankModal(){const _0x5002c1=_0x555faf;if(allQuizzesGlobal[_0x5002c1(0x8c9)]===0x0){const _0x1ee617=await getDocs(collection(db,_0x5002c1(0x81a)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x1ee617[_0x5002c1(0x755)][_0x5002c1(0x16a)](_0x51177c=>({'id':_0x51177c['id'],..._0x51177c[_0x5002c1(0x56d)]()}));}renderQuizBankList(''),document[_0x5002c1(0x8c8)](_0x5002c1(0x36e))[_0x5002c1(0x65e)][_0x5002c1(0x3bf)](_0x5002c1(0x3a5));}function renderQuizBankList(_0x4117d2=''){const _0x2bc012=_0x555faf,_0x517430=document['getElementById'](_0x2bc012(0x30c)),_0x631be4=_0x4117d2['toLowerCase']()[_0x2bc012(0x588)](),_0x5d2640=allQuizzesGlobal[_0x2bc012(0x16a)](_0x357e8b=>({..._0x357e8b,'projectName':allProjects['find'](_0x1d44e2=>_0x1d44e2['id']===_0x357e8b['projectId'])?.[_0x2bc012(0x6f6)]||_0x2bc012(0x437)}))[_0x2bc012(0x858)](_0x53fe92=>(_0x53fe92['topic']||'')[_0x2bc012(0x9b7)]()['includes'](_0x631be4)||(_0x53fe92['projectName']||'')[_0x2bc012(0x9b7)]()[_0x2bc012(0xf5)](_0x631be4)||_0x53fe92['id'][_0x2bc012(0x8be)]()[_0x2bc012(0xf5)](_0x631be4));document[_0x2bc012(0x8c8)]('quiz-bank-count')[_0x2bc012(0x29c)]='('+_0x5d2640[_0x2bc012(0x8c9)]+'\x20ชุด)',_0x517430[_0x2bc012(0x8d2)]=_0x5d2640['length']?_0x5d2640['map'](_0x5a6b0b=>_0x2bc012(0x657)+_0x5a6b0b['id']+_0x2bc012(0x8ba)+(_0x5a6b0b['topic']||_0x2bc012(0x7d8))+_0x2bc012(0x907)+(_0x5a6b0b['questions']?.['length']||0x0)+_0x2bc012(0x433)+_0x5a6b0b[_0x2bc012(0x6f6)]+_0x2bc012(0x209)+_0x5a6b0b['id']+_0x2bc012(0x8f4)+_0x5a6b0b['id']+_0x2bc012(0x752)+_0x5a6b0b['id']+_0x2bc012(0x26e)+_0x5a6b0b['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5a6b0b['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5a6b0b['id']+_0x2bc012(0x908)+_0x5a6b0b['id']+_0x2bc012(0x20d)+_0x5a6b0b[_0x2bc012(0x881)]+_0x2bc012(0x5fa))[_0x2bc012(0x71e)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x517430['querySelectorAll']('.quiz-bank-item')[_0x2bc012(0x8ca)](_0x1ba9bd=>{const _0x433eb0=_0x2bc012;_0x1ba9bd[_0x433eb0(0x38a)](_0x433eb0(0x49b),()=>{const _0x23fe46=_0x433eb0,_0x288c28=_0x1ba9bd[_0x23fe46(0x8eb)]['id'];document[_0x23fe46(0x8c8)](_0x23fe46(0x36e))[_0x23fe46(0x65e)]['add'](_0x23fe46(0x3a5)),showQuizDetailView(_0x288c28);});}),_0x517430[_0x2bc012(0x379)](_0x2bc012(0x76f))[_0x2bc012(0x8ca)](_0x5d4163=>{const _0x5ca21f=_0x2bc012;_0x5d4163[_0x5ca21f(0x38a)]('click',_0x41af31=>{const _0x2cd518=_0x5ca21f;_0x41af31[_0x2cd518(0x28a)]();const _0x1dc5f2=_0x5d4163['dataset']['id'],_0x33d38f=allQuizzesGlobal[_0x2cd518(0x653)](_0x4c638b=>_0x4c638b['id']===_0x1dc5f2);_0x33d38f?(currentQuizData=_0x33d38f,document[_0x2cd518(0x8c8)]('quiz-bank-modal')[_0x2cd518(0x65e)][_0x2cd518(0x43c)](_0x2cd518(0x3a5)),startAdminTest()):showMessage(_0x2cd518(0x7b8));});}),_0x517430[_0x2bc012(0x379)](_0x2bc012(0x304))[_0x2bc012(0x8ca)](_0x915ce6=>{const _0xf7b853=_0x2bc012;_0x915ce6['addEventListener'](_0xf7b853(0x49b),_0x49bfb8=>{const _0x34d562=_0xf7b853;_0x49bfb8['stopPropagation']();const _0x34c34c=_0x915ce6[_0x34d562(0x8eb)]['id'],_0x340ed1=allQuizzesGlobal[_0x34d562(0x653)](_0x4f9dfe=>_0x4f9dfe['id']===_0x34c34c);_0x340ed1?(document[_0x34d562(0x8c8)](_0x34d562(0x36e))[_0x34d562(0x65e)][_0x34d562(0x43c)](_0x34d562(0x3a5)),handleGenerateParallelFromBank(_0x340ed1)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x517430[_0x2bc012(0x379)]('.quiz-bank-present-btn')[_0x2bc012(0x8ca)](_0x212a9e=>{const _0x3dc424=_0x2bc012;_0x212a9e[_0x3dc424(0x38a)]('click',_0x312b9f=>{const _0x839394=_0x3dc424;_0x312b9f[_0x839394(0x28a)]();const _0x5109fb=_0x212a9e[_0x839394(0x8eb)]['id'],_0x5ee229=allQuizzesGlobal[_0x839394(0x653)](_0x510746=>_0x510746['id']===_0x5109fb);_0x5ee229?(document[_0x839394(0x8c8)](_0x839394(0x36e))[_0x839394(0x65e)]['add'](_0x839394(0x3a5)),startPresentation(_0x5ee229)):showMessage(_0x839394(0x7b8));});}),_0x517430['querySelectorAll'](_0x2bc012(0x7ac))[_0x2bc012(0x8ca)](_0x965183=>{const _0x5e28a0=_0x2bc012;_0x965183[_0x5e28a0(0x38a)]('click',_0x56847f=>{const _0x22628c=_0x5e28a0;_0x56847f['stopPropagation']();const _0x1537f8=_0x965183[_0x22628c(0x8eb)]['id'];document['getElementById'](_0x22628c(0x36e))[_0x22628c(0x65e)][_0x22628c(0x43c)](_0x22628c(0x3a5)),handleMoveQuiz(_0x1537f8);});}),_0x517430[_0x2bc012(0x379)](_0x2bc012(0x385))['forEach'](_0x4743bb=>{const _0x291db5=_0x2bc012;_0x4743bb[_0x291db5(0x38a)](_0x291db5(0x49b),_0x34e803=>{const _0x3936c3=_0x291db5;_0x34e803[_0x3936c3(0x28a)]();const _0x596b35=_0x4743bb[_0x3936c3(0x8eb)]['id'];document[_0x3936c3(0x8c8)]('quiz-bank-modal')['classList'][_0x3936c3(0x43c)](_0x3936c3(0x3a5)),handleQuizSettings(_0x596b35);});}),_0x517430[_0x2bc012(0x379)](_0x2bc012(0x655))[_0x2bc012(0x8ca)](_0x5641d4=>{const _0x1b425c=_0x2bc012;_0x5641d4[_0x1b425c(0x38a)](_0x1b425c(0x49b),_0x5a25d5=>{const _0x424415=_0x1b425c;_0x5a25d5[_0x424415(0x28a)]();const _0x57e492=_0x5641d4[_0x424415(0x8eb)]['id'],_0x281b08=_0x5641d4[_0x424415(0x8eb)][_0x424415(0x881)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x281b08+_0x424415(0x88c),()=>handleDeleteQuiz(_0x57e492));});});}async function handleCompareResults(_0x362b0b,_0x1d033c){const _0x5ecf31=_0x555faf,_0x2ec7db=document[_0x5ecf31(0x8c8)](_0x5ecf31(0x60e)),_0x480602=document['getElementById'](_0x5ecf31(0x6ea)),_0x5a59ff=document['getElementById'](_0x5ecf31(0x5a9));document[_0x5ecf31(0x8c8)]('comparison-overall-tab')['classList'][_0x5ecf31(0x43c)](_0x5ecf31(0x736)),document[_0x5ecf31(0x8c8)](_0x5ecf31(0x5b5))['classList'][_0x5ecf31(0x3bf)](_0x5ecf31(0x736)),_0x480602[_0x5ecf31(0x65e)]['remove'](_0x5ecf31(0x3a5)),_0x5a59ff[_0x5ecf31(0x65e)][_0x5ecf31(0x43c)](_0x5ecf31(0x3a5)),_0x480602[_0x5ecf31(0x8d2)]=_0x5ecf31(0x99a),_0x5a59ff[_0x5ecf31(0x8d2)]='',_0x2ec7db['classList'][_0x5ecf31(0x3bf)](_0x5ecf31(0x3a5));try{const _0x189bcb=doc(db,_0x5ecf31(0x81a)+appId+'/public/data/quizzes',_0x362b0b),_0xf83ec2=await getDoc(_0x189bcb);if(!_0xf83ec2[_0x5ecf31(0x28d)]())throw new Error(_0x5ecf31(0x69e));const _0x32bce9=_0xf83ec2[_0x5ecf31(0x56d)](),_0x2ec6b5=_0x32bce9[_0x5ecf31(0x96e)]['length'],_0x471436=collection(db,_0x5ecf31(0x81a)+appId+'/public/data/quizzes/'+_0x1d033c+_0x5ecf31(0x647)),_0x125a28=collection(db,_0x5ecf31(0x81a)+appId+_0x5ecf31(0x664)+_0x362b0b+_0x5ecf31(0x647)),[_0x53aa1a,_0x3e73a2]=await Promise['all']([getDocs(_0x471436),getDocs(_0x125a28)]),_0x2d6ed3=_0x53aa1a[_0x5ecf31(0x755)][_0x5ecf31(0x16a)](_0xbd2b86=>_0xbd2b86[_0x5ecf31(0x56d)]()),_0x4548f1=_0x3e73a2['docs']['map'](_0x4072d4=>_0x4072d4[_0x5ecf31(0x56d)]()),_0xe247e5=_0x2d6ed3[_0x5ecf31(0x16a)](_0x50cbd4=>_0x50cbd4[_0x5ecf31(0x289)]),_0x5f5034=_0x4548f1['map'](_0x50159f=>_0x50159f[_0x5ecf31(0x289)]),_0x205b4a=calculateMeanAndStdDev(_0xe247e5),_0x57dbc7=calculateMeanAndStdDev(_0x5f5034),_0x3f374a=_0x205b4a[_0x5ecf31(0x7a0)],_0x5f2e6f=_0x57dbc7[_0x5ecf31(0x7a0)],_0x4e5793=_0x5f2e6f-_0x3f374a;let _0x83d4be=_0x5ecf31(0x2c5)+_0x3f374a[_0x5ecf31(0x6d3)](0x2)+_0x5ecf31(0x3b3)+_0x5f2e6f[_0x5ecf31(0x6d3)](0x2)+_0x5ecf31(0x860)+(_0x4e5793>=0x0?_0x5ecf31(0x7c5):_0x5ecf31(0x3ad))+_0x5ecf31(0x15e)+(_0x4e5793>=0x0?_0x5ecf31(0x2a7):'text-red-800')+_0x5ecf31(0x22c)+(_0x4e5793>=0x0?_0x5ecf31(0x96d):_0x5ecf31(0x1dc))+'\x22>'+(_0x4e5793>=0x0?'+':'')+_0x4e5793['toFixed'](0x2)+_0x5ecf31(0x904);_0x480602[_0x5ecf31(0x8d2)]=_0x83d4be;const _0x28ff6e=document['getElementById'](_0x5ecf31(0x22b))[_0x5ecf31(0x17f)]('2d');if(chartInstances[_0x5ecf31(0x222)])chartInstances[_0x5ecf31(0x222)]['destroy']();chartInstances[_0x5ecf31(0x222)]=new Chart(_0x28ff6e,{'type':_0x5ecf31(0x29f),'data':{'labels':[_0x5ecf31(0x5b8)],'datasets':[{'label':_0x5ecf31(0x934),'data':[_0x3f374a],'backgroundColor':_0x5ecf31(0x4f2)},{'label':_0x5ecf31(0x32e),'data':[_0x5f2e6f],'backgroundColor':_0x5ecf31(0x4eb)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x2ec6b5}}}});const _0xfacdd=currentProjectData['students']||[],_0x181cbc=_0xfacdd[_0x5ecf31(0x16a)](_0x59b939=>{const _0x4cb37c=_0x5ecf31,_0x442302=_0x2d6ed3[_0x4cb37c(0x653)](_0x22a1fc=>_0x22a1fc[_0x4cb37c(0x28b)]===_0x59b939),_0xbd8054=_0x4548f1[_0x4cb37c(0x653)](_0x291c2e=>_0x291c2e[_0x4cb37c(0x28b)]===_0x59b939),_0x4313f6=_0x442302?_0x442302[_0x4cb37c(0x289)]:null,_0x3f2eb0=_0xbd8054?_0xbd8054[_0x4cb37c(0x289)]:null,_0x33389c=_0x4313f6!==null&&_0x3f2eb0!==null?_0x3f2eb0-_0x4313f6:null,_0x46b846=_0x4313f6!==null?calculateZScore(_0x4313f6,_0x205b4a['mean'],_0x205b4a[_0x4cb37c(0x16e)]):null,_0x48263d=_0x3f2eb0!==null?calculateZScore(_0x3f2eb0,_0x57dbc7[_0x4cb37c(0x7a0)],_0x57dbc7[_0x4cb37c(0x16e)]):null,_0x5aa912=_0x46b846!==null?calculateTScore(_0x46b846):null,_0x84d70b=_0x48263d!==null?calculateTScore(_0x48263d):null,_0x9b303a=_0x5aa912!==null&&_0x84d70b!==null?_0x84d70b-_0x5aa912:null;return{'name':_0x59b939,'preScore':_0x4313f6,'postScore':_0x3f2eb0,'gain':_0x33389c,'preTScore':_0x5aa912,'postTScore':_0x84d70b,'tGain':_0x9b303a};});renderIndividualComparisonTable(_0x181cbc,_0x5a59ff);}catch(_0x550a30){console[_0x5ecf31(0x241)](_0x5ecf31(0x79d),_0x550a30),_0x480602[_0x5ecf31(0x8d2)]=_0x5ecf31(0x452);}}function displayHalfMarkResult(_0x5be396,_0x157581){const _0x1b0b61=_0x555faf,_0x59a402=_0x5be396>=_0x157581/0x2,_0x1b7b45=_0x59a402?'bg-green-100':_0x1b0b61(0x3ad),_0x54fe87=_0x59a402?_0x1b0b61(0x72c):_0x1b0b61(0x9f1),_0x5a9271=_0x59a402?'text-green-800':_0x1b0b61(0x923),_0x48d9e9=_0x59a402?'ทำคะแนนได้เกินครึ่ง':_0x1b0b61(0x344),_0x53c3d1=_0x59a402?_0x1b0b61(0x547):_0x1b0b61(0x83f);let _0x6319d7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x1b7b45+_0x1b0b61(0x9f2)+_0x54fe87+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x5a9271+'\x20mb-2\x22>'+_0x48d9e9+_0x1b0b61(0x880)+_0x53c3d1+_0x1b0b61(0x2e0);studentResultArea['innerHTML']=_0x6319d7,studentResultArea['classList'][_0x1b0b61(0x3bf)](_0x1b0b61(0x3a5)),studentQuizArea['classList'][_0x1b0b61(0x43c)](_0x1b0b61(0x3a5)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x59a402});}function displayPerfectScoreResult(_0x514993,_0x390c2f){const _0x4dc170=_0x555faf,_0x1972f3=_0x514993===_0x390c2f,_0x5eb86b=_0x1972f3?_0x4dc170(0x508):_0x4dc170(0x264),_0xa86456=_0x1972f3?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x4dc170(0x6b9),_0x17db89=_0x1972f3?_0x4dc170(0x4f6):'text-blue-800',_0x3106c3=_0x1972f3?_0x4dc170(0x98d):_0x4dc170(0x280),_0x45de2b=_0x1972f3?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x4dc170(0x99c);let _0x1e34f7=_0x4dc170(0x336)+_0x5eb86b+_0x4dc170(0x9f2)+_0xa86456+_0x4dc170(0x2b9)+_0x17db89+'\x20mb-2\x22>'+_0x3106c3+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x45de2b+_0x4dc170(0x2e0);studentResultArea['innerHTML']=_0x1e34f7,studentResultArea['classList']['remove'](_0x4dc170(0x3a5)),studentQuizArea['classList'][_0x4dc170(0x43c)](_0x4dc170(0x3a5)),setupResultScreenBackButton({'showRankings':![],'score':_0x514993,'totalQuestions':_0x390c2f});}function renderIndividualComparisonTable(_0xa31677,_0x883390){const _0x5bc252=_0x555faf;_0xa31677['sort']((_0x4f98ff,_0x5681fe)=>(_0x5681fe[_0x5bc252(0x90b)]??-Infinity)-(_0x4f98ff[_0x5bc252(0x90b)]??-Infinity));let _0x2d2eca='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0xa31677[_0x5bc252(0x8c9)]===0x0?_0x2d2eca+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0xa31677['forEach']((_0x35c315,_0x1b5469)=>{const _0x16ade1=_0x5bc252;let _0x5c2274='-',_0x596ab5='';if(_0x35c315[_0x16ade1(0x762)]!==null){const _0xc4c807=_0x35c315[_0x16ade1(0x762)]>0x0?_0x16ade1(0x679):_0x35c315[_0x16ade1(0x762)]<0x0?_0x16ade1(0x1d4):_0x16ade1(0x671),_0x5cb93b=_0x35c315[_0x16ade1(0x762)]>0x0?'+':'';_0x5c2274=_0x16ade1(0x4c5)+_0xc4c807+'\x22>'+_0x5cb93b+_0x35c315['gain']+_0x16ade1(0x51c);if(_0x35c315[_0x16ade1(0x762)]>0x0)_0x596ab5=_0x16ade1(0x3a9);else _0x35c315[_0x16ade1(0x762)]<0x0?_0x596ab5='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x596ab5=_0x16ade1(0x8f6);}let _0x101664='-';if(_0x35c315['tGain']!==null){const _0x379f09=_0x35c315[_0x16ade1(0x90b)]>0x0?_0x16ade1(0x679):_0x35c315[_0x16ade1(0x90b)]<0x0?_0x16ade1(0x1d4):'text-gray-500',_0x3d34ec=_0x35c315[_0x16ade1(0x90b)]>0x0?'+':'';_0x101664=_0x16ade1(0x4c5)+_0x379f09+'\x22>'+_0x3d34ec+_0x35c315['tGain'][_0x16ade1(0x6d3)](0x2)+'</span>';}_0x2d2eca+=_0x16ade1(0x294)+(_0x1b5469+0x1)+_0x16ade1(0x53d)+_0x35c315[_0x16ade1(0x3df)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x35c315[_0x16ade1(0x684)]??'-')+_0x16ade1(0x600)+(_0x35c315[_0x16ade1(0x976)]??'-')+_0x16ade1(0x7fa)+_0x5c2274+_0x16ade1(0x25e)+_0x596ab5+_0x16ade1(0x4ec)+(_0x35c315['preTScore']?.['toFixed'](0x2)??'-')+_0x16ade1(0x52c)+(_0x35c315[_0x16ade1(0x900)]?.[_0x16ade1(0x6d3)](0x2)??'-')+_0x16ade1(0x7fa)+_0x101664+_0x16ade1(0x4c6);}),_0x2d2eca+=_0x5bc252(0x41f),_0x883390['innerHTML']=_0x2d2eca;}function handleRenameQuiz(_0x24be2d,_0x3938b3){const _0x104ef8=_0x555faf;actionTargetId=_0x24be2d,document['getElementById'](_0x104ef8(0x432))['value']=_0x3938b3,renameQuizModal[_0x104ef8(0x65e)][_0x104ef8(0x3bf)](_0x104ef8(0x3a5));}function setupComparisonModalTabs(){const _0x39bd4a=_0x555faf,_0x10e81f=document[_0x39bd4a(0x8c8)](_0x39bd4a(0x61a)),_0x3ccc8a=document[_0x39bd4a(0x8c8)]('comparison-individual-tab'),_0x496127=document[_0x39bd4a(0x8c8)](_0x39bd4a(0x6ea)),_0x396f7c=document[_0x39bd4a(0x8c8)](_0x39bd4a(0x5a9));_0x10e81f['addEventListener'](_0x39bd4a(0x49b),()=>{const _0x2c3fc4=_0x39bd4a;_0x10e81f[_0x2c3fc4(0x65e)][_0x2c3fc4(0x43c)](_0x2c3fc4(0x736)),_0x3ccc8a[_0x2c3fc4(0x65e)][_0x2c3fc4(0x3bf)](_0x2c3fc4(0x736)),_0x496127[_0x2c3fc4(0x65e)][_0x2c3fc4(0x3bf)](_0x2c3fc4(0x3a5)),_0x396f7c[_0x2c3fc4(0x65e)][_0x2c3fc4(0x43c)]('hidden');}),_0x3ccc8a[_0x39bd4a(0x38a)](_0x39bd4a(0x49b),()=>{const _0x190c99=_0x39bd4a;_0x3ccc8a['classList']['add'](_0x190c99(0x736)),_0x10e81f[_0x190c99(0x65e)]['remove'](_0x190c99(0x736)),_0x396f7c[_0x190c99(0x65e)]['remove'](_0x190c99(0x3a5)),_0x496127[_0x190c99(0x65e)][_0x190c99(0x43c)](_0x190c99(0x3a5));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x50bd8e=''){const _0x20dce9=_0x555faf,_0xee91c2=document[_0x20dce9(0x8c8)]('global-quiz-list'),_0x375ab3=_0x50bd8e[_0x20dce9(0x9b7)]()[_0x20dce9(0x588)](),_0x597491=allQuizzesGlobal[_0x20dce9(0x16a)](_0x1879dc=>({..._0x1879dc,'projectName':allProjects[_0x20dce9(0x653)](_0x23570f=>_0x23570f['id']===_0x1879dc[_0x20dce9(0x8bf)])?.[_0x20dce9(0x6f6)]||_0x1879dc[_0x20dce9(0x8bf)]}))[_0x20dce9(0x858)](_0x5323ec=>(_0x5323ec[_0x20dce9(0x881)]||'')[_0x20dce9(0x9b7)]()[_0x20dce9(0xf5)](_0x375ab3)||(_0x5323ec[_0x20dce9(0x6f6)]||'')[_0x20dce9(0x9b7)]()[_0x20dce9(0xf5)](_0x375ab3));document[_0x20dce9(0x8c8)](_0x20dce9(0x636))['textContent']='('+_0x597491[_0x20dce9(0x8c9)]+_0x20dce9(0x319),_0xee91c2['innerHTML']=_0x597491[_0x20dce9(0x8c9)]?_0x597491['map'](_0x327c84=>_0x20dce9(0x1b4)+_0x327c84['id']+_0x20dce9(0x592)+(_0x327c84[_0x20dce9(0x881)]||'(ไม่มีชื่อ)')+_0x20dce9(0x170)+(_0x327c84['questions']?.[_0x20dce9(0x8c9)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x327c84['projectName']+_0x20dce9(0x2a8))['join'](''):_0x20dce9(0x809),selectedGlobalQuizId=null,document[_0x20dce9(0x8c8)]('confirm-global-live-btn')[_0x20dce9(0x915)]=!![],_0xee91c2['querySelectorAll'](_0x20dce9(0x12e))[_0x20dce9(0x8ca)](_0x3b9bcb=>{const _0x4af8c3=_0x20dce9;_0x3b9bcb[_0x4af8c3(0x38a)](_0x4af8c3(0x49b),()=>{const _0x251b01=_0x4af8c3;selectedGlobalQuizId=_0x3b9bcb[_0x251b01(0x8eb)]['id'],_0xee91c2[_0x251b01(0x379)]('button')[_0x251b01(0x8ca)](_0x97dae4=>_0x97dae4[_0x251b01(0x65e)][_0x251b01(0x3bf)](_0x251b01(0x26a),'ring-2',_0x251b01(0x261))),_0x3b9bcb['classList'][_0x251b01(0x43c)]('bg-purple-50',_0x251b01(0x110),_0x251b01(0x261)),document[_0x251b01(0x8c8)]('confirm-global-live-btn')[_0x251b01(0x915)]=![];});});}function listenForLiveGameUpdates(){const _0xd13d81=_0x555faf;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x30ab0c=doc(db,_0xd13d81(0x81a)+appId+_0xd13d81(0x5b7),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x30ab0c,_0x85e8b2=>{const _0x1fa511=_0xd13d81;if(!_0x85e8b2[_0x1fa511(0x28d)]()){showMessage(_0x1fa511(0x744)),showView(currentMode);return;}const _0x2d3352=_0x85e8b2[_0x1fa511(0x56d)]();_0x2d3352[_0x1fa511(0x794)]&&(currentQuizData=_0x2d3352[_0x1fa511(0x794)]);!currentQuizData&&_0x2d3352[_0x1fa511(0x128)]&&((async()=>{const _0x32f83c=_0x1fa511;try{const _0x2b325a=doc(db,_0x32f83c(0x81a)+appId+_0x32f83c(0x235),_0x2d3352[_0x32f83c(0x128)]),_0x1ff417=await getDoc(_0x2b325a);_0x1ff417[_0x32f83c(0x28d)]()&&(currentQuizData={'id':_0x1ff417['id'],..._0x1ff417[_0x32f83c(0x56d)]()});}catch(_0x2fbfbd){console['error'](_0x32f83c(0x88a),_0x2fbfbd);}})());switch(_0x2d3352[_0x1fa511(0x1d7)]){case _0x1fa511(0x7d2):if(currentMode===_0x1fa511(0x457)){const _0x5d0caa=_0x2d3352[_0x1fa511(0x79e)]?Object[_0x1fa511(0x9e9)](_0x2d3352[_0x1fa511(0x79e)]):[],_0xf1c79f=_0x5d0caa[_0x1fa511(0x858)](([_0x564b45,_0x1eefcb])=>_0x1eefcb['status']===_0x1fa511(0x736)),_0x173a65=document['getElementById'](_0x1fa511(0x274));if(_0x173a65)_0x173a65[_0x1fa511(0x29c)]=_0xf1c79f['length'];const _0x1cff3c=document[_0x1fa511(0x8c8)](_0x1fa511(0x5cb));_0x1cff3c&&(_0x1cff3c[_0x1fa511(0x8d2)]=_0xf1c79f[_0x1fa511(0x16a)](([_0x458c0e,_0x4feee6])=>_0x1fa511(0x386)+_0x458c0e+_0x1fa511(0x89c)+_0x458c0e+_0x1fa511(0x6a5))[_0x1fa511(0x71e)](''));const _0x4eeef2=document['getElementById']('start-game-btn');_0x4eeef2&&(_0x4eeef2['disabled']=_0xf1c79f[_0x1fa511(0x8c9)]===0x0);}else showView('live-game'),liveGameView[_0x1fa511(0x8d2)]=_0x1fa511(0x5ea)+currentStudentName+_0x1fa511(0x897);break;case _0x1fa511(0x2f4):const _0x2e6db5=_0x2d3352[_0x1fa511(0x75f)];if(currentQuizData&&currentQuizData[_0x1fa511(0x96e)][_0x2e6db5]){const _0x282c27=currentQuizData[_0x1fa511(0x96e)][_0x2e6db5],_0x3a3610=_0x2d3352[_0x1fa511(0x286)]||'answering';switch(_0x3a3610){case'summary_chart':currentMode===_0x1fa511(0x457)?showAdminSummaryView(_0x2d3352,_0x282c27):showPlayerSummaryView(_0x2d3352,currentStudentName);break;case'leaderboard':currentMode===_0x1fa511(0x457)&&showTop5LeaderboardView(_0x2d3352);break;case _0x1fa511(0x569):default:if(currentMode===_0x1fa511(0x457)){const _0x1c5b20=writeBatch(db);let _0x106326=![];Object['entries'](_0x2d3352[_0x1fa511(0x79e)])['forEach'](([_0x718388,_0x49e77b])=>{const _0x1866ea=_0x1fa511;if(_0x49e77b['status']===_0x1866ea(0x736)&&_0x49e77b[_0x1866ea(0x94b)]&&!_0x49e77b[_0x1866ea(0x5cf)]){_0x106326=!![];const _0x353539=_0x49e77b['submittedAt'][_0x1866ea(0x80a)]()-_0x2d3352[_0x1866ea(0x333)]['toDate']();let _0x3351f7=0x0;if(_0x49e77b['lastAnswerCorrect']){const _0x14b962=0x3e8,_0x15242f=0x1f4,_0x105a44=0x4e20;let _0x1dab0e=_0x353539/_0x105a44;if(_0x1dab0e>0x1)_0x1dab0e=0x1;const _0xc6b032=Math['round'](_0x1dab0e*_0x15242f);_0x3351f7=_0x14b962-_0xc6b032;}const _0xe06a7b=doc(db,'artifacts/'+appId+_0x1866ea(0x5b7),currentLiveGameId);_0x1c5b20[_0x1866ea(0x4cb)](_0xe06a7b,{[_0x1866ea(0x3bd)+_0x718388+'.score']:increment(_0x3351f7),['players.'+_0x718388+'.pointsLastQuestion']:_0x3351f7,['players.'+_0x718388+'.isScored']:!![]});}});_0x106326&&_0x1c5b20[_0x1fa511(0x519)]()['catch'](_0x40bf14=>console[_0x1fa511(0x241)]('Error\x20committing\x20score\x20updates:',_0x40bf14));lastRenderedAdminQuestionIndex!==_0x2e6db5&&(showAdminLiveQuestionView(_0x282c27,_0x2e6db5,currentQuizData[_0x1fa511(0x96e)][_0x1fa511(0x8c9)]),lastRenderedAdminQuestionIndex=_0x2e6db5);const _0x1c2a4d=_0x2d3352[_0x1fa511(0x79e)]||{},_0x224725=Object['values'](_0x1c2a4d)['filter'](_0x3bceff=>_0x3bceff[_0x1fa511(0x1d7)]===_0x1fa511(0x736)),_0x4252fa=_0x224725[_0x1fa511(0x8c9)],_0x395fcb=_0x224725['filter'](_0x3a8fe0=>_0x3a8fe0['answeredCurrentQuestion']===!![])[_0x1fa511(0x8c9)],_0x2f80d1=document[_0x1fa511(0x8c8)](_0x1fa511(0x7fd));if(_0x2f80d1)_0x2f80d1['textContent']=_0x395fcb+'/'+_0x4252fa;const _0x11f92b=document[_0x1fa511(0x8c8)](_0x1fa511(0x735));if(_0x11f92b){let _0x4931c8=Object[_0x1fa511(0x9e9)](_0x1c2a4d)[_0x1fa511(0x858)](([_0x6c1df7,_0x26457d])=>_0x26457d[_0x1fa511(0x1d7)]===_0x1fa511(0x736))[_0x1fa511(0x16a)](([_0x5cfe13,_0x557869])=>{const _0x7061e4=_0x1fa511,_0x5e65a9=_0x557869[_0x7061e4(0x149)]===!![],_0x440b71=_0x5e65a9?_0x7061e4(0x199):_0x7061e4(0x767),_0x3024b4=_0x5e65a9?_0x7061e4(0x619):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x440b71+_0x7061e4(0x22d)+_0x3024b4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5cfe13+_0x7061e4(0x19b)+_0x5cfe13+_0x7061e4(0x932);})[_0x1fa511(0x71e)]('');_0x11f92b[_0x1fa511(0x8d2)]=_0x4931c8||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x4252fa>0x0&&_0x395fcb===_0x4252fa&&revealAnswerForAdmin(_0x2e6db5,currentQuizData[_0x1fa511(0x96e)][_0x1fa511(0x8c9)]);}else{const _0xed0a40=_0x2d3352['players'][currentStudentName];_0xed0a40&&!_0xed0a40[_0x1fa511(0x149)]&&showStudentLiveQuestionView(_0x282c27,_0x2e6db5,currentQuizData['questions'][_0x1fa511(0x8c9)]);}break;}}break;case _0x1fa511(0x7bf):showPodiumView(_0x2d3352[_0x1fa511(0x79e)]);break;}});}async function handleKickPlayer(_0x3be69a){const _0x55d1f3=_0x555faf;if(!currentLiveGameId||!_0x3be69a)return;const _0x12156e=doc(db,_0x55d1f3(0x81a)+appId+_0x55d1f3(0x5b7),currentLiveGameId),_0xf8207={};_0xf8207[_0x55d1f3(0x3bd)+_0x3be69a+'.status']=_0x55d1f3(0x779);try{await updateDoc(_0x12156e,_0xf8207);}catch(_0x273828){console[_0x55d1f3(0x241)](_0x55d1f3(0x9c3)+_0x3be69a+':',_0x273828),showMessage(_0x55d1f3(0x255));}}async function authenticateUser(){const _0x1286e8=_0x555faf;try{typeof __initial_auth_token!==_0x1286e8(0x6f1)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x4b5282){console[_0x1286e8(0x241)](_0x1286e8(0x9c6),_0x4b5282),showMessage(_0x1286e8(0x8fe));}}function showView(_0x5de8b4){const _0x1d3b23=_0x555faf;adminView[_0x1d3b23(0x65e)]['add'](_0x1d3b23(0x3a5)),studentView[_0x1d3b23(0x65e)][_0x1d3b23(0x43c)](_0x1d3b23(0x3a5)),projectDashboardView[_0x1d3b23(0x65e)][_0x1d3b23(0x43c)](_0x1d3b23(0x3a5)),projectDetailView[_0x1d3b23(0x65e)][_0x1d3b23(0x43c)](_0x1d3b23(0x3a5)),quizResultsView[_0x1d3b23(0x65e)]['add'](_0x1d3b23(0x3a5)),liveGameView[_0x1d3b23(0x65e)]['add']('hidden'),studentInitialView[_0x1d3b23(0x65e)][_0x1d3b23(0x43c)]('hidden'),studentJoinGameView[_0x1d3b23(0x65e)][_0x1d3b23(0x43c)](_0x1d3b23(0x3a5)),studentNameSelectionView['classList'][_0x1d3b23(0x43c)](_0x1d3b23(0x3a5)),studentQuizArea[_0x1d3b23(0x65e)][_0x1d3b23(0x43c)]('hidden'),studentResultArea[_0x1d3b23(0x65e)][_0x1d3b23(0x43c)](_0x1d3b23(0x3a5)),studentReadingArea['classList'][_0x1d3b23(0x43c)](_0x1d3b23(0x3a5));const _0x39679a=document['getElementById'](_0x1d3b23(0x14d)),_0x48c4d4=document['getElementById'](_0x1d3b23(0x8fc));if(_0x39679a)_0x39679a[_0x1d3b23(0x65e)]['add'](_0x1d3b23(0x3a5));if(_0x48c4d4)_0x48c4d4['classList'][_0x1d3b23(0x43c)]('hidden');switch(_0x5de8b4){case'admin-dashboard':adminView[_0x1d3b23(0x65e)][_0x1d3b23(0x3bf)](_0x1d3b23(0x3a5)),projectDashboardView['classList']['remove'](_0x1d3b23(0x3a5));break;case _0x1d3b23(0x211):adminView[_0x1d3b23(0x65e)]['remove'](_0x1d3b23(0x3a5)),projectDetailView['classList'][_0x1d3b23(0x3bf)](_0x1d3b23(0x3a5));break;case _0x1d3b23(0x140):adminView[_0x1d3b23(0x65e)][_0x1d3b23(0x3bf)]('hidden'),quizResultsView[_0x1d3b23(0x65e)]['remove'](_0x1d3b23(0x3a5));break;case _0x1d3b23(0x8cd):studentView[_0x1d3b23(0x65e)][_0x1d3b23(0x3bf)](_0x1d3b23(0x3a5)),studentInitialView[_0x1d3b23(0x65e)]['remove']('hidden');break;case'live-game':liveGameView[_0x1d3b23(0x65e)][_0x1d3b23(0x3bf)](_0x1d3b23(0x3a5));break;case'student-team-join':studentView[_0x1d3b23(0x65e)][_0x1d3b23(0x3bf)](_0x1d3b23(0x3a5));if(_0x39679a)_0x39679a['classList'][_0x1d3b23(0x3bf)]('hidden');break;case'student-progress':studentView[_0x1d3b23(0x65e)][_0x1d3b23(0x3bf)](_0x1d3b23(0x3a5));if(_0x48c4d4)_0x48c4d4[_0x1d3b23(0x65e)][_0x1d3b23(0x3bf)](_0x1d3b23(0x3a5));break;default:studentView[_0x1d3b23(0x65e)][_0x1d3b23(0x3bf)](_0x1d3b23(0x3a5)),studentInitialView[_0x1d3b23(0x65e)][_0x1d3b23(0x3bf)](_0x1d3b23(0x3a5));break;}}function showJoinGameView(){const _0x3de547=_0x555faf;studentInitialView['classList']['add'](_0x3de547(0x3a5)),studentJoinGameView[_0x3de547(0x65e)]['remove'](_0x3de547(0x3a5));}async function handleSaveVisibilitySettings(){const _0x1cb4a9=_0x555faf;if(!currentProjectId)return;const _0x2d36a5=doc(db,'artifacts/'+appId+_0x1cb4a9(0x2fe),currentProjectId);try{await updateDoc(_0x2d36a5,{'settings.showInStudentDashboard':document['getElementById'](_0x1cb4a9(0x210))[_0x1cb4a9(0x593)],'settings.isPasscodeEnabled':document[_0x1cb4a9(0x8c8)](_0x1cb4a9(0x466))[_0x1cb4a9(0x593)],'settings.passcode':document[_0x1cb4a9(0x8c8)](_0x1cb4a9(0x810))[_0x1cb4a9(0x22a)][_0x1cb4a9(0x588)]()}),showMessage(_0x1cb4a9(0x9d5));}catch(_0x540191){console[_0x1cb4a9(0x241)](_0x1cb4a9(0x675),_0x540191),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x528e74=_0x555faf,_0x4e13e3=document[_0x528e74(0x8c8)](_0x528e74(0x157)),_0x245924=document[_0x528e74(0x8c8)]('cancel-game-start-btn');_0x245924[_0x528e74(0x38a)]('click',()=>{const _0x14ea63=_0x528e74;document[_0x14ea63(0x8c8)](_0x14ea63(0x37a))[_0x14ea63(0x65e)][_0x14ea63(0x43c)](_0x14ea63(0x3a5));}),_0x4e13e3[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x36b16f=_0x528e74,_0x1e3c5f=document[_0x36b16f(0x8c8)](_0x36b16f(0x821))['value'],_0x5c8918=document[_0x36b16f(0x8c8)](_0x36b16f(0x97b))[_0x36b16f(0x22a)],_0x375a6b=document[_0x36b16f(0x8c8)](_0x36b16f(0x6bf))[_0x36b16f(0x593)];document['getElementById'](_0x36b16f(0x37a))['classList'][_0x36b16f(0x43c)]('hidden');switch(_0x5c8918){case _0x36b16f(0x811):handleStartLiveRace(_0x1e3c5f,_0x375a6b);break;case _0x36b16f(0x347):handleStartTeamQuiz(_0x1e3c5f,_0x375a6b);break;case _0x36b16f(0x9c1):handleStartGroupMode(_0x1e3c5f,_0x375a6b);break;case _0x36b16f(0x4e3):handleStartSyncMode(_0x1e3c5f,_0x375a6b);break;}}),document[_0x528e74(0x8c8)](_0x528e74(0x1e1))[_0x528e74(0x38a)](_0x528e74(0x49b),handleJoinGroupActivity);const _0x11303e=document['getElementById'](_0x528e74(0x410));_0x11303e[_0x528e74(0x38a)]('click',_0x5c9992=>{const _0x5a41c0=_0x528e74,_0xcfcb86=_0x5c9992[_0x5a41c0(0x3ca)][_0x5a41c0(0x5d5)](_0x5a41c0(0x47e));document[_0x5a41c0(0x379)]('.live-summary-tooltip.visible')[_0x5a41c0(0x8ca)](_0x48af7a=>{const _0x172c03=_0x5a41c0;(!_0xcfcb86||_0x48af7a['id']!==_0xcfcb86[_0x172c03(0x8eb)][_0x172c03(0xfb)])&&_0x48af7a[_0x172c03(0x65e)][_0x172c03(0x3bf)]('visible');});if(!_0xcfcb86)return;const _0x556d62=_0xcfcb86['dataset'][_0x5a41c0(0xfb)],_0x184d3b=document[_0x5a41c0(0x8c8)](_0x556d62);_0x184d3b&&_0x184d3b[_0x5a41c0(0x65e)][_0x5a41c0(0x491)](_0x5a41c0(0x607));}),_0x11303e[_0x528e74(0x38a)]('click',_0x5c07c3=>{const _0x2e688e=_0x528e74;if(_0x5c07c3[_0x2e688e(0x3ca)][_0x2e688e(0x65e)][_0x2e688e(0x2d3)](_0x2e688e(0x906))){const _0x5676ec=_0x5c07c3['target'][_0x2e688e(0x8eb)][_0x2e688e(0x45d)];_0x5676ec&&handleKickPlayer(_0x5676ec);}}),document[_0x528e74(0x8c8)](_0x528e74(0x201))[_0x528e74(0x38a)](_0x528e74(0x7bb),()=>document[_0x528e74(0x8c8)](_0x528e74(0x348))[_0x528e74(0x65e)][_0x528e74(0x3bf)](_0x528e74(0x3a5))),document[_0x528e74(0x8c8)](_0x528e74(0x348))[_0x528e74(0x38a)](_0x528e74(0x49b),handleSaveProjectName),document[_0x528e74(0x8c8)](_0x528e74(0x201))[_0x528e74(0x38a)](_0x528e74(0x10a),_0x19fd2c=>{const _0x8571ee=_0x528e74;_0x19fd2c[_0x8571ee(0x88d)]===_0x8571ee(0x389)&&(_0x19fd2c[_0x8571ee(0x28f)](),_0x19fd2c['target'][_0x8571ee(0x9b1)](),handleSaveProjectName());}),document[_0x528e74(0x8c8)](_0x528e74(0x791))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x3c0711=_0x528e74;document[_0x3c0711(0x8c8)](_0x3c0711(0x776))['classList'][_0x3c0711(0x3bf)]('hidden');}),document[_0x528e74(0x8c8)](_0x528e74(0x7cc))['addEventListener'](_0x528e74(0x49b),()=>{const _0x461f88=_0x528e74;document[_0x461f88(0x8c8)](_0x461f88(0x776))[_0x461f88(0x65e)][_0x461f88(0x43c)]('hidden');}),document[_0x528e74(0x8c8)]('confirm-bulk-quiz-settings-btn')[_0x528e74(0x38a)](_0x528e74(0x49b),handleBulkUpdateQuizSettings),document[_0x528e74(0x8c8)](_0x528e74(0x8e9))[_0x528e74(0x38a)](_0x528e74(0x49b),handleModeSwitch),document[_0x528e74(0x8c8)]('update-old-quizzes-btn')[_0x528e74(0x38a)](_0x528e74(0x49b),handleUpdateOldQuizzes),document[_0x528e74(0x8c8)]('reset-project-order-btn')['addEventListener'](_0x528e74(0x49b),handleResetProjectOrder),document[_0x528e74(0x8c8)](_0x528e74(0x571))[_0x528e74(0x38a)](_0x528e74(0x49b),handleSaveVisibilitySettings),document['getElementById'](_0x528e74(0x2d0))[_0x528e74(0x38a)](_0x528e74(0x49b),handleAddCustomMathTopic),document[_0x528e74(0x8c8)](_0x528e74(0x797))[_0x528e74(0x38a)](_0x528e74(0x49b),handleSelectAllTopics),document['getElementById'](_0x528e74(0x3b8))[_0x528e74(0x38a)](_0x528e74(0x49b),handleDeselectAllTopics),document[_0x528e74(0x8c8)](_0x528e74(0x60b))['addEventListener'](_0x528e74(0x49b),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document['getElementById'](_0x528e74(0x829))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x59c266=_0x528e74;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x59c266(0x211));}),document['getElementById'](_0x528e74(0x6c9))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x39b350=_0x528e74;showView(_0x39b350(0x1ee));}),document[_0x528e74(0x8c8)]('modal-close-btn')[_0x528e74(0x38a)]('click',()=>{const _0x1415d5=_0x528e74;messageModal[_0x1415d5(0x65e)][_0x1415d5(0x43c)]('hidden'),typeof modalConfirmAction===_0x1415d5(0x346)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x528e74(0x8c8)](_0x528e74(0x6a9))['addEventListener']('click',()=>createProjectModal['classList'][_0x528e74(0x3bf)](_0x528e74(0x3a5))),document[_0x528e74(0x8c8)](_0x528e74(0x402))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>createProjectModal[_0x528e74(0x65e)][_0x528e74(0x43c)](_0x528e74(0x3a5))),document[_0x528e74(0x8c8)](_0x528e74(0x14b))[_0x528e74(0x38a)]('click',()=>adminPasswordModal[_0x528e74(0x65e)][_0x528e74(0x43c)](_0x528e74(0x3a5))),document[_0x528e74(0x8c8)](_0x528e74(0x116))['addEventListener'](_0x528e74(0x49b),handleAdminLogin),document['getElementById'](_0x528e74(0x40f))[_0x528e74(0x38a)]('keyup',_0x5793bd=>{const _0x466d51=_0x528e74;if(_0x5793bd[_0x466d51(0x88d)]===_0x466d51(0x389))handleAdminLogin();}),document[_0x528e74(0x8c8)](_0x528e74(0x405))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x5c0586=_0x528e74;confirmationModal['classList'][_0x5c0586(0x43c)](_0x5c0586(0x3a5)),confirmAction=null;}),document[_0x528e74(0x8c8)]('confirm-delete-btn')['addEventListener']('click',()=>{confirmAction&&confirmAction(),confirmationModal['classList']['add']('hidden'),confirmAction=null;}),document['getElementById'](_0x528e74(0x7f7))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>renameQuizModal[_0x528e74(0x65e)][_0x528e74(0x43c)](_0x528e74(0x3a5))),document['getElementById'](_0x528e74(0x120))[_0x528e74(0x38a)](_0x528e74(0x49b),confirmRenameQuiz),document[_0x528e74(0x8c8)](_0x528e74(0x47f))[_0x528e74(0x38a)]('click',()=>moveQuizModal['classList'][_0x528e74(0x43c)](_0x528e74(0x3a5))),document[_0x528e74(0x8c8)]('confirm-move-quiz-btn')[_0x528e74(0x38a)](_0x528e74(0x49b),confirmMoveQuiz),document[_0x528e74(0x8c8)]('cancel-quiz-settings-btn')[_0x528e74(0x38a)](_0x528e74(0x49b),()=>quizSettingsModal[_0x528e74(0x65e)][_0x528e74(0x43c)](_0x528e74(0x3a5))),document[_0x528e74(0x8c8)](_0x528e74(0x5d4))[_0x528e74(0x38a)](_0x528e74(0x49b),confirmQuizSettings),document[_0x528e74(0x8c8)](_0x528e74(0x507))['addEventListener'](_0x528e74(0x49b),()=>quizStatusModal[_0x528e74(0x65e)][_0x528e74(0x43c)](_0x528e74(0x3a5))),document[_0x528e74(0x8c8)](_0x528e74(0x43e))[_0x528e74(0x38a)](_0x528e74(0x49b),confirmQuizStatus);const _0x4586c1=document[_0x528e74(0x8c8)](_0x528e74(0x41c));document[_0x528e74(0x8c8)](_0x528e74(0x548))[_0x528e74(0x38a)]('click',()=>{const _0x42e1cf=_0x528e74;_0x4586c1[_0x42e1cf(0x65e)][_0x42e1cf(0x43c)]('hidden');}),document[_0x528e74(0x8c8)](_0x528e74(0x13b))[_0x528e74(0x38a)](_0x528e74(0x49b),async()=>{const _0x4f24d2=_0x528e74,_0x8b8398=allQuizzes[_0x4f24d2(0x653)](_0x4326ee=>_0x4326ee['id']===actionTargetId);_0x8b8398?(currentQuizData=_0x8b8398,exportQuizAsWorksheetPDF()):showMessage(_0x4f24d2(0x7b8)),_0x4586c1[_0x4f24d2(0x65e)][_0x4f24d2(0x43c)](_0x4f24d2(0x3a5));}),document['getElementById']('export-tutor-pdf-btn')[_0x528e74(0x38a)](_0x528e74(0x49b),async()=>{const _0x6168ea=_0x528e74,_0x1f42f3=allQuizzes[_0x6168ea(0x653)](_0x32d9eb=>_0x32d9eb['id']===actionTargetId);_0x1f42f3?(currentQuizData=_0x1f42f3,exportQuizAsTutorPDF()):showMessage(_0x6168ea(0x7b8)),_0x4586c1[_0x6168ea(0x65e)]['add'](_0x6168ea(0x3a5));}),document[_0x528e74(0x8c8)](_0x528e74(0x6e2))['addEventListener'](_0x528e74(0x49b),openGlobalLiveModal),document['getElementById'](_0x528e74(0x362))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x31d10d=_0x528e74;document[_0x31d10d(0x8c8)](_0x31d10d(0x3de))[_0x31d10d(0x65e)][_0x31d10d(0x43c)]('hidden'),selectedGlobalQuizId=null;}),document[_0x528e74(0x8c8)](_0x528e74(0x1d2))[_0x528e74(0x38a)](_0x528e74(0x659),_0xb4083e=>renderGlobalQuizList(_0xb4083e[_0x528e74(0x3ca)]['value'])),document[_0x528e74(0x8c8)]('confirm-global-live-btn')[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x1f5594=_0x528e74,_0x443b55=selectedGlobalQuizId;if(!_0x443b55)return;document[_0x1f5594(0x8c8)](_0x1f5594(0x3de))[_0x1f5594(0x65e)][_0x1f5594(0x43c)]('hidden'),handleStartLiveRace(_0x443b55);}),document[_0x528e74(0x8c8)](_0x528e74(0x86d))[_0x528e74(0x38a)](_0x528e74(0x659),renderProjects),document[_0x528e74(0x8c8)]('project-sort-select')[_0x528e74(0x38a)](_0x528e74(0x7dc),async()=>{const _0x5b8bad=_0x528e74,_0x5f1f1b=document[_0x5b8bad(0x8c8)](_0x5b8bad(0x5f7))[_0x5b8bad(0x22a)],_0x425fe3=doc(db,_0x5b8bad(0x9cc),_0x5b8bad(0x6f9));try{await setDoc(_0x425fe3,{'projectSort':_0x5f1f1b},{'merge':!![]});}catch(_0x5aa191){console['error'](_0x5b8bad(0x7c0),_0x5aa191),showMessage(_0x5b8bad(0x39e));}}),document['getElementById'](_0x528e74(0x8a7))['addEventListener']('input',renderQuizzes),document['getElementById'](_0x528e74(0x91d))['addEventListener']('click',()=>{const _0x598aab=_0x528e74;globalDashboardSettings[_0x598aab(0x738)]='grid',saveUserPreference(_0x598aab(0x738),_0x598aab(0x633)),renderProjects();}),document[_0x528e74(0x8c8)](_0x528e74(0x236))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x42d06f=_0x528e74;globalDashboardSettings[_0x42d06f(0x738)]=_0x42d06f(0x426),saveUserPreference('projectView',_0x42d06f(0x426)),renderProjects();}),manageTab[_0x528e74(0x38a)]('click',()=>switchProjectTab(_0x528e74(0x72f))),resultsTab[_0x528e74(0x38a)](_0x528e74(0x49b),()=>switchProjectTab(_0x528e74(0x87f))),leaderboardTab['addEventListener'](_0x528e74(0x49b),()=>switchProjectTab('leaderboard')),document['getElementById'](_0x528e74(0x79c))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>switchQuizDetailTab(_0x528e74(0x40d))),document[_0x528e74(0x8c8)](_0x528e74(0x2bd))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>switchQuizDetailTab(_0x528e74(0x768))),document[_0x528e74(0x8c8)](_0x528e74(0x777))['addEventListener']('click',()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x528e74(0x8c8)](_0x528e74(0x284))['addEventListener'](_0x528e74(0x49b),()=>switchQuizDetailTab(_0x528e74(0x90e))),document['getElementById'](_0x528e74(0x31a))[_0x528e74(0x38a)](_0x528e74(0x49b),handleAnalyzeClass),generateWorksheetBtn[_0x528e74(0x38a)](_0x528e74(0x49b),generateWorksheet);const _0x2ed89e=document[_0x528e74(0x8c8)](_0x528e74(0x697)),_0x9d7605=document[_0x528e74(0x8c8)]('link-input-area'),_0xc38323=document[_0x528e74(0x8c8)]('blueprint-tab'),_0x539652=document[_0x528e74(0x8c8)](_0x528e74(0x7c9)),_0x116e03=document[_0x528e74(0x8c8)](_0x528e74(0x64f)),_0x489968=document[_0x528e74(0x8c8)](_0x528e74(0x420));topicTab[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x338a27=_0x528e74;topicTab[_0x338a27(0x65e)][_0x338a27(0x43c)](_0x338a27(0x736)),textTab['classList'][_0x338a27(0x3bf)](_0x338a27(0x736)),fileTab['classList']['remove'](_0x338a27(0x736)),worksheetTab['classList'][_0x338a27(0x3bf)](_0x338a27(0x736));if(_0x2ed89e)_0x2ed89e['classList'][_0x338a27(0x3bf)](_0x338a27(0x736));if(_0xc38323)_0xc38323['classList'][_0x338a27(0x3bf)](_0x338a27(0x736));if(_0x116e03)_0x116e03[_0x338a27(0x65e)]['remove'](_0x338a27(0x736));topicInputArea[_0x338a27(0x65e)][_0x338a27(0x3bf)](_0x338a27(0x3a5)),textInputArea[_0x338a27(0x65e)]['add']('hidden'),fileInputArea[_0x338a27(0x65e)][_0x338a27(0x43c)]('hidden'),worksheetInputArea[_0x338a27(0x65e)]['add'](_0x338a27(0x3a5));if(_0x9d7605)_0x9d7605[_0x338a27(0x65e)][_0x338a27(0x43c)]('hidden');if(_0x539652)_0x539652[_0x338a27(0x65e)][_0x338a27(0x43c)]('hidden');if(_0x489968)_0x489968[_0x338a27(0x65e)][_0x338a27(0x43c)](_0x338a27(0x3a5));}),textTab['addEventListener'](_0x528e74(0x49b),()=>{const _0x3ba86c=_0x528e74;textTab[_0x3ba86c(0x65e)][_0x3ba86c(0x43c)](_0x3ba86c(0x736)),topicTab[_0x3ba86c(0x65e)][_0x3ba86c(0x3bf)](_0x3ba86c(0x736)),fileTab['classList'][_0x3ba86c(0x3bf)](_0x3ba86c(0x736)),worksheetTab[_0x3ba86c(0x65e)]['remove']('active');if(_0x2ed89e)_0x2ed89e[_0x3ba86c(0x65e)]['remove'](_0x3ba86c(0x736));if(_0xc38323)_0xc38323['classList'][_0x3ba86c(0x3bf)](_0x3ba86c(0x736));if(_0x116e03)_0x116e03[_0x3ba86c(0x65e)][_0x3ba86c(0x3bf)](_0x3ba86c(0x736));textInputArea['classList'][_0x3ba86c(0x3bf)](_0x3ba86c(0x3a5)),topicInputArea[_0x3ba86c(0x65e)][_0x3ba86c(0x43c)](_0x3ba86c(0x3a5)),fileInputArea['classList'][_0x3ba86c(0x43c)](_0x3ba86c(0x3a5)),worksheetInputArea['classList'][_0x3ba86c(0x43c)](_0x3ba86c(0x3a5));if(_0x9d7605)_0x9d7605[_0x3ba86c(0x65e)][_0x3ba86c(0x43c)](_0x3ba86c(0x3a5));if(_0x539652)_0x539652[_0x3ba86c(0x65e)][_0x3ba86c(0x43c)]('hidden');if(_0x489968)_0x489968[_0x3ba86c(0x65e)][_0x3ba86c(0x43c)](_0x3ba86c(0x3a5));}),fileTab['addEventListener'](_0x528e74(0x49b),()=>{const _0x49981b=_0x528e74;fileTab[_0x49981b(0x65e)][_0x49981b(0x43c)](_0x49981b(0x736)),topicTab['classList'][_0x49981b(0x3bf)]('active'),textTab[_0x49981b(0x65e)][_0x49981b(0x3bf)](_0x49981b(0x736)),worksheetTab[_0x49981b(0x65e)][_0x49981b(0x3bf)](_0x49981b(0x736));if(_0x2ed89e)_0x2ed89e['classList']['remove'](_0x49981b(0x736));if(_0xc38323)_0xc38323[_0x49981b(0x65e)]['remove'](_0x49981b(0x736));if(_0x116e03)_0x116e03[_0x49981b(0x65e)][_0x49981b(0x3bf)](_0x49981b(0x736));fileInputArea[_0x49981b(0x65e)][_0x49981b(0x3bf)](_0x49981b(0x3a5)),topicInputArea[_0x49981b(0x65e)][_0x49981b(0x43c)](_0x49981b(0x3a5)),textInputArea[_0x49981b(0x65e)][_0x49981b(0x43c)](_0x49981b(0x3a5)),worksheetInputArea[_0x49981b(0x65e)]['add'](_0x49981b(0x3a5));if(_0x9d7605)_0x9d7605['classList'][_0x49981b(0x43c)](_0x49981b(0x3a5));if(_0x539652)_0x539652[_0x49981b(0x65e)][_0x49981b(0x43c)](_0x49981b(0x3a5));if(_0x489968)_0x489968[_0x49981b(0x65e)][_0x49981b(0x43c)](_0x49981b(0x3a5));}),worksheetTab['addEventListener'](_0x528e74(0x49b),()=>{const _0x26866c=_0x528e74;worksheetTab[_0x26866c(0x65e)][_0x26866c(0x43c)]('active'),topicTab[_0x26866c(0x65e)]['remove'](_0x26866c(0x736)),textTab['classList']['remove'](_0x26866c(0x736)),fileTab[_0x26866c(0x65e)][_0x26866c(0x3bf)](_0x26866c(0x736));if(_0x2ed89e)_0x2ed89e[_0x26866c(0x65e)][_0x26866c(0x3bf)](_0x26866c(0x736));if(_0xc38323)_0xc38323[_0x26866c(0x65e)][_0x26866c(0x3bf)](_0x26866c(0x736));if(_0x116e03)_0x116e03[_0x26866c(0x65e)][_0x26866c(0x3bf)](_0x26866c(0x736));worksheetInputArea[_0x26866c(0x65e)]['remove'](_0x26866c(0x3a5)),topicInputArea[_0x26866c(0x65e)][_0x26866c(0x43c)](_0x26866c(0x3a5)),textInputArea[_0x26866c(0x65e)][_0x26866c(0x43c)](_0x26866c(0x3a5)),fileInputArea[_0x26866c(0x65e)][_0x26866c(0x43c)](_0x26866c(0x3a5));if(_0x9d7605)_0x9d7605['classList'][_0x26866c(0x43c)]('hidden');if(_0x539652)_0x539652[_0x26866c(0x65e)][_0x26866c(0x43c)](_0x26866c(0x3a5));if(_0x489968)_0x489968[_0x26866c(0x65e)][_0x26866c(0x43c)]('hidden');});const _0x113642=document['getElementById']('bank-tab'),_0x5610ad=document[_0x528e74(0x8c8)](_0x528e74(0x83b));_0x113642&&_0x113642[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x25064a=_0x528e74;topicTab[_0x25064a(0x65e)][_0x25064a(0x3bf)](_0x25064a(0x736)),textTab[_0x25064a(0x65e)]['remove'](_0x25064a(0x736)),fileTab[_0x25064a(0x65e)]['remove'](_0x25064a(0x736)),worksheetTab[_0x25064a(0x65e)][_0x25064a(0x3bf)](_0x25064a(0x736));if(_0x2ed89e)_0x2ed89e['classList']['remove'](_0x25064a(0x736));if(_0xc38323)_0xc38323[_0x25064a(0x65e)][_0x25064a(0x3bf)](_0x25064a(0x736));if(_0x116e03)_0x116e03['classList'][_0x25064a(0x3bf)]('active');_0x113642[_0x25064a(0x65e)][_0x25064a(0x43c)](_0x25064a(0x736)),topicInputArea[_0x25064a(0x65e)][_0x25064a(0x43c)]('hidden'),textInputArea['classList'][_0x25064a(0x43c)](_0x25064a(0x3a5)),fileInputArea[_0x25064a(0x65e)][_0x25064a(0x43c)](_0x25064a(0x3a5)),worksheetInputArea[_0x25064a(0x65e)][_0x25064a(0x43c)]('hidden');if(_0x9d7605)_0x9d7605[_0x25064a(0x65e)][_0x25064a(0x43c)]('hidden');if(_0x539652)_0x539652[_0x25064a(0x65e)][_0x25064a(0x43c)](_0x25064a(0x3a5));if(_0x489968)_0x489968[_0x25064a(0x65e)][_0x25064a(0x43c)]('hidden');_0x5610ad[_0x25064a(0x65e)]['remove'](_0x25064a(0x3a5)),displayQuestionBank();});_0x2ed89e&&(_0x2ed89e[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x8ca8ab=_0x528e74;_0x2ed89e['classList'][_0x8ca8ab(0x43c)](_0x8ca8ab(0x736)),topicTab[_0x8ca8ab(0x65e)][_0x8ca8ab(0x3bf)](_0x8ca8ab(0x736)),textTab[_0x8ca8ab(0x65e)][_0x8ca8ab(0x3bf)]('active'),fileTab[_0x8ca8ab(0x65e)][_0x8ca8ab(0x3bf)](_0x8ca8ab(0x736)),worksheetTab[_0x8ca8ab(0x65e)]['remove'](_0x8ca8ab(0x736));if(_0xc38323)_0xc38323[_0x8ca8ab(0x65e)][_0x8ca8ab(0x3bf)](_0x8ca8ab(0x736));if(_0x116e03)_0x116e03['classList'][_0x8ca8ab(0x3bf)](_0x8ca8ab(0x736));_0x9d7605[_0x8ca8ab(0x65e)][_0x8ca8ab(0x3bf)](_0x8ca8ab(0x3a5)),topicInputArea[_0x8ca8ab(0x65e)][_0x8ca8ab(0x43c)](_0x8ca8ab(0x3a5)),textInputArea['classList'][_0x8ca8ab(0x43c)]('hidden'),fileInputArea[_0x8ca8ab(0x65e)]['add'](_0x8ca8ab(0x3a5)),worksheetInputArea['classList']['add']('hidden');if(_0x539652)_0x539652[_0x8ca8ab(0x65e)][_0x8ca8ab(0x43c)](_0x8ca8ab(0x3a5));if(_0x489968)_0x489968[_0x8ca8ab(0x65e)]['add']('hidden');}),document['getElementById'](_0x528e74(0x38f))['addEventListener'](_0x528e74(0x49b),handleGenerateFromLink));_0xc38323&&_0xc38323[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x2c035f=_0x528e74;_0xc38323[_0x2c035f(0x65e)][_0x2c035f(0x43c)](_0x2c035f(0x736)),topicTab[_0x2c035f(0x65e)][_0x2c035f(0x3bf)]('active'),textTab[_0x2c035f(0x65e)][_0x2c035f(0x3bf)](_0x2c035f(0x736)),fileTab[_0x2c035f(0x65e)][_0x2c035f(0x3bf)](_0x2c035f(0x736)),worksheetTab['classList'][_0x2c035f(0x3bf)](_0x2c035f(0x736));if(_0x2ed89e)_0x2ed89e[_0x2c035f(0x65e)][_0x2c035f(0x3bf)](_0x2c035f(0x736));if(_0x113642)_0x113642[_0x2c035f(0x65e)][_0x2c035f(0x3bf)](_0x2c035f(0x736));if(_0x116e03)_0x116e03['classList']['remove']('active');_0x539652['classList']['remove'](_0x2c035f(0x3a5)),topicInputArea[_0x2c035f(0x65e)][_0x2c035f(0x43c)]('hidden'),textInputArea[_0x2c035f(0x65e)][_0x2c035f(0x43c)](_0x2c035f(0x3a5)),fileInputArea['classList'][_0x2c035f(0x43c)](_0x2c035f(0x3a5)),worksheetInputArea[_0x2c035f(0x65e)][_0x2c035f(0x43c)]('hidden');if(_0x9d7605)_0x9d7605[_0x2c035f(0x65e)][_0x2c035f(0x43c)](_0x2c035f(0x3a5));if(_0x5610ad)_0x5610ad['classList'][_0x2c035f(0x43c)]('hidden');if(_0x489968)_0x489968[_0x2c035f(0x65e)][_0x2c035f(0x43c)](_0x2c035f(0x3a5));});_0x116e03&&_0x116e03[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x2cad9a=_0x528e74;_0x116e03[_0x2cad9a(0x65e)][_0x2cad9a(0x43c)](_0x2cad9a(0x736)),topicTab[_0x2cad9a(0x65e)]['remove'](_0x2cad9a(0x736)),textTab['classList']['remove'](_0x2cad9a(0x736)),fileTab[_0x2cad9a(0x65e)][_0x2cad9a(0x3bf)](_0x2cad9a(0x736)),worksheetTab[_0x2cad9a(0x65e)][_0x2cad9a(0x3bf)](_0x2cad9a(0x736));if(_0x2ed89e)_0x2ed89e['classList'][_0x2cad9a(0x3bf)](_0x2cad9a(0x736));if(_0xc38323)_0xc38323['classList'][_0x2cad9a(0x3bf)]('active');if(_0x113642)_0x113642[_0x2cad9a(0x65e)]['remove'](_0x2cad9a(0x736));_0x489968[_0x2cad9a(0x65e)][_0x2cad9a(0x3bf)](_0x2cad9a(0x3a5)),topicInputArea[_0x2cad9a(0x65e)][_0x2cad9a(0x43c)]('hidden'),textInputArea[_0x2cad9a(0x65e)]['add'](_0x2cad9a(0x3a5)),fileInputArea[_0x2cad9a(0x65e)][_0x2cad9a(0x43c)](_0x2cad9a(0x3a5)),worksheetInputArea[_0x2cad9a(0x65e)][_0x2cad9a(0x43c)](_0x2cad9a(0x3a5));if(_0x9d7605)_0x9d7605[_0x2cad9a(0x65e)]['add']('hidden');if(_0x539652)_0x539652[_0x2cad9a(0x65e)][_0x2cad9a(0x43c)](_0x2cad9a(0x3a5));if(_0x5610ad)_0x5610ad['classList'][_0x2cad9a(0x43c)](_0x2cad9a(0x3a5));});const _0x2e23d4=document[_0x528e74(0x8c8)]('blueprint-upload-input'),_0x4a87c3=document[_0x528e74(0x8c8)](_0x528e74(0x482));_0x2e23d4&&_0x2e23d4[_0x528e74(0x38a)](_0x528e74(0x7dc),_0x274fdd=>{const _0x483af8=_0x528e74;_0x274fdd[_0x483af8(0x3ca)][_0x483af8(0x51f)][_0x483af8(0x8c9)]>0x0?_0x4a87c3[_0x483af8(0x915)]=![]:_0x4a87c3[_0x483af8(0x915)]=!![];});_0x4a87c3&&_0x4a87c3[_0x528e74(0x38a)]('click',handleGenerateFromBlueprint);const _0x4c5ab2=document['getElementById']('parallel-test-upload-input'),_0x475fc6=document[_0x528e74(0x8c8)](_0x528e74(0x595));_0x4c5ab2&&_0x4c5ab2['addEventListener']('change',_0x5bea17=>{const _0x54eadf=_0x528e74;_0x475fc6[_0x54eadf(0x915)]=_0x5bea17[_0x54eadf(0x3ca)]['files']['length']===0x0;});_0x475fc6&&_0x475fc6[_0x528e74(0x38a)]('click',handleGenerateParallelTest);loadQuizBtn[_0x528e74(0x38a)](_0x528e74(0x49b),handleLoadQuiz),startQuizBtn['addEventListener'](_0x528e74(0x49b),async()=>{const _0x5a7650=_0x528e74,_0x287ea8=document[_0x5a7650(0x8c8)]('student-name-select');currentStudentName=_0x287ea8[_0x5a7650(0x22a)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x2f0419=currentQuizData['id'],_0x3fdb31=doc(db,_0x5a7650(0x81a)+appId+_0x5a7650(0x664)+_0x2f0419+_0x5a7650(0x647),currentStudentName);await setDoc(_0x3fdb31,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x4d22fa){console[_0x5a7650(0x241)]('Failed\x20to\x20create\x20initial\x20submission\x20record:',_0x4d22fa),showMessage(_0x5a7650(0x580));return;}studentNameSelectionView[_0x5a7650(0x65e)][_0x5a7650(0x43c)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x528e74(0x8c8)](_0x528e74(0x7ae))[_0x528e74(0x38a)]('click',showJoinGameView),document[_0x528e74(0x8c8)](_0x528e74(0x2e8))[_0x528e74(0x38a)](_0x528e74(0x49b),handleJoinLiveGame),document['getElementById'](_0x528e74(0x559))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>showView(_0x528e74(0x8cd)));const _0x42ddcb=()=>{const _0x4e535b=_0x528e74,_0x3a5d63=document[_0x4e535b(0x8c8)]('results-quiz-title')[_0x4e535b(0x29c)][_0x4e535b(0x750)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x4e535b(0x795)+(_0x3a5d63||_0x4e535b(0x574));},_0x3f757c=document[_0x528e74(0x8c8)](_0x528e74(0x9c0));_0x3f757c&&_0x3f757c['addEventListener'](_0x528e74(0x659),_0x250ab7=>{const _0x442760=_0x528e74,_0x27a415=_0x250ab7[_0x442760(0x3ca)][_0x442760(0x22a)][_0x442760(0x9b7)]()[_0x442760(0x588)](),_0x1f6213=document[_0x442760(0x8c8)](_0x442760(0x80b)),_0x5e062a=_0x1f6213[_0x442760(0x379)](_0x442760(0x5e3));_0x5e062a['forEach'](_0x2e876d=>{const _0x22db27=_0x442760;let _0x50fb76=![];const _0x3514e3=_0x2e876d[_0x22db27(0x379)](_0x22db27(0x7f6));_0x3514e3[_0x22db27(0x8ca)](_0x5f4114=>{const _0x24919a=_0x22db27,_0xc83cd6=_0x5f4114[_0x24919a(0x5be)](_0x24919a(0x25d))[_0x24919a(0x29c)][_0x24919a(0x9b7)]();_0xc83cd6['includes'](_0x27a415)?(_0x5f4114[_0x24919a(0x1c6)][_0x24919a(0x851)]=_0x24919a(0x11d),_0x50fb76=!![]):_0x5f4114[_0x24919a(0x1c6)][_0x24919a(0x851)]=_0x24919a(0x555);}),_0x50fb76?_0x2e876d['style']['display']=_0x22db27(0x54e):_0x2e876d[_0x22db27(0x1c6)][_0x22db27(0x851)]=_0x22db27(0x555);});});document[_0x528e74(0x8c8)](_0x528e74(0x23b))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>exportTableAsImage(_0x528e74(0x253),_0x42ddcb())),document['getElementById'](_0x528e74(0x309))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>exportTableAsPDF(_0x528e74(0x113),_0x42ddcb())),document[_0x528e74(0x8c8)](_0x528e74(0x9c4))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>exportTableAsWord(_0x528e74(0x253),_0x42ddcb())),document[_0x528e74(0x8c8)](_0x528e74(0x57b))[_0x528e74(0x38a)]('click',()=>exportTableAsExcel(_0x528e74(0x113),_0x42ddcb()));const _0x4a5da6=()=>{const _0x27955f=_0x528e74,_0x15738b=document[_0x27955f(0x8c8)]('results-quiz-title')[_0x27955f(0x29c)][_0x27955f(0x750)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0x15738b||_0x27955f(0x574));};document[_0x528e74(0x8c8)](_0x528e74(0x852))[_0x528e74(0x38a)]('click',()=>exportTableAsImage(_0x528e74(0x4b7),_0x4a5da6())),document[_0x528e74(0x8c8)]('export-leaderboard-pdf-btn')[_0x528e74(0x38a)](_0x528e74(0x49b),()=>exportTableAsPDF(_0x528e74(0x7ca),_0x4a5da6())),document[_0x528e74(0x8c8)](_0x528e74(0x1bd))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>exportTableAsWord(_0x528e74(0x4b7),_0x4a5da6())),document[_0x528e74(0x8c8)](_0x528e74(0x471))['addEventListener']('click',()=>exportTableAsExcel('quiz-leaderboard-table',_0x4a5da6())),projectQuizzesList[_0x528e74(0x38a)](_0x528e74(0x49b),async _0x122758=>{const _0x55a678=_0x528e74,_0x2084f1=_0x122758['target'][_0x55a678(0x5d5)](_0x55a678(0x749)),_0xeb1c0e=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)](_0x55a678(0x2a5)),_0x20d3fa=_0x122758['target']['closest']('.compare-results-btn'),_0x562a6b=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)](_0x55a678(0x971)),_0x1c2a0a=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)](_0x55a678(0x605)),_0x511190=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)](_0x55a678(0x5b1)),_0x427d0e=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)](_0x55a678(0x160)),_0x531e80=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)](_0x55a678(0x4d3)),_0x21e970=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)](_0x55a678(0x4df)),_0x2e2dbe=_0x122758['target']['closest']('.rename-quiz-btn'),_0x555397=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)](_0x55a678(0x896)),_0xdc96c4=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)]('.move-quiz-btn'),_0x4be151=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)]('.pair-quiz-btn'),_0x15fb19=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)](_0x55a678(0x861)),_0x359f2e=_0x122758['target'][_0x55a678(0x5d5)](_0x55a678(0x290)),_0x57ecb0=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)](_0x55a678(0x6ef)),_0x53be94=_0x122758[_0x55a678(0x3ca)]['closest'](_0x55a678(0x19f)),_0x4cd17b=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)](_0x55a678(0x9f9)),_0x49f713=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)]('.quiz-status-btn'),_0x5eb17b=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)]('.toggle-actions-btn'),_0xbacf93=_0x122758[_0x55a678(0x3ca)][_0x55a678(0x5d5)]('.generate-easy-version-btn'),_0x346342=_0x122758['target']['closest'](_0x55a678(0x8a8)),_0x2dca0d=_0x122758['target'][_0x55a678(0x5d5)](_0x55a678(0x50c));if(_0x346342){const _0x50efa9=_0x346342['dataset'][_0x55a678(0x128)],_0x38d209=_0x346342[_0x55a678(0x8eb)][_0x55a678(0x179)],_0x121d96=allQuizzes[_0x55a678(0x653)](_0x5c7548=>_0x5c7548['id']===_0x50efa9);_0x121d96&&showGameStartConfirmationModal(_0x50efa9,_0x38d209,_0x121d96[_0x55a678(0x881)]);}else{if(_0x2dca0d){const _0x4c1308=_0x2dca0d[_0x55a678(0x8eb)][_0x55a678(0x128)],_0x5bc2e1=allQuizzes[_0x55a678(0x653)](_0x4d1246=>_0x4d1246['id']===_0x4c1308);_0x5bc2e1&&showGameStartConfirmationModal(_0x4c1308,_0x55a678(0x811),_0x5bc2e1[_0x55a678(0x881)]);}else{if(_0x5eb17b){const _0x2d771c=_0x5eb17b[_0x55a678(0x8eb)][_0x55a678(0x128)],_0x8e4fdf=document[_0x55a678(0x8c8)](_0x55a678(0x7c7)+_0x2d771c);_0x8e4fdf&&_0x8e4fdf[_0x55a678(0x65e)][_0x55a678(0x491)](_0x55a678(0x3a5));}else{if(_0xeb1c0e){const _0x3c42d9=_0xeb1c0e[_0x55a678(0x8eb)]['quizId'],_0x2f7196=allQuizzes[_0x55a678(0x653)](_0x2bbb5b=>_0x2bbb5b['id']===_0x3c42d9);_0x2f7196&&handleGenerateParallelPostTest(_0x2f7196);}else{if(_0x20d3fa)handleCompareResults(_0x20d3fa[_0x55a678(0x8eb)]['quizId'],_0x20d3fa['dataset'][_0x55a678(0x8d6)]);else{if(_0x562a6b){const _0x1a8c2f=_0x562a6b[_0x55a678(0x8eb)][_0x55a678(0x128)],_0x36be9e=allQuizzes[_0x55a678(0x653)](_0x770dcf=>_0x770dcf['id']===_0x1a8c2f);_0x36be9e&&_0x36be9e['lessonPlan']?(displayLessonPlan(_0x36be9e[_0x55a678(0x9fc)],_0x36be9e),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x1a8c2f)),document[_0x55a678(0x8c8)](_0x55a678(0x1c2))[_0x55a678(0x5be)]('h3')[_0x55a678(0x29c)]=_0x55a678(0x824),document[_0x55a678(0x8c8)]('confirm-delete-btn')[_0x55a678(0x29c)]=_0x55a678(0x981)):handleGenerateLessonPlan(_0x1a8c2f);}else{if(_0x1c2a0a)handleToggleStarQuiz(_0x1c2a0a[_0x55a678(0x8eb)]['quizId']);else{if(_0x511190)copyTextToClipboard(_0x511190[_0x55a678(0x8eb)][_0x55a678(0x128)],_0x55a678(0x443));else{if(_0x427d0e)handleOpenQuizEditor(_0x427d0e[_0x55a678(0x8eb)][_0x55a678(0x128)]);else{if(_0x531e80)handleQuizSettings(_0x531e80[_0x55a678(0x8eb)]['quizId']);else{if(_0x21e970)handleDuplicateQuiz(_0x21e970[_0x55a678(0x8eb)][_0x55a678(0x128)]);else{if(_0x2e2dbe)handleRenameQuiz(_0x2e2dbe[_0x55a678(0x8eb)][_0x55a678(0x128)],_0x2e2dbe[_0x55a678(0x8eb)]['topic']);else{if(_0x555397){const _0x1750d4=_0x555397[_0x55a678(0x8eb)]['quizId'],_0x46e9a3=allQuizzes[_0x55a678(0x653)](_0x980d33=>_0x980d33['id']===_0x1750d4);_0x46e9a3&&handleGenerateParallelFromBank(_0x46e9a3);}else{if(_0xdc96c4)handleMoveQuiz(_0xdc96c4['dataset'][_0x55a678(0x128)]);else{if(_0x4be151)handleManualQuizPairing(_0x4be151[_0x55a678(0x8eb)][_0x55a678(0x128)]);else{if(_0x15fb19)handleUnpairQuiz(_0x15fb19['dataset']['quizId']);else{if(_0x359f2e){const _0x1d4917=_0x359f2e[_0x55a678(0x8eb)][_0x55a678(0x128)],_0x4f9823=allQuizzes['find'](_0x13be96=>_0x13be96['id']===_0x1d4917);if(_0x4f9823)startPresentation(_0x4f9823);}else{if(_0x57ecb0){const _0x150ebc=_0x57ecb0[_0x55a678(0x8eb)][_0x55a678(0x128)],_0x5401f5=allQuizzes[_0x55a678(0x653)](_0x15d5c1=>_0x15d5c1['id']===_0x150ebc);_0x5401f5&&(currentQuizData=_0x5401f5,startAdminTest());}else{if(_0x53be94)actionTargetId=_0x53be94[_0x55a678(0x8eb)][_0x55a678(0x128)],document[_0x55a678(0x8c8)]('export-pdf-modal')[_0x55a678(0x65e)]['remove'](_0x55a678(0x3a5));else{if(_0x4cd17b)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x4cd17b[_0x55a678(0x8eb)][_0x55a678(0x881)]+_0x55a678(0x66e),()=>handleDeleteQuiz(_0x4cd17b[_0x55a678(0x8eb)][_0x55a678(0x128)]));else{if(_0x49f713)handleQuizStatus(_0x49f713['dataset']['quizId']);else{if(_0xbacf93)handleGenerateEasyVersionQuiz(_0xbacf93[_0x55a678(0x8eb)]['quizId']);else _0x2084f1&&showQuizDetailView(_0x2084f1['dataset'][_0x55a678(0x128)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x528e74(0x275))[_0x528e74(0x38a)]('click',()=>showView(_0x528e74(0x8cd))),document[_0x528e74(0x8c8)](_0x528e74(0x833))['addEventListener'](_0x528e74(0x49b),confirmAndStartTeamQuiz),document[_0x528e74(0x8c8)]('quiz-leaderboard-table')[_0x528e74(0x5be)]('thead')['addEventListener'](_0x528e74(0x49b),_0x30d386=>{const _0x275a49=_0x528e74,_0x4359aa=_0x30d386[_0x275a49(0x3ca)][_0x275a49(0x5d5)](_0x275a49(0x5d2));if(!_0x4359aa||!_0x4359aa['dataset'][_0x275a49(0x55d)])return;const _0x55714e=_0x4359aa[_0x275a49(0x8eb)][_0x275a49(0x55d)];if(quizLeaderboardSortBy===_0x55714e)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x275a49(0x474)?'desc':_0x275a49(0x474);else{quizLeaderboardSortBy=_0x55714e;const _0x9b1780=[_0x275a49(0x28b)];quizLeaderboardSortOrder=_0x9b1780['includes'](_0x55714e)?_0x275a49(0x474):_0x275a49(0x13c);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x275a49(0x125));}),document['getElementById']('close-presentation-btn')[_0x528e74(0x38a)](_0x528e74(0x49b),closePresentation),document[_0x528e74(0x8c8)]('prev-question-btn')[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x528e74(0x8c8)](_0x528e74(0x4d8))[_0x528e74(0x38a)]('click',()=>{const _0x248957=_0x528e74;currentQuizData[_0x248957(0x96e)]&&currentPresentationSlide<currentQuizData['questions'][_0x248957(0x8c9)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener']('fullscreenchange',()=>{const _0x9eeb6d=_0x528e74;!document['fullscreenElement']&&(presentationModal[_0x9eeb6d(0x1c6)][_0x9eeb6d(0x851)]=_0x9eeb6d(0x555));}),document[_0x528e74(0x8c8)](_0x528e74(0x3c9))['addEventListener'](_0x528e74(0x49b),handleDeleteAllStudents),studentList[_0x528e74(0x38a)](_0x528e74(0x49b),_0x3d796a=>{const _0x172448=_0x528e74,_0x4bbaaf=_0x3d796a[_0x172448(0x3ca)]['closest']('.delete-student-btn');if(_0x4bbaaf){const _0x323169=_0x4bbaaf[_0x172448(0x8eb)]['studentName'];handleDeleteStudent(_0x323169);}}),document[_0x528e74(0x8c8)](_0x528e74(0x9bf))[_0x528e74(0x38a)]('click',handleGenerateFromFileClick),fileUploadInput['addEventListener']('change',_0x4f2cb7=>{const _0x2c41e4=_0x528e74,_0x518ebb=_0x4f2cb7[_0x2c41e4(0x3ca)][_0x2c41e4(0x51f)][0x0],_0x2b3cef=document['getElementById']('generate-from-file-btn');_0x518ebb?(selectedFile=_0x518ebb,_0x2b3cef[_0x2c41e4(0x915)]=![]):(selectedFile=null,_0x2b3cef[_0x2c41e4(0x915)]=!![]);}),document[_0x528e74(0x8c8)](_0x528e74(0x5e1))[_0x528e74(0x38a)](_0x528e74(0x7dc),_0x2a2c9b=>{const _0x51d842=_0x528e74,_0x4d28b7=document['getElementById'](_0x51d842(0x231)),_0x3280fd=document[_0x51d842(0x8c8)](_0x51d842(0x42e)),_0x1bed91=document[_0x51d842(0x8c8)](_0x51d842(0x63e));_0x2a2c9b['target'][_0x51d842(0x22a)]===_0x51d842(0x555)?_0x4d28b7[_0x51d842(0x65e)][_0x51d842(0x43c)](_0x51d842(0x3a5)):(_0x4d28b7[_0x51d842(0x65e)][_0x51d842(0x3bf)]('hidden'),_0x2a2c9b[_0x51d842(0x3ca)]['value']===_0x51d842(0x57d)?(_0x3280fd['textContent']=_0x51d842(0x219),_0x1bed91[_0x51d842(0x22a)]='10'):(_0x3280fd['textContent']='ระยะเวลา\x20(วินาที):',_0x1bed91[_0x51d842(0x22a)]='30'));}),document[_0x528e74(0x8c8)](_0x528e74(0x244))[_0x528e74(0x38a)](_0x528e74(0x7dc),_0x2dd126=>{const _0x26f2d9=_0x528e74,_0x278457=document[_0x26f2d9(0x8c8)](_0x26f2d9(0x415)),_0x549596=_0x2dd126[_0x26f2d9(0x3ca)][_0x26f2d9(0x22a)],_0x3437f8=document['querySelector']('label[for=\x22num-questions\x22]'),_0x190a0b=document[_0x26f2d9(0x8c8)]('passing-score-input'),_0x3af8e7=document[_0x26f2d9(0x8c8)](_0x26f2d9(0x505));_0x549596===_0x26f2d9(0x387)?_0x3437f8[_0x26f2d9(0x29c)]=_0x26f2d9(0x73c):_0x3437f8[_0x26f2d9(0x29c)]=_0x26f2d9(0x7a4),_0x549596===_0x26f2d9(0x6f7)||_0x549596===_0x26f2d9(0x8d7)||_0x549596===_0x26f2d9(0x67e)?_0x278457[_0x26f2d9(0x65e)][_0x26f2d9(0x3bf)](_0x26f2d9(0x3a5)):_0x278457['classList']['add']('hidden'),_0x190a0b[_0x26f2d9(0x35a)]=_0x3af8e7[_0x26f2d9(0x22a)];}),document['getElementById'](_0x528e74(0x505))['addEventListener'](_0x528e74(0x659),_0x51b6d9=>{const _0x43c073=_0x528e74;document[_0x43c073(0x8c8)](_0x43c073(0x5b0))[_0x43c073(0x35a)]=_0x51b6d9['target'][_0x43c073(0x22a)];}),document[_0x528e74(0x8c8)](_0x528e74(0x187))[_0x528e74(0x38a)](_0x528e74(0x7dc),_0x29cd1c=>{const _0x4cc6f7=_0x528e74,_0x217412=document['getElementById'](_0x4cc6f7(0x75c)),_0x437dc4=document[_0x4cc6f7(0x8c8)](_0x4cc6f7(0x78f)),_0x4d37e4=document[_0x4cc6f7(0x8c8)](_0x4cc6f7(0x557));_0x29cd1c['target'][_0x4cc6f7(0x22a)]===_0x4cc6f7(0x555)?_0x217412['classList'][_0x4cc6f7(0x43c)](_0x4cc6f7(0x3a5)):(_0x217412[_0x4cc6f7(0x65e)][_0x4cc6f7(0x3bf)]('hidden'),_0x29cd1c[_0x4cc6f7(0x3ca)][_0x4cc6f7(0x22a)]===_0x4cc6f7(0x57d)?_0x437dc4[_0x4cc6f7(0x29c)]=_0x4cc6f7(0x219):_0x437dc4[_0x4cc6f7(0x29c)]=_0x4cc6f7(0x56e));}),document['getElementById']('cancel-quiz-edits-btn')[_0x528e74(0x38a)]('click',()=>{const _0x2f3e44=_0x528e74;document['getElementById'](_0x2f3e44(0x308))[_0x2f3e44(0x65e)][_0x2f3e44(0x43c)]('hidden');}),document[_0x528e74(0x8c8)](_0x528e74(0x61f))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x5a8165=_0x528e74;document[_0x5a8165(0x8c8)]('quiz-editor-modal')[_0x5a8165(0x65e)][_0x5a8165(0x43c)]('hidden');}),document[_0x528e74(0x8c8)](_0x528e74(0x830))[_0x528e74(0x38a)](_0x528e74(0x49b),handleVerifyAnswersInEditor),document['getElementById'](_0x528e74(0x371))[_0x528e74(0x38a)]('click',()=>{const _0x1bb41a=_0x528e74;document[_0x1bb41a(0x8c8)]('quiz-editor-modal')[_0x1bb41a(0x65e)][_0x1bb41a(0x43c)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x528e74(0x8c8)]('auto-fix-latex-btn')[_0x528e74(0x38a)](_0x528e74(0x49b),handleAutoFixLatex);const _0x299c13=document[_0x528e74(0x8c8)](_0x528e74(0x129));_0x299c13&&_0x299c13['addEventListener'](_0x528e74(0x49b),_0x325460=>{const _0x37504a=_0x528e74,_0x35025b=_0x325460[_0x37504a(0x3ca)][_0x37504a(0x5d5)]('.regenerate-question-editor-btn'),_0x20568d=_0x325460[_0x37504a(0x3ca)][_0x37504a(0x5d5)](_0x37504a(0x257));if(_0x35025b){const _0x23fb77=_0x35025b[_0x37504a(0x5d5)](_0x37504a(0x151)),_0x15bf8d=parseInt(_0x23fb77[_0x37504a(0x8eb)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x15bf8d);}else{if(_0x20568d){const _0x3480c1=_0x20568d[_0x37504a(0x5d5)]('.question-editor-item'),_0x20d745=parseInt(_0x3480c1[_0x37504a(0x8eb)][_0x37504a(0x78c)],0xa);handleAiFixFormula(_0x20d745);}}});document[_0x528e74(0x8c8)](_0x528e74(0x97d))[_0x528e74(0x38a)](_0x528e74(0x49b),openQuizBankModal),document['getElementById'](_0x528e74(0x11e))[_0x528e74(0x38a)]('click',()=>{const _0x3e5426=_0x528e74;document[_0x3e5426(0x8c8)]('quiz-bank-modal')['classList']['add'](_0x3e5426(0x3a5));}),document[_0x528e74(0x8c8)]('bank-quiz-search-input')['addEventListener'](_0x528e74(0x659),_0x21ec54=>renderQuizBankList(_0x21ec54['target'][_0x528e74(0x22a)]));const _0x65162a=document[_0x528e74(0x8c8)]('math-topics-checkbox-container');if(_0x65162a){let _0x46be71=null;_0x65162a['addEventListener'](_0x528e74(0x49b),_0x344593=>{const _0x451dd1=_0x528e74,_0x2b8bb4=_0x344593[_0x451dd1(0x3ca)],_0x5f48ba=_0x2b8bb4[_0x451dd1(0x5d5)](_0x451dd1(0x6ca)),_0x221369=_0x2b8bb4['closest'](_0x451dd1(0x90a)),_0x13c411=_0x2b8bb4[_0x451dd1(0x5d5)](_0x451dd1(0x4c8)),_0x4317f8=_0x2b8bb4['closest'](_0x451dd1(0x293));if(_0x221369){_0x344593[_0x451dd1(0x28f)]();const _0x224c53=_0x221369[_0x451dd1(0x8eb)]['id'],_0x10b4e9=_0x221369[_0x451dd1(0x5d5)](_0x451dd1(0x2c8))['querySelector'](_0x451dd1(0x25d))[_0x451dd1(0x29c)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x10b4e9+'\x22?',()=>handleDeleteCustomTopic(_0x224c53));}else{if(_0x5f48ba){_0x344593[_0x451dd1(0x28f)]();_0x46be71&&toggleTopicEditMode(_0x46be71,![]);const _0x5501dc=_0x5f48ba[_0x451dd1(0x5d5)](_0x451dd1(0x462));_0x46be71=_0x5501dc,toggleTopicEditMode(_0x5501dc,!![]);}else{if(_0x13c411){_0x344593[_0x451dd1(0x28f)]();const _0x42cf83=_0x13c411['dataset']['id'],_0x4cb137=_0x13c411['closest'](_0x451dd1(0x462)),_0xa091a7=_0x4cb137[_0x451dd1(0x5be)](_0x451dd1(0x9cd))['value'];handleUpdateCustomTopic(_0x42cf83,_0xa091a7),_0x46be71=null;}else{if(_0x4317f8){_0x344593['preventDefault']();const _0x26177f=_0x4317f8[_0x451dd1(0x5d5)](_0x451dd1(0x462));toggleTopicEditMode(_0x26177f,![]),_0x46be71=null;}}}}}),document[_0x528e74(0x8c8)](_0x528e74(0x82b))['addEventListener']('click',()=>{const _0x4011ea=_0x528e74;document[_0x4011ea(0x8c8)](_0x4011ea(0x74a))[_0x4011ea(0x65e)][_0x4011ea(0x43c)](_0x4011ea(0x3a5));}),document[_0x528e74(0x8c8)](_0x528e74(0x33f))[_0x528e74(0x38a)](_0x528e74(0x49b),()=>{const _0x319d22=_0x528e74;document[_0x319d22(0x8c8)](_0x319d22(0x74a))['classList']['add']('hidden');}),document[_0x528e74(0x8c8)](_0x528e74(0x38b))['addEventListener'](_0x528e74(0x49b),handleExportLessonPDF);}document['getElementById'](_0x528e74(0x1e7))['addEventListener'](_0x528e74(0x49b),()=>{const _0x13ce27=_0x528e74;document[_0x13ce27(0x8c8)](_0x13ce27(0x60e))['classList'][_0x13ce27(0x43c)](_0x13ce27(0x3a5));}),document[_0x528e74(0x8c8)](_0x528e74(0x6f8))[_0x528e74(0x38a)]('click',()=>{const _0x60d8ed=_0x528e74;document[_0x60d8ed(0x8c8)](_0x60d8ed(0x60e))[_0x60d8ed(0x65e)][_0x60d8ed(0x43c)]('hidden');}),setupComparisonModalTabs(),document[_0x528e74(0x747)]['addEventListener'](_0x528e74(0x49b),function(_0x5ca9e3){const _0x3011f7=_0x528e74;if(_0x5ca9e3[_0x3011f7(0x3ca)][_0x3011f7(0x65e)][_0x3011f7(0x2d3)](_0x3011f7(0x1e0))){const _0x574009=unescape(_0x5ca9e3[_0x3011f7(0x3ca)][_0x3011f7(0x8eb)][_0x3011f7(0x881)]);startSkillPractice(_0x574009);}}),document[_0x528e74(0x8c8)]('scores-tab-content')[_0x528e74(0x38a)](_0x528e74(0x49b),_0x32b9cf=>{const _0xd59a78=_0x528e74,_0x6ad89d=_0x32b9cf[_0xd59a78(0x3ca)][_0xd59a78(0x5d5)](_0xd59a78(0x36f));if(_0x6ad89d){const _0x2c1210=_0x6ad89d[_0xd59a78(0x8eb)]['studentName'];handleDeleteSubmission(_0x2c1210);}});}async function handleStartGroupMode(_0x27c235,_0x19b5ae=![]){const _0x36ca24=_0x555faf,_0x4650d2=allQuizzes['find'](_0xda294d=>_0xda294d['id']===_0x27c235)||allQuizzesGlobal[_0x36ca24(0x653)](_0x529d7e=>_0x529d7e['id']===_0x27c235);if(!_0x4650d2){showMessage(_0x36ca24(0x7b8));return;}currentQuizData=getShuffledQuiz(_0x4650d2);const _0x17700a=Math[_0x36ca24(0xff)](0x3e8+Math[_0x36ca24(0x5a3)]()*0x2328)['toString']();try{const _0xabcdd3=await addDoc(collection(db,_0x36ca24(0x81a)+appId+_0x36ca24(0x5af)),{'quizId':_0x4650d2['id'],'projectId':_0x4650d2[_0x36ca24(0x8bf)],'status':_0x36ca24(0x7d2),'pin':_0x17700a,'mode':_0x36ca24(0x9c1),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x19b5ae});currentTeamQuizId=_0xabcdd3['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x17700a,_0x4650d2[_0x36ca24(0x881)],'group'),listenForTeamQuizUpdates();}catch(_0x19386e){console[_0x36ca24(0x241)]('Error\x20starting\x20group\x20quiz:',_0x19386e),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x1701fa=_0x555faf;studentInitialView[_0x1701fa(0x65e)][_0x1701fa(0x43c)](_0x1701fa(0x3a5)),document['getElementById'](_0x1701fa(0x8fc))['classList'][_0x1701fa(0x3bf)](_0x1701fa(0x3a5));const _0x4eb431=document[_0x1701fa(0x8c8)]('progress-project-select'),_0x5a2476=document[_0x1701fa(0x8c8)](_0x1701fa(0x414)),_0x15bede=document[_0x1701fa(0x8c8)](_0x1701fa(0x417));_0x15bede['innerHTML']=_0x1701fa(0x551),_0x5a2476[_0x1701fa(0x8d2)]=_0x1701fa(0x9bb),_0x5a2476['disabled']=!![],_0x4eb431[_0x1701fa(0x8d2)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x1701fa(0x8c9)]===0x0){const _0x267a6b=collection(db,_0x1701fa(0x81a)+appId+_0x1701fa(0x2fe)),_0x143eb7=await getDocs(_0x267a6b);allProjects=_0x143eb7[_0x1701fa(0x755)][_0x1701fa(0x16a)](_0x40a6b9=>({'id':_0x40a6b9['id'],..._0x40a6b9['data']()}));}const _0x595774=allProjects[_0x1701fa(0x858)](_0x5788f6=>_0x5788f6[_0x1701fa(0x6fd)]?.['showInStudentDashboard']!==![]);_0x595774[_0x1701fa(0x55d)]((_0x43da55,_0x33c698)=>_0x43da55[_0x1701fa(0x6f6)][_0x1701fa(0x2cf)](_0x33c698['projectName'],'th')),_0x4eb431[_0x1701fa(0x8d2)]=_0x1701fa(0x297)+_0x595774[_0x1701fa(0x16a)](_0x542762=>'<option\x20value=\x22'+_0x542762['id']+'\x22>'+_0x542762[_0x1701fa(0x6f6)]+'</option>')[_0x1701fa(0x71e)](''),_0x4eb431[_0x1701fa(0x25a)]=()=>{const _0x1c3dd4=_0x1701fa,_0x3b4330=_0x5a2476[_0x1c3dd4(0x22a)],_0x1a4b23=_0x4eb431['value'];_0x5a2476['disabled']=!![],_0x5a2476[_0x1c3dd4(0x8d2)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x15bede['innerHTML']=_0x1c3dd4(0x373);if(!_0x1a4b23)return;const _0x5c0d90=allProjects['find'](_0x186b1b=>_0x186b1b['id']===_0x1a4b23);if(!_0x5c0d90||!_0x5c0d90[_0x1c3dd4(0x4b6)])return;const _0x281ec6=()=>{const _0x55a0d0=_0x1c3dd4;_0x5a2476['innerHTML']=_0x55a0d0(0x9bb)+_0x5c0d90[_0x55a0d0(0x4b6)]['map'](_0x4e722e=>'<option\x20value=\x22'+_0x4e722e+'\x22>'+_0x4e722e+_0x55a0d0(0x7e6))[_0x55a0d0(0x71e)](''),_0x5a2476[_0x55a0d0(0x915)]=![];const _0x3bdc98=Array[_0x55a0d0(0x578)](_0x5a2476[_0x55a0d0(0x81c)])[_0x55a0d0(0x16a)](_0x513ff5=>_0x513ff5[_0x55a0d0(0x22a)]);if(_0x3b4330&&_0x3bdc98['includes'](_0x3b4330))_0x5a2476['value']=_0x3b4330,_0x5a2476[_0x55a0d0(0x458)](new Event('change'));else _0x5c0d90[_0x55a0d0(0x4b6)]['length']===0x1&&(_0x5a2476[_0x55a0d0(0x22a)]=_0x5c0d90['students'][0x0],_0x5a2476[_0x55a0d0(0x458)](new Event(_0x55a0d0(0x7dc))));};if(_0x5c0d90[_0x1c3dd4(0x6fd)]?.[_0x1c3dd4(0x3a3)]){if(sessionStorage[_0x1c3dd4(0x314)](_0x1c3dd4(0x36a)+_0x1a4b23)===_0x1c3dd4(0x3d8)){_0x281ec6();return;}const _0x3e2035=document[_0x1c3dd4(0x8c8)](_0x1c3dd4(0x9ae)),_0x18b6d0=document['getElementById'](_0x1c3dd4(0x357)),_0x556597=document[_0x1c3dd4(0x8c8)](_0x1c3dd4(0x51e)),_0x5b911a=document[_0x1c3dd4(0x8c8)](_0x1c3dd4(0x9e3)),_0x351783=document[_0x1c3dd4(0x8c8)]('passcode-error-msg');document[_0x1c3dd4(0x8c8)](_0x1c3dd4(0x62f))['textContent']=_0x1c3dd4(0x4cf)+_0x5c0d90['projectName'],_0x5b911a[_0x1c3dd4(0x22a)]='',_0x351783[_0x1c3dd4(0x65e)][_0x1c3dd4(0x43c)](_0x1c3dd4(0x3a5)),_0x3e2035['classList']['remove'](_0x1c3dd4(0x3a5));const _0x3ff699=()=>{const _0x64e3ab=_0x1c3dd4,_0x2d1c87=_0x5b911a[_0x64e3ab(0x22a)][_0x64e3ab(0x588)]();_0x2d1c87===_0x5c0d90[_0x64e3ab(0x6fd)][_0x64e3ab(0x3e8)]?(sessionStorage[_0x64e3ab(0x221)](_0x64e3ab(0x36a)+_0x1a4b23,_0x64e3ab(0x3d8)),_0x3e2035['classList']['add'](_0x64e3ab(0x3a5)),_0x281ec6(),_0x18b6d0[_0x64e3ab(0x6b3)](_0x64e3ab(0x49b),_0x3ff699)):_0x351783['classList'][_0x64e3ab(0x3bf)]('hidden');};_0x18b6d0['onclick']=_0x3ff699,_0x556597[_0x1c3dd4(0x953)]=()=>{const _0x4753a0=_0x1c3dd4;_0x3e2035[_0x4753a0(0x65e)]['add'](_0x4753a0(0x3a5)),_0x4eb431['value']='',_0x18b6d0[_0x4753a0(0x6b3)](_0x4753a0(0x49b),_0x3ff699);};}else _0x281ec6();},_0x5a2476[_0x1701fa(0x25a)]=()=>{const _0x3a6019=_0x1701fa,_0x1a35f6=_0x4eb431[_0x3a6019(0x22a)],_0x458c5e=_0x5a2476['value'];_0x1a35f6&&_0x458c5e&&renderStudentProgressDashboard(_0x1a35f6,_0x458c5e);};}async function confirmAndJoinSyncGame(){const _0x5903ed=_0x555faf,_0x28d485=Array[_0x5903ed(0x578)](document[_0x5903ed(0x379)]('input[name=\x22team_player\x22]:checked'))[_0x5903ed(0x16a)](_0x4e5348=>_0x4e5348[_0x5903ed(0x22a)]);if(_0x28d485[_0x5903ed(0x8c9)]===0x0){showMessage(_0x5903ed(0x3fd));return;}localTeamPlayers=_0x28d485,localPlayerTurnIndex=0x0;const _0x3fe1a9=doc(db,_0x5903ed(0x81a)+appId+_0x5903ed(0x92c),currentLiveGameId),_0x1c6bb4={};_0x28d485['forEach'](_0x139e41=>{const _0x2ef5ad=_0x5903ed;_0x1c6bb4[_0x2ef5ad(0x3bd)+_0x139e41]={'name':_0x139e41,'score':0x0,'answered':![]};});try{await updateDoc(_0x3fe1a9,_0x1c6bb4),document['getElementById'](_0x5903ed(0x14d))[_0x5903ed(0x65e)][_0x5903ed(0x43c)](_0x5903ed(0x3a5)),currentStudentName=_0x28d485[0x0],listenForSyncGameUpdates();const _0x54df31={'gameId':currentLiveGameId,'mode':_0x5903ed(0x4e3),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x5903ed(0x221)]('activeGameSession',JSON[_0x5903ed(0x784)](_0x54df31));}catch(_0x437987){console['error']('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x437987),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x116fa5=_0x555faf,_0x3746ec=sessionStorage[_0x116fa5(0x314)]('activeGameSession');if(!_0x3746ec)return;const _0x349e8c=JSON['parse'](_0x3746ec),{gameId:_0x3609bd,mode:_0x479c71,players:_0x2c94ed,turnIndex:_0x327cca}=_0x349e8c;try{let _0x1aa3ce,_0x598819;_0x479c71==='sync'?_0x1aa3ce=doc(db,_0x116fa5(0x81a)+appId+'/public/data/syncGames',_0x3609bd):_0x1aa3ce=doc(db,_0x116fa5(0x81a)+appId+_0x116fa5(0x5af),_0x3609bd);_0x598819=await getDoc(_0x1aa3ce);if(!_0x598819[_0x116fa5(0x28d)]()||_0x598819[_0x116fa5(0x56d)]()[_0x116fa5(0x1d7)]===_0x116fa5(0x70b)||_0x598819['data']()[_0x116fa5(0x1d7)]==='podium'){sessionStorage[_0x116fa5(0x6a0)](_0x116fa5(0x68d));return;}console['log']('กำลังกลับเข้าสู่เกม\x20'+_0x479c71+'\x20(ID:\x20'+_0x3609bd+')'),localTeamPlayers=_0x2c94ed,localPlayerTurnIndex=_0x327cca;if(_0x479c71===_0x116fa5(0x4e3))currentLiveGameId=_0x3609bd,currentStudentName=_0x2c94ed[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x3609bd;const _0x455713=_0x598819[_0x116fa5(0x56d)](),_0x2c7633=doc(db,_0x116fa5(0x81a)+appId+_0x116fa5(0x235),_0x455713['quizId']),_0x256a79=await getDoc(_0x2c7633);_0x256a79[_0x116fa5(0x28d)]()&&(currentQuizData=getShuffledQuiz({'id':_0x256a79['id'],..._0x256a79[_0x116fa5(0x56d)]()}),showView(_0x116fa5(0x8cd)),studentInitialView['classList'][_0x116fa5(0x43c)](_0x116fa5(0x3a5)),renderTeamQuizQuestion());}}catch(_0x442ccb){console[_0x116fa5(0x241)](_0x116fa5(0x5a6),_0x442ccb),sessionStorage[_0x116fa5(0x6a0)](_0x116fa5(0x68d));}}async function renderStudentProgressDashboard(_0x538886,_0x22015e){const _0x4a2270=_0x555faf,_0x2bf055=document[_0x4a2270(0x8c8)](_0x4a2270(0x417));_0x2bf055['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x17eead=collection(db,_0x4a2270(0x81a)+appId+_0x4a2270(0x235)),_0x126e7f=query(_0x17eead,where(_0x4a2270(0x8bf),'==',_0x538886)),_0xb156c=await getDocs(_0x126e7f),_0x1d7c71=_0xb156c[_0x4a2270(0x755)][_0x4a2270(0x16a)](_0x4c6b68=>({'id':_0x4c6b68['id'],..._0x4c6b68[_0x4a2270(0x56d)]()})),_0x4a0090=_0x1d7c71[_0x4a2270(0x16a)](_0x2ac363=>getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x2ac363['id']+'/submissions',_0x22015e))),_0x465528=await Promise[_0x4a2270(0x816)](_0x4a0090),_0x338960=_0x465528[_0x4a2270(0x858)](_0x3ec180=>_0x3ec180[_0x4a2270(0x28d)]())[_0x4a2270(0x16a)](_0x1d3151=>({'quizId':_0x1d3151[_0x4a2270(0x50e)][_0x4a2270(0x5c3)]['parent']['id'],..._0x1d3151[_0x4a2270(0x56d)]()}));if(_0x338960[_0x4a2270(0x8c9)]===0x0){_0x2bf055['innerHTML']=_0x4a2270(0x72a);return;}let _0x57d999='<div\x20class=\x22space-y-4\x22>';_0x338960[_0x4a2270(0x8ca)](_0xe6517b=>{const _0x20a472=_0x4a2270,_0x2762e4=_0x1d7c71[_0x20a472(0x653)](_0x27420f=>_0x27420f['id']===_0xe6517b[_0x20a472(0x128)]),_0x45e854=_0x2762e4[_0x20a472(0x6fd)]?.['resultsDisplay']||'show_results_and_answers',_0x1a7c97=_0x2762e4[_0x20a472(0x6fd)]?.[_0x20a472(0x8cc)]??0x0,_0x514fe4=_0xe6517b['bestScore']>=_0x1a7c97;let _0x578eca='',_0x2dc896='bg-gray-50';switch(_0x45e854){case _0x20a472(0x7a5):case _0x20a472(0x631):_0x2dc896=_0x514fe4?_0x20a472(0x8af):'bg-red-50',_0x578eca='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x514fe4?_0x20a472(0x2ff):_0x20a472(0x80d))+'\x22>'+_0xe6517b[_0x20a472(0x1ff)]+_0x20a472(0x312)+_0xe6517b[_0x20a472(0x558)]+_0x20a472(0x3f9)+(_0x514fe4?_0x20a472(0x983):_0x20a472(0x186))+'\x22>'+(_0x514fe4?'ผ่าน':'ไม่ผ่าน')+_0x20a472(0x713);break;case _0x20a472(0x972):_0x2dc896=_0x514fe4?'bg-green-50':_0x20a472(0x288),_0x578eca='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x514fe4?'bg-green-200\x20text-green-800':_0x20a472(0x186))+'\x22>'+(_0x514fe4?_0x20a472(0x9d6):_0x20a472(0x6bd))+_0x20a472(0x713);break;case'manual_release':_0x2dc896=_0x20a472(0x180),_0x578eca=_0x20a472(0x814);break;}_0x57d999+=_0x20a472(0x8a3)+_0x2dc896+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x2762e4[_0x20a472(0x881)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0xe6517b['attempts'][_0x20a472(0x8c9)]+_0x20a472(0x693)+new Date(_0xe6517b[_0x20a472(0x3c5)])['toLocaleDateString']('th-TH')+_0x20a472(0x608)+_0x578eca+_0x20a472(0x6e4);}),_0x57d999+=_0x4a2270(0x3e2),_0x2bf055[_0x4a2270(0x8d2)]=_0x57d999;}catch(_0x5d1620){console[_0x4a2270(0x241)](_0x4a2270(0x7aa),_0x5d1620),_0x2bf055[_0x4a2270(0x8d2)]=_0x4a2270(0x4e1);}}function setupStudentProgressListeners(){const _0x16aa77=_0x555faf;document[_0x16aa77(0x8c8)]('view-my-progress-btn')[_0x16aa77(0x38a)](_0x16aa77(0x49b),showStudentProgressView),document['getElementById'](_0x16aa77(0x754))[_0x16aa77(0x38a)](_0x16aa77(0x49b),()=>{const _0x2b096a=_0x16aa77;document[_0x2b096a(0x8c8)]('student-progress-view')[_0x2b096a(0x65e)][_0x2b096a(0x43c)]('hidden'),document[_0x2b096a(0x8c8)](_0x2b096a(0x5fe))[_0x2b096a(0x65e)][_0x2b096a(0x3bf)](_0x2b096a(0x3a5));});}async function startSkillPractice(_0x482a79){const _0x55a701=_0x555faf;studentResultArea['classList'][_0x55a701(0x43c)]('hidden'),studentQuizArea[_0x55a701(0x8d2)]=_0x55a701(0x69a),studentQuizArea[_0x55a701(0x65e)][_0x55a701(0x3bf)](_0x55a701(0x3a5));try{const _0x235bda=await getStandardizedTopic(_0x482a79);console['log'](_0x55a701(0x533)+_0x482a79+_0x55a701(0x69f)+_0x235bda+'\x22'),studentQuizArea['querySelector']('p')[_0x55a701(0x29c)]=_0x55a701(0x686)+_0x235bda+_0x55a701(0x6b2);const _0x2026c3=collection(db,'artifacts/'+appId+_0x55a701(0x674)),_0x384a31=query(_0x2026c3,where(_0x55a701(0x881),'==',_0x235bda)),_0x385b8d=await getDocs(_0x384a31);if(_0x385b8d[_0x55a701(0x755)][_0x55a701(0x8c9)]>=0x3){console[_0x55a701(0x436)]('พบข้อสอบ\x20'+_0x385b8d['docs'][_0x55a701(0x8c9)]+_0x55a701(0x928)+_0x235bda+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x3d343c=_0x385b8d['docs'][_0x55a701(0x16a)](_0x4666b0=>_0x4666b0['data']());shuffleArray(_0x3d343c);const _0x3608d0={'topic':_0x235bda,'questions':_0x3d343c[_0x55a701(0x17a)](0x0,0x3)};displaySkillPracticeDrill(_0x3608d0);}else{console[_0x55a701(0x436)](_0x55a701(0x751)+_0x235bda+_0x55a701(0x38e));const _0x122445=await generatePracticeQuestions(_0x235bda);await saveDrillToPracticeBank(_0x122445,_0x235bda),displaySkillPracticeDrill(_0x122445);}}catch(_0x31399f){console[_0x55a701(0x241)](_0x55a701(0x9e5),_0x31399f),showMessage(_0x55a701(0x7a8)),studentQuizArea[_0x55a701(0x65e)]['add'](_0x55a701(0x3a5)),studentResultArea['classList']['remove'](_0x55a701(0x3a5));}}async function saveDrillToPracticeBank(_0xb51c60,_0x1965f5){const _0x3baedb=_0x555faf,_0x2482ea=collection(db,_0x3baedb(0x81a)+appId+_0x3baedb(0x674)),_0x48ae72=writeBatch(db);_0xb51c60['questions'][_0x3baedb(0x8ca)](_0xed1269=>{const _0x4e2bcc=_0x3baedb,_0x411f9a=doc(_0x2482ea);_0x48ae72['set'](_0x411f9a,{'topic':_0x1965f5,'questionText':_0xed1269[_0x4e2bcc(0x8fb)],'options':_0xed1269[_0x4e2bcc(0x81c)],'correctAnswerIndex':_0xed1269[_0x4e2bcc(0x230)],'explanation':_0xed1269[_0x4e2bcc(0x220)],'createdAt':serverTimestamp()});});try{await _0x48ae72[_0x3baedb(0x519)](),console[_0x3baedb(0x436)](_0x3baedb(0x863)+_0xb51c60[_0x3baedb(0x96e)][_0x3baedb(0x8c9)]+_0x3baedb(0x3d1));}catch(_0x3cf815){console[_0x3baedb(0x241)](_0x3baedb(0x929),_0x3cf815);}}async function getStandardizedTopic(_0x4b47c3){const _0x28e410=_0x555faf,_0x26cb97=_0x28e410(0x8ce)+_0x4b47c3+_0x28e410(0x4c4),_0x509f9a={'type':_0x28e410(0x3c2),'properties':{'standardTopic':{'type':_0x28e410(0x629)}},'required':[_0x28e410(0x416)]};try{const _0x3577bf=await callAnalysisApi(_0x26cb97,_0x509f9a);return _0x3577bf[_0x28e410(0x416)];}catch(_0x18aec2){return console[_0x28e410(0x241)](_0x28e410(0x6c5),_0x18aec2),_0x4b47c3;}}async function handleGenerateEasyVersionQuiz(_0x1df9f2){showConfirmation('คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้',async()=>{const _0x29fcc0=_0x4110;showMessage(_0x29fcc0(0x9a9));try{const _0x1cb148=allQuizzes['find'](_0x5c04c4=>_0x5c04c4['id']===_0x1df9f2);if(!_0x1cb148)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0xc522f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x29fcc0(0x784)](_0x1cb148[_0x29fcc0(0x96e)])+_0x29fcc0(0x1cb),_0x3a0aed={'type':_0x29fcc0(0x3c2),'properties':{'questionText':{'type':_0x29fcc0(0x629)},'questionType':{'type':'STRING'},'options':{'type':_0x29fcc0(0x12c),'items':{'type':_0x29fcc0(0x629)}},'correctAnswerIndex':{'type':_0x29fcc0(0x544)},'idealAnswer':{'type':_0x29fcc0(0x629)},'explanation':{'type':_0x29fcc0(0x629)},'imageCode':{'type':'STRING'}},'required':[_0x29fcc0(0x8fb),_0x29fcc0(0x496),_0x29fcc0(0x220)]},_0x1b126e={'type':'OBJECT','properties':{'questions':{'type':_0x29fcc0(0x12c),'items':_0x3a0aed}},'required':[_0x29fcc0(0x96e)]},_0x4c7d6a=await callAnalysisApi(_0xc522f,_0x1b126e);_0x4c7d6a&&_0x4c7d6a['questions']&&_0x4c7d6a[_0x29fcc0(0x96e)][_0x29fcc0(0x8ca)](_0x4cb401=>{const _0x4f69c6=_0x29fcc0;_0x4cb401[_0x4f69c6(0x8fb)]&&(_0x4cb401[_0x4f69c6(0x8fb)]=_0x4cb401[_0x4f69c6(0x8fb)][_0x4f69c6(0x588)]()['replace'](/,$/,'')['trim']());_0x4cb401['options']&&Array[_0x4f69c6(0x97a)](_0x4cb401[_0x4f69c6(0x81c)])&&(_0x4cb401[_0x4f69c6(0x81c)]=_0x4cb401[_0x4f69c6(0x81c)][_0x4f69c6(0x16a)](_0x25a543=>_0x25a543||_0x4f69c6(0x1f9)));if(_0x4cb401[_0x4f69c6(0x6be)]){const _0x10db55=_0x4cb401[_0x4f69c6(0x6be)][_0x4f69c6(0x588)]();_0x10db55===''||_0x10db55[_0x4f69c6(0x9b7)]()===_0x4f69c6(0x39a)||!_0x10db55[_0x4f69c6(0x79a)]('<svg')?delete _0x4cb401['imageCode']:_0x4cb401[_0x4f69c6(0x6be)]=_0x10db55;}});if(!_0x4c7d6a||!_0x4c7d6a['questions']||_0x4c7d6a[_0x29fcc0(0x96e)][_0x29fcc0(0x8c9)]===0x0)throw new Error(_0x29fcc0(0x248));const _0x559c41={'projectId':_0x1cb148[_0x29fcc0(0x8bf)],'quizType':_0x1cb148['quizType'],'settings':_0x1cb148[_0x29fcc0(0x6fd)],'createdBy':_0x1cb148[_0x29fcc0(0x38c)],'status':_0x29fcc0(0x736),'topic':_0x29fcc0(0x451)+_0x1cb148[_0x29fcc0(0x881)],'questions':_0x4c7d6a['questions'],'createdAt':new Date()[_0x29fcc0(0x92e)](),'quizMode':'standard','pairedQuizId':null};let _0x1f9e45;while(!![]){_0x1f9e45=Math[_0x29fcc0(0xff)](0x3e8+Math[_0x29fcc0(0x5a3)]()*0x2328)[_0x29fcc0(0x8be)]();const _0x4fbec9=await getDoc(doc(db,_0x29fcc0(0x81a)+appId+'/public/data/quizzes',_0x1f9e45));if(!_0x4fbec9['exists']())break;}await setDoc(doc(db,_0x29fcc0(0x81a)+appId+'/public/data/quizzes',_0x1f9e45),_0x559c41),showMessage(_0x29fcc0(0x22e));}catch(_0x972d26){console[_0x29fcc0(0x241)](_0x29fcc0(0x837),_0x972d26),showMessage(_0x29fcc0(0x4b0)+_0x972d26[_0x29fcc0(0x476)]);}});}async function generatePracticeQuestions(_0x432895){const _0x299c50=_0x555faf,_0x39966d=_0x299c50(0x914)+_0x432895+_0x299c50(0x77e)+simpleMathPrompt+_0x299c50(0x878),_0xec866e={'type':_0x299c50(0x3c2),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x299c50(0x12c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x299c50(0x629)}},'required':[_0x299c50(0x8fb),'options',_0x299c50(0x230),'explanation']},_0x3d6f0a={'type':_0x299c50(0x3c2),'properties':{'topic':{'type':_0x299c50(0x629)},'questions':{'type':_0x299c50(0x12c),'items':_0xec866e}},'required':['topic',_0x299c50(0x96e)]};return await callAnalysisApi(_0x39966d,_0x3d6f0a);}function displayLessonPlan(_0x24442b,_0xda88f2){const _0x3d5075=_0x555faf,_0x16f8de=_0x3d5075(0x8c5)+_0xda88f2[_0x3d5075(0x881)]+_0x3d5075(0x561)+_0x24442b[_0x3d5075(0x3b9)][_0x3d5075(0x16a)](_0x1ddf1d=>_0x3d5075(0x2ad)+_0x1ddf1d+_0x3d5075(0x782))['join']('')+_0x3d5075(0x401)+_0x24442b[_0x3d5075(0x635)]+_0x3d5075(0x7ec)+_0x24442b[_0x3d5075(0x9aa)]['map'](_0x38046b=>_0x3d5075(0x161)+_0x38046b[_0x3d5075(0x2f4)]+_0x3d5075(0x85c)+_0x38046b[_0x3d5075(0x329)]+'</p></div>')[_0x3d5075(0x71e)]('')+_0x3d5075(0x1fc);document[_0x3d5075(0x8c8)](_0x3d5075(0x9bd))['textContent']=_0x3d5075(0x54b)+_0xda88f2[_0x3d5075(0x881)],document[_0x3d5075(0x8c8)]('lesson-plan-content')[_0x3d5075(0x8d2)]=_0x16f8de,document[_0x3d5075(0x8c8)]('lesson-plan-modal')[_0x3d5075(0x65e)][_0x3d5075(0x3bf)](_0x3d5075(0x3a5));if(window['MathJax'])MathJax[_0x3d5075(0x715)]();}function displaySkillPracticeDrill(_0x40eeda){let _0x4f1427=0x0;const _0x282191=_0x40eeda['questions'],_0x5eb799=()=>{const _0x4b2c4c=_0x4110,_0x55c28f=_0x282191[_0x4f1427],_0x5d72be=_0x4b2c4c(0x9c8)+(_0x4f1427+0x1)+_0x4b2c4c(0x312)+_0x282191[_0x4b2c4c(0x8c9)]+_0x4b2c4c(0x4bb)+_0x55c28f['questionText']+_0x4b2c4c(0x700)+_0x55c28f[_0x4b2c4c(0x81c)][_0x4b2c4c(0x16a)]((_0x1ef567,_0x56004c)=>_0x4b2c4c(0x790)+_0x56004c+_0x4b2c4c(0x130)+_0x56004c+_0x4b2c4c(0x935)+_0x56004c+'\x22>'+_0x1ef567+_0x4b2c4c(0x217))[_0x4b2c4c(0x71e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x5d72be;if(window['MathJax'])MathJax[_0x4b2c4c(0x715)]([studentQuizArea]);document[_0x4b2c4c(0x8c8)]('hint-btn')[_0x4b2c4c(0x38a)](_0x4b2c4c(0x49b),async()=>{const _0x263d37=_0x4b2c4c,_0x1ca4a2=await getHintForQuestion(_0x55c28f[_0x263d37(0x8fb)]);showMessage(_0x1ca4a2);}),document[_0x4b2c4c(0x8c8)]('check-answer-btn')[_0x4b2c4c(0x38a)]('click',()=>{const _0x500878=_0x4b2c4c,_0x4f2c77=document[_0x500878(0x5be)](_0x500878(0x8dd));if(!_0x4f2c77){showMessage(_0x500878(0x67f));return;}const _0x28ae6e=document[_0x500878(0x8c8)](_0x500878(0x543)),_0x22da87=parseInt(_0x4f2c77[_0x500878(0x22a)])===_0x55c28f[_0x500878(0x230)];_0x22da87?(_0x28ae6e[_0x500878(0x530)]=_0x500878(0x5fd),_0x28ae6e[_0x500878(0x8d2)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x55c28f[_0x500878(0x220)]):(_0x28ae6e[_0x500878(0x530)]=_0x500878(0x73d),_0x28ae6e['innerHTML']=_0x500878(0x4d2)+_0x55c28f[_0x500878(0x220)]);_0x28ae6e[_0x500878(0x65e)]['remove'](_0x500878(0x3a5));if(window['MathJax'])MathJax['typesetPromise']([_0x28ae6e]);document['getElementById'](_0x500878(0x546))['classList'][_0x500878(0x43c)]('hidden'),document[_0x500878(0x8c8)](_0x500878(0x4af))[_0x500878(0x65e)][_0x500878(0x43c)](_0x500878(0x3a5)),document[_0x500878(0x8c8)](_0x500878(0x90f))[_0x500878(0x65e)][_0x500878(0x3bf)](_0x500878(0x3a5));}),document[_0x4b2c4c(0x8c8)](_0x4b2c4c(0x90f))['addEventListener'](_0x4b2c4c(0x49b),()=>{const _0x21674a=_0x4b2c4c;_0x4f1427++,_0x4f1427<_0x282191[_0x21674a(0x8c9)]?_0x5eb799():(studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x21674a(0x8c8)](_0x21674a(0x2bf))[_0x21674a(0x38a)]('click',()=>{const _0x402410=_0x21674a;studentQuizArea[_0x402410(0x65e)]['add'](_0x402410(0x3a5)),studentResultArea['classList'][_0x402410(0x3bf)](_0x402410(0x3a5));}));});};_0x5eb799();}async function getHintForQuestion(_0x2f1cd8){const _0x477179=_0x555faf,_0x1cd677=_0x477179(0x3cf)+_0x2f1cd8+_0x477179(0x6e3),_0x316806={'type':_0x477179(0x3c2),'properties':{'hint':{'type':_0x477179(0x629)}},'required':['hint']};try{const _0x440e3a=await callAnalysisApi(_0x1cd677,_0x316806);return _0x440e3a[_0x477179(0x866)];}catch(_0x44a021){return console[_0x477179(0x241)](_0x477179(0x1bc),_0x44a021),_0x477179(0x5ab);}}async function extractTextFromPdf(_0x4c3c71){const _0x1d382c=_0x555faf;pdfjsLib['GlobalWorkerOptions'][_0x1d382c(0x5a8)]=_0x1d382c(0x127);const _0x3fbfb3=await _0x4c3c71[_0x1d382c(0x9d0)](),_0x46d85f=await pdfjsLib['getDocument'](_0x3fbfb3)[_0x1d382c(0x1b1)],_0x1014a1=_0x46d85f['numPages'];let _0x545832='';for(let _0x17dfd2=0x1;_0x17dfd2<=_0x1014a1;_0x17dfd2++){const _0x10b67a=await _0x46d85f[_0x1d382c(0x345)](_0x17dfd2),_0x255b0f=await _0x10b67a[_0x1d382c(0x7e1)](),_0x1a198=_0x255b0f[_0x1d382c(0x98a)][_0x1d382c(0x16a)](_0x1b8a3c=>_0x1b8a3c['str'])['join']('\x20');_0x545832+=_0x1a198+'\x0a\x0a';}return _0x545832;}async function handleGenerateFromBlueprint(){const _0x4ebd5d=_0x555faf,_0x3a0ff7=document[_0x4ebd5d(0x8c8)]('blueprint-upload-input'),_0xcada5e=document['getElementById'](_0x4ebd5d(0x6d4)),_0x464109=_0x3a0ff7[_0x4ebd5d(0x51f)][0x0],_0x225b10=_0xcada5e['files'][_0x4ebd5d(0x8c9)]>0x0?_0xcada5e[_0x4ebd5d(0x51f)][0x0]:null;if(!_0x464109){showMessage(_0x4ebd5d(0x78d));return;}const _0xd740e5=document[_0x4ebd5d(0x8c8)](_0x4ebd5d(0x1c1)),_0x50713c=document[_0x4ebd5d(0x8c8)](_0x4ebd5d(0x34d)),_0x220eb7=document[_0x4ebd5d(0x8c8)](_0x4ebd5d(0x390)),_0x298313=document[_0x4ebd5d(0x8c8)](_0x4ebd5d(0x482));_0x298313[_0x4ebd5d(0x915)]=!![],document[_0x4ebd5d(0x8c8)](_0x4ebd5d(0x3e3))['classList']['remove']('hidden'),_0x220eb7[_0x4ebd5d(0x8d2)]='',_0xd740e5['classList'][_0x4ebd5d(0x3bf)](_0x4ebd5d(0x3a5));try{_0x50713c['textContent']='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x100e3f=await extractTextFromPdf(_0x464109);if(!_0x100e3f['trim']())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0xd601f8='';_0x225b10&&(_0x50713c[_0x4ebd5d(0x29c)]=_0x4ebd5d(0x553),_0xd601f8=await extractTextFromPdf(_0x225b10));_0x50713c['textContent']=_0x4ebd5d(0x621);const _0x449a43=document[_0x4ebd5d(0x8c8)](_0x4ebd5d(0x6ee))['checked'],_0x5c14b4=_0x449a43?_0x4ebd5d(0x1e6):'',_0x24b7fd=_0xd601f8?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd601f8+_0x4ebd5d(0x5d1):'',_0x2a27aa=_0x4ebd5d(0xf7)+(_0xd601f8?_0x4ebd5d(0x538):'')+_0x4ebd5d(0x3ec)+_0x100e3f+_0x4ebd5d(0x5d1)+_0x24b7fd+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c14b4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x4ebd5d(0x353),_0x2e9d66={'type':_0x4ebd5d(0x3c2),'properties':{'questionText':{'type':_0x4ebd5d(0x629)},'questionType':{'type':'STRING','enum':[_0x4ebd5d(0x6f7),_0x4ebd5d(0x247)]},'options':{'type':_0x4ebd5d(0x12c),'items':{'type':_0x4ebd5d(0x629)}},'correctAnswerIndex':{'type':_0x4ebd5d(0x544)},'idealAnswer':{'type':_0x4ebd5d(0x629)},'explanation':{'type':_0x4ebd5d(0x629)},'imageCode':{'type':'STRING'}},'required':[_0x4ebd5d(0x8fb),_0x4ebd5d(0x496),_0x4ebd5d(0x220)]},_0x55689d={'type':_0x4ebd5d(0x3c2),'properties':{'topic':{'type':_0x4ebd5d(0x629)},'questions':{'type':_0x4ebd5d(0x12c),'items':_0x2e9d66}},'required':[_0x4ebd5d(0x881),_0x4ebd5d(0x96e)]};await handleApiCall(_0x2a27aa,_0x4ebd5d(0x1be),_0x55689d);}catch(_0x3bf616){console['error'](_0x4ebd5d(0x978),_0x3bf616),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3bf616[_0x4ebd5d(0x476)]),_0x220eb7[_0x4ebd5d(0x8d2)]=_0x4ebd5d(0x148);}finally{_0xd740e5['classList']['add']('hidden'),_0x298313[_0x4ebd5d(0x915)]=![];}}function renderAdminSyncDashboard(_0xe199e,_0x9b7101){const _0x206c37=_0x555faf,_0x3b0079=Object[_0x206c37(0x988)](_0xe199e[_0x206c37(0x79e)]||{}),_0x2a862e=_0x3b0079[_0x206c37(0x8c9)],_0x202b9c=[..._0x3b0079][_0x206c37(0x55d)]((_0x25842c,_0x483b6e)=>_0x483b6e[_0x206c37(0x34e)]-_0x25842c[_0x206c37(0x34e)]),_0x44a331=_0xe199e[_0x206c37(0x75f)],_0x39c921=_0x202b9c[_0x206c37(0x16a)](_0x1e0a2d=>{const _0x4101a6=_0x206c37;let _0x4cba90=![];if(_0x1e0a2d[_0x4101a6(0x4ff)]&&_0x44a331!==-0x1){const _0x1e84dc=_0x1e0a2d[_0x4101a6(0x4ff)][_0x4101a6(0x653)](_0x471b66=>_0x471b66[_0x4101a6(0x9cb)]===_0x44a331);_0x1e84dc&&_0x1e84dc['isCorrect']&&(_0x4cba90=!![]);}const _0x164eb5=_0x4cba90?_0x4101a6(0x325):'bg-black/20';return _0x4101a6(0x56f)+_0x164eb5+_0x4101a6(0x727)+_0x1e0a2d[_0x4101a6(0x3df)]+_0x4101a6(0x49d)+_0x1e0a2d[_0x4101a6(0x34e)]+'\x20คะแนน</span></div>';})['join'](''),_0x204387=_0xe199e[_0x206c37(0x794)][_0x206c37(0x96e)],_0x2ae4ae=_0x204387[_0x206c37(0x16a)]((_0x5ccbc1,_0x562c91)=>{const _0x4837b6=_0x206c37,_0x2d58de=_0x3b0079[_0x4837b6(0x858)](_0x2f40fd=>_0x2f40fd[_0x4837b6(0x4ff)]&&_0x2f40fd[_0x4837b6(0x4ff)][_0x4837b6(0x653)](_0x420102=>_0x420102[_0x4837b6(0x9cb)]===_0x562c91&&_0x420102[_0x4837b6(0x696)]))[_0x4837b6(0x8c9)],_0x58fe65=_0x562c91===_0x44a331,_0x3c78ee=_0x58fe65?_0x4837b6(0x177):_0x4837b6(0x893);return _0x4837b6(0x6db)+_0x3c78ee+_0x4837b6(0x4e8)+(_0x562c91+0x1)+_0x4837b6(0x7a9)+_0x2d58de+_0x4837b6(0x312)+_0x2a862e+'\x20คน\x20ตอบถูก</p></div>';})[_0x206c37(0x71e)]('');let _0x5bbc2e='',_0x60cf0c='';if(_0x9b7101){const _0x233960=_0xe199e['currentQuestionIndex']>=_0x204387[_0x206c37(0x8c9)]-0x1;_0x5bbc2e=_0x206c37(0x173)+(_0x233960?_0x206c37(0x8e6):'ข้อต่อไป')+_0x206c37(0x3ea),_0x60cf0c=_0x206c37(0x99d);}const _0x385e54='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0xe199e[_0x206c37(0x794)]['topic']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x60cf0c+_0x206c37(0x5d7)+(_0x39c921||_0x206c37(0x3c7))+_0x206c37(0x4de)+_0x2ae4ae+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x9b7101?_0x206c37(0x94c)+_0x5bbc2e+_0x206c37(0x3e2):'')+_0x206c37(0x4a4);liveGameView[_0x206c37(0x8d2)]=_0x385e54;if(_0x9b7101){document['getElementById'](_0x206c37(0x59f))[_0x206c37(0x953)]=async()=>{const _0x5db433=_0x206c37,_0x59b375=doc(db,_0x5db433(0x81a)+appId+_0x5db433(0x92c),currentLiveGameId),_0x3588e1=_0xe199e[_0x5db433(0x75f)]+0x1;if(_0x3588e1<_0x204387[_0x5db433(0x8c9)]){const _0x4bbabe={};Object[_0x5db433(0x6cf)](_0xe199e[_0x5db433(0x79e)])[_0x5db433(0x8ca)](_0x4aa64f=>{const _0x140c47=_0x5db433;_0x4bbabe[_0x140c47(0x3bd)+_0x4aa64f+_0x140c47(0x8db)]=![];}),await updateDoc(_0x59b375,{..._0x4bbabe,'status':_0x5db433(0x2f4),'currentQuestionIndex':_0x3588e1,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x59b375,{'status':'podium'});};const _0x2f4767=document[_0x206c37(0x8c8)](_0x206c37(0x68c));_0x2f4767&&(_0x2f4767[_0x206c37(0x953)]=()=>{const _0x5b6e31=_0x206c37;showConfirmation(_0x5b6e31(0x16d),async()=>{const _0x361882=_0x5b6e31,_0x8ca13c=doc(db,_0x361882(0x81a)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x8ca13c,{'status':_0x361882(0x7bf)});});});}}async function handleGenerateParallelFromBank(_0x32f679){const _0x7d40b5=_0x555faf;switchProjectTab(_0x7d40b5(0x72f));const _0x379e19=document[_0x7d40b5(0x8c8)](_0x7d40b5(0x1c1)),_0x194ebf=document['getElementById'](_0x7d40b5(0x34d)),_0x34606c=document[_0x7d40b5(0x8c8)](_0x7d40b5(0x390));document[_0x7d40b5(0x8c8)](_0x7d40b5(0x3e3))['classList']['remove'](_0x7d40b5(0x3a5)),_0x34606c['innerHTML']='',_0x379e19[_0x7d40b5(0x65e)][_0x7d40b5(0x3bf)]('hidden'),_0x194ebf[_0x7d40b5(0x29c)]=_0x7d40b5(0x5d6)+_0x32f679[_0x7d40b5(0x881)]+'\x22\x20เพื่อสร้างชุดคู่ขนาน...';try{const _0x4b54ce=_0x32f679[_0x7d40b5(0x96e)][_0x7d40b5(0x16a)]((_0x9704a0,_0x2c33ea)=>{const _0x109e3c=_0x7d40b5;let _0x45c737=_0x2c33ea+0x1+'.\x20'+(_0x9704a0[_0x109e3c(0x8fb)]||_0x9704a0[_0x109e3c(0x822)])+'\x0a';if(_0x9704a0[_0x109e3c(0x81c)])_0x45c737+=_0x9704a0['options'][_0x109e3c(0x16a)]((_0x51ce56,_0x5086a6)=>_0x109e3c(0x77c)+(_0x5086a6===_0x9704a0[_0x109e3c(0x230)]?_0x109e3c(0x463):'')+'\x20'+_0x51ce56)[_0x109e3c(0x71e)]('\x0a');else _0x9704a0[_0x109e3c(0x1e4)]&&(_0x45c737+=_0x109e3c(0x208)+_0x9704a0[_0x109e3c(0x1e4)]);return _0x45c737;})[_0x7d40b5(0x71e)]('\x0a\x0a');_0x194ebf[_0x7d40b5(0x29c)]=_0x7d40b5(0x7cd);const _0x58146c=_0x32f679[_0x7d40b5(0x96e)][_0x7d40b5(0x8c9)],_0x136255=_0x7d40b5(0x381)+_0x32f679['topic']+_0x7d40b5(0x16c)+_0x58146c+'\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b54ce+_0x7d40b5(0x382)+_0x58146c+_0x7d40b5(0x8aa)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x7533a0={'type':_0x7d40b5(0x3c2),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x7d40b5(0x629),'enum':[_0x7d40b5(0x6f7),'short_answer',_0x7d40b5(0x43d),'matching_item']},'options':{'type':_0x7d40b5(0x12c),'items':{'type':_0x7d40b5(0x629)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x7d40b5(0x5e9)},'stem':{'type':_0x7d40b5(0x629)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x7d40b5(0x12c),'items':{'type':_0x7d40b5(0x629)}},'explanation':{'type':_0x7d40b5(0x629)},'imageCode':{'type':_0x7d40b5(0x629)}},'required':['questionText',_0x7d40b5(0x496),'explanation']},_0x45b1ee={'type':_0x7d40b5(0x3c2),'properties':{'topic':{'type':_0x7d40b5(0x629)},'questions':{'type':'ARRAY','items':_0x7533a0}},'required':[_0x7d40b5(0x881),'questions']},_0x33928b=await callAnalysisApi(_0x136255,_0x45b1ee);_0x33928b[_0x7d40b5(0x96e)]['length']>_0x58146c&&(_0x33928b[_0x7d40b5(0x96e)]=_0x33928b[_0x7d40b5(0x96e)][_0x7d40b5(0x17a)](0x0,_0x58146c)),_0x33928b['topic']='(คู่ขนาน)\x20'+_0x32f679[_0x7d40b5(0x881)],_0x33928b[_0x7d40b5(0x567)]=_0x32f679[_0x7d40b5(0x567)],currentQuizData=_0x33928b,displayGeneratedQuiz(_0x33928b),document[_0x7d40b5(0x8c8)](_0x7d40b5(0x369))[_0x7d40b5(0x943)]({'behavior':_0x7d40b5(0x71b)});}catch(_0x933165){console[_0x7d40b5(0x241)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x933165),showMessage(_0x7d40b5(0x4b0)+_0x933165[_0x7d40b5(0x476)]),_0x34606c[_0x7d40b5(0x8d2)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x379e19[_0x7d40b5(0x65e)]['add'](_0x7d40b5(0x3a5));}}async function handleGenerateParallelPostTest(_0x4d1d42){const _0x3f02f6=_0x555faf,_0x5c5f10=document[_0x3f02f6(0x8c8)](_0x3f02f6(0x8d0)),_0x13d239=document['getElementById'](_0x3f02f6(0x518));_0x13d239[_0x3f02f6(0x65e)][_0x3f02f6(0x43c)](_0x3f02f6(0x3a5));const _0x28fe40=_0x3f02f6(0x1fe);_0x5c5f10[_0x3f02f6(0x9a0)]('beforeend',_0x28fe40);try{const _0x16c9f1=_0x4d1d42[_0x3f02f6(0x96e)][_0x3f02f6(0x16a)]((_0x407a1c,_0x3d1a2c)=>{const _0x199916=_0x3f02f6;let _0x3ca506=_0x3d1a2c+0x1+'.\x20'+(_0x407a1c[_0x199916(0x8fb)]||_0x407a1c['stem']);if(_0x407a1c[_0x199916(0x81c)])_0x3ca506+=_0x199916(0x5b3)+_0x407a1c[_0x199916(0x81c)][_0x199916(0x71e)](',\x20');return _0x3ca506;})[_0x3f02f6(0x71e)]('\x0a\x0a'),_0x35b90e=_0x3f02f6(0x393)+_0x4d1d42[_0x3f02f6(0x881)]+_0x3f02f6(0x52a)+_0x16c9f1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x3f02f6(0x353),_0x3af1d7={'type':_0x3f02f6(0x3c2),'properties':{'topic':{'type':_0x3f02f6(0x629)},'questions':{'type':_0x3f02f6(0x12c),'items':{'type':_0x3f02f6(0x3c2),'properties':{'questionText':{'type':_0x3f02f6(0x629)},'questionType':{'type':_0x3f02f6(0x629)},'options':{'type':_0x3f02f6(0x12c),'items':{'type':_0x3f02f6(0x629)}},'correctAnswerIndex':{'type':_0x3f02f6(0x544)},'idealAnswer':{'type':_0x3f02f6(0x629)},'explanation':{'type':_0x3f02f6(0x629)}},'required':[_0x3f02f6(0x8fb),'explanation']}}},'required':['topic','questions']},_0x1fa6e6=await callAnalysisApi(_0x35b90e,_0x3af1d7),_0x99809c=_0x4d1d42[_0x3f02f6(0x881)][_0x3f02f6(0x750)]('(ก่อนเรียน)','')[_0x3f02f6(0x588)](),_0x49a0e2='(หลังเรียน)\x20'+_0x99809c,_0x5de2e0={..._0x1fa6e6,'topic':_0x49a0e2,'quizType':_0x4d1d42[_0x3f02f6(0x567)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x3f02f6(0x736),'settings':_0x4d1d42['settings'],'quizMode':_0x3f02f6(0x8a9),'pairedQuizId':_0x4d1d42['id']};let _0x13050d;while(!![]){_0x13050d=Math[_0x3f02f6(0xff)](0x3e8+Math['random']()*0x2328)['toString']();const _0x41f0c2=await getDoc(doc(db,'artifacts/'+appId+_0x3f02f6(0x235),_0x13050d));if(!_0x41f0c2[_0x3f02f6(0x28d)]())break;}await setDoc(doc(db,_0x3f02f6(0x81a)+appId+_0x3f02f6(0x235),_0x13050d),_0x5de2e0);const _0x438c31=doc(db,_0x3f02f6(0x81a)+appId+_0x3f02f6(0x235),_0x4d1d42['id']);await updateDoc(_0x438c31,{'pairedQuizId':_0x13050d}),showMessage(_0x3f02f6(0x9fb));}catch(_0x8f901d){console['error'](_0x3f02f6(0x542),_0x8f901d),showMessage(_0x3f02f6(0x4b0)+_0x8f901d[_0x3f02f6(0x476)]);}finally{const _0x2674e6=document[_0x3f02f6(0x8c8)]('temp-loader-results');if(_0x2674e6)_0x2674e6['remove']();_0x13d239[_0x3f02f6(0x65e)][_0x3f02f6(0x3bf)](_0x3f02f6(0x3a5));}}async function handleGenerateParallelTest(){const _0x2cf5b2=_0x555faf,_0x49442b=document['getElementById'](_0x2cf5b2(0x97e)),_0x467db1=_0x49442b['files'][0x0];if(!_0x467db1){showMessage(_0x2cf5b2(0x61c));return;}const _0x47fb0c=document[_0x2cf5b2(0x8c8)](_0x2cf5b2(0x1c1)),_0x46aae2=document[_0x2cf5b2(0x8c8)](_0x2cf5b2(0x34d)),_0x3a4c59=document['getElementById'](_0x2cf5b2(0x390)),_0x435a7c=document[_0x2cf5b2(0x8c8)]('generate-from-parallel-test-btn');_0x435a7c[_0x2cf5b2(0x915)]=!![],document[_0x2cf5b2(0x8c8)](_0x2cf5b2(0x3e3))[_0x2cf5b2(0x65e)]['remove'](_0x2cf5b2(0x3a5)),_0x3a4c59['innerHTML']='',_0x47fb0c[_0x2cf5b2(0x65e)][_0x2cf5b2(0x3bf)](_0x2cf5b2(0x3a5)),_0x46aae2[_0x2cf5b2(0x29c)]=_0x2cf5b2(0x3a2);try{const _0x1dcafa=await extractTextFromPdf(_0x467db1);if(!_0x1dcafa[_0x2cf5b2(0x588)]())throw new Error('ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย');_0x46aae2[_0x2cf5b2(0x29c)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x5245f4=document[_0x2cf5b2(0x8c8)](_0x2cf5b2(0x6ee))[_0x2cf5b2(0x593)],_0x8e149d=_0x5245f4?_0x2cf5b2(0x1e6):'',_0x2c3fbc=_0x2cf5b2(0x9df)+_0x1dcafa+_0x2cf5b2(0x413)+_0x8e149d+_0x2cf5b2(0x6bb)+simpleMathPrompt+_0x2cf5b2(0x353),_0x6fa7aa={'type':'OBJECT','properties':{'questionText':{'type':_0x2cf5b2(0x629)},'questionType':{'type':_0x2cf5b2(0x629),'enum':[_0x2cf5b2(0x6f7),_0x2cf5b2(0x247)]},'options':{'type':'ARRAY','items':{'type':_0x2cf5b2(0x629)}},'correctAnswerIndex':{'type':_0x2cf5b2(0x544)},'idealAnswer':{'type':_0x2cf5b2(0x629)},'explanation':{'type':_0x2cf5b2(0x629)},'imageCode':{'type':_0x2cf5b2(0x629)}},'required':['questionText','questionType',_0x2cf5b2(0x220)]},_0x38bd0d={'type':_0x2cf5b2(0x3c2),'properties':{'topic':{'type':_0x2cf5b2(0x629)},'questions':{'type':_0x2cf5b2(0x12c),'items':_0x6fa7aa}},'required':[_0x2cf5b2(0x881),_0x2cf5b2(0x96e)]};await handleApiCall(_0x2c3fbc,_0x2cf5b2(0x332),_0x38bd0d);}catch(_0x1d1d6c){console[_0x2cf5b2(0x241)](_0x2cf5b2(0x48e),_0x1d1d6c),showMessage(_0x2cf5b2(0x4b0)+_0x1d1d6c['message']),_0x3a4c59[_0x2cf5b2(0x8d2)]=_0x2cf5b2(0x84f);}finally{_0x47fb0c[_0x2cf5b2(0x65e)]['add'](_0x2cf5b2(0x3a5)),_0x435a7c[_0x2cf5b2(0x915)]=![];}}async function handleRegenerateQuestionInEditor(_0x54eed0){const _0xee64ee=_0x555faf;if(currentEditingQuizData===null)return;const _0x5257a3=document['querySelector'](_0xee64ee(0x1a9)+_0x54eed0+'\x22]');_0x5257a3&&(_0x5257a3[_0xee64ee(0x8d2)]=_0xee64ee(0x138));const _0x21dbba=currentEditingQuizData[_0xee64ee(0x96e)][_0x54eed0],_0x3ee229=currentEditingQuizData['topic'],_0x5c8cab=_0x21dbba[_0xee64ee(0x496)],_0x3dfe31={'type':'OBJECT','properties':{'questionText':{'type':_0xee64ee(0x629)},'options':{'type':_0xee64ee(0x12c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0xee64ee(0x629)}},'required':[_0xee64ee(0x8fb),_0xee64ee(0x81c),'correctAnswerIndex',_0xee64ee(0x220)]},_0x98ab23={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0xee64ee(0x629)},'explanation':{'type':_0xee64ee(0x629)}},'required':[_0xee64ee(0x8fb),_0xee64ee(0x1e4),_0xee64ee(0x220)]};let _0xdb4a87,_0x358ac6='';_0x5c8cab===_0xee64ee(0x6f7)?(_0xdb4a87=_0x3dfe31,_0x358ac6=_0xee64ee(0x667)):(_0xdb4a87=_0x98ab23,_0x358ac6=_0xee64ee(0x42c));const _0x1e7495=_0xee64ee(0x5b9)+_0x3ee229+_0xee64ee(0x628)+_0x358ac6+_0xee64ee(0x10f)+(_0x21dbba[_0xee64ee(0x8fb)]||_0x21dbba['stem'])+_0xee64ee(0x30f)+simpleMathPrompt;try{const _0x1a1c81=await callAnalysisApi(_0x1e7495,_0xdb4a87);currentEditingQuizData[_0xee64ee(0x96e)][_0x54eed0]={..._0x21dbba,..._0x1a1c81},renderQuizEditor(currentEditingQuizData);}catch(_0x3e871e){console[_0xee64ee(0x241)](_0xee64ee(0x250),_0x3e871e),showMessage(_0xee64ee(0x722)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x5935a3=_0x555faf,_0x48fa61=document[_0x5935a3(0x8c8)](_0x5935a3(0x8e9));currentMode==='student'?(currentMode=_0x5935a3(0x457),_0x48fa61[_0x5935a3(0x8d2)]=_0x5935a3(0x302),_0x48fa61['title']=_0x5935a3(0x7e5),showView(_0x5935a3(0x1ee))):(currentMode=_0x5935a3(0x8cd),_0x48fa61[_0x5935a3(0x8d2)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x48fa61['title']=_0x5935a3(0x44c),showView(_0x5935a3(0x8cd)));}function handleAdminLogin(){const _0x38e886=_0x555faf,_0x2bc3fb=document[_0x38e886(0x8c8)](_0x38e886(0x40f)),_0x4f3b32=document[_0x38e886(0x8c8)](_0x38e886(0x985));if(_0x2bc3fb[_0x38e886(0x22a)]===_0x38e886(0x15f)){adminPasswordModal[_0x38e886(0x65e)][_0x38e886(0x43c)](_0x38e886(0x3a5)),_0x2bc3fb['value']='',_0x4f3b32['classList'][_0x38e886(0x43c)](_0x38e886(0x3a5)),currentMode=_0x38e886(0x457);const _0x16de66=document[_0x38e886(0x8c8)]('mode-switcher-btn');_0x16de66[_0x38e886(0x8d2)]=_0x38e886(0x302),_0x16de66['title']=_0x38e886(0x7e5),showView(_0x38e886(0x1ee));}else _0x4f3b32[_0x38e886(0x65e)][_0x38e886(0x3bf)](_0x38e886(0x3a5)),_0x2bc3fb[_0x38e886(0x22a)]='';}function switchProjectTab(_0x18b15c){const _0x2b0fee=_0x555faf;[_0x2b0fee(0x72f),_0x2b0fee(0x87f),'leaderboard'][_0x2b0fee(0x8ca)](_0x488be3=>{const _0x43913a=_0x2b0fee;document['getElementById'](_0x488be3+_0x43913a(0x831))['classList'][_0x43913a(0x3bf)]('active'),document[_0x43913a(0x8c8)](_0x488be3+_0x43913a(0x48f))[_0x43913a(0x65e)][_0x43913a(0x43c)](_0x43913a(0x3a5));}),document[_0x2b0fee(0x8c8)](_0x18b15c+_0x2b0fee(0x831))['classList']['add']('active'),document['getElementById'](_0x18b15c+'-tab-content')[_0x2b0fee(0x65e)][_0x2b0fee(0x3bf)]('hidden');}function switchQuizDetailTab(_0xe69e87){const _0x53fc01=_0x555faf,_0x289f65={'analytics':{'btn':_0x53fc01(0x79c),'content':'analytics-tab-content'},'scores':{'btn':_0x53fc01(0x2bd),'content':_0x53fc01(0x355)},'leaderboard-quiz':{'btn':_0x53fc01(0x777),'content':_0x53fc01(0x4a3)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x53fc01(0x8ed)}};for(const _0x358a1b in _0x289f65){document['getElementById'](_0x289f65[_0x358a1b]['btn'])[_0x53fc01(0x65e)][_0x53fc01(0x3bf)](_0x53fc01(0x736)),document[_0x53fc01(0x8c8)](_0x289f65[_0x358a1b]['content'])[_0x53fc01(0x65e)][_0x53fc01(0x43c)](_0x53fc01(0x3a5));}document['getElementById'](_0x289f65[_0xe69e87]['btn'])[_0x53fc01(0x65e)][_0x53fc01(0x43c)]('active'),document['getElementById'](_0x289f65[_0xe69e87][_0x53fc01(0x1fa)])[_0x53fc01(0x65e)][_0x53fc01(0x3bf)](_0x53fc01(0x3a5));}function showMessage(_0x2721b0,_0xd25042=null){const _0x4e497c=_0x555faf;modalMessage['textContent']=_0x2721b0,modalConfirmAction=_0xd25042,messageModal[_0x4e497c(0x65e)][_0x4e497c(0x3bf)](_0x4e497c(0x3a5));}function showConfirmation(_0x175b64,_0x10e994){const _0x559c10=_0x555faf;document[_0x559c10(0x8c8)](_0x559c10(0x26c))[_0x559c10(0x29c)]=_0x175b64,document[_0x559c10(0x8c8)](_0x559c10(0x1c2))[_0x559c10(0x5be)]('h3')[_0x559c10(0x29c)]=_0x559c10(0x957),confirmAction=_0x10e994,confirmationModal[_0x559c10(0x65e)][_0x559c10(0x3bf)]('hidden');}function listenForProjects(){const _0x2fb392=_0x555faf,_0x5b428b=doc(db,_0x2fb392(0x9cc),'dashboardConfig');onSnapshot(_0x5b428b,_0x140236=>{const _0x3ceaf2=_0x2fb392;if(_0x140236['exists']()){const _0x6d5ba0=_0x140236[_0x3ceaf2(0x56d)]();globalDashboardSettings[_0x3ceaf2(0x945)]=_0x6d5ba0[_0x3ceaf2(0x945)]||_0x3ceaf2(0x3f4),globalDashboardSettings[_0x3ceaf2(0x682)]=_0x6d5ba0[_0x3ceaf2(0x682)]||[],globalDashboardSettings[_0x3ceaf2(0x1cc)]=_0x6d5ba0[_0x3ceaf2(0x1cc)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x3564de=collection(db,_0x2fb392(0x81a)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x3564de,_0x2d3817=>{const _0xa664f2=_0x2fb392;allProjects=_0x2d3817['docs'][_0xa664f2(0x16a)](_0x3263d9=>({'id':_0x3263d9['id'],..._0x3263d9['data']()})),renderProjects();},_0x10a832=>{const _0x4f3dfe=_0x2fb392;console[_0x4f3dfe(0x241)](_0x4f3dfe(0x60f),_0x10a832),showMessage(_0x4f3dfe(0x37b));});}function showColorPalette(_0x430217,_0x45f680){const _0xd74a57=_0x555faf;document['querySelectorAll'](_0xd74a57(0x70a))[_0xd74a57(0x8ca)](_0x377b2d=>_0x377b2d[_0xd74a57(0x3bf)]());const _0x254eff=[_0xd74a57(0xe9),'#FEE2E2','#FEF3C7',_0xd74a57(0x365),_0xd74a57(0x55b),_0xd74a57(0x59e),'#F3E8FF',_0xd74a57(0x403),_0xd74a57(0x979)],_0x4832a2=document[_0xd74a57(0xf8)]('div');_0x4832a2[_0xd74a57(0x530)]=_0xd74a57(0x67b),_0x254eff[_0xd74a57(0x8ca)](_0x3db122=>{const _0x485d02=_0xd74a57,_0x491abe=document[_0x485d02(0xf8)]('div');_0x491abe[_0x485d02(0x530)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x491abe[_0x485d02(0x1c6)][_0x485d02(0x660)]=_0x3db122,_0x491abe['addEventListener']('click',()=>{const _0xfee2de=_0x485d02;handleProjectColorChange(_0x45f680,_0x3db122),_0x4832a2[_0xfee2de(0x3bf)]();}),_0x4832a2[_0x485d02(0x198)](_0x491abe);}),document[_0xd74a57(0x747)][_0xd74a57(0x198)](_0x4832a2);const _0xc85e7f=_0x430217[_0xd74a57(0x73f)]();_0x4832a2[_0xd74a57(0x1c6)][_0xd74a57(0x817)]=_0xc85e7f[_0xd74a57(0x3eb)]+window[_0xd74a57(0x8ac)]+'px',_0x4832a2['style']['left']=_0xc85e7f[_0xd74a57(0x3ce)]+window['scrollX']-_0x4832a2['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x120c34,_0x131df8){const _0x39280d=_0x555faf,_0x446964=doc(db,'artifacts/'+appId+_0x39280d(0x2fe),_0x120c34);try{await updateDoc(_0x446964,{'color':_0x131df8});}catch(_0x525223){console[_0x39280d(0x241)](_0x39280d(0x72d),_0x525223),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x4dbb35=_0x555faf,_0x33b261=globalDashboardSettings[_0x4dbb35(0x945)]||'date_desc',_0x4a1533=new Set(globalDashboardSettings[_0x4dbb35(0x682)]||[]),_0x168e05=globalDashboardSettings['projectView']||_0x4dbb35(0x633),_0x3ddd16=document[_0x4dbb35(0x8c8)](_0x4dbb35(0x91d)),_0x1e0ae6=document[_0x4dbb35(0x8c8)](_0x4dbb35(0x236));_0x3ddd16['classList'][_0x4dbb35(0x491)]('active',_0x168e05===_0x4dbb35(0x633)),_0x1e0ae6['classList'][_0x4dbb35(0x491)](_0x4dbb35(0x736),_0x168e05===_0x4dbb35(0x426)),document['getElementById'](_0x4dbb35(0x5f7))[_0x4dbb35(0x22a)]=_0x33b261;const _0x454b30=document[_0x4dbb35(0x8c8)]('project-search-input')[_0x4dbb35(0x22a)][_0x4dbb35(0x9b7)]();let _0x31f61c=allProjects[_0x4dbb35(0x858)](_0x300459=>_0x300459['projectName'][_0x4dbb35(0x9b7)]()[_0x4dbb35(0xf5)](_0x454b30));const _0x55e8ea=_0x31f61c[_0x4dbb35(0x858)](_0x3caf31=>_0x4a1533['has'](_0x3caf31['id'])),_0x5ea1d9=_0x31f61c[_0x4dbb35(0x858)](_0x1ddd87=>!_0x4a1533[_0x4dbb35(0x12a)](_0x1ddd87['id'])),_0xed3392=(_0x5b010e,_0x13378b)=>{const _0x578e45=_0x4dbb35;switch(_0x33b261){case _0x578e45(0x695):return _0x5b010e[_0x578e45(0x6f6)]['localeCompare'](_0x13378b[_0x578e45(0x6f6)],'th');case _0x578e45(0x711):return _0x13378b['projectName'][_0x578e45(0x2cf)](_0x5b010e[_0x578e45(0x6f6)],'th');case _0x578e45(0x3b2):return new Date(_0x5b010e[_0x578e45(0x823)])-new Date(_0x13378b[_0x578e45(0x823)]);default:return new Date(_0x13378b[_0x578e45(0x823)])-new Date(_0x5b010e[_0x578e45(0x823)]);}};_0x55e8ea[_0x4dbb35(0x55d)](_0xed3392),_0x5ea1d9[_0x4dbb35(0x55d)](_0xed3392);const _0x436a04=[..._0x55e8ea,..._0x5ea1d9],_0x52dd62=globalDashboardSettings[_0x4dbb35(0x1cc)]||[];_0x52dd62[_0x4dbb35(0x8c9)]>0x0&&_0x168e05==='grid'&&_0x436a04['sort']((_0x2a80eb,_0x6efa25)=>{const _0x5212ef=_0x4dbb35,_0x293b46=_0x52dd62[_0x5212ef(0x83e)](_0x2a80eb['id']),_0x456d16=_0x52dd62[_0x5212ef(0x83e)](_0x6efa25['id']);if(_0x293b46===-0x1)return 0x1;if(_0x456d16===-0x1)return-0x1;return _0x293b46-_0x456d16;});const _0x11c0e3={};await Promise[_0x4dbb35(0x816)](_0x436a04[_0x4dbb35(0x16a)](async _0x41f1f2=>{const _0x1ed9a6=_0x4dbb35,_0x412050=query(collection(db,_0x1ed9a6(0x81a)+appId+_0x1ed9a6(0x235)),where(_0x1ed9a6(0x8bf),'==',_0x41f1f2['id'])),_0x7ae0a9=await getDocs(_0x412050);_0x11c0e3[_0x41f1f2['id']]=_0x7ae0a9['size'];}));const _0x48203f=document[_0x4dbb35(0x8c8)](_0x4dbb35(0x867));let _0x38129e='';if(_0x168e05===_0x4dbb35(0x633)){_0x48203f['className']=_0x4dbb35(0x819);if(starredQuizzes[_0x4dbb35(0x8c9)]>0x0&&_0x454b30===''){const _0x28237c=starredQuizzes['map'](_0xb9f416=>{const _0x288db9=_0x4dbb35,_0x266a2f=allProjects['find'](_0x20068f=>_0x20068f['id']===_0xb9f416[_0x288db9(0x8bf)]);return{..._0xb9f416,'projectName':_0x266a2f?_0x266a2f['projectName']:_0x288db9(0x437)};});_0x38129e+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28237c[_0x4dbb35(0x16a)](_0x5c990d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x5c990d[_0x4dbb35(0x881)]+'\x22>'+_0x5c990d[_0x4dbb35(0x881)]+_0x4dbb35(0x58e)+_0x5c990d['projectName']+_0x4dbb35(0xe1)+_0x5c990d[_0x4dbb35(0x6f6)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4dbb35(0x71e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes['length']+_0x4dbb35(0x74e);}_0x436a04[_0x4dbb35(0x8ca)](_0x5aabb9=>{const _0x383389=_0x4dbb35,_0x2a06c1=_0x11c0e3[_0x5aabb9['id']]??0x0,_0xc86a01=_0x4a1533[_0x383389(0x12a)](_0x5aabb9['id']),_0x5b374c=_0x5aabb9[_0x383389(0x5dc)]||_0x383389(0xe9),_0x489b4f=parseInt(_0x5b374c[_0x383389(0x604)](0x1,0x3),0x10)*0.299+parseInt(_0x5b374c[_0x383389(0x604)](0x3,0x5),0x10)*0.587+parseInt(_0x5b374c[_0x383389(0x604)](0x5,0x7),0x10)*0.114<0xba,_0x43e854=_0x489b4f?'text-white':'text-indigo-800',_0x4ccb3a=_0x489b4f?_0x383389(0x5bd):_0x383389(0x671);_0x38129e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0xc86a01?_0x383389(0x1ac):'border-gray-200')+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x5b374c+_0x383389(0x65a)+_0x5aabb9['id']+_0x383389(0x137)+_0x5aabb9['id']+_0x383389(0x81b)+(_0x489b4f?_0x383389(0x9ea):_0x383389(0x2b6))+_0x383389(0x86c)+_0x5aabb9['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x489b4f?_0x383389(0x9ea):_0x383389(0x2b6))+_0x383389(0x888)+(_0xc86a01?_0x489b4f?_0x383389(0x7d1):_0x383389(0x9b5):'')+_0x383389(0x9ac)+_0x5aabb9['id']+_0x383389(0x8a6)+_0x43e854+_0x383389(0x612)+_0x5aabb9[_0x383389(0x6f6)]+_0x383389(0x4b5)+_0x4ccb3a+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x5aabb9[_0x383389(0x823)])[_0x383389(0x9a3)](_0x383389(0x8b6))+_0x383389(0x9fe)+(_0x489b4f?'text-gray-100':'text-gray-700')+_0x383389(0x839)+_0x2a06c1+_0x383389(0x5ec)+_0x5aabb9['id']+_0x383389(0x33e)+_0x5aabb9['projectName']+_0x383389(0x1db)+(_0x489b4f?'text-red-300\x20hover:text-red-100':_0x383389(0x2ea))+_0x383389(0x5c7);});}else _0x48203f[_0x4dbb35(0x530)]=_0x4dbb35(0x78e),starredQuizzes[_0x4dbb35(0x8c9)]>0x0&&_0x454b30===''&&(_0x38129e+=_0x4dbb35(0x504)+starredQuizzes['length']+_0x4dbb35(0x2b5)),_0x38129e+=_0x4dbb35(0x665),_0x436a04[_0x4dbb35(0x8ca)](_0x50eaa0=>{const _0x353a9b=_0x4dbb35,_0x5f2a33=_0x11c0e3[_0x50eaa0['id']]??0x0,_0x14e94d=_0x4a1533[_0x353a9b(0x12a)](_0x50eaa0['id']);_0x38129e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x50eaa0[_0x353a9b(0x5dc)]||_0x353a9b(0x979))+_0x353a9b(0x6d0)+_0x50eaa0['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x50eaa0[_0x353a9b(0x6f6)]+_0x353a9b(0x728)+_0x5f2a33+_0x353a9b(0xdf)+new Date(_0x50eaa0[_0x353a9b(0x823)])['toLocaleString']('th-TH')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x50eaa0['id']+_0x353a9b(0x119)+(_0x14e94d?'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x50eaa0['id']+_0x353a9b(0x33e)+_0x50eaa0[_0x353a9b(0x6f6)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x4dbb35(0x8d2)]=_0x38129e,noProjectsMsg[_0x4dbb35(0x65e)]['toggle'](_0x4dbb35(0x3a5),_0x38129e[_0x4dbb35(0x8c9)]>0x0);}document[_0x555faf(0x8c8)](_0x555faf(0x3fe))[_0x555faf(0x38a)]('click',async()=>{const _0x4c7e23=_0x555faf,_0xd45f1e=document[_0x4c7e23(0x8c8)](_0x4c7e23(0x610)),_0x3c36a4=_0xd45f1e[_0x4c7e23(0x22a)][_0x4c7e23(0x588)]();if(!_0x3c36a4){showMessage(_0x4c7e23(0x14a));return;}try{const _0x1aed10=doc(collection(db,_0x4c7e23(0x81a)+appId+_0x4c7e23(0x2fe)));await setDoc(_0x1aed10,{'projectName':_0x3c36a4,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x4c7e23(0x555),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x4c7e23(0x555),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x4c7e23(0x92e)]()}),_0xd45f1e[_0x4c7e23(0x22a)]='',createProjectModal['classList'][_0x4c7e23(0x43c)]('hidden'),showMessage(_0x4c7e23(0x337));}catch(_0x42f1a2){console[_0x4c7e23(0x241)](_0x4c7e23(0x1a5),_0x42f1a2),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x555faf(0x38a)](_0x555faf(0x49b),async _0x4c6bd9=>{const _0x489065=_0x555faf,_0x2aa423=_0x4c6bd9[_0x489065(0x3ca)]['closest']('.project-card-content'),_0x32e7fe=_0x4c6bd9['target']['closest'](_0x489065(0x155)),_0x25bba9=_0x4c6bd9[_0x489065(0x3ca)][_0x489065(0x5d5)](_0x489065(0x2ef)),_0x4e2a1a=_0x4c6bd9[_0x489065(0x3ca)][_0x489065(0x5d5)]('.color-palette-btn');if(_0x25bba9){const _0x49ac66=_0x25bba9[_0x489065(0x8eb)]['id'],_0x52a698=doc(db,_0x489065(0x9cc),_0x489065(0x6f9)),_0x45f916=globalDashboardSettings[_0x489065(0x682)];let _0x4947f7;_0x45f916[_0x489065(0xf5)](_0x49ac66)?_0x4947f7=_0x45f916['filter'](_0x3c0261=>_0x3c0261!==_0x49ac66):_0x4947f7=[..._0x45f916,_0x49ac66];try{await setDoc(_0x52a698,{'pinnedProjects':_0x4947f7},{'merge':!![]});}catch(_0x49c316){console[_0x489065(0x241)](_0x489065(0xa00),_0x49c316),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x4e2a1a){const _0x1bac99=_0x4e2a1a['dataset']['id'];showColorPalette(_0x4e2a1a,_0x1bac99);}else{if(_0x2aa423){const _0x3fd6a7=_0x2aa423[_0x489065(0x8eb)]['id'];_0x3fd6a7===_0x489065(0x41e)?showStarredProjectView():(currentProjectId=_0x3fd6a7,await loadProjectDetails(currentProjectId),showView(_0x489065(0x211)));}else{if(_0x32e7fe){const _0x3c4ca1=_0x32e7fe[_0x489065(0x8eb)]['id'],_0x64a43f=_0x32e7fe[_0x489065(0x8eb)][_0x489065(0x3df)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x64a43f+_0x489065(0x66e),()=>handleDeleteProject(_0x3c4ca1));}}}}}),projectList[_0x555faf(0x38a)](_0x555faf(0x163),_0xcbfac5=>{const _0xd1ecd5=_0x555faf,_0x4e578f=_0xcbfac5[_0xd1ecd5(0x3ca)][_0xd1ecd5(0x5d5)](_0xd1ecd5(0x1e3));_0x4e578f&&_0x4e578f['classList'][_0xd1ecd5(0x43c)](_0xd1ecd5(0x676));}),projectList['addEventListener'](_0x555faf(0x689),_0x1a2f6d=>{const _0x2bc2d3=_0x555faf,_0x41244c=_0x1a2f6d['target']['closest'](_0x2bc2d3(0x1e3));_0x41244c&&_0x41244c[_0x2bc2d3(0x65e)]['remove'](_0x2bc2d3(0x676));}),projectList[_0x555faf(0x38a)](_0x555faf(0x7fc),_0x4524d5=>{const _0x577b34=_0x555faf;_0x4524d5[_0x577b34(0x28f)]();const _0x5c2c75=document[_0x577b34(0x5be)]('.project-card-container.opacity-50');if(!_0x5c2c75)return;const _0x226010=getDragAfterElement(projectList,_0x4524d5[_0x577b34(0x278)]);_0x226010==null?projectList[_0x577b34(0x198)](_0x5c2c75):projectList[_0x577b34(0x2d2)](_0x5c2c75,_0x226010);}),projectList[_0x555faf(0x38a)](_0x555faf(0x9ed),_0x46626b=>{const _0x13c672=_0x555faf;_0x46626b['preventDefault']();const _0x6e2e06=[...projectList[_0x13c672(0x379)]('.project-card-container[data-id]')]['map'](_0x3f717c=>_0x3f717c['dataset']['id']);saveProjectOrder(_0x6e2e06);});function renderBehaviorLog(_0x429e09){const _0x2891ec=_0x555faf,_0xec0f20=document[_0x2891ec(0x8c8)](_0x2891ec(0x8a4));if(!_0xec0f20)return;const _0x265acd=_0x429e09[_0x2891ec(0x858)](_0x208fc8=>_0x208fc8[_0x2891ec(0xf9)]&&_0x208fc8[_0x2891ec(0xf9)][_0x2891ec(0x8c9)]>0x0);if(_0x265acd[_0x2891ec(0x8c9)]===0x0){_0xec0f20[_0x2891ec(0x8d2)]=_0x2891ec(0x772);return;}let _0x5c19d9='';_0x265acd[_0x2891ec(0x8ca)](_0x10c683=>{const _0x2fbaf5=_0x2891ec;_0x5c19d9+=_0x2fbaf5(0x67a)+_0x10c683['studentName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x10c683[_0x2fbaf5(0xf9)][_0x2fbaf5(0x55d)]((_0x23bb44,_0x30bbb6)=>new Date(_0x30bbb6[_0x2fbaf5(0x67c)])-new Date(_0x23bb44[_0x2fbaf5(0x67c)]))[_0x2fbaf5(0x8ca)](_0x315b60=>{const _0x3dcc4d=_0x2fbaf5,_0x458cb7=new Date(_0x315b60[_0x3dcc4d(0x67c)])[_0x3dcc4d(0x67d)]('th-TH',{'dateStyle':_0x3dcc4d(0x84b),'timeStyle':_0x3dcc4d(0x4c7)});_0x5c19d9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x315b60[_0x3dcc4d(0x2eb)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x458cb7+_0x3dcc4d(0x949);}),_0x5c19d9+=_0x2fbaf5(0x53a);}),_0xec0f20[_0x2891ec(0x8d2)]=_0x5c19d9;}function getDragAfterElement(_0x475a7e,_0x5bc8bd){const _0x2c75be=_0x555faf,_0x18390d=[..._0x475a7e[_0x2c75be(0x379)]('.project-card-container:not(.opacity-50)')];return _0x18390d[_0x2c75be(0x40b)]((_0x19405b,_0x153118)=>{const _0x5177c4=_0x2c75be,_0x3f5252=_0x153118[_0x5177c4(0x73f)](),_0x3e9e9e=_0x5bc8bd-_0x3f5252[_0x5177c4(0x817)]-_0x3f5252[_0x5177c4(0x6e6)]/0x2;return _0x3e9e9e<0x0&&_0x3e9e9e>_0x19405b[_0x5177c4(0x93f)]?{'offset':_0x3e9e9e,'element':_0x153118}:_0x19405b;},{'offset':Number[_0x2c75be(0x4a5)]})[_0x2c75be(0x109)];}async function saveProjectOrder(_0x5c64bc){const _0x31a267=_0x555faf,_0x270d9a=doc(db,_0x31a267(0x9cc),_0x31a267(0x6f9));try{await setDoc(_0x270d9a,{'projectOrder':_0x5c64bc},{'merge':!![]});}catch(_0x8dbe62){console[_0x31a267(0x241)](_0x31a267(0x42d),_0x8dbe62),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x513eb1,_0x2e3a01={}){const _0x51be79=_0x555faf;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x51be79(0x1dd)](_0x51be79(0x3d6));return;}const _0x19e6db=doc(db,_0x51be79(0x81a)+appId+_0x51be79(0x664)+currentQuizData['id']+_0x51be79(0x647),currentStudentName),_0x133bee={'event':_0x513eb1,'timestamp':new Date()[_0x51be79(0x92e)](),..._0x2e3a01};try{await updateDoc(_0x19e6db,{'behaviorLog':arrayUnion(_0x133bee)}),console[_0x51be79(0x436)](_0x51be79(0x3bb)+currentStudentName+'\x20สำเร็จ');}catch(_0x3242b1){_0x3242b1[_0x51be79(0x8f5)]===_0x51be79(0x845)?console[_0x51be79(0x1dd)](_0x51be79(0x23f)+currentStudentName+_0x51be79(0x5c1)):console['error'](_0x51be79(0x300),_0x3242b1);}}function calculateMeanAndStdDev(_0x1cbadb){const _0x56325e=_0x555faf;if(_0x1cbadb[_0x56325e(0x8c9)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4e208d=_0x1cbadb[_0x56325e(0x40b)]((_0xa72357,_0x1d2dc2)=>_0xa72357+_0x1d2dc2,0x0)/_0x1cbadb[_0x56325e(0x8c9)];if(_0x1cbadb[_0x56325e(0x8c9)]===0x1)return{'mean':_0x4e208d,'stdDev':0x0};const _0x2bf4f0=Math[_0x56325e(0x4d4)](_0x1cbadb[_0x56325e(0x16a)](_0x589a2c=>Math[_0x56325e(0x1ed)](_0x589a2c-_0x4e208d,0x2))[_0x56325e(0x40b)]((_0x77c3ba,_0x8b4220)=>_0x77c3ba+_0x8b4220,0x0)/(_0x1cbadb[_0x56325e(0x8c9)]-0x1));return{'mean':_0x4e208d,'stdDev':_0x2bf4f0};}function calculateZScore(_0x3b67f0,_0x92eba3,_0x2e03e9){if(_0x2e03e9===0x0)return 0x0;return(_0x3b67f0-_0x92eba3)/_0x2e03e9;}function calculateTScore(_0x125379){return 0xa*_0x125379+0x32;}function showStarredProjectView(){const _0x4ad9da=_0x555faf;currentProjectId=_0x4ad9da(0x9d8),currentProjectData=null,projectTitle[_0x4ad9da(0x29c)]='แบบทดสอบที่ติดดาว',projectIdDisplay['textContent']=_0x4ad9da(0x64d),showView(_0x4ad9da(0x211)),manageTab['classList'][_0x4ad9da(0x43c)](_0x4ad9da(0x3a5)),leaderboardTab['classList'][_0x4ad9da(0x43c)](_0x4ad9da(0x3a5)),switchProjectTab(_0x4ad9da(0x87f)),renderQuizzes();}async function loadProjectDetails(_0x624b0a){const _0x45782f=_0x555faf,_0x3f3115=doc(db,_0x45782f(0x81a)+appId+'/public/data/projects',_0x624b0a),_0x4f206c=await getDoc(_0x3f3115);if(_0x4f206c[_0x45782f(0x28d)]()){manageTab[_0x45782f(0x65e)][_0x45782f(0x3bf)](_0x45782f(0x3a5)),leaderboardTab[_0x45782f(0x65e)]['remove'](_0x45782f(0x3a5)),currentProjectData=_0x4f206c[_0x45782f(0x56d)](),projectTitle[_0x45782f(0x29c)]=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x624b0a;const _0x190ac8=currentProjectData['settings']||{};document[_0x45782f(0x8c8)](_0x45782f(0x503))[_0x45782f(0x22a)]=_0x190ac8[_0x45782f(0x4da)]||_0x45782f(0x555);const _0x40f6db=document['getElementById'](_0x45782f(0x210));_0x40f6db[_0x45782f(0x593)]=_0x190ac8['showInStudentDashboard']!==![];const _0x2422b6=document['getElementById'](_0x45782f(0x466)),_0x3947a8=document[_0x45782f(0x8c8)](_0x45782f(0x2b0)),_0x36c5ab=document[_0x45782f(0x8c8)]('project-passcode-input'),_0x53d84a=_0x190ac8[_0x45782f(0x3a3)]||![];_0x2422b6[_0x45782f(0x593)]=_0x53d84a,_0x36c5ab['value']=_0x190ac8['passcode']||'',_0x3947a8[_0x45782f(0x65e)][_0x45782f(0x491)]('hidden',!_0x53d84a),_0x2422b6[_0x45782f(0x25a)]=()=>{const _0x449fca=_0x45782f;_0x3947a8['classList'][_0x449fca(0x491)](_0x449fca(0x3a5),!_0x2422b6[_0x449fca(0x593)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x624b0a),listenForProjectQuizzes(_0x624b0a),listenForStudentProfiles(_0x624b0a);}else showMessage(_0x45782f(0x4a9)),showView(_0x45782f(0x1ee));}async function handleResetProjectOrder(){const _0x38566f=_0x555faf,_0x103a4e=doc(db,_0x38566f(0x9cc),_0x38566f(0x6f9));try{await setDoc(_0x103a4e,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x38566f(0x761));}catch(_0x4d6f6d){console[_0x38566f(0x241)](_0x38566f(0x3ee),_0x4d6f6d),showMessage(_0x38566f(0x292));}}async function handleTogglePinProject(_0x7b722f){const _0x73e946=_0x555faf;if(!_0x7b722f)return;const _0x3a816c=doc(db,'artifacts/'+appId+'/public/data/projects',_0x7b722f);try{const _0x397710=await getDoc(_0x3a816c);if(_0x397710['exists']()){const _0x4b8ee0=_0x397710['data']()[_0x73e946(0x262)]||![];await updateDoc(_0x3a816c,{'isPinned':!_0x4b8ee0});}}catch(_0x2913be){console[_0x73e946(0x241)]('Error\x20toggling\x20pin\x20status:',_0x2913be),showMessage(_0x73e946(0x3c8));}}async function handleDeleteProject(_0x4d7304){const _0x7391a4=_0x555faf;try{const _0x43b5f7=writeBatch(db),_0x2320fd=collection(db,_0x7391a4(0x81a)+appId+'/public/data/quizzes'),_0x4785bc=query(_0x2320fd,where(_0x7391a4(0x8bf),'==',_0x4d7304)),_0x1afbd8=await getDocs(_0x4785bc);for(const _0x52eba6 of _0x1afbd8[_0x7391a4(0x755)]){const _0x2a83af=collection(db,_0x7391a4(0x81a)+appId+'/public/data/quizzes/'+_0x52eba6['id']+_0x7391a4(0x647)),_0x348068=await getDocs(_0x2a83af);_0x348068[_0x7391a4(0x8ca)](_0x2f99d4=>{const _0x164cb8=_0x7391a4;_0x43b5f7[_0x164cb8(0xeb)](_0x2f99d4[_0x164cb8(0x50e)]);}),_0x43b5f7['delete'](_0x52eba6['ref']);}const _0xfde393=collection(db,_0x7391a4(0x81a)+appId+_0x7391a4(0x800)+_0x4d7304+_0x7391a4(0x183)),_0x3da1d2=await getDocs(_0xfde393);_0x3da1d2[_0x7391a4(0x8ca)](_0x5717f8=>{const _0x25c49d=_0x7391a4;_0x43b5f7[_0x25c49d(0xeb)](_0x5717f8[_0x25c49d(0x50e)]);});const _0x2ef547=doc(db,_0x7391a4(0x81a)+appId+'/public/data/projects',_0x4d7304);_0x43b5f7[_0x7391a4(0xeb)](_0x2ef547),await _0x43b5f7[_0x7391a4(0x519)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x7391a4(0x1ee));}catch(_0x5f5201){console[_0x7391a4(0x241)](_0x7391a4(0x8ee),_0x5f5201),showMessage(_0x7391a4(0x602));}}document[_0x555faf(0x8c8)](_0x555faf(0x944))[_0x555faf(0x38a)](_0x555faf(0x49b),async()=>{const _0x380be6=_0x555faf;if(!currentProjectId)return;const _0x28a044={'defaultNumQuestions':parseInt(document['getElementById'](_0x380be6(0x505))[_0x380be6(0x22a)]),'defaultNumChoices':parseInt(document[_0x380be6(0x8c8)](_0x380be6(0x2c0))[_0x380be6(0x22a)]),'defaultPassingScore':parseInt(document[_0x380be6(0x8c8)](_0x380be6(0x5b0))[_0x380be6(0x22a)]),'resultsDisplay':document[_0x380be6(0x8c8)](_0x380be6(0x7a1))[_0x380be6(0x22a)],'shuffleSetting':document[_0x380be6(0x8c8)](_0x380be6(0x503))[_0x380be6(0x22a)],'timerMode':document['getElementById'](_0x380be6(0x5e1))[_0x380be6(0x22a)],'timerDuration':parseInt(document[_0x380be6(0x8c8)](_0x380be6(0x63e))[_0x380be6(0x22a)])};try{const _0x317f65=doc(db,_0x380be6(0x81a)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x317f65,{'settings':_0x28a044}),showMessage(_0x380be6(0x498));}catch(_0x490ac9){console[_0x380be6(0x241)](_0x380be6(0x8c2),_0x490ac9),showMessage(_0x380be6(0x32f));}});function listenForStudents(_0xd37671){const _0x1e5307=_0x555faf,_0x5c09e9=doc(db,_0x1e5307(0x81a)+appId+_0x1e5307(0x2fe),_0xd37671);unsubscribeStudentsListener=onSnapshot(_0x5c09e9,_0x55d5ce=>{const _0x481ad2=_0x1e5307;if(_0x55d5ce[_0x481ad2(0x28d)]()){const _0x2e6e9e=_0x55d5ce[_0x481ad2(0x56d)]();currentProjectData=_0x2e6e9e,renderStudentList(_0x2e6e9e[_0x481ad2(0x4b6)]||[]);}});}function renderStudentList(_0x1c2efe){const _0x592bc0=_0x555faf,_0x3e2dba=document['getElementById'](_0x592bc0(0x3c9));_0x1c2efe[_0x592bc0(0x8c9)]===0x0?(studentList[_0x592bc0(0x8d2)]=_0x592bc0(0x634),_0x3e2dba[_0x592bc0(0x65e)][_0x592bc0(0x43c)](_0x592bc0(0x3a5))):(studentList[_0x592bc0(0x8d2)]=_0x1c2efe[_0x592bc0(0x16a)](_0x282674=>_0x592bc0(0x8e1)+_0x282674+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x282674+_0x592bc0(0x4f3))[_0x592bc0(0x71e)](''),_0x3e2dba[_0x592bc0(0x65e)][_0x592bc0(0x3bf)](_0x592bc0(0x3a5)));}document[_0x555faf(0x8c8)](_0x555faf(0x103))[_0x555faf(0x38a)](_0x555faf(0x49b),async()=>{const _0xe08361=_0x555faf;if(!currentProjectId)return;const _0x9d91e0=document['getElementById']('student-name-input'),_0x5ea9b0=_0x9d91e0[_0xe08361(0x22a)][_0xe08361(0x588)]();if(!_0x5ea9b0){showMessage(_0xe08361(0x2c3));return;}const _0x199f3b=_0x5ea9b0[_0xe08361(0x583)]('\x0a')['map'](_0x1ed866=>_0x1ed866[_0xe08361(0x588)]())[_0xe08361(0x858)](_0x2d1999=>_0x2d1999);if(_0x199f3b[_0xe08361(0x8c9)]===0x0)return;try{const _0x11a4fd=doc(db,'artifacts/'+appId+_0xe08361(0x2fe),currentProjectId),_0x5cd8f4=await getDoc(_0x11a4fd);if(_0x5cd8f4[_0xe08361(0x28d)]()){const _0x56205e=_0x5cd8f4[_0xe08361(0x56d)]()[_0xe08361(0x4b6)]||[],_0x27be32=[...new Set([..._0x56205e,..._0x199f3b])];await updateDoc(_0x11a4fd,{'students':_0x27be32}),_0x9d91e0[_0xe08361(0x22a)]='';}}catch(_0xe552a7){console[_0xe08361(0x241)](_0xe08361(0x76a),_0xe552a7),showMessage(_0xe08361(0x909));}});async function handleManualQuizPairing(_0x5b9d95){const _0xe2aed5=_0x555faf,_0x4c5e16=document[_0xe2aed5(0x8c8)](_0xe2aed5(0x374)),_0x42851b=document['getElementById'](_0xe2aed5(0x326)),_0x9b5ad9=_0x4c5e16['querySelector']('h3'),_0x59ac01=document[_0xe2aed5(0x8c8)](_0xe2aed5(0x703)),_0x258570=document[_0xe2aed5(0x8c8)](_0xe2aed5(0x47f));_0x9b5ad9['textContent']=_0xe2aed5(0x321),_0x42851b[_0xe2aed5(0x8d2)]=_0xe2aed5(0x884),_0x59ac01[_0xe2aed5(0x29c)]=_0xe2aed5(0x445),_0x4c5e16[_0xe2aed5(0x65e)][_0xe2aed5(0x3bf)](_0xe2aed5(0x3a5));const _0x3b0ab3=allQuizzes['filter'](_0x1122c5=>_0x1122c5['id']!==_0x5b9d95);_0x3b0ab3[_0xe2aed5(0x8c9)]===0x0?(_0x42851b['innerHTML']=_0xe2aed5(0x9e4),_0x59ac01[_0xe2aed5(0x915)]=!![]):(_0x42851b['innerHTML']=_0xe2aed5(0x21e)+_0x3b0ab3[_0xe2aed5(0x16a)](_0x213ff0=>_0xe2aed5(0x16b)+_0x213ff0['id']+'\x22>'+_0x213ff0[_0xe2aed5(0x881)]+'</option>')['join'](''),_0x59ac01[_0xe2aed5(0x915)]=![]);const _0x1f4ce2=async()=>{const _0x389b16=_0xe2aed5,_0x10337d=_0x42851b[_0x389b16(0x22a)];if(!_0x10337d){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x59ac01['disabled']=!![],_0x59ac01['textContent']=_0x389b16(0x965);try{const _0x493d82=doc(db,_0x389b16(0x81a)+appId+_0x389b16(0x235),_0x5b9d95),_0x2e69d6=doc(db,'artifacts/'+appId+_0x389b16(0x235),_0x10337d),_0x2ca919=writeBatch(db);_0x2ca919[_0x389b16(0x4cb)](_0x493d82,{'pairedQuizId':_0x10337d}),_0x2ca919['update'](_0x2e69d6,{'pairedQuizId':_0x5b9d95}),await _0x2ca919[_0x389b16(0x519)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x4c5e16[_0x389b16(0x65e)][_0x389b16(0x43c)]('hidden');}catch(_0x13ab58){console['error'](_0x389b16(0x57f),_0x13ab58),showMessage(_0x389b16(0x2ce));}finally{_0x9b5ad9[_0x389b16(0x29c)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x59ac01[_0x389b16(0x29c)]=_0x389b16(0x409),_0x59ac01['disabled']=![],_0x59ac01[_0x389b16(0x6b3)]('click',_0x1f4ce2),_0x258570[_0x389b16(0x6b3)](_0x389b16(0x49b),_0x2eff27);}},_0x2eff27=()=>{const _0xff1d44=_0xe2aed5;_0x4c5e16['classList'][_0xff1d44(0x43c)]('hidden'),_0x9b5ad9[_0xff1d44(0x29c)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x59ac01[_0xff1d44(0x29c)]=_0xff1d44(0x409),_0x59ac01[_0xff1d44(0x6b3)]('click',_0x1f4ce2),_0x258570[_0xff1d44(0x6b3)](_0xff1d44(0x49b),_0x2eff27);};_0x59ac01[_0xe2aed5(0x38a)]('click',_0x1f4ce2),_0x258570[_0xe2aed5(0x38a)]('click',_0x2eff27);}function handleDeleteStudent(_0x121ef8){const _0x5486c5=_0x555faf;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x121ef8+_0x5486c5(0x44f),async()=>{const _0x4f5fb8=_0x5486c5;if(!currentProjectId||!currentProjectData)return;const _0x5b96fe=currentProjectData[_0x4f5fb8(0x4b6)][_0x4f5fb8(0x858)](_0x3bb2d5=>_0x3bb2d5!==_0x121ef8);try{const _0x2d6007=doc(db,_0x4f5fb8(0x81a)+appId+_0x4f5fb8(0x2fe),currentProjectId),_0x40b9d0=doc(db,'artifacts/'+appId+_0x4f5fb8(0x800)+currentProjectId+_0x4f5fb8(0x183),_0x121ef8),_0x346781=writeBatch(db);_0x346781['update'](_0x2d6007,{'students':_0x5b96fe}),_0x346781[_0x4f5fb8(0xeb)](_0x40b9d0),await _0x346781[_0x4f5fb8(0x519)]();}catch(_0x25bded){console[_0x4f5fb8(0x241)](_0x4f5fb8(0x9db),_0x25bded),showMessage(_0x4f5fb8(0x874));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x4493b8=_0x4110;if(!currentProjectId)return;try{const _0x242977=doc(db,'artifacts/'+appId+_0x4493b8(0x2fe),currentProjectId),_0x29fb09=collection(db,_0x4493b8(0x81a)+appId+'/public/data/projects/'+currentProjectId+_0x4493b8(0x183)),_0xc9582c=await getDocs(_0x29fb09),_0x382e8d=writeBatch(db);_0x382e8d[_0x4493b8(0x4cb)](_0x242977,{'students':[]}),_0xc9582c[_0x4493b8(0x8ca)](_0x5636d3=>_0x382e8d[_0x4493b8(0xeb)](_0x5636d3[_0x4493b8(0x50e)])),await _0x382e8d[_0x4493b8(0x519)]();}catch(_0x29908b){console['error'](_0x4493b8(0x162),_0x29908b),showMessage(_0x4493b8(0x576));}});}async function handleGenerateFromFileClick(){const _0x1c13f8=_0x555faf;if(!selectedFile){showMessage(_0x1c13f8(0x98b));return;}const _0x1c14ee=document['getElementById'](_0x1c13f8(0x1c1)),_0x4b6b2e=document[_0x1c13f8(0x8c8)]('loader-text'),_0xce7528=document['getElementById'](_0x1c13f8(0x390)),_0x8c0d31=document[_0x1c13f8(0x8c8)](_0x1c13f8(0x9bf));_0x8c0d31['disabled']=!![],document[_0x1c13f8(0x8c8)](_0x1c13f8(0x3e3))['classList']['remove'](_0x1c13f8(0x3a5)),_0xce7528['innerHTML']='',_0x1c14ee[_0x1c13f8(0x65e)][_0x1c13f8(0x3bf)]('hidden'),_0x4b6b2e[_0x1c13f8(0x29c)]='กำลังอ่านและเตรียมไฟล์...';const _0x30dddb=new FileReader();_0x30dddb[_0x1c13f8(0x35b)](selectedFile),_0x30dddb[_0x1c13f8(0x17c)]=async()=>{const _0x300b69=_0x1c13f8;try{const _0x2befc8=_0x30dddb[_0x300b69(0x134)][_0x300b69(0x583)](',')[0x1],_0x3d3d14=selectedFile[_0x300b69(0x25b)];await generateQuizFromFile(_0x3d3d14,_0x2befc8);}catch(_0x38673f){console['error'](_0x300b69(0x81d),_0x38673f),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x38673f[_0x300b69(0x476)]),_0x1c14ee[_0x300b69(0x65e)]['add'](_0x300b69(0x3a5));}finally{}},_0x30dddb['onerror']=_0x6af7b=>{const _0x1da9ff=_0x1c13f8;console['error']('FileReader\x20error:',_0x6af7b),showMessage(_0x1da9ff(0x228)),_0x1c14ee[_0x1da9ff(0x65e)][_0x1da9ff(0x43c)](_0x1da9ff(0x3a5)),_0x8c0d31[_0x1da9ff(0x915)]=![];};}function autoFormatMath(_0x4976d3){const _0x45852d=_0x555faf;if(typeof _0x4976d3!=='string'||!_0x4976d3)return _0x4976d3;const _0x251f06=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4d2ab3=_0x4976d3[_0x45852d(0x750)](_0x251f06,_0x26dd1d=>{const _0x392448=_0x45852d;return'$'+_0x26dd1d[_0x392448(0x588)]()+'$';});return _0x4d2ab3;}function sanitizeQuizData(_0x28811a){const _0x59a86c=_0x555faf;if(!_0x28811a||!_0x28811a[_0x59a86c(0x96e)])return _0x28811a;const _0x43912a={'imes':_0x59a86c(0x52b),'div':_0x59a86c(0x5aa)},_0x285074=_0x57ca57=>{const _0x4bf17a=_0x59a86c;if(typeof _0x57ca57!==_0x4bf17a(0x532))return _0x57ca57;let _0xac30ea=_0x57ca57;for(const [_0x55ef07,_0x3aa236]of Object[_0x4bf17a(0x9e9)](_0x43912a)){const _0x27f883=new RegExp('\x5cb'+_0x55ef07+'\x5cb','g');_0xac30ea=_0xac30ea[_0x4bf17a(0x750)](_0x27f883,_0x3aa236);}return _0xac30ea=_0xac30ea[_0x4bf17a(0x750)](/\\\//g,_0x4bf17a(0x5aa)),_0xac30ea=_0xac30ea[_0x4bf17a(0x750)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4bf17a(0x5aa))[_0x4bf17a(0x750)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x4bf17a(0x52b))['replace'](/÷/g,'\x5cdiv')[_0x4bf17a(0x750)](/×/g,'\x5ctimes'),_0xac30ea=_0xac30ea[_0x4bf17a(0x750)](/(\d)(\\frac)/g,_0x4bf17a(0x480)),_0xac30ea=autoFormatMath(_0xac30ea),_0xac30ea;};return _0x28811a[_0x59a86c(0x881)]&&(_0x28811a[_0x59a86c(0x881)]=_0x285074(_0x28811a[_0x59a86c(0x881)])),_0x28811a['questions'][_0x59a86c(0x8ca)](_0x2f64b8=>{const _0x391a53=_0x59a86c;_0x2f64b8[_0x391a53(0x8fb)]=_0x285074(_0x2f64b8['questionText']),_0x2f64b8[_0x391a53(0x81c)]&&(_0x2f64b8[_0x391a53(0x81c)]=_0x2f64b8[_0x391a53(0x81c)][_0x391a53(0x16a)](_0x285074)),_0x2f64b8['explanation']&&(_0x2f64b8['explanation']=_0x285074(_0x2f64b8[_0x391a53(0x220)])),_0x2f64b8[_0x391a53(0x822)]&&(_0x2f64b8[_0x391a53(0x822)]=_0x285074(_0x2f64b8[_0x391a53(0x822)])),_0x2f64b8[_0x391a53(0x68a)]&&(_0x2f64b8['correctResponse']=_0x285074(_0x2f64b8[_0x391a53(0x68a)])),_0x2f64b8[_0x391a53(0x2cb)]&&(_0x2f64b8[_0x391a53(0x2cb)]=_0x2f64b8[_0x391a53(0x2cb)][_0x391a53(0x16a)](_0x285074));}),_0x28811a;}const simpleMathPrompt=_0x555faf(0x4d1);async function handleGenerateFromLink(){const _0x2b5025=_0x555faf,_0x236e60=document[_0x2b5025(0x8c8)]('link-url-input'),_0x1eb274=document['getElementById'](_0x2b5025(0x876)),_0x3a78fc=_0x236e60[_0x2b5025(0x22a)][_0x2b5025(0x588)](),_0x533362=_0x1eb274['value'][_0x2b5025(0x588)]();if(!_0x3a78fc){showMessage(_0x2b5025(0x8c6));return;}const _0x457a5c=document[_0x2b5025(0x8c8)]('loader'),_0x150ce6=document[_0x2b5025(0x8c8)]('loader-text'),_0x26b5a0=document[_0x2b5025(0x8c8)](_0x2b5025(0x390)),_0x43532a=document[_0x2b5025(0x8c8)](_0x2b5025(0x38f));document[_0x2b5025(0x8c8)](_0x2b5025(0x3e3))['classList']['remove'](_0x2b5025(0x3a5)),_0x26b5a0[_0x2b5025(0x8d2)]='',_0x457a5c[_0x2b5025(0x65e)][_0x2b5025(0x3bf)](_0x2b5025(0x3a5)),_0x150ce6['textContent']='กำลังดึงข้อมูลจากลิงก์...',_0x43532a['disabled']=!![];try{const _0x2840a3='https://corsproxy.io/?'+encodeURIComponent(_0x3a78fc),_0x3b724a=await fetch(_0x2840a3);if(!_0x3b724a['ok'])throw new Error(_0x2b5025(0x76d)+_0x3b724a['status']+')');const _0xfe7e72=await _0x3b724a['text'](),_0x520beb=extractTextFromHtml(_0xfe7e72);if(!_0x520beb||_0x520beb[_0x2b5025(0x8c9)]<0x64)throw new Error(_0x2b5025(0x92f));await generateQuiz(_0x533362,_0x520beb);}catch(_0x2fd45c){console[_0x2b5025(0x241)](_0x2b5025(0x2e5),_0x2fd45c),showMessage(_0x2b5025(0x4b0)+_0x2fd45c['message']),_0x26b5a0[_0x2b5025(0x8d2)]=_0x2b5025(0x35f);}finally{_0x457a5c[_0x2b5025(0x65e)][_0x2b5025(0x43c)]('hidden'),_0x43532a[_0x2b5025(0x915)]=![];}}function extractTextFromHtml(_0x2d8f37){const _0x5eaaab=_0x555faf,_0x4f58bb=new DOMParser()[_0x5eaaab(0x1c4)](_0x2d8f37,_0x5eaaab(0x88e));return _0x4f58bb[_0x5eaaab(0x379)](_0x5eaaab(0x63a))[_0x5eaaab(0x8ca)](_0x8b6376=>_0x8b6376[_0x5eaaab(0x3bf)]()),_0x4f58bb[_0x5eaaab(0x747)]['textContent']||'';}document['getElementById'](_0x555faf(0x918))[_0x555faf(0x38a)](_0x555faf(0x49b),()=>{const _0x5b8fd6=_0x555faf,_0x187166=document['getElementById']('topic-input')[_0x5b8fd6(0x22a)]['trim']();generateQuiz(_0x187166,null);}),document[_0x555faf(0x8c8)]('generate-from-text-btn')[_0x555faf(0x38a)](_0x555faf(0x49b),()=>{const _0x34d16e=_0x555faf,_0x555046=document[_0x34d16e(0x8c8)](_0x34d16e(0x6b8))['value'][_0x34d16e(0x588)]();if(!_0x555046){showMessage(_0x34d16e(0x601));return;}const _0x377ef6=document[_0x34d16e(0x8c8)](_0x34d16e(0x910))[_0x34d16e(0x22a)][_0x34d16e(0x588)]();generateQuiz(_0x377ef6,_0x555046);});async function generateQuiz(_0x56c14c,_0x3c4c12,_0x10396b=null){const _0x34ff04=_0x555faf,_0x28362b=document[_0x34ff04(0x8c8)](_0x34ff04(0x6ee))[_0x34ff04(0x593)],_0x34a707=document[_0x34ff04(0x8c8)](_0x34ff04(0x244))[_0x34ff04(0x22a)],_0x206d91=document['getElementById'](_0x34ff04(0x505))[_0x34ff04(0x22a)],_0x5aa40a=document[_0x34ff04(0x8c8)](_0x34ff04(0x2c0))[_0x34ff04(0x22a)],_0x42e791=document[_0x34ff04(0x8c8)]('force-math-checkbox')[_0x34ff04(0x593)],_0x38f847=_0x42e791?'':_0x34ff04(0x8b2),_0x27190e=document[_0x34ff04(0x8c8)](_0x34ff04(0x6e0)),_0x32e74a=_0x27190e[_0x34ff04(0x22a)];let _0x3c23cb='';_0x32e74a!==_0x34ff04(0x11b)&&(_0x3c23cb=_0x34ff04(0x86a)+_0x32e74a+'\x22');const _0x44007e=document[_0x34ff04(0x8c8)]('question-complexity-select'),_0x1f955f=_0x44007e[_0x34ff04(0x22a)];let _0x50c310='';_0x1f955f!==_0x34ff04(0x67e)&&(_0x50c310=_0x34ff04(0x488)+_0x1f955f+_0x34ff04(0x327));const _0x452ebb=document[_0x34ff04(0x379)](_0x34ff04(0x237)),_0xd2bac6=Array[_0x34ff04(0x578)](_0x452ebb)[_0x34ff04(0x16a)](_0x7d8a18=>_0x7d8a18[_0x34ff04(0x22a)]);let _0x149b77='';_0xd2bac6[_0x34ff04(0x8c9)]>0x0&&(_0x149b77=_0x34ff04(0x6dc)+_0xd2bac6[_0x34ff04(0x71e)](',\x20')+_0x34ff04(0x913));let _0x1cfb48='',_0x57d791='',_0x1abed5,_0x1b9e6e='เกี่ยวกับหัวข้อ\x20\x22'+_0x56c14c+'\x22';if(!_0x56c14c&&_0x3c4c12)_0x1b9e6e=_0x34ff04(0x483);else!_0x56c14c&&!_0x3c4c12&&(_0x1b9e6e=_0x34ff04(0x960));const _0x142ab8={'type':_0x34ff04(0x3c2),'properties':{'questionText':{'type':_0x34ff04(0x629)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x34ff04(0x629)},'imageCode':{'type':_0x34ff04(0x629)}},'required':[_0x34ff04(0x8fb),_0x34ff04(0x81c),_0x34ff04(0x230),_0x34ff04(0x220)]},_0xbe21d={'type':_0x34ff04(0x3c2),'properties':{'questionText':{'type':_0x34ff04(0x629)},'idealAnswer':{'type':_0x34ff04(0x629)},'explanation':{'type':_0x34ff04(0x629)},'imageCode':{'type':_0x34ff04(0x629)}},'required':['questionText',_0x34ff04(0x1e4),'explanation']},_0x546cb2={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x34ff04(0x629),'enum':[_0x34ff04(0x6f7),_0x34ff04(0x247)]},'options':{'type':_0x34ff04(0x12c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x34ff04(0x629)},'imageCode':{'type':_0x34ff04(0x629)}},'required':[_0x34ff04(0x8fb),_0x34ff04(0x496),_0x34ff04(0x220)]},_0x5641ab={'type':_0x34ff04(0x3c2),'properties':{'questionText':{'type':_0x34ff04(0x629)},'correctAnswer':{'type':_0x34ff04(0x5e9)},'explanation':{'type':_0x34ff04(0x629)},'imageCode':{'type':_0x34ff04(0x629)}},'required':[_0x34ff04(0x8fb),_0x34ff04(0x338),_0x34ff04(0x220)]},_0x2d4944={'type':_0x34ff04(0x3c2),'properties':{'questionType':{'type':_0x34ff04(0x629),'enum':[_0x34ff04(0x36c)]},'stem':{'type':_0x34ff04(0x629)},'correctResponse':{'type':_0x34ff04(0x629)},'allResponses':{'type':_0x34ff04(0x12c),'items':{'type':_0x34ff04(0x629)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x34ff04(0x496),'stem',_0x34ff04(0x68a),'allResponses',_0x34ff04(0x220)]};let _0x303e61;if(_0x10396b!==null){const _0x3703b3=currentQuizData[_0x34ff04(0x96e)][_0x10396b][_0x34ff04(0x496)],_0xd3e000=_0x28362b?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x1cfb48=_0x34ff04(0x434)+_0x1b9e6e+'\x20'+_0x149b77+'\x20'+_0x3c23cb+_0x34ff04(0x36b)+_0xd3e000+'\x20'+simpleMathPrompt;if(_0x3703b3==='multiple_choice')_0x1abed5=_0x142ab8;else{if(_0x3703b3==='matching_item')_0x1abed5={'type':_0x34ff04(0x3c2),'properties':{'questionType':{'type':_0x34ff04(0x629),'enum':[_0x34ff04(0x36c)]},'stem':{'type':_0x34ff04(0x629)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x34ff04(0x629)},'imageCode':{'type':_0x34ff04(0x629)}},'required':[_0x34ff04(0x496),_0x34ff04(0x822),_0x34ff04(0x68a),'explanation']};else _0x1abed5=_0xbe21d;}_0x303e61=_0x1abed5;}else{const _0x267a3f=_0x28362b?_0x34ff04(0x7d3):'',_0x3faaae=_0x34ff04(0x98f);switch(_0x34a707){case _0x34ff04(0x6f7):_0x1cfb48=_0x34ff04(0x28c)+_0x38f847+'\x20'+_0x206d91+_0x34ff04(0x74c)+_0x1b9e6e+'\x20'+_0x149b77+'\x20'+_0x3c23cb+'\x20'+_0x50c310+_0x34ff04(0x133)+_0x5aa40a+_0x34ff04(0x266)+_0x267a3f+'\x20'+simpleMathPrompt,_0x1abed5=_0x142ab8;break;case _0x34ff04(0x8d7):_0x1cfb48='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x38f847+'\x20'+_0x206d91+_0x34ff04(0x74c)+_0x1b9e6e+'\x20'+_0x149b77+'\x20'+_0x3c23cb+'\x20'+_0x50c310+_0x34ff04(0x597)+_0x5aa40a+_0x34ff04(0x29e)+_0x267a3f+'\x20'+simpleMathPrompt,_0x1abed5=_0x142ab8;break;case _0x34ff04(0x759):_0x1cfb48='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x38f847+'\x20'+_0x206d91+_0x34ff04(0x74c)+_0x1b9e6e+'\x20'+_0x149b77+'\x20'+_0x3c23cb+'\x20'+_0x50c310+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x267a3f+'\x20'+simpleMathPrompt,_0x1abed5=_0xbe21d;break;case _0x34ff04(0x67e):_0x1cfb48=_0x34ff04(0x820)+_0x38f847+'\x20'+_0x206d91+'\x20ข้อ\x20'+_0x1b9e6e+'\x20'+_0x149b77+'\x20'+_0x3c23cb+'\x20'+_0x50c310+_0x34ff04(0x79b)+_0x5aa40a+'\x20ตัวเลือก.\x20'+_0x267a3f+'\x20'+simpleMathPrompt+'.',_0x1abed5=_0x546cb2;break;case'true_false':_0x1cfb48=_0x34ff04(0x8f1)+_0x38f847+'\x20'+_0x206d91+_0x34ff04(0x74c)+_0x1b9e6e+'\x20'+_0x149b77+'\x20'+_0x3c23cb+'\x20'+_0x50c310+_0x34ff04(0x991)+_0x267a3f+'\x20'+simpleMathPrompt,_0x1abed5=_0x5641ab;break;case _0x34ff04(0x387):_0x1cfb48='สร้างชุดคำถามจับคู่'+_0x38f847+'\x20'+_0x206d91+_0x34ff04(0x681)+_0x1b9e6e+'\x20'+_0x149b77+'\x20'+_0x3c23cb+'\x20'+_0x50c310+_0x34ff04(0x102)+_0x267a3f+'\x20'+simpleMathPrompt,_0x1abed5=_0x2d4944;break;}_0x303e61={'type':'OBJECT','properties':{'topic':{'type':_0x34ff04(0x629)},'questions':{'type':'ARRAY','items':_0x1abed5}},'required':[_0x34ff04(0x881),_0x34ff04(0x96e)]};}return _0x3c4c12?(_0x1cfb48=_0x34ff04(0x6a8)+_0x3c4c12+_0x34ff04(0x449)+_0x1cfb48,_0x57d791=_0x34ff04(0x575)):_0x57d791='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x1cfb48,_0x57d791,_0x303e61,_0x10396b);}async function generateQuizFromFile(_0x4c1105,_0xe1abe6){const _0x56dc33=_0x555faf,_0x86f635=document[_0x56dc33(0x8c8)](_0x56dc33(0x14e))[_0x56dc33(0x22a)]['trim'](),_0x18bd36=document[_0x56dc33(0x8c8)]('quiz-type-select')[_0x56dc33(0x22a)],_0x27c7ff=document[_0x56dc33(0x8c8)](_0x56dc33(0x505))[_0x56dc33(0x22a)],_0x1aa42e=document[_0x56dc33(0x8c8)]('num-choices')[_0x56dc33(0x22a)],_0x342f92=document[_0x56dc33(0x8c8)](_0x56dc33(0x6ee))[_0x56dc33(0x593)],_0x3f8a99=document['getElementById'](_0x56dc33(0x61d))['checked'],_0x24e68b=_0x3f8a99?'':_0x56dc33(0x8b2);let _0x375a17='',_0x5f4f12,_0x242264=_0x56dc33(0x568)+_0x86f635+'\x22';!_0x86f635&&(_0x242264=_0x56dc33(0x301));const _0x53cd65=_0x342f92?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x18bd36){case _0x56dc33(0x6f7):_0x375a17='สร้างแบบทดสอบปรนัย'+_0x24e68b+'\x20'+_0x27c7ff+_0x56dc33(0x74c)+_0x242264+_0x56dc33(0x133)+_0x1aa42e+_0x56dc33(0x266)+_0x53cd65+'\x20'+simpleMathPrompt,_0x5f4f12={'type':_0x56dc33(0x3c2),'properties':{'questionText':{'type':_0x56dc33(0x629)},'options':{'type':_0x56dc33(0x12c),'items':{'type':_0x56dc33(0x629)}},'correctAnswerIndex':{'type':_0x56dc33(0x544)},'explanation':{'type':_0x56dc33(0x629)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x56dc33(0x81c),_0x56dc33(0x230),_0x56dc33(0x220)]};break;case _0x56dc33(0x8d7):_0x375a17=_0x56dc33(0x6a7)+_0x24e68b+'\x20'+_0x27c7ff+_0x56dc33(0x74c)+_0x242264+_0x56dc33(0x597)+_0x1aa42e+_0x56dc33(0x29e)+_0x53cd65+'\x20'+simpleMathPrompt,_0x5f4f12={'type':_0x56dc33(0x3c2),'properties':{'questionText':{'type':_0x56dc33(0x629)},'options':{'type':_0x56dc33(0x12c),'items':{'type':_0x56dc33(0x629)}},'correctAnswerIndex':{'type':_0x56dc33(0x544)},'explanation':{'type':_0x56dc33(0x629)},'imageCode':{'type':'STRING'}},'required':[_0x56dc33(0x8fb),'options',_0x56dc33(0x230),_0x56dc33(0x220)]};break;case _0x56dc33(0x759):_0x375a17='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x24e68b+'\x20'+_0x27c7ff+'\x20ข้อ\x20'+_0x242264+_0x56dc33(0x977)+_0x53cd65+'\x20'+simpleMathPrompt,_0x5f4f12={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x56dc33(0x629)},'imageCode':{'type':'STRING'}},'required':['questionText','idealAnswer',_0x56dc33(0x220)]};break;case'mixed':_0x375a17=_0x56dc33(0x820)+_0x24e68b+'\x20'+_0x27c7ff+_0x56dc33(0x74c)+_0x242264+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x1aa42e+_0x56dc33(0x999)+_0x53cd65+'\x20'+simpleMathPrompt+_0x56dc33(0x7b7),_0x5f4f12={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x56dc33(0x629),'enum':[_0x56dc33(0x6f7),_0x56dc33(0x247)]},'options':{'type':'ARRAY','items':{'type':_0x56dc33(0x629)}},'correctAnswerIndex':{'type':_0x56dc33(0x544)},'idealAnswer':{'type':_0x56dc33(0x629)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x56dc33(0x629)}},'required':['questionText',_0x56dc33(0x496),_0x56dc33(0x220)]};break;case _0x56dc33(0x43d):_0x375a17='สร้างคำถามแบบใช่/ไม่ใช่'+_0x24e68b+'\x20'+_0x27c7ff+_0x56dc33(0x74c)+_0x242264+_0x56dc33(0x422)+_0x53cd65+'\x20'+simpleMathPrompt,_0x5f4f12={'type':_0x56dc33(0x3c2),'properties':{'questionText':{'type':_0x56dc33(0x629)},'correctAnswer':{'type':_0x56dc33(0x5e9)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x56dc33(0x629)}},'required':[_0x56dc33(0x8fb),_0x56dc33(0x338),'explanation']};break;case'matching':_0x375a17=_0x56dc33(0x47b)+_0x24e68b+'\x20'+_0x27c7ff+_0x56dc33(0x681)+_0x242264+_0x56dc33(0x835)+_0x27c7ff+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x53cd65+'\x20'+simpleMathPrompt,_0x5f4f12={'type':_0x56dc33(0x3c2),'properties':{'questionType':{'type':_0x56dc33(0x629),'enum':[_0x56dc33(0x36c)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x56dc33(0x629)},'allResponses':{'type':_0x56dc33(0x12c),'items':{'type':'STRING'}},'explanation':{'type':_0x56dc33(0x629)},'imageCode':{'type':_0x56dc33(0x629)}},'required':[_0x56dc33(0x496),_0x56dc33(0x822),_0x56dc33(0x68a),_0x56dc33(0x2cb),_0x56dc33(0x220)]};break;}const _0x1dc77a={'type':_0x56dc33(0x3c2),'properties':{'topic':{'type':_0x56dc33(0x629)},'questions':{'type':_0x56dc33(0x12c),'items':_0x5f4f12}},'required':[_0x56dc33(0x881),'questions']},_0xffc06e='จากไฟล์ที่แนบมานี้,\x20'+_0x375a17,_0x5dbaaf={'contents':[{'parts':[{'text':_0xffc06e},{'inlineData':{'mimeType':_0x4c1105,'data':_0xe1abe6}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x1dc77a}};return handleApiCall(_0x5dbaaf[_0x56dc33(0xef)][0x0][_0x56dc33(0x298)],_0x56dc33(0xf0),_0x1dc77a);}async function handleApiCall(_0x38b2dd,_0xad485e,_0x503b94,_0x532d3e=null){const _0x25c52b=_0x555faf,_0x358b6f=document[_0x25c52b(0x8c8)]('quiz-generation-area'),_0x390bd4=document[_0x25c52b(0x8c8)](_0x25c52b(0x1c1)),_0x1e3187=document[_0x25c52b(0x8c8)]('loader-text'),_0x3b4ec8=document[_0x25c52b(0x8c8)](_0x25c52b(0x390));_0x358b6f[_0x25c52b(0x65e)]['remove'](_0x25c52b(0x3a5));_0x532d3e===null&&(_0x3b4ec8[_0x25c52b(0x8d2)]='');_0x390bd4[_0x25c52b(0x65e)][_0x25c52b(0x3bf)](_0x25c52b(0x3a5)),_0x1e3187['textContent']=_0xad485e,document[_0x25c52b(0x8c8)](_0x25c52b(0x918))[_0x25c52b(0x915)]=!![],document[_0x25c52b(0x8c8)]('generate-from-text-btn')[_0x25c52b(0x915)]=!![],document[_0x25c52b(0x8c8)]('generate-from-link-btn')[_0x25c52b(0x915)]=!![];try{const _0x58988e={'responseMimeType':'application/json','responseSchema':_0x503b94},_0x47dc3c=Array[_0x25c52b(0x97a)](_0x38b2dd)?_0x38b2dd:[{'text':_0x38b2dd}],_0x1f44e0={'contents':[{'role':_0x25c52b(0x55a),'parts':_0x47dc3c}],'generationConfig':_0x58988e},_0x53872a=_0x25c52b(0x96f),_0x4e00aa='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x53872a,_0x88c40c=await fetch(_0x4e00aa,{'method':_0x25c52b(0x492),'headers':{'Content-Type':_0x25c52b(0x4b8)},'body':JSON[_0x25c52b(0x784)](_0x1f44e0)});if(!_0x88c40c['ok'])throw new Error(_0x25c52b(0x256)+_0x88c40c['status']);const _0x4f2310=await _0x88c40c[_0x25c52b(0x70d)]();if(_0x4f2310[_0x25c52b(0x398)]?.[0x0]?.[_0x25c52b(0x1fa)]?.['parts']?.[0x0]){let _0x5a25d9=_0x4f2310['candidates'][0x0][_0x25c52b(0x1fa)][_0x25c52b(0x298)][0x0]['text'],_0x3ad451;try{if(_0x5a25d9[_0x25c52b(0x79a)](_0x25c52b(0x497)))_0x5a25d9=_0x5a25d9[_0x25c52b(0x604)](0x7,_0x5a25d9['length']-0x3)[_0x25c52b(0x588)]();else _0x5a25d9['startsWith']('```')&&(_0x5a25d9=_0x5a25d9[_0x25c52b(0x604)](0x3,_0x5a25d9[_0x25c52b(0x8c9)]-0x3)[_0x25c52b(0x588)]());_0x3ad451=JSON[_0x25c52b(0x6ac)](_0x5a25d9);}catch(_0x29e9dd){console[_0x25c52b(0x241)](_0x25c52b(0x4ce),_0x29e9dd,_0x5a25d9);throw new Error(_0x25c52b(0x13f));}if(_0x532d3e!==null){if(_0x3ad451[_0x25c52b(0x496)]===_0x25c52b(0x36c)){const _0x5b6caa=currentQuizData[_0x25c52b(0x96e)][_0x25c52b(0x16a)](_0x76226c=>_0x76226c[_0x25c52b(0x68a)]);_0x3ad451[_0x25c52b(0x2cb)]=_0x5b6caa;const _0x19e6c3=currentQuizData[_0x25c52b(0x96e)][_0x532d3e]['correctResponse'],_0x1b588c=_0x5b6caa['indexOf'](_0x19e6c3);_0x1b588c>-0x1&&(_0x5b6caa[_0x1b588c]=_0x3ad451[_0x25c52b(0x68a)]),currentQuizData[_0x25c52b(0x96e)]['forEach'](_0x36c40c=>{const _0x1b3b84=_0x25c52b;if(_0x36c40c[_0x1b3b84(0x496)]===_0x1b3b84(0x36c))_0x36c40c[_0x1b3b84(0x2cb)]=_0x5b6caa;});}currentQuizData[_0x25c52b(0x96e)][_0x532d3e]=_0x3ad451,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x3ad451;const _0x4b763a=document[_0x25c52b(0x8c8)](_0x25c52b(0x244))['value'];currentQuizData['quizType']=_0x4b763a,currentQuizData[_0x25c52b(0x96e)]&&currentQuizData[_0x25c52b(0x96e)]['forEach'](_0x5c5332=>{const _0x4e5052=_0x25c52b;if(!_0x5c5332[_0x4e5052(0x496)]){if(_0x4b763a===_0x4e5052(0x8d7))_0x5c5332[_0x4e5052(0x496)]=_0x4e5052(0x6f7);else _0x4b763a===_0x4e5052(0x759)?_0x5c5332['questionType']=_0x4e5052(0x247):_0x5c5332[_0x4e5052(0x496)]=_0x4b763a;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x25c52b(0x241)]('Invalid\x20response\x20structure\x20from\x20AI:',JSON[_0x25c52b(0x784)](_0x4f2310));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x1012f2){console[_0x25c52b(0x241)]('Error\x20generating\x20quiz:',_0x1012f2),showMessage(_0x25c52b(0x92d)),_0x532d3e===null&&(_0x3b4ec8[_0x25c52b(0x8d2)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0x390bd4['classList'][_0x25c52b(0x43c)](_0x25c52b(0x3a5)),document['getElementById'](_0x25c52b(0x918))[_0x25c52b(0x915)]=![],document[_0x25c52b(0x8c8)](_0x25c52b(0x5ba))[_0x25c52b(0x915)]=![],document[_0x25c52b(0x8c8)]('generate-from-link-btn')[_0x25c52b(0x915)]=![];const _0x65a8=document[_0x25c52b(0x8c8)](_0x25c52b(0x9bf));_0x65a8&&(_0x65a8[_0x25c52b(0x915)]=![]);}}function exitFullscreen(){const _0x5190bd=_0x555faf;if(document[_0x5190bd(0x24f)])document['exitFullscreen']()[_0x5190bd(0x712)](_0x41c6f5=>console[_0x5190bd(0x241)](_0x41c6f5));else{if(document[_0x5190bd(0x773)])document[_0x5190bd(0x773)]();else document[_0x5190bd(0xe2)]&&document[_0x5190bd(0xe2)]();}}function enterFullscreen(){const _0x186408=_0x555faf,_0x5038d6=document[_0x186408(0x9e8)];if(_0x5038d6['requestFullscreen'])_0x5038d6[_0x186408(0x494)]()[_0x186408(0x712)](_0x4d223b=>{const _0x148bc1=_0x186408;console['error']('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x4d223b[_0x148bc1(0x476)]+'\x20('+_0x4d223b['name']+')');});else{if(_0x5038d6[_0x186408(0x95e)])_0x5038d6[_0x186408(0x95e)]();else _0x5038d6[_0x186408(0x658)]&&_0x5038d6[_0x186408(0x658)]();}}function handleCheatingEvent(){const _0x57f0b2=_0x555faf;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x57f0b2(0x94f),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x57f0b2(0x5a0)),document['getElementById'](_0x57f0b2(0x3e9))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x57f0b2(0x6b3)](_0x57f0b2(0x96a),handleVisibilityChange),document['removeEventListener'](_0x57f0b2(0x2cc),handleFullscreenChange)):showMessage(_0x57f0b2(0x94d)+cheatAttempts+'/'+maxCheatAttempts+_0x57f0b2(0x9f3),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x44bcb0=_0x555faf;if(currentMode===_0x44bcb0(0x7e0)||!isQuizActive)return;if(document['visibilityState']==='hidden')handleCheatingEvent();else document[_0x44bcb0(0x1f0)]==='visible'&&(console['log']('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x22b3b3=_0x555faf;if(currentMode===_0x22b3b3(0x7e0)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x50ac55){const _0x3bc4d2=_0x555faf,_0x2becaa=document[_0x3bc4d2(0x8c8)](_0x3bc4d2(0x390));let _0x2206a6='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x50ac55[_0x3bc4d2(0x881)]+_0x3bc4d2(0x8e5);_0x50ac55['questions'][_0x3bc4d2(0x8ca)]((_0x4fbc80,_0x24c224)=>{const _0x441c6a=_0x3bc4d2;!_0x4fbc80['id']&&(_0x4fbc80['id']='q_'+Date[_0x441c6a(0x8d9)]()+'_'+_0x24c224);const _0x52a4da=_0x4fbc80[_0x441c6a(0x496)]||_0x50ac55[_0x441c6a(0x567)];_0x2206a6+=_0x441c6a(0x662)+_0x24c224+_0x441c6a(0x408)+_0x24c224+_0x441c6a(0x7cb)+_0x24c224+_0x441c6a(0x818)+_0x24c224+_0x441c6a(0x7b6);switch(_0x52a4da){case _0x441c6a(0x36c):_0x2206a6+=_0x441c6a(0x940)+_0x24c224+'\x22>'+(_0x24c224+0x1)+'.\x20'+_0x4fbc80[_0x441c6a(0x822)]+_0x441c6a(0x1f7);_0x4fbc80[_0x441c6a(0x6be)]&&(_0x2206a6+=_0x441c6a(0x92a)+_0x24c224+_0x441c6a(0x8fd)+_0x4fbc80[_0x441c6a(0x6be)]+_0x441c6a(0x3e2));_0x2206a6+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x24c224+'\x22>'+_0x4fbc80[_0x441c6a(0x68a)]+_0x441c6a(0x3ef),_0x2206a6+=_0x441c6a(0xe4)+_0x24c224+'\x22>'+_0x4fbc80[_0x441c6a(0x220)]+'</span></div>';break;case _0x441c6a(0x247):_0x2206a6+=_0x441c6a(0x940)+_0x24c224+'\x22>'+(_0x24c224+0x1)+'.\x20'+_0x4fbc80[_0x441c6a(0x8fb)]+_0x441c6a(0x1f7);_0x4fbc80[_0x441c6a(0x6be)]&&(_0x2206a6+='<div\x20id=\x22q-image-container-'+_0x24c224+_0x441c6a(0x8fd)+_0x4fbc80['imageCode']+_0x441c6a(0x3e2));_0x2206a6+=_0x441c6a(0x7be)+_0x24c224+'\x22>'+_0x4fbc80['idealAnswer']+_0x441c6a(0x3ef),_0x2206a6+=_0x441c6a(0xe4)+_0x24c224+'\x22>'+_0x4fbc80[_0x441c6a(0x220)]+'</span></div>';break;case _0x441c6a(0x43d):_0x2206a6+=_0x441c6a(0x940)+_0x24c224+'\x22>'+(_0x24c224+0x1)+'.\x20'+_0x4fbc80[_0x441c6a(0x8fb)]+_0x441c6a(0x1f7);_0x4fbc80[_0x441c6a(0x6be)]&&(_0x2206a6+=_0x441c6a(0x92a)+_0x24c224+_0x441c6a(0x8fd)+_0x4fbc80['imageCode']+'</div>');_0x2206a6+=_0x441c6a(0x9be)+(_0x4fbc80[_0x441c6a(0x338)]===!![]?_0x441c6a(0x8ff):'')+_0x441c6a(0x97f)+(_0x4fbc80['correctAnswer']===![]?_0x441c6a(0x8ff):'')+_0x441c6a(0x925),_0x2206a6+=_0x441c6a(0xe4)+_0x24c224+'\x22>'+_0x4fbc80['explanation']+_0x441c6a(0x3ef);break;case _0x441c6a(0x5e0):case _0x441c6a(0x6f7):default:_0x2206a6+=_0x441c6a(0x940)+_0x24c224+'\x22>'+(_0x24c224+0x1)+'.\x20'+_0x4fbc80[_0x441c6a(0x8fb)]+'</p>';_0x4fbc80[_0x441c6a(0x6be)]&&(_0x2206a6+=_0x441c6a(0x92a)+_0x24c224+_0x441c6a(0x8fd)+_0x4fbc80[_0x441c6a(0x6be)]+_0x441c6a(0x3e2));_0x2206a6+=_0x441c6a(0x9ce)+_0x24c224+_0x441c6a(0x197)+_0x4fbc80[_0x441c6a(0x81c)]['map']((_0x2783d2,_0x96c725)=>'<li\x20class=\x22'+(_0x96c725===_0x4fbc80[_0x441c6a(0x230)]?_0x441c6a(0x8ff):'')+'\x22>'+_0x2783d2+'</li>')['join']('')+_0x441c6a(0x8ec),_0x2206a6+=_0x441c6a(0xe4)+_0x24c224+'\x22>'+_0x4fbc80[_0x441c6a(0x220)]+_0x441c6a(0x3ef);break;}_0x2206a6+='</div>';}),_0x2206a6+=_0x3bc4d2(0x788),_0x2becaa[_0x3bc4d2(0x8d2)]=_0x2206a6,document[_0x3bc4d2(0x379)](_0x3bc4d2(0x55e))[_0x3bc4d2(0x8ca)](_0x1867e6=>_0x1867e6[_0x3bc4d2(0x38a)](_0x3bc4d2(0x49b),handleEditQuestion)),document['querySelectorAll'](_0x3bc4d2(0x438))[_0x3bc4d2(0x8ca)](_0x409b6e=>_0x409b6e[_0x3bc4d2(0x38a)](_0x3bc4d2(0x49b),handleRegenerateQuestion)),document['querySelectorAll'](_0x3bc4d2(0x694))[_0x3bc4d2(0x8ca)](_0x1e3f24=>_0x1e3f24[_0x3bc4d2(0x38a)](_0x3bc4d2(0x49b),handleSaveToBank)),document[_0x3bc4d2(0x8c8)](_0x3bc4d2(0x5de))['addEventListener'](_0x3bc4d2(0x49b),exportQuizAsWorksheetPDF),document[_0x3bc4d2(0x8c8)]('save-quiz-btn')[_0x3bc4d2(0x38a)](_0x3bc4d2(0x49b),saveQuiz),document[_0x3bc4d2(0x8c8)](_0x3bc4d2(0x9a4))[_0x3bc4d2(0x38a)]('click',handleVerifyAnswers);if(window[_0x3bc4d2(0x141)])window[_0x3bc4d2(0x141)][_0x3bc4d2(0x715)]([_0x2becaa]);}function handleRegenerateQuestion(_0x358aaf){const _0x578daf=_0x555faf,_0x110d9d=_0x358aaf[_0x578daf(0x7e4)]['dataset'][_0x578daf(0x673)],_0x51065f=currentQuizData[_0x578daf(0x881)];showMessage(_0x578daf(0x388)+(parseInt(_0x110d9d)+0x1)+_0x578daf(0x44a)),generateQuiz(_0x51065f,null,parseInt(_0x110d9d));}function getPointerPosition(_0x1ed7ef,_0x25a156){const _0x1d3862=_0x555faf,_0x37e4ac=_0x1ed7ef[_0x1d3862(0x8d4)]();let _0x14a666,_0x30951f;return _0x25a156[_0x1d3862(0x850)]&&_0x25a156[_0x1d3862(0x850)][_0x1d3862(0x8c9)]>0x0?(_0x14a666=_0x25a156['touches'][0x0][_0x1d3862(0x4a1)],_0x30951f=_0x25a156['touches'][0x0][_0x1d3862(0x278)]):(_0x14a666=_0x25a156[_0x1d3862(0x4a1)],_0x30951f=_0x25a156[_0x1d3862(0x278)]),{'x':(_0x14a666-_0x37e4ac['e'])/_0x37e4ac['a'],'y':(_0x30951f-_0x37e4ac['f'])/_0x37e4ac['d']};}function startDrag(_0x432180){const _0x15ca10=_0x555faf;_0x432180[_0x15ca10(0x25b)]===_0x15ca10(0x891)&&_0x432180['preventDefault']();const _0x113b67=_0x432180[_0x15ca10(0x3ca)][_0x15ca10(0x5d5)](_0x15ca10(0x57c));if(_0x113b67){draggedSvgElement=_0x113b67;const _0x514e6f=draggedSvgElement[_0x15ca10(0x94e)],_0x36a0c5=getPointerPosition(_0x514e6f,_0x432180);svgOffset['x']=_0x36a0c5['x']-parseFloat(draggedSvgElement[_0x15ca10(0x963)](null,'x')),svgOffset['y']=_0x36a0c5['y']-parseFloat(draggedSvgElement[_0x15ca10(0x963)](null,'y'));}}function calculateItemAnalysis(_0x29313f,_0x2ccf9e){const _0x399463=_0x555faf,_0x361870={};if(_0x2ccf9e[_0x399463(0x8c9)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x3f66c=[..._0x2ccf9e][_0x399463(0x55d)]((_0x196758,_0x5c1628)=>{const _0x2e58ba=_0x399463,_0x2ea5ea=_0x5c1628[_0x2e58ba(0x289)]-_0x196758[_0x2e58ba(0x289)];if(_0x2ea5ea!==0x0)return _0x2ea5ea;const _0x303f27=_0x196758[_0x2e58ba(0x184)]?.[_0x2e58ba(0x8c9)]||0x1,_0x51c480=_0x5c1628[_0x2e58ba(0x184)]?.[_0x2e58ba(0x8c9)]||0x1,_0xb6b4ec=_0x303f27-_0x51c480;if(_0xb6b4ec!==0x0)return _0xb6b4ec;const _0x2e5195=new Date(_0x196758[_0x2e58ba(0x3c5)]),_0x49bce1=new Date(_0x5c1628[_0x2e58ba(0x3c5)]),_0x71615f=_0x2e5195-_0x49bce1;if(_0x71615f!==0x0)return _0x71615f;return _0x196758[_0x2e58ba(0x28b)][_0x2e58ba(0x2cf)](_0x5c1628['studentName'],'th');}),_0x4a7894=_0x3f66c['length'],_0x4e3961=Math['max'](0x1,Math[_0x399463(0xff)](_0x4a7894*0.33));if(_0x4e3961===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2687cc=_0x3f66c[_0x399463(0x17a)](0x0,_0x4e3961),_0x3e32a0=_0x3f66c[_0x399463(0x17a)](-_0x4e3961),_0x1dd045=_0x2687cc[_0x399463(0x16a)](_0x382442=>_0x382442['studentName']),_0x55f6de=_0x3e32a0['map'](_0x163aa2=>_0x163aa2[_0x399463(0x28b)]);return _0x29313f[_0x399463(0x96e)][_0x399463(0x8ca)]((_0x3751a8,_0x4ddf1a)=>{const _0x45b1a1=_0x399463,_0x1b1746=_0x3751a8[_0x45b1a1(0x822)]||_0x3751a8[_0x45b1a1(0x8fb)];let _0x42cdc4=0x0,_0x515a70=0x0,_0x5bbf4b=0x0;const _0x15e533=[],_0x2f5121=[];_0x2687cc[_0x45b1a1(0x8ca)](_0x7fc2e8=>{const _0x47d3e5=_0x45b1a1,_0xb58ba9=_0x7fc2e8[_0x47d3e5(0x184)][_0x7fc2e8['attempts'][_0x47d3e5(0x8c9)]-0x1],_0x368d03=_0xb58ba9[_0x47d3e5(0x4ff)][_0x47d3e5(0x653)](_0x28e499=>_0x28e499[_0x47d3e5(0x9e2)]===_0x1b1746);_0x15e533[_0x47d3e5(0x52e)]({'name':_0x7fc2e8[_0x47d3e5(0x28b)],'isCorrect':_0x368d03?_0x368d03[_0x47d3e5(0x696)]:![]}),_0x368d03&&_0x368d03[_0x47d3e5(0x696)]&&_0x515a70++;}),_0x3e32a0[_0x45b1a1(0x8ca)](_0x535739=>{const _0x194e76=_0x45b1a1,_0x2ef277=_0x535739[_0x194e76(0x184)][_0x535739[_0x194e76(0x184)][_0x194e76(0x8c9)]-0x1],_0x259069=_0x2ef277[_0x194e76(0x4ff)]['find'](_0x36089b=>_0x36089b[_0x194e76(0x9e2)]===_0x1b1746);_0x2f5121[_0x194e76(0x52e)]({'name':_0x535739[_0x194e76(0x28b)],'isCorrect':_0x259069?_0x259069[_0x194e76(0x696)]:![]}),_0x259069&&_0x259069[_0x194e76(0x696)]&&_0x5bbf4b++;}),_0x2ccf9e[_0x45b1a1(0x8ca)](_0x33f3bc=>{const _0xc745d7=_0x45b1a1,_0x1f3b16=_0x33f3bc[_0xc745d7(0x184)][_0x33f3bc[_0xc745d7(0x184)][_0xc745d7(0x8c9)]-0x1],_0x4bdba3=_0x1f3b16['answers'][_0xc745d7(0x653)](_0x15e8ab=>_0x15e8ab[_0xc745d7(0x9e2)]===_0x1b1746);_0x4bdba3&&_0x4bdba3[_0xc745d7(0x696)]&&_0x42cdc4++;});const _0x404b46=_0x4a7894>0x0?_0x42cdc4/_0x4a7894:0x0,_0x308abf=_0x4e3961>0x0?_0x515a70/_0x4e3961-_0x5bbf4b/_0x4e3961:0x0;_0x361870[_0x4ddf1a]={'p':_0x404b46,'r':_0x308abf,'upperGroupResponders':_0x15e533,'lowerGroupResponders':_0x2f5121};}),{'perQuestionStats':_0x361870,'overallGroups':{'upperGroupNames':_0x1dd045,'lowerGroupNames':_0x55f6de}};}function drag(_0x270d9d){const _0x23ceb8=_0x555faf;if(draggedSvgElement){_0x270d9d['preventDefault']();const _0x328440=draggedSvgElement[_0x23ceb8(0x94e)],_0x307801=getPointerPosition(_0x328440,_0x270d9d),_0x1ae221=_0x328440[_0x23ceb8(0x41d)]['baseVal'];let _0x1b356a=_0x307801['x']-svgOffset['x'],_0x274a68=_0x307801['y']-svgOffset['y'];const _0x146291=draggedSvgElement[_0x23ceb8(0x62a)]();_0x1b356a=Math[_0x23ceb8(0x35a)](_0x1ae221['x'],Math['min'](_0x1b356a,_0x1ae221['x']+_0x1ae221[_0x23ceb8(0x78b)]-_0x146291[_0x23ceb8(0x78b)])),_0x274a68=Math[_0x23ceb8(0x35a)](_0x1ae221['y'],Math[_0x23ceb8(0x205)](_0x274a68,_0x1ae221['y']+_0x1ae221['height']-_0x146291[_0x23ceb8(0x6e6)])),draggedSvgElement['setAttributeNS'](null,'x',_0x1b356a),draggedSvgElement[_0x23ceb8(0x96c)](null,'y',_0x274a68);}}function _0x4110(_0xb53034,_0x5d2773){const _0x46b7bc=_0x46b7();return _0x4110=function(_0x41105b,_0x318b6e){_0x41105b=_0x41105b-0xdf;let _0x8b214b=_0x46b7bc[_0x41105b];return _0x8b214b;},_0x4110(_0xb53034,_0x5d2773);}function endDrag(_0x41ef03){draggedSvgElement=null;}function handleSvgEditClick(_0x5c5377){const _0x3b07bc=_0x555faf;if(_0x5c5377[_0x3b07bc(0x3ca)][_0x3b07bc(0x65e)][_0x3b07bc(0x2d3)](_0x3b07bc(0x936))){const _0x2b8a40=_0x5c5377[_0x3b07bc(0x3ca)][_0x3b07bc(0x8eb)][_0x3b07bc(0x21d)],_0x34add6=_0x5c5377[_0x3b07bc(0x7e4)],_0x40e2da=_0x34add6[_0x3b07bc(0x5be)]('#'+_0x2b8a40);_0x40e2da&&_0x40e2da[_0x3b07bc(0x3bf)](),_0x5c5377[_0x3b07bc(0x3ca)][_0x3b07bc(0x3bf)]();}}function handleEditQuestion(_0xdc54ef){const _0x23d186=_0x555faf,_0x4c2795=_0xdc54ef[_0x23d186(0x7e4)],_0x5e9478=_0x4c2795[_0x23d186(0x8eb)][_0x23d186(0x673)],_0x3ad578=currentQuizData['questions'][_0x5e9478],_0x2cbff3=document['getElementById'](_0x23d186(0x7df)+_0x5e9478),_0x19c0e8=document[_0x23d186(0x8c8)]('q-explanation-'+_0x5e9478),_0x4a9433=document[_0x23d186(0x8c8)]('q-image-container-'+_0x5e9478);if(_0x4c2795[_0x23d186(0x8d2)][_0x23d186(0xf5)]('fa-pen')){_0x4c2795['innerHTML']=_0x23d186(0x973),_0x4c2795[_0x23d186(0x3f7)]=_0x23d186(0x5f0);if(_0x2cbff3)_0x2cbff3[_0x23d186(0x4a2)]=!![];if(_0x19c0e8)_0x19c0e8[_0x23d186(0x4a2)]=!![];if(_0x4a9433){const _0x368d96=_0x4a9433[_0x23d186(0x5be)]('svg');if(_0x368d96){const _0x244f53=_0x368d96[_0x23d186(0x379)](_0x23d186(0x460));_0x244f53[_0x23d186(0x8ca)]((_0x34503c,_0x564726)=>{const _0x38a409=_0x23d186,_0xd79bc6=_0x38a409(0x55f)+_0x5e9478+'-'+_0x564726;_0x34503c['id']=_0xd79bc6,_0x34503c[_0x38a409(0x65e)][_0x38a409(0x43c)](_0x38a409(0x479)),_0x34503c['style'][_0x38a409(0x2d4)]=_0x38a409(0x99e);const _0x149b23=document['createElementNS'](_0x38a409(0x627),_0x38a409(0x86f)),_0x4719e1=_0x34503c[_0x38a409(0x62a)]();_0x149b23[_0x38a409(0x26d)]('cx',String(_0x4719e1['x']+_0x4719e1[_0x38a409(0x78b)]+0x5)),_0x149b23[_0x38a409(0x26d)]('cy',String(_0x4719e1['y']+_0x4719e1[_0x38a409(0x6e6)]/0x2-0x5)),_0x149b23['setAttribute']('r','5'),_0x149b23[_0x38a409(0x26d)](_0x38a409(0x26b),_0x38a409(0x77d)),_0x149b23['setAttribute'](_0x38a409(0x962),_0x38a409(0x936)),_0x149b23[_0x38a409(0x8eb)][_0x38a409(0x21d)]=_0xd79bc6,_0x34503c[_0x38a409(0x93b)](_0x149b23);}),_0x368d96[_0x23d186(0x38a)](_0x23d186(0x803),startDrag),_0x368d96[_0x23d186(0x38a)]('mousemove',drag),_0x368d96[_0x23d186(0x38a)](_0x23d186(0x14c),endDrag),_0x368d96[_0x23d186(0x38a)](_0x23d186(0x318),endDrag),_0x368d96[_0x23d186(0x38a)](_0x23d186(0x891),startDrag,{'passive':![]}),_0x368d96[_0x23d186(0x38a)](_0x23d186(0x3e1),drag,{'passive':![]}),_0x368d96[_0x23d186(0x38a)](_0x23d186(0x946),endDrag),_0x368d96[_0x23d186(0x38a)]('touchcancel',endDrag),_0x368d96[_0x23d186(0x38a)](_0x23d186(0x49b),handleSvgEditClick);}}if(_0x2cbff3)_0x2cbff3[_0x23d186(0x7bb)]();}else{_0x4c2795[_0x23d186(0x8d2)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x4c2795['title']=_0x23d186(0x8cf);if(_0x2cbff3){_0x2cbff3['contentEditable']=![];const _0x36a505=_0x3ad578[_0x23d186(0x496)]||currentQuizData[_0x23d186(0x567)];_0x36a505===_0x23d186(0x36c)?_0x3ad578[_0x23d186(0x822)]=_0x2cbff3[_0x23d186(0x39c)]['substring'](_0x2cbff3[_0x23d186(0x39c)]['indexOf']('.')+0x2)[_0x23d186(0x588)]():_0x3ad578[_0x23d186(0x8fb)]=_0x2cbff3['innerText']['substring'](_0x2cbff3[_0x23d186(0x39c)][_0x23d186(0x83e)]('.')+0x2)['trim']();}_0x19c0e8&&(_0x19c0e8[_0x23d186(0x4a2)]=![],_0x3ad578[_0x23d186(0x220)]=_0x19c0e8[_0x23d186(0x39c)]);if(_0x4a9433){const _0x3e5b8f=_0x4a9433[_0x23d186(0x5be)](_0x23d186(0x501));if(_0x3e5b8f){const _0x3e9742=_0x3e5b8f[_0x23d186(0x3be)](!![]);_0x3e9742[_0x23d186(0x379)](_0x23d186(0x4b2))[_0x23d186(0x8ca)](_0x4894e8=>_0x4894e8[_0x23d186(0x3bf)]()),_0x3e9742[_0x23d186(0x379)]('.draggable-text')['forEach'](_0x139939=>{const _0x340adc=_0x23d186;_0x139939[_0x340adc(0x65e)][_0x340adc(0x3bf)](_0x340adc(0x479)),_0x139939[_0x340adc(0x1c6)][_0x340adc(0x2d4)]=_0x340adc(0x59c),_0x139939[_0x340adc(0x2d9)]('id');}),_0x3ad578[_0x23d186(0x6be)]=_0x3e9742[_0x23d186(0x641)],_0x3e5b8f[_0x23d186(0x6b3)](_0x23d186(0x803),startDrag),_0x3e5b8f[_0x23d186(0x6b3)](_0x23d186(0x90d),drag),_0x3e5b8f[_0x23d186(0x6b3)](_0x23d186(0x14c),endDrag),_0x3e5b8f['removeEventListener'](_0x23d186(0x318),endDrag),_0x3e5b8f['removeEventListener']('touchstart',startDrag),_0x3e5b8f[_0x23d186(0x6b3)](_0x23d186(0x3e1),drag),_0x3e5b8f[_0x23d186(0x6b3)](_0x23d186(0x946),endDrag),_0x3e5b8f[_0x23d186(0x6b3)](_0x23d186(0x276),endDrag),_0x3e5b8f[_0x23d186(0x6b3)](_0x23d186(0x49b),handleSvgEditClick),_0x3e5b8f[_0x23d186(0x379)](_0x23d186(0x4b2))[_0x23d186(0x8ca)](_0x2994be=>_0x2994be[_0x23d186(0x3bf)]()),_0x3e5b8f[_0x23d186(0x379)](_0x23d186(0x57c))['forEach'](_0x33c14f=>{const _0x1132ff=_0x23d186;_0x33c14f[_0x1132ff(0x65e)]['remove'](_0x1132ff(0x479)),_0x33c14f[_0x1132ff(0x1c6)][_0x1132ff(0x2d4)]=_0x1132ff(0x59c);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x15ba75){const _0x3e5b15=_0x555faf,_0x2530d2=document[_0x3e5b15(0x8c8)](_0x3e5b15(0x308)),_0x2815ba=document[_0x3e5b15(0x8c8)]('quiz-editor-questions-container');_0x2815ba[_0x3e5b15(0x8d2)]=_0x3e5b15(0x99a),_0x2530d2['classList'][_0x3e5b15(0x3bf)](_0x3e5b15(0x3a5));try{const _0x2911ef=doc(db,_0x3e5b15(0x81a)+appId+_0x3e5b15(0x235),_0x15ba75),_0x42513d=await getDoc(_0x2911ef);if(!_0x42513d['exists']())throw new Error(_0x3e5b15(0x8e3));currentEditingQuizData={'id':_0x15ba75,..._0x42513d['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x2b3e05){console[_0x3e5b15(0x241)](_0x3e5b15(0x57a),_0x2b3e05),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x2530d2[_0x3e5b15(0x65e)][_0x3e5b15(0x43c)](_0x3e5b15(0x3a5));}}function renderQuizEditor(_0x5ad5a3){const _0x3b087f=_0x555faf;document[_0x3b087f(0x8c8)](_0x3b087f(0x89a))[_0x3b087f(0x22a)]=_0x5ad5a3[_0x3b087f(0x881)];const _0xf50e82=document[_0x3b087f(0x8c8)](_0x3b087f(0x129));let _0x232f75=_0x5ad5a3['questions']['map']((_0x5359d5,_0x36a99f)=>{const _0x3bd933=_0x3b087f;let _0x24a6a2='';const _0x1c994e=_0x5359d5['questionType']||_0x5ad5a3[_0x3bd933(0x567)];switch(_0x1c994e){case _0x3bd933(0x6f7):const _0x483276=(_0x5359d5[_0x3bd933(0x81c)]||[])['map']((_0x72cdfa,_0x2b7f4a)=>_0x3bd933(0x5f8)+_0x36a99f+_0x3bd933(0x249)+_0x2b7f4a+'\x22\x20'+(_0x2b7f4a===_0x5359d5[_0x3bd933(0x230)]?_0x3bd933(0x593):'')+_0x3bd933(0x351)+_0x72cdfa+_0x3bd933(0x139))[_0x3bd933(0x71e)]('');_0x24a6a2=_0x3bd933(0x2e1)+_0x483276+_0x3bd933(0x838);break;case'short_answer':_0x24a6a2=_0x3bd933(0x5e6)+(_0x5359d5[_0x3bd933(0x1e4)]||'')+_0x3bd933(0x4c9);break;case _0x3bd933(0x43d):_0x24a6a2=_0x3bd933(0x5da)+_0x36a99f+_0x3bd933(0x746)+(_0x5359d5[_0x3bd933(0x338)]===!![]?_0x3bd933(0x593):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x36a99f+_0x3bd933(0xe7)+(_0x5359d5['correctAnswer']===![]?'checked':'')+_0x3bd933(0x7d5);break;case _0x3bd933(0x36c):_0x24a6a2=_0x3bd933(0x27a)+(_0x5359d5['correctResponse']||'')+_0x3bd933(0x96b);break;}const _0xd086c4=_0x5359d5['questionText']||_0x5359d5[_0x3bd933(0x822)]||'';return _0x3bd933(0x4e0)+_0x36a99f+'\x22\x20data-q-type=\x22'+_0x1c994e+_0x3bd933(0x339)+(_0x36a99f+0x1)+'\x20('+_0x1c994e+_0x3bd933(0x4c2)+_0xd086c4+_0x3bd933(0x7f3)+_0x24a6a2+_0x3bd933(0x5f3);})[_0x3b087f(0x71e)]('');_0xf50e82[_0x3b087f(0x8d2)]=_0x232f75,_0xf50e82[_0x3b087f(0x379)](_0x3b087f(0x807))[_0x3b087f(0x8ca)](_0x6ad3e9=>{const _0x243fd6=_0x3b087f;_0x6ad3e9[_0x243fd6(0x38a)]('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x16c08d){const _0x52286c=_0x555faf,_0x4a241e=_0x16c08d[_0x52286c(0x7e4)],_0x24f0e7=_0x4a241e[_0x52286c(0x5d5)](_0x52286c(0x151));if(!_0x24f0e7)return;const _0x153d09=parseInt(_0x24f0e7[_0x52286c(0x8eb)][_0x52286c(0x78c)],0xa);if(isNaN(_0x153d09)||!currentEditingQuizData['questions'][_0x153d09]){showMessage(_0x52286c(0x166));return;}const _0x4ab734=currentEditingQuizData[_0x52286c(0x96e)][_0x153d09];_0x4a241e[_0x52286c(0x8d2)]=_0x52286c(0x954),_0x4a241e[_0x52286c(0x915)]=!![];const _0x4817bf=_0x52286c(0x882)+JSON[_0x52286c(0x784)](_0x4ab734)+_0x52286c(0x873);let _0x4b3916;const _0x4a6df0=_0x4ab734[_0x52286c(0x496)]||currentEditingQuizData[_0x52286c(0x567)];switch(_0x4a6df0){case'short_answer':_0x4b3916={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x52286c(0x629)},'explanation':{'type':_0x52286c(0x629)},'imageCode':{'type':_0x52286c(0x629)}},'required':[_0x52286c(0x8fb),_0x52286c(0x1e4),'explanation']};break;case'multiple_choice':default:_0x4b3916={'type':_0x52286c(0x3c2),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x52286c(0x629)}},'required':[_0x52286c(0x8fb),_0x52286c(0x81c),_0x52286c(0x230),_0x52286c(0x220)]};break;}try{let _0xb08dcc=await callAnalysisApi(_0x4817bf,_0x4b3916);_0xb08dcc[_0x52286c(0x81c)]&&Array[_0x52286c(0x97a)](_0xb08dcc[_0x52286c(0x81c)])&&(_0xb08dcc[_0x52286c(0x81c)]=_0xb08dcc['options']['map'](_0x124d5a=>typeof _0x124d5a===_0x52286c(0x532)?_0x124d5a[_0x52286c(0x750)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x124d5a)),_0x4ab734[_0x52286c(0x6be)]&&_0x4ab734[_0x52286c(0x6be)]['includes'](_0x52286c(0x358))&&(_0xb08dcc[_0x52286c(0x6be)]=''),currentEditingQuizData['questions'][_0x153d09]={..._0x4ab734,..._0xb08dcc},renderQuizEditor(currentEditingQuizData),showMessage(_0x52286c(0x42f));}catch(_0x3e4fe5){console[_0x52286c(0x241)]('AI\x20Fix\x20Error:',_0x3e4fe5),showMessage(_0x52286c(0x377)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x543456=_0x555faf,_0x42a0f8=document[_0x543456(0x8c8)](_0x543456(0x371));_0x42a0f8[_0x543456(0x915)]=!![],_0x42a0f8[_0x543456(0x8d2)]=_0x543456(0x62e);try{const _0x157e0c=document[_0x543456(0x8c8)](_0x543456(0x89a))['value'],_0x30b495=document['querySelectorAll'](_0x543456(0x151));let _0x1847c8=[];const _0x585967=Array[_0x543456(0x578)](_0x30b495)[_0x543456(0x16a)]((_0x3ce3e4,_0x9cc493)=>{const _0x33bbfa=_0x543456,_0x2edd6e=_0x3ce3e4['dataset'][_0x33bbfa(0x9ff)],_0x2094a7=_0x3ce3e4[_0x33bbfa(0x5be)](_0x33bbfa(0x4c3))[_0x33bbfa(0x22a)];let _0x23ad91={'questionType':_0x2edd6e};const _0x3222ee=currentEditingQuizData['questions'][_0x9cc493];switch(_0x2edd6e){case _0x33bbfa(0x6f7):_0x23ad91[_0x33bbfa(0x8fb)]=_0x2094a7;const _0x5a8879=_0x3ce3e4[_0x33bbfa(0x379)](_0x33bbfa(0x71c));_0x23ad91['options']=Array[_0x33bbfa(0x578)](_0x5a8879)['map'](_0x1c7726=>_0x1c7726['value']);const _0x21e750=_0x3ce3e4[_0x33bbfa(0x5be)]('input[type=\x22radio\x22]:checked');_0x23ad91[_0x33bbfa(0x230)]=_0x21e750?parseInt(_0x21e750[_0x33bbfa(0x22a)]):0x0;break;case _0x33bbfa(0x247):_0x23ad91[_0x33bbfa(0x8fb)]=_0x2094a7,_0x23ad91[_0x33bbfa(0x1e4)]=_0x3ce3e4[_0x33bbfa(0x5be)](_0x33bbfa(0x43f))[_0x33bbfa(0x22a)];break;case'true_false':_0x23ad91[_0x33bbfa(0x8fb)]=_0x2094a7;const _0x4093f8=_0x3ce3e4[_0x33bbfa(0x5be)](_0x33bbfa(0x2ac));_0x23ad91[_0x33bbfa(0x338)]=_0x4093f8?_0x4093f8[_0x33bbfa(0x22a)]===_0x33bbfa(0x3d8):!![];break;case _0x33bbfa(0x36c):_0x23ad91[_0x33bbfa(0x822)]=_0x2094a7;const _0x39a7f9=_0x3ce3e4[_0x33bbfa(0x5be)](_0x33bbfa(0x1c7));_0x23ad91[_0x33bbfa(0x68a)]=_0x39a7f9?_0x39a7f9[_0x33bbfa(0x22a)]:'',_0x1847c8['push'](_0x23ad91['correctResponse']);break;default:_0x23ad91[_0x33bbfa(0x8fb)]=_0x2094a7;break;}return{..._0x3222ee,..._0x23ad91};});_0x1847c8[_0x543456(0x8c9)]>0x0&&_0x585967[_0x543456(0x8ca)](_0x1f52a3=>{const _0x58741c=_0x543456;_0x1f52a3[_0x58741c(0x496)]===_0x58741c(0x36c)&&(_0x1f52a3[_0x58741c(0x2cb)]=_0x1847c8);});const _0x51c305=currentEditingQuizData['id'],_0x1bf8f4=doc(db,_0x543456(0x81a)+appId+'/public/data/quizzes',_0x51c305);await updateDoc(_0x1bf8f4,{'topic':_0x157e0c,'questions':_0x585967}),document[_0x543456(0x8c8)](_0x543456(0x308))[_0x543456(0x65e)][_0x543456(0x43c)](_0x543456(0x3a5)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x51c305));}catch(_0x213935){console[_0x543456(0x241)]('Error\x20saving\x20quiz\x20edits:',_0x213935),showMessage(_0x543456(0x758));}finally{_0x42a0f8[_0x543456(0x915)]=![],_0x42a0f8[_0x543456(0x8d2)]=_0x543456(0x7db);}}async function initiateReGradeProcess(_0xace098){const _0x23f03a=_0x555faf;showMessage(_0x23f03a(0x6ff));try{const _0x3008d0=doc(db,_0x23f03a(0x81a)+appId+_0x23f03a(0x235),_0xace098),_0x12b837=await getDoc(_0x3008d0);if(!_0x12b837[_0x23f03a(0x28d)]())throw new Error(_0x23f03a(0x7b8));const _0x5b8136={'id':_0xace098,..._0x12b837[_0x23f03a(0x56d)]()},_0x280989=collection(db,_0x23f03a(0x81a)+appId+_0x23f03a(0x235),_0xace098,'submissions'),_0x159c9d=await getDocs(_0x280989);if(_0x159c9d['empty']){showMessage(_0x23f03a(0x1ca));return;}const _0x29f2f8=_0x159c9d[_0x23f03a(0x755)][_0x23f03a(0x16a)](_0x144a20=>reGradeSingleSubmission(_0x144a20,_0x5b8136));await Promise[_0x23f03a(0x816)](_0x29f2f8);if(_0x5b8136[_0x23f03a(0x8bf)]){const _0x205e75=doc(db,_0x23f03a(0x81a)+appId+_0x23f03a(0x2fe),_0x5b8136[_0x23f03a(0x8bf)]),_0x44b3ad=await getDoc(_0x205e75);if(_0x44b3ad[_0x23f03a(0x28d)]()&&_0x44b3ad['data']()[_0x23f03a(0x4b6)]){const _0x265973=_0x44b3ad[_0x23f03a(0x56d)]()[_0x23f03a(0x4b6)][_0x23f03a(0x16a)](_0x2b303b=>updateStudentProfile(_0x5b8136['projectId'],_0x2b303b));await Promise[_0x23f03a(0x816)](_0x265973);}}showMessage(_0x23f03a(0x328)+_0x159c9d[_0x23f03a(0x901)]+_0x23f03a(0x2e9));}catch(_0x5e275a){console[_0x23f03a(0x241)](_0x23f03a(0x4ef),_0x5e275a),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x5e275a[_0x23f03a(0x476)]);}}async function reGradeSingleSubmission(_0x55ef97,_0x5a0561){const _0x27f00f=_0x555faf,_0x17163f=_0x55ef97['data'](),_0x1881f7=_0x17163f['studentName'],_0x20c8a8=_0x17163f[_0x27f00f(0x184)]||[],_0x3e4b26=[];for(const _0x2e108b of _0x20c8a8){let _0x59e850=0x0,_0xe11bf2=[],_0x45674a=0x0;const _0x237fd7=[];for(const _0x1d8d56 of _0x2e108b[_0x27f00f(0x4ff)]){let _0x2b6d7f;_0x1d8d56[_0x27f00f(0x240)]&&(_0x2b6d7f=_0x5a0561[_0x27f00f(0x96e)][_0x27f00f(0x653)](_0x51e374=>_0x51e374['id']===_0x1d8d56[_0x27f00f(0x240)]));!_0x2b6d7f&&_0x1d8d56['originalQuestionText']&&(_0x2b6d7f=_0x5a0561['questions'][_0x27f00f(0x653)](_0x15b5e0=>(_0x15b5e0[_0x27f00f(0x822)]||_0x15b5e0[_0x27f00f(0x8fb)])===_0x1d8d56['originalQuestionText']));let _0x38c222=![];if(_0x2b6d7f){const _0xc6e9ab=_0x2b6d7f[_0x27f00f(0x496)]||_0x5a0561['quizType'];switch(_0xc6e9ab){case _0x27f00f(0x6f7):if(_0x2b6d7f['options']&&_0x2b6d7f[_0x27f00f(0x230)]<_0x2b6d7f[_0x27f00f(0x81c)][_0x27f00f(0x8c9)]){const _0x701b53=_0x2b6d7f[_0x27f00f(0x81c)][_0x2b6d7f['correctAnswerIndex']];_0x38c222=_0x1d8d56[_0x27f00f(0x168)]===_0x701b53;}break;case _0x27f00f(0x43d):const _0x5a4967=_0x1d8d56['answer']===!![]||_0x1d8d56[_0x27f00f(0x887)]==='true';_0x38c222=_0x5a4967===_0x2b6d7f[_0x27f00f(0x338)];break;case _0x27f00f(0x36c):_0x38c222=_0x1d8d56[_0x27f00f(0x887)]===_0x2b6d7f['correctResponse'];break;case _0x27f00f(0x247):_0x38c222=await gradeShortAnswer(_0x1d8d56[_0x27f00f(0x887)],_0x2b6d7f);break;default:_0x38c222=_0x1d8d56[_0x27f00f(0x696)];break;}}if(_0x38c222){_0x59e850++,_0x45674a++;if(_0x45674a===0x3)_0xe11bf2[_0x27f00f(0x52e)](BADGES['ON_FIRE']['id']);}else _0x45674a=0x0;_0x237fd7[_0x27f00f(0x52e)]({..._0x1d8d56,'isCorrect':_0x38c222});}let _0x2cc6fc=_0x59e850*0xa;_0x59e850===_0x5a0561['questions'][_0x27f00f(0x8c9)]&&(_0x2cc6fc+=0x32,_0xe11bf2['push'](BADGES[_0x27f00f(0x9e6)]['id'])),_0x3e4b26['push']({..._0x2e108b,'score':_0x59e850,'points':_0x2cc6fc,'badges':Array[_0x27f00f(0x578)](new Set(_0xe11bf2)),'answers':_0x237fd7});}const _0x44a82c=_0x3e4b26[_0x27f00f(0x8c9)]>0x0?_0x3e4b26[0x0][_0x27f00f(0x34e)]:0x0,_0x1cf4f1=Math[_0x27f00f(0x35a)](..._0x3e4b26['map'](_0x3685fc=>_0x3685fc[_0x27f00f(0x34e)])),_0x4ace6e=_0x3e4b26[_0x27f00f(0x8c9)]>0x0?_0x3e4b26[_0x3e4b26[_0x27f00f(0x8c9)]-0x1][_0x27f00f(0x34e)]:0x0,_0x43ba5b=_0x3e4b26[_0x27f00f(0x8c9)]>0x0?_0x3e4b26[_0x3e4b26[_0x27f00f(0x8c9)]-0x1][_0x27f00f(0x661)]:0x0,_0x1cf261=doc(db,_0x27f00f(0x81a)+appId+_0x27f00f(0x664)+_0x5a0561['id']+_0x27f00f(0x647),_0x1881f7);await updateDoc(_0x1cf261,{'attempts':_0x3e4b26,'firstScore':_0x44a82c,'bestScore':_0x1cf4f1,'latestScore':_0x4ace6e,'points':_0x43ba5b});}function cleanupQuizOptions(_0x3ca6eb){const _0x37f961=_0x555faf,_0x57d6ad=(_0x308a0c,_0x1fe432)=>_0x1fe432===0x0?_0x308a0c:_0x57d6ad(_0x1fe432,_0x308a0c%_0x1fe432),_0x5767a6=_0x3451dd=>{const _0xab5dcb=_0x4110;if(typeof _0x3451dd!==_0xab5dcb(0x532))return null;_0x3451dd=_0x3451dd[_0xab5dcb(0x588)]();const _0x212007=_0x3451dd[_0xab5dcb(0x583)](/[ /]/)[_0xab5dcb(0x858)](_0x25df2a=>_0x25df2a!=='');if(_0x212007[_0xab5dcb(0x8c9)]===0x3)return parseInt(_0x212007[0x0])+parseInt(_0x212007[0x1])/parseInt(_0x212007[0x2]);else{if(_0x212007[_0xab5dcb(0x8c9)]===0x2)return parseInt(_0x212007[0x0])/parseInt(_0x212007[0x1]);else{if(_0x212007[_0xab5dcb(0x8c9)]===0x1&&!isNaN(_0x212007[0x0]))return parseFloat(_0x212007[0x0]);}}return null;},_0x50be7b=_0x143fe4=>{const _0x51730d=_0x4110;if(typeof _0x143fe4!==_0x51730d(0x532))return _0x143fe4;const _0x4af115=_0x143fe4[_0x51730d(0x25f)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x4af115){const _0x477110=parseInt(_0x4af115[0x1]);let _0x17deb6=parseInt(_0x4af115[0x2]),_0x39d7bd=parseInt(_0x4af115[0x3]);const _0x2c2318=_0x57d6ad(_0x17deb6,_0x39d7bd);_0x17deb6/=_0x2c2318,_0x39d7bd/=_0x2c2318;if(_0x39d7bd===0x1)return(_0x477110+_0x17deb6)[_0x51730d(0x8be)]();return _0x477110+'\x20'+_0x17deb6+'/'+_0x39d7bd;}return _0x143fe4;};return _0x3ca6eb&&_0x3ca6eb['questions']&&_0x3ca6eb[_0x37f961(0x96e)][_0x37f961(0x8ca)](_0x1fc932=>{const _0x4b930b=_0x37f961;if(_0x1fc932['questionType']===_0x4b930b(0x6f7)&&_0x1fc932[_0x4b930b(0x81c)]){const _0x3afe21=new Map(),_0x267913=_0x1fc932[_0x4b930b(0x81c)][_0x1fc932[_0x4b930b(0x230)]];_0x1fc932[_0x4b930b(0x81c)]['forEach'](_0x11b199=>{const _0x12cb39=_0x4b930b,_0xcea129=_0x50be7b(_0x11b199),_0x30b159=_0x5767a6(_0xcea129);_0x30b159!==null&&!_0x3afe21[_0x12cb39(0x12a)](_0x30b159)&&_0x3afe21[_0x12cb39(0x73e)](_0x30b159,_0xcea129);}),_0x1fc932[_0x4b930b(0x81c)]=Array[_0x4b930b(0x578)](_0x3afe21['values']());const _0x263fff=_0x1fc932[_0x4b930b(0x81c)][_0x4b930b(0x8b4)](_0x331f77=>_0x331f77===_0x50be7b(_0x267913));_0x1fc932[_0x4b930b(0x230)]=_0x263fff!==-0x1?_0x263fff:0x0;}}),_0x3ca6eb;}function showGameStartConfirmationModal(_0x508322,_0x57a1f2,_0x247840){const _0x8fa352=_0x555faf,_0xde4371=document[_0x8fa352(0x8c8)]('confirm-game-start-modal');document[_0x8fa352(0x8c8)](_0x8fa352(0x25c))[_0x8fa352(0x29c)]=_0x8fa352(0x7a2)+_0x247840,document[_0x8fa352(0x8c8)](_0x8fa352(0x821))[_0x8fa352(0x22a)]=_0x508322,document[_0x8fa352(0x8c8)](_0x8fa352(0x97b))[_0x8fa352(0x22a)]=_0x57a1f2,document[_0x8fa352(0x8c8)](_0x8fa352(0x6bf))[_0x8fa352(0x593)]=!![],_0xde4371['classList'][_0x8fa352(0x3bf)](_0x8fa352(0x3a5));}async function saveGameResultsAsSubmissions(_0x3ef2ae){const _0x58d025=_0x555faf;console['log'](_0x58d025(0x5c2),_0x3ef2ae);const _0x4f0d94=_0x3ef2ae[_0x58d025(0x128)];let _0x4fcde8=[];if(_0x3ef2ae['players'])_0x4fcde8=Object[_0x58d025(0x9e9)](_0x3ef2ae[_0x58d025(0x79e)])[_0x58d025(0x16a)](([_0x346ed2,_0x265549])=>({'name':_0x346ed2,..._0x265549}));else{if(_0x3ef2ae[_0x58d025(0x191)])Object['values'](_0x3ef2ae['groups'])[_0x58d025(0x8ca)](_0xc64244=>{const _0x316018=_0x58d025;_0xc64244['members'][_0x316018(0x8ca)](_0x441bb0=>{const _0x4ba4fd=_0x316018;_0x4fcde8[_0x4ba4fd(0x52e)]({'name':_0x441bb0,'score':_0xc64244[_0x4ba4fd(0x34e)]});});});else _0x3ef2ae[_0x58d025(0x66c)]&&Object[_0x58d025(0x9e9)](_0x3ef2ae['responses'])[_0x58d025(0x8ca)](([_0x310d9d,_0x4703ee])=>{const _0x381b17=_0x58d025;_0x4fcde8[_0x381b17(0x52e)]({'name':_0x310d9d,..._0x4703ee});});}if(_0x4fcde8[_0x58d025(0x8c9)]===0x0){console[_0x58d025(0x436)](_0x58d025(0x877));return;}const _0x162f4d=_0x3ef2ae[_0x58d025(0x794)]?.[_0x58d025(0x96e)][_0x58d025(0x8c9)]||currentQuizData['questions']['length'],_0x53f004=writeBatch(db);for(const _0x474c59 of _0x4fcde8){const _0x29fc08=_0x474c59['score']||0x0,_0x441919=doc(db,_0x58d025(0x81a)+appId+_0x58d025(0x664)+_0x4f0d94+'/submissions',_0x474c59[_0x58d025(0x3df)]),_0x1616a8={'score':_0x29fc08,'points':_0x29fc08*0xa,'badges':_0x474c59[_0x58d025(0x848)]||[],'submittedAt':new Date()[_0x58d025(0x92e)](),'answers':(_0x474c59[_0x58d025(0x4ff)]||[])[_0x58d025(0x16a)](_0x199eb9=>({'isCorrect':_0x199eb9[_0x58d025(0x696)],'answer':_0x58d025(0x648)}))},_0x597df6=await getDoc(_0x441919),_0x118847=_0x597df6['exists']()?_0x597df6[_0x58d025(0x56d)]():{},_0x282d55=_0x118847[_0x58d025(0x1ff)]||0x0,_0x477a3e=_0x118847[_0x58d025(0x184)]||[],_0x3c5c4d={'studentName':_0x474c59[_0x58d025(0x3df)],'totalQuestions':_0x162f4d,'attempts':arrayUnion(_0x1616a8),'latestScore':_0x29fc08,'latestSubmittedAt':_0x1616a8[_0x58d025(0x94b)],'bestScore':Math['max'](_0x282d55,_0x29fc08),'firstScore':_0x477a3e[_0x58d025(0x8c9)]===0x0?_0x29fc08:_0x118847[_0x58d025(0x1d0)]||0x0};_0x53f004[_0x58d025(0x73e)](_0x441919,_0x3c5c4d,{'merge':!![]});}try{await _0x53f004[_0x58d025(0x519)](),showMessage(_0x58d025(0x70f)+_0x4fcde8[_0x58d025(0x8c9)]+'\x20รายการ\x20สำเร็จ!');const _0x5426ab=_0x3ef2ae[_0x58d025(0x794)]?.[_0x58d025(0x8bf)]||currentQuizData?.[_0x58d025(0x8bf)]||currentProjectId;if(_0x5426ab){const _0x2bc4c4=[...new Set(_0x4fcde8[_0x58d025(0x16a)](_0x11f8cd=>_0x11f8cd[_0x58d025(0x3df)]))];for(const _0x82f0ce of _0x2bc4c4){await updateStudentProfile(_0x5426ab,_0x82f0ce);}}}catch(_0x1ac351){console['error']('Error\x20saving\x20game\x20results:',_0x1ac351),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(){const _0x3f0833=_0x555faf;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x3f0833(0x96e)]||!userId){showMessage(_0x3f0833(0x62b));return;}const _0x39b2e7=document[_0x3f0833(0x8c8)](_0x3f0833(0xf6));_0x39b2e7[_0x3f0833(0x915)]=!![],_0x39b2e7[_0x3f0833(0x8d2)]=_0x3f0833(0x62e);const _0x3ed9b9=document['getElementById'](_0x3f0833(0x3b1))[_0x3f0833(0x593)];let _0x56eee0=document['getElementById']('editable-quiz-topic')[_0x3f0833(0x39c)][_0x3f0833(0x588)]();_0x3ed9b9&&!_0x56eee0['startsWith']('(ก่อนเรียน)')&&(_0x56eee0=_0x3f0833(0x589)+_0x56eee0);try{const _0x274ef7={'resultsDisplay':document[_0x3f0833(0x8c8)](_0x3f0833(0x7a1))[_0x3f0833(0x22a)],'shuffle':document[_0x3f0833(0x8c8)](_0x3f0833(0x503))[_0x3f0833(0x22a)],'timerMode':document[_0x3f0833(0x8c8)](_0x3f0833(0x5e1))[_0x3f0833(0x22a)],'timerDuration':parseInt(document[_0x3f0833(0x8c8)](_0x3f0833(0x63e))[_0x3f0833(0x22a)])||0xa,'passingScore':parseInt(document[_0x3f0833(0x8c8)]('passing-score-input')[_0x3f0833(0x22a)])||0x0,'isAdaptive':document[_0x3f0833(0x8c8)](_0x3f0833(0x5bc))[_0x3f0833(0x593)],'loopUntilPass':document[_0x3f0833(0x8c8)](_0x3f0833(0x305))[_0x3f0833(0x593)]},_0x1fc6c2=(currentQuizData['questions']||[])['map']((_0x5310a3,_0x57a270)=>{const _0x34ead0=_0x3f0833,_0x2f1415=document[_0x34ead0(0x8c8)](_0x34ead0(0x244))[_0x34ead0(0x22a)],_0x4582ac={'id':'q_'+Date[_0x34ead0(0x8d9)]()+'_'+_0x57a270,'questionText':_0x5310a3[_0x34ead0(0x8fb)]||'','explanation':_0x5310a3[_0x34ead0(0x220)]||_0x34ead0(0x5b2),'questionType':_0x5310a3[_0x34ead0(0x496)]||_0x2f1415,'imageCode':_0x5310a3[_0x34ead0(0x6be)]||null};return(_0x4582ac['questionType']===_0x34ead0(0x6f7)||_0x4582ac[_0x34ead0(0x496)]==='fill_in_with_choices'||_0x4582ac[_0x34ead0(0x496)]===_0x34ead0(0x67e)&&_0x5310a3[_0x34ead0(0x81c)])&&(_0x4582ac[_0x34ead0(0x81c)]=_0x5310a3[_0x34ead0(0x81c)]||[],_0x4582ac['correctAnswerIndex']=_0x5310a3[_0x34ead0(0x230)]!==undefined?_0x5310a3[_0x34ead0(0x230)]:0x0),(_0x4582ac[_0x34ead0(0x496)]==='short_answer'||_0x4582ac['questionType']==='fill_in_no_choices'||_0x4582ac[_0x34ead0(0x496)]===_0x34ead0(0x67e)&&_0x5310a3[_0x34ead0(0x1e4)])&&(_0x4582ac[_0x34ead0(0x1e4)]=_0x5310a3[_0x34ead0(0x1e4)]||''),_0x4582ac[_0x34ead0(0x496)]===_0x34ead0(0x43d)&&(_0x4582ac[_0x34ead0(0x338)]=_0x5310a3[_0x34ead0(0x338)]===!![]),_0x4582ac[_0x34ead0(0x496)]===_0x34ead0(0x36c)&&(_0x4582ac['stem']=_0x5310a3['stem']||'',_0x4582ac[_0x34ead0(0x68a)]=_0x5310a3[_0x34ead0(0x68a)]||'',_0x4582ac[_0x34ead0(0x2cb)]=_0x5310a3[_0x34ead0(0x2cb)]||[]),_0x4582ac;}),_0x4279fc={'topic':_0x56eee0,'quizType':currentQuizData[_0x3f0833(0x567)]||_0x3f0833(0x6f7),'questions':_0x1fc6c2,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3f0833(0x92e)](),'status':_0x3f0833(0x736),'settings':_0x274ef7,'quizMode':_0x3ed9b9?_0x3f0833(0x584):_0x3f0833(0x7b9),'pairedQuizId':null,'lessonPlan':null};let _0x2ececd;while(!![]){_0x2ececd=Math[_0x3f0833(0xff)](0x3e8+Math[_0x3f0833(0x5a3)]()*0x2328)[_0x3f0833(0x8be)]();const _0x307b69=await getDoc(doc(db,_0x3f0833(0x81a)+appId+_0x3f0833(0x235),_0x2ececd));if(!_0x307b69['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x3f0833(0x235),_0x2ececd),_0x4279fc),currentQuizData[_0x3f0833(0x6fd)]=_0x274ef7,currentQuizData['id']=_0x2ececd;const _0x24b3c8=document[_0x3f0833(0x8c8)](_0x3f0833(0x3da));_0x24b3c8[_0x3f0833(0x8d2)]=_0x3f0833(0x5f9)+_0x2ececd+_0x3f0833(0x562),document[_0x3f0833(0x8c8)](_0x3f0833(0x8f3))[_0x3f0833(0x38a)](_0x3f0833(0x49b),()=>copyTextToClipboard(_0x2ececd,'คัดลอกรหัสแล้ว!')),document[_0x3f0833(0x8c8)]('start-live-race-generated-btn')[_0x3f0833(0x38a)](_0x3f0833(0x49b),()=>handleStartLiveRace(_0x2ececd)),document[_0x3f0833(0x8c8)](_0x3f0833(0x500))['addEventListener'](_0x3f0833(0x49b),()=>startPresentation(currentQuizData)),document['getElementById']('admin-try-quiz-btn')[_0x3f0833(0x38a)](_0x3f0833(0x49b),startAdminTest),showMessage(_0x3f0833(0x66f));}catch(_0x5162c3){console['error']('Error\x20saving\x20quiz:',_0x5162c3),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x39b2e7[_0x3f0833(0x915)]=![],_0x39b2e7[_0x3f0833(0x8d2)]=_0x3f0833(0x18a);}}function promptForProjectAndSave(){const _0xc5ab3f=_0x555faf,_0x2fb227=document[_0xc5ab3f(0x8c8)]('move-quiz-modal'),_0x22020c=document['getElementById'](_0xc5ab3f(0x326)),_0x5c4902=_0x2fb227[_0xc5ab3f(0x5be)]('h3'),_0x59daa6=document[_0xc5ab3f(0x8c8)](_0xc5ab3f(0x703));_0x5c4902[_0xc5ab3f(0x29c)]=_0xc5ab3f(0x760),_0x59daa6[_0xc5ab3f(0x29c)]=_0xc5ab3f(0x273);allProjects[_0xc5ab3f(0x8c9)]===0x0?(_0x22020c[_0xc5ab3f(0x8d2)]=_0xc5ab3f(0x66b),_0x59daa6[_0xc5ab3f(0x915)]=!![]):(_0x22020c[_0xc5ab3f(0x8d2)]=allProjects[_0xc5ab3f(0x16a)](_0x4b3256=>_0xc5ab3f(0x16b)+_0x4b3256['id']+'\x22>'+_0x4b3256['projectName']+_0xc5ab3f(0x7e6))['join'](''),_0x59daa6[_0xc5ab3f(0x915)]=![]);_0x2fb227['classList'][_0xc5ab3f(0x3bf)](_0xc5ab3f(0x3a5));const _0x2887b4=()=>{const _0x35982c=_0xc5ab3f,_0xc63340=_0x22020c[_0x35982c(0x22a)];_0xc63340?(currentProjectId=_0xc63340,_0x2fb227[_0x35982c(0x65e)][_0x35982c(0x43c)](_0x35982c(0x3a5)),saveQuiz(),_0x5c4902['textContent']=_0x35982c(0x73b),_0x59daa6[_0x35982c(0x29c)]=_0x35982c(0x409),_0x59daa6[_0x35982c(0x6b3)]('click',_0x2887b4),_0x59daa6['addEventListener'](_0x35982c(0x49b),confirmMoveQuiz)):showMessage(_0x35982c(0x147));};_0x59daa6[_0xc5ab3f(0x6b3)](_0xc5ab3f(0x49b),confirmMoveQuiz),_0x59daa6[_0xc5ab3f(0x38a)](_0xc5ab3f(0x49b),_0x2887b4);}function copyTextToClipboard(_0x32e4e9,_0x15902f){const _0x60141f=_0x555faf,_0x5c4a67=document['createElement'](_0x60141f(0x4c3));_0x5c4a67[_0x60141f(0x22a)]=_0x32e4e9,_0x5c4a67['style'][_0x60141f(0x5d0)]=_0x60141f(0x6e5),_0x5c4a67[_0x60141f(0x1c6)][_0x60141f(0x716)]='0',document['body'][_0x60141f(0x198)](_0x5c4a67),_0x5c4a67['focus'](),_0x5c4a67['select']();try{const _0x1e2cc5=document[_0x60141f(0x13a)]('copy');showMessage(_0x1e2cc5?_0x15902f:_0x60141f(0x4d7));}catch(_0xbe8ce4){showMessage('คัดลอกไม่สำเร็จ'),console[_0x60141f(0x241)](_0x60141f(0x213),_0xbe8ce4);}document[_0x60141f(0x747)][_0x60141f(0x4fb)](_0x5c4a67);}function listenForProjectQuizzes(_0x47bb9f){const _0x21b4b1=_0x555faf,_0x536804=collection(db,_0x21b4b1(0x81a)+appId+_0x21b4b1(0x235)),_0x293d84=query(_0x536804,where(_0x21b4b1(0x8bf),'==',_0x47bb9f));unsubscribeQuizzesListener=onSnapshot(_0x293d84,async _0x318dd=>{const _0xf7de2c=_0x21b4b1;allQuizzes=_0x318dd['docs'][_0xf7de2c(0x16a)](_0x1ea254=>({'id':_0x1ea254['id'],..._0x1ea254[_0xf7de2c(0x56d)]()})),renderQuizzes();},_0x1a83a5=>{const _0xe915f=_0x21b4b1;console[_0xe915f(0x241)](_0xe915f(0x599),_0x1a83a5),document[_0xe915f(0x8c8)](_0xe915f(0x518))['innerHTML']=_0xe915f(0x3c6);});}async function renderQuizzes(){const _0x2eeec8=_0x555faf,_0x384a91=document[_0x2eeec8(0x8c8)]('project-quizzes-list'),_0x256583=document['getElementById'](_0x2eeec8(0x8a7))[_0x2eeec8(0x22a)]['toLowerCase']();let _0x573bd2;currentProjectId==='starred'?_0x573bd2=starredQuizzes:_0x573bd2=allQuizzes;let _0x96bb69=_0x573bd2[_0x2eeec8(0x858)](_0x4eb432=>_0x4eb432[_0x2eeec8(0x881)]['toLowerCase']()[_0x2eeec8(0xf5)](_0x256583));_0x96bb69[_0x2eeec8(0x55d)]((_0x570a2c,_0x51f548)=>new Date(_0x51f548[_0x2eeec8(0x823)])-new Date(_0x570a2c[_0x2eeec8(0x823)]));if(_0x96bb69[_0x2eeec8(0x8c9)]===0x0){_0x384a91[_0x2eeec8(0x8d2)]=_0x2eeec8(0x566);return;}const _0x3b4687={},_0x1addea=_0x96bb69[_0x2eeec8(0x16a)](async _0x45f4e0=>{const _0xea7199=_0x2eeec8,_0x363362=collection(db,_0xea7199(0x81a)+appId+_0xea7199(0x664)+_0x45f4e0['id']+'/submissions'),_0x29cca2=await getDocs(_0x363362);_0x3b4687[_0x45f4e0['id']]=_0x29cca2[_0xea7199(0x901)];});await Promise[_0x2eeec8(0x816)](_0x1addea);let _0x232b32='';_0x96bb69['forEach'](_0x1398d5=>{const _0x3455fb=_0x2eeec8,_0x3c8d0b=_0x3b4687[_0x1398d5['id']]||0x0,_0x3651ea=_0x1398d5[_0x3455fb(0x1d7)]||_0x3455fb(0x736),_0x3811f5=_0x1398d5['settings']?.[_0x3455fb(0x813)]||_0x3455fb(0x555);let _0x56cf2d='',_0x4d486b='';const _0x3e3355=new Date();let _0x3a5a55=_0x3651ea;if(_0x3651ea===_0x3455fb(0x8a2)){const _0x12c420=_0x1398d5['startTime']?new Date(_0x1398d5[_0x3455fb(0x8b1)]):null,_0x3fe785=_0x1398d5[_0x3455fb(0x76e)]?new Date(_0x1398d5[_0x3455fb(0x76e)]):null;if(_0x3fe785&&_0x3e3355>_0x3fe785)_0x3a5a55=_0x3455fb(0x779);else _0x12c420&&_0x3e3355<_0x12c420?_0x3a5a55=_0x3455fb(0x872):_0x3a5a55=_0x3455fb(0x736);}switch(_0x3a5a55){case _0x3455fb(0x779):_0x56cf2d='ปิดใช้งาน',_0x4d486b=_0x3455fb(0x207);break;case _0x3455fb(0x872):_0x56cf2d='รอเปิด',_0x4d486b='text-blue-700\x20bg-blue-100';break;case _0x3455fb(0x736):_0x56cf2d=_0x3811f5!==_0x3455fb(0x555)?_0x3455fb(0x6f2):_0x3455fb(0x94a),_0x4d486b=_0x3455fb(0x7ee);break;default:_0x56cf2d=_0x3455fb(0x2b2),_0x4d486b=_0x3455fb(0x7ee);break;}let _0xb3dc01='';const _0x445987={'day':_0x3455fb(0x512),'month':_0x3455fb(0x512),'year':_0x3455fb(0x637),'hour':_0x3455fb(0x512),'minute':_0x3455fb(0x512),'hour12':![]};if(_0x3651ea===_0x3455fb(0x8a2)){if(_0x1398d5[_0x3455fb(0x8b1)])_0xb3dc01+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x1398d5[_0x3455fb(0x8b1)])['toLocaleString'](_0x3455fb(0x8b6),_0x445987)+_0x3455fb(0x1f7);if(_0x1398d5['endTime'])_0xb3dc01+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x1398d5[_0x3455fb(0x76e)])['toLocaleString']('th-TH',_0x445987)+_0x3455fb(0x1f7);}let _0x4e42e7='';if(_0x1398d5[_0x3455fb(0x4a0)]){const _0x17053e=allQuizzes[_0x3455fb(0x653)](_0x16c4f3=>_0x16c4f3['id']===_0x1398d5[_0x3455fb(0x4a0)]);if(_0x17053e){let _0x399a30,_0x4a160e;new Date(_0x1398d5[_0x3455fb(0x823)])<new Date(_0x17053e[_0x3455fb(0x823)])?(_0x399a30=_0x1398d5['id'],_0x4a160e=_0x17053e['id']):(_0x399a30=_0x17053e['id'],_0x4a160e=_0x1398d5['id']),_0x4e42e7+=_0x3455fb(0x65f)+_0x4a160e+_0x3455fb(0x731)+_0x399a30+_0x3455fb(0x5c5);}}else _0x1398d5[_0x3455fb(0x4ea)]===_0x3455fb(0x584)&&(_0x4e42e7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1398d5['id']+_0x3455fb(0x1f5));if(_0x1398d5[_0x3455fb(0x4ea)]===_0x3455fb(0x584)&&_0x3c8d0b>0x0)_0x4e42e7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1398d5['id']+_0x3455fb(0x6d7);else!_0x1398d5[_0x3455fb(0x4a0)]&&_0x1398d5['quizMode']!=='pre-test'&&_0x3c8d0b>0x0&&(_0x4e42e7+=_0x3455fb(0x65d)+_0x1398d5['id']+_0x3455fb(0x997));let _0x2beec6='';_0x1398d5[_0x3455fb(0x4a0)]?_0x2beec6=_0x3455fb(0x42a)+_0x1398d5['id']+_0x3455fb(0x428):_0x2beec6=_0x3455fb(0x42a)+_0x1398d5['id']+_0x3455fb(0x342),_0x232b32+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x1398d5['id']+_0x3455fb(0x890)+_0x1398d5[_0x3455fb(0x881)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x1398d5[_0x3455fb(0x96e)][_0x3455fb(0x8c9)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x1398d5[_0x3455fb(0x823)])[_0x3455fb(0x67d)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x3c8d0b+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb3dc01+_0x3455fb(0x18e)+_0x4d486b+'\x22>'+_0x56cf2d+_0x3455fb(0x9a7)+_0x1398d5['id']+_0x3455fb(0x719)+_0x1398d5['id']+_0x3455fb(0x7eb)+(_0x1398d5[_0x3455fb(0x6a2)]?_0x3455fb(0x15b):'far\x20fa-star')+_0x3455fb(0x2b8)+_0x4e42e7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1398d5['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x1398d5['id']+_0x3455fb(0x188)+_0x1398d5['id']+_0x3455fb(0x146)+_0x1398d5['id']+_0x3455fb(0x17e)+_0x1398d5['id']+_0x3455fb(0x875)+_0x1398d5['id']+_0x3455fb(0x47c)+_0x1398d5['id']+'\x22\x20data-topic=\x22'+_0x1398d5['topic']+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1398d5['id']+_0x3455fb(0x86b)+_0x1398d5['id']+_0x3455fb(0x6a6)+_0x2beec6+_0x3455fb(0x841)+_0x1398d5['id']+_0x3455fb(0x60c)+_0x1398d5['id']+_0x3455fb(0x8b0)+_0x1398d5['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1398d5['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1398d5['id']+_0x3455fb(0x156)+_0x1398d5['id']+_0x3455fb(0x796)+_0x1398d5['id']+_0x3455fb(0x411)+_0x1398d5['id']+'\x22\x20data-topic=\x22'+_0x1398d5[_0x3455fb(0x881)]+_0x3455fb(0x82c)+_0x1398d5['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x384a91[_0x2eeec8(0x8d2)]=_0x232b32,document[_0x2eeec8(0x379)](_0x2eeec8(0x749))[_0x2eeec8(0x8ca)](_0x66a370=>{const _0x151b4d=_0x2eeec8;_0x66a370[_0x151b4d(0x38a)](_0x151b4d(0x49b),()=>{const _0x3fffea=_0x151b4d,_0x150a65=_0x66a370[_0x3fffea(0x8eb)]['quizId'];showQuizDetailView(_0x150a65);});});}async function handleUnpairQuiz(_0x131dd0){const _0x3771ad=_0x555faf,_0x153bd7=allQuizzes[_0x3771ad(0x653)](_0x567be9=>_0x567be9['id']===_0x131dd0);if(!_0x153bd7||!_0x153bd7[_0x3771ad(0x4a0)]){showMessage(_0x3771ad(0x622));return;}showConfirmation(_0x3771ad(0x2d7),async()=>{const _0x2252d0=_0x3771ad;try{const _0x1f442d=doc(db,_0x2252d0(0x81a)+appId+_0x2252d0(0x235),_0x131dd0),_0x317fb8=doc(db,_0x2252d0(0x81a)+appId+'/public/data/quizzes',_0x153bd7['pairedQuizId']),_0x194ba8=writeBatch(db);_0x194ba8['update'](_0x1f442d,{'pairedQuizId':null}),_0x194ba8[_0x2252d0(0x4cb)](_0x317fb8,{'pairedQuizId':null}),await _0x194ba8['commit'](),showMessage(_0x2252d0(0x892));}catch(_0x12cf5a){console['error'](_0x2252d0(0x855),_0x12cf5a),showMessage(_0x2252d0(0x1a7));}});}function formatAndPrintLessonPlan(_0x34c92,_0x19cbf4){const _0x4f49e7=_0x555faf,_0x574e90=window['open']('',_0x4f49e7(0x937)),_0x4d255d=_0x4f49e7(0x6dd)+_0x19cbf4['topic']+_0x4f49e7(0x455)+_0x19cbf4[_0x4f49e7(0x881)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34c92[_0x4f49e7(0x3b9)][_0x4f49e7(0x16a)](_0x4752db=>_0x4f49e7(0x2ad)+_0x4752db+_0x4f49e7(0x782))[_0x4f49e7(0x71e)]('')+_0x4f49e7(0x399)+_0x34c92[_0x4f49e7(0x635)]+_0x4f49e7(0x470)+_0x34c92[_0x4f49e7(0x9aa)][_0x4f49e7(0x16a)](_0x1a3808=>_0x4f49e7(0x573)+_0x1a3808[_0x4f49e7(0x2f4)]+_0x4f49e7(0x233)+_0x1a3808[_0x4f49e7(0x329)]+_0x4f49e7(0x52d))['join']('')+_0x4f49e7(0x5cc);_0x574e90[_0x4f49e7(0x7f8)][_0x4f49e7(0x307)](_0x4d255d),_0x574e90[_0x4f49e7(0x7f8)][_0x4f49e7(0x421)](),_0x574e90[_0x4f49e7(0x17c)]=function(){setTimeout(()=>{const _0x2a4d78=_0x4110;_0x574e90[_0x2a4d78(0x68e)]();},0x3e8);};}async function handleAiFixFormula(_0x56b44a){const _0x2bc59c=_0x555faf,_0x2ec7c7=document[_0x2bc59c(0x5be)]('.question-editor-item[data-q-index=\x22'+_0x56b44a+'\x22]');if(!_0x2ec7c7)return;const _0x459232=_0x2ec7c7['dataset']['qType'],_0x46be56=_0x2ec7c7[_0x2bc59c(0x5be)](_0x2bc59c(0x257));let _0x5e152e={'question':_0x2ec7c7[_0x2bc59c(0x5be)](_0x2bc59c(0x4c3))[_0x2bc59c(0x22a)]};switch(_0x459232){case'multiple_choice':_0x5e152e[_0x2bc59c(0x81c)]=Array[_0x2bc59c(0x578)](_0x2ec7c7[_0x2bc59c(0x379)](_0x2bc59c(0x71c)))[_0x2bc59c(0x16a)](_0x126118=>_0x126118['value']);break;case _0x2bc59c(0x247):_0x5e152e['idealAnswer']=_0x2ec7c7[_0x2bc59c(0x5be)](_0x2bc59c(0x43f))[_0x2bc59c(0x22a)];break;case _0x2bc59c(0x36c):_0x5e152e[_0x2bc59c(0x68a)]=_0x2ec7c7[_0x2bc59c(0x5be)](_0x2bc59c(0x1c7))[_0x2bc59c(0x22a)];break;}_0x46be56[_0x2bc59c(0x8d2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x46be56['disabled']=!![];try{const _0x4e176d=_0x2bc59c(0x60d)+JSON['stringify'](_0x5e152e)+_0x2bc59c(0x854),_0x59b38b={'type':_0x2bc59c(0x3c2),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0x2bc59c(0x12c),'items':{'type':_0x2bc59c(0x629)}},'idealAnswer':{'type':_0x2bc59c(0x629)},'correctResponse':{'type':_0x2bc59c(0x629)}},'required':['question']}},'required':[_0x2bc59c(0x84e)]},_0x35afdf=await callAnalysisApi(_0x4e176d,_0x59b38b);if(_0x35afdf&&_0x35afdf['fixedData']){const _0x40eb21=_0x35afdf[_0x2bc59c(0x84e)];_0x2ec7c7[_0x2bc59c(0x5be)](_0x2bc59c(0x4c3))['value']=_0x40eb21['question']||_0x5e152e['question'];switch(_0x459232){case _0x2bc59c(0x6f7):_0x40eb21[_0x2bc59c(0x81c)]&&_0x40eb21[_0x2bc59c(0x81c)][_0x2bc59c(0x8c9)]>0x0&&_0x2ec7c7[_0x2bc59c(0x379)](_0x2bc59c(0x71c))[_0x2bc59c(0x8ca)]((_0x2c5209,_0x2bc332)=>{const _0x3995c9=_0x2bc59c;_0x2c5209[_0x3995c9(0x22a)]=_0x40eb21[_0x3995c9(0x81c)][_0x2bc332]||_0x5e152e[_0x3995c9(0x81c)][_0x2bc332];});break;case _0x2bc59c(0x247):_0x2ec7c7[_0x2bc59c(0x5be)](_0x2bc59c(0x43f))[_0x2bc59c(0x22a)]=_0x40eb21[_0x2bc59c(0x1e4)]||_0x5e152e[_0x2bc59c(0x1e4)];break;case'matching_item':_0x2ec7c7['querySelector']('.correct-response-input')['value']=_0x40eb21[_0x2bc59c(0x68a)]||_0x5e152e[_0x2bc59c(0x68a)];break;}if(_0x5e152e[_0x2bc59c(0x2f4)]!==_0x40eb21[_0x2bc59c(0x2f4)])try{const _0x117423=collection(db,_0x2bc59c(0x81a)+appId+'/public/data/learnedFixes');await addDoc(_0x117423,{'broken':_0x5e152e[_0x2bc59c(0x2f4)],'fixed':_0x40eb21[_0x2bc59c(0x2f4)],'createdAt':serverTimestamp()});}catch(_0xa38008){console[_0x2bc59c(0x241)](_0x2bc59c(0x8b5),_0xa38008);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x2bc59c(0x335));}catch(_0x102f9f){console[_0x2bc59c(0x241)](_0x2bc59c(0x34a),_0x102f9f),showMessage(_0x2bc59c(0x723));}finally{_0x46be56['innerHTML']=_0x2bc59c(0x69b),_0x46be56[_0x2bc59c(0x915)]=![];}}async function handleGenerateLessonPlan(_0x55af3b){const _0x2178ef=_0x555faf;showMessage(_0x2178ef(0x9b8));try{const _0x42ac87=doc(db,_0x2178ef(0x81a)+appId+_0x2178ef(0x235),_0x55af3b),_0x5ca70f=await getDoc(_0x42ac87);if(!_0x5ca70f['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x5b57b9={'id':_0x55af3b,..._0x5ca70f['data']()},_0x280dd4=collection(db,_0x2178ef(0x81a)+appId+_0x2178ef(0x235),_0x55af3b,_0x2178ef(0x541)),_0x5346d6=await getDocs(_0x280dd4),_0x438c2b=_0x5346d6['docs'][_0x2178ef(0x16a)](_0x311863=>_0x311863[_0x2178ef(0x56d)]());if(_0x438c2b['length']===0x0)throw new Error(_0x2178ef(0x947));const _0x147e43=calculateItemAnalysis(_0x5b57b9,_0x438c2b)[_0x2178ef(0x4c0)],_0x411706=calculateDistractorAnalysis(_0x5b57b9,_0x438c2b),_0xdd7b5f=_0x2a46e2=>{const _0x39e4cd=_0x2178ef;if(!_0x2a46e2)return'';return _0x2a46e2['replace'](/\\/g,'\x5c\x5c')[_0x39e4cd(0x750)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x297788=_0x2178ef(0x987);_0x5b57b9[_0x2178ef(0x96e)][_0x2178ef(0x8ca)]((_0x538110,_0x338647)=>{const _0x263cb6=_0x2178ef,_0x4ae4b2=_0x147e43[_0x338647]?.['p'][_0x263cb6(0x6d3)](0x2)||_0x263cb6(0x437),_0x237338=_0x147e43[_0x338647]?.['r'][_0x263cb6(0x6d3)](0x2)||_0x263cb6(0x437),_0x52b003=_0xdd7b5f(_0x538110[_0x263cb6(0x8fb)]||_0x538110[_0x263cb6(0x822)]);_0x297788+=_0x263cb6(0x677)+(_0x338647+0x1)+'\x20(p='+_0x4ae4b2+_0x263cb6(0x5e5)+_0x237338+'):\x20'+_0x52b003+'\x5cn';if(_0x538110['questionType']==='multiple_choice'&&_0x411706[_0x338647]){const _0x267ff7=_0x411706[_0x338647],_0x2f2249=Object[_0x263cb6(0x6cf)](_0x267ff7)[_0x263cb6(0x858)](_0x2b2227=>parseInt(_0x2b2227)!==_0x538110[_0x263cb6(0x230)])[_0x263cb6(0x55d)]((_0x2a2924,_0x4b8c4f)=>_0x267ff7[_0x4b8c4f][_0x263cb6(0x6d1)]-_0x267ff7[_0x2a2924][_0x263cb6(0x6d1)])[0x0];if(_0x2f2249&&_0x267ff7[_0x2f2249]['total']>0x0){const _0x6c1c01=_0xdd7b5f(_0x267ff7[_0x2f2249]['text']);_0x297788+=_0x263cb6(0x43a)+_0x6c1c01+'\x22\x5cn';}}});const _0x11bc62=_0x2178ef(0x406)+_0x5b57b9[_0x2178ef(0x881)]+_0x2178ef(0x2ca)+_0x297788+_0x2178ef(0x847),_0x2685b8={'type':'OBJECT','properties':{'learningGaps':{'type':_0x2178ef(0x12c),'items':{'type':'STRING'}},'teachingContent':{'type':_0x2178ef(0x629)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x2178ef(0x3c2),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x2178ef(0x629)}}}}},'required':[_0x2178ef(0x3b9),_0x2178ef(0x635),_0x2178ef(0x9aa)]},_0x2dda43=await callAnalysisApi(_0x11bc62,_0x2685b8);await updateDoc(_0x42ac87,{'lessonPlan':_0x2dda43});const _0x433c98=_0x2178ef(0x24d)+_0x5b57b9[_0x2178ef(0x881)]+_0x2178ef(0x2f0)+_0x2dda43[_0x2178ef(0x3b9)][_0x2178ef(0x16a)](_0x49c4d6=>_0x2178ef(0x2ad)+_0x49c4d6+_0x2178ef(0x782))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x2dda43['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x2dda43[_0x2178ef(0x9aa)][_0x2178ef(0x16a)](_0x438d41=>_0x2178ef(0x161)+_0x438d41[_0x2178ef(0x2f4)]+_0x2178ef(0x85c)+_0x438d41['solution']+_0x2178ef(0x724))[_0x2178ef(0x71e)]('')+_0x2178ef(0x53e);document['getElementById'](_0x2178ef(0x9bd))['textContent']='แผนการสอน:\x20'+_0x5b57b9[_0x2178ef(0x881)],document['getElementById'](_0x2178ef(0x40a))[_0x2178ef(0x8d2)]=_0x433c98,document[_0x2178ef(0x8c8)]('lesson-plan-modal')[_0x2178ef(0x65e)]['remove']('hidden');if(window[_0x2178ef(0x141)])MathJax[_0x2178ef(0x715)]();messageModal[_0x2178ef(0x65e)][_0x2178ef(0x43c)](_0x2178ef(0x3a5));}catch(_0x1aaa57){console[_0x2178ef(0x241)](_0x2178ef(0x76c),_0x1aaa57),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1aaa57[_0x2178ef(0x476)]);}}async function handleDuplicateQuiz(_0x15e5e9){const _0x664e63=_0x555faf;try{const _0x30392c=doc(db,'artifacts/'+appId+_0x664e63(0x235),_0x15e5e9),_0x3334f7=await getDoc(_0x30392c);if(_0x3334f7[_0x664e63(0x28d)]()){const _0x5e413c=_0x3334f7[_0x664e63(0x56d)]();let _0x4a94ca='',_0x2327d8=_0x664e63(0x7b9),_0x3f6c3d=null;if(_0x5e413c[_0x664e63(0x4ea)]===_0x664e63(0x584)){let _0x612979=_0x5e413c[_0x664e63(0x881)][_0x664e63(0x750)](_0x664e63(0x114),'')[_0x664e63(0x588)]();_0x4a94ca=_0x664e63(0x2d1)+_0x612979,_0x2327d8=_0x664e63(0x8a9),_0x3f6c3d=_0x15e5e9;}else _0x4a94ca='(คัดลอก)\x20'+_0x5e413c[_0x664e63(0x881)];const _0x34dc55={..._0x5e413c,'topic':_0x4a94ca,'createdAt':new Date()[_0x664e63(0x92e)](),'quizMode':_0x2327d8,'pairedQuizId':_0x3f6c3d};let _0x1bbcdb;while(!![]){_0x1bbcdb=Math[_0x664e63(0xff)](0x3e8+Math['random']()*0x2328)[_0x664e63(0x8be)]();const _0x483feb=await getDoc(doc(db,_0x664e63(0x81a)+appId+_0x664e63(0x235),_0x1bbcdb));if(!_0x483feb[_0x664e63(0x28d)]())break;}const _0x1bbe7a=doc(db,'artifacts/'+appId+_0x664e63(0x235),_0x1bbcdb);await setDoc(_0x1bbe7a,_0x34dc55),_0x34dc55['quizMode']===_0x664e63(0x8a9)&&await updateDoc(_0x30392c,{'pairedQuizId':_0x1bbcdb}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x664e63(0x832));}catch(_0xbdb67){console['error'](_0x664e63(0x99f),_0xbdb67),showMessage(_0x664e63(0x2a4));}}async function handleDeleteQuiz(_0x40a453,_0x57cfb2=!![]){const _0x37d50d=_0x555faf;try{const _0x574c7c=writeBatch(db),_0x3a08eb=collection(db,_0x37d50d(0x81a)+appId+_0x37d50d(0x664)+_0x40a453+'/submissions'),_0x36f0c4=await getDocs(_0x3a08eb);_0x36f0c4[_0x37d50d(0x8ca)](_0x37964d=>{_0x574c7c['delete'](doc(_0x3a08eb,_0x37964d['id']));});const _0x537736=doc(db,_0x37d50d(0x81a)+appId+'/public/data/quizzes',_0x40a453);_0x574c7c['delete'](_0x537736),await _0x574c7c[_0x37d50d(0x519)](),_0x57cfb2&&showMessage(_0x37d50d(0x412));}catch(_0x58e165){console[_0x37d50d(0x241)](_0x37d50d(0x871),_0x58e165),_0x57cfb2&&showMessage(_0x37d50d(0x41b));}}async function showQuizDetailView(_0x5d8523){const _0x39ee51=_0x555faf;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x39ee51(0x40d));try{const _0x52bd28=doc(db,_0x39ee51(0x81a)+appId+'/public/data/quizzes',_0x5d8523),_0x5ae082=await getDoc(_0x52bd28);if(!_0x5ae082[_0x39ee51(0x28d)]()){showMessage(_0x39ee51(0x7b8));return;}const _0x70fc29={'id':_0x5ae082['id'],..._0x5ae082[_0x39ee51(0x56d)]()};currentQuizData=_0x70fc29;const _0x4ebcd1=doc(db,'artifacts/'+appId+_0x39ee51(0x2fe),_0x70fc29[_0x39ee51(0x8bf)]),_0x2629f1=await getDoc(_0x4ebcd1);_0x2629f1[_0x39ee51(0x28d)]()?(currentProjectData=_0x2629f1[_0x39ee51(0x56d)](),currentProjectId=_0x70fc29[_0x39ee51(0x8bf)]):(currentProjectData={'students':[]},currentProjectId=_0x70fc29[_0x39ee51(0x8bf)]);document[_0x39ee51(0x8c8)](_0x39ee51(0x7ad))[_0x39ee51(0x29c)]=_0x70fc29[_0x39ee51(0x881)],document[_0x39ee51(0x8c8)](_0x39ee51(0x7b2))[_0x39ee51(0x29c)]=_0x5d8523;const _0x3ef017=collection(db,_0x39ee51(0x81a)+appId+_0x39ee51(0x235),_0x5d8523,_0x39ee51(0x541));unsubscribeSubmissionsListener=onSnapshot(_0x3ef017,_0x8be13b=>{const _0x29d5a9=_0x39ee51,_0x2080af=_0x8be13b[_0x29d5a9(0x755)][_0x29d5a9(0x16a)](_0x3c4e88=>({'id':_0x3c4e88['id'],..._0x3c4e88[_0x29d5a9(0x56d)]()}));currentSubmissions=_0x2080af;const _0x4542b0=_0x2080af[_0x29d5a9(0x858)](_0x339ad3=>_0x339ad3[_0x29d5a9(0x184)]&&_0x339ad3['attempts'][_0x29d5a9(0x8c9)]>0x0);renderBehaviorLog(_0x2080af),renderAnswerGrid(currentProjectData[_0x29d5a9(0x4b6)],_0x4542b0,_0x70fc29),renderAnalytics(_0x70fc29,_0x4542b0),renderQuizResultsTable(currentProjectData['students'],_0x2080af,_0x70fc29),renderQuizLeaderboard(_0x4542b0,_0x70fc29,_0x29d5a9(0x125));}),showView(_0x39ee51(0x140));}catch(_0x4b22e5){console[_0x39ee51(0x241)](_0x39ee51(0x842),_0x4b22e5),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x1bbb5a,_0x7f89af,_0x41bcc3){const _0x2ea4b1=_0x555faf,_0x8274c1=document['getElementById'](_0x2ea4b1(0x53b));if(!_0x8274c1)return;if(!_0x1bbb5a||_0x1bbb5a['length']===0x0){_0x8274c1['innerHTML']=_0x2ea4b1(0x74b);return;}const _0x5c435e=_0x41bcc3['questions'],_0x55f01a=_0x7f89af[_0x2ea4b1(0x40b)]((_0x1d9254,_0x5372d7)=>{const _0x588b9b=_0x2ea4b1;return _0x1d9254[_0x5372d7[_0x588b9b(0x28b)]]=_0x5372d7,_0x1d9254;},{}),_0x34d73f=_0x58c459=>String[_0x2ea4b1(0x6d5)](0x41+_0x58c459),_0x163a65=_0x105e4c=>{const _0x458b2c=_0x2ea4b1,_0x44303c=_0x105e4c[_0x458b2c(0x496)]||_0x41bcc3['quizType'];switch(_0x44303c){case _0x458b2c(0x6f7):return _0x105e4c[_0x458b2c(0x81c)]&&_0x105e4c[_0x458b2c(0x81c)][_0x458b2c(0x8c9)]>_0x105e4c[_0x458b2c(0x230)]?_0x34d73f(_0x105e4c[_0x458b2c(0x230)]):'-';case _0x458b2c(0x43d):return _0x105e4c[_0x458b2c(0x338)]?_0x458b2c(0x656):'ไม่ใช่';case _0x458b2c(0x36c):return _0x105e4c['correctResponse']||'-';case'short_answer':return _0x458b2c(0x4db);default:return'-';}},_0x8d72e3=(_0x5d62db,_0x5c8bad)=>{const _0x4afae2=_0x2ea4b1;if(_0x5c8bad[_0x4afae2(0x887)]===null||_0x5c8bad[_0x4afae2(0x887)]===undefined)return'-';const _0x1db51d=_0x5d62db[_0x4afae2(0x496)]||_0x41bcc3[_0x4afae2(0x567)];switch(_0x1db51d){case _0x4afae2(0x6f7):const _0x15a39c=_0x5d62db[_0x4afae2(0x81c)][_0x4afae2(0x8b4)](_0x47c273=>_0x47c273===_0x5c8bad['answerText']);return _0x15a39c!==-0x1?_0x34d73f(_0x15a39c):_0x5c8bad[_0x4afae2(0x168)]||'-';case'true_false':return _0x5c8bad[_0x4afae2(0x887)]===_0x4afae2(0x3d8)||_0x5c8bad[_0x4afae2(0x887)]===!![]?_0x4afae2(0x656):_0x4afae2(0x785);default:return _0x5c8bad[_0x4afae2(0x887)];}};let _0x5551cf=_0x2ea4b1(0x45f)+_0x5c435e[_0x2ea4b1(0x16a)]((_0x5eb3f3,_0x15f77f)=>_0x2ea4b1(0x982)+(_0x15f77f+0x1)+_0x2ea4b1(0x171))[_0x2ea4b1(0x71e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c435e[_0x2ea4b1(0x16a)](_0x335ff5=>_0x2ea4b1(0x174)+_0x163a65(_0x335ff5)+_0x2ea4b1(0x6de))[_0x2ea4b1(0x71e)]('')+_0x2ea4b1(0x1d6);_0x1bbb5a[_0x2ea4b1(0x8ca)](_0x9e1666=>{const _0x659b27=_0x2ea4b1;_0x5551cf+=_0x659b27(0x296),_0x5551cf+=_0x659b27(0x1df)+_0x9e1666+_0x659b27(0x6de);const _0x2ee5e6=_0x55f01a[_0x9e1666];if(_0x2ee5e6){const _0x464eff=_0x2ee5e6['attempts'][_0x2ee5e6[_0x659b27(0x184)][_0x659b27(0x8c9)]-0x1];_0x5c435e['forEach']((_0x18d75e,_0xbd8ab2)=>{const _0x549859=_0x659b27,_0x4d1bd6=_0x464eff['answers'][_0x549859(0x653)](_0x5edefb=>_0x5edefb[_0x549859(0x240)]===_0x18d75e['id']);if(_0x4d1bd6){let _0x8b13ad=![];const _0x13f41e=_0x18d75e[_0x549859(0x496)]||_0x41bcc3[_0x549859(0x567)];if(_0x4d1bd6[_0x549859(0x887)]!==null&&_0x4d1bd6[_0x549859(0x887)]!==undefined)switch(_0x13f41e){case'multiple_choice':const _0x146fc0=_0x18d75e[_0x549859(0x81c)][_0x18d75e[_0x549859(0x230)]];_0x8b13ad=_0x4d1bd6[_0x549859(0x168)]===_0x146fc0;break;case _0x549859(0x43d):const _0x4c9719=_0x4d1bd6['answer']===!![]||_0x4d1bd6[_0x549859(0x887)]===_0x549859(0x3d8);_0x8b13ad=_0x4c9719===_0x18d75e[_0x549859(0x338)];break;case'matching_item':_0x8b13ad=_0x4d1bd6[_0x549859(0x887)]===_0x18d75e[_0x549859(0x68a)];break;default:_0x8b13ad=_0x4d1bd6[_0x549859(0x696)];break;}const _0x4eb2da=_0x8b13ad?_0x549859(0x5dd):_0x549859(0x3ad);_0x5551cf+=_0x549859(0x5d9)+_0x4eb2da+'\x22>'+_0x8d72e3(_0x18d75e,_0x4d1bd6)+'</td>';}else _0x5551cf+=_0x549859(0x93e);});}else _0x5551cf+=_0x5c435e[_0x659b27(0x16a)](()=>_0x659b27(0x1ea))[_0x659b27(0x71e)]('');_0x5551cf+=_0x659b27(0x9ee);}),_0x5551cf+='</tbody></table>',_0x8274c1['innerHTML']=_0x5551cf;}function renderQuizResultsTable(_0x171241,_0x570d84,_0x514012){const _0x982cd3=_0x555faf,_0x49fb68=_0x570d84[_0x982cd3(0x40b)]((_0x19993b,_0x558f9b)=>{return _0x19993b[_0x558f9b['studentName']]=_0x558f9b,_0x19993b;},{}),_0x4a1d85=document[_0x982cd3(0x5be)](_0x982cd3(0x3d3));_0x4a1d85&&!_0x4a1d85[_0x982cd3(0x8d2)][_0x982cd3(0xf5)](_0x982cd3(0x2e7))&&(_0x4a1d85[_0x982cd3(0x8d2)]+=_0x982cd3(0x21c));const _0x462c44=document[_0x982cd3(0x8c8)](_0x982cd3(0x864));if(!_0x171241||_0x171241[_0x982cd3(0x8c9)]===0x0){_0x462c44[_0x982cd3(0x8d2)]=_0x982cd3(0x54a);return;}const _0x1f3bb6=_0x514012[_0x982cd3(0x990)]===!![],_0x6db4fb=_0x514012[_0x982cd3(0x6fd)]?.['passingScore']??-0x1;let _0x1c19e1='';_0x171241['forEach'](_0x4a8862=>{const _0x17c436=_0x982cd3,_0x48272a=_0x49fb68[_0x4a8862];let _0x42b7c6='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x1f3bb6?'bg-amber-100\x20text-amber-800':_0x17c436(0x9f0))+'\x22>'+(_0x1f3bb6?_0x17c436(0x4b3):_0x17c436(0x698))+_0x17c436(0x708);if(_0x48272a){if(_0x48272a[_0x17c436(0x184)]&&_0x48272a[_0x17c436(0x184)][_0x17c436(0x8c9)]>0x0){let _0xc8d825=_0x1f3bb6?_0x48272a[_0x17c436(0x1ff)]===_0x48272a[_0x17c436(0x558)]:_0x6db4fb!==-0x1&&_0x48272a['bestScore']>=_0x6db4fb;const _0x5d52d2=_0xc8d825?_0x17c436(0x2d6):'bg-red-100\x20text-red-800',_0x32d837=_0xc8d825?_0x17c436(0x9d6):'ไม่ผ่าน',_0x34aded='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x5d52d2+'\x22>'+_0x32d837+_0x17c436(0x708),_0x279264=_0x17c436(0x8cb)+(_0x48272a[_0x17c436(0x184)]?.[_0x17c436(0x8c9)]||0x1)+_0x17c436(0x9af);_0x1c19e1+=_0x17c436(0x63d)+_0x4a8862+_0x17c436(0x609)+_0x48272a[_0x17c436(0x1ff)]+_0x17c436(0x312)+_0x48272a[_0x17c436(0x558)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34aded+_0x17c436(0x9fd)+_0x42b7c6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x48272a[_0x17c436(0x1d0)]+_0x17c436(0x312)+_0x48272a[_0x17c436(0x558)]+_0x17c436(0x10e)+_0x48272a[_0x17c436(0x289)]+'\x20/\x20'+_0x48272a[_0x17c436(0x558)]+_0x17c436(0x1a6)+(_0x48272a['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x279264+_0x17c436(0x85f)+new Date(_0x48272a['latestSubmittedAt'])[_0x17c436(0x67d)](_0x17c436(0x8b6))+_0x17c436(0x3f3)+_0x4a8862+_0x17c436(0x39d);}else{const _0x2127ba=_0x17c436(0x26f);_0x1c19e1+=_0x17c436(0x87b)+_0x4a8862+_0x17c436(0x56a)+_0x42b7c6+_0x17c436(0x7ea)+_0x2127ba+_0x17c436(0x85f)+new Date(_0x48272a['startedAt'])[_0x17c436(0x67d)]('th-TH')+_0x17c436(0x65c)+_0x4a8862+_0x17c436(0x39d);}}else{const _0x426cc7='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x1c19e1+=_0x17c436(0x6b5)+_0x4a8862+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42b7c6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x426cc7+_0x17c436(0x8ab);}}),_0x462c44[_0x982cd3(0x8d2)]=_0x1c19e1;}async function confirmRenameQuiz(){const _0x574eb8=_0x555faf,_0x3797df=document[_0x574eb8(0x8c8)]('rename-quiz-input')['value']['trim']();if(!_0x3797df){showMessage(_0x574eb8(0x97c));return;}if(!actionTargetId)return;const _0x2d67fa=doc(db,_0x574eb8(0x81a)+appId+_0x574eb8(0x235),actionTargetId);try{await updateDoc(_0x2d67fa,{'topic':_0x3797df}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x574eb8(0x65e)]['add'](_0x574eb8(0x3a5)),actionTargetId=null;}catch(_0x2dbab7){console[_0x574eb8(0x241)]('Error\x20renaming\x20quiz:',_0x2dbab7),showMessage(_0x574eb8(0x1eb));}}async function handleMoveQuiz(_0x23d1d7){const _0x533d7e=_0x555faf;actionTargetId=_0x23d1d7;const _0x353ecd=document[_0x533d7e(0x8c8)](_0x533d7e(0x326));_0x353ecd[_0x533d7e(0x8d2)]=_0x533d7e(0x54c),moveQuizModal[_0x533d7e(0x65e)][_0x533d7e(0x3bf)](_0x533d7e(0x3a5));try{const _0x1930d4=collection(db,_0x533d7e(0x81a)+appId+_0x533d7e(0x2fe)),_0x299e10=await getDocs(_0x1930d4),_0x4ee0ab=_0x299e10[_0x533d7e(0x755)][_0x533d7e(0x16a)](_0x5c4294=>({'id':_0x5c4294['id'],..._0x5c4294[_0x533d7e(0x56d)]()})),_0x5231df=_0x4ee0ab[_0x533d7e(0x858)](_0x5a0d9f=>_0x5a0d9f['id']!==currentProjectId);if(_0x5231df[_0x533d7e(0x8c9)]===0x0){_0x353ecd[_0x533d7e(0x8d2)]=_0x533d7e(0x6ed),document[_0x533d7e(0x8c8)](_0x533d7e(0x703))[_0x533d7e(0x915)]=!![];return;}_0x353ecd[_0x533d7e(0x8d2)]=_0x5231df['map'](_0x3e0f8f=>_0x533d7e(0x16b)+_0x3e0f8f['id']+'\x22>'+_0x3e0f8f[_0x533d7e(0x6f6)]+_0x533d7e(0x7e6))[_0x533d7e(0x71e)](''),document['getElementById'](_0x533d7e(0x703))[_0x533d7e(0x915)]=![];}catch(_0x5dfb6f){console[_0x533d7e(0x241)](_0x533d7e(0x527),_0x5dfb6f),showMessage(_0x533d7e(0x172)),moveQuizModal[_0x533d7e(0x65e)][_0x533d7e(0x43c)](_0x533d7e(0x3a5));}}async function confirmMoveQuiz(){const _0x1eb0fc=_0x555faf,_0x10c3b2=document[_0x1eb0fc(0x8c8)](_0x1eb0fc(0x326))[_0x1eb0fc(0x22a)];if(!_0x10c3b2){showMessage(_0x1eb0fc(0x343));return;}if(!actionTargetId)return;const _0x12d4ad=doc(db,_0x1eb0fc(0x81a)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x12d4ad,{'projectId':_0x10c3b2}),showMessage(_0x1eb0fc(0x3d2)),moveQuizModal[_0x1eb0fc(0x65e)][_0x1eb0fc(0x43c)](_0x1eb0fc(0x3a5)),actionTargetId=null;}catch(_0x1781ab){console[_0x1eb0fc(0x241)](_0x1eb0fc(0x970),_0x1781ab),showMessage(_0x1eb0fc(0x136));}}async function handleQuizSettings(_0x2df070){const _0x257189=_0x555faf;actionTargetId=_0x2df070;const _0x5917e5=doc(db,_0x257189(0x81a)+appId+_0x257189(0x235),_0x2df070);try{const _0x460e3f=await getDoc(_0x5917e5);if(_0x460e3f[_0x257189(0x28d)]()){const _0xac65fe=_0x460e3f[_0x257189(0x56d)](),_0xfafc45=_0xac65fe[_0x257189(0x6fd)]||{},_0x45c8a3=_0xac65fe[_0x257189(0x96e)][_0x257189(0x8c9)];document[_0x257189(0x8c8)](_0x257189(0x19d))[_0x257189(0x22a)]=_0xfafc45[_0x257189(0x9a8)]||'none',document[_0x257189(0x8c8)]('modal-results-display-select')['value']=_0xfafc45['resultsDisplay']||_0x257189(0x7a5),document[_0x257189(0x8c8)](_0x257189(0x187))[_0x257189(0x22a)]=_0xfafc45['timerMode']||_0x257189(0x555),document['getElementById']('modal-timer-duration-input')[_0x257189(0x22a)]=_0xfafc45[_0x257189(0x456)]||0xa,document[_0x257189(0x8c8)](_0x257189(0x8b3))[_0x257189(0x22a)]=_0xfafc45[_0x257189(0x8cc)]||Math[_0x257189(0xff)](_0x45c8a3/0x2),document[_0x257189(0x8c8)](_0x257189(0x8b3))[_0x257189(0x35a)]=_0x45c8a3,document['getElementById'](_0x257189(0x638))[_0x257189(0x593)]=_0xfafc45[_0x257189(0x38d)]||![],document[_0x257189(0x8c8)](_0x257189(0x85d))[_0x257189(0x593)]=_0xfafc45[_0x257189(0x268)]||![],document[_0x257189(0x8c8)](_0x257189(0x187))[_0x257189(0x458)](new Event(_0x257189(0x7dc))),quizSettingsModal[_0x257189(0x65e)][_0x257189(0x3bf)](_0x257189(0x3a5));}else showMessage(_0x257189(0x7b8));}catch(_0x184b3b){console[_0x257189(0x241)]('Error\x20fetching\x20quiz\x20settings:',_0x184b3b),showMessage(_0x257189(0x591));}}async function confirmQuizSettings(){const _0x3b74dc=_0x555faf;if(!actionTargetId)return;const _0xd90fe3=doc(db,_0x3b74dc(0x81a)+appId+_0x3b74dc(0x235),actionTargetId),_0x45dca6={'shuffle':document[_0x3b74dc(0x8c8)](_0x3b74dc(0x19d))[_0x3b74dc(0x22a)],'resultsDisplay':document[_0x3b74dc(0x8c8)](_0x3b74dc(0x2ae))[_0x3b74dc(0x22a)],'timerMode':document[_0x3b74dc(0x8c8)](_0x3b74dc(0x187))[_0x3b74dc(0x22a)],'timerDuration':parseInt(document['getElementById'](_0x3b74dc(0x557))[_0x3b74dc(0x22a)])||0xa,'passingScore':parseInt(document[_0x3b74dc(0x8c8)]('modal-passing-score-input')['value'])||0x0,'passingScore':parseInt(document['getElementById'](_0x3b74dc(0x8b3))[_0x3b74dc(0x22a)])||0x0,'isAdaptive':document[_0x3b74dc(0x8c8)](_0x3b74dc(0x638))['checked'],'loopUntilPass':document['getElementById'](_0x3b74dc(0x85d))[_0x3b74dc(0x593)]};try{await updateDoc(_0xd90fe3,{'settings':_0x45dca6}),showMessage(_0x3b74dc(0x2c9)),quizSettingsModal[_0x3b74dc(0x65e)][_0x3b74dc(0x43c)](_0x3b74dc(0x3a5)),actionTargetId=null;}catch(_0xe508e8){console[_0x3b74dc(0x241)](_0x3b74dc(0xf1),_0xe508e8),showMessage(_0x3b74dc(0x758));}}async function handleQuizStatus(_0x2c865d){const _0x6dbb9a=_0x555faf;actionTargetId=_0x2c865d;const _0x300a73=doc(db,_0x6dbb9a(0x81a)+appId+_0x6dbb9a(0x235),_0x2c865d);try{const _0x525665=await getDoc(_0x300a73);if(_0x525665[_0x6dbb9a(0x28d)]()){const _0x5dc368=_0x525665['data'](),_0x31d58c=_0x5dc368[_0x6dbb9a(0x1d7)]||_0x6dbb9a(0x736),_0x2cc687=document[_0x6dbb9a(0x8c8)](_0x6dbb9a(0x8d3)),_0xad977d=document[_0x6dbb9a(0x8c8)](_0x6dbb9a(0x2cd)),_0x4b5b69=document['getElementById'](_0x6dbb9a(0x5c4));let _0x5f5204=_0x6dbb9a(0x47a)+(_0x31d58c===_0x6dbb9a(0x736)?_0x6dbb9a(0x593):'')+_0x6dbb9a(0x478)+(_0x31d58c===_0x6dbb9a(0x779)?_0x6dbb9a(0x593):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x31d58c==='scheduled'?'checked':'')+_0x6dbb9a(0x279);_0x2cc687[_0x6dbb9a(0x8d2)]=_0x5f5204;const _0x11328c=_0x31d58c===_0x6dbb9a(0x8a2);_0xad977d[_0x6dbb9a(0x65e)][_0x6dbb9a(0x491)](_0x6dbb9a(0x3a5),!_0x11328c),_0x4b5b69['classList'][_0x6dbb9a(0x491)](_0x6dbb9a(0x3a5),!_0x11328c),document[_0x6dbb9a(0x8c8)](_0x6dbb9a(0x441))[_0x6dbb9a(0x22a)]=_0x5dc368['startTime']?_0x5dc368['startTime'][_0x6dbb9a(0x604)](0x0,0x10):'',document['getElementById'](_0x6dbb9a(0x23e))[_0x6dbb9a(0x22a)]=_0x5dc368[_0x6dbb9a(0x76e)]?_0x5dc368['endTime']['substring'](0x0,0x10):'',_0x2cc687[_0x6dbb9a(0x379)](_0x6dbb9a(0x968))[_0x6dbb9a(0x8ca)](_0x1aded7=>{const _0x45128b=_0x6dbb9a;_0x1aded7[_0x45128b(0x38a)]('change',_0x52e2a6=>{const _0x2fbb8a=_0x45128b,_0x25d3c5=_0x52e2a6[_0x2fbb8a(0x3ca)][_0x2fbb8a(0x22a)]===_0x2fbb8a(0x238);_0xad977d[_0x2fbb8a(0x65e)][_0x2fbb8a(0x491)](_0x2fbb8a(0x3a5),!_0x25d3c5),_0x4b5b69['classList']['toggle']('hidden',!_0x25d3c5);});}),quizStatusModal['classList']['remove'](_0x6dbb9a(0x3a5));}}catch(_0x362fd4){console[_0x6dbb9a(0x241)]('Error\x20fetching\x20quiz\x20status:',_0x362fd4),showMessage(_0x6dbb9a(0x764));}}async function confirmQuizStatus(){const _0x3f1cd8=_0x555faf;if(!actionTargetId)return;const _0x4ac8a8=doc(db,_0x3f1cd8(0x81a)+appId+_0x3f1cd8(0x235),actionTargetId),_0x214e30=document['querySelector'](_0x3f1cd8(0x354));if(!_0x214e30){showMessage(_0x3f1cd8(0x8bb));return;}const _0xa32727=_0x214e30[_0x3f1cd8(0x22a)];let _0x1b7a49={};if(_0xa32727==='active'||_0xa32727==='inactive')_0x1b7a49={'status':_0xa32727,'startTime':null,'endTime':null};else{if(_0xa32727===_0x3f1cd8(0x238)){const _0x55ac2d=document[_0x3f1cd8(0x8c8)](_0x3f1cd8(0x441))[_0x3f1cd8(0x22a)],_0x22a0f8=document['getElementById'](_0x3f1cd8(0x23e))['value'];if(!_0x55ac2d&&!_0x22a0f8){showMessage(_0x3f1cd8(0x3b0));return;}_0x1b7a49={'status':_0x3f1cd8(0x8a2),'startTime':_0x55ac2d?new Date(_0x55ac2d)['toISOString']():null,'endTime':_0x22a0f8?new Date(_0x22a0f8)['toISOString']():null};}}try{await updateDoc(_0x4ac8a8,_0x1b7a49),showMessage(_0x3f1cd8(0x948)),quizStatusModal['classList'][_0x3f1cd8(0x43c)](_0x3f1cd8(0x3a5)),actionTargetId=null;}catch(_0x4e44de){console[_0x3f1cd8(0x241)](_0x3f1cd8(0x93a),_0x4e44de),showMessage(_0x3f1cd8(0x9c2));}}function listenForStudentProfiles(_0x112014){const _0x4190f7=_0x555faf,_0xb13e3b=collection(db,_0x4190f7(0x81a)+appId+'/public/data/projects/'+_0x112014+_0x4190f7(0x183));unsubscribeStudentProfilesListener=onSnapshot(_0xb13e3b,_0x1b1063=>{const _0x43516f=_0x4190f7,_0x1188af=_0x1b1063['docs'][_0x43516f(0x16a)](_0x183940=>_0x183940[_0x43516f(0x56d)]());renderLeaderboard(_0x1188af,_0x43516f(0x372));},_0x538f23=>{const _0x1b7ed5=_0x4190f7;console[_0x1b7ed5(0x241)](_0x1b7ed5(0x8ea),_0x538f23),document[_0x1b7ed5(0x8c8)](_0x1b7ed5(0x372))[_0x1b7ed5(0x8d2)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x46b7fc,_0x24f756){const _0x38a9d2=_0x555faf,_0x4a21a8=document[_0x38a9d2(0x8c8)](_0x24f756);if(!_0x46b7fc||_0x46b7fc[_0x38a9d2(0x8c9)]===0x0){_0x4a21a8[_0x38a9d2(0x8d2)]=_0x38a9d2(0x3ff);return;}_0x46b7fc[_0x38a9d2(0x55d)]((_0x3d58c1,_0x457eea)=>{const _0x5c31e7=_0x38a9d2,_0x51a590=(_0x457eea[_0x5c31e7(0x2dd)]||0x0)-(_0x3d58c1['totalPoints']||0x0);if(_0x51a590!==0x0)return _0x51a590;const _0x4ea31b=(_0x457eea[_0x5c31e7(0x397)]?.[_0x5c31e7(0x69c)]||0x0)-(_0x3d58c1[_0x5c31e7(0x397)]?.[_0x5c31e7(0x69c)]||0x0);if(_0x4ea31b!==0x0)return _0x4ea31b;const _0x32c633=(_0x457eea[_0x5c31e7(0x397)]?.['first_try_ace']||0x0)-(_0x3d58c1[_0x5c31e7(0x397)]?.[_0x5c31e7(0x63b)]||0x0);if(_0x32c633!==0x0)return _0x32c633;const _0x5e7fd7=(_0x457eea['badgesCount']?.[_0x5c31e7(0x6fc)]||0x0)-(_0x3d58c1[_0x5c31e7(0x397)]?.[_0x5c31e7(0x6fc)]||0x0);if(_0x5e7fd7!==0x0)return _0x5e7fd7;const _0x15aef3=(_0x457eea[_0x5c31e7(0x397)]?.['quick_thinker']||0x0)-(_0x3d58c1[_0x5c31e7(0x397)]?.['quick_thinker']||0x0);if(_0x15aef3!==0x0)return _0x15aef3;return _0x3d58c1['studentName']['localeCompare'](_0x457eea[_0x5c31e7(0x28b)],'th');});let _0x370ef1='';_0x46b7fc['forEach']((_0x4c43ec,_0x3a67e9)=>{const _0x1289dd=_0x38a9d2,_0xac8e7d=_0x3a67e9+0x1,_0x271f9c=_0x4c43ec[_0x1289dd(0x397)]||{};let _0x5b4e08='';const _0x25c18a=[_0x1289dd(0x69c),_0x1289dd(0x6fc),_0x1289dd(0x63b),_0x1289dd(0x378)];_0x25c18a[_0x1289dd(0x8ca)](_0x3c21c5=>{const _0x56ea5f=_0x1289dd;if(_0x271f9c[_0x3c21c5]>0x0){const _0x18b779=Object[_0x56ea5f(0x988)](BADGES)[_0x56ea5f(0x653)](_0x2ddadd=>_0x2ddadd['id']===_0x3c21c5);_0x18b779&&(_0x3c21c5===_0x56ea5f(0x69c)?_0x5b4e08+=_0x56ea5f(0x32b)+_0x18b779['name']+_0x56ea5f(0x6e8)+_0x18b779['icon']+_0x56ea5f(0x21b):_0x5b4e08+=_0x56ea5f(0x32b)+_0x18b779[_0x56ea5f(0x3df)]+'\x20('+_0x271f9c[_0x3c21c5]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x18b779[_0x56ea5f(0x427)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x271f9c[_0x3c21c5]+_0x56ea5f(0x1b5));}}),_0x370ef1+=_0x1289dd(0x1fd)+_0xac8e7d+_0x1289dd(0x37f)+_0x4c43ec[_0x1289dd(0x28b)]+_0x1289dd(0x487)+(_0x4c43ec[_0x1289dd(0x2dd)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x5b4e08||'-')+_0x1289dd(0x32d);}),_0x4a21a8[_0x38a9d2(0x8d2)]=_0x370ef1;}function displayLoopScreen(_0x525b8f,_0x4a95f3,_0x1eb236){const _0x88d0d5=_0x555faf;let _0x5ed654='';_0x1eb236!=='show_pass_fail_only'&&(_0x5ed654=_0x88d0d5(0x366)+_0x525b8f+'\x20/\x20'+_0x4a95f3+_0x88d0d5(0x849));const _0x6e696c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ed654+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x88d0d5(0x8d2)]=_0x6e696c,studentResultArea[_0x88d0d5(0x65e)][_0x88d0d5(0x3bf)]('hidden'),studentQuizArea['classList']['add'](_0x88d0d5(0x3a5)),document[_0x88d0d5(0x8c8)](_0x88d0d5(0x59a))[_0x88d0d5(0x38a)](_0x88d0d5(0x49b),()=>{const _0x3d81a0=_0x88d0d5;studentResultArea[_0x3d81a0(0x65e)][_0x3d81a0(0x43c)](_0x3d81a0(0x3a5)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x25bbfb,_0x34ad11,_0x185882){const _0x3014e4=_0x555faf,_0x32a22a=document[_0x3014e4(0x8c8)](_0x185882),_0x53fe02=_0x185882===_0x3014e4(0x916),_0x31b009=_0x34ad11[_0x3014e4(0x96e)][_0x3014e4(0x8c9)],_0x1e96f1=document[_0x3014e4(0x8c8)](_0x185882)[_0x3014e4(0x5d5)]('table');if(_0x1e96f1&&!_0x53fe02){const _0x506a8b=_0x1e96f1[_0x3014e4(0x5be)](_0x3014e4(0x5f4));_0x506a8b['innerHTML']=_0x3014e4(0x9fa);}if(!_0x25bbfb||_0x25bbfb['length']===0x0){_0x32a22a['innerHTML']=_0x3014e4(0x74f)+(_0x53fe02?0x6:0x8)+_0x3014e4(0x122);return;}const _0x1b33bb=[..._0x25bbfb];_0x1b33bb[_0x3014e4(0x55d)]((_0x206a34,_0x5a90ab)=>{const _0x26a39d=_0x3014e4;let _0x285057,_0x38c94a;switch(quizLeaderboardSortBy){case _0x26a39d(0x28b):_0x285057=_0x206a34['studentName']||'',_0x38c94a=_0x5a90ab[_0x26a39d(0x28b)]||'';return quizLeaderboardSortOrder===_0x26a39d(0x474)?_0x285057[_0x26a39d(0x2cf)](_0x38c94a,'th'):_0x38c94a[_0x26a39d(0x2cf)](_0x285057,'th');case _0x26a39d(0x661):_0x285057=_0x206a34['points']||0x0,_0x38c94a=_0x5a90ab[_0x26a39d(0x661)]||0x0;break;case'attempts':_0x285057=_0x206a34[_0x26a39d(0x184)]?.[_0x26a39d(0x8c9)]||0x1,_0x38c94a=_0x5a90ab[_0x26a39d(0x184)]?.['length']||0x1;break;case _0x26a39d(0x3c5):_0x285057=new Date(_0x206a34[_0x26a39d(0x3c5)]),_0x38c94a=new Date(_0x5a90ab[_0x26a39d(0x3c5)]);break;case _0x26a39d(0x1ff):default:_0x285057=_0x206a34[_0x26a39d(0x1ff)],_0x38c94a=_0x5a90ab[_0x26a39d(0x1ff)];break;}if(_0x285057<_0x38c94a)return quizLeaderboardSortOrder===_0x26a39d(0x474)?-0x1:0x1;if(_0x285057>_0x38c94a)return quizLeaderboardSortOrder===_0x26a39d(0x474)?0x1:-0x1;return 0x0;});const _0x24bd74=_0x34ad11['isRemedial']===!![],_0x2b79fa=_0x34ad11[_0x3014e4(0x6fd)]?.[_0x3014e4(0x8cc)]??-0x1;let _0x47e07f='';_0x1b33bb[_0x3014e4(0x8ca)]((_0x1df9f3,_0x389fed)=>{const _0x4da838=_0x3014e4,_0x567a9e=_0x389fed+0x1;let _0x87d31b=_0x4da838(0x5ad);if(_0x24bd74||_0x2b79fa!==-0x1){let _0x391938=_0x24bd74?_0x1df9f3['bestScore']===_0x31b009:_0x1df9f3[_0x4da838(0x1ff)]>=_0x2b79fa;const _0x3aecdf=_0x391938?_0x4da838(0x2d6):'bg-red-100\x20text-red-800',_0x568643=_0x391938?_0x4da838(0x9d6):_0x4da838(0x6bd);_0x87d31b='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x3aecdf+'\x22>'+_0x568643+_0x4da838(0x708);}const _0x4c232b=_0x1df9f3['attempts'][_0x1df9f3[_0x4da838(0x184)][_0x4da838(0x8c9)]-0x1],_0x172028=(_0x4c232b[_0x4da838(0x848)]||[])['map'](_0x55c63c=>{const _0x32d937=_0x4da838,_0x5589ab=Object['values'](BADGES)[_0x32d937(0x653)](_0x41ae8c=>_0x41ae8c['id']===_0x55c63c);return _0x5589ab?_0x32d937(0x5ae)+_0x5589ab[_0x32d937(0x3df)]+_0x32d937(0x2c2)+_0x5589ab[_0x32d937(0x427)]+_0x32d937(0x701):'';})[_0x4da838(0x71e)]('');_0x47e07f+=_0x4da838(0x714)+_0x567a9e+_0x4da838(0x992)+_0x1df9f3[_0x4da838(0x28b)]+_0x4da838(0x78a)+_0x1df9f3['bestScore']+'\x20/\x20'+_0x31b009+_0x4da838(0x2f9)+_0x87d31b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x1df9f3[_0x4da838(0x661)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x53fe02?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x1df9f3[_0x4da838(0x184)]?.['length']||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x53fe02?'':_0x4da838(0x10b)+new Date(_0x1df9f3['latestSubmittedAt'])['toLocaleString'](_0x4da838(0x8b6))+_0x4da838(0x6de))+_0x4da838(0x442)+(_0x172028||'-')+_0x4da838(0x9c7);}),_0x32a22a[_0x3014e4(0x8d2)]=_0x47e07f,_0x1e96f1&&!_0x53fe02&&_0x1e96f1['querySelectorAll'](_0x3014e4(0x87d))[_0x3014e4(0x8ca)](_0x3446ba=>{const _0x272d9b=_0x3014e4,_0x167b45=_0x3446ba['querySelector'](_0x272d9b(0x986));if(_0x167b45)_0x167b45[_0x272d9b(0x3bf)]();_0x3446ba['dataset'][_0x272d9b(0x55d)]===quizLeaderboardSortBy&&(_0x3446ba[_0x272d9b(0x8d2)]+=_0x272d9b(0x688)+(quizLeaderboardSortOrder===_0x272d9b(0x474)?'▲':'▼')+_0x272d9b(0x51c));});}async function handleDeleteSubmission(_0x4b951e){const _0x4c9c6e=_0x555faf;if(!currentQuizData||!currentQuizData['id']||!_0x4b951e){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x4c9c6e(0x4b4)+_0x4b951e+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x559c2a=_0x4c9c6e,_0x59a012=currentQuizData['id'],_0x5ce8c2=doc(db,_0x559c2a(0x81a)+appId+'/public/data/quizzes/'+_0x59a012+_0x559c2a(0x647),_0x4b951e);try{await deleteDoc(_0x5ce8c2),showMessage(_0x559c2a(0x927)+_0x4b951e+_0x559c2a(0x1c0));}catch(_0x25f300){console[_0x559c2a(0x241)]('Error\x20deleting\x20submission:',_0x25f300),showMessage(_0x559c2a(0x2c7));}});}async function handleLoadQuiz(){const _0x23c1bd=_0x555faf,_0x602d04=document[_0x23c1bd(0x8c8)](_0x23c1bd(0x195)),_0x4f3826=_0x602d04[_0x23c1bd(0x22a)][_0x23c1bd(0x588)]();if(!_0x4f3826){showMessage(_0x23c1bd(0x243));return;}loadQuizBtn[_0x23c1bd(0x915)]=!![],loadQuizBtn[_0x23c1bd(0x8d2)]=_0x23c1bd(0x21a);try{const _0x1da5e3=doc(db,_0x23c1bd(0x81a)+appId+_0x23c1bd(0x235),_0x4f3826),_0x32b92f=await getDoc(_0x1da5e3);if(!_0x32b92f['exists']()){showMessage(_0x23c1bd(0x77a));return;}currentQuizData={'id':_0x32b92f['id'],..._0x32b92f['data']()};const _0x5df6a2=currentQuizData[_0x23c1bd(0x1d7)]||'active',_0x14d33e=new Date();if(_0x5df6a2===_0x23c1bd(0x779)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x5df6a2===_0x23c1bd(0x8a2)){const _0x54ee24=currentQuizData['startTime']?new Date(currentQuizData[_0x23c1bd(0x8b1)]):null,_0x5ab9de=currentQuizData[_0x23c1bd(0x76e)]?new Date(currentQuizData[_0x23c1bd(0x76e)]):null;if(_0x54ee24&&_0x14d33e<_0x54ee24){showMessage(_0x23c1bd(0x45b)+_0x54ee24[_0x23c1bd(0x67d)](_0x23c1bd(0x8b6),{'hour12':![]}));return;}if(_0x5ab9de&&_0x14d33e>_0x5ab9de){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x45811b=currentQuizData[_0x23c1bd(0x8bf)];currentProjectId=_0x45811b;const _0x1a843c=doc(db,_0x23c1bd(0x81a)+appId+'/public/data/projects',_0x45811b),_0x30928e=await getDoc(_0x1a843c);if(!_0x30928e['exists']()){showMessage(_0x23c1bd(0x71a));return;}const _0x34deaa=_0x30928e[_0x23c1bd(0x56d)]();currentStudentProjectData=_0x34deaa,displayStudentNameSelector(_0x34deaa['students'],currentQuizData[_0x23c1bd(0x881)]);}catch(_0x1c3a00){console['error'](_0x23c1bd(0x1de),_0x1c3a00),showMessage(_0x23c1bd(0x229));}finally{loadQuizBtn[_0x23c1bd(0x915)]=![],loadQuizBtn[_0x23c1bd(0x8d2)]=_0x23c1bd(0x58d);}}async function handleJoinLiveGame(){const _0x33da32=_0x555faf,_0x20798a=document['getElementById'](_0x33da32(0x509)),_0x4131b5=document[_0x33da32(0x8c8)](_0x33da32(0x400)),_0x26308b=document[_0x33da32(0x8c8)](_0x33da32(0x2e8)),_0x293b56=_0x20798a[_0x33da32(0x22a)]['trim'](),_0x5ea165=_0x4131b5[_0x33da32(0x22a)][_0x33da32(0x588)]();if(!_0x293b56||!_0x5ea165){showMessage(_0x33da32(0x66a));return;}_0x26308b[_0x33da32(0x915)]=!![],_0x26308b[_0x33da32(0x8d2)]=_0x33da32(0x234);try{const _0x9c8533=collection(db,_0x33da32(0x81a)+appId+_0x33da32(0x5b7)),_0x24a626=query(_0x9c8533,where(_0x33da32(0x200),'==',_0x293b56),where(_0x33da32(0x1d7),'in',['lobby',_0x33da32(0x2f4)])),_0x295503=await getDocs(_0x24a626);if(_0x295503[_0x33da32(0x827)]){showMessage(_0x33da32(0x33d));return;}const _0x548a17=_0x295503['docs'][0x0],_0x1a6169=_0x548a17[_0x33da32(0x56d)]();currentLiveGameId=_0x548a17['id'];const _0x5cee47=_0x1a6169[_0x33da32(0x128)],_0x16ab02=doc(db,_0x33da32(0x81a)+appId+_0x33da32(0x235),_0x5cee47),_0x58ccbf=await getDoc(_0x16ab02);if(!_0x58ccbf['exists']()){showMessage(_0x33da32(0x263));return;}currentQuizData={'id':_0x58ccbf['id'],..._0x58ccbf[_0x33da32(0x56d)]()};if(_0x1a6169[_0x33da32(0x79e)]&&_0x1a6169[_0x33da32(0x79e)][_0x5ea165]){const _0x2b4daa=_0x1a6169[_0x33da32(0x79e)][_0x5ea165];if(_0x2b4daa['status']===_0x33da32(0x779)){_0x26308b[_0x33da32(0x8d2)]=_0x33da32(0x921);const _0x8706f2={};_0x8706f2['players.'+_0x5ea165+_0x33da32(0x105)]=_0x33da32(0x736),await updateDoc(doc(db,'artifacts/'+appId+_0x33da32(0x5b7),currentLiveGameId),_0x8706f2),showView('live-game'),currentStudentName=_0x5ea165,listenForLiveGameUpdates();return;}else{showMessage(_0x33da32(0x391));return;}}if(_0x1a6169['status']!==_0x33da32(0x7d2)){showMessage(_0x33da32(0x291));return;}_0x26308b['innerHTML']=_0x33da32(0x246);const _0x4c657b={};_0x4c657b[_0x33da32(0x3bd)+_0x5ea165]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x33da32(0x736)},await updateDoc(doc(db,'artifacts/'+appId+_0x33da32(0x5b7),currentLiveGameId),_0x4c657b),currentStudentName=_0x5ea165,listenForLiveGameUpdates();}catch(_0x5c7479){console[_0x33da32(0x241)]('Error\x20joining\x20live\x20game:',_0x5c7479),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x26308b[_0x33da32(0x915)]=![],_0x26308b[_0x33da32(0x8d2)]=_0x33da32(0x331);}}function displayStudentNameSelector(_0x2affaa,_0x26527b){const _0x5224c8=_0x555faf,_0x30d961=document[_0x5224c8(0x8c8)](_0x5224c8(0x394));document[_0x5224c8(0x8c8)](_0x5224c8(0x303))['textContent']='แบบทดสอบ:\x20'+_0x26527b,!_0x2affaa||_0x2affaa[_0x5224c8(0x8c9)]===0x0?(_0x30d961[_0x5224c8(0x8d2)]=_0x5224c8(0x670),startQuizBtn[_0x5224c8(0x915)]=!![]):(_0x30d961['innerHTML']=_0x5224c8(0x423),_0x2affaa[_0x5224c8(0x8ca)](_0x51ee07=>{const _0x2e4b8b=_0x5224c8,_0x1ce376=document[_0x2e4b8b(0xf8)](_0x2e4b8b(0x4ab));_0x1ce376['value']=_0x51ee07,_0x1ce376[_0x2e4b8b(0x29c)]=_0x51ee07,_0x30d961[_0x2e4b8b(0x198)](_0x1ce376);}),startQuizBtn['disabled']=![]),studentInitialView[_0x5224c8(0x65e)][_0x5224c8(0x43c)](_0x5224c8(0x3a5)),studentNameSelectionView[_0x5224c8(0x65e)][_0x5224c8(0x3bf)]('hidden');}function shuffleArray(_0x22f381){const _0x228fa3=_0x555faf;for(let _0x49bd5b=_0x22f381[_0x228fa3(0x8c9)]-0x1;_0x49bd5b>0x0;_0x49bd5b--){const _0x43542d=Math[_0x228fa3(0xff)](Math[_0x228fa3(0x5a3)]()*(_0x49bd5b+0x1));[_0x22f381[_0x49bd5b],_0x22f381[_0x43542d]]=[_0x22f381[_0x43542d],_0x22f381[_0x49bd5b]];}}function getShuffledQuiz(_0x11b6f5){const _0x5738bd=_0x555faf;let _0x294d50=JSON[_0x5738bd(0x6ac)](JSON['stringify'](_0x11b6f5));const _0x1c6905=_0x294d50['settings']?.[_0x5738bd(0x9a8)]||_0x5738bd(0x555);if(_0x1c6905===_0x5738bd(0x555))return _0x294d50;return(_0x1c6905==='questions_only'||_0x1c6905===_0x5738bd(0x214))&&shuffleArray(_0x294d50[_0x5738bd(0x96e)]),(_0x1c6905==='choices_only'||_0x1c6905===_0x5738bd(0x214))&&_0x294d50[_0x5738bd(0x96e)]['forEach'](_0x247683=>{const _0x356fbf=_0x5738bd,_0x1cafeb=_0x247683['questionType']||_0x294d50[_0x356fbf(0x567)];if(_0x247683[_0x356fbf(0x81c)]){let _0x110c5f=_0x247683[_0x356fbf(0x81c)][_0x356fbf(0x16a)]((_0x21973d,_0x594903)=>({'text':_0x21973d,'isCorrect':_0x594903===_0x247683[_0x356fbf(0x230)]}));shuffleArray(_0x110c5f),_0x247683['options']=_0x110c5f[_0x356fbf(0x16a)](_0x3082f1=>_0x3082f1['text']),_0x247683[_0x356fbf(0x230)]=_0x110c5f['findIndex'](_0xbe1198=>_0xbe1198['isCorrect']);}_0x1cafeb===_0x356fbf(0x36c)&&_0x247683[_0x356fbf(0x2cb)]&&shuffleArray(_0x247683[_0x356fbf(0x2cb)]);}),_0x294d50;}function displayQuizForStudent(_0x39c2a1){const _0x4ab666=_0x555faf;studentQuizArea[_0x4ab666(0x65e)][_0x4ab666(0x3bf)](_0x4ab666(0x3a5)),currentDisplayedQuiz=getShuffledQuiz(_0x39c2a1);currentMode!==_0x4ab666(0x7e0)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x4ab666(0x2cc),handleFullscreenChange),document[_0x4ab666(0x38a)](_0x4ab666(0x96a),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x4ab666(0x90d),resetDimTimer),window[_0x4ab666(0x38a)](_0x4ab666(0x803),resetDimTimer),window[_0x4ab666(0x38a)](_0x4ab666(0x891),resetDimTimer),window[_0x4ab666(0x38a)](_0x4ab666(0x10a),resetDimTimer),resetDimTimer());const _0x382e74=currentDisplayedQuiz['settings']?.[_0x4ab666(0x813)]||_0x4ab666(0x555);if(_0x382e74==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x4ab666(0x6fd)][_0x4ab666(0x456)]);else _0x382e74===_0x4ab666(0x668)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x235c85=_0x555faf;let _0x14f803=_0x235c85(0x4ba)+currentDisplayedQuiz[_0x235c85(0x881)]+_0x235c85(0x367)+(currentMode===_0x235c85(0x7e0)?_0x235c85(0x6f3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';currentDisplayedQuiz[_0x235c85(0x96e)][_0x235c85(0x8ca)]((_0x101996,_0x35f2ee)=>{const _0xb2921f=_0x235c85,_0x48a102=_0x101996[_0xb2921f(0x496)]||currentDisplayedQuiz[_0xb2921f(0x567)];_0x14f803+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x48a102===_0xb2921f(0x36c)?_0x14f803+=_0xb2921f(0x322)+(_0x35f2ee+0x1)+'.\x20'+_0x101996[_0xb2921f(0x822)]+_0xb2921f(0x9c5)+_0x35f2ee+_0xb2921f(0x685)+_0x101996[_0xb2921f(0x2cb)][_0xb2921f(0x16a)](_0x4caa45=>_0xb2921f(0x16b)+_0x4caa45+'\x22>'+_0x4caa45+'</option>')[_0xb2921f(0x71e)]('')+_0xb2921f(0x8c4):(_0x14f803+='<p>'+(_0x35f2ee+0x1)+'.\x20'+(_0x101996[_0xb2921f(0x65b)]||_0x101996[_0xb2921f(0x8fb)])+'</p>',_0x101996[_0xb2921f(0x6be)]&&(_0x14f803+=_0xb2921f(0x3dc)+_0x101996[_0xb2921f(0x6be)]+_0xb2921f(0x3e2)));_0x14f803+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x48a102){case _0xb2921f(0x247):_0x14f803+='<textarea\x20name=\x22question'+_0x35f2ee+_0xb2921f(0x922);break;case _0xb2921f(0x43d):_0x14f803+=_0xb2921f(0x938)+_0x35f2ee+_0xb2921f(0x472)+_0x35f2ee+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x35f2ee+_0xb2921f(0x350),_0x14f803+=_0xb2921f(0x938)+_0x35f2ee+'_opt1\x22\x20name=\x22question'+_0x35f2ee+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x35f2ee+_0xb2921f(0x4a6);break;case _0xb2921f(0x36c):break;case'fill_in_the_blank':case'multiple_choice':default:_0x14f803+=_0x101996[_0xb2921f(0x81c)][_0xb2921f(0x16a)]((_0x1ba032,_0x3efa09)=>_0xb2921f(0x167)+_0x35f2ee+_0xb2921f(0x614)+_0x3efa09+_0xb2921f(0x84a)+_0x35f2ee+_0xb2921f(0x249)+_0x3efa09+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x35f2ee+_0xb2921f(0x614)+_0x3efa09+'\x22>'+_0x1ba032+'</label>\x0a\x20\x20\x20\x20</div>\x0a')[_0xb2921f(0x71e)]('');break;}_0x14f803+=_0xb2921f(0x5db);}),_0x14f803+=_0x235c85(0x35e),_0x14f803+=_0x235c85(0x64b),studentQuizArea[_0x235c85(0x8d2)]=_0x14f803;if(currentMode===_0x235c85(0x7e0)){const _0x1ef675=document[_0x235c85(0x8c8)](_0x235c85(0x743));if(_0x1ef675)_0x1ef675[_0x235c85(0x38a)](_0x235c85(0x49b),cancelAdminTest);}document[_0x235c85(0x8c8)](_0x235c85(0x3e9))[_0x235c85(0x38a)](_0x235c85(0x271),handleSubmitQuiz);if(window['MathJax'])window['MathJax']['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x1d0c87){const _0x687a5b=_0x555faf;if(_0x1d0c87)_0x1d0c87[_0x687a5b(0x28f)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x406d0a=document['getElementById'](_0x687a5b(0x3e9));if(!_0x406d0a)return;const _0x495b51=_0x406d0a[_0x687a5b(0x5be)](_0x687a5b(0x640)),_0x308225=currentDisplayedQuiz['questions'][_0x687a5b(0x58b)](_0x17e37d=>_0x17e37d[_0x687a5b(0x496)]===_0x687a5b(0x247));_0x495b51&&(_0x495b51[_0x687a5b(0x915)]=!![],_0x308225?_0x495b51[_0x687a5b(0x8d2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x495b51[_0x687a5b(0x8d2)]=_0x687a5b(0x51a));const _0x214727=new FormData(_0x406d0a),_0x13c113=currentDisplayedQuiz['questions'][_0x687a5b(0x16a)]((_0x40dcad,_0x1e8ad6)=>{const _0x11310d=_0x687a5b,_0x2d76c2=_0x40dcad[_0x11310d(0x496)]||currentDisplayedQuiz[_0x11310d(0x567)],_0x281319=_0x214727['get'](_0x11310d(0x2f4)+_0x1e8ad6);if(_0x281319!==null&&_0x281319!==undefined){if(_0x2d76c2===_0x11310d(0x6f7)||_0x2d76c2===_0x11310d(0x5e0))return parseInt(_0x281319);return _0x281319;}return null;}),_0x2eaeac=currentQuizData['id'],_0x358958=doc(db,_0x687a5b(0x81a)+appId+'/public/data/quizzes/'+_0x2eaeac+_0x687a5b(0x647),currentStudentName),_0x24bb50=await getDoc(_0x358958),_0x23c6d8=_0x24bb50[_0x687a5b(0x28d)]()?_0x24bb50[_0x687a5b(0x56d)]():{},_0x2108cd=_0x23c6d8[_0x687a5b(0x184)]||[];await processAndSubmitAnswers(_0x13c113,_0x2108cd);}async function gradeShortAnswerWithAI(_0x566568,_0x16a70b){const _0x2e603d=_0x555faf;if(!_0x566568||!_0x16a70b)return![];try{const _0x1674f9=_0x2e603d(0xe8)+_0x566568+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x16a70b+_0x2e603d(0x364),_0x5d7d5e={'contents':[{'role':_0x2e603d(0x55a),'parts':[{'text':_0x1674f9}]}]},_0x1b27cb=_0x2e603d(0x96f),_0x589313=_0x2e603d(0x2f1)+_0x1b27cb,_0x26a4da=await fetch(_0x589313,{'method':'POST','headers':{'Content-Type':_0x2e603d(0x4b8)},'body':JSON[_0x2e603d(0x784)](_0x5d7d5e)});if(!_0x26a4da['ok'])throw new Error(_0x2e603d(0x632));const _0x37d66c=await _0x26a4da[_0x2e603d(0x70d)](),_0x2a1cf1=_0x37d66c[_0x2e603d(0x398)][0x0][_0x2e603d(0x1fa)]['parts'][0x0][_0x2e603d(0x460)][_0x2e603d(0x588)]()['toLowerCase']();return _0x2a1cf1==='true';}catch(_0x31b9e7){return console[_0x2e603d(0x241)](_0x2e603d(0x6ad),_0x31b9e7),![];}}async function processAndSubmitAnswers(_0x504588,_0xc8a61){const _0x1724dc=_0x555faf;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x1724dc(0x6b3)](_0x1724dc(0x2cc),handleFullscreenChange),document[_0x1724dc(0x6b3)](_0x1724dc(0x96a),handleVisibilityChange);let _0x32632a=0x0,_0x3095f9=0x0,_0x52e29b=[];const _0x2492fb=[],_0x35c5c7=currentDisplayedQuiz[_0x1724dc(0x96e)][_0x1724dc(0x8c9)];let _0x3d094a=0x0;const _0x2a4550=currentDisplayedQuiz[_0x1724dc(0x96e)];for(let _0x27418e=0x0;_0x27418e<_0x2a4550[_0x1724dc(0x8c9)];_0x27418e++){const _0x576e1a=_0x2a4550[_0x27418e],_0x4e7242=_0x504588[_0x27418e],_0x36b4ea=_0x576e1a['questionType']||currentDisplayedQuiz['quizType'];let _0x16ea71=![];if(_0x4e7242!==null&&_0x4e7242!=='')switch(_0x36b4ea){case _0x1724dc(0x36c):_0x16ea71=_0x4e7242===_0x576e1a[_0x1724dc(0x68a)];break;case'true_false':const _0x439d25=_0x4e7242===!![]||_0x4e7242===_0x1724dc(0x3d8);_0x16ea71=_0x439d25===_0x576e1a[_0x1724dc(0x338)];break;case'short_answer':_0x16ea71=await gradeShortAnswer(_0x4e7242,_0x576e1a);break;case'multiple_choice':default:_0x16ea71=Number(_0x4e7242)===_0x576e1a['correctAnswerIndex'];break;}_0x16ea71?(_0x32632a++,_0x3d094a++,_0x3d094a===0x3&&(_0x52e29b[_0x1724dc(0x52e)](BADGES['ON_FIRE']['id']),_0x3d094a=0x0)):_0x3d094a=0x0;let _0x87e635=null;_0x576e1a[_0x1724dc(0x81c)]&&_0x4e7242!==null&&(_0x87e635=_0x576e1a['options'][_0x4e7242]),_0x2492fb[_0x1724dc(0x52e)]({'questionId':_0x576e1a['id'],'answer':_0x4e7242,'answerText':_0x87e635,'isCorrect':_0x16ea71,'originalQuestionText':_0x576e1a[_0x1724dc(0x822)]||_0x576e1a['questionText']});}_0x3095f9=_0x32632a*0xa;_0x32632a===_0x35c5c7&&_0x35c5c7>0x0&&!currentDisplayedQuiz[_0x1724dc(0x990)]&&(_0x3095f9+=0x32,_0x52e29b[_0x1724dc(0x52e)](BADGES['PERFECT_SCORE']['id']));const _0x2a4d5c=currentDisplayedQuiz[_0x1724dc(0x6fd)]?.['passingScore']??Math['floor'](_0x35c5c7/0x2),_0x42ab51=currentDisplayedQuiz['settings']?.[_0x1724dc(0x813)];if(_0x42ab51==='whole_quiz'&&quizStartTime){const _0xe3c65a=(new Date()-quizStartTime)/0x3e8,_0x1ab0a9=currentDisplayedQuiz[_0x1724dc(0x6fd)][_0x1724dc(0x456)]*0x3c;_0x32632a>=_0x2a4d5c&&_0xe3c65a<_0x1ab0a9/0x2&&(_0x3095f9+=0x14,_0x52e29b[_0x1724dc(0x52e)](BADGES[_0x1724dc(0x933)]['id']));}_0xc8a61[_0x1724dc(0x8c9)]===0x0&&_0x32632a===_0x35c5c7&&_0x35c5c7>0x0&&_0x52e29b[_0x1724dc(0x52e)](BADGES['FIRST_TRY_ACE']['id']);if(_0xc8a61[_0x1724dc(0x8c9)]>0x0){const _0x9743b8=_0xc8a61[0x0][_0x1724dc(0x34e)];if(_0x9743b8<_0x2a4d5c&&_0x32632a>=_0x2a4d5c){const _0x59ad4d=_0xc8a61[_0x1724dc(0x58b)](_0x1fbcda=>(_0x1fbcda[_0x1724dc(0x848)]||[])[_0x1724dc(0xf5)](BADGES['COMEBACK_KING']['id']));!_0x59ad4d&&_0x52e29b[_0x1724dc(0x52e)](BADGES[_0x1724dc(0x924)]['id']);}}_0xc8a61[_0x1724dc(0x8c9)]===0x4&&_0x52e29b['push'](BADGES[_0x1724dc(0x721)]['id']);const _0x4edd67=currentDisplayedQuiz[_0x1724dc(0x6fd)]['resultsDisplay'];if(currentMode==='admin-testing'){handleResultDisplay(_0x4edd67,_0x32632a,_0x3095f9,_0x52e29b,_0x2492fb,_0x35c5c7);return;}const _0x550fc3=currentQuizData['id'],_0x29084d=doc(db,_0x1724dc(0x81a)+appId+_0x1724dc(0x664)+_0x550fc3+'/submissions',currentStudentName);try{const _0xf0d899=[..._0xc8a61],_0xbe4069={'score':_0x32632a,'points':_0x3095f9,'badges':_0x52e29b,'submittedAt':new Date()[_0x1724dc(0x92e)](),'answers':_0x2492fb};_0xf0d899['push'](_0xbe4069);const _0x4b2dbe=_0xc8a61['length']===0x0?_0x32632a:_0xc8a61[0x0][_0x1724dc(0x34e)]||0x0,_0x4729ac=Math[_0x1724dc(0x35a)](..._0xf0d899[_0x1724dc(0x16a)](_0x8f5625=>_0x8f5625[_0x1724dc(0x34e)])),_0x231416=_0x32632a,_0x2d74b2=_0xbe4069[_0x1724dc(0x94b)];await setDoc(_0x29084d,{'studentName':currentStudentName,'totalQuestions':_0x35c5c7,'attempts':_0xf0d899,'firstScore':_0x4b2dbe,'bestScore':_0x4729ac,'latestScore':_0x231416,'points':_0x3095f9,'latestSubmittedAt':_0x2d74b2},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x1724dc(0x8bf)],currentStudentName),handleResultDisplay(_0x4edd67,_0x32632a,_0x3095f9,_0x52e29b,_0x2492fb,_0x35c5c7);}catch(_0x2715c7){console[_0x1724dc(0x241)](_0x1724dc(0x254),_0x2715c7),showMessage(_0x1724dc(0x349));}}async function updateStudentProfile(_0x2525bc,_0x4f494a){const _0x1a913a=_0x555faf,_0x59f61e=doc(db,'artifacts/'+appId+_0x1a913a(0x800)+_0x2525bc+_0x1a913a(0x183),_0x4f494a);try{const _0x43834c=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x1a913a(0x8bf),'==',_0x2525bc)),_0x640045=await getDocs(_0x43834c),_0x3b36c6=new Map(_0x640045['docs'][_0x1a913a(0x16a)](_0x5da695=>[_0x5da695['id'],_0x5da695[_0x1a913a(0x56d)]()])),_0x4a665c=Array[_0x1a913a(0x578)](_0x3b36c6['keys']());await runTransaction(db,async _0x5c85dc=>{const _0x3733c9=_0x1a913a;let _0x496f2e=0x0;const _0x26e1c2={};let _0x302525=!![],_0x4c284d=0x0,_0x470b96=0x0;for(const _0xb3f5ae of _0x4a665c){const _0x45f94e=_0x3b36c6[_0x3733c9(0x267)](_0xb3f5ae),_0x5171f4=doc(db,_0x3733c9(0x81a)+appId+_0x3733c9(0x664)+_0xb3f5ae+'/submissions',_0x4f494a),_0x1269f1=await _0x5c85dc['get'](_0x5171f4);if(_0x1269f1['exists']()){const _0x1a3e1d=_0x1269f1[_0x3733c9(0x56d)](),_0x3db978=_0x1a3e1d[_0x3733c9(0x184)]||[];if(_0x3db978['length']>0x0){const _0x3bebe2=_0x3db978[_0x3733c9(0x40b)]((_0x21004d,_0x2b0005)=>{const _0x231a57=_0x3733c9;if(_0x2b0005[_0x231a57(0x34e)]>_0x21004d[_0x231a57(0x34e)])return _0x2b0005;if(_0x2b0005['score']===_0x21004d['score'])return(_0x2b0005['points']||0x0)>(_0x21004d[_0x231a57(0x661)]||0x0)?_0x2b0005:_0x21004d;return _0x21004d;},{'score':-0x1,'points':-0x1});_0x3bebe2[_0x3733c9(0x34e)]>-0x1&&(_0x496f2e+=_0x3bebe2['points']||0x0,(_0x3bebe2[_0x3733c9(0x848)]||[])['forEach'](_0x35a161=>{_0x26e1c2[_0x35a161]=(_0x26e1c2[_0x35a161]||0x0)+0x1;}));}}if(_0x45f94e[_0x3733c9(0x881)]!=='แบบทดสอบซ่อมเสริม'){_0x470b96++;if(_0x1269f1[_0x3733c9(0x28d)]()){_0x4c284d++;const _0xa1e892=_0x1269f1[_0x3733c9(0x56d)]();_0xa1e892['bestScore']!==_0xa1e892[_0x3733c9(0x558)]&&(_0x302525=![]);}else _0x302525=![];}}_0x470b96>0x0&&_0x4c284d===_0x470b96&&_0x302525?_0x26e1c2[_0x3733c9(0x69c)]=0x1:_0x26e1c2[_0x3733c9(0x69c)]=0x0,_0x5c85dc[_0x3733c9(0x73e)](_0x59f61e,{'studentName':_0x4f494a,'totalPoints':_0x496f2e,'unlockedBadges':Object[_0x3733c9(0x6cf)](_0x26e1c2)[_0x3733c9(0x858)](_0x44c0ad=>_0x26e1c2[_0x44c0ad]>0x0),'badgesCount':_0x26e1c2},{'merge':!![]});});}catch(_0xa4d1ef){console['error'](_0x1a913a(0x5b4),_0xa4d1ef),showMessage(_0x1a913a(0x8a1));}}function startAdminTest(){const _0x5574a8=_0x555faf;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x27524d=JSON[_0x5574a8(0x6ac)](JSON['stringify'](currentQuizData));currentMode=_0x5574a8(0x7e0),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x5574a8(0x65e)][_0x5574a8(0x43c)](_0x5574a8(0x3a5)),studentView[_0x5574a8(0x65e)][_0x5574a8(0x3bf)]('hidden'),studentInitialView[_0x5574a8(0x65e)][_0x5574a8(0x43c)](_0x5574a8(0x3a5)),studentNameSelectionView[_0x5574a8(0x65e)]['add']('hidden'),studentResultArea[_0x5574a8(0x65e)][_0x5574a8(0x43c)](_0x5574a8(0x3a5)),studentQuizArea['classList'][_0x5574a8(0x3bf)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x27524d);}function handleResultDisplay(_0x5ee584,_0x3c1cf5,_0x22fa7f,_0x5c7c49,_0x247c0c,_0x264de7){const _0x55e75a=_0x555faf;if(_0x5ee584===_0x55e75a(0x5f2)){displaySubmissionConfirmation();return;}const _0x35d05b=currentDisplayedQuiz['settings']?.[_0x55e75a(0x8cc)]??Math[_0x55e75a(0xff)](_0x264de7/0x2),_0x3b5f3a=currentDisplayedQuiz[_0x55e75a(0x6fd)]?.[_0x55e75a(0x38d)]??![],_0x5ce85b=currentDisplayedQuiz[_0x55e75a(0x6fd)]?.[_0x55e75a(0x268)]===!![],_0x30706a=_0x3c1cf5<_0x35d05b,_0x13a72c=_0x5ee584===_0x55e75a(0x895)||_0x5ee584===_0x55e75a(0xfd);if(_0x5ce85b&&_0x30706a&&!_0x13a72c){_0x5ee584===_0x55e75a(0x7a5)?displayResultsWithAnswers(_0x3c1cf5,_0x22fa7f,_0x5c7c49,_0x247c0c,_0x264de7,!![]):displayLoopScreen(_0x3c1cf5,_0x264de7,_0x5ee584);return;}if(_0x3b5f3a&&_0x30706a){startAdaptiveFlow(_0x247c0c,_0x3c1cf5,_0x264de7);return;}switch(_0x5ee584){case _0x55e75a(0x7a5):displayResultsWithAnswers(_0x3c1cf5,_0x22fa7f,_0x5c7c49,_0x247c0c,_0x264de7);break;case _0x55e75a(0x631):displayResultsScoreOnly(_0x3c1cf5,_0x22fa7f,_0x5c7c49,_0x264de7);break;case'show_pass_fail_only':displayPassFailOnly(_0x3c1cf5,_0x264de7);break;case _0x55e75a(0x895):displayHalfMarkResult(_0x3c1cf5,_0x264de7);break;case _0x55e75a(0xfd):displayPerfectScoreResult(_0x3c1cf5,_0x264de7);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x542b02){const _0x4408a1=_0x555faf;studentReadingArea[_0x4408a1(0x8d2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x18fe2f=_0x4408a1(0x153)+_0x542b02+_0x4408a1(0x783)+simpleMathPrompt+_0x4408a1(0x49f),_0x43ac5f={'type':_0x4408a1(0x3c2),'properties':{'questionText':{'type':_0x4408a1(0x629)},'options':{'type':_0x4408a1(0x12c),'items':{'type':_0x4408a1(0x629)}},'correctAnswerIndex':{'type':_0x4408a1(0x544)},'explanation':{'type':_0x4408a1(0x629)}},'required':['questionText',_0x4408a1(0x81c),_0x4408a1(0x230),'explanation']},_0x2f6c5c={'type':_0x4408a1(0x3c2),'properties':{'topic':{'type':_0x4408a1(0x629)},'questions':{'type':'ARRAY','items':_0x43ac5f}},'required':[_0x4408a1(0x881),'questions']};try{const _0x44d482=await callAnalysisApi(_0x18fe2f,_0x2f6c5c);_0x44d482['isRemedial']=!![],studentReadingArea['classList']['add'](_0x4408a1(0x3a5));const _0xe00f0e={...currentDisplayedQuiz[_0x4408a1(0x6fd)],'isAdaptive':![],'resultsDisplay':_0x4408a1(0x7a5)};_0x44d482[_0x4408a1(0x6fd)]=_0xe00f0e,displayQuizForStudent(_0x44d482);}catch(_0x16db85){console[_0x4408a1(0x241)](_0x4408a1(0x617),_0x16db85),showMessage(_0x4408a1(0x9b2)),showView('student');}}function displayPassFailOnly(_0x24a9f3,_0x15ecef){const _0x324748=_0x555faf,_0x486223=currentDisplayedQuiz[_0x324748(0x6fd)]?.[_0x324748(0x8cc)]??-0x1,_0x5a0931=currentDisplayedQuiz[_0x324748(0x990)]===!![];let _0x5c5fb4='',_0x3ef6d8=![];if(_0x5a0931||_0x486223!==-0x1){_0x3ef6d8=_0x5a0931?_0x24a9f3===_0x15ecef:_0x24a9f3>=_0x486223;const _0x3af795=_0x3ef6d8?_0x324748(0x2d6):_0x324748(0x2fa),_0x3822c9=_0x3ef6d8?'ผ่าน':'ไม่ผ่าน';_0x5c5fb4=_0x324748(0x862)+_0x3af795+'\x22>'+_0x3822c9+_0x324748(0x3ef);}else _0x5c5fb4='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x3307cb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c5fb4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x3307cb,studentResultArea[_0x324748(0x65e)][_0x324748(0x3bf)](_0x324748(0x3a5)),studentQuizArea[_0x324748(0x65e)][_0x324748(0x43c)](_0x324748(0x3a5)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x3ef6d8});}function cancelAdminTest(){const _0x17e497=_0x555faf;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x17e497(0x2cc),handleFullscreenChange),document[_0x17e497(0x6b3)](_0x17e497(0x96a),handleVisibilityChange),currentMode=_0x17e497(0x457),studentView['classList'][_0x17e497(0x43c)](_0x17e497(0x3a5)),adminView[_0x17e497(0x65e)]['remove'](_0x17e497(0x3a5)),showView(_0x17e497(0x211));}function setupResultScreenBackButton(_0x15087d){const _0x586d86=_0x555faf,_0x452cb3={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x15087d};if(_0x452cb3[_0x586d86(0x8e7)]){const _0x50db7d=_0x586d86(0x132);studentResultArea[_0x586d86(0x9a0)](_0x586d86(0x1ad),_0x50db7d),document[_0x586d86(0x8c8)](_0x586d86(0x59a))[_0x586d86(0x38a)]('click',()=>{const _0x2e8fbb=_0x586d86;studentResultArea[_0x2e8fbb(0x65e)][_0x2e8fbb(0x43c)](_0x2e8fbb(0x3a5)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x57b915='back-from-results-btn',_0x2fcf0b=currentMode===_0x586d86(0x7e0),_0x459852=_0x2fcf0b?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x586d86(0x2aa);let _0x3b2eae='';_0x452cb3[_0x586d86(0x10c)]&&(_0x3b2eae+=_0x586d86(0x1ab));let _0x1ba02c=_0x452cb3['showImproveButton'];_0x1ba02c===undefined&&(_0x1ba02c=_0x452cb3['score']<_0x452cb3['totalQuestions']);_0x1ba02c&&(_0x3b2eae+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x3b2eae+=_0x586d86(0x16f)+_0x57b915+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x459852+'</button>';const _0xf18aac=_0x586d86(0x5fc)+_0x3b2eae+_0x586d86(0x3e2);studentResultArea[_0x586d86(0x9a0)](_0x586d86(0x1ad),_0xf18aac),studentResultArea[_0x586d86(0x5be)](_0x586d86(0x287))?.['addEventListener']('click',handleShowStudentRankings);const _0x11ef88=studentResultArea[_0x586d86(0x5be)](_0x586d86(0x44d));_0x11ef88&&_0x11ef88[_0x586d86(0x38a)](_0x586d86(0x49b),()=>{const _0x23730c=_0x586d86;studentResultArea[_0x23730c(0x65e)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x586d86(0x8c8)](_0x57b915)['addEventListener'](_0x586d86(0x49b),()=>{const _0x23645d=_0x586d86;_0x2fcf0b?(currentMode=_0x23645d(0x457),studentView[_0x23645d(0x65e)][_0x23645d(0x43c)](_0x23645d(0x3a5)),adminView[_0x23645d(0x65e)][_0x23645d(0x3bf)](_0x23645d(0x3a5)),showView(_0x23645d(0x211))):(showView(_0x23645d(0x8cd)),document[_0x23645d(0x8c8)]('quiz-id-input')[_0x23645d(0x22a)]='');});}function displayResultsWithAnswers(_0x1cb541,_0x401200,_0x58d09a,_0x15a308,_0xf71828,_0xb6fe00=![]){const _0x3b3b25=_0x555faf,_0x5e0eeb=_0xf71828>0x0?_0x1cb541/_0xf71828*0x64:0x0,_0x57f247=currentDisplayedQuiz[_0x3b3b25(0x6fd)]?.[_0x3b3b25(0x8cc)]??-0x1,_0x396899=currentDisplayedQuiz[_0x3b3b25(0x990)]===!![];let _0x2a02e2='';if(_0x396899||_0x57f247!==-0x1){let _0x209315=_0x396899?_0x1cb541===_0xf71828:_0x1cb541>=_0x57f247;const _0x211d83=_0x209315?_0x3b3b25(0x2d6):_0x3b3b25(0x2fa),_0x24a69d=_0x209315?'ผ่าน':_0x3b3b25(0x6bd);_0x2a02e2='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x211d83+'\x22>'+_0x24a69d+_0x3b3b25(0x1f7);}let _0x4e3379=_0x3b3b25(0x135)+currentStudentName+_0x3b3b25(0x6b6)+_0x1cb541+_0x3b3b25(0x2b7)+_0xf71828+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a02e2+_0x3b3b25(0x473)+_0x401200+_0x3b3b25(0x843)+_0x5e0eeb[_0x3b3b25(0x6d3)](0x0)+_0x3b3b25(0x285);currentDisplayedQuiz[_0x3b3b25(0x96e)][_0x3b3b25(0x8ca)]((_0x2aba83,_0x4894a3)=>{const _0x527242=_0x3b3b25,_0x168a1f=_0x15a308[_0x4894a3],_0x48fea2=_0x168a1f['answer'],_0x52b5af=_0x168a1f['isCorrect'],_0x4bbe2c=_0x2aba83[_0x527242(0x496)]||currentDisplayedQuiz[_0x527242(0x567)];_0x4e3379+=_0x527242(0x6da)+(_0x52b5af?_0x527242(0x786):_0x527242(0x7bd))+_0x527242(0x15a)+(_0x4894a3+0x1)+'.\x20'+(_0x2aba83[_0x527242(0x822)]||_0x2aba83[_0x527242(0x8fb)])+_0x527242(0x540);switch(_0x4bbe2c){case _0x527242(0x36c):const _0x466cf4=_0x48fea2||'ไม่ได้ตอบ',_0x33dff3=_0x2aba83[_0x527242(0x68a)];_0x4e3379+=_0x527242(0x806)+(!_0x52b5af?_0x527242(0x5f6):'')+'\x22>'+_0x466cf4+'</span></p>';!_0x52b5af&&(_0x4e3379+=_0x527242(0x24b)+_0x33dff3+_0x527242(0x1f7));break;case _0x527242(0x247):_0x4e3379+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x48fea2||_0x527242(0xed))+_0x527242(0x1f7),_0x4e3379+=_0x527242(0x778)+_0x2aba83[_0x527242(0x1e4)]+_0x527242(0x1f7);break;case'true_false':_0x4e3379+=_0x527242(0x31f)+(_0x2aba83[_0x527242(0x338)]===!![]?_0x527242(0x2dc):'')+'\x20'+(_0x48fea2===_0x527242(0x3d8)&&!_0x52b5af?'line-through\x20text-red-700':'')+_0x527242(0x1ae),_0x4e3379+=_0x527242(0x31f)+(_0x2aba83[_0x527242(0x338)]===![]?_0x527242(0x2dc):'')+'\x20'+(_0x48fea2===_0x527242(0xec)&&!_0x52b5af?_0x527242(0x5f6):'')+'\x22>ไม่ใช่</p>';break;default:_0x4e3379+=_0x2aba83[_0x527242(0x81c)][_0x527242(0x16a)]((_0x33af09,_0x2d78bd)=>{const _0x547981=_0x527242;let _0x5a10a1='',_0x51723b='';if(_0x2d78bd===_0x2aba83[_0x547981(0x230)])_0x5a10a1=_0x547981(0x2dc),_0x51723b=_0x547981(0x27c);else _0x2d78bd===_0x48fea2&&(_0x5a10a1=_0x547981(0x18b),_0x51723b=_0x547981(0x84c));return _0x547981(0x6db)+_0x5a10a1+'\x22>'+_0x51723b+_0x33af09+_0x547981(0x3e2);})['join']('');break;}_0x4e3379+=_0x527242(0x469)+(_0x2aba83[_0x527242(0x220)]||_0x527242(0x5b2))+_0x527242(0x3e2);if(!_0x52b5af){const _0x56da58=_0x2aba83[_0x527242(0x822)]||_0x2aba83[_0x527242(0x8fb)];_0x4e3379+=_0x527242(0x21f)+escape(_0x56da58)+_0x527242(0x951);}_0x4e3379+=_0x527242(0x3e2);}),studentResultArea[_0x3b3b25(0x8d2)]=_0x4e3379,renderEarnedBadges(_0x58d09a,'earned-badges-container'),studentResultArea[_0x3b3b25(0x65e)][_0x3b3b25(0x3bf)](_0x3b3b25(0x3a5)),studentQuizArea[_0x3b3b25(0x65e)][_0x3b3b25(0x43c)](_0x3b3b25(0x3a5)),setupResultScreenBackButton({'isLooping':_0xb6fe00,'score':_0x1cb541,'totalQuestions':_0xf71828,'showRankings':!![]});if(window['MathJax'])window['MathJax'][_0x3b3b25(0x715)]([studentResultArea]);}function displayResultsScoreOnly(_0x12df72,_0x99a854,_0x37d3b8,_0x3bf549){const _0x568ceb=_0x555faf,_0x40995e=_0x3bf549>0x0?_0x12df72/_0x3bf549*0x64:0x0,_0x5bbe1d=currentDisplayedQuiz[_0x568ceb(0x6fd)]?.['passingScore']??-0x1,_0x1c5526=currentDisplayedQuiz['isRemedial']===!![];let _0x581b8a='';if(_0x1c5526||_0x5bbe1d!==-0x1){let _0x2e80ff=_0x1c5526?_0x12df72===_0x3bf549:_0x12df72>=_0x5bbe1d;const _0x33b64b=_0x2e80ff?_0x568ceb(0x2d6):_0x568ceb(0x2fa),_0x48af2a=_0x2e80ff?_0x568ceb(0x9d6):_0x568ceb(0x6bd);_0x581b8a=_0x568ceb(0x396)+_0x33b64b+'\x22>'+_0x48af2a+_0x568ceb(0x1f7);}let _0xf598c4=_0x568ceb(0x3fb)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x12df72+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x3bf549+_0x568ceb(0x3ba)+_0x581b8a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x99a854+_0x568ceb(0x46a)+_0x40995e[_0x568ceb(0x6d3)](0x0)+_0x568ceb(0x8f7);studentResultArea[_0x568ceb(0x8d2)]=_0xf598c4,renderEarnedBadges(_0x37d3b8,'earned-badges-container'),studentResultArea[_0x568ceb(0x65e)]['remove']('hidden'),studentQuizArea[_0x568ceb(0x65e)][_0x568ceb(0x43c)]('hidden'),setupResultScreenBackButton({'score':_0x12df72,'totalQuestions':_0x3bf549,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x353210=_0x555faf;let _0x4b18c9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x353210(0x11c);studentResultArea[_0x353210(0x8d2)]=_0x4b18c9,studentResultArea[_0x353210(0x65e)][_0x353210(0x3bf)](_0x353210(0x3a5)),studentQuizArea['classList']['add'](_0x353210(0x3a5)),document['getElementById'](_0x353210(0x2e6))[_0x353210(0x38a)](_0x353210(0x49b),()=>{const _0x5b4bb3=_0x353210;showView(_0x5b4bb3(0x8cd)),document['getElementById'](_0x5b4bb3(0x195))[_0x5b4bb3(0x22a)]='';});}function renderEarnedBadges(_0x2a1662,_0x29f9c6){const _0x2c5dda=_0x555faf,_0x236a22=document[_0x2c5dda(0x8c8)](_0x29f9c6);if(!_0x236a22||!_0x2a1662||_0x2a1662[_0x2c5dda(0x8c9)]===0x0)return;let _0x53bf12='';_0x2a1662[_0x2c5dda(0x8ca)]((_0x53b05f,_0x54b13f)=>{const _0x384cdd=_0x2c5dda,_0x22725e=Object['values'](BADGES)[_0x384cdd(0x653)](_0x5c44eb=>_0x5c44eb['id']===_0x53b05f);_0x22725e&&(_0x53bf12+=_0x384cdd(0x82d)+_0x54b13f*0.2+_0x384cdd(0x984)+_0x22725e[_0x384cdd(0x29d)]+_0x384cdd(0x424)+_0x22725e[_0x384cdd(0x427)]+_0x384cdd(0x774)+_0x22725e['name']+_0x384cdd(0x1f4));}),_0x236a22[_0x2c5dda(0x8d2)]=_0x53bf12;}function startPresentation(_0x2d2681){const _0x139fc3=_0x555faf;currentQuizData=getShuffledQuiz(_0x2d2681),currentPresentationSlide=0x0,presentationModal[_0x139fc3(0x1c6)]['display']='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x27bf41=_0x555faf;document['fullscreenElement']&&document[_0x27bf41(0x24f)](),presentationModal[_0x27bf41(0x1c6)][_0x27bf41(0x851)]=_0x27bf41(0x555);}function renderPresentationSlide(_0x593e73){const _0x1f38c9=_0x555faf,_0x53d7a4=document[_0x1f38c9(0x8c8)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x1f38c9(0x96e)]||!currentQuizData['questions'][_0x593e73]){_0x53d7a4[_0x1f38c9(0x8d2)]=_0x1f38c9(0x8de);return;}const _0x22e040=currentQuizData[_0x1f38c9(0x96e)][_0x593e73],_0x2260b6=_0x22e040[_0x1f38c9(0x496)]||currentQuizData[_0x1f38c9(0x567)];_0x53d7a4[_0x1f38c9(0x8d2)]='';let _0x42b1ce='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x22e040['imageCode']?_0x1f38c9(0x3dc)+_0x22e040[_0x1f38c9(0x6be)]+_0x1f38c9(0x3e2):'')+_0x1f38c9(0x7f5)+(_0x593e73+0x1)+'.\x20'+(_0x22e040[_0x1f38c9(0x822)]||_0x22e040[_0x1f38c9(0x8fb)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2260b6){case _0x1f38c9(0x36c):_0x42b1ce+=_0x22e040[_0x1f38c9(0x2cb)]['map'](_0x9d072e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9d072e+_0x1f38c9(0x32c))[_0x1f38c9(0x71e)]('');break;case _0x1f38c9(0x43d):_0x42b1ce+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x42b1ce+=_0x1f38c9(0x4fd);break;case _0x1f38c9(0x759):case'short_answer':_0x42b1ce+=_0x1f38c9(0x8d1);break;case'fill_in_the_blank':case'multiple_choice':default:_0x42b1ce+=_0x22e040[_0x1f38c9(0x81c)]['map']((_0x6bee7c,_0x130d6f)=>_0x1f38c9(0x5d8)+_0x130d6f+_0x1f38c9(0x717)+_0x6bee7c+_0x1f38c9(0x32c))['join']('');break;}_0x42b1ce+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x22e040[_0x1f38c9(0x220)]||'ไม่มีคำอธิบาย')+_0x1f38c9(0x6e4),_0x53d7a4['innerHTML']=_0x42b1ce;if(window[_0x1f38c9(0x141)])window['MathJax'][_0x1f38c9(0x715)]([_0x53d7a4]);let _0x4c393c=[];switch(_0x2260b6){case _0x1f38c9(0x36c):_0x4c393c=_0x22e040[_0x1f38c9(0x2cb)]||[];break;case _0x1f38c9(0x43d):_0x4c393c=[_0x1f38c9(0x656),_0x1f38c9(0x785)];break;default:_0x4c393c=_0x22e040[_0x1f38c9(0x81c)]||[];break;}const _0x446822=document['getElementById'](_0x1f38c9(0x111));_0x446822&&(_0x446822[_0x1f38c9(0x953)]=()=>{openScratchpad(_0x22e040,_0x4c393c);});document[_0x1f38c9(0x379)](_0x1f38c9(0x798))['forEach'](_0x1e929b=>{const _0x9c854b=_0x1f38c9;_0x1e929b[_0x9c854b(0x38a)]('click',_0x4ea0ad=>revealAnswerForPresentation(_0x593e73,_0x4ea0ad[_0x9c854b(0x7e4)]));});const _0x4bdb06=document[_0x1f38c9(0x8c8)]('check-presentation-answer-btn');_0x4bdb06&&_0x4bdb06[_0x1f38c9(0x38a)](_0x1f38c9(0x49b),()=>checkShortAnswerForPresentation(_0x593e73)),document[_0x1f38c9(0x8c8)](_0x1f38c9(0x206))[_0x1f38c9(0x29c)]='ข้อที่\x20'+(_0x593e73+0x1)+_0x1f38c9(0x312)+currentQuizData[_0x1f38c9(0x96e)]['length'],document[_0x1f38c9(0x8c8)](_0x1f38c9(0x30a))[_0x1f38c9(0x915)]=_0x593e73===0x0,document['getElementById'](_0x1f38c9(0x4d8))[_0x1f38c9(0x915)]=_0x593e73===currentQuizData['questions'][_0x1f38c9(0x8c9)]-0x1;}async function checkShortAnswerForPresentation(_0x3286ac){const _0x21288b=_0x555faf,_0x1096bc=currentQuizData[_0x21288b(0x96e)][_0x3286ac],_0x1daede=document['getElementById'](_0x21288b(0x3d7)),_0x2e62a=document['getElementById'](_0x21288b(0x6c7)),_0x299219=document['getElementById'](_0x21288b(0x3a0)),_0x293358=document[_0x21288b(0x8c8)](_0x21288b(0x1b0));if(!_0x1daede||!_0x2e62a||!_0x299219||!_0x293358)return;const _0x4c7638=_0x1daede['value'][_0x21288b(0x588)]();if(_0x4c7638==='')return;_0x2e62a[_0x21288b(0x915)]=!![],_0x2e62a[_0x21288b(0x8d2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x1daede[_0x21288b(0x915)]=!![];const _0x4c128d=await gradeShortAnswer(_0x4c7638,_0x1096bc);_0x4c128d?_0x299219[_0x21288b(0x8d2)]=_0x21288b(0x8f0):_0x299219[_0x21288b(0x8d2)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x1096bc[_0x21288b(0x1e4)]+')',_0x299219[_0x21288b(0x65e)][_0x21288b(0x3bf)](_0x21288b(0x3a5)),_0x293358['classList']['remove'](_0x21288b(0x3a5)),_0x2e62a[_0x21288b(0x65e)][_0x21288b(0x43c)](_0x21288b(0x3a5));}function revealAnswerForPresentation(_0x43a354,_0x4ce0ee){const _0xd8c29c=_0x555faf,_0x3028fa=currentQuizData[_0xd8c29c(0x96e)][_0x43a354],_0x1bd2cb=_0x3028fa['questionType']||currentQuizData[_0xd8c29c(0x567)];document[_0xd8c29c(0x379)]('.presentation-option')[_0xd8c29c(0x8ca)](_0x532adf=>{const _0x319b8e=_0xd8c29c;_0x532adf[_0x319b8e(0x915)]=!![],_0x532adf[_0x319b8e(0x65e)][_0x319b8e(0x3bf)](_0x319b8e(0x725));let _0x3092b3=![];if(_0x1bd2cb==='multiple_choice'||_0x1bd2cb===_0x319b8e(0x5e0)){const _0x3a2736=parseInt(_0x532adf['dataset'][_0x319b8e(0x673)]);_0x3092b3=_0x3a2736===_0x3028fa[_0x319b8e(0x230)];}else{if(_0x1bd2cb==='true_false'){const _0x206d1b=_0x532adf[_0x319b8e(0x8eb)]['answer']===_0x319b8e(0x3d8);_0x3092b3=_0x206d1b===_0x3028fa[_0x319b8e(0x338)];}else _0x1bd2cb===_0x319b8e(0x36c)&&(_0x3092b3=_0x532adf[_0x319b8e(0x29c)][_0x319b8e(0x588)]()===_0x3028fa[_0x319b8e(0x68a)]);}_0x3092b3?_0x532adf[_0x319b8e(0x65e)]['add'](_0x319b8e(0x199),_0x319b8e(0x3ae),'border-green-700'):_0x532adf['classList']['add'](_0x319b8e(0x676));}),_0x4ce0ee[_0xd8c29c(0x65e)]['remove']('opacity-50');let _0x582f9e=![];if(_0x1bd2cb==='multiple_choice')_0x582f9e=parseInt(_0x4ce0ee[_0xd8c29c(0x8eb)][_0xd8c29c(0x673)])===_0x3028fa['correctAnswerIndex'];else{if(_0x1bd2cb===_0xd8c29c(0x43d))_0x582f9e=_0x4ce0ee[_0xd8c29c(0x8eb)][_0xd8c29c(0x887)]===_0xd8c29c(0x3d8)===_0x3028fa[_0xd8c29c(0x338)];else _0x1bd2cb==='matching_item'&&(_0x582f9e=_0x4ce0ee[_0xd8c29c(0x29c)][_0xd8c29c(0x588)]()===_0x3028fa[_0xd8c29c(0x68a)]);}!_0x582f9e&&_0x4ce0ee['classList']['add'](_0xd8c29c(0x8a5),_0xd8c29c(0x3ae),_0xd8c29c(0xf4)),document[_0xd8c29c(0x8c8)](_0xd8c29c(0x1b0))['classList'][_0xd8c29c(0x3bf)](_0xd8c29c(0x3a5));}function startWholeQuizTimer(_0x37bbd6){const _0x4505fe=_0x555faf,_0x5a7a8c=document[_0x4505fe(0x8c8)](_0x4505fe(0x955));if(!_0x5a7a8c)return;const _0x1e651b=Date[_0x4505fe(0x8d9)]()+_0x37bbd6*0x3c*0x3e8;_0x5a7a8c[_0x4505fe(0x8d2)]=_0x4505fe(0x899);const _0xac2095=document[_0x4505fe(0x8c8)](_0x4505fe(0x828));quizTimerInterval=setInterval(()=>{const _0x444e81=_0x4505fe,_0x1155e2=_0x1e651b-Date[_0x444e81(0x8d9)]();if(_0x1155e2<=0x0)clearInterval(quizTimerInterval),_0xac2095[_0x444e81(0x29c)]=_0x444e81(0x24e),showMessage(_0x444e81(0x30d)),handleSubmitQuiz(null);else{const _0x4f7854=Math[_0x444e81(0xff)](_0x1155e2/0x3e8/0x3c%0x3c)[_0x444e81(0x8be)]()[_0x444e81(0x1b2)](0x2,'0'),_0x1c20e6=Math[_0x444e81(0xff)](_0x1155e2/0x3e8%0x3c)[_0x444e81(0x8be)]()[_0x444e81(0x1b2)](0x2,'0');_0xac2095['textContent']=_0x4f7854+':'+_0x1c20e6;}},0x3e8);}function renderPerQuestionView(){const _0xb7bff9=_0x555faf;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1632ab=currentDisplayedQuiz[_0xb7bff9(0x96e)][currentQuestionIndex],_0x3ba82a=_0x1632ab[_0xb7bff9(0x496)]||currentDisplayedQuiz[_0xb7bff9(0x567)];let _0x38a7a2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0xb7bff9(0x96e)][_0xb7bff9(0x8c9)]+_0xb7bff9(0x15d)+(currentMode===_0xb7bff9(0x7e0)?_0xb7bff9(0x6f3):'')+_0xb7bff9(0x218)+currentDisplayedQuiz['topic']+_0xb7bff9(0x461)+(currentQuestionIndex===currentDisplayedQuiz[_0xb7bff9(0x96e)][_0xb7bff9(0x8c9)]-0x1?_0xb7bff9(0x520):_0xb7bff9(0x72b))+_0xb7bff9(0xf3);studentQuizArea[_0xb7bff9(0x8d2)]=_0x38a7a2;let _0x4ba023='',_0x2c2125='';switch(_0x3ba82a){case _0xb7bff9(0x36c):_0x4ba023=currentQuestionIndex+0x1+'.\x20'+_0x1632ab[_0xb7bff9(0x822)],_0x2c2125=_0xb7bff9(0x404)+_0x1632ab['allResponses'][_0xb7bff9(0x16a)](_0x2eaefa=>_0xb7bff9(0x16b)+_0x2eaefa+'\x22>'+_0x2eaefa+'</option>')[_0xb7bff9(0x71e)]('')+_0xb7bff9(0x742);break;case'true_false':_0x4ba023=currentQuestionIndex+0x1+'.\x20'+_0x1632ab[_0xb7bff9(0x8fb)],_0x2c2125=_0xb7bff9(0x7c8);break;case _0xb7bff9(0x247):case _0xb7bff9(0x759):_0x4ba023=currentQuestionIndex+0x1+'.\x20'+_0x1632ab[_0xb7bff9(0x8fb)],_0x2c2125=_0xb7bff9(0x6ba);break;case _0xb7bff9(0x6f7):case _0xb7bff9(0x8d7):default:_0x4ba023=currentQuestionIndex+0x1+'.\x20'+_0x1632ab[_0xb7bff9(0x8fb)],_0x2c2125=_0x1632ab[_0xb7bff9(0x81c)][_0xb7bff9(0x16a)]((_0x4ac43c,_0x1e857c)=>_0xb7bff9(0x502)+_0x1e857c+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x1e857c+_0xb7bff9(0x277)+_0x1e857c+'\x22>'+_0x4ac43c+_0xb7bff9(0x993))['join']('');break;}_0x1632ab[_0xb7bff9(0x6be)]&&(_0x4ba023+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1632ab[_0xb7bff9(0x6be)]+_0xb7bff9(0x3e2));document[_0xb7bff9(0x8c8)](_0xb7bff9(0x316))[_0xb7bff9(0x8d2)]=_0x4ba023,document['getElementById'](_0xb7bff9(0x164))['innerHTML']=_0x2c2125;if(currentMode==='admin-testing'){const _0x29e6fe=document[_0xb7bff9(0x8c8)](_0xb7bff9(0x743));if(_0x29e6fe)_0x29e6fe[_0xb7bff9(0x38a)](_0xb7bff9(0x49b),cancelAdminTest);}document['getElementById'](_0xb7bff9(0x10d))[_0xb7bff9(0x38a)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0xb7bff9(0x141)])window[_0xb7bff9(0x141)][_0xb7bff9(0x715)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3cde83=_0x555faf,_0x117091=currentDisplayedQuiz[_0x3cde83(0x6fd)][_0x3cde83(0x456)],_0x4770d8=document[_0x3cde83(0x8c8)](_0x3cde83(0x756));if(!_0x4770d8)return;let _0x33f986=_0x117091;_0x4770d8[_0x3cde83(0x8d2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x33f986+_0x3cde83(0x2f7);const _0x268358=document[_0x3cde83(0x8c8)](_0x3cde83(0x1e9)),_0x592543=document[_0x3cde83(0x8c8)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x249aec=_0x3cde83;_0x33f986--;const _0x6c52f4=_0x33f986/_0x117091*0x64;_0x268358[_0x249aec(0x1c6)][_0x249aec(0x78b)]=_0x6c52f4+'%',_0x592543['textContent']=_0x33f986,_0x33f986<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x249aec(0x526)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x46c0f4=![]){const _0x26e18b=_0x555faf;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x22f64b=null;if(!_0x46c0f4){const _0x11df76=currentDisplayedQuiz[_0x26e18b(0x96e)][currentQuestionIndex],_0x20c8aa=_0x11df76[_0x26e18b(0x496)]||currentDisplayedQuiz['quizType'];if(_0x20c8aa===_0x26e18b(0x247)||_0x20c8aa==='fill_in_no_choices'){const _0x483c1c=document[_0x26e18b(0x5be)](_0x26e18b(0x459));_0x22f64b=_0x483c1c?_0x483c1c[_0x26e18b(0x22a)][_0x26e18b(0x588)]():'';}else{if(_0x20c8aa===_0x26e18b(0x36c)){const _0x1d8d36=document['querySelector'](_0x26e18b(0x7c3));_0x22f64b=_0x1d8d36?_0x1d8d36[_0x26e18b(0x22a)]:'';}else{const _0x13232d=document[_0x26e18b(0x5be)]('input[name=\x22question_single\x22]:checked');if(_0x13232d){const _0x2b7f6a=_0x13232d[_0x26e18b(0x22a)];_0x22f64b=!isNaN(parseInt(_0x2b7f6a,0xa))&&_0x2b7f6a[_0x26e18b(0x588)]()!==''?parseInt(_0x2b7f6a,0xa):_0x2b7f6a;}}}}studentAnswersPerQuestion['push'](_0x22f64b),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x26e18b(0x96e)][_0x26e18b(0x8c9)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x56c866=_0x555faf,_0x447d9e=currentDisplayedQuiz[_0x56c866(0x96e)][_0x56c866(0x58b)](_0x5d2d0f=>_0x5d2d0f[_0x56c866(0x496)]===_0x56c866(0x247));_0x447d9e?showMessage(_0x56c866(0x549)):showMessage(_0x56c866(0x4fe));const _0x330a99=currentQuizData['id'],_0x2e136d=doc(db,_0x56c866(0x81a)+appId+'/public/data/quizzes/'+_0x330a99+_0x56c866(0x647),currentStudentName),_0x1855ce=await getDoc(_0x2e136d),_0x41d1c7=_0x1855ce[_0x56c866(0x28d)]()?_0x1855ce['data']():{},_0x13c7d8=_0x41d1c7[_0x56c866(0x184)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x13c7d8);}function getResultsFilename(){const _0x228c8a=_0x555faf,_0x2b5611=document[_0x228c8a(0x8c8)]('results-quiz-title')[_0x228c8a(0x29c)][_0x228c8a(0x750)](/[^a-z0-9]/gi,'_')[_0x228c8a(0x9b7)]();return _0x228c8a(0x795)+(_0x2b5611||_0x228c8a(0x574));}function exportResultsAsImage(){const _0x36dc54=_0x555faf,_0x571dad=document[_0x36dc54(0x8c8)]('results-table-container');showMessage(_0x36dc54(0x6a3)),html2canvas(_0x571dad)[_0x36dc54(0x5e2)](_0x7d13a7=>{const _0x12660e=_0x36dc54,_0x2f1a36=document[_0x12660e(0xf8)]('a');_0x2f1a36[_0x12660e(0x88b)]=getResultsFilename()+_0x12660e(0x59d),_0x2f1a36[_0x12660e(0x4f8)]=_0x7d13a7[_0x12660e(0x5ff)](_0x12660e(0x419)),_0x2f1a36[_0x12660e(0x49b)](),messageModal[_0x12660e(0x65e)][_0x12660e(0x43c)](_0x12660e(0x3a5));});}function exportResultsAsPDF(){const _0x589d7b=_0x555faf,{jsPDF:_0x29947c}=window[_0x589d7b(0x4f9)],_0x434e9d=new _0x29947c();_0x434e9d['setFont'](_0x589d7b(0x202),_0x589d7b(0x99b)),_0x434e9d[_0x589d7b(0x4dd)]({'html':'#results-table'}),_0x434e9d['save'](getResultsFilename()+_0x589d7b(0x5c6));}function exportResultsAsWord(){const _0x2a1016=_0x555faf,_0x5d90e4=_0x2a1016(0x8d8)+_0x2a1016(0x1da)+_0x2a1016(0x370)+_0x2a1016(0x8e2),_0xc33fff='</body></html>',_0xf91357=_0x5d90e4+document[_0x2a1016(0x8c8)]('results-table-container')[_0x2a1016(0x8d2)]+_0xc33fff,_0x94eb36='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0xf91357),_0x36db72=document[_0x2a1016(0xf8)]('a');document[_0x2a1016(0x747)][_0x2a1016(0x198)](_0x36db72),_0x36db72[_0x2a1016(0x4f8)]=_0x94eb36,_0x36db72[_0x2a1016(0x88b)]=getResultsFilename()+'.doc',_0x36db72[_0x2a1016(0x49b)](),document[_0x2a1016(0x747)][_0x2a1016(0x4fb)](_0x36db72);}function exportResultsAsExcel(){const _0x43a6d0=_0x555faf,_0x39fdb7=document[_0x43a6d0(0x8c8)](_0x43a6d0(0x113));let _0x2d6196=[];for(let _0x439a83=0x0;_0x439a83<_0x39fdb7['rows'][_0x43a6d0(0x8c9)];_0x439a83++){let _0x48683b=[],_0x29c126=_0x39fdb7[_0x43a6d0(0x8f8)][_0x439a83][_0x43a6d0(0x379)](_0x43a6d0(0x431));for(let _0x50a30a=0x0;_0x50a30a<_0x29c126[_0x43a6d0(0x8c9)];_0x50a30a++){_0x48683b['push']('\x22'+_0x29c126[_0x50a30a][_0x43a6d0(0x39c)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x2d6196[_0x43a6d0(0x52e)](_0x48683b[_0x43a6d0(0x71e)](','));}const _0x4aab6a=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2d6196[_0x43a6d0(0x71e)]('\x0a')],{'type':_0x43a6d0(0x226)}),_0x1ba1c1=document['createElement']('a');_0x1ba1c1[_0x43a6d0(0x4f8)]=URL[_0x43a6d0(0x87c)](_0x4aab6a),_0x1ba1c1[_0x43a6d0(0x88b)]=getResultsFilename()+_0x43a6d0(0x395),_0x1ba1c1[_0x43a6d0(0x49b)]();}function exportTableAsImage(_0x3929bb,_0x5475ed){const _0x267136=_0x555faf,_0x25b642=document[_0x267136(0x8c8)](_0x3929bb);if(!_0x25b642){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x25b642)[_0x267136(0x5e2)](_0x10f5e0=>{const _0x84f528=_0x267136,_0x5f2783=document[_0x84f528(0xf8)]('a');_0x5f2783['download']=_0x5475ed+_0x84f528(0x59d),_0x5f2783[_0x84f528(0x4f8)]=_0x10f5e0[_0x84f528(0x5ff)](_0x84f528(0x419)),_0x5f2783[_0x84f528(0x49b)](),messageModal[_0x84f528(0x65e)][_0x84f528(0x43c)](_0x84f528(0x3a5));});}function exportTableAsPDF(_0x2e8447,_0x1f5afb){const _0x585927=_0x555faf,{jsPDF:_0x221ab6}=window[_0x585927(0x4f9)],_0x16717c=new _0x221ab6();_0x16717c[_0x585927(0x3db)](_0x585927(0x202),_0x585927(0x99b)),_0x16717c[_0x585927(0x4dd)]({'html':'#'+_0x2e8447}),_0x16717c[_0x585927(0x453)](_0x1f5afb+'.pdf');}function exportTableAsWord(_0x52f3e9,_0x478048){const _0x4d98a5=_0x555faf,_0x22904b=document['getElementById'](_0x52f3e9);if(!_0x22904b){showMessage(_0x4d98a5(0x81e));return;}const _0x3a16eb=_0x4d98a5(0x8d8)+_0x4d98a5(0x1da)+_0x4d98a5(0x370)+_0x4d98a5(0x8e2),_0xc27f14=_0x4d98a5(0x93d),_0x2f6b9c=_0x3a16eb+_0x22904b['innerHTML']+_0xc27f14,_0x437844=_0x4d98a5(0x8fa)+encodeURIComponent(_0x2f6b9c),_0x5cd257=document[_0x4d98a5(0xf8)]('a');document[_0x4d98a5(0x747)]['appendChild'](_0x5cd257),_0x5cd257[_0x4d98a5(0x4f8)]=_0x437844,_0x5cd257[_0x4d98a5(0x88b)]=_0x478048+_0x4d98a5(0x7b4),_0x5cd257[_0x4d98a5(0x49b)](),document[_0x4d98a5(0x747)][_0x4d98a5(0x4fb)](_0x5cd257);}function exportTableAsExcel(_0x18c225,_0x1c5685){const _0x204819=_0x555faf,_0xaa9cf0=document['getElementById'](_0x18c225);if(!_0xaa9cf0){showMessage(_0x204819(0x81e));return;}let _0x5c3b2e=[];for(let _0x1918c8=0x0;_0x1918c8<_0xaa9cf0[_0x204819(0x8f8)][_0x204819(0x8c9)];_0x1918c8++){let _0x4f66d9=[],_0x47d658=_0xaa9cf0['rows'][_0x1918c8]['querySelectorAll'](_0x204819(0x431));for(let _0x2eca90=0x0;_0x2eca90<_0x47d658['length'];_0x2eca90++){_0x4f66d9[_0x204819(0x52e)]('\x22'+_0x47d658[_0x2eca90][_0x204819(0x39c)][_0x204819(0x750)](/"/g,'\x22\x22')+'\x22');}_0x5c3b2e[_0x204819(0x52e)](_0x4f66d9['join'](','));}const _0x1759e0=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5c3b2e[_0x204819(0x71e)]('\x0a')],{'type':_0x204819(0x226)}),_0x3b6be2=document[_0x204819(0xf8)]('a');_0x3b6be2[_0x204819(0x4f8)]=URL[_0x204819(0x87c)](_0x1759e0),_0x3b6be2['download']=_0x1c5685+_0x204819(0x395),_0x3b6be2[_0x204819(0x49b)]();}function renderAnalytics(_0x11ba6a,_0x25bb2a){const _0x244c0e=_0x555faf,_0xf0712f=_0x25bb2a[_0x244c0e(0x858)](_0x52de45=>_0x52de45['latestScore']!==undefined),_0x4c1ff3=currentProjectData['students'][_0x244c0e(0x8c9)],_0x3b7045=_0xf0712f[_0x244c0e(0x8c9)],_0x5cee1c=_0x4c1ff3-_0x3b7045,_0x48b042=_0x4c1ff3>0x0?_0x3b7045/_0x4c1ff3*0x64:0x0,_0x4059dc=_0xf0712f['map'](_0x51e387=>_0x51e387[_0x244c0e(0x289)]),_0x33e41d=_0x4059dc[_0x244c0e(0x8c9)]>0x0?_0x4059dc['reduce']((_0x44ea42,_0x356a2b)=>_0x44ea42+_0x356a2b,0x0)/_0x4059dc[_0x244c0e(0x8c9)]:0x0,_0x30a69c=_0x11ba6a[_0x244c0e(0x96e)][_0x244c0e(0x8c9)],_0x2761f2=_0x30a69c>0x0?_0x33e41d/_0x30a69c*0x64:0x0,_0x3417dd=calculateItemAnalysis(_0x11ba6a,_0xf0712f),_0x1d0e1e=calculateReliabilityKR20(_0x11ba6a,_0xf0712f,_0x3417dd[_0x244c0e(0x4c0)]);let _0x46191f='';if(_0x1d0e1e!==null){let _0x4ec204='';if(_0x1d0e1e>=0.9)_0x4ec204=_0x244c0e(0x159);else{if(_0x1d0e1e>=0.8)_0x4ec204=_0x244c0e(0x1b9);else{if(_0x1d0e1e>=0.7)_0x4ec204='ดี';else{if(_0x1d0e1e>=0.6)_0x4ec204=_0x244c0e(0x81f);else _0x4ec204=_0x244c0e(0x3d5);}}}_0x46191f=_0x244c0e(0x2f3)+_0x1d0e1e[_0x244c0e(0x6d3)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x4ec204+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x20d443=document[_0x244c0e(0x8c8)](_0x244c0e(0x178));_0x20d443['innerHTML']=_0x244c0e(0x58c)+_0x48b042[_0x244c0e(0x6d3)](0x0)+_0x244c0e(0x8ad)+_0x3b7045+'/'+_0x4c1ff3+_0x244c0e(0x1a2)+_0x33e41d[_0x244c0e(0x6d3)](0x2)+_0x244c0e(0x1f2)+_0x2761f2['toFixed'](0x0)+_0x244c0e(0x7e8)+(_0x4059dc[_0x244c0e(0x8c9)]>0x0?Math[_0x244c0e(0x35a)](..._0x4059dc):_0x244c0e(0x437))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x4059dc[_0x244c0e(0x8c9)]>0x0?Math[_0x244c0e(0x205)](..._0x4059dc):'N/A')+_0x244c0e(0x4f1)+_0x46191f+_0x244c0e(0x49f);const _0x5415b5=document[_0x244c0e(0x8c8)](_0x244c0e(0x3e5));_0x5415b5&&_0x5415b5[_0x244c0e(0x3bf)]();const _0x4c37cf=_0x244c0e(0x49c);_0x20d443['insertAdjacentHTML']('afterend',_0x4c37cf);const _0x143eff=currentProjectData[_0x244c0e(0x4b6)]||[];renderSubmissionChart(_0x3b7045,_0x5cee1c,_0xf0712f,_0x143eff),renderScoreDistributionChart(_0xf0712f,_0x30a69c),renderQuestionAnalytics(_0x11ba6a,_0xf0712f,_0x143eff),renderInterestingStats(_0x11ba6a,_0xf0712f);}async function handleExportLessonPDF(){const _0x7c0159=_0x555faf,_0x30c607=document[_0x7c0159(0x8c8)]('lesson-plan-content'),_0x3f4004=document[_0x7c0159(0x8c8)]('lesson-plan-title')[_0x7c0159(0x29c)],_0x351d3d=window[_0x7c0159(0x4bd)]('','_blank'),_0x13a1df=_0x7c0159(0x2fd)+_0x3f4004+_0x7c0159(0x368)+_0x30c607[_0x7c0159(0x8d2)]+_0x7c0159(0x8b9);_0x351d3d[_0x7c0159(0x7f8)]['write'](_0x13a1df),_0x351d3d[_0x7c0159(0x7f8)]['close'](),_0x351d3d[_0x7c0159(0x17c)]=function(){setTimeout(()=>{_0x351d3d['print']();},0x5dc);};}function renderInterestingStats(_0x39ae5e,_0x2145c8){const _0x2e9d47=_0x555faf,_0x4835d9=document[_0x2e9d47(0x8c8)](_0x2e9d47(0x598));if(!_0x4835d9)return;if(_0x2145c8[_0x2e9d47(0x8c9)]===0x0){_0x4835d9[_0x2e9d47(0x8d2)]=_0x2e9d47(0x690);return;}const _0x161ecd=_0x39ae5e[_0x2e9d47(0x96e)][_0x2e9d47(0x16a)]((_0x426581,_0x4d0153)=>({'index':_0x4d0153+0x1,'text':_0x426581[_0x2e9d47(0x8fb)]||_0x426581['stem'],'correct':0x0}));_0x2145c8[_0x2e9d47(0x8ca)](_0x3f839a=>{const _0x1bda7e=_0x2e9d47,_0x2051f4=_0x3f839a['attempts'][_0x3f839a[_0x1bda7e(0x184)][_0x1bda7e(0x8c9)]-0x1];_0x2051f4&&_0x2051f4['answers']&&_0x2051f4[_0x1bda7e(0x4ff)][_0x1bda7e(0x8ca)](_0x160cdd=>{const _0x5d9aa9=_0x1bda7e,_0x18f8fc=_0x161ecd['find'](_0x3767c3=>_0x3767c3[_0x5d9aa9(0x460)]===_0x160cdd[_0x5d9aa9(0x9e2)]);_0x160cdd[_0x5d9aa9(0x696)]&&_0x18f8fc&&_0x18f8fc[_0x5d9aa9(0x1a4)]++;});});const _0x36170a=_0x2145c8[_0x2e9d47(0x8c9)],_0x124f9c=Math['max'](..._0x161ecd[_0x2e9d47(0x16a)](_0x3b4e5d=>_0x3b4e5d[_0x2e9d47(0x1a4)])),_0x468917=Math[_0x2e9d47(0x205)](..._0x161ecd['map'](_0x8e0a5b=>_0x8e0a5b['correct'])),_0x1bc6f5=_0x161ecd[_0x2e9d47(0x858)](_0x203d4c=>_0x203d4c[_0x2e9d47(0x1a4)]===_0x124f9c)[_0x2e9d47(0x16a)](_0x21ed5f=>'ข้อ\x20'+_0x21ed5f['index']),_0x5ac9bc=_0x161ecd[_0x2e9d47(0x858)](_0xc4925b=>_0xc4925b[_0x2e9d47(0x1a4)]===_0x468917)[_0x2e9d47(0x16a)](_0x143af0=>_0x2e9d47(0x710)+_0x143af0['index']),_0x467c33=_0x2145c8[_0x2e9d47(0x55d)]((_0xe7f7f2,_0x288297)=>_0x288297[_0x2e9d47(0x289)]-_0xe7f7f2[_0x2e9d47(0x289)])['filter']((_0x57ed8b,_0x3cb76d,_0x3e83ed)=>_0x57ed8b[_0x2e9d47(0x289)]===_0x3e83ed[0x0][_0x2e9d47(0x289)]),_0x111871=_0x2145c8[_0x2e9d47(0x55d)]((_0xd123b9,_0x59679e)=>_0xd123b9[_0x2e9d47(0x289)]-_0x59679e[_0x2e9d47(0x289)])[_0x2e9d47(0x858)]((_0x16c901,_0x5e1adb,_0xc18229)=>_0x16c901['latestScore']===_0xc18229[0x0]['latestScore']),_0x52cfe0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x1bc6f5[_0x2e9d47(0x71e)](',\x20')+_0x2e9d47(0x75d)+_0x124f9c+_0x2e9d47(0x312)+_0x36170a+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x5ac9bc['join'](',\x20')+_0x2e9d47(0x75d)+(_0x36170a-_0x468917)+_0x2e9d47(0x312)+_0x36170a+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x467c33[_0x2e9d47(0x16a)](_0x1a9e8d=>_0x1a9e8d[_0x2e9d47(0x28b)])[_0x2e9d47(0x71e)](',\x20')+_0x2e9d47(0x5cd)+_0x467c33[0x0][_0x2e9d47(0x289)]+_0x2e9d47(0x889)+_0x111871[_0x2e9d47(0x16a)](_0x3947bd=>_0x3947bd[_0x2e9d47(0x28b)])[_0x2e9d47(0x71e)](',\x20')+_0x2e9d47(0x5cd)+_0x111871[0x0][_0x2e9d47(0x289)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4835d9[_0x2e9d47(0x8d2)]=_0x52cfe0;}function renderSubmissionChart(_0x3cb2e9,_0x19e31e,_0x3dbb08,_0x295ef8){const _0x4f1b20=_0x555faf,_0x1a3a7e=document[_0x4f1b20(0x8c8)](_0x4f1b20(0x941))['getContext']('2d'),_0x2a86e9=_0x3dbb08['map'](_0x1d232f=>_0x1d232f['studentName']),_0x123d7c=_0x295ef8['filter'](_0x4b21ad=>!_0x2a86e9[_0x4f1b20(0xf5)](_0x4b21ad));chartInstances[_0x4f1b20(0x192)]&&chartInstances[_0x4f1b20(0x192)][_0x4f1b20(0x18c)](),chartInstances[_0x4f1b20(0x192)]=new Chart(_0x1a3a7e,{'type':_0x4f1b20(0x644),'data':{'labels':['ส่งแล้ว','ยังไม่ส่ง'],'datasets':[{'data':[_0x3cb2e9,_0x19e31e],'backgroundColor':[_0x4f1b20(0x995),'#F59E0B'],'borderColor':['#ffffff',_0x4f1b20(0x611)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0xf23ae){const _0x30fb3a=_0x4f1b20;let _0x3ba58b=_0xf23ae[_0x30fb3a(0x80c)]||'';return _0x3ba58b&&(_0x3ba58b+=':\x20'),_0x3ba58b+=_0xf23ae['raw'],_0x3ba58b;},'afterLabel':function(_0x28ba61){const _0x22de39=_0x4f1b20;let _0x380626;return _0x28ba61[_0x22de39(0x448)]===0x0?_0x380626=_0x2a86e9:_0x380626=_0x123d7c,_0x380626[_0x22de39(0x8c9)]>0x0?_0x380626[_0x22de39(0x71e)]('\x0a'):_0x22de39(0x840);}}}}}});}function renderScoreDistributionChart(_0x91a38b,_0x271e23){const _0x31e608=_0x555faf,_0x55a14d=document['getElementById']('score-distribution-chart')[_0x31e608(0x17f)]('2d'),_0x39bdb3={};for(let _0x46f826=0x0;_0x46f826<=_0x271e23;_0x46f826++){_0x39bdb3[_0x46f826]=0x0;}_0x91a38b['forEach'](_0x37f9b9=>{const _0x152596=_0x31e608;_0x39bdb3[_0x37f9b9[_0x152596(0x289)]]!==undefined&&_0x39bdb3[_0x37f9b9[_0x152596(0x289)]]++;}),chartInstances[_0x31e608(0x34e)]&&chartInstances['score']['destroy'](),chartInstances['score']=new Chart(_0x55a14d,{'type':_0x31e608(0x29f),'data':{'labels':Object[_0x31e608(0x6cf)](_0x39bdb3),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x31e608(0x988)](_0x39bdb3),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x31e608(0x232),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x31e608(0x95a)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x37f66d){const _0x3ffa0d=_0x31e608,_0x4374cb=_0x37f66d['label'],_0x9b5e54=_0x91a38b[_0x3ffa0d(0x858)](_0x2ea79f=>_0x2ea79f[_0x3ffa0d(0x289)]==_0x4374cb)[_0x3ffa0d(0x16a)](_0xe04983=>_0xe04983[_0x3ffa0d(0x28b)]);return _0x9b5e54[_0x3ffa0d(0x8c9)]>0x0?_0x9b5e54[_0x3ffa0d(0x71e)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x10f191,_0x247b18,_0x2588a5){const _0x4c6afd=_0x555faf,_0x33b9cf=document[_0x4c6afd(0x8c8)]('question-analytics-container');if(_0x2588a5[_0x4c6afd(0x8c9)]===0x0){_0x33b9cf['innerHTML']='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x45de00=calculateItemAnalysis(_0x10f191,_0x247b18),_0x1549bd=calculateDistractorAnalysis(_0x10f191,_0x247b18);let _0x43da2e='';_0x45de00[_0x4c6afd(0x3c1)]&&(_0x43da2e=_0x4c6afd(0x59b)+_0x45de00[_0x4c6afd(0x3c1)]['upperGroupNames'][_0x4c6afd(0x8c9)]+_0x4c6afd(0xea)+_0x45de00[_0x4c6afd(0x3c1)][_0x4c6afd(0x82a)]['map'](_0x10da7a=>_0x4c6afd(0x2ad)+_0x10da7a+_0x4c6afd(0x782))[_0x4c6afd(0x71e)]('')+_0x4c6afd(0x12f)+_0x45de00['overallGroups'][_0x4c6afd(0x6d2)][_0x4c6afd(0x8c9)]+_0x4c6afd(0xea)+_0x45de00[_0x4c6afd(0x3c1)][_0x4c6afd(0x6d2)]['map'](_0x58c8b6=>'<li>'+_0x58c8b6+_0x4c6afd(0x782))[_0x4c6afd(0x71e)]('')+_0x4c6afd(0x529));let _0x3d5e61='';const _0x59397a=_0x247b18[_0x4c6afd(0x16a)](_0x1aa4c5=>_0x1aa4c5[_0x4c6afd(0x28b)]),_0x1904d3=_0x2da84b=>{const _0x54ba77=_0x4c6afd;if(_0x2da84b>=0.8)return _0x54ba77(0x108);if(_0x2da84b>=0.6)return _0x54ba77(0x32a);if(_0x2da84b>=0.4)return _0x54ba77(0x691);if(_0x2da84b>=0.2)return _0x54ba77(0x430);return _0x54ba77(0x3cc);},_0x566ea0=_0x1e6233=>{const _0x314ce6=_0x4c6afd;if(_0x1e6233<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x1e6233>=0.4)return _0x314ce6(0x2ba);if(_0x1e6233>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x1e6233>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x314ce6(0x50f);},_0x274328=_0x232add=>{const _0x37bb0c=_0x4c6afd,_0x53377d=_0x232add[_0x37bb0c(0x6d3)](0x0);if(parseFloat(_0x53377d)===0x64)return _0x37bb0c(0x6a1)+_0x53377d+'%</span>';if(_0x232add>=0x32)return _0x37bb0c(0x193)+_0x53377d+_0x37bb0c(0x89d);return _0x37bb0c(0x626)+_0x53377d+_0x37bb0c(0x89d);};_0x10f191[_0x4c6afd(0x96e)][_0x4c6afd(0x8ca)]((_0x339808,_0x58c0fc)=>{const _0x5ac5bd=_0x4c6afd,_0x58a9e6=_0x45de00[_0x5ac5bd(0x4c0)][_0x58c0fc],_0x5ba55f=_0x1549bd[_0x58c0fc],_0x611bab=_0x339808[_0x5ac5bd(0x822)]||_0x339808[_0x5ac5bd(0x8fb)]||_0x339808['instructions'];let _0x3c2361=0x0;const _0x21962b=[],_0x540b86=[];_0x247b18['forEach'](_0x59e217=>{const _0x14bb11=_0x5ac5bd,_0x2fc029=_0x59e217[_0x14bb11(0x184)][_0x59e217[_0x14bb11(0x184)][_0x14bb11(0x8c9)]-0x1];if(_0x2fc029&&_0x2fc029['answers']){const _0x4f9ad2=_0x2fc029[_0x14bb11(0x4ff)][_0x14bb11(0x653)](_0x363bb9=>_0x363bb9[_0x14bb11(0x9e2)]===_0x611bab)??_0x2fc029['answers'][_0x58c0fc]??null;_0x4f9ad2&&(_0x4f9ad2[_0x14bb11(0x696)]?(_0x3c2361++,_0x21962b[_0x14bb11(0x52e)](_0x59e217[_0x14bb11(0x28b)])):_0x540b86['push'](_0x59e217[_0x14bb11(0x28b)]));}});const _0x4ef1f9=_0x247b18[_0x5ac5bd(0x8c9)]>0x0?_0x3c2361/_0x247b18[_0x5ac5bd(0x8c9)]*0x64:0x0,_0x4b1df8=_0x2588a5[_0x5ac5bd(0x858)](_0x4b5133=>!_0x59397a[_0x5ac5bd(0xf5)](_0x4b5133)),_0x4b3632=_0x58a9e6?_0x5ac5bd(0x666)+_0x58a9e6['p']['toFixed'](0x2)+_0x5ac5bd(0x22f)+_0x1904d3(_0x58a9e6['p'])+_0x5ac5bd(0x1d1)+_0x58a9e6['r'][_0x5ac5bd(0x6d3)](0x2)+_0x5ac5bd(0x22f)+_0x566ea0(_0x58a9e6['r'])+_0x5ac5bd(0x383)+_0x274328(_0x4ef1f9)+_0x5ac5bd(0x100):'';let _0x51be39='';_0x5ba55f&&(_0x51be39=_0x5ac5bd(0x5ed)+Object[_0x5ac5bd(0x6cf)](_0x5ba55f)['map'](_0xd4d112=>{const _0x3e04cc=_0x5ac5bd,_0x50f21b=_0x5ba55f[_0xd4d112],_0x3591eb=parseInt(_0xd4d112)===_0x339808[_0x3e04cc(0x230)],_0xf07c50=!_0x3591eb&&_0x50f21b['lower_group_count']>_0x50f21b['upper_group_count'];return _0x3e04cc(0x9f7)+(_0x3591eb?_0x3e04cc(0x3ed):'')+_0x3e04cc(0x3d4)+(_0x3591eb?'✔\x20':'')+_0x50f21b['text']+_0x3e04cc(0x4ac)+_0x50f21b[_0x3e04cc(0x28e)]+_0x3e04cc(0x4ac)+_0x50f21b[_0x3e04cc(0x2d8)]+'\x20'+(_0xf07c50?'👍':'')+_0x3e04cc(0x4ac)+_0x50f21b['total']+_0x3e04cc(0x143);})[_0x5ac5bd(0x71e)]('')+_0x5ac5bd(0x879));let _0x437113='';_0x58a9e6&&_0x58a9e6[_0x5ac5bd(0x522)]&&(_0x437113=_0x5ac5bd(0x11f)+_0x58a9e6['upperGroupResponders'][_0x5ac5bd(0x8c9)]+_0x5ac5bd(0x741)+_0x58a9e6[_0x5ac5bd(0x522)][_0x5ac5bd(0x16a)](_0x2532d1=>_0x5ac5bd(0x2ad)+(_0x2532d1['isCorrect']?_0x5ac5bd(0x4d5):_0x5ac5bd(0x812))+'\x20'+_0x2532d1[_0x5ac5bd(0x3df)]+'</li>')['join']('')+_0x5ac5bd(0x6ae)+_0x58a9e6[_0x5ac5bd(0x902)]['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x58a9e6[_0x5ac5bd(0x902)]['map'](_0x38ce23=>'<li>'+(_0x38ce23[_0x5ac5bd(0x696)]?_0x5ac5bd(0x4d5):_0x5ac5bd(0x812))+'\x20'+_0x38ce23[_0x5ac5bd(0x3df)]+_0x5ac5bd(0x782))['join']('')+_0x5ac5bd(0x87a)),_0x3d5e61+=_0x5ac5bd(0x5ce)+(_0x58c0fc+0x1)+':\x20'+_0x611bab+_0x5ac5bd(0x1ef)+_0x4b3632+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x611bab+_0x5ac5bd(0x885)+_0x3c2361+_0x5ac5bd(0x56c)+_0x247b18['length']+_0x5ac5bd(0x3d0)+_0x4ef1f9[_0x5ac5bd(0x6d3)](0x0)+_0x5ac5bd(0x43b)+_0x21962b[_0x5ac5bd(0x8c9)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x21962b[_0x5ac5bd(0x8c9)]>0x0?_0x21962b[_0x5ac5bd(0x71e)](',\x20'):'ไม่มี')+_0x5ac5bd(0x5a2)+_0x540b86[_0x5ac5bd(0x8c9)]+_0x5ac5bd(0x75e)+(_0x540b86[_0x5ac5bd(0x8c9)]>0x0?_0x540b86[_0x5ac5bd(0x71e)](',\x20'):'ไม่มี')+_0x5ac5bd(0x3b4)+_0x4b1df8[_0x5ac5bd(0x8c9)]+_0x5ac5bd(0x75e)+(_0x4b1df8[_0x5ac5bd(0x8c9)]>0x0?_0x4b1df8[_0x5ac5bd(0x71e)](',\x20'):_0x5ac5bd(0x840))+_0x5ac5bd(0x489)+_0x51be39+_0x5ac5bd(0x513)+_0x437113+_0x5ac5bd(0x77f);}),_0x33b9cf[_0x4c6afd(0x8d2)]=_0x43da2e+_0x3d5e61;try{window[_0x4c6afd(0x141)]&&MathJax[_0x4c6afd(0x715)]&&MathJax[_0x4c6afd(0x715)]([_0x33b9cf]);}catch(_0x2a02bc){console['error']('MathJax\x20typeset\x20error\x20(analytics):',_0x2a02bc);}}function calculateDistractorAnalysis(_0x519c7a,_0x20461b){const _0x248863=_0x555faf,_0x202d74={};if(_0x20461b[_0x248863(0x8c9)]<0x2)return _0x202d74;const _0x2673d=[..._0x20461b][_0x248863(0x55d)]((_0x480bac,_0x4fb433)=>{const _0x328aff=_0x248863,_0x5ef90c=_0x4fb433['latestScore']-_0x480bac[_0x328aff(0x289)];if(_0x5ef90c!==0x0)return _0x5ef90c;const _0x2f1c1a=_0x480bac[_0x328aff(0x184)]?.[_0x328aff(0x8c9)]||0x1,_0x3d7cf4=_0x4fb433[_0x328aff(0x184)]?.[_0x328aff(0x8c9)]||0x1,_0x1bef5a=_0x2f1c1a-_0x3d7cf4;if(_0x1bef5a!==0x0)return _0x1bef5a;const _0xe7998e=new Date(_0x480bac[_0x328aff(0x3c5)]),_0x1290e8=new Date(_0x4fb433[_0x328aff(0x3c5)]),_0x3ee795=_0xe7998e-_0x1290e8;if(_0x3ee795!==0x0)return _0x3ee795;return _0x480bac['studentName'][_0x328aff(0x2cf)](_0x4fb433[_0x328aff(0x28b)],'th');}),_0x2f8c34=_0x2673d[_0x248863(0x8c9)],_0x4cba12=Math[_0x248863(0x35a)](0x1,Math['floor'](_0x2f8c34*0.33)),_0x2de42d=_0x2673d[_0x248863(0x17a)](0x0,_0x4cba12),_0xfa063f=_0x2673d[_0x248863(0x17a)](-_0x4cba12);return _0x519c7a['questions'][_0x248863(0x8ca)]((_0x9e8264,_0x165338)=>{const _0x58e477=_0x248863;if(_0x9e8264[_0x58e477(0x496)]!==_0x58e477(0x6f7)||!_0x9e8264[_0x58e477(0x81c)])return;const _0x3b4b85=_0x9e8264[_0x58e477(0x8fb)],_0x13fc05={};_0x9e8264[_0x58e477(0x81c)]['forEach']((_0x4d03c8,_0x3aca23)=>{_0x13fc05[_0x3aca23]={'text':_0x4d03c8,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2673d[_0x58e477(0x8ca)](_0x2476a1=>{const _0x3d71e4=_0x58e477,_0x1e0d0f=_0x2476a1[_0x3d71e4(0x184)][_0x2476a1['attempts']['length']-0x1],_0x153054=_0x1e0d0f[_0x3d71e4(0x4ff)]['find'](_0x597b70=>_0x597b70['originalQuestionText']===_0x3b4b85);if(_0x153054&&_0x153054[_0x3d71e4(0x887)]!==null){const _0x3adc65=_0x9e8264['options']['findIndex'](_0x21f3bc=>_0x21f3bc===_0x153054[_0x3d71e4(0x168)]);_0x3adc65!==-0x1&&_0x13fc05[_0x3adc65]&&(_0x13fc05[_0x3adc65][_0x3d71e4(0x6d1)]++,_0x2de42d[_0x3d71e4(0xf5)](_0x2476a1)&&_0x13fc05[_0x3adc65][_0x3d71e4(0x28e)]++,_0xfa063f[_0x3d71e4(0xf5)](_0x2476a1)&&_0x13fc05[_0x3adc65]['lower_group_count']++);}}),_0x202d74[_0x165338]=_0x13fc05;}),_0x202d74;}function _0x46b7(){const _0x40b5c9=['%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','data:application/vnd.ms-word;charset=utf-8,','questionText','student-progress-view','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','การยืนยันตัวตนล้มเหลว','text-green-600\x20font-bold','postTScore','size','lowerGroupResponders','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','อุณหภูมิและการแปลง','kick-player-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ไม่สามารถเพิ่มนักเรียนได้','.delete-custom-topic-btn','tGain','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','mousemove','behavior-log','next-drill-btn','topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','พาราโบลา','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','disabled','student-quiz-leaderboard-table-body','/preferences/main','generate-from-topic-btn','<p\x20class=\x22font-bold\x20text-sm\x20','อัตราการเปลี่ยนแปลงทันที','เกิดข้อผิดพลาดในการสร้างห้องเกม','<div\x20class=\x22mb-3\x20topic-category\x22>','grid-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวแปรและนิพจน์','select','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','text-red-800','COMEBACK_KING','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบผลสอบของ\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','Error\x20saving\x20questions\x20to\x20practice\x20bank:','<div\x20id=\x22q-image-container-','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','/public/data/syncGames','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','toISOString','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก',')\x5cb)','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','QUICK_THINKER','ก่อนเรียน','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','delete-svg-btn','_blank','<div><input\x20type=\x22radio\x22\x20id=\x22q','Error\x20saving\x20to\x20question\x20bank:','Error\x20updating\x20quiz\x20status:','after','</select>','</body></html>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','offset','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','submission-status-chart','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','scrollIntoView','save-settings-btn','projectSort','touchend','ยังไม่มีนักเรียนส่งงาน','อัปเดตสถานะสำเร็จ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิดใช้งาน','submittedAt','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','คำเตือน\x20(','ownerSVGElement','screen_exit','คะแนนเต็ม','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','สมการยกกำลัง','onclick','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','timer-container','sum','ยืนยันการกระทำ','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','ไม่สามารถโหลดข้อมูลอันดับได้','คะแนน','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','admin-view','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','webkitRequestFullscreen','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','class','getAttributeNS','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','กำลังจับคู่...','ระบบเลขและค่าประจำหลัก','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','input[name=\x22status-option\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','visibilitychange','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttributeNS','text-emerald-900','questions','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','Error\x20moving\x20quiz:','.generate-lesson-btn','show_pass_fail_only','<i\x20class=\x22fas\x20fa-save\x22></i>','3366864McEsxM','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','postScore','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','Error\x20generating\x20from\x20blueprint:','#E5E7EB','isArray','game-start-mode','กรุณาใส่ชื่อใหม่','open-quiz-bank-btn','parallel-test-upload-input','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','no-projects-msg','สร้างใหม่','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','bg-green-200\x20text-green-800','s;\x22\x20title=\x22','password-error-msg','.sort-indicator','สรุปผลการวิเคราะห์:\x5cn','values','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','items','กรุณาเลือกไฟล์ก่อน','scratchpad-modal','คะแนนเต็ม!','การบวก','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','isRemedial','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointercancel','#10B981','ท็อปฟอร์ม','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเหตุผล\x20(rational)','\x20ตัวเลือก.\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','normal','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','move','Error\x20duplicating\x20quiz:','insertAdjacentHTML','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','$1\x5cfrac','toLocaleDateString','verify-answers-btn','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','เรขาคณิตวิเคราะห์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','shuffle','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','practiceProblems','fa-rocket\x20text-purple-500','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','project-passcode-modal','\x20ครั้ง)</span></td>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','blur','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','Error\x20listening\x20for\x20starred\x20quizzes:','leaderboard','text-indigo-600','multiply','toLowerCase','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','mouse','answered','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','ดอกเบี้ยทบต้น','lesson-plan-title','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','generate-from-file-btn','math-topic-search-input','group','เกิดข้อผิดพลาดในการอัปเดตสถานะ','Failed\x20to\x20kick\x20player\x20','export-word-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','Authentication\x20failed:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','leaderboard-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','questionIndex','globalSettings','.topic-name-input','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','ตัวประกอบและตัวประกอบเฉพาะ','arrayBuffer','เงินงวด\x20(อนุกรมเงินงวด)','fa-crown\x20text-yellow-500','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','บันทึกการตั้งค่าการแสดงผลสำเร็จ','ผ่าน','จำนวนและการดำเนินการ','starred','pointerType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','Error\x20deleting\x20student:','ระบบอสมการ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result-editor','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','originalQuestionText','student-passcode-input','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','PERFECT_SCORE','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','documentElement','entries','text-gray-300\x20hover:text-white','.score','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','drop','</tr>','request','bg-blue-100\x20text-blue-800','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','.choice-text','show-leaderboard-btn','<tr\x20class=\x22','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','.delete-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','lessonPlan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','qType','Error\x20updating\x20pin\x20status:','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','right','\x22>จาก:\x20','msExitFullscreen','.submittedAt','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','อัปเดตการตั้งค่าของแบบทดสอบ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x22\x20value=\x22false\x22\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','#FFFFFF','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','false','ไม่ได้ตอบ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','contents','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','Error\x20updating\x20quiz\x20settings:','ระยะจากจุดถึงเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','border-red-700','includes','save-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','behaviorLog','message-modal','tooltipTarget','#student-project-leaderboard-content\x20thead','perfect_score_status','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','add-student-btn','Firebase\x20initialization\x20failed:','.status','scale','เกิดข้อผิดพลาดในการอัปเดต:\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','element','keydown','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','showRankings','next-question-timed-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','ring-2','presentation-scratchpad-btn','repeat','results-table','(ก่อนเรียน)','โดเมนและเรนจ์','confirm-admin-login-btn','.lastAnswerCorrect','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','สมมาตร\x20(แกน/จุด)','auto','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','flex','cancel-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','confirm-rename-quiz-btn','ชนิดของข้อมูลและการเก็บข้อมูล','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','groups.','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','quiz-leaderboard-table-body','ลำดับเลขคณิต\x20(AP)','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','quizId','quiz-editor-questions-container','has','Error\x20starting\x20game:','ARRAY','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','execCommand','export-compact-pdf-btn','desc','devicePixelRatio','topic-input-area','Invalid\x20response\x20structure\x20from\x20AI.','quiz-results','MathJax','\x5cneq','</td></tr>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','กำลังค้นหากิจกรรม...','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาเลือกโปรเจคที่ต้องการบันทึก','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','answeredCurrentQuestion','กรุณาใส่ชื่อโปรเจค','cancel-admin-login-btn','mouseup','student-team-selection-view','file-topic-input','ตอบถูก\x203\x20ข้อติดต่อกัน','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','.question-editor-item','<span\x20class=\x22bg-black/20\x20px-2\x20py-1\x20rounded\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','.delete-project-btn','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-game-start-btn','.answer-text','ยอดเยี่ยม','\x22><p\x20class=\x22font-semibold\x22>','fas\x20fa-star\x20text-yellow-500','\x20\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','27411472','.edit-quiz-btn','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','Error\x20deleting\x20all\x20students:','dragstart','per-question-options','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','answerText','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','map','<option\x20value=\x22','\x22\x20ซึ่งมีทั้งหมด\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','stdDev','<button\x20id=\x22','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</th>','ไม่สามารถโหลดรายการโปรเจคได้','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','responses.','worksheet-input-area','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','analytics-summary-cards','mode','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','onload','(เลือกแล้ว\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','getContext','bg-yellow-50','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','กฎบวกและกฎคูณ','/studentProfiles','attempts','tool','bg-red-200\x20text-red-800','modal-timer-mode-select','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-project-leaderboard-content','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','font-bold\x20text-red-700\x20line-through','destroy','scratchpad-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลเกม','groups','submission','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','Error\x20displaying\x20question\x20bank:','quiz-id-input','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','bg-green-500','source-over','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<div\x20class=\x22my-6\x22>','modal-shuffle-select','quiz-settings-modal','.export-pdf-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','เวกเตอร์และเมทริกซ์\x20(เสริม)','correct','Error\x20creating\x20project:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','.question-editor-item[data-q-index=\x22','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','border-indigo-400\x20ring-2\x20ring-indigo-200','beforeend','\x22>ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','presentation-explanation','promise','padStart','ระยะทางและจุดกึ่งกลาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','เส้นตรง:\x20รูปแบบสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','ดีมาก','การแยกตัวประกอบ','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','Failed\x20to\x20get\x20hint:','export-leaderboard-word-btn','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','$1^{\x5ccirc}\x5ctext{C}','\x20สำเร็จ','loader','confirmation-modal','ปริมาตรรูปทรงสามมิติ','parseFromString','live-game','style','.correct-response-input','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','topic-tab','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectOrder','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์:\x20กฎพื้นฐาน','firstScore','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','global-quiz-search-input','Error\x20updating\x20project\x20name:','text-red-600','rgba(239,\x2068,\x2068,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','status','\x5csqrt{$1}','พบ\x20Sync\x20Game!','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x22\x20class=\x22delete-project-btn\x20','text-red-900','warn','Error\x20loading\x20quiz\x20for\x20student:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','practice-topic-btn','join-group-activity-btn','ผิด','.project-card-container','idealAnswer','Error\x20fetching\x20student\x20rankings:','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','close-comparison-modal-btn','splice','timer-bar','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','pow','admin-dashboard','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','visibilityState','/users/','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','เส้นรอบรูป','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','</p>','เรเดียนและการแปลงหน่วย','(ตัวเลือกผิดพลาด)','content','fas\x20fa-user-edit','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bestScore','gamePin','project-title','helvetica','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','พีชคณิตและฟังก์ชัน','min','slide-counter','text-red-700\x20bg-red-100','\x20\x20\x20-\x20คำตอบ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','dfrac','การวัด','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x22\x20data-topic=\x22','leq','pointermove','show-in-student-dashboard-checkbox','project-detail','การจัดหมู่\x20(Combination)','Copy\x20command\x20failed','both','รหัสไม่ถูกต้อง','0\x200','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','ระยะเวลา\x20(นาที):','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','targetId','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','explanation','setItem','comparison','\x20หัวข้อ)','ฟังก์ชันค่าสัมบูรณ์','generate-worksheet-btn','text/csv;charset=utf-8;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','value','comparison-chart','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','</p><div>','correctAnswerIndex','timer-duration-container','rgba(79,\x2070,\x20229,\x201)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','/public/data/quizzes','list-view-btn','#math-topics-checkbox-container\x20input:checked','schedule','members','scratchpad-controls','export-image-btn','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','จุด\x20เส้น\x20ระนาบ','quiz-end-time','ไม่พบเอกสารการส่งงานของ\x20','questionId','error','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัสแบบทดสอบ','quiz-type-select','fadeStartTime','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','short_answer','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','รูปสแควร์รูท\x20(surd)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','00:00','exitFullscreen','Error\x20regenerating\x20question\x20in\x20editor:','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','[contenteditable=\x22true\x22]','results-table-container','Error\x20saving\x20submission:','เกิดข้อผิดพลาดในการนำผู้เล่นออก','API\x20call\x20failed\x20with\x20status:\x20','.ai-fix-formula-btn','ฟังก์ชันยกกำลัง','หัวข้อที่สร้างเอง','onchange','type','game-start-modal-title','.topic-name-display','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','match','ฮิสโตแกรม','ring-purple-400','isPinned','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','bg-blue-100','px)\x20scale(','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','get','loopUntilPass','กรุณาป้อนหัวข้อสำหรับใบงาน','bg-purple-50','fill','confirmation-message','setAttribute','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','modal-message','submit','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','เลือกและบันทึก','player-count','cancel-team-selection-btn','touchcancel','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','clientY','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','<div\x20class=\x22answer-space\x22></div>','สมการราก\x20(radical)','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','ยังไม่เต็มนะ','ไม่พบข้อมูลโปรเจค','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','ลำดับการดำเนินการ\x20(PEMDAS)','behavior-log-tab-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','questionStatus','#view-rankings-btn','bg-red-50','latestScore','stopPropagation','studentName','สร้างแบบทดสอบปรนัย','exists','upper_group_count','preventDefault','.start-presentation-list-btn','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','.cancel-edit-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','parts','projectSortOrder','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','ปริพันธ์ไม่จำกัด','textContent','description','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','bar','ai-quiz-app-aefee.firebasestorage.app','\x20ชุดสำเร็จ!','#26890c','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','.generate-post-test-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','text-emerald-800','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','ai-quiz-app-aefee','input[type=\x22radio\x22]:checked','<li>','modal-results-display-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode-input-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','ตั้งเวลา\x20(เปิด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-gray-400\x20hover:text-indigo-600','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','Error\x20adding\x20custom\x20topic:','scores-tab-btn','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','back-to-results-btn','num-choices','text-blue-700','\x22><i\x20class=\x22fas\x20','กรุณาใส่ชื่อนักเรียน','deltaY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','เกิดข้อผิดพลาดในการลบผลสอบ','.group','บันทึกการตั้งค่าสำเร็จ','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','allResponses','fullscreenchange','quiz-schedule-start-container','เกิดข้อผิดพลาดในการจับคู่','localeCompare','add-custom-math-topic-btn','(หลังเรียน)\x20','insertBefore','contains','cursor','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','bg-green-100\x20text-green-800','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','lower_group_count','removeAttribute','ฟังก์ชันลอการิทึม','กลุ่ม:\x20','font-bold\x20text-green-700','totalPoints','restore','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','แผนภาพกล่อง\x20(box\x20plot)','eraser-tool-btn','เส้นจำนวน','Error\x20generating\x20from\x20link:','back-to-home-manual-release','จัดการ','confirm-join-game-btn','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','text-red-500\x20hover:text-red-700','attemptNumber','แบบทดสอบจากคลังส่วนตัว','ศูนย์','ทฤษฎีบทพื้นฐานของแคลคูลัส','.pin-project-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','การบวกทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','question','.ql-editor','div','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quadraticCurveTo','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเต็มบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','/public/data/projects','text-green-700','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','student-quiz-topic','.quiz-bank-parallel-btn','loop-until-pass-checkbox','strength-weakness-analysis-container','write','quiz-editor-modal','export-pdf-btn','prev-question-btn','\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-list','หมดเวลา!\x20กำลังส่งคำตอบ...','การลบเศษส่วน','\x22.\x20','live-short-answer-input','การนับ','\x20/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','getItem','All\x20groups\x20have\x20finished.\x20Ending\x20game.','per-question-text','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','mouseleave','\x20ชุด)','analyze-strengths-btn','21866hWzdqT','selected-topics-count','<div\x20class=\x22my-2\x22>','ตาของ:\x20','<p\x20class=\x22','ตารางความถี่','จับคู่เพื่อเปรียบเทียบผล','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','move-quiz-project-select','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','ตรวจคะแนนใหม่\x20','solution','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หลังเรียน','ไม่สามารถบันทึกการตั้งค่าได้','.pen-color-btn','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','กำลังสร้างแบบทดสอบคู่ขนาน...','questionDisplayedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','สร้างโปรเจคสำเร็จ!','correctAnswer','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','.option-text','พิสัย','$1\x5ctimes','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','\x22\x20data-name=\x22','close-lesson-plan-modal-footer-btn','กำลังสแกนหาแบบทดสอบเก่า...','transform','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','กรุณาเลือกโปรเจคปลายทาง','คะแนนยังไม่ถึงครึ่ง','getPage','function','team','save-project-name-btn','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','AI\x20Formula\x20Fix\x20Error:','project-id-display','teacherSuggestions','loader-text','score','.scratchpad-content-wrapper','_opt0\x22>ใช่</label></div>','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','การสร้างรูปด้วยวงเวียน–สันตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22status-option\x22]:checked','scores-tab-content','load-quiz-btn','confirm-passcode-btn','fix\x20the\x20option','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','readAsDataURL','รูปหลายเหลี่ยมและมุมภายใน','<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','transformOrigin','bulk-loop-until-pass-checkbox','cancel-global-live-btn','.live-answer-btn,\x20#live-submit-short-answer-btn','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','#D1FAE5','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab-content','authed_project_','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','matching_item','Error\x20toggling\x20star\x20status:','quiz-bank-modal','.delete-submission-btn','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','save-quiz-edits-btn','leaderboard-table-body','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','move-quiz-modal','trail','ความชันเส้นสัมผัส','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','quick_thinker','querySelectorAll','confirm-game-start-modal','เกิดข้อผิดพลาดในการโหลดโปรเจค','touch','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มุมพิเศษ\x2045°-45°-90°','.quiz-bank-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','matching','กำลังสร้างคำถามข้อ\x20','Enter','addEventListener','export-lesson-pdf-btn','createdBy','isAdaptive','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','generate-from-link-btn','generated-quiz-container','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','student-name-select','.csv','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','badgesCount','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','null','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','innerText','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-ai-result','highlighter','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','isPasscodeEnabled','เรขาคณิต','hidden','10257926gYzxXc','close-game-final-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','พื้นที่ใต้กราฟ/ระหว่างกราฟ','comeback_king','bg-red-100','text-white','</button>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','pre-test-checkbox','date_asc','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x5cge','การหาร','มัธยฐาน','deselect-all-topics-btn','learningGaps','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตพฤติกรรมสำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','players.','cloneNode','remove','katex','overallGroups','OBJECT','เพิ่มหัวข้อ\x20\x22','แก้ระบบสมการด้วยเมทริกซ์','latestSubmittedAt','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','เกิดข้อผิดพลาดในการปักหมุด','delete-all-students-btn','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','left','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','ย้ายแบบทดสอบสำเร็จ','#results-table\x20thead\x20tr','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','ควรปรับปรุง','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','presentation-short-answer-input','true','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','generated-quiz-actions','setFont','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','global-live-game-modal','name','/public/data/customMathTopics','touchmove','</div>','quiz-generation-area','STOP','interesting-stats-wrapper','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-from-bank-btn','passcode','quiz-form','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','bottom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20font-bold','Error\x20resetting\x20project\x20order:','</span></div>','dimmed','ลบหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','date_desc','every','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','title','turnIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','confirm-create-project-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','nickname-input','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','cancel-create-project-btn','#FCE7F3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','</label></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ย้าย','lesson-plan-content','reduce','lineJoin','analytics','การลบ','admin-password-input','live-game-view','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ลบแบบทดสอบสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-student-select','num-choices-container','standardTopic','student-progress-content','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','export-pdf-modal','viewBox','starred-project','</tbody></table></div>','parallel-test-input-area','close','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','พื้นที่ผิวรูปทรงสามมิติ','list','icon','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','Error\x20loading\x20user\x20preferences:','<button\x20data-quiz-id=\x22','ทำคะแนนเต็มในการทำครั้งแรก','แบบเติมคำตอบ','Error\x20saving\x20project\x20order:','timer-duration-label','AI\x20แก้ไขคำถามสำเร็จ!','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','td,\x20th','rename-quiz-input','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','การหารเศษส่วน','log','N/A','.regenerate-question-btn','mjx-container','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','add','true_false','confirm-quiz-status-btn','.ideal-answer-input','505878hkKGMO','quiz-start-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','คัดลอกรหัสแล้ว!','text-tab','ยืนยันการจับคู่','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','dataIndex','\x22,\x20','\x20ใหม่...','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','สลับไปโหมดผู้ควบคุม','#retake-for-improvement-btn','highlighter-size-slider','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','pointerup','(ฉบับง่าย)\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','save','Error\x20listening\x20for\x20custom\x20math\x20topics:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','timerDuration','admin','dispatchEvent','#per-question-options\x20textarea','จำนวนเต็มลบ','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','canvas','playerName','ai-quiz-app-aefee.firebaseapp.com','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-container-id]','[*]','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Sync\x20Mode','enable-passcode-checkbox','สถิติและความน่าจะเป็น','\x5cfrac{$1}{$2}','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','clearRect','pen-tool-btn','scratchpad-close-btn','90zvDnYX','strokeStyle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-excel-btn','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','asc','สมการค่าสัมบูรณ์','message','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','สร้างชุดคำถามจับคู่','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.summary-bar-item','cancel-move-quiz-btn','$1\x20\x5cfrac','text-indigo-700','generate-from-blueprint-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','round','10661384uNpEMm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-status-modal','team-student-list','การบวกเศษส่วน','classStrengths','Error\x20generating\x20from\x20parallel\x20test\x20file:','-tab-content','Error\x20generating\x20worksheet:','toggle','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','requestFullscreen','ความสัมพันธ์ของมุม','questionType','```json','บันทึกการตั้งค่าแล้ว','\x5c\x5c\x5c\x5c(?=(','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','click','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span><span\x20class=\x22font-bold\x22>','ค่าสัมบูรณ์','\x0a\x20\x20\x20\x20','pairedQuizId','clientX','contentEditable','leaderboard-quiz-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','NEGATIVE_INFINITY','_opt1\x22>ไม่ใช่</label></div>','\x20คน\x20ตอบถูก</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','ไม่พบโปรเจค','presentation-modal','option','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','การจัดกลุ่มข้อมูล','cos','hint-btn','เกิดข้อผิดพลาด:\x20','lastAnswerIndex','.delete-svg-btn','สอบซ่อม','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','students','quiz-leaderboard-table-container','application/json','live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','open','cdot','times','perQuestionStats','.highlighter-color-btn','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','textarea','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','<span\x20class=\x22font-bold\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','medium','.save-custom-topic-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','lineWidth','Failed\x20to\x20parse\x20JSON\x20from\x20AI','สำหรับโปรเจค:\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','.quiz-settings-btn','sqrt','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','อนุพันธ์:\x20ผลคูณ/ผลหาร','คัดลอกไม่สำเร็จ','next-question-btn','sin','shuffleSetting','พิมพ์ตอบ','ดอทโปรดักต์\x20(dot)','autoTable','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','.duplicate-quiz-btn','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','ตรีโกณมิติ','sync','<p><strong>คำตอบที่แนะนำ:</strong>\x20','ผลรวมอนุกรม\x20(Σ)','approx','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','quizMode','rgba(16,\x20185,\x20129,\x200.7)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','redo-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','Re-grade\x20process\x20failed:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(59,\x20130,\x20246,\x200.7)','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','องค์ประกอบของฟังก์ชัน','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','text-yellow-800','สมการตรีโกณมิติ','href','jspdf','Error\x20verifying\x20answers:','removeChild','เกิดข้อผิดพลาดในการติดดาว','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','answers','start-presentation-btn','svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','shuffle-setting-select','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','num-questions','globalAlpha','cancel-quiz-status-btn','bg-yellow-100','game-pin-input','ชื่อหัวข้อห้ามว่าง','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','.start-live-race-btn','highlighter-tools-group','ref','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-generator-v3','2-digit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-actions-view','reveal-answer-btn','scratchpad-canvas','shadowColor','project-quizzes-list','commit','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','เปลี่ยนชื่อโปรเจคสำเร็จ','</span>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','cancel-passcode-btn','files','ส่งคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','upperGroupResponders','รากที่สองและที่สาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ชื่อโปรเจคห้ามว่าง','หมดเวลาสำหรับข้อนี้!','Error\x20fetching\x20projects\x20for\x20move:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ctimes','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','wakeLock','className','shouldSaveResults','string','คำถามดิบ:\x20\x22','student-team-join','fa-dumbbell\x20text-gray-700','อัตราและอัตราหน่วย','file-input-area','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','answer-grid-container','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','originalTopic','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','submissions','Error\x20generating\x20parallel\x20post-test:','drill-feedback','NUMBER','ที่พิมพ์ได้\x20จำนวน\x20','check-answer-btn','ยอดเยี่ยม!','cancel-export-pdf-btn','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','แผนการสอน:\x20','<option>กำลังโหลดโปรเจค...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','block','\x20คะแนน</span></div>','\x22\x20สำเร็จ','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','รูปสี่เหลี่ยมและสมบัติ','none','อนุพันธ์:\x20กฎลูกโซ่','modal-timer-duration-input','totalQuestions','back-to-student-initial-btn','user','#DBEAFE','มุมพิเศษ\x2030°-60°-90°','sort','.edit-question-btn','editable-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สรุปผลสุดท้าย','justification','อินเวอร์สของเมทริกซ์','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','quizType','เกี่ยวกับหัวข้อ\x20\x22','answering','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-upload-input','\x20จาก\x20','data','ระยะเวลา\x20(วินาที):','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','eraser','save-visibility-settings-btn','การกระจายและการจัดหมู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','quiz','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','Error\x20opening\x20quiz\x20editor:','export-excel-btn','.draggable-text','whole_quiz','rgba(255,\x20255,\x200,\x200.5)','Error\x20pairing\x20quizzes:','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pin','split','pre-test','binom','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trim','(ก่อนเรียน)\x20','Group\x20Mode','some','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','pen','div[data-question-index=\x22','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>','generate-from-parallel-test-btn','highlighter-size-value','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','interesting-stats-container','Error\x20fetching\x20project\x20quizzes:','retake-quiz-loop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','default','.png','#E0E7FF','next-sync-question-btn','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','$1\x5c%','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','random','destination-out','\x5cs*\x5c(','Failed\x20to\x20resume\x20game\x20session:','Team\x20Quiz','workerSrc','comparison-individual-content','\x5cdiv','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','30igSShM','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<span\x20title=\x22','/public/data/teamQuizzes','passing-score-input','.copy-quiz-id-list-btn','ไม่มีคำอธิบาย','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','Leaderboard\x20update\x20transaction\x20failed:\x20','comparison-individual-tab','สมการลอการิทึม','/public/data/liveGames','คะแนนเฉลี่ย','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','generate-from-text-btn','open-scratchpad-btn','adaptive-quiz-checkbox','text-gray-200','querySelector','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','end-team-quiz-btn','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','Attempting\x20to\x20save\x20game\x20results...','parent','quiz-schedule-end-container','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-view','เซียนสมองไว','1:274192258111:web:4120c9118229b5644dd48a','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','isScored','position','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sortable-header','/questionBank','confirm-quiz-settings-btn','closest','กำลังวิเคราะห์ข้อสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color','bg-green-100','export-worksheet-pdf-btn','การลบทศนิยม','fill_in_the_blank','timer-mode-select','then','.topic-category','start-game-btn',',\x20r=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','BOOLEAN','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','ร้อยละประยุกต์','$1_{$2}','บันทึกการแก้ไข','ปริมาตร/ความจุและการแปลง','manual_release','</div>\x0a</div>\x0a','thead','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','line-through\x20text-red-700','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','highlighter-tool-btn','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','student-initial-view','toDataURL','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','เกิดข้อผิดพลาดในการลบโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','.star-quiz-btn','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','visible','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-dashboard-btn','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','comparison-modal','Error\x20listening\x20for\x20projects:','project-name-input','#ffffff','\x20pointer-events-none\x22>','shadowBlur','_opt','stroke','input[type=\x22checkbox\x22]:checked','Remedial\x20quiz\x20generation\x20failed:','Error\x20verifying\x20answers\x20in\x20editor:','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','comparison-overall-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','force-math-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','cancel-quiz-edits-btn-footer','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','ไม่พบข้อมูลการจับคู่','ร้อยละพื้นฐาน','22CsLUUC','$1^{\x5ccirc}','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','http://www.w3.org/2000/svg','\x22\x20ให้เป็นคำถามประเภท\x20\x22','STRING','getBBox','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','moveTo','.answeredCurrentQuestion','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','passcode-prompt-message','setTransform','show_results_only','API\x20call\x20failed','grid','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','teachingContent','global-live-game-count','numeric','modal-adaptive-quiz-checkbox','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','first_try_ace','.live-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','timer-duration-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','button[type=\x22submit\x22]','outerHTML','textarea[name=\x22team_answer\x22]','ความชันและเส้นตรง','doughnut','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','การแปลงรูปอัตลักษณ์','/submissions','Game\x20Mode\x20Answer','manage-players-btn','รูปแบบการให้เหตุผล','</form>','กราฟฟังก์ชันตรีโกณ','pinned-items','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-tab','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','find','scratchpad-options','.quiz-bank-delete-btn','ใช่','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','msRequestFullscreen','input',';\x22\x20data-id=\x22','instructions','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','backgroundColor','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','user-id-display','/public/data/quizzes/','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','แบบปรนัย\x204\x20ตัวเลือก','per_question','bulk-results-display-select','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','responses','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','บันทึกแบบทดสอบสำเร็จแล้ว!','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','text-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','index','/public/data/practiceBank','Error\x20saving\x20visibility\x20settings:','opacity-50','-\x20ข้อ\x20','\x5cle','text-green-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','timestamp','toLocaleString','mixed','กรุณาเลือกคำตอบก่อนครับ','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x20คู่\x20','pinnedProjects','ถูกต้อง!','preScore','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','<span\x20class=\x22sort-indicator\x20ml-2\x22>','dragend','correctResponse','summary_chart','end-sync-game-btn','activeGameSession','print','การประยุกต์เวกเตอร์พื้นฐาน','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x20mr-2\x22></i>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','.save-to-bank-btn','name_asc','isCorrect','link-tab','สอบปกติ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','specialist','ข้อต่อไป','ไม่พบข้อมูลข้อสอบหลังเรียน','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','removeItem','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','isStarred','กำลังสร้างรูปภาพ...','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบเติมคำในช่องว่าง','จากเนื้อหาต่อไปนี้:\x20\x22','create-project-btn','ไม่มีผู้ตอบตัวเลือกนี้','\x5csum','parse','AI\x20grading\x20failed:','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','กฎของไซน์','test','กิจกรรมสิ้นสุดลงแล้ว','\x22...','removeEventListener','rgba(239,\x2068,\x2068,\x200.9)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','.isScored','text-content-input','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความคาดหมาย\x20(Expected\x20value)','ไม่ผ่าน','imageCode','save-game-results-checkbox','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','Failed\x20to\x20get\x20standardized\x20topic:','text-purple-600','check-presentation-answer-btn','close-student-rankings-btn','back-to-dashboard-from-results-btn','.edit-custom-topic-btn','#e21b3c','uid','live-player-management','ค่าเสื่อมราคา','keys','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','total','lowerGroupNames','toFixed','reference-pdf-upload','fromCharCode','finishReason','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','เศษส่วน\x20(ย่อ/ขยาย)','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','<div\x20class=\x22','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','</td>','ส่วนเบี่ยงเบนมาตรฐาน','difficulty-level-select','2160594kkDnlr','open-global-live-btn','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixed','height','Error\x20during\x20class\x20analysis:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','overline','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','\x5cfrac{','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','include-images-checkbox','.admin-try-quiz-list-btn','การคูณทศนิยม','undefined','เปิด\x20(จับเวลา)','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','.lastAnswerValue','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','projectName','multiple_choice','close-comparison-modal-footer-btn','dashboardConfig','ค.ร.น.\x20(LCM)','\x5cfrac','perfect_score','settings','lineCap','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mx-1\x20text-lg\x22></i></span>','ดอกเบี้ยอย่างง่าย','confirm-move-quiz-btn','ไม่พบข้อมูลผู้ใช้','input[type=\x22checkbox\x22]','globalCompositeOperation','<button\x20data-index=\x22','</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.color-palette-popup','finished','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','บันทึกผลการเล่นเกมของ\x20','ข้อ\x20','name_desc','catch','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','typesetPromise','opacity','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20team\x20quiz:','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','smooth','input[type=\x22text\x22]','ฟังก์ชันกำลังสองและกราฟ','join','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','PERSEVERANCE','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','</p></div>','hover:bg-indigo-100','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x22><span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','$1\x5ctext{','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','คำถามถัดไป','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','Error\x20updating\x20project\x20color:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','manage','text-input-area','\x22\x20data-pre-test-id=\x22','กรุณาพิมพ์คำตอบของคุณ','bg-green-200','undo-btn','live-player-list','active','ฟังก์ชันแบบชิ้นส่วน','projectView','แผนภาพเวนน์','^{\x5ccirc}\x5ctext{C}$','ย้ายแบบทดสอบไปโปรเจคอื่น','จำนวนคู่:','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','set','getBoundingClientRect','<div\x20class=\x22flex-1\x22></div>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-test-btn','เกมสิ้นสุดลงแล้ว','ส่วนเบี่ยงเบนเฉลี่ย','\x22\x20value=\x22true\x22\x20','body','พื้นที่วงกลม/ส่วนของวงกลม','.quiz-result-card','lesson-plan-modal','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<tr><td\x20colspan=\x22','replace','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','การแจกแจงปกติและ\x20z-score','back-to-student-home-btn','docs','per-question-timer-container','project-detail-view','เกิดข้อผิดพลาดในการบันทึก','fill_in_no_choices','student-reading-area','\x0a---\x0a','modal-timer-duration-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','currentQuestionIndex','เลือกโปรเจคเพื่อบันทึก','รีเซ็ตลำดับโปรเจคแล้ว','gain','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการโหลดสถานะ','ผู้เชี่ยวชาญ','end-game-btn','bg-gray-500','scores','.answers','Error\x20adding\x20students:','เกิดข้อผิดพลาดในการสร้างใบงาน','Error\x20generating\x20lesson\x20plan:','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','endTime','.quiz-bank-try-btn','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','webkitExitFullscreen','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','bulk-quiz-settings-modal','leaderboard-quiz-tab-btn','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','inactive','ไม่พบแบบทดสอบสำหรับรหัสนี้','isFinished','\x20\x20\x20-\x20','red','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reset-view-btn','ดีเทอร์มิแนนต์','</li>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','stringify','ไม่ใช่','border-green-300\x20bg-green-50','เกิดข้อผิดพลาดในการลบหัวข้อ','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','width','qIndex','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','flex\x20flex-col\x20gap-2','modal-timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','bulk-quiz-settings-btn','จำนวนคละ','pointsLastQuestion','shuffledQuiz','results_','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','select-all-topics-btn','.presentation-option','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>','startsWith',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','analytics-tab-btn','Error\x20comparing\x20results:','players','ฐานนิยม','mean','results-display-select','เริ่มกิจกรรม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','จำนวนข้อ:','show_results_and_answers','fa-bolt\x20text-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง',':</p><p\x20class=\x22text-xs\x22>','Error\x20rendering\x20student\x20progress:','start-sync-game-btn','.quiz-bank-move-btn','results-quiz-title','join-live-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','results-quiz-id-display','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','.doc','bulk-shuffle-select','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','ไม่พบข้อมูลแบบทดสอบ','standard','team-quiz-topic','focus','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','border-red-300\x20bg-red-50','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','podium','Error\x20updating\x20sort\x20preference:','ทศนิยม\x20(ค่าประจำหลัก)','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','#per-question-options\x20select','ความคล้ายของรูป','bg-emerald-100','เมทริกซ์:\x20บวก/คูณ','actions-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-input-area','quiz-leaderboard-table','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','cancel-bulk-quiz-settings-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20end\x20group\x20mode\x20game:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-yellow-300','lobby','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','คณิตการเงิน/บูรณาการ','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ccdot','\x20รายการ...','(ไม่มีชื่อ)','manage-tab','project-dashboard-view','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','change','pointerdown','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','q-text-','admin-testing','getTextContent','#student-quiz-leaderboard-content\x20thead','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','currentTarget','สลับไปโหมดนักเรียน','</option>','ฟังก์ชันผกผัน','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','text-green-700\x20bg-green-100','Error\x20joining\x20team\x20quiz:','category','(^|[^\x5c\x5c])\x5cb','<br>','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','Error\x20confirming\x20players:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','.topic-row','cancel-rename-quiz-btn','document','ยืนยันและอัปเดตทั้งหมด','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragover','answer-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','G-V90KRM0L63','/public/data/projects/','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','.ideal-answer-input,\x20.correct-response-input','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','.ai-fix-question-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','toDate','math-topics-checkbox-container','label','text-red-700','ไฮเพอร์โบลา','มุมและการวัดมุม','project-passcode-input','live-race','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','timerMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','team-player-status-grid','all','top','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','artifacts/','\x22\x20class=\x22color-palette-btn\x20','options','Error\x20processing\x20file\x20for\x20AI:','ไม่พบตารางสำหรับ\x20Export','พอใช้','สร้างแบบทดสอบ','game-start-quiz-id','stem','createdAt','แผนการสอน','rename-quiz-modal','\x22\x20name=\x22team_answer\x22\x20value=\x22','empty','countdown-display','back-to-project-btn','upperGroupNames','close-lesson-plan-modal-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','หน่วยมวล/น้ำหนักและการแปลง','verify-answers-editor-btn','-tab','Original\x20quiz\x20not\x20found','confirm-team-players-btn','worksheet-topic-input','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','closePath','Error\x20generating\x20easy\x20version\x20quiz:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bank-input-area','pop','suggestedAnswer','indexOf','สู้ๆ\x20ลองอีกครั้งนะ','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20showing\x20quiz\x20detail\x20view:','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','กฎของโคไซน์','not-found','ตรวจทานเฉลยเสร็จสิ้น!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','badges','</strong></p>','\x22\x20name=\x22question','short','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','admin-password-modal','fixedData','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','touches','display','export-leaderboard-image-btn','student-quiz-area','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20unpairing\x20quizzes:','fas\x20fa-bookmark','release','filter','ความเป็นอิสระของเหตุการณ์','classWeaknesses','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p><p><strong>เฉลย:</strong>\x20','modal-loop-until-pass-checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','.unpair-quiz-btn','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','บันทึกคำถามใหม่\x20','quiz-results-table-body','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','hint','project-list','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราส่วนและสัดส่วน','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','project-search-input','promptFeedback','circle','quiz-results-view','Error\x20deleting\x20quiz:','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียน','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','link-topic-input','No\x20player\x20data\x20to\x20save.','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','createObjectURL','thead\x20.sortable-header','กรุณาเลือกคำตอบของกลุ่ม','results','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','สมการเชิงเส้นตัวแปรเดียว','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','.verification-result','answer','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','download','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','key','text/html','ความน่าจะเป็นแบบมีเงื่อนไข','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','touchstart','ยกเลิกการจับคู่สำเร็จ','p-2\x20bg-black/10\x20rounded-md','neq','half_mark_status','.parallel-quiz-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','circ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editor-quiz-topic','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','%</span>','สเกลและแผนที่','tfrac','blockReason','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','scheduled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','behavior-log-container','bg-red-500','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','quiz-search-input','.start-game-btn','post-test','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollY','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','ไม่พบแบบทดสอบในระบบเลย','bg-green-50','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','startTime','คณิตศาสตร์','modal-passing-score-input','findIndex','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','th-TH','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','student-project-leaderboard-table-body','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','กรุณาเลือกสถานะ','beginPath','student-quiz-leaderboard-content','toString','projectId','.topic-actions-edit',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','Error\x20saving\x20settings:','พื้นที่สี่เหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','getElementById','length','forEach','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','passingScore','student','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','แก้ไขข้อนี้','results-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','quiz-status-options','getScreenCTM','5867692mGomKD','preTestId','fill_in_with_choices','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','now','input[name=\x22team_player\x22]:checked','.answered','อัปเดตแบบทดสอบเก่า\x20','input[name=\x22drill_answer\x22]:checked','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','ฟังก์ชันเชิงเส้นและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','ไม่พบแบบทดสอบ','สัญกรณ์วิทยาศาสตร์','</h3>','ดูผลสรุปสุดท้าย','isLooping','translate(','mode-switcher-btn','Error\x20listening\x20for\x20student\x20profiles:','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','behavior-log-tab-content','Error\x20deleting\x20project:','frac','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','สร้างคำถามแบบใช่/ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy-quiz-id-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','code','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>'];_0x46b7=function(){return _0x40b5c9;};return _0x46b7();}function calculateReliabilityKR20(_0x10e011,_0x4aed6c,_0x5a37b4){const _0x3262ef=_0x555faf,_0x13236e=_0x10e011['questions']['length'];if(_0x13236e<0x2||_0x4aed6c[_0x3262ef(0x8c9)]<0x2)return null;const _0x2bd8c8=_0x4aed6c[_0x3262ef(0x16a)](_0x5516d4=>_0x5516d4['latestScore']),_0x39c0b5=_0x2bd8c8[_0x3262ef(0x40b)]((_0x3ddf62,_0x25305b)=>_0x3ddf62+_0x25305b,0x0)/_0x2bd8c8[_0x3262ef(0x8c9)],_0x74612f=_0x2bd8c8[_0x3262ef(0x16a)](_0x29c5c7=>Math[_0x3262ef(0x1ed)](_0x29c5c7-_0x39c0b5,0x2))['reduce']((_0x4dd784,_0x2c4eb2)=>_0x4dd784+_0x2c4eb2,0x0)/_0x2bd8c8[_0x3262ef(0x8c9)];if(_0x74612f===0x0)return null;let _0xcb51e1=0x0;for(let _0x1d99b7=0x0;_0x1d99b7<_0x13236e;_0x1d99b7++){const _0x318db9=_0x5a37b4[_0x1d99b7]?.['p'];if(_0x318db9===undefined)continue;const _0xecc68=0x1-_0x318db9;_0xcb51e1+=_0x318db9*_0xecc68;}if(_0xcb51e1===0x0)return null;const _0x7d244e=_0x13236e/(_0x13236e-0x1)*(0x1-_0xcb51e1/_0x74612f);if(_0x7d244e>0x1)return null;return _0x7d244e;}async function handleAnalyzeClass(){const _0x54f23f=_0x555faf;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x54f23f(0x1cd));return;}const _0x4584ff=collection(db,'artifacts/'+appId+_0x54f23f(0x664)+currentQuizData['id']+_0x54f23f(0x647)),_0xe52357=await getDocs(_0x4584ff),_0x58ef2a=_0xe52357[_0x54f23f(0x755)][_0x54f23f(0x16a)](_0xb17b32=>_0xb17b32['data']());if(_0x58ef2a['length']<0x2){showMessage(_0x54f23f(0x2d5));return;}const _0x1bcbad=document['getElementById'](_0x54f23f(0x306));_0x1bcbad['innerHTML']=_0x54f23f(0x560),document[_0x54f23f(0x8c8)](_0x54f23f(0x31a))[_0x54f23f(0x915)]=!![];const _0xb2fca7=_0x58ef2a[_0x54f23f(0x16a)]((_0x554080,_0x4150db)=>{const _0x201939=_0x54f23f,_0x9d7898=_0x554080['attempts'][_0x554080['attempts'][_0x201939(0x8c9)]-0x1];if(!_0x9d7898)return'';return _0x201939(0x2b4)+(_0x4150db+0x1)+'\x20('+_0x554080[_0x201939(0x28b)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x9d7898[_0x201939(0x34e)]+'/'+_0x554080[_0x201939(0x558)]+_0x201939(0x1a0)+JSON[_0x201939(0x784)](_0x9d7898['answers'])+_0x201939(0x353);})['join'](_0x54f23f(0x75b)),_0x2dd357='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x54f23f(0x881)]+_0x54f23f(0x72e)+JSON[_0x54f23f(0x784)](currentQuizData[_0x54f23f(0x96e)])+_0x54f23f(0x323)+_0xb2fca7+_0x54f23f(0x6c0),_0x5779b4={'type':_0x54f23f(0x3c2),'properties':{'classStrengths':{'type':_0x54f23f(0x12c),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x54f23f(0x12c),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x54f23f(0x12c),'items':{'type':_0x54f23f(0x629)}}},'required':['classStrengths',_0x54f23f(0x85a),_0x54f23f(0x34c)]};try{const _0x56cdd8=await callAnalysisApi(_0x2dd357,_0x5779b4);displayClassAnalysis(_0x56cdd8);}catch(_0x74612){console['error'](_0x54f23f(0x6e7),_0x74612),_0x1bcbad[_0x54f23f(0x8d2)]=_0x54f23f(0x942)+_0x74612['message']+_0x54f23f(0x724);}finally{document[_0x54f23f(0x8c8)](_0x54f23f(0x31a))['disabled']=![];}}function displayClassAnalysis(_0x23cd40){const _0x2483d6=_0x555faf,_0x4c9f06=document[_0x2483d6(0x8c8)]('strength-weakness-analysis-container');if(!_0x23cd40){_0x4c9f06[_0x2483d6(0x8d2)]=_0x2483d6(0x9ad);return;}_0x4c9f06[_0x2483d6(0x8d2)]=_0x2483d6(0x64e)+_0x23cd40[_0x2483d6(0x48d)][_0x2483d6(0x16a)](_0x4f827a=>'<li>'+_0x4f827a+_0x2483d6(0x782))[_0x2483d6(0x71e)]('')+_0x2483d6(0x5e7)+_0x23cd40[_0x2483d6(0x85a)][_0x2483d6(0x16a)](_0x46f440=>_0x2483d6(0x2ad)+_0x46f440+_0x2483d6(0x782))['join']('')+_0x2483d6(0x486)+_0x23cd40[_0x2483d6(0x34c)][_0x2483d6(0x16a)](_0x170102=>_0x2483d6(0x2ad)+_0x170102+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x4ed111,_0xc50113){const _0x2a9899=_0x555faf,_0x2101aa=_0x2a9899(0x771)+_0x4ed111[_0x2a9899(0x881)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x4ed111[_0x2a9899(0x881)]+_0x2a9899(0x4f0)+_0x4ed111['questions'][_0x2a9899(0x16a)]((_0x4a8ce2,_0x2f0476)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x2f0476+0x1)+'.\x20'+_0x4a8ce2['questionText']+_0x2a9899(0x18f)+(_0x4a8ce2[_0x2a9899(0x6be)]?_0x2a9899(0x6c4)+_0x4a8ce2['imageCode']+_0x2a9899(0x3e2):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x2a9899(0x61b);_0xc50113[_0x2a9899(0x7f8)][_0x2a9899(0x307)](_0x2101aa),_0xc50113['document'][_0x2a9899(0x421)](),_0xc50113[_0x2a9899(0x17c)]=function(){setTimeout(()=>{const _0x406e99=_0x4110;_0xc50113[_0x406e99(0x68e)]();},0x3e8);};}async function generateWorksheet(){const _0x240438=_0x555faf,_0x182d6d=document['getElementById'](_0x240438(0x834))[_0x240438(0x22a)][_0x240438(0x588)]();if(!_0x182d6d){showMessage(_0x240438(0x269));return;}const _0x3011b8=document[_0x240438(0x8c8)]('force-math-checkbox')[_0x240438(0x593)],_0x363705=_0x3011b8?'':_0x240438(0x8b2),_0x2ceef0=window[_0x240438(0x4bd)]('',_0x240438(0x937));_0x2ceef0[_0x240438(0x7f8)][_0x240438(0x307)]('<h1></h1>');const _0x25187d=parseInt(document[_0x240438(0x8c8)](_0x240438(0x505))['value']),_0x2de9e1=document[_0x240438(0x8c8)](_0x240438(0x6ee))[_0x240438(0x593)],_0x53478b=_0x2de9e1?_0x240438(0x639):'',_0x11e255='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x363705+_0x240438(0x545)+_0x25187d+_0x240438(0x975)+_0x182d6d+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53478b+_0x240438(0x9dd)+simpleMathPrompt+_0x240438(0x15c),_0x44b815={'type':_0x240438(0x3c2),'properties':{'topic':{'type':_0x240438(0x629)},'questions':{'type':_0x240438(0x12c),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x240438(0x629)},'imageCode':{'type':_0x240438(0x629)}},'required':[_0x240438(0x8fb)]}}},'required':[_0x240438(0x881),_0x240438(0x96e)]};document[_0x240438(0x8c8)]('loader-text')[_0x240438(0x29c)]='',document[_0x240438(0x8c8)](_0x240438(0x1c1))['classList'][_0x240438(0x3bf)](_0x240438(0x3a5)),document['getElementById'](_0x240438(0x3e3))[_0x240438(0x65e)][_0x240438(0x3bf)](_0x240438(0x3a5)),generateWorksheetBtn[_0x240438(0x915)]=!![];try{const _0x69cbfa=await callAnalysisApi(_0x11e255,_0x44b815);formatAndPrintWorksheet(_0x69cbfa,_0x2ceef0);}catch(_0x5a93dd){console[_0x240438(0x241)](_0x240438(0x490),_0x5a93dd);if(_0x2ceef0)_0x2ceef0[_0x240438(0x421)]();showMessage(_0x240438(0x76b));}finally{document[_0x240438(0x8c8)](_0x240438(0x1c1))[_0x240438(0x65e)][_0x240438(0x43c)](_0x240438(0x3a5)),document[_0x240438(0x8c8)]('quiz-generation-area')[_0x240438(0x65e)][_0x240438(0x43c)](_0x240438(0x3a5)),generateWorksheetBtn[_0x240438(0x915)]=![];}}async function callAnalysisApi(_0x44ffba,_0x25a483){const _0x45d9ee=_0x555faf,_0x100662={'contents':[{'role':_0x45d9ee(0x55a),'parts':[{'text':_0x44ffba}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x25a483}},_0x119785='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x51db7d=_0x45d9ee(0x2f1)+_0x119785,_0x84045b=await fetch(_0x51db7d,{'method':_0x45d9ee(0x492),'headers':{'Content-Type':_0x45d9ee(0x4b8)},'body':JSON[_0x45d9ee(0x784)](_0x100662)});if(!_0x84045b['ok'])throw new Error(_0x45d9ee(0x256)+_0x84045b[_0x45d9ee(0x1d7)]);const _0x10ae8c=await _0x84045b[_0x45d9ee(0x70d)]();if(_0x10ae8c['candidates']?.[0x0]?.[_0x45d9ee(0x1fa)]?.['parts']?.[0x0])return JSON['parse'](_0x10ae8c['candidates'][0x0]['content'][_0x45d9ee(0x298)][0x0][_0x45d9ee(0x460)]);else{let _0x28717d=_0x45d9ee(0x13f);if(_0x10ae8c[_0x45d9ee(0x86e)]?.[_0x45d9ee(0x8a0)])_0x28717d='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x10ae8c['promptFeedback'][_0x45d9ee(0x8a0)]+'.';else _0x10ae8c[_0x45d9ee(0x398)]?.[0x0]?.[_0x45d9ee(0x6d6)]&&_0x10ae8c[_0x45d9ee(0x398)][0x0]['finishReason']!==_0x45d9ee(0x3e4)&&(_0x28717d='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x10ae8c['candidates'][0x0][_0x45d9ee(0x6d6)]+'.');console[_0x45d9ee(0x241)](_0x28717d,JSON[_0x45d9ee(0x784)](_0x10ae8c));throw new Error(_0x28717d);}}async function handleStartSyncMode(_0x1611f5,_0x42ae23=![]){const _0x2ea5bd=_0x555faf,_0x25fd1c=allQuizzes[_0x2ea5bd(0x653)](_0xc0fde1=>_0xc0fde1['id']===_0x1611f5)||allQuizzesGlobal['find'](_0x23a53a=>_0x23a53a['id']===_0x1611f5);if(!_0x25fd1c){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x25fd1c);const _0xe9da36=Math[_0x2ea5bd(0xff)](0x3e8+Math['random']()*0x2328)[_0x2ea5bd(0x8be)]();try{const _0x1e9f42=await addDoc(collection(db,_0x2ea5bd(0x81a)+appId+'/public/data/syncGames'),{'quizId':_0x25fd1c['id'],'pin':_0xe9da36,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x42ae23,'players':{}});currentLiveGameId=_0x1e9f42['id'],showView(_0x2ea5bd(0x1c5)),renderSyncLobbyView(_0xe9da36,_0x25fd1c[_0x2ea5bd(0x881)]),listenForSyncGameUpdates();}catch(_0x189cef){console[_0x2ea5bd(0x241)]('Error\x20starting\x20sync\x20game:',_0x189cef),showMessage(_0x2ea5bd(0x3fc));}}function listenForSyncGameUpdates(){const _0x5923bd=_0x555faf;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2b54e4=doc(db,_0x5923bd(0x81a)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2b54e4,_0x2ef9d9=>{const _0x4bcee3=_0x5923bd;if(!_0x2ef9d9[_0x4bcee3(0x28d)]()){sessionStorage[_0x4bcee3(0x6a0)](_0x4bcee3(0x68d));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x4bcee3(0x6b1)),showView(currentMode===_0x4bcee3(0x457)?_0x4bcee3(0x211):_0x4bcee3(0x8cd));return;}const _0x77caec=_0x2ef9d9[_0x4bcee3(0x56d)]();currentMode===_0x4bcee3(0x457)?updateAdminSyncView(_0x77caec):updateStudentSyncView(_0x77caec);});}function renderSyncLobbyView(_0xacfa78,_0x29f75d){const _0xc08520=_0x555faf;liveGameView[_0xc08520(0x8d2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x29f75d+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0xacfa78+_0xc08520(0x720),document['getElementById'](_0xc08520(0x7ab))[_0xc08520(0x38a)](_0xc08520(0x49b),async()=>{const _0x4aa2cd=_0xc08520,_0x1ce59e=doc(db,_0x4aa2cd(0x81a)+appId+_0x4aa2cd(0x92c),currentLiveGameId);await updateDoc(_0x1ce59e,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});});}function updateAdminSyncView(_0x447e09){const _0x1fb4dd=_0x555faf;switch(_0x447e09['status']){case _0x1fb4dd(0x7d2):renderSyncLobbyView(_0x447e09['pin'],_0x447e09[_0x1fb4dd(0x794)][_0x1fb4dd(0x881)]);const _0x1e63ed=Object[_0x1fb4dd(0x6cf)](_0x447e09['players']||{});document[_0x1fb4dd(0x8c8)](_0x1fb4dd(0x274))[_0x1fb4dd(0x29c)]=_0x1e63ed[_0x1fb4dd(0x8c9)],document[_0x1fb4dd(0x8c8)](_0x1fb4dd(0x5cb))[_0x1fb4dd(0x8d2)]=_0x1e63ed['map'](_0x109c8f=>_0x1fb4dd(0x152)+_0x109c8f+_0x1fb4dd(0x51c))[_0x1fb4dd(0x71e)](''),document['getElementById'](_0x1fb4dd(0x7ab))[_0x1fb4dd(0x915)]=_0x1e63ed[_0x1fb4dd(0x8c9)]===0x0;break;case _0x1fb4dd(0x2f4):renderAdminSyncQuestionView(_0x447e09);break;case _0x1fb4dd(0x87f):renderAdminSyncDashboard(_0x447e09,!![]);break;case _0x1fb4dd(0x7bf):_0x447e09[_0x1fb4dd(0x531)]&&saveGameResultsAsSubmissions(_0x447e09);sessionStorage[_0x1fb4dd(0x6a0)](_0x1fb4dd(0x68d)),showPodiumView(_0x447e09['players']);break;}}function renderAdminSyncQuestionView(_0x4e99af){const _0x59593a=_0x555faf,_0x245f15=_0x4e99af[_0x59593a(0x75f)],_0x3a9fc1=_0x4e99af[_0x59593a(0x794)][_0x59593a(0x96e)][_0x245f15],_0x267727=_0x4e99af[_0x59593a(0x794)][_0x59593a(0x96e)][_0x59593a(0x8c9)],_0x49d88d=Object['values'](_0x4e99af[_0x59593a(0x79e)]||{}),_0x11b2a8=_0x49d88d[_0x59593a(0x858)](_0x3a79de=>_0x3a79de[_0x59593a(0x9ba)])[_0x59593a(0x8c9)],_0x1a36d5=_0x11b2a8===_0x49d88d[_0x59593a(0x8c9)]&&_0x49d88d[_0x59593a(0x8c9)]>0x0,_0x34e8c9=(_0x3a9fc1[_0x59593a(0x81c)]||[])[_0x59593a(0x16a)](_0x40e7ae=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x40e7ae+_0x59593a(0x3e2))[_0x59593a(0x71e)]('');liveGameView[_0x59593a(0x8d2)]=_0x59593a(0x989)+(_0x245f15+0x1)+_0x59593a(0x312)+_0x267727+_0x59593a(0x699)+_0x11b2a8+'/'+_0x49d88d['length']+_0x59593a(0x95d)+_0x3a9fc1[_0x59593a(0x8fb)]+_0x59593a(0xee)+_0x34e8c9+_0x59593a(0x63f)+(!_0x1a36d5?'disabled':'')+_0x59593a(0x2be);if(window['MathJax'])MathJax[_0x59593a(0x715)]();document[_0x59593a(0x8c8)]('show-results-btn')['addEventListener'](_0x59593a(0x49b),async()=>{const _0x2f549d=_0x59593a,_0x5be3f0=doc(db,_0x2f549d(0x81a)+appId+_0x2f549d(0x92c),currentLiveGameId);await updateDoc(_0x5be3f0,{'status':_0x2f549d(0x87f)});});const _0x52c6a8=document[_0x59593a(0x8c8)]('open-sync-scratchpad-btn');_0x52c6a8&&(_0x52c6a8[_0x59593a(0x953)]=()=>{const _0x1c5cb5=_0x59593a,_0x15c45e=_0x3a9fc1[_0x1c5cb5(0x81c)]||[];openScratchpad(_0x3a9fc1,_0x15c45e);});}function renderSyncLeaderboardView(_0xcfd7c7,_0x53b6fb){const _0x5ea40a=_0x555faf,_0x49a858=Object[_0x5ea40a(0x988)](_0xcfd7c7[_0x5ea40a(0x79e)]||{});_0x49a858[_0x5ea40a(0x55d)]((_0x3aab00,_0x280d3a)=>_0x280d3a[_0x5ea40a(0x34e)]-_0x3aab00[_0x5ea40a(0x34e)]);const _0x52539b=_0x49a858['slice'](0x0,0x5);let _0x32387e='';if(_0x53b6fb){const _0x16c368=_0xcfd7c7[_0x5ea40a(0x75f)]>=_0xcfd7c7[_0x5ea40a(0x794)][_0x5ea40a(0x96e)][_0x5ea40a(0x8c9)]-0x1;_0x32387e=_0x5ea40a(0x3f6)+(_0x16c368?'ดูผลสรุปสุดท้าย':'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x32387e=_0x5ea40a(0x27f);liveGameView[_0x5ea40a(0x8d2)]=_0x5ea40a(0x579)+_0x52539b[_0x5ea40a(0x16a)]((_0x34c1ca,_0x316f04)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x316f04+0x1)+'.\x20'+_0x34c1ca[_0x5ea40a(0x3df)]+_0x5ea40a(0x49d)+_0x34c1ca[_0x5ea40a(0x34e)]+_0x5ea40a(0x3ef))[_0x5ea40a(0x71e)]('')+_0x5ea40a(0x242)+_0x32387e+_0x5ea40a(0x4a4),_0x53b6fb&&document[_0x5ea40a(0x8c8)](_0x5ea40a(0x59f))['addEventListener']('click',async()=>{const _0x761ec1=_0x5ea40a,_0x18ab3c=doc(db,_0x761ec1(0x81a)+appId+_0x761ec1(0x92c),currentLiveGameId),_0xdf660=_0xcfd7c7[_0x761ec1(0x75f)]+0x1;if(_0xdf660<_0xcfd7c7[_0x761ec1(0x794)][_0x761ec1(0x96e)][_0x761ec1(0x8c9)]){const _0x491e06={};Object[_0x761ec1(0x6cf)](_0xcfd7c7[_0x761ec1(0x79e)])[_0x761ec1(0x8ca)](_0xaaa878=>{const _0x4a3541=_0x761ec1;_0x491e06[_0x4a3541(0x3bd)+_0xaaa878+_0x4a3541(0x8db)]=![];}),await updateDoc(_0x18ab3c,{..._0x491e06,'status':_0x761ec1(0x2f4),'currentQuestionIndex':_0xdf660,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x18ab3c,{'status':_0x761ec1(0x7bf)});});}async function handleJoinSyncGame(){const _0x439104=_0x555faf,_0x12e096=prompt(_0x439104(0x9f8));if(!_0x12e096||_0x12e096['trim']()['length']!==0x2){showMessage(_0x439104(0x215));return;}try{const _0x164d22=collection(db,_0x439104(0x81a)+appId+'/public/data/syncGames'),_0x53d56d=query(_0x164d22,where(_0x439104(0x582),'==',_0x12e096[_0x439104(0x588)]()),where(_0x439104(0x1d7),'==',_0x439104(0x7d2))),_0x211174=await getDocs(_0x53d56d);if(_0x211174[_0x439104(0x827)]){showMessage(_0x439104(0x620));return;}const _0x196d6a=_0x211174['docs'][0x0];currentLiveGameId=_0x196d6a['id'];const _0x4aa765=_0x196d6a['data'](),_0x39d575=doc(db,_0x439104(0x81a)+appId+'/public/data/quizzes',_0x4aa765[_0x439104(0x128)]),_0x50de4d=await getDoc(_0x39d575);if(!_0x50de4d['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x22e785=_0x50de4d['data'](),_0x3a563b=doc(db,_0x439104(0x81a)+appId+_0x439104(0x2fe),_0x22e785[_0x439104(0x8bf)]),_0x2b7361=await getDoc(_0x3a563b);if(!_0x2b7361[_0x439104(0x28d)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x4aa765[_0x439104(0x794)];const _0x5359a1=_0x2b7361[_0x439104(0x56d)]();showView(_0x439104(0x534)),showTeamPlayerSelection(_0x5359a1[_0x439104(0x4b6)],_0x22e785[_0x439104(0x881)]);const _0x353f69=document['getElementById'](_0x439104(0x833));_0x353f69[_0x439104(0x953)]=confirmAndJoinSyncGame;}catch(_0x203f7d){console[_0x439104(0x241)]('Error\x20joining\x20sync\x20game:',_0x203f7d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x203f7d[_0x439104(0x476)]);}}function updateStudentSyncView(_0x32fac9){const _0x3d1e9a=_0x555faf,_0x1ed5e2=_0x32fac9['players'][localTeamPlayers[0x0]];switch(_0x32fac9[_0x3d1e9a(0x1d7)]){case _0x3d1e9a(0x7d2):showView('live-game'),liveGameView[_0x3d1e9a(0x8d2)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x3d1e9a(0x2f4):const _0x162d80=localTeamPlayers[_0x3d1e9a(0x3f5)](_0x3c55ee=>_0x32fac9[_0x3d1e9a(0x79e)][_0x3c55ee]?.[_0x3d1e9a(0x9ba)]===!![]);_0x162d80?liveGameView[_0x3d1e9a(0x8d2)]=_0x3d1e9a(0x7b1):renderStudentSyncQuestionView(_0x32fac9);break;case _0x3d1e9a(0x87f):localPlayerTurnIndex=0x0,renderAdminSyncDashboard(_0x32fac9,![]);break;case _0x3d1e9a(0x7bf):sessionStorage['removeItem']('activeGameSession'),showPodiumView(_0x32fac9[_0x3d1e9a(0x79e)]);break;}}function renderStudentSyncQuestionView(_0x5effd3){const _0x608c11=_0x555faf;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x5effd3['players'][localTeamPlayers[localPlayerTurnIndex]]?.[_0x608c11(0x9ba)]===!![]){localPlayerTurnIndex++;}const _0xfe697=localTeamPlayers[localPlayerTurnIndex];if(!_0xfe697)return;const _0x35631e=_0x5effd3['currentQuestionIndex'],_0x1fcfc4=_0x5effd3[_0x608c11(0x794)][_0x608c11(0x96e)][_0x608c11(0x8c9)],_0x12ade8=_0x5effd3[_0x608c11(0x794)][_0x608c11(0x96e)][_0x35631e],_0x5eb220=(_0x12ade8['options']||[])['map']((_0x4a2ab8,_0x324373)=>_0x608c11(0x707)+_0x324373+_0x608c11(0x89b)+_0x4a2ab8+_0x608c11(0x3af))[_0x608c11(0x71e)]('');liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x35631e+0x1)+_0x608c11(0x312)+_0x1fcfc4+_0x608c11(0xe6)+_0xfe697+_0x608c11(0x169)+_0x12ade8[_0x608c11(0x8fb)]+_0x608c11(0xee)+_0x5eb220+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x608c11(0x141)])MathJax['typesetPromise']();document['querySelectorAll'](_0x608c11(0x63c))[_0x608c11(0x8ca)](_0x33d7f8=>{const _0x4bfda3=_0x608c11;_0x33d7f8['addEventListener'](_0x4bfda3(0x49b),()=>{const _0x84e4ce=_0x4bfda3,_0xa67a05=parseInt(_0x33d7f8[_0x84e4ce(0x8eb)][_0x84e4ce(0x673)]);handleSyncAnswerSubmit(_0xa67a05,_0x12ade8,_0x5effd3,_0xfe697);});});}async function handleSyncAnswerSubmit(_0x4ec88a,_0x1e7144,_0xcfa7ce,_0x1bcd06){const _0xe5f8b7=_0x555faf;document[_0xe5f8b7(0x379)](_0xe5f8b7(0x63c))[_0xe5f8b7(0x8ca)](_0x362c76=>_0x362c76[_0xe5f8b7(0x915)]=!![]);const _0x2635e0=_0x4ec88a===_0x1e7144[_0xe5f8b7(0x230)],_0x316970=_0x2635e0?0x1:0x0,_0x1871cc=doc(db,_0xe5f8b7(0x81a)+appId+_0xe5f8b7(0x92c),currentLiveGameId),_0x515e59={};_0x515e59[_0xe5f8b7(0x3bd)+_0x1bcd06+_0xe5f8b7(0x9eb)]=increment(_0x316970),_0x515e59[_0xe5f8b7(0x3bd)+_0x1bcd06+'.answered']=!![];const _0x1c1bcd={'questionIndex':_0xcfa7ce[_0xe5f8b7(0x75f)],'isCorrect':_0x2635e0};_0x515e59[_0xe5f8b7(0x3bd)+_0x1bcd06+_0xe5f8b7(0x769)]=arrayUnion(_0x1c1bcd),await updateDoc(_0x1871cc,_0x515e59);}initialize();
